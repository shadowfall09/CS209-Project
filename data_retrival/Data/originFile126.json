{"items":[{"tags":["java","windows","docker","kong"],"answers":[{"tags":[],"owner":{"account_id":1870469,"reputation":1803,"user_id":1692830,"accept_rate":75,"display_name":"donmartin"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1697192015,"creation_date":1514898629,"answer_id":48061642,"question_id":48020283,"body_markdown":"I think you&#39;re running into the classic IP/Host issue you get when you start out with Docker. The key here is that you must pay attention to making your dockerized Kong be able to reach your `localhost` **from inside the docker container**. The issue here is (most likely) that Kong (inside docker) tries to access `http://localhost:8080`. But for Kong, that&#39;s the container it is running on itself.\r\n\r\nTo do this kind of testing, you will have to find the IP address of your local machine and add that as the `upstream_url`. Depending on where your machine is, in a home network, or in a corporate network, that will be something like `10.x.y.z`, or `192.168.x.y`. The command `ifconfig` (macOS) or `ipconfig` (Windows) will help you find that address. By using this IP instead, Kong will now be able to resolve your local computer&#39;s port 8080, instead of going to its own port 8080.\r\n\r\nPlease note that this means that you need to reconfigure the API in Kong each time you change IP address of your machine. Depending on whether it&#39;s a laptop, or if you use DHCP or such, this will be more or less often.\r\n\r\n---\r\n\r\ntl;dr: The upstream URL has to be an URL which enables Kong to resolve the target **as seen from inside the Docker container**.\r\n\r\n---\r\n\r\n**Update:** Instead of manually retrieving the IP adress, you can use [`host.docker.internal` if you&#39;re using Docker Desktop](https://docs.docker.com/desktop/networking/#i-want-to-connect-from-a-container-to-a-service-on-the-host). Assuming Windows or macOS, this will just work out of the box.","title":"Dockererized Kong on windows giving &quot;An invalid response was received from the upstream server&quot;","body":"<p>I think you're running into the classic IP/Host issue you get when you start out with Docker. The key here is that you must pay attention to making your dockerized Kong be able to reach your <code>localhost</code> <strong>from inside the docker container</strong>. The issue here is (most likely) that Kong (inside docker) tries to access <code>http://localhost:8080</code>. But for Kong, that's the container it is running on itself.</p>\n<p>To do this kind of testing, you will have to find the IP address of your local machine and add that as the <code>upstream_url</code>. Depending on where your machine is, in a home network, or in a corporate network, that will be something like <code>10.x.y.z</code>, or <code>192.168.x.y</code>. The command <code>ifconfig</code> (macOS) or <code>ipconfig</code> (Windows) will help you find that address. By using this IP instead, Kong will now be able to resolve your local computer's port 8080, instead of going to its own port 8080.</p>\n<p>Please note that this means that you need to reconfigure the API in Kong each time you change IP address of your machine. Depending on whether it's a laptop, or if you use DHCP or such, this will be more or less often.</p>\n<hr />\n<p>tl;dr: The upstream URL has to be an URL which enables Kong to resolve the target <strong>as seen from inside the Docker container</strong>.</p>\n<hr />\n<p><strong>Update:</strong> Instead of manually retrieving the IP adress, you can use <a href=\"https://docs.docker.com/desktop/networking/#i-want-to-connect-from-a-container-to-a-service-on-the-host\" rel=\"nofollow noreferrer\"><code>host.docker.internal</code> if you're using Docker Desktop</a>. Assuming Windows or macOS, this will just work out of the box.</p>\n"}],"owner":{"account_id":7468894,"reputation":115,"user_id":5677475,"accept_rate":33,"display_name":"Kamal Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15607,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1697192015,"creation_date":1514539579,"question_id":48020283,"body_markdown":"Please help me as I am getting &quot;An invalid response was received from the upstream server&quot; error on getting the data from REST endpoint using Dockerized Kong.\r\n\r\nREST service that I am trying to access using Kong is running on my localhost.\r\n\r\nKong Request to add API :\r\n\r\n     curl -i -X POST \\\r\n    --url http://localhost:8001/apis/ \\\r\n    --data &#39;name=ping&#39; \\\r\n    --data &#39;upstream_url=http://localhost:8080/v1/employee/ping&#39; \\\r\n    --data &#39;hosts=localhost&#39;\r\n\r\nForward request through Kong :\r\n\r\n    curl -i -X GET \\\r\n    --url http://localhost:8000/ \\\r\n    --header &#39;Host:localhost&#39;\r\n\r\n\r\nError that I am getting on forwarding the request through Kong:\r\n\r\n    [root@c1c865250782 etc]# curl -i -X GET --url http://localhost:8000/ --\r\n    header &#39;Host:localhost&#39;\r\n    HTTP/1.1 502 Bad Gateway\r\n    Date: Fri, 29 Dec 2017 08:53:40 GMT\r\n    Content-Type: text/plain; charset=UTF-8\r\n    Transfer-Encoding: chunked\r\n    Connection: keep-alive\r\n    Server: kong/0.11.2\r\n\r\n    An invalid response was received from the upstream server\r\n\r\n\r\nPlease help me to solve this issue.\r\n\r\nThanks,\r\nKamal\r\n\r\n","title":"Dockererized Kong on windows giving &quot;An invalid response was received from the upstream server&quot;","body":"<p>Please help me as I am getting \"An invalid response was received from the upstream server\" error on getting the data from REST endpoint using Dockerized Kong.</p>\n\n<p>REST service that I am trying to access using Kong is running on my localhost.</p>\n\n<p>Kong Request to add API :</p>\n\n<pre><code> curl -i -X POST \\\n--url http://localhost:8001/apis/ \\\n--data 'name=ping' \\\n--data 'upstream_url=http://localhost:8080/v1/employee/ping' \\\n--data 'hosts=localhost'\n</code></pre>\n\n<p>Forward request through Kong :</p>\n\n<pre><code>curl -i -X GET \\\n--url http://localhost:8000/ \\\n--header 'Host:localhost'\n</code></pre>\n\n<p>Error that I am getting on forwarding the request through Kong:</p>\n\n<pre><code>[root@c1c865250782 etc]# curl -i -X GET --url http://localhost:8000/ --\nheader 'Host:localhost'\nHTTP/1.1 502 Bad Gateway\nDate: Fri, 29 Dec 2017 08:53:40 GMT\nContent-Type: text/plain; charset=UTF-8\nTransfer-Encoding: chunked\nConnection: keep-alive\nServer: kong/0.11.2\n\nAn invalid response was received from the upstream server\n</code></pre>\n\n<p>Please help me to solve this issue.</p>\n\n<p>Thanks,\nKamal</p>\n"},{"tags":["java","forgerock"],"owner":{"account_id":3533522,"reputation":2687,"user_id":2952395,"accept_rate":67,"display_name":"Subhrajyoti Das"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697191736,"creation_date":1697191736,"question_id":77286862,"body_markdown":"I have an app that sends a request to Forgerock OpenAM IDP. I can access the data sent to the server if the data is sent by a GET request. Following is the code which does that.\r\n\r\n```java\r\n@Override\r\n    public Action process(TreeContext context) throws NodeProcessException {\r\n        try {\r\n            Map&lt;String, List&lt;String&gt;&gt; parameters = context.request.parameters;\r\n            …\r\n    }\r\n```\r\n\r\nMy problem:\r\n\r\nHow do i get the data i sent via a POST request. I have tried using the HttpServletRequest object present inside context object (`context.request.servletRequest`), but i am unable to get any data. Any pointers on how to get data posted to this URL would be really helpful!\r\n\r\nI am posting data to the URL `https://myserverurl.com/openam/XUI/`","title":"How to retrieve POST request body in Forgerock openam","body":"<p>I have an app that sends a request to Forgerock OpenAM IDP. I can access the data sent to the server if the data is sent by a GET request. Following is the code which does that.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\n    public Action process(TreeContext context) throws NodeProcessException {\n        try {\n            Map&lt;String, List&lt;String&gt;&gt; parameters = context.request.parameters;\n            …\n    }\n</code></pre>\n<p>My problem:</p>\n<p>How do i get the data i sent via a POST request. I have tried using the HttpServletRequest object present inside context object (<code>context.request.servletRequest</code>), but i am unable to get any data. Any pointers on how to get data posted to this URL would be really helpful!</p>\n<p>I am posting data to the URL <code>https://myserverurl.com/openam/XUI/</code></p>\n"},{"tags":["java","activemq"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1649227970,"post_id":71761858,"comment_id":126819422,"body_markdown":"What is unclear in the error message? ActiveMQ is not compiled for java 8, but a later java version. Maybe there are other binaries available or it can be built from source for java 8?","body":"What is unclear in the error message? ActiveMQ is not compiled for java 8, but a later java version. Maybe there are other binaries available or it can be built from source for java 8?"}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1697191706,"creation_date":1649230408,"answer_id":71762737,"question_id":71761858,"body_markdown":"It states, on the [ActiveMQ home page](https://activemq.apache.org/), that ActiveMQ 5.17.0 release requires JDK 11+.\r\n\r\nYour error message indicates the class [version number](https://en.wikipedia.org/wiki/Java_class_file) of Java 11, i.e. 55.\r\n\r\nEither migrate your code to Java 11 or use ActiveMQ [5.16.4 release](https://activemq.apache.org/activemq-5016004-release) which is compatible with Java 8.\r\n\r\n#### UPDATE (13 October 2023)\r\nThere are two versions of ActiveMQ\r\n- Artemis\r\n- Classic\r\n\r\nAs stated on the download page of both [Classic][1] (version 5.18.2 at time of writing) and [Artemis][2] (2.3.1.0), both versions require minimum JDK 11. However, both download pages have links to past releases.\r\n\r\n\r\n  [1]: https://activemq.apache.org/components/classic/download/\r\n  [2]: https://activemq.apache.org/components/artemis/download/","title":"ActiveMQ New build, latest version not working with latest Java","body":"<p>It states, on the <a href=\"https://activemq.apache.org/\" rel=\"nofollow noreferrer\">ActiveMQ home page</a>, that ActiveMQ 5.17.0 release requires JDK 11+.</p>\n<p>Your error message indicates the class <a href=\"https://en.wikipedia.org/wiki/Java_class_file\" rel=\"nofollow noreferrer\">version number</a> of Java 11, i.e. 55.</p>\n<p>Either migrate your code to Java 11 or use ActiveMQ <a href=\"https://activemq.apache.org/activemq-5016004-release\" rel=\"nofollow noreferrer\">5.16.4 release</a> which is compatible with Java 8.</p>\n<h4>UPDATE (13 October 2023)</h4>\n<p>There are two versions of ActiveMQ</p>\n<ul>\n<li>Artemis</li>\n<li>Classic</li>\n</ul>\n<p>As stated on the download page of both <a href=\"https://activemq.apache.org/components/classic/download/\" rel=\"nofollow noreferrer\">Classic</a> (version 5.18.2 at time of writing) and <a href=\"https://activemq.apache.org/components/artemis/download/\" rel=\"nofollow noreferrer\">Artemis</a> (2.3.1.0), both versions require minimum JDK 11. However, both download pages have links to past releases.</p>\n"}],"owner":{"account_id":4373352,"reputation":53,"user_id":3566999,"display_name":"Simon Dreyer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7915,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":71762737,"answer_count":1,"score":1,"last_activity_date":1697191706,"creation_date":1649225823,"question_id":71761858,"body_markdown":"I am installing activemq on a new windows 2016 server. I have installed the latest version of Java &quot;1.8.0_321&quot; and the latest download of activemq &quot;5.17.0&quot;, but when I try to start activemq I get this error:\r\n```none\r\nWarning: JAVA_HOME environment variable is not set.\r\n\r\nError: A JNI error has occurred, please check your installation and try again\r\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/activemq/console/Main has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(Unknown Source)\r\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.defineClass(Unknown Source)\r\n        at java.net.URLClassLoader.access$100(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.net.URLClassLoader$1.run(Unknown Source)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n        at java.lang.ClassLoader.loadClass(Unknown Source)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\nC:\\Program Files (x86)\\apache-activemq-5.17.0\\bin&gt;\r\n```\r\n\r\nThe JAVA_HOME variable is set:\r\n[Java home variable][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/V5VY2.png\r\n\r\nWhen I run\r\n```none\r\necho %JAVA_HOME%\r\n```\r\nI get \r\n```none\r\nC:\\Program Files (x86)\\Java\\jre1.8.0_321\\bin\r\n```\r\nFrom that I would infer that it is correct?\r\n\r\nAny ideas please?","title":"ActiveMQ New build, latest version not working with latest Java","body":"<p>I am installing activemq on a new windows 2016 server. I have installed the latest version of Java &quot;1.8.0_321&quot; and the latest download of activemq &quot;5.17.0&quot;, but when I try to start activemq I get this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Warning: JAVA_HOME environment variable is not set.\n\nError: A JNI error has occurred, please check your installation and try again\nException in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: org/apache/activemq/console/Main has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n        at java.lang.ClassLoader.defineClass1(Native Method)\n        at java.lang.ClassLoader.defineClass(Unknown Source)\n        at java.security.SecureClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.defineClass(Unknown Source)\n        at java.net.URLClassLoader.access$100(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.net.URLClassLoader$1.run(Unknown Source)\n        at java.security.AccessController.doPrivileged(Native Method)\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\nC:\\Program Files (x86)\\apache-activemq-5.17.0\\bin&gt;\n</code></pre>\n<p>The JAVA_HOME variable is set:\n<a href=\"https://i.stack.imgur.com/V5VY2.png\" rel=\"nofollow noreferrer\">Java home variable</a></p>\n<p>When I run</p>\n<pre class=\"lang-none prettyprint-override\"><code>echo %JAVA_HOME%\n</code></pre>\n<p>I get</p>\n<pre class=\"lang-none prettyprint-override\"><code>C:\\Program Files (x86)\\Java\\jre1.8.0_321\\bin\n</code></pre>\n<p>From that I would infer that it is correct?</p>\n<p>Any ideas please?</p>\n"},{"tags":["java","arrays","file"],"comments":[{"owner":{"account_id":15168430,"reputation":173,"user_id":10945276,"display_name":"roediGERhard"},"score":0,"creation_date":1697123494,"post_id":77281563,"comment_id":136242964,"body_markdown":"I&#39;d suggest to do that task with basic *nix shell programs, or maybe a custom shellscript. I think it will be way faster than doing that in java. maybe this helps by doing so: https://stackoverflow.com/questions/64085303/how-to-count-values-that-match-a-certain-condition-when-another-condition-is-met","body":"I&#39;d suggest to do that task with basic *nix shell programs, or maybe a custom shellscript. I think it will be way faster than doing that in java. maybe this helps by doing so: <a href=\"https://stackoverflow.com/questions/64085303/how-to-count-values-that-match-a-certain-condition-when-another-condition-is-met\" title=\"how to count values that match a certain condition when another condition is met\">stackoverflow.com/questions/64085303/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697191593,"creation_date":1697191593,"answer_id":77286844,"question_id":77281563,"body_markdown":"Assuming you are using Java 8 or higher, read the file content into a stream using `Files.lines` map each line to the sub-user column, group by sub-user using `Function.identity()` and the counting collector. The result map should have then the desired content of sub groups mapped to their frequency. Example:\r\n\r\n    import java.io.IOException;\r\n    import java.nio.file.Files;\r\n    import java.nio.file.Path;\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Collectors;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class Example {\r\n    \r\n        public static final String delimiter = &quot;,&quot;;\r\n        public static void main (String[] args) throws IOException {\r\n    \r\n            String csvFile = &quot;/path/to/your/csv/test.csv&quot;;\r\n    \r\n            Stream&lt;String&gt; fileContent = readFile(csvFile);\r\n            Map&lt;String, Long&gt; subUserCount = groupBySubUser(fileContent);\r\n    \r\n            subUserCount.forEach((k,v) -&gt; System.out.println(k + &quot; : &quot; + v));\r\n        }\r\n    \r\n        private static Stream&lt;String&gt; readFile(String csvFile) throws IOException {\r\n            return Files.lines(Path.of(csvFile));\r\n        }\r\n    \r\n        private static Map&lt;String, Long&gt; groupBySubUser(final Stream&lt;String&gt; fileContent) {\r\n            return fileContent.skip(1) //skip header\r\n                              .map(line -&gt; line.split(delimiter)[2]) //map each line to 3rd column\r\n                              .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()));\r\n        }\r\n    }","title":"Reading a csv file to count the number of sub users based on the access method in java","body":"<p>Assuming you are using Java 8 or higher, read the file content into a stream using <code>Files.lines</code> map each line to the sub-user column, group by sub-user using <code>Function.identity()</code> and the counting collector. The result map should have then the desired content of sub groups mapped to their frequency. Example:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.util.LinkedHashMap;\nimport java.util.Map;\nimport java.util.function.Function;\nimport java.util.stream.Collectors;\nimport java.util.stream.Stream;\n\npublic class Example {\n\n    public static final String delimiter = &quot;,&quot;;\n    public static void main (String[] args) throws IOException {\n\n        String csvFile = &quot;/path/to/your/csv/test.csv&quot;;\n\n        Stream&lt;String&gt; fileContent = readFile(csvFile);\n        Map&lt;String, Long&gt; subUserCount = groupBySubUser(fileContent);\n\n        subUserCount.forEach((k,v) -&gt; System.out.println(k + &quot; : &quot; + v));\n    }\n\n    private static Stream&lt;String&gt; readFile(String csvFile) throws IOException {\n        return Files.lines(Path.of(csvFile));\n    }\n\n    private static Map&lt;String, Long&gt; groupBySubUser(final Stream&lt;String&gt; fileContent) {\n        return fileContent.skip(1) //skip header\n                          .map(line -&gt; line.split(delimiter)[2]) //map each line to 3rd column\n                          .collect(Collectors.groupingBy(Function.identity(), LinkedHashMap::new, Collectors.counting()));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16419854,"reputation":13,"user_id":11861330,"display_name":"Runtime21"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697191593,"creation_date":1697121498,"question_id":77281563,"body_markdown":"**I am currently reading a csv file with the following code:**\r\n\r\n- This is just reading a file code. \r\n- I have read the file and I am getting the file data as output. \r\n\r\n\r\n**What i want to achieve: **\r\nPlease click the link to check the sample data.\r\n**\r\n**\\[Sample Data\\]: (https://i.stack.imgur.com/iXMAo.png)****\r\n\r\n    package testing;\r\n    import java.io.*;\r\n    `public class GarExcel` {\r\n    \r\n        public static final String delimiter = &quot;,&quot;;\r\n        public static void read(String csvFile) {\r\n    \r\n            try {\r\n                File file = new File(csvFile);\r\n                FileReader fr = new FileReader(file);\r\n                BufferedReader br = new BufferedReader(fr);\r\n                String line = &quot;&quot;;\r\n                String[] tempArr;\r\n                while ((line = br.readLine()) != null) {\r\n                    // use as comma seperator\r\n                    tempArr = line.split(delimiter);\r\n                    for (String tempStr: tempArr) {\r\n    \r\n                        System.out.print(tempStr + &quot; &quot;);\r\n                    }\r\n                    System.out.println();\r\n                }\r\n                br.close();\r\n            } catch (IOException ioe) {\r\n                ioe.printStackTrace();\r\n            }\r\n        }\r\n        public static void main(String[] args) {\r\n    \r\n               String csvFile = &quot;C:/Users/John.Cena/Documents/ExcelTesting/gar-20230901.csv&quot;;\r\n               GarExcel.read(csvFile);\r\n        }\r\n    }\r\n\r\n\r\nI want to count the number of sub users based on the access method.\r\n\r\nSo for eg if you refer to the image/ image link I want the output to have the count of sub user JL and same for TW2JL. So as per the image I want the output to be:\r\n\r\n    Count of JL - 11\r\n    Count of TW2JL - 15.\r\n\r\nNow the thing is the csv file is more than 2GB and has more than 2 million records. It will have more than 200 sub users. And I want to count the number of all sub users based on the access method.\r\nI have attached a screenshot as well above with a tag sample data that will help you guys understand my question. \r\nI am new to java and your suggestions are appreciated.","title":"Reading a csv file to count the number of sub users based on the access method in java","body":"<p><strong>I am currently reading a csv file with the following code:</strong></p>\n<ul>\n<li>This is just reading a file code.</li>\n<li>I have read the file and I am getting the file data as output.</li>\n</ul>\n<p><strong>What i want to achieve: **\nPlease click the link to check the sample data.\n**\n<strong>[Sample Data]: (<a href=\"https://i.stack.imgur.com/iXMAo.png\" rel=\"nofollow noreferrer\">https://i.stack.imgur.com/iXMAo.png</a>)</strong></strong></p>\n<pre><code>package testing;\nimport java.io.*;\n`public class GarExcel` {\n\n    public static final String delimiter = &quot;,&quot;;\n    public static void read(String csvFile) {\n\n        try {\n            File file = new File(csvFile);\n            FileReader fr = new FileReader(file);\n            BufferedReader br = new BufferedReader(fr);\n            String line = &quot;&quot;;\n            String[] tempArr;\n            while ((line = br.readLine()) != null) {\n                // use as comma seperator\n                tempArr = line.split(delimiter);\n                for (String tempStr: tempArr) {\n\n                    System.out.print(tempStr + &quot; &quot;);\n                }\n                System.out.println();\n            }\n            br.close();\n        } catch (IOException ioe) {\n            ioe.printStackTrace();\n        }\n    }\n    public static void main(String[] args) {\n\n           String csvFile = &quot;C:/Users/John.Cena/Documents/ExcelTesting/gar-20230901.csv&quot;;\n           GarExcel.read(csvFile);\n    }\n}\n</code></pre>\n<p>I want to count the number of sub users based on the access method.</p>\n<p>So for eg if you refer to the image/ image link I want the output to have the count of sub user JL and same for TW2JL. So as per the image I want the output to be:</p>\n<pre><code>Count of JL - 11\nCount of TW2JL - 15.\n</code></pre>\n<p>Now the thing is the csv file is more than 2GB and has more than 2 million records. It will have more than 200 sub users. And I want to count the number of all sub users based on the access method.\nI have attached a screenshot as well above with a tag sample data that will help you guys understand my question.\nI am new to java and your suggestions are appreciated.</p>\n"},{"tags":["java","xml","spring","junit","ehcache"],"comments":[{"owner":{"account_id":2779202,"reputation":3606,"user_id":2392087,"display_name":"yxre"},"score":0,"creation_date":1428122715,"post_id":29442785,"comment_id":47053417,"body_markdown":"Do you have a cacheManager bean defined anywhere? You might be declaring the ehcache, but that is not also defining the cacheManager bean that spring is trying to find.","body":"Do you have a cacheManager bean defined anywhere? You might be declaring the ehcache, but that is not also defining the cacheManager bean that spring is trying to find."},{"owner":{"account_id":1108395,"reputation":483,"user_id":1099306,"accept_rate":86,"display_name":"prajitgandhi"},"score":0,"creation_date":1428135912,"post_id":29442785,"comment_id":47056030,"body_markdown":"check your xml file where this cacheManager is defined &amp; add it to context configuration.Problem clearly says spring was unable to find the bean.if requires you can edit your question &amp; post config xml as part of your question.","body":"check your xml file where this cacheManager is defined &amp; add it to context configuration.Problem clearly says spring was unable to find the bean.if requires you can edit your question &amp; post config xml as part of your question."},{"owner":{"account_id":5692186,"reputation":1636,"user_id":4499904,"display_name":"Paul John"},"score":0,"creation_date":1428391930,"post_id":29442785,"comment_id":47131830,"body_markdown":"did that help with the issue ?","body":"did that help with the issue ?"},{"owner":{"account_id":334953,"reputation":3321,"user_id":661740,"accept_rate":58,"display_name":"Greg Dougherty"},"score":0,"creation_date":1428394474,"post_id":29442785,"comment_id":47133092,"body_markdown":"I gave up on org.springframework.cache.ehcache.EhCacheCacheManager and switched to org.springframework.cache.support.SimpleCacheManager which solved the problem","body":"I gave up on org.springframework.cache.ehcache.EhCacheCacheManager and switched to org.springframework.cache.support.SimpleCacheManager which solved the problem"}],"answers":[{"tags":[],"owner":{"account_id":5692186,"reputation":1636,"user_id":4499904,"display_name":"Paul John"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1428122920,"creation_date":1428122920,"answer_id":29442820,"question_id":29442785,"body_markdown":"The error:\r\n\r\n     No bean named &#39;cacheManager&#39; is defined\r\n\r\nThis error is due to Spring not being able to identify this bean.\r\n\r\nIdentify the file where this bean is defined, and make sure it&#39;s available for the test context.","title":"Cannot resolve reference to bean &#39;cacheManager&#39;","body":"<p>The error:</p>\n\n<pre><code> No bean named 'cacheManager' is defined\n</code></pre>\n\n<p>This error is due to Spring not being able to identify this bean.</p>\n\n<p>Identify the file where this bean is defined, and make sure it's available for the test context.</p>\n"}],"owner":{"account_id":334953,"reputation":3321,"user_id":661740,"accept_rate":58,"display_name":"Greg Dougherty"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":11827,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697191490,"creation_date":1428122507,"question_id":29442785,"body_markdown":"Trying to run a unit test on a Controller in my Spring app.\r\n\r\nMy test class:\r\n\r\n    @RunWith (SpringJUnit4ClassRunner.class)\r\n    @WebAppConfiguration\r\n    @ContextConfiguration ({&quot;classpath*:WEB-INF/spring/application-context-config.xml&quot;, &quot;data-source-test-config.xml&quot;, \r\n    \t\t\t\t\t\t&quot;classpath*:WEB-INF/spring/security-context-config.xml&quot;})\r\n    public class PropsControllerTest \r\n\r\nThe error I&#39;m getting:\r\n\r\n    2015-04-03 23:22:51.729 WARN  AbstractApplicationContext:487 - Exception encountered during context initialization - cancelling refresh attempt\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.cache.interceptor.CacheInterceptor#0&#39;: Cannot resolve reference to bean &#39;cacheManager&#39; while setting bean property &#39;cacheManager&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named &#39;cacheManager&#39; is defined\r\n\r\nMy application-context-config.xml defines:\r\n\r\n    &lt;bean id=&quot;cacheManager&quot; class=&quot;org.springframework.cache.ehcache.EhCacheCacheManager&quot;&gt;\r\n        &lt;property name=&quot;cacheManager&quot; ref=&quot;ehcache&quot;/&gt;\r\n    &lt;/bean&gt;\r\n    &lt;bean id=&quot;ehcache&quot; class=&quot;org.springframework.cache.ehcache.EhCacheManagerFactoryBean&quot;&gt;\r\n        &lt;property name=&quot;configLocation&quot; value=&quot;classpath:ehcache.xml&quot;/&gt;\r\n        &lt;property name=&quot;shared&quot; value=&quot;true&quot;/&gt;\r\n    &lt;/bean&gt;\r\n\r\nehcache.xml Defines:\r\n\r\n    &lt;ehcache&gt;\r\n        &lt;cache name=&quot;backslap&quot;\r\n               maxBytesLocalHeap=&quot;256M&quot;\r\n               eternal=&quot;false&quot;\r\n               timeToLiveSeconds=&quot;3600&quot;\r\n               overflowToDisk=&quot;false&quot;\r\n               memoryStoreEvictionPolicy=&quot;LRU&quot;/&gt;\r\n    &lt;/ehcache&gt;\r\n\r\nI&#39;ve got copies of ehcache.xml in three places: src/main/resources/, test/main/resources/ and in the directory of my test class.  Nothing fixes this problem.\r\n\r\nHow do I make Spring find the file during testing (it has no problem finding the file when running)?  Failing that, how do I make Spring stop wanting this information (the cache is utterly worthless during my tests), or at least let me just specify it in my application-context-config.xml file?\r\n\r\nThank you for any help.","title":"Cannot resolve reference to bean &#39;cacheManager&#39;","body":"<p>Trying to run a unit test on a Controller in my Spring app.</p>\n\n<p>My test class:</p>\n\n<pre><code>@RunWith (SpringJUnit4ClassRunner.class)\n@WebAppConfiguration\n@ContextConfiguration ({\"classpath*:WEB-INF/spring/application-context-config.xml\", \"data-source-test-config.xml\", \n                        \"classpath*:WEB-INF/spring/security-context-config.xml\"})\npublic class PropsControllerTest \n</code></pre>\n\n<p>The error I'm getting:</p>\n\n<pre><code>2015-04-03 23:22:51.729 WARN  AbstractApplicationContext:487 - Exception encountered during context initialization - cancelling refresh attempt\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.cache.interceptor.CacheInterceptor#0': Cannot resolve reference to bean 'cacheManager' while setting bean property 'cacheManager'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No bean named 'cacheManager' is defined\n</code></pre>\n\n<p>My application-context-config.xml defines:</p>\n\n<pre><code>&lt;bean id=\"cacheManager\" class=\"org.springframework.cache.ehcache.EhCacheCacheManager\"&gt;\n    &lt;property name=\"cacheManager\" ref=\"ehcache\"/&gt;\n&lt;/bean&gt;\n&lt;bean id=\"ehcache\" class=\"org.springframework.cache.ehcache.EhCacheManagerFactoryBean\"&gt;\n    &lt;property name=\"configLocation\" value=\"classpath:ehcache.xml\"/&gt;\n    &lt;property name=\"shared\" value=\"true\"/&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>ehcache.xml Defines:</p>\n\n<pre><code>&lt;ehcache&gt;\n    &lt;cache name=\"backslap\"\n           maxBytesLocalHeap=\"256M\"\n           eternal=\"false\"\n           timeToLiveSeconds=\"3600\"\n           overflowToDisk=\"false\"\n           memoryStoreEvictionPolicy=\"LRU\"/&gt;\n&lt;/ehcache&gt;\n</code></pre>\n\n<p>I've got copies of ehcache.xml in three places: src/main/resources/, test/main/resources/ and in the directory of my test class.  Nothing fixes this problem.</p>\n\n<p>How do I make Spring find the file during testing (it has no problem finding the file when running)?  Failing that, how do I make Spring stop wanting this information (the cache is utterly worthless during my tests), or at least let me just specify it in my application-context-config.xml file?</p>\n\n<p>Thank you for any help.</p>\n"},{"tags":["java","c#","algorithm","search","greedy"],"answers":[{"tags":[],"owner":{"display_name":"user4386714"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422071961,"creation_date":1420716501,"answer_id":27839055,"question_id":27824393,"body_markdown":"I suggest this solution using python.\r\nTo implement the graph in your program use a simple python dictionary. Here&#39;s the code:\r\n\r\n\r\n    class Tree:\r\n    \r\n         def _init_(self,dict,heuristic):\r\n         self.tree=tree\r\n         self.heuristic=heuristic\r\n         \r\n\r\n\r\n         def getHeuristicValue(self,state)\r\n         value=self.heuristic.get(state)\r\n         return value\r\n\r\n\r\n\r\nThe constructor call is something like:  \r\n\r\n    g = Graph({&#39;A&#39;:{&#39;B&#39;:5,&#39;C&#39;:3},&#39;B&#39;:{&#39;D&#39;:6}},{&#39;A&#39;:20,&#39;B&#39;:15,&#39;C&#39;:18})\r\n\r\n\r\nThe `getHeuristic` python function pass accepts a state as an argument and returns the value of the heuristic of this state.\r\n\r\nTo learn about python&#39;s dictionary class I suggest you read [the tutorial][1]\r\n\r\nTo implement the search algorithm with python you should implement this simple pseudocode:\r\n\r\n    function Tree-Search(initialNode,goalNode) returns a solution,or failure\r\n    frontier.push(initialNode) with the value of the function heuristic(initialNode.state)+the path cost to reaxh this node\r\n    while(frontier)\r\n      node&lt;-frontier.pop()\r\n      if node.state==GoalNode.state\r\n        return node\r\n      expand node, adding the resulting nodes to the frontier\r\n    return None\r\n\r\nFor the frontier you must use a priority queue because you must pop the node with the lower value of `g(n)+h(n)` (where `g(n)` is the path cost to reach this node and `h(n)` is the value of the heuristic function).\r\n\r\n\r\nTo implement priority queue you should use a &lt;b&gt;heap &lt;/b&gt; of the standard library heapq\r\n\r\n\r\nThe node is a data structure that must contain four components:\r\n\r\n&lt;b&gt;node.state&lt;/b&gt;:the state in the state space to which the node corresponds.\r\n\r\n\r\n&lt;b&gt;node.parent&lt;/b&gt;:the node in the search tree that generated this node.\r\n\r\n\r\n&lt;b&gt;node.action&lt;/b&gt;: the action that was applied to the parent to generated the node.\r\n\r\n\r\n&lt;b&gt;node.pathCost&lt;/b&gt;: is g(n),the cost of the path from the initial state to the node.\r\n\r\n\r\nLastly, for expanding the node, you can use this python function:\r\n\r\n\r\n    def actions(self,state):\r\n        &#39;&#39;&#39;return a tuple that contain the state child of state &#39;&#39;&#39;\r\n        return tuple(self.tree.get(state))\r\n\r\nI suggest you to look [this][2] for your problem.\r\n\r\nYou can get the solution simply go back from the `node.state` that returns from the output of the algorithm while `node.parent` is not null that is your solution.\r\n\r\nI hope this is useful for your project.\r\n\r\n\r\n  [1]: http://www.tutorialspoint.com/python/python_dictionary.htm\r\n  [2]: http://aima-python.googlecode.com/svn/trunk/search.py","title":"How to implement Greedy Search algorithm","body":"<p>I suggest this solution using python.\nTo implement the graph in your program use a simple python dictionary. Here's the code:</p>\n\n<pre><code>class Tree:\n\n     def _init_(self,dict,heuristic):\n     self.tree=tree\n     self.heuristic=heuristic\n\n\n\n     def getHeuristicValue(self,state)\n     value=self.heuristic.get(state)\n     return value\n</code></pre>\n\n<p>The constructor call is something like:  </p>\n\n<pre><code>g = Graph({'A':{'B':5,'C':3},'B':{'D':6}},{'A':20,'B':15,'C':18})\n</code></pre>\n\n<p>The <code>getHeuristic</code> python function pass accepts a state as an argument and returns the value of the heuristic of this state.</p>\n\n<p>To learn about python's dictionary class I suggest you read <a href=\"http://www.tutorialspoint.com/python/python_dictionary.htm\" rel=\"nofollow\">the tutorial</a></p>\n\n<p>To implement the search algorithm with python you should implement this simple pseudocode:</p>\n\n<pre><code>function Tree-Search(initialNode,goalNode) returns a solution,or failure\nfrontier.push(initialNode) with the value of the function heuristic(initialNode.state)+the path cost to reaxh this node\nwhile(frontier)\n  node&lt;-frontier.pop()\n  if node.state==GoalNode.state\n    return node\n  expand node, adding the resulting nodes to the frontier\nreturn None\n</code></pre>\n\n<p>For the frontier you must use a priority queue because you must pop the node with the lower value of <code>g(n)+h(n)</code> (where <code>g(n)</code> is the path cost to reach this node and <code>h(n)</code> is the value of the heuristic function).</p>\n\n<p>To implement priority queue you should use a <b>heap </b> of the standard library heapq</p>\n\n<p>The node is a data structure that must contain four components:</p>\n\n<p><b>node.state</b>:the state in the state space to which the node corresponds.</p>\n\n<p><b>node.parent</b>:the node in the search tree that generated this node.</p>\n\n<p><b>node.action</b>: the action that was applied to the parent to generated the node.</p>\n\n<p><b>node.pathCost</b>: is g(n),the cost of the path from the initial state to the node.</p>\n\n<p>Lastly, for expanding the node, you can use this python function:</p>\n\n<pre><code>def actions(self,state):\n    '''return a tuple that contain the state child of state '''\n    return tuple(self.tree.get(state))\n</code></pre>\n\n<p>I suggest you to look <a href=\"http://aima-python.googlecode.com/svn/trunk/search.py\" rel=\"nofollow\">this</a> for your problem.</p>\n\n<p>You can get the solution simply go back from the <code>node.state</code> that returns from the output of the algorithm while <code>node.parent</code> is not null that is your solution.</p>\n\n<p>I hope this is useful for your project.</p>\n"}],"owner":{"account_id":5579422,"reputation":31,"user_id":4421812,"display_name":"PrincesS Ai"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8042,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":1,"score":1,"last_activity_date":1697191490,"creation_date":1420649447,"question_id":27824393,"body_markdown":"I have a project that is given on my Artificial Intelligence course. I need to implement Greedy Search algorithm for my program. Description of my project is:\r\nTwo text files called “tree.txt” and “heuristic.txt” are given. “tree.txt” will define the search tree where each line will contain a parent-child relation and a path cost between them. Each data will be seperated with a space.\r\n\r\ne.g.\t\r\n\r\nA B 5\r\n\r\nA C 3\r\n\t\r\nB D 6 \r\n\r\nThe first character in the first line will be the Start node (A in here) and the goal node will be “G”.\r\n\r\n“heuristic.txt” will define the heuristic, h(n), values. Each line will contain the heuristic value of each node. Each data will be seperated with a space.\r\n\r\ne.g.\r\n\t\r\nA 20\r\n\t\r\nB 15\r\n\t\r\nC 18\r\n\r\nOutput:\r\nThe program should give the solution path and the path cost from start node to goal.\r\n\r\nNow my problem is that i am familiar with Greedy Search theoretically, but never implemented it practically in coding. I really dont know from where to start. We are free to develop our program in any language. Mostly, i have skills in Java and C#. If anybody can give me some ideas, or help me with any similar examples or tutorials. Any kind of help will be greatly appreciated. Sorry for so much writing. Thank you in advance:)))\r\n\r\n","title":"How to implement Greedy Search algorithm","body":"<p>I have a project that is given on my Artificial Intelligence course. I need to implement Greedy Search algorithm for my program. Description of my project is:\nTwo text files called “tree.txt” and “heuristic.txt” are given. “tree.txt” will define the search tree where each line will contain a parent-child relation and a path cost between them. Each data will be seperated with a space.</p>\n\n<p>e.g.    </p>\n\n<p>A B 5</p>\n\n<p>A C 3</p>\n\n<p>B D 6 </p>\n\n<p>The first character in the first line will be the Start node (A in here) and the goal node will be “G”.</p>\n\n<p>“heuristic.txt” will define the heuristic, h(n), values. Each line will contain the heuristic value of each node. Each data will be seperated with a space.</p>\n\n<p>e.g.</p>\n\n<p>A 20</p>\n\n<p>B 15</p>\n\n<p>C 18</p>\n\n<p>Output:\nThe program should give the solution path and the path cost from start node to goal.</p>\n\n<p>Now my problem is that i am familiar with Greedy Search theoretically, but never implemented it practically in coding. I really dont know from where to start. We are free to develop our program in any language. Mostly, i have skills in Java and C#. If anybody can give me some ideas, or help me with any similar examples or tutorials. Any kind of help will be greatly appreciated. Sorry for so much writing. Thank you in advance:)))</p>\n"},{"tags":["java","struct","pack"],"comments":[{"owner":{"account_id":214558,"reputation":1256,"user_id":468603,"accept_rate":77,"display_name":"Xofo"},"score":0,"creation_date":1443739686,"post_id":3209898,"comment_id":53625018,"body_markdown":"Is there an accepted answer for this question?","body":"Is there an accepted answer for this question?"},{"owner":{"account_id":193336,"reputation":3184,"user_id":435003,"accept_rate":82,"display_name":"Marc-Christian Schulze"},"score":0,"creation_date":1473502684,"post_id":3209898,"comment_id":66174054,"body_markdown":"It&#39;s not the exact equivalent of Python&#39;s pack but maybe it helps you anyway: https://github.com/marc-christian-schulze/structs4java","body":"It&#39;s not the exact equivalent of Python&#39;s pack but maybe it helps you anyway: <a href=\"https://github.com/marc-christian-schulze/structs4java\" rel=\"nofollow noreferrer\">github.com/marc-christian-schulze/structs4java</a>"}],"answers":[{"tags":[],"owner":{"account_id":2857,"reputation":8373,"user_id":4052,"accept_rate":92,"display_name":"Georgy Bolyuba"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1278651438,"creation_date":1278651438,"answer_id":3209938,"question_id":3209898,"body_markdown":"Closest feature in core Java is [Serialization][1]. It converts object into byte sequence and back. \r\n\r\n\r\n  [1]: http://java.sun.com/developer/technicalArticles/Programming/serialization/","title":"Java equivalent of Python&#39;s struct.pack?","body":"<p>Closest feature in core Java is <a href=\"http://java.sun.com/developer/technicalArticles/Programming/serialization/\" rel=\"nofollow noreferrer\">Serialization</a>. It converts object into byte sequence and back. </p>\n"},{"tags":[],"owner":{"account_id":200183,"reputation":6610,"user_id":445901,"accept_rate":80,"display_name":"SimonC"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1278653942,"creation_date":1278653942,"answer_id":3210080,"question_id":3209898,"body_markdown":"I think what you may be after is a [ByteBuffer][1]:\r\n\r\n    ByteBuffer pump_on_buf = ...\r\n    pump_on_buf.putInt(0);\r\n    pump_on_buf.putInt(0);\r\n    pump_on_buf.putShort(21);\r\n    pump_on_buf.putShort(96);\r\n    pump_on_buf.putInt(512);\r\n    byte[] pump_on = pump_on_buf.array();\r\n\r\n\r\n  [1]: http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/nio/ByteBuffer.html","title":"Java equivalent of Python&#39;s struct.pack?","body":"<p>I think what you may be after is a <a href=\"http://download.oracle.com/docs/cd/E17409_01/javase/6/docs/api/java/nio/ByteBuffer.html\" rel=\"noreferrer\">ByteBuffer</a>:</p>\n\n<pre><code>ByteBuffer pump_on_buf = ...\npump_on_buf.putInt(0);\npump_on_buf.putInt(0);\npump_on_buf.putShort(21);\npump_on_buf.putShort(96);\npump_on_buf.putInt(512);\nbyte[] pump_on = pump_on_buf.array();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":63162,"reputation":102381,"user_id":187141,"accept_rate":82,"display_name":"yegor256"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1345730456,"creation_date":1345729374,"answer_id":12093013,"question_id":3209898,"body_markdown":"Something like this:\r\n\r\n    final ByteArrayOutputStream data = new ByteArrayOutputStream();\r\n    final DataOutputStream stream = new DataOutputStream(data);\r\n    stream.writeUTF(name);\r\n    stream.writeUTF(password);\r\n    final byte[] bytes = stream.toByteArray(); // there you go\r\n\r\nLater, you can read that data:\r\n\r\n    final DataInputStream stream = new DataInputStream(\r\n      new ByteArrayInputStream(bytes)\r\n    );\r\n    final String user = stream.readUTF();\r\n    final String password = stream.readUTF();\r\n","title":"Java equivalent of Python&#39;s struct.pack?","body":"<p>Something like this:</p>\n\n<pre><code>final ByteArrayOutputStream data = new ByteArrayOutputStream();\nfinal DataOutputStream stream = new DataOutputStream(data);\nstream.writeUTF(name);\nstream.writeUTF(password);\nfinal byte[] bytes = stream.toByteArray(); // there you go\n</code></pre>\n\n<p>Later, you can read that data:</p>\n\n<pre><code>final DataInputStream stream = new DataInputStream(\n  new ByteArrayInputStream(bytes)\n);\nfinal String user = stream.readUTF();\nfinal String password = stream.readUTF();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2015227,"reputation":833,"user_id":1802697,"display_name":"Igor Maznitsa"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1426512358,"creation_date":1404710947,"answer_id":24603560,"question_id":3209898,"body_markdown":"I started development of project which is very close to Python Struct: [java-binary-block-parser](https://github.com/raydac/java-binary-block-parser)\r\nin JBBP it will look like\r\n\r\n    JBBPOut.BeginBin().Int(0,0).Short(21,96).Int(512).End().toByteArray();\r\n\r\n","title":"Java equivalent of Python&#39;s struct.pack?","body":"<p>I started development of project which is very close to Python Struct: <a href=\"https://github.com/raydac/java-binary-block-parser\" rel=\"nofollow\">java-binary-block-parser</a>\nin JBBP it will look like</p>\n\n<pre><code>JBBPOut.BeginBin().Int(0,0).Short(21,96).Int(512).End().toByteArray();\n</code></pre>\n"}],"owner":{"account_id":164116,"reputation":249,"user_id":386678,"display_name":"thiruvadi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12772,"favorite_count":0,"down_vote_count":1,"up_vote_count":20,"answer_count":4,"score":19,"last_activity_date":1697191443,"creation_date":1278650690,"question_id":3209898,"body_markdown":"Is there any function equivalent to Python&#39;s `struct.pack` in Java that allows me to pack and unpack values like this?\r\n\r\n    pump_on = struct.pack(&quot;IIHHI&quot;, 0, 0, 21, 96, 512)","title":"Java equivalent of Python&#39;s struct.pack?","body":"<p>Is there any function equivalent to Python's <code>struct.pack</code> in Java that allows me to pack and unpack values like this?</p>\n\n<pre><code>pump_on = struct.pack(\"IIHHI\", 0, 0, 21, 96, 512)\n</code></pre>\n"},{"tags":["java","parquet","apache-arrow"],"answers":[{"tags":[],"owner":{"account_id":1617696,"reputation":2210,"user_id":1673861,"accept_rate":65,"display_name":"L. Blanc"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1663765933,"creation_date":1663765933,"answer_id":73801358,"question_id":73795678,"body_markdown":"Arrow Java does not yet support writing to Parquet files, but you can use Parquet to do that. \r\n\r\nThere is some code in the Arrow dataset test classes that may help. See \r\n```\r\norg.apache.arrow.dataset.ParquetWriteSupport;\r\norg.apache.arrow.dataset.file.TestFileSystemDataset; \r\n```\r\nThe second class has some tests that use the utilities in the first one.\r\n\r\nYou can find them on GitHub here: \r\nhttps://github.com/apache/arrow/tree/master/java/dataset/src/test/java/org/apache/arrow/dataset","title":"how to write parquet files in java with apache arrow","body":"<p>Arrow Java does not yet support writing to Parquet files, but you can use Parquet to do that.</p>\n<p>There is some code in the Arrow dataset test classes that may help. See</p>\n<pre><code>org.apache.arrow.dataset.ParquetWriteSupport;\norg.apache.arrow.dataset.file.TestFileSystemDataset; \n</code></pre>\n<p>The second class has some tests that use the utilities in the first one.</p>\n<p>You can find them on GitHub here:\n<a href=\"https://github.com/apache/arrow/tree/master/java/dataset/src/test/java/org/apache/arrow/dataset\" rel=\"nofollow noreferrer\">https://github.com/apache/arrow/tree/master/java/dataset/src/test/java/org/apache/arrow/dataset</a></p>\n"},{"tags":[],"owner":{"account_id":8206960,"reputation":23,"user_id":6176390,"display_name":"Ahmed Riza"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697191198,"creation_date":1697191198,"answer_id":77286803,"question_id":73795678,"body_markdown":"We can see that the tests in the Java Arrow implementation are using the parquet-hadoop libraries as can be seen from the [POM](https://github.com/apache/arrow/blob/main/java/dataset/pom.xml).  This is a bit unfortunate at the moment, since parquet-hadoop has dependencies on hadoop libraries such as hadoop-common which is notorious for big dependency chains (and a lot of CVEs). \r\n\r\nEven the latest version of [hadoop-common](https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-common/3.3.6) has 15 CVEs . Other language implementations of Arrow (such as C++ or Rust) do not require this and they can be used for easier Parquet integration.\r\n","title":"how to write parquet files in java with apache arrow","body":"<p>We can see that the tests in the Java Arrow implementation are using the parquet-hadoop libraries as can be seen from the <a href=\"https://github.com/apache/arrow/blob/main/java/dataset/pom.xml\" rel=\"nofollow noreferrer\">POM</a>.  This is a bit unfortunate at the moment, since parquet-hadoop has dependencies on hadoop libraries such as hadoop-common which is notorious for big dependency chains (and a lot of CVEs).</p>\n<p>Even the latest version of <a href=\"https://mvnrepository.com/artifact/org.apache.hadoop/hadoop-common/3.3.6\" rel=\"nofollow noreferrer\">hadoop-common</a> has 15 CVEs . Other language implementations of Arrow (such as C++ or Rust) do not require this and they can be used for easier Parquet integration.</p>\n"}],"owner":{"account_id":6353459,"reputation":4979,"user_id":4931657,"accept_rate":70,"display_name":"jake wong"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2343,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697191198,"creation_date":1663737488,"question_id":73795678,"body_markdown":"I am trying to write data in java into apache parquet. So far, what i&#39;ve done is use apache arrow via the examples here: https://arrow.apache.org/cookbook/java/schema.html#creating-fields and create an arrow format dataset. \r\n\r\nQuestion is, how do I write it into parquet after that? Also, do I need to use apache arrow to output the data as a parquet file? or can I use apache parquet directly to serialize the data and then output it as a parquet file? \r\n\r\nwhat i&#39;ve done:\r\n\r\n    try (BufferAllocator allocator = new RootAllocator()) {\r\n        Field name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\r\n        Field age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\r\n        Schema schemaPerson = new Schema(asList(name, age));\r\n        try(\r\n            VectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schemaPerson, allocator)\r\n        ){\r\n            VarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\r\n            nameVector.allocateNew(3);\r\n            nameVector.set(0, &quot;David&quot;.getBytes());\r\n            nameVector.set(1, &quot;Gladis&quot;.getBytes());\r\n            nameVector.set(2, &quot;Juan&quot;.getBytes());\r\n            IntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\r\n            ageVector.allocateNew(3);\r\n            ageVector.set(0, 10);\r\n            ageVector.set(1, 20);\r\n            ageVector.set(2, 30);\r\n            vectorSchemaRoot.setRowCount(3);\r\n            File file = new File(&quot;randon_access_to_file.arrow&quot;);\r\n            try (\r\n                FileOutputStream fileOutputStream = new FileOutputStream(file);\r\n                ArrowFileWriter writer = new ArrowFileWriter(vectorSchemaRoot, null, fileOutputStream.getChannel())\r\n            ) {\r\n                writer.start();\r\n                writer.writeBatch();\r\n                writer.end();\r\n                System.out.println(&quot;Record batches written: &quot; + writer.getRecordBlocks().size() + &quot;. Number of rows written: &quot; + vectorSchemaRoot.getRowCount());\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nbut this outputs as an arrow file. not a parquet. Any ideas how I can output this to parquet file instead? And do i need arrow to generate a parquet file to begin with - or can i just use parquet directly? ","title":"how to write parquet files in java with apache arrow","body":"<p>I am trying to write data in java into apache parquet. So far, what i've done is use apache arrow via the examples here: <a href=\"https://arrow.apache.org/cookbook/java/schema.html#creating-fields\" rel=\"nofollow noreferrer\">https://arrow.apache.org/cookbook/java/schema.html#creating-fields</a> and create an arrow format dataset.</p>\n<p>Question is, how do I write it into parquet after that? Also, do I need to use apache arrow to output the data as a parquet file? or can I use apache parquet directly to serialize the data and then output it as a parquet file?</p>\n<p>what i've done:</p>\n<pre><code>try (BufferAllocator allocator = new RootAllocator()) {\n    Field name = new Field(&quot;name&quot;, FieldType.nullable(new ArrowType.Utf8()), null);\n    Field age = new Field(&quot;age&quot;, FieldType.nullable(new ArrowType.Int(32, true)), null);\n    Schema schemaPerson = new Schema(asList(name, age));\n    try(\n        VectorSchemaRoot vectorSchemaRoot = VectorSchemaRoot.create(schemaPerson, allocator)\n    ){\n        VarCharVector nameVector = (VarCharVector) vectorSchemaRoot.getVector(&quot;name&quot;);\n        nameVector.allocateNew(3);\n        nameVector.set(0, &quot;David&quot;.getBytes());\n        nameVector.set(1, &quot;Gladis&quot;.getBytes());\n        nameVector.set(2, &quot;Juan&quot;.getBytes());\n        IntVector ageVector = (IntVector) vectorSchemaRoot.getVector(&quot;age&quot;);\n        ageVector.allocateNew(3);\n        ageVector.set(0, 10);\n        ageVector.set(1, 20);\n        ageVector.set(2, 30);\n        vectorSchemaRoot.setRowCount(3);\n        File file = new File(&quot;randon_access_to_file.arrow&quot;);\n        try (\n            FileOutputStream fileOutputStream = new FileOutputStream(file);\n            ArrowFileWriter writer = new ArrowFileWriter(vectorSchemaRoot, null, fileOutputStream.getChannel())\n        ) {\n            writer.start();\n            writer.writeBatch();\n            writer.end();\n            System.out.println(&quot;Record batches written: &quot; + writer.getRecordBlocks().size() + &quot;. Number of rows written: &quot; + vectorSchemaRoot.getRowCount());\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n<p>but this outputs as an arrow file. not a parquet. Any ideas how I can output this to parquet file instead? And do i need arrow to generate a parquet file to begin with - or can i just use parquet directly?</p>\n"},{"tags":["java","eclipse","command-line","rcp","xtend"],"comments":[{"owner":{"account_id":482558,"reputation":29183,"user_id":897024,"accept_rate":100,"display_name":"kapex"},"score":0,"creation_date":1697305136,"post_id":77286312,"comment_id":136264381,"body_markdown":"Maybe this is related: https://github.com/eclipse/xtext-xtend/issues/576 - As mentioned in the second comment of that issue, it could mean that the method&#39;s return type could not be found, e.g. if the method returns a type from a third-party library that is not in the classpath","body":"Maybe this is related: <a href=\"https://github.com/eclipse/xtext-xtend/issues/576\" rel=\"nofollow noreferrer\">github.com/eclipse/xtext-xtend/issues/576</a> - As mentioned in the second comment of that issue, it could mean that the method&#39;s return type could not be found, e.g. if the method returns a type from a third-party library that is not in the classpath"}],"owner":{"account_id":25294707,"reputation":11,"user_id":19120062,"display_name":"SiYuan Zhang"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697190947,"creation_date":1697186539,"question_id":77286312,"body_markdown":"Why is there no problem compiling xtend code using eclipse? Compiling from the command line will result in an error？\r\n```none\r\njava -cp .\\lib\\* org.eclipse.xtend.core.compiler.batch.Main -d .\\bin -useCurrentClassLoader -encoding UTF-8 .\\ara-configruator\\com.ap.diag .\\ara-configurator\\com.ap.module .\\ara-configurator\\com.ap.service\r\n```\r\n\r\n&gt;0 [main] ERROR org.eclipse.xtend.core.compiler.batch.XtendBatchCompiler -\r\nError: X_Typed_Data_Identifier_h.xtend - D:\\AP_git\\antTest\\ara-configurator\\com.ap.diag\\src\\com\\ap\\generator_V2\\X_Typed_Data_Identifier_h.xtend\r\n101: The method getDiagReadDidList() from the type InforOfArxml refers to the missing type Object\r\n\r\nConfirmed the existence of the method in `InforOfArxml`, but still reported an error.\r\n","title":"Command line compilation Xtend file has Error The method from the type refers missing object","body":"<p>Why is there no problem compiling xtend code using eclipse? Compiling from the command line will result in an error？</p>\n<pre class=\"lang-none prettyprint-override\"><code>java -cp .\\lib\\* org.eclipse.xtend.core.compiler.batch.Main -d .\\bin -useCurrentClassLoader -encoding UTF-8 .\\ara-configruator\\com.ap.diag .\\ara-configurator\\com.ap.module .\\ara-configurator\\com.ap.service\n</code></pre>\n<blockquote>\n<p>0 [main] ERROR org.eclipse.xtend.core.compiler.batch.XtendBatchCompiler -\nError: X_Typed_Data_Identifier_h.xtend - D:\\AP_git\\antTest\\ara-configurator\\com.ap.diag\\src\\com\\ap\\generator_V2\\X_Typed_Data_Identifier_h.xtend\n101: The method getDiagReadDidList() from the type InforOfArxml refers to the missing type Object</p>\n</blockquote>\n<p>Confirmed the existence of the method in <code>InforOfArxml</code>, but still reported an error.</p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":18001447,"reputation":1766,"user_id":13083321,"display_name":"soulflavacrew"},"down_vote_count":0,"up_vote_count":174,"is_accepted":true,"score":174,"last_activity_date":1653347296,"creation_date":1653347296,"answer_id":72355635,"question_id":72335789,"body_markdown":"Find and exchange all `&#39;` symbols in your `strings.xml` or somewhere else in your code with `\\&#39;`","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Find and exchange all <code>'</code> symbols in your <code>strings.xml</code> or somewhere else in your code with <code>\\'</code></p>\n"},{"tags":[],"owner":{"account_id":25394555,"reputation":1,"user_id":19205017,"display_name":"Uriya Orr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653554562,"creation_date":1653554562,"answer_id":72389097,"question_id":72335789,"body_markdown":"Check the path:\r\n//app&gt;src&gt;main&gt;res&gt;values  for unused xmls\r\n\r\nGood luck","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Check the path:\n//app&gt;src&gt;main&gt;res&gt;values  for unused xmls</p>\n<p>Good luck</p>\n"},{"tags":[],"owner":{"account_id":25521882,"reputation":291,"user_id":19311591,"display_name":"user19311591"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1654839091,"creation_date":1654839091,"answer_id":72569480,"question_id":72335789,"body_markdown":"I had this same issue when I had this declared\r\n\r\n&lt;color name=&quot;color_gray&quot;&gt;E0E0E0&lt;/color&gt;\r\ninstead of this\r\n&lt;color name=&quot;color_gray&quot;&gt;#E0E0E0&lt;/color&gt;\r\n\r\nAfter placing the missing # symbol in the code the code then compiled and run.\r\n","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had this same issue when I had this declared</p>\n<p>E0E0E0\ninstead of this\n#E0E0E0</p>\n<p>After placing the missing # symbol in the code the code then compiled and run.</p>\n"},{"tags":[],"owner":{"account_id":25444187,"reputation":51,"user_id":19246600,"display_name":"Luca"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1655473931,"creation_date":1655473931,"answer_id":72660481,"question_id":72335789,"body_markdown":"I had a wrong file in the &quot;//app&gt;src&gt;main&gt;res&gt;values&quot; dir of the project (for me was  file I generated for error &quot;ids.xml&quot;).\r\nI deleted it and now the build is succesfull\r\n\r\nYou can see the problem is in this &quot;Values&quot; dir becouse of this line you posted \r\n\r\n\r\n&gt;  (Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml...\r\n","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had a wrong file in the &quot;//app&gt;src&gt;main&gt;res&gt;values&quot; dir of the project (for me was  file I generated for error &quot;ids.xml&quot;).\nI deleted it and now the build is succesfull</p>\n<p>You can see the problem is in this &quot;Values&quot; dir becouse of this line you posted</p>\n<blockquote>\n<p>(Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml...</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":5098102,"reputation":368,"user_id":5266667,"display_name":"falero80s"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656117659,"creation_date":1656117659,"answer_id":72750549,"question_id":72335789,"body_markdown":"Here is my case on this.\r\nI was experimenting with &#39;`androidx.swiperefreshlayout.widget.SwipeRefreshLayout`&#39;\r\nand added it in my layout that contains a recycler view within it. It started to show similar error as yours.\r\n\r\nThe problem seemed to be with the &quot;@+id/someid&quot;. Strangely no id was being allowed to be set into the SwipeRefreshLayout. Checked the enclosing brackets multiple time. Rearranged stuff around here and there. Nothing happened.\r\n\r\nBut as soon as I removed that SwipeRefreshLayout and replaced the recycler view outside as before. The problem gone.\r\n\r\nOfficial android docs do say that SwipeRefreshLayout requires ListView or GridView as its child. May be this is why it was happening.\r\n\r\nThat was my case. Try to undo any recent changes that you did in any of the xml files and see if it fixes.\r\n\r\nOr may be I was doing something wrong!?\r\ni apologize if I couldn&#39;t be of much/any help.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Here is my case on this.\nI was experimenting with '<code>androidx.swiperefreshlayout.widget.SwipeRefreshLayout</code>'\nand added it in my layout that contains a recycler view within it. It started to show similar error as yours.</p>\n<p>The problem seemed to be with the &quot;@+id/someid&quot;. Strangely no id was being allowed to be set into the SwipeRefreshLayout. Checked the enclosing brackets multiple time. Rearranged stuff around here and there. Nothing happened.</p>\n<p>But as soon as I removed that SwipeRefreshLayout and replaced the recycler view outside as before. The problem gone.</p>\n<p>Official android docs do say that SwipeRefreshLayout requires ListView or GridView as its child. May be this is why it was happening.</p>\n<p>That was my case. Try to undo any recent changes that you did in any of the xml files and see if it fixes.</p>\n<p>Or may be I was doing something wrong!?\ni apologize if I couldn't be of much/any help.</p>\n"},{"tags":[],"owner":{"account_id":9332107,"reputation":374,"user_id":6927551,"display_name":"fazal ur Rehman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1658090567,"creation_date":1658090567,"answer_id":73015222,"question_id":72335789,"body_markdown":" In my case in dimens.xml I put 8p instead of 8dp. Replacing 8p with 8dp solved my problem","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>In my case in dimens.xml I put 8p instead of 8dp. Replacing 8p with 8dp solved my problem</p>\n"},{"tags":[],"owner":{"account_id":25971598,"reputation":21,"user_id":19686689,"display_name":"Blessing Andrew Okoro"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1659564948,"creation_date":1659564807,"answer_id":73228351,"question_id":72335789,"body_markdown":"I used an exclamation mark (!) in my strings.xml file. Just resolved it by adding a backslash before the exclamation mark","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I used an exclamation mark (!) in my strings.xml file. Just resolved it by adding a backslash before the exclamation mark</p>\n"},{"tags":[],"owner":{"account_id":14088993,"reputation":1722,"user_id":10177977,"display_name":"Hmerman6006"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1664713275,"creation_date":1664713275,"answer_id":73925768,"question_id":72335789,"body_markdown":"In my case I had the error recurring on build:  `Can&#39;t determine type for tag &#39;&lt;macro name=&quot;m3_comp_switch_disabled_selected_handle_color&quot;&gt;?attr/colorSurface&lt;/macro&gt;&#39;`.&lt;br&gt;\r\nI noticed that I had declared duplicate `tag` names in the `theme` file.  After removing the tags I still had the error but stating more generally in `values.xml`.  I deleted the `theme` directories and all was well.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>In my case I had the error recurring on build:  <code>Can't determine type for tag '&lt;macro name=&quot;m3_comp_switch_disabled_selected_handle_color&quot;&gt;?attr/colorSurface&lt;/macro&gt;'</code>.<br>\nI noticed that I had declared duplicate <code>tag</code> names in the <code>theme</code> file.  After removing the tags I still had the error but stating more generally in <code>values.xml</code>.  I deleted the <code>theme</code> directories and all was well.</p>\n"},{"tags":[],"owner":{"account_id":25016664,"reputation":11,"user_id":18875716,"display_name":"Max B&#252;rkner"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1665666256,"creation_date":1665666256,"answer_id":74056271,"question_id":72335789,"body_markdown":"For me it was that i accidentally used **7 instead of 6 numbers** in colors.xml:\r\n    &lt;color name=&quot;secondaryLightColor&quot;&gt;#fe362bc&lt;/color&gt;\r\n instead of the correct\r\n    &lt;color name=&quot;secondaryLightColor&quot;&gt;#f362bc&lt;/color&gt;\r\nI advice you to use git so that you can jump back in the commits in these cases\r\nThats at least how i found mine\r\n","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>For me it was that i accidentally used <strong>7 instead of 6 numbers</strong> in colors.xml:\n#fe362bc\ninstead of the correct\n#f362bc\nI advice you to use git so that you can jump back in the commits in these cases\nThats at least how i found mine</p>\n"},{"tags":[],"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"down_vote_count":1,"up_vote_count":43,"is_accepted":false,"score":42,"last_activity_date":1697190881,"creation_date":1666258998,"answer_id":74137725,"question_id":72335789,"body_markdown":"There may be many reasons why you get this error. All of them involve problems with some XML file in your values folder. Unfortunatly, although you can open any XML file and validate it (tools &gt; XML Actions &gt; Validate), some problems are not checked.\r\n\r\n\r\nBut if you try to run the task `gradle :app:mergeDebugResources`, it will output the error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n&lt;br&gt;\r\n\r\nSince there are plenty of reasons, here&#39;s a list of some commom problems:\r\n\r\n**1 - Mispelled color:**\r\n\r\nReplace  **`#EAF5FFC`** =&gt; **`#EAF5FF`**\r\n\r\nIn my case, **`C`** was added by mistake. After removing the unused **`C`**, it worked, but it could be one or more char less or more.\r\n\r\nYou should avoid adding unused characters.\r\n\r\n&lt;br&gt;\r\n\r\n**2 - Forgot to scape apostrophe:**\r\n\r\nFind and replace **`&#39;`** symbols with **`\\&#39;`** in `strings.xml` or other XML files.\r\n\r\nExample: **&quot;`dog&#39;s leg was broken`&quot;** =&gt; **&quot;`dog\\&#39;s leg was broken`&quot;**\r\n\r\n&lt;br&gt;\r\n\r\n**3 - Forgot to add the hex sign on a color:**\r\n\r\nReplace  **`EAF5FF`** =&gt; **`#EAF5FF`**\r\n\r\nIn my case, I forgot to add the **`#`** symbol. After adding the **`#`**, it worked. It happens a lot when you copy and past hex colors.\r\n\r\n&lt;br&gt;\r\n\r\n**4 - More than one hex sign on a color:**\r\n\r\nReplace  **`##EAF5FF`** =&gt; **`#EAF5FF`**\r\nOR\r\nReplace  **`###EAF5FF`** =&gt; **`#EAF5FF`**\r\n\r\nIn my case, I added the **`#`** symbol more than once i.e. **`##`** or **`###`**. After searching and removing the additional **`#`**, it worked. It happens a lot when you copy and past hex colors.\r\n\r\n&lt;br&gt;\r\n\r\n**5 - Forgot to add a unit of measurement or spelled it wrong:**\r\n\r\nReplace  **`10p`** =&gt; **`10dp`**\r\n\r\nIn my case, In `dimens.xml`, I forgot to add the **`d`**. After adding the **`d`**, it worked. I can also be an sp for texts, for example.\r\n\r\n&lt;br&gt;\r\n\r\n**6 - Forgot to scape exclamation mark:**\r\n\r\nFind and replace **`!`** symbols with **`\\!`** in `strings.xml` or other XML files.\r\n\r\nExample: **&quot;`wow! It is a heavy rain`&quot;** =&gt; **&quot;`wow\\! It is a heavy rain`&quot;**\r\n\r\n&lt;br&gt;\r\n\r\n**7 - Duplicate theme name:**\r\n\r\nIn **`styles.xml`**, Check for the duplicate theme name. Do the same for the **`styles.xml (dark)`**.\r\n\r\n&lt;br&gt;\r\n\r\n**8 - Forgot to add a dark theme:**\r\n\r\nIn your **`themes`** folder, Check if you have one for Dark Theme as well.\r\n\r\n\r\n&lt;br&gt;\r\n\r\n**9 - Add extra &gt; when closing a tag:**\r\n\r\nIn my case, on my **`colors.xml`** file, this was my mistake: \r\n\r\n**`&lt;color name=&quot;colorPrimary&quot;&gt;&gt;#D2070E&lt;/color&gt;`**. After removing the extra **&gt;**, everything worked.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/35Piu.png","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>There may be many reasons why you get this error. All of them involve problems with some XML file in your values folder. Unfortunatly, although you can open any XML file and validate it (tools &gt; XML Actions &gt; Validate), some problems are not checked.</p>\n<p>But if you try to run the task <code>gradle :app:mergeDebugResources</code>, it will output the error:</p>\n<p><a href=\"https://i.stack.imgur.com/35Piu.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/35Piu.png\" alt=\"enter image description here\" /></a></p>\n<br>\n<p>Since there are plenty of reasons, here's a list of some commom problems:</p>\n<p><strong>1 - Mispelled color:</strong></p>\n<p>Replace  <strong><code>#EAF5FFC</code></strong> =&gt; <strong><code>#EAF5FF</code></strong></p>\n<p>In my case, <strong><code>C</code></strong> was added by mistake. After removing the unused <strong><code>C</code></strong>, it worked, but it could be one or more char less or more.</p>\n<p>You should avoid adding unused characters.</p>\n<br>\n<p><strong>2 - Forgot to scape apostrophe:</strong></p>\n<p>Find and replace <strong><code>'</code></strong> symbols with <strong><code>\\'</code></strong> in <code>strings.xml</code> or other XML files.</p>\n<p>Example: <strong>&quot;<code>dog's leg was broken</code>&quot;</strong> =&gt; <strong>&quot;<code>dog\\'s leg was broken</code>&quot;</strong></p>\n<br>\n<p><strong>3 - Forgot to add the hex sign on a color:</strong></p>\n<p>Replace  <strong><code>EAF5FF</code></strong> =&gt; <strong><code>#EAF5FF</code></strong></p>\n<p>In my case, I forgot to add the <strong><code>#</code></strong> symbol. After adding the <strong><code>#</code></strong>, it worked. It happens a lot when you copy and past hex colors.</p>\n<br>\n<p><strong>4 - More than one hex sign on a color:</strong></p>\n<p>Replace  <strong><code>##EAF5FF</code></strong> =&gt; <strong><code>#EAF5FF</code></strong>\nOR\nReplace  <strong><code>###EAF5FF</code></strong> =&gt; <strong><code>#EAF5FF</code></strong></p>\n<p>In my case, I added the <strong><code>#</code></strong> symbol more than once i.e. <strong><code>##</code></strong> or <strong><code>###</code></strong>. After searching and removing the additional <strong><code>#</code></strong>, it worked. It happens a lot when you copy and past hex colors.</p>\n<br>\n<p><strong>5 - Forgot to add a unit of measurement or spelled it wrong:</strong></p>\n<p>Replace  <strong><code>10p</code></strong> =&gt; <strong><code>10dp</code></strong></p>\n<p>In my case, In <code>dimens.xml</code>, I forgot to add the <strong><code>d</code></strong>. After adding the <strong><code>d</code></strong>, it worked. I can also be an sp for texts, for example.</p>\n<br>\n<p><strong>6 - Forgot to scape exclamation mark:</strong></p>\n<p>Find and replace <strong><code>!</code></strong> symbols with <strong><code>\\!</code></strong> in <code>strings.xml</code> or other XML files.</p>\n<p>Example: <strong>&quot;<code>wow! It is a heavy rain</code>&quot;</strong> =&gt; <strong>&quot;<code>wow\\! It is a heavy rain</code>&quot;</strong></p>\n<br>\n<p><strong>7 - Duplicate theme name:</strong></p>\n<p>In <strong><code>styles.xml</code></strong>, Check for the duplicate theme name. Do the same for the <strong><code>styles.xml (dark)</code></strong>.</p>\n<br>\n<p><strong>8 - Forgot to add a dark theme:</strong></p>\n<p>In your <strong><code>themes</code></strong> folder, Check if you have one for Dark Theme as well.</p>\n<br>\n<p><strong>9 - Add extra &gt; when closing a tag:</strong></p>\n<p>In my case, on my <strong><code>colors.xml</code></strong> file, this was my mistake:</p>\n<p><strong><code>&lt;color name=&quot;colorPrimary&quot;&gt;&gt;#D2070E&lt;/color&gt;</code></strong>. After removing the extra <strong>&gt;</strong>, everything worked.</p>\n"},{"tags":[],"owner":{"account_id":26534710,"reputation":1,"user_id":20166418,"display_name":"i_code"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667123243,"creation_date":1667123243,"answer_id":74252002,"question_id":72335789,"body_markdown":"My solution was to check my colors.xml file and see if made any declaration mistakes like forgetting to put the &#39;#&#39;symbol before the hex code","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>My solution was to check my colors.xml file and see if made any declaration mistakes like forgetting to put the '#'symbol before the hex code</p>\n"},{"tags":[],"owner":{"account_id":17117814,"reputation":31,"user_id":12386891,"display_name":"Fahad Hassan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1671381058,"creation_date":1671380837,"answer_id":74842887,"question_id":72335789,"body_markdown":"I had this issue when I used **&#39;** instead of **\\\\&#39;** in the **strings.xml** file.\r\nFor example, I used the string **Don&#39;t** go there instead of **Don\\\\&#39;t** go there.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had this issue when I used <strong>'</strong> instead of <strong>\\'</strong> in the <strong>strings.xml</strong> file.\nFor example, I used the string <strong>Don't</strong> go there instead of <strong>Don\\'t</strong> go there.</p>\n"},{"tags":[],"owner":{"account_id":6312982,"reputation":41,"user_id":4903943,"display_name":"Ali Can"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673407723,"creation_date":1673407723,"answer_id":75078084,"question_id":72335789,"body_markdown":"This error reason that is invalid value decleration of resources files. It can be colors, strings etc. If you check all of the files you can fix the error. ","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>This error reason that is invalid value decleration of resources files. It can be colors, strings etc. If you check all of the files you can fix the error.</p>\n"},{"tags":[],"owner":{"account_id":24933302,"reputation":1,"user_id":18800156,"display_name":"Ajay Vamsee Kukkala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676201171,"creation_date":1675869458,"answer_id":75387881,"question_id":72335789,"body_markdown":"Go the `theme.xml` file and check any style tag is declared inside the existing style tag:\r\n\r\n***res/values/themes.xml***\r\n\r\nThis issue created for example:\r\n\r\n```xml\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.XXXXXXXX&quot;&gt;\r\n\r\n        &lt;style name=&quot;xxxxxxx&quot;&gt;\r\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/black&lt;/item&gt;\r\n        &lt;/style&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nCorrected:\r\n\r\n```xml\r\n&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n    &lt;!-- Base application theme. --&gt;\r\n    &lt;style name=&quot;Theme.XXXXXXXX&quot;&gt;\r\n\r\n    &lt;/style&gt;\r\n\r\n    &lt;style name=&quot;xxxxxxx&quot;&gt;\r\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/black&lt;/item&gt;\r\n    &lt;/style&gt;\r\n&lt;/resources&gt;\r\n```\r\n\r\nIf another style - declare it separately.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Go the <code>theme.xml</code> file and check any style tag is declared inside the existing style tag:</p>\n<p><em><strong>res/values/themes.xml</strong></em></p>\n<p>This issue created for example:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.XXXXXXXX&quot;&gt;\n\n        &lt;style name=&quot;xxxxxxx&quot;&gt;\n            &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/black&lt;/item&gt;\n        &lt;/style&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>Corrected:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;resources xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n    &lt;!-- Base application theme. --&gt;\n    &lt;style name=&quot;Theme.XXXXXXXX&quot;&gt;\n\n    &lt;/style&gt;\n\n    &lt;style name=&quot;xxxxxxx&quot;&gt;\n        &lt;item name=&quot;colorPrimaryDark&quot;&gt;@color/black&lt;/item&gt;\n    &lt;/style&gt;\n&lt;/resources&gt;\n</code></pre>\n<p>If another style - declare it separately.</p>\n"},{"tags":[],"owner":{"account_id":414133,"reputation":53,"user_id":3307756,"display_name":"votopec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678621177,"creation_date":1678621177,"answer_id":75712863,"question_id":72335789,"body_markdown":"I had some bad dimension in my dimen.xml and by deleting it it was fixed","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had some bad dimension in my dimen.xml and by deleting it it was fixed</p>\n"},{"tags":[],"owner":{"account_id":6794470,"reputation":31,"user_id":5230342,"display_name":"Mando Basha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678743212,"creation_date":1678743212,"answer_id":75727088,"question_id":72335789,"body_markdown":"This error always happens because of **wrong change in xml file**, Check the last file you modified before the error occurred you will find the error","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>This error always happens because of <strong>wrong change in xml file</strong>, Check the last file you modified before the error occurred you will find the error</p>\n"},{"tags":[],"owner":{"account_id":28164645,"reputation":1,"user_id":21523995,"display_name":"Punjab singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1680153491,"creation_date":1680153491,"answer_id":75884362,"question_id":72335789,"body_markdown":"Can not extract resource from com.android.aaptcompiler.ParsedResource@3fee16eb this error is shown after gradle....... \r\nFor correction u need to delete &quot;ids.xml&quot; after deleting this xml u app work properly\r\n\r\n\r\nnote:- This ids.xml file is found in values folder","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Can not extract resource from com.android.aaptcompiler.ParsedResource@3fee16eb this error is shown after gradle.......\nFor correction u need to delete &quot;ids.xml&quot; after deleting this xml u app work properly</p>\n<p>note:- This ids.xml file is found in values folder</p>\n"},{"tags":[],"owner":{"account_id":14188492,"reputation":1,"user_id":10249841,"display_name":"rafael.lsdeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684165516,"creation_date":1684165516,"answer_id":76255794,"question_id":72335789,"body_markdown":"I had this problem using ##000000 instead of #000000 in colors file.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had this problem using ##000000 instead of #000000 in colors file.</p>\n"},{"tags":[],"owner":{"account_id":15042567,"reputation":1,"user_id":10856673,"display_name":"Junaid Nawab"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684838971,"creation_date":1684785375,"answer_id":76309488,"question_id":72335789,"body_markdown":"I had the wrong file in the `//app&gt;src&gt;main&gt;res&gt;values` dir of the project. For me was the file I generated for the error `ids.xml`, by deleting `ids.xml` the error was gone and the app built successfully.","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I had the wrong file in the <code>//app&gt;src&gt;main&gt;res&gt;values</code> dir of the project. For me was the file I generated for the error <code>ids.xml</code>, by deleting <code>ids.xml</code> the error was gone and the app built successfully.</p>\n"},{"tags":[],"owner":{"account_id":6205573,"reputation":18140,"user_id":4833705,"accept_rate":86,"display_name":"Lance Samaria"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1687647874,"creation_date":1686901383,"answer_id":76487983,"question_id":72335789,"body_markdown":"I found the answer explained very clearly in this [youtube video][1]\r\n\r\n1. when you get the error, at the bottom of Android Studio click the `Build` tab (assuming it&#39;s not already open). Once the `Build` tab opens, in the left pane **click** `:app:mergeDebugResources` (green arrow in pic). **Look closely and it says `1 error` next to the green arrow.**\r\n\r\n[![enter image description here][2]][2]\r\n\r\n2. After you click `:app:mergeDebugResources`, then in the right pane, scroll to the top and you are going to see a blue link with a red error message next to it (underlined in green in pic). The red error message describes what&#39;s causing the issue. For me the issue was **Invalid &gt;color&lt; for given resource value.** Click the blue link and it&#39;ll take you to the file that contains the issue. For me the file was `res/values/colors` \r\n\r\n[![enter image description here][3]][3]\r\n\r\nWhen I clicked the blue link, it took me to the `colors` resource file. I had to **find the issue on my own** (it doesn&#39;t tell you which line(s) the problem is at). The problem  was I added a color in quotes **&quot;#ff0000&quot;** (2 green arrows in below pic) when it should&#39;ve been without quotes **#ff0000**.\r\n\r\n[![enter image description here][4]][4]\r\n\r\nOnce I removed the quotes everything worked fine.\r\n\r\n**Important.** I only had 1 error, if you have more than 1 error (you&#39;ll see them like in pic #1 above), there are going to be blue links for each one. You&#39;re going to have to **click each individual blue link** to take you to the file and find each error separately.\r\n\r\n\r\n  [1]: https://www.youtube.com/watch?v=2olIEg8w7IM\r\n  [2]: https://i.stack.imgur.com/10ZJV.png\r\n  [3]: https://i.stack.imgur.com/o4XoI.png\r\n  [4]: https://i.stack.imgur.com/ayLI5.png","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I found the answer explained very clearly in this <a href=\"https://www.youtube.com/watch?v=2olIEg8w7IM\" rel=\"nofollow noreferrer\">youtube video</a></p>\n<ol>\n<li>when you get the error, at the bottom of Android Studio click the <code>Build</code> tab (assuming it's not already open). Once the <code>Build</code> tab opens, in the left pane <strong>click</strong> <code>:app:mergeDebugResources</code> (green arrow in pic). <strong>Look closely and it says <code>1 error</code> next to the green arrow.</strong></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/10ZJV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/10ZJV.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>After you click <code>:app:mergeDebugResources</code>, then in the right pane, scroll to the top and you are going to see a blue link with a red error message next to it (underlined in green in pic). The red error message describes what's causing the issue. For me the issue was <strong>Invalid &gt;color&lt; for given resource value.</strong> Click the blue link and it'll take you to the file that contains the issue. For me the file was <code>res/values/colors</code></li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/o4XoI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/o4XoI.png\" alt=\"enter image description here\" /></a></p>\n<p>When I clicked the blue link, it took me to the <code>colors</code> resource file. I had to <strong>find the issue on my own</strong> (it doesn't tell you which line(s) the problem is at). The problem  was I added a color in quotes <strong>&quot;#ff0000&quot;</strong> (2 green arrows in below pic) when it should've been without quotes <strong>#ff0000</strong>.</p>\n<p><a href=\"https://i.stack.imgur.com/ayLI5.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ayLI5.png\" alt=\"enter image description here\" /></a></p>\n<p>Once I removed the quotes everything worked fine.</p>\n<p><strong>Important.</strong> I only had 1 error, if you have more than 1 error (you'll see them like in pic #1 above), there are going to be blue links for each one. You're going to have to <strong>click each individual blue link</strong> to take you to the file and find each error separately.</p>\n"},{"tags":[],"owner":{"account_id":70500,"reputation":1135,"user_id":204381,"display_name":"Ullallulloo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690031207,"creation_date":1690031207,"answer_id":76743939,"question_id":72335789,"body_markdown":"For me, it was that I created an id item incorrectly. When Android Studio prompted me for a value for the item, I na&#239;vely put the same thing as the name, leading to the following item being created in ids.xml:\r\n\r\n```xml\r\n&lt;item name=&quot;foo_radio_group&quot; type=&quot;id&quot;&gt;foo_radio_group&lt;/item&gt;\r\n```\r\n\r\nHowever, ids can&#39;t have values. It should instead simply be like so:\r\n\r\n```xml\r\n&lt;item name=&quot;foo_radio_group&quot; type=&quot;id&quot; /&gt;\r\n```","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>For me, it was that I created an id item incorrectly. When Android Studio prompted me for a value for the item, I naïvely put the same thing as the name, leading to the following item being created in ids.xml:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;item name=&quot;foo_radio_group&quot; type=&quot;id&quot;&gt;foo_radio_group&lt;/item&gt;\n</code></pre>\n<p>However, ids can't have values. It should instead simply be like so:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;item name=&quot;foo_radio_group&quot; type=&quot;id&quot; /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28447318,"reputation":1,"user_id":21765866,"display_name":"Lozorn"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1691438859,"creation_date":1691438677,"answer_id":76854867,"question_id":72335789,"body_markdown":"I deleted this file and it worked again, I created it by accident trying to make a menu, after that it gave me the same error as you\r\n\r\n\r\n[file to delete][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/318Y4.png","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I deleted this file and it worked again, I created it by accident trying to make a menu, after that it gave me the same error as you</p>\n<p><a href=\"https://i.stack.imgur.com/318Y4.png\" rel=\"nofollow noreferrer\">file to delete</a></p>\n"},{"tags":[],"owner":{"account_id":4484503,"reputation":16656,"user_id":3879847,"accept_rate":72,"display_name":"Ranjithkumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1693387180,"creation_date":1693387180,"answer_id":77006629,"question_id":72335789,"body_markdown":"\r\nI tested all my strings and colors everything seems correct. \r\n\r\nProblem from my recently added old library. \r\nAfter some research I add the following line in **settings.gradle** it&#39;s fixed\r\n\r\n    android.enableJetifier=true","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>I tested all my strings and colors everything seems correct.</p>\n<p>Problem from my recently added old library.\nAfter some research I add the following line in <strong>settings.gradle</strong> it's fixed</p>\n<pre><code>android.enableJetifier=true\n</code></pre>\n"}],"owner":{"account_id":12070986,"reputation":853,"user_id":8826361,"display_name":"Shivendra Kr. Sahu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85160,"favorite_count":0,"down_vote_count":1,"up_vote_count":75,"accepted_answer_id":72355635,"answer_count":23,"score":74,"last_activity_date":1697190881,"creation_date":1653206424,"question_id":72335789,"body_markdown":"Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.\r\n\r\n    Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n    &gt; A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\r\n       &gt; Resource compilation failed (Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.). Check logs for more details.\r\n    \r\n    * Exception is:\r\n    org.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:app:mergeDebugResources&#39;.\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:145)\r\n    \tat org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:143)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:402)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:389)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:382)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:368)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\n    Caused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\r\n    \tat org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:342)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:80)\r\n    \tat org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:68)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution$2.run(TaskExecution.java:247)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:224)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:207)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:190)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:168)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\r\n    \tat org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\r\n    \tat org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\r\n    \tat org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\r\n    \tat org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\r\n    \tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\r\n    \tat org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\r\n    \tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\r\n    \tat org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:188)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\r\n    \tat org.gradle.internal.Either$Right.fold(Either.java:175)\r\n    \tat org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\r\n    \tat org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\r\n    \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\r\n    \tat org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:109)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\r\n    \tat org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\r\n    \tat org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\r\n    \tat org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\r\n    \tat org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\r\n    \tat org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:93)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:93)\r\n    \tat org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\r\n    \tat org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\r\n    \tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\r\n    \tat org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\r\n    \tat org.gradle.api.internal.tasks.execution.TaskExecution$3.withWorkspace(TaskExecution.java:284)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\r\n    \tat org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\r\n    \tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\r\n    \tat org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\r\n    \tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\r\n    \tat org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\r\n    \tat org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:142)\r\n    \tat org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\r\n    \tat org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\r\n    \tat org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\r\n    \tat org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\r\n    \tat org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\r\n    \tat org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:402)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:389)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:382)\r\n    \tat org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:368)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\r\n    \tat org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\n    Caused by: com.android.aaptcompiler.ResourceCompilationException: Resource compilation failed (Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.). Check logs for more details.\r\n    \tat com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:129)\r\n    \tat com.android.build.gradle.internal.res.ResourceCompilerRunnable$Companion.compileSingleResource(ResourceCompilerRunnable.kt:34)\r\n    \tat com.android.build.gradle.internal.res.ResourceCompilerRunnable.run(ResourceCompilerRunnable.kt:15)\r\n    \tat com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\r\n    \tat org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\r\n    \tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\r\n    \tat org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\r\n    \tat org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\r\n    \tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\r\n    \tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\r\n    \tat org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\r\n    \tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\r\n    \tat org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\r\n    \tat org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\r\n    \tat org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:206)\r\n    \tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:214)\r\n    \tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:164)\r\n    \tat org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:131)\r\n    \t... 3 more\r\n    Caused by: com.android.aaptcompiler.ResourceCompilationException: Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml\r\n    \tat com.android.aaptcompiler.ResourceCompiler.compileTable(ResourceCompiler.kt:192)\r\n    \tat com.android.aaptcompiler.ResourceCompiler.access$compileTable(ResourceCompiler.kt:1)\r\n    \tat com.android.aaptcompiler.ResourceCompiler$getCompileMethod$1.invoke(ResourceCompiler.kt:138)\r\n    \tat com.android.aaptcompiler.ResourceCompiler$getCompileMethod$1.invoke(ResourceCompiler.kt:138)\r\n    \tat com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:123)\r\n    \t... 27 more\r\n    Caused by: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.\r\n    \tat com.android.aaptcompiler.TableExtractor.extractResourceValues(TableExtractor.kt:270)\r\n    \tat com.android.aaptcompiler.TableExtractor.extract(TableExtractor.kt:181)\r\n    \tat com.android.aaptcompiler.ResourceCompiler.compileTable(ResourceCompiler.kt:188)\r\n    \t... 31 more\r\n\r\n","title":"Can not extract resource from com.android.aaptcompiler","body":"<p>Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.</p>\n<pre><code>Execution failed for task ':app:mergeDebugResources'.\n&gt; A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\n   &gt; Resource compilation failed (Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.). Check logs for more details.\n\n* Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':app:mergeDebugResources'.\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.lambda$executeIfValid$1(ExecuteActionsTaskExecuter.java:145)\n    at org.gradle.internal.Try$Failure.ifSuccessfulOrElse(Try.java:282)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:143)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:402)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:389)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:382)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:368)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: org.gradle.workers.internal.DefaultWorkerExecutor$WorkExecutionException: A failure occurred while executing com.android.build.gradle.internal.res.ResourceCompilerRunnable\n    at org.gradle.workers.internal.DefaultWorkerExecutor$WorkItemExecution.waitForCompletion(DefaultWorkerExecutor.java:342)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:142)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForItemsAndGatherFailures(DefaultAsyncWorkTracker.java:94)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForAll(DefaultAsyncWorkTracker.java:80)\n    at org.gradle.internal.work.DefaultAsyncWorkTracker.waitForCompletion(DefaultAsyncWorkTracker.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$2.run(TaskExecution.java:247)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:29)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$1.execute(DefaultBuildOperationRunner.java:26)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.run(DefaultBuildOperationRunner.java:47)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.run(DefaultBuildOperationExecutor.java:68)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeAction(TaskExecution.java:224)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeActions(TaskExecution.java:207)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.executeWithPreviousOutputFiles(TaskExecution.java:190)\n    at org.gradle.api.internal.tasks.execution.TaskExecution.execute(TaskExecution.java:168)\n    at org.gradle.internal.execution.steps.ExecuteStep.executeInternal(ExecuteStep.java:89)\n    at org.gradle.internal.execution.steps.ExecuteStep.access$000(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:53)\n    at org.gradle.internal.execution.steps.ExecuteStep$1.call(ExecuteStep.java:50)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:50)\n    at org.gradle.internal.execution.steps.ExecuteStep.execute(ExecuteStep.java:40)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:68)\n    at org.gradle.internal.execution.steps.RemovePreviousOutputsStep.execute(RemovePreviousOutputsStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:48)\n    at org.gradle.internal.execution.steps.ResolveInputChangesStep.execute(ResolveInputChangesStep.java:36)\n    at org.gradle.internal.execution.steps.CancelExecutionStep.execute(CancelExecutionStep.java:41)\n    at org.gradle.internal.execution.steps.TimeoutStep.executeWithoutTimeout(TimeoutStep.java:74)\n    at org.gradle.internal.execution.steps.TimeoutStep.execute(TimeoutStep.java:55)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:51)\n    at org.gradle.internal.execution.steps.CreateOutputsStep.execute(CreateOutputsStep.java:29)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:61)\n    at org.gradle.internal.execution.steps.CaptureStateAfterExecutionStep.execute(CaptureStateAfterExecutionStep.java:42)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:60)\n    at org.gradle.internal.execution.steps.BroadcastChangingOutputsStep.execute(BroadcastChangingOutputsStep.java:27)\n    at org.gradle.internal.execution.steps.BuildCacheStep.executeWithoutCache(BuildCacheStep.java:188)\n    at org.gradle.internal.execution.steps.BuildCacheStep.lambda$execute$1(BuildCacheStep.java:75)\n    at org.gradle.internal.Either$Right.fold(Either.java:175)\n    at org.gradle.internal.execution.caching.CachingState.fold(CachingState.java:59)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:73)\n    at org.gradle.internal.execution.steps.BuildCacheStep.execute(BuildCacheStep.java:48)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:38)\n    at org.gradle.internal.execution.steps.StoreExecutionStateStep.execute(StoreExecutionStateStep.java:27)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:36)\n    at org.gradle.internal.execution.steps.RecordOutputsStep.execute(RecordOutputsStep.java:22)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.executeBecause(SkipUpToDateStep.java:109)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.lambda$execute$2(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:56)\n    at org.gradle.internal.execution.steps.SkipUpToDateStep.execute(SkipUpToDateStep.java:38)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:73)\n    at org.gradle.internal.execution.steps.ResolveChangesStep.execute(ResolveChangesStep.java:44)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:37)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsFinishedStep.execute(MarkSnapshottingInputsFinishedStep.java:27)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:89)\n    at org.gradle.internal.execution.steps.ResolveCachingStateStep.execute(ResolveCachingStateStep.java:50)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:114)\n    at org.gradle.internal.execution.steps.ValidateStep.execute(ValidateStep.java:57)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:76)\n    at org.gradle.internal.execution.steps.CaptureStateBeforeExecutionStep.execute(CaptureStateBeforeExecutionStep.java:50)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.lambda$execute$2(SkipEmptyWorkStep.java:93)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:93)\n    at org.gradle.internal.execution.steps.SkipEmptyWorkStep.execute(SkipEmptyWorkStep.java:34)\n    at org.gradle.internal.execution.steps.legacy.MarkSnapshottingInputsStartedStep.execute(MarkSnapshottingInputsStartedStep.java:38)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:43)\n    at org.gradle.internal.execution.steps.LoadPreviousExecutionStateStep.execute(LoadPreviousExecutionStateStep.java:31)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.lambda$execute$0(AssignWorkspaceStep.java:40)\n    at org.gradle.api.internal.tasks.execution.TaskExecution$3.withWorkspace(TaskExecution.java:284)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:40)\n    at org.gradle.internal.execution.steps.AssignWorkspaceStep.execute(AssignWorkspaceStep.java:30)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:37)\n    at org.gradle.internal.execution.steps.IdentityCacheStep.execute(IdentityCacheStep.java:27)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:44)\n    at org.gradle.internal.execution.steps.IdentifyStep.execute(IdentifyStep.java:33)\n    at org.gradle.internal.execution.impl.DefaultExecutionEngine$1.execute(DefaultExecutionEngine.java:76)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.executeIfValid(ExecuteActionsTaskExecuter.java:142)\n    at org.gradle.api.internal.tasks.execution.ExecuteActionsTaskExecuter.execute(ExecuteActionsTaskExecuter.java:131)\n    at org.gradle.api.internal.tasks.execution.CleanupStaleOutputsExecuter.execute(CleanupStaleOutputsExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.FinalizePropertiesTaskExecuter.execute(FinalizePropertiesTaskExecuter.java:46)\n    at org.gradle.api.internal.tasks.execution.ResolveTaskExecutionModeExecuter.execute(ResolveTaskExecutionModeExecuter.java:51)\n    at org.gradle.api.internal.tasks.execution.SkipTaskWithNoActionsExecuter.execute(SkipTaskWithNoActionsExecuter.java:57)\n    at org.gradle.api.internal.tasks.execution.SkipOnlyIfTaskExecuter.execute(SkipOnlyIfTaskExecuter.java:56)\n    at org.gradle.api.internal.tasks.execution.CatchExceptionTaskExecuter.execute(CatchExceptionTaskExecuter.java:36)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.executeTask(EventFiringTaskExecuter.java:77)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:55)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter$1.call(EventFiringTaskExecuter.java:52)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.api.internal.tasks.execution.EventFiringTaskExecuter.execute(EventFiringTaskExecuter.java:52)\n    at org.gradle.execution.plan.LocalTaskNodeExecutor.execute(LocalTaskNodeExecutor.java:74)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:402)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$InvokeNodeExecutorsAction.execute(DefaultTaskExecutionGraph.java:389)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:382)\n    at org.gradle.execution.taskgraph.DefaultTaskExecutionGraph$BuildOperationAwareExecutionAction.execute(DefaultTaskExecutionGraph.java:368)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.lambda$run$0(DefaultPlanExecutor.java:127)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.execute(DefaultPlanExecutor.java:191)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.executeNextNode(DefaultPlanExecutor.java:182)\n    at org.gradle.execution.plan.DefaultPlanExecutor$ExecutorWorker.run(DefaultPlanExecutor.java:124)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: com.android.aaptcompiler.ResourceCompilationException: Resource compilation failed (Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml. Cause: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.). Check logs for more details.\n    at com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:129)\n    at com.android.build.gradle.internal.res.ResourceCompilerRunnable$Companion.compileSingleResource(ResourceCompilerRunnable.kt:34)\n    at com.android.build.gradle.internal.res.ResourceCompilerRunnable.run(ResourceCompilerRunnable.kt:15)\n    at com.android.build.gradle.internal.profile.ProfileAwareWorkAction.execute(ProfileAwareWorkAction.kt:74)\n    at org.gradle.workers.internal.DefaultWorkerServer.execute(DefaultWorkerServer.java:63)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:66)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1$1.create(NoIsolationWorkerFactory.java:62)\n    at org.gradle.internal.classloader.ClassLoaderUtils.executeInClassloader(ClassLoaderUtils.java:97)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.lambda$execute$0(NoIsolationWorkerFactory.java:62)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:44)\n    at org.gradle.workers.internal.AbstractWorker$1.call(AbstractWorker.java:41)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:204)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:199)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:66)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$2.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:157)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:59)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:53)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:73)\n    at org.gradle.workers.internal.AbstractWorker.executeWrappedInBuildOperation(AbstractWorker.java:41)\n    at org.gradle.workers.internal.NoIsolationWorkerFactory$1.execute(NoIsolationWorkerFactory.java:59)\n    at org.gradle.workers.internal.DefaultWorkerExecutor.lambda$submitWork$2(DefaultWorkerExecutor.java:206)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runExecution(DefaultConditionalExecutionQueue.java:214)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.runBatch(DefaultConditionalExecutionQueue.java:164)\n    at org.gradle.internal.work.DefaultConditionalExecutionQueue$ExecutionRunner.run(DefaultConditionalExecutionQueue.java:131)\n    ... 3 more\nCaused by: com.android.aaptcompiler.ResourceCompilationException: Failed to compile values resource file E:\\My Client\\Henkako\\HenkakoPlus\\app\\build\\intermediates\\incremental\\debug\\mergeDebugResources\\merged.dir\\values\\values.xml\n    at com.android.aaptcompiler.ResourceCompiler.compileTable(ResourceCompiler.kt:192)\n    at com.android.aaptcompiler.ResourceCompiler.access$compileTable(ResourceCompiler.kt:1)\n    at com.android.aaptcompiler.ResourceCompiler$getCompileMethod$1.invoke(ResourceCompiler.kt:138)\n    at com.android.aaptcompiler.ResourceCompiler$getCompileMethod$1.invoke(ResourceCompiler.kt:138)\n    at com.android.aaptcompiler.ResourceCompiler.compileResource(ResourceCompiler.kt:123)\n    ... 27 more\nCaused by: java.lang.IllegalStateException: Can not extract resource from com.android.aaptcompiler.ParsedResource@636e1e76.\n    at com.android.aaptcompiler.TableExtractor.extractResourceValues(TableExtractor.kt:270)\n    at com.android.aaptcompiler.TableExtractor.extract(TableExtractor.kt:181)\n    at com.android.aaptcompiler.ResourceCompiler.compileTable(ResourceCompiler.kt:188)\n    ... 31 more\n</code></pre>\n"},{"tags":["java","spring-boot","smtp","jakarta-mail"],"comments":[{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1654153822,"post_id":72471921,"comment_id":128024729,"body_markdown":"Have you read what it says on https://support.google.com/mail/?p=BadCredentials as suggested in the error message?","body":"Have you read what it says on <a href=\"https://support.google.com/mail/?p=BadCredentials\" rel=\"nofollow noreferrer\">support.google.com/mail/?p=BadCredentials</a> as suggested in the error message?"},{"owner":{"account_id":16706097,"reputation":75,"user_id":16822059,"display_name":"namkellbi"},"score":0,"creation_date":1654153890,"post_id":72471921,"comment_id":128024751,"body_markdown":"yes, I doing follow that but it&#39;sstill failed authentication","body":"yes, I doing follow that but it&#39;sstill failed authentication"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1654153975,"post_id":72471921,"comment_id":128024779,"body_markdown":"What exactly did you &quot;follow&quot;? Be specific about what you tried.","body":"What exactly did you &quot;follow&quot;? Be specific about what you tried."},{"owner":{"account_id":1674328,"reputation":2652,"user_id":1540177,"display_name":"grekier"},"score":0,"creation_date":1654162414,"post_id":72471921,"comment_id":128027426,"body_markdown":"You might need `spring.mail.properties.mail.smtp.starttls.required=true` as well","body":"You might need <code>spring.mail.properties.mail.smtp.starttls.required=true</code> as well"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1654163458,"post_id":72471921,"comment_id":128027770,"body_markdown":"These days, Google allows you to generate specific credentials for apps. This is superior to using &#39;your own&#39; account credentials","body":"These days, Google allows you to generate specific credentials for apps. This is superior to using &#39;your own&#39; account credentials"},{"owner":{"account_id":10686405,"reputation":170,"user_id":7866838,"display_name":"Rajesh Patel"},"score":0,"creation_date":1671209222,"post_id":72471921,"comment_id":132057142,"body_markdown":"Google has turn off by default this option. previously its working we can able to ON. Some apps and devices use less secure sign-in technology, which makes your account vulnerable. You can turn off access for these apps, which we recommend, or turn it on if you want to use them despite the risks. Google will automatically turn this setting OFF if it’s not being used.","body":"Google has turn off by default this option. previously its working we can able to ON. Some apps and devices use less secure sign-in technology, which makes your account vulnerable. You can turn off access for these apps, which we recommend, or turn it on if you want to use them despite the risks. Google will automatically turn this setting OFF if it’s not being used."}],"answers":[{"tags":[],"owner":{"account_id":29663140,"reputation":1,"user_id":22734283,"display_name":"Đạt Trần B&#225;"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697190872,"creation_date":1697190840,"answer_id":77286756,"question_id":72471921,"body_markdown":"I found this solution:\r\nStep 1: Create app password on google account\r\n  + follow link: https://support.google.com/mail/answer/185833?hl=en\r\n\r\nStep 2: Add generated password to application.properties\r\n  + spring.mail.password={generated password}\r\n\r\nStep 3: try again","title":"Java Mail Authentication Failed Exception","body":"<p>I found this solution:\nStep 1: Create app password on google account</p>\n<ul>\n<li>follow link: <a href=\"https://support.google.com/mail/answer/185833?hl=en\" rel=\"nofollow noreferrer\">https://support.google.com/mail/answer/185833?hl=en</a></li>\n</ul>\n<p>Step 2: Add generated password to application.properties</p>\n<ul>\n<li>spring.mail.password={generated password}</li>\n</ul>\n<p>Step 3: try again</p>\n"}],"owner":{"account_id":16706097,"reputation":75,"user_id":16822059,"display_name":"namkellbi"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1894,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1697190872,"creation_date":1654153057,"question_id":72471921,"body_markdown":"I have a problem when using JavaMail\r\n\r\n    javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\r\n    535 5.7.8  https://support.google.com/mail/?p=BadCredentials ru12-20020a17090b2bcc00b001cb6527ca39sm4977241pjb.0 - gsmtp\r\n\r\nMy config on application.properties\r\n\r\n    spring.mail.host=smtp.gmail.com\r\n    spring.mail.port=587\r\n    spring.mail.username={my email}\r\n    spring.mail.password={my password}\r\n    spring.mail.properties.mail.smtp.auth=true\r\n    spring.mail.properties.mail.smtp.starttls.enable=true\r\n\r\nI have read some solutions like &quot;Turn on Less secure apps&quot; on Settings account.google.com but that is old articles, now google no longer allows to use this feature. \r\n\r\nI dont know how to fix it?\r\n\r\n    at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947) ~[jakarta.mail-1.6.7.jar:1.6.7]\r\n    at com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858) ~[jakarta.mail-1.6.7.jar:1.6.7]\r\n    at com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762) ~[jakarta.mail-1.6.7.jar:1.6.7]\r\n    at javax.mail.Service.connect(Service.java:342) ~[jakarta.mail-1.6.7.jar:1.6.7]\r\n    at org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518) ~[spring-context-support-5.3.15.jar:5.3.15]\r\n    at org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:398) ~[spring-context-support-5.3.15.jar:5.3.15]\r\n    at org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:42) ~[spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82) ~[spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:77) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:40) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:130) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:141) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:126) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:95) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:66) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:71) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:61) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\r\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\r\n    at org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) [spring-core-5.3.15.jar:5.3.15]\r\n    at org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96) [spring-boot-actuator-2.6.3.jar:2.6.3]\r\n    at com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_311]\r\n    at com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_311]\r\n    at javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468) [na:1.8.0_311]\r\n    at javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76) [na:1.8.0_311]\r\n    at javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309) [na:1.8.0_311]\r\n    at javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401) [na:1.8.0_311]\r\n    at javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) [na:1.8.0_311]\r\n    at sun.reflect.GeneratedMethodAccessor101.invoke(Unknown Source) ~[na:na]\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\r\n    at java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\r\n    at sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357) [na:1.8.0_311]\r\n    at sun.rmi.transport.Transport$1.run(Transport.java:200) [na:1.8.0_311]\r\n    at sun.rmi.transport.Transport$1.run(Transport.java:197) [na:1.8.0_311]\r\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_311]\r\n    at sun.rmi.transport.Transport.serviceCall(Transport.java:196) [na:1.8.0_311]\r\n    at sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573) [na:1.8.0_311]\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834) [na:1.8.0_311]\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688) [na:1.8.0_311]\r\n    at java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_311]\r\n    at sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687) [na:1.8.0_311]\r\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_311]\r\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_311]\r\n    at java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_311]\r\n\r\n\r\n\r\n","title":"Java Mail Authentication Failed Exception","body":"<p>I have a problem when using JavaMail</p>\n<pre><code>javax.mail.AuthenticationFailedException: 535-5.7.8 Username and Password not accepted. Learn more at\n535 5.7.8  https://support.google.com/mail/?p=BadCredentials ru12-20020a17090b2bcc00b001cb6527ca39sm4977241pjb.0 - gsmtp\n</code></pre>\n<p>My config on application.properties</p>\n<pre><code>spring.mail.host=smtp.gmail.com\nspring.mail.port=587\nspring.mail.username={my email}\nspring.mail.password={my password}\nspring.mail.properties.mail.smtp.auth=true\nspring.mail.properties.mail.smtp.starttls.enable=true\n</code></pre>\n<p>I have read some solutions like &quot;Turn on Less secure apps&quot; on Settings account.google.com but that is old articles, now google no longer allows to use this feature.</p>\n<p>I dont know how to fix it?</p>\n<pre><code>at com.sun.mail.smtp.SMTPTransport$Authenticator.authenticate(SMTPTransport.java:947) ~[jakarta.mail-1.6.7.jar:1.6.7]\nat com.sun.mail.smtp.SMTPTransport.authenticate(SMTPTransport.java:858) ~[jakarta.mail-1.6.7.jar:1.6.7]\nat com.sun.mail.smtp.SMTPTransport.protocolConnect(SMTPTransport.java:762) ~[jakarta.mail-1.6.7.jar:1.6.7]\nat javax.mail.Service.connect(Service.java:342) ~[jakarta.mail-1.6.7.jar:1.6.7]\nat org.springframework.mail.javamail.JavaMailSenderImpl.connectTransport(JavaMailSenderImpl.java:518) ~[spring-context-support-5.3.15.jar:5.3.15]\nat org.springframework.mail.javamail.JavaMailSenderImpl.testConnection(JavaMailSenderImpl.java:398) ~[spring-context-support-5.3.15.jar:5.3.15]\nat org.springframework.boot.actuate.mail.MailHealthIndicator.doHealthCheck(MailHealthIndicator.java:42) ~[spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.AbstractHealthIndicator.health(AbstractHealthIndicator.java:82) ~[spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthIndicator.getHealth(HealthIndicator.java:37) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:77) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpoint.getHealth(HealthEndpoint.java:40) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:130) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getAggregateContribution(HealthEndpointSupport.java:141) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getContribution(HealthEndpointSupport.java:126) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:95) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpointSupport.getHealth(HealthEndpointSupport.java:66) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:71) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.health.HealthEndpoint.health(HealthEndpoint.java:61) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method) ~[na:1.8.0_311]\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62) ~[na:1.8.0_311]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\nat org.springframework.util.ReflectionUtils.invokeMethod(ReflectionUtils.java:282) [spring-core-5.3.15.jar:5.3.15]\nat org.springframework.boot.actuate.endpoint.invoke.reflect.ReflectiveOperationInvoker.invoke(ReflectiveOperationInvoker.java:74) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.endpoint.annotation.AbstractDiscoveredOperation.invoke(AbstractDiscoveredOperation.java:60) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:121) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat org.springframework.boot.actuate.endpoint.jmx.EndpointMBean.invoke(EndpointMBean.java:96) [spring-boot-actuator-2.6.3.jar:2.6.3]\nat com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:819) [na:1.8.0_311]\nat com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801) [na:1.8.0_311]\nat javax.management.remote.rmi.RMIConnectionImpl.doOperation(RMIConnectionImpl.java:1468) [na:1.8.0_311]\nat javax.management.remote.rmi.RMIConnectionImpl.access$300(RMIConnectionImpl.java:76) [na:1.8.0_311]\nat javax.management.remote.rmi.RMIConnectionImpl$PrivilegedOperation.run(RMIConnectionImpl.java:1309) [na:1.8.0_311]\nat javax.management.remote.rmi.RMIConnectionImpl.doPrivilegedOperation(RMIConnectionImpl.java:1401) [na:1.8.0_311]\nat javax.management.remote.rmi.RMIConnectionImpl.invoke(RMIConnectionImpl.java:829) [na:1.8.0_311]\nat sun.reflect.GeneratedMethodAccessor101.invoke(Unknown Source) ~[na:na]\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43) ~[na:1.8.0_311]\nat java.lang.reflect.Method.invoke(Method.java:498) ~[na:1.8.0_311]\nat sun.rmi.server.UnicastServerRef.dispatch(UnicastServerRef.java:357) [na:1.8.0_311]\nat sun.rmi.transport.Transport$1.run(Transport.java:200) [na:1.8.0_311]\nat sun.rmi.transport.Transport$1.run(Transport.java:197) [na:1.8.0_311]\nat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_311]\nat sun.rmi.transport.Transport.serviceCall(Transport.java:196) [na:1.8.0_311]\nat sun.rmi.transport.tcp.TCPTransport.handleMessages(TCPTransport.java:573) [na:1.8.0_311]\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run0(TCPTransport.java:834) [na:1.8.0_311]\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.lambda$run$0(TCPTransport.java:688) [na:1.8.0_311]\nat java.security.AccessController.doPrivileged(Native Method) [na:1.8.0_311]\nat sun.rmi.transport.tcp.TCPTransport$ConnectionHandler.run(TCPTransport.java:687) [na:1.8.0_311]\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149) ~[na:1.8.0_311]\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624) ~[na:1.8.0_311]\nat java.lang.Thread.run(Thread.java:748) ~[na:1.8.0_311]\n</code></pre>\n"},{"tags":["java","xstream"],"comments":[{"owner":{"account_id":1114067,"reputation":196781,"user_id":1103872,"accept_rate":82,"display_name":"Marko Topolnik"},"score":0,"creation_date":1336073581,"post_id":10438124,"comment_id":13474124,"body_markdown":"Package? What do you mean by package?","body":"Package? What do you mean by package?"},{"owner":{"account_id":2293390,"reputation":8655,"user_id":2015517,"accept_rate":60,"display_name":"Dev Blanked"},"score":0,"creation_date":1364129503,"post_id":10438124,"comment_id":22119459,"body_markdown":"can you post the xml and the java class you are using to populate","body":"can you post the xml and the java class you are using to populate"},{"owner":{"account_id":2788141,"reputation":524,"user_id":2398993,"accept_rate":55,"display_name":"lvr123"},"score":0,"creation_date":1455534722,"post_id":10438124,"comment_id":58516667,"body_markdown":"The fully qualified name works well `xstream.alias(...)`, but how does it work with Annotations ?","body":"The fully qualified name works well <code>xstream.alias(...)</code>, but how does it work with Annotations ?"}],"answers":[{"tags":[],"owner":{"account_id":2570161,"reputation":89,"user_id":2229113,"display_name":"tarunajain"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1364739863,"creation_date":1364739863,"answer_id":15730399,"question_id":10438124,"body_markdown":"When you pass the class name to the alias method you need to pass the fully qualified class name i.e the class name along with its package name.\r\n\r\nExample : Suppose if the class Something is in the package com.xyz then you need to pass com.xyz.Something.class as the parameter\r\n\r\nThanks","title":"xstream CannotResolveClassException","body":"<p>When you pass the class name to the alias method you need to pass the fully qualified class name i.e the class name along with its package name.</p>\n\n<p>Example : Suppose if the class Something is in the package com.xyz then you need to pass com.xyz.Something.class as the parameter</p>\n\n<p>Thanks</p>\n"},{"tags":[],"owner":{"account_id":4202850,"reputation":11,"user_id":3442540,"display_name":"Saikumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1395326476,"creation_date":1395326476,"answer_id":22536381,"question_id":10438124,"body_markdown":"For your question it will be useful   \r\n\r\n **Download Xtream.jar**\r\n    \r\n    package businessfunctions;\r\n    \r\n    \r\n    import java.io.BufferedReader;\r\n    import java.io.FileReader;\r\n    import java.io.IOException;\r\n    import java.util.List;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import objectrepository.LoginPojo;\r\n    import objectrepository.LoginPojos;\r\n    \r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.firefox.FirefoxDriver;\r\n    \r\n    import com.thoughtworks.xstream.XStream;\r\n    import com.thoughtworks.xstream.io.xml.DomDriver;\r\n    \r\n    \tpublic void readRepository(String fNmae){\r\n    \t\t\r\n    \t\t// Instantiate XStream Object\r\n    \t\tXStream xstream = new XStream(new DomDriver()); \r\n    \r\n    \t\t// Set Person class into xstream alias\r\n    \t\txstream.alias(&quot;loginpojos&quot;,LoginPojos.class);\r\n    \t\txstream.alias(&quot;loginpojo&quot;,LoginPojo.class);\r\n    \r\n    \t\txstream.addImplicitCollection(LoginPojos.class, &quot;loginpojos&quot;);\r\n    \t\t\r\n    \t\t// Create a StringBuffer var\r\n    \t\tStringBuffer contents = new StringBuffer();\r\n    \r\n    \t\t try {\r\n    \t\t\t\t// TODO Auto-generated method stub\r\n    \r\n    \t\t\t\t\t\t\t\t\r\n    \t\t\t\t// Set BufferReader var &quot;in&quot; to read from PersonXML.xml file\r\n    \t\t\t\tBufferedReader in = new BufferedReader(new FileReader(repoPath+fNmae));\r\n    \r\n    \t\t\t\tString str;\r\n    \r\n    \t\t\t\twhile ((str = in.readLine()) != null) {\r\n    \t\t\t\tcontents.append(str);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tin.close();\r\n    \t\t\t \r\n    \t\t\t } catch (IOException e) {\r\n    \t\t\t\t\tSystem.out.println(e.toString());\r\n    \t\t\t }\r\n    \t\t\t// Checking the StringBuffer variable &quot;contents&quot;\r\n    \t\t\tSystem.out.println(contents);\r\n    \r\n    \t\t\tString content = new String();\r\n    \r\n    \t\t\t// Put all the contents from contents to String variable content --xstream.fromXML()takes\r\n    \t\t\t//only String\r\n    \t\t\tcontent = contents.toString();\r\n    \r\n    \t\t\t// Convert content into XML and change and set to obj newPerson of class Person\r\n    \t\t\tLoginPojos loginPojosList = (LoginPojos)xstream.fromXML(content);\r\n    \r\n    \t\t\tList&lt;LoginPojo&gt; loginPojoList = loginPojosList.getLoginpojos();\r\n    \t\t\tfor(LoginPojo newLogiPojo:loginPojoList){\r\n    \t\t\t// Print out the newPerson properties\r\n    \t\t\tSystem.out.println(&quot;Property Label: &quot; + newLogiPojo.getPropLabel());\r\n    \t\t\tSystem.out.println(&quot;Property Name: &quot; + newLogiPojo.getPropName());\r\n    \t\t\tSystem.out.println(&quot;Property Value: &quot; + newLogiPojo.getPropValue());\r\n    \t\t\t}\r\n    \r\n    \t\t\t }\r\n    \r\n    \r\n    \r\n    public static void main(String args[]) {\r\n    \t\t try {\r\n    \t\t\t DriverSetup ds= new DriverSetup();\r\n    \t\t\t ds.readRepository(&quot;login.xml&quot;);  \r\n    \t\t \r\n    \t\t }catch(Exception e){\r\n    \t\t\te.printStackTrace(); \r\n    \t\t }\r\n    \r\n    package objectrepository;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    public class LoginPojos {\r\n    \t\r\n    \t public List&lt;LoginPojo&gt; loginpojos = new ArrayList&lt;LoginPojo&gt;();\r\n    \r\n    \tpublic List&lt;LoginPojo&gt; getLoginpojos() {\r\n    \t\treturn loginpojos;\r\n    \t}\r\n    \r\n    \tpublic void setLoginpojos(List&lt;LoginPojo&gt; loginpojos) {\r\n    \t\tthis.loginpojos = loginpojos;\r\n    \t}\r\n    \r\n    \r\n    \t \r\n    }\r\n    \r\n    \r\n    package objectrepository;\r\n    \r\n    public class LoginPojo {\r\n    \t\r\n    \tprivate String propLabel;\r\n    \tprivate String propName;\r\n    \tprivate String propValue;\r\n    \tpublic String getPropLabel() {\r\n    \t\treturn propLabel;\r\n    \t}\r\n    \tpublic void setPropLabel(String propLabel) {\r\n    \t\tthis.propLabel = propLabel;\r\n    \t}\r\n    \tpublic String getPropName() {\r\n    \t\treturn propName;\r\n    \t}\r\n    \tpublic void setPropName(String propName) {\r\n    \t\tthis.propName = propName;\r\n    \t}\r\n    \tpublic String getPropValue() {\r\n    \t\treturn propValue;\r\n    \t}\r\n    \tpublic void setPropValue(String propValue) {\r\n    \t\tthis.propValue = propValue;\r\n    \t}\r\n    \t\r\n    \t\t\r\n    \r\n    }\r\n    \r\n    \r\n    &lt;loginpojos&gt;\r\n    &lt;loginpojo&gt;\r\n    &lt;propLabel&gt;User name1&lt;/propLabel&gt;\r\n    &lt;propName&gt;id1&lt;/propName&gt;\r\n    &lt;propValue&gt;username1&lt;/propValue&gt;\r\n    &lt;/loginpojo&gt;\r\n    &lt;loginpojo&gt;\r\n    &lt;propLabel&gt;User name&lt;/propLabel&gt;\r\n    &lt;propName&gt;id&lt;/propName&gt;\r\n    &lt;propValue&gt;username&lt;/propValue&gt;\r\n    &lt;/loginpojo&gt;\r\n    &lt;/loginpojos&gt;\r\n\r\n","title":"xstream CannotResolveClassException","body":"<p>For your question it will be useful   </p>\n\n<p><strong>Download Xtream.jar</strong></p>\n\n<pre><code>package businessfunctions;\n\n\nimport java.io.BufferedReader;\nimport java.io.FileReader;\nimport java.io.IOException;\nimport java.util.List;\nimport java.util.concurrent.TimeUnit;\n\nimport objectrepository.LoginPojo;\nimport objectrepository.LoginPojos;\n\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.firefox.FirefoxDriver;\n\nimport com.thoughtworks.xstream.XStream;\nimport com.thoughtworks.xstream.io.xml.DomDriver;\n\n    public void readRepository(String fNmae){\n\n        // Instantiate XStream Object\n        XStream xstream = new XStream(new DomDriver()); \n\n        // Set Person class into xstream alias\n        xstream.alias(\"loginpojos\",LoginPojos.class);\n        xstream.alias(\"loginpojo\",LoginPojo.class);\n\n        xstream.addImplicitCollection(LoginPojos.class, \"loginpojos\");\n\n        // Create a StringBuffer var\n        StringBuffer contents = new StringBuffer();\n\n         try {\n                // TODO Auto-generated method stub\n\n\n                // Set BufferReader var \"in\" to read from PersonXML.xml file\n                BufferedReader in = new BufferedReader(new FileReader(repoPath+fNmae));\n\n                String str;\n\n                while ((str = in.readLine()) != null) {\n                contents.append(str);\n                }\n\n                in.close();\n\n             } catch (IOException e) {\n                    System.out.println(e.toString());\n             }\n            // Checking the StringBuffer variable \"contents\"\n            System.out.println(contents);\n\n            String content = new String();\n\n            // Put all the contents from contents to String variable content --xstream.fromXML()takes\n            //only String\n            content = contents.toString();\n\n            // Convert content into XML and change and set to obj newPerson of class Person\n            LoginPojos loginPojosList = (LoginPojos)xstream.fromXML(content);\n\n            List&lt;LoginPojo&gt; loginPojoList = loginPojosList.getLoginpojos();\n            for(LoginPojo newLogiPojo:loginPojoList){\n            // Print out the newPerson properties\n            System.out.println(\"Property Label: \" + newLogiPojo.getPropLabel());\n            System.out.println(\"Property Name: \" + newLogiPojo.getPropName());\n            System.out.println(\"Property Value: \" + newLogiPojo.getPropValue());\n            }\n\n             }\n\n\n\npublic static void main(String args[]) {\n         try {\n             DriverSetup ds= new DriverSetup();\n             ds.readRepository(\"login.xml\");  \n\n         }catch(Exception e){\n            e.printStackTrace(); \n         }\n\npackage objectrepository;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\npublic class LoginPojos {\n\n     public List&lt;LoginPojo&gt; loginpojos = new ArrayList&lt;LoginPojo&gt;();\n\n    public List&lt;LoginPojo&gt; getLoginpojos() {\n        return loginpojos;\n    }\n\n    public void setLoginpojos(List&lt;LoginPojo&gt; loginpojos) {\n        this.loginpojos = loginpojos;\n    }\n\n\n\n}\n\n\npackage objectrepository;\n\npublic class LoginPojo {\n\n    private String propLabel;\n    private String propName;\n    private String propValue;\n    public String getPropLabel() {\n        return propLabel;\n    }\n    public void setPropLabel(String propLabel) {\n        this.propLabel = propLabel;\n    }\n    public String getPropName() {\n        return propName;\n    }\n    public void setPropName(String propName) {\n        this.propName = propName;\n    }\n    public String getPropValue() {\n        return propValue;\n    }\n    public void setPropValue(String propValue) {\n        this.propValue = propValue;\n    }\n\n\n\n}\n\n\n&lt;loginpojos&gt;\n&lt;loginpojo&gt;\n&lt;propLabel&gt;User name1&lt;/propLabel&gt;\n&lt;propName&gt;id1&lt;/propName&gt;\n&lt;propValue&gt;username1&lt;/propValue&gt;\n&lt;/loginpojo&gt;\n&lt;loginpojo&gt;\n&lt;propLabel&gt;User name&lt;/propLabel&gt;\n&lt;propName&gt;id&lt;/propName&gt;\n&lt;propValue&gt;username&lt;/propValue&gt;\n&lt;/loginpojo&gt;\n&lt;/loginpojos&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4358066,"reputation":1056,"user_id":3556052,"accept_rate":75,"display_name":"miracle_the_V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1519318494,"creation_date":1519318494,"answer_id":48933071,"question_id":10438124,"body_markdown":"Spent half an evening trying to resolve similar error. &lt;br&gt;\r\nPassing a driver to xStream miraculously helped.\r\n\r\n    XStream xstream = new XStream(new StaxDriver());\r\n\r\n","title":"xstream CannotResolveClassException","body":"<p>Spent half an evening trying to resolve similar error. <br>\nPassing a driver to xStream miraculously helped.</p>\n\n<pre><code>XStream xstream = new XStream(new StaxDriver());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6750506,"reputation":709,"user_id":5200630,"display_name":"Gogu CelMare"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697190798,"creation_date":1697190798,"answer_id":77286754,"question_id":10438124,"body_markdown":"In my case I had a mismatch of names. Sender had ConfigWiFi and receiver defined WiFiConfig.","title":"xstream CannotResolveClassException","body":"<p>In my case I had a mismatch of names. Sender had ConfigWiFi and receiver defined WiFiConfig.</p>\n"}],"owner":{"account_id":163085,"reputation":317,"user_id":384973,"accept_rate":33,"display_name":"Slava Markeyev"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30930,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":4,"score":11,"last_activity_date":1697190798,"creation_date":1336073512,"question_id":10438124,"body_markdown":"I&#39;m trying to use xstream 1.4.2 to convert xml to object. It does work perfectly fine for me until I put the object&#39;s class file in a separate package than where the main code runs. Then I get a CannotResolveClassException. I&#39;ve tried using the setClassLoader method as recommended by others but that doesn&#39;t help.\r\n\r\n    Exception in thread &quot;main&quot; com.thoughtworks.xstream.mapper.CannotResolveClassException: result\r\n\tat com.thoughtworks.xstream.mapper.DefaultMapper.realClass(DefaultMapper.java:56)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass(DynamicProxyMapper.java:55)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.PackageAliasingMapper.realClass(PackageAliasingMapper.java:88)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.ClassAliasingMapper.realClass(ClassAliasingMapper.java:79)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.ArrayMapper.realClass(ArrayMapper.java:74)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\r\n\tat com.thoughtworks.xstream.mapper.CachingMapper.realClass(CachingMapper.java:45)\r\n\tat com.thoughtworks.xstream.core.util.HierarchicalStreams.readClassType(HierarchicalStreams.java:29)\r\n\tat com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:133)\r\n\tat com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)\r\n\tat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1052)\r\n\tat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1036)\r\n\tat com.thoughtworks.xstream.XStream.fromXML(XStream.java:912)\r\n\tat com.thoughtworks.xstream.XStream.fromXML(XStream.java:903)\r\n\tat main.readClass(main.java:48)\r\n\tat main.main(main.java:28)\r\n\r\n**Answer:** xstream expects the xml structure to be relative to the package in which it (the object) originates from. So xstream.alias must be used in order to alias the xml structure.\r\n\r\n    xstream.alias(&quot;something&quot;, Something.class);\r\n\r\nOtherwise xstream will expect &quot;Something&quot; to be in the default package rather than the package it is a member of.","title":"xstream CannotResolveClassException","body":"<p>I'm trying to use xstream 1.4.2 to convert xml to object. It does work perfectly fine for me until I put the object's class file in a separate package than where the main code runs. Then I get a CannotResolveClassException. I've tried using the setClassLoader method as recommended by others but that doesn't help.</p>\n\n<pre><code>Exception in thread \"main\" com.thoughtworks.xstream.mapper.CannotResolveClassException: result\nat com.thoughtworks.xstream.mapper.DefaultMapper.realClass(DefaultMapper.java:56)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.DynamicProxyMapper.realClass(DynamicProxyMapper.java:55)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.PackageAliasingMapper.realClass(PackageAliasingMapper.java:88)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.ClassAliasingMapper.realClass(ClassAliasingMapper.java:79)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.ArrayMapper.realClass(ArrayMapper.java:74)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.MapperWrapper.realClass(MapperWrapper.java:30)\nat com.thoughtworks.xstream.mapper.CachingMapper.realClass(CachingMapper.java:45)\nat com.thoughtworks.xstream.core.util.HierarchicalStreams.readClassType(HierarchicalStreams.java:29)\nat com.thoughtworks.xstream.core.TreeUnmarshaller.start(TreeUnmarshaller.java:133)\nat com.thoughtworks.xstream.core.AbstractTreeMarshallingStrategy.unmarshal(AbstractTreeMarshallingStrategy.java:32)\nat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1052)\nat com.thoughtworks.xstream.XStream.unmarshal(XStream.java:1036)\nat com.thoughtworks.xstream.XStream.fromXML(XStream.java:912)\nat com.thoughtworks.xstream.XStream.fromXML(XStream.java:903)\nat main.readClass(main.java:48)\nat main.main(main.java:28)\n</code></pre>\n\n<p><strong>Answer:</strong> xstream expects the xml structure to be relative to the package in which it (the object) originates from. So xstream.alias must be used in order to alias the xml structure.</p>\n\n<pre><code>xstream.alias(\"something\", Something.class);\n</code></pre>\n\n<p>Otherwise xstream will expect \"Something\" to be in the default package rather than the package it is a member of.</p>\n"},{"tags":["java","android","button","boolean","animationdrawable"],"owner":{"account_id":29663016,"reputation":1,"user_id":22734184,"display_name":"Leleo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697190299,"creation_date":1697190299,"question_id":77286705,"body_markdown":"I have a project where i have two images in loop in a AnimationDrawable, and i would like to use a single button that play a specific sound for the image that is on screen, for example: when image 1 is on screen when button press audio A plays, when image 2 is on screen on button press audio B play.\r\nI was thinking on use a boolean to identify the image that is on screen, but i don&#39;t know if it is possible or if there is a better way to do it. Could someone help me?\r\n\r\nFor now it didn&#39;t work for:\r\n\r\n---\r\n\r\n        public void onClick(View imagem) {\r\n\r\n              if (snAnimacao.equals(R.drawable.1))\r\n                  A.start();\r\n              else {\r\n                     B.start();\r\n              }\r\n            }","title":"Is it possible to use boolean in an animationDrawable in android studio?","body":"<p>I have a project where i have two images in loop in a AnimationDrawable, and i would like to use a single button that play a specific sound for the image that is on screen, for example: when image 1 is on screen when button press audio A plays, when image 2 is on screen on button press audio B play.\nI was thinking on use a boolean to identify the image that is on screen, but i don't know if it is possible or if there is a better way to do it. Could someone help me?</p>\n<p>For now it didn't work for:</p>\n<hr />\n<pre><code>    public void onClick(View imagem) {\n\n          if (snAnimacao.equals(R.drawable.1))\n              A.start();\n          else {\n                 B.start();\n          }\n        }\n</code></pre>\n"},{"tags":["java","jvm","rvm"],"comments":[{"owner":{"account_id":1021083,"reputation":39852,"user_id":1031417,"accept_rate":85,"display_name":"0x90"},"score":2,"creation_date":1606455058,"post_id":2463936,"comment_id":114971830,"body_markdown":"As jocull had suggested, I find sdkman the best java version manager for my purposes https://sdkman.io/","body":"As jocull had suggested, I find sdkman the best java version manager for my purposes <a href=\"https://sdkman.io/\" rel=\"nofollow noreferrer\">sdkman.io</a>"}],"answers":[{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1443974950,"creation_date":1268843557,"answer_id":2464043,"question_id":2463936,"body_markdown":"With JVMs, if you need to switch between them you just need to use a batch file (or powershell script)  to manage the classpath and JVM path.    You don&#39;t need to rely on the system default JVM path and instead just allow your app to point to whatever JVM you like by changing classpath and JVM path environment in the shell that runs the JVM.\r\n\r\nFor programs that are getting Java location from the Registry, in theory you could use a batch script to update that also.\r\n\r\nIn this respect Java is way easier than &quot;Ruby version manager&quot;.","title":"JVM version manager","body":"<p>With JVMs, if you need to switch between them you just need to use a batch file (or powershell script)  to manage the classpath and JVM path.    You don't need to rely on the system default JVM path and instead just allow your app to point to whatever JVM you like by changing classpath and JVM path environment in the shell that runs the JVM.</p>\n\n<p>For programs that are getting Java location from the Registry, in theory you could use a batch script to update that also.</p>\n\n<p>In this respect Java is way easier than \"Ruby version manager\".</p>\n"},{"tags":[],"owner":{"account_id":183250,"reputation":11610,"user_id":418518,"accept_rate":75,"display_name":"nothing-special-here"},"down_vote_count":4,"up_vote_count":28,"is_accepted":true,"score":24,"last_activity_date":1334164863,"creation_date":1334164863,"answer_id":10110836,"question_id":2463936,"body_markdown":"If you use Ubuntu you can specify which JVM you want to use via command (works only for JVM installed from apt-get or aptitude)\r\n\r\n`sudo update-alternatives --config java`\r\n\r\nOr by setting JAVA_HOME. Here is good tutorial:\r\n\r\nhttp://vietpad.sourceforge.net/javaonlinux.html","title":"JVM version manager","body":"<p>If you use Ubuntu you can specify which JVM you want to use via command (works only for JVM installed from apt-get or aptitude)</p>\n\n<p><code>sudo update-alternatives --config java</code></p>\n\n<p>Or by setting JAVA_HOME. Here is good tutorial:</p>\n\n<p><a href=\"http://vietpad.sourceforge.net/javaonlinux.html\" rel=\"noreferrer\">http://vietpad.sourceforge.net/javaonlinux.html</a></p>\n"},{"tags":[],"owner":{"account_id":143602,"reputation":4091,"user_id":352054,"accept_rate":76,"display_name":"dom farr"},"down_vote_count":1,"up_vote_count":40,"is_accepted":false,"score":39,"last_activity_date":1368020763,"creation_date":1368020763,"answer_id":16442392,"question_id":2463936,"body_markdown":"http://www.jenv.be/ will allow this type of control.","title":"JVM version manager","body":"<p><a href=\"http://www.jenv.be/\" rel=\"noreferrer\">http://www.jenv.be/</a> will allow this type of control.</p>\n"},{"tags":[],"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1420822287,"creation_date":1420822287,"answer_id":27865342,"question_id":2463936,"body_markdown":"The trick is to use update-java-alternatives (from the java-common package).   The update-alternatives command will not update every one of the symbolic links for various java /bin executables, which is why update-java-alternatives is better.\r\n\r\nSo to go for OpenJDK 6 to 7, use `update-java-alternatives -l` to get a list of Java alternatives and then used `sudo update-java-alternatives -s java-1.7.0-openjdk-amd64` to switch the JDK.\r\n\r\nCAVEAT: The command above might throw the following errors,\r\n\r\n    update-alternatives: error: no alternatives for mozilla-javaplugin.so.\r\n    update-java-alternatives: plugin alternative does not exist: \r\n      /usr/lib/jvm/java-7-openjdk-amd64/jre/lib/amd64/IcedTeaPlugin.so\r\n\r\nThis is because the openjdk plugin is not installed by default. To fix run `sudo apt-get install icedtea-7-plugin` and rerun update-java-alternatives.\r\n","title":"JVM version manager","body":"<p>The trick is to use update-java-alternatives (from the java-common package).   The update-alternatives command will not update every one of the symbolic links for various java /bin executables, which is why update-java-alternatives is better.</p>\n\n<p>So to go for OpenJDK 6 to 7, use <code>update-java-alternatives -l</code> to get a list of Java alternatives and then used <code>sudo update-java-alternatives -s java-1.7.0-openjdk-amd64</code> to switch the JDK.</p>\n\n<p>CAVEAT: The command above might throw the following errors,</p>\n\n<pre><code>update-alternatives: error: no alternatives for mozilla-javaplugin.so.\nupdate-java-alternatives: plugin alternative does not exist: \n  /usr/lib/jvm/java-7-openjdk-amd64/jre/lib/amd64/IcedTeaPlugin.so\n</code></pre>\n\n<p>This is because the openjdk plugin is not installed by default. To fix run <code>sudo apt-get install icedtea-7-plugin</code> and rerun update-java-alternatives.</p>\n"},{"tags":[],"owner":{"account_id":223180,"reputation":571,"user_id":482225,"display_name":"Stanley Shyiko"},"down_vote_count":2,"up_vote_count":13,"is_accepted":false,"score":11,"last_activity_date":1682831525,"creation_date":1458885530,"answer_id":36214825,"question_id":2463936,"body_markdown":"For the sake of completeness, there are two more - [jabba][1] (of which I am the author; written in Go and designed after nvm/gvm/rvm)  \r\nand [jenv][2] (not to confuse with jenv.be; doesn&#39;t support installation from oracle but can install from a custom zip).\r\n\r\n\r\n  [1]: https://github.com/shyiko/jabba\r\n  [2]: https://github.com/linux-china/jenv","title":"JVM version manager","body":"<p>For the sake of completeness, there are two more - <a href=\"https://github.com/shyiko/jabba\" rel=\"nofollow noreferrer\">jabba</a> (of which I am the author; written in Go and designed after nvm/gvm/rvm)<br />\nand <a href=\"https://github.com/linux-china/jenv\" rel=\"nofollow noreferrer\">jenv</a> (not to confuse with jenv.be; doesn't support installation from oracle but can install from a custom zip).</p>\n"},{"tags":[],"owner":{"account_id":34640,"reputation":20249,"user_id":97964,"accept_rate":88,"display_name":"jocull"},"down_vote_count":0,"up_vote_count":35,"is_accepted":false,"score":35,"last_activity_date":1539188357,"creation_date":1539188357,"answer_id":52744716,"question_id":2463936,"body_markdown":"[SDKMAN!][1] is a similar tool for the Java ecosystem. Supports various Java versions, Scala, Clojure, Kotlin, Groovy, and build tools like Maven and Gradle.\r\n\r\nWorks on Mac and Linux, with some mentions of support for Windows depending on how hard you are willing to try :)\r\n\r\n\r\n  [1]: https://sdkman.io/","title":"JVM version manager","body":"<p><a href=\"https://sdkman.io/\" rel=\"noreferrer\">SDKMAN!</a> is a similar tool for the Java ecosystem. Supports various Java versions, Scala, Clojure, Kotlin, Groovy, and build tools like Maven and Gradle.</p>\n\n<p>Works on Mac and Linux, with some mentions of support for Windows depending on how hard you are willing to try :)</p>\n"},{"tags":[],"owner":{"account_id":2145690,"reputation":638,"user_id":1903347,"accept_rate":75,"display_name":"Rainer Jung"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1683270417,"creation_date":1642580815,"answer_id":70767380,"question_id":2463936,"body_markdown":"As it is not (yet) in the list of possibilities, there&#39;s also [asdf][1].  \r\n[asdf][1] does not only provide version management for java, it has plugins for [~400 different languages and tools][2] by default, you can find more on [github][3], or [create your own][4].\r\n\r\nHere is an example how to setup a new install (you can also install [completion][5] so you don&#39;t have to list the versions first). The java plugin is added, a specific version (there are versions for `adoptopenjdk`, `corretto`, `dragonwell`, `graalvm`, `liberica`, `mandrel`, `microsoft`, `openjdk`, `oracle`, `sapmachine`, `semeru`, `temurin`, `trava`, `zulu`) is installed and configured to be the global (or local version) to use:\r\n```sh\r\nasdf plugin-add java                # Add java Plugin\r\nasdf list-all java                  # List all available java versions\r\nasdf install java temurin-20.0.1+9  # Install specific jdk version\r\nasdf install java temurin-17.0.7+7  # Install another jdk version\r\nasdf global java temurin-17.0.7+7   # Set the global jdk version\r\nasdf local java temurin-20.0.1+9    # Set the local version for calls from the current directory\r\n```\r\n\r\n[asdf][1] uses a file in `$HOME/.tool-versions` to configure the global selected version. If you call any tool in a directory that has a `.tool-versions` file with a different version, that one is used (defined with `asdf local …`).\r\n\r\n\r\n  [1]: https://asdf-vm.com/\r\n  [2]: https://github.com/asdf-vm/asdf-plugins\r\n  [3]: https://github.com/topics/asdf-plugin\r\n  [4]: https://asdf-vm.com/plugins/create.html\r\n  [5]: https://asdf-vm.com/guide/getting-started.html#_3-install-asdf","title":"JVM version manager","body":"<p>As it is not (yet) in the list of possibilities, there's also <a href=\"https://asdf-vm.com/\" rel=\"nofollow noreferrer\">asdf</a>.<br />\n<a href=\"https://asdf-vm.com/\" rel=\"nofollow noreferrer\">asdf</a> does not only provide version management for java, it has plugins for <a href=\"https://github.com/asdf-vm/asdf-plugins\" rel=\"nofollow noreferrer\">~400 different languages and tools</a> by default, you can find more on <a href=\"https://github.com/topics/asdf-plugin\" rel=\"nofollow noreferrer\">github</a>, or <a href=\"https://asdf-vm.com/plugins/create.html\" rel=\"nofollow noreferrer\">create your own</a>.</p>\n<p>Here is an example how to setup a new install (you can also install <a href=\"https://asdf-vm.com/guide/getting-started.html#_3-install-asdf\" rel=\"nofollow noreferrer\">completion</a> so you don't have to list the versions first). The java plugin is added, a specific version (there are versions for <code>adoptopenjdk</code>, <code>corretto</code>, <code>dragonwell</code>, <code>graalvm</code>, <code>liberica</code>, <code>mandrel</code>, <code>microsoft</code>, <code>openjdk</code>, <code>oracle</code>, <code>sapmachine</code>, <code>semeru</code>, <code>temurin</code>, <code>trava</code>, <code>zulu</code>) is installed and configured to be the global (or local version) to use:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>asdf plugin-add java                # Add java Plugin\nasdf list-all java                  # List all available java versions\nasdf install java temurin-20.0.1+9  # Install specific jdk version\nasdf install java temurin-17.0.7+7  # Install another jdk version\nasdf global java temurin-17.0.7+7   # Set the global jdk version\nasdf local java temurin-20.0.1+9    # Set the local version for calls from the current directory\n</code></pre>\n<p><a href=\"https://asdf-vm.com/\" rel=\"nofollow noreferrer\">asdf</a> uses a file in <code>$HOME/.tool-versions</code> to configure the global selected version. If you call any tool in a directory that has a <code>.tool-versions</code> file with a different version, that one is used (defined with <code>asdf local …</code>).</p>\n"},{"tags":[],"owner":{"account_id":9880770,"reputation":1,"user_id":7316941,"display_name":"user7316941"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697190148,"creation_date":1697190148,"answer_id":77286687,"question_id":2463936,"body_markdown":"I am using JVMS [here][1] it is very easy to use and the only one I could find for Windows, it works like RVM.\r\n\r\n  [1]: https://github.com/ystyle/jvms","title":"JVM version manager","body":"<p>I am using JVMS <a href=\"https://github.com/ystyle/jvms\" rel=\"nofollow noreferrer\">here</a> it is very easy to use and the only one I could find for Windows, it works like RVM.</p>\n"}],"owner":{"account_id":64225,"reputation":6600,"user_id":189722,"accept_rate":71,"display_name":"luacassus"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67212,"favorite_count":0,"down_vote_count":0,"up_vote_count":73,"accepted_answer_id":10110836,"answer_count":8,"score":73,"last_activity_date":1697190148,"creation_date":1268842730,"question_id":2463936,"body_markdown":"Is there [Ruby Version Manager][1] equivalent for the Java world?\r\n\r\nI&#39;m looking for tool which allow me to easily download and install a new JVMs and switch between them. For example:\r\n\r\n    jvm install &lt;version&gt;\r\n    jvm list //will list installed JVMs on my system\r\n    jvm use jdk1.6 //will switch my env to jdk 1.6 version, etc.\r\n\r\n\r\n  [1]: http://rvm.beginrescueend.com","title":"JVM version manager","body":"<p>Is there <a href=\"http://rvm.beginrescueend.com\" rel=\"noreferrer\">Ruby Version Manager</a> equivalent for the Java world?</p>\n\n<p>I'm looking for tool which allow me to easily download and install a new JVMs and switch between them. For example:</p>\n\n<pre><code>jvm install &lt;version&gt;\njvm list //will list installed JVMs on my system\njvm use jdk1.6 //will switch my env to jdk 1.6 version, etc.\n</code></pre>\n"},{"tags":["java","jenkins","groovy"],"owner":{"account_id":21525025,"reputation":33,"user_id":15865474,"display_name":"Adnan."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697189899,"creation_date":1697174308,"question_id":77285211,"body_markdown":"How can I transform this XML file to Groovy script in order to configure dependency-check on Jenkins?\r\n\r\nThis is the XML `org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder.xml` file:\r\n```xml\r\n&lt;?xml version=&#39;1.1&#39; encoding=&#39;UTF-8&#39;?&gt;\r\n&lt;org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder_-DependencyCheckToolBuilderDescriptor plugin=&quot;dependency-check-jenkins-plugin@5.1.1&quot;&gt;\r\n  &lt;installations&gt;\r\n    &lt;org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstallation&gt;\r\n      &lt;name&gt;test-dependency-check&lt;/name&gt;\r\n      &lt;home&gt;&lt;/home&gt;\r\n      &lt;properties&gt;\r\n        &lt;hudson.tools.InstallSourceProperty&gt;\r\n          &lt;installers&gt;\r\n            &lt;org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstaller&gt;\r\n              &lt;id&gt;8.2.1&lt;/id&gt;\r\n            &lt;/org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstaller&gt;\r\n          &lt;/installers&gt;\r\n        &lt;/hudson.tools.InstallSourceProperty&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstallation&gt;\r\n  &lt;/installations&gt;\r\n&lt;/org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder_-DependencyCheckToolBuilderDescriptor&gt;\r\n```\r\n\r\nThis is the groovy code.\r\n```groovy\r\n      import hudson.model.*\r\n      import hudson.tools.*\r\n      import jenkins.model.*\r\n      import org.jenkinsci.plugins.DependencyCheck.*\r\n\r\n      String name = &#39;test-dependency-check&#39;\r\n      String id = &#39;8.2.1&#39;\r\n\r\n      def instance = Jenkins.getInstance()\r\n      def descriptor = instance.getDescriptor(DependencyCheckToolBuilder.DependencyCheckToolBuilderDescriptor.class)\r\n      def installations = descriptor.getInstallations()\r\n\r\n      def installation = new DependencyCheckInstallation(name, null)\r\n      def properties = new InstallSourceProperty([new DependencyCheckInstaller(id)])\r\n      installation.setProperties(properties)\r\n\r\n      installations.add(installation)\r\n      descriptor.save()\r\n```\r\n\r\nAnd this is the error.\r\n```none\r\n&quot;msg&quot;: &quot;script failed with stacktrace:\\n org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\\nScript1.groovy: 13: unable to resolve class DependencyCheckInstallation \\n @ line 13, column 20.\\n   def installation = new DependencyCheckInstallation(name, null)\\n                      ^\\n\\nScript1.groovy: 14: unable to resolve class DependencyCheckInstaller \\n @ line 14, column 45.\\n    = new InstallSourceProperty([new Depend\\n                                 ^\\n\\n2 errors\\n\\n\\tat org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:310)\\n\\tat org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:958)\\n\\tat org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:605)\\n\\tat org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:554)\\n\\tat groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:298)\\n\\tat groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:268)\\n\\tat groovy.lang.GroovyShell.parseClass(GroovyShell.java:688)\\n\\tat groovy.lang.GroovyShell.parse(GroovyShell.java:700)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:584)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:623)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:594)\\n\\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:142)\\n\\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:114)\\n\\tat hudson.remoting.LocalChannel.call(LocalChannel.java:45)\\n\\tat hudson.util.RemotingDiagnostics.executeGroovy(RemotingDiagnostics.java:111)\\n\\tat jenkins.model.Jenkins._doScript(Jenkins.java:4516)\\n\\tat jenkins.model.Jenkins.doScriptText(Jenkins.java:4494)\\n\\tat java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)\\n\\tat org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:396)\\n\\tat org.kohsuke.stapler.Function$InstanceFunction.invoke(Function.java:408)\\n\\tat org.kohsuke.stapler.Function.bindAndInvoke(Function.java:212)\\n\\tat org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:145)\\n\\tat org.kohsuke.stapler.MetaClass$11.doDispatch(MetaClass.java:535)\\n\\tat org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:58)\\n\\tat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:747)\\n\\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:878)\\n\\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:676)\\n\\tat org.kohsuke.stapler.Stapler.service(Stapler.java:238)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\\n\\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\\n\\tat jenkins.security.ResourceDomainFilter.doFilter(ResourceDomainFilter.java:76)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat hudson.plugins.audit_trail.AuditTrailFilter.doFilter(AuditTrailFilter.java:113)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat com.atlassian.bitbucket.jenkins.internal.applink.oauth.serviceprovider.auth.OAuth1aRequestFilter.doFilter(OAuth1aRequestFilter.java:91)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\\n\\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\\n\\tat net.bull.javamelody.PluginMonitoringFilter.doFilter(PluginMonitoringFilter.java:88)\\n\\tat org.jvnet.hudson.plugins.monitoring.HudsonMonitoringFilter.doFilter(HudsonMonitoringFilter.java:114)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat jenkins.telemetry.impl.UserLanguages$AcceptLanguageFilter.doFilter(UserLanguages.java:128)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:157)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:153)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:84)\\n\\tat hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:51)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat jenkins.security.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.ui.rememberme.RememberMeProcessingFilter.doFilter(RememberMeProcessingFilter.java:142)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:271)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat jenkins.security.BasicHeaderProcessor.success(BasicHeaderProcessor.java:139)\\n\\tat jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:82)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)\\n\\tat hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:67)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:90)\\n\\tat hudson.security.HudsonFilter.doFilter(HudsonFilter.java:171)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:49)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:82)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat jenkins.security.SuspiciousRequestFilter.doFilter(SuspiciousRequestFilter.java:36)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\\n\\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:566)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1610)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1300)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1580)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1215)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\n\\tat org.eclipse.jetty.server.Server.handle(Server.java:500)\\n\\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)\\n\\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)\\n\\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)\\n\\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)\\n\\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\\n\\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)\\n\\tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\\n\\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\\n\\tat java.lang.Thread.run(Thread.java:750)\\n&quot;, \r\n    &quot;output&quot;: &quot;&quot;\r\n```","title":"How can I configure OWASP dependency-check on Jenkins?","body":"<p>How can I transform this XML file to Groovy script in order to configure dependency-check on Jenkins?</p>\n<p>This is the XML <code>org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder.xml</code> file:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version='1.1' encoding='UTF-8'?&gt;\n&lt;org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder_-DependencyCheckToolBuilderDescriptor plugin=&quot;dependency-check-jenkins-plugin@5.1.1&quot;&gt;\n  &lt;installations&gt;\n    &lt;org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstallation&gt;\n      &lt;name&gt;test-dependency-check&lt;/name&gt;\n      &lt;home&gt;&lt;/home&gt;\n      &lt;properties&gt;\n        &lt;hudson.tools.InstallSourceProperty&gt;\n          &lt;installers&gt;\n            &lt;org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstaller&gt;\n              &lt;id&gt;8.2.1&lt;/id&gt;\n            &lt;/org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstaller&gt;\n          &lt;/installers&gt;\n        &lt;/hudson.tools.InstallSourceProperty&gt;\n      &lt;/properties&gt;\n    &lt;/org.jenkinsci.plugins.DependencyCheck.tools.DependencyCheckInstallation&gt;\n  &lt;/installations&gt;\n&lt;/org.jenkinsci.plugins.DependencyCheck.DependencyCheckToolBuilder_-DependencyCheckToolBuilderDescriptor&gt;\n</code></pre>\n<p>This is the groovy code.</p>\n<pre><code>      import hudson.model.*\n      import hudson.tools.*\n      import jenkins.model.*\n      import org.jenkinsci.plugins.DependencyCheck.*\n\n      String name = 'test-dependency-check'\n      String id = '8.2.1'\n\n      def instance = Jenkins.getInstance()\n      def descriptor = instance.getDescriptor(DependencyCheckToolBuilder.DependencyCheckToolBuilderDescriptor.class)\n      def installations = descriptor.getInstallations()\n\n      def installation = new DependencyCheckInstallation(name, null)\n      def properties = new InstallSourceProperty([new DependencyCheckInstaller(id)])\n      installation.setProperties(properties)\n\n      installations.add(installation)\n      descriptor.save()\n</code></pre>\n<p>And this is the error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>&quot;msg&quot;: &quot;script failed with stacktrace:\\n org.codehaus.groovy.control.MultipleCompilationErrorsException: startup failed:\\nScript1.groovy: 13: unable to resolve class DependencyCheckInstallation \\n @ line 13, column 20.\\n   def installation = new DependencyCheckInstallation(name, null)\\n                      ^\\n\\nScript1.groovy: 14: unable to resolve class DependencyCheckInstaller \\n @ line 14, column 45.\\n    = new InstallSourceProperty([new Depend\\n                                 ^\\n\\n2 errors\\n\\n\\tat org.codehaus.groovy.control.ErrorCollector.failIfErrors(ErrorCollector.java:310)\\n\\tat org.codehaus.groovy.control.CompilationUnit.applyToSourceUnits(CompilationUnit.java:958)\\n\\tat org.codehaus.groovy.control.CompilationUnit.doPhaseOperation(CompilationUnit.java:605)\\n\\tat org.codehaus.groovy.control.CompilationUnit.compile(CompilationUnit.java:554)\\n\\tat groovy.lang.GroovyClassLoader.doParseClass(GroovyClassLoader.java:298)\\n\\tat groovy.lang.GroovyClassLoader.parseClass(GroovyClassLoader.java:268)\\n\\tat groovy.lang.GroovyShell.parseClass(GroovyShell.java:688)\\n\\tat groovy.lang.GroovyShell.parse(GroovyShell.java:700)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:584)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:623)\\n\\tat groovy.lang.GroovyShell.evaluate(GroovyShell.java:594)\\n\\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:142)\\n\\tat hudson.util.RemotingDiagnostics$Script.call(RemotingDiagnostics.java:114)\\n\\tat hudson.remoting.LocalChannel.call(LocalChannel.java:45)\\n\\tat hudson.util.RemotingDiagnostics.executeGroovy(RemotingDiagnostics.java:111)\\n\\tat jenkins.model.Jenkins._doScript(Jenkins.java:4516)\\n\\tat jenkins.model.Jenkins.doScriptText(Jenkins.java:4494)\\n\\tat java.lang.invoke.MethodHandle.invokeWithArguments(MethodHandle.java:627)\\n\\tat org.kohsuke.stapler.Function$MethodFunction.invoke(Function.java:396)\\n\\tat org.kohsuke.stapler.Function$InstanceFunction.invoke(Function.java:408)\\n\\tat org.kohsuke.stapler.Function.bindAndInvoke(Function.java:212)\\n\\tat org.kohsuke.stapler.Function.bindAndInvokeAndServeResponse(Function.java:145)\\n\\tat org.kohsuke.stapler.MetaClass$11.doDispatch(MetaClass.java:535)\\n\\tat org.kohsuke.stapler.NameBasedDispatcher.dispatch(NameBasedDispatcher.java:58)\\n\\tat org.kohsuke.stapler.Stapler.tryInvoke(Stapler.java:747)\\n\\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:878)\\n\\tat org.kohsuke.stapler.Stapler.invoke(Stapler.java:676)\\n\\tat org.kohsuke.stapler.Stapler.service(Stapler.java:238)\\n\\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:790)\\n\\tat org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:755)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1617)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:154)\\n\\tat jenkins.security.ResourceDomainFilter.doFilter(ResourceDomainFilter.java:76)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat hudson.plugins.audit_trail.AuditTrailFilter.doFilter(AuditTrailFilter.java:113)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat com.atlassian.bitbucket.jenkins.internal.applink.oauth.serviceprovider.auth.OAuth1aRequestFilter.doFilter(OAuth1aRequestFilter.java:91)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:239)\\n\\tat net.bull.javamelody.MonitoringFilter.doFilter(MonitoringFilter.java:215)\\n\\tat net.bull.javamelody.PluginMonitoringFilter.doFilter(PluginMonitoringFilter.java:88)\\n\\tat org.jvnet.hudson.plugins.monitoring.HudsonMonitoringFilter.doFilter(HudsonMonitoringFilter.java:114)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat jenkins.telemetry.impl.UserLanguages$AcceptLanguageFilter.doFilter(UserLanguages.java:128)\\n\\tat hudson.util.PluginServletFilter$1.doFilter(PluginServletFilter.java:151)\\n\\tat hudson.util.PluginServletFilter.doFilter(PluginServletFilter.java:157)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.security.csrf.CrumbFilter.doFilter(CrumbFilter.java:153)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:84)\\n\\tat hudson.security.UnwrapSecurityExceptionFilter.doFilter(UnwrapSecurityExceptionFilter.java:51)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat jenkins.security.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.providers.anonymous.AnonymousProcessingFilter.doFilter(AnonymousProcessingFilter.java:125)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.ui.rememberme.RememberMeProcessingFilter.doFilter(RememberMeProcessingFilter.java:142)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.ui.AbstractProcessingFilter.doFilter(AbstractProcessingFilter.java:271)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat jenkins.security.BasicHeaderProcessor.success(BasicHeaderProcessor.java:139)\\n\\tat jenkins.security.BasicHeaderProcessor.doFilter(BasicHeaderProcessor.java:82)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat org.acegisecurity.context.HttpSessionContextIntegrationFilter.doFilter(HttpSessionContextIntegrationFilter.java:249)\\n\\tat hudson.security.HttpSessionContextIntegrationFilter2.doFilter(HttpSessionContextIntegrationFilter2.java:67)\\n\\tat hudson.security.ChainedServletFilter$1.doFilter(ChainedServletFilter.java:87)\\n\\tat hudson.security.ChainedServletFilter.doFilter(ChainedServletFilter.java:90)\\n\\tat hudson.security.HudsonFilter.doFilter(HudsonFilter.java:171)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.kohsuke.stapler.compression.CompressionFilter.doFilter(CompressionFilter.java:49)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat hudson.util.CharacterEncodingFilter.doFilter(CharacterEncodingFilter.java:82)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.kohsuke.stapler.DiagnosticThreadNameFilter.doFilter(DiagnosticThreadNameFilter.java:30)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat jenkins.security.SuspiciousRequestFilter.doFilter(SuspiciousRequestFilter.java:36)\\n\\tat org.eclipse.jetty.servlet.ServletHandler$CachedChain.doFilter(ServletHandler.java:1604)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:545)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:143)\\n\\tat org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:566)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:235)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:1610)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextHandle(ScopedHandler.java:233)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1300)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:188)\\n\\tat org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:485)\\n\\tat org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:1580)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.nextScope(ScopedHandler.java:186)\\n\\tat org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1215)\\n\\tat org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)\\n\\tat org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:127)\\n\\tat org.eclipse.jetty.server.Server.handle(Server.java:500)\\n\\tat org.eclipse.jetty.server.HttpChannel.lambda$handle$1(HttpChannel.java:383)\\n\\tat org.eclipse.jetty.server.HttpChannel.dispatch(HttpChannel.java:547)\\n\\tat org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:375)\\n\\tat org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:273)\\n\\tat org.eclipse.jetty.io.AbstractConnection$ReadCallback.succeeded(AbstractConnection.java:311)\\n\\tat org.eclipse.jetty.io.FillInterest.fillable(FillInterest.java:103)\\n\\tat org.eclipse.jetty.io.ChannelEndPoint$2.run(ChannelEndPoint.java:117)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.runTask(EatWhatYouKill.java:336)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.doProduce(EatWhatYouKill.java:313)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.tryProduce(EatWhatYouKill.java:171)\\n\\tat org.eclipse.jetty.util.thread.strategy.EatWhatYouKill.run(EatWhatYouKill.java:129)\\n\\tat org.eclipse.jetty.util.thread.ReservedThreadExecutor$ReservedThread.run(ReservedThreadExecutor.java:375)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:806)\\n\\tat org.eclipse.jetty.util.thread.QueuedThreadPool$Runner.run(QueuedThreadPool.java:938)\\n\\tat java.lang.Thread.run(Thread.java:750)\\n&quot;, \n    &quot;output&quot;: &quot;&quot;\n</code></pre>\n"},{"tags":["java","apache-poi","hssf"],"comments":[{"owner":{"account_id":125988,"reputation":4853,"user_id":2115021,"accept_rate":20,"display_name":"Kick"},"score":0,"creation_date":1392272899,"post_id":21746724,"comment_id":32892354,"body_markdown":"If u get the value in string then simply use trim() method.What issue u r facing ?","body":"If u get the value in string then simply use trim() method.What issue u r facing ?"},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":0,"creation_date":1392272965,"post_id":21746724,"comment_id":32892387,"body_markdown":"show _current output_ and _expected output_.","body":"show <i>current output</i> and <i>expected output</i>."},{"owner":{"account_id":3830958,"reputation":105,"user_id":3176494,"accept_rate":38,"display_name":"akash"},"score":0,"creation_date":1392273243,"post_id":21746724,"comment_id":32892526,"body_markdown":"like this - cellTempList.add((cell.toString()).trim()+&quot;&quot;); or cellTempList.add(cell.toString().trim()+&quot;&quot;);","body":"like this - cellTempList.add((cell.toString()).trim()+&quot;&quot;); or cellTempList.add(cell.toString().trim()+&quot;&quot;);"},{"owner":{"account_id":3354520,"reputation":5062,"user_id":2817802,"accept_rate":100,"display_name":"Baby"},"score":1,"creation_date":1392273474,"post_id":21746724,"comment_id":32892637,"body_markdown":"@akash you don&#39;t need to `trim` `cell.toString()` its already _trimmed_ . you need to `trim()` each `elements` inside the `list`","body":"@akash you don&#39;t need to <code>trim</code> <code>cell.toString()</code> its already <i>trimmed</i> . you need to <code>trim()</code> each <code>elements</code> inside the <code>list</code>"}],"answers":[{"tags":[],"owner":{"account_id":29596570,"reputation":1,"user_id":22682957,"display_name":"Foxxy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697189503,"creation_date":1697189503,"answer_id":77286616,"question_id":21746724,"body_markdown":"Since Excel uses the other space char (rather than the normal one) as non-breaking space, **trim()** can&#39;t remove this Unicode space.\r\nYou can try using regex\r\n\r\n    val untrimmedData = // data extracted from excel sheet\r\n    val trimmedData = untrimmedData.replaceAll(&quot;^\\\\p{Z}+|\\\\p{Z}+$&quot;, &quot;&quot;);\r\n\r\n","title":"How to use &quot;trim&quot; while retrieving data from xls sheet and csv file?","body":"<p>Since Excel uses the other space char (rather than the normal one) as non-breaking space, <strong>trim()</strong> can't remove this Unicode space.\nYou can try using regex</p>\n<pre><code>val untrimmedData = // data extracted from excel sheet\nval trimmedData = untrimmedData.replaceAll(&quot;^\\\\p{Z}+|\\\\p{Z}+$&quot;, &quot;&quot;);\n</code></pre>\n"}],"owner":{"account_id":3830958,"reputation":105,"user_id":3176494,"accept_rate":38,"display_name":"akash"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1893,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697189503,"creation_date":1392272537,"question_id":21746724,"body_markdown":"i have done following to retrieve code from xls sheet and csv file. i tried using &quot;.trim()&quot; but I am not getting the required output. Please tell where I am going wrong in order to remove any trailing blank spaces from xls cell and csv file. \r\n      \r\n     for (int rowNum = rowStart-1; rowNum &lt; rowEnd+1; rowNum++) {\r\n\t\t\t\tList&lt;String&gt; cellTempList = new ArrayList&lt;String&gt;();\r\n\t\t\t\tRow rowObj = hssfSheet.getRow(rowNum);\r\n\r\n\r\n\t\t\t\tfor (int col = 0; col &lt; columnEnd; col++) {\r\n\t\t\t\t\tCell cell = rowObj.getCell(col, Row.CREATE_NULL_AS_BLANK);\r\n\t\t\t\t\tif(cell.getCellType()==cell.CELL_TYPE_NUMERIC)\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tDecimalFormat df = new DecimalFormat(&quot;#.##&quot;);\r\n\t\t\t\t\t\tString cellValue=df.format(cell.getNumericCellValue());\r\n\t\t\t\t\t\tcellTempList.add(cellValue.toString());\r\n\t\t\t\t\t\tlogger.trace(TId + &quot; Adding cell having string to &quot;+cellTempList);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tcellTempList.add(cell.toString()+&quot;&quot;);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcellDataList.add(cellTempList);\r\n\r\n\r\n     //following to retrieve data from a csv file \r\n      while ((line = stream.readLine()) != null) {\r\n\t\t\t\tif(iteration &lt; iteration1-1 || StringUtils.isBlank(line)) {\r\n\t\t\t\t\titeration++;  \r\n\t\t\t\t\tcontinue;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t//String[] splitted = line.split(&quot;,&quot;);\r\n\t\t\t\tString[] splitted = StringUtils.splitPreserveAllTokens(line,&#39;,&#39;);\r\n\t\t\t\tList&lt;String&gt; dataLine = new ArrayList&lt;String&gt;(splitted.length);\r\n\t\t\t\tfor (String data : splitted)\r\n\t\t\t\t\tdataLine.add(data.trim());\r\n\t\t\t\tcsvData.add(dataLine);\r\n\r\n\t\t\t}\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t\tlogger.error(TId + &quot; Other Exception : &quot; + e.getStackTrace());\r\n\t\t\tthrow new Exception(&quot;-8&quot;);\r\n\t\t}\r\n\t\tfinally {\r\n\t\t\tif (stream != null)\r\n\t\t\t\ttry {\r\n\t\t\t\t\tstream.close();\r\n\t\t\t\t} catch (IOException e) {\r\n\t\t\t\t\t// TODO Auto-generated catch block\r\n\t\t\t\t\t//e.printStackTrace();\r\n\t\t\t\t\tlogger.error(TId + &quot; IOException : &quot; + e.getStackTrace());\r\n\t\t\t\t\tthrow new Exception(&quot;-8&quot;);\r\n\t\t\t\t}\r\n\t\t}\r\n\t\tlogger.info(TId + &quot; [Flow]:Exiting readcsvFile Method....&quot; + csvData);\r\n\t\treturn csvData;\r\n\r\n\t}\r\n\r\nplease help i tried trim but i am not getting the required output\r\n","title":"How to use &quot;trim&quot; while retrieving data from xls sheet and csv file?","body":"<p>i have done following to retrieve code from xls sheet and csv file. i tried using \".trim()\" but I am not getting the required output. Please tell where I am going wrong in order to remove any trailing blank spaces from xls cell and csv file. </p>\n\n<pre><code> for (int rowNum = rowStart-1; rowNum &lt; rowEnd+1; rowNum++) {\n            List&lt;String&gt; cellTempList = new ArrayList&lt;String&gt;();\n            Row rowObj = hssfSheet.getRow(rowNum);\n\n\n            for (int col = 0; col &lt; columnEnd; col++) {\n                Cell cell = rowObj.getCell(col, Row.CREATE_NULL_AS_BLANK);\n                if(cell.getCellType()==cell.CELL_TYPE_NUMERIC)\n                {\n\n                    DecimalFormat df = new DecimalFormat(\"#.##\");\n                    String cellValue=df.format(cell.getNumericCellValue());\n                    cellTempList.add(cellValue.toString());\n                    logger.trace(TId + \" Adding cell having string to \"+cellTempList);\n                } else {\n                    cellTempList.add(cell.toString()+\"\");\n                }\n            }\n\n            cellDataList.add(cellTempList);\n\n\n //following to retrieve data from a csv file \n  while ((line = stream.readLine()) != null) {\n            if(iteration &lt; iteration1-1 || StringUtils.isBlank(line)) {\n                iteration++;  \n                continue;\n            }\n\n            //String[] splitted = line.split(\",\");\n            String[] splitted = StringUtils.splitPreserveAllTokens(line,',');\n            List&lt;String&gt; dataLine = new ArrayList&lt;String&gt;(splitted.length);\n            for (String data : splitted)\n                dataLine.add(data.trim());\n            csvData.add(dataLine);\n\n        }\n    }\n    catch (Exception e) {\n        logger.error(TId + \" Other Exception : \" + e.getStackTrace());\n        throw new Exception(\"-8\");\n    }\n    finally {\n        if (stream != null)\n            try {\n                stream.close();\n            } catch (IOException e) {\n                // TODO Auto-generated catch block\n                //e.printStackTrace();\n                logger.error(TId + \" IOException : \" + e.getStackTrace());\n                throw new Exception(\"-8\");\n            }\n    }\n    logger.info(TId + \" [Flow]:Exiting readcsvFile Method....\" + csvData);\n    return csvData;\n\n}\n</code></pre>\n\n<p>please help i tried trim but i am not getting the required output</p>\n"},{"tags":["java","spring","spring-cache"],"comments":[{"owner":{"account_id":3135856,"reputation":802,"user_id":2652379,"accept_rate":90,"display_name":"user2652379"},"score":0,"creation_date":1616130642,"post_id":42688020,"comment_id":117911710,"body_markdown":"Future visitors, beware... These answers are a mess. I had to mix 2~3 answers to make it right.","body":"Future visitors, beware... These answers are a mess. I had to mix 2~3 answers to make it right."},{"owner":{"account_id":1400717,"reputation":111,"user_id":1329558,"accept_rate":25,"display_name":"CSKR"},"score":1,"creation_date":1620331890,"post_id":42688020,"comment_id":119177221,"body_markdown":"What is the correct answer? can you please post it?","body":"What is the correct answer? can you please post it?"}],"answers":[{"tags":[],"owner":{"account_id":2155152,"reputation":3994,"user_id":1910582,"accept_rate":88,"display_name":"Bond - Java Bond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489041047,"creation_date":1489041047,"answer_id":42688284,"question_id":42688020,"body_markdown":"Spring cache framework is event driven i.e. `@Cacheable` or `@CacheEvict` will be triggered only when respective methods are invoked. \r\n\r\nHowever you can leverage the underlying cache provider (*remember the Spring cache framework is just an abstraction and does not provide a cache solution by itself*) to invalidate the cache by itself. For instance EhCache has a property viz. `timeToLiveSeconds` which dictates the time till the cache be active. But this won&#39;t re-populate the cache for you unless the `@Cacheable` annotated method is invoked.\r\n\r\nSo for cache eviction and re-population at particular time (*say midnight as mentioned*) consider implementing a background [scheduled service][1] in Spring which will trigger the cache eviction and re-population as desired. The expected  behavior is not provided out-of-box. \r\n\r\nHope this helps.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support","title":"Schedule Spring cache eviction?","body":"<p>Spring cache framework is event driven i.e. <code>@Cacheable</code> or <code>@CacheEvict</code> will be triggered only when respective methods are invoked. </p>\n\n<p>However you can leverage the underlying cache provider (<em>remember the Spring cache framework is just an abstraction and does not provide a cache solution by itself</em>) to invalidate the cache by itself. For instance EhCache has a property viz. <code>timeToLiveSeconds</code> which dictates the time till the cache be active. But this won't re-populate the cache for you unless the <code>@Cacheable</code> annotated method is invoked.</p>\n\n<p>So for cache eviction and re-population at particular time (<em>say midnight as mentioned</em>) consider implementing a background <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/scheduling.html#scheduling-annotation-support\" rel=\"nofollow noreferrer\">scheduled service</a> in Spring which will trigger the cache eviction and re-population as desired. The expected  behavior is not provided out-of-box. </p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":5748410,"reputation":907,"user_id":4538944,"display_name":"Oleksandr Bondarchuk"},"down_vote_count":0,"up_vote_count":45,"is_accepted":true,"score":45,"last_activity_date":1644830746,"creation_date":1489041993,"answer_id":42688520,"question_id":42688020,"body_markdown":"Try to use @Scheduled\r\nExample:\r\n\r\n    @Scheduled(fixedRate = ONE_DAY)\r\n\t@CacheEvict(value = { CACHE_NAME })\r\n\tpublic void clearCache() {\t\r\n        log.debug(&quot;Cache &#39;{}&#39; cleared.&quot;, CACHE);\t\r\n\t}\r\n\r\nYou can also use cron expression with @Scheduled.\r\n","title":"Schedule Spring cache eviction?","body":"<p>Try to use @Scheduled\nExample:</p>\n<pre><code>@Scheduled(fixedRate = ONE_DAY)\n@CacheEvict(value = { CACHE_NAME })\npublic void clearCache() {  \n    log.debug(&quot;Cache '{}' cleared.&quot;, CACHE);    \n}\n</code></pre>\n<p>You can also use cron expression with @Scheduled.</p>\n"},{"tags":[],"owner":{"account_id":2731251,"reputation":49,"user_id":2354999,"display_name":"bugsbuRny"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1531920577,"creation_date":1531920577,"answer_id":51403298,"question_id":42688020,"body_markdown":"I know this question is old, but I found a better solution that worked for me. Maybe that will help others.\r\n\r\nSo, it is indeed possible to make a scheduled cache eviction. Here is what I did in my case.\r\n\r\nBoth annotations @Scheduled and @CacheEvict do not seem to work together.\r\nYou must thus split apart the scheduling method and the cache eviction method.\r\nBut since the whole mechanism is based on proxies, only external calls to public methods of your class will trigger the cache eviction. This because internal calls between to methods of the same class do not go through the Spring proxy.\r\n\r\nI managed to fixed it the same way as Celebes (see comments), but with an improvement to avoid two components.\r\n\r\n    @Component\r\n    class MyClass\r\n    {\r\n       \r\n        @Autowired\r\n        MyClass proxiedThis; // store your component inside its Spring proxy.\r\n        \r\n        // A cron expression to define every day at midnight\r\n        @Scheduled(cron =&quot;0 0 * * *&quot;)\r\n        public void cacheEvictionScheduler()\r\n        {\r\n            proxiedThis.clearCache();\r\n        }\r\n    \r\n        @CacheEvict(value = { CACHE_NAME })\r\n        public void clearCache()\r\n        {\r\n            // intentionally left blank. Or add some trace info.\r\n        }    \r\n    }\r\n","title":"Schedule Spring cache eviction?","body":"<p>I know this question is old, but I found a better solution that worked for me. Maybe that will help others.</p>\n\n<p>So, it is indeed possible to make a scheduled cache eviction. Here is what I did in my case.</p>\n\n<p>Both annotations @Scheduled and @CacheEvict do not seem to work together.\nYou must thus split apart the scheduling method and the cache eviction method.\nBut since the whole mechanism is based on proxies, only external calls to public methods of your class will trigger the cache eviction. This because internal calls between to methods of the same class do not go through the Spring proxy.</p>\n\n<p>I managed to fixed it the same way as Celebes (see comments), but with an improvement to avoid two components.</p>\n\n<pre><code>@Component\nclass MyClass\n{\n\n    @Autowired\n    MyClass proxiedThis; // store your component inside its Spring proxy.\n\n    // A cron expression to define every day at midnight\n    @Scheduled(cron =\"0 0 * * *\")\n    public void cacheEvictionScheduler()\n    {\n        proxiedThis.clearCache();\n    }\n\n    @CacheEvict(value = { CACHE_NAME })\n    public void clearCache()\n    {\n        // intentionally left blank. Or add some trace info.\n    }    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13526747,"reputation":181,"user_id":9758356,"display_name":"Johannes Di"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1539329940,"creation_date":1539329940,"answer_id":52774606,"question_id":42688020,"body_markdown":"If you use @Cacheable on methods with parameters, you should NEVER forget the **allEntries=true** annotation property on the @CacheEvict, otherwise your call will only evict the key parameter you give to the clearCache() method, which is nothing =&gt; you will not evict anything from the cache.","title":"Schedule Spring cache eviction?","body":"<p>If you use @Cacheable on methods with parameters, you should NEVER forget the <strong>allEntries=true</strong> annotation property on the @CacheEvict, otherwise your call will only evict the key parameter you give to the clearCache() method, which is nothing => you will not evict anything from the cache.</p>\n"},{"tags":[],"owner":{"account_id":7517740,"reputation":7252,"user_id":5710637,"display_name":"fafl"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1610970790,"creation_date":1601068968,"answer_id":64071461,"question_id":42688020,"body_markdown":"Maybe not the most elegant solution, but `@CacheEvict` was not working, so I directly went for the `CacheManager`.\r\n\r\nThis code clears a cache called `foo` via scheduler:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    class MyClass {\r\n    \r\n        @Autowired CacheManager cacheManager;\r\n\r\n        @Cacheable(value = &quot;foo&quot;)\r\n        public Int expensiveCalculation(String bar) {\r\n            ...\r\n        }\r\n    \r\n        @Scheduled(fixedRate = 60 * 1000);\r\n        public void clearCache() {\r\n            cacheManager.getCache(&quot;foo&quot;).clear();\r\n        }\r\n    }","title":"Schedule Spring cache eviction?","body":"<p>Maybe not the most elegant solution, but <code>@CacheEvict</code> was not working, so I directly went for the <code>CacheManager</code>.</p>\n<p>This code clears a cache called <code>foo</code> via scheduler:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class MyClass {\n\n    @Autowired CacheManager cacheManager;\n\n    @Cacheable(value = &quot;foo&quot;)\n    public Int expensiveCalculation(String bar) {\n        ...\n    }\n\n    @Scheduled(fixedRate = 60 * 1000);\n    public void clearCache() {\n        cacheManager.getCache(&quot;foo&quot;).clear();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6533811,"reputation":99,"user_id":5054104,"display_name":"samit tiwary"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1602237560,"creation_date":1602234720,"answer_id":64277056,"question_id":42688020,"body_markdown":"Please follow the below code.change cron expression accordingly. I have set it for 3 minutes\r\n    \r\n1. Create a class.\r\n    \r\n2. Use the below method inside the class.\r\n       \r\n    ```    \r\n    class A \r\n    {\r\n    @Autowired CacheManager cacheManager;\r\n    \r\n    @Scheduled(cron =&quot;0 */3 * ? * *&quot;)\r\n        public void cacheEvictionScheduler()\r\n        {\r\n        \t logger.info(&quot;inside scheduler start&quot;);\r\n            //clearCache();\r\n        \t evictAllCaches();\r\n            logger.info(&quot;inside scheduler end&quot;);\r\n        }\r\n    \r\n    public void evictAllCaches() {\r\n        \t logger.info(&quot;inside clearcache&quot;);\r\n            cacheManager.getCacheNames().stream()\r\n              .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\r\n        }\r\n    }\r\n    ```\r\n","title":"Schedule Spring cache eviction?","body":"<p>Please follow the below code.change cron expression accordingly. I have set it for 3 minutes</p>\n<ol>\n<li><p>Create a class.</p>\n</li>\n<li><p>Use the below method inside the class.</p>\n<pre><code>class A \n{\n@Autowired CacheManager cacheManager;\n\n@Scheduled(cron =&quot;0 */3 * ? * *&quot;)\n    public void cacheEvictionScheduler()\n    {\n         logger.info(&quot;inside scheduler start&quot;);\n        //clearCache();\n         evictAllCaches();\n        logger.info(&quot;inside scheduler end&quot;);\n    }\n\npublic void evictAllCaches() {\n         logger.info(&quot;inside clearcache&quot;);\n        cacheManager.getCacheNames().stream()\n          .forEach(cacheName -&gt; cacheManager.getCache(cacheName).clear());\n    }\n}\n</code></pre>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3489860,"reputation":2204,"user_id":2919822,"accept_rate":78,"display_name":"JavaDevSweden"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1683643904,"creation_date":1683643904,"answer_id":76210646,"question_id":42688020,"body_markdown":"Use annotations @Scheduled with a cron expression and @CacheEvict with allEntries = true like this:\r\n\r\n    /*\r\n    * This clears the entire cache called &quot;myCache&quot; everyday, \r\n    * at 00.00 (am) in the time zone of the server.\r\n    */\r\n    @Scheduled(cron = &quot;0 0 0 * * ?&quot;)\r\n    @CacheEvict(value = &quot;myCache&quot;, allEntries = true)\r\n    public void clearMyCache() {}\r\n\r\nIf you want to add logic before clearing the cache you can do so in the method body:\r\n\r\n    /*\r\n    * This clears the entire cache called &quot;myCache&quot; everyday, \r\n    * at 00.00 (am) in the time zone of the server.\r\n    */\r\n    @Scheduled(cron = &quot;0 0 0 * * ?&quot;)\r\n    @CacheEvict(value = &quot;myCache&quot;, allEntries = true)\r\n    public void clearMyCache() {\r\n\r\n        // Add logic here\r\n        log.debug(&quot;Clearing myCache now&quot;);\r\n\r\n    }\r\n\r\nThe CacheEvict hapens after your code runs and only if it doesn&#39;t throw any exceptions. You can change that by adding &quot;beforeInvocation = true&quot; in which case it evicts the cache first, then runs your code.","title":"Schedule Spring cache eviction?","body":"<p>Use annotations @Scheduled with a cron expression and @CacheEvict with allEntries = true like this:</p>\n<pre><code>/*\n* This clears the entire cache called &quot;myCache&quot; everyday, \n* at 00.00 (am) in the time zone of the server.\n*/\n@Scheduled(cron = &quot;0 0 0 * * ?&quot;)\n@CacheEvict(value = &quot;myCache&quot;, allEntries = true)\npublic void clearMyCache() {}\n</code></pre>\n<p>If you want to add logic before clearing the cache you can do so in the method body:</p>\n<pre><code>/*\n* This clears the entire cache called &quot;myCache&quot; everyday, \n* at 00.00 (am) in the time zone of the server.\n*/\n@Scheduled(cron = &quot;0 0 0 * * ?&quot;)\n@CacheEvict(value = &quot;myCache&quot;, allEntries = true)\npublic void clearMyCache() {\n\n    // Add logic here\n    log.debug(&quot;Clearing myCache now&quot;);\n\n}\n</code></pre>\n<p>The CacheEvict hapens after your code runs and only if it doesn't throw any exceptions. You can change that by adding &quot;beforeInvocation = true&quot; in which case it evicts the cache first, then runs your code.</p>\n"},{"tags":[],"owner":{"account_id":1628102,"reputation":3602,"user_id":1503163,"display_name":"Sanjay Bharwani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697189456,"creation_date":1697189456,"answer_id":77286613,"question_id":42688020,"body_markdown":"You can define a scheduled cache eviction and it can work on the cron expression.\r\n\r\nFor e.g. below code will evict the cache \r\n\r\n    @CacheEvict(value = &quot;movieList&quot;, allEntries = true)\r\n      @Scheduled(cron = &quot;@midnight&quot;, zone = &quot;UTC&quot;)\r\n      public void evictMoviesCache() {\r\n        // Nothing to do. Cache eviction schedule, you can optionally log here.\r\n      }\r\n\r\nAnother variation is\r\n\r\n       @CacheEvict(value = &quot;movieList&quot;, allEntries = true)\r\n       @Scheduled(fixedDelay = 12, timeUnit = TimeUnit.HOURS)\r\n          public void evictMoviesCache() {\r\n            // Nothing to do. Cache eviction schedule, you can optionally log here.\r\n          }","title":"Schedule Spring cache eviction?","body":"<p>You can define a scheduled cache eviction and it can work on the cron expression.</p>\n<p>For e.g. below code will evict the cache</p>\n<pre><code>@CacheEvict(value = &quot;movieList&quot;, allEntries = true)\n  @Scheduled(cron = &quot;@midnight&quot;, zone = &quot;UTC&quot;)\n  public void evictMoviesCache() {\n    // Nothing to do. Cache eviction schedule, you can optionally log here.\n  }\n</code></pre>\n<p>Another variation is</p>\n<pre><code>   @CacheEvict(value = &quot;movieList&quot;, allEntries = true)\n   @Scheduled(fixedDelay = 12, timeUnit = TimeUnit.HOURS)\n      public void evictMoviesCache() {\n        // Nothing to do. Cache eviction schedule, you can optionally log here.\n      }\n</code></pre>\n"}],"owner":{"account_id":1789975,"reputation":1548,"user_id":1630619,"accept_rate":77,"display_name":"Philippe Gioseffi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38348,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":42688520,"answer_count":8,"score":34,"last_activity_date":1697189456,"creation_date":1489039916,"question_id":42688020,"body_markdown":"Is it possible to schedule spring cache eviction to everyday at midnight?\r\n\r\nI&#39;ve read [Springs Cache Docs](https://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html&amp;ei=mQb4BLm6) and found nothing about scheduled cache eviction.\r\n\r\nI need to evict cache daily and recache it in case there were some changes outside my application.","title":"Schedule Spring cache eviction?","body":"<p>Is it possible to schedule spring cache eviction to everyday at midnight?</p>\n\n<p>I've read <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/html/cache.html&amp;ei=mQb4BLm6\" rel=\"noreferrer\">Springs Cache Docs</a> and found nothing about scheduled cache eviction.</p>\n\n<p>I need to evict cache daily and recache it in case there were some changes outside my application.</p>\n"},{"tags":["java","completable-future"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1697190742,"post_id":77285424,"comment_id":136251715,"body_markdown":"Your `nonBlocking` task does not wait for anything. The code as posted does already have the behavior you want to achieve.","body":"Your <code>nonBlocking</code> task does not wait for anything. The code as posted does already have the behavior you want to achieve."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697186648,"creation_date":1697186648,"answer_id":77286322,"question_id":77285424,"body_markdown":"# Another executor service \r\n\r\nIf some tasks are holding up pressing tasks, create another executor service. \r\n\r\n    Executor executorPooled = Executors.newFixedThreadPool(2);\r\n    Executor executorPriority = Executors.newSingleThreadExecutor();\r\n\r\n","title":"CompletableFuture run task in a non-blocking way with limited threads in JAVA","body":"<h1>Another executor service</h1>\n<p>If some tasks are holding up pressing tasks, create another executor service.</p>\n<pre><code>Executor executorPooled = Executors.newFixedThreadPool(2);\nExecutor executorPriority = Executors.newSingleThreadExecutor();\n</code></pre>\n"}],"owner":{"account_id":19814828,"reputation":15,"user_id":14512786,"display_name":"aryakdangol"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697188372,"creation_date":1697177262,"question_id":77285424,"body_markdown":"I have defined a pool of 2 threads like this: \r\n```java\r\nExecutor executor = Executors.newFixedThreadPool(2);\r\n```\r\nNow I have three tasks, two of which are blocking and one which is non-blocking.\r\n```java\r\nCompletableFuture&lt;Integer&gt; blocking1 = CompletableFuture.supplyAsync(callableTask1, executor);\r\nCompletableFuture&lt;Integer&gt;blocking2 = CompletableFuture.supplyAsync(callableTask2, executor);\r\n\r\nCompletableFuture&lt;Void&gt; nonBlocking = CompletableFuture.runAsync(() -&gt; {\r\n    System.out.println(&quot;nonBlocking task&#39;s thread:  &quot; + Thread.currentThread());\r\n    System.out.println(&quot;Non Blocking task&quot;);\r\n});\r\n```\r\nBoth `callableTask1` and `callableTask2` are blocking as it makes the thread wait. Currently, to print &quot;Non-Blocking task&quot; it is waiting for any of the blocking task to free up the thread. I want any thread to not wait for any of the task to finish and process `nonBlocking` task immediately.\r\n\r\nThe output should be:\r\n\r\n&quot;Non Blocking Task&quot; -&gt; first  \r\n&quot;callable Task1&quot; or &quot;callable Task2&quot; -&gt; second\r\n","title":"CompletableFuture run task in a non-blocking way with limited threads in JAVA","body":"<p>I have defined a pool of 2 threads like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Executor executor = Executors.newFixedThreadPool(2);\n</code></pre>\n<p>Now I have three tasks, two of which are blocking and one which is non-blocking.</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;Integer&gt; blocking1 = CompletableFuture.supplyAsync(callableTask1, executor);\nCompletableFuture&lt;Integer&gt;blocking2 = CompletableFuture.supplyAsync(callableTask2, executor);\n\nCompletableFuture&lt;Void&gt; nonBlocking = CompletableFuture.runAsync(() -&gt; {\n    System.out.println(&quot;nonBlocking task's thread:  &quot; + Thread.currentThread());\n    System.out.println(&quot;Non Blocking task&quot;);\n});\n</code></pre>\n<p>Both <code>callableTask1</code> and <code>callableTask2</code> are blocking as it makes the thread wait. Currently, to print &quot;Non-Blocking task&quot; it is waiting for any of the blocking task to free up the thread. I want any thread to not wait for any of the task to finish and process <code>nonBlocking</code> task immediately.</p>\n<p>The output should be:</p>\n<p>&quot;Non Blocking Task&quot; -&gt; first<br />\n&quot;callable Task1&quot; or &quot;callable Task2&quot; -&gt; second</p>\n"},{"tags":["java","junit","quarkus"],"answers":[{"tags":[],"owner":{"account_id":385127,"reputation":6284,"user_id":742081,"display_name":"Ladicek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697188307,"creation_date":1697188307,"answer_id":77286496,"question_id":77286179,"body_markdown":"The previous `@InjectMock` annotation (`io.quarkus.test.junit.mockito.InjectMock`) is deprecated for removal, because it may be used on places where its configuration options (`convertScopes`, `returnsDeepMocks`) don&#39;t make sense. The new `@InjectMock` annotation (`io.quarkus.test.InjectMock`) doesn&#39;t have the configuration options.\r\n\r\nThe replacement is the `@MockitoConfig` annotation (`io.quarkus.test.junit.mockito.MockitoConfig`), which has the same configuration options. Use the new `@InjectMock` annotation together with `@MockitoConfig`.","title":"@InjectMock(deepMock=true) deprecation fix, How to use it after removal?","body":"<p>The previous <code>@InjectMock</code> annotation (<code>io.quarkus.test.junit.mockito.InjectMock</code>) is deprecated for removal, because it may be used on places where its configuration options (<code>convertScopes</code>, <code>returnsDeepMocks</code>) don't make sense. The new <code>@InjectMock</code> annotation (<code>io.quarkus.test.InjectMock</code>) doesn't have the configuration options.</p>\n<p>The replacement is the <code>@MockitoConfig</code> annotation (<code>io.quarkus.test.junit.mockito.MockitoConfig</code>), which has the same configuration options. Use the new <code>@InjectMock</code> annotation together with <code>@MockitoConfig</code>.</p>\n"}],"owner":{"account_id":29662516,"reputation":3,"user_id":22733783,"display_name":"Jack Daniels"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77286496,"answer_count":1,"score":0,"last_activity_date":1697188307,"creation_date":1697185337,"question_id":77286179,"body_markdown":"I got a project that I am doing a Quarkus Update on. The project uses the DeepMock Option while doing JUnit Tests. Probleme is that this is marked for removal and making issues when trying to remove. \r\n\r\nSo far I haven&#39;t found any docs detailing how to replace DeepMock with oncoming JUnit and Mokito versions.\r\nDoes anyone have an Solution?\r\n\r\nI tried to just remove to option, leading to a failure of all effected JUnit-Tests","title":"@InjectMock(deepMock=true) deprecation fix, How to use it after removal?","body":"<p>I got a project that I am doing a Quarkus Update on. The project uses the DeepMock Option while doing JUnit Tests. Probleme is that this is marked for removal and making issues when trying to remove.</p>\n<p>So far I haven't found any docs detailing how to replace DeepMock with oncoming JUnit and Mokito versions.\nDoes anyone have an Solution?</p>\n<p>I tried to just remove to option, leading to a failure of all effected JUnit-Tests</p>\n"},{"tags":["java","android","sdk"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1696852262,"post_id":77258535,"comment_id":136201764,"body_markdown":"If you are not using the dependency, just remove it (from your `build.gradle` file)","body":"If you are not using the dependency, just remove it (from your <code>build.gradle</code> file)"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1696852328,"post_id":77258535,"comment_id":136201772,"body_markdown":"And for future reference, a compiler doesn&#39;t throw tantrums, it throws error messages. Usually those contain useful information.","body":"And for future reference, a compiler doesn&#39;t throw tantrums, it throws error messages. Usually those contain useful information."},{"owner":{"account_id":8022083,"reputation":187,"user_id":6050435,"accept_rate":62,"display_name":"Prajjwal Srivastav"},"score":0,"creation_date":1696853117,"post_id":77258535,"comment_id":136201915,"body_markdown":"Please post a screenshot or copy of your stack trace, project structure and other relevant information. It will help us to help you.","body":"Please post a screenshot or copy of your stack trace, project structure and other relevant information. It will help us to help you."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1696855321,"post_id":77258535,"comment_id":136202354,"body_markdown":"No screenshots of text, put the text directly in your question.","body":"No screenshots of text, put the text directly in your question."},{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":2,"creation_date":1696862056,"post_id":77258535,"comment_id":136203824,"body_markdown":"@PrajjwalSrivastav For more details why not to use screenshots in Stackoverflow please read the Meta FAQ entry [Why not upload images of code/errors when asking a question?](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557)","body":"@PrajjwalSrivastav For more details why not to use screenshots in Stackoverflow please read the Meta FAQ entry <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors/285557#285557\">Why not upload images of code/errors when asking a question?</a>"},{"owner":{"account_id":72095,"reputation":18817,"user_id":208273,"display_name":"Ryan M"},"score":0,"creation_date":1696924988,"post_id":77258535,"comment_id":136211491,"body_markdown":"Also, that&#39;s not the _entire_ error message.  You really do need the whole thing.","body":"Also, that&#39;s not the <i>entire</i> error message.  You really do need the whole thing."},{"owner":{"account_id":20433162,"reputation":51,"user_id":14991673,"display_name":"Reddi3n"},"score":0,"creation_date":1697026138,"post_id":77258535,"comment_id":136227175,"body_markdown":"Thank you for advices, I had to set only compileSdk to 34 setting both did not work.","body":"Thank you for advices, I had to set only compileSdk to 34 setting both did not work."},{"owner":{"account_id":1942859,"reputation":836,"user_id":1748628,"display_name":"Coder Roadie"},"score":0,"creation_date":1697898437,"post_id":77258535,"comment_id":136338659,"body_markdown":"This question was complete enough to answer. Why was it closed? I disagree with the idea that it needs debugging details. Obviously Android Studio is showing a new error.","body":"This question was complete enough to answer. Why was it closed? I disagree with the idea that it needs debugging details. Obviously Android Studio is showing a new error."},{"owner":{"account_id":1942859,"reputation":836,"user_id":1748628,"display_name":"Coder Roadie"},"score":0,"creation_date":1697898532,"post_id":77258535,"comment_id":136338671,"body_markdown":"The solution that worked for for me is to use material library 1.9.0 instead of 1.10.0:\nimplementation &#39;com.google.android.material:material:1.9.0&#39;\n found here: https://codeforfun.jp/android-studio-an-issue-was-found-when-checking-aar-metadata-error/","body":"The solution that worked for for me is to use material library 1.9.0 instead of 1.10.0: implementation &#39;com.google.android.material:material:1.9.0&#39;  found here: <a href=\"https://codeforfun.jp/android-studio-an-issue-was-found-when-checking-aar-metadata-error/\" rel=\"nofollow noreferrer\">codeforfun.jp/&hellip;</a>"}],"owner":{"account_id":20433162,"reputation":51,"user_id":14991673,"display_name":"Reddi3n"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1965,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"closed_date":1696924941,"answer_count":0,"score":2,"last_activity_date":1697187989,"creation_date":1696851563,"question_id":77258535,"body_markdown":"Someone help me with this please. I dont even use this dependency =&gt; androidx.activity:activity:1.8.0.\r\n\r\nI am new to Android SDK but this pretty much ruins my whole learning process. I dont even have this dependency in my build.gradle (app) file, wth?\r\n\r\nGoogle finds nothing on this matter. My compileSdk and targetSdk are set to 33 - still nothing, setting it to 34 it throws tantrum.\r\n\r\n\r\n\r\nI&#39;m desperate, I just added a button to my view...\r\n\r\n\r\nEDIT: Does not matter if I create a new project or rebuild the gradle, it still throws this. No matter what.\r\n\r\nError:\\\r\nAn issue was found when checking AAR metadata:\r\n\r\n  1.  Dependency &#39;androidx.activity:activity:1.8.0&#39; requires libraries and applications that\r\n      depend on it to compile against version 34 or later of the\r\n      Android APIs.\r\n\r\n      :app is currently compiled against android-33.\r\n\r\n      Also, the maximum recommended compile SDK version for Android Gradle\r\n      plugin 7.4.2 is 33.\r\n\r\n      Recommended action: Update this project&#39;s version of the Android Gradle\r\n      plugin to one that supports 34, then update this project to use\r\n      compileSdkVerion of at least 34.\r\n\r\n      Note that updating a library or application&#39;s compileSdkVersion (which\r\n      allows newer APIs to be used) can be done separately from updating\r\n      targetSdkVersion (which opts the app in to new runtime behavior) and\r\n      minSdkVersion (which determines which devices the app can be installed\r\n      on).","title":"Dependency &#39;androidx.activity:activity:1.8.0&#39; requires libraries and applications that depend on it","body":"<p>Someone help me with this please. I dont even use this dependency =&gt; androidx.activity:activity:1.8.0.</p>\n<p>I am new to Android SDK but this pretty much ruins my whole learning process. I dont even have this dependency in my build.gradle (app) file, wth?</p>\n<p>Google finds nothing on this matter. My compileSdk and targetSdk are set to 33 - still nothing, setting it to 34 it throws tantrum.</p>\n<p>I'm desperate, I just added a button to my view...</p>\n<p>EDIT: Does not matter if I create a new project or rebuild the gradle, it still throws this. No matter what.</p>\n<p>Error:<br />\nAn issue was found when checking AAR metadata:</p>\n<ol>\n<li><p>Dependency 'androidx.activity:activity:1.8.0' requires libraries and applications that\ndepend on it to compile against version 34 or later of the\nAndroid APIs.</p>\n<p>:app is currently compiled against android-33.</p>\n<p>Also, the maximum recommended compile SDK version for Android Gradle\nplugin 7.4.2 is 33.</p>\n<p>Recommended action: Update this project's version of the Android Gradle\nplugin to one that supports 34, then update this project to use\ncompileSdkVerion of at least 34.</p>\n<p>Note that updating a library or application's compileSdkVersion (which\nallows newer APIs to be used) can be done separately from updating\ntargetSdkVersion (which opts the app in to new runtime behavior) and\nminSdkVersion (which determines which devices the app can be installed\non).</p>\n</li>\n</ol>\n"},{"tags":["java","spring","kotlin","maven","spring-cloud-stream"],"answers":[{"tags":[],"owner":{"account_id":445335,"reputation":5970,"user_id":837717,"display_name":"Oleg Zhurakousky"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697187812,"creation_date":1697185931,"answer_id":77286242,"question_id":77283376,"body_markdown":"Well, the annotation-based programming model which included classes such as `StreamListener, Source, EnableBinding` etc. . . has long (~5 years) been deprecated and removed from the code base. \r\nWe have switched to a more robust functional model - https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_producing_and_consuming_messages","title":"Unresolved reference: Source - org.springframework.cloud.stream.messaging.source","body":"<p>Well, the annotation-based programming model which included classes such as <code>StreamListener, Source, EnableBinding</code> etc. . . has long (~5 years) been deprecated and removed from the code base.\nWe have switched to a more robust functional model - <a href=\"https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_producing_and_consuming_messages\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-cloud-stream/docs/current/reference/html/spring-cloud-stream.html#_producing_and_consuming_messages</a></p>\n"}],"owner":{"account_id":12305625,"reputation":1,"user_id":8978761,"display_name":"Rysic Rychu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697187812,"creation_date":1697138854,"question_id":77283376,"body_markdown":"I am updating some project libraries because of vulnerabilities and after this updates I can&#39;t meke this import work:\r\n\r\n`import org.springframework.cloud.stream.messaging.Source\r\n`\r\n(&quot;Source&quot; is red in InteliJ)\r\n\r\nError message is: &quot;Unsolved reference: Source&quot;.\r\n\r\n\r\nI have red that it is part of this dependendy:\r\n\r\n```\r\n&lt;dependency&gt;\r\n &lt;groupId&gt; org.springframework.cloud&lt;/groupId&gt;\r\n &lt;artifactId&gt; spring-cloud-stream &lt;/artifactId&gt;\r\n &lt;version&gt;4.0.4\r\n&lt;/dependency&gt;\r\n```\r\n\r\nBut this is a Kotlin (I&#39;m not so familiar with Kotlin :-/) project, so I found I should use this?\r\n\r\n\r\n```\r\n&lt;dependency&gt;\r\n &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nUnfortunately both of this dependencies do not fix this (when I do: mvn clean install -U).\r\n\r\nI&#39;ll be glad for any suggestions!","title":"Unresolved reference: Source - org.springframework.cloud.stream.messaging.source","body":"<p>I am updating some project libraries because of vulnerabilities and after this updates I can't meke this import work:</p>\n<p><code>import org.springframework.cloud.stream.messaging.Source </code>\n(&quot;Source&quot; is red in InteliJ)</p>\n<p>Error message is: &quot;Unsolved reference: Source&quot;.</p>\n<p>I have red that it is part of this dependendy:</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt; org.springframework.cloud&lt;/groupId&gt;\n &lt;artifactId&gt; spring-cloud-stream &lt;/artifactId&gt;\n &lt;version&gt;4.0.4\n&lt;/dependency&gt;\n</code></pre>\n<p>But this is a Kotlin (I'm not so familiar with Kotlin :-/) project, so I found I should use this?</p>\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n &lt;artifactId&gt;spring-cloud-stream-binder-kafka&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Unfortunately both of this dependencies do not fix this (when I do: mvn clean install -U).</p>\n<p>I'll be glad for any suggestions!</p>\n"},{"tags":["java","spring-security","openapi","user-roles","springdoc"],"comments":[{"owner":{"account_id":13181158,"reputation":420,"user_id":9520479,"display_name":"Jhilton"},"score":0,"creation_date":1686184661,"post_id":66489351,"comment_id":134765919,"body_markdown":"2 things: 1. Since it looks like you are using Swagger V3, **the correct URL** should be `http://localhost:8083/planning/swagger-ui/index.html`, **V2 will use** `/swagger-ui.html` if you are using default settings. 2. If the configUrl is not picked up automatically you can try setting the properties described in this answer https://stackoverflow.com/a/73928258/9520479","body":"2 things: 1. Since it looks like you are using Swagger V3, <b>the correct URL</b> should be <code>http:&#47;&#47;localhost:8083&#47;planning&#47;swagger-ui&#47;index.html</code>, <b>V2 will use</b> <code>&#47;swagger-ui.html</code> if you are using default settings. 2. If the configUrl is not picked up automatically you can try setting the properties described in this answer <a href=\"https://stackoverflow.com/a/73928258/9520479\">stackoverflow.com/a/73928258/9520479</a>"}],"answers":[{"tags":[],"owner":{"account_id":20961104,"reputation":1,"user_id":15400529,"display_name":"user15400529"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1615814135,"creation_date":1615814135,"answer_id":66638720,"question_id":66489351,"body_markdown":"As the log says, `Could not resolve view with name &#39;redirect:/swagger-ui/index.html?configUrl=**/planning/v3/api-docs/swagger-config&#39;**`.\r\nIn your web security configuration you only give access to /v3/api-docs/**.\r\nTry to add /planning/** or modify the path.","title":"Enabling Swagger springdoc-openapi-ui (OpenAPI 3.0) with Spring Security - Cannot access swagger-ui.html (401)","body":"<p>As the log says, <code>Could not resolve view with name 'redirect:/swagger-ui/index.html?configUrl=**/planning/v3/api-docs/swagger-config'**</code>.\nIn your web security configuration you only give access to /v3/api-docs/<strong>.\nTry to add /planning/</strong> or modify the path.</p>\n"}],"owner":{"account_id":15930339,"reputation":81,"user_id":11494882,"display_name":"Phipsll"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17655,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":1,"score":6,"last_activity_date":1697187700,"creation_date":1614933845,"question_id":66489351,"body_markdown":"# Swagger OpenAPI 3.0 is working with springdoc-openapi-ui and a custom OpenAPI Bean.\r\n\r\npom.xml\r\n```\r\n&lt;parent&gt;\r\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\r\n  &lt;version&gt;Hoxton.SR10&lt;/version&gt;\r\n&lt;/parent&gt;\r\n...\r\n&lt;dependency&gt;\r\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n  &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n  &lt;version&gt;1.5.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nSwaggerConfig:\r\n[![Custom OpenAPI Bean][1]][1]\r\n\r\n# The problem with spring-security with the same configuration\r\n\r\nWe are facing a problem, when using springdoc-openapi-ui, springdoc-openapi-security together with spring-boot-starter-security and keycloak-spring-boot-starter.\r\n\r\npom.xml\r\n```\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\r\n      &lt;version&gt;1.5.5&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n      &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\r\n      &lt;version&gt;12.0.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\r\n      &lt;version&gt;2.4.2&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nDummySecurityConfig (profile dev is used currently):\r\n```\r\n@Profile({&quot;test&quot;, &quot;dev&quot;})\r\n@Configuration\r\n@EnableWebSecurity\r\n@EnableGlobalMethodSecurity(\r\n        prePostEnabled = true,\r\n        securedEnabled = true,\r\n        jsr250Enabled = true)\r\n@EnableWebMvc\r\npublic class DummySecurityConfig extends WebSecurityConfigurerAdapter implements WebMvcConfigurer {\r\n\r\n    protected static final String[] ACTUATOR_WHITELIST = {\r\n        &quot;/actuator/**&quot;\r\n    };\r\n\r\n    protected static final String[] SWAGGER_WHITELIST = {\r\n        &quot;/v3/api-docs/**&quot;,\r\n        &quot;/swagger-ui/**&quot;,\r\n        &quot;/swagger-ui.html&quot;,\r\n    };\r\n\r\n    @Value(&quot;${client.cors.allowed-origins:*}&quot;)\r\n    private String[] allowedOrigins;\r\n\r\n    @Override\r\n    public void configure(HttpSecurity http) throws Exception {\r\n        http\r\n            .authorizeRequests()\r\n            .antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\r\n            .anyRequest().authenticated()\r\n            .and()\r\n            .httpBasic(); //or anything else, e.g. .oauth2ResourceServer().jwt()\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) {\r\n        auth.authenticationProvider(authenticationProvider());\r\n    }\r\n\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n                .antMatchers(SWAGGER_WHITELIST)\r\n                .antMatchers(ACTUATOR_WHITELIST);\r\n    }\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n                .allowedOrigins(allowedOrigins);\r\n    }\r\n\r\n    @Bean\r\n    public AuthenticationProvider authenticationProvider() {\r\n        AuthenticationProvider authenticationProvider = new AuthenticationProvider() {\r\n            @Override\r\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\r\n                SimpleGrantedAuthority authority = new SimpleGrantedAuthority(&quot;ROLE_&quot; + authentication.getPrincipal().toString().toUpperCase());\r\n\r\n                UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(\r\n                        authentication.getPrincipal(), authentication.getCredentials(), Collections.singleton(authority));\r\n                token.setDetails(authentication);\r\n                return token;\r\n            }\r\n\r\n            @Override\r\n            public boolean supports(Class&lt;?&gt; aClass) {\r\n                return true;\r\n            }\r\n        };\r\n\r\n        return authenticationProvider;\r\n    }\r\n}\r\n```\r\n\r\nSecurityConfig (Not used in the examples but will be used in the future too):\r\n```\r\n@Profile({&quot;staging&quot;, &quot;devstaging&quot;})\r\n@KeycloakConfiguration\r\n@EnableGlobalMethodSecurity(\r\n    prePostEnabled = true,\r\n    securedEnabled = true,\r\n    jsr250Enabled = true)\r\n@EnableWebMvc\r\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter implements WebMvcConfigurer {\r\n\r\n    protected static final String[] ACTUATOR_WHITELIST = {\r\n        &quot;/actuator/**&quot;\r\n    };\r\n\r\n    protected static final String[] SWAGGER_WHITELIST = {\r\n        &quot;/v3/api-docs/**&quot;,\r\n        &quot;/swagger-ui/**&quot;,\r\n        &quot;/swagger-ui.html&quot;,\r\n    };\r\n\r\n    @Value(&quot;${client.cors.allowed-origins:*}&quot;)\r\n    private String[] allowedOrigins;\r\n\r\n    @Autowired\r\n    public void configureGlobal(AuthenticationManagerBuilder auth) {\r\n        SimpleAuthorityMapper grantedAuthorityMapper = new SimpleAuthorityMapper();\r\n        grantedAuthorityMapper.setConvertToUpperCase(true);\r\n        grantedAuthorityMapper.setPrefix(&quot;ROLE_&quot;);\r\n\r\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\r\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(grantedAuthorityMapper);\r\n        auth.authenticationProvider(keycloakAuthenticationProvider);\r\n    }\r\n\r\n    @Bean\r\n    public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\r\n        return new KeycloakSpringBootConfigResolver();\r\n    }\r\n\r\n    @Bean\r\n    @Override\r\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\r\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\r\n    }\r\n\r\n    @Override\r\n    public void configure(WebSecurity web) {\r\n        web.ignoring()\r\n            .antMatchers(SWAGGER_WHITELIST)\r\n            .antMatchers(ACTUATOR_WHITELIST);\r\n    }\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        super.configure(http);\r\n        http\r\n            .csrf().disable()\r\n            .cors().and()\r\n            .authorizeRequests().anyRequest().authenticated();\r\n    }\r\n\r\n    @Override\r\n    public void addCorsMappings(CorsRegistry registry) {\r\n        registry.addMapping(&quot;/**&quot;)\r\n            .allowedOrigins(allowedOrigins);\r\n    }\r\n}\r\n```\r\n\r\napplication-dev.yml:\r\n```\r\nserver:\r\n  port: 8083\r\n  servlet:\r\n    context-path: /planning\r\nkeycloak:\r\n  enabled: false\r\nspringdoc:\r\n  show-actuator: true\r\n```\r\n\r\nWe already tried to use following links to solve the problem:\r\n- [Spring security support](https://springdoc.org/#spring-security-support)\r\n- [Allow anonymous access to springdoc-openapi-ui with Spring Security](https://stackoverflow.com/questions/59898402/allow-anonymous-access-to-springdoc-openapi-ui-with-spring-security)\r\n- [Swagger UI redirecting to /swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config](https://stackoverflow.com/questions/62044228/swagger-ui-redirecting-to-swagger-ui-index-htmlconfigurl-v3-api-docs-swagger)\r\n- [F.A.Q](https://springdoc.org/faq.html)\r\n\r\n\r\n## Examples of opening the swagger-ui URLs (profile dev):\r\nhttp://localhost:8083/planning/swagger-ui.html (does not work):\r\n[![http://localhost:8083/planning/swagger-ui.html][2]][2]\r\n\r\nCode snippet of application:\r\n```\r\n2021-03-05 09:27:01,530 [http-nio-8083-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/planning] threw exception [Could not resolve view with name &#39;redirect:/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config&#39; in servlet with name &#39;dispatcherServlet&#39;] with root cause\r\njavax.servlet.ServletException: Could not resolve view with name &#39;redirect:/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config&#39; in servlet with name &#39;dispatcherServlet&#39;\r\n\tat org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)\r\n\tat org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\r\n```\r\n\r\nhttp://localhost:8083/planning/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config (works but is complicated):\r\n[![http://localhost:8083/planning/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config][3]][3]\r\n\r\nhttp://localhost:8083/planning/swagger-ui/index.html (Adding api-docs &quot;/planning/v3/api-docs&quot; manually works too):\r\n[![http://localhost:8083/planning/swagger-ui/index.html][4]][4]\r\n\r\n\r\nDo you have any ideas what else could be wrong configured or what we should change? We are at the end of our latin.\r\n\r\n  [1]: https://i.stack.imgur.com/sx3zc.png\r\n  [2]: https://i.stack.imgur.com/b1k6n.png\r\n  [3]: https://i.stack.imgur.com/73Hts.png\r\n  [4]: https://i.stack.imgur.com/q1AJS.png","title":"Enabling Swagger springdoc-openapi-ui (OpenAPI 3.0) with Spring Security - Cannot access swagger-ui.html (401)","body":"<h1>Swagger OpenAPI 3.0 is working with springdoc-openapi-ui and a custom OpenAPI Bean.</h1>\n<p>pom.xml</p>\n<pre><code>&lt;parent&gt;\n  &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-cloud-starter-parent&lt;/artifactId&gt;\n  &lt;version&gt;Hoxton.SR10&lt;/version&gt;\n&lt;/parent&gt;\n...\n&lt;dependency&gt;\n  &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n  &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n  &lt;version&gt;1.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>SwaggerConfig:\n<a href=\"https://i.stack.imgur.com/sx3zc.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sx3zc.png\" alt=\"Custom OpenAPI Bean\" /></a></p>\n<h1>The problem with spring-security with the same configuration</h1>\n<p>We are facing a problem, when using springdoc-openapi-ui, springdoc-openapi-security together with spring-boot-starter-security and keycloak-spring-boot-starter.</p>\n<p>pom.xml</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-security&lt;/artifactId&gt;\n      &lt;version&gt;1.5.5&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n      &lt;artifactId&gt;keycloak-spring-boot-starter&lt;/artifactId&gt;\n      &lt;version&gt;12.0.2&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n      &lt;artifactId&gt;spring-boot-starter-security&lt;/artifactId&gt;\n      &lt;version&gt;2.4.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>DummySecurityConfig (profile dev is used currently):</p>\n<pre><code>@Profile({&quot;test&quot;, &quot;dev&quot;})\n@Configuration\n@EnableWebSecurity\n@EnableGlobalMethodSecurity(\n        prePostEnabled = true,\n        securedEnabled = true,\n        jsr250Enabled = true)\n@EnableWebMvc\npublic class DummySecurityConfig extends WebSecurityConfigurerAdapter implements WebMvcConfigurer {\n\n    protected static final String[] ACTUATOR_WHITELIST = {\n        &quot;/actuator/**&quot;\n    };\n\n    protected static final String[] SWAGGER_WHITELIST = {\n        &quot;/v3/api-docs/**&quot;,\n        &quot;/swagger-ui/**&quot;,\n        &quot;/swagger-ui.html&quot;,\n    };\n\n    @Value(&quot;${client.cors.allowed-origins:*}&quot;)\n    private String[] allowedOrigins;\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http\n            .authorizeRequests()\n            .antMatchers(&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;, &quot;/swagger-ui.html&quot;).permitAll()\n            .anyRequest().authenticated()\n            .and()\n            .httpBasic(); //or anything else, e.g. .oauth2ResourceServer().jwt()\n    }\n\n    @Override\n    protected void configure(AuthenticationManagerBuilder auth) {\n        auth.authenticationProvider(authenticationProvider());\n    }\n\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring()\n                .antMatchers(SWAGGER_WHITELIST)\n                .antMatchers(ACTUATOR_WHITELIST);\n    }\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n                .allowedOrigins(allowedOrigins);\n    }\n\n    @Bean\n    public AuthenticationProvider authenticationProvider() {\n        AuthenticationProvider authenticationProvider = new AuthenticationProvider() {\n            @Override\n            public Authentication authenticate(Authentication authentication) throws AuthenticationException {\n                SimpleGrantedAuthority authority = new SimpleGrantedAuthority(&quot;ROLE_&quot; + authentication.getPrincipal().toString().toUpperCase());\n\n                UsernamePasswordAuthenticationToken token = new UsernamePasswordAuthenticationToken(\n                        authentication.getPrincipal(), authentication.getCredentials(), Collections.singleton(authority));\n                token.setDetails(authentication);\n                return token;\n            }\n\n            @Override\n            public boolean supports(Class&lt;?&gt; aClass) {\n                return true;\n            }\n        };\n\n        return authenticationProvider;\n    }\n}\n</code></pre>\n<p>SecurityConfig (Not used in the examples but will be used in the future too):</p>\n<pre><code>@Profile({&quot;staging&quot;, &quot;devstaging&quot;})\n@KeycloakConfiguration\n@EnableGlobalMethodSecurity(\n    prePostEnabled = true,\n    securedEnabled = true,\n    jsr250Enabled = true)\n@EnableWebMvc\npublic class SecurityConfig extends KeycloakWebSecurityConfigurerAdapter implements WebMvcConfigurer {\n\n    protected static final String[] ACTUATOR_WHITELIST = {\n        &quot;/actuator/**&quot;\n    };\n\n    protected static final String[] SWAGGER_WHITELIST = {\n        &quot;/v3/api-docs/**&quot;,\n        &quot;/swagger-ui/**&quot;,\n        &quot;/swagger-ui.html&quot;,\n    };\n\n    @Value(&quot;${client.cors.allowed-origins:*}&quot;)\n    private String[] allowedOrigins;\n\n    @Autowired\n    public void configureGlobal(AuthenticationManagerBuilder auth) {\n        SimpleAuthorityMapper grantedAuthorityMapper = new SimpleAuthorityMapper();\n        grantedAuthorityMapper.setConvertToUpperCase(true);\n        grantedAuthorityMapper.setPrefix(&quot;ROLE_&quot;);\n\n        KeycloakAuthenticationProvider keycloakAuthenticationProvider = keycloakAuthenticationProvider();\n        keycloakAuthenticationProvider.setGrantedAuthoritiesMapper(grantedAuthorityMapper);\n        auth.authenticationProvider(keycloakAuthenticationProvider);\n    }\n\n    @Bean\n    public KeycloakSpringBootConfigResolver keycloakConfigResolver() {\n        return new KeycloakSpringBootConfigResolver();\n    }\n\n    @Bean\n    @Override\n    protected SessionAuthenticationStrategy sessionAuthenticationStrategy() {\n        return new RegisterSessionAuthenticationStrategy(new SessionRegistryImpl());\n    }\n\n    @Override\n    public void configure(WebSecurity web) {\n        web.ignoring()\n            .antMatchers(SWAGGER_WHITELIST)\n            .antMatchers(ACTUATOR_WHITELIST);\n    }\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        super.configure(http);\n        http\n            .csrf().disable()\n            .cors().and()\n            .authorizeRequests().anyRequest().authenticated();\n    }\n\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/**&quot;)\n            .allowedOrigins(allowedOrigins);\n    }\n}\n</code></pre>\n<p>application-dev.yml:</p>\n<pre><code>server:\n  port: 8083\n  servlet:\n    context-path: /planning\nkeycloak:\n  enabled: false\nspringdoc:\n  show-actuator: true\n</code></pre>\n<p>We already tried to use following links to solve the problem:</p>\n<ul>\n<li><a href=\"https://springdoc.org/#spring-security-support\" rel=\"noreferrer\">Spring security support</a></li>\n<li><a href=\"https://stackoverflow.com/questions/59898402/allow-anonymous-access-to-springdoc-openapi-ui-with-spring-security\">Allow anonymous access to springdoc-openapi-ui with Spring Security</a></li>\n<li><a href=\"https://stackoverflow.com/questions/62044228/swagger-ui-redirecting-to-swagger-ui-index-htmlconfigurl-v3-api-docs-swagger\">Swagger UI redirecting to /swagger-ui/index.html?configUrl=/v3/api-docs/swagger-config</a></li>\n<li><a href=\"https://springdoc.org/faq.html\" rel=\"noreferrer\">F.A.Q</a></li>\n</ul>\n<h2>Examples of opening the swagger-ui URLs (profile dev):</h2>\n<p>http://localhost:8083/planning/swagger-ui.html (does not work):\n<a href=\"https://i.stack.imgur.com/b1k6n.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/b1k6n.png\" alt=\"http://localhost:8083/planning/swagger-ui.html\" /></a></p>\n<p>Code snippet of application:</p>\n<pre><code>2021-03-05 09:27:01,530 [http-nio-8083-exec-1] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [/planning] threw exception [Could not resolve view with name 'redirect:/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config' in servlet with name 'dispatcherServlet'] with root cause\njavax.servlet.ServletException: Could not resolve view with name 'redirect:/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config' in servlet with name 'dispatcherServlet'\n    at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1373)\n    at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1138)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1077)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)\n    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)\n</code></pre>\n<p>http://localhost:8083/planning/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config (works but is complicated):\n<a href=\"https://i.stack.imgur.com/73Hts.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/73Hts.png\" alt=\"http://localhost:8083/planning/swagger-ui/index.html?configUrl=/planning/v3/api-docs/swagger-config\" /></a></p>\n<p>http://localhost:8083/planning/swagger-ui/index.html (Adding api-docs &quot;/planning/v3/api-docs&quot; manually works too):\n<a href=\"https://i.stack.imgur.com/q1AJS.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/q1AJS.png\" alt=\"http://localhost:8083/planning/swagger-ui/index.html\" /></a></p>\n<p>Do you have any ideas what else could be wrong configured or what we should change? We are at the end of our latin.</p>\n"},{"tags":["java","android","kotlin","android-layout"],"comments":[{"owner":{"account_id":6979173,"reputation":942,"user_id":6576302,"display_name":"C.F.G"},"score":0,"creation_date":1694959470,"post_id":77105983,"comment_id":135957118,"body_markdown":"ScreenShot will help to understand your problem.","body":"ScreenShot will help to understand your problem."}],"answers":[{"tags":[],"owner":{"account_id":29372764,"reputation":1,"user_id":22504998,"display_name":"Dixit Gondaliya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697186716,"creation_date":1697186716,"answer_id":77286324,"question_id":77105983,"body_markdown":"Create a new XML drawable resource (e.g., background_with_states.xml) to define the background and text color states for your CardView. You can use a &lt;selector&gt; to specify different backgrounds and text colors based on the view&#39;s state (pressed, focused, etc.). Here&#39;s an example:\r\nxml\r\n \r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;&gt;\r\n    &lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:state_selected=&quot;true&quot;&gt;\r\n            &lt;layer-list&gt;\r\n                &lt;item android:id=&quot;@android:id/background&quot;&gt;\r\n                    &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n                        &lt;corners android:radius=&quot;16dp&quot; /&gt;\r\n                        &lt;solid android:color=&quot;@color/blue_disabled&quot; /&gt;\r\n                    &lt;/shape&gt;\r\n                &lt;/item&gt;\r\n            &lt;/layer-list&gt;\r\n        &lt;/item&gt;\r\n        &lt;item&gt;\r\n            &lt;layer-list&gt;\r\n                &lt;item android:id=&quot;@android:id/background&quot;&gt;\r\n                    &lt;shape android:shape=&quot;rectangle&quot;&gt;\r\n                        &lt;corners android:radius=&quot;16dp&quot; /&gt;\r\n                        &lt;solid android:color=&quot;@color/grey&quot; /&gt;\r\n                    &lt;/shape&gt;\r\n                &lt;/item&gt;\r\n            &lt;/layer-list&gt;\r\n        &lt;/item&gt;\r\n    &lt;/selector&gt;\r\n\r\nThis XML defines two states: one when the CardView is selected (e.g., clicked), and one for the default state.\r\n\r\nIn your layout XML, wrap your CardView with a FrameLayout or another layout that can contain multiple child views:\r\n\r\n    &lt;FrameLayout\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;&gt;\r\n    \r\n        &lt;androidx.cardview.widget.CardView\r\n            android:id=&quot;@+id/cardRoot&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_marginVertical=&quot;8dp&quot;\r\n            app:cardCornerRadius=&quot;16dp&quot;\r\n            app:contentPaddingLeft=&quot;15dp&quot;\r\n            app:contentPaddingRight=&quot;15dp&quot;\r\n            android:background=&quot;@drawable/background_with_states&quot;&gt;\r\n    \r\n            &lt;!-- Your CardView contents, including the TextView --&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/title&quot;\r\n                ... /&gt;\r\n    \r\n        &lt;/androidx.cardview.widget.CardView&gt;\r\n    \r\n        &lt;!-- Add your ShineView here as a child view of the FrameLayout --&gt;\r\n    \r\n    &lt;/FrameLayout&gt;\r\n\r\nIn your adapter code, you can set the isSelected state of the CardView and TextView. When the CardView is selected, it will use the background and text color specified in the selector XML. You can use setSelected() on the CardView to change its state.\r\n\r\nTo add the ShineView, create a custom view or use a library like &quot;Shimmer&quot; to implement the shine animation effect. Place the ShineView as a child of the FrameLayout, and position it over the CardView to create the shine effect.","title":"How to add background and text color state with rounded corners to implement shine animation","body":"<p>Create a new XML drawable resource (e.g., background_with_states.xml) to define the background and text color states for your CardView. You can use a  to specify different backgrounds and text colors based on the view's state (pressed, focused, etc.). Here's an example:\nxml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;&gt;\n&lt;selector xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\n    &lt;item android:state_selected=&quot;true&quot;&gt;\n        &lt;layer-list&gt;\n            &lt;item android:id=&quot;@android:id/background&quot;&gt;\n                &lt;shape android:shape=&quot;rectangle&quot;&gt;\n                    &lt;corners android:radius=&quot;16dp&quot; /&gt;\n                    &lt;solid android:color=&quot;@color/blue_disabled&quot; /&gt;\n                &lt;/shape&gt;\n            &lt;/item&gt;\n        &lt;/layer-list&gt;\n    &lt;/item&gt;\n    &lt;item&gt;\n        &lt;layer-list&gt;\n            &lt;item android:id=&quot;@android:id/background&quot;&gt;\n                &lt;shape android:shape=&quot;rectangle&quot;&gt;\n                    &lt;corners android:radius=&quot;16dp&quot; /&gt;\n                    &lt;solid android:color=&quot;@color/grey&quot; /&gt;\n                &lt;/shape&gt;\n            &lt;/item&gt;\n        &lt;/layer-list&gt;\n    &lt;/item&gt;\n&lt;/selector&gt;\n</code></pre>\n<p>This XML defines two states: one when the CardView is selected (e.g., clicked), and one for the default state.</p>\n<p>In your layout XML, wrap your CardView with a FrameLayout or another layout that can contain multiple child views:</p>\n<pre><code>&lt;FrameLayout\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;&gt;\n\n    &lt;androidx.cardview.widget.CardView\n        android:id=&quot;@+id/cardRoot&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_marginVertical=&quot;8dp&quot;\n        app:cardCornerRadius=&quot;16dp&quot;\n        app:contentPaddingLeft=&quot;15dp&quot;\n        app:contentPaddingRight=&quot;15dp&quot;\n        android:background=&quot;@drawable/background_with_states&quot;&gt;\n\n        &lt;!-- Your CardView contents, including the TextView --&gt;\n        &lt;TextView\n            android:id=&quot;@+id/title&quot;\n            ... /&gt;\n\n    &lt;/androidx.cardview.widget.CardView&gt;\n\n    &lt;!-- Add your ShineView here as a child view of the FrameLayout --&gt;\n\n&lt;/FrameLayout&gt;\n</code></pre>\n<p>In your adapter code, you can set the isSelected state of the CardView and TextView. When the CardView is selected, it will use the background and text color specified in the selector XML. You can use setSelected() on the CardView to change its state.</p>\n<p>To add the ShineView, create a custom view or use a library like &quot;Shimmer&quot; to implement the shine animation effect. Place the ShineView as a child of the FrameLayout, and position it over the CardView to create the shine effect.</p>\n"}],"owner":{"account_id":5441953,"reputation":683,"user_id":4329781,"accept_rate":57,"display_name":"StuartDTO"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697186716,"creation_date":1694702302,"question_id":77105983,"body_markdown":"I was using a CardView as :\r\n\r\n```\r\n&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:id=&quot;@+id/cardRoot&quot;\r\n    android:layout_width=&quot;wrap_content&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:layout_marginVertical=&quot;8dp&quot;\r\n    card_view:cardCornerRadius=&quot;16dp&quot;\r\n    card_view:contentPaddingLeft=&quot;15dp&quot;\r\n    card_view:contentPaddingRight=&quot;15dp&quot;\r\n    &gt;\r\n&lt;Text...&gt;\r\n    /&gt;\r\n\r\n```\r\n\r\nAnd on my adapter I was doing this manually when clicking \r\n\r\n```\r\nprivate fun updateStyle(isSelected: Boolean) {\r\n            if (isSelected) {\r\n                binding.title.setTextColor(\r\n                    ContextCompat.getColor(\r\n                        binding.root.context,\r\n                        R.color.blue,\r\n                    ),\r\n                )\r\n                binding.cardRoot.setBackgroundColor(\r\n                    ContextCompat.getColor(\r\n                        binding.root.context,\r\n                        R.color.blue_disabled,\r\n                    ),\r\n                )\r\n            } else {\r\n                binding.title.setTextColor(\r\n                    ContextCompat.getColor(\r\n                        binding.root.context,\r\n                        R.color.dark_grey,\r\n                    ),\r\n                )\r\n                binding.cardRoot.setBackgroundColor(\r\n                    ContextCompat.getColor(\r\n                        binding.root.context,\r\n                        R.color.grey,\r\n                    ),\r\n                )\r\n            }\r\n        }\r\n```\r\n\r\nIt was working perfectly, but now I need to add a [`ShineAnimation`](https://www.geeksforgeeks.org/how-to-create-shine-effect-in-android/) and I need to create this `View` to animate it as it is, but when trying to add the corners to a `Button` or whatever `View` I add it overlaps with the background, so I&#39;ve tried the state like this [answer](https://stackoverflow.com/a/12446491/4385913) but I&#39;m not success, how could I make it work as it was with a different view (or if possible to remain the `CardView` even better) and add this `shine view`\r\n\r\n\r\n","title":"How to add background and text color state with rounded corners to implement shine animation","body":"<p>I was using a CardView as :</p>\n<pre><code>&lt;androidx.cardview.widget.CardView xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:card_view=&quot;http://schemas.android.com/apk/res-auto&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n    android:id=&quot;@+id/cardRoot&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginVertical=&quot;8dp&quot;\n    card_view:cardCornerRadius=&quot;16dp&quot;\n    card_view:contentPaddingLeft=&quot;15dp&quot;\n    card_view:contentPaddingRight=&quot;15dp&quot;\n    &gt;\n&lt;Text...&gt;\n    /&gt;\n\n</code></pre>\n<p>And on my adapter I was doing this manually when clicking</p>\n<pre><code>private fun updateStyle(isSelected: Boolean) {\n            if (isSelected) {\n                binding.title.setTextColor(\n                    ContextCompat.getColor(\n                        binding.root.context,\n                        R.color.blue,\n                    ),\n                )\n                binding.cardRoot.setBackgroundColor(\n                    ContextCompat.getColor(\n                        binding.root.context,\n                        R.color.blue_disabled,\n                    ),\n                )\n            } else {\n                binding.title.setTextColor(\n                    ContextCompat.getColor(\n                        binding.root.context,\n                        R.color.dark_grey,\n                    ),\n                )\n                binding.cardRoot.setBackgroundColor(\n                    ContextCompat.getColor(\n                        binding.root.context,\n                        R.color.grey,\n                    ),\n                )\n            }\n        }\n</code></pre>\n<p>It was working perfectly, but now I need to add a <a href=\"https://www.geeksforgeeks.org/how-to-create-shine-effect-in-android/\" rel=\"nofollow noreferrer\"><code>ShineAnimation</code></a> and I need to create this <code>View</code> to animate it as it is, but when trying to add the corners to a <code>Button</code> or whatever <code>View</code> I add it overlaps with the background, so I've tried the state like this <a href=\"https://stackoverflow.com/a/12446491/4385913\">answer</a> but I'm not success, how could I make it work as it was with a different view (or if possible to remain the <code>CardView</code> even better) and add this <code>shine view</code></p>\n"},{"tags":["java","postgresql","jboss","wildfly"],"answers":[{"tags":[],"owner":{"account_id":1058505,"reputation":368,"user_id":1060650,"accept_rate":50,"display_name":"Wisteso"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1617981854,"creation_date":1617980904,"answer_id":67023668,"question_id":66998791,"body_markdown":"Figured this out on my own with some experimentation. WildFly documentation on bootable jars is still really minimal and lacking lots of detail that required lots of guessing / experimenting.\r\n\r\nWhile there is an overlay that lets you specify DB info via environment variables, that&#39;s a bit hacky and doesn&#39;t allow you to define more than one datasource nor can you specify the JNDI name.  Instead, I used a CLI script which gets fed into the jar builder plugin.\r\n\r\n**datasource.cli**\r\n\r\n    data-source add --name=&lt;name&gt; --jndi-name=java:jboss/datasources/&lt;schema&gt; --driver-name=postgresql --connection-url=jdbc:postgresql://localhost:5432/&lt;db&gt; --user-name=&lt;user&gt; --password=&lt;pass&gt;\r\n\r\nMake sure to use your own values for placeholders \\&lt;name\\&gt;, \\&lt;schema\\&gt;, \\&lt;db\\&gt;, \\&lt;user\\&gt;, \\&lt;pass\\&gt; and swap out the hostname / port if needed.\r\n\r\n**pom.xml (snippet)**\r\n\r\n\t&lt;configuration&gt;\r\n\t\t&lt;cli-sessions&gt;\r\n\t\t\t&lt;cli-session&gt;\r\n\t\t\t\t&lt;script-files&gt;\r\n\t\t\t\t\t&lt;script&gt;scripts/datasource.cli&lt;/script&gt;\r\n\t\t\t\t&lt;/script-files&gt;\r\n\t\t\t\t&lt;resolve-expressions&gt;true&lt;/resolve-expressions&gt;\r\n\t\t\t&lt;/cli-session&gt;\r\n\t\t&lt;/cli-sessions&gt;\r\n\t\t&lt;feature-packs&gt;\r\n\t\t\t&lt;feature-pack&gt;\r\n\t\t\t\t&lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)#23.0.0.Final&lt;/location&gt;\r\n\t\t\t&lt;/feature-pack&gt;\r\n\t\t\t&lt;feature-pack&gt;\r\n\t\t\t\t&lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\r\n\t\t\t\t&lt;version&gt;1.2.2.Final&lt;/version&gt;\r\n\t\t\t&lt;/feature-pack&gt;\r\n\t\t&lt;/feature-packs&gt;\r\n\t\t&lt;layers&gt;\r\n\t\t\t&lt;layer&gt;jaxrs-server&lt;/layer&gt;\r\n\t\t\t&lt;layer&gt;postgresql-driver&lt;/layer&gt;\r\n\t\t&lt;/layers&gt;\r\n\t&lt;/configuration&gt;\r\n\r\nIn the above XML config, items of note are\r\n\r\n 1. \\&lt;script\\&gt; value tells the builder where to find the CLI script that will do the datasource adding\r\n 2. \\&lt;feature-pack\\&gt; for the datasource pack. Though I didn&#39;t test if this was required...  maybe the driver layer is all that&#39;s needed.  Worth trying if you have time.\r\n 3. \\&lt;layer\\&gt; that specifies the postgresql-driver value. This is required and without it, the bootup will complain about missing a driver when the CLI script runs.\r\n","title":"How to define datasource properties for WildFly bootable JAR without openshift CLI?","body":"<p>Figured this out on my own with some experimentation. WildFly documentation on bootable jars is still really minimal and lacking lots of detail that required lots of guessing / experimenting.</p>\n<p>While there is an overlay that lets you specify DB info via environment variables, that's a bit hacky and doesn't allow you to define more than one datasource nor can you specify the JNDI name.  Instead, I used a CLI script which gets fed into the jar builder plugin.</p>\n<p><strong>datasource.cli</strong></p>\n<pre><code>data-source add --name=&lt;name&gt; --jndi-name=java:jboss/datasources/&lt;schema&gt; --driver-name=postgresql --connection-url=jdbc:postgresql://localhost:5432/&lt;db&gt; --user-name=&lt;user&gt; --password=&lt;pass&gt;\n</code></pre>\n<p>Make sure to use your own values for placeholders &lt;name&gt;, &lt;schema&gt;, &lt;db&gt;, &lt;user&gt;, &lt;pass&gt; and swap out the hostname / port if needed.</p>\n<p><strong>pom.xml (snippet)</strong></p>\n<pre><code>&lt;configuration&gt;\n    &lt;cli-sessions&gt;\n        &lt;cli-session&gt;\n            &lt;script-files&gt;\n                &lt;script&gt;scripts/datasource.cli&lt;/script&gt;\n            &lt;/script-files&gt;\n            &lt;resolve-expressions&gt;true&lt;/resolve-expressions&gt;\n        &lt;/cli-session&gt;\n    &lt;/cli-sessions&gt;\n    &lt;feature-packs&gt;\n        &lt;feature-pack&gt;\n            &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)#23.0.0.Final&lt;/location&gt;\n        &lt;/feature-pack&gt;\n        &lt;feature-pack&gt;\n            &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n            &lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\n            &lt;version&gt;1.2.2.Final&lt;/version&gt;\n        &lt;/feature-pack&gt;\n    &lt;/feature-packs&gt;\n    &lt;layers&gt;\n        &lt;layer&gt;jaxrs-server&lt;/layer&gt;\n        &lt;layer&gt;postgresql-driver&lt;/layer&gt;\n    &lt;/layers&gt;\n&lt;/configuration&gt;\n</code></pre>\n<p>In the above XML config, items of note are</p>\n<ol>\n<li>&lt;script&gt; value tells the builder where to find the CLI script that will do the datasource adding</li>\n<li>&lt;feature-pack&gt; for the datasource pack. Though I didn't test if this was required...  maybe the driver layer is all that's needed.  Worth trying if you have time.</li>\n<li>&lt;layer&gt; that specifies the postgresql-driver value. This is required and without it, the bootup will complain about missing a driver when the CLI script runs.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7366204,"reputation":46,"user_id":5607879,"display_name":"MarkusF"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697186614,"creation_date":1697186614,"answer_id":77286319,"question_id":66998791,"body_markdown":"A bit late (and I&#39;m not allowed to comment rn), but JFTR: you can even use the proposed &quot;datasource&quot; `&lt;layer&gt;` as advertised in\r\n&lt;https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/tree/main&gt;\r\n\r\nSo you choose, for example, \r\n```lang-xml\r\n&lt;configuration&gt;\r\n\t&lt;featurePacks&gt;\r\n\t\t&lt;featurePack&gt;\r\n\t\t\t&lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)&lt;/location&gt;\r\n\t\t&lt;/featurePack&gt;\r\n\t\t&lt;feature-pack&gt;\r\n\t\t\t&lt;groupId&gt;org.wildfly&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${version.wildfly.datasources.galleon-pack}&lt;/version&gt;\r\n\t\t&lt;/feature-pack&gt;\r\n\t&lt;/featurePacks&gt;\r\n\t&lt;layers&gt;\r\n\t\t...\r\n\t\t&lt;layer&gt;postgresql-datasource&lt;/layer&gt;\r\n\t\t....\r\n\r\n```\r\n\r\nAnd start the resulting jar via \r\n```lang-bash\r\nPOSTGRESQL_USER=user POSTGRESQL_PASSWORD=password java -jar your-bootable.jar\r\n```\r\n\r\nThese two Properties are the bare minimum to set. The complete list of possible configuration properties is found in\r\n&lt;https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/blob/main/doc/postgresql/README.md&gt; (and the corresponding chapters for the chosen database `&lt;layer&gt;`).\r\n\r\nThis way you can dynamicaly change the databases without changing your build (a question, [Victor Bello](https://stackoverflow.com/questions/66998791/how-to-define-datasource-properties-for-wildfly-bootable-jar-without-openshift-c#comment130600388_67023668) asked in the above comments)\r\n\r\n\r\n**Drawback**\r\n\r\nThe only drawback of this path is, you can&#39;t have more than one datasource from the same layer. \r\nSo I chose your path and added two `datasource add ...`lines.\r\n\r\nThanks for this\r\n","title":"How to define datasource properties for WildFly bootable JAR without openshift CLI?","body":"<p>A bit late (and I'm not allowed to comment rn), but JFTR: you can even use the proposed &quot;datasource&quot; <code>&lt;layer&gt;</code> as advertised in\n<a href=\"https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/tree/main\" rel=\"nofollow noreferrer\">https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/tree/main</a></p>\n<p>So you choose, for example,</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;configuration&gt;\n    &lt;featurePacks&gt;\n        &lt;featurePack&gt;\n            &lt;location&gt;wildfly@maven(org.jboss.universe:community-universe)&lt;/location&gt;\n        &lt;/featurePack&gt;\n        &lt;feature-pack&gt;\n            &lt;groupId&gt;org.wildfly&lt;/groupId&gt;\n            &lt;artifactId&gt;wildfly-datasources-galleon-pack&lt;/artifactId&gt;\n            &lt;version&gt;${version.wildfly.datasources.galleon-pack}&lt;/version&gt;\n        &lt;/feature-pack&gt;\n    &lt;/featurePacks&gt;\n    &lt;layers&gt;\n        ...\n        &lt;layer&gt;postgresql-datasource&lt;/layer&gt;\n        ....\n\n</code></pre>\n<p>And start the resulting jar via</p>\n<pre class=\"lang-bash prettyprint-override\"><code>POSTGRESQL_USER=user POSTGRESQL_PASSWORD=password java -jar your-bootable.jar\n</code></pre>\n<p>These two Properties are the bare minimum to set. The complete list of possible configuration properties is found in\n<a href=\"https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/blob/main/doc/postgresql/README.md\" rel=\"nofollow noreferrer\">https://github.com/wildfly-extras/wildfly-datasources-galleon-pack/blob/main/doc/postgresql/README.md</a> (and the corresponding chapters for the chosen database <code>&lt;layer&gt;</code>).</p>\n<p>This way you can dynamicaly change the databases without changing your build (a question, <a href=\"https://stackoverflow.com/questions/66998791/how-to-define-datasource-properties-for-wildfly-bootable-jar-without-openshift-c#comment130600388_67023668\">Victor Bello</a> asked in the above comments)</p>\n<p><strong>Drawback</strong></p>\n<p>The only drawback of this path is, you can't have more than one datasource from the same layer.\nSo I chose your path and added two <code>datasource add ...</code>lines.</p>\n<p>Thanks for this</p>\n"}],"owner":{"account_id":1058505,"reputation":368,"user_id":1060650,"accept_rate":50,"display_name":"Wisteso"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1075,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":67023668,"answer_count":2,"score":2,"last_activity_date":1697186614,"creation_date":1617865109,"question_id":66998791,"body_markdown":"So normally you could use the standalone.xml to do this, but the [wildfly bootable JAR][1] seems not to have a standalone.xml since it&#39;s all within a single JAR.\r\n\r\nThe examples that JBoss provides assume you&#39;ll only ever use OpenShift for some reason and uses some arcane OpenShift CLI command (below) that just somehow creates the right file in the right spot.  https://github.com/wildfly-extras/wildfly-jar-maven-plugin/tree/4.0.0.Final/examples/postgresql\r\n\r\n    oc new-app --name database-server \\\r\n      --env POSTGRESQL_USER=admin \\\r\n      --env POSTGRESQL_PASSWORD=admin \\\r\n      --env POSTGRESQL_DATABASE=sampledb \\\r\n      postgresql\r\n\r\nHowever, there is no config file created with that command (or they didnt check it in), and the documentation doesn&#39;t say anything about how to do the same for non-OpenShift projects.\r\n\r\nTrying to find any info on how to do configure a (postgres) data-source for a non-OpenShift deployment.\r\n\r\n\r\n  [1]: https://docs.wildfly.org/bootablejar/","title":"How to define datasource properties for WildFly bootable JAR without openshift CLI?","body":"<p>So normally you could use the standalone.xml to do this, but the <a href=\"https://docs.wildfly.org/bootablejar/\" rel=\"nofollow noreferrer\">wildfly bootable JAR</a> seems not to have a standalone.xml since it's all within a single JAR.</p>\n<p>The examples that JBoss provides assume you'll only ever use OpenShift for some reason and uses some arcane OpenShift CLI command (below) that just somehow creates the right file in the right spot.  <a href=\"https://github.com/wildfly-extras/wildfly-jar-maven-plugin/tree/4.0.0.Final/examples/postgresql\" rel=\"nofollow noreferrer\">https://github.com/wildfly-extras/wildfly-jar-maven-plugin/tree/4.0.0.Final/examples/postgresql</a></p>\n<pre><code>oc new-app --name database-server \\\n  --env POSTGRESQL_USER=admin \\\n  --env POSTGRESQL_PASSWORD=admin \\\n  --env POSTGRESQL_DATABASE=sampledb \\\n  postgresql\n</code></pre>\n<p>However, there is no config file created with that command (or they didnt check it in), and the documentation doesn't say anything about how to do the same for non-OpenShift projects.</p>\n<p>Trying to find any info on how to do configure a (postgres) data-source for a non-OpenShift deployment.</p>\n"},{"tags":["java","spring","spring-boot","maven"],"answers":[{"tags":[],"owner":{"account_id":11377012,"reputation":12762,"user_id":8340997,"display_name":"Anish B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697182774,"creation_date":1697173978,"answer_id":77285195,"question_id":77285107,"body_markdown":"It&#39;s clearly there in the logs that you have shared.\r\n\r\n`io.netty:netty-resolver-dns:jar:4.1.97.Final` is coming from `io.projectreactor.netty:reactor-netty-http:jar:1.0.35` in your second app.\r\n\r\nwhereas \r\n\r\n`io.netty:netty-resolver:jar:4.1.59.Final` is coming from `com.azure:azure-storage-blob:jar:12.23.0` in your first app\r\n\r\nBasically, the second app&#39;s omitted the use of `io.netty:netty-resolver:jar:4.1.59.Final` that was coming from `com.azure:azure-storage-blob:jar:12.23.0` instead it selected the one coming from `reactor-netty-http` because it was using the latest version of `netty-resolver-dns (4.1.97.Final)`.\r\n\r\nTo be short, newer/higher versions are given priority by Maven if multiple same dependencies are found.","title":"Different dependencies for azure-storage-blob in spring boot apps","body":"<p>It's clearly there in the logs that you have shared.</p>\n<p><code>io.netty:netty-resolver-dns:jar:4.1.97.Final</code> is coming from <code>io.projectreactor.netty:reactor-netty-http:jar:1.0.35</code> in your second app.</p>\n<p>whereas</p>\n<p><code>io.netty:netty-resolver:jar:4.1.59.Final</code> is coming from <code>com.azure:azure-storage-blob:jar:12.23.0</code> in your first app</p>\n<p>Basically, the second app's omitted the use of <code>io.netty:netty-resolver:jar:4.1.59.Final</code> that was coming from <code>com.azure:azure-storage-blob:jar:12.23.0</code> instead it selected the one coming from <code>reactor-netty-http</code> because it was using the latest version of <code>netty-resolver-dns (4.1.97.Final)</code>.</p>\n<p>To be short, newer/higher versions are given priority by Maven if multiple same dependencies are found.</p>\n"}],"owner":{"account_id":110000,"reputation":4107,"user_id":291253,"accept_rate":37,"display_name":"lm."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697186589,"creation_date":1697172481,"question_id":77285107,"body_markdown":"I have two different **Spring Boot** projects using `same azure-storage-blob` dependency.\r\n\r\nWhen I run the maven commmand given below:\r\n\r\n    mvn dependency:tree\r\n \r\nI see two different dependencies for `azure-storage-blob`.\r\n\r\nFor First app: \r\n\r\n    +- com.azure:azure-storage-blob:jar:12.23.0:compile\r\n    |  |  |  +- com.azure:azure-core:jar:1.41.0:compile\r\n    |  |  |  |  \\- com.azure:azure-json:jar:1.0.1:compile\r\n    |  |  |  +- com.azure:azure-core-http-netty:jar:1.13.5:compile\r\n    |  |  |  |  +- io.netty:netty-codec-http2:jar:4.1.59.Final:compile\r\n    |  |  |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.59.Final:compile\r\n    |  |  |  |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.59.Final:compile\r\n    |  |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.36.Final:compile\r\n    |  |  |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.33:compile\r\n    |  |  |  |     +- io.netty:netty-resolver-dns:jar:4.1.59.Final:compile\r\n    |  |  |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.59.Final:compile\r\n    |  |  |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.59.Final:compile\r\n    |  |  |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.33:compile\r\n    |  |  |  +- com.azure:azure-storage-common:jar:12.22.0:compile\r\n    |  |  |  \\- com.azure:azure-storage-internal-avro:jar:12.8.0:compile\r\n    |  |  +- com.azure:azure-identity:jar:1.9.2:compile\r\n    |  |  |  +- com.microsoft.azure:msal4j:jar:1.13.8:compile\r\n    |  |  |  \\- com.microsoft.azure:msal4j-persistence-extension:jar:1.2.0:compile\r\n    |  |  +- io.netty:netty-resolver:jar:4.1.59.Final:compileenter code here\r\n\r\nFor Second app : \r\n\r\n    +- com.azure:azure-storage-blob:jar:12.23.0:compile\r\n    [INFO] |  +- com.azure:azure-core:jar:1.41.0:compile\r\n    [INFO] |  |  +- com.azure:azure-json:jar:1.0.1:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.5:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.5:compile\r\n    [INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.5:compile\r\n    [INFO] |  |  \\- io.projectreactor:reactor-core:jar:3.4.32:compile\r\n    [INFO] |  |     \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\r\n    [INFO] |  +- com.azure:azure-core-http-netty:jar:1.13.5:compile\r\n    [INFO] |  |  +- io.netty:netty-handler:jar:4.1.97.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.97.Final:compile\r\n    [INFO] |  |  |  \\- io.netty:netty-transport:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.97.Final:compile\r\n    [INFO] |  |  |  \\- io.netty:netty-codec-socks:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-buffer:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-codec:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.97.Final:compile\r\n    [INFO] |  |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.97.Final:compile\r\n    [INFO] |  |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.97.Final:compile\r\n    [INFO] |  |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.61.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-tcnative-classes:jar:2.0.61.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-x86_64:2.0.61.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-aarch_64:2.0.61.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-x86_64:2.0.61.Final:compile\r\n    [INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-aarch_64:2.0.61.Final:compile\r\n    [INFO] |  |  |  \\- io.netty:netty-tcnative-boringssl-static:jar:windows-x86_64:2.0.61.Final:compile\r\n    [INFO] |  |  +- io.projectreactor.netty:reactor-netty-http:jar:1.0.35:compile\r\n    [INFO] |  |  |  +- io.netty:netty-resolver-dns:jar:4.1.97.Final:compile\r\n    [INFO] |  |  |  |  \\- io.netty:netty-codec-dns:jar:4.1.97.Final:compile\r\n\r\nAlthough both of the apps uses the same dependency from `azure-storage-blob` with version `12.23.0` but it can be seen from the output that azure-storage-blob has different dependencies of different versions.\r\n\r\n&gt; io.netty:netty-resolver:jar:4.1.97.Final\r\n\r\n in the second app and\r\n\r\n&gt; io.netty:netty-resolver:jar:4.1.59.Final\r\n\r\nin the first app\r\n\r\n\r\nWhat caused such a difference and how to find which dependency actually brought these different dependencies? \r\n\r\nThanks in advance.\r\n\r\nUPD:In pom.xml of the first app ( problematic ) there are following definitions : \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n    \t&lt;version&gt;12.23.0&lt;/version&gt;\r\n    \t&lt;exclusions&gt;\r\n    \t&lt;exclusion&gt;\r\n    \t\t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;netty-resolver&lt;/artifactId&gt;\r\n    \t&lt;/exclusion&gt;\r\n    &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    &lt;!-- Netty --&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.97.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netty-handler-proxy&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.97.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.97.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netty-codec-http&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.97.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;io.netty&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;netty-resolver&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.1.97.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nTried to exclude netty-resolver dependency from azure-storage-blob dependency + added explicit import by version of netty-resolver , but still version 4.1.59 was imported . \r\nIs here also important order ? Thanks \r\n\r\n\r\n\r\nException : \r\n\r\n    java.lang.NoClassDefFoundError: reactor/netty/http/client/HttpClient\r\n    \r\n    \tat com.azure.core.http.netty.NettyAsyncHttpClientBuilder.build(NettyAsyncHttpClientBuilder.java:154)\r\n    \tat com.azure.core.http.netty.NettyAsyncHttpClientProvider.createInstance(NettyAsyncHttpClientProvider.java:56)\r\n    \tat com.azure.core.http.netty.NettyAsyncHttpClientProvider.createInstance(NettyAsyncHttpClientProvider.java:62)\r\n    \tat com.azure.core.implementation.http.HttpClientProviders.lambda$createInstance$0(HttpClientProviders.java:46)\r\n    \tat com.azure.core.implementation.util.Providers.create(Providers.java:114)\r\n    \tat com.azure.core.implementation.http.HttpClientProviders.createInstance(HttpClientProviders.java:46)\r\n    \tat com.azure.core.http.HttpClient.createDefault(HttpClient.java:61)\r\n    \tat com.azure.core.http.HttpClient.createDefault(HttpClient.java:51)\r\n    \tat com.azure.core.http.HttpPipelineBuilder.build(HttpPipelineBuilder.java:78)\r\n    \tat com.azure.storage.blob.implementation.util.BuilderHelper.buildPipeline(BuilderHelper\r\n\r\nUPD3: part of pom.xml - of second app - working : \r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t&lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;oauth2-oidc-sdk&lt;/artifactId&gt;\r\n    \t&lt;version&gt;6.15&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-context&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;azure-storage&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\r\n    \t&lt;version&gt;12.23.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;com.azure&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\r\n    \t&lt;version&gt;1.9.2&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nAdditional difference : for first app  ( problematic ) was added Azure functionality to existing code . The second app ( Working) was generated by Spring Initializr and added azure imports","title":"Different dependencies for azure-storage-blob in spring boot apps","body":"<p>I have two different <strong>Spring Boot</strong> projects using <code>same azure-storage-blob</code> dependency.</p>\n<p>When I run the maven commmand given below:</p>\n<pre><code>mvn dependency:tree\n</code></pre>\n<p>I see two different dependencies for <code>azure-storage-blob</code>.</p>\n<p>For First app:</p>\n<pre><code>+- com.azure:azure-storage-blob:jar:12.23.0:compile\n|  |  |  +- com.azure:azure-core:jar:1.41.0:compile\n|  |  |  |  \\- com.azure:azure-json:jar:1.0.1:compile\n|  |  |  +- com.azure:azure-core-http-netty:jar:1.13.5:compile\n|  |  |  |  +- io.netty:netty-codec-http2:jar:4.1.59.Final:compile\n|  |  |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.59.Final:compile\n|  |  |  |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.59.Final:compile\n|  |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.36.Final:compile\n|  |  |  |  \\- io.projectreactor.netty:reactor-netty-http:jar:1.0.33:compile\n|  |  |  |     +- io.netty:netty-resolver-dns:jar:4.1.59.Final:compile\n|  |  |  |     |  \\- io.netty:netty-codec-dns:jar:4.1.59.Final:compile\n|  |  |  |     +- io.netty:netty-resolver-dns-native-macos:jar:osx-x86_64:4.1.59.Final:compile\n|  |  |  |     \\- io.projectreactor.netty:reactor-netty-core:jar:1.0.33:compile\n|  |  |  +- com.azure:azure-storage-common:jar:12.22.0:compile\n|  |  |  \\- com.azure:azure-storage-internal-avro:jar:12.8.0:compile\n|  |  +- com.azure:azure-identity:jar:1.9.2:compile\n|  |  |  +- com.microsoft.azure:msal4j:jar:1.13.8:compile\n|  |  |  \\- com.microsoft.azure:msal4j-persistence-extension:jar:1.2.0:compile\n|  |  +- io.netty:netty-resolver:jar:4.1.59.Final:compileenter code here\n</code></pre>\n<p>For Second app :</p>\n<pre><code>+- com.azure:azure-storage-blob:jar:12.23.0:compile\n[INFO] |  +- com.azure:azure-core:jar:1.41.0:compile\n[INFO] |  |  +- com.azure:azure-json:jar:1.0.1:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.13.5:compile\n[INFO] |  |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.13.5:compile\n[INFO] |  |  +- com.fasterxml.jackson.datatype:jackson-datatype-jsr310:jar:2.13.5:compile\n[INFO] |  |  \\- io.projectreactor:reactor-core:jar:3.4.32:compile\n[INFO] |  |     \\- org.reactivestreams:reactive-streams:jar:1.0.4:compile\n[INFO] |  +- com.azure:azure-core-http-netty:jar:1.13.5:compile\n[INFO] |  |  +- io.netty:netty-handler:jar:4.1.97.Final:compile\n[INFO] |  |  |  +- io.netty:netty-resolver:jar:4.1.97.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-transport:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-handler-proxy:jar:4.1.97.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-codec-socks:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-buffer:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-codec:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-codec-http:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-codec-http2:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-transport-native-unix-common:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-transport-native-epoll:jar:linux-x86_64:4.1.97.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-transport-classes-epoll:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-transport-native-kqueue:jar:osx-x86_64:4.1.97.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-transport-classes-kqueue:jar:4.1.97.Final:compile\n[INFO] |  |  +- io.netty:netty-tcnative-boringssl-static:jar:2.0.61.Final:compile\n[INFO] |  |  |  +- io.netty:netty-tcnative-classes:jar:2.0.61.Final:compile\n[INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-x86_64:2.0.61.Final:compile\n[INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:linux-aarch_64:2.0.61.Final:compile\n[INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-x86_64:2.0.61.Final:compile\n[INFO] |  |  |  +- io.netty:netty-tcnative-boringssl-static:jar:osx-aarch_64:2.0.61.Final:compile\n[INFO] |  |  |  \\- io.netty:netty-tcnative-boringssl-static:jar:windows-x86_64:2.0.61.Final:compile\n[INFO] |  |  +- io.projectreactor.netty:reactor-netty-http:jar:1.0.35:compile\n[INFO] |  |  |  +- io.netty:netty-resolver-dns:jar:4.1.97.Final:compile\n[INFO] |  |  |  |  \\- io.netty:netty-codec-dns:jar:4.1.97.Final:compile\n</code></pre>\n<p>Although both of the apps uses the same dependency from <code>azure-storage-blob</code> with version <code>12.23.0</code> but it can be seen from the output that azure-storage-blob has different dependencies of different versions.</p>\n<blockquote>\n<p>io.netty:netty-resolver:jar:4.1.97.Final</p>\n</blockquote>\n<p>in the second app and</p>\n<blockquote>\n<p>io.netty:netty-resolver:jar:4.1.59.Final</p>\n</blockquote>\n<p>in the first app</p>\n<p>What caused such a difference and how to find which dependency actually brought these different dependencies?</p>\n<p>Thanks in advance.</p>\n<p>UPD:In pom.xml of the first app ( problematic ) there are following definitions :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n    &lt;version&gt;12.23.0&lt;/version&gt;\n    &lt;exclusions&gt;\n    &lt;exclusion&gt;\n        &lt;groupId&gt;io.netty&lt;/groupId&gt;\n        &lt;artifactId&gt;netty-resolver&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n&lt;/exclusions&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n    &lt;version&gt;1.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;!-- Netty --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-handler&lt;/artifactId&gt;\n    &lt;version&gt;4.1.97.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-handler-proxy&lt;/artifactId&gt;\n    &lt;version&gt;4.1.97.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-buffer&lt;/artifactId&gt;\n    &lt;version&gt;4.1.97.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-codec-http&lt;/artifactId&gt;\n    &lt;version&gt;4.1.97.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;io.netty&lt;/groupId&gt;\n    &lt;artifactId&gt;netty-resolver&lt;/artifactId&gt;\n    &lt;version&gt;4.1.97.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Tried to exclude netty-resolver dependency from azure-storage-blob dependency + added explicit import by version of netty-resolver , but still version 4.1.59 was imported .\nIs here also important order ? Thanks</p>\n<p>Exception :</p>\n<pre><code>java.lang.NoClassDefFoundError: reactor/netty/http/client/HttpClient\n\n    at com.azure.core.http.netty.NettyAsyncHttpClientBuilder.build(NettyAsyncHttpClientBuilder.java:154)\n    at com.azure.core.http.netty.NettyAsyncHttpClientProvider.createInstance(NettyAsyncHttpClientProvider.java:56)\n    at com.azure.core.http.netty.NettyAsyncHttpClientProvider.createInstance(NettyAsyncHttpClientProvider.java:62)\n    at com.azure.core.implementation.http.HttpClientProviders.lambda$createInstance$0(HttpClientProviders.java:46)\n    at com.azure.core.implementation.util.Providers.create(Providers.java:114)\n    at com.azure.core.implementation.http.HttpClientProviders.createInstance(HttpClientProviders.java:46)\n    at com.azure.core.http.HttpClient.createDefault(HttpClient.java:61)\n    at com.azure.core.http.HttpClient.createDefault(HttpClient.java:51)\n    at com.azure.core.http.HttpPipelineBuilder.build(HttpPipelineBuilder.java:78)\n    at com.azure.storage.blob.implementation.util.BuilderHelper.buildPipeline(BuilderHelper\n</code></pre>\n<p>UPD3: part of pom.xml - of second app - working :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.nimbusds&lt;/groupId&gt;\n    &lt;artifactId&gt;oauth2-oidc-sdk&lt;/artifactId&gt;\n    &lt;version&gt;6.15&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-context&lt;/artifactId&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.microsoft.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-storage&lt;/artifactId&gt;\n    &lt;version&gt;4.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-storage-blob&lt;/artifactId&gt;\n    &lt;version&gt;12.23.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.azure&lt;/groupId&gt;\n    &lt;artifactId&gt;azure-identity&lt;/artifactId&gt;\n    &lt;version&gt;1.9.2&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Additional difference : for first app  ( problematic ) was added Azure functionality to existing code . The second app ( Working) was generated by Spring Initializr and added azure imports</p>\n"},{"tags":["java","android","reflection","root","xposed"],"answers":[{"tags":[],"owner":{"account_id":50585,"reputation":39940,"user_id":150978,"accept_rate":78,"display_name":"Robert"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697186505,"creation_date":1697186505,"answer_id":77286310,"question_id":77286210,"body_markdown":"Your main problem is that you are trying to limiting the hook the &quot;Android framework&quot; only which will fail as the Android framework is not a separate process but included in every app process, respectively the `TextView` elements are part of the app process they are shown in.\r\n\r\nAs far as I remember `handleLoadPackage` is called once per app process which allows you to decide if or if not you want to hook something in this specific app process. \r\n\r\nBut as you want to hook a certain UI element in any app, you should not apply a filter here. So in the end you should remove the filter (or only filter out apps that make problems with your hook) and then directly call `hookSetVisibility`.","title":"Xposed hooking every TextView in my device","body":"<p>Your main problem is that you are trying to limiting the hook the &quot;Android framework&quot; only which will fail as the Android framework is not a separate process but included in every app process, respectively the <code>TextView</code> elements are part of the app process they are shown in.</p>\n<p>As far as I remember <code>handleLoadPackage</code> is called once per app process which allows you to decide if or if not you want to hook something in this specific app process.</p>\n<p>But as you want to hook a certain UI element in any app, you should not apply a filter here. So in the end you should remove the filter (or only filter out apps that make problems with your hook) and then directly call <code>hookSetVisibility</code>.</p>\n"}],"owner":{"account_id":4346982,"reputation":21,"user_id":11317083,"display_name":"itapi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77286310,"answer_count":1,"score":0,"last_activity_date":1697186505,"creation_date":1697185602,"question_id":77286210,"body_markdown":"I&#39;m hooking the android framework itself,not a specific app,this is my code:\r\n\r\n     public void handleLoadPackage(XC_LoadPackage.LoadPackageParam lpparam) throws Throwable {\r\n            \r\n            if (lpparam == null||lpparam.packageName == null || lpparam.processName == null)\r\n                return;\r\n    \r\n            if (lpparam.packageName.equals(&quot;android&quot;)) {\r\n                XposedBridge.log(&quot;Hooked into Android framework.&quot;);\r\n    \r\n    \r\n                if (!sInitialized) {\r\n                    sInitialized = true;\r\n                    hookSetVisibility(lpparam);\r\n                }\r\n            }\r\n        }\r\n    \r\n    \r\n        private void hookSetVisibility(XC_LoadPackage.LoadPackageParam lpparam) {\r\n    \r\n            final Class&lt;?&gt; mViewGroup = XposedHelpers.findClass(&quot;android.widget.TextView&quot;, lpparam.classLoader);\r\n            for (final Method method : mViewGroup.getDeclaredMethods()) {\r\n                if (true == Modifier.isAbstract(method.getModifiers())) {\r\n                    XposedBridge.log(&quot;skip abstract:&quot; + method.getName());\r\n                    continue;\r\n                }\r\n                XposedBridge.log(&quot;----&quot; + method.getName());\r\n                XposedBridge.hookMethod(method, methodHook);\r\n            }\r\n        }\r\n    \r\n        final StringBuilder sb = new StringBuilder();\r\n        XC_MethodHook methodHook = new XC_MethodHook() {\r\n            @Override\r\n            protected void beforeHookedMethod(XC_MethodHook.MethodHookParam param) throws Throwable {\r\n    \r\n                XposedBridge.log(&quot;before hook log&quot;);\r\n            }\r\n    \r\n            @Override\r\n            protected void afterHookedMethod(XC_MethodHook.MethodHookParam param) throws Throwable {\r\n                //param.setResult(false);\r\n                XposedBridge.log(&quot;after hook log&quot;);       \r\n            }\r\n        };\r\nThe module indeed prints nicely the all class method names as can seen in the [android framework][1],but the `BeforeHookedMethod` and the `afterHookMethod` never get called......\r\n\r\n\r\n\r\n\r\n  [1]: https://android.googlesource.com/platform/frameworks/base/+/jb-mr0-release/core/java/android/widget/TextView.java","title":"Xposed hooking every TextView in my device","body":"<p>I'm hooking the android framework itself,not a specific app,this is my code:</p>\n<pre><code> public void handleLoadPackage(XC_LoadPackage.LoadPackageParam lpparam) throws Throwable {\n        \n        if (lpparam == null||lpparam.packageName == null || lpparam.processName == null)\n            return;\n\n        if (lpparam.packageName.equals(&quot;android&quot;)) {\n            XposedBridge.log(&quot;Hooked into Android framework.&quot;);\n\n\n            if (!sInitialized) {\n                sInitialized = true;\n                hookSetVisibility(lpparam);\n            }\n        }\n    }\n\n\n    private void hookSetVisibility(XC_LoadPackage.LoadPackageParam lpparam) {\n\n        final Class&lt;?&gt; mViewGroup = XposedHelpers.findClass(&quot;android.widget.TextView&quot;, lpparam.classLoader);\n        for (final Method method : mViewGroup.getDeclaredMethods()) {\n            if (true == Modifier.isAbstract(method.getModifiers())) {\n                XposedBridge.log(&quot;skip abstract:&quot; + method.getName());\n                continue;\n            }\n            XposedBridge.log(&quot;----&quot; + method.getName());\n            XposedBridge.hookMethod(method, methodHook);\n        }\n    }\n\n    final StringBuilder sb = new StringBuilder();\n    XC_MethodHook methodHook = new XC_MethodHook() {\n        @Override\n        protected void beforeHookedMethod(XC_MethodHook.MethodHookParam param) throws Throwable {\n\n            XposedBridge.log(&quot;before hook log&quot;);\n        }\n\n        @Override\n        protected void afterHookedMethod(XC_MethodHook.MethodHookParam param) throws Throwable {\n            //param.setResult(false);\n            XposedBridge.log(&quot;after hook log&quot;);       \n        }\n    };\n</code></pre>\n<p>The module indeed prints nicely the all class method names as can seen in the <a href=\"https://android.googlesource.com/platform/frameworks/base/+/jb-mr0-release/core/java/android/widget/TextView.java\" rel=\"nofollow noreferrer\">android framework</a>,but the <code>BeforeHookedMethod</code> and the <code>afterHookMethod</code> never get called......</p>\n"},{"tags":["java","gwt","collections","guava"],"answers":[{"tags":[],"owner":{"account_id":1159098,"reputation":1569,"user_id":1138989,"accept_rate":29,"display_name":"Abhijeet"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1364895168,"creation_date":1364895168,"answer_id":15760666,"question_id":15760022,"body_markdown":"As you are using generic type BASE..it will automatically filtered by BASE class for you.. But if you want specific according to subclasses of BASE class as you have mentioned in above example..it will not be possible..","title":"How to filter a List by class?","body":"<p>As you are using generic type BASE..it will automatically filtered by BASE class for you.. But if you want specific according to subclasses of BASE class as you have mentioned in above example..it will not be possible..</p>\n"},{"tags":[],"owner":{"account_id":48170,"reputation":12634,"user_id":142983,"accept_rate":80,"display_name":"Etienne Neveu"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1697186483,"creation_date":1364903249,"answer_id":15763317,"question_id":15760022,"body_markdown":"    Iterables#filter(Iterable&lt;?&gt; unfiltered, Class&lt;T&gt; type)\r\n\r\nand\r\n\r\n    Predicates#instanceOf(Class&lt;?&gt; clazz)\r\n\r\nare GWT incompatible, because `Class#isInstance(Object obj)` is unsupported in GWT, since it it defeats GWT compiler optimizations, and GWT tries to stay away from reflection.\r\n\r\n\r\nThe `instanceof` keyword is available, though. So the following would work:\r\n\r\n        Iterables.filter(list, new Predicate&lt;Base&gt;() {\r\n            @Override\r\n            public boolean apply(Base input) {\r\n                return input instanceof Bar;\r\n            }\r\n        });\r\n\r\nThat said, it might just be easier / cleaner to write (see the [Guava wiki caveats][1]):\r\n\r\n        List&lt;Bar&gt; bars = Lists.newArrayList();\r\n        for (Base base : list) {\r\n            if (base instanceof Bar) {\r\n                bars.add((Bar) base);\r\n            }\r\n        }\r\n\r\n\r\n\r\n[1]: https://github.com/google/guava/wiki/FunctionalExplained#caveats","title":"How to filter a List by class?","body":"<pre><code>Iterables#filter(Iterable&lt;?&gt; unfiltered, Class&lt;T&gt; type)\n</code></pre>\n<p>and</p>\n<pre><code>Predicates#instanceOf(Class&lt;?&gt; clazz)\n</code></pre>\n<p>are GWT incompatible, because <code>Class#isInstance(Object obj)</code> is unsupported in GWT, since it it defeats GWT compiler optimizations, and GWT tries to stay away from reflection.</p>\n<p>The <code>instanceof</code> keyword is available, though. So the following would work:</p>\n<pre><code>    Iterables.filter(list, new Predicate&lt;Base&gt;() {\n        @Override\n        public boolean apply(Base input) {\n            return input instanceof Bar;\n        }\n    });\n</code></pre>\n<p>That said, it might just be easier / cleaner to write (see the <a href=\"https://github.com/google/guava/wiki/FunctionalExplained#caveats\" rel=\"nofollow noreferrer\">Guava wiki caveats</a>):</p>\n<pre><code>    List&lt;Bar&gt; bars = Lists.newArrayList();\n    for (Base base : list) {\n        if (base instanceof Bar) {\n            bars.add((Bar) base);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2260,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":15763317,"answer_count":2,"score":1,"last_activity_date":1697186483,"creation_date":1364893266,"question_id":15760022,"body_markdown":"I have a List of super types and want to filter all objects that are of a specific implementation class.\r\n\r\n    class Base;\r\n    class Bar extends Base;\r\n    class Foo extends Base;\r\n    \r\n    List&lt;Base&gt; list;\r\n\r\nAs I use GWT, Guava is only partially supported. Thus I cannot use the following, which would work otherwise in plain java:\r\n\r\n    Lists.newArrayList(Iterables.filter(list, Bar.class));\r\n\r\nHow could I replace this for compatibility with GWT?","title":"How to filter a List by class?","body":"<p>I have a List of super types and want to filter all objects that are of a specific implementation class.</p>\n\n<pre><code>class Base;\nclass Bar extends Base;\nclass Foo extends Base;\n\nList&lt;Base&gt; list;\n</code></pre>\n\n<p>As I use GWT, Guava is only partially supported. Thus I cannot use the following, which would work otherwise in plain java:</p>\n\n<pre><code>Lists.newArrayList(Iterables.filter(list, Bar.class));\n</code></pre>\n\n<p>How could I replace this for compatibility with GWT?</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697167395,"creation_date":1697167395,"answer_id":77284891,"question_id":77284747,"body_markdown":"**Root-cause**: Serialization issue\r\n\r\n**Solution:**\r\n\r\nTo use `@JsonManagedReference`, `@JsonBackReference`\r\n\r\n - `@JsonManagedReference` is the forward part of reference, the one\r\n   that gets serialized normally.\r\n - `@JsonBackReference` is the back part\r\n   of reference; it’ll be omitted from serialization.\r\n\r\n\r\n*Reference:* https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\r\n\r\n**Fix:**\r\n\r\n**Bookings.java**\r\n\r\n    package com.bookmyshow.consumer.api.entity;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonManagedReference;\r\n    import jakarta.persistence.*;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.util.List;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;bookings&quot;, schema = &quot;bms&quot;)\r\n    @NoArgsConstructor\r\n    public class Bookings {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;bookingid&quot;)\r\n        private Long bookingId;\r\n    \r\n        @ManyToOne\r\n        @JsonManagedReference\r\n        @JoinColumn(name = &quot;showid&quot;)\r\n        private Show show;\r\n    \r\n        @ManyToOne\r\n        @JsonManagedReference\r\n        @JoinColumn(name = &quot;userid&quot;)\r\n        private Customer user;\r\n    \r\n        @Transient\r\n        @JsonManagedReference\r\n        @OneToMany(mappedBy = &quot;bookings&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;SeatBookings&gt; seatBookings;\r\n    \r\n        @Column(name = &quot;bookingdate&quot;, nullable = false)\r\n        private LocalDate bookingDate;\r\n    \r\n        @Column(name = &quot;amount&quot;, nullable = false)\r\n        private int amount;\r\n    \r\n        @Column(name = &quot;created&quot;, nullable = false)\r\n        private LocalDateTime created;\r\n    \r\n        @Column(name = &quot;modified&quot;, nullable = false)\r\n        private LocalDateTime modified;\r\n    \r\n        public Bookings(Show show, Customer user, List&lt;SeatBookings&gt; seatBookings) {\r\n            this.show = show;\r\n            this.user = user;\r\n            this.bookingDate = LocalDate.now();\r\n            this.amount = show.getTicketCost() * seatBookings.size();\r\n            this.seatBookings = seatBookings;\r\n            this.created = LocalDateTime.now();\r\n            this.modified = LocalDateTime.now();\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;Bookings{&quot; +\r\n                    &quot;bookingId=&quot; + bookingId +\r\n                    &quot;, show=&quot; + show +\r\n                    &quot;, user=&quot; + user +\r\n                    &quot;, seatBookings=&quot; + seatBookings +\r\n                    &quot;, bookingDate=&quot; + bookingDate +\r\n                    &quot;, amount=&quot; + amount +\r\n                    &quot;, created=&quot; + created +\r\n                    &quot;, modified=&quot; + modified +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n**SeatBookings.java**\r\n\r\n    package com.bookmyshow.consumer.api.entity;\r\n    \r\n    import com.fasterxml.jackson.annotation.JsonBackReference;\r\n    import jakarta.persistence.*;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;seatbookings&quot;, schema = &quot;bms&quot;)\r\n    @NoArgsConstructor\r\n    public class SeatBookings {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;seatbookingid&quot;, nullable = false)\r\n        private Long seatBookingId;\r\n    \r\n        @ManyToOne\r\n        @JsonBackReference\r\n        @JoinColumn(name = &quot;bookingid&quot;)\r\n        private Bookings bookings;\r\n    \r\n        @ManyToOne\r\n        @JsonBackReference\r\n        @JoinColumn(name = &quot;showid&quot;)\r\n        private Show show;\r\n    \r\n        @OneToOne\r\n        @JsonBackReference\r\n        @JoinColumn(name = &quot;seatid&quot;)\r\n        private TheatreSeat theatreSeat;\r\n    \r\n        public SeatBookings(TheatreSeat seat, Show show) {\r\n            this.theatreSeat = seat;\r\n            this.show = show;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;SeatBookings{&quot; +\r\n                    &quot;seatBookingId=&quot; + seatBookingId +\r\n                    &quot;, bookings=&quot; + bookings +\r\n                    &quot;, show=&quot; + show +\r\n                    &quot;, theatreSeat=&quot; + theatreSeat +\r\n                    &#39;}&#39;;\r\n        }\r\n    }","title":"returning Entity class in response body throws Infinite recursion (StackOverflowError)","body":"<p><strong>Root-cause</strong>: Serialization issue</p>\n<p><strong>Solution:</strong></p>\n<p>To use <code>@JsonManagedReference</code>, <code>@JsonBackReference</code></p>\n<ul>\n<li><code>@JsonManagedReference</code> is the forward part of reference, the one\nthat gets serialized normally.</li>\n<li><code>@JsonBackReference</code> is the back part\nof reference; it’ll be omitted from serialization.</li>\n</ul>\n<p><em>Reference:</em> <a href=\"https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-bidirectional-relationships-and-infinite-recursion</a></p>\n<p><strong>Fix:</strong></p>\n<p><strong>Bookings.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.entity;\n\nimport com.fasterxml.jackson.annotation.JsonManagedReference;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;bookings&quot;, schema = &quot;bms&quot;)\n@NoArgsConstructor\npublic class Bookings {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;bookingid&quot;)\n    private Long bookingId;\n\n    @ManyToOne\n    @JsonManagedReference\n    @JoinColumn(name = &quot;showid&quot;)\n    private Show show;\n\n    @ManyToOne\n    @JsonManagedReference\n    @JoinColumn(name = &quot;userid&quot;)\n    private Customer user;\n\n    @Transient\n    @JsonManagedReference\n    @OneToMany(mappedBy = &quot;bookings&quot;, cascade = CascadeType.ALL)\n    private List&lt;SeatBookings&gt; seatBookings;\n\n    @Column(name = &quot;bookingdate&quot;, nullable = false)\n    private LocalDate bookingDate;\n\n    @Column(name = &quot;amount&quot;, nullable = false)\n    private int amount;\n\n    @Column(name = &quot;created&quot;, nullable = false)\n    private LocalDateTime created;\n\n    @Column(name = &quot;modified&quot;, nullable = false)\n    private LocalDateTime modified;\n\n    public Bookings(Show show, Customer user, List&lt;SeatBookings&gt; seatBookings) {\n        this.show = show;\n        this.user = user;\n        this.bookingDate = LocalDate.now();\n        this.amount = show.getTicketCost() * seatBookings.size();\n        this.seatBookings = seatBookings;\n        this.created = LocalDateTime.now();\n        this.modified = LocalDateTime.now();\n    }\n\n    @Override\n    public String toString() {\n        return &quot;Bookings{&quot; +\n                &quot;bookingId=&quot; + bookingId +\n                &quot;, show=&quot; + show +\n                &quot;, user=&quot; + user +\n                &quot;, seatBookings=&quot; + seatBookings +\n                &quot;, bookingDate=&quot; + bookingDate +\n                &quot;, amount=&quot; + amount +\n                &quot;, created=&quot; + created +\n                &quot;, modified=&quot; + modified +\n                '}';\n    }\n}\n</code></pre>\n<p><strong>SeatBookings.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.entity;\n\nimport com.fasterxml.jackson.annotation.JsonBackReference;\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;seatbookings&quot;, schema = &quot;bms&quot;)\n@NoArgsConstructor\npublic class SeatBookings {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;seatbookingid&quot;, nullable = false)\n    private Long seatBookingId;\n\n    @ManyToOne\n    @JsonBackReference\n    @JoinColumn(name = &quot;bookingid&quot;)\n    private Bookings bookings;\n\n    @ManyToOne\n    @JsonBackReference\n    @JoinColumn(name = &quot;showid&quot;)\n    private Show show;\n\n    @OneToOne\n    @JsonBackReference\n    @JoinColumn(name = &quot;seatid&quot;)\n    private TheatreSeat theatreSeat;\n\n    public SeatBookings(TheatreSeat seat, Show show) {\n        this.theatreSeat = seat;\n        this.show = show;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;SeatBookings{&quot; +\n                &quot;seatBookingId=&quot; + seatBookingId +\n                &quot;, bookings=&quot; + bookings +\n                &quot;, show=&quot; + show +\n                &quot;, theatreSeat=&quot; + theatreSeat +\n                '}';\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77284891,"answer_count":1,"score":0,"last_activity_date":1697186296,"creation_date":1697164098,"question_id":77284747,"body_markdown":"**Summary**\r\n\r\nUsing Spring Boot version 3.1.4 and Java version 17, with H2 Embedded database and Spring Data JPA, trying an example implementation of *bookmyshow.com* API.\r\n\r\nGetting ```Infinite recursion - Stackoverflow error``` when hitting the POST endpoint (The controller endpoint is returning ```ResponseEntity&lt;Bookings&gt;``` entity as response).\r\n\r\n    Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\r\n    \r\n    java.lang.StackOverflowError: null\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n\r\n*- The entire stack trace is mentioned below*\r\n\r\nHowever, if the Controller endpoint is made to return ```ResponseEntity&lt;String&gt;```, there is no exception and it works fine. Why there is this exception when I try to return JPA entity class in response body? How to resolve this?\r\n\r\n**POST Request**\r\n\r\n    curl -X &#39;POST&#39; \\\r\n      &#39;https://localhost:8080/api/v1/booking/book-seats&#39; \\\r\n      -H &#39;accept: */*&#39; \\\r\n      -H &#39;Content-Type: application/json&#39; \\\r\n      -d &#39;{\r\n      &quot;theatreId&quot;: 1,\r\n      &quot;seatNumbers&quot;: [\r\n        &quot;1A&quot;\r\n      ],\r\n      &quot;showId&quot;: 1,\r\n      &quot;userId&quot;: 1\r\n    }&#39;\r\n\r\nThe entire code base can be cloned at https://github.com/vasant-techie/bookmyshow.git.\r\n\r\n\r\n**Details**\r\n\r\n**application.properties**\r\n\r\n    spring.profiles.active=dev\r\n\r\n**application-dev.properties**\r\n\r\n    debug=true\r\n    \r\n    management.endpoints.web.exposure.include=*\r\n    \r\n    #JPA Configuration\r\n    spring.sql.init.mode=always\r\n    spring.jpa.hibernate.ddl-auto=none\r\n    \r\n    # H2 Configuration\r\n    spring.datasource.url=jdbc:h2:mem:bms\r\n    spring.datasource.driverClassName=org.h2.Driver\r\n    spring.datasource.username=bms\r\n    spring.datasource.password=securebms\r\n    spring.jpa.database-platform=org.hibernate.dialect.H2Dialect\r\n    spring.h2.console.enabled=true\r\n    #spring.h2.console.settings.web-allow-others=true\r\n    \r\n    # https|ssl Configuration\r\n    server.ssl.enabled=true\r\n    server.ssl.key-store-type=PKCS12\r\n    server.ssl.key-store=classpath:certificate.p12\r\n    server.ssl.key-store-password=1234\r\n    \r\n    # Enable | Disable Security\r\n    security.basic.enabled=true\r\n    management.security.enabled=true\r\n\r\n\r\n**BookingController.java**\r\n\r\n    package com.bookmyshow.consumer.api.endpoints;\r\n    \r\n    import com.bookmyshow.consumer.api.dto.BookingDetails;\r\n    import com.bookmyshow.consumer.api.entity.Bookings;\r\n    import com.bookmyshow.consumer.api.service.BookingService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.http.ResponseEntity;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RequestMapping;\r\n    import org.springframework.web.bind.annotation.RequestMethod;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    @RestController\r\n    @RequestMapping(&quot;/api/v1/booking&quot;)\r\n    public class BookingController {\r\n    \r\n        private final BookingService bookingService;\r\n    \r\n        @Autowired\r\n        public BookingController(BookingService bookingService) {\r\n            this.bookingService = bookingService;\r\n        }\r\n    \r\n        @RequestMapping(path = &quot;/book-seats&quot;, method = RequestMethod.POST)\r\n        public ResponseEntity&lt;Bookings&gt; bookSeats(@RequestBody BookingDetails bookingDetails) {\r\n            Bookings bookings = bookingService.bookSeats(bookingDetails);\r\n            return ResponseEntity.status(201).body(bookings);\r\n        }\r\n    }\r\n\r\n**BookingService.java**\r\n\r\n    package com.bookmyshow.consumer.api.service;\r\n    \r\n    import com.bookmyshow.consumer.api.dto.BookingDetails;\r\n    import com.bookmyshow.consumer.api.entity.*;\r\n    import com.bookmyshow.consumer.api.repo.BookingRepository;\r\n    import com.bookmyshow.consumer.api.repo.SeatBookingsRepository;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class BookingService {\r\n    \r\n        private final BookingRepository bookingRepository;\r\n        private final SeatBookingsRepository seatBookingsRepository;\r\n        private final ShowService showService;\r\n        private final UserService userService;\r\n        private final TheatreSeatService theatreSeatService;\r\n    \r\n        @Autowired\r\n        public BookingService(BookingRepository bookingRepository, SeatBookingsRepository seatBookingsRepository, ShowService showService, UserService userService, TheatreSeatService theatreSeatService) {\r\n            this.bookingRepository = bookingRepository;\r\n            this.seatBookingsRepository = seatBookingsRepository;\r\n            this.showService = showService;\r\n            this.userService = userService;\r\n            this.theatreSeatService = theatreSeatService;\r\n        }\r\n    \r\n        public Bookings bookSeats(BookingDetails bookingDetails) {\r\n            Show show = showService.findShowByShowId(bookingDetails.getShowId());\r\n            Customer user = userService.findByUserId(bookingDetails.getUserId());\r\n            List&lt;TheatreSeat&gt; theatreSeats = bookingDetails.getSeatNumbers().stream().map(theatreSeatService::findBySeatNo).toList();\r\n            List&lt;SeatBookings&gt; seatBookings = theatreSeats.stream().map(seat -&gt; new SeatBookings(seat, show)).toList();\r\n            Bookings bookings = new Bookings(show, user, seatBookings);\r\n            bookingRepository.save(bookings);\r\n            // Set the relationship with the booking for each seat booking\r\n            for (SeatBookings seatBooking : seatBookings) {\r\n                seatBooking.setBookings(bookings);\r\n            }\r\n    \r\n            // Save the seat bookings with the updated relationship\r\n            seatBookingsRepository.saveAll(seatBookings);\r\n    \r\n            return bookings;\r\n        }\r\n    \r\n    }\r\n\r\n**Bookings.java**\r\n\r\n    package com.bookmyshow.consumer.api.entity;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    import java.time.LocalDate;\r\n    import java.time.LocalDateTime;\r\n    import java.util.List;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;bookings&quot;, schema = &quot;bms&quot;)\r\n    @NoArgsConstructor\r\n    public class Bookings {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;bookingid&quot;)\r\n        private Long bookingId;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;showid&quot;)\r\n        private Show show;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;userid&quot;)\r\n        private Customer user;\r\n    \r\n        @Transient\r\n        @OneToMany(mappedBy = &quot;bookings&quot;, cascade = CascadeType.ALL)\r\n        private List&lt;SeatBookings&gt; seatBookings;\r\n    \r\n        @Column(name = &quot;bookingdate&quot;, nullable = false)\r\n        private LocalDate bookingDate;\r\n    \r\n        @Column(name = &quot;amount&quot;, nullable = false)\r\n        private int amount;\r\n    \r\n        @Column(name = &quot;created&quot;, nullable = false)\r\n        private LocalDateTime created;\r\n    \r\n        @Column(name = &quot;modified&quot;, nullable = false)\r\n        private LocalDateTime modified;\r\n    \r\n        public Bookings(Show show, Customer user, List&lt;SeatBookings&gt; seatBookings) {\r\n            this.show = show;\r\n            this.user = user;\r\n            this.bookingDate = LocalDate.now();\r\n            this.amount = show.getTicketCost() * seatBookings.size();\r\n            this.seatBookings = seatBookings;\r\n            this.created = LocalDateTime.now();\r\n            this.modified = LocalDateTime.now();\r\n        }\r\n    }\r\n\r\n**SeatBookings.java**\r\n\r\n    package com.bookmyshow.consumer.api.entity;\r\n    \r\n    import jakarta.persistence.*;\r\n    import lombok.Getter;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.Setter;\r\n    \r\n    @Getter\r\n    @Setter\r\n    @Entity\r\n    @Table(name = &quot;seatbookings&quot;, schema = &quot;bms&quot;)\r\n    @NoArgsConstructor\r\n    public class SeatBookings {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Column(name = &quot;seatbookingid&quot;, nullable = false)\r\n        private Long seatBookingId;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;bookingid&quot;)\r\n        private Bookings bookings;\r\n    \r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;showid&quot;)\r\n        private Show show;\r\n        @OneToOne\r\n        @JoinColumn(name = &quot;seatid&quot;)\r\n        private TheatreSeat theatreSeat;\r\n    \r\n        public SeatBookings(TheatreSeat seat, Show show) {\r\n            this.theatreSeat = seat;\r\n            this.show = show;\r\n        }\r\n    }\r\n\r\n**BookingRepository.java**\r\n\r\n    package com.bookmyshow.consumer.api.repo;\r\n    \r\n    import com.bookmyshow.consumer.api.entity.Bookings;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface BookingRepository extends JpaRepository&lt;Bookings, Long&gt; {\r\n    }\r\n\r\n**build.gradle**\r\n\r\n    plugins {\r\n        id &#39;java&#39;\r\n        id &#39;org.springframework.boot&#39; version &#39;3.1.4&#39;\r\n        id &#39;io.spring.dependency-management&#39; version &#39;1.1.3&#39;\r\n    }\r\n    \r\n    group = &#39;com.bookmyshow.consumer.api&#39;\r\n    version = &#39;0.1&#39;\r\n    \r\n    java {\r\n        sourceCompatibility = &#39;17&#39;\r\n    }\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    ext {\r\n        set(&#39;springCloudVersion&#39;, &quot;2022.0.4&quot;)\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        runtimeOnly &#39;com.h2database:h2&#39;\r\n        implementation &#39;org.springdoc:springdoc-openapi-starter-webmvc-ui:2.2.0&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    }\r\n    \r\n    dependencyManagement {\r\n        imports {\r\n            mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\r\n        }\r\n    }\r\n    \r\n    tasks.named(&#39;test&#39;) {\r\n        useJUnitPlatform()\r\n    }\r\n\r\n\r\n**Stacktrace**\r\n\r\n    2023-10-13T07:10:05.932+05:30 DEBUG 1436 --- [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.bookmyshow.consumer.api.entity.Bookings@a432c98]\r\n    2023-10-13T07:10:05.941+05:30 DEBUG 1436 --- [nio-8080-exec-8] org.hibernate.SQL                        : select t1_0.theatreid,t1_0.seatid,t1_0.created,t1_0.modified,t1_0.seatno,t1_0.status from bms.theatreseats t1_0 where t1_0.theatreid=?\r\n    2023-10-13T07:10:05.983+05:30  WARN 1436 --- [nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\r\n    \r\n    java.lang.IllegalStateException: Cannot call sendError() after the response has been committed\r\n    \tat org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:503) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n    \tat org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:347) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\r\n    ... \r\n    2023-10-13T07:10:05.989+05:30 DEBUG 1436 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)\r\n    2023-10-13T07:10:05.992+05:30 ERROR 1436 --- [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\r\n    \r\n    java.lang.StackOverflowError: null\r\n    \tat java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\r\n    \tat java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017) ~[na:na]","title":"returning Entity class in response body throws Infinite recursion (StackOverflowError)","body":"<p><strong>Summary</strong></p>\n<p>Using Spring Boot version 3.1.4 and Java version 17, with H2 Embedded database and Spring Data JPA, trying an example implementation of <em>bookmyshow.com</em> API.</p>\n<p>Getting <code>Infinite recursion - Stackoverflow error</code> when hitting the POST endpoint (The controller endpoint is returning <code>ResponseEntity&lt;Bookings&gt;</code> entity as response).</p>\n<pre><code>Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\n\njava.lang.StackOverflowError: null\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n</code></pre>\n<p><em>- The entire stack trace is mentioned below</em></p>\n<p>However, if the Controller endpoint is made to return <code>ResponseEntity&lt;String&gt;</code>, there is no exception and it works fine. Why there is this exception when I try to return JPA entity class in response body? How to resolve this?</p>\n<p><strong>POST Request</strong></p>\n<pre><code>curl -X 'POST' \\\n  'https://localhost:8080/api/v1/booking/book-seats' \\\n  -H 'accept: */*' \\\n  -H 'Content-Type: application/json' \\\n  -d '{\n  &quot;theatreId&quot;: 1,\n  &quot;seatNumbers&quot;: [\n    &quot;1A&quot;\n  ],\n  &quot;showId&quot;: 1,\n  &quot;userId&quot;: 1\n}'\n</code></pre>\n<p>The entire code base can be cloned at <a href=\"https://github.com/vasant-techie/bookmyshow.git\" rel=\"nofollow noreferrer\">https://github.com/vasant-techie/bookmyshow.git</a>.</p>\n<p><strong>Details</strong></p>\n<p><strong>application.properties</strong></p>\n<pre><code>spring.profiles.active=dev\n</code></pre>\n<p><strong>application-dev.properties</strong></p>\n<pre><code>debug=true\n\nmanagement.endpoints.web.exposure.include=*\n\n#JPA Configuration\nspring.sql.init.mode=always\nspring.jpa.hibernate.ddl-auto=none\n\n# H2 Configuration\nspring.datasource.url=jdbc:h2:mem:bms\nspring.datasource.driverClassName=org.h2.Driver\nspring.datasource.username=bms\nspring.datasource.password=securebms\nspring.jpa.database-platform=org.hibernate.dialect.H2Dialect\nspring.h2.console.enabled=true\n#spring.h2.console.settings.web-allow-others=true\n\n# https|ssl Configuration\nserver.ssl.enabled=true\nserver.ssl.key-store-type=PKCS12\nserver.ssl.key-store=classpath:certificate.p12\nserver.ssl.key-store-password=1234\n\n# Enable | Disable Security\nsecurity.basic.enabled=true\nmanagement.security.enabled=true\n</code></pre>\n<p><strong>BookingController.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.endpoints;\n\nimport com.bookmyshow.consumer.api.dto.BookingDetails;\nimport com.bookmyshow.consumer.api.entity.Bookings;\nimport com.bookmyshow.consumer.api.service.BookingService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RestController;\n\n@RestController\n@RequestMapping(&quot;/api/v1/booking&quot;)\npublic class BookingController {\n\n    private final BookingService bookingService;\n\n    @Autowired\n    public BookingController(BookingService bookingService) {\n        this.bookingService = bookingService;\n    }\n\n    @RequestMapping(path = &quot;/book-seats&quot;, method = RequestMethod.POST)\n    public ResponseEntity&lt;Bookings&gt; bookSeats(@RequestBody BookingDetails bookingDetails) {\n        Bookings bookings = bookingService.bookSeats(bookingDetails);\n        return ResponseEntity.status(201).body(bookings);\n    }\n}\n</code></pre>\n<p><strong>BookingService.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.service;\n\nimport com.bookmyshow.consumer.api.dto.BookingDetails;\nimport com.bookmyshow.consumer.api.entity.*;\nimport com.bookmyshow.consumer.api.repo.BookingRepository;\nimport com.bookmyshow.consumer.api.repo.SeatBookingsRepository;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class BookingService {\n\n    private final BookingRepository bookingRepository;\n    private final SeatBookingsRepository seatBookingsRepository;\n    private final ShowService showService;\n    private final UserService userService;\n    private final TheatreSeatService theatreSeatService;\n\n    @Autowired\n    public BookingService(BookingRepository bookingRepository, SeatBookingsRepository seatBookingsRepository, ShowService showService, UserService userService, TheatreSeatService theatreSeatService) {\n        this.bookingRepository = bookingRepository;\n        this.seatBookingsRepository = seatBookingsRepository;\n        this.showService = showService;\n        this.userService = userService;\n        this.theatreSeatService = theatreSeatService;\n    }\n\n    public Bookings bookSeats(BookingDetails bookingDetails) {\n        Show show = showService.findShowByShowId(bookingDetails.getShowId());\n        Customer user = userService.findByUserId(bookingDetails.getUserId());\n        List&lt;TheatreSeat&gt; theatreSeats = bookingDetails.getSeatNumbers().stream().map(theatreSeatService::findBySeatNo).toList();\n        List&lt;SeatBookings&gt; seatBookings = theatreSeats.stream().map(seat -&gt; new SeatBookings(seat, show)).toList();\n        Bookings bookings = new Bookings(show, user, seatBookings);\n        bookingRepository.save(bookings);\n        // Set the relationship with the booking for each seat booking\n        for (SeatBookings seatBooking : seatBookings) {\n            seatBooking.setBookings(bookings);\n        }\n\n        // Save the seat bookings with the updated relationship\n        seatBookingsRepository.saveAll(seatBookings);\n\n        return bookings;\n    }\n\n}\n</code></pre>\n<p><strong>Bookings.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\nimport java.time.LocalDate;\nimport java.time.LocalDateTime;\nimport java.util.List;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;bookings&quot;, schema = &quot;bms&quot;)\n@NoArgsConstructor\npublic class Bookings {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;bookingid&quot;)\n    private Long bookingId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;showid&quot;)\n    private Show show;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;userid&quot;)\n    private Customer user;\n\n    @Transient\n    @OneToMany(mappedBy = &quot;bookings&quot;, cascade = CascadeType.ALL)\n    private List&lt;SeatBookings&gt; seatBookings;\n\n    @Column(name = &quot;bookingdate&quot;, nullable = false)\n    private LocalDate bookingDate;\n\n    @Column(name = &quot;amount&quot;, nullable = false)\n    private int amount;\n\n    @Column(name = &quot;created&quot;, nullable = false)\n    private LocalDateTime created;\n\n    @Column(name = &quot;modified&quot;, nullable = false)\n    private LocalDateTime modified;\n\n    public Bookings(Show show, Customer user, List&lt;SeatBookings&gt; seatBookings) {\n        this.show = show;\n        this.user = user;\n        this.bookingDate = LocalDate.now();\n        this.amount = show.getTicketCost() * seatBookings.size();\n        this.seatBookings = seatBookings;\n        this.created = LocalDateTime.now();\n        this.modified = LocalDateTime.now();\n    }\n}\n</code></pre>\n<p><strong>SeatBookings.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.entity;\n\nimport jakarta.persistence.*;\nimport lombok.Getter;\nimport lombok.NoArgsConstructor;\nimport lombok.Setter;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;seatbookings&quot;, schema = &quot;bms&quot;)\n@NoArgsConstructor\npublic class SeatBookings {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Column(name = &quot;seatbookingid&quot;, nullable = false)\n    private Long seatBookingId;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;bookingid&quot;)\n    private Bookings bookings;\n\n    @ManyToOne\n    @JoinColumn(name = &quot;showid&quot;)\n    private Show show;\n    @OneToOne\n    @JoinColumn(name = &quot;seatid&quot;)\n    private TheatreSeat theatreSeat;\n\n    public SeatBookings(TheatreSeat seat, Show show) {\n        this.theatreSeat = seat;\n        this.show = show;\n    }\n}\n</code></pre>\n<p><strong>BookingRepository.java</strong></p>\n<pre><code>package com.bookmyshow.consumer.api.repo;\n\nimport com.bookmyshow.consumer.api.entity.Bookings;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface BookingRepository extends JpaRepository&lt;Bookings, Long&gt; {\n}\n</code></pre>\n<p><strong>build.gradle</strong></p>\n<pre><code>plugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.4'\n    id 'io.spring.dependency-management' version '1.1.3'\n}\n\ngroup = 'com.bookmyshow.consumer.api'\nversion = '0.1'\n\njava {\n    sourceCompatibility = '17'\n}\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    mavenCentral()\n}\n\next {\n    set('springCloudVersion', &quot;2022.0.4&quot;)\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.cloud:spring-cloud-starter-circuitbreaker-resilience4j'\n    compileOnly 'org.projectlombok:lombok'\n    annotationProcessor 'org.projectlombok:lombok'\n    runtimeOnly 'com.h2database:h2'\n    implementation 'org.springdoc:springdoc-openapi-starter-webmvc-ui:2.2.0'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:${springCloudVersion}&quot;\n    }\n}\n\ntasks.named('test') {\n    useJUnitPlatform()\n}\n</code></pre>\n<p><strong>Stacktrace</strong></p>\n<pre><code>2023-10-13T07:10:05.932+05:30 DEBUG 1436 --- [nio-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [com.bookmyshow.consumer.api.entity.Bookings@a432c98]\n2023-10-13T07:10:05.941+05:30 DEBUG 1436 --- [nio-8080-exec-8] org.hibernate.SQL                        : select t1_0.theatreid,t1_0.seatid,t1_0.created,t1_0.modified,t1_0.seatno,t1_0.status from bms.theatreseats t1_0 where t1_0.theatreid=?\n2023-10-13T07:10:05.983+05:30  WARN 1436 --- [nio-8080-exec-8] .w.s.m.s.DefaultHandlerExceptionResolver : Failure while trying to resolve exception [org.springframework.http.converter.HttpMessageNotWritableException]\n\njava.lang.IllegalStateException: Cannot call sendError() after the response has been committed\n    at org.apache.catalina.connector.ResponseFacade.checkCommitted(ResponseFacade.java:503) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n    at org.apache.catalina.connector.ResponseFacade.sendError(ResponseFacade.java:347) ~[tomcat-embed-core-10.1.13.jar:10.1.13]\n... \n2023-10-13T07:10:05.989+05:30 DEBUG 1436 --- [nio-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Failed to complete request: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)\n2023-10-13T07:10:05.992+05:30 ERROR 1436 --- [nio-8080-exec-8] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception [Request processing failed: org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Infinite recursion (StackOverflowError)] with root cause\n\njava.lang.StackOverflowError: null\n    at java.base/java.lang.ClassLoader.defineClass1(Native Method) ~[na:na]\n    at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1017) ~[na:na]\n</code></pre>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":0,"creation_date":1697118513,"post_id":77280041,"comment_id":136241655,"body_markdown":"Your code shows an ActionListener, which cannot be passed as a TableModelListener (which you probably should use) or as a CellEditorListener (which you probably should not use).  As far as I know, there is no Swing class called TableCellListener.","body":"Your code shows an ActionListener, which cannot be passed as a TableModelListener (which you probably should use) or as a CellEditorListener (which you probably should not use).  As far as I know, there is no Swing class called TableCellListener."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697118775,"post_id":77280041,"comment_id":136241700,"body_markdown":"*it&#39;s giving errors on all lines with the key TableCellListener.* - which is not a standard JDK class. You need to download the class from [Table Cell Listener](https://tips4java.wordpress.com/2009/06/07/table-cell-listener/). However, in this case, you don&#39;t really need to use this class since the type of processing you are doing can be handled by the `TableModelListener` as demonstrated in: https://stackoverflow.com/a/3541876/131872","body":"<i>it&#39;s giving errors on all lines with the key TableCellListener.</i> - which is not a standard JDK class. You need to download the class from <a href=\"https://tips4java.wordpress.com/2009/06/07/table-cell-listener/\" rel=\"nofollow noreferrer\">Table Cell Listener</a>. However, in this case, you don&#39;t really need to use this class since the type of processing you are doing can be handled by the <code>TableModelListener</code> as demonstrated in: <a href=\"https://stackoverflow.com/a/3541876/131872\">stackoverflow.com/a/3541876/131872</a>"}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697185560,"creation_date":1697112050,"answer_id":77280389,"question_id":77280041,"body_markdown":"You need to write a `TableModel`. As stated in [How to Use Tables][1], it is usually appropriate to extend [AbstractTableModel][2], for instance:\r\n\r\n    public class MyTableModel extends AbstractTableModel {\r\n        static class RowModel {\r\n            double firstValue;\r\n            double secondValue;\r\n    \r\n            public RowModel(double firstValue, double secondValue) {\r\n                this.firstValue = firstValue;\r\n                this.secondValue = secondValue;\r\n            }\r\n        };\r\n    \r\n        private final List&lt;RowModel&gt; rows = new ArrayList&lt;&gt;();\r\n    \r\n        public void addRow(double firstValue, double secondValue) {\r\n            int pos = rows.size();\r\n            rows.add(new RowModel(firstValue, secondValue));\r\n            fireTableRowsInserted(pos, pos);\r\n        }\r\n    \r\n        @Override\r\n        public int getRowCount() {\r\n            return rows.size();\r\n        }\r\n    \r\n        @Override\r\n        public int getColumnCount() {\r\n            return 3;\r\n        }\r\n    \r\n        @Override\r\n        public Class&lt;?&gt; getColumnClass(int columnIndex) {\r\n            switch (columnIndex) {\r\n                case 0:\r\n                case 1:\r\n                case 2:\r\n                    return Double.class;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public String getColumnName(int column) {\r\n            switch (column) {\r\n                case 0:\r\n                    return &quot;First value&quot;;\r\n                case 1:\r\n                    return &quot;Second value&quot;;\r\n                case 2:\r\n                    return &quot;Total&quot;;\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public Object getValueAt(int rowIndex, int columnIndex) {\r\n            if (rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()) {\r\n                RowModel row = rows.get(rowIndex);\r\n                switch (columnIndex) {\r\n                    case 0:\r\n                        return row.firstValue;\r\n                    case 1:\r\n                        return row.secondValue;\r\n                    case 2:\r\n                        return row.firstValue + row.secondValue;\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCellEditable(int rowIndex, int columnIndex) {\r\n            return rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()\r\n                    &amp;&amp; columnIndex &gt;= 0 &amp;&amp; columnIndex &lt;= 1;\r\n        }\r\n    \r\n        @Override\r\n        public void setValueAt(Object aValue, int rowIndex, int columnIndex) {\r\n            if (rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()) {\r\n                RowModel row = rows.get(rowIndex);\r\n                switch (columnIndex) {\r\n                    case 0:\r\n                        row.firstValue = toDouble(aValue);\r\n                        fireTableCellUpdated(rowIndex, columnIndex);\r\n                        fireTableCellUpdated(rowIndex, 2);\r\n                        break;\r\n                    case 1:\r\n                        row.secondValue = toDouble(aValue);\r\n                        fireTableCellUpdated(rowIndex, columnIndex);\r\n                        fireTableCellUpdated(rowIndex, 2);\r\n                        break;\r\n                }\r\n            }\r\n        }\r\n    \r\n        private double toDouble(Object aValue) {\r\n            if (aValue instanceof Number) {\r\n                return ((Number)aValue).doubleValue();\r\n            } else if (aValue instanceof String) {\r\n                try {\r\n                    return Double.parseDouble((String)aValue);\r\n                } catch (NumberFormatException e) {\r\n                    // return 0;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n    }\r\n\r\nThe `JTable` displays the values in the `TableModel` by calling the model&#39;s `getValueAt` method. As you can see, in the above code, that method receives the indexes of a cell in the table and, for the `total` column, it returns the sum of the other two columns.\r\n\r\nYou then create an instance of the model and attach it to the `JTable`:\r\n\r\n    MyTableModel model = new MyTableModel();\r\n    table.setModel(model);\r\n    model.addRow(0,0);\r\n    model.addRow(0,0);\r\n    model.addRow(0,0);\r\n\r\nUPDATE:\r\n\r\nTurns out that the part of `getValueAt` dealing with `rowIndex &lt; 0` is useless.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\r\n  [2]: https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/table/AbstractTableModel.html","title":"How do I make my JTable cell listen for value changes?","body":"<p>You need to write a <code>TableModel</code>. As stated in <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/components/table.html\" rel=\"nofollow noreferrer\">How to Use Tables</a>, it is usually appropriate to extend <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.desktop/javax/swing/table/AbstractTableModel.html\" rel=\"nofollow noreferrer\">AbstractTableModel</a>, for instance:</p>\n<pre><code>public class MyTableModel extends AbstractTableModel {\n    static class RowModel {\n        double firstValue;\n        double secondValue;\n\n        public RowModel(double firstValue, double secondValue) {\n            this.firstValue = firstValue;\n            this.secondValue = secondValue;\n        }\n    };\n\n    private final List&lt;RowModel&gt; rows = new ArrayList&lt;&gt;();\n\n    public void addRow(double firstValue, double secondValue) {\n        int pos = rows.size();\n        rows.add(new RowModel(firstValue, secondValue));\n        fireTableRowsInserted(pos, pos);\n    }\n\n    @Override\n    public int getRowCount() {\n        return rows.size();\n    }\n\n    @Override\n    public int getColumnCount() {\n        return 3;\n    }\n\n    @Override\n    public Class&lt;?&gt; getColumnClass(int columnIndex) {\n        switch (columnIndex) {\n            case 0:\n            case 1:\n            case 2:\n                return Double.class;\n        }\n        return null;\n    }\n\n    @Override\n    public String getColumnName(int column) {\n        switch (column) {\n            case 0:\n                return &quot;First value&quot;;\n            case 1:\n                return &quot;Second value&quot;;\n            case 2:\n                return &quot;Total&quot;;\n        }\n        return null;\n    }\n\n    @Override\n    public Object getValueAt(int rowIndex, int columnIndex) {\n        if (rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()) {\n            RowModel row = rows.get(rowIndex);\n            switch (columnIndex) {\n                case 0:\n                    return row.firstValue;\n                case 1:\n                    return row.secondValue;\n                case 2:\n                    return row.firstValue + row.secondValue;\n            }\n        }\n        return null;\n    }\n\n    @Override\n    public boolean isCellEditable(int rowIndex, int columnIndex) {\n        return rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()\n                &amp;&amp; columnIndex &gt;= 0 &amp;&amp; columnIndex &lt;= 1;\n    }\n\n    @Override\n    public void setValueAt(Object aValue, int rowIndex, int columnIndex) {\n        if (rowIndex &gt;= 0 &amp;&amp; rowIndex &lt; rows.size()) {\n            RowModel row = rows.get(rowIndex);\n            switch (columnIndex) {\n                case 0:\n                    row.firstValue = toDouble(aValue);\n                    fireTableCellUpdated(rowIndex, columnIndex);\n                    fireTableCellUpdated(rowIndex, 2);\n                    break;\n                case 1:\n                    row.secondValue = toDouble(aValue);\n                    fireTableCellUpdated(rowIndex, columnIndex);\n                    fireTableCellUpdated(rowIndex, 2);\n                    break;\n            }\n        }\n    }\n\n    private double toDouble(Object aValue) {\n        if (aValue instanceof Number) {\n            return ((Number)aValue).doubleValue();\n        } else if (aValue instanceof String) {\n            try {\n                return Double.parseDouble((String)aValue);\n            } catch (NumberFormatException e) {\n                // return 0;\n            }\n        }\n        return 0;\n    }\n}\n</code></pre>\n<p>The <code>JTable</code> displays the values in the <code>TableModel</code> by calling the model's <code>getValueAt</code> method. As you can see, in the above code, that method receives the indexes of a cell in the table and, for the <code>total</code> column, it returns the sum of the other two columns.</p>\n<p>You then create an instance of the model and attach it to the <code>JTable</code>:</p>\n<pre><code>MyTableModel model = new MyTableModel();\ntable.setModel(model);\nmodel.addRow(0,0);\nmodel.addRow(0,0);\nmodel.addRow(0,0);\n</code></pre>\n<p>UPDATE:</p>\n<p>Turns out that the part of <code>getValueAt</code> dealing with <code>rowIndex &lt; 0</code> is useless.</p>\n"}],"owner":{"account_id":29008732,"reputation":9,"user_id":22220657,"display_name":"colts moe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697186038,"creation_date":1697109068,"question_id":77280041,"body_markdown":"I have a `JTable` with 3 columns, namely: `firstvalue`, `secvalue` and `total`. My table is editable, so at runtime my `firstvalue` and `secvalue` columns are initialized with value 0.0. Now the user has to type in a value in any of the 2 column cells and then `total` column in that same row has to display the sum of those 2 numbers without any button being clicked.\r\nI tried using `TableCellLister` but it&#39;s giving errors on all lines with the key _TableCellListener_.\r\nThis is my code:\r\n```java\r\nAction myaction = new AbstractAction()\r\n{\r\n    public void actionPerformed(ActionEvent e)\r\n    {\r\n        TablecellListener tblisten = (TableCellListener)e.getSource();\r\n        int row = tblisten.getRow();\r\n        int col = tblisten.getColumn();\r\n        Integer secondcol = 1;\r\n        Integer totalcol = 2;\r\n        int sum;\r\n        //get value\r\n        Integer fval = (Integer)table.getModel().getValueAt(row, col);\r\n        Integer sval = (Integer)table.getModel().getValueAt(row, scol);\r\n\r\n        //find the sum\r\n\r\n        //set value\r\n        table.setvalueAt(sum,row,totalcol);\r\n    }\r\n}\r\n```\r\nThanks in advance.","title":"How do I make my JTable cell listen for value changes?","body":"<p>I have a <code>JTable</code> with 3 columns, namely: <code>firstvalue</code>, <code>secvalue</code> and <code>total</code>. My table is editable, so at runtime my <code>firstvalue</code> and <code>secvalue</code> columns are initialized with value 0.0. Now the user has to type in a value in any of the 2 column cells and then <code>total</code> column in that same row has to display the sum of those 2 numbers without any button being clicked.\nI tried using <code>TableCellLister</code> but it's giving errors on all lines with the key <em>TableCellListener</em>.\nThis is my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Action myaction = new AbstractAction()\n{\n    public void actionPerformed(ActionEvent e)\n    {\n        TablecellListener tblisten = (TableCellListener)e.getSource();\n        int row = tblisten.getRow();\n        int col = tblisten.getColumn();\n        Integer secondcol = 1;\n        Integer totalcol = 2;\n        int sum;\n        //get value\n        Integer fval = (Integer)table.getModel().getValueAt(row, col);\n        Integer sval = (Integer)table.getModel().getValueAt(row, scol);\n\n        //find the sum\n\n        //set value\n        table.setvalueAt(sum,row,totalcol);\n    }\n}\n</code></pre>\n<p>Thanks in advance.</p>\n"},{"tags":["java","tomcat","servletcontextlistener"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697113848,"post_id":77273517,"comment_id":136240536,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":28625143,"reputation":1,"user_id":21917298,"display_name":"Charmi Chavda"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":19,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697185656,"creation_date":1697030996,"question_id":77273517,"body_markdown":"I am getting memory leak error for transferManager thread for Amazons3Client.\r\n\r\n```\r\n WARNING [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [s3-transfer-manager-worker-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n```\r\nWe have a class which has Amazons3Client and TransferManager object defined as static and protected  and initialized it in static block.\r\n\r\n    public class Testing implements StoredFileStrategy{\r\n        protected static AmazonS3Client s3;\r\n        protected static TransferManager xferMgr;\r\n        static {\r\n            ClasspathPropertiesFileCredentialsProvider provider = new ClasspathPropertiesFileCredentialsProvider();\r\n            s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\r\n            s3.setRegion(Region.getRegion(getRegionName()));\r\n            xferMgr = new TransferManager(s3);\r\n        }\r\n       \r\n        public static void shutdownTransferManager(){\r\n            xferMgr.shutdownNow();\r\n        }\r\n    }\r\n\r\nThere is another class that has contextDestroyed method show as below:  \r\n\r\n    @WebListener\r\n    public class AppContextListener implements ServletContextListener \r\n    {\r\n        @Override\r\n        public void contextInitialized(ServletContextEvent servletContextEvent) {\r\n            //...some code    \r\n        }\r\n    \r\n        @Override\r\n        public void contextDestroyed(ServletContextEvent servletContextEvent) {\r\n           try { \r\n                com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkedShutdown();         \r\n                com.amazonaws.http.IdleConnectionReaper.shutdown();\r\n                S3StoredFileStrategy.shutdownTransferManager();\r\n                // Thread.sleep(3000);\r\n            } catch (Throwable ex) {\r\n                ex.printStackTrace();\r\n                logger.error(Common.getExceptionMessage(ex));\r\n            }\r\n        }\r\nSo I made a method in that class that calls shutdown() on trasfermanager object. This object is called from contextDestroyed method. But still memoryLeak error on tomcat close is appearing.\r\n\r\nI debugged the code and then added a Thread.sleep() method for 3 second in contextDestroyed method after shutdown call. Then memory leak message disappears.\r\nSo If I uncomment the above code of thread.sleep() resources is shutting down properly and not giving error of memory leak.But I don&#39;t know Why this is working after calling sleep method. \r\nAnd how safe it is to call sleep method in contextDestroyed?\r\nI have multiple threads(Timer, JDBC, etc..) that is giving error of memory leak.\r\n\r\nWhen we stop tomcat all thread will get destroyed but this memory leak threads will not destroy? How should I check that? As jprofiler will only show threads till the time tomcat is running.\r\n\r\nAny help is appreciated. Thank you in advance.","title":"Amazons3Client TransferManager shutdown methof not working in contextDestroyed of jsp servlet project","body":"<p>I am getting memory leak error for transferManager thread for Amazons3Client.</p>\n<pre><code> WARNING [Thread-7] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [s3-transfer-manager-worker-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n</code></pre>\n<p>We have a class which has Amazons3Client and TransferManager object defined as static and protected  and initialized it in static block.</p>\n<pre><code>public class Testing implements StoredFileStrategy{\n    protected static AmazonS3Client s3;\n    protected static TransferManager xferMgr;\n    static {\n        ClasspathPropertiesFileCredentialsProvider provider = new ClasspathPropertiesFileCredentialsProvider();\n        s3 = new AmazonS3Client(new ClasspathPropertiesFileCredentialsProvider());\n        s3.setRegion(Region.getRegion(getRegionName()));\n        xferMgr = new TransferManager(s3);\n    }\n   \n    public static void shutdownTransferManager(){\n        xferMgr.shutdownNow();\n    }\n}\n</code></pre>\n<p>There is another class that has contextDestroyed method show as below:</p>\n<pre><code>@WebListener\npublic class AppContextListener implements ServletContextListener \n{\n    @Override\n    public void contextInitialized(ServletContextEvent servletContextEvent) {\n        //...some code    \n    }\n\n    @Override\n    public void contextDestroyed(ServletContextEvent servletContextEvent) {\n       try { \n            com.mysql.cj.jdbc.AbandonedConnectionCleanupThread.checkedShutdown();         \n            com.amazonaws.http.IdleConnectionReaper.shutdown();\n            S3StoredFileStrategy.shutdownTransferManager();\n            // Thread.sleep(3000);\n        } catch (Throwable ex) {\n            ex.printStackTrace();\n            logger.error(Common.getExceptionMessage(ex));\n        }\n    }\n</code></pre>\n<p>So I made a method in that class that calls shutdown() on trasfermanager object. This object is called from contextDestroyed method. But still memoryLeak error on tomcat close is appearing.</p>\n<p>I debugged the code and then added a Thread.sleep() method for 3 second in contextDestroyed method after shutdown call. Then memory leak message disappears.\nSo If I uncomment the above code of thread.sleep() resources is shutting down properly and not giving error of memory leak.But I don't know Why this is working after calling sleep method.\nAnd how safe it is to call sleep method in contextDestroyed?\nI have multiple threads(Timer, JDBC, etc..) that is giving error of memory leak.</p>\n<p>When we stop tomcat all thread will get destroyed but this memory leak threads will not destroy? How should I check that? As jprofiler will only show threads till the time tomcat is running.</p>\n<p>Any help is appreciated. Thank you in advance.</p>\n"},{"tags":["java","postgresql","hibernate","quarkus","liquibase-hibernate"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1696711326,"post_id":77248071,"comment_id":136189159,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":15131583,"reputation":1,"user_id":10949292,"display_name":"rubic"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697184744,"creation_date":1696643382,"question_id":77248071,"body_markdown":"Currently, I&#39;m using PostgreSQL for my database and Quarkus with Hibernate ORM. For a while, I just used Hibernate&#39;s default HBM2DDL. Eventually, I discovered that it couldn&#39;t update every change I was making to my entities. Now I&#39;d like to use a proper database migration tool and run something that will generate diff SQL files that I can edit before putting into production.\r\n\r\nMy question is: how do I set up Quarkus and Hibernate ORM entities so that I can generate SQL diff files for database migrations?\r\n\r\nHere&#39;s what I&#39;ve tried so far:\r\n\r\nWhen using Quarkus, the main two supported database migration tools appear to be [Flyway](https://quarkus.io/guides/flyway) and [Liquibase](https://quarkus.io/guides/liquibase). I tried integrating each of these separately and ran into a number of issues:\r\n\r\n- Integrating Flyway worked nicely, but trying to hand write SQL migration files by studying my PanacheEntities and copying out Hibernate-generated changes became super tedious.\r\n\r\n- As a temporary workaround, I used Quarkus&#39;s Dev UI to [generate &quot;initial migration&quot; SQL files](https://quarkus.io/guides/hibernate-orm#flyway) for several different versions of my application, and then I went through and edited each file so that it would migrate correctly. This worked, but still required a lot of time and trial and error.\r\n\r\n- I discovered that [using JPA Buddy is a common answer to this question](https://stackoverflow.com/a/67935661). Sadly, generating diff migrations with JPA Buddy has since become a paid feature, so I would like to look elsewhere.\r\n\r\n- I restarted to a point before Flyway and integrated Liquibase, which was even faster to set up by reusing the SQL files I made for Flyway. I got the migration working, but still needed a solution to generate SQL diffs. Despite [Liquibase having support for generating a diff with Maven](https://docs.liquibase.com/tools-integrations/maven/commands/maven-diff.html), Quarkus&#39;s Liquibase page does not seem to have any support for it, or make any mention of how to improve writing migrations for future versions.\r\n\r\n- I tried adding [liquibase-hibernate](https://github.com/liquibase/liquibase-hibernate) as a dependency to the project, which also involved adding several other things to my `pom.xml` file, making a `liquibase.properties` file (even though I already have an `application.properties` file), and attempting to write an implementation of the `CustomMetadataFactory` class. It seems promising, but Quarkus changes things about Hibernate which prevents me from being able to exactly follow a tutorial for using Liquibase and Hibernate together.\r\n\r\nI find myself pretty stuck at this point. Generating a diff between a local development database and my current JPA entity changes seems to be possible with simpler Hibernate projects and with Spring Boot. What can I do?","title":"How do I perform database diff generation with Quarkus and Hibernate?","body":"<p>Currently, I'm using PostgreSQL for my database and Quarkus with Hibernate ORM. For a while, I just used Hibernate's default HBM2DDL. Eventually, I discovered that it couldn't update every change I was making to my entities. Now I'd like to use a proper database migration tool and run something that will generate diff SQL files that I can edit before putting into production.</p>\n<p>My question is: how do I set up Quarkus and Hibernate ORM entities so that I can generate SQL diff files for database migrations?</p>\n<p>Here's what I've tried so far:</p>\n<p>When using Quarkus, the main two supported database migration tools appear to be <a href=\"https://quarkus.io/guides/flyway\" rel=\"nofollow noreferrer\">Flyway</a> and <a href=\"https://quarkus.io/guides/liquibase\" rel=\"nofollow noreferrer\">Liquibase</a>. I tried integrating each of these separately and ran into a number of issues:</p>\n<ul>\n<li><p>Integrating Flyway worked nicely, but trying to hand write SQL migration files by studying my PanacheEntities and copying out Hibernate-generated changes became super tedious.</p>\n</li>\n<li><p>As a temporary workaround, I used Quarkus's Dev UI to <a href=\"https://quarkus.io/guides/hibernate-orm#flyway\" rel=\"nofollow noreferrer\">generate &quot;initial migration&quot; SQL files</a> for several different versions of my application, and then I went through and edited each file so that it would migrate correctly. This worked, but still required a lot of time and trial and error.</p>\n</li>\n<li><p>I discovered that <a href=\"https://stackoverflow.com/a/67935661\">using JPA Buddy is a common answer to this question</a>. Sadly, generating diff migrations with JPA Buddy has since become a paid feature, so I would like to look elsewhere.</p>\n</li>\n<li><p>I restarted to a point before Flyway and integrated Liquibase, which was even faster to set up by reusing the SQL files I made for Flyway. I got the migration working, but still needed a solution to generate SQL diffs. Despite <a href=\"https://docs.liquibase.com/tools-integrations/maven/commands/maven-diff.html\" rel=\"nofollow noreferrer\">Liquibase having support for generating a diff with Maven</a>, Quarkus's Liquibase page does not seem to have any support for it, or make any mention of how to improve writing migrations for future versions.</p>\n</li>\n<li><p>I tried adding <a href=\"https://github.com/liquibase/liquibase-hibernate\" rel=\"nofollow noreferrer\">liquibase-hibernate</a> as a dependency to the project, which also involved adding several other things to my <code>pom.xml</code> file, making a <code>liquibase.properties</code> file (even though I already have an <code>application.properties</code> file), and attempting to write an implementation of the <code>CustomMetadataFactory</code> class. It seems promising, but Quarkus changes things about Hibernate which prevents me from being able to exactly follow a tutorial for using Liquibase and Hibernate together.</p>\n</li>\n</ul>\n<p>I find myself pretty stuck at this point. Generating a diff between a local development database and my current JPA entity changes seems to be possible with simpler Hibernate projects and with Spring Boot. What can I do?</p>\n"},{"tags":["java","type-conversion"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1697186083,"post_id":77286106,"comment_id":136250840,"body_markdown":"fozzybear&#39;s answer is probably closest to what you are looking for.","body":"fozzybear&#39;s answer is probably closest to what you are looking for."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1697186212,"post_id":77286106,"comment_id":136250861,"body_markdown":"This is a pretty simple and straight forward solution: `Float[] array = IntStream.range(0, floats.length).mapToObj(i -&gt; floats[i]).toArray(Float[]::new);\n`","body":"This is a pretty simple and straight forward solution: <code>Float[] array = IntStream.range(0, floats.length).mapToObj(i -&gt; floats[i]).toArray(Float[]::new); </code>"},{"owner":{"account_id":25176073,"reputation":89,"user_id":19018243,"display_name":"fafa"},"score":0,"creation_date":1697187262,"post_id":77286106,"comment_id":136251044,"body_markdown":"@ODDminus1 your answer is the correct one - if you&#39;d make normal post out of it I would select it as the solution. - thank you for help","body":"@ODDminus1 your answer is the correct one - if you&#39;d make normal post out of it I would select it as the solution. - thank you for help"},{"owner":{"account_id":25176073,"reputation":89,"user_id":19018243,"display_name":"fafa"},"score":0,"creation_date":1697187313,"post_id":77286106,"comment_id":136251062,"body_markdown":"@Sweeper who/where is fozzybear? I do not see his answer here.","body":"@Sweeper who/where is fozzybear? I do not see his answer here."},{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":0,"creation_date":1697187565,"post_id":77286106,"comment_id":136251111,"body_markdown":"Their answer is in the duplicate target. It&#39;s basically the same as what ODDminus1 suggested.","body":"Their answer is in the duplicate target. It&#39;s basically the same as what ODDminus1 suggested."},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1697195192,"post_id":77286106,"comment_id":136252476,"body_markdown":"It might be somewhere in the duplicate target, but the target was very large and broad while this question was concise. Since the question is marked as a duplicate, answers are not allowed, so the comment will be all.","body":"It might be somewhere in the duplicate target, but the target was very large and broad while this question was concise. Since the question is marked as a duplicate, answers are not allowed, so the comment will be all."},{"owner":{"account_id":25176073,"reputation":89,"user_id":19018243,"display_name":"fafa"},"score":0,"creation_date":1697199070,"post_id":77286106,"comment_id":136253145,"body_markdown":"@ODDminus1 aha, OK - got that, thank you for explanation. I at least flagged your answer as being useful, if nothing more.","body":"@ODDminus1 aha, OK - got that, thank you for explanation. I at least flagged your answer as being useful, if nothing more."}],"owner":{"account_id":25176073,"reputation":89,"user_id":19018243,"display_name":"fafa"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1697185980,"answer_count":0,"score":1,"last_activity_date":1697184661,"creation_date":1697184661,"question_id":77286106,"body_markdown":"I am trying to convert float array into Float array.\r\n\r\nI know how to do it with for() loop, but I am searching for a single-line solution if there is one.\r\n\r\nI saw [this post][1] for int[] to Integer[], but could not find a way for the floats. One of the  mentioned solution in that post looks like this (as I said it is for int[] to Integer[])\r\n\r\n    int [] ints = ...\r\n    Integer[] boxedInts = IntStream.of(ints).boxed().toArray(Integer[]::new);\r\n\r\nWhat I am asking is: is there a modification to above line so that it would apply to floats regarding my question, please?\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/30635884/19018243","title":"Java float[] to Float[] one-line conversion","body":"<p>I am trying to convert float array into Float array.</p>\n<p>I know how to do it with for() loop, but I am searching for a single-line solution if there is one.</p>\n<p>I saw <a href=\"https://stackoverflow.com/a/30635884/19018243\">this post</a> for int[] to Integer[], but could not find a way for the floats. One of the  mentioned solution in that post looks like this (as I said it is for int[] to Integer[])</p>\n<pre><code>int [] ints = ...\nInteger[] boxedInts = IntStream.of(ints).boxed().toArray(Integer[]::new);\n</code></pre>\n<p>What I am asking is: is there a modification to above line so that it would apply to floats regarding my question, please?</p>\n"},{"tags":["java","maven","recipe","openrewrite"],"comments":[{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1697133201,"post_id":77245664,"comment_id":136244818,"body_markdown":"All of that looks OK to me; are there any other fields in `SayHelloRecipe` that might cause the `@Value` annotation to create another constructor? It&#39;s hard to say with a limited view on your code. Perhaps a minimal reproduction sample could help here?","body":"All of that looks OK to me; are there any other fields in <code>SayHelloRecipe</code> that might cause the <code>@Value</code> annotation to create another constructor? It&#39;s hard to say with a limited view on your code. Perhaps a minimal reproduction sample could help here?"},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1697184395,"post_id":77245664,"comment_id":136250544,"body_markdown":"@Tim Thanks for reviewing it. I have included the full code of the recipe, I hope that will help. One thing that I noticed reading the documentation, but didn&#39;t work to solve the problem, is that I originally had mistakenly placed the rewrite.yml file in the project where I wanted to use the recipe, whereas it&#39;s apparently meant to be part of the jar of the recipe. But as I said, that didn&#39;t work. I also ran other experiments, making the recipe and the project where I want to apply it be modules of the same multimodule project, for example, but all to no avail.","body":"@Tim Thanks for reviewing it. I have included the full code of the recipe, I hope that will help. One thing that I noticed reading the documentation, but didn&#39;t work to solve the problem, is that I originally had mistakenly placed the rewrite.yml file in the project where I wanted to use the recipe, whereas it&#39;s apparently meant to be part of the jar of the recipe. But as I said, that didn&#39;t work. I also ran other experiments, making the recipe and the project where I want to apply it be modules of the same multimodule project, for example, but all to no avail."},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1697391808,"post_id":77245664,"comment_id":136271306,"body_markdown":"Which path are you using in your library? It should be `src/main/resource/META-INF/rewrite/rewrite.yml` or similar, as seen in https://github.com/moderneinc/rewrite-recipe-starter/blob/main/src/main/resources/META-INF/rewrite/rewrite.yml","body":"Which path are you using in your library? It should be <code>src&#47;main&#47;resource&#47;META-INF&#47;rewrite&#47;rewrite.yml</code> or similar, as seen in <a href=\"https://github.com/moderneinc/rewrite-recipe-starter/blob/main/src/main/resources/META-INF/rewrite/rewrite.yml\" rel=\"nofollow noreferrer\">github.com/moderneinc/rewrite-recipe-starter/blob/main/src/m&zwnj;&#8203;ain/&hellip;</a>"},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1697391882,"post_id":77245664,"comment_id":136271308,"body_markdown":"You can also start with a fork of moderneinc/rewrite-recipe-starter to get started with a working library setup.","body":"You can also start with a fork of moderneinc/rewrite-recipe-starter to get started with a working library setup."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":0,"creation_date":1697399326,"post_id":77245664,"comment_id":136272068,"body_markdown":"Yes, it is in that route, and I&#39;ve verified that it ends up in the jar for the recipe. In fact, after putting it in the correct route, the logs started to show both a call that showed the null value, and one that showed the right value. The recipe validation error, of course, still happens, as the first time the recipe is initialized, the property does not receive the value from the file for some reason, even though there&#39;s a subsequent call in which it does. I will try the fork approach that you suggest, hopefully that produces better results.","body":"Yes, it is in that route, and I&#39;ve verified that it ends up in the jar for the recipe. In fact, after putting it in the correct route, the logs started to show both a call that showed the null value, and one that showed the right value. The recipe validation error, of course, still happens, as the first time the recipe is initialized, the property does not receive the value from the file for some reason, even though there&#39;s a subsequent call in which it does. I will try the fork approach that you suggest, hopefully that produces better results."},{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1697539131,"post_id":77245664,"comment_id":136289749,"body_markdown":"@Tim Problem solved. The recipe name in the maven plugin configuration was incorrect :(","body":"@Tim Problem solved. The recipe name in the maven plugin configuration was incorrect :("},{"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"score":0,"creation_date":1697540857,"post_id":77245664,"comment_id":136290082,"body_markdown":"Glad to hear your issue was resolved!","body":"Glad to hear your issue was resolved!"}],"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697184213,"creation_date":1696605852,"question_id":77245664,"body_markdown":"I am trying to replicate SayHelloRecipe example from the OpenRewrite documentation. My recipe is as follows:\r\n\r\n```\r\npackage my.package.recipes;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonCreator;\r\nimport com.fasterxml.jackson.annotation.JsonProperty;\r\nimport lombok.EqualsAndHashCode;\r\nimport lombok.Value;\r\nimport org.openrewrite.Cursor;\r\nimport org.openrewrite.ExecutionContext;\r\nimport org.openrewrite.Option;\r\nimport org.openrewrite.Recipe;\r\nimport org.openrewrite.TreeVisitor;\r\nimport org.openrewrite.internal.lang.NonNull;\r\nimport org.openrewrite.java.JavaIsoVisitor;\r\nimport org.openrewrite.java.JavaTemplate;\r\nimport org.openrewrite.java.tree.J;\r\n\r\n@Value\r\n@EqualsAndHashCode(callSuper = false)\r\npublic class SayHelloRecipe extends Recipe {\r\n    @Option(displayName = &quot;Fully Qualified Class Name&quot;,\r\n            description = &quot;A fully qualified class name indicating which class to add a hello() method to.&quot;,\r\n            example = &quot;com.yourorg.FooBar&quot;)\r\n    @NonNull\r\n    String fullyQualifiedClassName;\r\n\r\n    @JsonCreator\r\n    public SayHelloRecipe(@NonNull @JsonProperty(&quot;fullyQualifiedClassName&quot;) String fullyQualifiedClassName) {\r\n        this.fullyQualifiedClassName = fullyQualifiedClassName;\r\n    }\r\n\r\n    @Override\r\n    public String getDisplayName() {\r\n        return &quot;Say Hello&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getDescription() {\r\n        return &quot;Adds a \\&quot;hello\\&quot; method to the specified class.&quot;;\r\n    }\r\n\r\n    @Override\r\n    public TreeVisitor&lt;?, ExecutionContext&gt; getVisitor() {\r\n        return new SayHelloVisitor();\r\n    }\r\n\r\n    public class SayHelloVisitor extends JavaIsoVisitor&lt;ExecutionContext&gt; {\r\n        private final JavaTemplate helloTemplate =\r\n                JavaTemplate.builder( &quot;public String hello() { return \\&quot;Hello from #{}!\\&quot;; }&quot;)\r\n                        .build();\r\n        @Override\r\n        public J.ClassDeclaration visitClassDeclaration(J.ClassDeclaration classDecl, ExecutionContext executionContext) {\r\n            if (classDecl.getType() == null || !classDecl.getType().getFullyQualifiedName().equals(fullyQualifiedClassName)) {\r\n                return classDecl;\r\n            }\r\n\r\n            boolean helloMethodExists = classDecl.getBody().getStatements().stream()\r\n                    .filter(statement -&gt; statement instanceof J.MethodDeclaration)\r\n                    .map(J.MethodDeclaration.class::cast)\r\n                    .anyMatch(methodDeclaration -&gt; methodDeclaration.getName().getSimpleName().equals(&quot;hello&quot;));\r\n\r\n            if (helloMethodExists) {\r\n                return classDecl;\r\n            }\r\n\r\n            classDecl = classDecl.withBody( helloTemplate.apply(new Cursor(getCursor(), classDecl.getBody()),\r\n                    classDecl.getBody().getCoordinates().lastStatement(),\r\n                    fullyQualifiedClassName ));\r\n\r\n            return classDecl;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nThe recipe compiles and its tests pass. I then have a different project with some sample code to which I want to apply some built-in recipes and this custom recipe. To this end, I have included in this other project a rewrite.yml file in the root of the project:\r\n\r\n```\r\n---\r\ntype: specs.openrewrite.org/v1beta/recipe\r\nname: my.package.recipes.AddHelloMethod\r\nrecipeList:\r\n  - my.package.recipes.SayHelloRecipe:\r\n      fullyQualifiedClassName: &#39;another.package.openrewritedemo.controller.MessageController&#39;\r\n```\r\n\r\nThe Maven configuration for the OpenRewrite plugin is as follows:\r\n\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\r\n    &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;5.5.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n       &lt;activeRecipes&gt;\r\n          &lt;recipe&gt;org.openrewrite.java.OrderImports&lt;/recipe&gt;\r\n          &lt;recipe&gt;org.openrewrite.staticanalysis.CommonStaticAnalysis&lt;/recipe&gt;\r\n          &lt;recipe&gt;org.openrewrite.staticanalysis.JavaApiBestPractices&lt;/recipe&gt;\r\n          &lt;recipe&gt;org.openrewrite.java.spring.boot3.UpgradeSpringBoot_3_0&lt;/recipe&gt;\r\n          &lt;recipe&gt;my.package.recipes.SayHelloRecipe&lt;/recipe&gt;\r\n       &lt;/activeRecipes&gt;\r\n    &lt;/configuration&gt;\r\n    &lt;dependencies&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rewrite-spring&lt;/artifactId&gt;\r\n          &lt;version&gt;5.0.10&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n          &lt;artifactId&gt;rewrite-static-analysis&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0.7&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n       &lt;dependency&gt;\r\n          &lt;groupId&gt;com.acme&lt;/groupId&gt;\r\n          &lt;artifactId&gt;CustomRecipe&lt;/artifactId&gt;\r\n          &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n       &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAll of this seems correct to me, however when I try to run the project where I want to use my custom recipe, it throws an error stating &quot;Recipe validation error in fullyQualifiedClassName: is required&quot;, and by adding log statements to the recipe I have verified that fullyQualifiedClassName is null, as if it didn&#39;t receive the value specified in the rewrite.yml file. What can I do so the recipe will receive the value specified in the rewrite.yml file? Thanks in advance.","title":"OpenRewrite recipe specified in rewrite.yml with values for all mandatory properties fails because the recipe does not receive the values","body":"<p>I am trying to replicate SayHelloRecipe example from the OpenRewrite documentation. My recipe is as follows:</p>\n<pre><code>package my.package.recipes;\n\nimport com.fasterxml.jackson.annotation.JsonCreator;\nimport com.fasterxml.jackson.annotation.JsonProperty;\nimport lombok.EqualsAndHashCode;\nimport lombok.Value;\nimport org.openrewrite.Cursor;\nimport org.openrewrite.ExecutionContext;\nimport org.openrewrite.Option;\nimport org.openrewrite.Recipe;\nimport org.openrewrite.TreeVisitor;\nimport org.openrewrite.internal.lang.NonNull;\nimport org.openrewrite.java.JavaIsoVisitor;\nimport org.openrewrite.java.JavaTemplate;\nimport org.openrewrite.java.tree.J;\n\n@Value\n@EqualsAndHashCode(callSuper = false)\npublic class SayHelloRecipe extends Recipe {\n    @Option(displayName = &quot;Fully Qualified Class Name&quot;,\n            description = &quot;A fully qualified class name indicating which class to add a hello() method to.&quot;,\n            example = &quot;com.yourorg.FooBar&quot;)\n    @NonNull\n    String fullyQualifiedClassName;\n\n    @JsonCreator\n    public SayHelloRecipe(@NonNull @JsonProperty(&quot;fullyQualifiedClassName&quot;) String fullyQualifiedClassName) {\n        this.fullyQualifiedClassName = fullyQualifiedClassName;\n    }\n\n    @Override\n    public String getDisplayName() {\n        return &quot;Say Hello&quot;;\n    }\n\n    @Override\n    public String getDescription() {\n        return &quot;Adds a \\&quot;hello\\&quot; method to the specified class.&quot;;\n    }\n\n    @Override\n    public TreeVisitor&lt;?, ExecutionContext&gt; getVisitor() {\n        return new SayHelloVisitor();\n    }\n\n    public class SayHelloVisitor extends JavaIsoVisitor&lt;ExecutionContext&gt; {\n        private final JavaTemplate helloTemplate =\n                JavaTemplate.builder( &quot;public String hello() { return \\&quot;Hello from #{}!\\&quot;; }&quot;)\n                        .build();\n        @Override\n        public J.ClassDeclaration visitClassDeclaration(J.ClassDeclaration classDecl, ExecutionContext executionContext) {\n            if (classDecl.getType() == null || !classDecl.getType().getFullyQualifiedName().equals(fullyQualifiedClassName)) {\n                return classDecl;\n            }\n\n            boolean helloMethodExists = classDecl.getBody().getStatements().stream()\n                    .filter(statement -&gt; statement instanceof J.MethodDeclaration)\n                    .map(J.MethodDeclaration.class::cast)\n                    .anyMatch(methodDeclaration -&gt; methodDeclaration.getName().getSimpleName().equals(&quot;hello&quot;));\n\n            if (helloMethodExists) {\n                return classDecl;\n            }\n\n            classDecl = classDecl.withBody( helloTemplate.apply(new Cursor(getCursor(), classDecl.getBody()),\n                    classDecl.getBody().getCoordinates().lastStatement(),\n                    fullyQualifiedClassName ));\n\n            return classDecl;\n        }\n    }\n}\n</code></pre>\n<p>The recipe compiles and its tests pass. I then have a different project with some sample code to which I want to apply some built-in recipes and this custom recipe. To this end, I have included in this other project a rewrite.yml file in the root of the project:</p>\n<pre><code>---\ntype: specs.openrewrite.org/v1beta/recipe\nname: my.package.recipes.AddHelloMethod\nrecipeList:\n  - my.package.recipes.SayHelloRecipe:\n      fullyQualifiedClassName: 'another.package.openrewritedemo.controller.MessageController'\n</code></pre>\n<p>The Maven configuration for the OpenRewrite plugin is as follows:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\n    &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;5.5.2&lt;/version&gt;\n    &lt;configuration&gt;\n       &lt;activeRecipes&gt;\n          &lt;recipe&gt;org.openrewrite.java.OrderImports&lt;/recipe&gt;\n          &lt;recipe&gt;org.openrewrite.staticanalysis.CommonStaticAnalysis&lt;/recipe&gt;\n          &lt;recipe&gt;org.openrewrite.staticanalysis.JavaApiBestPractices&lt;/recipe&gt;\n          &lt;recipe&gt;org.openrewrite.java.spring.boot3.UpgradeSpringBoot_3_0&lt;/recipe&gt;\n          &lt;recipe&gt;my.package.recipes.SayHelloRecipe&lt;/recipe&gt;\n       &lt;/activeRecipes&gt;\n    &lt;/configuration&gt;\n    &lt;dependencies&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n          &lt;artifactId&gt;rewrite-spring&lt;/artifactId&gt;\n          &lt;version&gt;5.0.10&lt;/version&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n          &lt;artifactId&gt;rewrite-static-analysis&lt;/artifactId&gt;\n          &lt;version&gt;1.0.7&lt;/version&gt;\n       &lt;/dependency&gt;\n       &lt;dependency&gt;\n          &lt;groupId&gt;com.acme&lt;/groupId&gt;\n          &lt;artifactId&gt;CustomRecipe&lt;/artifactId&gt;\n          &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n       &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>All of this seems correct to me, however when I try to run the project where I want to use my custom recipe, it throws an error stating &quot;Recipe validation error in fullyQualifiedClassName: is required&quot;, and by adding log statements to the recipe I have verified that fullyQualifiedClassName is null, as if it didn't receive the value specified in the rewrite.yml file. What can I do so the recipe will receive the value specified in the rewrite.yml file? Thanks in advance.</p>\n"},{"tags":["java","barcode","zxing","code39"],"answers":[{"tags":[],"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697184128,"creation_date":1697184128,"answer_id":77286048,"question_id":77286047,"body_markdown":"I solved setting a configuration of the **DecodeHintType** structure.\r\n\r\nIn particular, when setting *ASSUME_CODE_39_CHECK_DIGIT* as false, the generation of check digit is disabled.\r\n\r\n    zxingHints.put(DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT, Boolean.FALSE);\r\n\r\nSo, the complete configuration is:\r\n\r\n    Map&lt;DecodeHintType, Object&gt; zxingHints = new HashMap&lt;&gt;();\r\n\tzxingHints.put(DecodeHintType.TRY_HARDER, Boolean.TRUE);\r\n\tzxingHints.put(DecodeHintType.POSSIBLE_FORMATS, List.of(BarcodeFormat.CODE_39));\r\n    zxingHints.put(DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT, Boolean.FALSE);\r\n\r\nMore info [here](https://zxing.github.io/zxing/apidocs/com/google/zxing/DecodeHintType.html#ASSUME_CODE_39_CHECK_DIGIT)","title":"ZXing - Read Code 39 barcode without check digit","body":"<p>I solved setting a configuration of the <strong>DecodeHintType</strong> structure.</p>\n<p>In particular, when setting <em>ASSUME_CODE_39_CHECK_DIGIT</em> as false, the generation of check digit is disabled.</p>\n<pre><code>zxingHints.put(DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT, Boolean.FALSE);\n</code></pre>\n<p>So, the complete configuration is:</p>\n<pre><code>Map&lt;DecodeHintType, Object&gt; zxingHints = new HashMap&lt;&gt;();\nzxingHints.put(DecodeHintType.TRY_HARDER, Boolean.TRUE);\nzxingHints.put(DecodeHintType.POSSIBLE_FORMATS, List.of(BarcodeFormat.CODE_39));\nzxingHints.put(DecodeHintType.ASSUME_CODE_39_CHECK_DIGIT, Boolean.FALSE);\n</code></pre>\n<p>More info <a href=\"https://zxing.github.io/zxing/apidocs/com/google/zxing/DecodeHintType.html#ASSUME_CODE_39_CHECK_DIGIT\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":6377538,"reputation":829,"user_id":4948006,"accept_rate":100,"display_name":"A M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":77286048,"answer_count":1,"score":-1,"last_activity_date":1697184128,"creation_date":1697184128,"question_id":77286047,"body_markdown":"I&#39;m using ZXing library for reading Code 39 barcodes from pdf documents. I noticed it adds a control character at the end of the barcode. \r\n\r\nIs there a way to disable the generation of that extra character?\r\n\r\nHere is my code snippet:\r\n\r\n    public Optional&lt;String&gt; readBarcode(File docFile){\r\n\t\ttry (PDDocument document = PDDocument.load(docFile)) {\r\n\t\t\tPDFRenderer pdfRenderer = new PDFRenderer(document);\r\n\t\t\tBufferedImage fullPageImage = pdfRenderer.renderImageWithDPI(0, 300, ImageType.RGB);\r\n\t\t\tint imageWidth = fullPageImage.getWidth();\r\n\t\t\tint imageHeight = fullPageImage.getHeight();\r\n\t\t\tint sectionWidth = 800;\r\n\t\t\tint sectionHeight = 800;\r\n\t\t\tint scanDelta = 200;\r\n\t\t\tint x = imageWidth - sectionWidth;\r\n\t\t\tint y = 0;\r\n\t\t\tint w = sectionWidth;\r\n\t\t\tint h = sectionHeight;\r\n\t\t\tint sectionNumber = 1;\r\n\t\t\tint rowIndex = 1;\r\n\t\t\tint columnIndex = 1;\r\n\t\t\t// Configuring ZXing\r\n\t\t\tMap&lt;DecodeHintType, Object&gt; zxingHints = new HashMap&lt;&gt;();\r\n\t\t\tzxingHints.put(DecodeHintType.TRY_HARDER, Boolean.TRUE);\r\n\t\t\tzxingHints.put(DecodeHintType.POSSIBLE_FORMATS, List.of(BarcodeFormat.CODE_39));\r\n\t\t\tdo {\r\n\t\t\t\tdo {\r\n\t\t\t\t\tBufferedImage imageSection = fullPageImage.getSubimage(x, y, w, h);\r\n\t\t\t\t\tBinaryBitmap binaryBitmap = new BinaryBitmap(new HybridBinarizer(new BufferedImageLuminanceSource(imageSection)));\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tResult barcodeDecodingResult = new MultiFormatReader().decode(binaryBitmap, zxingHints);\r\n\t\t\t\t\t\tif (StringUtils.isNotBlank(barcodeDecodingResult.getText())) {\r\n\t\t\t\t\t\t\t// Retrieving barcode \r\n\t\t\t\t\t\t\treturn Optional.of(barcodeDecodingResult.getText());\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} catch (NotFoundException ignored) {}\r\n\t\t\t\t\tx = Math.max(0, x - scanDelta);\r\n\t\t\t\t\tsectionNumber++;\r\n\t\t\t\t\tcolumnIndex++;\r\n\t\t\t\t} while (x &gt; 0);\r\n\t\t\t\ty = Math.min(imageHeight, y + scanDelta);\r\n\t\t\t\tx = imageWidth - sectionWidth;\r\n\t\t\t\tcolumnIndex = 1;\r\n\t\t\t\trowIndex++;\r\n\t\t\t} while ((y + sectionHeight) &lt; imageHeight);\r\n\t\t} catch (IOException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t\treturn Optional.empty();\r\n\t}\r\n\r\n","title":"ZXing - Read Code 39 barcode without check digit","body":"<p>I'm using ZXing library for reading Code 39 barcodes from pdf documents. I noticed it adds a control character at the end of the barcode.</p>\n<p>Is there a way to disable the generation of that extra character?</p>\n<p>Here is my code snippet:</p>\n<pre><code>public Optional&lt;String&gt; readBarcode(File docFile){\n    try (PDDocument document = PDDocument.load(docFile)) {\n        PDFRenderer pdfRenderer = new PDFRenderer(document);\n        BufferedImage fullPageImage = pdfRenderer.renderImageWithDPI(0, 300, ImageType.RGB);\n        int imageWidth = fullPageImage.getWidth();\n        int imageHeight = fullPageImage.getHeight();\n        int sectionWidth = 800;\n        int sectionHeight = 800;\n        int scanDelta = 200;\n        int x = imageWidth - sectionWidth;\n        int y = 0;\n        int w = sectionWidth;\n        int h = sectionHeight;\n        int sectionNumber = 1;\n        int rowIndex = 1;\n        int columnIndex = 1;\n        // Configuring ZXing\n        Map&lt;DecodeHintType, Object&gt; zxingHints = new HashMap&lt;&gt;();\n        zxingHints.put(DecodeHintType.TRY_HARDER, Boolean.TRUE);\n        zxingHints.put(DecodeHintType.POSSIBLE_FORMATS, List.of(BarcodeFormat.CODE_39));\n        do {\n            do {\n                BufferedImage imageSection = fullPageImage.getSubimage(x, y, w, h);\n                BinaryBitmap binaryBitmap = new BinaryBitmap(new HybridBinarizer(new BufferedImageLuminanceSource(imageSection)));\n                try {\n                    Result barcodeDecodingResult = new MultiFormatReader().decode(binaryBitmap, zxingHints);\n                    if (StringUtils.isNotBlank(barcodeDecodingResult.getText())) {\n                        // Retrieving barcode \n                        return Optional.of(barcodeDecodingResult.getText());\n                    }\n                } catch (NotFoundException ignored) {}\n                x = Math.max(0, x - scanDelta);\n                sectionNumber++;\n                columnIndex++;\n            } while (x &gt; 0);\n            y = Math.min(imageHeight, y + scanDelta);\n            x = imageWidth - sectionWidth;\n            columnIndex = 1;\n            rowIndex++;\n        } while ((y + sectionHeight) &lt; imageHeight);\n    } catch (IOException e) {\n        throw new RuntimeException(e);\n    }\n    return Optional.empty();\n}\n</code></pre>\n"},{"tags":["java","spring-boot","cdi","inject","microprofile"],"owner":{"account_id":29662115,"reputation":1,"user_id":22733452,"display_name":"alwond"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697182720,"creation_date":1697182529,"question_id":77285855,"body_markdown":"I have a problem that I&#39;ve been trying to solve for a while. I am trying to measure the performance in the app, and for that I want to use the microprofile metrics library from eclipse (more exactly, I am using the version 1.1.5). The application is using Spring Boot 2.7.2, Maven and Websphere/Liberty 22.0.0.6. Seems like everything worked fine til some point, since when I am starting the app, the endpoint /metrics is working and I can see metrics of type vendor and base, but no application ones (added in the code). It seems like the problem appears due to the fact that @Inject is providing a **null **MetricRegistry to which I am trying to add the custom made metrics. Here is the @Configuration for the Metrics module where the MetricRegistry is injected: \r\n\r\n\r\n```java\r\nimport jakarta.inject.Inject;\r\nimport org.eclipse.microprofile.metrics.MetricRegistry;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\n@Configuration\r\npublic class MetricsConfiguration {\r\n    \r\n    @Inject\r\n    MetricRegistry metricRegistry;\r\n\r\n    @Bean\r\n    public MetricsPort metricsPort() {\r\n        return new MetricsPortImpl(metricRegistry);\r\n    }\r\n}\r\n\r\n```\r\n\r\nAnd here is the dependency I added in order to be able to use the inject annotation from Jakarta:\r\n\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.0&lt;/version&gt;\r\n    &lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nI tried to change the @Inject to @Autowired from Spring but it seems like MetricRegistry can be injected only using CDI. \r\nI tried changing the version of Jakarta but nothing improved. Initially I was using the version 9.1.0 for jakarta.jakartaee-api, which let me start the app but was providing the null MetricRegistry. \r\nI also tried the annotation @DependsOn to create the MetricsPort after the MetricRegistry was injected.\r\nI tried a bunch of different dependencies and options for `@Inject` annotation but nothing changed.","title":"@Inject from Jakarta failing to provide MetricRegistry Microprofile","body":"<p>I have a problem that I've been trying to solve for a while. I am trying to measure the performance in the app, and for that I want to use the microprofile metrics library from eclipse (more exactly, I am using the version 1.1.5). The application is using Spring Boot 2.7.2, Maven and Websphere/Liberty 22.0.0.6. Seems like everything worked fine til some point, since when I am starting the app, the endpoint /metrics is working and I can see metrics of type vendor and base, but no application ones (added in the code). It seems like the problem appears due to the fact that @Inject is providing a **null **MetricRegistry to which I am trying to add the custom made metrics. Here is the @Configuration for the Metrics module where the MetricRegistry is injected:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import jakarta.inject.Inject;\nimport org.eclipse.microprofile.metrics.MetricRegistry;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\n@Configuration\npublic class MetricsConfiguration {\n    \n    @Inject\n    MetricRegistry metricRegistry;\n\n    @Bean\n    public MetricsPort metricsPort() {\n        return new MetricsPortImpl(metricRegistry);\n    }\n}\n\n</code></pre>\n<p>And here is the dependency I added in order to be able to use the inject annotation from Jakarta:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.inject&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.inject-api&lt;/artifactId&gt;\n    &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I tried to change the @Inject to @Autowired from Spring but it seems like MetricRegistry can be injected only using CDI.\nI tried changing the version of Jakarta but nothing improved. Initially I was using the version 9.1.0 for jakarta.jakartaee-api, which let me start the app but was providing the null MetricRegistry.\nI also tried the annotation @DependsOn to create the MetricsPort after the MetricRegistry was injected.\nI tried a bunch of different dependencies and options for <code>@Inject</code> annotation but nothing changed.</p>\n"},{"tags":["java","spring-boot","websocket"],"comments":[{"owner":{"account_id":22702283,"reputation":35,"user_id":16869520,"display_name":"Prithvi Emmanuel Machado"},"score":0,"creation_date":1697228675,"post_id":77280547,"comment_id":136258640,"body_markdown":"had to replace this registry.addEndpoint(&quot;/ws&quot;).withSockJS(); with registry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;).withSockJS(); and it worked","body":"had to replace this registry.addEndpoint(&quot;/ws&quot;).withSockJS(); with registry.addEndpoint(&quot;/ws&quot;).setAllowedOriginPatterns(&quot;*&quot;).wi&zwnj;&#8203;thSockJS(); and it worked"}],"owner":{"account_id":22702283,"reputation":35,"user_id":16869520,"display_name":"Prithvi Emmanuel Machado"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":18,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697182568,"creation_date":1697113394,"question_id":77280547,"body_markdown":"I am trying to create a gateway server that works with both rest apis and also web sockets. I have setup the rest api part but I am currently struggling with the ws part. I have the server running on localhost:8181. To configure the web socket I have used the following code\r\n\r\n    @Configuration\r\n    @EnableWebSocketMessageBroker\r\n    public class WebSocketConfig implements WebSocketMessageBrokerConfigurer{\r\n\r\n        @Override\r\n        public void registerStompEndpoints(StompEndpointRegistry registry){\r\n            registry.addEndpoint(&quot;/ws&quot;).withSockJS();\r\n        }\r\n\r\n        @Override\r\n        public void configureMessageBroker(MessageBrokerRegistry registry){\r\n            registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\r\n            registry.enableSimpleBroker(&quot;/topic&quot;);\r\n        }\r\n\r\n    }\r\n\r\n\r\nbut when trying to connect to the server i keep getting this error \r\n\r\n    Access to XMLHttpRequest at &#39;http://localhost:8181/ws/info?t=1697111951247&#39; from origin &#39;null&#39; has been blocked by CORS policy: No &#39;Access-Control-Allow-Origin&#39; header is present on the requested resource.\r\n    abstract-xhr.js:132     GET http://localhost:8181/ws/info?t=1697111951247 net::ERR_FAILED 403 (Forbidden)\r\n\r\nto connect with the server I am using the following code from a static html page\r\n    \r\n    var socket = new SockJS(&#39;http://localhost:8181/ws&#39;);\r\n    stompClient = Stomp.over(socket);\r\n    stompClient.connect({}, onConnect, onWebSocketError);\r\n\r\nI&#39;ve replaced http://localhost:8080/ws with just /ws then it gives invalid host error\r\nI have even tried setting CORS in Spring using the following code\r\n\r\n    @Configuration\r\n    @EnableWebMvc\r\n    public class CorsConfig implements WebMvcConfigurer {\r\n        @Override\r\n        public void addCorsMappings(CorsRegistry registry) {\r\n            registry.addMapping(&quot;/ws/*&quot;)\r\n                .allowedOrigins(&quot;http://localhost:8181&quot;)\r\n                .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\r\n                .allowedHeaders(&quot;&quot;)\r\n                .allowCredentials(true);\r\n        }\r\n    }\r\n\r\nStill no luck. Any help is appreciated","title":"Web sockets and RestAPIs with Spring Boot","body":"<p>I am trying to create a gateway server that works with both rest apis and also web sockets. I have setup the rest api part but I am currently struggling with the ws part. I have the server running on localhost:8181. To configure the web socket I have used the following code</p>\n<pre><code>@Configuration\n@EnableWebSocketMessageBroker\npublic class WebSocketConfig implements WebSocketMessageBrokerConfigurer{\n\n    @Override\n    public void registerStompEndpoints(StompEndpointRegistry registry){\n        registry.addEndpoint(&quot;/ws&quot;).withSockJS();\n    }\n\n    @Override\n    public void configureMessageBroker(MessageBrokerRegistry registry){\n        registry.setApplicationDestinationPrefixes(&quot;/app&quot;);\n        registry.enableSimpleBroker(&quot;/topic&quot;);\n    }\n\n}\n</code></pre>\n<p>but when trying to connect to the server i keep getting this error</p>\n<pre><code>Access to XMLHttpRequest at 'http://localhost:8181/ws/info?t=1697111951247' from origin 'null' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource.\nabstract-xhr.js:132     GET http://localhost:8181/ws/info?t=1697111951247 net::ERR_FAILED 403 (Forbidden)\n</code></pre>\n<p>to connect with the server I am using the following code from a static html page</p>\n<pre><code>var socket = new SockJS('http://localhost:8181/ws');\nstompClient = Stomp.over(socket);\nstompClient.connect({}, onConnect, onWebSocketError);\n</code></pre>\n<p>I've replaced http://localhost:8080/ws with just /ws then it gives invalid host error\nI have even tried setting CORS in Spring using the following code</p>\n<pre><code>@Configuration\n@EnableWebMvc\npublic class CorsConfig implements WebMvcConfigurer {\n    @Override\n    public void addCorsMappings(CorsRegistry registry) {\n        registry.addMapping(&quot;/ws/*&quot;)\n            .allowedOrigins(&quot;http://localhost:8181&quot;)\n            .allowedMethods(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;DELETE&quot;)\n            .allowedHeaders(&quot;&quot;)\n            .allowCredentials(true);\n    }\n}\n</code></pre>\n<p>Still no luck. Any help is appreciated</p>\n"},{"tags":["java","amazon-web-services","maven","amazon-s3","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1697196036,"post_id":77285846,"comment_id":136252635,"body_markdown":"Please try suggestions from similar thread: https://stackoverflow.com/questions/37781970/disconnected-from-the-target-vm-address-127-0-0-162535-transport-socket","body":"Please try suggestions from similar thread: <a href=\"https://stackoverflow.com/questions/37781970/disconnected-from-the-target-vm-address-127-0-0-162535-transport-socket\" title=\"disconnected from the target vm address 127 0 0 162535 transport socket\">stackoverflow.com/questions/37781970/&hellip;</a>"}],"owner":{"account_id":29662189,"reputation":1,"user_id":22733505,"display_name":"neha anthony"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697182425,"creation_date":1697182425,"question_id":77285846,"body_markdown":"While debuging program following  error is comming-\r\nConnected to the target VM, address: &#39;javadebug&#39;, transport: &#39;shared memory&#39;\r\n\r\nUsage:\r\n    &lt;textract-java&gt; &lt;bill.jpeg&gt; \r\n\r\nWhere:\r\n    bucketName - The name of the Amazon S3 bucket that contains the document. \r\n\r\n    docName - The document name (must be an image, i.e., book.png). \r\n\r\nDisconnected from the target VM, address: &#39;javadebug&#39;, transport: &#39;shared memory&#39;\r\n\r\nProcess finished with exit code 1\r\n     \r\n\r\nPlease help\r\n\r\nI am trying a aws java program to analyze the document.","title":"Disconnected from the target VM, address: &#39;javadebug&#39;, transport: &#39;shared memory&#39;","body":"<p>While debuging program following  error is comming-\nConnected to the target VM, address: 'javadebug', transport: 'shared memory'</p>\n<p>Usage:\n &lt;bill.jpeg&gt;</p>\n<p>Where:\nbucketName - The name of the Amazon S3 bucket that contains the document.</p>\n<pre><code>docName - The document name (must be an image, i.e., book.png). \n</code></pre>\n<p>Disconnected from the target VM, address: 'javadebug', transport: 'shared memory'</p>\n<p>Process finished with exit code 1</p>\n<p>Please help</p>\n<p>I am trying a aws java program to analyze the document.</p>\n"},{"tags":["java","arrays","programming-languages","methods"],"comments":[{"owner":{"account_id":12478,"reputation":23673,"user_id":24582,"display_name":"extraneon"},"score":0,"creation_date":1267701583,"post_id":2378756,"comment_id":2355308,"body_markdown":"Do you mean copying the array, or just assigning the result of this method to a variable so you can use it?","body":"Do you mean copying the array, or just assigning the result of this method to a variable so you can use it?"},{"owner":{"account_id":41065,"reputation":37025,"user_id":119271,"accept_rate":78,"display_name":"Douglas"},"score":0,"creation_date":1267701851,"post_id":2378756,"comment_id":2355344,"body_markdown":"Do you mean appending the results onto another array? As in, you started with foo = { 9, 9, 9 }, then after calling your method you want to append them to foo such that foo becomes { 9, 9, 9, 1, 2, 3, 5 }?","body":"Do you mean appending the results onto another array? As in, you started with foo = { 9, 9, 9 }, then after calling your method you want to append them to foo such that foo becomes { 9, 9, 9, 1, 2, 3, 5 }?"}],"answers":[{"tags":[],"owner":{"account_id":104434,"reputation":2853,"user_id":279218,"accept_rate":74,"display_name":"saugata"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1267701377,"creation_date":1267701377,"answer_id":2378759,"question_id":2378756,"body_markdown":"    int[] x = method();","title":"How to store an array returned by a method in Java","body":"<pre><code>int[] x = method();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19015,"reputation":16919,"user_id":44124,"accept_rate":84,"display_name":"Kannan Ekanath"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1267701402,"creation_date":1267701402,"answer_id":2378760,"question_id":2378756,"body_markdown":"int[] anotherArray = method();\r\n\r\nDo you want to make another physical copy of the array ? \r\n\r\nThen use \r\n\r\n    System.arraycopy(Object src,  int  srcPos, Object dest, int destPos, int length)","title":"How to store an array returned by a method in Java","body":"<p>int[] anotherArray = method();</p>\n\n<p>Do you want to make another physical copy of the array ? </p>\n\n<p>Then use </p>\n\n<pre><code>System.arraycopy(Object src,  int  srcPos, Object dest, int destPos, int length)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2151,"reputation":3523,"user_id":2965,"accept_rate":86,"display_name":"Laurent K"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697182200,"creation_date":1267701451,"answer_id":2378765,"question_id":2378756,"body_markdown":"If you want to duplicate the array, you can use [`copyOf()`][1].\r\n\r\n[1]: https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#copyOf(int[],%20int)\r\n\r\n","title":"How to store an array returned by a method in Java","body":"<p>If you want to duplicate the array, you can use <a href=\"https://docs.oracle.com/javase/6/docs/api/java/util/Arrays.html#copyOf(int%5B%5D,%20int)\" rel=\"nofollow noreferrer\"><code>copyOf()</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":62111,"reputation":40153,"user_id":184730,"accept_rate":72,"display_name":"fastcodejava"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267701652,"creation_date":1267701652,"answer_id":2378794,"question_id":2378756,"body_markdown":"Are you sure you have to copy?\r\n\r\n    int[] myArray = method();  // now myArray can be used ","title":"How to store an array returned by a method in Java","body":"<p>Are you sure you have to copy?</p>\n\n<pre><code>int[] myArray = method();  // now myArray can be used \n</code></pre>\n"},{"tags":[],"owner":{"account_id":80529,"reputation":448248,"user_id":227665,"accept_rate":33,"display_name":"codaddict"},"down_vote_count":0,"up_vote_count":14,"is_accepted":true,"score":14,"last_activity_date":1267701845,"creation_date":1267701845,"answer_id":2378817,"question_id":2378756,"body_markdown":"    public int[] method() {\r\n    \tint z[] = {1,2,3,5};\r\n    \treturn z;\r\n    }\r\n\r\nThe above method does not return an array par se, instead it returns a reference to the array. In the calling function you can collect this return value in another reference like:\r\n\r\n    int []copy = method();\r\n\r\nAfter this `copy` will also refer to the same array that `z` was refering to before.\r\n\r\nIf this is not what you want and you want to create a copy of the array you can create a copy using `System.arraycopy`.\r\n\r\n","title":"How to store an array returned by a method in Java","body":"<pre><code>public int[] method() {\n    int z[] = {1,2,3,5};\n    return z;\n}\n</code></pre>\n\n<p>The above method does not return an array par se, instead it returns a reference to the array. In the calling function you can collect this return value in another reference like:</p>\n\n<pre><code>int []copy = method();\n</code></pre>\n\n<p>After this <code>copy</code> will also refer to the same array that <code>z</code> was refering to before.</p>\n\n<p>If this is not what you want and you want to create a copy of the array you can create a copy using <code>System.arraycopy</code>.</p>\n"},{"tags":[],"owner":{"account_id":2221174,"reputation":19,"user_id":1960502,"display_name":"porselvi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1357717385,"creation_date":1357716220,"answer_id":14230191,"question_id":2378756,"body_markdown":"Try :-\r\n\r\n    int arr[]=mymethod();\r\n    \r\n    //caling method it stores in array\r\n    \r\n    public int[] mymethod()\r\n    {\r\n    \r\n       return arr;\r\n    \r\n    }","title":"How to store an array returned by a method in Java","body":"<p>Try :-</p>\n\n<pre><code>int arr[]=mymethod();\n\n//caling method it stores in array\n\npublic int[] mymethod()\n{\n\n   return arr;\n\n}\n</code></pre>\n"}],"owner":{"account_id":64239,"reputation":17384,"user_id":189756,"accept_rate":88,"display_name":"Mohammad Sepahvand"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49212,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":2378817,"answer_count":6,"score":6,"last_activity_date":1697182200,"creation_date":1267701288,"question_id":2378756,"body_markdown":"I want to store the array returned by a method into another array. How can I do this? \r\n\r\n     \r\n    public int[] method(){\r\n        int z[] = {1,2,3,5};\r\n        return z;\r\n    }\r\n\r\nWhen I call this method, how can I store the returned array (z) into another array?\r\n\r\n\r\n\r\n","title":"How to store an array returned by a method in Java","body":"<p>I want to store the array returned by a method into another array. How can I do this? </p>\n\n<pre><code>public int[] method(){\n    int z[] = {1,2,3,5};\n    return z;\n}\n</code></pre>\n\n<p>When I call this method, how can I store the returned array (z) into another array?</p>\n"},{"tags":["java","windows","native","shutdown-hook"],"comments":[{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1426917572,"post_id":29179684,"comment_id":46576247,"body_markdown":"Look at something like the JNA api, they probably have a os shutdown hook available","body":"Look at something like the JNA api, they probably have a os shutdown hook available"},{"owner":{"account_id":4427115,"reputation":323,"user_id":3605302,"accept_rate":56,"display_name":"Pranav"},"score":0,"creation_date":1427090815,"post_id":29179684,"comment_id":46619497,"body_markdown":"No luck so far. There is a method `Native.setProtected(true)` in the JNA API to prevent the VM from crashing but i&#39;m not able to get it to work.","body":"No luck so far. There is a method <code>Native.setProtected(true)</code> in the JNA API to prevent the VM from crashing but i&#39;m not able to get it to work."}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1427098453,"creation_date":1427098453,"answer_id":29205661,"question_id":29179684,"body_markdown":"You will have to write native methods. Two for adding and removing your shutdown hook, and one that will act as a callback method for the hook, from where java code will be invoked. \r\nYou hook will have to listen for OS shutting down message and invoke your callback when this occure. This is the way that plenty of apps that prevents windows from going into sleep mode or running screen saver works.\r\n\r\nCheck for some information about JNI here\r\n\r\nhttp://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/jniTOC.html\r\n\r\nand about hooks here\r\n\r\nhttps://msdn.microsoft.com/en-us/library/windows/desktop/ms644960%28v=vs.85%29.aspx","title":"Java shutdown hook call on windows shut down","body":"<p>You will have to write native methods. Two for adding and removing your shutdown hook, and one that will act as a callback method for the hook, from where java code will be invoked. \nYou hook will have to listen for OS shutting down message and invoke your callback when this occure. This is the way that plenty of apps that prevents windows from going into sleep mode or running screen saver works.</p>\n\n<p>Check for some information about JNI here</p>\n\n<p><a href=\"http://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/jniTOC.html\" rel=\"nofollow\">http://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/jniTOC.html</a></p>\n\n<p>and about hooks here</p>\n\n<p><a href=\"https://msdn.microsoft.com/en-us/library/windows/desktop/ms644960%28v=vs.85%29.aspx\" rel=\"nofollow\">https://msdn.microsoft.com/en-us/library/windows/desktop/ms644960%28v=vs.85%29.aspx</a></p>\n"},{"tags":[],"owner":{"account_id":1195086,"reputation":2530,"user_id":1166992,"accept_rate":83,"display_name":"Olivier Faucheux"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1427100408,"creation_date":1427100408,"answer_id":29206136,"question_id":29179684,"body_markdown":"`ShutdownHooks` indeed do not work by shutdown of Windows. I consider it as a bug of Java and opened a BugReport last week. It has however not (yet) been published.\r\n\r\nThere was an old Bug Report in 2008: [Runtime#addShutdownHook does not work on Windows Vista, when user logs out][1]. The same problem occurs with Windows 7. The ticket was closed by java.com without a satifying response.\r\n\r\nWindows gives by shutdown some time to the applications to terminate gracefully. The delay is defined by the registry key `WaitToKillApplication`. I expect the java program uses this delay to execute the hooks (and the finalizes if `Runtime.runFinalizersOnExit()` is set).\r\n\r\nLet see if Oracle recognizes it as a bug...\r\n\r\n\r\n  [1]: http://bugs.java.com/view_bug.do?bug_id=6667751","title":"Java shutdown hook call on windows shut down","body":"<p><code>ShutdownHooks</code> indeed do not work by shutdown of Windows. I consider it as a bug of Java and opened a BugReport last week. It has however not (yet) been published.</p>\n\n<p>There was an old Bug Report in 2008: <a href=\"http://bugs.java.com/view_bug.do?bug_id=6667751\" rel=\"nofollow\">Runtime#addShutdownHook does not work on Windows Vista, when user logs out</a>. The same problem occurs with Windows 7. The ticket was closed by java.com without a satifying response.</p>\n\n<p>Windows gives by shutdown some time to the applications to terminate gracefully. The delay is defined by the registry key <code>WaitToKillApplication</code>. I expect the java program uses this delay to execute the hooks (and the finalizes if <code>Runtime.runFinalizersOnExit()</code> is set).</p>\n\n<p>Let see if Oracle recognizes it as a bug...</p>\n"},{"tags":[],"owner":{"account_id":29657475,"reputation":11,"user_id":22729915,"display_name":"ЯazoR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697182197,"creation_date":1697182197,"answer_id":77285821,"question_id":29179684,"body_markdown":"I had to implement this for a Windows deployed application a couple years back using JDK 11.\r\n\r\nRegarding [the linked answer](https://stackoverflow.com/questions/61692/how-do-i-get-my-java-application-to-shutdown-nicely-in-windows/77285560#77285560) you could create a better suited implementation for this context.\r\n\r\nI originally posted my answer there to be at available for both questions but it had a different context as in showing UI elements which are not suppsed to be used in my implementation (as I was pointed out). Since there is no such requirement in this case I think the one I describe is the most straightforward implementation and a proper &quot;enough&quot; API to use.\r\n\r\nYou can directly use the respective classes even if they are part of the internal API since they are not strongly encapsulated.\r\n\r\nSee this [JEP403](https://openjdk.org/jeps/403) for details:\r\n&gt; It is not a goal to remove, encapsulate, or modify any critical\r\n&gt; internal APIs of the JDK for which standard replacements do not yet\r\n&gt; exist. This means that sun.misc.Unsafe will remain available.\r\n\r\nWhereas on the linked JEP the following is stated:\r\n&gt; Critical internal APIs not encapsulated in JDK 9\r\n&gt; \r\n&gt; The critical internal APIs that are not encapsulated in JDK 9, because\r\n&gt; supported replacements did not exist in JDK 8, are listed here.\r\n&gt; \r\n&gt;   - sun.misc.{Signal,SignalHandler}\r\n\r\nAnd also all currently supported (as of writing this post) LTS JDKs support the feature of raising a `TERM` signal on `WM_QUERYENDSESSION`. Sadly I cannot link the documentation for that, but I can link the source code references:\r\n[OpenJDK 8](https://github.com/frohoff/jdk8u-jdk/blob/da0da73ab82ed714dc5be94acd2f0d00fbdfe2e9/src/windows/native/sun/windows/awt_Toolkit.cpp#L1049C15-L1049C30),\r\n[OpenJDK 11](https://github.com/openjdk/jdk11/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1271),\r\n[OpenJDK 17](https://github.com/openjdk/jdk17/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1299),\r\n[OpenJDK 21](https://github.com/openjdk/jdk21/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1300).\r\n\r\nBased on the above you can create a more simple implementation without using reflection (and exception handling because of that):\r\n```\r\nRuntime.getRuntime().addShutdownHook(/* Add your implementation here! */);\r\nSignalHandler handler = (Signal sig) -&gt; {\r\n    System.exit(0);\r\n};\r\nSignal.handle(new Signal(&quot;TERM&quot;), handler);\r\n```\r\n\r\nThis would work in the way that once the shutdown sequence is started your shutdown logic will be invoked. The current implementation and documented JEPs will also ensure this also happens on `WM_QUERYENDSESSION`. This will remain the case until this API is publicly available (which is at least the end of support date of JDK 21).\r\n\r\nWith this solution you do not have to use platform dependent libraries and any class names specified in `String` literals, only the name of the `Signal` but AFAIK there is no workaround for that. (You could also add support for `TERM` the same way.)","title":"Java shutdown hook call on windows shut down","body":"<p>I had to implement this for a Windows deployed application a couple years back using JDK 11.</p>\n<p>Regarding <a href=\"https://stackoverflow.com/questions/61692/how-do-i-get-my-java-application-to-shutdown-nicely-in-windows/77285560#77285560\">the linked answer</a> you could create a better suited implementation for this context.</p>\n<p>I originally posted my answer there to be at available for both questions but it had a different context as in showing UI elements which are not suppsed to be used in my implementation (as I was pointed out). Since there is no such requirement in this case I think the one I describe is the most straightforward implementation and a proper &quot;enough&quot; API to use.</p>\n<p>You can directly use the respective classes even if they are part of the internal API since they are not strongly encapsulated.</p>\n<p>See this <a href=\"https://openjdk.org/jeps/403\" rel=\"nofollow noreferrer\">JEP403</a> for details:</p>\n<blockquote>\n<p>It is not a goal to remove, encapsulate, or modify any critical\ninternal APIs of the JDK for which standard replacements do not yet\nexist. This means that sun.misc.Unsafe will remain available.</p>\n</blockquote>\n<p>Whereas on the linked JEP the following is stated:</p>\n<blockquote>\n<p>Critical internal APIs not encapsulated in JDK 9</p>\n<p>The critical internal APIs that are not encapsulated in JDK 9, because\nsupported replacements did not exist in JDK 8, are listed here.</p>\n<ul>\n<li>sun.misc.{Signal,SignalHandler}</li>\n</ul>\n</blockquote>\n<p>And also all currently supported (as of writing this post) LTS JDKs support the feature of raising a <code>TERM</code> signal on <code>WM_QUERYENDSESSION</code>. Sadly I cannot link the documentation for that, but I can link the source code references:\n<a href=\"https://github.com/frohoff/jdk8u-jdk/blob/da0da73ab82ed714dc5be94acd2f0d00fbdfe2e9/src/windows/native/sun/windows/awt_Toolkit.cpp#L1049C15-L1049C30\" rel=\"nofollow noreferrer\">OpenJDK 8</a>,\n<a href=\"https://github.com/openjdk/jdk11/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1271\" rel=\"nofollow noreferrer\">OpenJDK 11</a>,\n<a href=\"https://github.com/openjdk/jdk17/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1299\" rel=\"nofollow noreferrer\">OpenJDK 17</a>,\n<a href=\"https://github.com/openjdk/jdk21/blob/master/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1300\" rel=\"nofollow noreferrer\">OpenJDK 21</a>.</p>\n<p>Based on the above you can create a more simple implementation without using reflection (and exception handling because of that):</p>\n<pre><code>Runtime.getRuntime().addShutdownHook(/* Add your implementation here! */);\nSignalHandler handler = (Signal sig) -&gt; {\n    System.exit(0);\n};\nSignal.handle(new Signal(&quot;TERM&quot;), handler);\n</code></pre>\n<p>This would work in the way that once the shutdown sequence is started your shutdown logic will be invoked. The current implementation and documented JEPs will also ensure this also happens on <code>WM_QUERYENDSESSION</code>. This will remain the case until this API is publicly available (which is at least the end of support date of JDK 21).</p>\n<p>With this solution you do not have to use platform dependent libraries and any class names specified in <code>String</code> literals, only the name of the <code>Signal</code> but AFAIK there is no workaround for that. (You could also add support for <code>TERM</code> the same way.)</p>\n"}],"owner":{"account_id":4427115,"reputation":323,"user_id":3605302,"accept_rate":56,"display_name":"Pranav"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2397,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697182197,"creation_date":1426916715,"question_id":29179684,"body_markdown":"I have a situation in which I want to perform some task when the user signals the OS(in my case only Windows) to shutdown. \r\n\r\nI have tried using java shutdown hooks. The problem I face is that when I exit the program using `System.exit(0);`, the shutdown hooks are called but when I directly shutdown the computer, they aren&#39;t.\r\n\r\nThis is the code I have used for the shutdown hooks-\r\n\r\n    Runtime.getRuntime().addShutdownHook(new JVMShutdownHook()); //in main method\r\n\r\n    //within the main java class\r\n    private static class JVMShutdownHook extends Thread {\r\n    @Override\r\n    public void run() {\r\n       //perform tasks\r\n    }\r\n    }\r\n\r\nIs there any way to interact with the OS(I&#39;m assuming some native code) so that it allows my program to exit gracefully?\r\n\r\nAny help would be greatly appreciated.","title":"Java shutdown hook call on windows shut down","body":"<p>I have a situation in which I want to perform some task when the user signals the OS(in my case only Windows) to shutdown. </p>\n\n<p>I have tried using java shutdown hooks. The problem I face is that when I exit the program using <code>System.exit(0);</code>, the shutdown hooks are called but when I directly shutdown the computer, they aren't.</p>\n\n<p>This is the code I have used for the shutdown hooks-</p>\n\n<pre><code>Runtime.getRuntime().addShutdownHook(new JVMShutdownHook()); //in main method\n\n//within the main java class\nprivate static class JVMShutdownHook extends Thread {\n@Override\npublic void run() {\n   //perform tasks\n}\n}\n</code></pre>\n\n<p>Is there any way to interact with the OS(I'm assuming some native code) so that it allows my program to exit gracefully?</p>\n\n<p>Any help would be greatly appreciated.</p>\n"},{"tags":["java","spring-boot","spring-security"],"comments":[{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1697153118,"post_id":77282831,"comment_id":136247543,"body_markdown":"The log is clear: *Failed to authorize filter invocation [GET /v1/alerts] with attributes [authenticated]* So you have to be logged in, if you want to access this endpoint.","body":"The log is clear: <i>Failed to authorize filter invocation [GET /v1/alerts] with attributes [authenticated]</i> So you have to be logged in, if you want to access this endpoint."},{"owner":{"account_id":21044045,"reputation":39,"user_id":16234460,"display_name":"IamYourFaja"},"score":0,"creation_date":1697160011,"post_id":77282831,"comment_id":136248055,"body_markdown":"OK clearly I want `GET /v1/alerts` to be public/non-authenticated, what would I need to change? I&#39;m 99% sure I have the antMatchers configured correctly.","body":"OK clearly I want <code>GET &#47;v1&#47;alerts</code> to be public/non-authenticated, what would I need to change? I&#39;m 99% sure I have the antMatchers configured correctly."},{"owner":{"account_id":6463892,"reputation":15974,"user_id":5277820,"accept_rate":68,"display_name":"dur"},"score":0,"creation_date":1697184974,"post_id":77282831,"comment_id":136250647,"body_markdown":"Is this log line in your logs? *log.info(&quot;configuring security...&quot;);* At least with Spring Security 6 you need to add `@Configuration` on you class. Maybe it is not neccessary with Spring Security 5. I can&#39;t remember.","body":"Is this log line in your logs? <i>log.info(&quot;configuring security...&quot;);</i> At least with Spring Security 6 you need to add <code>@Configuration</code> on you class. Maybe it is not neccessary with Spring Security 5. I can&#39;t remember."}],"answers":[{"tags":[],"owner":{"account_id":16282653,"reputation":85,"user_id":11758130,"display_name":"Chasca"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1697181555,"creation_date":1697146018,"answer_id":77283920,"question_id":77282831,"body_markdown":"It seems that your Controller was actually called but an error occurred and Spring MVC routed it to __/error__. Then Spring Security tries to secure the __/error__ as well but denies it since you have no authentication. So your client (curl) gets a 401.\r\nIf you want to be sure add some logs in your Controller or run in debug and see if your code is called. \r\n\r\nTo disable the internal redirect to /error see https://stackoverflow.com/questions/38747548/spring-boot-disable-error-mapping","title":"Spring Security antMatchers being ignored or overridden","body":"<p>It seems that your Controller was actually called but an error occurred and Spring MVC routed it to <strong>/error</strong>. Then Spring Security tries to secure the <strong>/error</strong> as well but denies it since you have no authentication. So your client (curl) gets a 401.\nIf you want to be sure add some logs in your Controller or run in debug and see if your code is called.</p>\n<p>To disable the internal redirect to /error see <a href=\"https://stackoverflow.com/questions/38747548/spring-boot-disable-error-mapping\">Spring Boot Disable /error mapping</a></p>\n"}],"owner":{"account_id":21044045,"reputation":39,"user_id":16234460,"display_name":"IamYourFaja"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":173,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":77283920,"answer_count":1,"score":0,"last_activity_date":1697181555,"creation_date":1697133313,"question_id":77282831,"body_markdown":"Spring Security 5.x here. I have the following security configuration:\r\n```\r\n@EnableWebSecurity(debug = true)\r\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\r\n@Slf4j\r\npublic class ApiSecurityConfig {\r\n\r\n    private boolean securityDebug;\r\n\r\n\r\n    @Autowired\r\n    public ApiSecurityConfig(\r\n            @Value(&quot;${spring.security.debug:false}&quot;) boolean securityDebug) {\r\n        this.securityDebug = securityDebug;\r\n    }\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\r\n\r\n        log.info(&quot;configuring security...&quot;);\r\n\r\n        // enable CSRF\r\n        httpSecurity.csrf().disable();\r\n\r\n        // add CORS filter\r\n        httpSecurity.cors();\r\n\r\n        // add anonoymous/permitted paths (that is: what paths are allowed to bypass authentication)\r\n        httpSecurity.authorizeRequests()\r\n                .antMatchers(HttpMethod.GET, &quot;/v1/alerts&quot;).permitAll()\r\n\r\n                // restrict all other paths and set them to authenticated\r\n                .anyRequest().authenticated();\r\n\r\nhttpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        return httpSecurity.build();\r\n\r\n    }\r\n\r\n    @Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.debug(securityDebug)\r\n                .ignoring()\r\n                .antMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot;, &quot;/lib/**&quot;, &quot;/favicon.ico&quot;);\r\n    }\r\n\r\n    @Bean\r\n    public CorsConfigurationSource corsConfigurationSource() {\r\n\r\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\r\n\r\n        corsConfiguration.setAllowedOriginPatterns(List.of(&quot;*&quot;));\r\n        corsConfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\r\n        corsConfiguration.setAllowedHeaders(List.of(&quot;*&quot;));\r\n\r\n        UrlBasedCorsConfigurationSource corsConfigurationSource = new UrlBasedCorsConfigurationSource();\r\n        corsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\r\n\r\n        return corsConfigurationSource;\r\n\r\n    }\r\n\r\n    @Bean\r\n    public DefaultWebSecurityExpressionHandler expressionHandler(RoleHierarchy roleHierarchy) {\r\n\r\n        DefaultWebSecurityExpressionHandler expressionHandler = new DefaultWebSecurityExpressionHandler();\r\n        expressionHandler.setRoleHierarchy(roleHierarchy);\r\n        return expressionHandler;\r\n\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen I run a curl on that GET `/v1/alerts` endpoint, I get 401s:\r\n```\r\ncurl -i -H &quot;Accept: application/json&quot; http://localhost:8080/v1/alerts\r\n\r\nHTTP/1.1 401 \r\nVary: Origin\r\nVary: Access-Control-Request-Method\r\nVary: Access-Control-Request-Headers\r\nWWW-Authenticate: Basic realm=&quot;Realm&quot;\r\nX-Content-Type-Options: nosniff\r\nX-XSS-Protection: 1; mode=block\r\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\r\nPragma: no-cache\r\nExpires: 0\r\nX-Frame-Options: DENY\r\nContent-Length: 0\r\nDate: Thu, 12 Oct 2023 17:49:13 GMT\r\n```\r\n\r\nIn the Spring Security debug output I get:\r\n```\r\n13:52:58.212 [main] INFO  i.b.e.ws.MyServiceMonoServiceApp - Started MyServiceMonoServiceApp in 6.272 seconds (JVM running for 6.541)\r\n13:52:58.236 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT\r\n13:52:58.237 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\r\n13:53:06.602 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet &#39;dispatcherServlet&#39;\r\n13:53:06.602 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet &#39;dispatcherServlet&#39;\r\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver\r\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver\r\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver\r\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7db097a6\r\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4d53d85e\r\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n13:53:06.605 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms\r\n13:53:06.617 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/alerts\r\n13:53:06.619 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\r\n13:53:06.625 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to io.myorg.MyService.ws.alerts.AlertController#getAlertStatus()\r\n13:53:06.627 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Failed to authorize filter invocation [GET /v1/alerts] with attributes [authenticated]\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@553779ba, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@5bb911c1\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\r\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@20ffa494\r\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\r\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\r\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request\r\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\r\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\r\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\r\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error\r\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DefaultWebInvocationPrivilegeEvaluator - filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\r\norg.springframework.security.access.AccessDeniedException: Access is denied\r\n\tat org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73)\r\n\tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100)\r\n\tat org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67)\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:88)\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:76)\r\n\tat org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\r\n\tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\r\n\tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.base/java.lang.Thread.run(Thread.java:829)\r\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store anonymous SecurityContext\r\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store anonymous SecurityContext\r\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request\r\n```\r\n\r\n**Any idea where I&#39;m going awry?**","title":"Spring Security antMatchers being ignored or overridden","body":"<p>Spring Security 5.x here. I have the following security configuration:</p>\n<pre><code>@EnableWebSecurity(debug = true)\n@EnableGlobalMethodSecurity(prePostEnabled = true, securedEnabled = true, jsr250Enabled = true)\n@Slf4j\npublic class ApiSecurityConfig {\n\n    private boolean securityDebug;\n\n\n    @Autowired\n    public ApiSecurityConfig(\n            @Value(&quot;${spring.security.debug:false}&quot;) boolean securityDebug) {\n        this.securityDebug = securityDebug;\n    }\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity httpSecurity) throws Exception {\n\n        log.info(&quot;configuring security...&quot;);\n\n        // enable CSRF\n        httpSecurity.csrf().disable();\n\n        // add CORS filter\n        httpSecurity.cors();\n\n        // add anonoymous/permitted paths (that is: what paths are allowed to bypass authentication)\n        httpSecurity.authorizeRequests()\n                .antMatchers(HttpMethod.GET, &quot;/v1/alerts&quot;).permitAll()\n\n                // restrict all other paths and set them to authenticated\n                .anyRequest().authenticated();\n\nhttpSecurity.sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n        return httpSecurity.build();\n\n    }\n\n    @Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.debug(securityDebug)\n                .ignoring()\n                .antMatchers(&quot;/css/**&quot;, &quot;/js/**&quot;, &quot;/img/**&quot;, &quot;/lib/**&quot;, &quot;/favicon.ico&quot;);\n    }\n\n    @Bean\n    public CorsConfigurationSource corsConfigurationSource() {\n\n        CorsConfiguration corsConfiguration = new CorsConfiguration();\n\n        corsConfiguration.setAllowedOriginPatterns(List.of(&quot;*&quot;));\n        corsConfiguration.setAllowedMethods(Arrays.asList(&quot;GET&quot;, &quot;POST&quot;, &quot;PUT&quot;, &quot;PATCH&quot;, &quot;DELETE&quot;, &quot;OPTIONS&quot;));\n        corsConfiguration.setAllowedHeaders(List.of(&quot;*&quot;));\n\n        UrlBasedCorsConfigurationSource corsConfigurationSource = new UrlBasedCorsConfigurationSource();\n        corsConfigurationSource.registerCorsConfiguration(&quot;/**&quot;, corsConfiguration);\n\n        return corsConfigurationSource;\n\n    }\n\n    @Bean\n    public DefaultWebSecurityExpressionHandler expressionHandler(RoleHierarchy roleHierarchy) {\n\n        DefaultWebSecurityExpressionHandler expressionHandler = new DefaultWebSecurityExpressionHandler();\n        expressionHandler.setRoleHierarchy(roleHierarchy);\n        return expressionHandler;\n\n    }\n\n}\n</code></pre>\n<p>When I run a curl on that GET <code>/v1/alerts</code> endpoint, I get 401s:</p>\n<pre><code>curl -i -H &quot;Accept: application/json&quot; http://localhost:8080/v1/alerts\n\nHTTP/1.1 401 \nVary: Origin\nVary: Access-Control-Request-Method\nVary: Access-Control-Request-Headers\nWWW-Authenticate: Basic realm=&quot;Realm&quot;\nX-Content-Type-Options: nosniff\nX-XSS-Protection: 1; mode=block\nCache-Control: no-cache, no-store, max-age=0, must-revalidate\nPragma: no-cache\nExpires: 0\nX-Frame-Options: DENY\nContent-Length: 0\nDate: Thu, 12 Oct 2023 17:49:13 GMT\n</code></pre>\n<p>In the Spring Security debug output I get:</p>\n<pre><code>13:52:58.212 [main] INFO  i.b.e.ws.MyServiceMonoServiceApp - Started MyServiceMonoServiceApp in 6.272 seconds (JVM running for 6.541)\n13:52:58.236 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state LivenessState changed to CORRECT\n13:52:58.237 [main] DEBUG o.s.b.a.ApplicationAvailabilityBean - Application availability state ReadinessState changed to ACCEPTING_TRAFFIC\n13:53:06.602 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'\n13:53:06.602 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver\n13:53:06.602 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected FixedThemeResolver\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7db097a6\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@4d53d85e\n13:53:06.605 [http-nio-8080-exec-1] DEBUG o.s.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n13:53:06.605 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms\n13:53:06.617 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /v1/alerts\n13:53:06.619 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\n13:53:06.625 [http-nio-8080-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to io.myorg.MyService.ws.alerts.AlertController#getAlertStatus()\n13:53:06.627 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.i.FilterSecurityInterceptor - Failed to authorize filter invocation [GET /v1/alerts] with attributes [authenticated]\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using And [Not [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@553779ba, matchingMediaTypes=[application/xhtml+xml, image/*, text/html, text/plain], useEquals=false, ignoredMediaTypes=[*/*]]]\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using Or [RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest], And [Not [MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[text/html], useEquals=false, ignoredMediaTypes=[]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[application/atom+xml, application/x-www-form-urlencoded, application/json, application/octet-stream, application/xml, multipart/form-data, text/xml], useEquals=false, ignoredMediaTypes=[*/*]]], MediaTypeRequestMatcher [contentNegotiationStrategy=org.springframework.web.accept.HeaderContentNegotiationStrategy@3c2955f6, matchingMediaTypes=[*/*], useEquals=true, ignoredMediaTypes=[]]]\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Match found! Executing org.springframework.security.web.authentication.DelegatingAuthenticationEntryPoint@5bb911c1\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - Trying to match using RequestHeaderRequestMatcher [expectedHeaderName=X-Requested-With, expectedHeaderValue=XMLHttpRequest]\n13:53:06.631 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DelegatingAuthenticationEntryPoint - No match found. Using default entry point org.springframework.security.web.authentication.www.BasicAuthenticationEntryPoint@20ffa494\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store empty SecurityContext\n13:53:06.632 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Securing GET /error\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Set SecurityContextHolder to empty SecurityContext\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.AnonymousAuthenticationFilter - Set SecurityContextHolder to anonymous SecurityContext\n13:53:06.640 [http-nio-8080-exec-1] DEBUG o.s.security.web.FilterChainProxy - Secured GET /error\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.a.DefaultWebInvocationPrivilegeEvaluator - filter invocation [/error] denied for AnonymousAuthenticationToken [Principal=anonymousUser, Credentials=[PROTECTED], Authenticated=true, Details=WebAuthenticationDetails [RemoteIpAddress=127.0.0.1, SessionId=null], Granted Authorities=[ROLE_ANONYMOUS]]\norg.springframework.security.access.AccessDeniedException: Access is denied\n    at org.springframework.security.access.vote.AffirmativeBased.decide(AffirmativeBased.java:73)\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:100)\n    at org.springframework.security.web.access.DefaultWebInvocationPrivilegeEvaluator.isAllowed(DefaultWebInvocationPrivilegeEvaluator.java:67)\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.isAllowed(ErrorPageSecurityFilter.java:88)\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:76)\n    at org.springframework.boot.web.servlet.filter.ErrorPageSecurityFilter.doFilter(ErrorPageSecurityFilter.java:70)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:106)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:122)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:116)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:87)\n    at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:109)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:237)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:223)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:219)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:213)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:354)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:267)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:117)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:102)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:711)\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:461)\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:385)\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:313)\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:403)\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:249)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:895)\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1732)\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.base/java.lang.Thread.run(Thread.java:829)\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store anonymous SecurityContext\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.HttpSessionSecurityContextRepository - Did not store anonymous SecurityContext\n13:53:06.645 [http-nio-8080-exec-1] DEBUG o.s.s.w.c.SecurityContextPersistenceFilter - Cleared SecurityContextHolder to complete request\n</code></pre>\n<p><strong>Any idea where I'm going awry?</strong></p>\n"},{"tags":["java","linux","visual-studio-code","vscode-debugger","java-18"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1697158078,"post_id":77284508,"comment_id":136247907,"body_markdown":"How did you install Java?  Are you using the package manager?  Have you verified what is actually in `/usr/lib/jvm`?  Java 18 has not been supported in over a year but the concepts should still work with supported versions such as 17 and 21.","body":"How did you install Java?  Are you using the package manager?  Have you verified what is actually in <code>&#47;usr&#47;lib&#47;jvm</code>?  Java 18 has not been supported in over a year but the concepts should still work with supported versions such as 17 and 21."},{"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"score":0,"creation_date":1698284421,"post_id":77284508,"comment_id":136386903,"body_markdown":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems.","body":"May I know what&#39;s going on with the problem? If it has been solved, can you change the status of the answer to help more people with similar problems."}],"answers":[{"tags":[],"owner":{"account_id":25311208,"reputation":7305,"user_id":19133920,"display_name":"JialeDu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179707,"creation_date":1697179707,"answer_id":77285605,"question_id":77284508,"body_markdown":"The error prompts that the jdk path you set is wrong. Please set it to the root directory of the java installation path. (*At least **JDK 17** version is required*).\r\n\r\n &gt; Specifies the folder path to the JDK (**17 or more recent**) used to launch the Java Language Server. This setting will replace the Java extension&#39;s embedded JRE to start the Java Language Server.\r\n &gt;\r\n &gt; On Windows, backslashes must be escaped, i.e.\r\n &gt; \r\n &gt; &quot;java.jdt.ls.java.home&quot;:&quot;C:\\\\Program Files\\\\Java\\\\jdk-17.0_3&quot;\r\n\r\nAlso you are using *Code Runner* to execute the program, which may throw an error. Please use the official Java extension package to execute the program.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ZiqM4.png","title":"Java Configuration in VS Code - Linux Mint","body":"<p>The error prompts that the jdk path you set is wrong. Please set it to the root directory of the java installation path. (<em>At least <strong>JDK 17</strong> version is required</em>).</p>\n<blockquote>\n<p>Specifies the folder path to the JDK (<strong>17 or more recent</strong>) used to launch the Java Language Server. This setting will replace the Java extension's embedded JRE to start the Java Language Server.</p>\n<p>On Windows, backslashes must be escaped, i.e.</p>\n<p>&quot;java.jdt.ls.java.home&quot;:&quot;C:\\Program Files\\Java\\jdk-17.0_3&quot;</p>\n</blockquote>\n<p>Also you are using <em>Code Runner</em> to execute the program, which may throw an error. Please use the official Java extension package to execute the program.</p>\n<p><a href=\"https://i.stack.imgur.com/ZiqM4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ZiqM4.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":24286550,"reputation":1,"user_id":22731983,"display_name":"Aylmer Bolzan"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697180329,"creation_date":1697157737,"question_id":77284508,"body_markdown":"I really need your help: I can&#39;t install and configure Java in VS Code, on Linux Mint.\r\n\r\nI&#39;ve looked for videos, tutorials and the like, but without success. I&#39;ve already edited `/etc/bash.bashrc`, `/etc/enviroment` and finally, my last configuration attempt was `/etc/profile`, where I included:\r\n\r\n```\r\nJAVA_HOME=/usr/lib/jvm/java-18-openjdk-amd64/\r\nPATH=$JAVA_HOME/bin:$PATH export PATH JAVA_HOME\r\nCLASSPATH=$JAVA_HOME/lib/tools.jar\r\nCLASSPATH=.:$CLASSPATH\r\nexport JAVA_HOME PATH CLASSPATH\r\n```\r\n\r\nHowever, when I try to run a Run and Debug in VS Code, the return I get is just this:\r\n\r\n[enter image description here](https://i.stack.imgur.com/zeGQN.png)\r\n\r\nThis way, I can&#39;t run something in Java in VS Code.","title":"Java Configuration in VS Code - Linux Mint","body":"<p>I really need your help: I can't install and configure Java in VS Code, on Linux Mint.</p>\n<p>I've looked for videos, tutorials and the like, but without success. I've already edited <code>/etc/bash.bashrc</code>, <code>/etc/enviroment</code> and finally, my last configuration attempt was <code>/etc/profile</code>, where I included:</p>\n<pre><code>JAVA_HOME=/usr/lib/jvm/java-18-openjdk-amd64/\nPATH=$JAVA_HOME/bin:$PATH export PATH JAVA_HOME\nCLASSPATH=$JAVA_HOME/lib/tools.jar\nCLASSPATH=.:$CLASSPATH\nexport JAVA_HOME PATH CLASSPATH\n</code></pre>\n<p>However, when I try to run a Run and Debug in VS Code, the return I get is just this:</p>\n<p><a href=\"https://i.stack.imgur.com/zeGQN.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>This way, I can't run something in Java in VS Code.</p>\n"},{"tags":["java","spring","maven","parallel-processing","cucumber"],"comments":[{"owner":{"account_id":7084092,"reputation":473,"user_id":5421408,"display_name":"quantumferret"},"score":0,"creation_date":1651480210,"post_id":71020032,"comment_id":127366379,"body_markdown":"This is a question I also have, and is driving me a little crazy trying to find the answer; the documentation doesn&#39;t make it at all clear if JUnit 5 can run same-file scenarios in parallel or not, just that JUnit 4 definitely can&#39;t. It looks like the courgette-jvm library mentioned below supports JUnit as well, so that&#39;s something.","body":"This is a question I also have, and is driving me a little crazy trying to find the answer; the documentation doesn&#39;t make it at all clear if JUnit 5 can run same-file scenarios in parallel or not, just that JUnit 4 definitely can&#39;t. It looks like the courgette-jvm library mentioned below supports JUnit as well, so that&#39;s something."},{"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"score":0,"creation_date":1651664383,"post_id":71020032,"comment_id":127415626,"body_markdown":"@quantumferret I&#39;ve recently switched to same setup but used TestNG rather than JUnit. Configuration was a lot easier than courgette-jvm.\nAlso using a Spring Boot I&#39;m pretty sure you face with single component among different thread issue. There you can register a scope provided by Spring SimpleThreadScope.class","body":"@quantumferret I&#39;ve recently switched to same setup but used TestNG rather than JUnit. Configuration was a lot easier than courgette-jvm. Also using a Spring Boot I&#39;m pretty sure you face with single component among different thread issue. There you can register a scope provided by Spring SimpleThreadScope.class"},{"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"score":0,"creation_date":1697186726,"post_id":71020032,"comment_id":136250957,"body_markdown":"Does this answer your question? [How to run parallel Cucumber Spring Boot integration tests with Maven (surefire or failsafe)?](https://stackoverflow.com/questions/62303742/how-to-run-parallel-cucumber-spring-boot-integration-tests-with-maven-surefire)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/62303742/how-to-run-parallel-cucumber-spring-boot-integration-tests-with-maven-surefire\">How to run parallel Cucumber Spring Boot integration tests with Maven (surefire or failsafe)?</a>"}],"answers":[{"tags":[],"owner":{"account_id":1245793,"reputation":3093,"user_id":1207289,"accept_rate":84,"display_name":"user1207289"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645131451,"creation_date":1644958229,"answer_id":71133227,"question_id":71020032,"body_markdown":"I am using `testNG` with [`courgette-jvm`](https://github.com/prashant-ramcharan/courgette-jvm) to run parallel tests at scenario level \r\n. Here is  runner file\r\n\r\n    import courgette.api.CourgetteOptions;\r\n    import courgette.api.CourgetteRunLevel;\r\n    import courgette.api.CucumberOptions;\r\n    import courgette.api.testng.TestNGCourgette;\r\n    import org.testng.annotations.Test;\r\n\r\n    @Test\r\n    @CourgetteOptions(\r\n            threads = 10,\r\n            runLevel = CourgetteRunLevel.SCENARIO,\r\n            rerunFailedScenarios = true,\r\n            rerunAttempts = 1,\r\n            showTestOutput = true,\r\n            reportTitle = &quot;Courgette-JVM Example&quot;,\r\n            reportTargetDir = &quot;build&quot;,\r\n            environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\r\n            cucumberOptions = @CucumberOptions(\r\n                    features = &quot;src/test/resources/com/test/&quot;,\r\n                    glue = &quot;com.test.stepdefs&quot;,\r\n                    publish = true,\r\n                    plugin = {\r\n                            &quot;pretty&quot;,\r\n                            &quot;json:target/cucumber-report/cucumber.json&quot;,\r\n                            &quot;html:target/cucumber-report/cucumber.html&quot;}\r\n            ))\r\n    class AcceptanceIT extends TestNGCourgette {\r\n    }\r\n\r\nand then use regular webdriver config, I use RemoteWebDriver\r\n\r\n\r\n      protected RemoteWebDriver createDriver() throws MalformedURLException {\r\n         //wherever grid hub is pointing. it should work without grid too\r\n        String hubURL = &quot;http://localhost:xxxx/wd/hub&quot;;\r\n    \r\n             ChromeOptions options = new ChromeOptions();\r\n             DesiredCapabilities capabilities = DesiredCapabilities.chrome();\r\n             capabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n             return (RemoteWebDriver) (driver = new RemoteWebDriver(new URL(hubURL), capabilities));\r\n            \r\n        }\r\n\r\n         public RemoteWebDriver getDriver() throws MalformedURLException {\r\n               if (driver == null) {\r\n                             this.createDriver();\r\n               }\r\n                return (RemoteWebDriver) driver;\r\n        }\r\n\r\n\r\nyou may have to utilize these dependencies\r\n\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\r\n            &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\r\n            &lt;version&gt;5.11.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n              &lt;dependency&gt;\r\n          &lt;!-- httpclient dpendendecy is to resolve courgette-jvm error -  NoClassDefFoundError: org/apache/http/conn/ssl/TrustAllStrategy --&gt;        \r\n         &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n            &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\r\n            &lt;version&gt;4.5.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n        &lt;groupId&gt;org.testng&lt;/groupId&gt;\r\n        &lt;artifactId&gt;testng&lt;/artifactId&gt;\r\n        &lt;version&gt;6.14.3&lt;/version&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n          &lt;dependency&gt;\r\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n        &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\r\n        &lt;version&gt;6.9.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n","title":"Cucumber 6 + JUnit 5 + Spring Parallel Scenarios Execution","body":"<p>I am using <code>testNG</code> with <a href=\"https://github.com/prashant-ramcharan/courgette-jvm\" rel=\"nofollow noreferrer\"><code>courgette-jvm</code></a> to run parallel tests at scenario level\n. Here is  runner file</p>\n<pre><code>import courgette.api.CourgetteOptions;\nimport courgette.api.CourgetteRunLevel;\nimport courgette.api.CucumberOptions;\nimport courgette.api.testng.TestNGCourgette;\nimport org.testng.annotations.Test;\n\n@Test\n@CourgetteOptions(\n        threads = 10,\n        runLevel = CourgetteRunLevel.SCENARIO,\n        rerunFailedScenarios = true,\n        rerunAttempts = 1,\n        showTestOutput = true,\n        reportTitle = &quot;Courgette-JVM Example&quot;,\n        reportTargetDir = &quot;build&quot;,\n        environmentInfo = &quot;browser=chrome; git_branch=master&quot;,\n        cucumberOptions = @CucumberOptions(\n                features = &quot;src/test/resources/com/test/&quot;,\n                glue = &quot;com.test.stepdefs&quot;,\n                publish = true,\n                plugin = {\n                        &quot;pretty&quot;,\n                        &quot;json:target/cucumber-report/cucumber.json&quot;,\n                        &quot;html:target/cucumber-report/cucumber.html&quot;}\n        ))\nclass AcceptanceIT extends TestNGCourgette {\n}\n</code></pre>\n<p>and then use regular webdriver config, I use RemoteWebDriver</p>\n<pre><code>  protected RemoteWebDriver createDriver() throws MalformedURLException {\n     //wherever grid hub is pointing. it should work without grid too\n    String hubURL = &quot;http://localhost:xxxx/wd/hub&quot;;\n\n         ChromeOptions options = new ChromeOptions();\n         DesiredCapabilities capabilities = DesiredCapabilities.chrome();\n         capabilities.setCapability(ChromeOptions.CAPABILITY, options);\n         return (RemoteWebDriver) (driver = new RemoteWebDriver(new URL(hubURL), capabilities));\n        \n    }\n\n     public RemoteWebDriver getDriver() throws MalformedURLException {\n           if (driver == null) {\n                         this.createDriver();\n           }\n            return (RemoteWebDriver) driver;\n    }\n</code></pre>\n<p>you may have to utilize these dependencies</p>\n<pre><code>      &lt;dependency&gt;\n        &lt;groupId&gt;io.github.prashant-ramcharan&lt;/groupId&gt;\n        &lt;artifactId&gt;courgette-jvm&lt;/artifactId&gt;\n        &lt;version&gt;5.11.0&lt;/version&gt;\n    &lt;/dependency&gt;\n          &lt;dependency&gt;\n      &lt;!-- httpclient dpendendecy is to resolve courgette-jvm error -  NoClassDefFoundError: org/apache/http/conn/ssl/TrustAllStrategy --&gt;        \n     &lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\n        &lt;artifactId&gt;httpclient&lt;/artifactId&gt;\n        &lt;version&gt;4.5.10&lt;/version&gt;\n    &lt;/dependency&gt;\n      &lt;dependency&gt;\n    &lt;groupId&gt;org.testng&lt;/groupId&gt;\n    &lt;artifactId&gt;testng&lt;/artifactId&gt;\n    &lt;version&gt;6.14.3&lt;/version&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n      &lt;dependency&gt;\n    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n    &lt;artifactId&gt;cucumber-testng&lt;/artifactId&gt;\n    &lt;version&gt;6.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":16379082,"reputation":355,"user_id":11830541,"display_name":"Serhii Kachan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":685,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697180020,"creation_date":1644243319,"question_id":71020032,"body_markdown":"I&#39;ve been reading a lot of documentations, posts, articles and it&#39;s said that out-of-box solution to **run scenarios in a single feature file in parallel is impossible**. \r\nWe can use *maven-surefire-plugin* to run in parallel different feature files, but not scenarios.\r\n\r\nFor example there is a feature file with scenarios:\r\n\r\n    Feature: Parallel Scenarios\r\n\r\n        Scenario: First\r\n            ...\r\n\r\n        Scenario: Second\r\n            ...\r\n\r\n        Scenario: Third\r\n            ...\r\n\r\nAnd I&#39;d like to run all there scenarios concurrently in separated threads.\r\n\r\nHow can I achieve this?","title":"Cucumber 6 + JUnit 5 + Spring Parallel Scenarios Execution","body":"<p>I've been reading a lot of documentations, posts, articles and it's said that out-of-box solution to <strong>run scenarios in a single feature file in parallel is impossible</strong>.\nWe can use <em>maven-surefire-plugin</em> to run in parallel different feature files, but not scenarios.</p>\n<p>For example there is a feature file with scenarios:</p>\n<pre><code>Feature: Parallel Scenarios\n\n    Scenario: First\n        ...\n\n    Scenario: Second\n        ...\n\n    Scenario: Third\n        ...\n</code></pre>\n<p>And I'd like to run all there scenarios concurrently in separated threads.</p>\n<p>How can I achieve this?</p>\n"},{"tags":["java","spring-boot","selenium","cucumber","junit5"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1583939029,"creation_date":1583938554,"answer_id":60638873,"question_id":60625692,"body_markdown":"You can provide options by adding a `junit-platform.properties` file to your classpath root. For example:\r\n\r\n`src/test/resources/junit-platform.properties`\r\n```properties\r\ncucumber.execution.parallel.enabled=true\r\ncucumber.execution.parallel.config.strategy=fixed\r\ncucumber.execution.parallel.config.fixed.parallelism=10\r\n```\r\n\r\nYou can also pass options to the JUnit Platform via Surefires/Failsafes configurationParameters parameter field.\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.0.0-M3&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;properties&gt;\r\n            &lt;configurationParameters&gt;\r\n                cucumber.execution.parallel.config.fixed.parallelism=24\r\n            &lt;/configurationParameters&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nAnd because Cucumber is a JUnit Platform Engine you can also use any of the other ways you&#39;d pass configuration parameter to the [JUnit Platform][1].\r\n\r\n\r\nNote that `-D` will not work because surefire starts a new JVM, [you&#39;d have to use `-DargLine=&#39;....&#39;][2] for this.\r\n\r\n\r\n  [1]: https://junit.org/junit5/docs/current/user-guide/#running-tests-config-params\r\n  [2]: https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine","title":"How to run parallel test jUnit5 in spring boot - cucumber version 5 and more","body":"<p>You can provide options by adding a <code>junit-platform.properties</code> file to your classpath root. For example:</p>\n\n<p><code>src/test/resources/junit-platform.properties</code></p>\n\n<pre><code>cucumber.execution.parallel.enabled=true\ncucumber.execution.parallel.config.strategy=fixed\ncucumber.execution.parallel.config.fixed.parallelism=10\n</code></pre>\n\n<p>You can also pass options to the JUnit Platform via Surefires/Failsafes configurationParameters parameter field.</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.0.0-M3&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;properties&gt;\n            &lt;configurationParameters&gt;\n                cucumber.execution.parallel.config.fixed.parallelism=24\n            &lt;/configurationParameters&gt;\n        &lt;/properties&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>And because Cucumber is a JUnit Platform Engine you can also use any of the other ways you'd pass configuration parameter to the <a href=\"https://junit.org/junit5/docs/current/user-guide/#running-tests-config-params\" rel=\"noreferrer\">JUnit Platform</a>.</p>\n\n<p>Note that <code>-D</code> will not work because surefire starts a new JVM, <a href=\"https://maven.apache.org/surefire/maven-surefire-plugin/test-mojo.html#argLine\" rel=\"noreferrer\">you'd have to use `-DargLine='....'</a> for this.</p>\n"}],"owner":{"account_id":17653444,"reputation":73,"user_id":12813493,"display_name":"olegMoshneaga"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4816,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":60638873,"answer_count":1,"score":4,"last_activity_date":1697180005,"creation_date":1583873224,"question_id":60625692,"body_markdown":"For test framework were used next stack of technologies: Java, Maven, Selenium, Junit, Cucumber, Spring Boot, YAML\r\n\r\ncucumber.version = 5.4.0\r\nCucumber-JVM now has JUnit5 support and we can use parallel \r\nI have tried to add -Dcucumber.execution.parallel.enabled=true -Dcucumber.execution.parallel.config.strategy=dynamic\r\n\r\nhttps://github.com/cucumber/cucumber-jvm/blob/master/release-notes/v5.0.0.md\r\n\r\nwas used :\r\n\r\n                &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;includes&gt;\r\n                        &lt;include&gt;**/RunCucumberIT.java&lt;/include&gt;\r\n                        &lt;release&gt;11&lt;/release&gt;\r\n                    &lt;/includes&gt;\r\n                    &lt;!--                    &lt;parallel&gt;methods&lt;/parallel&gt;--&gt;\r\n                    &lt;!--                    &lt;threadCount&gt;4&lt;/threadCount&gt;--&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;","title":"How to run parallel test jUnit5 in spring boot - cucumber version 5 and more","body":"<p>For test framework were used next stack of technologies: Java, Maven, Selenium, Junit, Cucumber, Spring Boot, YAML</p>\n\n<p>cucumber.version = 5.4.0\nCucumber-JVM now has JUnit5 support and we can use parallel \nI have tried to add -Dcucumber.execution.parallel.enabled=true -Dcucumber.execution.parallel.config.strategy=dynamic</p>\n\n<p><a href=\"https://github.com/cucumber/cucumber-jvm/blob/master/release-notes/v5.0.0.md\" rel=\"nofollow noreferrer\">https://github.com/cucumber/cucumber-jvm/blob/master/release-notes/v5.0.0.md</a></p>\n\n<p>was used :</p>\n\n<pre><code>            &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n            &lt;version&gt;${maven-surefire-plugin.version}&lt;/version&gt;\n            &lt;configuration&gt;\n                &lt;includes&gt;\n                    &lt;include&gt;**/RunCucumberIT.java&lt;/include&gt;\n                    &lt;release&gt;11&lt;/release&gt;\n                &lt;/includes&gt;\n                &lt;!--                    &lt;parallel&gt;methods&lt;/parallel&gt;--&gt;\n                &lt;!--                    &lt;threadCount&gt;4&lt;/threadCount&gt;--&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","cucumber","maven-surefire-plugin","maven-failsafe-plugin","cucumber-spring"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1591794341,"post_id":62303742,"comment_id":110191061,"body_markdown":"You may want to redo everything with `stepNotifications = false` . The `stepNotifications` confuse surefire/failsafe in lots of different ways.","body":"You may want to redo everything with <code>stepNotifications = false</code> . The <code>stepNotifications</code> confuse surefire/failsafe in lots of different ways."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1591795516,"post_id":62303742,"comment_id":110191833,"body_markdown":"When using `@CucumberContextConfiguration` you don&#39;t need the dummy step definition any more.","body":"When using <code>@CucumberContextConfiguration</code> you don&#39;t need the dummy step definition any more."},{"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"score":0,"creation_date":1591795824,"post_id":62303742,"comment_id":110192033,"body_markdown":"@M.P.Korstanje Thanks for that hint, but it results in the same actual output (for both failsafe and surefire). I think the problem is Spring Boot that somehow obstructs multi-threading with its context or something.","body":"@M.P.Korstanje Thanks for that hint, but it results in the same actual output (for both failsafe and surefire). I think the problem is Spring Boot that somehow obstructs multi-threading with its context or something."},{"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"score":0,"creation_date":1591796046,"post_id":62303742,"comment_id":110192205,"body_markdown":"@M.P.Korstanje Yeah you are right. I removed it. But still the same problem. Just the lines with &quot;INFO 13028 --- [           main] p.CucumberSpringContextConfiguration     : Spring Context initialized for executing cucumber tests.&quot; are missing in the output, as expected.","body":"@M.P.Korstanje Yeah you are right. I removed it. But still the same problem. Just the lines with &quot;INFO 13028 --- [           main] p.CucumberSpringContextConfiguration     : Spring Context initialized for executing cucumber tests.&quot; are missing in the output, as expected."},{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1591804376,"post_id":62303742,"comment_id":110197500,"body_markdown":"Beats me. I wrote tests to confirm it works a while ago. You&#39;ll have to deep dive.","body":"Beats me. I wrote tests to confirm it works a while ago. You&#39;ll have to deep dive."},{"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"score":0,"creation_date":1591807350,"post_id":62303742,"comment_id":110199202,"body_markdown":"Ok. Thanks for your help.","body":"Ok. Thanks for your help."},{"owner":{"account_id":5202792,"reputation":570,"user_id":4161663,"accept_rate":75,"display_name":"Anchika Agarwal"},"score":0,"creation_date":1592286341,"post_id":62303742,"comment_id":110362786,"body_markdown":"@maximotus Did you solve it ? I am facing same issue.","body":"@maximotus Did you solve it ? I am facing same issue."},{"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"score":0,"creation_date":1592378751,"post_id":62303742,"comment_id":110400797,"body_markdown":"@AnchikaAgarwal Not yet. If I make any progress, I&#39;ll let you know! I think the problem is somewhere in SpringBOOT, because it works with Spring.","body":"@AnchikaAgarwal Not yet. If I make any progress, I&#39;ll let you know! I think the problem is somewhere in SpringBOOT, because it works with Spring."},{"owner":{"account_id":5202792,"reputation":570,"user_id":4161663,"accept_rate":75,"display_name":"Anchika Agarwal"},"score":0,"creation_date":1592385294,"post_id":62303742,"comment_id":110403845,"body_markdown":"@maximotus I found the issue for me, not sure if its relevant to you. Cucumber was expecting junit4 but I had latest dependencies of junit5. So I had to add the vintage cucumber dependency post which it was able to run. I was able to run with surefie, but failsafe plugin seems to have some issue. Also, I have not yet able to run in parallel though.","body":"@maximotus I found the issue for me, not sure if its relevant to you. Cucumber was expecting junit4 but I had latest dependencies of junit5. So I had to add the vintage cucumber dependency post which it was able to run. I was able to run with surefie, but failsafe plugin seems to have some issue. Also, I have not yet able to run in parallel though."},{"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"score":0,"creation_date":1592842026,"post_id":62303742,"comment_id":110563133,"body_markdown":"I&#39;ve found out, that the dependency cucumber-junit includes junit4 for compile scope and junit5 (jupiter) and vintage for test.\nI&#39;ve tested the follwing with a cucumber spring (not springBOOT!) project:\nI&#39;ve used some jupiter and some junit4 classes and now I&#39;ve changed every jupiter class to junit4. Then I&#39;ve removed the redundant dependency junit4 from my pom.xml. And I&#39;ve removed jupiter and vintage from my pom.xml. Now, the tests run in parallel. As soon as I include jupiter and vintage, the tests run serially. I&#39;ll try to use Spring boot and exclude jupiter and vintage next.","body":"I&#39;ve found out, that the dependency cucumber-junit includes junit4 for compile scope and junit5 (jupiter) and vintage for test. I&#39;ve tested the follwing with a cucumber spring (not springBOOT!) project: I&#39;ve used some jupiter and some junit4 classes and now I&#39;ve changed every jupiter class to junit4. Then I&#39;ve removed the redundant dependency junit4 from my pom.xml. And I&#39;ve removed jupiter and vintage from my pom.xml. Now, the tests run in parallel. As soon as I include jupiter and vintage, the tests run serially. I&#39;ll try to use Spring boot and exclude jupiter and vintage next."}],"answers":[{"tags":[],"owner":{"account_id":19806082,"reputation":21,"user_id":14505989,"display_name":"Melissa Vargas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1603711034,"creation_date":1603711034,"answer_id":64536082,"question_id":62303742,"body_markdown":"For running cucumber test in parallel, you have to add in the pom.xml the exclusions for `juni-jupiter` and `junit-vintage`. This is how it worked for me:\r\n\r\n```\r\n        &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n```","title":"How to run parallel Cucumber Spring Boot integration tests with Maven (surefire or failsafe)?","body":"<p>For running cucumber test in parallel, you have to add in the pom.xml the exclusions for <code>juni-jupiter</code> and <code>junit-vintage</code>. This is how it worked for me:</p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.jupiter&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-jupiter&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6676840,"reputation":2917,"user_id":5151202,"display_name":"times29"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179988,"creation_date":1697179988,"answer_id":77285628,"question_id":62303742,"body_markdown":"My setup with [`cucumber-java`][1], [`cucumber-junit-platform-engine`][2] and [`cucumber-spring`][3] just wouldn&#39;t execute tests in parallel despite having the [required config properties][4] set, namely `cucumber.execution.parallel.enabled=true`.  \r\n\r\nThe following part of the [`cucumber-spring`][3] documentation made me look into JUnit parallel execution configuration as well:\r\n&gt; Cucumber Spring uses Spring&#39;s TestContextManager framework internally. As a result, a single\r\nCucumber scenario will mostly behave like a JUnit test.  \r\n\r\nSo, as Cucumber\r\nSpring tests mostly behave like standard JUnit tests, we need to combine JUnit&#39;s and Cucumber&#39;s parallel execution features. Example Maven config of how I eventually got it to work:\r\n```xml\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.1.2&lt;/version&gt;\r\n    &lt;configuration&gt;\r\n        &lt;properties&gt;\r\n            &lt;configurationParameters&gt;\r\n                &lt;!-- ... Standard Cucumber Config ... --&gt;\r\n                junit.jupiter.execution.parallel.enabled=true\r\n                cucumber.execution.parallel.enabled=true\r\n                &lt;!-- ... More Parallel Execution Cucumber Config ... --&gt;\r\n            &lt;/configurationParameters&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\n\r\n  [1]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-java\r\n  [2]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine\r\n  [3]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring\r\n  [4]: https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#parallel-execution","title":"How to run parallel Cucumber Spring Boot integration tests with Maven (surefire or failsafe)?","body":"<p>My setup with <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-java\" rel=\"nofollow noreferrer\"><code>cucumber-java</code></a>, <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine\" rel=\"nofollow noreferrer\"><code>cucumber-junit-platform-engine</code></a> and <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring\" rel=\"nofollow noreferrer\"><code>cucumber-spring</code></a> just wouldn't execute tests in parallel despite having the <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-junit-platform-engine#parallel-execution\" rel=\"nofollow noreferrer\">required config properties</a> set, namely <code>cucumber.execution.parallel.enabled=true</code>.</p>\n<p>The following part of the <a href=\"https://github.com/cucumber/cucumber-jvm/tree/main/cucumber-spring\" rel=\"nofollow noreferrer\"><code>cucumber-spring</code></a> documentation made me look into JUnit parallel execution configuration as well:</p>\n<blockquote>\n<p>Cucumber Spring uses Spring's TestContextManager framework internally. As a result, a single\nCucumber scenario will mostly behave like a JUnit test.</p>\n</blockquote>\n<p>So, as Cucumber\nSpring tests mostly behave like standard JUnit tests, we need to combine JUnit's and Cucumber's parallel execution features. Example Maven config of how I eventually got it to work:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;properties&gt;\n            &lt;configurationParameters&gt;\n                &lt;!-- ... Standard Cucumber Config ... --&gt;\n                junit.jupiter.execution.parallel.enabled=true\n                cucumber.execution.parallel.enabled=true\n                &lt;!-- ... More Parallel Execution Cucumber Config ... --&gt;\n            &lt;/configurationParameters&gt;\n        &lt;/properties&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":18812678,"reputation":41,"user_id":13720545,"display_name":"maximotus"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3073,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1697179988,"creation_date":1591792534,"question_id":62303742,"body_markdown":"*Hello folks,*\r\n&lt;br&gt;I&#39;m developing cucumber tests since january of this year and i&#39;m now facing a problem running cucumber integration tests in parallel with maven (surefire as well as failsafe) in a Spring Boot environment.\r\n\r\n**In a nutshell:**\r\n&lt;br&gt;I want to run cucumber integration tests in parallel with a spring boot application running.\r\nI use maven with either the Surefire or Failsafe plugin active.\r\nEverything works fine when i comment out every Spring Boot component in the code.\r\nThen i have as many threads as feature-files and they run parallel.\r\nBut when I add the Spring Boot components I need, the tests run serial.\r\n\r\n**My dependencies in the pom.xml:**\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n            &lt;version&gt;${cucumber.version}&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n            &lt;version&gt;1.18.10&lt;/version&gt;\r\n            &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.30&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n            &lt;version&gt;1.4.200&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n**My plugins in the pom.xml:**\r\n\r\n    &lt;plugins&gt;\r\n        &lt;!-- Maven Compiler --&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.8.1&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;8&lt;/source&gt;\r\n                &lt;target&gt;8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- Option 1 to run cucumber tests in parallel: Surefire --&gt;\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;2.22.0&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;parallel&gt;methods&lt;/parallel&gt;\r\n                &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        &lt;!-- Option 2 to run cucumber tests in parallel: Failsafe --&gt;\r\n        &lt;!--&lt;plugin&gt;\r\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;3.0.0-M4&lt;/version&gt;\r\n            &lt;executions&gt;\r\n                &lt;execution&gt;\r\n                    &lt;goals&gt;\r\n                        &lt;goal&gt;integration-test&lt;/goal&gt;\r\n                        &lt;goal&gt;verify&lt;/goal&gt;\r\n                    &lt;/goals&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;parallel&gt;methods&lt;/parallel&gt;\r\n                        &lt;threadCount&gt;5&lt;/threadCount&gt;\r\n                        &lt;useUnlimitedThreads&gt;false&lt;/useUnlimitedThreads&gt;\r\n                        &amp;lt;!&amp;ndash; important for the right execution &amp;ndash;&amp;gt;\r\n                        &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n        &lt;/plugin&gt;--&gt;\r\n    &lt;/plugins&gt;\r\n\r\n**My Java classes:**\r\n\r\n - RunCucumberIT.java --&gt; execution with failsafe\r\n - RunCucumberTest.java --&gt; same code as RunCucumberIT.java, other name for execution with surefire\r\n - StepDefinitions.java\r\n - TestApplication.java\r\n - CucumberSpringContextConfiguration.java\r\n\r\n**The Java code:**\r\n\r\n*RunCucumberIT.java and RunCucumberTest.java*\r\n\r\n    package parallel;\r\n    import io.cucumber.junit.Cucumber;\r\n    import io.cucumber.junit.CucumberOptions;\r\n    import org.junit.runner.RunWith;\r\n    /**\r\n     * Class to run the cucumber tests with Surefire.\r\n     */\r\n    @RunWith(Cucumber.class)\r\n    @CucumberOptions(plugin = { }, strict = true, snippets = CucumberOptions.SnippetType.CAMELCASE,\r\n            features = &quot;src/test/java/parallel&quot;, stepNotifications = true)\r\n    public class RunCucumberTest {\r\n    }\r\n\r\n*StepDefinitions.java*\r\n\r\n    package parallel;\r\n    import io.cucumber.java8.En;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    @Slf4j\r\n    public class StepDefinitions implements En {\r\n        public StepDefinitions() {\r\n            Given(&quot;Step from {string} in {string} feature file&quot;, this::printThreads);\r\n        }\r\n        private void printThreads(final String scenario, final String file) throws InterruptedException {\r\n            log.info(&quot; Thread ID - {} - {} from {} feature file.&quot;, Thread.currentThread().getId(), scenario, file);\r\n            Thread.sleep(5000L);\r\n        }\r\n    }\r\n\r\n*TestApplication.java*\r\n\r\n    package parallel;\r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    @SpringBootApplication\r\n    public class TestApplication {\r\n        public static void main(final String[] args) {\r\n            SpringApplication.run(TestApplication.class, args);\r\n        }\r\n    }\r\n\r\n*CucumberSpringContextConfiguration.java*\r\n\r\n    package parallel;\r\n    import io.cucumber.java.Before;\r\n    import io.cucumber.spring.CucumberContextConfiguration;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.boot.test.context.SpringBootContextLoader;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.ContextConfiguration;\r\n    /**\r\n     * Class to use spring application context while running cucumber.\r\n     */\r\n    @Slf4j\r\n    @SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\n    @ContextConfiguration(classes = TestApplication.class, loader = SpringBootContextLoader.class)\r\n    @CucumberContextConfiguration\r\n    public class CucumberSpringContextConfiguration {\r\n        /**\r\n         * Need this method so the cucumber will recognize this class as glue and load spring context configuration.\r\n         */\r\n        @Before\r\n        public void setUp() {\r\n            log.info(&quot;Spring Context initialized for executing cucumber tests.&quot;);\r\n        }\r\n    }\r\n\r\n**My gherkin code:**\r\n\r\n*scenario-outline.feature*\r\n\r\n    Feature: Scenario Outlines feature file\r\n      Scenario Outline: &lt;scen_out_row_num&gt;\r\n        Given Step from &#39;&lt;scen_out_row_num&gt;&#39; in &#39;scenario-outlines&#39; feature file\r\n        Examples:\r\n          | scen_out_row_num       |\r\n          | Scenario Outline Row 1 |\r\n          | Scenario Outline Row 2 |\r\n\r\n*scenarios-0.feature*\r\n\r\n    Feature: Scenarios feature file\r\n      Scenario: Scenario Number One -\r\n        Given Step from &#39;Scenario 1&#39; in &#39;scenarios-0&#39; feature file\r\n      Scenario: Scenario Number Two -\r\n        Given Step from &#39;Scenario 2&#39; in &#39;scenarios-0&#39; feature file\r\n\r\n*scenarios-1.feature*\r\n\r\n    Feature: Scenarios feature file\r\n      Scenario: Scenario Number One a\r\n        Given Step from &#39;Scenario 1&#39; in &#39;scenarios-1&#39; feature file\r\n      Scenario: Scenario Number Two a\r\n        Given Step from &#39;Scenario 2&#39; in &#39;scenarios-1&#39; feature file\r\n\r\n*scenarios-2.feature*\r\n\r\n    Feature: Scenarios feature file\r\n      Scenario: Scenario Number One b\r\n        Given Step from &#39;Scenario 1&#39; in &#39;scenarios-2&#39; feature file\r\n      Scenario: Scenario Number Two b\r\n        Given Step from &#39;Scenario 2&#39; in &#39;scenarios-2&#39; feature file\r\n\r\n*scenarios-3.feature*\r\n\r\n    Feature: Scenarios feature file\r\n      Scenario: Scenario Number One c\r\n        Given Step from &#39;Scenario 1&#39; in &#39;scenarios-3&#39; feature file\r\n      Scenario: Scenario Number Two c\r\n        Given Step from &#39;Scenario 2&#39; in &#39;scenarios-3&#39; feature file\r\n\r\n**Expected behaviour:**\r\n&lt;br&gt;One thread per feature-file and parallel execution of the integration tests.\r\nSome output like that (this is the output when i comment out all Spring Boot stuff):\r\n\r\n    [INFO] --- maven-failsafe-plugin:3.0.0-M4:integration-test (default) @ cucumber-test ---\r\n    [INFO] \r\n    [INFO] -------------------------------------------------------\r\n    [INFO]  T E S T S\r\n    [INFO] -------------------------------------------------------\r\n    [INFO] Running Scenario Number One b\r\n    [pool-1-thread-4] INFO parallel.StepDefinitions -  Thread ID - 17 - Scenario 1 from scenarios-2 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.338 s - in Scenario Number One b\r\n    [INFO] Running Scenario Number One a\r\n    [pool-1-thread-3] INFO parallel.StepDefinitions -  Thread ID - 16 - Scenario 1 from scenarios-1 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.353 s - in Scenario Number One a\r\n    [INFO] Running Scenario Outline Row 1\r\n    [pool-1-thread-1] INFO parallel.StepDefinitions -  Thread ID - 14 - Scenario Outline Row 1 from scenario-outlines feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.363 s - in Scenario Outline Row 1\r\n    [INFO] Running Scenario Number One c\r\n    [pool-1-thread-5] INFO parallel.StepDefinitions -  Thread ID - 18 - Scenario 1 from scenarios-3 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.371 s - in Scenario Number One c\r\n    [INFO] Running Scenario Number One -\r\n    [pool-1-thread-2] INFO parallel.StepDefinitions -  Thread ID - 15 - Scenario 1 from scenarios-0 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.378 s - in Scenario Number One -\r\n    [INFO] Running Scenario Outline Row 2\r\n    [pool-1-thread-1] INFO parallel.StepDefinitions -  Thread ID - 14 - Scenario Outline Row 2 from scenario-outlines feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.003 s - in Scenario Outline Row 2\r\n    [INFO] Running Scenario Number Two a\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.011 s - in Scenario Number Two a\r\n    [INFO] Running Scenario Number Two c\r\n    [pool-1-thread-3] INFO parallel.StepDefinitions -  Thread ID - 16 - Scenario 2 from scenarios-1 feature file.\r\n    [pool-1-thread-5] INFO parallel.StepDefinitions -  Thread ID - 18 - Scenario 2 from scenarios-3 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.017 s - in Scenario Number Two c\r\n    [INFO] Running Scenario Number Two b\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.027 s - in Scenario Number Two b\r\n    [INFO] Running Scenario Number Two -\r\n    [pool-1-thread-4] INFO parallel.StepDefinitions -  Thread ID - 17 - Scenario 2 from scenarios-2 feature file.\r\n    [pool-1-thread-2] INFO parallel.StepDefinitions -  Thread ID - 15 - Scenario 2 from scenarios-0 feature file.\r\n    [INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.043 s - in Scenario Number Two -\r\n    \r\n    \r\n    10\r\n     Scenarios (\r\n    10 passed\r\n    )\r\n    \r\n    \r\n    10\r\n     Steps (\r\n    10 passed\r\n    )\r\n    \r\n    \r\n    0m\r\n    10,486s\r\n\r\n**Actual behaviour:**\r\n&lt;br&gt;Just one thread is used and all tests run serially.\r\nOutput:\r\n\r\n    [INFO] --- maven-failsafe-plugin:3.0.0-M4:integration-test (default) @ cucumber-test ---\r\n    ...    \r\n      .   ____          _            __ _ _\r\n     /\\\\ / ___&#39;_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\r\n    ( ( )\\___ | &#39;_ | &#39;_| | &#39;_ \\/ _` | \\ \\ \\ \\\r\n     \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\r\n      &#39;  |____| .__|_| |_|_| |_\\__, | / / / /\r\n     =========|_|==============|___/=/_/_/_/\r\n     :: Spring Boot ::        (v2.2.4.RELEASE)\r\n    ...\r\n    Thread ID - 1 - Scenario Outline Row 1 from scenario-outlines feature file.\r\n    2020-06-10 12:04:02.519  INFO 13028 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [parallel.CucumberSpringContextConfiguration]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n    ...\r\n    2020-06-10 12:04:02.544  INFO 13028 --- [           main] parallel.StepDefinitions                 : \r\n    ... \r\n    Thread ID - 1 - Scenario Outline Row 2 from scenario-outlines feature file.\r\n    2020-06-10 12:04:07.550  INFO 13028 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [parallel.CucumberSpringContextConfiguration]: no resource found for suffixes {-context.xml, Context.groovy}.\r\n    Thread ID - 1 - Scenario 1 from scenarios-0 feature file.\r\n    ...\r\n    Thread ID - 1 - Scenario 2 from scenarios-0 feature file.\r\n    ...\r\n    [INFO] \r\n    [INFO] Results:\r\n    [INFO] \r\n    [INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0\r\n\r\nI hope this problem is understandable and someone can help me!\r\n\r\nThanks in advance,\r\n&lt;br&gt;Maximotus","title":"How to run parallel Cucumber Spring Boot integration tests with Maven (surefire or failsafe)?","body":"<p><em>Hello folks,</em>\n<br>I'm developing cucumber tests since january of this year and i'm now facing a problem running cucumber integration tests in parallel with maven (surefire as well as failsafe) in a Spring Boot environment.</p>\n\n<p><strong>In a nutshell:</strong>\n<br>I want to run cucumber integration tests in parallel with a spring boot application running.\nI use maven with either the Surefire or Failsafe plugin active.\nEverything works fine when i comment out every Spring Boot component in the code.\nThen i have as many threads as feature-files and they run parallel.\nBut when I add the Spring Boot components I need, the tests run serial.</p>\n\n<p><strong>My dependencies in the pom.xml:</strong></p>\n\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-java8&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-junit&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n        &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n        &lt;version&gt;${cucumber.version}&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.10&lt;/version&gt;\n        &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n        &lt;version&gt;1.7.30&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n        &lt;artifactId&gt;h2&lt;/artifactId&gt;\n        &lt;version&gt;1.4.200&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n\n<p><strong>My plugins in the pom.xml:</strong></p>\n\n<pre><code>&lt;plugins&gt;\n    &lt;!-- Maven Compiler --&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.8.1&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;8&lt;/source&gt;\n            &lt;target&gt;8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;!-- Option 1 to run cucumber tests in parallel: Surefire --&gt;\n    &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.22.0&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;parallel&gt;methods&lt;/parallel&gt;\n            &lt;useUnlimitedThreads&gt;true&lt;/useUnlimitedThreads&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n    &lt;!-- Option 2 to run cucumber tests in parallel: Failsafe --&gt;\n    &lt;!--&lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.0.0-M4&lt;/version&gt;\n        &lt;executions&gt;\n            &lt;execution&gt;\n                &lt;goals&gt;\n                    &lt;goal&gt;integration-test&lt;/goal&gt;\n                    &lt;goal&gt;verify&lt;/goal&gt;\n                &lt;/goals&gt;\n                &lt;configuration&gt;\n                    &lt;parallel&gt;methods&lt;/parallel&gt;\n                    &lt;threadCount&gt;5&lt;/threadCount&gt;\n                    &lt;useUnlimitedThreads&gt;false&lt;/useUnlimitedThreads&gt;\n                    &amp;lt;!&amp;ndash; important for the right execution &amp;ndash;&amp;gt;\n                    &lt;perCoreThreadCount&gt;true&lt;/perCoreThreadCount&gt;\n                &lt;/configuration&gt;\n            &lt;/execution&gt;\n        &lt;/executions&gt;\n    &lt;/plugin&gt;--&gt;\n&lt;/plugins&gt;\n</code></pre>\n\n<p><strong>My Java classes:</strong></p>\n\n<ul>\n<li>RunCucumberIT.java --> execution with failsafe</li>\n<li>RunCucumberTest.java --> same code as RunCucumberIT.java, other name for execution with surefire</li>\n<li>StepDefinitions.java</li>\n<li>TestApplication.java</li>\n<li>CucumberSpringContextConfiguration.java</li>\n</ul>\n\n<p><strong>The Java code:</strong></p>\n\n<p><em>RunCucumberIT.java and RunCucumberTest.java</em></p>\n\n<pre><code>package parallel;\nimport io.cucumber.junit.Cucumber;\nimport io.cucumber.junit.CucumberOptions;\nimport org.junit.runner.RunWith;\n/**\n * Class to run the cucumber tests with Surefire.\n */\n@RunWith(Cucumber.class)\n@CucumberOptions(plugin = { }, strict = true, snippets = CucumberOptions.SnippetType.CAMELCASE,\n        features = \"src/test/java/parallel\", stepNotifications = true)\npublic class RunCucumberTest {\n}\n</code></pre>\n\n<p><em>StepDefinitions.java</em></p>\n\n<pre><code>package parallel;\nimport io.cucumber.java8.En;\nimport lombok.extern.slf4j.Slf4j;\n@Slf4j\npublic class StepDefinitions implements En {\n    public StepDefinitions() {\n        Given(\"Step from {string} in {string} feature file\", this::printThreads);\n    }\n    private void printThreads(final String scenario, final String file) throws InterruptedException {\n        log.info(\" Thread ID - {} - {} from {} feature file.\", Thread.currentThread().getId(), scenario, file);\n        Thread.sleep(5000L);\n    }\n}\n</code></pre>\n\n<p><em>TestApplication.java</em></p>\n\n<pre><code>package parallel;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n@SpringBootApplication\npublic class TestApplication {\n    public static void main(final String[] args) {\n        SpringApplication.run(TestApplication.class, args);\n    }\n}\n</code></pre>\n\n<p><em>CucumberSpringContextConfiguration.java</em></p>\n\n<pre><code>package parallel;\nimport io.cucumber.java.Before;\nimport io.cucumber.spring.CucumberContextConfiguration;\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.boot.test.context.SpringBootContextLoader;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.ContextConfiguration;\n/**\n * Class to use spring application context while running cucumber.\n */\n@Slf4j\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\n@ContextConfiguration(classes = TestApplication.class, loader = SpringBootContextLoader.class)\n@CucumberContextConfiguration\npublic class CucumberSpringContextConfiguration {\n    /**\n     * Need this method so the cucumber will recognize this class as glue and load spring context configuration.\n     */\n    @Before\n    public void setUp() {\n        log.info(\"Spring Context initialized for executing cucumber tests.\");\n    }\n}\n</code></pre>\n\n<p><strong>My gherkin code:</strong></p>\n\n<p><em>scenario-outline.feature</em></p>\n\n<pre><code>Feature: Scenario Outlines feature file\n  Scenario Outline: &lt;scen_out_row_num&gt;\n    Given Step from '&lt;scen_out_row_num&gt;' in 'scenario-outlines' feature file\n    Examples:\n      | scen_out_row_num       |\n      | Scenario Outline Row 1 |\n      | Scenario Outline Row 2 |\n</code></pre>\n\n<p><em>scenarios-0.feature</em></p>\n\n<pre><code>Feature: Scenarios feature file\n  Scenario: Scenario Number One -\n    Given Step from 'Scenario 1' in 'scenarios-0' feature file\n  Scenario: Scenario Number Two -\n    Given Step from 'Scenario 2' in 'scenarios-0' feature file\n</code></pre>\n\n<p><em>scenarios-1.feature</em></p>\n\n<pre><code>Feature: Scenarios feature file\n  Scenario: Scenario Number One a\n    Given Step from 'Scenario 1' in 'scenarios-1' feature file\n  Scenario: Scenario Number Two a\n    Given Step from 'Scenario 2' in 'scenarios-1' feature file\n</code></pre>\n\n<p><em>scenarios-2.feature</em></p>\n\n<pre><code>Feature: Scenarios feature file\n  Scenario: Scenario Number One b\n    Given Step from 'Scenario 1' in 'scenarios-2' feature file\n  Scenario: Scenario Number Two b\n    Given Step from 'Scenario 2' in 'scenarios-2' feature file\n</code></pre>\n\n<p><em>scenarios-3.feature</em></p>\n\n<pre><code>Feature: Scenarios feature file\n  Scenario: Scenario Number One c\n    Given Step from 'Scenario 1' in 'scenarios-3' feature file\n  Scenario: Scenario Number Two c\n    Given Step from 'Scenario 2' in 'scenarios-3' feature file\n</code></pre>\n\n<p><strong>Expected behaviour:</strong>\n<br>One thread per feature-file and parallel execution of the integration tests.\nSome output like that (this is the output when i comment out all Spring Boot stuff):</p>\n\n<pre><code>[INFO] --- maven-failsafe-plugin:3.0.0-M4:integration-test (default) @ cucumber-test ---\n[INFO] \n[INFO] -------------------------------------------------------\n[INFO]  T E S T S\n[INFO] -------------------------------------------------------\n[INFO] Running Scenario Number One b\n[pool-1-thread-4] INFO parallel.StepDefinitions -  Thread ID - 17 - Scenario 1 from scenarios-2 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.338 s - in Scenario Number One b\n[INFO] Running Scenario Number One a\n[pool-1-thread-3] INFO parallel.StepDefinitions -  Thread ID - 16 - Scenario 1 from scenarios-1 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.353 s - in Scenario Number One a\n[INFO] Running Scenario Outline Row 1\n[pool-1-thread-1] INFO parallel.StepDefinitions -  Thread ID - 14 - Scenario Outline Row 1 from scenario-outlines feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.363 s - in Scenario Outline Row 1\n[INFO] Running Scenario Number One c\n[pool-1-thread-5] INFO parallel.StepDefinitions -  Thread ID - 18 - Scenario 1 from scenarios-3 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.371 s - in Scenario Number One c\n[INFO] Running Scenario Number One -\n[pool-1-thread-2] INFO parallel.StepDefinitions -  Thread ID - 15 - Scenario 1 from scenarios-0 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.378 s - in Scenario Number One -\n[INFO] Running Scenario Outline Row 2\n[pool-1-thread-1] INFO parallel.StepDefinitions -  Thread ID - 14 - Scenario Outline Row 2 from scenario-outlines feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.003 s - in Scenario Outline Row 2\n[INFO] Running Scenario Number Two a\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.011 s - in Scenario Number Two a\n[INFO] Running Scenario Number Two c\n[pool-1-thread-3] INFO parallel.StepDefinitions -  Thread ID - 16 - Scenario 2 from scenarios-1 feature file.\n[pool-1-thread-5] INFO parallel.StepDefinitions -  Thread ID - 18 - Scenario 2 from scenarios-3 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.017 s - in Scenario Number Two c\n[INFO] Running Scenario Number Two b\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.027 s - in Scenario Number Two b\n[INFO] Running Scenario Number Two -\n[pool-1-thread-4] INFO parallel.StepDefinitions -  Thread ID - 17 - Scenario 2 from scenarios-2 feature file.\n[pool-1-thread-2] INFO parallel.StepDefinitions -  Thread ID - 15 - Scenario 2 from scenarios-0 feature file.\n[INFO] Tests run: 2, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 5.043 s - in Scenario Number Two -\n\n\n10\n Scenarios (\n10 passed\n)\n\n\n10\n Steps (\n10 passed\n)\n\n\n0m\n10,486s\n</code></pre>\n\n<p><strong>Actual behaviour:</strong>\n<br>Just one thread is used and all tests run serially.\nOutput:</p>\n\n<pre><code>[INFO] --- maven-failsafe-plugin:3.0.0-M4:integration-test (default) @ cucumber-test ---\n...    \n  .   ____          _            __ _ _\n /\\\\ / ___'_ __ _ _(_)_ __  __ _ \\ \\ \\ \\\n( ( )\\___ | '_ | '_| | '_ \\/ _` | \\ \\ \\ \\\n \\\\/  ___)| |_)| | | | | || (_| |  ) ) ) )\n  '  |____| .__|_| |_|_| |_\\__, | / / / /\n =========|_|==============|___/=/_/_/_/\n :: Spring Boot ::        (v2.2.4.RELEASE)\n...\nThread ID - 1 - Scenario Outline Row 1 from scenario-outlines feature file.\n2020-06-10 12:04:02.519  INFO 13028 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [parallel.CucumberSpringContextConfiguration]: no resource found for suffixes {-context.xml, Context.groovy}.\n...\n2020-06-10 12:04:02.544  INFO 13028 --- [           main] parallel.StepDefinitions                 : \n... \nThread ID - 1 - Scenario Outline Row 2 from scenario-outlines feature file.\n2020-06-10 12:04:07.550  INFO 13028 --- [           main] o.s.t.c.support.AbstractContextLoader    : Could not detect default resource locations for test class [parallel.CucumberSpringContextConfiguration]: no resource found for suffixes {-context.xml, Context.groovy}.\nThread ID - 1 - Scenario 1 from scenarios-0 feature file.\n...\nThread ID - 1 - Scenario 2 from scenarios-0 feature file.\n...\n[INFO] \n[INFO] Results:\n[INFO] \n[INFO] Tests run: 10, Failures: 0, Errors: 0, Skipped: 0\n</code></pre>\n\n<p>I hope this problem is understandable and someone can help me!</p>\n\n<p>Thanks in advance,\n<br>Maximotus</p>\n"},{"tags":["java","react-native","android-studio","gradle","react-native-image-picker"],"comments":[{"owner":{"account_id":21049065,"reputation":192,"user_id":15469806,"display_name":"Nibras Shami"},"score":0,"creation_date":1667989748,"post_id":74372060,"comment_id":131297535,"body_markdown":"What is your RN Version you are currently using?","body":"What is your RN Version you are currently using?"},{"owner":{"account_id":21049065,"reputation":192,"user_id":15469806,"display_name":"Nibras Shami"},"score":0,"creation_date":1667989949,"post_id":74372060,"comment_id":131297611,"body_markdown":"Refer to this GitHub Issue here, there was a global android build issue in react native when they released `0.70.0-rc0`. Read https://github.com/facebook/react-native/issues/35210 to know what action you have to take regarding it.","body":"Refer to this GitHub Issue here, there was a global android build issue in react native when they released <code>0.70.0-rc0</code>. Read <a href=\"https://github.com/facebook/react-native/issues/35210\" rel=\"nofollow noreferrer\">github.com/facebook/react-native/issues/35210</a> to know what action you have to take regarding it."},{"owner":{"account_id":24373989,"reputation":105,"user_id":18306564,"display_name":"JoseGE"},"score":0,"creation_date":1668009991,"post_id":74372060,"comment_id":131305215,"body_markdown":"`^0.64.1` That&#39;s the react native version im currently using","body":"<code>^0.64.1</code> That&#39;s the react native version im currently using"},{"owner":{"account_id":21049065,"reputation":192,"user_id":15469806,"display_name":"Nibras Shami"},"score":0,"creation_date":1668059310,"post_id":74372060,"comment_id":131316449,"body_markdown":"Consider Upgrading to `RN 0.64.4` and test if that solves your issue.","body":"Consider Upgrading to <code>RN 0.64.4</code> and test if that solves your issue."},{"owner":{"account_id":24373989,"reputation":105,"user_id":18306564,"display_name":"JoseGE"},"score":0,"creation_date":1668123667,"post_id":74372060,"comment_id":131336320,"body_markdown":"tried upgrading to several new ones, different packages differnt errors","body":"tried upgrading to several new ones, different packages differnt errors"}],"answers":[{"tags":[],"owner":{"account_id":14757159,"reputation":4260,"user_id":10657559,"display_name":"Thanhal P A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667985021,"creation_date":1667985021,"answer_id":74372356,"question_id":74372060,"body_markdown":" 1. Check if both mac &amp; windows have same java version by running\r\n    command `java -version`\r\n     \r\n 2. If no, change the version of java in windows like as in mac then, clean and rebuild\r\n\r\n 3. If yes, check if one of this this solution works :\r\n\r\n \r\n    - https://stackoverflow.com/questions/74334162/react-native-android-build-failure-with-different-errors-without-any-changes-in\r\n\r\n    - https://stackoverflow.com/a/74371195/10657559\r\n","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<ol>\n<li><p>Check if both mac &amp; windows have same java version by running\ncommand <code>java -version</code></p>\n</li>\n<li><p>If no, change the version of java in windows like as in mac then, clean and rebuild</p>\n</li>\n<li><p>If yes, check if one of this this solution works :</p>\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/74334162/react-native-android-build-failure-with-different-errors-without-any-changes-in\">React Native Android build failure with different errors without any changes in code for past days due to publish of React Native version 0.71.0-rc.0</a></p>\n</li>\n<li><p><a href=\"https://stackoverflow.com/a/74371195/10657559\">https://stackoverflow.com/a/74371195/10657559</a></p>\n</li>\n</ul>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":21208625,"reputation":86,"user_id":15597725,"display_name":"Mohammad"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1671607993,"creation_date":1671607993,"answer_id":74872627,"question_id":74372060,"body_markdown":"I downgrade version of react-native-image-picker to 0.38.1, works for me","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<p>I downgrade version of react-native-image-picker to 0.38.1, works for me</p>\n"},{"tags":[],"owner":{"account_id":20027796,"reputation":1,"user_id":14681268,"display_name":"devtucuju"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1677468181,"creation_date":1676910489,"answer_id":75511852,"question_id":74372060,"body_markdown":"In my app, the error was fixed by fixing the version of the library in this way: &#39;react-native-image-picker&#39;: &#39;4.6.0&#39;, removing the ^ from &#39;react-native-image-picker&#39;: &#39;^4.6.0&#39;. After that, run yarn install or npm install","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<p>In my app, the error was fixed by fixing the version of the library in this way: 'react-native-image-picker': '4.6.0', removing the ^ from 'react-native-image-picker': '^4.6.0'. After that, run yarn install or npm install</p>\n"},{"tags":[],"owner":{"account_id":19314838,"reputation":25,"user_id":14119836,"display_name":"Mercy Ademiju"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1682348994,"creation_date":1682348994,"answer_id":76093372,"question_id":74372060,"body_markdown":"Downgrade might work but you can also try to upgrade to the latest version. In my case, apparently, npm installed version 4.10.3 when the latest version is 5.3.1. just write: \r\n\r\n    npm install react-native-image-picker@latest","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<p>Downgrade might work but you can also try to upgrade to the latest version. In my case, apparently, npm installed version 4.10.3 when the latest version is 5.3.1. just write:</p>\n<pre><code>npm install react-native-image-picker@latest\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27189860,"reputation":31,"user_id":20723809,"display_name":"Bv2124"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697179948,"creation_date":1697179948,"answer_id":77285623,"question_id":74372060,"body_markdown":"Just change the version of your image picker to \r\n\r\n    &quot;react-native-image-picker&quot;: &quot;^4.10.0&quot;, \r\n\r\nin Package.Json and then \r\n\r\nDelete Node Modules and then Run npm i --force after that cd android and then ./gradlew clean \r\n\r\nWorks well for me !","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<p>Just change the version of your image picker to</p>\n<pre><code>&quot;react-native-image-picker&quot;: &quot;^4.10.0&quot;, \n</code></pre>\n<p>in Package.Json and then</p>\n<p>Delete Node Modules and then Run npm i --force after that cd android and then ./gradlew clean</p>\n<p>Works well for me !</p>\n"}],"owner":{"account_id":24373989,"reputation":105,"user_id":18306564,"display_name":"JoseGE"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10711,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":74872627,"answer_count":5,"score":6,"last_activity_date":1697179948,"creation_date":1667983579,"question_id":74372060,"body_markdown":"When trying to run my project on my windows computer it is not working, it works on my macOS but when running it on windows it throws the following errors:\r\n\r\n```\r\nTask :react-native-image-picker:compileDebugJavaWithJavac FAILED\r\n```\r\n\r\n\r\n```\r\nif (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.TIRAMISU) {\r\n                                                           ^\r\n  symbol:   variable TIRAMISU\r\n  location: class VERSION_CODES\r\n```\r\n\r\nRunning it with `npx react-native run-android`\r\n\r\n`build.gradle` has the following:\r\n\r\n```\r\n\r\nbuildscript {\r\n    ext {\r\n        buildToolsVersion = &quot;30.0.3&quot;\r\n        minSdkVersion = 30\r\n        compileSdkVersion = 30\r\n        targetSdkVersion = 30\r\n                ndkVersion = &quot;20.1.5948944&quot;\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\nHave been trying to change the number with everything I have installed, `29`,`30`,`31`,and `33` minSdk, buildTools, compile, and targeted nothing is working.\r\n\r\nCurrently, have node 14 and JDK 11\r\n\r\nError changes when I use 33 to the following one:\r\n\r\n```\r\n Task :react-native-webview:compileDebugJavaWithJavac FAILED\r\n```\r\n\r\nHave already tried multiple times `./gradlew clean`\r\n\r\nSomeone knows what&#39;s going on? what am I missing?","title":"React Native Task :react-native-image-picker:compileDebugJavaWithJavac FAILED","body":"<p>When trying to run my project on my windows computer it is not working, it works on my macOS but when running it on windows it throws the following errors:</p>\n<pre><code>Task :react-native-image-picker:compileDebugJavaWithJavac FAILED\n</code></pre>\n<pre><code>if (Build.VERSION.SDK_INT &lt; Build.VERSION_CODES.TIRAMISU) {\n                                                           ^\n  symbol:   variable TIRAMISU\n  location: class VERSION_CODES\n</code></pre>\n<p>Running it with <code>npx react-native run-android</code></p>\n<p><code>build.gradle</code> has the following:</p>\n<pre><code>\nbuildscript {\n    ext {\n        buildToolsVersion = &quot;30.0.3&quot;\n        minSdkVersion = 30\n        compileSdkVersion = 30\n        targetSdkVersion = 30\n                ndkVersion = &quot;20.1.5948944&quot;\n    }\n\n</code></pre>\n<p>Have been trying to change the number with everything I have installed, <code>29</code>,<code>30</code>,<code>31</code>,and <code>33</code> minSdk, buildTools, compile, and targeted nothing is working.</p>\n<p>Currently, have node 14 and JDK 11</p>\n<p>Error changes when I use 33 to the following one:</p>\n<pre><code> Task :react-native-webview:compileDebugJavaWithJavac FAILED\n</code></pre>\n<p>Have already tried multiple times <code>./gradlew clean</code></p>\n<p>Someone knows what's going on? what am I missing?</p>\n"},{"tags":["java","android","kotlin","android-studio","mobile"],"comments":[{"owner":{"account_id":14787189,"reputation":342,"user_id":10679074,"display_name":"H4x9r"},"score":0,"creation_date":1694002811,"post_id":77051653,"comment_id":135833461,"body_markdown":"try this vm option: --add-opens java.base/java.io=ALL-UNNAMED","body":"try this vm option: --add-opens java.base/java.io=ALL-UNNAMED"},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1694004456,"post_id":77051653,"comment_id":135833892,"body_markdown":"Why is this repo even using reflection to access `java.io.File`&#39;s `path` field when there is a method for that: `getPath()`. I&#39;d create a PR to fix this behaviour in the repo.","body":"Why is this repo even using reflection to access <code>java.io.File</code>&#39;s <code>path</code> field when there is a method for that: <code>getPath()</code>. I&#39;d create a PR to fix this behaviour in the repo."}],"answers":[{"tags":[],"owner":{"account_id":14787189,"reputation":342,"user_id":10679074,"display_name":"H4x9r"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1694004176,"creation_date":1694003056,"answer_id":77051869,"question_id":77051653,"body_markdown":"Java.lang.reflect.InaccessibleObjectException is a common error when dealing with module-based access control introduced in Java 9 and later. This error occurs when your code attempts to access private fields or methods within Java modules that are not accessible due to module restrictions. \r\n\r\nif your code relies on reflection to access private fields or methods, you can use the --add-opens option to open access to the relevant module. For example:\r\n\r\n    java --add-opens java.base/java.io=ALL-UNNAMED YourMainClass","title":"Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java","body":"<p>Java.lang.reflect.InaccessibleObjectException is a common error when dealing with module-based access control introduced in Java 9 and later. This error occurs when your code attempts to access private fields or methods within Java modules that are not accessible due to module restrictions.</p>\n<p>if your code relies on reflection to access private fields or methods, you can use the --add-opens option to open access to the relevant module. For example:</p>\n<pre><code>java --add-opens java.base/java.io=ALL-UNNAMED YourMainClass\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19441837,"reputation":1,"user_id":14220100,"display_name":"FrauleinEule"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179802,"creation_date":1697179802,"answer_id":77285616,"question_id":77051653,"body_markdown":"you should add --add-opens java.base/java.io=ALL-UNNAMED YourMainClass\r\nat gradle.properties, just like this: \r\n\r\n    org.gradle.jvmargs=-Xmx2048m \\\r\n    --add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.lang=ALL-UNNAMED \\\r\n    --add-exports=java.base/java.lang.reflect=ALL-UNNAMED \\\r\n    --add-opens=java.base/java.io=ALL-UNNAMED \\\r\n    --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \r\n\r\n","title":"Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java","body":"<p>you should add --add-opens java.base/java.io=ALL-UNNAMED YourMainClass\nat gradle.properties, just like this:</p>\n<pre><code>org.gradle.jvmargs=-Xmx2048m \\\n--add-exports=java.base/sun.nio.ch=ALL-UNNAMED \\\n--add-opens=java.base/java.lang=ALL-UNNAMED \\\n--add-exports=java.base/java.lang.reflect=ALL-UNNAMED \\\n--add-opens=java.base/java.io=ALL-UNNAMED \\\n--add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED \n</code></pre>\n"}],"owner":{"account_id":29378957,"reputation":9,"user_id":22509897,"display_name":"yeshwanth"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":597,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1697179802,"creation_date":1694001426,"question_id":77051653,"body_markdown":"Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @3ca6a01c\r\n\r\nI took an android repo from github and build it successfullt. \r\nBut when I try to deploy it to my device it is giving above error.\r\n\r\nI am using Android Studio Giraffe | 2022.3.1 \r\nMy JAVA_HOME is C:\\Program Files\\Java\\jdk-11\r\n\r\nEarlier there was no JDK installed in laptop, saw online that, this problem might be because I am missing JDK 11 so installed it, expecting it to solve my problem but no results","title":"Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java","body":"<p>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make field private final java.lang.String java.io.File.path accessible: module java.base does not &quot;opens java.io&quot; to unnamed module @3ca6a01c</p>\n<p>I took an android repo from github and build it successfullt.\nBut when I try to deploy it to my device it is giving above error.</p>\n<p>I am using Android Studio Giraffe | 2022.3.1\nMy JAVA_HOME is C:\\Program Files\\Java\\jdk-11</p>\n<p>Earlier there was no JDK installed in laptop, saw online that, this problem might be because I am missing JDK 11 so installed it, expecting it to solve my problem but no results</p>\n"},{"tags":["java","app-inventor"],"comments":[{"owner":{"account_id":1681927,"reputation":6195,"user_id":1545993,"accept_rate":80,"display_name":"Taifun"},"score":0,"creation_date":1697224552,"post_id":77285440,"comment_id":136258064,"body_markdown":"Let me suggest you to ask the specialists in the MIT App Inventor community https://community.appinventor.mit.edu/","body":"Let me suggest you to ask the specialists in the MIT App Inventor community <a href=\"https://community.appinventor.mit.edu/\" rel=\"nofollow noreferrer\">community.appinventor.mit.edu</a>"}],"owner":{"account_id":18286595,"reputation":101,"user_id":13314370,"display_name":"Tanmay Agarwal"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697179577,"creation_date":1697177509,"question_id":77285440,"body_markdown":"I have setup mit app inventor on my local machine. Now I am trying to load a particular project as soon as I land on the mit app inventor projects screen. \r\n\r\nSteps I have implemented to achieve this:\r\n1. Disable auto load of previous project from the code for every user.\r\n2. Passing the project ID (of the project that I want to auto load) in the URL.\r\n\r\nNow, as far as I understood the codebase then if we return the project ID that I am getting from URL from `getCurrentProjectID` function of `Ode.java` file then the job is done. Thats where the problem start, I am not sure how can I do that.\r\n\r\nI am open to any other approach to the main requirement.","title":"How to auto load a particular project in mit app inventor rather than the previous project?","body":"<p>I have setup mit app inventor on my local machine. Now I am trying to load a particular project as soon as I land on the mit app inventor projects screen.</p>\n<p>Steps I have implemented to achieve this:</p>\n<ol>\n<li>Disable auto load of previous project from the code for every user.</li>\n<li>Passing the project ID (of the project that I want to auto load) in the URL.</li>\n</ol>\n<p>Now, as far as I understood the codebase then if we return the project ID that I am getting from URL from <code>getCurrentProjectID</code> function of <code>Ode.java</code> file then the job is done. Thats where the problem start, I am not sure how can I do that.</p>\n<p>I am open to any other approach to the main requirement.</p>\n"},{"tags":["java","inheritance","subclass","superclass"],"comments":[{"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1697178092,"post_id":77285454,"comment_id":136249541,"body_markdown":"Where exactly were you expecting an error?","body":"Where exactly were you expecting an error?"},{"owner":{"account_id":29661514,"reputation":1,"user_id":22732963,"display_name":"Sonu Gupta"},"score":0,"creation_date":1697178310,"post_id":77285454,"comment_id":136249568,"body_markdown":"@JonSkeet Actually I was expecting an error since we can only access the member of the superclass using the reference of the superclass.","body":"@JonSkeet Actually I was expecting an error since we can only access the member of the superclass using the reference of the superclass."},{"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":0,"creation_date":1697178346,"post_id":77285454,"comment_id":136249573,"body_markdown":"Try removing the `multiplication` method from the parent class.","body":"Try removing the <code>multiplication</code> method from the parent class."},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":1,"creation_date":1697178437,"post_id":77285454,"comment_id":136249587,"body_markdown":"Although you have the reference of the parent class, your actual object is of the child class. Which method will be called at runtime is dependent on the actual object not the reference type.","body":"Although you have the reference of the parent class, your actual object is of the child class. Which method will be called at runtime is dependent on the actual object not the reference type."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1697178574,"post_id":77285454,"comment_id":136249610,"body_markdown":"Take care of java naming conventions. Names should be camelCase. *public class My_Calculation extends Calculation {* --&gt; *public class MyCalculation extends Calculation {*","body":"Take care of java naming conventions. Names should be camelCase. <i>public class My_Calculation extends Calculation {</i> --&gt; <i>public class MyCalculation extends Calculation {</i>"},{"owner":{"account_id":29661514,"reputation":1,"user_id":22732963,"display_name":"Sonu Gupta"},"score":0,"creation_date":1697178790,"post_id":77285454,"comment_id":136249653,"body_markdown":"@Yousaf I know I would get an error if I removed the multiplication method from the parent class. But that&#39;s the question why is the sub-class multiplication get called? Since we know we can only access the members of the superclass using the reference variable of superclass Calculation which holds the object of a subclass","body":"@Yousaf I know I would get an error if I removed the multiplication method from the parent class. But that&#39;s the question why is the sub-class multiplication get called? Since we know we can only access the members of the superclass using the reference variable of superclass Calculation which holds the object of a subclass"},{"owner":{"account_id":29661514,"reputation":1,"user_id":22732963,"display_name":"Sonu Gupta"},"score":0,"creation_date":1697179085,"post_id":77285454,"comment_id":136249696,"body_markdown":"@RifatRubayatulIslam then why would we get an error if we remove multiplication from the superclass since runtime is dependent on the actual object, not the reference type?","body":"@RifatRubayatulIslam then why would we get an error if we remove multiplication from the superclass since runtime is dependent on the actual object, not the reference type?"},{"owner":{"account_id":8087134,"reputation":28351,"user_id":6094348,"accept_rate":100,"display_name":"Yousaf"},"score":0,"creation_date":1697179093,"post_id":77285454,"comment_id":136249697,"body_markdown":"To understand this, you need to know about compile-time type and runtime type. In your code, the compile-time type is the parent type but runtime type is the child type. At compile-time, compiler allows calling only those methods that are defined in the compile-time time, i.e., the parent class in your case. This is why removing the multiplication method from the parent throws an error. Now at runtime, the actual method that is called depends on the runtime type, i.e., the child class in your case.","body":"To understand this, you need to know about compile-time type and runtime type. In your code, the compile-time type is the parent type but runtime type is the child type. At compile-time, compiler allows calling only those methods that are defined in the compile-time time, i.e., the parent class in your case. This is why removing the multiplication method from the parent throws an error. Now at runtime, the actual method that is called depends on the runtime type, i.e., the child class in your case."},{"owner":{"account_id":11683,"reputation":1438161,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1697181264,"post_id":77285454,"comment_id":136250025,"body_markdown":"&quot;Actually I was expecting an error since we can only access the member of the superclass using the reference of the superclass&quot; - that doesn&#39;t answer my question at all. It just repeats what you&#39;d already written in the question. *Where* were you expecting the error? Which line, and why? (Where do you believe your code accesses a member without that member being present in the superclass?)","body":"&quot;Actually I was expecting an error since we can only access the member of the superclass using the reference of the superclass&quot; - that doesn&#39;t answer my question at all. It just repeats what you&#39;d already written in the question. <i>Where</i> were you expecting the error? Which line, and why? (Where do you believe your code accesses a member without that member being present in the superclass?)"}],"answers":[{"tags":[],"owner":{"account_id":5534447,"reputation":42,"user_id":4393276,"display_name":"luckyqiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179497,"creation_date":1697179497,"answer_id":77285587,"question_id":77285454,"body_markdown":"A subclass has same method with its super class in java is called **method overriding**. \r\nWhen an overridden method is called through a superclass reference, Java determines which version(superclass/subclasses) of that method is to be executed. Which method is called is determined by the type of the object being referred to, but not the type of the reference variable.\r\nThis is Runtime Polymorphism in Java.\r\n\r\nIn your code, the **multiplication** method of subclass is called, because the object&#39;s real type is *My_Calculation*","title":"Can we access the members of sub class using the refrenced variable of super class which holds the subclass object?","body":"<p>A subclass has same method with its super class in java is called <strong>method overriding</strong>.\nWhen an overridden method is called through a superclass reference, Java determines which version(superclass/subclasses) of that method is to be executed. Which method is called is determined by the type of the object being referred to, but not the type of the reference variable.\nThis is Runtime Polymorphism in Java.</p>\n<p>In your code, the <strong>multiplication</strong> method of subclass is called, because the object's real type is <em>My_Calculation</em></p>\n"}],"owner":{"account_id":29661514,"reputation":1,"user_id":22732963,"display_name":"Sonu Gupta"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1697179567,"answer_count":1,"score":0,"last_activity_date":1697179497,"creation_date":1697177646,"question_id":77285454,"body_markdown":"If not,then for the below program, how is the **multiplication**(method) of subclass is accessed Since I used the refrence variable of superclass **Calculation** which holds object of subclass **My_Calculation**.\r\n***Output of below program is:**\r\nThe sum of the given numbers:30\r\nThe difference between the given numbers:10\r\nThe product of the given numbers in sub class is:200*\r\n\r\n    class Calculation {\r\n    int z;\r\n\r\n    public void addition(int x, int y) {\r\n       z = x + y;\r\n       System.out.println(&quot;The sum of the given numbers:&quot;+z);\r\n    }\r\n\r\n    public void Subtraction(int x, int y) {\r\n       z = x - y;\r\n       System.out.println(&quot;The difference between the given numbers:&quot;+z);\r\n    }\r\n    public void multiplication(int x, int y) {\r\n       z = x * y;\r\n       System.out.println(&quot;The product of the given numbers in super class is :&quot;+z);\r\n    }\r\n    }\r\n\r\n    public class My_Calculation extends Calculation {\r\n    public void multiplication(int x, int y) {\r\n       z = x * y;\r\n       System.out.println(&quot;The product of the given numbers in sub class is:&quot;+z);\r\n    }\r\n\r\n    public static void main(String args[]) {\r\n       int a = 20, b = 10;\r\n       Calculation demo = new My_Calculation();\r\n       demo.addition(a, b);\r\n       demo.Subtraction(a, b);\r\n       demo.multiplication(a, b);\r\n    }\r\n    }\r\n\r\nI was expecting error since we can only access the member of super class using the refrence of super class.","title":"Can we access the members of sub class using the refrenced variable of super class which holds the subclass object?","body":"<p>If not,then for the below program, how is the <strong>multiplication</strong>(method) of subclass is accessed Since I used the refrence variable of superclass <strong>Calculation</strong> which holds object of subclass <strong>My_Calculation</strong>.\n<em><strong>Output of below program is:</strong>\nThe sum of the given numbers:30\nThe difference between the given numbers:10\nThe product of the given numbers in sub class is:200</em></p>\n<pre><code>class Calculation {\nint z;\n\npublic void addition(int x, int y) {\n   z = x + y;\n   System.out.println(&quot;The sum of the given numbers:&quot;+z);\n}\n\npublic void Subtraction(int x, int y) {\n   z = x - y;\n   System.out.println(&quot;The difference between the given numbers:&quot;+z);\n}\npublic void multiplication(int x, int y) {\n   z = x * y;\n   System.out.println(&quot;The product of the given numbers in super class is :&quot;+z);\n}\n}\n\npublic class My_Calculation extends Calculation {\npublic void multiplication(int x, int y) {\n   z = x * y;\n   System.out.println(&quot;The product of the given numbers in sub class is:&quot;+z);\n}\n\npublic static void main(String args[]) {\n   int a = 20, b = 10;\n   Calculation demo = new My_Calculation();\n   demo.addition(a, b);\n   demo.Subtraction(a, b);\n   demo.multiplication(a, b);\n}\n}\n</code></pre>\n<p>I was expecting error since we can only access the member of super class using the refrence of super class.</p>\n"},{"tags":["java","kotlin","intellij-idea"],"comments":[{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":1,"creation_date":1605770645,"post_id":64906975,"comment_id":114755015,"body_markdown":"Please attach screenshot from &quot;Project Structure | Modules - Dependencies&quot; tab.","body":"Please attach screenshot from &quot;Project Structure | Modules - Dependencies&quot; tab."},{"owner":{"account_id":15341840,"reputation":456,"user_id":11068616,"display_name":"JetBrains"},"score":0,"creation_date":1605771765,"post_id":64906975,"comment_id":114755396,"body_markdown":"Please provide more information as @bedrov&#39;s written","body":"Please provide more information as @bedrov&#39;s written"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1606205864,"post_id":64906975,"comment_id":114885031,"body_markdown":"Project configuration looks fine. Could you please attach your project to check IDE generated files?","body":"Project configuration looks fine. Could you please attach your project to check IDE generated files?"},{"owner":{"account_id":7027138,"reputation":485,"user_id":10829405,"display_name":"A. P. Roblem"},"score":0,"creation_date":1606288291,"post_id":64906975,"comment_id":114915759,"body_markdown":"@y.bedrov Project files have been added, thanks","body":"@y.bedrov Project files have been added, thanks"},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1606303750,"post_id":64906975,"comment_id":114922281,"body_markdown":"Please try to remove &quot;.idea/libraries&quot; file and reimport project again.","body":"Please try to remove &quot;.idea/libraries&quot; file and reimport project again."},{"owner":{"account_id":7027138,"reputation":485,"user_id":10829405,"display_name":"A. P. Roblem"},"score":0,"creation_date":1606305720,"post_id":64906975,"comment_id":114923126,"body_markdown":"That fixed it! Thank you for the help @y.bedrov!","body":"That fixed it! Thank you for the help @y.bedrov!"}],"answers":[{"tags":[],"owner":{"account_id":15341840,"reputation":456,"user_id":11068616,"display_name":"JetBrains"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1605771701,"creation_date":1605771701,"answer_id":64907316,"question_id":64906975,"body_markdown":"Please provide more information and check what Kotlin version do you have installed:\r\n\r\n1) Tools &gt; Kotlin &gt; Configure Kotlin Plugin Updates: install the latest version of Kotlin\r\n\r\n2) File &gt; Project Structure &gt; Project: what is your Project SDK there? Choose 15 (something line java version &quot;15.0.1&quot;). If you don&#39;t have 15 there, click &quot;+&quot; and add the newest version (unless you need an older version).","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>Please provide more information and check what Kotlin version do you have installed:</p>\n<ol>\n<li><p>Tools &gt; Kotlin &gt; Configure Kotlin Plugin Updates: install the latest version of Kotlin</p>\n</li>\n<li><p>File &gt; Project Structure &gt; Project: what is your Project SDK there? Choose 15 (something line java version &quot;15.0.1&quot;). If you don't have 15 there, click &quot;+&quot; and add the newest version (unless you need an older version).</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7027138,"reputation":485,"user_id":10829405,"display_name":"A. P. Roblem"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1606305680,"creation_date":1606305680,"answer_id":65004312,"question_id":64906975,"body_markdown":"Removing the .idea/library file inside the project directory and then selecting &quot;use library from plugin&quot; when prompted to configure Kotlin files by the IDE solved the problem.","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>Removing the .idea/library file inside the project directory and then selecting &quot;use library from plugin&quot; when prompted to configure Kotlin files by the IDE solved the problem.</p>\n"},{"tags":[],"owner":{"display_name":"user15169495"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1613482350,"creation_date":1612793357,"answer_id":66103264,"question_id":64906975,"body_markdown":"Probably you need to add KotlinJavaRuntime library in you project. Please see paragraph &quot;Create Kotlin files in Java projects&quot; in https://www.jetbrains.com/help/idea/mixing-java-and-kotlin-in-one-project.html \r\nAfter configuration you should see needed jars in **lib** folder in your project. Rebuild you project. Make also File-&gt;Invalidate Cache/Restart. ","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>Probably you need to add KotlinJavaRuntime library in you project. Please see paragraph &quot;Create Kotlin files in Java projects&quot; in <a href=\"https://www.jetbrains.com/help/idea/mixing-java-and-kotlin-in-one-project.html\" rel=\"nofollow noreferrer\">https://www.jetbrains.com/help/idea/mixing-java-and-kotlin-in-one-project.html</a>\nAfter configuration you should see needed jars in <strong>lib</strong> folder in your project. Rebuild you project. Make also File-&gt;Invalidate Cache/Restart.</p>\n"},{"tags":[],"owner":{"account_id":9465498,"reputation":1,"user_id":7037991,"display_name":"Peisheng ye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1616249888,"creation_date":1616249888,"answer_id":66722609,"question_id":64906975,"body_markdown":"I have a Ubuntu 16.04 with  IntelliJ 2020.3 newly installed. I run to the same issue here.\r\n\r\nTo solve this issue, I made a new kotlin file in my project. Then when the system was trying to add this new Kotlin file, you can find a notification related to &quot;Configure project&quot; on the right bottom corner of screen, click the notification. I get the following dialog.  \r\n\r\nThen check the Use library from plugin, this solve the issue.\r\n[Use library from plugin][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qOaLv.png","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>I have a Ubuntu 16.04 with  IntelliJ 2020.3 newly installed. I run to the same issue here.</p>\n<p>To solve this issue, I made a new kotlin file in my project. Then when the system was trying to add this new Kotlin file, you can find a notification related to &quot;Configure project&quot; on the right bottom corner of screen, click the notification. I get the following dialog.</p>\n<p>Then check the Use library from plugin, this solve the issue.\n<a href=\"https://i.stack.imgur.com/qOaLv.png\" rel=\"nofollow noreferrer\">Use library from plugin</a></p>\n"},{"tags":[],"owner":{"account_id":6396751,"reputation":500,"user_id":4960846,"display_name":"Loop"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1629727637,"creation_date":1629727637,"answer_id":68894140,"question_id":64906975,"body_markdown":"I tried all of the above but eventually found out, that in one project, my SDKs were completely broken after the newest Intellij Update. If you go to Project Structure -&gt; Platform Settings -&gt; SDKs, I had an entry for Kotlin with a non existing path for an Intellij Version of last year. This was definitely not there before and it seems to have messed up the kotlin installation. After i deleted that entry and as described above the libraries as well, it worked again.\r\n","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>I tried all of the above but eventually found out, that in one project, my SDKs were completely broken after the newest Intellij Update. If you go to Project Structure -&gt; Platform Settings -&gt; SDKs, I had an entry for Kotlin with a non existing path for an Intellij Version of last year. This was definitely not there before and it seems to have messed up the kotlin installation. After i deleted that entry and as described above the libraries as well, it worked again.</p>\n"},{"tags":[],"owner":{"account_id":1053210,"reputation":1520,"user_id":1123041,"display_name":"vbevans94"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1639144424,"creation_date":1639043608,"answer_id":70287821,"question_id":64906975,"body_markdown":"Try enabling `KotlinJavaRuntime`\r\n\r\n1. Open `Project Structure` window (File &gt; Project Structure)\r\n2. Go into `Modules`\r\n3. Go to `Dependencies` tab\r\n4. Tick the `Enable KotlinJavaRuntime` checkbox","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>Try enabling <code>KotlinJavaRuntime</code></p>\n<ol>\n<li>Open <code>Project Structure</code> window (File &gt; Project Structure)</li>\n<li>Go into <code>Modules</code></li>\n<li>Go to <code>Dependencies</code> tab</li>\n<li>Tick the <code>Enable KotlinJavaRuntime</code> checkbox</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":1995799,"reputation":28352,"user_id":1788806,"accept_rate":94,"display_name":"Willi Mentzel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648074613,"creation_date":1648074613,"answer_id":71594833,"question_id":64906975,"body_markdown":"For me this helped:\r\n\r\n1. Close the project\r\n2. Delete *idea.* folder\r\n3. Open project","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>For me this helped:</p>\n<ol>\n<li>Close the project</li>\n<li>Delete <em>idea.</em> folder</li>\n<li>Open project</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":3476537,"reputation":51,"user_id":2909570,"display_name":"Moustafa Shamaa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1667312545,"creation_date":1667312545,"answer_id":74277387,"question_id":64906975,"body_markdown":"In this case, it was a misconfigured IntelliJ instance.\r\n\r\n&gt; Project Structure -&gt; SDKs -&gt; kotlinSDK -&gt; + -&gt; ok\r\n\r\nrebuild will be work fine","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>In this case, it was a misconfigured IntelliJ instance.</p>\n<blockquote>\n<p>Project Structure -&gt; SDKs -&gt; kotlinSDK -&gt; + -&gt; ok</p>\n</blockquote>\n<p>rebuild will be work fine</p>\n"},{"tags":[],"owner":{"account_id":22474529,"reputation":21,"user_id":16674457,"display_name":"dodomku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1668610046,"creation_date":1668610046,"answer_id":74462532,"question_id":64906975,"body_markdown":"In my case the Kotlin Standard Library JDK extension was missing. https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib-jdk8\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\r\n        &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\r\n        &lt;version&gt;1.7.21&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>In my case the Kotlin Standard Library JDK extension was missing. <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib-jdk8\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-stdlib-jdk8</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jetbrains.kotlin&lt;/groupId&gt;\n    &lt;artifactId&gt;kotlin-stdlib-jdk8&lt;/artifactId&gt;\n    &lt;version&gt;1.7.21&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13923811,"reputation":439,"user_id":10053593,"display_name":"tanany365"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688846495,"creation_date":1688846495,"answer_id":76644734,"question_id":64906975,"body_markdown":"You can open files in folder &quot;.idea&quot; and see if there are closing tags `&lt;/tagName&gt;` missing at the end of each file.\r\n","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>You can open files in folder &quot;.idea&quot; and see if there are closing tags <code>&lt;/tagName&gt;</code> missing at the end of each file.</p>\n"},{"tags":[],"owner":{"account_id":2647431,"reputation":9890,"user_id":2289835,"accept_rate":38,"display_name":"Rumit Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179290,"creation_date":1697179290,"answer_id":77285567,"question_id":64906975,"body_markdown":"In my case `apply plugin: kotlin-android-extensions` was not added in **library&#39;s `build.gradle`** file.\r\n\r\nPlease check for each modules. Each module should have `apply plugin: kotlin-android-extensions`","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>In my case <code>apply plugin: kotlin-android-extensions</code> was not added in <strong>library's <code>build.gradle</code></strong> file.</p>\n<p>Please check for each modules. Each module should have <code>apply plugin: kotlin-android-extensions</code></p>\n"}],"owner":{"account_id":7027138,"reputation":485,"user_id":10829405,"display_name":"A. P. Roblem"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31332,"favorite_count":0,"down_vote_count":1,"up_vote_count":24,"accepted_answer_id":65004312,"answer_count":11,"score":23,"last_activity_date":1697179290,"creation_date":1605770121,"question_id":64906975,"body_markdown":"I&#39;ve been trying to set up a new Kotlin project in IntelliJ IDEA, using the default IntelliJ Build System (not Gradle) and JDK 15. Whenever it creates the default main.kt file, and I try to build and run the main function, which looks like this:\r\n```kotlin\r\nfun main(args: Array&lt;String&gt;) {\r\n    println(&quot;Hello World!&quot;)\r\n}\r\n```\r\nthe build fails after a short time with the following errors:\r\n&gt; Kotlin: Cannot access built-in declaration &#39;kotlin.Array&#39;. Ensure that you have a dependency on the Kotlin standard library\r\n\r\n&gt; Kotlin: Cannot access built-in declaration &#39;kotlin.String&#39;. Ensure that you have a dependency on the Kotlin standard library\r\n\r\nand\r\n&gt; Kotlin: Unresolved reference: println\r\n\r\nI&#39;ve tried changing the project SDK to the kotlin SDK, to Java 14 and to Java 1.8. I&#39;m not sure exactly how to add the dependency it asks for. Any help is appreciated.\r\n\r\nThis is what the dependencies window shows within the project:\r\n[![Module Dependencies][1]][1]\r\n\r\nRight now the project is using JDK 15, and Kotlin 1.4.10. I&#39;ve tried updating the plugin, uninstalling and reinstalling, deactivating and reactivating, all to no avail.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Aw08d.jpg","title":"IntelliJ Kotlin - How do I fix &quot;Ensure that you have a dependency on the Kotlin standard library&quot; in a project?","body":"<p>I've been trying to set up a new Kotlin project in IntelliJ IDEA, using the default IntelliJ Build System (not Gradle) and JDK 15. Whenever it creates the default main.kt file, and I try to build and run the main function, which looks like this:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>fun main(args: Array&lt;String&gt;) {\n    println(&quot;Hello World!&quot;)\n}\n</code></pre>\n<p>the build fails after a short time with the following errors:</p>\n<blockquote>\n<p>Kotlin: Cannot access built-in declaration 'kotlin.Array'. Ensure that you have a dependency on the Kotlin standard library</p>\n</blockquote>\n<blockquote>\n<p>Kotlin: Cannot access built-in declaration 'kotlin.String'. Ensure that you have a dependency on the Kotlin standard library</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>Kotlin: Unresolved reference: println</p>\n</blockquote>\n<p>I've tried changing the project SDK to the kotlin SDK, to Java 14 and to Java 1.8. I'm not sure exactly how to add the dependency it asks for. Any help is appreciated.</p>\n<p>This is what the dependencies window shows within the project:\n<a href=\"https://i.stack.imgur.com/Aw08d.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Aw08d.jpg\" alt=\"Module Dependencies\" /></a></p>\n<p>Right now the project is using JDK 15, and Kotlin 1.4.10. I've tried updating the plugin, uninstalling and reinstalling, deactivating and reactivating, all to no avail.</p>\n"},{"tags":["java","windows","shutdown"],"answers":[{"tags":[],"owner":{"account_id":1384,"reputation":7342,"user_id":1849,"accept_rate":100,"display_name":"Free Wildebeest"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1221431641,"creation_date":1221431641,"answer_id":61694,"question_id":61692,"body_markdown":"As far as I know you need to start using JNI to set up a message handler for the Windows [WM_QUERYENDSESSION](http://msdn.microsoft.com/en-us/library/aa376890.aspx) message.\r\n\r\nTo do this (if you&#39;re new to Windows programming like me) you&#39;ll need to create a new class of window with a new message handling function (as described [here](http://www.angelcode.com/dev/window/window.asp)) and handle the WM_QUERYENDSESSION from the message handler.\r\n\r\nNB: You&#39;ll need to use the JNIEnv::GetJavaVM(...) and then JavaVM::AttachCurrentThread(...) on the message handling thread before you can call any Java methods from your native message handling code. ","title":"How do I get my Java application to shutdown nicely in windows?","body":"<p>As far as I know you need to start using JNI to set up a message handler for the Windows <a href=\"http://msdn.microsoft.com/en-us/library/aa376890.aspx\" rel=\"nofollow noreferrer\">WM_QUERYENDSESSION</a> message.</p>\n\n<p>To do this (if you're new to Windows programming like me) you'll need to create a new class of window with a new message handling function (as described <a href=\"http://www.angelcode.com/dev/window/window.asp\" rel=\"nofollow noreferrer\">here</a>) and handle the WM_QUERYENDSESSION from the message handler.</p>\n\n<p>NB: You'll need to use the JNIEnv::GetJavaVM(...) and then JavaVM::AttachCurrentThread(...) on the message handling thread before you can call any Java methods from your native message handling code. </p>\n"},{"tags":[],"owner":{"account_id":7072,"reputation":2471,"user_id":12092,"display_name":"Steve g"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1221571131,"creation_date":1221571131,"answer_id":72078,"question_id":61692,"body_markdown":"The previously mentioned JNI approach will likely work.\r\n\r\nYou can use JNA which is basically a wrapper around JNI to make it easier to use.  An added bonus is that it (in my opinion at least) generally is faster and more maintainable than raw JNI.  You can find JNA at https://jna.dev.java.net/\r\n\r\n\r\nIf you&#39;re just starting the application in the start menu because you&#39;re trying to make it behave like a service in windows, you can use the java service wrapper which is found here:\r\nhttp://wrapper.tanukisoftware.org/doc/english/download.jsp","title":"How do I get my Java application to shutdown nicely in windows?","body":"<p>The previously mentioned JNI approach will likely work.</p>\n\n<p>You can use JNA which is basically a wrapper around JNI to make it easier to use.  An added bonus is that it (in my opinion at least) generally is faster and more maintainable than raw JNI.  You can find JNA at <a href=\"https://jna.dev.java.net/\" rel=\"nofollow noreferrer\">https://jna.dev.java.net/</a></p>\n\n<p>If you're just starting the application in the start menu because you're trying to make it behave like a service in windows, you can use the java service wrapper which is found here:\n<a href=\"http://wrapper.tanukisoftware.org/doc/english/download.jsp\" rel=\"nofollow noreferrer\">http://wrapper.tanukisoftware.org/doc/english/download.jsp</a></p>\n"},{"tags":[],"owner":{"account_id":1642242,"reputation":1062,"user_id":1514467,"accept_rate":83,"display_name":"rednoah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1695421427,"creation_date":1695421427,"answer_id":77160942,"question_id":61692,"body_markdown":"You can use the `sun.misc.Signal` and `sun.misc.SignalHandler` internal classes to replace the default `java.lang.Terminator` with your own custom handler. Don&#39;t forget to call `System::exit` from there. The JDK internally raises `SIGTERM` in response to `WM_QUERYENDSESSION`. See [awt_Toolkit.cpp][1] for details.\r\n\r\n\r\n```lang-java\r\npublic static void setQuitStrategy(Runnable handler) throws Exception {\r\n\tClass&lt;?&gt; signalClass = Class.forName(&quot;sun.misc.Signal&quot;);\r\n\tClass&lt;?&gt; signalHandlerClass = Class.forName(&quot;sun.misc.SignalHandler&quot;);\r\n\r\n\tObject signal = signalClass.getConstructor(String.class).newInstance(&quot;TERM&quot;);\r\n\tObject signalHandler = Proxy.newProxyInstance(signalHandlerClass.getClassLoader(), new Class[] { signalHandlerClass }, (proxy, method, args) -&gt; {\r\n\t\thandler.run();\r\n\t\treturn null;\r\n\t});\r\n\r\n\tMethod handle = signalClass.getMethod(&quot;handle&quot;, new Class[] { signalClass, signalHandlerClass });\r\n\thandle.invoke(null, signal, signalHandler);\r\n}\r\n```\r\n\r\n\r\n  [1]: https://github.com/JetBrains/JetBrainsRuntime/blob/8845e3aa8ada1562db459cdb92ca62f1839158f3/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1317","title":"How do I get my Java application to shutdown nicely in windows?","body":"<p>You can use the <code>sun.misc.Signal</code> and <code>sun.misc.SignalHandler</code> internal classes to replace the default <code>java.lang.Terminator</code> with your own custom handler. Don't forget to call <code>System::exit</code> from there. The JDK internally raises <code>SIGTERM</code> in response to <code>WM_QUERYENDSESSION</code>. See <a href=\"https://github.com/JetBrains/JetBrainsRuntime/blob/8845e3aa8ada1562db459cdb92ca62f1839158f3/src/java.desktop/windows/native/libawt/windows/awt_Toolkit.cpp#L1317\" rel=\"nofollow noreferrer\">awt_Toolkit.cpp</a> for details.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void setQuitStrategy(Runnable handler) throws Exception {\n    Class&lt;?&gt; signalClass = Class.forName(&quot;sun.misc.Signal&quot;);\n    Class&lt;?&gt; signalHandlerClass = Class.forName(&quot;sun.misc.SignalHandler&quot;);\n\n    Object signal = signalClass.getConstructor(String.class).newInstance(&quot;TERM&quot;);\n    Object signalHandler = Proxy.newProxyInstance(signalHandlerClass.getClassLoader(), new Class[] { signalHandlerClass }, (proxy, method, args) -&gt; {\n        handler.run();\n        return null;\n    });\n\n    Method handle = signalClass.getMethod(&quot;handle&quot;, new Class[] { signalClass, signalHandlerClass });\n    handle.invoke(null, signal, signalHandler);\n}\n</code></pre>\n"}],"owner":{"account_id":1384,"reputation":7342,"user_id":1849,"accept_rate":100,"display_name":"Free Wildebeest"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8634,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":72078,"answer_count":3,"score":6,"last_activity_date":1697179225,"creation_date":1221431283,"question_id":61692,"body_markdown":"I have a Java application which I want to shutdown &#39;nicely&#39; when the user selects Start-&gt;Shutdown. I&#39;ve tried using JVM shutdown listeners via Runtime.addShutdownHook(...) but this doesn&#39;t work as I can&#39;t use any UI elements from it.\r\n\r\nI&#39;ve also tried using the exit handler on my main application UI window but it has no way to pause or halt shutdown as far as I can tell. How can I handle shutdown nicely?","title":"How do I get my Java application to shutdown nicely in windows?","body":"<p>I have a Java application which I want to shutdown 'nicely' when the user selects Start->Shutdown. I've tried using JVM shutdown listeners via Runtime.addShutdownHook(...) but this doesn't work as I can't use any UI elements from it.</p>\n\n<p>I've also tried using the exit handler on my main application UI window but it has no way to pause or halt shutdown as far as I can tell. How can I handle shutdown nicely?</p>\n"},{"tags":["java","spring","spring-boot","classcastexception","spring-data-redis"],"comments":[{"owner":{"account_id":5977652,"reputation":394,"user_id":4697928,"display_name":"Abishek Stephen"},"score":0,"creation_date":1680724767,"post_id":75943457,"comment_id":133948787,"body_markdown":"Seems to be an issue with ClassLoader. Could you try removing one or the other in         template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\n        template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));","body":"Seems to be an issue with ClassLoader. Could you try removing one or the other in         template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader())&zwnj;&#8203;);         template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader())&zwnj;&#8203;);"},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":0,"creation_date":1680761192,"post_id":75943457,"comment_id":133953508,"body_markdown":"I tried-  template.setHashKeySerializer(new JdkSerializationRedisSerializer());\n        template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader())); and the other way template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\n        template.setValueSerializer(new JdkSerializationRedisSerializer()); but getting the same error.","body":"I tried-  template.setHashKeySerializer(new JdkSerializationRedisSerializer());         template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader())&zwnj;&#8203;); and the other way template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader())&zwnj;&#8203;);         template.setValueSerializer(new JdkSerializationRedisSerializer()); but getting the same error."},{"owner":{"account_id":1656890,"reputation":8197,"user_id":1526192,"display_name":"Phil Webb"},"score":2,"creation_date":1681075891,"post_id":75943457,"comment_id":133996574,"body_markdown":"This is almost certainly related to devtools, you could try removing the `spring-boot-devtools` dependency entirely to see if that &quot;fixes&quot; things.","body":"This is almost certainly related to devtools, you could try removing the <code>spring-boot-devtools</code> dependency entirely to see if that &quot;fixes&quot; things."},{"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"score":1,"creation_date":1681121627,"post_id":75943457,"comment_id":134001443,"body_markdown":"I removed devtools and it worked.","body":"I removed devtools and it worked."}],"answers":[{"tags":[],"owner":{"account_id":24883578,"reputation":76,"user_id":18756500,"display_name":"ForeverMorning"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1686673365,"creation_date":1686376637,"answer_id":76444927,"question_id":75943457,"body_markdown":"I met the same error. The only way is to remove `spring-devtools` module. It seems like to be caused by `ClassLoader`. But I don&#39;t know how to solve it. But removing this module really worked.","title":"ClassCastException: with unnamed module of loader &#39;app&#39;: Spring Data Redis","body":"<p>I met the same error. The only way is to remove <code>spring-devtools</code> module. It seems like to be caused by <code>ClassLoader</code>. But I don't know how to solve it. But removing this module really worked.</p>\n"},{"tags":[],"owner":{"account_id":21261211,"reputation":1,"user_id":15641954,"display_name":"nhhoang188"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688096553,"creation_date":1688096553,"answer_id":76585888,"question_id":75943457,"body_markdown":"try this way:\r\n\r\n&gt; you need to set a System property before calling SpringApplication.run(…​). For example:\r\n&gt; \r\n\r\n    public static void main(String[] args) {\r\n    System.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\r\n    SpringApplication.run(MyApp.class, args);}\r\n\r\nReference [Spring Doc][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart-disable","title":"ClassCastException: with unnamed module of loader &#39;app&#39;: Spring Data Redis","body":"<p>try this way:</p>\n<blockquote>\n<p>you need to set a System property before calling SpringApplication.run(…​). For example:</p>\n</blockquote>\n<pre><code>public static void main(String[] args) {\nSystem.setProperty(&quot;spring.devtools.restart.enabled&quot;, &quot;false&quot;);\nSpringApplication.run(MyApp.class, args);}\n</code></pre>\n<p>Reference <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart-disable\" rel=\"nofollow noreferrer\">Spring Doc</a></p>\n"},{"tags":[],"owner":{"account_id":29661861,"reputation":1,"user_id":22733240,"display_name":"Pabitra Das"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697179120,"creation_date":1697179120,"answer_id":77285551,"question_id":75943457,"body_markdown":"If you are using spring devtools.Disabled devtools it will work.","title":"ClassCastException: with unnamed module of loader &#39;app&#39;: Spring Data Redis","body":"<p>If you are using spring devtools.Disabled devtools it will work.</p>\n"}],"owner":{"account_id":25845637,"reputation":534,"user_id":19580540,"display_name":"ayush"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3752,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":76444927,"answer_count":3,"score":3,"last_activity_date":1697179120,"creation_date":1680724066,"question_id":75943457,"body_markdown":"I am working on a small demo project for **Redis and Spring Boot.** But for the following **GET** endpoints I am getting **ClassCastException.**-\r\n```\r\n@GetMapping(&quot;/all&quot;)\r\n    public List&lt;Product&gt; getAllProducts(){\r\n        return productRepository.findAll();\r\n    }\r\n\r\n    @GetMapping(&quot;/product/{id}&quot;)\r\n    public Product finProduct(@PathVariable int id){\r\n        return productRepository.findProductById(id);\r\n    }\r\n```\r\nSerivces-\r\n```\r\npublic List&lt;Product&gt; findAll() {\r\n        List&lt;Product&gt; products=new ArrayList&lt;&gt;();\r\n        redisTemplate.opsForHash().values(HASH_KEY).forEach(e-&gt;products.add((Product)e));\r\n        return products;\r\n    }\r\n\r\n    public Product findProductById(int id) {\r\n\r\n        return (Product) redisTemplate.opsForHash().get(HASH_KEY, id);\r\n    }\r\n```\r\nI am getting following error-\r\n```\r\njava.lang.ClassCastException: class com.ayushsingh.springdataredisdemo.entity.Product cannot be cast to class com.ayushsingh.springdataredisdemo.entity.Product (com.ayushsingh.springdataredisdemo.entity.Product is in unnamed module of loader &#39;app&#39;; com.ayushsingh.springdataredisdemo.entity.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @18f69edd)\r\n```\r\n\r\nI referred the following article: https://medium.com/javarevisited/classcast-exception-when-using-redis-and-springboot-frameworks-in-conjunction-ea132dd0d7ea, but still getting same error.  \r\n**Beans-**\r\n```\r\n@Configuration\r\n@EnableRedisRepositories\r\npublic class RedisConfig {\r\n\r\n    // Connection Configuration\r\n    @Bean\r\n    public JedisConnectionFactory connectionFactory() {\r\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\r\n        configuration.setHostName(&quot;localhost&quot;);\r\n        configuration.setPort(6379);\r\n        Duration readTimeout = Duration.ofMillis(30 * 1000);\r\n        Duration connectTimeout = Duration.ofMillis(3 * 1000);\r\n        JedisClientConfiguration clientConfiguration = JedisClientConfiguration.builder()\r\n                .readTimeout(readTimeout)\r\n                .connectTimeout(connectTimeout)\r\n                .usePooling()\r\n                .build();\r\n        JedisConnectionFactory jedisConnectionFactory = new JedisConnectionFactory(configuration, clientConfiguration);\r\n        return jedisConnectionFactory;\r\n    }\r\n\r\n    // Redis template to acces Redis server\r\n    @Bean\r\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\r\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\r\n        template.setConnectionFactory(connectionFactory());\r\n        template.setKeySerializer(new StringRedisSerializer());\r\n        template.setHashKeySerializer(new StringRedisSerializer());\r\n        template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\r\n        template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\r\n        template.setEnableTransactionSupport(true);\r\n\r\n        template.afterPropertiesSet();\r\n        return template;\r\n    }\r\n}\r\n```\r\n**application properties-**\r\n```\r\nspring.devtools.restart.enabled=false\r\nserver.port=8082\r\n```\r\n\r\nPlease help!","title":"ClassCastException: with unnamed module of loader &#39;app&#39;: Spring Data Redis","body":"<p>I am working on a small demo project for <strong>Redis and Spring Boot.</strong> But for the following <strong>GET</strong> endpoints I am getting <strong>ClassCastException.</strong>-</p>\n<pre><code>@GetMapping(&quot;/all&quot;)\n    public List&lt;Product&gt; getAllProducts(){\n        return productRepository.findAll();\n    }\n\n    @GetMapping(&quot;/product/{id}&quot;)\n    public Product finProduct(@PathVariable int id){\n        return productRepository.findProductById(id);\n    }\n</code></pre>\n<p>Serivces-</p>\n<pre><code>public List&lt;Product&gt; findAll() {\n        List&lt;Product&gt; products=new ArrayList&lt;&gt;();\n        redisTemplate.opsForHash().values(HASH_KEY).forEach(e-&gt;products.add((Product)e));\n        return products;\n    }\n\n    public Product findProductById(int id) {\n\n        return (Product) redisTemplate.opsForHash().get(HASH_KEY, id);\n    }\n</code></pre>\n<p>I am getting following error-</p>\n<pre><code>java.lang.ClassCastException: class com.ayushsingh.springdataredisdemo.entity.Product cannot be cast to class com.ayushsingh.springdataredisdemo.entity.Product (com.ayushsingh.springdataredisdemo.entity.Product is in unnamed module of loader 'app'; com.ayushsingh.springdataredisdemo.entity.Product is in unnamed module of loader org.springframework.boot.devtools.restart.classloader.RestartClassLoader @18f69edd)\n</code></pre>\n<p>I referred the following article: <a href=\"https://medium.com/javarevisited/classcast-exception-when-using-redis-and-springboot-frameworks-in-conjunction-ea132dd0d7ea\" rel=\"nofollow noreferrer\">https://medium.com/javarevisited/classcast-exception-when-using-redis-and-springboot-frameworks-in-conjunction-ea132dd0d7ea</a>, but still getting same error.<br />\n<strong>Beans-</strong></p>\n<pre><code>@Configuration\n@EnableRedisRepositories\npublic class RedisConfig {\n\n    // Connection Configuration\n    @Bean\n    public JedisConnectionFactory connectionFactory() {\n        RedisStandaloneConfiguration configuration = new RedisStandaloneConfiguration();\n        configuration.setHostName(&quot;localhost&quot;);\n        configuration.setPort(6379);\n        Duration readTimeout = Duration.ofMillis(30 * 1000);\n        Duration connectTimeout = Duration.ofMillis(3 * 1000);\n        JedisClientConfiguration clientConfiguration = JedisClientConfiguration.builder()\n                .readTimeout(readTimeout)\n                .connectTimeout(connectTimeout)\n                .usePooling()\n                .build();\n        JedisConnectionFactory jedisConnectionFactory = new JedisConnectionFactory(configuration, clientConfiguration);\n        return jedisConnectionFactory;\n    }\n\n    // Redis template to acces Redis server\n    @Bean\n    public RedisTemplate&lt;String, Object&gt; redisTemplate() {\n        RedisTemplate&lt;String, Object&gt; template = new RedisTemplate&lt;&gt;();\n        template.setConnectionFactory(connectionFactory());\n        template.setKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(new StringRedisSerializer());\n        template.setHashKeySerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\n        template.setValueSerializer(new JdkSerializationRedisSerializer(getClass().getClassLoader()));\n        template.setEnableTransactionSupport(true);\n\n        template.afterPropertiesSet();\n        return template;\n    }\n}\n</code></pre>\n<p><strong>application properties-</strong></p>\n<pre><code>spring.devtools.restart.enabled=false\nserver.port=8082\n</code></pre>\n<p>Please help!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697200849,"post_id":77285525,"comment_id":136253468,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":29661815,"reputation":1,"user_id":22733209,"display_name":"CDRIVE911"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697178758,"creation_date":1697178758,"question_id":77285525,"body_markdown":"I have pulled in the map api in my site. However, I see that it comes with the entire map and its a clickable searchable map. The more customers use the app, and I charged more ? \r\n\r\njust the standard address lookup address like on other sites. I did not want a searchable map. ","title":"once map api is called on my page, and users continue to use the map function, am I charged every click someone searches on the map?","body":"<p>I have pulled in the map api in my site. However, I see that it comes with the entire map and its a clickable searchable map. The more customers use the app, and I charged more ?</p>\n<p>just the standard address lookup address like on other sites. I did not want a searchable map.</p>\n"},{"tags":["java","github","dependencies"],"comments":[{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1697178815,"post_id":77285512,"comment_id":136249656,"body_markdown":"How were you managing your dependencies? Did you use maven/gradle or just added the jar files in your classpath?","body":"How were you managing your dependencies? Did you use maven/gradle or just added the jar files in your classpath?"}],"owner":{"account_id":29618043,"reputation":1,"user_id":22699692,"display_name":"VishIsHere26"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697178571,"creation_date":1697178571,"question_id":77285512,"body_markdown":"So i recently uploaded my GUI calculator project in GitHub for which i used exp4j \r\nI&#39;ve dragged the project file and uploaded it in repository without uploading external dependency.\r\n\r\n\r\n**Would my code run in other user&#39;s device if they download project files?**","title":"How to add external dependency to a project in github when u use that external dependency in your project?","body":"<p>So i recently uploaded my GUI calculator project in GitHub for which i used exp4j\nI've dragged the project file and uploaded it in repository without uploading external dependency.</p>\n<p><strong>Would my code run in other user's device if they download project files?</strong></p>\n"},{"tags":["java","spring-boot","architecture"],"answers":[{"tags":[],"owner":{"account_id":333767,"reputation":1040,"user_id":659803,"accept_rate":57,"display_name":"Arun Avanathan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697177778,"creation_date":1697177778,"answer_id":77285463,"question_id":76967021,"body_markdown":"Need more data:\r\n1. What is the data size in central hub?\r\n2. What is the growth of data in central hub?\r\n3. How much time it takes per schedule?\r\n4. Should your data from central hub to Elastic Index be on real time/immediate OR delay is okay?\r\n\r\n\r\nAssuming it is a large data set, here is another option:\r\n\r\nOption 1: What you have above\r\nOption 2: If you have eventing mechanism from central hub, you can replace data refresh module with event listeners pumping data from events to Elastic Index Builder. \r\n\r\n**Option 1:** \r\n\r\n**Pros:**\r\n\r\n  1. Simple to implement \r\n\r\n**Cons:**\r\n\r\n  1. You need to query central hub periodically - this puts additional load on Central Hub\r\n  2. If the growth of data is large, this approach is not scalable to read all data with every schedule\r\n  3. If time per schedule is is x hours, your processing speed per schedule needs to be &lt; x. \r\n  4. With growth in data, delay might increase\r\n  5. What happens if there is failure? rerun the scheduler? Now it is getting complicated.\r\n\r\n**Option 2:**\r\n\r\n  **Pros:**\r\n\r\n  1. Highly scalable - even though data in Central hub is growing\r\n  2. You may not need a DB for copying data\r\n  3. Events can be retried if there is failure\r\n  4. If there is a change in Central hub, that data can show up in the \r\nindex &lt; few seconds (most of the time)\r\n\r\n  **Cons:**\r\n\r\n  1. Eventing is another infrastructure you need to maintain, but there are well tested open source &amp; commercial products to suit your needs.","title":"Is there better way to implement Scheduler based project?","body":"<p>Need more data:</p>\n<ol>\n<li>What is the data size in central hub?</li>\n<li>What is the growth of data in central hub?</li>\n<li>How much time it takes per schedule?</li>\n<li>Should your data from central hub to Elastic Index be on real time/immediate OR delay is okay?</li>\n</ol>\n<p>Assuming it is a large data set, here is another option:</p>\n<p>Option 1: What you have above\nOption 2: If you have eventing mechanism from central hub, you can replace data refresh module with event listeners pumping data from events to Elastic Index Builder.</p>\n<p><strong>Option 1:</strong></p>\n<p><strong>Pros:</strong></p>\n<ol>\n<li>Simple to implement</li>\n</ol>\n<p><strong>Cons:</strong></p>\n<ol>\n<li>You need to query central hub periodically - this puts additional load on Central Hub</li>\n<li>If the growth of data is large, this approach is not scalable to read all data with every schedule</li>\n<li>If time per schedule is is x hours, your processing speed per schedule needs to be &lt; x.</li>\n<li>With growth in data, delay might increase</li>\n<li>What happens if there is failure? rerun the scheduler? Now it is getting complicated.</li>\n</ol>\n<p><strong>Option 2:</strong></p>\n<p><strong>Pros:</strong></p>\n<ol>\n<li>Highly scalable - even though data in Central hub is growing</li>\n<li>You may not need a DB for copying data</li>\n<li>Events can be retried if there is failure</li>\n<li>If there is a change in Central hub, that data can show up in the\nindex &lt; few seconds (most of the time)</li>\n</ol>\n<p><strong>Cons:</strong></p>\n<ol>\n<li>Eventing is another infrastructure you need to maintain, but there are well tested open source &amp; commercial products to suit your needs.</li>\n</ol>\n"}],"owner":{"account_id":22071184,"reputation":33,"user_id":16332139,"display_name":"Bhavin "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697177778,"creation_date":1692861730,"question_id":76967021,"body_markdown":"In My Team we have lot of similar project, \r\n\r\n 1. which fetches the data from central hub periodically and save it to local db.\r\n 2. We create Elastic Data index from local db.\r\n 3. We have backend module to Provide this elastic data to UI Dashboard.\r\n\r\n[![Architecture diagram would be as follows][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ksQk7.png\r\n\r\nIs there any better way to do this ?","title":"Is there better way to implement Scheduler based project?","body":"<p>In My Team we have lot of similar project,</p>\n<ol>\n<li>which fetches the data from central hub periodically and save it to local db.</li>\n<li>We create Elastic Data index from local db.</li>\n<li>We have backend module to Provide this elastic data to UI Dashboard.</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/ksQk7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ksQk7.png\" alt=\"Architecture diagram would be as follows\" /></a></p>\n<p>Is there any better way to do this ?</p>\n"},{"tags":["java","mybatis"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1621522699,"post_id":67622739,"comment_id":119526874,"body_markdown":"Does the article with the id you&#39;re querying for exist? Could there be concurrent modifications, e.g. the article being created or deleted in &quot;parallel&quot; transactions so that isolation hits you? - &quot;Occasionally&quot; isn&#39;t an easy thing to debug or solve, especially given the limited amount of information you can provide here. You should try to gather more information so maybe a pattern emerges that let&#39;s you reproduce the behavior. Information how to reproduce it or at least info like &quot;it mostly happens when xyz happens as well&quot; would help to narrow down the cause for this.","body":"Does the article with the id you&#39;re querying for exist? Could there be concurrent modifications, e.g. the article being created or deleted in &quot;parallel&quot; transactions so that isolation hits you? - &quot;Occasionally&quot; isn&#39;t an easy thing to debug or solve, especially given the limited amount of information you can provide here. You should try to gather more information so maybe a pattern emerges that let&#39;s you reproduce the behavior. Information how to reproduce it or at least info like &quot;it mostly happens when xyz happens as well&quot; would help to narrow down the cause for this."},{"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"score":0,"creation_date":1621534843,"post_id":67622739,"comment_id":119532310,"body_markdown":"This problem makes me so confused. I will try to reproduce it.@Thomas","body":"This problem makes me so confused. I will try to reproduce it.@Thomas"}],"answers":[{"tags":[],"owner":{"account_id":29661631,"reputation":1,"user_id":22733060,"display_name":"anonna"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697177455,"creation_date":1697177235,"answer_id":77285421,"question_id":67622739,"body_markdown":"I observe this after I use `selectByPrimaryKey(null)` to query record.  I add a check before `selectByPrimaryKey` to ensure that it cannot get a null parameter. And other `selectByPrimary(id)` is OK.  \r\n","title":"MyBatis could not get record when using selectByPrimaryKey ocassionally","body":"<p>I observe this after I use <code>selectByPrimaryKey(null)</code> to query record.  I add a check before <code>selectByPrimaryKey</code> to ensure that it cannot get a null parameter. And other <code>selectByPrimary(id)</code> is OK.</p>\n"}],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697177455,"creation_date":1621522000,"question_id":67622739,"body_markdown":"Today I found the same http request to the backend api server, sometimes it could fetch the article, sometimes it could not fetch the article, this is my code:\r\n\r\n\r\n\r\n\r\n    Article article = articleMapper.selectByPrimaryKey(id);\r\n\r\n\r\n\r\nand this is the code generate automaticlly using MyBatis Generator:\r\n\r\n\r\n\r\n     &lt;select id=&quot;selectByPrimaryKey&quot; parameterType=&quot;java.lang.Long&quot; resultMap=&quot;BaseResultMap&quot;&gt;\r\n        &lt;!--\r\n          WARNING - @mbggenerated\r\n          This element is automatically generated by MyBatis Generator, do not modify.\r\n        --&gt;\r\n        select \r\n        &lt;include refid=&quot;Base_Column_List&quot; /&gt;\r\n        from article\r\n        where id = #{id,jdbcType=BIGINT}\r\n      &lt;/select&gt;\r\n\r\n\r\nthe same http request, with the same article id. I do not know where is going wrong.My PostgreSQL version is 13. And this is my auto generate xml config:\r\n\r\n\r\n\r\n     &lt;table tableName=&quot;article&quot;\r\n                enableCountByExample=&quot;true&quot;\r\n                enableUpdateByExample=&quot;true&quot;\r\n                enableDeleteByExample=&quot;true&quot;\r\n                enableSelectByExample=&quot;true&quot;\r\n                selectByExampleQueryId=&quot;true&quot;&gt;\r\n                &lt;generatedKey column=&quot;ID&quot; sqlStatement=&quot;JDBC&quot; identity=&quot;true&quot; /&gt;\r\n            &lt;/table&gt;\r\n\r\n\r\n\r\nany clue to figure out what wrong with the code? I am a newbie about PostgreSQL as backend database.\r\n\r\n\r\n* Does the article with the id you&#39;re querying for exist? Yes, I am sure the ID exists.\r\n\r\n\r\n* Could there be concurrent modifications? No, It is impossible. I will never edit the article after write into database. No transactions,The article is an old article.\r\n\r\n\r\n\r\n\r\n\r\n","title":"MyBatis could not get record when using selectByPrimaryKey ocassionally","body":"<p>Today I found the same http request to the backend api server, sometimes it could fetch the article, sometimes it could not fetch the article, this is my code:</p>\n<pre><code>Article article = articleMapper.selectByPrimaryKey(id);\n</code></pre>\n<p>and this is the code generate automaticlly using MyBatis Generator:</p>\n<pre><code> &lt;select id=&quot;selectByPrimaryKey&quot; parameterType=&quot;java.lang.Long&quot; resultMap=&quot;BaseResultMap&quot;&gt;\n    &lt;!--\n      WARNING - @mbggenerated\n      This element is automatically generated by MyBatis Generator, do not modify.\n    --&gt;\n    select \n    &lt;include refid=&quot;Base_Column_List&quot; /&gt;\n    from article\n    where id = #{id,jdbcType=BIGINT}\n  &lt;/select&gt;\n</code></pre>\n<p>the same http request, with the same article id. I do not know where is going wrong.My PostgreSQL version is 13. And this is my auto generate xml config:</p>\n<pre><code> &lt;table tableName=&quot;article&quot;\n            enableCountByExample=&quot;true&quot;\n            enableUpdateByExample=&quot;true&quot;\n            enableDeleteByExample=&quot;true&quot;\n            enableSelectByExample=&quot;true&quot;\n            selectByExampleQueryId=&quot;true&quot;&gt;\n            &lt;generatedKey column=&quot;ID&quot; sqlStatement=&quot;JDBC&quot; identity=&quot;true&quot; /&gt;\n        &lt;/table&gt;\n</code></pre>\n<p>any clue to figure out what wrong with the code? I am a newbie about PostgreSQL as backend database.</p>\n<ul>\n<li><p>Does the article with the id you're querying for exist? Yes, I am sure the ID exists.</p>\n</li>\n<li><p>Could there be concurrent modifications? No, It is impossible. I will never edit the article after write into database. No transactions,The article is an old article.</p>\n</li>\n</ul>\n"},{"tags":["java","groovy","intellij-idea"],"comments":[{"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"score":2,"creation_date":1616754629,"post_id":5010362,"comment_id":118107767,"body_markdown":"Please re-read the answers. Since at least 2016.3, there is a much better way. See answer from @Birchlabs for details. It should now be the accepted answer.","body":"Please re-read the answers. Since at least 2016.3, there is a much better way. See answer from @Birchlabs for details. It should now be the accepted answer."},{"owner":{"account_id":4534566,"reputation":4099,"user_id":3684132,"accept_rate":63,"display_name":"BAERUS"},"score":1,"creation_date":1630055022,"post_id":5010362,"comment_id":121856324,"body_markdown":"Agreed, birchlabs answer is exactly what&#39;s asked for. Helped me out a lot, wonderful!","body":"Agreed, birchlabs answer is exactly what&#39;s asked for. Helped me out a lot, wonderful!"}],"answers":[{"tags":[],"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"down_vote_count":0,"up_vote_count":46,"is_accepted":false,"score":46,"last_activity_date":1683737832,"creation_date":1297810286,"answer_id":5010479,"question_id":5010362,"body_markdown":"There is **Watch method return values** button available in the [debugger panel][1].\r\n\r\n&gt; **Watch method return values**: Click this button to watch return values of the last executed method.\r\n\r\n![watch method return values][2]\r\n\r\nSince IDEA version 12, it is found in the debugger panel&#39;s Settings menu (the gear icon in the bottom left) which includes &quot;Show Method Return Values&quot;\r\n\r\n  [1]: http://www.jetbrains.com/idea/webhelp/debug-tool-window-variables.html\r\n  [2]: http://i.stack.imgur.com/wH2F5.png\r\n  [3]: http://i.stack.imgur.com/6Nm3c.png","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>There is <strong>Watch method return values</strong> button available in the <a href=\"http://www.jetbrains.com/idea/webhelp/debug-tool-window-variables.html\" rel=\"nofollow noreferrer\">debugger panel</a>.</p>\n<blockquote>\n<p><strong>Watch method return values</strong>: Click this button to watch return values of the last executed method.</p>\n</blockquote>\n<p><img src=\"https://i.stack.imgur.com/wH2F5.png\" alt=\"watch method return values\" /></p>\n<p>Since IDEA version 12, it is found in the debugger panel's Settings menu (the gear icon in the bottom left) which includes &quot;Show Method Return Values&quot;</p>\n"},{"tags":[],"owner":{"account_id":291176,"reputation":2015,"user_id":593172,"accept_rate":89,"display_name":"jluzwick"},"down_vote_count":2,"up_vote_count":35,"is_accepted":true,"score":33,"last_activity_date":1297818633,"creation_date":1297818117,"answer_id":5011418,"question_id":5010362,"body_markdown":"There seems to be a couple ways you can do this.  The first one involves setting up the breakpoint on the method signature, in your case you would setup a breakpoint on Object method(){  .  This will allow you to watch for the entrance and exit of the method.  I believe you have to use this in conjunction with &quot;**Watch method return values&quot;** like stated above, but I haven&#39;t been able to completely test this as it takes too long to compute. Beware, this does dramatically decrease the performance of the debugger and it will take longer to debug.\r\n\r\n\r\nAlso you can do the following manually. \r\n\r\n 1. Setup the breakpoint on the return line.\r\n 2. When the return line is hit, click on the return line, specifically put the cursor on the operation that you want to see, then go to Run-&gt;Evaluate Expression (or Alt-F8) and it should run the expression at that point and return what it&#39;s returning.\r\n\r\n**Note**: If you create a breakpoint, there are a lot of things you can tell IDEA to do with them, such as if you break on a breakpoint, you can tell them to perform an expression and log it.  You can look around with what you can do if you right-click on a breakpoint and click properties.\r\n\r\n***UPDATE***:\r\nTry this in conjunction with the first way of doing it.  Don&#39;t use &quot;Watch method return values&quot; as it seems to slow down or freeze up the debugging session.  Instead do the following\r\n\r\n 1. Right-click on the return expression you want to see and click &quot;Add to Watches&quot;\r\n 2. Next add a method breakpoint like stated above. \r\n 3. Debug your program and your method will break on the method signature. \r\n 4. Hit the F9 key for continue and it should break again ***AFTER*** the return expression has been computed and your return expression should be in the watch column.\r\n\r\nRemember that method breakpoints are slower so it might take more time, a tricky way to improve this if you are noticing too much of a performance hit is by just setting the return statement breakpoint (without having a method breakpoint) and then adding the method breakpoint ***AFTER*** the return statement breakpoint hits and then continuing.\r\n\r\n\r\nHope this helps,","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>There seems to be a couple ways you can do this.  The first one involves setting up the breakpoint on the method signature, in your case you would setup a breakpoint on Object method(){  .  This will allow you to watch for the entrance and exit of the method.  I believe you have to use this in conjunction with \"<strong>Watch method return values\"</strong> like stated above, but I haven't been able to completely test this as it takes too long to compute. Beware, this does dramatically decrease the performance of the debugger and it will take longer to debug.</p>\n\n<p>Also you can do the following manually. </p>\n\n<ol>\n<li>Setup the breakpoint on the return line.</li>\n<li>When the return line is hit, click on the return line, specifically put the cursor on the operation that you want to see, then go to Run->Evaluate Expression (or Alt-F8) and it should run the expression at that point and return what it's returning.</li>\n</ol>\n\n<p><strong>Note</strong>: If you create a breakpoint, there are a lot of things you can tell IDEA to do with them, such as if you break on a breakpoint, you can tell them to perform an expression and log it.  You can look around with what you can do if you right-click on a breakpoint and click properties.</p>\n\n<p><em><strong>UPDATE</em></strong>:\nTry this in conjunction with the first way of doing it.  Don't use \"Watch method return values\" as it seems to slow down or freeze up the debugging session.  Instead do the following</p>\n\n<ol>\n<li>Right-click on the return expression you want to see and click \"Add to Watches\"</li>\n<li>Next add a method breakpoint like stated above. </li>\n<li>Debug your program and your method will break on the method signature. </li>\n<li>Hit the F9 key for continue and it should break again <strong><em>AFTER</em></strong> the return expression has been computed and your return expression should be in the watch column.</li>\n</ol>\n\n<p>Remember that method breakpoints are slower so it might take more time, a tricky way to improve this if you are noticing too much of a performance hit is by just setting the return statement breakpoint (without having a method breakpoint) and then adding the method breakpoint <strong><em>AFTER</em></strong> the return statement breakpoint hits and then continuing.</p>\n\n<p>Hope this helps,</p>\n"},{"tags":[],"owner":{"account_id":6835055,"reputation":7617,"user_id":5257399,"accept_rate":80,"display_name":"Birchlabs"},"down_vote_count":2,"up_vote_count":246,"is_accepted":false,"score":244,"last_activity_date":1477408258,"creation_date":1460456814,"answer_id":36570524,"question_id":5010362,"body_markdown":"On IntelliJ IDEA 2016.3: it&#39;s hidden inside the cog button of the debug panel. Ensure `Show Method Return Values` is _checked_.\r\n\r\n[![IntelliJ IDEA 2016.3 &quot;Show Method Return Values&quot;][1]][1]\r\n\r\n\r\nUse the debugger to _break somewhere inside_ the function whose return value you&#39;d like to see.\r\n\r\n[![step into function][2]][2]\r\n\r\n_Step out_ of the function (or _step over_ until you escape):\r\n\r\n[![step out][3]][3]\r\n\r\nObserve that the return value appears in your variables:\r\n\r\n[![observe the return value][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5ei7C.png\r\n  [2]: https://i.stack.imgur.com/8vLIg.png\r\n  [3]: https://i.stack.imgur.com/83Fvi.png\r\n  [4]: https://i.stack.imgur.com/2qafi.png","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>On IntelliJ IDEA 2016.3: it's hidden inside the cog button of the debug panel. Ensure <code>Show Method Return Values</code> is <em>checked</em>.</p>\n\n<p><a href=\"https://i.stack.imgur.com/5ei7C.png\"><img src=\"https://i.stack.imgur.com/5ei7C.png\" alt=\"IntelliJ IDEA 2016.3 &quot;Show Method Return Values&quot;\"></a></p>\n\n<p>Use the debugger to <em>break somewhere inside</em> the function whose return value you'd like to see.</p>\n\n<p><a href=\"https://i.stack.imgur.com/8vLIg.png\"><img src=\"https://i.stack.imgur.com/8vLIg.png\" alt=\"step into function\"></a></p>\n\n<p><em>Step out</em> of the function (or <em>step over</em> until you escape):</p>\n\n<p><a href=\"https://i.stack.imgur.com/83Fvi.png\"><img src=\"https://i.stack.imgur.com/83Fvi.png\" alt=\"step out\"></a></p>\n\n<p>Observe that the return value appears in your variables:</p>\n\n<p><a href=\"https://i.stack.imgur.com/2qafi.png\"><img src=\"https://i.stack.imgur.com/2qafi.png\" alt=\"observe the return value\"></a></p>\n"},{"tags":[],"owner":{"account_id":2778814,"reputation":1045,"user_id":2391790,"accept_rate":70,"display_name":"unlimitednzt"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1664349394,"creation_date":1531901537,"answer_id":51396825,"question_id":5010362,"body_markdown":"This was asked a while ago, but I use a different method when I want to handle this situation.\r\n\r\nWhen debugging, you can mark the expression (in your case, the expression right after the &quot;return&quot;) and hit &lt;kbd&gt;CTRL&lt;/kbd&gt; + &lt;kbd&gt;ALT&lt;/kbd&gt; + &lt;kbd&gt;F8&lt;/kbd&gt; (Quick Evaluate Expression). IntelliJ will pop up a little window showing you the value that will be returned.","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>This was asked a while ago, but I use a different method when I want to handle this situation.</p>\n<p>When debugging, you can mark the expression (in your case, the expression right after the &quot;return&quot;) and hit <kbd>CTRL</kbd> + <kbd>ALT</kbd> + <kbd>F8</kbd> (Quick Evaluate Expression). IntelliJ will pop up a little window showing you the value that will be returned.</p>\n"},{"tags":[],"owner":{"account_id":7032595,"reputation":132,"user_id":5387752,"display_name":"Edvaaart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667821290,"creation_date":1667821290,"answer_id":74346035,"question_id":5010362,"body_markdown":"Since the accepted answer did not exactly answer all my scenarios (or at least I could not get them to work reading the instructions) in which I need this, I felt free to also post an answer that solves it for my specific situation. \r\n\r\nI have some additional requirements when trying to inspect the return value. \r\n\r\n 1. I do not want to leave the scope of the method from which we return.\r\n \r\n 2. I do not want to call the\r\n    method in the return statement twice (once for inspecting and once\r\n    when actually returning) as nicely demonstrated by using `Math.random()` in the example.\r\n\r\nFor me the solution was rather unexpected. After fiddling around with **Step Over** (as opposed to **Step Out**), I came up with the following construction:\r\n\r\nInstead of using\r\n\r\n    private double rand() {\r\n    \treturn Math.random();\r\n    }\r\n\r\nI use\r\n\r\n    private double rand() {\r\n    \treturn \r\n          Math.random();\r\n    }\r\n\r\nWhen your cursor is at `Math.random()`, select **Step Over** and it will show the value in the watch window, without leaving the calling scope of the `rand()`.\r\n\r\nSo it appears the **Step Over** mentioned in the accepted answer does not solve the issue if the `return` keyword is on the same line as the expression you are trying to inspect. Which of course makes sense from a syntactic point of view. \r\n\r\nI guess this still might pose problems for autoformatters that  reduce those two lines to a single one, but for me this finally solved my debugging problem.","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>Since the accepted answer did not exactly answer all my scenarios (or at least I could not get them to work reading the instructions) in which I need this, I felt free to also post an answer that solves it for my specific situation.</p>\n<p>I have some additional requirements when trying to inspect the return value.</p>\n<ol>\n<li><p>I do not want to leave the scope of the method from which we return.</p>\n</li>\n<li><p>I do not want to call the\nmethod in the return statement twice (once for inspecting and once\nwhen actually returning) as nicely demonstrated by using <code>Math.random()</code> in the example.</p>\n</li>\n</ol>\n<p>For me the solution was rather unexpected. After fiddling around with <strong>Step Over</strong> (as opposed to <strong>Step Out</strong>), I came up with the following construction:</p>\n<p>Instead of using</p>\n<pre><code>private double rand() {\n    return Math.random();\n}\n</code></pre>\n<p>I use</p>\n<pre><code>private double rand() {\n    return \n      Math.random();\n}\n</code></pre>\n<p>When your cursor is at <code>Math.random()</code>, select <strong>Step Over</strong> and it will show the value in the watch window, without leaving the calling scope of the <code>rand()</code>.</p>\n<p>So it appears the <strong>Step Over</strong> mentioned in the accepted answer does not solve the issue if the <code>return</code> keyword is on the same line as the expression you are trying to inspect. Which of course makes sense from a syntactic point of view.</p>\n<p>I guess this still might pose problems for autoformatters that  reduce those two lines to a single one, but for me this finally solved my debugging problem.</p>\n"},{"tags":[],"owner":{"account_id":19039335,"reputation":556,"user_id":13899808,"display_name":"H&#252;seyin Aydın"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683737550,"creation_date":1683732619,"answer_id":76220241,"question_id":5010362,"body_markdown":"You can add return line to watch list in order to see the result without returning. Follow the steps below:\r\n\r\n\r\n 1. Select the return line completely\r\n 2. Right click to selection\r\n 3. Select `Add to Watches`\r\n\r\nNow you can see the return result in debugger.\r\n\r\n","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>You can add return line to watch list in order to see the result without returning. Follow the steps below:</p>\n<ol>\n<li>Select the return line completely</li>\n<li>Right click to selection</li>\n<li>Select <code>Add to Watches</code></li>\n</ol>\n<p>Now you can see the return result in debugger.</p>\n"}],"owner":{"account_id":87908,"reputation":21547,"user_id":243494,"accept_rate":81,"display_name":"Kyle"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52846,"favorite_count":0,"down_vote_count":0,"up_vote_count":194,"accepted_answer_id":5011418,"answer_count":6,"score":194,"last_activity_date":1697176670,"creation_date":1297809560,"question_id":5010362,"body_markdown":"With:\r\n\r\n    Object method(){\r\n        ...\r\n        return /* some complex expression */\r\n    }\r\n\r\nIs there a way I can see what value will be returned while debugging? Like somehow set a breakpoint that would be hit right after the return, but before execution goes to the calling code?  I&#39;d like to be able to know what the return value is and also be able to see what values of all of the local variables are.\r\n\r\nThe way I do it now is by making a temporary variable: `Object ret = /* something complex */; return ret;`. But that&#39;s a hassle and also adds an extra unnecessary line of code.\r\n\r\n\r\nNote: This is the same question as https://stackoverflow.com/questions/268048/can-i-find-out-the-return-value-before-returning-while-debugging-in-visual-studio, but for IntelliJ.","title":"Can I find out the return value before returning while debugging in IntelliJ?","body":"<p>With:</p>\n<pre><code>Object method(){\n    ...\n    return /* some complex expression */\n}\n</code></pre>\n<p>Is there a way I can see what value will be returned while debugging? Like somehow set a breakpoint that would be hit right after the return, but before execution goes to the calling code?  I'd like to be able to know what the return value is and also be able to see what values of all of the local variables are.</p>\n<p>The way I do it now is by making a temporary variable: <code>Object ret = /* something complex */; return ret;</code>. But that's a hassle and also adds an extra unnecessary line of code.</p>\n<p>Note: This is the same question as <a href=\"https://stackoverflow.com/questions/268048/can-i-find-out-the-return-value-before-returning-while-debugging-in-visual-studio\">Can I find out the return value before returning while debugging in Visual Studio?</a>, but for IntelliJ.</p>\n"},{"tags":["java","android-studio","keyboard","android-softkeyboard","android-custom-keyboard"],"owner":{"account_id":21229242,"reputation":1,"user_id":15614284,"display_name":"AhsanSheikh6"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697176225,"creation_date":1697176225,"question_id":77285333,"body_markdown":"I have developed a custom keyboard and its sending stickers and gifs alright but the problem which is occurring is that whatsapp supports 512x512px stickers only and my mobile&#39;s massenger supports 420x420 stickers so, HOW do I know which app is currently running besides my custom keyboard so that I could send the correctly formatted stickers. Any help is appreciated and if any other approach might be viable so please do tell. Thank you \r\n\r\nI have tried numerous things but some code only give the name which is on top of the stack which in this case is my keyboard but I cant get the name of current opened massenger app&#39;s name","title":"How to get the name of current opened application in android studio","body":"<p>I have developed a custom keyboard and its sending stickers and gifs alright but the problem which is occurring is that whatsapp supports 512x512px stickers only and my mobile's massenger supports 420x420 stickers so, HOW do I know which app is currently running besides my custom keyboard so that I could send the correctly formatted stickers. Any help is appreciated and if any other approach might be viable so please do tell. Thank you</p>\n<p>I have tried numerous things but some code only give the name which is on top of the stack which in this case is my keyboard but I cant get the name of current opened massenger app's name</p>\n"},{"tags":["java","maven","lombok"],"answers":[{"tags":[],"owner":{"account_id":7297,"reputation":32768,"user_id":12634,"accept_rate":75,"display_name":"Roel Spilker"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1450703866,"creation_date":1450703866,"answer_id":34396649,"question_id":34358689,"body_markdown":"Could it be that you&#39;ve specified `-proc:none` or explicitly specified annotation processors using `-processor &lt;processorclass&gt;` in your java compilation (javac)?","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>Could it be that you've specified <code>-proc:none</code> or explicitly specified annotation processors using <code>-processor &lt;processorclass&gt;</code> in your java compilation (javac)?</p>\n"},{"tags":[],"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"down_vote_count":1,"up_vote_count":13,"is_accepted":true,"score":12,"last_activity_date":1450792555,"creation_date":1450792555,"answer_id":34417495,"question_id":34358689,"body_markdown":"I have downgraded the lombok to 1.14.8 this version works with maven build, I havent found why the 1.16 verson is not working :( ","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>I have downgraded the lombok to 1.14.8 this version works with maven build, I havent found why the 1.16 verson is not working :( </p>\n"},{"tags":[],"owner":{"account_id":6743416,"reputation":421,"user_id":5195843,"display_name":"Andrew Onischenko"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1453826663,"creation_date":1453826663,"answer_id":35019148,"question_id":34358689,"body_markdown":"Had the same problem using maven-compiler-plugin v.2.3.2\r\nAfter updating the version up to 3.5 problem disappeared\r\n\r\n\t&lt;plugin&gt;\r\n\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.5&lt;/version&gt;\r\n\t\t&lt;configuration&gt;\r\n\t\t\t...\r\n\t\t&lt;/configuration&gt;\r\n\t&lt;/plugin&gt;\r\n\r\nHope this helps","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>Had the same problem using maven-compiler-plugin v.2.3.2\nAfter updating the version up to 3.5 problem disappeared</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.5&lt;/version&gt;\n    &lt;configuration&gt;\n        ...\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>Hope this helps</p>\n"},{"tags":[],"owner":{"account_id":3990113,"reputation":455,"user_id":3289354,"display_name":"liudongmiao"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466671461,"creation_date":1458568610,"answer_id":36132959,"question_id":34358689,"body_markdown":"In short, upgrade `maven-compiler-plugin` to up `2.4`, or downgrade `lombok` to below `1.14.*`.\r\n\r\n&lt;strike&gt;It seems that `maven-compiler-plugin` below `2.4` doesn&#39;t support `javax.annotation.processing.Processor` with a name with `$`.&lt;/strike&gt;\r\n\r\nUpdate: You can configuration `maven-compiler-plugin` to `fork`, or update `plexus-compiler-javac` to `1.8.6`. (`maven-compiler-plugin` `2.3.2` requires `1.8.1`, and `2.4` requires `1.8.6`)\r\n\r\nSince `1.16`, lombok uses `ShadowClassLoader`, which prevents the IDE promotion for lombok&#39;s internal class. However, it doesn&#39;t use the `ShadowClassLoader` if the classloader is `org.codehaus.plexus.compiler.javac.IsolatedClassLoader`. (I don&#39;t known why lombok guys use hard code to solve other issue *may* related with `plexus-compiler-javac`.)\r\n\r\n`maven-compiler-plugin` `2.4`, or rather,  `plexus-compiler-javac` `1.8.6`, doesn&#39;t use `org.codehaus.plexus.compiler.javac.IsolatedClassLoader`, so it works again.","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>In short, upgrade <code>maven-compiler-plugin</code> to up <code>2.4</code>, or downgrade <code>lombok</code> to below <code>1.14.*</code>.</p>\n\n<p><strike>It seems that <code>maven-compiler-plugin</code> below <code>2.4</code> doesn't support <code>javax.annotation.processing.Processor</code> with a name with <code>$</code>.</strike></p>\n\n<p>Update: You can configuration <code>maven-compiler-plugin</code> to <code>fork</code>, or update <code>plexus-compiler-javac</code> to <code>1.8.6</code>. (<code>maven-compiler-plugin</code> <code>2.3.2</code> requires <code>1.8.1</code>, and <code>2.4</code> requires <code>1.8.6</code>)</p>\n\n<p>Since <code>1.16</code>, lombok uses <code>ShadowClassLoader</code>, which prevents the IDE promotion for lombok's internal class. However, it doesn't use the <code>ShadowClassLoader</code> if the classloader is <code>org.codehaus.plexus.compiler.javac.IsolatedClassLoader</code>. (I don't known why lombok guys use hard code to solve other issue <em>may</em> related with <code>plexus-compiler-javac</code>.)</p>\n\n<p><code>maven-compiler-plugin</code> <code>2.4</code>, or rather,  <code>plexus-compiler-javac</code> <code>1.8.6</code>, doesn't use <code>org.codehaus.plexus.compiler.javac.IsolatedClassLoader</code>, so it works again.</p>\n"},{"tags":[],"owner":{"account_id":2279339,"reputation":5596,"user_id":2004857,"accept_rate":43,"display_name":"Victor Basso"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1464875893,"creation_date":1464875893,"answer_id":37594029,"question_id":34358689,"body_markdown":"In my case it was solved by upgrading JDK (was 1.8.0_66, now 1.8.0_92)","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>In my case it was solved by upgrading JDK (was 1.8.0_66, now 1.8.0_92)</p>\n"},{"tags":[],"owner":{"account_id":2791660,"reputation":29,"user_id":2401788,"display_name":"vishal"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1478583928,"creation_date":1478583928,"answer_id":40479806,"question_id":34358689,"body_markdown":"If you are using lombok annotations in static classes in that case you will have to mention the full name of the class ie. instead of `@Data` to `@lombok.Data` . This has worked for me.","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>If you are using lombok annotations in static classes in that case you will have to mention the full name of the class ie. instead of <code>@Data</code> to <code>@lombok.Data</code> . This has worked for me.</p>\n"},{"tags":[],"owner":{"account_id":95142,"reputation":543,"user_id":259294,"display_name":"Gilad Bar Orion"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1480338536,"creation_date":1480335593,"answer_id":40844182,"question_id":34358689,"body_markdown":"If you&#39;re using Lombok related static methods (mainly @Builder) with static imports, you might experience similar issues (even in other parts of your code!).\r\n\r\nThere is an open issue about it: https://github.com/rzwitserloot/lombok/issues/979\r\n\r\nThe current workaround is to simply not use static imports, e.g. change \r\n\r\n    import static my.org.Foo.FooBuilder\r\n     ...\r\n    FooBuilder builder = Foo.builder();\r\n\r\nto: \r\n\r\n    Foo.FooBuilder builder = Foo.builder(); // note &gt;&gt;Foo.&lt;&lt;FooBuilder; without static import\r\n\r\n","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>If you're using Lombok related static methods (mainly @Builder) with static imports, you might experience similar issues (even in other parts of your code!).</p>\n\n<p>There is an open issue about it: <a href=\"https://github.com/rzwitserloot/lombok/issues/979\" rel=\"noreferrer\">https://github.com/rzwitserloot/lombok/issues/979</a></p>\n\n<p>The current workaround is to simply not use static imports, e.g. change </p>\n\n<pre><code>import static my.org.Foo.FooBuilder\n ...\nFooBuilder builder = Foo.builder();\n</code></pre>\n\n<p>to: </p>\n\n<pre><code>Foo.FooBuilder builder = Foo.builder(); // note &gt;&gt;Foo.&lt;&lt;FooBuilder; without static import\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11176081,"reputation":517,"user_id":8201635,"display_name":"B. Stackhouse"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1504051348,"creation_date":1504051348,"answer_id":45949974,"question_id":34358689,"body_markdown":"My solution was to prefix the annotation with lombok package name.\r\n\r\n    @lombok.Builder\r\n    @lombok.experimental.Accessors(prefix = &quot;m&quot;, chain = true)\r\n\r\nrather than\r\n\r\n    @Builder\r\n    @Accessors(prefix = &quot;m&quot;, chain = true)\r\n","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>My solution was to prefix the annotation with lombok package name.</p>\n\n<pre><code>@lombok.Builder\n@lombok.experimental.Accessors(prefix = \"m\", chain = true)\n</code></pre>\n\n<p>rather than</p>\n\n<pre><code>@Builder\n@Accessors(prefix = \"m\", chain = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2496386,"reputation":378,"user_id":2172637,"accept_rate":79,"display_name":"0x52616A657368"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1510609120,"creation_date":1510609120,"answer_id":47273992,"question_id":34358689,"body_markdown":"try to specify &lt;type&gt; parameter for &quot;lombok&quot; module within dependencies.I faced the same issue and resolved this by this work around.","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>try to specify  parameter for \"lombok\" module within dependencies.I faced the same issue and resolved this by this work around.</p>\n"},{"tags":[],"owner":{"account_id":5066727,"reputation":3340,"user_id":4066662,"accept_rate":38,"display_name":"Fabian"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1620813864,"creation_date":1527716866,"answer_id":50613789,"question_id":34358689,"body_markdown":"I was actually able to solve this by following an answer posted here :\r\n\r\nhttps://stackoverflow.com/questions/47676369\r\n\r\nBasically I had to add `lombok` to the `maven-compiler-plugin` `&lt;annotationProcessorPaths&gt;`","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>I was actually able to solve this by following an answer posted here :</p>\n<p><a href=\"https://stackoverflow.com/questions/47676369\">MapStruct and Lombok not working together</a></p>\n<p>Basically I had to add <code>lombok</code> to the <code>maven-compiler-plugin</code> <code>&lt;annotationProcessorPaths&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":16235797,"reputation":31,"user_id":11723321,"display_name":"朱正欢"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561980529,"creation_date":1561974376,"answer_id":56833405,"question_id":34358689,"body_markdown":"I don&#39;t know but for some reason it solves my problem.\r\n\r\nI have two classes that use @Builder to generate a build method. But one is normal, the other one is abnormal. I have checked everything and it seems ok.\r\nBut when I run `mvn` to compile my project, the error is as follows:\r\n\r\n&gt; Can&#39;t not find the symbol\r\nmethod builder()\r\n\r\n\r\n\r\n    import lombok.*;\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    class A {\r\n     \r\n    }\r\n\r\n\r\n    import lombok.*;\r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    class B {\r\n     \r\n    }\r\n\r\nClass A compiles correctly, but Class B reports the problem above.\r\n\r\nI tried to replace the version of the Lombok JAR, but even though I set the version to latest, it&#39;s not ok.\r\n\r\nSo, I tried to import Lombok per class that I reference. \r\n\r\n    import lombok.AllArgsConstructor;\r\n    import lombok.Builder;\r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @Data\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Builder\r\n    class B {\r\n     \r\n    }\r\n\r\nIt works! It seems a bug. ","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>I don't know but for some reason it solves my problem.</p>\n\n<p>I have two classes that use @Builder to generate a build method. But one is normal, the other one is abnormal. I have checked everything and it seems ok.\nBut when I run <code>mvn</code> to compile my project, the error is as follows:</p>\n\n<blockquote>\n  <p>Can't not find the symbol\n  method builder()</p>\n</blockquote>\n\n<pre><code>import lombok.*;\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\nclass A {\n\n}\n\n\nimport lombok.*;\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\nclass B {\n\n}\n</code></pre>\n\n<p>Class A compiles correctly, but Class B reports the problem above.</p>\n\n<p>I tried to replace the version of the Lombok JAR, but even though I set the version to latest, it's not ok.</p>\n\n<p>So, I tried to import Lombok per class that I reference. </p>\n\n<pre><code>import lombok.AllArgsConstructor;\nimport lombok.Builder;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@Data\n@AllArgsConstructor\n@NoArgsConstructor\n@Builder\nclass B {\n\n}\n</code></pre>\n\n<p>It works! It seems a bug. </p>\n"},{"tags":[],"owner":{"account_id":7533198,"reputation":1546,"user_id":5720532,"display_name":"Abderrazzak Nejeoui"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1616168558,"creation_date":1616168558,"answer_id":66711307,"question_id":34358689,"body_markdown":"For other users using JDK9 and above you should add annotationProcessorPaths to maven compiler plugin\r\n```\r\n&lt;annotationProcessorPaths&gt;\r\n\t&lt;path&gt;\r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.18.16&lt;/version&gt;\r\n\t&lt;/path&gt;\r\n&lt;/annotationProcessorPaths&gt;\r\n```","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>For other users using JDK9 and above you should add annotationProcessorPaths to maven compiler plugin</p>\n<pre><code>&lt;annotationProcessorPaths&gt;\n    &lt;path&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;version&gt;1.18.16&lt;/version&gt;\n    &lt;/path&gt;\n&lt;/annotationProcessorPaths&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1476678,"reputation":7374,"user_id":1386911,"accept_rate":56,"display_name":"Daniel H&#225;ri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1647610022,"creation_date":1647610022,"answer_id":71527754,"question_id":34358689,"body_markdown":"For me the solution was, to **do not use** `import static` on lombok builder. Changing:\r\n\r\n    import static Foo.builder;\r\n\r\n    builder().id(1).build()\r\n\r\nTo:\r\n\r\n    Foo.builder().id(1).build()\r\n\r\n","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>For me the solution was, to <strong>do not use</strong> <code>import static</code> on lombok builder. Changing:</p>\n<pre><code>import static Foo.builder;\n\nbuilder().id(1).build()\n</code></pre>\n<p>To:</p>\n<pre><code>Foo.builder().id(1).build()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14969595,"reputation":21,"user_id":11359147,"display_name":"lucasheartcliff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649173975,"creation_date":1649173975,"answer_id":71754878,"question_id":34358689,"body_markdown":"In my case i have got this error because a compile error in other class but the lombok was suppressing the real problem.\r\nI recommend you to take a look in your classes to find some error.\r\nI hope it helps you","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>In my case i have got this error because a compile error in other class but the lombok was suppressing the real problem.\nI recommend you to take a look in your classes to find some error.\nI hope it helps you</p>\n"},{"tags":[],"owner":{"account_id":271557,"reputation":12418,"user_id":562154,"accept_rate":75,"display_name":"Xiao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1650347756,"creation_date":1650343918,"answer_id":71919832,"question_id":34358689,"body_markdown":"In my case, I fixed two config and it works.\r\n1. someone set compiler args to `-proc:none` in compiler args:\r\n\r\n   ```\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${maven_compiler_version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;compilerArgs&gt;\r\n                &lt;!--remove below compiler arg fixed my problem--&gt;\r\n    \t        &lt;compilerArg&gt;-proc:none&lt;/compilerArg&gt;\r\n    \t        &lt;compilerArg&gt;-parameters&lt;/compilerArg&gt;\r\n            &lt;/compilerArgs&gt;\r\n            &lt;fork&gt;true&lt;/fork&gt;\r\n            &lt;source&gt;${java_source_version}&lt;/source&gt;\r\n            &lt;target&gt;${java_target_version}&lt;/target&gt;\r\n            &lt;encoding&gt;${file_encoding}&lt;/encoding&gt;\r\n        &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n2. `Build, Execution, Deployment` &gt; `Compiler` &gt; `Java Compiler` &gt; `Use compiler` is `Ajc`.\r\n\r\nI use lombok 1.18.24 and java 8.\r\n\r\nAfter remove `-proc:none` compiler argument and change compiler to `javac`, the project could be compiled in IDEA maven or in standalone maven.\r\n\r\n","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>In my case, I fixed two config and it works.</p>\n<ol>\n<li><p>someone set compiler args to <code>-proc:none</code> in compiler args:</p>\n<pre><code> &lt;plugin&gt;\n     &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n     &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n     &lt;version&gt;${maven_compiler_version}&lt;/version&gt;\n     &lt;configuration&gt;\n         &lt;compilerArgs&gt;\n             &lt;!--remove below compiler arg fixed my problem--&gt;\n             &lt;compilerArg&gt;-proc:none&lt;/compilerArg&gt;\n             &lt;compilerArg&gt;-parameters&lt;/compilerArg&gt;\n         &lt;/compilerArgs&gt;\n         &lt;fork&gt;true&lt;/fork&gt;\n         &lt;source&gt;${java_source_version}&lt;/source&gt;\n         &lt;target&gt;${java_target_version}&lt;/target&gt;\n         &lt;encoding&gt;${file_encoding}&lt;/encoding&gt;\n     &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n</li>\n<li><p><code>Build, Execution, Deployment</code> &gt; <code>Compiler</code> &gt; <code>Java Compiler</code> &gt; <code>Use compiler</code> is <code>Ajc</code>.</p>\n</li>\n</ol>\n<p>I use lombok 1.18.24 and java 8.</p>\n<p>After remove <code>-proc:none</code> compiler argument and change compiler to <code>javac</code>, the project could be compiled in IDEA maven or in standalone maven.</p>\n"},{"tags":[],"owner":{"account_id":9630589,"reputation":1,"user_id":7148647,"display_name":"Tachiguishi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653259306,"creation_date":1653259306,"answer_id":72341767,"question_id":34358689,"body_markdown":"I designed the `&lt;annotationProcessor&gt;` in `maven-compiler-plugin`\r\n\r\n```xml\r\n&lt;build&gt;\r\n  &lt;plugins&gt;\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n      &lt;version&gt;3.8.1&lt;/version&gt;\r\n      &lt;configuration&gt;\r\n        &lt;annotationProcessors&gt;\r\n          &lt;annotationProcessor&gt;lombok.launch.AnnotationProcessorHider$AnnotationProcessor&lt;/annotationProcessor&gt;\r\n        &lt;/annotationProcessors&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n  &lt;/plugins&gt;\r\n&lt;/build&gt;\r\n```","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>I designed the <code>&lt;annotationProcessor&gt;</code> in <code>maven-compiler-plugin</code></p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;build&gt;\n  &lt;plugins&gt;\n    &lt;plugin&gt;\n      &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.8.1&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;annotationProcessors&gt;\n          &lt;annotationProcessor&gt;lombok.launch.AnnotationProcessorHider$AnnotationProcessor&lt;/annotationProcessor&gt;\n        &lt;/annotationProcessors&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n  &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13222953,"reputation":731,"user_id":9549068,"display_name":"Nor.Z"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684488093,"creation_date":1684488093,"answer_id":76287708,"question_id":34358689,"body_markdown":"*If none of the other (common) answers worked for you::* \r\n\r\n*(this is an Rare case thats Unlikely to fit yours)*\r\n\r\n1. Inside my project, I had a **java file** called `Comment.java`, \\\r\n   However, the inside of it is just **BLANK** \\\r\n   (or only comments, no `public class Comments`, no package declaration). \r\n1. Run `mvn install` (using right click on the project in Eclipse)\r\n1. -&gt; Fail \\\r\n   eg:: \r\n   ```\r\n   [ERROR] /G:/XXX/XXX/XXX/src/main/java/XXXX/SomeClassAA.java:[37,28] cannot find symbol\r\n   symbol:   method add(SomeClassBB)\r\n   ```\r\n1. -&gt; To solve this, dont use a Blank java class in your project.\r\n\r\n\\---\r\n\r\n- (Also, note, sometimes you need to run `mvn install` *twice*, \\\r\n  the 1st run fails for no reason, but 2nd run success. \\\r\n  Idk why (maybe doing mvn clean 1st time). &amp; Probably not be your case.)","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p><em>If none of the other (common) answers worked for you::</em></p>\n<p><em>(this is an Rare case thats Unlikely to fit yours)</em></p>\n<ol>\n<li>Inside my project, I had a <strong>java file</strong> called <code>Comment.java</code>, <br />\nHowever, the inside of it is just <strong>BLANK</strong> <br />\n(or only comments, no <code>public class Comments</code>, no package declaration).</li>\n<li>Run <code>mvn install</code> (using right click on the project in Eclipse)</li>\n<li>-&gt; Fail <br />\neg::\n<pre><code>[ERROR] /G:/XXX/XXX/XXX/src/main/java/XXXX/SomeClassAA.java:[37,28] cannot find symbol\nsymbol:   method add(SomeClassBB)\n</code></pre>\n</li>\n<li>-&gt; To solve this, dont use a Blank java class in your project.</li>\n</ol>\n<p>---</p>\n<ul>\n<li>(Also, note, sometimes you need to run <code>mvn install</code> <em>twice</em>, <br />\nthe 1st run fails for no reason, but 2nd run success. <br />\nIdk why (maybe doing mvn clean 1st time). &amp; Probably not be your case.)</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":15782199,"reputation":69,"user_id":11388213,"display_name":"Universe Whole-Xuan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697176169,"creation_date":1697176169,"answer_id":77285331,"question_id":34358689,"body_markdown":"In my case,I annotated @Nullable into Optional generic type.It seem not unsupported this &quot;Target&quot;.\r\n\r\n    public record DTO(Optional&lt;@Nullable Integer&gt; userId){\r\n    }\r\n\r\n","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>In my case,I annotated @Nullable into Optional generic type.It seem not unsupported this &quot;Target&quot;.</p>\n<pre><code>public record DTO(Optional&lt;@Nullable Integer&gt; userId){\n}\n</code></pre>\n"}],"owner":{"account_id":153072,"reputation":4177,"user_id":368068,"accept_rate":51,"display_name":"simonC"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51903,"favorite_count":0,"down_vote_count":0,"up_vote_count":42,"accepted_answer_id":34417495,"answer_count":18,"score":42,"last_activity_date":1697176169,"creation_date":1450451750,"question_id":34358689,"body_markdown":"I&#39;m using project lombok for the first time and I have problems compiling the project via maven when I run the build I receive errors where methods annotated with project lombok annotations are called.\r\n\r\nThis is the annotated parameter:\r\n\r\n    \tprivate @Getter @Setter String paymentNonce = null;\r\n\r\nand in this line for example the maven breaks the build:\r\n\r\n\t\r\n\r\n    if (!StringUtilities.isNullOrEmpty(getPaymentNonce())) {\r\n\r\nthis is my maven dependency \r\n\r\n    &lt;dependency&gt; \r\n\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;1.16.4&lt;/version&gt; \r\n\t&lt;/dependency&gt;\r\n\r\nthe maven error:\r\n\r\n    \r\n\r\n    [INFO] Compiling 158 source files to C:\\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\target\\classes\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] COMPILATION ERROR :\r\n    [INFO] -------------------------------------------------------------\r\n    [ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[94,38] error: cannot find symbol\r\n    [ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[97,106] error: cannot find symbol\r\n    [ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[142,2] error: cannot find symbol\r\n    [ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\ShoppingCart.java:[27,6] error: cannot find symbol\r\n    [ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\ShoppingCart.java:[32,75] error: cannot find symbol\r\n    .....\r\n    \r\nI&#39;m using java 8","title":"Maven build cannot find symbol when accessing project lombok annotated methods,","body":"<p>I'm using project lombok for the first time and I have problems compiling the project via maven when I run the build I receive errors where methods annotated with project lombok annotations are called.</p>\n\n<p>This is the annotated parameter:</p>\n\n<pre><code>    private @Getter @Setter String paymentNonce = null;\n</code></pre>\n\n<p>and in this line for example the maven breaks the build:</p>\n\n<pre><code>if (!StringUtilities.isNullOrEmpty(getPaymentNonce())) {\n</code></pre>\n\n<p>this is my maven dependency </p>\n\n<pre><code>&lt;dependency&gt; \n    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n    &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n    &lt;version&gt;1.16.4&lt;/version&gt; \n&lt;/dependency&gt;\n</code></pre>\n\n<p>the maven error:</p>\n\n<pre><code>[INFO] Compiling 158 source files to C:\\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\target\\classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR :\n[INFO] -------------------------------------------------------------\n[ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[94,38] error: cannot find symbol\n[ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[97,106] error: cannot find symbol\n[ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\PaymentProcessor.java:[142,2] error: cannot find symbol\n[ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\ShoppingCart.java:[27,6] error: cannot find symbol\n[ERROR] \\java\\repos\\luna\\cloudflow\\cloudflow-ejb\\src\\main\\java\\si\\arctur\\controller\\ShoppingCart.java:[32,75] error: cannot find symbol\n.....\n</code></pre>\n\n<p>I'm using java 8</p>\n"},{"tags":["java","c++","ffi","project-panama","java-21"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":7,"creation_date":1696936303,"post_id":77264229,"comment_id":136213551,"body_markdown":"Your `FunctionDescriptor.of(ADDRESS, ADDRESS, JAVA_LONG)` is wrong. The native function does not return an address, but the point itself. Note that the “address” you are trying to dereference, i.e. `38654705673` is exactly `9L &lt;&lt; 32 | 9L`, in other words, the expected max point but interpreted wrong.","body":"Your <code>FunctionDescriptor.of(ADDRESS, ADDRESS, JAVA_LONG)</code> is wrong. The native function does not return an address, but the point itself. Note that the “address” you are trying to dereference, i.e. <code>38654705673</code> is exactly <code>9L &lt;&lt; 32 | 9L</code>, in other words, the expected max point but interpreted wrong."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":4,"creation_date":1696968001,"post_id":77264229,"comment_id":136219639,"body_markdown":"As Holger says, the function descriptor is incorrect here, should be `FunctionDescriptor.of(structLayout, ADDRESS, JAVA_LONG)` (assuming your native `long` is 64 bits). Additionally, the C++ ABI is not supported. Linking against C++ functions might work, but you&#39;re better off specifying C linkage using `extern &quot;C&quot;` (and then watch out for any warnings about incompatible ABI).","body":"As Holger says, the function descriptor is incorrect here, should be <code>FunctionDescriptor.of(structLayout, ADDRESS, JAVA_LONG)</code> (assuming your native <code>long</code> is 64 bits). Additionally, the C++ ABI is not supported. Linking against C++ functions might work, but you&#39;re better off specifying C linkage using <code>extern &quot;C&quot;</code> (and then watch out for any warnings about incompatible ABI)."},{"owner":{"account_id":21399443,"reputation":73,"user_id":15761878,"display_name":"jdragon"},"score":0,"creation_date":1696998827,"post_id":77264229,"comment_id":136222634,"body_markdown":"Thank you very much for your help. I have approved my code and made the necessary modifications as per your instructions. I added my modification method in the description, is there anything wrong with me?","body":"Thank you very much for your help. I have approved my code and made the necessary modifications as per your instructions. I added my modification method in the description, is there anything wrong with me?"}],"answers":[{"tags":[],"owner":{"account_id":21399443,"reputation":73,"user_id":15761878,"display_name":"jdragon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1697175476,"creation_date":1697175476,"answer_id":77285281,"question_id":77264229,"body_markdown":"Fortunately, with the help of Holger and Jorn Vernee, I modified the code and successfully ran it. The following modifications have been made\r\n\r\n```C\r\nextern &quot;C&quot; MATHLIBRARY_API Point test_point(Point points[], long count);\r\n```\r\n\r\n```java\r\npublic static void dereferenceSegmentsStruct() throws Throwable {\r\n    StructLayout structLayout = MemoryLayout.structLayout(\r\n            JAVA_INT.withName(&quot;x&quot;),\r\n            JAVA_INT.withName(&quot;y&quot;));\r\n\r\n    MethodHandle test_point = linker.downcallHandle(\r\n            symbolLookup.find(&quot;test_point&quot;).orElseThrow(),\r\n            FunctionDescriptor.of(structLayout, ADDRESS, JAVA_LONG)\r\n    );\r\n\r\n    SequenceLayout ptsLayout = MemoryLayout.sequenceLayout(10, structLayout);\r\n\r\n    VarHandle xHandle    // (MemorySegment, long) -&gt; int\r\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\r\n            PathElement.groupElement(&quot;x&quot;));\r\n    VarHandle yHandle    // (MemorySegment, long) -&gt; int\r\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\r\n            PathElement.groupElement(&quot;y&quot;));\r\n\r\n    MemorySegment segment = Arena.ofAuto().allocate(ptsLayout);\r\n    for (int i = 0; i &lt; ptsLayout.elementCount(); i++) {\r\n        xHandle.set(segment,\r\n                /* index */ (long) i,\r\n                /* value to write */ i); // x\r\n        yHandle.set(segment,\r\n                /* index */ (long) i,\r\n                /* value to write */ i); // y\r\n    }\r\n    SegmentAllocator allocator = SegmentAllocator.slicingAllocator(Arena.ofAuto().allocate(100));\r\n    MemorySegment result = (MemorySegment) test_point.invoke(allocator, segment, ptsLayout.elementCount());\r\n    System.out.println(result);\r\n    result = result.reinterpret(structLayout.byteSize());\r\n    VarHandle resultX    // (MemorySegment, long) -&gt; int\r\n            = structLayout.varHandle(PathElement.groupElement(&quot;x&quot;));\r\n    VarHandle resultY    // (MemorySegment, long) -&gt; int\r\n            = structLayout.varHandle(PathElement.groupElement(&quot;y&quot;));\r\n    System.out.println(StringTemplate.STR. &quot;\\{ resultX.get(result) }:\\{ resultY.get(result) }&quot; );\r\n}\r\n```\r\n\r\n","title":"How to get a C++ struct return value from Java using the Foreign Function &amp; Memory API","body":"<p>Fortunately, with the help of Holger and Jorn Vernee, I modified the code and successfully ran it. The following modifications have been made</p>\n<pre><code>extern &quot;C&quot; MATHLIBRARY_API Point test_point(Point points[], long count);\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public static void dereferenceSegmentsStruct() throws Throwable {\n    StructLayout structLayout = MemoryLayout.structLayout(\n            JAVA_INT.withName(&quot;x&quot;),\n            JAVA_INT.withName(&quot;y&quot;));\n\n    MethodHandle test_point = linker.downcallHandle(\n            symbolLookup.find(&quot;test_point&quot;).orElseThrow(),\n            FunctionDescriptor.of(structLayout, ADDRESS, JAVA_LONG)\n    );\n\n    SequenceLayout ptsLayout = MemoryLayout.sequenceLayout(10, structLayout);\n\n    VarHandle xHandle    // (MemorySegment, long) -&gt; int\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\n            PathElement.groupElement(&quot;x&quot;));\n    VarHandle yHandle    // (MemorySegment, long) -&gt; int\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\n            PathElement.groupElement(&quot;y&quot;));\n\n    MemorySegment segment = Arena.ofAuto().allocate(ptsLayout);\n    for (int i = 0; i &lt; ptsLayout.elementCount(); i++) {\n        xHandle.set(segment,\n                /* index */ (long) i,\n                /* value to write */ i); // x\n        yHandle.set(segment,\n                /* index */ (long) i,\n                /* value to write */ i); // y\n    }\n    SegmentAllocator allocator = SegmentAllocator.slicingAllocator(Arena.ofAuto().allocate(100));\n    MemorySegment result = (MemorySegment) test_point.invoke(allocator, segment, ptsLayout.elementCount());\n    System.out.println(result);\n    result = result.reinterpret(structLayout.byteSize());\n    VarHandle resultX    // (MemorySegment, long) -&gt; int\n            = structLayout.varHandle(PathElement.groupElement(&quot;x&quot;));\n    VarHandle resultY    // (MemorySegment, long) -&gt; int\n            = structLayout.varHandle(PathElement.groupElement(&quot;y&quot;));\n    System.out.println(StringTemplate.STR. &quot;\\{ resultX.get(result) }:\\{ resultY.get(result) }&quot; );\n}\n</code></pre>\n"}],"owner":{"account_id":21399443,"reputation":73,"user_id":15761878,"display_name":"jdragon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":77285281,"answer_count":1,"score":4,"last_activity_date":1697175476,"creation_date":1696927668,"question_id":77264229,"body_markdown":"When I try to get the struct return value in C++, I cannot resolve the value in the struct.\r\n\r\nThis is my structure.\r\n\r\n```C++\r\nstruct Point {\r\n    int x;\r\n    int y;\r\n};\r\n```\r\n\r\n\r\nThis is my C++ method\r\n\r\n```C++\r\nPoint test_point(Point points[],long count)\r\n{\r\n    if (count &lt;= 0) {\r\n        // Return a default Point with x and y set to 0\r\n        Point defaultPoint = { 0, 0 };\r\n        return defaultPoint;\r\n    }\r\n\r\n    Point maxPoint = points[0];\r\n    int maxSum = maxPoint.x + maxPoint.y;\r\n\r\n    for (int i = 1; i &lt; count; ++i) {\r\n        int currentSum = points[i].x + points[i].y;\r\n        if (currentSum &gt; maxSum) {\r\n            maxSum = currentSum;\r\n            maxPoint = points[i];\r\n        }\r\n    }\r\n\r\n    int x = maxPoint.x;\r\n    int y = maxPoint.y;\r\n    std::cout &lt;&lt; &quot;x = &quot; &lt;&lt; x &lt;&lt; &quot;, y = &quot; &lt;&lt; y &lt;&lt; std::endl;\r\n    return maxPoint;\r\n}\r\n```\r\n\r\nThis is my Java method\r\n\r\n```java\r\npublic static void dereferenceSegmentsStruct() throws Throwable {\r\n    Linker linker = Linker.nativeLinker();\r\n    SymbolLookup symbolLookup = SymbolLookup.loaderLookup();\r\n    MethodHandle test_point = linker.downcallHandle(\r\n            symbolLookup.find(&quot;test_point&quot;).orElseThrow(),\r\n            FunctionDescriptor.of(ADDRESS, ADDRESS, JAVA_LONG)\r\n    );\r\n\r\n    StructLayout structLayout = MemoryLayout.structLayout(\r\n            JAVA_INT.withName(&quot;x&quot;),\r\n            JAVA_INT.withName(&quot;y&quot;));\r\n\r\n    SequenceLayout ptsLayout = MemoryLayout.sequenceLayout(10, structLayout);\r\n\r\n    VarHandle xHandle    // (MemorySegment, long) -&gt; int\r\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\r\n            PathElement.groupElement(&quot;x&quot;));\r\n    VarHandle yHandle    // (MemorySegment, long) -&gt; int\r\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\r\n            PathElement.groupElement(&quot;y&quot;));\r\n\r\n    MemorySegment segment = Arena.ofAuto().allocate(ptsLayout);\r\n    for (int i = 0; i &lt; ptsLayout.elementCount(); i++) {\r\n        xHandle.set(segment,\r\n                /* index */ (long) i,\r\n                /* value to write */ i); // x\r\n        yHandle.set(segment,\r\n                /* index */ (long) i,\r\n                /* value to write */ i); // y\r\n    }\r\n\r\n    MemorySegment result = (MemorySegment) test_point.invoke(segment, ptsLayout.elementCount());\r\n    result = result.reinterpret(structLayout.byteSize());\r\n    System.out.println(result.getAtIndex(JAVA_INT, 0));\r\n}\r\n```\r\n\r\nI see zero length, I try to use a method to modify the zero length.\r\n\r\n\r\n[image](https://i.stack.imgur.com/i4fUW.png)\r\n\r\n\r\nI still can&#39;t get it, it gives the following error.\r\n\r\n```none\r\nException in thread &quot;main&quot; java.lang.IllegalArgumentException: Misaligned access at address: 38654705673\r\n\tat java.base/java.lang.invoke.VarHandleSegmentViewBase.newIllegalArgumentExceptionForMisalignedAccess(VarHandleSegmentViewBase.java:57)\r\n\tat java.base/java.lang.invoke.VarHandleSegmentAsInts.offsetNoVMAlignCheck(VarHandleSegmentAsInts.java:100)\r\n\tat java.base/java.lang.invoke.VarHandleSegmentAsInts.get(VarHandleSegmentAsInts.java:111)\r\n\tat java.base/java.lang.foreign.MemorySegment.getAtIndex(MemorySegment.java:1921)\r\n\tat org.example/org.example.TestNative.dereferenceSegmentsStruct(TestNative.java:109)\r\n\tat org.example/org.example.TestNative.main(TestNative.java:33)\r\n```\r\n\r\nWhat do I need to do to read the x and y of the Point returned in C++?\r\n\r\n\r\n","title":"How to get a C++ struct return value from Java using the Foreign Function &amp; Memory API","body":"<p>When I try to get the struct return value in C++, I cannot resolve the value in the struct.</p>\n<p>This is my structure.</p>\n<pre><code>struct Point {\n    int x;\n    int y;\n};\n</code></pre>\n<p>This is my C++ method</p>\n<pre><code>Point test_point(Point points[],long count)\n{\n    if (count &lt;= 0) {\n        // Return a default Point with x and y set to 0\n        Point defaultPoint = { 0, 0 };\n        return defaultPoint;\n    }\n\n    Point maxPoint = points[0];\n    int maxSum = maxPoint.x + maxPoint.y;\n\n    for (int i = 1; i &lt; count; ++i) {\n        int currentSum = points[i].x + points[i].y;\n        if (currentSum &gt; maxSum) {\n            maxSum = currentSum;\n            maxPoint = points[i];\n        }\n    }\n\n    int x = maxPoint.x;\n    int y = maxPoint.y;\n    std::cout &lt;&lt; &quot;x = &quot; &lt;&lt; x &lt;&lt; &quot;, y = &quot; &lt;&lt; y &lt;&lt; std::endl;\n    return maxPoint;\n}\n</code></pre>\n<p>This is my Java method</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static void dereferenceSegmentsStruct() throws Throwable {\n    Linker linker = Linker.nativeLinker();\n    SymbolLookup symbolLookup = SymbolLookup.loaderLookup();\n    MethodHandle test_point = linker.downcallHandle(\n            symbolLookup.find(&quot;test_point&quot;).orElseThrow(),\n            FunctionDescriptor.of(ADDRESS, ADDRESS, JAVA_LONG)\n    );\n\n    StructLayout structLayout = MemoryLayout.structLayout(\n            JAVA_INT.withName(&quot;x&quot;),\n            JAVA_INT.withName(&quot;y&quot;));\n\n    SequenceLayout ptsLayout = MemoryLayout.sequenceLayout(10, structLayout);\n\n    VarHandle xHandle    // (MemorySegment, long) -&gt; int\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\n            PathElement.groupElement(&quot;x&quot;));\n    VarHandle yHandle    // (MemorySegment, long) -&gt; int\n            = ptsLayout.varHandle(PathElement.sequenceElement(),\n            PathElement.groupElement(&quot;y&quot;));\n\n    MemorySegment segment = Arena.ofAuto().allocate(ptsLayout);\n    for (int i = 0; i &lt; ptsLayout.elementCount(); i++) {\n        xHandle.set(segment,\n                /* index */ (long) i,\n                /* value to write */ i); // x\n        yHandle.set(segment,\n                /* index */ (long) i,\n                /* value to write */ i); // y\n    }\n\n    MemorySegment result = (MemorySegment) test_point.invoke(segment, ptsLayout.elementCount());\n    result = result.reinterpret(structLayout.byteSize());\n    System.out.println(result.getAtIndex(JAVA_INT, 0));\n}\n</code></pre>\n<p>I see zero length, I try to use a method to modify the zero length.</p>\n<p><a href=\"https://i.stack.imgur.com/i4fUW.png\" rel=\"nofollow noreferrer\">image</a></p>\n<p>I still can't get it, it gives the following error.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; java.lang.IllegalArgumentException: Misaligned access at address: 38654705673\n    at java.base/java.lang.invoke.VarHandleSegmentViewBase.newIllegalArgumentExceptionForMisalignedAccess(VarHandleSegmentViewBase.java:57)\n    at java.base/java.lang.invoke.VarHandleSegmentAsInts.offsetNoVMAlignCheck(VarHandleSegmentAsInts.java:100)\n    at java.base/java.lang.invoke.VarHandleSegmentAsInts.get(VarHandleSegmentAsInts.java:111)\n    at java.base/java.lang.foreign.MemorySegment.getAtIndex(MemorySegment.java:1921)\n    at org.example/org.example.TestNative.dereferenceSegmentsStruct(TestNative.java:109)\n    at org.example/org.example.TestNative.main(TestNative.java:33)\n</code></pre>\n<p>What do I need to do to read the x and y of the Point returned in C++?</p>\n"},{"tags":["java","apache-kafka","spring-kafka"],"comments":[{"owner":{"account_id":3273937,"reputation":114855,"user_id":2756547,"accept_rate":75,"display_name":"Artem Bilan"},"score":1,"creation_date":1696953496,"post_id":77264239,"comment_id":136217203,"body_markdown":"You use very old versions of everything. It is probably hard to answer you after all these years for non-supported Apache Kafka and Spring library for that.","body":"You use very old versions of everything. It is probably hard to answer you after all these years for non-supported Apache Kafka and Spring library for that."},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1697175619,"post_id":77264239,"comment_id":136249241,"body_markdown":"You can start by adding more logging for onPartitionsAssigned / revoked listeners","body":"You can start by adding more logging for onPartitionsAssigned / revoked listeners"}],"owner":{"account_id":6651681,"reputation":9,"user_id":5133470,"display_name":"pingzi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1697175426,"creation_date":1696927712,"question_id":77264239,"body_markdown":"kafka server 2.2.1\r\nkafka-clients 0.11.0.2\r\nspring-kafka 1.3.9.RELEASE\r\n\r\nconsumer.config \r\n\r\n```\r\nauto-offset-reset=latest\r\nenable-auto-commit=true\r\n```\r\n\r\none consumer-group consumes three topic (topic1, topic2, topic3)\r\n\r\ni consume from server with all 8 pods, and when one pod is killed because of OOM, consumer rebalance. After this, topic1 and topic2 are working, but topic3 not assigned to the consumer, causing topic3 message backlog.\r\n\r\nI ask why the problem is happening ","title":"Kafka rebalance after consumer no work on some topic","body":"<p>kafka server 2.2.1\nkafka-clients 0.11.0.2\nspring-kafka 1.3.9.RELEASE</p>\n<p>consumer.config</p>\n<pre><code>auto-offset-reset=latest\nenable-auto-commit=true\n</code></pre>\n<p>one consumer-group consumes three topic (topic1, topic2, topic3)</p>\n<p>i consume from server with all 8 pods, and when one pod is killed because of OOM, consumer rebalance. After this, topic1 and topic2 are working, but topic3 not assigned to the consumer, causing topic3 message backlog.</p>\n<p>I ask why the problem is happening</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":3,"creation_date":1697139100,"post_id":77283309,"comment_id":136245779,"body_markdown":"Not inline, but using the builder pattern makes it [fluent](https://www.baeldung.com/java-fluent-interface-vs-builder-pattern).","body":"Not inline, but using the builder pattern makes it <a href=\"https://www.baeldung.com/java-fluent-interface-vs-builder-pattern\" rel=\"nofollow noreferrer\">fluent</a>."},{"owner":{"account_id":11244318,"reputation":389,"user_id":8247530,"display_name":"Rifat Rubayatul Islam"},"score":0,"creation_date":1697139306,"post_id":77283309,"comment_id":136245806,"body_markdown":"You can take parameters in the Constructuor. Then you won&#39;t have to use setter. You would be able to write `userDetails.setResource_access(new ResourceAccess(new HbgDept (roleList)));`","body":"You can take parameters in the Constructuor. Then you won&#39;t have to use setter. You would be able to write <code>userDetails.setResource_access(new ResourceAccess(new HbgDept (roleList)));</code>"},{"owner":{"account_id":8903500,"reputation":1364,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"score":0,"creation_date":1697140730,"post_id":77283309,"comment_id":136246008,"body_markdown":"But I can not set roleList.","body":"But I can not set roleList."}],"answers":[{"tags":[],"owner":{"account_id":13606858,"reputation":161,"user_id":9815739,"display_name":"fjavierm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697139191,"creation_date":1697139191,"answer_id":77283411,"question_id":77283309,"body_markdown":"I imagine that something like this can be done, but is not pretty:\r\n\r\n`userDetails.setResource_access(new ResourceAccess(new HbgDept(roleList)));`\r\n\r\nAnother option can be:\r\n\r\n````\r\npublic class UserDetails {\r\n    ...\r\n    public void init_resource_access(List&lt;whatever-type&gt; roleList) {\r\n        resource_access = new ResourceAccess(new HbgDept(roleList)); \r\n    }\r\n...\r\n}\r\n\r\n// use it as\r\nuserDetails.init_resource_access(roleList);\r\n```","title":"How to initialize multiple objects in java as inline class initialization","body":"<p>I imagine that something like this can be done, but is not pretty:</p>\n<p><code>userDetails.setResource_access(new ResourceAccess(new HbgDept(roleList)));</code></p>\n<p>Another option can be:</p>\n<pre><code>public class UserDetails {\n    ...\n    public void init_resource_access(List&lt;whatever-type&gt; roleList) {\n        resource_access = new ResourceAccess(new HbgDept(roleList)); \n    }\n...\n}\n\n// use it as\nuserDetails.init_resource_access(roleList);\n```\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697175364,"creation_date":1697175364,"answer_id":77285270,"question_id":77283309,"body_markdown":"Make _HbgDept_ the inner-class of _ResourceAccess_.\r\n\r\n```java\r\nclass ResourceAccess {\r\n    private HbgDept hbg_dept;\r\n\r\n    ResourceAccess(List&lt;String&gt; roles) {\r\n        hbg_dept = new HbgDept();\r\n        hbg_dept.setRoles(roleList);\r\n    }\r\n\r\n    class HbgDept {\r\n        private List&lt;String&gt; roles;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nuserDetails.setResource_access(new ResourceAccess(roleList));\r\n```","title":"How to initialize multiple objects in java as inline class initialization","body":"<p>Make <em>HbgDept</em> the inner-class of <em>ResourceAccess</em>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class ResourceAccess {\n    private HbgDept hbg_dept;\n\n    ResourceAccess(List&lt;String&gt; roles) {\n        hbg_dept = new HbgDept();\n        hbg_dept.setRoles(roleList);\n    }\n\n    class HbgDept {\n        private List&lt;String&gt; roles;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>userDetails.setResource_access(new ResourceAccess(roleList));\n</code></pre>\n"}],"owner":{"account_id":8903500,"reputation":1364,"user_id":6646188,"display_name":"Abhijit Mondal Abhi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697175364,"creation_date":1697138128,"question_id":77283309,"body_markdown":"I have following data source:\r\n\r\n    &quot;resource_access&quot;: {\r\n        &quot;hbg-dept&quot;: {\r\n          &quot;roles&quot;: [\r\n            &quot;admin&quot;,\r\n            &quot;manager&quot;\r\n            \r\n          ]\r\n        }\r\n      },\r\n\r\nTo create a data model out of the above data source, I have created two class. Like:\r\n\r\n    public class ResourceAccess {\r\n      private HbgDept hbg_dept;\r\n    }\r\n\r\n    public class HbgDept {\r\n      private List&lt;String&gt; roles;\r\n    }\r\n\r\nAnd I am using ResourceAccess as a property in my UserDetails class. \r\n\r\n    public class UserDetails {\r\n      private String name;\r\n      private String preferred_username;\r\n      private String given_name;\r\n      private String family_name;\r\n      private String email;\r\n      private ResourceAccess resource_access;\r\n    }\r\n\r\nBut, when I try to embed data in resource_access in the UserDetails class. I need to initialize as follows:\r\n\r\n \r\n\r\n    HbgDept vwagKums = new HbgDept ();\r\n    HbgDept.setRoles(roleList);\r\n    \r\n    ResourceAccess resourceAccess = new ResourceAccess();\r\n    resourceAccess.sethbg_dept(vwagKums);\r\n    \r\n    userDetails.setResource_access(resourceAccess);\r\n\r\nMy question is, this why everything is working fine. But, is there some other way to initialize some better way? May be inline? I came from C# where I can initialize inline. But here I can not do so.\r\n\r\n","title":"How to initialize multiple objects in java as inline class initialization","body":"<p>I have following data source:</p>\n<pre><code>&quot;resource_access&quot;: {\n    &quot;hbg-dept&quot;: {\n      &quot;roles&quot;: [\n        &quot;admin&quot;,\n        &quot;manager&quot;\n        \n      ]\n    }\n  },\n</code></pre>\n<p>To create a data model out of the above data source, I have created two class. Like:</p>\n<pre><code>public class ResourceAccess {\n  private HbgDept hbg_dept;\n}\n\npublic class HbgDept {\n  private List&lt;String&gt; roles;\n}\n</code></pre>\n<p>And I am using ResourceAccess as a property in my UserDetails class.</p>\n<pre><code>public class UserDetails {\n  private String name;\n  private String preferred_username;\n  private String given_name;\n  private String family_name;\n  private String email;\n  private ResourceAccess resource_access;\n}\n</code></pre>\n<p>But, when I try to embed data in resource_access in the UserDetails class. I need to initialize as follows:</p>\n<pre><code>HbgDept vwagKums = new HbgDept ();\nHbgDept.setRoles(roleList);\n\nResourceAccess resourceAccess = new ResourceAccess();\nresourceAccess.sethbg_dept(vwagKums);\n\nuserDetails.setResource_access(resourceAccess);\n</code></pre>\n<p>My question is, this why everything is working fine. But, is there some other way to initialize some better way? May be inline? I came from C# where I can initialize inline. But here I can not do so.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":4498330,"reputation":974,"user_id":4329912,"display_name":"Pubudu"},"score":0,"creation_date":1697144731,"post_id":77283640,"comment_id":136246621,"body_markdown":"Do you need to be able to refer to the transformed list afterwards? If so, don&#39;t think there&#39;s any way to simultaneously do both.","body":"Do you need to be able to refer to the transformed list afterwards? If so, don&#39;t think there&#39;s any way to simultaneously do both."},{"owner":{"account_id":12317129,"reputation":131,"user_id":8987189,"display_name":"Samakaab"},"score":0,"creation_date":1697147957,"post_id":77283640,"comment_id":136247028,"body_markdown":"Why on earth would you want to combine two totally different results in one go?","body":"Why on earth would you want to combine two totally different results in one go?"}],"answers":[{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697159583,"creation_date":1697144772,"answer_id":77283849,"question_id":77283640,"body_markdown":"You can&#39;t return more than one type from a stream.  So you would need to house the information in a class or some other structure (e.g. a map).  Here I create a class to hold the results. `SummaryStatistics` does something similar.\r\n```\r\nint[] nums = {5,5,5,5,5};\r\nInfo&lt;Integer&gt; results = Arrays.stream(nums).boxed().reduce(new Info&lt;&gt;(),\r\n        Info::add,\r\n        (a,b)-&gt;a); // combiner - required but not used in this case\r\n\r\nSystem.out.println(results.getList());\r\nSystem.out.println(results.areAllTheSame());\r\n```\r\nprints\r\n```\r\n[5, 5, 5, 5, 5]\r\ntrue\r\n```\r\n\r\n- The `add()` method both adds the value to the list and increments count if the `item` matches the `first` value added. `count` defaults to `1`. It also returns `this` to simplify the `reduce` method since the accumulator is expected to return the updated value.\r\n- reduce first creates a class in which the values are stored.\r\n- `allAreTheSame()` returns the `boolean` resulting from comparing the count to the list size.\r\n```\r\nclass Info&lt;T&gt; {\r\n    private T first = null;\r\n    private List&lt;T&gt; list = new ArrayList&lt;&gt;();\r\n    private int count = 1;\r\n\r\n    public Info&lt;T&gt; add(T item) {\r\n        list.add(item);\r\n        if (first == null) {\r\n            first = item;\r\n        } else if (first == item) {\r\n            count++;\r\n        } \r\n        return this;\r\n    }\r\n    \r\n    public List&lt;T&gt; getList() {\r\n        return list;\r\n    }\r\n\r\n    public boolean areAllTheSame() {\r\n        return count == list.size();\r\n    }\r\n}\r\n\r\n\r\n","title":"How to run multiple operations on Java 8 stream calls","body":"<p>You can't return more than one type from a stream.  So you would need to house the information in a class or some other structure (e.g. a map).  Here I create a class to hold the results. <code>SummaryStatistics</code> does something similar.</p>\n<pre><code>int[] nums = {5,5,5,5,5};\nInfo&lt;Integer&gt; results = Arrays.stream(nums).boxed().reduce(new Info&lt;&gt;(),\n        Info::add,\n        (a,b)-&gt;a); // combiner - required but not used in this case\n\nSystem.out.println(results.getList());\nSystem.out.println(results.areAllTheSame());\n</code></pre>\n<p>prints</p>\n<pre><code>[5, 5, 5, 5, 5]\ntrue\n</code></pre>\n<ul>\n<li>The <code>add()</code> method both adds the value to the list and increments count if the <code>item</code> matches the <code>first</code> value added. <code>count</code> defaults to <code>1</code>. It also returns <code>this</code> to simplify the <code>reduce</code> method since the accumulator is expected to return the updated value.</li>\n<li>reduce first creates a class in which the values are stored.</li>\n<li><code>allAreTheSame()</code> returns the <code>boolean</code> resulting from comparing the count to the list size.</li>\n</ul>\n<pre><code>class Info&lt;T&gt; {\n    private T first = null;\n    private List&lt;T&gt; list = new ArrayList&lt;&gt;();\n    private int count = 1;\n\n    public Info&lt;T&gt; add(T item) {\n        list.add(item);\n        if (first == null) {\n            first = item;\n        } else if (first == item) {\n            count++;\n        } \n        return this;\n    }\n    \n    public List&lt;T&gt; getList() {\n        return list;\n    }\n\n    public boolean areAllTheSame() {\n        return count == list.size();\n    }\n}\n\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6714862,"reputation":16230,"user_id":5176992,"display_name":"Eritrean"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697145987,"creation_date":1697145987,"answer_id":77283919,"question_id":77283640,"body_markdown":"You could use a teeeing collector to do both tasks simultaneously. Something like:\r\n\r\n    int[] nums = {6,5,5,5,5};\r\n    HashMap&lt;String, Object&gt; result = Arrays.stream(nums)\r\n                                           .boxed()\r\n                                           .collect(Collectors.teeing(\r\n                                                   Collectors.toList(),\r\n                                                   Collectors.filtering(i -&gt; i != 5,Collectors.counting()),\r\n                                                   (myList, count) -&gt; {\r\n                                                       HashMap&lt;String, Object&gt; map = new HashMap();\r\n                                                       map.put(&quot;myList&quot;, myList);\r\n                                                       map.put(&quot;myBool&quot;, count == 0);\r\n                                                       return map;})\r\n                                                   );\r\n\r\n    System.out.println(result.get(&quot;myList&quot;));\r\n    System.out.println(result.get(&quot;myBool&quot;));\r\n\r\n**But just because you can doesn’t mean you should** \r\n\r\nIt is much more understandable and cleaner not to combine two operations that give two completely different results, but to do them separately. There is nothing wrong with:\r\n\r\n    List&lt;Integer&gt; list = Arrays.stream(nums).boxed().toList();\r\n    boolean allFives = list.stream().allMatch(i -&gt; i == 5);","title":"How to run multiple operations on Java 8 stream calls","body":"<p>You could use a teeeing collector to do both tasks simultaneously. Something like:</p>\n<pre><code>int[] nums = {6,5,5,5,5};\nHashMap&lt;String, Object&gt; result = Arrays.stream(nums)\n                                       .boxed()\n                                       .collect(Collectors.teeing(\n                                               Collectors.toList(),\n                                               Collectors.filtering(i -&gt; i != 5,Collectors.counting()),\n                                               (myList, count) -&gt; {\n                                                   HashMap&lt;String, Object&gt; map = new HashMap();\n                                                   map.put(&quot;myList&quot;, myList);\n                                                   map.put(&quot;myBool&quot;, count == 0);\n                                                   return map;})\n                                               );\n\nSystem.out.println(result.get(&quot;myList&quot;));\nSystem.out.println(result.get(&quot;myBool&quot;));\n</code></pre>\n<p><strong>But just because you can doesn’t mean you should</strong></p>\n<p>It is much more understandable and cleaner not to combine two operations that give two completely different results, but to do them separately. There is nothing wrong with:</p>\n<pre><code>List&lt;Integer&gt; list = Arrays.stream(nums).boxed().toList();\nboolean allFives = list.stream().allMatch(i -&gt; i == 5);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697174649,"creation_date":1697174649,"answer_id":77285230,"question_id":77283640,"body_markdown":"&gt; _&quot;... How can I combine the 2 where during `Arrays.stream()` not only do I convert it to `List&lt;Integer&gt;` but also track of all elements were same?&quot;_\r\n\r\nI guess you could assign _null_ to _l_ if _nums_ is not all _5_&#39;s.\r\n\r\n```java\r\nint []nums = { 1, 2, 3 };\r\nList&lt;Integer&gt; l\r\n    = IntStream.of(nums).allMatch(i-&gt;i == 5)\r\n    ? IntStream.of(nums).boxed().toList()\r\n    : null;\r\n```","title":"How to run multiple operations on Java 8 stream calls","body":"<blockquote>\n<p><em>&quot;... How can I combine the 2 where during <code>Arrays.stream()</code> not only do I convert it to <code>List&lt;Integer&gt;</code> but also track of all elements were same?&quot;</em></p>\n</blockquote>\n<p>I guess you could assign <em>null</em> to <em>l</em> if <em>nums</em> is not all <em>5</em>'s.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int []nums = { 1, 2, 3 };\nList&lt;Integer&gt; l\n    = IntStream.of(nums).allMatch(i-&gt;i == 5)\n    ? IntStream.of(nums).boxed().toList()\n    : null;\n</code></pre>\n"}],"owner":{"account_id":5344340,"reputation":2306,"user_id":4260303,"accept_rate":42,"display_name":"curiousengineer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1697174649,"creation_date":1697142186,"question_id":77283640,"body_markdown":"Say I am converting `int []nums` to `List&lt;Integer&gt;` using java 8 streams as\r\n```        \r\nList&lt;Integer&gt; l = Arrays.stream(nums).mapToObj(i-&gt;i).collect(Collectors.toList())\r\n```\r\n\r\nAlso say, I want to see a standalone operation if all elements in `List&lt;Integer&gt;` have a value of say `5`, I can do this I think\r\n`boolean match = list.stream().allMatch(s -&gt; s.equals(list.get(5)));`\r\n\r\nHow can I combine the 2 where during `Arrays.stream()` not only do I convert it to `List&lt;Integer&gt;` but also track of all elements were same?\r\n","title":"How to run multiple operations on Java 8 stream calls","body":"<p>Say I am converting <code>int []nums</code> to <code>List&lt;Integer&gt;</code> using java 8 streams as</p>\n<pre><code>List&lt;Integer&gt; l = Arrays.stream(nums).mapToObj(i-&gt;i).collect(Collectors.toList())\n</code></pre>\n<p>Also say, I want to see a standalone operation if all elements in <code>List&lt;Integer&gt;</code> have a value of say <code>5</code>, I can do this I think\n<code>boolean match = list.stream().allMatch(s -&gt; s.equals(list.get(5)));</code></p>\n<p>How can I combine the 2 where during <code>Arrays.stream()</code> not only do I convert it to <code>List&lt;Integer&gt;</code> but also track of all elements were same?</p>\n"},{"tags":["java","oracle","performance"],"comments":[{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697169510,"post_id":77284926,"comment_id":136248753,"body_markdown":"1) Try inlining the date parameter so that the query strings are identical.  2) Is it the same database on the same database server via the same network path ... in both cases?","body":"1) Try inlining the date parameter so that the query strings are identical.  2) Is it the same database on the same database server via the same network path ... in both cases?"},{"owner":{"account_id":21985462,"reputation":385,"user_id":16389607,"display_name":"David Holly"},"score":0,"creation_date":1697170977,"post_id":77284926,"comment_id":136248861,"body_markdown":"@StephenC Yes same database, same server, same network path.. In the java program, it actually pass in the same 20/09/2023 date parameter too.","body":"@StephenC Yes same database, same server, same network path.. In the java program, it actually pass in the same 20/09/2023 date parameter too."},{"owner":{"account_id":3303062,"reputation":6616,"user_id":2778710,"display_name":"astentx"},"score":1,"creation_date":1697171773,"post_id":77284926,"comment_id":136248925,"body_markdown":"You need to capture two execution plans when the query is running: one for SQL Developer version and another for Java version. See [`dbms_sql_monitor.report_sql_monitor`](https://docs.oracle.com/en/database/oracle/oracle-database/19/arpls/DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690).","body":"You need to capture two execution plans when the query is running: one for SQL Developer version and another for Java version. See <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/arpls/DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690\" rel=\"nofollow noreferrer\"><code>dbms_sql_monitor.report_sql_monitor</code></a>."},{"owner":{"account_id":177686,"reputation":35366,"user_id":409172,"accept_rate":50,"display_name":"Jon Heller"},"score":4,"creation_date":1697173688,"post_id":77284926,"comment_id":136249075,"body_markdown":"@DavidHolly Are you sure that SQL Developer is returning all 100K records, and not just the top N rows?","body":"@DavidHolly Are you sure that SQL Developer is returning all 100K records, and not just the top N rows?"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1697175344,"post_id":77284926,"comment_id":136249220,"body_markdown":"Are you pointing to remote db server from you local java environment while running the query directly inside the remote db?","body":"Are you pointing to remote db server from you local java environment while running the query directly inside the remote db?"},{"owner":{"account_id":21985462,"reputation":385,"user_id":16389607,"display_name":"David Holly"},"score":0,"creation_date":1697177421,"post_id":77284926,"comment_id":136249459,"body_markdown":"@hermit yes.. am pointing to remote db from local java environment","body":"@hermit yes.. am pointing to remote db from local java environment"},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1697181797,"post_id":77284926,"comment_id":136250101,"body_markdown":"Pointing from local java code to remote db is inherently slow because your local code needs to setup connection to the remote server and fetch data from it. For example, pointing to the db in  staging environment from local will lead to large query execution time.\n\nBut, when you run the sql query directly, you are logging in to the server and running your query there. So, it is faster.\n\nBut, when your code gets deployed to staging, the execution time will significantly improve given that your application and db are hosted in the same environment, e.g. staging.","body":"Pointing from local java code to remote db is inherently slow because your local code needs to setup connection to the remote server and fetch data from it. For example, pointing to the db in  staging environment from local will lead to large query execution time.  But, when you run the sql query directly, you are logging in to the server and running your query there. So, it is faster.  But, when your code gets deployed to staging, the execution time will significantly improve given that your application and db are hosted in the same environment, e.g. staging."},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1697182119,"post_id":77284926,"comment_id":136250149,"body_markdown":"@hermit - that doesn&#39;t explain a 33 secs vs 1 hour difference.","body":"@hermit - that doesn&#39;t explain a 33 secs vs 1 hour difference."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1697182555,"post_id":77284926,"comment_id":136250215,"body_markdown":"@StephenC Agreed. It might not be the sole reason, but, we cannot rule out the fact that it might have played some role in aggravating the delay.","body":"@StephenC Agreed. It might not be the sole reason, but, we cannot rule out the fact that it might have played some role in aggravating the delay."},{"owner":{"account_id":3097035,"reputation":1105,"user_id":2622026,"accept_rate":71,"display_name":"hermit"},"score":0,"creation_date":1697182558,"post_id":77284926,"comment_id":136250217,"body_markdown":"@DavidHolly If it is possible, could you please try deploying the code in the same env as the db and observe the execution time?","body":"@DavidHolly If it is possible, could you please try deploying the code in the same env as the db and observe the execution time?"}],"answers":[{"tags":[],"owner":{"account_id":177686,"reputation":35366,"user_id":409172,"accept_rate":50,"display_name":"Jon Heller"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1697174643,"creation_date":1697174643,"answer_id":77285229,"question_id":77284926,"body_markdown":"Rewriting the joins to analytic functions should avoid most potential database problems. Since the rewritten query has no joins, there are very few ways the execution plan can go wrong. As an added bonus, the new code is smaller and arguably simpler.\r\n\r\n```\r\n-- ref_ids that only have old data.\r\nselect distinct ref_id\r\nfrom\r\n(\r\n\t--all data along with counts of new dates per ref_id.\r\n\tselect ref_id, start_date,\r\n\t\tsum(case when start_date &gt;= to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;) then 1 else 0 end) \r\n        over (partition by ref_id) new_dates_per_ref_id\r\n\tfrom\r\n\t(\r\n\t\t--all data\r\n\t\tselect ref_id, start_date from os_historystep\r\n\t\tunion all\r\n\t\tselect ref_id, start_date from os_currentstep\r\n\t)\r\n)\r\nwhere start_date &lt; to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;)\r\n\tand new_dates_per_ref_id = 0;\r\n```\r\n\r\nHowever, this answer is merely a workaround. You may want to dig into the execution plans and find out why this problem is happening. To do that, I recommend you follow astentx&#39;s advice and use [dbms_sql_monitor.report_sql_monitor](https://docs.oracle.com/en/database/oracle/oracle-database/19/arpls/DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690). But solving difficult Oracle performance problems can take a long time, so there&#39;s nothing wrong with just avoiding the problem if you don&#39;t have hours to spend on query tuning.","title":"Why the oracle query is slow in java but much faster when it is just directly executed in sqlDeveloper?","body":"<p>Rewriting the joins to analytic functions should avoid most potential database problems. Since the rewritten query has no joins, there are very few ways the execution plan can go wrong. As an added bonus, the new code is smaller and arguably simpler.</p>\n<pre><code>-- ref_ids that only have old data.\nselect distinct ref_id\nfrom\n(\n    --all data along with counts of new dates per ref_id.\n    select ref_id, start_date,\n        sum(case when start_date &gt;= to_date('20/09/2023' , 'dd/mm/yyyy') then 1 else 0 end) \n        over (partition by ref_id) new_dates_per_ref_id\n    from\n    (\n        --all data\n        select ref_id, start_date from os_historystep\n        union all\n        select ref_id, start_date from os_currentstep\n    )\n)\nwhere start_date &lt; to_date('20/09/2023' , 'dd/mm/yyyy')\n    and new_dates_per_ref_id = 0;\n</code></pre>\n<p>However, this answer is merely a workaround. You may want to dig into the execution plans and find out why this problem is happening. To do that, I recommend you follow astentx's advice and use <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/19/arpls/DBMS_SQL_MONITOR.html#GUID-04851EB0-32AB-424C-91A1-65AD9220A690\" rel=\"nofollow noreferrer\">dbms_sql_monitor.report_sql_monitor</a>. But solving difficult Oracle performance problems can take a long time, so there's nothing wrong with just avoiding the problem if you don't have hours to spend on query tuning.</p>\n"}],"owner":{"account_id":21985462,"reputation":385,"user_id":16389607,"display_name":"David Holly"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77285229,"answer_count":1,"score":1,"last_activity_date":1697174643,"creation_date":1697168179,"question_id":77284926,"body_markdown":"I have around 100k records in the db table and when I execute this query in oracle sqlDeveloper, it takes around 33 seconds to fetch the 100k records.\r\n\r\n```\r\nselect wflworkflo1_.REF_ID from ( select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &lt; to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;) UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &lt; to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;)) wflworkflo1_ WHERE REF_ID NOT IN (SELECT DISTINCT REF_ID FROM (select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &gt;= to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;) UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &gt;= to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;)) INT_WFL GROUP BY REF_ID) group by wflworkflo1_.REF_ID having max(wflworkflo1_.START_DATE) &lt; to_date(&#39;20/09/2023&#39; , &#39;dd/mm/yyyy&#39;);\r\n```\r\n\r\nIn my java program, this is the method to run the query.\r\n\r\n    public List&lt;String&gt; findCurrHistStepRefIdWithStartDate(String targetStartDate)\r\n\t\t\tthrows BocException {\r\n\t\t\r\n\t\tStringBuffer sql = new StringBuffer();\r\n\t\tsql.append(\r\n\t\t\t\t&quot;select wflworkflo1_.REF_ID from ( select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &lt; to_date(?, &#39;dd/mm/yyyy&#39;) UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &lt; to_date(?, &#39;dd/mm/yyyy&#39;)) wflworkflo1_ WHERE REF_ID NOT IN (SELECT DISTINCT REF_ID FROM (select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &gt;= to_date(?, &#39;dd/mm/yyyy&#39;) UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &gt;= to_date(?, &#39;dd/mm/yyyy&#39;)) INT_WFL GROUP BY REF_ID) group by wflworkflo1_.REF_ID having max(wflworkflo1_.START_DATE) &lt; to_date(?, &#39;dd/mm/yyyy&#39;)&quot;);\r\n\t\t\r\n\t\tJdbcTemplate template = getJdbcTemplate();\r\n\t\t\r\n\t\treturn template.queryForList(sql.toString(), String.class,\r\n\t\t\t\ttargetStartDate, targetStartDate, targetStartDate, targetStartDate,\r\n\t\t\t\ttargetStartDate);\r\n\r\n\t}\r\n\r\nThis Java function takes more than 1 hour to return the result. Why is there such a huge difference? ","title":"Why the oracle query is slow in java but much faster when it is just directly executed in sqlDeveloper?","body":"<p>I have around 100k records in the db table and when I execute this query in oracle sqlDeveloper, it takes around 33 seconds to fetch the 100k records.</p>\n<pre><code>select wflworkflo1_.REF_ID from ( select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &lt; to_date('20/09/2023' , 'dd/mm/yyyy') UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &lt; to_date('20/09/2023' , 'dd/mm/yyyy')) wflworkflo1_ WHERE REF_ID NOT IN (SELECT DISTINCT REF_ID FROM (select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &gt;= to_date('20/09/2023' , 'dd/mm/yyyy') UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &gt;= to_date('20/09/2023' , 'dd/mm/yyyy')) INT_WFL GROUP BY REF_ID) group by wflworkflo1_.REF_ID having max(wflworkflo1_.START_DATE) &lt; to_date('20/09/2023' , 'dd/mm/yyyy');\n</code></pre>\n<p>In my java program, this is the method to run the query.</p>\n<pre><code>public List&lt;String&gt; findCurrHistStepRefIdWithStartDate(String targetStartDate)\n        throws BocException {\n    \n    StringBuffer sql = new StringBuffer();\n    sql.append(\n            &quot;select wflworkflo1_.REF_ID from ( select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &lt; to_date(?, 'dd/mm/yyyy') UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &lt; to_date(?, 'dd/mm/yyyy')) wflworkflo1_ WHERE REF_ID NOT IN (SELECT DISTINCT REF_ID FROM (select REF_ID, START_DATE from OS_HISTORYSTEP WHERE START_DATE &gt;= to_date(?, 'dd/mm/yyyy') UNION ALL select REF_ID, START_DATE from OS_CURRENTSTEP WHERE START_DATE &gt;= to_date(?, 'dd/mm/yyyy')) INT_WFL GROUP BY REF_ID) group by wflworkflo1_.REF_ID having max(wflworkflo1_.START_DATE) &lt; to_date(?, 'dd/mm/yyyy')&quot;);\n    \n    JdbcTemplate template = getJdbcTemplate();\n    \n    return template.queryForList(sql.toString(), String.class,\n            targetStartDate, targetStartDate, targetStartDate, targetStartDate,\n            targetStartDate);\n\n}\n</code></pre>\n<p>This Java function takes more than 1 hour to return the result. Why is there such a huge difference?</p>\n"},{"tags":["java","sockets","tcp","objectinputstream"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697198972,"post_id":77284894,"comment_id":136253126,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":9059972,"reputation":3080,"user_id":6746785,"display_name":"gthanop"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1697174213,"creation_date":1697174213,"answer_id":77285207,"question_id":77284894,"body_markdown":"According to the documentation of `read` method in `ObjectInputStream`:\r\n\r\n&gt; This method will block until some input is available.\r\n\r\nSo basically you are never getting `len` to be equal to `-1` at server side. That&#39;s because of the sequence of events:\r\n\r\n1. Client sends the model and then the file bytes. Client then *waits* to receive model from server. `ObjectInputStream` is in blocking I/O mode here, so is `readObject` in the following snippet of your client side code:\r\n   ```\r\n   System.out.println(&quot;file send over&quot;);\r\n   FileTransModel model = (FileTransModel) ois.readObject(); // Blocks here.\r\n   ```\r\n2. Server receives the model. Then server receives buffers of *a positive size* until the other end is closed.\r\n3. But client is waiting for the model to be received, so it&#39;s not going to close.\r\n4. Since server is *waiting blocked for more bytes or a `-1`* (assuming no `IOException` occurs) inside the loop, then it is not going to send the model back.\r\n\r\nAs a result both sides are blocked waiting from each other.\r\n\r\nTo solve this you can signify the end of file transmission in a way such that the server knows when to stop reading file bytes. Since the file contents can be arbitrary and its size is not pre-determined at server side, then you can send the file size *before* you begin sending its contents to the server. But the model already has this information, so your reading loop in the server side can be modified from:\r\n```\r\nFileOutputStream fos = new FileOutputStream(file);\r\nBufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos);\r\n\r\nint len;\r\nlen = ois.read(BUFFER);\r\nint size = 0;\r\nwhile (true) {\r\n    size += len;\r\n    System.out.println(len + &quot;: &quot; + size);\r\n    if (len == -1) {\r\n        break;\r\n    }\r\n    bufferedOutputStream.write(BUFFER, 0, len);\r\n    bufferedOutputStream.flush();\r\n    len = ois.read(BUFFER);\r\n}\r\n```\r\nto:\r\n```\r\ntry (final FileOutputStream fos = new FileOutputStream(file);\r\n     final BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos)) {\r\n    final long expected = fileTransModel.getFileLength() == null? 0: fileTransModel.getFileLength();\r\n    long size = 0;\r\n    while (size &lt; expected) {\r\n        final int current = ois.read(BUFFER);\r\n        bufferedOutputStream.write(BUFFER, 0, current);\r\n        //bufferedOutputStream.flush(); //Flushing after each write would defeat the purpose of buffering, so better don&#39;t do it.\r\n        size += current;\r\n        System.out.println(&quot;So far: &quot; + size);\r\n    }\r\n} //Always close the file.\r\n```\r\n\r\nClosing the client side `ObjectOutputStream` (the `oos` reference) right after writing the file contents, in order for example to get a `-1` at the server side, is not an option here since closing `oos` would close the underlying `OutputStream` of the `Socket`, which in turn according to the documentation would close the `Socket` itself. So then if you were going to send the model back (ie from server to client), then a `SocketException` would be raised (the `Socket` would be no more usable).\r\n","title":"Trans File use java socket, ObjectInputStream and ObjectOutputStream but blocked","body":"<p>According to the documentation of <code>read</code> method in <code>ObjectInputStream</code>:</p>\n<blockquote>\n<p>This method will block until some input is available.</p>\n</blockquote>\n<p>So basically you are never getting <code>len</code> to be equal to <code>-1</code> at server side. That's because of the sequence of events:</p>\n<ol>\n<li>Client sends the model and then the file bytes. Client then <em>waits</em> to receive model from server. <code>ObjectInputStream</code> is in blocking I/O mode here, so is <code>readObject</code> in the following snippet of your client side code:\n<pre><code>System.out.println(&quot;file send over&quot;);\nFileTransModel model = (FileTransModel) ois.readObject(); // Blocks here.\n</code></pre>\n</li>\n<li>Server receives the model. Then server receives buffers of <em>a positive size</em> until the other end is closed.</li>\n<li>But client is waiting for the model to be received, so it's not going to close.</li>\n<li>Since server is <em>waiting blocked for more bytes or a <code>-1</code></em> (assuming no <code>IOException</code> occurs) inside the loop, then it is not going to send the model back.</li>\n</ol>\n<p>As a result both sides are blocked waiting from each other.</p>\n<p>To solve this you can signify the end of file transmission in a way such that the server knows when to stop reading file bytes. Since the file contents can be arbitrary and its size is not pre-determined at server side, then you can send the file size <em>before</em> you begin sending its contents to the server. But the model already has this information, so your reading loop in the server side can be modified from:</p>\n<pre><code>FileOutputStream fos = new FileOutputStream(file);\nBufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos);\n\nint len;\nlen = ois.read(BUFFER);\nint size = 0;\nwhile (true) {\n    size += len;\n    System.out.println(len + &quot;: &quot; + size);\n    if (len == -1) {\n        break;\n    }\n    bufferedOutputStream.write(BUFFER, 0, len);\n    bufferedOutputStream.flush();\n    len = ois.read(BUFFER);\n}\n</code></pre>\n<p>to:</p>\n<pre><code>try (final FileOutputStream fos = new FileOutputStream(file);\n     final BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos)) {\n    final long expected = fileTransModel.getFileLength() == null? 0: fileTransModel.getFileLength();\n    long size = 0;\n    while (size &lt; expected) {\n        final int current = ois.read(BUFFER);\n        bufferedOutputStream.write(BUFFER, 0, current);\n        //bufferedOutputStream.flush(); //Flushing after each write would defeat the purpose of buffering, so better don't do it.\n        size += current;\n        System.out.println(&quot;So far: &quot; + size);\n    }\n} //Always close the file.\n</code></pre>\n<p>Closing the client side <code>ObjectOutputStream</code> (the <code>oos</code> reference) right after writing the file contents, in order for example to get a <code>-1</code> at the server side, is not an option here since closing <code>oos</code> would close the underlying <code>OutputStream</code> of the <code>Socket</code>, which in turn according to the documentation would close the <code>Socket</code> itself. So then if you were going to send the model back (ie from server to client), then a <code>SocketException</code> would be raised (the <code>Socket</code> would be no more usable).</p>\n"}],"owner":{"account_id":20101147,"reputation":15,"user_id":14739581,"display_name":"Krlin Homon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77285207,"answer_count":1,"score":1,"last_activity_date":1697174213,"creation_date":1697167438,"question_id":77284894,"body_markdown":"Send file with socket BIO use Socket, ServerSocket, ObjectInputStream and ObjectOutputStream but blocked. The detail code is:\r\nModel:\r\n```\r\n@Data\r\n@ToString\r\npublic class FileTransModel implements Serializable {\r\n    private String fileName;\r\n    private Long fileLength;\r\n    private Integer status;\r\n}\r\n```\r\nClient:\r\n```\r\npublic class FileTransClient {\r\n\r\n    private static final int BUFFER_SIZE = 1024 * 8;\r\n    \r\n    private static final byte[] BUFFER = new byte[BUFFER_SIZE];\r\n    \r\n    \r\n\r\n    public static void main(String[] args) {\r\n        try (Socket socket = new Socket(&quot;localhost&quot;, 1888);\r\n             ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\r\n             ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream())) {\r\n            \r\n            File file = new File(&quot;D:\\\\trans\\\\1.mp4&quot;);\r\n            FileTransModel fileTransModel = new FileTransModel();\r\n            fileTransModel.setFileName(file.getName());\r\n            fileTransModel.setFileLength(file.length());\r\n            oos.writeObject(fileTransModel);\r\n\r\n            FileInputStream fileInputStream = new FileInputStream(file);\r\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream);\r\n            int len;\r\n            while ((len = bufferedInputStream.read(BUFFER)) != -1) {\r\n                System.out.println(len);\r\n                oos.write(BUFFER, 0, len);\r\n                oos.flush();\r\n            }\r\n            System.out.println(&quot;file send over&quot;);\r\n            FileTransModel model = (FileTransModel) ois.readObject();\r\n            System.out.println(model);\r\n            \r\n        } catch (IOException | ClassNotFoundException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nServer:\r\n```\r\npublic class FileTransServer {\r\n\r\n    private static final int BUFFER_SIZE = 1024 * 8;\r\n\r\n    private static final byte[] BUFFER = new byte[BUFFER_SIZE];\r\n\r\n    public static void main(String[] args) {\r\n        ServerSocket serverSocket;\r\n        try {\r\n            serverSocket = new ServerSocket(1888);\r\n            System.out.println(&quot;Socket Server start on port: 1888&quot;);\r\n            while(true) {\r\n                Socket accept = serverSocket.accept();\r\n                System.out.println(&quot;new file come!&quot;);\r\n                new Thread(new Task(accept)).start();\r\n            }\r\n        } catch (IOException e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n    \r\n    private static class Task implements Runnable {\r\n\r\n        Socket socket;\r\n        \r\n        public Task(Socket socket) {\r\n            this.socket = socket;\r\n        }\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\r\n                ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\r\n                FileTransModel fileTransModel = (FileTransModel) ois.readObject();\r\n                System.out.println(fileTransModel);\r\n                \r\n                File file = new File(&quot;D:\\\\trans_rec2\\\\&quot;+fileTransModel.getFileName());\r\n                if (!file.exists()) {\r\n                    file.createNewFile();\r\n                }\r\n\r\n                FileOutputStream fos = new FileOutputStream(file);\r\n                BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos);\r\n\r\n                int len;\r\n                len = ois.read(BUFFER);\r\n                int size = 0;\r\n                while (true) {\r\n                    size += len;\r\n                    System.out.println(len + &quot;: &quot; + size);\r\n                    if (len == -1) {\r\n                        break;\r\n                    }\r\n                    bufferedOutputStream.write(BUFFER, 0, len);\r\n                    bufferedOutputStream.flush();\r\n                    len = ois.read(BUFFER);\r\n                }\r\n                System.out.println(&quot;file write over&quot;);\r\n                \r\n                fileTransModel.setStatus(0);\r\n                \r\n                oos.writeObject(fileTransModel);\r\n                System.out.println(&quot;file receive over&quot;);\r\n                \r\n            } catch (IOException | ClassNotFoundException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\nand the result is :\r\n[enter image description here](https://i.stack.imgur.com/LMxIw.png)\r\nClient had trans over, but Server is like that:\r\n[enter image description here](https://i.stack.imgur.com/pjx7E.png)\r\nit cannot go on. how to fix it\r\n\r\n\r\nI have tried to use DataInputStream and DataOutputStream, but the result is the same.","title":"Trans File use java socket, ObjectInputStream and ObjectOutputStream but blocked","body":"<p>Send file with socket BIO use Socket, ServerSocket, ObjectInputStream and ObjectOutputStream but blocked. The detail code is:\nModel:</p>\n<pre><code>@Data\n@ToString\npublic class FileTransModel implements Serializable {\n    private String fileName;\n    private Long fileLength;\n    private Integer status;\n}\n</code></pre>\n<p>Client:</p>\n<pre><code>public class FileTransClient {\n\n    private static final int BUFFER_SIZE = 1024 * 8;\n    \n    private static final byte[] BUFFER = new byte[BUFFER_SIZE];\n    \n    \n\n    public static void main(String[] args) {\n        try (Socket socket = new Socket(&quot;localhost&quot;, 1888);\n             ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\n             ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream())) {\n            \n            File file = new File(&quot;D:\\\\trans\\\\1.mp4&quot;);\n            FileTransModel fileTransModel = new FileTransModel();\n            fileTransModel.setFileName(file.getName());\n            fileTransModel.setFileLength(file.length());\n            oos.writeObject(fileTransModel);\n\n            FileInputStream fileInputStream = new FileInputStream(file);\n            BufferedInputStream bufferedInputStream = new BufferedInputStream(fileInputStream);\n            int len;\n            while ((len = bufferedInputStream.read(BUFFER)) != -1) {\n                System.out.println(len);\n                oos.write(BUFFER, 0, len);\n                oos.flush();\n            }\n            System.out.println(&quot;file send over&quot;);\n            FileTransModel model = (FileTransModel) ois.readObject();\n            System.out.println(model);\n            \n        } catch (IOException | ClassNotFoundException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>Server:</p>\n<pre><code>public class FileTransServer {\n\n    private static final int BUFFER_SIZE = 1024 * 8;\n\n    private static final byte[] BUFFER = new byte[BUFFER_SIZE];\n\n    public static void main(String[] args) {\n        ServerSocket serverSocket;\n        try {\n            serverSocket = new ServerSocket(1888);\n            System.out.println(&quot;Socket Server start on port: 1888&quot;);\n            while(true) {\n                Socket accept = serverSocket.accept();\n                System.out.println(&quot;new file come!&quot;);\n                new Thread(new Task(accept)).start();\n            }\n        } catch (IOException e) {\n            throw new RuntimeException(e);\n        }\n    }\n    \n    private static class Task implements Runnable {\n\n        Socket socket;\n        \n        public Task(Socket socket) {\n            this.socket = socket;\n        }\n        @Override\n        public void run() {\n            try {\n                ObjectOutputStream oos = new ObjectOutputStream(socket.getOutputStream());\n                ObjectInputStream ois = new ObjectInputStream(socket.getInputStream());\n                FileTransModel fileTransModel = (FileTransModel) ois.readObject();\n                System.out.println(fileTransModel);\n                \n                File file = new File(&quot;D:\\\\trans_rec2\\\\&quot;+fileTransModel.getFileName());\n                if (!file.exists()) {\n                    file.createNewFile();\n                }\n\n                FileOutputStream fos = new FileOutputStream(file);\n                BufferedOutputStream bufferedOutputStream = new BufferedOutputStream(fos);\n\n                int len;\n                len = ois.read(BUFFER);\n                int size = 0;\n                while (true) {\n                    size += len;\n                    System.out.println(len + &quot;: &quot; + size);\n                    if (len == -1) {\n                        break;\n                    }\n                    bufferedOutputStream.write(BUFFER, 0, len);\n                    bufferedOutputStream.flush();\n                    len = ois.read(BUFFER);\n                }\n                System.out.println(&quot;file write over&quot;);\n                \n                fileTransModel.setStatus(0);\n                \n                oos.writeObject(fileTransModel);\n                System.out.println(&quot;file receive over&quot;);\n                \n            } catch (IOException | ClassNotFoundException e) {\n                throw new RuntimeException(e);\n            }\n        }\n    }\n}\n</code></pre>\n<p>and the result is :\n<a href=\"https://i.stack.imgur.com/LMxIw.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nClient had trans over, but Server is like that:\n<a href=\"https://i.stack.imgur.com/pjx7E.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nit cannot go on. how to fix it</p>\n<p>I have tried to use DataInputStream and DataOutputStream, but the result is the same.</p>\n"},{"tags":["java","spring","apache-kafka","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697174181,"creation_date":1697174181,"answer_id":77285206,"question_id":77272889,"body_markdown":"Kafka is a TCP protocol. There&#39;s no HTTP happening here other than the Spring POST mapping . \r\n\r\nThe code you&#39;ve shown is not a blocking call, so there&#39;s only a slight performance overhead on the TCP connection to the broker, and the in memory buffer that you&#39;re actually sending to here. So, yes, Kafka automatically batches data client side. See producer config `batch.size`","title":"Is there performance benefit to configure recative simple Spring application with kafka producer?","body":"<p>Kafka is a TCP protocol. There's no HTTP happening here other than the Spring POST mapping .</p>\n<p>The code you've shown is not a blocking call, so there's only a slight performance overhead on the TCP connection to the broker, and the in memory buffer that you're actually sending to here. So, yes, Kafka automatically batches data client side. See producer config <code>batch.size</code></p>\n"}],"owner":{"account_id":1301815,"reputation":31761,"user_id":1251549,"accept_rate":29,"display_name":"Cherry"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697174200,"creation_date":1697025821,"question_id":77272889,"body_markdown":"I have to create a very simple Spring application that will receive http request and send kafka message. Like that:\r\n\r\n\r\n    @PostMapping(value = &quot;/send&quot;)\r\n    public void sendMessage(@RequesyBody body) {\r\n        kafkaTemplate.send((value = &quot;/send&quot;))\r\n    }\r\n\r\nBut what about performance here? In case when I resend data to another http service I can configure reactive approach and save threading count. But what I am getting here? Thread per request? Does kafka client has it is own http client under the hood? Or If it uses low level socker connection - can it be configured with event looping?\r\n\r\nBtw, as I know 9may be wrong) that reactive style is usefull for requests with small data sending. With kafka I will definitelly sending data continuously. From other point there will be a lot of incoming http requests - so probably it is better to accumulate messages somewhere - do spring kafkaClient do this by default?","title":"Is there performance benefit to configure recative simple Spring application with kafka producer?","body":"<p>I have to create a very simple Spring application that will receive http request and send kafka message. Like that:</p>\n<pre><code>@PostMapping(value = &quot;/send&quot;)\npublic void sendMessage(@RequesyBody body) {\n    kafkaTemplate.send((value = &quot;/send&quot;))\n}\n</code></pre>\n<p>But what about performance here? In case when I resend data to another http service I can configure reactive approach and save threading count. But what I am getting here? Thread per request? Does kafka client has it is own http client under the hood? Or If it uses low level socker connection - can it be configured with event looping?</p>\n<p>Btw, as I know 9may be wrong) that reactive style is usefull for requests with small data sending. With kafka I will definitelly sending data continuously. From other point there will be a lot of incoming http requests - so probably it is better to accumulate messages somewhere - do spring kafkaClient do this by default?</p>\n"},{"tags":["java","apache-kafka","spring-kafka","batch-processing"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1697172830,"post_id":77282014,"comment_id":136248995,"body_markdown":"Are you committing offsets automatically? If not, it should retry based on the committed offset position, not based on the batch information","body":"Are you committing offsets automatically? If not, it should retry based on the committed offset position, not based on the batch information"},{"owner":{"account_id":11623510,"reputation":1028,"user_id":8514043,"display_name":"maroodb"},"score":0,"creation_date":1697183385,"post_id":77282014,"comment_id":136250349,"body_markdown":"Yes offsets are committed automatically. In this case it will re-consume the same batch ?","body":"Yes offsets are committed automatically. In this case it will re-consume the same batch ?"},{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":1,"creation_date":1697218328,"post_id":77282014,"comment_id":136257084,"body_markdown":"It will resume from after the greatest committed offset of that batch. Batches aren&#39;t relevant though, Kafka always resumes from the committed offsets, if they exist. Otherwise, falls back to `auto.offset.reset` (default=latest) (end of the topic). Otherwise, you can manually `seek` your consumer to a mapping of TopicPartition to Offset values. https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html","body":"It will resume from after the greatest committed offset of that batch. Batches aren&#39;t relevant though, Kafka always resumes from the committed offsets, if they exist. Otherwise, falls back to <code>auto.offset.reset</code> (default=latest) (end of the topic). Otherwise, you can manually <code>seek</code> your consumer to a mapping of TopicPartition to Offset values. <a href=\"https://kafka.apache.org/35/javadoc/org/apache/kafka/clients/consumer/KafkaConsumer.html\" rel=\"nofollow noreferrer\">kafka.apache.org/35/javadoc/org/apache/kafka/clients/consume&zwnj;&#8203;r/&hellip;</a>"}],"owner":{"account_id":11623510,"reputation":1028,"user_id":8514043,"display_name":"maroodb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697172795,"creation_date":1697125033,"question_id":77282014,"body_markdown":"I have a Spring Boot Kafka consumer that operates in batch mode. Here&#39;s the relevant code snippet:\r\n\r\n```java\r\n@KafkaListener(topics = &quot;my-fancy-topic&quot;,\r\n  batch = &quot;true&quot;,\r\n  containerFactory = &quot;stringStringKafkaListenerContainerFactory&quot;)\r\npublic void consumeEvent(List&lt;ConsumerRecord&lt;String, String&gt;&gt; consumerRecords) {\r\n    myBusinessLogic(consumerRecords);\r\n}\r\n```\r\n\r\nI&#39;ve configured the error handler with `FixedBackOff.UNLIMITED_ATTEMPTS`. This means that if my `myBusinessLogic()` throws an exception, the consumer will repeatedly attempt to consume the Kafka messages indefinitely.\r\n\r\nMy question concern to the behaviour when the consumer fails to handle a batch of messages, let&#39;s say Batch X contains 4 messages (A, B, C, D). \r\nI would like to know if, during the next attempt, the consumer will try to reprocess the exact same messages (A, B, C, D), or if there&#39;s no guarantee of message identity in the retry. \r\n\r\nIf there isn&#39;t, how can I ensure that the retry processes the same set of messages (A, B, C, D)?\r\nI have a use case where I need to ensure idempotency by having the same combination of messages inside a batch.","title":"Idempotent Message Retries in a Spring Boot Kafka Consumer with Batch Mode","body":"<p>I have a Spring Boot Kafka consumer that operates in batch mode. Here's the relevant code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@KafkaListener(topics = &quot;my-fancy-topic&quot;,\n  batch = &quot;true&quot;,\n  containerFactory = &quot;stringStringKafkaListenerContainerFactory&quot;)\npublic void consumeEvent(List&lt;ConsumerRecord&lt;String, String&gt;&gt; consumerRecords) {\n    myBusinessLogic(consumerRecords);\n}\n</code></pre>\n<p>I've configured the error handler with <code>FixedBackOff.UNLIMITED_ATTEMPTS</code>. This means that if my <code>myBusinessLogic()</code> throws an exception, the consumer will repeatedly attempt to consume the Kafka messages indefinitely.</p>\n<p>My question concern to the behaviour when the consumer fails to handle a batch of messages, let's say Batch X contains 4 messages (A, B, C, D).\nI would like to know if, during the next attempt, the consumer will try to reprocess the exact same messages (A, B, C, D), or if there's no guarantee of message identity in the retry.</p>\n<p>If there isn't, how can I ensure that the retry processes the same set of messages (A, B, C, D)?\nI have a use case where I need to ensure idempotency by having the same combination of messages inside a batch.</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"answers":[{"tags":[],"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697172564,"creation_date":1697172564,"answer_id":77285112,"question_id":77282167,"body_markdown":"In Kafka Streams, there&#39;s a static `consumerPrefix()` function that must be added to modify consumer client properties.\r\n\r\nOtherwise, you must pass `consumer.auto.offset.reset` as the property key.\r\n\r\nOtherwise, Kafka Streams consumes data in the order that the producer wrote the data. Your timestamp field isn&#39;t really relevant since producers can easily send data out of order, and you should use Kafka Streams windowing functions with a TimestampExtractor against the actual record timestamp, instead of data encoded in the value ","title":"KafkaStreams not reading messages from kafka in the beginning","body":"<p>In Kafka Streams, there's a static <code>consumerPrefix()</code> function that must be added to modify consumer client properties.</p>\n<p>Otherwise, you must pass <code>consumer.auto.offset.reset</code> as the property key.</p>\n<p>Otherwise, Kafka Streams consumes data in the order that the producer wrote the data. Your timestamp field isn't really relevant since producers can easily send data out of order, and you should use Kafka Streams windowing functions with a TimestampExtractor against the actual record timestamp, instead of data encoded in the value</p>\n"}],"owner":{"account_id":29647293,"reputation":25,"user_id":22722037,"display_name":"vijay"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1697172584,"creation_date":1697126519,"question_id":77282167,"body_markdown":"    @Bean\r\n        public KafkaStreams kafkaStreams(KafkaStreamsConfiguration streamsConfig) {\r\n            Properties props = new Properties();\r\n            props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\r\n            props.put(StreamsConfig.APPLICATION_ID_CONFIG, applicationId);\r\n            props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\r\n            props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\r\n            props.put(ConsumerConfig.GROUP_ID_CONFIG, UUID.randomUUID().toString());\r\n            props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\r\n            props.put(StreamsConfig.NUM_STREAM_THREADS_CONFIG, 1);\r\n    \r\n            StreamsBuilder builder = new StreamsBuilder();\r\n            \r\n            KStream&lt;String, String&gt; kStream = builder.stream(&quot;input-topic&quot;, Consumed.with( Serdes.String(), Serdes.String() ));\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            \r\n            // Use mapValues to parse JSON and extract the timestamp\r\n            kStream = kStream.mapValues(value -&gt; {\r\n                try {\r\n                    JsonNode jsonNode = objectMapper.readTree(value);\r\n                    long timestamp = jsonNode.get(&quot;timestamp&quot;).asLong();\r\n                    long tenMinutesAgo = System.currentTimeMillis() / 60000; // Current time in minutes\r\n                    if (timestamp &lt;= tenMinutesAgo) {\r\n                        log.info(&quot;paased timestamp: &quot; + timestamp);\r\n                        log.info(&quot;original tenMinutesAgo: &quot; + tenMinutesAgo);\r\n                        return value; // Keep messages that match the criteria\r\n                    } else {\r\n                        return null; // Filter out messages that don&#39;t match the criteria\r\n                    }\r\n                } catch (Exception e) {\r\n                    e.printStackTrace();\r\n                    return null;\r\n                }\r\n            }).filter((key, value) -&gt; value != null); // Remove messages that failed parsing\r\n    \r\n            kStream.to(&quot;output-topic&quot;, Produced.with(Serdes.String(), Serdes.String()));\r\n    \r\n            KafkaStreams kafkaStreams = new KafkaStreams(builder.build(), props);\r\n            kafkaStreams.start();\r\n            return kafkaStreams;\r\n        }\r\n\r\nIn input-topic I pass\r\n\r\n    {&quot;timestamp&quot;: &quot;28285312&quot;,&quot;id&quot;:&quot;time01&quot;}\r\n    {&quot;timestamp&quot;: &quot;28285420&quot;,&quot;id&quot;:&quot;time02&quot;}\r\n    {&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time05&quot;}\r\n    {&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time03&quot;}\r\n    {&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time04&quot;}\r\n\r\nIn output-topic, It check for the latest message timestamp with current timestamp, if it is less than or equal to current timestamp then it goes to output-topic. So, here 3rd timestamp is greater than current timestamp so it does not move to output topic but once it reaches the same timestamp as third one, kafkastream does not pick and put in output-topic.\r\n","title":"KafkaStreams not reading messages from kafka in the beginning","body":"<pre><code>@Bean\n    public KafkaStreams kafkaStreams(KafkaStreamsConfiguration streamsConfig) {\n        Properties props = new Properties();\n        props.put(&quot;bootstrap.servers&quot;, &quot;localhost:9092&quot;);\n        props.put(StreamsConfig.APPLICATION_ID_CONFIG, applicationId);\n        props.put(StreamsConfig.DEFAULT_KEY_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n        props.put(StreamsConfig.DEFAULT_VALUE_SERDE_CLASS_CONFIG, Serdes.String().getClass().getName());\n        props.put(ConsumerConfig.GROUP_ID_CONFIG, UUID.randomUUID().toString());\n        props.put(ConsumerConfig.AUTO_OFFSET_RESET_CONFIG, &quot;earliest&quot;);\n        props.put(StreamsConfig.NUM_STREAM_THREADS_CONFIG, 1);\n\n        StreamsBuilder builder = new StreamsBuilder();\n        \n        KStream&lt;String, String&gt; kStream = builder.stream(&quot;input-topic&quot;, Consumed.with( Serdes.String(), Serdes.String() ));\n        ObjectMapper objectMapper = new ObjectMapper();\n        \n        // Use mapValues to parse JSON and extract the timestamp\n        kStream = kStream.mapValues(value -&gt; {\n            try {\n                JsonNode jsonNode = objectMapper.readTree(value);\n                long timestamp = jsonNode.get(&quot;timestamp&quot;).asLong();\n                long tenMinutesAgo = System.currentTimeMillis() / 60000; // Current time in minutes\n                if (timestamp &lt;= tenMinutesAgo) {\n                    log.info(&quot;paased timestamp: &quot; + timestamp);\n                    log.info(&quot;original tenMinutesAgo: &quot; + tenMinutesAgo);\n                    return value; // Keep messages that match the criteria\n                } else {\n                    return null; // Filter out messages that don't match the criteria\n                }\n            } catch (Exception e) {\n                e.printStackTrace();\n                return null;\n            }\n        }).filter((key, value) -&gt; value != null); // Remove messages that failed parsing\n\n        kStream.to(&quot;output-topic&quot;, Produced.with(Serdes.String(), Serdes.String()));\n\n        KafkaStreams kafkaStreams = new KafkaStreams(builder.build(), props);\n        kafkaStreams.start();\n        return kafkaStreams;\n    }\n</code></pre>\n<p>In input-topic I pass</p>\n<pre><code>{&quot;timestamp&quot;: &quot;28285312&quot;,&quot;id&quot;:&quot;time01&quot;}\n{&quot;timestamp&quot;: &quot;28285420&quot;,&quot;id&quot;:&quot;time02&quot;}\n{&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time05&quot;}\n{&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time03&quot;}\n{&quot;timestamp&quot;: &quot;28285412&quot;,&quot;id&quot;:&quot;time04&quot;}\n</code></pre>\n<p>In output-topic, It check for the latest message timestamp with current timestamp, if it is less than or equal to current timestamp then it goes to output-topic. So, here 3rd timestamp is greater than current timestamp so it does not move to output topic but once it reaches the same timestamp as third one, kafkastream does not pick and put in output-topic.</p>\n"},{"tags":["java","maven","quarkus","sonarqube-scan"],"owner":{"account_id":10414482,"reputation":11,"user_id":8820990,"display_name":"dhruv dar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697171596,"creation_date":1697166718,"question_id":77284854,"body_markdown":"I have a multi module maven project in which I don&#39;t want to sonar scan the parent module but only the child module. Is it possible ?","title":"Is it possible to scan child module but skip parent","body":"<p>I have a multi module maven project in which I don't want to sonar scan the parent module but only the child module. Is it possible ?</p>\n"},{"tags":["java","servlets","return"],"answers":[{"tags":[],"owner":{"account_id":70258,"reputation":590444,"user_id":203907,"accept_rate":81,"display_name":"Bozho"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1259140498,"creation_date":1259140498,"answer_id":1795634,"question_id":1795624,"body_markdown":"No. As a regular `void` method, it does not require a `return`","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>No. As a regular <code>void</code> method, it does not require a <code>return</code></p>\n"},{"tags":[],"owner":{"account_id":76242,"reputation":512,"user_id":218428,"accept_rate":56,"display_name":"Alexander Reifinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259140522,"creation_date":1259140522,"answer_id":1795636,"question_id":1795624,"body_markdown":"There is no difference at all, a return is implicit at the end of a method.","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>There is no difference at all, a return is implicit at the end of a method.</p>\n"},{"tags":[],"owner":{"account_id":19562,"reputation":30712,"user_id":45935,"accept_rate":100,"display_name":"Jim Ferrans"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1259140532,"creation_date":1259140532,"answer_id":1795639,"question_id":1795624,"body_markdown":"No difference at all, the return statement is unnecessary.","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>No difference at all, the return statement is unnecessary.</p>\n"},{"tags":[],"owner":{"account_id":5094,"reputation":7198,"user_id":8015,"display_name":"mfx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1259140959,"creation_date":1259140959,"answer_id":1795683,"question_id":1795624,"body_markdown":"Utterly unnecessary; doesn&#39;t add any style points, either.","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>Utterly unnecessary; doesn't add any style points, either.</p>\n"},{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1259149801,"creation_date":1259149801,"answer_id":1796453,"question_id":1795624,"body_markdown":"There are however cases where you see the `return` statement in a servlet method which might be at first glance confusing for starters. Here&#39;s an example:\r\n\r\n\r\n    protected void doPost(request, response) {\r\n        if (someCondition) {\r\n            response.sendRedirect(&quot;page&quot;);\r\n            return;\r\n        }\r\n        doSomethingElse();\r\n        request.getRequestDispatcher(&quot;page&quot;).forward(request, response);\r\n    }\r\n\r\nHere the `return` statement is **necessary** because calling a redirect (or forward) does not cause the code to magically jump out of the method block as some starters seem to think. It still continues to run until the end which would cause an `IllegalStateException: response already committed` at the point when the forward is called.","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>There are however cases where you see the <code>return</code> statement in a servlet method which might be at first glance confusing for starters. Here's an example:</p>\n\n<pre><code>protected void doPost(request, response) {\n    if (someCondition) {\n        response.sendRedirect(\"page\");\n        return;\n    }\n    doSomethingElse();\n    request.getRequestDispatcher(\"page\").forward(request, response);\n}\n</code></pre>\n\n<p>Here the <code>return</code> statement is <strong>necessary</strong> because calling a redirect (or forward) does not cause the code to magically jump out of the method block as some starters seem to think. It still continues to run until the end which would cause an <code>IllegalStateException: response already committed</code> at the point when the forward is called.</p>\n"}],"owner":{"account_id":76239,"reputation":85,"user_id":218423,"display_name":"havstein"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4658,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":1795634,"answer_count":5,"score":4,"last_activity_date":1697171151,"creation_date":1259140401,"question_id":1795624,"body_markdown":"Is there any difference between explicitly returning at the end of doGet or doPost-methods, and just letting the method return &quot;by itself&quot;?\r\n\r\n    public void doGet(HttpSerlvetRequest req, HttpServletResponse resp) {\r\n        &lt;my code here&gt;\r\n        return;\r\n    }\r\n\r\n    public void doGet(HttpSerlvetRequest req, HttpServletResponse resp) {\r\n        &lt;my code here&gt;\r\n    }","title":"Should a servlet explicitly return at the end of doGet/doPost?","body":"<p>Is there any difference between explicitly returning at the end of doGet or doPost-methods, and just letting the method return \"by itself\"?</p>\n\n<pre><code>public void doGet(HttpSerlvetRequest req, HttpServletResponse resp) {\n    &lt;my code here&gt;\n    return;\n}\n\npublic void doGet(HttpSerlvetRequest req, HttpServletResponse resp) {\n    &lt;my code here&gt;\n}\n</code></pre>\n"},{"tags":["java","record","java-16","java-record"],"comments":[{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":3,"creation_date":1654070044,"post_id":72458073,"comment_id":128001562,"body_markdown":"Only the `dateOfBirth` field is &quot;deep cloned&quot;, none of your operations on the `Map` perfom &quot;deep cloning&quot;. The references in the new map&#39;s entries are still pointing to the existing objects. But those (String and Integer) are immutable, so it&#39;s not a terrible problem. Your loop can be replaced by `metaData = new HashMap(metaData);` since that constructor does exactly what your loop does.  `Map.copyOf` [creates an unmodifiable Map](https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#copyOf(java.util.Map)), but the values are still the same.","body":"Only the <code>dateOfBirth</code> field is &quot;deep cloned&quot;, none of your operations on the <code>Map</code> perfom &quot;deep cloning&quot;. The references in the new map&#39;s entries are still pointing to the existing objects. But those (String and Integer) are immutable, so it&#39;s not a terrible problem. Your loop can be replaced by <code>metaData = new HashMap(metaData);</code> since that constructor does exactly what your loop does.  <code>Map.copyOf</code> <a href=\"https://docs.oracle.com/javase/10/docs/api/java/util/Map.html#copyOf(java.util.Map)\" rel=\"nofollow noreferrer\">creates an unmodifiable Map</a>, but the values are still the same."},{"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":2,"creation_date":1654070139,"post_id":72458073,"comment_id":128001592,"body_markdown":"By the way… Why are you mixing the modern *java.time* classes with the terrible legacy date-time classes? Never use either `Date` class, they were replaced by `java.time.LocalDate` and `java.time.Instant` classes. Being mutable is one of the many flawed design decisions in those legacy classes.","body":"By the way… Why are you mixing the modern <i>java.time</i> classes with the terrible legacy date-time classes? Never use either <code>Date</code> class, they were replaced by <code>java.time.LocalDate</code> and <code>java.time.Instant</code> classes. Being mutable is one of the many flawed design decisions in those legacy classes."},{"owner":{"account_id":2497273,"reputation":483,"user_id":2173372,"accept_rate":14,"display_name":"user2173372"},"score":0,"creation_date":1654073083,"post_id":72458073,"comment_id":128002593,"body_markdown":"This example I have just  used to show the doubt I am having it  is not for the actual project.","body":"This example I have just  used to show the doubt I am having it  is not for the actual project."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1654153581,"creation_date":1654071648,"answer_id":72458536,"question_id":72458073,"body_markdown":"First of all, in terms of design, generally the responsibility for copying data should fall upon the calling method that instantiates the record. The constructor should *not* be doing this copying, commonly.\r\n\r\nLet’s change the name of this record, as “ImmutableRecord” is redundant, and fails to reflect your problem domain. Apparently you intend to represent students, given the admission date field. So your entire class definition could be:\r\n\r\n    public record Student ( String name, LocalDate admitted, LocalDate dateOfBirth, Map&lt;String, Integer&gt; metaData ) {}\r\n\r\nThe modern and immutable `LocalDate` class should always be used instead of the mutable legacy class `java.sql.Date` class.\r\n\r\nThe calling method should do the copying, as seen further below.\r\n\r\nRegarding your attempt to clone the map:\r\n\r\n        Map&lt;String, Integer&gt; tempMap = new HashMap&lt;&gt;();\r\n        for(Map.Entry&lt;String, Integer&gt; entry: metaData.entrySet()){\r\n            tempMap.put(entry.getKey(), entry.getValue());\r\n        }\r\n\r\nThat copying is *not* a deep clone. You did not copy the *content* of the keys. Nor did you copy the content of the values. You did create another `Map` object. But both the old map and the new map have entries holding *references* to the very same key &amp; value objects.\r\n\r\nYour copying is effectively the same as merely passing the old map to the constructor of a new map. Both old and new map have entries that point to the same key objects and the same value objects.\r\n\r\n    Map &lt; String , Integer &gt; metaData = new HashMap &lt;&gt; ( oldMetaData ) ;\r\n\r\nYour copying is nearly the same as `Map.copyOf( oldMap )` except that `copyOf` produces an unmodifiable map of some unspecified class implementing `Map` rather than a modifiable `HashMap`. But like your code above, both the old and new maps point to the same key objects and the same value objects. \r\n\r\nSo the calling code would look something like this:\r\n\r\n    Student someStudent = new Student( &quot;Alice&quot; , … ) ;\r\n    …\r\n    Student twinStudent = \r\n        new Student( \r\n            &quot;Bob&quot; , \r\n            LocalDate.of( 2021, Month.MARCH, 23 ), \r\n            someStudent.dateOfBirth, \r\n            Map.copyOf( someStudent.metaData ) \r\n        ) \r\n    ;\r\n\r\nThe purpose of the [records][1] feature is to concisely define a class whose main purpose is to communicate data transparently and immutably. So ideally a record should contain immutable content. That is another reason to prefer `Map.copyOf` over a new `HashMap`.\r\n\r\nAs [commented][2], another reason to prefer `Map.copyOf` is that if the passed map is already unmodifiable, that passed map is returned directly. Less memory used, and less CPU used.\r\n\r\nAs [commented][3], one possible limitation to using `Map.copyOf` is that nulls are *not* tolerated in the map reference, in any of the keys, nor in any of the values. `Map.copyOf` is a “null-free zone”, my own newly coined term. \r\n\r\nIf nulls are tolerable in your scheme, an alternative would be [`Collections.unmodifiableMap`][4]. And, for defensive programming, make a copy of the map being wrapped by `Collections.unmodifiableMap`. \r\n\r\n    metaData = Collections.unmodifiableMap( new HashMap&lt;&gt;( oldMetaData ) ) ;\r\n\r\n\r\n  [1]: http://openjdk.java.net/jeps/395\r\n  [2]: https://stackoverflow.com/questions/72458073/creating-immutable-records-having-mutable-fields/72458536?noredirect=1#comment128004300_72458536\r\n  [3]: https://stackoverflow.com/questions/72458073/creating-immutable-records-having-mutable-fields/72458536?noredirect=1#comment128004131_72458536\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#unmodifiableMap(java.util.Map)","title":"Creating immutable Records having mutable fields","body":"<p>First of all, in terms of design, generally the responsibility for copying data should fall upon the calling method that instantiates the record. The constructor should <em>not</em> be doing this copying, commonly.</p>\n<p>Let’s change the name of this record, as “ImmutableRecord” is redundant, and fails to reflect your problem domain. Apparently you intend to represent students, given the admission date field. So your entire class definition could be:</p>\n<pre><code>public record Student ( String name, LocalDate admitted, LocalDate dateOfBirth, Map&lt;String, Integer&gt; metaData ) {}\n</code></pre>\n<p>The modern and immutable <code>LocalDate</code> class should always be used instead of the mutable legacy class <code>java.sql.Date</code> class.</p>\n<p>The calling method should do the copying, as seen further below.</p>\n<p>Regarding your attempt to clone the map:</p>\n<pre><code>    Map&lt;String, Integer&gt; tempMap = new HashMap&lt;&gt;();\n    for(Map.Entry&lt;String, Integer&gt; entry: metaData.entrySet()){\n        tempMap.put(entry.getKey(), entry.getValue());\n    }\n</code></pre>\n<p>That copying is <em>not</em> a deep clone. You did not copy the <em>content</em> of the keys. Nor did you copy the content of the values. You did create another <code>Map</code> object. But both the old map and the new map have entries holding <em>references</em> to the very same key &amp; value objects.</p>\n<p>Your copying is effectively the same as merely passing the old map to the constructor of a new map. Both old and new map have entries that point to the same key objects and the same value objects.</p>\n<pre><code>Map &lt; String , Integer &gt; metaData = new HashMap &lt;&gt; ( oldMetaData ) ;\n</code></pre>\n<p>Your copying is nearly the same as <code>Map.copyOf( oldMap )</code> except that <code>copyOf</code> produces an unmodifiable map of some unspecified class implementing <code>Map</code> rather than a modifiable <code>HashMap</code>. But like your code above, both the old and new maps point to the same key objects and the same value objects.</p>\n<p>So the calling code would look something like this:</p>\n<pre><code>Student someStudent = new Student( &quot;Alice&quot; , … ) ;\n…\nStudent twinStudent = \n    new Student( \n        &quot;Bob&quot; , \n        LocalDate.of( 2021, Month.MARCH, 23 ), \n        someStudent.dateOfBirth, \n        Map.copyOf( someStudent.metaData ) \n    ) \n;\n</code></pre>\n<p>The purpose of the <a href=\"http://openjdk.java.net/jeps/395\" rel=\"nofollow noreferrer\">records</a> feature is to concisely define a class whose main purpose is to communicate data transparently and immutably. So ideally a record should contain immutable content. That is another reason to prefer <code>Map.copyOf</code> over a new <code>HashMap</code>.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/72458073/creating-immutable-records-having-mutable-fields/72458536?noredirect=1#comment128004300_72458536\">commented</a>, another reason to prefer <code>Map.copyOf</code> is that if the passed map is already unmodifiable, that passed map is returned directly. Less memory used, and less CPU used.</p>\n<p>As <a href=\"https://stackoverflow.com/questions/72458073/creating-immutable-records-having-mutable-fields/72458536?noredirect=1#comment128004131_72458536\">commented</a>, one possible limitation to using <code>Map.copyOf</code> is that nulls are <em>not</em> tolerated in the map reference, in any of the keys, nor in any of the values. <code>Map.copyOf</code> is a “null-free zone”, my own newly coined term.</p>\n<p>If nulls are tolerable in your scheme, an alternative would be <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Collections.html#unmodifiableMap(java.util.Map)\" rel=\"nofollow noreferrer\"><code>Collections.unmodifiableMap</code></a>. And, for defensive programming, make a copy of the map being wrapped by <code>Collections.unmodifiableMap</code>.</p>\n<pre><code>metaData = Collections.unmodifiableMap( new HashMap&lt;&gt;( oldMetaData ) ) ;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":87230,"reputation":36816,"user_id":242042,"accept_rate":57,"display_name":"Archimedes Trajano"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662110421,"creation_date":1662110421,"answer_id":73580367,"question_id":72458073,"body_markdown":"It is probably best to think of the design decision as binary... i.e., is it immutable or not?\r\n\r\nIn your case you have something that&#39;s mutable.  That being the case just use Lombok `@Data` to build it.\r\n\r\nIn addition you can:\r\n\r\n*  add @Builder to provide you with a fluent builder\r\n* add @With to provide you with a copying mutator","title":"Creating immutable Records having mutable fields","body":"<p>It is probably best to think of the design decision as binary... i.e., is it immutable or not?</p>\n<p>In your case you have something that's mutable.  That being the case just use Lombok <code>@Data</code> to build it.</p>\n<p>In addition you can:</p>\n<ul>\n<li>add @Builder to provide you with a fluent builder</li>\n<li>add @With to provide you with a copying mutator</li>\n</ul>\n"}],"owner":{"account_id":2497273,"reputation":483,"user_id":2173372,"accept_rate":14,"display_name":"user2173372"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3681,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":2,"score":1,"last_activity_date":1697170465,"creation_date":1654069385,"question_id":72458073,"body_markdown":"I want to create an immutable record which has 2 mutable fields Date and a HashMap\r\n\r\n    public record ImmutableRecord(String name, LocalDate admissionDate, Date dateOfBirth, Map&lt;String, Integer&gt; metaData) {\r\n    \r\n        public ImmutableRecord{\r\n            // Date is a mutable field\r\n            dateOfBirth = new Date(dateOfBirth.getTime());\r\n    \r\n            // HashMap is a mutable field\r\n            Map&lt;String, Integer&gt; tempMap = new HashMap&lt;&gt;();\r\n            for(Map.Entry&lt;String, Integer&gt; entry: metaData.entrySet()){\r\n                tempMap.put(entry.getKey(), entry.getValue());\r\n            }\r\n            metaData = tempMap;\r\n    \r\n            //Can I use following instead of above for deep copying the map?\r\n            metaData = Map.copyOf(metaData);\r\n        }\r\n    \r\n    }\r\n\r\nWhich of the following approach is correct using forEach to deep clone every field or using Map.copyOf","title":"Creating immutable Records having mutable fields","body":"<p>I want to create an immutable record which has 2 mutable fields Date and a HashMap</p>\n<pre><code>public record ImmutableRecord(String name, LocalDate admissionDate, Date dateOfBirth, Map&lt;String, Integer&gt; metaData) {\n\n    public ImmutableRecord{\n        // Date is a mutable field\n        dateOfBirth = new Date(dateOfBirth.getTime());\n\n        // HashMap is a mutable field\n        Map&lt;String, Integer&gt; tempMap = new HashMap&lt;&gt;();\n        for(Map.Entry&lt;String, Integer&gt; entry: metaData.entrySet()){\n            tempMap.put(entry.getKey(), entry.getValue());\n        }\n        metaData = tempMap;\n\n        //Can I use following instead of above for deep copying the map?\n        metaData = Map.copyOf(metaData);\n    }\n\n}\n</code></pre>\n<p>Which of the following approach is correct using forEach to deep clone every field or using Map.copyOf</p>\n"},{"tags":["java","db2","prepared-statement"],"comments":[{"owner":{"display_name":"user330315"},"score":1,"creation_date":1445496776,"post_id":33274889,"comment_id":54350505,"body_markdown":"Show us the code that prepares and runs the statement.","body":"Show us the code that prepares and runs the statement."},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1445499737,"post_id":33274889,"comment_id":54351993,"body_markdown":"@a_horse_with_no_name added","body":"@a_horse_with_no_name added"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1445499852,"post_id":33274889,"comment_id":54352046,"body_markdown":"What do you see when you add a `System.out.println(sSQL);` after the `getSQL()` call?","body":"What do you see when you add a <code>System.out.println(sSQL);</code> after the <code>getSQL()</code> call?"},{"owner":{"account_id":7104805,"reputation":1066,"user_id":5434821,"accept_rate":89,"display_name":"PK20"},"score":0,"creation_date":1445503670,"post_id":33274889,"comment_id":54354260,"body_markdown":"were you able to successfully execute your query outside your program. I think it is because of invalid schema or not able to reach db","body":"were you able to successfully execute your query outside your program. I think it is because of invalid schema or not able to reach db"},{"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"score":0,"creation_date":1445504929,"post_id":33274889,"comment_id":54355044,"body_markdown":"I&#39;m sorry, it maybe because of a blank query because there were some XML reading problems. After fixing them, the error went away. I will have to investigate further *if* the error comes up again.","body":"I&#39;m sorry, it maybe because of a blank query because there were some XML reading problems. After fixing them, the error went away. I will have to investigate further <i>if</i> the error comes up again."}],"answers":[{"tags":[],"owner":{"account_id":25857991,"reputation":1,"user_id":19590919,"display_name":"yang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663210903,"creation_date":1663210903,"answer_id":73725187,"question_id":33274889,"body_markdown":"Because the SQL execution has comments;\r\nPlease refer to the official documentation\r\nhttps://www.ibm.com/support/pages/apar/PH14323\r\n\r\nAlso try writing it like this\r\n\r\n    &lt;sql&gt; \r\n      select MY_COLUMN from MY_TABLE where OTHER_COLUMN = ? \r\n    &lt;/sql&gt;","title":"DB2 SqlException: SQL passed with no tokens (Error Code -4462)","body":"<p>Because the SQL execution has comments;\nPlease refer to the official documentation\n<a href=\"https://www.ibm.com/support/pages/apar/PH14323\" rel=\"nofollow noreferrer\">https://www.ibm.com/support/pages/apar/PH14323</a></p>\n<p>Also try writing it like this</p>\n<pre><code>&lt;sql&gt; \n  select MY_COLUMN from MY_TABLE where OTHER_COLUMN = ? \n&lt;/sql&gt;\n</code></pre>\n"}],"owner":{"account_id":1152709,"reputation":9229,"user_id":1134080,"accept_rate":68,"display_name":"ADTC"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697170216,"creation_date":1445496397,"question_id":33274889,"body_markdown":"Trying to use `prepareStatement` on a query from an XML file:\r\n\r\n    &lt;sql&gt;&lt;![CDATA[\r\n      select MY_COLUMN from MY_TABLE where OTHER_COLUMN = ? \r\n    ]]&gt;\r\n    &lt;/sql&gt;\r\n\r\nBut I get this exception:\r\n\r\n    com.ibm.db2.jcc.am.SqlException: [jcc][t4][10234][10927][3.59.81] SQL passed with no tokens. ERRORCODE=-4462, SQLSTATE=null\r\n            at com.ibm.db2.jcc.am.dd.a(dd.java:660)\r\n            at com.ibm.db2.jcc.am.dd.a(dd.java:60)\r\n            at com.ibm.db2.jcc.am.dd.a(dd.java:120)\r\n            at com.ibm.db2.jcc.am.jb.v(jb.java:7334)\r\n            at com.ibm.db2.jcc.am.jb.a(jb.java:2124)\r\n            at com.ibm.db2.jcc.am.jb.prepareStatement(jb.java:754)\r\n\r\nI read that this is because the SQL is not in a single line. Is that the cause?\r\n\r\nI also read that in IBM Portal, you have to change `db2_zos.DbDriverType` from 2 to 4. But I think it&#39;s irrelevant to me as I don&#39;t use IBM Portal.\r\n\r\nNothing else useful turned up from Google. I would love to know the real cause of the error, and to find an easier fix than forcing all SQL to single line.\r\n\r\n**Code:**\r\n\r\n    ArrayList arrList = new ArrayList();\r\n\r\n    String sSQL = queryManager.getSQL(&quot;QRY001&quot;);\r\n\r\n    Connection conn = null;\r\n    PreparedStatement ps = null;\r\n    ResultSet rs = null;\r\n    try {\r\n      conn = getConnection(); //a connection pool wrapper for java.sql.DriverManager.getConnection(...)\r\n      ps = conn.prepareStatement(sSQL); // **** EXCEPTION OCCURS HERE\r\n\r\n      ps.setInt(1, Integer.parseInt(otherColumn));\r\n      rs = ps.executeQuery();\r\n      while (rs.next())\r\n      {\r\n        arrList.add(rs.getString(1));\r\n      }\r\n    } catch (Exception e) {\r\n      e.printStackTrace();\r\n      throw new OEException(e);\r\n    } finally {\r\n      try {\r\n        if (rs != null) {\r\n          rs.close();\r\n        }\r\n        if (ps != null) {\r\n          ps.close();\r\n        }\r\n        releaseConnection(conn);\r\n      } catch (Exception e) {\r\n        throw new CustomException(e);\r\n      }\r\n    }\r\n    return arrList;","title":"DB2 SqlException: SQL passed with no tokens (Error Code -4462)","body":"<p>Trying to use <code>prepareStatement</code> on a query from an XML file:</p>\n\n<pre><code>&lt;sql&gt;&lt;![CDATA[\n  select MY_COLUMN from MY_TABLE where OTHER_COLUMN = ? \n]]&gt;\n&lt;/sql&gt;\n</code></pre>\n\n<p>But I get this exception:</p>\n\n<pre><code>com.ibm.db2.jcc.am.SqlException: [jcc][t4][10234][10927][3.59.81] SQL passed with no tokens. ERRORCODE=-4462, SQLSTATE=null\n        at com.ibm.db2.jcc.am.dd.a(dd.java:660)\n        at com.ibm.db2.jcc.am.dd.a(dd.java:60)\n        at com.ibm.db2.jcc.am.dd.a(dd.java:120)\n        at com.ibm.db2.jcc.am.jb.v(jb.java:7334)\n        at com.ibm.db2.jcc.am.jb.a(jb.java:2124)\n        at com.ibm.db2.jcc.am.jb.prepareStatement(jb.java:754)\n</code></pre>\n\n<p>I read that this is because the SQL is not in a single line. Is that the cause?</p>\n\n<p>I also read that in IBM Portal, you have to change <code>db2_zos.DbDriverType</code> from 2 to 4. But I think it's irrelevant to me as I don't use IBM Portal.</p>\n\n<p>Nothing else useful turned up from Google. I would love to know the real cause of the error, and to find an easier fix than forcing all SQL to single line.</p>\n\n<p><strong>Code:</strong></p>\n\n<pre><code>ArrayList arrList = new ArrayList();\n\nString sSQL = queryManager.getSQL(\"QRY001\");\n\nConnection conn = null;\nPreparedStatement ps = null;\nResultSet rs = null;\ntry {\n  conn = getConnection(); //a connection pool wrapper for java.sql.DriverManager.getConnection(...)\n  ps = conn.prepareStatement(sSQL); // **** EXCEPTION OCCURS HERE\n\n  ps.setInt(1, Integer.parseInt(otherColumn));\n  rs = ps.executeQuery();\n  while (rs.next())\n  {\n    arrList.add(rs.getString(1));\n  }\n} catch (Exception e) {\n  e.printStackTrace();\n  throw new OEException(e);\n} finally {\n  try {\n    if (rs != null) {\n      rs.close();\n    }\n    if (ps != null) {\n      ps.close();\n    }\n    releaseConnection(conn);\n  } catch (Exception e) {\n    throw new CustomException(e);\n  }\n}\nreturn arrList;\n</code></pre>\n"},{"tags":["java","hibernate","spring"],"comments":[{"owner":{"account_id":58992,"reputation":15767,"user_id":176569,"accept_rate":70,"display_name":"bpgergo"},"score":0,"creation_date":1321009040,"post_id":8092872,"comment_id":9920399,"body_markdown":"maybe you should have posted the pom.xml as well. there could be a problem with the Spring dependency. So make sure Spring jar will be on classpath when you run it.","body":"maybe you should have posted the pom.xml as well. there could be a problem with the Spring dependency. So make sure Spring jar will be on classpath when you run it."}],"answers":[{"tags":[],"owner":{"account_id":917764,"reputation":52449,"user_id":950178,"display_name":"Jayendra"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1321008834,"creation_date":1321008834,"answer_id":8092925,"question_id":8092872,"body_markdown":"Make sure archive `org.springframework.jdbc_XX.jar` exists in your classpath.","title":"java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource","body":"<p>Make sure archive <code>org.springframework.jdbc_XX.jar</code> exists in your classpath.</p>\n"},{"tags":[],"owner":{"account_id":4777214,"reputation":277,"user_id":3859996,"accept_rate":20,"display_name":"Phong Nguyen"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1697170185,"creation_date":1405933937,"answer_id":24861413,"question_id":8092872,"body_markdown":"insert this dependency to your pom.xml file:\r\n\r\nIt will run properly definitely!\r\n\r\n    &lt;dependency&gt;\r\n    \t&lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\r\n    \t&lt;version&gt;4.0.6.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource","body":"<p>insert this dependency to your pom.xml file:</p>\n<p>It will run properly definitely!</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-jdbc&lt;/artifactId&gt;\n    &lt;version&gt;4.0.6.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1001426,"reputation":1683,"user_id":1016193,"accept_rate":42,"display_name":"achref05"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55501,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1697170185,"creation_date":1321008548,"question_id":8092872,"body_markdown":"I am writing an application using Hibernate and Spring. However I am encountering the following error:\r\n\r\n    nov. 11, 2011 10:32:11 AM org.apache.catalina.core.AprLifecycleListener init\r\n    Infos: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files\\Java\\jre7\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\apache-maven-2.2.1\\bin;C:\\Program Files\\Java\\jdk1.7.0\\bin;C:\\Program Files\\Java\\jdk1.7.0\\jre\\bin;C:\\Program Files\\Java\\jdk1.7.0\\bin;C:\\Program Files\\Java\\jre7\\bin;C:\\apache-ant-1.8.2\\bin;.\r\n    nov. 11, 2011 10:32:12 AM org.apache.coyote.AbstractProtocol init\r\n    Infos: Initializing ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    nov. 11, 2011 10:32:12 AM org.apache.coyote.AbstractProtocol init\r\n    Infos: Initializing ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.startup.Catalina load\r\n    Infos: Initialization processed in 769 ms\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.core.StandardService startInternal\r\n    Infos: D&#233;marrage du service Catalina\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.core.StandardEngine startInternal\r\n    Infos: Starting Servlet Engine: Apache Tomcat/7.0.21\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.startup.HostConfig deployDescriptor\r\n    Infos: D&#233;ploiement du descripteur de configuration achrefliferay-portlet.xml\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.startup.HostConfig deployDescriptor\r\n    Avertissement: A docBase C:\\liferay-portal-6.1.0\\tomcat-7.0.21\\webapps\\achrefliferay-portlet inside the host appBase has been specified, and will be ignored\r\n    nov. 11, 2011 10:32:12 AM org.apache.catalina.startup.SetContextPropertiesRule begin\r\n    Avertissement: [SetContextPropertiesRule]{Context} Setting property &#39;source&#39; to &#39;org.eclipse.jst.jee.server:achrefliferay-portlet&#39; did not find a matching property.\r\n    10:32:13,318 INFO  [ContextLoader:187] Root WebApplicationContext: initialization started\r\n    10:32:13,367 INFO  [XmlWebApplicationContext:456] Refreshing Root WebApplicationContext: startup date [Fri Nov 11 10:32:13 GMT 2011]; root of context hierarchy\r\n    10:32:13,446 INFO  [XmlBeanDefinitionReader:315] Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]\r\n    10:32:13,705 INFO  [XmlBeanDefinitionReader:315] Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]\r\n    10:32:14,198 INFO  [PropertyPlaceholderConfigurer:177] Loading properties file from ServletContext resource [/WEB-INF/jdbc.properties]\r\n    10:32:14,286 INFO  [DefaultListableBeanFactory:422] Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@2d726d05: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,articleDaoImp,org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,dataSource,sessionFactory,org.springframework.jdbc.datasource.DriverManagerDataSource#0,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,txnManager,org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0]; root of factory hierarchy\r\n    10:32:14,305 ERROR [ContextLoader:220] Context initialization failed\r\n    org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0&#39; defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]: Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: Lorg/springframework/jdbc/support/lob/LobHandler;\r\n    Related cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name &#39;dataSource&#39; defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    Related cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name &#39;org.springframework.jdbc.datasource.DriverManagerDataSource#0&#39; defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\r\n    \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.NoClassDefFoundError: Lorg/springframework/jdbc/support/lob/LobHandler;\r\n    \tat java.lang.Class.getDeclaredFields0(Native Method)\r\n    \tat java.lang.Class.privateGetDeclaredFields(Unknown Source)\r\n    \tat java.lang.Class.getDeclaredFields(Unknown Source)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:372)\r\n    \tat org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:320)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:798)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:493)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:398)\r\n    \tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \t... 18 more\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.jdbc.support.lob.LobHandler\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\r\n    \t... 39 more\r\n    Related cause:\r\n    org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name &#39;dataSource&#39; defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1250)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:576)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1319)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:394)\r\n    \tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\r\n    \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\r\n    \tat org.springframework.util.ClassUtils.forName(ClassUtils.java:257)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:408)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1271)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1242)\r\n    \t... 30 more\r\n    Related cause:\r\n    org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name &#39;org.springframework.jdbc.datasource.DriverManagerDataSource#0&#39; defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1250)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:576)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1319)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:315)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:394)\r\n    \tat org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\r\n    \tat org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\r\n    \tat org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\r\n    \tat org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\r\n    \tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\r\n    \tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\r\n    \tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\r\n    \tat org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\r\n    \tat org.springframework.util.ClassUtils.forName(ClassUtils.java:257)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:408)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1271)\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1242)\r\n    \t... 30 more\r\n    nov. 11, 2011 10:32:14 AM org.apache.catalina.core.StandardContext startInternal\r\n    Grave: Error listenerStart\r\n    nov. 11, 2011 10:32:14 AM org.apache.catalina.core.StandardContext startInternal\r\n    Grave: Erreur de d&#233;marrage du contexte [/achrefliferay-portlet] suite aux erreurs pr&#233;c&#233;dentes\r\n    nov. 11, 2011 10:32:14 AM org.apache.catalina.startup.HostConfig deployDescriptor\r\n    Infos: D&#233;ploiement du descripteur de configuration ROOT.xml\r\n    Loading jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/system.properties\r\n    10:32:15,617 INFO  [EasyConf:122] Refreshed the configuration of all components\r\n    10:32:15,959 INFO  [ConfigurationLoader:56] Properties for jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal loaded from [file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-developer.properties, file:/C:/liferay-portal-6.1.0/portal-ide.properties, file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-ext.properties, jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties]\r\n    Loading jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties\r\n    Loading file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-ext.properties\r\n    Loading file:/C:/liferay-portal-6.1.0/portal-ide.properties\r\n    Loading file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-developer.properties\r\n    10:32:22,625 INFO  [DialectDetector:80] Determine dialect for PostgreSQL 9\r\n    10:32:22,678 INFO  [DialectDetector:145] Found dialect org.hibernate.dialect.PostgreSQLDialect\r\n    Starting Liferay Portal Community Edition 6.1.0 CE (Paton / Build 6100 / March 24, 2011)\r\n    10:32:47,529 INFO  [BaseDB:406] Database supports case sensitive queries\r\n    10:32:48,000 INFO  [PluginPackageUtil:1098] Reading plugin package for the root context\r\n    10:32:54,200 INFO  [PluginPackageUtil:1282] Reloading repositories\r\n    10:32:59,742 INFO  [AutoDeployDir:105] Auto deploy scanner started for C:\\liferay-portal-6.1.0\\deploy\r\n    10:33:01,108 INFO  [PluginPackageUtil:1101] Reading plugin package for achrefliferay-portlet\r\n    10:33:01,109 WARN  [PluginPackageUtil:1060] Plugin package on context achrefliferay-portlet cannot be tracked because this WAR does not contain a liferay-plugin-package.xml file\r\n    nov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\r\n    Infos: Illegal access: this web application instance has been stopped already.  Could not load service.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    nov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\r\n    Infos: Illegal access: this web application instance has been stopped already.  Could not load service.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    nov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\r\n    Infos: Illegal access: this web application instance has been stopped already.  Could not load portlet.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    nov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\r\n    Infos: Illegal access: this web application instance has been stopped already.  Could not load portlet.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\r\n    nov. 11, 2011 10:33:01 AM org.apache.catalina.startup.HostConfig deployDirectory\r\n    Infos: D&#233;ploiement du r&#233;pertoire tunnel-web de l&#39;application web\r\n    nov. 11, 2011 10:33:08 AM org.apache.coyote.AbstractProtocol start\r\n    Infos: Starting ProtocolHandler [&quot;http-bio-8080&quot;]\r\n    nov. 11, 2011 10:33:08 AM org.apache.coyote.AbstractProtocol start\r\n    Infos: Starting ProtocolHandler [&quot;ajp-bio-8009&quot;]\r\n    nov. 11, 2011 10:33:08 AM org.apache.catalina.startup.Catalina start\r\n    Infos: Server startup in 55882 ms\r\n\r\n##hibernatedataaccess.xml\r\n\r\nThis is my `hibernatedataaccess.xml`:\r\n      \r\n&lt;!-- language: lang-xml --&gt;\r\n        \r\n          &lt;!-- Auto-detect the DAOs --&gt;\r\n          &lt;context:component-scan base-package=&quot;com.bd.dao&quot;/&gt;\r\n        \r\n          &lt;context:property-placeholder location=&quot;WEB-INF/jdbc.properties&quot;/&gt;\r\n        \r\n        \r\n        \t&lt;bean id=&quot;dataSource&quot;\r\n        \t\tclass=&quot;org.springframework.jdbc.datasource.DriverManagerDataSource&quot;&gt;\r\n        \t\t&lt;property name=&quot;driverClassName&quot; value=&quot;${database.driver}&quot; /&gt;\r\n        \t\t&lt;property name=&quot;url&quot; value=&quot;${database.url}&quot; /&gt;\r\n        \t\t&lt;property name=&quot;username&quot; value=&quot;${database.user}&quot; /&gt;\r\n        \t\t&lt;property name=&quot;password&quot; value=&quot;${database.password}&quot; /&gt;\r\n        \t&lt;/bean&gt;\r\n        \r\n         \r\n          \r\n          \t&lt;bean id=&quot;sessionFactory&quot;\r\n        \t\tclass=&quot;org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean&quot;&gt;\r\n        \t\t&lt;property name=&quot;dataSource&quot; ref=&quot;dataSource&quot; /&gt;\r\n        \t\t&lt;property name=&quot;annotatedClasses&quot;&gt;\r\n        \t\t\t&lt;list&gt;\r\n        \t\t\t\t&lt;value&gt;com.bd.entity.Article&lt;/value&gt;\r\n        \t\t\t\t\r\n        \t\t\t&lt;/list&gt;\r\n        \t\t&lt;/property&gt;\r\n        \t\t&lt;property name=&quot;hibernateProperties&quot;&gt;\r\n        \t\t\t&lt;props&gt;\r\n        \t\t\t\t&lt;prop key=&quot;hibernate.dialect&quot;&gt;${hibernate.dialect}&lt;/prop&gt;\r\n        \t\t\t\t&lt;prop key=&quot;hibernate.show_sql&quot;&gt;${hibernate.show_sql}&lt;/prop&gt;\t\t\r\n        \t\t\t\t&lt;!-- generation base donn&#233;e \t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/prop&gt; --&gt;\r\n        \t\t&lt;prop key=&quot;hibernate.hbm2ddl.auto&quot;&gt;create-drop&lt;/prop&gt;\r\n        \t\t\t&lt;/props&gt;\r\n        \t\t&lt;/property&gt;\r\n        \t\t\r\n        \t&lt;/bean&gt;\r\n          \r\n          \r\n        \r\n          &lt;tx:annotation-driven transaction-manager=&quot;txnManager&quot;/&gt;\r\n        \r\n          &lt;bean id=&quot;txnManager&quot;\r\n                class=&quot;org.springframework.orm.hibernate3.HibernateTransactionManager&quot;\r\n                p:sessionFactory-ref=&quot;sessionFactory&quot;/&gt;\r\n        \r\n          &lt;bean class=&quot;org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor&quot;/&gt;\r\n        \r\n        &lt;/beans&gt;\r\n    \r\n##aplicationcontest.xml\r\n\r\nThis is my `aplicationcontest.xml`:\r\n    \r\n&lt;!-- language: lang-xml --&gt;\r\n    \r\n      &lt;!-- Auto-detect components --&gt;\r\n      &lt;context:component-scan base-package=&quot;com.bd.entity&quot;/&gt; \r\n    &lt;b:import resource=&quot;hibernateDataAccessContext.xml&quot;/&gt;\r\n    \r\n    &lt;/b:beans&gt;\r\n\r\n## Web.xml\r\n\r\nThis is my `web.xml`:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;web-app xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns=&quot;http://java.sun.com/xml/ns/javaee&quot; xmlns:web=&quot;http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd&quot; id=&quot;WebApp_ID&quot; version=&quot;2.5&quot;&gt;\r\n      &lt;display-name&gt;achrefliferay-portlet&lt;/display-name&gt;\r\n      \r\n       &lt;context-param&gt;\r\n            &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n            &lt;param-value&gt;\r\n    \r\n                            /WEB-INF/applicationContext.xml\r\n    \r\n            &lt;/param-value&gt;\r\n        &lt;/context-param&gt;\r\n    \r\n     &lt;context-param&gt;\r\n        &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\r\n        &lt;param-value&gt;/WEB-INF/classes/log4j.properties&lt;/param-value&gt;\r\n      &lt;/context-param&gt;\r\n      \r\n      &lt;listener&gt;\r\n        &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n      \r\n      &lt;context-param&gt;\r\n    \t\t&lt;description&gt;\r\n    \t\tVaadin production mode&lt;/description&gt;\r\n    \t\t&lt;param-name&gt;productionMode&lt;/param-name&gt;\r\n    \t\t&lt;param-value&gt;false&lt;/param-value&gt;\r\n    \t&lt;/context-param&gt;\r\n    \t&lt;servlet&gt;\r\n    \t\t&lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\r\n    \t\t&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\r\n    \t\t&lt;init-param&gt;\r\n    \t\t\t&lt;description&gt;\r\n    \t\t\tVaadin application class to start&lt;/description&gt;\r\n    \t\t\t&lt;param-name&gt;application&lt;/param-name&gt;\r\n    \t\t\t&lt;param-value&gt;com.vaadin.demo.workoutlog.WorkoutLog&lt;/param-value&gt;\r\n    \t\t&lt;/init-param&gt;\r\n    \t&lt;/servlet&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/Vaadin-hibernate-portletApplicationServlet/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n    \t&lt;servlet-mapping&gt;\r\n    \t\t&lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\r\n    \t\t&lt;url-pattern&gt;/VAADIN/*&lt;/url-pattern&gt;\r\n    \t&lt;/servlet-mapping&gt;\r\n      \r\n      &lt;welcome-file-list&gt;\r\n        &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\r\n        &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\r\n      &lt;/welcome-file-list&gt;\r\n      &lt;jsp-config&gt;\r\n      \t&lt;taglib&gt;\r\n      \t\t&lt;taglib-uri&gt;http://java.sun.com/portlet_2_0&lt;/taglib-uri&gt;\r\n      \t\t&lt;taglib-location&gt;\r\n      \t\t\t/WEB-INF/tld/liferay-portlet.tld\r\n      \t\t&lt;/taglib-location&gt;\r\n      \t&lt;/taglib&gt;\r\n      &lt;/jsp-config&gt;\r\n    &lt;/web-app&gt;\r\n\r\n\r\n\r\nWhat could be wrong?\r\n        ","title":"java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource","body":"<p>I am writing an application using Hibernate and Spring. However I am encountering the following error:</p>\n\n<pre><code>nov. 11, 2011 10:32:11 AM org.apache.catalina.core.AprLifecycleListener init\nInfos: The APR based Apache Tomcat Native library which allows optimal performance in production environments was not found on the java.library.path: C:\\Program Files\\Java\\jre7\\bin;C:\\Windows\\Sun\\Java\\bin;C:\\Windows\\system32;C:\\Windows;C:\\Program Files (x86)\\NVIDIA Corporation\\PhysX\\Common;C:\\Windows\\system32;C:\\Windows;C:\\Windows\\System32\\Wbem;C:\\Windows\\System32\\WindowsPowerShell\\v1.0\\;C:\\apache-maven-2.2.1\\bin;C:\\Program Files\\Java\\jdk1.7.0\\bin;C:\\Program Files\\Java\\jdk1.7.0\\jre\\bin;C:\\Program Files\\Java\\jdk1.7.0\\bin;C:\\Program Files\\Java\\jre7\\bin;C:\\apache-ant-1.8.2\\bin;.\nnov. 11, 2011 10:32:12 AM org.apache.coyote.AbstractProtocol init\nInfos: Initializing ProtocolHandler [\"http-bio-8080\"]\nnov. 11, 2011 10:32:12 AM org.apache.coyote.AbstractProtocol init\nInfos: Initializing ProtocolHandler [\"ajp-bio-8009\"]\nnov. 11, 2011 10:32:12 AM org.apache.catalina.startup.Catalina load\nInfos: Initialization processed in 769 ms\nnov. 11, 2011 10:32:12 AM org.apache.catalina.core.StandardService startInternal\nInfos: Démarrage du service Catalina\nnov. 11, 2011 10:32:12 AM org.apache.catalina.core.StandardEngine startInternal\nInfos: Starting Servlet Engine: Apache Tomcat/7.0.21\nnov. 11, 2011 10:32:12 AM org.apache.catalina.startup.HostConfig deployDescriptor\nInfos: Déploiement du descripteur de configuration achrefliferay-portlet.xml\nnov. 11, 2011 10:32:12 AM org.apache.catalina.startup.HostConfig deployDescriptor\nAvertissement: A docBase C:\\liferay-portal-6.1.0\\tomcat-7.0.21\\webapps\\achrefliferay-portlet inside the host appBase has been specified, and will be ignored\nnov. 11, 2011 10:32:12 AM org.apache.catalina.startup.SetContextPropertiesRule begin\nAvertissement: [SetContextPropertiesRule]{Context} Setting property 'source' to 'org.eclipse.jst.jee.server:achrefliferay-portlet' did not find a matching property.\n10:32:13,318 INFO  [ContextLoader:187] Root WebApplicationContext: initialization started\n10:32:13,367 INFO  [XmlWebApplicationContext:456] Refreshing Root WebApplicationContext: startup date [Fri Nov 11 10:32:13 GMT 2011]; root of context hierarchy\n10:32:13,446 INFO  [XmlBeanDefinitionReader:315] Loading XML bean definitions from ServletContext resource [/WEB-INF/applicationContext.xml]\n10:32:13,705 INFO  [XmlBeanDefinitionReader:315] Loading XML bean definitions from ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]\n10:32:14,198 INFO  [PropertyPlaceholderConfigurer:177] Loading properties file from ServletContext resource [/WEB-INF/jdbc.properties]\n10:32:14,286 INFO  [DefaultListableBeanFactory:422] Destroying singletons in org.springframework.beans.factory.support.DefaultListableBeanFactory@2d726d05: defining beans [org.springframework.context.annotation.internalConfigurationAnnotationProcessor,org.springframework.context.annotation.internalAutowiredAnnotationProcessor,org.springframework.context.annotation.internalRequiredAnnotationProcessor,org.springframework.context.annotation.internalCommonAnnotationProcessor,org.springframework.context.annotation.internalPersistenceAnnotationProcessor,articleDaoImp,org.springframework.beans.factory.config.PropertyPlaceholderConfigurer#0,dataSource,sessionFactory,org.springframework.jdbc.datasource.DriverManagerDataSource#0,org.springframework.aop.config.internalAutoProxyCreator,org.springframework.transaction.annotation.AnnotationTransactionAttributeSource#0,org.springframework.transaction.interceptor.TransactionInterceptor#0,org.springframework.transaction.config.internalTransactionAdvisor,txnManager,org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0]; root of factory hierarchy\n10:32:14,305 ERROR [ContextLoader:220] Context initialization failed\norg.springframework.beans.factory.BeanCreationException: Error creating bean with name 'org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor#0' defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]: Initialization of bean failed; nested exception is java.lang.NoClassDefFoundError: Lorg/springframework/jdbc/support/lob/LobHandler;\nRelated cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\nRelated cause: org.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name 'org.springframework.jdbc.datasource.DriverManagerDataSource#0' defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:527)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\n    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.NoClassDefFoundError: Lorg/springframework/jdbc/support/lob/LobHandler;\n    at java.lang.Class.getDeclaredFields0(Native Method)\n    at java.lang.Class.privateGetDeclaredFields(Unknown Source)\n    at java.lang.Class.getDeclaredFields(Unknown Source)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.findPersistenceMetadata(PersistenceAnnotationBeanPostProcessor.java:372)\n    at org.springframework.orm.jpa.support.PersistenceAnnotationBeanPostProcessor.postProcessMergedBeanDefinition(PersistenceAnnotationBeanPostProcessor.java:320)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyMergedBeanDefinitionPostProcessors(AbstractAutowireCapableBeanFactory.java:798)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:493)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:398)\n    at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    ... 18 more\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.support.lob.LobHandler\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\n    ... 39 more\nRelated cause:\norg.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name 'dataSource' defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1250)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:576)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1319)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:315)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:394)\n    at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\n    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:257)\n    at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:408)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1271)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1242)\n    ... 30 more\nRelated cause:\norg.springframework.beans.factory.CannotLoadBeanClassException: Cannot find class [org.springframework.jdbc.datasource.DriverManagerDataSource] for bean with name 'org.springframework.jdbc.datasource.DriverManagerDataSource#0' defined in ServletContext resource [/WEB-INF/hibernateDataAccessContext.xml]; nested exception is java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1250)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:576)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1319)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:315)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeansOfType(DefaultListableBeanFactory.java:394)\n    at org.springframework.beans.factory.BeanFactoryUtils.beansOfTypeIncludingAncestors(BeanFactoryUtils.java:275)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.detectPersistenceExceptionTranslators(PersistenceExceptionTranslationInterceptor.java:139)\n    at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.&lt;init&gt;(PersistenceExceptionTranslationInterceptor.java:79)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationAdvisor.&lt;init&gt;(PersistenceExceptionTranslationAdvisor.java:70)\n    at org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor.setBeanFactory(PersistenceExceptionTranslationPostProcessor.java:99)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeAwareMethods(AbstractAutowireCapableBeanFactory.java:1439)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1408)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:519)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:456)\n    at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:291)\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:222)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:288)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:194)\n    at org.springframework.context.support.AbstractApplicationContext.registerBeanPostProcessors(AbstractApplicationContext.java:710)\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:410)\n    at org.springframework.web.context.ContextLoader.createWebApplicationContext(ContextLoader.java:276)\n    at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:197)\n    at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:47)\n    at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4723)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5226)\n    at org.apache.catalina.core.StandardContext$1.call(StandardContext.java:5221)\n    at java.util.concurrent.FutureTask$Sync.innerRun(Unknown Source)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: org.springframework.jdbc.datasource.DriverManagerDataSource\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1678)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1523)\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:257)\n    at org.springframework.beans.factory.support.AbstractBeanDefinition.resolveBeanClass(AbstractBeanDefinition.java:408)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doResolveBeanClass(AbstractBeanFactory.java:1271)\n    at org.springframework.beans.factory.support.AbstractBeanFactory.resolveBeanClass(AbstractBeanFactory.java:1242)\n    ... 30 more\nnov. 11, 2011 10:32:14 AM org.apache.catalina.core.StandardContext startInternal\nGrave: Error listenerStart\nnov. 11, 2011 10:32:14 AM org.apache.catalina.core.StandardContext startInternal\nGrave: Erreur de démarrage du contexte [/achrefliferay-portlet] suite aux erreurs précédentes\nnov. 11, 2011 10:32:14 AM org.apache.catalina.startup.HostConfig deployDescriptor\nInfos: Déploiement du descripteur de configuration ROOT.xml\nLoading jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/system.properties\n10:32:15,617 INFO  [EasyConf:122] Refreshed the configuration of all components\n10:32:15,959 INFO  [ConfigurationLoader:56] Properties for jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal loaded from [file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-developer.properties, file:/C:/liferay-portal-6.1.0/portal-ide.properties, file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-ext.properties, jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties]\nLoading jar:file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/lib/portal-impl.jar!/portal.properties\nLoading file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-ext.properties\nLoading file:/C:/liferay-portal-6.1.0/portal-ide.properties\nLoading file:/C:/liferay-portal-6.1.0/tomcat-7.0.21/webapps/ROOT/WEB-INF/classes/portal-developer.properties\n10:32:22,625 INFO  [DialectDetector:80] Determine dialect for PostgreSQL 9\n10:32:22,678 INFO  [DialectDetector:145] Found dialect org.hibernate.dialect.PostgreSQLDialect\nStarting Liferay Portal Community Edition 6.1.0 CE (Paton / Build 6100 / March 24, 2011)\n10:32:47,529 INFO  [BaseDB:406] Database supports case sensitive queries\n10:32:48,000 INFO  [PluginPackageUtil:1098] Reading plugin package for the root context\n10:32:54,200 INFO  [PluginPackageUtil:1282] Reloading repositories\n10:32:59,742 INFO  [AutoDeployDir:105] Auto deploy scanner started for C:\\liferay-portal-6.1.0\\deploy\n10:33:01,108 INFO  [PluginPackageUtil:1101] Reading plugin package for achrefliferay-portlet\n10:33:01,109 WARN  [PluginPackageUtil:1060] Plugin package on context achrefliferay-portlet cannot be tracked because this WAR does not contain a liferay-plugin-package.xml file\nnov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\nInfos: Illegal access: this web application instance has been stopped already.  Could not load service.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\nnov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\nInfos: Illegal access: this web application instance has been stopped already.  Could not load service.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\nnov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\nInfos: Illegal access: this web application instance has been stopped already.  Could not load portlet.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\nnov. 11, 2011 10:33:01 AM org.apache.catalina.loader.WebappClassLoader findResourceInternal\nInfos: Illegal access: this web application instance has been stopped already.  Could not load portlet.properties.  The eventual following stack trace is caused by an error thrown for debugging purposes as well as to attempt to terminate the thread which caused the illegal access, and has no functional impact.\nnov. 11, 2011 10:33:01 AM org.apache.catalina.startup.HostConfig deployDirectory\nInfos: Déploiement du répertoire tunnel-web de l'application web\nnov. 11, 2011 10:33:08 AM org.apache.coyote.AbstractProtocol start\nInfos: Starting ProtocolHandler [\"http-bio-8080\"]\nnov. 11, 2011 10:33:08 AM org.apache.coyote.AbstractProtocol start\nInfos: Starting ProtocolHandler [\"ajp-bio-8009\"]\nnov. 11, 2011 10:33:08 AM org.apache.catalina.startup.Catalina start\nInfos: Server startup in 55882 ms\n</code></pre>\n\n<h2>hibernatedataaccess.xml</h2>\n\n<p>This is my <code>hibernatedataaccess.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>      &lt;!-- Auto-detect the DAOs --&gt;\n      &lt;context:component-scan base-package=\"com.bd.dao\"/&gt;\n\n      &lt;context:property-placeholder location=\"WEB-INF/jdbc.properties\"/&gt;\n\n\n        &lt;bean id=\"dataSource\"\n            class=\"org.springframework.jdbc.datasource.DriverManagerDataSource\"&gt;\n            &lt;property name=\"driverClassName\" value=\"${database.driver}\" /&gt;\n            &lt;property name=\"url\" value=\"${database.url}\" /&gt;\n            &lt;property name=\"username\" value=\"${database.user}\" /&gt;\n            &lt;property name=\"password\" value=\"${database.password}\" /&gt;\n        &lt;/bean&gt;\n\n\n\n        &lt;bean id=\"sessionFactory\"\n            class=\"org.springframework.orm.hibernate3.annotation.AnnotationSessionFactoryBean\"&gt;\n            &lt;property name=\"dataSource\" ref=\"dataSource\" /&gt;\n            &lt;property name=\"annotatedClasses\"&gt;\n                &lt;list&gt;\n                    &lt;value&gt;com.bd.entity.Article&lt;/value&gt;\n\n                &lt;/list&gt;\n            &lt;/property&gt;\n            &lt;property name=\"hibernateProperties\"&gt;\n                &lt;props&gt;\n                    &lt;prop key=\"hibernate.dialect\"&gt;${hibernate.dialect}&lt;/prop&gt;\n                    &lt;prop key=\"hibernate.show_sql\"&gt;${hibernate.show_sql}&lt;/prop&gt;     \n                    &lt;!-- generation base donnée     &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;create-drop&lt;/prop&gt; --&gt;\n            &lt;prop key=\"hibernate.hbm2ddl.auto\"&gt;create-drop&lt;/prop&gt;\n                &lt;/props&gt;\n            &lt;/property&gt;\n\n        &lt;/bean&gt;\n\n\n\n      &lt;tx:annotation-driven transaction-manager=\"txnManager\"/&gt;\n\n      &lt;bean id=\"txnManager\"\n            class=\"org.springframework.orm.hibernate3.HibernateTransactionManager\"\n            p:sessionFactory-ref=\"sessionFactory\"/&gt;\n\n      &lt;bean class=\"org.springframework.dao.annotation.PersistenceExceptionTranslationPostProcessor\"/&gt;\n\n    &lt;/beans&gt;\n</code></pre>\n\n<h2>aplicationcontest.xml</h2>\n\n<p>This is my <code>aplicationcontest.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>  &lt;!-- Auto-detect components --&gt;\n  &lt;context:component-scan base-package=\"com.bd.entity\"/&gt; \n&lt;b:import resource=\"hibernateDataAccessContext.xml\"/&gt;\n\n&lt;/b:beans&gt;\n</code></pre>\n\n<h2>Web.xml</h2>\n\n<p>This is my <code>web.xml</code>:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;web-app xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns=\"http://java.sun.com/xml/ns/javaee\" xmlns:web=\"http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" xsi:schemaLocation=\"http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd\" id=\"WebApp_ID\" version=\"2.5\"&gt;\n  &lt;display-name&gt;achrefliferay-portlet&lt;/display-name&gt;\n\n   &lt;context-param&gt;\n        &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n        &lt;param-value&gt;\n\n                        /WEB-INF/applicationContext.xml\n\n        &lt;/param-value&gt;\n    &lt;/context-param&gt;\n\n &lt;context-param&gt;\n    &lt;param-name&gt;log4jConfigLocation&lt;/param-name&gt;\n    &lt;param-value&gt;/WEB-INF/classes/log4j.properties&lt;/param-value&gt;\n  &lt;/context-param&gt;\n\n  &lt;listener&gt;\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener&lt;/listener-class&gt;\n&lt;/listener&gt;\n\n  &lt;context-param&gt;\n        &lt;description&gt;\n        Vaadin production mode&lt;/description&gt;\n        &lt;param-name&gt;productionMode&lt;/param-name&gt;\n        &lt;param-value&gt;false&lt;/param-value&gt;\n    &lt;/context-param&gt;\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet&lt;/servlet-class&gt;\n        &lt;init-param&gt;\n            &lt;description&gt;\n            Vaadin application class to start&lt;/description&gt;\n            &lt;param-name&gt;application&lt;/param-name&gt;\n            &lt;param-value&gt;com.vaadin.demo.workoutlog.WorkoutLog&lt;/param-value&gt;\n        &lt;/init-param&gt;\n    &lt;/servlet&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/Vaadin-hibernate-portletApplicationServlet/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;Vaadin&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;/VAADIN/*&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\n\n  &lt;welcome-file-list&gt;\n    &lt;welcome-file&gt;index.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;index.jsp&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.html&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.htm&lt;/welcome-file&gt;\n    &lt;welcome-file&gt;default.jsp&lt;/welcome-file&gt;\n  &lt;/welcome-file-list&gt;\n  &lt;jsp-config&gt;\n    &lt;taglib&gt;\n        &lt;taglib-uri&gt;http://java.sun.com/portlet_2_0&lt;/taglib-uri&gt;\n        &lt;taglib-location&gt;\n            /WEB-INF/tld/liferay-portlet.tld\n        &lt;/taglib-location&gt;\n    &lt;/taglib&gt;\n  &lt;/jsp-config&gt;\n&lt;/web-app&gt;\n</code></pre>\n\n<p>What could be wrong?</p>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":485590,"reputation":2558,"user_id":901982,"accept_rate":54,"display_name":"Matto"},"score":1,"creation_date":1377544550,"post_id":8958217,"comment_id":27114503,"body_markdown":"I wonder, will deleting in a loop cause performance problems?","body":"I wonder, will deleting in a loop cause performance problems?"}],"answers":[{"tags":[],"owner":{"account_id":182362,"reputation":15840,"user_id":416996,"accept_rate":85,"display_name":"Jama A."},"down_vote_count":2,"up_vote_count":78,"is_accepted":false,"score":76,"last_activity_date":1697168975,"creation_date":1327221718,"answer_id":8959971,"question_id":8958217,"body_markdown":"For **deleting** data, use HQL which is **the best option**.\r\nI think **Criteria&#39;s** main purpose is for **retrieving** data only.\r\n\r\nThis one is with `Criteria`:\r\n\r\n```java\r\nStudent student = (Student ) session.createCriteria(Student.class)\r\n\t\t\t\t.add(Restrictions.eq(&quot;classId&quot;, classId)).uniqueResult();\r\nsession.delete(student);\r\n```\r\n\r\nAnd this one is simple HQL query:\r\n\r\n```java\r\nString hql = &quot;delete from Student where classId= :classId&quot;;\r\nsession.createQuery(hql).setString(&quot;classId&quot;, classId).executeUpdate();\r\n```\r\n","title":"How to delete by criteria in hibernate?","body":"<p>For <strong>deleting</strong> data, use HQL which is <strong>the best option</strong>.\nI think <strong>Criteria's</strong> main purpose is for <strong>retrieving</strong> data only.</p>\n<p>This one is with <code>Criteria</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Student student = (Student ) session.createCriteria(Student.class)\n                .add(Restrictions.eq(&quot;classId&quot;, classId)).uniqueResult();\nsession.delete(student);\n</code></pre>\n<p>And this one is simple HQL query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String hql = &quot;delete from Student where classId= :classId&quot;;\nsession.createQuery(hql).setString(&quot;classId&quot;, classId).executeUpdate();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":227875,"reputation":557,"user_id":489802,"accept_rate":71,"display_name":"Shams"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1487768708,"creation_date":1353007907,"answer_id":13404758,"question_id":8958217,"body_markdown":" You can easily achieve by following simple hibernate as follows,\r\n\r\n    Session session=getSession();  \r\n    String hql = &quot;delete from Student where classId= :id&quot;; \r\n    session.createQuery(hql).setLong(&quot;id&quot;, new Integer(id)).executeUpdate();\r\n    \r\n\r\nfor details [refer][1]\r\n\r\n\r\n  [1]: http://www.smashplus.info/2012/11/delete-query-in-hibernate-example.html","title":"How to delete by criteria in hibernate?","body":"<p>You can easily achieve by following simple hibernate as follows,</p>\n\n<pre><code>Session session=getSession();  \nString hql = \"delete from Student where classId= :id\"; \nsession.createQuery(hql).setLong(\"id\", new Integer(id)).executeUpdate();\n</code></pre>\n\n<p>for details <a href=\"http://www.smashplus.info/2012/11/delete-query-in-hibernate-example.html\" rel=\"noreferrer\">refer</a></p>\n"},{"tags":[],"owner":{"account_id":4998832,"reputation":74,"user_id":4018442,"display_name":"onacione"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1418894837,"creation_date":1418894837,"answer_id":27543172,"question_id":8958217,"body_markdown":"   \r\n\r\n     /**\r\n     * \r\n     * @param objects\r\n     */\r\n     public static void deleteAll(List&lt;?&gt; objects) {\r\n        \r\n                try {\r\n                    HibernateEntityManager em = JPA.em().unwrap(HibernateEntityManager.class);\r\n                    Session session = em.getSession();\r\n                    for (Object o : objects) {\r\n                        session.delete(o);\r\n                    }\r\n                } catch (Exception e) {\r\n                    Logger.error(&quot;CommonHibernateBD_deleteAll error: &quot; + e);\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n         }","title":"How to delete by criteria in hibernate?","body":"<pre><code> /**\n * \n * @param objects\n */\n public static void deleteAll(List&lt;?&gt; objects) {\n\n            try {\n                HibernateEntityManager em = JPA.em().unwrap(HibernateEntityManager.class);\n                Session session = em.getSession();\n                for (Object o : objects) {\n                    session.delete(o);\n                }\n            } catch (Exception e) {\n                Logger.error(\"CommonHibernateBD_deleteAll error: \" + e);\n                e.printStackTrace();\n            }\n\n     }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5428310,"reputation":51,"user_id":4319957,"accept_rate":50,"display_name":"Boni Saputra"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1439949824,"creation_date":1439949824,"answer_id":32085391,"question_id":8958217,"body_markdown":"first you need a form with input , the value of the input is model that you have modeled in modelmap, than\r\nmake \r\n&lt;a href=&quot;delete?id=${studentid}&quot;&gt;delete &lt;a/&gt;\r\nin some link.\r\nthan get the id parameter , with \r\n@requestparam(&quot;id&quot;)String id\r\n\r\nknow we got id of the object\r\nand then delete the id\r\ne.g.\r\n\r\n    @RequestMapping(value=&quot;delsubloc&quot;,method=RequestMethod.GET)\r\n    \tpublic String DeleteLoc(@RequestParam(&quot;id&quot;)Long id) {\r\n    \t\tPplLocDtlDAO dtl = new PplLocDtlDAO();\r\n    \t\tPplLocDtl loc = new PplLocDtl();\r\n    \t\tloc.setLocDtlId((long)id);\r\n    \t\tdtl.delete(loc);\r\n    \t\treturn &quot;redirect:/lokasi&quot;;\r\n        }\r\n\r\n","title":"How to delete by criteria in hibernate?","body":"<p>first you need a form with input , the value of the input is model that you have modeled in modelmap, than\nmake \ndelete \nin some link.\nthan get the id parameter , with \n@requestparam(\"id\")String id</p>\n\n<p>know we got id of the object\nand then delete the id\ne.g.</p>\n\n<pre><code>@RequestMapping(value=\"delsubloc\",method=RequestMethod.GET)\n    public String DeleteLoc(@RequestParam(\"id\")Long id) {\n        PplLocDtlDAO dtl = new PplLocDtlDAO();\n        PplLocDtl loc = new PplLocDtl();\n        loc.setLocDtlId((long)id);\n        dtl.delete(loc);\n        return \"redirect:/lokasi\";\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2648056,"reputation":6847,"user_id":2290369,"accept_rate":80,"display_name":"Ismail Yavuz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1440502988,"creation_date":1440502988,"answer_id":32203081,"question_id":8958217,"body_markdown":"This one is the best way and better than @Jama Asatillayev &#39;s answer.\r\nBecause you dont have to retrieve the persistent object first. \r\n\r\n    Product product = new Product();\r\n    product.setId(37);\r\n    session.delete(product);\r\n\r\nAnd hibernate will run:\r\n\r\n    Hibernate: delete from PRODUCT where PRODUCT_ID=?\r\n\r\nMore details: http://www.codejava.net/frameworks/hibernate/hibernate-basics-3-ways-to-delete-an-entity-from-the-datastore","title":"How to delete by criteria in hibernate?","body":"<p>This one is the best way and better than @Jama Asatillayev 's answer.\nBecause you dont have to retrieve the persistent object first. </p>\n\n<pre><code>Product product = new Product();\nproduct.setId(37);\nsession.delete(product);\n</code></pre>\n\n<p>And hibernate will run:</p>\n\n<pre><code>Hibernate: delete from PRODUCT where PRODUCT_ID=?\n</code></pre>\n\n<p>More details: <a href=\"http://www.codejava.net/frameworks/hibernate/hibernate-basics-3-ways-to-delete-an-entity-from-the-datastore\" rel=\"noreferrer\">http://www.codejava.net/frameworks/hibernate/hibernate-basics-3-ways-to-delete-an-entity-from-the-datastore</a></p>\n"},{"tags":[],"owner":{"account_id":1513574,"reputation":168,"user_id":5899384,"display_name":"Rodrigo R. Coelho"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1475095511,"creation_date":1475095511,"answer_id":39757328,"question_id":8958217,"body_markdown":"You should upgrade your hibernate version to a version that implements JPA 2.1 (Hibernate starts JPA 2.1 on version 4.3.11.Final - [Hibernate Downloads][1]) \r\n\r\n\r\nOnce you have upgraded, you can use **CriteriaDelete** to do what you want.\r\nhere is a small example:\r\n[Example][2]\r\n\r\n  [1]: http://hibernate.org/orm/downloads/ &quot;Hibernate Downloads&quot;\r\n\r\n  [2]: http://www.thoughts-on-java.org/criteria-updatedelete-easy-way-to/ &quot;Example&quot;","title":"How to delete by criteria in hibernate?","body":"<p>You should upgrade your hibernate version to a version that implements JPA 2.1 (Hibernate starts JPA 2.1 on version 4.3.11.Final - <a href=\"http://hibernate.org/orm/downloads/\" rel=\"nofollow\" title=\"Hibernate Downloads\">Hibernate Downloads</a>) </p>\n\n<p>Once you have upgraded, you can use <strong>CriteriaDelete</strong> to do what you want.\nhere is a small example:\n<a href=\"http://www.thoughts-on-java.org/criteria-updatedelete-easy-way-to/\" rel=\"nofollow\" title=\"Example\">Example</a></p>\n"},{"tags":[],"owner":{"account_id":5288895,"reputation":1547,"user_id":4222003,"accept_rate":67,"display_name":"Maulik Kakadiya"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1527144888,"creation_date":1527144888,"answer_id":50502848,"question_id":8958217,"body_markdown":"You Can use criteria for in condition \r\n\r\n    public Integer deleteByFieldIn(String Field, Iterable&lt;?&gt; values) {\r\n    \tCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    \tCriteriaDelete&lt;T&gt; delete = cb.createCriteriaDelete(getDomainClass());\r\n    \tRoot&lt;T&gt; e = delete.from(getDomainClass());\r\n    \tdelete.where(cb.in(e.get(Field)).value(values));\r\n    \treturn entityManager.createQuery(delete).executeUpdate();\r\n    }\r\n\r\nand You can use same for equal  condition by replacing in to equal like\r\n\r\n    public Integer deleteById(String id) {\r\n    \tCriteriaBuilder cb = entityManager.getCriteriaBuilder();\r\n    \tCriteriaDelete&lt;T&gt; delete = cb.createCriteriaDelete(getDomainClass());\r\n    \tRoot&lt;T&gt; e = delete.from(getDomainClass());\r\n    \tdelete.where(cb.equal(e.get(&quot;id&quot;), id));\r\n    \treturn entityManager.createQuery(delete).executeUpdate();\r\n    }","title":"How to delete by criteria in hibernate?","body":"<p>You Can use criteria for in condition </p>\n\n<pre><code>public Integer deleteByFieldIn(String Field, Iterable&lt;?&gt; values) {\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    CriteriaDelete&lt;T&gt; delete = cb.createCriteriaDelete(getDomainClass());\n    Root&lt;T&gt; e = delete.from(getDomainClass());\n    delete.where(cb.in(e.get(Field)).value(values));\n    return entityManager.createQuery(delete).executeUpdate();\n}\n</code></pre>\n\n<p>and You can use same for equal  condition by replacing in to equal like</p>\n\n<pre><code>public Integer deleteById(String id) {\n    CriteriaBuilder cb = entityManager.getCriteriaBuilder();\n    CriteriaDelete&lt;T&gt; delete = cb.createCriteriaDelete(getDomainClass());\n    Root&lt;T&gt; e = delete.from(getDomainClass());\n    delete.where(cb.equal(e.get(\"id\"), id));\n    return entityManager.createQuery(delete).executeUpdate();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2701493,"reputation":1169,"user_id":2332121,"display_name":"Sanjeev Dhiman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1549438161,"creation_date":1549438161,"answer_id":54548571,"question_id":8958217,"body_markdown":"I know I&#39;m pretty late to the party but if you happen to use JPA 2.1 you can do it this way -\r\n\r\n&gt; https://thoughts-on-java.org/criteria-updatedelete-easy-way-to/\r\n\r\n\r\n     public void deleteOrder(Double amount) {\r\n        CriteriaBuilder cb = this.em.getCriteriaBuilder();\r\n\r\n        // create delete\r\n        CriteriaDelete&lt;Order&gt; delete = cb.\r\n         createCriteriaDelete(Order.class);\r\n\r\n        // set the root class\r\n        Root e = delete.from(Order.class);\r\n\r\n        // set where clause\r\n        delete.where(cb.lessThanOrEqualTo(e.get(&quot;amount&quot;), amount));\r\n\r\n        // perform update\r\n        this.em.createQuery(delete).executeUpdate();\r\n    }","title":"How to delete by criteria in hibernate?","body":"<p>I know I'm pretty late to the party but if you happen to use JPA 2.1 you can do it this way -</p>\n\n<blockquote>\n  <p><a href=\"https://thoughts-on-java.org/criteria-updatedelete-easy-way-to/\" rel=\"noreferrer\">https://thoughts-on-java.org/criteria-updatedelete-easy-way-to/</a></p>\n</blockquote>\n\n<pre><code> public void deleteOrder(Double amount) {\n    CriteriaBuilder cb = this.em.getCriteriaBuilder();\n\n    // create delete\n    CriteriaDelete&lt;Order&gt; delete = cb.\n     createCriteriaDelete(Order.class);\n\n    // set the root class\n    Root e = delete.from(Order.class);\n\n    // set where clause\n    delete.where(cb.lessThanOrEqualTo(e.get(\"amount\"), amount));\n\n    // perform update\n    this.em.createQuery(delete).executeUpdate();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7968615,"reputation":360,"user_id":10335878,"display_name":"Pivoter"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1571942796,"creation_date":1571942796,"answer_id":58547474,"question_id":8958217,"body_markdown":"To delete, you must use the ```CriteriaDelete``` query. ```CriteriaBuilder``` ensures that the query is type safe if this use properly. Add a metadata class ```Student_``` to your method to avoid errors peculiar to ```HQL```, ```JPQL``` or ```NativeQuery```.\r\n\r\n```\r\n...\r\n\r\nprivate EntityManager em;\r\n\r\n...\r\n\r\npublic void deleteByIdUser(int classId) {\r\n    try {\r\n\t\tCriteriaBuilder builder = em.getCriteriaBuilder();\r\n\t\tCriteriaDelete&lt;Student&gt; deleteQuery = builder.createCriteriaDelete(Student.class);\r\n\t\t\t\r\n\t\tRoot&lt;Student&gt; studentTable = deleteQuery.from(Student.class);\t\t\r\n\t\t\r\n        Path&lt;Long&gt; classIdPath = userRoleTable.get(Student_.classId);\r\n\t\tPredicate classIdPredicate = builder.equal(classIdPath, classId);\r\n\t\t\t\r\n\t\tdeleteQuery.where(classIdPredicate);\r\n\t\tem.createQuery(deleteQuery).executeUpdate();\t\r\n\t} catch (Exception e) {\r\n\t\t...\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThis info must be added to pom to generate metadata classes for your entities.\r\n```\r\n&lt;plugin&gt;\r\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n\t&lt;configuration&gt;\r\n\t    &lt;annotationProcessorPaths&gt;\r\n\t\t\t&lt;path&gt;\r\n\t\t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\r\n\t\t\t&lt;/path&gt;\r\n\t\t&lt;/annotationProcessorPaths&gt;\r\n\t&lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\nThis is verbose, but avoids redundant ```RuntimeExceptions```.","title":"How to delete by criteria in hibernate?","body":"<p>To delete, you must use the <code>CriteriaDelete</code> query. <code>CriteriaBuilder</code> ensures that the query is type safe if this use properly. Add a metadata class <code>Student_</code> to your method to avoid errors peculiar to <code>HQL</code>, <code>JPQL</code> or <code>NativeQuery</code>.</p>\n\n<pre><code>...\n\nprivate EntityManager em;\n\n...\n\npublic void deleteByIdUser(int classId) {\n    try {\n        CriteriaBuilder builder = em.getCriteriaBuilder();\n        CriteriaDelete&lt;Student&gt; deleteQuery = builder.createCriteriaDelete(Student.class);\n\n        Root&lt;Student&gt; studentTable = deleteQuery.from(Student.class);       \n\n        Path&lt;Long&gt; classIdPath = userRoleTable.get(Student_.classId);\n        Predicate classIdPredicate = builder.equal(classIdPath, classId);\n\n        deleteQuery.where(classIdPredicate);\n        em.createQuery(deleteQuery).executeUpdate();    \n    } catch (Exception e) {\n        ...\n    }\n}\n\n</code></pre>\n\n<p>This info must be added to pom to generate metadata classes for your entities.</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n        &lt;annotationProcessorPaths&gt;\n            &lt;path&gt;\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n                &lt;artifactId&gt;hibernate-jpamodelgen&lt;/artifactId&gt;\n            &lt;/path&gt;\n        &lt;/annotationProcessorPaths&gt;\n    &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>This is verbose, but avoids redundant <code>RuntimeExceptions</code>.</p>\n"}],"owner":{"account_id":1147586,"reputation":481,"user_id":1130007,"display_name":"chan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":100054,"favorite_count":0,"down_vote_count":0,"up_vote_count":41,"answer_count":9,"score":41,"last_activity_date":1697168975,"creation_date":1327195470,"question_id":8958217,"body_markdown":"I have a student table and want to delete all students in a class.\r\n\r\nSo my sql query would look like:\r\n\r\n    delete from student where classId = 333\r\n\r\nHow can I do this using hibernate with criteria? \r\n\r\nI need this so I can put in one of my base classes to use by any DAO objects that extend from it. So I can make this generic across all of my DAO objects.\r\n\r\nCurrently I have created a generic method that will taken in the Student Object - calls the find method that uses the criteria to get the list and then I do a batch delete under one transaction as follows:\r\n\r\n\tpublic boolean deleteByCriteria(Object deleteObject) {\r\n\t\tList deleteObjectList = find(deleteObject);\r\n\t\tif (deleteObjectList == null)\r\n\t\t\treturn false;\r\n\t\treturn deleteAll(deleteObjectList);\r\n\t}\r\n\t\r\n\tpublic boolean deleteAll(List deleteObjectList) {\r\n\t\tif (logger.isDebugEnabled()) {\r\n\t\t\tlogger.debug(&quot;Entered BaseSchoolRollBookDAO -&gt; delete&quot;);\r\n\t\t\tlogger.debug(&quot;Object for batch deletion [&quot; + deleteObjectList + &quot;]&quot;);\r\n\t\t}\r\n\t\tboolean result = false;\r\n\t\tTransaction tx = null;\r\n\t\t// Get CurrentSession from HibernateUtils\r\n\t\tSession session = HibernateUtils.getSession();\r\n\t\t// Start transaction\r\n\t\ttx = session.beginTransaction();\r\n\r\n\t\t// Create new Criteria to be passed\r\n\t\ttry {\r\n\t\t\tint flushCount = 0;\r\n\t\t\tfor (Object deleteObject : deleteObjectList) {\r\n\t\t\t\tsession.delete(deleteObject);\r\n\t\t\t\tflushCount++;\r\n\t\t\t\t\r\n\t\t\t\tif (flushCount % 20 == 0) {\r\n\t\t\t\t\tsession.flush();\r\n\t\t\t\t\tsession.clear();\r\n\t\t\t\t}\r\n\t\t\t}\t\t\t\r\n\t\t\t\r\n\t\t\ttx.commit();\r\n\t\t\tresult = true;\r\n\t\t} catch (HibernateException e) {\r\n\t\t\tlogger.fatal(&quot;Exception in executing batch Delete query&quot;, e);\r\n\t\t\tif (tx != null &amp;&amp; tx.isActive())\r\n\t\t\t\ttx.rollback(); \r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n","title":"How to delete by criteria in hibernate?","body":"<p>I have a student table and want to delete all students in a class.</p>\n\n<p>So my sql query would look like:</p>\n\n<pre><code>delete from student where classId = 333\n</code></pre>\n\n<p>How can I do this using hibernate with criteria? </p>\n\n<p>I need this so I can put in one of my base classes to use by any DAO objects that extend from it. So I can make this generic across all of my DAO objects.</p>\n\n<p>Currently I have created a generic method that will taken in the Student Object - calls the find method that uses the criteria to get the list and then I do a batch delete under one transaction as follows:</p>\n\n<pre><code>public boolean deleteByCriteria(Object deleteObject) {\n    List deleteObjectList = find(deleteObject);\n    if (deleteObjectList == null)\n        return false;\n    return deleteAll(deleteObjectList);\n}\n\npublic boolean deleteAll(List deleteObjectList) {\n    if (logger.isDebugEnabled()) {\n        logger.debug(\"Entered BaseSchoolRollBookDAO -&gt; delete\");\n        logger.debug(\"Object for batch deletion [\" + deleteObjectList + \"]\");\n    }\n    boolean result = false;\n    Transaction tx = null;\n    // Get CurrentSession from HibernateUtils\n    Session session = HibernateUtils.getSession();\n    // Start transaction\n    tx = session.beginTransaction();\n\n    // Create new Criteria to be passed\n    try {\n        int flushCount = 0;\n        for (Object deleteObject : deleteObjectList) {\n            session.delete(deleteObject);\n            flushCount++;\n\n            if (flushCount % 20 == 0) {\n                session.flush();\n                session.clear();\n            }\n        }           \n\n        tx.commit();\n        result = true;\n    } catch (HibernateException e) {\n        logger.fatal(\"Exception in executing batch Delete query\", e);\n        if (tx != null &amp;&amp; tx.isActive())\n            tx.rollback(); \n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","firebase","firebase-cloud-messaging","xmpp"],"owner":{"account_id":29657201,"reputation":1,"user_id":22729698,"display_name":"杨志朋"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697167646,"creation_date":1697166459,"question_id":77284841,"body_markdown":"App Server is connected to XMPP and can send messages to the client in one go. But the client sends upstream messages through `FirebaseMessaging.getInstance().send(remotemsage)`, and the App Server cannot receive it.\r\n\r\nupstream message：\r\n```\r\nFirebaseMessaging.getInstance().send(new RemoteMessage.Builder(to)\r\n     .setMessageId(messageId)\r\n     .addData(&quot;message&quot;, &quot;111&quot;)\r\n     .build());\r\n```\r\n```\r\n@Override\r\npublic void onMessageSent(@NonNull String msgId) {\r\n     super.onMessageSent(msgId);\r\n     Log.e(&quot;TAG&quot;, &quot;onMessageSent: &quot; + msgId);\r\n}\r\n```\r\nThe `onMessageSent()` Log will print.\r\n\r\n\r\n* First, the App Server is running on a personal computer and cannot receive it;\r\n* Secondly, the App Server is run on the Singapore server, the client device is connected to the VPN, and the uplink is sent, but it still cannot be received;\r\n\r\nWhat should I do to let the App server receive the upstream message?\r\n","title":"Unable to receive XMPP upstream messages","body":"<p>App Server is connected to XMPP and can send messages to the client in one go. But the client sends upstream messages through <code>FirebaseMessaging.getInstance().send(remotemsage)</code>, and the App Server cannot receive it.</p>\n<p>upstream message：</p>\n<pre><code>FirebaseMessaging.getInstance().send(new RemoteMessage.Builder(to)\n     .setMessageId(messageId)\n     .addData(&quot;message&quot;, &quot;111&quot;)\n     .build());\n</code></pre>\n<pre><code>@Override\npublic void onMessageSent(@NonNull String msgId) {\n     super.onMessageSent(msgId);\n     Log.e(&quot;TAG&quot;, &quot;onMessageSent: &quot; + msgId);\n}\n</code></pre>\n<p>The <code>onMessageSent()</code> Log will print.</p>\n<ul>\n<li>First, the App Server is running on a personal computer and cannot receive it;</li>\n<li>Secondly, the App Server is run on the Singapore server, the client device is connected to the VPN, and the uplink is sent, but it still cannot be received;</li>\n</ul>\n<p>What should I do to let the App server receive the upstream message?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc"],"comments":[{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":1,"creation_date":1695848440,"post_id":77190775,"comment_id":136080484,"body_markdown":"That is a [large topic](https://docs.spring.io/spring-framework/reference/core/beans.html) - can you update the question with a specific example with some code?","body":"That is a <a href=\"https://docs.spring.io/spring-framework/reference/core/beans.html\" rel=\"nofollow noreferrer\">large topic</a> - can you update the question with a specific example with some code?"},{"owner":{"account_id":1535561,"reputation":7664,"user_id":1431720,"accept_rate":89,"display_name":"Robert"},"score":0,"creation_date":1695852601,"post_id":77190775,"comment_id":136081040,"body_markdown":"Isn&#39;t that covered by the Spring documentation? If not, what exactly is missing?","body":"Isn&#39;t that covered by the Spring documentation? If not, what exactly is missing?"},{"owner":{"account_id":26967643,"reputation":1,"user_id":20534197,"display_name":"Kkraft"},"score":0,"creation_date":1696033207,"post_id":77190775,"comment_id":136106722,"body_markdown":"@Robert i think there&#39;s not any mention to injecting the applicationContext by autowire in the documentation, but i saw people doing this in many tutorials and forum answers","body":"@Robert i think there&#39;s not any mention to injecting the applicationContext by autowire in the documentation, but i saw people doing this in many tutorials and forum answers"},{"owner":{"account_id":213468,"reputation":103493,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1696060808,"post_id":77190775,"comment_id":136108146,"body_markdown":"It is actually mentioned in the documentation, but in passing, see [&quot;Customizing the Nature of a Bean&quot;, section &quot;ApplicationContextAware and BeanNameAware&quot;](https://docs.spring.io/spring-framework/reference/core/beans/factory-nature.html#beans-factory-aware), specifically the paragraph starting with _&quot;Autowiring is another alternative to obtain a reference to the `ApplicationContext`.&quot;_","body":"It is actually mentioned in the documentation, but in passing, see <a href=\"https://docs.spring.io/spring-framework/reference/core/beans/factory-nature.html#beans-factory-aware\" rel=\"nofollow noreferrer\">&quot;Customizing the Nature of a Bean&quot;, section &quot;ApplicationContextAware and BeanNameAware&quot;</a>, specifically the paragraph starting with <i>&quot;Autowiring is another alternative to obtain a reference to the <code>ApplicationContext</code>.&quot;</i>"}],"owner":{"account_id":26967643,"reputation":1,"user_id":20534197,"display_name":"Kkraft"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697166936,"creation_date":1695847471,"question_id":77190775,"body_markdown":"What does Spring actually do when you autowire the applicationContext?\r\n\r\nI first thought it does not appear in the applicationContext.getBeanDefinitionNames(), so I guess Spring injects any variable with autowired and ApplicationContext?\r\n\r\n**Code example:**\r\nTrying to get the injected bean:\r\n\r\n    @Component\r\n    public class Stackteste1 {\r\n    \r\n      @Autowired //Here it autowires the context without errors\r\n      ApplicationContext context; //ps: i think it would be byType injection because no matter the variable name it injects\r\n    \r\n      @Bean\r\n      public String testBean(){ //But if i try to get the context bean it says the bean was not found, the same happens in setter and contructor autowire\r\n          context.getBean(ApplicationContext.class);\r\n          return(&quot;test&quot;);\r\n      } \r\n    \r\n    }\r\n","title":"How @Autowired applicationContext works?","body":"<p>What does Spring actually do when you autowire the applicationContext?</p>\n<p>I first thought it does not appear in the applicationContext.getBeanDefinitionNames(), so I guess Spring injects any variable with autowired and ApplicationContext?</p>\n<p><strong>Code example:</strong>\nTrying to get the injected bean:</p>\n<pre><code>@Component\npublic class Stackteste1 {\n\n  @Autowired //Here it autowires the context without errors\n  ApplicationContext context; //ps: i think it would be byType injection because no matter the variable name it injects\n\n  @Bean\n  public String testBean(){ //But if i try to get the context bean it says the bean was not found, the same happens in setter and contructor autowire\n      context.getBean(ApplicationContext.class);\n      return(&quot;test&quot;);\n  } \n\n}\n</code></pre>\n"},{"tags":["java","hashmap"],"comments":[{"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"score":3,"creation_date":1697091643,"post_id":77278070,"comment_id":136236252,"body_markdown":"Why do you want to know this? This is implementation detail and your code should not depend on it.","body":"Why do you want to know this? This is implementation detail and your code should not depend on it."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1697096010,"post_id":77278070,"comment_id":136236983,"body_markdown":"[Why does a HashMap sometimes print in natural order](https://stackoverflow.com/questions/47357126/why-does-a-hashmap-sometimes-print-in-natural-order) isn&#39;t *quite* the same question, but it explains a lot of what you&#39;re seeing.","body":"<a href=\"https://stackoverflow.com/questions/47357126/why-does-a-hashmap-sometimes-print-in-natural-order\">Why does a HashMap sometimes print in natural order</a> isn&#39;t <i>quite</i> the same question, but it explains a lot of what you&#39;re seeing."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":1,"creation_date":1697096244,"post_id":77278070,"comment_id":136237023,"body_markdown":"In all situations.","body":"In all situations."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1697168260,"post_id":77278070,"comment_id":136248685,"body_markdown":"A single-byte string&#39;s hashcode will be equivalent to `bytes[0] &amp; 0xff`. So the hashcodes of `&quot;a&quot;, &quot;b&quot;, &quot;c&quot;` are `97,98,99` respectively. With the modulus from hashmap, it&#39;s no wonder this specific case is stored sequentially. Your experiment isn&#39;t terrible, but you&#39;re forgetting about your assumptions (that single-byte strings are representative of all strings, and for their `#hashCode` this is not true).","body":"A single-byte string&#39;s hashcode will be equivalent to <code>bytes[0] &amp; 0xff</code>. So the hashcodes of <code>&quot;a&quot;, &quot;b&quot;, &quot;c&quot;</code> are <code>97,98,99</code> respectively. With the modulus from hashmap, it&#39;s no wonder this specific case is stored sequentially. Your experiment isn&#39;t terrible, but you&#39;re forgetting about your assumptions (that single-byte strings are representative of all strings, and for their <code>#hashCode</code> this is not true)."}],"answers":[{"tags":[],"owner":{"account_id":29646715,"reputation":26,"user_id":22721567,"display_name":"oakley"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697092378,"creation_date":1697092062,"answer_id":77278161,"question_id":77278070,"body_markdown":"As suggested by doc that order is indeed non-deterministic.\r\n\r\nTry running the code with more data in HashMap to see the difference.\r\n\r\nSet is unordered by design.\r\n\r\nIf order is necessary for your requirement (in main data structure) try **LinkedHashMap** which maintains order of insertion. (As it implements LinkedList internally.)\r\n\r\nHope this helps. ","title":"In which situation is HashMap keySet() ordered undeterministic","body":"<p>As suggested by doc that order is indeed non-deterministic.</p>\n<p>Try running the code with more data in HashMap to see the difference.</p>\n<p>Set is unordered by design.</p>\n<p>If order is necessary for your requirement (in main data structure) try <strong>LinkedHashMap</strong> which maintains order of insertion. (As it implements LinkedList internally.)</p>\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697166355,"creation_date":1697095617,"answer_id":77278508,"question_id":77278070,"body_markdown":"&gt; In which situation is `HashMap::keySet()` ordered non-deterministically?\r\n\r\nIn short ... when any of the preconditions 1, 2 or 3 (below!) are not true.\r\n\r\n--------------\r\n\r\nThe javadoc says what it says.  The `HashMap` implementation does not **guarantee** any particular order for the key set.\r\n\r\nThe fact that the javadoc does not guarantee an order does NOT mean that the order cannot be predicted in some circumstances.\r\n\r\nAs your observations bear out!\r\n\r\nIn practice the order of the keys in a `HashMap` will be *deterministic* if all of the following are true:\r\n\r\n  1.  The `HashMap` implementation does not change&lt;sup&gt;1&lt;/sup&gt;.\r\n  2.  The key classes `equals` and `hashCode` methods follow the relevant invariants specified in the `Object` javadocs.  (And in some cases, the `compareTo` method may be involved as well.)\r\n  3.  The key classes `hashCode` is predictable based on a key&#39;s value.  \r\n\r\nIf in addition:\r\n\r\n  4.  The map is created with the same initial capacity and load factor.\r\n  5.  The keys&#39; insertion (and deletion) order is the same.\r\n\r\n... you will get the same key set order repeatably.\r\n\r\nIndeed, if all of the above are true AND you have complete information / knowledge about the `HashMap` implementation and so on, then you could&lt;sup&gt;2&lt;/sup&gt; actually *a priori predict* the key order with 100% accuracy. \r\n\r\nNote that 2 and 3 are satisfied for `Integer` and `String`.  Indeed the javadocs for both classes specify the precise values returned by `hashCode()`.  That is why you are seeing the same key order repeatably for those key types in your experiments.\r\n\r\nNote: you probably shouldn&#39;t make use of these properties in an application, since the javadocs don&#39;t actually guarantee them.\r\n\r\n-----------------------\r\n\r\n&lt;sup&gt;1 - Or more precisely *while* it does not change.  In fact, the implementations of `HashMap` have changed between different Java versions.  As a consequence the key order can be different if you run your tests on platforms with different versions of Java.  It is also conceivable that a future implementation of `HashMap` could be made *deliberately* non-deterministic ... though I can&#39;t imagine why they would do this.&lt;br&gt;\r\n2. The process would be very tedious and time consuming to do by hand, and I&#39;m not going to explain it.  But https://stackoverflow.com/questions/47357126 may help you understand what you would need to do.&lt;/sup&gt;","title":"In which situation is HashMap keySet() ordered undeterministic","body":"<blockquote>\n<p>In which situation is <code>HashMap::keySet()</code> ordered non-deterministically?</p>\n</blockquote>\n<p>In short ... when any of the preconditions 1, 2 or 3 (below!) are not true.</p>\n<hr />\n<p>The javadoc says what it says.  The <code>HashMap</code> implementation does not <strong>guarantee</strong> any particular order for the key set.</p>\n<p>The fact that the javadoc does not guarantee an order does NOT mean that the order cannot be predicted in some circumstances.</p>\n<p>As your observations bear out!</p>\n<p>In practice the order of the keys in a <code>HashMap</code> will be <em>deterministic</em> if all of the following are true:</p>\n<ol>\n<li>The <code>HashMap</code> implementation does not change<sup>1</sup>.</li>\n<li>The key classes <code>equals</code> and <code>hashCode</code> methods follow the relevant invariants specified in the <code>Object</code> javadocs.  (And in some cases, the <code>compareTo</code> method may be involved as well.)</li>\n<li>The key classes <code>hashCode</code> is predictable based on a key's value.</li>\n</ol>\n<p>If in addition:</p>\n<ol start=\"4\">\n<li>The map is created with the same initial capacity and load factor.</li>\n<li>The keys' insertion (and deletion) order is the same.</li>\n</ol>\n<p>... you will get the same key set order repeatably.</p>\n<p>Indeed, if all of the above are true AND you have complete information / knowledge about the <code>HashMap</code> implementation and so on, then you could<sup>2</sup> actually <em>a priori predict</em> the key order with 100% accuracy.</p>\n<p>Note that 2 and 3 are satisfied for <code>Integer</code> and <code>String</code>.  Indeed the javadocs for both classes specify the precise values returned by <code>hashCode()</code>.  That is why you are seeing the same key order repeatably for those key types in your experiments.</p>\n<p>Note: you probably shouldn't make use of these properties in an application, since the javadocs don't actually guarantee them.</p>\n<hr />\n<p><sup>1 - Or more precisely <em>while</em> it does not change.  In fact, the implementations of <code>HashMap</code> have changed between different Java versions.  As a consequence the key order can be different if you run your tests on platforms with different versions of Java.  It is also conceivable that a future implementation of <code>HashMap</code> could be made <em>deliberately</em> non-deterministic ... though I can't imagine why they would do this.<br>\n2. The process would be very tedious and time consuming to do by hand, and I'm not going to explain it.  But <a href=\"https://stackoverflow.com/questions/47357126\">Why does a HashMap sometimes print in natural order</a> may help you understand what you would need to do.</sup></p>\n"}],"owner":{"account_id":465939,"reputation":3614,"user_id":870382,"accept_rate":56,"display_name":"Novice User"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697166355,"creation_date":1697091004,"question_id":77278070,"body_markdown":"The docs https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html say\r\n\r\n\r\n\r\n&gt; This class makes no guarantees as to the order of the map;\r\n&gt; In particular, it does not guarantee that the order will remain constant\r\n&gt; over time.\r\n\r\n\r\n\r\nHowever I ran some experiment \r\n\r\n```\r\nvar first = new HashMap&lt;String, Object&gt;();\r\nfirst.put(&quot;a&quot;, 1)\r\nfirst.put(&quot;b&quot;, 2);\r\nfirst.put(&quot;c&quot;, null)\r\n```\r\n\r\n`first.keySet()` order is always `[a, b, c]`\r\n\r\nSo if I have `String` or `Integer` as the key for `HashMap` then will the order be the same and deterministic for any other `HashMap` instance for the same Key and value?\r\n\r\n","title":"In which situation is HashMap keySet() ordered undeterministic","body":"<p>The docs <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html</a> say</p>\n<blockquote>\n<p>This class makes no guarantees as to the order of the map;\nIn particular, it does not guarantee that the order will remain constant\nover time.</p>\n</blockquote>\n<p>However I ran some experiment</p>\n<pre><code>var first = new HashMap&lt;String, Object&gt;();\nfirst.put(&quot;a&quot;, 1)\nfirst.put(&quot;b&quot;, 2);\nfirst.put(&quot;c&quot;, null)\n</code></pre>\n<p><code>first.keySet()</code> order is always <code>[a, b, c]</code></p>\n<p>So if I have <code>String</code> or <code>Integer</code> as the key for <code>HashMap</code> then will the order be the same and deterministic for any other <code>HashMap</code> instance for the same Key and value?</p>\n"},{"tags":["java","spring","spring-security","spring-security-oauth2"],"comments":[{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1405600396,"post_id":24756102,"comment_id":38499281,"body_markdown":"Where is the 401 coming from? The token endpoint (it looks like it has some funny authentication filters, so maybe)? If you could pinpoint that in the server logs that would certainly help (enable DEBUG logging in org.springframework.security if you haven&#39;t already).","body":"Where is the 401 coming from? The token endpoint (it looks like it has some funny authentication filters, so maybe)? If you could pinpoint that in the server logs that would certainly help (enable DEBUG logging in org.springframework.security if you haven&#39;t already)."},{"owner":{"account_id":4749608,"reputation":70,"user_id":3839955,"display_name":"Kerem YILDIZ"},"score":0,"creation_date":1405608307,"post_id":24756102,"comment_id":38505166,"body_markdown":"@DaveSyer yes problem is coming from token endpoint, I debugged the code, it succesfully implement /oauth/authorize. But when try to request /outh/token, 401 unauthorized error appears.","body":"@DaveSyer yes problem is coming from token endpoint, I debugged the code, it succesfully implement /oauth/authorize. But when try to request /outh/token, 401 unauthorized error appears."},{"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"score":0,"creation_date":1405670176,"post_id":24756102,"comment_id":38530108,"body_markdown":"Can you explain why you configured the token endpoint security the way you did then.","body":"Can you explain why you configured the token endpoint security the way you did then."},{"owner":{"account_id":4749608,"reputation":70,"user_id":3839955,"display_name":"Kerem YILDIZ"},"score":0,"creation_date":1405686777,"post_id":24756102,"comment_id":38539742,"body_markdown":"@DaveSyer I am new to spring-security-oauth2, So that&#39;s why it is normal to see a funny configuration :). I was inspired from sparklr2 and tonr2 applications and then created both server and client aplications. Could you show me a better way to configure token endpoint?.","body":"@DaveSyer I am new to spring-security-oauth2, So that&#39;s why it is normal to see a funny configuration :). I was inspired from sparklr2 and tonr2 applications and then created both server and client aplications. Could you show me a better way to configure token endpoint?."},{"owner":{"account_id":4749608,"reputation":70,"user_id":3839955,"display_name":"Kerem YILDIZ"},"score":0,"creation_date":1405686800,"post_id":24756102,"comment_id":38539759,"body_markdown":"@DaveSyer All I want to do is bypassing login forms at both client and server applications without asking username/password, getting access token and finally getting a string message. I was trying to get a String message from /index map (I could find a better mapname :)). I binded resource to the HelloController (I could find a better controller name). In controller in /index map it requests &quot;http://localhost/Authorization/oauth/authorize&quot; by using OAuth2RestTemplate.","body":"@DaveSyer All I want to do is bypassing login forms at both client and server applications without asking username/password, getting access token and finally getting a string message. I was trying to get a String message from /index map (I could find a better mapname :)). I binded resource to the HelloController (I could find a better controller name). In controller in /index map it requests &quot;<a href=\"http://localhost/Authorization/oauth/authorize\" rel=\"nofollow noreferrer\">localhost/Authorization/oauth/authorize</a>&quot; by using OAuth2RestTemplate."}],"answers":[{"tags":[],"owner":{"account_id":1311122,"reputation":56893,"user_id":1259109,"display_name":"Dave Syer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405701053,"creation_date":1405701053,"answer_id":24829837,"question_id":24756102,"body_markdown":"I guess it&#39;s up to you to decide how to do authentication. But note that the /token endpoint is not (in standard auth code flows anyway) consumed by users. It should have security appropriate to its consumers (client apps), so if I were you I would start by removing the &quot;preAuthFilter&quot; (how would it be able to authenticate a client?). If you don&#39;t think clients ought to have secrets you are probably not writing an enterprise or web grade product, but you are free to secure that /token endpoint any way you like. Just be aware that it will be getting Basic authentication headers from the client (if the client is a standard tonr-style Spring Security app).","title":"401 unauthorized error before trying to get access token in spring security oauth 2","body":"<p>I guess it's up to you to decide how to do authentication. But note that the /token endpoint is not (in standard auth code flows anyway) consumed by users. It should have security appropriate to its consumers (client apps), so if I were you I would start by removing the \"preAuthFilter\" (how would it be able to authenticate a client?). If you don't think clients ought to have secrets you are probably not writing an enterprise or web grade product, but you are free to secure that /token endpoint any way you like. Just be aware that it will be getting Basic authentication headers from the client (if the client is a standard tonr-style Spring Security app).</p>\n"}],"owner":{"account_id":4749608,"reputation":70,"user_id":3839955,"display_name":"Kerem YILDIZ"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697166190,"creation_date":1405420912,"question_id":24756102,"body_markdown":"I am getting 401 unauthorized error before trying to get access token in spring security oauth2.\r\n\r\nI have both server (authorization and resource server) and client applications. Those applications created by using sparklr2 and tonr2 applications.\r\n\r\nI have bypassed login form at both applications. It means that it doesn&#39;t ask username and password at the beginning or both appkications, I used custom classes and setting user roles as &quot;ROLE_USER&quot; for both applications.\r\n\r\nThis is my error stack trace:\r\n\r\n   \r\n\r\n     SEVERE: Servlet.service() for servlet [mvc-dispatcher] in context with path [/Client] threw exception [Request processing failed; nested exception is error=&quot;access_denied&quot;, error_description=&quot;Error requesting access token.&quot;] with root cause org.springframework.web.client.HttpClientErrorException: 401 Unauthorized\r\n\tat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:88)\r\n\tat org.springframework.security.oauth2.client.token.OAuth2AccessTokenSupport$AccessTokenErrorHandler.handleError(OAuth2AccessTokenSupport.java:243)\r\n\tat org.springframework.web.client.RestTemplate.handleResponseError(RestTemplate.java:556)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:514)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:479)\r\n\tat org.springframework.security.oauth2.client.token.OAuth2AccessTokenSupport.retrieveToken(OAuth2AccessTokenSupport.java:136)\r\n\tat org.springframework.security.oauth2.client.token.grant.code.AuthorizationCodeAccessTokenProvider.obtainAccessToken(AuthorizationCodeAccessTokenProvider.java:198)\r\n\tat org.springframework.security.oauth2.client.token.AccessTokenProviderChain.obtainNewAccessTokenInternal(AccessTokenProviderChain.java:142)\r\n\tat org.springframework.security.oauth2.client.token.AccessTokenProviderChain.obtainAccessToken(AccessTokenProviderChain.java:118)\r\n\tat org.springframework.security.oauth2.client.OAuth2RestTemplate.acquireAccessToken(OAuth2RestTemplate.java:221)\r\n\tat org.springframework.security.oauth2.client.OAuth2RestTemplate.getAccessToken(OAuth2RestTemplate.java:173)\r\n\tat org.springframework.security.oauth2.client.OAuth2RestTemplate.createRequest(OAuth2RestTemplate.java:105)\r\n\tat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:505)\r\n\tat org.springframework.security.oauth2.client.OAuth2RestTemplate.doExecute(OAuth2RestTemplate.java:128)\r\n\tat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:472)\r\n\tat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:237)\r\n\tat com.sebit.security.client.oauth2.controller.HelloController.welcomePage(HelloController.java:36)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\r\n\tat java.lang.reflect.Method.invoke(Unknown Source)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\r\n\tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\r\n\tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\r\n\tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\r\n\tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\r\n\tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\r\n\tat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\r\n\tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n\tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.oauth2.client.filter.OAuth2ClientContextFilter.doFilter(OAuth2ClientContextFilter.java:57)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:94)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\r\n\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n\tat java.lang.Thread.run(Unknown Source)\r\n\r\nThis is my web.xml at my server application:\r\n\r\n      &lt;servlet&gt;\r\n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\r\n\t\t&lt;/servlet-class&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n  \r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;spring&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n  \r\n    &lt;listener&gt;\r\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener\r\n\t\t&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n  \r\n    &lt;context-param&gt;\r\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    &lt;param-value&gt;/WEB-INF/spring-servlet.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n  \r\n    &lt;filter&gt;\r\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\r\n   \t  &lt;init-param&gt;\r\n\t\t&lt;param-name&gt;contextAttribute&lt;/param-name&gt;\r\n\t\t&lt;param-value&gt;org.springframework.web.servlet.FrameworkServlet.CONTEXT.spring&lt;/param-value&gt;\r\n\t  &lt;/init-param&gt;\r\n    &lt;/filter&gt;\r\n  \r\n    &lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\n\r\nThis is my spring-servlet.xml at server side:\r\n\r\n\t&lt;http pattern=&quot;/oauth/token&quot; create-session=&quot;stateless&quot; authentication-manager-ref=&quot;clientAuthenticationManager&quot;\r\n\t\tentry-point-ref=&quot;preAuthenticatedProcessingFilterEntryPoint&quot; \r\n\t\txmlns=&quot;http://www.springframework.org/schema/security&quot;&gt;\r\n\t\t&lt;custom-filter position=&quot;PRE_AUTH_FILTER&quot; ref=&quot;preAuthFilter&quot; /&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/oauth/token&quot; access=&quot;IS_AUTHENTICATED_FULLY&quot; /&gt;\r\n\t\t&lt;anonymous enabled=&quot;false&quot; /&gt;\r\n\t\t&lt;http-basic entry-point-ref=&quot;preAuthenticatedProcessingFilterEntryPoint&quot; /&gt;\r\n\r\n\t\t&lt;custom-filter ref=&quot;clientCredentialsTokenEndpointFilter&quot; before=&quot;BASIC_AUTH_FILTER&quot; /&gt;\r\n\t\t&lt;access-denied-handler ref=&quot;oauthAccessDeniedHandler&quot; /&gt;\r\n\t&lt;/http&gt;\r\n\r\n\t\r\n\r\n\t&lt;http pattern=&quot;/index/**&quot; create-session=&quot;never&quot; \r\n\t\tentry-point-ref=&quot;preAuthenticatedProcessingFilterEntryPoint&quot; access-decision-manager-ref=&quot;accessDecisionManager&quot;\r\n\t\txmlns=&quot;http://www.springframework.org/schema/security&quot;&gt;\r\n\t\t&lt;custom-filter position=&quot;PRE_AUTH_FILTER&quot; ref=&quot;preAuthFilter&quot; /&gt;\r\n\t\t&lt;anonymous enabled=&quot;false&quot; /&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/index&quot; access=&quot;ROLE_USER, SCOPE_READ&quot; /&gt;\r\n\t\t\r\n\t\t&lt;custom-filter ref=&quot;resourceServerFilter&quot; before=&quot;PRE_AUTH_FILTER&quot; /&gt;\r\n\t\t&lt;access-denied-handler ref=&quot;oauthAccessDeniedHandler&quot; /&gt;\r\n\t&lt;/http&gt;\r\n\r\n\r\n\t&lt;http auto-config=&quot;false&quot; xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n\t\t&gt;\r\n\t\t&lt;custom-filter position=&quot;PRE_AUTH_FILTER&quot; ref=&quot;preAuthFilter&quot; /&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/oauth/**&quot; access=&quot;ROLE_USER&quot; /&gt;\r\n\t\t&lt;!--intercept-url pattern=&quot;/index/**&quot; access=&quot;ROLE_USER&quot; /--&gt;\r\n\t\t&lt;intercept-url pattern=&quot;/**&quot; access=&quot;IS_AUTHENTICATED_ANONYMOUSLY&quot; /&gt;\r\n\t\t&lt;http-basic entry-point-ref=&quot;preAuthenticatedProcessingFilterEntryPoint&quot; /&gt;\r\n\t\t&lt;anonymous /&gt;\r\n\t&lt;/http&gt;\r\n\r\n\t&lt;beans:bean id=&quot;oauthAccessDeniedHandler&quot; class=&quot;org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler&quot; /&gt;\r\n\r\n\t&lt;beans:bean id=&quot;userDetailsServiceImpl&quot;\r\n\t\tclass=&quot;com.sebit.security.server.oauth2.controller.UserDetailsServiceImpl&quot; /&gt;\r\n\r\n\r\n\t&lt;beans:bean id=&quot;preAuthenticatedProcessingFilterEntryPoint&quot;\r\n\t\tclass=&quot;org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint&quot;&gt; \r\n\t\t\t&lt;beans:property name=&quot;realmName&quot; value=&quot;Authorization&quot; /&gt;\r\n\t\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;preAuthenticationProvider&quot;\r\n\t\tclass=&quot;org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationProvider&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;preAuthenticatedUserDetailsService&quot;\r\n\t\t\tref=&quot;userDetailsServiceImpl&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;preAuthFilter&quot;\r\n\t\tclass=&quot;com.sebit.security.server.oauth2.controller.PreAuthentication&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;appControlAuthenticationManager&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;clientCredentialsTokenEndpointFilter&quot; class=&quot;org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;clientAuthenticationManager&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;bean id=&quot;accessDecisionManager&quot; class=&quot;org.springframework.security.access.vote.UnanimousBased&quot; xmlns=&quot;http://www.springframework.org/schema/beans&quot;&gt;\r\n\t\t&lt;constructor-arg&gt;\r\n\t\t\t&lt;list&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.security.oauth2.provider.vote.ScopeVoter&quot; /&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.security.access.vote.RoleVoter&quot; /&gt;\r\n\t\t\t\t&lt;bean class=&quot;org.springframework.security.access.vote.AuthenticatedVoter&quot; /&gt;\r\n\t\t\t&lt;/list&gt;\r\n\t\t&lt;/constructor-arg&gt;\r\n\t&lt;/bean&gt;\r\n\r\n\t&lt;authentication-manager id=&quot;clientAuthenticationManager&quot; xmlns=&quot;http://www.springframework.org/schema/security&quot;&gt;\r\n\t\t&lt;authentication-provider user-service-ref=&quot;clientDetailsUserService&quot; /&gt;\r\n\t&lt;/authentication-manager&gt;\r\n\r\n\t&lt;authentication-manager alias=&quot;appControlAuthenticationManager&quot;&gt;\r\n\t\t&lt;authentication-provider ref=&quot;preAuthenticationProvider&quot; /&gt;\r\n\t&lt;/authentication-manager&gt;\r\n\r\n\t&lt;beans:bean id=&quot;clientDetailsUserService&quot; class=&quot;org.springframework.security.oauth2.provider.client.ClientDetailsUserDetailsService&quot;&gt;\r\n\t\t&lt;beans:constructor-arg ref=&quot;clientDetails&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;tokenStore&quot; class=&quot;org.springframework.security.oauth2.provider.token.store.InMemoryTokenStore&quot; /&gt;\r\n\r\n\t&lt;beans:bean id=&quot;tokenServices&quot; class=&quot;org.springframework.security.oauth2.provider.token.DefaultTokenServices&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;tokenStore&quot; ref=&quot;tokenStore&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;supportRefreshToken&quot; value=&quot;true&quot; /&gt;\r\n\t\t&lt;beans:property name=&quot;clientDetailsService&quot; ref=&quot;clientDetails&quot;/&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\r\n\t&lt;oauth:authorization-server client-details-service-ref=&quot;clientDetails&quot; token-services-ref=&quot;tokenServices&quot;\r\n\t\t&gt;\r\n\t\t&lt;oauth:authorization-code /&gt;\r\n\t\t&lt;oauth:implicit /&gt;\r\n\t\t&lt;oauth:refresh-token /&gt;\r\n\t\t&lt;oauth:client-credentials /&gt;\r\n\t\t&lt;oauth:password /&gt;\r\n\t&lt;/oauth:authorization-server&gt;\r\n\r\n\t&lt;oauth:resource-server id=&quot;resourceServerFilter&quot; resource-id=&quot;Authorization&quot; token-services-ref=&quot;tokenServices&quot; /&gt;\r\n\r\n\t&lt;oauth:client-details-service id=&quot;clientDetails&quot;&gt;\r\n\t\t&lt;oauth:client client-id=&quot;myClient&quot; resource-ids=&quot;Authorization&quot; authorized-grant-types=&quot;authorization_code&quot;\r\n\t\t\tauthorities=&quot;ROLE_CLIENT&quot; scope=&quot;read,write&quot; secret=&quot;secret&quot;/&gt;\r\n\t&lt;/oauth:client-details-service&gt;\r\n\r\n\t&lt;beans:bean id=&quot;accessConfirmationController&quot; class=&quot;com.sebit.security.server.oauth2.controller.AccessConfirmationController&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;clientDetailsService&quot; ref=&quot;clientDetails&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;mvc:default-servlet-handler /&gt;\r\n\r\n\t&lt;global-method-security pre-post-annotations=&quot;enabled&quot; proxy-target-class=&quot;true&quot;&gt;\r\n\t\t&lt;expression-handler ref=&quot;oauthExpressionHandler&quot; /&gt;\r\n\t&lt;/global-method-security&gt;\r\n\r\n\t&lt;oauth:expression-handler id=&quot;oauthExpressionHandler&quot; /&gt;\r\n\r\n\r\nThis is my web.xml at client side:\r\n\r\n      &lt;servlet&gt;\r\n    &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n    &lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\r\n\t\t&lt;/servlet-class&gt;\r\n    &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\r\n    &lt;/servlet&gt;\r\n    &lt;servlet-mapping&gt;\r\n    &lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\r\n    &lt;url-pattern&gt;/&lt;/url-pattern&gt;\r\n    &lt;/servlet-mapping&gt;\r\n    &lt;listener&gt;\r\n    &lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener\r\n\t\t&lt;/listener-class&gt;\r\n    &lt;/listener&gt;\r\n    &lt;context-param&gt;\r\n    &lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\r\n    &lt;param-value&gt;/WEB-INF/mvc-dispatcher-servlet.xml, /WEB-INF/spring-security.xml&lt;/param-value&gt;\r\n    &lt;/context-param&gt;\r\n    &lt;filter&gt;\r\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    &lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy\r\n\t\t&lt;/filter-class&gt;\r\n    &lt;/filter&gt;\r\n    &lt;filter-mapping&gt;\r\n    &lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\r\n    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n    &lt;/filter-mapping&gt;\r\n\r\nThis is my spring-security.xml at client side:\r\n\r\n        &lt;http auto-config=&quot;false&quot; xmlns=&quot;http://www.springframework.org/schema/security&quot;\r\n    &gt;\r\n    \t&lt;intercept-url pattern=&quot;/**&quot; access=&quot;IS_AUTHENTICATED_ANONYMOUSLY&quot; /&gt;\r\n    \t&lt;intercept-url pattern=&quot;/index/**&quot; access=&quot;ROLE_USER&quot; /&gt;\r\n    \t&lt;custom-filter position=&quot;PRE_AUTH_FILTER&quot; ref=&quot;preAuthFilter&quot; /&gt;\r\n    \t&lt;http-basic entry-point-ref=&quot;preAuthenticatedProcessingFilterEntryPoint&quot; /&gt;\r\n    \t&lt;anonymous/&gt;\r\n    \t&lt;custom-filter ref=&quot;oauth2ClientFilter&quot; after=&quot;EXCEPTION_TRANSLATION_FILTER&quot; /&gt;\r\n    &lt;/http&gt;   \r\n\r\n\t&lt;oauth:client id=&quot;oauth2ClientFilter&quot; /&gt;\r\n\r\n\t&lt;beans:bean id=&quot;userDetailsServiceImpl&quot;\r\n\t\tclass=&quot;com.sebit.security.client.oauth2.controller.UserDetailsServiceImpl&quot; /&gt;\r\n\r\n\t&lt;beans:bean id=&quot;preAuthenticatedProcessingFilterEntryPoint&quot;\r\n\t\tclass=&quot;org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint&quot;&gt; \r\n\t\t\t&lt;beans:property name=&quot;realmName&quot; value=&quot;messages&quot; /&gt;\r\n\t\t&lt;/beans:bean&gt;\r\n\t\t\t\r\n\t&lt;beans:bean id=&quot;preAuthenticationProvider&quot;\r\n\t    class=&quot;org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationProvider&quot;&gt;\r\n\t    &lt;beans:property name=&quot;preAuthenticatedUserDetailsService&quot;\r\n\t        ref=&quot;userDetailsServiceImpl&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;preAuthFilter&quot;\r\n\t    class=&quot;com.sebit.security.client.oauth2.controller.PreAuthentication&quot;&gt;\r\n\t    &lt;beans:property name=&quot;authenticationManager&quot; ref=&quot;appControlAuthenticationManager&quot; /&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;authentication-manager alias=&quot;appControlAuthenticationManager&quot;&gt;\r\n\t    &lt;authentication-provider ref=&quot;preAuthenticationProvider&quot; /&gt;\r\n\t&lt;/authentication-manager&gt;\r\n\r\n    &lt;oauth:resource id=&quot;Authorization&quot; type=&quot;authorization_code&quot;\r\n    \tclient-id=&quot;myClient&quot; client-secret=&quot;secret&quot; access-token-uri=&quot;http://localhost/Authorization/oauth/token&quot;\r\n    \tuser-authorization-uri=&quot;http://localhost/Authorization/oauth/authorize&quot; scope=&quot;read,write&quot; /&gt;    \r\n\r\n\t&lt;mvc:default-servlet-handler /&gt;\r\n\r\n\t&lt;mvc:annotation-driven&gt;\r\n\t\t&lt;mvc:message-converters&gt;\r\n\t\t\t&lt;beans:bean class=&quot;org.springframework.http.converter.BufferedImageHttpMessageConverter&quot; /&gt;\r\n\t\t&lt;/mvc:message-converters&gt;\r\n\t&lt;/mvc:annotation-driven&gt;\r\n\t\r\n\t&lt;beans:bean id=&quot;conversionService&quot; class=&quot;org.springframework.context.support.ConversionServiceFactoryBean&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;converters&quot;&gt;\r\n\t\t\t&lt;beans:set&gt;\r\n\t\t\t\t&lt;beans:bean class=&quot;com.sebit.security.client.oauth2.controller.AccessTokenRequestConverter&quot; /&gt;\r\n\t\t\t&lt;/beans:set&gt;\r\n\t\t&lt;/beans:property&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\n\t&lt;beans:bean id=&quot;helloController&quot; class=&quot;com.sebit.security.client.oauth2.controller.HelloController&quot;&gt;\r\n\t\t&lt;beans:property name=&quot;restTemplate&quot;&gt;\r\n\t\t\t&lt;oauth:rest-template resource=&quot;Authorization&quot; /&gt;\r\n\t\t&lt;/beans:property&gt;\r\n\t&lt;/beans:bean&gt;\r\n\r\nThis is my mvc-dispatcher-servlet at client side:\r\n\r\n    &lt;bean\r\n\t  class=&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;&gt;\r\n\t  &lt;property name=&quot;suffix&quot;&gt;\r\n\t\t&lt;value&gt;.jsp&lt;/value&gt;\r\n\t  &lt;/property&gt;\r\n\t&lt;/bean&gt;\r\n\r\nAfter I call \r\n\r\n&quot;/Client/index&quot;\r\n\r\nit successfully bypasses login forms (at server and client side) and it succesfully calls\r\n \r\n&quot;/Authorization/oauth/authorize&quot;\r\n\r\nIt successfully add client_id, response_type, scope, redirect_uri and state parameters.\r\n\r\nAccess is confirmed and approval page come. After I clicked on &quot;Authorize&quot; button, I get 401 unauthorized error.\r\n\r\nAny helps greatly appreciated, thanks.\r\n\r\n\r\n","title":"401 unauthorized error before trying to get access token in spring security oauth 2","body":"<p>I am getting 401 unauthorized error before trying to get access token in spring security oauth2.</p>\n\n<p>I have both server (authorization and resource server) and client applications. Those applications created by using sparklr2 and tonr2 applications.</p>\n\n<p>I have bypassed login form at both applications. It means that it doesn't ask username and password at the beginning or both appkications, I used custom classes and setting user roles as \"ROLE_USER\" for both applications.</p>\n\n<p>This is my error stack trace:</p>\n\n<pre><code> SEVERE: Servlet.service() for servlet [mvc-dispatcher] in context with path [/Client] threw exception [Request processing failed; nested exception is error=\"access_denied\", error_description=\"Error requesting access token.\"] with root cause org.springframework.web.client.HttpClientErrorException: 401 Unauthorized\nat org.springframework.web.client.DefaultResponseErrorHandler.handleError(DefaultResponseErrorHandler.java:88)\nat org.springframework.security.oauth2.client.token.OAuth2AccessTokenSupport$AccessTokenErrorHandler.handleError(OAuth2AccessTokenSupport.java:243)\nat org.springframework.web.client.RestTemplate.handleResponseError(RestTemplate.java:556)\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:514)\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:479)\nat org.springframework.security.oauth2.client.token.OAuth2AccessTokenSupport.retrieveToken(OAuth2AccessTokenSupport.java:136)\nat org.springframework.security.oauth2.client.token.grant.code.AuthorizationCodeAccessTokenProvider.obtainAccessToken(AuthorizationCodeAccessTokenProvider.java:198)\nat org.springframework.security.oauth2.client.token.AccessTokenProviderChain.obtainNewAccessTokenInternal(AccessTokenProviderChain.java:142)\nat org.springframework.security.oauth2.client.token.AccessTokenProviderChain.obtainAccessToken(AccessTokenProviderChain.java:118)\nat org.springframework.security.oauth2.client.OAuth2RestTemplate.acquireAccessToken(OAuth2RestTemplate.java:221)\nat org.springframework.security.oauth2.client.OAuth2RestTemplate.getAccessToken(OAuth2RestTemplate.java:173)\nat org.springframework.security.oauth2.client.OAuth2RestTemplate.createRequest(OAuth2RestTemplate.java:105)\nat org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:505)\nat org.springframework.security.oauth2.client.OAuth2RestTemplate.doExecute(OAuth2RestTemplate.java:128)\nat org.springframework.web.client.RestTemplate.execute(RestTemplate.java:472)\nat org.springframework.web.client.RestTemplate.getForObject(RestTemplate.java:237)\nat com.sebit.security.client.oauth2.controller.HelloController.welcomePage(HelloController.java:36)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(Unknown Source)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(Unknown Source)\nat java.lang.reflect.Method.invoke(Unknown Source)\nat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\nat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\nat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:745)\nat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:686)\nat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:80)\nat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:925)\nat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:856)\nat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:953)\nat org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:844)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:621)\nat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:829)\nat javax.servlet.http.HttpServlet.service(HttpServlet.java:728)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:305)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\nat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\nat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.oauth2.client.filter.OAuth2ClientContextFilter.doFilter(OAuth2ClientContextFilter.java:57)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:103)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:45)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.authentication.preauth.AbstractPreAuthenticatedProcessingFilter.doFilter(AbstractPreAuthenticatedProcessingFilter.java:94)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\nat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\nat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\nat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\nat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\nat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:343)\nat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:260)\nat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:243)\nat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:210)\nat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:222)\nat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:123)\nat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:502)\nat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:171)\nat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:100)\nat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:953)\nat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:118)\nat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\nat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1041)\nat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:603)\nat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:312)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\nat java.lang.Thread.run(Unknown Source)\n</code></pre>\n\n<p>This is my web.xml at my server application:</p>\n\n<pre><code>  &lt;servlet&gt;\n&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\n    &lt;/servlet-class&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;spring&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n\n&lt;listener&gt;\n&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener\n    &lt;/listener-class&gt;\n&lt;/listener&gt;\n\n&lt;context-param&gt;\n&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n&lt;param-value&gt;/WEB-INF/spring-servlet.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n\n&lt;filter&gt;\n&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy&lt;/filter-class&gt;\n  &lt;init-param&gt;\n    &lt;param-name&gt;contextAttribute&lt;/param-name&gt;\n    &lt;param-value&gt;org.springframework.web.servlet.FrameworkServlet.CONTEXT.spring&lt;/param-value&gt;\n  &lt;/init-param&gt;\n&lt;/filter&gt;\n\n&lt;filter-mapping&gt;\n&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>This is my spring-servlet.xml at server side:</p>\n\n<pre><code>&lt;http pattern=\"/oauth/token\" create-session=\"stateless\" authentication-manager-ref=\"clientAuthenticationManager\"\n    entry-point-ref=\"preAuthenticatedProcessingFilterEntryPoint\" \n    xmlns=\"http://www.springframework.org/schema/security\"&gt;\n    &lt;custom-filter position=\"PRE_AUTH_FILTER\" ref=\"preAuthFilter\" /&gt;\n    &lt;intercept-url pattern=\"/oauth/token\" access=\"IS_AUTHENTICATED_FULLY\" /&gt;\n    &lt;anonymous enabled=\"false\" /&gt;\n    &lt;http-basic entry-point-ref=\"preAuthenticatedProcessingFilterEntryPoint\" /&gt;\n\n    &lt;custom-filter ref=\"clientCredentialsTokenEndpointFilter\" before=\"BASIC_AUTH_FILTER\" /&gt;\n    &lt;access-denied-handler ref=\"oauthAccessDeniedHandler\" /&gt;\n&lt;/http&gt;\n\n\n\n&lt;http pattern=\"/index/**\" create-session=\"never\" \n    entry-point-ref=\"preAuthenticatedProcessingFilterEntryPoint\" access-decision-manager-ref=\"accessDecisionManager\"\n    xmlns=\"http://www.springframework.org/schema/security\"&gt;\n    &lt;custom-filter position=\"PRE_AUTH_FILTER\" ref=\"preAuthFilter\" /&gt;\n    &lt;anonymous enabled=\"false\" /&gt;\n    &lt;intercept-url pattern=\"/index\" access=\"ROLE_USER, SCOPE_READ\" /&gt;\n\n    &lt;custom-filter ref=\"resourceServerFilter\" before=\"PRE_AUTH_FILTER\" /&gt;\n    &lt;access-denied-handler ref=\"oauthAccessDeniedHandler\" /&gt;\n&lt;/http&gt;\n\n\n&lt;http auto-config=\"false\" xmlns=\"http://www.springframework.org/schema/security\"\n    &gt;\n    &lt;custom-filter position=\"PRE_AUTH_FILTER\" ref=\"preAuthFilter\" /&gt;\n    &lt;intercept-url pattern=\"/oauth/**\" access=\"ROLE_USER\" /&gt;\n    &lt;!--intercept-url pattern=\"/index/**\" access=\"ROLE_USER\" /--&gt;\n    &lt;intercept-url pattern=\"/**\" access=\"IS_AUTHENTICATED_ANONYMOUSLY\" /&gt;\n    &lt;http-basic entry-point-ref=\"preAuthenticatedProcessingFilterEntryPoint\" /&gt;\n    &lt;anonymous /&gt;\n&lt;/http&gt;\n\n&lt;beans:bean id=\"oauthAccessDeniedHandler\" class=\"org.springframework.security.oauth2.provider.error.OAuth2AccessDeniedHandler\" /&gt;\n\n&lt;beans:bean id=\"userDetailsServiceImpl\"\n    class=\"com.sebit.security.server.oauth2.controller.UserDetailsServiceImpl\" /&gt;\n\n\n&lt;beans:bean id=\"preAuthenticatedProcessingFilterEntryPoint\"\n    class=\"org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint\"&gt; \n        &lt;beans:property name=\"realmName\" value=\"Authorization\" /&gt;\n    &lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"preAuthenticationProvider\"\n    class=\"org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationProvider\"&gt;\n    &lt;beans:property name=\"preAuthenticatedUserDetailsService\"\n        ref=\"userDetailsServiceImpl\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"preAuthFilter\"\n    class=\"com.sebit.security.server.oauth2.controller.PreAuthentication\"&gt;\n    &lt;beans:property name=\"authenticationManager\" ref=\"appControlAuthenticationManager\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"clientCredentialsTokenEndpointFilter\" class=\"org.springframework.security.oauth2.provider.client.ClientCredentialsTokenEndpointFilter\"&gt;\n    &lt;beans:property name=\"authenticationManager\" ref=\"clientAuthenticationManager\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;bean id=\"accessDecisionManager\" class=\"org.springframework.security.access.vote.UnanimousBased\" xmlns=\"http://www.springframework.org/schema/beans\"&gt;\n    &lt;constructor-arg&gt;\n        &lt;list&gt;\n            &lt;bean class=\"org.springframework.security.oauth2.provider.vote.ScopeVoter\" /&gt;\n            &lt;bean class=\"org.springframework.security.access.vote.RoleVoter\" /&gt;\n            &lt;bean class=\"org.springframework.security.access.vote.AuthenticatedVoter\" /&gt;\n        &lt;/list&gt;\n    &lt;/constructor-arg&gt;\n&lt;/bean&gt;\n\n&lt;authentication-manager id=\"clientAuthenticationManager\" xmlns=\"http://www.springframework.org/schema/security\"&gt;\n    &lt;authentication-provider user-service-ref=\"clientDetailsUserService\" /&gt;\n&lt;/authentication-manager&gt;\n\n&lt;authentication-manager alias=\"appControlAuthenticationManager\"&gt;\n    &lt;authentication-provider ref=\"preAuthenticationProvider\" /&gt;\n&lt;/authentication-manager&gt;\n\n&lt;beans:bean id=\"clientDetailsUserService\" class=\"org.springframework.security.oauth2.provider.client.ClientDetailsUserDetailsService\"&gt;\n    &lt;beans:constructor-arg ref=\"clientDetails\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"tokenStore\" class=\"org.springframework.security.oauth2.provider.token.store.InMemoryTokenStore\" /&gt;\n\n&lt;beans:bean id=\"tokenServices\" class=\"org.springframework.security.oauth2.provider.token.DefaultTokenServices\"&gt;\n    &lt;beans:property name=\"tokenStore\" ref=\"tokenStore\" /&gt;\n    &lt;beans:property name=\"supportRefreshToken\" value=\"true\" /&gt;\n    &lt;beans:property name=\"clientDetailsService\" ref=\"clientDetails\"/&gt;\n&lt;/beans:bean&gt;\n\n\n&lt;oauth:authorization-server client-details-service-ref=\"clientDetails\" token-services-ref=\"tokenServices\"\n    &gt;\n    &lt;oauth:authorization-code /&gt;\n    &lt;oauth:implicit /&gt;\n    &lt;oauth:refresh-token /&gt;\n    &lt;oauth:client-credentials /&gt;\n    &lt;oauth:password /&gt;\n&lt;/oauth:authorization-server&gt;\n\n&lt;oauth:resource-server id=\"resourceServerFilter\" resource-id=\"Authorization\" token-services-ref=\"tokenServices\" /&gt;\n\n&lt;oauth:client-details-service id=\"clientDetails\"&gt;\n    &lt;oauth:client client-id=\"myClient\" resource-ids=\"Authorization\" authorized-grant-types=\"authorization_code\"\n        authorities=\"ROLE_CLIENT\" scope=\"read,write\" secret=\"secret\"/&gt;\n&lt;/oauth:client-details-service&gt;\n\n&lt;beans:bean id=\"accessConfirmationController\" class=\"com.sebit.security.server.oauth2.controller.AccessConfirmationController\"&gt;\n    &lt;beans:property name=\"clientDetailsService\" ref=\"clientDetails\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;mvc:default-servlet-handler /&gt;\n\n&lt;global-method-security pre-post-annotations=\"enabled\" proxy-target-class=\"true\"&gt;\n    &lt;expression-handler ref=\"oauthExpressionHandler\" /&gt;\n&lt;/global-method-security&gt;\n\n&lt;oauth:expression-handler id=\"oauthExpressionHandler\" /&gt;\n</code></pre>\n\n<p>This is my web.xml at client side:</p>\n\n<pre><code>  &lt;servlet&gt;\n&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n&lt;servlet-class&gt;org.springframework.web.servlet.DispatcherServlet\n    &lt;/servlet-class&gt;\n&lt;load-on-startup&gt;1&lt;/load-on-startup&gt;\n&lt;/servlet&gt;\n&lt;servlet-mapping&gt;\n&lt;servlet-name&gt;mvc-dispatcher&lt;/servlet-name&gt;\n&lt;url-pattern&gt;/&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n&lt;listener&gt;\n&lt;listener-class&gt;org.springframework.web.context.ContextLoaderListener\n    &lt;/listener-class&gt;\n&lt;/listener&gt;\n&lt;context-param&gt;\n&lt;param-name&gt;contextConfigLocation&lt;/param-name&gt;\n&lt;param-value&gt;/WEB-INF/mvc-dispatcher-servlet.xml, /WEB-INF/spring-security.xml&lt;/param-value&gt;\n&lt;/context-param&gt;\n&lt;filter&gt;\n&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n&lt;filter-class&gt;org.springframework.web.filter.DelegatingFilterProxy\n    &lt;/filter-class&gt;\n&lt;/filter&gt;\n&lt;filter-mapping&gt;\n&lt;filter-name&gt;springSecurityFilterChain&lt;/filter-name&gt;\n&lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n</code></pre>\n\n<p>This is my spring-security.xml at client side:</p>\n\n<pre><code>    &lt;http auto-config=\"false\" xmlns=\"http://www.springframework.org/schema/security\"\n&gt;\n    &lt;intercept-url pattern=\"/**\" access=\"IS_AUTHENTICATED_ANONYMOUSLY\" /&gt;\n    &lt;intercept-url pattern=\"/index/**\" access=\"ROLE_USER\" /&gt;\n    &lt;custom-filter position=\"PRE_AUTH_FILTER\" ref=\"preAuthFilter\" /&gt;\n    &lt;http-basic entry-point-ref=\"preAuthenticatedProcessingFilterEntryPoint\" /&gt;\n    &lt;anonymous/&gt;\n    &lt;custom-filter ref=\"oauth2ClientFilter\" after=\"EXCEPTION_TRANSLATION_FILTER\" /&gt;\n&lt;/http&gt;   \n\n&lt;oauth:client id=\"oauth2ClientFilter\" /&gt;\n\n&lt;beans:bean id=\"userDetailsServiceImpl\"\n    class=\"com.sebit.security.client.oauth2.controller.UserDetailsServiceImpl\" /&gt;\n\n&lt;beans:bean id=\"preAuthenticatedProcessingFilterEntryPoint\"\n    class=\"org.springframework.security.oauth2.provider.error.OAuth2AuthenticationEntryPoint\"&gt; \n        &lt;beans:property name=\"realmName\" value=\"messages\" /&gt;\n    &lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"preAuthenticationProvider\"\n    class=\"org.springframework.security.web.authentication.preauth.PreAuthenticatedAuthenticationProvider\"&gt;\n    &lt;beans:property name=\"preAuthenticatedUserDetailsService\"\n        ref=\"userDetailsServiceImpl\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"preAuthFilter\"\n    class=\"com.sebit.security.client.oauth2.controller.PreAuthentication\"&gt;\n    &lt;beans:property name=\"authenticationManager\" ref=\"appControlAuthenticationManager\" /&gt;\n&lt;/beans:bean&gt;\n\n&lt;authentication-manager alias=\"appControlAuthenticationManager\"&gt;\n    &lt;authentication-provider ref=\"preAuthenticationProvider\" /&gt;\n&lt;/authentication-manager&gt;\n\n&lt;oauth:resource id=\"Authorization\" type=\"authorization_code\"\n    client-id=\"myClient\" client-secret=\"secret\" access-token-uri=\"http://localhost/Authorization/oauth/token\"\n    user-authorization-uri=\"http://localhost/Authorization/oauth/authorize\" scope=\"read,write\" /&gt;    \n\n&lt;mvc:default-servlet-handler /&gt;\n\n&lt;mvc:annotation-driven&gt;\n    &lt;mvc:message-converters&gt;\n        &lt;beans:bean class=\"org.springframework.http.converter.BufferedImageHttpMessageConverter\" /&gt;\n    &lt;/mvc:message-converters&gt;\n&lt;/mvc:annotation-driven&gt;\n\n&lt;beans:bean id=\"conversionService\" class=\"org.springframework.context.support.ConversionServiceFactoryBean\"&gt;\n    &lt;beans:property name=\"converters\"&gt;\n        &lt;beans:set&gt;\n            &lt;beans:bean class=\"com.sebit.security.client.oauth2.controller.AccessTokenRequestConverter\" /&gt;\n        &lt;/beans:set&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n\n&lt;beans:bean id=\"helloController\" class=\"com.sebit.security.client.oauth2.controller.HelloController\"&gt;\n    &lt;beans:property name=\"restTemplate\"&gt;\n        &lt;oauth:rest-template resource=\"Authorization\" /&gt;\n    &lt;/beans:property&gt;\n&lt;/beans:bean&gt;\n</code></pre>\n\n<p>This is my mvc-dispatcher-servlet at client side:</p>\n\n<pre><code>&lt;bean\n  class=\"org.springframework.web.servlet.view.InternalResourceViewResolver\"&gt;\n  &lt;property name=\"suffix\"&gt;\n    &lt;value&gt;.jsp&lt;/value&gt;\n  &lt;/property&gt;\n&lt;/bean&gt;\n</code></pre>\n\n<p>After I call </p>\n\n<p>\"/Client/index\"</p>\n\n<p>it successfully bypasses login forms (at server and client side) and it succesfully calls</p>\n\n<p>\"/Authorization/oauth/authorize\"</p>\n\n<p>It successfully add client_id, response_type, scope, redirect_uri and state parameters.</p>\n\n<p>Access is confirmed and approval page come. After I clicked on \"Authorize\" button, I get 401 unauthorized error.</p>\n\n<p>Any helps greatly appreciated, thanks.</p>\n"},{"tags":["java","spring","hibernate","glassfish-3","entitymanager"],"comments":[{"owner":{"account_id":1309458,"reputation":5903,"user_id":1257771,"accept_rate":55,"display_name":"kasavbere"},"score":0,"creation_date":1348851722,"post_id":12635975,"comment_id":17054013,"body_markdown":"I am running `java EE 6`","body":"I am running <code>java EE 6</code>"},{"owner":{"account_id":1309458,"reputation":5903,"user_id":1257771,"accept_rate":55,"display_name":"kasavbere"},"score":0,"creation_date":1348858163,"post_id":12635975,"comment_id":17056302,"body_markdown":"Where is the injection coming from? Per the line `&lt;class&gt;com.mysite.restapi.RestletChildApplication&lt;/class&gt;`, am I supposed to create an instance of `EntityManager` in the  class `com.mysite.restapi.RestletChildApplication`?","body":"Where is the injection coming from? Per the line <code>&lt;class&gt;com.mysite.restapi.RestletChildApplication&lt;&#47;class&gt;</code>, am I supposed to create an instance of <code>EntityManager</code> in the  class <code>com.mysite.restapi.RestletChildApplication</code>?"}],"answers":[{"tags":[],"owner":{"account_id":1165262,"reputation":29315,"user_id":1143825,"accept_rate":94,"display_name":"Ilya"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1348819485,"creation_date":1348819485,"answer_id":12636030,"question_id":12635975,"body_markdown":"    setEntityManager \r\n\r\n \r\ninstead of  \r\n\r\n    setEngityManager  \r\nyou have typo.  \r\n  \r\nCreate persistence unit, like here  \r\n[java.net][1]  \r\n  \r\nand inject EntityManager by persistence unit&#39;s name  \r\n\r\n    @PersistenceContext(unitName=&quot;your_unit_name&quot;)\r\n    private EntityManager em;\r\n\r\n\r\n  [1]: http://glassfish.java.net/javaee5/persistence/persistence-example.html#Using_Netbeans_Java_SE_Example","title":"entityManager.persist(object) NullPointerException","body":"<pre><code>setEntityManager \n</code></pre>\n\n<p>instead of  </p>\n\n<pre><code>setEngityManager  \n</code></pre>\n\n<p>you have typo.  </p>\n\n<p>Create persistence unit, like here<br>\n<a href=\"http://glassfish.java.net/javaee5/persistence/persistence-example.html#Using_Netbeans_Java_SE_Example\" rel=\"nofollow\">java.net</a>  </p>\n\n<p>and inject EntityManager by persistence unit's name  </p>\n\n<pre><code>@PersistenceContext(unitName=\"your_unit_name\")\nprivate EntityManager em;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1668716,"reputation":2369,"user_id":1535606,"accept_rate":21,"display_name":"Arun Chandrasekaran"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348828037,"creation_date":1348828037,"answer_id":12638240,"question_id":12635975,"body_markdown":"Incase of Java EE 5, `@PersistenceContext(unitName=&quot;your_unit_name&quot;)` can be used only container managed objects like EJB or Servlet.\r\n\r\nIncase you want to create EntityManager object in a non-container managed object like a plain java class use refer the following sample.\r\n\r\n\r\n\r\n    private EntityManagerFactory emf;\r\n    \r\n    public static EntityManagerFactory getEntityManagerFactory() {\r\n        if (emf == null) {\r\n    \t\temf = Persistence.createEntityManagerFactory(&quot;your_unit_name&quot;);\r\n        }\r\n        return emf;\r\n    }\r\n    \r\n    public static EntityManager getEntityManager() {\r\n    \tEntityManager entityManager = null;\r\n    \tif (null != emf)\r\n               entityManager = emf.createEntityManager();\r\n    \r\n    \treturn entityManager;\r\n    }\r\n\r\nIncase of Java EE 6, you may refer CDI - Context and Dependency injection on how to inject EntityManager.","title":"entityManager.persist(object) NullPointerException","body":"<p>Incase of Java EE 5, <code>@PersistenceContext(unitName=\"your_unit_name\")</code> can be used only container managed objects like EJB or Servlet.</p>\n\n<p>Incase you want to create EntityManager object in a non-container managed object like a plain java class use refer the following sample.</p>\n\n<pre><code>private EntityManagerFactory emf;\n\npublic static EntityManagerFactory getEntityManagerFactory() {\n    if (emf == null) {\n        emf = Persistence.createEntityManagerFactory(\"your_unit_name\");\n    }\n    return emf;\n}\n\npublic static EntityManager getEntityManager() {\n    EntityManager entityManager = null;\n    if (null != emf)\n           entityManager = emf.createEntityManager();\n\n    return entityManager;\n}\n</code></pre>\n\n<p>Incase of Java EE 6, you may refer CDI - Context and Dependency injection on how to inject EntityManager.</p>\n"},{"tags":[],"owner":{"account_id":357362,"reputation":2080,"user_id":697480,"display_name":"Adam Wise"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631885519,"creation_date":1631885519,"answer_id":69224331,"question_id":12635975,"body_markdown":"The above answers are useful. The very short version is that likely your EntityManager is null. The call itself shouldn&#39;t throw a null pointer exception.","title":"entityManager.persist(object) NullPointerException","body":"<p>The above answers are useful. The very short version is that likely your EntityManager is null. The call itself shouldn't throw a null pointer exception.</p>\n"}],"owner":{"account_id":1309458,"reputation":5903,"user_id":1257771,"accept_rate":55,"display_name":"kasavbere"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":9764,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1697166190,"creation_date":1348819277,"question_id":12635975,"body_markdown":"I have been struggling all week to learn Java EE. I am building a REST api using Restlet 2.0, Spring, Hibernate, and Maven through Netbeans 7.2. Now I am at the point where whenever I make a service call that tries to persist data to the database, the following method throws a `NullPointerException`\r\n\r\n    @Override\r\n    public void save(T object) {\r\n        entityManager.persist(object);\r\n    }\r\n\r\n\r\nFrom looking at the code, the following piece is supposed to inject the `entityManager`\r\n\r\n    protected EntityManager entityManager;\r\n\r\n    @PersistenceContext\r\n    public void setEngityManager(EntityManager entityManger) {\r\n        this.entityManager = entityManager;\r\n    }\r\n\r\nI found the link https://stackoverflow.com/questions/2108446/entitymanager-injection-results-in-nullpointerexception. But I am too new to understand how to implement it in my code. Also, I am using Glassfish 3.1.2. \r\n\r\nWill someone please help with some code sample?\r\n\r\n\r\nEDIT/UPDATE:\r\n\r\nBelow is the persistence.xml file I am using. I am running MySQL and Glassfish. Should I save it under `WEB-INF` which is where `persistence-context.xml` is OR under `src/main/resource` which is where `hibernate.cfg.xml` is?\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;persistence-unit name=&quot;pu1&quot; transaction-type=&quot;JTA&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n        &lt;class&gt;com.mysite.restapi.RestletChildApplication&lt;/class&gt;\r\n        &lt;properties&gt;\r\n                &lt;property name=&quot;hibernate.connection.driver_class&quot;\r\n                        value=&quot;com.mysql.jdbc.Driver&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.url&quot;\r\n                        value=&quot;jdbc:mysql://localhost:3306/mydatabase&quot; /&gt;\r\n                &lt;property name=&quot;hibernate.connection.username&quot; value=&quot;myname&quot;/&gt;\r\n                &lt;property name=&quot;hibernate.connection.password&quot; value=&quot;mypassword&quot;/&gt;\r\n                &lt;property name=&quot;show_sql&quot; value=&quot;true&quot; /&gt;\r\n                &lt;property name=&quot;dialect&quot; value=&quot;org.hibernate.dialect.MySQLDialect&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;","title":"entityManager.persist(object) NullPointerException","body":"<p>I have been struggling all week to learn Java EE. I am building a REST api using Restlet 2.0, Spring, Hibernate, and Maven through Netbeans 7.2. Now I am at the point where whenever I make a service call that tries to persist data to the database, the following method throws a <code>NullPointerException</code></p>\n\n<pre><code>@Override\npublic void save(T object) {\n    entityManager.persist(object);\n}\n</code></pre>\n\n<p>From looking at the code, the following piece is supposed to inject the <code>entityManager</code></p>\n\n<pre><code>protected EntityManager entityManager;\n\n@PersistenceContext\npublic void setEngityManager(EntityManager entityManger) {\n    this.entityManager = entityManager;\n}\n</code></pre>\n\n<p>I found the link <a href=\"https://stackoverflow.com/questions/2108446/entitymanager-injection-results-in-nullpointerexception\">EntityManager injection results in NullPointerException</a>. But I am too new to understand how to implement it in my code. Also, I am using Glassfish 3.1.2. </p>\n\n<p>Will someone please help with some code sample?</p>\n\n<p>EDIT/UPDATE:</p>\n\n<p>Below is the persistence.xml file I am using. I am running MySQL and Glassfish. Should I save it under <code>WEB-INF</code> which is where <code>persistence-context.xml</code> is OR under <code>src/main/resource</code> which is where <code>hibernate.cfg.xml</code> is?</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;persistence-unit name=\"pu1\" transaction-type=\"JTA\"&gt;\n    &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n    &lt;class&gt;com.mysite.restapi.RestletChildApplication&lt;/class&gt;\n    &lt;properties&gt;\n            &lt;property name=\"hibernate.connection.driver_class\"\n                    value=\"com.mysql.jdbc.Driver\" /&gt;\n            &lt;property name=\"hibernate.connection.url\"\n                    value=\"jdbc:mysql://localhost:3306/mydatabase\" /&gt;\n            &lt;property name=\"hibernate.connection.username\" value=\"myname\"/&gt;\n            &lt;property name=\"hibernate.connection.password\" value=\"mypassword\"/&gt;\n            &lt;property name=\"show_sql\" value=\"true\" /&gt;\n            &lt;property name=\"dialect\" value=\"org.hibernate.dialect.MySQLDialect\" /&gt;\n    &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n"},{"tags":["java","logging","playframework","slf4j","mdc"],"owner":{"account_id":11848650,"reputation":21,"user_id":8670547,"display_name":"Shorifuzzaman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":656,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1697165951,"creation_date":1662732560,"question_id":73663432,"body_markdown":"I am facing an issue on propagating slf4 MDC in play framework. I actually require to pass an X-Request-Id from request through multiple threads for the purpose of slf4 logging.\r\n\r\nI found a solution here, https://yanns.github.io/blog/2014/05/04/slf4j-mapped-diagnostic-context-mdc-with-play-framework/ for passing MDC in an asynchronous environment. But unfortunately it&#39;s not working. After putting MDC in a filter I am getting null value in controller for that MDC. Here is my code snippts.\r\n\r\n- `LoggingFilters.java`\r\n\r\n```\r\n@Component\r\npublic class LoggingFilters extends Filter {\r\n  private final Executor exec;\r\n  public static final String REQUEST_ID_STRING = &quot;X-Request-Id&quot;;\r\n  private static final Logger log = LoggerFactory.getLogger(LoggingFilters.class);\r\n\r\n  @Inject\r\n  public LoggingFilters(final Materializer mat, final Executor exec) {\r\n    super(mat);\r\n    this.exec = exec;\r\n  }\r\n\r\n  @Override\r\n  public CompletionStage&lt;Result&gt; apply(\r\n      final Function&lt;Http.RequestHeader, CompletionStage&lt;Result&gt;&gt; nextFilter,\r\n      final Http.RequestHeader requestHeader) {\r\n    final String requestId = requestHeader.header(REQUEST_ID_STRING).orElse(UUID.randomUUID().toString());\r\n    MDC.put(REQUEST_ID_STRING, requestId);\r\n    return nextFilter\r\n        .apply(requestHeader)\r\n        .thenApplyAsync(\r\n            result -&gt; {\r\n              MDC.remove(REQUEST_ID_STRING);\r\n              return result;\r\n            }, exec);\r\n  }\r\n}\r\n```\r\n\r\n- Filters.java\r\n\r\n```\r\npublic class Filters implements HttpFilters {\r\n\r\n  private final List&lt;EssentialFilter&gt; filters;\r\n\r\n  @Inject\r\n  public Filters(final LoggingFilters loggingFilter) {\r\n    filters = Lists.newArrayList(\r\n        loggingFilter.asJava());\r\n  }\r\n\r\n  @Override\r\n  public List&lt;EssentialFilter&gt; getFilters() {\r\n    return filters;\r\n  }\r\n}\r\n```\r\n\r\n- `MDCPropagatingDispatcherConfigurator.scala`\r\n\r\n```\r\npackage topl.util\r\n\r\nimport akka.dispatch._\r\nimport com.typesafe.config.Config\r\nimport org.slf4j.MDC\r\n\r\nimport java.util.concurrent.TimeUnit\r\nimport scala.concurrent.ExecutionContext\r\nimport scala.concurrent.duration.{Duration, FiniteDuration}\r\n\r\nclass MDCPropagatingDispatcherConfigurator(config: Config, prerequisites: DispatcherPrerequisites)\r\n  extends MessageDispatcherConfigurator(config, prerequisites) {\r\n\r\n  private val instance = new MDCPropagatingDispatcher(\r\n    this,\r\n    config.getString(&quot;id&quot;),\r\n    config.getInt(&quot;throughput&quot;),\r\n    FiniteDuration(config.getDuration(&quot;throughput-deadline-time&quot;, TimeUnit.NANOSECONDS), TimeUnit.NANOSECONDS),\r\n    configureExecutor(),\r\n    FiniteDuration(config.getDuration(&quot;shutdown-timeout&quot;, TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS))\r\n\r\n  override def dispatcher(): MessageDispatcher = instance\r\n}\r\n\r\nclass MDCPropagatingDispatcher(_configurator: MessageDispatcherConfigurator,\r\n                               id: String,\r\n                               throughput: Int,\r\n                               throughputDeadlineTime: Duration,\r\n                               executorServiceFactoryProvider: ExecutorServiceFactoryProvider,\r\n                               shutdownTimeout: FiniteDuration)\r\n  extends Dispatcher(_configurator, id, throughput, throughputDeadlineTime, executorServiceFactoryProvider, shutdownTimeout) {\r\n\r\n  self =&gt;\r\n\r\n  override def prepare(): ExecutionContext = new ExecutionContext {\r\n    // capture the MDC\r\n    val mdcContext = MDC.getCopyOfContextMap\r\n\r\n    def execute(r: Runnable) = self.execute(new Runnable {\r\n      def run() = {\r\n        // backup the callee MDC context\r\n        val oldMDCContext = MDC.getCopyOfContextMap\r\n\r\n        // Run the runnable with the captured context\r\n        setContextMap(mdcContext)\r\n        try {\r\n          r.run()\r\n        } finally {\r\n          // restore the callee MDC context\r\n          setContextMap(oldMDCContext)\r\n        }\r\n      }\r\n    })\r\n\r\n    def reportFailure(t: Throwable) = self.reportFailure(t)\r\n  }\r\n\r\n  private[this] def setContextMap(context: java.util.Map[String, String]) {\r\n    if (context == null) {\r\n      MDC.clear()\r\n    } else {\r\n      MDC.setContextMap(context)\r\n    }\r\n  }\r\n\r\n}\r\n```\r\n\r\n- `Application.conf`\r\n\r\n```\r\nakka {\r\n  actor {\r\n       default-dispatcher {\r\n                  type = &quot;topl.util.MDCPropagatingDispatcherConfigurator&quot;\r\n                }\r\n  }\r\n}\r\n```\r\n\r\n- I have also some custom Execution Context for serving different purposes. I am also passing MDC context there too. For example: MediumExecutionContext    \r\n  - ```\r\n    MediumExecutionContext.java\r\n    ```\r\n\r\n    ```\r\n    @Component\r\n    public class MediumExecutionContext extends CustomExecutionContext {\r\n    \r\n      public MediumExecutionContext(final ActorSystem actorSystem) {\r\n        // uses a custom thread pool defined in application-default.conf\r\n        super(actorSystem, &quot;medium-dispatcher&quot;);\r\n      }\r\n    \r\n      @Override\r\n      public ExecutionContext prepare() {\r\n        final Map&lt;String, String&gt; mdcContext = MDC.getCopyOfContextMap();\r\n        return new ExecutionContext() {\r\n          @Override\r\n          public void execute(final Runnable r) {\r\n            final Map&lt;String, String&gt; oldMDCContext = MDC.getCopyOfContextMap();\r\n            setContextMap(mdcContext);\r\n            try {\r\n              r.run();\r\n            } finally {\r\n              setContextMap(oldMDCContext);\r\n            }\r\n          }\r\n    \r\n          @Override\r\n          public ExecutionContext prepare() {\r\n            return this;\r\n          }\r\n    \r\n          @Override\r\n          public void reportFailure(final Throwable t) {\r\n            play.Logger.info(&quot;error occured in dispatcher&quot;);\r\n          }\r\n        };\r\n      }\r\n    \r\n      private void setContextMap(final Map&lt;String, String&gt; context) {\r\n        if (context == null) {\r\n          MDC.clear();\r\n        } else {\r\n          MDC.setContextMap(context);\r\n        }\r\n      }\r\n    }\r\n    ```\r\n\r\n  - `DispatchHelper.java`  \r\n\r\n    ```\r\n    public Executor getMediumExecutor() {\r\n      return HttpExecution.fromThread((Executor)mediumExecutionContext);\r\n    }\r\n    \r\n    ```\r\n\r\n\r\n- `logback.xml`\r\n\r\n  ```\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n          &lt;encoder&gt;\r\n              &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} %mdc{X-Request-Id:--} - %msg%n\r\n              &lt;/pattern&gt;\r\n          &lt;/encoder&gt;\r\n      &lt;/appender&gt;\r\n  \r\n  ```\r\n\r\n\r\n- `Controller`\r\n\r\n  ```\r\n  @Slf4j \r\n  @RequiredArgsConstructor \r\n  @Controller \r\n  @GeneralOpenApiResource \r\n  public class FetchDirectoryApi extends NewAuthenticatedInterceptorStack {\r\n  \r\n      public CompletionStage&lt;Result&gt; getRootDirectories(final Request request,final String category) {\r\n              log.info(&quot;Test 1&quot;); //I am not getting the MDC context here and it&#39;snot logging the x-request-id \r\n              }\r\n  }\r\n  ```\r\n\r\nSo, could you please help me to make this work? Or, is there any different approach that I can follow to log the request_id from some nested threads?\r\n\r\nI have got a Fix!\r\n\r\n&gt; Solution:\r\n\r\nI am sharing the solution here so that it helps other. \r\n\r\n- Method Interception:\r\nInstead of Filter it&#39;s better to use a Method interceptor to store the MDC. I have followed [this link][1] to extend Action.Simple for intercepting the request in play framework.\r\n\r\n```\r\npublic class DefaultAction extends Action.Simple {\r\n    @Override\r\n    public CompletionStage&lt;Result&gt; call(final Request request) {\r\n        try {\r\n            MDC.put(&quot;TestKey&quot;, &quot;Test Value&quot;)\r\n            return delegate.call(request);\r\n        } finally {\r\n            // Clean up the MDC\r\n            MDC.remove(&quot;TestKey&quot;)\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n- Change for Custom Dispatchers:\r\nTo propagate MDC context to different Dispatchers (which runs in different threads) I override the execute() method as follows.\r\n\r\n```\r\npublic class MediumExecutionContext extends CustomExecutionContext {\r\n    public MediumExecutionContext(final ActorSystem actorSystem) {\r\n        // uses a custom thread pool defined in application.conf\r\n        super(actorSystem, &quot;medium-dispatcher&quot;);\r\n    }\r\n    \r\n    @Override\r\n    public void execute(final Runnable command) {\r\n        final Map&lt;String, String&gt; mdcContext = MDC.getCopyOfContextMap();\r\n        final Runnable runnable = () -&gt; {\r\n            final Map&lt;String, String&gt; oldMdcContext = MDC.getCopyOfContextMap();\r\n            MDC.setContextMap(mdcContext);\r\n            try {\r\n                command.run();\r\n            } finally {\r\n                MDC.setContextMap(oldMdcContext);\r\n            }\r\n        };\r\n        runnable.run();\r\n    }\r\n}\r\n```\r\n\r\nNow it should propagate the MDC value through the dispatchers (in different thread).\r\n\r\n  [1]: https://petrepopescu.tech/2021/09/intercepting-and-manipulating-requests-in-play-framework/","title":"How can we propagate slf4j MDC/Request_id in Play framework for Java","body":"<p>I am facing an issue on propagating slf4 MDC in play framework. I actually require to pass an X-Request-Id from request through multiple threads for the purpose of slf4 logging.</p>\n<p>I found a solution here, <a href=\"https://yanns.github.io/blog/2014/05/04/slf4j-mapped-diagnostic-context-mdc-with-play-framework/\" rel=\"nofollow noreferrer\">https://yanns.github.io/blog/2014/05/04/slf4j-mapped-diagnostic-context-mdc-with-play-framework/</a> for passing MDC in an asynchronous environment. But unfortunately it's not working. After putting MDC in a filter I am getting null value in controller for that MDC. Here is my code snippts.</p>\n<ul>\n<li><code>LoggingFilters.java</code></li>\n</ul>\n<pre><code>@Component\npublic class LoggingFilters extends Filter {\n  private final Executor exec;\n  public static final String REQUEST_ID_STRING = &quot;X-Request-Id&quot;;\n  private static final Logger log = LoggerFactory.getLogger(LoggingFilters.class);\n\n  @Inject\n  public LoggingFilters(final Materializer mat, final Executor exec) {\n    super(mat);\n    this.exec = exec;\n  }\n\n  @Override\n  public CompletionStage&lt;Result&gt; apply(\n      final Function&lt;Http.RequestHeader, CompletionStage&lt;Result&gt;&gt; nextFilter,\n      final Http.RequestHeader requestHeader) {\n    final String requestId = requestHeader.header(REQUEST_ID_STRING).orElse(UUID.randomUUID().toString());\n    MDC.put(REQUEST_ID_STRING, requestId);\n    return nextFilter\n        .apply(requestHeader)\n        .thenApplyAsync(\n            result -&gt; {\n              MDC.remove(REQUEST_ID_STRING);\n              return result;\n            }, exec);\n  }\n}\n</code></pre>\n<ul>\n<li>Filters.java</li>\n</ul>\n<pre><code>public class Filters implements HttpFilters {\n\n  private final List&lt;EssentialFilter&gt; filters;\n\n  @Inject\n  public Filters(final LoggingFilters loggingFilter) {\n    filters = Lists.newArrayList(\n        loggingFilter.asJava());\n  }\n\n  @Override\n  public List&lt;EssentialFilter&gt; getFilters() {\n    return filters;\n  }\n}\n</code></pre>\n<ul>\n<li><code>MDCPropagatingDispatcherConfigurator.scala</code></li>\n</ul>\n<pre><code>package topl.util\n\nimport akka.dispatch._\nimport com.typesafe.config.Config\nimport org.slf4j.MDC\n\nimport java.util.concurrent.TimeUnit\nimport scala.concurrent.ExecutionContext\nimport scala.concurrent.duration.{Duration, FiniteDuration}\n\nclass MDCPropagatingDispatcherConfigurator(config: Config, prerequisites: DispatcherPrerequisites)\n  extends MessageDispatcherConfigurator(config, prerequisites) {\n\n  private val instance = new MDCPropagatingDispatcher(\n    this,\n    config.getString(&quot;id&quot;),\n    config.getInt(&quot;throughput&quot;),\n    FiniteDuration(config.getDuration(&quot;throughput-deadline-time&quot;, TimeUnit.NANOSECONDS), TimeUnit.NANOSECONDS),\n    configureExecutor(),\n    FiniteDuration(config.getDuration(&quot;shutdown-timeout&quot;, TimeUnit.MILLISECONDS), TimeUnit.MILLISECONDS))\n\n  override def dispatcher(): MessageDispatcher = instance\n}\n\nclass MDCPropagatingDispatcher(_configurator: MessageDispatcherConfigurator,\n                               id: String,\n                               throughput: Int,\n                               throughputDeadlineTime: Duration,\n                               executorServiceFactoryProvider: ExecutorServiceFactoryProvider,\n                               shutdownTimeout: FiniteDuration)\n  extends Dispatcher(_configurator, id, throughput, throughputDeadlineTime, executorServiceFactoryProvider, shutdownTimeout) {\n\n  self =&gt;\n\n  override def prepare(): ExecutionContext = new ExecutionContext {\n    // capture the MDC\n    val mdcContext = MDC.getCopyOfContextMap\n\n    def execute(r: Runnable) = self.execute(new Runnable {\n      def run() = {\n        // backup the callee MDC context\n        val oldMDCContext = MDC.getCopyOfContextMap\n\n        // Run the runnable with the captured context\n        setContextMap(mdcContext)\n        try {\n          r.run()\n        } finally {\n          // restore the callee MDC context\n          setContextMap(oldMDCContext)\n        }\n      }\n    })\n\n    def reportFailure(t: Throwable) = self.reportFailure(t)\n  }\n\n  private[this] def setContextMap(context: java.util.Map[String, String]) {\n    if (context == null) {\n      MDC.clear()\n    } else {\n      MDC.setContextMap(context)\n    }\n  }\n\n}\n</code></pre>\n<ul>\n<li><code>Application.conf</code></li>\n</ul>\n<pre><code>akka {\n  actor {\n       default-dispatcher {\n                  type = &quot;topl.util.MDCPropagatingDispatcherConfigurator&quot;\n                }\n  }\n}\n</code></pre>\n<ul>\n<li><p>I have also some custom Execution Context for serving different purposes. I am also passing MDC context there too. For example: MediumExecutionContext</p>\n<ul>\n<li>\n<pre><code>MediumExecutionContext.java\n</code></pre>\n<pre><code>@Component\npublic class MediumExecutionContext extends CustomExecutionContext {\n\n  public MediumExecutionContext(final ActorSystem actorSystem) {\n    // uses a custom thread pool defined in application-default.conf\n    super(actorSystem, &quot;medium-dispatcher&quot;);\n  }\n\n  @Override\n  public ExecutionContext prepare() {\n    final Map&lt;String, String&gt; mdcContext = MDC.getCopyOfContextMap();\n    return new ExecutionContext() {\n      @Override\n      public void execute(final Runnable r) {\n        final Map&lt;String, String&gt; oldMDCContext = MDC.getCopyOfContextMap();\n        setContextMap(mdcContext);\n        try {\n          r.run();\n        } finally {\n          setContextMap(oldMDCContext);\n        }\n      }\n\n      @Override\n      public ExecutionContext prepare() {\n        return this;\n      }\n\n      @Override\n      public void reportFailure(final Throwable t) {\n        play.Logger.info(&quot;error occured in dispatcher&quot;);\n      }\n    };\n  }\n\n  private void setContextMap(final Map&lt;String, String&gt; context) {\n    if (context == null) {\n      MDC.clear();\n    } else {\n      MDC.setContextMap(context);\n    }\n  }\n}\n</code></pre>\n</li>\n<li><p><code>DispatchHelper.java</code></p>\n<pre><code>public Executor getMediumExecutor() {\n  return HttpExecution.fromThread((Executor)mediumExecutionContext);\n}\n\n</code></pre>\n</li>\n</ul>\n</li>\n<li><p><code>logback.xml</code></p>\n<pre><code>  &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n        &lt;encoder&gt;\n            &lt;pattern&gt;%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} %mdc{X-Request-Id:--} - %msg%n\n            &lt;/pattern&gt;\n        &lt;/encoder&gt;\n    &lt;/appender&gt;\n\n</code></pre>\n</li>\n<li><p><code>Controller</code></p>\n<pre><code>@Slf4j \n@RequiredArgsConstructor \n@Controller \n@GeneralOpenApiResource \npublic class FetchDirectoryApi extends NewAuthenticatedInterceptorStack {\n\n    public CompletionStage&lt;Result&gt; getRootDirectories(final Request request,final String category) {\n            log.info(&quot;Test 1&quot;); //I am not getting the MDC context here and it'snot logging the x-request-id \n            }\n}\n</code></pre>\n</li>\n</ul>\n<p>So, could you please help me to make this work? Or, is there any different approach that I can follow to log the request_id from some nested threads?</p>\n<p>I have got a Fix!</p>\n<blockquote>\n<p>Solution:</p>\n</blockquote>\n<p>I am sharing the solution here so that it helps other.</p>\n<ul>\n<li>Method Interception:\nInstead of Filter it's better to use a Method interceptor to store the MDC. I have followed <a href=\"https://petrepopescu.tech/2021/09/intercepting-and-manipulating-requests-in-play-framework/\" rel=\"nofollow noreferrer\">this link</a> to extend Action.Simple for intercepting the request in play framework.</li>\n</ul>\n<pre><code>public class DefaultAction extends Action.Simple {\n    @Override\n    public CompletionStage&lt;Result&gt; call(final Request request) {\n        try {\n            MDC.put(&quot;TestKey&quot;, &quot;Test Value&quot;)\n            return delegate.call(request);\n        } finally {\n            // Clean up the MDC\n            MDC.remove(&quot;TestKey&quot;)\n        }\n    }\n}\n</code></pre>\n<ul>\n<li>Change for Custom Dispatchers:\nTo propagate MDC context to different Dispatchers (which runs in different threads) I override the execute() method as follows.</li>\n</ul>\n<pre><code>public class MediumExecutionContext extends CustomExecutionContext {\n    public MediumExecutionContext(final ActorSystem actorSystem) {\n        // uses a custom thread pool defined in application.conf\n        super(actorSystem, &quot;medium-dispatcher&quot;);\n    }\n    \n    @Override\n    public void execute(final Runnable command) {\n        final Map&lt;String, String&gt; mdcContext = MDC.getCopyOfContextMap();\n        final Runnable runnable = () -&gt; {\n            final Map&lt;String, String&gt; oldMdcContext = MDC.getCopyOfContextMap();\n            MDC.setContextMap(mdcContext);\n            try {\n                command.run();\n            } finally {\n                MDC.setContextMap(oldMdcContext);\n            }\n        };\n        runnable.run();\n    }\n}\n</code></pre>\n<p>Now it should propagate the MDC value through the dispatchers (in different thread).</p>\n"},{"tags":["java","spring","spring-security","basic-authentication"],"comments":[{"owner":{"display_name":"user10871691"},"score":0,"creation_date":1593503908,"post_id":62652673,"comment_id":110796865,"body_markdown":"How do you perform that POST? Using Postman?","body":"How do you perform that POST? Using Postman?"},{"owner":{"account_id":15441701,"reputation":37,"user_id":11140063,"display_name":"Svetlana Guma"},"score":0,"creation_date":1593505526,"post_id":62652673,"comment_id":110797690,"body_markdown":"yes, and tried with/without Basic authentication","body":"yes, and tried with/without Basic authentication"},{"owner":{"display_name":"user10871691"},"score":0,"creation_date":1593505704,"post_id":62652673,"comment_id":110797804,"body_markdown":"This line `http.csrf().disable().requestMatcher(EndpointRequest.toAnyEndpoint()).authorizeRequests().anyRequest().authenticated().and().httpBasic();` worked for me","body":"This line <code>http.csrf().disable().requestMatcher(EndpointRequest.toAnyEn&zwnj;&#8203;dpoint()).authorizeR&zwnj;&#8203;equests().anyRequest&zwnj;&#8203;().authenticated().a&zwnj;&#8203;nd().httpBasic();</code> worked for me"},{"owner":{"account_id":441392,"reputation":3406,"user_id":831460,"accept_rate":50,"display_name":"Marek Puchalski"},"score":0,"creation_date":1593513379,"post_id":62652673,"comment_id":110801608,"body_markdown":"If you have solved your issue yourself, then please write down the answer yourself for future generations. If some comments were helpful, please upvote them.","body":"If you have solved your issue yourself, then please write down the answer yourself for future generations. If some comments were helpful, please upvote them."}],"answers":[{"tags":[],"owner":{"account_id":22792024,"reputation":11,"user_id":16946197,"display_name":"Taewoo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697165542,"creation_date":1695188279,"answer_id":77139552,"question_id":62652673,"body_markdown":"``` http.csrf().disable()``` is not working in Spring Boot 3.x.x. You should try the following line.\r\n\r\n\r\n\r\n```java\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SpringFilterChainConfig {\r\n\r\n    @Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.csrf(AbstractHttpConfigurer::disable);\r\n        http.cors(AbstractHttpConfigurer::disable);\r\n\r\n        return http\r\n                .authorizeHttpRequests(request -&gt; request\r\n                        .requestMatchers(HttpMethod.POST, &quot;/api/users&quot;).permitAll()\r\n                        .requestMatchers(HttpMethod.POST, &quot;/api/users/login&quot;).permitAll()\r\n                        .anyRequest()\r\n                        .authenticated()\r\n                ).build();\r\n    }\r\n}\r\n\r\n```","title":"Spring Security CSRF disable is not working","body":"<p><code> http.csrf().disable()</code> is not working in Spring Boot 3.x.x. You should try the following line.</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Configuration\n@EnableWebSecurity\npublic class SpringFilterChainConfig {\n\n    @Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.csrf(AbstractHttpConfigurer::disable);\n        http.cors(AbstractHttpConfigurer::disable);\n\n        return http\n                .authorizeHttpRequests(request -&gt; request\n                        .requestMatchers(HttpMethod.POST, &quot;/api/users&quot;).permitAll()\n                        .requestMatchers(HttpMethod.POST, &quot;/api/users/login&quot;).permitAll()\n                        .anyRequest()\n                        .authenticated()\n                ).build();\n    }\n}\n\n</code></pre>\n"}],"owner":{"account_id":15441701,"reputation":37,"user_id":11140063,"display_name":"Svetlana Guma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3595,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697165542,"creation_date":1593503405,"question_id":62652673,"body_markdown":"I want to protect `/actuator/shutdown` endpoint with Basic auth. I have an implementation of `UserDetailsService` and my security class looks like this:\r\n```\r\n@Configuration\r\npublic static class ActuatorWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\r\n\r\n  @Autowired\r\n  UserProvider userProvider;\r\n\r\n  @Autowired\r\n  public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\r\n    auth.userDetailsService(new UserDetailsServiceCustom(userProvider)).passwordEncoder(new BCryptPasswordEncoder(12));\r\n  }\r\n\r\n  @Override\r\n  protected void configure(HttpSecurity http) throws Exception {\r\n    http.csrf().disable()\r\n       .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n    http.authorizeRequests()\r\n       .antMatchers(&quot;/actuator/shutdown&quot;).authenticated().and().httpBasic();\r\n  }\r\n}\r\n```\r\nI enabled shutdown endpoint like this in properties:\r\n```\r\nmanagement:\r\n  endpoints:\r\n    web:\r\n      exposure:\r\n        include: shutdown\r\n  endpoint:\r\n    shutdown:\r\n      enabled: true\r\n```\r\nWhen I perform `POST /actuator/shutdown` I receive 403 FORBIDDEN and with debugger I see that `UserDetailsServiceCustom` method is not triggered at all, but if I try `GET /actuator/shutdown` I receive 405 and method in `UserDetailsServiceCustom` is triggered properly, so it means that I can access this endpoint but something stands in a way of POST. I googled a lot and found out that it&#39;s because of CSRF but as you can see I&#39;ve disabled it already. I also tried to add `web.ignoring().antMatchers(&quot;/actuator/shutdown&quot;)` but this way anyone can access this endpoint.\r\n\r\nSo my question is how to enable Basic Authentication that uses my database users for this endpoint?\r\n\r\n**UPDATE**\r\nOkay so the problem was not with the HttpSecurity config or CSRF but with how I incorrectly implemented [multiple HttpSecurity][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/reference/html5/#multiple-httpsecurity","title":"Spring Security CSRF disable is not working","body":"<p>I want to protect <code>/actuator/shutdown</code> endpoint with Basic auth. I have an implementation of <code>UserDetailsService</code> and my security class looks like this:</p>\n<pre><code>@Configuration\npublic static class ActuatorWebSecurityConfigurerAdapter extends WebSecurityConfigurerAdapter {\n\n  @Autowired\n  UserProvider userProvider;\n\n  @Autowired\n  public void configureGlobal(AuthenticationManagerBuilder auth) throws Exception {\n    auth.userDetailsService(new UserDetailsServiceCustom(userProvider)).passwordEncoder(new BCryptPasswordEncoder(12));\n  }\n\n  @Override\n  protected void configure(HttpSecurity http) throws Exception {\n    http.csrf().disable()\n       .and().sessionManagement().sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n    http.authorizeRequests()\n       .antMatchers(&quot;/actuator/shutdown&quot;).authenticated().and().httpBasic();\n  }\n}\n</code></pre>\n<p>I enabled shutdown endpoint like this in properties:</p>\n<pre><code>management:\n  endpoints:\n    web:\n      exposure:\n        include: shutdown\n  endpoint:\n    shutdown:\n      enabled: true\n</code></pre>\n<p>When I perform <code>POST /actuator/shutdown</code> I receive 403 FORBIDDEN and with debugger I see that <code>UserDetailsServiceCustom</code> method is not triggered at all, but if I try <code>GET /actuator/shutdown</code> I receive 405 and method in <code>UserDetailsServiceCustom</code> is triggered properly, so it means that I can access this endpoint but something stands in a way of POST. I googled a lot and found out that it's because of CSRF but as you can see I've disabled it already. I also tried to add <code>web.ignoring().antMatchers(&quot;/actuator/shutdown&quot;)</code> but this way anyone can access this endpoint.</p>\n<p>So my question is how to enable Basic Authentication that uses my database users for this endpoint?</p>\n<p><strong>UPDATE</strong>\nOkay so the problem was not with the HttpSecurity config or CSRF but with how I incorrectly implemented <a href=\"https://docs.spring.io/spring-security/site/docs/current/reference/html5/#multiple-httpsecurity\" rel=\"nofollow noreferrer\">multiple HttpSecurity</a></p>\n"},{"tags":["java","maven","tomcat","java-11"],"comments":[{"owner":{"account_id":372682,"reputation":22426,"user_id":721855,"display_name":"aled"},"score":0,"creation_date":1697164868,"post_id":77284736,"comment_id":136248452,"body_markdown":"What version of Tomcat and Maven are you using? What kind of project?","body":"What version of Tomcat and Maven are you using? What kind of project?"},{"owner":{"account_id":7493445,"reputation":161,"user_id":5694406,"display_name":"Rakesh Sharma"},"score":0,"creation_date":1697166626,"post_id":77284736,"comment_id":136248551,"body_markdown":"@aled - Maven 3.8.1 and Tomcat 9.0.41","body":"@aled - Maven 3.8.1 and Tomcat 9.0.41"},{"owner":{"account_id":7493445,"reputation":161,"user_id":5694406,"display_name":"Rakesh Sharma"},"score":0,"creation_date":1697166743,"post_id":77284736,"comment_id":136248558,"body_markdown":"I feel, this is class loading issue. Is there any way to check which jar is loading javax.annotation.Resource ? I tried Tomcat Fine level logging but that doesnt tell anything about jar.","body":"I feel, this is class loading issue. Is there any way to check which jar is loading javax.annotation.Resource ? I tried Tomcat Fine level logging but that doesnt tell anything about jar."}],"owner":{"account_id":7493445,"reputation":161,"user_id":5694406,"display_name":"Rakesh Sharma"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697164835,"creation_date":1697163916,"question_id":77284736,"body_markdown":"I have a project in java 8 which I am trying to migrate to Java 11. I faced issue with sun.security.x509. That got resolved by adding below code in pom\r\n\r\n        &lt;compilerArgs&gt;\r\n            &lt;arg&gt;--add-exports&lt;/arg&gt;&lt;arg&gt;java.base/sun.security.x509=ALL-UNNAMED&lt;/arg&gt;\r\n        &lt;/compilerArgs&gt;\r\n        \r\nWhen I am do tomcat start after maven build, I get below error,\r\n```\r\nPost-processing of merged bean definition failed; nested exception is java.lang.NoSuchMethodError: javax.annotation.Resource.lookup()Ljava/lang/String;\r\n```\r\nI can see few posts on StackOverflow related to this error. \r\n\r\nhttps://stackoverflow.com/questions/56855335/javax-annotation-classes-and-java-11-jdk\r\n\r\nhttps://stackoverflow.com/questions/52607814/how-to-remove-a-maven-lib-jsr250-api-1-0-jar-from-the-plugin-classpath-jetty\r\n\r\nhttps://stackoverflow.com/questions/61149455/access-sun-security-x509-in-jdk-11-without-modules\r\n\r\nI dont see jsr250-api lib in my target folder.\r\nI tried all of those but no luck. I am not sure what is wrong here. \r\n\r\nPlease let me know if you have any idea about this error.","title":"Why I am getting Tomcat startup error with java 11","body":"<p>I have a project in java 8 which I am trying to migrate to Java 11. I faced issue with sun.security.x509. That got resolved by adding below code in pom</p>\n<pre><code>    &lt;compilerArgs&gt;\n        &lt;arg&gt;--add-exports&lt;/arg&gt;&lt;arg&gt;java.base/sun.security.x509=ALL-UNNAMED&lt;/arg&gt;\n    &lt;/compilerArgs&gt;\n    \n</code></pre>\n<p>When I am do tomcat start after maven build, I get below error,</p>\n<pre><code>Post-processing of merged bean definition failed; nested exception is java.lang.NoSuchMethodError: javax.annotation.Resource.lookup()Ljava/lang/String;\n</code></pre>\n<p>I can see few posts on StackOverflow related to this error.</p>\n<p><a href=\"https://stackoverflow.com/questions/56855335/javax-annotation-classes-and-java-11-jdk\">javax.annotation classes and Java 11 JDK</a></p>\n<p><a href=\"https://stackoverflow.com/questions/52607814/how-to-remove-a-maven-lib-jsr250-api-1-0-jar-from-the-plugin-classpath-jetty\">How to remove a maven lib (jsr250-api-1.0.jar) from the plugin classpath (jetty:run)?</a></p>\n<p><a href=\"https://stackoverflow.com/questions/61149455/access-sun-security-x509-in-jdk-11-without-modules\">Access `sun.security.x509` in JDK 11 without modules?</a></p>\n<p>I dont see jsr250-api lib in my target folder.\nI tried all of those but no luck. I am not sure what is wrong here.</p>\n<p>Please let me know if you have any idea about this error.</p>\n"},{"tags":["java","eclipse","selenium-webdriver"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1697205814,"post_id":77284729,"comment_id":136254479,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":29660669,"reputation":1,"user_id":22732290,"display_name":"Vijay Dhandhukiya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697164221,"creation_date":1697164126,"answer_id":77284749,"question_id":77284729,"body_markdown":"you can do below mentioned steps to resolve this issue.\r\nclick on below steps to see image\r\n\r\n1) [right click on project&gt;BuildPath&gt;Configure Buildpath][1]\r\n\r\n\r\n2) [in java build path &gt; Libraries &gt; JRE System Library &gt; Edit][2]\r\n\r\n3) [click Workspace Default JRE &gt; click finish &gt; Click apply and close][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vUpdN.png\r\n  [2]: https://i.stack.imgur.com/CDjx5.png\r\n  [3]: https://i.stack.imgur.com/3YP1q.png","title":"The type java.lang.String cannot be resolved. It is indirectly referenced from required type org.openqa.selenium.WebDriver","body":"<p>you can do below mentioned steps to resolve this issue.\nclick on below steps to see image</p>\n<ol>\n<li><p><a href=\"https://i.stack.imgur.com/vUpdN.png\" rel=\"nofollow noreferrer\">right click on project&gt;BuildPath&gt;Configure Buildpath</a></p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/CDjx5.png\" rel=\"nofollow noreferrer\">in java build path &gt; Libraries &gt; JRE System Library &gt; Edit</a></p>\n</li>\n<li><p><a href=\"https://i.stack.imgur.com/3YP1q.png\" rel=\"nofollow noreferrer\">click Workspace Default JRE &gt; click finish &gt; Click apply and close</a></p>\n</li>\n</ol>\n"}],"owner":{"account_id":29660669,"reputation":1,"user_id":22732290,"display_name":"Vijay Dhandhukiya"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":87,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697164221,"creation_date":1697163814,"question_id":77284729,"body_markdown":"[enter image description here](https://i.stack.imgur.com/hCaZD.png)\r\n\r\ngetting error as shown in message ( The type java.lang.String cannot be resolved. It is indirectly referenced from required type org.openqa.selenium.WebDriver)\r\n\r\nerror should be gone if buildpath is correct","title":"The type java.lang.String cannot be resolved. It is indirectly referenced from required type org.openqa.selenium.WebDriver","body":"<p><a href=\"https://i.stack.imgur.com/hCaZD.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>getting error as shown in message ( The type java.lang.String cannot be resolved. It is indirectly referenced from required type org.openqa.selenium.WebDriver)</p>\n<p>error should be gone if buildpath is correct</p>\n"},{"tags":["java","amazon-web-services","amazon-sqs"],"comments":[{"owner":{"account_id":7501,"reputation":187932,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1697199710,"post_id":77284732,"comment_id":136253268,"body_markdown":"Since you have content based deduplication enabled, are you sure the messages aren&#39;t being removed because they are duplicates of other messages?","body":"Since you have content based deduplication enabled, are you sure the messages aren&#39;t being removed because they are duplicates of other messages?"},{"owner":{"account_id":14107503,"reputation":31,"user_id":10191198,"display_name":"hun"},"score":0,"creation_date":1697295123,"post_id":77284732,"comment_id":136263276,"body_markdown":"@MarkB \nYes, there is no duplication of messages because we are using the index value in the forloop. Using the SqsClient, we see that we have 100M in SQS, which is fine.","body":"@MarkB  Yes, there is no duplication of messages because we are using the index value in the forloop. Using the SqsClient, we see that we have 100M in SQS, which is fine."},{"owner":{"account_id":7501,"reputation":187932,"user_id":13070,"accept_rate":90,"display_name":"Mark B"},"score":0,"creation_date":1697295166,"post_id":77284732,"comment_id":136263284,"body_markdown":"So it&#39;s just the web console that is showing the wrong number?","body":"So it&#39;s just the web console that is showing the wrong number?"}],"owner":{"account_id":14107503,"reputation":31,"user_id":10191198,"display_name":"hun"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697163848,"creation_date":1697163848,"question_id":77284732,"body_markdown":"I am trying to send messages to AWS SQS using the SqsAsyncClient in the AWS SDK for Java.\r\n\r\nI created 100,000 Dummy Data, cut them into 10 pieces and send them to sqsAsyncClient.sendMessageBatch, but when I look at the AWS Console, only 38730 or 37520 or 38490 messages are available.\r\n\r\nIn other words, more than 60000 messages are missing, so what&#39;s going on that&#39;s causing them to disappear?\r\n\r\nThe SQS I am trying to use is FIFO Queue and I have content based deduplication and high throughput FIFO Queue enabled as well.\r\n\r\nHere is the code\r\n\r\n```java\r\n@Component\r\npublic class QueueMessagePublisher {\r\n\r\n    private static final Logger log = LoggerFactory.getLogger(QueueMessagePublisher.class);\r\n\r\n    @Value(&quot;${spring.cloud.aws.sqs.region}&quot;)\r\n    private String region;\r\n\r\n    @Value(&quot;${spring.cloud.aws.credentials.access-key}&quot;)\r\n    private String accessKey;\r\n\r\n    @Value(&quot;${spring.cloud.aws.credentials.secret-key}&quot;)\r\n    private String secretKey;\r\n\r\n    private SqsAsyncClient sqsAsyncClient;\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    public QueueMessagePublisher(final ObjectMapper objectMapper) {\r\n        this.objectMapper = objectMapper;\r\n    }\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        this.sqsAsyncClient = SqsAsyncClient.builder()\r\n                .region(Region.of(region))\r\n                .credentialsProvider(StaticCredentialsProvider.create(\r\n                        AwsBasicCredentials.create(\r\n                                accessKey,\r\n                                secretKey)))\r\n                .build();\r\n    }\r\n\r\n    public void send() throws JsonProcessingException, ExecutionException, InterruptedException {\r\n        List&lt;SendMessageBatchRequestEntry&gt; appPushes = new ArrayList&lt;&gt;();\r\n\r\n        for (int i=0; i&lt;100000; i++) {\r\n            appPushes.add(\r\n                    SendMessageBatchRequestEntry.builder()\r\n                            .id(UUID.randomUUID().toString())\r\n                            .messageGroupId(UUID.randomUUID().toString())\r\n                            .messageDeduplicationId(UUID.randomUUID().toString())\r\n                            .messageBody(objectMapper.writeValueAsString(new AppPush(String.valueOf(i))))\r\n                            .build()\r\n            );\r\n        }\r\n\r\n        final List&lt;List&lt;SendMessageBatchRequestEntry&gt;&gt; partition = Lists.partition(appPushes, 10);\r\n\r\n        final String queueUrl = sqsAsyncClient.getQueueUrl(GetQueueUrlRequest\r\n                .builder()\r\n                .queueName(&quot;test.fifo&quot;)\r\n                .build()\r\n        ).get().queueUrl();\r\n\r\n\r\n        for (List&lt;SendMessageBatchRequestEntry&gt; messages : partition) {\r\n            SendMessageBatchRequest sendMessageBatchRequest = SendMessageBatchRequest.builder()\r\n                    .queueUrl(queueUrl)\r\n                    .entries(Collections.unmodifiableCollection(messages))\r\n                    .build();\r\n\r\n            sqsAsyncClient.sendMessageBatch(sendMessageBatchRequest)\r\n                    .thenAccept(sendMessageBatchResponse -&gt; {\r\n                        log.info(&quot;Send Message Success : {} / Send Message Fail : {}&quot;, sendMessageBatchResponse.successful().size(), sendMessageBatchResponse.failed().size());\r\n                    });\r\n        }\r\n    }\r\n}\r\n\r\n```","title":"Lost AWS SQS messages","body":"<p>I am trying to send messages to AWS SQS using the SqsAsyncClient in the AWS SDK for Java.</p>\n<p>I created 100,000 Dummy Data, cut them into 10 pieces and send them to sqsAsyncClient.sendMessageBatch, but when I look at the AWS Console, only 38730 or 37520 or 38490 messages are available.</p>\n<p>In other words, more than 60000 messages are missing, so what's going on that's causing them to disappear?</p>\n<p>The SQS I am trying to use is FIFO Queue and I have content based deduplication and high throughput FIFO Queue enabled as well.</p>\n<p>Here is the code</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class QueueMessagePublisher {\n\n    private static final Logger log = LoggerFactory.getLogger(QueueMessagePublisher.class);\n\n    @Value(&quot;${spring.cloud.aws.sqs.region}&quot;)\n    private String region;\n\n    @Value(&quot;${spring.cloud.aws.credentials.access-key}&quot;)\n    private String accessKey;\n\n    @Value(&quot;${spring.cloud.aws.credentials.secret-key}&quot;)\n    private String secretKey;\n\n    private SqsAsyncClient sqsAsyncClient;\n\n    private final ObjectMapper objectMapper;\n\n    public QueueMessagePublisher(final ObjectMapper objectMapper) {\n        this.objectMapper = objectMapper;\n    }\n\n    @PostConstruct\n    public void init() {\n        this.sqsAsyncClient = SqsAsyncClient.builder()\n                .region(Region.of(region))\n                .credentialsProvider(StaticCredentialsProvider.create(\n                        AwsBasicCredentials.create(\n                                accessKey,\n                                secretKey)))\n                .build();\n    }\n\n    public void send() throws JsonProcessingException, ExecutionException, InterruptedException {\n        List&lt;SendMessageBatchRequestEntry&gt; appPushes = new ArrayList&lt;&gt;();\n\n        for (int i=0; i&lt;100000; i++) {\n            appPushes.add(\n                    SendMessageBatchRequestEntry.builder()\n                            .id(UUID.randomUUID().toString())\n                            .messageGroupId(UUID.randomUUID().toString())\n                            .messageDeduplicationId(UUID.randomUUID().toString())\n                            .messageBody(objectMapper.writeValueAsString(new AppPush(String.valueOf(i))))\n                            .build()\n            );\n        }\n\n        final List&lt;List&lt;SendMessageBatchRequestEntry&gt;&gt; partition = Lists.partition(appPushes, 10);\n\n        final String queueUrl = sqsAsyncClient.getQueueUrl(GetQueueUrlRequest\n                .builder()\n                .queueName(&quot;test.fifo&quot;)\n                .build()\n        ).get().queueUrl();\n\n\n        for (List&lt;SendMessageBatchRequestEntry&gt; messages : partition) {\n            SendMessageBatchRequest sendMessageBatchRequest = SendMessageBatchRequest.builder()\n                    .queueUrl(queueUrl)\n                    .entries(Collections.unmodifiableCollection(messages))\n                    .build();\n\n            sqsAsyncClient.sendMessageBatch(sendMessageBatchRequest)\n                    .thenAccept(sendMessageBatchResponse -&gt; {\n                        log.info(&quot;Send Message Success : {} / Send Message Fail : {}&quot;, sendMessageBatchResponse.successful().size(), sendMessageBatchResponse.failed().size());\n                    });\n        }\n    }\n}\n\n</code></pre>\n"},{"tags":["java","elastic-stack"],"comments":[{"owner":{"account_id":1324952,"reputation":5977,"user_id":1270000,"accept_rate":100,"display_name":"sorifiend"},"score":0,"creation_date":1620106357,"post_id":67379282,"comment_id":119095435,"body_markdown":"Note, JAVA_HOME should not include the exe in the path, it should be `C:\\Program Files\\Java\\jdk-15\\bin\\bin\\` If you are unsure how to set or change an environment variable then see here: https://superuser.com/questions/949560/how-do-i-set-system-environment-variables-in-windows-10","body":"Note, JAVA_HOME should not include the exe in the path, it should be `C:\\Program Files\\Java\\jdk-15\\bin\\bin` If you are unsure how to set or change an environment variable then see here: <a href=\"https://superuser.com/questions/949560/how-do-i-set-system-environment-variables-in-windows-10\" title=\"how do i set system environment variables in windows 10\">superuser.com/questions/949560/&hellip;</a>"},{"owner":{"account_id":12720857,"reputation":21,"user_id":15789042,"display_name":"Amrit"},"score":0,"creation_date":1620195071,"post_id":67379282,"comment_id":119125169,"body_markdown":"For some reason elasticsearch.bat tries to find JAVA_HOME inside of C:\\Program Files\\Java\\jdk-15\\bin\\bin\\java.exe when the path for JAVA_HOME is set to C:\\Program Files\\Java\\jdk-15\\bin How do I fix this? Is there a file in the elasticsearch folder I need to alter so that it searches for JAVA_HOME in the right location?","body":"For some reason elasticsearch.bat tries to find JAVA_HOME inside of C:\\Program Files\\Java\\jdk-15\\bin\\bin\\java.exe when the path for JAVA_HOME is set to C:\\Program Files\\Java\\jdk-15\\bin How do I fix this? Is there a file in the elasticsearch folder I need to alter so that it searches for JAVA_HOME in the right location?"}],"answers":[{"tags":[],"owner":{"account_id":4964028,"reputation":16,"user_id":3994036,"display_name":"Hadi rezaei zadeh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620216440,"creation_date":1620106647,"answer_id":67379351,"question_id":67379282,"body_markdown":"First chack your JAVA_HOME, it shoud point to &quot;C:\\Program Files\\Java\\jdk-15\\&quot;\r\n\r\nif you open service.bat you will see elasticsearch use  %JAVA_HOME%\\bin\\java.exe, so your JAVA_HOME shoud not have \\bin part.","title":"java error installing running elastic stack in Windows 10","body":"<p>First chack your JAVA_HOME, it shoud point to &quot;C:\\Program Files\\Java\\jdk-15&quot;</p>\n<p>if you open service.bat you will see elasticsearch use  %JAVA_HOME%\\bin\\java.exe, so your JAVA_HOME shoud not have \\bin part.</p>\n"},{"tags":[],"owner":{"account_id":20730976,"reputation":9,"user_id":15222998,"display_name":"CptnFlipFlops"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620109333,"creation_date":1620109333,"answer_id":67379732,"question_id":67379282,"body_markdown":"Try using the docker ELK Stack instead installing everything manually - https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html\r\n\r\nAnd you can run this in a [VirtualBox][1] instance of [Fedora][2] or [Ubuntu][3] so that you don&#39;t break your windows environment. \r\n\r\n\r\n  [1]: https://www.virtualbox.org/wiki/Downloads\r\n  [2]: https://www.osboxes.org/fedora/\r\n  [3]: https://www.osboxes.org/ubuntu/","title":"java error installing running elastic stack in Windows 10","body":"<p>Try using the docker ELK Stack instead installing everything manually - <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html\" rel=\"nofollow noreferrer\">https://www.elastic.co/guide/en/elasticsearch/reference/current/docker.html</a></p>\n<p>And you can run this in a <a href=\"https://www.virtualbox.org/wiki/Downloads\" rel=\"nofollow noreferrer\">VirtualBox</a> instance of <a href=\"https://www.osboxes.org/fedora/\" rel=\"nofollow noreferrer\">Fedora</a> or <a href=\"https://www.osboxes.org/ubuntu/\" rel=\"nofollow noreferrer\">Ubuntu</a> so that you don't break your windows environment.</p>\n"},{"tags":[],"owner":{"account_id":21631185,"reputation":11,"user_id":15954749,"display_name":"Ajay Nikumbh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635228160,"creation_date":1635228160,"answer_id":69718107,"question_id":67379282,"body_markdown":"You&#39;r facing this problem due to wrong java folder location. Change or move your java folder to program files/Java and updated java path to ur system path and this will solve your problem .. !! This worked for me..","title":"java error installing running elastic stack in Windows 10","body":"<p>You'r facing this problem due to wrong java folder location. Change or move your java folder to program files/Java and updated java path to ur system path and this will solve your problem .. !! This worked for me..</p>\n"},{"tags":[],"owner":{"account_id":27851651,"reputation":1,"user_id":21266046,"display_name":"Asilkan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677076442,"creation_date":1677076223,"answer_id":75534157,"question_id":67379282,"body_markdown":"First, make sure you have installed Java correctly. Set the JAVA_HOME variable to specify the path to Java in your Windows environment variables and add it to the PATH. If these didn&#39;t work, try the following way.\r\n\r\n1-Go to C:\\elasticsearch-version\\bin &lt;br&gt;\r\n2-Open elasticsearch-env.bat for Windows with a text editor &lt;br&gt; \r\n3-Find the set JAVA_HOME variables and remove the extra &quot;\\bin&quot; added to the JAVA path you defined. &lt;br&gt;\r\n\r\nThis is because you define JAVA_HOME as &quot;C:\\Program Files\\Java\\jdk\\bin&quot;. You can also solve the problem by removing the &quot;\\bin&quot; here. However, this can cause other problems.","title":"java error installing running elastic stack in Windows 10","body":"<p>First, make sure you have installed Java correctly. Set the JAVA_HOME variable to specify the path to Java in your Windows environment variables and add it to the PATH. If these didn't work, try the following way.</p>\n<p>1-Go to C:\\elasticsearch-version\\bin <br>\n2-Open elasticsearch-env.bat for Windows with a text editor <br>\n3-Find the set JAVA_HOME variables and remove the extra &quot;\\bin&quot; added to the JAVA path you defined. <br></p>\n<p>This is because you define JAVA_HOME as &quot;C:\\Program Files\\Java\\jdk\\bin&quot;. You can also solve the problem by removing the &quot;\\bin&quot; here. However, this can cause other problems.</p>\n"},{"tags":[],"owner":{"account_id":29660495,"reputation":1,"user_id":22732150,"display_name":"Baishan Zhou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697161481,"creation_date":1697161481,"answer_id":77284639,"question_id":67379282,"body_markdown":"I had the same issue and I changed the content of elasticsearch-env.bat and it worked.\r\n\r\nyou can alter elasticsearch-env.bat file, change from\r\n\r\n    if defined ES_JAVA_HOME (\r\n      set JAVA=&quot;%ES_JAVA_HOME%**\\bin**\\java.exe&quot;\r\n      set JAVA_TYPE=ES_JAVA_HOME\r\n    ) else if defined JAVA_HOME (\r\n      rem fallback to JAVA_HOME\r\n      echo &quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot; &gt;&amp;2\r\n      set JAVA=&quot;%JAVA_HOME%**\\bin**\\java.exe&quot;\r\n      set &quot;ES_JAVA_HOME=%JAVA_HOME%&quot;\r\n      set JAVA_TYPE=JAVA_HOME\r\n\r\nto\r\n\r\n    if defined ES_JAVA_HOME (\r\n      set JAVA=&quot;%ES_JAVA_HOME%\\java.exe&quot;\r\n      set JAVA_TYPE=ES_JAVA_HOME\r\n    ) else if defined JAVA_HOME (\r\n      rem fallback to JAVA_HOME\r\n      echo &quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot; &gt;&amp;2\r\n      set JAVA=&quot;%JAVA_HOME%\\java.exe&quot;\r\n      set &quot;ES_JAVA_HOME=%JAVA_HOME%&quot;\r\n      set JAVA_TYPE=JAVA_HOME","title":"java error installing running elastic stack in Windows 10","body":"<p>I had the same issue and I changed the content of elasticsearch-env.bat and it worked.</p>\n<p>you can alter elasticsearch-env.bat file, change from</p>\n<pre><code>if defined ES_JAVA_HOME (\n  set JAVA=&quot;%ES_JAVA_HOME%**\\bin**\\java.exe&quot;\n  set JAVA_TYPE=ES_JAVA_HOME\n) else if defined JAVA_HOME (\n  rem fallback to JAVA_HOME\n  echo &quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot; &gt;&amp;2\n  set JAVA=&quot;%JAVA_HOME%**\\bin**\\java.exe&quot;\n  set &quot;ES_JAVA_HOME=%JAVA_HOME%&quot;\n  set JAVA_TYPE=JAVA_HOME\n</code></pre>\n<p>to</p>\n<pre><code>if defined ES_JAVA_HOME (\n  set JAVA=&quot;%ES_JAVA_HOME%\\java.exe&quot;\n  set JAVA_TYPE=ES_JAVA_HOME\n) else if defined JAVA_HOME (\n  rem fallback to JAVA_HOME\n  echo &quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot; &gt;&amp;2\n  set JAVA=&quot;%JAVA_HOME%\\java.exe&quot;\n  set &quot;ES_JAVA_HOME=%JAVA_HOME%&quot;\n  set JAVA_TYPE=JAVA_HOME\n</code></pre>\n"}],"owner":{"account_id":12720857,"reputation":21,"user_id":15789042,"display_name":"Amrit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4674,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":5,"score":1,"last_activity_date":1697161481,"creation_date":1620106102,"question_id":67379282,"body_markdown":"I try to run elastic stack in windows 10 but I get the error: \r\n\r\n&quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot;\r\n&quot;could not find java in JAVA_HOME at &quot;C:\\Program Files\\Java\\jdk-15\\bin\\bin\\java.exe&quot;&quot;\r\n\r\nMy java.exe is located in C:\\Program Files\\Java\\jdk-15\\bin\\java.exe   which is slightly different than above but all of my other java programs seem to work.  \r\n\r\nHow do I fix this so that Elastic Stack will work?","title":"java error installing running elastic stack in Windows 10","body":"<p>I try to run elastic stack in windows 10 but I get the error:</p>\n<p>&quot;warning: usage of JAVA_HOME is deprecated, use ES_JAVA_HOME&quot;\n&quot;could not find java in JAVA_HOME at &quot;C:\\Program Files\\Java\\jdk-15\\bin\\bin\\java.exe&quot;&quot;</p>\n<p>My java.exe is located in C:\\Program Files\\Java\\jdk-15\\bin\\java.exe   which is slightly different than above but all of my other java programs seem to work.</p>\n<p>How do I fix this so that Elastic Stack will work?</p>\n"},{"tags":["java","smartcard","pkcs#11","sunpkcs11"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658226678,"creation_date":1658226678,"answer_id":73035304,"question_id":72869306,"body_markdown":"Java 9 up no longer puts the standard-library in jar files (rt.jar, etc) but they are still there. Your problem is probably (though I didn&#39;t read through all the code and certainly can&#39;t test without your hardware) that Java 9 up also introduces **modules**. Much as in Java forever your code can reference another class or interface (or static member therof) by its simple name only if you `import` it _or_ it is in the same package as your code (if any) or the special package `java.lang`, now in 9 up you can only access a package if it is in the same module as your code or the special `java.base` module _or_ your module and/or the other module explicitly allow the access; the explicit specification closet to older Java is an &#39;open&#39;. \r\n\r\nThus the quick solution is to add to your `java` command (explicitly or via `_JAVA_OPTS` or equivalent) `--add-opens jdk.crypto.cryptoki/sun.security.pkcs11.*=ALL-UNNAMED` -- this should produce substantially the same result as running on 8 (or lower). \r\n\r\nThe official solution is to put your code in a module -- either by itself or with other related code -- that `requires` the (or each) needed module, given it exports the needed parts, which I haven&#39;t checked for yours. However, since your code apparently isn&#39;t even in a package yet, putting it in a module will be some work.","title":"Signature generation with OpenSC Smart Card","body":"<p>Java 9 up no longer puts the standard-library in jar files (rt.jar, etc) but they are still there. Your problem is probably (though I didn't read through all the code and certainly can't test without your hardware) that Java 9 up also introduces <strong>modules</strong>. Much as in Java forever your code can reference another class or interface (or static member therof) by its simple name only if you <code>import</code> it <em>or</em> it is in the same package as your code (if any) or the special package <code>java.lang</code>, now in 9 up you can only access a package if it is in the same module as your code or the special <code>java.base</code> module <em>or</em> your module and/or the other module explicitly allow the access; the explicit specification closet to older Java is an 'open'.</p>\n<p>Thus the quick solution is to add to your <code>java</code> command (explicitly or via <code>_JAVA_OPTS</code> or equivalent) <code>--add-opens jdk.crypto.cryptoki/sun.security.pkcs11.*=ALL-UNNAMED</code> -- this should produce substantially the same result as running on 8 (or lower).</p>\n<p>The official solution is to put your code in a module -- either by itself or with other related code -- that <code>requires</code> the (or each) needed module, given it exports the needed parts, which I haven't checked for yours. However, since your code apparently isn't even in a package yet, putting it in a module will be some work.</p>\n"}],"owner":{"account_id":14244857,"reputation":375,"user_id":10290248,"display_name":"ajayg2808"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":336,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697161126,"creation_date":1657023480,"question_id":72869306,"body_markdown":"I have Escrypt Smart Card to sign data bytes and get signature and certificate for it.\r\n\r\nI have java tool to do it and everything was fine until **Java 8**. Now application migrated to **Java 11**. And problem start from here.\r\n\r\n1. SunPKCS11.jar/ library is not a part of Java 11, hence application breaks.\r\n2. I tried with different solution available over internet and oracle [release notes][1], it suggest to use `java.security` package for cryptographic operation. \r\n\r\nI am not able to switch from Java 8 to java 11, any support would be really useful.\r\n\r\n**Edit-1: Minimum usable code**\r\n\r\n\r\n----------\r\n- Signature calculator is used to parse signature  \r\n- It is written with **Java 8 &amp; SunPKCS11.jar** want to migrate it to **Java 11**\r\n\r\n&#39;&#39;&#39;\r\n\r\n    import java.io.IOException;\r\n\timport java.util.Scanner;\r\n\r\n\timport javax.xml.bind.annotation.adapters.HexBinaryAdapter;\r\n\r\n\timport sun.security.pkcs11.wrapper.CK_ATTRIBUTE;\r\n\timport sun.security.pkcs11.wrapper.CK_MECHANISM;\r\n\timport sun.security.pkcs11.wrapper.CK_RSA_PKCS_PSS_PARAMS;\r\n\timport sun.security.pkcs11.wrapper.PKCS11;\r\n\timport sun.security.pkcs11.wrapper.PKCS11Constants;\r\n\timport sun.security.pkcs11.wrapper.PKCS11Exception;\r\n\r\n\tpublic class Application {\r\n\r\n\t  public static void main(String[] args) {\r\n\t\ttry {\r\n\t\t  // PKCS11 middleware (UBK PKI) path\r\n\t\t  String libraryPath = &quot;&quot;;\r\n\r\n\t\t  OpenScPkcs11 openScPkcs11 = new OpenScPkcs11(libraryPath);\r\n\r\n\t\t  openScPkcs11.login(&quot;&quot;, &quot;&quot;);\r\n\t\t  byte[] hash = null;\r\n\t\t  String keypath = null;\r\n\t\t  String oid = null;\r\n\t\t  String authbits = null;\r\n\t\t  openScPkcs11.calcSign(hash, keypath, oid, authbits);\r\n\r\n\t\t}\r\n\t\tcatch (Exception e) {\r\n\t\t  // TODO Auto-generated catch block\r\n\t\t  e.printStackTrace();\r\n\t\t}\r\n\t  }\r\n\r\n\t}\r\n\r\n\tclass OpenScPkcs11 {\r\n\r\n\t  private static HexBinaryAdapter hexBinaryAdapter = new HexBinaryAdapter();\r\n\r\n\t  private int slotId = 0x3;\r\n\t  private String libraryPath;\r\n\t  private PKCS11 pkcs11Instance;\r\n\t  private String signatureAlgo = &quot;RSA&quot;;\r\n\t  private long session = -1;\r\n\t  private boolean isLoginDone = false;\r\n\t  private SignatureMechanism.Algorithms algorithm = SignatureMechanism.Algorithms.SHA256;\r\n\r\n\t  public OpenScPkcs11(String libraryPath) throws IOException, PKCS11Exception {\r\n\t\tthis.libraryPath = libraryPath;\r\n\t\tinitializeMiddleware();\r\n\t  }\r\n\r\n\r\n\t  public void calcSign(byte[] hash, String keyPath, String userOid, String authbits) throws Exception {\r\n\t\tbyte[] signature = new byte[512];\r\n\r\n\t\tif (this.pkcs11Instance != null) {\r\n\r\n\t\t  if (this.session &lt; 0) {\r\n\t\t\tthis.openSession();\r\n\t\t  }\r\n\r\n\t\t  if (!this.isLoginDone) {\r\n\t\t\tthis.login(&quot;&quot;, &quot;&quot;);\r\n\t\t  }\r\n\r\n\t\t  Mechanism mechanism = SignatureMechanism.getMechanism(this.algorithm);\r\n\r\n\r\n\t\t  CK_ATTRIBUTE[] pTemplate = new CK_ATTRIBUTE[3];\r\n\t\t  pTemplate[0] = new CK_ATTRIBUTE(PKCS11Constants.CKA_CLASS, PKCS11Constants.CKO_PRIVATE_KEY);\r\n\t\t  pTemplate[1] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 1, keyPath);\r\n\t\t  pTemplate[2] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 2, authbits);\r\n\r\n\t\t  // define the attibutes for certificate\r\n\t\t  CK_ATTRIBUTE[] certAttribute = new CK_ATTRIBUTE[1];\r\n\t\t  certAttribute[0] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 3);\r\n\r\n\t\t  long[] c_FindObjects = null;\r\n\r\n\t\t  this.pkcs11Instance.C_FindObjectsInit(this.session, pTemplate);\r\n\t\t  c_FindObjects = this.pkcs11Instance.C_FindObjects(this.session, 32);\r\n\t\t  this.pkcs11Instance.C_FindObjectsFinal(this.session);\r\n\r\n\t\t  CK_MECHANISM pMechanism = null;\r\n\r\n\t\t  // RSA Algorithm\r\n\t\t  String signatureAlgorithmType = this.getSignatureAlgorithmType();\r\n\r\n\t\t  if (signatureAlgorithmType.equalsIgnoreCase(&quot;RSA&quot;)) {\r\n\t\t\tpMechanism = new CK_MECHANISM(mechanism.getId());\r\n\r\n\t\t\tCK_RSA_PKCS_PSS_PARAMS ck_RSA_PKCS_PSS_PARAMS =\r\n\t\t\t\tnew CK_RSA_PKCS_PSS_PARAMS(this.algorithm.name(), &quot;MGF1&quot;, this.algorithm.name(), (int) mechanism.getsLen());\r\n\t\t\tpMechanism.pParameter = ck_RSA_PKCS_PSS_PARAMS;\r\n\t\t  }\r\n\t\t  else if (signatureAlgorithmType.equalsIgnoreCase(&quot;ECDSA&quot;)) { // ECDSA Algorithm\r\n\t\t\tpMechanism = new CK_MECHANISM(PKCS11Constants.CKM_ECDSA);\r\n\t\t  }\r\n\t\t  else {\r\n\t\t\tthrow new Exception(&quot;Signature algorithm &quot; + signatureAlgorithmType + &quot; is not supported&quot;);\r\n\t\t  }\r\n\r\n\t\t  if ((c_FindObjects != null) &amp;&amp; (c_FindObjects.length &gt; 0)) {\r\n\t\t\tlong c_FindObjectFound = c_FindObjects[0];\r\n\t\t\tboolean objFound = false;\r\n\r\n\t\t\tfor (long c_FindObject : c_FindObjects) {\r\n\t\t\t  this.pkcs11Instance.C_GetAttributeValue(this.session, c_FindObject, certAttribute);\r\n\r\n\r\n\t\t\t  // Binary certificate as byte array\r\n\t\t\t  byte[] certificateBytes = certAttribute[0].getByteArray();\r\n\r\n\t\t\t  if ((userOid != null) &amp;&amp; !userOid.isEmpty()) {\r\n\t\t\t\t// Match certificate with userOid, if matches (Certificate parser used)\r\n\t\t\t\tif (parseOidInfo(certificateBytes, userOid)) {\r\n\t\t\t\t  c_FindObjectFound = c_FindObject;\r\n\t\t\t\t  objFound = true;\r\n\t\t\t\t  break;\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t}\r\n\r\n\t\t\tif (objFound) {\r\n\t\t\t  System.out.println(&quot;Signature found for given OID configuration.&quot;);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t  this.pkcs11Instance.C_GetAttributeValue(this.session, c_FindObjectFound, certAttribute);\r\n\t\t\t  CertificateParser certificateParser = new CertificateParser(certAttribute[0].getByteArray());\r\n\t\t\t}\r\n\t\t\t  this.pkcs11Instance.C_SignInit(this.session, pMechanism, c_FindObjectFound);\r\n\t\t\t  this.pkcs11Instance.C_SignUpdate(this.session, 0, hash, 0, (int) mechanism.getsLen());\r\n\t\t\t  signature = this.pkcs11Instance.C_SignFinal(this.session, mechanism.getSignFinalArgument());\r\n\t\t\t\r\n\t\t  }\r\n\t\t  else {\r\n\t\t\tString errorMessage = &quot;Unable to find keys.&quot;;\r\n\t\t\tthrow new Exception(errorMessage);\r\n\t\t  }\r\n\t\t}\r\n\t\telse {\r\n\t\t  throw new Exception(&quot;Initialize middleware first.&quot;);\r\n\t\t}\r\n\t  }\r\n\r\n\r\n\t  /**\r\n\t   * @return\r\n\t   */\r\n\t  private String getSignatureAlgorithmType() {\r\n\t\treturn this.signatureAlgo;\r\n\t  }\r\n\r\n\r\n\t  public void login(String userName, String password) throws Exception {\r\n\t\tif (this.pkcs11Instance != null) {\r\n\t\t  openSession();\r\n\t\t  String pwd = password;\r\n\t\t  if (pwd == null || pwd.trim().isEmpty()) {\r\n\t\t\tScanner sc = new Scanner(System.in);\r\n\t\t\tpwd = sc.next();\r\n\t\t\tsc.close();\r\n\t\t  }\r\n\t\t  this.pkcs11Instance.C_Login(this.session, PKCS11Constants.CKU_USER, pwd.toCharArray());\r\n\t\t  this.isLoginDone = true;\r\n\t\t}\r\n\t\telse {\r\n\t\t  throw new Exception(&quot;Initialize middleware first.&quot;);\r\n\t\t}\r\n\t  }\r\n\r\n\t  public void logout() throws PKCS11Exception {\r\n\t\tif (this.pkcs11Instance != null) {\r\n\t\t  this.pkcs11Instance.C_Logout(this.session);\r\n\t\t}\r\n\t  }\r\n\r\n\r\n\t  public void openSession() throws Exception {\r\n\t\tif (this.pkcs11Instance != null) {\r\n\t\t  if (this.session &lt; 0) {\r\n\r\n\t\t\tlong[] c_GetSlotList = this.pkcs11Instance.C_GetSlotList(true);\r\n\r\n\t\t\tif ((c_GetSlotList != null) &amp;&amp; (c_GetSlotList.length &gt; 0)) {\r\n\t\t\t  for (long element : c_GetSlotList) {\r\n\t\t\t\tif (element == this.slotId) {\r\n\t\t\t\t  this.session =\r\n\t\t\t\t\t  this.pkcs11Instance.C_OpenSession(this.slotId, PKCS11Constants.CKF_SERIAL_SESSION, null, null);\r\n\t\t\t\t  break;\r\n\t\t\t\t}\r\n\t\t\t  }\r\n\t\t\t}\r\n\t\t  }\r\n\t\t}\r\n\t\telse {\r\n\t\t  throw new Exception(&quot;Initialize middleware first.&quot;);\r\n\t\t}\r\n\t  }\r\n\r\n\t  public void closeSession() throws PKCS11Exception {\r\n\t\tif ((this.pkcs11Instance != null) &amp;&amp; (this.session &gt;= 0)) {\r\n\t\t  this.pkcs11Instance.C_CloseSession(this.session);\r\n\t\t  this.session = -1;\r\n\t\t}\r\n\t  }\r\n\r\n\t  public void initializeMiddleware(String libraryPath1) throws IOException, PKCS11Exception {\r\n\t\tthis.pkcs11Instance = PKCS11.getInstance(libraryPath1, &quot;C_GetFunctionList&quot;, null, false);\r\n\t\tthis.libraryPath = libraryPath1;\r\n\t  }\r\n\r\n\t  public void initializeMiddleware() throws IOException, PKCS11Exception {\r\n\t\tthis.pkcs11Instance = PKCS11.getInstance(this.libraryPath, &quot;C_GetFunctionList&quot;, null, false);\r\n\t  }\r\n\r\n\t  public static String getString(final byte[] data) {\r\n\t\tif ((data != null) &amp;&amp; (data.length &gt; 0)) {\r\n\t\t  return hexBinaryAdapter.marshal(data);\r\n\t\t}\r\n\t\treturn null;\r\n\t  }\r\n\t}\r\n\r\n\tclass SignatureMechanism {\r\n\r\n\t  public static enum Algorithms {\r\n\r\n\t\t\t\t\t\t\t\t\t SHA256(0x250),\r\n\t\t\t\t\t\t\t\t\t /**\r\n\t\t\t\t\t\t\t\t\t  * Hash calculation Algorithm\r\n\t\t\t\t\t\t\t\t\t  */\r\n\t\t\t\t\t\t\t\t\t RIPEMD160(0x240),\r\n\t\t\t\t\t\t\t\t\t /**\r\n\t\t\t\t\t\t\t\t\t  * Hash calculation Algorithm\r\n\t\t\t\t\t\t\t\t\t  */\r\n\t\t\t\t\t\t\t\t\t RIPEMD160_1(0x0),\r\n\r\n\t\t\t\t\t\t\t\t\t /**\r\n\t\t\t\t\t\t\t\t\t  * Secure Hash Algorithm 512 for hash Calculation\r\n\t\t\t\t\t\t\t\t\t  */\r\n\t\t\t\t\t\t\t\t\t SHA512(0x251);\r\n\r\n\t\tprivate int value = 0;\r\n\r\n\t\tprivate Algorithms(final int algorithmValue) {\r\n\t\t  this.value = algorithmValue;\r\n\t\t}\r\n\r\n\t\t/**\r\n\t\t * @return the hash value\r\n\t\t */\r\n\t\tpublic int getValue() {\r\n\t\t  return this.value;\r\n\t\t}\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @param algorithm : Algorithm used for hash calculation\r\n\t   * @return signature mechanism\r\n\t   */\r\n\t  public static Mechanism getMechanism(final Algorithms algorithm) {\r\n\r\n\t\tMechanism mechanism = new Mechanism();\r\n\t\tif (algorithm == Algorithms.SHA256) {\r\n\t\t  mechanism.setHashAlg(PKCS11Constants.CKM_SHA256);\r\n\t\t  mechanism.setMgf(PKCS11Constants.CKG_MGF1_SHA1 + 1);\r\n\t\t  mechanism.setsLen(32);\r\n\t\t  mechanism.setSignFinalArgument(512);\r\n\t\t} // TODO Verify with ETAS Middleware team\r\n\t\telse if (algorithm == Algorithms.SHA512) {\r\n\t\t  mechanism.setHashAlg(PKCS11Constants.CKM_SHA512);\r\n\t\t  mechanism.setMgf(PKCS11Constants.CKG_MGF1_SHA1 + 1);\r\n\t\t  mechanism.setsLen(64);\r\n\t\t  mechanism.setSignFinalArgument(1024);\r\n\t\t}\r\n\t\telse if (algorithm == Algorithms.RIPEMD160) {\r\n\t\t  mechanism.setHashAlg(PKCS11Constants.CKM_RIPEMD160);\r\n\t\t  mechanism.setMgf(0x80000001); // hard coded becuase it is defined by escrypt and not present in PKCS11\r\n\t\t  mechanism.setsLen(20);\r\n\t\t}\r\n\t\telse if (algorithm == Algorithms.RIPEMD160_1) {\r\n\t\t  mechanism.setId(PKCS11Constants.CKM_RIPEMD160_RSA_PKCS);\r\n\t\t}\r\n\r\n\t\treturn mechanism;\r\n\t  }\r\n\r\n\t}\r\n\tclass Mechanism{\r\n\r\n\t  private long hashAlg;\r\n\t  private long mgf;\r\n\t  private long sLen;\r\n\t  private long ulMaxObjectCount = 32;\r\n\t  private int signFinalArgument = 128;\r\n\t  private long id = PKCS11Constants.CKM_RSA_PKCS_PSS;\r\n\r\n\r\n\t  /**\r\n\t   * @return the hashAlg\r\n\t   */\r\n\t  public long getHashAlg() {\r\n\t\treturn hashAlg;\r\n\t  }\r\n\r\n\r\n\t  /**\r\n\t   * @param hashAlg the hashAlg to set\r\n\t   */\r\n\t  public void setHashAlg(long hashAlg) {\r\n\t\tthis.hashAlg = hashAlg;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @return the mgf\r\n\t   */\r\n\t  public long getMgf() {\r\n\t\treturn mgf;\r\n\t  }\r\n\r\n\r\n\t  /**\r\n\t   * @param mgf the mgf to set\r\n\t   */\r\n\t  public void setMgf(long mgf) {\r\n\t\tthis.mgf = mgf;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @return the sLen\r\n\t   */\r\n\t  public long getsLen() {\r\n\t\treturn sLen;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @param sLen the sLen to set\r\n\t   */\r\n\t  public void setsLen(long sLen) {\r\n\t\tthis.sLen = sLen;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @return the ulMaxObjectCount\r\n\t   */\r\n\t  public long getUlMaxObjectCount() {\r\n\t\treturn ulMaxObjectCount;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @param ulMaxObjectCount the ulMaxObjectCount to set\r\n\t   */\r\n\t  public void setUlMaxObjectCount(long ulMaxObjectCount) {\r\n\t\tthis.ulMaxObjectCount = ulMaxObjectCount;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @return the signFinalArgument\r\n\t   */\r\n\t  public int getSignFinalArgument() {\r\n\t\treturn signFinalArgument;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @param signFinalArgument the signFinalArgument to set\r\n\t   */\r\n\t  public void setSignFinalArgument(int signFinalArgument) {\r\n\t\tthis.signFinalArgument = signFinalArgument;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @return the id\r\n\t   */\r\n\t  public long getId() {\r\n\t\treturn id;\r\n\t  }\r\n\r\n\t  /**\r\n\t   * @param id the id to set\r\n\t   */\r\n\t  public void setId(long id) {\r\n\t\tthis.id = id;\r\n\t  }\r\n\r\n\t}\r\n&#39;&#39;&#39;\r\n\r\nThank You!\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/11/security/pkcs11-reference-guide1.html#GUID-4C366313-33B9-458C-A845-33D0C8A9C367","title":"Signature generation with OpenSC Smart Card","body":"<p>I have Escrypt Smart Card to sign data bytes and get signature and certificate for it.</p>\n<p>I have java tool to do it and everything was fine until <strong>Java 8</strong>. Now application migrated to <strong>Java 11</strong>. And problem start from here.</p>\n<ol>\n<li>SunPKCS11.jar/ library is not a part of Java 11, hence application breaks.</li>\n<li>I tried with different solution available over internet and oracle <a href=\"https://docs.oracle.com/en/java/javase/11/security/pkcs11-reference-guide1.html#GUID-4C366313-33B9-458C-A845-33D0C8A9C367\" rel=\"nofollow noreferrer\">release notes</a>, it suggest to use <code>java.security</code> package for cryptographic operation.</li>\n</ol>\n<p>I am not able to switch from Java 8 to java 11, any support would be really useful.</p>\n<p><strong>Edit-1: Minimum usable code</strong></p>\n<hr />\n<ul>\n<li>Signature calculator is used to parse signature</li>\n<li>It is written with <strong>Java 8 &amp; SunPKCS11.jar</strong> want to migrate it to <strong>Java 11</strong></li>\n</ul>\n<p>'''</p>\n<pre><code>import java.io.IOException;\nimport java.util.Scanner;\n\nimport javax.xml.bind.annotation.adapters.HexBinaryAdapter;\n\nimport sun.security.pkcs11.wrapper.CK_ATTRIBUTE;\nimport sun.security.pkcs11.wrapper.CK_MECHANISM;\nimport sun.security.pkcs11.wrapper.CK_RSA_PKCS_PSS_PARAMS;\nimport sun.security.pkcs11.wrapper.PKCS11;\nimport sun.security.pkcs11.wrapper.PKCS11Constants;\nimport sun.security.pkcs11.wrapper.PKCS11Exception;\n\npublic class Application {\n\n  public static void main(String[] args) {\n    try {\n      // PKCS11 middleware (UBK PKI) path\n      String libraryPath = &quot;&quot;;\n\n      OpenScPkcs11 openScPkcs11 = new OpenScPkcs11(libraryPath);\n\n      openScPkcs11.login(&quot;&quot;, &quot;&quot;);\n      byte[] hash = null;\n      String keypath = null;\n      String oid = null;\n      String authbits = null;\n      openScPkcs11.calcSign(hash, keypath, oid, authbits);\n\n    }\n    catch (Exception e) {\n      // TODO Auto-generated catch block\n      e.printStackTrace();\n    }\n  }\n\n}\n\nclass OpenScPkcs11 {\n\n  private static HexBinaryAdapter hexBinaryAdapter = new HexBinaryAdapter();\n\n  private int slotId = 0x3;\n  private String libraryPath;\n  private PKCS11 pkcs11Instance;\n  private String signatureAlgo = &quot;RSA&quot;;\n  private long session = -1;\n  private boolean isLoginDone = false;\n  private SignatureMechanism.Algorithms algorithm = SignatureMechanism.Algorithms.SHA256;\n\n  public OpenScPkcs11(String libraryPath) throws IOException, PKCS11Exception {\n    this.libraryPath = libraryPath;\n    initializeMiddleware();\n  }\n\n\n  public void calcSign(byte[] hash, String keyPath, String userOid, String authbits) throws Exception {\n    byte[] signature = new byte[512];\n\n    if (this.pkcs11Instance != null) {\n\n      if (this.session &lt; 0) {\n        this.openSession();\n      }\n\n      if (!this.isLoginDone) {\n        this.login(&quot;&quot;, &quot;&quot;);\n      }\n\n      Mechanism mechanism = SignatureMechanism.getMechanism(this.algorithm);\n\n\n      CK_ATTRIBUTE[] pTemplate = new CK_ATTRIBUTE[3];\n      pTemplate[0] = new CK_ATTRIBUTE(PKCS11Constants.CKA_CLASS, PKCS11Constants.CKO_PRIVATE_KEY);\n      pTemplate[1] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 1, keyPath);\n      pTemplate[2] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 2, authbits);\n\n      // define the attibutes for certificate\n      CK_ATTRIBUTE[] certAttribute = new CK_ATTRIBUTE[1];\n      certAttribute[0] = new CK_ATTRIBUTE(PKCS11Constants.CKA_VENDOR_DEFINED + 3);\n\n      long[] c_FindObjects = null;\n\n      this.pkcs11Instance.C_FindObjectsInit(this.session, pTemplate);\n      c_FindObjects = this.pkcs11Instance.C_FindObjects(this.session, 32);\n      this.pkcs11Instance.C_FindObjectsFinal(this.session);\n\n      CK_MECHANISM pMechanism = null;\n\n      // RSA Algorithm\n      String signatureAlgorithmType = this.getSignatureAlgorithmType();\n\n      if (signatureAlgorithmType.equalsIgnoreCase(&quot;RSA&quot;)) {\n        pMechanism = new CK_MECHANISM(mechanism.getId());\n\n        CK_RSA_PKCS_PSS_PARAMS ck_RSA_PKCS_PSS_PARAMS =\n            new CK_RSA_PKCS_PSS_PARAMS(this.algorithm.name(), &quot;MGF1&quot;, this.algorithm.name(), (int) mechanism.getsLen());\n        pMechanism.pParameter = ck_RSA_PKCS_PSS_PARAMS;\n      }\n      else if (signatureAlgorithmType.equalsIgnoreCase(&quot;ECDSA&quot;)) { // ECDSA Algorithm\n        pMechanism = new CK_MECHANISM(PKCS11Constants.CKM_ECDSA);\n      }\n      else {\n        throw new Exception(&quot;Signature algorithm &quot; + signatureAlgorithmType + &quot; is not supported&quot;);\n      }\n\n      if ((c_FindObjects != null) &amp;&amp; (c_FindObjects.length &gt; 0)) {\n        long c_FindObjectFound = c_FindObjects[0];\n        boolean objFound = false;\n\n        for (long c_FindObject : c_FindObjects) {\n          this.pkcs11Instance.C_GetAttributeValue(this.session, c_FindObject, certAttribute);\n\n\n          // Binary certificate as byte array\n          byte[] certificateBytes = certAttribute[0].getByteArray();\n\n          if ((userOid != null) &amp;&amp; !userOid.isEmpty()) {\n            // Match certificate with userOid, if matches (Certificate parser used)\n            if (parseOidInfo(certificateBytes, userOid)) {\n              c_FindObjectFound = c_FindObject;\n              objFound = true;\n              break;\n            }\n          }\n        }\n\n        if (objFound) {\n          System.out.println(&quot;Signature found for given OID configuration.&quot;);\n        }\n        else {\n          this.pkcs11Instance.C_GetAttributeValue(this.session, c_FindObjectFound, certAttribute);\n          CertificateParser certificateParser = new CertificateParser(certAttribute[0].getByteArray());\n        }\n          this.pkcs11Instance.C_SignInit(this.session, pMechanism, c_FindObjectFound);\n          this.pkcs11Instance.C_SignUpdate(this.session, 0, hash, 0, (int) mechanism.getsLen());\n          signature = this.pkcs11Instance.C_SignFinal(this.session, mechanism.getSignFinalArgument());\n        \n      }\n      else {\n        String errorMessage = &quot;Unable to find keys.&quot;;\n        throw new Exception(errorMessage);\n      }\n    }\n    else {\n      throw new Exception(&quot;Initialize middleware first.&quot;);\n    }\n  }\n\n\n  /**\n   * @return\n   */\n  private String getSignatureAlgorithmType() {\n    return this.signatureAlgo;\n  }\n\n\n  public void login(String userName, String password) throws Exception {\n    if (this.pkcs11Instance != null) {\n      openSession();\n      String pwd = password;\n      if (pwd == null || pwd.trim().isEmpty()) {\n        Scanner sc = new Scanner(System.in);\n        pwd = sc.next();\n        sc.close();\n      }\n      this.pkcs11Instance.C_Login(this.session, PKCS11Constants.CKU_USER, pwd.toCharArray());\n      this.isLoginDone = true;\n    }\n    else {\n      throw new Exception(&quot;Initialize middleware first.&quot;);\n    }\n  }\n\n  public void logout() throws PKCS11Exception {\n    if (this.pkcs11Instance != null) {\n      this.pkcs11Instance.C_Logout(this.session);\n    }\n  }\n\n\n  public void openSession() throws Exception {\n    if (this.pkcs11Instance != null) {\n      if (this.session &lt; 0) {\n\n        long[] c_GetSlotList = this.pkcs11Instance.C_GetSlotList(true);\n\n        if ((c_GetSlotList != null) &amp;&amp; (c_GetSlotList.length &gt; 0)) {\n          for (long element : c_GetSlotList) {\n            if (element == this.slotId) {\n              this.session =\n                  this.pkcs11Instance.C_OpenSession(this.slotId, PKCS11Constants.CKF_SERIAL_SESSION, null, null);\n              break;\n            }\n          }\n        }\n      }\n    }\n    else {\n      throw new Exception(&quot;Initialize middleware first.&quot;);\n    }\n  }\n\n  public void closeSession() throws PKCS11Exception {\n    if ((this.pkcs11Instance != null) &amp;&amp; (this.session &gt;= 0)) {\n      this.pkcs11Instance.C_CloseSession(this.session);\n      this.session = -1;\n    }\n  }\n\n  public void initializeMiddleware(String libraryPath1) throws IOException, PKCS11Exception {\n    this.pkcs11Instance = PKCS11.getInstance(libraryPath1, &quot;C_GetFunctionList&quot;, null, false);\n    this.libraryPath = libraryPath1;\n  }\n\n  public void initializeMiddleware() throws IOException, PKCS11Exception {\n    this.pkcs11Instance = PKCS11.getInstance(this.libraryPath, &quot;C_GetFunctionList&quot;, null, false);\n  }\n\n  public static String getString(final byte[] data) {\n    if ((data != null) &amp;&amp; (data.length &gt; 0)) {\n      return hexBinaryAdapter.marshal(data);\n    }\n    return null;\n  }\n}\n\nclass SignatureMechanism {\n\n  public static enum Algorithms {\n\n                                 SHA256(0x250),\n                                 /**\n                                  * Hash calculation Algorithm\n                                  */\n                                 RIPEMD160(0x240),\n                                 /**\n                                  * Hash calculation Algorithm\n                                  */\n                                 RIPEMD160_1(0x0),\n\n                                 /**\n                                  * Secure Hash Algorithm 512 for hash Calculation\n                                  */\n                                 SHA512(0x251);\n\n    private int value = 0;\n\n    private Algorithms(final int algorithmValue) {\n      this.value = algorithmValue;\n    }\n\n    /**\n     * @return the hash value\n     */\n    public int getValue() {\n      return this.value;\n    }\n  }\n\n  /**\n   * @param algorithm : Algorithm used for hash calculation\n   * @return signature mechanism\n   */\n  public static Mechanism getMechanism(final Algorithms algorithm) {\n\n    Mechanism mechanism = new Mechanism();\n    if (algorithm == Algorithms.SHA256) {\n      mechanism.setHashAlg(PKCS11Constants.CKM_SHA256);\n      mechanism.setMgf(PKCS11Constants.CKG_MGF1_SHA1 + 1);\n      mechanism.setsLen(32);\n      mechanism.setSignFinalArgument(512);\n    } // TODO Verify with ETAS Middleware team\n    else if (algorithm == Algorithms.SHA512) {\n      mechanism.setHashAlg(PKCS11Constants.CKM_SHA512);\n      mechanism.setMgf(PKCS11Constants.CKG_MGF1_SHA1 + 1);\n      mechanism.setsLen(64);\n      mechanism.setSignFinalArgument(1024);\n    }\n    else if (algorithm == Algorithms.RIPEMD160) {\n      mechanism.setHashAlg(PKCS11Constants.CKM_RIPEMD160);\n      mechanism.setMgf(0x80000001); // hard coded becuase it is defined by escrypt and not present in PKCS11\n      mechanism.setsLen(20);\n    }\n    else if (algorithm == Algorithms.RIPEMD160_1) {\n      mechanism.setId(PKCS11Constants.CKM_RIPEMD160_RSA_PKCS);\n    }\n\n    return mechanism;\n  }\n\n}\nclass Mechanism{\n\n  private long hashAlg;\n  private long mgf;\n  private long sLen;\n  private long ulMaxObjectCount = 32;\n  private int signFinalArgument = 128;\n  private long id = PKCS11Constants.CKM_RSA_PKCS_PSS;\n\n\n  /**\n   * @return the hashAlg\n   */\n  public long getHashAlg() {\n    return hashAlg;\n  }\n\n\n  /**\n   * @param hashAlg the hashAlg to set\n   */\n  public void setHashAlg(long hashAlg) {\n    this.hashAlg = hashAlg;\n  }\n\n  /**\n   * @return the mgf\n   */\n  public long getMgf() {\n    return mgf;\n  }\n\n\n  /**\n   * @param mgf the mgf to set\n   */\n  public void setMgf(long mgf) {\n    this.mgf = mgf;\n  }\n\n  /**\n   * @return the sLen\n   */\n  public long getsLen() {\n    return sLen;\n  }\n\n  /**\n   * @param sLen the sLen to set\n   */\n  public void setsLen(long sLen) {\n    this.sLen = sLen;\n  }\n\n  /**\n   * @return the ulMaxObjectCount\n   */\n  public long getUlMaxObjectCount() {\n    return ulMaxObjectCount;\n  }\n\n  /**\n   * @param ulMaxObjectCount the ulMaxObjectCount to set\n   */\n  public void setUlMaxObjectCount(long ulMaxObjectCount) {\n    this.ulMaxObjectCount = ulMaxObjectCount;\n  }\n\n  /**\n   * @return the signFinalArgument\n   */\n  public int getSignFinalArgument() {\n    return signFinalArgument;\n  }\n\n  /**\n   * @param signFinalArgument the signFinalArgument to set\n   */\n  public void setSignFinalArgument(int signFinalArgument) {\n    this.signFinalArgument = signFinalArgument;\n  }\n\n  /**\n   * @return the id\n   */\n  public long getId() {\n    return id;\n  }\n\n  /**\n   * @param id the id to set\n   */\n  public void setId(long id) {\n    this.id = id;\n  }\n\n}\n</code></pre>\n<p>'''</p>\n<p>Thank You!</p>\n"},{"tags":["python","java"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1697120439,"post_id":77281418,"comment_id":136242120,"body_markdown":"Please add the actual error message / stacktrace to your question. This should tell you (and us) where exactly the error happens, what index is your code trying to access and how long your array actually is.","body":"Please add the actual error message / stacktrace to your question. This should tell you (and us) where exactly the error happens, what index is your code trying to access and how long your array actually is."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":4,"creation_date":1697120492,"post_id":77281418,"comment_id":136242129,"body_markdown":"And also an example input, while you&#39;re at it.","body":"And also an example input, while you&#39;re at it."},{"owner":{"account_id":1710898,"reputation":437,"user_id":1568996,"accept_rate":88,"display_name":"DeerSpotter"},"score":0,"creation_date":1697120537,"post_id":77281418,"comment_id":136242137,"body_markdown":"which python version","body":"which python version"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1697120663,"post_id":77281418,"comment_id":136242173,"body_markdown":"@DeerSpotter considering the python code is the one that works, is that *really* relevant?","body":"@DeerSpotter considering the python code is the one that works, is that <i>really</i> relevant?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1697120988,"post_id":77281418,"comment_id":136242251,"body_markdown":"Hint: `if stack and stack[-1] == &#39;~&#39;:` is more like `else if (c == &#39;~&#39; &amp;&amp; stack.length() &gt; 0) {` notice you didn&#39;t include a test for `stack` being empty (in Java). That&#39;s what `if stack` guards in python.","body":"Hint: <code>if stack and stack[-1] == &#39;~&#39;:</code> is more like <code>else if (c == &#39;~&#39; &amp;&amp; stack.length() &gt; 0) {</code> notice you didn&#39;t include a test for <code>stack</code> being empty (in Java). That&#39;s what <code>if stack</code> guards in python."},{"owner":{"account_id":1710898,"reputation":437,"user_id":1568996,"accept_rate":88,"display_name":"DeerSpotter"},"score":0,"creation_date":1697121392,"post_id":77281418,"comment_id":136242348,"body_markdown":"@FedericoklezCulloca no not really. :)","body":"@FedericoklezCulloca no not really. :)"}],"answers":[{"tags":[],"owner":{"account_id":1710898,"reputation":437,"user_id":1568996,"accept_rate":88,"display_name":"DeerSpotter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697139802,"creation_date":1697121198,"answer_id":77281534,"question_id":77281418,"body_markdown":"The &quot;index out of bounds&quot; error may occur if the formula is not properly formatted or if there are missing parentheses. To fix the error and ensure that the code handles the bounds correctly, you can modify the code as follows:\r\n\r\npython code fixed the bounds issue:\r\n\r\n\r\n    def evaluate_formula(formula, variables, values):\r\n        stack = []\r\n        for char in formula:\r\n            if char == &#39;(&#39;:\r\n                stack.append(char)\r\n            elif char == &#39;)&#39;:\r\n                # Check for empty stack or missing opening parenthesis\r\n                if not stack or stack[-1] != &#39;(&#39;:\r\n                    return None\r\n    \r\n                while stack[-1] != &#39;(&#39;:\r\n                    operator = stack.pop()\r\n                    operand2 = stack.pop()\r\n                    operand1 = stack.pop()\r\n                    if operator == &#39;&amp;&#39;:\r\n                        stack.append(operand1 and operand2)\r\n                    elif operator == &#39;|&#39;:\r\n                        stack.append(operand1 or operand2)\r\n    \r\n                # Pop the opening parenthesis\r\n                stack.pop()\r\n            elif char in variables:\r\n                if char in values:\r\n                    stack.append(values[char])\r\n                else:\r\n                    return None\r\n            elif char == &#39;~&#39;:\r\n                if stack and stack[-1] == &#39;~&#39;:\r\n                    stack.pop()\r\n                    if stack and stack[-1] == &#39;(&#39;:\r\n                        return None\r\n                else:\r\n                    stack.append(&#39;~&#39;)\r\n            elif char in [&#39;&amp;&#39;, &#39;|&#39;]:\r\n                stack.append(char)\r\n    \r\n        # Ensure that there is only one element in the stack and it&#39;s a boolean\r\n        if len(stack) == 1 and type(stack[0]) == bool:\r\n            return stack[0]\r\n        else:\r\n            return None\r\n\r\njava code: \r\n\r\nsave it as: FormulaEvaluator.java\r\n\r\n\r\n\r\n\r\n    import java.util.Stack;\r\n    \r\n    public class FormulaEvaluator {\r\n        public static Boolean evaluateFormula(String formula, String[] variables, Boolean[] values) {\r\n            Stack&lt;Object&gt; stack = new Stack&lt;&gt;();\r\n            for (char c : formula.toCharArray()) {\r\n                if (c == &#39;(&#39;) {\r\n                    stack.push(c);\r\n                } else if (c == &#39;)&#39;) {\r\n                    if (stack.isEmpty() || !stack.peek().equals(&#39;(&#39;)) {\r\n                        return null;\r\n                    }\r\n                    stack.pop(); // Remove the opening parenthesis\r\n    \r\n                    while (!stack.isEmpty() &amp;&amp; stack.peek() instanceof Boolean) {\r\n                        Boolean operand2 = (Boolean) stack.pop();\r\n                        char operator = (char) stack.pop();\r\n                        Boolean operand1 = (Boolean) stack.pop();\r\n    \r\n                        if (operator == &#39;&amp;&#39;) {\r\n                            stack.push(operand1 &amp;&amp; operand2);\r\n                        } else if (operator == &#39;|&#39;) {\r\n                            stack.push(operand1 || operand2);\r\n                        }\r\n                    }\r\n                } else if (contains(variables, c)) {\r\n                    int index = getIndex(variables, c);\r\n                    if (index != -1) {\r\n                        stack.push(values[index]);\r\n                    } else {\r\n                        return null;\r\n                    }\r\n                } else if (c == &#39;~&#39;) {\r\n                    if (!stack.isEmpty() &amp;&amp; stack.peek().equals(&#39;~&#39;)) {\r\n                        stack.pop();\r\n                        if (!stack.isEmpty() &amp;&amp; stack.peek().equals(&#39;(&#39;)) {\r\n                            return null;\r\n                        }\r\n                    } else {\r\n                        stack.push(&#39;~&#39;);\r\n                    }\r\n                } else if (c == &#39;&amp;&#39; || c == &#39;|&#39;) {\r\n                    stack.push(c);\r\n                }\r\n            }\r\n    \r\n            if (stack.size() == 1 &amp;&amp; stack.peek() instanceof Boolean) {\r\n                return (Boolean) stack.peek();\r\n            } else {\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        private static boolean contains(String[] array, char c) {\r\n            for (String s : array) {\r\n                if (s.equals(String.valueOf(c))) {\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }\r\n    \r\n        private static int getIndex(String[] array, char c) {\r\n            for (int i = 0; i &lt; array.length; i++) {\r\n                if (array[i].equals(String.valueOf(c))) {\r\n                    return i;\r\n                }\r\n            }\r\n            return -1;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Converting Python to Java: Keep getting index out of bounds","body":"<p>The &quot;index out of bounds&quot; error may occur if the formula is not properly formatted or if there are missing parentheses. To fix the error and ensure that the code handles the bounds correctly, you can modify the code as follows:</p>\n<p>python code fixed the bounds issue:</p>\n<pre><code>def evaluate_formula(formula, variables, values):\n    stack = []\n    for char in formula:\n        if char == '(':\n            stack.append(char)\n        elif char == ')':\n            # Check for empty stack or missing opening parenthesis\n            if not stack or stack[-1] != '(':\n                return None\n\n            while stack[-1] != '(':\n                operator = stack.pop()\n                operand2 = stack.pop()\n                operand1 = stack.pop()\n                if operator == '&amp;':\n                    stack.append(operand1 and operand2)\n                elif operator == '|':\n                    stack.append(operand1 or operand2)\n\n            # Pop the opening parenthesis\n            stack.pop()\n        elif char in variables:\n            if char in values:\n                stack.append(values[char])\n            else:\n                return None\n        elif char == '~':\n            if stack and stack[-1] == '~':\n                stack.pop()\n                if stack and stack[-1] == '(':\n                    return None\n            else:\n                stack.append('~')\n        elif char in ['&amp;', '|']:\n            stack.append(char)\n\n    # Ensure that there is only one element in the stack and it's a boolean\n    if len(stack) == 1 and type(stack[0]) == bool:\n        return stack[0]\n    else:\n        return None\n</code></pre>\n<p>java code:</p>\n<p>save it as: FormulaEvaluator.java</p>\n<pre><code>import java.util.Stack;\n\npublic class FormulaEvaluator {\n    public static Boolean evaluateFormula(String formula, String[] variables, Boolean[] values) {\n        Stack&lt;Object&gt; stack = new Stack&lt;&gt;();\n        for (char c : formula.toCharArray()) {\n            if (c == '(') {\n                stack.push(c);\n            } else if (c == ')') {\n                if (stack.isEmpty() || !stack.peek().equals('(')) {\n                    return null;\n                }\n                stack.pop(); // Remove the opening parenthesis\n\n                while (!stack.isEmpty() &amp;&amp; stack.peek() instanceof Boolean) {\n                    Boolean operand2 = (Boolean) stack.pop();\n                    char operator = (char) stack.pop();\n                    Boolean operand1 = (Boolean) stack.pop();\n\n                    if (operator == '&amp;') {\n                        stack.push(operand1 &amp;&amp; operand2);\n                    } else if (operator == '|') {\n                        stack.push(operand1 || operand2);\n                    }\n                }\n            } else if (contains(variables, c)) {\n                int index = getIndex(variables, c);\n                if (index != -1) {\n                    stack.push(values[index]);\n                } else {\n                    return null;\n                }\n            } else if (c == '~') {\n                if (!stack.isEmpty() &amp;&amp; stack.peek().equals('~')) {\n                    stack.pop();\n                    if (!stack.isEmpty() &amp;&amp; stack.peek().equals('(')) {\n                        return null;\n                    }\n                } else {\n                    stack.push('~');\n                }\n            } else if (c == '&amp;' || c == '|') {\n                stack.push(c);\n            }\n        }\n\n        if (stack.size() == 1 &amp;&amp; stack.peek() instanceof Boolean) {\n            return (Boolean) stack.peek();\n        } else {\n            return null;\n        }\n    }\n\n    private static boolean contains(String[] array, char c) {\n        for (String s : array) {\n            if (s.equals(String.valueOf(c))) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n    private static int getIndex(String[] array, char c) {\n        for (int i = 0; i &lt; array.length; i++) {\n            if (array[i].equals(String.valueOf(c))) {\n                return i;\n            }\n        }\n        return -1;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697161094,"creation_date":1697144668,"answer_id":77283843,"question_id":77281418,"body_markdown":"Use _char_ values _0_ and _1_ to represent the _bool_ value.\r\n\r\n```java\r\nCharacter evaluateFormula(String formula, String variables, String values) {\r\n    Deque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\r\n    for (char c : formula.toCharArray())\r\n        if (c == &#39;(&#39;)\r\n            stack.add(c);\r\n        else if (c == &#39;)&#39;)\r\n            while (stack.getLast() != &#39;(&#39;) {\r\n                char operator = stack.pop();\r\n                boolean operand2 = stack.pop() == 1;\r\n                boolean operand1 = stack.pop() == 1;\r\n                if (operator == &#39;&amp;&#39;) \r\n                    stack.add((char) (operand1 &amp;&amp; operand2 ? 1 : 0));\r\n                else if (operator == &#39;|&#39;) \r\n                    stack.add((char) (operand1 || operand2 ? 1 : 0));\r\n            }\r\n        else if (variables.contains(String.valueOf(c)))\r\n            if (values.contains(String.valueOf(c)))\r\n                stack.add(values.charAt(c))\r\n            else\r\n                return null;\r\n        else if (c == &#39;~&#39;)\r\n            if (!stack.isEmpty() &amp;&amp; stack.getLast() == &#39;~&#39;) {\r\n                stack.pop();\r\n                if (!stack.isEmpty() &amp;&amp; stack.getLast() == &#39;(&#39;)\r\n                    return null;\r\n            } else\r\n                stack.add(&#39;~&#39;);\r\n        else if (c == &#39;&amp;&#39; || c == &#39;|&#39;)\r\n            stack.add(c);\r\n\r\n    if (stack.size() == 1 &amp;&amp; stack.getFirst() &lt;= 1)\r\n        return stack.getFirst();\r\n    else\r\n        return null;\r\n}\r\n```\r\n\r\nAnd, here is an optimized version, for re-used variables.\r\n\r\n```java\r\nimport static java.lang.String.valueOf;\r\n```\r\n\r\n```java\r\nCharacter evaluateFormula(String formula, String variables, String values) {\r\n    Deque&lt;Character&gt; s = new ArrayDeque&lt;&gt;();\r\n    char op;\r\n    boolean op1, op2;\r\n    for (char c : formula.toCharArray())\r\n        switch (c) {\r\n            case &#39;(&#39;, &#39;&amp;&#39;, &#39;|&#39; -&gt; s.add(c);\r\n            case &#39;)&#39; -&gt; {\r\n                while (s.getLast() != &#39;(&#39;) {\r\n                    op = s.pop();\r\n                    op1 = s.pop() == 1;\r\n                    op2 = s.pop() == 1;\r\n                    if (op == &#39;&amp;&#39;) s.add((char) (op1 &amp;&amp; op2 ? 1 : 0));\r\n                    else if (op == &#39;|&#39;) s.add((char) (op1 || op2 ? 1 : 0));\r\n                }\r\n            }\r\n            case &#39;~&#39; -&gt; {\r\n                if (!s.isEmpty() &amp;&amp; s.getLast() == &#39;~&#39;) {\r\n                    s.pop();\r\n                    if (!s.isEmpty() &amp;&amp; s.getLast() == &#39;(&#39;) return null;\r\n                } else s.add(&#39;~&#39;);\r\n            }\r\n            default -&gt; {\r\n                if (variables.contains(valueOf(c)))\r\n                    if (values.contains(valueOf(c))) s.add(values.charAt(c));\r\n                    else return null;\r\n            }\r\n        }\r\n    if (s.size() == 1 &amp;&amp; s.getFirst() &lt;= 1) return s.getFirst();\r\n    else return null;\r\n}\r\n```","title":"Converting Python to Java: Keep getting index out of bounds","body":"<p>Use <em>char</em> values <em>0</em> and <em>1</em> to represent the <em>bool</em> value.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Character evaluateFormula(String formula, String variables, String values) {\n    Deque&lt;Character&gt; stack = new ArrayDeque&lt;&gt;();\n    for (char c : formula.toCharArray())\n        if (c == '(')\n            stack.add(c);\n        else if (c == ')')\n            while (stack.getLast() != '(') {\n                char operator = stack.pop();\n                boolean operand2 = stack.pop() == 1;\n                boolean operand1 = stack.pop() == 1;\n                if (operator == '&amp;') \n                    stack.add((char) (operand1 &amp;&amp; operand2 ? 1 : 0));\n                else if (operator == '|') \n                    stack.add((char) (operand1 || operand2 ? 1 : 0));\n            }\n        else if (variables.contains(String.valueOf(c)))\n            if (values.contains(String.valueOf(c)))\n                stack.add(values.charAt(c))\n            else\n                return null;\n        else if (c == '~')\n            if (!stack.isEmpty() &amp;&amp; stack.getLast() == '~') {\n                stack.pop();\n                if (!stack.isEmpty() &amp;&amp; stack.getLast() == '(')\n                    return null;\n            } else\n                stack.add('~');\n        else if (c == '&amp;' || c == '|')\n            stack.add(c);\n\n    if (stack.size() == 1 &amp;&amp; stack.getFirst() &lt;= 1)\n        return stack.getFirst();\n    else\n        return null;\n}\n</code></pre>\n<p>And, here is an optimized version, for re-used variables.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static java.lang.String.valueOf;\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>Character evaluateFormula(String formula, String variables, String values) {\n    Deque&lt;Character&gt; s = new ArrayDeque&lt;&gt;();\n    char op;\n    boolean op1, op2;\n    for (char c : formula.toCharArray())\n        switch (c) {\n            case '(', '&amp;', '|' -&gt; s.add(c);\n            case ')' -&gt; {\n                while (s.getLast() != '(') {\n                    op = s.pop();\n                    op1 = s.pop() == 1;\n                    op2 = s.pop() == 1;\n                    if (op == '&amp;') s.add((char) (op1 &amp;&amp; op2 ? 1 : 0));\n                    else if (op == '|') s.add((char) (op1 || op2 ? 1 : 0));\n                }\n            }\n            case '~' -&gt; {\n                if (!s.isEmpty() &amp;&amp; s.getLast() == '~') {\n                    s.pop();\n                    if (!s.isEmpty() &amp;&amp; s.getLast() == '(') return null;\n                } else s.add('~');\n            }\n            default -&gt; {\n                if (variables.contains(valueOf(c)))\n                    if (values.contains(valueOf(c))) s.add(values.charAt(c));\n                    else return null;\n            }\n        }\n    if (s.size() == 1 &amp;&amp; s.getFirst() &lt;= 1) return s.getFirst();\n    else return null;\n}\n</code></pre>\n"}],"owner":{"account_id":2233666,"reputation":109,"user_id":5736915,"display_name":"user5736915"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":2,"score":-1,"last_activity_date":1697161094,"creation_date":1697120299,"question_id":77281418,"body_markdown":"Ive been trying to convert python code into Java, and Im having a head banging time trying to figure out why my solution keeps giving me an index out of bounds error. Any ideas? I think its a simple syntax or counting error but as a Python programmer I fail to see how it doesnt work in Java. \r\n\r\nPython Code:\r\n```\r\ndef evaluate_formula(formula, variables, values):\r\n    stack = []\r\n    for char in formula:\r\n        if char == &#39;(&#39;:\r\n            stack.append(char)\r\n        elif char == &#39;)&#39;:\r\n            while stack[-1] != &#39;(&#39;:\r\n                operator = stack.pop()\r\n                operand2 = stack.pop()\r\n                operand1 = stack.pop()\r\n                if operator == &#39;&amp;&#39;:\r\n                    stack.append(operand1 and operand2)\r\n                elif operator == &#39;|&#39;:\r\n                    stack.append(operand1 or operand2)\r\n        elif char in variables:\r\n            if char in values:\r\n                stack.append(values[char])\r\n            else:\r\n                return None\r\n        elif char == &#39;~&#39;:\r\n            if stack and stack[-1] == &#39;~&#39;:\r\n                stack.pop()\r\n                if stack and stack[-1] == &#39;(&#39;:\r\n                    return None\r\n            else:\r\n                stack.append(&#39;~&#39;)\r\n        elif char in [&#39;&amp;&#39;, &#39;|&#39;]:\r\n            stack.append(char)\r\n\r\n    if len(stack) == 1 and type(stack[0]) == bool:\r\n        return stack[0]\r\n    else:\r\n        return None\r\n```\r\nJava Code\r\n```\r\n    public static String evaluateFormula(String str, char[] variableValues) {\r\n        String evaluated = &quot;&quot;;\r\n        for (char c : str.toCharArray()) {\r\n            if (Character.isAlphabetic(c)) {\r\n                evaluated += variableValues[c - &#39;a&#39;];\r\n            } else if (c == &#39;&amp;&#39;) {\r\n                int index = evaluated.length() - 1;\r\n                char op1 = evaluated.charAt(index - 1);\r\n                char op2 = evaluated.charAt(index);\r\n                evaluated = evaluated.substring(0, index - 1) + (op1 == &#39;T&#39; &amp;&amp; op2 == &#39;T&#39; ? &#39;T&#39; : &#39;F&#39;);\r\n            } else if (c == &#39;|&#39;) {\r\n                int index = evaluated.length() - 1;\r\n                char op1 = evaluated.charAt(index - 1);\r\n                char op2 = evaluated.charAt(index);\r\n                evaluated = evaluated.substring(0, index - 1) + (op1 == &#39;T&#39; || op2 == &#39;T&#39; ? &#39;T&#39; : &#39;F&#39;);\r\n            } else if (c == &#39;~&#39;) {\r\n                int index = evaluated.length() - 1;\r\n                char op = evaluated.charAt(index);\r\n                \r\n                evaluated = evaluated.substring(0, index - 1) + (op == &#39;T&#39; ? &#39;F&#39; : &#39;T&#39;);\r\n            }\r\n        }\r\n        return evaluated;\r\n    }\r\n\r\n```","title":"Converting Python to Java: Keep getting index out of bounds","body":"<p>Ive been trying to convert python code into Java, and Im having a head banging time trying to figure out why my solution keeps giving me an index out of bounds error. Any ideas? I think its a simple syntax or counting error but as a Python programmer I fail to see how it doesnt work in Java.</p>\n<p>Python Code:</p>\n<pre><code>def evaluate_formula(formula, variables, values):\n    stack = []\n    for char in formula:\n        if char == '(':\n            stack.append(char)\n        elif char == ')':\n            while stack[-1] != '(':\n                operator = stack.pop()\n                operand2 = stack.pop()\n                operand1 = stack.pop()\n                if operator == '&amp;':\n                    stack.append(operand1 and operand2)\n                elif operator == '|':\n                    stack.append(operand1 or operand2)\n        elif char in variables:\n            if char in values:\n                stack.append(values[char])\n            else:\n                return None\n        elif char == '~':\n            if stack and stack[-1] == '~':\n                stack.pop()\n                if stack and stack[-1] == '(':\n                    return None\n            else:\n                stack.append('~')\n        elif char in ['&amp;', '|']:\n            stack.append(char)\n\n    if len(stack) == 1 and type(stack[0]) == bool:\n        return stack[0]\n    else:\n        return None\n</code></pre>\n<p>Java Code</p>\n<pre><code>    public static String evaluateFormula(String str, char[] variableValues) {\n        String evaluated = &quot;&quot;;\n        for (char c : str.toCharArray()) {\n            if (Character.isAlphabetic(c)) {\n                evaluated += variableValues[c - 'a'];\n            } else if (c == '&amp;') {\n                int index = evaluated.length() - 1;\n                char op1 = evaluated.charAt(index - 1);\n                char op2 = evaluated.charAt(index);\n                evaluated = evaluated.substring(0, index - 1) + (op1 == 'T' &amp;&amp; op2 == 'T' ? 'T' : 'F');\n            } else if (c == '|') {\n                int index = evaluated.length() - 1;\n                char op1 = evaluated.charAt(index - 1);\n                char op2 = evaluated.charAt(index);\n                evaluated = evaluated.substring(0, index - 1) + (op1 == 'T' || op2 == 'T' ? 'T' : 'F');\n            } else if (c == '~') {\n                int index = evaluated.length() - 1;\n                char op = evaluated.charAt(index);\n                \n                evaluated = evaluated.substring(0, index - 1) + (op == 'T' ? 'F' : 'T');\n            }\n        }\n        return evaluated;\n    }\n\n</code></pre>\n"},{"tags":["java","generics","multiple-inheritance"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1697161003,"post_id":77283492,"comment_id":136248145,"body_markdown":"`B` does not implement `Comparable&lt;B&gt;`, so it is not comparable. It is incorrectly defined IMO.","body":"<code>B</code> does not implement <code>Comparable&lt;B&gt;</code>, so it is not comparable. It is incorrectly defined IMO."}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1697140423,"creation_date":1697140423,"answer_id":77283504,"question_id":77283492,"body_markdown":"```\r\nMovieList implements KeyListInterface\r\nKeyListInterface extends Comparable&lt;KeyListInterface&gt;\r\n```\r\n\r\nUnfortunately, what you have here is that `MovieList` implements `Comparable&lt;KeyListInterface&gt;`, not `MovieList` implements `Comparable&lt;MovieList&gt;`.  This is not a situation where `T implements Comparable&lt;T&gt;` as a result.\r\n\r\nYou _can_ make this work, but to allow it you must modify your generics slightly, with\r\n\r\n```\r\npublic class MovieList&lt;T extends Comparable&lt;? super T&gt;&gt;\r\n```","title":"Why a Class which implements a Comparable Interface is not Comparable?","body":"<pre><code>MovieList implements KeyListInterface\nKeyListInterface extends Comparable&lt;KeyListInterface&gt;\n</code></pre>\n<p>Unfortunately, what you have here is that <code>MovieList</code> implements <code>Comparable&lt;KeyListInterface&gt;</code>, not <code>MovieList</code> implements <code>Comparable&lt;MovieList&gt;</code>.  This is not a situation where <code>T implements Comparable&lt;T&gt;</code> as a result.</p>\n<p>You <em>can</em> make this work, but to allow it you must modify your generics slightly, with</p>\n<pre><code>public class MovieList&lt;T extends Comparable&lt;? super T&gt;&gt;\n</code></pre>\n"}],"owner":{"account_id":19762529,"reputation":65,"user_id":14990433,"display_name":"Daybreak Texas"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1697160241,"creation_date":1697140281,"question_id":77283492,"body_markdown":"To generalize the question\r\n\r\nIf Interface A is Comparable,\r\nClass B extends Interface A.\r\nAnd for Class C the type parameter it takes must be comparable.\r\n\r\nFor class A\r\n```java\r\npublic interface A extends Comparable&lt;A&gt;{\r\n}\r\n```\r\n\r\nFor class B\r\n```java\r\npublic class B implements A{\r\n    @Override\r\n    public int compareTo(A o) {\r\n        return 0;\r\n    }\r\n}\r\n```\r\n\r\nFor class C\r\n```java\r\npublic class C&lt;T extends Comparable&lt;T&gt;&gt; {\r\n    public int data;\r\n}\r\n```\r\n\r\nNow try to declare an instance of C using the type parameter B\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        C&lt;B&gt; test = new C&lt;B&gt;();\r\n    }\r\n}\r\n```\r\n\r\nIt shows an error \r\n&gt; Type parameter &#39;B&#39; is not within its bound; should implement &#39;java.lang.Comparable&lt;B&gt;&#39;\r\n\r\nI believe Class B has extended A and should be comparable. I&#39;m not sure why it doesn&#39;t work.\r\n\r\n\r\n\r\n\r\nFor my code: \r\nThe relationship between the class and interface is\r\n\r\n```java\r\nMovieList implements KeyListInterface\r\nKeyListInterface extends Comparable&lt;KeyListInterface&gt;\r\n```\r\n\r\nand the definition of RedBlackTree is \r\n```java\r\npublic class RedBlackTree&lt;T extends Comparable&lt;T&gt;&gt; extends BinarySearchTree&lt;T&gt;\r\n```\r\n\r\nWhen I tried to instantiate a RedBlackTree in the test methods with the following line\r\n```java\r\n        RedBlackTree&lt;MovieList&gt; Tree = new RedBlackTree&lt;&gt;();\r\n```\r\n, passing into the type parameter as MovieList, it showed the error\r\n&gt; Type parameter &#39;MovieList&#39; is not within its bound; should implement &#39;java.lang.Comparable&lt;MovieList&gt;&#39;\r\n\r\nI&#39;m wondering what this error means, since with the structure shown above, I believe that MovieList is comparable\r\n\r\nBelow is just the placeholder for the MovieList class and the KeyListInterface is shown below\r\n\r\n```java\r\n/**\r\n * This is the interface of a type that will allow us to store duplicate keys in a single node of a tree.\r\n */\r\npublic interface KeyListInterface&lt;T extends Comparable&lt;T&gt;&gt; extends Comparable&lt;KeyListInterface&lt;T&gt;&gt;, Iterable&lt;T&gt; {\r\n\r\n    /**\r\n     * Adds another object with the same key to the list.\r\n     * @param newKey new object that maps to the same key as all objects in the list\r\n     */\r\n    public void addKey(T newKey);\r\n\r\n    /**\r\n     * Checks if the list contains key.\r\n     * @param key the key object to check for\r\n     */\r\n    public boolean containsKey(T key);\r\n\r\n}\r\n```\r\n\r\n```java\r\nimport java.util.Iterator;\r\n\r\npublic class MovieList&lt;T extends Comparable&lt;T&gt;&gt; implements KeyListInterface&lt;T&gt; {\r\n    @Override\r\n    public void addKey(T newKey) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public boolean containsKey(T key) {\r\n        return false;\r\n    }\r\n\r\n    @Override\r\n    public int compareTo(KeyListInterface&lt;T&gt; o) {\r\n        return 0;\r\n    }\r\n\r\n    @Override\r\n    public Iterator&lt;T&gt; iterator() {\r\n        return null;\r\n    }\r\n}\r\n```","title":"Why a Class which implements a Comparable Interface is not Comparable?","body":"<p>To generalize the question</p>\n<p>If Interface A is Comparable,\nClass B extends Interface A.\nAnd for Class C the type parameter it takes must be comparable.</p>\n<p>For class A</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface A extends Comparable&lt;A&gt;{\n}\n</code></pre>\n<p>For class B</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class B implements A{\n    @Override\n    public int compareTo(A o) {\n        return 0;\n    }\n}\n</code></pre>\n<p>For class C</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class C&lt;T extends Comparable&lt;T&gt;&gt; {\n    public int data;\n}\n</code></pre>\n<p>Now try to declare an instance of C using the type parameter B</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        C&lt;B&gt; test = new C&lt;B&gt;();\n    }\n}\n</code></pre>\n<p>It shows an error</p>\n<blockquote>\n<p>Type parameter 'B' is not within its bound; should implement 'java.lang.Comparable'</p>\n</blockquote>\n<p>I believe Class B has extended A and should be comparable. I'm not sure why it doesn't work.</p>\n<p>For my code:\nThe relationship between the class and interface is</p>\n<pre class=\"lang-java prettyprint-override\"><code>MovieList implements KeyListInterface\nKeyListInterface extends Comparable&lt;KeyListInterface&gt;\n</code></pre>\n<p>and the definition of RedBlackTree is</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class RedBlackTree&lt;T extends Comparable&lt;T&gt;&gt; extends BinarySearchTree&lt;T&gt;\n</code></pre>\n<p>When I tried to instantiate a RedBlackTree in the test methods with the following line</p>\n<pre class=\"lang-java prettyprint-override\"><code>        RedBlackTree&lt;MovieList&gt; Tree = new RedBlackTree&lt;&gt;();\n</code></pre>\n<p>, passing into the type parameter as MovieList, it showed the error</p>\n<blockquote>\n<p>Type parameter 'MovieList' is not within its bound; should implement 'java.lang.Comparable'</p>\n</blockquote>\n<p>I'm wondering what this error means, since with the structure shown above, I believe that MovieList is comparable</p>\n<p>Below is just the placeholder for the MovieList class and the KeyListInterface is shown below</p>\n<pre class=\"lang-java prettyprint-override\"><code>/**\n * This is the interface of a type that will allow us to store duplicate keys in a single node of a tree.\n */\npublic interface KeyListInterface&lt;T extends Comparable&lt;T&gt;&gt; extends Comparable&lt;KeyListInterface&lt;T&gt;&gt;, Iterable&lt;T&gt; {\n\n    /**\n     * Adds another object with the same key to the list.\n     * @param newKey new object that maps to the same key as all objects in the list\n     */\n    public void addKey(T newKey);\n\n    /**\n     * Checks if the list contains key.\n     * @param key the key object to check for\n     */\n    public boolean containsKey(T key);\n\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Iterator;\n\npublic class MovieList&lt;T extends Comparable&lt;T&gt;&gt; implements KeyListInterface&lt;T&gt; {\n    @Override\n    public void addKey(T newKey) {\n\n    }\n\n    @Override\n    public boolean containsKey(T key) {\n        return false;\n    }\n\n    @Override\n    public int compareTo(KeyListInterface&lt;T&gt; o) {\n        return 0;\n    }\n\n    @Override\n    public Iterator&lt;T&gt; iterator() {\n        return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1492807778,"post_id":43544806,"comment_id":74155748,"body_markdown":"Why isn&#39;t your updated solution not ideal? It returns exactly what you want... Else configure maven to process your properties file to replace the `@prop@`. However I would probably go for the `InfoContributor`.","body":"Why isn&#39;t your updated solution not ideal? It returns exactly what you want... Else configure maven to process your properties file to replace the <code>@prop@</code>. However I would probably go for the <code>InfoContributor</code>."}],"answers":[{"tags":[],"owner":{"account_id":6348925,"reputation":559,"user_id":4928612,"accept_rate":75,"display_name":"barcom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1503346045,"creation_date":1503346045,"answer_id":45804770,"question_id":43544806,"body_markdown":"This should work:\r\n\r\n\r\n    &lt;plugin&gt;\r\n      &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n      &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n      &lt;configuration&gt;\r\n        &lt;additionalProperties&gt;\r\n          &lt;spring-boot-version&gt;${spring.boot.version}&lt;/spring-boot-version&gt;\r\n        &lt;/additionalProperties&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n\r\nYou then don&#39;t need the app.info properties.","title":"How to get the version of Spring Boot in the /info actuator endpoint","body":"<p>This should work:</p>\n\n<pre><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;additionalProperties&gt;\n      &lt;spring-boot-version&gt;${spring.boot.version}&lt;/spring-boot-version&gt;\n    &lt;/additionalProperties&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>You then don't need the app.info properties.</p>\n"},{"tags":[],"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1639798663,"creation_date":1639798663,"answer_id":70400812,"question_id":43544806,"body_markdown":"As you mentioned in your update, an `InfoContributor` can be used to add this property based on the value in `SpringBootVersion`:\r\n\r\n```lang-java\r\n@Component\r\npublic class SpringBootVersionInfoContributor implements InfoContributor {\r\n    @Override\r\n    public void contribute(Info.Builder builder) {\r\n        builder.withDetail(&quot;spring-boot.version&quot;, SpringBootVersion.getVersion());\r\n    }\r\n}\r\n```\r\n\r\nThis seems a pretty solid idiomatic approach to adding this detail.","title":"How to get the version of Spring Boot in the /info actuator endpoint","body":"<p>As you mentioned in your update, an <code>InfoContributor</code> can be used to add this property based on the value in <code>SpringBootVersion</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class SpringBootVersionInfoContributor implements InfoContributor {\n    @Override\n    public void contribute(Info.Builder builder) {\n        builder.withDetail(&quot;spring-boot.version&quot;, SpringBootVersion.getVersion());\n    }\n}\n</code></pre>\n<p>This seems a pretty solid idiomatic approach to adding this detail.</p>\n"}],"owner":{"account_id":10503536,"reputation":131,"user_id":7741517,"display_name":"jonathan.stiles"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13741,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1697159311,"creation_date":1492783576,"question_id":43544806,"body_markdown":"It&#39;s possible to include the version of Spring Boot in the banner.txt by adding `${spring-boot.version}`.\r\n\r\nHow can I do the same for the `/info` actuator endpoint?\r\nI&#39;ve tried adding both of the following to my application properties, but no luck:\r\n\r\n* `info.app.spring-boot.version=${spring-boot.version}`\r\n* `info.app.spring-boot.version=@spring-boot.version@` \r\n\r\nThe `/info` endpoint will print &quot;${spring-boot.version}&quot; (or &quot;@spring-boot.version@&quot; ), doesn&#39;t resolve the placeholder variable\r\n\r\n\r\nMy next idea was to create a Maven property for the Spring Boot version and reference it in the parent section like so\r\n\r\n\r\n```lang-xml\r\n&lt;properties&gt;\r\n    &lt;spring.boot.version&gt;1.5.3.RELEASE&lt;/spring.boot.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;parent&gt;\r\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    &lt;version&gt;${spring.boot.version}&lt;/version&gt;\r\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n&lt;/parent&gt;\r\n```\r\n\r\nBut this didn&#39;t work because Maven resolves placeholder variables AFTER handling the `&lt;parent&gt;` section\r\n\r\n\r\n## UPDATE\r\nThe following does work, but it&#39;s not ideal:\r\n\r\n```lang-java\r\n@Component\r\npublic class MyInfoContributor implements InfoContributor {\r\n    @Override\r\n    public void contribute(Info.Builder builder) {\r\n\r\n        builder.withDetail(&quot;spring-boot.version&quot;, SpringBootVersion.getVersion());\r\n    }\r\n}\r\n```\r\n\r\n","title":"How to get the version of Spring Boot in the /info actuator endpoint","body":"<p>It's possible to include the version of Spring Boot in the banner.txt by adding <code>${spring-boot.version}</code>.</p>\n<p>How can I do the same for the <code>/info</code> actuator endpoint?\nI've tried adding both of the following to my application properties, but no luck:</p>\n<ul>\n<li><code>info.app.spring-boot.version=${spring-boot.version}</code></li>\n<li><code>info.app.spring-boot.version=@spring-boot.version@</code></li>\n</ul>\n<p>The <code>/info</code> endpoint will print &quot;${spring-boot.version}&quot; (or &quot;@spring-boot.version@&quot; ), doesn't resolve the placeholder variable</p>\n<p>My next idea was to create a Maven property for the Spring Boot version and reference it in the parent section like so</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;properties&gt;\n    &lt;spring.boot.version&gt;1.5.3.RELEASE&lt;/spring.boot.version&gt;\n&lt;/properties&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;${spring.boot.version}&lt;/version&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n</code></pre>\n<p>But this didn't work because Maven resolves placeholder variables AFTER handling the <code>&lt;parent&gt;</code> section</p>\n<h2>UPDATE</h2>\n<p>The following does work, but it's not ideal:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Component\npublic class MyInfoContributor implements InfoContributor {\n    @Override\n    public void contribute(Info.Builder builder) {\n\n        builder.withDetail(&quot;spring-boot.version&quot;, SpringBootVersion.getVersion());\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","active-directory","ldap"],"comments":[{"owner":{"account_id":3750645,"reputation":28034,"user_id":3118209,"accept_rate":93,"display_name":"Arpit Aggarwal"},"score":0,"creation_date":1435175429,"post_id":31034908,"comment_id":50095691,"body_markdown":"Hope it helps :http://forum.spring.io/forum/spring-projects/data/ldap/22371-ldap-error-code-32-no-such-object","body":"Hope it helps :<a href=\"http://forum.spring.io/forum/spring-projects/data/ldap/22371-ldap-error-code-32-no-such-object\" rel=\"nofollow noreferrer\">forum.spring.io/forum/spring-projects/data/ldap/&hellip;</a>"},{"owner":{"account_id":2051906,"reputation":855,"user_id":1830720,"accept_rate":44,"display_name":"Rodolfo Velasco"},"score":0,"creation_date":1515465472,"post_id":31034908,"comment_id":83300935,"body_markdown":"Could you solve your issue?","body":"Could you solve your issue?"}],"answers":[{"tags":[],"owner":{"account_id":11431994,"reputation":11,"user_id":8380428,"display_name":"Florian Campa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1518100850,"creation_date":1518100850,"answer_id":48688075,"question_id":31034908,"body_markdown":"This answer is for the posterity\r\n\r\nCheck this link : http://www.baeldung.com/spring-ldap\r\n\r\nExemple of code :\r\n\r\n\r\n        @Autowired\r\n\t    private LdapTemplate ldapTemplate;\r\n\r\n        private static final String BASE_DN = &quot;OU=Metaverse&quot;;\r\n\r\n        protected void buildDn(UserAd user) {\r\n            Name dn = LdapNameBuilder.newInstance(BASE_DN)\r\n\t\t\t\t.add(&quot;OU&quot;, &quot;Orga_Unit&quot;)\r\n\t\t\t\t.add(&quot;OU&quot;, &quot;Orga_Unit&quot;)\r\n\t\t\t\t.add(&quot;CN&quot;, &quot;ldap_cn&quot;).build();\r\n\t\t\r\n\t\t    DirContextAdapter context = new DirContextAdapter(dn);\r\n\t\t \r\n\t        context.setAttributeValues(\r\n\t           &quot;objectclass&quot;, \r\n\t           new String[] \r\n\t           { &quot;top&quot;, \r\n\t             &quot;person&quot;, \r\n\t             &quot;organizationalPerson&quot;});\r\n\t        context.setAttributeValue(&quot;sn&quot;, &quot;CREATETEST&quot;);\r\n\t        context.setAttributeValue(&quot;userPassword&quot;,&quot;password&quot;);\r\n\t \r\n\t        ldapTemplate.bind(context);\r\n        }","title":"Change Active Directory Password Via Spring LDAP","body":"<p>This answer is for the posterity</p>\n\n<p>Check this link : <a href=\"http://www.baeldung.com/spring-ldap\" rel=\"nofollow noreferrer\">http://www.baeldung.com/spring-ldap</a></p>\n\n<p>Exemple of code :</p>\n\n<pre><code>    @Autowired\n    private LdapTemplate ldapTemplate;\n\n    private static final String BASE_DN = \"OU=Metaverse\";\n\n    protected void buildDn(UserAd user) {\n        Name dn = LdapNameBuilder.newInstance(BASE_DN)\n            .add(\"OU\", \"Orga_Unit\")\n            .add(\"OU\", \"Orga_Unit\")\n            .add(\"CN\", \"ldap_cn\").build();\n\n        DirContextAdapter context = new DirContextAdapter(dn);\n\n        context.setAttributeValues(\n           \"objectclass\", \n           new String[] \n           { \"top\", \n             \"person\", \n             \"organizationalPerson\"});\n        context.setAttributeValue(\"sn\", \"CREATETEST\");\n        context.setAttributeValue(\"userPassword\",\"password\");\n\n        ldapTemplate.bind(context);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1457031,"reputation":1235,"user_id":1372366,"accept_rate":75,"display_name":"selman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544716566,"creation_date":1544716566,"answer_id":53765622,"question_id":31034908,"body_markdown":"Your base is already defined in Spring LdapContextSource.\r\nSo just execute:\r\n\r\n    ldapTemplate.modifyAttributes(&quot;CN=Name Surname,OU=Office&quot;, new ModificationItem[] { repitem });","title":"Change Active Directory Password Via Spring LDAP","body":"<p>Your base is already defined in Spring LdapContextSource.\nSo just execute:</p>\n\n<pre><code>ldapTemplate.modifyAttributes(\"CN=Name Surname,OU=Office\", new ModificationItem[] { repitem });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1061383,"reputation":8686,"user_id":1062933,"accept_rate":85,"display_name":"NaN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1663375415,"creation_date":1663375415,"answer_id":73751427,"question_id":31034908,"body_markdown":"You need to add double quotes between your new password, and then convert it to UTF-16, like this:\r\n```\r\nString newPass = &quot;\\&quot;&quot; + password + &quot;\\&quot;&quot;;\r\nbyte[] newPassUtf16 = newPass.getBytes(&quot;UTF-16LE&quot;);\r\n```","title":"Change Active Directory Password Via Spring LDAP","body":"<p>You need to add double quotes between your new password, and then convert it to UTF-16, like this:</p>\n<pre><code>String newPass = &quot;\\&quot;&quot; + password + &quot;\\&quot;&quot;;\nbyte[] newPassUtf16 = newPass.getBytes(&quot;UTF-16LE&quot;);\n</code></pre>\n"}],"owner":{"account_id":1321971,"reputation":307,"user_id":1267608,"accept_rate":0,"display_name":"fciri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":8314,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1697159311,"creation_date":1435172756,"question_id":31034908,"body_markdown":"I have a Java application and I want that each user have the possibility to change own password via application.\r\n\r\nThis is my code:\r\n\r\n    public void changePassword()\r\n    {\r\n        LdapContextSource contextSource = new LdapContextSource();\r\n\t    contextSource.setUrl(&quot;LDAPS://X.Y.Z.T/&quot;);\r\n\t    contextSource.setBase(&quot;DC=example,DC=com&quot;);\r\n\t    contextSource.setUserDn(&quot;username@example.com&quot;);\r\n\t    contextSource.setPassword(&quot;oldpass&quot;);\r\n\t    contextSource.afterPropertiesSet();\r\n\r\n\t    LdapTemplate ldapTemplate = new LdapTemplate(contextSource);\r\n\t\t\r\n\t    byte[] li_byOldpass = encodePassword(&quot;oldpass&quot;);\r\n\t    byte[] li_byNewpass = encodePassword(&quot;newpass&quot;);\r\n\t\t\r\n\t    Attribute oldattr = new BasicAttribute(&quot;unicodePwd&quot;, li_byOldpass);\r\n\t    Attribute newattr = new BasicAttribute(&quot;unicodePwd&quot;, li_byNewpass);\r\n \t    ModificationItem olditem = new   ModificationItem(DirContext.REMOVE_ATTRIBUTE, oldattr);\r\n        ModificationItem newitem = new ModificationItem(DirContext.ADD_ATTRIBUTE, newattr);\r\n        ModificationItem repitem = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, newattr);\r\n    \r\n        ModificationItem[] mods = new ModificationItem[2];\r\n        mods[0] = olditem;\r\n        mods[1] = newitem;\r\n    \r\n        try\r\n     \t{\r\n            ldapTemplate.modifyAttributes(&quot;CN=Name Surname,OU=Office,DC=example,DC=com&quot;, new ModificationItem[] { repitem });   \r\n\t    }catch(Exception e)\r\n    \t{\r\n\t       System.out.println(&quot;Error in changing password on Active Directory: &quot; + e.getMessage() );\r\n\t    }\r\n    }\r\n\r\nUnfortunately it doesn&#39;t work, and this is the errore that i get:\r\n\r\n\r\n----------\r\n\r\n\r\n**[LDAP: error code 32 - 0000208D: NameErr: DSID-0310020A, problem 2001 (NO_OBJECT), data 0, best match of:&#39;DC=example,DC=com&#39;];**\r\n\r\n----------\r\n\r\nAny help will be appreciate\r\n\r\nThanks\r\n\r\n\r\n\r\n\r\n\r\n","title":"Change Active Directory Password Via Spring LDAP","body":"<p>I have a Java application and I want that each user have the possibility to change own password via application.</p>\n\n<p>This is my code:</p>\n\n<pre><code>public void changePassword()\n{\n    LdapContextSource contextSource = new LdapContextSource();\n    contextSource.setUrl(\"LDAPS://X.Y.Z.T/\");\n    contextSource.setBase(\"DC=example,DC=com\");\n    contextSource.setUserDn(\"username@example.com\");\n    contextSource.setPassword(\"oldpass\");\n    contextSource.afterPropertiesSet();\n\n    LdapTemplate ldapTemplate = new LdapTemplate(contextSource);\n\n    byte[] li_byOldpass = encodePassword(\"oldpass\");\n    byte[] li_byNewpass = encodePassword(\"newpass\");\n\n    Attribute oldattr = new BasicAttribute(\"unicodePwd\", li_byOldpass);\n    Attribute newattr = new BasicAttribute(\"unicodePwd\", li_byNewpass);\n    ModificationItem olditem = new   ModificationItem(DirContext.REMOVE_ATTRIBUTE, oldattr);\n    ModificationItem newitem = new ModificationItem(DirContext.ADD_ATTRIBUTE, newattr);\n    ModificationItem repitem = new ModificationItem(DirContext.REPLACE_ATTRIBUTE, newattr);\n\n    ModificationItem[] mods = new ModificationItem[2];\n    mods[0] = olditem;\n    mods[1] = newitem;\n\n    try\n    {\n        ldapTemplate.modifyAttributes(\"CN=Name Surname,OU=Office,DC=example,DC=com\", new ModificationItem[] { repitem });   \n    }catch(Exception e)\n    {\n       System.out.println(\"Error in changing password on Active Directory: \" + e.getMessage() );\n    }\n}\n</code></pre>\n\n<p>Unfortunately it doesn't work, and this is the errore that i get:</p>\n\n<hr>\n\n<p><strong>[LDAP: error code 32 - 0000208D: NameErr: DSID-0310020A, problem 2001 (NO_OBJECT), data 0, best match of:'DC=example,DC=com'];</strong></p>\n\n<hr>\n\n<p>Any help will be appreciate</p>\n\n<p>Thanks</p>\n"},{"tags":["java","servlets","get","ejb"],"comments":[{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1697155125,"post_id":77284372,"comment_id":136247731,"body_markdown":"Are there any special messages on deployment? Usually when something does not work, you can see it in the logs there. And sometimes really strange things can happen with out-of-date certificates. For example, 5 years ago, when certificates ran out of date on a glassfish JEE server, the whole console and some internal services would shut down. From 1 moment to the next everything stopped working... Maybe something like that&#39;s happening here too...? Also, let your IDE generate a proper `serialVersionUID`. JEE is full of surprises.","body":"Are there any special messages on deployment? Usually when something does not work, you can see it in the logs there. And sometimes really strange things can happen with out-of-date certificates. For example, 5 years ago, when certificates ran out of date on a glassfish JEE server, the whole console and some internal services would shut down. From 1 moment to the next everything stopped working... Maybe something like that&#39;s happening here too...? Also, let your IDE generate a proper <code>serialVersionUID</code>. JEE is full of surprises."},{"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"score":0,"creation_date":1697155953,"post_id":77284372,"comment_id":136247797,"body_markdown":"@JayC667 I don&#39;t think there is anything in the deployment that wasn&#39;t there prior to me screwing it up. I added the log above. I commented out the &quot;private static final long serialVersionUID = 1L;&quot; and eclipse gave me a warning. If I use Eclipse&#39;s &quot;Add generated serial version ID&quot; it adds the same line of code.","body":"@JayC667 I don&#39;t think there is anything in the deployment that wasn&#39;t there prior to me screwing it up. I added the log above. I commented out the &quot;private static final long serialVersionUID = 1L;&quot; and eclipse gave me a warning. If I use Eclipse&#39;s &quot;Add generated serial version ID&quot; it adds the same line of code."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1697156213,"post_id":77284372,"comment_id":136247808,"body_markdown":"Go back in your commit history and test older versions until you find the change that broke it.","body":"Go back in your commit history and test older versions until you find the change that broke it."},{"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"score":0,"creation_date":1697158003,"post_id":77284372,"comment_id":136247900,"body_markdown":"Finally got it. I compared the build path and runtime to an older version and got these lined up. I also switched the Runtime JRE to Execution Environment on my server. I&#39;ve added and deleted the server a million times, but somehow this random combination of things fixed the issue. On launch, it finally through an error with the new controller I added, so it actually recognized the code. I fixed the error and the call went through. Not entirely sure what changed, but it is recognizing my code changes again.","body":"Finally got it. I compared the build path and runtime to an older version and got these lined up. I also switched the Runtime JRE to Execution Environment on my server. I&#39;ve added and deleted the server a million times, but somehow this random combination of things fixed the issue. On launch, it finally through an error with the new controller I added, so it actually recognized the code. I fixed the error and the call went through. Not entirely sure what changed, but it is recognizing my code changes again."},{"owner":{"account_id":2182934,"reputation":2525,"user_id":1932011,"accept_rate":71,"display_name":"JayC667"},"score":0,"creation_date":1697191375,"post_id":77284372,"comment_id":136251837,"body_markdown":"@rphello101 It is near impossible that Eclipse will generate &quot;1L&quot; for `serialVersionUID`. That only happens if there is a syntactic error inside the file. &quot;1L&quot; or &quot;-1L&quot;. Now that you&#39;ve fixed it, let Eclipse generate it anew. I bet that some proper UID is generated this time ;-)","body":"@rphello101 It is near impossible that Eclipse will generate &quot;1L&quot; for <code>serialVersionUID</code>. That only happens if there is a syntactic error inside the file. &quot;1L&quot; or &quot;-1L&quot;. Now that you&#39;ve fixed it, let Eclipse generate it anew. I bet that some proper UID is generated this time ;-)"},{"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"score":0,"creation_date":1697210534,"post_id":77284372,"comment_id":136255508,"body_markdown":"@JayC667 you are indeed correct. It now has quite a long number","body":"@JayC667 you are indeed correct. It now has quite a long number"}],"owner":{"account_id":1386148,"reputation":1691,"user_id":1318162,"accept_rate":64,"display_name":"rphello101"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697157086,"creation_date":1697154292,"question_id":77284372,"body_markdown":"I have a Java EJB application I have been developing. I&#39;m putting the final touches on it before moving it to production and, of course, broke it somehow. No clue what happened and I&#39;ve been banging my head against a wall for several hours now. Hoping for some help. \r\n\r\nI&#39;m using a Red Hat JBoss EAP 7.0 server. Targeted runtime JBoss EAP 7.0 and EJB Module is 3.2. I don&#39;t believe I screwed up anything in the build path, but I guess that&#39;s a possibility. No web.xml file since I can use annotations. \r\n\r\nThe application launches and can be accessed in the browser. The UI loads, but the first call to the server fails: \r\n\r\n    $.get(&quot;Controller?action=login&amp;userid=&quot; + params.get(&#39;userid&#39;) + &quot;&amp;timestamp=&quot; + getDateStamp(), function(authText) {...});\r\n\r\nI get the error: \r\n\r\n&gt; XHRGET\r\n&gt; http://localhost/OfflineInspections/Controller?action=login&amp;userid=9043&amp;timestamp=20231012_162723\r\n&gt; [HTTP/1.1 404 Not Found 2ms]\r\n\r\n\r\nIn my controller: \r\n\r\n    @WebServlet(&quot;/Controller&quot;)\r\n    public class Controller extends HttpServlet {\r\n    \tprivate static final long serialVersionUID = 1L;\r\n    \t\t\r\n           \r\n        /**\r\n         * @see HttpServlet#HttpServlet()\r\n         */\r\n        public Controller() {\r\n            super();\r\n            // TODO Auto-generated constructor stub\r\n        }\r\n    \r\n    \t/**\r\n    \t * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\r\n    \t */\r\n    \tprotected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \t\tString action = request.getParameter(&quot;action&quot;);\r\n    \t\t\r\n    \t\tUtil.log(&quot;v&quot; + Util.VERSION + &quot; Get Request. Action: &quot; + action);\r\n    \t\tSystem.out.println(&quot;testing&quot;);\r\n    ...\r\n\r\n&quot;testing&quot; doesn&#39;t show up on the console. \r\n\r\nI&#39;m out of ideas. Where else can I look? \r\n\r\nEDIT: \r\n\r\nServer log: \r\n\r\n    17:08:36,521 INFO  [org.jboss.modules] (main) JBoss Modules version 1.6.4.Final-redhat-1\r\n    17:08:36,648 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.7.SP1-redhat-1\r\n    17:08:36,700 INFO  [org.jboss.as] (MSC service thread 1-8) WFLYSRV0049: JBoss EAP 7.1.3.GA (WildFly Core 3.0.16.Final-redhat-1) starting\r\n    17:08:37,151 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute &#39;security-realm&#39; in the resource at address &#39;/core-service=management/management-interface=http-interface&#39; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.\r\n    17:08:37,159 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 29) WFLYCTL0028: Attribute &#39;security-realm&#39; in the resource at address &#39;/subsystem=undertow/server=default-server/https-listener=https&#39; is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.\r\n    17:08:37,160 INFO  [org.wildfly.security] (ServerService Thread Pool -- 5) ELY00001: WildFly Elytron version 1.1.10.Final-redhat-1\r\n    17:08:37,175 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0004: Found OfflineInspections.ear in deployment directory. To trigger deployment create a file called OfflineInspections.ear.dodeploy\r\n    17:08:37,187 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)\r\n    17:08:37,192 INFO  [org.xnio] (MSC service thread 1-3) XNIO version 3.5.5.Final-redhat-1\r\n    17:08:37,195 INFO  [org.xnio.nio] (MSC service thread 1-3) XNIO NIO Implementation Version 3.5.5.Final-redhat-1\r\n    17:08:37,203 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 47) WFLYRS0016: RESTEasy version 3.0.25.Final-redhat-1\r\n    17:08:37,205 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 45) WFLYCLINF0001: Activating Infinispan subsystem.\r\n    17:08:37,206 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 66) WFLYWS0002: Activating WebServices Extension\r\n    17:08:37,207 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 56) WFLYNAM0001: Activating Naming Subsystem\r\n    17:08:37,208 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 52) WFLYJSF0007: Activated the following JSF Implementations: [main]\r\n    17:08:37,208 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 63) WFLYSEC0002: Activating Security Subsystem\r\n    17:08:37,208 INFO  [org.wildfly.iiop.openjdk] (ServerService Thread Pool -- 46) WFLYIIOP0001: Activating IIOP Subsystem\r\n    17:08:37,212 INFO  [org.jboss.as.security] (MSC service thread 1-4) WFLYSEC0001: Current PicketBox version=5.0.3.Final-redhat-1\r\n    17:08:37,221 INFO  [org.jboss.as.connector] (MSC service thread 1-2) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.9.Final-redhat-1)\r\n    17:08:37,227 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 39) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)\r\n    17:08:37,230 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0003: Undertow 1.4.18.SP7-redhat-1 starting\r\n    17:08:37,231 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-6) WFLYJCA0018: Started Driver service with driver-name = h2\r\n    17:08:37,232 INFO  [org.jboss.as.naming] (MSC service thread 1-2) WFLYNAM0003: Starting Naming Service\r\n    17:08:37,232 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-2) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\r\n    17:08:37,262 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 39) WFLYJCA0004: Deploying JDBC-compliant driver class com.microsoft.sqlserver.jdbc.SQLServerDriver (version 7.0)\r\n    17:08:37,262 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = sqlserver2008\r\n    17:08:37,270 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 65) WFLYUT0014: Creating file handler for path &#39;C:\\JBOSS-EAP70/welcome-content&#39; with options [directory-listing: &#39;false&#39;, follow-symlink: &#39;false&#39;, case-sensitive: &#39;true&#39;, safe-symlink-paths: &#39;[]&#39;]\r\n    17:08:37,427 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 44) WFLYIO001: Worker &#39;default&#39; has auto-configured to 48 core threads with 384 task threads based on your 24 available processors\r\n    17:08:37,450 INFO  [org.jboss.remoting] (MSC service thread 1-3) JBoss Remoting version 5.0.7.Final-redhat-1\r\n    17:08:37,461 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0012: Started server default-server.\r\n    17:08:37,462 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0018: Host default-host starting\r\n    17:08:37,467 INFO  [org.jboss.as.patching] (MSC service thread 1-6) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none\r\n    17:08:37,473 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow AJP listener ajp-default listening on 0.0.0.0:8009\r\n    17:08:37,473 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow HTTP listener default listening on 0.0.0.0:80\r\n    17:08:37,475 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory C:\\JBOSS-EAP70\\standalone\\deployments\r\n    17:08:37,478 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of &quot;OfflineInspections.ear&quot; (runtime-name: &quot;OfflineInspections.ear&quot;)\r\n    17:08:37,503 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-7) WFLYMSGAMQ0001: AIO wasn&#39;t located on this platform, it will fall back to using pure Java NIO.\r\n    17:08:37,520 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0493: EJB subsystem suspension complete\r\n    17:08:37,530 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,journalDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\journal,bindingsDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\bindings,largeMessagesDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\largemessages,pagingDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\paging)\r\n    17:08:37,535 INFO  [org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer] (MSC service thread 1-7) IJ020018: Enabling &lt;validate-on-match&gt; for java:/OfflineInspCTZDS\r\n    17:08:37,543 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221013: Using NIO Journal\r\n    17:08:37,546 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;OfflineInspections-WebAppMin.war&quot;)\r\n    17:08:37,546 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;OfflineInspections-EJBApp.jar&quot;)\r\n    17:08:37,547 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\r\n    17:08:37,549 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0001: Bound data source [java:/OfflineInspCTZDS]\r\n    17:08:37,549 INFO  [org.wildfly.iiop.openjdk] (MSC service thread 1-8) WFLYIIOP0009: CORBA ORB Service started\r\n    17:08:37,567 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE\r\n    17:08:37,567 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221043: Protocol module found: [artemis-hornetq-protocol]. Adding protocol support for: HORNETQ\r\n    17:08:37,748 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow HTTPS listener https listening on 0.0.0.0:8443\r\n    17:08:37,779 INFO  [org.jboss.ws.common.management] (MSC service thread 1-7) JBWS022052: Starting JBossWS 5.1.10.Final-redhat-1 (Apache CXF 3.1.13.redhat-1) \r\n    17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-5) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor acceptor\r\n    17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-2) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor-throughput acceptor\r\n    17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-4) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor-throughput acceptor\r\n    17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-1) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor acceptor\r\n    17:08:37,856 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-2) WFLYSRV0018: Deployment &quot;deployment.OfflineInspections.ear.OfflineInspections-EJBApp.jar&quot; is using a private module (&quot;org.apache.commons.codec&quot;) which may be changed or removed in future versions without notice.\r\n    17:08:37,857 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) WFLYSRV0018: Deployment &quot;deployment.OfflineInspections.ear&quot; is using a private module (&quot;org.apache.commons.codec&quot;) which may be changed or removed in future versions without notice.\r\n    17:08:37,880 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221007: Server is now live\r\n    17:08:37,880 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221001: Apache ActiveMQ Artemis Message Broker version 1.5.5.012-redhat-1 [default, nodeID=0c3f2876-09ad-11eb-9f33-00155d0cd203] \r\n    17:08:37,882 WARN  [org.apache.activemq.artemis.jms.server] (ServerService Thread Pool -- 68) AMQ122005: Invalid &quot;host&quot; value &quot;0.0.0.0&quot; detected for &quot;http-connector&quot; connector. Switching to &quot;DESKTOP-OQ0COFF&quot;. If this new address is incorrect please manually configure the connector to use the proper one.\r\n    17:08:37,891 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 68) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory\r\n    17:08:37,896 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 69) AMQ221003: Deploying queue jms.queue.ExpiryQueue\r\n    17:08:37,899 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 70) AMQ221003: Deploying queue jms.queue.DLQ\r\n    17:08:37,899 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 71) WFLYMSGAMQ0002: Bound messaging object to jndi name java:/ConnectionFactory\r\n    17:08:37,912 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-6) WFLYJCA0007: Registered connection factory java:/JmsXA\r\n    17:08:37,935 INFO  [org.apache.activemq.artemis.ra] (MSC service thread 1-6) Resource adaptor started\r\n    17:08:37,935 INFO  [org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-6) IJ020002: Deployed: file://RaActivatoractivemq-ra\r\n    17:08:37,936 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-2) WFLYJCA0002: Bound JCA ConnectionFactory [java:/JmsXA]\r\n    17:08:37,936 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-1) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/DefaultJMSConnectionFactory\r\n    17:08:37,940 INFO  [org.infinispan.factories.GlobalComponentRegistry] (MSC service thread 1-5) ISPN000128: Infinispan version: Infinispan &#39;Chakra&#39; 8.2.11.Final-redhat-1\r\n    17:08:38,044 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 71) WFLYCLINF0002: Started client-mappings cache from ejb container\r\n    17:08:38,099 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 70) WFLYUT0021: Registered web context: &#39;/OfflineInspections&#39; for server &#39;default-server&#39;\r\n    17:08:38,103 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\r\n        (&quot;subsystem&quot; =&gt; &quot;undertow&quot;),\r\n        (&quot;server&quot; =&gt; &quot;default-server&quot;),\r\n        (&quot;host&quot; =&gt; &quot;default-host&quot;),\r\n        (&quot;filter-ref&quot; =&gt; &quot;contentsecuritypolicy&quot;)\r\n    ]) - failure description: {\r\n        &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.filter.contentsecuritypolicy&quot;],\r\n        &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.undertow.server.default-server.default-host.filter-ref.contentsecuritypolicy is missing [jboss.undertow.filter.contentsecuritypolicy]&quot;]\r\n    }\r\n    17:08:38,106 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 40) WFLYSRV0010: Deployed &quot;OfflineInspections.ear&quot; (runtime-name : &quot;OfflineInspections.ear&quot;)\r\n    17:08:38,107 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report\r\n    WFLYCTL0184:    New missing/unsatisfied dependencies:\r\n          service jboss.undertow.filter.contentsecuritypolicy (missing) dependents: [service jboss.undertow.server.default-server.default-host.filter-ref.contentsecuritypolicy] \r\n    \r\n    17:08:38,130 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\r\n    17:08:38,132 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://0.0.0.0:9990/management\r\n    17:08:38,132 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://0.0.0.0:9990\r\n    17:08:38,132 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: JBoss EAP 7.1.3.GA (WildFly Core 3.0.16.Final-redhat-1) started (with errors) in 1764ms - Started 517 of 747 services (1 services failed or missing dependencies, 380 services are lazy, passive or on-demand)\r\n\r\nEDIT 2\r\n\r\nI tried adding a new controller with just a doGet that outputs a single line to the console. I tried a call from the front end and am getting a 404 there are well. Somehow the application isn&#39;t recognizing my controllers. \r\n\r\nCould this be an issue with a mapped library or something?","title":"Java EJB application - why am I getting a 404 error when trying to make a GET call to my controller?","body":"<p>I have a Java EJB application I have been developing. I'm putting the final touches on it before moving it to production and, of course, broke it somehow. No clue what happened and I've been banging my head against a wall for several hours now. Hoping for some help.</p>\n<p>I'm using a Red Hat JBoss EAP 7.0 server. Targeted runtime JBoss EAP 7.0 and EJB Module is 3.2. I don't believe I screwed up anything in the build path, but I guess that's a possibility. No web.xml file since I can use annotations.</p>\n<p>The application launches and can be accessed in the browser. The UI loads, but the first call to the server fails:</p>\n<pre><code>$.get(&quot;Controller?action=login&amp;userid=&quot; + params.get('userid') + &quot;&amp;timestamp=&quot; + getDateStamp(), function(authText) {...});\n</code></pre>\n<p>I get the error:</p>\n<blockquote>\n<p>XHRGET\nhttp://localhost/OfflineInspections/Controller?action=login&amp;userid=9043&amp;timestamp=20231012_162723\n[HTTP/1.1 404 Not Found 2ms]</p>\n</blockquote>\n<p>In my controller:</p>\n<pre><code>@WebServlet(&quot;/Controller&quot;)\npublic class Controller extends HttpServlet {\n    private static final long serialVersionUID = 1L;\n        \n       \n    /**\n     * @see HttpServlet#HttpServlet()\n     */\n    public Controller() {\n        super();\n        // TODO Auto-generated constructor stub\n    }\n\n    /**\n     * @see HttpServlet#doGet(HttpServletRequest request, HttpServletResponse response)\n     */\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n        String action = request.getParameter(&quot;action&quot;);\n        \n        Util.log(&quot;v&quot; + Util.VERSION + &quot; Get Request. Action: &quot; + action);\n        System.out.println(&quot;testing&quot;);\n...\n</code></pre>\n<p>&quot;testing&quot; doesn't show up on the console.</p>\n<p>I'm out of ideas. Where else can I look?</p>\n<p>EDIT:</p>\n<p>Server log:</p>\n<pre><code>17:08:36,521 INFO  [org.jboss.modules] (main) JBoss Modules version 1.6.4.Final-redhat-1\n17:08:36,648 INFO  [org.jboss.msc] (main) JBoss MSC version 1.2.7.SP1-redhat-1\n17:08:36,700 INFO  [org.jboss.as] (MSC service thread 1-8) WFLYSRV0049: JBoss EAP 7.1.3.GA (WildFly Core 3.0.16.Final-redhat-1) starting\n17:08:37,151 INFO  [org.jboss.as.controller.management-deprecated] (Controller Boot Thread) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/core-service=management/management-interface=http-interface' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.\n17:08:37,159 INFO  [org.jboss.as.controller.management-deprecated] (ServerService Thread Pool -- 29) WFLYCTL0028: Attribute 'security-realm' in the resource at address '/subsystem=undertow/server=default-server/https-listener=https' is deprecated, and may be removed in future version. See the attribute description in the output of the read-resource-description operation to learn more about the deprecation.\n17:08:37,160 INFO  [org.wildfly.security] (ServerService Thread Pool -- 5) ELY00001: WildFly Elytron version 1.1.10.Final-redhat-1\n17:08:37,175 INFO  [org.jboss.as.server.deployment.scanner] (DeploymentScanner-threads - 1) WFLYDS0004: Found OfflineInspections.ear in deployment directory. To trigger deployment create a file called OfflineInspections.ear.dodeploy\n17:08:37,187 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0039: Creating http management service using socket-binding (management-http)\n17:08:37,192 INFO  [org.xnio] (MSC service thread 1-3) XNIO version 3.5.5.Final-redhat-1\n17:08:37,195 INFO  [org.xnio.nio] (MSC service thread 1-3) XNIO NIO Implementation Version 3.5.5.Final-redhat-1\n17:08:37,203 INFO  [org.jboss.as.jaxrs] (ServerService Thread Pool -- 47) WFLYRS0016: RESTEasy version 3.0.25.Final-redhat-1\n17:08:37,205 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 45) WFLYCLINF0001: Activating Infinispan subsystem.\n17:08:37,206 INFO  [org.jboss.as.webservices] (ServerService Thread Pool -- 66) WFLYWS0002: Activating WebServices Extension\n17:08:37,207 INFO  [org.jboss.as.naming] (ServerService Thread Pool -- 56) WFLYNAM0001: Activating Naming Subsystem\n17:08:37,208 INFO  [org.jboss.as.jsf] (ServerService Thread Pool -- 52) WFLYJSF0007: Activated the following JSF Implementations: [main]\n17:08:37,208 INFO  [org.jboss.as.security] (ServerService Thread Pool -- 63) WFLYSEC0002: Activating Security Subsystem\n17:08:37,208 INFO  [org.wildfly.iiop.openjdk] (ServerService Thread Pool -- 46) WFLYIIOP0001: Activating IIOP Subsystem\n17:08:37,212 INFO  [org.jboss.as.security] (MSC service thread 1-4) WFLYSEC0001: Current PicketBox version=5.0.3.Final-redhat-1\n17:08:37,221 INFO  [org.jboss.as.connector] (MSC service thread 1-2) WFLYJCA0009: Starting JCA Subsystem (WildFly/IronJacamar 1.4.9.Final-redhat-1)\n17:08:37,227 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 39) WFLYJCA0004: Deploying JDBC-compliant driver class org.h2.Driver (version 1.4)\n17:08:37,230 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-6) WFLYUT0003: Undertow 1.4.18.SP7-redhat-1 starting\n17:08:37,231 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-6) WFLYJCA0018: Started Driver service with driver-name = h2\n17:08:37,232 INFO  [org.jboss.as.naming] (MSC service thread 1-2) WFLYNAM0003: Starting Naming Service\n17:08:37,232 INFO  [org.jboss.as.mail.extension] (MSC service thread 1-2) WFLYMAIL0001: Bound mail session [java:jboss/mail/Default]\n17:08:37,262 INFO  [org.jboss.as.connector.subsystems.datasources] (ServerService Thread Pool -- 39) WFLYJCA0004: Deploying JDBC-compliant driver class com.microsoft.sqlserver.jdbc.SQLServerDriver (version 7.0)\n17:08:37,262 INFO  [org.jboss.as.connector.deployers.jdbc] (MSC service thread 1-1) WFLYJCA0018: Started Driver service with driver-name = sqlserver2008\n17:08:37,270 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 65) WFLYUT0014: Creating file handler for path 'C:\\JBOSS-EAP70/welcome-content' with options [directory-listing: 'false', follow-symlink: 'false', case-sensitive: 'true', safe-symlink-paths: '[]']\n17:08:37,427 INFO  [org.wildfly.extension.io] (ServerService Thread Pool -- 44) WFLYIO001: Worker 'default' has auto-configured to 48 core threads with 384 task threads based on your 24 available processors\n17:08:37,450 INFO  [org.jboss.remoting] (MSC service thread 1-3) JBoss Remoting version 5.0.7.Final-redhat-1\n17:08:37,461 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0012: Started server default-server.\n17:08:37,462 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-5) WFLYUT0018: Host default-host starting\n17:08:37,467 INFO  [org.jboss.as.patching] (MSC service thread 1-6) WFLYPAT0050: JBoss EAP cumulative patch ID is: base, one-off patches include: none\n17:08:37,473 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-2) WFLYUT0006: Undertow AJP listener ajp-default listening on 0.0.0.0:8009\n17:08:37,473 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow HTTP listener default listening on 0.0.0.0:80\n17:08:37,475 INFO  [org.jboss.as.server.deployment.scanner] (MSC service thread 1-2) WFLYDS0013: Started FileSystemDeploymentService for directory C:\\JBOSS-EAP70\\standalone\\deployments\n17:08:37,478 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of &quot;OfflineInspections.ear&quot; (runtime-name: &quot;OfflineInspections.ear&quot;)\n17:08:37,503 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-7) WFLYMSGAMQ0001: AIO wasn't located on this platform, it will fall back to using pure Java NIO.\n17:08:37,520 INFO  [org.jboss.as.ejb3] (MSC service thread 1-3) WFLYEJB0493: EJB subsystem suspension complete\n17:08:37,530 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221000: live Message Broker is starting with configuration Broker Configuration (clustered=false,journalDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\journal,bindingsDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\bindings,largeMessagesDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\largemessages,pagingDirectory=C:\\JBOSS-EAP70\\standalone\\data\\activemq\\paging)\n17:08:37,535 INFO  [org.jboss.as.connector.subsystems.datasources.AbstractDataSourceService$AS7DataSourceDeployer] (MSC service thread 1-7) IJ020018: Enabling &lt;validate-on-match&gt; for java:/OfflineInspCTZDS\n17:08:37,543 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221013: Using NIO Journal\n17:08:37,546 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;OfflineInspections-WebAppMin.war&quot;)\n17:08:37,546 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-3) WFLYSRV0207: Starting subdeployment (runtime-name: &quot;OfflineInspections-EJBApp.jar&quot;)\n17:08:37,547 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-4) WFLYJCA0001: Bound data source [java:jboss/datasources/ExampleDS]\n17:08:37,549 INFO  [org.jboss.as.connector.subsystems.datasources] (MSC service thread 1-7) WFLYJCA0001: Bound data source [java:/OfflineInspCTZDS]\n17:08:37,549 INFO  [org.wildfly.iiop.openjdk] (MSC service thread 1-8) WFLYIIOP0009: CORBA ORB Service started\n17:08:37,567 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221043: Protocol module found: [artemis-server]. Adding protocol support for: CORE\n17:08:37,567 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221043: Protocol module found: [artemis-hornetq-protocol]. Adding protocol support for: HORNETQ\n17:08:37,748 INFO  [org.wildfly.extension.undertow] (MSC service thread 1-7) WFLYUT0006: Undertow HTTPS listener https listening on 0.0.0.0:8443\n17:08:37,779 INFO  [org.jboss.ws.common.management] (MSC service thread 1-7) JBWS022052: Starting JBossWS 5.1.10.Final-redhat-1 (Apache CXF 3.1.13.redhat-1) \n17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-5) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor acceptor\n17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-2) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor-throughput acceptor\n17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-4) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor-throughput acceptor\n17:08:37,826 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-1) WFLYMSGAMQ0016: Registered HTTP upgrade for activemq-remoting protocol handled by http-acceptor acceptor\n17:08:37,856 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-2) WFLYSRV0018: Deployment &quot;deployment.OfflineInspections.ear.OfflineInspections-EJBApp.jar&quot; is using a private module (&quot;org.apache.commons.codec&quot;) which may be changed or removed in future versions without notice.\n17:08:37,857 WARN  [org.jboss.as.dependency.private] (MSC service thread 1-4) WFLYSRV0018: Deployment &quot;deployment.OfflineInspections.ear&quot; is using a private module (&quot;org.apache.commons.codec&quot;) which may be changed or removed in future versions without notice.\n17:08:37,880 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221007: Server is now live\n17:08:37,880 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 68) AMQ221001: Apache ActiveMQ Artemis Message Broker version 1.5.5.012-redhat-1 [default, nodeID=0c3f2876-09ad-11eb-9f33-00155d0cd203] \n17:08:37,882 WARN  [org.apache.activemq.artemis.jms.server] (ServerService Thread Pool -- 68) AMQ122005: Invalid &quot;host&quot; value &quot;0.0.0.0&quot; detected for &quot;http-connector&quot; connector. Switching to &quot;DESKTOP-OQ0COFF&quot;. If this new address is incorrect please manually configure the connector to use the proper one.\n17:08:37,891 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 68) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/exported/jms/RemoteConnectionFactory\n17:08:37,896 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 69) AMQ221003: Deploying queue jms.queue.ExpiryQueue\n17:08:37,899 INFO  [org.apache.activemq.artemis.core.server] (ServerService Thread Pool -- 70) AMQ221003: Deploying queue jms.queue.DLQ\n17:08:37,899 INFO  [org.wildfly.extension.messaging-activemq] (ServerService Thread Pool -- 71) WFLYMSGAMQ0002: Bound messaging object to jndi name java:/ConnectionFactory\n17:08:37,912 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-6) WFLYJCA0007: Registered connection factory java:/JmsXA\n17:08:37,935 INFO  [org.apache.activemq.artemis.ra] (MSC service thread 1-6) Resource adaptor started\n17:08:37,935 INFO  [org.jboss.as.connector.services.resourceadapters.ResourceAdapterActivatorService$ResourceAdapterActivator] (MSC service thread 1-6) IJ020002: Deployed: file://RaActivatoractivemq-ra\n17:08:37,936 INFO  [org.jboss.as.connector.deployment] (MSC service thread 1-2) WFLYJCA0002: Bound JCA ConnectionFactory [java:/JmsXA]\n17:08:37,936 INFO  [org.wildfly.extension.messaging-activemq] (MSC service thread 1-1) WFLYMSGAMQ0002: Bound messaging object to jndi name java:jboss/DefaultJMSConnectionFactory\n17:08:37,940 INFO  [org.infinispan.factories.GlobalComponentRegistry] (MSC service thread 1-5) ISPN000128: Infinispan version: Infinispan 'Chakra' 8.2.11.Final-redhat-1\n17:08:38,044 INFO  [org.jboss.as.clustering.infinispan] (ServerService Thread Pool -- 71) WFLYCLINF0002: Started client-mappings cache from ejb container\n17:08:38,099 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 70) WFLYUT0021: Registered web context: '/OfflineInspections' for server 'default-server'\n17:08:38,103 ERROR [org.jboss.as.controller.management-operation] (Controller Boot Thread) WFLYCTL0013: Operation (&quot;add&quot;) failed - address: ([\n    (&quot;subsystem&quot; =&gt; &quot;undertow&quot;),\n    (&quot;server&quot; =&gt; &quot;default-server&quot;),\n    (&quot;host&quot; =&gt; &quot;default-host&quot;),\n    (&quot;filter-ref&quot; =&gt; &quot;contentsecuritypolicy&quot;)\n]) - failure description: {\n    &quot;WFLYCTL0412: Required services that are not installed:&quot; =&gt; [&quot;jboss.undertow.filter.contentsecuritypolicy&quot;],\n    &quot;WFLYCTL0180: Services with missing/unavailable dependencies&quot; =&gt; [&quot;jboss.undertow.server.default-server.default-host.filter-ref.contentsecuritypolicy is missing [jboss.undertow.filter.contentsecuritypolicy]&quot;]\n}\n17:08:38,106 INFO  [org.jboss.as.server] (ServerService Thread Pool -- 40) WFLYSRV0010: Deployed &quot;OfflineInspections.ear&quot; (runtime-name : &quot;OfflineInspections.ear&quot;)\n17:08:38,107 INFO  [org.jboss.as.controller] (Controller Boot Thread) WFLYCTL0183: Service status report\nWFLYCTL0184:    New missing/unsatisfied dependencies:\n      service jboss.undertow.filter.contentsecuritypolicy (missing) dependents: [service jboss.undertow.server.default-server.default-host.filter-ref.contentsecuritypolicy] \n\n17:08:38,130 INFO  [org.jboss.as.server] (Controller Boot Thread) WFLYSRV0212: Resuming server\n17:08:38,132 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0060: Http management interface listening on http://0.0.0.0:9990/management\n17:08:38,132 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on http://0.0.0.0:9990\n17:08:38,132 ERROR [org.jboss.as] (Controller Boot Thread) WFLYSRV0026: JBoss EAP 7.1.3.GA (WildFly Core 3.0.16.Final-redhat-1) started (with errors) in 1764ms - Started 517 of 747 services (1 services failed or missing dependencies, 380 services are lazy, passive or on-demand)\n</code></pre>\n<p>EDIT 2</p>\n<p>I tried adding a new controller with just a doGet that outputs a single line to the console. I tried a call from the front end and am getting a 404 there are well. Somehow the application isn't recognizing my controllers.</p>\n<p>Could this be an issue with a mapped library or something?</p>\n"},{"tags":["java","spring","spring-mvc","spring-data","springfox"],"comments":[{"owner":{"account_id":1306942,"reputation":4457,"user_id":1255737,"display_name":"rmlan"},"score":0,"creation_date":1477404083,"post_id":40241843,"comment_id":67746089,"body_markdown":"Not positive this is it, but shouldn&#39;t `= ?1` actually be `= :companyId` in your query?","body":"Not positive this is it, but shouldn&#39;t <code>= ?1</code> actually be <code>= :companyId</code> in your query?"},{"owner":{"account_id":3915675,"reputation":484,"user_id":3239534,"display_name":"Rstar37"},"score":0,"creation_date":1654712240,"post_id":40241843,"comment_id":128159462,"body_markdown":"possibly a duplicate of https://stackoverflow.com/questions/70178343/springfox-3-0-0-is-not-working-with-spring-boot-2-6-0","body":"possibly a duplicate of <a href=\"https://stackoverflow.com/questions/70178343/springfox-3-0-0-is-not-working-with-spring-boot-2-6-0\" title=\"springfox 3 0 0 is not working with spring boot 2 6 0\">stackoverflow.com/questions/70178343/&hellip;</a>"},{"owner":{"account_id":7394006,"reputation":5031,"user_id":5626568,"display_name":"ℛɑƒ&#230;Ŀᴿᴹᴿ"},"score":2,"creation_date":1659352937,"post_id":40241843,"comment_id":129266899,"body_markdown":"@EnableWebMvc in main class worked for me: https://stackoverflow.com/a/70703081/5626568","body":"@EnableWebMvc in main class worked for me: <a href=\"https://stackoverflow.com/a/70703081/5626568\">stackoverflow.com/a/70703081/5626568</a>"},{"owner":{"account_id":6460855,"reputation":85,"user_id":5004741,"accept_rate":50,"display_name":"Yashaswi Bhardwaj"},"score":0,"creation_date":1686906646,"post_id":40241843,"comment_id":134865747,"body_markdown":"spring.mvc.pathmatch.matching-strategy=ant_path_matcher worked for me","body":"spring.mvc.pathmatch.matching-strategy=ant_path_matcher worked for me"}],"answers":[{"tags":[],"owner":{"account_id":3592539,"reputation":2396,"user_id":2998222,"display_name":"Issam El-atif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477405023,"creation_date":1477404357,"answer_id":40242202,"question_id":40241843,"body_markdown":"Change your query to \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;from employee as ft where ft.company.id = :companyId&quot;)\r\n    void deleteAllEmployeeCompany(\r\n            @Param(&quot;companyId&quot;) @RequestParam(&quot;companyId&quot;) int companyId);\r\n\r\nOr with SpEL \r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;from employee as ft where ft.company.id = ?#{companyId}&quot;)\r\n    void deleteAllEmployeeCompany(\r\n            @Param(&quot;companyId&quot;) @RequestParam(&quot;companyId&quot;) int companyId);\r\n\r\nCheck this https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Change your query to </p>\n\n<pre><code>@Modifying\n@Transactional\n@Query(\"from employee as ft where ft.company.id = :companyId\")\nvoid deleteAllEmployeeCompany(\n        @Param(\"companyId\") @RequestParam(\"companyId\") int companyId);\n</code></pre>\n\n<p>Or with SpEL </p>\n\n<pre><code>@Modifying\n@Transactional\n@Query(\"from employee as ft where ft.company.id = ?#{companyId}\")\nvoid deleteAllEmployeeCompany(\n        @Param(\"companyId\") @RequestParam(\"companyId\") int companyId);\n</code></pre>\n\n<p>Check this <a href=\"https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions\" rel=\"nofollow\">https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions</a></p>\n"},{"tags":[],"owner":{"account_id":276437,"reputation":1526,"user_id":569864,"accept_rate":95,"display_name":"Abderrazak BOUADMA"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1481115096,"creation_date":1481115096,"answer_id":41017979,"question_id":40241843,"body_markdown":"a work around is to rollback to springfox-swagger2 2.5.0 .","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>a work around is to rollback to springfox-swagger2 2.5.0 .</p>\n"},{"tags":[],"owner":{"account_id":256360,"reputation":33466,"user_id":537031,"accept_rate":97,"display_name":"Igor"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1489081846,"creation_date":1489081846,"answer_id":42702185,"question_id":40241843,"body_markdown":"For me the issue seemed to be attempting to pass in an argument to a controller action (for a controller annotated with `RestController`) that was not getting resolved.\r\n\r\ne.g.\r\n\r\n    @ResponseBody\r\n    @PostMapping(value = &quot;/foo&quot;)\r\n    com.bestbuy.checkout.domain.Order foo(\r\n        Bar justSomeObject\r\n    ) {","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>For me the issue seemed to be attempting to pass in an argument to a controller action (for a controller annotated with <code>RestController</code>) that was not getting resolved.</p>\n\n<p>e.g.</p>\n\n<pre><code>@ResponseBody\n@PostMapping(value = \"/foo\")\ncom.bestbuy.checkout.domain.Order foo(\n    Bar justSomeObject\n) {\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6884068,"reputation":156,"user_id":5289811,"display_name":"gvk"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1569577506,"creation_date":1569577506,"answer_id":58132001,"question_id":40241843,"body_markdown":"I have got the same issue in spring boot version 1.5.3.RELEASE, but could resolve it by adding guava version 20.0.\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;20.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I have got the same issue in spring boot version 1.5.3.RELEASE, but could resolve it by adding guava version 20.0.</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n        &lt;artifactId&gt;guava&lt;/artifactId&gt;\n        &lt;version&gt;20.0&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4479391,"reputation":499,"user_id":3643595,"display_name":"Ankush"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1617702209,"creation_date":1617702209,"answer_id":66966253,"question_id":40241843,"body_markdown":"As per : https://github.com/springfox/springfox/issues/2616 solution, I tried adding exclusion to recently added Lettuce library and it is working fine now. Only springfox guava dependency should be coming. As per this question something like below will work:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.netflix.hystrix&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hystrix-javanica&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.16&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;guava&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>As per : <a href=\"https://github.com/springfox/springfox/issues/2616\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/2616</a> solution, I tried adding exclusion to recently added Lettuce library and it is working fine now. Only springfox guava dependency should be coming. As per this question something like below will work:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.netflix.hystrix&lt;/groupId&gt;\n    &lt;artifactId&gt;hystrix-javanica&lt;/artifactId&gt;\n    &lt;version&gt;1.3.16&lt;/version&gt;\n        &lt;exclusions&gt;\n            &lt;exclusion&gt;\n                &lt;groupId&gt;com.google.guava&lt;/groupId&gt;\n                &lt;artifactId&gt;guava&lt;/artifactId&gt;\n            &lt;/exclusion&gt;\n        &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11959000,"reputation":21,"user_id":8750497,"display_name":"Efqan Mustafayev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1618559440,"creation_date":1618559440,"answer_id":67121180,"question_id":40241843,"body_markdown":"I also had an issue like that in gradle. I solved it by removing all guava dependencies from springfox subdependecies:\r\n\r\n    implementation(&#39;io.springfox:springfox-spi:2.9.2&#39;) {\r\n        exclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\n    }\r\n\r\n    implementation(&#39;io.springfox:springfox-schema:2.9.2&#39;) {\r\n        exclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\n    }\r\n\r\n    implementation(&#39;io.springfox:springfox-spring-web:2.9.2&#39;) {\r\n        exclude group: &#39;com.google.guava&#39;, module: &#39;guava&#39;\r\n    }\r\n\r\nand implemented guava separately:\r\n\r\n    implementation(&#39;com.google.guava:guava:28.1-jre&#39;)\r\n\r\nMy spring-boot version:\r\n\r\n&gt; 2.5.0-SNAPSHOT","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I also had an issue like that in gradle. I solved it by removing all guava dependencies from springfox subdependecies:</p>\n<pre><code>implementation('io.springfox:springfox-spi:2.9.2') {\n    exclude group: 'com.google.guava', module: 'guava'\n}\n\nimplementation('io.springfox:springfox-schema:2.9.2') {\n    exclude group: 'com.google.guava', module: 'guava'\n}\n\nimplementation('io.springfox:springfox-spring-web:2.9.2') {\n    exclude group: 'com.google.guava', module: 'guava'\n}\n</code></pre>\n<p>and implemented guava separately:</p>\n<pre><code>implementation('com.google.guava:guava:28.1-jre')\n</code></pre>\n<p>My spring-boot version:</p>\n<blockquote>\n<p>2.5.0-SNAPSHOT</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15345556,"reputation":1363,"user_id":13541620,"display_name":"Affes Salem"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1638016689,"creation_date":1638016689,"answer_id":70134860,"question_id":40241843,"body_markdown":"I got same issue using **springfox-swagger2** and **springfox-swagger-ui** \r\nSwitching back spring boot version from **2.6.0** to **2.5.2** Solved my issue.\r\n\r\n&gt;I know rolling back to older versions is not the best way to fix issues but helped me for now.","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I got same issue using <strong>springfox-swagger2</strong> and <strong>springfox-swagger-ui</strong>\nSwitching back spring boot version from <strong>2.6.0</strong> to <strong>2.5.2</strong> Solved my issue.</p>\n<blockquote>\n<p>I know rolling back to older versions is not the best way to fix issues but helped me for now.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1638765978,"creation_date":1638765978,"answer_id":70240986,"question_id":40241843,"body_markdown":"Reducing the version of my project helped me. \r\nInitially, I was using spring 2.6.0 but I moved to 2.5.2 and it solves the issue.","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Reducing the version of my project helped me.\nInitially, I was using spring 2.6.0 but I moved to 2.5.2 and it solves the issue.</p>\n"},{"tags":[],"owner":{"account_id":21547969,"reputation":61,"user_id":15884525,"display_name":"Liang Zong"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1638847044,"creation_date":1638847044,"answer_id":70254543,"question_id":40241843,"body_markdown":"i got similar issue and it was solved after follow https://stackoverflow.com/questions/70036953/springboot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboot/70037507#70037507 \r\n\r\ni was using spring 2.6.1 and springfox-swagger2 2.9.2.\r\n&quot;setting spring.mvc.pathmatch.matching-strategy to ant-path-matcher in your application.properties file&quot;\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>i got similar issue and it was solved after follow <a href=\"https://stackoverflow.com/questions/70036953/springboot-2-6-0-spring-fox-3-failed-to-start-bean-documentationpluginsboot/70037507#70037507\">Springboot 2.6.0 / Spring fox 3 - Failed to start bean &#39;documentationPluginsBootstrapper&#39;</a></p>\n<p>i was using spring 2.6.1 and springfox-swagger2 2.9.2.\n&quot;setting spring.mvc.pathmatch.matching-strategy to ant-path-matcher in your application.properties file&quot;</p>\n"},{"tags":[],"owner":{"account_id":9478939,"reputation":385,"user_id":7047517,"display_name":"Kailas010"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1640616769,"creation_date":1640616333,"answer_id":70496954,"question_id":40241843,"body_markdown":"With Spring-Boot 2.6.0 and SpringFox 3.0.0 issue is pathmatcher, you can set pathmach with below property and this issue will be resolved \r\n\r\n      spring:\r\n            mvc:\r\n              pathmatch:\r\n                    matching-strategy: ant_path_matcher","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>With Spring-Boot 2.6.0 and SpringFox 3.0.0 issue is pathmatcher, you can set pathmach with below property and this issue will be resolved</p>\n<pre><code>  spring:\n        mvc:\n          pathmatch:\n                matching-strategy: ant_path_matcher\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23760158,"reputation":21,"user_id":17775688,"display_name":"SURYA NARAYAN BISOYI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1640632279,"creation_date":1640632279,"answer_id":70499498,"question_id":40241843,"body_markdown":"With Spring-Boot 2.6.2 issue is pathmatcher, you can set pathmach with below property in application.properties file and this issue will be resolved\r\n\r\n&quot;spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER&quot;\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>With Spring-Boot 2.6.2 issue is pathmatcher, you can set pathmach with below property in application.properties file and this issue will be resolved</p>\n<p>&quot;spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER&quot;</p>\n"},{"tags":[],"owner":{"account_id":23763533,"reputation":2291,"user_id":17778576,"display_name":"Santh"},"down_vote_count":0,"up_vote_count":223,"is_accepted":false,"score":223,"last_activity_date":1640672080,"creation_date":1640672080,"answer_id":70503395,"question_id":40241843,"body_markdown":"I got same issue using springfox-swagger2 and springfox-swagger-ui version(3.0.0), spring-boot version(2.6.2)\r\n\r\nThe way to resolve this issue is by adding pathmatcher in application. properties or application.yml\r\n\r\nfor application.properties:\r\n---------------------------\r\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\nfor application.yml:\r\n--------------------\r\n\r\n    spring:\r\n        mvc:\r\n          pathmatch:\r\n                matching-strategy: ant_path_matcher\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I got same issue using springfox-swagger2 and springfox-swagger-ui version(3.0.0), spring-boot version(2.6.2)</p>\n<p>The way to resolve this issue is by adding pathmatcher in application. properties or application.yml</p>\n<h2>for application.properties:</h2>\n<p>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER</p>\n<h2>for application.yml:</h2>\n<pre><code>spring:\n    mvc:\n      pathmatch:\n            matching-strategy: ant_path_matcher\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8523114,"reputation":546,"user_id":6389283,"accept_rate":69,"display_name":"Jestino Sam"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1641496367,"creation_date":1641484645,"answer_id":70609881,"question_id":40241843,"body_markdown":"As per official [doc][1], adding below property in yaml resolved the issue for me.\r\n\r\n    springfox:\r\n      documentation:\r\n        auto-startup: false\r\n\r\n  [1]: https://springfox.github.io/springfox/docs/snapshot/#configuring-startup","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>As per official <a href=\"https://springfox.github.io/springfox/docs/snapshot/#configuring-startup\" rel=\"noreferrer\">doc</a>, adding below property in yaml resolved the issue for me.</p>\n<pre><code>springfox:\n  documentation:\n    auto-startup: false\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17099853,"reputation":51,"user_id":12374039,"display_name":"vamshi vishnu"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1641501087,"creation_date":1641501087,"answer_id":70613291,"question_id":40241843,"body_markdown":" removing old swagger dependencies and config classes.\r\n using new springdoc dependency will help \r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.4&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>removing old swagger dependencies and config classes.\nusing new springdoc dependency will help</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.4&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8860450,"reputation":199,"user_id":6616810,"display_name":"Himanshu Gupta"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1642085906,"creation_date":1642085906,"answer_id":70698669,"question_id":40241843,"body_markdown":"Downgrading the Springboot version from 2.6.0 to 2.5.4 solves the issue, provided the below swagger version\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Downgrading the Springboot version from 2.6.0 to 2.5.4 solves the issue, provided the below swagger version</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.9.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10843746,"reputation":6105,"user_id":7974082,"display_name":"Michał Stochmal"},"down_vote_count":0,"up_vote_count":67,"is_accepted":false,"score":67,"last_activity_date":1654470264,"creation_date":1642759387,"answer_id":70799519,"question_id":40241843,"body_markdown":"This issue is caused by `Spring Fox 3.0.0` not supporting new [PathPattern Based Path Matching Strategy for Spring MVC][1] which is now the new default from `spring-boot 2.6.0`.\r\n\r\nThere are actually some workarounds for this issue like:\r\n1. Downgrading `spring-boot` back to version lower than 2.6.0. **I wouldn&#39;t recommend that due to major security issues with older versions of spring boot / spring framework (like log4shell or CVE-2022-22965 for example.)**\r\n2. Changing PathPattern matching back to AntPatternMatching in yml, like mentioned by [@santhanam][2].\r\n3. `SpringFox` hasn&#39;t been updated for a year or so, so I would prefer remove it completely from a project and replace it with maintained [springdoc-openapi][3] library. There is a section in `springdoc` documentation about migration from `SpringFox` and it&#39;s actually very straightforward to perform. And you&#39;ll get rid of issues caused by SpringFox completely.\r\n\r\n  [1]: https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#pathpattern-based-path-matching-strategy-for-spring-mvc\r\n  [2]: https://stackoverflow.com/a/70503395/7974082\r\n  [3]: https://springdoc.org/#migrating-from-springfox","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>This issue is caused by <code>Spring Fox 3.0.0</code> not supporting new <a href=\"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.6-Release-Notes#pathpattern-based-path-matching-strategy-for-spring-mvc\" rel=\"noreferrer\">PathPattern Based Path Matching Strategy for Spring MVC</a> which is now the new default from <code>spring-boot 2.6.0</code>.</p>\n<p>There are actually some workarounds for this issue like:</p>\n<ol>\n<li>Downgrading <code>spring-boot</code> back to version lower than 2.6.0. <strong>I wouldn't recommend that due to major security issues with older versions of spring boot / spring framework (like log4shell or CVE-2022-22965 for example.)</strong></li>\n<li>Changing PathPattern matching back to AntPatternMatching in yml, like mentioned by <a href=\"https://stackoverflow.com/a/70503395/7974082\">@santhanam</a>.</li>\n<li><code>SpringFox</code> hasn't been updated for a year or so, so I would prefer remove it completely from a project and replace it with maintained <a href=\"https://springdoc.org/#migrating-from-springfox\" rel=\"noreferrer\">springdoc-openapi</a> library. There is a section in <code>springdoc</code> documentation about migration from <code>SpringFox</code> and it's actually very straightforward to perform. And you'll get rid of issues caused by SpringFox completely.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":15837305,"reputation":107,"user_id":11443732,"display_name":"Jester Shoeman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1643379632,"creation_date":1643379632,"answer_id":70895244,"question_id":40241843,"body_markdown":"I added @EnableWebMvc as decorator to my SwaggerConfig, which solved to problem.\r\n\r\n    @EnableWebMvc\r\n    public class SwaggerConfig {}\r\n\r\nVersions: Sprint 2.6.1 and springfox-swagger* 2.9.2","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I added @EnableWebMvc as decorator to my SwaggerConfig, which solved to problem.</p>\n<pre><code>@EnableWebMvc\npublic class SwaggerConfig {}\n</code></pre>\n<p>Versions: Sprint 2.6.1 and springfox-swagger* 2.9.2</p>\n"},{"tags":[],"owner":{"account_id":24129195,"reputation":291,"user_id":18097023,"display_name":"mohammad mohammadian"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1643782785,"creation_date":1643782263,"answer_id":70951174,"question_id":40241843,"body_markdown":"what I found was that spring is using mvcmatchers by default which conflicts with swagger because it uses the antmatchers so we can solve this by \r\n# A \r\nchange spring to use antmatchers with configuring it \r\nin application.properties\r\n```\r\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n```\r\n# B\r\n enabling mvcmatchers in spring creating a config file for swagger to use\r\n1. create a file for configs of swagger in anywhere you want\r\n2. put these annotations \r\n```\r\n@EnableWebMvc\r\n@EnableSwagger2\r\n@Component\r\npublic class SwaggersConfigs {\r\n}\r\n```\r\n# C\r\nenableing mvcmatchers in all spring application with putting\r\n@EnableWebMvc\r\nannotation above the main class of spring boot aplication\r\nlike this\r\n```\r\n\r\n@EnableWebMvc\r\n@EnableSwagger2\r\n@SpringBootApplication\r\npublic class SwaggerDemoApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(SwaggerDemoApplication.class, args);\r\n    }\r\n\r\n}\r\n```\r\n# D\r\nuse older versions metioned in the other comments","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>what I found was that spring is using mvcmatchers by default which conflicts with swagger because it uses the antmatchers so we can solve this by</p>\n<h1>A</h1>\n<p>change spring to use antmatchers with configuring it\nin application.properties</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n<h1>B</h1>\n<p>enabling mvcmatchers in spring creating a config file for swagger to use</p>\n<ol>\n<li>create a file for configs of swagger in anywhere you want</li>\n<li>put these annotations</li>\n</ol>\n<pre><code>@EnableWebMvc\n@EnableSwagger2\n@Component\npublic class SwaggersConfigs {\n}\n</code></pre>\n<h1>C</h1>\n<p>enableing mvcmatchers in all spring application with putting\n@EnableWebMvc\nannotation above the main class of spring boot aplication\nlike this</p>\n<pre><code>\n@EnableWebMvc\n@EnableSwagger2\n@SpringBootApplication\npublic class SwaggerDemoApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SwaggerDemoApplication.class, args);\n    }\n\n}\n</code></pre>\n<h1>D</h1>\n<p>use older versions metioned in the other comments</p>\n"},{"tags":[],"owner":{"account_id":24445518,"reputation":175,"user_id":18368535,"display_name":"Konlan Mikpekoah"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1648809465,"creation_date":1646350083,"answer_id":71344965,"question_id":40241843,"body_markdown":"this works \r\nSpringboot version  2.6.0 and higher  does not support swagger 2 \r\nRemove springfox and swagger 2 dependencies. Add springdoc-openapi-ui dependency instead.\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;1.6.6&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\nadd this to your application.properties file\r\n\r\nspring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\nafter that navigate to \r\nhttp://localhost:8080/swagger-ui/index.html\r\n\r\nThis worked for me ","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>this works\nSpringboot version  2.6.0 and higher  does not support swagger 2\nRemove springfox and swagger 2 dependencies. Add springdoc-openapi-ui dependency instead.</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n        &lt;version&gt;1.6.6&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>add this to your application.properties file</p>\n<p>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER</p>\n<p>after that navigate to\nhttp://localhost:8080/swagger-ui/index.html</p>\n<p>This worked for me</p>\n"},{"tags":[],"owner":{"account_id":21355783,"reputation":13,"user_id":15724742,"display_name":"MikeMopo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1648073517,"creation_date":1648073517,"answer_id":71594681,"question_id":40241843,"body_markdown":"The general reason is that due to the springboot versioning, the default strategy for matching the request path and spring MVC processing mapping has been changed from antpathmatcher to pathpatternparser. This can be resolved by editing the properties.yml and adding\r\n\r\nspring:\r\n  mvc:\r\n    pathmatch:\r\n      matching-strategy: ant_path_matcher","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>The general reason is that due to the springboot versioning, the default strategy for matching the request path and spring MVC processing mapping has been changed from antpathmatcher to pathpatternparser. This can be resolved by editing the properties.yml and adding</p>\n<p>spring:\nmvc:\npathmatch:\nmatching-strategy: ant_path_matcher</p>\n"},{"tags":[],"owner":{"account_id":1324115,"reputation":844,"user_id":1269333,"accept_rate":50,"display_name":"Vlad"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1649083875,"creation_date":1649083875,"answer_id":71739339,"question_id":40241843,"body_markdown":"In addition to setting the `matching-strategy` property, as mentioned by other answers, I also had to add the below bean to overcome this:\r\n\r\n    @Bean\r\n    public WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier, ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier, EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties, WebEndpointProperties webEndpointProperties, Environment environment) {\r\n    \tList&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\r\n    \tCollection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\r\n    \tallEndpoints.addAll(webEndpoints);\r\n    \tallEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\r\n    \tallEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\r\n    \tString basePath = webEndpointProperties.getBasePath();\r\n    \tEndpointMapping endpointMapping = new EndpointMapping(basePath);\r\n    \tboolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment, basePath);\r\n    \treturn new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes, corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath), shouldRegisterLinksMapping, null);\r\n    }\r\n    \r\n    \r\n    private boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment, String basePath) {\r\n        return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath) || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\r\n    }\r\n\r\nSolution found [here][1].\r\n \r\n\r\n\r\n  [1]: https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>In addition to setting the <code>matching-strategy</code> property, as mentioned by other answers, I also had to add the below bean to overcome this:</p>\n<pre><code>@Bean\npublic WebMvcEndpointHandlerMapping webEndpointServletHandlerMapping(WebEndpointsSupplier webEndpointsSupplier, ServletEndpointsSupplier servletEndpointsSupplier, ControllerEndpointsSupplier controllerEndpointsSupplier, EndpointMediaTypes endpointMediaTypes, CorsEndpointProperties corsProperties, WebEndpointProperties webEndpointProperties, Environment environment) {\n    List&lt;ExposableEndpoint&lt;?&gt;&gt; allEndpoints = new ArrayList();\n    Collection&lt;ExposableWebEndpoint&gt; webEndpoints = webEndpointsSupplier.getEndpoints();\n    allEndpoints.addAll(webEndpoints);\n    allEndpoints.addAll(servletEndpointsSupplier.getEndpoints());\n    allEndpoints.addAll(controllerEndpointsSupplier.getEndpoints());\n    String basePath = webEndpointProperties.getBasePath();\n    EndpointMapping endpointMapping = new EndpointMapping(basePath);\n    boolean shouldRegisterLinksMapping = this.shouldRegisterLinksMapping(webEndpointProperties, environment, basePath);\n    return new WebMvcEndpointHandlerMapping(endpointMapping, webEndpoints, endpointMediaTypes, corsProperties.toCorsConfiguration(), new EndpointLinksResolver(allEndpoints, basePath), shouldRegisterLinksMapping, null);\n}\n\n\nprivate boolean shouldRegisterLinksMapping(WebEndpointProperties webEndpointProperties, Environment environment, String basePath) {\n    return webEndpointProperties.getDiscovery().isEnabled() &amp;&amp; (StringUtils.hasText(basePath) || ManagementPortType.get(environment).equals(ManagementPortType.DIFFERENT));\n}\n</code></pre>\n<p>Solution found <a href=\"https://github.com/springfox/springfox/issues/3462#issuecomment-1010721223\" rel=\"noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":7326184,"reputation":420,"user_id":5580515,"display_name":"Mahendra Sri Dayarathna"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1649424070,"creation_date":1649424070,"answer_id":71797783,"question_id":40241843,"body_markdown":"The reason for the error is swagger and spring-boot The version does not match\r\n\r\nRemove All other dependencies and include only below one for swagger\r\n\r\n    &lt;dependency&gt;\r\n       &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n       &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\r\n       &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAdd below Configurations :\r\n\r\nFor application.properties\r\n\r\n    spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\nFor application.yml\r\n\r\n    spring:\r\n        mvc:\r\n          pathmatch:\r\n                matching-strategy: ant_path_matcher\r\n\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>The reason for the error is swagger and spring-boot The version does not match</p>\n<p>Remove All other dependencies and include only below one for swagger</p>\n<pre><code>&lt;dependency&gt;\n   &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n   &lt;artifactId&gt;springfox-boot-starter&lt;/artifactId&gt;\n   &lt;version&gt;3.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Add below Configurations :</p>\n<p>For application.properties</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n<p>For application.yml</p>\n<pre><code>spring:\n    mvc:\n      pathmatch:\n            matching-strategy: ant_path_matcher\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7499984,"reputation":301,"user_id":5698765,"display_name":"Ahmad Jahanbin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1649574515,"creation_date":1649574515,"answer_id":71814476,"question_id":40241843,"body_markdown":"I have a mircoservice environment, and I was adding swagger to all of them. I had the same issue, the solution [@Santhanam][1] worked for all the services except one. The service had `spring-boot-starter-actuator` as a dependency. Problem fixed by removing it.\r\n\r\nIt seems the config `spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER` **does not affect Spring Actuator auto-generated paths**.\r\n\r\nFor those who tried other answers and still have the problem, the solution is to remove Spring Actuator or to configure it in a way to use `ANT_PATH_MATCHER` as matching strategy.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/70503395/5698765","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I have a mircoservice environment, and I was adding swagger to all of them. I had the same issue, the solution <a href=\"https://stackoverflow.com/a/70503395/5698765\">@Santhanam</a> worked for all the services except one. The service had <code>spring-boot-starter-actuator</code> as a dependency. Problem fixed by removing it.</p>\n<p>It seems the config <code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER</code> <strong>does not affect Spring Actuator auto-generated paths</strong>.</p>\n<p>For those who tried other answers and still have the problem, the solution is to remove Spring Actuator or to configure it in a way to use <code>ANT_PATH_MATCHER</code> as matching strategy.</p>\n"},{"tags":[],"owner":{"account_id":25090567,"reputation":101,"user_id":18942247,"display_name":"Vijay Rajendran"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1650907105,"creation_date":1650907105,"answer_id":72003352,"question_id":40241843,"body_markdown":"This solution fixed the issue along with the below property\r\n\r\n**spring.mvc.pathmatch.matching-strategy=ant_path_matcher**\r\n\r\nI&#39;m using spring boot **2.6.6**","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>This solution fixed the issue along with the below property</p>\n<p><strong>spring.mvc.pathmatch.matching-strategy=ant_path_matcher</strong></p>\n<p>I'm using spring boot <strong>2.6.6</strong></p>\n"},{"tags":[],"owner":{"account_id":13679377,"reputation":1,"user_id":9870100,"display_name":"NGUENKO Chimi Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1668493254,"creation_date":1652086847,"answer_id":72169393,"question_id":40241843,"body_markdown":"I solved the issue easily. What we need to know is that Spinifex is no more up to date For more info click on this [link](https://springdoc.org/migrating-from-springfox.html). Nowadays, you can use spring-doc,  by remplacing spring-fox dependencies with this dependency :  \r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n          &lt;version&gt;1.6.8&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    \r\n    then add also this beans :\r\n    @Bean\r\n        public GroupedOpenApi publicApi() {\r\n            return GroupedOpenApi.builder()\r\n                    .group(&quot;springshop-public&quot;)\r\n                    .pathsToMatch(&quot;/public/**&quot;)\r\n                    .build();\r\n        }\r\n        @Bean\r\n        public GroupedOpenApi adminApi() {\r\n            return GroupedOpenApi.builder()\r\n                    .group(&quot;springshop-admin&quot;)\r\n                    .pathsToMatch(&quot;/**&quot;)\r\n                    .build();\r\n        }\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I solved the issue easily. What we need to know is that Spinifex is no more up to date For more info click on this <a href=\"https://springdoc.org/migrating-from-springfox.html\" rel=\"nofollow noreferrer\">link</a>. Nowadays, you can use spring-doc,  by remplacing spring-fox dependencies with this dependency :</p>\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.6.8&lt;/version&gt;\n&lt;/dependency&gt;\n\nthen add also this beans :\n@Bean\n    public GroupedOpenApi publicApi() {\n        return GroupedOpenApi.builder()\n                .group(&quot;springshop-public&quot;)\n                .pathsToMatch(&quot;/public/**&quot;)\n                .build();\n    }\n    @Bean\n    public GroupedOpenApi adminApi() {\n        return GroupedOpenApi.builder()\n                .group(&quot;springshop-admin&quot;)\n                .pathsToMatch(&quot;/**&quot;)\n                .build();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13782778,"reputation":935,"user_id":9947525,"display_name":"Fazal Haroon"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1685453185,"creation_date":1663494212,"answer_id":73761649,"question_id":40241843,"body_markdown":"Just add this configuration to your application.properties\r\n\r\n    spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\nor if you using yaml file application.yml\r\n\r\n    spring:\r\n    mvc:\r\n      pathmatch:\r\n            matching-strategy: ant_path_matcher\r\n\r\nthen Run your application.\r\n\r\nYou need to edit one part, the base package name. As shown in the screenshot my base package name.\r\n[my package name][1]\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig2 {\r\n        @Bean\r\n        public Docket docket() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .enable(true)\r\n                    .apiInfo(new ApiInfoBuilder()\r\n                            .title(&quot;Swagger Super&quot;)\r\n                            .description(&quot;Swagger Description details&quot;)\r\n                            .version(&quot;1.0&quot;).build())\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;com.example.swagger.controller&quot;))\r\n                    .paths(PathSelectors.any()).build();\r\n        }\r\n    }\r\nOR \r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig2 {\r\n        @Bean\r\n        public Docket docket() {\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .enable(true)\r\n                    .apiInfo(new ApiInfoBuilder()\r\n                            .title(&quot;Swagger Super&quot;)\r\n                            .description(&quot;Swagger Description details&quot;)\r\n                            .version(&quot;1.0&quot;).build())\r\n                    .select()\r\n                    .apis(RequestHandlerSelectors.withClassAnnotation(Api.class))\r\n                    .paths(PathSelectors.any()).build();\r\n        }\r\n    }\r\nAnd the Swagger Dependencies\r\n\r\n             &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.1&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.1&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n\r\nIt&#39;s working fine\r\n\r\nAlso, you can define separately\r\n\r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class Swagger2UiConfiguration {\r\n        @Bean\r\n        public Docket api() {\r\n            return (new Docket(DocumentationType.SWAGGER_2)).apiInfo(this.apiInfo()).select().apis(RequestHandlerSelectors.withMethodAnnotation(ApiOperation.class)).paths(PathSelectors.any()).build();\r\n        }\r\n    \r\n        private ApiInfo apiInfo() {\r\n            return (new ApiInfoBuilder()).title(&quot;Swagger API&quot;).version(&quot;1.0&quot;).description(&quot;Swagger is Awesome&quot;).build();\r\n        }\r\n    }\r\n\r\n  [1]: https://i.stack.imgur.com/RvLEJ.png\r\n\r\n\r\n\r\n**Note:** SNAPSHOT, M1, M2, M3, and M4 releases typically WORK IN PROGRESS. The Spring team is still working on them, Recommend NOT using them.\r\n\r\n**Note:** If want to implement springdoc-openAPI for the new version **spring-boot 3** then use the below-following dependency. That specific version would be working with **spring boot 3**\r\n\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nI hope this helps! Let me know if you have any questions or if there&#39;s anything else I can assist you with.\r\n\r\nHappy coding! &#128104;‍&#128187;\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Just add this configuration to your application.properties</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n<p>or if you using yaml file application.yml</p>\n<pre><code>spring:\nmvc:\n  pathmatch:\n        matching-strategy: ant_path_matcher\n</code></pre>\n<p>then Run your application.</p>\n<p>You need to edit one part, the base package name. As shown in the screenshot my base package name.\n<a href=\"https://i.stack.imgur.com/RvLEJ.png\" rel=\"nofollow noreferrer\">my package name</a></p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig2 {\n    @Bean\n    public Docket docket() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .enable(true)\n                .apiInfo(new ApiInfoBuilder()\n                        .title(&quot;Swagger Super&quot;)\n                        .description(&quot;Swagger Description details&quot;)\n                        .version(&quot;1.0&quot;).build())\n                .select()\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.example.swagger.controller&quot;))\n                .paths(PathSelectors.any()).build();\n    }\n}\n</code></pre>\n<p>OR</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class SwaggerConfig2 {\n    @Bean\n    public Docket docket() {\n        return new Docket(DocumentationType.SWAGGER_2)\n                .enable(true)\n                .apiInfo(new ApiInfoBuilder()\n                        .title(&quot;Swagger Super&quot;)\n                        .description(&quot;Swagger Description details&quot;)\n                        .version(&quot;1.0&quot;).build())\n                .select()\n                .apis(RequestHandlerSelectors.withClassAnnotation(Api.class))\n                .paths(PathSelectors.any()).build();\n    }\n}\n</code></pre>\n<p>And the Swagger Dependencies</p>\n<pre><code>         &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.6.1&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>It's working fine</p>\n<p>Also, you can define separately</p>\n<pre><code>@Configuration\n@EnableSwagger2\npublic class Swagger2UiConfiguration {\n    @Bean\n    public Docket api() {\n        return (new Docket(DocumentationType.SWAGGER_2)).apiInfo(this.apiInfo()).select().apis(RequestHandlerSelectors.withMethodAnnotation(ApiOperation.class)).paths(PathSelectors.any()).build();\n    }\n\n    private ApiInfo apiInfo() {\n        return (new ApiInfoBuilder()).title(&quot;Swagger API&quot;).version(&quot;1.0&quot;).description(&quot;Swagger is Awesome&quot;).build();\n    }\n}\n</code></pre>\n<p><strong>Note:</strong> SNAPSHOT, M1, M2, M3, and M4 releases typically WORK IN PROGRESS. The Spring team is still working on them, Recommend NOT using them.</p>\n<p><strong>Note:</strong> If want to implement springdoc-openAPI for the new version <strong>spring-boot 3</strong> then use the below-following dependency. That specific version would be working with <strong>spring boot 3</strong></p>\n<pre><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.0.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I hope this helps! Let me know if you have any questions or if there's anything else I can assist you with.</p>\n<p>Happy coding! 👨‍💻</p>\n"},{"tags":[],"owner":{"account_id":8065471,"reputation":1181,"user_id":6079771,"display_name":"moolsbytheway"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1664660846,"creation_date":1664660846,"answer_id":73921967,"question_id":40241843,"body_markdown":"If you are using spring boot 2.6 and trying to use springfox-swagger you will have a hard time.\r\n\r\n\r\nIf you are trying to have swagger documentation just use this dependency\r\n\r\n    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.4&#39;\r\n\r\nit will generate the doc for you that you can access using `/v3/api-docs` and the swagger-ui is accessible using `/swagger-ui/index.html`\r\n\r\n\r\nHope this helps someone.\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>If you are using spring boot 2.6 and trying to use springfox-swagger you will have a hard time.</p>\n<p>If you are trying to have swagger documentation just use this dependency</p>\n<pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.4'\n</code></pre>\n<p>it will generate the doc for you that you can access using <code>/v3/api-docs</code> and the swagger-ui is accessible using <code>/swagger-ui/index.html</code></p>\n<p>Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":26981418,"reputation":11,"user_id":20545708,"display_name":"Ashish Muley"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1669275401,"creation_date":1668841297,"answer_id":74498133,"question_id":40241843,"body_markdown":"change spring to use antmatchers with configuring it in application.properties in your spring boot project.\r\n\r\n    spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>change spring to use antmatchers with configuring it in application.properties in your spring boot project.</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8499563,"reputation":156,"user_id":6373062,"display_name":"Semih Erkaraca"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1672041814,"creation_date":1672041814,"answer_id":74918350,"question_id":40241843,"body_markdown":"I am using 2.7.6 version of spring boot and I was getting the same error. So I found the solution and check this; [Failed to start bean ‘documentationPluginsBootstrapper’ – use springdoc-openapi-ui][1]\r\n\r\n\r\n  [1]: https://webfuse.in/blogs/issues-troubleshooting/org-springframework-context-applicationcontextexception-failed-to-start-bean-documentationpluginsbootstrapper-nested-exception-is-java-lang-nullpointerexception/\r\n\r\n\r\nI added openapi dependency to my pom.xml file: \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;1.6.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nAlso added matching-strategy to my application.preperties or application.yml file;  \r\n\r\n    spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I am using 2.7.6 version of spring boot and I was getting the same error. So I found the solution and check this; <a href=\"https://webfuse.in/blogs/issues-troubleshooting/org-springframework-context-applicationcontextexception-failed-to-start-bean-documentationpluginsbootstrapper-nested-exception-is-java-lang-nullpointerexception/\" rel=\"nofollow noreferrer\">Failed to start bean ‘documentationPluginsBootstrapper’ – use springdoc-openapi-ui</a></p>\n<p>I added openapi dependency to my pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n    &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n    &lt;version&gt;1.6.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Also added matching-strategy to my application.preperties or application.yml file;</p>\n<pre><code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15289376,"reputation":13,"user_id":11031372,"display_name":"Fabian Velez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676407042,"creation_date":1676407042,"answer_id":75453043,"question_id":40241843,"body_markdown":"I resolve this issue in Spring Boot 2.1.6.RELEASE and Spring Fox 3.0.0 just adding this dependency:\r\n\r\n    &lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n\t&lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I resolve this issue in Spring Boot 2.1.6.RELEASE and Spring Fox 3.0.0 just adding this dependency:</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28033290,"reputation":1,"user_id":21412121,"display_name":"Debo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1678974086,"creation_date":1678974086,"answer_id":75757098,"question_id":40241843,"body_markdown":"For me the issue was with the spring actuator and I have upgraded my spring version to 2.7.1\r\nRemoving the spring actuator helped.","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>For me the issue was with the spring actuator and I have upgraded my spring version to 2.7.1\nRemoving the spring actuator helped.</p>\n"},{"tags":[],"owner":{"account_id":6164499,"reputation":475,"user_id":4805256,"display_name":"arjun kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683005588,"creation_date":1683005588,"answer_id":76151968,"question_id":40241843,"body_markdown":"Mine was fixed by below, during upgrade to 2.7 we have added docs profile in Application properties file and was enforcing springfox runtime.\r\nRemoving docs profile helped.\r\nHowever if you wanted to use swagger docs using 2.7 feature then try using openapi lib.","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Mine was fixed by below, during upgrade to 2.7 we have added docs profile in Application properties file and was enforcing springfox runtime.\nRemoving docs profile helped.\nHowever if you wanted to use swagger docs using 2.7 feature then try using openapi lib.</p>\n"},{"tags":[],"owner":{"account_id":21683420,"reputation":23,"user_id":15999204,"display_name":"Rawan AlKhalawi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683719397,"creation_date":1683719397,"answer_id":76218038,"question_id":40241843,"body_markdown":"    implementation &#39;org.springdoc:springdoc-openapi-ui:1.6.15&#39;\r\n\timplementation &#39;io.springfox:springfox-swagger2:3.0.0&#39;\r\n\timplementation &#39;io.springfox:springfox-swagger-ui:3.0.0&#39;\r\n\r\nhttps://localhost:8080/swagger-ui/index.html","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<pre><code>implementation 'org.springdoc:springdoc-openapi-ui:1.6.15'\nimplementation 'io.springfox:springfox-swagger2:3.0.0'\nimplementation 'io.springfox:springfox-swagger-ui:3.0.0'\n</code></pre>\n<p>https://localhost:8080/swagger-ui/index.html</p>\n"},{"tags":[],"owner":{"account_id":23334750,"reputation":61,"user_id":17410605,"display_name":"Nati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689171954,"creation_date":1689171954,"answer_id":76671643,"question_id":40241843,"body_markdown":"Setting the `spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER` in the `application.properties` will hide just hide the javanull error which results in the White label error page. &lt;br/&gt;\r\nUse the following solution mentioned in the link &lt;br/&gt;\r\nhttps://stackoverflow.com/a/76671291/17410605\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>Setting the <code>spring.mvc.pathmatch.matching-strategy = ANT_PATH_MATCHER</code> in the <code>application.properties</code> will hide just hide the javanull error which results in the White label error page. <br/>\nUse the following solution mentioned in the link <br/>\n<a href=\"https://stackoverflow.com/a/76671291/17410605\">https://stackoverflow.com/a/76671291/17410605</a></p>\n"},{"tags":[],"owner":{"account_id":11418021,"reputation":4780,"user_id":8370334,"display_name":"Abd Abughazaleh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697155315,"creation_date":1697155315,"answer_id":77284426,"question_id":40241843,"body_markdown":"# Latest update wokring with me \r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n            &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<h1>Latest update wokring with me</h1>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n        &lt;artifactId&gt;springdoc-openapi-starter-webmvc-ui&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1469313,"reputation":5983,"user_id":1381266,"accept_rate":46,"display_name":"Galet"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":270416,"favorite_count":0,"down_vote_count":0,"up_vote_count":108,"answer_count":35,"score":108,"last_activity_date":1697155315,"creation_date":1477403429,"question_id":40241843,"body_markdown":"I am using spring data rest for my application.\r\n\r\nI am getting following error and application doesn&#39;t get started when I add this method in repository:-\r\n\r\n**Method:-**\r\n\r\n    @Modifying\r\n    @Transactional\r\n    @Query(&quot;from employee as ft where ft.company.id = ?1&quot;)\r\n    void deleteAllEmployeeCompany(\r\n            @Param(&quot;companyId&quot;) @RequestParam(&quot;companyId&quot;) int companyId);\r\n\r\n**Error:-**\r\n\r\n    org.springframework.context.ApplicationContextException: Failed to start bean &#39;documentationPluginsBootstrapper&#39;; nested exception is java.lang.NullPointerException\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:176) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:51) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:346) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:149) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:112) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:874) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\r\n    \tat org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) [spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:371) [spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\r\n\r\n\r\n\r\nHow to solve this ?\r\n\r\n\r\nUpdated:-\r\n\r\nList of all dependencies:-\r\n\r\n    [INFO] com.test:test-service:jar:0.0.1-SNAPSHOT\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework.boot:spring-boot-starter-logging:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |     +- ch.qos.logback:logback-classic:jar:1.1.7:compile\r\n    [INFO] |  |     |  \\- ch.qos.logback:logback-core:jar:1.1.7:compile\r\n    [INFO] |  |     +- org.slf4j:jul-to-slf4j:jar:1.7.21:compile\r\n    [INFO] |  |     \\- org.slf4j:log4j-over-slf4j:jar:1.7.21:compile\r\n    [INFO] |  \\- org.springframework.boot:spring-boot-actuator:jar:1.4.1.RELEASE:compile\r\n    [INFO] |     \\- org.springframework:spring-context:jar:4.3.3.RELEASE:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework:spring-aop:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.5:compile\r\n    [INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.5:compile\r\n    [INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  +- org.hibernate:hibernate-core:jar:5.0.11.Final:compile\r\n    [INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.3.0.Final:compile\r\n    [INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\r\n    [INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\r\n    [INFO] |  |  +- org.jboss:jandex:jar:2.0.0.Final:compile\r\n    [INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\r\n    [INFO] |  |  |  \\- xml-apis:xml-apis:jar:1.4.01:compile\r\n    [INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.1.Final:compile\r\n    [INFO] |  +- org.hibernate:hibernate-entitymanager:jar:5.0.11.Final:compile\r\n    [INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\r\n    [INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.10.3.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.data:spring-data-commons:jar:1.12.3.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-orm:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-tx:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework:spring-beans:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  |  \\- org.slf4j:jcl-over-slf4j:jar:1.7.21:compile\r\n    [INFO] |  \\- org.springframework:spring-aspects:jar:4.3.3.RELEASE:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-data-rest:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.3:compile\r\n    [INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.8.3:compile\r\n    [INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.8.3:compile\r\n    [INFO] |  \\- org.springframework.data:spring-data-rest-webmvc:jar:2.5.3.RELEASE:compile\r\n    [INFO] |     \\- org.springframework.data:spring-data-rest-core:jar:2.5.3.RELEASE:compile\r\n    [INFO] |        \\- org.atteo:evo-inflector:jar:1.2.1:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.5.5:compile\r\n    [INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.5.5:compile\r\n    [INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.5.5:compile\r\n    [INFO] |  +- org.hibernate:hibernate-validator:jar:5.2.4.Final:compile\r\n    [INFO] |  |  \\- javax.validation:validation-api:jar:1.1.0.Final:compile\r\n    [INFO] |  +- org.springframework:spring-web:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-webmvc:jar:4.3.3.RELEASE:compile\r\n    [INFO] |     \\- org.springframework:spring-expression:jar:4.3.3.RELEASE:compile\r\n    [INFO] +- org.springframework.cloud:spring-cloud-starter-eureka:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:4.1.3.RELEASE:compile\r\n    [INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.1.RELEASE:compile\r\n    [INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.47:compile\r\n    [INFO] |  |        \\- org.bouncycastle:bcprov-jdk15on:jar:1.47:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-netflix-core:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  +- com.netflix.eureka:eureka-client:jar:1.4.6:compile\r\n    [INFO] |  |  +- org.codehaus.jettison:jettison:jar:1.3.7:runtime\r\n    [INFO] |  |  |  \\- stax:stax-api:jar:1.0.1:runtime\r\n    [INFO] |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:runtime\r\n    [INFO] |  |  +- com.netflix.archaius:archaius-core:jar:0.7.4:compile\r\n    [INFO] |  |  +- javax.ws.rs:jsr311-api:jar:1.1.1:runtime\r\n    [INFO] |  |  +- com.netflix.servo:servo-core:jar:0.10.1:runtime\r\n    [INFO] |  |  |  \\- com.netflix.servo:servo-internal:jar:0.10.1:runtime\r\n    [INFO] |  |  +- com.sun.jersey:jersey-core:jar:1.19.1:runtime\r\n    [INFO] |  |  +- com.sun.jersey:jersey-client:jar:1.19.1:runtime\r\n    [INFO] |  |  +- com.sun.jersey.contribs:jersey-apache-client4:jar:1.19.1:runtime\r\n    [INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.2:compile\r\n    [INFO] |  |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.5:compile\r\n    [INFO] |  |  |  \\- commons-codec:commons-codec:jar:1.10:compile\r\n    [INFO] |  |  +- com.google.inject:guice:jar:4.0:runtime\r\n    [INFO] |  |  |  +- javax.inject:javax.inject:jar:1:runtime\r\n    [INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:runtime\r\n    [INFO] |  |  \\- com.netflix.governator:governator-api:jar:1.12.10:runtime\r\n    [INFO] |  +- com.netflix.eureka:eureka-core:jar:1.4.6:compile\r\n    [INFO] |  |  +- com.amazonaws:aws-java-sdk-core:jar:1.10.30:runtime\r\n    [INFO] |  |  +- com.amazonaws:aws-java-sdk-ec2:jar:1.10.30:runtime\r\n    [INFO] |  |  +- com.amazonaws:aws-java-sdk-autoscaling:jar:1.9.3:runtime\r\n    [INFO] |  |  +- com.amazonaws:aws-java-sdk-sts:jar:1.9.3:runtime\r\n    [INFO] |  |  +- com.amazonaws:aws-java-sdk-route53:jar:1.9.3:runtime\r\n    [INFO] |  |  +- com.netflix.governator:governator:jar:1.12.10:runtime\r\n    [INFO] |  |  |  +- com.netflix.governator:governator-core:jar:1.12.10:runtime\r\n    [INFO] |  |  |  \\- org.ow2.asm:asm:jar:5.0.4:compile\r\n    [INFO] |  |  \\- org.codehaus.woodstox:woodstox-core-asl:jar:4.4.1:runtime\r\n    [INFO] |  |     +- javax.xml.stream:stax-api:jar:1.0-2:runtime\r\n    [INFO] |  |     \\- org.codehaus.woodstox:stax2-api:jar:3.1.4:runtime\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter-archaius:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  \\- commons-configuration:commons-configuration:jar:1.8:compile\r\n    [INFO] |  |     +- commons-lang:commons-lang:jar:2.6:compile\r\n    [INFO] |  |     \\- commons-logging:commons-logging:jar:1.1.1:compile\r\n    [INFO] |  +- org.springframework.cloud:spring-cloud-starter-ribbon:jar:1.1.0.RELEASE:compile\r\n    [INFO] |  |  +- com.netflix.ribbon:ribbon:jar:2.1.5:compile\r\n    [INFO] |  |  |  +- com.netflix.ribbon:ribbon-transport:jar:2.1.5:runtime\r\n    [INFO] |  |  |  |  +- io.reactivex:rxnetty-contexts:jar:0.4.9:runtime\r\n    [INFO] |  |  |  |  \\- io.reactivex:rxnetty-servo:jar:0.4.9:runtime\r\n    [INFO] |  |  |  \\- io.reactivex:rxnetty:jar:0.4.9:runtime\r\n    [INFO] |  |  |     +- io.netty:netty-codec-http:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |     |  +- io.netty:netty-codec:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |     |  \\- io.netty:netty-handler:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |     \\- io.netty:netty-transport-native-epoll:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |        +- io.netty:netty-common:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |        +- io.netty:netty-buffer:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  |        \\- io.netty:netty-transport:jar:4.0.27.Final:runtime\r\n    [INFO] |  |  +- com.netflix.ribbon:ribbon-core:jar:2.1.5:compile\r\n    [INFO] |  |  +- com.netflix.ribbon:ribbon-httpclient:jar:2.1.5:compile\r\n    [INFO] |  |  |  \\- com.netflix.netflix-commons:netflix-commons-util:jar:0.1.1:runtime\r\n    [INFO] |  |  +- com.netflix.ribbon:ribbon-loadbalancer:jar:2.1.5:compile\r\n    [INFO] |  |  |  \\- com.netflix.netflix-commons:netflix-statistics:jar:0.1.1:runtime\r\n    [INFO] |  |  \\- io.reactivex:rxjava:jar:1.1.5:compile\r\n    [INFO] |  +- com.netflix.ribbon:ribbon-eureka:jar:2.1.5:compile\r\n    [INFO] |  \\- com.thoughtworks.xstream:xstream:jar:1.4.2:compile\r\n    [INFO] |     +- xmlpull:xmlpull:jar:1.1.3.1:compile\r\n    [INFO] |     \\- xpp3:xpp3_min:jar:1.1.4c:compile\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-amqp:jar:1.4.1.RELEASE:compile\r\n    [INFO] |  +- org.springframework:spring-messaging:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  \\- org.springframework.amqp:spring-rabbit:jar:1.6.2.RELEASE:compile\r\n    [INFO] |     +- com.rabbitmq:amqp-client:jar:3.6.3:compile\r\n    [INFO] |     +- org.springframework.retry:spring-retry:jar:1.1.4.RELEASE:compile\r\n    [INFO] |     +- com.rabbitmq:http-client:jar:1.0.0.RELEASE:compile\r\n    [INFO] |     \\- org.springframework.amqp:spring-amqp:jar:1.6.2.RELEASE:compile\r\n    [INFO] +- com.netflix.hystrix:hystrix-javanica:jar:1.3.16:compile\r\n    [INFO] |  +- commons-collections:commons-collections:jar:3.2.2:compile\r\n    [INFO] |  +- org.aspectj:aspectjweaver:jar:1.8.9:compile\r\n    [INFO] |  +- com.google.guava:guava:jar:18.0:compile\r\n    [INFO] |  +- com.netflix.hystrix:hystrix-core:jar:1.5.2:compile\r\n    [INFO] |  |  \\- org.hdrhistogram:HdrHistogram:jar:2.1.7:compile\r\n    [INFO] |  \\- org.apache.commons:commons-lang3:jar:3.1:compile\r\n    [INFO] +- com.netflix.hystrix:hystrix-metrics-event-stream:jar:1.3.16:compile\r\n    [INFO] |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.2:compile\r\n    [INFO] +- io.springfox:springfox-swagger2:jar:2.6.0:compile\r\n    [INFO] |  +- io.swagger:swagger-annotations:jar:1.5.10:compile\r\n    [INFO] |  +- io.swagger:swagger-models:jar:1.5.10:compile\r\n    [INFO] |  +- io.springfox:springfox-spi:jar:2.6.0:compile\r\n    [INFO] |  |  \\- io.springfox:springfox-core:jar:2.6.0:compile\r\n    [INFO] |  +- io.springfox:springfox-schema:jar:2.6.0:compile\r\n    [INFO] |  +- io.springfox:springfox-swagger-common:jar:2.6.0:compile\r\n    [INFO] |  +- io.springfox:springfox-spring-web:jar:2.6.0:compile\r\n    [INFO] |  +- com.fasterxml:classmate:jar:1.3.1:compile\r\n    [INFO] |  +- org.slf4j:slf4j-api:jar:1.7.21:compile\r\n    [INFO] |  +- org.springframework.plugin:spring-plugin-core:jar:1.2.0.RELEASE:compile\r\n    [INFO] |  +- org.springframework.plugin:spring-plugin-metadata:jar:1.2.0.RELEASE:compile\r\n    [INFO] |  \\- org.mapstruct:mapstruct:jar:1.0.0.Final:compile\r\n    [INFO] +- io.springfox:springfox-swagger-ui:jar:2.6.0:compile\r\n    [INFO] +- io.springfox:springfox-data-rest:jar:2.6.0:compile\r\n    [INFO] |  \\- org.springframework.hateoas:spring-hateoas:jar:0.20.0.RELEASE:compile\r\n    [INFO] +- org.liquibase:liquibase-core:jar:3.5.1:compile\r\n    [INFO] |  \\- org.yaml:snakeyaml:jar:1.17:compile\r\n    [INFO] +- mysql:mysql-connector-java:jar:5.1.34:runtime\r\n    [INFO] +- org.springframework.boot:spring-boot-starter-test:jar:1.4.1.RELEASE:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test:jar:1.4.1.RELEASE:test\r\n    [INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:1.4.1.RELEASE:test\r\n    [INFO] |  +- junit:junit:jar:4.12:test\r\n    [INFO] |  +- org.assertj:assertj-core:jar:2.5.0:test\r\n    [INFO] |  +- org.mockito:mockito-core:jar:1.10.19:test\r\n    [INFO] |  |  \\- org.objenesis:objenesis:jar:2.1:test\r\n    [INFO] |  +- org.hamcrest:hamcrest-core:jar:1.3:test\r\n    [INFO] |  +- org.hamcrest:hamcrest-library:jar:1.3:test\r\n    [INFO] |  +- org.skyscreamer:jsonassert:jar:1.3.0:test\r\n    [INFO] |  |  \\- org.json:json:jar:20140107:test\r\n    [INFO] |  +- org.springframework:spring-core:jar:4.3.3.RELEASE:compile\r\n    [INFO] |  \\- org.springframework:spring-test:jar:4.3.3.RELEASE:test\r\n    [INFO] +- com.jayway.jsonpath:json-path:jar:2.2.0:compile\r\n    [INFO] |  \\- net.minidev:json-smart:jar:2.2.1:compile\r\n    [INFO] |     \\- net.minidev:accessors-smart:jar:1.1:compile\r\n    [INFO] \\- org.reflections:reflections:jar:0.9.10:compile\r\n    [INFO]    +- org.javassist:javassist:jar:3.20.0-GA:compile\r\n    [INFO]    \\- com.google.code.findbugs:annotations:jar:2.0.1:compile\r\n\r\n","title":"Failed to start bean &#39;documentationPluginsBootstrapper&#39; in spring data rest","body":"<p>I am using spring data rest for my application.</p>\n\n<p>I am getting following error and application doesn't get started when I add this method in repository:-</p>\n\n<p><strong>Method:-</strong></p>\n\n<pre><code>@Modifying\n@Transactional\n@Query(\"from employee as ft where ft.company.id = ?1\")\nvoid deleteAllEmployeeCompany(\n        @Param(\"companyId\") @RequestParam(\"companyId\") int companyId);\n</code></pre>\n\n<p><strong>Error:-</strong></p>\n\n<pre><code>org.springframework.context.ApplicationContextException: Failed to start bean 'documentationPluginsBootstrapper'; nested exception is java.lang.NullPointerException\n    at org.springframework.context.support.DefaultLifecycleProcessor.doStart(DefaultLifecycleProcessor.java:176) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.access$200(DefaultLifecycleProcessor.java:51) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.start(DefaultLifecycleProcessor.java:346) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.startBeans(DefaultLifecycleProcessor.java:149) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.context.support.DefaultLifecycleProcessor.onRefresh(DefaultLifecycleProcessor.java:112) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:874) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.finishRefresh(EmbeddedWebApplicationContext.java:144) ~[spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:544) ~[spring-context-4.3.3.RELEASE.jar!/:4.3.3.RELEASE]\n    at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122) ~[spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:761) [spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:371) [spring-boot-1.4.1.RELEASE.jar!/:1.4.1.RELEASE]\n</code></pre>\n\n<p>How to solve this ?</p>\n\n<p>Updated:-</p>\n\n<p>List of all dependencies:-</p>\n\n<pre><code>[INFO] com.test:test-service:jar:0.0.1-SNAPSHOT\n[INFO] +- org.springframework.boot:spring-boot-starter-actuator:jar:1.4.1.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter:jar:1.4.1.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot:jar:1.4.1.RELEASE:compile\n[INFO] |  |  +- org.springframework.boot:spring-boot-autoconfigure:jar:1.4.1.RELEASE:compile\n[INFO] |  |  \\- org.springframework.boot:spring-boot-starter-logging:jar:1.4.1.RELEASE:compile\n[INFO] |  |     +- ch.qos.logback:logback-classic:jar:1.1.7:compile\n[INFO] |  |     |  \\- ch.qos.logback:logback-core:jar:1.1.7:compile\n[INFO] |  |     +- org.slf4j:jul-to-slf4j:jar:1.7.21:compile\n[INFO] |  |     \\- org.slf4j:log4j-over-slf4j:jar:1.7.21:compile\n[INFO] |  \\- org.springframework.boot:spring-boot-actuator:jar:1.4.1.RELEASE:compile\n[INFO] |     \\- org.springframework:spring-context:jar:4.3.3.RELEASE:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-jpa:jar:1.4.1.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-aop:jar:1.4.1.RELEASE:compile\n[INFO] |  |  \\- org.springframework:spring-aop:jar:4.3.3.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-jdbc:jar:1.4.1.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat:tomcat-jdbc:jar:8.5.5:compile\n[INFO] |  |  |  \\- org.apache.tomcat:tomcat-juli:jar:8.5.5:compile\n[INFO] |  |  \\- org.springframework:spring-jdbc:jar:4.3.3.RELEASE:compile\n[INFO] |  +- org.hibernate:hibernate-core:jar:5.0.11.Final:compile\n[INFO] |  |  +- org.jboss.logging:jboss-logging:jar:3.3.0.Final:compile\n[INFO] |  |  +- org.hibernate.javax.persistence:hibernate-jpa-2.1-api:jar:1.0.0.Final:compile\n[INFO] |  |  +- antlr:antlr:jar:2.7.7:compile\n[INFO] |  |  +- org.jboss:jandex:jar:2.0.0.Final:compile\n[INFO] |  |  +- dom4j:dom4j:jar:1.6.1:compile\n[INFO] |  |  |  \\- xml-apis:xml-apis:jar:1.4.01:compile\n[INFO] |  |  \\- org.hibernate.common:hibernate-commons-annotations:jar:5.0.1.Final:compile\n[INFO] |  +- org.hibernate:hibernate-entitymanager:jar:5.0.11.Final:compile\n[INFO] |  +- javax.transaction:javax.transaction-api:jar:1.2:compile\n[INFO] |  +- org.springframework.data:spring-data-jpa:jar:1.10.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.data:spring-data-commons:jar:1.12.3.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-orm:jar:4.3.3.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-tx:jar:4.3.3.RELEASE:compile\n[INFO] |  |  +- org.springframework:spring-beans:jar:4.3.3.RELEASE:compile\n[INFO] |  |  \\- org.slf4j:jcl-over-slf4j:jar:1.7.21:compile\n[INFO] |  \\- org.springframework:spring-aspects:jar:4.3.3.RELEASE:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-data-rest:jar:1.4.1.RELEASE:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-annotations:jar:2.8.3:compile\n[INFO] |  +- com.fasterxml.jackson.core:jackson-databind:jar:2.8.3:compile\n[INFO] |  |  \\- com.fasterxml.jackson.core:jackson-core:jar:2.8.3:compile\n[INFO] |  \\- org.springframework.data:spring-data-rest-webmvc:jar:2.5.3.RELEASE:compile\n[INFO] |     \\- org.springframework.data:spring-data-rest-core:jar:2.5.3.RELEASE:compile\n[INFO] |        \\- org.atteo:evo-inflector:jar:1.2.1:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-web:jar:1.4.1.RELEASE:compile\n[INFO] |  +- org.springframework.boot:spring-boot-starter-tomcat:jar:1.4.1.RELEASE:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-core:jar:8.5.5:compile\n[INFO] |  |  +- org.apache.tomcat.embed:tomcat-embed-el:jar:8.5.5:compile\n[INFO] |  |  \\- org.apache.tomcat.embed:tomcat-embed-websocket:jar:8.5.5:compile\n[INFO] |  +- org.hibernate:hibernate-validator:jar:5.2.4.Final:compile\n[INFO] |  |  \\- javax.validation:validation-api:jar:1.1.0.Final:compile\n[INFO] |  +- org.springframework:spring-web:jar:4.3.3.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-webmvc:jar:4.3.3.RELEASE:compile\n[INFO] |     \\- org.springframework:spring-expression:jar:4.3.3.RELEASE:compile\n[INFO] +- org.springframework.cloud:spring-cloud-starter-eureka:jar:1.1.0.RELEASE:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter:jar:1.1.0.RELEASE:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-context:jar:1.1.0.RELEASE:compile\n[INFO] |  |  |  \\- org.springframework.security:spring-security-crypto:jar:4.1.3.RELEASE:compile\n[INFO] |  |  +- org.springframework.cloud:spring-cloud-commons:jar:1.1.0.RELEASE:compile\n[INFO] |  |  \\- org.springframework.security:spring-security-rsa:jar:1.0.1.RELEASE:compile\n[INFO] |  |     \\- org.bouncycastle:bcpkix-jdk15on:jar:1.47:compile\n[INFO] |  |        \\- org.bouncycastle:bcprov-jdk15on:jar:1.47:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-netflix-core:jar:1.1.0.RELEASE:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-netflix-eureka-client:jar:1.1.0.RELEASE:compile\n[INFO] |  +- com.netflix.eureka:eureka-client:jar:1.4.6:compile\n[INFO] |  |  +- org.codehaus.jettison:jettison:jar:1.3.7:runtime\n[INFO] |  |  |  \\- stax:stax-api:jar:1.0.1:runtime\n[INFO] |  |  +- com.netflix.netflix-commons:netflix-eventbus:jar:0.3.0:runtime\n[INFO] |  |  +- com.netflix.archaius:archaius-core:jar:0.7.4:compile\n[INFO] |  |  +- javax.ws.rs:jsr311-api:jar:1.1.1:runtime\n[INFO] |  |  +- com.netflix.servo:servo-core:jar:0.10.1:runtime\n[INFO] |  |  |  \\- com.netflix.servo:servo-internal:jar:0.10.1:runtime\n[INFO] |  |  +- com.sun.jersey:jersey-core:jar:1.19.1:runtime\n[INFO] |  |  +- com.sun.jersey:jersey-client:jar:1.19.1:runtime\n[INFO] |  |  +- com.sun.jersey.contribs:jersey-apache-client4:jar:1.19.1:runtime\n[INFO] |  |  +- org.apache.httpcomponents:httpclient:jar:4.5.2:compile\n[INFO] |  |  |  +- org.apache.httpcomponents:httpcore:jar:4.4.5:compile\n[INFO] |  |  |  \\- commons-codec:commons-codec:jar:1.10:compile\n[INFO] |  |  +- com.google.inject:guice:jar:4.0:runtime\n[INFO] |  |  |  +- javax.inject:javax.inject:jar:1:runtime\n[INFO] |  |  |  \\- aopalliance:aopalliance:jar:1.0:runtime\n[INFO] |  |  \\- com.netflix.governator:governator-api:jar:1.12.10:runtime\n[INFO] |  +- com.netflix.eureka:eureka-core:jar:1.4.6:compile\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-core:jar:1.10.30:runtime\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-ec2:jar:1.10.30:runtime\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-autoscaling:jar:1.9.3:runtime\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-sts:jar:1.9.3:runtime\n[INFO] |  |  +- com.amazonaws:aws-java-sdk-route53:jar:1.9.3:runtime\n[INFO] |  |  +- com.netflix.governator:governator:jar:1.12.10:runtime\n[INFO] |  |  |  +- com.netflix.governator:governator-core:jar:1.12.10:runtime\n[INFO] |  |  |  \\- org.ow2.asm:asm:jar:5.0.4:compile\n[INFO] |  |  \\- org.codehaus.woodstox:woodstox-core-asl:jar:4.4.1:runtime\n[INFO] |  |     +- javax.xml.stream:stax-api:jar:1.0-2:runtime\n[INFO] |  |     \\- org.codehaus.woodstox:stax2-api:jar:3.1.4:runtime\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter-archaius:jar:1.1.0.RELEASE:compile\n[INFO] |  |  \\- commons-configuration:commons-configuration:jar:1.8:compile\n[INFO] |  |     +- commons-lang:commons-lang:jar:2.6:compile\n[INFO] |  |     \\- commons-logging:commons-logging:jar:1.1.1:compile\n[INFO] |  +- org.springframework.cloud:spring-cloud-starter-ribbon:jar:1.1.0.RELEASE:compile\n[INFO] |  |  +- com.netflix.ribbon:ribbon:jar:2.1.5:compile\n[INFO] |  |  |  +- com.netflix.ribbon:ribbon-transport:jar:2.1.5:runtime\n[INFO] |  |  |  |  +- io.reactivex:rxnetty-contexts:jar:0.4.9:runtime\n[INFO] |  |  |  |  \\- io.reactivex:rxnetty-servo:jar:0.4.9:runtime\n[INFO] |  |  |  \\- io.reactivex:rxnetty:jar:0.4.9:runtime\n[INFO] |  |  |     +- io.netty:netty-codec-http:jar:4.0.27.Final:runtime\n[INFO] |  |  |     |  +- io.netty:netty-codec:jar:4.0.27.Final:runtime\n[INFO] |  |  |     |  \\- io.netty:netty-handler:jar:4.0.27.Final:runtime\n[INFO] |  |  |     \\- io.netty:netty-transport-native-epoll:jar:4.0.27.Final:runtime\n[INFO] |  |  |        +- io.netty:netty-common:jar:4.0.27.Final:runtime\n[INFO] |  |  |        +- io.netty:netty-buffer:jar:4.0.27.Final:runtime\n[INFO] |  |  |        \\- io.netty:netty-transport:jar:4.0.27.Final:runtime\n[INFO] |  |  +- com.netflix.ribbon:ribbon-core:jar:2.1.5:compile\n[INFO] |  |  +- com.netflix.ribbon:ribbon-httpclient:jar:2.1.5:compile\n[INFO] |  |  |  \\- com.netflix.netflix-commons:netflix-commons-util:jar:0.1.1:runtime\n[INFO] |  |  +- com.netflix.ribbon:ribbon-loadbalancer:jar:2.1.5:compile\n[INFO] |  |  |  \\- com.netflix.netflix-commons:netflix-statistics:jar:0.1.1:runtime\n[INFO] |  |  \\- io.reactivex:rxjava:jar:1.1.5:compile\n[INFO] |  +- com.netflix.ribbon:ribbon-eureka:jar:2.1.5:compile\n[INFO] |  \\- com.thoughtworks.xstream:xstream:jar:1.4.2:compile\n[INFO] |     +- xmlpull:xmlpull:jar:1.1.3.1:compile\n[INFO] |     \\- xpp3:xpp3_min:jar:1.1.4c:compile\n[INFO] +- org.springframework.boot:spring-boot-starter-amqp:jar:1.4.1.RELEASE:compile\n[INFO] |  +- org.springframework:spring-messaging:jar:4.3.3.RELEASE:compile\n[INFO] |  \\- org.springframework.amqp:spring-rabbit:jar:1.6.2.RELEASE:compile\n[INFO] |     +- com.rabbitmq:amqp-client:jar:3.6.3:compile\n[INFO] |     +- org.springframework.retry:spring-retry:jar:1.1.4.RELEASE:compile\n[INFO] |     +- com.rabbitmq:http-client:jar:1.0.0.RELEASE:compile\n[INFO] |     \\- org.springframework.amqp:spring-amqp:jar:1.6.2.RELEASE:compile\n[INFO] +- com.netflix.hystrix:hystrix-javanica:jar:1.3.16:compile\n[INFO] |  +- commons-collections:commons-collections:jar:3.2.2:compile\n[INFO] |  +- org.aspectj:aspectjweaver:jar:1.8.9:compile\n[INFO] |  +- com.google.guava:guava:jar:18.0:compile\n[INFO] |  +- com.netflix.hystrix:hystrix-core:jar:1.5.2:compile\n[INFO] |  |  \\- org.hdrhistogram:HdrHistogram:jar:2.1.7:compile\n[INFO] |  \\- org.apache.commons:commons-lang3:jar:3.1:compile\n[INFO] +- com.netflix.hystrix:hystrix-metrics-event-stream:jar:1.3.16:compile\n[INFO] |  \\- org.codehaus.jackson:jackson-core-asl:jar:1.9.2:compile\n[INFO] +- io.springfox:springfox-swagger2:jar:2.6.0:compile\n[INFO] |  +- io.swagger:swagger-annotations:jar:1.5.10:compile\n[INFO] |  +- io.swagger:swagger-models:jar:1.5.10:compile\n[INFO] |  +- io.springfox:springfox-spi:jar:2.6.0:compile\n[INFO] |  |  \\- io.springfox:springfox-core:jar:2.6.0:compile\n[INFO] |  +- io.springfox:springfox-schema:jar:2.6.0:compile\n[INFO] |  +- io.springfox:springfox-swagger-common:jar:2.6.0:compile\n[INFO] |  +- io.springfox:springfox-spring-web:jar:2.6.0:compile\n[INFO] |  +- com.fasterxml:classmate:jar:1.3.1:compile\n[INFO] |  +- org.slf4j:slf4j-api:jar:1.7.21:compile\n[INFO] |  +- org.springframework.plugin:spring-plugin-core:jar:1.2.0.RELEASE:compile\n[INFO] |  +- org.springframework.plugin:spring-plugin-metadata:jar:1.2.0.RELEASE:compile\n[INFO] |  \\- org.mapstruct:mapstruct:jar:1.0.0.Final:compile\n[INFO] +- io.springfox:springfox-swagger-ui:jar:2.6.0:compile\n[INFO] +- io.springfox:springfox-data-rest:jar:2.6.0:compile\n[INFO] |  \\- org.springframework.hateoas:spring-hateoas:jar:0.20.0.RELEASE:compile\n[INFO] +- org.liquibase:liquibase-core:jar:3.5.1:compile\n[INFO] |  \\- org.yaml:snakeyaml:jar:1.17:compile\n[INFO] +- mysql:mysql-connector-java:jar:5.1.34:runtime\n[INFO] +- org.springframework.boot:spring-boot-starter-test:jar:1.4.1.RELEASE:test\n[INFO] |  +- org.springframework.boot:spring-boot-test:jar:1.4.1.RELEASE:test\n[INFO] |  +- org.springframework.boot:spring-boot-test-autoconfigure:jar:1.4.1.RELEASE:test\n[INFO] |  +- junit:junit:jar:4.12:test\n[INFO] |  +- org.assertj:assertj-core:jar:2.5.0:test\n[INFO] |  +- org.mockito:mockito-core:jar:1.10.19:test\n[INFO] |  |  \\- org.objenesis:objenesis:jar:2.1:test\n[INFO] |  +- org.hamcrest:hamcrest-core:jar:1.3:test\n[INFO] |  +- org.hamcrest:hamcrest-library:jar:1.3:test\n[INFO] |  +- org.skyscreamer:jsonassert:jar:1.3.0:test\n[INFO] |  |  \\- org.json:json:jar:20140107:test\n[INFO] |  +- org.springframework:spring-core:jar:4.3.3.RELEASE:compile\n[INFO] |  \\- org.springframework:spring-test:jar:4.3.3.RELEASE:test\n[INFO] +- com.jayway.jsonpath:json-path:jar:2.2.0:compile\n[INFO] |  \\- net.minidev:json-smart:jar:2.2.1:compile\n[INFO] |     \\- net.minidev:accessors-smart:jar:1.1:compile\n[INFO] \\- org.reflections:reflections:jar:0.9.10:compile\n[INFO]    +- org.javassist:javassist:jar:3.20.0-GA:compile\n[INFO]    \\- com.google.code.findbugs:annotations:jar:2.0.1:compile\n</code></pre>\n"},{"tags":["java","javafx","accordion","skin"],"answers":[{"tags":[],"owner":{"account_id":2518243,"reputation":203472,"user_id":2189127,"display_name":"James_D"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1697122100,"creation_date":1697119352,"answer_id":77281303,"question_id":77278573,"body_markdown":"This is a bit of a hack, but you can lookup and disable/enable the title in the titled pane. That will not affect the disabled state of the titled pane&#39;s content.\r\n\r\n```\r\n\r\nimport javafx.application.Application;\r\nimport javafx.fxml.FXMLLoader;\r\nimport javafx.geometry.Insets;\r\nimport javafx.geometry.Pos;\r\nimport javafx.scene.Node;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.control.TextField;\r\nimport javafx.scene.control.TitledPane;\r\nimport javafx.scene.layout.VBox;\r\nimport javafx.stage.Stage;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HelloApplication extends Application {\r\n    @Override\r\n    public void start(Stage stage) throws IOException {\r\n        VBox content = new VBox();\r\n        TitledPane titledPane = new TitledPane(&quot;Test&quot;, content);\r\n        titledPane.setExpanded(true);\r\n\r\n        content.setAlignment(Pos.CENTER);\r\n        content.setPadding(new Insets(20));\r\n        TextField textField = new TextField();\r\n        content.getChildren().addAll(new Label(&quot;Enter at least three characters:&quot;),textField);\r\n        textField.textProperty().addListener((obs, oldText, newText) -&gt; updateTitledPaneState(titledPane, newText.length() &gt;= 3));\r\n\r\n        Scene scene = new Scene(titledPane);\r\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n        stage.setScene(scene);\r\n        stage.show();\r\n\r\n        updateTitledPaneState(titledPane, false);\r\n    }\r\n\r\n    private void updateTitledPaneState(TitledPane titledPane, boolean shouldBeCollapsible) {\r\n        Node title = titledPane.lookup(&quot;.title&quot;);\r\n        title.setDisable(! shouldBeCollapsible);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n}\r\n```\r\n\r\nBy default, the title doesn&#39;t know to change its appearance when disabled, so you can add that using an external style sheet:\r\n\r\nstyle.css:\r\n```\r\n.titled-pane &gt; .title:disabled {\r\n    -fx-opacity: 0.4;\r\n}\r\n```","title":"Keep arrow of TitledPane visible, even when set to not collapsible","body":"<p>This is a bit of a hack, but you can lookup and disable/enable the title in the titled pane. That will not affect the disabled state of the titled pane's content.</p>\n<pre><code>\nimport javafx.application.Application;\nimport javafx.fxml.FXMLLoader;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.TitledPane;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\n\npublic class HelloApplication extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        VBox content = new VBox();\n        TitledPane titledPane = new TitledPane(&quot;Test&quot;, content);\n        titledPane.setExpanded(true);\n\n        content.setAlignment(Pos.CENTER);\n        content.setPadding(new Insets(20));\n        TextField textField = new TextField();\n        content.getChildren().addAll(new Label(&quot;Enter at least three characters:&quot;),textField);\n        textField.textProperty().addListener((obs, oldText, newText) -&gt; updateTitledPaneState(titledPane, newText.length() &gt;= 3));\n\n        Scene scene = new Scene(titledPane);\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n        stage.setScene(scene);\n        stage.show();\n\n        updateTitledPaneState(titledPane, false);\n    }\n\n    private void updateTitledPaneState(TitledPane titledPane, boolean shouldBeCollapsible) {\n        Node title = titledPane.lookup(&quot;.title&quot;);\n        title.setDisable(! shouldBeCollapsible);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n}\n</code></pre>\n<p>By default, the title doesn't know to change its appearance when disabled, so you can add that using an external style sheet:</p>\n<p>style.css:</p>\n<pre><code>.titled-pane &gt; .title:disabled {\n    -fx-opacity: 0.4;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697155063,"creation_date":1697155063,"answer_id":77284408,"question_id":77278573,"body_markdown":"+1 for the @James_D answer.\r\n\r\nFor the sake of different approach or alternate solution , using his demo code, I tried the below solution. You can have look at it. \r\n\r\nIn this approach, I created a custom `TitledPane` which has an `invalid` property. Instead of disabling, I blocked the mouse event to not collapse if the `invalid` property is true and set the psuedo state for some custom styling.\r\n\r\nThis may add some extra bit of code, but you can consider it for reusability and custom styling. \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.beans.property.BooleanProperty;\r\n    import javafx.beans.property.SimpleBooleanProperty;\r\n    import javafx.css.PseudoClass;\r\n    import javafx.geometry.Insets;\r\n    import javafx.geometry.Pos;\r\n    import javafx.scene.Node;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.control.Label;\r\n    import javafx.scene.control.TextField;\r\n    import javafx.scene.control.TitledPane;\r\n    import javafx.scene.input.MouseEvent;\r\n    import javafx.scene.layout.VBox;\r\n    import javafx.stage.Stage;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.stream.Stream;\r\n    \r\n    public class TitledPaneValidationDemo extends Application {\r\n        @Override\r\n        public void start(Stage stage) throws IOException {\r\n            VBox content = new VBox(10);\r\n            content.setAlignment(Pos.CENTER);\r\n            content.setPadding(new Insets(20));\r\n    \r\n            CustomTitledPane titledPane = new CustomTitledPane(&quot;Test&quot;, content);\r\n            titledPane.setExpanded(true);\r\n    \r\n            TextField textField1 = new TextField();\r\n            TextField textField2 = new TextField();\r\n            TextField textField3 = new TextField();\r\n            content.getChildren().addAll(new Label(&quot;Enter at least three characters in each box:&quot;), textField1, textField2, textField3);\r\n            Stream.of(textField1, textField2, textField3).forEach(tf -&gt; {\r\n                tf.textProperty().addListener(p -&gt; invalidate(titledPane, textField1, textField2, textField3));\r\n            });\r\n    \r\n            Scene scene = new Scene(titledPane);\r\n            scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\r\n            stage.setScene(scene);\r\n            stage.setTitle(&quot;Titled Pane Demo&quot;);\r\n            stage.show();\r\n            invalidate(titledPane, textField1, textField2, textField3);\r\n        }\r\n    \r\n        private void invalidate(CustomTitledPane titledPane, TextField textField1, TextField textField2, TextField textField3) {\r\n            titledPane.setInvalid(textField1.getText().length() &lt; 3 || textField2.getText().length() &lt; 3 || textField3.getText().length() &lt; 3);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch();\r\n        }\r\n    \r\n        class CustomTitledPane extends TitledPane {\r\n            private BooleanProperty invalid = new SimpleBooleanProperty(false);\r\n    \r\n            private final PseudoClass PSEUDO_CLASS_INVALID = PseudoClass.getPseudoClass(&quot;invalid&quot;);\r\n            private Node title;\r\n    \r\n            public CustomTitledPane(String text, Node node) {\r\n                super(text, node);\r\n                skinProperty().addListener((obs, old, val) -&gt; title = null);\r\n                invalidProperty().addListener((obs, old, val) -&gt; pseudoClassStateChanged(PSEUDO_CLASS_INVALID, val));\r\n            }\r\n    \r\n            @Override\r\n            protected void layoutChildren() {\r\n                super.layoutChildren();\r\n                if (title == null) {\r\n                    title = lookup(&quot;.title&quot;);\r\n                    title.addEventFilter(MouseEvent.MOUSE_PRESSED, e -&gt; {\r\n                        if (isInvalid()) {\r\n                            setExpanded(true);\r\n                            e.consume();\r\n                        }\r\n                    });\r\n                }\r\n            }\r\n    \r\n            public boolean isInvalid() {\r\n                return invalid.get();\r\n            }\r\n    \r\n            public BooleanProperty invalidProperty() {\r\n                return invalid;\r\n            }\r\n    \r\n            public void setInvalid(final boolean invalid) {\r\n                this.invalid.set(invalid);\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n**CSS:**\r\n\r\n    .titled-pane:invalid &gt; .title {\r\n        -fx-color: #FF000050;\r\n    } \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FB7RS.gif","title":"Keep arrow of TitledPane visible, even when set to not collapsible","body":"<p>+1 for the @James_D answer.</p>\n<p>For the sake of different approach or alternate solution , using his demo code, I tried the below solution. You can have look at it.</p>\n<p>In this approach, I created a custom <code>TitledPane</code> which has an <code>invalid</code> property. Instead of disabling, I blocked the mouse event to not collapse if the <code>invalid</code> property is true and set the psuedo state for some custom styling.</p>\n<p>This may add some extra bit of code, but you can consider it for reusability and custom styling.</p>\n<p><a href=\"https://i.stack.imgur.com/FB7RS.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FB7RS.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.beans.property.BooleanProperty;\nimport javafx.beans.property.SimpleBooleanProperty;\nimport javafx.css.PseudoClass;\nimport javafx.geometry.Insets;\nimport javafx.geometry.Pos;\nimport javafx.scene.Node;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.control.TextField;\nimport javafx.scene.control.TitledPane;\nimport javafx.scene.input.MouseEvent;\nimport javafx.scene.layout.VBox;\nimport javafx.stage.Stage;\n\nimport java.io.IOException;\nimport java.util.stream.Stream;\n\npublic class TitledPaneValidationDemo extends Application {\n    @Override\n    public void start(Stage stage) throws IOException {\n        VBox content = new VBox(10);\n        content.setAlignment(Pos.CENTER);\n        content.setPadding(new Insets(20));\n\n        CustomTitledPane titledPane = new CustomTitledPane(&quot;Test&quot;, content);\n        titledPane.setExpanded(true);\n\n        TextField textField1 = new TextField();\n        TextField textField2 = new TextField();\n        TextField textField3 = new TextField();\n        content.getChildren().addAll(new Label(&quot;Enter at least three characters in each box:&quot;), textField1, textField2, textField3);\n        Stream.of(textField1, textField2, textField3).forEach(tf -&gt; {\n            tf.textProperty().addListener(p -&gt; invalidate(titledPane, textField1, textField2, textField3));\n        });\n\n        Scene scene = new Scene(titledPane);\n        scene.getStylesheets().add(getClass().getResource(&quot;style.css&quot;).toExternalForm());\n        stage.setScene(scene);\n        stage.setTitle(&quot;Titled Pane Demo&quot;);\n        stage.show();\n        invalidate(titledPane, textField1, textField2, textField3);\n    }\n\n    private void invalidate(CustomTitledPane titledPane, TextField textField1, TextField textField2, TextField textField3) {\n        titledPane.setInvalid(textField1.getText().length() &lt; 3 || textField2.getText().length() &lt; 3 || textField3.getText().length() &lt; 3);\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n    class CustomTitledPane extends TitledPane {\n        private BooleanProperty invalid = new SimpleBooleanProperty(false);\n\n        private final PseudoClass PSEUDO_CLASS_INVALID = PseudoClass.getPseudoClass(&quot;invalid&quot;);\n        private Node title;\n\n        public CustomTitledPane(String text, Node node) {\n            super(text, node);\n            skinProperty().addListener((obs, old, val) -&gt; title = null);\n            invalidProperty().addListener((obs, old, val) -&gt; pseudoClassStateChanged(PSEUDO_CLASS_INVALID, val));\n        }\n\n        @Override\n        protected void layoutChildren() {\n            super.layoutChildren();\n            if (title == null) {\n                title = lookup(&quot;.title&quot;);\n                title.addEventFilter(MouseEvent.MOUSE_PRESSED, e -&gt; {\n                    if (isInvalid()) {\n                        setExpanded(true);\n                        e.consume();\n                    }\n                });\n            }\n        }\n\n        public boolean isInvalid() {\n            return invalid.get();\n        }\n\n        public BooleanProperty invalidProperty() {\n            return invalid;\n        }\n\n        public void setInvalid(final boolean invalid) {\n            this.invalid.set(invalid);\n        }\n    }\n}\n</code></pre>\n<p><strong>CSS:</strong></p>\n<pre><code>.titled-pane:invalid &gt; .title {\n    -fx-color: #FF000050;\n} \n</code></pre>\n"}],"owner":{"account_id":25550283,"reputation":13,"user_id":19334763,"display_name":"Mike"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":77281303,"answer_count":2,"score":1,"last_activity_date":1697155063,"creation_date":1697096204,"question_id":77278573,"body_markdown":"I&#39;m trying to create an TitledPane, that can&#39;t be collapsed, once it has been opened and the TextField inside of it does not have valid input.\r\n\r\nThis behaviour already works in my code, but as soon as I set the collapsibleProperty to false, the arrow-button disappears.\r\n\r\nI&#39;d rather have it stay and be shown in a disabled-state. I know this could be achieved with pseudoclass-states, but the following code, in the update() function in the TitledPaneSkin class, prevents me from using this approach, as the arrow won&#39;t even be added into the gui:\r\n\r\n```java\r\nprivate void update() {\r\n    getChildren().clear();\r\n    final TitledPane titledPane = getSkinnable();\r\n\r\n    if (titledPane.isCollapsible()) {\r\n        getChildren().add(arrowRegion);\r\n    }\r\n\r\n...\r\n```\r\n\r\n\r\nI tried to write a custom Skin class that extends the TitledPaneSkin, but the TitleRegion, where the arrowRegion is defined, and its update function, are not accessible.\r\n\r\nDisabling the TitledPane itself also didn&#39;t work for me, as I need the TextField inside of it to be accessible/editable. \r\n\r\nI also tried to set the -fx-graphic property of the TitledPane title to a custom image, but it didn&#39;t work out for me.\r\n```css\r\n.titled-pane .title {\r\n    -fx-graphic: url(&quot;arrow.png&quot;);\r\n}\r\n```","title":"Keep arrow of TitledPane visible, even when set to not collapsible","body":"<p>I'm trying to create an TitledPane, that can't be collapsed, once it has been opened and the TextField inside of it does not have valid input.</p>\n<p>This behaviour already works in my code, but as soon as I set the collapsibleProperty to false, the arrow-button disappears.</p>\n<p>I'd rather have it stay and be shown in a disabled-state. I know this could be achieved with pseudoclass-states, but the following code, in the update() function in the TitledPaneSkin class, prevents me from using this approach, as the arrow won't even be added into the gui:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void update() {\n    getChildren().clear();\n    final TitledPane titledPane = getSkinnable();\n\n    if (titledPane.isCollapsible()) {\n        getChildren().add(arrowRegion);\n    }\n\n...\n</code></pre>\n<p>I tried to write a custom Skin class that extends the TitledPaneSkin, but the TitleRegion, where the arrowRegion is defined, and its update function, are not accessible.</p>\n<p>Disabling the TitledPane itself also didn't work for me, as I need the TextField inside of it to be accessible/editable.</p>\n<p>I also tried to set the -fx-graphic property of the TitledPane title to a custom image, but it didn't work out for me.</p>\n<pre class=\"lang-css prettyprint-override\"><code>.titled-pane .title {\n    -fx-graphic: url(&quot;arrow.png&quot;);\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"score":1,"creation_date":1697124913,"post_id":77281990,"comment_id":136243272,"body_markdown":"You cannot treat `System.in` and `System.out` as the same thing in the command line.","body":"You cannot treat <code>System.in</code> and <code>System.out</code> as the same thing in the command line."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":2,"creation_date":1697125086,"post_id":77281990,"comment_id":136243300,"body_markdown":"This question boils down to &#39;how do I write java&#39; or possibly &#39;how do I read and write files&#39;. I don&#39;t think you&#39;ll have much luck with such a broad question on SO, that&#39;s not really what it is for. There is no special magic answer here - it&#39;s just &#39;create a text file and write a template to it, tell the user to edit it, then read it&#39;. Look at the `java.nio.file` package for the API to interact with files.","body":"This question boils down to &#39;how do I write java&#39; or possibly &#39;how do I read and write files&#39;. I don&#39;t think you&#39;ll have much luck with such a broad question on SO, that&#39;s not really what it is for. There is no special magic answer here - it&#39;s just &#39;create a text file and write a template to it, tell the user to edit it, then read it&#39;. Look at the <code>java.nio.file</code> package for the API to interact with files."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":6,"creation_date":1697125467,"post_id":77281990,"comment_id":136243386,"body_markdown":"@rzwitserloot I may be wrong here, but the question looks more like &quot;how do I print a line and let the user edit that very same line, in place&quot;, which is itself a totally different can of worms,","body":"@rzwitserloot I may be wrong here, but the question looks more like &quot;how do I print a line and let the user edit that very same line, in place&quot;, which is itself a totally different can of worms,"},{"owner":{"account_id":384206,"reputation":50386,"user_id":740553,"accept_rate":46,"display_name":"Mike &#39;Pomax&#39; Kamermans"},"score":1,"creation_date":1697126348,"post_id":77281990,"comment_id":136243545,"body_markdown":"Java itself can&#39;t do this, but have a look at [Java: how can I modify console output?](https://stackoverflow.com/questions/6704002/java-how-can-i-modify-console-output) or [Edit a given String over the Console in Java](https://stackoverflow.com/questions/1552156/is-it-possible-to-print-text-that-can-be-edited-by-the-user-for-console-program) for inspiration on what to further search on.","body":"Java itself can&#39;t do this, but have a look at <a href=\"https://stackoverflow.com/questions/6704002/java-how-can-i-modify-console-output\">Java: how can I modify console output?</a> or <a href=\"https://stackoverflow.com/questions/1552156/is-it-possible-to-print-text-that-can-be-edited-by-the-user-for-console-program\">Edit a given String over the Console in Java</a> for inspiration on what to further search on."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1697153202,"post_id":77281990,"comment_id":136247555,"body_markdown":"@FedericoklezCulloca Ah, I see. That&#39;s so bizarre to my &quot;processes have standard in and standard out and they could be a printer and a voicebox for all we know&quot; line of thinking I just assumed &#39;file&#39;.","body":"@FedericoklezCulloca Ah, I see. That&#39;s so bizarre to my &quot;processes have standard in and standard out and they could be a printer and a voicebox for all we know&quot; line of thinking I just assumed &#39;file&#39;."},{"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1697155058,"post_id":77281990,"comment_id":136247722,"body_markdown":"@FedericoklezCulloca With your hint I have written up an answer, and retracted the close vote. Gracias!","body":"@FedericoklezCulloca With your hint I have written up an answer, and retracted the close vote. Gracias!"}],"answers":[{"tags":[],"owner":{"account_id":1960454,"reputation":44539,"user_id":1762224,"accept_rate":61,"display_name":"Mr. Polywhirl"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697125361,"creation_date":1697125361,"answer_id":77282053,"question_id":77281990,"body_markdown":"In Java, state is traditionally held in a variables. You could also store data in an external file or a database.\r\n\r\nThe standard Java library handles input and output as separate actions.\r\n\r\nHere is a simple REPL program written in Java:\r\n\r\n```java\r\nimport java.util.Scanner;\r\n\r\npublic class Input {\r\n    static private String userFavoriteArtist = &quot;&quot;;\r\n\r\n    public static void main(String[] args) {\r\n        Scanner scan = new Scanner(System.in);\r\n\r\n        // Enter &quot;q&quot; to exit the loop...\r\n        while (true) {\r\n            System.out.print(&quot;Enter your favorite artist: &quot;);\r\n            userFavoriteArtist = scan.nextLine();\r\n            if (userFavoriteArtist.equals(&quot;q&quot;)) {\r\n                break;\r\n            }\r\n            System.out.println(&quot;Your favorite artist is: &quot; + userFavoriteArtist);\r\n        }\r\n\r\n        scan.close();\r\n    }\r\n}\r\n```","title":"Java edit text in terminal and save it to variable","body":"<p>In Java, state is traditionally held in a variables. You could also store data in an external file or a database.</p>\n<p>The standard Java library handles input and output as separate actions.</p>\n<p>Here is a simple REPL program written in Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.Scanner;\n\npublic class Input {\n    static private String userFavoriteArtist = &quot;&quot;;\n\n    public static void main(String[] args) {\n        Scanner scan = new Scanner(System.in);\n\n        // Enter &quot;q&quot; to exit the loop...\n        while (true) {\n            System.out.print(&quot;Enter your favorite artist: &quot;);\n            userFavoriteArtist = scan.nextLine();\n            if (userFavoriteArtist.equals(&quot;q&quot;)) {\n                break;\n            }\n            System.out.println(&quot;Your favorite artist is: &quot; + userFavoriteArtist);\n        }\n\n        scan.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89758,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697155011,"creation_date":1697155011,"answer_id":77284404,"question_id":77281990,"body_markdown":"Your question implies you hold a certain idea about how command line programs work that is common, obvious, but incorrect.\r\n\r\nYou appear to believe that a program simply always reads input from the keyboard, and writes output to the screen. Or, at least, that this is what `System.in` and `System.out` mean.\r\n\r\nNot so. This means two things:\r\n\r\n1. What you want is doable but _very_ complicated and not portable, i.e. you need different code for different platforms, and\r\n2. Even explaining it is kinda complicated.\r\n\r\nThis answer might just sail right over your head. There&#39;s still some use to be had: Just accept that, for reasons, what you want is not possible without involving extensive third party libraries (dependencies: Separate jars you stick on the classpath when you launch your app), such as [Lanterna](https://github.com/mabe02/lanterna) which then allow you to do this.\r\n\r\n## Explanation of why this is hard\r\n\r\n`System.in` means &#39;the process input stream&#39; and `System.out` means &#39;the process output stream&#39;. Not &#39;the keyboard&#39; and &#39;the screen&#39;.\r\n\r\nSo what are &#39;the process input&#39; and &#39;the process output&#39;? Whatever thing asks the OS to launch your application specifies what they are as you launch it.\r\n\r\nAnd who launches it? Not &#39;you&#39; - no, you provide some input to an application (`cmd.exe` on windows usually, perhaps `/bin/bash` on most other systems such as linux or macos), and that is just an application, nothing special about it. You type:\r\n\r\n```\r\njava MyProgram.java\r\n```\r\n\r\nAnd as you hit each character, `cmd.exe` or whatever it might be accepts that, renders a little picture that looks like e.g. a `j` to the screen, and when you hit enter, &#39;parses&#39; what you typed and this results in `cmd.exe` making a call to the OS to launch a new process, and in doing so, __`cmd.exe` tells your system what to hook up to that process&#39; system in and system out.__\r\n\r\nBy default, that&#39;ll be the keyboard in cooked mode (no actual bytes show up for `System.in.read()` to read unless you hit enter), and the terminal itself which will just take any bytes sent to it via `System.out` and print them on the screen as characters.\r\n\r\nAnd _that_ is why `System.in` is the keyboard and `System.out` is the screen. But, I can tell the terminal app to do something else:\r\n\r\n```\r\njava MyProgram.java &lt;somefile.txt &gt;/dev/printer\r\n```\r\n\r\nHere, the input is not &#39;what the user types on the keyboard&#39; but &#39;the contents of the file `somefile.txt`. As in, if in your java app you do: `System.in.read()` you get the first byte from the `somefile.txt` file. And `System.out.println(&quot;Hello&quot;)` would make your printer start printing.\r\n\r\n## So what? How does that affect my question?\r\n\r\nWell, think about it: If `System.in` can be anything, and `System.out` can be anything, how can you possibly _link_ the two? Or, thinking differently, the notion of &#39;the output is a thing that you can edit&#39; isn&#39;t part of what process standard output is about. A printer can not &#39;edit&#39; - once you print `Your favourite artist is: example`, then that&#39;s printed. You can&#39;t then _delete_ `example`, printers do not as a rule ship with a baked in cartridge containing whiteout or whatever.\r\n\r\nYes, sure, _you_ have no intention of ever redirecting standard out to a printer. That&#39;s not the point. The point is: At a fundamental level, sysout is just a thing that can receive bytes, and that is all it is. It has no &#39;move the cursor to this position&#39;, &#39;go into overwrite mode&#39;. __There is no cursor__ - the abstraction is just &#39;send bytes here&#39;, and that&#39;s it. That gives your system the flexibility to let you hook it up to a printer and whatnot - to be able to be hooked up to a process&#39; standard out, you just need to be capable of receiving bytes. The flipside is, you _cant_ say: Move the cursor back.\r\n\r\nExcept, if you can. Let&#39;s trace the exact flow of what happens in this sequence of events:\r\n\r\n```\r\n&gt; cat MyApp.java\r\npublic class MyApp {\r\n  public static void main(String[] args) {\r\n     System.out.print(&quot;Hi&quot;);\r\n  }\r\n}\r\n\r\n&gt; java MyApp.java\r\n```\r\n\r\nGiven that you didn&#39;t use `&lt;` or `&gt;` to modify anything, and we typed this in a terminal, `System.out` is the terminal window itself. Specifically, `print(&quot;Hi&quot;)` will send the byte value for the `H` (72) to &#39;the standard output&#39; and then 105 (the byte value for `i`). The standard output is hooked up to the terminal window which knows &#39;if I receive 72, that means I should move the cursor one position to the right and show a little picture that looks like an H.&#39;. And that is why you see `Hi` appear.\r\n\r\nSome terminals will interpret certain byte value sequences as &#39;commands&#39;. Such as &#39;move the cursor to the left&#39;, &#39;the foreground color is now light blue&#39;, &#39;emit a bell sound through the system speaker&#39;, and so on.\r\n\r\n## Okay so how do I do what I want?\r\n\r\n... with the command stuff I wrote in the last paragraph of the previous section: There is sort of, kind of, a way. First print `Enter your favorite artist: example` as you usually would, but then send a command to move the cursor back so that it is over the &#39;e&#39; in example. But your standard `System.in` defaults to &#39;cooked&#39; mod which means that you get no input whatsoever until enter is pressed so this is at the very least going to look very ugly. The cursor is where we want it to be but that&#39;s not enough. We optimally want to receive a keypress as it arrives (instead of getting a whole line at once), and act accordingly. For example, after pressing the first key, we can send a bunch of commands that space over / wipe out the text `example` and then goes back to where the `e` was and print the character the user typed.\r\n\r\nHence, we need to do two things:\r\n\r\n1. Check if `System.in` is currently typed system input in &#39;cooked mode&#39;, and if so, take it out of cooked mode. Otherwise, crash or swap to a code path that knows that there is no reversing or editing anything.\r\n\r\n2. Emit to `System.out` these special commands. What are they?\r\n\r\nThe problem is, __this is the part that is system dependent__. On windows (`cmd.exe`) the ways to do this are completely different from `/bin/bash`.\r\n\r\nHence, to develop this properly you&#39;d have to delve into terminal commands for _each_ platform you intend to support. For example, on most posixen this should work to uncook sysin:\r\n\r\n```\r\nString[] cmd = {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty raw &lt;/dev/tty&quot;};\r\nRuntime.getRuntime().exec(cmd).waitFor();\r\nSystem.out.println(&quot;Now type and watch as I deal with each typed thing as you type it - marvelous!&quot;);\r\nSystem.out.println(&quot;Q to exit.&quot;);\r\nwhile (true) {\r\n  int t = System.in.read();\r\n  System.out.println(&quot;\\nYou typed value: &quot; + t + &quot; - which is &#39;&quot; + (char) t + &quot;&#39;!&quot;);\r\n  if (t == &#39;Q&#39;) System.exit(0);\r\n}\r\n\r\n```\r\n\r\nThis actually works on my mac, but taking the terminal out of cooked mode also means that `\\n` just advanced to the next line and no longer puts the cursor to the start. Also, the &#39;raw mode&#39; thing is __permanent__ - even after the app exits my terminal is all wonky and I&#39;d have to close and reopen. I can fix the newline issue by using `print` instead of `println` and adding `\\r\\n` to the end of each string. I can fix the &#39;it remains in raw mode&#39; by going back to cooked mode. Here&#39;s a much nicer take:\r\n\r\n```\r\nString[] cmd = {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty raw &lt;/dev/tty&quot;};\r\nRuntime.getRuntime().exec(cmd).waitFor();\r\nSystem.out.print(&quot;Now type and watch as I deal with each typed thing as you type it - marvelous!\\r\\n&quot;);\r\nSystem.out.print(&quot;Q to exit.\\r\\n&quot;);\r\nwhile (true) {\r\n  int t = System.in.read();\r\n  System.out.print(&quot;\\r\\nYou typed value: &quot; + t + &quot; - which is &#39;&quot; + (char)\r\nt + &quot;&#39;!\\r\\n&quot;);\r\n  if (t == &#39;Q&#39;) break;\r\n}\r\n\r\ncmd = new String[] {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty cooked &lt;/dev/tty&quot;};\r\nRuntime.getRuntime().exec(cmd).waitFor();\r\n```\r\n\r\nBut here&#39;s the problem: That will _definitely_ not work on windows. That might not work on various linuxen. It&#39;s also going to completely fail if you start this app with `java MyApp.java &lt;stuff &gt;something_else`. And we just opened the door to allowing us to act immediately as the user starts typing (no waiting for enter), we haven&#39;t tackled moving the cursor around the screen yet.\r\n\r\nWhich will be a very similar story: I can show you how to do it... for some specific OS and terminal. Not generally.\r\n\r\n## Deps to the rescue!\r\n\r\nYou can use ncurses or [Lanterna](https://github.com/mabe02/lanterna) or some other library that gives you text UIs for java support to do this, these libraries have done the footwork of figuring out how to do that on each OS as best as possible. You should definitely use those libraries.\r\n\r\nOr, ditch the plan and just use System.in/System.out as normal (don&#39;t involve having the user edit what they type), or, ditch System.in/System.out and use `java.swing` or similar to make a little UI. Or make it a web app. Which is what most folks do these days.\r\n","title":"Java edit text in terminal and save it to variable","body":"<p>Your question implies you hold a certain idea about how command line programs work that is common, obvious, but incorrect.</p>\n<p>You appear to believe that a program simply always reads input from the keyboard, and writes output to the screen. Or, at least, that this is what <code>System.in</code> and <code>System.out</code> mean.</p>\n<p>Not so. This means two things:</p>\n<ol>\n<li>What you want is doable but <em>very</em> complicated and not portable, i.e. you need different code for different platforms, and</li>\n<li>Even explaining it is kinda complicated.</li>\n</ol>\n<p>This answer might just sail right over your head. There's still some use to be had: Just accept that, for reasons, what you want is not possible without involving extensive third party libraries (dependencies: Separate jars you stick on the classpath when you launch your app), such as <a href=\"https://github.com/mabe02/lanterna\" rel=\"nofollow noreferrer\">Lanterna</a> which then allow you to do this.</p>\n<h2>Explanation of why this is hard</h2>\n<p><code>System.in</code> means 'the process input stream' and <code>System.out</code> means 'the process output stream'. Not 'the keyboard' and 'the screen'.</p>\n<p>So what are 'the process input' and 'the process output'? Whatever thing asks the OS to launch your application specifies what they are as you launch it.</p>\n<p>And who launches it? Not 'you' - no, you provide some input to an application (<code>cmd.exe</code> on windows usually, perhaps <code>/bin/bash</code> on most other systems such as linux or macos), and that is just an application, nothing special about it. You type:</p>\n<pre><code>java MyProgram.java\n</code></pre>\n<p>And as you hit each character, <code>cmd.exe</code> or whatever it might be accepts that, renders a little picture that looks like e.g. a <code>j</code> to the screen, and when you hit enter, 'parses' what you typed and this results in <code>cmd.exe</code> making a call to the OS to launch a new process, and in doing so, <strong><code>cmd.exe</code> tells your system what to hook up to that process' system in and system out.</strong></p>\n<p>By default, that'll be the keyboard in cooked mode (no actual bytes show up for <code>System.in.read()</code> to read unless you hit enter), and the terminal itself which will just take any bytes sent to it via <code>System.out</code> and print them on the screen as characters.</p>\n<p>And <em>that</em> is why <code>System.in</code> is the keyboard and <code>System.out</code> is the screen. But, I can tell the terminal app to do something else:</p>\n<pre><code>java MyProgram.java &lt;somefile.txt &gt;/dev/printer\n</code></pre>\n<p>Here, the input is not 'what the user types on the keyboard' but 'the contents of the file <code>somefile.txt</code>. As in, if in your java app you do: <code>System.in.read()</code> you get the first byte from the <code>somefile.txt</code> file. And <code>System.out.println(&quot;Hello&quot;)</code> would make your printer start printing.</p>\n<h2>So what? How does that affect my question?</h2>\n<p>Well, think about it: If <code>System.in</code> can be anything, and <code>System.out</code> can be anything, how can you possibly <em>link</em> the two? Or, thinking differently, the notion of 'the output is a thing that you can edit' isn't part of what process standard output is about. A printer can not 'edit' - once you print <code>Your favourite artist is: example</code>, then that's printed. You can't then <em>delete</em> <code>example</code>, printers do not as a rule ship with a baked in cartridge containing whiteout or whatever.</p>\n<p>Yes, sure, <em>you</em> have no intention of ever redirecting standard out to a printer. That's not the point. The point is: At a fundamental level, sysout is just a thing that can receive bytes, and that is all it is. It has no 'move the cursor to this position', 'go into overwrite mode'. <strong>There is no cursor</strong> - the abstraction is just 'send bytes here', and that's it. That gives your system the flexibility to let you hook it up to a printer and whatnot - to be able to be hooked up to a process' standard out, you just need to be capable of receiving bytes. The flipside is, you <em>cant</em> say: Move the cursor back.</p>\n<p>Except, if you can. Let's trace the exact flow of what happens in this sequence of events:</p>\n<pre><code>&gt; cat MyApp.java\npublic class MyApp {\n  public static void main(String[] args) {\n     System.out.print(&quot;Hi&quot;);\n  }\n}\n\n&gt; java MyApp.java\n</code></pre>\n<p>Given that you didn't use <code>&lt;</code> or <code>&gt;</code> to modify anything, and we typed this in a terminal, <code>System.out</code> is the terminal window itself. Specifically, <code>print(&quot;Hi&quot;)</code> will send the byte value for the <code>H</code> (72) to 'the standard output' and then 105 (the byte value for <code>i</code>). The standard output is hooked up to the terminal window which knows 'if I receive 72, that means I should move the cursor one position to the right and show a little picture that looks like an H.'. And that is why you see <code>Hi</code> appear.</p>\n<p>Some terminals will interpret certain byte value sequences as 'commands'. Such as 'move the cursor to the left', 'the foreground color is now light blue', 'emit a bell sound through the system speaker', and so on.</p>\n<h2>Okay so how do I do what I want?</h2>\n<p>... with the command stuff I wrote in the last paragraph of the previous section: There is sort of, kind of, a way. First print <code>Enter your favorite artist: example</code> as you usually would, but then send a command to move the cursor back so that it is over the 'e' in example. But your standard <code>System.in</code> defaults to 'cooked' mod which means that you get no input whatsoever until enter is pressed so this is at the very least going to look very ugly. The cursor is where we want it to be but that's not enough. We optimally want to receive a keypress as it arrives (instead of getting a whole line at once), and act accordingly. For example, after pressing the first key, we can send a bunch of commands that space over / wipe out the text <code>example</code> and then goes back to where the <code>e</code> was and print the character the user typed.</p>\n<p>Hence, we need to do two things:</p>\n<ol>\n<li><p>Check if <code>System.in</code> is currently typed system input in 'cooked mode', and if so, take it out of cooked mode. Otherwise, crash or swap to a code path that knows that there is no reversing or editing anything.</p>\n</li>\n<li><p>Emit to <code>System.out</code> these special commands. What are they?</p>\n</li>\n</ol>\n<p>The problem is, <strong>this is the part that is system dependent</strong>. On windows (<code>cmd.exe</code>) the ways to do this are completely different from <code>/bin/bash</code>.</p>\n<p>Hence, to develop this properly you'd have to delve into terminal commands for <em>each</em> platform you intend to support. For example, on most posixen this should work to uncook sysin:</p>\n<pre><code>String[] cmd = {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty raw &lt;/dev/tty&quot;};\nRuntime.getRuntime().exec(cmd).waitFor();\nSystem.out.println(&quot;Now type and watch as I deal with each typed thing as you type it - marvelous!&quot;);\nSystem.out.println(&quot;Q to exit.&quot;);\nwhile (true) {\n  int t = System.in.read();\n  System.out.println(&quot;\\nYou typed value: &quot; + t + &quot; - which is '&quot; + (char) t + &quot;'!&quot;);\n  if (t == 'Q') System.exit(0);\n}\n\n</code></pre>\n<p>This actually works on my mac, but taking the terminal out of cooked mode also means that <code>\\n</code> just advanced to the next line and no longer puts the cursor to the start. Also, the 'raw mode' thing is <strong>permanent</strong> - even after the app exits my terminal is all wonky and I'd have to close and reopen. I can fix the newline issue by using <code>print</code> instead of <code>println</code> and adding <code>\\r\\n</code> to the end of each string. I can fix the 'it remains in raw mode' by going back to cooked mode. Here's a much nicer take:</p>\n<pre><code>String[] cmd = {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty raw &lt;/dev/tty&quot;};\nRuntime.getRuntime().exec(cmd).waitFor();\nSystem.out.print(&quot;Now type and watch as I deal with each typed thing as you type it - marvelous!\\r\\n&quot;);\nSystem.out.print(&quot;Q to exit.\\r\\n&quot;);\nwhile (true) {\n  int t = System.in.read();\n  System.out.print(&quot;\\r\\nYou typed value: &quot; + t + &quot; - which is '&quot; + (char)\nt + &quot;'!\\r\\n&quot;);\n  if (t == 'Q') break;\n}\n\ncmd = new String[] {&quot;/bin/sh&quot;, &quot;-c&quot;, &quot;stty cooked &lt;/dev/tty&quot;};\nRuntime.getRuntime().exec(cmd).waitFor();\n</code></pre>\n<p>But here's the problem: That will <em>definitely</em> not work on windows. That might not work on various linuxen. It's also going to completely fail if you start this app with <code>java MyApp.java &lt;stuff &gt;something_else</code>. And we just opened the door to allowing us to act immediately as the user starts typing (no waiting for enter), we haven't tackled moving the cursor around the screen yet.</p>\n<p>Which will be a very similar story: I can show you how to do it... for some specific OS and terminal. Not generally.</p>\n<h2>Deps to the rescue!</h2>\n<p>You can use ncurses or <a href=\"https://github.com/mabe02/lanterna\" rel=\"nofollow noreferrer\">Lanterna</a> or some other library that gives you text UIs for java support to do this, these libraries have done the footwork of figuring out how to do that on each OS as best as possible. You should definitely use those libraries.</p>\n<p>Or, ditch the plan and just use System.in/System.out as normal (don't involve having the user edit what they type), or, ditch System.in/System.out and use <code>java.swing</code> or similar to make a little UI. Or make it a web app. Which is what most folks do these days.</p>\n"}],"owner":{"account_id":17926648,"reputation":13,"user_id":13025122,"display_name":"wyznel"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1697155011,"creation_date":1697124825,"question_id":77281990,"body_markdown":"Creating a program that involves needing the users favourite music artist. I want them to be able to edit their choice if they so please.\r\n\r\nWhen they want to edit their favourite artist, they are shown what their current favourite artist is through the terminal:\r\n`Your favourite artist is: example`\r\n\r\nI want the user to be able to delete the text &quot;example&quot; and replace with something else, and then for it to be stored in a variable.\r\n\r\nVisualisation of what I want the user to be able to do: \r\n```\r\nYour favourite artist is: example\r\n```\r\nUser is now deleting the text &quot;example&quot;\r\n```\r\nYour favourite artist is: exa\r\n```\r\nUser has replaced &quot;example&quot; with &quot;newArtist&quot;\r\n```\r\nYour favourite artist is: newArtist\r\n```\r\n\r\nI have looked around and have been unable to find anything on this particular question. I have seen programs utilise this feature, however they weren&#39;t written in Java.","title":"Java edit text in terminal and save it to variable","body":"<p>Creating a program that involves needing the users favourite music artist. I want them to be able to edit their choice if they so please.</p>\n<p>When they want to edit their favourite artist, they are shown what their current favourite artist is through the terminal:\n<code>Your favourite artist is: example</code></p>\n<p>I want the user to be able to delete the text &quot;example&quot; and replace with something else, and then for it to be stored in a variable.</p>\n<p>Visualisation of what I want the user to be able to do:</p>\n<pre><code>Your favourite artist is: example\n</code></pre>\n<p>User is now deleting the text &quot;example&quot;</p>\n<pre><code>Your favourite artist is: exa\n</code></pre>\n<p>User has replaced &quot;example&quot; with &quot;newArtist&quot;</p>\n<pre><code>Your favourite artist is: newArtist\n</code></pre>\n<p>I have looked around and have been unable to find anything on this particular question. I have seen programs utilise this feature, however they weren't written in Java.</p>\n"},{"tags":["java","junit","bigdecimal"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":4,"creation_date":1697151122,"post_id":77284204,"comment_id":136247350,"body_markdown":"`BigDecimal d = null;`?","body":"<code>BigDecimal d = null;</code>?"}],"answers":[{"tags":[],"owner":{"account_id":14176255,"reputation":40,"user_id":10241414,"display_name":"Nakip Ali"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1697154612,"creation_date":1697151479,"answer_id":77284230,"question_id":77284204,"body_markdown":"You can define [`BigDecimal.ZERO`][1] your coin variable instead of defining null.\r\n\r\nAccording to document \r\n\r\n[Docs Oracle][2]\r\n\r\n&gt; \r\n&gt; All methods and constructors for this class throw NullPointerException when passed a null object reference for any input parameter.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html#ZERO\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html","title":"How Can I Create A BigDecimal Object that has null as it&#39;s value","body":"<p>You can define <a href=\"https://docs.oracle.com/en/java/javase/21/docs/api/java.base/java/math/BigDecimal.html#ZERO\" rel=\"nofollow noreferrer\"><code>BigDecimal.ZERO</code></a> your coin variable instead of defining null.</p>\n<p>According to document</p>\n<p><a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\">Docs Oracle</a></p>\n<blockquote>\n<p>All methods and constructors for this class throw NullPointerException when passed a null object reference for any input parameter.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":322981,"reputation":310744,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1697154930,"creation_date":1697154930,"answer_id":77284400,"question_id":77284204,"body_markdown":"&#128073;&#127996; Just assign `null` to your `BigDecimal` reference variable, as you would for any other class.\r\n\r\nExample class defined as a [record][1]. \r\n\r\n    record Coin ( String name , BigDecimal monetaryValue ) {}\r\n\r\nUsage with null.\r\n\r\n```java\r\nrecord Coin( String name , BigDecimal monetaryValue ) { }\r\nCoin c = new Coin ( &quot;Mystery&quot; , null );\r\n```\r\n\r\n&gt;c.toString() = Coin[name=Mystery, monetaryValue=null]\r\n\r\n\r\n  [1]: https://openjdk.org/jeps/395","title":"How Can I Create A BigDecimal Object that has null as it&#39;s value","body":"<p>👉🏼 Just assign <code>null</code> to your <code>BigDecimal</code> reference variable, as you would for any other class.</p>\n<p>Example class defined as a <a href=\"https://openjdk.org/jeps/395\" rel=\"nofollow noreferrer\">record</a>.</p>\n<pre><code>record Coin ( String name , BigDecimal monetaryValue ) {}\n</code></pre>\n<p>Usage with null.</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Coin( String name , BigDecimal monetaryValue ) { }\nCoin c = new Coin ( &quot;Mystery&quot; , null );\n</code></pre>\n<blockquote>\n<p>c.toString() = Coin[name=Mystery, monetaryValue=null]</p>\n</blockquote>\n"}],"owner":{"account_id":22083155,"reputation":15,"user_id":16342430,"display_name":"River Uzoma"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1697154930,"creation_date":1697150943,"question_id":77284204,"body_markdown":"I have a java program that I am testing and a lot of the code is centered around the idea that a coin can have a value null. The issue, the coin is defined using Coin(BigDecimal) and I cannot figure out how to convert the Bug Decimal Part to represent null.","title":"How Can I Create A BigDecimal Object that has null as it&#39;s value","body":"<p>I have a java program that I am testing and a lot of the code is centered around the idea that a coin can have a value null. The issue, the coin is defined using Coin(BigDecimal) and I cannot figure out how to convert the Bug Decimal Part to represent null.</p>\n"},{"tags":["java","aws-lambda","amazon-dynamodb","amazon-dynamodb-streams"],"comments":[{"owner":{"account_id":64681,"reputation":20733,"user_id":190823,"accept_rate":81,"display_name":"Jens"},"score":1,"creation_date":1644855502,"post_id":71114142,"comment_id":125710193,"body_markdown":"Can you please tell us what &quot;is not working&quot; means? Any particular errors? And please share the code of `Prospect.class`?","body":"Can you please tell us what &quot;is not working&quot; means? Any particular errors? And please share the code of <code>Prospect.class</code>?"},{"owner":{"account_id":8389931,"reputation":503,"user_id":6298969,"display_name":"Rahul"},"score":0,"creation_date":1644865766,"post_id":71114142,"comment_id":125713755,"body_markdown":"Hi @Jens,  I have edited the question.","body":"Hi @Jens,  I have edited the question."}],"answers":[{"tags":[],"owner":{"account_id":29660101,"reputation":1,"user_id":22731857,"display_name":"kjb"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697154825,"creation_date":1697154825,"answer_id":77284395,"question_id":71114142,"body_markdown":"You can use \r\n\r\n    software.amazon.awssdk.enhanced.dynamodb.document.EnhancedDocument;\r\n    \r\n    EnhancedDocument.fromAttributeValueMap(your-image-from-stream).toJson();\r\n\r\nNote that you might need to convert the StreamRecord Pojo with\r\n\r\n    List&lt;Record&gt; convertedRecords = \r\n    DynamodbEventTransformer.toRecordsV2(ddbEvent);\r\n\r\nper\r\n\r\nhttps://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-events-sdk-transformer/README.md\r\n\r\nThere are different versions from \r\ncom.amazonaws.services.lambda.runtime.events.DynamodbEvent\r\nand the newer (I assume) implementation\r\nsoftware.amazon.awssdk.services.dynamodb.model\r\n\r\nyou&#39;ll find differences in AttributeValue and StreamRecord, with builders in the services.dynamodb.model\r\ne.g.\r\n\r\n    com.amazonaws.services.lambda.runtime.events.models.dynamodb.AttributeValue;\r\n    software.amazon.awssdk.services.dynamodb.model.AttributeValue;\r\n\r\n\r\n","title":"Parse Dynamo Db Stream record to Object in Java","body":"<p>You can use</p>\n<pre><code>software.amazon.awssdk.enhanced.dynamodb.document.EnhancedDocument;\n\nEnhancedDocument.fromAttributeValueMap(your-image-from-stream).toJson();\n</code></pre>\n<p>Note that you might need to convert the StreamRecord Pojo with</p>\n<pre><code>List&lt;Record&gt; convertedRecords = \nDynamodbEventTransformer.toRecordsV2(ddbEvent);\n</code></pre>\n<p>per</p>\n<p><a href=\"https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-events-sdk-transformer/README.md\" rel=\"nofollow noreferrer\">https://github.com/aws/aws-lambda-java-libs/blob/main/aws-lambda-java-events-sdk-transformer/README.md</a></p>\n<p>There are different versions from\ncom.amazonaws.services.lambda.runtime.events.DynamodbEvent\nand the newer (I assume) implementation\nsoftware.amazon.awssdk.services.dynamodb.model</p>\n<p>you'll find differences in AttributeValue and StreamRecord, with builders in the services.dynamodb.model\ne.g.</p>\n<pre><code>com.amazonaws.services.lambda.runtime.events.models.dynamodb.AttributeValue;\nsoftware.amazon.awssdk.services.dynamodb.model.AttributeValue;\n</code></pre>\n"}],"owner":{"account_id":8389931,"reputation":503,"user_id":6298969,"display_name":"Rahul"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":795,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1697154825,"creation_date":1644852010,"question_id":71114142,"body_markdown":"The items from the stream have the data type present in the stream.\r\n\r\nI am trying to find a library similar to dynamodb-data-types, which can unwrap the dynamoDB structure to json structure for java. My lambda is in java.\r\n\r\nEg: I am trying to convert\r\n\r\n    {\r\n        &quot;prospectId&quot;: {\r\n            &quot;S&quot;: &quot;kjhakh23444&quot;\r\n        },\r\n        &quot;campaignId&quot;: {\r\n            &quot;S&quot;: &quot;kjhniujj123&quot;\r\n        }\r\n    }\r\n\r\nto\r\n\r\n    {\r\n        &quot;prospectId&quot;: &quot;kjhakh23444&quot;,\r\n        &quot;campaignId&quot;: &quot;kjhniujj123&quot;\r\n    }\r\n\r\nProspect.java\r\n\r\n        @DynamoDBTable(tableName=&quot;Prospect&quot;)\r\n    public class Prospect {\r\n        private String campaignId;\r\n        private String prospectId;\r\n        \r\n    \tpublic Prospect() {\r\n        }\r\n    \r\n    \r\n        @DynamoDBHashKey(attributeName=&quot;campaignId&quot;)\r\n        public String getCampaignId() {\r\n            return campaignId;\r\n        }\r\n    \r\n        public void setCampaignId(String campaignId) {\r\n            this.campaignId = campaignId;\r\n        }\r\n    \r\n        public String getProspectId() {\r\n            return prospectId;\r\n        }\r\n    \r\n        public void setProspectId(String prospectId) {\r\n            this.prospectId = prospectId;\r\n        }\r\n    }\r\n\r\nI am trying below but as per the DynamoDbStreamRecord structure, below will not work out. How can I parse DynamoDbStreamRecord so that I get the Prospect Object?\r\n\r\n    String body = new Gson().toJson(dynamodbStreamRecord.getDynamodb().getNewImage());\r\n        Prospect prospect = new Gson().fromJson(body, Prospect.class);\r\n\r\nPlease help me out.","title":"Parse Dynamo Db Stream record to Object in Java","body":"<p>The items from the stream have the data type present in the stream.</p>\n<p>I am trying to find a library similar to dynamodb-data-types, which can unwrap the dynamoDB structure to json structure for java. My lambda is in java.</p>\n<p>Eg: I am trying to convert</p>\n<pre><code>{\n    &quot;prospectId&quot;: {\n        &quot;S&quot;: &quot;kjhakh23444&quot;\n    },\n    &quot;campaignId&quot;: {\n        &quot;S&quot;: &quot;kjhniujj123&quot;\n    }\n}\n</code></pre>\n<p>to</p>\n<pre><code>{\n    &quot;prospectId&quot;: &quot;kjhakh23444&quot;,\n    &quot;campaignId&quot;: &quot;kjhniujj123&quot;\n}\n</code></pre>\n<p>Prospect.java</p>\n<pre><code>    @DynamoDBTable(tableName=&quot;Prospect&quot;)\npublic class Prospect {\n    private String campaignId;\n    private String prospectId;\n    \n    public Prospect() {\n    }\n\n\n    @DynamoDBHashKey(attributeName=&quot;campaignId&quot;)\n    public String getCampaignId() {\n        return campaignId;\n    }\n\n    public void setCampaignId(String campaignId) {\n        this.campaignId = campaignId;\n    }\n\n    public String getProspectId() {\n        return prospectId;\n    }\n\n    public void setProspectId(String prospectId) {\n        this.prospectId = prospectId;\n    }\n}\n</code></pre>\n<p>I am trying below but as per the DynamoDbStreamRecord structure, below will not work out. How can I parse DynamoDbStreamRecord so that I get the Prospect Object?</p>\n<pre><code>String body = new Gson().toJson(dynamodbStreamRecord.getDynamodb().getNewImage());\n    Prospect prospect = new Gson().fromJson(body, Prospect.class);\n</code></pre>\n<p>Please help me out.</p>\n"},{"tags":["java","android","mobile","widget"],"owner":{"account_id":23570669,"reputation":84,"user_id":17610846,"display_name":"Juan C."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697153653,"creation_date":1697151090,"question_id":77284208,"body_markdown":"I am developing an app in Flutter with an associated widget. The widget&#39;s logic relies solely on the current day. Currently, it functions with a worker that runs continuously. However, I would like the app to open when clicking the widget. I attempted to achieve this by adding a button inside the widget associated with a PendingIntent. However, for some reason, after making this change, the values disappear from the widget and empty texts appear in their place. I have tried to figure out why this happens, but I do not understand what is causing it. Thank you.\r\n\r\n\r\nthis is the code of the android widget without the pendidng intent:\r\n\r\n```\r\n\r\n\r\nimport android.util.DisplayMetrics;\r\nimport android.content.ComponentName;\r\nimport android.appwidget.AppWidgetManager;\r\nimport android.appwidget.AppWidgetProvider;\r\nimport android.content.Context;\r\nimport android.os.Bundle;\r\nimport android.util.TypedValue;\r\nimport android.widget.RemoteViews;\r\nimport androidx.annotation.NonNull;\r\nimport androidx.work.Constraints;\r\nimport androidx.work.NetworkType;\r\nimport androidx.work.PeriodicWorkRequest;\r\nimport androidx.work.WorkManager;\r\nimport androidx.work.Worker;\r\nimport androidx.work.WorkerParameters;\r\nimport java.text.SimpleDateFormat;\r\nimport java.util.Date;\r\nimport java.util.concurrent.TimeUnit;\r\nimport java.util.Locale;\r\n\r\npublic class SimpleWidgetProvider extends AppWidgetProvider {\r\n\r\n    @Override\r\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\r\n        super.onUpdate(context, appWidgetManager, appWidgetIds);\r\n\r\n        Constraints constraints = new Constraints.Builder()\r\n                .setRequiredNetworkType(NetworkType.CONNECTED)\r\n                .build();\r\n\r\n        PeriodicWorkRequest workRequest = new PeriodicWorkRequest.Builder(\r\n                UpdateWidgetWorker.class,\r\n                30,\r\n                TimeUnit.MINUTES)\r\n                .setConstraints(constraints)\r\n                .build();\r\n\r\n        WorkManager.getInstance(context).enqueue(workRequest);\r\n    }\r\n\r\n    public static class UpdateWidgetWorker extends Worker {\r\n\r\n        public UpdateWidgetWorker(\r\n                @NonNull Context context,\r\n                @NonNull WorkerParameters workerParams) {\r\n            super(context, workerParams);\r\n        }\r\n\r\n        @NonNull\r\n        @Override\r\n        public Result doWork() {\r\n            Context context = getApplicationContext();\r\n            AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(context);\r\n\r\n            int[] appWidgetIds = appWidgetManager.getAppWidgetIds(\r\n                    new ComponentName(context, SimpleWidgetProvider.class));\r\n\r\n            for (int appWidgetId : appWidgetIds) {\r\n                updateWidget(context, appWidgetManager, appWidgetId);\r\n            }\r\n\r\n            return Result.success();\r\n        }\r\n\r\n        private void updateWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\r\n            RemoteViews widgetUpdateViews = new RemoteViews(context.getPackageName(), R.layout.simple_widget);\r\n\r\n           DisplayMetrics displayMetrics = context.getResources().getDisplayMetrics();\r\n            int screenWidth = displayMetrics.widthPixels;\r\n            int screenHeight = displayMetrics.heightPixels;\r\n\r\n           int textSize;\r\n            if (screenWidth &lt;= 485 &amp;&amp; screenHeight &lt;= 805) {\r\n                textSize = 18; \r\n            }\r\n\r\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n            String currentDate = dateFormat.format(new Date());\r\n\r\n            int shouldShowZeroOne = checkSpecialDates(currentDate);\r\n\r\n            SimpleDateFormat otroDate = new SimpleDateFormat(&quot;EEEE&quot;, new Locale(&quot;es&quot;, &quot;ES&quot;));\r\n            String otroWeek = otroDate.format(new Date());\r\n            otroWeek = otroWeek.substring(0, 1).toUpperCase() + otroWeek.substring(1);\r\n\r\n            widgetUpdateViews.setTextViewText(R.id.textViewOtro, otroWeek);\r\n\r\n            if (shouldShowZeroOne == 5) {\r\n                widgetUpdateViews.setTextViewText(R.id.textView, &quot;8 - 9&quot;);\r\n                widgetUpdateViews.setTextViewTextSize(R.id.textView, TypedValue.COMPLEX_UNIT_SP, textSize);\r\n\r\n            }\r\n            if (shouldShowZeroOne == 0) {\r\n                widgetUpdateViews.setTextViewTextSize(R.id.textView, TypedValue.COMPLEX_UNIT_SP, (textSize - 6));\r\n                widgetUpdateViews.setTextViewText(R.id.textView, &quot;&#128077;&quot;);\r\n\r\n            }\r\n            appWidgetManager.updateAppWidget(appWidgetId, widgetUpdateViews);\r\n        }\r\n\r\n        private int checkSpecialDates(String currentDate) {\r\n String[] targetDates89 = {\r\n                    &quot;2023-10-06&quot;};\r\n            for (String date : targetDates89) {\r\n                if (currentDate.equals(date)) {\r\n                    return 5;\r\n                }\r\n            }\r\n            return 0;\r\n        }\r\n\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nThis is the code of the widget layout simple_widget.\r\n\r\n```\r\n&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;match_parent&quot;\r\n    android:background=&quot;#55000000&quot;&gt; \r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/titleTextView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;car &quot;\r\n        android:textSize=&quot;14sp&quot;\r\n        android:textColor=&quot;#FFFFFFFF&quot;\r\n        android:textStyle=&quot;bold&quot; \r\n        android:alpha=&quot;0.8&quot; \r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;8dp&quot; \r\n        android:layout_marginBottom=&quot;16dp&quot; /&gt; \r\n        \r\n          &lt;TextView\r\n        android:id=&quot;@+id/algo&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;&quot;\r\n        android:textSize=&quot;15sp&quot;\r\n        android:textColor=&quot;#FFFFFFFF&quot;\r\n        android:textStyle=&quot;bold&quot; \r\n        android:alpha=&quot;0.8&quot; \r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginTop=&quot;8dp&quot; \r\n        android:layout_marginBottom=&quot;16dp&quot; /&gt; \r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;0&quot;\r\n        android:textSize=&quot;40sp&quot; \r\n        android:textColor=&quot;#FFFFFF&quot; \r\n        android:alpha=&quot;0.8&quot; \r\n        android:layout_marginTop=&quot;15dp&quot; \r\n        android:layout_centerInParent=&quot;true&quot; /&gt;\r\n\r\n            &lt;TextView\r\n        android:id=&quot;@+id/textViewOtro&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:textSize=&quot;17sp&quot;\r\n        android:textColor=&quot;#FFFFFFFF&quot;\r\n        android:alpha=&quot;0.8&quot; \r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;8dp&quot; /&gt;\r\n&lt;/RelativeLayout&gt;\r\n```\r\n\r\n\r\nI tried adding pending intents to open the flutter app to the widget and to buttons added to the widget, but every time I make this change, the values in the widget become permanently blank.","title":"Android widget blanking variables when configured to open the main app on click","body":"<p>I am developing an app in Flutter with an associated widget. The widget's logic relies solely on the current day. Currently, it functions with a worker that runs continuously. However, I would like the app to open when clicking the widget. I attempted to achieve this by adding a button inside the widget associated with a PendingIntent. However, for some reason, after making this change, the values disappear from the widget and empty texts appear in their place. I have tried to figure out why this happens, but I do not understand what is causing it. Thank you.</p>\n<p>this is the code of the android widget without the pendidng intent:</p>\n<pre><code>\n\nimport android.util.DisplayMetrics;\nimport android.content.ComponentName;\nimport android.appwidget.AppWidgetManager;\nimport android.appwidget.AppWidgetProvider;\nimport android.content.Context;\nimport android.os.Bundle;\nimport android.util.TypedValue;\nimport android.widget.RemoteViews;\nimport androidx.annotation.NonNull;\nimport androidx.work.Constraints;\nimport androidx.work.NetworkType;\nimport androidx.work.PeriodicWorkRequest;\nimport androidx.work.WorkManager;\nimport androidx.work.Worker;\nimport androidx.work.WorkerParameters;\nimport java.text.SimpleDateFormat;\nimport java.util.Date;\nimport java.util.concurrent.TimeUnit;\nimport java.util.Locale;\n\npublic class SimpleWidgetProvider extends AppWidgetProvider {\n\n    @Override\n    public void onUpdate(Context context, AppWidgetManager appWidgetManager, int[] appWidgetIds) {\n        super.onUpdate(context, appWidgetManager, appWidgetIds);\n\n        Constraints constraints = new Constraints.Builder()\n                .setRequiredNetworkType(NetworkType.CONNECTED)\n                .build();\n\n        PeriodicWorkRequest workRequest = new PeriodicWorkRequest.Builder(\n                UpdateWidgetWorker.class,\n                30,\n                TimeUnit.MINUTES)\n                .setConstraints(constraints)\n                .build();\n\n        WorkManager.getInstance(context).enqueue(workRequest);\n    }\n\n    public static class UpdateWidgetWorker extends Worker {\n\n        public UpdateWidgetWorker(\n                @NonNull Context context,\n                @NonNull WorkerParameters workerParams) {\n            super(context, workerParams);\n        }\n\n        @NonNull\n        @Override\n        public Result doWork() {\n            Context context = getApplicationContext();\n            AppWidgetManager appWidgetManager = AppWidgetManager.getInstance(context);\n\n            int[] appWidgetIds = appWidgetManager.getAppWidgetIds(\n                    new ComponentName(context, SimpleWidgetProvider.class));\n\n            for (int appWidgetId : appWidgetIds) {\n                updateWidget(context, appWidgetManager, appWidgetId);\n            }\n\n            return Result.success();\n        }\n\n        private void updateWidget(Context context, AppWidgetManager appWidgetManager, int appWidgetId) {\n            RemoteViews widgetUpdateViews = new RemoteViews(context.getPackageName(), R.layout.simple_widget);\n\n           DisplayMetrics displayMetrics = context.getResources().getDisplayMetrics();\n            int screenWidth = displayMetrics.widthPixels;\n            int screenHeight = displayMetrics.heightPixels;\n\n           int textSize;\n            if (screenWidth &lt;= 485 &amp;&amp; screenHeight &lt;= 805) {\n                textSize = 18; \n            }\n\n            SimpleDateFormat dateFormat = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\n            String currentDate = dateFormat.format(new Date());\n\n            int shouldShowZeroOne = checkSpecialDates(currentDate);\n\n            SimpleDateFormat otroDate = new SimpleDateFormat(&quot;EEEE&quot;, new Locale(&quot;es&quot;, &quot;ES&quot;));\n            String otroWeek = otroDate.format(new Date());\n            otroWeek = otroWeek.substring(0, 1).toUpperCase() + otroWeek.substring(1);\n\n            widgetUpdateViews.setTextViewText(R.id.textViewOtro, otroWeek);\n\n            if (shouldShowZeroOne == 5) {\n                widgetUpdateViews.setTextViewText(R.id.textView, &quot;8 - 9&quot;);\n                widgetUpdateViews.setTextViewTextSize(R.id.textView, TypedValue.COMPLEX_UNIT_SP, textSize);\n\n            }\n            if (shouldShowZeroOne == 0) {\n                widgetUpdateViews.setTextViewTextSize(R.id.textView, TypedValue.COMPLEX_UNIT_SP, (textSize - 6));\n                widgetUpdateViews.setTextViewText(R.id.textView, &quot;👍&quot;);\n\n            }\n            appWidgetManager.updateAppWidget(appWidgetId, widgetUpdateViews);\n        }\n\n        private int checkSpecialDates(String currentDate) {\n String[] targetDates89 = {\n                    &quot;2023-10-06&quot;};\n            for (String date : targetDates89) {\n                if (currentDate.equals(date)) {\n                    return 5;\n                }\n            }\n            return 0;\n        }\n\n    }\n}\n</code></pre>\n<p>This is the code of the widget layout simple_widget.</p>\n<pre><code>&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#55000000&quot;&gt; \n\n    &lt;TextView\n        android:id=&quot;@+id/titleTextView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;car &quot;\n        android:textSize=&quot;14sp&quot;\n        android:textColor=&quot;#FFFFFFFF&quot;\n        android:textStyle=&quot;bold&quot; \n        android:alpha=&quot;0.8&quot; \n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;8dp&quot; \n        android:layout_marginBottom=&quot;16dp&quot; /&gt; \n        \n          &lt;TextView\n        android:id=&quot;@+id/algo&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;&quot;\n        android:textSize=&quot;15sp&quot;\n        android:textColor=&quot;#FFFFFFFF&quot;\n        android:textStyle=&quot;bold&quot; \n        android:alpha=&quot;0.8&quot; \n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_marginTop=&quot;8dp&quot; \n        android:layout_marginBottom=&quot;16dp&quot; /&gt; \n\n    &lt;TextView\n        android:id=&quot;@+id/textView&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:text=&quot;0&quot;\n        android:textSize=&quot;40sp&quot; \n        android:textColor=&quot;#FFFFFF&quot; \n        android:alpha=&quot;0.8&quot; \n        android:layout_marginTop=&quot;15dp&quot; \n        android:layout_centerInParent=&quot;true&quot; /&gt;\n\n            &lt;TextView\n        android:id=&quot;@+id/textViewOtro&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:textSize=&quot;17sp&quot;\n        android:textColor=&quot;#FFFFFFFF&quot;\n        android:alpha=&quot;0.8&quot; \n        android:layout_centerHorizontal=&quot;true&quot;\n        android:layout_alignParentBottom=&quot;true&quot;\n        android:layout_marginBottom=&quot;8dp&quot; /&gt;\n&lt;/RelativeLayout&gt;\n</code></pre>\n<p>I tried adding pending intents to open the flutter app to the widget and to buttons added to the widget, but every time I make this change, the values in the widget become permanently blank.</p>\n"},{"tags":["java","annotations"],"answers":[{"tags":[],"owner":{"account_id":494189,"reputation":343,"user_id":2098298,"accept_rate":75,"display_name":"user13097"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1554002576,"creation_date":1460628661,"answer_id":36619997,"question_id":36374597,"body_markdown":"javac can process source and class level annotations, with the `-processor` option.  See javax.annotation.processing.AbstractProcessor.  (Since java 1.6).\r\n\r\nI started using it while compiling .java files.  Apparently it can also be used to process CLASS annotations with .class input files.  I haven&#39;t tried this because I&#39;m using ant to compile, and ant does not seem to pass .class files to the compiler.\r\n\r\nI have to do a full compile when I want to process all the annotations in my project.\r\n","title":"How can I access a RetentionPolicy.CLASS java annotation?","body":"<p>javac can process source and class level annotations, with the <code>-processor</code> option.  See javax.annotation.processing.AbstractProcessor.  (Since java 1.6).</p>\n\n<p>I started using it while compiling .java files.  Apparently it can also be used to process CLASS annotations with .class input files.  I haven't tried this because I'm using ant to compile, and ant does not seem to pass .class files to the compiler.</p>\n\n<p>I have to do a full compile when I want to process all the annotations in my project.</p>\n"},{"tags":[],"owner":{"account_id":923117,"reputation":384,"user_id":954413,"display_name":"estiedi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1497597726,"creation_date":1497597726,"answer_id":44583230,"question_id":36374597,"body_markdown":"I think you might want to have a look at [this tutorial][1].\r\n\r\nIt explains how to create your own annotation processor and how to use it to generate code. It doesn&#39;t handle bytecode manipulation though.\r\n\r\nHe also gave a presentation available on [YouTube][2]. In case you&#39;re too lazy to read... ;-)\r\n\r\n\r\n  [1]: http://hannesdorfmann.com/annotation-processing/annotationprocessing101\r\n  [2]: https://youtu.be/43FFfTyDYEg","title":"How can I access a RetentionPolicy.CLASS java annotation?","body":"<p>I think you might want to have a look at <a href=\"http://hannesdorfmann.com/annotation-processing/annotationprocessing101\" rel=\"nofollow noreferrer\">this tutorial</a>.</p>\n\n<p>It explains how to create your own annotation processor and how to use it to generate code. It doesn't handle bytecode manipulation though.</p>\n\n<p>He also gave a presentation available on <a href=\"https://youtu.be/43FFfTyDYEg\" rel=\"nofollow noreferrer\">YouTube</a>. In case you're too lazy to read... ;-)</p>\n"},{"tags":[],"owner":{"account_id":877657,"reputation":175,"user_id":120822,"display_name":"rtenhove"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1697153625,"creation_date":1697153625,"answer_id":77284334,"question_id":36374597,"body_markdown":"An alternative technique that can be used during test or application execution (as opposed to during compilation) is to use ASM to load the underlying class file for the annotated class. ASM tree nodes include an &quot;invisibleAnnotations&quot; list for all `RetentionPolicy.CLASS` annotations. The ASM event API has an equivalent.\r\n\r\nI have never encountered an open-source library that does this, but have done it for a closed-source project, so it does work.","title":"How can I access a RetentionPolicy.CLASS java annotation?","body":"<p>An alternative technique that can be used during test or application execution (as opposed to during compilation) is to use ASM to load the underlying class file for the annotated class. ASM tree nodes include an &quot;invisibleAnnotations&quot; list for all <code>RetentionPolicy.CLASS</code> annotations. The ASM event API has an equivalent.</p>\n<p>I have never encountered an open-source library that does this, but have done it for a closed-source project, so it does work.</p>\n"}],"owner":{"account_id":494189,"reputation":343,"user_id":2098298,"accept_rate":75,"display_name":"user13097"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1655,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":36619997,"answer_count":3,"score":1,"last_activity_date":1697153625,"creation_date":1459607858,"question_id":36374597,"body_markdown":"Is there a way to configure a ClassLoader or a JVM to load annotations with CLASS retention policy, so I can access them using reflection?\r\n\r\nThis is useful for compile-time post-processing, as mentioned [here][1].\r\nI annotate some of my classes in order to generate an antlib.xml file automatically.  I would prefer if my annotation could have CLASS retention policy, so that it does not create runtime dependencies.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3849593/java-annotations-looking-for-an-example-of-retentionpolicy-class","title":"How can I access a RetentionPolicy.CLASS java annotation?","body":"<p>Is there a way to configure a ClassLoader or a JVM to load annotations with CLASS retention policy, so I can access them using reflection?</p>\n\n<p>This is useful for compile-time post-processing, as mentioned <a href=\"https://stackoverflow.com/questions/3849593/java-annotations-looking-for-an-example-of-retentionpolicy-class\">here</a>.\nI annotate some of my classes in order to generate an antlib.xml file automatically.  I would prefer if my annotation could have CLASS retention policy, so that it does not create runtime dependencies.</p>\n"},{"tags":["java","jpanel","jlayeredpane"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1697154480,"post_id":77284326,"comment_id":136247676,"body_markdown":"If you&#39;re going to have game layers, you create one and only one drawing `JPanel` and draw the background, enemy, and character images in succession.  Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the [Performing Custom Painting](https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html) section.","body":"If you&#39;re going to have game layers, you create one and only one drawing <code>JPanel</code> and draw the background, enemy, and character images in succession.  Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay particular attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/painting/index.html\" rel=\"nofollow noreferrer\">Performing Custom Painting</a> section."},{"owner":{"account_id":969721,"reputation":344508,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1697158478,"post_id":77284326,"comment_id":136247933,"body_markdown":"*&quot;I have seperat JPanels for the background, the enemy and the movable character&quot;* - I&#39;d discourage you from doing this, as Swing component&#39;s are not well suited to task - instead, I&#39;d encourage a workflow based on custom painting","body":"<i>&quot;I have seperat JPanels for the background, the enemy and the movable character&quot;</i> - I&#39;d discourage you from doing this, as Swing component&#39;s are not well suited to task - instead, I&#39;d encourage a workflow based on custom painting"},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":0,"creation_date":1697159567,"post_id":77284326,"comment_id":136248021,"body_markdown":"*but the enemy JPanel and the character JPanel are not on top of each other,* - Swing has a parent/child relationship. I&#39;m not sure how both panels can be on top of each other. Only one can be on top of the other. So if you want the &quot;character&quot; on top of the &quot;enemy&quot; then you need logic like: enemy.add(character). *gp = (JPanel) getGlassPane();* - don&#39;t attempt to use the glass pane like this. Generally you only  add Swing components to the content pane. However, as suggested above you really should be doing custom painting on a single JPanel for a game like this.","body":"<i>but the enemy JPanel and the character JPanel are not on top of each other,</i> - Swing has a parent/child relationship. I&#39;m not sure how both panels can be on top of each other. Only one can be on top of the other. So if you want the &quot;character&quot; on top of the &quot;enemy&quot; then you need logic like: enemy.add(character). <i>gp = (JPanel) getGlassPane();</i> - don&#39;t attempt to use the glass pane like this. Generally you only  add Swing components to the content pane. However, as suggested above you really should be doing custom painting on a single JPanel for a game like this."}],"owner":{"account_id":29660023,"reputation":1,"user_id":22731801,"display_name":"Tatsuki"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697153537,"creation_date":1697153537,"question_id":77284326,"body_markdown":"So I&#39;m trying to make this 2D game, with a character and an enemy. I have seperat JPanels for the background, the enemy and the movable character. I tried putting all of them in the same JFrame, on top of each other, but the enemy JPanel and the character JPanel are not on top of each other, but rather next to each other. I also tried LayeredPane but couldn&#39;t really get it to work.\r\n\r\nThis is the code for the JFrame, if necessary, I could provide the code for the other classes aswell (keying is the character, enemy is the enemy (duh) and Images is the background):    \r\n```\r\nimport javax.swing.*;\r\nimport java.awt.*;\r\n\r\npublic class Display extends JFrame{\r\n    public JPanel gp = (JPanel) getGlassPane();\r\n    public Images i;\r\n    public static Keying k;\r\n    public Enemy en;\r\n\r\n    public Display() {\r\n        i = new Images();\r\n        gp.setVisible(true);\r\n        k = new Keying(this, i);\r\n        i.loadImages();\r\n        en = new Enemy(k);\r\n\r\n        gp.setLayout(new GridLayout(1,1,0,0));\r\n        this.setLayout(new GridLayout(1,1,0,0));\r\n\r\n        gp.add(k);\r\n        this.add(i);\r\n        gp.add(en);\r\n    }\r\n}\r\n```","title":"Multiple JPanels on top of each other?","body":"<p>So I'm trying to make this 2D game, with a character and an enemy. I have seperat JPanels for the background, the enemy and the movable character. I tried putting all of them in the same JFrame, on top of each other, but the enemy JPanel and the character JPanel are not on top of each other, but rather next to each other. I also tried LayeredPane but couldn't really get it to work.</p>\n<p>This is the code for the JFrame, if necessary, I could provide the code for the other classes aswell (keying is the character, enemy is the enemy (duh) and Images is the background):</p>\n<pre><code>import javax.swing.*;\nimport java.awt.*;\n\npublic class Display extends JFrame{\n    public JPanel gp = (JPanel) getGlassPane();\n    public Images i;\n    public static Keying k;\n    public Enemy en;\n\n    public Display() {\n        i = new Images();\n        gp.setVisible(true);\n        k = new Keying(this, i);\n        i.loadImages();\n        en = new Enemy(k);\n\n        gp.setLayout(new GridLayout(1,1,0,0));\n        this.setLayout(new GridLayout(1,1,0,0));\n\n        gp.add(k);\n        this.add(i);\n        gp.add(en);\n    }\n}\n</code></pre>\n"},{"tags":["java","html","pixi.js"],"comments":[{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1697139518,"post_id":77283406,"comment_id":136245832,"body_markdown":"Are you sure you are using it the correct way? Their API documentation doesn&#39;t have any mention of any Loader, the only one there is from the Assets component which is now deprecated. https://pixijs.download/release/docs/PIXI.Assets.html#loader PS i am no js specialist... I just looked at their documentation","body":"Are you sure you are using it the correct way? Their API documentation doesn&#39;t have any mention of any Loader, the only one there is from the Assets component which is now deprecated. <a href=\"https://pixijs.download/release/docs/PIXI.Assets.html#loader\" rel=\"nofollow noreferrer\">pixijs.download/release/docs/PIXI.Assets.html#loader</a> PS i am no js specialist... I just looked at their documentation"},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1697139688,"post_id":77283406,"comment_id":136245860,"body_markdown":"Searching a bit more, it seems your code is using an older version API of their library so I would suggest first checking whether this is the case","body":"Searching a bit more, it seems your code is using an older version API of their library so I would suggest first checking whether this is the case"},{"owner":{"account_id":29659087,"reputation":21,"user_id":22731143,"display_name":"Daniel Jokiranta"},"score":0,"creation_date":1697141236,"post_id":77283406,"comment_id":136246078,"body_markdown":"@JorgeCampos This is what I used: https://pixijs.download/v6.1.1/docs/PIXI.Loader.html I tried CTRL + F to search for deprec or keywords the same, but it seems like the github has been updated last on 2019. What should I to create a function that lets me freely choose the name, path, x and y for an image?","body":"@JorgeCampos This is what I used: <a href=\"https://pixijs.download/v6.1.1/docs/PIXI.Loader.html\" rel=\"nofollow noreferrer\">pixijs.download/v6.1.1/docs/PIXI.Loader.html</a> I tried CTRL + F to search for deprec or keywords the same, but it seems like the github has been updated last on 2019. What should I to create a function that lets me freely choose the name, path, x and y for an image?"},{"owner":{"account_id":29659087,"reputation":21,"user_id":22731143,"display_name":"Daniel Jokiranta"},"score":1,"creation_date":1697141791,"post_id":77283406,"comment_id":136246174,"body_markdown":"I found it, https://pixijs.com/tutorial#2 An extremely easy way to add an image.","body":"I found it, <a href=\"https://pixijs.com/tutorial#2\" rel=\"nofollow noreferrer\">pixijs.com/tutorial#2</a> An extremely easy way to add an image."},{"owner":{"account_id":209503,"reputation":22790,"user_id":460557,"accept_rate":100,"display_name":"Jorge Campos"},"score":0,"creation_date":1697145260,"post_id":77283406,"comment_id":136246687,"body_markdown":"Great!! Add an answer for your question then :) it might help others in the future!","body":"Great!! Add an answer for your question then :) it might help others in the future!"}],"answers":[{"tags":[],"owner":{"account_id":29659087,"reputation":21,"user_id":22731143,"display_name":"Daniel Jokiranta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1697153374,"creation_date":1697153374,"answer_id":77284315,"question_id":77283406,"body_markdown":"Stackoverflow will offer you the code that I had (if you ask it to make it a function), do not use that as PIXI.Loader has been deprecated. \r\n\r\nA simple snippet will work:\r\n\r\n    const Image = PIXI.Sprite.from(&quot;images/image.png&quot;)\r\n    app.stage.addChild(Image);\r\n\r\n","title":"PIXI.Loader is not a constructor?","body":"<p>Stackoverflow will offer you the code that I had (if you ask it to make it a function), do not use that as PIXI.Loader has been deprecated.</p>\n<p>A simple snippet will work:</p>\n<pre><code>const Image = PIXI.Sprite.from(&quot;images/image.png&quot;)\napp.stage.addChild(Image);\n</code></pre>\n"}],"owner":{"account_id":29659087,"reputation":21,"user_id":22731143,"display_name":"Daniel Jokiranta"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1697153374,"creation_date":1697139123,"question_id":77283406,"body_markdown":"I created a javascript file consisting of only a exportable function:\r\n\r\n\r\n```\r\nexport function addImageToCanvas(imagePath, spriteX, spriteY) {\r\n  const loader = new PIXI.Loader();\r\n  loader.add(&#39;image&#39;, imagePath);\r\n  loader.load((loader, resources) =&gt; {\r\n    createSprite(resources.image.texture, spriteX, spriteY);\r\n  });\r\n\r\n  function createSprite(texture, x, y) {\r\n    const sprite = new PIXI.Sprite(texture);\r\n    sprite.x = x;\r\n    sprite.y = y;\r\n    app.stage.addChild(sprite);\r\n  }\r\n}\r\n```\r\n\r\n\r\n\r\n\r\nAnd I am trying to use it in my game.js:\r\n\r\n\r\n```\r\nimport { addImageToCanvas } from &quot;./imageLoader.js&quot;;\r\n\r\nvar cloudExists = false;\r\n\r\napp.ticker.add(gameLoop);\r\napp.ticker.start();\r\nfunction gameLoop(delta) {    \r\n    drawCloud();\r\n}\r\n\r\n\r\nfunction drawCloud() {\r\n    if (cloudExists == false) {\r\n        addImageToCanvas(&quot;images/cloud.png&quot;, 200, 200);\r\n        cloudExists = true;\r\n    }\r\n}\r\n```\r\n\r\n\r\n&quot;app&quot; is defined in canvas &quot;config&quot; file:\r\n\r\n\r\n```\r\nwindow.app = new PIXI.Application(\r\n    {\r\n        width: window.innerWidth,\r\n        height: (30 / 100) * window.innerHeight,\r\n        backgroundColor: 0x77adf7\r\n    }\r\n\r\n);\r\ndocument.body.appendChild(app.view);\r\n\r\nfunction resize() {\r\n    const newWidth = window.innerWidth;\r\n    const newHeight = (30 / 100) * window.innerHeight; // 30% of window height\r\n  \r\n    app.renderer.resize(newWidth, newHeight); \r\n}\r\nwindow.addEventListener(&#39;resize&#39;, resize);\r\n\r\n```\r\n\r\n\r\n\r\nI am trying to create an image load function, but it will give me the error &quot;Uncaught TypeError: PIXI.Loader is not a constructor&quot;.\r\n\r\nI had this with PIXI.Application, but once I switched to this pixi.js [https://pixijs.download/release/pixi.js](Pixi.js from the tutorial) , I got it fixed but now I am having a problem with PIXI.Loader.\r\n\r\nThe function is partially made by ChatGPT, but as PIXI.Loader is mentioned in the pixi.js file it shouldnt have this error.\r\n\r\nIf this information is not enough then I can give more. ","title":"PIXI.Loader is not a constructor?","body":"<p>I created a javascript file consisting of only a exportable function:</p>\n<pre><code>export function addImageToCanvas(imagePath, spriteX, spriteY) {\n  const loader = new PIXI.Loader();\n  loader.add('image', imagePath);\n  loader.load((loader, resources) =&gt; {\n    createSprite(resources.image.texture, spriteX, spriteY);\n  });\n\n  function createSprite(texture, x, y) {\n    const sprite = new PIXI.Sprite(texture);\n    sprite.x = x;\n    sprite.y = y;\n    app.stage.addChild(sprite);\n  }\n}\n</code></pre>\n<p>And I am trying to use it in my game.js:</p>\n<pre><code>import { addImageToCanvas } from &quot;./imageLoader.js&quot;;\n\nvar cloudExists = false;\n\napp.ticker.add(gameLoop);\napp.ticker.start();\nfunction gameLoop(delta) {    \n    drawCloud();\n}\n\n\nfunction drawCloud() {\n    if (cloudExists == false) {\n        addImageToCanvas(&quot;images/cloud.png&quot;, 200, 200);\n        cloudExists = true;\n    }\n}\n</code></pre>\n<p>&quot;app&quot; is defined in canvas &quot;config&quot; file:</p>\n<pre><code>window.app = new PIXI.Application(\n    {\n        width: window.innerWidth,\n        height: (30 / 100) * window.innerHeight,\n        backgroundColor: 0x77adf7\n    }\n\n);\ndocument.body.appendChild(app.view);\n\nfunction resize() {\n    const newWidth = window.innerWidth;\n    const newHeight = (30 / 100) * window.innerHeight; // 30% of window height\n  \n    app.renderer.resize(newWidth, newHeight); \n}\nwindow.addEventListener('resize', resize);\n\n</code></pre>\n<p>I am trying to create an image load function, but it will give me the error &quot;Uncaught TypeError: PIXI.Loader is not a constructor&quot;.</p>\n<p>I had this with PIXI.Application, but once I switched to this pixi.js [https://pixijs.download/release/pixi.js](Pixi.js from the tutorial) , I got it fixed but now I am having a problem with PIXI.Loader.</p>\n<p>The function is partially made by ChatGPT, but as PIXI.Loader is mentioned in the pixi.js file it shouldnt have this error.</p>\n<p>If this information is not enough then I can give more.</p>\n"},{"tags":["java","opencv"],"comments":[{"owner":{"account_id":3072614,"reputation":12296,"user_id":2602877,"display_name":"Christoph Rackwitz"},"score":0,"creation_date":1697193747,"post_id":77284303,"comment_id":136252227,"body_markdown":"show us that picture","body":"show us that picture"}],"owner":{"account_id":19124009,"reputation":31,"user_id":13967349,"display_name":"Planebagel"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1697153146,"creation_date":1697153146,"question_id":77284303,"body_markdown":"I have some Java code that detects a checkerboard using OpenCV and generates some camera calibration data from it, however, my program does not detect the checkerboard.\r\n\r\nThings I have tried:\r\n- modifying the maxCount and epsilon params of TermCriteria (lower maxCount, and higher epsilon), because I thought the issue was the poor quality coming from my webcam.\r\n- different checkerboards\r\n- different lighting conditions (well lit and dimly-lit)\r\n\r\nOther information:\r\n- I am using openpnp&#39;s OpenCV Java bindings\r\n- The code compiles and runs successfully, but as I&#39;ve stated before the program can&#39;t detect checkerboards\r\n- I haven&#39;t tried this with other cameras, I don&#39;t have access to other cameras.\r\n\r\nHere is my code\r\n\r\n```\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        // load OpenCV library\r\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\r\n        int CHECKERBOARD_COLS = 8;\r\n        int CHECKERBOARD_ROWS = 6;\r\n        Size boardSize = new Size(CHECKERBOARD_COLS, CHECKERBOARD_ROWS);\r\n\r\n        // modify epsillon maybe?\r\n        TermCriteria criteria = new TermCriteria(TermCriteria.EPS + TermCriteria.MAX_ITER, 12, 0.5);\r\n\r\n        List&lt;Mat&gt; objectPoints = new ArrayList&lt;&gt;();\r\n        List&lt;Mat&gt; imagePoints = new ArrayList&lt;&gt;();\r\n\r\n        MatOfPoint3f objectP3D = new MatOfPoint3f();\r\n        objectP3D.create(1, CHECKERBOARD_COLS * CHECKERBOARD_ROWS, CvType.CV_32FC3);\r\n        //objectP3D.create(CHECKERBOARD_ROWS, CHECKERBOARD_COLS, CvType.CV_32FC3);\r\n        float[] objBuff = new float[3 * CHECKERBOARD_COLS * CHECKERBOARD_ROWS];\r\n        for (int i = 0; i &lt; CHECKERBOARD_ROWS; i++) {\r\n            for (int j = 0; j &lt; CHECKERBOARD_COLS; j++) {\r\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3] = j;\r\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3 + 1] = i;\r\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3 + 2] = 0;\r\n            }\r\n        }\r\n        objectP3D.put(0, 0, objBuff);\r\n        \r\n        // capture video feed from webcam\r\n        VideoCapture capture = new VideoCapture(0);\r\n\r\n        MatOfPoint2f corners = new MatOfPoint2f();\r\n\r\n        Mat image = new Mat();\r\n        int currentFrame = 0;\r\n        while (true) {\r\n            currentFrame +=1;\r\n            //System.out.println(currentFrame);\r\n            capture.read(image);\r\n\r\n            Mat gray = new Mat();\r\n            Imgproc.cvtColor(image, gray, Imgproc.COLOR_BGR2GRAY);\r\n\r\n            boolean found = Calib3d.findChessboardCorners(gray, boardSize, corners);\r\n\r\n            if (found) {\r\n                System.out.println(&quot;checkerboard found&quot;);\r\n                Mat corners2 = new Mat();\r\n                Imgproc.cornerSubPix(gray, corners, new Size(11, 11), new Size(-1, -1), criteria);\r\n                corners2.release();\r\n                corners2 = corners.clone();\r\n                imagePoints.add(corners2);\r\n                objectPoints.add(objectP3D);\r\n                Calib3d.drawChessboardCorners(image, boardSize, corners, found);\r\n            }\r\n\r\n            HighGui.imshow(&quot;Camera Calibration&quot;, image);\r\n            if (HighGui.waitKey(1) == &#39;q&#39;) {\r\n                break;\r\n            }\r\n\r\n        }\r\n\r\n        capture.release();\r\n        HighGui.destroyAllWindows();\r\n\r\n        Size imageSize = new Size(image.width(), image.height());\r\n\r\n        Mat cameraMatrix = new Mat(3, 3, CvType.CV_64F);\r\n        MatOfDouble distortionCoefficients = new MatOfDouble();\r\n        List&lt;Mat&gt; rvecs = new ArrayList&lt;&gt;();\r\n        List&lt;Mat&gt; tvecs = new ArrayList&lt;&gt;();\r\n\r\n        Calib3d.calibrateCamera(objectPoints, imagePoints, imageSize, cameraMatrix, distortionCoefficients, rvecs, tvecs);\r\n\r\n        System.out.println(&quot;Camera Matrix:&quot;);\r\n        System.out.println(cameraMatrix.dump());\r\n\r\n        System.out.println(&quot;\\nDistortion Coefficients:&quot;);\r\n        System.out.println(distortionCoefficients.dump());\r\n\r\n        System.out.println(&quot;\\nRotation Vectors:&quot;);\r\n        for (Mat rvec : rvecs) {\r\n            System.out.println(rvec.dump());\r\n        }\r\n\r\n        System.out.println(&quot;\\nTranslation Vectors:&quot;);\r\n        for (Mat tvec : tvecs) {\r\n            System.out.println(tvec.dump());\r\n        }\r\n    }\r\n}\r\n\r\n","title":"Need help detecting a checkerboard for camera calibration [OpenCV 4.6]","body":"<p>I have some Java code that detects a checkerboard using OpenCV and generates some camera calibration data from it, however, my program does not detect the checkerboard.</p>\n<p>Things I have tried:</p>\n<ul>\n<li>modifying the maxCount and epsilon params of TermCriteria (lower maxCount, and higher epsilon), because I thought the issue was the poor quality coming from my webcam.</li>\n<li>different checkerboards</li>\n<li>different lighting conditions (well lit and dimly-lit)</li>\n</ul>\n<p>Other information:</p>\n<ul>\n<li>I am using openpnp's OpenCV Java bindings</li>\n<li>The code compiles and runs successfully, but as I've stated before the program can't detect checkerboards</li>\n<li>I haven't tried this with other cameras, I don't have access to other cameras.</li>\n</ul>\n<p>Here is my code</p>\n<pre><code>public class Main {\n\n    public static void main(String[] args) {\n        // load OpenCV library\n        System.loadLibrary(Core.NATIVE_LIBRARY_NAME);\n        int CHECKERBOARD_COLS = 8;\n        int CHECKERBOARD_ROWS = 6;\n        Size boardSize = new Size(CHECKERBOARD_COLS, CHECKERBOARD_ROWS);\n\n        // modify epsillon maybe?\n        TermCriteria criteria = new TermCriteria(TermCriteria.EPS + TermCriteria.MAX_ITER, 12, 0.5);\n\n        List&lt;Mat&gt; objectPoints = new ArrayList&lt;&gt;();\n        List&lt;Mat&gt; imagePoints = new ArrayList&lt;&gt;();\n\n        MatOfPoint3f objectP3D = new MatOfPoint3f();\n        objectP3D.create(1, CHECKERBOARD_COLS * CHECKERBOARD_ROWS, CvType.CV_32FC3);\n        //objectP3D.create(CHECKERBOARD_ROWS, CHECKERBOARD_COLS, CvType.CV_32FC3);\n        float[] objBuff = new float[3 * CHECKERBOARD_COLS * CHECKERBOARD_ROWS];\n        for (int i = 0; i &lt; CHECKERBOARD_ROWS; i++) {\n            for (int j = 0; j &lt; CHECKERBOARD_COLS; j++) {\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3] = j;\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3 + 1] = i;\n                objBuff[(i * CHECKERBOARD_COLS + j) * 3 + 2] = 0;\n            }\n        }\n        objectP3D.put(0, 0, objBuff);\n        \n        // capture video feed from webcam\n        VideoCapture capture = new VideoCapture(0);\n\n        MatOfPoint2f corners = new MatOfPoint2f();\n\n        Mat image = new Mat();\n        int currentFrame = 0;\n        while (true) {\n            currentFrame +=1;\n            //System.out.println(currentFrame);\n            capture.read(image);\n\n            Mat gray = new Mat();\n            Imgproc.cvtColor(image, gray, Imgproc.COLOR_BGR2GRAY);\n\n            boolean found = Calib3d.findChessboardCorners(gray, boardSize, corners);\n\n            if (found) {\n                System.out.println(&quot;checkerboard found&quot;);\n                Mat corners2 = new Mat();\n                Imgproc.cornerSubPix(gray, corners, new Size(11, 11), new Size(-1, -1), criteria);\n                corners2.release();\n                corners2 = corners.clone();\n                imagePoints.add(corners2);\n                objectPoints.add(objectP3D);\n                Calib3d.drawChessboardCorners(image, boardSize, corners, found);\n            }\n\n            HighGui.imshow(&quot;Camera Calibration&quot;, image);\n            if (HighGui.waitKey(1) == 'q') {\n                break;\n            }\n\n        }\n\n        capture.release();\n        HighGui.destroyAllWindows();\n\n        Size imageSize = new Size(image.width(), image.height());\n\n        Mat cameraMatrix = new Mat(3, 3, CvType.CV_64F);\n        MatOfDouble distortionCoefficients = new MatOfDouble();\n        List&lt;Mat&gt; rvecs = new ArrayList&lt;&gt;();\n        List&lt;Mat&gt; tvecs = new ArrayList&lt;&gt;();\n\n        Calib3d.calibrateCamera(objectPoints, imagePoints, imageSize, cameraMatrix, distortionCoefficients, rvecs, tvecs);\n\n        System.out.println(&quot;Camera Matrix:&quot;);\n        System.out.println(cameraMatrix.dump());\n\n        System.out.println(&quot;\\nDistortion Coefficients:&quot;);\n        System.out.println(distortionCoefficients.dump());\n\n        System.out.println(&quot;\\nRotation Vectors:&quot;);\n        for (Mat rvec : rvecs) {\n            System.out.println(rvec.dump());\n        }\n\n        System.out.println(&quot;\\nTranslation Vectors:&quot;);\n        for (Mat tvec : tvecs) {\n            System.out.println(tvec.dump());\n        }\n    }\n}\n\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9891,"page":126,"page_size":100}
