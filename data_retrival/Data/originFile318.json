{"items":[{"tags":["java","spring","constraints"],"owner":{"account_id":10530075,"reputation":1,"user_id":7759730,"display_name":"Валерий Ермолаев"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689001034,"creation_date":1689001034,"question_id":76654985,"body_markdown":"I wrote a custom annotation using javax. The problem is I need to put annotation in one module(annotations) and validator in the another module(validators). But only module with validators can see the module with annotations.\r\n\r\n\r\nSo I can&#39;t put my validator inside &quot;validatedBy&quot;: \r\n\r\n**//It works only if MyAnnotation and MyValidator exist in the same module**\r\n```\r\n`@Constraint(validatedBy = {MyValidator.class}) \r\n@Target({TYPE})\r\n@Retention(RUNTIME)\r\npublic @interface MyAnnotation {   \r\n//\r\n}`\r\n```\r\n\r\nI tried create an interface in the same module as an annotation and write my validator as an implementation in my module with validators and create a bean:\r\n\r\n**//module with annotations**\r\n```\r\n`*@Constraint(validatedBy = {MyValidatorInterface.class}) \r\n@Target({TYPE})\r\n@Retention(RUNTIME)\r\npublic @interface MyAnnotation {   \r\n//\r\n}`\r\npublic interface MyValidatorInterface extends ConstraintValidator&lt;MyAnnotation, Object&gt; {\r\n}*\r\n```\r\n\r\n**//module with validators**\r\n```\r\n`*@AutoService(ConstraintValidator.class)\r\npublic class MyValidatorImpl implements MyValidatorInterface {\r\n//\r\n}`\r\n```\r\n```\r\n`@Configuration\r\npublic class ValidationConfig {\r\n    @Bean\r\n    public MyValidatorInterface getMyValidatorInterface() {\r\n        return new MyValidatorImpl();\r\n    }\r\n}*`\r\n```\r\n\r\n**When I try to use my Class with MyAnnotation I get an exception:**\r\n\r\n&quot;org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;some_path.MyValidatorInterface&#39;: Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [some_path.MyValidatorInterface]: Specified class is an interface&quot;\r\n\r\nIs it possible to find a solution and keep annotation and validator in different modules?","title":"Spring valued by Interface in javax.validation.Constraint","body":"<p>I wrote a custom annotation using javax. The problem is I need to put annotation in one module(annotations) and validator in the another module(validators). But only module with validators can see the module with annotations.</p>\n<p>So I can't put my validator inside &quot;validatedBy&quot;:</p>\n<p><strong>//It works only if MyAnnotation and MyValidator exist in the same module</strong></p>\n<pre><code>`@Constraint(validatedBy = {MyValidator.class}) \n@Target({TYPE})\n@Retention(RUNTIME)\npublic @interface MyAnnotation {   \n//\n}`\n</code></pre>\n<p>I tried create an interface in the same module as an annotation and write my validator as an implementation in my module with validators and create a bean:</p>\n<p><strong>//module with annotations</strong></p>\n<pre><code>`*@Constraint(validatedBy = {MyValidatorInterface.class}) \n@Target({TYPE})\n@Retention(RUNTIME)\npublic @interface MyAnnotation {   \n//\n}`\npublic interface MyValidatorInterface extends ConstraintValidator&lt;MyAnnotation, Object&gt; {\n}*\n</code></pre>\n<p><strong>//module with validators</strong></p>\n<pre><code>`*@AutoService(ConstraintValidator.class)\npublic class MyValidatorImpl implements MyValidatorInterface {\n//\n}`\n</code></pre>\n<pre><code>`@Configuration\npublic class ValidationConfig {\n    @Bean\n    public MyValidatorInterface getMyValidatorInterface() {\n        return new MyValidatorImpl();\n    }\n}*`\n</code></pre>\n<p><strong>When I try to use my Class with MyAnnotation I get an exception:</strong></p>\n<p>&quot;org.springframework.web.util.NestedServletException: Request processing failed; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'some_path.MyValidatorInterface': Instantiation of bean failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [some_path.MyValidatorInterface]: Specified class is an interface&quot;</p>\n<p>Is it possible to find a solution and keep annotation and validator in different modules?</p>\n"},{"tags":["java","eclipse"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1366558689,"post_id":16132890,"comment_id":23045507,"body_markdown":"Did you try escaping it with a backslash?","body":"Did you try escaping it with a backslash?"},{"owner":{"account_id":1622191,"reputation":361,"user_id":1498514,"display_name":"Lord M-Cube"},"score":0,"creation_date":1366560574,"post_id":16132890,"comment_id":23046067,"body_markdown":"Yes, which results in listing all files and folders from my root directory (in my case &quot;C:\\&quot;). Oh, I should add that I&#39;m working on windows ;)","body":"Yes, which results in listing all files and folders from my root directory (in my case &quot;C:\\&quot;). Oh, I should add that I&#39;m working on windows ;)"},{"owner":{"account_id":366325,"reputation":1601,"user_id":711785,"display_name":"atlanto"},"score":2,"creation_date":1366588260,"post_id":16132890,"comment_id":23053821,"body_markdown":"http://stackoverflow.com/questions/3861086/how-to-avoid-shell-expansion-when-running-java-app-in-eclipse , and https://bugs.eclipse.org/bugs/show_bug.cgi?id=212264","body":"<a href=\"http://stackoverflow.com/questions/3861086/how-to-avoid-shell-expansion-when-running-java-app-in-eclipse\" title=\"how to avoid shell expansion when running java app in eclipse\">stackoverflow.com/questions/3861086/&hellip;</a> , and <a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=212264\" rel=\"nofollow noreferrer\">bugs.eclipse.org/bugs/show_bug.cgi?id=212264</a>"}],"answers":[{"tags":[],"owner":{"account_id":19004,"reputation":21826,"user_id":44089,"accept_rate":79,"display_name":"Bananeweizen"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1366572536,"creation_date":1366572536,"answer_id":16135292,"question_id":16132890,"body_markdown":"It&#39;s a programming bug in your own program. Eclipse passes the main arguments verbatim to your program. You can easily check this by creating a Java program which has only this one line in main:\r\n\r\n    System.out.println(args[0]);\r\n\r\nand passing an asterisk as the only argument to that program in the run configuration. That prints the single asterisk character, as expected.","title":"Passing the asterisk as command line argument to main in Eclipse","body":"<p>It's a programming bug in your own program. Eclipse passes the main arguments verbatim to your program. You can easily check this by creating a Java program which has only this one line in main:</p>\n\n<pre><code>System.out.println(args[0]);\n</code></pre>\n\n<p>and passing an asterisk as the only argument to that program in the run configuration. That prints the single asterisk character, as expected.</p>\n"},{"tags":[],"owner":{"account_id":6827735,"reputation":21,"user_id":5252909,"display_name":"Dave"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1440176871,"creation_date":1440176871,"answer_id":32145823,"question_id":16132890,"body_markdown":"Eclipse expands the * into a list of property names.  So the program is actually passed (on my system) an args array of:\r\n.classpath, .project, .settings, .bin, .src\r\nInstead of the * .\r\n\r\nIf I put ANY text with the *, like &quot;X*&quot;, then I get the &quot;X*&quot;.\r\n\r\nDoubles quotes does not help.  Neither does escaping it with a slash.\r\n\r\nFrom the shell it works fine, although a warning on Windows at least that you do need to put it in quotes.  Windows will strip the quotes before the program gets it.\r\n\r\nBut under Eclipse, I can find no workaround that allows passing just a * .\r\n\r\n","title":"Passing the asterisk as command line argument to main in Eclipse","body":"<p>Eclipse expands the * into a list of property names.  So the program is actually passed (on my system) an args array of:\n.classpath, .project, .settings, .bin, .src\nInstead of the * .</p>\n\n<p>If I put ANY text with the <em>, like \"X</em>\", then I get the \"X*\".</p>\n\n<p>Doubles quotes does not help.  Neither does escaping it with a slash.</p>\n\n<p>From the shell it works fine, although a warning on Windows at least that you do need to put it in quotes.  Windows will strip the quotes before the program gets it.</p>\n\n<p>But under Eclipse, I can find no workaround that allows passing just a * .</p>\n"},{"tags":[],"owner":{"account_id":25214809,"reputation":1,"user_id":19052065,"display_name":"Fabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651833255,"creation_date":1651833255,"answer_id":72140095,"question_id":16132890,"body_markdown":"To anyone running into the same problem, you need to write it as &quot;* &quot; for eclipse to pass it as *\r\n","title":"Passing the asterisk as command line argument to main in Eclipse","body":"<p>To anyone running into the same problem, you need to write it as &quot;* &quot; for eclipse to pass it as *</p>\n"},{"tags":[],"owner":{"account_id":26557495,"reputation":1,"user_id":20185872,"display_name":"Tester04"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689001032,"creation_date":1689000531,"answer_id":76654904,"question_id":16132890,"body_markdown":"Select Run Configurations from Run dropdown menu. \r\n\r\nGo to Arguments tab.\r\n\r\nTick the @argfile box.","title":"Passing the asterisk as command line argument to main in Eclipse","body":"<p>Select Run Configurations from Run dropdown menu.</p>\n<p>Go to Arguments tab.</p>\n<p>Tick the @argfile box.</p>\n"}],"owner":{"account_id":1622191,"reputation":361,"user_id":1498514,"display_name":"Lord M-Cube"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2736,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1689001032,"creation_date":1366558592,"question_id":16132890,"body_markdown":"I&#39;m working on a Java project in Eclipse and now I&#39;d like to pass the asterisk `*` as a command line argument to the main. I&#39;m aware of the fact that this is a wildcard symbol and in every shell it works fine by simply putting it into quotes, so instead of `java MyProgram *` I&#39;d type `java MyProgram &quot;*&quot;`.\r\n\r\nIn Eclipse (Run Cofigurations -&gt; Arguments) it doesn&#39;t work either way, even with quotes it just lists all files inside the directory. Single quotes as in `&#39;*&#39;` works the same way as `a*a` or something, meaning the single quotes (or apostrophes) will be passed into the string, too.\r\n\r\nAny ideas how to get the `*` into the main?\r\n","title":"Passing the asterisk as command line argument to main in Eclipse","body":"<p>I'm working on a Java project in Eclipse and now I'd like to pass the asterisk <code>*</code> as a command line argument to the main. I'm aware of the fact that this is a wildcard symbol and in every shell it works fine by simply putting it into quotes, so instead of <code>java MyProgram *</code> I'd type <code>java MyProgram \"*\"</code>.</p>\n\n<p>In Eclipse (Run Cofigurations -> Arguments) it doesn't work either way, even with quotes it just lists all files inside the directory. Single quotes as in <code>'*'</code> works the same way as <code>a*a</code> or something, meaning the single quotes (or apostrophes) will be passed into the string, too.</p>\n\n<p>Any ideas how to get the <code>*</code> into the main?</p>\n"},{"tags":["java","spring","kotlin","google-cloud-platform","spring-data"],"owner":{"account_id":478256,"reputation":124,"user_id":890231,"display_name":"Andrei Ionita"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689000954,"creation_date":1688973741,"question_id":76651514,"body_markdown":"I have 2 Spring projects using the the following dependency:\r\n&gt; com.google.cloud:spring-cloud-gcp-starter-data-datastore\r\n\r\nProject A (runnable jar) depends on project B (library) and both are using Spring Data Repositories for GCP Datastore persistence.\r\n\r\nI need to use different Datastore namespaces for the 2 projects.\r\n\r\nOnly thing I can think of makes use of DatastoreNamespaceProvider, but I can&#39;t figure out how I can use different namespaces for different projects / repositories / packages:\r\n\r\n       @Bean\r\n       fun datastoreNamespaceProvider(): DatastoreNamespaceProvider {\r\n            return DatastoreNamespaceProvider {\r\n                if (???) {\r\n                    datastoreNamespace2\r\n                } else {\r\n                    datastoreNamespace1\r\n                }\r\n            }\r\n        }","title":"Using multiple GCP Datastore namespaces with Spring Data Repositories","body":"<p>I have 2 Spring projects using the the following dependency:</p>\n<blockquote>\n<p>com.google.cloud:spring-cloud-gcp-starter-data-datastore</p>\n</blockquote>\n<p>Project A (runnable jar) depends on project B (library) and both are using Spring Data Repositories for GCP Datastore persistence.</p>\n<p>I need to use different Datastore namespaces for the 2 projects.</p>\n<p>Only thing I can think of makes use of DatastoreNamespaceProvider, but I can't figure out how I can use different namespaces for different projects / repositories / packages:</p>\n<pre><code>   @Bean\n   fun datastoreNamespaceProvider(): DatastoreNamespaceProvider {\n        return DatastoreNamespaceProvider {\n            if (???) {\n                datastoreNamespace2\n            } else {\n                datastoreNamespace1\n            }\n        }\n    }\n</code></pre>\n"},{"tags":["java","jackson","jakarta-migration"],"comments":[{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1687788378,"post_id":76557408,"comment_id":134981699,"body_markdown":"Why don&#39;t you use the annotations from Jackson itself? [`com.fasterxml.jackson.annotation.JsonIgnore`](https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonIgnore.html)","body":"Why don&#39;t you use the annotations from Jackson itself? <a href=\"https://fasterxml.github.io/jackson-annotations/javadoc/2.7/com/fasterxml/jackson/annotation/JsonIgnore.html\" rel=\"nofollow noreferrer\"><code>com.fasterxml.jackson.annotation.JsonIgnore</code></a>"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1687788582,"post_id":76557408,"comment_id":134981733,"body_markdown":"Why would upgrading from Java8 to Java17 need to move to Jakarta packages? Those are different things. So you are probably doing more then just upgrading to Java17 and are now mixing things.","body":"Why would upgrading from Java8 to Java17 need to move to Jakarta packages? Those are different things. So you are probably doing more then just upgrading to Java17 and are now mixing things."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1687789544,"post_id":76557408,"comment_id":134981980,"body_markdown":"@M.Deinum Afaik the Javax package that was part of Java 8 is not included anymore in Java 17, so it&#39;s recommended to migrate from Javax to Jakarta.","body":"@M.Deinum Afaik the Javax package that was part of Java 8 is not included anymore in Java 17, so it&#39;s recommended to migrate from Javax to Jakarta."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1687789725,"post_id":76557408,"comment_id":134982017,"body_markdown":"@knittl Using Jackson&#39;s `JsonCreator` and `JsonProperty` annotations instead of Jakarta&#39;s `JsonbCreator` and `JsonbProperty` annotations gives the error I mentioned in my post. And mixing annotations from Jackson and Jakarta may be possible, but feels a bit like I&#39;m the wrong track.","body":"@knittl Using Jackson&#39;s <code>JsonCreator</code> and <code>JsonProperty</code> annotations instead of Jakarta&#39;s <code>JsonbCreator</code> and <code>JsonbProperty</code> annotations gives the error I mentioned in my post. And mixing annotations from Jackson and Jakarta may be possible, but feels a bit like I&#39;m the wrong track."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687843248,"post_id":76557408,"comment_id":134989290,"body_markdown":"@wouterio you are wrong. The `jakarta` packages are the JavaEE packages, when upgrading the JDK you aren&#39;t changing those. And as you hare using Jackson that doesn&#39;t matter at all. So you must be upgrading more then just Java17. The only thing you would need are JAXB related classes for XML.","body":"@wouterio you are wrong. The <code>jakarta</code> packages are the JavaEE packages, when upgrading the JDK you aren&#39;t changing those. And as you hare using Jackson that doesn&#39;t matter at all. So you must be upgrading more then just Java17. The only thing you would need are JAXB related classes for XML."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1687899655,"post_id":76557408,"comment_id":135001247,"body_markdown":"@M.Deinum Ow yeah sorry of course, I also upgraded the maven dependencies to the most recent versions. Still the question remains. Should I undo the migration from Javax to Jakarta, or what else?","body":"@M.Deinum Ow yeah sorry of course, I also upgraded the maven dependencies to the most recent versions. Still the question remains. Should I undo the migration from Javax to Jakarta, or what else?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1687932021,"post_id":76557408,"comment_id":135004264,"body_markdown":"So as stated you didn&#39;t only u pgrade java 17. Without knowing what you had this question will be impossible to answer. However as mentioned by others as well you are using jackson and you shouldn&#39;t change those annotations in the first place.","body":"So as stated you didn&#39;t only u pgrade java 17. Without knowing what you had this question will be impossible to answer. However as mentioned by others as well you are using jackson and you shouldn&#39;t change those annotations in the first place."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1688377212,"post_id":76557408,"comment_id":135061320,"body_markdown":"@M.Deinum Thank you. Please check my updated post.","body":"@M.Deinum Thank you. Please check my updated post."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688377566,"post_id":76557408,"comment_id":135061391,"body_markdown":"Those aren&#39;t the dependencies I&#39;m interested in. Which Jackson dependencies and classes you are using.","body":"Those aren&#39;t the dependencies I&#39;m interested in. Which Jackson dependencies and classes you are using."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1688381128,"post_id":76557408,"comment_id":135062032,"body_markdown":"I don&#39;t explicitly include Jackson dependencies, but `jersey-media-json-jackson` refers to `jackson-databind`, `jackson-module-jakarta-xmlbind-annotations`, `jackson-anotations`. I only use the `com.fasterxml.jackson.annotation` annotations `JsonCreator`, `JsonProperty`, `JsonAlias`, `JsonIgnore`. That counts for the old setup that&#39;s running fine, and the new setup.","body":"I don&#39;t explicitly include Jackson dependencies, but <code>jersey-media-json-jackson</code> refers to <code>jackson-databind</code>, <code>jackson-module-jakarta-xmlbind-annotations</code>, <code>jackson-anotations</code>. I only use the <code>com.fasterxml.jackson.annotation</code> annotations <code>JsonCreator</code>, <code>JsonProperty</code>, <code>JsonAlias</code>, <code>JsonIgnore</code>. That counts for the old setup that&#39;s running fine, and the new setup."},{"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"score":0,"creation_date":1688981593,"post_id":76557408,"comment_id":135143156,"body_markdown":"Still stuck on this... Any more ideas?","body":"Still stuck on this... Any more ideas?"}],"answers":[{"tags":[],"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689000865,"creation_date":1689000865,"answer_id":76654961,"question_id":76557408,"body_markdown":"Ok, so it turned out that the `jakarta.xml.bind-api` and `jaxb-runtime` dependencies were superfluous, and the `oauth2-client` dependency wasn&#39;t needed either but screwed things up some way or another. With the dependencies underneath, it all seems to works now:\r\n    \r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Migrating Jackson from Java 8 to 17","body":"<p>Ok, so it turned out that the <code>jakarta.xml.bind-api</code> and <code>jaxb-runtime</code> dependencies were superfluous, and the <code>oauth2-client</code> dependency wasn't needed either but screwed things up some way or another. With the dependencies underneath, it all seems to works now:</p>\n<pre><code>    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n        &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n        &lt;version&gt;3.1.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":13405788,"reputation":147,"user_id":9673864,"display_name":"wouterio"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2036,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76654961,"answer_count":1,"score":0,"last_activity_date":1689000865,"creation_date":1687788106,"question_id":76557408,"body_markdown":"I&#39;m trying to upgrade my project from Java 8 to 17. Afaik this inherently includes replacing Javax with Jakarta. For that I used the Intellij Javax-&gt;Jakarta migration tool. My classes use `com.fasterxml.jackson.annotation` annotations `JsonCreator` `JsonProperty` `JsonAlias` `JsonIgnore`.\r\n\r\nRunning some tests with Java 17 however gives the following error:\r\n```\r\nCaused by: jakarta.json.bind.JsonbException: Cannot create instance of a class: class io.wouter.bolendpoints.entities.BolRateLimit, No default constructor found.\r\n```\r\nwith `io.wouter.bolendpoints.entities.BolRateLimit` a class that &#39;m trying to deserialize.\r\n\r\nReplacing the `JsonCreator` and `JsonProperty` annotations with Jakarta annotations `JsonbCreator` `JsonbProperty` solves the error. But then I also need a replacement for `JsonAlias` and `JsonIgnore`. And if possible I rather stick with the Jackson annotations anyway.\r\n\r\nWhat is the right way to go here? I can find very little documentation about this.\r\n\r\nEDIT:\r\nAfter @M.Deinum&#39;s comments I got things running again with these old dependencies (and reverting all Jakarta imports to Javax):\r\n\r\n```\r\n        &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;2.3.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;2.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;2.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;2.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.security/oauth2-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;oauth2-client&lt;/artifactId&gt;\r\n            &lt;version&gt;2.35&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nHowever, the `javax.xml.bind.jaxb-api` dependency wasn&#39;t updated after 2018, so I guess I should still switch to Jakarta? These are the dependencies I&#39;d use for that:\r\n\r\n```\r\n        &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.1&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.security/oauth2-client --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.glassfish.jersey.security&lt;/groupId&gt;\r\n            &lt;artifactId&gt;oauth2-client&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\n\r\nBut then I get the old error again:\r\n`Caused by: jakarta.json.bind.JsonbException: Cannot create instance of a class: class io.wouter.bolendpoints.entities.BolRateLimit, No default constructor found.`\r\n\r\nAny ideas how to move on from here?\r\n","title":"Migrating Jackson from Java 8 to 17","body":"<p>I'm trying to upgrade my project from Java 8 to 17. Afaik this inherently includes replacing Javax with Jakarta. For that I used the Intellij Javax-&gt;Jakarta migration tool. My classes use <code>com.fasterxml.jackson.annotation</code> annotations <code>JsonCreator</code> <code>JsonProperty</code> <code>JsonAlias</code> <code>JsonIgnore</code>.</p>\n<p>Running some tests with Java 17 however gives the following error:</p>\n<pre><code>Caused by: jakarta.json.bind.JsonbException: Cannot create instance of a class: class io.wouter.bolendpoints.entities.BolRateLimit, No default constructor found.\n</code></pre>\n<p>with <code>io.wouter.bolendpoints.entities.BolRateLimit</code> a class that 'm trying to deserialize.</p>\n<p>Replacing the <code>JsonCreator</code> and <code>JsonProperty</code> annotations with Jakarta annotations <code>JsonbCreator</code> <code>JsonbProperty</code> solves the error. But then I also need a replacement for <code>JsonAlias</code> and <code>JsonIgnore</code>. And if possible I rather stick with the Jackson annotations anyway.</p>\n<p>What is the right way to go here? I can find very little documentation about this.</p>\n<p>EDIT:\nAfter @M.Deinum's comments I got things running again with these old dependencies (and reverting all Jakarta imports to Javax):</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/javax.xml.bind/jaxb-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;2.35&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;2.35&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\n            &lt;version&gt;2.35&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;2.35&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.security/oauth2-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.security&lt;/groupId&gt;\n            &lt;artifactId&gt;oauth2-client&lt;/artifactId&gt;\n            &lt;version&gt;2.35&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>However, the <code>javax.xml.bind.jaxb-api</code> dependency wasn't updated after 2018, so I guess I should still switch to Jakarta? These are the dependencies I'd use for that:</p>\n<pre><code>        &lt;!-- https://mvnrepository.com/artifact/jakarta.xml.bind/jakarta.xml.bind-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jaxb/jaxb-runtime --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;4.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.core/jersey-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.inject/jersey-hk2 --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.inject&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-hk2&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.connectors/jersey-apache-connector --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.connectors&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-apache-connector&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.media/jersey-media-json-jackson --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.media&lt;/groupId&gt;\n            &lt;artifactId&gt;jersey-media-json-jackson&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.glassfish.jersey.security/oauth2-client --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jersey.security&lt;/groupId&gt;\n            &lt;artifactId&gt;oauth2-client&lt;/artifactId&gt;\n            &lt;version&gt;3.1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>But then I get the old error again:\n<code>Caused by: jakarta.json.bind.JsonbException: Cannot create instance of a class: class io.wouter.bolendpoints.entities.BolRateLimit, No default constructor found.</code></p>\n<p>Any ideas how to move on from here?</p>\n"},{"tags":["java","json","java-8"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688983316,"post_id":76652657,"comment_id":135143511,"body_markdown":"Please share an [mcve]","body":"Please share an <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"score":0,"creation_date":1688983450,"post_id":76652657,"comment_id":135143540,"body_markdown":"Isn&#39;t this minimal enough? I posted three lines of code..  I am confused?","body":"Isn&#39;t this minimal enough? I posted three lines of code..  I am confused?"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1688991791,"post_id":76652657,"comment_id":135145270,"body_markdown":"The object named `productsJsonObject` is actually the top level object that contains the `products` object. You need to  `.get(“products”)` on it.","body":"The object named <code>productsJsonObject</code> is actually the top level object that contains the <code>products</code> object. You need to  <code>.get(“products”)</code> on it."}],"answers":[{"tags":[],"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689000639,"creation_date":1689000639,"answer_id":76654921,"question_id":76652657,"body_markdown":"First of all, when I ran your code on the JSON string in your question, I got an error:\r\n```none\r\nException in thread &quot;main&quot; org.json.JSONException: Expected a &#39;,&#39; or &#39;]&#39; at 128 [character 26 line 6]\r\n```\r\nAs @TimMoore wrote in his [comment][1]:\r\n&gt; The object named `productsJsonObject` is actually the top level object that contains the products object.\r\n\r\nYou have an unnamed JSON object that contains a single member named *products*. Hence after you do this:\r\n```java\r\nJSONObject productsJsonObject = (JSONObject) new JSONTokener(jsonString).nextValue();\r\n```\r\nyou need to do this:\r\n```java\r\nproductsJsonObject = (JSONObject) productsJsonObject.get(&quot;products&quot;);\r\n```\r\nThen you can do this:\r\n```java\r\nJSONObject productTypesJsonObject = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\r\n```\r\nHere is a complete example &amp;ndash; including changes I made to the JSON string in order to overcome the exception, above.\r\n\r\nNote that the code uses [text blocks][2] which were first added in JDK 15.\r\n```java\r\nimport org.json.JSONObject;\r\nimport org.json.JSONTokener;\r\n\r\npublic class OrgJsonT {\r\n\r\n    public static void main(String[] args) {\r\n        String json = &quot;&quot;&quot;\r\n{\r\n    &quot;products&quot;: {\r\n        &quot;productTypes&quot;: {\r\n            &quot;storeId&quot;: &quot;abc123&quot;,\r\n            &quot;names&quot;: [\r\n                {\r\n                    &quot;sku&quot;: 123\r\n                },\r\n                {\r\n                    &quot;prices&quot;: {\r\n                        &quot;salesTax&quot;: .2,\r\n                        &quot;wholeSalePrice&quot;: 5,\r\n                        &quot;retailPrice&quot;: 10\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    }\r\n}\r\n                &quot;&quot;&quot;;\r\n        JSONTokener jsonTokener = new JSONTokener(json);\r\n        JSONObject jsonObject = (JSONObject) jsonTokener.nextValue();\r\n        JSONObject productsJsonObject = (JSONObject) jsonObject.get(&quot;products&quot;);\r\n        JSONObject productTypesJsonObject = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\r\n        System.out.println(productTypesJsonObject);\r\n    }\r\n}\r\n```\r\nRunning the above code prints the following:\r\n```none\r\n{&quot;names&quot;:[{&quot;sku&quot;:123},{&quot;prices&quot;:{&quot;wholeSalePrice&quot;:5,&quot;salesTax&quot;:&quot;.2&quot;,&quot;retailPrice&quot;:10}}],&quot;storeId&quot;:&quot;abc123&quot;}\r\n```\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/76652657/org-json-jsonexception-when-trying-to-parse-complex-json-subsection#comment135145270_76652657\r\n  [2]: https://docs.oracle.com/en/java/javase/17/text-blocks/index.html","title":"org.json.JSONException when trying to parse complex JSON subsection","body":"<p>First of all, when I ran your code on the JSON string in your question, I got an error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Exception in thread &quot;main&quot; org.json.JSONException: Expected a ',' or ']' at 128 [character 26 line 6]\n</code></pre>\n<p>As @TimMoore wrote in his <a href=\"https://stackoverflow.com/questions/76652657/org-json-jsonexception-when-trying-to-parse-complex-json-subsection#comment135145270_76652657\">comment</a>:</p>\n<blockquote>\n<p>The object named <code>productsJsonObject</code> is actually the top level object that contains the products object.</p>\n</blockquote>\n<p>You have an unnamed JSON object that contains a single member named <em>products</em>. Hence after you do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject productsJsonObject = (JSONObject) new JSONTokener(jsonString).nextValue();\n</code></pre>\n<p>you need to do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>productsJsonObject = (JSONObject) productsJsonObject.get(&quot;products&quot;);\n</code></pre>\n<p>Then you can do this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>JSONObject productTypesJsonObject = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\n</code></pre>\n<p>Here is a complete example – including changes I made to the JSON string in order to overcome the exception, above.</p>\n<p>Note that the code uses <a href=\"https://docs.oracle.com/en/java/javase/17/text-blocks/index.html\" rel=\"nofollow noreferrer\">text blocks</a> which were first added in JDK 15.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.json.JSONObject;\nimport org.json.JSONTokener;\n\npublic class OrgJsonT {\n\n    public static void main(String[] args) {\n        String json = &quot;&quot;&quot;\n{\n    &quot;products&quot;: {\n        &quot;productTypes&quot;: {\n            &quot;storeId&quot;: &quot;abc123&quot;,\n            &quot;names&quot;: [\n                {\n                    &quot;sku&quot;: 123\n                },\n                {\n                    &quot;prices&quot;: {\n                        &quot;salesTax&quot;: .2,\n                        &quot;wholeSalePrice&quot;: 5,\n                        &quot;retailPrice&quot;: 10\n                    }\n                }\n            ]\n        }\n    }\n}\n                &quot;&quot;&quot;;\n        JSONTokener jsonTokener = new JSONTokener(json);\n        JSONObject jsonObject = (JSONObject) jsonTokener.nextValue();\n        JSONObject productsJsonObject = (JSONObject) jsonObject.get(&quot;products&quot;);\n        JSONObject productTypesJsonObject = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\n        System.out.println(productTypesJsonObject);\n    }\n}\n</code></pre>\n<p>Running the above code prints the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>{&quot;names&quot;:[{&quot;sku&quot;:123},{&quot;prices&quot;:{&quot;wholeSalePrice&quot;:5,&quot;salesTax&quot;:&quot;.2&quot;,&quot;retailPrice&quot;:10}}],&quot;storeId&quot;:&quot;abc123&quot;}\n</code></pre>\n"}],"owner":{"account_id":49142,"reputation":4904,"user_id":146234,"accept_rate":40,"display_name":"PacificNW_Lover"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76654921,"answer_count":1,"score":-1,"last_activity_date":1689000639,"creation_date":1688983222,"question_id":76652657,"body_markdown":"Am facing impediments when using Java 1.8 and the `org.json` lib to marshal &amp; parse a complex JSON object...\r\n\r\nJSON dependency:\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n    &lt;version&gt;NOT_KNOWN&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n---\r\n\r\nJSON response payload:\r\n\r\n```\r\n{\r\n\t&quot;products&quot;: {\r\n\t\t&quot;productTypes&quot;: {\r\n\t\t\t&quot;storeId&quot;: &quot;abc123&quot;\r\n\t\t\t&quot;names&quot;: [\r\n\t\t\t\t&quot;sku&quot;: &quot;123&quot;,\r\n\t\t\t\t&quot;prices&quot;: {\r\n\t\t\t\t\t&quot;salesTax&quot;: .2,\r\n\t\t\t\t\t&quot;wholeSalePrice&quot;: 5,\r\n\t\t\t\t\t&quot;retailPrice&quot;: 10\r\n\t\t\t\t}\r\n\t\t\t]\r\n\r\n\t\t}\r\n\t}\r\n}\r\n```\r\n\r\n---\r\n\r\n```\r\n// After obtaining as a jsonString\r\nJSONObject productsJsonObject = (JSONObject) new JSONTokener(jsonString).nextValue();\r\n\r\n// This logs the correct the JSON listed above\r\nlogger.info(&quot;productsJsonObject = {}&quot;, productsJsonObject); \r\n\r\n// Exception happens here:\r\nJSONObject productTypeJsonSection = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\r\n```\r\n\r\nThis exception is thrown:\r\n\r\n```\r\norg.json.JSONException: JSONObject[&quot;productTypes&quot;] not found.\r\n        at org.json.JSONObject.get(JSONObject.java:422) ~[json-NOT_KNOWN.jar:?]\r\n```\r\n\r\n","title":"org.json.JSONException when trying to parse complex JSON subsection","body":"<p>Am facing impediments when using Java 1.8 and the <code>org.json</code> lib to marshal &amp; parse a complex JSON object...</p>\n<p>JSON dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.json&lt;/groupId&gt;\n    &lt;artifactId&gt;json&lt;/artifactId&gt;\n    &lt;version&gt;NOT_KNOWN&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<hr />\n<p>JSON response payload:</p>\n<pre><code>{\n    &quot;products&quot;: {\n        &quot;productTypes&quot;: {\n            &quot;storeId&quot;: &quot;abc123&quot;\n            &quot;names&quot;: [\n                &quot;sku&quot;: &quot;123&quot;,\n                &quot;prices&quot;: {\n                    &quot;salesTax&quot;: .2,\n                    &quot;wholeSalePrice&quot;: 5,\n                    &quot;retailPrice&quot;: 10\n                }\n            ]\n\n        }\n    }\n}\n</code></pre>\n<hr />\n<pre><code>// After obtaining as a jsonString\nJSONObject productsJsonObject = (JSONObject) new JSONTokener(jsonString).nextValue();\n\n// This logs the correct the JSON listed above\nlogger.info(&quot;productsJsonObject = {}&quot;, productsJsonObject); \n\n// Exception happens here:\nJSONObject productTypeJsonSection = (JSONObject) productsJsonObject.get(&quot;productTypes&quot;);\n</code></pre>\n<p>This exception is thrown:</p>\n<pre><code>org.json.JSONException: JSONObject[&quot;productTypes&quot;] not found.\n        at org.json.JSONObject.get(JSONObject.java:422) ~[json-NOT_KNOWN.jar:?]\n</code></pre>\n"},{"tags":["java","spring","spring-boot","spring-mvc","thymeleaf"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688668894,"post_id":76631478,"comment_id":135108430,"body_markdown":"Hello, please check the package structure of your classes. It looks like the UserAccountController class is not found by Spring component scan. It should be in the same package as the main application class or in a sub-package of it.","body":"Hello, please check the package structure of your classes. It looks like the UserAccountController class is not found by Spring component scan. It should be in the same package as the main application class or in a sub-package of it."},{"owner":{"account_id":28964876,"reputation":3,"user_id":22186580,"display_name":"Baromir19"},"score":0,"creation_date":1688673471,"post_id":76631478,"comment_id":135109238,"body_markdown":"Hi, class UserAccountController is in the folder src\\main\\java\\com\\lpchat\\springboot\\chatSbApp\\controller, while the main class is 1 level up (src\\main\\java\\com\\lpchat\\springboot\\chatSbApp). ErrorController is located in the same folder as UserAccountControl.. and this is the most surprising thing, perhaps","body":"Hi, class UserAccountController is in the folder src\\main\\java\\com\\lpchat\\springboot\\chatSbApp\\controller, while the main class is 1 level up (src\\main\\java\\com\\lpchat\\springboot\\chatSbApp). ErrorController is located in the same folder as UserAccountControl.. and this is the most surprising thing, perhaps"}],"answers":[{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688713601,"creation_date":1688713601,"answer_id":76634635,"question_id":76631478,"body_markdown":"Opening link using window.location will require you to set complete path.\r\n\r\nTry to replace\r\n\r\n    &lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href=&#39;login.html&#39;&quot;&gt;Login&lt;/button&gt;\r\n\r\nWith\r\n\r\n    &lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href=&#39;http://localhost:8080/login&#39;&quot;&gt;Login&lt;/button&gt;\r\n\r\nAlso note you should not include .html extension since controller takes care of this when parsing templates","title":"Thymeleaf doesn&#39;t see page html in templates","body":"<p>Opening link using window.location will require you to set complete path.</p>\n<p>Try to replace</p>\n<pre><code>&lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href='login.html'&quot;&gt;Login&lt;/button&gt;\n</code></pre>\n<p>With</p>\n<pre><code>&lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href='http://localhost:8080/login'&quot;&gt;Login&lt;/button&gt;\n</code></pre>\n<p>Also note you should not include .html extension since controller takes care of this when parsing templates</p>\n"}],"owner":{"account_id":28964876,"reputation":3,"user_id":22186580,"display_name":"Baromir19"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76634635,"answer_count":1,"score":0,"last_activity_date":1689000103,"creation_date":1688666745,"question_id":76631478,"body_markdown":"I am new to Spring boot application development. I use eclipse IDE, spring boot v.3.1.1, maven project.\r\n\r\nThe problem is that my `.html` pages are in templates (`src/main/resources/templates`), which need to be displayed by their link (like a localhost:8080/page), controllers were created for them. I also tried to display the page in case of an error (/error), which is located in the same folder - and it is displayed.\r\n\r\nIn addition, I will give the code of the main method, controllers, and a small code of the html pages (they are quite large ...)\r\n\r\n`.java` file with void main:\r\n```\r\n@SpringBootApplication\r\npublic class ChatSbAppApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(ChatSbAppApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\nError controller (works fine):\r\n```\r\n@Controller\r\npublic class ErrorController implements org.springframework.boot.web.servlet.error.ErrorController {\r\n\r\n    @RequestMapping(&quot;/error&quot;)\r\n    public String handleError() {\r\n        return &quot;error&quot;;\r\n    }\r\n\r\n    @Override\r\n    public String getErrorPath() {\r\n        return &quot;/error&quot;;\r\n    }\r\n}\r\n```\r\n\r\nStandard controllers:\r\n```\r\n@Controller\r\npublic class UserAccountController {\r\n\r\n    private final UserAccountService userAccountService;\r\n\r\n    @Autowired\r\n    public UserAccountController(UserAccountService userAccountService) {\r\n        this.userAccountService = userAccountService;\r\n    }\r\n    \r\n    ///registration\r\n    \r\n    @GetMapping(&quot;/register&quot;)\r\n    public String showRegistrationForm() {\r\n        return &quot;register&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/register&quot;)\r\n    public String registerUser(@RequestBody UserAccount userAccount) {\r\n        userAccountService.saveUserAccount(userAccount);\r\n        return &quot;redirect:/login&quot;;\r\n    }\r\n    \r\n    ///authorisation\r\n    \r\n    @GetMapping(&quot;/login&quot;)\r\n    public String loginUser() {\r\n        return &quot;login&quot;;\r\n    }\r\n\r\n    @PostMapping(&quot;/login&quot;)\r\n    public String processLoginForm() {\r\n        return &quot;redirect:/chats&quot;;\r\n    }\r\n}\r\n```\r\n\r\napplication.properties:\r\n```\r\nspring.datasource.url=jdbc:postgresql://localhost:5432/ChatDB\r\nspring.datasource.username=postgres\r\nspring.datasource.password=1234\r\nspring.datasource.driver-class-name=org.postgresql.Driver\r\nserver.error.whitelabel.enabled = false\r\nspring.jpa.open-in-view=false\r\n```\r\n\r\nI also tried changing the config, but it didn&#39;t work either.\r\n```\r\n@Configuration\r\npublic class WebConfig implements WebMvcConfigurer {\r\n\r\n    @Bean\r\n    public ViewResolver viewResolver() {\r\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\r\n        resolver.setTemplateEngine(templateEngine());\r\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        return resolver;\r\n    }\r\n\r\n    @Bean\r\n    public TemplateEngine templateEngine() {\r\n        SpringTemplateEngine engine = new SpringTemplateEngine();\r\n        engine.setEnableSpringELCompiler(true);\r\n        engine.setTemplateResolver(templateResolver());\r\n        return engine;\r\n    }\r\n\r\n    @Bean\r\n    public ITemplateResolver templateResolver() {\r\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\r\n        resolver.setPrefix(&quot;classpath:/templates/&quot;);\r\n        resolver.setSuffix(&quot;.html&quot;);\r\n        resolver.setTemplateMode(TemplateMode.HTML);\r\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\r\n        return resolver;\r\n    }\r\n    \r\n    @Override\r\n    public void addInterceptors(InterceptorRegistry registry) {\r\n        registry.addInterceptor(new LoggingInterceptor());\r\n    }\r\n}\r\n```\r\n\r\nHTML example below: error.html works, but same login.html does not see. Also thymeleaf saw fine .css/.js in /static...\r\n```\r\n&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n  &lt;title&gt;Error Page&lt;/title&gt;\r\n  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{index.css}&quot;&gt;\r\n&lt;/head&gt;\r\n&lt;body&gt;\r\n  &lt;div class=&quot;navbar&quot;&gt;\r\n    &lt;div class=&quot;navbar-logo&quot;&gt;\r\n        &lt;button onclick=&quot;changeColor()&quot; class=&quot;color-button&quot;&gt;\r\n        &lt;/button&gt;\r\n    &lt;/div&gt;\r\n    &lt;div style=&quot;display:flex; margin-right: 40px;&quot;&gt;\r\n      &lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href=&#39;login.html&#39;&quot;&gt;Login&lt;/button&gt;\r\n    &lt;/div&gt;\r\n  &lt;/div&gt;\r\n  &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\r\n&lt;/body&gt;\r\n&lt;/html&gt;\r\n```\r\n\r\nI can also show the logs, but there is nothing surprising in them - not 1 error or warning, but not 1 mention of the created mapping (I read, in my opinion there should be a message, like &quot;mapping was created along the path [x.html]&quot; or something like that, I didn&#39;t have such a message). The thymeleaf dependency is also in pom.xml ;) \r\n\r\n\r\nAs I described above, I tried to change the thymeleaf config, but it didn&#39;t work. Also I read some other people&#39;s problems and tried to &quot;Project-&gt;Update Maven Project&quot; (Alt+F5) but it didn&#39;t help too","title":"Thymeleaf doesn&#39;t see page html in templates","body":"<p>I am new to Spring boot application development. I use eclipse IDE, spring boot v.3.1.1, maven project.</p>\n<p>The problem is that my <code>.html</code> pages are in templates (<code>src/main/resources/templates</code>), which need to be displayed by their link (like a localhost:8080/page), controllers were created for them. I also tried to display the page in case of an error (/error), which is located in the same folder - and it is displayed.</p>\n<p>In addition, I will give the code of the main method, controllers, and a small code of the html pages (they are quite large ...)</p>\n<p><code>.java</code> file with void main:</p>\n<pre><code>@SpringBootApplication\npublic class ChatSbAppApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(ChatSbAppApplication.class, args);\n    }\n\n}\n</code></pre>\n<p>Error controller (works fine):</p>\n<pre><code>@Controller\npublic class ErrorController implements org.springframework.boot.web.servlet.error.ErrorController {\n\n    @RequestMapping(&quot;/error&quot;)\n    public String handleError() {\n        return &quot;error&quot;;\n    }\n\n    @Override\n    public String getErrorPath() {\n        return &quot;/error&quot;;\n    }\n}\n</code></pre>\n<p>Standard controllers:</p>\n<pre><code>@Controller\npublic class UserAccountController {\n\n    private final UserAccountService userAccountService;\n\n    @Autowired\n    public UserAccountController(UserAccountService userAccountService) {\n        this.userAccountService = userAccountService;\n    }\n    \n    ///registration\n    \n    @GetMapping(&quot;/register&quot;)\n    public String showRegistrationForm() {\n        return &quot;register&quot;;\n    }\n\n    @PostMapping(&quot;/register&quot;)\n    public String registerUser(@RequestBody UserAccount userAccount) {\n        userAccountService.saveUserAccount(userAccount);\n        return &quot;redirect:/login&quot;;\n    }\n    \n    ///authorisation\n    \n    @GetMapping(&quot;/login&quot;)\n    public String loginUser() {\n        return &quot;login&quot;;\n    }\n\n    @PostMapping(&quot;/login&quot;)\n    public String processLoginForm() {\n        return &quot;redirect:/chats&quot;;\n    }\n}\n</code></pre>\n<p>application.properties:</p>\n<pre><code>spring.datasource.url=jdbc:postgresql://localhost:5432/ChatDB\nspring.datasource.username=postgres\nspring.datasource.password=1234\nspring.datasource.driver-class-name=org.postgresql.Driver\nserver.error.whitelabel.enabled = false\nspring.jpa.open-in-view=false\n</code></pre>\n<p>I also tried changing the config, but it didn't work either.</p>\n<pre><code>@Configuration\npublic class WebConfig implements WebMvcConfigurer {\n\n    @Bean\n    public ViewResolver viewResolver() {\n        ThymeleafViewResolver resolver = new ThymeleafViewResolver();\n        resolver.setTemplateEngine(templateEngine());\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        return resolver;\n    }\n\n    @Bean\n    public TemplateEngine templateEngine() {\n        SpringTemplateEngine engine = new SpringTemplateEngine();\n        engine.setEnableSpringELCompiler(true);\n        engine.setTemplateResolver(templateResolver());\n        return engine;\n    }\n\n    @Bean\n    public ITemplateResolver templateResolver() {\n        SpringResourceTemplateResolver resolver = new SpringResourceTemplateResolver();\n        resolver.setPrefix(&quot;classpath:/templates/&quot;);\n        resolver.setSuffix(&quot;.html&quot;);\n        resolver.setTemplateMode(TemplateMode.HTML);\n        resolver.setCharacterEncoding(&quot;UTF-8&quot;);\n        return resolver;\n    }\n    \n    @Override\n    public void addInterceptors(InterceptorRegistry registry) {\n        registry.addInterceptor(new LoggingInterceptor());\n    }\n}\n</code></pre>\n<p>HTML example below: error.html works, but same login.html does not see. Also thymeleaf saw fine .css/.js in /static...</p>\n<pre><code>&lt;!DOCTYPE html&gt;\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n  &lt;title&gt;Error Page&lt;/title&gt;\n  &lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; th:href=&quot;@{index.css}&quot;&gt;\n&lt;/head&gt;\n&lt;body&gt;\n  &lt;div class=&quot;navbar&quot;&gt;\n    &lt;div class=&quot;navbar-logo&quot;&gt;\n        &lt;button onclick=&quot;changeColor()&quot; class=&quot;color-button&quot;&gt;\n        &lt;/button&gt;\n    &lt;/div&gt;\n    &lt;div style=&quot;display:flex; margin-right: 40px;&quot;&gt;\n      &lt;button class=&quot;auth-button&quot; onclick=&quot;window.location.href='login.html'&quot;&gt;Login&lt;/button&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n  &lt;script src=&quot;index.js&quot;&gt;&lt;/script&gt;\n&lt;/body&gt;\n&lt;/html&gt;\n</code></pre>\n<p>I can also show the logs, but there is nothing surprising in them - not 1 error or warning, but not 1 mention of the created mapping (I read, in my opinion there should be a message, like &quot;mapping was created along the path [x.html]&quot; or something like that, I didn't have such a message). The thymeleaf dependency is also in pom.xml ;)</p>\n<p>As I described above, I tried to change the thymeleaf config, but it didn't work. Also I read some other people's problems and tried to &quot;Project-&gt;Update Maven Project&quot; (Alt+F5) but it didn't help too</p>\n"},{"tags":["java","javafx-8","fxml","fxmlloader"],"answers":[{"tags":[],"owner":{"account_id":26107901,"reputation":43,"user_id":19802322,"display_name":"Mira"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688999411,"creation_date":1688999411,"answer_id":76654763,"question_id":76638122,"body_markdown":"For the sake of anyone who comes across this post in the future, this is how I managed to solve the issue:\r\n\r\nThe following method creates mainStage&#39;s scene using the fxml file as root.\r\n\r\n    public Scene getMainStageScene() throws Exception {\r\n        \r\n        Parent root = FXMLLoader.load(getClass().getResource(&quot;main_stage.fxml&quot;));    \r\n        Scene mainStageScene = new Scene(root, 800, 800);\r\n        \r\n    return mainStageScene; \r\n} \r\n \r\n\r\nTo obtain the object that has access to all elements injected by FXML, I modified the code above the following way:\r\n\r\n    public Scene getMainStageScene() throws Exception {\r\n        \r\n        FXMLLoader loader = new FXMLLoader();\r\n        loader.setLocation(getClass().getResource(&quot;main_stage.fxml&quot;));\r\n        Parent root = loader.load();\r\n\r\n\t//defined as: public static mainStage mainStageControllerInstance; before this method\r\n        mainStageControllerInstance = loader.getController(); \r\n\r\n        Scene mainStageScene = new Scene(root, 800, 800);\r\n        \r\n    return mainStageScene;   \r\n} \r\n\r\nAnd now I am able to access/modify the objects displayed on mainStage from everywhere in the program, including the popup window.","title":"Passing fxml objects between two seperate controller classes javafx fxml","body":"<p>For the sake of anyone who comes across this post in the future, this is how I managed to solve the issue:</p>\n<p>The following method creates mainStage's scene using the fxml file as root.</p>\n<pre><code>public Scene getMainStageScene() throws Exception {\n    \n    Parent root = FXMLLoader.load(getClass().getResource(&quot;main_stage.fxml&quot;));    \n    Scene mainStageScene = new Scene(root, 800, 800);\n    \nreturn mainStageScene; \n</code></pre>\n<p>}</p>\n<p>To obtain the object that has access to all elements injected by FXML, I modified the code above the following way:</p>\n<pre><code>public Scene getMainStageScene() throws Exception {\n    \n    FXMLLoader loader = new FXMLLoader();\n    loader.setLocation(getClass().getResource(&quot;main_stage.fxml&quot;));\n    Parent root = loader.load();\n\n//defined as: public static mainStage mainStageControllerInstance; before this method\n    mainStageControllerInstance = loader.getController(); \n\n    Scene mainStageScene = new Scene(root, 800, 800);\n    \nreturn mainStageScene;   \n</code></pre>\n<p>}</p>\n<p>And now I am able to access/modify the objects displayed on mainStage from everywhere in the program, including the popup window.</p>\n"}],"owner":{"account_id":26107901,"reputation":43,"user_id":19802322,"display_name":"Mira"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76654763,"answer_count":1,"score":0,"last_activity_date":1688999411,"creation_date":1688742487,"question_id":76638122,"body_markdown":"I have two seperate stages (mainStage, popupStage), both with their own controller class and associated fxml file. \r\n\r\nI would like to access some buttons defined with the @FXML annotation in mainStage&#39;s controller, from popupStage&#39;s controller. I&#39;ve found that using `loader.getController()` to create an instance of the controller that has all the fxml button objects, then passing it to the popupScene&#39;s controller, and simply calling `mainStageControllerInstance.reset();` from the popupStage controller would be a viable solution. I&#39;ve managed to create a mainStageController instance using this approach, however, the buttons retrieved from this instance weren&#39;t the same ones that were being displayed on the mainStage at runtime. Therefore I am only able to affect the buttons from the mainStage controller class, and not by calling the @FXML reset() method from the popupStage controller, and adding the buttons retrieved from the `loader.getController()` object.\r\n\r\nCreating the mainStageControllerInstance object:\r\n\r\n```\r\nFXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;main_scene.fxml&quot;));\r\nAnchorPane root = loader.load();\r\nmainStageController mainStageControllerInstance  = loader.getController();\r\n```\r\n\r\nI&#39;ve tried adding this code to multiple different classes/methods of the program in hopes that I would be able to reference the buttons displayed on mainStage, and modify them by the click of a button on the popup, but nothing seemed to work.\r\n\r\nI have checked all related questions that I came accross that seemingly answered my question, but nothing worked. I&#39;d greatly appreciate any help with this issue.","title":"Passing fxml objects between two seperate controller classes javafx fxml","body":"<p>I have two seperate stages (mainStage, popupStage), both with their own controller class and associated fxml file.</p>\n<p>I would like to access some buttons defined with the @FXML annotation in mainStage's controller, from popupStage's controller. I've found that using <code>loader.getController()</code> to create an instance of the controller that has all the fxml button objects, then passing it to the popupScene's controller, and simply calling <code>mainStageControllerInstance.reset();</code> from the popupStage controller would be a viable solution. I've managed to create a mainStageController instance using this approach, however, the buttons retrieved from this instance weren't the same ones that were being displayed on the mainStage at runtime. Therefore I am only able to affect the buttons from the mainStage controller class, and not by calling the @FXML reset() method from the popupStage controller, and adding the buttons retrieved from the <code>loader.getController()</code> object.</p>\n<p>Creating the mainStageControllerInstance object:</p>\n<pre><code>FXMLLoader loader = new FXMLLoader(getClass().getResource(&quot;main_scene.fxml&quot;));\nAnchorPane root = loader.load();\nmainStageController mainStageControllerInstance  = loader.getController();\n</code></pre>\n<p>I've tried adding this code to multiple different classes/methods of the program in hopes that I would be able to reference the buttons displayed on mainStage, and modify them by the click of a button on the popup, but nothing seemed to work.</p>\n<p>I have checked all related questions that I came accross that seemingly answered my question, but nothing worked. I'd greatly appreciate any help with this issue.</p>\n"},{"tags":["java","android","json","rest"],"answers":[{"tags":[],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688999021,"creation_date":1688998108,"answer_id":76654578,"question_id":76637917,"body_markdown":"**Solved**\r\n\r\nAfter almost 3 days of debugging and hours of scrapping the internet for solutions, I discovered that the issue was with the usage of the page and size parameters in the API call. Initially, I mistakenly used the @Query annotation instead of manually fixing the server-side controller to be able to handle paging and size as part of the query. \r\n\r\n\r\nwhich made a get request to the server with this path http://localhost:8080/api/v1/post/post?page=10&amp;size=10 \r\n\r\nwhen I was expecting to make a get request to this path  \r\nhttp://localhost:8080/api/v1/post/post\r\n\r\n Consequently, the API call did not return any posts, even though it appeared to be successful. That&#39;s what confused me. \r\n\r\n\r\n","title":"Unable to retrieve posts from API in Android app","body":"<p><strong>Solved</strong></p>\n<p>After almost 3 days of debugging and hours of scrapping the internet for solutions, I discovered that the issue was with the usage of the page and size parameters in the API call. Initially, I mistakenly used the @Query annotation instead of manually fixing the server-side controller to be able to handle paging and size as part of the query.</p>\n<p>which made a get request to the server with this path http://localhost:8080/api/v1/post/post?page=10&amp;size=10</p>\n<p>when I was expecting to make a get request to this path<br />\nhttp://localhost:8080/api/v1/post/post</p>\n<p>Consequently, the API call did not return any posts, even though it appeared to be successful. That's what confused me.</p>\n"}],"owner":{"account_id":22937722,"reputation":25,"user_id":17070934,"display_name":"ABAB"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76654578,"answer_count":1,"score":0,"last_activity_date":1688999021,"creation_date":1688740756,"question_id":76637917,"body_markdown":"I&#39;m currently working on an Android social media application, and I&#39;m facing an issue with retrieving posts from the API. I&#39;m using Retrofit to make the API call, and although the call is successful, I&#39;m not receiving any posts in the response.\r\n\r\nHere&#39;s the relevant information:\r\n\r\n&gt; API endpoint: https://api.example.com/api/v1/post/post  \r\nRequest method: GET  \r\nRequired parameters: page (int), size (int)  \r\nRequest header: Authorization (contains a valid authentication token)  \r\n\r\nI have verified that the API call is being made correctly, and the authentication token is included in the request header. However, the response I receive does not contain any posts.\r\n\r\nHere are the relevant logs in Android Studio:\r\n\r\n```none\r\n2023-07-07 16:21:23.737  I  Auth Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huQGdtYWlsLmNvbSIsInJvbGVzIjpbIlVTRVIiXSwiaXNzIjoiL2FwaS92MS9sb2dpbiIsImV4cCI6MTY4ODc0MzI4Mn0.LaYnVqLrUtAG7weC0hk56W7anVt9nWmYet8Zg1lAuOg\r\n2023-07-07 16:21:32.075  I  we should get the posts here retrofit2.OkHttpCall$NoContentResponseBody@df0ef6d\r\n2023-07-07 16:21:32.076  I  number of posts: 0\r\n2023-07-07 16:21:32.076  I  total pages: 0\r\n2023-07-07 16:21:32.076  I  total elements: 3\r\n\r\n```\r\n\r\nAs you can see, the response indicates that there are no posts (number of posts: 0) even though there are actually 3 posts available.\r\n\r\nWhat I return in Postman:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/3PDfr.png\r\n\r\n\r\nHere&#39;s the relevant code snippet for making the API call:\r\n```\r\n\r\n// Make the API call to fetch the list of posts\r\nPostService postService = retrofit.create(PostService.class);\r\nCall&lt;PostPage&gt; call = postService.getAllPosts(authToken,10, 15); // Replace page and size with your desired values\r\ncall.enqueue(new Callback&lt;PostPage&gt;() {\r\n    @Override\r\n    public void onResponse(Call&lt;PostPage&gt; call, Response&lt;PostPage&gt; response) {\r\n        System.out.println(&quot;we should get the postts here &quot; + response.raw().body().toString());\r\n        System.out.println(&quot;header check &quot;  + response.headers());\r\n        if (response.isSuccessful() &amp;&amp; response.body()!=null) {\r\n            PostPage postResponse = response.body();\r\n            List&lt;Post&gt; posts = postResponse.getPosts();\r\n            if (posts != null) {\r\n                int totalPages = postResponse.getTotalPages();\r\n                long totalElements = postResponse.getTotalElements();\r\n                System.out.println(&quot;number of posts: &quot; + posts.size());\r\n                System.out.println(&quot;total pages: &quot; + totalPages);\r\n                System.out.println(&quot;total elements: &quot; + totalElements);\r\n                postAdapter.setPostList(posts);\r\n            } else {\r\n                // Handle the case when the &#39;posts&#39; list is null\r\n                System.out.println(&quot;Received null posts list&quot;);\r\n            }\r\n        } else {\r\n            // Handle error\r\n            // Handle the login error here\r\n            System.out.println(&quot;Something went wrong displaying the post&quot;);\r\n            Toast.makeText(MainActivity.this, &quot;Login Error&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n        }\r\n    }\r\n\r\n```\r\nAnd here&#39;s the relevant code snippet from the server-side controller:\r\n\r\n```\r\n\r\n@GetMapping(&quot;/api/v1/post/post&quot;)\r\npublic ResponseEntity&lt;PostPage&gt; getAllPost(@RequestParam(defaultValue = &quot;0&quot;) int page,\r\n                                           @RequestParam(defaultValue = &quot;10&quot;) int size,\r\n                                           @RequestHeader(&quot;Authorization&quot;) String authorizationHeader) {\r\n    // Extract email from the authorization header and retrieve the user\r\n    // ...\r\n\r\n    // Retrieve the posts using the page and size parameters\r\n    Page&lt;Post&gt; post = postService.getAllPost(PageRequest.of(page, size));\r\n    List&lt;Post&gt; posts = post.get().toList();\r\n\r\n    // Create a PostPage object and set the necessary fields\r\n    PostPage postPage = new PostPage();\r\n    postPage.setPosts(posts);\r\n    postPage.setTotalPages(post.getTotalPages());\r\n    postPage.setTotalElements(post.getTotalElements());\r\n    postPage.setCurrentPage(post.getNumber());\r\n\r\n    return ResponseEntity.ok().body(postPage);\r\n}\r\n```\r\n\r\nI have already checked the API endpoint, request parameters, and server-side code, and they seem to be correct. However, I&#39;m unable to retrieve the posts in my Android app. Any suggestions or insights would be greatly appreciated.\r\n\r\n","title":"Unable to retrieve posts from API in Android app","body":"<p>I'm currently working on an Android social media application, and I'm facing an issue with retrieving posts from the API. I'm using Retrofit to make the API call, and although the call is successful, I'm not receiving any posts in the response.</p>\n<p>Here's the relevant information:</p>\n<blockquote>\n<p>API endpoint: <a href=\"https://api.example.com/api/v1/post/post\" rel=\"nofollow noreferrer\">https://api.example.com/api/v1/post/post</a><br />\nRequest method: GET<br />\nRequired parameters: page (int), size (int)<br />\nRequest header: Authorization (contains a valid authentication token)</p>\n</blockquote>\n<p>I have verified that the API call is being made correctly, and the authentication token is included in the request header. However, the response I receive does not contain any posts.</p>\n<p>Here are the relevant logs in Android Studio:</p>\n<pre class=\"lang-none prettyprint-override\"><code>2023-07-07 16:21:23.737  I  Auth Token: eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJqb2huQGdtYWlsLmNvbSIsInJvbGVzIjpbIlVTRVIiXSwiaXNzIjoiL2FwaS92MS9sb2dpbiIsImV4cCI6MTY4ODc0MzI4Mn0.LaYnVqLrUtAG7weC0hk56W7anVt9nWmYet8Zg1lAuOg\n2023-07-07 16:21:32.075  I  we should get the posts here retrofit2.OkHttpCall$NoContentResponseBody@df0ef6d\n2023-07-07 16:21:32.076  I  number of posts: 0\n2023-07-07 16:21:32.076  I  total pages: 0\n2023-07-07 16:21:32.076  I  total elements: 3\n\n</code></pre>\n<p>As you can see, the response indicates that there are no posts (number of posts: 0) even though there are actually 3 posts available.</p>\n<p>What I return in Postman:</p>\n<p><a href=\"https://i.stack.imgur.com/3PDfr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/3PDfr.png\" alt=\"enter image description here\" /></a></p>\n<p>Here's the relevant code snippet for making the API call:</p>\n<pre><code>\n// Make the API call to fetch the list of posts\nPostService postService = retrofit.create(PostService.class);\nCall&lt;PostPage&gt; call = postService.getAllPosts(authToken,10, 15); // Replace page and size with your desired values\ncall.enqueue(new Callback&lt;PostPage&gt;() {\n    @Override\n    public void onResponse(Call&lt;PostPage&gt; call, Response&lt;PostPage&gt; response) {\n        System.out.println(&quot;we should get the postts here &quot; + response.raw().body().toString());\n        System.out.println(&quot;header check &quot;  + response.headers());\n        if (response.isSuccessful() &amp;&amp; response.body()!=null) {\n            PostPage postResponse = response.body();\n            List&lt;Post&gt; posts = postResponse.getPosts();\n            if (posts != null) {\n                int totalPages = postResponse.getTotalPages();\n                long totalElements = postResponse.getTotalElements();\n                System.out.println(&quot;number of posts: &quot; + posts.size());\n                System.out.println(&quot;total pages: &quot; + totalPages);\n                System.out.println(&quot;total elements: &quot; + totalElements);\n                postAdapter.setPostList(posts);\n            } else {\n                // Handle the case when the 'posts' list is null\n                System.out.println(&quot;Received null posts list&quot;);\n            }\n        } else {\n            // Handle error\n            // Handle the login error here\n            System.out.println(&quot;Something went wrong displaying the post&quot;);\n            Toast.makeText(MainActivity.this, &quot;Login Error&quot;, Toast.LENGTH_SHORT).show();\n\n        }\n    }\n\n</code></pre>\n<p>And here's the relevant code snippet from the server-side controller:</p>\n<pre><code>\n@GetMapping(&quot;/api/v1/post/post&quot;)\npublic ResponseEntity&lt;PostPage&gt; getAllPost(@RequestParam(defaultValue = &quot;0&quot;) int page,\n                                           @RequestParam(defaultValue = &quot;10&quot;) int size,\n                                           @RequestHeader(&quot;Authorization&quot;) String authorizationHeader) {\n    // Extract email from the authorization header and retrieve the user\n    // ...\n\n    // Retrieve the posts using the page and size parameters\n    Page&lt;Post&gt; post = postService.getAllPost(PageRequest.of(page, size));\n    List&lt;Post&gt; posts = post.get().toList();\n\n    // Create a PostPage object and set the necessary fields\n    PostPage postPage = new PostPage();\n    postPage.setPosts(posts);\n    postPage.setTotalPages(post.getTotalPages());\n    postPage.setTotalElements(post.getTotalElements());\n    postPage.setCurrentPage(post.getNumber());\n\n    return ResponseEntity.ok().body(postPage);\n}\n</code></pre>\n<p>I have already checked the API endpoint, request parameters, and server-side code, and they seem to be correct. However, I'm unable to retrieve the posts in my Android app. Any suggestions or insights would be greatly appreciated.</p>\n"},{"tags":["java","unit-testing","collections","junit"],"comments":[{"owner":{"account_id":38973,"reputation":17442,"user_id":112222,"accept_rate":88,"display_name":"Teja Kantamneni"},"score":2,"creation_date":1266864419,"post_id":2313229,"comment_id":2280742,"body_markdown":"check this SO post http://stackoverflow.com/questions/1086691/collectionassert-in-junit","body":"check this SO post <a href=\"http://stackoverflow.com/questions/1086691/collectionassert-in-junit\" title=\"collectionassert in junit\">stackoverflow.com/questions/1086691/collectionassert-in-juni&zwnj;&#8203;t</a>"},{"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"score":0,"creation_date":1266864957,"post_id":2313229,"comment_id":2280798,"body_markdown":"Are you trying to assert that two Sets are equal to each other (contain the same elements), or that two elements of the same Set are equal?","body":"Are you trying to assert that two Sets are equal to each other (contain the same elements), or that two elements of the same Set are equal?"},{"owner":{"account_id":49871,"reputation":4752,"user_id":148638,"accept_rate":93,"display_name":"Eqbal"},"score":0,"creation_date":1266865088,"post_id":2313229,"comment_id":2280823,"body_markdown":"I need to see that the elements of two Sets are equal","body":"I need to see that the elements of two Sets are equal"}],"answers":[{"tags":[],"owner":{"account_id":32251,"reputation":114942,"user_id":89266,"accept_rate":91,"display_name":"dfa"},"down_vote_count":1,"up_vote_count":17,"is_accepted":false,"score":16,"last_activity_date":1266864938,"creation_date":1266864938,"answer_id":2313319,"question_id":2313229,"body_markdown":"with [hamcrest][1]:\r\n\r\n    assertThat(s1, is(s2));\r\n\r\nwith plain assert:\r\n\r\n    assertEquals(s1, s2);\r\n\r\nNB:t the equals() method of the **concrete set class** is used\r\n\r\n\r\n  [1]: http://code.google.com/p/hamcrest/","title":"JUnit 4 compare Sets","body":"<p>with <a href=\"http://code.google.com/p/hamcrest/\" rel=\"noreferrer\">hamcrest</a>:</p>\n\n<pre><code>assertThat(s1, is(s2));\n</code></pre>\n\n<p>with plain assert:</p>\n\n<pre><code>assertEquals(s1, s2);\n</code></pre>\n\n<p>NB:t the equals() method of the <strong>concrete set class</strong> is used</p>\n"},{"tags":[],"owner":{"account_id":35487,"reputation":64776,"user_id":100516,"accept_rate":69,"display_name":"Roman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1565335408,"creation_date":1266865103,"answer_id":2313337,"question_id":2313229,"body_markdown":"Check [this article][1]. One example from there:\r\n\r\n    @Test  \r\n    public void listEquality() {  \r\n        List&lt;Integer&gt; expected = new ArrayList&lt;Integer&gt;();  \r\n        expected.add(5);  \r\n      \r\n        List&lt;Integer&gt; actual = new ArrayList&lt;Integer&gt;();  \r\n        actual.add(5);  \r\n      \r\n        assertEquals(expected, actual);  \r\n    }  \r\n\r\n\r\n  [1]: http://web.archive.org/web/20100105155238/http://www.cavdar.net/2008/07/21/junit-4-in-60-seconds/","title":"JUnit 4 compare Sets","body":"<p>Check <a href=\"http://web.archive.org/web/20100105155238/http://www.cavdar.net/2008/07/21/junit-4-in-60-seconds/\" rel=\"nofollow noreferrer\">this article</a>. One example from there:</p>\n\n<pre><code>@Test  \npublic void listEquality() {  \n    List&lt;Integer&gt; expected = new ArrayList&lt;Integer&gt;();  \n    expected.add(5);  \n\n    List&lt;Integer&gt; actual = new ArrayList&lt;Integer&gt;();  \n    actual.add(5);  \n\n    assertEquals(expected, actual);  \n}  \n</code></pre>\n"},{"tags":[],"owner":{"account_id":970,"reputation":399857,"user_id":1288,"accept_rate":93,"display_name":"Bill the Lizard"},"down_vote_count":2,"up_vote_count":122,"is_accepted":true,"score":120,"last_activity_date":1550585585,"creation_date":1266865731,"answer_id":2313396,"question_id":2313229,"body_markdown":"You can assert that the two `Set`s are equal to one another, which invokes the `Set` [`equals()` method][1].\r\n\r\n    public class SimpleTest {\r\n\r\n        private Set&lt;String&gt; setA;\r\n        private Set&lt;String&gt; setB;\r\n\r\n        @Before\r\n        public void setUp() {\r\n            setA = new HashSet&lt;String&gt;();\r\n            setA.add(&quot;Testing...&quot;);\r\n            setB = new HashSet&lt;String&gt;();\r\n            setB.add(&quot;Testing...&quot;);\r\n        }\r\n\r\n        @Test\r\n        public void testEqualSets() {\r\n            assertEquals( setA, setB );\r\n        }\r\n    }\r\n\r\nThis `@Test` will pass if the two `Set`s are the same size and contain the same elements.\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html#equals%28java.lang.Object%29","title":"JUnit 4 compare Sets","body":"<p>You can assert that the two <code>Set</code>s are equal to one another, which invokes the <code>Set</code> <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/util/Set.html#equals%28java.lang.Object%29\" rel=\"noreferrer\"><code>equals()</code> method</a>.</p>\n\n<pre><code>public class SimpleTest {\n\n    private Set&lt;String&gt; setA;\n    private Set&lt;String&gt; setB;\n\n    @Before\n    public void setUp() {\n        setA = new HashSet&lt;String&gt;();\n        setA.add(\"Testing...\");\n        setB = new HashSet&lt;String&gt;();\n        setB.add(\"Testing...\");\n    }\n\n    @Test\n    public void testEqualSets() {\n        assertEquals( setA, setB );\n    }\n}\n</code></pre>\n\n<p>This <code>@Test</code> will pass if the two <code>Set</code>s are the same size and contain the same elements.</p>\n"},{"tags":[],"owner":{"display_name":"user3458"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1283197487,"creation_date":1283197487,"answer_id":3603678,"question_id":2313229,"body_markdown":"A particularly interesting case is when you compare \r\n\r\n       java.util.Arrays$ArrayList&lt;[[name,value,type], [name1,value1,type1]]&gt; \r\n\r\nand\r\n\r\n       java.util.Collections$UnmodifiableCollection&lt;[[name,value,type], [name1,value1,type1]]&gt;\r\n\r\nSo far, the only solution I see is to change both of them into sets\r\n\r\n\tassertEquals(new HashSet&lt;CustomAttribute&gt;(customAttributes), new HashSet&lt;CustomAttribute&gt;(result.getCustomAttributes()));\r\n\r\n\r\nOr I could compare them element by element.\r\n\r\n\r\n","title":"JUnit 4 compare Sets","body":"<p>A particularly interesting case is when you compare </p>\n\n<pre><code>   java.util.Arrays$ArrayList&lt;[[name,value,type], [name1,value1,type1]]&gt; \n</code></pre>\n\n<p>and</p>\n\n<pre><code>   java.util.Collections$UnmodifiableCollection&lt;[[name,value,type], [name1,value1,type1]]&gt;\n</code></pre>\n\n<p>So far, the only solution I see is to change both of them into sets</p>\n\n<pre><code>assertEquals(new HashSet&lt;CustomAttribute&gt;(customAttributes), new HashSet&lt;CustomAttribute&gt;(result.getCustomAttributes()));\n</code></pre>\n\n<p>Or I could compare them element by element.</p>\n"},{"tags":[],"owner":{"account_id":1179943,"reputation":1535,"user_id":1155079,"accept_rate":27,"display_name":"Matt Friedman"},"down_vote_count":2,"up_vote_count":51,"is_accepted":false,"score":49,"last_activity_date":1428569926,"creation_date":1326844294,"answer_id":8903335,"question_id":2313229,"body_markdown":"Apache commons to the rescue again.\r\n\r\n    assertTrue(CollectionUtils.isEqualCollection(coll1, coll2));\r\n\r\nWorks like a charm. I don&#39;t know why but I found that with collections the following &lt;code&gt;assertEquals(coll1, coll2)&lt;/code&gt; doesn&#39;t always work. In the case where it failed for me I had two collections backed by Sets. Neither hamcrest nor junit would say the collections were equal even though I knew for sure that they were. Using CollectionUtils it works perfectly.","title":"JUnit 4 compare Sets","body":"<p>Apache commons to the rescue again.</p>\n\n<pre><code>assertTrue(CollectionUtils.isEqualCollection(coll1, coll2));\n</code></pre>\n\n<p>Works like a charm. I don't know why but I found that with collections the following <code>assertEquals(coll1, coll2)</code> doesn't always work. In the case where it failed for me I had two collections backed by Sets. Neither hamcrest nor junit would say the collections were equal even though I knew for sure that they were. Using CollectionUtils it works perfectly.</p>\n"},{"tags":[],"owner":{"account_id":142682,"reputation":17410,"user_id":350542,"accept_rate":43,"display_name":"jayunit100"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1332175731,"creation_date":1332175731,"answer_id":9774276,"question_id":2313229,"body_markdown":"As an additional method that is array based ... you can consider using unordered array assertions in junitx .  Although the Apache CollectionUtils example will work, there is a pacakge of solid assertion extensions there as well :  \r\n\r\nI think that the \r\n\r\n    ArrayAssert.assertEquivalenceArrays(new Integer[]{1,2,3}, new Integer[]{1,3,2});\r\n\r\napproach will be much more readable and debuggable for you (all Collections support toArray(), so it should be easy enough to use the ArrayAssert methods. \r\n\r\nOf course the downside here is that, junitx is an additional jar file or maven entry...     \t\r\n\r\n     &lt;dependency org=&quot;junit-addons&quot; name=&quot;junit-addons&quot; rev=&quot;1.4&quot;/&gt;\r\n\r\n","title":"JUnit 4 compare Sets","body":"<p>As an additional method that is array based ... you can consider using unordered array assertions in junitx .  Although the Apache CollectionUtils example will work, there is a pacakge of solid assertion extensions there as well :  </p>\n\n<p>I think that the </p>\n\n<pre><code>ArrayAssert.assertEquivalenceArrays(new Integer[]{1,2,3}, new Integer[]{1,3,2});\n</code></pre>\n\n<p>approach will be much more readable and debuggable for you (all Collections support toArray(), so it should be easy enough to use the ArrayAssert methods. </p>\n\n<p>Of course the downside here is that, junitx is an additional jar file or maven entry...         </p>\n\n<pre><code> &lt;dependency org=\"junit-addons\" name=\"junit-addons\" rev=\"1.4\"/&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"down_vote_count":3,"up_vote_count":2,"is_accepted":false,"score":-1,"last_activity_date":1490425777,"creation_date":1345106553,"answer_id":11983487,"question_id":2313229,"body_markdown":"If you want to check whether a List or Set contains a set of specific values (instead of comparing it with an already existing collection), often the toString method of collections is handy: \r\n\r\n    String[] actualResult = calltestedmethod();\r\n    assertEquals(&quot;[foo, bar]&quot;, Arrays.asList(actualResult).toString());\r\n\r\n    List otherResult = callothertestedmethod();\r\n    assertEquals(&quot;[42, mice]&quot;, otherResult.toString());\r\n\r\nThis is a bit shorter than first constructing the expected collection and comparing it with the actual collection, and easier to write and correct. \r\n\r\n(Admittedly, this is not a particularily clean method, and can&#39;t distinguish an element &quot;foo, bar&quot; from two elements &quot;foo&quot; and &quot;bar&quot;. But in practice I think it&#39;s most important that it&#39;s easy and fast to write tests, otherwise many developers just won&#39;t without being pressed.)","title":"JUnit 4 compare Sets","body":"<p>If you want to check whether a List or Set contains a set of specific values (instead of comparing it with an already existing collection), often the toString method of collections is handy: </p>\n\n<pre><code>String[] actualResult = calltestedmethod();\nassertEquals(\"[foo, bar]\", Arrays.asList(actualResult).toString());\n\nList otherResult = callothertestedmethod();\nassertEquals(\"[42, mice]\", otherResult.toString());\n</code></pre>\n\n<p>This is a bit shorter than first constructing the expected collection and comparing it with the actual collection, and easier to write and correct. </p>\n\n<p>(Admittedly, this is not a particularily clean method, and can't distinguish an element \"foo, bar\" from two elements \"foo\" and \"bar\". But in practice I think it's most important that it's easy and fast to write tests, otherwise many developers just won't without being pressed.)</p>\n"},{"tags":[],"owner":{"account_id":11209,"reputation":25528,"user_id":21499,"accept_rate":56,"display_name":"Dr. Hans-Peter St&#246;rr"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1503299513,"creation_date":1495641252,"answer_id":44163238,"question_id":2313229,"body_markdown":"Using Hamcrest:\r\n\r\n    assertThat( set1, both(everyItem(isIn(set2))).and(containsInAnyOrder(set1)));\r\n\r\nThis works also when the sets have different datatypes, and reports on the difference instead of just failing.","title":"JUnit 4 compare Sets","body":"<p>Using Hamcrest:</p>\n\n<pre><code>assertThat( set1, both(everyItem(isIn(set2))).and(containsInAnyOrder(set1)));\n</code></pre>\n\n<p>This works also when the sets have different datatypes, and reports on the difference instead of just failing.</p>\n"},{"tags":[],"owner":{"account_id":3921864,"reputation":748,"user_id":3243751,"display_name":"FLUXparticle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1515928214,"creation_date":1515928214,"answer_id":48248962,"question_id":2313229,"body_markdown":"I like the solution of Hans-Peter St&#246;rr... But I think it is not quite correct. Sadly `containsInAnyOrder` does not accept a `Collection` of objetcs to compare to. So it has to be a `Collection` of `Matcher`s:\r\n\r\n    assertThat(set1, containsInAnyOrder(set2.stream().map(IsEqual::equalTo).collect(toList())))\r\n\r\n\r\nThe import are:\r\n\r\n    import static java.util.stream.Collectors.toList;\r\n    import static org.hamcrest.Matchers.containsInAnyOrder;\r\n    import static org.junit.Assert.assertThat;\r\n","title":"JUnit 4 compare Sets","body":"<p>I like the solution of Hans-Peter Störr... But I think it is not quite correct. Sadly <code>containsInAnyOrder</code> does not accept a <code>Collection</code> of objetcs to compare to. So it has to be a <code>Collection</code> of <code>Matcher</code>s:</p>\n\n<pre><code>assertThat(set1, containsInAnyOrder(set2.stream().map(IsEqual::equalTo).collect(toList())))\n</code></pre>\n\n<p>The import are:</p>\n\n<pre><code>import static java.util.stream.Collectors.toList;\nimport static org.hamcrest.Matchers.containsInAnyOrder;\nimport static org.junit.Assert.assertThat;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12259286,"reputation":101,"user_id":8947492,"display_name":"Yusuf BESTAS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688393219,"creation_date":1688393219,"answer_id":76605546,"question_id":2313229,"body_markdown":"You can do it like that -&gt;   \r\n`assertThat(actualSet).containsExactlyInAnyOrder(expectedSet);`\r\n\r\n","title":"JUnit 4 compare Sets","body":"<p>You can do it like that -&gt;<br />\n<code>assertThat(actualSet).containsExactlyInAnyOrder(expectedSet);</code></p>\n"},{"tags":[],"owner":{"account_id":26947872,"reputation":1,"user_id":20517578,"display_name":"MaRK MOrev"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688998694,"creation_date":1688998694,"answer_id":76654654,"question_id":2313229,"body_markdown":"containsInAnyOrder() - help me.","title":"JUnit 4 compare Sets","body":"<p>containsInAnyOrder() - help me.</p>\n"}],"owner":{"account_id":49871,"reputation":4752,"user_id":148638,"accept_rate":93,"display_name":"Eqbal"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126357,"favorite_count":0,"down_vote_count":0,"up_vote_count":119,"accepted_answer_id":2313396,"answer_count":11,"score":119,"last_activity_date":1688998694,"creation_date":1266864128,"question_id":2313229,"body_markdown":"How would you succinctly assert the equality of `Collection` elements, specifically a `Set` in JUnit 4?","title":"JUnit 4 compare Sets","body":"<p>How would you succinctly assert the equality of <code>Collection</code> elements, specifically a <code>Set</code> in JUnit 4?</p>\n"},{"tags":["java","path","java-7"],"comments":[{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1386801855,"post_id":20531247,"comment_id":30699259,"body_markdown":"http://stackoverflow.com/questions/3571223/how-do-i-get-the-file-extension-of-a-file-in-java","body":"<a href=\"http://stackoverflow.com/questions/3571223/how-do-i-get-the-file-extension-of-a-file-in-java\" title=\"how do i get the file extension of a file in java\">stackoverflow.com/questions/3571223/&hellip;</a>"},{"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"score":1,"creation_date":1386809015,"post_id":20531247,"comment_id":30701692,"body_markdown":"@assylias, that question is for finding the extension from a `String`, not a `Path` (although it would work with `Path.toString()`, but I was hoping for a way that wouldn&#39;t require that).","body":"@assylias, that question is for finding the extension from a <code>String</code>, not a <code>Path</code> (although it would work with <code>Path.toString()</code>, but I was hoping for a way that wouldn&#39;t require that)."},{"owner":{"account_id":440158,"reputation":323231,"user_id":829571,"accept_rate":94,"display_name":"assylias"},"score":0,"creation_date":1386835534,"post_id":20531247,"comment_id":30710381,"body_markdown":"The notion of file extension is os dependent so I don&#39;t think there is support for it in File or Path.","body":"The notion of file extension is os dependent so I don&#39;t think there is support for it in File or Path."},{"owner":{"account_id":8566752,"reputation":53329,"user_id":6419007,"accept_rate":67,"display_name":"Eric Duminil"},"score":0,"creation_date":1575033876,"post_id":20531247,"comment_id":104443012,"body_markdown":"@assylias: Well, that sucks. The notion of file extension is well-defined and used many times in Windows/Linux/MacOs/Android. Even though they might be less important in Linux than in Windows, they are still very much used on desktop and server applications.","body":"@assylias: Well, that sucks. The notion of file extension is well-defined and used many times in Windows/Linux/MacOs/Android. Even though they might be less important in Linux than in Windows, they are still very much used on desktop and server applications."}],"answers":[{"tags":[],"owner":{"account_id":27004,"reputation":28823,"user_id":70795,"accept_rate":56,"display_name":"Mark"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1386801547,"creation_date":1386801547,"answer_id":20531401,"question_id":20531247,"body_markdown":"There is no way to do this directly on the Path object itself.\r\n\r\nThere are two options I can see:\r\n\r\n1. Convert the Path to a File and call endsWith on the String returned by File.getName()\r\n2. Call toString on the Path and call endsWith on that String.","title":"How to check the extension of a Java 7 Path","body":"<p>There is no way to do this directly on the Path object itself.</p>\n\n<p>There are two options I can see:</p>\n\n<ol>\n<li>Convert the Path to a File and call endsWith on the String returned by File.getName()</li>\n<li>Call toString on the Path and call endsWith on that String.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9943,"reputation":28522,"user_id":18573,"accept_rate":56,"display_name":"Miserable Variable"},"down_vote_count":1,"up_vote_count":80,"is_accepted":false,"score":79,"last_activity_date":1441293248,"creation_date":1386810000,"answer_id":20533064,"question_id":20531247,"body_markdown":"The `Path` class does not have a notion of &quot;extension&quot;, probably because the file system itself does not have it. Which is why you need to check its `String` representation and see if it ends with the &lt;strike&gt;four&lt;/strike&gt; *five* character string `.java`. Note that you need a different comparison than simple `endsWith` if you want to cover mixed case, such as `&quot;.JAVA&quot;` and `&quot;.Java&quot;`:\r\n\r\n    path.toString().toLowerCase().endsWith(&quot;.java&quot;);\r\n\r\n","title":"How to check the extension of a Java 7 Path","body":"<p>The <code>Path</code> class does not have a notion of \"extension\", probably because the file system itself does not have it. Which is why you need to check its <code>String</code> representation and see if it ends with the <strike>four</strike> <em>five</em> character string <code>.java</code>. Note that you need a different comparison than simple <code>endsWith</code> if you want to cover mixed case, such as <code>\".JAVA\"</code> and <code>\".Java\"</code>:</p>\n\n<pre><code>path.toString().toLowerCase().endsWith(\".java\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2698527,"reputation":2274,"user_id":2622079,"accept_rate":57,"display_name":"fan"},"down_vote_count":0,"up_vote_count":98,"is_accepted":true,"score":98,"last_activity_date":1688998406,"creation_date":1407433371,"answer_id":25188854,"question_id":20531247,"body_markdown":"Java NIO&#39;s [PathMatcher][1] provides [FileSystem.getPathMatcher(String syntaxAndPattern)][2]:\r\n\r\n    PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.java&quot;);\r\n    \r\n    Path filename = ...;\r\n    if (matcher.matches(filename.getFileName())) {\r\n        System.out.println(filename);\r\n    }\r\n\r\n`.getFileName()` is required when your path contains more than one component.\r\n\r\nSee the [Finding Files][3] tutorial for details.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/PathMatcher.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystem.html#getPathMatcher-java.lang.String-\r\n  [3]: http://docs.oracle.com/javase/tutorial/essential/io/find.html","title":"How to check the extension of a Java 7 Path","body":"<p>Java NIO's <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/PathMatcher.html\" rel=\"nofollow noreferrer\">PathMatcher</a> provides <a href=\"https://docs.oracle.com/javase/8/docs/api/java/nio/file/FileSystem.html#getPathMatcher-java.lang.String-\" rel=\"nofollow noreferrer\">FileSystem.getPathMatcher(String syntaxAndPattern)</a>:</p>\n<pre><code>PathMatcher matcher = FileSystems.getDefault().getPathMatcher(&quot;glob:*.java&quot;);\n\nPath filename = ...;\nif (matcher.matches(filename.getFileName())) {\n    System.out.println(filename);\n}\n</code></pre>\n<p><code>.getFileName()</code> is required when your path contains more than one component.</p>\n<p>See the <a href=\"http://docs.oracle.com/javase/tutorial/essential/io/find.html\" rel=\"nofollow noreferrer\">Finding Files</a> tutorial for details.</p>\n"},{"tags":[],"owner":{"account_id":10387195,"reputation":982,"user_id":7659837,"display_name":"Pero122"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1554935812,"creation_date":1512660541,"answer_id":47698445,"question_id":20531247,"body_markdown":"Simple solution:\r\n\r\n    if( path.toString().endsWith(&quot;.java&quot;) ) //Do something\r\n\r\nYou have to be carefull, when using the Path.endsWith method. As you stated, the method will return **true** only if it matches with a subelement of your Path object. \r\nFor example:\r\n\r\n    Path p = Paths.get(&quot;C:/Users/Public/Mycode/HelloWorld.java&quot;);\r\n    System.out.println(p.endsWith(&quot;.java&quot;)); // false\r\n    System.out.println(p.endsWith(&quot;HelloWorld.java&quot;)); // true\r\n\r\n\r\n\r\n\r\n","title":"How to check the extension of a Java 7 Path","body":"<p>Simple solution:</p>\n\n<pre><code>if( path.toString().endsWith(\".java\") ) //Do something\n</code></pre>\n\n<p>You have to be carefull, when using the Path.endsWith method. As you stated, the method will return <strong>true</strong> only if it matches with a subelement of your Path object. \nFor example:</p>\n\n<pre><code>Path p = Paths.get(\"C:/Users/Public/Mycode/HelloWorld.java\");\nSystem.out.println(p.endsWith(\".java\")); // false\nSystem.out.println(p.endsWith(\"HelloWorld.java\")); // true\n</code></pre>\n"}],"owner":{"account_id":253214,"reputation":19917,"user_id":531762,"accept_rate":82,"display_name":"Thunderforge"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67565,"favorite_count":0,"down_vote_count":0,"up_vote_count":100,"accepted_answer_id":25188854,"answer_count":4,"score":100,"last_activity_date":1688998406,"creation_date":1386800865,"question_id":20531247,"body_markdown":"I&#39;d like to check if a [Path][1] (introduced in Java 7) ends with a  certain extension. I tried the `endsWith()` method like so:\r\n\r\n    Path path = Paths.get(&quot;foo/bar.java&quot;)\r\n    if (path.endsWith(&quot;.java&quot;)){\r\n        //Do stuff\r\n    }\r\n\r\nHowever, this doesn&#39;t seem to work because `path.endsWith(&quot;.java&quot;)` returns false. It seems the `endsWith()` method only returns true if there is a complete match for everything after the final directory separator (e.g. `bar.java`), which isn&#39;t practical for me.\r\n\r\nSo how can I check the file extension of a Path?\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html","title":"How to check the extension of a Java 7 Path","body":"<p>I'd like to check if a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/nio/file/Path.html\">Path</a> (introduced in Java 7) ends with a  certain extension. I tried the <code>endsWith()</code> method like so:</p>\n\n<pre><code>Path path = Paths.get(\"foo/bar.java\")\nif (path.endsWith(\".java\")){\n    //Do stuff\n}\n</code></pre>\n\n<p>However, this doesn't seem to work because <code>path.endsWith(\".java\")</code> returns false. It seems the <code>endsWith()</code> method only returns true if there is a complete match for everything after the final directory separator (e.g. <code>bar.java</code>), which isn't practical for me.</p>\n\n<p>So how can I check the file extension of a Path?</p>\n"},{"tags":["java","sql","jar","apache-flink","avro"],"owner":{"account_id":28786435,"reputation":1,"user_id":22046802,"display_name":"Hsgh775"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688998212,"creation_date":1688997796,"question_id":76654539,"body_markdown":"I have this code below in java that takes a specific schema &#39;schema.asvc&quot; and i try to decode the data from avro format to the schema&#39;s format. \r\n\r\n \r\n\r\n\r\n\r\n    package com.example;\r\n       \r\n       import org.apache.avro.Schema; import\r\n       org.apache.avro.generic.GenericData; import\r\n       org.apache.avro.generic.GenericDatumReader; import\r\n       org.apache.avro.io.Decoder; import org.apache.avro.io.DecoderFactory;\r\n       import org.apache.flink.table.functions.ScalarFunction;\r\n       \r\n       import java.io.IOException; import java.nio.file.Files; import\r\n       java.nio.file.Paths;\r\n       \r\n       public class AvroDecoderFunction extends ScalarFunction {\r\n           private Schema schema;\r\n       \r\n       \r\n           public AvroDecoderFunction(String schemaFilePath) throws IOException {\r\n               this.schema = new Schema.Parser().parse(new String(Files.readAllBytes(Paths.get(schemaFilePath))));\r\n           }\r\n       \r\n           public GenericData.Record decodePayload(byte[] payload) throws IOException {\r\n               Decoder decoder = DecoderFactory.get().binaryDecoder(payload, null);\r\n               GenericDatumReader&lt;GenericData.Record&gt; reader = new GenericDatumReader&lt;&gt;(this.schema);\r\n               return reader.read(null, decoder);\r\n           } }\r\n\r\nfirst I would like to know is this code reasonable to do such treatment ? Then after creating the jar file, how can I launch the flink sql client with this jar and how to use this function knowing that I would like to use it on a specific field &#39;payload&#39; ?\r\n\r\nPlease any help is appreciated.\r\n\r\n","title":"How to use a UDF on flink sql client after generating the jar file?","body":"<p>I have this code below in java that takes a specific schema 'schema.asvc&quot; and i try to decode the data from avro format to the schema's format.</p>\n<pre><code>package com.example;\n   \n   import org.apache.avro.Schema; import\n   org.apache.avro.generic.GenericData; import\n   org.apache.avro.generic.GenericDatumReader; import\n   org.apache.avro.io.Decoder; import org.apache.avro.io.DecoderFactory;\n   import org.apache.flink.table.functions.ScalarFunction;\n   \n   import java.io.IOException; import java.nio.file.Files; import\n   java.nio.file.Paths;\n   \n   public class AvroDecoderFunction extends ScalarFunction {\n       private Schema schema;\n   \n   \n       public AvroDecoderFunction(String schemaFilePath) throws IOException {\n           this.schema = new Schema.Parser().parse(new String(Files.readAllBytes(Paths.get(schemaFilePath))));\n       }\n   \n       public GenericData.Record decodePayload(byte[] payload) throws IOException {\n           Decoder decoder = DecoderFactory.get().binaryDecoder(payload, null);\n           GenericDatumReader&lt;GenericData.Record&gt; reader = new GenericDatumReader&lt;&gt;(this.schema);\n           return reader.read(null, decoder);\n       } }\n</code></pre>\n<p>first I would like to know is this code reasonable to do such treatment ? Then after creating the jar file, how can I launch the flink sql client with this jar and how to use this function knowing that I would like to use it on a specific field 'payload' ?</p>\n<p>Please any help is appreciated.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688999834,"post_id":76654557,"comment_id":135147363,"body_markdown":"Java does not have non-local returns (i.e. returning from one method inside another). You will have to signal the need to return in another way. For example, your extracted method could return the Response it does now, or `null` for the happy path. Then in each of your controllers, check for null and return based on that.","body":"Java does not have non-local returns (i.e. returning from one method inside another). You will have to signal the need to return in another way. For example, your extracted method could return the Response it does now, or <code>null</code> for the happy path. Then in each of your controllers, check for null and return based on that."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":3,"creation_date":1688999914,"post_id":76654557,"comment_id":135147388,"body_markdown":"For a more &quot;frame challenge&quot; type answer, you shouldn&#39;t be doing this check inside your controllers in the first place. It should be in a filter, which then fixes the duplicate code as well. Simply apply the filter to all relevant endpoints before the controller is even called.","body":"For a more &quot;frame challenge&quot; type answer, you shouldn&#39;t be doing this check inside your controllers in the first place. It should be in a filter, which then fixes the duplicate code as well. Simply apply the filter to all relevant endpoints before the controller is even called."},{"owner":{"account_id":2114626,"reputation":135,"user_id":1879196,"accept_rate":100,"display_name":"lenny"},"score":1,"creation_date":1689000571,"post_id":76654557,"comment_id":135147538,"body_markdown":"@Jorn Ah of course, this is what I was looking for. Or maybe implementing a HandlerInterceptor on all controllers... thanks","body":"@Jorn Ah of course, this is what I was looking for. Or maybe implementing a HandlerInterceptor on all controllers... thanks"},{"owner":{"account_id":28695489,"reputation":611,"user_id":21973805,"display_name":"Ahmed Nabil"},"score":0,"creation_date":1689002234,"post_id":76654557,"comment_id":135148017,"body_markdown":"@Jorn if you have the time to provide an example of implementing  such filter that would be great , I have a similar problem scenario but mine is that the user tries to fetch data that does not belong to him, so I would need to fetch the data first then check if the user id matches the id data related to","body":"@Jorn if you have the time to provide an example of implementing  such filter that would be great , I have a similar problem scenario but mine is that the user tries to fetch data that does not belong to him, so I would need to fetch the data first then check if the user id matches the id data related to"}],"owner":{"account_id":2114626,"reputation":135,"user_id":1879196,"accept_rate":100,"display_name":"lenny"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688997941,"creation_date":1688997941,"question_id":76654557,"body_markdown":"I have multiple methods in multiple Java controllers that will check (before continuing) if the authenticated user ID (from the User Principle) matches the user ID sent in the HTTP request. If the 2 do not match, then the controller will return a ResponseEntity with status code UNAUTHORIZED. The problem is that these number of lines are duplicated throughout the Java Controllers. Is there any way to extract these into a class method that is shared by all of these controllers? Here is an example in one controller:\r\n\r\n    @PostMapping(&quot;results&quot;)\r\n    @ResponseBody\r\n    public ResponseEntity&lt;?&gt; results(\r\n            Authentication authentication,\r\n            @RequestBody ResultsRequest request\r\n    ) {\r\n        try {\r\n            User user = (User) authentication.getPrincipal();\r\n            Long userId = request.getUserId();\r\n            if (isNull(user) || !user.getId().equals(userId)) {\r\n                return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(Map.of(\r\n                        SUCCESS, false,\r\n                        ERROR, ErrorCode.RETRIEVING_ANOTHER_USER_DATA_PROHIBITED.getMessage()\r\n                ));\r\n            }\r\n            // this is the happy path - continue with the request\r\n            return resultsService.getResults(userId);\r\n\r\n        } catch (Exception e) {\r\n            LOGGER.warn(ErrorCode.ERROR_GETTING_RESULTS.getMessage(), e);\r\n        }\r\n        return ResponseEntity.ok(List.of());\r\n    }\r\n\r\nThis is currently present in dozens of files. So the lines I would like to extract are\r\n\r\n    User user = (User) authentication.getPrincipal();\r\n    Long userId = request.getUserId();\r\n    if (isNull(user) || !user.getId().equals(userId)) {\r\n        return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(Map.of(\r\n                SUCCESS, false,\r\n                ERROR, ErrorCode.RETRIEVING_ANOTHER_USER_DATA_PROHIBITED.getMessage()\r\n        ));\r\n    }\r\n\r\nBut because this is a **conditional return** (i.e. will not always return, or **should not return in normal circumstances**) I&#39;m not sure how to extract this to another class/method.\r\n\r\nAny help greatly appreciated.","title":"How to extract an early return into a method shared by multiple controllers?","body":"<p>I have multiple methods in multiple Java controllers that will check (before continuing) if the authenticated user ID (from the User Principle) matches the user ID sent in the HTTP request. If the 2 do not match, then the controller will return a ResponseEntity with status code UNAUTHORIZED. The problem is that these number of lines are duplicated throughout the Java Controllers. Is there any way to extract these into a class method that is shared by all of these controllers? Here is an example in one controller:</p>\n<pre><code>@PostMapping(&quot;results&quot;)\n@ResponseBody\npublic ResponseEntity&lt;?&gt; results(\n        Authentication authentication,\n        @RequestBody ResultsRequest request\n) {\n    try {\n        User user = (User) authentication.getPrincipal();\n        Long userId = request.getUserId();\n        if (isNull(user) || !user.getId().equals(userId)) {\n            return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(Map.of(\n                    SUCCESS, false,\n                    ERROR, ErrorCode.RETRIEVING_ANOTHER_USER_DATA_PROHIBITED.getMessage()\n            ));\n        }\n        // this is the happy path - continue with the request\n        return resultsService.getResults(userId);\n\n    } catch (Exception e) {\n        LOGGER.warn(ErrorCode.ERROR_GETTING_RESULTS.getMessage(), e);\n    }\n    return ResponseEntity.ok(List.of());\n}\n</code></pre>\n<p>This is currently present in dozens of files. So the lines I would like to extract are</p>\n<pre><code>User user = (User) authentication.getPrincipal();\nLong userId = request.getUserId();\nif (isNull(user) || !user.getId().equals(userId)) {\n    return ResponseEntity.status(HttpStatus.UNAUTHORIZED).body(Map.of(\n            SUCCESS, false,\n            ERROR, ErrorCode.RETRIEVING_ANOTHER_USER_DATA_PROHIBITED.getMessage()\n    ));\n}\n</code></pre>\n<p>But because this is a <strong>conditional return</strong> (i.e. will not always return, or <strong>should not return in normal circumstances</strong>) I'm not sure how to extract this to another class/method.</p>\n<p>Any help greatly appreciated.</p>\n"},{"tags":["java","spring","spring-boot","jpa"],"comments":[{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1667056404,"post_id":74246259,"comment_id":131082674,"body_markdown":"If you found `spring.jpa`, I see also `properties` ...(Map&lt;String,String&gt;) (this gets passed to the &quot;jpa-provider&quot; as is)","body":"If you found <code>spring.jpa</code>, I see also <code>properties</code> ...(Map&lt;String,String&gt;) (this gets passed to the &quot;jpa-provider&quot; as is)"},{"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"score":0,"creation_date":1667117668,"post_id":74246259,"comment_id":131091404,"body_markdown":"@xerx593 - so where else to look for all the props that the specific implementation is using.  Finding extensive list of props with all the possible values seems interesting and useful.","body":"@xerx593 - so where else to look for all the props that the specific implementation is using.  Finding extensive list of props with all the possible values seems interesting and useful."}],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688997671,"creation_date":1667163399,"answer_id":74256716,"question_id":74246259,"body_markdown":"Such behaviour is mentioned in the docs [Binding Maps][1] (about [Relaxed Binding](https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding)) as follows :\r\n\r\n&gt; Binding a.b=c to Map&lt;String, String&gt; will preserve the . in the key\r\n&gt; and return a Map with the entry {&quot;a.b&quot;=&quot;c&quot;}\r\n\r\n\r\n`JpaProperties` is now defined as \r\n\r\n```java\r\n@ConfigurationProperties(prefix = &quot;spring.jpa&quot;)\r\npublic class JpaProperties {\r\n\r\n\t/**\r\n\t * Additional native properties to set on the JPA provider.\r\n\t */\r\n   \tprivate Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n\r\n   \t.....\r\n}\r\n```\r\n\r\nThe prefix is `spring.jpa` and this map field name is `properties`. So given the following properties : \r\n\r\n``` properties\r\nspring.jpa.properties.hibernate.cache.use_query_cache=true\r\nspring.jpa.properties.foo=bar\r\n```\r\nwill bind to this properties map with the following entries:\r\n\r\n```\r\nkey=hibernate.cache.use_query_cache, value=true\r\nkey=foo, value=bar\r\n```\r\n\r\nThis properties map will be directly feed into following [`JPA API`][2] to create the `EntityManagerFactory` :\r\n\r\n```java\r\nEntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;somePersistenceUnit&quot;, properties) \r\n```\r\n\r\nSo from the spring-boot &#39;s point of view , the values of this properties map is transparent to it. Spring boot will not care if the value in this properties map is valid or not as it just simply passes it to Hibernate to let it handle.\r\n\r\nSo if you want to know all the possible values for the properties , you have to check with hibernate source codes but not the spring-boot.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.maps\r\n  [2]: https://javadoc.io/static/javax.persistence/javax.persistence-api/2.2/javax/persistence/Persistence.html#createEntityManagerFactory-java.lang.String-java.util.Map-\r\n","title":"Spring Boot / Spring Data Jpa: Where is the property &quot;spring.jpa.properties.hibernate.generate_statistics&quot; read in the java code?","body":"<p>Such behaviour is mentioned in the docs <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding.maps\" rel=\"nofollow noreferrer\">Binding Maps</a> (about <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/features.html#features.external-config.typesafe-configuration-properties.relaxed-binding\" rel=\"nofollow noreferrer\">Relaxed Binding</a>) as follows :</p>\n<blockquote>\n<p>Binding a.b=c to Map&lt;String, String&gt; will preserve the . in the key\nand return a Map with the entry {&quot;a.b&quot;=&quot;c&quot;}</p>\n</blockquote>\n<p><code>JpaProperties</code> is now defined as</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;spring.jpa&quot;)\npublic class JpaProperties {\n\n    /**\n     * Additional native properties to set on the JPA provider.\n     */\n    private Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n\n    .....\n}\n</code></pre>\n<p>The prefix is <code>spring.jpa</code> and this map field name is <code>properties</code>. So given the following properties :</p>\n<pre><code>spring.jpa.properties.hibernate.cache.use_query_cache=true\nspring.jpa.properties.foo=bar\n</code></pre>\n<p>will bind to this properties map with the following entries:</p>\n<pre><code>key=hibernate.cache.use_query_cache, value=true\nkey=foo, value=bar\n</code></pre>\n<p>This properties map will be directly feed into following <a href=\"https://javadoc.io/static/javax.persistence/javax.persistence-api/2.2/javax/persistence/Persistence.html#createEntityManagerFactory-java.lang.String-java.util.Map-\" rel=\"nofollow noreferrer\"><code>JPA API</code></a> to create the <code>EntityManagerFactory</code> :</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManagerFactory emf = Persistence.createEntityManagerFactory(&quot;somePersistenceUnit&quot;, properties) \n</code></pre>\n<p>So from the spring-boot 's point of view , the values of this properties map is transparent to it. Spring boot will not care if the value in this properties map is valid or not as it just simply passes it to Hibernate to let it handle.</p>\n<p>So if you want to know all the possible values for the properties , you have to check with hibernate source codes but not the spring-boot.</p>\n"}],"owner":{"account_id":6186008,"reputation":3119,"user_id":4820101,"accept_rate":24,"display_name":"samshers"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":74256716,"answer_count":1,"score":1,"last_activity_date":1688997783,"creation_date":1667054774,"question_id":74246259,"body_markdown":"I have gone through the [Common Application Properties][1] reference page. This contains the list of commonly used spring props and the values of these properties can be defined in application.properties or application.yml.\r\n\r\nSo, just to explore and find out the **convention** regarding how and where the above props are declared (read) in java code, I started to search the code for `spring-data-jpa` related properties. \r\n\r\nNow, from this SOF answer: \r\n\r\n* [Spring Boot / Spring Data Jpa: Where is the property &quot;spring.datasource.driverClassName&quot; read in the java code?][2] \r\n\r\nI could see that `spring.datasource.driverClassName` property is located at `org.springframework.boot.autoconfigure.jdbc.DataSourceProperties` i.e at [source][3] \r\n\r\nSimilarly I want to locate the code for other properties like - `spring.jpa.properties.hibernate.cache.use_query_cache` props and `spring.jpa.properties.hibernate.generate_statistics`. I looked at `spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm` but could not find any.\r\n\r\nAny suggestions are highly appreciated.\r\n\r\n\r\nI am Just trying to understand spring boot a little deeper.\r\n \r\nNote: I could locate [`spring.jpa`][4] but not the above props.\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\r\n  [2]: https://stackoverflow.com/a/74180858/4820101\r\n  [3]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceProperties.java#L72\r\n  [4]: https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/JpaProperties.java#L37","title":"Spring Boot / Spring Data Jpa: Where is the property &quot;spring.jpa.properties.hibernate.generate_statistics&quot; read in the java code?","body":"<p>I have gone through the <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html\" rel=\"nofollow noreferrer\">Common Application Properties</a> reference page. This contains the list of commonly used spring props and the values of these properties can be defined in application.properties or application.yml.</p>\n<p>So, just to explore and find out the <strong>convention</strong> regarding how and where the above props are declared (read) in java code, I started to search the code for <code>spring-data-jpa</code> related properties.</p>\n<p>Now, from this SOF answer:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/a/74180858/4820101\">Spring Boot / Spring Data Jpa: Where is the property &quot;spring.datasource.driverClassName&quot; read in the java code?</a></li>\n</ul>\n<p>I could see that <code>spring.datasource.driverClassName</code> property is located at <code>org.springframework.boot.autoconfigure.jdbc.DataSourceProperties</code> i.e at <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/jdbc/DataSourceProperties.java#L72\" rel=\"nofollow noreferrer\">source</a></p>\n<p>Similarly I want to locate the code for other properties like - <code>spring.jpa.properties.hibernate.cache.use_query_cache</code> props and <code>spring.jpa.properties.hibernate.generate_statistics</code>. I looked at <code>spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm</code> but could not find any.</p>\n<p>Any suggestions are highly appreciated.</p>\n<p>I am Just trying to understand spring boot a little deeper.</p>\n<p>Note: I could locate <a href=\"https://github.com/spring-projects/spring-boot/blob/main/spring-boot-project/spring-boot-autoconfigure/src/main/java/org/springframework/boot/autoconfigure/orm/jpa/JpaProperties.java#L37\" rel=\"nofollow noreferrer\"><code>spring.jpa</code></a> but not the above props.</p>\n"},{"tags":["java","jaxb","osgi"],"comments":[{"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"score":0,"creation_date":1323331005,"post_id":8427539,"comment_id":10413108,"body_markdown":"Look into keywird &#39;classpath scanner&#39;, but be aware that in OSGi environments bundles do come and go.","body":"Look into keywird &#39;classpath scanner&#39;, but be aware that in OSGi environments bundles do come and go."},{"owner":{"account_id":237365,"reputation":1500,"user_id":505482,"display_name":"Valchev"},"score":0,"creation_date":1323332247,"post_id":8427539,"comment_id":10413345,"body_markdown":"Thanks for the reply. What exactly do you mean by &#39;classpath scanner&#39; ? Do you mean Waving ?","body":"Thanks for the reply. What exactly do you mean by &#39;classpath scanner&#39; ? Do you mean Waving ?"}],"answers":[{"tags":[],"owner":{"account_id":201851,"reputation":9354,"user_id":448551,"display_name":"BJ Hargrave"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1688997465,"creation_date":1323342089,"answer_id":8429913,"question_id":8427539,"body_markdown":"Searching the bundle with `Bundle.findEntries` does not search the Bundle-Classpath. You need to use the new [`BundleWiring.listResources`][1] api.\r\n\r\n\r\n[1]: http://www.osgi.org/javadoc/r4v43/core/org/osgi/framework/wiring/BundleWiring.html#listResources%28java.lang.String,%20java.lang.String,%20int%29","title":"How to find annotated classes in OSGi bundle","body":"<p>Searching the bundle with <code>Bundle.findEntries</code> does not search the Bundle-Classpath. You need to use the new <a href=\"http://www.osgi.org/javadoc/r4v43/core/org/osgi/framework/wiring/BundleWiring.html#listResources%28java.lang.String,%20java.lang.String,%20int%29\" rel=\"nofollow noreferrer\"><code>BundleWiring.listResources</code></a> api.</p>\n"},{"tags":[],"owner":{"account_id":170809,"reputation":16057,"user_id":397786,"display_name":"Tassos Bassoukos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323352031,"creation_date":1323352031,"answer_id":8431940,"question_id":8427539,"body_markdown":"Have a look at http://sourceforge.net/projects/extcos/; while its focus is on component scanning, I think it may be able to cover your use case. Note that annotations are optional in JAXB - that is, a class can be used by JAXB without being annotated.","title":"How to find annotated classes in OSGi bundle","body":"<p>Have a look at <a href=\"http://sourceforge.net/projects/extcos/\" rel=\"nofollow\">http://sourceforge.net/projects/extcos/</a>; while its focus is on component scanning, I think it may be able to cover your use case. Note that annotations are optional in JAXB - that is, a class can be used by JAXB without being annotated.</p>\n"},{"tags":[],"owner":{"account_id":449171,"reputation":28526,"user_id":843804,"accept_rate":89,"display_name":"palacsint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1323638407,"creation_date":1323638407,"answer_id":8467557,"question_id":8427539,"body_markdown":"I would take a look at the [reflections project][0]. Its [collect pre scanned metadata][1] feature also could be useful.\r\n\r\n[0]: http://code.google.com/p/reflections/\r\n[1]: http://code.google.com/p/reflections/wiki/UseCases#collect_pre_scanned_metadata","title":"How to find annotated classes in OSGi bundle","body":"<p>I would take a look at the <a href=\"http://code.google.com/p/reflections/\" rel=\"nofollow\">reflections project</a>. Its <a href=\"http://code.google.com/p/reflections/wiki/UseCases#collect_pre_scanned_metadata\" rel=\"nofollow\">collect pre scanned metadata</a> feature also could be useful.</p>\n"}],"owner":{"account_id":237365,"reputation":1500,"user_id":505482,"display_name":"Valchev"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2779,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":8429913,"answer_count":3,"score":10,"last_activity_date":1688997465,"creation_date":1323328826,"question_id":8427539,"body_markdown":"My applications has several bundles, which contain JAXB annotated classes and service bundle, which is responsible for `JAXBContext` creation. \r\n\r\nThe service bundle registers `BundleListener` and capture lifecycle events, but the problem is that I don&#39;t know how to retreive annotated classes from the `org.osgi.framework.Bundle` object. Adding entry with classes into `MANIFEST.MF` and `Bundle.loadClass(..)` will solve my problem, but finding classes by annotation seems more clear solution for me.\r\n\r\nDo you have any idea how I can find annotated classes ?\r\n\r\nI think I have to scan the `jar` file for `.class` resources with \r\n\r\n    Enumeration&lt;?&gt; classes = bundle.findEntries(&quot;/&quot;, &quot;*.class&quot;, true)\r\n\r\nand load them with `Bundle.loadClass(...)`. Do you think that there is going to any performance issues with this approach?","title":"How to find annotated classes in OSGi bundle","body":"<p>My applications has several bundles, which contain JAXB annotated classes and service bundle, which is responsible for <code>JAXBContext</code> creation. </p>\n\n<p>The service bundle registers <code>BundleListener</code> and capture lifecycle events, but the problem is that I don't know how to retreive annotated classes from the <code>org.osgi.framework.Bundle</code> object. Adding entry with classes into <code>MANIFEST.MF</code> and <code>Bundle.loadClass(..)</code> will solve my problem, but finding classes by annotation seems more clear solution for me.</p>\n\n<p>Do you have any idea how I can find annotated classes ?</p>\n\n<p>I think I have to scan the <code>jar</code> file for <code>.class</code> resources with </p>\n\n<pre><code>Enumeration&lt;?&gt; classes = bundle.findEntries(\"/\", \"*.class\", true)\n</code></pre>\n\n<p>and load them with <code>Bundle.loadClass(...)</code>. Do you think that there is going to any performance issues with this approach?</p>\n"},{"tags":["java","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1602653693,"creation_date":1602653693,"answer_id":64347218,"question_id":64346398,"body_markdown":"The `Query` parameter to be passed into the `search()` method can have a `Pageable` set for the request. To wrap the returned `SearchHits&lt;T&gt;` object in a `SearchPage&lt;T&gt;` you just can do\r\n\r\n```java\r\nSearchPage&lt;T&gt; searchPage = SearchHitSupport.searchPageFor(searchHits, query.getPageable());\r\n``` ","title":"In &quot;spring-data-elasticsearch&quot; 4.0.4.RELEASE, how to convert SearchHits to Page?","body":"<p>The <code>Query</code> parameter to be passed into the <code>search()</code> method can have a <code>Pageable</code> set for the request. To wrap the returned <code>SearchHits&lt;T&gt;</code> object in a <code>SearchPage&lt;T&gt;</code> you just can do</p>\n<pre class=\"lang-java prettyprint-override\"><code>SearchPage&lt;T&gt; searchPage = SearchHitSupport.searchPageFor(searchHits, query.getPageable());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5733229,"reputation":546,"user_id":4528146,"display_name":"Tasos Zervos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688997133,"creation_date":1688997133,"answer_id":76654439,"question_id":64346398,"body_markdown":"From:&lt;br/&gt;\r\n`SearchHits&lt;Parcel&gt; searchHits = operations.search(query, xxx.class);`\r\n\r\nYou then:\r\n```\r\nList&lt;xxx&gt; content = (List&lt;xxx&gt;) SearchHitSupport.unwrapSearchHits(searchHits);\r\nreturn new PageImpl&lt;&gt;(content, query.getPageable(), searchHits.getTotalHits());\r\n```","title":"In &quot;spring-data-elasticsearch&quot; 4.0.4.RELEASE, how to convert SearchHits to Page?","body":"<p>From:<br/>\n<code>SearchHits&lt;Parcel&gt; searchHits = operations.search(query, xxx.class);</code></p>\n<p>You then:</p>\n<pre><code>List&lt;xxx&gt; content = (List&lt;xxx&gt;) SearchHitSupport.unwrapSearchHits(searchHits);\nreturn new PageImpl&lt;&gt;(content, query.getPageable(), searchHits.getTotalHits());\n</code></pre>\n"}],"owner":{"account_id":1710481,"reputation":22873,"user_id":1568658,"accept_rate":82,"display_name":"Eric"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2274,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1688997133,"creation_date":1602647962,"question_id":64346398,"body_markdown":"In `spring-data-elasticsearch` 4.0.4.RELEASE, `ElasticsearchRestTemplate`&#39;s `queryForPage()` methods are deprecated, need to use `search()` instead, which return `SearchHits` instead of `Page`.\r\n\r\nSo, how to convert `SearchHits` to `Page`, or how to still get results as `Page`?\r\n\r\nI have searched via google, and checked official doc, and checked source code, still don&#39;t know the best way, any help?\r\n","title":"In &quot;spring-data-elasticsearch&quot; 4.0.4.RELEASE, how to convert SearchHits to Page?","body":"<p>In <code>spring-data-elasticsearch</code> 4.0.4.RELEASE, <code>ElasticsearchRestTemplate</code>'s <code>queryForPage()</code> methods are deprecated, need to use <code>search()</code> instead, which return <code>SearchHits</code> instead of <code>Page</code>.</p>\n<p>So, how to convert <code>SearchHits</code> to <code>Page</code>, or how to still get results as <code>Page</code>?</p>\n<p>I have searched via google, and checked official doc, and checked source code, still don't know the best way, any help?</p>\n"},{"tags":["java","twilio","sendgrid"],"answers":[{"tags":[],"owner":{"account_id":12349865,"reputation":338,"user_id":9009028,"display_name":"Vico"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1672850028,"creation_date":1672850028,"answer_id":75008477,"question_id":74842638,"body_markdown":"I got the same problem, seems like SendGrid have problem with people using the service for fraudulent use so you need to get verified first. On the top of the page, you probably have a message saying that you need to get verified. You will need to fill a form, then they will contact you via email to gather some more information and accept or deny your access to the service.","title":"Twilio SendGrid emails stuck in processing","body":"<p>I got the same problem, seems like SendGrid have problem with people using the service for fraudulent use so you need to get verified first. On the top of the page, you probably have a message saying that you need to get verified. You will need to fill a form, then they will contact you via email to gather some more information and accept or deny your access to the service.</p>\n"}],"owner":{"account_id":26289969,"reputation":313,"user_id":19957114,"display_name":"dev-rifaii"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4854,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1688997120,"creation_date":1671378233,"question_id":74842638,"body_markdown":"I&#39;m trying to integrate Twilio email verification in my application. Here&#39;s the code:\r\n\r\n```java\r\n public EmailVerificationDto sendVerificationEmail(String recipient) {\r\n        Verification verification = Verification.creator(\r\n                        PATH_SERVICE_SID,\r\n                        recipient,\r\n                        &quot;email&quot;)\r\n                .setChannelConfiguration(\r\n                        new HashMap&lt;&gt;() {{\r\n                            put(&quot;template_id&quot;, TEMPLATE_ID);\r\n                            put(&quot;from&quot;, SENDER_EMAIL);\r\n                            put(&quot;from_name&quot;, &quot;Puggle&quot;);\r\n                        }})\r\n                .create();\r\n\r\n        return new EmailVerificationDto(\r\n                verification.getTo(),\r\n                verification.getSid(),\r\n                verification.getStatus(),\r\n                verification.getDateCreated().toLocalDate()\r\n        );\r\n    }\r\n```\r\n\r\nI can see the email on the dashboard but it&#39;s stuck on processing:\r\n\r\n[![stuck][1]][1]\r\n\r\n\r\n\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/al1H5.jpg\r\n  [2]: https://i.stack.imgur.com/yxcdv.jpg","title":"Twilio SendGrid emails stuck in processing","body":"<p>I'm trying to integrate Twilio email verification in my application. Here's the code:</p>\n<pre class=\"lang-java prettyprint-override\"><code> public EmailVerificationDto sendVerificationEmail(String recipient) {\n        Verification verification = Verification.creator(\n                        PATH_SERVICE_SID,\n                        recipient,\n                        &quot;email&quot;)\n                .setChannelConfiguration(\n                        new HashMap&lt;&gt;() {{\n                            put(&quot;template_id&quot;, TEMPLATE_ID);\n                            put(&quot;from&quot;, SENDER_EMAIL);\n                            put(&quot;from_name&quot;, &quot;Puggle&quot;);\n                        }})\n                .create();\n\n        return new EmailVerificationDto(\n                verification.getTo(),\n                verification.getSid(),\n                verification.getStatus(),\n                verification.getDateCreated().toLocalDate()\n        );\n    }\n</code></pre>\n<p>I can see the email on the dashboard but it's stuck on processing:</p>\n<p><a href=\"https://i.stack.imgur.com/al1H5.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/al1H5.jpg\" alt=\"stuck\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/yxcdv.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/yxcdv.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring-mvc"],"comments":[{"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"score":0,"creation_date":1688982928,"post_id":76652537,"comment_id":135143424,"body_markdown":"Hello, I suggest you to use this as a starting point. There are samples too : https://spring.io/projects/spring-session#overview","body":"Hello, I suggest you to use this as a starting point. There are samples too : <a href=\"https://spring.io/projects/spring-session#overview\" rel=\"nofollow noreferrer\">spring.io/projects/spring-session#overview</a>"}],"answers":[{"tags":[],"owner":{"account_id":419537,"reputation":4992,"user_id":796761,"accept_rate":50,"display_name":"dbreaux"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688996769,"creation_date":1688996769,"answer_id":76654379,"question_id":76652537,"body_markdown":"This looks like a misunderstanding of Java EE `HttpSession`, so I suspect the code isn&#39;t doing what you intend. \r\n\r\nYou&#39;re using the `HttpSession` between calls and storing an object on it, which makes it available on subsequent calls from the same client. But your URL pattern looks more like an API than a web application, and APIs are normally &quot;stateless&quot;, not using an `HttpSession` at all.\r\n\r\nIf this *is* an API and you *do* need to store state between these two calls, you&#39;ll need to make sure your API client stores and sends back the Session ID cookie. I would guess that this is the source of your problem, not connecting back to the original session, but starting a new one when you make the second call.\r\n\r\nWhich leads to the next issue. That is, you&#39;re storing on the `HttpSession` an object under the key of the Session ID itself, which is redundant. The Session ID is already the identifier into the JEE server&#39;s &quot;map&quot; of Sessions, so there&#39;s no reason you&#39;d need to use the Session ID as a key into the Session itself. Instead, you&#39;d use some descriptive string as the key to the object. \r\n\r\nFor instance, if your Session ID is `12345`, what you&#39;re currently doing is saying, &quot;I&#39;m session `12345`, get me an object with key `12345` from this session Map&quot;. \r\n\r\nInstead, you&#39;d use a key like:\r\n```java\r\nsession.setAttribute(&quot;originalPostString&quot;, value);\r\n```\r\n\r\nAnd later:\r\n```java\r\nString data = (String) session.getAttribute(&quot;originalPostString&quot;);\r\n```\r\n","title":"Session storage in Java","body":"<p>This looks like a misunderstanding of Java EE <code>HttpSession</code>, so I suspect the code isn't doing what you intend.</p>\n<p>You're using the <code>HttpSession</code> between calls and storing an object on it, which makes it available on subsequent calls from the same client. But your URL pattern looks more like an API than a web application, and APIs are normally &quot;stateless&quot;, not using an <code>HttpSession</code> at all.</p>\n<p>If this <em>is</em> an API and you <em>do</em> need to store state between these two calls, you'll need to make sure your API client stores and sends back the Session ID cookie. I would guess that this is the source of your problem, not connecting back to the original session, but starting a new one when you make the second call.</p>\n<p>Which leads to the next issue. That is, you're storing on the <code>HttpSession</code> an object under the key of the Session ID itself, which is redundant. The Session ID is already the identifier into the JEE server's &quot;map&quot; of Sessions, so there's no reason you'd need to use the Session ID as a key into the Session itself. Instead, you'd use some descriptive string as the key to the object.</p>\n<p>For instance, if your Session ID is <code>12345</code>, what you're currently doing is saying, &quot;I'm session <code>12345</code>, get me an object with key <code>12345</code> from this session Map&quot;.</p>\n<p>Instead, you'd use a key like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>session.setAttribute(&quot;originalPostString&quot;, value);\n</code></pre>\n<p>And later:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String data = (String) session.getAttribute(&quot;originalPostString&quot;);\n</code></pre>\n"}],"owner":{"account_id":27572654,"reputation":1,"user_id":21043535,"display_name":"Bhanu"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1688996812,"creation_date":1688982203,"question_id":76652537,"body_markdown":"The value is correctly stored in the session attribute, but am encountering an issue when retrieving the session data.\r\n\r\n```java\r\n    @PostMapping(&quot;/setSessionValue&quot;)\r\n    public String setSessionValue(HttpServletRequest request, @RequestBody String value) {\r\n        HttpSession session = request.getSession();\r\n        String sessionId = session.getId();\r\n        session.setAttribute(sessionId, value);\r\n        System.out.println(&quot;value: &quot; + value);\r\n        System.out.println(&quot;session attribute: &quot; + session.getAttribute(sessionId));\r\n        return sessionId;\r\n    }\r\n\r\n    @GetMapping(&quot;/getSessionValue/{sessionId}&quot;)\r\n    public String getSessionValue(@PathVariable String sessionId, HttpServletRequest request) {\r\n        HttpSession session = request.getSession();\r\n        String data = (String) session.getAttribute(sessionId);\r\n        System.out.println(&quot;data: &quot; + data);\r\n        return &quot;Value set in session: &quot; + sessionId + &quot;:&quot; + data;\r\n    }\r\n```\r\n\r\n\r\n\r\nwhen retrieving the session data am getting null","title":"Session storage in Java","body":"<p>The value is correctly stored in the session attribute, but am encountering an issue when retrieving the session data.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @PostMapping(&quot;/setSessionValue&quot;)\n    public String setSessionValue(HttpServletRequest request, @RequestBody String value) {\n        HttpSession session = request.getSession();\n        String sessionId = session.getId();\n        session.setAttribute(sessionId, value);\n        System.out.println(&quot;value: &quot; + value);\n        System.out.println(&quot;session attribute: &quot; + session.getAttribute(sessionId));\n        return sessionId;\n    }\n\n    @GetMapping(&quot;/getSessionValue/{sessionId}&quot;)\n    public String getSessionValue(@PathVariable String sessionId, HttpServletRequest request) {\n        HttpSession session = request.getSession();\n        String data = (String) session.getAttribute(sessionId);\n        System.out.println(&quot;data: &quot; + data);\n        return &quot;Value set in session: &quot; + sessionId + &quot;:&quot; + data;\n    }\n</code></pre>\n<p>when retrieving the session data am getting null</p>\n"},{"tags":["java","arrays","merge","duplicates"],"comments":[{"owner":{"display_name":"user5156016"},"score":0,"creation_date":1486241598,"post_id":42045283,"comment_id":71264063,"body_markdown":"remove them before merging.","body":"remove them before merging."},{"owner":{"account_id":9553438,"reputation":3539,"user_id":7096763,"display_name":"MikaelF"},"score":0,"creation_date":1486269572,"post_id":42045283,"comment_id":71269860,"body_markdown":"I don&#39;t know what the context of the problem is, or how critical the memory usage/speed of your program is, but you should start using collections. You could do all this in one or two lines.","body":"I don&#39;t know what the context of the problem is, or how critical the memory usage/speed of your program is, but you should start using collections. You could do all this in one or two lines."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1688994834,"post_id":42045283,"comment_id":135146075,"body_markdown":"Collections will wrap everything to an Integer, and if you are use a HashSet, it will create a zillion internal objects. If your arrays are of any significant size, or you are using this a lot, you should use the standard algorithm for doing this, which I have given below.","body":"Collections will wrap everything to an Integer, and if you are use a HashSet, it will create a zillion internal objects. If your arrays are of any significant size, or you are using this a lot, you should use the standard algorithm for doing this, which I have given below."},{"owner":{"account_id":1992310,"reputation":11172,"user_id":1786065,"accept_rate":91,"display_name":"Rogue"},"score":0,"creation_date":1688995349,"post_id":42045283,"comment_id":135146205,"body_markdown":"@rghome note this is quite an old question. The [tradeoff](https://en.wikipedia.org/wiki/Space%E2%80%93time_tradeoff) in memory consumption (in a `Set&lt;Integer&gt;`, likely on the order of MB out of GB for sets sized in the millions) is that you save costs in cpu-consumption (~O(1) checks vs ~O(n)).  A `HashSet` is a non-starter for this question outside of performing dupe checks: The OP has sorted data, and `HashSet` is inherently unordered.","body":"@rghome note this is quite an old question. The <a href=\"https://en.wikipedia.org/wiki/Space%E2%80%93time_tradeoff\" rel=\"nofollow noreferrer\">tradeoff</a> in memory consumption (in a <code>Set&lt;Integer&gt;</code>, likely on the order of MB out of GB for sets sized in the millions) is that you save costs in cpu-consumption (~O(1) checks vs ~O(n)).  A <code>HashSet</code> is a non-starter for this question outside of performing dupe checks: The OP has sorted data, and <code>HashSet</code> is inherently unordered."},{"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"score":0,"creation_date":1688996631,"post_id":42045283,"comment_id":135146543,"body_markdown":"@Rouge It&#39;s not so much the memory space, but the expense of allocating it; i.e., all those Integers and other objects (depending on what classes you use), then the fact that they have to be garbage collected. There is no space-time trade-off. Using Collections will be slower _and_ use more memory. The trade-off is whether it is worth the programmer&#39;s time finding the best solution (hence the usefulness of this site!).","body":"@Rouge It&#39;s not so much the memory space, but the expense of allocating it; i.e., all those Integers and other objects (depending on what classes you use), then the fact that they have to be garbage collected. There is no space-time trade-off. Using Collections will be slower <i>and</i> use more memory. The trade-off is whether it is worth the programmer&#39;s time finding the best solution (hence the usefulness of this site!)."}],"answers":[{"tags":[],"owner":{"account_id":2486844,"reputation":1057,"user_id":2165125,"display_name":"Zenith"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620316467,"creation_date":1486241315,"answer_id":42045436,"question_id":42045283,"body_markdown":"Call your `merge` method and do the followings. I tested it. It works fine.\r\n```java    \r\nint[] result = merge(count, count1);\r\n\r\nSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\r\ntry {\r\n    for (int i = 0; i &lt; result.length; i++) {\r\n        set.add(result[i]);\r\n    }\r\n    System.out.println(set);\r\n} catch (Exception e) { }\r\n```\r\n","title":"Merge two arrays and remove duplicates in Java","body":"<p>Call your <code>merge</code> method and do the followings. I tested it. It works fine.</p>\n<pre class=\"lang-java prettyprint-override\"><code>int[] result = merge(count, count1);\n\nSet&lt;Integer&gt; set = new HashSet&lt;Integer&gt;();\ntry {\n    for (int i = 0; i &lt; result.length; i++) {\n        set.add(result[i]);\n    }\n    System.out.println(set);\n} catch (Exception e) { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":198938,"reputation":1576,"user_id":443908,"accept_rate":82,"display_name":"badperson"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1486250501,"creation_date":1486250501,"answer_id":42046804,"question_id":42045283,"body_markdown":"Ok, someone hated all the answers. Here&#39;s another attempt that combines two stackoverflow q&#39;s, [combining arrays][1] and [removing dupes.][2] \r\n\r\nThis one runs a good deal faster than my earlier attempt on two lists of  a million ints. \r\n\r\n\tpublic int[] mergeArrays2(int[] arr1, int[] arr2){\r\n\t\tint[] merged = new int[arr1.length + arr2.length];\r\n\t\tSystem.arraycopy(arr1, 0, merged, 0, arr1.length);\r\n\t\tSystem.arraycopy(arr2, 0, merged, arr1.length, arr2.length);\r\n\t\t\r\n\t\tSet&lt;Integer&gt; nodupes = new HashSet&lt;Integer&gt;();\r\n\t\t\r\n\t\tfor(int i=0;i&lt;merged.length;i++){\r\n\t\t\tnodupes.add(merged[i]);\r\n\t\t}\r\n\t\t\r\n\t\tint[] nodupesarray = new int[nodupes.size()];\r\n\t\tint i = 0;\r\n\t\tIterator&lt;Integer&gt; it = nodupes.iterator();\r\n\t\twhile(it.hasNext()){\r\n\t\t\tnodupesarray[i] = it.next();\r\n\t\t\ti++;\r\n\t\t}\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t\treturn nodupesarray;\r\n\t}\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/4697255/combine-two-integer-arrays\r\n  [2]: https://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array-without-using-set\r\n\r\n\r\nconsole output:\r\n\r\n    INFO [main] (TestMergeArray.java:40) - creating two lists of a million ints\r\n    DEBUG [main] (TestMergeArray.java:41) - list 1 size : 1000000\r\n    DEBUG [main] (TestMergeArray.java:42) - list 2 size : 1000000\r\n    INFO [main] (TestMergeArray.java:56) - now merging\r\n    INFO [main] (TestMergeArray.java:59) - done, final list size is 864975","title":"Merge two arrays and remove duplicates in Java","body":"<p>Ok, someone hated all the answers. Here's another attempt that combines two stackoverflow q's, <a href=\"https://stackoverflow.com/questions/4697255/combine-two-integer-arrays\">combining arrays</a> and <a href=\"https://stackoverflow.com/questions/17967114/how-to-efficiently-remove-duplicates-from-an-array-without-using-set\">removing dupes.</a> </p>\n\n<p>This one runs a good deal faster than my earlier attempt on two lists of  a million ints. </p>\n\n<pre><code>public int[] mergeArrays2(int[] arr1, int[] arr2){\n    int[] merged = new int[arr1.length + arr2.length];\n    System.arraycopy(arr1, 0, merged, 0, arr1.length);\n    System.arraycopy(arr2, 0, merged, arr1.length, arr2.length);\n\n    Set&lt;Integer&gt; nodupes = new HashSet&lt;Integer&gt;();\n\n    for(int i=0;i&lt;merged.length;i++){\n        nodupes.add(merged[i]);\n    }\n\n    int[] nodupesarray = new int[nodupes.size()];\n    int i = 0;\n    Iterator&lt;Integer&gt; it = nodupes.iterator();\n    while(it.hasNext()){\n        nodupesarray[i] = it.next();\n        i++;\n    }\n\n\n\n    return nodupesarray;\n}\n</code></pre>\n\n<p>console output:</p>\n\n<pre><code>INFO [main] (TestMergeArray.java:40) - creating two lists of a million ints\nDEBUG [main] (TestMergeArray.java:41) - list 1 size : 1000000\nDEBUG [main] (TestMergeArray.java:42) - list 2 size : 1000000\nINFO [main] (TestMergeArray.java:56) - now merging\nINFO [main] (TestMergeArray.java:59) - done, final list size is 864975\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9319936,"reputation":103,"user_id":6918962,"display_name":"JoryAnderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1486269712,"creation_date":1486269198,"answer_id":42048569,"question_id":42045283,"body_markdown":"Can you use ArrayLists? ArrayLists would make this very easy to do.\r\n\r\n     //Consider n1 to be some global or instance variable.\r\n\r\n     import java.util.ArrayList;\r\n     public void Add(ArrayList&lt;Integer&gt; n2) {\r\n    \r\n         for(int i = 0; i &lt; n2.size(); i++) {\r\n             if(!n1.contains(i))\r\n                 n1.add(n2.get(i));\r\n         }\r\n    }","title":"Merge two arrays and remove duplicates in Java","body":"<p>Can you use ArrayLists? ArrayLists would make this very easy to do.</p>\n\n<pre><code> //Consider n1 to be some global or instance variable.\n\n import java.util.ArrayList;\n public void Add(ArrayList&lt;Integer&gt; n2) {\n\n     for(int i = 0; i &lt; n2.size(); i++) {\n         if(!n1.contains(i))\n             n1.add(n2.get(i));\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11079861,"reputation":11,"user_id":8135344,"display_name":"satya prakash"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1620365272,"creation_date":1496990991,"answer_id":44451138,"question_id":42045283,"body_markdown":"```java\r\npackage com.string.merge;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class MergeArrayAndRemoveDuplicate {\r\n    public static void main(String[] args) {\r\n        int[] a = {1, 2, 2, 3, 1, 5, 3};\r\n        int[] b = {4, 3, 1, 5, 7, 8, 4, 2};\r\n\r\n        ArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\r\n        for (int i = 0; i &lt; (a.length &gt; b.length ? a.length : b.length); i++) {\r\n            if (i &lt; a.length) {\r\n                int c = 0;\r\n                while (c &lt;= l.size()) {\r\n                    if (l.contains(a[i]) == false) {\r\n                        l.add(a[i]);\r\n                    }\r\n                    c++;\r\n                }\r\n            }\r\n            if (i &lt; b.length) {\r\n                int c = 0;\r\n                while (c &lt;= l.size()) {\r\n                    if (l.contains(b[i]) == false) {\r\n                        l.add(b[i]);\r\n                    }\r\n                    c++;\r\n                }\r\n            }\r\n        }\r\n        System.out.println(l);\r\n    }\r\n}\r\n```\r\n```\r\no/p-[1, 4, 2, 3, 5, 7, 8]\r\n```\r\n","title":"Merge two arrays and remove duplicates in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>package com.string.merge;\n\nimport java.util.ArrayList;\n\npublic class MergeArrayAndRemoveDuplicate {\n    public static void main(String[] args) {\n        int[] a = {1, 2, 2, 3, 1, 5, 3};\n        int[] b = {4, 3, 1, 5, 7, 8, 4, 2};\n\n        ArrayList&lt;Integer&gt; l = new ArrayList&lt;&gt;();\n        for (int i = 0; i &lt; (a.length &gt; b.length ? a.length : b.length); i++) {\n            if (i &lt; a.length) {\n                int c = 0;\n                while (c &lt;= l.size()) {\n                    if (l.contains(a[i]) == false) {\n                        l.add(a[i]);\n                    }\n                    c++;\n                }\n            }\n            if (i &lt; b.length) {\n                int c = 0;\n                while (c &lt;= l.size()) {\n                    if (l.contains(b[i]) == false) {\n                        l.add(b[i]);\n                    }\n                    c++;\n                }\n            }\n        }\n        System.out.println(l);\n    }\n}\n</code></pre>\n<pre><code>o/p-[1, 4, 2, 3, 5, 7, 8]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6277349,"reputation":311,"user_id":4879651,"display_name":"Manash Ranjan Dakua"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1620320082,"creation_date":1527672973,"answer_id":50601274,"question_id":42045283,"body_markdown":"```java\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\npublic class MergeListAndRemoveDuplicate {\r\n    public static void main(String[] args) {\r\n        int a[] = {1, 1, 2, 1, 3, 4, 1, 2, 5};\r\n        int b[] = {1, 2, 3, 1, 3, 2, 4, 5, 6, 7};\r\n\r\n        boolean flag = true;\r\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\r\n\r\n        for (int i = 0; i &lt; a.length; i++) {\r\n            for (int j = 0; j &lt; b.length; j++) {\r\n                if (a[i] == b[j]) {\r\n                    flag = false;\r\n                }\r\n                if (i == j &amp;&amp; !list.contains(b[j])) {\r\n                    list.add(b[j]);\r\n                }\r\n            }\r\n            if (flag == true) {\r\n                list.add(a[i]);\r\n            }\r\n        }\r\n        System.out.println(list);\r\n    }\r\n}\r\n```\r\n","title":"Merge two arrays and remove duplicates in Java","body":"<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.List;\npublic class MergeListAndRemoveDuplicate {\n    public static void main(String[] args) {\n        int a[] = {1, 1, 2, 1, 3, 4, 1, 2, 5};\n        int b[] = {1, 2, 3, 1, 3, 2, 4, 5, 6, 7};\n\n        boolean flag = true;\n        List&lt;Integer&gt; list = new ArrayList&lt;Integer&gt;();\n\n        for (int i = 0; i &lt; a.length; i++) {\n            for (int j = 0; j &lt; b.length; j++) {\n                if (a[i] == b[j]) {\n                    flag = false;\n                }\n                if (i == j &amp;&amp; !list.contains(b[j])) {\n                    list.add(b[j]);\n                }\n            }\n            if (flag == true) {\n                list.add(a[i]);\n            }\n        }\n        System.out.println(list);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":53192,"reputation":1082,"user_id":159022,"accept_rate":83,"display_name":"Rz Mk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1620365192,"creation_date":1537816416,"answer_id":52485880,"question_id":42045283,"body_markdown":"Here&#39;s a technique that iterates the arrays just once and does not use a hash to detect duplicates.\r\n```java\r\nimport java.util.List;\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\n\r\npublic class SortedMerge {\r\n    public static int[] merge(int[] array1, int[] array2) {\r\n        int[] a;\r\n        int[] b;\r\n        List&lt;Integer&gt; c = new ArrayList&lt;Integer&gt;();\r\n        int i = 0;\r\n        int j = 0;\r\n\r\n        // b is longer than a\r\n        if (array1.length &gt; array2.length) {\r\n            a = array2;\r\n            b = array1;\r\n        } else {\r\n            a = array1;\r\n            b = array2;\r\n        }\r\n\r\n        while (j &lt; b.length) {\r\n            int bb = b[j];\r\n\r\n            if (i &lt; a.length) {\r\n                int aa = a[i];\r\n\r\n                if (aa &gt; bb) {\r\n                    c.add(bb);\r\n                    j++;\r\n                } else {\r\n                    c.add(aa);\r\n                    i++;\r\n                    if (aa == bb) {\r\n                        j++;\r\n                    }\r\n                }\r\n            } else {\r\n                c.add(bb);\r\n                j++;\r\n            }\r\n        }\r\n        // java 8 List&lt;Integer&gt; to int[]\r\n        return c.stream().mapToInt(Integer::intValue).toArray();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        int[] array1 = new int[]{3, 5, 8, 11, 14};\r\n        int[] array2 = new int[]{1, 2, 3, 4, 6, 8, 14, 15, 17};\r\n        int[] c = merge(array1, array2);\r\n\r\n        for (int i = 0; i &lt; c.length; i++) {\r\n            System.out.format(&quot;%d,&quot;, c[i]);\r\n        }\r\n        System.out.println();\r\n        // output&gt; 1,2,3,4,5,6,8,11,14,15,17,\r\n    }\r\n}\r\n```\r\n","title":"Merge two arrays and remove duplicates in Java","body":"<p>Here's a technique that iterates the arrays just once and does not use a hash to detect duplicates.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.List;\nimport java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class SortedMerge {\n    public static int[] merge(int[] array1, int[] array2) {\n        int[] a;\n        int[] b;\n        List&lt;Integer&gt; c = new ArrayList&lt;Integer&gt;();\n        int i = 0;\n        int j = 0;\n\n        // b is longer than a\n        if (array1.length &gt; array2.length) {\n            a = array2;\n            b = array1;\n        } else {\n            a = array1;\n            b = array2;\n        }\n\n        while (j &lt; b.length) {\n            int bb = b[j];\n\n            if (i &lt; a.length) {\n                int aa = a[i];\n\n                if (aa &gt; bb) {\n                    c.add(bb);\n                    j++;\n                } else {\n                    c.add(aa);\n                    i++;\n                    if (aa == bb) {\n                        j++;\n                    }\n                }\n            } else {\n                c.add(bb);\n                j++;\n            }\n        }\n        // java 8 List&lt;Integer&gt; to int[]\n        return c.stream().mapToInt(Integer::intValue).toArray();\n    }\n\n    public static void main(String[] args) throws Exception {\n        int[] array1 = new int[]{3, 5, 8, 11, 14};\n        int[] array2 = new int[]{1, 2, 3, 4, 6, 8, 14, 15, 17};\n        int[] c = merge(array1, array2);\n\n        for (int i = 0; i &lt; c.length; i++) {\n            System.out.format(&quot;%d,&quot;, c[i]);\n        }\n        System.out.println();\n        // output&gt; 1,2,3,4,5,6,8,11,14,15,17,\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573488397,"creation_date":1573488397,"answer_id":58804821,"question_id":42045283,"body_markdown":"_this clearer lambda solution is slightly slower  because of the (un)boxing_&lt;br /&gt;\r\nrequires Java 8 or above\r\n\r\n    public static int[] mergedistinct( int[] array1, int[] array2 ) {\r\n      Stream&lt;Integer&gt; s1 = IntStream.of( array1 ).boxed();\r\n      Stream&lt;Integer&gt; s2 = IntStream.of( array2 ).boxed();\r\n      return( Stream.concat( s1, s2 ).distinct().mapToInt( i -&gt; i ).toArray() );\r\n    }\r\n\r\n`[1, 2, 3, 5, 4, 7, 8]`&lt;br /&gt;\r\n\r\n_if you need the array sorted:_\r\n\r\n    …\r\n    return( Stream.concat( s1, s2 ).distinct().sorted().mapToInt( i -&gt; i ).toArray() );","title":"Merge two arrays and remove duplicates in Java","body":"<p><em>this clearer lambda solution is slightly slower  because of the (un)boxing</em><br />\nrequires Java 8 or above</p>\n\n<pre><code>public static int[] mergedistinct( int[] array1, int[] array2 ) {\n  Stream&lt;Integer&gt; s1 = IntStream.of( array1 ).boxed();\n  Stream&lt;Integer&gt; s2 = IntStream.of( array2 ).boxed();\n  return( Stream.concat( s1, s2 ).distinct().mapToInt( i -&gt; i ).toArray() );\n}\n</code></pre>\n\n<p><code>[1, 2, 3, 5, 4, 7, 8]</code><br /></p>\n\n<p><em>if you need the array sorted:</em></p>\n\n<pre><code>…\nreturn( Stream.concat( s1, s2 ).distinct().sorted().mapToInt( i -&gt; i ).toArray() );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3466983,"reputation":8589,"user_id":3800782,"accept_rate":77,"display_name":"rghome"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688996697,"creation_date":1688994575,"answer_id":76654087,"question_id":42045283,"body_markdown":"There is a known algorithm for this. You should not use Sets or Lists and they will chew up memory and run slow for no benefit.\r\n\r\nHere is a simple, standard and fairly optimal solution for merging sorted arrays. It assumes the incoming arrays are already sorted and contain unique integers.\r\n\r\n\tpublic static int[] mergeSortedArrays(int[] array1, int[] array2) {\r\n\t\tint[] result = new int[array1.length + array2.length];\r\n\t\tint i = 0, j = 0, k = 0;\r\n\t\twhile (i &lt; array1.length) {\r\n\t\t\twhile (j &lt; array2.length &amp;&amp; array2[j] &lt; array1[i]) {\r\n\t\t\t\tresult[k++] = array2[j++];\r\n\t\t\t}\r\n\t\t\tif (j &lt; array2.length &amp;&amp; array2[j] == array1[i]) {\r\n\t\t\t\tj++;\r\n\t\t\t}\r\n\t\t\tresult[k++] = array1[i++];\r\n\t\t}\r\n\t\twhile (j &lt; array2.length) {\r\n\t\t\tresult[k++] = array2[j++];\r\n\t\t}\r\n\r\n\t\tif (k != result.length) {\r\n\t\t\tresult = Arrays.copyOf(result, k);\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n","title":"Merge two arrays and remove duplicates in Java","body":"<p>There is a known algorithm for this. You should not use Sets or Lists and they will chew up memory and run slow for no benefit.</p>\n<p>Here is a simple, standard and fairly optimal solution for merging sorted arrays. It assumes the incoming arrays are already sorted and contain unique integers.</p>\n<pre><code>public static int[] mergeSortedArrays(int[] array1, int[] array2) {\n    int[] result = new int[array1.length + array2.length];\n    int i = 0, j = 0, k = 0;\n    while (i &lt; array1.length) {\n        while (j &lt; array2.length &amp;&amp; array2[j] &lt; array1[i]) {\n            result[k++] = array2[j++];\n        }\n        if (j &lt; array2.length &amp;&amp; array2[j] == array1[i]) {\n            j++;\n        }\n        result[k++] = array1[i++];\n    }\n    while (j &lt; array2.length) {\n        result[k++] = array2[j++];\n    }\n\n    if (k != result.length) {\n        result = Arrays.copyOf(result, k);\n    }\n    return result;\n}\n</code></pre>\n"}],"owner":{"account_id":5765885,"reputation":59,"user_id":4550864,"accept_rate":75,"display_name":"Compsciguy"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":22710,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":42046804,"answer_count":8,"score":3,"last_activity_date":1688996697,"creation_date":1486240295,"question_id":42045283,"body_markdown":"I am having trouble removing the duplicates from two arrays that have been merged into one. I have written the following code that merges the arrays, yet I&#39;m not sure how to remove the duplicates from the final array. Assume the arrays are already sorted.\r\n\r\n    public static int[] merge(int[] list1, int[] list2) {\r\n        int[] result = new int[list1.length + list2.length];\r\n\r\n        int i = 0;\r\n        int j = 0;\r\n\r\n        for (int k = 0; k &lt; (list1.length + list2.length); k++) {\r\n            if (i &gt;= list1.length) {\r\n                result[k] = list2[j];\r\n                j++;\r\n            } \r\n            else if (j &gt;= list2.length) {\r\n                result[k] = list1[i];\r\n                i++;\r\n            } \r\n            else {\r\n                if (list1[i] &lt; list2[j]) {\r\n                    result[k] = list1[i];\r\n                    i++;\r\n                } else {\r\n                    result[k] = list2[j];\r\n                    j++;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    }","title":"Merge two arrays and remove duplicates in Java","body":"<p>I am having trouble removing the duplicates from two arrays that have been merged into one. I have written the following code that merges the arrays, yet I'm not sure how to remove the duplicates from the final array. Assume the arrays are already sorted.</p>\n\n<pre><code>public static int[] merge(int[] list1, int[] list2) {\n    int[] result = new int[list1.length + list2.length];\n\n    int i = 0;\n    int j = 0;\n\n    for (int k = 0; k &lt; (list1.length + list2.length); k++) {\n        if (i &gt;= list1.length) {\n            result[k] = list2[j];\n            j++;\n        } \n        else if (j &gt;= list2.length) {\n            result[k] = list1[i];\n            i++;\n        } \n        else {\n            if (list1[i] &lt; list2[j]) {\n                result[k] = list1[i];\n                i++;\n            } else {\n                result[k] = list2[j];\n                j++;\n            }\n        }\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":["java","html","validation","jsoup"],"comments":[{"owner":{"account_id":183966,"reputation":14606,"user_id":419705,"accept_rate":67,"display_name":"Roddy of the Frozen Peas"},"score":1,"creation_date":1423866157,"post_id":28509726,"comment_id":45338547,"body_markdown":"Is that class definition even valid? AdMarkupWhitelist looks like a constructor (no return type) but it&#39;s not named the same as the class name...","body":"Is that class definition even valid? AdMarkupWhitelist looks like a constructor (no return type) but it&#39;s not named the same as the class name..."},{"owner":{"account_id":180322,"reputation":7922,"user_id":413570,"accept_rate":73,"display_name":"rodrigoalvesvieira"},"score":0,"creation_date":1423866682,"post_id":28509726,"comment_id":45338775,"body_markdown":"sorry, now you know the real name of my class :p but that is not the problem","body":"sorry, now you know the real name of my class :p but that is not the problem"},{"owner":{"account_id":3453115,"reputation":1949,"user_id":2892277,"display_name":"Nikolay"},"score":1,"creation_date":1423866989,"post_id":28509726,"comment_id":45338890,"body_markdown":"unfortunately, seems there is no straightforward way to do this. Look at https://github.com/jhy/jsoup/blob/master/src/main/java/org/jsoup/safety/Cleaner.java#L60 which used by `Jsoup.isValid` internally. I think the only way is calculate a difference between dirty and cleaned document.","body":"unfortunately, seems there is no straightforward way to do this. Look at <a href=\"https://github.com/jhy/jsoup/blob/master/src/main/java/org/jsoup/safety/Cleaner.java#L60\" rel=\"nofollow noreferrer\">github.com/jhy/jsoup/blob/master/src/main/java/org/jsoup/saf&zwnj;&#8203;ety/&hellip;</a> which used by <code>Jsoup.isValid</code> internally. I think the only way is calculate a difference between dirty and cleaned document."},{"owner":{"account_id":1194736,"reputation":223,"user_id":1166694,"accept_rate":40,"display_name":"Thorsten"},"score":0,"creation_date":1460532118,"post_id":28509726,"comment_id":60780008,"body_markdown":"I asked a similar question a while ago and got an answer. [JSOUP - How to get list of disallowed tags found in html?](http://stackoverflow.com/questions/30817745/jsoup-how-to-get-list-of-disallowed-tags-found-in-html)","body":"I asked a similar question a while ago and got an answer. <a href=\"http://stackoverflow.com/questions/30817745/jsoup-how-to-get-list-of-disallowed-tags-found-in-html\">JSOUP - How to get list of disallowed tags found in html?</a>"}],"answers":[{"tags":[],"owner":{"account_id":5107419,"reputation":46,"user_id":4095112,"display_name":"Victor Martinez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1429879795,"creation_date":1429879795,"answer_id":29847979,"question_id":28509726,"body_markdown":"Well, I&#39;ve never used `isValid` cause HTML validation is something that depends on what you really want to see in the page. For example, let&#39;s say you requested a page and selected an element. This element being NULL means that the HTML is invalid for me.\r\n\r\nWhat I do is: let&#39;s say that I want a anchor like\r\n\r\n`a href=&quot;http://stackoverflow.com/questions/28509726/how-to-effectively-know-whats-wrong-with-input-via-jsoup`\r\n\r\nI use the Jsoup to select the element. If it comes `NULL` means that my page is invalid.\r\n\r\n\r\n    Elements anchors = Jsoup.parse(html).select(&quot;a[href*=stackoverflow.com/questions/]&quot;);\r\n    if (anchors.isEmpty()) {\r\n      // Invalid\r\n    }\r\n    // valid\r\n\r\n","title":"How to effectively know what&#39;s wrong with input via Jsoup?","body":"<p>Well, I've never used <code>isValid</code> cause HTML validation is something that depends on what you really want to see in the page. For example, let's say you requested a page and selected an element. This element being NULL means that the HTML is invalid for me.</p>\n\n<p>What I do is: let's say that I want a anchor like</p>\n\n<p><code>a href=\"http://stackoverflow.com/questions/28509726/how-to-effectively-know-whats-wrong-with-input-via-jsoup</code></p>\n\n<p>I use the Jsoup to select the element. If it comes <code>NULL</code> means that my page is invalid.</p>\n\n<pre><code>Elements anchors = Jsoup.parse(html).select(\"a[href*=stackoverflow.com/questions/]\");\nif (anchors.isEmpty()) {\n  // Invalid\n}\n// valid\n</code></pre>\n"}],"owner":{"account_id":180322,"reputation":7922,"user_id":413570,"accept_rate":73,"display_name":"rodrigoalvesvieira"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":663,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688996629,"creation_date":1423866040,"question_id":28509726,"body_markdown":"I am trying to validate HTML code using Jsoup and the method `Jsoup.isValid` always returns false but I&#39;m in the dark here because it does not tell me where the error is.\r\n\r\nHere is my code:\r\n\r\n    class PageWhitelist extends Whitelist {\r\n\t    public PageWhitelist() {\r\n\t\t    addTags(&quot;html&quot;, &quot;head&quot;, &quot;meta&quot;, &quot;style&quot;, &quot;body&quot;, &quot;a&quot;, &quot;div&quot;);\r\n\t\t    addProtocols(&quot;a&quot;, &quot;href&quot;, &quot;http&quot;);\r\n\t    }\r\n    }\r\n\r\n    String markup = &quot;&lt;body&gt;&lt;head&gt;...&quot;;\r\n\r\n    PageWhitelist whitelist = new PageWhitelist();\r\n\tboolean valid = Jsoup.isValid(markup, whitelist);\r\n    assertTrue(valid);\r\n\r\n`valid` simply evaluates to false, the test fails and Jsoup does not give me any clue of what is causing the error whatsoever.\r\n\r\nHow can I know what is really going on?\r\n\r\n","title":"How to effectively know what&#39;s wrong with input via Jsoup?","body":"<p>I am trying to validate HTML code using Jsoup and the method <code>Jsoup.isValid</code> always returns false but I'm in the dark here because it does not tell me where the error is.</p>\n\n<p>Here is my code:</p>\n\n<pre><code>class PageWhitelist extends Whitelist {\n    public PageWhitelist() {\n        addTags(\"html\", \"head\", \"meta\", \"style\", \"body\", \"a\", \"div\");\n        addProtocols(\"a\", \"href\", \"http\");\n    }\n}\n\nString markup = \"&lt;body&gt;&lt;head&gt;...\";\n\nPageWhitelist whitelist = new PageWhitelist();\nboolean valid = Jsoup.isValid(markup, whitelist);\nassertTrue(valid);\n</code></pre>\n\n<p><code>valid</code> simply evaluates to false, the test fails and Jsoup does not give me any clue of what is causing the error whatsoever.</p>\n\n<p>How can I know what is really going on?</p>\n"},{"tags":["java","kubernetes","apache-zookeeper","apache-drill"],"owner":{"account_id":335028,"reputation":1001,"user_id":661859,"accept_rate":75,"display_name":"Nitul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688996291,"creation_date":1683031334,"question_id":76154954,"body_markdown":"Setup:\r\n\r\n1. Java application can use specified JDBC driver to connect to drill via zookeeper.\r\nhttps://drill.apache.org/docs/using-the-jdbc-driver/\r\n\r\nE.g. jdbc:drill:zk=10.10.100.56:2181/drill/drillbits1;schema=hive\r\n\r\n2. Using this zookeeper provides a host name of the drill which is available and ready to serve the query.\r\n\r\n3. Java app will connect to this drill host and gets the connection to execute the query.\r\n\r\n\r\nIn case of Kubernetes drill pod is running and registered to zookeeper with some dynamic pod name. Something like apachedrill-cb97cfc7c-mfkhr.\r\n\r\nNow, zookeeper provides apache drill&#39;s hostname as above and java app is trying to connect to this pod, but this pod host name is resolved and it failed.\r\n\r\n\r\n    java.sql.SQLNonTransientConnectionException: Failure in connecting to Drill: oadd.org.apache.drill.exec.rpc.RpcException: CONNECTION : java.net.UnknownHostException: apachedrill-cb97cfc7c-mfkhr\r\n    \\tat org.apache.drill.jdbc.impl.DrillConnectionImpl.&lt;init&gt;(DrillConnectionImpl.java:164)\r\n    \\tat org.apache.drill.jdbc.impl.DrillJdbc41Factory.newDrillConnection(DrillJdbc41Factory.java:67)\r\n    \\tat org.apache.drill.jdbc.impl.DrillFactory.newConnection(DrillFactory.java:67)\r\n    \\tat oadd.org.apache.calcite.avatica.UnregisteredDriver.connect(UnregisteredDriver.java:138)\r\n    \\tat org.apache.drill.jdbc.Driver.connect(Driver.java:75)\r\n    \\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\r\n    \\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\r\n    \\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\r\n    \\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\r\n    \\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\r\n    \\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\r\n    \\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\r\n\r\n\r\n\r\nThe solution can be exposing the apache drill pod host name to kubernetes cluster.\r\nBut is there anything we are missing, as a part of zookeeper and apache drill configuration setup.\r\n\r\n\r\nSome sample helm charts : https://github.com/Agirish/drill-helm-charts\r\n\r\n\r\nIssue: https://issues.apache.org/jira/browse/DRILL-8427\r\n","title":"Apache drill connectivity with zookeeper on Kubernetes cluster with JDBC data source with Kubernetes or docker","body":"<p>Setup:</p>\n<ol>\n<li>Java application can use specified JDBC driver to connect to drill via zookeeper.\n<a href=\"https://drill.apache.org/docs/using-the-jdbc-driver/\" rel=\"nofollow noreferrer\">https://drill.apache.org/docs/using-the-jdbc-driver/</a></li>\n</ol>\n<p>E.g. jdbc:drill:zk=10.10.100.56:2181/drill/drillbits1;schema=hive</p>\n<ol start=\"2\">\n<li><p>Using this zookeeper provides a host name of the drill which is available and ready to serve the query.</p>\n</li>\n<li><p>Java app will connect to this drill host and gets the connection to execute the query.</p>\n</li>\n</ol>\n<p>In case of Kubernetes drill pod is running and registered to zookeeper with some dynamic pod name. Something like apachedrill-cb97cfc7c-mfkhr.</p>\n<p>Now, zookeeper provides apache drill's hostname as above and java app is trying to connect to this pod, but this pod host name is resolved and it failed.</p>\n<pre><code>java.sql.SQLNonTransientConnectionException: Failure in connecting to Drill: oadd.org.apache.drill.exec.rpc.RpcException: CONNECTION : java.net.UnknownHostException: apachedrill-cb97cfc7c-mfkhr\n\\tat org.apache.drill.jdbc.impl.DrillConnectionImpl.&lt;init&gt;(DrillConnectionImpl.java:164)\n\\tat org.apache.drill.jdbc.impl.DrillJdbc41Factory.newDrillConnection(DrillJdbc41Factory.java:67)\n\\tat org.apache.drill.jdbc.impl.DrillFactory.newConnection(DrillFactory.java:67)\n\\tat oadd.org.apache.calcite.avatica.UnregisteredDriver.connect(UnregisteredDriver.java:138)\n\\tat org.apache.drill.jdbc.Driver.connect(Driver.java:75)\n\\tat com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)\n\\tat com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)\n\\tat com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)\n\\tat com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)\n\\tat com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)\n\\tat com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115)\n\\tat com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)\n</code></pre>\n<p>The solution can be exposing the apache drill pod host name to kubernetes cluster.\nBut is there anything we are missing, as a part of zookeeper and apache drill configuration setup.</p>\n<p>Some sample helm charts : <a href=\"https://github.com/Agirish/drill-helm-charts\" rel=\"nofollow noreferrer\">https://github.com/Agirish/drill-helm-charts</a></p>\n<p>Issue: <a href=\"https://issues.apache.org/jira/browse/DRILL-8427\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/DRILL-8427</a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688993855,"post_id":76653958,"comment_id":135145817,"body_markdown":"First of all: Take care of java naming conventions. package name should be lower case","body":"First of all: Take care of java naming conventions. package name should be lower case"},{"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"score":0,"creation_date":1688994035,"post_id":76653958,"comment_id":135145867,"body_markdown":"@Jens fixed that, from ProjekatFakture to fakture. Thanks for advice","body":"@Jens fixed that, from ProjekatFakture to fakture. Thanks for advice"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":2,"creation_date":1688995170,"post_id":76653958,"comment_id":135146158,"body_markdown":"Wild guess using Spring Boot 3.x? Next to that you are using `@DataJpaTest` which will only load persistence related things **not** services, controllers etc. etc. so trying to inject a service in an `@DataJpaTest` will fail. The `@DataJpaTest` is meant to test repositories.","body":"Wild guess using Spring Boot 3.x? Next to that you are using <code>@DataJpaTest</code> which will only load persistence related things <b>not</b> services, controllers etc. etc. so trying to inject a service in an <code>@DataJpaTest</code> will fail. The <code>@DataJpaTest</code> is meant to test repositories."},{"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"score":0,"creation_date":1688995597,"post_id":76653958,"comment_id":135146282,"body_markdown":"@M.Deinum I am avoiding to use it in any 3.x version because of lot of issues which I had, its about 2.7.x something, not sure but can&#39;t find where to check that but pretty sure I set that up on 2.7.x","body":"@M.Deinum I am avoiding to use it in any 3.x version because of lot of issues which I had, its about 2.7.x something, not sure but can&#39;t find where to check that but pretty sure I set that up on 2.7.x"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688995660,"post_id":76653958,"comment_id":135146302,"body_markdown":"As stated (as well) you are using `@DataJpaTest` which will only setup JPA and repositories and will ignore everything else. Injecting a service will fail.","body":"As stated (as well) you are using <code>@DataJpaTest</code> which will only setup JPA and repositories and will ignore everything else. Injecting a service will fail."},{"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"score":0,"creation_date":1688996055,"post_id":76653958,"comment_id":135146387,"body_markdown":"@M.Deinum, yes, that was the reason. I have changed @ DataJpaTest to @ SpringBootTest and put @ Autowired annotation over service instance in test. It did insertion in my db. Thanks!","body":"@M.Deinum, yes, that was the reason. I have changed @ DataJpaTest to @ SpringBootTest and put @ Autowired annotation over service instance in test. It did insertion in my db. Thanks!"}],"answers":[{"tags":[],"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688996105,"creation_date":1688996105,"answer_id":76654285,"question_id":76653958,"body_markdown":"    package com.example.fakture;\r\n    \r\n    import com.example.fakture.country.CountriesEntity;\r\n    import com.example.fakture.country.CountryService;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    @SpringJUnitConfig\r\n    @SpringBootTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    public class CountryServiceTests {\r\n    \r\n        @Autowired\r\n        private CountryService countryService;\r\n    \r\n        @Test\r\n        public void testCreateCountry(){\r\n    \r\n            CountriesEntity country = new CountriesEntity();\r\n            country.setName(&quot;Srbija&quot;);\r\n            country.setCode(&quot;SRB&quot;);\r\n            country.setFullName(&quot;Republic of Serbia&quot;);\r\n    \r\n            CountriesEntity createdCountry = countryService.saveCountry(country);\r\n    \r\n            assertNotNull(createdCountry);\r\n            assertNotNull(createdCountry.getCouId());\r\n            assertEquals(&quot;Srbija&quot;, createdCountry.getName());\r\n            assertEquals(&quot;SRB&quot;, createdCountry.getCode());\r\n            assertEquals(&quot;Republic of Serbia&quot;, createdCountry.getFullName());\r\n        }\r\n    }\r\n\r\n","title":"Unsatisfied dependency spring boot","body":"<pre><code>package com.example.fakture;\n\nimport com.example.fakture.country.CountriesEntity;\nimport com.example.fakture.country.CountryService;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\nimport static org.junit.jupiter.api.Assertions.*;\n\n@SpringJUnitConfig\n@SpringBootTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class CountryServiceTests {\n\n    @Autowired\n    private CountryService countryService;\n\n    @Test\n    public void testCreateCountry(){\n\n        CountriesEntity country = new CountriesEntity();\n        country.setName(&quot;Srbija&quot;);\n        country.setCode(&quot;SRB&quot;);\n        country.setFullName(&quot;Republic of Serbia&quot;);\n\n        CountriesEntity createdCountry = countryService.saveCountry(country);\n\n        assertNotNull(createdCountry);\n        assertNotNull(createdCountry.getCouId());\n        assertEquals(&quot;Srbija&quot;, createdCountry.getName());\n        assertEquals(&quot;SRB&quot;, createdCountry.getCode());\n        assertEquals(&quot;Republic of Serbia&quot;, createdCountry.getFullName());\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":23150564,"reputation":7,"user_id":17252645,"display_name":"Aleksso"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76654285,"answer_count":1,"score":0,"last_activity_date":1688996105,"creation_date":1688993683,"question_id":76653958,"body_markdown":"Just finished creating entity, repo, service and controller for table countries in db. I will attach everything here and error which I have after trying to run test file.\r\n\r\nCountriesEntity.java:\r\n\r\n   \r\n\r\n     package com.example.ProjekatFakture.country;\r\n    \r\n    import javax.persistence.*;\r\n    \r\n    @Entity\r\n    @Table(name = &quot;countries&quot;, schema = &quot;fakture&quot;, catalog = &quot;&quot;)\r\n    public class CountriesEntity {\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        @Id\r\n        @Column(name = &quot;cou_id&quot;)\r\n        private int couId;\r\n        @Basic\r\n        @Column(name = &quot;code&quot;)\r\n        private String code;\r\n        @Basic\r\n        @Column(name = &quot;name&quot;)\r\n        private String name;\r\n        @Basic\r\n        @Column(name = &quot;full_name&quot;)\r\n        private String fullName;\r\n    \r\n        public int getCouId() {\r\n            return couId;\r\n        }\r\n    \r\n        public void setCouId(int couId) {\r\n            this.couId = couId;\r\n        }\r\n    \r\n        public String getCode() {\r\n            return code;\r\n        }\r\n    \r\n        public void setCode(String code) {\r\n            this.code = code;\r\n        }\r\n    \r\n        public String getName() {\r\n            return name;\r\n        }\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n    \r\n        public String getFullName() {\r\n            return fullName;\r\n        }\r\n    \r\n        public void setFullName(String fullName) {\r\n            this.fullName = fullName;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (o == null || getClass() != o.getClass()) return false;\r\n    \r\n            CountriesEntity that = (CountriesEntity) o;\r\n    \r\n            if (couId != that.couId) return false;\r\n            if (code != null ? !code.equals(that.code) : that.code != null) return false;\r\n            if (name != null ? !name.equals(that.name) : that.name != null) return false;\r\n            if (fullName != null ? !fullName.equals(that.fullName) : that.fullName != null) return false;\r\n    \r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            int result = couId;\r\n            result = 31 * result + (code != null ? code.hashCode() : 0);\r\n            result = 31 * result + (name != null ? name.hashCode() : 0);\r\n            result = 31 * result + (fullName != null ? fullName.hashCode() : 0);\r\n            return result;\r\n        }\r\n    }\r\n\r\nCountryRepository.java:\r\n\r\n    package com.example.ProjekatFakture.country;\r\n    \r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    import org.springframework.stereotype.Repository;\r\n    \r\n    @Repository\r\n    public interface CountryRepository extends JpaRepository&lt;CountriesEntity, Integer&gt; {\r\n    }\r\n\r\nCountryService.java:\r\n\r\n    package com.example.ProjekatFakture.country;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    @Service\r\n    public class CountryService {\r\n        private final CountryRepository countryRepository;\r\n    \r\n        @Autowired\r\n        public CountryService(CountryRepository countryRepository) {\r\n            this.countryRepository = countryRepository;\r\n        }\r\n    \r\n        public CountriesEntity saveCountry(CountriesEntity country){\r\n            return countryRepository.save(country);\r\n        }\r\n    }\r\n\r\nCountryController.java:\r\n\r\n    package com.example.ProjekatFakture.country;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Controller;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    \r\n    @Controller\r\n    public class CountryController {\r\n    \r\n        private final CountryService countryService;\r\n    \r\n        @Autowired\r\n        public CountryController(CountryService countryService) {\r\n            this.countryService = countryService;\r\n        }\r\n    \r\n        @PostMapping\r\n        public CountriesEntity createCountry(@RequestBody CountriesEntity country){\r\n            return countryService.saveCountry(country);\r\n        }\r\n    }\r\n\r\nAnd test java file:\r\n\r\n    package com.example.ProjekatFakture;\r\n    \r\n    import com.example.ProjekatFakture.country.CountriesEntity;\r\n    import com.example.ProjekatFakture.country.CountryService;\r\n    import org.junit.jupiter.api.Test;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\r\n    import org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\r\n    import org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\r\n    import static org.junit.jupiter.api.Assertions.*;\r\n    \r\n    @SpringJUnitConfig\r\n    @DataJpaTest\r\n    @AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\r\n    public class CountryServiceTests {\r\n    \r\n        @Autowired\r\n        private CountryService countryService;\r\n    \r\n        @Test\r\n        public void testCreateCountry(){\r\n    \r\n            CountriesEntity country = new CountriesEntity();\r\n            country.setName(&quot;Srbija&quot;);\r\n            country.setCode(&quot;SRB&quot;);\r\n            country.setFullName(&quot;Republic of Serbia&quot;);\r\n    \r\n            CountriesEntity createdCountry = countryService.saveCountry(country);\r\n    \r\n            assertNotNull(createdCountry);\r\n            assertNotNull(createdCountry.getCouId());\r\n            assertEquals(&quot;Srbija&quot;, createdCountry.getName());\r\n            assertEquals(&quot;SRB&quot;, createdCountry.getCode());\r\n            assertEquals(&quot;Republic of Serbia&quot;, createdCountry.getFullName());\r\n        }\r\n    }\r\n\r\nHere is error which I receive after trying to run that test:\r\n\r\n    org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;com.example.ProjekatFakture.CountryServiceTests&#39;: Unsatisfied dependency expressed through field &#39;countryService&#39;; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.ProjekatFakture.country.CountryService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n    \tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)\r\n    \tat org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\r\n    \tat org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\r\n    \tat org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\r\n    \tat org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\r\n    \tat java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\r\n    \tat java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\r\n    \tat java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\r\n    \tat java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\r\n    \tat java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\r\n    \tat java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\r\n    \tat java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\r\n    \tat java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\r\n    \tat org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\r\n    \tat org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\r\n    \tat org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\r\n    \tat org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\r\n    \tat org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\r\n    \tat org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\r\n    \tat org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\r\n    \tat org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\r\n    \tat org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\r\n    \tat org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\r\n    \tat com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\r\n    \tat com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\r\n    \tat com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\r\n    \tat com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\r\n    \tat com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\r\n    Caused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type &#39;com.example.ProjekatFakture.country.CountryService&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\r\n    \tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\r\n    \tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\r\n    \t... 76 more\r\n\r\n\r\nHave you guys ever faced something like this and where I am mistaken?\r\n","title":"Unsatisfied dependency spring boot","body":"<p>Just finished creating entity, repo, service and controller for table countries in db. I will attach everything here and error which I have after trying to run test file.</p>\n<p>CountriesEntity.java:</p>\n<pre><code> package com.example.ProjekatFakture.country;\n\nimport javax.persistence.*;\n\n@Entity\n@Table(name = &quot;countries&quot;, schema = &quot;fakture&quot;, catalog = &quot;&quot;)\npublic class CountriesEntity {\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    @Id\n    @Column(name = &quot;cou_id&quot;)\n    private int couId;\n    @Basic\n    @Column(name = &quot;code&quot;)\n    private String code;\n    @Basic\n    @Column(name = &quot;name&quot;)\n    private String name;\n    @Basic\n    @Column(name = &quot;full_name&quot;)\n    private String fullName;\n\n    public int getCouId() {\n        return couId;\n    }\n\n    public void setCouId(int couId) {\n        this.couId = couId;\n    }\n\n    public String getCode() {\n        return code;\n    }\n\n    public void setCode(String code) {\n        this.code = code;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public String getFullName() {\n        return fullName;\n    }\n\n    public void setFullName(String fullName) {\n        this.fullName = fullName;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (o == null || getClass() != o.getClass()) return false;\n\n        CountriesEntity that = (CountriesEntity) o;\n\n        if (couId != that.couId) return false;\n        if (code != null ? !code.equals(that.code) : that.code != null) return false;\n        if (name != null ? !name.equals(that.name) : that.name != null) return false;\n        if (fullName != null ? !fullName.equals(that.fullName) : that.fullName != null) return false;\n\n        return true;\n    }\n\n    @Override\n    public int hashCode() {\n        int result = couId;\n        result = 31 * result + (code != null ? code.hashCode() : 0);\n        result = 31 * result + (name != null ? name.hashCode() : 0);\n        result = 31 * result + (fullName != null ? fullName.hashCode() : 0);\n        return result;\n    }\n}\n</code></pre>\n<p>CountryRepository.java:</p>\n<pre><code>package com.example.ProjekatFakture.country;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface CountryRepository extends JpaRepository&lt;CountriesEntity, Integer&gt; {\n}\n</code></pre>\n<p>CountryService.java:</p>\n<pre><code>package com.example.ProjekatFakture.country;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\n@Service\npublic class CountryService {\n    private final CountryRepository countryRepository;\n\n    @Autowired\n    public CountryService(CountryRepository countryRepository) {\n        this.countryRepository = countryRepository;\n    }\n\n    public CountriesEntity saveCountry(CountriesEntity country){\n        return countryRepository.save(country);\n    }\n}\n</code></pre>\n<p>CountryController.java:</p>\n<pre><code>package com.example.ProjekatFakture.country;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Controller;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\n\n@Controller\npublic class CountryController {\n\n    private final CountryService countryService;\n\n    @Autowired\n    public CountryController(CountryService countryService) {\n        this.countryService = countryService;\n    }\n\n    @PostMapping\n    public CountriesEntity createCountry(@RequestBody CountriesEntity country){\n        return countryService.saveCountry(country);\n    }\n}\n</code></pre>\n<p>And test java file:</p>\n<pre><code>package com.example.ProjekatFakture;\n\nimport com.example.ProjekatFakture.country.CountriesEntity;\nimport com.example.ProjekatFakture.country.CountryService;\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.jdbc.AutoConfigureTestDatabase;\nimport org.springframework.boot.test.autoconfigure.orm.jpa.DataJpaTest;\nimport org.springframework.test.context.junit.jupiter.SpringJUnitConfig;\nimport static org.junit.jupiter.api.Assertions.*;\n\n@SpringJUnitConfig\n@DataJpaTest\n@AutoConfigureTestDatabase(replace = AutoConfigureTestDatabase.Replace.NONE)\npublic class CountryServiceTests {\n\n    @Autowired\n    private CountryService countryService;\n\n    @Test\n    public void testCreateCountry(){\n\n        CountriesEntity country = new CountriesEntity();\n        country.setName(&quot;Srbija&quot;);\n        country.setCode(&quot;SRB&quot;);\n        country.setFullName(&quot;Republic of Serbia&quot;);\n\n        CountriesEntity createdCountry = countryService.saveCountry(country);\n\n        assertNotNull(createdCountry);\n        assertNotNull(createdCountry.getCouId());\n        assertEquals(&quot;Srbija&quot;, createdCountry.getName());\n        assertEquals(&quot;SRB&quot;, createdCountry.getCode());\n        assertEquals(&quot;Republic of Serbia&quot;, createdCountry.getFullName());\n    }\n}\n</code></pre>\n<p>Here is error which I receive after trying to run that test:</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'com.example.ProjekatFakture.CountryServiceTests': Unsatisfied dependency expressed through field 'countryService'; nested exception is org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.ProjekatFakture.country.CountryService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1431)\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireBeanProperties(AbstractAutowireCapableBeanFactory.java:417)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:119)\n    at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)\n    at org.springframework.boot.test.autoconfigure.SpringBootDependencyInjectionTestExecutionListener.prepareTestInstance(SpringBootDependencyInjectionTestExecutionListener.java:43)\n    at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:248)\n    at org.springframework.test.context.junit.jupiter.SpringExtension.postProcessTestInstance(SpringExtension.java:138)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$8(ClassBasedTestDescriptor.java:363)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.executeAndMaskThrowable(ClassBasedTestDescriptor.java:368)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$invokeTestInstancePostProcessors$9(ClassBasedTestDescriptor.java:363)\n    at java.base/java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:197)\n    at java.base/java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:179)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1625)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:509)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:499)\n    at java.base/java.util.stream.StreamSpliterators$WrappingSpliterator.forEachRemaining(StreamSpliterators.java:310)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:735)\n    at java.base/java.util.stream.Streams$ConcatSpliterator.forEachRemaining(Streams.java:734)\n    at java.base/java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:762)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.invokeTestInstancePostProcessors(ClassBasedTestDescriptor.java:362)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$instantiateAndPostProcessTestInstance$6(ClassBasedTestDescriptor.java:283)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.instantiateAndPostProcessTestInstance(ClassBasedTestDescriptor.java:282)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$4(ClassBasedTestDescriptor.java:272)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.junit.jupiter.engine.descriptor.ClassBasedTestDescriptor.lambda$testInstancesProvider$5(ClassBasedTestDescriptor.java:271)\n    at org.junit.jupiter.engine.execution.TestInstancesProvider.getTestInstances(TestInstancesProvider.java:31)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.lambda$prepare$0(TestMethodTestDescriptor.java:102)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:101)\n    at org.junit.jupiter.engine.descriptor.TestMethodTestDescriptor.prepare(TestMethodTestDescriptor.java:66)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$prepare$2(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.prepare(NodeTestTask.java:123)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:90)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.invokeAll(SameThreadHierarchicalTestExecutorService.java:41)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$6(NodeTestTask.java:155)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$8(NodeTestTask.java:141)\n    at org.junit.platform.engine.support.hierarchical.Node.around(Node.java:137)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.lambda$executeRecursively$9(NodeTestTask.java:139)\n    at org.junit.platform.engine.support.hierarchical.ThrowableCollector.execute(ThrowableCollector.java:73)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.executeRecursively(NodeTestTask.java:138)\n    at org.junit.platform.engine.support.hierarchical.NodeTestTask.execute(NodeTestTask.java:95)\n    at org.junit.platform.engine.support.hierarchical.SameThreadHierarchicalTestExecutorService.submit(SameThreadHierarchicalTestExecutorService.java:35)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestExecutor.execute(HierarchicalTestExecutor.java:57)\n    at org.junit.platform.engine.support.hierarchical.HierarchicalTestEngine.execute(HierarchicalTestEngine.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:107)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:88)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.lambda$execute$0(EngineExecutionOrchestrator.java:54)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.withInterceptedStreams(EngineExecutionOrchestrator.java:67)\n    at org.junit.platform.launcher.core.EngineExecutionOrchestrator.execute(EngineExecutionOrchestrator.java:52)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:114)\n    at org.junit.platform.launcher.core.DefaultLauncher.execute(DefaultLauncher.java:86)\n    at org.junit.platform.launcher.core.DefaultLauncherSession$DelegatingLauncher.execute(DefaultLauncherSession.java:86)\n    at org.junit.platform.launcher.core.SessionPerRequestLauncher.execute(SessionPerRequestLauncher.java:53)\n    at com.intellij.junit5.JUnit5IdeaTestRunner.startRunnerWithArgs(JUnit5IdeaTestRunner.java:57)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater$1.execute(IdeaTestRunner.java:38)\n    at com.intellij.rt.execution.junit.TestsRepeater.repeat(TestsRepeater.java:11)\n    at com.intellij.rt.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:35)\n    at com.intellij.rt.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:232)\n    at com.intellij.rt.junit.JUnitStarter.main(JUnitStarter.java:55)\nCaused by: org.springframework.beans.factory.NoSuchBeanDefinitionException: No qualifying bean of type 'com.example.ProjekatFakture.country.CountryService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.raiseNoMatchingBeanFound(DefaultListableBeanFactory.java:1801)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1357)\n    at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\n    ... 76 more\n</code></pre>\n<p>Have you guys ever faced something like this and where I am mistaken?</p>\n"},{"tags":["java","gwt","gwt-rpc"],"comments":[{"owner":{"account_id":459879,"reputation":17931,"user_id":860630,"display_name":"Colin Alworth"},"score":0,"creation_date":1690166576,"post_id":76654223,"comment_id":135310523,"body_markdown":"Can you add more information about your actual service, any generics being used, etc? That error says that the `Map&lt;K,V&gt;` was generic with a `V` defined to be `String`, but instead a `HashMap` was found in the values of the map. This check was added in GWT 2.5.0-rc1, , and could have unserialized without error (but incorrectly) before that version.","body":"Can you add more information about your actual service, any generics being used, etc? That error says that the <code>Map&lt;K,V&gt;</code> was generic with a <code>V</code> defined to be <code>String</code>, but instead a <code>HashMap</code> was found in the values of the map. This check was added in GWT 2.5.0-rc1, , and could have unserialized without error (but incorrectly) before that version."}],"owner":{"account_id":27601754,"reputation":1,"user_id":21066841,"display_name":"Kiran Kadam"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688996081,"creation_date":1688995613,"question_id":76654223,"body_markdown":"We have migrated GWT version from 2.1.0 to 2.9.0\r\nAnd since that upgrade one of the GWT RPC is failing with the SerializaedTypeViolationException\r\nFollowing is the caused by stack trace.\r\nI searched for this error And I found solutions like 1)To implement no arguments constructor if missing for the Type parameter 2) implement isSerializable or Serializable interface.\r\nI have done that by creating the following custom class as follows and used that in request but still no luck.. \r\n\r\n````\r\nimport java.io.Serializable;\r\nimport java.util.ArrayList;\r\nimport java.util.Collection;\r\nimport java.util.Iterator;\r\nimport java.util.Map;\r\nimport java.util.Set;\r\n\r\nimport com.google.gwt.user.client.rpc.IsSerializable;\r\n\r\n/**\r\n * This class is an implmentation for an ordered Map.\r\n */\r\npublic class CustomMap implements Map, IsSerializable, Serializable\r\n{\r\n    private ArrayList key;\r\n    private ArrayList value;\r\n     \r\n    public CustomMap ()\r\n    {\r\n        this.key = new ArrayList();\r\n        this.value = new ArrayList();\r\n    }\r\n    \r\n    public CustomMap (int size)\r\n    {\r\n        this.key = new ArrayList(size);\r\n        this.value = new ArrayList(size);\r\n    }\r\n````\r\n\r\nPlease guide me with following issue fix if anyone has faced the same and resolved it.\r\n````\r\nCaused by: com.google.gwt.user.client.rpc.SerializedTypeViolationException: Attempt to deserialize an object of type class java.util.HashMap when an object of type class java.lang.String is expected\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:663)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\r\n\tat com.google.gwt.user.server.rpc.core.java.util.Map_ServerCustomFieldSerializerBase.deserialize(Map_ServerCustomFieldSerializerBase.java:38)\r\n\tat com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserialize(HashMap_ServerCustomFieldSerializer.java:40)\r\n\tat com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserializeInstance(HashMap_ServerCustomFieldSerializer.java:54)\r\n\tat com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserializeInstance(HashMap_ServerCustomFieldSerializer.java:33)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeImpl(ServerSerializationStreamReader.java:887)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:687)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader$ValueReader$8.readValue(ServerSerializationStreamReader.java:149)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeValue(ServerSerializationStreamReader.java:434)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeClass(ServerSerializationStreamReader.java:833)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeImpl(ServerSerializationStreamReader.java:906)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:687)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader$ValueReader$8.readValue(ServerSerializationStreamReader.java:149)\r\n\tat com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeValue(ServerSerializationStreamReader.java:434)\r\n\tat com.google.gwt.user.server.rpc.RPC.decodeRequest(RPC.java:312)\r\n\t... 116 more\r\n````\r\nI am initiating a GWT RPC call, where there is one of the property sent with the object passed in the payload, is of type java.util.HashMap for which the request is failing with &quot;IncompatibleRemoteServiceException&quot; while decoding the request only at the server when initiated the following line.\r\n\r\n````\r\nrpcRequest = RPC.decodeRequest(payload, this.getClass(), this);\r\n\r\n````\r\n\r\nAnd this exception is ````&quot;Caused by: com.google.gwt.user.client.rpc.SerializedTypeViolationException: Attempt to deserialize an object of type class java.util.HashMap when an object of type class java.lang.String is expected&quot;````\r\n\r\nAny help is appreciated.\r\nThanks in advance.","title":"GWT RPC Exception : Attempt to deserialize an object of type class java.util.HashMap when an object of type class java.lang.String is expected","body":"<p>We have migrated GWT version from 2.1.0 to 2.9.0\nAnd since that upgrade one of the GWT RPC is failing with the SerializaedTypeViolationException\nFollowing is the caused by stack trace.\nI searched for this error And I found solutions like 1)To implement no arguments constructor if missing for the Type parameter 2) implement isSerializable or Serializable interface.\nI have done that by creating the following custom class as follows and used that in request but still no luck..</p>\n<pre><code>import java.io.Serializable;\nimport java.util.ArrayList;\nimport java.util.Collection;\nimport java.util.Iterator;\nimport java.util.Map;\nimport java.util.Set;\n\nimport com.google.gwt.user.client.rpc.IsSerializable;\n\n/**\n * This class is an implmentation for an ordered Map.\n */\npublic class CustomMap implements Map, IsSerializable, Serializable\n{\n    private ArrayList key;\n    private ArrayList value;\n     \n    public CustomMap ()\n    {\n        this.key = new ArrayList();\n        this.value = new ArrayList();\n    }\n    \n    public CustomMap (int size)\n    {\n        this.key = new ArrayList(size);\n        this.value = new ArrayList(size);\n    }\n</code></pre>\n<p>Please guide me with following issue fix if anyone has faced the same and resolved it.</p>\n<pre><code>Caused by: com.google.gwt.user.client.rpc.SerializedTypeViolationException: Attempt to deserialize an object of type class java.util.HashMap when an object of type class java.lang.String is expected\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:663)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\n    at com.google.gwt.user.server.rpc.core.java.util.Map_ServerCustomFieldSerializerBase.deserialize(Map_ServerCustomFieldSerializerBase.java:38)\n    at com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserialize(HashMap_ServerCustomFieldSerializer.java:40)\n    at com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserializeInstance(HashMap_ServerCustomFieldSerializer.java:54)\n    at com.google.gwt.user.server.rpc.core.java.util.HashMap_ServerCustomFieldSerializer.deserializeInstance(HashMap_ServerCustomFieldSerializer.java:33)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeImpl(ServerSerializationStreamReader.java:887)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:687)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader$ValueReader$8.readValue(ServerSerializationStreamReader.java:149)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeValue(ServerSerializationStreamReader.java:434)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeClass(ServerSerializationStreamReader.java:833)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeImpl(ServerSerializationStreamReader.java:906)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserialize(ServerSerializationStreamReader.java:687)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.readObject(ServerSerializationStreamReader.java:592)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader$ValueReader$8.readValue(ServerSerializationStreamReader.java:149)\n    at com.google.gwt.user.server.rpc.impl.ServerSerializationStreamReader.deserializeValue(ServerSerializationStreamReader.java:434)\n    at com.google.gwt.user.server.rpc.RPC.decodeRequest(RPC.java:312)\n    ... 116 more\n</code></pre>\n<p>I am initiating a GWT RPC call, where there is one of the property sent with the object passed in the payload, is of type java.util.HashMap for which the request is failing with &quot;IncompatibleRemoteServiceException&quot; while decoding the request only at the server when initiated the following line.</p>\n<pre><code>rpcRequest = RPC.decodeRequest(payload, this.getClass(), this);\n\n</code></pre>\n<p>And this exception is <code>&quot;Caused by: com.google.gwt.user.client.rpc.SerializedTypeViolationException: Attempt to deserialize an object of type class java.util.HashMap when an object of type class java.lang.String is expected&quot;</code></p>\n<p>Any help is appreciated.\nThanks in advance.</p>\n"},{"tags":["java","plot","sas","jvm","enterprise-guide"],"answers":[{"tags":[],"owner":{"account_id":2319589,"reputation":537,"user_id":2035749,"accept_rate":100,"display_name":"mspehar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688996035,"creation_date":1688996035,"answer_id":76654282,"question_id":70285417,"body_markdown":"Try changing graph format in EG settings.\r\n\r\nTools &gt; Options &gt; Results &gt; Graph\r\n\r\nThere are 2 dropdown menus, try PNG in both.","title":"How can I resolve this JVM error in SAS EG","body":"<p>Try changing graph format in EG settings.</p>\n<p>Tools &gt; Options &gt; Results &gt; Graph</p>\n<p>There are 2 dropdown menus, try PNG in both.</p>\n"}],"owner":{"account_id":3937233,"reputation":31,"user_id":3253207,"display_name":"as_cool_as_aish"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1688996035,"creation_date":1639030247,"question_id":70285417,"body_markdown":"I am trying to run the following code in my SAS EG:\r\n    \r\n    Data sashelp.air;\r\n    \r\n    proc sgplot data=sashelp.air;\r\n    \thistogram AIR /;\r\n    \tyaxis grid;\r\n    \trun;\r\n    \r\n   The following error is coming up:\r\n    \r\n    ERROR: Unable to load the Java Virtual Machine. \r\n    Please see the installation instructions or system administrator.\r\n    \r\n  For any type of plotting, the same error is coming up. \r\n  Please suggest solutions and what the reasons for the issue could be.\r\n\r\n","title":"How can I resolve this JVM error in SAS EG","body":"<p>I am trying to run the following code in my SAS EG:</p>\n<pre><code>Data sashelp.air;\n\nproc sgplot data=sashelp.air;\n    histogram AIR /;\n    yaxis grid;\n    run;\n</code></pre>\n<p>The following error is coming up:</p>\n<pre><code>ERROR: Unable to load the Java Virtual Machine. \nPlease see the installation instructions or system administrator.\n</code></pre>\n<p>For any type of plotting, the same error is coming up.\nPlease suggest solutions and what the reasons for the issue could be.</p>\n"},{"tags":["java","spring-boot","spring-security-oauth2"],"comments":[{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1505469132,"post_id":46232331,"comment_id":79436709,"body_markdown":"try by using `grant_type=password` instead of client_credentials","body":"try by using <code>grant_type=password</code> instead of client_credentials"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":0,"creation_date":1505469479,"post_id":46232331,"comment_id":79436933,"body_markdown":"Hi PrasannaI tried to enter grant type as password but it throwing error as invalid grant type","body":"Hi PrasannaI tried to enter grant type as password but it throwing error as invalid grant type"},{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1505469875,"post_id":46232331,"comment_id":79437185,"body_markdown":"May i know the content-type u r using in request?? it must be `application/x-www-form-urlencoded`","body":"May i know the content-type u r using in request?? it must be <code>application&#47;x-www-form-urlencoded</code>"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":0,"creation_date":1505470239,"post_id":46232331,"comment_id":79437417,"body_markdown":"The following is the url request I am passing through post man. &quot;http://localhost:8090/oauth/token?username=sr7&amp;password=aA$gm12&amp;grant_type=password&quot;","body":"The following is the url request I am passing through post man. &quot;<a href=\"http://localhost:8090/oauth/token?username=sr7&amp;password=aA$gm12&amp;grant_type=password\" rel=\"nofollow noreferrer\">localhost:8090/oauth/&hellip;</a>&quot;"},{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1505470302,"post_id":46232331,"comment_id":79437448,"body_markdown":"Am asking about content-type...header in postman request","body":"Am asking about content-type...header in postman request"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":0,"creation_date":1505470422,"post_id":46232331,"comment_id":79437528,"body_markdown":"ok content type: application/json and authorisation is Basic with my client name and secret key.                                                                                          Basic auth credentials:- username:my-trusted-client, password secret","body":"ok content type: application/json and authorisation is Basic with my client name and secret key.                                                                                          Basic auth credentials:- username:my-trusted-client, password secret"},{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1505471053,"post_id":46232331,"comment_id":79437914,"body_markdown":"change it to `application/x-www-form-urlencoded`","body":"change it to <code>application&#47;x-www-form-urlencoded</code>"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":0,"creation_date":1505474293,"post_id":46232331,"comment_id":79439882,"body_markdown":"I changed but still the same result","body":"I changed but still the same result"},{"owner":{"account_id":5139153,"reputation":3351,"user_id":4117061,"accept_rate":93,"display_name":"Prasanna Kumar H A"},"score":0,"creation_date":1505475327,"post_id":46232331,"comment_id":79440511,"body_markdown":"What is the complete output?? i mean error_description??","body":"What is the complete output?? i mean error_description??"},{"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"score":0,"creation_date":1505478408,"post_id":46232331,"comment_id":79442530,"body_markdown":"&quot;error&quot;: &quot;invalid_grant&quot;,\n    &quot;error_description&quot;: &quot;Bad credentials&quot;\n}                                                                                                                                is the error mesage thrown","body":"&quot;error&quot;: &quot;invalid_grant&quot;,     &quot;error_description&quot;: &quot;Bad credentials&quot; }                                                                                                                                is the error mesage thrown"},{"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"score":0,"creation_date":1505485699,"post_id":46232331,"comment_id":79447773,"body_markdown":"Note that you need to check if the password grant is suitable to your needs. Read more in my answer below. As for making the password grant work read more on the [official guide](https://projects.spring.io/spring-security-oauth/docs/oauth2.html). You could also use [JHipster](http://www.jhipster.tech/) Yeoman generator and generate an app with OAuth2 authentication and use it as a template for your solution. Disclosure: I&#39;m not in any way related to the team behind JHipster. I just often use it to peek how things should be done in Spring/Angular","body":"Note that you need to check if the password grant is suitable to your needs. Read more in my answer below. As for making the password grant work read more on the <a href=\"https://projects.spring.io/spring-security-oauth/docs/oauth2.html\" rel=\"nofollow noreferrer\">official guide</a>. You could also use <a href=\"http://www.jhipster.tech/\" rel=\"nofollow noreferrer\">JHipster</a> Yeoman generator and generate an app with OAuth2 authentication and use it as a template for your solution. Disclosure: I&#39;m not in any way related to the team behind JHipster. I just often use it to peek how things should be done in Spring/Angular"}],"answers":[{"tags":[],"owner":{"account_id":5684621,"reputation":4943,"user_id":4494577,"display_name":"jannis"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1688995591,"creation_date":1505485372,"answer_id":46241855,"question_id":46232331,"body_markdown":"[As per the specification](https://www.rfc-editor.org/rfc/rfc6749#section-4.4) you usually (&quot;should not&quot;, using specification terminology) don&#39;t have refresh tokens in case of &#39;client credentials&#39; grant type. Quoting [this answer by @chenrui](https://stackoverflow.com/a/44510200/4494577):\r\n\r\n&gt; client_credentials OAuth grant servers the need of machine-to-machine authentication, so there is no need to refresh the token.\r\n&gt;\r\n&gt;As result, in Spring Security OAuth&#39;s `ClientCredentialsAccessTokenProvider`, `supportsRefresh` returns `false` and `refreshToken` methods returns `null`.\r\n\r\nIn &#39;client credentials&#39;  bare client&#39;s credentials are used to obtain access tokens.\r\n\r\nRecommended reading:\r\n\r\n* [About OAuth2 grants](https://alexbilbie.com/guide-to-oauth-2-grants/)\r\n* [Spring Security and OAuth2 official guide](https://projects.spring.io/spring-security-oauth/docs/oauth2.html)\r\n* [Spring Security and OAuth2 (Gigsterous blog)](https://gigsterous.github.io/engineering/2017/03/01/spring-boot-4.html)","title":"Refresh token is not returned in oauth/token response of spring","body":"<p><a href=\"https://www.rfc-editor.org/rfc/rfc6749#section-4.4\" rel=\"nofollow noreferrer\">As per the specification</a> you usually (&quot;should not&quot;, using specification terminology) don't have refresh tokens in case of 'client credentials' grant type. Quoting <a href=\"https://stackoverflow.com/a/44510200/4494577\">this answer by @chenrui</a>:</p>\n<blockquote>\n<p>client_credentials OAuth grant servers the need of machine-to-machine authentication, so there is no need to refresh the token.</p>\n<p>As result, in Spring Security OAuth's <code>ClientCredentialsAccessTokenProvider</code>, <code>supportsRefresh</code> returns <code>false</code> and <code>refreshToken</code> methods returns <code>null</code>.</p>\n</blockquote>\n<p>In 'client credentials'  bare client's credentials are used to obtain access tokens.</p>\n<p>Recommended reading:</p>\n<ul>\n<li><a href=\"https://alexbilbie.com/guide-to-oauth-2-grants/\" rel=\"nofollow noreferrer\">About OAuth2 grants</a></li>\n<li><a href=\"https://projects.spring.io/spring-security-oauth/docs/oauth2.html\" rel=\"nofollow noreferrer\">Spring Security and OAuth2 official guide</a></li>\n<li><a href=\"https://gigsterous.github.io/engineering/2017/03/01/spring-boot-4.html\" rel=\"nofollow noreferrer\">Spring Security and OAuth2 (Gigsterous blog)</a></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":9694254,"reputation":4765,"user_id":7191280,"display_name":"Carlos Alberto Schneider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627053831,"creation_date":1627053831,"answer_id":68501541,"question_id":46232331,"body_markdown":"Besides using password grant type, try setting TokenServices support of refresh tokens on. Here is just an example, I don&#39;t know if the default token service will work in your case.\r\n\r\n \r\n\r\n    @Override\r\n        public void configure(final AuthorizationServerEndpointsConfigurer endpoints) {\r\n            var tokenService = new DefaultTokenServices();\r\n            tokenService.setSupportRefreshToken(true);\r\n            endpoints\r\n                    .accessTokenConverter(accessTokenConverter())\r\n                    .tokenServices(tokenService)\r\n                    .userDetailsService(userDetailsService)\r\n                    .authenticationManager(authenticationManager);\r\n        }","title":"Refresh token is not returned in oauth/token response of spring","body":"<p>Besides using password grant type, try setting TokenServices support of refresh tokens on. Here is just an example, I don't know if the default token service will work in your case.</p>\n<pre><code>@Override\n    public void configure(final AuthorizationServerEndpointsConfigurer endpoints) {\n        var tokenService = new DefaultTokenServices();\n        tokenService.setSupportRefreshToken(true);\n        endpoints\n                .accessTokenConverter(accessTokenConverter())\n                .tokenServices(tokenService)\n                .userDetailsService(userDetailsService)\n                .authenticationManager(authenticationManager);\n    }\n</code></pre>\n"}],"owner":{"account_id":10263461,"reputation":231,"user_id":7574116,"accept_rate":25,"display_name":"SrikR"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6130,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1688995591,"creation_date":1505453786,"question_id":46232331,"body_markdown":"I am trying to create a Rest API with spring boot and spring security.\r\nThe below are the details of code changes I have made for getting authorization token:-\r\n\r\n1] AuthorizationServerConfig\r\n\r\n    @Configuration\r\n    @EnableAuthorizationServer\r\n    public class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter {\r\n    \r\n    \r\n    \t\r\n        @Autowired\r\n        private AuthenticationManager authenticationManager;\r\n    \r\n        @Autowired\r\n    \tprivate TokenStore tokenStore;\r\n    \r\n    \t@Autowired\r\n    \tprivate UserApprovalHandler userApprovalHandler;\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\r\n            endpoints.tokenStore(tokenStore).userApprovalHandler(userApprovalHandler)\r\n            .authenticationManager(authenticationManager);\r\n        }\r\n    \r\n        @Override\r\n        public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\r\n            clients.inMemory().withClient(&quot;my-trusted-client&quot;)\r\n                    .authorizedGrantTypes(&quot;client_credentials&quot;, &quot;password&quot;, &quot;refresh_token&quot; )\r\n                    .authorities(&quot;ROLE_CLIENT&quot;).scopes(&quot;read&quot;,&quot;write&quot;,&quot;trust&quot;)\r\n                    .secret(&quot;secret&quot;)\r\n                    .accessTokenValiditySeconds(5000)\r\n                    .refreshTokenValiditySeconds(6000).autoApprove(true);\r\n        }\r\n    \r\n        @Override\r\n        public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\r\n            security.checkTokenAccess(&quot;isAuthenticated()&quot;);\r\n        }\r\n      @Override\r\n        @Bean\r\n        public AuthenticationManager authenticationManagerBean() throws Exception {\r\n            return super.authenticationManagerBean();\r\n        }\r\n    \r\n    \r\n    \t@Bean\r\n    \tpublic TokenStore tokenStore() {\r\n    \t\treturn new InMemoryTokenStore();\r\n    \t}\r\n    \r\n    \t@Bean\r\n    \t@Autowired\r\n    \tpublic TokenStoreUserApprovalHandler userApprovalHandler(TokenStore tokenStore){\r\n    \t\tTokenStoreUserApprovalHandler handler = new TokenStoreUserApprovalHandler();\r\n    \t\thandler.setTokenStore(tokenStore);\r\n    \t\thandler.setRequestFactory(new DefaultOAuth2RequestFactory(clientDetailsService));\r\n    \t\thandler.setClientDetailsService(clientDetailsService);\r\n    \t\treturn handler;\r\n    \t}\r\n    \t\r\n    \t@Bean\r\n    \t@Autowired\r\n    \tpublic ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\r\n    \t\tTokenApprovalStore store = new TokenApprovalStore();\r\n    \t\tstore.setTokenStore(tokenStore);\r\n    \t\treturn store;\r\n    \t}\r\n    \r\n    }\r\n2] ResourceServerConfig\r\n\r\n    @Configuration\r\n    @EnableResourceServer\r\n    public class ResourceServerConfig extends ResourceServerConfigurerAdapter {\r\n    \t\r\n    \tprivate static final String RESOURCE_ID = &quot;my_rest_api&quot;;\r\n    \t\r\n    \t@Override\r\n    \tpublic void configure(ResourceServerSecurityConfigurer resources) {\r\n    \t\tresources.resourceId(RESOURCE_ID).stateless(false);\r\n    \t}\r\n    \r\n        @Override\r\n        public void configure(HttpSecurity http) throws Exception {\r\n            http.headers().frameOptions().disable().and()\r\n                    .authorizeRequests()\r\n                    .antMatchers(&quot;/register&quot;).permitAll()\r\n                    .antMatchers(&quot;/ex/**&quot;).authenticated();\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n3] MethodSecurityConfig\r\n\r\n    @Configuration\r\n    @EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)\r\n    public class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n    \t@Autowired\r\n        private OAuth2SecurityConfiguration securityConfig;\r\n        \r\n        @Override\r\n        protected MethodSecurityExpressionHandler createExpressionHandler() {\r\n            return new OAuth2MethodSecurityExpressionHandler();\r\n        }\r\n    }\r\n\r\nWhen I make the request through postman the following response is returned: -\r\n\r\nRequest URL:-\r\n\r\n    http://localhost:8090/oauth/token?grant_type=client_credentials&amp;username=sr7&amp;password=aA$gm12\r\n\r\nResponse received: -\r\n\r\n    {\r\n        &quot;access_token&quot;: &quot;6e55f38f-4aad-4e84-97d2-24b30d39bf5e&quot;,\r\n        &quot;token_type&quot;: &quot;bearer&quot;,\r\n        &quot;expires_in&quot;: 4999,\r\n        &quot;scope&quot;: &quot;read write trust&quot;\r\n    }\r\nKindly help me out to figure out what I am doing wrong here which is preventing me from getting refresh token along with respons.\r\n\r\nThanks in advance.\r\n\r\n","title":"Refresh token is not returned in oauth/token response of spring","body":"<p>I am trying to create a Rest API with spring boot and spring security.\nThe below are the details of code changes I have made for getting authorization token:-</p>\n\n<p>1] AuthorizationServerConfig</p>\n\n<pre><code>@Configuration\n@EnableAuthorizationServer\npublic class AuthorizationServerConfig extends AuthorizationServerConfigurerAdapter {\n\n\n\n    @Autowired\n    private AuthenticationManager authenticationManager;\n\n    @Autowired\n    private TokenStore tokenStore;\n\n    @Autowired\n    private UserApprovalHandler userApprovalHandler;\n\n    @Override\n    public void configure(AuthorizationServerEndpointsConfigurer endpoints) throws Exception {\n        endpoints.tokenStore(tokenStore).userApprovalHandler(userApprovalHandler)\n        .authenticationManager(authenticationManager);\n    }\n\n    @Override\n    public void configure(ClientDetailsServiceConfigurer clients) throws Exception {\n        clients.inMemory().withClient(\"my-trusted-client\")\n                .authorizedGrantTypes(\"client_credentials\", \"password\", \"refresh_token\" )\n                .authorities(\"ROLE_CLIENT\").scopes(\"read\",\"write\",\"trust\")\n                .secret(\"secret\")\n                .accessTokenValiditySeconds(5000)\n                .refreshTokenValiditySeconds(6000).autoApprove(true);\n    }\n\n    @Override\n    public void configure(AuthorizationServerSecurityConfigurer security) throws Exception {\n        security.checkTokenAccess(\"isAuthenticated()\");\n    }\n  @Override\n    @Bean\n    public AuthenticationManager authenticationManagerBean() throws Exception {\n        return super.authenticationManagerBean();\n    }\n\n\n    @Bean\n    public TokenStore tokenStore() {\n        return new InMemoryTokenStore();\n    }\n\n    @Bean\n    @Autowired\n    public TokenStoreUserApprovalHandler userApprovalHandler(TokenStore tokenStore){\n        TokenStoreUserApprovalHandler handler = new TokenStoreUserApprovalHandler();\n        handler.setTokenStore(tokenStore);\n        handler.setRequestFactory(new DefaultOAuth2RequestFactory(clientDetailsService));\n        handler.setClientDetailsService(clientDetailsService);\n        return handler;\n    }\n\n    @Bean\n    @Autowired\n    public ApprovalStore approvalStore(TokenStore tokenStore) throws Exception {\n        TokenApprovalStore store = new TokenApprovalStore();\n        store.setTokenStore(tokenStore);\n        return store;\n    }\n\n}\n</code></pre>\n\n<p>2] ResourceServerConfig</p>\n\n<pre><code>@Configuration\n@EnableResourceServer\npublic class ResourceServerConfig extends ResourceServerConfigurerAdapter {\n\n    private static final String RESOURCE_ID = \"my_rest_api\";\n\n    @Override\n    public void configure(ResourceServerSecurityConfigurer resources) {\n        resources.resourceId(RESOURCE_ID).stateless(false);\n    }\n\n    @Override\n    public void configure(HttpSecurity http) throws Exception {\n        http.headers().frameOptions().disable().and()\n                .authorizeRequests()\n                .antMatchers(\"/register\").permitAll()\n                .antMatchers(\"/ex/**\").authenticated();\n    }\n\n\n}\n</code></pre>\n\n<p>3] MethodSecurityConfig</p>\n\n<pre><code>@Configuration\n@EnableGlobalMethodSecurity(prePostEnabled = true, proxyTargetClass = true)\npublic class MethodSecurityConfig extends GlobalMethodSecurityConfiguration {\n    @SuppressWarnings(\"unused\")\n    @Autowired\n    private OAuth2SecurityConfiguration securityConfig;\n\n    @Override\n    protected MethodSecurityExpressionHandler createExpressionHandler() {\n        return new OAuth2MethodSecurityExpressionHandler();\n    }\n}\n</code></pre>\n\n<p>When I make the request through postman the following response is returned: -</p>\n\n<p>Request URL:-</p>\n\n<pre><code>http://localhost:8090/oauth/token?grant_type=client_credentials&amp;username=sr7&amp;password=aA$gm12\n</code></pre>\n\n<p>Response received: -</p>\n\n<pre><code>{\n    \"access_token\": \"6e55f38f-4aad-4e84-97d2-24b30d39bf5e\",\n    \"token_type\": \"bearer\",\n    \"expires_in\": 4999,\n    \"scope\": \"read write trust\"\n}\n</code></pre>\n\n<p>Kindly help me out to figure out what I am doing wrong here which is preventing me from getting refresh token along with respons.</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring","annotations","aop","spring-aspects"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688642317,"post_id":76627393,"comment_id":135102784,"body_markdown":"Is the annotated method in a Component class or otherwise instantiated by Spring?","body":"Is the annotated method in a Component class or otherwise instantiated by Spring?"},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688660064,"post_id":76627393,"comment_id":135106908,"body_markdown":"@service class only","body":"@service class only"},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688670453,"post_id":76627393,"comment_id":135108698,"body_markdown":"@Jorn any idea ?","body":"@Jorn any idea ?"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688709623,"post_id":76627393,"comment_id":135112781,"body_markdown":"Remove the `spring-aop` dependency and `aspectj` dependency, add `spring-boot-starter-aop` instead. You are mixing jars from different (and incompatible) versions of Spring . This will never work. Never mix versions of frameworks (regardless of the framework). That being said there is already the `@Timed` annotation from the already supported micrometer project which I would recommend to use instead of re-inventing your own. Next Spring AOP works with proxies meaing only public/protected methods are intercepted and only call into the object not methods on itself (as you are inside the proxy).","body":"Remove the <code>spring-aop</code> dependency and <code>aspectj</code> dependency, add <code>spring-boot-starter-aop</code> instead. You are mixing jars from different (and incompatible) versions of Spring . This will never work. Never mix versions of frameworks (regardless of the framework). That being said there is already the <code>@Timed</code> annotation from the already supported micrometer project which I would recommend to use instead of re-inventing your own. Next Spring AOP works with proxies meaing only public/protected methods are intercepted and only call into the object not methods on itself (as you are inside the proxy)."},{"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"score":0,"creation_date":1688727066,"post_id":76627393,"comment_id":135115859,"body_markdown":"@M.Deinum changed the dependency, still not working","body":"@M.Deinum changed the dependency, still not working"},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688885212,"post_id":76627393,"comment_id":135132239,"body_markdown":"And you apparently stopped reading after the first sentence. You skipped the **Next Spring AOP works with proxies meaing only public/protected methods are intercepted and only call into the object not methods on itself (as you are inside the proxy)**. As the method is `private` it is an invocation on the same object.","body":"And you apparently stopped reading after the first sentence. You skipped the <b>Next Spring AOP works with proxies meaing only public/protected methods are intercepted and only call into the object not methods on itself (as you are inside the proxy)</b>. As the method is <code>private</code> it is an invocation on the same object."}],"answers":[{"tags":[],"owner":{"account_id":1087271,"reputation":64101,"user_id":1082681,"accept_rate":90,"display_name":"kriegaex"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688889366,"creation_date":1688805934,"answer_id":76642110,"question_id":76627393,"body_markdown":"Inspecting your code, ...\r\n\r\n```java\r\n@MethodExecutionTime\r\nprivate String responseDataReceived(String url) {\r\n  return &quot;code&quot;;\r\n}\r\n```\r\n\r\n... I see that the annotated method is `private`. Spring AOP is [proxy-based](https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies), and dynamic proxies technically are subclasses. A subclass in Java cannot see or call its parent&#39;s private methods, hence the term &quot;private&quot;. I.e., you can only intercept public methods (both JDK interface proxies and CGLIB proxies) and protected or class-scopend methods (CGLIB only) using Spring AOP. You would need native AspectJ to intercept private ones, too. But actually, if the method is worth being intercepted, why would it be private, i.e. an implementation detail hidden from the outside world?\r\n\r\nP.S.: What is &quot;sustome&quot; supposed to mean?","title":"Custom annotation issue?","body":"<p>Inspecting your code, ...</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MethodExecutionTime\nprivate String responseDataReceived(String url) {\n  return &quot;code&quot;;\n}\n</code></pre>\n<p>... I see that the annotated method is <code>private</code>. Spring AOP is <a href=\"https://docs.spring.io/spring-framework/reference/core/aop/proxying.html#aop-understanding-aop-proxies\" rel=\"nofollow noreferrer\">proxy-based</a>, and dynamic proxies technically are subclasses. A subclass in Java cannot see or call its parent's private methods, hence the term &quot;private&quot;. I.e., you can only intercept public methods (both JDK interface proxies and CGLIB proxies) and protected or class-scopend methods (CGLIB only) using Spring AOP. You would need native AspectJ to intercept private ones, too. But actually, if the method is worth being intercepted, why would it be private, i.e. an implementation detail hidden from the outside world?</p>\n<p>P.S.: What is &quot;sustome&quot; supposed to mean?</p>\n"}],"owner":{"account_id":28926501,"reputation":1,"user_id":22156283,"display_name":"Ansh Gupta"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1688995494,"creation_date":1688635711,"question_id":76627393,"body_markdown":"\r\nAnnotation \r\n```\r\n@Target(ElementType.METHOD) // Annotation can be applied to methods\r\n@Retention(RetentionPolicy.RUNTIME) // Annotation will be retained at runtime\r\npublic @interface MethodExecutionTime {\r\n} \r\n```\r\nAspect class\r\n\r\n```\r\n@Aspect\r\n@Component\r\npublic class MethodExecutionTimeAspect {\r\n    private static final Logger logger = LoggerFactory.getLogger(MethodExecutionTimeAspect.class);\r\n    @Around(&quot;@annotation(com.teamsapi.custom_annotation.annotation.MethodExecutionTime)&quot;)\r\n    public Object measureExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object result = joinPoint.proceed();\r\n        long endTime = System.currentTimeMillis();\r\n        long executionTime = endTime - startTime;\r\n        logger.warn(&quot;Method &#39;{}&#39; took {} milliseconds to execute.&quot;, joinPoint.getSignature().toShortString(), executionTime);\r\n        return result;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nconfig\r\n```\r\ndependencies {\r\n\timplementation &#39;org.jsoup:jsoup:1.15.3&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-mongodb&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\timplementation &#39;org.springframework:spring-aop:5.3.9&#39;\r\n\timplementation &#39;org.aspectj:aspectjweaver:1.9.7&#39;\r\n}\r\n\r\n\r\nplugins {\r\n\tid &#39;java&#39;\r\n\tid &#39;org.springframework.boot&#39; version &#39;3.1.0&#39;\r\n\tid &#39;io.spring.dependency-management&#39; version &#39;1.1.0&#39;\r\n}\r\n```\r\n\r\n\r\n\r\nthis is a method in service class, not working for it\r\n\r\n```\r\n@MethodExecutionTime\r\n    private String responseDataReceived(String url) {\r\n       return &quot;code&quot;;\r\n    }\r\n```\r\n\r\nhow to execute this code properly \r\ntell me any way to implement it properly \r\nworking fine for some method while not for some method, why it is not working tell me the way to resolve it\r\n","title":"Custom annotation issue?","body":"<p>Annotation</p>\n<pre><code>@Target(ElementType.METHOD) // Annotation can be applied to methods\n@Retention(RetentionPolicy.RUNTIME) // Annotation will be retained at runtime\npublic @interface MethodExecutionTime {\n} \n</code></pre>\n<p>Aspect class</p>\n<pre><code>@Aspect\n@Component\npublic class MethodExecutionTimeAspect {\n    private static final Logger logger = LoggerFactory.getLogger(MethodExecutionTimeAspect.class);\n    @Around(&quot;@annotation(com.teamsapi.custom_annotation.annotation.MethodExecutionTime)&quot;)\n    public Object measureExecutionTime(ProceedingJoinPoint joinPoint) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object result = joinPoint.proceed();\n        long endTime = System.currentTimeMillis();\n        long executionTime = endTime - startTime;\n        logger.warn(&quot;Method '{}' took {} milliseconds to execute.&quot;, joinPoint.getSignature().toShortString(), executionTime);\n        return result;\n    }\n}\n</code></pre>\n<p>config</p>\n<pre><code>dependencies {\n    implementation 'org.jsoup:jsoup:1.15.3'\n    implementation 'org.springframework.boot:spring-boot-starter-data-mongodb'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    implementation 'org.springframework:spring-aop:5.3.9'\n    implementation 'org.aspectj:aspectjweaver:1.9.7'\n}\n\n\nplugins {\n    id 'java'\n    id 'org.springframework.boot' version '3.1.0'\n    id 'io.spring.dependency-management' version '1.1.0'\n}\n</code></pre>\n<p>this is a method in service class, not working for it</p>\n<pre><code>@MethodExecutionTime\n    private String responseDataReceived(String url) {\n       return &quot;code&quot;;\n    }\n</code></pre>\n<p>how to execute this code properly\ntell me any way to implement it properly\nworking fine for some method while not for some method, why it is not working tell me the way to resolve it</p>\n"},{"tags":["java","websocket","apache-camel","spring-websocket","spring-camel"],"comments":[{"owner":{"account_id":2269593,"reputation":43907,"user_id":1997376,"accept_rate":100,"display_name":"Nicolas Filotto"},"score":0,"creation_date":1689008465,"post_id":76654156,"comment_id":135149388,"body_markdown":"I can see that you keep trying on your project, could you make finally work? or this question is still actual?","body":"I can see that you keep trying on your project, could you make finally work? or this question is still actual?"},{"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"score":0,"creation_date":1689008661,"post_id":76654156,"comment_id":135149434,"body_markdown":"No i can&#39;t , tried  alot but nothing works","body":"No i can&#39;t , tried  alot but nothing works"},{"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"score":0,"creation_date":1689084930,"post_id":76654156,"comment_id":135161277,"body_markdown":"Any idea on accessing wss:// using camel ?","body":"Any idea on accessing wss:// using camel ?"}],"owner":{"account_id":9337172,"reputation":1341,"user_id":6931023,"accept_rate":50,"display_name":"gladiator"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688995099,"creation_date":1688995099,"question_id":76654156,"body_markdown":"I have create wss socket using springboot and it works fine I have tested using online tool as well as springboot client.\r\nthe socket is open at endpoint `wss://spring-ou5b.onrender.com/web-socket-endpoint and received message on /app/message`\r\nNow I am trying to send data to this socket using apache camel repo at \r\nhttps://github.com/rksharma1401/apache-camel-microservice\r\n\r\nBelow is the route \r\n  \r\n\r\n      package learn.camelmicorservices.routes;\r\n    \r\n    import org.apache.camel.InOut;\r\n    import org.apache.camel.Produce;\r\n    import org.apache.camel.builder.RouteBuilder;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    @Component\r\n    public class ActiveMqSenderRouter extends RouteBuilder {\r\n     \r\n    \t@Override\r\n    \t@InOut\r\n    \t@Produce(value =&quot;app/message&quot; )\r\n    \tpublic void configure() throws Exception {\r\n    int i=0;\r\n    \t\tfrom(&quot;timer:wss-timer?period=5000&quot;).transform().constant(&quot;{\\&quot;name\\&quot;:\\&quot;new&quot;+(++i)+&quot;\\&quot;}&quot; )\r\n    \t\t\t.log(&quot;Created&quot;+&quot;${body}&quot;)\r\n    \t\t\t.to(&quot;wss://spring-ou5b.onrender.com/web-socket-endpoint?sendToAll=true&quot;)\r\n    \t\t\t.log(&quot;After End&quot;+&quot;${body}&quot;);\r\n    \r\n    \t}\r\n    }\r\n\r\n\r\nbut I get error as \r\n\r\n&gt; Caused by: org.apache.camel.NoSuchEndpointException: No endpoint could\r\n&gt; be found for: wss://.....\r\n\r\nwhich camel componet jar is needed for wss \r\n\r\nI have tried websocket,vertx,ahc but they don&#39;t send data or gives other errors\r\n\r\n\r\n","title":"Apache camel route send data to wss websocket on stomp","body":"<p>I have create wss socket using springboot and it works fine I have tested using online tool as well as springboot client.\nthe socket is open at endpoint <code>wss://spring-ou5b.onrender.com/web-socket-endpoint and received message on /app/message</code>\nNow I am trying to send data to this socket using apache camel repo at\n<a href=\"https://github.com/rksharma1401/apache-camel-microservice\" rel=\"nofollow noreferrer\">https://github.com/rksharma1401/apache-camel-microservice</a></p>\n<p>Below is the route</p>\n<pre><code>  package learn.camelmicorservices.routes;\n\nimport org.apache.camel.InOut;\nimport org.apache.camel.Produce;\nimport org.apache.camel.builder.RouteBuilder;\nimport org.springframework.stereotype.Component;\n\n@Component\npublic class ActiveMqSenderRouter extends RouteBuilder {\n \n    @Override\n    @InOut\n    @Produce(value =&quot;app/message&quot; )\n    public void configure() throws Exception {\nint i=0;\n        from(&quot;timer:wss-timer?period=5000&quot;).transform().constant(&quot;{\\&quot;name\\&quot;:\\&quot;new&quot;+(++i)+&quot;\\&quot;}&quot; )\n            .log(&quot;Created&quot;+&quot;${body}&quot;)\n            .to(&quot;wss://spring-ou5b.onrender.com/web-socket-endpoint?sendToAll=true&quot;)\n            .log(&quot;After End&quot;+&quot;${body}&quot;);\n\n    }\n}\n</code></pre>\n<p>but I get error as</p>\n<blockquote>\n<p>Caused by: org.apache.camel.NoSuchEndpointException: No endpoint could\nbe found for: wss://.....</p>\n</blockquote>\n<p>which camel componet jar is needed for wss</p>\n<p>I have tried websocket,vertx,ahc but they don't send data or gives other errors</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","spring-rabbit"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688994119,"creation_date":1688994119,"answer_id":76654014,"question_id":76645291,"body_markdown":"You can add a validator to the message handler factory and annotate the parameter with `@Valid`; this externalizes the validation.\r\n\r\nhttps://docs.spring.io/spring-amqp/docs/current/reference/html/#async-annotation-driven-enable-signature\r\n\r\nhttps://docs.spring.io/spring-amqp/docs/current/reference/html/#rabbit-validation\r\n\r\n&gt;SonarLint issues I can&#39;t use more than 5 logical operators\r\n\r\nYou can reduce the condition count by storing intermediate results in local booleans and then check that all are true.","title":"How can I validate the queue message?","body":"<p>You can add a validator to the message handler factory and annotate the parameter with <code>@Valid</code>; this externalizes the validation.</p>\n<p><a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#async-annotation-driven-enable-signature\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#async-annotation-driven-enable-signature</a></p>\n<p><a href=\"https://docs.spring.io/spring-amqp/docs/current/reference/html/#rabbit-validation\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-amqp/docs/current/reference/html/#rabbit-validation</a></p>\n<blockquote>\n<p>SonarLint issues I can't use more than 5 logical operators</p>\n</blockquote>\n<p>You can reduce the condition count by storing intermediate results in local booleans and then check that all are true.</p>\n"}],"owner":{"account_id":19293862,"reputation":1,"user_id":14134518,"display_name":"joan0627"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688994315,"creation_date":1688858297,"question_id":76645291,"body_markdown":"Currently I have this code: \r\n\r\n```java\r\n@RabbitListener(queues = &quot;${rabbitmq.queue}&quot;)\r\npublic void receivedMessage(TransferPayment transferPayment) {\r\n  log.info(&quot;Received message: {}&quot;, transferPayment);\r\n\r\n  // TODO: please correct\r\n  if (transferPayment.getData().getSecurity() != null &amp;&amp;\r\n    transferPayment.getData().getNotification() != null &amp;&amp;\r\n    transferPayment.getData().getTransfer() != null &amp;&amp;\r\n    transferPayment.getData().getDisbursementDestination() != null &amp;&amp;\r\n    transferPayment.getData().getDisbursementDestination().getThirpartyDestination() != null &amp;&amp;\r\n    transferPayment.getData().getCustomer() != null &amp;&amp;\r\n    transferPayment.getData().getCustomer().getIdentification() != null &amp;&amp;\r\n    transferPayment.getData().getLoans() != null) {\r\n\r\n    notificationUseCase.notifyPayment(transferPayment);\r\n  }\r\n}\r\n```\r\n\r\n![Message of Queue][1]\r\n\r\nI want to improve the conditional and be able to perform the same validation correctly in a cleaner way. Keep in mind that due to SonarLint issues I can&#39;t use more than 5 logical operators in the conditional, I also want to correct that.\r\nI am using clean architecture and this code is in the infrastructure layer and object `TransferPayment` is in the domain layer.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vQTpd.png","title":"How can I validate the queue message?","body":"<p>Currently I have this code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RabbitListener(queues = &quot;${rabbitmq.queue}&quot;)\npublic void receivedMessage(TransferPayment transferPayment) {\n  log.info(&quot;Received message: {}&quot;, transferPayment);\n\n  // TODO: please correct\n  if (transferPayment.getData().getSecurity() != null &amp;&amp;\n    transferPayment.getData().getNotification() != null &amp;&amp;\n    transferPayment.getData().getTransfer() != null &amp;&amp;\n    transferPayment.getData().getDisbursementDestination() != null &amp;&amp;\n    transferPayment.getData().getDisbursementDestination().getThirpartyDestination() != null &amp;&amp;\n    transferPayment.getData().getCustomer() != null &amp;&amp;\n    transferPayment.getData().getCustomer().getIdentification() != null &amp;&amp;\n    transferPayment.getData().getLoans() != null) {\n\n    notificationUseCase.notifyPayment(transferPayment);\n  }\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/vQTpd.png\" alt=\"Message of Queue\" /></p>\n<p>I want to improve the conditional and be able to perform the same validation correctly in a cleaner way. Keep in mind that due to SonarLint issues I can't use more than 5 logical operators in the conditional, I also want to correct that.\nI am using clean architecture and this code is in the infrastructure layer and object <code>TransferPayment</code> is in the domain layer.</p>\n"},{"tags":["java","spring","pdf","itext","itext7"],"comments":[{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":1,"creation_date":1587121601,"post_id":61269801,"comment_id":108390112,"body_markdown":"Actually the error message says it all, you add the same iText document content objects to different pdf documents (each `getByteArray` creates a new document). This can cause issues, so it is forbidden. Generate separate sets of iText document content objects for different target documents. That been said, you directly add cells to a document. This probably will cause issues as cells are meant to be added to tables.","body":"Actually the error message says it all, you add the same iText document content objects to different pdf documents (each <code>getByteArray</code> creates a new document). This can cause issues, so it is forbidden. Generate separate sets of iText document content objects for different target documents. That been said, you directly add cells to a document. This probably will cause issues as cells are meant to be added to tables."},{"owner":{"account_id":18317022,"reputation":21,"user_id":13338599,"display_name":"AnySmallEmpsilon"},"score":0,"creation_date":1587124524,"post_id":61269801,"comment_id":108391738,"body_markdown":"...you add the same iText document content objects to different pdf documents - do you mean table, header and footer? \n\nTables are different for each method, footer and header are the same.","body":"...you add the same iText document content objects to different pdf documents - do you mean table, header and footer?   Tables are different for each method, footer and header are the same."},{"owner":{"account_id":18317022,"reputation":21,"user_id":13338599,"display_name":"AnySmallEmpsilon"},"score":0,"creation_date":1587132561,"post_id":61269801,"comment_id":108396603,"body_markdown":"@mkl Thank you, problem is solved.","body":"@mkl Thank you, problem is solved."}],"answers":[{"tags":[],"owner":{"account_id":18317022,"reputation":21,"user_id":13338599,"display_name":"AnySmallEmpsilon"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1587203408,"creation_date":1587203408,"answer_id":61287154,"question_id":61269801,"body_markdown":"The problem is solved. \r\nFor **each document** must be generated **separate** sets of iText objects (Cell, Paragraph, Table ... ).","title":"Itext 7 PdfException - &quot;com.itextpdf.kernel.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.&quot;","body":"<p>The problem is solved. \nFor <strong>each document</strong> must be generated <strong>separate</strong> sets of iText objects (Cell, Paragraph, Table ... ).</p>\n"}],"owner":{"account_id":18317022,"reputation":21,"user_id":13338599,"display_name":"AnySmallEmpsilon"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61287154,"answer_count":1,"score":0,"last_activity_date":1688994241,"creation_date":1587120576,"question_id":61269801,"body_markdown":"I&#39;m getting the exception described in the title when I&#39;m trying to print a few documents continuously.\r\n\r\nThe first one was printed but for second process doc.close() thrown exception. \r\n\r\n1.print methods. \r\n\r\n    private void print1(Cell header, Table table, Cell footer, int size) throws Exception {\r\n        byte[] bytes = somePrintService.getByteArray(header, table, footer, size);\r\n        somePrintService.printbytes(bytes);\r\n    }\r\n\r\n    private void print2(Cell header, Table table, Cell footer, int size) throws Exception {\r\n        byte[] bytes = somePrintService.getByteArray(header, table, footer, size);\r\n        somePrintService.printbytes(bytes);\r\n    }\r\n\r\n2.getByteArray method in somePrintService\r\n\r\n    public byte[] getByteArray(Cell header, Table table, Cell footer, int height) {\r\n\r\n     \r\n        ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\r\n\r\n        PdfWriter writer = new PdfWriter(outputStream);\r\n\r\n        PdfDocument pdf = new PdfDocument(writer);\r\n        Rectangle rectangle = new Rectangle(135f, height);\r\n        PageSize pageSize = new PageSize(rectangle);\r\n        pdf.setDefaultPageSize(pageSize);\r\n\r\n        Document doc = new Document(pdf);\r\n        doc.setMargins(0, 0, 0, 0);\r\n\r\n\r\n        doc.add(header);\r\n        doc.add(table);\r\n        doc.add(footer);\r\n\r\n\r\n        doc.close(); ------- Exception thrown here!!!\r\n\r\n        return outputStream.toByteArray();\r\n    }\r\n\r\n3.Itext kernel code which thrown exception\r\n\r\n    private void write(PdfIndirectReference indirectReference) {\r\n        if (document != null &amp;&amp; !indirectReference.getDocument().equals(document)) {\r\n            throw new PdfException(PdfException.PdfIndirectObjectBelongsToOtherPdfDocument);\r\n        }\r\n        ...\r\n    }\r\n\r\n**PS1.** I am using Spring services for creating tables, fonts e.t.c.\r\n\r\n**PS2.** Itext version - 7.1.10\r\n\r\nThank you.","title":"Itext 7 PdfException - &quot;com.itextpdf.kernel.PdfException: Pdf indirect object belongs to other PDF document. Copy object to current pdf document.&quot;","body":"<p>I'm getting the exception described in the title when I'm trying to print a few documents continuously.</p>\n\n<p>The first one was printed but for second process doc.close() thrown exception. </p>\n\n<p>1.print methods. </p>\n\n<pre><code>private void print1(Cell header, Table table, Cell footer, int size) throws Exception {\n    byte[] bytes = somePrintService.getByteArray(header, table, footer, size);\n    somePrintService.printbytes(bytes);\n}\n\nprivate void print2(Cell header, Table table, Cell footer, int size) throws Exception {\n    byte[] bytes = somePrintService.getByteArray(header, table, footer, size);\n    somePrintService.printbytes(bytes);\n}\n</code></pre>\n\n<p>2.getByteArray method in somePrintService</p>\n\n<pre><code>public byte[] getByteArray(Cell header, Table table, Cell footer, int height) {\n\n\n    ByteArrayOutputStream outputStream = new ByteArrayOutputStream();\n\n    PdfWriter writer = new PdfWriter(outputStream);\n\n    PdfDocument pdf = new PdfDocument(writer);\n    Rectangle rectangle = new Rectangle(135f, height);\n    PageSize pageSize = new PageSize(rectangle);\n    pdf.setDefaultPageSize(pageSize);\n\n    Document doc = new Document(pdf);\n    doc.setMargins(0, 0, 0, 0);\n\n\n    doc.add(header);\n    doc.add(table);\n    doc.add(footer);\n\n\n    doc.close(); ------- Exception thrown here!!!\n\n    return outputStream.toByteArray();\n}\n</code></pre>\n\n<p>3.Itext kernel code which thrown exception</p>\n\n<pre><code>private void write(PdfIndirectReference indirectReference) {\n    if (document != null &amp;&amp; !indirectReference.getDocument().equals(document)) {\n        throw new PdfException(PdfException.PdfIndirectObjectBelongsToOtherPdfDocument);\n    }\n    ...\n}\n</code></pre>\n\n<p><strong>PS1.</strong> I am using Spring services for creating tables, fonts e.t.c.</p>\n\n<p><strong>PS2.</strong> Itext version - 7.1.10</p>\n\n<p>Thank you.</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":6017569,"reputation":3366,"user_id":8007341,"display_name":"Kishan Maurya"},"score":0,"creation_date":1688450138,"post_id":76609614,"comment_id":135071828,"body_markdown":"There are permission changes from Android 12 in bluetooth permissions. https://developer.android.com/guide/topics/connectivity/bluetooth/permissions.     \n Get permission at runtime\n\nhttps://developer.android.com/guide/topics/connectivity/bluetooth/permissions#availability","body":"There are permission changes from Android 12 in bluetooth permissions. <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/bluetooth/&hellip;</a>.       Get permission at runtime  <a href=\"https://developer.android.com/guide/topics/connectivity/bluetooth/permissions#availability\" rel=\"nofollow noreferrer\">developer.android.com/guide/topics/connectivity/bluetooth/&hellip;</a>"},{"owner":{"account_id":14629397,"reputation":71,"user_id":10565722,"display_name":"rover cj"},"score":0,"creation_date":1688452162,"post_id":76609614,"comment_id":135072108,"body_markdown":"I have permissions in manifest file but still not working","body":"I have permissions in manifest file but still not working"},{"owner":{"account_id":6017569,"reputation":3366,"user_id":8007341,"display_name":"Kishan Maurya"},"score":1,"creation_date":1688452425,"post_id":76609614,"comment_id":135072156,"body_markdown":"Adding in manifest is mandatory and asking runtime is also mandatory. If you just declare in manifest then android system wouldn&#39;t grant automatically. you have to request for permission.","body":"Adding in manifest is mandatory and asking runtime is also mandatory. If you just declare in manifest then android system wouldn&#39;t grant automatically. you have to request for permission."},{"owner":{"account_id":14629397,"reputation":71,"user_id":10565722,"display_name":"rover cj"},"score":0,"creation_date":1688452619,"post_id":76609614,"comment_id":135072194,"body_markdown":"In my activity code I used ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100); to get run time permission. Is this correct or is there any other way to get run time permission","body":"In my activity code I used ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100); to get run time permission. Is this correct or is there any other way to get run time permission"},{"owner":{"account_id":24885,"reputation":30822,"user_id":63550,"accept_rate":78,"display_name":"Peter Mortensen"},"score":0,"creation_date":1688993960,"post_id":76609614,"comment_id":135145838,"body_markdown":"&quot;`- tmp = device.createRfcommSocketToServiceRecord(MY_UUID);`&quot; seems unlikely to have been in the source code (it would seem to result in a compile error)","body":"&quot;<code>- tmp = device.createRfcommSocketToServiceRecord(MY_UUID);</code>&quot; seems unlikely to have been in the source code (it would seem to result in a compile error)"}],"owner":{"account_id":14629397,"reputation":71,"user_id":10565722,"display_name":"rover cj"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1688993827,"creation_date":1688448590,"question_id":76609614,"body_markdown":"I have created an app to communicate with a Bluetooth module connected to an [Arduino][1]. The app works fine on [Android&amp;nbsp;11][2].\r\n\r\nBut when I run the app on [Android 13][3], at first the app crashes and the log shows Android permission Bluetooth connect is required, even though I have written code to ask for permission for Bluetooth connect and Bluetooth scan.\r\n\r\nI&#39;m only getting the popup to allow to find, connect to and determine the relative position of nearby devices and not any popup to turn on Bluetooth.\r\n\r\nWhen I open the app again with Bluetooth turned on manually, the paired devices are shown and when tried to connect, app crashes again and error shows permission Bluetooth scan is required.\r\nWhen I open the app again and try to connect, the error shows socket might closed or timed out\r\n\r\nMy manifest:\r\n\r\n```lang-xml\r\n&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;\r\n                     android:usesPermissionFlags=&quot;neverForLocation&quot;\r\n                     tools:targetApi=&quot;s&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot;\r\n                  android:required=&quot;true&quot;/&gt;\r\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot;\r\n                  android:required=&quot;true&quot;/&gt;\r\n```\r\n\r\nWhen the app is launched, the app crashes, showing:\r\n\r\n```lang-none\r\nCaused by: java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for android.content.AttributionSource@1954ea10: AdapterService getBondedDevices\r\nat com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:473)\r\nat com.android.bluetooth.Utils.checkConnectPermissionForDataDelivery(Utils.java:505)\r\nat com.android.bluetooth.btservice.AdapterService$AdapterServiceBinder.getBondedDevices(AdapterService.java:2748)\r\nat com.android.bluetooth.btservice.AdapterService$AdapterServiceBinder.getBondedDevices(AdapterService.java:2740)\r\n```\r\n\r\nWhen the app is opened the second time and tries to connect with a paired device, the error shows:\r\n\r\n```lang-none\r\nFATAL EXCEPTION: Thread-3\r\nProcess: com.example.angelhand, PID: 30081\r\njava.lang.SecurityException: Need android.permission.BLUETOOTH_SCAN permission for android.content.AttributionSource@4edec11c: AdapterService cancelDiscovery\r\n    at com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:473)\r\n    at com.android.bluetooth.Utils.checkScanPermissionForDataDelivery(Utils.java:532)\r\n```\r\n\r\nIf I log the socket I get, android.bluetooth.BluetoothSocket@ff3109c.\r\n\r\nAgain when I open and try to connect, the error shows:\r\n\r\n```lang-none\r\nrun:\r\njava.io.IOException: read failed, socket might closed or timeout, read ret: -1\r\n    at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:815)\r\n```\r\n\r\nMy activity code:\r\n\r\n```\r\npublic class MainActivity extends AppCompatActivity {\r\n    private String TAG = &quot;MainActivity&quot;;\r\n    private RecyclerView recyclerView;\r\n    RelativeLayout developer_btn;\r\n    public ImageButton disconnect_btn, refresh_btn;\r\n    private DeviceListAdapter deviceListAdapter;\r\n    private List deviceList = new ArrayList&lt;&gt;();\r\n    private DeviceListModel deviceListModel;\r\n    MyApp myApp;\r\n    BluetoothAdapter bluetoothAdapter;\r\n    BluetoothManager bluetoothManager;\r\n    BluetoothDevice[] btArray;\r\n    Set&lt;BluetoothDevice&gt; set_pairedDevices;\r\n    BluetoothSocket bsocket;\r\n    public TextView connect_status,no_device_msg;\r\n    public RelativeLayout device_item, connect_layout;\r\n    public boolean ble_connected = false;\r\n    Object[] bondedObj;\r\n    public static final int STATE_LISTENING = 1;\r\n    public static final int STATE_CONNECTING = 2;\r\n    public static final int STATE_CONNECTED = 3;\r\n    public static final int STATE_CONNECTION_FAILED = 4;\r\n    public static final int STATE_MESSAGE_RECEIVED = 5;\r\n    public static final int STATE_MESSAGE_WRITE = 6;\r\n    private final static int MESSAGE_READ = 7;\r\n    public static final int ACTION_DEVICE_CONNECT = 1;\r\n    public static final int ACTION_DEVICE_DISCONNECT = 2;\r\n    public static final int REQUEST_ENABLE_BLUETOOTH = 1;\r\n\r\n    private static final UUID MY_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        myApp = ((MyApp) getApplicationContext());\r\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        connect_layout = findViewById(R.id.connect_layout);\r\n        developer_btn = findViewById(R.id.developer_btn);\r\n        disconnect_btn = findViewById(R.id.disconnect_btn);\r\n        refresh_btn = findViewById(R.id.refresh_btn);\r\n        no_device_msg = findViewById(R.id.no_device_msg);\r\n        recyclerView = findViewById(R.id.device_list_recycler_view);\r\n        deviceListAdapter = new DeviceListAdapter(deviceList, this, myApp);\r\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(this);\r\n        recyclerView.setLayoutManager(layoutManager);\r\n        recyclerView.setAdapter(deviceListAdapter);\r\n        initBluetooth();\r\n        no_device_msg.setVisibility(View.GONE);\r\n        disconnect_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                TextView tv = null;\r\n                deviceConnection(tv, null, 0, ACTION_DEVICE_DISCONNECT);\r\n\r\n            }\r\n        });\r\n        refresh_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                findPairedDevices();\r\n            }\r\n        });\r\n        developer_btn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                if (ble_connected) {\r\n                    Intent i = new Intent(MainActivity.this, DeveloperActivity.class);\r\n                    startActivity(i);\r\n                } else {\r\n                    Snackbar snackbar = Snackbar.make(connect_layout,&quot;Connect to a device&quot;, 500);\r\n                    snackbar.show();\r\n                    Intent i = new Intent(MainActivity.this, DeveloperActivity.class);\r\n                    startActivity(i);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    public void onResume() {\r\n        super.onResume();\r\n        deviceConnection(null, null, 0, ACTION_DEVICE_DISCONNECT);\r\n    }\r\n\r\n    private void initBluetooth() {\r\n        if (bluetoothAdapter == null) {\r\n            // Device doesn&#39;t support Bluetooth\r\n            Toast.makeText(getApplicationContext(), &quot;Your Device doesn&#39;t support bluetooth&quot;, Toast.LENGTH_SHORT).show();\r\n        }\r\n        if (!bluetoothAdapter.isEnabled()) {\r\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\r\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\r\n                    //findPairedDevices();\r\n                }\r\n            }\r\n            if (Build.VERSION.SDK_INT &lt; 31) {\r\n                startActivityForResult(enableBtIntent, REQUEST_ENABLE_BLUETOOTH);\r\n            }\r\n        } else {\r\n            findPairedDevices();\r\n        }\r\n    }\r\n\r\n    public void findPairedDevices() {\r\n        no_device_msg.setVisibility(View.GONE);\r\n        deviceList.clear();\r\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n            if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\r\n            }\r\n        }\r\n        bluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\r\n        if (Build.VERSION.SDK_INT &gt;= 31) {\r\n            bluetoothAdapter = bluetoothManager.getAdapter();\r\n        } else {\r\n            bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n        }\r\n        set_pairedDevices = bluetoothAdapter.getBondedDevices();\r\n        Log.w(TAG, &quot;findPairedDevices set_paired: &quot; + set_pairedDevices);\r\n        if (set_pairedDevices.size() &gt; 0) {\r\n            no_device_msg.setVisibility(View.GONE);\r\n            for (BluetoothDevice device : set_pairedDevices) {\r\n                String deviceName = device.getName();\r\n                String deviceHardwareAddress = device.getAddress();\r\n                bondedObj = set_pairedDevices.toArray();\r\n                deviceListModel = new DeviceListModel(deviceName, deviceHardwareAddress);\r\n                deviceList.add(deviceListModel);\r\n                deviceListAdapter.notifyDataSetChanged();\r\n            }\r\n        }\r\n        else{\r\n            no_device_msg.setVisibility(View.VISIBLE);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (resultCode == RESULT_OK) {\r\n            findPairedDevices();\r\n        }\r\n    }\r\n\r\n\r\n    //Handler\r\n    Handler handler = new Handler(new Handler.Callback() {\r\n        @Override\r\n        public boolean handleMessage(@NonNull Message msg) {\r\n            switch (msg.what) {\r\n                case STATE_LISTENING:\r\n                    break;\r\n                case STATE_CONNECTING:\r\n                    connect_status.setText(&quot;Connecting...&quot;);\r\n                    connect_status.setTextColor(getResources().getColor(R.color.device_connecting));\r\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_bg_active));\r\n                    ble_connected = false;\r\n                    break;\r\n                case STATE_CONNECTED:\r\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_bg_connected));\r\n                    connect_status.setTextColor(getResources().getColor(R.color.ok_green));\r\n                    connect_status.setText(&quot;Connected&quot;);\r\n                    ble_connected = true;\r\n                    break;\r\n                case STATE_CONNECTION_FAILED:\r\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_item_bg));\r\n                    connect_status.setTextColor(getResources().getColor(R.color.error_red));\r\n                    connect_status.setText(&quot;Connection failed&quot;);\r\n                    ble_connected = false;\r\n                    break;\r\n                case MESSAGE_READ:\r\n                    String arduinoMsg = msg.obj.toString(); // Read message from Arduino\r\n                    break;\r\n                case STATE_MESSAGE_RECEIVED:\r\n                    byte[] readBuff = (byte[]) msg.obj;\r\n                    String tmp_msg = new String(readBuff, 0, msg.arg1);\r\n                    break;\r\n                case STATE_MESSAGE_WRITE:\r\n                    break;\r\n            }\r\n            return true;\r\n        }\r\n    });\r\n\r\n\r\n    private class ConnectThread extends Thread {\r\n        private final BluetoothSocket mmSocket;\r\n        private final BluetoothDevice mmDevice;\r\n\r\n        public ConnectThread(BluetoothDevice device) {\r\n\r\n            BluetoothSocket tmp = null;\r\n            mmDevice = device;\r\n            try {\r\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n                    if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\r\n                    }\r\n                }\r\n- tmp = device.createRfcommSocketToServiceRecord(MY_UUID);\r\n            } catch (IOException e) {\r\n            }\r\n            mmSocket = tmp;\r\n            Log.w(TAG, &quot;ConnectThread: &quot;+mmSocket);\r\n        }\r\n\r\n        public void run() {\r\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\r\n                if (Build.VERSION.SDK_INT &gt;= 31) {\r\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_SCAN}, 100);\r\n                }\r\n            }\r\n            bluetoothAdapter.cancelDiscovery();\r\n            try {\r\n                handler.obtainMessage(STATE_CONNECTING).sendToTarget();\r\n                mmSocket.connect();\r\n                handler.obtainMessage(STATE_CONNECTED).sendToTarget();\r\n            } catch (IOException connectException) {\r\n                // Unable to connect; close the socket and get out\r\n                handler.obtainMessage(STATE_CONNECTION_FAILED).sendToTarget();\r\n                Log.e(TAG, &quot;run: &quot;, connectException);\r\n                try {\r\n                    mmSocket.close();\r\n                } catch (IOException closeException) { }\r\n                return;\r\n            }\r\n            bsocket = mmSocket;\r\n            myApp.setB_socket(bsocket);\r\n            myApp.setB_device_address(mmDevice.getAddress());\r\n        }\r\n\r\n        /** Will cancel an in-progress connection, and close the socket */\r\n        public void cancel() {\r\n            try {\r\n                mmSocket.close();\r\n                myApp.setB_socket(null);\r\n                myApp.setB_device_address(&quot;&quot;);\r\n                myApp.setB_device_name(&quot;&quot;);\r\n            } catch (IOException e) { }\r\n        }\r\n    }\r\n\r\n    public void deviceConnection(TextView conn_status, RelativeLayout dev_item, int position, int actionCode){\r\n        BluetoothSocket connectedSocket;\r\n        connectedSocket = myApp.getB_socket();\r\n        if(actionCode == ACTION_DEVICE_CONNECT){\r\n            connect_status = conn_status;\r\n            device_item = dev_item;\r\n            if (connectedSocket == null){\r\n                BluetoothSocket bs=null;\r\n                BluetoothDevice device = (BluetoothDevice) bondedObj[position];\r\n                ConnectThread connectThread = new ConnectThread(device);\r\n                connectThread.start();\r\n            }\r\n            else{\r\n                Log.w(TAG, &quot;deviceConnection: Already connected&quot; );\r\n                connect_status.setText(&quot;Connected&quot;);\r\n            }\r\n        }\r\n        else if(actionCode == ACTION_DEVICE_DISCONNECT){\r\n            if (connectedSocket != null){\r\n                try {\r\n                    connectedSocket.close();\r\n                    myApp.setB_socket(null);\r\n                    myApp.setB_device_address(&quot;&quot;);\r\n                    myApp.setB_device_name(&quot;&quot;);\r\n                    Snackbar snackbar = Snackbar.make(connect_layout,&quot;Disconnected&quot;, Snackbar.LENGTH_SHORT);\r\n                    snackbar.show();\r\n                    findPairedDevices();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            ble_connected = false;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nI have tried changing my [UUID][4], but it didn&#39;t work. I also tried to create socket using createInsecureRfcommSocketToServiceRecord() method, but it didn&#39;t work either.\r\n\r\nI don&#39;t know if it helps, but when I connect my phone (Android 13 which is having the said issue) to a Bluetooth headset and then when I try to connect to the desired paired device through the app, sometimes (only sometimes) the app gets connected and I&#39;m able to send and receive data.\r\n\r\nIs there another way to launch runtime permissions in Java?\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Arduino\r\n  [2]: https://en.wikipedia.org/wiki/Android_11\r\n  [3]: https://en.wikipedia.org/wiki/Android_13\r\n  [4]: https://en.wikipedia.org/wiki/Universally_unique_identifier\r\n","title":"The app crashes and is not connecting to a Bluetooth-paired device on Android 12 and greater. But it works fine on Android version 11 devices","body":"<p>I have created an app to communicate with a Bluetooth module connected to an <a href=\"https://en.wikipedia.org/wiki/Arduino\" rel=\"nofollow noreferrer\">Arduino</a>. The app works fine on <a href=\"https://en.wikipedia.org/wiki/Android_11\" rel=\"nofollow noreferrer\">Android 11</a>.</p>\n<p>But when I run the app on <a href=\"https://en.wikipedia.org/wiki/Android_13\" rel=\"nofollow noreferrer\">Android 13</a>, at first the app crashes and the log shows Android permission Bluetooth connect is required, even though I have written code to ask for permission for Bluetooth connect and Bluetooth scan.</p>\n<p>I'm only getting the popup to allow to find, connect to and determine the relative position of nearby devices and not any popup to turn on Bluetooth.</p>\n<p>When I open the app again with Bluetooth turned on manually, the paired devices are shown and when tried to connect, app crashes again and error shows permission Bluetooth scan is required.\nWhen I open the app again and try to connect, the error shows socket might closed or timed out</p>\n<p>My manifest:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;uses-permission android:name=&quot;android.permission.BLUETOOTH&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_ADMIN&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_CONNECT&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.BLUETOOTH_SCAN&quot;\n                     android:usesPermissionFlags=&quot;neverForLocation&quot;\n                     tools:targetApi=&quot;s&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.VIBRATE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_COARSE_LOCATION&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.ACCESS_FINE_LOCATION&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth&quot;\n                  android:required=&quot;true&quot;/&gt;\n    &lt;uses-feature android:name=&quot;android.hardware.bluetooth_le&quot;\n                  android:required=&quot;true&quot;/&gt;\n</code></pre>\n<p>When the app is launched, the app crashes, showing:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Caused by: java.lang.SecurityException: Need android.permission.BLUETOOTH_CONNECT permission for android.content.AttributionSource@1954ea10: AdapterService getBondedDevices\nat com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:473)\nat com.android.bluetooth.Utils.checkConnectPermissionForDataDelivery(Utils.java:505)\nat com.android.bluetooth.btservice.AdapterService$AdapterServiceBinder.getBondedDevices(AdapterService.java:2748)\nat com.android.bluetooth.btservice.AdapterService$AdapterServiceBinder.getBondedDevices(AdapterService.java:2740)\n</code></pre>\n<p>When the app is opened the second time and tries to connect with a paired device, the error shows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>FATAL EXCEPTION: Thread-3\nProcess: com.example.angelhand, PID: 30081\njava.lang.SecurityException: Need android.permission.BLUETOOTH_SCAN permission for android.content.AttributionSource@4edec11c: AdapterService cancelDiscovery\n    at com.android.bluetooth.Utils.checkPermissionForDataDelivery(Utils.java:473)\n    at com.android.bluetooth.Utils.checkScanPermissionForDataDelivery(Utils.java:532)\n</code></pre>\n<p>If I log the socket I get, android.bluetooth.BluetoothSocket@ff3109c.</p>\n<p>Again when I open and try to connect, the error shows:</p>\n<pre class=\"lang-none prettyprint-override\"><code>run:\njava.io.IOException: read failed, socket might closed or timeout, read ret: -1\n    at android.bluetooth.BluetoothSocket.readAll(BluetoothSocket.java:815)\n</code></pre>\n<p>My activity code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\n    private String TAG = &quot;MainActivity&quot;;\n    private RecyclerView recyclerView;\n    RelativeLayout developer_btn;\n    public ImageButton disconnect_btn, refresh_btn;\n    private DeviceListAdapter deviceListAdapter;\n    private List deviceList = new ArrayList&lt;&gt;();\n    private DeviceListModel deviceListModel;\n    MyApp myApp;\n    BluetoothAdapter bluetoothAdapter;\n    BluetoothManager bluetoothManager;\n    BluetoothDevice[] btArray;\n    Set&lt;BluetoothDevice&gt; set_pairedDevices;\n    BluetoothSocket bsocket;\n    public TextView connect_status,no_device_msg;\n    public RelativeLayout device_item, connect_layout;\n    public boolean ble_connected = false;\n    Object[] bondedObj;\n    public static final int STATE_LISTENING = 1;\n    public static final int STATE_CONNECTING = 2;\n    public static final int STATE_CONNECTED = 3;\n    public static final int STATE_CONNECTION_FAILED = 4;\n    public static final int STATE_MESSAGE_RECEIVED = 5;\n    public static final int STATE_MESSAGE_WRITE = 6;\n    private final static int MESSAGE_READ = 7;\n    public static final int ACTION_DEVICE_CONNECT = 1;\n    public static final int ACTION_DEVICE_DISCONNECT = 2;\n    public static final int REQUEST_ENABLE_BLUETOOTH = 1;\n\n    private static final UUID MY_UUID = UUID.fromString(&quot;00001101-0000-1000-8000-00805F9B34FB&quot;);\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        myApp = ((MyApp) getApplicationContext());\n        bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        connect_layout = findViewById(R.id.connect_layout);\n        developer_btn = findViewById(R.id.developer_btn);\n        disconnect_btn = findViewById(R.id.disconnect_btn);\n        refresh_btn = findViewById(R.id.refresh_btn);\n        no_device_msg = findViewById(R.id.no_device_msg);\n        recyclerView = findViewById(R.id.device_list_recycler_view);\n        deviceListAdapter = new DeviceListAdapter(deviceList, this, myApp);\n        RecyclerView.LayoutManager layoutManager = new LinearLayoutManager(this);\n        recyclerView.setLayoutManager(layoutManager);\n        recyclerView.setAdapter(deviceListAdapter);\n        initBluetooth();\n        no_device_msg.setVisibility(View.GONE);\n        disconnect_btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                TextView tv = null;\n                deviceConnection(tv, null, 0, ACTION_DEVICE_DISCONNECT);\n\n            }\n        });\n        refresh_btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                findPairedDevices();\n            }\n        });\n        developer_btn.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                if (ble_connected) {\n                    Intent i = new Intent(MainActivity.this, DeveloperActivity.class);\n                    startActivity(i);\n                } else {\n                    Snackbar snackbar = Snackbar.make(connect_layout,&quot;Connect to a device&quot;, 500);\n                    snackbar.show();\n                    Intent i = new Intent(MainActivity.this, DeveloperActivity.class);\n                    startActivity(i);\n                }\n            }\n        });\n    }\n\n    public void onResume() {\n        super.onResume();\n        deviceConnection(null, null, 0, ACTION_DEVICE_DISCONNECT);\n    }\n\n    private void initBluetooth() {\n        if (bluetoothAdapter == null) {\n            // Device doesn't support Bluetooth\n            Toast.makeText(getApplicationContext(), &quot;Your Device doesn't support bluetooth&quot;, Toast.LENGTH_SHORT).show();\n        }\n        if (!bluetoothAdapter.isEnabled()) {\n            Intent enableBtIntent = new Intent(BluetoothAdapter.ACTION_REQUEST_ENABLE);\n            if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                if (Build.VERSION.SDK_INT &gt;= 31) {\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\n                    //findPairedDevices();\n                }\n            }\n            if (Build.VERSION.SDK_INT &lt; 31) {\n                startActivityForResult(enableBtIntent, REQUEST_ENABLE_BLUETOOTH);\n            }\n        } else {\n            findPairedDevices();\n        }\n    }\n\n    public void findPairedDevices() {\n        no_device_msg.setVisibility(View.GONE);\n        deviceList.clear();\n        if (ActivityCompat.checkSelfPermission(this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n            if (Build.VERSION.SDK_INT &gt;= 31) {\n                ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\n            }\n        }\n        bluetoothManager = (BluetoothManager) getSystemService(Context.BLUETOOTH_SERVICE);\n        if (Build.VERSION.SDK_INT &gt;= 31) {\n            bluetoothAdapter = bluetoothManager.getAdapter();\n        } else {\n            bluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        }\n        set_pairedDevices = bluetoothAdapter.getBondedDevices();\n        Log.w(TAG, &quot;findPairedDevices set_paired: &quot; + set_pairedDevices);\n        if (set_pairedDevices.size() &gt; 0) {\n            no_device_msg.setVisibility(View.GONE);\n            for (BluetoothDevice device : set_pairedDevices) {\n                String deviceName = device.getName();\n                String deviceHardwareAddress = device.getAddress();\n                bondedObj = set_pairedDevices.toArray();\n                deviceListModel = new DeviceListModel(deviceName, deviceHardwareAddress);\n                deviceList.add(deviceListModel);\n                deviceListAdapter.notifyDataSetChanged();\n            }\n        }\n        else{\n            no_device_msg.setVisibility(View.VISIBLE);\n        }\n    }\n\n    @Override\n    public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        if (resultCode == RESULT_OK) {\n            findPairedDevices();\n        }\n    }\n\n\n    //Handler\n    Handler handler = new Handler(new Handler.Callback() {\n        @Override\n        public boolean handleMessage(@NonNull Message msg) {\n            switch (msg.what) {\n                case STATE_LISTENING:\n                    break;\n                case STATE_CONNECTING:\n                    connect_status.setText(&quot;Connecting...&quot;);\n                    connect_status.setTextColor(getResources().getColor(R.color.device_connecting));\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_bg_active));\n                    ble_connected = false;\n                    break;\n                case STATE_CONNECTED:\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_bg_connected));\n                    connect_status.setTextColor(getResources().getColor(R.color.ok_green));\n                    connect_status.setText(&quot;Connected&quot;);\n                    ble_connected = true;\n                    break;\n                case STATE_CONNECTION_FAILED:\n                    device_item.setBackground(getResources().getDrawable(R.drawable.device_item_bg));\n                    connect_status.setTextColor(getResources().getColor(R.color.error_red));\n                    connect_status.setText(&quot;Connection failed&quot;);\n                    ble_connected = false;\n                    break;\n                case MESSAGE_READ:\n                    String arduinoMsg = msg.obj.toString(); // Read message from Arduino\n                    break;\n                case STATE_MESSAGE_RECEIVED:\n                    byte[] readBuff = (byte[]) msg.obj;\n                    String tmp_msg = new String(readBuff, 0, msg.arg1);\n                    break;\n                case STATE_MESSAGE_WRITE:\n                    break;\n            }\n            return true;\n        }\n    });\n\n\n    private class ConnectThread extends Thread {\n        private final BluetoothSocket mmSocket;\n        private final BluetoothDevice mmDevice;\n\n        public ConnectThread(BluetoothDevice device) {\n\n            BluetoothSocket tmp = null;\n            mmDevice = device;\n            try {\n                if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n                    if (Build.VERSION.SDK_INT &gt;= 31) {\n                        ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_CONNECT}, 100);\n                    }\n                }\n- tmp = device.createRfcommSocketToServiceRecord(MY_UUID);\n            } catch (IOException e) {\n            }\n            mmSocket = tmp;\n            Log.w(TAG, &quot;ConnectThread: &quot;+mmSocket);\n        }\n\n        public void run() {\n            if (ActivityCompat.checkSelfPermission(MainActivity.this, Manifest.permission.BLUETOOTH_SCAN) != PackageManager.PERMISSION_GRANTED) {\n                if (Build.VERSION.SDK_INT &gt;= 31) {\n                    ActivityCompat.requestPermissions(MainActivity.this, new String[]{Manifest.permission.BLUETOOTH_SCAN}, 100);\n                }\n            }\n            bluetoothAdapter.cancelDiscovery();\n            try {\n                handler.obtainMessage(STATE_CONNECTING).sendToTarget();\n                mmSocket.connect();\n                handler.obtainMessage(STATE_CONNECTED).sendToTarget();\n            } catch (IOException connectException) {\n                // Unable to connect; close the socket and get out\n                handler.obtainMessage(STATE_CONNECTION_FAILED).sendToTarget();\n                Log.e(TAG, &quot;run: &quot;, connectException);\n                try {\n                    mmSocket.close();\n                } catch (IOException closeException) { }\n                return;\n            }\n            bsocket = mmSocket;\n            myApp.setB_socket(bsocket);\n            myApp.setB_device_address(mmDevice.getAddress());\n        }\n\n        /** Will cancel an in-progress connection, and close the socket */\n        public void cancel() {\n            try {\n                mmSocket.close();\n                myApp.setB_socket(null);\n                myApp.setB_device_address(&quot;&quot;);\n                myApp.setB_device_name(&quot;&quot;);\n            } catch (IOException e) { }\n        }\n    }\n\n    public void deviceConnection(TextView conn_status, RelativeLayout dev_item, int position, int actionCode){\n        BluetoothSocket connectedSocket;\n        connectedSocket = myApp.getB_socket();\n        if(actionCode == ACTION_DEVICE_CONNECT){\n            connect_status = conn_status;\n            device_item = dev_item;\n            if (connectedSocket == null){\n                BluetoothSocket bs=null;\n                BluetoothDevice device = (BluetoothDevice) bondedObj[position];\n                ConnectThread connectThread = new ConnectThread(device);\n                connectThread.start();\n            }\n            else{\n                Log.w(TAG, &quot;deviceConnection: Already connected&quot; );\n                connect_status.setText(&quot;Connected&quot;);\n            }\n        }\n        else if(actionCode == ACTION_DEVICE_DISCONNECT){\n            if (connectedSocket != null){\n                try {\n                    connectedSocket.close();\n                    myApp.setB_socket(null);\n                    myApp.setB_device_address(&quot;&quot;);\n                    myApp.setB_device_name(&quot;&quot;);\n                    Snackbar snackbar = Snackbar.make(connect_layout,&quot;Disconnected&quot;, Snackbar.LENGTH_SHORT);\n                    snackbar.show();\n                    findPairedDevices();\n                } catch (IOException e) {\n                    e.printStackTrace();\n                }\n            }\n            ble_connected = false;\n        }\n    }\n}\n</code></pre>\n<p>I have tried changing my <a href=\"https://en.wikipedia.org/wiki/Universally_unique_identifier\" rel=\"nofollow noreferrer\">UUID</a>, but it didn't work. I also tried to create socket using createInsecureRfcommSocketToServiceRecord() method, but it didn't work either.</p>\n<p>I don't know if it helps, but when I connect my phone (Android 13 which is having the said issue) to a Bluetooth headset and then when I try to connect to the desired paired device through the app, sometimes (only sometimes) the app gets connected and I'm able to send and receive data.</p>\n<p>Is there another way to launch runtime permissions in Java?</p>\n"},{"tags":["java","android","android-studio","adb","logcat"],"comments":[{"owner":{"account_id":5248259,"reputation":4894,"user_id":4193263,"display_name":"ByteHamster"},"score":0,"creation_date":1425315722,"post_id":28815356,"comment_id":45902491,"body_markdown":"Sometimes it takes 1-3 minutes after recognizing the device before the logcat is shown. Any idea on how to fix it would be great.","body":"Sometimes it takes 1-3 minutes after recognizing the device before the logcat is shown. Any idea on how to fix it would be great."},{"owner":{"account_id":1792154,"reputation":13859,"user_id":1632286,"accept_rate":94,"display_name":"squiroid"},"score":0,"creation_date":1425315863,"post_id":28815356,"comment_id":45902589,"body_markdown":"I tried it multiple times but nothing is showing inside the logcat tab while running the app instead logs are generated during debugging.","body":"I tried it multiple times but nothing is showing inside the logcat tab while running the app instead logs are generated during debugging."},{"owner":{"account_id":5607464,"reputation":1701,"user_id":4441477,"display_name":"jw_"},"score":0,"creation_date":1563167461,"post_id":28815356,"comment_id":100595583,"body_markdown":"just FYI, I restart all ,and log cat still doesn&#39;t show anything, but seems after I choose another process to show then change to the app under debug, and check &quot;Show only selected application&quot;, then it begin to show. Not sure whether these are the reasons to solve the problem.","body":"just FYI, I restart all ,and log cat still doesn&#39;t show anything, but seems after I choose another process to show then change to the app under debug, and check &quot;Show only selected application&quot;, then it begin to show. Not sure whether these are the reasons to solve the problem."},{"owner":{"account_id":7925975,"reputation":135,"user_id":5985401,"display_name":"simon"},"score":0,"creation_date":1601568774,"post_id":28815356,"comment_id":113454887,"body_markdown":"Simply restart your device developer settings","body":"Simply restart your device developer settings"}],"answers":[{"tags":[],"owner":{"account_id":1063098,"reputation":3550,"user_id":1064310,"accept_rate":100,"display_name":"Tristan"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1470286115,"creation_date":1425315678,"answer_id":28815414,"question_id":28815356,"body_markdown":" - You may be hiding it, try pressing **Alt + 6** to open Log tab.\r\n   \r\n -  Look at the log level:- it must be verbose.\r\n   \r\n -  Restart adb.\r\n   \r\n -  If that doesn&#39;t works restart the android studio.","title":"Android Studio Logcat not showing logs","body":"<ul>\n<li><p>You may be hiding it, try pressing <strong>Alt + 6</strong> to open Log tab.</p></li>\n<li><p>Look at the log level:- it must be verbose.</p></li>\n<li><p>Restart adb.</p></li>\n<li><p>If that doesn't works restart the android studio.</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":5531569,"reputation":632,"user_id":4391398,"accept_rate":21,"display_name":"Clive Sargeant"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1636339498,"creation_date":1460040242,"answer_id":36479620,"question_id":28815356,"body_markdown":"First, my problem: I was testing an app on a Samsung Galaxy A3 attached via usb cable. I was getting the usual logCat messages, including the filtered ones then all of a sudden the logCat stopped displaying filtered messages. Setting it to Verbose displayed a continues stream of messages with a message at the top left corner of the logCat stating &quot;too much output to display&quot;. \r\n\r\nI tried restarting Android Studio (with and without clearing the cache) but no luck. I then rebooted my phone and everything was back to normal. So it appeared that the attached phone was the problem, sending too much info to the logCat.","title":"Android Studio Logcat not showing logs","body":"<p>First, my problem: I was testing an app on a Samsung Galaxy A3 attached via usb cable. I was getting the usual logCat messages, including the filtered ones then all of a sudden the logCat stopped displaying filtered messages. Setting it to Verbose displayed a continues stream of messages with a message at the top left corner of the logCat stating &quot;too much output to display&quot;.</p>\n<p>I tried restarting Android Studio (with and without clearing the cache) but no luck. I then rebooted my phone and everything was back to normal. So it appeared that the attached phone was the problem, sending too much info to the logCat.</p>\n"},{"tags":[],"owner":{"account_id":7143487,"reputation":65,"user_id":5460154,"display_name":"Kapil Bhagia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1462250639,"creation_date":1462250639,"answer_id":36995760,"question_id":28815356,"body_markdown":"I had this code:\r\n\r\n     Log.e(getMyName(),message);\r\n\r\nThe problem with this was, the variable that the getter method was accessing was null. Android Studio did not give me any error about it! Seems this was silently not letting the Log.e statement to work. I checked many blogs but couldn&#39;t find the solution. This small miss wasted my complete one hour. Hope this helps someone.","title":"Android Studio Logcat not showing logs","body":"<p>I had this code:</p>\n\n<pre><code> Log.e(getMyName(),message);\n</code></pre>\n\n<p>The problem with this was, the variable that the getter method was accessing was null. Android Studio did not give me any error about it! Seems this was silently not letting the Log.e statement to work. I checked many blogs but couldn't find the solution. This small miss wasted my complete one hour. Hope this helps someone.</p>\n"},{"tags":[],"owner":{"account_id":9186257,"reputation":11,"user_id":6828358,"display_name":"Peter Loane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636339356,"creation_date":1473801744,"answer_id":39479178,"question_id":28815356,"body_markdown":"Check you don&#39;t have something in the logcat search that returns no matches, for example a non existent package name.\r\n\r\nI had renamed my packages, but left an old name in the logcat search field.\r\n\r\nResult: No logcat output visible","title":"Android Studio Logcat not showing logs","body":"<p>Check you don't have something in the logcat search that returns no matches, for example a non existent package name.</p>\n<p>I had renamed my packages, but left an old name in the logcat search field.</p>\n<p>Result: No logcat output visible</p>\n"},{"tags":[],"owner":{"account_id":7913084,"reputation":1550,"user_id":5976491,"display_name":"Cletus Ajibade"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1579830809,"creation_date":1475071665,"answer_id":39749947,"question_id":28815356,"body_markdown":"[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/qZRDn.jpg\r\n\r\nIn my case in Android 2.2, for some reason, Firebase was selected by default in the dropdown box marked above. So logs didn&#39;t drop. I just needed to change it to `No Filters`. Then it worked.\r\n\r\nI even tried restarting the logcat, that didn&#39;t work too. `No Filters` did the magic.\r\n\r\nHope this helps someone.\r\n\r\n**Edit**:\r\nYou can as well select `Show only selected application` for logcat to show only the current debugging process, i.e your app.","title":"Android Studio Logcat not showing logs","body":"<p><a href=\"https://i.stack.imgur.com/qZRDn.jpg\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qZRDn.jpg\" alt=\"enter image description here\"></a></p>\n\n<p>In my case in Android 2.2, for some reason, Firebase was selected by default in the dropdown box marked above. So logs didn't drop. I just needed to change it to <code>No Filters</code>. Then it worked.</p>\n\n<p>I even tried restarting the logcat, that didn't work too. <code>No Filters</code> did the magic.</p>\n\n<p>Hope this helps someone.</p>\n\n<p><strong>Edit</strong>:\nYou can as well select <code>Show only selected application</code> for logcat to show only the current debugging process, i.e your app.</p>\n"},{"tags":[],"owner":{"account_id":10150058,"reputation":1,"user_id":7496971,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490602929,"creation_date":1490602929,"answer_id":43041272,"question_id":28815356,"body_markdown":"I tried to switch &quot;Extended log&quot; in my device settings from &quot;Selectivly&quot; to &quot;Allowed&quot; and it helped. Now debug info appears in LogCat. ","title":"Android Studio Logcat not showing logs","body":"<p>I tried to switch \"Extended log\" in my device settings from \"Selectivly\" to \"Allowed\" and it helped. Now debug info appears in LogCat. </p>\n"},{"tags":[],"owner":{"account_id":11438977,"reputation":119,"user_id":8385256,"display_name":"Ehsan.sarshar"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1502104014,"creation_date":1502099349,"answer_id":45544013,"question_id":28815356,"body_markdown":"on The top left of logcat there is an option to choose the emulator. may it&#39;s not selected the current emulator by default. try to changing it to current emulator and it will fix.  \r\n![image](https://i.stack.imgur.com/dnTLn.png)","title":"Android Studio Logcat not showing logs","body":"<p>on The top left of logcat there is an option to choose the emulator. may it's not selected the current emulator by default. try to changing it to current emulator and it will fix.<br>\n<img src=\"https://i.stack.imgur.com/dnTLn.png\" alt=\"image\"></p>\n"},{"tags":[],"owner":{"account_id":525226,"reputation":1422,"user_id":2558241,"accept_rate":67,"display_name":"Mehrdad Salimi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1522920757,"creation_date":1512118896,"answer_id":47589836,"question_id":28815356,"body_markdown":"Besides what other guys said, look if you have written something in the search box that causes this problem(it was my case).\r\n\r\n***Note:*** Even in case of a restart, what you have written in search box won&#39;t delete and you need to delete it yourself.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/v2kn3.png","title":"Android Studio Logcat not showing logs","body":"<p>Besides what other guys said, look if you have written something in the search box that causes this problem(it was my case).</p>\n\n<p><strong><em>Note:</em></strong> Even in case of a restart, what you have written in search box won't delete and you need to delete it yourself.\n<a href=\"https://i.stack.imgur.com/v2kn3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/v2kn3.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":4367447,"reputation":26,"user_id":3562716,"display_name":"JcDelaCueva"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1517979826,"creation_date":1517979826,"answer_id":48656349,"question_id":28815356,"body_markdown":"I fixed the issue by changing the USB Options of my phone from &quot;Charging only&quot; to &quot;Transfer files (MTP)&quot;","title":"Android Studio Logcat not showing logs","body":"<p>I fixed the issue by changing the USB Options of my phone from \"Charging only\" to \"Transfer files (MTP)\"</p>\n"},{"tags":[],"owner":{"account_id":11641007,"reputation":119,"user_id":8525420,"display_name":"Aakib Jabbar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636339276,"creation_date":1527225126,"answer_id":50521917,"question_id":28815356,"body_markdown":"I had the kind of issue the way which got me the logcat to work was that I was not choosing the right filter. as I was using SQLite (Database) and in filters I had chosen Firebase.so that&#39;s why my logcat was not working.\r\n\r\n","title":"Android Studio Logcat not showing logs","body":"<p>I had the kind of issue the way which got me the logcat to work was that I was not choosing the right filter. as I was using SQLite (Database) and in filters I had chosen Firebase.so that's why my logcat was not working.</p>\n"},{"tags":[],"owner":{"account_id":6556316,"reputation":2208,"user_id":5068914,"display_name":"Mariusz Wiazowski"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1529237595,"creation_date":1529237595,"answer_id":50896520,"question_id":28815356,"body_markdown":"I have solved this issue by enabling &quot;Use libusb backend&quot; option in Android Studio -&gt; Preferences -&gt; Debugger -&gt; Android Debug Bridge (adb).[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PXnuk.jpg","title":"Android Studio Logcat not showing logs","body":"<p>I have solved this issue by enabling \"Use libusb backend\" option in Android Studio -> Preferences -> Debugger -> Android Debug Bridge (adb).<a href=\"https://i.stack.imgur.com/PXnuk.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXnuk.jpg\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6098940,"reputation":439,"user_id":4758687,"display_name":"Mabad"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1636339222,"creation_date":1529474042,"answer_id":50941158,"question_id":28815356,"body_markdown":"Restart both the emulator and Android Studio.","title":"Android Studio Logcat not showing logs","body":"<p>Restart both the emulator and Android Studio.</p>\n"},{"tags":[],"owner":{"account_id":2761710,"reputation":136,"user_id":2378475,"display_name":"djsavvy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636339422,"creation_date":1545796891,"answer_id":53927294,"question_id":28815356,"body_markdown":"Cleaning and then Rebuilding fixed it for me. Apparently when I ran, it wasn&#39;t actually rebuilding the APK, just running the one that had already been made. ","title":"Android Studio Logcat not showing logs","body":"<p>Cleaning and then Rebuilding fixed it for me. Apparently when I ran, it wasn't actually rebuilding the APK, just running the one that had already been made.</p>\n"},{"tags":[],"owner":{"account_id":1716597,"reputation":1429,"user_id":1573534,"accept_rate":50,"display_name":"Mohammad Alotol"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1636339055,"creation_date":1548856852,"answer_id":54442345,"question_id":28815356,"body_markdown":"In Logcat window reselect your device then reselect your app\r\n\r\nif it didn&#39;t appear restart adb using two commands:\r\n\r\n    adb kill-server\r\n    adb start-server","title":"Android Studio Logcat not showing logs","body":"<p>In Logcat window reselect your device then reselect your app</p>\n<p>if it didn't appear restart adb using two commands:</p>\n<pre><code>adb kill-server\nadb start-server\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7328445,"reputation":492,"user_id":5582162,"accept_rate":0,"display_name":"pravingaikwad07"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1559153349,"creation_date":1559153349,"answer_id":56366313,"question_id":28815356,"body_markdown":"Try the following Steps:-\r\n\r\n***Step 1***.\r\nGoto ***File &gt; Invalidate Caches and Restart &gt; Invalidate and Restart***.\r\nAndroid Studio will restart automatically and logcat will work as expected.\r\n\r\nRefer screenshots :\r\n\r\n[![enter image description here][1]][1]\r\n[![Click on Invalidate and Restart][2]][2]\r\n\r\n\r\n***Step 2.*** \r\nIf Step(1) didn&#39;t worked then try this :\r\nGoto Terminal &gt; cd till your platform-tools directory (eg. in Windows default location is ***C:\\Users\\&lt;username&gt;\\AppData\\Local\\Android\\Sdk\\platform-tools***).\r\nNow type following command :\r\n\r\n \r\n&gt; adb kill-server\r\n\r\n&gt; adb start-server\r\n\r\n\r\n[![enter image description here][3]][3]\r\n\r\n\r\n***Step 3:*** \r\nIf Step(1)&amp;(2) both didn&#39;t worked then simply try clicking on Re-Start Logging button available in Logcat option. Refer screenshot - (Green colour curved arrow with grey box)\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MKaYf.png\r\n  [2]: https://i.stack.imgur.com/CvLJW.png\r\n  [3]: https://i.stack.imgur.com/ViwSQ.png\r\n  [4]: https://i.stack.imgur.com/da9Nq.png","title":"Android Studio Logcat not showing logs","body":"<p>Try the following Steps:-</p>\n\n<p><strong><em>Step 1</em></strong>.\nGoto <strong><em>File > Invalidate Caches and Restart > Invalidate and Restart</em></strong>.\nAndroid Studio will restart automatically and logcat will work as expected.</p>\n\n<p>Refer screenshots :</p>\n\n<p><a href=\"https://i.stack.imgur.com/MKaYf.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MKaYf.png\" alt=\"enter image description here\"></a>\n<a href=\"https://i.stack.imgur.com/CvLJW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/CvLJW.png\" alt=\"Click on Invalidate and Restart\"></a></p>\n\n<p><strong><em>Step 2.</em></strong> \nIf Step(1) didn't worked then try this :\nGoto Terminal > cd till your platform-tools directory (eg. in Windows default location is <strong><em>C:\\Users\\\\AppData\\Local\\Android\\Sdk\\platform-tools</em></strong>).\nNow type following command :</p>\n\n<blockquote>\n  <p>adb kill-server</p>\n  \n  <p>adb start-server</p>\n</blockquote>\n\n<p><a href=\"https://i.stack.imgur.com/ViwSQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/ViwSQ.png\" alt=\"enter image description here\"></a></p>\n\n<p><strong><em>Step 3:</em></strong> \nIf Step(1)&amp;(2) both didn't worked then simply try clicking on Re-Start Logging button available in Logcat option. Refer screenshot - (Green colour curved arrow with grey box)</p>\n\n<p><a href=\"https://i.stack.imgur.com/da9Nq.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/da9Nq.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":6925725,"reputation":10963,"user_id":5316872,"display_name":"Keshav Gera"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1560497771,"creation_date":1559653617,"answer_id":56444560,"question_id":28815356,"body_markdown":"    You need to press Alt+6 twice to restart the logcat window. That way it&#39;ll show the log outputs.\r\n    \r\n    \r\n    Go to your sdk Folder --&gt; Platform tools --&gt;  adb  click 2 times \r\n    \r\n    using this adb server restart again \r\n    \r\n   **Please check your Sdk Location My Location is d drive Please See This**\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/I6YNb.png\r\n  [2]: https://i.stack.imgur.com/gQchW.png","title":"Android Studio Logcat not showing logs","body":"<pre><code>You need to press Alt+6 twice to restart the logcat window. That way it'll show the log outputs.\n\n\nGo to your sdk Folder --&gt; Platform tools --&gt;  adb  click 2 times \n\nusing this adb server restart again \n</code></pre>\n\n<p><strong>Please check your Sdk Location My Location is d drive Please See This</strong></p>\n\n<p><a href=\"https://i.stack.imgur.com/I6YNb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/I6YNb.png\" alt=\"enter image description here\"></a></p>\n\n<p><a href=\"https://i.stack.imgur.com/gQchW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gQchW.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":16510165,"reputation":131,"user_id":11929167,"display_name":"jaiminkumar patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1566198474,"creation_date":1566194697,"answer_id":57551196,"question_id":28815356,"body_markdown":"I had the same issue, and I resolved it by the following actions:\r\n\r\nFirst, open the terminal in android studio and navigate to the following path:\r\n\r\n&gt; C:\\Users\\user_name\\AppData\\Local\\Android\\Sdk\\platform-tools\r\n\r\nSecond, enter the command: `adb reboot`.\r\n\r\nIt takes about 2 minutes, but now logcat is functioning again and showing every logcat.","title":"Android Studio Logcat not showing logs","body":"<p>I had the same issue, and I resolved it by the following actions:</p>\n\n<p>First, open the terminal in android studio and navigate to the following path:</p>\n\n<blockquote>\n  <p>C:\\Users\\user_name\\AppData\\Local\\Android\\Sdk\\platform-tools</p>\n</blockquote>\n\n<p>Second, enter the command: <code>adb reboot</code>.</p>\n\n<p>It takes about 2 minutes, but now logcat is functioning again and showing every logcat.</p>\n"},{"tags":[],"owner":{"account_id":14235299,"reputation":629,"user_id":10387434,"display_name":"Leonid Ivankin"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1636339153,"creation_date":1571641330,"answer_id":58481279,"question_id":28815356,"body_markdown":"Helped restart the device (HTC)","title":"Android Studio Logcat not showing logs","body":"<p>Helped restart the device (HTC)</p>\n"},{"tags":[],"owner":{"account_id":18520334,"reputation":1,"user_id":13690946,"display_name":"StasP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591401019,"creation_date":1591401019,"answer_id":62225656,"question_id":28815356,"body_markdown":"This problem appeared after reinstalling (changing) GitHub in Android Studio.\r\nit happened when I connected the GitHub Desktop (git.exe) to the Android Studio. And right after that logcat fell.\r\n\r\nSolution: commit + push = fixed logcat))\r\n\r\nI did not understand how it works, but it is a fact\r\n","title":"Android Studio Logcat not showing logs","body":"<p>This problem appeared after reinstalling (changing) GitHub in Android Studio.\nit happened when I connected the GitHub Desktop (git.exe) to the Android Studio. And right after that logcat fell.</p>\n\n<p>Solution: commit + push = fixed logcat))</p>\n\n<p>I did not understand how it works, but it is a fact</p>\n"},{"tags":[],"owner":{"account_id":14400032,"reputation":1,"user_id":10402058,"display_name":"Saumia Singhal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1592244152,"creation_date":1592244152,"answer_id":62394228,"question_id":28815356,"body_markdown":"I had the same problem. I tried killing and restarting the adb-server, but it didn&#39;t help. I deleted the debug apk of the app in the path:\r\n\r\n    &lt;your_app&gt;/&lt;your_app&gt;_app/build/outputs/apk/debug/\r\n\r\nAnd run the project again. It solved the problem for me.\r\n","title":"Android Studio Logcat not showing logs","body":"<p>I had the same problem. I tried killing and restarting the adb-server, but it didn't help. I deleted the debug apk of the app in the path:</p>\n\n<pre><code>&lt;your_app&gt;/&lt;your_app&gt;_app/build/outputs/apk/debug/\n</code></pre>\n\n<p>And run the project again. It solved the problem for me.</p>\n"},{"tags":[],"owner":{"account_id":14888926,"reputation":333,"user_id":10751265,"display_name":"necip"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1611388087,"creation_date":1611388087,"answer_id":65856942,"question_id":28815356,"body_markdown":"**For real device, not for the emulator:**\r\n\r\nThe only thing that I did was unplug the USB cable then plugged it in again. And it worked.","title":"Android Studio Logcat not showing logs","body":"<p><strong>For real device, not for the emulator:</strong></p>\n<p>The only thing that I did was unplug the USB cable then plugged it in again. And it worked.</p>\n"},{"tags":[],"owner":{"account_id":194169,"reputation":49718,"user_id":436341,"accept_rate":67,"display_name":"live-love"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613268360,"creation_date":1613268360,"answer_id":66191788,"question_id":28815356,"body_markdown":"If your app has crashed, there is a dropdown that has 2 process, you have to select the other process that is dead, so you can see the error message:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/XxMGI.png","title":"Android Studio Logcat not showing logs","body":"<p>If your app has crashed, there is a dropdown that has 2 process, you have to select the other process that is dead, so you can see the error message:</p>\n<p><a href=\"https://i.stack.imgur.com/XxMGI.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XxMGI.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":7376724,"reputation":5796,"user_id":5615038,"accept_rate":86,"display_name":"Fangxing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1614157957,"creation_date":1614157957,"answer_id":66347812,"question_id":28815356,"body_markdown":"In my case when select `No Filters`, I see\r\n\r\n```\r\nlogcat: Unexpected EOF!\r\n```\r\n\r\nthen I fixed it by: \r\n```\r\nadb logcat -G 100M\r\n\r\n```\r\n\r\nSee https://stackoverflow.com/questions/48689930/logcat-crashes-with-error-unexpected-eof/48704727","title":"Android Studio Logcat not showing logs","body":"<p>In my case when select <code>No Filters</code>, I see</p>\n<pre><code>logcat: Unexpected EOF!\n</code></pre>\n<p>then I fixed it by:</p>\n<pre><code>adb logcat -G 100M\n\n</code></pre>\n<p>See <a href=\"https://stackoverflow.com/questions/48689930/logcat-crashes-with-error-unexpected-eof/48704727\">Logcat crashes with error: unexpected EOF</a></p>\n"},{"tags":[],"owner":{"account_id":17020749,"reputation":1278,"user_id":12313402,"display_name":"Vijay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1621669315,"creation_date":1621668208,"answer_id":67647076,"question_id":28815356,"body_markdown":"A better approach (for ADB wifi and USB both )and it Always works Magically!\r\n\r\nFirst, run the app:\r\n \r\n[![enter image description here][1]][1]\r\n\r\nThen stop before it launch the app: [![enter image description here][2]][2]\r\n\r\nYou have to stop as soon as the red stop button becomes red from gray (which happens after Gradle build complete). In this way, you will start seeing logs, errors everything in the run tab. There is **no need** to unplug and plug USB. No need to restart ADB server.\r\n\r\nMake sure you repeat this process until you see the logs (usually takes 1 or 2 repeats) (One request - Please upvote)\r\n\r\n**Second Master Approach:**\r\n\r\nIn your emulator or android device, launch the app manually and close it manually. Then launch it from android studio.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7TSXy.png\r\n  [2]: https://i.stack.imgur.com/aDebU.png","title":"Android Studio Logcat not showing logs","body":"<p>A better approach (for ADB wifi and USB both )and it Always works Magically!</p>\n<p>First, run the app:</p>\n<p><a href=\"https://i.stack.imgur.com/7TSXy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7TSXy.png\" alt=\"enter image description here\" /></a></p>\n<p>Then stop before it launch the app: <a href=\"https://i.stack.imgur.com/aDebU.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/aDebU.png\" alt=\"enter image description here\" /></a></p>\n<p>You have to stop as soon as the red stop button becomes red from gray (which happens after Gradle build complete). In this way, you will start seeing logs, errors everything in the run tab. There is <strong>no need</strong> to unplug and plug USB. No need to restart ADB server.</p>\n<p>Make sure you repeat this process until you see the logs (usually takes 1 or 2 repeats) (One request - Please upvote)</p>\n<p><strong>Second Master Approach:</strong></p>\n<p>In your emulator or android device, launch the app manually and close it manually. Then launch it from android studio.</p>\n"},{"tags":[],"owner":{"account_id":5860942,"reputation":1,"user_id":4616666,"display_name":"evoships"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636339614,"creation_date":1630564072,"answer_id":69025146,"question_id":28815356,"body_markdown":"I tried all steps and debugging just to find out that I had accidently typed a space in the filter.\r\n\r\nMake sure that in your Logcat Windows a space is not chosen as a Filter.","title":"Android Studio Logcat not showing logs","body":"<p>I tried all steps and debugging just to find out that I had accidently typed a space in the filter.</p>\n<p>Make sure that in your Logcat Windows a space is not chosen as a Filter.</p>\n"},{"tags":[],"owner":{"account_id":22174051,"reputation":11,"user_id":16418914,"display_name":"Aditya Lochan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655216514,"creation_date":1655216514,"answer_id":72618659,"question_id":28815356,"body_markdown":"There will be a search bar, keep it empty. It worked in my case.","title":"Android Studio Logcat not showing logs","body":"<p>There will be a search bar, keep it empty. It worked in my case.</p>\n"},{"tags":[],"owner":{"account_id":19527353,"reputation":1,"user_id":14287914,"display_name":"Mohammed Afs23"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1655444217,"creation_date":1655297907,"answer_id":72631857,"question_id":28815356,"body_markdown":"Don&#39;t do anything, if you run app in emulator or device just uninstall and reinstall the app. Done.","title":"Android Studio Logcat not showing logs","body":"<p>Don't do anything, if you run app in emulator or device just uninstall and reinstall the app. Done.</p>\n"},{"tags":[],"owner":{"account_id":7894011,"reputation":1575,"user_id":6086532,"display_name":"artenson.art98"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660385342,"creation_date":1660385342,"answer_id":73343331,"question_id":28815356,"body_markdown":"Try restarting ADB using the below commands:\r\n\r\n```\r\nadb kill-server\r\nadb start-server\r\n```\r\n","title":"Android Studio Logcat not showing logs","body":"<p>Try restarting ADB using the below commands:</p>\n<pre><code>adb kill-server\nadb start-server\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15970616,"reputation":191,"user_id":11524873,"display_name":"Aishwarya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683284304,"creation_date":1683284304,"answer_id":76181459,"question_id":28815356,"body_markdown":"**File --&gt; Invalidate caches/Restart**\r\n\r\nThis solved my issue.","title":"Android Studio Logcat not showing logs","body":"<p><strong>File --&gt; Invalidate caches/Restart</strong></p>\n<p>This solved my issue.</p>\n"},{"tags":[],"owner":{"account_id":1008209,"reputation":119,"user_id":1021356,"display_name":"Srikanth Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688993349,"creation_date":1688993349,"answer_id":76653912,"question_id":28815356,"body_markdown":"Simple invalidate cache and restart worked for me. ","title":"Android Studio Logcat not showing logs","body":"<p>Simple invalidate cache and restart worked for me.</p>\n"}],"owner":{"account_id":1792154,"reputation":13859,"user_id":1632286,"accept_rate":94,"display_name":"squiroid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":93205,"favorite_count":0,"down_vote_count":0,"up_vote_count":45,"accepted_answer_id":39749947,"answer_count":30,"score":45,"last_activity_date":1688993349,"creation_date":1425315504,"question_id":28815356,"body_markdown":"There is very awkward thing I am facing. Logcat is shown in debugging application, but while running (not debugging) application, it is not showing Logcat.\r\n\r\nI tried restarting it but nothing is happening.\r\n","title":"Android Studio Logcat not showing logs","body":"<p>There is very awkward thing I am facing. Logcat is shown in debugging application, but while running (not debugging) application, it is not showing Logcat.</p>\n<p>I tried restarting it but nothing is happening.</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":130645,"reputation":81695,"user_id":330057,"accept_rate":77,"display_name":"corsiKa"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1298502430,"creation_date":1298502430,"answer_id":5098447,"question_id":5098429,"body_markdown":"the simplest way would be iterate through the String and count them.\r\n\r\n    int commas = 0;\r\n    for(int i = 0; i &lt; helloWorld.length(); i++) {\r\n        if(helloWorld.charAt(i) == &#39;,&#39;) commas++;\r\n    }\r\n    \r\n    System.out.println(helloWorld + &quot; has &quot; + commas + &quot; commas!&quot;);","title":"Java - Count number of symbols in string","body":"<p>the simplest way would be iterate through the String and count them.</p>\n\n<pre><code>int commas = 0;\nfor(int i = 0; i &lt; helloWorld.length(); i++) {\n    if(helloWorld.charAt(i) == ',') commas++;\n}\n\nSystem.out.println(helloWorld + \" has \" + commas + \" commas!\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":97818,"reputation":114824,"user_id":265143,"accept_rate":72,"display_name":"P&#233;ter T&#246;r&#246;k"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1298502493,"creation_date":1298502493,"answer_id":5098456,"question_id":5098429,"body_markdown":"    String[] tokens = helloWorld.split(&quot;,&quot;);\r\n    System.out.println(&quot;Number of commas: &quot; + (tokens.length - 1));\r\n","title":"Java - Count number of symbols in string","body":"<pre><code>String[] tokens = helloWorld.split(\",\");\nSystem.out.println(\"Number of commas: \" + (tokens.length - 1));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":279561,"reputation":26273,"user_id":574799,"accept_rate":74,"display_name":"lukastymo"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1298502592,"creation_date":1298502592,"answer_id":5098477,"question_id":5098429,"body_markdown":"    int numberOfCommas = helloWorld .replaceAll(&quot;[^,]&quot;,&quot;&quot;).length();  \r\n\r\nMore implementation you can find in [this site][1]\r\n\r\n\r\n  [1]: http://www.codecodex.com/wiki/Count_the_number_of_occurrences_of_a_specific_character_in_a_string","title":"Java - Count number of symbols in string","body":"<pre><code>int numberOfCommas = helloWorld .replaceAll(\"[^,]\",\"\").length();  \n</code></pre>\n\n<p>More implementation you can find in <a href=\"http://www.codecodex.com/wiki/Count_the_number_of_occurrences_of_a_specific_character_in_a_string\" rel=\"noreferrer\">this site</a></p>\n"},{"tags":[],"owner":{"account_id":114715,"reputation":4250,"user_id":301525,"accept_rate":90,"display_name":"m0s"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1298502607,"creation_date":1298502607,"answer_id":5098481,"question_id":5098429,"body_markdown":"Not so simple but shorter way\r\n\r\n    String str = &quot;One,Two,Three,Four!&quot;;  \r\n    int num = str.replaceAll(&quot;[^,]&quot;,&quot;&quot;).length();\r\n\r\n ","title":"Java - Count number of symbols in string","body":"<p>Not so simple but shorter way</p>\n\n<pre><code>String str = \"One,Two,Three,Four!\";  \nint num = str.replaceAll(\"[^,]\",\"\").length();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5813722,"reputation":721,"user_id":4584031,"display_name":"Mahfuz Ahmed"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1456656873,"creation_date":1451802784,"answer_id":34573989,"question_id":5098429,"body_markdown":"If you can import com.lakota.utils.StringUtils\r\nthen it&#39;s so simple.\r\nImport this&gt; import com.lakota.utils.StringUtils;\r\n    \r\n    int count = StringUtils.countMatches(&quot;One,Two,Three,Four!&quot;, &quot;,&quot;);\r\n\tSystem.out.println(&quot;total comma &quot;+ count);","title":"Java - Count number of symbols in string","body":"<p>If you can import com.lakota.utils.StringUtils\nthen it's so simple.\nImport this> import com.lakota.utils.StringUtils;</p>\n\n<pre><code>int count = StringUtils.countMatches(\"One,Two,Three,Four!\", \",\");\nSystem.out.println(\"total comma \"+ count);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1232443,"reputation":111,"user_id":1196726,"accept_rate":78,"display_name":"Undertaker"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688993343,"creation_date":1688993343,"answer_id":76653910,"question_id":5098429,"body_markdown":"Using StringUtils:\r\n\r\n    int count = StringUtils.countMatches(&quot;elephant&quot;, &quot;e&quot;);\r\n    assertEquals(2, count);\r\nUsing Java 8:\r\n\r\n    String someString = &quot;elephant&quot;;\r\n    long count = someString.chars().filter(ch -&gt; ch == &#39;e&#39;).count();\r\n    assertEquals(2, count);\r\n\r\n    long count2 = someString.codePoints().filter(ch -&gt; ch == &#39;e&#39;).count();\r\n    assertEquals(2, count2);","title":"Java - Count number of symbols in string","body":"<p>Using StringUtils:</p>\n<pre><code>int count = StringUtils.countMatches(&quot;elephant&quot;, &quot;e&quot;);\nassertEquals(2, count);\n</code></pre>\n<p>Using Java 8:</p>\n<pre><code>String someString = &quot;elephant&quot;;\nlong count = someString.chars().filter(ch -&gt; ch == 'e').count();\nassertEquals(2, count);\n\nlong count2 = someString.codePoints().filter(ch -&gt; ch == 'e').count();\nassertEquals(2, count2);\n</code></pre>\n"}],"owner":{"account_id":101237,"reputation":17866,"user_id":272501,"accept_rate":96,"display_name":"test"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":21271,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":5098447,"answer_count":6,"score":9,"last_activity_date":1688993343,"creation_date":1298502277,"question_id":5098429,"body_markdown":"Let&#39;s say I have this string:\r\n\r\n    String helloWorld = &quot;One,Two,Three,Four!&quot;;\r\n\r\nHow can I make it so it counts the number of commas in `String helloWorld`?","title":"Java - Count number of symbols in string","body":"<p>Let's say I have this string:</p>\n\n<pre><code>String helloWorld = \"One,Two,Three,Four!\";\n</code></pre>\n\n<p>How can I make it so it counts the number of commas in <code>String helloWorld</code>?</p>\n"},{"tags":["java","generics","types","compiler-errors","type-inference"],"comments":[{"owner":{"account_id":5998820,"reputation":12656,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1688664976,"post_id":76628913,"comment_id":135107748,"body_markdown":"Interesting to note that the Eclipse IDE reports no issues and runs this code, whereas JDK20 javac reports the error you show.","body":"Interesting to note that the Eclipse IDE reports no issues and runs this code, whereas JDK20 javac reports the error you show."},{"owner":{"account_id":107323,"reputation":1473,"user_id":285436,"accept_rate":84,"display_name":"firas"},"score":0,"creation_date":1688711784,"post_id":76628913,"comment_id":135113121,"body_markdown":"I tested it on JDK 11 and 19 (OpenJDK) and they both reject the code.","body":"I tested it on JDK 11 and 19 (OpenJDK) and they both reject the code."}],"answers":[{"tags":[],"owner":{"display_name":"user18473608"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688993341,"creation_date":1688976651,"answer_id":76651857,"question_id":76628913,"body_markdown":"This inference incosistence is due to lambda expressions. You can get explanations in [this mail on OpenJDK.com][1] (subject: *JDK-8219318 (???): inferred type does not conform to upper bound(s) when collecting to a HashMap*).\r\n\r\nMaybe new Java compilers (javac) have solved this problem.\r\n\r\nThat problem can be solved if you add explicit type. Examples:\r\n```java\r\nf((ArrayList&lt;? extends MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\r\n\r\nf((ArrayList&lt;MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\r\n\r\nf((List&lt;? extends MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\r\n\r\nf((List&lt;MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\r\n```\r\n\r\nAlso, you can provide an implementation of Supplier. In this case, you don&#39;t need to add explicit type. Example of anonymous class:\r\n\r\n```java\r\nf(l.stream().collect(Collectors.toCollection(new Supplier&lt;List&lt;MyInt&gt;&gt;(){\r\n   @Override\r\n   public List&lt;MyInt&gt; get() {\r\n   return new ArrayList&lt;MyInt&gt;();\r\n  }\r\n})));\r\n```\r\n\r\n\r\n  [1]: https://mail.openjdk.org/pipermail/compiler-dev/2019-December/014098.html","title":"Calling a function with unbounded generics with L-Value and R-Value","body":"<p>This inference incosistence is due to lambda expressions. You can get explanations in <a href=\"https://mail.openjdk.org/pipermail/compiler-dev/2019-December/014098.html\" rel=\"nofollow noreferrer\">this mail on OpenJDK.com</a> (subject: <em>JDK-8219318 (???): inferred type does not conform to upper bound(s) when collecting to a HashMap</em>).</p>\n<p>Maybe new Java compilers (javac) have solved this problem.</p>\n<p>That problem can be solved if you add explicit type. Examples:</p>\n<pre class=\"lang-java prettyprint-override\"><code>f((ArrayList&lt;? extends MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\n\nf((ArrayList&lt;MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\n\nf((List&lt;? extends MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\n\nf((List&lt;MyInt&gt;) l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\n</code></pre>\n<p>Also, you can provide an implementation of Supplier. In this case, you don't need to add explicit type. Example of anonymous class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>f(l.stream().collect(Collectors.toCollection(new Supplier&lt;List&lt;MyInt&gt;&gt;(){\n   @Override\n   public List&lt;MyInt&gt; get() {\n   return new ArrayList&lt;MyInt&gt;();\n  }\n})));\n</code></pre>\n"}],"owner":{"account_id":107323,"reputation":1473,"user_id":285436,"accept_rate":84,"display_name":"firas"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":1,"up_vote_count":8,"accepted_answer_id":76651857,"answer_count":1,"score":7,"last_activity_date":1688993341,"creation_date":1688646991,"question_id":76628913,"body_markdown":"I don&#39;t **fully** understand why the following code, doesn&#39;t work:\r\n\r\n```java\r\npackage org.example;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.Arrays;\r\nimport java.util.List;\r\nimport java.util.stream.Collectors;\r\n\r\npublic class Main {\r\n\r\n    public interface MyInt&lt;E&gt; {\r\n    }\r\n\r\n    public static final class MyNum&lt;E&gt; implements MyInt&lt;E&gt; {\r\n        private E privados;\r\n    }\r\n\r\n    public static void f(List&lt;? extends MyInt&gt; l) {\r\n        System.out.println(&quot;from List&lt;?&gt;&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        var m = new MyNum();\r\n        List&lt;MyNum&gt; l = Arrays.asList(m);\r\n\r\n        ArrayList&lt;MyInt&gt; r = l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new));\r\n        f(r);\r\n        f(l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\r\n    }\r\n}\r\n```\r\n\r\nThe call `f(r)` passing the l-value works, but the call to the r-value version in the next line doesn&#39;t.\r\n\r\nIt is clear that the constraint solving process happening in the compiler is happy when we have a specific `ArrayList&lt;MyInt&gt;` enforced by the programmer, but when we ask it to do the constraint solving end-to-end by passing the result of `collect` directly to `f`, the compiler would send an error like this:\r\n\r\n```\r\njava: incompatible types: inferred type does not conform to upper bound(s)\r\n    inferred: java.lang.Object&amp;java.util.List&lt;? extends org.example.Main.MyInt&gt;&amp;java.util.Collection&lt;org.example.Main.MyNum&gt;\r\n    upper bound(s): java.util.Collection&lt;org.example.Main.MyNum&gt;,java.util.List&lt;? extends org.example.Main.MyInt&gt;,java.lang.Object\r\n```\r\n\r\nThe only differences between inferred vs upper bound (from the error message):\r\n\r\n1. the use of `&amp;` vs `,` \r\n1. The order of objects (reversed)\r\n\r\nI am assuming that the order is unimportant (they&#39;re sets) and that the `&amp;` and `,` have special meaning.\r\n\r\nSomeone has a more thorough less &quot;hand-wavy&quot; explanation of what&#39;s happening?","title":"Calling a function with unbounded generics with L-Value and R-Value","body":"<p>I don't <strong>fully</strong> understand why the following code, doesn't work:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example;\n\nimport java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\npublic class Main {\n\n    public interface MyInt&lt;E&gt; {\n    }\n\n    public static final class MyNum&lt;E&gt; implements MyInt&lt;E&gt; {\n        private E privados;\n    }\n\n    public static void f(List&lt;? extends MyInt&gt; l) {\n        System.out.println(&quot;from List&lt;?&gt;&quot;);\n    }\n\n    public static void main(String[] args) {\n        var m = new MyNum();\n        List&lt;MyNum&gt; l = Arrays.asList(m);\n\n        ArrayList&lt;MyInt&gt; r = l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new));\n        f(r);\n        f(l.stream().collect(Collectors.toCollection(ArrayList&lt;MyInt&gt;::new)));\n    }\n}\n</code></pre>\n<p>The call <code>f(r)</code> passing the l-value works, but the call to the r-value version in the next line doesn't.</p>\n<p>It is clear that the constraint solving process happening in the compiler is happy when we have a specific <code>ArrayList&lt;MyInt&gt;</code> enforced by the programmer, but when we ask it to do the constraint solving end-to-end by passing the result of <code>collect</code> directly to <code>f</code>, the compiler would send an error like this:</p>\n<pre><code>java: incompatible types: inferred type does not conform to upper bound(s)\n    inferred: java.lang.Object&amp;java.util.List&lt;? extends org.example.Main.MyInt&gt;&amp;java.util.Collection&lt;org.example.Main.MyNum&gt;\n    upper bound(s): java.util.Collection&lt;org.example.Main.MyNum&gt;,java.util.List&lt;? extends org.example.Main.MyInt&gt;,java.lang.Object\n</code></pre>\n<p>The only differences between inferred vs upper bound (from the error message):</p>\n<ol>\n<li>the use of <code>&amp;</code> vs <code>,</code></li>\n<li>The order of objects (reversed)</li>\n</ol>\n<p>I am assuming that the order is unimportant (they're sets) and that the <code>&amp;</code> and <code>,</code> have special meaning.</p>\n<p>Someone has a more thorough less &quot;hand-wavy&quot; explanation of what's happening?</p>\n"},{"tags":["java","jbehave"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1688993410,"post_id":76653900,"comment_id":135145688,"body_markdown":"why ... do you have MockMVC in your implementation????","body":"why ... do you have MockMVC in your implementation????"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688993544,"post_id":76653900,"comment_id":135145730,"body_markdown":"Have you annotated your test class with `@RunWith(SpringRunner.class)&#39;?","body":"Have you annotated your test class with `@RunWith(SpringRunner.class)&#39;?"},{"owner":{"account_id":21303886,"reputation":99,"user_id":15679422,"display_name":"Emmanuel Donald"},"score":0,"creation_date":1688994509,"post_id":76653900,"comment_id":135146001,"body_markdown":"Stultuske, I do not want to hit the database while doing the testing, I want to use mock data, that is why I have used MockMVC. Jens: I have tried running the code with @RunWith(SpringRunner.class) and got the same error again","body":"Stultuske, I do not want to hit the database while doing the testing, I want to use mock data, that is why I have used MockMVC. Jens: I have tried running the code with @RunWith(SpringRunner.class) and got the same error again"}],"owner":{"account_id":21303886,"reputation":99,"user_id":15679422,"display_name":"Emmanuel Donald"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688993284,"creation_date":1688993284,"question_id":76653900,"body_markdown":"Using jBehave with Mockito gives null pointer exception\r\n\r\nConsole Output:\r\nExample: {ename=Tom Brown, id=1, dept=Dept 1}\r\nGiven a new Employee record\r\nWhen the Employee name is Tom Brown\r\nWhen the Employee id is 1\r\nWhen the Employee dept is Dept 1\r\nWhen the method is POST\r\nThen the returned values should match (FAILED)\r\n(java.lang.NullPointerException: Cannot invoke &quot;org.springframework.test.web.servlet.MockMvc.perform(org.springframework.test.web.servlet.RequestBuilder)&quot; because &quot;this.mockMvc&quot; is null)\r\n\r\n[Code in GitHub as Maven Project](https://github.com/donemm/code)\r\n\r\nEmployeeControllerTest.java\r\n```\r\npackage com.donemm.simpc;\r\n&lt;imports&gt;\r\npublic class EmployeeControllerTest extends JUnitStory {\r\n@Override\r\npublic Configuration configuration() {\r\n   return new MostUsefulConfiguration()\r\n         .useStoryLoader(new LoadFromClasspath(this.getClass()))\r\n         .useStoryReporterBuilder(new StoryReporterBuilder().\r\n             withDefaultFormats().withFormats(Format.CONSOLE, Format.TXT, Format.HTML));\r\n}\r\n@Override\r\npublic InjectableStepsFactory stepsFactory() {\r\n    return new InstanceStepsFactory(configuration(), new EmployeeControllerSteps());\r\n}\r\n}\r\n```\r\nEmployeeControllerSteps.java\r\n\r\n```\r\npackage com.donemm.simpc;\r\n\r\nimport org.mockito.InjectMocks;\r\nimport org.mockito.Mock;\r\nimport org.mockito.MockitoAnnotations;\r\n\r\nimport com.donemm.simpc.entity.Employee;\r\nimport com.donemm.simpc.repository.EmployeeRepository;\r\nimport com.donemm.simpc.services.EmployeeService;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.donemm.simpc.controller.EmployeeController;\r\n\r\nimport static org.hamcrest.CoreMatchers.is;\r\n\r\nimport static org.mockito.ArgumentMatchers.*;\r\nimport static org.mockito.BDDMockito.*;\r\nimport static org.mockito.Mockito.when;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\nimport org.springframework.test.web.servlet.ResultActions;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.*;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\r\n\r\nimport org.jbehave.core.annotations.Given;\r\nimport org.jbehave.core.annotations.Named;\r\nimport org.jbehave.core.annotations.Then;\r\nimport org.jbehave.core.annotations.When;\r\n\r\n@WebMvcTest(controllers = EmployeeController.class)\r\n@AutoConfigureMockMvc\r\npublic class EmployeeControllerSteps {\r\n\t\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    \r\n    @InjectMocks private EmployeeService employeeService;\r\n\t@Mock private EmployeeRepository employeeRepository;\r\n \r\n    private Employee employee;\r\n    \r\n    @Given(value=&quot;a new Employee record&quot;, priority=11)\r\n    public void createEmployee() {\r\n    \tthis.employee = new Employee();\r\n    }\r\n    \r\n    \r\n    @When(value=&quot;the Employee name is &lt;ename&gt;&quot;, priority=10)\r\n    public void setEname(@Named(&quot;ename&quot;) String ename) {\r\n    \tthis.employee.setEname(ename);\r\n    }\r\n    \r\n    @When(value=&quot;the Employee id is &lt;id&gt;&quot;, priority=9)\r\n    public void setId(@Named(&quot;id&quot;) int id) {\r\n       this.employee.setId(id); \r\n    }\r\n    \r\n    @When(value=&quot;the Employee dept is &lt;dept&gt;&quot;, priority=6)\r\n    public void setDept(@Named(&quot;dept&quot;) String dname) {\r\n    \tthis.employee.setDept(dname);\r\n    }\r\n    \r\n    @When(value=&quot;the method is POST&quot;, priority=5)\r\n    public void methodIsGet() {\r\n    \t\r\n    }\r\n\r\n    @Then(value=&quot;the returned values should match&quot;, priority=4)\r\n    public void checkValues() throws Exception {\r\n\t\r\n\t\tMockitoAnnotations.initMocks(this);\r\n\t\t\r\n\t\twhen(employeeRepository.save(any(Employee.class))).thenReturn(this.employee);\r\n        \r\n\t\tObjectMapper objectMapper = new ObjectMapper();\r\n\t\t\t\r\n        ResultActions response = this.mockMvc.perform(post(&quot;http://localhost:8080/employees&quot;)\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .content(objectMapper.writeValueAsString(this.employee)));\r\n        \r\n        response.andDo(print()).\r\n        andExpect(status().isCreated())\r\n        .andExpect(jsonPath(&quot;$.ename&quot;,\r\n                is(this.employee.getEname())))\r\n        .andExpect(jsonPath(&quot;$.dname&quot;,\r\n                is(this.employee.getDept())));\r\n        \r\n    }\r\n}\r\n```\r\n\r\n[![Eclipse Project Explorer](https://i.stack.imgur.com/esEaT.jpg)](https://i.stack.imgur.com/esEaT.jpg)\r\n","title":"Using jBehave with Mockito gives null pointer exception","body":"<p>Using jBehave with Mockito gives null pointer exception</p>\n<p>Console Output:\nExample: {ename=Tom Brown, id=1, dept=Dept 1}\nGiven a new Employee record\nWhen the Employee name is Tom Brown\nWhen the Employee id is 1\nWhen the Employee dept is Dept 1\nWhen the method is POST\nThen the returned values should match (FAILED)\n(java.lang.NullPointerException: Cannot invoke &quot;org.springframework.test.web.servlet.MockMvc.perform(org.springframework.test.web.servlet.RequestBuilder)&quot; because &quot;this.mockMvc&quot; is null)</p>\n<p><a href=\"https://github.com/donemm/code\" rel=\"nofollow noreferrer\">Code in GitHub as Maven Project</a></p>\n<p>EmployeeControllerTest.java</p>\n<pre><code>package com.donemm.simpc;\n&lt;imports&gt;\npublic class EmployeeControllerTest extends JUnitStory {\n@Override\npublic Configuration configuration() {\n   return new MostUsefulConfiguration()\n         .useStoryLoader(new LoadFromClasspath(this.getClass()))\n         .useStoryReporterBuilder(new StoryReporterBuilder().\n             withDefaultFormats().withFormats(Format.CONSOLE, Format.TXT, Format.HTML));\n}\n@Override\npublic InjectableStepsFactory stepsFactory() {\n    return new InstanceStepsFactory(configuration(), new EmployeeControllerSteps());\n}\n}\n</code></pre>\n<p>EmployeeControllerSteps.java</p>\n<pre><code>package com.donemm.simpc;\n\nimport org.mockito.InjectMocks;\nimport org.mockito.Mock;\nimport org.mockito.MockitoAnnotations;\n\nimport com.donemm.simpc.entity.Employee;\nimport com.donemm.simpc.repository.EmployeeRepository;\nimport com.donemm.simpc.services.EmployeeService;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.donemm.simpc.controller.EmployeeController;\n\nimport static org.hamcrest.CoreMatchers.is;\n\nimport static org.mockito.ArgumentMatchers.*;\nimport static org.mockito.BDDMockito.*;\nimport static org.mockito.Mockito.when;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;\nimport org.springframework.http.MediaType;\nimport org.springframework.test.web.servlet.MockMvc;\nimport org.springframework.test.web.servlet.ResultActions;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;\nimport static org.springframework.test.web.servlet.result.MockMvcResultHandlers.*;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.*;\n\nimport org.jbehave.core.annotations.Given;\nimport org.jbehave.core.annotations.Named;\nimport org.jbehave.core.annotations.Then;\nimport org.jbehave.core.annotations.When;\n\n@WebMvcTest(controllers = EmployeeController.class)\n@AutoConfigureMockMvc\npublic class EmployeeControllerSteps {\n    \n    @Autowired\n    private MockMvc mockMvc;\n    \n    @InjectMocks private EmployeeService employeeService;\n    @Mock private EmployeeRepository employeeRepository;\n \n    private Employee employee;\n    \n    @Given(value=&quot;a new Employee record&quot;, priority=11)\n    public void createEmployee() {\n        this.employee = new Employee();\n    }\n    \n    \n    @When(value=&quot;the Employee name is &lt;ename&gt;&quot;, priority=10)\n    public void setEname(@Named(&quot;ename&quot;) String ename) {\n        this.employee.setEname(ename);\n    }\n    \n    @When(value=&quot;the Employee id is &lt;id&gt;&quot;, priority=9)\n    public void setId(@Named(&quot;id&quot;) int id) {\n       this.employee.setId(id); \n    }\n    \n    @When(value=&quot;the Employee dept is &lt;dept&gt;&quot;, priority=6)\n    public void setDept(@Named(&quot;dept&quot;) String dname) {\n        this.employee.setDept(dname);\n    }\n    \n    @When(value=&quot;the method is POST&quot;, priority=5)\n    public void methodIsGet() {\n        \n    }\n\n    @Then(value=&quot;the returned values should match&quot;, priority=4)\n    public void checkValues() throws Exception {\n    \n        MockitoAnnotations.initMocks(this);\n        \n        when(employeeRepository.save(any(Employee.class))).thenReturn(this.employee);\n        \n        ObjectMapper objectMapper = new ObjectMapper();\n            \n        ResultActions response = this.mockMvc.perform(post(&quot;http://localhost:8080/employees&quot;)\n                .contentType(MediaType.APPLICATION_JSON)\n                .content(objectMapper.writeValueAsString(this.employee)));\n        \n        response.andDo(print()).\n        andExpect(status().isCreated())\n        .andExpect(jsonPath(&quot;$.ename&quot;,\n                is(this.employee.getEname())))\n        .andExpect(jsonPath(&quot;$.dname&quot;,\n                is(this.employee.getDept())));\n        \n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/esEaT.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/esEaT.jpg\" alt=\"Eclipse Project Explorer\" /></a></p>\n"},{"tags":["java","eclipse","selenium","testng","listener"],"comments":[{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1568480356,"post_id":57937539,"comment_id":102290912,"body_markdown":"Is ITestListener.java file available in the defined package ?","body":"Is ITestListener.java file available in the defined package ?"},{"owner":{"account_id":5972806,"reputation":31,"user_id":4694679,"display_name":"Sagar"},"score":0,"creation_date":1568481561,"post_id":57937539,"comment_id":102291181,"body_markdown":"No, my class name is Listeners, I used ITestListener to implement the Listener methods.","body":"No, my class name is Listeners, I used ITestListener to implement the Listener methods."},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1568481630,"post_id":57937539,"comment_id":102291196,"body_markdown":"What are the methods available inside ITestListener class. I assume ITestListener is an interface.","body":"What are the methods available inside ITestListener class. I assume ITestListener is an interface."},{"owner":{"account_id":5972806,"reputation":31,"user_id":4694679,"display_name":"Sagar"},"score":0,"creation_date":1568482279,"post_id":57937539,"comment_id":102291367,"body_markdown":"Yes, its an interface. If I get the &quot;Add unimplemented methods&quot; option, below code will be exposed.","body":"Yes, its an interface. If I get the &quot;Add unimplemented methods&quot; option, below code will be exposed."},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1568482340,"post_id":57937539,"comment_id":102291389,"body_markdown":"Post the code for ITestListener.java","body":"Post the code for ITestListener.java"},{"owner":{"account_id":5972806,"reputation":31,"user_id":4694679,"display_name":"Sagar"},"score":0,"creation_date":1568482871,"post_id":57937539,"comment_id":102291496,"body_markdown":"`@Override\n\tpublic void onTestStart(ITestResult result) {\n\t\t// TODO Auto-generated method stub\n\t\t\n\t}\n\n\t@Override\n\tpublic void onTestSuccess(ITestResult result) {\n\t\t// TODO Auto-generated method stub\n\t\t\n\t//\tSystem.out.println(&quot;I successfully executed Listeners Pass code&quot;);\n\t}\n\n\t@Override\n\tpublic void onTestFailure(ITestResult result) {\n\t\t// TODO Auto-generated method stub\n\t\t//screenshot code \n\t\t//response if API is failed\n\t\t\n\t\tSystem.out.println(&quot;I failed executed Listeners Pass code&quot; +result.getName());\n\n\t}`","body":"<code>@Override \tpublic void onTestStart(ITestResult result) { \t\t&#47;&#47; TODO Auto-generated method stub \t\t \t}  \t@Override \tpublic void onTestSuccess(ITestResult result) { \t\t&#47;&#47; TODO Auto-generated method stub \t\t \t&#47;&#47;\tSystem.out.println(&quot;I successfully executed Listeners Pass code&quot;); \t}  \t@Override \tpublic void onTestFailure(ITestResult result) { \t\t&#47;&#47; TODO Auto-generated method stub \t\t&#47;&#47;screenshot code  \t\t&#47;&#47;response if API is failed \t\t \t\tSystem.out.println(&quot;I failed executed Listeners Pass code&quot; +result.getName());  \t}</code>"},{"owner":{"account_id":3763662,"reputation":7765,"user_id":3127812,"accept_rate":0,"display_name":"Sambit"},"score":0,"creation_date":1568486240,"post_id":57937539,"comment_id":102292255,"body_markdown":"This is the code for method, edit your question and add the complete code for ITestListener.java.","body":"This is the code for method, edit your question and add the complete code for ITestListener.java."}],"answers":[{"tags":[],"owner":{"account_id":15278027,"reputation":31,"user_id":11023226,"display_name":"Rahul Kumrawat"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1568485114,"creation_date":1568485114,"answer_id":57938122,"question_id":57937539,"body_markdown":"As i got to know from the below link - TestNG 7.0.0 uses JDK8 and with it default methods within interfaces. What this means is that every listener would now have a default implementation (which doesn&#39;t do anything ) for all methods defined within the interface.\r\n\r\nSo now you won&#39;t see those indications from the IDE. The biggest benefit of default methods in interfaces is that let&#39;s say you are implementing an interface that has 10 methods defined in it, you can just implement whatever you need and the rest of the behavior comes via the default methods in the interface.\r\nReference-\r\nhttps://github.com/cbeust/testng/issues/1964","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>As i got to know from the below link - TestNG 7.0.0 uses JDK8 and with it default methods within interfaces. What this means is that every listener would now have a default implementation (which doesn't do anything ) for all methods defined within the interface.</p>\n\n<p>So now you won't see those indications from the IDE. The biggest benefit of default methods in interfaces is that let's say you are implementing an interface that has 10 methods defined in it, you can just implement whatever you need and the rest of the behavior comes via the default methods in the interface.\nReference-\n<a href=\"https://github.com/cbeust/testng/issues/1964\" rel=\"nofollow noreferrer\">https://github.com/cbeust/testng/issues/1964</a></p>\n"},{"tags":[],"owner":{"account_id":17203027,"reputation":101,"user_id":12454227,"display_name":"user12454227"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1574986402,"creation_date":1574986402,"answer_id":59097397,"question_id":57937539,"body_markdown":"Right click(on the Listeners class ) -&gt; go to source-&gt; click on overide/implement methods -&gt; select the check boxes for the ITest listener (make sure all check box inside it should be checked )-&gt;click on oK. That&#39;s it !!!","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>Right click(on the Listeners class ) -> go to source-> click on overide/implement methods -> select the check boxes for the ITest listener (make sure all check box inside it should be checked )->click on oK. That's it !!!</p>\n"},{"tags":[],"owner":{"account_id":13607964,"reputation":1,"user_id":9816489,"display_name":"Harita"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1587638042,"creation_date":1587638042,"answer_id":61385062,"question_id":57937539,"body_markdown":"Try downgrading the TestNg version to **6.14.3**.\r\nIt worked for me.","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>Try downgrading the TestNg version to <strong>6.14.3</strong>.\nIt worked for me.</p>\n"},{"tags":[],"owner":{"account_id":18321346,"reputation":1,"user_id":13342039,"display_name":"SinghGursimar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1588316529,"creation_date":1588316529,"answer_id":61538204,"question_id":57937539,"body_markdown":"The Best solution is go to the source tab besides the File-Edit options and click the Overide/implement methods and you are set \r\n","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>The Best solution is go to the source tab besides the File-Edit options and click the Overide/implement methods and you are set </p>\n"},{"tags":[],"owner":{"account_id":19743604,"reputation":51,"user_id":14456546,"display_name":"Chris Bahonda"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1604414961,"creation_date":1604414961,"answer_id":64665133,"question_id":57937539,"body_markdown":"Right click on the class --&gt; select source --&gt; choose override/implement methods --&gt; then pick the methods you&#39;d like to implement.","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>Right click on the class --&gt; select source --&gt; choose override/implement methods --&gt; then pick the methods you'd like to implement.</p>\n"},{"tags":[],"owner":{"account_id":20907429,"reputation":13,"user_id":15359042,"display_name":"Saimohit Midde"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1624516830,"creation_date":1624516830,"answer_id":68110716,"question_id":57937539,"body_markdown":"All methods in ITestListener interface changed to default from 7 version onwards. You can call them with class object where you implemented interface.","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>All methods in ITestListener interface changed to default from 7 version onwards. You can call them with class object where you implemented interface.</p>\n"}],"owner":{"account_id":5972806,"reputation":31,"user_id":4694679,"display_name":"Sagar"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12702,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":6,"score":3,"last_activity_date":1688993099,"creation_date":1568480048,"question_id":57937539,"body_markdown":"I am working on Selenium with Java and using Listeners.\r\n\r\nI created the class, imported the TestNG, and then added method as;\r\n\r\n    Public class Listener implements ITestListener{\r\n    }\r\n\r\nI got an error at &quot;ITestListner&quot; and then imported &quot;ITestListner(org.testng). After this it was expected that I will get an error for &quot;Listener&quot; but I didn&#39;t get any error.\r\n\r\nI tried creating with abstract class but still didn&#39;t get the error.\r\n\r\n    package com.testng;\r\n    \r\n    import org.testng.ITestListener;\r\n    \r\n    public class Listeners implements ITestListener{\r\n    \r\n    }\r\n\r\nThe expectation is when I move the cursor over &quot;Listeners&quot; I should get &quot;Add unimplemented methods&quot; option.","title":"Not getting &quot;Add unimplemented methods&quot; error in eclipse","body":"<p>I am working on Selenium with Java and using Listeners.</p>\n\n<p>I created the class, imported the TestNG, and then added method as;</p>\n\n<pre><code>Public class Listener implements ITestListener{\n}\n</code></pre>\n\n<p>I got an error at \"ITestListner\" and then imported \"ITestListner(org.testng). After this it was expected that I will get an error for \"Listener\" but I didn't get any error.</p>\n\n<p>I tried creating with abstract class but still didn't get the error.</p>\n\n<pre><code>package com.testng;\n\nimport org.testng.ITestListener;\n\npublic class Listeners implements ITestListener{\n\n}\n</code></pre>\n\n<p>The expectation is when I move the cursor over \"Listeners\" I should get \"Add unimplemented methods\" option.</p>\n"},{"tags":["java","python","netbeans","jython"],"comments":[{"owner":{"account_id":20992201,"reputation":79,"user_id":15424845,"display_name":"Hiroaki Genpati"},"score":0,"creation_date":1617208936,"post_id":66891529,"comment_id":118242519,"body_markdown":"here what you looking for https://github.com/pypa/sampleproject/blob/main/setup.py and for packaging &amp; testing https://hynek.me/articles/testing-packaging/","body":"here what you looking for <a href=\"https://github.com/pypa/sampleproject/blob/main/setup.py\" rel=\"nofollow noreferrer\">github.com/pypa/sampleproject/blob/main/setup.py</a> and for packaging &amp; testing <a href=\"https://hynek.me/articles/testing-packaging/\" rel=\"nofollow noreferrer\">hynek.me/articles/testing-packaging</a>"}],"answers":[{"tags":[],"owner":{"display_name":"user14551571"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1617311353,"creation_date":1617311353,"answer_id":66911581,"question_id":66891529,"body_markdown":"I needed move my setup.py file to the root directory (not in the same folder with the source files.) and things began to happen. From there warnings guided my actions. Here is my setup.py that gave me my first resultd. Now to study rst and MD so I can add a README file.\r\n\r\n    from setuptools import setup, find_packages\r\n    setup (\r\n           name=&#39;JythonProject&#39;,\r\n           version=&#39;0.1&#39;,\r\n           zip_safe=True,\r\n           packages=find_packages(),\r\n           # Declare your packages&#39; dependencies here, for eg:\r\n           install_requires=[],\r\n           data_files=[(&#39;&#39;,[&#39;src/cars_pic.jpg&#39;,&#39;src/rfid_pic.jpg&#39;,&#39;src/readers_pic.jpg&#39;,&#39;src/polling_pic.jpg&#39;,&#39;src/mode_pic.jpg&#39;,&#39;src/locations_pic.jpg&#39;,&#39;src/engine_pic.jpg&#39;,&#39;src/RFIDconfig.xml&#39;,&#39;src/JMRIimportedData.xml&#39;])],\r\n           # Fill in these to make your Egg ready for upload to\r\n           # PyPI\r\n           author=&#39;James w Kelly&#39;,\r\n           author_email=&#39;jwkelly49@gmail.com&#39;,\r\n    \r\n           #summary = &#39;Just another Python package for the cheese shop&#39;,\r\n           url=&#39;&#39;,\r\n           license=&#39;MIT&#39;,\r\n           long_description=&#39;Long description of the package&#39;,\r\n    \r\n           # could also include long_description, download_url, classifiers, etc.\r\n    \r\n      \r\n           )","title":"How to configure setup.py to distribute egg","body":"<p>I needed move my setup.py file to the root directory (not in the same folder with the source files.) and things began to happen. From there warnings guided my actions. Here is my setup.py that gave me my first resultd. Now to study rst and MD so I can add a README file.</p>\n<pre><code>from setuptools import setup, find_packages\nsetup (\n       name='JythonProject',\n       version='0.1',\n       zip_safe=True,\n       packages=find_packages(),\n       # Declare your packages' dependencies here, for eg:\n       install_requires=[],\n       data_files=[('',['src/cars_pic.jpg','src/rfid_pic.jpg','src/readers_pic.jpg','src/polling_pic.jpg','src/mode_pic.jpg','src/locations_pic.jpg','src/engine_pic.jpg','src/RFIDconfig.xml','src/JMRIimportedData.xml'])],\n       # Fill in these to make your Egg ready for upload to\n       # PyPI\n       author='James w Kelly',\n       author_email='jwkelly49@gmail.com',\n\n       #summary = 'Just another Python package for the cheese shop',\n       url='',\n       license='MIT',\n       long_description='Long description of the package',\n\n       # could also include long_description, download_url, classifiers, etc.\n\n  \n       )\n</code></pre>\n"}],"owner":{"display_name":"user14551571"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688992974,"creation_date":1617207496,"question_id":66891529,"body_markdown":"First my goal is to share this the easiest way possible with non-computer geeks that already have Java JRE installed.\r\n\r\nI’m using Netbeans with Python and Jython plugins. I started a **Python project** and wrote my code. I import standard JAVA packages and only one Java add-in\r\n\r\nimport gnu.io\r\n\r\nimport gnu.io.RXTXPort as RXTX\r\nRXTX is added to JDK/JRE and JRE I assume this will be a dependency\r\n\r\nThe program runs fine from within Netbeans and now I want to make an egg.\r\nThe project SRC folder contains 29 .py  + 25 .class + 7 .jpg + 2 .XML files  and   __ INIT __.py\r\n\r\nI right-click the project and use CLEAN and BUILD EGG\r\nThis puts a setup.py file in the source directory and creates a built and info folder.\r\nI also issued the Jython command from within the project SRC folder            jython setup.py  bdist_egg\r\n\r\nBoth methods run to completion and produce the following\r\n\r\nfolder build  \r\n-------- subfolder bdist.java1.80_251 -- which is empty \r\n\r\nfolder dist    \r\n------- file JythonProject0.1-py2.7.egg -- contents = list of egg-info files\r\n\r\nfolder JythonProject.egg-info  with\r\n\r\n------ file  dependency_links.txt      --  no content\r\n\r\n------ file PKG-INFO                   --  summary of setup.py entries\r\n\r\n------ file SOURCES.txt                --  setup.py + list of these files\r\n\r\n------ file top_level.txt              --  no content\r\n\r\n\r\nI’ve studied about the structure of the setup.py file but I’ll admit that without an example I’m left confused about the syntax of filling in the blanks.\r\n\r\n**QUESTION: how do I add my source data to get a working egg?**\r\n\r\n    Setup.py =\r\n    from setuptools import setup, find_packages\r\n\r\n    setup \r\n    name=&#39;JythonProject&#39;\r\n    version=&#39;0.1&#39;\r\n    packages=find_packages()   **supposed to find all .PY files ?**\r\n                               **how to include CLASS files?**\r\n    \r\n    # Declare your packages&#39; dependencies here, for eg:\r\n    install_requires=[]        **my RXTX?  path/xx.JAR?**\r\n    \r\n    # Fill in these to make your Egg ready for upload to\r\n    # PyPI\r\n    author=&#39;jwkel&#39;\r\n    author_email=&#39;email@gmail.com&#39;\r\n    #summary = &#39;Just another Python package for the cheese shop&#39;\r\n    url=&#39;&#39;  **none**\r\n    license=&#39;&#39; **I understand this**\r\n    long_description=&#39;Long description of the package&#39;\r\n\r\n","title":"How to configure setup.py to distribute egg","body":"<p>First my goal is to share this the easiest way possible with non-computer geeks that already have Java JRE installed.</p>\n<p>I’m using Netbeans with Python and Jython plugins. I started a <strong>Python project</strong> and wrote my code. I import standard JAVA packages and only one Java add-in</p>\n<p>import gnu.io</p>\n<p>import gnu.io.RXTXPort as RXTX\nRXTX is added to JDK/JRE and JRE I assume this will be a dependency</p>\n<p>The program runs fine from within Netbeans and now I want to make an egg.\nThe project SRC folder contains 29 .py  + 25 .class + 7 .jpg + 2 .XML files  and   __ INIT __.py</p>\n<p>I right-click the project and use CLEAN and BUILD EGG\nThis puts a setup.py file in the source directory and creates a built and info folder.\nI also issued the Jython command from within the project SRC folder            jython setup.py  bdist_egg</p>\n<p>Both methods run to completion and produce the following</p>\n<p>folder build<br />\n-------- subfolder bdist.java1.80_251 -- which is empty</p>\n<p>folder dist<br />\n------- file JythonProject0.1-py2.7.egg -- contents = list of egg-info files</p>\n<p>folder JythonProject.egg-info  with</p>\n<p>------ file  dependency_links.txt      --  no content</p>\n<p>------ file PKG-INFO                   --  summary of setup.py entries</p>\n<p>------ file SOURCES.txt                --  setup.py + list of these files</p>\n<p>------ file top_level.txt              --  no content</p>\n<p>I’ve studied about the structure of the setup.py file but I’ll admit that without an example I’m left confused about the syntax of filling in the blanks.</p>\n<p><strong>QUESTION: how do I add my source data to get a working egg?</strong></p>\n<pre><code>Setup.py =\nfrom setuptools import setup, find_packages\n\nsetup \nname='JythonProject'\nversion='0.1'\npackages=find_packages()   **supposed to find all .PY files ?**\n                           **how to include CLASS files?**\n\n# Declare your packages' dependencies here, for eg:\ninstall_requires=[]        **my RXTX?  path/xx.JAR?**\n\n# Fill in these to make your Egg ready for upload to\n# PyPI\nauthor='jwkel'\nauthor_email='email@gmail.com'\n#summary = 'Just another Python package for the cheese shop'\nurl=''  **none**\nlicense='' **I understand this**\nlong_description='Long description of the package'\n</code></pre>\n"},{"tags":["java","arrays","csv","file-io","data-processing"],"comments":[{"owner":{"account_id":28104689,"reputation":512,"user_id":21473475,"display_name":"Arfur Narf"},"score":0,"creation_date":1688859795,"post_id":76644922,"comment_id":135130850,"body_markdown":"If your needs are very simple (i.e., you control exactly what goes into the file and you don&#39;t need  to care about quote, escapes, etc.) then reading a line and splitting on comma does the job with least fuss.  No need to use a complicated swiss army knife when a single flat-blade screwdriver does the job!","body":"If your needs are very simple (i.e., you control exactly what goes into the file and you don&#39;t need  to care about quote, escapes, etc.) then reading a line and splitting on comma does the job with least fuss.  No need to use a complicated swiss army knife when a single flat-blade screwdriver does the job!"}],"answers":[{"tags":[],"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688856038,"creation_date":1688856038,"answer_id":76645218,"question_id":76644922,"body_markdown":"Welcome to stack overflow!\r\n\r\nThe guidelines say that questions asking for recommendations for libraries and questions asking for opinions are inappropriate. So your question may get closed for either or both of those reasons.\r\n\r\nHowever, I&#39;ll attempt to answer your question, with the caveat that what follows is not necessarily the &quot;best&quot; or &quot;most efficient&quot; way to read CSV data, especially since it reads all of the CSV data into memory in one shot, and could cause out-of-memory problems if you try to read a file that is bigger than available (to your application) memory....YMMV\r\n\r\nI use the &quot;opencsv&quot; library\r\n\r\nFor example, \r\n\r\n    CSVReader csvReader = new CSVReader(new FileReader(inputFilename));\r\n    List&lt;String[]&gt; data = csvReader.readAll();\r\n\r\nEach item in the list is a row, and each item the row&#39;s String[] is a column value for that row.","title":"How can I read and write CSV files and process the data into arrays in Java?","body":"<p>Welcome to stack overflow!</p>\n<p>The guidelines say that questions asking for recommendations for libraries and questions asking for opinions are inappropriate. So your question may get closed for either or both of those reasons.</p>\n<p>However, I'll attempt to answer your question, with the caveat that what follows is not necessarily the &quot;best&quot; or &quot;most efficient&quot; way to read CSV data, especially since it reads all of the CSV data into memory in one shot, and could cause out-of-memory problems if you try to read a file that is bigger than available (to your application) memory....YMMV</p>\n<p>I use the &quot;opencsv&quot; library</p>\n<p>For example,</p>\n<pre><code>CSVReader csvReader = new CSVReader(new FileReader(inputFilename));\nList&lt;String[]&gt; data = csvReader.readAll();\n</code></pre>\n<p>Each item in the list is a row, and each item the row's String[] is a column value for that row.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688992679,"creation_date":1688992679,"answer_id":76653819,"question_id":76644922,"body_markdown":"It depends on your data.\r\n\r\nA _CSV_ can be trivial if your data may contain commas.\r\n\r\nYou could implement a _[TSV](https://en.wikipedia.org/wiki/Tab-separated_values)_, which uses the _tab_ character.\r\n\r\n_[Wikipedia &amp;ndash; Delimiter-separated values](https://en.wikipedia.org/wiki/Delimiter-separated_values)_.\r\n\r\n&gt; _&quot;... I would appreciate it if someone could provide me with a simple example and explain the recommended approach to efficiently read, write, and process CSV files into arrays in Java.&quot;_\r\n\r\nHere is a basic read and write, using a _TSV_ structure.\r\n\r\n```java\r\nvoid append(String[] strings, File file) throws IOException {\r\n    try (FileWriter writer = new FileWriter(file, true)) {\r\n        writer.write(String.join(&quot;\\t&quot;, strings));\r\n        writer.write(System.lineSeparator());\r\n    }\r\n}\r\n\r\nList&lt;String[]&gt; read(File file) throws IOException {\r\n    try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\r\n        List&lt;String[]&gt; list = new ArrayList&lt;&gt;();\r\n        String line;\r\n        while ((line = reader.readLine()) != null)\r\n            list.add(line.split(&quot;\\t&quot;, -1));\r\n        return list;\r\n    }\r\n}\r\n```\r\n\r\nAnd, here is a usage.\r\n\r\n```java\r\nFile file = new File(&quot;files/data.tsv&quot;);\r\nappend(new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; }, file);\r\nappend(new String[] { &quot;d&quot;, &quot;e&quot;, &quot;f&quot; }, file);\r\nList&lt;String[]&gt; list = read(file);\r\nfor (String[] strings : list)\r\n    System.out.println(Arrays.toString(strings));\r\n```\r\n\r\nThe contents of _data.tsv_,\r\n\r\n```none\r\na\tb\tc\r\nd\te\tf\r\n\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n[a, b, c]\r\n[d, e, f]\r\n```","title":"How can I read and write CSV files and process the data into arrays in Java?","body":"<p>It depends on your data.</p>\n<p>A <em>CSV</em> can be trivial if your data may contain commas.</p>\n<p>You could implement a <em><a href=\"https://en.wikipedia.org/wiki/Tab-separated_values\" rel=\"nofollow noreferrer\">TSV</a></em>, which uses the <em>tab</em> character.</p>\n<p><em><a href=\"https://en.wikipedia.org/wiki/Delimiter-separated_values\" rel=\"nofollow noreferrer\">Wikipedia – Delimiter-separated values</a></em>.</p>\n<blockquote>\n<p><em>&quot;... I would appreciate it if someone could provide me with a simple example and explain the recommended approach to efficiently read, write, and process CSV files into arrays in Java.&quot;</em></p>\n</blockquote>\n<p>Here is a basic read and write, using a <em>TSV</em> structure.</p>\n<pre class=\"lang-java prettyprint-override\"><code>void append(String[] strings, File file) throws IOException {\n    try (FileWriter writer = new FileWriter(file, true)) {\n        writer.write(String.join(&quot;\\t&quot;, strings));\n        writer.write(System.lineSeparator());\n    }\n}\n\nList&lt;String[]&gt; read(File file) throws IOException {\n    try (BufferedReader reader = new BufferedReader(new FileReader(file))) {\n        List&lt;String[]&gt; list = new ArrayList&lt;&gt;();\n        String line;\n        while ((line = reader.readLine()) != null)\n            list.add(line.split(&quot;\\t&quot;, -1));\n        return list;\n    }\n}\n</code></pre>\n<p>And, here is a usage.</p>\n<pre class=\"lang-java prettyprint-override\"><code>File file = new File(&quot;files/data.tsv&quot;);\nappend(new String[] { &quot;a&quot;, &quot;b&quot;, &quot;c&quot; }, file);\nappend(new String[] { &quot;d&quot;, &quot;e&quot;, &quot;f&quot; }, file);\nList&lt;String[]&gt; list = read(file);\nfor (String[] strings : list)\n    System.out.println(Arrays.toString(strings));\n</code></pre>\n<p>The contents of <em>data.tsv</em>,</p>\n<pre class=\"lang-none prettyprint-override\"><code>a   b   c\nd   e   f\n\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>[a, b, c]\n[d, e, f]\n</code></pre>\n"}],"owner":{"account_id":28977731,"reputation":1,"user_id":22196421,"display_name":"DamianBautista"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":87,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1688992679,"creation_date":1688849810,"question_id":76644922,"body_markdown":"I am working on a Java project where I need to handle CSV files. Specifically, I need to read and write CSV files and process the data into arrays for further manipulation. I have researched different libraries and approaches, but I am unsure about the best option and how to correctly implement it, especially when it comes to efficiently storing the CSV data into arrays.\r\n\r\n\r\nI have explored various libraries and approaches for handling CSV files in Java, but I haven&#39;t been able to determine the most efficient and effective solution for reading, writing, and processing CSV data into arrays. I have attempted some implementations, but I&#39;m not getting the desired results or struggling with performance issues.\r\n\r\nI would appreciate it if someone could provide me with a simple example and explain the recommended approach to efficiently read, write, and process CSV files into arrays in Java. ","title":"How can I read and write CSV files and process the data into arrays in Java?","body":"<p>I am working on a Java project where I need to handle CSV files. Specifically, I need to read and write CSV files and process the data into arrays for further manipulation. I have researched different libraries and approaches, but I am unsure about the best option and how to correctly implement it, especially when it comes to efficiently storing the CSV data into arrays.</p>\n<p>I have explored various libraries and approaches for handling CSV files in Java, but I haven't been able to determine the most efficient and effective solution for reading, writing, and processing CSV data into arrays. I have attempted some implementations, but I'm not getting the desired results or struggling with performance issues.</p>\n<p>I would appreciate it if someone could provide me with a simple example and explain the recommended approach to efficiently read, write, and process CSV files into arrays in Java.</p>\n"},{"tags":["java","persistence","quarkus"],"comments":[{"owner":{"account_id":27118,"reputation":3700,"user_id":71208,"accept_rate":62,"display_name":"Max Rydahl Andersen"},"score":0,"creation_date":1688971641,"post_id":76647785,"comment_id":135141063,"body_markdown":"You can use .getCause() to find the exception you are looking for and extract from the message of if exception concrete class has more info cast it to that type and explore from there.","body":"You can use .getCause() to find the exception you are looking for and extract from the message of if exception concrete class has more info cast it to that type and explore from there."},{"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"score":0,"creation_date":1688992746,"post_id":76647785,"comment_id":135145516,"body_markdown":"I managed to solve it by making a command to cascade the cause","body":"I managed to solve it by making a command to cascade the cause"}],"answers":[{"tags":[],"owner":{"account_id":8974783,"reputation":9445,"user_id":6692043,"display_name":"yrodiere"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688973772,"creation_date":1688973772,"answer_id":76651520,"question_id":76647785,"body_markdown":"As was mentioned in comments you can use `getCause()` to access the cause of the exception you&#39;re getting.\r\n\r\nThat being said, I wouldn&#39;t recommend catching such exceptions as:\r\n\r\n1. `EntityManager`/`Session` are generally not considered safe to use anymore after an exception is thrown: the internal state is undetermined and they should be closed ASAP. There are a few &quot;safe&quot; exceptions such as `NoResultExcepton` but yours is not one of them. I mean it might work in practice, but if it does not (now or in a future upgrade) you&#39;re on your own.\r\n2. Depending how you set up your transactions, the exception might have marked your transaction as &quot;rollback only&quot;, in which case silencing the exception will be no use: your changes (if any) won&#39;t be persisted anyway. \r\n\r\nMaybe investigate why the exception is being thrown by the Oracle driver and try to avoid it by implementing your stored procedure differently?","title":"How you can capture the value of Cause By in a Hibernate PersistenceExceptionException in Quarkus","body":"<p>As was mentioned in comments you can use <code>getCause()</code> to access the cause of the exception you're getting.</p>\n<p>That being said, I wouldn't recommend catching such exceptions as:</p>\n<ol>\n<li><code>EntityManager</code>/<code>Session</code> are generally not considered safe to use anymore after an exception is thrown: the internal state is undetermined and they should be closed ASAP. There are a few &quot;safe&quot; exceptions such as <code>NoResultExcepton</code> but yours is not one of them. I mean it might work in practice, but if it does not (now or in a future upgrade) you're on your own.</li>\n<li>Depending how you set up your transactions, the exception might have marked your transaction as &quot;rollback only&quot;, in which case silencing the exception will be no use: your changes (if any) won't be persisted anyway.</li>\n</ol>\n<p>Maybe investigate why the exception is being thrown by the Oracle driver and try to avoid it by implementing your stored procedure differently?</p>\n"}],"owner":{"account_id":16016597,"reputation":743,"user_id":11559150,"display_name":"Cesar Justo"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688992608,"creation_date":1688910538,"question_id":76647785,"body_markdown":"\r\nGood morning, I am currently working with persistent java to consult a Stored Procedure in an Oracle DB, and I am catching the exceptions through a catch, however, I have a problem with the PersistenceException exception, which I need to read its caused By to do a conditional, so I currently have it and this is what the exception.message returns me:\r\n\r\n        } catch (SQLException | PersistenceException e ) {\r\n            log.info(&quot;Excepci&#243;n SQL: &quot;+ e.getMessage());\r\n            if(e.getCause().getMessage().contains(&quot;ORA-01403&quot;)){\r\n                response = mapping.setResponseError(request, ExceptionMessages.MSG062.name(), ExceptionMessages.MSG062.getMsgCode());\r\n                log.info(SALIDA_MS + new Gson().toJson(response));\r\n            }\r\n            else {\r\n                response = mapping.setResponseError(request, ExceptionMessages.MSG019.name(), ExceptionMessages.MSG019.getMsgCode());\r\n                log.info(SALIDA_MS + new Gson().toJson(response));\r\n            }\r\n\r\nMy Repository Class:\r\n\r\n    package com.tmve.account.repositoty.impl;\r\n    \r\n    import com.tmve.account.beans.PostpaidAccount;\r\n    import com.tmve.account.repositoty.IFindPostpaidAccountByDocumentRepository;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    \r\n    import javax.inject.Inject;\r\n    import javax.inject.Singleton;\r\n    import javax.persistence.EntityManager;\r\n    import javax.persistence.StoredProcedureQuery;\r\n    import java.util.List;\r\n    \r\n    @Slf4j\r\n    @Singleton\r\n    public class FindPostpaidAccountByDocumentRepository implements IFindPostpaidAccountByDocumentRepository {\r\n    \r\n        @Inject\r\n        EntityManager entityManager;\r\n    \r\n        @Override\r\n        public List&lt;PostpaidAccount&gt; getPostpaidAccount(String documentType, String documentNumber) {\r\n    \r\n            StoredProcedureQuery storedProcedureQuery=entityManager\r\n                    .createNamedStoredProcedureQuery(&quot;BuscarCuentasRolesxDocId&quot;);\r\n            storedProcedureQuery.setParameter(1,documentNumber);\r\n            storedProcedureQuery.setParameter(2,Integer.parseInt(documentType));\r\n    \r\n            storedProcedureQuery.execute();\r\n    \r\n            return (List&lt;PostpaidAccount&gt;) storedProcedureQuery.getResultList();\r\n        }\r\n    }\r\n\r\nMy entity:\r\n\r\n    package com.tmve.account.beans;\r\n    \r\n    \r\n    import lombok.Getter;\r\n    import lombok.ToString;\r\n    \r\n    import javax.persistence.*;\r\n    import java.sql.Date;\r\n    \r\n    @NamedStoredProcedureQueries({\r\n            @NamedStoredProcedureQuery(\r\n                    name = PostpaidAccount.NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE,\r\n                    procedureName = &quot;PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID&quot;,\r\n                    resultClasses = {PostpaidAccount.class},\r\n                    parameters = {\r\n                            @StoredProcedureParameter(mode = ParameterMode.IN, type = String.class),\r\n                            @StoredProcedureParameter(mode = ParameterMode.IN, type = Integer.class),\r\n                            @StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, type = void.class),\r\n                    })\r\n    })\r\n    @Getter\r\n    @Entity\r\n    @ToString\r\n    public class PostpaidAccount {\r\n    \r\n        public static final String NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE=  &quot;BuscarCuentasRolesxDocId&quot;;\r\n        private static final long serialVersionUID = 5853819176277617472L;\r\n    \r\n        @Id\r\n        @Column(name = &quot;V_NUMERO_CUENTA&quot;)\r\n        Long account;\r\n        @Column(name = &quot;V_NUM_CTA_PAGADORA&quot;)\r\n        Long billingAccountNumber;\r\n        @Column(name = &quot;V_NUM_CTA_DIG_VERI&quot;)\r\n        Long billingAccountNumberValidators;\r\n        @Column(name = &quot;V_TIPO_CUENTA&quot;)\r\n        String accountType;\r\n        @Column(name = &quot;V_ESTADO&quot;)\r\n        String accountStatus;\r\n        @Column(name = &quot;V_NOMBRE_ESTADO&quot;)\r\n        String accountStatusDescription;\r\n        @Column(name = &quot;V_ID_PRODUCTO&quot;)\r\n        Integer productoId;\r\n        @Column(name = &quot;NOMBRE_PRODUCTO&quot;)\r\n        String productName;\r\n        @Column(name = &quot;FECHA_INICIO_PROD&quot;)\r\n        Date customerSince;\r\n        @Column(name = &quot;V_TITULAR_CUENTA&quot;)\r\n        String accountHolder;\r\n        @Column(name = &quot;V_TIPO_RELACION&quot;)\r\n        String relationshipType;\r\n        @Column(name = &quot;V_PLATAF&quot;)\r\n        int platformId;\r\n        @Column(name = &quot;V_IDENTIFICADOR&quot;)\r\n        String identifier;\r\n        @Column(name = &quot;NOMBRE_AREA&quot;)\r\n        String marketName;\r\n    }\r\n\r\n\r\nThis is what the e.getmessage() returns me:\r\n\r\n    Excepci&#243;n SQL: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults     \r\n\r\n\r\nBut I need to catch the cause to apply a conditional, specifically if it returns the code ORA-01403, as the exception is shown otherwise it will be caught:\r\n\r\n    javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\r\n            at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\r\n            at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\r\n            at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\r\n            at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:82)\r\n            at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:147)\r\n            at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:93)\r\n            at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\r\n            at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\r\n            at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\r\n            at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\r\n            at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\r\n            at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n            at java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\r\n            at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\r\n            at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\r\n            at org.hibernate.procedure.internal.ProcedureCallImpl.execute(ProcedureCallImpl.java:624)\r\n            at com.tmve.account.repositoty.impl.FindPostpaidAccountByDocumentRepository.getPostpaidAccount(FindPostpaidAccountByDocumentRepository.java:29)\r\n            at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentService.java:43)\r\n            at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentController.java:47)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument$$superforward1(Unknown Source)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass$$function$$1.apply(Unknown Source)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\r\n            at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor.restMethodInvoke(QuarkusRestPathTemplateInterceptor.java:39)\r\n            at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor_Bean.intercept(Unknown Source)\r\n            at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\r\n            at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\r\n            at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:33)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument(Unknown Source)\r\n            at com.tmve.account.controller.FindPostpaidAccountByDocumentController_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n            at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\r\n            at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n            at java.base/java.lang.reflect.Method.invoke(Method.java:568)\r\n            at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\r\n            at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\r\n            at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\r\n            at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\r\n            at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\r\n            ... 15 more\r\n    Caused by: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\r\n            at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\r\n            at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\r\n            at org.hibernate.result.internal.OutputsImpl.convert(OutputsImpl.java:83)\r\n            at org.hibernate.result.internal.OutputsImpl.&lt;init&gt;(OutputsImpl.java:60)\r\n            at org.hibernate.procedure.internal.ProcedureOutputsImpl.&lt;init&gt;(ProcedureOutputsImpl.java:34)\r\n            at org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:418)\r\n            at org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:354)\r\n            at org.hibernate.procedure.internal.ProcedureCallImpl.outputs(ProcedureCallImpl.java:634)\r\n            at org.hibernate.procedure.internal.ProcedureCallImpl.execute(ProcedureCallImpl.java:617)\r\n            ... 44 more\r\n    Caused by: java.sql.SQLException: ORA-01403: No se ha encontrado ning&#250;n dato\r\n    ORA-06512: en &quot;PERS.PKG_COMP_CUENTAS&quot;, l&#237;nea 12122\r\n    ORA-01403: No se ha encontrado ning&#250;n dato\r\n    ORA-06512: en l&#237;nea 1\r\n    \r\n            at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630)\r\n            at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564)\r\n            at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1231)\r\n            at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:772)\r\n            at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299)\r\n            at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:512)\r\n            at oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:159)\r\n            at oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:1237)\r\n            at oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1820)\r\n            at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1472)\r\n            at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3761)\r\n            at oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:4136)\r\n            at oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4279)\r\n            at oracle.jdbc.driver.OraclePreparedntWrapper.execute(OraclePreparedStatementWrapper.java:1014)\r\n            at io.agroal.pool.wrapper.CallableStatementWrapper.execute(CallableStatementWrapper.java:1431)\r\n            at org.hibernate.result.internal.OutputsImpl.&lt;init&gt;(OutputsImpl.java:56)\r\n            ... 49 more\r\n    Caused by: Error : 1403, Position : 0, Sql = BEGIN PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID(:1 ,:2 ,:3 ); END;, OriginalSql = {call PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID(?,?,?)}, Error Msg = ORA-01403: No se ha encontrado ning&#250;n dato\r\n    ORA-06512: en &quot;PERS.PKG_COMP_CUENTAS&quot;, l&#237;nea 12122\r\n    ORA-01403: No se ha encontrado ning&#250;n dato\r\n    ORA-06512: en l&#237;nea 1\r\n    \r\n            at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\r\n            ... 64 more\r\n\r\nI need to capture oracle&#39;s own error code, that is, the one that comes in the following fragment:\r\n\r\n**Caused by: java.sql.SQLException: ORA-01403: No data found**   \r\n\r\nHow can I do this? \r\n\r\n**UPDATE 10/07/2023**                                                                                                                                                    \r\n\r\n**SOLVED**\r\n\r\nI managed to solve using the following line:\r\n\r\n **e.getCause().getCause().getLocalizedMessage()**\r\n   \r\n    catch (SQLException | PersistenceException e ) {\r\n                log.info(&quot;Excepci&#243;n SQL: &quot;+ e.getCause().getCause().getLocalizedMessage());\r\n                if(e.getCause().getCause().getLocalizedMessage().contains(&quot;ORA-01403&quot;)){\r\n                    response = mapping.setResponseError(request, ExceptionMessages.MSG062.name(), ExceptionMessages.MSG062.getMsgCode());\r\n                    log.info(SALIDA_MS + new Gson().toJson(response));\r\n                }\r\n                else {\r\n                    response = mapping.setResponseError(request, ExceptionMessages.MSG019.name(), ExceptionMessages.MSG019.getMsgCode());\r\n                    log.info(SALIDA_MS + new Gson().toJson(response));\r\n                }\r\n                return response;\r\n[![enter image description here][3]][3]\r\n\r\nHowever, is this a good practice?\r\n\r\n  [3]: https://i.stack.imgur.com/uITHZ.png","title":"How you can capture the value of Cause By in a Hibernate PersistenceExceptionException in Quarkus","body":"<p>Good morning, I am currently working with persistent java to consult a Stored Procedure in an Oracle DB, and I am catching the exceptions through a catch, however, I have a problem with the PersistenceException exception, which I need to read its caused By to do a conditional, so I currently have it and this is what the exception.message returns me:</p>\n<pre><code>    } catch (SQLException | PersistenceException e ) {\n        log.info(&quot;Excepción SQL: &quot;+ e.getMessage());\n        if(e.getCause().getMessage().contains(&quot;ORA-01403&quot;)){\n            response = mapping.setResponseError(request, ExceptionMessages.MSG062.name(), ExceptionMessages.MSG062.getMsgCode());\n            log.info(SALIDA_MS + new Gson().toJson(response));\n        }\n        else {\n            response = mapping.setResponseError(request, ExceptionMessages.MSG019.name(), ExceptionMessages.MSG019.getMsgCode());\n            log.info(SALIDA_MS + new Gson().toJson(response));\n        }\n</code></pre>\n<p>My Repository Class:</p>\n<pre><code>package com.tmve.account.repositoty.impl;\n\nimport com.tmve.account.beans.PostpaidAccount;\nimport com.tmve.account.repositoty.IFindPostpaidAccountByDocumentRepository;\nimport lombok.extern.slf4j.Slf4j;\n\n\nimport javax.inject.Inject;\nimport javax.inject.Singleton;\nimport javax.persistence.EntityManager;\nimport javax.persistence.StoredProcedureQuery;\nimport java.util.List;\n\n@Slf4j\n@Singleton\npublic class FindPostpaidAccountByDocumentRepository implements IFindPostpaidAccountByDocumentRepository {\n\n    @Inject\n    EntityManager entityManager;\n\n    @Override\n    public List&lt;PostpaidAccount&gt; getPostpaidAccount(String documentType, String documentNumber) {\n\n        StoredProcedureQuery storedProcedureQuery=entityManager\n                .createNamedStoredProcedureQuery(&quot;BuscarCuentasRolesxDocId&quot;);\n        storedProcedureQuery.setParameter(1,documentNumber);\n        storedProcedureQuery.setParameter(2,Integer.parseInt(documentType));\n\n        storedProcedureQuery.execute();\n\n        return (List&lt;PostpaidAccount&gt;) storedProcedureQuery.getResultList();\n    }\n}\n</code></pre>\n<p>My entity:</p>\n<pre><code>package com.tmve.account.beans;\n\n\nimport lombok.Getter;\nimport lombok.ToString;\n\nimport javax.persistence.*;\nimport java.sql.Date;\n\n@NamedStoredProcedureQueries({\n        @NamedStoredProcedureQuery(\n                name = PostpaidAccount.NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE,\n                procedureName = &quot;PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID&quot;,\n                resultClasses = {PostpaidAccount.class},\n                parameters = {\n                        @StoredProcedureParameter(mode = ParameterMode.IN, type = String.class),\n                        @StoredProcedureParameter(mode = ParameterMode.IN, type = Integer.class),\n                        @StoredProcedureParameter(mode = ParameterMode.REF_CURSOR, type = void.class),\n                })\n})\n@Getter\n@Entity\n@ToString\npublic class PostpaidAccount {\n\n    public static final String NAME_QUERY_BUSCAR_CUENTAS_ROLES_X_DOC_IDE=  &quot;BuscarCuentasRolesxDocId&quot;;\n    private static final long serialVersionUID = 5853819176277617472L;\n\n    @Id\n    @Column(name = &quot;V_NUMERO_CUENTA&quot;)\n    Long account;\n    @Column(name = &quot;V_NUM_CTA_PAGADORA&quot;)\n    Long billingAccountNumber;\n    @Column(name = &quot;V_NUM_CTA_DIG_VERI&quot;)\n    Long billingAccountNumberValidators;\n    @Column(name = &quot;V_TIPO_CUENTA&quot;)\n    String accountType;\n    @Column(name = &quot;V_ESTADO&quot;)\n    String accountStatus;\n    @Column(name = &quot;V_NOMBRE_ESTADO&quot;)\n    String accountStatusDescription;\n    @Column(name = &quot;V_ID_PRODUCTO&quot;)\n    Integer productoId;\n    @Column(name = &quot;NOMBRE_PRODUCTO&quot;)\n    String productName;\n    @Column(name = &quot;FECHA_INICIO_PROD&quot;)\n    Date customerSince;\n    @Column(name = &quot;V_TITULAR_CUENTA&quot;)\n    String accountHolder;\n    @Column(name = &quot;V_TIPO_RELACION&quot;)\n    String relationshipType;\n    @Column(name = &quot;V_PLATAF&quot;)\n    int platformId;\n    @Column(name = &quot;V_IDENTIFICADOR&quot;)\n    String identifier;\n    @Column(name = &quot;NOMBRE_AREA&quot;)\n    String marketName;\n}\n</code></pre>\n<p>This is what the e.getmessage() returns me:</p>\n<pre><code>Excepción SQL: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults     \n</code></pre>\n<p>But I need to catch the cause to apply a conditional, specifically if it returns the code ORA-01403, as the exception is shown otherwise it will be caught:</p>\n<pre><code>javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\n        at org.jboss.resteasy.core.ExceptionHandler.handleApplicationException(ExceptionHandler.java:105)\n        at org.jboss.resteasy.core.ExceptionHandler.handleException(ExceptionHandler.java:359)\n        at org.jboss.resteasy.core.SynchronousDispatcher.writeException(SynchronousDispatcher.java:218)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:519)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$invoke$4(SynchronousDispatcher.java:261)\n        at org.jboss.resteasy.core.SynchronousDispatcher.lambda$preprocess$0(SynchronousDispatcher.java:161)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.SynchronousDispatcher.preprocess(SynchronousDispatcher.java:164)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:247)\n        at io.quarkus.resteasy.runtime.standalone.RequestDispatcher.service(RequestDispatcher.java:82)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler.dispatch(VertxRequestHandler.java:147)\n        at io.quarkus.resteasy.runtime.standalone.VertxRequestHandler$1.run(VertxRequestHandler.java:93)\n        at io.quarkus.vertx.core.runtime.VertxCoreRecorder$14.runWith(VertxCoreRecorder.java:576)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2449)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1478)\n        at org.jboss.threads.DelegatingRunnable.run(DelegatingRunnable.java:29)\n        at org.jboss.threads.ThreadLocalResettingRunnable.run(ThreadLocalResettingRunnable.java:29)\n        at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n        at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: javax.persistence.PersistenceException: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:154)\n        at org.hibernate.internal.ExceptionConverterImpl.convert(ExceptionConverterImpl.java:181)\n        at org.hibernate.procedure.internal.ProcedureCallImpl.execute(ProcedureCallImpl.java:624)\n        at com.tmve.account.repositoty.impl.FindPostpaidAccountByDocumentRepository.getPostpaidAccount(FindPostpaidAccountByDocumentRepository.java:29)\n        at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentService.java:43)\n        at com.tmve.account.service.impl.FindPostpaidAccountByDocumentService_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController.getPostpaidAccountListByDocument(FindPostpaidAccountByDocumentController.java:47)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument$$superforward1(Unknown Source)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass$$function$$1.apply(Unknown Source)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.proceed(AroundInvokeInvocationContext.java:54)\n        at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor.restMethodInvoke(QuarkusRestPathTemplateInterceptor.java:39)\n        at io.quarkus.resteasy.runtime.QuarkusRestPathTemplateInterceptor_Bean.intercept(Unknown Source)\n        at io.quarkus.arc.impl.InterceptorInvocation.invoke(InterceptorInvocation.java:42)\n        at io.quarkus.arc.impl.AroundInvokeInvocationContext.perform(AroundInvokeInvocationContext.java:41)\n        at io.quarkus.arc.impl.InvocationContexts.performAroundInvoke(InvocationContexts.java:33)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_Subclass.getPostpaidAccountListByDocument(Unknown Source)\n        at com.tmve.account.controller.FindPostpaidAccountByDocumentController_ClientProxy.getPostpaidAccountListByDocument(Unknown Source)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:77)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:568)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:170)\n        at org.jboss.resteasy.core.MethodInjectorImpl.invoke(MethodInjectorImpl.java:130)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.internalInvokeOnTarget(ResourceMethodInvoker.java:660)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTargetAfterFilter(ResourceMethodInvoker.java:524)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.lambda$invokeOnTarget$2(ResourceMethodInvoker.java:474)\n        at org.jboss.resteasy.core.interception.jaxrs.PreMatchContainerRequestContext.filter(PreMatchContainerRequestContext.java:364)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invokeOnTarget(ResourceMethodInvoker.java:476)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:434)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:408)\n        at org.jboss.resteasy.core.ResourceMethodInvoker.invoke(ResourceMethodInvoker.java:69)\n        at org.jboss.resteasy.core.SynchronousDispatcher.invoke(SynchronousDispatcher.java:492)\n        ... 15 more\nCaused by: org.hibernate.exception.GenericJDBCException: Error calling CallableStatement.getMoreResults\n        at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)\n        at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)\n        at org.hibernate.result.internal.OutputsImpl.convert(OutputsImpl.java:83)\n        at org.hibernate.result.internal.OutputsImpl.&lt;init&gt;(OutputsImpl.java:60)\n        at org.hibernate.procedure.internal.ProcedureOutputsImpl.&lt;init&gt;(ProcedureOutputsImpl.java:34)\n        at org.hibernate.procedure.internal.ProcedureCallImpl.buildOutputs(ProcedureCallImpl.java:418)\n        at org.hibernate.procedure.internal.ProcedureCallImpl.getOutputs(ProcedureCallImpl.java:354)\n        at org.hibernate.procedure.internal.ProcedureCallImpl.outputs(ProcedureCallImpl.java:634)\n        at org.hibernate.procedure.internal.ProcedureCallImpl.execute(ProcedureCallImpl.java:617)\n        ... 44 more\nCaused by: java.sql.SQLException: ORA-01403: No se ha encontrado ningún dato\nORA-06512: en &quot;PERS.PKG_COMP_CUENTAS&quot;, línea 12122\nORA-01403: No se ha encontrado ningún dato\nORA-06512: en línea 1\n\n        at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:630)\n        at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:564)\n        at oracle.jdbc.driver.T4C8Oall.processError(T4C8Oall.java:1231)\n        at oracle.jdbc.driver.T4CTTIfun.receive(T4CTTIfun.java:772)\n        at oracle.jdbc.driver.T4CTTIfun.doRPC(T4CTTIfun.java:299)\n        at oracle.jdbc.driver.T4C8Oall.doOALL(T4C8Oall.java:512)\n        at oracle.jdbc.driver.T4CCallableStatement.doOall8(T4CCallableStatement.java:159)\n        at oracle.jdbc.driver.T4CCallableStatement.executeForRows(T4CCallableStatement.java:1237)\n        at oracle.jdbc.driver.OracleStatement.executeSQLStatement(OracleStatement.java:1820)\n        at oracle.jdbc.driver.OracleStatement.doExecuteWithTimeout(OracleStatement.java:1472)\n        at oracle.jdbc.driver.OraclePreparedStatement.executeInternal(OraclePreparedStatement.java:3761)\n        at oracle.jdbc.driver.OraclePreparedStatement.execute(OraclePreparedStatement.java:4136)\n        at oracle.jdbc.driver.OracleCallableStatement.execute(OracleCallableStatement.java:4279)\n        at oracle.jdbc.driver.OraclePreparedntWrapper.execute(OraclePreparedStatementWrapper.java:1014)\n        at io.agroal.pool.wrapper.CallableStatementWrapper.execute(CallableStatementWrapper.java:1431)\n        at org.hibernate.result.internal.OutputsImpl.&lt;init&gt;(OutputsImpl.java:56)\n        ... 49 more\nCaused by: Error : 1403, Position : 0, Sql = BEGIN PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID(:1 ,:2 ,:3 ); END;, OriginalSql = {call PERS.PKG_COMP_CUENTAS.BUSCAR_CUENTAS_ROLES_X_DOC_ID(?,?,?)}, Error Msg = ORA-01403: No se ha encontrado ningún dato\nORA-06512: en &quot;PERS.PKG_COMP_CUENTAS&quot;, línea 12122\nORA-01403: No se ha encontrado ningún dato\nORA-06512: en línea 1\n\n        at oracle.jdbc.driver.T4CTTIoer11.processError(T4CTTIoer11.java:637)\n        ... 64 more\n</code></pre>\n<p>I need to capture oracle's own error code, that is, the one that comes in the following fragment:</p>\n<p><strong>Caused by: java.sql.SQLException: ORA-01403: No data found</strong></p>\n<p>How can I do this?</p>\n<p><strong>UPDATE 10/07/2023</strong></p>\n<p><strong>SOLVED</strong></p>\n<p>I managed to solve using the following line:</p>\n<p><strong>e.getCause().getCause().getLocalizedMessage()</strong></p>\n<pre><code>catch (SQLException | PersistenceException e ) {\n            log.info(&quot;Excepción SQL: &quot;+ e.getCause().getCause().getLocalizedMessage());\n            if(e.getCause().getCause().getLocalizedMessage().contains(&quot;ORA-01403&quot;)){\n                response = mapping.setResponseError(request, ExceptionMessages.MSG062.name(), ExceptionMessages.MSG062.getMsgCode());\n                log.info(SALIDA_MS + new Gson().toJson(response));\n            }\n            else {\n                response = mapping.setResponseError(request, ExceptionMessages.MSG019.name(), ExceptionMessages.MSG019.getMsgCode());\n                log.info(SALIDA_MS + new Gson().toJson(response));\n            }\n            return response;\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uITHZ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uITHZ.png\" alt=\"enter image description here\" /></a></p>\n<p>However, is this a good practice?</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":9537825,"reputation":1490,"user_id":7275056,"display_name":"vsfDawg"},"score":0,"creation_date":1688988947,"post_id":76653123,"comment_id":135144633,"body_markdown":"What have you tried and why does it not work for you?","body":"What have you tried and why does it not work for you?"},{"owner":{"account_id":12237238,"reputation":59,"user_id":8931271,"display_name":"amit kumar"},"score":0,"creation_date":1688991258,"post_id":76653123,"comment_id":135145146,"body_markdown":"@vsfDawg I used findAll() to get all the data but it seems due to high volume of data ,sometimes it fails with cursor not found exception.","body":"@vsfDawg I used findAll() to get all the data but it seems due to high volume of data ,sometimes it fails with cursor not found exception."}],"owner":{"account_id":12237238,"reputation":59,"user_id":8931271,"display_name":"amit kumar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688992167,"creation_date":1688987367,"question_id":76653123,"body_markdown":"I have a mongo collection that has good amount of data in that, for my usecase I want to get all the data from the collection and keep in in-meomory.\r\n\r\nCurrently we are using JPA query findAll() to pull all the data which works fine in most of the time but sometimes we see cursor not found exception.\r\n\r\nBelow is the exact exception message\r\n\r\n&lt;code&gt; \r\n&quot;org.springframework.dao.DataAccessResourceFailureException&quot;, &quot;message&quot; : &quot;Cursor 7250434402800140524 not found on server mgs-stage.com:27017; nested exception is com.mongodb.MongoException$CursorNotFound: Cursor 7250434402800140524 not found on server mgs-stage.com:27017&quot;\r\n&lt;/code&gt;\r\n\r\nIs there any other better/efficient way to pull the data from the collection ? ","title":"Efficient way of pulling all data from a mongo collection","body":"<p>I have a mongo collection that has good amount of data in that, for my usecase I want to get all the data from the collection and keep in in-meomory.</p>\n<p>Currently we are using JPA query findAll() to pull all the data which works fine in most of the time but sometimes we see cursor not found exception.</p>\n<p>Below is the exact exception message</p>\n<code> \n\"org.springframework.dao.DataAccessResourceFailureException\", \"message\" : \"Cursor 7250434402800140524 not found on server mgs-stage.com:27017; nested exception is com.mongodb.MongoException$CursorNotFound: Cursor 7250434402800140524 not found on server mgs-stage.com:27017\"\n</code>\n<p>Is there any other better/efficient way to pull the data from the collection ?</p>\n"},{"tags":["java","testing","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4271284,"reputation":12416,"user_id":3493036,"accept_rate":81,"display_name":"Patrick"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1494257632,"creation_date":1494257632,"answer_id":43851672,"question_id":43851621,"body_markdown":"Yes you can do it.\r\n\r\nFor example use `@ActiveProfiles`:\r\n\r\n    @ActiveProfiles(&quot;default&quot;)\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest\r\n    public class YourTest {\r\n       //tests\r\n    }","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>Yes you can do it.</p>\n\n<p>For example use <code>@ActiveProfiles</code>:</p>\n\n<pre><code>@ActiveProfiles(\"default\")\n@RunWith(SpringRunner.class)\n@SpringBootTest\npublic class YourTest {\n   //tests\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"down_vote_count":0,"up_vote_count":19,"is_accepted":true,"score":19,"last_activity_date":1654801620,"creation_date":1494948358,"answer_id":44005588,"question_id":43851621,"body_markdown":"My colleague found a solution:\r\nso if you need to annotate separate tests you can use the `@IfProfileValue` annotation:\r\n\r\n    @IfProfileValue(name =&quot;spring.profiles.active&quot;, value =&quot;default&quot;)\r\n        @Test\r\n        public void testSomething() {\r\n            //testing logic\r\n        }\r\n\t\r\nThis test will run only when default profile is active\r\n\r\nUPDATE:\r\nFor Junit 5 use:\r\n\r\n    @EnabledIfSystemProperty(named = &quot;spring.profiles.active&quot;, matches = &quot;default&quot;)\r\n\r\nMore info: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-annotations-meta","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>My colleague found a solution:\nso if you need to annotate separate tests you can use the <code>@IfProfileValue</code> annotation:</p>\n<pre><code>@IfProfileValue(name =&quot;spring.profiles.active&quot;, value =&quot;default&quot;)\n    @Test\n    public void testSomething() {\n        //testing logic\n    }\n</code></pre>\n<p>This test will run only when default profile is active</p>\n<p>UPDATE:\nFor Junit 5 use:</p>\n<pre><code>@EnabledIfSystemProperty(named = &quot;spring.profiles.active&quot;, matches = &quot;default&quot;)\n</code></pre>\n<p>More info: <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-annotations-meta\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#integration-testing-annotations-meta</a></p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1598791922,"creation_date":1598791922,"answer_id":63657615,"question_id":43851621,"body_markdown":"`@IfProfileValue` only works for JUnit 4. If you&#39;re on JUnit 5, as you should be by this time, use `@EnabledIf` or `@DisabledIf`.\r\n\r\nExample:\r\n\r\n    @DisabledIf(\r\n        expression = &quot;#{systemProperties[&#39;os.name&#39;].toLowerCase().contains(&#39;mac&#39;)}&quot;,\r\n        reason = &quot;Disabled on Mac OS&quot;\r\n    )\r\n\r\nSee [the docs](https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#integration-testing-annotations-junit-jupiter) for more details.","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p><code>@IfProfileValue</code> only works for JUnit 4. If you're on JUnit 5, as you should be by this time, use <code>@EnabledIf</code> or <code>@DisabledIf</code>.</p>\n<p>Example:</p>\n<pre><code>@DisabledIf(\n    expression = &quot;#{systemProperties['os.name'].toLowerCase().contains('mac')}&quot;,\n    reason = &quot;Disabled on Mac OS&quot;\n)\n</code></pre>\n<p>See <a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#integration-testing-annotations-junit-jupiter\" rel=\"nofollow noreferrer\">the docs</a> for more details.</p>\n"},{"tags":[],"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1605876593,"creation_date":1605876593,"answer_id":64929800,"question_id":43851621,"body_markdown":"If you want to run the tests from the command line using below:\r\n\r\n```\r\nSPRING_PROFILES_ACTIVE=dev ./gradlew test\r\n```\r\n\r\nand none of the above works for you, you can use below annotation (on a class or single test method):\r\n\r\n```\r\n@DisabledIfEnvironmentVariable(named = &quot;SPRING_PROFILES_ACTIVE&quot;, matches = &quot;(dev|default|local)&quot;)\r\n```\r\n\r\nThe test will be disabled if the spring profile is set to `dev` or `default` or `local` (regular expression)","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>If you want to run the tests from the command line using below:</p>\n<pre><code>SPRING_PROFILES_ACTIVE=dev ./gradlew test\n</code></pre>\n<p>and none of the above works for you, you can use below annotation (on a class or single test method):</p>\n<pre><code>@DisabledIfEnvironmentVariable(named = &quot;SPRING_PROFILES_ACTIVE&quot;, matches = &quot;(dev|default|local)&quot;)\n</code></pre>\n<p>The test will be disabled if the spring profile is set to <code>dev</code> or <code>default</code> or <code>local</code> (regular expression)</p>\n"},{"tags":[],"owner":{"account_id":12243278,"reputation":762,"user_id":10275600,"display_name":"Shtefan"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1629335639,"creation_date":1629335639,"answer_id":68840903,"question_id":43851621,"body_markdown":"You can use this profile based condition:\r\n    \r\n    @EnabledIf(value = &quot;#{&#39;${spring.profiles.active}&#39; == &#39;test&#39;}&quot;, loadContext = true)\r\n\r\n","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>You can use this profile based condition:</p>\n<pre><code>@EnabledIf(value = &quot;#{'${spring.profiles.active}' == 'test'}&quot;, loadContext = true)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1519327,"reputation":91,"user_id":1419478,"display_name":"Jurgen R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681380398,"creation_date":1681380398,"answer_id":76004184,"question_id":43851621,"body_markdown":"Here is another alternative for JUnit 5.9.x. This will only work on test methods and not on the class level as in that case the `isProfileActive` needs to be `static` . :\r\n\r\n```java\r\n@SpringBootTest\r\npublic class SomeTest {\r\n\r\n    @Autowired\r\n    Environment environment;\r\n\r\n    @Test\r\n    @DisabledIf(&quot;isProfileActive&quot;)\r\n    void testMethod() {}\r\n\r\n    boolean isProfileActive() {\r\n        return Arrays.stream(this.environment.getActiveProfiles()).toList().contains(&quot;myprofile&quot;);\r\n    }\r\n}\r\n```","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>Here is another alternative for JUnit 5.9.x. This will only work on test methods and not on the class level as in that case the <code>isProfileActive</code> needs to be <code>static</code> . :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@SpringBootTest\npublic class SomeTest {\n\n    @Autowired\n    Environment environment;\n\n    @Test\n    @DisabledIf(&quot;isProfileActive&quot;)\n    void testMethod() {}\n\n    boolean isProfileActive() {\n        return Arrays.stream(this.environment.getActiveProfiles()).toList().contains(&quot;myprofile&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1472916,"reputation":1703,"user_id":1384013,"accept_rate":50,"display_name":"Ubeogesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688992066,"creation_date":1688992066,"answer_id":76653745,"question_id":43851621,"body_markdown":"None of the answers have worked for me, and look incorrect at a glance (e.g. comparing a list to a string or expecting profiles to be declared via the one system property)\r\n\r\nThe following actually works:\r\n\r\n    @EnabledIf(expression = &quot;#{environment.acceptsProfiles(&#39;preprod&#39;)}&quot;, loadContext = true)\r\n\r\n\r\nUnfortunately, as of Spring 5.3.23 (that I happen to be using) ```Environment::acceptsProfiles(String...)``` is marked as deprecated in favour of ```Environment::acceptsProfiles(Profiles...)```. However the ```Profiles of(String...)``` doesn&#39;t work in an expression and leads to the following error.\r\n\r\n```Property or field &#39;Profiles&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid```\r\n\r\nIf someone knows a way around this, please correct my answer.","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>None of the answers have worked for me, and look incorrect at a glance (e.g. comparing a list to a string or expecting profiles to be declared via the one system property)</p>\n<p>The following actually works:</p>\n<pre><code>@EnabledIf(expression = &quot;#{environment.acceptsProfiles('preprod')}&quot;, loadContext = true)\n</code></pre>\n<p>Unfortunately, as of Spring 5.3.23 (that I happen to be using) <code>Environment::acceptsProfiles(String...)</code> is marked as deprecated in favour of <code>Environment::acceptsProfiles(Profiles...)</code>. However the <code>Profiles of(String...)</code> doesn't work in an expression and leads to the following error.</p>\n<p><code>Property or field 'Profiles' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid</code></p>\n<p>If someone knows a way around this, please correct my answer.</p>\n"}],"owner":{"account_id":5788395,"reputation":5166,"user_id":4566794,"accept_rate":86,"display_name":"IKo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12948,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":44005588,"answer_count":7,"score":21,"last_activity_date":1688992066,"creation_date":1494257489,"question_id":43851621,"body_markdown":"I have two profiles: dev and default. And I would like to skip some (not all) tests when the active profile is default.\r\nIs it possible to mark these tests somehow to do so? Or how can this be achieved?\r\nI use springboot. This is my parent test class:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @SpringBootTest(classes = MyServiceStarter.class, webEnvironment= SpringBootTest.WebEnvironment.DEFINED_PORT,\r\n            properties = {&quot;flyway.locations=filesystem:../database/h2&quot;, &quot;server.port=9100&quot;, &quot;spring.profiles.default=dev&quot;})\r\n    @Category(IntegrationTest.class)\r\n    public abstract class AbstractModuleIntegrationTest { ... }","title":"Is it possible to mark springboot tests so they run only when certain profile is active","body":"<p>I have two profiles: dev and default. And I would like to skip some (not all) tests when the active profile is default.\nIs it possible to mark these tests somehow to do so? Or how can this be achieved?\nI use springboot. This is my parent test class:</p>\n\n<pre><code>@RunWith(SpringRunner.class)\n@SpringBootTest(classes = MyServiceStarter.class, webEnvironment= SpringBootTest.WebEnvironment.DEFINED_PORT,\n        properties = {\"flyway.locations=filesystem:../database/h2\", \"server.port=9100\", \"spring.profiles.default=dev\"})\n@Category(IntegrationTest.class)\npublic abstract class AbstractModuleIntegrationTest { ... }\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1688991959,"post_id":76653720,"comment_id":135145315,"body_markdown":"Stop using outdated classes like `java.util.Date` and `SimpleDateformat`. Swith to the newer `java.time` API","body":"Stop using outdated classes like <code>java.util.Date</code> and <code>SimpleDateformat</code>. Swith to the newer <code>java.time</code> API"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1688996297,"post_id":76653720,"comment_id":135146449,"body_markdown":"Something like `ZonedDateTime then = ZonedDateTime.now(ZoneId.of(&quot;America/New_York&quot;)).withHour(1).withMinute(25).withSecond(0);`","body":"Something like <code>ZonedDateTime then = ZonedDateTime.now(ZoneId.of(&quot;America&#47;New_York&quot;)).withHour(1)&zwnj;&#8203;.withMinute(25).with&zwnj;&#8203;Second(0);</code>"}],"owner":{"account_id":14507866,"reputation":231,"user_id":10479172,"display_name":"coder"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":13,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688992103,"answer_count":0,"score":0,"last_activity_date":1688991857,"creation_date":1688991857,"question_id":76653720,"body_markdown":"I would like to know, how to get date of a certain time zone and update hours , mins and seconds of it. For example\r\n\r\nif EST time now is 20230710 05:22:22 \r\nI want to update it to 20230710 01:25:00  and also get previous date and set time to 20230709 01:25:00\r\n\r\nUsing below i am getting EST time , but I am not able update the hour,mins and secs \r\nPlease advise\r\n\r\n    TimeZone tz = TimeZone.getTimeZone(&quot;EST&quot;);\r\n    long utc = System.currentTimeMillis();\r\n    Date currentTime = new Date(utc);\r\n    DateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\r\n    df.setTimeZone(tz);\r\n    String s = df.format(currentTime).replace(&quot;-&quot;, &quot;&quot;);\r\n\r\n","title":"How to update hours, mins and seconds in Data using java?","body":"<p>I would like to know, how to get date of a certain time zone and update hours , mins and seconds of it. For example</p>\n<p>if EST time now is 20230710 05:22:22\nI want to update it to 20230710 01:25:00  and also get previous date and set time to 20230709 01:25:00</p>\n<p>Using below i am getting EST time , but I am not able update the hour,mins and secs\nPlease advise</p>\n<pre><code>TimeZone tz = TimeZone.getTimeZone(&quot;EST&quot;);\nlong utc = System.currentTimeMillis();\nDate currentTime = new Date(utc);\nDateFormat df = new SimpleDateFormat(&quot;yyyy-MM-dd&quot;);\ndf.setTimeZone(tz);\nString s = df.format(currentTime).replace(&quot;-&quot;, &quot;&quot;);\n</code></pre>\n"},{"tags":["java","arraylist"],"comments":[{"owner":{"account_id":14462805,"reputation":821,"user_id":10447184,"display_name":"Marius Jaraminas"},"score":1,"creation_date":1578252413,"post_id":59603366,"comment_id":105370772,"body_markdown":"take a look in here to understand how it works: https://www.journaldev.com/744/java-array-of-arraylist-of-array","body":"take a look in here to understand how it works: <a href=\"https://www.journaldev.com/744/java-array-of-arraylist-of-array\" rel=\"nofollow noreferrer\">journaldev.com/744/java-array-of-arraylist-of-array</a>"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":1,"creation_date":1578252798,"post_id":59603366,"comment_id":105370882,"body_markdown":"`ArrayList allPays` is a raw-type. **Don&#39;t** use raw-types.","body":"<code>ArrayList allPays</code> is a raw-type. <b>Don&#39;t</b> use raw-types."},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":0,"creation_date":1578252899,"post_id":59603366,"comment_id":105370918,"body_markdown":"Do you want to add all elements of the array or do you want to have an ArrayList od arrays?","body":"Do you want to add all elements of the array or do you want to have an ArrayList od arrays?"}],"answers":[{"tags":[],"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1578252752,"creation_date":1578252630,"answer_id":59603474,"question_id":59603366,"body_markdown":"It does not compile because the variable in the method addtothearray is a local variable in the main method. Passing it as an argument or making it a global variable will solve that compilation problem.\r\n\r\n    public static void main(String[] args) {\r\n        ArrayList allPays = new ArrayList&lt;Double&gt;();\r\n        double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\r\n        addtothearray(allPays, employeePay);\r\n    }\r\n    \r\n    public static void addtothearray(ArrayList allPays, double[] Pay) {\r\n        allPays.add(Pay);\r\n    }","title":"adding an array into an ArrayList","body":"<p>It does not compile because the variable in the method addtothearray is a local variable in the main method. Passing it as an argument or making it a global variable will solve that compilation problem.</p>\n\n<pre><code>public static void main(String[] args) {\n    ArrayList allPays = new ArrayList&lt;Double&gt;();\n    double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\n    addtothearray(allPays, employeePay);\n}\n\npublic static void addtothearray(ArrayList allPays, double[] Pay) {\n    allPays.add(Pay);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5226795,"reputation":656,"user_id":4178596,"accept_rate":91,"display_name":"t4dohx"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578252890,"creation_date":1578252778,"answer_id":59603492,"question_id":59603366,"body_markdown":"**Adding to an existing List**\r\n* if your List is type of `Double`  \r\n  \r\n    List&lt;Double&gt; allPays = new ArrayList&lt;&gt;();\r\n    double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\r\n    DoubleStream.of(employeePay).forEach(allPays::add);\r\n    \r\n**Adding to an existing List**\r\n* if your List is type of `double[]`  \r\n\r\n    List&lt;double[]&gt; allPays = new ArrayList&lt;&gt;();\r\n    double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\r\n    allPays.add(employeePay);\r\n","title":"adding an array into an ArrayList","body":"<p><strong>Adding to an existing List</strong>\n* if your List is type of <code>Double</code>  </p>\n\n<pre><code>List&lt;Double&gt; allPays = new ArrayList&lt;&gt;();\ndouble[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\nDoubleStream.of(employeePay).forEach(allPays::add);\n</code></pre>\n\n<p><strong>Adding to an existing List</strong>\n* if your List is type of <code>double[]</code>  </p>\n\n<pre><code>List&lt;double[]&gt; allPays = new ArrayList&lt;&gt;();\ndouble[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\nallPays.add(employeePay);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1578252978,"creation_date":1578252978,"answer_id":59603525,"question_id":59603366,"body_markdown":"You can do it as follows:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    public class Pays {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tArrayList&lt;double[]&gt; allPays = new ArrayList&lt;double[]&gt;();\r\n    \t\tdouble[] employeePay = { 10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8, 0, 9.0, 10.0, 11.0, 12.0 };\r\n    \t\taddtothearray(allPays, employeePay);\r\n    \r\n    \t\t// Test\r\n    \t\tSystem.out.println(Arrays.toString((double[]) allPays.get(0)));\r\n    \t}\r\n    \r\n    \tpublic static void addtothearray(ArrayList&lt;double[]&gt; allPays, double[] pay) {\r\n    \t\tallPays.add(pay);\r\n    \t}\r\n    }\r\n\r\n**Output:**\r\n\r\n    [10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 0.0, 9.0, 10.0, 11.0, 12.0]\r\n\r\n","title":"adding an array into an ArrayList","body":"<p>You can do it as follows:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class Pays {\n\n    public static void main(String[] args) {\n        ArrayList&lt;double[]&gt; allPays = new ArrayList&lt;double[]&gt;();\n        double[] employeePay = { 10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8, 0, 9.0, 10.0, 11.0, 12.0 };\n        addtothearray(allPays, employeePay);\n\n        // Test\n        System.out.println(Arrays.toString((double[]) allPays.get(0)));\n    }\n\n    public static void addtothearray(ArrayList&lt;double[]&gt; allPays, double[] pay) {\n        allPays.add(pay);\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8.0, 0.0, 9.0, 10.0, 11.0, 12.0]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7068114,"reputation":624,"user_id":5410757,"accept_rate":86,"display_name":"PaulProgrammerNoob"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1630743123,"creation_date":1630743123,"answer_id":69053532,"question_id":59603366,"body_markdown":"`java.util.Collections.addAll(list, array)`","title":"adding an array into an ArrayList","body":"<p><code>java.util.Collections.addAll(list, array)</code></p>\n"},{"tags":[],"owner":{"account_id":28986782,"reputation":1,"user_id":22203444,"display_name":"Jono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688991773,"creation_date":1688990095,"answer_id":76653485,"question_id":59603366,"body_markdown":"You are very close to getting the outcome you wanted, the problem is that your `ArrayList&lt;double&gt;` is defined to accept individual values of type double (example: 5.765) not double arrays (example: {5.5, 5.7, 3.2, etc.} ). \r\n\r\nTo fix this use `ArrayList&lt;double[]&gt;` instead. \r\n\r\nYou might also have trouble with the `addtothearray()` function, as you have not passed the location of the ArrayList to it. \r\n\r\nYou can fix this by changing the function parameters like this:\r\n\r\n    public static void addtothearray(ArrayList&lt;double[]&gt; allPays, double[] Pay) {\r\n\r\nthen pass in the allPays ArrayList when the function is called like this:\r\n\r\n    addtothearray(allPays, employeePay);","title":"adding an array into an ArrayList","body":"<p>You are very close to getting the outcome you wanted, the problem is that your <code>ArrayList&lt;double&gt;</code> is defined to accept individual values of type double (example: 5.765) not double arrays (example: {5.5, 5.7, 3.2, etc.} ).</p>\n<p>To fix this use <code>ArrayList&lt;double[]&gt;</code> instead.</p>\n<p>You might also have trouble with the <code>addtothearray()</code> function, as you have not passed the location of the ArrayList to it.</p>\n<p>You can fix this by changing the function parameters like this:</p>\n<pre><code>public static void addtothearray(ArrayList&lt;double[]&gt; allPays, double[] Pay) {\n</code></pre>\n<p>then pass in the allPays ArrayList when the function is called like this:</p>\n<pre><code>addtothearray(allPays, employeePay);\n</code></pre>\n"}],"owner":{"display_name":"user12422573"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4211,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":5,"score":-1,"last_activity_date":1688991773,"creation_date":1578251932,"question_id":59603366,"body_markdown":"I know that I am doing something silly here but I am trying to write my first piece of code using Java Arraylists and I have got myself confused.\r\n\r\nBasically I have created an Arraylist called allPays.  This is going to be an array list of employee pay for each month of the year.  So if I have 10 employees then the array list will contain 10 arrays of 12 months pay.\r\n\r\nI have then created my first array of 12 months pay.\r\n\r\nI then try and call a method to add the array to the Arraylist.\r\n\r\nPut it is not compiling …… can anyone guide me on where I am going wrong.  Sorry that this appears basic but I am finding it a challenging concept.\r\n\r\n\r\n\r\n\r\n        package christmas;\r\n        import java.util.ArrayList;\r\n\r\n        public class Pays {\r\n\r\n        \tpublic static void main(String[] args) {\r\n\r\n    \r\n\t        ArrayList allPays = new ArrayList&lt;Double&gt;();\r\n \r\n\t        double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\r\n\t\r\n\t        addtothearray(employeePay);\r\n\t\r\n\t         }\r\n\t  \r\n\t    \r\n\t        public static void addtothearray(double[] Pay) {\r\n\t\r\n\t\r\n\t        allPays.add(Pay);\r\n\t\t\r\n\t        }\r\n         }","title":"adding an array into an ArrayList","body":"<p>I know that I am doing something silly here but I am trying to write my first piece of code using Java Arraylists and I have got myself confused.</p>\n\n<p>Basically I have created an Arraylist called allPays.  This is going to be an array list of employee pay for each month of the year.  So if I have 10 employees then the array list will contain 10 arrays of 12 months pay.</p>\n\n<p>I have then created my first array of 12 months pay.</p>\n\n<p>I then try and call a method to add the array to the Arraylist.</p>\n\n<p>Put it is not compiling …… can anyone guide me on where I am going wrong.  Sorry that this appears basic but I am finding it a challenging concept.</p>\n\n<pre><code>    package christmas;\n    import java.util.ArrayList;\n\n    public class Pays {\n\n        public static void main(String[] args) {\n\n\n        ArrayList allPays = new ArrayList&lt;Double&gt;();\n\n        double[] employeePay = {10.0, 2.0, 3.0, 4.0, 5.0, 6.0, 7.0, 8,0, 9.0, 10.0, 11.0, 12.0};\n\n        addtothearray(employeePay);\n\n         }\n\n\n        public static void addtothearray(double[] Pay) {\n\n\n        allPays.add(Pay);\n\n        }\n     }\n</code></pre>\n"},{"tags":["java","android","kotlin","ontouchlistener","viewgroup"],"answers":[{"tags":[],"owner":{"account_id":3986872,"reputation":76,"user_id":3287176,"display_name":"Pravin Tadvi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688991562,"creation_date":1688727127,"answer_id":76636302,"question_id":76635920,"body_markdown":"Please check what view you have got exactly by below code:\r\n\r\n```\r\nLog.d (&quot;tally&quot;, &quot;Inside text_view parent: &quot; + (v.parent).toString())\r\nLog.d (&quot;tally&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v. parent.parent).toString())\r\n```\r\n\r\nBecause, I think, `v.rootView` give you `topmost view` of `view hierarchy `.\r\n\r\n\r\n**[UPDATE]**\r\n\r\n**After our threads of Comment, I update here, how to track, what is exactly you got after calling `v.rootView `**\r\n\r\nfirst, read another link to better understand `android&#39;s view hierarchy`\r\n\r\nhttps://medium.com/@MrAndroid/android-window-basic-concepts-a11d6fcaaf3f#:~:text=DecorView%20is%20a%20ViewGroup%20so,event%20in%20the%20dispatchTouchEvent%20method.\r\n\r\nNow, let&#39;s try below things:\r\n```\r\nLog.d (&quot;demo&quot;, &quot;Inside text_view parent: &quot; + (v.parent).toString())\r\nLog.d (&quot;demo&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v.parent.parent).toString())\r\n\r\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView: &quot; + (v.getRootView()).toString())\r\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView Name: &quot; + (v.getRootView().accessibilityClassName).toString())\r\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView is ViewGroup: &quot; + (v.getRootView() is ViewGroup))\r\n\r\nif(v.getRootView() is ViewGroup){\r\n  var vg: ViewGroup  = v.getRootView() as ViewGroup;\r\n  trackParentView(v,0, vg)\r\n}\r\n````\r\n\r\nNow, use below method `trackParentView(...)`:\r\n\r\n\r\n```\r\nfun trackParentView(view :View, cnt :Int, rootView :ViewGroup){\r\n   //Log.d (&quot;trackParentView()&quot;, &quot;view (name) [track: &quot;+cnt+&quot;]: &quot;+ view.accessibilityClassName)\r\n   Log.d (&quot;trackParentView()&quot;, &quot;view (toString) [track: &quot;+cnt+&quot;]: &quot;+ view.toString())\r\n   if(view.parent != rootView){\r\n     trackParentView(view.parent as View, cnt+1, rootView)\r\n   } else {\r\n     Log.d (&quot;trackParentView()&quot;, &quot;this is rootView at : [&quot;+cnt+&quot;]: &quot;+ view.toString())\r\n   }\r\n }\r\n```","title":"Unable to Find the topmost view using View.rootView","body":"<p>Please check what view you have got exactly by below code:</p>\n<pre><code>Log.d (&quot;tally&quot;, &quot;Inside text_view parent: &quot; + (v.parent).toString())\nLog.d (&quot;tally&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v. parent.parent).toString())\n</code></pre>\n<p>Because, I think, <code>v.rootView</code> give you <code>topmost view</code> of <code>view hierarchy </code>.</p>\n<p><strong>[UPDATE]</strong></p>\n<p><strong>After our threads of Comment, I update here, how to track, what is exactly you got after calling <code>v.rootView </code></strong></p>\n<p>first, read another link to better understand <code>android's view hierarchy</code></p>\n<p><a href=\"https://medium.com/@MrAndroid/android-window-basic-concepts-a11d6fcaaf3f#:%7E:text=DecorView%20is%20a%20ViewGroup%20so,event%20in%20the%20dispatchTouchEvent%20method\" rel=\"nofollow noreferrer\">https://medium.com/@MrAndroid/android-window-basic-concepts-a11d6fcaaf3f#:~:text=DecorView%20is%20a%20ViewGroup%20so,event%20in%20the%20dispatchTouchEvent%20method</a>.</p>\n<p>Now, let's try below things:</p>\n<pre><code>Log.d (&quot;demo&quot;, &quot;Inside text_view parent: &quot; + (v.parent).toString())\nLog.d (&quot;demo&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v.parent.parent).toString())\n\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView: &quot; + (v.getRootView()).toString())\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView Name: &quot; + (v.getRootView().accessibilityClassName).toString())\nLog.d (&quot;demo&quot;, &quot;Inside text_view getRootView is ViewGroup: &quot; + (v.getRootView() is ViewGroup))\n\nif(v.getRootView() is ViewGroup){\n  var vg: ViewGroup  = v.getRootView() as ViewGroup;\n  trackParentView(v,0, vg)\n}\n</code></pre>\n<p>Now, use below method <code>trackParentView(...)</code>:</p>\n<pre><code>fun trackParentView(view :View, cnt :Int, rootView :ViewGroup){\n   //Log.d (&quot;trackParentView()&quot;, &quot;view (name) [track: &quot;+cnt+&quot;]: &quot;+ view.accessibilityClassName)\n   Log.d (&quot;trackParentView()&quot;, &quot;view (toString) [track: &quot;+cnt+&quot;]: &quot;+ view.toString())\n   if(view.parent != rootView){\n     trackParentView(view.parent as View, cnt+1, rootView)\n   } else {\n     Log.d (&quot;trackParentView()&quot;, &quot;this is rootView at : [&quot;+cnt+&quot;]: &quot;+ view.toString())\n   }\n }\n</code></pre>\n"}],"owner":{"account_id":27817647,"reputation":591,"user_id":21238708,"display_name":"Jatin guglani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76636302,"answer_count":1,"score":4,"last_activity_date":1688991562,"creation_date":1688724018,"question_id":76635920,"body_markdown":"I have the following View structure in my activity:\r\n\r\n- Relative Layout (id = 1)\r\n    - Relative Layout (id = 104)\r\n        - TextView (id = 200)\r\n\r\nNow when TextView is touched, I want to get the topmost relative layout&#39;s id (i.e. id = 1)\r\n\r\nI&#39;m using setOnTouchListener and inside that, I&#39;m writing two log statements as follows:\r\n\r\n   1) Log.d (&quot;demo&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v.parent.parent as ViewGroup).id)\r\n   2) Log.d (&quot;demo&quot;, &quot;Inside text_view rootViewID: &quot; + (v.rootView as ViewGroup).id)\r\n\r\nI&#39;m able to get my topmost relative layout&#39;s id (id = 1) using 1st log statement but the second log statement is printing -1. \r\n\r\ncould someone please explain why I&#39;m not able to get the topmost relative layout using View.rootView?\r\n\r\nfor reference: [View.rootView][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/View#getRootView()","title":"Unable to Find the topmost view using View.rootView","body":"<p>I have the following View structure in my activity:</p>\n<ul>\n<li>Relative Layout (id = 1)\n<ul>\n<li>Relative Layout (id = 104)\n<ul>\n<li>TextView (id = 200)</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p>Now when TextView is touched, I want to get the topmost relative layout's id (i.e. id = 1)</p>\n<p>I'm using setOnTouchListener and inside that, I'm writing two log statements as follows:</p>\n<ol>\n<li>Log.d (&quot;demo&quot;, &quot;Inside text_view parent.parent.id: &quot; + (v.parent.parent as ViewGroup).id)</li>\n<li>Log.d (&quot;demo&quot;, &quot;Inside text_view rootViewID: &quot; + (v.rootView as ViewGroup).id)</li>\n</ol>\n<p>I'm able to get my topmost relative layout's id (id = 1) using 1st log statement but the second log statement is printing -1.</p>\n<p>could someone please explain why I'm not able to get the topmost relative layout using View.rootView?</p>\n<p>for reference: <a href=\"https://developer.android.com/reference/android/view/View#getRootView()\" rel=\"nofollow noreferrer\">View.rootView</a></p>\n"},{"tags":["java","spring","spring-mvc","spring-boot","jakarta-mail"],"comments":[{"owner":{"account_id":1487895,"reputation":1115,"user_id":1395722,"accept_rate":90,"display_name":"a.l."},"score":1,"creation_date":1508751110,"post_id":46884327,"comment_id":80719280,"body_markdown":"Have encountered the same problem. Google for a long time did not find the answer, but fortunately my scene is relatively simple, so I use of the [JavaMail](https://javaee.github.io/javamail/) api to deal with my problem","body":"Have encountered the same problem. Google for a long time did not find the answer, but fortunately my scene is relatively simple, so I use of the <a href=\"https://javaee.github.io/javamail/\" rel=\"nofollow noreferrer\">JavaMail</a> api to deal with my problem"},{"owner":{"account_id":2622881,"reputation":123,"user_id":2270534,"display_name":"Loga Nathan"},"score":0,"creation_date":1508754904,"post_id":46884327,"comment_id":80721551,"body_markdown":"Thanks for the reply @Umang Loriya .I also found this solution but when i am try to do with in the mvc `spring boot` we cannot manage the connection to `smtp` server and also i don&#39;t know how to add listener for the new mail","body":"Thanks for the reply @Umang Loriya .I also found this solution but when i am try to do with in the mvc <code>spring boot</code> we cannot manage the connection to <code>smtp</code> server and also i don&#39;t know how to add listener for the new mail"},{"owner":{"account_id":2622881,"reputation":123,"user_id":2270534,"display_name":"Loga Nathan"},"score":0,"creation_date":1508755726,"post_id":46884327,"comment_id":80722064,"body_markdown":"thanks for the reply @aLeX","body":"thanks for the reply @aLeX"}],"answers":[{"tags":[],"owner":{"account_id":1976370,"reputation":986,"user_id":1774076,"display_name":"alexmagnus"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1510657193,"creation_date":1510607086,"answer_id":47273515,"question_id":46884327,"body_markdown":"You could consider using [Spring integration mail support][1]  \r\n\r\nThere is a [Java DSL](https://github.com/spring-projects/spring-integration-java-dsl/wiki/spring-integration-java-dsl-reference) for this purposes.  \r\nAn example of IMAP config could be found [here](https://github.com/spring-projects/spring-integration-java-dsl/blob/master/src/test/java/org/springframework/integration/dsl/test/mail/MailTests.java)  \r\n\r\nThe key aspects are like this  \r\n\r\n    @Configuration\r\n\t@EnableIntegration\r\n    public class IntegrationConfig {\r\n        ...\r\n\r\n        @Bean\r\n\t\tpublic IntegrationFlow imapIdleFlow() {\r\n\t\t\treturn IntegrationFlows\r\n\t\t\t\t\t.from(Mail.imapIdleAdapter(&quot;imap://user:pw@localhost:&quot; + imapIdleServer.getPort() + &quot;/INBOX&quot;)\r\n\t\t\t\t\t\t\t.autoStartup(true)\r\n\t\t\t\t\t\t\t.searchTermStrategy(this::fromAndNotSeenTerm)\r\n\t\t\t\t\t\t\t.userFlag(&quot;testSIUserFlag&quot;)\r\n\t\t\t\t\t\t\t.javaMailProperties(p -&gt; p.put(&quot;mail.debug&quot;, &quot;false&quot;)\r\n\t\t\t\t\t\t\t\t\t.put(&quot;mail.imap.connectionpoolsize&quot;, &quot;5&quot;))\r\n\t\t\t\t\t\t\t.shouldReconnectAutomatically(false)\r\n\t\t\t\t\t\t\t.headerMapper(mailHeaderMapper()))\r\n\t\t\t\t\t.channel(MessageChannels.queue(&quot;imapIdleChannel&quot;))\r\n\t\t\t\t\t.get();\r\n\t\t}\r\n\r\n\t\t@Bean\r\n\t\tpublic HeaderMapper&lt;MimeMessage&gt; mailHeaderMapper() {\r\n\t\t\treturn new DefaultMailHeaderMapper();\r\n\t\t}\r\n\r\n\t\tprivate SearchTerm fromAndNotSeenTerm(Flags supportedFlags, Folder folder) {\r\n\t\t\ttry {\r\n\t\t\t\tFromTerm fromTerm = new FromTerm(new InternetAddress(&quot;bar@baz&quot;));\r\n\t\t\t\treturn new AndTerm(fromTerm, new FlagTerm(new Flags(Flags.Flag.SEEN), false));\r\n\t\t\t}\r\n\t\t\tcatch (AddressException e) {\r\n\t\t\t\tthrow new RuntimeException(e);\r\n\t\t\t}\r\n\r\n\t\t}\r\n    }\r\n\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-integration/reference/html/mail.html#mail-inbound","title":"Spring boot read and new mail Listener on spring-boot-starter-mail","body":"<p>You could consider using <a href=\"https://docs.spring.io/spring-integration/reference/html/mail.html#mail-inbound\" rel=\"noreferrer\">Spring integration mail support</a>  </p>\n\n<p>There is a <a href=\"https://github.com/spring-projects/spring-integration-java-dsl/wiki/spring-integration-java-dsl-reference\" rel=\"noreferrer\">Java DSL</a> for this purposes.<br>\nAn example of IMAP config could be found <a href=\"https://github.com/spring-projects/spring-integration-java-dsl/blob/master/src/test/java/org/springframework/integration/dsl/test/mail/MailTests.java\" rel=\"noreferrer\">here</a>  </p>\n\n<p>The key aspects are like this  </p>\n\n<pre><code>@Configuration\n@EnableIntegration\npublic class IntegrationConfig {\n    ...\n\n    @Bean\n    public IntegrationFlow imapIdleFlow() {\n        return IntegrationFlows\n                .from(Mail.imapIdleAdapter(\"imap://user:pw@localhost:\" + imapIdleServer.getPort() + \"/INBOX\")\n                        .autoStartup(true)\n                        .searchTermStrategy(this::fromAndNotSeenTerm)\n                        .userFlag(\"testSIUserFlag\")\n                        .javaMailProperties(p -&gt; p.put(\"mail.debug\", \"false\")\n                                .put(\"mail.imap.connectionpoolsize\", \"5\"))\n                        .shouldReconnectAutomatically(false)\n                        .headerMapper(mailHeaderMapper()))\n                .channel(MessageChannels.queue(\"imapIdleChannel\"))\n                .get();\n    }\n\n    @Bean\n    public HeaderMapper&lt;MimeMessage&gt; mailHeaderMapper() {\n        return new DefaultMailHeaderMapper();\n    }\n\n    private SearchTerm fromAndNotSeenTerm(Flags supportedFlags, Folder folder) {\n        try {\n            FromTerm fromTerm = new FromTerm(new InternetAddress(\"bar@baz\"));\n            return new AndTerm(fromTerm, new FlagTerm(new Flags(Flags.Flag.SEEN), false));\n        }\n        catch (AddressException e) {\n            throw new RuntimeException(e);\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5488688,"reputation":1124,"user_id":4362715,"display_name":"redoff"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602517000,"creation_date":1602517000,"answer_id":64320919,"question_id":46884327,"body_markdown":"If you&#39;re asking about how to receive emails based on Spring Boot and a Java library for mail-receiving (e.g Subetha SMTP), you can check [Receive emails with SubEtha SMTP and Spring Boot][1]\r\n\r\n\r\n  [1]: https://redamessoudi.com/receive-emails-with-subetha-springboot/","title":"Spring boot read and new mail Listener on spring-boot-starter-mail","body":"<p>If you're asking about how to receive emails based on Spring Boot and a Java library for mail-receiving (e.g Subetha SMTP), you can check <a href=\"https://redamessoudi.com/receive-emails-with-subetha-springboot/\" rel=\"nofollow noreferrer\">Receive emails with SubEtha SMTP and Spring Boot</a></p>\n"},{"tags":[],"owner":{"account_id":19167456,"reputation":101,"user_id":14001886,"display_name":"Sushant Kumar Rout"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1614944536,"creation_date":1614944536,"answer_id":66491959,"question_id":46884327,"body_markdown":"    package com.grandview.service;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.Properties;\r\n    \r\n    import javax.annotation.PostConstruct;\r\n    import javax.mail.Folder;\r\n    import javax.mail.Message;\r\n    import javax.mail.MessagingException;\r\n    import javax.mail.Session;\r\n    import javax.mail.Store;\r\n    \r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.scheduling.annotation.Scheduled;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import com.grandview.model.EmailConfig;\r\n    import com.grandview.util.MessageParser;\r\n    \r\n    @Service\r\n    public class EmailService {\r\n    \t@Autowired\r\n    \tprivate EmailConfig emailConfig;\r\n    \r\n    \tFolder emailFolder;\r\n    \tStore store;\r\n    \tProperties properties = new Properties();\r\n    \r\n    \t@PostConstruct\r\n    \tvoid setup() {\r\n    \t\tString server = emailConfig.getHost();\r\n    \t\tproperties.put(&quot;mail.pop3.host&quot;, server);\r\n    \t\tproperties.put(&quot;mail.pop3.port&quot;, emailConfig.getPort());\r\n    \t\t//properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\r\n    \t\tSession emailSession = Session.getDefaultInstance(properties);\r\n    \t\tStore store = null;\r\n    \t\ttry {\r\n    \t\t\tstore = emailSession.getStore(&quot;pop3s&quot;);\r\n    \t\t\tstore.connect(server, emailConfig.getUsername(), emailConfig.getPassword());\r\n    \t\t\temailFolder = store.getFolder(&quot;INBOX&quot;);\r\n    \t\t} catch (MessagingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \r\n    \t@Scheduled(fixedRate = 5000)\r\n    \tsynchronized void read() throws MessagingException, IOException {\r\n    \t\temailFolder.open(Folder.READ_ONLY);\r\n    \t\tMessage[] messages = emailFolder.getMessages();\r\n    \t\tfor (int i = 0; i &lt; messages.length; i++) {\r\n    \t\t\tMessage message = messages[i];\r\n    \t\t\tSystem.out.println(MessageParser.getMessageBody(message));\r\n    \t\t}\r\n    \t\temailFolder.close();\r\n    \t}\r\n    }\r\n\r\n","title":"Spring boot read and new mail Listener on spring-boot-starter-mail","body":"<pre><code>package com.grandview.service;\n\nimport java.io.IOException;\nimport java.util.Properties;\n\nimport javax.annotation.PostConstruct;\nimport javax.mail.Folder;\nimport javax.mail.Message;\nimport javax.mail.MessagingException;\nimport javax.mail.Session;\nimport javax.mail.Store;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.scheduling.annotation.Scheduled;\nimport org.springframework.stereotype.Service;\n\nimport com.grandview.model.EmailConfig;\nimport com.grandview.util.MessageParser;\n\n@Service\npublic class EmailService {\n    @Autowired\n    private EmailConfig emailConfig;\n\n    Folder emailFolder;\n    Store store;\n    Properties properties = new Properties();\n\n    @PostConstruct\n    void setup() {\n        String server = emailConfig.getHost();\n        properties.put(&quot;mail.pop3.host&quot;, server);\n        properties.put(&quot;mail.pop3.port&quot;, emailConfig.getPort());\n        //properties.put(&quot;mail.pop3.starttls.enable&quot;, &quot;true&quot;);\n        Session emailSession = Session.getDefaultInstance(properties);\n        Store store = null;\n        try {\n            store = emailSession.getStore(&quot;pop3s&quot;);\n            store.connect(server, emailConfig.getUsername(), emailConfig.getPassword());\n            emailFolder = store.getFolder(&quot;INBOX&quot;);\n        } catch (MessagingException e) {\n            e.printStackTrace();\n        }\n    }\n\n    @Scheduled(fixedRate = 5000)\n    synchronized void read() throws MessagingException, IOException {\n        emailFolder.open(Folder.READ_ONLY);\n        Message[] messages = emailFolder.getMessages();\n        for (int i = 0; i &lt; messages.length; i++) {\n            Message message = messages[i];\n            System.out.println(MessageParser.getMessageBody(message));\n        }\n        emailFolder.close();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27358669,"reputation":111,"user_id":20866658,"display_name":"Sushant Patewar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688991494,"creation_date":1688991494,"answer_id":76653671,"question_id":46884327,"body_markdown":"Sharing another solution with a working example:\r\n\r\nRead incoming emails with JavaMail API, IMAP protocol and IMAP IDLE feature.\r\n\r\n1. Use JavaMail API for IMAP connection which provides implementation for IMAP.\r\n2. For monitoring we need IMAP IDLE feature, which allows our application to receive immediate notifications when new messages arrive in the mailbox, rather than relying on periodic polling.\r\n\r\nRefer detailed implementation of this here: https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d","title":"Spring boot read and new mail Listener on spring-boot-starter-mail","body":"<p>Sharing another solution with a working example:</p>\n<p>Read incoming emails with JavaMail API, IMAP protocol and IMAP IDLE feature.</p>\n<ol>\n<li>Use JavaMail API for IMAP connection which provides implementation for IMAP.</li>\n<li>For monitoring we need IMAP IDLE feature, which allows our application to receive immediate notifications when new messages arrive in the mailbox, rather than relying on periodic polling.</li>\n</ol>\n<p>Refer detailed implementation of this here: <a href=\"https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d\" rel=\"nofollow noreferrer\">https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d</a></p>\n"}],"owner":{"account_id":2622881,"reputation":123,"user_id":2270534,"display_name":"Loga Nathan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20028,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":47273515,"answer_count":4,"score":1,"last_activity_date":1688991494,"creation_date":1508744994,"question_id":46884327,"body_markdown":"I want to demonstrate the **email application** using the `spring boot MVC` in that web application I follow [this][1] tutorial I can easily send the emails using spring boot.\r\n\r\n**Here my question is** \r\n\r\n 1. how can I read the emails using spring boot..?\r\n 2. how can I listen for new emails and how to update the inbox on the view..?\r\n\r\nplease suggest me any solutions for that because I searched a lot but I can find only send email example.please share me if you have any **working samples** for that using spring boot. Thanks in advance.\r\n\r\n  [1]: http://www.baeldung.com/spring-email","title":"Spring boot read and new mail Listener on spring-boot-starter-mail","body":"<p>I want to demonstrate the <strong>email application</strong> using the <code>spring boot MVC</code> in that web application I follow <a href=\"http://www.baeldung.com/spring-email\" rel=\"nofollow noreferrer\">this</a> tutorial I can easily send the emails using spring boot.</p>\n\n<p><strong>Here my question is</strong> </p>\n\n<ol>\n<li>how can I read the emails using spring boot..?</li>\n<li>how can I listen for new emails and how to update the inbox on the view..?</li>\n</ol>\n\n<p>please suggest me any solutions for that because I searched a lot but I can find only send email example.please share me if you have any <strong>working samples</strong> for that using spring boot. Thanks in advance.</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1688989871,"post_id":76653421,"comment_id":135144809,"body_markdown":"Note that `V` is substituted by `Integer[]`, not `Integer`.","body":"Note that <code>V</code> is substituted by <code>Integer[]</code>, not <code>Integer</code>."},{"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"score":0,"creation_date":1688990019,"post_id":76653421,"comment_id":135144843,"body_markdown":"I thought `V[]` is substituted by `Integer[]` and `V` is substituted by `Integer`? Am I right? @Code-Apprentice","body":"I thought <code>V[]</code> is substituted by <code>Integer[]</code> and <code>V</code> is substituted by <code>Integer</code>? Am I right? @Code-Apprentice"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1689004608,"post_id":76653421,"comment_id":135148565,"body_markdown":"@MehdiRahimi oh, you are probably right...at least `V` is probably not an array type. But it might be `Object` instead of `Integer`.","body":"@MehdiRahimi oh, you are probably right...at least <code>V</code> is probably not an array type. But it might be <code>Object</code> instead of <code>Integer</code>."}],"answers":[{"tags":[],"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1688991449,"creation_date":1688991449,"answer_id":76653663,"question_id":76653421,"body_markdown":"In this method call, the values of the `T` and `V` type parameters are not provided explicitly, so the compiler infers them. It will always try to infer valid substitutions before returning an error, even if the results are not always intuitive. In this example, the value `“text”` is a `String`, yes, but it is also an `Object`. Since the inference `T = String, V = Integer` is invalid because `Integer` is not a subtype of `String`, the compiler uses `T = Object, V = Integer`, which is valid.","title":"Generic method upper bound isn&#39;t checked","body":"<p>In this method call, the values of the <code>T</code> and <code>V</code> type parameters are not provided explicitly, so the compiler infers them. It will always try to infer valid substitutions before returning an error, even if the results are not always intuitive. In this example, the value <code>“text”</code> is a <code>String</code>, yes, but it is also an <code>Object</code>. Since the inference <code>T = String, V = Integer</code> is invalid because <code>Integer</code> is not a subtype of <code>String</code>, the compiler uses <code>T = Object, V = Integer</code>, which is valid.</p>\n"}],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76653663,"answer_count":1,"score":2,"last_activity_date":1688991449,"creation_date":1688989649,"question_id":76653421,"body_markdown":"I&#39;ve created a generic method with two type paremeter as follow inside a non-generic class:\r\n\r\n    static &lt;T, V extends T&gt; boolean testMethod(T t, V[] v) {\r\n        return true;\r\n    }\r\n\r\nThe second type parameter defined as `V extends T`.\r\n\r\nNow consider calling of this method by following arguments:\r\n\r\n    testMethod(&quot;text&quot;, new Integer[]{1, 2});\r\n\r\nWhen I try to call this method with the above parameters **I expected to got an error** of type mismatch, because type parameter `T` substituted by `String` and `V` substituted by `Integer` and as you see `V` is bounded by `T` which means **it must be of type String or its derived classes but Integer is non of them**. But the code segment compile and run successfully without any problem.\r\n\r\nCan somebody explain what is wrong about my impression of this concept?","title":"Generic method upper bound isn&#39;t checked","body":"<p>I've created a generic method with two type paremeter as follow inside a non-generic class:</p>\n<pre><code>static &lt;T, V extends T&gt; boolean testMethod(T t, V[] v) {\n    return true;\n}\n</code></pre>\n<p>The second type parameter defined as <code>V extends T</code>.</p>\n<p>Now consider calling of this method by following arguments:</p>\n<pre><code>testMethod(&quot;text&quot;, new Integer[]{1, 2});\n</code></pre>\n<p>When I try to call this method with the above parameters <strong>I expected to got an error</strong> of type mismatch, because type parameter <code>T</code> substituted by <code>String</code> and <code>V</code> substituted by <code>Integer</code> and as you see <code>V</code> is bounded by <code>T</code> which means <strong>it must be of type String or its derived classes but Integer is non of them</strong>. But the code segment compile and run successfully without any problem.</p>\n<p>Can somebody explain what is wrong about my impression of this concept?</p>\n"},{"tags":["java","oop","hierarchy","superclass"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1688880159,"post_id":76645976,"comment_id":135131922,"body_markdown":"Why would it call `A.method1()` when you have a `B`? You would need a `super.method1(arg);` in `B.method1()` to invoke the `A.method1()` (if that&#39;s what you want).","body":"Why would it call <code>A.method1()</code> when you have a <code>B</code>? You would need a <code>super.method1(arg);</code> in <code>B.method1()</code> to invoke the <code>A.method1()</code> (if that&#39;s what you want)."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688882637,"post_id":76645976,"comment_id":135132076,"body_markdown":"Or maybe ((A)b).method1(&quot;HI&quot;);","body":"Or maybe ((A)b).method1(&quot;HI&quot;);"},{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1688887289,"post_id":76645976,"comment_id":135132377,"body_markdown":"@SamuelMarchant That is not how it works.","body":"@SamuelMarchant That is not how it works."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688889158,"post_id":76645976,"comment_id":135132550,"body_markdown":"@SamuelMarchant Removing `this.` or `this()` has no such effect. `B extends A` : nothing can change that.","body":"@SamuelMarchant Removing <code>this.</code> or <code>this()</code> has no such effect. <code>B extends A</code> : nothing can change that."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688913197,"post_id":76645976,"comment_id":135135174,"body_markdown":"It would dependent haw you then call from outside the class in main.","body":"It would dependent haw you then call from outside the class in main."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688950567,"post_id":76645976,"comment_id":135139135,"body_markdown":"@SamuelMarchant No it wouldn&#39;t. How you call something cannot change the inheritance. Your comments do not make sense.","body":"@SamuelMarchant No it wouldn&#39;t. How you call something cannot change the inheritance. Your comments do not make sense."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688954978,"post_id":76645976,"comment_id":135139410,"body_markdown":"@user207421 how something is called can be the only way you can access, but what you are saying would then mean there was no point in super or subclass \ninheritance  because only one version of method could ever be accessed. Second, calling non static classes inside static void main often has strange results! If you want non static methods to be operated shift all your calling code into the constructor of the main class and just use main to recursively start the class.","body":"@user207421 how something is called can be the only way you can access, but what you are saying would then mean there was no point in super or subclass  inheritance  because only one version of method could ever be accessed. Second, calling non static classes inside static void main often has strange results! If you want non static methods to be operated shift all your calling code into the constructor of the main class and just use main to recursively start the class."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688956479,"post_id":76645976,"comment_id":135139517,"body_markdown":"Really that&#39;s your trouble, you are trying to manipulate the scope of a non static class in a static context, to use super this properly you must be outside the static context.  Put a constructor in for MainAB and recursively call MainAB and a System.exit(0) to close it and initialise call everything from MainAB constructor. You will be able to use super this , (choose an internal or external hierarchy method call way to call code)  Using main method, the static context always throws everything into confusion. regular question once in while in forums, someone always is trying from main.","body":"Really that&#39;s your trouble, you are trying to manipulate the scope of a non static class in a static context, to use super this properly you must be outside the static context.  Put a constructor in for MainAB and recursively call MainAB and a System.exit(0) to close it and initialise call everything from MainAB constructor. You will be able to use super this , (choose an internal or external hierarchy method call way to call code)  Using main method, the static context always throws everything into confusion. regular question once in while in forums, someone always is trying from main."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688957371,"post_id":76645976,"comment_id":135139585,"body_markdown":"Initialise B in MainAB constructor, and test using this() and then super() as the first and only line of the constructor of B. And also ((A)bref).method1(str);.  Don&#39;t forget System.exit(0) at the end of main in MainAB","body":"Initialise B in MainAB constructor, and test using this() and then super() as the first and only line of the constructor of B. And also ((A)bref).method1(str);.  Don&#39;t forget System.exit(0) at the end of main in MainAB"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688962373,"post_id":76645976,"comment_id":135139969,"body_markdown":"@SamuelMarchant It is you who is claiming that, not me: &quot;`this()`&quot; in the constructor of B would make B the superclass&quot;. This comment is not correct, and neither is your comment about removing `this.` from the method call, which accomplishes exactly nothing. I am unable to make any sense out of the rest of this. And who wants you to answer is irrelevant.","body":"@SamuelMarchant It is you who is claiming that, not me: &quot;<code>this()</code>&quot; in the constructor of B would make B the superclass&quot;. This comment is not correct, and neither is your comment about removing <code>this.</code> from the method call, which accomplishes exactly nothing. I am unable to make any sense out of the rest of this. And who wants you to answer is irrelevant."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688962970,"post_id":76645976,"comment_id":135140020,"body_markdown":"The critiqu&#39;e from admin wants to answer this one, it is always the mess the static context from main causes when trying to run through complex non static code in main.  Until you are out of the static context of main when calling.....","body":"The critiqu&#39;e from admin wants to answer this one, it is always the mess the static context from main causes when trying to run through complex non static code in main.  Until you are out of the static context of main when calling....."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1688964717,"post_id":76645976,"comment_id":135140167,"body_markdown":"@SamuelMarchant I can still make no sense of what you are saying, but, your claims about `this.` and `this()` being entirely incorrect, it is difficult to have any faith in anything else you post on this topic. Impossible, actually. And who wants you to answer the question remains irrelevant. If you really must answer the question, by all means do so: downvotes may ensue.","body":"@SamuelMarchant I can still make no sense of what you are saying, but, your claims about <code>this.</code> and <code>this()</code> being entirely incorrect, it is difficult to have any faith in anything else you post on this topic. Impossible, actually. And who wants you to answer the question remains irrelevant. If you really must answer the question, by all means do so: downvotes may ensue."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689056248,"post_id":76645976,"comment_id":135155047,"body_markdown":"I finally got around to trying it with your code, and I must say &quot;using super in A is a good sign of useless from the compiler&quot; , A is not extended. The method in A would need a deliberate method in B to access because of the &quot;peculiar&quot; state of method overriding With method overloading causing &quot;ambiguity&quot;. With inheritance it looks for the deepest class with the method name and loading arguments , and B has that, but B is this() and super cannot be coded into A. Normally that code gets a problem from static context (but obviously doesn&#39;t in your code this time) but I did it my way in main.","body":"I finally got around to trying it with your code, and I must say &quot;using super in A is a good sign of useless from the compiler&quot; , A is not extended. The method in A would need a deliberate method in B to access because of the &quot;peculiar&quot; state of method overriding With method overloading causing &quot;ambiguity&quot;. With inheritance it looks for the deepest class with the method name and loading arguments , and B has that, but B is this() and super cannot be coded into A. Normally that code gets a problem from static context (but obviously doesn&#39;t in your code this time) but I did it my way in main."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689057031,"post_id":76645976,"comment_id":135155166,"body_markdown":"Sorry about this() about the constructor it&#39;s used to call another constructor in the same class with presets. https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html    Also,  java reflection would be the only direct external way of accessing the A class method specifically.","body":"Sorry about this() about the constructor it&#39;s used to call another constructor in the same class with presets. <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/java/javaOO/thiskey.html</a>    Also,  java reflection would be the only direct external way of accessing the A class method specifically."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689060221,"post_id":76645976,"comment_id":135155707,"body_markdown":"@SamuelMarchant We know what `this()` does, thanks, that&#39;s how we know you&#39;re wrong. You&#39;re also wrong about using Reflection. The only way to access `A.method1(int)` specifically is via JNI.","body":"@SamuelMarchant We know what <code>this()</code> does, thanks, that&#39;s how we know you&#39;re wrong. You&#39;re also wrong about using Reflection. The only way to access <code>A.method1(int)</code> specifically is via JNI."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689130872,"post_id":76645976,"comment_id":135168177,"body_markdown":"That mislearned trouble about this() and constructors has been lurking a long time, anyhow, best practice would be to not have overridden overloads when writing a class to extend, then there will be no ambiguity of method names. Next one for me to play with that piece of code will be reflection to find if that weighs in as wrong  from what your saying. Also, Writing a class C and using.  super.  And super.super. to access is another possibility I&#39;ll try, these are very early java 1.3 sort of things when I was learning for the fun of it more than real over 15 years back.","body":"That mislearned trouble about this() and constructors has been lurking a long time, anyhow, best practice would be to not have overridden overloads when writing a class to extend, then there will be no ambiguity of method names. Next one for me to play with that piece of code will be reflection to find if that weighs in as wrong  from what your saying. Also, Writing a class C and using.  super.  And super.super. to access is another possibility I&#39;ll try, these are very early java 1.3 sort of things when I was learning for the fun of it more than real over 15 years back."},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689132044,"post_id":76645976,"comment_id":135168284,"body_markdown":"Just another note on playing with that &quot;ugliness of ambiguity&quot; ,  the arguments to the methods per type have the same names also, then obtaining methods on an array with reflection has the same trouble identifying class A. If anything it all points to how to write code and &quot; don&#39;t ever do this&quot; (a bad practice) except when writing secure code that will need access by secure method access hops","body":"Just another note on playing with that &quot;ugliness of ambiguity&quot; ,  the arguments to the methods per type have the same names also, then obtaining methods on an array with reflection has the same trouble identifying class A. If anything it all points to how to write code and &quot; don&#39;t ever do this&quot; (a bad practice) except when writing secure code that will need access by secure method access hops"},{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1689133101,"post_id":76645976,"comment_id":135168363,"body_markdown":"! , and another unspeakable toy to break with this code &quot;casting to an abstract class with methods named method1( String and int.","body":"! , and another unspeakable toy to break with this code &quot;casting to an abstract class with methods named method1( String and int."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689154996,"post_id":76645976,"comment_id":135172056,"body_markdown":"@SamuelMarchant You haven&#39;t addressed most of the critique you&#39;ve been given here. On the basis of what you have posted here you should be asking questions, not answering them.","body":"@SamuelMarchant You haven&#39;t addressed most of the critique you&#39;ve been given here. On the basis of what you have posted here you should be asking questions, not answering them."}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688880653,"creation_date":1688880653,"answer_id":76646015,"question_id":76645976,"body_markdown":"&gt;  the flow of the calls should be: B class, method1(&quot;HI&quot;) -&gt; A class, method1(&quot;HI&quot;) -&gt; A class, method1(1) -&gt; print: &quot;I&#39;m A class&quot;\r\n\r\nNo, the correct flow is:\r\n\r\nB class, method1(&quot;HI&quot;) -&gt; A class, method(&quot;HI&quot;) -&gt; B class method1(1) -&gt; print: &quot;I&#39;am B class&quot;\r\n\r\n&quot;I&#39;am B class&quot; - is printed because `method1(int arg)` is overridden in B class.\r\n\r\nThis is how Runtime Polymorphism work in Java, method invocation is decided based on the type of the object and not by the type of reference. The type of your object is B so the method1(int arg) of B is called.\r\n\r\nYou could prevent overriding `method1(int arg)` by making it final.\r\n","title":"Why is superclass method calling overrided subclass method when the superclass method is the one specified to be called?","body":"<blockquote>\n<p>the flow of the calls should be: B class, method1(&quot;HI&quot;) -&gt; A class, method1(&quot;HI&quot;) -&gt; A class, method1(1) -&gt; print: &quot;I'm A class&quot;</p>\n</blockquote>\n<p>No, the correct flow is:</p>\n<p>B class, method1(&quot;HI&quot;) -&gt; A class, method(&quot;HI&quot;) -&gt; B class method1(1) -&gt; print: &quot;I'am B class&quot;</p>\n<p>&quot;I'am B class&quot; - is printed because <code>method1(int arg)</code> is overridden in B class.</p>\n<p>This is how Runtime Polymorphism work in Java, method invocation is decided based on the type of the object and not by the type of reference. The type of your object is B so the method1(int arg) of B is called.</p>\n<p>You could prevent overriding <code>method1(int arg)</code> by making it final.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688991419,"creation_date":1688991419,"answer_id":76653660,"question_id":76645976,"body_markdown":"Class _B_ is inheriting the code from _A_.\r\n\r\nIf you hadn&#39;t overridden the _method1_ method, then _&quot;I&#39;m A class&quot;_ would be printed.\r\n\r\nOverriding is declaring that the inherited method from the super class should no longer be used.\r\n\r\nHere is the _Java_ tutorial on inheritance.  \r\n_[Inheritance (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)_.","title":"Why is superclass method calling overrided subclass method when the superclass method is the one specified to be called?","body":"<p>Class <em>B</em> is inheriting the code from <em>A</em>.</p>\n<p>If you hadn't overridden the <em>method1</em> method, then <em>&quot;I'm A class&quot;</em> would be printed.</p>\n<p>Overriding is declaring that the inherited method from the super class should no longer be used.</p>\n<p>Here is the <em>Java</em> tutorial on inheritance.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Inheritance (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>.</p>\n"}],"owner":{"account_id":26404097,"reputation":25,"user_id":20054146,"display_name":"Diego L&#243;pez"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76646015,"answer_count":2,"score":0,"last_activity_date":1688991419,"creation_date":1688879664,"question_id":76645976,"body_markdown":"Here i have the following Java code example, where i&#39;m expecting &quot;I&#39;m A class&quot; from A class method1(Integer arg) to be printed in main:\r\n\r\n```\r\npublic class A {\r\n\r\n\tpublic void method1(String arg) {\r\n                //some number passed, not important\r\n\t\tthis.method1(1);\r\n\t}\r\n\tpublic void method1(int arg) {\r\n\t\tSystem.out.println(&quot;I&#39;m A class&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class B extends A{\r\n\r\n\t@Override\r\n\tpublic void method1(String arg) {\r\n\t\tsuper.method1(arg);\r\n\t}\r\n\t@Override\r\n\tpublic void method1(int arg) {\r\n\t\tSystem.out.println(&quot;I&#39;m B class&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n```\r\npublic class MainAB {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tB b = new B();\r\n                //some string passed, not important\r\n\t\tb.method1(&quot;HI&quot;);\r\n\t}\r\n}\r\n```\r\n\r\n\r\nSo as i understand, the flow of the calls should be:\r\nB class, method1(&quot;HI&quot;)  -&gt;  A class, method1(&quot;HI&quot;)  -&gt;  A class, method1(1)  -&gt; print: &quot;I&#39;m A class&quot;\r\n\r\nBut for some reason it goes from A class to B class and method1(1) from B class is being called, and &quot;I&#39;m B class&quot; is printed.\r\n\r\nAm i missing something? How can i solve this? Thanks","title":"Why is superclass method calling overrided subclass method when the superclass method is the one specified to be called?","body":"<p>Here i have the following Java code example, where i'm expecting &quot;I'm A class&quot; from A class method1(Integer arg) to be printed in main:</p>\n<pre><code>public class A {\n\n    public void method1(String arg) {\n                //some number passed, not important\n        this.method1(1);\n    }\n    public void method1(int arg) {\n        System.out.println(&quot;I'm A class&quot;);\n    }\n}\n</code></pre>\n<pre><code>public class B extends A{\n\n    @Override\n    public void method1(String arg) {\n        super.method1(arg);\n    }\n    @Override\n    public void method1(int arg) {\n        System.out.println(&quot;I'm B class&quot;);\n    }\n}\n</code></pre>\n<pre><code>public class MainAB {\n\n    public static void main(String[] args) {\n        B b = new B();\n                //some string passed, not important\n        b.method1(&quot;HI&quot;);\n    }\n}\n</code></pre>\n<p>So as i understand, the flow of the calls should be:\nB class, method1(&quot;HI&quot;)  -&gt;  A class, method1(&quot;HI&quot;)  -&gt;  A class, method1(1)  -&gt; print: &quot;I'm A class&quot;</p>\n<p>But for some reason it goes from A class to B class and method1(1) from B class is being called, and &quot;I'm B class&quot; is printed.</p>\n<p>Am i missing something? How can i solve this? Thanks</p>\n"},{"tags":["java","quarkus","smb","jcifs","smbj"],"owner":{"account_id":28006918,"reputation":1,"user_id":21390162,"display_name":"ceid1987"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":157,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688991393,"creation_date":1688983307,"question_id":76652671,"body_markdown":"I have a Quarkus app that retrieves data from a mysql database.\r\n\r\nI am adding a functionality which uses jcifs-ng to read &amp; parse xml files on a shared drive (adding additional data to what is already retrieved from the DB).\r\n\r\nI have a **SMBConnector.java** class defined like this:\r\n```\r\n@Singleton\r\npublic class SMBConnector {\r\n\r\n    @ConfigProperty(name = &quot;smb.username&quot;)\r\n    private String username;\r\n\r\n    @ConfigProperty(name = &quot;smb.password&quot;)\r\n    private String password;\r\n\r\n    private static final String SERVERNAME = &quot;SD&quot;;\r\n    private static final String SHARENAME = &quot;Project&quot;;\r\n\r\n    private CIFSContext testCtx;\r\n\r\n    @PostConstruct\r\n    public void init() {\r\n        SingletonContext baseContext = SingletonContext.getInstance();\r\n        Credentials credentials = new NtlmPasswordAuthenticator(null, username, password);\r\n        this.testCtx = baseContext.withCredentials(credentials);\r\n        try {\r\n            String url = &quot;smb://&quot; + SERVERNAME + &quot;/&quot; + SHARENAME + &quot;/&quot;;\r\n            this.rootDir = new SmbFile(url, testCtx);\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    public InputStream readFileContent(String dirPath) {\r\n        try {\r\n            SmbFile dir = new SmbFile(rootDir, dirPath);\r\n            for (SmbFile file : dir.listFiles()) {\r\n                if (file.getName().startsWith(&quot;HPC_SYS&quot;) &amp;&amp; file.getName().endsWith(&quot;.xml&quot;)) {\r\n                    return file.getInputStream();\r\n                }\r\n            }\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n}\r\n```\r\nThis class is injected in the **Parser** class which itself receives a list of different paths on the drive and calls the `readFileContent` method for every path. \r\n\r\nThe problem is that after adding the SMB Connection the entire operation takes about 3 minutes, whereas it took about 20 seconds max before adding this functionality.\r\n\r\nI am unsure if I have properly configured the connection so that it persists throughout the application&#39;s lifetime or if it is reconnecting every time when the `readFileContent` method is called. \r\n\r\nI am trying to make it so that the application only connects once by accessing the shared root directory between all the paths that we will look for, then read each file by navigating to its specific path. Really any form of optimization would help..","title":"How to make SMB connection persistent with jcifs-ng?","body":"<p>I have a Quarkus app that retrieves data from a mysql database.</p>\n<p>I am adding a functionality which uses jcifs-ng to read &amp; parse xml files on a shared drive (adding additional data to what is already retrieved from the DB).</p>\n<p>I have a <strong>SMBConnector.java</strong> class defined like this:</p>\n<pre><code>@Singleton\npublic class SMBConnector {\n\n    @ConfigProperty(name = &quot;smb.username&quot;)\n    private String username;\n\n    @ConfigProperty(name = &quot;smb.password&quot;)\n    private String password;\n\n    private static final String SERVERNAME = &quot;SD&quot;;\n    private static final String SHARENAME = &quot;Project&quot;;\n\n    private CIFSContext testCtx;\n\n    @PostConstruct\n    public void init() {\n        SingletonContext baseContext = SingletonContext.getInstance();\n        Credentials credentials = new NtlmPasswordAuthenticator(null, username, password);\n        this.testCtx = baseContext.withCredentials(credentials);\n        try {\n            String url = &quot;smb://&quot; + SERVERNAME + &quot;/&quot; + SHARENAME + &quot;/&quot;;\n            this.rootDir = new SmbFile(url, testCtx);\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public InputStream readFileContent(String dirPath) {\n        try {\n            SmbFile dir = new SmbFile(rootDir, dirPath);\n            for (SmbFile file : dir.listFiles()) {\n                if (file.getName().startsWith(&quot;HPC_SYS&quot;) &amp;&amp; file.getName().endsWith(&quot;.xml&quot;)) {\n                    return file.getInputStream();\n                }\n            }\n\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n\n        return null;\n    }\n\n}\n</code></pre>\n<p>This class is injected in the <strong>Parser</strong> class which itself receives a list of different paths on the drive and calls the <code>readFileContent</code> method for every path.</p>\n<p>The problem is that after adding the SMB Connection the entire operation takes about 3 minutes, whereas it took about 20 seconds max before adding this functionality.</p>\n<p>I am unsure if I have properly configured the connection so that it persists throughout the application's lifetime or if it is reconnecting every time when the <code>readFileContent</code> method is called.</p>\n<p>I am trying to make it so that the application only connects once by accessing the shared root directory between all the paths that we will look for, then read each file by navigating to its specific path. Really any form of optimization would help..</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688896207,"creation_date":1688896207,"answer_id":76646828,"question_id":76646778,"body_markdown":"You seem to have defined a `Node` that can hold both an `int` and an `int[]`. That is not correct. Each `Node` should only hold a single `int` and a reference to the next node.\r\n\r\n\tclass Node {\r\n\t\tNode next = null;\r\n\t\tint data;\r\n\r\n\t\tNode(int data) {\r\n\t\t\tthis.data = data;\r\n\t\t}\r\n\t}\r\n\r\nNow, your converter method should actually return the `Node`(s) you construct; guard against an empty array or null, and actually assign the elements to `Node`(s).\r\n\r\n\tpublic Node convertArrayToLinkedList(int arr[]) {\r\n\t\tif (arr == null || arr.length &lt; 1) {\r\n\t\t\treturn null;\r\n\t\t}\r\n\t\tNode n = new Node(arr[0]), c = n;\r\n\t\tfor (int i = 1; i &lt; arr.length; i++) {\r\n\t\t\tc.next = new Node(arr[i]);\r\n\t\t\tc = c.next;\r\n\t\t}\r\n\t\treturn n;\r\n\t}\r\n\r\nFinally, your method to print and display in `main()` might look something like\r\n\r\n\tNode n = LL.convertArrayToLinkedList(arr);\r\n\twhile (n != null) {\r\n\t\tSystem.out.println(n.data);\r\n\t\tn = n.next;\r\n\t}\r\n","title":"Convert an array to Linked List","body":"<p>You seem to have defined a <code>Node</code> that can hold both an <code>int</code> and an <code>int[]</code>. That is not correct. Each <code>Node</code> should only hold a single <code>int</code> and a reference to the next node.</p>\n<pre><code>class Node {\n    Node next = null;\n    int data;\n\n    Node(int data) {\n        this.data = data;\n    }\n}\n</code></pre>\n<p>Now, your converter method should actually return the <code>Node</code>(s) you construct; guard against an empty array or null, and actually assign the elements to <code>Node</code>(s).</p>\n<pre><code>public Node convertArrayToLinkedList(int arr[]) {\n    if (arr == null || arr.length &lt; 1) {\n        return null;\n    }\n    Node n = new Node(arr[0]), c = n;\n    for (int i = 1; i &lt; arr.length; i++) {\n        c.next = new Node(arr[i]);\n        c = c.next;\n    }\n    return n;\n}\n</code></pre>\n<p>Finally, your method to print and display in <code>main()</code> might look something like</p>\n<pre><code>Node n = LL.convertArrayToLinkedList(arr);\nwhile (n != null) {\n    System.out.println(n.data);\n    n = n.next;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20032413,"reputation":104,"user_id":14684883,"display_name":"Habibur Rahman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688898352,"creation_date":1688898352,"answer_id":76646990,"question_id":76646778,"body_markdown":"if you are trying to convert an array to a linked list you can initialize `Node` class like that\r\n\r\n    class Node{\r\n        int data;\r\n        Node next;\r\n        // Default constructor\r\n        Node(){}\r\n        // when you create a node using the value of arr[i]\r\n        Node(int data){\r\n          this.data = data;\r\n        }\r\n    }\r\n\r\nafter initializing the `Node` class `convertArrayToLinkedList(int[] arr) ` method can be-\r\n\r\n    public void convertArrayToLinkedList(int[] arr) {\r\n      if (arr.length == 0) return;\r\n      \r\n      Node tHead = new Node();\r\n      Node temp = tHead;\r\n      \r\n      for (int x : arr) {\r\n        temp.next = new Node(x);\r\n        temp = temp.next;\r\n      }\r\n      head = tHead.next;\r\n    }\r\n\r\nafter calling `LL.convertArrayToLinkedList(arr);` now you can print the values from main function using the `while` loop like that\r\n\r\n    temp = head;\r\n    while (temp != null) {\r\n      System.out.println(temp.data);\r\n      temp = temp.next;\r\n    }\r\n\r\nthere are some mistake you made\r\n\r\n    class Node{\r\n        Node next = null;\r\n        int data;\r\n        // there are no need to declare arr[]\r\n        int arr[];\r\n        Node(int data){\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n        // the constructor declaration is not fine\r\n        Node(int arr[]){\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n    }\r\n\r\n","title":"Convert an array to Linked List","body":"<p>if you are trying to convert an array to a linked list you can initialize <code>Node</code> class like that</p>\n<pre><code>class Node{\n    int data;\n    Node next;\n    // Default constructor\n    Node(){}\n    // when you create a node using the value of arr[i]\n    Node(int data){\n      this.data = data;\n    }\n}\n</code></pre>\n<p>after initializing the <code>Node</code> class <code>convertArrayToLinkedList(int[] arr) </code> method can be-</p>\n<pre><code>public void convertArrayToLinkedList(int[] arr) {\n  if (arr.length == 0) return;\n  \n  Node tHead = new Node();\n  Node temp = tHead;\n  \n  for (int x : arr) {\n    temp.next = new Node(x);\n    temp = temp.next;\n  }\n  head = tHead.next;\n}\n</code></pre>\n<p>after calling <code>LL.convertArrayToLinkedList(arr);</code> now you can print the values from main function using the <code>while</code> loop like that</p>\n<pre><code>temp = head;\nwhile (temp != null) {\n  System.out.println(temp.data);\n  temp = temp.next;\n}\n</code></pre>\n<p>there are some mistake you made</p>\n<pre><code>class Node{\n    Node next = null;\n    int data;\n    // there are no need to declare arr[]\n    int arr[];\n    Node(int data){\n        this.data = data;\n        this.next = next;\n    }\n    // the constructor declaration is not fine\n    Node(int arr[]){\n        this.data = data;\n        this.next = next;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688990768,"creation_date":1688957858,"answer_id":76650430,"question_id":76646778,"body_markdown":"&gt; _&quot;... I am unable to fix how can we insert `arr[i]` into `newNode`. ...&quot;_\r\n\r\nThey must be the same data-type.  \r\nVariable _arr_ is of type _int[]_, and _head_ is of type _Node_.\r\n\r\nYour _Node_ class contains the _arr_ array, which isn&#39;t entirely necessary.  \r\nYou&#39;ll only need a _Node_ for _next_, and an _int_ for the value.\r\n\r\nConsider the following example.\r\n\r\nThe static _parse_ method here will traverse the provided _arr_ array, appending the value to the _next_ field of the relevant node.\r\n\r\n```java\r\nclass Node {\r\n    int value;\r\n    Node next;\r\n\r\n    Node() {\r\n    }\r\n\r\n    static Node parse(int[] arr) {\r\n        Node head, node = head = new Node();\r\n        for (int index = 0; index &lt; arr.length; index++) {\r\n            node.setValue(arr[index]);\r\n            if (index + 1 &lt; arr.length) {\r\n                node.setNext(new Node());\r\n                node = node.getNext();\r\n            }\r\n        }\r\n        return head;\r\n    }\r\n\r\n    int getValue() {\r\n        return value;\r\n    }\r\n\r\n    void setValue(int value) {\r\n        this.value = value;\r\n    }\r\n\r\n    Node getNext() {\r\n        return next;\r\n    }\r\n\r\n    void setNext(Node next) {\r\n        this.next = next;\r\n    }\r\n}\r\n```\r\n\r\nHere is an example usage, given the code you provided.\r\n\r\n```java\r\nScanner sc = new Scanner(System.in);\r\nint len = sc.nextInt();\r\nint arr[] = new int[len];\r\nfor(int i = 0; i&lt;len; i++){\r\n    arr[i] = sc.nextInt();\r\n}\r\n\r\nNode node = Node.parse(arr);\r\n\r\nwhile (node != null) {\r\n    System.out.println(node.getValue());\r\n    node = node.getNext();\r\n}\r\n```\r\n\r\nInput and output,\r\n\r\n```none\r\n5\r\n1 2 3 4 5\r\n1\r\n2\r\n3\r\n4\r\n5\r\n```","title":"Convert an array to Linked List","body":"<blockquote>\n<p><em>&quot;... I am unable to fix how can we insert <code>arr[i]</code> into <code>newNode</code>. ...&quot;</em></p>\n</blockquote>\n<p>They must be the same data-type.<br />\nVariable <em>arr</em> is of type <em>int[]</em>, and <em>head</em> is of type <em>Node</em>.</p>\n<p>Your <em>Node</em> class contains the <em>arr</em> array, which isn't entirely necessary.<br />\nYou'll only need a <em>Node</em> for <em>next</em>, and an <em>int</em> for the value.</p>\n<p>Consider the following example.</p>\n<p>The static <em>parse</em> method here will traverse the provided <em>arr</em> array, appending the value to the <em>next</em> field of the relevant node.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Node {\n    int value;\n    Node next;\n\n    Node() {\n    }\n\n    static Node parse(int[] arr) {\n        Node head, node = head = new Node();\n        for (int index = 0; index &lt; arr.length; index++) {\n            node.setValue(arr[index]);\n            if (index + 1 &lt; arr.length) {\n                node.setNext(new Node());\n                node = node.getNext();\n            }\n        }\n        return head;\n    }\n\n    int getValue() {\n        return value;\n    }\n\n    void setValue(int value) {\n        this.value = value;\n    }\n\n    Node getNext() {\n        return next;\n    }\n\n    void setNext(Node next) {\n        this.next = next;\n    }\n}\n</code></pre>\n<p>Here is an example usage, given the code you provided.</p>\n<pre class=\"lang-java prettyprint-override\"><code>Scanner sc = new Scanner(System.in);\nint len = sc.nextInt();\nint arr[] = new int[len];\nfor(int i = 0; i&lt;len; i++){\n    arr[i] = sc.nextInt();\n}\n\nNode node = Node.parse(arr);\n\nwhile (node != null) {\n    System.out.println(node.getValue());\n    node = node.getNext();\n}\n</code></pre>\n<p>Input and output,</p>\n<pre class=\"lang-none prettyprint-override\"><code>5\n1 2 3 4 5\n1\n2\n3\n4\n5\n</code></pre>\n"}],"owner":{"account_id":26378841,"reputation":3,"user_id":20032413,"display_name":"shanu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688990768,"creation_date":1688895507,"question_id":76646778,"body_markdown":"I just want to convert my array to Singly Linked List , inside the function `convertArrayToLinkedList(int arr[])`. However it is showing an error \r\n\r\n    error: incompatible types: int cannot be converted to LinkeListImplementation.Node\r\n                head = arr[i];\r\n                          ^\r\n    1 error\r\n\r\nI am unable to fix how can we insert `arr[i]` into `newNode`.\r\n\r\n    import java.util.*;\r\n\r\n    class LinkeListImplementation{\r\n    Node head = null;\r\n    class Node{\r\n        Node next = null;\r\n        int data;\r\n        int arr[];\r\n        Node(int data){\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n        Node(int arr[]){\r\n            this.data = data;\r\n            this.next = next;\r\n        }\r\n    }\r\n\r\n    public void convertArrayToLinkedList(int arr[]){\r\n        Node newNode = new Node(arr);\r\n        Node temp = head;\r\n        for(int i = 0; i&lt;arr.length; i++){\r\n            newNode.next = head;\r\n            head = arr[i];\r\n        }\r\n\r\n        while(temp!=null){\r\n            System.out.print(temp.data+&quot; &quot;);\r\n            temp = temp.next;\r\n        }\r\n    }\r\n    }\r\n\r\n    class Main{\r\n    public static void main(String[] args){\r\n        LinkeListImplementation LL = new LinkeListImplementation();\r\n        Scanner sc = new Scanner(System.in);\r\n        int len = sc.nextInt();\r\n        int arr[] = new int[len];\r\n        for(int i = 0; i&lt;len; i++){\r\n            arr[i] = sc.nextInt();\r\n        }\r\n\r\n        LL.convertArrayToLinkedList(arr);\r\n    }\r\n    }","title":"Convert an array to Linked List","body":"<p>I just want to convert my array to Singly Linked List , inside the function <code>convertArrayToLinkedList(int arr[])</code>. However it is showing an error</p>\n<pre><code>error: incompatible types: int cannot be converted to LinkeListImplementation.Node\n            head = arr[i];\n                      ^\n1 error\n</code></pre>\n<p>I am unable to fix how can we insert <code>arr[i]</code> into <code>newNode</code>.</p>\n<pre><code>import java.util.*;\n\nclass LinkeListImplementation{\nNode head = null;\nclass Node{\n    Node next = null;\n    int data;\n    int arr[];\n    Node(int data){\n        this.data = data;\n        this.next = next;\n    }\n    Node(int arr[]){\n        this.data = data;\n        this.next = next;\n    }\n}\n\npublic void convertArrayToLinkedList(int arr[]){\n    Node newNode = new Node(arr);\n    Node temp = head;\n    for(int i = 0; i&lt;arr.length; i++){\n        newNode.next = head;\n        head = arr[i];\n    }\n\n    while(temp!=null){\n        System.out.print(temp.data+&quot; &quot;);\n        temp = temp.next;\n    }\n}\n}\n\nclass Main{\npublic static void main(String[] args){\n    LinkeListImplementation LL = new LinkeListImplementation();\n    Scanner sc = new Scanner(System.in);\n    int len = sc.nextInt();\n    int arr[] = new int[len];\n    for(int i = 0; i&lt;len; i++){\n        arr[i] = sc.nextInt();\n    }\n\n    LL.convertArrayToLinkedList(arr);\n}\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","hashmap","yaml"],"comments":[{"owner":{"account_id":4279913,"reputation":3623,"user_id":3499626,"accept_rate":89,"display_name":"jhamon"},"score":0,"creation_date":1688989497,"post_id":76653201,"comment_id":135144737,"body_markdown":"is your yaml file in the test classpath ?","body":"is your yaml file in the test classpath ?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1688991416,"post_id":76653201,"comment_id":135145181,"body_markdown":"I don&#39;t think you can load yaml with ordinary @TestPropertySource. It is for .properties format.","body":"I don&#39;t think you can load yaml with ordinary @TestPropertySource. It is for .properties format."},{"owner":{"account_id":7215449,"reputation":1,"user_id":5508109,"display_name":"akshay ithape"},"score":0,"creation_date":1688992546,"post_id":76653201,"comment_id":135145464,"body_markdown":"ok thankyou,\nso how can we test simply the contents of the map I implemented? is it possible to do in a test class","body":"ok thankyou, so how can we test simply the contents of the map I implemented? is it possible to do in a test class"},{"owner":{"account_id":2161358,"reputation":42669,"user_id":1915448,"accept_rate":96,"display_name":"g00glen00b"},"score":0,"creation_date":1688997449,"post_id":76653201,"comment_id":135146748,"body_markdown":"As mentioned by @ILyaCyclone, neither `@PropertySource` nor `@TestPropertySource` support yaml files. Workarounds for this issue are described in the duplicate. Also, be aware that the keys in your YAML file are treated as numbers. You probably want to surround them with quotes, for example `&#39;0000000016&#39;`.","body":"As mentioned by @ILyaCyclone, neither <code>@PropertySource</code> nor <code>@TestPropertySource</code> support yaml files. Workarounds for this issue are described in the duplicate. Also, be aware that the keys in your YAML file are treated as numbers. You probably want to surround them with quotes, for example <code>&#39;0000000016&#39;</code>."}],"owner":{"account_id":7215449,"reputation":1,"user_id":5508109,"display_name":"akshay ithape"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":37,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688997413,"answer_count":0,"score":0,"last_activity_date":1688990440,"creation_date":1688987895,"question_id":76653201,"body_markdown":"I have implemented a map in my yaml file as below\r\n    \r\n```\r\n  replacement:\r\n        ID:\r\n          0000000016: 9000000011\r\n          0000000013: 8000000014\r\n          0000000002: 9000000000\r\n```\r\n\r\n\r\nConfig class :- \r\n\r\n\r\n```\r\n    @Configuration\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\n@ConfigurationProperties(prefix = &quot;replacement&quot;)\r\n@Getter\r\n@Setter\r\npublic class SourceConfig {\r\n     private Map&lt;String, String&gt; ID = new HashMap&lt;&gt;();\r\n\r\n}\r\n\r\n```\r\n\r\nTest class:-\r\n\r\n```\r\n@ExtendWith(SpringExtension.class)\r\n@EnableConfigurationProperties(value = SourceConfig.class)\r\n@TestPropertySource(&quot;classpath:yaml file name&quot;)\r\nclass SourceConfigTest {\r\n\r\n    @Autowired\r\n    private SourceConfig sourceconfig;\r\n\r\n    @Test\r\n    void getID() {\r\n        assertThat(sourceconfig).isNotNull();\r\n        assertTrue(sourceconfig.getID().containsKey(&quot;0000000016&quot;));\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nWhen I run the test class sourceconfig.getID() throws a null pointer exception. Please help/suggest\r\n\r\n\r\nI expected the assert to be true and also fetch my values from map","title":"Test fail when I retrieve values from map in yaml file | Java spring boot","body":"<p>I have implemented a map in my yaml file as below</p>\n<pre><code>  replacement:\n        ID:\n          0000000016: 9000000011\n          0000000013: 8000000014\n          0000000002: 9000000000\n</code></pre>\n<p>Config class :-</p>\n<pre><code>    @Configuration\n@NoArgsConstructor\n@AllArgsConstructor\n@ConfigurationProperties(prefix = &quot;replacement&quot;)\n@Getter\n@Setter\npublic class SourceConfig {\n     private Map&lt;String, String&gt; ID = new HashMap&lt;&gt;();\n\n}\n\n</code></pre>\n<p>Test class:-</p>\n<pre><code>@ExtendWith(SpringExtension.class)\n@EnableConfigurationProperties(value = SourceConfig.class)\n@TestPropertySource(&quot;classpath:yaml file name&quot;)\nclass SourceConfigTest {\n\n    @Autowired\n    private SourceConfig sourceconfig;\n\n    @Test\n    void getID() {\n        assertThat(sourceconfig).isNotNull();\n        assertTrue(sourceconfig.getID().containsKey(&quot;0000000016&quot;));\n    }\n}\n\n\n</code></pre>\n<p>When I run the test class sourceconfig.getID() throws a null pointer exception. Please help/suggest</p>\n<p>I expected the assert to be true and also fetch my values from map</p>\n"},{"tags":["java","spring-boot","smtp","jakarta-mail","pop3"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1636959330,"post_id":69970213,"comment_id":123687277,"body_markdown":"Spring Integration supports this out-of-the-box. Just wire that up.","body":"Spring Integration supports this out-of-the-box. Just wire that up."},{"owner":{"account_id":22070405,"reputation":49,"user_id":16331484,"display_name":"YoBuss"},"score":0,"creation_date":1636959721,"post_id":69970213,"comment_id":123687367,"body_markdown":"ok sir, will try this. Thanks. @M.Deinum","body":"ok sir, will try this. Thanks. @M.Deinum"}],"answers":[{"tags":[],"owner":{"account_id":27358669,"reputation":111,"user_id":20866658,"display_name":"Sushant Patewar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688990361,"creation_date":1688988288,"answer_id":76653250,"question_id":69970213,"body_markdown":"To read/listen new emails in real time you can use IMAP protocol, JavaMail API and IMAP IDLE feature.\r\n\r\nOn higher-level refer the following steps:\r\n1. Establish an IMAP connection with the email server using JavaMail API\r\n2. Monitor the Inbox with IMAP IDLE. (IMAP IDLE allows our application to receive immediate notification when new message arrives in mailbox)\r\n\r\nFor more detailed implementation refer this article: https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d","title":"Continuous listening new emails in spring boot Application","body":"<p>To read/listen new emails in real time you can use IMAP protocol, JavaMail API and IMAP IDLE feature.</p>\n<p>On higher-level refer the following steps:</p>\n<ol>\n<li>Establish an IMAP connection with the email server using JavaMail API</li>\n<li>Monitor the Inbox with IMAP IDLE. (IMAP IDLE allows our application to receive immediate notification when new message arrives in mailbox)</li>\n</ol>\n<p>For more detailed implementation refer this article: <a href=\"https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d\" rel=\"nofollow noreferrer\">https://medium.com/@sushant7/how-to-monitor-incoming-emails-in-a-spring-boot-application-indefinitely-7dabbdb74b2d</a></p>\n"}],"owner":{"account_id":22070405,"reputation":49,"user_id":16331484,"display_name":"YoBuss"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1688990361,"creation_date":1636957884,"question_id":69970213,"body_markdown":"How can I read new emails using the spring boot app?\r\nby which library it can be possible.?\r\n\r\ngoing through many tutorials but didn&#39;t get any appropriate answers till now.\r\n\r\nI want to build an application that will continuously read the mailbox, it will read only new emails coming to the outlook server inbox periodically.\r\n\r\nthe emails also contain the audio attachment which I want to download and store on the server.\r\n\r\nis there any way to listen to every new email from the inbox, and once it&#39;s done mark it as read? so same mails can not be retrieved again for reading.\r\n\r\n\r\nanyone, please help me to build a sample program.\r\n\r\nThanks in advance.\r\n\r\n","title":"Continuous listening new emails in spring boot Application","body":"<p>How can I read new emails using the spring boot app?\nby which library it can be possible.?</p>\n<p>going through many tutorials but didn't get any appropriate answers till now.</p>\n<p>I want to build an application that will continuously read the mailbox, it will read only new emails coming to the outlook server inbox periodically.</p>\n<p>the emails also contain the audio attachment which I want to download and store on the server.</p>\n<p>is there any way to listen to every new email from the inbox, and once it's done mark it as read? so same mails can not be retrieved again for reading.</p>\n<p>anyone, please help me to build a sample program.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","oop"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":2,"creation_date":1688970804,"post_id":76651175,"comment_id":135140927,"body_markdown":"You need to create fields, assign them from constructor args, and return each in its own method.","body":"You need to create fields, assign them from constructor args, and return each in its own method."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":3,"creation_date":1688970891,"post_id":76651175,"comment_id":135140943,"body_markdown":"The fact that it implements an interface has nothing to do with how to write a constructor.","body":"The fact that it implements an interface has nothing to do with how to write a constructor."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1688970904,"post_id":76651175,"comment_id":135140945,"body_markdown":"`this.students = students;`","body":"<code>this.students = students;</code>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":1,"creation_date":1688971017,"post_id":76651175,"comment_id":135140980,"body_markdown":"why would it be any different from a class that doesn&#39;t implement a constructor?","body":"why would it be any different from a class that doesn&#39;t implement a constructor?"},{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":2,"creation_date":1688971052,"post_id":76651175,"comment_id":135140983,"body_markdown":"Your IDE is creating an anonymous class that implements the `Classroom` interface.","body":"Your IDE is creating an anonymous class that implements the <code>Classroom</code> interface."}],"answers":[{"tags":[],"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688972146,"creation_date":1688972146,"answer_id":76651326,"question_id":76651175,"body_markdown":"The methods in your interface are actually getters (that don&#39;t start with &quot;get&quot;), so if you want to avoid repeating too much code, you can use an abstract class:\r\n\r\n    public abstract class AbstractClassroom implements Classroom {\r\n        private final Map&lt;String, String&gt; students;\r\n        private final Grade grade;\r\n        private final Optional&lt;String&gt; teacher;\r\n    \r\n        protected AbstractClassroom(Map&lt;String, String&gt; students, Grade grade, Optional&lt;String&gt; teacher) {\r\n            this.students = students;\r\n            this.grade = grade;\r\n            this.teacher = teacher;\r\n        }\r\n    \r\n        @Override\r\n        public Map&lt;String, String&gt; students() {\r\n            return students;\r\n        }\r\n    \r\n        @Override\r\n        public Grade grade() {\r\n            return grade;\r\n        }\r\n    \r\n        @Override\r\n        public Optional&lt;String&gt; teacher() {\r\n            return teacher;\r\n        }\r\n    }\r\n\r\nYou can then write your class `BiologyClassroom` as follows:\r\n\r\n    public class BiologyClassroom extends AbstractClassroom {\r\n        public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\r\n            super(students, grade, teacher);\r\n        }\r\n    }\r\n\r\nYou can also consider dropping the interface and use the abstract class instead.\r\n\r\n","title":"How to make a Java constructor for a class that implements an interface","body":"<p>The methods in your interface are actually getters (that don't start with &quot;get&quot;), so if you want to avoid repeating too much code, you can use an abstract class:</p>\n<pre><code>public abstract class AbstractClassroom implements Classroom {\n    private final Map&lt;String, String&gt; students;\n    private final Grade grade;\n    private final Optional&lt;String&gt; teacher;\n\n    protected AbstractClassroom(Map&lt;String, String&gt; students, Grade grade, Optional&lt;String&gt; teacher) {\n        this.students = students;\n        this.grade = grade;\n        this.teacher = teacher;\n    }\n\n    @Override\n    public Map&lt;String, String&gt; students() {\n        return students;\n    }\n\n    @Override\n    public Grade grade() {\n        return grade;\n    }\n\n    @Override\n    public Optional&lt;String&gt; teacher() {\n        return teacher;\n    }\n}\n</code></pre>\n<p>You can then write your class <code>BiologyClassroom</code> as follows:</p>\n<pre><code>public class BiologyClassroom extends AbstractClassroom {\n    public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\n        super(students, grade, teacher);\n    }\n}\n</code></pre>\n<p>You can also consider dropping the interface and use the abstract class instead.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688990306,"creation_date":1688990306,"answer_id":76653509,"question_id":76651175,"body_markdown":"In your _interface_ you have declared _students_, _grades_, and _teacher_ as methods.  \r\nI believe you are intending to use them as _variables_.\r\n\r\nJust use basic inheritance; there is no need for an _interface_, per se.\r\n\r\n```java\r\nclass Classroom {\r\n    enum Grade {\r\n        Primary, Elementary\r\n    }\r\n\r\n    Map&lt;String, String&gt; students;\r\n    String grade;\r\n    Optional&lt;String&gt; teacher;\r\n\r\n    public Classroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\r\n        this.students = students;\r\n        this.grade = grade;\r\n        this.teacher = teacher;\r\n    }\r\n}\r\n```\r\n\r\n```java\r\nclass BiologyClassroom extends Classroom {\r\n    public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\r\n        super(students, grade, teacher);\r\n    }\r\n}\r\n```\r\n\r\nHere is the _Java_ tutorial on inheritance.  \r\n_[Inheritance (The Java&amp;trade; Tutorials &amp;gt; Learning the Java Language &amp;gt; Interfaces and Inheritance)](https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html)_.","title":"How to make a Java constructor for a class that implements an interface","body":"<p>In your <em>interface</em> you have declared <em>students</em>, <em>grades</em>, and <em>teacher</em> as methods.<br />\nI believe you are intending to use them as <em>variables</em>.</p>\n<p>Just use basic inheritance; there is no need for an <em>interface</em>, per se.</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Classroom {\n    enum Grade {\n        Primary, Elementary\n    }\n\n    Map&lt;String, String&gt; students;\n    String grade;\n    Optional&lt;String&gt; teacher;\n\n    public Classroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\n        this.students = students;\n        this.grade = grade;\n        this.teacher = teacher;\n    }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>class BiologyClassroom extends Classroom {\n    public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\n        super(students, grade, teacher);\n    }\n}\n</code></pre>\n<p>Here is the <em>Java</em> tutorial on inheritance.<br />\n<em><a href=\"https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html\" rel=\"nofollow noreferrer\">Inheritance (The Java™ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance)</a></em>.</p>\n"}],"owner":{"account_id":16917353,"reputation":117,"user_id":12235037,"display_name":"chingu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":4,"up_vote_count":0,"accepted_answer_id":76651326,"answer_count":2,"score":-4,"last_activity_date":1688990306,"creation_date":1688970724,"question_id":76651175,"body_markdown":"I have an interface I need to use that looks similar to:\r\n```\r\npublic interface Classroom {\r\n    enum Grade {\r\n        Primary, Elementary\r\n    }\r\n\r\n    Map&lt;String, String&gt; students();\r\n\r\n    String grade();\r\n\r\n    Optional&lt;String&gt; teacher();\r\n}\r\n```\r\nI know in order to use an interface, I need to implement it as a class. However, I don&#39;t understand how to create the constructor for the class? I don&#39;t have any other methods or variables to add to the interface Classroom, I just need a constructor for it so I can use it and create a Classroom object.\r\n\r\n```\r\npublic class BiologyClassroom implements Classroom {\r\n    public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\r\n        // not sure what to put here?\r\n    }\r\n}\r\n```\r\nWhen I do try to use the interface by doing `Classroom classroom = new Classroom()` which I know is wrong, my IDE will fix it by by replacing it with:\r\n```\r\nClassroom classroom = new Classroom() {\r\n            @Override\r\n            public Map&lt;String, String&gt; students() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Grade grade() {\r\n                return null;\r\n            }\r\n\r\n            @Override\r\n            public Optional&lt;String&gt; teacher() {\r\n                return Optional.empty();\r\n            }\r\n        }\r\n```\r\nI don&#39;t know how to interpret this suggestion from my IDE, am I supposed to write methods for `students()`, `grade()` etc? I just need to make a Classroom object using my own values for students, grade and teacher.\r\n\r\nI am new to Java. ","title":"How to make a Java constructor for a class that implements an interface","body":"<p>I have an interface I need to use that looks similar to:</p>\n<pre><code>public interface Classroom {\n    enum Grade {\n        Primary, Elementary\n    }\n\n    Map&lt;String, String&gt; students();\n\n    String grade();\n\n    Optional&lt;String&gt; teacher();\n}\n</code></pre>\n<p>I know in order to use an interface, I need to implement it as a class. However, I don't understand how to create the constructor for the class? I don't have any other methods or variables to add to the interface Classroom, I just need a constructor for it so I can use it and create a Classroom object.</p>\n<pre><code>public class BiologyClassroom implements Classroom {\n    public BiologyClassroom(Map&lt;String, String&gt; students, String grade, Optional&lt;String&gt; teacher) {\n        // not sure what to put here?\n    }\n}\n</code></pre>\n<p>When I do try to use the interface by doing <code>Classroom classroom = new Classroom()</code> which I know is wrong, my IDE will fix it by by replacing it with:</p>\n<pre><code>Classroom classroom = new Classroom() {\n            @Override\n            public Map&lt;String, String&gt; students() {\n                return null;\n            }\n\n            @Override\n            public Grade grade() {\n                return null;\n            }\n\n            @Override\n            public Optional&lt;String&gt; teacher() {\n                return Optional.empty();\n            }\n        }\n</code></pre>\n<p>I don't know how to interpret this suggestion from my IDE, am I supposed to write methods for <code>students()</code>, <code>grade()</code> etc? I just need to make a Classroom object using my own values for students, grade and teacher.</p>\n<p>I am new to Java.</p>\n"},{"tags":["java","jpa","jakarta-ee","glassfish","derby"],"comments":[{"owner":{"account_id":411863,"reputation":7400,"user_id":784594,"display_name":"OndroMih"},"score":0,"creation_date":1694304275,"post_id":76653265,"comment_id":135873875,"body_markdown":"FYI, besides IntelliJ Enterprise (the paid version) and Netbeans, also Visual Studio Code supports GlassFish. Here you can read how to set it up: https://omnifish.ee/developers/glassfish-server/ide-plugins-for-glassfish/eclipse-glassfish-in-visual-studio-code/","body":"FYI, besides IntelliJ Enterprise (the paid version) and Netbeans, also Visual Studio Code supports GlassFish. Here you can read how to set it up: <a href=\"https://omnifish.ee/developers/glassfish-server/ide-plugins-for-glassfish/eclipse-glassfish-in-visual-studio-code/\" rel=\"nofollow noreferrer\">omnifish.ee/developers/glassfish-server/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1688989925,"creation_date":1688989925,"answer_id":76653460,"question_id":76653265,"body_markdown":"### Here&#39;s the workaround that I used to solve all these issues: ###\r\n\r\n&gt; 2. Then, after downloading Apache Derby (10.16.1.1) for setting up the database server I was receiving this exception:\r\n&gt; ```\r\n&gt; An error occurred while creating the database:\r\n&gt; java.lang.ClassNotFoundException: org.apache.derby.jdbc.Clientdriver\r\n&gt; ```\r\n\r\nBasically the library had a class in the wrong package. I just copied the `jdbc` folder located in `db-derby-10.16.1.1-bin\\lib\\derbytools.jar\\org\\apache\\derby` and pasted it in `db-derby-10.16.1.1-bin\\lib\\derbyclient.jar\\org\\apache\\derby`.\r\n\r\n-----------------\r\n\r\n&gt; 3. After solving the missing class issue, every commit I tried to do to the database was being set to rollback, being unable to persist anything into the database. This is the exception I was getting:\r\n&gt; ```\r\n&gt; javax.persistence.RollbackException: Transaction &quot;rolled back&quot; because transaction was set to RollbackOnly.\r\n&gt; ```\r\n\r\nHere the problem was that when the `persistence.xml` file was created, instead of using the jakarta library for the persistence-unit properties, it was using the old javax library, creating an incompatibility. Change all the `javax` for `jakarta`. Also, you may need to set the `transaction-type` to `JTA`.\r\n\r\n```\r\n&lt;persistence-unit name=&quot;customersDatabase&quot; transaction-type=&quot;JTA&quot;&gt;\r\n  &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\r\n  &lt;properties&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:derby://localhost:1527/customers&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.apache.derby.jdbc.ClientDriver&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\r\n    &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\r\n  &lt;/properties&gt;\r\n&lt;/persistence-unit&gt;\r\n```\r\n\r\n-----------------\r\n\r\n&gt; 4. Finally, when the transaction was finally not getting rolled back, I was getting an error because apparently the table I was trying to write into didn&#39;t exist. Even though I could clearly see it in the Derby server and the persistence.xml file pointed to it correctly:\r\n&gt; ```\r\n&gt; java.sql.SQLSyntaxErrorException: Table/View &#39;CUSTOMER&#39; does not exist.\r\n&gt; ```\r\n\r\nThis is the one that took me more time, I was just going crazy. In the `persistence.xml` file we stated which database we want to connect to. However, there&#39;s a file called `domain.xml` inside the GlassFish server domain&#39;s `domain-name\\config` folder which also sets up a database connection and dominates over the persistence file. It stablishes a connection to three different databases, we have to change the one named `DerbyPool`:\r\n\r\n```\r\n&lt;jdbc-connection-pool is-isolation-level-guaranteed=&quot;false&quot; datasource-classname=&quot;org.apache.derby.jdbc.ClientDataSource&quot; name=&quot;DerbyPool&quot; res-type=&quot;javax.sql.DataSource&quot;&gt;\r\n  &lt;property name=&quot;PortNumber&quot; value=&quot;1527&quot;&gt;&lt;/property&gt;\r\n  &lt;property name=&quot;Password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\r\n  &lt;property name=&quot;User&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\r\n  &lt;property name=&quot;serverName&quot; value=&quot;localhost&quot;&gt;&lt;/property&gt;\r\n  &lt;property name=&quot;DatabaseName&quot; value=&quot;customers&quot;&gt;&lt;/property&gt;\r\n  &lt;property name=&quot;connectionAttributes&quot; value=&quot;;create=true&quot;&gt;&lt;/property&gt;\r\n&lt;/jdbc-connection-pool&gt;\r\n```\r\n\r\n-----------------\r\n\r\nAnd that&#39;s it! If you installed everything correctly and fixed these issues your GlassFish + Derby server should be running and synchronized with Netbeans and all queries to the database should be working properly.","title":"Having problems setting up Jakarta EE on Netbeans using GlassFish and Derby","body":"<h3>Here's the workaround that I used to solve all these issues:</h3>\n<blockquote>\n<ol start=\"2\">\n<li>Then, after downloading Apache Derby (10.16.1.1) for setting up the database server I was receiving this exception:</li>\n</ol>\n<pre><code>An error occurred while creating the database:\njava.lang.ClassNotFoundException: org.apache.derby.jdbc.Clientdriver\n</code></pre>\n</blockquote>\n<p>Basically the library had a class in the wrong package. I just copied the <code>jdbc</code> folder located in <code>db-derby-10.16.1.1-bin\\lib\\derbytools.jar\\org\\apache\\derby</code> and pasted it in <code>db-derby-10.16.1.1-bin\\lib\\derbyclient.jar\\org\\apache\\derby</code>.</p>\n<hr />\n<blockquote>\n<ol start=\"3\">\n<li>After solving the missing class issue, every commit I tried to do to the database was being set to rollback, being unable to persist anything into the database. This is the exception I was getting:</li>\n</ol>\n<pre><code>javax.persistence.RollbackException: Transaction &quot;rolled back&quot; because transaction was set to RollbackOnly.\n</code></pre>\n</blockquote>\n<p>Here the problem was that when the <code>persistence.xml</code> file was created, instead of using the jakarta library for the persistence-unit properties, it was using the old javax library, creating an incompatibility. Change all the <code>javax</code> for <code>jakarta</code>. Also, you may need to set the <code>transaction-type</code> to <code>JTA</code>.</p>\n<pre><code>&lt;persistence-unit name=&quot;customersDatabase&quot; transaction-type=&quot;JTA&quot;&gt;\n  &lt;exclude-unlisted-classes&gt;false&lt;/exclude-unlisted-classes&gt;\n  &lt;properties&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:derby://localhost:1527/customers&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;root&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.apache.derby.jdbc.ClientDriver&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;root&quot;/&gt;\n    &lt;property name=&quot;javax.persistence.schema-generation.database.action&quot; value=&quot;create&quot;/&gt;\n  &lt;/properties&gt;\n&lt;/persistence-unit&gt;\n</code></pre>\n<hr />\n<blockquote>\n<ol start=\"4\">\n<li>Finally, when the transaction was finally not getting rolled back, I was getting an error because apparently the table I was trying to write into didn't exist. Even though I could clearly see it in the Derby server and the persistence.xml file pointed to it correctly:</li>\n</ol>\n<pre><code>java.sql.SQLSyntaxErrorException: Table/View 'CUSTOMER' does not exist.\n</code></pre>\n</blockquote>\n<p>This is the one that took me more time, I was just going crazy. In the <code>persistence.xml</code> file we stated which database we want to connect to. However, there's a file called <code>domain.xml</code> inside the GlassFish server domain's <code>domain-name\\config</code> folder which also sets up a database connection and dominates over the persistence file. It stablishes a connection to three different databases, we have to change the one named <code>DerbyPool</code>:</p>\n<pre><code>&lt;jdbc-connection-pool is-isolation-level-guaranteed=&quot;false&quot; datasource-classname=&quot;org.apache.derby.jdbc.ClientDataSource&quot; name=&quot;DerbyPool&quot; res-type=&quot;javax.sql.DataSource&quot;&gt;\n  &lt;property name=&quot;PortNumber&quot; value=&quot;1527&quot;&gt;&lt;/property&gt;\n  &lt;property name=&quot;Password&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\n  &lt;property name=&quot;User&quot; value=&quot;root&quot;&gt;&lt;/property&gt;\n  &lt;property name=&quot;serverName&quot; value=&quot;localhost&quot;&gt;&lt;/property&gt;\n  &lt;property name=&quot;DatabaseName&quot; value=&quot;customers&quot;&gt;&lt;/property&gt;\n  &lt;property name=&quot;connectionAttributes&quot; value=&quot;;create=true&quot;&gt;&lt;/property&gt;\n&lt;/jdbc-connection-pool&gt;\n</code></pre>\n<hr />\n<p>And that's it! If you installed everything correctly and fixed these issues your GlassFish + Derby server should be running and synchronized with Netbeans and all queries to the database should be working properly.</p>\n"}],"owner":{"account_id":28969902,"reputation":61,"user_id":22190461,"display_name":"Guillem Chesa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":237,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76653460,"answer_count":1,"score":1,"last_activity_date":1688989925,"creation_date":1688988355,"question_id":76653265,"body_markdown":"I know it&#39;s pretty outdated technology but I found myself in the need of doing a project using Jakarta EE on GlassFish. I already know the answer, I just want to document my workaround for making this combination of technologies work together, since the information to fix all the problems that may arise is scattered through many different posts and websites.\r\n\r\nFirst I will list the issues and then I will reply with the solutions:\r\n\r\n1. First problem I encountered is that IntelliJ asks you to pay a subscription in order to use Jakarta EE functionality and Eclipse IDE has archived their plugins for GlassFish, so I ended up using Netbeans because it&#39;s the only IDE that still supports GlassFish apparently.\r\n\r\n2. Then, after downloading Apache Derby (10.16.1.1) for setting up the database server I was receiving this exception:\r\n\r\n```\r\nAn error occurred while creating the database:\r\njava.lang.ClassNotFoundException: org.apache.derby.jdbc.Clientdriver\r\n```\r\n\r\n3. After solving the missing class issue, every commit I tried to do to the database was being set to rollback, being unable to persist anything into the database. This is the exception I was getting:\r\n\r\n```\r\njavax.persistence.RollbackException: Transaction &quot;rolled back&quot; because transaction was set to RollbackOnly.\r\n```\r\n\r\n4. Finally, when the transaction was finally not getting rolled back, I was getting an error because apparently the table I was trying to write into didn&#39;t exist. Even though I could clearly see it in the Derby server and the `persistence.xml` file pointed to it correctly:\r\n\r\n```\r\njava.sql.SQLSyntaxErrorException: Table/View &#39;CUSTOMER&#39; does not exist.\r\n```","title":"Having problems setting up Jakarta EE on Netbeans using GlassFish and Derby","body":"<p>I know it's pretty outdated technology but I found myself in the need of doing a project using Jakarta EE on GlassFish. I already know the answer, I just want to document my workaround for making this combination of technologies work together, since the information to fix all the problems that may arise is scattered through many different posts and websites.</p>\n<p>First I will list the issues and then I will reply with the solutions:</p>\n<ol>\n<li><p>First problem I encountered is that IntelliJ asks you to pay a subscription in order to use Jakarta EE functionality and Eclipse IDE has archived their plugins for GlassFish, so I ended up using Netbeans because it's the only IDE that still supports GlassFish apparently.</p>\n</li>\n<li><p>Then, after downloading Apache Derby (10.16.1.1) for setting up the database server I was receiving this exception:</p>\n</li>\n</ol>\n<pre><code>An error occurred while creating the database:\njava.lang.ClassNotFoundException: org.apache.derby.jdbc.Clientdriver\n</code></pre>\n<ol start=\"3\">\n<li>After solving the missing class issue, every commit I tried to do to the database was being set to rollback, being unable to persist anything into the database. This is the exception I was getting:</li>\n</ol>\n<pre><code>javax.persistence.RollbackException: Transaction &quot;rolled back&quot; because transaction was set to RollbackOnly.\n</code></pre>\n<ol start=\"4\">\n<li>Finally, when the transaction was finally not getting rolled back, I was getting an error because apparently the table I was trying to write into didn't exist. Even though I could clearly see it in the Derby server and the <code>persistence.xml</code> file pointed to it correctly:</li>\n</ol>\n<pre><code>java.sql.SQLSyntaxErrorException: Table/View 'CUSTOMER' does not exist.\n</code></pre>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1688990711,"post_id":76653442,"comment_id":135145011,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1688997677,"post_id":76653442,"comment_id":135146815,"body_markdown":"Data is loaded from Firebase (and pretty much any cloud API) asynchronously, and your main code will continue to run while the data is being loaded. Then when the data is available, your `onDataChange` is called. What this means is that when your `return numberF[0]` runs, none of the `numberF[0] = numberDB;` has yet been called. You can verify this by setting breakpoints and running in the debugger. --- In practice it means that you can&#39;t return a value that is asynchronously loaded and will need to handle it inside the `onDataChange`. A common workaround is to pass a custom callback.","body":"Data is loaded from Firebase (and pretty much any cloud API) asynchronously, and your main code will continue to run while the data is being loaded. Then when the data is available, your <code>onDataChange</code> is called. What this means is that when your <code>return numberF[0]</code> runs, none of the <code>numberF[0] = numberDB;</code> has yet been called. You can verify this by setting breakpoints and running in the debugger. --- In practice it means that you can&#39;t return a value that is asynchronously loaded and will need to handle it inside the <code>onDataChange</code>. A common workaround is to pass a custom callback."}],"owner":{"display_name":"user17938552"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1688997685,"answer_count":0,"score":0,"last_activity_date":1688989794,"creation_date":1688989794,"question_id":76653442,"body_markdown":"Below is the structure of my Firebase Realtime Database:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4BCo5.jpg\r\n\r\nI want to get Contacts from the phone in which the app is running. Then I want to check if any of the contact&#39;s phone number is in the database. Or in other words, if a user with that particular number exists or not. If it exists, I want to put the contact in a HashMap whose key is the number and name is the value. I will later add this HashMap data to RecyclerView.\r\n\r\nI am able to get the contacts and also check the above condition, but it does not add them to the HashMap. Below is my code for getting contacts and checking:\r\n\r\n    @SuppressLint(&quot;Range&quot;)\r\n    private void getContacts() {\r\n        @SuppressLint(&quot;Recycle&quot;)\r\n        Cursor cursor = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\r\n                null, null, null, null);\r\n        while (cursor.moveToNext()) {\r\n            String name = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));\r\n            String number = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\r\n            number = number.trim();\r\n\r\n            Pattern p = Pattern.compile(\r\n                    &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;);\r\n\r\n            Matcher m = p.matcher(number);\r\n\r\n            if (m.find()) {\r\n                if (exists(number).equalsIgnoreCase(number)) {\r\n                    Log.i(&quot;Does match:&quot;, number);\r\n                    contactList.put(number, name);\r\n                } else {\r\n                    Log.wtf(&quot;Does not match:&quot;, number);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private String exists(String number) {\r\n        final String[] numberF = {&quot;&quot;};\r\n\r\n        if (number.length() &gt; 10 &amp;&amp; number.length() &lt;= 15) {\r\n            DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\r\n            reference.child(number).addValueEventListener(new ValueEventListener() {\r\n                @Override\r\n                public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n                    if (snapshot.exists()) {\r\n                        String numberDB = snapshot.child(&quot;number&quot;).getValue(String.class);\r\n                        numberF[0] = numberDB;\r\n                    } else {\r\n                        numberF[0] = &quot;&quot;;\r\n                    }\r\n                }\r\n\r\n                @Override\r\n                public void onCancelled(@NonNull DatabaseError error) {\r\n                    numberF[0] = &quot;&quot;;\r\n                }\r\n            });\r\n        } else {\r\n            numberF[0] = &quot;&quot;;\r\n        }\r\n\r\n        return numberF[0];\r\n    }\r\n\r\nPlease help me out to check the above condition or tell why it is not added to the HashMap.","title":"Compare data from Firebase Realtime Database and put it to HashMap","body":"<p>Below is the structure of my Firebase Realtime Database:</p>\n<p><a href=\"https://i.stack.imgur.com/4BCo5.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4BCo5.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I want to get Contacts from the phone in which the app is running. Then I want to check if any of the contact's phone number is in the database. Or in other words, if a user with that particular number exists or not. If it exists, I want to put the contact in a HashMap whose key is the number and name is the value. I will later add this HashMap data to RecyclerView.</p>\n<p>I am able to get the contacts and also check the above condition, but it does not add them to the HashMap. Below is my code for getting contacts and checking:</p>\n<pre><code>@SuppressLint(&quot;Range&quot;)\nprivate void getContacts() {\n    @SuppressLint(&quot;Recycle&quot;)\n    Cursor cursor = getContentResolver().query(ContactsContract.CommonDataKinds.Phone.CONTENT_URI,\n            null, null, null, null);\n    while (cursor.moveToNext()) {\n        String name = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.DISPLAY_NAME));\n        String number = cursor.getString(cursor.getColumnIndex(ContactsContract.CommonDataKinds.Phone.NUMBER));\n        number = number.trim();\n\n        Pattern p = Pattern.compile(\n                &quot;^(\\\\+\\\\d{1,3}( )?)?((\\\\(\\\\d{1,3}\\\\))|\\\\d{1,3})[- .]?\\\\d{3,4}[- .]?\\\\d{4}$&quot;);\n\n        Matcher m = p.matcher(number);\n\n        if (m.find()) {\n            if (exists(number).equalsIgnoreCase(number)) {\n                Log.i(&quot;Does match:&quot;, number);\n                contactList.put(number, name);\n            } else {\n                Log.wtf(&quot;Does not match:&quot;, number);\n            }\n        }\n    }\n}\n\nprivate String exists(String number) {\n    final String[] numberF = {&quot;&quot;};\n\n    if (number.length() &gt; 10 &amp;&amp; number.length() &lt;= 15) {\n        DatabaseReference reference = FirebaseDatabase.getInstance().getReference(&quot;users&quot;);\n        reference.child(number).addValueEventListener(new ValueEventListener() {\n            @Override\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\n                if (snapshot.exists()) {\n                    String numberDB = snapshot.child(&quot;number&quot;).getValue(String.class);\n                    numberF[0] = numberDB;\n                } else {\n                    numberF[0] = &quot;&quot;;\n                }\n            }\n\n            @Override\n            public void onCancelled(@NonNull DatabaseError error) {\n                numberF[0] = &quot;&quot;;\n            }\n        });\n    } else {\n        numberF[0] = &quot;&quot;;\n    }\n\n    return numberF[0];\n}\n</code></pre>\n<p>Please help me out to check the above condition or tell why it is not added to the HashMap.</p>\n"},{"tags":["java","regex","regex-replace"],"comments":[{"owner":{"display_name":"user6073886"},"score":3,"creation_date":1688979915,"post_id":76652246,"comment_id":135142801,"body_markdown":"I don&#39;t see why regex is needed at all. You want to replace one char with another, use the non regex `replace(char, char)` method. (It also replaces all occurances, just doesn&#39;t use regular expressions).","body":"I don&#39;t see why regex is needed at all. You want to replace one char with another, use the non regex <code>replace(char, char)</code> method. (It also replaces all occurances, just doesn&#39;t use regular expressions)."},{"owner":{"account_id":23783500,"reputation":5175,"user_id":17795888,"display_name":"Chaosfire"},"score":2,"creation_date":1688980003,"post_id":76652246,"comment_id":135142817,"body_markdown":"You probably meant - `replaceAll(&quot;\\\\+&quot;, &quot;+&quot;);`? The first parameter is the regex, the second is the replacement. But why do you want to replace a character with the **same** character? The whole operation is redundant.","body":"You probably meant - <code>replaceAll(&quot;\\\\+&quot;, &quot;+&quot;);</code>? The first parameter is the regex, the second is the replacement. But why do you want to replace a character with the <b>same</b> character? The whole operation is redundant."},{"owner":{"account_id":21455334,"reputation":3,"user_id":15807062,"display_name":"NguyenLT21"},"score":0,"creation_date":1688980987,"post_id":76652246,"comment_id":135143043,"body_markdown":"Update:\nIt working with &#39;&quot;18+ , a + b&quot;.replaceAll(&quot;\\\\+&quot;, &quot;\\\\\\\\+&quot;)&#39;","body":"Update: It working with &#39;&quot;18+ , a + b&quot;.replaceAll(&quot;\\\\+&quot;, &quot;\\\\\\\\+&quot;)&#39;"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688982675,"creation_date":1688982675,"answer_id":76652586,"question_id":76652246,"body_markdown":"TL;DR: You want `.replace`. Not `.replaceAll`. Which will replace all occurrences (Yes, `.replace` replaces all, as does `replaceAll`) - and won&#39;t complain about dangling metacharacters.\r\n\r\n-----\r\n\r\nHere&#39;s how it breaks down:\r\n\r\n* `a.replace(&quot;needle&quot;, &quot;duck&quot;)` turns __all__ needles into ducks.\r\n* `a.replaceAll(&quot;needleRegex&quot;, &quot;duck&quot;)` parses the first string argument as a regular expression (which is a programming language-esque concept to describe regular grammars, and `+` has significance in this language, hence why you got your error). Then replaces __all__ substrings within `a` that match the regex with `&quot;duck&quot;`. _`.replaceAll` is the regular expression version, `.replace` is the plain strings version_.\r\n* `a.replaceFirst(&quot;needleRegex&quot;, &quot;duck&quot;)` is like `replaceAll`, except it stops after replacing the first substring it finds.\r\n\r\nIn other words, `All/First` contrast to each other, and these methods are very badly named / should never have been part of java&lt;sup&gt;1&lt;/sup&gt;. The appropriate methods, if they are to exist at all, either [A] should have taken a `Pattern` as first argument (java is strongly nominally typed, if there&#39;s a type that represents the thing, use it), or [B] should have been named `.regexReplaceAll` instead.\r\n\r\nAs a consequence I strongly advise all to never use `.replaceAll`. If you really want to futz with regular expressions (can be quite powerful, but you should want them, you don&#39;t want some code to arbitrarily apply regex parsing as a surprise), make a pattern, use its replace-all methods instead. That way, your code is more flexible (Example: If parsing the regex is part of a profiler&#39;s performance tight loop, you can isolate it. You can explicitly set parameters, and use the vast array of methods pattern/matcher expose, instead of _just_ replaceAll/replaceFirst/matches) - and nobody will be confused when reading it:  You are using regexes, it is obvious that you are, and it is obvious that you intended to.\r\n\r\n-----\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; Java tends to take backwards compatibility fairly seriously; as a consequence I doubt these methods will be removed or even marked as obsolete/deprecated/ill-advised, because that would break existing code. However, the ecosystem may (should!) make a move; linter tools should ship out of the box advising against it, IDEs should remove or at least visually disencourage these methods in their auto-complete dialogs, and so on.\r\n","title":"replace Java-regex-quantifiers","body":"<p>TL;DR: You want <code>.replace</code>. Not <code>.replaceAll</code>. Which will replace all occurrences (Yes, <code>.replace</code> replaces all, as does <code>replaceAll</code>) - and won't complain about dangling metacharacters.</p>\n<hr />\n<p>Here's how it breaks down:</p>\n<ul>\n<li><code>a.replace(&quot;needle&quot;, &quot;duck&quot;)</code> turns <strong>all</strong> needles into ducks.</li>\n<li><code>a.replaceAll(&quot;needleRegex&quot;, &quot;duck&quot;)</code> parses the first string argument as a regular expression (which is a programming language-esque concept to describe regular grammars, and <code>+</code> has significance in this language, hence why you got your error). Then replaces <strong>all</strong> substrings within <code>a</code> that match the regex with <code>&quot;duck&quot;</code>. <em><code>.replaceAll</code> is the regular expression version, <code>.replace</code> is the plain strings version</em>.</li>\n<li><code>a.replaceFirst(&quot;needleRegex&quot;, &quot;duck&quot;)</code> is like <code>replaceAll</code>, except it stops after replacing the first substring it finds.</li>\n</ul>\n<p>In other words, <code>All/First</code> contrast to each other, and these methods are very badly named / should never have been part of java<sup>1</sup>. The appropriate methods, if they are to exist at all, either [A] should have taken a <code>Pattern</code> as first argument (java is strongly nominally typed, if there's a type that represents the thing, use it), or [B] should have been named <code>.regexReplaceAll</code> instead.</p>\n<p>As a consequence I strongly advise all to never use <code>.replaceAll</code>. If you really want to futz with regular expressions (can be quite powerful, but you should want them, you don't want some code to arbitrarily apply regex parsing as a surprise), make a pattern, use its replace-all methods instead. That way, your code is more flexible (Example: If parsing the regex is part of a profiler's performance tight loop, you can isolate it. You can explicitly set parameters, and use the vast array of methods pattern/matcher expose, instead of <em>just</em> replaceAll/replaceFirst/matches) - and nobody will be confused when reading it:  You are using regexes, it is obvious that you are, and it is obvious that you intended to.</p>\n<hr />\n<p><sup>1</sup> Java tends to take backwards compatibility fairly seriously; as a consequence I doubt these methods will be removed or even marked as obsolete/deprecated/ill-advised, because that would break existing code. However, the ecosystem may (should!) make a move; linter tools should ship out of the box advising against it, IDEs should remove or at least visually disencourage these methods in their auto-complete dialogs, and so on.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688989012,"creation_date":1688989012,"answer_id":76653345,"question_id":76652246,"body_markdown":"&gt; _&quot;... Can I replace all symbol &quot;+&quot; by &quot;\\+&quot; in Java 11. ...&quot;_\r\n\r\nYes, you can use the _[String#replace](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence))_ method.  \r\nThe _[String#replaceAll](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String))_ method isn&#39;t required here, it is an alternative to _replace_ which allows for a _regular expression pattern_ as input.\r\n\r\n```java\r\nString string = &quot;18+, a + b&quot;;\r\nstring = string.replace(&quot;+&quot;, &quot;\\\\+&quot;);\r\n```\r\n\r\nOutput\r\n\r\n```none\r\n18\\+, a \\+ b\r\n```","title":"replace Java-regex-quantifiers","body":"<blockquote>\n<p><em>&quot;... Can I replace all symbol &quot;+&quot; by &quot;+&quot; in Java 11. ...&quot;</em></p>\n</blockquote>\n<p>Yes, you can use the <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replace(java.lang.CharSequence,java.lang.CharSequence)\" rel=\"nofollow noreferrer\">String#replace</a></em> method.<br />\nThe <em><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#replaceAll(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\">String#replaceAll</a></em> method isn't required here, it is an alternative to <em>replace</em> which allows for a <em>regular expression pattern</em> as input.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String string = &quot;18+, a + b&quot;;\nstring = string.replace(&quot;+&quot;, &quot;\\\\+&quot;);\n</code></pre>\n<p>Output</p>\n<pre class=\"lang-none prettyprint-override\"><code>18\\+, a \\+ b\n</code></pre>\n"}],"owner":{"account_id":21455334,"reputation":3,"user_id":15807062,"display_name":"NguyenLT21"},"comment_count":3,"delete_vote_count":1,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"closed_date":1689020409,"accepted_answer_id":76653345,"answer_count":2,"score":-3,"last_activity_date":1688989012,"creation_date":1688979806,"question_id":76652246,"body_markdown":"I have a string like &quot;18+, a + b&quot;. Can I replace all symbol &quot;+&quot; by &quot;\\\\+&quot; in Java 11.\r\n\r\n\r\nI try replaceAll(&quot;+&quot;, &quot;\\\\+&quot;) but failed by Dangling meta character &#39;+&#39;\r\nException in \r\n```\r\nthread &quot;main&quot; java.util.regex.PatternSyntaxException: Dangling meta character &#39;+&#39; near index 0\r\n+\r\n^\r\n\tat java.base/java.util.regex.Pattern.error(Pattern.java:2045)\r\n\tat java.base/java.util.regex.Pattern.sequence(Pattern.java:2220)\r\n\tat java.base/java.util.regex.Pattern.expr(Pattern.java:2086)\r\n\tat java.base/java.util.regex.Pattern.compile(Pattern.java:1798)\r\n\tat java.base/java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1445)\r\n\tat java.base/java.util.regex.Pattern.compile(Pattern.java:1084)\r\n\tat java.base/java.lang.String.replaceAll(String.java:2950)\r\n```\r\n\r\nPlease help me, thank you \r\n","title":"replace Java-regex-quantifiers","body":"<p>I have a string like &quot;18+, a + b&quot;. Can I replace all symbol &quot;+&quot; by &quot;\\+&quot; in Java 11.</p>\n<p>I try replaceAll(&quot;+&quot;, &quot;\\+&quot;) but failed by Dangling meta character '+'\nException in</p>\n<pre><code>thread &quot;main&quot; java.util.regex.PatternSyntaxException: Dangling meta character '+' near index 0\n+\n^\n    at java.base/java.util.regex.Pattern.error(Pattern.java:2045)\n    at java.base/java.util.regex.Pattern.sequence(Pattern.java:2220)\n    at java.base/java.util.regex.Pattern.expr(Pattern.java:2086)\n    at java.base/java.util.regex.Pattern.compile(Pattern.java:1798)\n    at java.base/java.util.regex.Pattern.&lt;init&gt;(Pattern.java:1445)\n    at java.base/java.util.regex.Pattern.compile(Pattern.java:1084)\n    at java.base/java.lang.String.replaceAll(String.java:2950)\n</code></pre>\n<p>Please help me, thank you</p>\n"},{"tags":["java","spring-boot","docker","spring-boot-devtools"],"comments":[{"owner":{"account_id":18536445,"reputation":1099,"user_id":13506001,"display_name":"Rohith V"},"score":0,"creation_date":1619508545,"post_id":67194033,"comment_id":118920037,"body_markdown":"Is the `Build Automatically` option inside the Project menu is enabled.","body":"Is the <code>Build Automatically</code> option inside the Project menu is enabled."},{"owner":{"account_id":19548493,"reputation":470,"user_id":14304675,"display_name":"Ali Momeni"},"score":0,"creation_date":1620073470,"post_id":67194033,"comment_id":119088850,"body_markdown":"i think you are asking too much from java and docker. there are so many continuous deployment tools build for this purpose. the name specifies &quot;dev&quot;tools which is for development environment not production. your solution is CI/CD which automates all these steps. also if you want to do it automatically you can call your git webhook from a shell scripts and after pushing your code build mvn and then build new docker image and run your image.","body":"i think you are asking too much from java and docker. there are so many continuous deployment tools build for this purpose. the name specifies &quot;dev&quot;tools which is for development environment not production. your solution is CI/CD which automates all these steps. also if you want to do it automatically you can call your git webhook from a shell scripts and after pushing your code build mvn and then build new docker image and run your image."}],"answers":[{"tags":[],"owner":{"account_id":14429276,"reputation":111,"user_id":11276501,"display_name":"Abneco"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1619508148,"creation_date":1619508148,"answer_id":67278603,"question_id":67194033,"body_markdown":"I had a similar problem when using intellij idea, I saw somewhere that you had to use the build button for it to work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/PXz5v.png\r\n\r\nIn jsp the application reloads the files, it is not completely automatic, because intellij saves automatically -&gt; this behavior is the default but there is I think a way to change it. -&gt; To record manually and then that it reloads automatically.\r\n\r\nWorks for jsp apps only, if you try this with standard apps it will create a double frame execution (swing)","title":"spring-boot-devtools Automatic Restart not working","body":"<p>I had a similar problem when using intellij idea, I saw somewhere that you had to use the build button for it to work.</p>\n<p><a href=\"https://i.stack.imgur.com/PXz5v.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/PXz5v.png\" alt=\"enter image description here\" /></a></p>\n<p>In jsp the application reloads the files, it is not completely automatic, because intellij saves automatically -&gt; this behavior is the default but there is I think a way to change it. -&gt; To record manually and then that it reloads automatically.</p>\n<p>Works for jsp apps only, if you try this with standard apps it will create a double frame execution (swing)</p>\n"},{"tags":[],"owner":{"account_id":16267237,"reputation":620,"user_id":11746899,"display_name":"Opri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1619512916,"creation_date":1619508631,"answer_id":67278709,"question_id":67194033,"body_markdown":"I am no shore because you are not saying explicitly if you tried this things but:\r\n\r\n \r\n\r\n - try to set this on true:`(SpringApplication.setRegisterShutdownHook(true))`\r\n\r\n     \r\n\r\n  -  try adding manually in the dockerfile this property   `-Dspring.devtools.restart.enabled=true`\r\n\r\n\r\n&gt; I know it says that on default should be on true, but try to do it\r\n&gt; manually\r\n\r\n Maybe show us the dockerfile.\r\n\r\nLater Edit:\r\nSaw this in documentation:\r\n\r\n&gt; repackaged archives do not contain devtools by default. If you want to\r\n&gt; use certain remote devtools feature, you’ll need to disable the\r\n&gt; excludeDevtools build property to include it. The property is\r\n&gt; supported with both the Maven and Gradle plugins.\r\n\r\nThe Spring Boot developer tools are not just limited to local development. You can also use several features when running applications remotely. Remote support is opt-in, to enable it you need to make sure that **devtools** is included in the repackaged archive:\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;excludeDevtools&gt;false&lt;/excludeDevtools&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n\r\nThen you need to set a **spring.devtools.remote.secret** property, for example:\r\n\r\n    spring.devtools.remote.secret=mysecret\r\n\r\n***Remote devtools support is provided in two parts; there is a server side endpoint that accepts connections, and a client application that you run in your IDE. The server component is automatically enabled when the spring.devtools.remote.secret property is set. The client component must be launched manually.***\r\n\r\n[Documents from spring][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-remote","title":"spring-boot-devtools Automatic Restart not working","body":"<p>I am no shore because you are not saying explicitly if you tried this things but:</p>\n<ul>\n<li><p>try to set this on true:<code>(SpringApplication.setRegisterShutdownHook(true))</code></p>\n</li>\n<li><p>try adding manually in the dockerfile this property   <code>-Dspring.devtools.restart.enabled=true</code></p>\n</li>\n</ul>\n<blockquote>\n<p>I know it says that on default should be on true, but try to do it\nmanually</p>\n</blockquote>\n<p>Maybe show us the dockerfile.</p>\n<p>Later Edit:\nSaw this in documentation:</p>\n<blockquote>\n<p>repackaged archives do not contain devtools by default. If you want to\nuse certain remote devtools feature, you’ll need to disable the\nexcludeDevtools build property to include it. The property is\nsupported with both the Maven and Gradle plugins.</p>\n</blockquote>\n<p>The Spring Boot developer tools are not just limited to local development. You can also use several features when running applications remotely. Remote support is opt-in, to enable it you need to make sure that <strong>devtools</strong> is included in the repackaged archive:</p>\n<pre><code>&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;configuration&gt;\n                &lt;excludeDevtools&gt;false&lt;/excludeDevtools&gt;\n            &lt;/configuration&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n<p>Then you need to set a <strong>spring.devtools.remote.secret</strong> property, for example:</p>\n<pre><code>spring.devtools.remote.secret=mysecret\n</code></pre>\n<p><em><strong>Remote devtools support is provided in two parts; there is a server side endpoint that accepts connections, and a client application that you run in your IDE. The server component is automatically enabled when the spring.devtools.remote.secret property is set. The client component must be launched manually.</strong></em></p>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-remote\" rel=\"nofollow noreferrer\">Documents from spring</a></p>\n"},{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1619878665,"creation_date":1619736289,"answer_id":67325975,"question_id":67194033,"body_markdown":"The Spring Boot Devtools offers for Spring Boot applications the functionality that usually is available in IDEs like IntelliJ in which you have the ability to, for example, [restart an application](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart) or force a [live browser reload](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart) when certain classes or resources change. This can be very useful in the development phase of your application.\r\n\r\nIt is typically used in conjunction with an IDE in such a way that it will be launched with the rest of your application by Spring Boot when detected in the classpath and if it is not disabled.\r\n\r\nAlthough you can configure it to monitor further resources, it will usually look for changes in your application code, in your classes and resources.\r\n\r\nIt is important to say that, AFAIK, Devtools will monitor your own classes and resources in an _exploded_ way, I mean, the restart process will not work if you overwrite your whole application jar, only if you overwrite some resources in your `classes` directory. \r\n\r\nThis functionality can be tested with Maven. Please, consider download a simple blueprint from [Spring Initializr](https://start.spring.io), with Spring Boot, Spring Boot Devtools and Spring Web, for example - in order to keep the application running. From a terminal, in the directory that contains the `pom.xml` file, run your application, for instance, with the help of the `spring-boot-maven-plugin` plugin included in the `pom.xml`:\r\n\r\n```\r\nmvn spring-boot:run\r\n```\r\n\r\nThe command will download the project dependencies, compile and run your application.\r\n\r\nNow, perform any modification in your source code, either in your classes or in your resources and, from another terminal, in the same directory, recompile your resources:\r\n\r\n```\r\nmvn compile\r\n```\r\n\r\nIf you look at the first terminal window you will see that the application is restarted to reflect the changes.\r\n\r\nIf you are using docker for your application deployment, try reproducing this behavior can be tricky.\r\n\r\nOn one hand, I do not know if it makes sense, but you can try creating a maven based image and run your code inside, just as described above. Your `Dockerfile` can look similar to this:\r\n\r\n```dockerfile\r\nFROM maven:3.5-jdk-8 as maven\r\n\r\nWORKDIR /app\r\n\r\n# Copy project pom\r\nCOPY ./pom.xml ./pom.xml\r\n\r\n# Fetch (and cache) dependencies\r\nRUN mvn dependency:go-offline -B\r\n\r\n# Copy source files\r\nCOPY ./src ./src\r\n\r\n# Run your application\r\nRUN mvn springboot:run\r\n```\r\n\r\nWith this setup, you can copy with `docker cp` your resources to the `/app/target` directory and it will trigger an application restart. As an alternative, consider mounting a volume in your container instead of using `docker cp`.\r\n\r\n__Much better__, and taking into account the fact that overwriting your application jar will probably not work, you can try to copy both your classes and library dependencies, and run your application in a exploded way. Consider the following `Dockerfile`:\r\n\r\n```dockerfile\r\nFROM maven:3.5-jdk-8 as maven\r\n\r\nWORKDIR /app\r\n\r\n# Copy your project pom\r\nCOPY ./pom.xml ./pom.xml\r\n\r\n# Fetch (and cache) dependencies\r\nRUN mvn dependency:go-offline -B\r\n\r\n# Copy source files\r\nCOPY ./src ./src\r\n\r\n# Compile application and library dependencies\r\n# The dependencies will, by default, be copied to target/dependency\r\nRUN mvn clean compile dependency:copy-dependencies -Dspring-boot.repackage.skip=true\r\n\r\n# Final run image (based on https://stackoverflow.com/questions/53691781/how-to-cache-maven-dependencies-in-docker)\r\nFROM openjdk:8u171-jre-alpine\r\n# OPTIONAL: copy dependencies so the thin jar won&#39;t need to re-download them\r\n# COPY --from=maven /root/.m2 /root/.m2\r\n\r\n# Change working directory\r\nWORKDIR /app\r\n\r\n# Copy classes from maven image\r\nCOPY --from=maven /app/target/classes ./classes\r\n\r\n# Copy dependent libraries\r\nCOPY --from=maven /app/target/dependency ./lib\r\n\r\nEXPOSE 8080\r\n\r\n# Please, modify your main class name as appropriate\r\nENTRYPOINT [&quot;java&quot;, &quot;-cp&quot;, &quot;/app/classes:/app/lib/*&quot;, &quot;com.example.demo.DemoApplication&quot;]\r\n```\r\n\r\nThe important line in the `Dockerfile` is this:\r\n\r\n```\r\nmvn clean compile dependency:copy-dependencies -Dspring-boot.repackage.skip=true\r\n```\r\n\r\nIt will instruct maven to compile your resources and copy the required libraries. Although redundant for the typical Maven phase in which the `spring-boot-maven-plugin` `repackage` goal runs, the flag `spring-boot.repackage.skip=true` will instruct this plugin to not repackage the application.\r\n\r\nWith this `Dockerfile`, build you image (let&#39;s tag it `devtools-demo`, for example):\r\n\r\n```\r\ndocker build -t devtools-demo .\r\n```\r\n\r\nAnd run it:\r\n\r\n```\r\ndocker run devtools-demo:latest\r\n```\r\n\r\nWith this setup, if now you change your classes and/or resources, and run `mvn` locally:\r\n\r\n```\r\nmvn compile\r\n```\r\n\r\nyou should be able to force the restart mechanism in your container with the following `docker cp` command:\r\n\r\n```\r\ndocker cp classes &lt;container name&gt;:/app/classes\r\n```\r\n\r\nPlease, again, consider mounting a volume in your container instead of using `docker cp`.\r\n\r\nI tested the setup and it worked properly.\r\n\r\nThe important think to keep in mind is to replace your exploded resources, not the whole application jar.\r\n\r\nAs another option, you can take an approach similar to the one indicated in your comments and run your Devtools in remote mode:\r\n\r\n```dockerfile\r\nFROM maven:3.5-jdk-8 as maven\r\n\r\nWORKDIR /app\r\n\r\n# Copy project pom\r\nCOPY ./pom.xml ./pom.xml\r\n\r\n# Fetch (and cache) dependencies\r\nRUN mvn dependency:go-offline -B\r\n\r\n# Copy source files\r\nCOPY ./src ./src\r\n\r\n# Build jar\r\nRUN mvn package &amp;&amp; cp target/your-app-version.jar app.jar\r\n\r\n# Final run image (based on https://stackoverflow.com/questions/53691781/how-to-cache-maven-dependencies-in-docker)\r\nFROM openjdk:8u171-jre-alpine\r\n# OPTIONAL: copy dependencies so the thin jar won&#39;t need to re-download them\r\n# COPY --from=maven /root/.m2 /root/.m2\r\n\r\n# Change working directory\r\nWORKDIR /app\r\n\r\n# Copy artifact from the maven image\r\nCOPY --from=maven /app/app.jar ./app.jar\r\n\r\nENV JAVA_DOCKER_OPTS &quot;-agentlib:jdwp=transport=dt_socket,server=y,address=*:8000,suspend=n&quot;\r\n\r\nENV JAVA_OPTS &quot;-Dspring.devtools.restart.enabled=true&quot;\r\n\r\nEXPOSE 8000\r\n\r\nEXPOSE 8080\r\n\r\nENTRYPOINT [&quot;/bin/bash&quot;, &quot;-lc&quot;, &quot;exec java $JAVA_DOCKER_OPTS $JAVA_OPTS -jar /app/app.jar&quot;]\r\n```\r\n\r\nFor the Spring Boot Devtools remote mode to work properly, you need several things (some of them pointed out by Opri as well in his/her answer).\r\n\r\nFirst, you need to configure the `spring-boot-maven-plugin` to [include the devtools](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-remote) in your application jar (it will be excluded otherwise, by default):\r\n\r\n```xml\r\n&lt;plugin&gt;\r\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n  &lt;configuration&gt;\r\n    &lt;excludeDevtools&gt;false&lt;/excludeDevtools&gt;\r\n  &lt;/configuration&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nThen, you need to setup a value for the configuration property `spring.devtools.remote.secret`. This property has to do with the way remote debugging works in Spring Boot Devtools.\r\n\r\nThe remote debugging functionality consists of two parts, a client and a server. Basically, the client is a copy of your server code, and it uses the value of the `spring.devtools.remote.secret` configuration property to authenticate itself against the server.\r\n\r\nThis client code should be [run from an IDE](https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#_running_the_remote_client_application), and you attach your IDE debugging process to a local server exposed from that client.\r\n\r\nEvery change performed in the client monitored resources, remember, the same as in your server, is pushed to the remote server and it will trigger a restart if necessary.\r\n\r\nAs you can see, this functionality is again more appropriate from a development point of view.\r\n\r\nIf you need to actually restart your application by overwriting your jar application file, maybe a better approach will be to configure your docker container to run a shell script in your `ENTRYPOINT` or `CMD`. This shell script will monitor a copy of your jar, in a certain directory. If that resource changes, as a consequence of your `docker cp`, this shell script will stop the current running application version - this application is supposed to run from a different location to avoid problems when updating the jar -, replace the current jar with the new one, and then start the new application version. Not the same, but please, consider read [this related SO answer](https://stackoverflow.com/questions/4002462/how-can-i-write-a-java-application-that-can-update-itself-at-runtime).\r\n\r\nIn any case, when you run an application in a container, you are trying to provide a consistent and platform independent way of deployment for it. From this perspective, instead of monitoring changes in your docker container, a more convenient approach may be to generate and to deploy a new version of your container image with those new changes. This process can be automated greatly using tools like Jenkins, Travis, etcetera. These tools allow you to define CI/CD pipelines that, in response to a code commit, for example, can generate on the fly a docker image with your code and, it configured accordingly, deploy later this image to services like some docker flavor or Kubernetes, on premises or in the cloud. Some of them, especially Kubernetes, but [swarm](https://docs.docker.com/engine/swarm/swarm-tutorial/rolling-update/) an even [docker compose](https://stackoverflow.com/questions/49090395/how-to-achieve-a-rolling-update-with-docker-compose) as well, will allow you to perform rolling updates without or with minimal application service interruption.\r\n\r\nTo conclude, probably it will not fit your needs, but be aware that you can use [`spring-boot-starter-actuator`](https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready) directly or with [Spring Boot Admin](https://github.com/codecentric/spring-boot-admin), for instance, to restart your application. \r\n\r\nFinally, as already indicated in the Spring Boot Devtools documentation, you can try a different option, not based on restart but in application reload, in hot swapping. This functionality is offered by commercial products like [JRebel](https://www.jrebel.com/products/jrebel) although there are some open sources alternatives as well, mainly [dcevm](https://dcevm.github.io) and the [HotswapAgent](https://github.com/HotswapProjects/HotswapAgent). [This related article](https://dzone.com/articles/hot-swap-java-bytecode-on-runtime) provides some insight in how these last two products work. [This Github project](https://github.com/HotswapProjects/hotswap-docklands) provides complementary information about how to run it in docker containers.","title":"spring-boot-devtools Automatic Restart not working","body":"<p>The Spring Boot Devtools offers for Spring Boot applications the functionality that usually is available in IDEs like IntelliJ in which you have the ability to, for example, <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart\" rel=\"noreferrer\">restart an application</a> or force a <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart\" rel=\"noreferrer\">live browser reload</a> when certain classes or resources change. This can be very useful in the development phase of your application.</p>\n<p>It is typically used in conjunction with an IDE in such a way that it will be launched with the rest of your application by Spring Boot when detected in the classpath and if it is not disabled.</p>\n<p>Although you can configure it to monitor further resources, it will usually look for changes in your application code, in your classes and resources.</p>\n<p>It is important to say that, AFAIK, Devtools will monitor your own classes and resources in an <em>exploded</em> way, I mean, the restart process will not work if you overwrite your whole application jar, only if you overwrite some resources in your <code>classes</code> directory.</p>\n<p>This functionality can be tested with Maven. Please, consider download a simple blueprint from <a href=\"https://start.spring.io\" rel=\"noreferrer\">Spring Initializr</a>, with Spring Boot, Spring Boot Devtools and Spring Web, for example - in order to keep the application running. From a terminal, in the directory that contains the <code>pom.xml</code> file, run your application, for instance, with the help of the <code>spring-boot-maven-plugin</code> plugin included in the <code>pom.xml</code>:</p>\n<pre><code>mvn spring-boot:run\n</code></pre>\n<p>The command will download the project dependencies, compile and run your application.</p>\n<p>Now, perform any modification in your source code, either in your classes or in your resources and, from another terminal, in the same directory, recompile your resources:</p>\n<pre><code>mvn compile\n</code></pre>\n<p>If you look at the first terminal window you will see that the application is restarted to reflect the changes.</p>\n<p>If you are using docker for your application deployment, try reproducing this behavior can be tricky.</p>\n<p>On one hand, I do not know if it makes sense, but you can try creating a maven based image and run your code inside, just as described above. Your <code>Dockerfile</code> can look similar to this:</p>\n<pre><code>FROM maven:3.5-jdk-8 as maven\n\nWORKDIR /app\n\n# Copy project pom\nCOPY ./pom.xml ./pom.xml\n\n# Fetch (and cache) dependencies\nRUN mvn dependency:go-offline -B\n\n# Copy source files\nCOPY ./src ./src\n\n# Run your application\nRUN mvn springboot:run\n</code></pre>\n<p>With this setup, you can copy with <code>docker cp</code> your resources to the <code>/app/target</code> directory and it will trigger an application restart. As an alternative, consider mounting a volume in your container instead of using <code>docker cp</code>.</p>\n<p><strong>Much better</strong>, and taking into account the fact that overwriting your application jar will probably not work, you can try to copy both your classes and library dependencies, and run your application in a exploded way. Consider the following <code>Dockerfile</code>:</p>\n<pre><code>FROM maven:3.5-jdk-8 as maven\n\nWORKDIR /app\n\n# Copy your project pom\nCOPY ./pom.xml ./pom.xml\n\n# Fetch (and cache) dependencies\nRUN mvn dependency:go-offline -B\n\n# Copy source files\nCOPY ./src ./src\n\n# Compile application and library dependencies\n# The dependencies will, by default, be copied to target/dependency\nRUN mvn clean compile dependency:copy-dependencies -Dspring-boot.repackage.skip=true\n\n# Final run image (based on https://stackoverflow.com/questions/53691781/how-to-cache-maven-dependencies-in-docker)\nFROM openjdk:8u171-jre-alpine\n# OPTIONAL: copy dependencies so the thin jar won't need to re-download them\n# COPY --from=maven /root/.m2 /root/.m2\n\n# Change working directory\nWORKDIR /app\n\n# Copy classes from maven image\nCOPY --from=maven /app/target/classes ./classes\n\n# Copy dependent libraries\nCOPY --from=maven /app/target/dependency ./lib\n\nEXPOSE 8080\n\n# Please, modify your main class name as appropriate\nENTRYPOINT [&quot;java&quot;, &quot;-cp&quot;, &quot;/app/classes:/app/lib/*&quot;, &quot;com.example.demo.DemoApplication&quot;]\n</code></pre>\n<p>The important line in the <code>Dockerfile</code> is this:</p>\n<pre><code>mvn clean compile dependency:copy-dependencies -Dspring-boot.repackage.skip=true\n</code></pre>\n<p>It will instruct maven to compile your resources and copy the required libraries. Although redundant for the typical Maven phase in which the <code>spring-boot-maven-plugin</code> <code>repackage</code> goal runs, the flag <code>spring-boot.repackage.skip=true</code> will instruct this plugin to not repackage the application.</p>\n<p>With this <code>Dockerfile</code>, build you image (let's tag it <code>devtools-demo</code>, for example):</p>\n<pre><code>docker build -t devtools-demo .\n</code></pre>\n<p>And run it:</p>\n<pre><code>docker run devtools-demo:latest\n</code></pre>\n<p>With this setup, if now you change your classes and/or resources, and run <code>mvn</code> locally:</p>\n<pre><code>mvn compile\n</code></pre>\n<p>you should be able to force the restart mechanism in your container with the following <code>docker cp</code> command:</p>\n<pre><code>docker cp classes &lt;container name&gt;:/app/classes\n</code></pre>\n<p>Please, again, consider mounting a volume in your container instead of using <code>docker cp</code>.</p>\n<p>I tested the setup and it worked properly.</p>\n<p>The important think to keep in mind is to replace your exploded resources, not the whole application jar.</p>\n<p>As another option, you can take an approach similar to the one indicated in your comments and run your Devtools in remote mode:</p>\n<pre><code>FROM maven:3.5-jdk-8 as maven\n\nWORKDIR /app\n\n# Copy project pom\nCOPY ./pom.xml ./pom.xml\n\n# Fetch (and cache) dependencies\nRUN mvn dependency:go-offline -B\n\n# Copy source files\nCOPY ./src ./src\n\n# Build jar\nRUN mvn package &amp;&amp; cp target/your-app-version.jar app.jar\n\n# Final run image (based on https://stackoverflow.com/questions/53691781/how-to-cache-maven-dependencies-in-docker)\nFROM openjdk:8u171-jre-alpine\n# OPTIONAL: copy dependencies so the thin jar won't need to re-download them\n# COPY --from=maven /root/.m2 /root/.m2\n\n# Change working directory\nWORKDIR /app\n\n# Copy artifact from the maven image\nCOPY --from=maven /app/app.jar ./app.jar\n\nENV JAVA_DOCKER_OPTS &quot;-agentlib:jdwp=transport=dt_socket,server=y,address=*:8000,suspend=n&quot;\n\nENV JAVA_OPTS &quot;-Dspring.devtools.restart.enabled=true&quot;\n\nEXPOSE 8000\n\nEXPOSE 8080\n\nENTRYPOINT [&quot;/bin/bash&quot;, &quot;-lc&quot;, &quot;exec java $JAVA_DOCKER_OPTS $JAVA_OPTS -jar /app/app.jar&quot;]\n</code></pre>\n<p>For the Spring Boot Devtools remote mode to work properly, you need several things (some of them pointed out by Opri as well in his/her answer).</p>\n<p>First, you need to configure the <code>spring-boot-maven-plugin</code> to <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-remote\" rel=\"noreferrer\">include the devtools</a> in your application jar (it will be excluded otherwise, by default):</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;plugin&gt;\n  &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n  &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n  &lt;configuration&gt;\n    &lt;excludeDevtools&gt;false&lt;/excludeDevtools&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p>Then, you need to setup a value for the configuration property <code>spring.devtools.remote.secret</code>. This property has to do with the way remote debugging works in Spring Boot Devtools.</p>\n<p>The remote debugging functionality consists of two parts, a client and a server. Basically, the client is a copy of your server code, and it uses the value of the <code>spring.devtools.remote.secret</code> configuration property to authenticate itself against the server.</p>\n<p>This client code should be <a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#_running_the_remote_client_application\" rel=\"noreferrer\">run from an IDE</a>, and you attach your IDE debugging process to a local server exposed from that client.</p>\n<p>Every change performed in the client monitored resources, remember, the same as in your server, is pushed to the remote server and it will trigger a restart if necessary.</p>\n<p>As you can see, this functionality is again more appropriate from a development point of view.</p>\n<p>If you need to actually restart your application by overwriting your jar application file, maybe a better approach will be to configure your docker container to run a shell script in your <code>ENTRYPOINT</code> or <code>CMD</code>. This shell script will monitor a copy of your jar, in a certain directory. If that resource changes, as a consequence of your <code>docker cp</code>, this shell script will stop the current running application version - this application is supposed to run from a different location to avoid problems when updating the jar -, replace the current jar with the new one, and then start the new application version. Not the same, but please, consider read <a href=\"https://stackoverflow.com/questions/4002462/how-can-i-write-a-java-application-that-can-update-itself-at-runtime\">this related SO answer</a>.</p>\n<p>In any case, when you run an application in a container, you are trying to provide a consistent and platform independent way of deployment for it. From this perspective, instead of monitoring changes in your docker container, a more convenient approach may be to generate and to deploy a new version of your container image with those new changes. This process can be automated greatly using tools like Jenkins, Travis, etcetera. These tools allow you to define CI/CD pipelines that, in response to a code commit, for example, can generate on the fly a docker image with your code and, it configured accordingly, deploy later this image to services like some docker flavor or Kubernetes, on premises or in the cloud. Some of them, especially Kubernetes, but <a href=\"https://docs.docker.com/engine/swarm/swarm-tutorial/rolling-update/\" rel=\"noreferrer\">swarm</a> an even <a href=\"https://stackoverflow.com/questions/49090395/how-to-achieve-a-rolling-update-with-docker-compose\">docker compose</a> as well, will allow you to perform rolling updates without or with minimal application service interruption.</p>\n<p>To conclude, probably it will not fit your needs, but be aware that you can use <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#production-ready\" rel=\"noreferrer\"><code>spring-boot-starter-actuator</code></a> directly or with <a href=\"https://github.com/codecentric/spring-boot-admin\" rel=\"noreferrer\">Spring Boot Admin</a>, for instance, to restart your application.</p>\n<p>Finally, as already indicated in the Spring Boot Devtools documentation, you can try a different option, not based on restart but in application reload, in hot swapping. This functionality is offered by commercial products like <a href=\"https://www.jrebel.com/products/jrebel\" rel=\"noreferrer\">JRebel</a> although there are some open sources alternatives as well, mainly <a href=\"https://dcevm.github.io\" rel=\"noreferrer\">dcevm</a> and the <a href=\"https://github.com/HotswapProjects/HotswapAgent\" rel=\"noreferrer\">HotswapAgent</a>. <a href=\"https://dzone.com/articles/hot-swap-java-bytecode-on-runtime\" rel=\"noreferrer\">This related article</a> provides some insight in how these last two products work. <a href=\"https://github.com/HotswapProjects/hotswap-docklands\" rel=\"noreferrer\">This Github project</a> provides complementary information about how to run it in docker containers.</p>\n"},{"tags":[],"owner":{"account_id":7708267,"reputation":97,"user_id":5838539,"display_name":"Sagar Kale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1619877833,"creation_date":1619877833,"answer_id":67347133,"question_id":67194033,"body_markdown":"In order to restart app with devtools you need to make sure following things.\r\n\r\n 1. Use any IDE or Build tools like maven gradle to start app\r\n 2. Using java -jar devtools will not work as it packages app.\r\n 3. Using maven you can run app like mvn spring-boot:run\r\n\r\n[Refer official documentation for more details.][1]\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart","title":"spring-boot-devtools Automatic Restart not working","body":"<p>In order to restart app with devtools you need to make sure following things.</p>\n<ol>\n<li>Use any IDE or Build tools like maven gradle to start app</li>\n<li>Using java -jar devtools will not work as it packages app.</li>\n<li>Using maven you can run app like mvn spring-boot:run</li>\n</ol>\n<p><a href=\"https://docs.spring.io/spring-boot/docs/1.5.16.RELEASE/reference/html/using-boot-devtools.html#using-boot-devtools-restart\" rel=\"nofollow noreferrer\">Refer official documentation for more details.</a></p>\n"},{"tags":[],"owner":{"account_id":3392533,"reputation":165,"user_id":2847059,"display_name":"Mahboob Ali"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1671699983,"creation_date":1671699983,"answer_id":74886284,"question_id":67194033,"body_markdown":"I had similar issue after using dependency also spring boot was not picking up devtools configuration so I did following steps in eclipse.\r\n\r\n01. installed eclipse (assuming you have already installed)\r\n02. installed sts plugin from eclipse market (since i am eclipse generic version lover so prefer generic eclipse on top of that i installed sts plugin)\r\n03. project --&gt; build automatically\r\n04. debug as --&gt; spring boot application\r\n05. done.\r\n","title":"spring-boot-devtools Automatic Restart not working","body":"<p>I had similar issue after using dependency also spring boot was not picking up devtools configuration so I did following steps in eclipse.</p>\n<ol>\n<li>installed eclipse (assuming you have already installed)</li>\n<li>installed sts plugin from eclipse market (since i am eclipse generic version lover so prefer generic eclipse on top of that i installed sts plugin)</li>\n<li>project --&gt; build automatically</li>\n<li>debug as --&gt; spring boot application</li>\n<li>done.</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12319403,"reputation":91,"user_id":8989054,"display_name":"Omkar Joshi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688988766,"creation_date":1688988766,"answer_id":76653313,"question_id":67194033,"body_markdown":"**If you are using IntelliJ try below option**\r\n\r\n1)  Make sure you have updated pom.xml with dev dependency\r\n\r\n    \t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n2) Go to Settings in Intellij click on Build,Execution, Deployment\r\n\r\n3) Click on Compiler\r\n\r\n4) Now click on Build Project Automatically \r\n[![enter image description here][1]][1]\r\n\r\n\r\n5)After this click on Advanced Settings and enable auto-make start\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/koEXK.png\r\n  [2]: https://i.stack.imgur.com/03WxR.png\r\n\r\n6) Lastly stop the server and restart it, you will see the change","title":"spring-boot-devtools Automatic Restart not working","body":"<p><strong>If you are using IntelliJ try below option</strong></p>\n<ol>\n<li><p>Make sure you have updated pom.xml with dev dependency</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n</li>\n<li><p>Go to Settings in Intellij click on Build,Execution, Deployment</p>\n</li>\n<li><p>Click on Compiler</p>\n</li>\n<li><p>Now click on Build Project Automatically\n<a href=\"https://i.stack.imgur.com/koEXK.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/koEXK.png\" alt=\"enter image description here\" /></a></p>\n</li>\n</ol>\n<p>5)After this click on Advanced Settings and enable auto-make start</p>\n<p><a href=\"https://i.stack.imgur.com/03WxR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/03WxR.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"6\">\n<li>Lastly stop the server and restart it, you will see the change</li>\n</ol>\n"}],"owner":{"account_id":208333,"reputation":32350,"user_id":458742,"accept_rate":69,"display_name":"spraff"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8409,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"answer_count":6,"score":8,"last_activity_date":1688988766,"creation_date":1619000993,"question_id":67194033,"body_markdown":"I have a working Spring Boot 2.25 application built with mvn. As per [this documentation](https://docs.spring.io/spring-boot/docs/2.1.5.RELEASE/reference/html/using-boot-devtools.html) I add \r\n\r\n    &lt;dependencies&gt;\r\n    \t&lt;dependency&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t&lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\nFrom the documentation:\r\n\r\n&gt; As DevTools monitors classpath resources, the only way to trigger a restart is to update the classpath. The way in which you cause the classpath to be updated depends on the IDE that you are using. In Eclipse, saving a modified file causes the classpath to be updated and triggers a restart. In IntelliJ IDEA, building the project (Build -&gt; Build Project) has the same effect.\r\n\r\nWith the application running I tried a simple\r\n\r\n    touch /path/to/app.jar\r\n\r\nexpecting the application to restart but nothing happened.\r\n\r\nOkay, so maybe it&#39;s doing something smarter. I modified some source .java, recompiled the .jar, and `cp`&#39;d it to replace the running .jar file and... nothing happened.\r\n\r\nAlso from the documentation\r\n\r\n&gt; DevTools relies on the application context’s shutdown hook to close it during a restart. It does not work correctly if you have disabled the shutdown hook (SpringApplication.setRegisterShutdownHook(false)).\r\n\r\nI am not doing this.\r\n\r\n&gt; DevTools needs to customize the ResourceLoader used by the ApplicationContext. If your application provides one already, it is going to be wrapped. Direct override of the getResource method on the ApplicationContext is not supported.\r\n\r\nI am not doing this.\r\n\r\nI am running this in a Docker container, if that matters. From the documentation:\r\n\r\n&gt; Developer tools are automatically disabled when running a fully packaged application. If your application is launched from java -jar or if it is started from a special classloader, then it is considered a “production application”. If that does not apply to you (i.e. if you run your application from a container), consider excluding devtools or set the -Dspring.devtools.restart.enabled=false system property.\r\n\r\nI don&#39;t understand what this means or if it is relevant.\r\n\r\nI want to recompile a .jar and replace it in the running docker container and trigger and application restart without restarting the container. How can I do this?\r\n\r\nEDIT: I am using `mvn` to rebuild the jar, then `docker cp` to replace it in the running container. (IntelliJ IDEA claims to rebuild the project, but the jar files are actually *not* touched, but that&#39;s another story.) I am looking for a non-IDE-specific solution.","title":"spring-boot-devtools Automatic Restart not working","body":"<p>I have a working Spring Boot 2.25 application built with mvn. As per <a href=\"https://docs.spring.io/spring-boot/docs/2.1.5.RELEASE/reference/html/using-boot-devtools.html\" rel=\"nofollow noreferrer\">this documentation</a> I add</p>\n<pre><code>&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n</code></pre>\n<p>From the documentation:</p>\n<blockquote>\n<p>As DevTools monitors classpath resources, the only way to trigger a restart is to update the classpath. The way in which you cause the classpath to be updated depends on the IDE that you are using. In Eclipse, saving a modified file causes the classpath to be updated and triggers a restart. In IntelliJ IDEA, building the project (Build -&gt; Build Project) has the same effect.</p>\n</blockquote>\n<p>With the application running I tried a simple</p>\n<pre><code>touch /path/to/app.jar\n</code></pre>\n<p>expecting the application to restart but nothing happened.</p>\n<p>Okay, so maybe it's doing something smarter. I modified some source .java, recompiled the .jar, and <code>cp</code>'d it to replace the running .jar file and... nothing happened.</p>\n<p>Also from the documentation</p>\n<blockquote>\n<p>DevTools relies on the application context’s shutdown hook to close it during a restart. It does not work correctly if you have disabled the shutdown hook (SpringApplication.setRegisterShutdownHook(false)).</p>\n</blockquote>\n<p>I am not doing this.</p>\n<blockquote>\n<p>DevTools needs to customize the ResourceLoader used by the ApplicationContext. If your application provides one already, it is going to be wrapped. Direct override of the getResource method on the ApplicationContext is not supported.</p>\n</blockquote>\n<p>I am not doing this.</p>\n<p>I am running this in a Docker container, if that matters. From the documentation:</p>\n<blockquote>\n<p>Developer tools are automatically disabled when running a fully packaged application. If your application is launched from java -jar or if it is started from a special classloader, then it is considered a “production application”. If that does not apply to you (i.e. if you run your application from a container), consider excluding devtools or set the -Dspring.devtools.restart.enabled=false system property.</p>\n</blockquote>\n<p>I don't understand what this means or if it is relevant.</p>\n<p>I want to recompile a .jar and replace it in the running docker container and trigger and application restart without restarting the container. How can I do this?</p>\n<p>EDIT: I am using <code>mvn</code> to rebuild the jar, then <code>docker cp</code> to replace it in the running container. (IntelliJ IDEA claims to rebuild the project, but the jar files are actually <em>not</em> touched, but that's another story.) I am looking for a non-IDE-specific solution.</p>\n"},{"tags":["java","database","oracle","liquibase"],"owner":{"account_id":16882330,"reputation":327,"user_id":12208032,"display_name":"RoshiDil"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688988696,"creation_date":1688988696,"question_id":76653303,"body_markdown":"I am running a Liquibase migration on my project. But it gives the below error.\r\n\r\n    Liquibase update Failed: Invalid Migration File: java.lang.RuntimeException: Property &#39;forIndexName&#39; not found on object type liquibase.change.core.AddUniqueConstraintChange\r\n\r\nI tried using liquibase versions 4.3.2 and 4.11.0. Both gave the same error.\r\n\r\nI am using Oracle as the database.\r\n\r\nRemoving this property from the changelog file didn&#39;t work because then it gives the same error for another property in the changelog file.\r\n\r\nPlease give a solution for this.","title":"Liquibase update Failed due to Property &#39;forIndexName&#39; not found on object type liquibase.change.core.AddUniqueConstraintChange","body":"<p>I am running a Liquibase migration on my project. But it gives the below error.</p>\n<pre><code>Liquibase update Failed: Invalid Migration File: java.lang.RuntimeException: Property 'forIndexName' not found on object type liquibase.change.core.AddUniqueConstraintChange\n</code></pre>\n<p>I tried using liquibase versions 4.3.2 and 4.11.0. Both gave the same error.</p>\n<p>I am using Oracle as the database.</p>\n<p>Removing this property from the changelog file didn't work because then it gives the same error for another property in the changelog file.</p>\n<p>Please give a solution for this.</p>\n"},{"tags":["java","swing"],"comments":[{"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"score":0,"creation_date":1688798125,"post_id":76641668,"comment_id":135124881,"body_markdown":"Implement java.awt.event.ActionEvent on your window class and (write) override the method &quot;public void actionPerformed(ActionEvent e)&quot; then notify the button has an event  using the method buttonid.addActionListener(this)","body":"Implement java.awt.event.ActionEvent on your window class and (write) override the method &quot;public void actionPerformed(ActionEvent e)&quot; then notify the button has an event  using the method buttonid.addActionListener(this)"}],"answers":[{"tags":[],"owner":{"account_id":23100792,"reputation":16,"user_id":17210223,"display_name":"Faizan Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1688988696,"creation_date":1688799379,"answer_id":76641732,"question_id":76641668,"body_markdown":"You would override the `actionPerformed` in `addActionListener` method for this. Example from [this solution](https://stackoverflow.com/a/32315816/17210223):\r\n\r\n```java\r\n@Override\r\npublic void actionPerformed(ActionEvent e) {\r\n    // the source here refers to the object that provoked this method to occur\r\n    JButton sourceBtn = (JButton) e.getSource();\r\n    sourceBtn.setBackground(Color.RED);\r\n}\r\n```\r\nYou might want to read Oracle&#39;s [documentation](https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html) on this, which will strengthen your understanding here.\r\n\r\nThanks to [user16320675](https://stackoverflow.com/users/16320675/user16320675) for correcting me on my phrasing.","title":"How do I change colour of a java swing button on click via a lambda function","body":"<p>You would override the <code>actionPerformed</code> in <code>addActionListener</code> method for this. Example from <a href=\"https://stackoverflow.com/a/32315816/17210223\">this solution</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void actionPerformed(ActionEvent e) {\n    // the source here refers to the object that provoked this method to occur\n    JButton sourceBtn = (JButton) e.getSource();\n    sourceBtn.setBackground(Color.RED);\n}\n</code></pre>\n<p>You might want to read Oracle's <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/events/actionlistener.html\" rel=\"nofollow noreferrer\">documentation</a> on this, which will strengthen your understanding here.</p>\n<p>Thanks to <a href=\"https://stackoverflow.com/users/16320675/user16320675\">user16320675</a> for correcting me on my phrasing.</p>\n"}],"owner":{"account_id":28860519,"reputation":1,"user_id":22104420,"display_name":"BigBlueWhale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76641732,"answer_count":1,"score":0,"last_activity_date":1688988696,"creation_date":1688797684,"question_id":76641668,"body_markdown":"So I have just got into java swing and cannot find how I would change the colour within a lambda function, I imagine it will have something to do with getting the source or maybe even just making the button variable at the top of the class so I can access it from anywhere in the code.\r\n\r\nHere is my window class:\r\n\r\n```java\r\nimport javax.swing.*;\r\n\r\npublic class window {\r\n    JFrame frame;\r\n    window(String title){\r\n        this.frame = new JFrame(title);\r\n        JButton button = new JButton(&quot;Text&quot;);\r\n        button.addActionListener(x-&gt; System.out.println(x.getSource()));\r\n        this.frame.setSize(550,550);\r\n        button.setBounds(550/2-75,550/2-75,150,50);\r\n\r\n        this.frame.add(button);\r\n        this.frame.setLayout(null);\r\n        this.frame.setVisible(true);\r\n    }\r\n}\r\n```\r\n\r\nand my main class:\r\n\r\n```java\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        window win = new window(&quot;Hi&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI would like for the button to change colour on click.","title":"How do I change colour of a java swing button on click via a lambda function","body":"<p>So I have just got into java swing and cannot find how I would change the colour within a lambda function, I imagine it will have something to do with getting the source or maybe even just making the button variable at the top of the class so I can access it from anywhere in the code.</p>\n<p>Here is my window class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import javax.swing.*;\n\npublic class window {\n    JFrame frame;\n    window(String title){\n        this.frame = new JFrame(title);\n        JButton button = new JButton(&quot;Text&quot;);\n        button.addActionListener(x-&gt; System.out.println(x.getSource()));\n        this.frame.setSize(550,550);\n        button.setBounds(550/2-75,550/2-75,150,50);\n\n        this.frame.add(button);\n        this.frame.setLayout(null);\n        this.frame.setVisible(true);\n    }\n}\n</code></pre>\n<p>and my main class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Main {\n    public static void main(String[] args) {\n        window win = new window(&quot;Hi&quot;);\n    }\n}\n</code></pre>\n<p>I would like for the button to change colour on click.</p>\n"},{"tags":["java","nio","sun"],"comments":[{"owner":{"account_id":3708844,"reputation":91,"user_id":3221492,"display_name":"prodigy4440"},"score":0,"creation_date":1641159356,"post_id":70559359,"comment_id":124730658,"body_markdown":"Provide more detail about your question. But this looks like jdk issues, most likely you are running a non oracle jdk. com.sun.** should be from from oracle jdk","body":"Provide more detail about your question. But this looks like jdk issues, most likely you are running a non oracle jdk. com.sun.** should be from from oracle jdk"},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":1,"creation_date":1641217451,"post_id":70559359,"comment_id":124742417,"body_markdown":"You would be doing the project a favor if you removed that import entirely.  [Here is the correct way](https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html) to create a FileSystem from a zip file.","body":"You would be doing the project a favor if you removed that import entirely.  <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\" rel=\"nofollow noreferrer\">Here is the correct way</a> to create a FileSystem from a zip file."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1641218733,"creation_date":1641217441,"answer_id":70566695,"question_id":70559359,"body_markdown":"Based on what I can see, `com.sun.nio.zipfs.ZipFileSystem` class was not part of the official Java SE libraries.\r\n\r\n - In Java 6 and earlier, the class does not exists\r\n\r\n - In Java 7 and Java 8, the class is in the &quot;demo&quot; suite.\r\n\r\n - In Java 9 and later, the class is no longer present in the &quot;demo&quot; suite ... but there is now a class called `jdk.nio.zipfs.ZipFileSystem` in the `jdk.zipfs` module.  However the class is not exposed by the module, and it is declared as package private.  You are supposed to access it using the `FileSystems.getFileSystem` method.\r\n\r\nSo to port your code to Java 9+, you need to add that module to your Java 9+ module dependencies (if your code is modular).  Then you remove the `ZipFileSystem` import and replace it with an import for `java.nio.FileSystem`.  Finally change your code get a `FileSystem` object by calling `FileSystems.getFileSystem` with a URI with the scheme `jar:`.\r\n\r\nThere is more information about the Zip Filesystem Provider in the Java SE documentation; e.g.\r\n\r\n  - [Zip File System Provider](https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html) \r\n  - [Module jdk.zipfs](https://docs.oracle.com/en/java/javase/17/docs/api/jdk.zipfs/module-summary.html)\r\n","title":"How to solve java import com.sun.nio.zipfs.ZipFileSystem?","body":"<p>Based on what I can see, <code>com.sun.nio.zipfs.ZipFileSystem</code> class was not part of the official Java SE libraries.</p>\n<ul>\n<li><p>In Java 6 and earlier, the class does not exists</p>\n</li>\n<li><p>In Java 7 and Java 8, the class is in the &quot;demo&quot; suite.</p>\n</li>\n<li><p>In Java 9 and later, the class is no longer present in the &quot;demo&quot; suite ... but there is now a class called <code>jdk.nio.zipfs.ZipFileSystem</code> in the <code>jdk.zipfs</code> module.  However the class is not exposed by the module, and it is declared as package private.  You are supposed to access it using the <code>FileSystems.getFileSystem</code> method.</p>\n</li>\n</ul>\n<p>So to port your code to Java 9+, you need to add that module to your Java 9+ module dependencies (if your code is modular).  Then you remove the <code>ZipFileSystem</code> import and replace it with an import for <code>java.nio.FileSystem</code>.  Finally change your code get a <code>FileSystem</code> object by calling <code>FileSystems.getFileSystem</code> with a URI with the scheme <code>jar:</code>.</p>\n<p>There is more information about the Zip Filesystem Provider in the Java SE documentation; e.g.</p>\n<ul>\n<li><a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/io/fsp/zipfilesystemprovider.html\" rel=\"nofollow noreferrer\">Zip File System Provider</a></li>\n<li><a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/jdk.zipfs/module-summary.html\" rel=\"nofollow noreferrer\">Module jdk.zipfs</a></li>\n</ul>\n"}],"owner":{"account_id":1813056,"reputation":415,"user_id":1648732,"accept_rate":30,"display_name":"Lidia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":973,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":1,"score":-2,"last_activity_date":1688988558,"creation_date":1641153957,"question_id":70559359,"body_markdown":"I&#39;m solving dependencies for an open source java project and I can&#39;t find to what jar this import belongs, maybe it&#39;s a special JDK it belongs to?\r\n\r\n    import com.sun.nio.zipfs.ZipFileSystem;\r\n\r\nCould you please help me?","title":"How to solve java import com.sun.nio.zipfs.ZipFileSystem?","body":"<p>I'm solving dependencies for an open source java project and I can't find to what jar this import belongs, maybe it's a special JDK it belongs to?</p>\n<pre><code>import com.sun.nio.zipfs.ZipFileSystem;\n</code></pre>\n<p>Could you please help me?</p>\n"},{"tags":["java","unit-testing","mockito","java-record"],"answers":[{"tags":[],"owner":{"account_id":19935722,"reputation":214,"user_id":14608443,"display_name":"IveGotCodeButImNotACoder"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688986058,"creation_date":1688986058,"answer_id":76652969,"question_id":76652896,"body_markdown":"In my opinion, the Builder pattern is the best approach to this problem. As you&#39;ve highlighted with telescoping it can grow to be the length of war and peace! \r\n\r\nThe Builder pattern shouldn&#39;t feel hacky, its a tried and tested pattern with several implementations to it. I&#39;ve used Lombok in the past, alternatively there is `@FreeBuilder` which can be found here - https://www.baeldung.com/java-builder-pattern-freebuilder \r\n","title":"Java records: How to create test fixtures with defaults?","body":"<p>In my opinion, the Builder pattern is the best approach to this problem. As you've highlighted with telescoping it can grow to be the length of war and peace!</p>\n<p>The Builder pattern shouldn't feel hacky, its a tried and tested pattern with several implementations to it. I've used Lombok in the past, alternatively there is <code>@FreeBuilder</code> which can be found here - <a href=\"https://www.baeldung.com/java-builder-pattern-freebuilder\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-builder-pattern-freebuilder</a></p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688988554,"creation_date":1688988554,"answer_id":76653290,"question_id":76652896,"body_markdown":"Today, lombok builder (or something like it - such as writing it by hand, letting your IDE generating it and then maintaining it by hand, or using one of the lombok-esques where you define the structure in an interface or text file and let the Annotation Processor generate the `public record Customer` source file for you) is the only feasible answer. However, you appear to have a missed a rather useful aspect of lombok&#39;s builder support: `toBuilder()`. You can write this:\r\n\r\n```\r\n@Builder(toBuilder = true)\r\npublic record Customer(String name, int ageInYears, ...) {}\r\n\r\nclass TestCustomer {\r\n  private static final Customer DEFAULT_CUSTOMER =\r\n    new Customer(&quot;Jane Doe&quot;, 45, false, false, 10, 100, 1, 10);\r\n\r\n  public void testSenior() {\r\n    int discount = calculateDiscountFor(DEFAULT_CUSTOMER.toBuilder()\r\n      .ageInYears(67)\r\n      .build());\r\n\r\n    assertThat(discount).isEqualTo(10);\r\n  }\r\n\r\n}\r\n```\r\n\r\n\r\nIn some future, java is introducing `with`. You would be able to write&lt;sup&gt;1&lt;/sup&gt;:\r\n\r\n```\r\npublic class TestCustomer {\r\n  private static final Customer DEFAULT_CUSTOMER =\r\n    new Customer(&quot;Jane Doe&quot;, 45, false, false, 10, 100, 1, 10);\r\n\r\n  public void testSenior() {\r\n    int discount = calculateDiscountFor(DEFAULT_CUSTOMER with {\r\n      ageInYears = 67;\r\n    });\r\n\r\n    assertThat(discount).isEqualTo(10);\r\n  }\r\n}\r\n```\r\n\r\n----\r\n\r\n&lt;sup&gt;1&lt;/sup&gt; In case you are not familiar with how java language updates are debated on the OpenJDK mailing lists: Syntax is generally __irrelevant__ - is `with` going to become a keyword? Is that how it will look? Who knows. Who cares. It hasn&#39;t been debated yet and won&#39;t be until just about everything else relevant has been debated at length and a clear plan forward is already established. Hence, don&#39;t focus on what that looks like. Focus on the notion that you can pass a code block to an object which [A] deconstructs that object into local variables and auto-declares these locals within the scope of said block, and [B] at the end of the block, constructs a new instance by passing each deconstructed local variable.\r\n","title":"Java records: How to create test fixtures with defaults?","body":"<p>Today, lombok builder (or something like it - such as writing it by hand, letting your IDE generating it and then maintaining it by hand, or using one of the lombok-esques where you define the structure in an interface or text file and let the Annotation Processor generate the <code>public record Customer</code> source file for you) is the only feasible answer. However, you appear to have a missed a rather useful aspect of lombok's builder support: <code>toBuilder()</code>. You can write this:</p>\n<pre><code>@Builder(toBuilder = true)\npublic record Customer(String name, int ageInYears, ...) {}\n\nclass TestCustomer {\n  private static final Customer DEFAULT_CUSTOMER =\n    new Customer(&quot;Jane Doe&quot;, 45, false, false, 10, 100, 1, 10);\n\n  public void testSenior() {\n    int discount = calculateDiscountFor(DEFAULT_CUSTOMER.toBuilder()\n      .ageInYears(67)\n      .build());\n\n    assertThat(discount).isEqualTo(10);\n  }\n\n}\n</code></pre>\n<p>In some future, java is introducing <code>with</code>. You would be able to write<sup>1</sup>:</p>\n<pre><code>public class TestCustomer {\n  private static final Customer DEFAULT_CUSTOMER =\n    new Customer(&quot;Jane Doe&quot;, 45, false, false, 10, 100, 1, 10);\n\n  public void testSenior() {\n    int discount = calculateDiscountFor(DEFAULT_CUSTOMER with {\n      ageInYears = 67;\n    });\n\n    assertThat(discount).isEqualTo(10);\n  }\n}\n</code></pre>\n<hr />\n<p><sup>1</sup> In case you are not familiar with how java language updates are debated on the OpenJDK mailing lists: Syntax is generally <strong>irrelevant</strong> - is <code>with</code> going to become a keyword? Is that how it will look? Who knows. Who cares. It hasn't been debated yet and won't be until just about everything else relevant has been debated at length and a clear plan forward is already established. Hence, don't focus on what that looks like. Focus on the notion that you can pass a code block to an object which [A] deconstructs that object into local variables and auto-declares these locals within the scope of said block, and [B] at the end of the block, constructs a new instance by passing each deconstructed local variable.</p>\n"}],"owner":{"account_id":4436420,"reputation":1824,"user_id":4743630,"accept_rate":77,"display_name":"Elias Strehle"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":541,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76653290,"answer_count":2,"score":1,"last_activity_date":1688988554,"creation_date":1688985205,"question_id":76652896,"body_markdown":"I want to unit test a method which takes a record class as input. The record class is fairly large and the method implements complex business logic. To test the logic, I need to create a lot of test records. Each test record is based on a default record and changes one (or a few) fields.\r\n\r\n**How can I efficiently define all those test records?**\r\n\r\nAn example record class and method:\r\n```java\r\nrecord Customer(\r\n  String name,\r\n  int ageInYears,\r\n  boolean isPremiumCustomer,\r\n  boolean isRegisteredInApp,\r\n  int totalNumberOfPurchases,\r\n  int totalPurchaseValue,\r\n  int numberOfPurchasesLastMonth,\r\n  int purchaseValueLastMonth\r\n) {}\r\n\r\n---\r\n\r\nclass DiscountCalculator {\r\n\r\n  /**\r\n   * Calculates discount for given customer in percent.\r\n   */\r\n  static int calculateDiscountFor(Customer customer) {\r\n    // ...\r\n  }\r\n}\r\n```\r\n\r\nMy testing strategy is to start with a &quot;standard&quot; customer:\r\n```java\r\nclass DiscountCalculatorTest {\r\n\r\n  DEFAULT_CUSTOMER = new Customer(&quot;Jane Doe&quot;, 45, false, false, 10, 100, 1, 10);\r\n\r\n  @Test\r\n  void defaultCase() {\r\n    // given\r\n    var customer = DEFAULT_CUSTOMER;\r\n\r\n    // when\r\n    var result = calculateDiscountFor(customer);\r\n\r\n    // default customer receives no discount\r\n    assertThat(result).isEqualTo(0);\r\n  }\r\n}\r\n```\r\n\r\nNow I would like to check the logic by changing some values of the default customer, like so:\r\n```java\r\nclass DicountCalculatorTest {\r\n\r\n  ...\r\n\r\n  @Test\r\n  void discountForSeniors() {\r\n    // given\r\n    var customer = DEFAULT_CUSTOMER;\r\n    // this won&#39;t work for Java record\r\n    customer.setAgeInYears(67);\r\n    \r\n    // when\r\n    var result = calculateDiscountFor(customer);\r\n\r\n    // then\r\n    // seniors receive 5% discount\r\n    assertThat(result).isEqualTo(5);\r\n  }\r\n\r\n  @Test\r\n  void discountForPowerUsers() {\r\n    // given\r\n    var customer = DEFAULT_CUSTOMER;\r\n    // again, this won&#39;t work\r\n    customer.setTotalPurchaseValue(10000);\r\n\r\n    // when\r\n    var result = calculateDiscountFor(customer);\r\n\r\n    // then\r\n    // power users receive 10% discount\r\n    assertThat(result).isEqualTo(10);\r\n  }\r\n\r\n  // a dozen more tests...\r\n}\r\n```\r\n\r\nOf course, the setter method does not work because Java records are immutable. I guess the core problem is that Java does not support default values for method arguments. So how can I efficiently create all those test fixtures where each field has a default value except one (or two/three)?\r\n\r\n---\r\n\r\nSome approaches I have tried:\r\n\r\n1. Telescoping fixtures:\r\n```java\r\nclass CustomerFixtures {\r\n  Customer defaultCustomer() {\r\n    return defaultCustomer(45);\r\n  }\r\n\r\n  Customer defaultCustomer(int ageInYears) {\r\n    return new Customer(&quot;Jane Doe&quot;, ageInYears, false, false, 10, 100, 1, 10);\r\n  }\r\n}\r\n```\r\nThis leads to huge amounts of boilerplate and breaks if multiple fields have the same type (like `ageInYears` and `totalPurchaseValue` in the example).\r\n\r\n2. Mocking the return value of getter methods, like `Mockito.when(customer.getAgeInYears()).thenReturn(67)`. This does not work because Mockito cannot mock final classes.\r\n\r\n3. Copy-paste madness:\r\n```java\r\nclass DicountCalculatorTest {\r\n\r\n  ...\r\n\r\n  @Test\r\n  void discountForSeniors() {\r\n    // given\r\n    var customer = new Customer(&quot;Jane Doe&quot;, 67, false, false, 10, 100, 1, 10);\r\n    \r\n    ...\r\n  }\r\n\r\n  @Test\r\n  void discountForPowerUsers() {\r\n    // given\r\n    var customer = new Customer(&quot;Jane Doe&quot;, 45, false, false, 10, 10000, 1, 10);\r\n\r\n    ...\r\n  }\r\n\r\n  ...\r\n}\r\n```\r\nDon&#39;t try this at home. (And definitely not at work).\r\n\r\n4. A weird workaround based on [Lombok Builder](https://projectlombok.org/features/Builder):\r\n```java\r\nclass CustomerFixtures {\r\n\r\n  @Builder\r\n  private static Customer buildCustomer(String name, int ageInYears, boolean isPremiumCustomer,\r\n    boolean isRegisteredInApp, int totalNumberOfPurchases, int totalPurchaseValue,\r\n    int numberOfPurchasesLastMonth, int purchaseValueLastMonth) {\r\n      return new Customer(name, ageInYears, isPremiumCustomer, isRegisteredInApp,\r\n        totalNumberOfPurchases, totalPurchaseValue, numberOfPurchasesLastMonth,\r\n        purchaseValueLastMonth);\r\n  }\r\n\r\n  public static CustomerFixtures.Builder customerBuilder() {\r\n    return CustomerFixtures.builder()\r\n      .name(&quot;Jane Doe&quot;)\r\n      .ageInYears(45)\r\n      // ...\r\n      .purchaseValueLastMonth(10);\r\n}\r\n```\r\nWith this, unit tests can set up their test record with `var customer = customerBuilder().ageInYears(67).build();`. This seems efficient but feels hacky.","title":"Java records: How to create test fixtures with defaults?","body":"<p>I want to unit test a method which takes a record class as input. The record class is fairly large and the method implements complex business logic. To test the logic, I need to create a lot of test records. Each test record is based on a default record and changes one (or a few) fields.</p>\n<p><strong>How can I efficiently define all those test records?</strong></p>\n<p>An example record class and method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Customer(\n  String name,\n  int ageInYears,\n  boolean isPremiumCustomer,\n  boolean isRegisteredInApp,\n  int totalNumberOfPurchases,\n  int totalPurchaseValue,\n  int numberOfPurchasesLastMonth,\n  int purchaseValueLastMonth\n) {}\n\n---\n\nclass DiscountCalculator {\n\n  /**\n   * Calculates discount for given customer in percent.\n   */\n  static int calculateDiscountFor(Customer customer) {\n    // ...\n  }\n}\n</code></pre>\n<p>My testing strategy is to start with a &quot;standard&quot; customer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DiscountCalculatorTest {\n\n  DEFAULT_CUSTOMER = new Customer(&quot;Jane Doe&quot;, 45, false, false, 10, 100, 1, 10);\n\n  @Test\n  void defaultCase() {\n    // given\n    var customer = DEFAULT_CUSTOMER;\n\n    // when\n    var result = calculateDiscountFor(customer);\n\n    // default customer receives no discount\n    assertThat(result).isEqualTo(0);\n  }\n}\n</code></pre>\n<p>Now I would like to check the logic by changing some values of the default customer, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class DicountCalculatorTest {\n\n  ...\n\n  @Test\n  void discountForSeniors() {\n    // given\n    var customer = DEFAULT_CUSTOMER;\n    // this won't work for Java record\n    customer.setAgeInYears(67);\n    \n    // when\n    var result = calculateDiscountFor(customer);\n\n    // then\n    // seniors receive 5% discount\n    assertThat(result).isEqualTo(5);\n  }\n\n  @Test\n  void discountForPowerUsers() {\n    // given\n    var customer = DEFAULT_CUSTOMER;\n    // again, this won't work\n    customer.setTotalPurchaseValue(10000);\n\n    // when\n    var result = calculateDiscountFor(customer);\n\n    // then\n    // power users receive 10% discount\n    assertThat(result).isEqualTo(10);\n  }\n\n  // a dozen more tests...\n}\n</code></pre>\n<p>Of course, the setter method does not work because Java records are immutable. I guess the core problem is that Java does not support default values for method arguments. So how can I efficiently create all those test fixtures where each field has a default value except one (or two/three)?</p>\n<hr />\n<p>Some approaches I have tried:</p>\n<ol>\n<li>Telescoping fixtures:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class CustomerFixtures {\n  Customer defaultCustomer() {\n    return defaultCustomer(45);\n  }\n\n  Customer defaultCustomer(int ageInYears) {\n    return new Customer(&quot;Jane Doe&quot;, ageInYears, false, false, 10, 100, 1, 10);\n  }\n}\n</code></pre>\n<p>This leads to huge amounts of boilerplate and breaks if multiple fields have the same type (like <code>ageInYears</code> and <code>totalPurchaseValue</code> in the example).</p>\n<ol start=\"2\">\n<li><p>Mocking the return value of getter methods, like <code>Mockito.when(customer.getAgeInYears()).thenReturn(67)</code>. This does not work because Mockito cannot mock final classes.</p>\n</li>\n<li><p>Copy-paste madness:</p>\n</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class DicountCalculatorTest {\n\n  ...\n\n  @Test\n  void discountForSeniors() {\n    // given\n    var customer = new Customer(&quot;Jane Doe&quot;, 67, false, false, 10, 100, 1, 10);\n    \n    ...\n  }\n\n  @Test\n  void discountForPowerUsers() {\n    // given\n    var customer = new Customer(&quot;Jane Doe&quot;, 45, false, false, 10, 10000, 1, 10);\n\n    ...\n  }\n\n  ...\n}\n</code></pre>\n<p>Don't try this at home. (And definitely not at work).</p>\n<ol start=\"4\">\n<li>A weird workaround based on <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\">Lombok Builder</a>:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>class CustomerFixtures {\n\n  @Builder\n  private static Customer buildCustomer(String name, int ageInYears, boolean isPremiumCustomer,\n    boolean isRegisteredInApp, int totalNumberOfPurchases, int totalPurchaseValue,\n    int numberOfPurchasesLastMonth, int purchaseValueLastMonth) {\n      return new Customer(name, ageInYears, isPremiumCustomer, isRegisteredInApp,\n        totalNumberOfPurchases, totalPurchaseValue, numberOfPurchasesLastMonth,\n        purchaseValueLastMonth);\n  }\n\n  public static CustomerFixtures.Builder customerBuilder() {\n    return CustomerFixtures.builder()\n      .name(&quot;Jane Doe&quot;)\n      .ageInYears(45)\n      // ...\n      .purchaseValueLastMonth(10);\n}\n</code></pre>\n<p>With this, unit tests can set up their test record with <code>var customer = customerBuilder().ageInYears(67).build();</code>. This seems efficient but feels hacky.</p>\n"},{"tags":["java","java-stream"],"comments":[{"owner":{"account_id":7905406,"reputation":683,"user_id":5971094,"accept_rate":94,"display_name":"Jordan Jordanovski"},"score":0,"creation_date":1688734175,"post_id":76636449,"comment_id":135117327,"body_markdown":"If value1 is null then value2 will be null as well always and yes the function is sum(value1 * value2). My biggest problem is that I need to return null in the special case of all the intervals in the day being null.","body":"If value1 is null then value2 will be null as well always and yes the function is sum(value1 * value2). My biggest problem is that I need to return null in the special case of all the intervals in the day being null."}],"answers":[{"tags":[],"owner":{"account_id":9460871,"reputation":2143,"user_id":7034621,"display_name":"orhtej2"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688734424,"creation_date":1688734424,"answer_id":76637172,"question_id":76636449,"body_markdown":"This can be done by grouping the stream with [`Collectors.groupingBy(..)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-) overload employing custom downstream [`Collector`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html) implementation, created using [`Collector.of(...)`](https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html#of-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BinaryOperator-java.util.function.Function-java.util.stream.Collector.Characteristics...-) with custom `finisher` (step allowing transformation from intermediate representation to final form.\r\n\r\n```java\r\nList&lt;TimeInterval&gt; input = ... // provide something\r\n\r\nMap&lt;LocalDate, Double&gt; output = input.stream().collect(\r\n  // Produces Map&lt;K, V&gt;, allowing selection of grouping key.\r\n  Collectors.groupingBy(\r\n    e -&gt; e.time.toLocalDate(), \r\n    // Custom collector that first gathers all TimeIntervals for given day,\r\n    // then based on if there are any non-null entries return either number or null\r\n    Collector.of(\r\n      ArrayList&lt;TimeInterval&gt;::new,\r\n      ArrayList&lt;TimeInterval&gt;::add,\r\n      (a, b) -&gt; { a.addAll(b); return a; },\r\n      l -&gt; {\r\n        var filtered = l.stream().filter(e -&gt; e.value1 != null &amp;&amp; e.value2 != null).toList();\r\n        if (filtered.isEmpty())\r\n          // case when all entries contain null numbers.\r\n          // otherwise such key would not exist.\r\n          return null;\r\n\r\n        return filtered.stream().collect(Collectors.summingDouble(e -&gt; e.value1 * e.value2));\r\n      })));\r\n```\r\n\r\nOutput (`Collectors.groupingBy()` likely produces `HashMap` hence garbage ordering):\r\n\r\n```\r\n2018-01-03 null\r\n2018-01-02 44.000000\r\n2018-01-01 32.000000\r\n```","title":"How to have multiple ways of doing aggregation based on a condition when &#39;groupingBy&#39; in Java streams?","body":"<p>This can be done by grouping the stream with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collectors.html#groupingBy-java.util.function.Function-java.util.stream.Collector-\" rel=\"nofollow noreferrer\"><code>Collectors.groupingBy(..)</code></a> overload employing custom downstream <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html\" rel=\"nofollow noreferrer\"><code>Collector</code></a> implementation, created using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/Collector.html#of-java.util.function.Supplier-java.util.function.BiConsumer-java.util.function.BinaryOperator-java.util.function.Function-java.util.stream.Collector.Characteristics...-\" rel=\"nofollow noreferrer\"><code>Collector.of(...)</code></a> with custom <code>finisher</code> (step allowing transformation from intermediate representation to final form.</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;TimeInterval&gt; input = ... // provide something\n\nMap&lt;LocalDate, Double&gt; output = input.stream().collect(\n  // Produces Map&lt;K, V&gt;, allowing selection of grouping key.\n  Collectors.groupingBy(\n    e -&gt; e.time.toLocalDate(), \n    // Custom collector that first gathers all TimeIntervals for given day,\n    // then based on if there are any non-null entries return either number or null\n    Collector.of(\n      ArrayList&lt;TimeInterval&gt;::new,\n      ArrayList&lt;TimeInterval&gt;::add,\n      (a, b) -&gt; { a.addAll(b); return a; },\n      l -&gt; {\n        var filtered = l.stream().filter(e -&gt; e.value1 != null &amp;&amp; e.value2 != null).toList();\n        if (filtered.isEmpty())\n          // case when all entries contain null numbers.\n          // otherwise such key would not exist.\n          return null;\n\n        return filtered.stream().collect(Collectors.summingDouble(e -&gt; e.value1 * e.value2));\n      })));\n</code></pre>\n<p>Output (<code>Collectors.groupingBy()</code> likely produces <code>HashMap</code> hence garbage ordering):</p>\n<pre><code>2018-01-03 null\n2018-01-02 44.000000\n2018-01-01 32.000000\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3446101,"reputation":11345,"user_id":2886891,"accept_rate":75,"display_name":"Honza Zidek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688988422,"creation_date":1688737197,"answer_id":76637504,"question_id":76636449,"body_markdown":"Well, while I was writing my nice answer, @orhtej2 was faster :)\r\n\r\nAnyway, I hope that for the sake of readability, you will have some benefit from my solution, too.\r\n\r\nI prefer implementing a few methods to the classes, so the Collector is then very simple and straightforward:\r\n\r\n``` lang-java\r\nfinal Map&lt;LocalDate, DaySum&gt; result = list.stream()\r\n    .collect(Collectors.groupingBy(\r\n        TimeInterval::getDatePart,   // how to group the elements\r\n        Collector.of(\r\n            DaySum::new,             // how to create a new accumulator\r\n            DaySum::addTimeInterval, // how to add a single element\r\n            DaySum::combine          // how to combine two accumulators  - used only when the stream is computed concurrently\r\n        ))\r\n    );\r\n```\r\n\r\nHere is the full code, then:\r\n\r\n``` lang-java\r\nimport lombok.AllArgsConstructor;\r\nimport lombok.Data;\r\nimport lombok.NoArgsConstructor;\r\nimport lombok.Value;\r\nimport lombok.With;\r\nimport org.junit.jupiter.api.Test;\r\n\r\nimport java.time.LocalDate;\r\nimport java.time.ZoneId;\r\nimport java.time.ZonedDateTime;\r\nimport java.util.List;\r\nimport java.util.Map;\r\nimport java.util.stream.Collector;\r\nimport java.util.stream.Collectors;\r\n\r\nimport static org.junit.jupiter.api.Assertions.assertEquals;\r\n\r\npublic class AggregationTest {\r\n    @Test\r\n    void aggregate() {\r\n        final List&lt;TimeInterval&gt; list = List.of(\r\n            new TimeInterval(ZonedDateTime.of(2018, 1, 1,  0, 0, 0, 0, ZoneId.systemDefault()), 1.0, 2.0),\r\n            new TimeInterval(ZonedDateTime.of(2018, 1, 1,  8, 0, 0, 0, ZoneId.systemDefault()), null, null),\r\n            new TimeInterval(ZonedDateTime.of(2018, 1, 1, 16, 0, 0, 0, ZoneId.systemDefault()), 5.0, 6.0),\r\n            new TimeInterval(ZonedDateTime.of(2018, 1, 2,  0, 0, 0, 0, ZoneId.systemDefault()), 1.0, 2.0),\r\n            new TimeInterval(ZonedDateTime.of(2018, 1, 2,  8, 0, 0, 0, ZoneId.systemDefault()), 3.0, 4.0),\r\n            new TimeInterval(ZonedDateTime.of(2018, 1, 2, 16, 0, 0, 0, ZoneId.systemDefault()), 5.0, 6.0),\r\n            new TimeInterval(ZonedDateTime.of(2018, 1, 3,  0, 0, 0, 0, ZoneId.systemDefault()), null, null),\r\n            new TimeInterval(ZonedDateTime.of(2018, 1, 3,  8, 0, 0, 0, ZoneId.systemDefault()), null, null),\r\n            new TimeInterval(ZonedDateTime.of(2018, 1, 3, 16, 0, 0, 0, ZoneId.systemDefault()), null, null)\r\n        );\r\n        final Map&lt;LocalDate, DaySum&gt; expected = Map.of(\r\n            LocalDate.of(2018, 1, 1), new DaySum(32.0),\r\n            LocalDate.of(2018, 1, 2), new DaySum(44.0),\r\n            LocalDate.of(2018, 1, 3), new DaySum(null)\r\n        );\r\n\r\n        final Map&lt;LocalDate, DaySum&gt; result = list.stream()\r\n            .collect(Collectors.groupingBy(\r\n                TimeInterval::getDatePart,\r\n                Collector.of(\r\n                    DaySum::new,\r\n                    DaySum::addTimeInterval,\r\n                    DaySum::combine\r\n                ))\r\n            );\r\n\r\n        assertEquals(expected, result);\r\n\r\n        // Visualisation:\r\n        System.out.println(&quot;===== INPUT =====&quot;);\r\n        list.forEach(System.out::println);\r\n        System.out.println(&quot;===== OUTPUT =====&quot;);\r\n        System.out.println(&quot;result = &quot; + result);\r\n    }\r\n}\r\n\r\n@Value\r\nclass TimeInterval {\r\n    ZonedDateTime time;\r\n    Double value1;\r\n    Double value2;\r\n\r\n    public LocalDate getDatePart() {\r\n        return time.toLocalDate();\r\n    }\r\n}\r\n\r\n/**\r\n * DaySum is made as a  read-and-write object \r\n * so it may be easily used in the Collector calculations.\r\n * If you need an immutable object, create one more class, and \r\n * add an extra 4th parameter to the Collector.of() to convert it.\r\n */\r\n@Data\r\n@NoArgsConstructor\r\n@AllArgsConstructor\r\nclass DaySum {\r\n    @With\r\n    Double sum;\r\n\r\n    /**\r\n     * The crucial method, responsible for the logic you requested.\r\n     */\r\n    public void addTimeInterval(TimeInterval timeInterval) {\r\n        if (timeInterval.getValue1() == null || timeInterval.getValue2() == null) {\r\n            return;\r\n        }\r\n        final double product = timeInterval.getValue1() * timeInterval.getValue2();\r\n        if (this.sum == null) {\r\n            this.sum = product;\r\n        }\r\n        else {\r\n            this.sum += product;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * A Collector requires such a method for combining interim results\r\n     * in case of parallel processing.\r\n     * The idea is that for the same group, the DaySum may be\r\n     * calculated concurrently into multiple objects.\r\n     * The Collector uses this method to combine them into one \r\n     * at the end of the computation.\r\n     */\r\n    public DaySum combine(DaySum another) {\r\n        if (another == null || another.sum == null) {\r\n            return this;\r\n        }\r\n        if (this.sum == null) {\r\n            return another;\r\n        }\r\n        return this.withSum(this.sum + another.sum);\r\n    }\r\n}\r\n```\r\n\r\nN.B.\r\n\r\nIf you are sure that you will always execute your stream sequentially only, you might start questioning if you really need to implement the combiner. There is a great question https://stackoverflow.com/q/29210176/2886891 with great answers dedicated to this topic, it&#39;s worth reading before you decide to implement your combiner as a no-op function :)","title":"How to have multiple ways of doing aggregation based on a condition when &#39;groupingBy&#39; in Java streams?","body":"<p>Well, while I was writing my nice answer, @orhtej2 was faster :)</p>\n<p>Anyway, I hope that for the sake of readability, you will have some benefit from my solution, too.</p>\n<p>I prefer implementing a few methods to the classes, so the Collector is then very simple and straightforward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Map&lt;LocalDate, DaySum&gt; result = list.stream()\n    .collect(Collectors.groupingBy(\n        TimeInterval::getDatePart,   // how to group the elements\n        Collector.of(\n            DaySum::new,             // how to create a new accumulator\n            DaySum::addTimeInterval, // how to add a single element\n            DaySum::combine          // how to combine two accumulators  - used only when the stream is computed concurrently\n        ))\n    );\n</code></pre>\n<p>Here is the full code, then:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import lombok.AllArgsConstructor;\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\nimport lombok.Value;\nimport lombok.With;\nimport org.junit.jupiter.api.Test;\n\nimport java.time.LocalDate;\nimport java.time.ZoneId;\nimport java.time.ZonedDateTime;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.stream.Collector;\nimport java.util.stream.Collectors;\n\nimport static org.junit.jupiter.api.Assertions.assertEquals;\n\npublic class AggregationTest {\n    @Test\n    void aggregate() {\n        final List&lt;TimeInterval&gt; list = List.of(\n            new TimeInterval(ZonedDateTime.of(2018, 1, 1,  0, 0, 0, 0, ZoneId.systemDefault()), 1.0, 2.0),\n            new TimeInterval(ZonedDateTime.of(2018, 1, 1,  8, 0, 0, 0, ZoneId.systemDefault()), null, null),\n            new TimeInterval(ZonedDateTime.of(2018, 1, 1, 16, 0, 0, 0, ZoneId.systemDefault()), 5.0, 6.0),\n            new TimeInterval(ZonedDateTime.of(2018, 1, 2,  0, 0, 0, 0, ZoneId.systemDefault()), 1.0, 2.0),\n            new TimeInterval(ZonedDateTime.of(2018, 1, 2,  8, 0, 0, 0, ZoneId.systemDefault()), 3.0, 4.0),\n            new TimeInterval(ZonedDateTime.of(2018, 1, 2, 16, 0, 0, 0, ZoneId.systemDefault()), 5.0, 6.0),\n            new TimeInterval(ZonedDateTime.of(2018, 1, 3,  0, 0, 0, 0, ZoneId.systemDefault()), null, null),\n            new TimeInterval(ZonedDateTime.of(2018, 1, 3,  8, 0, 0, 0, ZoneId.systemDefault()), null, null),\n            new TimeInterval(ZonedDateTime.of(2018, 1, 3, 16, 0, 0, 0, ZoneId.systemDefault()), null, null)\n        );\n        final Map&lt;LocalDate, DaySum&gt; expected = Map.of(\n            LocalDate.of(2018, 1, 1), new DaySum(32.0),\n            LocalDate.of(2018, 1, 2), new DaySum(44.0),\n            LocalDate.of(2018, 1, 3), new DaySum(null)\n        );\n\n        final Map&lt;LocalDate, DaySum&gt; result = list.stream()\n            .collect(Collectors.groupingBy(\n                TimeInterval::getDatePart,\n                Collector.of(\n                    DaySum::new,\n                    DaySum::addTimeInterval,\n                    DaySum::combine\n                ))\n            );\n\n        assertEquals(expected, result);\n\n        // Visualisation:\n        System.out.println(&quot;===== INPUT =====&quot;);\n        list.forEach(System.out::println);\n        System.out.println(&quot;===== OUTPUT =====&quot;);\n        System.out.println(&quot;result = &quot; + result);\n    }\n}\n\n@Value\nclass TimeInterval {\n    ZonedDateTime time;\n    Double value1;\n    Double value2;\n\n    public LocalDate getDatePart() {\n        return time.toLocalDate();\n    }\n}\n\n/**\n * DaySum is made as a  read-and-write object \n * so it may be easily used in the Collector calculations.\n * If you need an immutable object, create one more class, and \n * add an extra 4th parameter to the Collector.of() to convert it.\n */\n@Data\n@NoArgsConstructor\n@AllArgsConstructor\nclass DaySum {\n    @With\n    Double sum;\n\n    /**\n     * The crucial method, responsible for the logic you requested.\n     */\n    public void addTimeInterval(TimeInterval timeInterval) {\n        if (timeInterval.getValue1() == null || timeInterval.getValue2() == null) {\n            return;\n        }\n        final double product = timeInterval.getValue1() * timeInterval.getValue2();\n        if (this.sum == null) {\n            this.sum = product;\n        }\n        else {\n            this.sum += product;\n        }\n    }\n\n    /**\n     * A Collector requires such a method for combining interim results\n     * in case of parallel processing.\n     * The idea is that for the same group, the DaySum may be\n     * calculated concurrently into multiple objects.\n     * The Collector uses this method to combine them into one \n     * at the end of the computation.\n     */\n    public DaySum combine(DaySum another) {\n        if (another == null || another.sum == null) {\n            return this;\n        }\n        if (this.sum == null) {\n            return another;\n        }\n        return this.withSum(this.sum + another.sum);\n    }\n}\n</code></pre>\n<p>N.B.</p>\n<p>If you are sure that you will always execute your stream sequentially only, you might start questioning if you really need to implement the combiner. There is a great question <a href=\"https://stackoverflow.com/q/29210176/2886891\">Can a Collector&#39;s combiner function ever be used on sequential streams?</a> with great answers dedicated to this topic, it's worth reading before you decide to implement your combiner as a no-op function :)</p>\n"},{"tags":[],"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1688746556,"creation_date":1688746556,"answer_id":76638605,"question_id":76636449,"body_markdown":"You can use\r\n\r\n```java\r\nMap&lt;LocalDate, Double&gt; map = list.stream()\r\n    .collect(groupingBy(ti -&gt; ti.time.toLocalDate(),\r\n        collectingAndThen(\r\n            filtering(ti -&gt; ti.value1 != null,\r\n                mapping(ti -&gt; ti.value1 * ti.value2, reducing(Double::sum))),\r\n        o -&gt; o.orElse(null))\r\n    ));\r\n```\r\n\r\nNormally, you would use the `toMap` collector for a Reduction like this, but `toMap` does not allow functions to return `null`. Further, conditional expressions mixing numeric expressions and `null` are hard to understand and can easily lead to exceptions.\r\n\r\nSo this solution filters `null` values first, uses the `reducing` collector which produces an `Optional` which will be empty when all values were `null`, so we can substitute the empty optional with the desired `null` result at a final step using `orElse(null)`.\r\n\r\n[Demo on onecompiler.com](https://onecompiler.com/java/3zdtygp58)","title":"How to have multiple ways of doing aggregation based on a condition when &#39;groupingBy&#39; in Java streams?","body":"<p>You can use</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;LocalDate, Double&gt; map = list.stream()\n    .collect(groupingBy(ti -&gt; ti.time.toLocalDate(),\n        collectingAndThen(\n            filtering(ti -&gt; ti.value1 != null,\n                mapping(ti -&gt; ti.value1 * ti.value2, reducing(Double::sum))),\n        o -&gt; o.orElse(null))\n    ));\n</code></pre>\n<p>Normally, you would use the <code>toMap</code> collector for a Reduction like this, but <code>toMap</code> does not allow functions to return <code>null</code>. Further, conditional expressions mixing numeric expressions and <code>null</code> are hard to understand and can easily lead to exceptions.</p>\n<p>So this solution filters <code>null</code> values first, uses the <code>reducing</code> collector which produces an <code>Optional</code> which will be empty when all values were <code>null</code>, so we can substitute the empty optional with the desired <code>null</code> result at a final step using <code>orElse(null)</code>.</p>\n<p><a href=\"https://onecompiler.com/java/3zdtygp58\" rel=\"nofollow noreferrer\">Demo on onecompiler.com</a></p>\n"}],"owner":{"account_id":7905406,"reputation":683,"user_id":5971094,"accept_rate":94,"display_name":"Jordan Jordanovski"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":135,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76638605,"answer_count":3,"score":2,"last_activity_date":1688988422,"creation_date":1688728297,"question_id":76636449,"body_markdown":"Having the following class:\r\n\r\n    public class TimeInterval {\r\n        private ZonedDateTime time;\r\n        private Double value1;\r\n        private Double value2;\r\n    }\r\nwhere the TimeInterval.times are intervals in the day what I want to do is group by day and aggregate the values.\r\nThe tricky part is that I want to apply two different types of aggregations based on a certain condition.\r\n\r\nFor example:\r\n\r\n    2018-01-01T00:00, 1.0, 2.0\r\n    2018-01-01T08:00, null, null\r\n    2018-01-01T16:00, 5.0, 6.0\r\n    2018-01-02T00:00, 1.0, 2.0\r\n    2018-01-02T08:00, 3.0, 4.0\r\n    2018-01-02T16:00, 5.0, 6.0\r\n    2018-01-03T00:00, null, null\r\n    2018-01-03T08:00, null, null\r\n    2018-01-03T16:00, null, null\r\n\r\nShould be aggregated to:\r\n\r\n    2018-01-01, 32.0 - nulls are replaced with 0.0 in this case\r\n    2018-01-02, 44.0 - all values valid\r\n    2018-01-03, null - all intervals with null values, final value is null\r\n\r\nThe aggregation function is `value1 * value2` but the point is that I want the nulls to be replaced with 0.0 in the case when only part of the intervals are with null values (2018-01-01 from the above example) but if all the intervals are with null values I want the final value for the day to be null (2018-01-03 from the above example).\r\n\r\nHow do I do that with Java streams?\r\n","title":"How to have multiple ways of doing aggregation based on a condition when &#39;groupingBy&#39; in Java streams?","body":"<p>Having the following class:</p>\n<pre><code>public class TimeInterval {\n    private ZonedDateTime time;\n    private Double value1;\n    private Double value2;\n}\n</code></pre>\n<p>where the TimeInterval.times are intervals in the day what I want to do is group by day and aggregate the values.\nThe tricky part is that I want to apply two different types of aggregations based on a certain condition.</p>\n<p>For example:</p>\n<pre><code>2018-01-01T00:00, 1.0, 2.0\n2018-01-01T08:00, null, null\n2018-01-01T16:00, 5.0, 6.0\n2018-01-02T00:00, 1.0, 2.0\n2018-01-02T08:00, 3.0, 4.0\n2018-01-02T16:00, 5.0, 6.0\n2018-01-03T00:00, null, null\n2018-01-03T08:00, null, null\n2018-01-03T16:00, null, null\n</code></pre>\n<p>Should be aggregated to:</p>\n<pre><code>2018-01-01, 32.0 - nulls are replaced with 0.0 in this case\n2018-01-02, 44.0 - all values valid\n2018-01-03, null - all intervals with null values, final value is null\n</code></pre>\n<p>The aggregation function is <code>value1 * value2</code> but the point is that I want the nulls to be replaced with 0.0 in the case when only part of the intervals are with null values (2018-01-01 from the above example) but if all the intervals are with null values I want the final value for the day to be null (2018-01-03 from the above example).</p>\n<p>How do I do that with Java streams?</p>\n"},{"tags":["java","android","bottombar"],"comments":[{"owner":{"account_id":6197875,"reputation":2180,"user_id":4828650,"display_name":"Dinkar Kumar"},"score":0,"creation_date":1623942288,"post_id":68021770,"comment_id":120226549,"body_markdown":"its not deprecated https://developer.android.com/reference/com/google/android/material/bottomnavigation/BottomNavigationView#setOnNavigationItemSelectedListener(com.google.android.material.bottomnavigation.BottomNavigationView.OnNavigationItemSelectedListener)","body":"its not deprecated <a href=\"https://developer.android.com/reference/com/google/android/material/bottomnavigation/BottomNavigationView#setOnNavigationItemSelectedListener(com.google.android.material.bottomnavigation.BottomNavigationView.OnNavigationItemSelectedListener)\" rel=\"nofollow noreferrer\">developer.android.com/reference/com/google/android/material/&zwnj;&#8203;&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":1,"up_vote_count":73,"is_accepted":false,"score":72,"last_activity_date":1623954699,"creation_date":1623952440,"answer_id":68024338,"question_id":68021770,"body_markdown":"Its deprecated according to github sources: [BottomNavigationView.setOnNavigationItemSelectedListener][1]\r\n\r\nIn its comment you can read:\r\n\r\n    @deprecated Use {@link NavigationBarView#setOnItemSelectedListener(OnItemSelectedListener)}\r\n       *     instead.\r\n\r\nso use [NavigationBarView.setOnItemSelectedListener][3] from its base class:\r\n\r\n      /**\r\n       * Set a listener that will be notified when a navigation item is selected. This listener will\r\n       * also be notified when the currently selected item is reselected, unless an {@link\r\n       * OnItemReselectedListener} has also been set.\r\n       *\r\n       * @param listener The listener to notify\r\n       * @see #setOnItemReselectedListener(OnItemReselectedListener)\r\n       */\r\n      public void setOnItemSelectedListener(@Nullable OnItemSelectedListener listener) {\r\n        selectedListener = listener;\r\n      }\r\n\r\nAlso see this [commit][2]\r\n\r\nas it explains confusion about this change: \r\n\r\n&gt; The listeners were deprecated in favor of\r\n&gt; `NavigationBarView#OnItemSelectedListener` and\r\n&gt; `NavigationBarView#OnItemReselectedListener`, but deprecation\r\n&gt; documentation was never added, so it&#39;s unclear what developers should\r\n&gt; use instead.\r\n\r\n\r\n  [1]: https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/bottomnavigation/BottomNavigationView.java#L223\r\n  [2]: https://github.com/material-components/material-components-android/commit/720088c5c2462dbaaa90490bca04bb3bbdc708b1\r\n  [3]: https://github.com/material-components/material-components-android/blob/cd5c2cc03ff30eb3f6c6959ffbc0c173ec63c089/lib/java/com/google/android/material/navigation/NavigationBarView.java#L371","title":"setOnNavigationItemSelectedListener deprecated","body":"<p>Its deprecated according to github sources: <a href=\"https://github.com/material-components/material-components-android/blob/master/lib/java/com/google/android/material/bottomnavigation/BottomNavigationView.java#L223\" rel=\"noreferrer\">BottomNavigationView.setOnNavigationItemSelectedListener</a></p>\n<p>In its comment you can read:</p>\n<pre><code>@deprecated Use {@link NavigationBarView#setOnItemSelectedListener(OnItemSelectedListener)}\n   *     instead.\n</code></pre>\n<p>so use <a href=\"https://github.com/material-components/material-components-android/blob/cd5c2cc03ff30eb3f6c6959ffbc0c173ec63c089/lib/java/com/google/android/material/navigation/NavigationBarView.java#L371\" rel=\"noreferrer\">NavigationBarView.setOnItemSelectedListener</a> from its base class:</p>\n<pre><code>  /**\n   * Set a listener that will be notified when a navigation item is selected. This listener will\n   * also be notified when the currently selected item is reselected, unless an {@link\n   * OnItemReselectedListener} has also been set.\n   *\n   * @param listener The listener to notify\n   * @see #setOnItemReselectedListener(OnItemReselectedListener)\n   */\n  public void setOnItemSelectedListener(@Nullable OnItemSelectedListener listener) {\n    selectedListener = listener;\n  }\n</code></pre>\n<p>Also see this <a href=\"https://github.com/material-components/material-components-android/commit/720088c5c2462dbaaa90490bca04bb3bbdc708b1\" rel=\"noreferrer\">commit</a></p>\n<p>as it explains confusion about this change:</p>\n<blockquote>\n<p>The listeners were deprecated in favor of\n<code>NavigationBarView#OnItemSelectedListener</code> and\n<code>NavigationBarView#OnItemReselectedListener</code>, but deprecation\ndocumentation was never added, so it's unclear what developers should\nuse instead.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":18558592,"reputation":1060,"user_id":13523077,"display_name":"Abu Saeed"},"down_vote_count":0,"up_vote_count":52,"is_accepted":false,"score":52,"last_activity_date":1626770084,"creation_date":1626452082,"answer_id":68412210,"question_id":68021770,"body_markdown":"you can try `setonItemSelectedListener`. It is working same as `setOnNavigationItemSelectedListener()`[tested in android 11]\r\n\r\n    bnv.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\r\n\t\t\t@Override\r\n\t\t\tpublic boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n\t\t\t\tint id = item.getItemId();\r\n                switch(id){\r\n                  //check id\r\n                }\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\r\n\r\n**Kotlin:**\r\n\r\n    bnv.setOnItemSelectedListener { item -&gt;\r\n                when (item.itemId) {\r\n                }\r\n                true\r\n            }","title":"setOnNavigationItemSelectedListener deprecated","body":"<p>you can try <code>setonItemSelectedListener</code>. It is working same as <code>setOnNavigationItemSelectedListener()</code>[tested in android 11]</p>\n<pre><code>bnv.setOnItemSelectedListener(new NavigationBarView.OnItemSelectedListener() {\n        @Override\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n            int id = item.getItemId();\n            switch(id){\n              //check id\n            }\n            return true;\n        }\n    });\n</code></pre>\n<p><strong>Kotlin:</strong></p>\n<pre><code>bnv.setOnItemSelectedListener { item -&gt;\n            when (item.itemId) {\n            }\n            true\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22293105,"reputation":1,"user_id":16519586,"display_name":"Royal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627173910,"creation_date":1627173910,"answer_id":68514796,"question_id":68021770,"body_markdown":"\r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n     viewBindingMainActivity.navView.setOnItemSelectedListener { menuItem -&gt;\r\n                if (menuItem.itemId != R.id.navigation_home) {\r\n                    Add your code\r\n                    false\r\n                } else {\r\n                    Add your code\r\n                    true\r\n                }\r\n            }\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n","title":"setOnNavigationItemSelectedListener deprecated","body":"<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code> viewBindingMainActivity.navView.setOnItemSelectedListener { menuItem -&gt;\n            if (menuItem.itemId != R.id.navigation_home) {\n                Add your code\n                false\n            } else {\n                Add your code\n                true\n            }\n        }</code></pre>\r\n</div>\r\n</div>\r\n</p>\n"},{"tags":[],"owner":{"account_id":7022638,"reputation":58830,"user_id":5381331,"accept_rate":60,"display_name":"Linh"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1636337108,"creation_date":1636337108,"answer_id":69877995,"question_id":68021770,"body_markdown":"We can use `setOnItemSelectedListener` instead of `setOnNavigationItemSelectedListener` and \r\n`setOnItemReselectedListener` instead of `setOnNavigationItemReselectedListener`\r\n\r\n\r\n    navView.setOnItemSelectedListener {\r\n        // do something\r\n        true\r\n    }\r\n    \r\n    // In case the default menu can be the first menu \r\n    // Should set the default selected menu BETWEEN setOnItemSelectedListener and setOnItemReselectedListener. \r\n    // It will make setOnItemSelectedListener fired when you launch app. \r\n\r\n    // If you set default menu AFTER setOnItemReselectedListener. \r\n    // Then setOnItemReselectedListener will fired when you launch app\r\n    navView.selectedItemId = R.id.navigation_home\r\n    \r\n\r\n    navView.setOnItemReselectedListener {\r\n        // do something\r\n    }","title":"setOnNavigationItemSelectedListener deprecated","body":"<p>We can use <code>setOnItemSelectedListener</code> instead of <code>setOnNavigationItemSelectedListener</code> and\n<code>setOnItemReselectedListener</code> instead of <code>setOnNavigationItemReselectedListener</code></p>\n<pre><code>navView.setOnItemSelectedListener {\n    // do something\n    true\n}\n\n// In case the default menu can be the first menu \n// Should set the default selected menu BETWEEN setOnItemSelectedListener and setOnItemReselectedListener. \n// It will make setOnItemSelectedListener fired when you launch app. \n\n// If you set default menu AFTER setOnItemReselectedListener. \n// Then setOnItemReselectedListener will fired when you launch app\nnavView.selectedItemId = R.id.navigation_home\n\n\nnavView.setOnItemReselectedListener {\n    // do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":19312801,"reputation":77,"user_id":14118153,"display_name":"razi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1655645988,"creation_date":1655645907,"answer_id":72677315,"question_id":68021770,"body_markdown":" kotlin:\r\n use  setOnItemSelectedListener \r\n\r\n\r\n        bottomNavigationView.setOnItemSelectedListener { item: MenuItem -&gt;\r\n                when (item.itemId) {\r\n                     R.id. ... -&gt; {\r\n                        Add your code\r\n                     true\r\n                }\r\n                \r\n                else -&gt;\r\n                    true\r\n            }","title":"setOnNavigationItemSelectedListener deprecated","body":"<p>kotlin:\nuse  setOnItemSelectedListener</p>\n<pre><code>    bottomNavigationView.setOnItemSelectedListener { item: MenuItem -&gt;\n            when (item.itemId) {\n                 R.id. ... -&gt; {\n                    Add your code\n                 true\n            }\n            \n            else -&gt;\n                true\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13606200,"reputation":637,"user_id":9815277,"display_name":"devio"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1661718641,"creation_date":1661718641,"answer_id":73522060,"question_id":68021770,"body_markdown":"you can use in Kotlin\r\n\r\n    buttmNav.setOnItemSelectedListener { item -&gt;\r\n            when (item.itemId) {\r\n            }\r\n            true\r\n        }","title":"setOnNavigationItemSelectedListener deprecated","body":"<p>you can use in Kotlin</p>\n<pre><code>buttmNav.setOnItemSelectedListener { item -&gt;\n        when (item.itemId) {\n        }\n        true\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15581707,"reputation":49,"user_id":11241291,"display_name":"Moeenuddin178"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1676015036,"creation_date":1675683330,"answer_id":75360800,"question_id":68021770,"body_markdown":"    public class HomeActivity extends AppCompatActivity implements NavigationBarView.OnItemSelectedListener {\r\n    \r\n        BottomNavigationView bottomNavigationView;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_home);\r\n    \r\n            bottomNavigationView = findViewById(R.id.bottom_nav);\r\n            bottomNavigationView.setOnItemSelectedListener(this);\r\n            displayfragment(new FragmentHome());\r\n    \r\n        }\r\n    \r\n        private void displayfragment(Fragment fragment) {\r\n    \r\n            getSupportFragmentManager().beginTransaction().replace(R.id.content_area, fragment).commit();\r\n    \r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean onNavigationItemSelected(@NonNull MenuItem item) {\r\n            Fragment fragment;\r\n            switch (item.getItemId()) {\r\n    \r\n                case R.id.nav_home:\r\n                    fragment = new FragmentHome();\r\n                    break;\r\n                case R.id.nav_fav:\r\n                    fragment = new FavouriteFragment();\r\n                    break;\r\n                case R.id.nav_set:\r\n                    fragment = new FragmentSetting();\r\n                    break;\r\n    \r\n                default:\r\n                    fragment = new FragmentHome();\r\n                    break;\r\n    \r\n            }\r\n            displayfragment(fragment);\r\n            return true;\r\n        }\r\n    }","title":"setOnNavigationItemSelectedListener deprecated","body":"<pre><code>public class HomeActivity extends AppCompatActivity implements NavigationBarView.OnItemSelectedListener {\n\n    BottomNavigationView bottomNavigationView;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home);\n\n        bottomNavigationView = findViewById(R.id.bottom_nav);\n        bottomNavigationView.setOnItemSelectedListener(this);\n        displayfragment(new FragmentHome());\n\n    }\n\n    private void displayfragment(Fragment fragment) {\n\n        getSupportFragmentManager().beginTransaction().replace(R.id.content_area, fragment).commit();\n\n\n    }\n\n    @Override\n    public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n        Fragment fragment;\n        switch (item.getItemId()) {\n\n            case R.id.nav_home:\n                fragment = new FragmentHome();\n                break;\n            case R.id.nav_fav:\n                fragment = new FavouriteFragment();\n                break;\n            case R.id.nav_set:\n                fragment = new FragmentSetting();\n                break;\n\n            default:\n                fragment = new FragmentHome();\n                break;\n\n        }\n        displayfragment(fragment);\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28879998,"reputation":11,"user_id":22119667,"display_name":"Mahesh Shinde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688988044,"creation_date":1688988044,"answer_id":76653218,"question_id":68021770,"body_markdown":"**Add below line in your code**\r\n@SuppressWarnings(&quot;deprecation&quot;)","title":"setOnNavigationItemSelectedListener deprecated","body":"<p><strong>Add below line in your code</strong>\n@SuppressWarnings(&quot;deprecation&quot;)</p>\n"}],"owner":{"account_id":20609581,"reputation":686,"user_id":15129080,"display_name":"Jeyasurya U R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48322,"favorite_count":0,"down_vote_count":0,"up_vote_count":54,"answer_count":8,"score":54,"last_activity_date":1688988044,"creation_date":1623941692,"question_id":68021770,"body_markdown":"Currently I am working on an app which has a bottom navbar with three menu items. I had used `setOnNavigationItemSelectedListener()` for items being clicked. but now iam facing issue that the method has been depreciated.\r\n\r\n - App Language: `Java`\r\n - Issue: `&#39;setOnNavigationItemSelectedListener(com.google.android.material.bottomnavigation.BottomNavigationView.OnNavigationItemSelectedListener)&#39; is deprecated `\r\n\r\nIs there any way to resolve it? is is there any better alternative than `setOnNavigationItemSelectedListener()` method.\r\n","title":"setOnNavigationItemSelectedListener deprecated","body":"<p>Currently I am working on an app which has a bottom navbar with three menu items. I had used <code>setOnNavigationItemSelectedListener()</code> for items being clicked. but now iam facing issue that the method has been depreciated.</p>\n<ul>\n<li>App Language: <code>Java</code></li>\n<li>Issue: <code>'setOnNavigationItemSelectedListener(com.google.android.material.bottomnavigation.BottomNavigationView.OnNavigationItemSelectedListener)' is deprecated </code></li>\n</ul>\n<p>Is there any way to resolve it? is is there any better alternative than <code>setOnNavigationItemSelectedListener()</code> method.</p>\n"},{"tags":["java","kotlin","testing","equality","assertj"],"answers":[{"tags":[],"owner":{"account_id":136251,"reputation":87506,"user_id":339637,"accept_rate":55,"display_name":"Ken Chan"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1688987781,"creation_date":1688747893,"answer_id":76638763,"question_id":76638706,"body_markdown":"The AssertJ idiomatic way for reference comparison is via [`isSameAs`][1] and [`isNotSameAs`][2] : \r\n\r\n```\r\nassertThat(obj1).isSameAs(obj2);\r\n```\r\n\r\n```\r\nassertThat(obj1).isNotSameAs(obj2);\r\n```\r\n\r\n\r\n  [1]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/Assert.html#isSameAs(java.lang.Object)\r\n  [2]: https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/Assert.html#isNotSameAs(java.lang.Object)","title":"Idiomatic way to force AssertJ to compare by identity?","body":"<p>The AssertJ idiomatic way for reference comparison is via <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/Assert.html#isSameAs(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>isSameAs</code></a> and <a href=\"https://www.javadoc.io/doc/org.assertj/assertj-core/latest/org/assertj/core/api/Assert.html#isNotSameAs(java.lang.Object)\" rel=\"nofollow noreferrer\"><code>isNotSameAs</code></a> :</p>\n<pre><code>assertThat(obj1).isSameAs(obj2);\n</code></pre>\n<pre><code>assertThat(obj1).isNotSameAs(obj2);\n</code></pre>\n"}],"owner":{"account_id":28212129,"reputation":94,"user_id":21564193,"display_name":"sh-at-cs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76638763,"answer_count":1,"score":2,"last_activity_date":1688987781,"creation_date":1688747343,"question_id":76638706,"body_markdown":"AssertJ&#39;s `assertThat(...).isEqualTo()` method compares using `.equals()` by default. This is often the right choice, but sometimes you really do want to compare by exact object identity / referential identity instead (&quot;double equals&quot; `==` in Java, &quot;triple equals&quot; `===` in Kotlin).\r\n\r\nIs there an idiomatic way to force AssertJ to do this kind of comparison, e.g. an assertion method for it that I don&#39;t know about?\r\n\r\nThe best I&#39;ve been able to do is work around it by doing the comparison without AssertJ, then merely using it to check the resulting bool:\r\n\r\nKotlin:\r\n```kotlin\r\nassertThat(obj1 === obj2).isTrue()\r\n```\r\n\r\nJava:\r\n```java\r\nassertThat(obj1 == obj2).isTrue();\r\n```\r\n\r\nAs I already hinted at, this isn&#39;t ideal because a) it looks inconsistent compared to the other assertions and b) the resulting error messages when the assertion fails just say &quot;expected true, got false&quot; which isn&#39;t as nice as showing the differing objects in question (even if they only differ by their memory locations, not their contents).","title":"Idiomatic way to force AssertJ to compare by identity?","body":"<p>AssertJ's <code>assertThat(...).isEqualTo()</code> method compares using <code>.equals()</code> by default. This is often the right choice, but sometimes you really do want to compare by exact object identity / referential identity instead (&quot;double equals&quot; <code>==</code> in Java, &quot;triple equals&quot; <code>===</code> in Kotlin).</p>\n<p>Is there an idiomatic way to force AssertJ to do this kind of comparison, e.g. an assertion method for it that I don't know about?</p>\n<p>The best I've been able to do is work around it by doing the comparison without AssertJ, then merely using it to check the resulting bool:</p>\n<p>Kotlin:</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>assertThat(obj1 === obj2).isTrue()\n</code></pre>\n<p>Java:</p>\n<pre class=\"lang-java prettyprint-override\"><code>assertThat(obj1 == obj2).isTrue();\n</code></pre>\n<p>As I already hinted at, this isn't ideal because a) it looks inconsistent compared to the other assertions and b) the resulting error messages when the assertion fails just say &quot;expected true, got false&quot; which isn't as nice as showing the differing objects in question (even if they only differ by their memory locations, not their contents).</p>\n"},{"tags":["java","string","swap"],"comments":[{"owner":{"account_id":4259406,"reputation":308,"user_id":3484149,"accept_rate":50,"display_name":"Sunny"},"score":0,"creation_date":1401441756,"post_id":23951020,"comment_id":36895291,"body_markdown":"What you want to know exactly?","body":"What you want to know exactly?"},{"owner":{"account_id":2347441,"reputation":67540,"user_id":2057294,"accept_rate":63,"display_name":"skiwi"},"score":0,"creation_date":1401444647,"post_id":23951020,"comment_id":36896924,"body_markdown":"What do you mean without using any temporary variable? Do you not want to see a temporary variable being used? Because I&#39;m sure there&#39;ll always be a temporary variable that is being stored somewhere implicitely.","body":"What do you mean without using any temporary variable? Do you not want to see a temporary variable being used? Because I&#39;m sure there&#39;ll always be a temporary variable that is being stored somewhere implicitely."},{"owner":{"account_id":1022400,"reputation":41,"user_id":3690649,"display_name":"Chris"},"score":0,"creation_date":1401451443,"post_id":23951020,"comment_id":36900555,"body_markdown":"@skiwi It&#39;s implicitly, of course. At when dealing with immutable objects.","body":"@skiwi It&#39;s implicitly, of course. At when dealing with immutable objects."}],"answers":[{"tags":[],"owner":{"account_id":4271169,"reputation":2598,"user_id":3492938,"accept_rate":44,"display_name":"WoDoSc"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1401442098,"creation_date":1401441757,"answer_id":23951114,"question_id":23951020,"body_markdown":"Basically you can think on the swap operation\r\n\r\n    b = a + (a = b).substring(0, 0);\r\n\r\nas\r\n\r\n    b = &quot;abc&quot; + (a = &quot;def&quot;).substring(0, 0);\r\n\r\nIn this first step I simply substituted the variables with their values (except from the `a` in the parenthesis, since this is assigning a value, and not reading).\r\n\r\nNow `a` is equal to `&quot;def&quot;` and therefore `b` is:\r\n\r\n    b = &quot;abc&quot; + &quot;def&quot;.substring(0, 0);\r\n\r\nIn this step I substituted the parenthesis with its value. And now that is clearly:\r\n\r\n    b = &quot;abc&quot;;\r\n\r\nsince the method `.substring(0, 0)` returns an empty string.\r\n\r\nSo the swap is done.\r\n\r\n","title":"Swap String values without temporary variable","body":"<p>Basically you can think on the swap operation</p>\n\n<pre><code>b = a + (a = b).substring(0, 0);\n</code></pre>\n\n<p>as</p>\n\n<pre><code>b = \"abc\" + (a = \"def\").substring(0, 0);\n</code></pre>\n\n<p>In this first step I simply substituted the variables with their values (except from the <code>a</code> in the parenthesis, since this is assigning a value, and not reading).</p>\n\n<p>Now <code>a</code> is equal to <code>\"def\"</code> and therefore <code>b</code> is:</p>\n\n<pre><code>b = \"abc\" + \"def\".substring(0, 0);\n</code></pre>\n\n<p>In this step I substituted the parenthesis with its value. And now that is clearly:</p>\n\n<pre><code>b = \"abc\";\n</code></pre>\n\n<p>since the method <code>.substring(0, 0)</code> returns an empty string.</p>\n\n<p>So the swap is done.</p>\n"},{"tags":[],"owner":{"account_id":1586146,"reputation":2608,"user_id":1470454,"display_name":"Norbert Radyk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401442340,"creation_date":1401442340,"answer_id":23951292,"question_id":23951020,"body_markdown":"The fact you need to ask the question what&#39;s happening here, means you should seriously consider using constructions like this in your code. \r\n\r\nSince in Java expressions are evaluated **left to right** (see [here][1] - &#39;Order of Evaluation&#39; section).\r\n\r\nThis is what happens step-by-step in case of `b = a + (a = b).substring(0, 0)`\r\n\r\n - Populate `a` variable with its value:\r\n\r\n    `b = &quot;abc&quot; + (a = b).substring(0, 0);`\r\n\r\n - Populate b variable with its value:\r\n\r\n    `b = &quot;abc&quot; + (a = &quot;def&quot;).substring(0, 0);`\r\n\r\n - Since first attribute of string concatenation (`+`) is already evaluated evaluate the second one, which starts with reassigning `&quot;def&quot;` to `a`.\r\n\r\n    `b = &quot;abc&quot; + &quot;def&quot;.substring(0, 0); //Now a = &quot;def&quot;`\r\n\r\n - Run `substring` on `&quot;def&quot;`\r\n\r\n    `b = &quot;abc&quot; + &quot;&quot;`\r\n\r\n - Concatenate\r\n\r\n    `b = &quot;abc&quot;`\r\n\r\n - Reassign to `b` and now b = &quot;abc&quot; (while as we&#39;ve shown before a has been reassigned to &quot;def&quot;.\r\n\r\n\r\n  [1]: http://www.artima.com/objectsandjava/webuscript/ExpressionsStatements1.html","title":"Swap String values without temporary variable","body":"<p>The fact you need to ask the question what's happening here, means you should seriously consider using constructions like this in your code. </p>\n\n<p>Since in Java expressions are evaluated <strong>left to right</strong> (see <a href=\"http://www.artima.com/objectsandjava/webuscript/ExpressionsStatements1.html\" rel=\"nofollow\">here</a> - 'Order of Evaluation' section).</p>\n\n<p>This is what happens step-by-step in case of <code>b = a + (a = b).substring(0, 0)</code></p>\n\n<ul>\n<li><p>Populate <code>a</code> variable with its value:</p>\n\n<p><code>b = \"abc\" + (a = b).substring(0, 0);</code></p></li>\n<li><p>Populate b variable with its value:</p>\n\n<p><code>b = \"abc\" + (a = \"def\").substring(0, 0);</code></p></li>\n<li><p>Since first attribute of string concatenation (<code>+</code>) is already evaluated evaluate the second one, which starts with reassigning <code>\"def\"</code> to <code>a</code>.</p>\n\n<p><code>b = \"abc\" + \"def\".substring(0, 0); //Now a = \"def\"</code></p></li>\n<li><p>Run <code>substring</code> on <code>\"def\"</code></p>\n\n<p><code>b = \"abc\" + \"\"</code></p></li>\n<li><p>Concatenate</p>\n\n<p><code>b = \"abc\"</code></p></li>\n<li><p>Reassign to <code>b</code> and now b = \"abc\" (while as we've shown before a has been reassigned to \"def\".</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":930991,"reputation":1349,"user_id":960887,"accept_rate":56,"display_name":"HGMamaci"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1504102173,"creation_date":1504102173,"answer_id":45962716,"question_id":23951020,"body_markdown":"Assuming both a and b are string variables:\r\n\r\n    a = (a+b).Substring((b=a).Length);","title":"Swap String values without temporary variable","body":"<p>Assuming both a and b are string variables:</p>\n\n<pre><code>a = (a+b).Substring((b=a).Length);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13087154,"reputation":134,"user_id":9455798,"display_name":"Vishnu Mari"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688987751,"creation_date":1688987751,"answer_id":76653175,"question_id":23951020,"body_markdown":"\r\npublic class swapping {\r\n\tpublic static void main(String are[]) {\r\n\t\t\r\n\t\t//Swapping two Integer without temp variable \r\n\t\tint a=10;\r\n\t\tint b=20;\r\n\t\ta=a+b;\r\n\t\tb=a-b;\r\n\t\ta=a-b;\r\n\t\tSystem.out.println(a+&quot; &quot;+b);\r\n\t\t\r\n\t\t//Swapping two string character with temp variable.\r\n\t\tString str1=&quot;Good&quot;;\r\n\t\tint as=str1.length();\r\n\t\tString str2=&quot;Morning&quot;;\r\n\t\tstr1=str1+str2;\r\n\t\tstr2=str1.substring(0, as);\r\n\t\tstr1=str1.substring(as);\r\n\t\tSystem.out.println(str1+&quot; &quot;+str2);\r\n\t}\r\n}\r\n","title":"Swap String values without temporary variable","body":"<p>public class swapping {\npublic static void main(String are[]) {</p>\n<pre><code>    //Swapping two Integer without temp variable \n    int a=10;\n    int b=20;\n    a=a+b;\n    b=a-b;\n    a=a-b;\n    System.out.println(a+&quot; &quot;+b);\n    \n    //Swapping two string character with temp variable.\n    String str1=&quot;Good&quot;;\n    int as=str1.length();\n    String str2=&quot;Morning&quot;;\n    str1=str1+str2;\n    str2=str1.substring(0, as);\n    str1=str1.substring(as);\n    System.out.println(str1+&quot; &quot;+str2);\n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1022400,"reputation":41,"user_id":3690649,"display_name":"Chris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":251,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":23951114,"answer_count":4,"score":4,"last_activity_date":1688987751,"creation_date":1401441385,"question_id":23951020,"body_markdown":"I am aware of overflow, performance drops, etc but I need to swap two String values without any temporary variable. I know what cons are and found some effective methods but cannot understand one of them.\r\n\r\n    String a = &quot;abc&quot;;\r\n    String b = &quot;def&quot;;\r\n\r\n    b = a + (a = b).substring(0, 0);\r\n\r\n    System.out.printf(&quot;A: %s, B: %s&quot;, a, b);\r\n\r\nOutput shows it clear values are swapped. When I look at this seems something related with priority operations but I cannot figure it out in my mind. Please, could someone explain to me what happens?","title":"Swap String values without temporary variable","body":"<p>I am aware of overflow, performance drops, etc but I need to swap two String values without any temporary variable. I know what cons are and found some effective methods but cannot understand one of them.</p>\n\n<pre><code>String a = \"abc\";\nString b = \"def\";\n\nb = a + (a = b).substring(0, 0);\n\nSystem.out.printf(\"A: %s, B: %s\", a, b);\n</code></pre>\n\n<p>Output shows it clear values are swapped. When I look at this seems something related with priority operations but I cannot figure it out in my mind. Please, could someone explain to me what happens?</p>\n"},{"tags":["java","anylogic","flexibility"],"comments":[{"owner":{"account_id":22333256,"reputation":503,"user_id":16554239,"display_name":"mczandrea"},"score":0,"creation_date":1688981853,"post_id":76652287,"comment_id":135143213,"body_markdown":"So is the initial value of row_index 4 or 0?","body":"So is the initial value of row_index 4 or 0?"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1688984425,"post_id":76652287,"comment_id":135143730,"body_markdown":"&quot;The row #0 (1-based) does not exist&quot; --&gt; looks like you try to load row zero but should start with row 1, no?","body":"&quot;The row #0 (1-based) does not exist&quot; --&gt; looks like you try to load row zero but should start with row 1, no?"},{"owner":{"account_id":28985527,"reputation":7,"user_id":22202418,"display_name":"uGadd"},"score":0,"creation_date":1688985195,"post_id":76652287,"comment_id":135143860,"body_markdown":"@mczandrea the initial value is 4","body":"@mczandrea the initial value is 4"},{"owner":{"account_id":28985527,"reputation":7,"user_id":22202418,"display_name":"uGadd"},"score":0,"creation_date":1688985251,"post_id":76652287,"comment_id":135143872,"body_markdown":"@Benjamin i&#39;m not trying to load row 0. The initial value for the variable is 4","body":"@Benjamin i&#39;m not trying to load row 0. The initial value for the variable is 4"},{"owner":{"account_id":2486375,"reputation":11083,"user_id":2164728,"accept_rate":62,"display_name":"Benjamin"},"score":0,"creation_date":1688986438,"post_id":76652287,"comment_id":135144107,"body_markdown":"share some more details, screenshots, etc. Ideally, simplify the root problem for us as well :). Some tips: https://benjamin-schumann.com/blog/anylogic-stackoverflow","body":"share some more details, screenshots, etc. Ideally, simplify the root problem for us as well :). Some tips: <a href=\"https://benjamin-schumann.com/blog/anylogic-stackoverflow\" rel=\"nofollow noreferrer\">benjamin-schumann.com/blog/anylogic-stackoverflow</a>"}],"answers":[{"tags":[],"owner":{"account_id":22333256,"reputation":503,"user_id":16554239,"display_name":"mczandrea"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1688987591,"creation_date":1688986769,"answer_id":76653049,"question_id":76652287,"body_markdown":"I found two solutions\r\n1. Instead of writing the code directly to the &#39;Default value&#39; of your parameter, set it to an arbitrary number and set the value somewhere else. For example write `myParameter = excel_spreadsheet.getCellNumericValue(1, row_index, 6);` in the &#39;On startup:&#39; action of the agent.\r\n2. Use a Variable instead of a Parameter (if you don&#39;t need the special capabilities of parameters).\r\n\r\nEDIT: This only solves the error on startup. You need to manually update the parameter/variable value too when the row_index is changed","title":"Anylogic: reading excel cells value for dynamic parameters definition","body":"<p>I found two solutions</p>\n<ol>\n<li>Instead of writing the code directly to the 'Default value' of your parameter, set it to an arbitrary number and set the value somewhere else. For example write <code>myParameter = excel_spreadsheet.getCellNumericValue(1, row_index, 6);</code> in the 'On startup:' action of the agent.</li>\n<li>Use a Variable instead of a Parameter (if you don't need the special capabilities of parameters).</li>\n</ol>\n<p>EDIT: This only solves the error on startup. You need to manually update the parameter/variable value too when the row_index is changed</p>\n"}],"owner":{"account_id":28985527,"reputation":7,"user_id":22202418,"display_name":"uGadd"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76653049,"answer_count":1,"score":0,"last_activity_date":1688987591,"creation_date":1688980150,"question_id":76652287,"body_markdown":"Cheers Everyone,\r\nhere is my problem.\r\nI&#39;m creating an Anylogic model trying to make it as flexible as possible. This means that I&#39;m feeding some time values directly from an Excel spreadsheet.\r\nIn order to create a delay loop that changes its value every time by going row by row, I created a parameter and a variable that work like this:\r\n\r\nrow_index (variable) with initial value 4\r\nparameter with default value - excel_spreadsheet.getCellNumericValue(&quot;Sp_A&quot;, row_index, 6)\r\n\r\nBut as soon as I run my simulation this happens:\r\nThe row #0 (1-based) does not exist\r\n\r\nMy goal is to update the row_index every time that my delay is over and so on.\r\nI tried to update the parameter value (starting from zero) after starting the simulation (for example on the on enter of a queue) but I got another error.\r\n\r\nHow can I solve this issue?\r\n\r\nThank you all in advance,\r\nAle\r\n\r\n\r\n","title":"Anylogic: reading excel cells value for dynamic parameters definition","body":"<p>Cheers Everyone,\nhere is my problem.\nI'm creating an Anylogic model trying to make it as flexible as possible. This means that I'm feeding some time values directly from an Excel spreadsheet.\nIn order to create a delay loop that changes its value every time by going row by row, I created a parameter and a variable that work like this:</p>\n<p>row_index (variable) with initial value 4\nparameter with default value - excel_spreadsheet.getCellNumericValue(&quot;Sp_A&quot;, row_index, 6)</p>\n<p>But as soon as I run my simulation this happens:\nThe row #0 (1-based) does not exist</p>\n<p>My goal is to update the row_index every time that my delay is over and so on.\nI tried to update the parameter value (starting from zero) after starting the simulation (for example on the on enter of a queue) but I got another error.</p>\n<p>How can I solve this issue?</p>\n<p>Thank you all in advance,\nAle</p>\n"},{"tags":["java","ubuntu"],"comments":[{"owner":{"account_id":342247,"reputation":1088,"user_id":673308,"accept_rate":43,"display_name":"tugcem"},"score":0,"creation_date":1424984913,"post_id":26749849,"comment_id":45787473,"body_markdown":"my favourite ubuntu version ;)","body":"my favourite ubuntu version ;)"}],"answers":[{"tags":[],"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1415163131,"creation_date":1415163131,"answer_id":26749930,"question_id":26749849,"body_markdown":"I think you have the wrong jdbc driver and you&#39;re on Ubuntu 12.04 (there is no 12.05). Rather then hacking around with an old native driver for Windows (Linux libraries end in `.so` not `.dll`), I suggest you stop and use [this Type-4 one](http://www.microsoft.com/en-us/download/details.aspx?id=11774) from Microsoft. By definition, a type-4 driver uses no native libraries.","title":"WARNING: Failed to load the sqljdbc_auth.dll cause : no sqljdbc_auth in java.library.path","body":"<p>I think you have the wrong jdbc driver and you're on Ubuntu 12.04 (there is no 12.05). Rather then hacking around with an old native driver for Windows (Linux libraries end in <code>.so</code> not <code>.dll</code>), I suggest you stop and use <a href=\"http://www.microsoft.com/en-us/download/details.aspx?id=11774\" rel=\"nofollow\">this Type-4 one</a> from Microsoft. By definition, a type-4 driver uses no native libraries.</p>\n"}],"owner":{"account_id":1874743,"reputation":139,"user_id":1696177,"accept_rate":73,"display_name":"Rashendra - Rashen"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4249,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":26749930,"answer_count":1,"score":4,"last_activity_date":1688987447,"creation_date":1415162681,"question_id":26749849,"body_markdown":"I am using Ubuntu 12.05 and trying to connect to Windows Server 2012 for a database\r\n\r\nMy database name is &#39;jobs&#39; and the ip address of the pc is 192.160.1.33 which is hosted in 1433 \r\n\r\nyet when I try to connect it gives the following error\r\n\r\n    WARNING: Failed to load the sqljdbc_auth.dll cause : no sqljdbc_auth in java.library.path\r\n\r\nPlease advise how to set that.","title":"WARNING: Failed to load the sqljdbc_auth.dll cause : no sqljdbc_auth in java.library.path","body":"<p>I am using Ubuntu 12.05 and trying to connect to Windows Server 2012 for a database</p>\n<p>My database name is 'jobs' and the ip address of the pc is 192.160.1.33 which is hosted in 1433</p>\n<p>yet when I try to connect it gives the following error</p>\n<pre><code>WARNING: Failed to load the sqljdbc_auth.dll cause : no sqljdbc_auth in java.library.path\n</code></pre>\n<p>Please advise how to set that.</p>\n"},{"tags":["java","docker","maven","docker-compose","testcontainers"],"comments":[{"owner":{"account_id":199394,"reputation":627,"user_id":444682,"display_name":"Lelis718"},"score":0,"creation_date":1690364814,"post_id":76652984,"comment_id":135342035,"body_markdown":"According to them it will be released in the next version \nhttps://github.com/testcontainers/testcontainers-java/pull/5608","body":"According to them it will be released in the next version  <a href=\"https://github.com/testcontainers/testcontainers-java/pull/5608\" rel=\"nofollow noreferrer\">github.com/testcontainers/testcontainers-java/pull/5608</a>"},{"owner":{"account_id":24374763,"reputation":31,"user_id":18307258,"display_name":"Thomas Grund"},"score":1,"creation_date":1690456558,"post_id":76652984,"comment_id":135357950,"body_markdown":"What confused me was the fact that it is already mentioned in the documentation.","body":"What confused me was the fact that it is already mentioned in the documentation."}],"owner":{"account_id":24374763,"reputation":31,"user_id":18307258,"display_name":"Thomas Grund"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":99,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1688986515,"creation_date":1688986186,"question_id":76652984,"body_markdown":"On Github I find ComposeContainer in https://github.com/testcontainers/testcontainers-java/tree/main/core/src/main/java/org/testcontainers/containers, i.e. the containers subdirectory. When searching on Maven Central, (i.e. https://central.sonatype.com/artifact/org.testcontainers/testcontainers/1.18.3/versions) I find `testcontainers-1.18.3.jar`, but this archive does not contain `ComposeContainer.class`). Is this my fault?\r\n\r\nSince I find `DockerComposeContainer` at the expected location I expect `ComposeContainer` there as well.","title":"testcontainers ComposeContainer missing in Maven Central?","body":"<p>On Github I find ComposeContainer in <a href=\"https://github.com/testcontainers/testcontainers-java/tree/main/core/src/main/java/org/testcontainers/containers\" rel=\"nofollow noreferrer\">https://github.com/testcontainers/testcontainers-java/tree/main/core/src/main/java/org/testcontainers/containers</a>, i.e. the containers subdirectory. When searching on Maven Central, (i.e. <a href=\"https://central.sonatype.com/artifact/org.testcontainers/testcontainers/1.18.3/versions\" rel=\"nofollow noreferrer\">https://central.sonatype.com/artifact/org.testcontainers/testcontainers/1.18.3/versions</a>) I find <code>testcontainers-1.18.3.jar</code>, but this archive does not contain <code>ComposeContainer.class</code>). Is this my fault?</p>\n<p>Since I find <code>DockerComposeContainer</code> at the expected location I expect <code>ComposeContainer</code> there as well.</p>\n"},{"tags":["java","spring","architecture"],"owner":{"account_id":7517021,"reputation":1,"user_id":5710097,"display_name":"Anton Popov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688986405,"creation_date":1688986405,"question_id":76653009,"body_markdown":"The hardware configuration is stored in a database. Is it correct to make a method in the configuration that returns a Bean configured from the data obtained from the database? Or is it better not to use Bean and create such objects in code? Or is there another option?\r\n\r\nExample:\r\n\r\n```\r\n@Configuration\r\npublic class ProtocolConfig {\r\n    private final List&lt;DecisionPointModel&gt; decisionPointModels;\r\n    String deviceAddress;\r\n\r\n    public ProtocolConfig(DecisionPointRepository decisionPointRepository) {\r\n        decisionPointModels = decisionPointRepository.findAll();\r\n        Optional&lt;DecisionPointModel&gt; dpm = decisionPointModels.stream().findFirst();\r\n        dpm.ifPresent(decisionPointModel -&gt; deviceAddress = decisionPointModel.getControllerParameterModel().getDevice().getDeviceAddress());\r\n    }\r\n\r\n    @Bean\r\n    public S7ProtocolMultiWrite multiResponseBean() {\r\n        if (decisionPointModels.size() &gt; 0) {\r\n            int responseDb = S7Protocol.parseConnectionString(decisionPointModels.get(0).getControllerParameterModel().getCommandConnectionString()).getDb();\r\n            Long countResponse = decisionPointModels.stream().count() * PlcResponseDataBlock.byteLength;\r\n            return new S7ProtocolMultiWrite(deviceAddress, responseDb, countResponse.intValue());\r\n        } else {\r\n            throw new BeanCreationException(&quot;Error Creating multiResponseBean&quot;);\r\n        }\r\n    }\r\n\r\n    @Bean(name = &quot;arriveReadBean&quot;)\r\n    public S7ProtocolMultiRead multiArriveBean() {\r\n        if (decisionPointModels.size() &gt; 0) {\r\n            int arriveDb = S7Protocol.parseConnectionString(decisionPointModels.get(0).getControllerParameterModel().getArriveConnectionString()).getDb();\r\n            Long countArrive = decisionPointModels.stream().count() * PlcRequestDataBlock.byteLength;\r\n            return new S7ProtocolMultiRead(deviceAddress, arriveDb, countArrive.intValue());\r\n        } else {\r\n            throw new BeanCreationException(&quot;Error Creating multiArriveBean&quot;);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Is it correct to refer to the database when creating a Bean?","body":"<p>The hardware configuration is stored in a database. Is it correct to make a method in the configuration that returns a Bean configured from the data obtained from the database? Or is it better not to use Bean and create such objects in code? Or is there another option?</p>\n<p>Example:</p>\n<pre><code>@Configuration\npublic class ProtocolConfig {\n    private final List&lt;DecisionPointModel&gt; decisionPointModels;\n    String deviceAddress;\n\n    public ProtocolConfig(DecisionPointRepository decisionPointRepository) {\n        decisionPointModels = decisionPointRepository.findAll();\n        Optional&lt;DecisionPointModel&gt; dpm = decisionPointModels.stream().findFirst();\n        dpm.ifPresent(decisionPointModel -&gt; deviceAddress = decisionPointModel.getControllerParameterModel().getDevice().getDeviceAddress());\n    }\n\n    @Bean\n    public S7ProtocolMultiWrite multiResponseBean() {\n        if (decisionPointModels.size() &gt; 0) {\n            int responseDb = S7Protocol.parseConnectionString(decisionPointModels.get(0).getControllerParameterModel().getCommandConnectionString()).getDb();\n            Long countResponse = decisionPointModels.stream().count() * PlcResponseDataBlock.byteLength;\n            return new S7ProtocolMultiWrite(deviceAddress, responseDb, countResponse.intValue());\n        } else {\n            throw new BeanCreationException(&quot;Error Creating multiResponseBean&quot;);\n        }\n    }\n\n    @Bean(name = &quot;arriveReadBean&quot;)\n    public S7ProtocolMultiRead multiArriveBean() {\n        if (decisionPointModels.size() &gt; 0) {\n            int arriveDb = S7Protocol.parseConnectionString(decisionPointModels.get(0).getControllerParameterModel().getArriveConnectionString()).getDb();\n            Long countArrive = decisionPointModels.stream().count() * PlcRequestDataBlock.byteLength;\n            return new S7ProtocolMultiRead(deviceAddress, arriveDb, countArrive.intValue());\n        } else {\n            throw new BeanCreationException(&quot;Error Creating multiArriveBean&quot;);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","maven","rest-assured","cucumber-jvm"],"answers":[{"tags":[],"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1644011937,"creation_date":1644011937,"answer_id":70993287,"question_id":70993212,"body_markdown":"```\r\n@SelectClasspathResource(&quot;src/test/resources/example&quot;)\r\n```\r\n\r\nTypically `src/test/resources` is not part of the classpath. \r\n\r\nAfter running `mvn test` have a look at `target/test-classes` to understand the structure of what is on the classpath.\r\n","title":"&quot;mvn test&quot; 0 tests run - spring + cucumber + junit5","body":"<pre><code>@SelectClasspathResource(&quot;src/test/resources/example&quot;)\n</code></pre>\n<p>Typically <code>src/test/resources</code> is not part of the classpath.</p>\n<p>After running <code>mvn test</code> have a look at <code>target/test-classes</code> to understand the structure of what is on the classpath.</p>\n"},{"tags":[],"owner":{"account_id":5733229,"reputation":546,"user_id":4528146,"display_name":"Tasos Zervos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688986352,"creation_date":1688986352,"answer_id":76653005,"question_id":70993212,"body_markdown":"Most likely you needed: \r\n`@SelectClasspathResource(&quot;example&quot;)`\r\n","title":"&quot;mvn test&quot; 0 tests run - spring + cucumber + junit5","body":"<p>Most likely you needed:\n<code>@SelectClasspathResource(&quot;example&quot;)</code></p>\n"}],"owner":{"account_id":24159396,"reputation":11,"user_id":18123149,"display_name":"keenonred"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1688986352,"creation_date":1644011395,"question_id":70993212,"body_markdown":"I have a test project where I&#39;m trying to setup e2e api tests using rest-assured. Tests run fine if I run them from the feature files, however, when I try to run them with maven, 0 tests run. I believe there is something funky with my pom.xml but I can&#39;t figure it out...\r\n\r\nMy project structure looks like:[this][1]\r\n\r\n  [1]: https://i.stack.imgur.com/cbeBX.png\r\nMy pom.xml:\r\n\r\n        &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.6.0&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n    \r\n        &lt;artifactId&gt;qa-automation-example&lt;/artifactId&gt;\r\n        &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n        &lt;groupId&gt;com&lt;/groupId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;17&lt;/java.version&gt;\r\n            &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencyManagement&gt;\r\n            &lt;dependencies&gt;\r\n                &lt;dependency&gt;\r\n                    &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\r\n                    &lt;version&gt;7.2.3&lt;/version&gt;\r\n                    &lt;scope&gt;import&lt;/scope&gt;\r\n                    &lt;type&gt;pom&lt;/type&gt;\r\n                &lt;/dependency&gt;\r\n            &lt;/dependencies&gt;\r\n        &lt;/dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\r\n                &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\r\n                &lt;version&gt;1.8.2&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\r\n                &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\r\n                &lt;artifactId&gt;xml-path&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    \r\n        &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                        &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;properties&gt;\r\n                                &lt;configurationParameters&gt;\r\n                                    cucumber.junit-platform.naming-strategy=long\r\n                                &lt;/configurationParameters&gt;\r\n                            &lt;/properties&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n        &lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nMy Application.java\r\n\r\n    package com;\r\n    \r\n    import org.springframework.boot.SpringApplication;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.context.annotation.PropertySource;\r\n    import org.springframework.context.annotation.PropertySources;\r\n    \r\n    @PropertySources({\r\n            @PropertySource(&quot;classpath:application.properties&quot;)\r\n    })\r\n    @SpringBootApplication\r\n    public class Application {\r\n        public static void main(String[] args) {\r\n            SpringApplication.run(Application.class, args);\r\n        }\r\n    }\r\n\r\nMy CucumberSpringConfiguration.class\r\n\r\n    import io.cucumber.spring.CucumberContextConfiguration;\r\n    import org.springframework.boot.test.context.SpringBootTest;\r\n    import com.Application;\r\n    \r\n    \r\n    @CucumberContextConfiguration\r\n    @SpringBootTest(classes = Application.class)\r\n    public class CucumberSpringConfiguration {\r\n    }\r\n\r\nMy CucumberTest.java\r\n\r\n    import org.junit.platform.suite.api.ConfigurationParameter;\r\n    import org.junit.platform.suite.api.IncludeEngines;\r\n    import org.junit.platform.suite.api.SelectClasspathResource;\r\n    import org.junit.platform.suite.api.Suite;\r\n    \r\n    import static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\r\n    \r\n    @Suite\r\n    @IncludeEngines(&quot;cucumber&quot;)\r\n    @SelectClasspathResource(&quot;src/test/resources/example&quot;)\r\n    @ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.example&quot;)\r\n    \r\n    public class CucumberTest {\r\n    \r\n    }\r\n\r\nI&#39;m not really familiar with Spring though so I&#39;m pretty sure I&#39;m not using it correctly in my ApiTestStepDef.java\r\n\r\n    package com.example;\r\n    import io.cucumber.java.en.Then;\r\n    import io.cucumber.java.en.When;\r\n    import io.cucumber.java.en.Given;\r\n    import io.restassured.response.Response;\r\n    import io.restassured.specification.RequestSpecification;\r\n    import org.junit.jupiter.api.Assertions;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import com.client.RestAssuredClient;\r\n    import com.model.User;\r\n    import com.utils.Helper;\r\n    \r\n    import static io.restassured.RestAssured.given;\r\n    \r\n    public class ApiTestStepDef {\r\n    \r\n        private Response response;\r\n        private RequestSpecification request;\r\n        private User user;\r\n        private User responseBody;\r\n        @Autowired\r\n        private RestAssuredClient restAssuredClient;\r\n    \r\n        @Given(&quot;{string} endpoint&quot;)\r\n        public void setBaseUsersURI(String url){\r\n            request =\r\n                    given().log().all().\r\n                    spec(restAssuredClient.createReqSpec(url));\r\n        }\r\n    \r\n        @When(&quot;user posts request with details {string} {string} {string}&quot;)\r\n        public void sendRequest(String name, String gender, String status){\r\n    \r\n            user = new User(name, gender, Helper.createRandomEmail(), status);\r\n            response =\r\n             request.given().log().all().\r\n                    body(user).\r\n                    when().\r\n                     post().\r\n                     then().log().all().\r\n                     extract().response();\r\n        }\r\n    \r\n        @Then(&quot;response status code is {int} and response contains correct user details&quot;)\r\n        public void checkResponseStatusCode(int statusCode){\r\n            response.then().spec(restAssuredClient.createResSpec(statusCode));\r\n            responseBody = response.getBody().as(User.class);\r\n            Assertions.assertEquals(user.getGender(), responseBody.getGender());\r\n            Assertions.assertEquals(user.getStatus(), responseBody.getStatus());\r\n            Assertions.assertEquals(user.getEmail(), responseBody.getEmail());\r\n            Assertions.assertEquals(user.getName(), responseBody.getName());\r\n        }\r\n    }\r\n\r\nAnd RestAssuredClient.java\r\n\r\n    package com.client;\r\n    \r\n    import io.restassured.builder.RequestSpecBuilder;\r\n    import io.restassured.builder.ResponseSpecBuilder;\r\n    import io.restassured.http.ContentType;\r\n    import io.restassured.specification.RequestSpecification;\r\n    import io.restassured.specification.ResponseSpecification;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Component;\r\n    \r\n    import static io.restassured.RestAssured.oauth2;\r\n    \r\n    @Component\r\n    public class RestAssuredClient {\r\n        @Value(&quot;${access.token}&quot;)\r\n        private String accessToken;\r\n        @Value(&quot;${base.uri}&quot;)\r\n        private String baseUri;\r\n    \r\n        public ResponseSpecification createResSpec(int statusCode){\r\n            return\r\n                    new ResponseSpecBuilder()\r\n                            .expectStatusCode(statusCode)\r\n                            .expectContentType(ContentType.JSON)\r\n                            .build();\r\n        }\r\n    \r\n    \r\n        public RequestSpecification createReqSpec(String url){\r\n           return new RequestSpecBuilder()\r\n                        .setBaseUri(baseUri)\r\n                        .setContentType(ContentType.JSON)\r\n                        .setAuth(oauth2(accessToken))\r\n                   .setBasePath(url)\r\n                        .build();\r\n        }\r\n    }\r\n","title":"&quot;mvn test&quot; 0 tests run - spring + cucumber + junit5","body":"<p>I have a test project where I'm trying to setup e2e api tests using rest-assured. Tests run fine if I run them from the feature files, however, when I try to run them with maven, 0 tests run. I believe there is something funky with my pom.xml but I can't figure it out...</p>\n<p>My project structure looks like:<a href=\"https://i.stack.imgur.com/cbeBX.png\" rel=\"nofollow noreferrer\">this</a></p>\n<p>My pom.xml:</p>\n<pre><code>    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.6.0&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;artifactId&gt;qa-automation-example&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;groupId&gt;com&lt;/groupId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;17&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;17&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n                &lt;artifactId&gt;cucumber-bom&lt;/artifactId&gt;\n                &lt;version&gt;7.2.3&lt;/version&gt;\n                &lt;scope&gt;import&lt;/scope&gt;\n                &lt;type&gt;pom&lt;/type&gt;\n            &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n    &lt;/dependencyManagement&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.junit.platform&lt;/groupId&gt;\n            &lt;artifactId&gt;junit-platform-suite&lt;/artifactId&gt;\n            &lt;version&gt;1.8.2&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-java&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-junit-platform-engine&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.cucumber&lt;/groupId&gt;\n            &lt;artifactId&gt;cucumber-spring&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;rest-assured&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.rest-assured&lt;/groupId&gt;\n            &lt;artifactId&gt;xml-path&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.fasterxml.jackson.core&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-databind&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;properties&gt;\n                            &lt;configurationParameters&gt;\n                                cucumber.junit-platform.naming-strategy=long\n                            &lt;/configurationParameters&gt;\n                        &lt;/properties&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>My Application.java</p>\n<pre><code>package com;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.annotation.PropertySource;\nimport org.springframework.context.annotation.PropertySources;\n\n@PropertySources({\n        @PropertySource(&quot;classpath:application.properties&quot;)\n})\n@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n}\n</code></pre>\n<p>My CucumberSpringConfiguration.class</p>\n<pre><code>import io.cucumber.spring.CucumberContextConfiguration;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport com.Application;\n\n\n@CucumberContextConfiguration\n@SpringBootTest(classes = Application.class)\npublic class CucumberSpringConfiguration {\n}\n</code></pre>\n<p>My CucumberTest.java</p>\n<pre><code>import org.junit.platform.suite.api.ConfigurationParameter;\nimport org.junit.platform.suite.api.IncludeEngines;\nimport org.junit.platform.suite.api.SelectClasspathResource;\nimport org.junit.platform.suite.api.Suite;\n\nimport static io.cucumber.junit.platform.engine.Constants.GLUE_PROPERTY_NAME;\n\n@Suite\n@IncludeEngines(&quot;cucumber&quot;)\n@SelectClasspathResource(&quot;src/test/resources/example&quot;)\n@ConfigurationParameter(key = GLUE_PROPERTY_NAME, value = &quot;com.example&quot;)\n\npublic class CucumberTest {\n\n}\n</code></pre>\n<p>I'm not really familiar with Spring though so I'm pretty sure I'm not using it correctly in my ApiTestStepDef.java</p>\n<pre><code>package com.example;\nimport io.cucumber.java.en.Then;\nimport io.cucumber.java.en.When;\nimport io.cucumber.java.en.Given;\nimport io.restassured.response.Response;\nimport io.restassured.specification.RequestSpecification;\nimport org.junit.jupiter.api.Assertions;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport com.client.RestAssuredClient;\nimport com.model.User;\nimport com.utils.Helper;\n\nimport static io.restassured.RestAssured.given;\n\npublic class ApiTestStepDef {\n\n    private Response response;\n    private RequestSpecification request;\n    private User user;\n    private User responseBody;\n    @Autowired\n    private RestAssuredClient restAssuredClient;\n\n    @Given(&quot;{string} endpoint&quot;)\n    public void setBaseUsersURI(String url){\n        request =\n                given().log().all().\n                spec(restAssuredClient.createReqSpec(url));\n    }\n\n    @When(&quot;user posts request with details {string} {string} {string}&quot;)\n    public void sendRequest(String name, String gender, String status){\n\n        user = new User(name, gender, Helper.createRandomEmail(), status);\n        response =\n         request.given().log().all().\n                body(user).\n                when().\n                 post().\n                 then().log().all().\n                 extract().response();\n    }\n\n    @Then(&quot;response status code is {int} and response contains correct user details&quot;)\n    public void checkResponseStatusCode(int statusCode){\n        response.then().spec(restAssuredClient.createResSpec(statusCode));\n        responseBody = response.getBody().as(User.class);\n        Assertions.assertEquals(user.getGender(), responseBody.getGender());\n        Assertions.assertEquals(user.getStatus(), responseBody.getStatus());\n        Assertions.assertEquals(user.getEmail(), responseBody.getEmail());\n        Assertions.assertEquals(user.getName(), responseBody.getName());\n    }\n}\n</code></pre>\n<p>And RestAssuredClient.java</p>\n<pre><code>package com.client;\n\nimport io.restassured.builder.RequestSpecBuilder;\nimport io.restassured.builder.ResponseSpecBuilder;\nimport io.restassured.http.ContentType;\nimport io.restassured.specification.RequestSpecification;\nimport io.restassured.specification.ResponseSpecification;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Component;\n\nimport static io.restassured.RestAssured.oauth2;\n\n@Component\npublic class RestAssuredClient {\n    @Value(&quot;${access.token}&quot;)\n    private String accessToken;\n    @Value(&quot;${base.uri}&quot;)\n    private String baseUri;\n\n    public ResponseSpecification createResSpec(int statusCode){\n        return\n                new ResponseSpecBuilder()\n                        .expectStatusCode(statusCode)\n                        .expectContentType(ContentType.JSON)\n                        .build();\n    }\n\n\n    public RequestSpecification createReqSpec(String url){\n       return new RequestSpecBuilder()\n                    .setBaseUri(baseUri)\n                    .setContentType(ContentType.JSON)\n                    .setAuth(oauth2(accessToken))\n               .setBasePath(url)\n                    .build();\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","postgresql","spring-boot","flyway"],"comments":[{"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"score":0,"creation_date":1623653797,"post_id":67961291,"comment_id":120130033,"body_markdown":"Does anybody else using Flyway migration or PostgreSQL?","body":"Does anybody else using Flyway migration or PostgreSQL?"}],"answers":[{"tags":[],"owner":{"account_id":18127206,"reputation":116,"user_id":13182639,"display_name":"madninja"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1623681547,"creation_date":1623681547,"answer_id":67972319,"question_id":67961291,"body_markdown":"Some minor issues with the script:\r\nMissing comma on first column of create.\r\nThis column is also called `id` but the index references `uuid`.\r\n\r\nResolving this allowed the script to work perfectly for me (with the quotes as you have them)\r\n\r\nIf you make these changes and get a checksum error, please run `flyway repair`","title":"Cannot apply Flyway migration for a PostgreSQL table","body":"<p>Some minor issues with the script:\nMissing comma on first column of create.\nThis column is also called <code>id</code> but the index references <code>uuid</code>.</p>\n<p>Resolving this allowed the script to work perfectly for me (with the quotes as you have them)</p>\n<p>If you make these changes and get a checksum error, please run <code>flyway repair</code></p>\n"},{"tags":[],"owner":{"account_id":13258666,"reputation":326,"user_id":9573943,"display_name":"Inanc Cakil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688986153,"creation_date":1688986153,"answer_id":76652981,"question_id":67961291,"body_markdown":"You can delete the flyway table records with\r\n\r\n    delete from flyway_schema_history;","title":"Cannot apply Flyway migration for a PostgreSQL table","body":"<p>You can delete the flyway table records with</p>\n<pre><code>delete from flyway_schema_history;\n</code></pre>\n"}],"owner":{"account_id":444292,"reputation":1,"user_id":836018,"accept_rate":57,"display_name":"Jack"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1049,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1688986153,"creation_date":1623607735,"question_id":67961291,"body_markdown":"In my Java app, I have the following migration file:\r\n\r\n\r\n```\r\n-- code omitted for brevity \r\n\r\ncreate table if not exists demo_table\r\n(\r\n    id                  bigint       not null,\r\n    &quot;company&quot;           varchar(50)  not null,\r\n    &quot;name&quot;              varchar(50)  not null\r\n    );\r\n\r\ncreate unique index if not exists demo_table_uuid_company_key\r\n    on demo_table (uuid, &quot;company&quot;);\r\n    \r\ncreate index if not exists demo_table_name_company_key\r\n    on demo_table (&quot;name&quot;, &quot;company&quot;);\r\n\r\n```\r\n\r\nAlthough I can run the `sql` part part part or at a time on PostgreSQL query window, when running my Java app, it throws the following error:\r\n\r\n*&quot;Unable to create index (name, company) on table demo_table: database column &#39;name&#39; not found. Make sure that you use the correct column name which depends on the naming strategy in use (it may not be the same as the property name in the entity, especially for relational types)&quot;*\r\n\r\nI tried many thing e.g. removing the related migration row from `flyway_schema_history` table, delete indexes on `demo_table`, etc. But still the same error. If I try to remove double quotes (&quot;&quot;) from `name`, it gives checksum error. So, as the `name` is reserve word, I use with double quotes. How can I fix it? \r\n\r\nOn the other hand, I am not sure if I should change these parameters on `application.yml`:\r\n\r\n\r\n```\r\nspring:\r\n  flyway:\r\n    enabled: true\r\n\r\n  jpa:\r\n    hibernate:\r\n      ddl-auto: update\r\n```","title":"Cannot apply Flyway migration for a PostgreSQL table","body":"<p>In my Java app, I have the following migration file:</p>\n<pre><code>-- code omitted for brevity \n\ncreate table if not exists demo_table\n(\n    id                  bigint       not null,\n    &quot;company&quot;           varchar(50)  not null,\n    &quot;name&quot;              varchar(50)  not null\n    );\n\ncreate unique index if not exists demo_table_uuid_company_key\n    on demo_table (uuid, &quot;company&quot;);\n    \ncreate index if not exists demo_table_name_company_key\n    on demo_table (&quot;name&quot;, &quot;company&quot;);\n\n</code></pre>\n<p>Although I can run the <code>sql</code> part part part or at a time on PostgreSQL query window, when running my Java app, it throws the following error:</p>\n<p><em>&quot;Unable to create index (name, company) on table demo_table: database column 'name' not found. Make sure that you use the correct column name which depends on the naming strategy in use (it may not be the same as the property name in the entity, especially for relational types)&quot;</em></p>\n<p>I tried many thing e.g. removing the related migration row from <code>flyway_schema_history</code> table, delete indexes on <code>demo_table</code>, etc. But still the same error. If I try to remove double quotes (&quot;&quot;) from <code>name</code>, it gives checksum error. So, as the <code>name</code> is reserve word, I use with double quotes. How can I fix it?</p>\n<p>On the other hand, I am not sure if I should change these parameters on <code>application.yml</code>:</p>\n<pre><code>spring:\n  flyway:\n    enabled: true\n\n  jpa:\n    hibernate:\n      ddl-auto: update\n</code></pre>\n"},{"tags":["java","csv","header","apache-arrow","duckdb"],"comments":[{"owner":{"account_id":69707,"reputation":41791,"user_id":202694,"accept_rate":88,"display_name":"Pace"},"score":1,"creation_date":1689000056,"post_id":76652973,"comment_id":135147424,"body_markdown":"It does not appear to be possible.  The way you would normally do that (in the C++ datasets library that the Java code is wrapping) is by creating a custom &quot;file format&quot;.  However, it appears that `FileFormat.CSV` is an enum and there is no way to customize the created file format.  So it does not appear that this capability is a part of the Java bindings at the moment.","body":"It does not appear to be possible.  The way you would normally do that (in the C++ datasets library that the Java code is wrapping) is by creating a custom &quot;file format&quot;.  However, it appears that <code>FileFormat.CSV</code> is an enum and there is no way to customize the created file format.  So it does not appear that this capability is a part of the Java bindings at the moment."}],"owner":{"account_id":2605353,"reputation":411,"user_id":2256615,"accept_rate":92,"display_name":"Panagiotis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688986083,"creation_date":1688986083,"question_id":76652973,"body_markdown":"The following code is based on an example available in the Java Arrow documentation for reading Parquet files, which I&#39;ve updated so that instead of Parquet it uses a CSV file. Then, using DuckDb I can query the CSV file through SQL.\r\n\r\n    import org.apache.arrow.c.ArrowArrayStream;\r\n    import org.apache.arrow.c.Data;\r\n    import org.apache.arrow.dataset.file.FileFormat;\r\n    import org.apache.arrow.dataset.file.FileSystemDatasetFactory;\r\n    import org.apache.arrow.dataset.jni.NativeMemoryPool;\r\n    import org.apache.arrow.dataset.scanner.ScanOptions;\r\n    import org.apache.arrow.dataset.scanner.Scanner;\r\n    import org.apache.arrow.dataset.source.Dataset;\r\n    import org.apache.arrow.dataset.source.DatasetFactory;\r\n    import org.apache.arrow.memory.BufferAllocator;\r\n    import org.apache.arrow.memory.RootAllocator;\r\n    import org.apache.arrow.vector.ipc.ArrowReader;\r\n    import org.duckdb.DuckDBConnection;\r\n    \r\n    import java.net.URI;\r\n    import java.sql.DriverManager;\r\n    import java.sql.ResultSet;\r\n    import java.sql.Statement;\r\n    \r\n    \r\n    public class ArrowDuckDb {\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            URI uri = URI.create(&quot;file:/tmp/temp.csv&quot;);\r\n    \r\n            ScanOptions options = new ScanOptions(/*batchSize*/ 32768);\r\n            try (BufferAllocator allocator = new RootAllocator();\r\n                 ArrowArrayStream stream = ArrowArrayStream.allocateNew(allocator);\r\n                    DatasetFactory datasetFactory = new FileSystemDatasetFactory(allocator,\r\n                            NativeMemoryPool.getDefault(), FileFormat.CSV, uri.toString());) {\r\n    \r\n                 Dataset dataset = datasetFactory.finish();\r\n                 Scanner scanner = dataset.newScan(options);\r\n                 ArrowReader reader = scanner.scanBatches();\r\n    \r\n               Data.exportArrayStream(allocator, reader, stream);\r\n    \r\n               Class.forName(&quot;org.duckdb.DuckDBDriver&quot;);\r\n               try (DuckDBConnection conn = (DuckDBConnection) DriverManager.getConnection(&quot;jdbc:duckdb:&quot;)) {\r\n                     conn.registerArrowStream(&quot;testStream&quot;, stream);\r\n    \r\n                     try (Statement stmt = conn.createStatement();\r\n                            ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM testStream&quot;)) {\r\n                                while(rs.next()) {\r\n                                    System.out.println(rs.getString(1));\r\n                                }\r\n                            }\r\n                     }\r\n                }\r\n            }\r\n    \r\n    \r\n    }\r\n\r\n\r\nThis works very well. However, I am interested in using the above code for CSV files **without a header**. Is there a way to define the header myself while reading the file with Apache Arrow?","title":"Reading compressed csv file without header with the Java implementation of Apache Arrow","body":"<p>The following code is based on an example available in the Java Arrow documentation for reading Parquet files, which I've updated so that instead of Parquet it uses a CSV file. Then, using DuckDb I can query the CSV file through SQL.</p>\n<pre><code>import org.apache.arrow.c.ArrowArrayStream;\nimport org.apache.arrow.c.Data;\nimport org.apache.arrow.dataset.file.FileFormat;\nimport org.apache.arrow.dataset.file.FileSystemDatasetFactory;\nimport org.apache.arrow.dataset.jni.NativeMemoryPool;\nimport org.apache.arrow.dataset.scanner.ScanOptions;\nimport org.apache.arrow.dataset.scanner.Scanner;\nimport org.apache.arrow.dataset.source.Dataset;\nimport org.apache.arrow.dataset.source.DatasetFactory;\nimport org.apache.arrow.memory.BufferAllocator;\nimport org.apache.arrow.memory.RootAllocator;\nimport org.apache.arrow.vector.ipc.ArrowReader;\nimport org.duckdb.DuckDBConnection;\n\nimport java.net.URI;\nimport java.sql.DriverManager;\nimport java.sql.ResultSet;\nimport java.sql.Statement;\n\n\npublic class ArrowDuckDb {\n\n    public static void main(String[] args) throws Exception {\n\n        URI uri = URI.create(&quot;file:/tmp/temp.csv&quot;);\n\n        ScanOptions options = new ScanOptions(/*batchSize*/ 32768);\n        try (BufferAllocator allocator = new RootAllocator();\n             ArrowArrayStream stream = ArrowArrayStream.allocateNew(allocator);\n                DatasetFactory datasetFactory = new FileSystemDatasetFactory(allocator,\n                        NativeMemoryPool.getDefault(), FileFormat.CSV, uri.toString());) {\n\n             Dataset dataset = datasetFactory.finish();\n             Scanner scanner = dataset.newScan(options);\n             ArrowReader reader = scanner.scanBatches();\n\n           Data.exportArrayStream(allocator, reader, stream);\n\n           Class.forName(&quot;org.duckdb.DuckDBDriver&quot;);\n           try (DuckDBConnection conn = (DuckDBConnection) DriverManager.getConnection(&quot;jdbc:duckdb:&quot;)) {\n                 conn.registerArrowStream(&quot;testStream&quot;, stream);\n\n                 try (Statement stmt = conn.createStatement();\n                        ResultSet rs = stmt.executeQuery(&quot;SELECT * FROM testStream&quot;)) {\n                            while(rs.next()) {\n                                System.out.println(rs.getString(1));\n                            }\n                        }\n                 }\n            }\n        }\n\n\n}\n</code></pre>\n<p>This works very well. However, I am interested in using the above code for CSV files <strong>without a header</strong>. Is there a way to define the header myself while reading the file with Apache Arrow?</p>\n"},{"tags":["java","linux","bash"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1646311453,"post_id":71337414,"comment_id":126094729,"body_markdown":"What do you mean &quot;when I type&quot;? When you invoke a bash script that does some export, then the &quot;parent&quot; shell that you used to run the script won&#39;t see that export? Thus: please see [mcve] and add the relevant part of your code, instead of *explaining* what your code does.","body":"What do you mean &quot;when I type&quot;? When you invoke a bash script that does some export, then the &quot;parent&quot; shell that you used to run the script won&#39;t see that export? Thus: please see <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> and add the relevant part of your code, instead of <i>explaining</i> what your code does."},{"owner":{"account_id":2186012,"reputation":20371,"user_id":1934428,"accept_rate":86,"display_name":"user1934428"},"score":0,"creation_date":1646313020,"post_id":71337414,"comment_id":126095321,"body_markdown":"When you type `java`, the value of `JAVA_HOME` is irrelevant. As with every command, the shell searches the `PATH` variable to located the executable. You can do a `type -a java` to see all the Java versions in your PATH, in search order.","body":"When you type <code>java</code>, the value of <code>JAVA_HOME</code> is irrelevant. As with every command, the shell searches the <code>PATH</code> variable to located the executable. You can do a <code>type -a java</code> to see all the Java versions in your PATH, in search order."},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":0,"creation_date":1646313286,"post_id":71337414,"comment_id":126095417,"body_markdown":"[Strongly related to this](https://stackoverflow.com/questions/69735512/why-can-i-use-javac-java-without-having-java-home-set/69735602#69735602). `JAVA_HOME` is quite misunderstood and not nearly as important as most people think.","body":"<a href=\"https://stackoverflow.com/questions/69735512/why-can-i-use-javac-java-without-having-java-home-set/69735602#69735602\">Strongly related to this</a>. <code>JAVA_HOME</code> is quite misunderstood and not nearly as important as most people think."}],"answers":[{"tags":[],"owner":{"account_id":1598582,"reputation":362,"user_id":1480126,"display_name":"ckoidl"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1646316930,"creation_date":1646315136,"answer_id":71338249,"question_id":71337414,"body_markdown":"It depends on the tool used, but for most tools PATH is more important than JAVA_HOME.\r\n\r\nHere is a script that changes the path and also restores it\r\n\r\n    #!/bin/bash\r\n    original_path=$PATH\r\n\r\n    java -version\r\n    export PATH=/usr/lib/jvm/java-11-openjdk-amd64/bin/:$PATH\r\n    java -version\r\n    export PATH=$original_path\r\n    java -version\r\n\r\nIf you directly need to invoke a specific java version a single time in your script then you could also do\r\n\r\n    PATH=/usr/lib/jvm/java-11-openjdk-amd64/bin/:$PATH java -version","title":"How to change java version within a bash script?","body":"<p>It depends on the tool used, but for most tools PATH is more important than JAVA_HOME.</p>\n<p>Here is a script that changes the path and also restores it</p>\n<pre><code>#!/bin/bash\noriginal_path=$PATH\n\njava -version\nexport PATH=/usr/lib/jvm/java-11-openjdk-amd64/bin/:$PATH\njava -version\nexport PATH=$original_path\njava -version\n</code></pre>\n<p>If you directly need to invoke a specific java version a single time in your script then you could also do</p>\n<pre><code>PATH=/usr/lib/jvm/java-11-openjdk-amd64/bin/:$PATH java -version\n</code></pre>\n"},{"tags":[],"owner":{"account_id":28985568,"reputation":1,"user_id":22202455,"display_name":"Najm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688985679,"creation_date":1688978795,"answer_id":76652123,"question_id":71337414,"body_markdown":"The commands \r\njdk8,\r\njdk11 or\r\njdk17\r\n\r\nwill change the version of java in git bash depending on what version you have installed.","title":"How to change java version within a bash script?","body":"<p>The commands\njdk8,\njdk11 or\njdk17</p>\n<p>will change the version of java in git bash depending on what version you have installed.</p>\n"}],"owner":{"account_id":15421485,"reputation":31,"user_id":16187105,"display_name":"kellogg76"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5029,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71338249,"answer_count":2,"score":1,"last_activity_date":1688985679,"creation_date":1646311362,"question_id":71337414,"body_markdown":"I have one piece of a script that needs a different java version to the rest of the script, up till now I&#39;ve always manually changed versions with `sudo update-alternatives --config java` and then just select the one I need.\r\n\r\nIs there a way to do that within a bash script?\r\n\r\nI&#39;ve tried `export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/bin/java` which matches the path listed by `sudo update-alternatives --config java` but if I then type at the command line `java -version` it still lists the previous java version, and not java-11-openjdk-amd64.\r\n\r\nAny help is appreciated.","title":"How to change java version within a bash script?","body":"<p>I have one piece of a script that needs a different java version to the rest of the script, up till now I've always manually changed versions with <code>sudo update-alternatives --config java</code> and then just select the one I need.</p>\n<p>Is there a way to do that within a bash script?</p>\n<p>I've tried <code>export JAVA_HOME=/usr/lib/jvm/java-11-openjdk-amd64/bin/java</code> which matches the path listed by <code>sudo update-alternatives --config java</code> but if I then type at the command line <code>java -version</code> it still lists the previous java version, and not java-11-openjdk-amd64.</p>\n<p>Any help is appreciated.</p>\n"},{"tags":["java","spring","spring-boot","jpa","criteria"],"owner":{"account_id":27258377,"reputation":3,"user_id":20781584,"display_name":"Dewanto Surya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688985139,"creation_date":1688980348,"question_id":76652307,"body_markdown":"I am rather new to JPA 2 and it&#39;s Criteria Builder.\r\nI would like to create a query where I do several count with different filter each. \r\n\r\n\r\nIt will be like this in postgreSQL\r\n\r\n```\r\nselect  id,\r\n        count(created_at) filter(where status_log = &#39;hold&#39;) as holding,\r\n        count(created_at) filter(where status_log = &#39;resume&#39;) as resume\r\nfrom log\r\nwhere status_log in (&#39;hold&#39;, &#39;resume&#39;)\r\ngroup by id\r\n```\r\n\r\nit&#39;s a success in postgreSQL, where the result is as follows\r\n[result of query](https://i.stack.imgur.com/xeasC.png)\r\n\r\nMy desired result when using criteria builder is as follows\r\n\r\n```\r\n[\r\n   [\r\n    some_id_1, \r\n    1, //count of hold\r\n    2  //count of resume\r\n   ],\r\n   [\r\n    some_id_2, \r\n    1, \r\n    1\r\n   ],\r\n...\r\n]\r\n```\r\nHow can I achieve this result using criteria?\r\n\r\nThanks in Advance!","title":"Getting several count with different filter","body":"<p>I am rather new to JPA 2 and it's Criteria Builder.\nI would like to create a query where I do several count with different filter each.</p>\n<p>It will be like this in postgreSQL</p>\n<pre><code>select  id,\n        count(created_at) filter(where status_log = 'hold') as holding,\n        count(created_at) filter(where status_log = 'resume') as resume\nfrom log\nwhere status_log in ('hold', 'resume')\ngroup by id\n</code></pre>\n<p>it's a success in postgreSQL, where the result is as follows\n<a href=\"https://i.stack.imgur.com/xeasC.png\" rel=\"nofollow noreferrer\">result of query</a></p>\n<p>My desired result when using criteria builder is as follows</p>\n<pre><code>[\n   [\n    some_id_1, \n    1, //count of hold\n    2  //count of resume\n   ],\n   [\n    some_id_2, \n    1, \n    1\n   ],\n...\n]\n</code></pre>\n<p>How can I achieve this result using criteria?</p>\n<p>Thanks in Advance!</p>\n"},{"tags":["java","spring-boot","aop"],"comments":[{"owner":{"account_id":5278004,"reputation":6696,"user_id":4214241,"display_name":"R.G"},"score":1,"creation_date":1689315766,"post_id":76652750,"comment_id":135198739,"body_markdown":"Spring AOP only works on Spring container managed beans. `new TestClass()` will create an instance that is not managed by spring cotainer .  Do read through Spring AOP documentation [here](https://docs.spring.io/spring-framework/reference/core/aop/introduction-spring-defn.html)","body":"Spring AOP only works on Spring container managed beans. <code>new TestClass()</code> will create an instance that is not managed by spring cotainer .  Do read through Spring AOP documentation <a href=\"https://docs.spring.io/spring-framework/reference/core/aop/introduction-spring-defn.html\" rel=\"nofollow noreferrer\">here</a>"}],"owner":{"account_id":18070148,"reputation":1,"user_id":13135003,"display_name":"Saman Obeydzadeh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688984946,"creation_date":1688984058,"question_id":76652750,"body_markdown":"i have this simple java spring app\r\n\r\n    public static void main(String[] args) {\r\n        new TestClass().init()\r\n    }\r\n\r\nand i want monitor some metric in the TestClass but it&#39;s not work\r\n\r\n    @EnableMonitoring(level = 5)\r\n    public void init() throws Exception {\r\n        // ...\r\n    }\r\n\r\nbut when i use it above controller it&#39;s work!!! \r\nand other classes:\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface EnableMonitoring {\r\n        int level() default 0;\r\n    }\r\n\r\n\r\n    @Aspect\r\n    @Component\r\n    public class EnableMonitoringAspect {\r\n    \r\n        @Around(&quot;@annotation(EnableMonitoring)&quot;)\r\n        public void monitor(ProceedingJoinPoint pjp) throws Throwable {\r\n            MethodSignature signature = (MethodSignature) pjp.getSignature();\r\n            Method method = signature.getMethod();\r\n    \r\n            int level = method.getAnnotation(EnableMonitoring.class).level();\r\n    \r\n            System.out.println(&quot;Level is: &quot; + level);\r\n        }\r\n    }\r\n\r\n","title":"Custom annotation in spring boot","body":"<p>i have this simple java spring app</p>\n<pre><code>public static void main(String[] args) {\n    new TestClass().init()\n}\n</code></pre>\n<p>and i want monitor some metric in the TestClass but it's not work</p>\n<pre><code>@EnableMonitoring(level = 5)\npublic void init() throws Exception {\n    // ...\n}\n</code></pre>\n<p>but when i use it above controller it's work!!!\nand other classes:</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface EnableMonitoring {\n    int level() default 0;\n}\n\n\n@Aspect\n@Component\npublic class EnableMonitoringAspect {\n\n    @Around(&quot;@annotation(EnableMonitoring)&quot;)\n    public void monitor(ProceedingJoinPoint pjp) throws Throwable {\n        MethodSignature signature = (MethodSignature) pjp.getSignature();\n        Method method = signature.getMethod();\n\n        int level = method.getAnnotation(EnableMonitoring.class).level();\n\n        System.out.println(&quot;Level is: &quot; + level);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring-boot","exception","rabbitmq","illegalstateexception"],"owner":{"account_id":16899432,"reputation":1,"user_id":12221233,"display_name":"wary_coder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688984532,"creation_date":1688984428,"question_id":76652799,"body_markdown":"Iam getting the below error for the piece of code pasted below.\r\n\r\nThe code receives a json string in the listener and successfully deserialises it\r\nbut facing error when trying to save a new dto to database.\r\n\r\nThat new dto is built by using values from the rabbitmq message.\r\n\r\n**ERROR**\r\nCaused by: java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.\r\n\r\n\r\n**CODE SNIPPET**\r\n\r\n    @RabbitListener(queues = &quot;${userRegistrationQueueName}&quot;)\r\n    public void createMotorUserPersonResgistration(final String message) {\r\n\r\n        log.info(&quot;Received message for user registration:&quot; + message);\r\n\r\n        UserRegRabbitRequest userRegRabbitRequest = ObjectConverter.jsonToObject(message, UserRegRabbitRequest.class);\r\n\r\n        UserDto userDto = userRegRabbitRequest.getUser();\r\n        String idTypeTt = new String();\r\n        if (userDto.getUserIdentification().startsWith(&quot;1&quot;)) {\r\n            idTypeTt = ApplicationConstants.NATIONAL_ID_TYPE;\r\n        } else {\r\n            idTypeTt = ApplicationConstants.IQAMA_ID_TYPE;\r\n        }\r\n        TxnMotorUserPersonDto txnMotorUserPersonDto = TxnMotorUserPersonDto.builder().userId(userDto.getPkId())\r\n                .dobgDt(idTypeTt.equals(ApplicationConstants.IQAMA_ID_TYPE) ? userDto.getDateOfBirth() : null)\r\n                .dobhDt(idTypeTt.equals(ApplicationConstants.NATIONAL_ID_TYPE) ? userDto.getDateOfBirth() : null)\r\n                .idTypeTt(idTypeTt).idTt(userDto.getUserIdentification())\r\n                .firstNameEnTt(ObjectUtil.getValueOrDefault(userDto.getFirstName(), &quot;&quot;))\r\n                .genderTt(userDto.getGender())\r\n                .lastNameEnTt(ObjectUtil.getValueOrDefault(userDto.getLastName(), &quot;&quot;))\r\n                .secondNameEnTt(ObjectUtil.getValueOrDefault(userDto.getMiddleName(), &quot;&quot;))\r\n                .build();\r\n        txnMotorUserPersonService.save(txnMotorUserPersonDto);\r\n    }\r\n\r\nIam getting the below error for the piece of code pasted below.\r\n\r\nThe code receives a json string in the listener and successfully deserialises it\r\nbut facing error when trying to save a new dto to database.\r\n","title":"IllegalStateException when saving a data from rabbitmq queue to DB using JPA","body":"<p>Iam getting the below error for the piece of code pasted below.</p>\n<p>The code receives a json string in the listener and successfully deserialises it\nbut facing error when trying to save a new dto to database.</p>\n<p>That new dto is built by using values from the rabbitmq message.</p>\n<p><strong>ERROR</strong>\nCaused by: java.lang.IllegalStateException: No thread-bound request found: Are you referring to request attributes outside of an actual web request, or processing a request outside of the originally receiving thread? If you are actually operating within a web request and still receive this message, your code is probably running outside of DispatcherServlet: In this case, use RequestContextListener or RequestContextFilter to expose the current request.</p>\n<p><strong>CODE SNIPPET</strong></p>\n<pre><code>@RabbitListener(queues = &quot;${userRegistrationQueueName}&quot;)\npublic void createMotorUserPersonResgistration(final String message) {\n\n    log.info(&quot;Received message for user registration:&quot; + message);\n\n    UserRegRabbitRequest userRegRabbitRequest = ObjectConverter.jsonToObject(message, UserRegRabbitRequest.class);\n\n    UserDto userDto = userRegRabbitRequest.getUser();\n    String idTypeTt = new String();\n    if (userDto.getUserIdentification().startsWith(&quot;1&quot;)) {\n        idTypeTt = ApplicationConstants.NATIONAL_ID_TYPE;\n    } else {\n        idTypeTt = ApplicationConstants.IQAMA_ID_TYPE;\n    }\n    TxnMotorUserPersonDto txnMotorUserPersonDto = TxnMotorUserPersonDto.builder().userId(userDto.getPkId())\n            .dobgDt(idTypeTt.equals(ApplicationConstants.IQAMA_ID_TYPE) ? userDto.getDateOfBirth() : null)\n            .dobhDt(idTypeTt.equals(ApplicationConstants.NATIONAL_ID_TYPE) ? userDto.getDateOfBirth() : null)\n            .idTypeTt(idTypeTt).idTt(userDto.getUserIdentification())\n            .firstNameEnTt(ObjectUtil.getValueOrDefault(userDto.getFirstName(), &quot;&quot;))\n            .genderTt(userDto.getGender())\n            .lastNameEnTt(ObjectUtil.getValueOrDefault(userDto.getLastName(), &quot;&quot;))\n            .secondNameEnTt(ObjectUtil.getValueOrDefault(userDto.getMiddleName(), &quot;&quot;))\n            .build();\n    txnMotorUserPersonService.save(txnMotorUserPersonDto);\n}\n</code></pre>\n<p>Iam getting the below error for the piece of code pasted below.</p>\n<p>The code receives a json string in the listener and successfully deserialises it\nbut facing error when trying to save a new dto to database.</p>\n"},{"tags":["java","spring-boot","hikaricp"],"answers":[{"tags":[],"owner":{"account_id":19202492,"reputation":1,"user_id":14030125,"display_name":"Gabrielle Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688984185,"creation_date":1688576153,"answer_id":76622481,"question_id":76622259,"body_markdown":"Ensure that your DataSource bean is properly configured to use HikariCP as the connection pool:\r\n\r\n    @Configuration\r\n    public class DatabaseConfig {\r\n\r\n      @Bean\r\n      public DataSource dataSource() {\r\n          HikariDataSource dataSource = new HikariDataSource();\r\n          // Configure Hikari pool properties, such as database URL, username, password, etc.\r\n          return dataSource;\r\n      }\r\n    }\r\n\r\nUse the `@Scope(&quot;prototype&quot;)` annotation on the connection handling class to create a new instance for each thread:\r\n\r\n    @Component\r\n    @Scope(&quot;prototype&quot;)\r\n    public class ConnectionHandler {\r\n\r\n      private Connection connection;\r\n\r\n      public void openConnection() {\r\n          // Logic to open the database connection\r\n          // Use the DataSource to acquire a connection\r\n          this.connection = dataSource.getConnection();\r\n      }\r\n\r\n      public void closeConnection() {\r\n          // Logic to close the database connection\r\n          if (this.connection != null) {\r\n              try {\r\n                  this.connection.close();\r\n              } catch (SQLException e) {\r\n                  // Handle connection closing exception if necessary\r\n              }\r\n          }\r\n      }\r\n\r\n    // Methods to handle the connection\r\n    }\r\n\r\nUse the `ThreadLocal` class to ensure that each thread gets its own instance of the `ConnectionHandler`:\r\n\r\n    @Component\r\n    public class ConnectionHandlerProvider {\r\n      private ThreadLocal&lt;ConnectionHandler&gt; connectionHandlerThreadLocal = \r\n      new ThreadLocal&lt;&gt;();\r\n\r\n      public ConnectionHandler getConnectionHandler() {\r\n          ConnectionHandler connectionHandler = \r\n      connectionHandlerThreadLocal.get();\r\n          if (connectionHandler == null) {\r\n              connectionHandler = new ConnectionHandler();\r\n              connectionHandler.openConnection();\r\n              connectionHandlerThreadLocal.set(connectionHandler);\r\n          }\r\n          return connectionHandler;\r\n      }\r\n\r\n      public void releaseConnectionHandler() {\r\n          ConnectionHandler connectionHandler = \r\n      connectionHandlerThreadLocal.get();\r\n          if (connectionHandler != null) {\r\n              connectionHandler.closeConnection();\r\n              connectionHandlerThreadLocal.remove();\r\n          }\r\n      }\r\n    }\r\n\r\nWhen using the `ConnectionHandler`, obtain the instance from the `ConnectionHandlerProvider` and ensure that it is released after use:\r\n\r\n    @Service\r\n    public class MyService {\r\n\r\n      @Autowired\r\n      private ConnectionHandlerProvider connectionHandlerProvider;\r\n\r\n      public void doSomethingWithConnection() {\r\n          ConnectionHandler connectionHandler = \r\n      connectionHandlerProvider.getConnectionHandler();\r\n          try {\r\n              // Use the connection to execute queries or perform database \r\n      operations\r\n          } finally {\r\n              connectionHandlerProvider.releaseConnectionHandle();\r\n          }\r\n      }\r\n    }","title":"Debugging Hikari Pool connections in Spring Boot Application - See any identifier of each connection of the pool","body":"<p>Ensure that your DataSource bean is properly configured to use HikariCP as the connection pool:</p>\n<pre><code>@Configuration\npublic class DatabaseConfig {\n\n  @Bean\n  public DataSource dataSource() {\n      HikariDataSource dataSource = new HikariDataSource();\n      // Configure Hikari pool properties, such as database URL, username, password, etc.\n      return dataSource;\n  }\n}\n</code></pre>\n<p>Use the <code>@Scope(&quot;prototype&quot;)</code> annotation on the connection handling class to create a new instance for each thread:</p>\n<pre><code>@Component\n@Scope(&quot;prototype&quot;)\npublic class ConnectionHandler {\n\n  private Connection connection;\n\n  public void openConnection() {\n      // Logic to open the database connection\n      // Use the DataSource to acquire a connection\n      this.connection = dataSource.getConnection();\n  }\n\n  public void closeConnection() {\n      // Logic to close the database connection\n      if (this.connection != null) {\n          try {\n              this.connection.close();\n          } catch (SQLException e) {\n              // Handle connection closing exception if necessary\n          }\n      }\n  }\n\n// Methods to handle the connection\n}\n</code></pre>\n<p>Use the <code>ThreadLocal</code> class to ensure that each thread gets its own instance of the <code>ConnectionHandler</code>:</p>\n<pre><code>@Component\npublic class ConnectionHandlerProvider {\n  private ThreadLocal&lt;ConnectionHandler&gt; connectionHandlerThreadLocal = \n  new ThreadLocal&lt;&gt;();\n\n  public ConnectionHandler getConnectionHandler() {\n      ConnectionHandler connectionHandler = \n  connectionHandlerThreadLocal.get();\n      if (connectionHandler == null) {\n          connectionHandler = new ConnectionHandler();\n          connectionHandler.openConnection();\n          connectionHandlerThreadLocal.set(connectionHandler);\n      }\n      return connectionHandler;\n  }\n\n  public void releaseConnectionHandler() {\n      ConnectionHandler connectionHandler = \n  connectionHandlerThreadLocal.get();\n      if (connectionHandler != null) {\n          connectionHandler.closeConnection();\n          connectionHandlerThreadLocal.remove();\n      }\n  }\n}\n</code></pre>\n<p>When using the <code>ConnectionHandler</code>, obtain the instance from the <code>ConnectionHandlerProvider</code> and ensure that it is released after use:</p>\n<pre><code>@Service\npublic class MyService {\n\n  @Autowired\n  private ConnectionHandlerProvider connectionHandlerProvider;\n\n  public void doSomethingWithConnection() {\n      ConnectionHandler connectionHandler = \n  connectionHandlerProvider.getConnectionHandler();\n      try {\n          // Use the connection to execute queries or perform database \n  operations\n      } finally {\n          connectionHandlerProvider.releaseConnectionHandle();\n      }\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":18936900,"reputation":46,"user_id":13819413,"display_name":"Diego Sanz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":581,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688984185,"creation_date":1688574061,"question_id":76622259,"body_markdown":"I have a Spring Boot application, where I have created a class which implements **DelegatingDataSource**. I use **Hikari pool**, and I have DEBUG level on their packages. I&#39;m facing some errors related to processes which try to execute a query, but it fails because the connection is closed. If I debug the API call, I never find the error, so any concurrency error should exist.\r\n\r\nI would like to see if there is any way of **printing any identifier of the connection pool**. I mean, I have configured a pool size of 50, and if I run the application I have some logs like this (x50 times):\r\n\r\n```\r\n... [onnection adder] com.zaxxer.hikari.pool.HikariPool        : tenantDataSource - Added connection org.postgresql.jdbc.PgConnection@6214982\r\n```\r\n\r\nIf, once the application starts, I debug into a connection object, it doesn&#39;t have the same hashcode of any of the connection pool. So, my main question is: **Is there any way to print an ID or something similar in order to identify the connection of the pool I&#39;m using?** I would expect something like:\r\n\r\n```\r\nConnection connection = getTargetDataSource().getConnection();\r\nlog.info(&quot;I have the connection with ID&quot; + connection.getSomeIdentifier());\r\n```\r\n\r\nIf I have this log, I would be able to debug in staging environment, so I can find if any process are closing a connection which is used by other thread/process in parallel.\r\n\r\nThanks in advance.","title":"Debugging Hikari Pool connections in Spring Boot Application - See any identifier of each connection of the pool","body":"<p>I have a Spring Boot application, where I have created a class which implements <strong>DelegatingDataSource</strong>. I use <strong>Hikari pool</strong>, and I have DEBUG level on their packages. I'm facing some errors related to processes which try to execute a query, but it fails because the connection is closed. If I debug the API call, I never find the error, so any concurrency error should exist.</p>\n<p>I would like to see if there is any way of <strong>printing any identifier of the connection pool</strong>. I mean, I have configured a pool size of 50, and if I run the application I have some logs like this (x50 times):</p>\n<pre><code>... [onnection adder] com.zaxxer.hikari.pool.HikariPool        : tenantDataSource - Added connection org.postgresql.jdbc.PgConnection@6214982\n</code></pre>\n<p>If, once the application starts, I debug into a connection object, it doesn't have the same hashcode of any of the connection pool. So, my main question is: <strong>Is there any way to print an ID or something similar in order to identify the connection of the pool I'm using?</strong> I would expect something like:</p>\n<pre><code>Connection connection = getTargetDataSource().getConnection();\nlog.info(&quot;I have the connection with ID&quot; + connection.getSomeIdentifier());\n</code></pre>\n<p>If I have this log, I would be able to debug in staging environment, so I can find if any process are closing a connection which is used by other thread/process in parallel.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","spring-boot","jersey","spring-restcontroller"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1688971784,"post_id":76651017,"comment_id":135141090,"body_markdown":"400 means invalid request, what makes you think it doesn&#39; thit your URL?","body":"400 means invalid request, what makes you think it doesn&#39; thit your URL?"},{"owner":{"account_id":139494,"reputation":804,"user_id":345130,"accept_rate":40,"display_name":"ILya Cyclone"},"score":0,"creation_date":1688971985,"post_id":76651017,"comment_id":135141118,"body_markdown":"Those are not Spring mvc controller annotations. Why spring-boot tags?","body":"Those are not Spring mvc controller annotations. Why spring-boot tags?"}],"owner":{"account_id":3625358,"reputation":1,"user_id":3023147,"display_name":"user3023147"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688984172,"creation_date":1688969083,"question_id":76651017,"body_markdown":"I am trying to map a URL with REST API in Spring Boot.\r\n\r\nurl: http://localhost.charlesproxy.com:8080/content/storage/path/someid/x/y/resource/{&quot;reltype&quot;:&quot;http://ns.example.com/examplecloud/rel/primary&quot;}/:page\r\n\r\nSending the URL encoded format to Spring Boot:\r\n```\r\nhttp://localhost.charlesproxy.com:8080/content/storage/path/someid/x/y/resource/%7B%22reltype%22%3A%22http%3A%2F%2Fns.example.com%2Fexamplecloud%2Frel%2Fprimary%22%7D/:page\r\n```\r\n\r\nIt is giving 400 instead of 404. what&#39;s wrong with this URL?\r\n\r\nBelow is the REST API\r\n```\r\n@GET\r\n@Path(&quot;/{path:([^\\\\:]+/|)}&quot; + &quot;:page&quot;)\r\n\r\n@ApiParam(required = true) @PathParam(&quot;path&quot;) String path\r\n```\r\n\r\nI tried this request from Postman to localhost and was expecting 404 or hitting my REST API debugger. But getting 400 and not hitting my localhost.","title":"Spring Boot not accepting the given url. Giving 400 instead of 404","body":"<p>I am trying to map a URL with REST API in Spring Boot.</p>\n<p>url: <a href=\"http://localhost.charlesproxy.com:8080/content/storage/path/someid/x/y/resource/%7B%22reltype%22:%22http://ns.example.com/examplecloud/rel/primary%22%7D/:page\" rel=\"nofollow noreferrer\">http://localhost.charlesproxy.com:8080/content/storage/path/someid/x/y/resource/{&quot;reltype&quot;:&quot;http://ns.example.com/examplecloud/rel/primary&quot;}/:page</a></p>\n<p>Sending the URL encoded format to Spring Boot:</p>\n<pre><code>http://localhost.charlesproxy.com:8080/content/storage/path/someid/x/y/resource/%7B%22reltype%22%3A%22http%3A%2F%2Fns.example.com%2Fexamplecloud%2Frel%2Fprimary%22%7D/:page\n</code></pre>\n<p>It is giving 400 instead of 404. what's wrong with this URL?</p>\n<p>Below is the REST API</p>\n<pre><code>@GET\n@Path(&quot;/{path:([^\\\\:]+/|)}&quot; + &quot;:page&quot;)\n\n@ApiParam(required = true) @PathParam(&quot;path&quot;) String path\n</code></pre>\n<p>I tried this request from Postman to localhost and was expecting 404 or hitting my REST API debugger. But getting 400 and not hitting my localhost.</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":216120,"reputation":49213,"user_id":471160,"accept_rate":90,"display_name":"marcinj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688882946,"creation_date":1688882946,"answer_id":76646108,"question_id":76646026,"body_markdown":"This method requires android.permission.POST_NOTIFICATIONS permission:\r\n\r\nhttps://developer.android.com/reference/androidx/core/app/NotificationManagerCompat#notify(int,android.app.Notification)\r\n\r\nIf you get this error exactly when this method is called then I would suspect you haven&#39;t included it in you manifest. See here for more details:\r\n\r\nhttps://developer.android.com/develop/ui/views/notifications/notification-permission\r\n\r\nThis permission is needed since android 13, to declare it add it as follows:\r\n\r\n    &lt;manifest ...&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\r\n        &lt;application ...&gt;\r\n            ...\r\n        &lt;/application&gt;\r\n    &lt;/manifest&gt;","title":"Encountered this error anyone encountered before?","body":"<p>This method requires android.permission.POST_NOTIFICATIONS permission:</p>\n<p><a href=\"https://developer.android.com/reference/androidx/core/app/NotificationManagerCompat#notify(int,android.app.Notification)\" rel=\"nofollow noreferrer\">https://developer.android.com/reference/androidx/core/app/NotificationManagerCompat#notify(int,android.app.Notification)</a></p>\n<p>If you get this error exactly when this method is called then I would suspect you haven't included it in you manifest. See here for more details:</p>\n<p><a href=\"https://developer.android.com/develop/ui/views/notifications/notification-permission\" rel=\"nofollow noreferrer\">https://developer.android.com/develop/ui/views/notifications/notification-permission</a></p>\n<p>This permission is needed since android 13, to declare it add it as follows:</p>\n<pre><code>&lt;manifest ...&gt;\n    &lt;uses-permission android:name=&quot;android.permission.POST_NOTIFICATIONS&quot;/&gt;\n    &lt;application ...&gt;\n        ...\n    &lt;/application&gt;\n&lt;/manifest&gt;\n</code></pre>\n"}],"owner":{"account_id":23263131,"reputation":1,"user_id":17349131,"display_name":"Aldred "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1688983987,"creation_date":1688880980,"question_id":76646026,"body_markdown":"I am trying to prompt notification by pressing a button in Android Studio. I followed the tutorials on YouTube, but it gives a weird error saying I need permission.\r\n\r\nI tried the solutions given by the IDE, but they didn’t help me. My code:\r\n~~~\r\n     Notification = findViewById(R.id.NotificationButton);\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\r\n            NotificationChannel channel = new NotificationChannel(&quot;My Notification&quot;, &quot;My Notification&quot;, NotificationManager.IMPORTANCE_DEFAULT);\r\n            NotificationManager manager = getSystemService(NotificationManager.class);\r\n            manager.createNotificationChannel(channel);\r\n        }\r\n        Notification.setOnClickListener(new View.OnClickListener() {\r\n\r\n            @Override\r\n            public void onClick(View v) {\r\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, &quot;My Notification&quot;);\r\n                builder.setContentTitle(&quot;ALARM Notification&quot;)\r\n                        .setContentText(&quot;PLease Take Your Phone&quot;)\r\n                        .setStyle(new NotificationCompat.BigTextStyle())\r\n                        .setPriority(NotificationCompat.PRIORITY_DEFAULT)\r\n                        .setSmallIcon(R.drawable.baseline_notifications_24)\r\n                        .setAutoCancel(true);\r\n\r\n                NotificationManagerCompat managerCompat = NotificationManagerCompat.from(MainActivity.this);\r\n                managerCompat.notify(1, builder.build());\r\n~~~\r\n\r\nI am getting the error in the last row:  \r\n~~~\r\nmanagerCompat.notify(1,builder.build());\r\n~~~\r\n\r\nAny advice on how to solve the error is appreciated.","title":"Encountered this error anyone encountered before?","body":"<p>I am trying to prompt notification by pressing a button in Android Studio. I followed the tutorials on YouTube, but it gives a weird error saying I need permission.</p>\n<p>I tried the solutions given by the IDE, but they didn’t help me. My code:</p>\n<pre><code>     Notification = findViewById(R.id.NotificationButton);\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O_MR1) {\n            NotificationChannel channel = new NotificationChannel(&quot;My Notification&quot;, &quot;My Notification&quot;, NotificationManager.IMPORTANCE_DEFAULT);\n            NotificationManager manager = getSystemService(NotificationManager.class);\n            manager.createNotificationChannel(channel);\n        }\n        Notification.setOnClickListener(new View.OnClickListener() {\n\n            @Override\n            public void onClick(View v) {\n                NotificationCompat.Builder builder = new NotificationCompat.Builder(MainActivity.this, &quot;My Notification&quot;);\n                builder.setContentTitle(&quot;ALARM Notification&quot;)\n                        .setContentText(&quot;PLease Take Your Phone&quot;)\n                        .setStyle(new NotificationCompat.BigTextStyle())\n                        .setPriority(NotificationCompat.PRIORITY_DEFAULT)\n                        .setSmallIcon(R.drawable.baseline_notifications_24)\n                        .setAutoCancel(true);\n\n                NotificationManagerCompat managerCompat = NotificationManagerCompat.from(MainActivity.this);\n                managerCompat.notify(1, builder.build());\n</code></pre>\n<p>I am getting the error in the last row:</p>\n<pre><code>managerCompat.notify(1,builder.build());\n</code></pre>\n<p>Any advice on how to solve the error is appreciated.</p>\n"},{"tags":["java","cryptography","pkcs#7"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":2,"creation_date":1337715602,"post_id":10703416,"comment_id":13905117,"body_markdown":"Dear user, please revisit [this older question](http://stackoverflow.com/questions/9805385/delete-query-is-not-working-form-java-application). I&#39;ve voted to close the other question. [Please](http://stackoverflow.com/questions/2377402/how-to-encode-a-value-in-pkcs7-with-java) [do](http://stackoverflow.com/questions/3166159/verifying-pkcs7-certificates-in-java) your homework before asking questions.","body":"Dear user, please revisit <a href=\"http://stackoverflow.com/questions/9805385/delete-query-is-not-working-form-java-application\">this older question</a>. I&#39;ve voted to close the other question. <a href=\"http://stackoverflow.com/questions/2377402/how-to-encode-a-value-in-pkcs7-with-java\">Please</a> <a href=\"http://stackoverflow.com/questions/3166159/verifying-pkcs7-certificates-in-java\">do</a> your homework before asking questions."},{"owner":{"account_id":249565,"reputation":9766,"user_id":525725,"accept_rate":67,"display_name":"Emmanuel Bourg"},"score":0,"creation_date":1337722056,"post_id":10703416,"comment_id":13907668,"body_markdown":"Do you want the signed exe file to be recognized by Windows as signed.","body":"Do you want the signed exe file to be recognized by Windows as signed."}],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1337715129,"creation_date":1337715129,"answer_id":10708831,"question_id":10703416,"body_markdown":"PKCS#7 is known as CMS now (Cryptographic Message Syntax), and you will need the Bouncy Castle PKIX libraries to create one. It has ample documentation and a well established mailing list.\r\n\r\nI won&#39;t supply code snippet, it is against house rules. Try yourself first.\r\n","title":"Sign data using PKCS #7 in JAVA","body":"<p>PKCS#7 is known as CMS now (Cryptographic Message Syntax), and you will need the Bouncy Castle PKIX libraries to create one. It has ample documentation and a well established mailing list.</p>\n\n<p>I won't supply code snippet, it is against house rules. Try yourself first.</p>\n"},{"tags":[],"owner":{"account_id":35585,"reputation":7037,"user_id":100836,"accept_rate":100,"display_name":"Zaki"},"down_vote_count":0,"up_vote_count":15,"is_accepted":true,"score":15,"last_activity_date":1337838977,"creation_date":1337770119,"answer_id":10718419,"question_id":10703416,"body_markdown":"I reckon you need the following 2 Bouncy Castle jars to generate the PKCS7 digital signature:\r\n\r\n - bcprov-jdk15on-147.jar (for JDK 1.5 - JDK 1.7)\r\n   \r\n - bcmail-jdk15on-147.jar (for JDK 1.5 - JDK 1.7)\r\n\r\nYou can download the Bouncy Castle jars from [here][1].\r\n\r\n\r\n  [1]: http://bouncycastle.org/latest_releases.html\r\n\r\nYou need to setup your keystore with the public &amp; private key pair.\r\nYou need only the private key to generate the digital signature &amp; the public key to verify it.\r\n\r\nHere&#39;s how you&#39;d pkcs7 sign content (Exception handling omitted for brevity) :\r\n\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.InputStream;\r\n    import java.security.KeyStore;\r\n    import java.security.PrivateKey;\r\n    import java.security.Security;\r\n    import java.security.cert.Certificate;\r\n    import java.security.cert.X509Certificate;\r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    import org.bouncycastle.cert.jcajce.JcaCertStore;\r\n    import org.bouncycastle.cms.CMSProcessableByteArray;\r\n    import org.bouncycastle.cms.CMSSignedData;\r\n    import org.bouncycastle.cms.CMSSignedDataGenerator;\r\n    import org.bouncycastle.cms.CMSTypedData;\r\n    import org.bouncycastle.cms.jcajce.JcaSignerInfoGeneratorBuilder;\r\n    import org.bouncycastle.jce.provider.BouncyCastleProvider;\r\n    import org.bouncycastle.operator.ContentSigner;\r\n    import org.bouncycastle.operator.jcajce.JcaContentSignerBuilder;\r\n    import org.bouncycastle.operator.jcajce.JcaDigestCalculatorProviderBuilder;\r\n    import org.bouncycastle.util.Store;\r\n    import org.bouncycastle.util.encoders.Base64;\r\n    \r\n    public final class PKCS7Signer {\r\n    \r\n        private static final String PATH_TO_KEYSTORE = &quot;/path/to/keyStore&quot;;\r\n        private static final String KEY_ALIAS_IN_KEYSTORE = &quot;My_Private_Key&quot;;\r\n        private static final String KEYSTORE_PASSWORD = &quot;MyPassword&quot;;\r\n        private static final String SIGNATUREALGO = &quot;SHA1withRSA&quot;;\r\n    \r\n        public PKCS7Signer() {\r\n        }\r\n    \r\n        KeyStore loadKeyStore() throws Exception {\r\n    \r\n            KeyStore keystore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            InputStream is = new FileInputStream(PATH_TO_KEYSTORE);\r\n            keystore.load(is, KEYSTORE_PASSWORD.toCharArray());\r\n            return keystore;\r\n        }\r\n    \r\n        CMSSignedDataGenerator setUpProvider(final KeyStore keystore) throws Exception {\r\n    \r\n            Security.addProvider(new BouncyCastleProvider());\r\n    \r\n            Certificate[] certchain = (Certificate[]) keystore.getCertificateChain(KEY_ALIAS_IN_KEYSTORE);\r\n    \r\n            final List&lt;Certificate&gt; certlist = new ArrayList&lt;Certificate&gt;();\r\n    \r\n            for (int i = 0, length = certchain == null ? 0 : certchain.length; i &lt; length; i++) {\r\n                certlist.add(certchain[i]);\r\n            }\r\n    \r\n            Store certstore = new JcaCertStore(certlist);\r\n    \r\n            Certificate cert = keystore.getCertificate(KEY_ALIAS_IN_KEYSTORE);\r\n    \r\n            ContentSigner signer = new JcaContentSignerBuilder(SIGNATUREALGO).setProvider(&quot;BC&quot;).\r\n                    build((PrivateKey) (keystore.getKey(KEY_ALIAS_IN_KEYSTORE, KEYSTORE_PASSWORD.toCharArray())));\r\n    \r\n            CMSSignedDataGenerator generator = new CMSSignedDataGenerator();\r\n    \r\n            generator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().setProvider(&quot;BC&quot;).\r\n                    build()).build(signer, (X509Certificate) cert));\r\n    \r\n            generator.addCertificates(certstore);\r\n    \r\n            return generator;\r\n        }\r\n    \r\n        byte[] signPkcs7(final byte[] content, final CMSSignedDataGenerator generator) throws Exception {\r\n    \r\n            CMSTypedData cmsdata = new CMSProcessableByteArray(content);\r\n            CMSSignedData signeddata = generator.generate(cmsdata, true);\r\n            return signeddata.getEncoded();\r\n        }\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n    \r\n            PKCS7Signer signer = new PKCS7Signer();\r\n            KeyStore keyStore = signer.loadKeyStore();\r\n            CMSSignedDataGenerator signatureGenerator = signer.setUpProvider(keyStore);\r\n            String content = &quot;some bytes to be signed&quot;;\r\n            byte[] signedBytes = signer.signPkcs7(content.getBytes(&quot;UTF-8&quot;), signatureGenerator);\r\n            System.out.println(&quot;Signed Encoded Bytes: &quot; + new String(Base64.encode(signedBytes)));\r\n        }\r\n    }\r\n\r\n","title":"Sign data using PKCS #7 in JAVA","body":"<p>I reckon you need the following 2 Bouncy Castle jars to generate the PKCS7 digital signature:</p>\n\n<ul>\n<li><p>bcprov-jdk15on-147.jar (for JDK 1.5 - JDK 1.7)</p></li>\n<li><p>bcmail-jdk15on-147.jar (for JDK 1.5 - JDK 1.7)</p></li>\n</ul>\n\n<p>You can download the Bouncy Castle jars from <a href=\"http://bouncycastle.org/latest_releases.html\" rel=\"noreferrer\">here</a>.</p>\n\n<p>You need to setup your keystore with the public &amp; private key pair.\nYou need only the private key to generate the digital signature &amp; the public key to verify it.</p>\n\n<p>Here's how you'd pkcs7 sign content (Exception handling omitted for brevity) :</p>\n\n<pre><code>import java.io.FileInputStream;\nimport java.io.InputStream;\nimport java.security.KeyStore;\nimport java.security.PrivateKey;\nimport java.security.Security;\nimport java.security.cert.Certificate;\nimport java.security.cert.X509Certificate;\nimport java.util.ArrayList;\nimport java.util.List;\nimport org.bouncycastle.cert.jcajce.JcaCertStore;\nimport org.bouncycastle.cms.CMSProcessableByteArray;\nimport org.bouncycastle.cms.CMSSignedData;\nimport org.bouncycastle.cms.CMSSignedDataGenerator;\nimport org.bouncycastle.cms.CMSTypedData;\nimport org.bouncycastle.cms.jcajce.JcaSignerInfoGeneratorBuilder;\nimport org.bouncycastle.jce.provider.BouncyCastleProvider;\nimport org.bouncycastle.operator.ContentSigner;\nimport org.bouncycastle.operator.jcajce.JcaContentSignerBuilder;\nimport org.bouncycastle.operator.jcajce.JcaDigestCalculatorProviderBuilder;\nimport org.bouncycastle.util.Store;\nimport org.bouncycastle.util.encoders.Base64;\n\npublic final class PKCS7Signer {\n\n    private static final String PATH_TO_KEYSTORE = \"/path/to/keyStore\";\n    private static final String KEY_ALIAS_IN_KEYSTORE = \"My_Private_Key\";\n    private static final String KEYSTORE_PASSWORD = \"MyPassword\";\n    private static final String SIGNATUREALGO = \"SHA1withRSA\";\n\n    public PKCS7Signer() {\n    }\n\n    KeyStore loadKeyStore() throws Exception {\n\n        KeyStore keystore = KeyStore.getInstance(\"JKS\");\n        InputStream is = new FileInputStream(PATH_TO_KEYSTORE);\n        keystore.load(is, KEYSTORE_PASSWORD.toCharArray());\n        return keystore;\n    }\n\n    CMSSignedDataGenerator setUpProvider(final KeyStore keystore) throws Exception {\n\n        Security.addProvider(new BouncyCastleProvider());\n\n        Certificate[] certchain = (Certificate[]) keystore.getCertificateChain(KEY_ALIAS_IN_KEYSTORE);\n\n        final List&lt;Certificate&gt; certlist = new ArrayList&lt;Certificate&gt;();\n\n        for (int i = 0, length = certchain == null ? 0 : certchain.length; i &lt; length; i++) {\n            certlist.add(certchain[i]);\n        }\n\n        Store certstore = new JcaCertStore(certlist);\n\n        Certificate cert = keystore.getCertificate(KEY_ALIAS_IN_KEYSTORE);\n\n        ContentSigner signer = new JcaContentSignerBuilder(SIGNATUREALGO).setProvider(\"BC\").\n                build((PrivateKey) (keystore.getKey(KEY_ALIAS_IN_KEYSTORE, KEYSTORE_PASSWORD.toCharArray())));\n\n        CMSSignedDataGenerator generator = new CMSSignedDataGenerator();\n\n        generator.addSignerInfoGenerator(new JcaSignerInfoGeneratorBuilder(new JcaDigestCalculatorProviderBuilder().setProvider(\"BC\").\n                build()).build(signer, (X509Certificate) cert));\n\n        generator.addCertificates(certstore);\n\n        return generator;\n    }\n\n    byte[] signPkcs7(final byte[] content, final CMSSignedDataGenerator generator) throws Exception {\n\n        CMSTypedData cmsdata = new CMSProcessableByteArray(content);\n        CMSSignedData signeddata = generator.generate(cmsdata, true);\n        return signeddata.getEncoded();\n    }\n\n    public static void main(String[] args) throws Exception {\n\n        PKCS7Signer signer = new PKCS7Signer();\n        KeyStore keyStore = signer.loadKeyStore();\n        CMSSignedDataGenerator signatureGenerator = signer.setUpProvider(keyStore);\n        String content = \"some bytes to be signed\";\n        byte[] signedBytes = signer.signPkcs7(content.getBytes(\"UTF-8\"), signatureGenerator);\n        System.out.println(\"Signed Encoded Bytes: \" + new String(Base64.encode(signedBytes)));\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1323763,"reputation":121,"user_id":1269042,"accept_rate":40,"display_name":"user1269042"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":28537,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":10718419,"answer_count":2,"score":12,"last_activity_date":1688983902,"creation_date":1337694547,"question_id":10703416,"body_markdown":"I want to sign a text file (may be a `.exe` file or something else in the future) \r\nusing PKCS#7 and verify the signature using Java.\r\n\r\n 1. What do I need to know?\r\n 2. Where will I find an API (`.jar` and documentation)?\r\n 3. What are the steps I need to follow in order to sign data and verify the data?\r\n \r\nPlease provide me code snippet if possible.\r\n\r\n","title":"Sign data using PKCS #7 in JAVA","body":"<p>I want to sign a text file (may be a <code>.exe</code> file or something else in the future) \nusing PKCS#7 and verify the signature using Java.</p>\n\n<ol>\n<li>What do I need to know?</li>\n<li>Where will I find an API (<code>.jar</code> and documentation)?</li>\n<li>What are the steps I need to follow in order to sign data and verify the data?</li>\n</ol>\n\n<p>Please provide me code snippet if possible.</p>\n"},{"tags":["java","performance"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":0,"creation_date":1688982306,"post_id":76652336,"comment_id":135143305,"body_markdown":"I reopened the question, because the [duplicated question](https://stackoverflow.com/questions/10576939/java-string-hashcode-caching) does not answer this particular question, which is about the use of the local variable `h`.","body":"I reopened the question, because the <a href=\"https://stackoverflow.com/questions/10576939/java-string-hashcode-caching\">duplicated question</a> does not answer this particular question, which is about the use of the local variable <code>h</code>."},{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":1,"creation_date":1688982991,"post_id":76652336,"comment_id":135143441,"body_markdown":"Well if there is an reassignment to the non-final field ```hash``` within the ```hashCode``` method, then String is not immutable enough. That&#39;s why they changed it.","body":"Well if there is an reassignment to the non-final field <code>hash</code> within the <code>hashCode</code> method, then String is not immutable enough. That&#39;s why they changed it."}],"answers":[{"tags":[],"owner":{"account_id":2163224,"reputation":6602,"user_id":1916917,"accept_rate":60,"display_name":"Holloway"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1688982550,"creation_date":1688982550,"answer_id":76652567,"question_id":76652336,"body_markdown":"The git blame for that method refers to [JDK-8166842](https://bugs.openjdk.org/browse/JDK-8166842).\r\n\r\nFrom that issue, the reasoning was \r\n\r\n&gt;Latest change to JDK 9 String code introduced a non-benign data race:\r\n&gt;\r\n&gt;```java\r\n&gt;public int hashCode() {\r\n&gt;    if (hash == 0 &amp;&amp; value.length &gt; 0) {\r\n&gt;        hash = isLatin1() ? StringLatin1.hashCode(value)\r\n&gt;                          : StringUTF16.hashCode(value);\r\n&gt;    }\r\n&gt;    return hash;\r\n&gt;}\r\n&gt;```\r\n&gt;The &#39;hash&#39; field should only be read once into a local variable. The second racy read (at return) can read 0 while the 1st (at if) can read non-zero. ","title":"Why is a local variable used in this String class method?","body":"<p>The git blame for that method refers to <a href=\"https://bugs.openjdk.org/browse/JDK-8166842\" rel=\"nofollow noreferrer\">JDK-8166842</a>.</p>\n<p>From that issue, the reasoning was</p>\n<blockquote>\n<p>Latest change to JDK 9 String code introduced a non-benign data race:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public int hashCode() {\n   if (hash == 0 &amp;&amp; value.length &gt; 0) {\n       hash = isLatin1() ? StringLatin1.hashCode(value)\n                         : StringUTF16.hashCode(value);\n   }\n   return hash;\n}\n</code></pre>\n<p>The 'hash' field should only be read once into a local variable. The second racy read (at return) can read 0 while the 1st (at if) can read non-zero.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":1881735,"reputation":7688,"user_id":1701776,"accept_rate":71,"display_name":"BambooleanLogic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688983778,"creation_date":1688983778,"answer_id":76652720,"question_id":76652336,"body_markdown":"While Holloway has answered the question itself, I&#39;d like to clear up a minor misconception.\r\n\r\n`String` is only immutable in the sense that it doesn&#39;t expose functionality for mutating it. However, it still does have an _internal_ mutable state, specifically the `hash` field.\r\n\r\nCalculating the hash of a `String` is a relatively simple O(n) operation. Not disastrous, but also not completely free, especially not for longer strings.\r\n\r\nSince strings are a fundamental part of almost all aspects of Java and used basically everywhere, including in Java-internal functionality, ensuring good performance for the implementation of `String` is critical. Even a minor inefficiency may be enormously multiplied simply from how incredibly often it gets run. As such, while the hash calculation isn&#39;t too bad, it&#39;s still something we&#39;d like to _not have to do_ unless it&#39;s absolutely necessary.\r\n\r\nNow, there are three ways we could go about calculating the hash:\r\n1. We calculate it every time `hashCode()` is called. In other words, we only calculate it when we need it. However, that also means we have to _recalculate_ it every single time it&#39;s needed. This would be disastrous for `HashMap` and similar.\r\n2. Calculate it _once_ when we create the string, then return the same value every time `hashCode()` is called. This makes `hashCode()` free, but makes the creation of a string more expensive for the situations where the hash isn&#39;t needed. Since _a lot_ of strings are constantly created in Java, that&#39;s a non-negligible.\r\n3. We do it _lazily_, i.e. we calculate it the first time `hashCode()` is called and then remember it for subsequent calls to `hashCode()`.\r\n\r\nThe latter option was chosen since it finds that sweet spot between &quot;don&#39;t calculate it unless you need it&quot; and &quot;don&#39;t calculate it more than once&quot;. This _does_ mean that `String` has a mutable state; it updates its internal cache of the hash code. However, from an outside observer, this effect is invisible (aside from the fact that the first call to `hashCode()` is slightly slower), meaning that the string is _effectively_ immutable.","title":"Why is a local variable used in this String class method?","body":"<p>While Holloway has answered the question itself, I'd like to clear up a minor misconception.</p>\n<p><code>String</code> is only immutable in the sense that it doesn't expose functionality for mutating it. However, it still does have an <em>internal</em> mutable state, specifically the <code>hash</code> field.</p>\n<p>Calculating the hash of a <code>String</code> is a relatively simple O(n) operation. Not disastrous, but also not completely free, especially not for longer strings.</p>\n<p>Since strings are a fundamental part of almost all aspects of Java and used basically everywhere, including in Java-internal functionality, ensuring good performance for the implementation of <code>String</code> is critical. Even a minor inefficiency may be enormously multiplied simply from how incredibly often it gets run. As such, while the hash calculation isn't too bad, it's still something we'd like to <em>not have to do</em> unless it's absolutely necessary.</p>\n<p>Now, there are three ways we could go about calculating the hash:</p>\n<ol>\n<li>We calculate it every time <code>hashCode()</code> is called. In other words, we only calculate it when we need it. However, that also means we have to <em>recalculate</em> it every single time it's needed. This would be disastrous for <code>HashMap</code> and similar.</li>\n<li>Calculate it <em>once</em> when we create the string, then return the same value every time <code>hashCode()</code> is called. This makes <code>hashCode()</code> free, but makes the creation of a string more expensive for the situations where the hash isn't needed. Since <em>a lot</em> of strings are constantly created in Java, that's a non-negligible.</li>\n<li>We do it <em>lazily</em>, i.e. we calculate it the first time <code>hashCode()</code> is called and then remember it for subsequent calls to <code>hashCode()</code>.</li>\n</ol>\n<p>The latter option was chosen since it finds that sweet spot between &quot;don't calculate it unless you need it&quot; and &quot;don't calculate it more than once&quot;. This <em>does</em> mean that <code>String</code> has a mutable state; it updates its internal cache of the hash code. However, from an outside observer, this effect is invisible (aside from the fact that the first call to <code>hashCode()</code> is slightly slower), meaning that the string is <em>effectively</em> immutable.</p>\n"}],"owner":{"account_id":24179349,"reputation":13,"user_id":18140249,"display_name":"Massimiliano Micol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76652567,"answer_count":2,"score":1,"last_activity_date":1688983778,"creation_date":1688980600,"question_id":76652336,"body_markdown":"In the [Java 11 String&#39;s hashCode](https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/String.java#L1501-L1508) method a local integer variable &quot;h&quot; is used to store the hash field&#39;s value.\r\n\r\nIs this done for performance reasons, or a mere stylistic choice? [An answer to a similar question](https://stackoverflow.com/a/67098831/18140249) says it&#39;s for thread safety, but Strings are immutable so it doesn&#39;t seem the case","title":"Why is a local variable used in this String class method?","body":"<p>In the <a href=\"https://github.com/AdoptOpenJDK/openjdk-jdk11/blob/master/src/java.base/share/classes/java/lang/String.java#L1501-L1508\" rel=\"nofollow noreferrer\">Java 11 String's hashCode</a> method a local integer variable &quot;h&quot; is used to store the hash field's value.</p>\n<p>Is this done for performance reasons, or a mere stylistic choice? <a href=\"https://stackoverflow.com/a/67098831/18140249\">An answer to a similar question</a> says it's for thread safety, but Strings are immutable so it doesn't seem the case</p>\n"},{"tags":["java","apache-poi"],"comments":[{"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"score":0,"creation_date":1571802113,"post_id":58486298,"comment_id":103357065,"body_markdown":"This depends on the `String url` given in your code. If that is a relative `URI` then that URI is relative to the Word document file. If that is not wanted a complete `URI` (`file://...`) must be given.","body":"This depends on the <code>String url</code> given in your code. If that is a relative <code>URI</code> then that URI is relative to the Word document file. If that is not wanted a complete <code>URI</code> (<code>file:&#47;&#47;...</code>) must be given."},{"owner":{"account_id":10729603,"reputation":1,"user_id":7896122,"display_name":"Gorilla"},"score":0,"creation_date":1574178247,"post_id":58486298,"comment_id":104134226,"body_markdown":"it is a plain url ([https://.....]). \nThe problem is, that, if I add a hyperlink from within Word, it is added normally in the given format - [url]. However, when I do it with the code snippet above, I end up with [local path of the file]/[url], which I believe causes my problem. Any suggestions?","body":"it is a plain url ([https://.....]).  The problem is, that, if I add a hyperlink from within Word, it is added normally in the given format - [url]. However, when I do it with the code snippet above, I end up with [local path of the file]/[url], which I believe causes my problem. Any suggestions?"}],"owner":{"account_id":10729603,"reputation":1,"user_id":7896122,"display_name":"Gorilla"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":137,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688983756,"creation_date":1571660835,"question_id":58486298,"body_markdown":"I needed to append an external url in a word document with Apache POI. I found and used the following code: https://stackoverflow.com/a/22456273/7896122\r\n\r\nHowever, there the link is unopenable on some machines, and I suppose it is because it is written in the format: `[local path of the file]/[url]`, while I only need it like `[url]`.\r\n\r\nThis is happening somewhere within this method, but I don&#39;t have that advanced knowledge of Apache POI, to understand what exactly I need to change:\r\n\r\n```java\r\nprivate static void appendExternalHyperlink(String url, String text, XWPFParagraph paragraph) {\t\r\n\r\n   // Add the link as External relationship\r\n\tString id = paragraph.getDocument().getPackagePart()\r\n\t\t\t.addExternalRelationship(url, XWPFRelation.HYPERLINK.getRelation()).getId();\r\n\r\n\t// Append the link and bind it to the relationship\r\n\tCTHyperlink cLink = paragraph.getCTP().addNewHyperlink();\r\n\tcLink.setId(id);\r\n\r\n\t// Create the linked text\r\n\tCTText ctText = CTText.Factory.newInstance();\r\n\tctText.setStringValue(text);\r\n\tCTR ctr = CTR.Factory.newInstance();\r\n\tctr.setTArray(new CTText[] { ctText });\r\n\r\n\t// Insert the linked text into the link\r\n\tcLink.setRArray(new CTR[] { ctr });\r\n}\r\n```\r\n","title":"XWPFDocument - External hyperlink creation - path shows as &quot;localpath+url&quot; I only need it written as &quot;url&quot;","body":"<p>I needed to append an external url in a word document with Apache POI. I found and used the following code: <a href=\"https://stackoverflow.com/a/22456273/7896122\">https://stackoverflow.com/a/22456273/7896122</a></p>\n\n<p>However, there the link is unopenable on some machines, and I suppose it is because it is written in the format: <code>[local path of the file]/[url]</code>, while I only need it like <code>[url]</code>.</p>\n\n<p>This is happening somewhere within this method, but I don't have that advanced knowledge of Apache POI, to understand what exactly I need to change:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static void appendExternalHyperlink(String url, String text, XWPFParagraph paragraph) { \n\n   // Add the link as External relationship\n    String id = paragraph.getDocument().getPackagePart()\n            .addExternalRelationship(url, XWPFRelation.HYPERLINK.getRelation()).getId();\n\n    // Append the link and bind it to the relationship\n    CTHyperlink cLink = paragraph.getCTP().addNewHyperlink();\n    cLink.setId(id);\n\n    // Create the linked text\n    CTText ctText = CTText.Factory.newInstance();\n    ctText.setStringValue(text);\n    CTR ctr = CTR.Factory.newInstance();\n    ctr.setTArray(new CTText[] { ctText });\n\n    // Insert the linked text into the link\n    cLink.setRArray(new CTR[] { ctr });\n}\n</code></pre>\n"},{"tags":["java","spring-boot","mocking","wiremock","stubbing"],"answers":[{"tags":[],"owner":{"account_id":22581348,"reputation":113,"user_id":16765942,"display_name":"Gabriela83"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1688983475,"creation_date":1673949902,"answer_id":75144784,"question_id":75143658,"body_markdown":"I managed to find a solution by doing this:\r\nI attributed a UUID to the stub \r\n```\r\nstubFor(post(urlPathEqualTo(getUploadEndpoint())).willReturn(aResponse().withStatus(HttpStatus.OK.value()))).withId(java.util.UUID.fromString(UUID)));\r\n```\r\n\r\nand I gathered all serve events happening on this particular endpoint\r\n\r\n```\r\nList&lt;ServeEvent&gt; allServeEvents = getAllServeEvents(ServeEventQuery.forStubMapping(java.util.UUID.fromString(UUID)));\r\n// this list should contain one stub only\r\nassertThat(allServeEvents).hasSize(1);\r\nServeEvent request = allServeEvents.get(0);\r\nString body = request .getRequest().getBodyAsString();\r\n```\r\n\r\nThen I used XMLUnit to assert this body. Seems to do the job, but I&#39;m open to any other solutions if available.\r\n\r\n","title":"How to capture the body of a request that was stubbed with Wiremock","body":"<p>I managed to find a solution by doing this:\nI attributed a UUID to the stub</p>\n<pre><code>stubFor(post(urlPathEqualTo(getUploadEndpoint())).willReturn(aResponse().withStatus(HttpStatus.OK.value()))).withId(java.util.UUID.fromString(UUID)));\n</code></pre>\n<p>and I gathered all serve events happening on this particular endpoint</p>\n<pre><code>List&lt;ServeEvent&gt; allServeEvents = getAllServeEvents(ServeEventQuery.forStubMapping(java.util.UUID.fromString(UUID)));\n// this list should contain one stub only\nassertThat(allServeEvents).hasSize(1);\nServeEvent request = allServeEvents.get(0);\nString body = request .getRequest().getBodyAsString();\n</code></pre>\n<p>Then I used XMLUnit to assert this body. Seems to do the job, but I'm open to any other solutions if available.</p>\n"},{"tags":[],"owner":{"account_id":480519,"reputation":1382,"user_id":1423361,"accept_rate":100,"display_name":"Robert Elliot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673970902,"creation_date":1673966588,"answer_id":75148106,"question_id":75143658,"body_markdown":"You can use the API to [verify that a request was made with the expected body][0].\r\n\r\n```java\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.*\r\n\r\nverify(\r\n    postRequestedFor(urlEqualTo(getUploadEndpoint()))\r\n        .withRequestBody(matchingXPath(&quot;your xpath here&quot;))\r\n);\r\n```\r\n\r\nSee [WireMock / Request Matching / XPath][1] for examples of XPath matching.\r\n\r\n\r\n[0]: https://wiremock.org/docs/verifying/\r\n[1]: https://wiremock.org/docs/request-matching/#:~:text=CHILD_NODELIST_LENGTH%20CHILD_LOOKUP%20ATTR_NAME_LOOKUP-,XPath,-Deems%20a%20match","title":"How to capture the body of a request that was stubbed with Wiremock","body":"<p>You can use the API to <a href=\"https://wiremock.org/docs/verifying/\" rel=\"nofollow noreferrer\">verify that a request was made with the expected body</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static com.github.tomakehurst.wiremock.client.WireMock.*\n\nverify(\n    postRequestedFor(urlEqualTo(getUploadEndpoint()))\n        .withRequestBody(matchingXPath(&quot;your xpath here&quot;))\n);\n</code></pre>\n<p>See <a href=\"https://wiremock.org/docs/request-matching/#:%7E:text=CHILD_NODELIST_LENGTH%20CHILD_LOOKUP%20ATTR_NAME_LOOKUP-,XPath,-Deems%20a%20match\" rel=\"nofollow noreferrer\">WireMock / Request Matching / XPath</a> for examples of XPath matching.</p>\n"},{"tags":[],"owner":{"account_id":480519,"reputation":1382,"user_id":1423361,"accept_rate":100,"display_name":"Robert Elliot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1673970877,"creation_date":1673970877,"answer_id":75149002,"question_id":75143658,"body_markdown":"Alternatively, you can use the API to find requests that match a predicate:\r\n```java\r\nimport static com.github.tomakehurst.wiremock.client.WireMock.*;\r\n\r\nList&lt;LoggedRequest&gt; requests = findAll(\r\n    postRequestedFor(urlEqualTo(getUploadEndpoint()))\r\n        .withRequestBody(matchingXPath(&quot;your xpath here&quot;))\r\n);\r\n```\r\n\r\nThen you can assert whatever you want about the matched requests.","title":"How to capture the body of a request that was stubbed with Wiremock","body":"<p>Alternatively, you can use the API to find requests that match a predicate:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import static com.github.tomakehurst.wiremock.client.WireMock.*;\n\nList&lt;LoggedRequest&gt; requests = findAll(\n    postRequestedFor(urlEqualTo(getUploadEndpoint()))\n        .withRequestBody(matchingXPath(&quot;your xpath here&quot;))\n);\n</code></pre>\n<p>Then you can assert whatever you want about the matched requests.</p>\n"},{"tags":[],"owner":{"account_id":3056393,"reputation":127,"user_id":2589891,"display_name":"Vijay Kesanupalli"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685118243,"creation_date":1685118243,"answer_id":76342688,"question_id":75143658,"body_markdown":"I tried like below\r\n\r\n    return stubFor(post(uri)\r\n                    .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;))\r\n                    .withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\r\n                    .withRequestBody(WireMock.equalToJson(requestPayload))\r\n                    .willReturn(WireMock.aResponse()\r\n                            .withStatus(HttpStatus.OK.value())\r\n                            .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\r\n                            .withBody(response))).toString();","title":"How to capture the body of a request that was stubbed with Wiremock","body":"<p>I tried like below</p>\n<pre><code>return stubFor(post(uri)\n                .withHeader(&quot;Content-Type&quot;, equalTo(&quot;application/json&quot;))\n                .withHeader(&quot;Accept&quot;, equalTo(&quot;application/json&quot;))\n                .withRequestBody(WireMock.equalToJson(requestPayload))\n                .willReturn(WireMock.aResponse()\n                        .withStatus(HttpStatus.OK.value())\n                        .withHeader(&quot;Content-Type&quot;, MediaType.APPLICATION_JSON_VALUE)\n                        .withBody(response))).toString();\n</code></pre>\n"}],"owner":{"account_id":22581348,"reputation":113,"user_id":16765942,"display_name":"Gabriela83"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3107,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":75144784,"answer_count":4,"score":3,"last_activity_date":1688983475,"creation_date":1673944163,"question_id":75143658,"body_markdown":"Is there a way to capture the body of a post request that was stubbed with wiremock? I&#39;m looking for something similar to Mockito&#39;s `ArgumentCaptor`.\r\n\r\nI have the following stub:\r\n\r\n```\r\nstubFor(post(urlPathEqualTo(getUploadEndpoint())).willReturn(().withStatus(HttpStatus.OK.value())));\r\n```\r\n\r\nI want to be able to see how the actual request was performed, get its body and assert it.\r\n\r\nI have tried by using `.withRequestBody(equalToXml(...))` in the stub, since the body is the String representation of an XML. This does not work for me, because `equalToXml` is too strict, not allowing free text without surrounding tags for example.","title":"How to capture the body of a request that was stubbed with Wiremock","body":"<p>Is there a way to capture the body of a post request that was stubbed with wiremock? I'm looking for something similar to Mockito's <code>ArgumentCaptor</code>.</p>\n<p>I have the following stub:</p>\n<pre><code>stubFor(post(urlPathEqualTo(getUploadEndpoint())).willReturn(().withStatus(HttpStatus.OK.value())));\n</code></pre>\n<p>I want to be able to see how the actual request was performed, get its body and assert it.</p>\n<p>I have tried by using <code>.withRequestBody(equalToXml(...))</code> in the stub, since the body is the String representation of an XML. This does not work for me, because <code>equalToXml</code> is too strict, not allowing free text without surrounding tags for example.</p>\n"},{"tags":["java","counter","open-telemetry","open-telemetry-collector"],"comments":[{"owner":{"account_id":3053597,"reputation":580,"user_id":2587704,"accept_rate":50,"display_name":"JackB"},"score":0,"creation_date":1689007262,"post_id":76652117,"comment_id":135149166,"body_markdown":"As mentioned by Gregor, it is possible to close async instruments. However, its not currently possible for synchronous instruments. See this issue for more details: https://github.com/open-telemetry/opentelemetry-specification/issues/2232","body":"As mentioned by Gregor, it is possible to close async instruments. However, its not currently possible for synchronous instruments. See this issue for more details: <a href=\"https://github.com/open-telemetry/opentelemetry-specification/issues/2232\" rel=\"nofollow noreferrer\">github.com/open-telemetry/opentelemetry-specification/issues&zwnj;&#8203;/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":3528320,"reputation":301,"user_id":2948740,"display_name":"Gregor Zeitlinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688983375,"creation_date":1688983375,"answer_id":76652679,"question_id":76652117,"body_markdown":"Each OpenTelemetry metric (except histogram) has an async variant, which has a `close()` method that stops the metric.\r\n\r\nHere&#39;s an example:\r\n\r\n```java\r\nmeter.counterBuilder(METRIC_NAME_UNLOADED)\r\n     .setDescription(METRIC_DESCRIPTION_UNLOADED)\r\n     .setUnit(Constants.UNIT_CLASSES)\r\n     .buildWithCallback(measurement -&gt; measurement.record(unloaded))\r\n```","title":"How to &quot;close&quot; or &quot;destroy&quot; a specific counter in Opentelemetry?","body":"<p>Each OpenTelemetry metric (except histogram) has an async variant, which has a <code>close()</code> method that stops the metric.</p>\n<p>Here's an example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>meter.counterBuilder(METRIC_NAME_UNLOADED)\n     .setDescription(METRIC_DESCRIPTION_UNLOADED)\n     .setUnit(Constants.UNIT_CLASSES)\n     .buildWithCallback(measurement -&gt; measurement.record(unloaded))\n</code></pre>\n"}],"owner":{"account_id":28939040,"reputation":1,"user_id":22165951,"display_name":"Vasu. Tk"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688983375,"creation_date":1688978726,"question_id":76652117,"body_markdown":"I&#39;m trying to close or destroy the specific counter which is exported to Prometheus.\r\n\r\nFor eg:- \r\nIf we have two counters and exporting the counter values in the prometheus but i need to destroy one of the counter instead of shut downing the whole SDK ( openTelemetrySdk.shutdown()).\r\nCan we stop the reporting of specific metrics, including counters.\r\n\r\n         Meter sampleMeter = openTelemetry.getMeter(&quot;io.opentelemetry.example.metrics&quot;);\r\n          LongCounter counter = sampleMeter.counterBuilder(&quot;example.counter.sampleMeter&quot;).build();\r\n          LongUpDownCounter counter2 = sampleMeter.upDownCounterBuilder(&quot;example.second.counter.sampleMeter&quot;).build();\r\n          counter.add(1);\r\n          counter2.add(1);\r\n     \r\nIs there any ways to use the metrics registry in Opentelemetry like how we use it in the dropwizard-metrics?\r\nSo that i can register or deregister the metrics and keep only the required metrics data.\r\nhttps://www.baeldung.com/dropwizard-metrics#2-metricregistry  ","title":"How to &quot;close&quot; or &quot;destroy&quot; a specific counter in Opentelemetry?","body":"<p>I'm trying to close or destroy the specific counter which is exported to Prometheus.</p>\n<p>For eg:-\nIf we have two counters and exporting the counter values in the prometheus but i need to destroy one of the counter instead of shut downing the whole SDK ( openTelemetrySdk.shutdown()).\nCan we stop the reporting of specific metrics, including counters.</p>\n<pre><code>     Meter sampleMeter = openTelemetry.getMeter(&quot;io.opentelemetry.example.metrics&quot;);\n      LongCounter counter = sampleMeter.counterBuilder(&quot;example.counter.sampleMeter&quot;).build();\n      LongUpDownCounter counter2 = sampleMeter.upDownCounterBuilder(&quot;example.second.counter.sampleMeter&quot;).build();\n      counter.add(1);\n      counter2.add(1);\n \n</code></pre>\n<p>Is there any ways to use the metrics registry in Opentelemetry like how we use it in the dropwizard-metrics?\nSo that i can register or deregister the metrics and keep only the required metrics data.\n<a href=\"https://www.baeldung.com/dropwizard-metrics#2-metricregistry\" rel=\"nofollow noreferrer\">https://www.baeldung.com/dropwizard-metrics#2-metricregistry</a></p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1596810764,"post_id":63303632,"comment_id":111939287,"body_markdown":"UserAndFoodMapper is 1) an interface and 2) not a spring bean. Where is the implementation?","body":"UserAndFoodMapper is 1) an interface and 2) not a spring bean. Where is the implementation?"},{"owner":{"account_id":18091768,"reputation":395,"user_id":13151092,"display_name":"emretosunkaya"},"score":1,"creation_date":1596811063,"post_id":63303632,"comment_id":111939409,"body_markdown":"@SimonMartinelli impl file is generated by spring. There was 2 files, usermapper and foodmapper, here is the screenshot (i cant show current one cuz of not building) https://i.ibb.co/NrqtkYh/image.png","body":"@SimonMartinelli impl file is generated by spring. There was 2 files, usermapper and foodmapper, here is the screenshot (i cant show current one cuz of not building) <a href=\"https://i.ibb.co/NrqtkYh/image.png\" rel=\"nofollow noreferrer\">i.ibb.co/NrqtkYh/image.png</a>"},{"owner":{"account_id":5268074,"reputation":17816,"user_id":4207306,"display_name":"Eklavya"},"score":0,"creation_date":1596811892,"post_id":63303632,"comment_id":111939778,"body_markdown":"Are you using `MapStruct` ?","body":"Are you using <code>MapStruct</code> ?"},{"owner":{"account_id":8021623,"reputation":515,"user_id":6050113,"display_name":"Nasibulloh Yandashev"},"score":0,"creation_date":1596816194,"post_id":63303632,"comment_id":111941760,"body_markdown":"Is there only `UserAndFoodMapper ` not loaded? Or all mappers?","body":"Is there only <code>UserAndFoodMapper </code> not loaded? Or all mappers?"},{"owner":{"account_id":18091768,"reputation":395,"user_id":13151092,"display_name":"emretosunkaya"},"score":1,"creation_date":1596823749,"post_id":63303632,"comment_id":111944910,"body_markdown":"yes mapstruct @User-Upvotedon&#39;tsayThanks","body":"yes mapstruct @User-Upvotedon&#39;tsayThanks"},{"owner":{"account_id":18091768,"reputation":395,"user_id":13151092,"display_name":"emretosunkaya"},"score":1,"creation_date":1596823767,"post_id":63303632,"comment_id":111944919,"body_markdown":"@NasibullohYandashev yes there is one mapper for 2 entity. usermapper was working. then i added food entity and foodmapper then it broke. so i merged to one file according to my readings. now asks for bean.","body":"@NasibullohYandashev yes there is one mapper for 2 entity. usermapper was working. then i added food entity and foodmapper then it broke. so i merged to one file according to my readings. now asks for bean."},{"owner":{"account_id":18091768,"reputation":395,"user_id":13151092,"display_name":"emretosunkaya"},"score":1,"creation_date":1597061832,"post_id":63303632,"comment_id":112002060,"body_markdown":"so no one help?","body":"so no one help?"},{"owner":{"account_id":11424364,"reputation":539,"user_id":8374909,"display_name":"Clover"},"score":0,"creation_date":1688977752,"post_id":63303632,"comment_id":135142365,"body_markdown":"where you able to resolve the issue @emretosunkaya","body":"where you able to resolve the issue @emretosunkaya"}],"answers":[{"tags":[],"owner":{"account_id":27899177,"reputation":1,"user_id":21303826,"display_name":"Aliagha Aghayev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1677582364,"creation_date":1677582364,"answer_id":75591172,"question_id":63303632,"body_markdown":"Add @Component annotation to mapper class.","title":"Spring Boot, Parameter 1 of constructor in ...Service required a bean of type &#39;...Mapper&#39; that could not be found","body":"<p>Add @Component annotation to mapper class.</p>\n"},{"tags":[],"owner":{"account_id":23245629,"reputation":1,"user_id":17334257,"display_name":"&#214;zlem Yılmaz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684933939,"creation_date":1684933939,"answer_id":76323929,"question_id":63303632,"body_markdown":"You can add mapStruct processor to your pom.xml\r\n\r\n\r\n\r\n","title":"Spring Boot, Parameter 1 of constructor in ...Service required a bean of type &#39;...Mapper&#39; that could not be found","body":"<p>You can add mapStruct processor to your pom.xml</p>\n"},{"tags":[],"owner":{"account_id":11424364,"reputation":539,"user_id":8374909,"display_name":"Clover"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688982993,"creation_date":1688982993,"answer_id":76652633,"question_id":63303632,"body_markdown":"upon adding these dependencies, i was able to resolve the issue.\r\n\r\n    &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-processor --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\r\n        &lt;version&gt;1.5.5.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nInstead of mapstruct-processor dependency, we can go with the plugin as mentioned [here.][1]\r\n\r\nHope it helps.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/65922885/8374909","title":"Spring Boot, Parameter 1 of constructor in ...Service required a bean of type &#39;...Mapper&#39; that could not be found","body":"<p>upon adding these dependencies, i was able to resolve the issue.</p>\n<pre><code>&lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct-processor --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n    &lt;version&gt;1.5.5.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;!-- https://mvnrepository.com/artifact/org.mapstruct/mapstruct --&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct&lt;/artifactId&gt;\n    &lt;version&gt;1.5.5.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Instead of mapstruct-processor dependency, we can go with the plugin as mentioned <a href=\"https://stackoverflow.com/a/65922885/8374909\">here.</a></p>\n<p>Hope it helps.</p>\n"}],"owner":{"account_id":18091768,"reputation":395,"user_id":13151092,"display_name":"emretosunkaya"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2815,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1688982993,"creation_date":1596809773,"question_id":63303632,"body_markdown":"I&#39;m getting **bean** not found error on Mapper. It was working for just user entity, then i added food entity (all same as user) now it shows error.\r\n\r\n**Description:**\r\n\r\nParameter 1 of constructor in com.example.springmysqlelastic.service.impl.FoodService required a bean of type &#39;com.example.springmysqlelastic.mapper.UserAndFoodMapper&#39; that could not be found.\r\n\r\n\r\n**Action:**\r\n\r\nConsider defining a bean of type &#39;com.example.springmysqlelastic.mapper.UserAndFoodMapper&#39; in your configuration.\r\n\r\n**UserAndFoodMapper.java**\r\n\r\n    package com.example.springmysqlelastic.mapper;\r\n    \r\n    import com.example.springmysqlelastic.model.Food;\r\n    import com.example.springmysqlelastic.model.FoodModel;\r\n    import com.example.springmysqlelastic.model.User;\r\n    import com.example.springmysqlelastic.model.UserModel;\r\n    import com.example.springmysqlelastic.model.dto.FoodDTO;\r\n    import com.example.springmysqlelastic.model.dto.UserDTO;\r\n    import org.mapstruct.Mapper;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Mapper(componentModel = &quot;spring&quot;)\r\n    public interface UserAndFoodMapper {\r\n    \r\n        UserDTO toUserDTO(User user);\r\n    \r\n        List&lt;UserDTO&gt; toUserDtos(List&lt;User&gt; users);\r\n    \r\n        User toUser(UserDTO userDTO);\r\n    \r\n        List&lt;User&gt; toUsers(List&lt;UserDTO&gt; userDTOS);\r\n    \r\n        UserModel toUserModel(User user);\r\n    \r\n        FoodDTO toFoodDTO(Food food);\r\n    \r\n        List&lt;FoodDTO&gt; toFoodDtos(List&lt;Food&gt; foods);\r\n    \r\n        Food toFood(FoodDTO foodDTO);\r\n    \r\n        List&lt;Food&gt; toFoods(List&lt;FoodDTO&gt; foodDTOS);\r\n    \r\n        FoodModel toFoodModel(Food food);\r\n    }\r\n\r\n**FoodService.java**\r\n\r\n    package com.example.springmysqlelastic.service.impl;\r\n    \r\n    import com.example.springmysqlelastic.mapper.FoodMapper;\r\n    import com.example.springmysqlelastic.mapper.UserAndFoodMapper;\r\n    import com.example.springmysqlelastic.model.Food;\r\n    import com.example.springmysqlelastic.model.dto.FoodDTO;\r\n    import com.example.springmysqlelastic.repo.IFoodDAO;\r\n    import com.example.springmysqlelastic.service.IFoodService;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.util.List;\r\n    \r\n    @Service\r\n    public class FoodService implements IFoodService {\r\n    \r\n        private IFoodDAO foodDAO;\r\n        private UserAndFoodMapper foodMapper;\r\n        //private final FoodMapper foodMapper;\r\n        \r\n        @Autowired\r\n        public FoodService(IFoodDAO foodDAO, UserAndFoodMapper foodMapper) {\r\n            this.foodDAO = foodDAO;\r\n            this.foodMapper = foodMapper;\r\n        }\r\n    \r\n    \r\n        @Override\r\n        public FoodDTO save(FoodDTO foodDTO) {\r\n            Food food = this.foodDAO.save(this.foodMapper.toFood(foodDTO));\r\n            return this.foodMapper.toFoodDTO(food);\r\n        }\r\n    \r\n        @Override\r\n        public FoodDTO findById(Long id) {\r\n            return this.foodMapper.toFoodDTO(this.foodDAO.findById(id).orElse(null));\r\n        }\r\n    \r\n        @Override\r\n        public List&lt;FoodDTO&gt; findAll() {\r\n            return this.foodMapper.toFoodDtos(this.foodDAO.findAll());\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"Spring Boot, Parameter 1 of constructor in ...Service required a bean of type &#39;...Mapper&#39; that could not be found","body":"<p>I'm getting <strong>bean</strong> not found error on Mapper. It was working for just user entity, then i added food entity (all same as user) now it shows error.</p>\n<p><strong>Description:</strong></p>\n<p>Parameter 1 of constructor in com.example.springmysqlelastic.service.impl.FoodService required a bean of type 'com.example.springmysqlelastic.mapper.UserAndFoodMapper' that could not be found.</p>\n<p><strong>Action:</strong></p>\n<p>Consider defining a bean of type 'com.example.springmysqlelastic.mapper.UserAndFoodMapper' in your configuration.</p>\n<p><strong>UserAndFoodMapper.java</strong></p>\n<pre><code>package com.example.springmysqlelastic.mapper;\n\nimport com.example.springmysqlelastic.model.Food;\nimport com.example.springmysqlelastic.model.FoodModel;\nimport com.example.springmysqlelastic.model.User;\nimport com.example.springmysqlelastic.model.UserModel;\nimport com.example.springmysqlelastic.model.dto.FoodDTO;\nimport com.example.springmysqlelastic.model.dto.UserDTO;\nimport org.mapstruct.Mapper;\n\nimport java.util.List;\n\n@Mapper(componentModel = &quot;spring&quot;)\npublic interface UserAndFoodMapper {\n\n    UserDTO toUserDTO(User user);\n\n    List&lt;UserDTO&gt; toUserDtos(List&lt;User&gt; users);\n\n    User toUser(UserDTO userDTO);\n\n    List&lt;User&gt; toUsers(List&lt;UserDTO&gt; userDTOS);\n\n    UserModel toUserModel(User user);\n\n    FoodDTO toFoodDTO(Food food);\n\n    List&lt;FoodDTO&gt; toFoodDtos(List&lt;Food&gt; foods);\n\n    Food toFood(FoodDTO foodDTO);\n\n    List&lt;Food&gt; toFoods(List&lt;FoodDTO&gt; foodDTOS);\n\n    FoodModel toFoodModel(Food food);\n}\n</code></pre>\n<p><strong>FoodService.java</strong></p>\n<pre><code>package com.example.springmysqlelastic.service.impl;\n\nimport com.example.springmysqlelastic.mapper.FoodMapper;\nimport com.example.springmysqlelastic.mapper.UserAndFoodMapper;\nimport com.example.springmysqlelastic.model.Food;\nimport com.example.springmysqlelastic.model.dto.FoodDTO;\nimport com.example.springmysqlelastic.repo.IFoodDAO;\nimport com.example.springmysqlelastic.service.IFoodService;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\n\nimport java.util.List;\n\n@Service\npublic class FoodService implements IFoodService {\n\n    private IFoodDAO foodDAO;\n    private UserAndFoodMapper foodMapper;\n    //private final FoodMapper foodMapper;\n    \n    @Autowired\n    public FoodService(IFoodDAO foodDAO, UserAndFoodMapper foodMapper) {\n        this.foodDAO = foodDAO;\n        this.foodMapper = foodMapper;\n    }\n\n\n    @Override\n    public FoodDTO save(FoodDTO foodDTO) {\n        Food food = this.foodDAO.save(this.foodMapper.toFood(foodDTO));\n        return this.foodMapper.toFoodDTO(food);\n    }\n\n    @Override\n    public FoodDTO findById(Long id) {\n        return this.foodMapper.toFoodDTO(this.foodDAO.findById(id).orElse(null));\n    }\n\n    @Override\n    public List&lt;FoodDTO&gt; findAll() {\n        return this.foodMapper.toFoodDtos(this.foodDAO.findAll());\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","sql-server","jdbc","mssql-jdbc"],"comments":[{"owner":{"account_id":87845,"reputation":15821,"user_id":243373,"accept_rate":100,"display_name":"TT."},"score":0,"creation_date":1688632316,"post_id":76626783,"comment_id":135100588,"body_markdown":"It may be weird, but you&#39;ll have to get all result sets for the errors to trigger. I&#39;m personally not a fan of how this works because you&#39;re not getting all exceptions in all cases (meaning, all execute methods).","body":"It may be weird, but you&#39;ll have to get all result sets for the errors to trigger. I&#39;m personally not a fan of how this works because you&#39;re not getting all exceptions in all cases (meaning, all execute methods)."},{"owner":{"account_id":17972905,"reputation":5290,"user_id":13061224,"display_name":"siggemannen"},"score":0,"creation_date":1688633150,"post_id":76626783,"comment_id":135100770,"body_markdown":"the sql server handling is a bit weird, sometimes errors are attached to the resultsets. if you do   if (result)\n        {\n            ResultSet rs = s.getResultSet();\n        }\n        else if (s.getUpdateCount() != -1)\n        {\n            boolean b = s.getMoreResults();\n            if (b)\n            {\n                System.out.println(&quot;has results&quot;);\n            }\n\n        }","body":"the sql server handling is a bit weird, sometimes errors are attached to the resultsets. if you do   if (result)         {             ResultSet rs = s.getResultSet();         }         else if (s.getUpdateCount() != -1)         {             boolean b = s.getMoreResults();             if (b)             {                 System.out.println(&quot;has results&quot;);             }          }"}],"answers":[{"tags":[],"owner":{"account_id":13548231,"reputation":631,"user_id":9773847,"display_name":"Nyamkhuu Buyanjargal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688635289,"creation_date":1688632392,"answer_id":76626953,"question_id":76626783,"body_markdown":"If you want to execute multiple queries, you can use batch method like this:\r\n\r\n    ...\r\n                // Step 1: create statement object from connection\r\n                Statement s = con.createStatement();\r\n               \r\n                // Step 2: Create a statement / create table\r\n                String sql1\r\n                    = &quot;CREATE TABLE STUDENT(STUDENTID VARCHAR2(10) PRIMARY KEY,NAME VARCHAR2(20),DEPARTMENT VARCHAR2(10))&quot;;\r\n     \r\n                // Step 3: Process a query\r\n                // Insert records in the table\r\n                String sql2\r\n                    = &quot;INSERT INTO STUDENT VALUES(&#39;S101&#39;,&#39;JEAN&#39;,&#39;CSE&#39;)&quot;;\r\n                String sql3\r\n                    = &quot;INSERT INTO STUDENT VALUES(&#39;S102&#39;,&#39;ANA&#39;,&#39;CSE&#39;)&quot;;\r\n                String sql4\r\n                    = &quot;INSERT INTO STUDENT VALUES(&#39;S103&#39;,&#39;ROBERT&#39;,&#39;ECE&#39;)&quot;;\r\n                String sql5\r\n                    = &quot;INSERT INTO STUDENT VALUES(&#39;S104&#39;,&#39;ALEX&#39;,&#39;IT&#39;)&quot;;\r\n                String sql6\r\n                    = &quot;INSERT INTO STUDENT VALUES(&#39;S105&#39;,&#39;DIANA&#39;,&#39;IT&#39;)&quot;;\r\n                s.addBatch(sql1);\r\n                s.addBatch(sql2);\r\n                s.addBatch(sql3);\r\n                s.addBatch(sql4);\r\n                s.addBatch(sql5);\r\n                s.addBatch(sql6);\r\n     \r\n                // Step 4: Process the results\r\n                // execute the sql statements\r\n                s.executeBatch();\r\n    ...","title":"Mssql driver does not report error/exception when using Statement.execute() command","body":"<p>If you want to execute multiple queries, you can use batch method like this:</p>\n<pre><code>...\n            // Step 1: create statement object from connection\n            Statement s = con.createStatement();\n           \n            // Step 2: Create a statement / create table\n            String sql1\n                = &quot;CREATE TABLE STUDENT(STUDENTID VARCHAR2(10) PRIMARY KEY,NAME VARCHAR2(20),DEPARTMENT VARCHAR2(10))&quot;;\n \n            // Step 3: Process a query\n            // Insert records in the table\n            String sql2\n                = &quot;INSERT INTO STUDENT VALUES('S101','JEAN','CSE')&quot;;\n            String sql3\n                = &quot;INSERT INTO STUDENT VALUES('S102','ANA','CSE')&quot;;\n            String sql4\n                = &quot;INSERT INTO STUDENT VALUES('S103','ROBERT','ECE')&quot;;\n            String sql5\n                = &quot;INSERT INTO STUDENT VALUES('S104','ALEX','IT')&quot;;\n            String sql6\n                = &quot;INSERT INTO STUDENT VALUES('S105','DIANA','IT')&quot;;\n            s.addBatch(sql1);\n            s.addBatch(sql2);\n            s.addBatch(sql3);\n            s.addBatch(sql4);\n            s.addBatch(sql5);\n            s.addBatch(sql6);\n \n            // Step 4: Process the results\n            // execute the sql statements\n            s.executeBatch();\n...\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1688982842,"creation_date":1688637513,"answer_id":76627640,"question_id":76626783,"body_markdown":"I think you should print out **your Boolean result for execute** execute(string) returns a Boolean which I believe will most likely be false!\r\n\r\n**The executeQuery(string) must return a &quot;ResultSet&quot;**, so it would throw exception because that is not the type of statement to use in executeQuery.\r\n\r\nAny errors of SQL code execution belong to the SQL server, the Java only is reporting the outcome by particular tools it has to check the final outcome such as error code numbers, however, some interaction through the connector is monitored and will assert error as exception as the API docs generally define will occur with particular methods.","title":"Mssql driver does not report error/exception when using Statement.execute() command","body":"<p>I think you should print out <strong>your Boolean result for execute</strong> execute(string) returns a Boolean which I believe will most likely be false!</p>\n<p><strong>The executeQuery(string) must return a &quot;ResultSet&quot;</strong>, so it would throw exception because that is not the type of statement to use in executeQuery.</p>\n<p>Any errors of SQL code execution belong to the SQL server, the Java only is reporting the outcome by particular tools it has to check the final outcome such as error code numbers, however, some interaction through the connector is monitored and will assert error as exception as the API docs generally define will occur with particular methods.</p>\n"},{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688891131,"creation_date":1688891131,"answer_id":76646525,"question_id":76626783,"body_markdown":"The problem is that you&#39;re executing multiple statements, and that means that the SQL server implementation will report results *per statement*.\r\n\r\nYou will need to use the following to get exception from the second or third statement:\r\n\r\n```\r\nboolean result = s.execute(&quot;CREATE TABLE table1(id int, value int, PRIMARY KEY (id));\\n&quot; +\r\n                    &quot;INSERT INTO table1 VALUES(1,10);\\n&quot; +\r\n                    &quot;INSERT INTO table1 VALUES(1,14);&quot;);\r\nwhile (result || s.getUpdateCount() != -1) {\r\n    result = s.getMoreResults();\r\n}\r\n```\r\n\r\nIf there is a pending exception for the second (or in this case, third) statement, the call to `getMoreResults()` will throw it.\r\n\r\nAlternatively, use the JDBC API as it is intended to be used, and execute the statements individually.","title":"Mssql driver does not report error/exception when using Statement.execute() command","body":"<p>The problem is that you're executing multiple statements, and that means that the SQL server implementation will report results <em>per statement</em>.</p>\n<p>You will need to use the following to get exception from the second or third statement:</p>\n<pre><code>boolean result = s.execute(&quot;CREATE TABLE table1(id int, value int, PRIMARY KEY (id));\\n&quot; +\n                    &quot;INSERT INTO table1 VALUES(1,10);\\n&quot; +\n                    &quot;INSERT INTO table1 VALUES(1,14);&quot;);\nwhile (result || s.getUpdateCount() != -1) {\n    result = s.getMoreResults();\n}\n</code></pre>\n<p>If there is a pending exception for the second (or in this case, third) statement, the call to <code>getMoreResults()</code> will throw it.</p>\n<p>Alternatively, use the JDBC API as it is intended to be used, and execute the statements individually.</p>\n"}],"owner":{"account_id":27800631,"reputation":11,"user_id":21225151,"display_name":"Thiccasa 69"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":3,"score":0,"last_activity_date":1688982842,"creation_date":1688631101,"question_id":76626783,"body_markdown":"I was trying to execute multiple lines of SQl using the Statement.execute() method like shown, and I tried to execute something that is obviously going to fail, but no exception is being thrown. Has anyone faced this issue in the past? What am I doing wrong?\r\n\r\n\r\n```\r\nStatement s = manager.createStatement();\r\nboolean result = s.execute(&quot;CREATE TABLE table1(id int, value int, PRIMARY KEY (id));\\n&quot; +\r\n\t\t\t\t\t&quot;INSERT INTO table1 VALUES(1,10);\\n&quot; +\r\n\t\t\t\t\t&quot;INSERT INTO table1 VALUES(1,14);&quot;);\r\n```\r\n\r\nWhen I run this, everything looks fine, no error or exception anywhere.\r\n\r\nI&#39;m using the `mssql-jdbc-9.2.0.jre8.jar` driver. Also tried with `mssql-jdbc-12.2.0.jre8.jar`, no difference.\r\n\r\nWhen I run the same thing using the .executeQuery() method, I get the expected exception regarding the violation of primary key.","title":"Mssql driver does not report error/exception when using Statement.execute() command","body":"<p>I was trying to execute multiple lines of SQl using the Statement.execute() method like shown, and I tried to execute something that is obviously going to fail, but no exception is being thrown. Has anyone faced this issue in the past? What am I doing wrong?</p>\n<pre><code>Statement s = manager.createStatement();\nboolean result = s.execute(&quot;CREATE TABLE table1(id int, value int, PRIMARY KEY (id));\\n&quot; +\n                    &quot;INSERT INTO table1 VALUES(1,10);\\n&quot; +\n                    &quot;INSERT INTO table1 VALUES(1,14);&quot;);\n</code></pre>\n<p>When I run this, everything looks fine, no error or exception anywhere.</p>\n<p>I'm using the <code>mssql-jdbc-9.2.0.jre8.jar</code> driver. Also tried with <code>mssql-jdbc-12.2.0.jre8.jar</code>, no difference.</p>\n<p>When I run the same thing using the .executeQuery() method, I get the expected exception regarding the violation of primary key.</p>\n"},{"tags":["java","android","youtube"],"comments":[{"owner":{"account_id":16810116,"reputation":1186,"user_id":12153321,"display_name":"Javlon"},"score":0,"creation_date":1688983116,"post_id":76652540,"comment_id":135143472,"body_markdown":"After upgrading the lib, have you changed you code? You can look into this sample app: https://github.com/PierfrancescoSoffritti/android-youtube-player/tree/master/core-sample-app","body":"After upgrading the lib, have you changed you code? You can look into this sample app: <a href=\"https://github.com/PierfrancescoSoffritti/android-youtube-player/tree/master/core-sample-app\" rel=\"nofollow noreferrer\">github.com/PierfrancescoSoffritti/android-youtube-player/tre&zwnj;&#8203;e/&hellip;</a>"}],"owner":{"account_id":28985670,"reputation":1,"user_id":22202539,"display_name":"Sublime Developer5"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688982249,"creation_date":1688982249,"question_id":76652540,"body_markdown":"I have been working on a project that was orignally build in 2017-18, the application uses a third party package for youtube player but now it giving error about &quot;An error occurred while initializing the Youtube Player&quot;.\r\n\r\nPackage: com.github.PierfrancescoSoffritti:AndroidYouTubePlayer:4.1.6\r\n\r\n\r\nI have tried to upgrade the package nothings helps","title":"Android Studio No variants found for :app","body":"<p>I have been working on a project that was orignally build in 2017-18, the application uses a third party package for youtube player but now it giving error about &quot;An error occurred while initializing the Youtube Player&quot;.</p>\n<p>Package: com.github.PierfrancescoSoffritti:AndroidYouTubePlayer:4.1.6</p>\n<p>I have tried to upgrade the package nothings helps</p>\n"},{"tags":["java","selenium-webdriver","google-signin","recaptcha","captcha"],"owner":{"account_id":23333656,"reputation":21,"user_id":17409669,"display_name":"Abdul Wahab"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688982186,"creation_date":1688982186,"question_id":76652536,"body_markdown":"Whenever I try to Sign In to Google or Microsoft using Selenium It can not handle the CAPTCHA and the testScript failed. if I handle CAPTCHA manually, then the testcase further start running and passed. I want to bypass the CAPTCHA  or any solution to handle the CAPTCHA in Automation.","title":"how can I bypass captcha while Signing into google or Microsoft with selenium automation?","body":"<p>Whenever I try to Sign In to Google or Microsoft using Selenium It can not handle the CAPTCHA and the testScript failed. if I handle CAPTCHA manually, then the testcase further start running and passed. I want to bypass the CAPTCHA  or any solution to handle the CAPTCHA in Automation.</p>\n"},{"tags":["java","oop","strategy-pattern"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1688981963,"post_id":76652476,"comment_id":135143232,"body_markdown":"*flyBehaviour = new FlyWithWings();* is outside of a method","body":"<i>flyBehaviour = new FlyWithWings();</i> is outside of a method"},{"owner":{"account_id":8517137,"reputation":835,"user_id":6385232,"display_name":"geanakuch"},"score":1,"creation_date":1688982338,"post_id":76652476,"comment_id":135143312,"body_markdown":"Move ```flyBehaviour = new FlyWithWings();``` into a constructor","body":"Move <code>flyBehaviour = new FlyWithWings();</code> into a constructor"}],"owner":{"account_id":25580901,"reputation":29,"user_id":19359502,"display_name":"Daria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1688981727,"creation_date":1688981727,"question_id":76652476,"body_markdown":"I have created an interface Flyable and the class FlyableWithWing implementing this interface\r\n\r\n```\r\npublic interface Flyable {\r\n    void fly();\r\n}\r\n```\r\n\r\n```\r\npublic class FlyWithWings implements Flyable {\r\n    @Override\r\n    public void fly() {\r\n        System.out.println(&quot;This animal flyies with wings&quot;);\r\n    }\r\n}\r\n```\r\n\r\nI have created a supers class Duck and subclass MallarDuck. Class Duck holds a reference to an object type Flyable.\r\n\r\n```\r\npublic class Duck {\r\n    Flyable flyBehaviour;\r\n\r\n    void perfomFly() {\r\n        flyBehaviour.fly();\r\n    }\r\n}\r\n```\r\n\r\nI tried to initilize varibale flyBehaviour in subclass MallarDuck with Flyable object. but i get an error &quot;VariableDeclaratorId expected after this token&quot;.\r\n\r\n```\r\npublic class MallarDuck extends Duck {\r\n    flyBehaviour = new FlyWithWings();\r\n}\r\n```","title":"Java i can not initalize reference varibale in subclass because &quot;VariableDeclaratorId expected after this token&quot;","body":"<p>I have created an interface Flyable and the class FlyableWithWing implementing this interface</p>\n<pre><code>public interface Flyable {\n    void fly();\n}\n</code></pre>\n<pre><code>public class FlyWithWings implements Flyable {\n    @Override\n    public void fly() {\n        System.out.println(&quot;This animal flyies with wings&quot;);\n    }\n}\n</code></pre>\n<p>I have created a supers class Duck and subclass MallarDuck. Class Duck holds a reference to an object type Flyable.</p>\n<pre><code>public class Duck {\n    Flyable flyBehaviour;\n\n    void perfomFly() {\n        flyBehaviour.fly();\n    }\n}\n</code></pre>\n<p>I tried to initilize varibale flyBehaviour in subclass MallarDuck with Flyable object. but i get an error &quot;VariableDeclaratorId expected after this token&quot;.</p>\n<pre><code>public class MallarDuck extends Duck {\n    flyBehaviour = new FlyWithWings();\n}\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":1631680,"reputation":17783,"user_id":1506071,"accept_rate":68,"display_name":"Pradeep Simha"},"score":1,"creation_date":1688549041,"post_id":76618908,"comment_id":135086756,"body_markdown":"You forgot to ask a question.","body":"You forgot to ask a question."},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1688549229,"post_id":76618908,"comment_id":135086810,"body_markdown":"Please have a look at [TOUR] and [ASK]","body":"Please have a look at <a href=\"https://stackoverflow.com/tour\">TOUR</a> and <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a>"},{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1688549417,"post_id":76618908,"comment_id":135086859,"body_markdown":"Based on your question history you may be interested in [What should I do when someone answers my question?](https://stackoverflow.com/help/someone-answers)","body":"Based on your question history you may be interested in <a href=\"https://stackoverflow.com/help/someone-answers\">What should I do when someone answers my question?</a>"}],"answers":[{"tags":[],"owner":{"account_id":20509645,"reputation":41,"user_id":15051712,"display_name":"Prasad Jagtap"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688981203,"creation_date":1688549628,"answer_id":76619003,"question_id":76618908,"body_markdown":"As per the error I am seeing I think that you are trying to take the payload using request param.\r\n\r\n     validateAndCreate(@RequestParam(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody\r\n\r\nInstead try to use following line. \r\n\r\n     validateAndCreate(@RequestBody(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody\r\n\r\nIf this is not working then please try to provide more insight about the problem you are encountering.","title":"Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException","body":"<p>As per the error I am seeing I think that you are trying to take the payload using request param.</p>\n<pre><code> validateAndCreate(@RequestParam(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody\n</code></pre>\n<p>Instead try to use following line.</p>\n<pre><code> validateAndCreate(@RequestBody(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody\n</code></pre>\n<p>If this is not working then please try to provide more insight about the problem you are encountering.</p>\n"}],"owner":{"account_id":13795396,"reputation":37,"user_id":9956737,"display_name":"nikolas"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1688981203,"creation_date":1688548964,"question_id":76618908,"body_markdown":"\r\n\r\n` Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException: Failed to convert value of type &#39;java.lang.String&#39; to required type &#39;apistagefse.gateway.data.DTO.ValidationCreationDTO&#39;; nested exception is java.lang.IllegalStateException: Cannot convert value of type &#39;java.lang.String&#39; to required type &#39;apistagefse.gateway.data.DTO.ValidationCreationDTO&#39;: no matching editors or conversion strategy found]`\r\n\r\n\r\nspring method\r\n\r\n```\r\n public ResponseEntity&lt;DocumentBaseResponse&gt; validateAndCreate(@RequestParam(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody, @RequestParam(name = &quot;file&quot;) MultipartFile file, HttpServletRequest request) {\r\n```","title":"Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException","body":"<p><code> Resolved [org.springframework.web.method.annotation.MethodArgumentConversionNotSupportedException: Failed to convert value of type 'java.lang.String' to required type 'apistagefse.gateway.data.DTO.ValidationCreationDTO'; nested exception is java.lang.IllegalStateException: Cannot convert value of type 'java.lang.String' to required type 'apistagefse.gateway.data.DTO.ValidationCreationDTO': no matching editors or conversion strategy found]</code></p>\n<p>spring method</p>\n<pre><code> public ResponseEntity&lt;DocumentBaseResponse&gt; validateAndCreate(@RequestParam(name = &quot;requestBody&quot;) ValidationCreationDTO requestBody, @RequestParam(name = &quot;file&quot;) MultipartFile file, HttpServletRequest request) {\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","jpa","persistence"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1688981284,"post_id":76652395,"comment_id":135143097,"body_markdown":"Try to remove the parent from each child","body":"Try to remove the parent from each child"}],"owner":{"account_id":12207201,"reputation":13,"user_id":8909955,"display_name":"martinz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688981079,"creation_date":1688981079,"question_id":76652395,"body_markdown":"I&#39;m trying to clone an entity, removing some children, and save the new entity, but I&#39;m getting an *IllegalArgumentException: Removing a detached instance package.Child* and I don&#39;t understand why. I think it&#39;s because of the orphan removal annotation, which I need for other methods.\r\n\r\nHere&#39;s my entity model:\r\n\r\n```\r\n@Entity\r\npublic class MainEntity {\r\n    private Set&lt;SubEntity&gt; subEntities;\r\n\r\n    @OneToMany(mappedBy = &quot;main&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\r\n    public Set&lt;SubEntity&gt; getSubEntities() {\r\n        return subEntities;\r\n    }\r\n\r\n    //other fields, getters and setters\r\n}\r\n\r\n@Entity\r\npublic class SubEntity {\r\n    private MainEntity main;\r\n    private Set&lt;Child&gt; children;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;MAIN_ID&quot;)\r\n    public getMainEntity() {\r\n        return main;\r\n    }\r\n  \r\n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\r\n    public Set&lt;Child&gt; getChildren() {\r\n        return children;\r\n    }   \r\n\r\n    //other fields, getters and setters\r\n}\r\n\r\n@Entity\r\npublic class Child {\r\n    private SubEntity parent;\r\n\r\n    @ManyToOne(fetch = FetchType.LAZY)\r\n    @JoinColumn(name = &quot;PARENT_ID&quot;)\r\n    public LayoutComposition getParent() {\r\n        return parent;\r\n    }\r\n  \r\n    //other fields, getters and setters\r\n}\r\n```\r\n\r\nI need to clone MainEntity with all of its fields and collections, but each of the cloned SubEntity must have no children. \r\nI&#39;m deep cloning the entity and trying to remove the subentity.children.\r\n\r\n\r\n```\r\n@Autowired\r\nRepository repository; //interface extending JpaRepository&lt;MainEntity, Long&gt;\r\n\r\nMainEntity creating = SerializationUtils.clone(existing); //org.apache.commons.lang3\r\ncreating.setId(null);\r\nfor (SubEntity s : creating.getSubEntities()) {\r\n    s.setId(null);\r\n    s.getChildren().clear();\r\n}\r\nrepository.save(creating);\r\n```\r\n\r\nCan someone help? Thanks","title":"Hibernate: cloning entity gives &quot;Removing a detached instance&quot; exception on children","body":"<p>I'm trying to clone an entity, removing some children, and save the new entity, but I'm getting an <em>IllegalArgumentException: Removing a detached instance package.Child</em> and I don't understand why. I think it's because of the orphan removal annotation, which I need for other methods.</p>\n<p>Here's my entity model:</p>\n<pre><code>@Entity\npublic class MainEntity {\n    private Set&lt;SubEntity&gt; subEntities;\n\n    @OneToMany(mappedBy = &quot;main&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL)\n    public Set&lt;SubEntity&gt; getSubEntities() {\n        return subEntities;\n    }\n\n    //other fields, getters and setters\n}\n\n@Entity\npublic class SubEntity {\n    private MainEntity main;\n    private Set&lt;Child&gt; children;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;MAIN_ID&quot;)\n    public getMainEntity() {\n        return main;\n    }\n  \n    @OneToMany(mappedBy = &quot;parent&quot;, fetch = FetchType.LAZY, cascade = CascadeType.ALL, orphanRemoval = true)\n    public Set&lt;Child&gt; getChildren() {\n        return children;\n    }   \n\n    //other fields, getters and setters\n}\n\n@Entity\npublic class Child {\n    private SubEntity parent;\n\n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;PARENT_ID&quot;)\n    public LayoutComposition getParent() {\n        return parent;\n    }\n  \n    //other fields, getters and setters\n}\n</code></pre>\n<p>I need to clone MainEntity with all of its fields and collections, but each of the cloned SubEntity must have no children.\nI'm deep cloning the entity and trying to remove the subentity.children.</p>\n<pre><code>@Autowired\nRepository repository; //interface extending JpaRepository&lt;MainEntity, Long&gt;\n\nMainEntity creating = SerializationUtils.clone(existing); //org.apache.commons.lang3\ncreating.setId(null);\nfor (SubEntity s : creating.getSubEntities()) {\n    s.setId(null);\n    s.getChildren().clear();\n}\nrepository.save(creating);\n</code></pre>\n<p>Can someone help? Thanks</p>\n"},{"tags":["java","image"],"answers":[{"tags":[],"owner":{"account_id":33136,"reputation":27684,"user_id":92493,"accept_rate":83,"display_name":"Otto Allmendinger"},"down_vote_count":1,"up_vote_count":40,"is_accepted":true,"score":39,"last_activity_date":1430217893,"creation_date":1342078735,"answer_id":11447113,"question_id":11447035,"body_markdown":"Use [ImageReader.getFormatName()](http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageReader.html#getFormatName())\r\n\r\nYou can get the image readers for a file using [ImageIO.getImageReaders(Object input)](http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageIO.html#getImageReaders(java.lang.Object)).\r\n\r\nI haven&#39;t tested it myself, but you can try this:\r\n\r\n    ImageInputStream iis = ImageIO.createImageInputStream(file);\r\n    \r\n    Iterator&lt;ImageReader&gt; imageReaders = ImageIO.getImageReaders(iis);\r\n\r\n    while (imageReaders.hasNext()) {\r\n        ImageReader reader = (ImageReader) imageReaders.next();\r\n        System.out.printf(&quot;formatName: %s%n&quot;, reader.getFormatName());\r\n    }","title":"Java get image extension/type using BufferedImage from URL","body":"<p>Use <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageReader.html#getFormatName()\" rel=\"noreferrer\">ImageReader.getFormatName()</a></p>\n\n<p>You can get the image readers for a file using <a href=\"http://docs.oracle.com/javase/6/docs/api/javax/imageio/ImageIO.html#getImageReaders(java.lang.Object)\" rel=\"noreferrer\">ImageIO.getImageReaders(Object input)</a>.</p>\n\n<p>I haven't tested it myself, but you can try this:</p>\n\n<pre><code>ImageInputStream iis = ImageIO.createImageInputStream(file);\n\nIterator&lt;ImageReader&gt; imageReaders = ImageIO.getImageReaders(iis);\n\nwhile (imageReaders.hasNext()) {\n    ImageReader reader = (ImageReader) imageReaders.next();\n    System.out.printf(\"formatName: %s%n\", reader.getFormatName());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1938618,"reputation":698,"user_id":1745416,"display_name":"JohnC"},"down_vote_count":0,"up_vote_count":18,"is_accepted":false,"score":18,"last_activity_date":1464027219,"creation_date":1383519801,"answer_id":19759294,"question_id":11447035,"body_markdown":"The suggestion to use ImageIO.createImageInputStream(obj) will not work if the object is a URL. \r\n\r\nOne alternative is to use the URLConnection.guessContentTypeFromStream(InputStream stream) method. This method guesses the content type by examining the first 12 bytes of a stream. \r\n\r\nOne complication with using this method is that it requires the given stream parameter to be mark supported, and the stream returned by java url.openStream() is not mark supported.  \r\n\r\nAdditionally, if you want to be determine the content type and download the image to a BufferedImage, then it would be preferable if the solution only downloaded the content once (as opposed to making two passes, once to determine the content type and a second time to download the image).\r\n\r\nOne solution is to use the PushbackInputStream.  The PushbackInputStream can be used to download the first initial bytes to determine content type.  The bytes can then be pushed back on the stream so that the ImageIO.read(stream) can read the stream in its entirety. \r\n\r\nPossible solution:\r\n\r\n\r\n    // URLConnection.guessContentTypeFromStream only needs the first 12 bytes, but\r\n    // just to be safe from future java api enhancements, we&#39;ll use a larger number\r\n    int pushbackLimit = 100;\r\n    InputStream urlStream = url.openStream();\r\n    PushbackInputStream pushUrlStream = new PushbackInputStream(urlStream, pushbackLimit);\r\n    byte [] firstBytes = new byte[pushbackLimit];\r\n    // download the first initial bytes into a byte array, which we will later pass to \r\n    // URLConnection.guessContentTypeFromStream  \r\n    pushUrlStream.read(firstBytes);\r\n    // push the bytes back onto the PushbackInputStream so that the stream can be read \r\n    // by ImageIO reader in its entirety\r\n    pushUrlStream.unread(firstBytes);\r\n    \r\n    String imageType = null;\r\n    // Pass the initial bytes to URLConnection.guessContentTypeFromStream in the form of a\r\n    // ByteArrayInputStream, which is mark supported.\r\n    ByteArrayInputStream bais = new ByteArrayInputStream(firstBytes);\r\n    String mimeType = URLConnection.guessContentTypeFromStream(bais);\r\n    if (mimeType.startsWith(&quot;image/&quot;))\r\n        imageType = mimeType.substring(&quot;image/&quot;.length());\r\n    // else handle failure here\r\n    \r\n    // read in image\r\n    BufferedImage inputImage = ImageIO.read(pushUrlStream);\r\n    \r\n","title":"Java get image extension/type using BufferedImage from URL","body":"<p>The suggestion to use ImageIO.createImageInputStream(obj) will not work if the object is a URL. </p>\n\n<p>One alternative is to use the URLConnection.guessContentTypeFromStream(InputStream stream) method. This method guesses the content type by examining the first 12 bytes of a stream. </p>\n\n<p>One complication with using this method is that it requires the given stream parameter to be mark supported, and the stream returned by java url.openStream() is not mark supported.  </p>\n\n<p>Additionally, if you want to be determine the content type and download the image to a BufferedImage, then it would be preferable if the solution only downloaded the content once (as opposed to making two passes, once to determine the content type and a second time to download the image).</p>\n\n<p>One solution is to use the PushbackInputStream.  The PushbackInputStream can be used to download the first initial bytes to determine content type.  The bytes can then be pushed back on the stream so that the ImageIO.read(stream) can read the stream in its entirety. </p>\n\n<p>Possible solution:</p>\n\n<pre><code>// URLConnection.guessContentTypeFromStream only needs the first 12 bytes, but\n// just to be safe from future java api enhancements, we'll use a larger number\nint pushbackLimit = 100;\nInputStream urlStream = url.openStream();\nPushbackInputStream pushUrlStream = new PushbackInputStream(urlStream, pushbackLimit);\nbyte [] firstBytes = new byte[pushbackLimit];\n// download the first initial bytes into a byte array, which we will later pass to \n// URLConnection.guessContentTypeFromStream  \npushUrlStream.read(firstBytes);\n// push the bytes back onto the PushbackInputStream so that the stream can be read \n// by ImageIO reader in its entirety\npushUrlStream.unread(firstBytes);\n\nString imageType = null;\n// Pass the initial bytes to URLConnection.guessContentTypeFromStream in the form of a\n// ByteArrayInputStream, which is mark supported.\nByteArrayInputStream bais = new ByteArrayInputStream(firstBytes);\nString mimeType = URLConnection.guessContentTypeFromStream(bais);\nif (mimeType.startsWith(\"image/\"))\n    imageType = mimeType.substring(\"image/\".length());\n// else handle failure here\n\n// read in image\nBufferedImage inputImage = ImageIO.read(pushUrlStream);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1990052,"reputation":1526,"user_id":1784279,"accept_rate":40,"display_name":"med116"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662666954,"creation_date":1445532189,"answer_id":33286239,"question_id":11447035,"body_markdown":"### This works by feeding in a URL object (that is an image), and returning a file extension\r\nIt requires an initial download though, to the java tmp directory, and it is then deleted after the ImageReader attempts to get the gather the image type\r\n\r\n    import javax.imageio.ImageIO;\r\n    import javax.imageio.stream.ImageInputStream;\r\n    import javax.imageio.ImageReader;\r\n    import java.util.Iterator;\r\n\r\n\r\n\tpublic String getImageFileExtFromUrl(URL urlObject) throws URISyntaxException, IOException{\r\n\t\tSystem.out.println(&quot;IN DOWNLOAD FILE FROM URL METHOD&quot;);\r\n\t\tString tmpFolder = System.getProperty(&quot;java.io.tmpdir&quot;);\r\n\t\tString tmpFileStr = tmpFolder + &quot;/&quot; + new Date().getTime();\r\n\t\tFiles.copy(urlObject.openStream(), Paths.get(tmpFileStr), StandardCopyOption.REPLACE_EXISTING);\r\n\t\tFile download = new File(tmpFileStr);\r\n\t\tSystem.out.println(&quot;FILE DOWNLOAD EXISTS: &quot; + download.exists() );\r\n\t\ttry{\r\n\t\t\tImageInputStream iis = ImageIO.createImageInputStream(download);\r\n\t\t\tIterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(iis);\r\n\t\t\t\r\n\t\t\tImageReader reader = iter.next();\r\n\t\t\tString formatName = reader.getFormatName();\r\n\t\t\tSystem.out.println(&quot;FOUND IMAGE FORMAT :&quot; + formatName);\r\n\t\t\tiis.close();\r\n\t\t\treturn formatName;\r\n\t\t}catch(Exception e){\r\n\t\t\te.printStackTrace();\r\n\t\t}finally{\r\n\t\t\tFiles.delete(Paths.get(tmpFileStr));\r\n\t\t}\r\n\t\treturn null;\r\n\t\t\r\n\t\t\r\n\t\t\r\n\t}","title":"Java get image extension/type using BufferedImage from URL","body":"<h3>This works by feeding in a URL object (that is an image), and returning a file extension</h3>\n<p>It requires an initial download though, to the java tmp directory, and it is then deleted after the ImageReader attempts to get the gather the image type</p>\n<pre><code>import javax.imageio.ImageIO;\nimport javax.imageio.stream.ImageInputStream;\nimport javax.imageio.ImageReader;\nimport java.util.Iterator;\n\n\npublic String getImageFileExtFromUrl(URL urlObject) throws URISyntaxException, IOException{\n    System.out.println(&quot;IN DOWNLOAD FILE FROM URL METHOD&quot;);\n    String tmpFolder = System.getProperty(&quot;java.io.tmpdir&quot;);\n    String tmpFileStr = tmpFolder + &quot;/&quot; + new Date().getTime();\n    Files.copy(urlObject.openStream(), Paths.get(tmpFileStr), StandardCopyOption.REPLACE_EXISTING);\n    File download = new File(tmpFileStr);\n    System.out.println(&quot;FILE DOWNLOAD EXISTS: &quot; + download.exists() );\n    try{\n        ImageInputStream iis = ImageIO.createImageInputStream(download);\n        Iterator&lt;ImageReader&gt; iter = ImageIO.getImageReaders(iis);\n        \n        ImageReader reader = iter.next();\n        String formatName = reader.getFormatName();\n        System.out.println(&quot;FOUND IMAGE FORMAT :&quot; + formatName);\n        iis.close();\n        return formatName;\n    }catch(Exception e){\n        e.printStackTrace();\n    }finally{\n        Files.delete(Paths.get(tmpFileStr));\n    }\n    return null;\n    \n    \n    \n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1150252,"reputation":2707,"user_id":1625820,"accept_rate":59,"display_name":"herrtim"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1461244998,"creation_date":1461244998,"answer_id":36770963,"question_id":11447035,"body_markdown":"If you get the image from a URL, that means you can access the image through an `InputStream`. From that you can use `ImageIO` to get the image type (format) and with the following code, create a BufferedImage at the same time.\r\n\r\n  \r\n\r\n    public static BufferedImageWrapper getImageAndTypeFromInputStream(InputStream is) {\r\n    \r\n        String format = null;\r\n        BufferedImage bufferedimage = null;\r\n        try (ImageInputStream iis = ImageIO.createImageInputStream(is);) {\r\n    \r\n          Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(iis);\r\n    \r\n          if (readers.hasNext()) {\r\n    \r\n            ImageReader reader = readers.next();\r\n            format = reader.getFormatName();\r\n            reader.setInput(iis);\r\n            bufferedimage = reader.read(0);\r\n          }\r\n        } catch (IOException e) {\r\n          logger.error(&quot;ERROR DETERMINING IMAGE TYPE!!!&quot;, e);\r\n        }\r\n    \r\n        return new BufferedImageWrapper(format, bufferedimage);\r\n      }\r\n    \r\n      public static class BufferedImageWrapper {\r\n    \r\n        private final String imageType;\r\n        private final BufferedImage bufferedimage;\r\n    \r\n        /**\r\n         * Constructor\r\n         *\r\n         * @param imageType\r\n         * @param bufferedimage\r\n         */\r\n        public BufferedImageWrapper(String imageType, BufferedImage bufferedimage) {\r\n          this.imageType = imageType;\r\n          this.bufferedimage = bufferedimage;\r\n        }\r\n    \r\n        public String getImageType() {\r\n    \r\n          return imageType;\r\n        }\r\n    \r\n        public BufferedImage getBufferedimage() {\r\n    \r\n          return bufferedimage;\r\n        }\r\n    \r\n      }","title":"Java get image extension/type using BufferedImage from URL","body":"<p>If you get the image from a URL, that means you can access the image through an <code>InputStream</code>. From that you can use <code>ImageIO</code> to get the image type (format) and with the following code, create a BufferedImage at the same time.</p>\n\n<pre><code>public static BufferedImageWrapper getImageAndTypeFromInputStream(InputStream is) {\n\n    String format = null;\n    BufferedImage bufferedimage = null;\n    try (ImageInputStream iis = ImageIO.createImageInputStream(is);) {\n\n      Iterator&lt;ImageReader&gt; readers = ImageIO.getImageReaders(iis);\n\n      if (readers.hasNext()) {\n\n        ImageReader reader = readers.next();\n        format = reader.getFormatName();\n        reader.setInput(iis);\n        bufferedimage = reader.read(0);\n      }\n    } catch (IOException e) {\n      logger.error(\"ERROR DETERMINING IMAGE TYPE!!!\", e);\n    }\n\n    return new BufferedImageWrapper(format, bufferedimage);\n  }\n\n  public static class BufferedImageWrapper {\n\n    private final String imageType;\n    private final BufferedImage bufferedimage;\n\n    /**\n     * Constructor\n     *\n     * @param imageType\n     * @param bufferedimage\n     */\n    public BufferedImageWrapper(String imageType, BufferedImage bufferedimage) {\n      this.imageType = imageType;\n      this.bufferedimage = bufferedimage;\n    }\n\n    public String getImageType() {\n\n      return imageType;\n    }\n\n    public BufferedImage getBufferedimage() {\n\n      return bufferedimage;\n    }\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5903706,"reputation":338,"user_id":4646274,"display_name":"Michael Starodynov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688981058,"creation_date":1688981058,"answer_id":76652392,"question_id":11447035,"body_markdown":"Here is the solution for validation of file extension on server side for image upload:\r\n```java\r\n    private static final Set&lt;String&gt; SUPPORTED_IMAGE_EXTENSIONS = Set.of(&quot;jpeg&quot;, &quot;png&quot;);\r\n    \r\n    private void validateImageExtension(InputStream imageContent) throws IOException {\r\n        if (!imageContent.markSupported()) {\r\n            LOG.error(&quot;Image content stream does not support mark/reset operations. &quot; +\r\n                &quot;Image extension validation is not possible.&quot;);\r\n            return;\r\n        }\r\n        imageContent.mark(100 * 1024);\r\n        try (final var imageStream = ImageIO.createImageInputStream(imageContent)) {\r\n            final var recognisedFormatsStream = streamOf(ImageIO.getImageReaders(imageStream))\r\n                .flatMap(reader -&gt; Stream.of(reader.getOriginatingProvider().getFormatNames()));\r\n            validate(recognisedFormatsStream.anyMatch(SUPPORTED_IMAGE_EXTENSIONS::contains), \r\n                &quot;Invalid image extension. Supported extensions: &quot; + SUPPORTED_IMAGE_EXTENSIONS + &quot;.&quot;);\r\n        } finally {\r\n            imageContent.reset();\r\n        }\r\n    }\r\n```\r\nNOTE: `mark` and `reset` are needed to not lose the first bytes of the stream that are used for the extension check.","title":"Java get image extension/type using BufferedImage from URL","body":"<p>Here is the solution for validation of file extension on server side for image upload:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    private static final Set&lt;String&gt; SUPPORTED_IMAGE_EXTENSIONS = Set.of(&quot;jpeg&quot;, &quot;png&quot;);\n    \n    private void validateImageExtension(InputStream imageContent) throws IOException {\n        if (!imageContent.markSupported()) {\n            LOG.error(&quot;Image content stream does not support mark/reset operations. &quot; +\n                &quot;Image extension validation is not possible.&quot;);\n            return;\n        }\n        imageContent.mark(100 * 1024);\n        try (final var imageStream = ImageIO.createImageInputStream(imageContent)) {\n            final var recognisedFormatsStream = streamOf(ImageIO.getImageReaders(imageStream))\n                .flatMap(reader -&gt; Stream.of(reader.getOriginatingProvider().getFormatNames()));\n            validate(recognisedFormatsStream.anyMatch(SUPPORTED_IMAGE_EXTENSIONS::contains), \n                &quot;Invalid image extension. Supported extensions: &quot; + SUPPORTED_IMAGE_EXTENSIONS + &quot;.&quot;);\n        } finally {\n            imageContent.reset();\n        }\n    }\n</code></pre>\n<p>NOTE: <code>mark</code> and <code>reset</code> are needed to not lose the first bytes of the stream that are used for the extension check.</p>\n"}],"owner":{"account_id":1217409,"reputation":9612,"user_id":1184717,"accept_rate":54,"display_name":"Mr."},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52753,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":11447113,"answer_count":5,"score":34,"last_activity_date":1688981058,"creation_date":1342078441,"question_id":11447035,"body_markdown":"I am familiar with [working with images][1]. I [retrieve/read an image from a URL][2], where the URL does not have a file extension. Then I wish to [write/save the image][3] to the local storage, but I have to specify the image file extension (i.e. JPG, PNG, etc.), which I cannot retrieve its extension through the BufferedImage.\r\n\r\nCould one please point out how it can be done?\r\nAny other method will do.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/2d/images/\r\n  [2]: http://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\r\n  [3]: http://docs.oracle.com/javase/tutorial/2d/images/saveimage.html","title":"Java get image extension/type using BufferedImage from URL","body":"<p>I am familiar with <a href=\"http://docs.oracle.com/javase/tutorial/2d/images/\" rel=\"noreferrer\">working with images</a>. I <a href=\"http://docs.oracle.com/javase/tutorial/2d/images/loadimage.html\" rel=\"noreferrer\">retrieve/read an image from a URL</a>, where the URL does not have a file extension. Then I wish to <a href=\"http://docs.oracle.com/javase/tutorial/2d/images/saveimage.html\" rel=\"noreferrer\">write/save the image</a> to the local storage, but I have to specify the image file extension (i.e. JPG, PNG, etc.), which I cannot retrieve its extension through the BufferedImage.</p>\n\n<p>Could one please point out how it can be done?\nAny other method will do.</p>\n"},{"tags":["java","whatsapp"],"comments":[{"owner":{"account_id":61892,"reputation":5204,"user_id":184201,"accept_rate":78,"display_name":"Ahmed Ashour"},"score":0,"creation_date":1674320650,"post_id":75195067,"comment_id":132691571,"body_markdown":"Does this answer your question? [The Callback URL or Verify Token couldn&#39;t be validated. Please verify the provided information or try again later](https://stackoverflow.com/questions/60544871/the-callback-url-or-verify-token-couldnt-be-validated-please-verify-the-provid)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/60544871/the-callback-url-or-verify-token-couldnt-be-validated-please-verify-the-provid\">The Callback URL or Verify Token couldn&#39;t be validated. Please verify the provided information or try again later</a>"},{"owner":{"account_id":27588778,"reputation":11,"user_id":21056396,"display_name":"akash goyal"},"score":0,"creation_date":1674320877,"post_id":75195067,"comment_id":132691612,"body_markdown":"Thanks for sharing but it does not.","body":"Thanks for sharing but it does not."}],"answers":[{"tags":[],"owner":{"account_id":27588778,"reputation":11,"user_id":21056396,"display_name":"akash goyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1674450758,"creation_date":1674450758,"answer_id":75205842,"question_id":75195067,"body_markdown":"I was able to solve the issue by deploying my code to on AWS with an actual https URL. The issue was because of ngrok.","title":"I created a controller in spring boot and used ngrok to make it public to configure Whatsapp&#39;s Cloud API but Whatsapp does not even hits my controller","body":"<p>I was able to solve the issue by deploying my code to on AWS with an actual https URL. The issue was because of ngrok.</p>\n"},{"tags":[],"owner":{"account_id":28331330,"reputation":1,"user_id":21665564,"display_name":"Luis Angel Herrera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681914282,"creation_date":1681746732,"answer_id":76037003,"question_id":75195067,"body_markdown":"You can try this:\r\n\r\n```java\r\n@RequestMapping(value = &quot;/webhook&quot;, method = RequestMethod.GET)\r\npublic ResponseEntity&lt;?&gt; verifyToken(@RequestParam(&quot;hub.mode&quot;) String mode,\r\n                                     @RequestParam(&quot;hub.challenge&quot;) String challenge,\r\n                                     @RequestParam(&quot;hub.verify_token&quot;) String token) {\r\n    String verify_token = &quot;token_webhook&quot;;\r\n    if (mode.equals(&quot;subscribe&quot;) &amp;&amp; token.equals(verify_token)) {\r\n        System.out.println(&quot;WEBHOOK_VERIFIED&quot;);\r\n        return new ResponseEntity&lt;String&gt;(challenge, HttpStatus.OK);\r\n    } else {\r\n        return new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_FOUND);\r\n    }\r\n}\r\n```","title":"I created a controller in spring boot and used ngrok to make it public to configure Whatsapp&#39;s Cloud API but Whatsapp does not even hits my controller","body":"<p>You can try this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@RequestMapping(value = &quot;/webhook&quot;, method = RequestMethod.GET)\npublic ResponseEntity&lt;?&gt; verifyToken(@RequestParam(&quot;hub.mode&quot;) String mode,\n                                     @RequestParam(&quot;hub.challenge&quot;) String challenge,\n                                     @RequestParam(&quot;hub.verify_token&quot;) String token) {\n    String verify_token = &quot;token_webhook&quot;;\n    if (mode.equals(&quot;subscribe&quot;) &amp;&amp; token.equals(verify_token)) {\n        System.out.println(&quot;WEBHOOK_VERIFIED&quot;);\n        return new ResponseEntity&lt;String&gt;(challenge, HttpStatus.OK);\n    } else {\n        return new ResponseEntity&lt;Void&gt;(HttpStatus.NOT_FOUND);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15624957,"reputation":11,"user_id":11272878,"display_name":"VipinSC"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686973740,"creation_date":1686973740,"answer_id":76494632,"question_id":75195067,"body_markdown":"If you are using ngrok try https url provided by them.\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e26h3.png","title":"I created a controller in spring boot and used ngrok to make it public to configure Whatsapp&#39;s Cloud API but Whatsapp does not even hits my controller","body":"<p>If you are using ngrok try https url provided by them.\n<a href=\"https://i.stack.imgur.com/e26h3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e26h3.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":27588778,"reputation":11,"user_id":21056396,"display_name":"akash goyal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":259,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1688980826,"creation_date":1674320452,"question_id":75195067,"body_markdown":"This is how my spring boot controller looks like:\r\n\r\n    @RestController\r\n    public class WhatsappController {\r\n        private final String VERIFICATION_TOKEN = &quot;12345&quot;;\r\n    \r\n        @GetMapping(&quot;/webhook&quot;)\r\n        public ResponseEntity&lt;String&gt; verifyWebhook(@RequestParam(&quot;hub.mode&quot;) String mode,\r\n                                                    @RequestParam(&quot;hub.challenge&quot;) String challenge,\r\n                                                    @RequestParam(&quot;hub.verify_token&quot;) String token) {\r\n            if (mode.equals(&quot;subscribe&quot;) &amp;&amp; token.equals(VERIFICATION_TOKEN)) {\r\n                return new ResponseEntity&lt;&gt;(challenge, HttpStatus.OK);\r\n            } else {\r\n                return new ResponseEntity&lt;&gt;(&quot;Verification token or mode mismatch&quot;, HttpStatus.FORBIDDEN);\r\n            }\r\n        }\r\n    }\r\n\r\nBut when I configure ngrok URL with Whatsapp it says:\r\n\r\n&gt; The callback URL or verify token couldn&#39;t be validated. Please verify the provided information or try again later.\r\n\r\nPlease tell me what I am doing wrong!\r\n\r\n","title":"I created a controller in spring boot and used ngrok to make it public to configure Whatsapp&#39;s Cloud API but Whatsapp does not even hits my controller","body":"<p>This is how my spring boot controller looks like:</p>\n<pre><code>@RestController\npublic class WhatsappController {\n    private final String VERIFICATION_TOKEN = &quot;12345&quot;;\n\n    @GetMapping(&quot;/webhook&quot;)\n    public ResponseEntity&lt;String&gt; verifyWebhook(@RequestParam(&quot;hub.mode&quot;) String mode,\n                                                @RequestParam(&quot;hub.challenge&quot;) String challenge,\n                                                @RequestParam(&quot;hub.verify_token&quot;) String token) {\n        if (mode.equals(&quot;subscribe&quot;) &amp;&amp; token.equals(VERIFICATION_TOKEN)) {\n            return new ResponseEntity&lt;&gt;(challenge, HttpStatus.OK);\n        } else {\n            return new ResponseEntity&lt;&gt;(&quot;Verification token or mode mismatch&quot;, HttpStatus.FORBIDDEN);\n        }\n    }\n}\n</code></pre>\n<p>But when I configure ngrok URL with Whatsapp it says:</p>\n<blockquote>\n<p>The callback URL or verify token couldn't be validated. Please verify the provided information or try again later.</p>\n</blockquote>\n<p>Please tell me what I am doing wrong!</p>\n"},{"tags":["java","spring-boot","http-status-code-404"],"comments":[{"owner":{"account_id":12051589,"reputation":1279,"user_id":8814332,"display_name":"Risalat Zaman"},"score":0,"creation_date":1686959948,"post_id":76494137,"comment_id":134875125,"body_markdown":"Could you share your application properties to see the servelet url?","body":"Could you share your application properties to see the servelet url?"},{"owner":{"account_id":27038179,"reputation":69,"user_id":20593455,"display_name":"Kaushal"},"score":0,"creation_date":1686960078,"post_id":76494137,"comment_id":134875132,"body_markdown":"Can you share the api details and application.properties file","body":"Can you share the api details and application.properties file"},{"owner":{"account_id":25809513,"reputation":1,"user_id":19550523,"display_name":"CodingApperentice"},"score":1,"creation_date":1686968248,"post_id":76494137,"comment_id":134875595,"body_markdown":"Yes, my apologize, I have uploaded the app.prop","body":"Yes, my apologize, I have uploaded the app.prop"}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686980434,"creation_date":1686980434,"answer_id":76494880,"question_id":76494137,"body_markdown":"Your `@ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel&quot;, )` is wrong, causing the UserController not to be scanned.\r\n\r\nChange it to something that includes the Controller, Service, Model, everything.\r\n\r\nEither\r\n\r\n    @ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel, com.vault.safe.foo.UserController, com.vault.safe.bar.Service&quot; )\r\n\r\n \r\n\r\nOr something more general, like:\r\n\r\n    @ComponentScan(basePackages = &quot;com.vault&quot;)\r\n\r\n","title":"404 found with either get or post API spring boot","body":"<p>Your <code>@ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel&quot;, )</code> is wrong, causing the UserController not to be scanned.</p>\n<p>Change it to something that includes the Controller, Service, Model, everything.</p>\n<p>Either</p>\n<pre><code>@ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel, com.vault.safe.foo.UserController, com.vault.safe.bar.Service&quot; )\n</code></pre>\n<p>Or something more general, like:</p>\n<pre><code>@ComponentScan(basePackages = &quot;com.vault&quot;)\n</code></pre>\n"}],"owner":{"account_id":25809513,"reputation":1,"user_id":19550523,"display_name":"CodingApperentice"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688980694,"creation_date":1686959371,"question_id":76494137,"body_markdown":"Creating the first full-stack website, starting with the database, then worked on API, and tried with get and post, but I kept getting a 404 response. running out of ideas to try\r\n\r\nLooked at all sorts of questions on here, and they all seem to be having different issues, I&#39;m positive it is packaged right, got all annotations, and it&#39;s probably something I have overlooked. Please help.\r\n\r\n\r\n```\r\nMain class\r\n@SpringBootApplication\r\n@ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel&quot;, )\r\n@EnableJpaRepositories(&quot;com.vault.safe.repositories.UserRepository&quot;)\r\npublic class DigitalVaultApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(DigitalVaultApplication.class, args);\r\n\t}\r\n\r\n}\r\n```\r\n\r\n\r\n```\r\nUserController\r\n@RestController\r\n@RequestMapping(&quot;users&quot;)\r\npublic class UserController {\r\n\r\n    @Autowired\r\n    private UserService userService;\r\n\r\n//*************************************************************************************\r\n//Constructors, Getters, and Setters\r\n\r\n\r\n    public UserController(UserService userService){\r\n        super();\r\n        this.userService = userService;\r\n    }\r\n\r\n    public UserService getUserService(){\r\n        return userService;\r\n    }\r\n\r\n    public void setUserService(UserService userService){\r\n        this.userService = userService;\r\n    }\r\n\r\n//*************************************************************************************\r\n    @PostMapping(&quot;/add&quot;)\r\n    public UserModel addUser(@RequestBody UserModel userModel){\r\n        return userService.addUser(userModel);\r\n    }\r\n\r\n    @GetMapping(&quot;/getUserById/{userId}&quot;)\r\n    public UserModel getUserById(@PathVariable Long userId){\r\n        return userService.findById(userId);\r\n    }\r\n```\r\n\r\n\r\n```\r\nUserService\r\n@Service\r\npublic class UserService {\r\n\r\n    @Autowired\r\n    private UserRepository userRepository;\r\n\r\n\r\n    public UserService(UserRepository userRepository) {\r\n        super();\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n    public UserRepository getUserRepository(){\r\n        return userRepository;\r\n    }\r\n\r\n    public void setUserRepository(UserRepository userRepository) {\r\n        this.userRepository = userRepository;\r\n    }\r\n\r\n//***********************************************************************************************************\r\n    public UserModel addUser(UserModel User){\r\n        return userRepository.save(User);\r\n    }\r\n\r\n    public UserModel findById(Long userId) {\r\n        Optional&lt;UserModel&gt; userOptional = userRepository.findById(userId);\r\n        if (userOptional.isPresent()) {\r\n            return userOptional.get();\r\n        } else {\r\n            throw new UserNotFoundException(&quot;User not found with ID: &quot; + userId);\r\n        }\r\n    }\r\n```\r\n\r\n\r\n```\r\nModel class is big, so just the contructor\r\n\r\n public UserModel(long id, String username, String email, String password, String password2, String firstName, String lastName, Integer age, String street1, String street2, String city, String state, String country, String zipcode, String phone) {\r\n        this.id = id;\r\n        this.username = username;\r\n        this.email = email;\r\n        this.password = password;\r\n        this.password2 = password2;\r\n        this.firstName = firstName;\r\n        this.lastName = lastName;\r\n        this.age = age;\r\n        this.street1 = street1;\r\n        this.street2 = street2;\r\n        this.city = city;\r\n        this.state = state;\r\n        this.country = country;\r\n        this.zipcode = zipcode;\r\n        this.phone = phone;\r\n    }\r\n```\r\n\r\n\r\n```\r\nRepository\r\n@Repository\r\npublic interface UserRepository extends JpaRepository&lt;UserModel, Long&gt;{\r\n    List&lt;UserModel&gt; findUserById(Long id);\r\n}\r\n\r\n```\r\n\r\n```\r\nbuild.gradle\r\ndependencies {\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-data-jdbc&#39;\r\n\timplementation &#39;org.springframework.boot:spring-boot-starter-jdbc&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-config&#39;\r\n\timplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n\timplementation &#39;javax.persistence:persistence-api:1.0&#39;\r\n\timplementation(&#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;) {\r\n\t\texclude group: &#39;org.springframework.boot&#39;, module: &#39;spring-boot-starter-web&#39;\r\n\t}\r\n\timplementation &#39;org.springframework:spring-context&#39;\r\n\timplementation &#39;com.sun.jersey.contribs:jersey-apache-client4:1.19.4&#39;\r\n\r\n\truntimeOnly &#39;com.mysql:mysql-connector-j&#39;\r\n\ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n\tdevelopmentOnly &#39;org.springframework.boot:spring-boot-devtools&#39;\r\n}\r\n```\r\n\r\n   \r\n```\r\nApplication.Properties\r\nserver.port = 8080\r\nspring.config.import=optional:configserver:http://localhost:8888\r\n\r\nspring.datasource.url=jdbc:mysql://localhost:3306/user_info?currentSchema=safetybox\r\nspring.datasource.username=root\r\nspring.datasource.password=Example\r\nspring.jpa.show-sql=true\r\nspring.jpa.hibernate.ddl-auto=update\r\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\r\nspring.main.web-application-type=reactive\r\n```\r\n\r\n\r\n![snippet of error - whitelabel error, 404](https://i.stack.imgur.com/J3hPf.png)\r\n\r\n","title":"404 found with either get or post API spring boot","body":"<p>Creating the first full-stack website, starting with the database, then worked on API, and tried with get and post, but I kept getting a 404 response. running out of ideas to try</p>\n<p>Looked at all sorts of questions on here, and they all seem to be having different issues, I'm positive it is packaged right, got all annotations, and it's probably something I have overlooked. Please help.</p>\n<pre><code>Main class\n@SpringBootApplication\n@ComponentScan(basePackages = &quot;com.vault.safe.MyModel.UserModel&quot;, )\n@EnableJpaRepositories(&quot;com.vault.safe.repositories.UserRepository&quot;)\npublic class DigitalVaultApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(DigitalVaultApplication.class, args);\n    }\n\n}\n</code></pre>\n<pre><code>UserController\n@RestController\n@RequestMapping(&quot;users&quot;)\npublic class UserController {\n\n    @Autowired\n    private UserService userService;\n\n//*************************************************************************************\n//Constructors, Getters, and Setters\n\n\n    public UserController(UserService userService){\n        super();\n        this.userService = userService;\n    }\n\n    public UserService getUserService(){\n        return userService;\n    }\n\n    public void setUserService(UserService userService){\n        this.userService = userService;\n    }\n\n//*************************************************************************************\n    @PostMapping(&quot;/add&quot;)\n    public UserModel addUser(@RequestBody UserModel userModel){\n        return userService.addUser(userModel);\n    }\n\n    @GetMapping(&quot;/getUserById/{userId}&quot;)\n    public UserModel getUserById(@PathVariable Long userId){\n        return userService.findById(userId);\n    }\n</code></pre>\n<pre><code>UserService\n@Service\npublic class UserService {\n\n    @Autowired\n    private UserRepository userRepository;\n\n\n    public UserService(UserRepository userRepository) {\n        super();\n        this.userRepository = userRepository;\n    }\n\n    public UserRepository getUserRepository(){\n        return userRepository;\n    }\n\n    public void setUserRepository(UserRepository userRepository) {\n        this.userRepository = userRepository;\n    }\n\n//***********************************************************************************************************\n    public UserModel addUser(UserModel User){\n        return userRepository.save(User);\n    }\n\n    public UserModel findById(Long userId) {\n        Optional&lt;UserModel&gt; userOptional = userRepository.findById(userId);\n        if (userOptional.isPresent()) {\n            return userOptional.get();\n        } else {\n            throw new UserNotFoundException(&quot;User not found with ID: &quot; + userId);\n        }\n    }\n</code></pre>\n<pre><code>Model class is big, so just the contructor\n\n public UserModel(long id, String username, String email, String password, String password2, String firstName, String lastName, Integer age, String street1, String street2, String city, String state, String country, String zipcode, String phone) {\n        this.id = id;\n        this.username = username;\n        this.email = email;\n        this.password = password;\n        this.password2 = password2;\n        this.firstName = firstName;\n        this.lastName = lastName;\n        this.age = age;\n        this.street1 = street1;\n        this.street2 = street2;\n        this.city = city;\n        this.state = state;\n        this.country = country;\n        this.zipcode = zipcode;\n        this.phone = phone;\n    }\n</code></pre>\n<pre><code>Repository\n@Repository\npublic interface UserRepository extends JpaRepository&lt;UserModel, Long&gt;{\n    List&lt;UserModel&gt; findUserById(Long id);\n}\n\n</code></pre>\n<pre><code>build.gradle\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-data-jdbc'\n    implementation 'org.springframework.boot:spring-boot-starter-jdbc'\n    implementation 'org.springframework.cloud:spring-cloud-starter-config'\n    implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n    implementation 'javax.persistence:persistence-api:1.0'\n    implementation('org.springframework.boot:spring-boot-starter-data-jpa') {\n        exclude group: 'org.springframework.boot', module: 'spring-boot-starter-web'\n    }\n    implementation 'org.springframework:spring-context'\n    implementation 'com.sun.jersey.contribs:jersey-apache-client4:1.19.4'\n\n    runtimeOnly 'com.mysql:mysql-connector-j'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    developmentOnly 'org.springframework.boot:spring-boot-devtools'\n}\n</code></pre>\n<pre><code>Application.Properties\nserver.port = 8080\nspring.config.import=optional:configserver:http://localhost:8888\n\nspring.datasource.url=jdbc:mysql://localhost:3306/user_info?currentSchema=safetybox\nspring.datasource.username=root\nspring.datasource.password=Example\nspring.jpa.show-sql=true\nspring.jpa.hibernate.ddl-auto=update\nspring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect\nspring.main.web-application-type=reactive\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/J3hPf.png\" alt=\"snippet of error - whitelabel error, 404\" /></p>\n"},{"tags":["java","android-recyclerview","adapter"],"owner":{"account_id":25783281,"reputation":31,"user_id":19528580,"display_name":"Tanvi Verma"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688980636,"creation_date":1686983158,"question_id":76494993,"body_markdown":"How can I hide a `TextView` in a `RecyclerView` list item after calling an API from the `MainActivity`? The `TextView` is located in the adapter class and I need to access it from the `MainActivity`. \r\n\r\nI want to be able to click the `TextView`, call the API, and once it has finished successfully, hide the `TextView`. How can I achieve this?","title":"How to access adapter viewholder item in main activity?","body":"<p>How can I hide a <code>TextView</code> in a <code>RecyclerView</code> list item after calling an API from the <code>MainActivity</code>? The <code>TextView</code> is located in the adapter class and I need to access it from the <code>MainActivity</code>.</p>\n<p>I want to be able to click the <code>TextView</code>, call the API, and once it has finished successfully, hide the <code>TextView</code>. How can I achieve this?</p>\n"},{"tags":["java","selenium-webdriver"],"owner":{"account_id":18710584,"reputation":19,"user_id":13640755,"display_name":"El barto"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688980564,"creation_date":1688980564,"question_id":76652332,"body_markdown":"With this code, I have a report accessibility test in Json :\r\n```\r\n\t\tAxeBuilder axeBuilder = new AxeBuilder();\r\n\t\ttry {\r\n\t\t\tResults axeResults = axeBuilder.analyze(driver);\r\n\t\t\tObjectWriter writer = new ObjectMapper().writer().withDefaultPrettyPrinter();\r\n\t\t\tString jsonReport = writer.writeValueAsString(axeResults);\r\n\t\t\tassertTrue(jsonReport, axeResults.violationFree());\r\n\t\t} catch (RuntimeException e) {\r\n\t\t\t// Do something with the error\r\n\t\t}\r\n```\r\nI use this dependancy :\r\n```\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.11&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n\t    &lt;version&gt;3.141.59&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t\t&lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;5.3.2&lt;/version&gt;\r\n\t&lt;/dependency&gt;\r\n\t&lt;dependency&gt;\r\n\t    &lt;groupId&gt;com.deque.html.axe-core&lt;/groupId&gt;\r\n\t    &lt;artifactId&gt;selenium&lt;/artifactId&gt;\r\n\t    &lt;version&gt;4.7.0&lt;/version&gt;\r\n\t    &lt;scope&gt;test&lt;/scope&gt;\r\n\t&lt;/dependency&gt;\r\n```\r\n\r\n1) How to have this report in french ? Or how to translate this report ?\r\n\r\n2) how to a have the link with the RGAA rules wiht WCAG rules ?\r\n\r\n\r\nThanks","title":"How to translate the report accessibility tests axe-core in Java?","body":"<p>With this code, I have a report accessibility test in Json :</p>\n<pre><code>        AxeBuilder axeBuilder = new AxeBuilder();\n        try {\n            Results axeResults = axeBuilder.analyze(driver);\n            ObjectWriter writer = new ObjectMapper().writer().withDefaultPrettyPrinter();\n            String jsonReport = writer.writeValueAsString(axeResults);\n            assertTrue(jsonReport, axeResults.violationFree());\n        } catch (RuntimeException e) {\n            // Do something with the error\n        }\n</code></pre>\n<p>I use this dependancy :</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;junit&lt;/groupId&gt;\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\n      &lt;version&gt;4.11&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;3.141.59&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n        &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n        &lt;version&gt;5.3.2&lt;/version&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.deque.html.axe-core&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium&lt;/artifactId&gt;\n        &lt;version&gt;4.7.0&lt;/version&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<ol>\n<li><p>How to have this report in french ? Or how to translate this report ?</p>\n</li>\n<li><p>how to a have the link with the RGAA rules wiht WCAG rules ?</p>\n</li>\n</ol>\n<p>Thanks</p>\n"},{"tags":["java","spring","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":1,"creation_date":1688981114,"post_id":76652322,"comment_id":135143066,"body_markdown":"Your method is for DELETE you are issuing a GET.","body":"Your method is for DELETE you are issuing a GET."}],"owner":{"account_id":14081620,"reputation":93,"user_id":10172532,"display_name":"NewJavaEnthusiast"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688980483,"creation_date":1688980483,"question_id":76652322,"body_markdown":"I am making a REST Crud Application and testing its functionalities using JUnit5\r\n\r\nAll of the other Create, Read, Update are working, however my Delete test fails. \r\n\r\nThe following is the method from the controller:\r\n```\r\n\r\n@DeleteMapping(&quot;/{userId}&quot;)\r\npublic ResponseEntity&lt;?&gt; delete(@PathVariable(&quot;userId&quot;) int userId) {\r\n\r\n\tif (userId &lt; 0 || userId &gt;= usersList.size()) {\r\n\t\treturn ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;User not found.&quot;);\r\n\t}\r\n\r\n\tusersList.remove(userId);\r\n\t\r\n\treturn ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;User Deleted Successfully&quot;);\r\n}\r\n\r\n```\r\n\r\nThe following is the Test which fails\r\n```\r\n@Test\r\nvoid deleteUserTest() {\r\n\tString url = &quot;http://localhost:&quot; + port + &quot;/users&quot;;\r\n\t\r\n\tint gameId = 0;\r\n\r\n\tString deleteUrl = url + &quot;/&quot; + userId;\r\n\trestTemplate.delete(deleteUrl);\r\n\r\n\t// Verify the user is deleted\r\n\tResponseEntity&lt;User&gt; getResponse = restTemplate.getForEntity(url + &quot;/&quot; + userId, User.class);\r\n\tassertEquals(HttpStatus.NOT_FOUND, getResponse.getStatusCode());\r\n}\r\n```\r\n\r\nAnd the output of this testing is:\r\n`AssertionFailedError: \r\nExpected :404 NOT_FOUND\r\nActual   :405 METHOD_NOT_ALLOWED`\r\n\r\nI tried changing the Not Found status to anything else, however the Test always gives me Actual: Method not allowed. It should return that the user is *not found* after deleting it. (btw I created some users before running the test and test that there are 3-4 users).","title":"Why does JUnit5 fail when testing for a REST Delete functionality?","body":"<p>I am making a REST Crud Application and testing its functionalities using JUnit5</p>\n<p>All of the other Create, Read, Update are working, however my Delete test fails.</p>\n<p>The following is the method from the controller:</p>\n<pre><code>\n@DeleteMapping(&quot;/{userId}&quot;)\npublic ResponseEntity&lt;?&gt; delete(@PathVariable(&quot;userId&quot;) int userId) {\n\n    if (userId &lt; 0 || userId &gt;= usersList.size()) {\n        return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;User not found.&quot;);\n    }\n\n    usersList.remove(userId);\n    \n    return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;User Deleted Successfully&quot;);\n}\n\n</code></pre>\n<p>The following is the Test which fails</p>\n<pre><code>@Test\nvoid deleteUserTest() {\n    String url = &quot;http://localhost:&quot; + port + &quot;/users&quot;;\n    \n    int gameId = 0;\n\n    String deleteUrl = url + &quot;/&quot; + userId;\n    restTemplate.delete(deleteUrl);\n\n    // Verify the user is deleted\n    ResponseEntity&lt;User&gt; getResponse = restTemplate.getForEntity(url + &quot;/&quot; + userId, User.class);\n    assertEquals(HttpStatus.NOT_FOUND, getResponse.getStatusCode());\n}\n</code></pre>\n<p>And the output of this testing is:\n<code>AssertionFailedError:  Expected :404 NOT_FOUND Actual   :405 METHOD_NOT_ALLOWED</code></p>\n<p>I tried changing the Not Found status to anything else, however the Test always gives me Actual: Method not allowed. It should return that the user is <em>not found</em> after deleting it. (btw I created some users before running the test and test that there are 3-4 users).</p>\n"},{"tags":["java","docker","maven"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1604419723,"post_id":64666407,"comment_id":114339215,"body_markdown":"The error has a cause.","body":"The error has a cause."}],"answers":[{"tags":[],"owner":{"account_id":10328218,"reputation":2812,"user_id":7619034,"display_name":"Rob Evans"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1688980112,"creation_date":1604420191,"answer_id":64666558,"question_id":64666407,"body_markdown":"Seems like you have a docker build file (`Dockerfile`) that you want to build so you have a reusable image. Once you have the image you can push it to a registry (like Dockerhub) or run it with your application code mounted inside. If you first want to push the image to a registry, you can then pull it down and run it... much the same way as you&#39;d pull any other docker image down and run it.\r\n\r\nI answered a similar question recently here: https://stackoverflow.com/questions/64511717/dockerfile-cant-build-app-with-maven-no-goals-specified-for-this-build/64516944#64516944\r\nPerhaps this helps?\r\n\r\nSeems like you have an error because you&#39;re attempting to build directly on the jenkins host rather than in the docker container with maven/java11 installed. \r\n\r\nIts a common mistake to think you&#39;re within a docker container on a host, when in fact you&#39;re just on the host and the container is running within it without your realising. Check `docker ps -a` if this is the case to get the container ID and then you open a terminal   within it using `docker exec -it bash` or `docker exec -it sh`","title":"How to build maven in Docker build file","body":"<p>Seems like you have a docker build file (<code>Dockerfile</code>) that you want to build so you have a reusable image. Once you have the image you can push it to a registry (like Dockerhub) or run it with your application code mounted inside. If you first want to push the image to a registry, you can then pull it down and run it... much the same way as you'd pull any other docker image down and run it.</p>\n<p>I answered a similar question recently here: <a href=\"https://stackoverflow.com/questions/64511717/dockerfile-cant-build-app-with-maven-no-goals-specified-for-this-build/64516944#64516944\">Dockerfile can&#39;t build app with Maven - No goals specified for this build</a>\nPerhaps this helps?</p>\n<p>Seems like you have an error because you're attempting to build directly on the jenkins host rather than in the docker container with maven/java11 installed.</p>\n<p>Its a common mistake to think you're within a docker container on a host, when in fact you're just on the host and the container is running within it without your realising. Check <code>docker ps -a</code> if this is the case to get the container ID and then you open a terminal   within it using <code>docker exec -it bash</code> or <code>docker exec -it sh</code></p>\n"},{"tags":[],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1604501950,"creation_date":1604501950,"answer_id":64682508,"question_id":64666407,"body_markdown":"```\r\ndocker {\r\n            image &#39;maven:3-alpine&#39;\r\n            args &#39;-v $HOME/.m2:/root/.m2&#39;\r\n        }\r\n```\r\nNeed to mount the .m2 dir. It&#39;s under Caching containers here: https://www.jenkins.io/doc/book/pipeline/docker/","title":"How to build maven in Docker build file","body":"<pre><code>docker {\n            image 'maven:3-alpine'\n            args '-v $HOME/.m2:/root/.m2'\n        }\n</code></pre>\n<p>Need to mount the .m2 dir. It's under Caching containers here: <a href=\"https://www.jenkins.io/doc/book/pipeline/docker/\" rel=\"nofollow noreferrer\">https://www.jenkins.io/doc/book/pipeline/docker/</a></p>\n"}],"owner":{"account_id":4885117,"reputation":1866,"user_id":3937811,"accept_rate":91,"display_name":"Evan Gertis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":64682508,"answer_count":2,"score":0,"last_activity_date":1688980112,"creation_date":1604419605,"question_id":64666407,"body_markdown":"I have been desperately trying to figure out if it&#39;s possible to build a mvn project on a jenkins agent with a docker build file. The error that I am getting from running the pipeline is `[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile`\r\n\r\n```\r\npipeline {\r\n    agent {\r\n        dockerfile { \r\n            filename &#39;DockerFile.build&#39;\r\n        }\r\n    }\r\n    environment {\r\n        JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.272.b10-1.el8_2.x86_64&quot;\r\n    }\r\n    stages {\r\n        stage(&#39;Build DockerFile&#39;) {\r\n            steps {\r\n                echo &quot;building docker image&quot;\r\n                sh &quot;echo 1 | alternatives --config java&quot;\r\n                sh &quot;java -version&quot;\r\n                sh &quot;echo ${JAVA_HOME}&quot;\r\n\r\n                git branch: &quot;develop&quot;, credentialsId: &#39;cred_id&#39;, url: &quot;git@bitbucket.org:repo.git&quot;\r\n                dir(&quot;repo&quot;){\r\n                    sh &quot;mvn clean install -X&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n````\r\n\r\nDockerFile.build\r\n```\r\nFROM centos\r\n\r\nRUN yum update -y\r\nRUN yum install -y java-11-openjdk-devel\r\nRUN yum install -y java-11-openjdk\r\n\r\nRUN yum install -y maven\r\n\r\n\r\nENV HOME=${home}\r\n```\r\n\r\nThe line about `echo 1 | alternatives --config java` is to switch to java 11. Any help would be greatly appreciated. ","title":"How to build maven in Docker build file","body":"<p>I have been desperately trying to figure out if it's possible to build a mvn project on a jenkins agent with a docker build file. The error that I am getting from running the pipeline is <code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.8.1:compile</code></p>\n<pre><code>pipeline {\n    agent {\n        dockerfile { \n            filename 'DockerFile.build'\n        }\n    }\n    environment {\n        JAVA_HOME=&quot;/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.272.b10-1.el8_2.x86_64&quot;\n    }\n    stages {\n        stage('Build DockerFile') {\n            steps {\n                echo &quot;building docker image&quot;\n                sh &quot;echo 1 | alternatives --config java&quot;\n                sh &quot;java -version&quot;\n                sh &quot;echo ${JAVA_HOME}&quot;\n\n                git branch: &quot;develop&quot;, credentialsId: 'cred_id', url: &quot;git@bitbucket.org:repo.git&quot;\n                dir(&quot;repo&quot;){\n                    sh &quot;mvn clean install -X&quot;\n                }\n            }\n        }\n    }\n}\n</code></pre>\n<p>DockerFile.build</p>\n<pre><code>FROM centos\n\nRUN yum update -y\nRUN yum install -y java-11-openjdk-devel\nRUN yum install -y java-11-openjdk\n\nRUN yum install -y maven\n\n\nENV HOME=${home}\n</code></pre>\n<p>The line about <code>echo 1 | alternatives --config java</code> is to switch to java 11. Any help would be greatly appreciated.</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-data"],"answers":[{"tags":[],"owner":{"account_id":3507195,"reputation":14509,"user_id":2932476,"display_name":"Bourbia Brahim"},"down_vote_count":0,"up_vote_count":219,"is_accepted":true,"score":219,"last_activity_date":1523612342,"creation_date":1523612342,"answer_id":49813851,"question_id":49813666,"body_markdown":"With the generation  `GenerationType.AUTO` hibernate will look for the default `hibernate_sequence` table , so change generation to  `IDENTITY`  as below :\r\n\r\n     @Id\r\n     @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n     private Long id;","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>With the generation  <code>GenerationType.AUTO</code> hibernate will look for the default <code>hibernate_sequence</code> table , so change generation to  <code>IDENTITY</code>  as below :</p>\n\n<pre><code> @Id\n @GeneratedValue(strategy = GenerationType.IDENTITY)\n private Long id;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":212451,"reputation":5409,"user_id":465274,"accept_rate":84,"display_name":"Laures"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1576845751,"creation_date":1523616916,"answer_id":49815372,"question_id":49813666,"body_markdown":"Just in case you migrate from a previous boot version:\r\n\r\nsetting the following in your `application.yml` will prevent hibernate from looking for `hibernate_sequence` entries.\r\n\r\n    spring.jpa.hibernate.use-new-id-generator-mappings\r\n\r\nThat was the default in Boot 1.x","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>Just in case you migrate from a previous boot version:</p>\n\n<p>setting the following in your <code>application.yml</code> will prevent hibernate from looking for <code>hibernate_sequence</code> entries.</p>\n\n<pre><code>spring.jpa.hibernate.use-new-id-generator-mappings\n</code></pre>\n\n<p>That was the default in Boot 1.x</p>\n"},{"tags":[],"owner":{"account_id":13799688,"reputation":261,"user_id":9959937,"display_name":"Neikat"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1545118419,"creation_date":1545118419,"answer_id":53828276,"question_id":49813666,"body_markdown":"Add the following config in your application.yml:\r\n\r\n`spring:\r\n  jpa:\r\n    hibernate:\r\n      use-new-id-generator-mappings: false`\r\n\r\nOr this if you use application.properties\r\n\r\n`spring.jpa.hibernate.use-new-id-generator-mappings= false`\r\n","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>Add the following config in your application.yml:</p>\n\n<p><code>spring:\n  jpa:\n    hibernate:\n      use-new-id-generator-mappings: false</code></p>\n\n<p>Or this if you use application.properties</p>\n\n<p><code>spring.jpa.hibernate.use-new-id-generator-mappings= false</code></p>\n"},{"tags":[],"owner":{"account_id":5940172,"reputation":3457,"user_id":4671717,"accept_rate":25,"display_name":"Chris Maggiulli"},"down_vote_count":2,"up_vote_count":8,"is_accepted":false,"score":6,"last_activity_date":1676948726,"creation_date":1559936681,"answer_id":56500407,"question_id":49813666,"body_markdown":"&gt; **Warning** : This will truncate the data in all tables specified as entities in your application\r\n\r\n# JPA and Auto-DDL\r\nWhen I run into mapping mismatches between a table schema and a java entity I like to do the following.\r\n\r\n 1. Drop the schema\r\n 2. Add the `spring.jpa.hibernate.ddl-auto=create` property to **application.properties**\r\n 3. Restart your application\r\n\r\nThis will now recreate the schema based on your entity.   You can then compare the created table against your old schema to see the difference, if necessary.\r\n\r\n","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<blockquote>\n<p><strong>Warning</strong> : This will truncate the data in all tables specified as entities in your application</p>\n</blockquote>\n<h1>JPA and Auto-DDL</h1>\n<p>When I run into mapping mismatches between a table schema and a java entity I like to do the following.</p>\n<ol>\n<li>Drop the schema</li>\n<li>Add the <code>spring.jpa.hibernate.ddl-auto=create</code> property to <strong>application.properties</strong></li>\n<li>Restart your application</li>\n</ol>\n<p>This will now recreate the schema based on your entity.   You can then compare the created table against your old schema to see the difference, if necessary.</p>\n"},{"tags":[],"owner":{"account_id":4009180,"reputation":4758,"user_id":3303074,"display_name":"Prasanth Rajendran"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1573153641,"creation_date":1573132186,"answer_id":58749481,"question_id":49813666,"body_markdown":"If you are using Hibernate version prior to Hibernate5 `@GeneratedValue(strategy = GenerationType.IDENTITY)` works like a charm. But post Hibernate5 the following fix is necessary.\r\n\r\n\r\n```\r\n@Id\r\n@GeneratedValue(strategy= GenerationType.AUTO,generator=&quot;native&quot;)\r\n@GenericGenerator(name = &quot;native&quot;,strategy = &quot;native&quot;)\r\nprivate Long id;\r\n```\r\n\r\n**DDL**\r\n\r\n```\r\n`id` BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY\r\n```\r\n\r\n**REASON**\r\n\r\nExcerpt from [hibernate-issue][1]\r\n\r\n \r\n&gt; Currently, if the hibernate.id.new_generator_mappings is set to false,\r\n&gt; @GeneratedValue(strategy = GenerationType.AUTO) is mapped to native. \r\n&gt; If this property is true (which is the defult value in 5.x), the\r\n&gt; @GeneratedValue(strategy = GenerationType.AUTO) is always mapped to\r\n&gt; SequenceStyleGenerator.\r\n&gt; \r\n&gt; For this reason, on any database that does not support sequences\r\n&gt; natively (e.g. MySQL) we are going to use the TABLE generator instead\r\n&gt; of IDENTITY.\r\n&gt; \r\n&gt; However, TABLE generator, although more portable, uses a separate\r\n&gt; transaction every time a value is being fetched from the database. In\r\n&gt; fact, even if the IDENTITY disables JDBC batch updates and the TABLE\r\n&gt; generator uses the pooled optimizer, the IDENTITY still scales better.\r\n\r\n\r\n  [1]: https://hibernate.atlassian.net/browse/HHH-11014","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>If you are using Hibernate version prior to Hibernate5 <code>@GeneratedValue(strategy = GenerationType.IDENTITY)</code> works like a charm. But post Hibernate5 the following fix is necessary.</p>\n\n<pre><code>@Id\n@GeneratedValue(strategy= GenerationType.AUTO,generator=\"native\")\n@GenericGenerator(name = \"native\",strategy = \"native\")\nprivate Long id;\n</code></pre>\n\n<p><strong>DDL</strong></p>\n\n<pre><code>`id` BIGINT(20) NOT NULL AUTO_INCREMENT PRIMARY KEY\n</code></pre>\n\n<p><strong>REASON</strong></p>\n\n<p>Excerpt from <a href=\"https://hibernate.atlassian.net/browse/HHH-11014\" rel=\"noreferrer\">hibernate-issue</a></p>\n\n<blockquote>\n  <p>Currently, if the hibernate.id.new_generator_mappings is set to false,\n  @GeneratedValue(strategy = GenerationType.AUTO) is mapped to native. \n  If this property is true (which is the defult value in 5.x), the\n  @GeneratedValue(strategy = GenerationType.AUTO) is always mapped to\n  SequenceStyleGenerator.</p>\n  \n  <p>For this reason, on any database that does not support sequences\n  natively (e.g. MySQL) we are going to use the TABLE generator instead\n  of IDENTITY.</p>\n  \n  <p>However, TABLE generator, although more portable, uses a separate\n  transaction every time a value is being fetched from the database. In\n  fact, even if the IDENTITY disables JDBC batch updates and the TABLE\n  generator uses the pooled optimizer, the IDENTITY still scales better.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":19370048,"reputation":659,"user_id":14163532,"display_name":"PKS"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1625727748,"creation_date":1625727748,"answer_id":68296988,"question_id":49813666,"body_markdown":"Adding `spring.jpa.hibernate.ddl-auto=create` in the propoerties file solved the issue","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>Adding <code>spring.jpa.hibernate.ddl-auto=create</code> in the propoerties file solved the issue</p>\n"},{"tags":[],"owner":{"account_id":10044603,"reputation":29,"user_id":8415656,"display_name":"Boris Manev"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1635601573,"creation_date":1635601358,"answer_id":69780162,"question_id":49813666,"body_markdown":"You can just create the table:\r\n\r\n    create table hibernate_sequence(\r\n        next_val INTEGER NOT null\r\n    );","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>You can just create the table:</p>\n<pre><code>create table hibernate_sequence(\n    next_val INTEGER NOT null\n);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18562890,"reputation":29,"user_id":13526521,"display_name":"Mahipal Singh Sisodia"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1636918139,"creation_date":1636918139,"answer_id":69966461,"question_id":49813666,"body_markdown":"just add this code to your application.properties file\r\n\r\n    spring.jpa.hibernate.ddl-auto=update","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>just add this code to your application.properties file</p>\n<pre><code>spring.jpa.hibernate.ddl-auto=update\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21334240,"reputation":181,"user_id":15705696,"display_name":"David Liu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647154702,"creation_date":1647154702,"answer_id":71454527,"question_id":49813666,"body_markdown":"I got the same error when I used the following dialect setting:\r\n\r\n    # Hibernate SQL dialect\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\r\n\r\nI am using MySQL version 8.0.27, aftter I updated the above setting to:\r\n\r\n    # Hibernate SQL dialect\r\n    spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\r\n\r\nThen it worked as expected.","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>I got the same error when I used the following dialect setting:</p>\n<pre><code># Hibernate SQL dialect\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQLDialect\n</code></pre>\n<p>I am using MySQL version 8.0.27, aftter I updated the above setting to:</p>\n<pre><code># Hibernate SQL dialect\nspring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect\n</code></pre>\n<p>Then it worked as expected.</p>\n"},{"tags":[],"owner":{"account_id":16163224,"reputation":1,"user_id":11668776,"display_name":"EKANSH MISHRA"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658571783,"creation_date":1658471216,"answer_id":73075945,"question_id":49813666,"body_markdown":"Since I had Server version: 8.0.29 MySQL Community Server - GPL (which you can check from many places, I found from MySQL Command Line client)\r\n \r\nIn hibernate configuration file \r\nearlier I was trying with:\r\n\r\n```\r\n&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n```\r\n\r\nReplacing it with following:\r\n\r\n```\r\n&lt;property name=&quot;spring.jpa.properties.hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\r\n```\r\n\r\nIt worked absolutely fine for me.","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>Since I had Server version: 8.0.29 MySQL Community Server - GPL (which you can check from many places, I found from MySQL Command Line client)</p>\n<p>In hibernate configuration file\nearlier I was trying with:</p>\n<pre><code>&lt;property name=&quot;hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n</code></pre>\n<p>Replacing it with following:</p>\n<pre><code>&lt;property name=&quot;spring.jpa.properties.hibernate.dialect&quot;&gt;org.hibernate.dialect.MySQL8Dialect&lt;/property&gt;\n</code></pre>\n<p>It worked absolutely fine for me.</p>\n"},{"tags":[],"owner":{"account_id":26812797,"reputation":1,"user_id":20403137,"display_name":"Achraf_Jbr"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1667718598,"creation_date":1667440683,"answer_id":74297434,"question_id":49813666,"body_markdown":"```\r\n @Id\r\n @GeneratedValue(strategy = GenerationType.Auto) \r\n private Long id;\r\n```\r\n\r\nchange `GenerationType.Auto` to `GenerationType.IDENTITY`","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<pre><code> @Id\n @GeneratedValue(strategy = GenerationType.Auto) \n private Long id;\n</code></pre>\n<p>change <code>GenerationType.Auto</code> to <code>GenerationType.IDENTITY</code></p>\n"},{"tags":[],"owner":{"account_id":27035088,"reputation":1,"user_id":20590847,"display_name":"Abhishek Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1669299271,"creation_date":1669299271,"answer_id":74562124,"question_id":49813666,"body_markdown":"**Just add the following config in your application.properties**\r\n\r\nspring.jpa.hibernate.ddl-auto=update","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p><strong>Just add the following config in your application.properties</strong></p>\n<p>spring.jpa.hibernate.ddl-auto=update</p>\n"},{"tags":[],"owner":{"account_id":26398340,"reputation":11,"user_id":20049137,"display_name":"rob"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688979978,"creation_date":1688979978,"answer_id":76652265,"question_id":49813666,"body_markdown":"i am using struts, and migrating from hibernate 3 to 5. I updated the property in my persistence.xml \r\n\r\n    &lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;false&quot; /&gt;","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>i am using struts, and migrating from hibernate 3 to 5. I updated the property in my persistence.xml</p>\n<pre><code>&lt;property name=&quot;hibernate.id.new_generator_mappings&quot; value=&quot;false&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":13237860,"reputation":1577,"user_id":9559437,"display_name":"en Peris"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113317,"favorite_count":0,"down_vote_count":0,"up_vote_count":106,"accepted_answer_id":49813851,"answer_count":13,"score":106,"last_activity_date":1688979978,"creation_date":1523611791,"question_id":49813666,"body_markdown":"I have a SpringBoot 2.0.1.RELEASE application using spring data / jpa\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;\r\n\r\nBut when I do an update in the  Amazon Aurora DB, I got this error:\r\n\r\n&gt; 2018-04-13 09:20  [pool-1-thread-1] ERROR o.h.id.enhanced.TableStructure.execute(148) - could not read a hi value\r\ncom.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table &#39;elbar.hibernate_sequence&#39; doesn&#39;t exist at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)\r\n\r\n\r\nI have this in the entity I want to save\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private Long id;\r\n\r\nI would like to avoid also any drawback in the DB to fetch the ID .\r\n","title":"Table &#39;DBNAME.hibernate_sequence&#39; doesn&#39;t exist","body":"<p>I have a SpringBoot 2.0.1.RELEASE application using spring data / jpa</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But when I do an update in the  Amazon Aurora DB, I got this error:</p>\n\n<blockquote>\n  <p>2018-04-13 09:20  [pool-1-thread-1] ERROR o.h.id.enhanced.TableStructure.execute(148) - could not read a hi value\n  com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: Table 'elbar.hibernate_sequence' doesn't exist at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)</p>\n</blockquote>\n\n<p>I have this in the entity I want to save</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Id\n@GeneratedValue(strategy = GenerationType.AUTO)\nprivate Long id;\n</code></pre>\n\n<p>I would like to avoid also any drawback in the DB to fetch the ID .</p>\n"},{"tags":["java","maven","gradle"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1688980306,"post_id":76652137,"comment_id":135142885,"body_markdown":"You should look into [ServiceLoaders](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html). Those allow you to load all implementations of an interface at runtime, based on configuration files in the jars on the classpath.","body":"You should look into <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/ServiceLoader.html\" rel=\"nofollow noreferrer\">ServiceLoaders</a>. Those allow you to load all implementations of an interface at runtime, based on configuration files in the jars on the classpath."},{"owner":{"account_id":14373362,"reputation":37,"user_id":10382478,"display_name":"Jordan Ellison"},"score":2,"creation_date":1688990468,"post_id":76652137,"comment_id":135144944,"body_markdown":"That worked perfectly Im using the AutoService library from google and it worked fine. I will provide a example of my solution later on.","body":"That worked perfectly Im using the AutoService library from google and it worked fine. I will provide a example of my solution later on."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1688990637,"post_id":76652137,"comment_id":135144993,"body_markdown":"Excellent! I like AutoService for this purpose too.","body":"Excellent! I like AutoService for this purpose too."}],"owner":{"account_id":14373362,"reputation":37,"user_id":10382478,"display_name":"Jordan Ellison"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688979912,"creation_date":1688978910,"question_id":76652137,"body_markdown":"I am looking to make a library for java that to keep it lightweight I want to keep some code separated into modules e.g. separate libraries The purpose of this is the modules will essentially hold the code for processing and handling different 3d model types.\r\n\r\nSo if I&#39;m loading a `.dae` file I will need the Collada Module/library.\r\n\r\nI want it all to be processed under 1 class so instead of doing `ColladaProcessor.process()`\r\n\r\nyou simple do Dmal.process() and when provided with a .dae file it will trigger and run the ColladaProcessor.process().\r\n\r\n    // Code Example\r\n    class Dmal {\r\n      public void process(String fileName) {\r\n        //Code to load file to input stream\r\n        InputStream inputStream = ...\r\n\r\n        if(fileName.toLowerCase().endsWith(&quot;.dae&quot;)) {\r\n           // Code should only work if the dependency (dmal-dae) exists\r\n           // If not throw custom Module not found exception.\r\n           ColladaProcessor.process(inputStream);\r\n        }\r\n\r\n      }\r\n    }\r\n\r\nTo recap I&#39;m looking for a solution to only run the code if the dependency exists, if this is done through interface or something.","title":"Could I have Java code that only runs when a dependency/module is loaded?","body":"<p>I am looking to make a library for java that to keep it lightweight I want to keep some code separated into modules e.g. separate libraries The purpose of this is the modules will essentially hold the code for processing and handling different 3d model types.</p>\n<p>So if I'm loading a <code>.dae</code> file I will need the Collada Module/library.</p>\n<p>I want it all to be processed under 1 class so instead of doing <code>ColladaProcessor.process()</code></p>\n<p>you simple do Dmal.process() and when provided with a .dae file it will trigger and run the ColladaProcessor.process().</p>\n<pre><code>// Code Example\nclass Dmal {\n  public void process(String fileName) {\n    //Code to load file to input stream\n    InputStream inputStream = ...\n\n    if(fileName.toLowerCase().endsWith(&quot;.dae&quot;)) {\n       // Code should only work if the dependency (dmal-dae) exists\n       // If not throw custom Module not found exception.\n       ColladaProcessor.process(inputStream);\n    }\n\n  }\n}\n</code></pre>\n<p>To recap I'm looking for a solution to only run the code if the dependency exists, if this is done through interface or something.</p>\n"},{"tags":["java","arrays","generics","collections"],"comments":[{"owner":{"account_id":1134699,"reputation":8337,"user_id":1119997,"accept_rate":68,"display_name":"tuxdna"},"score":0,"creation_date":1373268724,"post_id":17520964,"comment_id":25476886,"body_markdown":"Thanks for all the answers. I found several reasons for this compilation errors: 1. Java doesn&#39;t autobox primitive arrays. 2. Varargs are complicated to correctly use - http://stackoverflow.com/questions/2925153/can-i-pass-an-array-as-arguments-to-a-method-with-variable-arguments-in-java/2926653#2926653","body":"Thanks for all the answers. I found several reasons for this compilation errors: 1. Java doesn&#39;t autobox primitive arrays. 2. Varargs are complicated to correctly use - <a href=\"http://stackoverflow.com/questions/2925153/can-i-pass-an-array-as-arguments-to-a-method-with-variable-arguments-in-java/2926653#2926653\" title=\"can i pass an array as arguments to a method with variable arguments in java\">stackoverflow.com/questions/2925153/&hellip;</a>"},{"owner":{"account_id":966181,"reputation":734,"user_id":989570,"accept_rate":65,"display_name":"DaveM"},"score":0,"creation_date":1432745989,"post_id":17520964,"comment_id":49055761,"body_markdown":"+1 this is a good question. I recommend anyone reading it to read all the answers, they all add important info.","body":"+1 this is a good question. I recommend anyone reading it to read all the answers, they all add important info."}],"answers":[{"tags":[],"owner":{"account_id":1064245,"reputation":85256,"user_id":1065197,"accept_rate":88,"display_name":"Luiggi Mendoza"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1373269046,"creation_date":1373267813,"answer_id":17520983,"question_id":17520964,"body_markdown":"The problem in\r\n\r\n    intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\r\n\r\nis that `int[]` is considered as a single `Object` instance since a primitive array extends from `Object`. This would work if you have `Integer[]` instead of `int[]` since now you&#39;re sending an array of `Object`.\r\n\r\n    Integer[] intArray = new Integer[] { 0, 1 };\r\n    //now you&#39;re sending a Object array\r\n    intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\r\n\r\nFrom your comment: if you want to still use an `int[]` (or another primitive type array) as main data, then you need to create an additional array with the wrapper class. For this example:\r\n\r\n    int[] intArray = new int[] { 0, 1 };\r\n    Integer[] integerArray = new Integer[intArray.length];\r\n    int i = 0;\r\n    for(int intValue : intArray) {\r\n        integerArray[i++] = intValue;\r\n    }\r\n    intList = new ArrayList&lt;Integer&gt;(Arrays.asList(integerArray));\r\n\r\nBut since you&#39;re already using a `for` loop, I wouldn&#39;t mind using a temp wrapper class array, just add your items directly into the list:\r\n\r\n    int[] intArray = new int[] { 0, 1 };\r\n    intList = new ArrayList&lt;Integer&gt;();\r\n    for(int intValue : intArray) {\r\n        intList.add(intValue);\r\n    }\r\n","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>The problem in</p>\n\n<pre><code>intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\n</code></pre>\n\n<p>is that <code>int[]</code> is considered as a single <code>Object</code> instance since a primitive array extends from <code>Object</code>. This would work if you have <code>Integer[]</code> instead of <code>int[]</code> since now you're sending an array of <code>Object</code>.</p>\n\n<pre><code>Integer[] intArray = new Integer[] { 0, 1 };\n//now you're sending a Object array\nintList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\n</code></pre>\n\n<p>From your comment: if you want to still use an <code>int[]</code> (or another primitive type array) as main data, then you need to create an additional array with the wrapper class. For this example:</p>\n\n<pre><code>int[] intArray = new int[] { 0, 1 };\nInteger[] integerArray = new Integer[intArray.length];\nint i = 0;\nfor(int intValue : intArray) {\n    integerArray[i++] = intValue;\n}\nintList = new ArrayList&lt;Integer&gt;(Arrays.asList(integerArray));\n</code></pre>\n\n<p>But since you're already using a <code>for</code> loop, I wouldn't mind using a temp wrapper class array, just add your items directly into the list:</p>\n\n<pre><code>int[] intArray = new int[] { 0, 1 };\nintList = new ArrayList&lt;Integer&gt;();\nfor(int intValue : intArray) {\n    intList.add(intValue);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3017590,"reputation":71,"user_id":2559281,"display_name":"osorio"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1373272356,"creation_date":1373267870,"answer_id":17520996,"question_id":17520964,"body_markdown":"It doesn&#39;t work because you&#39;re using an `int[]` instead of `Integer[]`. Try this:\r\n\r\n    Integer[] intArray = new Integer[] { 0, 1 };\r\n    // this should work now\r\n    intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\r\n","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>It doesn't work because you're using an <code>int[]</code> instead of <code>Integer[]</code>. Try this:</p>\n\n<pre><code>Integer[] intArray = new Integer[] { 0, 1 };\n// this should work now\nintList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1506247,"reputation":7562,"user_id":1427460,"accept_rate":64,"display_name":"bNd"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1373268089,"creation_date":1373268089,"answer_id":17521037,"question_id":17520964,"body_markdown":"Collection wants Objects and primitives don&#39;t derive from Object. so `Integer` allow but `int` is not allow.\r\n\r\nSo you have to use wrapper class `Integer` instead of `int` which is primitive type.\r\n\r\n**Just example:**\r\n\r\n     Integer[] intArray = new Integer[] { 0, 1 };\r\n     intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>Collection wants Objects and primitives don't derive from Object. so <code>Integer</code> allow but <code>int</code> is not allow.</p>\n\n<p>So you have to use wrapper class <code>Integer</code> instead of <code>int</code> which is primitive type.</p>\n\n<p><strong>Just example:</strong></p>\n\n<pre><code> Integer[] intArray = new Integer[] { 0, 1 };\n intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":481006,"reputation":31216,"user_id":894565,"accept_rate":76,"display_name":"Jatin"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1666562302,"creation_date":1373271936,"answer_id":17522023,"question_id":17520964,"body_markdown":"The issue is about [Autoboxing][1]. \r\n\r\nJava automatically converts `int` to `Integer` automatically. But Java **cannot convert `int[]` to `Integer[]`**. Hence the reason.\r\n\r\n    public static &lt;T&gt; List&lt;T&gt; asList(T... a)\r\n\r\n`asList` is defined as above. It expects a vararg of type `T`. i.e. it can take an array of objects of type `T`. In your case because Java cannot convert `int[]` to `Integer[]`, hence it takes type `T` as `int[]` rather than `Integer` as desired. Hence you get a list of type `List&lt;int[]`. You will have to manually convert it into `Integer[]` from `int[]`.\r\n\r\nThere is an excellent item in the book [*Effective Java*][2] by [Joshua Bloch][3] where he explains the pitfalls of [varargs][4]. This is one of them.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\r\n  [2]: https://www.goodreads.com/book/show/34927404-effective-java\r\n  [3]: https://en.wikipedia.org/wiki/Joshua_Bloch\r\n  [4]: https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>The issue is about <a href=\"https://docs.oracle.com/javase/tutorial/java/data/autoboxing.html\" rel=\"nofollow noreferrer\">Autoboxing</a>.</p>\n<p>Java automatically converts <code>int</code> to <code>Integer</code> automatically. But Java <strong>cannot convert <code>int[]</code> to <code>Integer[]</code></strong>. Hence the reason.</p>\n<pre><code>public static &lt;T&gt; List&lt;T&gt; asList(T... a)\n</code></pre>\n<p><code>asList</code> is defined as above. It expects a vararg of type <code>T</code>. i.e. it can take an array of objects of type <code>T</code>. In your case because Java cannot convert <code>int[]</code> to <code>Integer[]</code>, hence it takes type <code>T</code> as <code>int[]</code> rather than <code>Integer</code> as desired. Hence you get a list of type <code>List&lt;int[]</code>. You will have to manually convert it into <code>Integer[]</code> from <code>int[]</code>.</p>\n<p>There is an excellent item in the book <a href=\"https://www.goodreads.com/book/show/34927404-effective-java\" rel=\"nofollow noreferrer\"><em>Effective Java</em></a> by <a href=\"https://en.wikipedia.org/wiki/Joshua_Bloch\" rel=\"nofollow noreferrer\">Joshua Bloch</a> where he explains the pitfalls of <a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/language/varargs.html\" rel=\"nofollow noreferrer\">varargs</a>. This is one of them.</p>\n"},{"tags":[],"owner":{"account_id":5267771,"reputation":171,"user_id":4207096,"display_name":"max"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1414921633,"creation_date":1414921633,"answer_id":26697991,"question_id":17520964,"body_markdown":"With Java 8 you can do it in one line:\r\n&lt;pre&gt;        \r\nint[] intArr = { 1, 1, 2, 3, 5, 8, 11};  \r\nList&amp;lt;Integer&amp;gt; list = Arrays.stream(intArr).boxed().collect(Collectors.toList());  \r\nlist.forEach(System.out::println);\r\n&lt;/pre&gt;\r\n\r\n","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>With Java 8 you can do it in one line:</p>\n\n<pre>        \nint[] intArr = { 1, 1, 2, 3, 5, 8, 11};  \nList&lt;Integer&gt; list = Arrays.stream(intArr).boxed().collect(Collectors.toList());  \nlist.forEach(System.out::println);\n</pre>\n"},{"tags":[],"owner":{"account_id":9495732,"reputation":11,"user_id":7058837,"display_name":"Henry Okoede"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1688978949,"creation_date":1688883504,"answer_id":76646129,"question_id":17520964,"body_markdown":"The below provides an example:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    \r\n    public class MyArrays {\r\n        public static void main(String[] args) {\r\n    \r\n            int i, j = 0;\r\n    \r\n            Integer[] StandArr = new Integer[10];\r\n            for (i = 0; i &lt; StandArr.length; i++) {\r\n                StandArr[i] = i * 3;\r\n            }\r\n    \r\n            for (j = 0; j &lt; StandArr.length; j++) {\r\n                System.out.print(StandArr[j] + &quot; &quot;);\r\n            }\r\n            System.out.println();\r\n    \r\n            ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(StandArr));\r\n            System.out.println(arr);\r\n        }\r\n    }\r\n\r\n","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>The below provides an example:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\n\npublic class MyArrays {\n    public static void main(String[] args) {\n\n        int i, j = 0;\n\n        Integer[] StandArr = new Integer[10];\n        for (i = 0; i &lt; StandArr.length; i++) {\n            StandArr[i] = i * 3;\n        }\n\n        for (j = 0; j &lt; StandArr.length; j++) {\n            System.out.print(StandArr[j] + &quot; &quot;);\n        }\n        System.out.println();\n\n        ArrayList&lt;Integer&gt; arr = new ArrayList&lt;&gt;(Arrays.asList(StandArr));\n        System.out.println(arr);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":1134699,"reputation":8337,"user_id":1119997,"accept_rate":68,"display_name":"tuxdna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106367,"favorite_count":0,"down_vote_count":0,"up_vote_count":32,"accepted_answer_id":17520983,"answer_count":6,"score":32,"last_activity_date":1688978949,"creation_date":1373267752,"question_id":17520964,"body_markdown":"I have seen the question: https://stackoverflow.com/questions/157944/how-to-create-arraylist-arraylistt-from-array-t\r\n\r\nHowever when I try that solution with following code, it doesn&#39;t quite work in all the cases:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Arrays;\r\n    import java.util.Collection;\r\n    import java.util.List;\r\n    \r\n    public class ToArrayList {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t// this works\r\n    \t\tString[] elements = new String[] { &quot;Ryan&quot;, &quot;Julie&quot;, &quot;Bob&quot; };\r\n    \t\tList&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(elements));\r\n    \t\tSystem.out.println(list);\r\n    \r\n    \t\t// this works\r\n    \t\tList&lt;Integer&gt; intList = null;\r\n    \t\tintList = Arrays.asList(3, 5);\r\n    \t\tSystem.out.println(intList);\r\n    \r\n    \t\tint[] intArray = new int[] { 0, 1 };\r\n    \t\t// this doesn&#39;t work!\r\n    \t\tintList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\r\n    \t\tSystem.out.println(intList);\r\n    \t}\r\n    }\r\n\r\nWhat am I doing wrong here? Shouldn&#39;t the code `intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));` compile just fine?\r\n\r\n","title":"How to create ArrayList (ArrayList&lt;Integer&gt;) from array (int[]) in Java","body":"<p>I have seen the question: <a href=\"https://stackoverflow.com/questions/157944/how-to-create-arraylist-arraylistt-from-array-t\">Create ArrayList from array</a></p>\n\n<p>However when I try that solution with following code, it doesn't quite work in all the cases:</p>\n\n<pre><code>import java.util.ArrayList;\nimport java.util.Arrays;\nimport java.util.Collection;\nimport java.util.List;\n\npublic class ToArrayList {\n\n    public static void main(String[] args) {\n        // this works\n        String[] elements = new String[] { \"Ryan\", \"Julie\", \"Bob\" };\n        List&lt;String&gt; list = new ArrayList&lt;String&gt;(Arrays.asList(elements));\n        System.out.println(list);\n\n        // this works\n        List&lt;Integer&gt; intList = null;\n        intList = Arrays.asList(3, 5);\n        System.out.println(intList);\n\n        int[] intArray = new int[] { 0, 1 };\n        // this doesn't work!\n        intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));\n        System.out.println(intList);\n    }\n}\n</code></pre>\n\n<p>What am I doing wrong here? Shouldn't the code <code>intList = new ArrayList&lt;Integer&gt;(Arrays.asList(intArray));</code> compile just fine?</p>\n"},{"tags":["java","jpa","nosql"],"comments":[{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1688988631,"post_id":76652060,"comment_id":135144560,"body_markdown":"You can try referring the NoSQL mongodb java driver APIs.","body":"You can try referring the NoSQL mongodb java driver APIs."},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":0,"creation_date":1688988772,"post_id":76652060,"comment_id":135144589,"body_markdown":"Here is another one: https://jakarta.ee/specifications/nosql/1.0/ and its implementation at http://www.jnosql.org/","body":"Here is another one: <a href=\"https://jakarta.ee/specifications/nosql/1.0/\" rel=\"nofollow noreferrer\">jakarta.ee/specifications/nosql/1.0</a> and its implementation at <a href=\"http://www.jnosql.org/\" rel=\"nofollow noreferrer\">jnosql.org</a>"},{"owner":{"account_id":5951494,"reputation":12969,"user_id":4679320,"accept_rate":67,"display_name":"prasad_"},"score":1,"creation_date":1688991802,"post_id":76652060,"comment_id":135145275,"body_markdown":"I think this is what you are looking for: [@org.eclipse.jnosql.mapping.Embeddable](http://www.jnosql.org/docs/annotations.html#embeddable)","body":"I think this is what you are looking for: <a href=\"http://www.jnosql.org/docs/annotations.html#embeddable\" rel=\"nofollow noreferrer\">@org.eclipse.jnosql.mapping.Embeddable</a>"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1689003712,"post_id":76652060,"comment_id":135148361,"body_markdown":"@prasad_ thanks for your answer, I&#39;ll check!","body":"@prasad_ thanks for your answer, I&#39;ll check!"},{"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"score":0,"creation_date":1696457880,"post_id":76652060,"comment_id":136157283,"body_markdown":"@prasad_ I would like to accept your response, so please share the link in the answer.","body":"@prasad_ I would like to accept your response, so please share the link in the answer."}],"owner":{"account_id":18044315,"reputation":1227,"user_id":13115701,"display_name":"Paul Marcelin Bejan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1688978212,"creation_date":1688978212,"question_id":76652060,"body_markdown":"I&#39;m looking to find an alternative for Jakarta [@Embeddable][1] to use with a non-relational database (MongoDB).\r\n\r\nEmbeddable allows to use composition over inheritance, but still have the fields on the same level.\r\n\r\nHere a [simple example][2]:\r\n\r\nInstead of writing all the fields on a class:\r\n\r\n    public class Company {\r\n    \r\n        private Integer id;\r\n    \r\n        private String name;\r\n    \r\n        private String address;\r\n    \r\n        private String phone;\r\n    \r\n        private String contactFirstName;\r\n    \r\n        private String contactLastName;\r\n    \r\n        private String contactPhone;\r\n    \r\n    }\r\n\r\nI can create a new class with common fields that I can reuse on many classes using composition:\r\n\r\n    @Embeddable\r\n    public class ContactPerson {\r\n    \r\n        private String firstName;\r\n    \r\n        private String lastName;\r\n    \r\n        private String phone;\r\n    \r\n    }\r\n\r\nSo now I can use composition to compose a class with all the fields that it needs:\r\n\r\n    @Entity\r\n    public class Company {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Integer id;\r\n    \r\n        private String name;\r\n    \r\n        private String address;\r\n    \r\n        private String phone;\r\n    \r\n        @Embedded\r\n        private ContactPerson contactPerson;\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/embeddable\r\n  [2]: https://www.baeldung.com/jpa-embedded-embeddable\r\n","title":"NoSql alternative to Jakarta @Embeddable","body":"<p>I'm looking to find an alternative for Jakarta <a href=\"https://jakarta.ee/specifications/persistence/2.2/apidocs/javax/persistence/embeddable\" rel=\"nofollow noreferrer\">@Embeddable</a> to use with a non-relational database (MongoDB).</p>\n<p>Embeddable allows to use composition over inheritance, but still have the fields on the same level.</p>\n<p>Here a <a href=\"https://www.baeldung.com/jpa-embedded-embeddable\" rel=\"nofollow noreferrer\">simple example</a>:</p>\n<p>Instead of writing all the fields on a class:</p>\n<pre><code>public class Company {\n\n    private Integer id;\n\n    private String name;\n\n    private String address;\n\n    private String phone;\n\n    private String contactFirstName;\n\n    private String contactLastName;\n\n    private String contactPhone;\n\n}\n</code></pre>\n<p>I can create a new class with common fields that I can reuse on many classes using composition:</p>\n<pre><code>@Embeddable\npublic class ContactPerson {\n\n    private String firstName;\n\n    private String lastName;\n\n    private String phone;\n\n}\n</code></pre>\n<p>So now I can use composition to compose a class with all the fields that it needs:</p>\n<pre><code>@Entity\npublic class Company {\n\n    @Id\n    @GeneratedValue\n    private Integer id;\n\n    private String name;\n\n    private String address;\n\n    private String phone;\n\n    @Embedded\n    private ContactPerson contactPerson;\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","logging"],"comments":[{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1688979164,"post_id":76651993,"comment_id":135142664,"body_markdown":"First of all: your main application class must have a proper static main method. Check any tutorial for the correct way of defining it. Second: using System.out.println is not logging. It just writes something to console. Use proper logger.info method instead. Please try and update here any progress.","body":"First of all: your main application class must have a proper static main method. Check any tutorial for the correct way of defining it. Second: using System.out.println is not logging. It just writes something to console. Use proper logger.info method instead. Please try and update here any progress."},{"owner":{"account_id":20888119,"reputation":1,"user_id":15344204,"display_name":"Yella32121"},"score":0,"creation_date":1688979766,"post_id":76651993,"comment_id":135142775,"body_markdown":"My answer: 1) I have a Main class. My ThreadSpringServer is located: Main.class/main/new Object of ThreadSpringServer.\n\nThe ThreadSpringServer class isn&#39;t the first main class for my app, it&#39;s some class.\n\n2) I know that this line outputs  System.out.println data to the console. And I don&#39;t expect it to output data to a log file. I am waiting for the log file entry to be in the controller class in the getSpringTestMes method","body":"My answer: 1) I have a Main class. My ThreadSpringServer is located: Main.class/main/new Object of ThreadSpringServer.  The ThreadSpringServer class isn&#39;t the first main class for my app, it&#39;s some class.  2) I know that this line outputs  System.out.println data to the console. And I don&#39;t expect it to output data to a log file. I am waiting for the log file entry to be in the controller class in the getSpringTestMes method"}],"answers":[{"tags":[],"owner":{"account_id":6736921,"reputation":948,"user_id":5191371,"accept_rate":0,"display_name":"Milad Bahmanabadi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688978033,"creation_date":1688978033,"answer_id":76652037,"question_id":76651993,"body_markdown":"Try using `logback.xml` in your project :\r\n\r\n&lt;configuration&gt;\r\n\r\n    &lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\r\n        &lt;file&gt;/app/logs/YOUR_FOLDER/YOUR_FILE.log&lt;/file&gt;\r\n        &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\r\n            &lt;fileNamePattern&gt;~/app/logs/YOUR_FOLDER/YOUR_FILE.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\r\n            &lt;timeBasedFileNamingAndTriggeringPolicy\r\n                    class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\r\n                &lt;maxFileSize&gt;400MB&lt;/maxFileSize&gt;\r\n            &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\r\n            &lt;maxHistory&gt;30&lt;/maxHistory&gt;\r\n        &lt;/rollingPolicy&gt;\r\n\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%level] [%thread] [%logger:%line] %msg%n\r\n            &lt;/pattern&gt;\r\n\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n    &lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n        &lt;encoder&gt;\r\n            &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%level] [%thread] [%logger:%line] %msg%n\r\n            &lt;/pattern&gt;\r\n        &lt;/encoder&gt;\r\n    &lt;/appender&gt;\r\n\r\n\r\n    &lt;logger name=&quot;org.springframework&quot; level=&quot;DEBUG&quot; /&gt;\r\n    &lt;logger name=&quot;ir.co.pep&quot; level=&quot;DEBUG&quot; /&gt;\r\n    &lt;logger name=&quot;org.hibernate&quot; level=&quot;ERROR&quot; /&gt;\r\n\r\n\r\n&lt;!--your logs configs--&gt;\r\n\r\n    &lt;root level=&quot;INFO&quot;&gt;\r\n        &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\r\n        &lt;appender-ref ref=&quot;FILE&quot; /&gt;\r\n    &lt;/root&gt;\r\n\r\n&lt;/configuration&gt;\r\n\r\ncomplete guild in below link:  \r\n[Logging in spring][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-logging","title":"Cannot set custom logging file path in Spring Boot","body":"<p>Try using <code>logback.xml</code> in your project :</p>\n\n<pre><code>&lt;appender name=&quot;FILE&quot; class=&quot;ch.qos.logback.core.rolling.RollingFileAppender&quot;&gt;\n    &lt;file&gt;/app/logs/YOUR_FOLDER/YOUR_FILE.log&lt;/file&gt;\n    &lt;rollingPolicy class=&quot;ch.qos.logback.core.rolling.TimeBasedRollingPolicy&quot;&gt;\n        &lt;fileNamePattern&gt;~/app/logs/YOUR_FOLDER/YOUR_FILE.%d{yyyy-MM-dd}.%i.log&lt;/fileNamePattern&gt;\n        &lt;timeBasedFileNamingAndTriggeringPolicy\n                class=&quot;ch.qos.logback.core.rolling.SizeAndTimeBasedFNATP&quot;&gt;\n            &lt;maxFileSize&gt;400MB&lt;/maxFileSize&gt;\n        &lt;/timeBasedFileNamingAndTriggeringPolicy&gt;\n        &lt;maxHistory&gt;30&lt;/maxHistory&gt;\n    &lt;/rollingPolicy&gt;\n\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%level] [%thread] [%logger:%line] %msg%n\n        &lt;/pattern&gt;\n\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n&lt;appender name=&quot;STDOUT&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n    &lt;encoder&gt;\n        &lt;pattern&gt;%d{yyyy-MM-dd HH:mm:ss.SSS} [%level] [%thread] [%logger:%line] %msg%n\n        &lt;/pattern&gt;\n    &lt;/encoder&gt;\n&lt;/appender&gt;\n\n\n&lt;logger name=&quot;org.springframework&quot; level=&quot;DEBUG&quot; /&gt;\n&lt;logger name=&quot;ir.co.pep&quot; level=&quot;DEBUG&quot; /&gt;\n&lt;logger name=&quot;org.hibernate&quot; level=&quot;ERROR&quot; /&gt;\n</code></pre>\n\n<pre><code>&lt;root level=&quot;INFO&quot;&gt;\n    &lt;appender-ref ref=&quot;STDOUT&quot; /&gt;\n    &lt;appender-ref ref=&quot;FILE&quot; /&gt;\n&lt;/root&gt;\n</code></pre>\n\n<p>complete guild in below link:<br />\n<a href=\"https://www.baeldung.com/spring-boot-logging\" rel=\"nofollow noreferrer\">Logging in spring</a></p>\n"}],"owner":{"account_id":20888119,"reputation":1,"user_id":15344204,"display_name":"Yella32121"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1688978033,"creation_date":1688977717,"question_id":76651993,"body_markdown":"I use : Windows, java 8 (1.8.0_291), Spring boot v2.4.10. \r\n\r\nI want to write my log messages in log file (and console). I configure my logger with **application.properties** (this file is located in the project resources folder):\r\n\r\n\r\n```\r\n#Try1 Don&#39;t work with it\r\n# logging.level.org.springframework.web=ERROR\r\n#Try2 Don&#39;t work with it\r\n# logging.level.ru.leodev=DEBUG\r\n\r\n#Try3 Don&#39;t work with it\r\nlogging.level.root = DEBUG\r\nlogging.level.com.mycompany.stackexp = DEBUG\r\n \r\nlogging.pattern.console= &quot;%d{yyyy-MM-dd HH:mm:ss} - %msg%n&quot;\r\n \r\nlogging.pattern.file= &quot;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&quot;\r\n \r\nlogging.file=e:\\Projects\\logs\\app.log\r\n```\r\n\r\nWhen my spring app starts, I write some test message in my log file, but I don&#39;t look my log file and record in it. I have folder **e:\\Projects\\logs**.\r\n\r\n\r\nMy spring class:\r\n\r\n\r\n```\r\npackage com.mycompany.stackexp;\r\n\r\nimport java.util.Properties;\r\nimport javax.servlet.MultipartConfigElement;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.context.ConfigurableApplicationContext;\r\nimport org.springframework.boot.ApplicationArguments;\r\nimport org.springframework.boot.web.servlet.MultipartConfigFactory;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.scheduling.annotation.EnableAsync;\r\nimport org.springframework.scheduling.annotation.EnableScheduling;\r\nimport org.springframework.util.unit.DataSize;\r\n\r\n@SpringBootApplication\r\n@EnableScheduling \r\n@EnableAsync \r\npublic class ThreadSpringServer { \r\n    \r\n    private ConfigurableApplicationContext context; //Config spring app\r\n    \r\n    public ThreadSpringServer(){}\r\n    \r\n    public void start() throws InterruptedException, Exception {\r\n        \r\n        Thread.currentThread().setName(&quot;ThreadSpringServer&quot;);\r\n        \r\n        System.out.println(&quot;Start SpringServer...&quot;);\r\n        context = SpringApplication.run(ThreadSpringServer.class);\r\n        System.out.println(&quot;SpringServer was successfully started, port: &quot;+System.getProperty(&quot;server.port&quot;));\r\n        \r\n    }\r\n    \r\n    @Bean(&quot;Bean1&quot;)\r\n    public MultipartConfigElement multipartConfigElement() {\r\n        MultipartConfigFactory factory = new MultipartConfigFactory();\r\n        \r\n        factory.setMaxFileSize(DataSize.parse(&quot;100MB&quot;));\r\n        factory.setMaxRequestSize(DataSize.parse(&quot;100MB&quot;));\r\n        return factory.createMultipartConfig();\r\n    }   \r\n}\r\n```\r\n\r\nAnd my spring controller class:\r\n\r\n\r\n```\r\n\r\npackage com.mycompany.stackexp;\r\n\r\nimport org.springframework.web.bind.annotation.DeleteMapping;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.PathVariable;\r\nimport org.springframework.web.bind.annotation.PostMapping;\r\nimport org.springframework.web.bind.annotation.RequestBody;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RequestMethod;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\nimport org.springframework.web.bind.annotation.ResponseBody;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport org.springframework.web.multipart.MultipartFile;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext;\r\n\r\n//my logger\r\nimport org.slf4j.Logger;\r\nimport org.slf4j.LoggerFactory;\r\n\r\n@RestController\r\npublic class ControllerSpring {\r\n \r\n    private Logger springLogger = LoggerFactory.getLogger(ControllerSpring.class);\r\n    \r\n    @Autowired\r\n    private ServletWebServerApplicationContext webServerAppCtxt;\r\n    \r\n    @GetMapping(&quot;/myLog&quot;)\r\n    @ResponseBody\r\n    public String getSpringTestMes() throws InterruptedException, IOException, ParseException, Exception {\r\n        springLogger.error(&quot;errorMes&quot;);\r\n        springLogger.info(&quot;infoMes&quot;);\r\n        springLogger.debug(&quot;debugMes&quot;);\r\n        \r\n        return &quot;Spring boot create test mes in log file&quot;;\r\n    }\r\n```\r\n\r\nMy pom.xml:\r\n\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\r\n    &lt;artifactId&gt;AutoHandler&lt;/artifactId&gt;\r\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n    &lt;packaging&gt;jar&lt;/packaging&gt;\r\n    &lt;properties&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;java.version&gt;1.8&lt;/java.version&gt;&gt;\r\n    &lt;/properties&gt;\r\n    \r\n    &lt;dependencies&gt;\r\n       \r\n        &lt;!-- Spring for REST API --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.10&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n            &lt;version&gt;2.4.10&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.9&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2.17&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\r\n            &lt;version&gt;3.6.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\r\n            &lt;artifactId&gt;maven-project&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2.1&lt;/version&gt;\r\n        &lt;/dependency&gt;     \r\n       \r\n        &lt;!-- Test dependencies --&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.28&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.28&lt;/version&gt;\r\n            &lt;scope&gt;test&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\r\n            &lt;version&gt;1.7.28&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\r\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\r\n            &lt;version&gt;1.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n    &lt;build&gt;\r\n        &lt;plugins&gt;\r\n            \r\n            &lt;!-- Other build plugins for create .jar--&gt;\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;2.4.10&lt;/version&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\r\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\r\n                            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\r\n                            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\r\n                            &lt;mainClass&gt;com.mycompany.stackexp.Main&lt;/mainClass&gt;\r\n                       \r\n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\r\n                            &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;source&gt;1.5&lt;/source&gt;\r\n                    &lt;target&gt;1.5&lt;/target&gt;\r\n                &lt;/configuration&gt;\r\n            &lt;/plugin&gt;\r\n                      \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.1&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;attach-sources&lt;/id&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;jar&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n            \r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.0&lt;/version&gt;\r\n                &lt;configuration&gt;\r\n                    &lt;archive&gt;\r\n                        &lt;manifest&gt;\r\n                            &lt;mainClass&gt;com.mycompany.stackexp.Main&lt;/mainClass&gt;\r\n                        &lt;/manifest&gt;\r\n                    &lt;/archive&gt;\r\n                    &lt;descriptorRefs&gt;\r\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\r\n                    &lt;/descriptorRefs&gt;\r\n                &lt;/configuration&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;single&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    &lt;name&gt;AutoHandler&lt;/name&gt;\r\n&lt;/project&gt;\r\n```\r\n\r\n\r\n\r\n\r\nI try to use my controller entity: &quot;http://localhost:3333/myLog&quot;, and I expect the creation of a log file in my selected directory (path in application.properties): **e:\\Projects\\logs\\app.log**, but there isn&#39;t log file in this directory.\r\n\r\nWhen I do it, I look message in console, but I need my log file. \r\nIt turns out that spring not only does not write data to the file, but also does not create it at the specified path.\r\n\r\n---\r\n\r\nCan you tell me what my possible mistakes might be? When the program starts, no errors are displayed and everything starts as it should\r\n","title":"Cannot set custom logging file path in Spring Boot","body":"<p>I use : Windows, java 8 (1.8.0_291), Spring boot v2.4.10.</p>\n<p>I want to write my log messages in log file (and console). I configure my logger with <strong>application.properties</strong> (this file is located in the project resources folder):</p>\n<pre><code>#Try1 Don't work with it\n# logging.level.org.springframework.web=ERROR\n#Try2 Don't work with it\n# logging.level.ru.leodev=DEBUG\n\n#Try3 Don't work with it\nlogging.level.root = DEBUG\nlogging.level.com.mycompany.stackexp = DEBUG\n \nlogging.pattern.console= &quot;%d{yyyy-MM-dd HH:mm:ss} - %msg%n&quot;\n \nlogging.pattern.file= &quot;%d{yyyy-MM-dd HH:mm:ss} [%thread] %-5level %logger{36} - %msg%n&quot;\n \nlogging.file=e:\\Projects\\logs\\app.log\n</code></pre>\n<p>When my spring app starts, I write some test message in my log file, but I don't look my log file and record in it. I have folder <strong>e:\\Projects\\logs</strong>.</p>\n<p>My spring class:</p>\n<pre><code>package com.mycompany.stackexp;\n\nimport java.util.Properties;\nimport javax.servlet.MultipartConfigElement;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.context.ConfigurableApplicationContext;\nimport org.springframework.boot.ApplicationArguments;\nimport org.springframework.boot.web.servlet.MultipartConfigFactory;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.util.unit.DataSize;\n\n@SpringBootApplication\n@EnableScheduling \n@EnableAsync \npublic class ThreadSpringServer { \n    \n    private ConfigurableApplicationContext context; //Config spring app\n    \n    public ThreadSpringServer(){}\n    \n    public void start() throws InterruptedException, Exception {\n        \n        Thread.currentThread().setName(&quot;ThreadSpringServer&quot;);\n        \n        System.out.println(&quot;Start SpringServer...&quot;);\n        context = SpringApplication.run(ThreadSpringServer.class);\n        System.out.println(&quot;SpringServer was successfully started, port: &quot;+System.getProperty(&quot;server.port&quot;));\n        \n    }\n    \n    @Bean(&quot;Bean1&quot;)\n    public MultipartConfigElement multipartConfigElement() {\n        MultipartConfigFactory factory = new MultipartConfigFactory();\n        \n        factory.setMaxFileSize(DataSize.parse(&quot;100MB&quot;));\n        factory.setMaxRequestSize(DataSize.parse(&quot;100MB&quot;));\n        return factory.createMultipartConfig();\n    }   \n}\n</code></pre>\n<p>And my spring controller class:</p>\n<pre><code>\npackage com.mycompany.stackexp;\n\nimport org.springframework.web.bind.annotation.DeleteMapping;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.PathVariable;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RequestMethod;\nimport org.springframework.web.bind.annotation.RequestParam;\nimport org.springframework.web.bind.annotation.ResponseBody;\nimport org.springframework.web.bind.annotation.RestController;\nimport org.springframework.web.multipart.MultipartFile;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext;\n\n//my logger\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\n\n@RestController\npublic class ControllerSpring {\n \n    private Logger springLogger = LoggerFactory.getLogger(ControllerSpring.class);\n    \n    @Autowired\n    private ServletWebServerApplicationContext webServerAppCtxt;\n    \n    @GetMapping(&quot;/myLog&quot;)\n    @ResponseBody\n    public String getSpringTestMes() throws InterruptedException, IOException, ParseException, Exception {\n        springLogger.error(&quot;errorMes&quot;);\n        springLogger.info(&quot;infoMes&quot;);\n        springLogger.debug(&quot;debugMes&quot;);\n        \n        return &quot;Spring boot create test mes in log file&quot;;\n    }\n</code></pre>\n<p>My pom.xml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.mycompany&lt;/groupId&gt;\n    &lt;artifactId&gt;AutoHandler&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;&gt;\n    &lt;/properties&gt;\n    \n    &lt;dependencies&gt;\n       \n        &lt;!-- Spring for REST API --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;2.4.10&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;version&gt;2.4.10&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n            &lt;artifactId&gt;logback-classic&lt;/artifactId&gt;\n            &lt;version&gt;1.0.9&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n                    &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n            &lt;version&gt;1.2.17&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-core&lt;/artifactId&gt;\n            &lt;version&gt;3.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-artifact&lt;/artifactId&gt;\n            &lt;version&gt;3.6.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.maven&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-project&lt;/artifactId&gt;\n            &lt;version&gt;2.2.1&lt;/version&gt;\n        &lt;/dependency&gt;     \n       \n        &lt;!-- Test dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n            &lt;version&gt;1.7.28&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-simple&lt;/artifactId&gt;\n            &lt;version&gt;1.7.28&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;slf4j-api&lt;/artifactId&gt;\n            &lt;version&gt;1.7.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jul-to-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;1.7.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n            &lt;artifactId&gt;jcl-over-slf4j&lt;/artifactId&gt;\n            &lt;version&gt;1.7.28&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;commons-logging&lt;/groupId&gt;\n            &lt;artifactId&gt;commons-logging&lt;/artifactId&gt;\n            &lt;version&gt;1.2&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            \n            &lt;!-- Other build plugins for create .jar--&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.4.10&lt;/version&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;prepare-package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;${project.build.directory}/lib&lt;/outputDirectory&gt;\n                            &lt;overWriteReleases&gt;false&lt;/overWriteReleases&gt;\n                            &lt;overWriteSnapshots&gt;false&lt;/overWriteSnapshots&gt;\n                            &lt;overWriteIfNewer&gt;true&lt;/overWriteIfNewer&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;\n                            &lt;mainClass&gt;com.mycompany.stackexp.Main&lt;/mainClass&gt;\n                       \n                            &lt;addDefaultImplementationEntries&gt;true&lt;/addDefaultImplementationEntries&gt;\n                            &lt;addDefaultSpecificationEntries&gt;true&lt;/addDefaultSpecificationEntries&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;source&gt;1.5&lt;/source&gt;\n                    &lt;target&gt;1.5&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n                      \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-source-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;attach-sources&lt;/id&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;jar&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            \n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.2.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;mainClass&gt;com.mycompany.stackexp.Main&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                    &lt;descriptorRefs&gt;\n                        &lt;descriptorRef&gt;jar-with-dependencies&lt;/descriptorRef&gt;\n                    &lt;/descriptorRefs&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;make-assembly&lt;/id&gt; &lt;!-- this is used for inheritance merges --&gt;\n                        &lt;phase&gt;package&lt;/phase&gt; &lt;!-- bind to the packaging phase --&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;name&gt;AutoHandler&lt;/name&gt;\n&lt;/project&gt;\n</code></pre>\n<p>I try to use my controller entity: &quot;http://localhost:3333/myLog&quot;, and I expect the creation of a log file in my selected directory (path in application.properties): <strong>e:\\Projects\\logs\\app.log</strong>, but there isn't log file in this directory.</p>\n<p>When I do it, I look message in console, but I need my log file.\nIt turns out that spring not only does not write data to the file, but also does not create it at the specified path.</p>\n<hr />\n<p>Can you tell me what my possible mistakes might be? When the program starts, no errors are displayed and everything starts as it should</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9674,"page":318,"page_size":100}
