{"items":[{"tags":["java"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1637232358,"post_id":70018394,"comment_id":123773363,"body_markdown":"If you need to *read* from the file, why are you writing to it instead? Please [edit] your question to clarify what the program is supposed to do, including what the expected inputs and outputs are, and including a relevant part of the input file.","body":"If you need to <i>read</i> from the file, why are you writing to it instead? Please <a href=\"https://stackoverflow.com/posts/70018394/edit\">edit</a> your question to clarify what the program is supposed to do, including what the expected inputs and outputs are, and including a relevant part of the input file."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1637233334,"post_id":70018394,"comment_id":123773748,"body_markdown":"Not sure whether the edit introduced it, but the code given above does not even compile. Check `main(Strin[]args)`","body":"Not sure whether the edit introduced it, but the code given above does not even compile. Check <code>main(Strin[]args)</code>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1637233513,"post_id":70018394,"comment_id":123773819,"body_markdown":"@HiranChaudhuri what&#39;s changed in edits is [available](https://stackoverflow.com/posts/70018394/revisions) for everyone to see. Anyway, looks like an unrelated typo, I&#39;ll fix it myself.","body":"@HiranChaudhuri what&#39;s changed in edits is <a href=\"https://stackoverflow.com/posts/70018394/revisions\">available</a> for everyone to see. Anyway, looks like an unrelated typo, I&#39;ll fix it myself."},{"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"score":0,"creation_date":1637246401,"post_id":70018394,"comment_id":123779363,"body_markdown":"The code is evident to read from STDIN and write to a file named waterlevel.txt. So I guess that the problem is to read the last line from STDIN. This question has been answered in https://stackoverflow.com/questions/2660942/java-how-do-i-get-last-line-using-scanner","body":"The code is evident to read from STDIN and write to a file named waterlevel.txt. So I guess that the problem is to read the last line from STDIN. This question has been answered in <a href=\"https://stackoverflow.com/questions/2660942/java-how-do-i-get-last-line-using-scanner\" title=\"java how do i get last line using scanner\">stackoverflow.com/questions/2660942/&hellip;</a>"}],"owner":{"account_id":22140639,"reputation":11,"user_id":16390732,"display_name":"Alaadin "},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637233521,"creation_date":1637232060,"question_id":70018394,"body_markdown":"I don&#39;t know how to read the last line from the file so it will also be saved in `waterlevel`.\r\n\r\nI have to make in addition to the code a strukogram.   \r\n\r\n    import java.util.Scanner;\r\n    import java.io.FileWriter;\r\n    import java.ioException;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileReader;\r\n        \r\n    public class Dam{ \r\n        public static void main(String[] args) throws IOException {\r\n            Scanner sc = new Scanner(System.in);\r\n            FileWriter fw;\r\n            FileReader fr;\r\n            int waterLevel;\r\n            String text;\r\n        \r\n            do { \r\n                System.out.println(&quot;give the current water level&quot;);\r\n        \r\n                try {\r\n                    fw = new FileWriter(&quot;waterLevel.txt&quot;);\r\n                    text = sc.nextInt()+ &quot;\\n&quot;;\r\n        \r\n                    fw.write(text,0,text.length());\r\n                    fw.flush();\r\n                    fw.close;\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n        \r\n        \r\n            } while (waterLevel &lt; 15);\r\n\r\n            System.out.println(&quot;warning&quot;);        \r\n        }\r\n    }\r\n\r\n","title":"a program has an access on a file to read the current water level and give a warning when the water level is more than 15 meter","body":"<p>I don't know how to read the last line from the file so it will also be saved in <code>waterlevel</code>.</p>\n<p>I have to make in addition to the code a strukogram.</p>\n<pre><code>import java.util.Scanner;\nimport java.io.FileWriter;\nimport java.ioException;\nimport java.io.FileNotFoundException;\nimport java.io.FileReader;\n    \npublic class Dam{ \n    public static void main(String[] args) throws IOException {\n        Scanner sc = new Scanner(System.in);\n        FileWriter fw;\n        FileReader fr;\n        int waterLevel;\n        String text;\n    \n        do { \n            System.out.println(&quot;give the current water level&quot;);\n    \n            try {\n                fw = new FileWriter(&quot;waterLevel.txt&quot;);\n                text = sc.nextInt()+ &quot;\\n&quot;;\n    \n                fw.write(text,0,text.length());\n                fw.flush();\n                fw.close;\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n    \n    \n        } while (waterLevel &lt; 15);\n\n        System.out.println(&quot;warning&quot;);        \n    }\n}\n</code></pre>\n"},{"tags":["java","out-of-memory","wildfly","java-11","undertow"],"comments":[{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1635518298,"post_id":69769819,"comment_id":123327856,"body_markdown":"can you roll back one of the version upgrades to see if you can reduce the &quot;pool of suspects&quot;?","body":"can you roll back one of the version upgrades to see if you can reduce the &quot;pool of suspects&quot;?"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1635520284,"post_id":69769819,"comment_id":123328657,"body_markdown":"@Gus That is one idea I also had. I&#39;ll try that and report back.","body":"@Gus That is one idea I also had. I&#39;ll try that and report back."},{"owner":{"account_id":255453,"reputation":3554,"user_id":535515,"accept_rate":100,"display_name":"Gus"},"score":0,"creation_date":1635525739,"post_id":69769819,"comment_id":123330794,"body_markdown":"There&#39;s a discussion from an older version of WildFly here https://stackoverflow.com/questions/63519501/outofmemoryerror-direct-buffer-memory-when-using-websockets-in-wildfly; might be relevant since it looks like they didn&#39;t fix a &quot;bug&quot;, just recommended a config change (reduce io worker thread count).","body":"There&#39;s a discussion from an older version of WildFly here <a href=\"https://stackoverflow.com/questions/63519501/outofmemoryerror-direct-buffer-memory-when-using-websockets-in-wildfly\" title=\"outofmemoryerror direct buffer memory when using websockets in wildfly\">stackoverflow.com/questions/63519501/&hellip;</a>; might be relevant since it looks like they didn&#39;t fix a &quot;bug&quot;, just recommended a config change (reduce io worker thread count)."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1635534350,"post_id":69769819,"comment_id":123333410,"body_markdown":"DirectByteBuffers created in Java have their native memory cleaned up when the Buffer object becomes unreachable (using Cleaners). The fact that this doesn&#39;t happen, up until an OOME happens, seems to imply a resource leak: something is holding on to the Buffer objects meaning the backing native memory can never be cleaned up. FWIW, this doesn&#39;t look like a JVM bug to me. More likely either you have to do something to explicitly release the resource (like call close() somewhere, or remove a global reference to something that indirectly references the buffers).","body":"DirectByteBuffers created in Java have their native memory cleaned up when the Buffer object becomes unreachable (using Cleaners). The fact that this doesn&#39;t happen, up until an OOME happens, seems to imply a resource leak: something is holding on to the Buffer objects meaning the backing native memory can never be cleaned up. FWIW, this doesn&#39;t look like a JVM bug to me. More likely either you have to do something to explicitly release the resource (like call close() somewhere, or remove a global reference to something that indirectly references the buffers)."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1635534628,"post_id":69769819,"comment_id":123333490,"body_markdown":"FWIW, depending on how you do them, and the used GC, manual GCs might have no effect because the GC doesn&#39;t &#39;see&#39; the native memory that is attached to the buffer. Usually you have to increase pressure on the Java heap first (e.g. by allocating large arrays in a loop), and _then_ do a manual GC to trigger the cleanup.","body":"FWIW, depending on how you do them, and the used GC, manual GCs might have no effect because the GC doesn&#39;t &#39;see&#39; the native memory that is attached to the buffer. Usually you have to increase pressure on the Java heap first (e.g. by allocating large arrays in a loop), and <i>then</i> do a manual GC to trigger the cleanup."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1635756543,"post_id":69769819,"comment_id":123369814,"body_markdown":"@Gus I already mentioned that link inside my post - this is indeed the closest thing I could find to my problem. (And I am using the exact same wildfly version mentioned there) However reducing the number of workers didn&#39;t work for me since our number is quite low from the start. But maybe the concept of the workers in relation to IO threads is not fully clear to me. I&#39;ll update my post...","body":"@Gus I already mentioned that link inside my post - this is indeed the closest thing I could find to my problem. (And I am using the exact same wildfly version mentioned there) However reducing the number of workers didn&#39;t work for me since our number is quite low from the start. But maybe the concept of the workers in relation to IO threads is not fully clear to me. I&#39;ll update my post..."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1635772915,"post_id":69769819,"comment_id":123375594,"body_markdown":"@JornVernee Thank you for your answer. I also suspect a potential leak however I don&#39;t know how to identify the class involved. In the OOM error Stacktrace the HttpReadListener is mentioned and in the JXRay screenshot only some internal wildfly classes - so it is difficult to release that unknown resource...","body":"@JornVernee Thank you for your answer. I also suspect a potential leak however I don&#39;t know how to identify the class involved. In the OOM error Stacktrace the HttpReadListener is mentioned and in the JXRay screenshot only some internal wildfly classes - so it is difficult to release that unknown resource..."},{"owner":{"account_id":4555218,"reputation":32585,"user_id":3699139,"display_name":"Jorn Vernee"},"score":0,"creation_date":1635803442,"post_id":69769819,"comment_id":123386344,"body_markdown":"I&#39;m not sure JXRay supports doing this, though I&#39;d expect so, but you could try to go over the list of buffers in that cache and see what other things are referencing those buffers. FWIW, at least looking at the ByteBufferSlicePool.java here: https://github.com/xnio/xnio/blob/2769e40ff89150fd46b776c05a2d276c0acc6ece/api/src/main/java/org/xnio/ByteBufferSlicePool.java I can see things being added to that `directBuffers` list, but never removed, so they would stay around until the pool is GC&#39;d.","body":"I&#39;m not sure JXRay supports doing this, though I&#39;d expect so, but you could try to go over the list of buffers in that cache and see what other things are referencing those buffers. FWIW, at least looking at the ByteBufferSlicePool.java here: <a href=\"https://github.com/xnio/xnio/blob/2769e40ff89150fd46b776c05a2d276c0acc6ece/api/src/main/java/org/xnio/ByteBufferSlicePool.java\" rel=\"nofollow noreferrer\">github.com/xnio/xnio/blob/&hellip;</a> I can see things being added to that <code>directBuffers</code> list, but never removed, so they would stay around until the pool is GC&#39;d."},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1636052819,"post_id":69769819,"comment_id":123461751,"body_markdown":"@Gus I reverted the java back to version 8 and it still shows the same behavior. Thus most probably wildfly 18.0.1 is causing the problems.","body":"@Gus I reverted the java back to version 8 and it still shows the same behavior. Thus most probably wildfly 18.0.1 is causing the problems."},{"owner":{"account_id":3883809,"reputation":895,"user_id":3215705,"accept_rate":75,"display_name":"mystery"},"score":0,"creation_date":1636373434,"post_id":69769819,"comment_id":123530831,"body_markdown":"Check whether there is any open files which should be closed of that process (via lsof command). Also check your source code for potential memory leak: input stream, resource not closed properly.","body":"Check whether there is any open files which should be closed of that process (via lsof command). Also check your source code for potential memory leak: input stream, resource not closed properly."}],"answers":[{"tags":[],"owner":{"account_id":7173137,"reputation":1,"user_id":9284669,"display_name":"Evgeny Dementev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636121977,"creation_date":1636121977,"answer_id":69854706,"question_id":69769819,"body_markdown":"Probably its a Xnio problem. Look at this issue https://issues.redhat.com/browse/JBEAP-728","title":"Direct buffer memory OutOfMemoryError after updating to wildfly 18","body":"<p>Probably its a Xnio problem. Look at this issue <a href=\"https://issues.redhat.com/browse/JBEAP-728\" rel=\"nofollow noreferrer\">https://issues.redhat.com/browse/JBEAP-728</a></p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637233495,"creation_date":1637194554,"answer_id":70013114,"question_id":69769819,"body_markdown":"After lots of analyzing, profiling etc. I draw the following conclusion:\r\n\r\n - The cause of the OOM is caused by wildfly in version 18.0.1. It also exists in 19.1.0 (did not test 20 or 21)\r\n - I was able to trigger the OOM fairly quickly when setting the `-XX:MaxDirectMemorySize` to values like 512m or lower. I think many people don&#39;t experience the problem since by default this value is equals the Xmx value which can be quite big. The problems occurs when using the ReST API of our application\r\n - As Evgeny indicated [XNIO is a high potential candidat][1]e since when profiling it narrowed down to (or near) that area...\r\n - I didn&#39;t have the time to investigate further so I tried wildfly 22 and there it is working. This version is using the latest xnio package (3.8.4)\r\n - the DirectMemory remains quite low in WF 22. It is around 10mb. One can see the count rising and falling which wasn&#39;t the case before\r\n\r\n**So the final fix is to update to wildfly version 22.0.1** (or higher)\r\n\r\n\r\n  [1]: https://issues.redhat.com/browse/XNIO-254?jql=project%20%3D%20XNIO%20AND%20text%20~%20leak","title":"Direct buffer memory OutOfMemoryError after updating to wildfly 18","body":"<p>After lots of analyzing, profiling etc. I draw the following conclusion:</p>\n<ul>\n<li>The cause of the OOM is caused by wildfly in version 18.0.1. It also exists in 19.1.0 (did not test 20 or 21)</li>\n<li>I was able to trigger the OOM fairly quickly when setting the <code>-XX:MaxDirectMemorySize</code> to values like 512m or lower. I think many people don't experience the problem since by default this value is equals the Xmx value which can be quite big. The problems occurs when using the ReST API of our application</li>\n<li>As Evgeny indicated <a href=\"https://issues.redhat.com/browse/XNIO-254?jql=project%20%3D%20XNIO%20AND%20text%20%7E%20leak\" rel=\"nofollow noreferrer\">XNIO is a high potential candidat</a>e since when profiling it narrowed down to (or near) that area...</li>\n<li>I didn't have the time to investigate further so I tried wildfly 22 and there it is working. This version is using the latest xnio package (3.8.4)</li>\n<li>the DirectMemory remains quite low in WF 22. It is around 10mb. One can see the count rising and falling which wasn't the case before</li>\n</ul>\n<p><strong>So the final fix is to update to wildfly version 22.0.1</strong> (or higher)</p>\n"}],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4217,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":70013114,"answer_count":2,"score":5,"last_activity_date":1637233495,"creation_date":1635514396,"question_id":69769819,"body_markdown":"After updating the environment from `Wildfly 13` to `Wildfly 18.0.1` we experienced an \r\n\r\n    A channel event listener threw an exception: java.lang.OutOfMemoryError: Direct buffer memory\r\n\tat java.base/java.nio.Bits.reserveMemory(Bits.java:175)\r\n\tat java.base/java.nio.DirectByteBuffer.&lt;init&gt;(DirectByteBuffer.java:118)\r\n\tat java.base/java.nio.ByteBuffer.allocateDirect(ByteBuffer.java:317)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.BufferAllocator$2.allocate(BufferAllocator.java:57)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.BufferAllocator$2.allocate(BufferAllocator.java:55)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.ByteBufferSlicePool.allocateSlices(ByteBufferSlicePool.java:162)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.ByteBufferSlicePool.allocate(ByteBufferSlicePool.java:149)\r\n\tat io.undertow.core@2.0.27.Final//io.undertow.server.XnioByteBufferPool.allocate(XnioByteBufferPool.java:53)\r\n\tat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:147)\r\n\tat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)\r\n\tat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n\tat org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n\tat org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\r\n\r\nNothing was changed on the application side. I looked at the Buffer pools and it seems that some resources are not freed. I triggered several manual GCs but nearly nothing happens. (Uptime 2h)\r\n\r\n[![Buffer Pool with steadily growing][1]][1] \r\n\r\nBefore in the old configuration it looked like this (Uptime &gt;250h):\r\n\r\n[![Buffer Pool which is correctly freed][2]][2]\r\n\r\nNow I did a lot of research and the closest thing I could find is this [post][3] here on SO. However  this was in combination with websockets but there are **no** websockets in use.\r\nI read several (good) articles ([1][4],[2][5],[3][6],[4][7],[5][8],[6][9]) and watched this [video][10] about the topic.\r\nThe following things I tried but nothing had any effect:\r\n\r\n 1. The OutOfMemoryError occurred at 5GB since the heap is 5GB =&gt; I reduced the MaxDirectMemorySize to 512m and then 64m but then the OOM just occurs quicker\r\n 2. I set `-Djdk.nio.maxCachedBufferSize=262144`\r\n 3. I checked the number of IO workers: 96 (6cpus*16) which seems reasonable. The system has usually short lived threads (largest pool size was 13). So it could not be the number of workers I guess\r\n 4. I switched back to ParallelGC since this was default in Java8. Now when doing a manual GC at least 10MB are freed. For GC1 nothing happens at all. But still both GCs cannot clean up.\r\n 5. I removed the `&lt;websockets&gt;` from the wildfly configuration just to be sure\r\n 6. I tried to emulate it locally but failed.\r\n 7. I analyzed the heap using eclipseMAT and JXRay but it just points to some internal wildfly classes. [![JXRay showing 1544 objects referenced as DirectByteBuffers][11]][11]\r\n 8. I reverted Java back to version 8 and the system still shows the same behavior thus wildfly is the most probable suspect.\r\n\r\nIn eclipseMAT one could also find these 1544 objects. They all got the same size.\r\n[![eclipseMAT showing the DirectByteBuffer references][12]][12]\r\n\r\n\r\n\r\nThe only thing what did work was to deactivate the bytebuffers in wildfly completely.\r\n\r\n    /subsystem=io/buffer-pool=default:write-attribute(name=direct-buffers,value=false)\r\n\r\nHowever from what I read this has a performance drawback?\r\n\r\n**So does anyone know what the problem is? Any hints for additional settings / tweaks? Or was there a known Wildfly or JVM bug related to this?**\r\n\r\n**Update 1**: Regarding the IO threads - maybe the concept is not 100% clear to me. Because there is the `ioThreads` value \r\n[![enter image description here][13]][13]\r\nAnd there are the threads and thread pools.\r\n[![enter image description here][14]][14]\r\n\r\nFrom the definition one could think that per worker thread the number of `ioThreads` is created (in my case 12)? But still the number of threads / workers seems quite low in my case...\r\n\r\n**Update 2:** I downgraded java and it still shows the same behavior. Thus I suspect wildfly to be cause of the problem. \r\n\r\n  [1]: https://i.stack.imgur.com/QgaPx.png\r\n  [2]: https://i.stack.imgur.com/tbklE.png\r\n  [3]: https://stackoverflow.com/questions/63519501/outofmemoryerror-direct-buffer-memory-when-using-websockets-in-wildfly\r\n  [4]: http://www.mastertheboss.com/java/troubleshooting-outofmemoryerror-direct-buffer-memory/\r\n  [5]: https://tech.ebayinc.com/engineering/sre-case-study-triage-a-non-heap-jvm-out-of-memory-issue/\r\n  [6]: https://docs.jboss.org/teiid/7.6.0.Final/admin-guide/en-US/html/performance.html\r\n  [7]: https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi\r\n  [8]: https://www.evanjones.ca/java-bytebuffer-leak.html\r\n  [9]: https://dzone.com/articles/troubleshooting-problems-with-native-off-heap-memo\r\n  [10]: https://www.youtube.com/watch?v=c755fFv1Rnk\r\n  [11]: https://i.stack.imgur.com/DyAdt.png\r\n  [12]: https://i.stack.imgur.com/IDbuV.png\r\n  [13]: https://i.stack.imgur.com/clWkM.png\r\n  [14]: https://i.stack.imgur.com/9oksL.png","title":"Direct buffer memory OutOfMemoryError after updating to wildfly 18","body":"<p>After updating the environment from <code>Wildfly 13</code> to <code>Wildfly 18.0.1</code> we experienced an</p>\n<pre><code>A channel event listener threw an exception: java.lang.OutOfMemoryError: Direct buffer memory\nat java.base/java.nio.Bits.reserveMemory(Bits.java:175)\nat java.base/java.nio.DirectByteBuffer.&lt;init&gt;(DirectByteBuffer.java:118)\nat java.base/java.nio.ByteBuffer.allocateDirect(ByteBuffer.java:317)\nat org.jboss.xnio@3.7.3.Final//org.xnio.BufferAllocator$2.allocate(BufferAllocator.java:57)\nat org.jboss.xnio@3.7.3.Final//org.xnio.BufferAllocator$2.allocate(BufferAllocator.java:55)\nat org.jboss.xnio@3.7.3.Final//org.xnio.ByteBufferSlicePool.allocateSlices(ByteBufferSlicePool.java:162)\nat org.jboss.xnio@3.7.3.Final//org.xnio.ByteBufferSlicePool.allocate(ByteBufferSlicePool.java:149)\nat io.undertow.core@2.0.27.Final//io.undertow.server.XnioByteBufferPool.allocate(XnioByteBufferPool.java:53)\nat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEventWithNoRunningRequest(HttpReadListener.java:147)\nat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:136)\nat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.http.HttpReadListener.handleEvent(HttpReadListener.java:59)\nat org.jboss.xnio@3.7.3.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\nat org.jboss.xnio@3.7.3.Final//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\nat org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\nat org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\n</code></pre>\n<p>Nothing was changed on the application side. I looked at the Buffer pools and it seems that some resources are not freed. I triggered several manual GCs but nearly nothing happens. (Uptime 2h)</p>\n<p><a href=\"https://i.stack.imgur.com/QgaPx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QgaPx.png\" alt=\"Buffer Pool with steadily growing\" /></a></p>\n<p>Before in the old configuration it looked like this (Uptime &gt;250h):</p>\n<p><a href=\"https://i.stack.imgur.com/tbklE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tbklE.png\" alt=\"Buffer Pool which is correctly freed\" /></a></p>\n<p>Now I did a lot of research and the closest thing I could find is this <a href=\"https://stackoverflow.com/questions/63519501/outofmemoryerror-direct-buffer-memory-when-using-websockets-in-wildfly\">post</a> here on SO. However  this was in combination with websockets but there are <strong>no</strong> websockets in use.\nI read several (good) articles (<a href=\"http://www.mastertheboss.com/java/troubleshooting-outofmemoryerror-direct-buffer-memory/\" rel=\"nofollow noreferrer\">1</a>,<a href=\"https://tech.ebayinc.com/engineering/sre-case-study-triage-a-non-heap-jvm-out-of-memory-issue/\" rel=\"nofollow noreferrer\">2</a>,<a href=\"https://docs.jboss.org/teiid/7.6.0.Final/admin-guide/en-US/html/performance.html\" rel=\"nofollow noreferrer\">3</a>,<a href=\"https://stackoverflow.com/questions/53451103/java-using-much-more-memory-than-heap-size-or-size-correctly-docker-memory-limi\">4</a>,<a href=\"https://www.evanjones.ca/java-bytebuffer-leak.html\" rel=\"nofollow noreferrer\">5</a>,<a href=\"https://dzone.com/articles/troubleshooting-problems-with-native-off-heap-memo\" rel=\"nofollow noreferrer\">6</a>) and watched this <a href=\"https://www.youtube.com/watch?v=c755fFv1Rnk\" rel=\"nofollow noreferrer\">video</a> about the topic.\nThe following things I tried but nothing had any effect:</p>\n<ol>\n<li>The OutOfMemoryError occurred at 5GB since the heap is 5GB =&gt; I reduced the MaxDirectMemorySize to 512m and then 64m but then the OOM just occurs quicker</li>\n<li>I set <code>-Djdk.nio.maxCachedBufferSize=262144</code></li>\n<li>I checked the number of IO workers: 96 (6cpus*16) which seems reasonable. The system has usually short lived threads (largest pool size was 13). So it could not be the number of workers I guess</li>\n<li>I switched back to ParallelGC since this was default in Java8. Now when doing a manual GC at least 10MB are freed. For GC1 nothing happens at all. But still both GCs cannot clean up.</li>\n<li>I removed the <code>&lt;websockets&gt;</code> from the wildfly configuration just to be sure</li>\n<li>I tried to emulate it locally but failed.</li>\n<li>I analyzed the heap using eclipseMAT and JXRay but it just points to some internal wildfly classes. <a href=\"https://i.stack.imgur.com/DyAdt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DyAdt.png\" alt=\"JXRay showing 1544 objects referenced as DirectByteBuffers\" /></a></li>\n<li>I reverted Java back to version 8 and the system still shows the same behavior thus wildfly is the most probable suspect.</li>\n</ol>\n<p>In eclipseMAT one could also find these 1544 objects. They all got the same size.\n<a href=\"https://i.stack.imgur.com/IDbuV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/IDbuV.png\" alt=\"eclipseMAT showing the DirectByteBuffer references\" /></a></p>\n<p>The only thing what did work was to deactivate the bytebuffers in wildfly completely.</p>\n<pre><code>/subsystem=io/buffer-pool=default:write-attribute(name=direct-buffers,value=false)\n</code></pre>\n<p>However from what I read this has a performance drawback?</p>\n<p><strong>So does anyone know what the problem is? Any hints for additional settings / tweaks? Or was there a known Wildfly or JVM bug related to this?</strong></p>\n<p><strong>Update 1</strong>: Regarding the IO threads - maybe the concept is not 100% clear to me. Because there is the <code>ioThreads</code> value\n<a href=\"https://i.stack.imgur.com/clWkM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/clWkM.png\" alt=\"enter image description here\" /></a>\nAnd there are the threads and thread pools.\n<a href=\"https://i.stack.imgur.com/9oksL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9oksL.png\" alt=\"enter image description here\" /></a></p>\n<p>From the definition one could think that per worker thread the number of <code>ioThreads</code> is created (in my case 12)? But still the number of threads / workers seems quite low in my case...</p>\n<p><strong>Update 2:</strong> I downgraded java and it still shows the same behavior. Thus I suspect wildfly to be cause of the problem.</p>\n"},{"tags":["java","websocket","out-of-memory","wildfly","undertow"],"comments":[{"owner":{"account_id":3293418,"reputation":588,"user_id":2771187,"display_name":"Vinay KV"},"score":0,"creation_date":1598252331,"post_id":63519501,"comment_id":112386016,"body_markdown":"Are you sure unsubscribe/onClose is called without any issues for all WebSocket closure?\n\nAre you able to recreate this issue, if yes what are the steps to do so?\n\nI have two initial suspects\n 1. Unsubscribe is not called so sessions are accumulated.\n 2. On unsubscribe, you are not leaving some residue","body":"Are you sure unsubscribe/onClose is called without any issues for all WebSocket closure?  Are you able to recreate this issue, if yes what are the steps to do so?  I have two initial suspects  1. Unsubscribe is not called so sessions are accumulated.  2. On unsubscribe, you are not leaving some residue"},{"owner":{"account_id":1671691,"reputation":1686,"user_id":1538039,"display_name":"Dylan Morley"},"score":0,"creation_date":1598252638,"post_id":63519501,"comment_id":112386140,"body_markdown":"As mentioned by @VinayKV, are you sure that your sessions map is correctly being maintained and you aren&#39;t just building up more and more sockets? A &#39;sessioncount&#39; metric to measure this would be useful. Also, this thread has some detail about older version of code causing onClose not to execute, might be something worth investigating - https://stackoverflow.com/a/45434399/1538039","body":"As mentioned by @VinayKV, are you sure that your sessions map is correctly being maintained and you aren&#39;t just building up more and more sockets? A &#39;sessioncount&#39; metric to measure this would be useful. Also, this thread has some detail about older version of code causing onClose not to execute, might be something worth investigating - <a href=\"https://stackoverflow.com/a/45434399/1538039\">stackoverflow.com/a/45434399/1538039</a>"},{"owner":{"account_id":873349,"reputation":3374,"user_id":923712,"accept_rate":67,"display_name":"Xavier Portebois"},"score":0,"creation_date":1598252937,"post_id":63519501,"comment_id":112386249,"body_markdown":"The onClose() and unsubscribe() methods are called, yes, and logs are ending signaling that each user doesn&#39;t have any more sessions opened (&quot;user 123 has 0 messenger socket session(s) (one removed)&quot;).","body":"The onClose() and unsubscribe() methods are called, yes, and logs are ending signaling that each user doesn&#39;t have any more sessions opened (&quot;user 123 has 0 messenger socket session(s) (one removed)&quot;)."},{"owner":{"account_id":3293418,"reputation":588,"user_id":2771187,"display_name":"Vinay KV"},"score":0,"creation_date":1598254462,"post_id":63519501,"comment_id":112386863,"body_markdown":"Are you able to reproduce this issue?\n\nIf yes, monitor the memory to see where the leak is when unsubscribe is called.\n\nlooks like some residue when socket session is unsubscribed","body":"Are you able to reproduce this issue?  If yes, monitor the memory to see where the leak is when unsubscribe is called.  looks like some residue when socket session is unsubscribed"},{"owner":{"account_id":873349,"reputation":3374,"user_id":923712,"accept_rate":67,"display_name":"Xavier Portebois"},"score":0,"creation_date":1598256692,"post_id":63519501,"comment_id":112387877,"body_markdown":"Sorry, forgot that part. No, I could not reproduce the issue. I tried with a Gatling scenario generating a lot of traffic, manually opening the websockets (as Gatling does not handle javascript), and the leak did not occur.","body":"Sorry, forgot that part. No, I could not reproduce the issue. I tried with a Gatling scenario generating a lot of traffic, manually opening the websockets (as Gatling does not handle javascript), and the leak did not occur."},{"owner":{"account_id":2408521,"reputation":3734,"user_id":2104280,"accept_rate":78,"display_name":"Jan-Willem Gmelig Meyling"},"score":0,"creation_date":1598353497,"post_id":63519501,"comment_id":112425029,"body_markdown":"From the code I don&#39;t find anything suspicious. Could you retest on an other WildFly version? Also, you might want to consider filing a JIRA issue for this. Personally I&#39;ve found a memory leak in EJB a couple of WildFly versions ago, so mistakes do happen.","body":"From the code I don&#39;t find anything suspicious. Could you retest on an other WildFly version? Also, you might want to consider filing a JIRA issue for this. Personally I&#39;ve found a memory leak in EJB a couple of WildFly versions ago, so mistakes do happen."},{"owner":{"account_id":12420222,"reputation":2810,"user_id":9047589,"display_name":"Pak Uula"},"score":0,"creation_date":1598407262,"post_id":63519501,"comment_id":112446585,"body_markdown":"All buffer handling is done inside Undertow. You have no access to allocation and release of resources, right? My guess is that the problem is on the client side. Try a couple of clients. One client lives a long life and sends tons of messages. The second client tries to send a 2 Gb video over websocket. My bet is that it is the second type of clients that might overload your system. Could you limit the size of the message on the client side?","body":"All buffer handling is done inside Undertow. You have no access to allocation and release of resources, right? My guess is that the problem is on the client side. Try a couple of clients. One client lives a long life and sends tons of messages. The second client tries to send a 2 Gb video over websocket. My bet is that it is the second type of clients that might overload your system. Could you limit the size of the message on the client side?"},{"owner":{"account_id":873349,"reputation":3374,"user_id":923712,"accept_rate":67,"display_name":"Xavier Portebois"},"score":0,"creation_date":1598423647,"post_id":63519501,"comment_id":112450308,"body_markdown":"To be fair, the feature is neither used (we removed it from now to avoid OoM on production environment), and users can only send simple text messages. Nevertheless, as Gatling could not reproduce the issue, I suspect some clients handling their websockets curiously.","body":"To be fair, the feature is neither used (we removed it from now to avoid OoM on production environment), and users can only send simple text messages. Nevertheless, as Gatling could not reproduce the issue, I suspect some clients handling their websockets curiously."},{"owner":{"account_id":2015750,"reputation":493,"user_id":1803097,"accept_rate":92,"display_name":"Victor Bello"},"score":0,"creation_date":1622674186,"post_id":63519501,"comment_id":119863263,"body_markdown":"@XavierPortebois, any update on this? We are facing the same issue.","body":"@XavierPortebois, any update on this? We are facing the same issue."},{"owner":{"account_id":873349,"reputation":3374,"user_id":923712,"accept_rate":67,"display_name":"Xavier Portebois"},"score":0,"creation_date":1622710593,"post_id":63519501,"comment_id":119871559,"body_markdown":"@VictorBello Halas no, we had to disable websockets :-/","body":"@VictorBello Halas no, we had to disable websockets :-/"},{"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"score":0,"creation_date":1635502181,"post_id":63519501,"comment_id":123321378,"body_markdown":"@XavierPortebois We have exactly the same problem. What JVM are you using? We recently updated to Wildfly 18 and Java 11 I think this could be the reason in our case...How did you disable your websockets? Remove the `&lt;websockets/&gt;` entry from standalone.xml? We do not even use websockets ...","body":"@XavierPortebois We have exactly the same problem. What JVM are you using? We recently updated to Wildfly 18 and Java 11 I think this could be the reason in our case...How did you disable your websockets? Remove the <code>&lt;websockets&#47;&gt;</code> entry from standalone.xml? We do not even use websockets ..."}],"answers":[{"tags":[],"owner":{"account_id":19238625,"reputation":1937,"user_id":14059097,"display_name":"Cyril G."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1598800640,"creation_date":1598800640,"answer_id":63658933,"question_id":63519501,"body_markdown":"Looking at this [post][1] this may happen if you have a lot of CPU. This was solved by decreasing the number of IO workers. Not sure if this can help in your case.\r\n\r\n\r\n  [1]: https://developer.jboss.org/thread/275202","title":"OutOfMemoryError: Direct buffer memory when using websockets in WildFly","body":"<p>Looking at this <a href=\"https://developer.jboss.org/thread/275202\" rel=\"nofollow noreferrer\">post</a> this may happen if you have a lot of CPU. This was solved by decreasing the number of IO workers. Not sure if this can help in your case.</p>\n"},{"tags":[],"owner":{"account_id":2674923,"reputation":9479,"user_id":2311528,"accept_rate":59,"display_name":"Lonzak"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637233332,"creation_date":1637227708,"answer_id":70017372,"question_id":63519501,"body_markdown":"I also had a similar problem on our wildfly 18 (wildfly 19 suffers from it, too). It is probably triggered by a [faulty][1] xnio lib inside wildfly. After updating to wildfly 22 (using the latest xnio lib) the problem was gone.\r\n\r\n\r\n  [1]: https://issues.redhat.com/browse/XNIO-346","title":"OutOfMemoryError: Direct buffer memory when using websockets in WildFly","body":"<p>I also had a similar problem on our wildfly 18 (wildfly 19 suffers from it, too). It is probably triggered by a <a href=\"https://issues.redhat.com/browse/XNIO-346\" rel=\"nofollow noreferrer\">faulty</a> xnio lib inside wildfly. After updating to wildfly 22 (using the latest xnio lib) the problem was gone.</p>\n"}],"owner":{"account_id":873349,"reputation":3374,"user_id":923712,"accept_rate":67,"display_name":"Xavier Portebois"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2802,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":2,"score":7,"last_activity_date":1637233332,"creation_date":1597999489,"question_id":63519501,"body_markdown":"After a while on our WildFly 18 server, in production, we encountered this error:\r\n``` lang-none\r\n[org.xnio.listener] (default I/O-1) XNIO001007: A channel event listener threw an exception: \r\njava.lang.OutOfMemoryError: Direct buffer memory\r\n\tat java.base/java.nio.Bits.reserveMemory(Bits.java:175)\r\n\tat java.base/java.nio.DirectByteBuffer.&lt;init&gt;(DirectByteBuffer.java:118)\r\n\tat java.base/java.nio.ByteBuffer.allocateDirect(ByteBuffer.java:317)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.BufferAllocator$2.allocate(BufferAllocator.java:57)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.BufferAllocator$2.allocate(BufferAllocator.java:55)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.ByteBufferSlicePool.allocateSlices(ByteBufferSlicePool.java:162)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.ByteBufferSlicePool.allocate(ByteBufferSlicePool.java:149)\r\n\tat io.undertow.core@2.0.27.Final//io.undertow.server.XnioByteBufferPool.allocate(XnioByteBufferPool.java:53)\r\n\tat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.framed.AbstractFramedChannel.allocateReferenceCountedBuffer(AbstractFramedChannel.java:549)\r\n\tat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.framed.AbstractFramedChannel.receive(AbstractFramedChannel.java:370)\r\n\tat io.undertow.core@2.0.27.Final//io.undertow.websockets.core.AbstractReceiveListener.handleEvent(AbstractReceiveListener.java:38)\r\n\tat io.undertow.core@2.0.27.Final//io.undertow.websockets.core.AbstractReceiveListener.handleEvent(AbstractReceiveListener.java:33)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n\tat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.framed.AbstractFramedChannel$FrameReadListener.handleEvent(AbstractFramedChannel.java:950)\r\n\tat io.undertow.core@2.0.27.Final//io.undertow.server.protocol.framed.AbstractFramedChannel$FrameReadListener.handleEvent(AbstractFramedChannel.java:931)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\r\n\tat org.jboss.xnio@3.7.3.Final//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\r\n\tat org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\r\n\tat org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\r\n```\r\n\r\nWe checked a JVM dump through jxray, and it seems websockets are the culprit:\r\n\r\n[![jxray report showing a lot of DirectByteBuffer used by websockets][1]][1]\r\n\r\n\r\nFact is that our websocket is kind of straightforward:\r\n\r\n``` lang-java\r\n@ApplicationScoped\r\n@ServerEndpoint(value = &quot;/ws/messenger/{accountId}&quot;)\r\npublic class MessengerSocket implements Serializable\r\n{\r\n    private static final long serialVersionUID = -3173234888004281582L;\r\n\r\n    @Inject\r\n    private Logger log;\r\n    @Inject\r\n    private MessengerHandler handler;\r\n\r\n    @OnOpen\r\n    public void onOpen(@PathParam(&quot;accountId&quot;) String accountId, Session session, EndpointConfig config)\r\n    {\r\n        log.debug(&quot;Opening for {}&quot;, accountId);\r\n        handler.subscribeSocket(session, UUID.fromString(accountId));\r\n    }\r\n\r\n    @OnClose\r\n    public void onClose(@PathParam(&quot;accountId&quot;) String accountId, Session session, CloseReason closeReason)\r\n    {\r\n        log.debug(&quot;Closing {}&quot;, accountId);\r\n        handler.unsubscribeSocket(session, UUID.fromString(accountId));\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s coupled with a simple handler, managing a map of users sessions:\r\n\r\n``` lang-java\r\n@ApplicationScoped\r\npublic class MessengerHandler\r\n{\r\n    @Inject\r\n    private Logger log;\r\n\r\n    // key: Account id\r\n    private Map&lt;UUID, AccountMessengerSessions&gt; sessions;\r\n\r\n    public void init()\r\n    {\r\n        sessions = new ConcurrentHashMap&lt;&gt;();\r\n    }\r\n\r\n    public void subscribeSocket(Session session, UUID accountId)\r\n    {\r\n        // build and store the account messenger session if new\r\n        AccountMessengerSessions messenger = sessions.getOrDefault(accountId, new AccountMessengerSessions(accountId));\r\n        messenger.getWsSessions().add(session);\r\n        sessions.putIfAbsent(accountId, messenger);\r\n        log.debug(&quot;{} has {} messenger socket session(s) (one added)&quot;, messenger.getAccountId(), messenger.getWsSessions().size());\r\n    }\r\n\r\n    /**\r\n     * Unsubscribes the provided WebSocket from the Messenger.\r\n     */\r\n    public void unsubscribeSocket(Session session, UUID accountId)\r\n    {\r\n        if (!sessions.containsKey(accountId))\r\n        {\r\n            log.warn(&quot;Ignore unsubscription from {} socket, as {} is unknwon from messenger&quot;, session.getId(), accountId);\r\n            return;\r\n        }\r\n        AccountMessengerSessions messenger = sessions.get(accountId);\r\n        messenger.getWsSessions().remove(session);\r\n        log.debug(&quot;{} has {} messenger socket session(s) (one removed)&quot;, messenger.getAccountId(), messenger.getWsSessions().size());\r\n        if (!messenger.getWsSessions().isEmpty())\r\n        {\r\n            return;\r\n        }\r\n        // no more socket sessions, fully remove\r\n        sessions.remove(messenger.getAccountId());\r\n    }\r\n}\r\n```\r\n\r\nClient side, we have a bit of javascript called when a page is loaded, again, nothing fancy:\r\n\r\n``` lang-js\r\nvar accountId = // some string found in DOM\r\nvar websocketUrl = &quot;wss://&quot; + window.location.host + &quot;/ws/messenger/&quot; + accountId;\r\nvar websocket = new WebSocket(websocketUrl);\r\nwebsocket.onmessage = function (event) {\r\n  var data = JSON.parse(event.data);\r\n  // nothing fancy here...\r\n};\r\n```\r\n\r\nOur users don&#39;t use a lot the feature offered by the websocket (an instant messenger), so what is really happening in production is basically websockets opening and closing at each page, with very few messages sent through.\r\n\r\nWhere could we get it wrong and create this buffer leak? Did we forget something critical?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qLCCW.png","title":"OutOfMemoryError: Direct buffer memory when using websockets in WildFly","body":"<p>After a while on our WildFly 18 server, in production, we encountered this error:</p>\n<pre class=\"lang-none prettyprint-override\"><code>[org.xnio.listener] (default I/O-1) XNIO001007: A channel event listener threw an exception: \njava.lang.OutOfMemoryError: Direct buffer memory\n    at java.base/java.nio.Bits.reserveMemory(Bits.java:175)\n    at java.base/java.nio.DirectByteBuffer.&lt;init&gt;(DirectByteBuffer.java:118)\n    at java.base/java.nio.ByteBuffer.allocateDirect(ByteBuffer.java:317)\n    at org.jboss.xnio@3.7.3.Final//org.xnio.BufferAllocator$2.allocate(BufferAllocator.java:57)\n    at org.jboss.xnio@3.7.3.Final//org.xnio.BufferAllocator$2.allocate(BufferAllocator.java:55)\n    at org.jboss.xnio@3.7.3.Final//org.xnio.ByteBufferSlicePool.allocateSlices(ByteBufferSlicePool.java:162)\n    at org.jboss.xnio@3.7.3.Final//org.xnio.ByteBufferSlicePool.allocate(ByteBufferSlicePool.java:149)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.XnioByteBufferPool.allocate(XnioByteBufferPool.java:53)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.protocol.framed.AbstractFramedChannel.allocateReferenceCountedBuffer(AbstractFramedChannel.java:549)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.protocol.framed.AbstractFramedChannel.receive(AbstractFramedChannel.java:370)\n    at io.undertow.core@2.0.27.Final//io.undertow.websockets.core.AbstractReceiveListener.handleEvent(AbstractReceiveListener.java:38)\n    at io.undertow.core@2.0.27.Final//io.undertow.websockets.core.AbstractReceiveListener.handleEvent(AbstractReceiveListener.java:33)\n    at org.jboss.xnio@3.7.3.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.protocol.framed.AbstractFramedChannel$FrameReadListener.handleEvent(AbstractFramedChannel.java:950)\n    at io.undertow.core@2.0.27.Final//io.undertow.server.protocol.framed.AbstractFramedChannel$FrameReadListener.handleEvent(AbstractFramedChannel.java:931)\n    at org.jboss.xnio@3.7.3.Final//org.xnio.ChannelListeners.invokeChannelListener(ChannelListeners.java:92)\n    at org.jboss.xnio@3.7.3.Final//org.xnio.conduits.ReadReadyHandler$ChannelListenerHandler.readReady(ReadReadyHandler.java:66)\n    at org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.NioSocketConduit.handleReady(NioSocketConduit.java:89)\n    at org.jboss.xnio.nio@3.7.3.Final//org.xnio.nio.WorkerThread.run(WorkerThread.java:591)\n</code></pre>\n<p>We checked a JVM dump through jxray, and it seems websockets are the culprit:</p>\n<p><a href=\"https://i.stack.imgur.com/qLCCW.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/qLCCW.png\" alt=\"jxray report showing a lot of DirectByteBuffer used by websockets\" /></a></p>\n<p>Fact is that our websocket is kind of straightforward:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\n@ServerEndpoint(value = &quot;/ws/messenger/{accountId}&quot;)\npublic class MessengerSocket implements Serializable\n{\n    private static final long serialVersionUID = -3173234888004281582L;\n\n    @Inject\n    private Logger log;\n    @Inject\n    private MessengerHandler handler;\n\n    @OnOpen\n    public void onOpen(@PathParam(&quot;accountId&quot;) String accountId, Session session, EndpointConfig config)\n    {\n        log.debug(&quot;Opening for {}&quot;, accountId);\n        handler.subscribeSocket(session, UUID.fromString(accountId));\n    }\n\n    @OnClose\n    public void onClose(@PathParam(&quot;accountId&quot;) String accountId, Session session, CloseReason closeReason)\n    {\n        log.debug(&quot;Closing {}&quot;, accountId);\n        handler.unsubscribeSocket(session, UUID.fromString(accountId));\n    }\n}\n</code></pre>\n<p>It's coupled with a simple handler, managing a map of users sessions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ApplicationScoped\npublic class MessengerHandler\n{\n    @Inject\n    private Logger log;\n\n    // key: Account id\n    private Map&lt;UUID, AccountMessengerSessions&gt; sessions;\n\n    public void init()\n    {\n        sessions = new ConcurrentHashMap&lt;&gt;();\n    }\n\n    public void subscribeSocket(Session session, UUID accountId)\n    {\n        // build and store the account messenger session if new\n        AccountMessengerSessions messenger = sessions.getOrDefault(accountId, new AccountMessengerSessions(accountId));\n        messenger.getWsSessions().add(session);\n        sessions.putIfAbsent(accountId, messenger);\n        log.debug(&quot;{} has {} messenger socket session(s) (one added)&quot;, messenger.getAccountId(), messenger.getWsSessions().size());\n    }\n\n    /**\n     * Unsubscribes the provided WebSocket from the Messenger.\n     */\n    public void unsubscribeSocket(Session session, UUID accountId)\n    {\n        if (!sessions.containsKey(accountId))\n        {\n            log.warn(&quot;Ignore unsubscription from {} socket, as {} is unknwon from messenger&quot;, session.getId(), accountId);\n            return;\n        }\n        AccountMessengerSessions messenger = sessions.get(accountId);\n        messenger.getWsSessions().remove(session);\n        log.debug(&quot;{} has {} messenger socket session(s) (one removed)&quot;, messenger.getAccountId(), messenger.getWsSessions().size());\n        if (!messenger.getWsSessions().isEmpty())\n        {\n            return;\n        }\n        // no more socket sessions, fully remove\n        sessions.remove(messenger.getAccountId());\n    }\n}\n</code></pre>\n<p>Client side, we have a bit of javascript called when a page is loaded, again, nothing fancy:</p>\n<pre class=\"lang-js prettyprint-override\"><code>var accountId = // some string found in DOM\nvar websocketUrl = &quot;wss://&quot; + window.location.host + &quot;/ws/messenger/&quot; + accountId;\nvar websocket = new WebSocket(websocketUrl);\nwebsocket.onmessage = function (event) {\n  var data = JSON.parse(event.data);\n  // nothing fancy here...\n};\n</code></pre>\n<p>Our users don't use a lot the feature offered by the websocket (an instant messenger), so what is really happening in production is basically websockets opening and closing at each page, with very few messages sent through.</p>\n<p>Where could we get it wrong and create this buffer leak? Did we forget something critical?</p>\n"},{"tags":["java","spring","mariadb"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":0,"creation_date":1637231632,"post_id":70018176,"comment_id":123773089,"body_markdown":"During shutdown take stacktrace dump of all threads. Then check the one that you get report (in log) of being blocked and check what exactly it executes. To take stacktraces you can use `jstack` tool (in JDK) or `jcmd` (also available in JDK)","body":"During shutdown take stacktrace dump of all threads. Then check the one that you get report (in log) of being blocked and check what exactly it executes. To take stacktraces you can use <code>jstack</code> tool (in JDK) or <code>jcmd</code> (also available in JDK)"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1637231745,"post_id":70018176,"comment_id":123773143,"body_markdown":"It&#39;s a single threaded executor by the looks of it, how is that related to database?","body":"It&#39;s a single threaded executor by the looks of it, how is that related to database?"},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1637231773,"post_id":70018176,"comment_id":123773153,"body_markdown":"The point is that the thread is already stucked when tomcat is shutdowned, the stack is unuseful (usafe park)","body":"The point is that the thread is already stucked when tomcat is shutdowned, the stack is unuseful (usafe park)"},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1637231797,"post_id":70018176,"comment_id":123773164,"body_markdown":"@Kayaman maybe I&#39;m wrong it is not related to the database.","body":"@Kayaman maybe I&#39;m wrong it is not related to the database."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1637231972,"post_id":70018176,"comment_id":123773240,"body_markdown":"It&#39;s a thread in a threadpool, waiting for tasks (it&#39;s blocked on `take()`). Don&#39;t just assume this is what your problem is.","body":"It&#39;s a thread in a threadpool, waiting for tasks (it&#39;s blocked on <code>take()</code>). Don&#39;t just assume this is what your problem is."},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1637232560,"post_id":70018176,"comment_id":123773453,"body_markdown":"Or are you saying Tomcat is telling you the &quot;webapp appears to have started a thread named xxx but has failed to stop it&quot;? In any case, make sure to release any resources you&#39;ve acquired.","body":"Or are you saying Tomcat is telling you the &quot;webapp appears to have started a thread named xxx but has failed to stop it&quot;? In any case, make sure to release any resources you&#39;ve acquired."},{"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"score":0,"creation_date":1637233380,"post_id":70018176,"comment_id":123773765,"body_markdown":"@Kayaman I added the catalina log, tomcat cannot stop that thread. But I don&#39;t know who opened that threadpool","body":"@Kayaman I added the catalina log, tomcat cannot stop that thread. But I don&#39;t know who opened that threadpool"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":0,"creation_date":1637237517,"post_id":70018176,"comment_id":123775361,"body_markdown":"Disable parts of your application and see at what point in the shutdown the message no longer shows up. Then you&#39;ll know who&#39;s to blame.","body":"Disable parts of your application and see at what point in the shutdown the message no longer shows up. Then you&#39;ll know who&#39;s to blame."}],"owner":{"account_id":460510,"reputation":9305,"user_id":861646,"accept_rate":54,"display_name":"Tobia"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":299,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637233311,"creation_date":1637231198,"question_id":70018176,"body_markdown":"When my Java Spring webapp stops it takes a lot of time, and in the catalina outputs I have found there is a blocked therad and its name is &quot;**pool-(x)-thread-(y)**&quot;.\r\n\r\n    [ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [pool-5-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\r\n     sun.misc.Unsafe.park(Native Method)\r\n     java.util.concurrent.locks.LockSupport.park(Unknown Source)\r\n     java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(Unknown Source)\r\n     java.util.concurrent.LinkedBlockingQueue.take(Unknown Source)\r\n     java.util.concurrent.ThreadPoolExecutor.getTask(Unknown Source)\r\n     java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n     java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n     java.lang.Thread.run(Unknown Source)\r\n\r\nI have tried to debug the application and I have found the same thread:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nIf I try to suspend that thread, the trace is not very useful:\r\n\r\n[![enter image description here][2]][2]\r\n\r\nIt can be anything... but I tought about 3 things:\r\n- aysnc process\r\n- schedulation\r\n- database pool\r\n\r\nI have excluded the first two because I tried to rename the thread in the pool and the name doesn&#39;t match the blocked one.\r\nThe last option is the database. The application uses mariadb-java-client-2.3.0 library stored in /WEB-INF/lib folder of the application.\r\n\r\nDo you have any idea how to solve this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uqCul.png\r\n  [2]: https://i.stack.imgur.com/uFkAh.png","title":"Stuck thread when tomcat stops","body":"<p>When my Java Spring webapp stops it takes a lot of time, and in the catalina outputs I have found there is a blocked therad and its name is &quot;<strong>pool-(x)-thread-(y)</strong>&quot;.</p>\n<pre><code>[ContainerBackgroundProcessor[StandardEngine[Catalina]]] org.apache.catalina.loader.WebappClassLoaderBase.clearReferencesThreads The web application [ROOT] appears to have started a thread named [pool-5-thread-1] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:\n sun.misc.Unsafe.park(Native Method)\n java.util.concurrent.locks.LockSupport.park(Unknown Source)\n java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.await(Unknown Source)\n java.util.concurrent.LinkedBlockingQueue.take(Unknown Source)\n java.util.concurrent.ThreadPoolExecutor.getTask(Unknown Source)\n java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n java.lang.Thread.run(Unknown Source)\n</code></pre>\n<p>I have tried to debug the application and I have found the same thread:</p>\n<p><a href=\"https://i.stack.imgur.com/uqCul.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uqCul.png\" alt=\"enter image description here\" /></a></p>\n<p>If I try to suspend that thread, the trace is not very useful:</p>\n<p><a href=\"https://i.stack.imgur.com/uFkAh.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uFkAh.png\" alt=\"enter image description here\" /></a></p>\n<p>It can be anything... but I tought about 3 things:</p>\n<ul>\n<li>aysnc process</li>\n<li>schedulation</li>\n<li>database pool</li>\n</ul>\n<p>I have excluded the first two because I tried to rename the thread in the pool and the name doesn't match the blocked one.\nThe last option is the database. The application uses mariadb-java-client-2.3.0 library stored in /WEB-INF/lib folder of the application.</p>\n<p>Do you have any idea how to solve this problem?</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":258602,"reputation":20902,"user_id":540873,"display_name":"Thomas Jungblut"},"score":1,"creation_date":1430251624,"post_id":29928623,"comment_id":47979741,"body_markdown":"`There is a process that makes the thread terminate` IMHO you should fix this root cause and not try to work-around. You&#39;re not going to make this any better with more threads.","body":"<code>There is a process that makes the thread terminate</code> IMHO you should fix this root cause and not try to work-around. You&#39;re not going to make this any better with more threads."},{"owner":{"account_id":1554291,"reputation":3889,"user_id":1445898,"accept_rate":75,"display_name":"Sergey Alaev"},"score":0,"creation_date":1430252298,"post_id":29928623,"comment_id":47980230,"body_markdown":"please clarify `process` `program` and `thread` or rewrite your question to be more clear. Not sure how process (another process?) can stop (how?) a JVM thread","body":"please clarify <code>process</code> <code>program</code> and <code>thread</code> or rewrite your question to be more clear. Not sure how process (another process?) can stop (how?) a JVM thread"},{"owner":{"account_id":3359852,"reputation":1008,"user_id":2821894,"accept_rate":64,"display_name":"user2821894"},"score":0,"creation_date":1430252797,"post_id":29928623,"comment_id":47980563,"body_markdown":"@user1445898: please see my edit above.","body":"@user1445898: please see my edit above."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1430270271,"post_id":29928623,"comment_id":47987671,"body_markdown":"Just wrap the run() method of the thread in a try/catch. Or you can register an uncaughtException handler on the Thread or Thread group. Scanning for thread existence sounds awfully hacky, sounds like an anti-pattern to me. The proposed join() would be somewhat acceptable.","body":"Just wrap the run() method of the thread in a try/catch. Or you can register an uncaughtException handler on the Thread or Thread group. Scanning for thread existence sounds awfully hacky, sounds like an anti-pattern to me. The proposed join() would be somewhat acceptable."},{"owner":{"account_id":7567,"reputation":10188,"user_id":13189,"accept_rate":75,"display_name":"eckes"},"score":0,"creation_date":1430270312,"post_id":29928623,"comment_id":47987680,"body_markdown":"Sounds more like a externel process not like a Java thread you want to monitor here?","body":"Sounds more like a externel process not like a Java thread you want to monitor here?"}],"answers":[{"tags":[],"owner":{"account_id":3750622,"reputation":554,"user_id":3118190,"display_name":"GDub"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1430269895,"creation_date":1430252829,"answer_id":29929268,"question_id":29928623,"body_markdown":"You should definitely not be terminating the thread. Maybe you should make the thread wait instead. To restart a thread you need to know it&#39;s exact state when it terminated. You&#39;ll have to save the state of that thread then reconstruct the correct thread perfectly. So you&#39;re first question is probably &quot;How do I do that&quot;. Without knowing your program inside and out it&#39;s impossible to tell you. But that should be an absolute last resort. As it&#39;s an extremely terrible idea in almost every case.(Expect more bugs than you can handle)\r\n\r\nTLDR;\r\n\r\nThat&#39;s a bad idea. Don&#39;t terminate the thread.\r\n\r\nEdit: Well I guess you have to find the bug that&#39;s killing the thread first. If you don&#39;t find that then you won&#39;t be able to save the state of the thread before it dies anyways. You could try using print statements or a debugger","title":"How to use Thread watcher","body":"<p>You should definitely not be terminating the thread. Maybe you should make the thread wait instead. To restart a thread you need to know it's exact state when it terminated. You'll have to save the state of that thread then reconstruct the correct thread perfectly. So you're first question is probably \"How do I do that\". Without knowing your program inside and out it's impossible to tell you. But that should be an absolute last resort. As it's an extremely terrible idea in almost every case.(Expect more bugs than you can handle)</p>\n\n<p>TLDR;</p>\n\n<p>That's a bad idea. Don't terminate the thread.</p>\n\n<p>Edit: Well I guess you have to find the bug that's killing the thread first. If you don't find that then you won't be able to save the state of the thread before it dies anyways. You could try using print statements or a debugger</p>\n"},{"tags":[],"owner":{"account_id":1554291,"reputation":3889,"user_id":1445898,"accept_rate":75,"display_name":"Sergey Alaev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1430253613,"creation_date":1430253613,"answer_id":29929484,"question_id":29928623,"body_markdown":"I think it will be easier to fix the cause than to restart it.\r\nThere are only two ways to terminate a thread:\r\n\r\n1. calling thread.stop(). This is deprecated and 99.9% not your case\r\n2. exiting run() method via normal termination or exception. wrap your run method with try {... } catch (Throwable) finally{} and put some logging there and you will find out the reason.\r\n\r\nIf you really need a watcher, you can do something like that:\r\n\r\n    void run() {\r\n        while (true) {\r\n            thread.join();\r\n            thread = new Thread(myRunnable);\r\n            thread.start();\r\n        }\r\n    }\r\n\r\n   ","title":"How to use Thread watcher","body":"<p>I think it will be easier to fix the cause than to restart it.\nThere are only two ways to terminate a thread:</p>\n\n<ol>\n<li>calling thread.stop(). This is deprecated and 99.9% not your case</li>\n<li>exiting run() method via normal termination or exception. wrap your run method with try {... } catch (Throwable) finally{} and put some logging there and you will find out the reason.</li>\n</ol>\n\n<p>If you really need a watcher, you can do something like that:</p>\n\n<pre><code>void run() {\n    while (true) {\n        thread.join();\n        thread = new Thread(myRunnable);\n        thread.start();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":3359852,"reputation":1008,"user_id":2821894,"accept_rate":64,"display_name":"user2821894"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2089,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637233299,"creation_date":1430250734,"question_id":29928623,"body_markdown":"Am working on a project where we are having issues with threads. There is an issue that makes the thread terminate and there is no way that the thread could restart automatically so we wanted to change this current implementation. \r\nwe came up with an idea to Run a watcher thread to manage the file processing thread.  \r\nCan some one please suggest on how to make the thread that watches the state of the program and ideas on how to do this, please.\r\n\r\nEdit: So basically this is what is happenning. A user uploads some media files which are written to a fileshare. a thread running in mobile services scans the media file and attaches to an email. In this process the thread terminates and it fails to attach the media to the email.\r\n\r\nBelow is the code from my servlet and the run method.\r\n\r\n\r\n    private synchronized void startProcessing() {\r\n\t\tboolean processor = false;\r\n\t\ttry {\r\n\t\t\tProperties mProp = SystemUtil.filterProperties(SystemImpl.getInstance().getApplicationProperties(&quot;Media&quot;));\r\n\t\t\tprocessor = (Boolean.parseBoolean(mProp.getProperty(&quot;processor&quot;, &quot;false&quot;)) &amp;&amp; Boolean.parseBoolean(System.getProperty(&quot;RunProcessor&quot;, &quot;false&quot;)));\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.log(Level.INFO, &quot;Unable to get &#39;processor&#39; value from property file.  Defaulting to false.&quot;);\r\n\t\t}\r\n\t\tif (processor) {\r\n\t\t\tif (null != thread) {\r\n\t\t\t\tif (thread.getState().equals(State.TERMINATED)) {\r\n\t\t\t\t\tthread = new Thread(fProc);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tthread = new Thread(fProc);\r\n\t\t\t}\r\n\t\t\tif (thread.getState().equals(State.NEW)) {\r\n\t\t\t\tlogger.log(Level.INFO, &quot;processor starting...&quot;);\r\n\t\t\t\tthread = new Thread(fProc);\r\n\t\t\t\tthread.start();\r\n\t\t\t\tlogger.log(Level.INFO, &quot;processor successfully started.&quot;);\r\n\t\t\t} else {\r\n\t\t\t\tlogger.log(Level.INFO, &quot;processor thread is already running.&quot;);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tlogger.log(Level.INFO, &quot;processor configured not to run.&quot;);\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic void run() {\r\n\t\tint sleepTime = 10000;\r\n\t\ttry {\r\n\t\t\tsleepTime = Integer.parseInt(mProp.getProperty(&quot;ProcessorSleepTime&quot;));\r\n\t\t\twaitTime = -(Integer.parseInt(mProp.getProperty(&quot;ProcessorWaitTime&quot;)));\r\n\t\t\tkeepProcessed = Boolean.parseBoolean(mProp.getProperty(&quot;KeepProcessed&quot;));\r\n\t\t} catch (Exception ex) {\r\n\t\t\tlogger.log(Level.WARNING, &quot;Unable to read property file.  Using default values.&quot;);\r\n\t\t}\r\n\t\tFile filePath = new File(MResource.getMRepositoryPath());\r\n\t\tFile processingPath = new File(filePath.getPath() + &quot;/&quot; + PROCESS_FOLDER_NAME);\r\n\t\tif (!processingPath.exists()) {\r\n\t\t\tprocessingPath.mkdirs();\r\n\t\t}\r\n\t\tFile failurePath = new File(filePath.getPath() + &quot;/&quot; + FAILURE_FOLDER_NAME);\r\n\t\tif (!failurePath.exists()) {\r\n\t\t\tfailurePath.mkdirs();\r\n\t\t}\r\n\t\tFile processedPath = new File(filePath.getPath() + &quot;/&quot; + PROCESSED_FOLDER_NAME);\r\n\t\tif (!processedPath.exists()) {\r\n\t\t\tprocessedPath.mkdirs();\r\n\t\t}\r\n\t\twhile (!stopProcessing) {\r\n\t\t\tisProcessing = true;\r\n\t\t\tlogger.log(Level.FINEST, &quot;Checking for files...&quot;);\r\n\t\t\ttry {\r\n\t\t\t\tprocessFiles(filePath, processingPath, failurePath, processedPath);\r\n\t\t\t\ttry {\r\n\t\t\t\t\tThread.sleep(sleepTime);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\tlogger.log(Level.INFO, &quot;Thread sleep interrupted.&quot;);\r\n\t\t\t\t}\r\n\t\t\t} catch (Exception e) {\r\n\t\t\t\tlogger.log(Level.SEVERE, &quot;Error while processing files.&quot;, e);\r\n\t\t\t}\r\n\t\t}\r\n\t\tisProcessing = false;\r\n\t\tstopProcessing = false;\r\n\t\tlogger.log(Level.WARNING, &quot; file processor has stopped.&quot;);\r\n\t}","title":"How to use Thread watcher","body":"<p>Am working on a project where we are having issues with threads. There is an issue that makes the thread terminate and there is no way that the thread could restart automatically so we wanted to change this current implementation. \nwe came up with an idea to Run a watcher thread to manage the file processing thread.<br>\nCan some one please suggest on how to make the thread that watches the state of the program and ideas on how to do this, please.</p>\n\n<p>Edit: So basically this is what is happenning. A user uploads some media files which are written to a fileshare. a thread running in mobile services scans the media file and attaches to an email. In this process the thread terminates and it fails to attach the media to the email.</p>\n\n<p>Below is the code from my servlet and the run method.</p>\n\n<pre><code>private synchronized void startProcessing() {\n    boolean processor = false;\n    try {\n        Properties mProp = SystemUtil.filterProperties(SystemImpl.getInstance().getApplicationProperties(\"Media\"));\n        processor = (Boolean.parseBoolean(mProp.getProperty(\"processor\", \"false\")) &amp;&amp; Boolean.parseBoolean(System.getProperty(\"RunProcessor\", \"false\")));\n    } catch (Exception e) {\n        logger.log(Level.INFO, \"Unable to get 'processor' value from property file.  Defaulting to false.\");\n    }\n    if (processor) {\n        if (null != thread) {\n            if (thread.getState().equals(State.TERMINATED)) {\n                thread = new Thread(fProc);\n            }\n        } else {\n            thread = new Thread(fProc);\n        }\n        if (thread.getState().equals(State.NEW)) {\n            logger.log(Level.INFO, \"processor starting...\");\n            thread = new Thread(fProc);\n            thread.start();\n            logger.log(Level.INFO, \"processor successfully started.\");\n        } else {\n            logger.log(Level.INFO, \"processor thread is already running.\");\n        }\n    } else {\n        logger.log(Level.INFO, \"processor configured not to run.\");\n    }\n}\n\npublic void run() {\n    int sleepTime = 10000;\n    try {\n        sleepTime = Integer.parseInt(mProp.getProperty(\"ProcessorSleepTime\"));\n        waitTime = -(Integer.parseInt(mProp.getProperty(\"ProcessorWaitTime\")));\n        keepProcessed = Boolean.parseBoolean(mProp.getProperty(\"KeepProcessed\"));\n    } catch (Exception ex) {\n        logger.log(Level.WARNING, \"Unable to read property file.  Using default values.\");\n    }\n    File filePath = new File(MResource.getMRepositoryPath());\n    File processingPath = new File(filePath.getPath() + \"/\" + PROCESS_FOLDER_NAME);\n    if (!processingPath.exists()) {\n        processingPath.mkdirs();\n    }\n    File failurePath = new File(filePath.getPath() + \"/\" + FAILURE_FOLDER_NAME);\n    if (!failurePath.exists()) {\n        failurePath.mkdirs();\n    }\n    File processedPath = new File(filePath.getPath() + \"/\" + PROCESSED_FOLDER_NAME);\n    if (!processedPath.exists()) {\n        processedPath.mkdirs();\n    }\n    while (!stopProcessing) {\n        isProcessing = true;\n        logger.log(Level.FINEST, \"Checking for files...\");\n        try {\n            processFiles(filePath, processingPath, failurePath, processedPath);\n            try {\n                Thread.sleep(sleepTime);\n            } catch (InterruptedException e) {\n                logger.log(Level.INFO, \"Thread sleep interrupted.\");\n            }\n        } catch (Exception e) {\n            logger.log(Level.SEVERE, \"Error while processing files.\", e);\n        }\n    }\n    isProcessing = false;\n    stopProcessing = false;\n    logger.log(Level.WARNING, \" file processor has stopped.\");\n}\n</code></pre>\n"},{"tags":["java","recursion","arraylist"],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637232885,"creation_date":1637232885,"answer_id":70018572,"question_id":70018334,"body_markdown":"When you have a code as follows:\r\n```java\r\n    public void recursion(int[] nums, int tgt, List&lt;Integer&gt; lst, int[] minLen, List&lt;Integer&gt; sol) {\r\n        //... removed not relevant code\r\n        sol = lst;\r\n\r\n    }\r\n```\r\n\r\nWhat you are really doing is just assigning `sol` variable to point to a different object. That doesn&#39;t have any affect on the `sol` variable that you passed as an argument in the main method. That&#39;s because java passes arguments by value. In this case value is a reference to the object.\r\n\r\nIn the `recursion` method that reference is copied into `sol` variable (parameter). So, when you assign it a different value (`sol = lst`), you only update value of this one variable, that is local to the function. \r\n\r\nYou have two solutions here:\r\n 1. Just add all values into a list that `sol` (passed as argument) points to. \r\n 2. (better) just return result from within a function and assign it to new variable in main method. \r\n\r\nIt&#39; usually a bad idea to modify objects passed into the function (unless that&#39;s the job of the function - like `sort` function). It&#39;s (almost) always better to return result with a `return` statement. ","title":"Confusion on Recursion and why my List isn&#39;t staying Updated?","body":"<p>When you have a code as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public void recursion(int[] nums, int tgt, List&lt;Integer&gt; lst, int[] minLen, List&lt;Integer&gt; sol) {\n        //... removed not relevant code\n        sol = lst;\n\n    }\n</code></pre>\n<p>What you are really doing is just assigning <code>sol</code> variable to point to a different object. That doesn't have any affect on the <code>sol</code> variable that you passed as an argument in the main method. That's because java passes arguments by value. In this case value is a reference to the object.</p>\n<p>In the <code>recursion</code> method that reference is copied into <code>sol</code> variable (parameter). So, when you assign it a different value (<code>sol = lst</code>), you only update value of this one variable, that is local to the function.</p>\n<p>You have two solutions here:</p>\n<ol>\n<li>Just add all values into a list that <code>sol</code> (passed as argument) points to.</li>\n<li>(better) just return result from within a function and assign it to new variable in main method.</li>\n</ol>\n<p>It' usually a bad idea to modify objects passed into the function (unless that's the job of the function - like <code>sort</code> function). It's (almost) always better to return result with a <code>return</code> statement.</p>\n"}],"owner":{"account_id":14822658,"reputation":59,"user_id":10704432,"display_name":"Kawaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637232885,"creation_date":1637231810,"question_id":70018334,"body_markdown":"    import java.util.*;\r\n    \r\n    public class MyClass {\r\n\r\n        public static void main(String args[]) {\r\n\r\n            int[] arr = new int[]{2,3,4,5};\r\n            int[] min = new int[]{Integer.MAX_VALUE};\r\n            int tgt = 7;\r\n            List&lt;Integer&gt; lst = new ArrayList&lt;&gt;();\r\n            List&lt;Integer&gt; sol = new ArrayList&lt;&gt;();\r\n            \r\n            recursion(arr, tgt, lst, min, sol);\r\n            \r\n            for (int i = 0; i &lt; sol.size(); i++) {\r\n                System.out.println(sol.get(i));\r\n            }\r\n          \r\n        }\r\n        \r\n        public void recursion(int[] nums, int tgt, List&lt;Integer&gt; lst, int[] minLen, List&lt;Integer&gt; sol) {\r\n            if (tgt &lt; 0) {\r\n                return;\r\n            }\r\n            if (tgt == 0) {\r\n                if (lst.size() &lt;= minLen[0]) {\r\n                    minLen[0] = lst.size();\r\n                }\r\n                sol = lst;\r\n                return;\r\n            }\r\n            \r\n            for (int i = 0; i &lt; nums.length; i++) {\r\n                List&lt;Integer&gt; cpy = new ArrayList&lt;&gt;(lst);\r\n                cpy.add(nums[i]);\r\n                recursion(nums, tgt - nums[i], cpy, minLen, sol);\r\n            }\r\n        }\r\n    }\r\n\r\nThe basic logic of what I&#39;m trying to do is, given an array of numbers and a target, I want to return the smallest list of numbers that can be summed up to the target (in this case I&#39;d want to return either {3,4} or {5,2}. I call a recursive function that breaks down my problem until I reach a base case in which I return or do some work on my ``sol`` list. ``lst`` is there to build up my current list in that recursive path while ``sol`` is there to update whenever I find a new path that is the new minimum length. However, what I think is happening is that when ``sol`` updates and returns, it becomes reset so ``sol`` is empty when it returns to main. I thought the ``sol`` list was being added to the Heap and would persist across all the calls when updated (like the ``minLen`` array)? Or am I missing something. What would be a way to get around this while maintaining my logic (I don&#39;t want to return a value but would rather have some data structure that just updates and that I could just return from my main function).","title":"Confusion on Recursion and why my List isn&#39;t staying Updated?","body":"<pre><code>import java.util.*;\n\npublic class MyClass {\n\n    public static void main(String args[]) {\n\n        int[] arr = new int[]{2,3,4,5};\n        int[] min = new int[]{Integer.MAX_VALUE};\n        int tgt = 7;\n        List&lt;Integer&gt; lst = new ArrayList&lt;&gt;();\n        List&lt;Integer&gt; sol = new ArrayList&lt;&gt;();\n        \n        recursion(arr, tgt, lst, min, sol);\n        \n        for (int i = 0; i &lt; sol.size(); i++) {\n            System.out.println(sol.get(i));\n        }\n      \n    }\n    \n    public void recursion(int[] nums, int tgt, List&lt;Integer&gt; lst, int[] minLen, List&lt;Integer&gt; sol) {\n        if (tgt &lt; 0) {\n            return;\n        }\n        if (tgt == 0) {\n            if (lst.size() &lt;= minLen[0]) {\n                minLen[0] = lst.size();\n            }\n            sol = lst;\n            return;\n        }\n        \n        for (int i = 0; i &lt; nums.length; i++) {\n            List&lt;Integer&gt; cpy = new ArrayList&lt;&gt;(lst);\n            cpy.add(nums[i]);\n            recursion(nums, tgt - nums[i], cpy, minLen, sol);\n        }\n    }\n}\n</code></pre>\n<p>The basic logic of what I'm trying to do is, given an array of numbers and a target, I want to return the smallest list of numbers that can be summed up to the target (in this case I'd want to return either {3,4} or {5,2}. I call a recursive function that breaks down my problem until I reach a base case in which I return or do some work on my <code>sol</code> list. <code>lst</code> is there to build up my current list in that recursive path while <code>sol</code> is there to update whenever I find a new path that is the new minimum length. However, what I think is happening is that when <code>sol</code> updates and returns, it becomes reset so <code>sol</code> is empty when it returns to main. I thought the <code>sol</code> list was being added to the Heap and would persist across all the calls when updated (like the <code>minLen</code> array)? Or am I missing something. What would be a way to get around this while maintaining my logic (I don't want to return a value but would rather have some data structure that just updates and that I could just return from my main function).</p>\n"},{"tags":["java","rest","jax-rs","swagger-ui"],"comments":[{"owner":{"account_id":58650,"reputation":3399,"user_id":175554,"accept_rate":40,"display_name":"ozkanpakdil"},"score":1,"creation_date":1637791777,"post_id":70018561,"comment_id":123923736,"body_markdown":"https://stackoverflow.com/a/62476107/175554 does it help ?","body":"<a href=\"https://stackoverflow.com/a/62476107/175554\">stackoverflow.com/a/62476107/175554</a> does it help ?"},{"owner":{"account_id":10228822,"reputation":67,"user_id":7550371,"display_name":"Shajitha Begum K"},"score":0,"creation_date":1643086615,"post_id":70018561,"comment_id":125240349,"body_markdown":"@&#246;zkanpakdil thanks for your suggestion. I don&#39;t have any swagger configuration file. I have downloaded the Swagger UI source code from git hub and using that. So figuring out how to set up the configuration. I am new to this and still learning","body":"@&#246;zkanpakdil thanks for your suggestion. I don&#39;t have any swagger configuration file. I have downloaded the Swagger UI source code from git hub and using that. So figuring out how to set up the configuration. I am new to this and still learning"}],"owner":{"account_id":10228822,"reputation":67,"user_id":7550371,"display_name":"Shajitha Begum K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637232852,"creation_date":1637232852,"question_id":70018561,"body_markdown":"I am working on the JAX-RS project and implemented swagger UI.\r\n\r\nIs there a way to enable response time duration?\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/i1OOk.png","title":"How to enable response duration in swagger ui JAX-RS","body":"<p>I am working on the JAX-RS project and implemented swagger UI.</p>\n<p>Is there a way to enable response time duration?</p>\n<p><a href=\"https://i.stack.imgur.com/i1OOk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/i1OOk.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","gradle","guice"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1511685516,"post_id":47494330,"comment_id":81943702,"body_markdown":"What are you doing? Compiling? Running your code? How?","body":"What are you doing? Compiling? Running your code? How?"},{"owner":{"account_id":8865016,"reputation":80,"user_id":6620424,"display_name":"SoPhat Vathana"},"score":0,"creation_date":1511685746,"post_id":47494330,"comment_id":81943765,"body_markdown":"@JBNizet Thank you for quick response. I got this problem when running.","body":"@JBNizet Thank you for quick response. I got this problem when running."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1511685833,"post_id":47494330,"comment_id":81943787,"body_markdown":"When running what? How?","body":"When running what? How?"},{"owner":{"account_id":8865016,"reputation":80,"user_id":6620424,"display_name":"SoPhat Vathana"},"score":0,"creation_date":1511686361,"post_id":47494330,"comment_id":81943907,"body_markdown":"First i use gradle build everything is ok. but when i use gradle init to initialize    and migrate database i got that problem. if i try to install(module.newInstance()); only few module it working find but many module together it have problem.","body":"First i use gradle build everything is ok. but when i use gradle init to initialize    and migrate database i got that problem. if i try to install(module.newInstance()); only few module it working find but many module together it have problem."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1511686551,"post_id":47494330,"comment_id":81943937,"body_markdown":"Put yourself in our shoes for one minute. We can&#39;t see your screen. We have no idea of what your gradle init task works. We have no idea of what a module is. At least post the command you execute and the exact and complete gradle output. It&#39;s hard to say if the code you post has any relevance to your question.","body":"Put yourself in our shoes for one minute. We can&#39;t see your screen. We have no idea of what your gradle init task works. We have no idea of what a module is. At least post the command you execute and the exact and complete gradle output. It&#39;s hard to say if the code you post has any relevance to your question."},{"owner":{"account_id":416303,"reputation":9226,"user_id":791609,"display_name":"chenrui"},"score":0,"creation_date":1511711988,"post_id":47494330,"comment_id":81951351,"body_markdown":"@SoPhatVathana I would be greatly helpful if you can specify the command line that you used (add `--debug` as well), along with the stacktrace output.","body":"@SoPhatVathana I would be greatly helpful if you can specify the command line that you used (add <code>--debug</code> as well), along with the stacktrace output."},{"owner":{"account_id":8865016,"reputation":80,"user_id":6620424,"display_name":"SoPhat Vathana"},"score":0,"creation_date":1511762960,"post_id":47494330,"comment_id":81965529,"body_markdown":"Thank you so much. Now i can solve this problem by increase maximum size memory JVM (-Xmx1024m).","body":"Thank you so much. Now i can solve this problem by increase maximum size memory JVM (-Xmx1024m)."}],"answers":[{"tags":[],"owner":{"account_id":8865016,"reputation":80,"user_id":6620424,"display_name":"SoPhat Vathana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1511763173,"creation_date":1511763173,"answer_id":47504929,"question_id":47494330,"body_markdown":"Base on this error i could solve this problem by increase the maximum size memory JVM (-Xmx1024m).","title":"jdk1.8.0_152.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 255","body":"<p>Base on this error i could solve this problem by increase the maximum size memory JVM (-Xmx1024m).</p>\n"}],"owner":{"account_id":8865016,"reputation":80,"user_id":6620424,"display_name":"SoPhat Vathana"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1921,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637232677,"creation_date":1511685313,"question_id":47494330,"body_markdown":"My code:\r\n\r\n    for (Class&lt;? extends Module&gt; module : moduleClasses) {\r\n    \t\t\tlog.info(&quot;Module will config: {}&quot;, module);\r\n                           // module like com.test.apps.hello.module.SomeModule\r\n    \t\t\ttry {\r\n    \t\t\t\tinstall(module.newInstance());\r\n                              log.info(&quot;Configured: {}&quot;, module.getName());\r\n    \t\t\t} catch (InstantiationException | IllegalAccessException e) {\r\n    \r\n    \t\t\t\tthrow Throwables.propagate(e);\r\n    \t\t\t}\r\n    \t\t}\r\n\r\n    public class SomeModule extends Module {\r\n    \r\n        @Override\r\n        protected void configure() {\r\n            bind(SomClass.class).to(SomClassImp.class);\r\n        }\r\n    }\r\n\r\nIt is working fine when I try to install only few class, but when many class I got this problem:\r\n\r\n&gt; jdk1.8.0_152.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 255\r\n\r\nI use gradle version 4.3.1.\r\n\r\nI think the problem might be from gradle.","title":"jdk1.8.0_152.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 255","body":"<p>My code:</p>\n<pre><code>for (Class&lt;? extends Module&gt; module : moduleClasses) {\n            log.info(&quot;Module will config: {}&quot;, module);\n                       // module like com.test.apps.hello.module.SomeModule\n            try {\n                install(module.newInstance());\n                          log.info(&quot;Configured: {}&quot;, module.getName());\n            } catch (InstantiationException | IllegalAccessException e) {\n\n                throw Throwables.propagate(e);\n            }\n        }\n\npublic class SomeModule extends Module {\n\n    @Override\n    protected void configure() {\n        bind(SomClass.class).to(SomClassImp.class);\n    }\n}\n</code></pre>\n<p>It is working fine when I try to install only few class, but when many class I got this problem:</p>\n<blockquote>\n<p>jdk1.8.0_152.jdk/Contents/Home/bin/java'' finished with non-zero exit value 255</p>\n</blockquote>\n<p>I use gradle version 4.3.1.</p>\n<p>I think the problem might be from gradle.</p>\n"},{"tags":["java","spring","client"],"answers":[{"tags":[],"owner":{"account_id":220392,"reputation":10621,"user_id":5209935,"accept_rate":14,"display_name":"Matthew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637141011,"creation_date":1637140499,"answer_id":70001628,"question_id":66515822,"body_markdown":"There&#39;s `ReactiveTypeHandler.SseEmitterSubscriber` which looks promising. Can&#39;t figure out how to use it though!\r\n\r\nThere are some clues in this tutorial: https://www.baeldung.com/spring-server-sent-events\r\n\r\nOkhttp3 also has an sse consumer library, though there&#39;s scant documentation on how to use it: https://github.com/launchdarkly/okhttp-eventsource","title":"Can I subscribe to an SseEmitter in Java","body":"<p>There's <code>ReactiveTypeHandler.SseEmitterSubscriber</code> which looks promising. Can't figure out how to use it though!</p>\n<p>There are some clues in this tutorial: <a href=\"https://www.baeldung.com/spring-server-sent-events\" rel=\"nofollow noreferrer\">https://www.baeldung.com/spring-server-sent-events</a></p>\n<p>Okhttp3 also has an sse consumer library, though there's scant documentation on how to use it: <a href=\"https://github.com/launchdarkly/okhttp-eventsource\" rel=\"nofollow noreferrer\">https://github.com/launchdarkly/okhttp-eventsource</a></p>\n"},{"tags":[],"owner":{"account_id":20892204,"reputation":31,"user_id":15347349,"display_name":"programming-ginger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637232535,"creation_date":1637232535,"answer_id":70018505,"question_id":66515822,"body_markdown":"Totally forgot about this, I found a solution. You can just receive the emitter as a Flux&lt;ServerSentEvent&gt; and subscribe to it in your client project. There you can handle the ServerSentEvents.\r\nSo actually pretty easy but it&#39;s confusing to not receive the same thing you sent on the other side.","title":"Can I subscribe to an SseEmitter in Java","body":"<p>Totally forgot about this, I found a solution. You can just receive the emitter as a Flux and subscribe to it in your client project. There you can handle the ServerSentEvents.\nSo actually pretty easy but it's confusing to not receive the same thing you sent on the other side.</p>\n"}],"owner":{"account_id":20892204,"reputation":31,"user_id":15347349,"display_name":"programming-ginger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":619,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1637232535,"creation_date":1615115369,"question_id":66515822,"body_markdown":"I am working on a Spring project in Java. We need ServerSentEvents there and using the SseEmitter looks like an easy way to send events to clients.\r\n\r\nWe also need to implement the Client in Java. Every tutorial I can find shows how to subscribe to the emitter in Javascript and the SseEmitter does not seem to have any subscription method. Does anyone know how I can listen to incoming events in Java?","title":"Can I subscribe to an SseEmitter in Java","body":"<p>I am working on a Spring project in Java. We need ServerSentEvents there and using the SseEmitter looks like an easy way to send events to clients.</p>\n<p>We also need to implement the Client in Java. Every tutorial I can find shows how to subscribe to the emitter in Javascript and the SseEmitter does not seem to have any subscription method. Does anyone know how I can listen to incoming events in Java?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637220533,"creation_date":1637220533,"answer_id":70015978,"question_id":70015888,"body_markdown":"Use Spring profiles likes this\r\n\r\n```java\r\nclass SomeOtherProfileConfig extends MyConfig {\r\n}\r\n\r\n@Profile(&quot;MyProfile&quot;)\r\n@Bean(initMethod = &quot;init&quot;, name = &quot;MyConfig&quot;)\r\n@ConfigurationProperties(prefix = &quot;config&quot;)\r\npublic MyConfig config() {\r\n    MyConfig config = new MyConfig();\r\n    return config;\r\n}\r\n\r\n@Profile(&quot;!MyProfile&quot;)\r\n@Bean(initMethod = &quot;anotherInit&quot;, name = &quot;MyConfig&quot;)\r\n@ConfigurationProperties(prefix = &quot;config&quot;)\r\npublic SomeOtherProfileConfig myConfig() {\r\n    SomeOtherProfileConfig config = new SomeOtherProfileConfig();\r\n    return config;\r\n}\r\n```","title":"@ConfigurationProperties same prefix for DB on two different beans","body":"<p>Use Spring profiles likes this</p>\n<pre class=\"lang-java prettyprint-override\"><code>class SomeOtherProfileConfig extends MyConfig {\n}\n\n@Profile(&quot;MyProfile&quot;)\n@Bean(initMethod = &quot;init&quot;, name = &quot;MyConfig&quot;)\n@ConfigurationProperties(prefix = &quot;config&quot;)\npublic MyConfig config() {\n    MyConfig config = new MyConfig();\n    return config;\n}\n\n@Profile(&quot;!MyProfile&quot;)\n@Bean(initMethod = &quot;anotherInit&quot;, name = &quot;MyConfig&quot;)\n@ConfigurationProperties(prefix = &quot;config&quot;)\npublic SomeOtherProfileConfig myConfig() {\n    SomeOtherProfileConfig config = new SomeOtherProfileConfig();\n    return config;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637220637,"creation_date":1637220637,"answer_id":70015997,"question_id":70015888,"body_markdown":"You should do like this\r\n\r\n&gt; I&#39;d **combine the two `@Bean` methods into one** and **use the Environment to\r\n&gt; check the value of the `spring.datasource.hikari.refresh` property** and\r\n&gt; then **set the Hikari system property as needed**.\r\n\r\nsource: https://github.com/spring-projects/spring-boot/issues/6781#issuecomment-857624340\r\n\r\n","title":"@ConfigurationProperties same prefix for DB on two different beans","body":"<p>You should do like this</p>\n<blockquote>\n<p>I'd <strong>combine the two <code>@Bean</code> methods into one</strong> and <strong>use the Environment to\ncheck the value of the <code>spring.datasource.hikari.refresh</code> property</strong> and\nthen <strong>set the Hikari system property as needed</strong>.</p>\n</blockquote>\n<p>source: <a href=\"https://github.com/spring-projects/spring-boot/issues/6781#issuecomment-857624340\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/6781#issuecomment-857624340</a></p>\n"}],"owner":{"account_id":19511716,"reputation":11,"user_id":14275539,"display_name":"whatanoob"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637232277,"creation_date":1637220001,"question_id":70015888,"body_markdown":"In my application properties I have\r\n```\r\nspring.datasource.hikari.connection-timeout=10000\r\nspring.datasource.hikari.validation-timeout=3000\r\nspring.datasource.hikari.leak-detection-threshold=90000\r\nspring.datasource.hikari.max-lifetime=3600000\r\n```\r\nand I have two datasource that is going to use the same configuration properties\r\n```java\r\n@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)\r\n@Bean\r\npublic HikariDataSource dataSource() throws Exception {\r\n```\r\n```java\r\n@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)\r\n@Bean\r\npublic HikariDataSource altDataSource() throws Exception {\r\n```\r\nIt was working just a week ago, but now I am getting errors when doing clean and build:\r\n```\r\n&gt; Task :compileJava\r\nerror: Duplicate `@ConfigurationProperties` definition for prefix &#39;spring.datasource.hikari&#39;\r\n    public HikariDataSource altDataSource() throws Exception {\r\n```\r\n\r\nI have read a few varying solutions here, but is there a workaround other than editing my properties file? Because this was working a week ago, could this be an IDE issue?","title":"@ConfigurationProperties same prefix for DB on two different beans","body":"<p>In my application properties I have</p>\n<pre><code>spring.datasource.hikari.connection-timeout=10000\nspring.datasource.hikari.validation-timeout=3000\nspring.datasource.hikari.leak-detection-threshold=90000\nspring.datasource.hikari.max-lifetime=3600000\n</code></pre>\n<p>and I have two datasource that is going to use the same configuration properties</p>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)\n@Bean\npublic HikariDataSource dataSource() throws Exception {\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>@ConfigurationProperties(prefix = &quot;spring.datasource.hikari&quot;)\n@Bean\npublic HikariDataSource altDataSource() throws Exception {\n</code></pre>\n<p>It was working just a week ago, but now I am getting errors when doing clean and build:</p>\n<pre><code>&gt; Task :compileJava\nerror: Duplicate `@ConfigurationProperties` definition for prefix 'spring.datasource.hikari'\n    public HikariDataSource altDataSource() throws Exception {\n</code></pre>\n<p>I have read a few varying solutions here, but is there a workaround other than editing my properties file? Because this was working a week ago, could this be an IDE issue?</p>\n"},{"tags":["java","swagger","openapi","openapi-generator"],"comments":[{"owner":{"account_id":992738,"reputation":408,"user_id":1009540,"display_name":"BarbetNL"},"score":0,"creation_date":1658928837,"post_id":56237650,"comment_id":129173914,"body_markdown":"Did you manage to get this working in the end? I still can&#39;t get Instant to work with openApiGenerator and I&#39;m looking for a solution.","body":"Did you manage to get this working in the end? I still can&#39;t get Instant to work with openApiGenerator and I&#39;m looking for a solution."}],"answers":[{"tags":[],"owner":{"account_id":14348726,"reputation":400,"user_id":10732110,"display_name":"Maksim Yakidovich"},"down_vote_count":0,"up_vote_count":29,"is_accepted":false,"score":29,"last_activity_date":1568810376,"creation_date":1568810376,"answer_id":57993059,"question_id":56237650,"body_markdown":"just add to the configuration of openapi-generator-maven-plugin\r\n\r\n    &lt;typeMappings&gt;\r\n         &lt;typeMapping&gt;OffsetDateTime=Instant&lt;/typeMapping&gt;\r\n    &lt;/typeMappings&gt;\r\n    &lt;importMappings&gt;                                \r\n         &lt;importMapping&gt;java.time.OffsetDateTime=java.time.Instant&lt;/importMapping&gt;\r\n    &lt;/importMappings&gt;","title":"Use java.time.Instant to represent DateTime instead of OffsetDateTime","body":"<p>just add to the configuration of openapi-generator-maven-plugin</p>\n\n<pre><code>&lt;typeMappings&gt;\n     &lt;typeMapping&gt;OffsetDateTime=Instant&lt;/typeMapping&gt;\n&lt;/typeMappings&gt;\n&lt;importMappings&gt;                                \n     &lt;importMapping&gt;java.time.OffsetDateTime=java.time.Instant&lt;/importMapping&gt;\n&lt;/importMappings&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12089070,"reputation":451,"user_id":8836232,"display_name":"petronius"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1573833276,"creation_date":1573833276,"answer_id":58880563,"question_id":56237650,"body_markdown":"You indeed have to add the mappings as @MaksimYakidovich says, but also change your spec with\r\n```&quot;format&quot; : &quot;offset-date-time&quot;``` instead of ```date-time```","title":"Use java.time.Instant to represent DateTime instead of OffsetDateTime","body":"<p>You indeed have to add the mappings as @MaksimYakidovich says, but also change your spec with\n<code>\"format\" : \"offset-date-time\"</code> instead of <code>date-time</code></p>\n"},{"tags":[],"owner":{"account_id":1784271,"reputation":439,"user_id":1626127,"display_name":"zmeeagain"},"down_vote_count":1,"up_vote_count":29,"is_accepted":false,"score":28,"last_activity_date":1582202602,"creation_date":1582202602,"answer_id":60320239,"question_id":56237650,"body_markdown":"Had the same problem but wanted to use `LocalDateTime` instead of `Instant`. Adding the following works, at least for *entities*:\r\n\r\n    &lt;configuration&gt;\r\n      &lt;typeMappings&gt;\r\n        &lt;typeMapping&gt;OffsetDateTime=LocalDateTime&lt;/typeMapping&gt;\r\n      &lt;/typeMappings&gt;\r\n      &lt;importMappings&gt;                \r\n        &lt;importMapping&gt;java.time.OffsetDateTime=java.time.LocalDateTime&lt;/importMapping&gt;\r\n      &lt;/importMappings&gt;\r\n    &lt;/configuration&gt;\r\n\r\ni.e. an import for `LocalDateTime` is added, and any entity fields in the yaml with type `format: date-time` are mapped to `LocalDateTime`.\r\n\r\nHowever, for api *parameters*, no import was added with those settings.\r\nAfter a while I gave up and instead used fully qualified types so that no import is required. Just change the above `typeMapping` to:\r\n\r\n    &lt;typeMapping&gt;OffsetDateTime=java.time.LocalDateTime&lt;/typeMapping&gt;\r\n\r\nYour generated methods afterwards looked like:\r\n\r\n        default ResponseEntity&lt;List&lt;SomeDto&gt;&gt; someMethodGet(\r\n            @ApiParam(value = &quot;&quot;) @Valid @RequestParam(value = &quot;changeDateFrom&quot;,\r\n                required = false) @org.springframework.format.annotation.DateTimeFormat(\r\n                    iso = org.springframework.format.annotation.DateTimeFormat.ISO.DATE_TIME) java.time.LocalDateTime changeDateFrom,\r\n        {\r\n            return getDelegate().someMethodGet(..., changeDateFrom, ...);\r\n        }\r\n\r\nPS1 Make sure you use the most recent version of the plugin.\r\n\r\nPS2 I used the delegate pattern.\r\n\r\nPS2 I used the spring model.\r\n","title":"Use java.time.Instant to represent DateTime instead of OffsetDateTime","body":"<p>Had the same problem but wanted to use <code>LocalDateTime</code> instead of <code>Instant</code>. Adding the following works, at least for <em>entities</em>:</p>\n\n<pre><code>&lt;configuration&gt;\n  &lt;typeMappings&gt;\n    &lt;typeMapping&gt;OffsetDateTime=LocalDateTime&lt;/typeMapping&gt;\n  &lt;/typeMappings&gt;\n  &lt;importMappings&gt;                \n    &lt;importMapping&gt;java.time.OffsetDateTime=java.time.LocalDateTime&lt;/importMapping&gt;\n  &lt;/importMappings&gt;\n&lt;/configuration&gt;\n</code></pre>\n\n<p>i.e. an import for <code>LocalDateTime</code> is added, and any entity fields in the yaml with type <code>format: date-time</code> are mapped to <code>LocalDateTime</code>.</p>\n\n<p>However, for api <em>parameters</em>, no import was added with those settings.\nAfter a while I gave up and instead used fully qualified types so that no import is required. Just change the above <code>typeMapping</code> to:</p>\n\n<pre><code>&lt;typeMapping&gt;OffsetDateTime=java.time.LocalDateTime&lt;/typeMapping&gt;\n</code></pre>\n\n<p>Your generated methods afterwards looked like:</p>\n\n<pre><code>    default ResponseEntity&lt;List&lt;SomeDto&gt;&gt; someMethodGet(\n        @ApiParam(value = \"\") @Valid @RequestParam(value = \"changeDateFrom\",\n            required = false) @org.springframework.format.annotation.DateTimeFormat(\n                iso = org.springframework.format.annotation.DateTimeFormat.ISO.DATE_TIME) java.time.LocalDateTime changeDateFrom,\n    {\n        return getDelegate().someMethodGet(..., changeDateFrom, ...);\n    }\n</code></pre>\n\n<p>PS1 Make sure you use the most recent version of the plugin.</p>\n\n<p>PS2 I used the delegate pattern.</p>\n\n<p>PS2 I used the spring model.</p>\n"},{"tags":[],"owner":{"account_id":384931,"reputation":1111,"user_id":741765,"display_name":"tsachev"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1583946187,"creation_date":1583946187,"answer_id":60641140,"question_id":56237650,"body_markdown":"Your changes are overridden by the `dateLibrary` configuration for the generator.\r\nTo override `date` or `date-time` format types you better disable the `dateLibrary` by specifying value which is not recognized by the java generators.\r\n\r\nAdd this to you plugin&#39;s `&lt;configuration&gt;` to achieve this:\r\n\r\n```\r\n  &lt;configOptions&gt;\r\n    &lt;java8&gt;true&lt;/java8&gt;\r\n    &lt;dateLibrary&gt;custom&lt;/dateLibrary&gt;\r\n  &lt;/configOptions&gt;\r\n  &lt;typeMappings&gt;\r\n    &lt;typeMapping&gt;DateTime=Instant&lt;/typeMapping&gt;\r\n    &lt;typeMapping&gt;Date=LocalDate&lt;/typeMapping&gt;\r\n  &lt;/typeMappings&gt;\r\n  &lt;importMappings&gt;\r\n    &lt;importMapping&gt;Instant=java.time.Instant&lt;/importMapping&gt;\r\n    &lt;importMapping&gt;LocalDate=java.time.LocalDate&lt;/importMapping&gt;\r\n  &lt;/importMappings&gt;\r\n```\r\n\r\nYou may also want to add `&lt;jsr310&gt;true&lt;/jsr310&gt;` config option, since it is auto enabled when dateLibrary is `java8` (but this is used mostly when generating clients as far as I can see).","title":"Use java.time.Instant to represent DateTime instead of OffsetDateTime","body":"<p>Your changes are overridden by the <code>dateLibrary</code> configuration for the generator.\nTo override <code>date</code> or <code>date-time</code> format types you better disable the <code>dateLibrary</code> by specifying value which is not recognized by the java generators.</p>\n\n<p>Add this to you plugin's <code>&lt;configuration&gt;</code> to achieve this:</p>\n\n<pre><code>  &lt;configOptions&gt;\n    &lt;java8&gt;true&lt;/java8&gt;\n    &lt;dateLibrary&gt;custom&lt;/dateLibrary&gt;\n  &lt;/configOptions&gt;\n  &lt;typeMappings&gt;\n    &lt;typeMapping&gt;DateTime=Instant&lt;/typeMapping&gt;\n    &lt;typeMapping&gt;Date=LocalDate&lt;/typeMapping&gt;\n  &lt;/typeMappings&gt;\n  &lt;importMappings&gt;\n    &lt;importMapping&gt;Instant=java.time.Instant&lt;/importMapping&gt;\n    &lt;importMapping&gt;LocalDate=java.time.LocalDate&lt;/importMapping&gt;\n  &lt;/importMappings&gt;\n</code></pre>\n\n<p>You may also want to add <code>&lt;jsr310&gt;true&lt;/jsr310&gt;</code> config option, since it is auto enabled when dateLibrary is <code>java8</code> (but this is used mostly when generating clients as far as I can see).</p>\n"},{"tags":[],"owner":{"account_id":6351555,"reputation":121,"user_id":4930451,"display_name":"Daniel Plucenio"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1637231819,"creation_date":1637231362,"answer_id":70018208,"question_id":56237650,"body_markdown":"I know the question was about `openapi-generator-maven-plugin`, but since looking for the same configuration for `org.openapi.generator` gradle plugin brought me here, I guess this could be useful for someone else:\r\n\r\nThe equivalent for `org.openapi.generator` gradle plugin would be:\r\n\r\n```\r\nopenApiGenerate {\r\n\t// ...\r\n\ttypeMappings = [\r\n\t\tOffsetDateTime: &quot;Instant&quot;\r\n\t]\r\n\timportMappings = [\r\n\t\t&quot;java.time.OffsetDateTime&quot;: &quot;java.time.Instant&quot;\r\n\t]\r\n}\r\n```","title":"Use java.time.Instant to represent DateTime instead of OffsetDateTime","body":"<p>I know the question was about <code>openapi-generator-maven-plugin</code>, but since looking for the same configuration for <code>org.openapi.generator</code> gradle plugin brought me here, I guess this could be useful for someone else:</p>\n<p>The equivalent for <code>org.openapi.generator</code> gradle plugin would be:</p>\n<pre><code>openApiGenerate {\n    // ...\n    typeMappings = [\n        OffsetDateTime: &quot;Instant&quot;\n    ]\n    importMappings = [\n        &quot;java.time.OffsetDateTime&quot;: &quot;java.time.Instant&quot;\n    ]\n}\n</code></pre>\n"}],"owner":{"account_id":323378,"reputation":375,"user_id":3241025,"display_name":"sromdhane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41785,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"answer_count":5,"score":33,"last_activity_date":1637231819,"creation_date":1558439280,"question_id":56237650,"body_markdown":"I&#39;m using the [openApi maven plugin](https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin) to generate java request/responses for a REST api.\r\n\r\nThe request has a DateTime property, when I run the generator I get the DateTime property of the attribute represented as java.time.OffsetDateTime. The problem is I have a requirement to represent the property as java.time.Instant. \r\n\r\nThis is the openApi specification for the request:\r\n\r\n```\r\n&quot;DocumentDto&quot; : {\r\n      &quot;type&quot; : &quot;object&quot;,\r\n      &quot;properties&quot; : {\r\n        &quot;uuid&quot; : {\r\n          &quot;type&quot; : &quot;string&quot;,\r\n          &quot;format&quot; : &quot;uuid&quot;\r\n        },\r\n        &quot;creationDate&quot; : {\r\n          &quot;type&quot; : &quot;string&quot;,\r\n          &quot;format&quot; : &quot;date-time&quot;\r\n        }\r\n      }\r\n    }\r\n```\r\n\r\nThe generated java request:\r\n```\r\n@javax.annotation.Generated(value = &quot;org.openapitools.codegen.languages.JavaClientCodegen&quot;, date = &quot;2019-05-21T13:07:21.639+02:00[Europe/Zurich]&quot;)\r\npublic class DocumentDto {\r\n  public static final String SERIALIZED_NAME_UUID = &quot;uuid&quot;;\r\n  @SerializedName(SERIALIZED_NAME_UUID)\r\n  private UUID uuid;\r\n\r\n  \r\n  public static final String SERIALIZED_NAME_TEST = &quot;creationDate&quot;;\r\n  @SerializedName(SERIALIZED_NAME_TEST)\r\n  private OffsetDateTime creationDate;\r\n}\r\n```\r\n\r\nThe maven plugin setup:\r\n```\r\n&lt;plugin&gt;\r\n\t&lt;groupId&gt;org.openapitools&lt;/groupId&gt;\r\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\r\n    &lt;version&gt;3.3.4&lt;/version&gt;\r\n    &lt;executions&gt;\r\n    \t&lt;execution&gt;\r\n        \t&lt;id&gt;test-service&lt;/id&gt;\r\n            &lt;phase&gt;validate&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n            \t&lt;goal&gt;generate&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n            \t&lt;inputSpec&gt;\r\n                \t${project.build.directory}/open-api/swagger.json\r\n                &lt;/inputSpec&gt;\r\n                &lt;generatorName&gt;java&lt;/generatorName&gt;\r\n                &lt;validateSpec&gt;false&lt;/validateSpec&gt;\r\n                &lt;generateApis&gt;false&lt;/generateApis&gt;\r\n                &lt;groupId&gt;com.test&lt;/groupId&gt;\r\n                &lt;artifactId&gt;test-service&lt;/artifactId&gt;\r\n                &lt;modelPackage&gt;test.model&lt;/modelPackage&gt;\r\n                &lt;apiPackage&gt;test.api&lt;/apiPackage&gt;\r\n                &lt;configOptions&gt;\r\n                \t&lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\r\n                    &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\r\n                    &lt;java8&gt;true&lt;/java8&gt;\r\n                &lt;/configOptions&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/execution&gt;              \r\n    &lt;/executions&gt;\r\n&lt;/plugin&gt;\r\n```\r\n\r\nI&#39;ve already tried the `typeMappings ` and `importMappings` as follow but it had no affect on the generated code:\r\n```\r\n&lt;typeMappings&gt;DateTime=Instant&lt;/typeMappings&gt;\r\n&lt;importMappings&gt;Instant=java.time.Instant&lt;/importMappings&gt;\r\n```","title":"Use java.time.Instant to represent DateTime instead of OffsetDateTime","body":"<p>I'm using the <a href=\"https://github.com/OpenAPITools/openapi-generator/tree/master/modules/openapi-generator-maven-plugin\" rel=\"noreferrer\">openApi maven plugin</a> to generate java request/responses for a REST api.</p>\n\n<p>The request has a DateTime property, when I run the generator I get the DateTime property of the attribute represented as java.time.OffsetDateTime. The problem is I have a requirement to represent the property as java.time.Instant. </p>\n\n<p>This is the openApi specification for the request:</p>\n\n<pre><code>\"DocumentDto\" : {\n      \"type\" : \"object\",\n      \"properties\" : {\n        \"uuid\" : {\n          \"type\" : \"string\",\n          \"format\" : \"uuid\"\n        },\n        \"creationDate\" : {\n          \"type\" : \"string\",\n          \"format\" : \"date-time\"\n        }\n      }\n    }\n</code></pre>\n\n<p>The generated java request:</p>\n\n<pre><code>@javax.annotation.Generated(value = \"org.openapitools.codegen.languages.JavaClientCodegen\", date = \"2019-05-21T13:07:21.639+02:00[Europe/Zurich]\")\npublic class DocumentDto {\n  public static final String SERIALIZED_NAME_UUID = \"uuid\";\n  @SerializedName(SERIALIZED_NAME_UUID)\n  private UUID uuid;\n\n\n  public static final String SERIALIZED_NAME_TEST = \"creationDate\";\n  @SerializedName(SERIALIZED_NAME_TEST)\n  private OffsetDateTime creationDate;\n}\n</code></pre>\n\n<p>The maven plugin setup:</p>\n\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;org.openapitools&lt;/groupId&gt;\n    &lt;artifactId&gt;openapi-generator-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;3.3.4&lt;/version&gt;\n    &lt;executions&gt;\n        &lt;execution&gt;\n            &lt;id&gt;test-service&lt;/id&gt;\n            &lt;phase&gt;validate&lt;/phase&gt;\n            &lt;goals&gt;\n                &lt;goal&gt;generate&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n                &lt;inputSpec&gt;\n                    ${project.build.directory}/open-api/swagger.json\n                &lt;/inputSpec&gt;\n                &lt;generatorName&gt;java&lt;/generatorName&gt;\n                &lt;validateSpec&gt;false&lt;/validateSpec&gt;\n                &lt;generateApis&gt;false&lt;/generateApis&gt;\n                &lt;groupId&gt;com.test&lt;/groupId&gt;\n                &lt;artifactId&gt;test-service&lt;/artifactId&gt;\n                &lt;modelPackage&gt;test.model&lt;/modelPackage&gt;\n                &lt;apiPackage&gt;test.api&lt;/apiPackage&gt;\n                &lt;configOptions&gt;\n                    &lt;sourceFolder&gt;src/gen/java/main&lt;/sourceFolder&gt;\n                    &lt;dateLibrary&gt;java8&lt;/dateLibrary&gt;\n                    &lt;java8&gt;true&lt;/java8&gt;\n                &lt;/configOptions&gt;\n            &lt;/configuration&gt;\n        &lt;/execution&gt;              \n    &lt;/executions&gt;\n&lt;/plugin&gt;\n</code></pre>\n\n<p>I've already tried the <code>typeMappings</code> and <code>importMappings</code> as follow but it had no affect on the generated code:</p>\n\n<pre><code>&lt;typeMappings&gt;DateTime=Instant&lt;/typeMappings&gt;\n&lt;importMappings&gt;Instant=java.time.Instant&lt;/importMappings&gt;\n</code></pre>\n"},{"tags":["java","spring-boot","google-oauth","google-calendar-api","google-api-java-client"],"answers":[{"tags":[],"owner":{"account_id":2066403,"reputation":109410,"user_id":1841839,"accept_rate":71,"display_name":"Linda Lawton - DaImTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637231460,"creation_date":1637228875,"answer_id":70017627,"question_id":70015158,"body_markdown":"You are using\r\n\r\n    new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n\r\nThis is for use with installed applications. Installed applications use localhost as the redirect uri.\r\n\r\nFor web server aplcistons you should be using [GoogleAuthorizationCodeFlow](https://github.com/googleapis/google-api-java-client/blob/f4068b68a5db46086fd1db60f6dce91e0dc263c7/docs/oauth-2.0.md#web-server-applications)\r\n\r\n    public class CalendarServletSample extends AbstractAuthorizationCodeServlet {\r\n    \r\n      @Override\r\n      protected void doGet(HttpServletRequest request, HttpServletResponse response)\r\n          throws IOException {\r\n        // do stuff\r\n      }\r\n    \r\n      @Override\r\n      protected String getRedirectUri(HttpServletRequest req) throws ServletException, IOException {\r\n        GenericUrl url = new GenericUrl(req.getRequestURL().toString());\r\n        url.setRawPath(&quot;/oauth2callback&quot;);\r\n        return url.build();\r\n      }\r\n    \r\n      @Override\r\n      protected AuthorizationCodeFlow initializeFlow() throws IOException {\r\n        return new GoogleAuthorizationCodeFlow.Builder(\r\n            new NetHttpTransport(), GsonFactory.getDefaultInstance(),\r\n            &quot;[[ENTER YOUR CLIENT ID]]&quot;, &quot;[[ENTER YOUR CLIENT SECRET]]&quot;,\r\n            Collections.singleton(CalendarScopes.CALENDAR)).setDataStoreFactory(\r\n            DATA_STORE_FACTORY).setAccessType(&quot;offline&quot;).build();\r\n      }\r\n    \r\n      @Override\r\n      protected String getUserId(HttpServletRequest req) throws ServletException, IOException {\r\n        // return user ID\r\n      }\r\n    }\r\n    \r\n    public class CalendarServletCallbackSample extends AbstractAuthorizationCodeCallbackServlet {\r\n    \r\n      @Override\r\n      protected void onSuccess(HttpServletRequest req, HttpServletResponse resp, Credential credential)\r\n          throws ServletException, IOException {\r\n        resp.sendRedirect(&quot;/&quot;);\r\n      }\r\n    \r\n      @Override\r\n      protected void onError(\r\n          HttpServletRequest req, HttpServletResponse resp, AuthorizationCodeResponseUrl errorResponse)\r\n          throws ServletException, IOException {\r\n        // handle error\r\n      }\r\n    \r\n      @Override\r\n      protected String getRedirectUri(HttpServletRequest req) throws ServletException, IOException {\r\n        GenericUrl url = new GenericUrl(req.getRequestURL().toString());\r\n        url.setRawPath(&quot;/oauth2callback&quot;);\r\n        return url.build();\r\n      }\r\n    \r\n      @Override\r\n      protected AuthorizationCodeFlow initializeFlow() throws IOException {\r\n        return new GoogleAuthorizationCodeFlow.Builder(\r\n            new NetHttpTransport(), GsonFactory.getDefaultInstance()\r\n            &quot;[[ENTER YOUR CLIENT ID]]&quot;, &quot;[[ENTER YOUR CLIENT SECRET]]&quot;,\r\n            Collections.singleton(CalendarScopes.CALENDAR)).setDataStoreFactory(\r\n            DATA_STORE_FACTORY).setAccessType(&quot;offline&quot;).build();\r\n      }\r\n    \r\n      @Override\r\n      protected String getUserId(HttpServletRequest req) throws ServletException, IOException {\r\n        // return user ID\r\n      }\r\n    }\r\n\r\nAlso ensure that you created Web application credentials On google cloud console and not installed application credentials.\r\n\r\n- [How to create Google Oauth2 web application credentials in 2021.](https://www.youtube.com/watch?v=pBVAyU4pZOU)","title":"Locally works, fails on server : Google calendar API","body":"<p>You are using</p>\n<pre><code>new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n</code></pre>\n<p>This is for use with installed applications. Installed applications use localhost as the redirect uri.</p>\n<p>For web server aplcistons you should be using <a href=\"https://github.com/googleapis/google-api-java-client/blob/f4068b68a5db46086fd1db60f6dce91e0dc263c7/docs/oauth-2.0.md#web-server-applications\" rel=\"nofollow noreferrer\">GoogleAuthorizationCodeFlow</a></p>\n<pre><code>public class CalendarServletSample extends AbstractAuthorizationCodeServlet {\n\n  @Override\n  protected void doGet(HttpServletRequest request, HttpServletResponse response)\n      throws IOException {\n    // do stuff\n  }\n\n  @Override\n  protected String getRedirectUri(HttpServletRequest req) throws ServletException, IOException {\n    GenericUrl url = new GenericUrl(req.getRequestURL().toString());\n    url.setRawPath(&quot;/oauth2callback&quot;);\n    return url.build();\n  }\n\n  @Override\n  protected AuthorizationCodeFlow initializeFlow() throws IOException {\n    return new GoogleAuthorizationCodeFlow.Builder(\n        new NetHttpTransport(), GsonFactory.getDefaultInstance(),\n        &quot;[[ENTER YOUR CLIENT ID]]&quot;, &quot;[[ENTER YOUR CLIENT SECRET]]&quot;,\n        Collections.singleton(CalendarScopes.CALENDAR)).setDataStoreFactory(\n        DATA_STORE_FACTORY).setAccessType(&quot;offline&quot;).build();\n  }\n\n  @Override\n  protected String getUserId(HttpServletRequest req) throws ServletException, IOException {\n    // return user ID\n  }\n}\n\npublic class CalendarServletCallbackSample extends AbstractAuthorizationCodeCallbackServlet {\n\n  @Override\n  protected void onSuccess(HttpServletRequest req, HttpServletResponse resp, Credential credential)\n      throws ServletException, IOException {\n    resp.sendRedirect(&quot;/&quot;);\n  }\n\n  @Override\n  protected void onError(\n      HttpServletRequest req, HttpServletResponse resp, AuthorizationCodeResponseUrl errorResponse)\n      throws ServletException, IOException {\n    // handle error\n  }\n\n  @Override\n  protected String getRedirectUri(HttpServletRequest req) throws ServletException, IOException {\n    GenericUrl url = new GenericUrl(req.getRequestURL().toString());\n    url.setRawPath(&quot;/oauth2callback&quot;);\n    return url.build();\n  }\n\n  @Override\n  protected AuthorizationCodeFlow initializeFlow() throws IOException {\n    return new GoogleAuthorizationCodeFlow.Builder(\n        new NetHttpTransport(), GsonFactory.getDefaultInstance()\n        &quot;[[ENTER YOUR CLIENT ID]]&quot;, &quot;[[ENTER YOUR CLIENT SECRET]]&quot;,\n        Collections.singleton(CalendarScopes.CALENDAR)).setDataStoreFactory(\n        DATA_STORE_FACTORY).setAccessType(&quot;offline&quot;).build();\n  }\n\n  @Override\n  protected String getUserId(HttpServletRequest req) throws ServletException, IOException {\n    // return user ID\n  }\n}\n</code></pre>\n<p>Also ensure that you created Web application credentials On google cloud console and not installed application credentials.</p>\n<ul>\n<li><a href=\"https://www.youtube.com/watch?v=pBVAyU4pZOU\" rel=\"nofollow noreferrer\">How to create Google Oauth2 web application credentials in 2021.</a></li>\n</ul>\n"}],"owner":{"account_id":4104486,"reputation":491,"user_id":3369001,"accept_rate":100,"display_name":"Vishal_Kotecha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637231460,"creation_date":1637214865,"question_id":70015158,"body_markdown":"In an existing Java based spring boot application, I have integrated Google calendar API. In my local, it works. On dev server, I see that the URL to open in browser is : \r\n\r\n    https://accounts.google.com/o/oauth2/auth?access_type=offline&amp;client_id=xxx.apps.googleusercontent.com&amp;redirect_uri=http://localhost:8080/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/calendar.events\r\n\r\nwhere the redirect uri is http://localhost:8080/Callback instead of https://dev.myserver.in/Callback which results in invalid request\r\n\r\neven if I correct the URI manually and past in the browser, it says 404. \r\n\r\nI have created the service account and provided redirect uris for localhost and my dev server, and I am using the same as credential.json file in my code.\r\n\r\nFollowing are code snippets\r\n\r\n    private Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\r\n    \t\t// Load client secrets.\r\n    \t\tInputStream in = GoogleCalendarServiceImpl.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\r\n    \r\n    \t\tif (in == null) {\r\n    \t\t\tthrow new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\r\n    \t\t}\r\n    \r\n    \t\tGoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\r\n    \r\n    \t\t// Build flow and trigger user authorization request.\r\n    \t\tGoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(HTTP_TRANSPORT, JSON_FACTORY,\r\n    \t\t\t\tclientSecrets, SCOPES)\r\n    \t\t\t\t\t\t.setDataStoreFactory(new FileDataStoreFactory(new java.io.File(tokensDirectoryPath)))\r\n    \t\t\t\t\t\t.setAccessType(&quot;offline&quot;)\r\n    \t\t\t\t\t\t.build();\r\n    \t\tLocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build(); //.Builder().setPort(localServerReceiverPort).build();\r\n    \t\treturn new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\r\n    \t}\r\n\r\n\r\nand here it is used: \r\n\r\n\r\n    public void createEvent(CreateEventRequest request) throws GeneralSecurityException, IOException {\r\n    \r\n    \t// Build a new authorized API client service.\r\n    \tfinal NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\r\n    \tCalendar service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\r\n    \t\t\t.setApplicationName(APPLICATION_NAME).build();\r\n    \r\n    \tEvent event = createEvent(request);\r\n    \tString calendarId = &quot;primary&quot;;\r\n    \tEvent createdEvent = service.events().insert(calendarId, event).execute();\r\n    \r\n    \tlog.info(&quot;Event successfully created! : {} &quot;, createdEvent.getHtmlLink());\r\n    \r\n    }\r\n\r\nHere are the configs :\r\n\r\n\r\n    private static final String APPLICATION_NAME = &quot;Calendar&quot;;\r\n    \tprivate static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\r\n    \tprivate static final String CREDENTIALS_FILE_PATH = &quot;/credential.json&quot;;\r\n    \t\r\n    \t@Value(&quot;${google.calendar.tokens.directory.path}&quot;)\r\n    \tprivate String tokensDirectoryPath\r\n    \t\r\n    \t\r\n    \t/**\r\n    \t * Global instance of the scopes required by this quickstart. If modifying these\r\n    \t * scopes, delete your previously saved tokens/ folder.\r\n    \t */\r\n    \tprivate static final List&lt;String&gt; SCOPES = Collections.singletonList(CalendarScopes.CALENDAR_EVENTS);\r\n\r\n","title":"Locally works, fails on server : Google calendar API","body":"<p>In an existing Java based spring boot application, I have integrated Google calendar API. In my local, it works. On dev server, I see that the URL to open in browser is :</p>\n<pre><code>https://accounts.google.com/o/oauth2/auth?access_type=offline&amp;client_id=xxx.apps.googleusercontent.com&amp;redirect_uri=http://localhost:8080/Callback&amp;response_type=code&amp;scope=https://www.googleapis.com/auth/calendar.events\n</code></pre>\n<p>where the redirect uri is http://localhost:8080/Callback instead of <a href=\"https://dev.myserver.in/Callback\" rel=\"nofollow noreferrer\">https://dev.myserver.in/Callback</a> which results in invalid request</p>\n<p>even if I correct the URI manually and past in the browser, it says 404.</p>\n<p>I have created the service account and provided redirect uris for localhost and my dev server, and I am using the same as credential.json file in my code.</p>\n<p>Following are code snippets</p>\n<pre><code>private Credential getCredentials(final NetHttpTransport HTTP_TRANSPORT) throws IOException {\n        // Load client secrets.\n        InputStream in = GoogleCalendarServiceImpl.class.getResourceAsStream(CREDENTIALS_FILE_PATH);\n\n        if (in == null) {\n            throw new FileNotFoundException(&quot;Resource not found: &quot; + CREDENTIALS_FILE_PATH);\n        }\n\n        GoogleClientSecrets clientSecrets = GoogleClientSecrets.load(JSON_FACTORY, new InputStreamReader(in));\n\n        // Build flow and trigger user authorization request.\n        GoogleAuthorizationCodeFlow flow = new GoogleAuthorizationCodeFlow.Builder(HTTP_TRANSPORT, JSON_FACTORY,\n                clientSecrets, SCOPES)\n                        .setDataStoreFactory(new FileDataStoreFactory(new java.io.File(tokensDirectoryPath)))\n                        .setAccessType(&quot;offline&quot;)\n                        .build();\n        LocalServerReceiver receiver = new LocalServerReceiver.Builder().setPort(8888).build(); //.Builder().setPort(localServerReceiverPort).build();\n        return new AuthorizationCodeInstalledApp(flow, receiver).authorize(&quot;user&quot;);\n    }\n</code></pre>\n<p>and here it is used:</p>\n<pre><code>public void createEvent(CreateEventRequest request) throws GeneralSecurityException, IOException {\n\n    // Build a new authorized API client service.\n    final NetHttpTransport HTTP_TRANSPORT = GoogleNetHttpTransport.newTrustedTransport();\n    Calendar service = new Calendar.Builder(HTTP_TRANSPORT, JSON_FACTORY, getCredentials(HTTP_TRANSPORT))\n            .setApplicationName(APPLICATION_NAME).build();\n\n    Event event = createEvent(request);\n    String calendarId = &quot;primary&quot;;\n    Event createdEvent = service.events().insert(calendarId, event).execute();\n\n    log.info(&quot;Event successfully created! : {} &quot;, createdEvent.getHtmlLink());\n\n}\n</code></pre>\n<p>Here are the configs :</p>\n<pre><code>private static final String APPLICATION_NAME = &quot;Calendar&quot;;\n    private static final JsonFactory JSON_FACTORY = JacksonFactory.getDefaultInstance();\n    private static final String CREDENTIALS_FILE_PATH = &quot;/credential.json&quot;;\n    \n    @Value(&quot;${google.calendar.tokens.directory.path}&quot;)\n    private String tokensDirectoryPath\n    \n    \n    /**\n     * Global instance of the scopes required by this quickstart. If modifying these\n     * scopes, delete your previously saved tokens/ folder.\n     */\n    private static final List&lt;String&gt; SCOPES = Collections.singletonList(CalendarScopes.CALENDAR_EVENTS);\n</code></pre>\n"},{"tags":["java","ssl","redis","redisson","redis-sentinel"],"owner":{"account_id":4713007,"reputation":76,"user_id":3812969,"display_name":"MrAbdul"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1936,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637231419,"creation_date":1636971077,"question_id":69972653,"body_markdown":"we have a redis-sentinel cluster consisting of three VMs running redis and sentinel, and I am using redisson library to connect to it.\r\nHowever we are facing an issue when connecting to it.\r\nIt seems that when it gets the list of sentinels, it gets the master as non ssl.\r\n\r\nVersions:\r\nredis 6\r\njava 1.8\r\nredisson 3.16.4\r\n\r\n\r\nhere is the sentinel configuration on the VMs,\r\n\r\n```\r\nport 0\r\ntls-port 26379\r\ntls-cert-file &quot;/etc/ssl/redis/redis.crt&quot;\r\ntls-key-file &quot;/etc/ssl/redis/redis.key&quot;\r\ntls-ca-cert-file &quot;/etc/ssl/redis/ca_uat.crt&quot;\r\ntls-replication yes\r\ntls-auth-clients yes\r\ndaemonize no\r\npidfile &quot;/var/run/redis-sentinel.pid&quot;\r\nsentinel myid e93ca95c2bd17723461f3d2a84296934f560c46e\r\nsentinel deny-scripts-reconfig yes\r\nsentinel monitor redis-cluster 182.26.3.54 6379 2\r\nsentinel down-after-milliseconds redis-cluster 5000\r\nlogfile &quot;/var/log/redis/sentinel.log&quot;\r\ndir &quot;/tmp&quot;\r\nrequirepass password\r\n# Generated by CONFIG REWRITE\r\nprotected-mode no\r\nsupervised systemd\r\nuser default on #1d38e11ad3cff25192a679ae05dd0cebaa746da9185a66f719ff19311472a02f ~* +@all\r\nsentinel failover-timeout redis-cluster 60000\r\nsentinel auth-pass redis-cluster password\r\nsentinel config-epoch redis-cluster 70\r\nsentinel leader-epoch redis-cluster 70\r\nsentinel known-replica redis-cluster 182.26.3.21 6379\r\nsentinel known-replica redis-cluster 182.26.3.51 6379\r\nsentinel known-sentinel redis-cluster 182.26.3.54 26379 2294c0239d9137af32e5d4b0fc2836e12727f13a\r\nsentinel known-sentinel redis-cluster 182.26.3.51 26379 e69c7f50bb633a04981a20f54c7f5edcd46fc0c8\r\nsentinel current-epoch 70\r\n```\r\n\r\nand here is the the non default redis config.\r\n```\r\nport 0\r\ntls-port 6379\r\ntls-cert-file /etc/ssl/redis/redis.crt\r\ntls-key-file /etc/ssl/redis/redis.key\r\ntls-ca-cert-file /etc/ssl/redis/ca_uat.crt\r\ntls-replication yes\r\ntls-auth-clients yes\r\nmasterauth password\r\nrequirepass password\r\n```\r\n\r\nhere is the redisson yaml config\r\n```\r\n---\r\nsentinelServersConfig:\r\n  idleConnectionTimeout: 100000\r\n  connectTimeout: 100000\r\n  timeout: 30000\r\n  retryAttempts: 3\r\n  retryInterval: 1500\r\n  password: &quot;password&quot;\r\n  subscriptionsPerConnection: 5\r\n  sslEnableEndpointIdentification: false\r\n  sslProvider: &quot;JDK&quot;\r\n  sslTruststore: &quot;file:/resources/redis-cluster.jks&quot;\r\n  sslTruststorePassword: &quot;Jpass&quot;\r\n  sslKeystore: &quot;file:/resources/redis-cluster.jks&quot;\r\n  sslKeystorePassword: &quot;Jpass&quot;\r\n  sslProtocols:\r\n  - &quot;TLSv1.2&quot;\r\n  pingConnectionInterval: 30000\r\n  keepAlive: false\r\n  tcpNoDelay: true\r\n  nameMapper: !&lt;org.redisson.api.DefaultNameMapper&gt; {}\r\n  loadBalancer: !&lt;org.redisson.connection.balancer.RoundRobinLoadBalancer&gt; {}\r\n  slaveConnectionMinimumIdleSize: 24\r\n  slaveConnectionPoolSize: 64\r\n  failedSlaveReconnectionInterval: 3000\r\n  failedSlaveCheckInterval: 180000\r\n  masterConnectionMinimumIdleSize: 24\r\n  masterConnectionPoolSize: 64\r\n  readMode: &quot;SLAVE&quot;\r\n  subscriptionMode: &quot;SLAVE&quot;\r\n  subscriptionConnectionMinimumIdleSize: 1\r\n  subscriptionConnectionPoolSize: 50\r\n  dnsMonitoringInterval: 5000\r\n  sentinelAddresses:\r\n  - &quot;rediss://redis03.corp.com:26379&quot;\r\n  - &quot;rediss://redis02.corp.com:26379&quot;\r\n  - &quot;rediss://redis01.corp.com:26379&quot;\r\n  natMapper: !&lt;org.redisson.api.DefaultNatMapper&gt; {}\r\n  masterName: &quot;redis-cluster&quot;\r\n  sentinelPassword: &quot;password&quot;\r\n  database: 0\r\n  scanInterval: 1000\r\n  checkSentinelsList: true\r\n  checkSlaveStatusWithSyncing: true\r\nthreads: 16\r\nnettyThreads: 32\r\ncodec: !&lt;org.redisson.codec.MarshallingCodec&gt; {}\r\nreferenceEnabled: true\r\ntransportMode: &quot;NIO&quot;\r\nlockWatchdogTimeout: 300000\r\nreliableTopicWatchdogTimeout: 6000000\r\nkeepPubSubOrder: true\r\nuseScriptCache: false\r\nminCleanUpDelay: 5\r\nmaxCleanUpDelay: 1800\r\ncleanUpKeysAmount: 100\r\nnettyHook: !&lt;org.redisson.client.DefaultNettyHook&gt; {}\r\nuseThreadClassLoader: true\r\naddressResolverGroupFactory: !&lt;org.redisson.connection.DnsAddressResolverGroupFactory&gt; {}\r\n```\r\n\r\nand here is the code to create the connection\r\n```\r\ntry {\r\n\t\t\treddisonConfig = Config.fromYAML(configFile);\r\n\t\t\tlogger.warn(reddisonConfig.toYAML());\r\n\t\t} catch (IOException e) {\r\n\t\t\tlogger.warn(&quot;Unable to load configuration file&quot;);\r\n\t\t\tlogger.warn(&quot;file location is&quot; + configFile.getAbsolutePath());\r\n\t\t\tsetConnected(false);\r\n\t\t\tutilityClass.logMe(logger, e);\r\n\t\t}\r\n\t\ttry {\r\n\t\t\tRclient = Redisson.create(reddisonConfig);\r\n\t\t\tsetConnected(true);\r\n\t\t} catch (Exception e) {\r\n\t\t\tlogger.warn(\r\n\t\t\t\t\t&quot;Problem connecting to redis &quot;);\r\n\t\t\tsetConnected(false);\r\n\t\t\tutilityClass.logMe(logger, e);\r\n\r\n\t\t}\r\n```\r\n\r\nand here is the error I get when I start the service.\r\n```\r\n2021-11-15 12:36:20.652 [restartedMain] INFO  org.redisson.Version                               : Redisson 3.16.4\r\n2021-11-15 12:36:21.008 [restartedMain] INFO  o.r.c.SentinelConnectionManager                    : master: redis://182.26.3.21:6379 added\r\n2021-11-15 12:36:21.016 [restartedMain] INFO  o.r.c.SentinelConnectionManager                    : slave: rediss://182.26.3.54:6379 added\r\n2021-11-15 12:36:21.016 [restartedMain] INFO  o.r.c.SentinelConnectionManager                    : slave: rediss://182.26.3.51:6379 added\r\n2021-11-15 12:36:21.094 [redisson-netty-11-10] INFO  o.r.c.SentinelConnectionManager                    : sentinel: rediss://182.26.3.51:26379 added\r\n2021-11-15 12:36:21.094 [redisson-netty-11-11] INFO  o.r.c.SentinelConnectionManager                    : sentinel: rediss://182.26.3.54:26379 added\r\n2021-11-15 12:36:21.102 [redisson-netty-11-9] INFO  o.r.c.SentinelConnectionManager                    : sentinel: rediss://182.26.3.21:26379 added\r\n2021-11-15 12:36:51.244 [restartedMain] WARN  c.b.p.utilities.CacheUtil                          : Problem connecting to redis server\r\n\r\n2021-11-15 12:36:51.245 [restartedMain] ERROR c.b.p.utilities.CacheUtil                          : Exception occurred at restartedMain Exception Message\r\norg.redisson.client.RedisConnectionException: Unable to connect to Redis server: 182.26.3.21/182.26.3.21:6379\r\n\tat org.redisson.connection.pool.ConnectionPool$1.lambda$run$0(ConnectionPool.java:158)\r\n\tat org.redisson.misc.RedissonPromise.lambda$onComplete$0(RedissonPromise.java:183)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\r\n\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\r\n\tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\r\n\tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\r\n\tat org.redisson.misc.RedissonPromise.tryFailure(RedissonPromise.java:96)\r\n\tat org.redisson.connection.pool.ConnectionPool.promiseFailure(ConnectionPool.java:313)\r\n\tat org.redisson.connection.pool.ConnectionPool.lambda$createConnection$3(ConnectionPool.java:279)\r\n\tat org.redisson.misc.RedissonPromise.lambda$onComplete$0(RedissonPromise.java:183)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)\r\n\tat io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\r\n\tat io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\r\n\tat io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\r\n\tat io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\r\n\tat org.redisson.misc.RedissonPromise.tryFailure(RedissonPromise.java:96)\r\n\tat org.redisson.client.RedisClient$2$1.run(RedisClient.java:242)\r\n\tat io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\r\n\tat io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\r\n\tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\r\n\tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n\tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: org.redisson.client.RedisTimeoutException: Command execution timeout for command: (AUTH), params: (password masked), Redis client: [addr=redis://182.26.3.21:6379]\r\n\tat org.redisson.client.RedisConnection.lambda$async$1(RedisConnection.java:251)\r\n\tat io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:672)\r\n\tat io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:747)\r\n\tat io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:472)\r\n\t... 2 common frames omitted\r\n```\r\n\r\nI can that it tries to connect to the master redis using redis://182.26.3.21:6379 instead of rediss://182.26.3.21:6379 which I gather is needed for tls connection.\r\n\r\nI used ssl scan tool to verify that ssl 1.2 is enabled and here is the output.\r\n\r\n```\r\nD:\\Users\\03856u\\Documents\\sslScan&gt;sslscan 182.26.3.21:6379\r\nVersion: 2.0.10 Windows 64-bit (Mingw)\r\nOpenSSL 1.1.1e-dev  xx XXX xxxx\r\n\r\nConnected to 182.26.3.21\r\n\r\nTesting SSL server 182.26.3.21 on port 6379 using SNI name 182.26.3.21\r\n\r\n  SSL/TLS Protocols:\r\nSSLv2     disabled\r\nSSLv3     disabled\r\nTLSv1.0   disabled\r\nTLSv1.1   disabled\r\nTLSv1.2   enabled\r\nTLSv1.3   enabled\r\n\r\n  TLS Fallback SCSV:\r\nServer supports TLS Fallback SCSV\r\n\r\n  TLS renegotiation:\r\nSession renegotiation not supported\r\n\r\n  TLS Compression:\r\nCompression disabled\r\n\r\n  Heartbleed:\r\nTLSv1.3 not vulnerable to heartbleed\r\nTLSv1.2 not vulnerable to heartbleed\r\n\r\n  Supported Server Cipher(s):\r\nPreferred TLSv1.3  128 bits  TLS_AES_128_GCM_SHA256        Curve 25519 DHE 253\r\nAccepted  TLSv1.3  256 bits  TLS_AES_256_GCM_SHA384        Curve 25519 DHE 253\r\nAccepted  TLSv1.3  256 bits  TLS_CHACHA20_POLY1305_SHA256  Curve 25519 DHE 253\r\nAccepted  TLSv1.3  128 bits  TLS_AES_128_CCM_SHA256        Curve 25519 DHE 253\r\n\r\n  Server Key Exchange Group(s):\r\nTLSv1.3  128 bits  secp256r1 (NIST P-256)\r\nTLSv1.3  192 bits  secp384r1 (NIST P-384)\r\nTLSv1.3  260 bits  secp521r1 (NIST P-521)\r\nTLSv1.3  128 bits  x25519\r\nTLSv1.3  224 bits  x448\r\nTLSv1.2  128 bits  secp256r1 (NIST P-256)\r\nTLSv1.2  192 bits  secp384r1 (NIST P-384)\r\nTLSv1.2  260 bits  secp521r1 (NIST P-521)\r\nTLSv1.2  128 bits  x25519\r\nTLSv1.2  224 bits  x448\r\n\r\n  SSL Certificate:\r\nSignature Algorithm: sha256WithRSAEncryption\r\nRSA Key Strength:    2048\r\n\r\nSubject:  redis.corp.com\r\nAltnames: DNS:redis.corp.com, DNS:redis03.corp.com, DNS:redis01.corp.com, DNS:redis02.corp.com, IP Address:182.26.3.21, IP Address:182.26.3.54, IP Address:182.26.3.51\r\nIssuer:   UAT-CA\r\n\r\nNot valid before: Oct  4 05:19:14 2021 GMT\r\nNot valid after:  Oct  3 05:19:14 2026 GMT\r\n```\r\n\r\nI have opened an issue in github and I was told that there was no issue with the library in connecting to sentinel on SSL, so I am guessing its an issue in my configuration.\r\nI looked at the documentation on github and couldn&#39;t figure it out. \r\nany help is welcome. \r\n\r\n\r\nEDIT: so it seems that it was a bug with redisson, an issue was opened and a solution was proposed, and the creator created a fix and I tried it and it working.\r\nlink to the github issue: https://github.com/redisson/redisson/issues/3950\r\n","title":"redisson unable to connect to sentinel with ssl, it is getting the master as non ssl","body":"<p>we have a redis-sentinel cluster consisting of three VMs running redis and sentinel, and I am using redisson library to connect to it.\nHowever we are facing an issue when connecting to it.\nIt seems that when it gets the list of sentinels, it gets the master as non ssl.</p>\n<p>Versions:\nredis 6\njava 1.8\nredisson 3.16.4</p>\n<p>here is the sentinel configuration on the VMs,</p>\n<pre><code>port 0\ntls-port 26379\ntls-cert-file &quot;/etc/ssl/redis/redis.crt&quot;\ntls-key-file &quot;/etc/ssl/redis/redis.key&quot;\ntls-ca-cert-file &quot;/etc/ssl/redis/ca_uat.crt&quot;\ntls-replication yes\ntls-auth-clients yes\ndaemonize no\npidfile &quot;/var/run/redis-sentinel.pid&quot;\nsentinel myid e93ca95c2bd17723461f3d2a84296934f560c46e\nsentinel deny-scripts-reconfig yes\nsentinel monitor redis-cluster 182.26.3.54 6379 2\nsentinel down-after-milliseconds redis-cluster 5000\nlogfile &quot;/var/log/redis/sentinel.log&quot;\ndir &quot;/tmp&quot;\nrequirepass password\n# Generated by CONFIG REWRITE\nprotected-mode no\nsupervised systemd\nuser default on #1d38e11ad3cff25192a679ae05dd0cebaa746da9185a66f719ff19311472a02f ~* +@all\nsentinel failover-timeout redis-cluster 60000\nsentinel auth-pass redis-cluster password\nsentinel config-epoch redis-cluster 70\nsentinel leader-epoch redis-cluster 70\nsentinel known-replica redis-cluster 182.26.3.21 6379\nsentinel known-replica redis-cluster 182.26.3.51 6379\nsentinel known-sentinel redis-cluster 182.26.3.54 26379 2294c0239d9137af32e5d4b0fc2836e12727f13a\nsentinel known-sentinel redis-cluster 182.26.3.51 26379 e69c7f50bb633a04981a20f54c7f5edcd46fc0c8\nsentinel current-epoch 70\n</code></pre>\n<p>and here is the the non default redis config.</p>\n<pre><code>port 0\ntls-port 6379\ntls-cert-file /etc/ssl/redis/redis.crt\ntls-key-file /etc/ssl/redis/redis.key\ntls-ca-cert-file /etc/ssl/redis/ca_uat.crt\ntls-replication yes\ntls-auth-clients yes\nmasterauth password\nrequirepass password\n</code></pre>\n<p>here is the redisson yaml config</p>\n<pre><code>---\nsentinelServersConfig:\n  idleConnectionTimeout: 100000\n  connectTimeout: 100000\n  timeout: 30000\n  retryAttempts: 3\n  retryInterval: 1500\n  password: &quot;password&quot;\n  subscriptionsPerConnection: 5\n  sslEnableEndpointIdentification: false\n  sslProvider: &quot;JDK&quot;\n  sslTruststore: &quot;file:/resources/redis-cluster.jks&quot;\n  sslTruststorePassword: &quot;Jpass&quot;\n  sslKeystore: &quot;file:/resources/redis-cluster.jks&quot;\n  sslKeystorePassword: &quot;Jpass&quot;\n  sslProtocols:\n  - &quot;TLSv1.2&quot;\n  pingConnectionInterval: 30000\n  keepAlive: false\n  tcpNoDelay: true\n  nameMapper: !&lt;org.redisson.api.DefaultNameMapper&gt; {}\n  loadBalancer: !&lt;org.redisson.connection.balancer.RoundRobinLoadBalancer&gt; {}\n  slaveConnectionMinimumIdleSize: 24\n  slaveConnectionPoolSize: 64\n  failedSlaveReconnectionInterval: 3000\n  failedSlaveCheckInterval: 180000\n  masterConnectionMinimumIdleSize: 24\n  masterConnectionPoolSize: 64\n  readMode: &quot;SLAVE&quot;\n  subscriptionMode: &quot;SLAVE&quot;\n  subscriptionConnectionMinimumIdleSize: 1\n  subscriptionConnectionPoolSize: 50\n  dnsMonitoringInterval: 5000\n  sentinelAddresses:\n  - &quot;rediss://redis03.corp.com:26379&quot;\n  - &quot;rediss://redis02.corp.com:26379&quot;\n  - &quot;rediss://redis01.corp.com:26379&quot;\n  natMapper: !&lt;org.redisson.api.DefaultNatMapper&gt; {}\n  masterName: &quot;redis-cluster&quot;\n  sentinelPassword: &quot;password&quot;\n  database: 0\n  scanInterval: 1000\n  checkSentinelsList: true\n  checkSlaveStatusWithSyncing: true\nthreads: 16\nnettyThreads: 32\ncodec: !&lt;org.redisson.codec.MarshallingCodec&gt; {}\nreferenceEnabled: true\ntransportMode: &quot;NIO&quot;\nlockWatchdogTimeout: 300000\nreliableTopicWatchdogTimeout: 6000000\nkeepPubSubOrder: true\nuseScriptCache: false\nminCleanUpDelay: 5\nmaxCleanUpDelay: 1800\ncleanUpKeysAmount: 100\nnettyHook: !&lt;org.redisson.client.DefaultNettyHook&gt; {}\nuseThreadClassLoader: true\naddressResolverGroupFactory: !&lt;org.redisson.connection.DnsAddressResolverGroupFactory&gt; {}\n</code></pre>\n<p>and here is the code to create the connection</p>\n<pre><code>try {\n            reddisonConfig = Config.fromYAML(configFile);\n            logger.warn(reddisonConfig.toYAML());\n        } catch (IOException e) {\n            logger.warn(&quot;Unable to load configuration file&quot;);\n            logger.warn(&quot;file location is&quot; + configFile.getAbsolutePath());\n            setConnected(false);\n            utilityClass.logMe(logger, e);\n        }\n        try {\n            Rclient = Redisson.create(reddisonConfig);\n            setConnected(true);\n        } catch (Exception e) {\n            logger.warn(\n                    &quot;Problem connecting to redis &quot;);\n            setConnected(false);\n            utilityClass.logMe(logger, e);\n\n        }\n</code></pre>\n<p>and here is the error I get when I start the service.</p>\n<pre><code>2021-11-15 12:36:20.652 [restartedMain] INFO  org.redisson.Version                               : Redisson 3.16.4\n2021-11-15 12:36:21.008 [restartedMain] INFO  o.r.c.SentinelConnectionManager                    : master: redis://182.26.3.21:6379 added\n2021-11-15 12:36:21.016 [restartedMain] INFO  o.r.c.SentinelConnectionManager                    : slave: rediss://182.26.3.54:6379 added\n2021-11-15 12:36:21.016 [restartedMain] INFO  o.r.c.SentinelConnectionManager                    : slave: rediss://182.26.3.51:6379 added\n2021-11-15 12:36:21.094 [redisson-netty-11-10] INFO  o.r.c.SentinelConnectionManager                    : sentinel: rediss://182.26.3.51:26379 added\n2021-11-15 12:36:21.094 [redisson-netty-11-11] INFO  o.r.c.SentinelConnectionManager                    : sentinel: rediss://182.26.3.54:26379 added\n2021-11-15 12:36:21.102 [redisson-netty-11-9] INFO  o.r.c.SentinelConnectionManager                    : sentinel: rediss://182.26.3.21:26379 added\n2021-11-15 12:36:51.244 [restartedMain] WARN  c.b.p.utilities.CacheUtil                          : Problem connecting to redis server\n\n2021-11-15 12:36:51.245 [restartedMain] ERROR c.b.p.utilities.CacheUtil                          : Exception occurred at restartedMain Exception Message\norg.redisson.client.RedisConnectionException: Unable to connect to Redis server: 182.26.3.21/182.26.3.21:6379\n    at org.redisson.connection.pool.ConnectionPool$1.lambda$run$0(ConnectionPool.java:158)\n    at org.redisson.misc.RedissonPromise.lambda$onComplete$0(RedissonPromise.java:183)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:552)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\n    at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\n    at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\n    at org.redisson.misc.RedissonPromise.tryFailure(RedissonPromise.java:96)\n    at org.redisson.connection.pool.ConnectionPool.promiseFailure(ConnectionPool.java:313)\n    at org.redisson.connection.pool.ConnectionPool.lambda$createConnection$3(ConnectionPool.java:279)\n    at org.redisson.misc.RedissonPromise.lambda$onComplete$0(RedissonPromise.java:183)\n    at io.netty.util.concurrent.DefaultPromise.notifyListener0(DefaultPromise.java:578)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners0(DefaultPromise.java:571)\n    at io.netty.util.concurrent.DefaultPromise.notifyListenersNow(DefaultPromise.java:550)\n    at io.netty.util.concurrent.DefaultPromise.notifyListeners(DefaultPromise.java:491)\n    at io.netty.util.concurrent.DefaultPromise.setValue0(DefaultPromise.java:616)\n    at io.netty.util.concurrent.DefaultPromise.setFailure0(DefaultPromise.java:609)\n    at io.netty.util.concurrent.DefaultPromise.tryFailure(DefaultPromise.java:117)\n    at org.redisson.misc.RedissonPromise.tryFailure(RedissonPromise.java:96)\n    at org.redisson.client.RedisClient$2$1.run(RedisClient.java:242)\n    at io.netty.util.concurrent.AbstractEventExecutor.safeExecute(AbstractEventExecutor.java:164)\n    at io.netty.util.concurrent.SingleThreadEventExecutor.runAllTasks(SingleThreadEventExecutor.java:472)\n    at io.netty.channel.nio.NioEventLoop.run(NioEventLoop.java:500)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:989)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.redisson.client.RedisTimeoutException: Command execution timeout for command: (AUTH), params: (password masked), Redis client: [addr=redis://182.26.3.21:6379]\n    at org.redisson.client.RedisConnection.lambda$async$1(RedisConnection.java:251)\n    at io.netty.util.HashedWheelTimer$HashedWheelTimeout.expire(HashedWheelTimer.java:672)\n    at io.netty.util.HashedWheelTimer$HashedWheelBucket.expireTimeouts(HashedWheelTimer.java:747)\n    at io.netty.util.HashedWheelTimer$Worker.run(HashedWheelTimer.java:472)\n    ... 2 common frames omitted\n</code></pre>\n<p>I can that it tries to connect to the master redis using redis://182.26.3.21:6379 instead of rediss://182.26.3.21:6379 which I gather is needed for tls connection.</p>\n<p>I used ssl scan tool to verify that ssl 1.2 is enabled and here is the output.</p>\n<pre><code>D:\\Users\\03856u\\Documents\\sslScan&gt;sslscan 182.26.3.21:6379\nVersion: 2.0.10 Windows 64-bit (Mingw)\nOpenSSL 1.1.1e-dev  xx XXX xxxx\n\nConnected to 182.26.3.21\n\nTesting SSL server 182.26.3.21 on port 6379 using SNI name 182.26.3.21\n\n  SSL/TLS Protocols:\nSSLv2     disabled\nSSLv3     disabled\nTLSv1.0   disabled\nTLSv1.1   disabled\nTLSv1.2   enabled\nTLSv1.3   enabled\n\n  TLS Fallback SCSV:\nServer supports TLS Fallback SCSV\n\n  TLS renegotiation:\nSession renegotiation not supported\n\n  TLS Compression:\nCompression disabled\n\n  Heartbleed:\nTLSv1.3 not vulnerable to heartbleed\nTLSv1.2 not vulnerable to heartbleed\n\n  Supported Server Cipher(s):\nPreferred TLSv1.3  128 bits  TLS_AES_128_GCM_SHA256        Curve 25519 DHE 253\nAccepted  TLSv1.3  256 bits  TLS_AES_256_GCM_SHA384        Curve 25519 DHE 253\nAccepted  TLSv1.3  256 bits  TLS_CHACHA20_POLY1305_SHA256  Curve 25519 DHE 253\nAccepted  TLSv1.3  128 bits  TLS_AES_128_CCM_SHA256        Curve 25519 DHE 253\n\n  Server Key Exchange Group(s):\nTLSv1.3  128 bits  secp256r1 (NIST P-256)\nTLSv1.3  192 bits  secp384r1 (NIST P-384)\nTLSv1.3  260 bits  secp521r1 (NIST P-521)\nTLSv1.3  128 bits  x25519\nTLSv1.3  224 bits  x448\nTLSv1.2  128 bits  secp256r1 (NIST P-256)\nTLSv1.2  192 bits  secp384r1 (NIST P-384)\nTLSv1.2  260 bits  secp521r1 (NIST P-521)\nTLSv1.2  128 bits  x25519\nTLSv1.2  224 bits  x448\n\n  SSL Certificate:\nSignature Algorithm: sha256WithRSAEncryption\nRSA Key Strength:    2048\n\nSubject:  redis.corp.com\nAltnames: DNS:redis.corp.com, DNS:redis03.corp.com, DNS:redis01.corp.com, DNS:redis02.corp.com, IP Address:182.26.3.21, IP Address:182.26.3.54, IP Address:182.26.3.51\nIssuer:   UAT-CA\n\nNot valid before: Oct  4 05:19:14 2021 GMT\nNot valid after:  Oct  3 05:19:14 2026 GMT\n</code></pre>\n<p>I have opened an issue in github and I was told that there was no issue with the library in connecting to sentinel on SSL, so I am guessing its an issue in my configuration.\nI looked at the documentation on github and couldn't figure it out.\nany help is welcome.</p>\n<p>EDIT: so it seems that it was a bug with redisson, an issue was opened and a solution was proposed, and the creator created a fix and I tried it and it working.\nlink to the github issue: <a href=\"https://github.com/redisson/redisson/issues/3950\" rel=\"nofollow noreferrer\">https://github.com/redisson/redisson/issues/3950</a></p>\n"},{"tags":["java","null","coding-style","reusability"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1637230272,"post_id":70017843,"comment_id":123772544,"body_markdown":"You need to assign the return value of your method to something... assignments to parameters don&#39;t affect the calling code (mutating the parameter does, but this is not possible for Strings, as they are immutable).","body":"You need to assign the return value of your method to something... assignments to parameters don&#39;t affect the calling code (mutating the parameter does, but this is not possible for Strings, as they are immutable)."}],"answers":[{"tags":[],"owner":{"account_id":14911591,"reputation":154,"user_id":10766920,"display_name":"aref behboodi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637230263,"creation_date":1637230263,"answer_id":70017965,"question_id":70017843,"body_markdown":"Try this code, worked in my test project\r\n```\r\n\r\npublic class MstrMonth {\r\n\r\n    public MstrMonth() {}\r\n\r\n    public static String getCurrentMonth() {\r\n\r\n        String currentMonth = null;\r\n        Calendar instance = Calendar.getInstance();\r\n        int mMonth = instance.get(Calendar.MONTH) + 1;\r\n\r\n        if(mMonth == 1){\r\n            currentMonth = &quot;JAN&quot;;\r\n        }else if (mMonth == 2){\r\n            currentMonth = &quot;FEB&quot;;\r\n        }else if (mMonth == 3){\r\n            currentMonth = &quot;MAR&quot;;\r\n        }else if (mMonth == 4){\r\n            currentMonth = &quot;APR&quot;;\r\n        }else if (mMonth == 5){\r\n            currentMonth = &quot;MAY&quot;;\r\n        }else if (mMonth == 6){\r\n            currentMonth = &quot;JUN&quot;;\r\n        }else if (mMonth == 7){\r\n            currentMonth = &quot;JUL&quot;;\r\n        }else if (mMonth == 8){\r\n            currentMonth = &quot;AUG&quot;;\r\n        }else if (mMonth == 9){\r\n            currentMonth = &quot;SEP&quot;;\r\n        }else if (mMonth == 10){\r\n            currentMonth = &quot;OCT&quot;;\r\n        }else if (mMonth == 11){\r\n            currentMonth = &quot;NOV&quot;;\r\n        }else if (mMonth == 12){\r\n            currentMonth = &quot;DEC&quot;;\r\n        }\r\n        return currentMonth;\r\n    }\r\n}\r\n```\r\nin activity\r\n```\r\n\r\nString currentMonth = MstrMonth.getCurrentMonth(currentMonth);","title":"How to use reusable function - Android, Java","body":"<p>Try this code, worked in my test project</p>\n<pre><code>\npublic class MstrMonth {\n\n    public MstrMonth() {}\n\n    public static String getCurrentMonth() {\n\n        String currentMonth = null;\n        Calendar instance = Calendar.getInstance();\n        int mMonth = instance.get(Calendar.MONTH) + 1;\n\n        if(mMonth == 1){\n            currentMonth = &quot;JAN&quot;;\n        }else if (mMonth == 2){\n            currentMonth = &quot;FEB&quot;;\n        }else if (mMonth == 3){\n            currentMonth = &quot;MAR&quot;;\n        }else if (mMonth == 4){\n            currentMonth = &quot;APR&quot;;\n        }else if (mMonth == 5){\n            currentMonth = &quot;MAY&quot;;\n        }else if (mMonth == 6){\n            currentMonth = &quot;JUN&quot;;\n        }else if (mMonth == 7){\n            currentMonth = &quot;JUL&quot;;\n        }else if (mMonth == 8){\n            currentMonth = &quot;AUG&quot;;\n        }else if (mMonth == 9){\n            currentMonth = &quot;SEP&quot;;\n        }else if (mMonth == 10){\n            currentMonth = &quot;OCT&quot;;\n        }else if (mMonth == 11){\n            currentMonth = &quot;NOV&quot;;\n        }else if (mMonth == 12){\n            currentMonth = &quot;DEC&quot;;\n        }\n        return currentMonth;\n    }\n}\n</code></pre>\n<p>in activity</p>\n<pre><code>\nString currentMonth = MstrMonth.getCurrentMonth(currentMonth);\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user17233545"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637231365,"creation_date":1637230677,"answer_id":70018060,"question_id":70017843,"body_markdown":"Try this.\r\n\r\n    public static String getCurrentMonth() {\r\n        Calendar instance = Calendar.getInstance();\r\n        return instance.getDisplayName(\r\n            Calendar.MONTH, Calendar.SHORT, Locale.ENGLISH).toUpperCase();\r\n    }\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String currentMonth = getCurrentMonth();\r\n        System.out.println(currentMonth);\r\n    }\r\n\r\noutput:\r\n\r\n    NOV","title":"How to use reusable function - Android, Java","body":"<p>Try this.</p>\n<pre><code>public static String getCurrentMonth() {\n    Calendar instance = Calendar.getInstance();\n    return instance.getDisplayName(\n        Calendar.MONTH, Calendar.SHORT, Locale.ENGLISH).toUpperCase();\n}\n\npublic static void main(String[] args) throws Exception {\n    String currentMonth = getCurrentMonth();\n    System.out.println(currentMonth);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>NOV\n</code></pre>\n"}],"owner":{"account_id":21660618,"reputation":7,"user_id":15979781,"display_name":"The Ark D"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637230854,"accepted_answer_id":70018060,"answer_count":2,"score":0,"last_activity_date":1637231365,"creation_date":1637229655,"question_id":70017843,"body_markdown":"I implemented small if-else part to get First three letters of the month when Calendar instance = Calendar.getInstance(); retrieves integer value of the month. I wanna use it as a reusable function. I&#39;ve tried by creating another java file but it want works. Can anyone tell me how can I use it?\r\n\r\n```\r\npublic class MstrMonth {\r\n\r\n    public MstrMonth() {}\r\n\r\n    public static String getCurrentMonth(String currentMonth) {\r\n\r\n        Calendar instance = Calendar.getInstance();\r\n        int mMonth = instance.get(Calendar.MONTH) + 1;\r\n\r\n        if(mMonth == 1){\r\n            currentMonth = &quot;JAN&quot;;\r\n        }else if (mMonth == 2){\r\n            currentMonth = &quot;FEB&quot;;\r\n        }else if (mMonth == 3){\r\n            currentMonth = &quot;MAR&quot;;\r\n        }else if (mMonth == 4){\r\n            currentMonth = &quot;APR&quot;;\r\n        }else if (mMonth == 5){\r\n            currentMonth = &quot;MAY&quot;;\r\n        }else if (mMonth == 6){\r\n            currentMonth = &quot;JUN&quot;;\r\n        }else if (mMonth == 7){\r\n            currentMonth = &quot;JUL&quot;;\r\n        }else if (mMonth == 8){\r\n            currentMonth = &quot;AUG&quot;;\r\n        }else if (mMonth == 9){\r\n            currentMonth = &quot;SEP&quot;;\r\n        }else if (mMonth == 10){\r\n            currentMonth = &quot;OCT&quot;;\r\n        }else if (mMonth == 11){\r\n            currentMonth = &quot;NOV&quot;;\r\n        }else if (mMonth == 12){\r\n            currentMonth = &quot;DEC&quot;;\r\n        }\r\n        return currentMonth;\r\n    }\r\n}\r\n```\r\n\r\nIn Main activity;\r\n```\r\nString currentMonth;\r\nMstrMonth.getCurrentMonth(currentMonth);\r\n```\r\n\r\nI want get Month code in here but it gives null value. ","title":"How to use reusable function - Android, Java","body":"<p>I implemented small if-else part to get First three letters of the month when Calendar instance = Calendar.getInstance(); retrieves integer value of the month. I wanna use it as a reusable function. I've tried by creating another java file but it want works. Can anyone tell me how can I use it?</p>\n<pre><code>public class MstrMonth {\n\n    public MstrMonth() {}\n\n    public static String getCurrentMonth(String currentMonth) {\n\n        Calendar instance = Calendar.getInstance();\n        int mMonth = instance.get(Calendar.MONTH) + 1;\n\n        if(mMonth == 1){\n            currentMonth = &quot;JAN&quot;;\n        }else if (mMonth == 2){\n            currentMonth = &quot;FEB&quot;;\n        }else if (mMonth == 3){\n            currentMonth = &quot;MAR&quot;;\n        }else if (mMonth == 4){\n            currentMonth = &quot;APR&quot;;\n        }else if (mMonth == 5){\n            currentMonth = &quot;MAY&quot;;\n        }else if (mMonth == 6){\n            currentMonth = &quot;JUN&quot;;\n        }else if (mMonth == 7){\n            currentMonth = &quot;JUL&quot;;\n        }else if (mMonth == 8){\n            currentMonth = &quot;AUG&quot;;\n        }else if (mMonth == 9){\n            currentMonth = &quot;SEP&quot;;\n        }else if (mMonth == 10){\n            currentMonth = &quot;OCT&quot;;\n        }else if (mMonth == 11){\n            currentMonth = &quot;NOV&quot;;\n        }else if (mMonth == 12){\n            currentMonth = &quot;DEC&quot;;\n        }\n        return currentMonth;\n    }\n}\n</code></pre>\n<p>In Main activity;</p>\n<pre><code>String currentMonth;\nMstrMonth.getCurrentMonth(currentMonth);\n</code></pre>\n<p>I want get Month code in here but it gives null value.</p>\n"},{"tags":["java","aws-lambda","classloader","dynamic-class-loaders"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1637231343,"post_id":70018161,"comment_id":123772977,"body_markdown":"I&#39;m pretty sure each Lambda execution should be a separate process and thus have its own separate classloader. But I&#39;d rethink the approach to download the jar on each run (or to even download it at all) because that seems to be expensive as it might drastically increase the Lamba&#39;s run time (of course this would also depend on how often the lambda would get called).","body":"I&#39;m pretty sure each Lambda execution should be a separate process and thus have its own separate classloader. But I&#39;d rethink the approach to download the jar on each run (or to even download it at all) because that seems to be expensive as it might drastically increase the Lamba&#39;s run time (of course this would also depend on how often the lambda would get called)."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1637231367,"post_id":70018161,"comment_id":123772986,"body_markdown":"No, different executions do not hit the same execution environment. There cannot be two executions using the same class loader because they ran in different processes, on different virtual machines.","body":"No, different executions do not hit the same execution environment. There cannot be two executions using the same class loader because they ran in different processes, on different virtual machines."},{"owner":{"account_id":61155,"reputation":2465,"user_id":182411,"accept_rate":68,"display_name":"Lin"},"score":0,"creation_date":1637231744,"post_id":70018161,"comment_id":123773142,"body_markdown":"@luk2302 according to aws documentation (for nodejs) they might use the same container https://aws.amazon.com/de/blogs/compute/container-reuse-in-lambda/ so I was wondering if that might be the case for java as well, as I do not want my dynamically loaded jars to collide.","body":"@luk2302 according to aws documentation (for nodejs) they might use the same container <a href=\"https://aws.amazon.com/de/blogs/compute/container-reuse-in-lambda/\" rel=\"nofollow noreferrer\">aws.amazon.com/de/blogs/compute/container-reuse-in-lambda</a> so I was wondering if that might be the case for java as well, as I do not want my dynamically loaded jars to collide."},{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":2,"creation_date":1637231814,"post_id":70018161,"comment_id":123773176,"body_markdown":"But only one after the other, not in parallel. If you do stuff now that breaks an execution in 20 minutes because you mess up the class loader of your container / jvm that is unrelated to AWS lambda.","body":"But only one after the other, not in parallel. If you do stuff now that breaks an execution in 20 minutes because you mess up the class loader of your container / jvm that is unrelated to AWS lambda."}],"owner":{"account_id":61155,"reputation":2465,"user_id":182411,"accept_rate":68,"display_name":"Lin"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":265,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637231138,"creation_date":1637231138,"question_id":70018161,"body_markdown":"I have a java lambda running in aws. I have a simple code that loads a jar that I download each run from the net:\r\n\r\n                URLClassLoader urlClassLoader = new URLClassLoader(\r\n                        new URL[]{myJar.toURI().toURL()}, this.getClass().getClassLoader());\r\n                Class&lt;?&gt; classToLoad = Class.forName(className, true, urlClassLoader);\r\n                Method method = classToLoad.getDeclaredMethod(&quot;myMethod&quot;, String.class);\r\n                method.invoke(null,&quot;some data&quot;);\r\n\r\nIs it possible that if I have several executions of my aws lambda at the same time (and of course each execution downloads the jar from the network - and the jar might be modified all the time before I download it) to have collision between class versions? Is it possible for different executions to use the same class loaders?\r\n\r\n(I tried to test it first and had no class loader issues)\r\n\r\nthanks for the help\r\n","title":"AWS Java Lambda - dynamically loading jar from lambda - is it possible for jar/class collision?","body":"<p>I have a java lambda running in aws. I have a simple code that loads a jar that I download each run from the net:</p>\n<pre><code>            URLClassLoader urlClassLoader = new URLClassLoader(\n                    new URL[]{myJar.toURI().toURL()}, this.getClass().getClassLoader());\n            Class&lt;?&gt; classToLoad = Class.forName(className, true, urlClassLoader);\n            Method method = classToLoad.getDeclaredMethod(&quot;myMethod&quot;, String.class);\n            method.invoke(null,&quot;some data&quot;);\n</code></pre>\n<p>Is it possible that if I have several executions of my aws lambda at the same time (and of course each execution downloads the jar from the network - and the jar might be modified all the time before I download it) to have collision between class versions? Is it possible for different executions to use the same class loaders?</p>\n<p>(I tried to test it first and had no class loader issues)</p>\n<p>thanks for the help</p>\n"},{"tags":["java","kotlin","httprequest"],"comments":[{"owner":{"account_id":210082,"reputation":19409,"user_id":461499,"accept_rate":73,"display_name":"Rob Audenaerde"},"score":0,"creation_date":1637230953,"post_id":70018049,"comment_id":123772835,"body_markdown":"Throttle your requests? Or use bulk-requests if the service supports that. Hard to tell from the question.","body":"Throttle your requests? Or use bulk-requests if the service supports that. Hard to tell from the question."},{"owner":{"account_id":1675086,"reputation":33855,"user_id":1540818,"accept_rate":82,"display_name":"Joffrey"},"score":0,"creation_date":1637231332,"post_id":70018049,"comment_id":123772970,"body_markdown":"As a side note, there is much simpler to read the stream: `val bodyText = URL(url).openStream().bufferedReader().use { it.readText() }` (it doesn&#39;t remove the new line characters, but for JSON parsing this should be fine)","body":"As a side note, there is much simpler to read the stream: <code>val bodyText = URL(url).openStream().bufferedReader().use { it.readText() }</code> (it doesn&#39;t remove the new line characters, but for JSON parsing this should be fine)"}],"owner":{"account_id":23157298,"reputation":23,"user_id":17258386,"display_name":"Ta3ik"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637231063,"creation_date":1637230643,"question_id":70018049,"body_markdown":"In my program, I am sending requests for data (JSON) to the site multiple times. Due to the fact that the requests are asynchronous, I am facing error 429 (Many requests).\r\n\r\nAn example of my request code:\r\n```\r\nprivate fun getJsonElementByUrl(\r\n        url: String\r\n    ): JsonElement {\r\n        val `in` = BufferedReader(InputStreamReader(URL(url).openStream()))\r\n        var inputLine: String?\r\n        val sb = StringBuilder()\r\n        while (`in`.readLine()\r\n                .also { inputLine = it } != null\r\n        ) {\r\n            sb.append(inputLine)\r\n        }\r\n        `in`.close()\r\n        return JsonParser().parse(sb.toString())\r\n    }\r\n\r\n```\r\nMethod ```getJsonElementByUrl``` is executed asynchronously\r\n\r\nIs there a mechanism so that I can avoid the 429 error?","title":"Error 429 when requesting data from a site","body":"<p>In my program, I am sending requests for data (JSON) to the site multiple times. Due to the fact that the requests are asynchronous, I am facing error 429 (Many requests).</p>\n<p>An example of my request code:</p>\n<pre><code>private fun getJsonElementByUrl(\n        url: String\n    ): JsonElement {\n        val `in` = BufferedReader(InputStreamReader(URL(url).openStream()))\n        var inputLine: String?\n        val sb = StringBuilder()\n        while (`in`.readLine()\n                .also { inputLine = it } != null\n        ) {\n            sb.append(inputLine)\n        }\n        `in`.close()\n        return JsonParser().parse(sb.toString())\n    }\n\n</code></pre>\n<p>Method <code>getJsonElementByUrl</code> is executed asynchronously</p>\n<p>Is there a mechanism so that I can avoid the 429 error?</p>\n"},{"tags":["java","postgresql","spring-mvc","build","jar"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1637226250,"post_id":70016984,"comment_id":123770860,"body_markdown":"&quot;no longer working&quot; do you have any error? If so, add it to the question by [editing](https://stackoverflow.com/posts/70016984/edit) it.","body":"&quot;no longer working&quot; do you have any error? If so, add it to the question by <a href=\"https://stackoverflow.com/posts/70016984/edit\">editing</a> it."},{"owner":{"account_id":462886,"reputation":2853,"user_id":865448,"accept_rate":82,"display_name":"tostao"},"score":0,"creation_date":1637226498,"post_id":70016984,"comment_id":123770949,"body_markdown":"Your question is too general. Where did you find any problems? What have you done?","body":"Your question is too general. Where did you find any problems? What have you done?"},{"owner":{"account_id":8633322,"reputation":218393,"user_id":6464308,"display_name":"Laurenz Albe"},"score":1,"creation_date":1637226755,"post_id":70016984,"comment_id":123771055,"body_markdown":"You cannot embed PostgreSQL in a JAR file.","body":"You cannot embed PostgreSQL in a JAR file."}],"answers":[{"tags":[],"owner":{"account_id":16147551,"reputation":169,"user_id":11656785,"display_name":"Uday"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637226734,"creation_date":1637226734,"answer_id":70017176,"question_id":70016984,"body_markdown":"Spring boot with PostgreSQL in Docker compose.  Spring boot application into a docker image, package the application as a jar file, create docker compose file( this contains postgres image).","title":"How to create a java application executable (.exe) using Spring-MVC, Spring-Data and postgresql","body":"<p>Spring boot with PostgreSQL in Docker compose.  Spring boot application into a docker image, package the application as a jar file, create docker compose file( this contains postgres image).</p>\n"}],"owner":{"account_id":20122221,"reputation":1,"user_id":17438703,"display_name":"3Tipo Qudrado"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":235,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637231060,"creation_date":1637225710,"question_id":70016984,"body_markdown":"I created a .jar of a java application using Spring-MVC.\r\n\r\nWhen I connected to the Postgresql database the .jar file is no longer working.\r\n\r\nHow to create the .jar with the embedded Postgresql? Please help me.","title":"How to create a java application executable (.exe) using Spring-MVC, Spring-Data and postgresql","body":"<p>I created a .jar of a java application using Spring-MVC.</p>\n<p>When I connected to the Postgresql database the .jar file is no longer working.</p>\n<p>How to create the .jar with the embedded Postgresql? Please help me.</p>\n"},{"tags":["java","spring","openjdk-17"],"comments":[{"owner":{"account_id":3084600,"reputation":5860,"user_id":2612030,"display_name":"ewramner"},"score":0,"creation_date":1637229942,"post_id":70017873,"comment_id":123772389,"body_markdown":"How about putting all your code on the class path (no modules used)? AFAIK the new Java versions are fairly backwards compatible when used that way.","body":"How about putting all your code on the class path (no modules used)? AFAIK the new Java versions are fairly backwards compatible when used that way."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637230744,"post_id":70017873,"comment_id":123772748,"body_markdown":"Spring 4.x is compatible with Java8 not with higher versions, you will need at least Spring 5.3 to be able to safely run JDK17.","body":"Spring 4.x is compatible with Java8 not with higher versions, you will need at least Spring 5.3 to be able to safely run JDK17."},{"owner":{"account_id":23358761,"reputation":3,"user_id":17431332,"display_name":"osefmaster"},"score":0,"creation_date":1637230843,"post_id":70017873,"comment_id":123772788,"body_markdown":"How would you proceed to add all the code on the class path ?","body":"How would you proceed to add all the code on the class path ?"}],"answers":[{"tags":[],"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637230938,"creation_date":1637230938,"answer_id":70018116,"question_id":70017873,"body_markdown":"Spring 4.3 is compatible with Java 6 to 8, higher versions aren&#39;t tested and thus not supported. \r\n\r\nFor list of Spring versions with the JDK compatibility see the [Spring/JDK Compatibility Matrix][1].\r\n\r\nTo run with JDK17 you would need to upgrade to Spring 5.3.\r\n\r\n[1]: https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions#jdk-version-range","title":"Error running a Java 8 batch with a jdk17","body":"<p>Spring 4.3 is compatible with Java 6 to 8, higher versions aren't tested and thus not supported.</p>\n<p>For list of Spring versions with the JDK compatibility see the <a href=\"https://github.com/spring-projects/spring-framework/wiki/Spring-Framework-Versions#jdk-version-range\" rel=\"nofollow noreferrer\">Spring/JDK Compatibility Matrix</a>.</p>\n<p>To run with JDK17 you would need to upgrade to Spring 5.3.</p>\n"}],"owner":{"account_id":23358761,"reputation":3,"user_id":17431332,"display_name":"osefmaster"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":819,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70018116,"answer_count":1,"score":0,"last_activity_date":1637230938,"creation_date":1637229832,"question_id":70017873,"body_markdown":"I&#39;m trying to run a java 8 batch with a jdk17, the project is built with a jre1.8.0_192 and I put the following options in the VM:\r\n\r\n&gt; --add-modules=ALL-SYSTEM --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED -Djava.locale.providers=JRE,SPI\r\n\r\nI get the following error at runtime:\r\n \r\n\r\n&gt; java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot;\r\n&gt; because &quot;obj&quot; is null \tat\r\n&gt; java.lang.reflect.Method.invoke(Method.java:561) ~[?:?] \tat\r\n&gt; org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\r\n&gt; ~[spring-aop-4.3.25.RELEASE.jar:4.3.25.RELEASE] \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\r\n&gt; ~[spring-aop-4.3.25.RELEASE.jar:4.3.25.RELEASE] \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\r\n&gt; ~[spring-aop-4.3.25.RELEASE.jar:4.3.25.RELEASE] \tat\r\n&gt; org.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127)\r\n&gt; ~[spring-batch-core-3.0.10.RELEASE.jar:3.0.10.RELEASE] \tat\r\n&gt; org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\r\n&gt; ~[spring-aop-4.3.25.RELEASE.jar:4.3.25.RELEASE] \tat\r\n&gt; org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\r\n&gt; ~[spring-aop-4.3.25.RELEASE.jar:4.3.25.RELEASE]\r\n\r\nAny ideas ? Thanks","title":"Error running a Java 8 batch with a jdk17","body":"<p>I'm trying to run a java 8 batch with a jdk17, the project is built with a jre1.8.0_192 and I put the following options in the VM:</p>\n<blockquote>\n<p>--add-modules=ALL-SYSTEM --add-opens=java.base/java.lang=ALL-UNNAMED --add-opens=java.base/java.math=ALL-UNNAMED --add-opens=java.base/java.net=ALL-UNNAMED --add-opens=java.base/java.util=ALL-UNNAMED --add-opens=jdk.attach/sun.tools.attach=ALL-UNNAMED -Djava.locale.providers=JRE,SPI</p>\n</blockquote>\n<p>I get the following error at runtime:</p>\n<blockquote>\n<p>java.lang.NullPointerException: Cannot invoke &quot;Object.getClass()&quot;\nbecause &quot;obj&quot; is null     at\njava.lang.reflect.Method.invoke(Method.java:561) ~[?:?]   at\norg.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:333)\n~[spring-aop-4.3.25.RELEASE.jar:4.3.25.RELEASE]   at\norg.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)\n~[spring-aop-4.3.25.RELEASE.jar:4.3.25.RELEASE]   at\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)\n~[spring-aop-4.3.25.RELEASE.jar:4.3.25.RELEASE]   at\norg.springframework.batch.core.configuration.annotation.SimpleBatchConfiguration$PassthruAdvice.invoke(SimpleBatchConfiguration.java:127)\n~[spring-batch-core-3.0.10.RELEASE.jar:3.0.10.RELEASE]    at\norg.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)\n~[spring-aop-4.3.25.RELEASE.jar:4.3.25.RELEASE]   at\norg.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:213)\n~[spring-aop-4.3.25.RELEASE.jar:4.3.25.RELEASE]</p>\n</blockquote>\n<p>Any ideas ? Thanks</p>\n"},{"tags":["java","android","android-fragments","navigation","android-safe-args"],"answers":[{"tags":[],"owner":{"account_id":16740979,"reputation":2260,"user_id":12100652,"display_name":"Karunesh Palekar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637230896,"creation_date":1637230896,"answer_id":70018101,"question_id":70016495,"body_markdown":"Assuming you are Navigation Component , you need to make all the arguments that D Fragment demands to be nullable . In this way , you can forward only the particular arg from a particular fragment of your need to the D Fragment. \r\nFor doing the same , you need to make changes to the xml file regarding the navigation component , which in general is called nav_graph.xml .\r\n```\r\n&lt;argument\r\n            android:name=&quot;fromAtoD&quot;\r\n            app:argType=&quot;string&quot;\r\n            app:nullable=&quot;true&quot;/&gt;\r\n\r\n```\r\nThe above changes need to be made to achieve your needs . You need to make null checks to avoid the code from crashing \r\n\r\n----------------------------------\r\n\r\n\r\nAnother approach to this , will be using Intent and passing bundles within Intent, which is not recommended neither is safe . \r\n\r\n","title":"How pass different args to fragment [navigation] Android","body":"<p>Assuming you are Navigation Component , you need to make all the arguments that D Fragment demands to be nullable . In this way , you can forward only the particular arg from a particular fragment of your need to the D Fragment.\nFor doing the same , you need to make changes to the xml file regarding the navigation component , which in general is called nav_graph.xml .</p>\n<pre><code>&lt;argument\n            android:name=&quot;fromAtoD&quot;\n            app:argType=&quot;string&quot;\n            app:nullable=&quot;true&quot;/&gt;\n\n</code></pre>\n<p>The above changes need to be made to achieve your needs . You need to make null checks to avoid the code from crashing</p>\n<hr />\n<p>Another approach to this , will be using Intent and passing bundles within Intent, which is not recommended neither is safe .</p>\n"}],"owner":{"account_id":21284792,"reputation":310,"user_id":15662614,"display_name":"misterios"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637230896,"creation_date":1637223266,"question_id":70016495,"body_markdown":"I have 4 fragment , A,B,C,D \r\nFROM A,B,C I can navigate to D fragment, I want to pass different args from each fragment like, \r\n\r\n    A.Direction.actionNavigation.D(int,String)\r\n    B.Direction.actionNavigation.D(float,Bool)\r\n    C.Direction.actionNavigation.D(double,String) and etc..\r\n\r\nI can set all six args in D fragment argument but in this case I should pass all six variable on each direction. so is there other way to pass directly the args which i want on specific direction and then retrieve it in D fragment\r\n","title":"How pass different args to fragment [navigation] Android","body":"<p>I have 4 fragment , A,B,C,D\nFROM A,B,C I can navigate to D fragment, I want to pass different args from each fragment like,</p>\n<pre><code>A.Direction.actionNavigation.D(int,String)\nB.Direction.actionNavigation.D(float,Bool)\nC.Direction.actionNavigation.D(double,String) and etc..\n</code></pre>\n<p>I can set all six args in D fragment argument but in this case I should pass all six variable on each direction. so is there other way to pass directly the args which i want on specific direction and then retrieve it in D fragment</p>\n"},{"tags":["java","selenium","junit","appium","webdriverwait"],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637230803,"creation_date":1637230803,"answer_id":70018082,"question_id":70017970,"body_markdown":"Its working as expected only. `visibilityOf` condition is looking for the element for the given time and throwing `NoSuchElementException` if not found. You need to `catch` the exception and perform the steps what you need. You need to use `try-catch` like below,\r\n\r\n\ttry {\r\n\t\twait.until(ExpectedConditions.visibilityOf(NID_Card_Error));\r\n\t} catch (org.openqa.selenium.NoSuchElementException e) {\r\n\t\tSystem.out.println(&quot;time expired&quot;);\r\n\t\tassertTrue(&quot;element messing &quot;, false);\r\n\t}","title":"Can&#39;t user Wait function with find by mobile element","body":"<p>Its working as expected only. <code>visibilityOf</code> condition is looking for the element for the given time and throwing <code>NoSuchElementException</code> if not found. You need to <code>catch</code> the exception and perform the steps what you need. You need to use <code>try-catch</code> like below,</p>\n<pre><code>try {\n    wait.until(ExpectedConditions.visibilityOf(NID_Card_Error));\n} catch (org.openqa.selenium.NoSuchElementException e) {\n    System.out.println(&quot;time expired&quot;);\n    assertTrue(&quot;element messing &quot;, false);\n}\n</code></pre>\n"}],"owner":{"account_id":23376334,"reputation":1,"user_id":17445755,"display_name":"hussam"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637230803,"creation_date":1637230293,"question_id":70017970,"body_markdown":"I am locating elements by Findby and then using a wait function to throw an error if the element doesn&#39;t exist but appium gets stuck searching for the elements and keeps giving nosuchelementerror infinitely \r\nhere is my code:\r\n\r\n    @FindBy(id = &quot;tv_error_card&quot;)\r\n\tMobileElement NID_Card_Error;\r\n    WebDriverWait wait = new WebDriverWait(driver, 5000);\r\n\r\n    if(wait.until(ExpectedConditions.visibilityOf(NID_Card_Error)) == null) {\r\n\t\t\t\tSystem.out.println(&quot;time expired&quot;);\r\n\t\t\t\tassertTrue(&quot;element messing &quot;, false);\r\n\t\t\t}\r\nI know I can use wait with a by locator but I am trying to do it with mobile element ","title":"Can&#39;t user Wait function with find by mobile element","body":"<p>I am locating elements by Findby and then using a wait function to throw an error if the element doesn't exist but appium gets stuck searching for the elements and keeps giving nosuchelementerror infinitely\nhere is my code:</p>\n<pre><code>@FindBy(id = &quot;tv_error_card&quot;)\nMobileElement NID_Card_Error;\nWebDriverWait wait = new WebDriverWait(driver, 5000);\n\nif(wait.until(ExpectedConditions.visibilityOf(NID_Card_Error)) == null) {\n            System.out.println(&quot;time expired&quot;);\n            assertTrue(&quot;element messing &quot;, false);\n        }\n</code></pre>\n<p>I know I can use wait with a by locator but I am trying to do it with mobile element</p>\n"},{"tags":["java","eclipse","email"],"answers":[{"tags":[],"owner":{"account_id":12528785,"reputation":2628,"user_id":9208197,"display_name":"L&#233;o R."},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1518452430,"creation_date":1518452430,"answer_id":48750939,"question_id":48750800,"body_markdown":"JDK 9 disables access to many of the javax.* APIs by default, javax activation is now deprecated.\r\n\r\nHowever you can resolve it with adding the module at run time\r\n\r\n    &quot;--add-modules java.activation&quot;.","title":"Eclipse: java.lang.NoClassDefFoundError: javax/activation/DataHandler","body":"<p>JDK 9 disables access to many of the javax.* APIs by default, javax activation is now deprecated.</p>\n\n<p>However you can resolve it with adding the module at run time</p>\n\n<pre><code>\"--add-modules java.activation\".\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16537863,"reputation":21,"user_id":11949328,"display_name":"Grzesiek Kapuscinski"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587233781,"creation_date":1587233781,"answer_id":61294018,"question_id":48750800,"body_markdown":"download and add external jakarta.activation-1.2.1.jar\r\nIts the Jakarta Activation project.","title":"Eclipse: java.lang.NoClassDefFoundError: javax/activation/DataHandler","body":"<p>download and add external jakarta.activation-1.2.1.jar\nIts the Jakarta Activation project.</p>\n"},{"tags":[],"owner":{"account_id":23378018,"reputation":1,"user_id":17446451,"display_name":"Imad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637230752,"creation_date":1637230752,"answer_id":70018076,"question_id":48750800,"body_markdown":"I got the same error trying do deploy my jar application in a remote server.\r\nIn my case i had to download and add to my project the javax.activation library.\r\n\r\nMake sure that you got the correct reference of javac.mail and javax.activation library inside your project.properties file before generate the .JAR\r\n\r\n[Project.properties][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/pbcjw.png","title":"Eclipse: java.lang.NoClassDefFoundError: javax/activation/DataHandler","body":"<p>I got the same error trying do deploy my jar application in a remote server.\nIn my case i had to download and add to my project the javax.activation library.</p>\n<p>Make sure that you got the correct reference of javac.mail and javax.activation library inside your project.properties file before generate the .JAR</p>\n<p><a href=\"https://i.stack.imgur.com/pbcjw.png\" rel=\"nofollow noreferrer\">Project.properties</a></p>\n"}],"owner":{"account_id":2448091,"reputation":351,"user_id":2134953,"accept_rate":57,"display_name":"gabboSonc"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24690,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":48750939,"answer_count":3,"score":11,"last_activity_date":1637230752,"creation_date":1518452013,"question_id":48750800,"body_markdown":"I&#39;m trying to send an email in java.\r\nHere&#39;s the code:\r\n\r\n    String mailSmtpHost = &quot;smtp.example.com&quot;;\r\n    String mailTo = &quot;email@example.com&quot;;\r\n    \t\tString mailFrom = &quot;email@example.com&quot;;\r\n    \t\tString mailSubject = &quot;Email subject&quot;;\r\n    \t\tString mailText = &quot;Some text&quot;;\r\n    \t\tProperties properties = new Properties();\r\n    \t\tproperties.put(&quot;mail.smtp.host&quot;, mailSmtpHost);\r\n    \t\tSession emailSession = Session.getDefaultInstance(properties);\r\n    try {\r\n    \t\t\tMessage emailMessage = new MimeMessage(emailSession);\r\n    \t\t\temailMessage.addRecipient(Message.RecipientType.TO, new InternetAddress(mailTo));\r\n    \t\t\temailMessage.setFrom(new InternetAddress(mailFrom));\r\n    \t\t\temailMessage.setSubject(mailSubject);\r\n    \t\t\temailMessage.setText(mailText);\r\n    \t\t\temailSession.setDebug(true);\r\n    \t\t\tTransport.send(emailMessage);\r\n    \t\t}catch(Exception e) {\r\n    \t\t\tSystem.out.println(&quot;Errore email: &quot;+e.toString());\r\n    \t\t}\r\n\r\nWhen I compile the project, on line:\r\n\r\n    Message emailMessage = new MimeMessage(emailSession);\r\n\r\n...the following error comes out:\r\n\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: javax/activation/DataHandler\r\n\r\nNote: I&#39;m using `java -version: 9.0.4`","title":"Eclipse: java.lang.NoClassDefFoundError: javax/activation/DataHandler","body":"<p>I'm trying to send an email in java.\nHere's the code:</p>\n\n<pre><code>String mailSmtpHost = \"smtp.example.com\";\nString mailTo = \"email@example.com\";\n        String mailFrom = \"email@example.com\";\n        String mailSubject = \"Email subject\";\n        String mailText = \"Some text\";\n        Properties properties = new Properties();\n        properties.put(\"mail.smtp.host\", mailSmtpHost);\n        Session emailSession = Session.getDefaultInstance(properties);\ntry {\n            Message emailMessage = new MimeMessage(emailSession);\n            emailMessage.addRecipient(Message.RecipientType.TO, new InternetAddress(mailTo));\n            emailMessage.setFrom(new InternetAddress(mailFrom));\n            emailMessage.setSubject(mailSubject);\n            emailMessage.setText(mailText);\n            emailSession.setDebug(true);\n            Transport.send(emailMessage);\n        }catch(Exception e) {\n            System.out.println(\"Errore email: \"+e.toString());\n        }\n</code></pre>\n\n<p>When I compile the project, on line:</p>\n\n<pre><code>Message emailMessage = new MimeMessage(emailSession);\n</code></pre>\n\n<p>...the following error comes out:</p>\n\n<pre><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: javax/activation/DataHandler\n</code></pre>\n\n<p>Note: I'm using <code>java -version: 9.0.4</code></p>\n"},{"tags":["java","xml","xslt","sax"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1637167354,"post_id":70008189,"comment_id":123755216,"body_markdown":"Why did you add the &quot;saxon&quot; tag?","body":"Why did you add the &quot;saxon&quot; tag?"},{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1637167478,"post_id":70008189,"comment_id":123755285,"body_markdown":"Try running with the system property `-Djaxp.debug=1` to provide diagnostics on JAXP dynamic loading.","body":"Try running with the system property <code>-Djaxp.debug=1</code> to provide diagnostics on JAXP dynamic loading."},{"owner":{"account_id":23368718,"reputation":1,"user_id":17439936,"display_name":"Jianhua Ye"},"score":0,"creation_date":1637171243,"post_id":70008189,"comment_id":123756921,"body_markdown":"Michael, I inherited the old script and no idea why need &quot;saxon&quot; tag.  It seems that tag is useless.  Anyway,  Added the debug tag I got following message\nJAXP: find factoryId =javax.xml.transform.TransformerFactory\nJAXP: find factoryId =javax.xml.parsers.SAXParserFactory\n(Location of error unknown)org.xml.sax.SAXException: javax.xml.parsers.FactoryConfigurationError: Provider for class javax.xml.parsers.SAXParserFactory cannot be created\nJAXP: find factoryId =javax.xml.parsers.SAXParserFactory\n\n(Location of error unknown)XSLT Error ...","body":"Michael, I inherited the old script and no idea why need &quot;saxon&quot; tag.  It seems that tag is useless.  Anyway,  Added the debug tag I got following message JAXP: find factoryId =javax.xml.transform.TransformerFactory JAXP: find factoryId =javax.xml.parsers.SAXParserFactory (Location of error unknown)org.xml.sax.SAXException: javax.xml.parsers.FactoryConfigurationError: Provider for class javax.xml.parsers.SAXParserFactory cannot be created JAXP: find factoryId =javax.xml.parsers.SAXParserFactory  (Location of error unknown)XSLT Error ..."},{"owner":{"account_id":23368718,"reputation":1,"user_id":17439936,"display_name":"Jianhua Ye"},"score":0,"creation_date":1637171460,"post_id":70008189,"comment_id":123756998,"body_markdown":"Michael, thanks for your help.","body":"Michael, thanks for your help."},{"owner":{"account_id":23368718,"reputation":1,"user_id":17439936,"display_name":"Jianhua Ye"},"score":0,"creation_date":1637189764,"post_id":70008189,"comment_id":123763270,"body_markdown":"Change &quot; -Xbootclasspath/a:&quot; with &quot;-classpath &quot; seems getting program running but got this error message: SystemId Unknown; Line #-1; Column #-1; Premature end of file.","body":"Change &quot; -Xbootclasspath/a:&quot; with &quot;-classpath &quot; seems getting program running but got this error message: SystemId Unknown; Line #-1; Column #-1; Premature end of file."},{"owner":{"account_id":23368718,"reputation":1,"user_id":17439936,"display_name":"Jianhua Ye"},"score":0,"creation_date":1637191371,"post_id":70008189,"comment_id":123763613,"body_markdown":"Problem solved.  Create a valid dummy.xml file and program runs.","body":"Problem solved.  Create a valid dummy.xml file and program runs."}],"answers":[{"tags":[],"owner":{"account_id":23368718,"reputation":1,"user_id":17439936,"display_name":"Jianhua Ye"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637195455,"creation_date":1637191692,"answer_id":70012820,"question_id":70008189,"body_markdown":"Solution: Replace `-Xbootclasspath/a:` with `-classpath` and use a valid `dummy.xml` file.","title":"org.xml.sax.SAXException: javax.xml.parsers.FactoryConfigurationError: Provider for class javax.xml.parsers.SAXParserFactory cannot be created","body":"<p>Solution: Replace <code>-Xbootclasspath/a:</code> with <code>-classpath</code> and use a valid <code>dummy.xml</code> file.</p>\n"}],"owner":{"account_id":23368718,"reputation":1,"user_id":17439936,"display_name":"Jianhua Ye"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1014,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637230720,"creation_date":1637166733,"question_id":70008189,"body_markdown":"I picked up an old script that previous run on linux server a while ago using xalan jar 2.6.0. Now I have download xalan 2.7.2 on aws server.  Following is the command:\r\n\r\njava -Xmx3036m -Xbootclasspath/a:/home/ec2-user/Search_Aids/xalan-jar/xalan-j_2_7_2/xalan.jar:/home/ec2-user/Search_Aids/xalan-jar/xalan-j_2_7_2/xalan.jar/xalan-j_2_7_2/xercesImpl.jar:/home/ec2-user/Search_Aids/xalan-jar/xalan-j_2_7_2/xml-apis.jar org.apache.xalan.xslt.Process -in dummy.xml -xsl /home/ec2-user/Search_Aids/entry.xsl -out entry.xml -FLAVOR s2s=SAX -param dinput d2021.xml -param qinput q2021.xml  -param prev_index_mapping previdxrefs.xml\r\n\r\nAnd I got following error message:\r\n(Location of error unknown)org.xml.sax.SAXException: javax.xml.parsers.FactoryConfigurationError: Provider for class javax.xml.parsers.SAXParserFactory cannot be created\r\n\r\n(Location of error unknown)XSLT Error (javax.xml.transform.TransformerConfigurationException): getAssociatedStylesheets failed\r\nException in thread &quot;main&quot; java.lang.RuntimeException: getAssociatedStylesheets failed\r\n        at org.apache.xalan.xslt.Process.doExit(Process.java:1155)\r\n        at org.apache.xalan.xslt.Process.main(Process.java:1128)\r\n\r\nI am not a java developer and not familiar with xalan.  But the error sounds like xalan can not recognize global java class SAXParser.  I have no idea what this option &quot;-FLAVOR s2s=SAX&quot; does.  Remove that option will send the same error message.  \r\n\r\nAny help and suggestions would be appreciated.\r\n\r\nJianhua","title":"org.xml.sax.SAXException: javax.xml.parsers.FactoryConfigurationError: Provider for class javax.xml.parsers.SAXParserFactory cannot be created","body":"<p>I picked up an old script that previous run on linux server a while ago using xalan jar 2.6.0. Now I have download xalan 2.7.2 on aws server.  Following is the command:</p>\n<p>java -Xmx3036m -Xbootclasspath/a:/home/ec2-user/Search_Aids/xalan-jar/xalan-j_2_7_2/xalan.jar:/home/ec2-user/Search_Aids/xalan-jar/xalan-j_2_7_2/xalan.jar/xalan-j_2_7_2/xercesImpl.jar:/home/ec2-user/Search_Aids/xalan-jar/xalan-j_2_7_2/xml-apis.jar org.apache.xalan.xslt.Process -in dummy.xml -xsl /home/ec2-user/Search_Aids/entry.xsl -out entry.xml -FLAVOR s2s=SAX -param dinput d2021.xml -param qinput q2021.xml  -param prev_index_mapping previdxrefs.xml</p>\n<p>And I got following error message:\n(Location of error unknown)org.xml.sax.SAXException: javax.xml.parsers.FactoryConfigurationError: Provider for class javax.xml.parsers.SAXParserFactory cannot be created</p>\n<p>(Location of error unknown)XSLT Error (javax.xml.transform.TransformerConfigurationException): getAssociatedStylesheets failed\nException in thread &quot;main&quot; java.lang.RuntimeException: getAssociatedStylesheets failed\nat org.apache.xalan.xslt.Process.doExit(Process.java:1155)\nat org.apache.xalan.xslt.Process.main(Process.java:1128)</p>\n<p>I am not a java developer and not familiar with xalan.  But the error sounds like xalan can not recognize global java class SAXParser.  I have no idea what this option &quot;-FLAVOR s2s=SAX&quot; does.  Remove that option will send the same error message.</p>\n<p>Any help and suggestions would be appreciated.</p>\n<p>Jianhua</p>\n"},{"tags":["java","angular","sap-commerce-cloud","spartacus-storefront"],"answers":[{"tags":[],"owner":{"account_id":16250622,"reputation":1203,"user_id":11734692,"display_name":"Krzysztof Platis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637230627,"creation_date":1637230627,"answer_id":70018043,"question_id":70016506,"body_markdown":"Currently the http error handling logic is centralized in the [HttpErrorHandler](https://sap.github.io/spartacus-docs/http-error-handling/)s classes. \r\n\r\nThe http validation errors are handled in a generic way - the error type and message from backend is converted to frontend [translation key](https://sap.github.io/spartacus-docs/i18n/), then translated for the current langauge and displayed in the global message component in the frontend UI.\r\n\r\n\r\nIf you want to handle differently some specific error from some specific endpoint (e.g. to show a custom message / use custom translation key), you might want to extend the method `BadRequestHandler.handleValidationError()` or `.handleError()`.\r\n\r\nSee source code: https://github.com/SAP/spartacus/blob/1b22bf5376c1fc5a88877aaaf4682f1838347b90/projects/core/src/global-message/http-interceptors/handlers/bad-request/bad-request.handler.ts#L64-L78","title":"SAP Spartacus form personalization","body":"<p>Currently the http error handling logic is centralized in the <a href=\"https://sap.github.io/spartacus-docs/http-error-handling/\" rel=\"nofollow noreferrer\">HttpErrorHandler</a>s classes.</p>\n<p>The http validation errors are handled in a generic way - the error type and message from backend is converted to frontend <a href=\"https://sap.github.io/spartacus-docs/i18n/\" rel=\"nofollow noreferrer\">translation key</a>, then translated for the current langauge and displayed in the global message component in the frontend UI.</p>\n<p>If you want to handle differently some specific error from some specific endpoint (e.g. to show a custom message / use custom translation key), you might want to extend the method <code>BadRequestHandler.handleValidationError()</code> or <code>.handleError()</code>.</p>\n<p>See source code: <a href=\"https://github.com/SAP/spartacus/blob/1b22bf5376c1fc5a88877aaaf4682f1838347b90/projects/core/src/global-message/http-interceptors/handlers/bad-request/bad-request.handler.ts#L64-L78\" rel=\"nofollow noreferrer\">https://github.com/SAP/spartacus/blob/1b22bf5376c1fc5a88877aaaf4682f1838347b90/projects/core/src/global-message/http-interceptors/handlers/bad-request/bad-request.handler.ts#L64-L78</a></p>\n"}],"owner":{"account_id":18753486,"reputation":37,"user_id":13674068,"display_name":"samicic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":425,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70018043,"answer_count":1,"score":0,"last_activity_date":1637230627,"creation_date":1637223331,"question_id":70016506,"body_markdown":"I need to modify a register form to show an error message, if there are already an account registered with a given email. SAP Hybris backend, Spartacus storefront in Angular. Currently, I have a custom validator class, which works correctly:\r\n\r\n    import org.springframework.util.Assert;\r\n    import org.springframework.validation.Errors;\r\n    import org.springframework.validation.Validator;\r\n        public class EmailExistingValidator implements Validator {\r\n        /*\r\n        ...\r\n        */\r\n            @Override\r\n            public void validate(Object o, Errors errors) {\r\n                Object fieldValue = errors.getFieldValue(this.fieldPath);\r\n        \r\n                if (fieldValue == null || fieldValue instanceof String &amp;&amp;userIdExists((String) fieldValue)) {\r\n                    errors.rejectValue(this.fieldPath, &quot;field.required&quot;, new String[]{this.fieldPath}, &quot;This email is already in use.&quot;);\r\n                }\r\n            }\r\n        }\r\n\r\nIf the case, the storefront shows a red error message : &quot;UID is not valid&quot;, but I want to change that to &quot;Email address is not valid or it is already in use&quot;.\r\n\r\nHow can I do that?\r\n\r\nAs I investigated the issue, this string in the storefront comes from a const named validationError.invalid.uid located in a file named spartacus-assets.js, like this:\r\n\r\n    invalid: {\r\n                    card_expirationMonth: &#39;The credit card expiration date entered is not valid.&#39;,\r\n                    firstName: &#39;First Name entered is not valid.&#39;,\r\n                    lastName: &#39;Last Name entered is not valid.&#39;,\r\n                    password: &#39;Password entered is not valid.&#39;,\r\n                    uid: &#39;UID is not valid.&#39;,\r\n                },\r\n\r\nAs far as I know, the confirmation and/or error messages are populated somehow like this (line 6):\r\n\r\n    handleValidationError(_request, response) {\r\n        this.getErrors(response)\r\n            .filter((e) =&gt; e.type === &#39;ValidationError&#39;)\r\n            .forEach((error) =&gt; {\r\n            this.globalMessageService.add({\r\n                key: `httpHandlers.validationErrors.${error.reason}.${error.subject}`,\r\n            }, GlobalMessageType.MSG_TYPE_ERROR);\r\n        });\r\n\r\nThese are out of the box, all located in node_modules, so I cant rewrite things here, because after an *npm install* they all will be gone.\r\n\r\nIt is possible to change that message? Is there any solution to solve this problem? I missed something or I am wrong? I welcome any comments, I am very new to SAP Commerce, as you can tell. ","title":"SAP Spartacus form personalization","body":"<p>I need to modify a register form to show an error message, if there are already an account registered with a given email. SAP Hybris backend, Spartacus storefront in Angular. Currently, I have a custom validator class, which works correctly:</p>\n<pre><code>import org.springframework.util.Assert;\nimport org.springframework.validation.Errors;\nimport org.springframework.validation.Validator;\n    public class EmailExistingValidator implements Validator {\n    /*\n    ...\n    */\n        @Override\n        public void validate(Object o, Errors errors) {\n            Object fieldValue = errors.getFieldValue(this.fieldPath);\n    \n            if (fieldValue == null || fieldValue instanceof String &amp;&amp;userIdExists((String) fieldValue)) {\n                errors.rejectValue(this.fieldPath, &quot;field.required&quot;, new String[]{this.fieldPath}, &quot;This email is already in use.&quot;);\n            }\n        }\n    }\n</code></pre>\n<p>If the case, the storefront shows a red error message : &quot;UID is not valid&quot;, but I want to change that to &quot;Email address is not valid or it is already in use&quot;.</p>\n<p>How can I do that?</p>\n<p>As I investigated the issue, this string in the storefront comes from a const named validationError.invalid.uid located in a file named spartacus-assets.js, like this:</p>\n<pre><code>invalid: {\n                card_expirationMonth: 'The credit card expiration date entered is not valid.',\n                firstName: 'First Name entered is not valid.',\n                lastName: 'Last Name entered is not valid.',\n                password: 'Password entered is not valid.',\n                uid: 'UID is not valid.',\n            },\n</code></pre>\n<p>As far as I know, the confirmation and/or error messages are populated somehow like this (line 6):</p>\n<pre><code>handleValidationError(_request, response) {\n    this.getErrors(response)\n        .filter((e) =&gt; e.type === 'ValidationError')\n        .forEach((error) =&gt; {\n        this.globalMessageService.add({\n            key: `httpHandlers.validationErrors.${error.reason}.${error.subject}`,\n        }, GlobalMessageType.MSG_TYPE_ERROR);\n    });\n</code></pre>\n<p>These are out of the box, all located in node_modules, so I cant rewrite things here, because after an <em>npm install</em> they all will be gone.</p>\n<p>It is possible to change that message? Is there any solution to solve this problem? I missed something or I am wrong? I welcome any comments, I am very new to SAP Commerce, as you can tell.</p>\n"},{"tags":["java","netty","reactor-netty"],"comments":[{"owner":{"account_id":3299976,"reputation":426,"user_id":2776371,"display_name":"Jacob"},"score":0,"creation_date":1646645216,"post_id":67263682,"comment_id":126166036,"body_markdown":"did you find any solution for this?","body":"did you find any solution for this?"},{"owner":{"account_id":7023642,"reputation":131,"user_id":5381942,"display_name":"Andrey Novikov"},"score":0,"creation_date":1646822380,"post_id":67263682,"comment_id":126217326,"body_markdown":"@Jacob, no, I have implemented usual netty-client with own channel pool implementation, putting read messages into a hot-source flux","body":"@Jacob, no, I have implemented usual netty-client with own channel pool implementation, putting read messages into a hot-source flux"}],"owner":{"account_id":7023642,"reputation":131,"user_id":5381942,"display_name":"Andrey Novikov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":829,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637230605,"creation_date":1619427661,"question_id":67263682,"body_markdown":"\r\nUsing reactor-netty ConnectionProvider the connection is not released to the pool, so can not be reused, until disconnected\r\n\r\nI found a workaround: disconnecting the connection after the response received, but it is terrible and can be appropriate only in my case when I connect to the neighbour server in the same network\r\n\r\n    clientsMap.computeIfAbsent(&quot;$host:$port&quot;) { hostPort -&gt;\r\n        TcpClient.create(\r\n                ConnectionProvider.builder(hostPort)\r\n                        .maxConnections(maxConnections)\r\n                        .pendingAcquireTimeout(Duration.ofSeconds(4))\r\n                        .maxIdleTime(Duration.ofSeconds(10))\r\n                        .build()\r\n        )\r\n                .host(host)\r\n                .port(port)\r\n                .observe { _, state -&gt; println(&quot;state: $state&quot;) }\r\n                //workaround as one packet is certainly less than 4096 bytes and the connection is stable enough\r\n                .option(ChannelOption.RCVBUF_ALLOCATOR, FixedRecvByteBufAllocator(4096))\r\n    }.connect().flatMap { connection -&gt;\r\n        connection\r\n                .outbound()\r\n                .sendByteArray(Mono.just(send))\r\n                .then()\r\n                .thenMany(connection.inbound().receive().asByteArray())\r\n                .takeUntil { it.size &lt; 4096 }\r\n                .map { it.toHexString() }\r\n                .collect(Collectors.joining())\r\n                .timeout(timeout)\r\n                //the next line causes disconnecting after the response being read\r\n                .doFinally { connection.channel().disconnect() }\r\n    }\r\nwhen requesting data the output is\r\n\r\n    state: [connected]\r\n    state: [configured]\r\n    state: [disconnecting]\r\n    state: [connected]\r\n    state: [configured]\r\n    state: [disconnecting]\r\nBut this solution is much worse than returning connection to the pool and reusing it later\r\n\r\nExpected to have a kind of `connectionProvider.release(connection)` method to forcibly return connection to the pool, and then I&#39;d call it in doFinally, but there is nothing like that\r\n\r\nif we comment the doFinally call, then `state: [disconnecting]` is not written and when more than maxConnections connections are acquired and not disconnected by the remote host yet, we catch\r\n\r\n    Pool#acquire(Duration) has been pending for more than the configured timeout of 4000ms\r\ntested reactor-netty versions are 1.0.6 - 1.0.13\r\n\r\nwould appreciate solutions of returning connection to the pool and reusing it instead of disconnecting","title":"reactor-netty TcpClient connection pool does not release connections","body":"<p>Using reactor-netty ConnectionProvider the connection is not released to the pool, so can not be reused, until disconnected</p>\n<p>I found a workaround: disconnecting the connection after the response received, but it is terrible and can be appropriate only in my case when I connect to the neighbour server in the same network</p>\n<pre><code>clientsMap.computeIfAbsent(&quot;$host:$port&quot;) { hostPort -&gt;\n    TcpClient.create(\n            ConnectionProvider.builder(hostPort)\n                    .maxConnections(maxConnections)\n                    .pendingAcquireTimeout(Duration.ofSeconds(4))\n                    .maxIdleTime(Duration.ofSeconds(10))\n                    .build()\n    )\n            .host(host)\n            .port(port)\n            .observe { _, state -&gt; println(&quot;state: $state&quot;) }\n            //workaround as one packet is certainly less than 4096 bytes and the connection is stable enough\n            .option(ChannelOption.RCVBUF_ALLOCATOR, FixedRecvByteBufAllocator(4096))\n}.connect().flatMap { connection -&gt;\n    connection\n            .outbound()\n            .sendByteArray(Mono.just(send))\n            .then()\n            .thenMany(connection.inbound().receive().asByteArray())\n            .takeUntil { it.size &lt; 4096 }\n            .map { it.toHexString() }\n            .collect(Collectors.joining())\n            .timeout(timeout)\n            //the next line causes disconnecting after the response being read\n            .doFinally { connection.channel().disconnect() }\n}\n</code></pre>\n<p>when requesting data the output is</p>\n<pre><code>state: [connected]\nstate: [configured]\nstate: [disconnecting]\nstate: [connected]\nstate: [configured]\nstate: [disconnecting]\n</code></pre>\n<p>But this solution is much worse than returning connection to the pool and reusing it later</p>\n<p>Expected to have a kind of <code>connectionProvider.release(connection)</code> method to forcibly return connection to the pool, and then I'd call it in doFinally, but there is nothing like that</p>\n<p>if we comment the doFinally call, then <code>state: [disconnecting]</code> is not written and when more than maxConnections connections are acquired and not disconnected by the remote host yet, we catch</p>\n<pre><code>Pool#acquire(Duration) has been pending for more than the configured timeout of 4000ms\n</code></pre>\n<p>tested reactor-netty versions are 1.0.6 - 1.0.13</p>\n<p>would appreciate solutions of returning connection to the pool and reusing it instead of disconnecting</p>\n"},{"tags":["java","lambda","foreach","collections","java-stream"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1637184084,"post_id":70011590,"comment_id":123761503,"body_markdown":"Use a regular for loop (`list.forEach` or `for-each` in general) hides the iterator; so you can&#39;t tell when you&#39;re at the sixth word.","body":"Use a regular for loop (<code>list.forEach</code> or <code>for-each</code> in general) hides the iterator; so you can&#39;t tell when you&#39;re at the sixth word."},{"owner":{"account_id":3925658,"reputation":5569,"user_id":3246362,"display_name":"Sam"},"score":0,"creation_date":1637184509,"post_id":70011590,"comment_id":123761641,"body_markdown":"Does this answer your question? [Take every nth element from a Java 8 stream](https://stackoverflow.com/questions/31602425/take-every-nth-element-from-a-java-8-stream)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/31602425/take-every-nth-element-from-a-java-8-stream\">Take every nth element from a Java 8 stream</a>"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1637229033,"post_id":70011590,"comment_id":123772000,"body_markdown":"Dont cast the result of `collect(Collectors.toList())` to `ArrayList`. The documentation doesnt specify what list you can expect and there is no reason not to use just `List&lt;String&gt; list = `. By the way, instead of `x.length() != 0` you can write `! x.isEmpty()`","body":"Dont cast the result of <code>collect(Collectors.toList())</code> to <code>ArrayList</code>. The documentation doesnt specify what list you can expect and there is no reason not to use just <code>List&lt;String&gt; list = </code>. By the way, instead of <code>x.length() != 0</code> you can write <code>! x.isEmpty()</code>"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637230515,"creation_date":1637184945,"answer_id":70011863,"question_id":70011590,"body_markdown":"Split the list into chunks of 5 and join the items inside each chunk.\r\n```java\r\nIntStream.iterate(0, i -&gt; i &lt; list.size(), i -&gt; i + 5)\r\n    .forEach(i -&gt; System.out.println(\r\n        IntStream.range(i, Math.min(i + 5, list.size()))\r\n            .mapToObj(list::get)\r\n            .map(s -&gt; s + &quot;(&quot; + s.length() + &quot;)&quot;)\r\n            .collect(Collectors.joining(&quot;; &quot;))\r\n    ));\r\n```\r\nNote: [`Stream.iterate` with condition](https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#iterate-T-java.util.function.Predicate-java.util.function.UnaryOperator-) is available in Java 9.\r\nPure Java 8 solution could use `Stream.limit` with a calculated number of chunks:\r\n```java\r\nIntStream.iterate(0, i -&gt; i + 5)\r\n    .limit(list.size() / 5 + (list.size() % 5 &gt; 0 ? 1 : 0))\r\n    .forEach(i -&gt; System.out.println(\r\n        IntStream.range(i, Math.min(i + 5, list.size()))\r\n            .mapToObj(list::get)\r\n            .map(s -&gt; s + &quot;(&quot; + s.length() + &quot;)&quot;)\r\n            .collect(Collectors.joining(&quot;; &quot;))\r\n    ));\r\n```","title":"java stream 8, every sixth word print in new line","body":"<p>Split the list into chunks of 5 and join the items inside each chunk.</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.iterate(0, i -&gt; i &lt; list.size(), i -&gt; i + 5)\n    .forEach(i -&gt; System.out.println(\n        IntStream.range(i, Math.min(i + 5, list.size()))\n            .mapToObj(list::get)\n            .map(s -&gt; s + &quot;(&quot; + s.length() + &quot;)&quot;)\n            .collect(Collectors.joining(&quot;; &quot;))\n    ));\n</code></pre>\n<p>Note: <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/stream/Stream.html#iterate-T-java.util.function.Predicate-java.util.function.UnaryOperator-\" rel=\"nofollow noreferrer\"><code>Stream.iterate</code> with condition</a> is available in Java 9.\nPure Java 8 solution could use <code>Stream.limit</code> with a calculated number of chunks:</p>\n<pre class=\"lang-java prettyprint-override\"><code>IntStream.iterate(0, i -&gt; i + 5)\n    .limit(list.size() / 5 + (list.size() % 5 &gt; 0 ? 1 : 0))\n    .forEach(i -&gt; System.out.println(\n        IntStream.range(i, Math.min(i + 5, list.size()))\n            .mapToObj(list::get)\n            .map(s -&gt; s + &quot;(&quot; + s.length() + &quot;)&quot;)\n            .collect(Collectors.joining(&quot;; &quot;))\n    ));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14179476,"reputation":2663,"user_id":10243634,"display_name":"Oboe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637187083,"creation_date":1637185395,"answer_id":70011940,"question_id":70011590,"body_markdown":"You can use `stream`:\r\n\r\n    private static final String NEW_LINE = System.lineSeparator();\r\n\r\n    public static String addNewLines(String str, int n) {\r\n        \r\n        String[] words = str.split(&quot; &quot;);\r\n        \r\n        int size = words.length;\r\n        \r\n        int lines = (int) Math.round((double) size / n);\r\n        \r\n        int lastLine = size - lines * n;\r\n        \r\n        return IntStream.range(0, lines)\r\n                .mapToObj(i -&gt; toString(words, i * n, i * n + n))\r\n                .collect(Collectors.joining(NEW_LINE, &quot;&quot;, lastLine &gt; 0 \r\n                                ? NEW_LINE + toString(words, size - lastLine, size)\r\n                                : &quot;&quot;));\r\n    }\r\n\r\n    private static String toString(String[] words, int start, int end) {\r\n        return Arrays.stream(words, start, end).collect(Collectors.joining(&quot; &quot;));\r\n    }\r\n\r\nThen:\r\n\r\n    String str = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam egestas maximus augue, in vehicula erat dictum quis. Sed rhoncus tempor maximus. Etiam tempus tristique ex et imperdiet.&quot;;\r\n\r\n    System.out.println(addNewLines(str, 5));\r\n\r\nOutput:\r\n\r\n    Lorem ipsum dolor sit amet,\r\n    consectetur adipiscing elit. Nam egestas\r\n    maximus augue, in vehicula erat\r\n    dictum quis. Sed rhoncus tempor\r\n    maximus. Etiam tempus tristique ex\r\n    et imperdiet.","title":"java stream 8, every sixth word print in new line","body":"<p>You can use <code>stream</code>:</p>\n<pre><code>private static final String NEW_LINE = System.lineSeparator();\n\npublic static String addNewLines(String str, int n) {\n    \n    String[] words = str.split(&quot; &quot;);\n    \n    int size = words.length;\n    \n    int lines = (int) Math.round((double) size / n);\n    \n    int lastLine = size - lines * n;\n    \n    return IntStream.range(0, lines)\n            .mapToObj(i -&gt; toString(words, i * n, i * n + n))\n            .collect(Collectors.joining(NEW_LINE, &quot;&quot;, lastLine &gt; 0 \n                            ? NEW_LINE + toString(words, size - lastLine, size)\n                            : &quot;&quot;));\n}\n\nprivate static String toString(String[] words, int start, int end) {\n    return Arrays.stream(words, start, end).collect(Collectors.joining(&quot; &quot;));\n}\n</code></pre>\n<p>Then:</p>\n<pre><code>String str = &quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nam egestas maximus augue, in vehicula erat dictum quis. Sed rhoncus tempor maximus. Etiam tempus tristique ex et imperdiet.&quot;;\n\nSystem.out.println(addNewLines(str, 5));\n</code></pre>\n<p>Output:</p>\n<pre><code>Lorem ipsum dolor sit amet,\nconsectetur adipiscing elit. Nam egestas\nmaximus augue, in vehicula erat\ndictum quis. Sed rhoncus tempor\nmaximus. Etiam tempus tristique ex\net imperdiet.\n</code></pre>\n"}],"owner":{"account_id":20175044,"reputation":15,"user_id":14796932,"display_name":"Andris Zaris"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":646,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70011863,"answer_count":2,"score":0,"last_activity_date":1637230515,"creation_date":1637183492,"question_id":70011590,"body_markdown":"```java\r\npublic class Histogram {\r\n    public static void main(String[] args) throws IOException {\r\n        Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;words.txt&quot;));\r\n        ArrayList&lt;String&gt; list = (ArrayList&lt;String&gt;) stream\r\n                .map(w -&gt; w.split(&quot;\\\\.|\\\\s+|,&quot;)).flatMap(Arrays::stream)\r\n                .filter(x-&gt; x.length() != 0)\r\n                .collect(Collectors.toList());\r\n        list.forEach(s -&gt; System.out.print(s + &quot;(&quot; + s.length() + &quot;) &quot;));\r\n    }  \r\n}\r\n```\r\n  [1]: https://i.stack.imgur.com/PNmvZ.png\r\n\r\nNow I have all results in one line.\r\nHow I can make logic in this Java stream 8, to put every 5 words from forEach loop to newline (`System.out.println`).\r\nEvery sixth word is printed in a new line.","title":"java stream 8, every sixth word print in new line","body":"<pre class=\"lang-java prettyprint-override\"><code>public class Histogram {\n    public static void main(String[] args) throws IOException {\n        Stream&lt;String&gt; stream = Files.lines(Paths.get(&quot;words.txt&quot;));\n        ArrayList&lt;String&gt; list = (ArrayList&lt;String&gt;) stream\n                .map(w -&gt; w.split(&quot;\\\\.|\\\\s+|,&quot;)).flatMap(Arrays::stream)\n                .filter(x-&gt; x.length() != 0)\n                .collect(Collectors.toList());\n        list.forEach(s -&gt; System.out.print(s + &quot;(&quot; + s.length() + &quot;) &quot;));\n    }  \n}\n</code></pre>\n<p>Now I have all results in one line.\nHow I can make logic in this Java stream 8, to put every 5 words from forEach loop to newline (<code>System.out.println</code>).\nEvery sixth word is printed in a new line.</p>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"score":0,"creation_date":1446808818,"post_id":33565586,"comment_id":54909194,"body_markdown":"What value do you get? Keep in mind that `byte` is signed, so `0xAA` is a negative number.","body":"What value do you get? Keep in mind that <code>byte</code> is signed, so <code>0xAA</code> is a negative number."},{"owner":{"account_id":6580017,"reputation":122,"user_id":5084562,"display_name":"AndroidDev101"},"score":0,"creation_date":1446810847,"post_id":33565586,"comment_id":54910321,"body_markdown":"@Thilo Sorry, forgot to write it down and now Im not next to PC anymore. But it definetly wasn&#39;t 0xAA!","body":"@Thilo Sorry, forgot to write it down and now Im not next to PC anymore. But it definetly wasn&#39;t 0xAA!"}],"answers":[{"tags":[],"owner":{"account_id":3339315,"reputation":2719,"user_id":2805971,"display_name":"Rohit Heera"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446808949,"creation_date":1446808882,"answer_id":33565680,"question_id":33565586,"body_markdown":"Try this.\r\n    \r\n    String stringUserId = xpp.getAttributeValue(0);\r\n    byte byteUserId[] = stringUserId.getBytes() ;\r\n    \r\nActually `String` is a array of `bytes`.","title":"Converting String to byte from XML file","body":"<p>Try this.</p>\n\n<pre><code>String stringUserId = xpp.getAttributeValue(0);\nbyte byteUserId[] = stringUserId.getBytes() ;\n</code></pre>\n\n<p>Actually <code>String</code> is a array of <code>bytes</code>.</p>\n"},{"tags":[],"owner":{"account_id":7234102,"reputation":21,"user_id":5519961,"display_name":"Daniel Rivers"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1446810086,"creation_date":1446809119,"answer_id":33565736,"question_id":33565586,"body_markdown":"`Byte.valueOf(string)` doesn&#39;t return a native `byte` type, it returns `Byte`. Try to do something like this:\r\n\r\n    Byte byteobj = Byte.valueOf(stirngUserId);\r\n    byte byteUserId = byteobj.byteValue();","title":"Converting String to byte from XML file","body":"<p><code>Byte.valueOf(string)</code> doesn't return a native <code>byte</code> type, it returns <code>Byte</code>. Try to do something like this:</p>\n\n<pre><code>Byte byteobj = Byte.valueOf(stirngUserId);\nbyte byteUserId = byteobj.byteValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8326,"reputation":258545,"user_id":14955,"accept_rate":55,"display_name":"Thilo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1448495723,"creation_date":1448495723,"answer_id":33928479,"question_id":33565586,"body_markdown":"Try [Integer#decode][1]. It should understand the &quot;0x&quot; syntax.\r\n\r\n    \r\n    int x = Integer.decode(stringUserId);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#decode%28java.lang.String%29","title":"Converting String to byte from XML file","body":"<p>Try <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html#decode%28java.lang.String%29\" rel=\"nofollow\">Integer#decode</a>. It should understand the \"0x\" syntax.</p>\n\n<pre><code>int x = Integer.decode(stringUserId);\n</code></pre>\n"}],"owner":{"account_id":6580017,"reputation":122,"user_id":5084562,"display_name":"AndroidDev101"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1531,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1637230238,"creation_date":1446808580,"question_id":33565586,"body_markdown":"I am having struggles to finish my code. I am parsing an XML, which returns to me `String` values (using `xpp.getAttributeValue(0);`). However, in my actual code, I need `byte` and not a `String`.\r\n\r\nA simple conversion is `Byte.valueOf(String);` however, the returned value is not correct!\r\n\r\n**XML example:**\r\n\r\n    &lt;userId value=&quot;0xAA&quot;&gt;&lt;/userId&gt;\r\n\r\n\r\nWhen I parse this with:\r\n\r\n    String stringUserId = xpp.getAttributeValue(0);\r\n\r\nand then convert it to bytes with:\r\n\r\n    byte byteUserId = Byte.valueOf(stirngUserId);\r\n\r\n**I do not get 0xAA value.** Can someone please help me?\r\n\r\n","title":"Converting String to byte from XML file","body":"<p>I am having struggles to finish my code. I am parsing an XML, which returns to me <code>String</code> values (using <code>xpp.getAttributeValue(0);</code>). However, in my actual code, I need <code>byte</code> and not a <code>String</code>.</p>\n\n<p>A simple conversion is <code>Byte.valueOf(String);</code> however, the returned value is not correct!</p>\n\n<p><strong>XML example:</strong></p>\n\n<pre><code>&lt;userId value=\"0xAA\"&gt;&lt;/userId&gt;\n</code></pre>\n\n<p>When I parse this with:</p>\n\n<pre><code>String stringUserId = xpp.getAttributeValue(0);\n</code></pre>\n\n<p>and then convert it to bytes with:</p>\n\n<pre><code>byte byteUserId = Byte.valueOf(stirngUserId);\n</code></pre>\n\n<p><strong>I do not get 0xAA value.</strong> Can someone please help me?</p>\n"},{"tags":["java","android","android-studio"],"answers":[{"tags":[],"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637229779,"creation_date":1637229779,"answer_id":70017861,"question_id":70017777,"body_markdown":"Google doesn&#39;t appear to provide this via API. I suggest you use the current device location or ask the user for their home city, or a country + TZ location. Alternatively, with some working around you may be able to access this dataset: https://developers.google.com/gmail/markup/reference/types/Person\r\nIt contains &quot;A contact location for a person&#39;s residence.&quot;, but the user needs to authenticate access to it.","title":"Access last user location from Google account using java","body":"<p>Google doesn't appear to provide this via API. I suggest you use the current device location or ask the user for their home city, or a country + TZ location. Alternatively, with some working around you may be able to access this dataset: <a href=\"https://developers.google.com/gmail/markup/reference/types/Person\" rel=\"nofollow noreferrer\">https://developers.google.com/gmail/markup/reference/types/Person</a>\nIt contains &quot;A contact location for a person's residence.&quot;, but the user needs to authenticate access to it.</p>\n"}],"owner":{"account_id":16410535,"reputation":77,"user_id":11853945,"display_name":"Favour okechukwu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637229779,"creation_date":1637229424,"question_id":70017777,"body_markdown":"How do you access the user&#39;s Google Account last location in code? I am building an application that will that will need to get user address/general location and  to store data and I want to identify the last location of the person stored by Google using Google signups/login before submitting the data.","title":"Access last user location from Google account using java","body":"<p>How do you access the user's Google Account last location in code? I am building an application that will that will need to get user address/general location and  to store data and I want to identify the last location of the person stored by Google using Google signups/login before submitting the data.</p>\n"},{"tags":["java","for-loop"],"comments":[{"owner":{"account_id":238570,"reputation":8889,"user_id":507546,"accept_rate":88,"display_name":"gigadot"},"score":1,"creation_date":1348966152,"post_id":12657749,"comment_id":17076258,"body_markdown":"should the length be 7, 5, 3, 1?","body":"should the length be 7, 5, 3, 1?"},{"owner":{"account_id":1363643,"reputation":833,"user_id":1406062,"display_name":"user1406062"},"score":1,"creation_date":1348966234,"post_id":12657749,"comment_id":17076275,"body_markdown":"the code provided has nothing to do with inverted pyramid!! is there something missing?","body":"the code provided has nothing to do with inverted pyramid!! is there something missing?"},{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1348967120,"post_id":12657749,"comment_id":17076385,"body_markdown":"@gigadot: that would be too logical!","body":"@gigadot: that would be too logical!"}],"answers":[{"tags":[],"owner":{"account_id":255665,"reputation":232816,"user_id":535871,"accept_rate":84,"display_name":"Ted Hopp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1348966715,"creation_date":1348966715,"answer_id":12657808,"question_id":12657749,"body_markdown":"Your example does not match the words of your question, so here&#39;s a method that behaves according to your words as I understand them:\r\n\r\n    public void pyramid(String text) {\r\n        int len = text.length();\r\n        int start = 0;\r\n        while (start &lt; len) {\r\n            for (int i = 0; i &lt; start; ++i) {\r\n                System.out.print(&quot; &quot;);\r\n            }\r\n            System.out.println(text.substring(start, len));\r\n            ++start;\r\n            --len;\r\n        }\r\n    }","title":"java for loop pyramid","body":"<p>Your example does not match the words of your question, so here's a method that behaves according to your words as I understand them:</p>\n\n<pre><code>public void pyramid(String text) {\n    int len = text.length();\n    int start = 0;\n    while (start &lt; len) {\n        for (int i = 0; i &lt; start; ++i) {\n            System.out.print(\" \");\n        }\n        System.out.println(text.substring(start, len));\n        ++start;\n        --len;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47523,"reputation":89783,"user_id":140816,"accept_rate":90,"display_name":"Jo&#227;o Silva"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348967187,"creation_date":1348966876,"answer_id":12657818,"question_id":12657749,"body_markdown":"    String str = &quot;*******&quot;;\r\n    for (int i = 0, l = str.length(); i &lt;= l/2; i++) {\r\n      String line = str.substring(i, l - i);\r\n      System.out.printf(&quot;%&quot; + (i + 1) + &quot;d%s\\n&quot;, line.length(), line);\r\n    }\r\n\r\nThis will [print][1]:\r\n\r\n    7*******\r\n     5*****\r\n      3***\r\n       1*\r\n\r\nI&#39;m assuming you meant `3` instead of `4` in your example, that is, that you want to decrement by `2`.\r\n\r\n\r\n  [1]: http://ideone.com/OH7f5","title":"java for loop pyramid","body":"<pre><code>String str = \"*******\";\nfor (int i = 0, l = str.length(); i &lt;= l/2; i++) {\n  String line = str.substring(i, l - i);\n  System.out.printf(\"%\" + (i + 1) + \"d%s\\n\", line.length(), line);\n}\n</code></pre>\n\n<p>This will <a href=\"http://ideone.com/OH7f5\" rel=\"nofollow\">print</a>:</p>\n\n<pre><code>7*******\n 5*****\n  3***\n   1*\n</code></pre>\n\n<p>I'm assuming you meant <code>3</code> instead of <code>4</code> in your example, that is, that you want to decrement by <code>2</code>.</p>\n"},{"tags":[],"owner":{"account_id":1791631,"reputation":124,"user_id":1631878,"display_name":"Anand V"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1349022264,"creation_date":1348968468,"answer_id":12657932,"question_id":12657749,"body_markdown":"I started working on this problem and found my solution to be slightly different from Joao&#39;s. Hope this helps!\r\n\r\n    public class pyramid\r\n    {\r\n    \r\n    public static void main(String[] args)\r\n    {\r\n        for(int i=0, sz=args[0].length();i&lt;sz; ++i,--sz)\r\n        {\r\n          System.out.printf(&quot;%&quot;+(i+1)+&quot;d%s\\n&quot;, sz-i, args[0].substring(i,sz));\r\n        }\r\n    }\r\n\r\n    }\r\n\r\nInvocation as per request:\r\n\r\n    java pyramid abcdefg\r\n    7abcdefg\r\n     5bcdef\r\n      3cde\r\n       1d\r\n\r\n    java pyramid abcdef\r\n    6abcdef\r\n     4bcde\r\n      2cd\r\n\r\n","title":"java for loop pyramid","body":"<p>I started working on this problem and found my solution to be slightly different from Joao's. Hope this helps!</p>\n\n<pre><code>public class pyramid\n{\n\npublic static void main(String[] args)\n{\n    for(int i=0, sz=args[0].length();i&lt;sz; ++i,--sz)\n    {\n      System.out.printf(\"%\"+(i+1)+\"d%s\\n\", sz-i, args[0].substring(i,sz));\n    }\n}\n\n}\n</code></pre>\n\n<p>Invocation as per request:</p>\n\n<pre><code>java pyramid abcdefg\n7abcdefg\n 5bcdef\n  3cde\n   1d\n\njava pyramid abcdef\n6abcdef\n 4bcde\n  2cd\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22271318,"reputation":1,"user_id":16501230,"display_name":"S k Harihara Prakash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637229594,"creation_date":1637229594,"answer_id":70017823,"question_id":12657749,"body_markdown":"        for(int i = 1; i&lt;=4; i++) {\r\n\t\t\tfor(int k = 3;k&gt;=i; k--){\r\n\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t}\r\n\t\tfor(int j = 1; j&lt;=i; j++){\r\n\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t}\r\n\t\t\tfor(int n = 2; n&lt;=i;n++){\r\n\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t}\t\r\n\t\t\t\t\t\t\t\r\n\t\t\tSystem.out.println(&quot; &quot;);\r\n\t\t}\r\n\t\t\tfor(int m = 1 ;m&lt;=3; m++){\r\n\t\t\t\tfor(int o = 1;o&lt;=m; o++){\r\n\t\t\t\t\tSystem.out.print(&quot; &quot;);\r\n\t\t\t\t}\r\n\t\t\t\tfor(int p = 3;p&gt;=m;p--){\r\n\t\t\t\t\tSystem.out.print(&quot;*&quot;);\r\n\t\t\t\t}\r\n\t\t\t\tfor(int q = 2;q&gt;=m;q--){\r\n\t\t\t\t\tSystem.out.print(&quot;*&quot;);\t\t\r\n\t\t\t\t}\t\r\n\t\t\t\t\r\n\t\t\t\tSystem.out.println();\r\n\t\t\t}\t\r\n\t}\r\n}\t\r\n\r\n","title":"java for loop pyramid","body":"<pre><code>    for(int i = 1; i&lt;=4; i++) {\n        for(int k = 3;k&gt;=i; k--){\n                System.out.print(&quot; &quot;);\n            }\n    for(int j = 1; j&lt;=i; j++){\n            System.out.print(&quot;*&quot;);\n        }\n        for(int n = 2; n&lt;=i;n++){\n            System.out.print(&quot;*&quot;);\n        }   \n                        \n        System.out.println(&quot; &quot;);\n    }\n        for(int m = 1 ;m&lt;=3; m++){\n            for(int o = 1;o&lt;=m; o++){\n                System.out.print(&quot; &quot;);\n            }\n            for(int p = 3;p&gt;=m;p--){\n                System.out.print(&quot;*&quot;);\n            }\n            for(int q = 2;q&gt;=m;q--){\n                System.out.print(&quot;*&quot;);      \n            }   \n            \n            System.out.println();\n        }   \n}\n</code></pre>\n<p>}</p>\n"}],"owner":{"account_id":1888900,"reputation":35,"user_id":1707517,"accept_rate":38,"display_name":"user1707517"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1925,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":4,"score":0,"last_activity_date":1637229594,"creation_date":1348965897,"question_id":12657749,"body_markdown":"I want to create a loop with a string so that with each successive loop, the last and first characters from the previous line will not be displayed. I&#39;m also trying to print the length of each loop next to each line. It will look like an upside-down pyramid. \r\n\r\nI had this:\r\n\r\n\r\n        for(int scounter = fullName.length(); scounter &gt; 0; scounter--)\r\n        for (String name : fullName)\r\n        for(int counter = 0; counter &lt; fullName.length(); counter++)\r\n\r\n         System.out.println(scounter + &quot;[ &quot; + fullName.substring(0, fullName.length() counter)+ &quot; ]&quot;);\r\n\r\n\r\nIt prints something like this:  \r\n\r\n       24******\r\n       24****\r\n       24**\r\n       24*\r\n\r\n\r\nYet I&#39;m looking for something similar to this:\r\n\r\n        7*******\r\n         5*****\r\n          4***\r\n           1*","title":"java for loop pyramid","body":"<p>I want to create a loop with a string so that with each successive loop, the last and first characters from the previous line will not be displayed. I'm also trying to print the length of each loop next to each line. It will look like an upside-down pyramid. </p>\n\n<p>I had this:</p>\n\n<pre><code>    for(int scounter = fullName.length(); scounter &gt; 0; scounter--)\n    for (String name : fullName)\n    for(int counter = 0; counter &lt; fullName.length(); counter++)\n\n     System.out.println(scounter + \"[ \" + fullName.substring(0, fullName.length() counter)+ \" ]\");\n</code></pre>\n\n<p>It prints something like this:  </p>\n\n<pre><code>   24******\n   24****\n   24**\n   24*\n</code></pre>\n\n<p>Yet I'm looking for something similar to this:</p>\n\n<pre><code>    7*******\n     5*****\n      4***\n       1*\n</code></pre>\n"},{"tags":["java","concurrency","locking","wait","notify"],"comments":[{"owner":{"account_id":9463219,"reputation":9357,"user_id":7036419,"display_name":"Maurice Perry"},"score":0,"creation_date":1637228974,"post_id":70017538,"comment_id":123771973,"body_markdown":"It&#39;s not the same thing","body":"It&#39;s not the same thing"}],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637229033,"creation_date":1637229033,"answer_id":70017679,"question_id":70017538,"body_markdown":"I&#39;m not sure where did you find that `ConditionObject`, but it&#39;s most likely some internal object used by a lock class. \r\n\r\nCondition cannot exist by itself without a lock (a monitor, to be precise), that&#39;s because await/signal need access to that monitor. \r\nWhen you call `await` method it&#39;ll put current thread on the wait list of the monitor, suspends it (parks it, so it&#39;s excluded from scheduling) and it&#39;ll release the lock, so that other threads can acquire it. \r\nWhen you call `signal`, then one thread in the wait list of the monitor is being resumed. ","title":"Can I use ConditionObject instead of getting it from a lock?","body":"<p>I'm not sure where did you find that <code>ConditionObject</code>, but it's most likely some internal object used by a lock class.</p>\n<p>Condition cannot exist by itself without a lock (a monitor, to be precise), that's because await/signal need access to that monitor.\nWhen you call <code>await</code> method it'll put current thread on the wait list of the monitor, suspends it (parks it, so it's excluded from scheduling) and it'll release the lock, so that other threads can acquire it.\nWhen you call <code>signal</code>, then one thread in the wait list of the monitor is being resumed.</p>\n"},{"tags":[],"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637229238,"creation_date":1637229238,"answer_id":70017727,"question_id":70017538,"body_markdown":"You can&#39;t use it without its associated lock. `ConditionObject` is connected to `AbstractQueuedSynchronizer` which can be used to create locks, semaphores and other things so you don&#39;t need to worry about the details.\r\n\r\nYou&#39;ve been given easy to use concurrency primitives in `java.util.concurrent.locks` package. I recommend you use them, you have less chance of getting things wrong that way.","title":"Can I use ConditionObject instead of getting it from a lock?","body":"<p>You can't use it without its associated lock. <code>ConditionObject</code> is connected to <code>AbstractQueuedSynchronizer</code> which can be used to create locks, semaphores and other things so you don't need to worry about the details.</p>\n<p>You've been given easy to use concurrency primitives in <code>java.util.concurrent.locks</code> package. I recommend you use them, you have less chance of getting things wrong that way.</p>\n"},{"tags":[],"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637229574,"creation_date":1637229574,"answer_id":70017810,"question_id":70017538,"body_markdown":"Let&#39;s give a conceptual answer here:\r\n\r\n&gt; But by navigating the java sources i saw that a implementation is already available.\r\n\r\nIn other words: should your code that uses a public standard API rely on an **internal implementation detail** of that API?\r\n\r\nThe answer to that is (almost) always: **of course not**!\r\n\r\nYou make your code dependant on the contracts that the public API provides, not at all on how it is implemented. Thing is, (at least theoretically) such internal implementation details can change with any new version of Java. Sure, if it is a structural thing then the compiler might tell you, but what if not? \r\n\r\nMeaning: when you study java standard library code, then to improve your overall knowledge on programming (one can learn a lot from reading and thinking about this code). But unless you have very good reasons to do so: never ever let the *internals* guide your code!","title":"Can I use ConditionObject instead of getting it from a lock?","body":"<p>Let's give a conceptual answer here:</p>\n<blockquote>\n<p>But by navigating the java sources i saw that a implementation is already available.</p>\n</blockquote>\n<p>In other words: should your code that uses a public standard API rely on an <strong>internal implementation detail</strong> of that API?</p>\n<p>The answer to that is (almost) always: <strong>of course not</strong>!</p>\n<p>You make your code dependant on the contracts that the public API provides, not at all on how it is implemented. Thing is, (at least theoretically) such internal implementation details can change with any new version of Java. Sure, if it is a structural thing then the compiler might tell you, but what if not?</p>\n<p>Meaning: when you study java standard library code, then to improve your overall knowledge on programming (one can learn a lot from reading and thinking about this code). But unless you have very good reasons to do so: never ever let the <em>internals</em> guide your code!</p>\n"}],"owner":{"account_id":12418158,"reputation":438,"user_id":9046497,"display_name":"Nur1"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70017679,"answer_count":3,"score":0,"last_activity_date":1637229574,"creation_date":1637228477,"question_id":70017538,"body_markdown":"Every source i saw in the www states that a `Condition Object` is get by using the `newCondition method` on a `Lock object`\r\n\r\n    ReentrantLock.newCondition()\r\n\r\nBut by navigating the java sources i saw that a implementation is already available.\r\n\r\n    ConditionObject // implements Condition\r\n\r\nI dont want to be the only one but thats why I am asking.\r\n\r\nCan I Use this Condition Object to wait/notify/notifyAll with synchronized methods?\r\n\r\nOr is it any better to stick to the combination with locks?\r\n\r\nAdditionally:\r\n \r\nThere is so much code in the `await() method` of a `Condition object`. Could there by a performance difference between the traditional wait/notify/notifyAll?","title":"Can I use ConditionObject instead of getting it from a lock?","body":"<p>Every source i saw in the www states that a <code>Condition Object</code> is get by using the <code>newCondition method</code> on a <code>Lock object</code></p>\n<pre><code>ReentrantLock.newCondition()\n</code></pre>\n<p>But by navigating the java sources i saw that a implementation is already available.</p>\n<pre><code>ConditionObject // implements Condition\n</code></pre>\n<p>I dont want to be the only one but thats why I am asking.</p>\n<p>Can I Use this Condition Object to wait/notify/notifyAll with synchronized methods?</p>\n<p>Or is it any better to stick to the combination with locks?</p>\n<p>Additionally:</p>\n<p>There is so much code in the <code>await() method</code> of a <code>Condition object</code>. Could there by a performance difference between the traditional wait/notify/notifyAll?</p>\n"},{"tags":["java","iterator"],"answers":[{"tags":[],"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1339006015,"creation_date":1339005626,"answer_id":10919591,"question_id":10919568,"body_markdown":"The definition of an `Iterator` does not allow arbitrary indexing to a position.  That&#39;s just the way it&#39;s defined.  If you need that capability you will have to load the data into an indexable collection.\r\n\r\nThe point of the `Iterator` interface is to allow _sequential_ access to a collection without knowing anything about its size.  Iterators can be forward-only or bi-directional (`ListIterator`).  It&#39;s just one specific model for accessing elements of a collection.  One advantage is that it implies nothing about the collection size, which could be much too large to fit completely into memory.  By allowing only sequential access, the implementation is free to keep only part of the collection in memory at any given moment.\r\n\r\nIf you need to load the iterator contents into a list you need to do it yourself with a loop.","title":"How to randomly access data from a Java Iterator","body":"<p>The definition of an <code>Iterator</code> does not allow arbitrary indexing to a position.  That's just the way it's defined.  If you need that capability you will have to load the data into an indexable collection.</p>\n\n<p>The point of the <code>Iterator</code> interface is to allow <em>sequential</em> access to a collection without knowing anything about its size.  Iterators can be forward-only or bi-directional (<code>ListIterator</code>).  It's just one specific model for accessing elements of a collection.  One advantage is that it implies nothing about the collection size, which could be much too large to fit completely into memory.  By allowing only sequential access, the implementation is free to keep only part of the collection in memory at any given moment.</p>\n\n<p>If you need to load the iterator contents into a list you need to do it yourself with a loop.</p>\n"},{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1339005801,"creation_date":1339005801,"answer_id":10919640,"question_id":10919568,"body_markdown":"Nope, you&#39;ve named the only approaches.  You&#39;re going to end up needing a `for` loop to iterate to the appropriate position.\r\n\r\nA few utility libraries have shortcuts to [load an `Iterator`&#39;s contents into an `ArrayList`][1], or to [get the `n`th element of an `Iterator`][2], but there&#39;s nothing built into the JDK.\r\n\r\n\r\n  [1]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Lists.html#newArrayList%28java.util.Iterator%29\r\n  [2]: http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Iterators.html#get%28java.util.Iterator,%20int%29","title":"How to randomly access data from a Java Iterator","body":"<p>Nope, you've named the only approaches.  You're going to end up needing a <code>for</code> loop to iterate to the appropriate position.</p>\n\n<p>A few utility libraries have shortcuts to <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Lists.html#newArrayList%28java.util.Iterator%29\">load an <code>Iterator</code>'s contents into an <code>ArrayList</code></a>, or to <a href=\"http://docs.guava-libraries.googlecode.com/git-history/release/javadoc/com/google/common/collect/Iterators.html#get%28java.util.Iterator,%20int%29\">get the <code>n</code>th element of an <code>Iterator</code></a>, but there's nothing built into the JDK.</p>\n"},{"tags":[],"owner":{"account_id":18694267,"reputation":1,"user_id":15114303,"display_name":"Paulo Barata"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637229383,"creation_date":1637064111,"answer_id":69988808,"question_id":10919568,"body_markdown":"As a workaround i have this method in my Utilities class\r\n\r\n         /**\r\n         * Retrieve the n position object of iterator \r\n         * @param iterator\r\n         * @param position\r\n         * @return Object at position\r\n         * @throws Exception \r\n         */\r\n        public static Object iterateTo(Iterator iterator, int position) throws Exception{\r\n            \r\n            if(iterator == null){\r\n                throw new Exception(&quot;iterator == null&quot;);\r\n            }\r\n\r\n            if(position &lt; 0){\r\n                throw new Exception(&quot;position &lt; 0&quot;);\r\n            }\r\n            \r\n            while(iterator.hasNext() &amp;&amp; position &gt; 0){\r\n                position--;\r\n                iterator.next();\r\n            }\r\n            \r\n            if(position != 0){\r\n                throw new Exception(&quot;position out of limit&quot;);\r\n            }\r\n            \r\n            return iterator.next();\r\n            \r\n        }\r\n\r\nso instead of this\r\n\r\n    {\r\n    List al = new ArrayList(myIterator);\r\n      myval = al.get(6);\r\n    }\r\n\r\nyou will have to\r\n\r\n\r\n    {\r\n    Object myVal = Utilities.iterateTo(myIterator, 6);\r\n    }","title":"How to randomly access data from a Java Iterator","body":"<p>As a workaround i have this method in my Utilities class</p>\n<pre><code>     /**\n     * Retrieve the n position object of iterator \n     * @param iterator\n     * @param position\n     * @return Object at position\n     * @throws Exception \n     */\n    public static Object iterateTo(Iterator iterator, int position) throws Exception{\n        \n        if(iterator == null){\n            throw new Exception(&quot;iterator == null&quot;);\n        }\n\n        if(position &lt; 0){\n            throw new Exception(&quot;position &lt; 0&quot;);\n        }\n        \n        while(iterator.hasNext() &amp;&amp; position &gt; 0){\n            position--;\n            iterator.next();\n        }\n        \n        if(position != 0){\n            throw new Exception(&quot;position out of limit&quot;);\n        }\n        \n        return iterator.next();\n        \n    }\n</code></pre>\n<p>so instead of this</p>\n<pre><code>{\nList al = new ArrayList(myIterator);\n  myval = al.get(6);\n}\n</code></pre>\n<p>you will have to</p>\n<pre><code>{\nObject myVal = Utilities.iterateTo(myIterator, 6);\n}\n</code></pre>\n"}],"owner":{"account_id":369023,"reputation":2342,"user_id":716154,"accept_rate":60,"display_name":"eze"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3828,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10919640,"answer_count":3,"score":1,"last_activity_date":1637229383,"creation_date":1339005546,"question_id":10919568,"body_markdown":"I get an Iterator back from a class and I would like to get the xth element of that iterator.  I know I could load it into an ArrayList in a loop or check a counter, but that seems inefficient/ugly.  What is the best way to do this?\r\n\r\nI thought something like, \r\n\r\n  \r\n\r\n    List al = new ArrayList(myIterator);\r\n      myval = al.get(6);\r\n\r\nBut that constructor is undefined.  thanks.","title":"How to randomly access data from a Java Iterator","body":"<p>I get an Iterator back from a class and I would like to get the xth element of that iterator.  I know I could load it into an ArrayList in a loop or check a counter, but that seems inefficient/ugly.  What is the best way to do this?</p>\n\n<p>I thought something like, </p>\n\n<pre><code>List al = new ArrayList(myIterator);\n  myval = al.get(6);\n</code></pre>\n\n<p>But that constructor is undefined.  thanks.</p>\n"},{"tags":["java","java-8","java-stream"],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637229070,"creation_date":1637229070,"answer_id":70017689,"question_id":70017641,"body_markdown":"Here&#39;s one way to do it:\r\n\r\n    List&lt;String&gt; strings = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n        strings.stream()\r\n               .peek(str -&gt; System.out.println(str))\r\n               .sorted()\r\n               .map(str -&gt; str.toUpperCase())\r\n               .forEach(str -&gt; System.out.println(str));\r\n\r\nThe `sorted()` operation must process all the elements of the `Stream` before the terminal operation can start outputting the elements (since you can&#39;t sort a `Stream` without going over all its elements).\r\n\r\nTherefore, this causes `peek()` on all the elements to be executed before the first upper case element is outputted by `forEach()`.","title":"Java 8 stream for each and peek","body":"<p>Here's one way to do it:</p>\n<pre><code>List&lt;String&gt; strings = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n    strings.stream()\n           .peek(str -&gt; System.out.println(str))\n           .sorted()\n           .map(str -&gt; str.toUpperCase())\n           .forEach(str -&gt; System.out.println(str));\n</code></pre>\n<p>The <code>sorted()</code> operation must process all the elements of the <code>Stream</code> before the terminal operation can start outputting the elements (since you can't sort a <code>Stream</code> without going over all its elements).</p>\n<p>Therefore, this causes <code>peek()</code> on all the elements to be executed before the first upper case element is outputted by <code>forEach()</code>.</p>\n"}],"owner":{"account_id":13909549,"reputation":37,"user_id":10043100,"display_name":"mihu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":515,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70017689,"answer_count":1,"score":2,"last_activity_date":1637229323,"creation_date":1637228912,"question_id":70017641,"body_markdown":"I stumbled upon a task with a stream that I couldn&#39;t solve. I had to modify the code to print `abcABC` instead of `aAbBcC`. \r\n\r\nI understand why it&#39;s printed this way. \r\n\r\n    // prints &#39;a b c&#39; then prints &#39;A B C&#39;\r\n    List&lt;String&gt; strings = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\r\n        strings.stream()\r\n               .peek(str -&gt; System.out.println(str))\r\n               .map(str -&gt; str.toUpperCase())\r\n               .forEach(str -&gt; System.out.println(str));\r\n\r\nI appreciate any help. \r\n\r\n\r\n\r\n  ","title":"Java 8 stream for each and peek","body":"<p>I stumbled upon a task with a stream that I couldn't solve. I had to modify the code to print <code>abcABC</code> instead of <code>aAbBcC</code>.</p>\n<p>I understand why it's printed this way.</p>\n<pre><code>// prints 'a b c' then prints 'A B C'\nList&lt;String&gt; strings = List.of(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;);\n    strings.stream()\n           .peek(str -&gt; System.out.println(str))\n           .map(str -&gt; str.toUpperCase())\n           .forEach(str -&gt; System.out.println(str));\n</code></pre>\n<p>I appreciate any help.</p>\n"},{"tags":["java","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":2070005,"reputation":1845,"user_id":1844706,"accept_rate":79,"display_name":"Andreas Hartmann"},"score":1,"creation_date":1637229298,"post_id":70017695,"comment_id":123772116,"body_markdown":"In terms of architecture this would be a bad idea. IDs should be permanently assigned. Just accept the &quot;gaps&quot;. Reassigning freed IDs can lead to lots of problems in the future including security issues.","body":"In terms of architecture this would be a bad idea. IDs should be permanently assigned. Just accept the &quot;gaps&quot;. Reassigning freed IDs can lead to lots of problems in the future including security issues."},{"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"score":0,"creation_date":1637229540,"post_id":70017695,"comment_id":123772221,"body_markdown":"There is no rule that sequences should be free of gaps. Everything is fine.","body":"There is no rule that sequences should be free of gaps. Everything is fine."},{"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"score":0,"creation_date":1637230261,"post_id":70017695,"comment_id":123772538,"body_markdown":"Oh ok, thanks both of you, I didn&#39;t now that, I will keep it in mind","body":"Oh ok, thanks both of you, I didn&#39;t now that, I will keep it in mind"}],"owner":{"account_id":10383212,"reputation":333,"user_id":7657219,"display_name":"Varox"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1799,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637229109,"creation_date":1637229109,"question_id":70017695,"body_markdown":"right now I have a class that has an id that has a sequence generator like this:\r\n\r\n    @Entity(name = &quot;OU&quot;)\r\n    @Table(\r\n        name = &quot;OU&quot;\r\n    )\r\n    public class OU{\r\n        @Id\r\n        @SequenceGenerator(\r\n            name = &quot;compania_sequence&quot;,\r\n            sequenceName = &quot;ou_sequence&quot;,\r\n            allocationSize = 1\r\n        )\r\n        @GeneratedValue(\r\n            strategy = GenerationType.SEQUENCE,\r\n            generator = &quot;ou_sequence&quot;\r\n        )\r\n        @Column(\r\n            nullable = false\r\n        )\r\n        private Long id;\r\n    \r\n    \r\n        @Column(\r\n            name = &quot;name&quot;,\r\n            nullable = false,\r\n            unique = true\r\n        )\r\n        private String name;\r\n\r\nMy problem is that the user, to select this object in a GET request, passes the id as an argument in the HTTP request. So let&#39;s say that we have over 200 entries and he deletes 5 of them (randomly), then I would have 5 &quot;empty&quot; id positions, so I was wondering if it is possible to reorder these ids every time there is a delete request or a post request to make it easier for the user to manage them.\r\n\r\nAnother thing that I&#39;ve seen is that when **I update the whole object it also increments the id** in the database, so the next id when I upload a new object is (n+1) instead of what it is supposed to be (n). Is this an error? I use \r\n\r\n    uoRepository.save(uo) //with the db id loaded\r\n\r\nI don&#39;t know if I&#39;m explaining it well\r\n\r\nThanks!","title":"Any way to reset or reorder auto increment id (sequence) in Spring boot api","body":"<p>right now I have a class that has an id that has a sequence generator like this:</p>\n<pre><code>@Entity(name = &quot;OU&quot;)\n@Table(\n    name = &quot;OU&quot;\n)\npublic class OU{\n    @Id\n    @SequenceGenerator(\n        name = &quot;compania_sequence&quot;,\n        sequenceName = &quot;ou_sequence&quot;,\n        allocationSize = 1\n    )\n    @GeneratedValue(\n        strategy = GenerationType.SEQUENCE,\n        generator = &quot;ou_sequence&quot;\n    )\n    @Column(\n        nullable = false\n    )\n    private Long id;\n\n\n    @Column(\n        name = &quot;name&quot;,\n        nullable = false,\n        unique = true\n    )\n    private String name;\n</code></pre>\n<p>My problem is that the user, to select this object in a GET request, passes the id as an argument in the HTTP request. So let's say that we have over 200 entries and he deletes 5 of them (randomly), then I would have 5 &quot;empty&quot; id positions, so I was wondering if it is possible to reorder these ids every time there is a delete request or a post request to make it easier for the user to manage them.</p>\n<p>Another thing that I've seen is that when <strong>I update the whole object it also increments the id</strong> in the database, so the next id when I upload a new object is (n+1) instead of what it is supposed to be (n). Is this an error? I use</p>\n<pre><code>uoRepository.save(uo) //with the db id loaded\n</code></pre>\n<p>I don't know if I'm explaining it well</p>\n<p>Thanks!</p>\n"},{"tags":["java","equals","hashcode","java-record"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1637228106,"post_id":70017400,"comment_id":123771582,"body_markdown":"You should be able to just override them (but read [this](https://stackoverflow.com/a/61719753/133203))","body":"You should be able to just override them (but read <a href=\"https://stackoverflow.com/a/61719753/133203\">this</a>)"},{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1637228202,"post_id":70017400,"comment_id":123771617,"body_markdown":"Records still act like regular classes, you can just add or override methods as you like. So create the equals/hashcode methods yourself.","body":"Records still act like regular classes, you can just add or override methods as you like. So create the equals/hashcode methods yourself."}],"answers":[{"tags":[],"owner":{"account_id":2825991,"reputation":2000,"user_id":2428631,"display_name":"McPringle"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637228936,"creation_date":1637228295,"answer_id":70017500,"question_id":70017400,"body_markdown":"Unfortunately, there is only one way to do this: You have to implement the methods yourself. Just overwrite these methods like you would do it with all other classes, too. In your own implementation, only use the properties you want. Your IDE usually helps you implement standard code and asks for the properties which should be included.\r\n\r\nAlternatively, you can use tools like Lombok with annotations instead of implementation:\r\n\r\n```java\r\n@Data\r\npublic class Data{\r\n    private int x;\r\n    private int y;\r\n    @EqualsAndHashCode.Exclude private int a;\r\n}\r\n```","title":"How to have a custom equals/hashCode for records?","body":"<p>Unfortunately, there is only one way to do this: You have to implement the methods yourself. Just overwrite these methods like you would do it with all other classes, too. In your own implementation, only use the properties you want. Your IDE usually helps you implement standard code and asks for the properties which should be included.</p>\n<p>Alternatively, you can use tools like Lombok with annotations instead of implementation:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Data\npublic class Data{\n    private int x;\n    private int y;\n    @EqualsAndHashCode.Exclude private int a;\n}\n</code></pre>\n"}],"owner":{"account_id":3695262,"reputation":8590,"user_id":3391490,"accept_rate":100,"display_name":"Thirumal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1847,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"closed_date":1637306121,"answer_count":1,"score":3,"last_activity_date":1637228936,"creation_date":1637227831,"question_id":70017400,"body_markdown":"I have a record like:\r\n\r\n```java\r\nrecord Data(int x, int y, int a) {}\r\n```\r\nIt gets default `equals` and `hashCode` methods.\r\n\r\n----------\r\n\r\nHow could I adjust those methods to have custom behavior? Lets say, I want to ignore `a` in the methods.","title":"How to have a custom equals/hashCode for records?","body":"<p>I have a record like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>record Data(int x, int y, int a) {}\n</code></pre>\n<p>It gets default <code>equals</code> and <code>hashCode</code> methods.</p>\n<hr />\n<p>How could I adjust those methods to have custom behavior? Lets say, I want to ignore <code>a</code> in the methods.</p>\n"},{"tags":["java","hibernate","ignite"],"comments":[{"owner":{"account_id":7292048,"reputation":1570,"user_id":5558122,"display_name":"Vladimir Pligin"},"score":0,"creation_date":1637233628,"post_id":70014204,"comment_id":123773874,"body_markdown":"what&#39;s the question? I can see only a stack trace without formatting. Could you please read the article. Briefly: ask a question, show personal research effort, format the question properly.","body":"what&#39;s the question? I can see only a stack trace without formatting. Could you please read the article. Briefly: ask a question, show personal research effort, format the question properly."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637436305,"post_id":70014204,"comment_id":123827710,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"owner":{"account_id":23373267,"reputation":1,"user_id":17443751,"display_name":"ShuerWang"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637228799,"creation_date":1637206028,"question_id":70014204,"body_markdown":"Exception in thread &quot;main&quot; javax.persistence.PersistenceException: [PersistenceUnit: igniteWithJpa] Unable to build Hibernate SessionFactory\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:970)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:895)\r\n\tat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\r\n\tat org.hibernate.ogm.jpa.HibernateOgmPersistence.createEntityManagerFactory(HibernateOgmPersistence.java:57)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\r\n\tat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\r\n\tat com.ignite.jpa.MainIgnite_jpa.StartApp.main(StartApp.java:17)\r\nCaused by: org.hibernate.HibernateException: OGM001709: Unable initialize cache &#39;Department&#39;\r\n\tat org.hibernate.ogm.datastore.ignite.impl.IgniteCacheInitializer.initializeEntities(IgniteCacheInitializer.java:85)\r\n\tat org.hibernate.ogm.datastore.ignite.impl.IgniteCacheInitializer.initializeSchema(IgniteCacheInitializer.java:63)\r\n\tat org.hibernate.ogm.service.impl.SchemaDefiningObserver.sessionFactoryCreated(SchemaDefiningObserver.java:42)\r\n\tat org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)\r\n\tat org.hibernate.internal.SessionFactoryImpl.&lt;init&gt;(SessionFactoryImpl.java:374)\r\n\tat org.hibernate.ogm.boot.impl.OgmSessionFactoryBuilderImpl.build(OgmSessionFactoryBuilderImpl.java:55)\r\n\tat org.hibernate.ogm.boot.impl.OgmSessionFactoryBuilderImpl.build(OgmSessionFactoryBuilderImpl.java:23)\r\n\tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:892)\r\n\t... 5 more\r\nCaused by: class org.apache.ignite.IgniteException: Can not perform the operation because the cluster is inactive. Note, that the cluster is considered inactive by default if Ignite Persistent Store is used to let all the nodes join the cluster. To activate the cluster call Ignite.active(true).\r\n\tat org.apache.ignite.internal.IgniteKernal.checkClusterState(IgniteKernal.java:3749)\r\n\tat org.apache.ignite.internal.IgniteKernal.cache(IgniteKernal.java:2746)\r\n\tat org.hibernate.ogm.datastore.ignite.impl.IgniteDatastoreProvider.getCache(IgniteDatastoreProvider.java:105)\r\n\tat org.hibernate.ogm.datastore.ignite.impl.IgniteDatastoreProvider.getEntityCache(IgniteDatastoreProvider.java:99)\r\n\tat org.hibernate.ogm.datastore.ignite.impl.IgniteCacheInitializer.initializeEntities(IgniteCacheInitializer.java:76)\r\n\t... 12 more","title":"hibernate-ogm-ignite-5.3.1.Final start ignite failed. Can not perform the operation because the cluster is inactive","body":"<p>Exception in thread &quot;main&quot; javax.persistence.PersistenceException: [PersistenceUnit: igniteWithJpa] Unable to build Hibernate SessionFactory\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.persistenceException(EntityManagerFactoryBuilderImpl.java:970)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:895)\nat org.hibernate.jpa.HibernatePersistenceProvider.createEntityManagerFactory(HibernatePersistenceProvider.java:58)\nat org.hibernate.ogm.jpa.HibernateOgmPersistence.createEntityManagerFactory(HibernateOgmPersistence.java:57)\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:55)\nat javax.persistence.Persistence.createEntityManagerFactory(Persistence.java:39)\nat com.ignite.jpa.MainIgnite_jpa.StartApp.main(StartApp.java:17)\nCaused by: org.hibernate.HibernateException: OGM001709: Unable initialize cache 'Department'\nat org.hibernate.ogm.datastore.ignite.impl.IgniteCacheInitializer.initializeEntities(IgniteCacheInitializer.java:85)\nat org.hibernate.ogm.datastore.ignite.impl.IgniteCacheInitializer.initializeSchema(IgniteCacheInitializer.java:63)\nat org.hibernate.ogm.service.impl.SchemaDefiningObserver.sessionFactoryCreated(SchemaDefiningObserver.java:42)\nat org.hibernate.internal.SessionFactoryObserverChain.sessionFactoryCreated(SessionFactoryObserverChain.java:35)\nat org.hibernate.internal.SessionFactoryImpl.(SessionFactoryImpl.java:374)\nat org.hibernate.ogm.boot.impl.OgmSessionFactoryBuilderImpl.build(OgmSessionFactoryBuilderImpl.java:55)\nat org.hibernate.ogm.boot.impl.OgmSessionFactoryBuilderImpl.build(OgmSessionFactoryBuilderImpl.java:23)\nat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:892)\n... 5 more\nCaused by: class org.apache.ignite.IgniteException: Can not perform the operation because the cluster is inactive. Note, that the cluster is considered inactive by default if Ignite Persistent Store is used to let all the nodes join the cluster. To activate the cluster call Ignite.active(true).\nat org.apache.ignite.internal.IgniteKernal.checkClusterState(IgniteKernal.java:3749)\nat org.apache.ignite.internal.IgniteKernal.cache(IgniteKernal.java:2746)\nat org.hibernate.ogm.datastore.ignite.impl.IgniteDatastoreProvider.getCache(IgniteDatastoreProvider.java:105)\nat org.hibernate.ogm.datastore.ignite.impl.IgniteDatastoreProvider.getEntityCache(IgniteDatastoreProvider.java:99)\nat org.hibernate.ogm.datastore.ignite.impl.IgniteCacheInitializer.initializeEntities(IgniteCacheInitializer.java:76)\n... 12 more</p>\n"},{"tags":["java","javafx","graphstream"],"comments":[{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1637080377,"post_id":69992191,"comment_id":123727864,"body_markdown":"[mcve] please ..","body":"<a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> please .."},{"owner":{"account_id":18828844,"reputation":61,"user_id":13733120,"display_name":"GRETA "},"score":0,"creation_date":1637081048,"post_id":69992191,"comment_id":123728138,"body_markdown":"@kleopatra i asked only if it is a problem that type of message........","body":"@kleopatra i asked only if it is a problem that type of message........"},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":1,"creation_date":1637084146,"post_id":69992191,"comment_id":123729467,"body_markdown":"Graph stream provide you with info on how to get help; You may also share your questions on the mailing list at http://sympa.litislab.fr/sympa/subscribe/graphstream-users from their website https://github.com/graphstream/gs-ui-javafx section titled Help.","body":"Graph stream provide you with info on how to get help; You may also share your questions on the mailing list at <a href=\"http://sympa.litislab.fr/sympa/subscribe/graphstream-users\" rel=\"nofollow noreferrer\">sympa.litislab.fr/sympa/subscribe/graphstream-users</a> from their website <a href=\"https://github.com/graphstream/gs-ui-javafx\" rel=\"nofollow noreferrer\">github.com/graphstream/gs-ui-javafx</a> section titled Help."}],"answers":[{"tags":[],"owner":{"account_id":18828844,"reputation":61,"user_id":13733120,"display_name":"GRETA "},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637228660,"creation_date":1637227247,"answer_id":70017272,"question_id":69992191,"body_markdown":"For anyone who might have the same question, here is the answer from the team of GraphStream:\r\n\r\n&gt; That message is emitted by the LayoutRunner that handles the graph layout in a different thread. That thread is stopped when you disable the auto layout. And as the log category says, it&#39;s just info, so nothing to worry about.\r\n","title":"org.graphstream.ui.layout.LayoutRunner run INFO: Layout &#39;SpringBox&#39; process stopped. Is it a problem?","body":"<p>For anyone who might have the same question, here is the answer from the team of GraphStream:</p>\n<blockquote>\n<p>That message is emitted by the LayoutRunner that handles the graph layout in a different thread. That thread is stopped when you disable the auto layout. And as the log category says, it's just info, so nothing to worry about.</p>\n</blockquote>\n"}],"owner":{"account_id":18828844,"reputation":61,"user_id":13733120,"display_name":"GRETA "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70017272,"answer_count":1,"score":0,"last_activity_date":1637228660,"creation_date":1637077731,"question_id":69992191,"body_markdown":"I use GraphStream in my application and to show graphs I use a FXViewer for every graph.\r\nInitially I want to show the different graphs, without setting positions of nodes, so I use the enableAutoLayout() method: \r\n\r\n     ArrayList&lt;FxViewer&gt; viewers = new ArrayList&lt;&gt;();\r\n     foreach(Graph graph : graphList) {\r\n     FxViewer viewer = new FxViewer(graph, FxViewer.ThreadingModel.GRAPH_IN_GUI_THREAD);\r\n     viewer.addView(graph.getId(), new FxGraphRenderer());\r\n     viewer.enableAutoLayout();\r\n     viewers.add(viewer);\r\n     }\r\n\r\n\r\nNext, I want to show the same graphs but with fixed positions setted manually and so, for every graph, I disable the autoLayout to the related FXViewer.\r\n    \r\n\r\n    viewers.forEach(Viewer::disableAutoLayout);\r\n    \r\n\r\nBut, for every time I disable the autoLayout to a FXViewer in my console appears this message:\r\n\r\n    org.graphstream.ui.layout.LayoutRunner run\r\n    INFO: Layout &#39;SpringBox&#39; process stopped.\r\n\r\nIs it a problem? Should I do something or I can just ignore this message?","title":"org.graphstream.ui.layout.LayoutRunner run INFO: Layout &#39;SpringBox&#39; process stopped. Is it a problem?","body":"<p>I use GraphStream in my application and to show graphs I use a FXViewer for every graph.\nInitially I want to show the different graphs, without setting positions of nodes, so I use the enableAutoLayout() method:</p>\n<pre><code> ArrayList&lt;FxViewer&gt; viewers = new ArrayList&lt;&gt;();\n foreach(Graph graph : graphList) {\n FxViewer viewer = new FxViewer(graph, FxViewer.ThreadingModel.GRAPH_IN_GUI_THREAD);\n viewer.addView(graph.getId(), new FxGraphRenderer());\n viewer.enableAutoLayout();\n viewers.add(viewer);\n }\n</code></pre>\n<p>Next, I want to show the same graphs but with fixed positions setted manually and so, for every graph, I disable the autoLayout to the related FXViewer.</p>\n<pre><code>viewers.forEach(Viewer::disableAutoLayout);\n</code></pre>\n<p>But, for every time I disable the autoLayout to a FXViewer in my console appears this message:</p>\n<pre><code>org.graphstream.ui.layout.LayoutRunner run\nINFO: Layout 'SpringBox' process stopped.\n</code></pre>\n<p>Is it a problem? Should I do something or I can just ignore this message?</p>\n"},{"tags":["java","android","kotlin"],"comments":[{"owner":{"account_id":4833243,"reputation":780,"user_id":3900842,"display_name":"Shalan93"},"score":0,"creation_date":1637481478,"post_id":70017232,"comment_id":123833917,"body_markdown":"did you mean close all other activities in the stack?","body":"did you mean close all other activities in the stack?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1637494190,"post_id":70017232,"comment_id":123836027,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":3391304,"reputation":785,"user_id":5633418,"display_name":"Lan Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637228490,"creation_date":1637228490,"answer_id":70017540,"question_id":70017232,"body_markdown":"Yes, you can. Just need to start your MainActivity with theses flags: Intent.FLAG_ACTIVITY_CLEAR_TOP |  FLAG_ACTIVITY_NEW_TASK. ","title":"Finishing all other activities while keeping MainActivity running","body":"<p>Yes, you can. Just need to start your MainActivity with theses flags: Intent.FLAG_ACTIVITY_CLEAR_TOP |  FLAG_ACTIVITY_NEW_TASK.</p>\n"}],"owner":{"account_id":23376880,"reputation":1,"user_id":17445975,"display_name":"Leadar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637228490,"creation_date":1637227039,"question_id":70017232,"body_markdown":"First, I&#39;ve seen all other questions and answers regarding something similar to this but what I need is a bit different.\r\n\r\nI need to be able to close all running activities in the background (They are running a thread and when I go back to MainActivity they are still running)\r\n\r\nSo what I want is when I return to MainActivity I need OnResume to clear or at least finish all the other activities running without running a new activity or closing the MainActivity.\r\n\r\nIs this possible?","title":"Finishing all other activities while keeping MainActivity running","body":"<p>First, I've seen all other questions and answers regarding something similar to this but what I need is a bit different.</p>\n<p>I need to be able to close all running activities in the background (They are running a thread and when I go back to MainActivity they are still running)</p>\n<p>So what I want is when I return to MainActivity I need OnResume to clear or at least finish all the other activities running without running a new activity or closing the MainActivity.</p>\n<p>Is this possible?</p>\n"},{"tags":["java","jsp","servlets","request"],"comments":[{"owner":{"account_id":6471354,"reputation":1382,"user_id":5011400,"accept_rate":78,"display_name":"Yati Sawhney"},"score":0,"creation_date":1528269912,"post_id":50714411,"comment_id":88437693,"body_markdown":"`RequestDispatcher` will send your request to `/WebAppOpe/model.jsp?&lt;some_value&gt;`\nIs that your calling jsp??","body":"<code>RequestDispatcher</code> will send your request to <code>&#47;WebAppOpe&#47;model.jsp?&lt;some_value&gt;</code> Is that your calling jsp??"},{"owner":{"account_id":8729143,"reputation":311,"user_id":6529830,"display_name":"David Enoma"},"score":0,"creation_date":1528270468,"post_id":50714411,"comment_id":88438006,"body_markdown":"Yes, that is my calling jsp","body":"Yes, that is my calling jsp"},{"owner":{"account_id":2674965,"reputation":801,"user_id":2311567,"display_name":"Tiago Mussi"},"score":0,"creation_date":1528270722,"post_id":50714411,"comment_id":88438149,"body_markdown":"Have you tried only with response.sendRedirect(&quot;...&quot;);. I mean, without RequestDispatcher lines? Maybe add it (response.sendRedirect(&quot;...&quot;)) to a finally block.","body":"Have you tried only with response.sendRedirect(&quot;...&quot;);. I mean, without RequestDispatcher lines? Maybe add it (response.sendRedirect(&quot;...&quot;)) to a finally block."},{"owner":{"account_id":8729143,"reputation":311,"user_id":6529830,"display_name":"David Enoma"},"score":0,"creation_date":1575334245,"post_id":50714411,"comment_id":104522993,"body_markdown":"no I have not done so, the solution by lucumt worked fine. Thanks for your comment tiago.","body":"no I have not done so, the solution by lucumt worked fine. Thanks for your comment tiago."}],"answers":[{"tags":[],"owner":{"account_id":3830865,"reputation":13432,"user_id":3176419,"accept_rate":50,"display_name":"flyingfox"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1528271921,"creation_date":1528271921,"answer_id":50715115,"question_id":50714411,"body_markdown":"Since you just want to refresh the current page,`ajax` is a better choice for you.\r\n\r\nFor you current design,both `forward` and `redirect` are okay,but something need to pay attention:\r\n\r\n\r\n 1. if you use `redirect`,you can set parameters via the url\r\n\r\n 2. after `forward` or `redirect`,you need to query the exits comments,which means that you had can either `redirect` to a new url and query data, or query the data before `forward`. ","title":"Redirect a JSP request to itself after executing in a Servlet","body":"<p>Since you just want to refresh the current page,<code>ajax</code> is a better choice for you.</p>\n\n<p>For you current design,both <code>forward</code> and <code>redirect</code> are okay,but something need to pay attention:</p>\n\n<ol>\n<li><p>if you use <code>redirect</code>,you can set parameters via the url</p></li>\n<li><p>after <code>forward</code> or <code>redirect</code>,you need to query the exits comments,which means that you had can either <code>redirect</code> to a new url and query data, or query the data before <code>forward</code>. </p></li>\n</ol>\n"}],"owner":{"account_id":8729143,"reputation":311,"user_id":6529830,"display_name":"David Enoma"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1479,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"accepted_answer_id":50715115,"answer_count":1,"score":-2,"last_activity_date":1637227987,"creation_date":1528269582,"question_id":50714411,"body_markdown":"I am trying to return a JSP request back to the calling Page with the help of a Java servlet class. \r\nThis means that after adding a comment on a JSP page, the comment reappears on the JSP page as well after sending the request object to the servlet.\r\nThis is the calling JSP code:\r\n\r\n     &lt;form action=&quot;/WebAppOpe/UploadComments&quot; method=&quot;post&quot;&gt;\r\n                            &lt;textarea name=&quot;comment&quot; placeholder=&quot;Comment&quot; column=&quot;10&quot;&gt;&lt;/textarea&gt;\r\n                            &lt;input type=&quot;submit&quot; value=&quot;Post Comment&quot; class=&quot;btn-login&quot; name=&quot;btn_post&quot; /&gt;\r\n                            &lt;input type =&quot;hidden&quot; name=&quot;carIdComment&quot; value=&quot;${car.carId}&quot; /&gt;\r\n     &lt;/form&gt;\r\n\r\nAnd this is the servlet code of the UploadComments URI for sending the request back to the source.\r\n\r\n            RequestDispatcher rd = request.getRequestDispatcher(&quot;model.jsp?&quot; + request.getParameter(&quot;carIdComment&quot;));\r\n            rd.forward(request, response);\r\n            response.sendRedirect(&quot;model.jsp?&quot;+  request.getParameter(&quot;carIdComment&quot;));\r\n","title":"Redirect a JSP request to itself after executing in a Servlet","body":"<p>I am trying to return a JSP request back to the calling Page with the help of a Java servlet class.\nThis means that after adding a comment on a JSP page, the comment reappears on the JSP page as well after sending the request object to the servlet.\nThis is the calling JSP code:</p>\n<pre><code> &lt;form action=&quot;/WebAppOpe/UploadComments&quot; method=&quot;post&quot;&gt;\n                        &lt;textarea name=&quot;comment&quot; placeholder=&quot;Comment&quot; column=&quot;10&quot;&gt;&lt;/textarea&gt;\n                        &lt;input type=&quot;submit&quot; value=&quot;Post Comment&quot; class=&quot;btn-login&quot; name=&quot;btn_post&quot; /&gt;\n                        &lt;input type =&quot;hidden&quot; name=&quot;carIdComment&quot; value=&quot;${car.carId}&quot; /&gt;\n &lt;/form&gt;\n</code></pre>\n<p>And this is the servlet code of the UploadComments URI for sending the request back to the source.</p>\n<pre><code>        RequestDispatcher rd = request.getRequestDispatcher(&quot;model.jsp?&quot; + request.getParameter(&quot;carIdComment&quot;));\n        rd.forward(request, response);\n        response.sendRedirect(&quot;model.jsp?&quot;+  request.getParameter(&quot;carIdComment&quot;));\n</code></pre>\n"},{"tags":["java","minecraft"],"answers":[{"tags":[],"owner":{"account_id":15178500,"reputation":4190,"user_id":10952503,"display_name":"Elikill58"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637152436,"creation_date":1637152436,"answer_id":70004507,"question_id":70003774,"body_markdown":"Firstly, you should check that this listener is will registered. So in your main class, don&#39;t forget to add :\r\n\r\n```java\r\n@Override\r\npublic void onEnable() {\r\n    getServer().getPluginManager().registerEvents(new HerrDesWindesTalisman(), this);\r\n}\r\n```\r\n\r\nAlso, the size of inventory should be between 9 and 54, and a multiple of 9.\r\n\r\nActually, you are using &quot;27 * 9&quot;. I think you was thinking about a size of 27 (so 9 * 3). Do it, use this line:\r\n\r\n    Inventory inv = Bukkit.createInventory(p, 27, &quot;Ziele&quot;);","title":"Minecraft Spigot, PlayerInteractEvent cannot be passed","body":"<p>Firstly, you should check that this listener is will registered. So in your main class, don't forget to add :</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Override\npublic void onEnable() {\n    getServer().getPluginManager().registerEvents(new HerrDesWindesTalisman(), this);\n}\n</code></pre>\n<p>Also, the size of inventory should be between 9 and 54, and a multiple of 9.</p>\n<p>Actually, you are using &quot;27 * 9&quot;. I think you was thinking about a size of 27 (so 9 * 3). Do it, use this line:</p>\n<pre><code>Inventory inv = Bukkit.createInventory(p, 27, &quot;Ziele&quot;);\n</code></pre>\n"}],"owner":{"account_id":23366062,"reputation":5,"user_id":17437688,"display_name":"Daniel260"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":226,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70004507,"answer_count":1,"score":0,"last_activity_date":1637227547,"creation_date":1637149339,"question_id":70003774,"body_markdown":"I&#39;ve got a problem with my Spigot Plugin for the 1.17.1. I tried to implement an event when a totem of undying is clicked that it would open an inventory. After couple of hours and reading some posts, nothing helped me and I&#39;m stuck. Can anybody help me?\r\n\r\nHere&#39;s my code:\r\n\r\n    public class HerrDesWindesTalisman implements Listener{\r\n\t\r\n\t@EventHandler\r\n\tpublic void onPlayerInteract (PlayerInteractEvent e) {\r\n\t\tPlayer p = e.getPlayer();\r\n\t\tAction a = e.getAction();\r\n\t\tif(a.equals(Action.RIGHT_CLICK_AIR)  || a.equals(Action.RIGHT_CLICK_BLOCK)) {\r\n\t\t\tp.sendMessage(&quot;Warpmen&#252;&quot;);\r\n\t\t\tif(e.getItem() != null &amp;&amp; e.getItem().getType().equals(Material.TOTEM_OF_UNDYING)) {\r\n\t\t\t\tInventory inv = Bukkit.createInventory(p, 27*9, &quot;Ziele&quot;);\r\n\t\t\t\tItemStack item1 = new ItemStack(Material.ACACIA_DOOR);\r\n\t\t\t\tItemMeta imeta1 = item1.getItemMeta();\r\n\t\t\t\timeta1.setDisplayName(&quot;Reise nach Irgendwo&quot;);\r\n\t\t\t\titem1.setItemMeta(imeta1);\r\n\t\t\t\tinv.setItem(5, item1);\r\n\t\t\t\tp.openInventory(inv);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n}\r\n","title":"Minecraft Spigot, PlayerInteractEvent cannot be passed","body":"<p>I've got a problem with my Spigot Plugin for the 1.17.1. I tried to implement an event when a totem of undying is clicked that it would open an inventory. After couple of hours and reading some posts, nothing helped me and I'm stuck. Can anybody help me?</p>\n<p>Here's my code:</p>\n<pre><code>public class HerrDesWindesTalisman implements Listener{\n\n@EventHandler\npublic void onPlayerInteract (PlayerInteractEvent e) {\n    Player p = e.getPlayer();\n    Action a = e.getAction();\n    if(a.equals(Action.RIGHT_CLICK_AIR)  || a.equals(Action.RIGHT_CLICK_BLOCK)) {\n        p.sendMessage(&quot;Warpmen&quot;);\n        if(e.getItem() != null &amp;&amp; e.getItem().getType().equals(Material.TOTEM_OF_UNDYING)) {\n            Inventory inv = Bukkit.createInventory(p, 27*9, &quot;Ziele&quot;);\n            ItemStack item1 = new ItemStack(Material.ACACIA_DOOR);\n            ItemMeta imeta1 = item1.getItemMeta();\n            imeta1.setDisplayName(&quot;Reise nach Irgendwo&quot;);\n            item1.setItemMeta(imeta1);\n            inv.setItem(5, item1);\n            p.openInventory(inv);\n            \n        }\n        \n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","c++","java-native-interface"],"comments":[{"owner":{"account_id":17340051,"reputation":157,"user_id":12560952,"display_name":"Raii"},"score":0,"creation_date":1623505955,"post_id":9995148,"comment_id":120100920,"body_markdown":"I am new to jni, what is the aim of using callbackEnv ? Can&#39;t we keep using (*env).CallVoidMethod(coolObj, methodId, x, y); ??","body":"I am new to jni, what is the aim of using callbackEnv ? Can&#39;t we keep using (*env).CallVoidMethod(coolObj, methodId, x, y); ??"}],"answers":[{"tags":[],"owner":{"account_id":1286813,"reputation":4706,"user_id":1239718,"accept_rate":67,"display_name":"shem"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637227455,"creation_date":1333463094,"answer_id":9995288,"question_id":9995148,"body_markdown":"You can&#39;t reuse your JNIenv, cause it&#39;s specific to the function that created it (it&#39;s thread, scope and all).\r\nfor getting a valid JNIenv for calling an java method from your callback you have to\r\nuse JNI_GetCreatedJavaVMs() and AttachCurrentThread()\r\n\r\nmore information here:\r\nhttps://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/invocation.html","title":"Calling Java methods asynchronously using JNI","body":"<p>You can't reuse your JNIenv, cause it's specific to the function that created it (it's thread, scope and all).\nfor getting a valid JNIenv for calling an java method from your callback you have to\nuse JNI_GetCreatedJavaVMs() and AttachCurrentThread()</p>\n<p>more information here:\n<a href=\"https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/invocation.html\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/8/docs/technotes/guides/jni/spec/invocation.html</a></p>\n"}],"owner":{"account_id":895521,"reputation":1924,"user_id":932899,"accept_rate":72,"display_name":"Ruuhkis"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2512,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":9995288,"answer_count":1,"score":0,"last_activity_date":1637227455,"creation_date":1333462578,"question_id":9995148,"body_markdown":"I&#39;ve been trying to get familiar with JNI and its functionality. I am trying to figure out how could I possibly keep reference to the Java environment. I am first calling native method that stores creates &quot;NewGlobalRef&quot; from the jobject and it works fine for a while. But then all the sudden I receive fatal error and log. I am pretty sure garbage collector removes something, even if I am keeping reference to the object all the time in both sides.\r\n\r\nWhat I am doing atm is this\r\n\r\nI call native method\r\n\r\n    myCoolObject.nativeMethod(otherCoolObject);\r\nI am keeping reference to otherCoolObject all the time on java side. What the native method does is\r\n\r\n\tJNIEXPORT void JNICALL Java_HelloWorld_nativeMethod(JNIEnv *env, jobject obj , jobject otherCoolObject) {\r\n\t\tcout &lt;&lt; &quot;Called native method!&quot; &lt;&lt; endl;\r\n\t\tcoolObj = env-&gt;NewGlobalRef(otherCoolObject);\r\n\t\tclazz = (*env).GetObjectClass(coolObj;\r\n\t\tcallbackEnv = env;\r\n\t\tmethodId = (*env).GetMethodID(clazz, &quot;callback&quot;, &quot;(II)V&quot;);\r\n\t\tjint x = 1;\r\n\t\tjint y = 2;\r\n\t\t(*callbackEnv).CallVoidMethod(coolObj, methodId, x, y);\r\n\t}\r\n\r\nand I can call the method after this for a while but all the sudden it gives me fatal error I told you about","title":"Calling Java methods asynchronously using JNI","body":"<p>I've been trying to get familiar with JNI and its functionality. I am trying to figure out how could I possibly keep reference to the Java environment. I am first calling native method that stores creates \"NewGlobalRef\" from the jobject and it works fine for a while. But then all the sudden I receive fatal error and log. I am pretty sure garbage collector removes something, even if I am keeping reference to the object all the time in both sides.</p>\n\n<p>What I am doing atm is this</p>\n\n<p>I call native method</p>\n\n<pre><code>myCoolObject.nativeMethod(otherCoolObject);\n</code></pre>\n\n<p>I am keeping reference to otherCoolObject all the time on java side. What the native method does is</p>\n\n<pre><code>JNIEXPORT void JNICALL Java_HelloWorld_nativeMethod(JNIEnv *env, jobject obj , jobject otherCoolObject) {\n    cout &lt;&lt; \"Called native method!\" &lt;&lt; endl;\n    coolObj = env-&gt;NewGlobalRef(otherCoolObject);\n    clazz = (*env).GetObjectClass(coolObj;\n    callbackEnv = env;\n    methodId = (*env).GetMethodID(clazz, \"callback\", \"(II)V\");\n    jint x = 1;\n    jint y = 2;\n    (*callbackEnv).CallVoidMethod(coolObj, methodId, x, y);\n}\n</code></pre>\n\n<p>and I can call the method after this for a while but all the sudden it gives me fatal error I told you about</p>\n"},{"tags":["java","amazon-web-services","scala","apache-spark","amazon-emr"],"comments":[{"owner":{"account_id":9145961,"reputation":4103,"user_id":6802156,"display_name":"Emiliano Martinez"},"score":0,"creation_date":1630443683,"post_id":68998112,"comment_id":121957069,"body_markdown":"The problem is related to the spark-nlp Bert graph. I see that you have included an assembly which corresponds to spark-nlp. That package includes the graph to execute the Bert encoder annotation. You have to check if the assembly is built ok (the TF graph is included), because the spark workers need to load the TF graph.","body":"The problem is related to the spark-nlp Bert graph. I see that you have included an assembly which corresponds to spark-nlp. That package includes the graph to execute the Bert encoder annotation. You have to check if the assembly is built ok (the TF graph is included), because the spark workers need to load the TF graph."},{"owner":{"account_id":4777997,"reputation":1301,"user_id":3860596,"accept_rate":75,"display_name":"mbaxi"},"score":0,"creation_date":1635502865,"post_id":68998112,"comment_id":123321615,"body_markdown":"@EmilianoMartinez can you provide more context, when I run same code in another env it works fine, fails only in one particular env, even works fine in spark local mode so I believe jars and dependency are fine","body":"@EmilianoMartinez can you provide more context, when I run same code in another env it works fine, fails only in one particular env, even works fine in spark local mode so I believe jars and dependency are fine"}],"answers":[{"tags":[],"owner":{"account_id":4777997,"reputation":1301,"user_id":3860596,"accept_rate":75,"display_name":"mbaxi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637227400,"creation_date":1637227400,"answer_id":70017303,"question_id":68998112,"body_markdown":"The solution to this issue is use kryo serialization, the default spark-shell or spark-submit invocation is using java serialization, the Annotate class in spark-nlp is implemented to use Kryo Serialization hence same should be used for running any spark-nlp jobs ","title":"TensorFlowException: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for /mnt/yarn/usercache","body":"<p>The solution to this issue is use kryo serialization, the default spark-shell or spark-submit invocation is using java serialization, the Annotate class in spark-nlp is implemented to use Kryo Serialization hence same should be used for running any spark-nlp jobs</p>\n"}],"owner":{"account_id":22616327,"reputation":13,"user_id":16795798,"display_name":"mohit"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70017303,"answer_count":1,"score":0,"last_activity_date":1637227400,"creation_date":1630410387,"question_id":68998112,"body_markdown":"I am trying to run &quot;onto_electra_base_uncased&quot; model on some data stored in hive table,\r\nI ran count() on df before saving the data into hive table and got this exception.\r\n\r\nSpark Shell launch configurations:\r\n```\r\nspark-shell spark.ui.port=&quot;4052&quot;  --driver-memory 20g --executor-memory 45g  --conf spark.driver.memoryOverhead=4g --conf spark.executor.memoryOverhead=4g spark.driver.extraClassPath=&quot;spark-nlp-assembly-2.7.5.jar,bdl-voltage.jar,vibesimplejava.jar,voltage-hadoop-5.0.0.jar,vsconfig.jar&quot; spark.executor.extraClassPath=&quot;spark-nlp-assembly-2.7.5.jar,bdl-voltage.jar,vibesimplejava.jar,voltage-hadoop-5.0.0.jar,vsconfig.jar&quot; --jars &quot;spark-nlp-assembly-2.7.5.jar,bdl-voltage.jar,vibesimplejava.jar,voltage-hadoop-5.0.0.jar,vsconfig.jar&quot;\r\n```\r\nException:\r\n```\r\nscala&gt; nonNullPerson.count()\r\n[Stage 9:&gt;                                                        (0 + 8) / 200]21/08/23 10:07:23 WARN TaskSetManager: Lost task 4.0 in stage 9.0 (TID 309, ip-10-237-133-245.ec2.internal, executor 2): org.apache.spark.SparkException: Failed to execute user defined function($anonfun$dfAnnotate$1: (array&lt;array&lt;struct&lt;annotatorType:string,begin:int,end:int,result:string,metadata:map&lt;string,string&gt;,embeddings:array&lt;float&gt;&gt;&gt;&gt;) =&gt; array&lt;struct&lt;annotatorType:string,begin:int,end:int,result:string,metadata:map&lt;string,string&gt;,embeddings:array&lt;float&gt;&gt;&gt;)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.serializefromobject_doConsume_1$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.mapelements_doConsume_1$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.deserializetoobject_doConsume_1$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.serializefromobject_doConsume_0$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.mapelements_doConsume_0$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.deserializetoobject_doConsume_0$(Unknown Source)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.processNext(Unknown Source)\r\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$13$$anon$1.hasNext(WholeStageCodegenExec.scala:636)\r\n        at scala.collection.Iterator$$anon$12.hasNext(Iterator.scala:440)\r\n        at scala.collection.Iterator$JoinIterator.hasNext(Iterator.scala:212)\r\n        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:409)\r\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage5.processNext(Unknown Source)\r\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\r\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$13$$anon$1.hasNext(WholeStageCodegenExec.scala:636)\r\n        at org.apache.spark.sql.execution.aggregate.ObjectHashAggregateExec$$anonfun$doExecute$1$$anonfun$2.apply(ObjectHashAggregateExec.scala:107)\r\n        at org.apache.spark.sql.execution.aggregate.ObjectHashAggregateExec$$anonfun$doExecute$1$$anonfun$2.apply(ObjectHashAggregateExec.scala:105)\r\n        at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndexInternal$1$$anonfun$12.apply(RDD.scala:823)\r\n        at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndexInternal$1$$anonfun$12.apply(RDD.scala:823)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:288)\r\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\r\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324)\r\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:288)\r\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\r\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:55)\r\n        at org.apache.spark.scheduler.Task.run(Task.scala:123)\r\n        at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)\r\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\r\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n        at java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.io.IOException: org.tensorflow.TensorFlowException: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for /mnt/yarn/usercache/hadoop/appcache/application_1629712606577_0001/container_1629712606577_0001_01_000003/tmp/7e8b5bbda7f3_ner3970436258867963111/variables\r\n         [[{{node save/RestoreV2}}]]\r\n        at org.apache.spark.util.Utils$.tryOrIOException(Utils.scala:1333)\r\n        at org.apache.spark.broadcast.TorrentBroadcast.readBroadcastBlock(TorrentBroadcast.scala:207)\r\n        at org.apache.spark.broadcast.TorrentBroadcast._value$lzycompute(TorrentBroadcast.scala:66)\r\n        at org.apache.spark.broadcast.TorrentBroadcast._value(TorrentBroadcast.scala:66)\r\n        at org.apache.spark.broadcast.TorrentBroadcast.getValue(TorrentBroadcast.scala:96)\r\n        at org.apache.spark.broadcast.Broadcast.value(Broadcast.scala:70)\r\n        at com.johnsnowlabs.nlp.embeddings.BertEmbeddings.getModelIfNotSet(BertEmbeddings.scala:172)\r\n        at com.johnsnowlabs.nlp.embeddings.BertEmbeddings.annotate(BertEmbeddings.scala:223)\r\n        at com.johnsnowlabs.nlp.AnnotatorModel$$anonfun$dfAnnotate$1.apply(AnnotatorModel.scala:35)\r\n        at com.johnsnowlabs.nlp.AnnotatorModel$$anonfun$dfAnnotate$1.apply(AnnotatorModel.scala:34)\r\n        ... 34 more\r\nCaused by: org.tensorflow.TensorFlowException: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for /mnt/yarn/usercache/hadoop/appcache/application_1629712606577_0001/container_1629712606577_0001_01_000003/tmp/7e8b5bbda7f3_ner3970436258867963111/variables\r\n         [[{{node save/RestoreV2}}]]\r\n        at org.tensorflow.Session.run(Native Method)\r\n        at org.tensorflow.Session.access$100(Session.java:48)\r\n        at org.tensorflow.Session$Runner.runHelper(Session.java:326)\r\n        at org.tensorflow.Session$Runner.run(Session.java:276)\r\n        at com.johnsnowlabs.ml.tensorflow.TensorflowWrapper$.read(TensorflowWrapper.scala:325)\r\n        at com.johnsnowlabs.ml.tensorflow.TensorflowWrapper.readObject(TensorflowWrapper.scala:248)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.lang.reflect.Method.invoke(Method.java:498)\r\n        at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\r\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2295)\r\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2186)\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1666)\r\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2404)\r\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2328)\r\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2186)\r\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1666)\r\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:502)\r\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:460)\r\n        at org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:75)\r\n        at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$8.apply(TorrentBroadcast.scala:308)\r\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)\r\n        at org.apache.spark.broadcast.TorrentBroadcast$.unBlockifyObject(TorrentBroadcast.scala:309)\r\n        at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$readBroadcastBlock$1$$anonfun$apply$2.apply(TorrentBroadcast.scala:235)\r\n        at scala.Option.getOrElse(Option.scala:121)\r\n        at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$readBroadcastBlock$1.apply(TorrentBroadcast.scala:211)\r\n        at org.apache.spark.util.Utils$.tryOrIOException(Utils.scala:1326)\r\n        ... 43 more\r\n```\r\nI&#39;m running this on EMR and its configuration is:\r\n\r\n - Master(1) -&gt; r5.2xlarge\r\n - Core(2) -&gt; r5.4xlarge\r\n - Task(1) -&gt; r5.4xlarge\r\n","title":"TensorFlowException: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for /mnt/yarn/usercache","body":"<p>I am trying to run &quot;onto_electra_base_uncased&quot; model on some data stored in hive table,\nI ran count() on df before saving the data into hive table and got this exception.</p>\n<p>Spark Shell launch configurations:</p>\n<pre><code>spark-shell spark.ui.port=&quot;4052&quot;  --driver-memory 20g --executor-memory 45g  --conf spark.driver.memoryOverhead=4g --conf spark.executor.memoryOverhead=4g spark.driver.extraClassPath=&quot;spark-nlp-assembly-2.7.5.jar,bdl-voltage.jar,vibesimplejava.jar,voltage-hadoop-5.0.0.jar,vsconfig.jar&quot; spark.executor.extraClassPath=&quot;spark-nlp-assembly-2.7.5.jar,bdl-voltage.jar,vibesimplejava.jar,voltage-hadoop-5.0.0.jar,vsconfig.jar&quot; --jars &quot;spark-nlp-assembly-2.7.5.jar,bdl-voltage.jar,vibesimplejava.jar,voltage-hadoop-5.0.0.jar,vsconfig.jar&quot;\n</code></pre>\n<p>Exception:</p>\n<pre><code>scala&gt; nonNullPerson.count()\n[Stage 9:&gt;                                                        (0 + 8) / 200]21/08/23 10:07:23 WARN TaskSetManager: Lost task 4.0 in stage 9.0 (TID 309, ip-10-237-133-245.ec2.internal, executor 2): org.apache.spark.SparkException: Failed to execute user defined function($anonfun$dfAnnotate$1: (array&lt;array&lt;struct&lt;annotatorType:string,begin:int,end:int,result:string,metadata:map&lt;string,string&gt;,embeddings:array&lt;float&gt;&gt;&gt;&gt;) =&gt; array&lt;struct&lt;annotatorType:string,begin:int,end:int,result:string,metadata:map&lt;string,string&gt;,embeddings:array&lt;float&gt;&gt;&gt;)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.serializefromobject_doConsume_1$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.mapelements_doConsume_1$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.deserializetoobject_doConsume_1$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.serializefromobject_doConsume_0$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.mapelements_doConsume_0$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.deserializetoobject_doConsume_0$(Unknown Source)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage4.processNext(Unknown Source)\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$13$$anon$1.hasNext(WholeStageCodegenExec.scala:636)\n        at scala.collection.Iterator$$anon$12.hasNext(Iterator.scala:440)\n        at scala.collection.Iterator$JoinIterator.hasNext(Iterator.scala:212)\n        at scala.collection.Iterator$$anon$11.hasNext(Iterator.scala:409)\n        at org.apache.spark.sql.catalyst.expressions.GeneratedClass$GeneratedIteratorForCodegenStage5.processNext(Unknown Source)\n        at org.apache.spark.sql.execution.BufferedRowIterator.hasNext(BufferedRowIterator.java:43)\n        at org.apache.spark.sql.execution.WholeStageCodegenExec$$anonfun$13$$anon$1.hasNext(WholeStageCodegenExec.scala:636)\n        at org.apache.spark.sql.execution.aggregate.ObjectHashAggregateExec$$anonfun$doExecute$1$$anonfun$2.apply(ObjectHashAggregateExec.scala:107)\n        at org.apache.spark.sql.execution.aggregate.ObjectHashAggregateExec$$anonfun$doExecute$1$$anonfun$2.apply(ObjectHashAggregateExec.scala:105)\n        at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndexInternal$1$$anonfun$12.apply(RDD.scala:823)\n        at org.apache.spark.rdd.RDD$$anonfun$mapPartitionsWithIndexInternal$1$$anonfun$12.apply(RDD.scala:823)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:288)\n        at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:52)\n        at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:324)\n        at org.apache.spark.rdd.RDD.iterator(RDD.scala:288)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:99)\n        at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:55)\n        at org.apache.spark.scheduler.Task.run(Task.scala:123)\n        at org.apache.spark.executor.Executor$TaskRunner$$anonfun$10.apply(Executor.scala:408)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)\n        at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:414)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n        at java.lang.Thread.run(Thread.java:748)\nCaused by: java.io.IOException: org.tensorflow.TensorFlowException: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for /mnt/yarn/usercache/hadoop/appcache/application_1629712606577_0001/container_1629712606577_0001_01_000003/tmp/7e8b5bbda7f3_ner3970436258867963111/variables\n         [[{{node save/RestoreV2}}]]\n        at org.apache.spark.util.Utils$.tryOrIOException(Utils.scala:1333)\n        at org.apache.spark.broadcast.TorrentBroadcast.readBroadcastBlock(TorrentBroadcast.scala:207)\n        at org.apache.spark.broadcast.TorrentBroadcast._value$lzycompute(TorrentBroadcast.scala:66)\n        at org.apache.spark.broadcast.TorrentBroadcast._value(TorrentBroadcast.scala:66)\n        at org.apache.spark.broadcast.TorrentBroadcast.getValue(TorrentBroadcast.scala:96)\n        at org.apache.spark.broadcast.Broadcast.value(Broadcast.scala:70)\n        at com.johnsnowlabs.nlp.embeddings.BertEmbeddings.getModelIfNotSet(BertEmbeddings.scala:172)\n        at com.johnsnowlabs.nlp.embeddings.BertEmbeddings.annotate(BertEmbeddings.scala:223)\n        at com.johnsnowlabs.nlp.AnnotatorModel$$anonfun$dfAnnotate$1.apply(AnnotatorModel.scala:35)\n        at com.johnsnowlabs.nlp.AnnotatorModel$$anonfun$dfAnnotate$1.apply(AnnotatorModel.scala:34)\n        ... 34 more\nCaused by: org.tensorflow.TensorFlowException: Unsuccessful TensorSliceReader constructor: Failed to find any matching files for /mnt/yarn/usercache/hadoop/appcache/application_1629712606577_0001/container_1629712606577_0001_01_000003/tmp/7e8b5bbda7f3_ner3970436258867963111/variables\n         [[{{node save/RestoreV2}}]]\n        at org.tensorflow.Session.run(Native Method)\n        at org.tensorflow.Session.access$100(Session.java:48)\n        at org.tensorflow.Session$Runner.runHelper(Session.java:326)\n        at org.tensorflow.Session$Runner.run(Session.java:276)\n        at com.johnsnowlabs.ml.tensorflow.TensorflowWrapper$.read(TensorflowWrapper.scala:325)\n        at com.johnsnowlabs.ml.tensorflow.TensorflowWrapper.readObject(TensorflowWrapper.scala:248)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:498)\n        at java.io.ObjectStreamClass.invokeReadObject(ObjectStreamClass.java:1184)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2295)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2186)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1666)\n        at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2404)\n        at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2328)\n        at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2186)\n        at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1666)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:502)\n        at java.io.ObjectInputStream.readObject(ObjectInputStream.java:460)\n        at org.apache.spark.serializer.JavaDeserializationStream.readObject(JavaSerializer.scala:75)\n        at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$8.apply(TorrentBroadcast.scala:308)\n        at org.apache.spark.util.Utils$.tryWithSafeFinally(Utils.scala:1360)\n        at org.apache.spark.broadcast.TorrentBroadcast$.unBlockifyObject(TorrentBroadcast.scala:309)\n        at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$readBroadcastBlock$1$$anonfun$apply$2.apply(TorrentBroadcast.scala:235)\n        at scala.Option.getOrElse(Option.scala:121)\n        at org.apache.spark.broadcast.TorrentBroadcast$$anonfun$readBroadcastBlock$1.apply(TorrentBroadcast.scala:211)\n        at org.apache.spark.util.Utils$.tryOrIOException(Utils.scala:1326)\n        ... 43 more\n</code></pre>\n<p>I'm running this on EMR and its configuration is:</p>\n<ul>\n<li>Master(1) -&gt; r5.2xlarge</li>\n<li>Core(2) -&gt; r5.4xlarge</li>\n<li>Task(1) -&gt; r5.4xlarge</li>\n</ul>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1637190951,"post_id":70012686,"comment_id":123763533,"body_markdown":"&quot;files&quot; in a JAR are not actual files and cannot be represented by `File` URLs.In your IDE, the resources are actual files but in your JAR, the resources are part of the JAR and therefore not real files.","body":"&quot;files&quot; in a JAR are not actual files and cannot be represented by <code>File</code> URLs.In your IDE, the resources are actual files but in your JAR, the resources are part of the JAR and therefore not real files."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637194108,"creation_date":1637194108,"answer_id":70013071,"question_id":70012686,"body_markdown":"&gt; i have been searching for a way to get a file object from a file in the resources folder.\r\n\r\nThis is flat out impossible. The resources folder is going to end up jarred into your distribution, and you can&#39;t edit jar files, they are read only (or at least, you should consider them so. Non-idiotic deployments will generally mark their own code files (which includes those jars) as read-only to the running process. Even if not, editing jar files is extremely heavy and not something you want to do. Even if you do, on windows, open files can&#39;t be edited/replaced like this without significant headaches).\r\n\r\nThe &#39;resources&#39; folder simply isn&#39;t designed for files that are meant to be modified.\r\n\r\nThe usual strategy is to make a directory someplace (for example, the user&#39;s home dir, accessing via `System.getProperty(&quot;user.home&quot;)`, and then make/edit  files within that dir. If you wish, you can put templates in your resources folder and use those to &#39;initialize&#39; that dir hanging off the user&#39;s home dir with a skeleton version.\r\n\r\nIf you have a few ten thousand files to make, whatever process needs this needs to be adjusted to not need this.  For example, by using a database (H2, perhaps, if you want to ship it with your java app and have it be as low impact as possible).\r\n","title":"Getting a resource&#39;s path","body":"<blockquote>\n<p>i have been searching for a way to get a file object from a file in the resources folder.</p>\n</blockquote>\n<p>This is flat out impossible. The resources folder is going to end up jarred into your distribution, and you can't edit jar files, they are read only (or at least, you should consider them so. Non-idiotic deployments will generally mark their own code files (which includes those jars) as read-only to the running process. Even if not, editing jar files is extremely heavy and not something you want to do. Even if you do, on windows, open files can't be edited/replaced like this without significant headaches).</p>\n<p>The 'resources' folder simply isn't designed for files that are meant to be modified.</p>\n<p>The usual strategy is to make a directory someplace (for example, the user's home dir, accessing via <code>System.getProperty(&quot;user.home&quot;)</code>, and then make/edit  files within that dir. If you wish, you can put templates in your resources folder and use those to 'initialize' that dir hanging off the user's home dir with a skeleton version.</p>\n<p>If you have a few ten thousand files to make, whatever process needs this needs to be adjusted to not need this.  For example, by using a database (H2, perhaps, if you want to ship it with your java app and have it be as low impact as possible).</p>\n"}],"owner":{"display_name":"user17370683"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":503,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70013071,"answer_count":1,"score":0,"last_activity_date":1637227384,"creation_date":1637190337,"question_id":70012686,"body_markdown":"I have been searching for a way to get a file object from a file, in the resources folder. I have read a lot of similar questions on this website but non fix my problem exactly.\r\nLink already referred to\r\n[how-to-get-a-path-to-a-resource-in-a-java-jar-file][1]\r\nthat got really close to answering my question:\r\n\r\n```\r\nString path = this.getClass().getClassLoader().getResource(&lt;resourceFileName&gt;)\r\n.toExternalForm()\r\n```\r\nI am trying to have a resource file that I can write data into and then bring that file object to another part of my program, I know I can technically create a temp file that, I then write data into then pass it into a part of my program, the problem with this approach is that I think it can take a lot of system recourses, my program will need to create a lot of these temp files.\r\n\r\nIs there any way, I can reuse one file in the resource folder? all I need is to get it&#39;s path (and it needs to work in a jar).I have tried this snipper of code i created for testing, i don&#39;t really know why it returns false, because in the ide it returns true.\r\n\r\n```\r\n    public File getFile(String fileName) throws FileNotFoundException {\r\n        //Getting file from the resources folder\r\n        ClassLoader classLoader = getClass().getClassLoader();\r\n        URL fileUrl = classLoader.getResource(fileName);\r\n\r\n        if (fileUrl == null)\r\n            throw new FileNotFoundException(&quot;Cannot find file &quot; + fileName);\r\n\r\n        System.out.println(&quot;before: &quot; + fileUrl.toExternalForm());\r\n\r\n        final String result = fileUrl.toExternalForm()\r\n                .replace(&quot;jar:&quot; , &quot;&quot;)\r\n                .replace(&quot;file:&quot; , &quot;&quot;);\r\n        \r\n\r\n        System.out.println(&quot;after: &quot; + result);\r\n\r\n        return new File(result);\r\n    }\r\n```\r\n\r\nOutput:\r\n```\r\nbefore: jar:file:/C:/Users/%myuser%/Downloads/Untitlecd.jar!/Recording.wav\r\nafter: /C:/Users/%myuser%/Downloads/Untitlecd.jar!/Recording.wav\r\nfalse\r\n```\r\n\r\n \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/941754/how-to-get-a-path-to-a-resource-in-a-java-jar-file/27149","title":"Getting a resource&#39;s path","body":"<p>I have been searching for a way to get a file object from a file, in the resources folder. I have read a lot of similar questions on this website but non fix my problem exactly.\nLink already referred to\n<a href=\"https://stackoverflow.com/questions/941754/how-to-get-a-path-to-a-resource-in-a-java-jar-file/27149\">how-to-get-a-path-to-a-resource-in-a-java-jar-file</a>\nthat got really close to answering my question:</p>\n<pre><code>String path = this.getClass().getClassLoader().getResource(&lt;resourceFileName&gt;)\n.toExternalForm()\n</code></pre>\n<p>I am trying to have a resource file that I can write data into and then bring that file object to another part of my program, I know I can technically create a temp file that, I then write data into then pass it into a part of my program, the problem with this approach is that I think it can take a lot of system recourses, my program will need to create a lot of these temp files.</p>\n<p>Is there any way, I can reuse one file in the resource folder? all I need is to get it's path (and it needs to work in a jar).I have tried this snipper of code i created for testing, i don't really know why it returns false, because in the ide it returns true.</p>\n<pre><code>    public File getFile(String fileName) throws FileNotFoundException {\n        //Getting file from the resources folder\n        ClassLoader classLoader = getClass().getClassLoader();\n        URL fileUrl = classLoader.getResource(fileName);\n\n        if (fileUrl == null)\n            throw new FileNotFoundException(&quot;Cannot find file &quot; + fileName);\n\n        System.out.println(&quot;before: &quot; + fileUrl.toExternalForm());\n\n        final String result = fileUrl.toExternalForm()\n                .replace(&quot;jar:&quot; , &quot;&quot;)\n                .replace(&quot;file:&quot; , &quot;&quot;);\n        \n\n        System.out.println(&quot;after: &quot; + result);\n\n        return new File(result);\n    }\n</code></pre>\n<p>Output:</p>\n<pre><code>before: jar:file:/C:/Users/%myuser%/Downloads/Untitlecd.jar!/Recording.wav\nafter: /C:/Users/%myuser%/Downloads/Untitlecd.jar!/Recording.wav\nfalse\n</code></pre>\n"},{"tags":["java","php","header","authorization"],"owner":{"account_id":23356903,"reputation":11,"user_id":17429752,"display_name":"Colorfinger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":56,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637227222,"creation_date":1637075891,"question_id":69991740,"body_markdown":"Long time reader, first time question asker on stackoverflow.  I writing some code to access the viglinks/sovrn API to pull products programmatically.  Using their example, I was able to pull products via PHP with this code\r\n\r\n    &lt;?php\r\n        $ch = curl_init(&quot;https://rest.viglink.com/api/product/search?apiKey=abc&amp;country=de&amp;itemsPerPage=100&quot;);\r\n        curl_setopt($ch, CURLOPT_HTTPHEADER, array(&#39;Authorization: secret xyz&#39;));\r\n        curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\r\n        $response = curl_exec($ch);\r\n        curl_close($ch);\r\n        echo $response;\r\n    ?&gt;\r\n\r\nAPI and Secret key were obviously changed :) Works great for my purposes.  I do get output.  But at heart I am a Java guy.  So I have attempted to port this code over to Java.  Here is what I have so far:\r\n\r\n    public class myClass {\r\n\r\n        public static void main(String[] args) throws Exception {\r\n    \t    String line;\r\n    \t\r\n    \t    URL url = new URL(&quot;https://rest.viglink.com/api/product/search?apiKey=abc&amp;country=de&amp;itemsPerPage=100&quot;);//\r\n\t\t    HttpURLConnection conn = (HttpURLConnection) url.openConnection();\r\n\t\t    conn.setRequestProperty(&quot;Authorization&quot;,&quot;secret xyz&quot;);\r\n\t\t\r\n\t\t    BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream(),&quot;UTF-8&quot;));\r\n    \t    while ((line = in.readLine()) != null)\r\n            {\r\n    \t\t    System.out.println(line);\r\n            }\r\n\r\n        }\r\n    }\r\n\r\nI run this code, all I receive is a null.  I don&#39;t receive any crazy codes like a 401.  Any ideas or help would be greatly appreciated.  Thanks in advance!","title":"PHP to Java code conversion with Authorization Headers","body":"<p>Long time reader, first time question asker on stackoverflow.  I writing some code to access the viglinks/sovrn API to pull products programmatically.  Using their example, I was able to pull products via PHP with this code</p>\n<pre><code>&lt;?php\n    $ch = curl_init(&quot;https://rest.viglink.com/api/product/search?apiKey=abc&amp;country=de&amp;itemsPerPage=100&quot;);\n    curl_setopt($ch, CURLOPT_HTTPHEADER, array('Authorization: secret xyz'));\n    curl_setopt($ch, CURLOPT_RETURNTRANSFER, 1);\n    $response = curl_exec($ch);\n    curl_close($ch);\n    echo $response;\n?&gt;\n</code></pre>\n<p>API and Secret key were obviously changed :) Works great for my purposes.  I do get output.  But at heart I am a Java guy.  So I have attempted to port this code over to Java.  Here is what I have so far:</p>\n<pre><code>public class myClass {\n\n    public static void main(String[] args) throws Exception {\n        String line;\n    \n        URL url = new URL(&quot;https://rest.viglink.com/api/product/search?apiKey=abc&amp;country=de&amp;itemsPerPage=100&quot;);//\n        HttpURLConnection conn = (HttpURLConnection) url.openConnection();\n        conn.setRequestProperty(&quot;Authorization&quot;,&quot;secret xyz&quot;);\n    \n        BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream(),&quot;UTF-8&quot;));\n        while ((line = in.readLine()) != null)\n        {\n            System.out.println(line);\n        }\n\n    }\n}\n</code></pre>\n<p>I run this code, all I receive is a null.  I don't receive any crazy codes like a 401.  Any ideas or help would be greatly appreciated.  Thanks in advance!</p>\n"},{"tags":["java","swing","jscrollpane","jtextarea"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1456886235,"post_id":35737333,"comment_id":59149050,"body_markdown":"Don&#39;t mess with `setSize`, the components are under the management of the layout manager.","body":"Don&#39;t mess with <code>setSize</code>, the components are under the management of the layout manager."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1456886808,"post_id":35737333,"comment_id":59149210,"body_markdown":"For better help sooner, post a [MCVE] or [Short, Self Contained, Correct Example](http://www.sscce.org/).","body":"For better help sooner, post a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> or <a href=\"http://www.sscce.org/\" rel=\"nofollow noreferrer\">Short, Self Contained, Correct Example</a>."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1456886938,"post_id":35737333,"comment_id":59149256,"body_markdown":"I ran a quick test using a `VertialLayout` (from SwingLabs, SwingX library) and put a `JScrollPane` onto which wrapped a `JTextArea` (using word and line wrapping) and had no issues","body":"I ran a quick test using a <code>VertialLayout</code> (from SwingLabs, SwingX library) and put a <code>JScrollPane</code> onto which wrapped a <code>JTextArea</code> (using word and line wrapping) and had no issues"},{"owner":{"account_id":6390755,"reputation":1633,"user_id":4957011,"accept_rate":82,"display_name":"Phoenix"},"score":0,"creation_date":1456886939,"post_id":35737333,"comment_id":59149255,"body_markdown":"@user3437460 My explanations are accompanied by screenshots, are they not loading for you?","body":"@user3437460 My explanations are accompanied by screenshots, are they not loading for you?"},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1456887009,"post_id":35737333,"comment_id":59149280,"body_markdown":"@Phoenix You mentioned the words do not wrap in the last screen shot, but there is a horizontal scrollbar.","body":"@Phoenix You mentioned the words do not wrap in the last screen shot, but there is a horizontal scrollbar."},{"owner":{"account_id":6390755,"reputation":1633,"user_id":4957011,"accept_rate":82,"display_name":"Phoenix"},"score":0,"creation_date":1456887082,"post_id":35737333,"comment_id":59149300,"body_markdown":"@user3437460 I do not want there to be a horizontal scrollbar, I need the `JScrollPane` to shrink horizontally such that there is no need for a horizontal scrollbar and the words wrap around the screen","body":"@user3437460 I do not want there to be a horizontal scrollbar, I need the <code>JScrollPane</code> to shrink horizontally such that there is no need for a horizontal scrollbar and the words wrap around the screen"},{"owner":{"account_id":4196075,"reputation":17303,"user_id":3437460,"accept_rate":49,"display_name":"user3437460"},"score":0,"creation_date":1456887203,"post_id":35737333,"comment_id":59149351,"body_markdown":"@Phoenix So you want a vertical scrollbar if text gets longer by not a horizontal scroll bar. Is that correct?","body":"@Phoenix So you want a vertical scrollbar if text gets longer by not a horizontal scroll bar. Is that correct?"}],"answers":[{"tags":[],"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1456888995,"creation_date":1456888110,"answer_id":35737765,"question_id":35737333,"body_markdown":"You need to implement the `Scrollable` interface on the panel you add to the scroll panel so that the `getScrollableTracksViewportWidth()` method returns `true`.\r\n\r\nThis will force the component in the viewport to always be the same size as the viewport, not the width of the components added to the viewport.\r\n\r\nWhen you implement the interface you will need to implement all the methods of the interface.\r\n\r\nOr a simple solution is to use the [Scrollable Panel](https://tips4java.wordpress.com/2009/12/20/scrollable-panel/) which implements the interface for you and you just set the properties you want.\r\n\r\nSo the basic code would be:\r\n\r\n    ScrollablePanel panel = new ScrollablePanel( new VerticalLayout());\r\n    panel.setScrollableWidth( ScrollablePanel.ScrollableSizeHint.FIT );\r\n    panel.add(...);\r\n    JScrollPane scrollPane = new JScrollPane( panel );\r\n\r\n&gt; Wrapping each JTextArea in a JPanel and giving the panel a BoxLayout or BorderLayout\r\n\r\nYou should be able to just add the text area directly to the panel. It appears the VerticalLayout makes each component as wide as possible.\r\n\r\n&gt; textPanel.updateUI();\r\n\r\nDon&#39;t use updateUI() that is for a LAF change. When you add/remove components from a visible GUI the basic code is:\r\n\r\n    panel.add();\r\n    panel.revalidate();\r\n    panel.repaint();","title":"JTextArea not wrapping when parent shrinks","body":"<p>You need to implement the <code>Scrollable</code> interface on the panel you add to the scroll panel so that the <code>getScrollableTracksViewportWidth()</code> method returns <code>true</code>.</p>\n\n<p>This will force the component in the viewport to always be the same size as the viewport, not the width of the components added to the viewport.</p>\n\n<p>When you implement the interface you will need to implement all the methods of the interface.</p>\n\n<p>Or a simple solution is to use the <a href=\"https://tips4java.wordpress.com/2009/12/20/scrollable-panel/\" rel=\"nofollow\">Scrollable Panel</a> which implements the interface for you and you just set the properties you want.</p>\n\n<p>So the basic code would be:</p>\n\n<pre><code>ScrollablePanel panel = new ScrollablePanel( new VerticalLayout());\npanel.setScrollableWidth( ScrollablePanel.ScrollableSizeHint.FIT );\npanel.add(...);\nJScrollPane scrollPane = new JScrollPane( panel );\n</code></pre>\n\n<blockquote>\n  <p>Wrapping each JTextArea in a JPanel and giving the panel a BoxLayout or BorderLayout</p>\n</blockquote>\n\n<p>You should be able to just add the text area directly to the panel. It appears the VerticalLayout makes each component as wide as possible.</p>\n\n<blockquote>\n  <p>textPanel.updateUI();</p>\n</blockquote>\n\n<p>Don't use updateUI() that is for a LAF change. When you add/remove components from a visible GUI the basic code is:</p>\n\n<pre><code>panel.add();\npanel.revalidate();\npanel.repaint();\n</code></pre>\n"}],"owner":{"account_id":6390755,"reputation":1633,"user_id":4957011,"accept_rate":82,"display_name":"Phoenix"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":972,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":35737765,"answer_count":1,"score":5,"last_activity_date":1637227212,"creation_date":1456885762,"question_id":35737333,"body_markdown":"I am creating a Java Swing application that displays a chat log of messages. The frame holds only a `JScrollPane` which has a `VerticalLayout`, and in it are an indefinite number of `JTextArea`s, one for each message. The `JTextArea`s are uneditable, and the only reason I&#39;m using them instead of a `JLabel` is because I need to wrap the text.\r\n\r\nAs a test, I create my frame and add two messages.\r\n\r\n![JTextArea][1]\r\n\r\nThis is working as intended, the components form a continuous page of text and wrap around the frame.\r\n\r\nI then increase the size of the frame.\r\n\r\n![JTextArea expanded][2]\r\n\r\nThis is still working as intended, the `JScrollPane` and `JTextArea`s have expanded and the text has rewrapped itself.\r\n\r\nI then shrink the window back to a smaller size.\r\n\r\n![JTextArea shrunk][3]\r\n\r\nThis is not working as intended. The `JScrollPane` stays at its largest size and the words do not wrap. How can I make it so that when the frame is shrunk width-wise, the `JScrollPane` and `JTextArea`s are shrunk as well?\r\n\r\nThings I have already tried:\r\n\r\n - Instantiating the `JScrollPane` with `JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER`\r\n - Giving each `JTextArea` a `BoxLayout` or `BorderLayout`\r\n - Wrapping each `JTextArea` in a `JPanel` and giving the panel a `BoxLayout` or `BorderLayout`\r\n - Revalidating/redrawing the `JScrollPane` upon resizing events\r\n - Calling `setSize(Dimension d)` of `JScrollPane` with `getSize()` of `JFrame` upon resizing events\r\n\r\nEDIT: A minimum verifiable example, that produces the same effect as the described above\r\n\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.JScrollPane;\r\n    import javax.swing.JTextArea;\r\n    \r\n    import org.jfree.ui.tabbedui.VerticalLayout;\r\n    \r\n    public class MessagingFrame extends JFrame {\r\n\r\n\t    private JPanel textPanel;\r\n\t\r\n\t    public MessagingFrame() {\r\n\t    \t// Create display area\r\n\t    \ttextPanel = new JPanel();\r\n\t    \ttextPanel.setLayout(new VerticalLayout());\r\n\t    \t// Wrap text panel in scroll pane\r\n\t    \tJScrollPane scrollPane = new JScrollPane(textPanel);\r\n\t    \t// Add scroll pane\r\n\t    \tadd(scrollPane);\r\n\t    \t// Size center and display\r\n\t    \tsetSize(500, 500);\r\n\t    \tsetLocationRelativeTo(null);\r\n\t    \tsetVisible(true);\r\n\t    }\r\n\t\r\n\t    public void addMessage(String message) {\r\n\t    \tJTextArea textArea = new JTextArea(message);\r\n\t    \ttextArea.setEditable(false);\r\n\t    \ttextArea.setLineWrap(true);\r\n\t    \ttextArea.setWrapStyleWord(true);\r\n\t    \ttextPanel.add(textArea);\r\n\t    \ttextPanel.updateUI();\r\n\t    }\r\n\t\r\n\t    public static void main(String[] args) {\r\n\t\t    MessagingFrame frame = new MessagingFrame();\r\n\t    \tframe.addMessage(&quot;According to all known laws of aviation, there is no way a bee should be able to fly. Its wings are too small to get its fat little body off the ground. The bee, of course, flies anyway because bees dont care what humans think is impossible.&quot;);\r\n\t\t    frame.addMessage(&quot;We begin on Christmas Eve with me, Mark, and my roommate, Roger. We live in an industrial loft on the corner of 11th street and Avenue B, the top floor of what was once a music publishing factory. Old rock &#39;n&#39; roll posters hang on the walls. They have Roger&#39;s picture advertising gigs at CBGB&#39;s and the Pyramid Club. We have an illegal wood burning stove; its exhaust pipe crawls up to a skylight. All of our electrical appliances are plugged into one thick extension cord which snakes its way out a window. Outside, a small tent city has sprung up in the lot next to our building. Inside, we are freezing because we have no heat.&quot;);\r\n    \t}\r\n\t\r\n    }\r\n\r\n\r\nThank you!\r\n\r\n  [1]: http://i.stack.imgur.com/8GGJo.png\r\n  [2]: http://i.stack.imgur.com/CI9gF.png\r\n  [3]: http://i.stack.imgur.com/d5kMP.png","title":"JTextArea not wrapping when parent shrinks","body":"<p>I am creating a Java Swing application that displays a chat log of messages. The frame holds only a <code>JScrollPane</code> which has a <code>VerticalLayout</code>, and in it are an indefinite number of <code>JTextArea</code>s, one for each message. The <code>JTextArea</code>s are uneditable, and the only reason I'm using them instead of a <code>JLabel</code> is because I need to wrap the text.</p>\n<p>As a test, I create my frame and add two messages.</p>\n<p><img src=\"https://i.stack.imgur.com/8GGJo.png\" alt=\"JTextArea\" /></p>\n<p>This is working as intended, the components form a continuous page of text and wrap around the frame.</p>\n<p>I then increase the size of the frame.</p>\n<p><img src=\"https://i.stack.imgur.com/CI9gF.png\" alt=\"JTextArea expanded\" /></p>\n<p>This is still working as intended, the <code>JScrollPane</code> and <code>JTextArea</code>s have expanded and the text has rewrapped itself.</p>\n<p>I then shrink the window back to a smaller size.</p>\n<p><img src=\"https://i.stack.imgur.com/d5kMP.png\" alt=\"JTextArea shrunk\" /></p>\n<p>This is not working as intended. The <code>JScrollPane</code> stays at its largest size and the words do not wrap. How can I make it so that when the frame is shrunk width-wise, the <code>JScrollPane</code> and <code>JTextArea</code>s are shrunk as well?</p>\n<p>Things I have already tried:</p>\n<ul>\n<li>Instantiating the <code>JScrollPane</code> with <code>JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER</code></li>\n<li>Giving each <code>JTextArea</code> a <code>BoxLayout</code> or <code>BorderLayout</code></li>\n<li>Wrapping each <code>JTextArea</code> in a <code>JPanel</code> and giving the panel a <code>BoxLayout</code> or <code>BorderLayout</code></li>\n<li>Revalidating/redrawing the <code>JScrollPane</code> upon resizing events</li>\n<li>Calling <code>setSize(Dimension d)</code> of <code>JScrollPane</code> with <code>getSize()</code> of <code>JFrame</code> upon resizing events</li>\n</ul>\n<p>EDIT: A minimum verifiable example, that produces the same effect as the described above</p>\n<pre><code>import javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.JTextArea;\n\nimport org.jfree.ui.tabbedui.VerticalLayout;\n\npublic class MessagingFrame extends JFrame {\n\n    private JPanel textPanel;\n\n    public MessagingFrame() {\n        // Create display area\n        textPanel = new JPanel();\n        textPanel.setLayout(new VerticalLayout());\n        // Wrap text panel in scroll pane\n        JScrollPane scrollPane = new JScrollPane(textPanel);\n        // Add scroll pane\n        add(scrollPane);\n        // Size center and display\n        setSize(500, 500);\n        setLocationRelativeTo(null);\n        setVisible(true);\n    }\n\n    public void addMessage(String message) {\n        JTextArea textArea = new JTextArea(message);\n        textArea.setEditable(false);\n        textArea.setLineWrap(true);\n        textArea.setWrapStyleWord(true);\n        textPanel.add(textArea);\n        textPanel.updateUI();\n    }\n\n    public static void main(String[] args) {\n        MessagingFrame frame = new MessagingFrame();\n        frame.addMessage(&quot;According to all known laws of aviation, there is no way a bee should be able to fly. Its wings are too small to get its fat little body off the ground. The bee, of course, flies anyway because bees dont care what humans think is impossible.&quot;);\n        frame.addMessage(&quot;We begin on Christmas Eve with me, Mark, and my roommate, Roger. We live in an industrial loft on the corner of 11th street and Avenue B, the top floor of what was once a music publishing factory. Old rock 'n' roll posters hang on the walls. They have Roger's picture advertising gigs at CBGB's and the Pyramid Club. We have an illegal wood burning stove; its exhaust pipe crawls up to a skylight. All of our electrical appliances are plugged into one thick extension cord which snakes its way out a window. Outside, a small tent city has sprung up in the lot next to our building. Inside, we are freezing because we have no heat.&quot;);\n    }\n\n}\n</code></pre>\n<p>Thank you!</p>\n"},{"tags":["java","excel","selenium","automation","apache-poi"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1637160844,"post_id":70005559,"comment_id":123751938,"body_markdown":"You want to attach the image if a test fails. Is that correct? If yes, why do you want to do that because it increases your excel size and may lead into performance issues.","body":"You want to attach the image if a test fails. Is that correct? If yes, why do you want to do that because it increases your excel size and may lead into performance issues."},{"owner":{"account_id":23366716,"reputation":11,"user_id":17438236,"display_name":"Jamil"},"score":0,"creation_date":1637165529,"post_id":70005559,"comment_id":123754333,"body_markdown":"@NandanA Yes, I want to attach a screenshot image when the test case fails. I want to do it because it is a requirement. Despite I am aware of the fact that it will increase the excel size.","body":"@NandanA Yes, I want to attach a screenshot image when the test case fails. I want to do it because it is a requirement. Despite I am aware of the fact that it will increase the excel size."},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1637172421,"post_id":70005559,"comment_id":123757362,"body_markdown":"Posted an answer. I would like to hear feedback from you back.","body":"Posted an answer. I would like to hear feedback from you back."}],"answers":[{"tags":[],"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637172275,"creation_date":1637171380,"answer_id":70009245,"question_id":70005559,"body_markdown":"You can do that by converting the image into `byte[]` then draw the image in desired location. You can do like this,\r\n\r\n**In your `OTMGeneral` class**: \r\n\r\n\tif (!helloCustomer) {\r\n\t\t//Your code\r\n\t} else {\r\n\t\texcelUtils.setCellValue(i, 2, &quot;Fail&quot;, excelFilePath);\r\n\t\tSystem.out.println(&quot;login fail&quot;);\r\n\t\t// capture screenshot when a test case fails\r\n\t\texcelUtils.attachImageToExcel(&quot;NameOfScreenshot&quot;, i, 3,  0.3);\r\n\t}\r\n\r\nKeep the method `attachImageToExcel` in your `ExcelUtils`. You need to pass the below `@Params`.\r\n```\r\n@Param screenShot - The name what you assigned to the image while capturing.\r\n@Param column     - Column number\r\n@Param row        - Row number\r\n@Param image size - Pass the float value. Example 0.3 = 30% image\r\n```\r\n**Code**:\r\n\r\n\tpublic static void attachImageToExcel(String screenShot, int column, int row, double imageSize)\r\n\t\t\tthrows Exception {\r\n\r\n\t\tWorkbook wb = new XSSFWorkbook(new FileInputStream(new File(&quot;FileLocation&quot;)));\r\n\t\tSheet sheet = wb.getSheet(&quot;SheetName&quot;);\r\n\r\n\t\tInputStream inputStream = new FileInputStream(&quot;./Screenshots/&quot; + screenShot + &quot;.jpg&quot;);\r\n\t\tbyte[] bytes = IOUtils.toByteArray(inputStream);\r\n\t\tint pictureIdx = wb.addPicture(bytes, Workbook.PICTURE_TYPE_PNG);\r\n\t\tinputStream.close();\r\n\r\n\t\tCreationHelper helper = wb.getCreationHelper();\r\n\t\tDrawing drawing = sheet.createDrawingPatriarch();\r\n\r\n\t\tClientAnchor anchor = helper.createClientAnchor();\r\n\t\tanchor.setCol1(column);\r\n\t\tanchor.setRow1(row);\r\n\r\n\t\tPicture pict = drawing.createPicture(anchor, pictureIdx);\r\n\t\tpict.resize(imageSize);\r\n\r\n\t\tFileOutputStream fileOut = null;\r\n\t\tfileOut = new FileOutputStream((new File(&quot;FileLocation&quot;)));\r\n\t\twb.write(fileOut);\r\n\t\tfileOut.close();\r\n\t}\r\n\r\n**Output**:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/iSEkl.png","title":"How can I store a screenshot from an object to a string and save the image into an excel worksheet in selenium WebDriver?","body":"<p>You can do that by converting the image into <code>byte[]</code> then draw the image in desired location. You can do like this,</p>\n<p><strong>In your <code>OTMGeneral</code> class</strong>:</p>\n<pre><code>if (!helloCustomer) {\n    //Your code\n} else {\n    excelUtils.setCellValue(i, 2, &quot;Fail&quot;, excelFilePath);\n    System.out.println(&quot;login fail&quot;);\n    // capture screenshot when a test case fails\n    excelUtils.attachImageToExcel(&quot;NameOfScreenshot&quot;, i, 3,  0.3);\n}\n</code></pre>\n<p>Keep the method <code>attachImageToExcel</code> in your <code>ExcelUtils</code>. You need to pass the below <code>@Params</code>.</p>\n<pre><code>@Param screenShot - The name what you assigned to the image while capturing.\n@Param column     - Column number\n@Param row        - Row number\n@Param image size - Pass the float value. Example 0.3 = 30% image\n</code></pre>\n<p><strong>Code</strong>:</p>\n<pre><code>public static void attachImageToExcel(String screenShot, int column, int row, double imageSize)\n        throws Exception {\n\n    Workbook wb = new XSSFWorkbook(new FileInputStream(new File(&quot;FileLocation&quot;)));\n    Sheet sheet = wb.getSheet(&quot;SheetName&quot;);\n\n    InputStream inputStream = new FileInputStream(&quot;./Screenshots/&quot; + screenShot + &quot;.jpg&quot;);\n    byte[] bytes = IOUtils.toByteArray(inputStream);\n    int pictureIdx = wb.addPicture(bytes, Workbook.PICTURE_TYPE_PNG);\n    inputStream.close();\n\n    CreationHelper helper = wb.getCreationHelper();\n    Drawing drawing = sheet.createDrawingPatriarch();\n\n    ClientAnchor anchor = helper.createClientAnchor();\n    anchor.setCol1(column);\n    anchor.setRow1(row);\n\n    Picture pict = drawing.createPicture(anchor, pictureIdx);\n    pict.resize(imageSize);\n\n    FileOutputStream fileOut = null;\n    fileOut = new FileOutputStream((new File(&quot;FileLocation&quot;)));\n    wb.write(fileOut);\n    fileOut.close();\n}\n</code></pre>\n<p><strong>Output</strong>:</p>\n<p><a href=\"https://i.stack.imgur.com/iSEkl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/iSEkl.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":23366716,"reputation":11,"user_id":17438236,"display_name":"Jamil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637227148,"creation_date":1637156874,"question_id":70005559,"body_markdown":"I have a simple selenium WebDriver program that reads the excel file data and performs login functionality. \r\n\r\nI require to take a screenshot whenever the test case fails and save it into the excel worksheet cell.\r\n\r\nTo accomplish read and writing excel, I have already created the code. I have also written a program that captures screenshots and saves them with unique names. This program is in a separate class in the utility package, which I call into the MAIN method using its instance/object.\r\n\r\nI want to store the object of the FailedTestScreenCapture class into a string variable and extract the image captured from inside this object, then save it in the excel worksheet.\r\n\r\nBelow is the code that I have created to capture screenshots and save them with unique names.\r\n\r\n  \r\n\r\n    package utilities;\r\n\r\n    import java.io.File;\r\n    import java.util.UUID;\r\n    import org.openqa.selenium.io.FileHandler;\r\n    \r\n    import org.junit.rules.MethodRule;\r\n    import org.junit.runners.model.FrameworkMethod;\r\n    import org.junit.runners.model.Statement;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n\r\n    public class FailedTestScreenCapture implements MethodRule {\r\n    \r\n    WebDriver driver;\r\n    \r\n    \tpublic FailedTestScreenCapture(WebDriver driver) {\r\n    \t\tthis.driver = driver;\r\n    \t}\r\n    \r\n    \tpublic Statement apply(final Statement statement, final FrameworkMethod frameworkMethod, final Object obj) {\r\n    \t\t// Auto-generated method stub\r\n    \t\treturn new Statement() {\r\n    \t\t\t@Override\r\n    \t\t\tpublic void evaluate() throws Throwable {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tstatement.evaluate();\r\n    \t\t\t\t} catch (Throwable t) {\r\n    \t\t\t\t\t// handle exception\r\n    \t\t\t\t\tcaptureScreen(frameworkMethod.getName());\r\n    \t\t\t\t\tthrow t;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \r\n    \t\t\tpublic void captureScreen(String screenShot) {\r\n    \t\t\t\t// creating a screenshot method\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tTakesScreenshot ts = (TakesScreenshot) driver;\r\n    \t\t\t\t\tFile source = ts.getScreenshotAs(OutputType.FILE);\r\n    \t\t\t\t\tscreenShot += UUID.randomUUID().toString();\r\n    \t\t\t\t\tFileHandler.copy(source, new File(&quot;./Screenshots/&quot; + screenShot + &quot;.jpg&quot;));\r\n    \t\t\t\t} catch (Exception e) {\r\n    \r\n    \t\t\t\t\tSystem.out.println(&quot;An exception occured while taking the screenshot&quot; + e.getMessage());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nBelow is the code that reads and writes the excel worksheet.\r\n\r\n    package view;\r\n\r\n    import java.io.IOException;\r\n    import java.time.Duration;\r\n    import org.openqa.selenium.By;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    \r\n    import utilities.ExcelUtils;\r\n    import utilities.FailedTestScreenCapture;\r\n    import utilities.Constants;\r\n\r\n    public class OTMGeneral {\r\n    \tstatic WebDriver driver;\r\n\r\n\t\r\n\r\n    // creating object of ExcelUtils class\r\n    \tstatic ExcelUtils excelUtils = new ExcelUtils();\r\n    \tstatic FailedTestScreenCapture failedTstCase = new FailedTestScreenCapture(driver);\r\n    \r\n    \t// using the constants class values for excel file path\r\n    \tstatic String excelFilePath = Constants.Path_TestData + Constants.File_TestData;\r\n    \r\n    \tpublic static void main(String args[]) throws IOException {\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, Constants.chromeDriverPath);\r\n    \t\tdriver = new ChromeDriver();\r\n    \r\n    \t\t// maximize the browser screen\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.navigate().to(Constants.BaseUrl);\r\n    \r\n    \t\t// wait for the browser to load resources\r\n    \t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\r\n    \r\n    \t\t// Identify the WebElements for OTM Login\r\n    \t\tWebElement continueBtn = driver.findElement(By.xpath(&quot;/html/body/div[1]/div/div/div[2]/button&quot;));\r\n    \t\tWebElement loginBtn = driver.findElement(By.xpath(&quot;/html/body/header/div/div/nav/div/ul/li[2]/a&quot;));\r\n    \r\n    \t\t// landing page pop-up message\r\n    \t\tWebElement popupMsg = driver.findElement(By.xpath(&quot;/html/body/div[1]/div/div&quot;));\r\n    \r\n    \t\t// click the sing-in button\r\n    \t\tif (popupMsg.isDisplayed()) {\r\n    \t\t\t// if the pop-up is displayed, click the continue button\r\n    \t\t\tcontinueBtn.click();\r\n    \r\n    \t\t\t// wait for page to come back to landing page after continue button is clicked\r\n    \t\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\r\n    \r\n    \t\t\t// click the login button\r\n    \t\t\tloginBtn.click();\r\n    \t\t} else {\r\n    \t\t\tloginBtn.click();\r\n    \t\t}\r\n    \r\n    \t\tWebElement email = driver.findElement(By.id(&quot;Email&quot;));\r\n    \t\tWebElement pwd = driver.findElement(By.id(&quot;Password&quot;));\r\n    \t\tWebElement signInBtn = driver.findElement(By.id(&quot;btnlogin&quot;));\r\n    \r\n    \t\t// calling ExcelUtils class method to initialize the workbook and sheet\r\n    \t\texcelUtils.setExcelFile(excelFilePath, &quot;Login_Data&quot;);\r\n    \r\n    \t\tfor (int i = 1; i &lt;= excelUtils.getRowCountInSheet(); i++) {\r\n    \r\n    \t\t\tif (i &gt; 1) {\r\n    \t\t\t\t// Handling staled elements by refreshing the screen\r\n    \t\t\t\tdriver.navigate().refresh();\r\n    \t\t\t\tdriver.findElement(By.xpath(&quot;/html/body/header/div/div/nav/div/ul/li[2]/a&quot;)).click();\r\n    \r\n    \t\t\t\tdriver.findElement(By.id(&quot;Email&quot;)).sendKeys(excelUtils.getCellData(i, 0));\r\n    \t\t\t\tdriver.findElement(By.id(&quot;Password&quot;)).sendKeys(excelUtils.getCellData(i, 1));\r\n    \r\n    \t\t\t\tdriver.findElement(By.id(&quot;btnlogin&quot;)).click();\r\n    \r\n    \t\t\t} else {\r\n    \r\n    \t\t\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\r\n    \t\t\t\t// Enter the value read from excel in email and password fields\r\n    \t\t\t\temail.sendKeys(excelUtils.getCellData(i, 0));\r\n    \t\t\t\tpwd.sendKeys(excelUtils.getCellData(i, 1));\r\n    \r\n    \t\t\t\t// click on login button\r\n    \t\t\t\tsignInBtn.click();\r\n    \t\t\t}\r\n    \r\n    \t\t\t// wait after login button clicked\r\n    \t\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\r\n    \r\n    \t\t\t// check for login pass or fail\r\n    \t\t\tboolean helloCustomer = driver.findElement(By.xpath(&quot;/html/body/header/div/div/nav/div/ul/li[1]/a&quot;))\r\n    \t\t\t\t\t.getText().equalsIgnoreCase(&quot;Reg&#237;strate&quot;);\r\n    \t\t\tSystem.out.println(helloCustomer);\r\n    \r\n    \t\t\tif (!helloCustomer) {\r\n    \r\n    \t\t\t\t// capture the result in the excel sheet\r\n    \t\t\t\texcelUtils.setCellValue(i, 2, &quot;Pass&quot;, excelFilePath);\r\n    \t\t\t\tSystem.out.println(&quot;login pass&quot;);\r\n    \t\t\t\t// Identify logout button\r\n    \t\t\t\tWebElement logout = driver.findElement(By.id(&quot;logout&quot;));\r\n    \t\t\t\tlogout.click();\r\n    \t\t\t} else {\r\n    \t\t\t\texcelUtils.setCellValue(i, 2, &quot;Fail&quot;, excelFilePath);\r\n    \t\t\t\tSystem.out.println(&quot;login fail&quot;);\r\n    \t\t\t\t// capture screenshot when a test case fails\r\n    \t\t\t\texcelUtils.setCellValue(i, 3, failedTstCase.toString(), excelFilePath);\r\n    \t\t\t}\r\n    \r\n    \t\t\t// wait for page to come back to registration page after logout button is\r\n    \t\t\t// clicked\r\n    \t\t\tdriver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\r\n    \t\t}\r\n    \t\t// closing the driver\r\n    \t\tdriver.quit();\r\n    \t}\r\n    }\r\n\r\n\r\n","title":"How can I store a screenshot from an object to a string and save the image into an excel worksheet in selenium WebDriver?","body":"<p>I have a simple selenium WebDriver program that reads the excel file data and performs login functionality.</p>\n<p>I require to take a screenshot whenever the test case fails and save it into the excel worksheet cell.</p>\n<p>To accomplish read and writing excel, I have already created the code. I have also written a program that captures screenshots and saves them with unique names. This program is in a separate class in the utility package, which I call into the MAIN method using its instance/object.</p>\n<p>I want to store the object of the FailedTestScreenCapture class into a string variable and extract the image captured from inside this object, then save it in the excel worksheet.</p>\n<p>Below is the code that I have created to capture screenshots and save them with unique names.</p>\n<pre><code>package utilities;\n\nimport java.io.File;\nimport java.util.UUID;\nimport org.openqa.selenium.io.FileHandler;\n\nimport org.junit.rules.MethodRule;\nimport org.junit.runners.model.FrameworkMethod;\nimport org.junit.runners.model.Statement;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\n\npublic class FailedTestScreenCapture implements MethodRule {\n\nWebDriver driver;\n\n    public FailedTestScreenCapture(WebDriver driver) {\n        this.driver = driver;\n    }\n\n    public Statement apply(final Statement statement, final FrameworkMethod frameworkMethod, final Object obj) {\n        // Auto-generated method stub\n        return new Statement() {\n            @Override\n            public void evaluate() throws Throwable {\n                try {\n                    statement.evaluate();\n                } catch (Throwable t) {\n                    // handle exception\n                    captureScreen(frameworkMethod.getName());\n                    throw t;\n                }\n            }\n\n            public void captureScreen(String screenShot) {\n                // creating a screenshot method\n                try {\n                    TakesScreenshot ts = (TakesScreenshot) driver;\n                    File source = ts.getScreenshotAs(OutputType.FILE);\n                    screenShot += UUID.randomUUID().toString();\n                    FileHandler.copy(source, new File(&quot;./Screenshots/&quot; + screenShot + &quot;.jpg&quot;));\n                } catch (Exception e) {\n\n                    System.out.println(&quot;An exception occured while taking the screenshot&quot; + e.getMessage());\n                }\n            }\n        };\n    }\n}\n</code></pre>\n<p>Below is the code that reads and writes the excel worksheet.</p>\n<pre><code>package view;\n\nimport java.io.IOException;\nimport java.time.Duration;\nimport org.openqa.selenium.By;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.chrome.ChromeDriver;\n\nimport utilities.ExcelUtils;\nimport utilities.FailedTestScreenCapture;\nimport utilities.Constants;\n\npublic class OTMGeneral {\n    static WebDriver driver;\n\n\n\n// creating object of ExcelUtils class\n    static ExcelUtils excelUtils = new ExcelUtils();\n    static FailedTestScreenCapture failedTstCase = new FailedTestScreenCapture(driver);\n\n    // using the constants class values for excel file path\n    static String excelFilePath = Constants.Path_TestData + Constants.File_TestData;\n\n    public static void main(String args[]) throws IOException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, Constants.chromeDriverPath);\n        driver = new ChromeDriver();\n\n        // maximize the browser screen\n        driver.manage().window().maximize();\n        driver.navigate().to(Constants.BaseUrl);\n\n        // wait for the browser to load resources\n        driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\n\n        // Identify the WebElements for OTM Login\n        WebElement continueBtn = driver.findElement(By.xpath(&quot;/html/body/div[1]/div/div/div[2]/button&quot;));\n        WebElement loginBtn = driver.findElement(By.xpath(&quot;/html/body/header/div/div/nav/div/ul/li[2]/a&quot;));\n\n        // landing page pop-up message\n        WebElement popupMsg = driver.findElement(By.xpath(&quot;/html/body/div[1]/div/div&quot;));\n\n        // click the sing-in button\n        if (popupMsg.isDisplayed()) {\n            // if the pop-up is displayed, click the continue button\n            continueBtn.click();\n\n            // wait for page to come back to landing page after continue button is clicked\n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\n\n            // click the login button\n            loginBtn.click();\n        } else {\n            loginBtn.click();\n        }\n\n        WebElement email = driver.findElement(By.id(&quot;Email&quot;));\n        WebElement pwd = driver.findElement(By.id(&quot;Password&quot;));\n        WebElement signInBtn = driver.findElement(By.id(&quot;btnlogin&quot;));\n\n        // calling ExcelUtils class method to initialize the workbook and sheet\n        excelUtils.setExcelFile(excelFilePath, &quot;Login_Data&quot;);\n\n        for (int i = 1; i &lt;= excelUtils.getRowCountInSheet(); i++) {\n\n            if (i &gt; 1) {\n                // Handling staled elements by refreshing the screen\n                driver.navigate().refresh();\n                driver.findElement(By.xpath(&quot;/html/body/header/div/div/nav/div/ul/li[2]/a&quot;)).click();\n\n                driver.findElement(By.id(&quot;Email&quot;)).sendKeys(excelUtils.getCellData(i, 0));\n                driver.findElement(By.id(&quot;Password&quot;)).sendKeys(excelUtils.getCellData(i, 1));\n\n                driver.findElement(By.id(&quot;btnlogin&quot;)).click();\n\n            } else {\n\n                driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\n                // Enter the value read from excel in email and password fields\n                email.sendKeys(excelUtils.getCellData(i, 0));\n                pwd.sendKeys(excelUtils.getCellData(i, 1));\n\n                // click on login button\n                signInBtn.click();\n            }\n\n            // wait after login button clicked\n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\n\n            // check for login pass or fail\n            boolean helloCustomer = driver.findElement(By.xpath(&quot;/html/body/header/div/div/nav/div/ul/li[1]/a&quot;))\n                    .getText().equalsIgnoreCase(&quot;Regstrate&quot;);\n            System.out.println(helloCustomer);\n\n            if (!helloCustomer) {\n\n                // capture the result in the excel sheet\n                excelUtils.setCellValue(i, 2, &quot;Pass&quot;, excelFilePath);\n                System.out.println(&quot;login pass&quot;);\n                // Identify logout button\n                WebElement logout = driver.findElement(By.id(&quot;logout&quot;));\n                logout.click();\n            } else {\n                excelUtils.setCellValue(i, 2, &quot;Fail&quot;, excelFilePath);\n                System.out.println(&quot;login fail&quot;);\n                // capture screenshot when a test case fails\n                excelUtils.setCellValue(i, 3, failedTstCase.toString(), excelFilePath);\n            }\n\n            // wait for page to come back to registration page after logout button is\n            // clicked\n            driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(20));\n        }\n        // closing the driver\n        driver.quit();\n    }\n}\n</code></pre>\n"},{"tags":["java","android","android-studio","android-layout"],"comments":[{"owner":{"account_id":39846,"reputation":991143,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":0,"creation_date":1636977015,"post_id":69973850,"comment_id":123693165,"body_markdown":"This looks like `Rates` should hold a `Map&lt;String, Rate&gt;`, where `Rate` is what you have named the `INR` class in your code snippet.","body":"This looks like <code>Rates</code> should hold a <code>Map&lt;String, Rate&gt;</code>, where <code>Rate</code> is what you have named the <code>INR</code> class in your code snippet."},{"owner":{"account_id":21165874,"reputation":681,"user_id":16342700,"display_name":"Abhishek Vashishtha_IBS"},"score":0,"creation_date":1636977870,"post_id":69973850,"comment_id":123693474,"body_markdown":"@CommonsWare can you make an example with my code, I can&#39;t understand sorry!","body":"@CommonsWare can you make an example with my code, I can&#39;t understand sorry!"}],"answers":[{"tags":[],"owner":{"account_id":17080845,"reputation":233,"user_id":12359279,"display_name":"Faizan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637039175,"creation_date":1637039175,"answer_id":69984006,"question_id":69973850,"body_markdown":"If you have limited currencies, So you use like this in Response class\r\n\r\n    public class Rates {\r\n    \r\n        @SerializedName(value = &quot;INR&quot;, alternate = {&quot;USD&quot;, &quot;GBP&quot;, &quot;EUR&quot;, &quot;CHF&quot;})\r\n        private Rate rate;\r\n    \r\n        public Rate getRate() {\r\n            return rate;\r\n        }\r\n    }","title":"Set Dynamic SerializedName annotation in android java","body":"<p>If you have limited currencies, So you use like this in Response class</p>\n<pre><code>public class Rates {\n\n    @SerializedName(value = &quot;INR&quot;, alternate = {&quot;USD&quot;, &quot;GBP&quot;, &quot;EUR&quot;, &quot;CHF&quot;})\n    private Rate rate;\n\n    public Rate getRate() {\n        return rate;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9748857,"reputation":4106,"user_id":7227834,"display_name":"AmrDeveloper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637227126,"creation_date":1637227126,"answer_id":70017252,"question_id":69973850,"body_markdown":"For an unlimited number of options, you should use `Map` so it will return currency name and rate, this solution will work also if you want to receive more than one rate\r\n\r\n```java\r\npublic class Rates {\r\n\r\n    private Map&lt;String, Rate&gt; rates;\r\n\r\n    public Map&lt;String, Rate&gt; getRates() {\r\n        return rate;\r\n    }\r\n}\r\n```","title":"Set Dynamic SerializedName annotation in android java","body":"<p>For an unlimited number of options, you should use <code>Map</code> so it will return currency name and rate, this solution will work also if you want to receive more than one rate</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Rates {\n\n    private Map&lt;String, Rate&gt; rates;\n\n    public Map&lt;String, Rate&gt; getRates() {\n        return rate;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":21165874,"reputation":681,"user_id":16342700,"display_name":"Abhishek Vashishtha_IBS"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":466,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69984006,"answer_count":2,"score":1,"last_activity_date":1637227126,"creation_date":1636976515,"question_id":69973850,"body_markdown":"Please Fix this I m new to android.\r\n\r\nI need to be able to edit the value in the @SerializedName annotation with each call. Here&#39;s the JSON response:\r\n```\r\n{\r\n    &quot;rates&quot;: {\r\n        &quot;INR&quot;: {  //Problem with INR\r\n            &quot;currency_name&quot;: &quot;Indian rupee&quot;,\r\n            &quot;rate&quot;: &quot;74.4600&quot;,\r\n            &quot;rate_for_amount&quot;: &quot;74.4600&quot;\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n\r\nHere&#39;s my data class:\r\n```\r\npublic class Rates {\r\n        @SerializedName(&quot;INR&quot;) //Set dynamic serializedName annotation here\r\n        private INR INR;\r\n        public CurrencyConverterResponse.INR getINR() {\r\n            return INR;\r\n        }\r\n    }\r\n    public class INR {\r\n        @SerializedName(&quot;currency_name&quot;)\r\n        private String currencyName;\r\n        @SerializedName(&quot;rate&quot;)\r\n        private String rate;\r\n        @SerializedName(&quot;rate_for_amount&quot;)\r\n        private String rateForAmount;\r\n\r\n        public String getCurrencyName() {\r\n            return currencyName;\r\n        }\r\n        public String getRate() {\r\n            return rate;\r\n        }\r\n        public String getRateForAmount() {\r\n            return rateForAmount;\r\n        }\r\n    }\r\n```\r\n\r\n\r\n","title":"Set Dynamic SerializedName annotation in android java","body":"<p>Please Fix this I m new to android.</p>\n<p>I need to be able to edit the value in the @SerializedName annotation with each call. Here's the JSON response:</p>\n<pre><code>{\n    &quot;rates&quot;: {\n        &quot;INR&quot;: {  //Problem with INR\n            &quot;currency_name&quot;: &quot;Indian rupee&quot;,\n            &quot;rate&quot;: &quot;74.4600&quot;,\n            &quot;rate_for_amount&quot;: &quot;74.4600&quot;\n        }\n    }\n}\n</code></pre>\n<p>Here's my data class:</p>\n<pre><code>public class Rates {\n        @SerializedName(&quot;INR&quot;) //Set dynamic serializedName annotation here\n        private INR INR;\n        public CurrencyConverterResponse.INR getINR() {\n            return INR;\n        }\n    }\n    public class INR {\n        @SerializedName(&quot;currency_name&quot;)\n        private String currencyName;\n        @SerializedName(&quot;rate&quot;)\n        private String rate;\n        @SerializedName(&quot;rate_for_amount&quot;)\n        private String rateForAmount;\n\n        public String getCurrencyName() {\n            return currencyName;\n        }\n        public String getRate() {\n            return rate;\n        }\n        public String getRateForAmount() {\n            return rateForAmount;\n        }\n    }\n</code></pre>\n"},{"tags":["java","spring-boot","spring-boot-actuator"],"comments":[{"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"score":0,"creation_date":1637226084,"post_id":70016970,"comment_id":123770810,"body_markdown":"Can you describe more detail about your need? I don&#39;t understand your need.","body":"Can you describe more detail about your need? I don&#39;t understand your need."},{"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"score":0,"creation_date":1637226490,"post_id":70016970,"comment_id":123770945,"body_markdown":"If your application isn&#39;t running, what would receive the request and return a 404? Google &quot;application gateway&quot; or &quot;reverse proxy&quot;.","body":"If your application isn&#39;t running, what would receive the request and return a 404? Google &quot;application gateway&quot; or &quot;reverse proxy&quot;."},{"owner":{"account_id":4099584,"reputation":2238,"user_id":3365479,"accept_rate":80,"display_name":"madteapot"},"score":0,"creation_date":1637226584,"post_id":70016970,"comment_id":123770985,"body_markdown":"If the application is shutdown it can&#39;t possibly provide you a response that you desire. You can front your application with some reverse proxy or other method and provide custom handling. Spring/actuator isn&#39;t responsible for what is returned to client once it has shutdown","body":"If the application is shutdown it can&#39;t possibly provide you a response that you desire. You can front your application with some reverse proxy or other method and provide custom handling. Spring/actuator isn&#39;t responsible for what is returned to client once it has shutdown"}],"answers":[{"tags":[],"owner":{"account_id":222096,"reputation":10190,"user_id":480467,"accept_rate":0,"display_name":"Werner Altewischer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637226639,"creation_date":1637226639,"answer_id":70017162,"question_id":70016970,"body_markdown":"Starting from Spring Boot 2.3 there is a property [graceful shutdown][1].\r\n\r\n```\r\nserver.shutdown=graceful\r\n```\r\n\r\nIt will ensure a 503 (service unavailable) response is returned when shutting down. This seems more appropriate I guess than 404. However, with a reverse proxy such as `nginx` you will be able to [change the status code][2].\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-web-server-shutdown\r\n  [2]: https://stackoverflow.com/a/9088151/480467","title":"Spring Boot Actuator - shutdown","body":"<p>Starting from Spring Boot 2.3 there is a property <a href=\"https://www.baeldung.com/spring-boot-web-server-shutdown\" rel=\"nofollow noreferrer\">graceful shutdown</a>.</p>\n<pre><code>server.shutdown=graceful\n</code></pre>\n<p>It will ensure a 503 (service unavailable) response is returned when shutting down. This seems more appropriate I guess than 404. However, with a reverse proxy such as <code>nginx</code> you will be able to <a href=\"https://stackoverflow.com/a/9088151/480467\">change the status code</a>.</p>\n"}],"owner":{"account_id":20425037,"reputation":69,"user_id":14985218,"display_name":"try_harder"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1147,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1637226639,"creation_date":1637225650,"question_id":70016970,"body_markdown":"I am using the `actuator/shutdown` endpoint to make graceful shutdown of application. But what I need is to get the *404 Http response* from application when it is in shutdown mode. Is it possible to make such a thing using the actuator?","title":"Spring Boot Actuator - shutdown","body":"<p>I am using the <code>actuator/shutdown</code> endpoint to make graceful shutdown of application. But what I need is to get the <em>404 Http response</em> from application when it is in shutdown mode. Is it possible to make such a thing using the actuator?</p>\n"},{"tags":["java","maven","debian","ubuntu-16.04","maven-assembly-plugin"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1526232596,"post_id":50317900,"comment_id":87653369,"body_markdown":"First I would recommend to upgrade your maven-assembly-plugin to the most recent version see here: https://maven.apache.org/plugins/maven-assembly-plugin/","body":"First I would recommend to upgrade your maven-assembly-plugin to the most recent version see here: <a href=\"https://maven.apache.org/plugins/maven-assembly-plugin/\" rel=\"nofollow noreferrer\">maven.apache.org/plugins/maven-assembly-plugin</a>"},{"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"score":0,"creation_date":1526263259,"post_id":50317900,"comment_id":87660300,"body_markdown":"@khmarbaise I have upgrade it to 3.1.0 but then I get below error. I remove the version tag also and tried with 2.5.1\nFailed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.5.1:single (assembly) on project: No formats specified in the execution parameters or the assembly descriptor.  https://issues.apache.org/jira/browse/FALCON-1898  Also earlier I ran only mvn clean package command. Should I have to execute a different maven command?","body":"@khmarbaise I have upgrade it to 3.1.0 but then I get below error. I remove the version tag also and tried with 2.5.1 Failed to execute goal org.apache.maven.plugins:maven-assembly-plugin:2.5.1:single (assembly) on project: No formats specified in the execution parameters or the assembly descriptor.  <a href=\"https://issues.apache.org/jira/browse/FALCON-1898\" rel=\"nofollow noreferrer\">issues.apache.org/jira/browse/FALCON-1898</a>  Also earlier I ran only mvn clean package command. Should I have to execute a different maven command?"},{"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"score":0,"creation_date":1526264537,"post_id":50317900,"comment_id":87660519,"body_markdown":"what is the format i should put in my case?","body":"what is the format i should put in my case?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1526283552,"post_id":50317900,"comment_id":87666068,"body_markdown":"As the error message indicates you have to define formats either zip, tar, tar.gz etc. and of course you should define an `&lt;id&gt;..&lt;/id&gt;`...","body":"As the error message indicates you have to define formats either zip, tar, tar.gz etc. and of course you should define an <code>&lt;id&gt;..&lt;&#47;id&gt;</code>..."}],"answers":[{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1637226493,"creation_date":1637226493,"answer_id":70017140,"question_id":50317900,"body_markdown":"Just for future readers: I was also searching for a solution and came across this question. Years later the update problem did not apply to me. The above example was already sufficient.\r\n\r\nAll I had to add to my assembly file was\r\n\r\n    &lt;fileMode&gt;0755&lt;/fileMode&gt;","title":"Set executable file permission using maven assembly","body":"<p>Just for future readers: I was also searching for a solution and came across this question. Years later the update problem did not apply to me. The above example was already sufficient.</p>\n<p>All I had to add to my assembly file was</p>\n<pre><code>&lt;fileMode&gt;0755&lt;/fileMode&gt;\n</code></pre>\n"}],"owner":{"account_id":114905,"reputation":7357,"user_id":301957,"accept_rate":50,"display_name":"Harshana"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1560,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637226493,"creation_date":1526226519,"question_id":50317900,"body_markdown":"How can I say give executable permision to shell script reside under {project.basedir}/src/deb/init. I dont want to package them to different folder or anything but I just want to give the executable permission to that file. I have add below but when I extract the debian and check the file permission its still looks as below,\r\n\r\n -rw-r--r-- 1 myuser  ms-media.sh\r\n\r\nDoes this assembly file is correct? What am I missing here?\r\n\r\n\r\n    &lt;assembly xmlns=&quot;http://maven.apache.org/ASSEMBLY/2.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n      xsi:schemaLocation=&quot;http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd&quot;&gt;\r\n      &lt;id/&gt; \r\n      &lt;fileSets&gt;\r\n        &lt;fileSet&gt;\r\n          &lt;useDefaultExcludes/&gt;\r\n          &lt;includes&gt;&lt;include&gt;*.sh&lt;/include&gt;&lt;/includes&gt;\r\n          &lt;excludes/&gt;\r\n          &lt;fileMode&gt;0755&lt;/fileMode&gt;\r\n          &lt;directoryMode/&gt;\r\n          &lt;directory&gt;${project.basedir}/src/deb/init&lt;/directory&gt;\r\n          &lt;lineEnding/&gt;\r\n          &lt;filtered/&gt;\r\n        &lt;/fileSet&gt;\r\n      &lt;/fileSets&gt;\r\n    &lt;/assembly&gt;\r\n\r\nAnd I have this in my pom.xml. default.xml is also in the same level as of pom.xml\r\n\r\n                 &lt;plugin&gt;\r\n    \t\t\t\t&lt;!-- Assembly Plugin for the win! --&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;version&gt;2.2&lt;/version&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;descriptors&gt;\r\n    \t\t\t\t\t\t&lt;descriptor&gt;default.xml&lt;/descriptor&gt;\r\n    \t\t\t\t\t&lt;/descriptors&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;id&gt;assembly&lt;/id&gt;\r\n    \t\t\t\t\t\t&lt;phase&gt;package&lt;/phase&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;single&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;","title":"Set executable file permission using maven assembly","body":"<p>How can I say give executable permision to shell script reside under {project.basedir}/src/deb/init. I dont want to package them to different folder or anything but I just want to give the executable permission to that file. I have add below but when I extract the debian and check the file permission its still looks as below,</p>\n\n<p>-rw-r--r-- 1 myuser  ms-media.sh</p>\n\n<p>Does this assembly file is correct? What am I missing here?</p>\n\n<pre><code>&lt;assembly xmlns=\"http://maven.apache.org/ASSEMBLY/2.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n  xsi:schemaLocation=\"http://maven.apache.org/ASSEMBLY/2.0.0 http://maven.apache.org/xsd/assembly-2.0.0.xsd\"&gt;\n  &lt;id/&gt; \n  &lt;fileSets&gt;\n    &lt;fileSet&gt;\n      &lt;useDefaultExcludes/&gt;\n      &lt;includes&gt;&lt;include&gt;*.sh&lt;/include&gt;&lt;/includes&gt;\n      &lt;excludes/&gt;\n      &lt;fileMode&gt;0755&lt;/fileMode&gt;\n      &lt;directoryMode/&gt;\n      &lt;directory&gt;${project.basedir}/src/deb/init&lt;/directory&gt;\n      &lt;lineEnding/&gt;\n      &lt;filtered/&gt;\n    &lt;/fileSet&gt;\n  &lt;/fileSets&gt;\n&lt;/assembly&gt;\n</code></pre>\n\n<p>And I have this in my pom.xml. default.xml is also in the same level as of pom.xml</p>\n\n<pre><code>             &lt;plugin&gt;\n                &lt;!-- Assembly Plugin for the win! --&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-assembly-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;descriptors&gt;\n                        &lt;descriptor&gt;default.xml&lt;/descriptor&gt;\n                    &lt;/descriptors&gt;\n                &lt;/configuration&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;assembly&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;single&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","json","spring-boot","arraylist"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637168871,"post_id":70008457,"comment_id":123755920,"body_markdown":"What doesn&#39;t work? What happens which you didn&#39;t expect to happen?","body":"What doesn&#39;t work? What happens which you didn&#39;t expect to happen?"},{"owner":{"account_id":23023481,"reputation":73,"user_id":17144150,"display_name":"Taulant Fazliu"},"score":0,"creation_date":1637170019,"post_id":70008457,"comment_id":123756435,"body_markdown":"The method throws DepartmentNotFoundException because it cant find the DepartmentEmployee that im telling to find","body":"The method throws DepartmentNotFoundException because it cant find the DepartmentEmployee that im telling to find"},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1637191857,"post_id":70008457,"comment_id":123763724,"body_markdown":"The method seems ok to me, so maybe this is a data issue.","body":"The method seems ok to me, so maybe this is a data issue."},{"owner":{"account_id":8641099,"reputation":3709,"user_id":6469772,"display_name":"LHCHIN"},"score":0,"creation_date":1637214359,"post_id":70008457,"comment_id":123767524,"body_markdown":"`id.equals(employee.getId())` looks weird! Because `id` is an instance of `DepartmentEmployeeId` and I assume that `employee.getId()` should return a `String`.","body":"<code>id.equals(employee.getId())</code> looks weird! Because <code>id</code> is an instance of <code>DepartmentEmployeeId</code> and I assume that <code>employee.getId()</code> should return a <code>String</code>."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637216035,"post_id":70008457,"comment_id":123767872,"body_markdown":"If the code is as you state it should work. So this might be a data issue or you are retrieving (for some reason) the wrong data to compare.","body":"If the code is as you state it should work. So this might be a data issue or you are retrieving (for some reason) the wrong data to compare."}],"answers":[{"tags":[],"owner":{"account_id":23023481,"reputation":73,"user_id":17144150,"display_name":"Taulant Fazliu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1637225763,"creation_date":1637225763,"answer_id":70016994,"question_id":70008457,"body_markdown":"Okay so i found the problem, it was not at the deleteEmployee() in department method but it was at deleteEmployeeFromDepartment() method in the service layer, i was using the wrong method to find the department, and for that it was returning an empty list of DepartmentEmployee\r\n\r\n&gt; From this:\r\n\r\n    @Override\r\n        @Transactional\r\n        public void deleteEmployeeFromDepartment(String deptNo, Long empNo, LocalDate toDate) {\r\n            Department department = this.departmentRepository.findById(deptNo).orElseThrow(()-&gt; new DepartmentNotFoundException(deptNo));\r\n            department.deleteEmployee(empNo,toDate);\r\n            this.departmentRepository.save(department);\r\n        }\r\n\r\n&gt; To this:\r\n\r\n    @Override\r\n        @Transactional\r\n        public void deleteEmployeeFromDepartment(String deptNo, Long empNo, LocalDate toDate) {\r\n            Department department = this.departmentRepository.findByIdWithEmployees(deptNo).orElseThrow(()-&gt; new DepartmentNotFoundException(deptNo));\r\n            department.deleteEmployee(empNo,toDate);\r\n            this.departmentRepository.save(department);\r\n        }","title":"How to find an Object on a arraylist by an embeddable id","body":"<p>Okay so i found the problem, it was not at the deleteEmployee() in department method but it was at deleteEmployeeFromDepartment() method in the service layer, i was using the wrong method to find the department, and for that it was returning an empty list of DepartmentEmployee</p>\n<blockquote>\n<p>From this:</p>\n</blockquote>\n<pre><code>@Override\n    @Transactional\n    public void deleteEmployeeFromDepartment(String deptNo, Long empNo, LocalDate toDate) {\n        Department department = this.departmentRepository.findById(deptNo).orElseThrow(()-&gt; new DepartmentNotFoundException(deptNo));\n        department.deleteEmployee(empNo,toDate);\n        this.departmentRepository.save(department);\n    }\n</code></pre>\n<blockquote>\n<p>To this:</p>\n</blockquote>\n<pre><code>@Override\n    @Transactional\n    public void deleteEmployeeFromDepartment(String deptNo, Long empNo, LocalDate toDate) {\n        Department department = this.departmentRepository.findByIdWithEmployees(deptNo).orElseThrow(()-&gt; new DepartmentNotFoundException(deptNo));\n        department.deleteEmployee(empNo,toDate);\n        this.departmentRepository.save(department);\n    }\n</code></pre>\n"}],"owner":{"account_id":23023481,"reputation":73,"user_id":17144150,"display_name":"Taulant Fazliu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":243,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637225763,"creation_date":1637167769,"question_id":70008457,"body_markdown":"I have a many-to-many relationship between `Department` and `Employee` [![Database Schema][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Fcfb9.jpg\r\n\r\nAs a relational class that connect both `Employee` and `Department` classes I have a class called `DepartmentEmployee`, this class has an `@EmbeddableId` as the `id` which contains the primary keys from `Department` and `Employee`,\r\n\r\n## DepartmentEmployee Class ##\r\n\r\n    @Entity\r\n    @Table(name = &quot;dept_emp&quot;)\r\n    public class DepartmentEmployee {\r\n    \r\n            @EmbeddedId\r\n            private DepartmentEmployeeId id;\r\n        \r\n            @JsonIgnore\r\n            @MapsId(&quot;deptNo&quot;)\r\n            @JoinColumn(name = &quot;dept_no&quot;)\r\n            @ManyToOne(fetch = FetchType.LAZY)\r\n            private Department department;\r\n        \r\n            @JsonIgnore\r\n            @MapsId(&quot;empNo&quot;)\r\n            @JoinColumn(name = &quot;emp_no&quot;)\r\n            @ManyToOne(fetch = FetchType.LAZY)\r\n            private Employee employee;\r\n        \r\n            @Column(name = &quot;from_date&quot;)\r\n            private LocalDate fromDate;\r\n        \r\n            @Column(name = &quot;to_date&quot;)\r\n            private LocalDate toDate;\r\n        \r\n            DepartmentEmployee() {\r\n            }\r\n        \r\n            public DepartmentEmployee(Department department, Employee employee) {\r\n                this.department = department;\r\n                this.employee = employee;\r\n                this.id = new DepartmentEmployeeId(department.getDeptNo(), employee.getEmpNo());\r\n            }\r\n        \r\n            public DepartmentEmployeeId getId() {\r\n                return id;\r\n            }\r\n        \r\n            public void setId(DepartmentEmployeeId id) {\r\n                this.id = id;\r\n            }\r\n        \r\n            public Employee getEmployee() {\r\n                return employee;\r\n            }\r\n        \r\n            public LocalDate getFromDate() {\r\n                return fromDate;\r\n            }\r\n        \r\n            public void setFromDate(LocalDate fromDate) {\r\n                this.fromDate = fromDate;\r\n            }\r\n        \r\n            public LocalDate getToDate() {\r\n                return toDate;\r\n            }\r\n        \r\n            public void setToDate(LocalDate toDate) {\r\n                this.toDate = toDate;\r\n            }\r\n        }\r\n\r\n\r\n## DepartmentEmployeeId class (The embedded class) ##\r\n\r\n    @Embeddable\r\n    public class DepartmentEmployeeId implements Serializable {\r\n    \r\n        @Column(name = &quot;dept_no&quot;)\r\n        private String deptNo;\r\n    \r\n        @Column(name = &quot;emp_no&quot;)\r\n        private Long empNo;\r\n    \r\n        DepartmentEmployeeId() {\r\n        }\r\n    \r\n        public DepartmentEmployeeId(String deptNo, Long empNo) {\r\n            this.deptNo = deptNo;\r\n            this.empNo = empNo;\r\n        }\r\n    \r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n    \r\n            if (o == null || getClass() != o.getClass())\r\n                return false;\r\n    \r\n            DepartmentEmployeeId that = (DepartmentEmployeeId) o;\r\n            return Objects.equals(deptNo, that.deptNo) &amp;&amp;\r\n                    Objects.equals(empNo, that.empNo);\r\n        }\r\n    \r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(deptNo, empNo);\r\n        }\r\n    }\r\n\r\n## Department Class ##\r\n\r\n    @Entity\r\n    @Table(name = &quot;departments&quot;)\r\n    public class Department {\r\n    \r\n        @Id\r\n        @Column(name = &quot;dept_no&quot;)\r\n        private String deptNo;\r\n    \r\n        @Column(name = &quot;dept_name&quot;)\r\n        private String deptName;\r\n    \r\n        @JsonIgnore\r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;department&quot;, orphanRemoval = true)\r\n        private List&lt;DepartmentEmployee&gt; employees = new ArrayList&lt;&gt;();\r\n    \r\n        public String getDeptNo() {\r\n            return deptNo;\r\n        }\r\n    \r\n        public void setDeptNo(String deptNo) {\r\n            this.deptNo = deptNo;\r\n        }\r\n    \r\n        public String getDeptName() {\r\n            return deptName;\r\n        }\r\n    \r\n        public void setDeptName(String deptName) {\r\n            this.deptName = deptName;\r\n        }\r\n    \r\n        public void addEmployee(Employee employee, LocalDate fromDate) {\r\n            DepartmentEmployee employeeToAdd = new DepartmentEmployee(this, employee);\r\n            employeeToAdd.setFromDate(fromDate);\r\n            employees.add(employeeToAdd);\r\n        }\r\n    \r\n    }\r\n\r\n\r\nNow in `DepartmentEmployee` class I have two fields, `fromDate` and `toDate`, `fromDate` tells when an employee is added in a department, `toDate` is the date that tells when an employee is removed from the department, my problem is at the `delete` method which is supposed to find an `DepartmentEmployee` by `DepartmentEmployeeId` and set its `toDate` to whatever date i send it, but im not being able to make the method find an `DepartmentEmployee` by `DepartmentEmployeeId`\r\n\r\n## The Method that i need to fix which is in the `Department` Class ##\r\n\r\n    public void deleteEmployee(Long empNo, LocalDate toDate) {\r\n        DepartmentEmployeeId id = new DepartmentEmployeeId(deptNo, empNo);\r\n        this.employees.stream().filter(employee -&gt; id.equals(employee.getId())).findAny().orElseThrow(() -&gt; new DepartmentNotFoundException(deptNo)).setToDate(toDate);\r\n        \r\n    }\r\n\r\n\r\n\r\n","title":"How to find an Object on a arraylist by an embeddable id","body":"<p>I have a many-to-many relationship between <code>Department</code> and <code>Employee</code> <a href=\"https://i.stack.imgur.com/Fcfb9.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fcfb9.jpg\" alt=\"Database Schema\" /></a></p>\n<p>As a relational class that connect both <code>Employee</code> and <code>Department</code> classes I have a class called <code>DepartmentEmployee</code>, this class has an <code>@EmbeddableId</code> as the <code>id</code> which contains the primary keys from <code>Department</code> and <code>Employee</code>,</p>\n<h2>DepartmentEmployee Class</h2>\n<pre><code>@Entity\n@Table(name = &quot;dept_emp&quot;)\npublic class DepartmentEmployee {\n\n        @EmbeddedId\n        private DepartmentEmployeeId id;\n    \n        @JsonIgnore\n        @MapsId(&quot;deptNo&quot;)\n        @JoinColumn(name = &quot;dept_no&quot;)\n        @ManyToOne(fetch = FetchType.LAZY)\n        private Department department;\n    \n        @JsonIgnore\n        @MapsId(&quot;empNo&quot;)\n        @JoinColumn(name = &quot;emp_no&quot;)\n        @ManyToOne(fetch = FetchType.LAZY)\n        private Employee employee;\n    \n        @Column(name = &quot;from_date&quot;)\n        private LocalDate fromDate;\n    \n        @Column(name = &quot;to_date&quot;)\n        private LocalDate toDate;\n    \n        DepartmentEmployee() {\n        }\n    \n        public DepartmentEmployee(Department department, Employee employee) {\n            this.department = department;\n            this.employee = employee;\n            this.id = new DepartmentEmployeeId(department.getDeptNo(), employee.getEmpNo());\n        }\n    \n        public DepartmentEmployeeId getId() {\n            return id;\n        }\n    \n        public void setId(DepartmentEmployeeId id) {\n            this.id = id;\n        }\n    \n        public Employee getEmployee() {\n            return employee;\n        }\n    \n        public LocalDate getFromDate() {\n            return fromDate;\n        }\n    \n        public void setFromDate(LocalDate fromDate) {\n            this.fromDate = fromDate;\n        }\n    \n        public LocalDate getToDate() {\n            return toDate;\n        }\n    \n        public void setToDate(LocalDate toDate) {\n            this.toDate = toDate;\n        }\n    }\n</code></pre>\n<h2>DepartmentEmployeeId class (The embedded class)</h2>\n<pre><code>@Embeddable\npublic class DepartmentEmployeeId implements Serializable {\n\n    @Column(name = &quot;dept_no&quot;)\n    private String deptNo;\n\n    @Column(name = &quot;emp_no&quot;)\n    private Long empNo;\n\n    DepartmentEmployeeId() {\n    }\n\n    public DepartmentEmployeeId(String deptNo, Long empNo) {\n        this.deptNo = deptNo;\n        this.empNo = empNo;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n\n        if (o == null || getClass() != o.getClass())\n            return false;\n\n        DepartmentEmployeeId that = (DepartmentEmployeeId) o;\n        return Objects.equals(deptNo, that.deptNo) &amp;&amp;\n                Objects.equals(empNo, that.empNo);\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(deptNo, empNo);\n    }\n}\n</code></pre>\n<h2>Department Class</h2>\n<pre><code>@Entity\n@Table(name = &quot;departments&quot;)\npublic class Department {\n\n    @Id\n    @Column(name = &quot;dept_no&quot;)\n    private String deptNo;\n\n    @Column(name = &quot;dept_name&quot;)\n    private String deptName;\n\n    @JsonIgnore\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;department&quot;, orphanRemoval = true)\n    private List&lt;DepartmentEmployee&gt; employees = new ArrayList&lt;&gt;();\n\n    public String getDeptNo() {\n        return deptNo;\n    }\n\n    public void setDeptNo(String deptNo) {\n        this.deptNo = deptNo;\n    }\n\n    public String getDeptName() {\n        return deptName;\n    }\n\n    public void setDeptName(String deptName) {\n        this.deptName = deptName;\n    }\n\n    public void addEmployee(Employee employee, LocalDate fromDate) {\n        DepartmentEmployee employeeToAdd = new DepartmentEmployee(this, employee);\n        employeeToAdd.setFromDate(fromDate);\n        employees.add(employeeToAdd);\n    }\n\n}\n</code></pre>\n<p>Now in <code>DepartmentEmployee</code> class I have two fields, <code>fromDate</code> and <code>toDate</code>, <code>fromDate</code> tells when an employee is added in a department, <code>toDate</code> is the date that tells when an employee is removed from the department, my problem is at the <code>delete</code> method which is supposed to find an <code>DepartmentEmployee</code> by <code>DepartmentEmployeeId</code> and set its <code>toDate</code> to whatever date i send it, but im not being able to make the method find an <code>DepartmentEmployee</code> by <code>DepartmentEmployeeId</code></p>\n<h2>The Method that i need to fix which is in the <code>Department</code> Class</h2>\n<pre><code>public void deleteEmployee(Long empNo, LocalDate toDate) {\n    DepartmentEmployeeId id = new DepartmentEmployeeId(deptNo, empNo);\n    this.employees.stream().filter(employee -&gt; id.equals(employee.getId())).findAny().orElseThrow(() -&gt; new DepartmentNotFoundException(deptNo)).setToDate(toDate);\n    \n}\n</code></pre>\n"},{"tags":["java","logback","slf4j"],"comments":[{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1637225414,"post_id":70016776,"comment_id":123770590,"body_markdown":"I tried to improve the wording of your question a bit - feel free to edit if you don&#39;t agree with my changes.","body":"I tried to improve the wording of your question a bit - feel free to edit if you don&#39;t agree with my changes."},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1637225743,"post_id":70016776,"comment_id":123770694,"body_markdown":"Related - possible duplicate, but I don&#39;t know enough about logback to be sure: https://stackoverflow.com/questions/5653062/how-can-i-configure-logback-to-log-different-levels-for-a-logger-to-different-de","body":"Related - possible duplicate, but I don&#39;t know enough about logback to be sure: <a href=\"https://stackoverflow.com/questions/5653062/how-can-i-configure-logback-to-log-different-levels-for-a-logger-to-different-de\" title=\"how can i configure logback to log different levels for a logger to different de\">stackoverflow.com/questions/5653062/&hellip;</a>"}],"owner":{"account_id":15876793,"reputation":551,"user_id":11455772,"display_name":"gal leshem"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637225343,"creation_date":1637224557,"question_id":70016776,"body_markdown":"I created 2 `PatternLayoutEncoder` in my program logger with different fields, 1 for info and debug messages and 2 for warning and error messages.\r\n\r\n\r\n    ThresholdFilter consoleFilter = new ThresholdFilter();\r\n    consoleFilter.setLevel(&quot;INFO&quot;);\r\n    consoleFilter.start();\r\n    consoleAppenderError.addFilter(consoleFilter);\r\n    \r\n    \r\n    ThresholdFilter consoleFilterError = new ThresholdFilter();\r\n    consoleFilterError.setLevel(&quot;WARN&quot;);\r\n    consoleFilterError.start();\r\n    consoleAppenderError.addFilter(consoleFilterError);\r\n\r\nThe info logger print also the warning and error messages, and I get double messages.\r\n\r\nIs there an option to set specific level so that the info logger only receives info and debug messages without error and warning massages? ","title":"Set specific level ThresholdFilter","body":"<p>I created 2 <code>PatternLayoutEncoder</code> in my program logger with different fields, 1 for info and debug messages and 2 for warning and error messages.</p>\n<pre><code>ThresholdFilter consoleFilter = new ThresholdFilter();\nconsoleFilter.setLevel(&quot;INFO&quot;);\nconsoleFilter.start();\nconsoleAppenderError.addFilter(consoleFilter);\n\n\nThresholdFilter consoleFilterError = new ThresholdFilter();\nconsoleFilterError.setLevel(&quot;WARN&quot;);\nconsoleFilterError.start();\nconsoleAppenderError.addFilter(consoleFilterError);\n</code></pre>\n<p>The info logger print also the warning and error messages, and I get double messages.</p>\n<p>Is there an option to set specific level so that the info logger only receives info and debug messages without error and warning massages?</p>\n"},{"tags":["java","spring","spring-data-mongodb","criteria","case-insensitive"],"comments":[{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1635987606,"post_id":69833178,"comment_id":123441226,"body_markdown":"Don`t know your API, but dont you have a select uppercase to compare with equals uppercase criteria? like ```SELECT * FROM cars where UPPER(&#39;car.color&#39;) = &#39;BLUE&#39;```","body":"Don`t know your API, but dont you have a select uppercase to compare with equals uppercase criteria? like <code>SELECT * FROM cars where UPPER(&#39;car.color&#39;) = &#39;BLUE&#39;</code>"},{"owner":{"account_id":2281096,"reputation":497,"user_id":14995131,"display_name":"jimmy"},"score":0,"creation_date":1635988853,"post_id":69833178,"comment_id":123441416,"body_markdown":"Thanks for the suggestion. I already have some entries in the database with upper/lower case that can&#39;t be updated, so that won&#39;t work.","body":"Thanks for the suggestion. I already have some entries in the database with upper/lower case that can&#39;t be updated, so that won&#39;t work."},{"owner":{"account_id":269227,"reputation":18215,"user_id":558433,"accept_rate":72,"display_name":"Marcos Vasconcelos"},"score":0,"creation_date":1636043693,"post_id":69833178,"comment_id":123458256,"body_markdown":"The idea of the select upper is to change the result of the query not to update the database","body":"The idea of the select upper is to change the result of the query not to update the database"}],"answers":[{"tags":[],"owner":{"account_id":13273879,"reputation":202,"user_id":9583888,"display_name":"bartius"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635985757,"creation_date":1635985757,"answer_id":69833238,"question_id":69833178,"body_markdown":"I think what you want is to pre process your string to be all caps or all lowercase. In java that&#39;s done like:\r\n\r\n`car_color.toLowerCase()`\r\nor\r\n`car_color.toUpperCase()`\r\n\r\nThen you know its all in caps or all in lowercase, and can compare the string appropriately","title":"How search case insensitive values using Criteria, MongoTemplate and Java?","body":"<p>I think what you want is to pre process your string to be all caps or all lowercase. In java that's done like:</p>\n<p><code>car_color.toLowerCase()</code>\nor\n<code>car_color.toUpperCase()</code></p>\n<p>Then you know its all in caps or all in lowercase, and can compare the string appropriately</p>\n"},{"tags":[],"owner":{"account_id":2281096,"reputation":497,"user_id":14995131,"display_name":"jimmy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635988990,"creation_date":1635988990,"answer_id":69833524,"question_id":69833178,"body_markdown":"The solution for my problem is:\r\n\r\n    criteria = new Criteria().andOperator(where(&quot;car.color&quot;).regex(&quot;^&quot; + car_color+ &quot;$&quot;, &quot;i&quot;),\r\n                                          where(&quot;car_size&quot;).is(car_size))","title":"How search case insensitive values using Criteria, MongoTemplate and Java?","body":"<p>The solution for my problem is:</p>\n<pre><code>criteria = new Criteria().andOperator(where(&quot;car.color&quot;).regex(&quot;^&quot; + car_color+ &quot;$&quot;, &quot;i&quot;),\n                                      where(&quot;car_size&quot;).is(car_size))\n</code></pre>\n"}],"owner":{"account_id":2281096,"reputation":497,"user_id":14995131,"display_name":"jimmy"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1083,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69833524,"answer_count":2,"score":1,"last_activity_date":1637224623,"creation_date":1635985094,"question_id":69833178,"body_markdown":"I&#39;m currently doing:\r\n\r\n    criteria = new Criteria().andOperator(where(&quot;car.color&quot;).is(car_color),\r\n                                          where(&quot;car_size&quot;).is(car_size))\r\n\r\nHow to make this search works for both `car_color = BLUE` and `car_color = blue` ?\r\n\r\n------------------------------------------------------------\r\nUpdate:\r\n\r\nThis partially works:\r\n\r\n    where(&quot;car.color&quot;).regex(car_color, &quot;i&quot;),\r\n\r\nBut then all values below would be updated:\r\n\r\n    BLUE\r\n    BBLUE\r\n    blue\r\n    bluee\r\n\r\nAnd I want to update only what is matched in the `car_color` variable(case insensitive).","title":"How search case insensitive values using Criteria, MongoTemplate and Java?","body":"<p>I'm currently doing:</p>\n<pre><code>criteria = new Criteria().andOperator(where(&quot;car.color&quot;).is(car_color),\n                                      where(&quot;car_size&quot;).is(car_size))\n</code></pre>\n<p>How to make this search works for both <code>car_color = BLUE</code> and <code>car_color = blue</code> ?</p>\n<hr />\n<p>Update:</p>\n<p>This partially works:</p>\n<pre><code>where(&quot;car.color&quot;).regex(car_color, &quot;i&quot;),\n</code></pre>\n<p>But then all values below would be updated:</p>\n<pre><code>BLUE\nBBLUE\nblue\nbluee\n</code></pre>\n<p>And I want to update only what is matched in the <code>car_color</code> variable(case insensitive).</p>\n"},{"tags":["java","vector"],"answers":[{"tags":[],"owner":{"account_id":395357,"reputation":44547,"user_id":758280,"accept_rate":100,"display_name":"Jeffrey"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1343437567,"creation_date":1343437567,"answer_id":11697379,"question_id":11697366,"body_markdown":"You cannot use primitives as type parameters. You either need to use a `Vector&lt;Double&gt;` (or [even better](https://stackoverflow.com/q/1386275/758280), `List&lt;Double&gt;`) or use one of the [Trove](http://trove.starlight-systems.com/) collections if you really need to avoid the performance hit of boxing/unboxing.","title":"Java: vector declaration","body":"<p>You cannot use primitives as type parameters. You either need to use a <code>Vector&lt;Double&gt;</code> (or <a href=\"https://stackoverflow.com/q/1386275/758280\">even better</a>, <code>List&lt;Double&gt;</code>) or use one of the <a href=\"http://trove.starlight-systems.com/\" rel=\"nofollow noreferrer\">Trove</a> collections if you really need to avoid the performance hit of boxing/unboxing.</p>\n"},{"tags":[],"owner":{"account_id":1489457,"reputation":569,"user_id":1396915,"accept_rate":73,"display_name":"Quick n Dirty"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1343437727,"creation_date":1343437727,"answer_id":11697394,"question_id":11697366,"body_markdown":"Java generics can only hold objects, not primitives\r\n\r\nOh, too late ; )\r\n\r\n","title":"Java: vector declaration","body":"<p>Java generics can only hold objects, not primitives</p>\n\n<p>Oh, too late ; )</p>\n"},{"tags":[],"owner":{"account_id":8421634,"reputation":99,"user_id":6327926,"accept_rate":60,"display_name":"HWerneck"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1489917076,"creation_date":1489917076,"answer_id":42885148,"question_id":11697366,"body_markdown":"You should go with:\r\n\r\n    double [n] vector;\r\n\r\nReplace &quot;n&quot; for the number of positions your vector will have.\r\nYou can make it bigger, if you want and I&#39;m not mistaken.\r\nIf you want the size of your vector not to be fixed, you should use an Array or ArrayList instead of a vector.","title":"Java: vector declaration","body":"<p>You should go with:</p>\n\n<pre><code>double [n] vector;\n</code></pre>\n\n<p>Replace \"n\" for the number of positions your vector will have.\nYou can make it bigger, if you want and I'm not mistaken.\nIf you want the size of your vector not to be fixed, you should use an Array or ArrayList instead of a vector.</p>\n"},{"tags":[],"owner":{"account_id":9195024,"reputation":823,"user_id":6834039,"display_name":"Areeha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1583322889,"creation_date":1583322889,"answer_id":60525467,"question_id":11697366,"body_markdown":"The best approach is to use Vector&lt;Double&gt; as this class wraps a value of the primitive type double in an object which contains a single field whose type is double. \r\nAlso, it allows you to convert with string type.","title":"Java: vector declaration","body":"<p>The best approach is to use Vector as this class wraps a value of the primitive type double in an object which contains a single field whose type is double. \nAlso, it allows you to convert with string type.</p>\n"},{"tags":[],"owner":{"account_id":21684993,"reputation":1,"user_id":16000602,"display_name":"NIITIN SAINI"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637224585,"creation_date":1637216799,"answer_id":70015406,"question_id":11697366,"body_markdown":"Use this:\r\n\r\n    Vector &lt; Double &gt; distance_vector = new Vector &lt; Double &gt;();\r\n\r\nIt is working.","title":"Java: vector declaration","body":"<p>Use this:</p>\n<pre><code>Vector &lt; Double &gt; distance_vector = new Vector &lt; Double &gt;();\n</code></pre>\n<p>It is working.</p>\n"}],"owner":{"account_id":1658006,"reputation":643,"user_id":1526984,"accept_rate":53,"display_name":"wesley.ireland"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23154,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":11697379,"answer_count":5,"score":2,"last_activity_date":1637224585,"creation_date":1343437425,"question_id":11697366,"body_markdown":"When I type my declare statement:\r\n\r\n    Vector&lt;double&gt; distance_vector = new Vector&lt;double&gt;();\r\n\r\nI receive the error (underlining &#39;double&#39; in both cases):\r\n\r\n&gt; Syntax error on token &quot;double&quot;, Dimensions expected after this token\r\n\r\nWhat am I doing wrong here?","title":"Java: vector declaration","body":"<p>When I type my declare statement:</p>\n\n<pre><code>Vector&lt;double&gt; distance_vector = new Vector&lt;double&gt;();\n</code></pre>\n\n<p>I receive the error (underlining 'double' in both cases):</p>\n\n<blockquote>\n  <p>Syntax error on token \"double\", Dimensions expected after this token</p>\n</blockquote>\n\n<p>What am I doing wrong here?</p>\n"},{"tags":["java","spring","oracle","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":2273637,"reputation":950,"user_id":2000467,"display_name":"Antoni Myka"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1594075739,"creation_date":1574860106,"answer_id":59070972,"question_id":58873384,"body_markdown":"You can set the system property when starting the application:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    -Doracle.jdbc.fanEnabled=false\r\n\r\nOr remove the simplefan and ons jars from the classpath. With Maven it might look like this:\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n\t&lt;dependency&gt;\r\n\t  &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;ojdbc10&lt;/artifactId&gt;\r\n\t  &lt;version&gt;${oracle.version}&lt;/version&gt;\r\n\t  &lt;exclusions&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t  &lt;groupId&gt;com.oracle.database.ha&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;simplefan&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t\t&lt;exclusion&gt;\r\n\t\t  &lt;groupId&gt;com.oracle.database.ha&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;ons&lt;/artifactId&gt;\r\n\t\t&lt;/exclusion&gt;\r\n\t  &lt;/exclusions&gt;\r\n\t&lt;/dependency&gt;\r\n\r\nMore details in [Section 29.3 of the Oracle&#39;s JDBC Developer&#39;s guide][1] &quot;Installation and Configuration of Oracle JDBC Driver for FAN Events Support&quot;.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdbc/JDBC-support-Oracle-FAN.html#GUID-069265AF-BBEE-4682-9906-98D8429BFC1C","title":"Spring boot app error log says attempt to configure ONS in FanManager failed with oracle.ons.NoServersAvailable","body":"<p>You can set the system property when starting the application:</p>\n<pre class=\"lang-none prettyprint-override\"><code>-Doracle.jdbc.fanEnabled=false\n</code></pre>\n<p>Or remove the simplefan and ons jars from the classpath. With Maven it might look like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.oracle.database.jdbc&lt;/groupId&gt;\n  &lt;artifactId&gt;ojdbc10&lt;/artifactId&gt;\n  &lt;version&gt;${oracle.version}&lt;/version&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.oracle.database.ha&lt;/groupId&gt;\n      &lt;artifactId&gt;simplefan&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.oracle.database.ha&lt;/groupId&gt;\n      &lt;artifactId&gt;ons&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>More details in <a href=\"https://docs.oracle.com/en/database/oracle/oracle-database/12.2/jjdbc/JDBC-support-Oracle-FAN.html#GUID-069265AF-BBEE-4682-9906-98D8429BFC1C\" rel=\"noreferrer\">Section 29.3 of the Oracle's JDBC Developer's guide</a> &quot;Installation and Configuration of Oracle JDBC Driver for FAN Events Support&quot;.</p>\n"},{"tags":[],"owner":{"account_id":21713136,"reputation":11,"user_id":16024508,"display_name":"Neelesh mehar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1621948664,"creation_date":1621930864,"answer_id":67684261,"question_id":58873384,"body_markdown":"remove the `simplefan.jar` and `ons.jars` from the `ojdbc8` library ","title":"Spring boot app error log says attempt to configure ONS in FanManager failed with oracle.ons.NoServersAvailable","body":"<p>remove the <code>simplefan.jar</code> and <code>ons.jars</code> from the <code>ojdbc8</code> library</p>\n"},{"tags":[],"owner":{"account_id":3054915,"reputation":448,"user_id":2588770,"display_name":"user2588770"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637224285,"creation_date":1637224285,"answer_id":70016722,"question_id":58873384,"body_markdown":"For removing the jars with maven Antoni&#39;s answer might not work for you if the group id for the jars is not identical (different ojdbc version for example). You need to find these group ids. For example I use ojdbc8, looking at the used libraries in my IDE (Idea here) I can see the groupId of ons and simplefan (here com.oracle.jdbc)\r\n\r\n[![Using the IDE to find the groupId of libraries][1]][1]\r\n\r\n\r\nNow I only need to put the appropriate Ids for exclusion (here the example is for ojdbc 8)\r\n\r\n&lt;!-- language: xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;simplefan&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\r\n          &lt;artifactId&gt;ons&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/tQws0.png","title":"Spring boot app error log says attempt to configure ONS in FanManager failed with oracle.ons.NoServersAvailable","body":"<p>For removing the jars with maven Antoni's answer might not work for you if the group id for the jars is not identical (different ojdbc version for example). You need to find these group ids. For example I use ojdbc8, looking at the used libraries in my IDE (Idea here) I can see the groupId of ons and simplefan (here com.oracle.jdbc)</p>\n<p><a href=\"https://i.stack.imgur.com/tQws0.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tQws0.png\" alt=\"Using the IDE to find the groupId of libraries\" /></a></p>\n<p>Now I only need to put the appropriate Ids for exclusion (here the example is for ojdbc 8)</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n  &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\n  &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\n      &lt;artifactId&gt;simplefan&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.oracle.ojdbc&lt;/groupId&gt;\n      &lt;artifactId&gt;ons&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":1744260,"reputation":14886,"user_id":1594823,"accept_rate":64,"display_name":"Saikat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31612,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"accepted_answer_id":59070972,"answer_count":3,"score":21,"last_activity_date":1637224285,"creation_date":1573808117,"question_id":58873384,"body_markdown":"I am running a Spring Boot application (`v2.2.0-RELEASE`) with `spring-boot-starter-jdbc` and `com.oracle.ojdbc:ojdbc8:19.3.0.0` driver. \r\n\r\nWhen I try to query the database using `JdbcTemplate` I see the following error in the console log:\r\n\r\n    2019-11-15 14:07:51.154 ERROR 23436 --- [main] oracle.simplefan.FanManager: attempt to configure ONS in FanManager failed with oracle.ons.NoServersAvailable: Subscription time out\r\n\r\nI have no clue why I&#39;m seeing this error even though the database connection is successful and query result is correct. \r\n\r\nIs there any way to get rid of this error or just ignore?","title":"Spring boot app error log says attempt to configure ONS in FanManager failed with oracle.ons.NoServersAvailable","body":"<p>I am running a Spring Boot application (<code>v2.2.0-RELEASE</code>) with <code>spring-boot-starter-jdbc</code> and <code>com.oracle.ojdbc:ojdbc8:19.3.0.0</code> driver. </p>\n\n<p>When I try to query the database using <code>JdbcTemplate</code> I see the following error in the console log:</p>\n\n<pre><code>2019-11-15 14:07:51.154 ERROR 23436 --- [main] oracle.simplefan.FanManager: attempt to configure ONS in FanManager failed with oracle.ons.NoServersAvailable: Subscription time out\n</code></pre>\n\n<p>I have no clue why I'm seeing this error even though the database connection is successful and query result is correct. </p>\n\n<p>Is there any way to get rid of this error or just ignore?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1637224009,"post_id":70016544,"comment_id":123770111,"body_markdown":"Note that `System.gc()` does not *force* to actually cleanup unused objects, it only suggests to the garbage collector to perform a cleanup.","body":"Note that <code>System.gc()</code> does not <i>force</i> to actually cleanup unused objects, it only suggests to the garbage collector to perform a cleanup."},{"owner":{"account_id":17000499,"reputation":48397,"user_id":12299000,"display_name":"kaya3"},"score":0,"creation_date":1637224121,"post_id":70016544,"comment_id":123770155,"body_markdown":"Also, even if you could force garbage collection, a lambda is not necessarily garbage because the JVM is permitted to cache it for performance reasons. Since your two lambdas are identical, it&#39;s actually an implementation detail whether `key1` and `key2` are different objects in the first place.","body":"Also, even if you could force garbage collection, a lambda is not necessarily garbage because the JVM is permitted to cache it for performance reasons. Since your two lambdas are identical, it&#39;s actually an implementation detail whether <code>key1</code> and <code>key2</code> are different objects in the first place."}],"owner":{"account_id":23375650,"reputation":11,"user_id":17445473,"display_name":"dooong dooong"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637223885,"creation_date":1637223497,"question_id":70016544,"body_markdown":"While I&#39;m studying about &#39;WeakHashMap&#39;, when null is assigned to the reference for lambda expression, it does not seem to be a target for garbage collector. \r\n\r\nAs null was assigned to &#39;key1&#39; in the code below, it was expected that key1 object would be erased from the map. But it wasn&#39;t the result. Callee.CallBack is just FunctionalInterface.\r\n May I know why?\r\n\r\n    @Test\r\n    void callBackWithWeakHashMap() {\r\n        Map&lt;Callee.CallBack, String&gt; map = new WeakHashMap&lt;&gt;();\r\n\r\n        Callee.CallBack key1 = callee1 -&gt; System.out.println(&quot;input &gt; &quot; + callee1.getMsg());\r\n        Callee.CallBack key2 = callee1 -&gt; System.out.println(&quot;input &gt; &quot; + callee1.getMsg());\r\n\r\n        map.put(key1, &quot;1&quot;);\r\n        map.put(key2, &quot;2&quot;);\r\n\r\n        key1 = null;\r\n        System.gc(); // force garbage collect\r\n\r\n        map.entrySet().forEach(System.out::println); // key1 was not expected to be output, but the result was not.\r\n\r\n    }","title":"Java : About weakhashmap and lambda expression","body":"<p>While I'm studying about 'WeakHashMap', when null is assigned to the reference for lambda expression, it does not seem to be a target for garbage collector.</p>\n<p>As null was assigned to 'key1' in the code below, it was expected that key1 object would be erased from the map. But it wasn't the result. Callee.CallBack is just FunctionalInterface.\nMay I know why?</p>\n<pre><code>@Test\nvoid callBackWithWeakHashMap() {\n    Map&lt;Callee.CallBack, String&gt; map = new WeakHashMap&lt;&gt;();\n\n    Callee.CallBack key1 = callee1 -&gt; System.out.println(&quot;input &gt; &quot; + callee1.getMsg());\n    Callee.CallBack key2 = callee1 -&gt; System.out.println(&quot;input &gt; &quot; + callee1.getMsg());\n\n    map.put(key1, &quot;1&quot;);\n    map.put(key2, &quot;2&quot;);\n\n    key1 = null;\n    System.gc(); // force garbage collect\n\n    map.entrySet().forEach(System.out::println); // key1 was not expected to be output, but the result was not.\n\n}\n</code></pre>\n"},{"tags":["java","jboss","reverse-proxy","struts-1","wildfly-9"],"owner":{"account_id":23101919,"reputation":21,"user_id":17211228,"display_name":"Nikita Salunke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1024,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637223731,"creation_date":1637223731,"question_id":70016591,"body_markdown":"From last few Days we are facing some problem because of Firefox 93(latest version) protects against Insecure Downloads and due to this \r\nMozilla Firefox block insecure HTTP downloads on a secure HTTPS page, \r\n   so we can not download our report which was based on HTTP(without SSL) from our Production Site which is based on SSL Certified HTTPS\r\n  \r\nHere is I have shown how our report is generated from our Production site \r\n   1. whereas the user sending the request to fetch or downloading the report that time one request goes to the report Server via     Java Code and then the report server gives a response for report downloading or fetching a reports \r\n\t sample response URL  Report Server:  http//report.abc.com/mycertificate.doc \r\n\t\tso whenever we request a downloading a report at that time we get security-related warning from the Mozilla browser   while downloading the report\r\n   \r\n We try some tackle points as follows: \r\n 1) we were trying to make the report server SSL enable but  did not work for us because our report server is based on windows server 2003 so all supports from this windows server its almost not good enough for making SSL enable.\r\n \r\n 2)Reverse Proxy: we also used the concept of reverse proxy in our project which was deployed on JBoss (Wildfly version 9) for that we did configure some code in the standalone.xml file which follows: \r\n\t\r\nHere is the some configuration changes which was we made but no luck for this:\r\n\r\n   \r\n         &lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:2.0&quot;&gt;\r\n            &lt;buffer-cache name=&quot;default&quot;/&gt;\r\n            &lt;server name=&quot;default-server&quot;&gt;\r\n                &lt;http-listener name=&quot;default&quot; socket-binding=&quot;http&quot; redirect-socket=&quot;https&quot;/&gt;\r\n                &lt;host name=&quot;default-host&quot; alias=&quot;localhost&quot;&gt;\r\n                    &lt;location name=&quot;/&quot; handler=&quot;welcome-content&quot;/&gt;\r\n                    &lt;location name=&quot;/myservices/services&quot; handler=&quot;myproxy&quot;/&gt;\r\n                &lt;/host&gt;\r\n            &lt;/server&gt;\r\n           \r\n       &lt;handlers&gt;\r\n                &lt;file name=&quot;welcome-content&quot; path=&quot;${jboss.home.dir}/welcome-content&quot;/&gt;\r\n                &lt;reverse-proxy name=&quot;myproxy&quot;&gt;\r\n                   &lt;host name=&quot;http://www.example.com&quot; instance-id=&quot;myRoute&quot; outbound-socket-binding=&quot;https-remote&quot;/&gt;\r\n                &lt;/reverse-proxy&gt;\r\n            &lt;/handlers&gt;\r\n        &lt;/subsystem&gt;\r\n\r\n\r\n\t&lt;outbound-socket-binding name=&quot;https-remote&quot;&gt;\r\n            &lt;remote-destination host=&quot;http://www.example.com&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\r\n        &lt;/outbound-socket-binding&gt;\r\n\t \t\r\nabove code snippet I have made changes to the JBoss standalone configuration file but did not  get help out from this configuration setting so, What I am looking for is a reverse proxy in Wildfly 9 to handle insecure HTTP downloads on a secure HTTPS page \r\n\t\t\r\nAny help would be appreciated.\r\n\r\nThanks","title":"WildFly JBOSS Server Reverse Proxy","body":"<p>From last few Days we are facing some problem because of Firefox 93(latest version) protects against Insecure Downloads and due to this\nMozilla Firefox block insecure HTTP downloads on a secure HTTPS page,\nso we can not download our report which was based on HTTP(without SSL) from our Production Site which is based on SSL Certified HTTPS</p>\n<p>Here is I have shown how our report is generated from our Production site</p>\n<ol>\n<li>whereas the user sending the request to fetch or downloading the report that time one request goes to the report Server via     Java Code and then the report server gives a response for report downloading or fetching a reports\nsample response URL  Report Server:  http//report.abc.com/mycertificate.doc\nso whenever we request a downloading a report at that time we get security-related warning from the Mozilla browser   while downloading the report</li>\n</ol>\n<p>We try some tackle points as follows:</p>\n<ol>\n<li>we were trying to make the report server SSL enable but  did not work for us because our report server is based on windows server 2003 so all supports from this windows server its almost not good enough for making SSL enable.</li>\n</ol>\n<p>2)Reverse Proxy: we also used the concept of reverse proxy in our project which was deployed on JBoss (Wildfly version 9) for that we did configure some code in the standalone.xml file which follows:</p>\n<p>Here is the some configuration changes which was we made but no luck for this:</p>\n<pre><code>     &lt;subsystem xmlns=&quot;urn:jboss:domain:undertow:2.0&quot;&gt;\n        &lt;buffer-cache name=&quot;default&quot;/&gt;\n        &lt;server name=&quot;default-server&quot;&gt;\n            &lt;http-listener name=&quot;default&quot; socket-binding=&quot;http&quot; redirect-socket=&quot;https&quot;/&gt;\n            &lt;host name=&quot;default-host&quot; alias=&quot;localhost&quot;&gt;\n                &lt;location name=&quot;/&quot; handler=&quot;welcome-content&quot;/&gt;\n                &lt;location name=&quot;/myservices/services&quot; handler=&quot;myproxy&quot;/&gt;\n            &lt;/host&gt;\n        &lt;/server&gt;\n       \n   &lt;handlers&gt;\n            &lt;file name=&quot;welcome-content&quot; path=&quot;${jboss.home.dir}/welcome-content&quot;/&gt;\n            &lt;reverse-proxy name=&quot;myproxy&quot;&gt;\n               &lt;host name=&quot;http://www.example.com&quot; instance-id=&quot;myRoute&quot; outbound-socket-binding=&quot;https-remote&quot;/&gt;\n            &lt;/reverse-proxy&gt;\n        &lt;/handlers&gt;\n    &lt;/subsystem&gt;\n\n\n&lt;outbound-socket-binding name=&quot;https-remote&quot;&gt;\n        &lt;remote-destination host=&quot;http://www.example.com&quot; port=&quot;${jboss.https.port:8443}&quot;/&gt;\n    &lt;/outbound-socket-binding&gt;\n    \n</code></pre>\n<p>above code snippet I have made changes to the JBoss standalone configuration file but did not  get help out from this configuration setting so, What I am looking for is a reverse proxy in Wildfly 9 to handle insecure HTTP downloads on a secure HTTPS page</p>\n<p>Any help would be appreciated.</p>\n<p>Thanks</p>\n"},{"tags":["java","hibernate","caching","ehcache"],"answers":[{"tags":[],"owner":{"account_id":4979623,"reputation":3944,"user_id":4005008,"display_name":"przemek hertel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1417983002,"creation_date":1417983002,"answer_id":27347259,"question_id":27346702,"body_markdown":"If you want to cache your HQL quert result, you have to instrument your query:\r\n\r\n    List&lt;Foo&gt; result = session\r\n                          .createQuery(&quot;select p from Foo p order ... &quot;)\r\n                          .setCacheable(true)\r\n                          .list();\r\n\r\nAdditionaly you can tell Hibernate, which cache configuration (cache region) it should use:\r\n\r\n    List&lt;Foo&gt; result = session\r\n                          .createQuery(&quot;select p from Foo p order ... &quot;)\r\n                          .setCacheable(true)\r\n                          .setCacheRegion(&quot;foo_region&quot;)\r\n                          .list();\r\n\r\nOf course, global setting `hibernate.cache.use_query_cache` must be set to `true`.\r\n\r\n\r\n`@Cache` annotation on entity class is used to cache single entity when it is fetched **by ID**:\r\n\r\n    Foo foo = session.get(Foo.class, fooId);\r\n\r\n","title":"Hibernate second level cache, one to many","body":"<p>If you want to cache your HQL quert result, you have to instrument your query:</p>\n\n<pre><code>List&lt;Foo&gt; result = session\n                      .createQuery(\"select p from Foo p order ... \")\n                      .setCacheable(true)\n                      .list();\n</code></pre>\n\n<p>Additionaly you can tell Hibernate, which cache configuration (cache region) it should use:</p>\n\n<pre><code>List&lt;Foo&gt; result = session\n                      .createQuery(\"select p from Foo p order ... \")\n                      .setCacheable(true)\n                      .setCacheRegion(\"foo_region\")\n                      .list();\n</code></pre>\n\n<p>Of course, global setting <code>hibernate.cache.use_query_cache</code> must be set to <code>true</code>.</p>\n\n<p><code>@Cache</code> annotation on entity class is used to cache single entity when it is fetched <strong>by ID</strong>:</p>\n\n<pre><code>Foo foo = session.get(Foo.class, fooId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14229149,"reputation":1,"user_id":10278877,"display_name":"Evee Peech"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637223431,"creation_date":1637185576,"answer_id":70011970,"question_id":27346702,"body_markdown":"In both the foo.java and Sentence.java specify\r\n\r\n    @Cacheable\r\n    @Cache(usage=CacheConcurrencyStrategy.READ_ONLY)\r\n\r\nAlso just after the `@OneToMany` annotation specify\r\n\r\n    @Cache(usage=CacheConcurrencyStrategy.READ_ONLY)\r\n\r\nif you are using Query object:\r\n\r\n    Query q \r\n    enable the cacheable to true\r\n\r\n\r\n","title":"Hibernate second level cache, one to many","body":"<p>In both the foo.java and Sentence.java specify</p>\n<pre><code>@Cacheable\n@Cache(usage=CacheConcurrencyStrategy.READ_ONLY)\n</code></pre>\n<p>Also just after the <code>@OneToMany</code> annotation specify</p>\n<pre><code>@Cache(usage=CacheConcurrencyStrategy.READ_ONLY)\n</code></pre>\n<p>if you are using Query object:</p>\n<pre><code>Query q \nenable the cacheable to true\n</code></pre>\n"}],"owner":{"account_id":5449752,"reputation":1,"user_id":4334985,"display_name":"Opyw"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1715,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637223431,"creation_date":1417979573,"question_id":27346702,"body_markdown":"I tried first time to use second level cache according different tutorials and it doesn&#39;t work. I have class :\r\n\r\n    @Entity\r\n    @Table(name=&quot;TABLE_NAME&quot;)\r\n    @org.hibernate.annotations.Cache(usage=CacheConcurrencyStrategy.READ_ONLY)\r\n    public class Foo {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private int id;\r\n\r\n \r\n    @OneToMany(mappedBy = &quot;foo&quot;, cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    private List&lt;Sentence&gt; collection_name;\r\n\r\n\r\nand configuration in my hibernate.cfg.xml file \r\n\r\n     &lt;property name=&quot;hibernate.cache.region.factory_class&quot;&gt;org.hibernate.cache.ehcache.EhCacheRegionFactory&lt;/property&gt;\r\n     &lt;property name=&quot;hibernate.cache.use_second_level_cache&quot;&gt;true&lt;/property&gt;\r\n     &lt;property name=&quot;hibernate.cache.use_query_cache&quot;&gt;true&lt;/property&gt;\r\n\r\n\r\nI turned on \r\n\r\n    &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n\r\nI thought that second query won&#39;t hit database, but it does.\r\n\r\nmy Query :   \r\n\r\n      List&lt;Foo&gt; result = session.createQuery(&quot;select p from Foo p order by size(p.collection_name) desc &quot;).list();\r\n\r\nWhat is wrong ?","title":"Hibernate second level cache, one to many","body":"<p>I tried first time to use second level cache according different tutorials and it doesn't work. I have class :</p>\n\n<pre><code>@Entity\n@Table(name=\"TABLE_NAME\")\n@org.hibernate.annotations.Cache(usage=CacheConcurrencyStrategy.READ_ONLY)\npublic class Foo {\n\n@Id\n@GeneratedValue(strategy = GenerationType.IDENTITY)\nprivate int id;\n\n\n@OneToMany(mappedBy = \"foo\", cascade = CascadeType.ALL, fetch = FetchType.EAGER)\nprivate List&lt;Sentence&gt; collection_name;\n</code></pre>\n\n<p>and configuration in my hibernate.cfg.xml file </p>\n\n<pre><code> &lt;property name=\"hibernate.cache.region.factory_class\"&gt;org.hibernate.cache.ehcache.EhCacheRegionFactory&lt;/property&gt;\n &lt;property name=\"hibernate.cache.use_second_level_cache\"&gt;true&lt;/property&gt;\n &lt;property name=\"hibernate.cache.use_query_cache\"&gt;true&lt;/property&gt;\n</code></pre>\n\n<p>I turned on </p>\n\n<pre><code>&lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n</code></pre>\n\n<p>I thought that second query won't hit database, but it does.</p>\n\n<p>my Query :   </p>\n\n<pre><code>  List&lt;Foo&gt; result = session.createQuery(\"select p from Foo p order by size(p.collection_name) desc \").list();\n</code></pre>\n\n<p>What is wrong ?</p>\n"},{"tags":["java","macos","maven","environment-variables"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1637223747,"post_id":70016532,"comment_id":123769998,"body_markdown":"Hi, can you pls share the output of this command &quot;echo $(/usr/libexec/java_home)&quot; from Mac Terminal","body":"Hi, can you pls share the output of this command &quot;echo $(/usr/libexec/java_home)&quot; from Mac Terminal"},{"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"score":0,"creation_date":1637223994,"post_id":70016532,"comment_id":123770102,"body_markdown":"@VasanthSubramanian, as mentioned above, the output is `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home`","body":"@VasanthSubramanian, as mentioned above, the output is <code>&#47;Library&#47;Internet Plug-Ins&#47;JavaAppletPlugin.plugin&#47;Contents&#47;Home</code>"},{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1637224519,"post_id":70016532,"comment_id":123770274,"body_markdown":"I use IntelliJ in my Mac. I configure JDK in IntelliJ Project by navigating to File | Project Structure | Project Settings | Project.. can you please check whether you configured JDK here?","body":"I use IntelliJ in my Mac. I configure JDK in IntelliJ Project by navigating to File | Project Structure | Project Settings | Project.. can you please check whether you configured JDK here?"},{"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"score":0,"creation_date":1637231624,"post_id":70016532,"comment_id":123773086,"body_markdown":"It is already set to `1.8 version 1.8.0_311`","body":"It is already set to <code>1.8 version 1.8.0_311</code>"}],"owner":{"account_id":16826883,"reputation":91,"user_id":12165946,"display_name":"Kitty Raj"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":318,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637223419,"creation_date":1637223419,"question_id":70016532,"body_markdown":"I switched from windows to MacBook Air which is having M1 chip. I installed java and added the environment variables in .zprofile as follows\r\n```\r\nexport JAVA_HOME=$(/usr/libexec/java_home)\r\nexport ANDROID_HOME=${HOME}/Library/Android/sdk\r\nexport PATH=&quot;${JAVA_HOME}/bin:${ANDROID_HOME}/tools:${ANDROID_HOME}/platform-tools:${PATH}&quot;\r\n```\r\nBut when I run `echo $JAVA_HOME`, I see the output as `/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home` instead of `/Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home`. I am not able to check if variable is set to JDK or JRE.\r\n\r\nFrom Intellij, when I run `mvn test clean`, error is shown as, \r\n```\r\n[INFO] Scanning for projects...\r\n[INFO] \r\n[INFO] ---------------------&lt; org.example:SampleProject &gt;----------------------\r\n[INFO] Building SampleProject 1.0-SNAPSHOT\r\n[INFO] --------------------------------[ jar ]---------------------------------\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ SampleProject ---\r\n[WARNING] Using platform encoding (US-ASCII actually) to copy filtered resources, i.e. build is platform dependent!\r\n[INFO] Copying 0 resource\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ SampleProject ---\r\n[INFO] Nothing to compile - all classes are up to date\r\n[INFO] \r\n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ SampleProject ---\r\n[WARNING] Using platform encoding (US-ASCII actually) to copy filtered resources, i.e. build is platform dependent!\r\n[INFO] skip non existing resourceDirectory /Users/moengage/IdeaProjects/SampleProject/src/test/resources\r\n[INFO] \r\n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ SampleProject ---\r\n[INFO] Changes detected - recompiling the module!\r\n[WARNING] File encoding has not been set, using platform encoding US-ASCII, i.e. build is platform dependent!\r\n[INFO] Compiling 1 source file to /Users/moengage/IdeaProjects/SampleProject/target/test-classes\r\n[INFO] -------------------------------------------------------------\r\n[ERROR] COMPILATION ERROR : \r\n[INFO] -------------------------------------------------------------\r\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\r\n[INFO] 1 error\r\n[INFO] -------------------------------------------------------------\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] BUILD FAILURE\r\n[INFO] ------------------------------------------------------------------------\r\n[INFO] Total time:  1.392 s\r\n[INFO] Finished at: 2021-11-18T13:20:33+05:30\r\n[INFO] ------------------------------------------------------------------------\r\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project SampleProject: Compilation failure\r\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\r\n[ERROR] \r\n[ERROR] -&gt; [Help 1]\r\n[ERROR] \r\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n[ERROR] \r\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n```\r\nNote: I checked others&#39; questions as well and none of them were helpful. Can someone please help me in resolving this.","title":"Compilation failure [ERROR] No compiler is provided in this environment on Mac OS M1","body":"<p>I switched from windows to MacBook Air which is having M1 chip. I installed java and added the environment variables in .zprofile as follows</p>\n<pre><code>export JAVA_HOME=$(/usr/libexec/java_home)\nexport ANDROID_HOME=${HOME}/Library/Android/sdk\nexport PATH=&quot;${JAVA_HOME}/bin:${ANDROID_HOME}/tools:${ANDROID_HOME}/platform-tools:${PATH}&quot;\n</code></pre>\n<p>But when I run <code>echo $JAVA_HOME</code>, I see the output as <code>/Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home</code> instead of <code>/Library/Java/JavaVirtualMachines/jdk1.8.0_311.jdk/Contents/Home</code>. I am not able to check if variable is set to JDK or JRE.</p>\n<p>From Intellij, when I run <code>mvn test clean</code>, error is shown as,</p>\n<pre><code>[INFO] Scanning for projects...\n[INFO] \n[INFO] ---------------------&lt; org.example:SampleProject &gt;----------------------\n[INFO] Building SampleProject 1.0-SNAPSHOT\n[INFO] --------------------------------[ jar ]---------------------------------\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ SampleProject ---\n[WARNING] Using platform encoding (US-ASCII actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] Copying 0 resource\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:compile (default-compile) @ SampleProject ---\n[INFO] Nothing to compile - all classes are up to date\n[INFO] \n[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ SampleProject ---\n[WARNING] Using platform encoding (US-ASCII actually) to copy filtered resources, i.e. build is platform dependent!\n[INFO] skip non existing resourceDirectory /Users/moengage/IdeaProjects/SampleProject/src/test/resources\n[INFO] \n[INFO] --- maven-compiler-plugin:3.1:testCompile (default-testCompile) @ SampleProject ---\n[INFO] Changes detected - recompiling the module!\n[WARNING] File encoding has not been set, using platform encoding US-ASCII, i.e. build is platform dependent!\n[INFO] Compiling 1 source file to /Users/moengage/IdeaProjects/SampleProject/target/test-classes\n[INFO] -------------------------------------------------------------\n[ERROR] COMPILATION ERROR : \n[INFO] -------------------------------------------------------------\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\n[INFO] 1 error\n[INFO] -------------------------------------------------------------\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  1.392 s\n[INFO] Finished at: 2021-11-18T13:20:33+05:30\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.1:testCompile (default-testCompile) on project SampleProject: Compilation failure\n[ERROR] No compiler is provided in this environment. Perhaps you are running on a JRE rather than a JDK?\n[ERROR] \n[ERROR] -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n</code></pre>\n<p>Note: I checked others' questions as well and none of them were helpful. Can someone please help me in resolving this.</p>\n"},{"tags":["java","asp.net","ms-access","jdbc"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637223309,"post_id":70016466,"comment_id":123769848,"body_markdown":"Why is this tagged Java if you&#39;re looking for a ASP.net solution? How is the Java code relevant to your question?","body":"Why is this tagged Java if you&#39;re looking for a ASP.net solution? How is the Java code relevant to your question?"},{"owner":{"account_id":7680796,"reputation":79,"user_id":5820098,"display_name":"Ingerten"},"score":0,"creation_date":1637223852,"post_id":70016466,"comment_id":123770030,"body_markdown":"Java is my client and I need the data from the ms-access DB and I would like to establish a connection in the post","body":"Java is my client and I need the data from the ms-access DB and I would like to establish a connection in the post"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637224939,"post_id":70016466,"comment_id":123770431,"body_markdown":"That is not possible. You cannot access the Access database like that.","body":"That is not possible. You cannot access the Access database like that."},{"owner":{"account_id":7680796,"reputation":79,"user_id":5820098,"display_name":"Ingerten"},"score":0,"creation_date":1637225575,"post_id":70016466,"comment_id":123770638,"body_markdown":"A shame, but thanks for your answer","body":"A shame, but thanks for your answer"}],"owner":{"account_id":7680796,"reputation":79,"user_id":5820098,"display_name":"Ingerten"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637223318,"creation_date":1637223145,"question_id":70016466,"body_markdown":"I have a little question, I am taking my first steps in asp.net web api and am wondering whether a connection to an MS-Access database can be established via the controller and the URL and, if it is possible, how must the controller look? \r\n\r\n\r\nASP.net\r\n\r\n    [ApiController]\r\n    [Route(&quot;api/[controller]&quot;)]\r\n    public class AccessController : ControllerBase\r\n    {\r\n        [HttpGet]\r\n        [Route(nameof(GetDB))]\r\n        public PhysicalFileResult GetDB()\r\n        {\r\n            string path = &quot;path to ms-access&quot;;             \r\n            return new PhysicalFileResult(path, &quot;application/msaccess&quot;); \r\n        }\r\n    }\r\n\r\nJava Client\r\n\r\n    public void connect(){\t\t\r\n        String url = &quot;localhost:5001/api/access/getdb&quot;\r\n\r\n\t    Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\r\n\t\tConnection connection = DriverManager.getConnection(&quot;jdbc:ucanaccess://&quot; + url, &quot;&quot;, &quot;&quot;);\r\n\t    Statement statement = connection.createStatement();\r\n\t}\r\n\r\n","title":"ASP.net connection to an MS Access database","body":"<p>I have a little question, I am taking my first steps in asp.net web api and am wondering whether a connection to an MS-Access database can be established via the controller and the URL and, if it is possible, how must the controller look?</p>\n<p>ASP.net</p>\n<pre><code>[ApiController]\n[Route(&quot;api/[controller]&quot;)]\npublic class AccessController : ControllerBase\n{\n    [HttpGet]\n    [Route(nameof(GetDB))]\n    public PhysicalFileResult GetDB()\n    {\n        string path = &quot;path to ms-access&quot;;             \n        return new PhysicalFileResult(path, &quot;application/msaccess&quot;); \n    }\n}\n</code></pre>\n<p>Java Client</p>\n<pre><code>public void connect(){      \n    String url = &quot;localhost:5001/api/access/getdb&quot;\n\n    Class.forName(&quot;net.ucanaccess.jdbc.UcanaccessDriver&quot;);\n    Connection connection = DriverManager.getConnection(&quot;jdbc:ucanaccess://&quot; + url, &quot;&quot;, &quot;&quot;);\n    Statement statement = connection.createStatement();\n}\n</code></pre>\n"},{"tags":["java","hive","flink-sql"],"owner":{"account_id":23375687,"reputation":11,"user_id":17445484,"display_name":"XiaoJunChen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":362,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637223043,"creation_date":1637223043,"question_id":70016439,"body_markdown":"I try to execute a hive ddl sql with stream table api on flink-1.13.2, the code like:\r\n\r\n```java\r\n\r\nString hiveDDL = ResourceUtil.readClassPathSource(&quot;hive-ddl.sql&quot;);\r\nEnvironmentSettings settings = EnvironmentSettings.newInstance()\r\n.useBlinkPlanner()\r\n.inStreamingMode().build();\r\nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\r\nStreamTableEnvironment tableEnv = StreamTableEnvironment.create(env, settings);\r\n\r\nString name = &quot;hive&quot;;\r\nString defaultDatabase = &quot;stream&quot;;\r\nString hiveConfDir = &quot;conf&quot;;\r\n\r\nHiveCatalog hive = new HiveCatalog(name, defaultDatabase, hiveConfDir);\r\ntableEnv.registerCatalog(&quot;hive&quot;, hive);\r\ntableEnv.useCatalog(&quot;hive&quot;);\r\ntableEnv.useDatabase(&quot;stream&quot;);\r\n\r\ntableEnv.executeSql(&quot;DROP TABLE IF EXISTS dimension_table&quot;);\r\n// HIVE\r\ntableEnv.getConfig().setSqlDialect(SqlDialect.HIVE);\r\ntableEnv.executeSql(hiveDDL);\r\n\r\n```\r\n\r\nthe hive server in cdh5.14.2, and the ddl sql like:\r\n\r\n```sql\r\n\r\nCREATE TABLE dimension_table (\r\nproduct_id STRING,\r\nproduct_name STRING,\r\nunit_price DECIMAL(10, 4),\r\npv_count BIGINT,\r\nlike_count BIGINT,\r\ncomment_count BIGINT,\r\nupdate_time TIMESTAMP(3),\r\nupdate_user STRING\r\n)\r\nPARTITIONED BY (\r\npt_year STRING,\r\npt_month STRING,\r\npt_day STRING\r\n)\r\nTBLPROPERTIES (\r\n using default partition-name order to load the latest partition every 12h (the most recommended and convenient way)\r\n&#39;streaming-source.enable&#39; = &#39;true&#39;,\r\n&#39;streaming-source.partition.include&#39; = &#39;latest&#39;,\r\n&#39;streaming-source.monitor-interval&#39; = &#39;12 h&#39;,\r\n&#39;streaming-source.partition-order&#39; = &#39;partition-name&#39;,  option with default value, can be ignored.\r\n\r\n using partition file create-time order to load the latest partition every 12h\r\n&#39;streaming-source.enable&#39; = &#39;true&#39;,\r\n&#39;streaming-source.partition.include&#39; = &#39;latest&#39;,\r\n&#39;streaming-source.partition-order&#39; = &#39;create-time&#39;,\r\n&#39;streaming-source.monitor-interval&#39; = &#39;12 h&#39;\r\n\r\n using partition-time order to load the latest partition every 12h\r\n&#39;streaming-source.enable&#39; = &#39;true&#39;,\r\n&#39;streaming-source.partition.include&#39; = &#39;latest&#39;,\r\n&#39;streaming-source.monitor-interval&#39; = &#39;12 h&#39;,\r\n&#39;streaming-source.partition-order&#39; = &#39;partition-time&#39;,\r\n&#39;partition.time-extractor.kind&#39; = &#39;default&#39;,\r\n&#39;partition.time-extractor.timestamp-pattern&#39; = &#39;$pt_year-$pt_month-$pt_day 00:00:00&#39;\r\n)\r\n\r\n```\r\n\r\nthen run it, but throw NullPointerException, like:\r\n\r\n```\r\n\r\n2021-11-18 15:33:00,387 INFO [org.apache.flink.table.catalog.hive.HiveCatalog] - Setting hive conf dir as conf\r\n2021-11-18 15:33:00,481 WARN [org.apache.hadoop.util.NativeCodeLoader] - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\n2021-11-18 15:33:01,345 INFO [org.apache.flink.table.catalog.hive.HiveCatalog] - Created HiveCatalog &#39;hive&#39;\r\n2021-11-18 15:33:01,371 INFO [hive.metastore] - Trying to connect to metastore with URI thrift://cdh-dev-node-119:9083\r\n2021-11-18 15:33:01,441 INFO [hive.metastore] - Opened a connection to metastore, current connections: 1\r\n2021-11-18 15:33:01,521 INFO [hive.metastore] - Connected to metastore.\r\n2021-11-18 15:33:01,856 INFO [org.apache.flink.table.catalog.hive.HiveCatalog] - Connected to Hive metastore\r\n2021-11-18 15:33:01,899 INFO [org.apache.flink.table.catalog.CatalogManager] - Set the current default catalog as [hive] and the current default database as [stream].\r\n2021-11-18 15:33:03,290 INFO [org.apache.hadoop.hive.ql.session.SessionState] - Created local directory: /var/folders/4m/n1wgh7rd2yqfv301kq00l4q40000gn/T/681dd0aa-ba35-4a0e-b069-3ad48f030774_resources\r\n2021-11-18 15:33:03,298 INFO [org.apache.hadoop.hive.ql.session.SessionState] - Created HDFS directory: /tmp/hive/chenxiaojun/681dd0aa-ba35-4a0e-b069-3ad48f030774\r\n2021-11-18 15:33:03,305 INFO [org.apache.hadoop.hive.ql.session.SessionState] - Created local directory: /var/folders/4m/n1wgh7rd2yqfv301kq00l4q40000gn/T/chenxiaojun/681dd0aa-ba35-4a0e-b069-3ad48f030774\r\n2021-11-18 15:33:03,311 INFO [org.apache.hadoop.hive.ql.session.SessionState] - Created HDFS directory: /tmp/hive/chenxiaojun/681dd0aa-ba35-4a0e-b069-3ad48f030774/_tmp_space.db\r\n2021-11-18 15:33:03,314 INFO [org.apache.hadoop.hive.ql.session.SessionState] - No Tez session required at this point. hive.execution.engine=mr.\r\nException in thread &quot;main&quot; java.lang.NullPointerException\r\n    at org.apache.flink.table.catalog.hive.client.HiveShimV100.registerTemporaryFunction(HiveShimV100.java:422)\r\n    at org.apache.flink.table.planner.delegation.hive.HiveParser.parse(HiveParser.java:217)\r\n    at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:724)\r\n    at com.hacker.flinksql.hive.HiveSqlTest.main(HiveSqlTest.java:48)\r\n\r\n```\r\n\r\nI found the error code in flink-1.13.2, \r\n\r\norg.apache.flink.table.catalog.hive.client.HiveShimV100.java - line:422\r\n\r\nthis method params is null, the code:\r\n\r\n```\r\n\r\n@Override\r\npublic void registerTemporaryFunction(String funcName, Class funcClass) {\r\ntry\r\n\r\n{ registerTemporaryFunction.invoke(null, funcName, funcClass); }\r\ncatch (IllegalAccessException | InvocationTargetException e)\r\n\r\n{ throw new FlinkHiveException(&quot;Failed to register temp function&quot;, e); }\r\n}\r\n\r\n```\r\n\r\nmy maven dependency\r\n\r\n```\r\n\r\n&lt;properties&gt;\r\n&lt;hadoop.version&gt;2.6.0-cdh5.14.2&lt;/hadoop.version&gt;\r\n&lt;hive.version&gt;1.1.0-cdh5.14.2&lt;/hive.version&gt;\r\n&lt;/properties&gt;\r\n\r\n&lt;!-- flink sql core --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n&lt;artifactId&gt;flink-table-api-java-bridge_${scala.binary.version}&lt;/artifactId&gt;\r\n&lt;version&gt;${flink.version}&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n&lt;artifactId&gt;flink-table-planner-blink_${scala.binary.version}&lt;/artifactId&gt;\r\n&lt;version&gt;${flink.version}&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n&lt;artifactId&gt;flink-clients_${scala.binary.version}&lt;/artifactId&gt;\r\n&lt;version&gt;${flink.version}&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\r\n&lt;version&gt;1.7.5&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- hive catalog --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\r\n&lt;artifactId&gt;flink-connector-hive_${scala.binary.version}&lt;/artifactId&gt;\r\n&lt;version&gt;${flink.version}&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\r\n&lt;artifactId&gt;hive-exec&lt;/artifactId&gt;\r\n&lt;version&gt;${hive.version}&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;!-- catalog hadoop dependency --&gt;\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n&lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\r\n&lt;version&gt;2.6.0-cdh5.15.2&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n&lt;dependency&gt;\r\n&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\r\n&lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\r\n&lt;version&gt;2.6.0-cdh5.15.2&lt;/version&gt;\r\n&lt;scope&gt;provided&lt;/scope&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\nI create issues at https://issues.apache.org/jira/browse/FLINK-24950\r\n\r\nIt&#39;s flink source bug? and what should i do ?","title":"Use Hive Dialect execute Hive DDL On Flink, But throw a NullPointerException","body":"<p>I try to execute a hive ddl sql with stream table api on flink-1.13.2, the code like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nString hiveDDL = ResourceUtil.readClassPathSource(&quot;hive-ddl.sql&quot;);\nEnvironmentSettings settings = EnvironmentSettings.newInstance()\n.useBlinkPlanner()\n.inStreamingMode().build();\nStreamExecutionEnvironment env = StreamExecutionEnvironment.getExecutionEnvironment();\nStreamTableEnvironment tableEnv = StreamTableEnvironment.create(env, settings);\n\nString name = &quot;hive&quot;;\nString defaultDatabase = &quot;stream&quot;;\nString hiveConfDir = &quot;conf&quot;;\n\nHiveCatalog hive = new HiveCatalog(name, defaultDatabase, hiveConfDir);\ntableEnv.registerCatalog(&quot;hive&quot;, hive);\ntableEnv.useCatalog(&quot;hive&quot;);\ntableEnv.useDatabase(&quot;stream&quot;);\n\ntableEnv.executeSql(&quot;DROP TABLE IF EXISTS dimension_table&quot;);\n// HIVE\ntableEnv.getConfig().setSqlDialect(SqlDialect.HIVE);\ntableEnv.executeSql(hiveDDL);\n\n</code></pre>\n<p>the hive server in cdh5.14.2, and the ddl sql like:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>\nCREATE TABLE dimension_table (\nproduct_id STRING,\nproduct_name STRING,\nunit_price DECIMAL(10, 4),\npv_count BIGINT,\nlike_count BIGINT,\ncomment_count BIGINT,\nupdate_time TIMESTAMP(3),\nupdate_user STRING\n)\nPARTITIONED BY (\npt_year STRING,\npt_month STRING,\npt_day STRING\n)\nTBLPROPERTIES (\n using default partition-name order to load the latest partition every 12h (the most recommended and convenient way)\n'streaming-source.enable' = 'true',\n'streaming-source.partition.include' = 'latest',\n'streaming-source.monitor-interval' = '12 h',\n'streaming-source.partition-order' = 'partition-name',  option with default value, can be ignored.\n\n using partition file create-time order to load the latest partition every 12h\n'streaming-source.enable' = 'true',\n'streaming-source.partition.include' = 'latest',\n'streaming-source.partition-order' = 'create-time',\n'streaming-source.monitor-interval' = '12 h'\n\n using partition-time order to load the latest partition every 12h\n'streaming-source.enable' = 'true',\n'streaming-source.partition.include' = 'latest',\n'streaming-source.monitor-interval' = '12 h',\n'streaming-source.partition-order' = 'partition-time',\n'partition.time-extractor.kind' = 'default',\n'partition.time-extractor.timestamp-pattern' = '$pt_year-$pt_month-$pt_day 00:00:00'\n)\n\n</code></pre>\n<p>then run it, but throw NullPointerException, like:</p>\n<pre><code>\n2021-11-18 15:33:00,387 INFO [org.apache.flink.table.catalog.hive.HiveCatalog] - Setting hive conf dir as conf\n2021-11-18 15:33:00,481 WARN [org.apache.hadoop.util.NativeCodeLoader] - Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\n2021-11-18 15:33:01,345 INFO [org.apache.flink.table.catalog.hive.HiveCatalog] - Created HiveCatalog 'hive'\n2021-11-18 15:33:01,371 INFO [hive.metastore] - Trying to connect to metastore with URI thrift://cdh-dev-node-119:9083\n2021-11-18 15:33:01,441 INFO [hive.metastore] - Opened a connection to metastore, current connections: 1\n2021-11-18 15:33:01,521 INFO [hive.metastore] - Connected to metastore.\n2021-11-18 15:33:01,856 INFO [org.apache.flink.table.catalog.hive.HiveCatalog] - Connected to Hive metastore\n2021-11-18 15:33:01,899 INFO [org.apache.flink.table.catalog.CatalogManager] - Set the current default catalog as [hive] and the current default database as [stream].\n2021-11-18 15:33:03,290 INFO [org.apache.hadoop.hive.ql.session.SessionState] - Created local directory: /var/folders/4m/n1wgh7rd2yqfv301kq00l4q40000gn/T/681dd0aa-ba35-4a0e-b069-3ad48f030774_resources\n2021-11-18 15:33:03,298 INFO [org.apache.hadoop.hive.ql.session.SessionState] - Created HDFS directory: /tmp/hive/chenxiaojun/681dd0aa-ba35-4a0e-b069-3ad48f030774\n2021-11-18 15:33:03,305 INFO [org.apache.hadoop.hive.ql.session.SessionState] - Created local directory: /var/folders/4m/n1wgh7rd2yqfv301kq00l4q40000gn/T/chenxiaojun/681dd0aa-ba35-4a0e-b069-3ad48f030774\n2021-11-18 15:33:03,311 INFO [org.apache.hadoop.hive.ql.session.SessionState] - Created HDFS directory: /tmp/hive/chenxiaojun/681dd0aa-ba35-4a0e-b069-3ad48f030774/_tmp_space.db\n2021-11-18 15:33:03,314 INFO [org.apache.hadoop.hive.ql.session.SessionState] - No Tez session required at this point. hive.execution.engine=mr.\nException in thread &quot;main&quot; java.lang.NullPointerException\n    at org.apache.flink.table.catalog.hive.client.HiveShimV100.registerTemporaryFunction(HiveShimV100.java:422)\n    at org.apache.flink.table.planner.delegation.hive.HiveParser.parse(HiveParser.java:217)\n    at org.apache.flink.table.api.internal.TableEnvironmentImpl.executeSql(TableEnvironmentImpl.java:724)\n    at com.hacker.flinksql.hive.HiveSqlTest.main(HiveSqlTest.java:48)\n\n</code></pre>\n<p>I found the error code in flink-1.13.2,</p>\n<p>org.apache.flink.table.catalog.hive.client.HiveShimV100.java - line:422</p>\n<p>this method params is null, the code:</p>\n<pre><code>\n@Override\npublic void registerTemporaryFunction(String funcName, Class funcClass) {\ntry\n\n{ registerTemporaryFunction.invoke(null, funcName, funcClass); }\ncatch (IllegalAccessException | InvocationTargetException e)\n\n{ throw new FlinkHiveException(&quot;Failed to register temp function&quot;, e); }\n}\n\n</code></pre>\n<p>my maven dependency</p>\n<pre><code>\n&lt;properties&gt;\n&lt;hadoop.version&gt;2.6.0-cdh5.14.2&lt;/hadoop.version&gt;\n&lt;hive.version&gt;1.1.0-cdh5.14.2&lt;/hive.version&gt;\n&lt;/properties&gt;\n\n&lt;!-- flink sql core --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n&lt;artifactId&gt;flink-table-api-java-bridge_${scala.binary.version}&lt;/artifactId&gt;\n&lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n&lt;artifactId&gt;flink-table-planner-blink_${scala.binary.version}&lt;/artifactId&gt;\n&lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n&lt;artifactId&gt;flink-clients_${scala.binary.version}&lt;/artifactId&gt;\n&lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n&lt;artifactId&gt;slf4j-log4j12&lt;/artifactId&gt;\n&lt;version&gt;1.7.5&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- hive catalog --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.flink&lt;/groupId&gt;\n&lt;artifactId&gt;flink-connector-hive_${scala.binary.version}&lt;/artifactId&gt;\n&lt;version&gt;${flink.version}&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.hive&lt;/groupId&gt;\n&lt;artifactId&gt;hive-exec&lt;/artifactId&gt;\n&lt;version&gt;${hive.version}&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;!-- catalog hadoop dependency --&gt;\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n&lt;artifactId&gt;hadoop-client&lt;/artifactId&gt;\n&lt;version&gt;2.6.0-cdh5.15.2&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n&lt;dependency&gt;\n&lt;groupId&gt;org.apache.hadoop&lt;/groupId&gt;\n&lt;artifactId&gt;hadoop-mapreduce-client-core&lt;/artifactId&gt;\n&lt;version&gt;2.6.0-cdh5.15.2&lt;/version&gt;\n&lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>I create issues at <a href=\"https://issues.apache.org/jira/browse/FLINK-24950\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/FLINK-24950</a></p>\n<p>It's flink source bug? and what should i do ?</p>\n"},{"tags":["java","date","java-8","date-parsing"],"comments":[{"owner":{"account_id":8107980,"reputation":3246,"user_id":6108947,"display_name":"Ji aSH"},"score":1,"creation_date":1489406427,"post_id":42763103,"comment_id":72641299,"body_markdown":"Use LocalDate or append a dummy hh:ss string (00:00) to your initial one","body":"Use LocalDate or append a dummy hh:ss string (00:00) to your initial one"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":1,"creation_date":1489408083,"post_id":42763103,"comment_id":72642355,"body_markdown":"What is the expected result of parsing, say, `2017-03-13` into a `LocalDateTime`? What if the string and the pattern contain, say, minutes, but neither hours nor seconds? Or the other way around? It seems you have hard requirements.","body":"What is the expected result of parsing, say, <code>2017-03-13</code> into a <code>LocalDateTime</code>? What if the string and the pattern contain, say, minutes, but neither hours nor seconds? Or the other way around? It seems you have hard requirements."},{"owner":{"account_id":3266301,"reputation":3316,"user_id":2750721,"accept_rate":90,"display_name":"Oswaldo"},"score":0,"creation_date":1602094294,"post_id":42763103,"comment_id":113614558,"body_markdown":"Does this answer your question? [Parse YYYY-MM-DD dates using the local timezone](https://stackoverflow.com/questions/17893896/parse-yyyy-mm-dd-dates-using-the-local-timezone)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/17893896/parse-yyyy-mm-dd-dates-using-the-local-timezone\">Parse YYYY-MM-DD dates using the local timezone</a>"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1602100587,"post_id":42763103,"comment_id":113617063,"body_markdown":"@Oswaldo In what way is a JavaScript question a duplicate to a **Java** question?","body":"@Oswaldo In what way is a JavaScript question a duplicate to a <b>Java</b> question?"},{"owner":{"account_id":3266301,"reputation":3316,"user_id":2750721,"accept_rate":90,"display_name":"Oswaldo"},"score":0,"creation_date":1602100692,"post_id":42763103,"comment_id":113617100,"body_markdown":"oops, you&#39;re right @MarkRotteveel, I didn&#39;t notice that. As I found my Javascript answer I wanted to help here too, but haven&#39;t noticed it was Java, sorry","body":"oops, you&#39;re right @MarkRotteveel, I didn&#39;t notice that. As I found my Javascript answer I wanted to help here too, but haven&#39;t noticed it was Java, sorry"}],"answers":[{"tags":[],"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"down_vote_count":0,"up_vote_count":28,"is_accepted":false,"score":28,"last_activity_date":1516107053,"creation_date":1489406563,"answer_id":42763181,"question_id":42763103,"body_markdown":"You can not convert &quot;2017-03-13&quot; to a `LocalDateTime` since there is no time information in the string, only date. You can convert it to a `LocalDate`\r\n\r\n    DateTimeFormatter dateformatter = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    LocalDate ld = LocalDate.parse(&quot;2017-03-13&quot;, dateformatter);\r\n\r\nafter this we can covert it to `LocalDateTime`\r\n\r\n    LocalDateTime ldt = ld.atStartOfDay();","title":"convert String &quot;yyyy-MM-dd&quot; to LocalDateTime","body":"<p>You can not convert \"2017-03-13\" to a <code>LocalDateTime</code> since there is no time information in the string, only date. You can convert it to a <code>LocalDate</code></p>\n\n<pre><code>DateTimeFormatter dateformatter = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\");\nLocalDate ld = LocalDate.parse(\"2017-03-13\", dateformatter);\n</code></pre>\n\n<p>after this we can covert it to <code>LocalDateTime</code></p>\n\n<pre><code>LocalDateTime ldt = ld.atStartOfDay();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"down_vote_count":0,"up_vote_count":44,"is_accepted":true,"score":44,"last_activity_date":1516107516,"creation_date":1489406629,"answer_id":42763206,"question_id":42763103,"body_markdown":"Use [`LocalDate`][1] to create a localDate and then you can add the timepart if you need it:\r\n\r\n\t\tDateTimeFormatter DATEFORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\t\tLocalDate ld = LocalDate.parse(&quot;2017-03-13&quot;, DATEFORMATTER);\r\n\t\tLocalDateTime ldt = LocalDateTime.of(ld, LocalDateTime.now().toLocalTime());\r\n\t\tSystem.out.println(ldt);\r\n\r\nor [`LocalDateTime`][2] \r\n\r\n    ldt = LocalDateTime.of(ld, LocalDateTime.MIN.toLocalTime());\r\n\r\nif you just need an empty timepart\r\n\r\nEDIT:\r\n\r\nLook at this solution with this you can build your dynamic parser:\r\n\r\n\t\tDateTimeFormatter DATEFORMATTER1 = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\t\t\r\n\t\tDateTimeFormatter DATEFORMATTER = new DateTimeFormatterBuilder().append(DATEFORMATTER1)\r\n        .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\r\n        .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\r\n        .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\r\n        .toFormatter();\r\n\r\n\t\t//DateTimeFormatter DATEFORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n\t\tLocalDateTime ldt = LocalDateTime.parse(&quot;2017-03-13&quot;, DATEFORMATTER);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/9/docs/api/java/time/LocalDate.html\r\n  [2]: https://docs.oracle.com/javase/9/docs/api/java/time/LocalDateTime.html","title":"convert String &quot;yyyy-MM-dd&quot; to LocalDateTime","body":"<p>Use <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/LocalDate.html\" rel=\"noreferrer\"><code>LocalDate</code></a> to create a localDate and then you can add the timepart if you need it:</p>\n\n<pre><code>    DateTimeFormatter DATEFORMATTER = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\");\n    LocalDate ld = LocalDate.parse(\"2017-03-13\", DATEFORMATTER);\n    LocalDateTime ldt = LocalDateTime.of(ld, LocalDateTime.now().toLocalTime());\n    System.out.println(ldt);\n</code></pre>\n\n<p>or <a href=\"https://docs.oracle.com/javase/9/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a> </p>\n\n<pre><code>ldt = LocalDateTime.of(ld, LocalDateTime.MIN.toLocalTime());\n</code></pre>\n\n<p>if you just need an empty timepart</p>\n\n<p>EDIT:</p>\n\n<p>Look at this solution with this you can build your dynamic parser:</p>\n\n<pre><code>    DateTimeFormatter DATEFORMATTER1 = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\");\n\n    DateTimeFormatter DATEFORMATTER = new DateTimeFormatterBuilder().append(DATEFORMATTER1)\n    .parseDefaulting(ChronoField.HOUR_OF_DAY, 0)\n    .parseDefaulting(ChronoField.MINUTE_OF_HOUR, 0)\n    .parseDefaulting(ChronoField.SECOND_OF_MINUTE, 0)\n    .toFormatter();\n\n    //DateTimeFormatter DATEFORMATTER = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\");\n    LocalDateTime ldt = LocalDateTime.parse(\"2017-03-13\", DATEFORMATTER);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10448390,"reputation":19,"user_id":7702808,"display_name":"Sandeep"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1489409404,"creation_date":1489409404,"answer_id":42764068,"question_id":42763103,"body_markdown":"Use **Joda-Time-XX.jar** it has **DateTimeFormatter** to convert date to date time format. Either you can provide date time in (yyyy-MM-dd HH:mm:ss format) or date alone. In both the cases you will get date and time. \r\n\r\n    DateTimeFormatter dateTimeFormatter = DateTimeFormat.forPattern(&quot;yyyy-MM-dd&quot;);\r\n    DateTime dateTime =  dateTimeFormatter.parseDateTime(date);","title":"convert String &quot;yyyy-MM-dd&quot; to LocalDateTime","body":"<p>Use <strong>Joda-Time-XX.jar</strong> it has <strong>DateTimeFormatter</strong> to convert date to date time format. Either you can provide date time in (yyyy-MM-dd HH:mm:ss format) or date alone. In both the cases you will get date and time. </p>\n\n<pre><code>DateTimeFormatter dateTimeFormatter = DateTimeFormat.forPattern(\"yyyy-MM-dd\");\nDateTime dateTime =  dateTimeFormatter.parseDateTime(date);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8780602,"reputation":405,"user_id":6564335,"display_name":"Vinayak Shenoy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539260871,"creation_date":1508317997,"answer_id":46806631,"question_id":42763103,"body_markdown":"**For start of the day you can use:**\r\n\r\n    LocalDate.parse(&quot;2017-10-18&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))\r\n    .atStartOfDay().atOffset(ZoneOffset.UTC).format(DateTimeFormatter.ISO_DATE_TIME)\r\n\r\n**For end of the day you can use:**\r\n\r\n    LocalDate.parse(&quot;2017-10-18&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;))\t\t\t\t\t\t\r\n    .atStartOfDay().plusHours(23).plusMinutes(59).plusSeconds(59).atOffset(ZoneOffset.UTC).format(DateTimeFormatter.ISO_DATE_TIME)\r\n\r\n**For localDateTime you can use:**\r\n\r\n    LocalDate.parse(&quot;2017-10-18&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;)).atTime(LocalTime.now())\r\n    .atOffset(ZoneOffset.UTC).format(DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss&#39;Z&#39;&quot;))\r\n\r\n**Result:**\r\n\r\n    2017-10-18T00:00:00Z\r\n    2017-10-18T23:59:59Z\r\n    2017-10-18T14:45:35Z\r\n\r\n\r\n\r\n","title":"convert String &quot;yyyy-MM-dd&quot; to LocalDateTime","body":"<p><strong>For start of the day you can use:</strong></p>\n\n<pre><code>LocalDate.parse(\"2017-10-18\", DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"))\n.atStartOfDay().atOffset(ZoneOffset.UTC).format(DateTimeFormatter.ISO_DATE_TIME)\n</code></pre>\n\n<p><strong>For end of the day you can use:</strong></p>\n\n<pre><code>LocalDate.parse(\"2017-10-18\", DateTimeFormatter.ofPattern(\"yyyy-MM-dd\"))                        \n.atStartOfDay().plusHours(23).plusMinutes(59).plusSeconds(59).atOffset(ZoneOffset.UTC).format(DateTimeFormatter.ISO_DATE_TIME)\n</code></pre>\n\n<p><strong>For localDateTime you can use:</strong></p>\n\n<pre><code>LocalDate.parse(\"2017-10-18\", DateTimeFormatter.ofPattern(\"yyyy-MM-dd\")).atTime(LocalTime.now())\n.atOffset(ZoneOffset.UTC).format(DateTimeFormatter.ofPattern(\"yyyy-MM-dd'T'HH:mm:ss'Z'\"))\n</code></pre>\n\n<p><strong>Result:</strong></p>\n\n<pre><code>2017-10-18T00:00:00Z\n2017-10-18T23:59:59Z\n2017-10-18T14:45:35Z\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1125613,"reputation":18964,"user_id":1112963,"accept_rate":59,"display_name":"Zon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1544104893,"creation_date":1543917162,"answer_id":53610080,"question_id":42763103,"body_markdown":"How about a one liner?\r\n\r\n    \r\n    LocalDateTime.parse(&quot;2017-03-13&quot; + &quot; 00:00&quot;, DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd hh:mm&quot;));","title":"convert String &quot;yyyy-MM-dd&quot; to LocalDateTime","body":"<p>How about a one liner?</p>\n\n<pre><code>LocalDateTime.parse(\"2017-03-13\" + \" 00:00\", DateTimeFormatter.ofPattern(\"yyyy-MM-dd hh:mm\"));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4900086,"reputation":3091,"user_id":3948697,"accept_rate":67,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1591792849,"creation_date":1591792849,"answer_id":62303856,"question_id":42763103,"body_markdown":"If you have a date in a string with the format &quot;yyyyMMdd&quot; and want to convert into localDate then follow these steps:\r\n\r\n    public static void processDate() {\r\n    \tDateTimeFormatter DATEFORMATTER = DateTimeFormatter.ofPattern(&quot;yyyyMMdd&quot;);\r\n    \tLocalDate ld = LocalDate.parse(&quot;20200511&quot;, DATEFORMATTER);\r\n    \tSystem.out.println(ld.toString());\r\n    }\r\n\r\nThe output is in &quot;yyyy-MM-dd&quot; format:\r\n\r\n    2020-05-11\r\n\r\n","title":"convert String &quot;yyyy-MM-dd&quot; to LocalDateTime","body":"<p>If you have a date in a string with the format \"yyyyMMdd\" and want to convert into localDate then follow these steps:</p>\n\n<pre><code>public static void processDate() {\n    DateTimeFormatter DATEFORMATTER = DateTimeFormatter.ofPattern(\"yyyyMMdd\");\n    LocalDate ld = LocalDate.parse(\"20200511\", DATEFORMATTER);\n    System.out.println(ld.toString());\n}\n</code></pre>\n\n<p>The output is in \"yyyy-MM-dd\" format:</p>\n\n<pre><code>2020-05-11\n</code></pre>\n"}],"owner":{"account_id":6974663,"reputation":2075,"user_id":5349795,"accept_rate":93,"display_name":"LakiGeri"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65129,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":42763206,"answer_count":6,"score":33,"last_activity_date":1637222438,"creation_date":1489406286,"question_id":42763103,"body_markdown":"Is there any way to convert a date `String` to `LocalDateTime` where the format `&quot;yyyy-MM-dd&quot;` ?\r\n\r\nIf I try this:\r\n\r\n    DateTimeFormatter DATEFORMATTER = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd&quot;);\r\n    LocalDateTime ldt = LocalDateTime.parse(string, DATEFORMATTER);\r\nI got this exception:\r\n\r\n    java.time.format.DateTimeParseException: Text &#39;2017-03-13&#39; could not be parsed: Unable to obtain LocalDateTime from TemporalAccessor: {},ISO resolved to 2017-03-13 of type java.time.format.Parsed\r\n    \tat java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\r\n    \tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855)\r\n    \tat java.time.LocalDateTime.parse(LocalDateTime.java:492)\r\n    \tat hu.npsh.workforce.utils.Util.stringToLocalDateTime(Util.java:284)\r\n    \tat hu.npsh.workforce.utils.util.StringLocalDateTimeConversionTest.stringToLocalDateTimeTest(StringLocalDateTimeConversionTest.java:35)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\r\n    \tat org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\r\n    \tat org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\r\n    \tat org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\r\n    \tat org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\r\n    \tat org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\r\n    \tat org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\r\n    \tat org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\r\n    \tat org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\r\n    \tat org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\r\n    \tat org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\r\n    \tat org.junit.runners.ParentRunner.run(ParentRunner.java:363)\r\n    \tat org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\r\n    \tat org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\r\n    \tat org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\r\n    Caused by: java.time.DateTimeException: Unable to obtain LocalDateTime from TemporalAccessor: {},ISO resolved to 2017-03-13 of type java.time.format.Parsed\r\n    \tat java.time.LocalDateTime.from(LocalDateTime.java:461)\r\n    \tat java.time.format.Parsed.query(Parsed.java:226)\r\n    \tat java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\r\n    \t... 26 more\r\n    Caused by: java.time.DateTimeException: Unable to obtain LocalTime from TemporalAccessor: {},ISO resolved to 2017-03-13 of type java.time.format.Parsed\r\n    \tat java.time.LocalTime.from(LocalTime.java:409)\r\n    \tat java.time.LocalDateTime.from(LocalDateTime.java:457)\r\n    \t... 28 more\r\nI know that the main problem, that the pattern does not contain the hour and the minute.. \r\nBut what if I want a create a method what gets a `String` and a `DateTimeFormatter` and I want to return with `LocalDateTime`\r\n\r\nIs there a correct, nice solution?\r\n\r\n\r\n**EDIT:**\r\n\r\nMy goal, making a method what get a `String` and a `DateTimeFormatter`\r\nAnd returns with a `LocalDateTime`.\r\nThe Pattern can be anything (what is valid).","title":"convert String &quot;yyyy-MM-dd&quot; to LocalDateTime","body":"<p>Is there any way to convert a date <code>String</code> to <code>LocalDateTime</code> where the format <code>\"yyyy-MM-dd\"</code> ?</p>\n\n<p>If I try this:</p>\n\n<pre><code>DateTimeFormatter DATEFORMATTER = DateTimeFormatter.ofPattern(\"yyyy-MM-dd\");\nLocalDateTime ldt = LocalDateTime.parse(string, DATEFORMATTER);\n</code></pre>\n\n<p>I got this exception:</p>\n\n<pre><code>java.time.format.DateTimeParseException: Text '2017-03-13' could not be parsed: Unable to obtain LocalDateTime from TemporalAccessor: {},ISO resolved to 2017-03-13 of type java.time.format.Parsed\n    at java.time.format.DateTimeFormatter.createError(DateTimeFormatter.java:1920)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1855)\n    at java.time.LocalDateTime.parse(LocalDateTime.java:492)\n    at hu.npsh.workforce.utils.Util.stringToLocalDateTime(Util.java:284)\n    at hu.npsh.workforce.utils.util.StringLocalDateTimeConversionTest.stringToLocalDateTimeTest(StringLocalDateTimeConversionTest.java:35)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.junit.runners.model.FrameworkMethod$1.runReflectiveCall(FrameworkMethod.java:50)\n    at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)\n    at org.junit.runners.model.FrameworkMethod.invokeExplosively(FrameworkMethod.java:47)\n    at org.junit.internal.runners.statements.InvokeMethod.evaluate(InvokeMethod.java:17)\n    at org.junit.runners.ParentRunner.runLeaf(ParentRunner.java:325)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:78)\n    at org.junit.runners.BlockJUnit4ClassRunner.runChild(BlockJUnit4ClassRunner.java:57)\n    at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)\n    at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)\n    at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)\n    at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)\n    at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)\n    at org.junit.runners.ParentRunner.run(ParentRunner.java:363)\n    at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:86)\n    at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:459)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:678)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:382)\n    at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:192)\nCaused by: java.time.DateTimeException: Unable to obtain LocalDateTime from TemporalAccessor: {},ISO resolved to 2017-03-13 of type java.time.format.Parsed\n    at java.time.LocalDateTime.from(LocalDateTime.java:461)\n    at java.time.format.Parsed.query(Parsed.java:226)\n    at java.time.format.DateTimeFormatter.parse(DateTimeFormatter.java:1851)\n    ... 26 more\nCaused by: java.time.DateTimeException: Unable to obtain LocalTime from TemporalAccessor: {},ISO resolved to 2017-03-13 of type java.time.format.Parsed\n    at java.time.LocalTime.from(LocalTime.java:409)\n    at java.time.LocalDateTime.from(LocalDateTime.java:457)\n    ... 28 more\n</code></pre>\n\n<p>I know that the main problem, that the pattern does not contain the hour and the minute.. \nBut what if I want a create a method what gets a <code>String</code> and a <code>DateTimeFormatter</code> and I want to return with <code>LocalDateTime</code></p>\n\n<p>Is there a correct, nice solution?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>My goal, making a method what get a <code>String</code> and a <code>DateTimeFormatter</code>\nAnd returns with a <code>LocalDateTime</code>.\nThe Pattern can be anything (what is valid).</p>\n"},{"tags":["java","swing","jcombobox"],"answers":[{"tags":[],"owner":{"account_id":1063012,"reputation":71986,"user_id":1064245,"accept_rate":82,"display_name":"M A"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1432846923,"creation_date":1432846300,"answer_id":30516876,"question_id":30516844,"body_markdown":"Use [`JComboBox#setSelectedIndex(int anIndex)`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JComboBox.html#setSelectedIndex(int)):\r\n\r\n&gt;Selects the item at index `anIndex`.\r\n\r\nFor selecting an item in the list, use [`JComboBox#setSelectedItem(Object anObject)`](http://docs.oracle.com/javase/7/docs/api/javax/swing/JComboBox.html#setSelectedItem(java.lang.Object)).","title":"JComboBox set start index to &quot;1&quot;","body":"<p>Use <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComboBox.html#setSelectedIndex(int)\" rel=\"nofollow\"><code>JComboBox#setSelectedIndex(int anIndex)</code></a>:</p>\n\n<blockquote>\n  <p>Selects the item at index <code>anIndex</code>.</p>\n</blockquote>\n\n<p>For selecting an item in the list, use <a href=\"http://docs.oracle.com/javase/7/docs/api/javax/swing/JComboBox.html#setSelectedItem(java.lang.Object)\" rel=\"nofollow\"><code>JComboBox#setSelectedItem(Object anObject)</code></a>.</p>\n"}],"owner":{"display_name":"user4906755"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1289,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637222034,"creation_date":1432846206,"question_id":30516844,"body_markdown":"Is there an easy way to set the start index of a `JComboBox` to &quot;1&quot; or &quot;2&quot;?\r\nIf you start your application the index is normal set to &quot;0&quot; but I want to start with index &quot;1&quot; instead. \r\n\r\nEdit:\r\n\r\n    JComboBox variableBox_1 = new JComboBox();\r\n    for (int i = 0; i &lt; dataModel.getVariableNames().size(); i++) {\r\n        variableBox_1.addItem(dataModel.getVariableNames().get(i));\r\n    }\r\n    JPanel comBoxPanel1 = new JPanel(new BorderLayout());\r\n    JLabel comBoxLabel1 = new JLabel(&quot;X:&quot;);\r\n    comBoxPanel1.add(variableBox_1, BorderLayout.CENTER);\r\n    comBoxPanel1.add(comBoxLabel1, BorderLayout.WEST);\r\n    optionPanel.add(comBoxPanel1);\r\n    variableBox_1.addActionListener((ActionEvent e) -&gt; {\r\n        sp.setVariableNumberX(variableBox_1.getSelectedIndex());\r\n        hg1.setVariableNumber(variableBox_1.getSelectedIndex());\r\n        sp.setXvariableText(dataModel.getVariableNames().get(variableBox_1.getSelectedIndex()));\r\n    });","title":"JComboBox set start index to &quot;1&quot;","body":"<p>Is there an easy way to set the start index of a <code>JComboBox</code> to \"1\" or \"2\"?\nIf you start your application the index is normal set to \"0\" but I want to start with index \"1\" instead. </p>\n\n<p>Edit:</p>\n\n<pre><code>JComboBox variableBox_1 = new JComboBox();\nfor (int i = 0; i &lt; dataModel.getVariableNames().size(); i++) {\n    variableBox_1.addItem(dataModel.getVariableNames().get(i));\n}\nJPanel comBoxPanel1 = new JPanel(new BorderLayout());\nJLabel comBoxLabel1 = new JLabel(\"X:\");\ncomBoxPanel1.add(variableBox_1, BorderLayout.CENTER);\ncomBoxPanel1.add(comBoxLabel1, BorderLayout.WEST);\noptionPanel.add(comBoxPanel1);\nvariableBox_1.addActionListener((ActionEvent e) -&gt; {\n    sp.setVariableNumberX(variableBox_1.getSelectedIndex());\n    hg1.setVariableNumber(variableBox_1.getSelectedIndex());\n    sp.setXvariableText(dataModel.getVariableNames().get(variableBox_1.getSelectedIndex()));\n});\n</code></pre>\n"},{"tags":["java","antlr4","context-free-grammar"],"answers":[{"tags":[],"owner":{"account_id":20937,"reputation":167577,"user_id":50476,"accept_rate":100,"display_name":"Bart Kiers"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637221798,"creation_date":1637220983,"answer_id":70016057,"question_id":70015538,"body_markdown":"ANTLR has a strict separation between parser- and lexer rules. Whenever you use literal tokens in parser rules (like `&#39;-&#39;` and `&#39;.&#39;` in the `number` rule), ANTLR creates lexer rules behind the scenes for you. So the grammar:\r\n\r\n```\r\nnumber\r\n    : &#39;-&#39;? integer (&#39;.&#39; integer)?\r\n    ;\r\n\r\nCharactor \r\n    : [a-zA-Z] | ... | &#39;-&#39; | &#39;.&#39; | ...\r\n    ;\r\n```\r\n\r\nreally looks like this:\r\n\r\n```\r\nnumber\r\n    : T_0? integer (T_1 integer)?\r\n    ;\r\n\r\nT_0 : &#39;-&#39;;\r\n\r\nT_1 : &#39;.&#39;;\r\n\r\nCharactor \r\n    : [a-zA-Z] | ... | &#39;-&#39; | &#39;.&#39; | ...\r\n    ;\r\n```\r\n\r\nAnd since the strict separation, ANTLR creates tokens independently from the parser. This means that for the characters `-` and `.`, it will never happen that these become `Charactor` tokens. They will always become `T_0` and `T_1` tokens. There is no way around this. If you freely want to used any character/token in any rule, look for &quot;scannerless parsing&quot; or &quot;PEG parser&quot; instead of using ANTLR.\r\n\r\n\r\nTo make your current grammar work with as little changes as possible, do something like this:\r\n\r\n```\r\ngrammar Hello;\r\n\r\nr  : element* ;\r\n\r\nelement\r\n    : number Whitespace\r\n    | string Whitespace\r\n    ;\r\n\r\nstring\r\n    : &#39;(&#39; (Charactor | Minus | Dot)* &#39;)&#39;\r\n    ;\r\n\r\nMinus : &#39;-&#39;;\r\nDot : &#39;.&#39;;\r\n\r\nCharactor\r\n    : [a-zA-Z] |&#39;!&#39; | &#39;&quot;&#39;| &#39;#&#39; | &#39;$&#39; | &#39;%&#39; | &#39;&amp;&#39; | &#39;\\&#39;&#39; | &#39;\\\\(&#39; | &#39;\\\\)&#39; | &#39;*&#39; | &#39;+&#39; | &#39;,&#39; | &#39;/&#39; | &#39;:&#39; | &#39;;&#39; | &#39;&lt;&#39; | &#39;=&#39; | &#39;&gt;&#39; | &#39;?&#39; | &#39;@&#39; | &#39;[&#39; | &#39;\\\\&#39; | &#39;]&#39; | &#39;^&#39; | &#39;`&#39; | &#39;{&#39; | &#39;|&#39; | &#39;}&#39; | &#39;~&#39; | &#39;_&#39;\r\n    ;\r\n\r\nnumber\r\n    : Minus? integer (Dot integer)?\r\n    ;\r\n\r\ninteger\r\n    : digit+\r\n    ;\r\n\r\ndigit\r\n    : D0 | D1 | D2 | D3 | D4 | D5 | D6 | D7 | D8 | D9\r\n    ;\r\n\r\n\r\nWhitespace\r\n    : &#39; &#39; | &#39;\\n&#39;\r\n    ;\r\n\r\nD1 : &#39;1&#39;;\r\nD2 : &#39;2&#39;;\r\nD3 : &#39;3&#39;;\r\nD4 : &#39;4&#39;;\r\nD5 : &#39;5&#39;;\r\nD6 : &#39;6&#39;;\r\nD7 : &#39;7&#39;;\r\nD8 : &#39;8&#39;;\r\nD9 : &#39;9&#39;;\r\nD0 : &#39;0&#39;;\r\n```\r\n\r\nBut ideally, you&#39;d use ANTLR more as it is intended to be (clearly defining tokens instead of constructing tokens in parser rules):\r\n\r\n```\r\ngrammar Hello;\r\n\r\nr  : element* EOF;\r\n\r\nelement\r\n    : Number Whitespace\r\n    | string Whitespace\r\n    ;\r\n\r\nstring\r\n    : &#39;(&#39; character* &#39;)&#39;\r\n    ;\r\n\r\ncharacter\r\n    : Character\r\n    | Minus\r\n    | Dot\r\n    ;\r\n\r\nMinus\r\n    : &#39;-&#39;\r\n    ;\r\n\r\nDot\r\n    : &#39;.&#39;\r\n    ;\r\n\r\nCharacter\r\n    : [a-zA-Z] | &#39;!&#39; | &#39;&quot;&#39;| &#39;#&#39; | &#39;$&#39; | &#39;%&#39; | &#39;&amp;&#39; | &#39;\\&#39;&#39; | &#39;\\\\(&#39; | &#39;\\\\)&#39; | &#39;*&#39; | &#39;+&#39; | &#39;,&#39; | &#39;/&#39; | &#39;:&#39; | &#39;;&#39; | &#39;&lt;&#39; | &#39;=&#39; | &#39;&gt;&#39; | &#39;?&#39; | &#39;@&#39; | &#39;[&#39; | &#39;\\\\&#39; | &#39;]&#39; | &#39;^&#39; | &#39;`&#39; | &#39;{&#39; | &#39;|&#39; | &#39;}&#39; | &#39;~&#39; | &#39;_&#39;\r\n    ;\r\n\r\nNumber\r\n    : &#39;-&#39;? Integer (&#39;.&#39; Integer)?\r\n    ;\r\n\r\nInteger\r\n    : Digit+\r\n    ;\r\n\r\nWhitespace\r\n    : [ \\t\\r\\n]\r\n    ;\r\n\r\nfragment Digit\r\n    : [0-9]\r\n    ;\r\n```\r\n\r\nA few tips:\r\n\r\n- do not mix lexer and parser rules: start with parser rules, followed by lexer rules\r\n- do not use literal tokens (like `&#39;.&#39;`) inside parser rules\r\n\r\nIf you do that, it will be more clear when a token will be chosen over another token: the lexer:\r\n\r\n1. matches rules from top to bottom, always choosing the longest possible match, and\r\n2. when 2 (or more) lexer rules match the same amount of characters, the rule defined first &quot;wins&quot;\r\n\r\nThat is why (in my second grammar) the input &quot;-1&quot; will become a single `Number` token, and _not_ a `Minus` token followed by a `Number` token (longest match &quot;wins&quot;).","title":"ANTRL4 grammar cannot cover all cases","body":"<p>ANTLR has a strict separation between parser- and lexer rules. Whenever you use literal tokens in parser rules (like <code>'-'</code> and <code>'.'</code> in the <code>number</code> rule), ANTLR creates lexer rules behind the scenes for you. So the grammar:</p>\n<pre><code>number\n    : '-'? integer ('.' integer)?\n    ;\n\nCharactor \n    : [a-zA-Z] | ... | '-' | '.' | ...\n    ;\n</code></pre>\n<p>really looks like this:</p>\n<pre><code>number\n    : T_0? integer (T_1 integer)?\n    ;\n\nT_0 : '-';\n\nT_1 : '.';\n\nCharactor \n    : [a-zA-Z] | ... | '-' | '.' | ...\n    ;\n</code></pre>\n<p>And since the strict separation, ANTLR creates tokens independently from the parser. This means that for the characters <code>-</code> and <code>.</code>, it will never happen that these become <code>Charactor</code> tokens. They will always become <code>T_0</code> and <code>T_1</code> tokens. There is no way around this. If you freely want to used any character/token in any rule, look for &quot;scannerless parsing&quot; or &quot;PEG parser&quot; instead of using ANTLR.</p>\n<p>To make your current grammar work with as little changes as possible, do something like this:</p>\n<pre><code>grammar Hello;\n\nr  : element* ;\n\nelement\n    : number Whitespace\n    | string Whitespace\n    ;\n\nstring\n    : '(' (Charactor | Minus | Dot)* ')'\n    ;\n\nMinus : '-';\nDot : '.';\n\nCharactor\n    : [a-zA-Z] |'!' | '&quot;'| '#' | '$' | '%' | '&amp;' | '\\'' | '\\\\(' | '\\\\)' | '*' | '+' | ',' | '/' | ':' | ';' | '&lt;' | '=' | '&gt;' | '?' | '@' | '[' | '\\\\' | ']' | '^' | '`' | '{' | '|' | '}' | '~' | '_'\n    ;\n\nnumber\n    : Minus? integer (Dot integer)?\n    ;\n\ninteger\n    : digit+\n    ;\n\ndigit\n    : D0 | D1 | D2 | D3 | D4 | D5 | D6 | D7 | D8 | D9\n    ;\n\n\nWhitespace\n    : ' ' | '\\n'\n    ;\n\nD1 : '1';\nD2 : '2';\nD3 : '3';\nD4 : '4';\nD5 : '5';\nD6 : '6';\nD7 : '7';\nD8 : '8';\nD9 : '9';\nD0 : '0';\n</code></pre>\n<p>But ideally, you'd use ANTLR more as it is intended to be (clearly defining tokens instead of constructing tokens in parser rules):</p>\n<pre><code>grammar Hello;\n\nr  : element* EOF;\n\nelement\n    : Number Whitespace\n    | string Whitespace\n    ;\n\nstring\n    : '(' character* ')'\n    ;\n\ncharacter\n    : Character\n    | Minus\n    | Dot\n    ;\n\nMinus\n    : '-'\n    ;\n\nDot\n    : '.'\n    ;\n\nCharacter\n    : [a-zA-Z] | '!' | '&quot;'| '#' | '$' | '%' | '&amp;' | '\\'' | '\\\\(' | '\\\\)' | '*' | '+' | ',' | '/' | ':' | ';' | '&lt;' | '=' | '&gt;' | '?' | '@' | '[' | '\\\\' | ']' | '^' | '`' | '{' | '|' | '}' | '~' | '_'\n    ;\n\nNumber\n    : '-'? Integer ('.' Integer)?\n    ;\n\nInteger\n    : Digit+\n    ;\n\nWhitespace\n    : [ \\t\\r\\n]\n    ;\n\nfragment Digit\n    : [0-9]\n    ;\n</code></pre>\n<p>A few tips:</p>\n<ul>\n<li>do not mix lexer and parser rules: start with parser rules, followed by lexer rules</li>\n<li>do not use literal tokens (like <code>'.'</code>) inside parser rules</li>\n</ul>\n<p>If you do that, it will be more clear when a token will be chosen over another token: the lexer:</p>\n<ol>\n<li>matches rules from top to bottom, always choosing the longest possible match, and</li>\n<li>when 2 (or more) lexer rules match the same amount of characters, the rule defined first &quot;wins&quot;</li>\n</ol>\n<p>That is why (in my second grammar) the input &quot;-1&quot; will become a single <code>Number</code> token, and <em>not</em> a <code>Minus</code> token followed by a <code>Number</code> token (longest match &quot;wins&quot;).</p>\n"}],"owner":{"account_id":14210994,"reputation":53,"user_id":10266230,"display_name":"Kevin Lu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":70016057,"answer_count":1,"score":2,"last_activity_date":1637221798,"creation_date":1637217879,"question_id":70015538,"body_markdown":"    // Define a grammar called Hello\r\n    grammar Hello;\r\n    \r\n    r  : element* ;         \r\n    \r\n    element\r\n        : number Whitespace\r\n        | string Whitespace\r\n        ;\r\n    \r\n    string\r\n        : &#39;(&#39; Charactor* &#39;)&#39;\r\n        ;\r\n    \r\n    Charactor \r\n        : [a-zA-Z] |&#39;!&#39; | &#39;&quot;&#39;| &#39;#&#39; | &#39;$&#39; | &#39;%&#39; | &#39;&amp;&#39; | &#39;\\&#39;&#39; | &#39;\\\\(&#39; | &#39;\\\\)&#39; | &#39;*&#39; | &#39;+&#39; | &#39;,&#39; | &#39;-&#39; | &#39;.&#39; | &#39;/&#39; | &#39;:&#39; | &#39;;&#39; | &#39;&lt;&#39; | &#39;=&#39; | &#39;&gt;&#39; | &#39;?&#39; | &#39;@&#39; | &#39;[&#39; | &#39;\\\\&#39; | &#39;]&#39; | &#39;^&#39; | &#39;`&#39; | &#39;{&#39; | &#39;|&#39; | &#39;}&#39; | &#39;~&#39; | &#39;_&#39;\r\n        ;\r\n    \r\n    number\r\n        : &#39;-&#39;? integer (&#39;.&#39; integer)?\r\n        ;\r\n    \r\n    integer\r\n        : digit+\r\n        ;\r\n    \r\n    digit\r\n        : D0 | D1 | D2 | D3 | D4 | D5 | D6 | D7 | D8 | D9\r\n        ;\r\n    \r\n    \r\n    Whitespace\r\n        : &#39; &#39; | &#39;\\n&#39;\r\n        ;\r\n    \r\n    D1 : &#39;1&#39;;\r\n    D2 : &#39;2&#39;;\r\n    D3 : &#39;3&#39;;\r\n    D4 : &#39;4&#39;;\r\n    D5 : &#39;5&#39;;\r\n    D6 : &#39;6&#39;;\r\n    D7 : &#39;7&#39;;\r\n    D8 : &#39;8&#39;;\r\n    D9 : &#39;9&#39;;\r\n    D0 : &#39;0&#39;;\r\n    \r\n    //WS : [ \\t\\r\\n]+ -&gt; skip ; skip spaces, tabs, newlines\r\n\r\n\r\nI used the above .g4 grammar file to parse the following sequence of characters.\r\n\r\n&gt;   Hello antlr4 Hello.g4   Hello javac Hello*.java   Hello grun\r\n&gt; Hello r -tree\r\n&gt; 1.1 -1.2 333 -222 (\\(\\(*&amp;^%$#@!~`&lt;&gt;,?&quot;&#39;\\|[[]]{}~) (r (element (number (integer (digit 1)) . (integer (digit 1)))  ) (element (number -\r\n&gt; (integer (digit 1)) . (integer (digit 2)))  ) (element (number\r\n&gt; (integer (digit 3) (digit 3) (digit 3)))  ) (element (number -\r\n&gt; (integer (digit 2) (digit 2) (digit 2)))  ) (element (string ( \\( \\( *\r\n&gt; &amp; ^ % $ # @ ! ~ ` &lt; &gt; , ? &quot; &#39; \\ | [ [ ] ] { } ~ ))  ))\r\n\r\nThis case works well.\r\n\r\nBut when I input the string &quot;1.1 -1.2 333 -222 (-.#$?)&quot;, it doesn&#39;t parse it correctly.\r\n\r\n&gt;   Hello grun Hello r -tree\r\n&gt; 1.1 -1.2 333 -222 (-.#$?) line 1:19 mismatched input &#39;-&#39; expecting {&#39;)&#39;, Charactor} line 1:20 mismatched input &#39;.&#39; expecting {&#39;1&#39;, &#39;2&#39;,\r\n&gt; &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;0&#39;} line 1:21 mismatched input &#39;#&#39;\r\n&gt; expecting {&#39;1&#39;, &#39;2&#39;, &#39;3&#39;, &#39;4&#39;, &#39;5&#39;, &#39;6&#39;, &#39;7&#39;, &#39;8&#39;, &#39;9&#39;, &#39;0&#39;} (r\r\n&gt; (element (number (integer (digit 1)) . (integer (digit 1)))  )\r\n&gt; (element (number - (integer (digit 1)) . (integer (digit 2)))  )\r\n&gt; (element (number (integer (digit 3) (digit 3) (digit 3)))  ) (element\r\n&gt; (number - (integer (digit 2) (digit 2) (digit 2)))  ) (element (string\r\n&gt; () &lt;missing Whitespace&gt;) (element (number - integer . (integer # $ ?\r\n&gt; )))  ))   Hello\r\n\r\nThis special sequence of characters is an array that includes numbers or strings.\r\nThe number can come with these ways like 1.1, -1.2, -222, 222\r\nThe string starts with &#39;(&#39;, and ends with &#39;)&#39;, if &#39;(&#39; or &#39;)&#39; appear in it, it could be escaped. It&#39;s noted that the string can include the character &#39;-&#39; or &#39;.&#39;.  So when &#39;-&#39; or &#39;.&#39; appears in the numbers and strings at the same time, it seems Antlr cannot parse it correctly. \r\n\r\nDoes anyone know how to fix this issue?  Thanks!\r\n\r\n\r\n","title":"ANTRL4 grammar cannot cover all cases","body":"<pre><code>// Define a grammar called Hello\ngrammar Hello;\n\nr  : element* ;         \n\nelement\n    : number Whitespace\n    | string Whitespace\n    ;\n\nstring\n    : '(' Charactor* ')'\n    ;\n\nCharactor \n    : [a-zA-Z] |'!' | '&quot;'| '#' | '$' | '%' | '&amp;' | '\\'' | '\\\\(' | '\\\\)' | '*' | '+' | ',' | '-' | '.' | '/' | ':' | ';' | '&lt;' | '=' | '&gt;' | '?' | '@' | '[' | '\\\\' | ']' | '^' | '`' | '{' | '|' | '}' | '~' | '_'\n    ;\n\nnumber\n    : '-'? integer ('.' integer)?\n    ;\n\ninteger\n    : digit+\n    ;\n\ndigit\n    : D0 | D1 | D2 | D3 | D4 | D5 | D6 | D7 | D8 | D9\n    ;\n\n\nWhitespace\n    : ' ' | '\\n'\n    ;\n\nD1 : '1';\nD2 : '2';\nD3 : '3';\nD4 : '4';\nD5 : '5';\nD6 : '6';\nD7 : '7';\nD8 : '8';\nD9 : '9';\nD0 : '0';\n\n//WS : [ \\t\\r\\n]+ -&gt; skip ; skip spaces, tabs, newlines\n</code></pre>\n<p>I used the above .g4 grammar file to parse the following sequence of characters.</p>\n<blockquote>\n<p>  Hello antlr4 Hello.g4   Hello javac Hello*.java   Hello grun\nHello r -tree\n1.1 -1.2 333 -222 (((*&amp;^%$#@!~<code>&lt;&gt;,?&quot;'\\|[[]]{}~) (r (element (number (integer (digit 1)) . (integer (digit 1)))  ) (element (number - (integer (digit 1)) . (integer (digit 2)))  ) (element (number (integer (digit 3) (digit 3) (digit 3)))  ) (element (number - (integer (digit 2) (digit 2) (digit 2)))  ) (element (string ( \\( \\( * &amp; ^ % $ # @ ! ~ </code> &lt; &gt; , ? &quot; ' \\ | [ [ ] ] { } ~ ))  ))</p>\n</blockquote>\n<p>This case works well.</p>\n<p>But when I input the string &quot;1.1 -1.2 333 -222 (-.#$?)&quot;, it doesn't parse it correctly.</p>\n<blockquote>\n<p>  Hello grun Hello r -tree\n1.1 -1.2 333 -222 (-.#$?) line 1:19 mismatched input '-' expecting {')', Charactor} line 1:20 mismatched input '.' expecting {'1', '2',\n'3', '4', '5', '6', '7', '8', '9', '0'} line 1:21 mismatched input '#'\nexpecting {'1', '2', '3', '4', '5', '6', '7', '8', '9', '0'} (r\n(element (number (integer (digit 1)) . (integer (digit 1)))  )\n(element (number - (integer (digit 1)) . (integer (digit 2)))  )\n(element (number (integer (digit 3) (digit 3) (digit 3)))  ) (element\n(number - (integer (digit 2) (digit 2) (digit 2)))  ) (element (string\n() ) (element (number - integer . (integer # $ ?\n)))  ))   Hello</p>\n</blockquote>\n<p>This special sequence of characters is an array that includes numbers or strings.\nThe number can come with these ways like 1.1, -1.2, -222, 222\nThe string starts with '(', and ends with ')', if '(' or ')' appear in it, it could be escaped. It's noted that the string can include the character '-' or '.'.  So when '-' or '.' appears in the numbers and strings at the same time, it seems Antlr cannot parse it correctly.</p>\n<p>Does anyone know how to fix this issue?  Thanks!</p>\n"},{"tags":["java","android","appium"],"answers":[{"tags":[],"owner":{"account_id":17779397,"reputation":407,"user_id":12910905,"display_name":"Nithin Mohan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221651,"creation_date":1637221651,"answer_id":70016186,"question_id":69962123,"body_markdown":"Key presses on appium are done by \r\n\r\n`driver.press_keycode(code)`\r\n\r\n\r\n[All  required codes can be found here][1]\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/view/KeyEvent.html\r\n\r\n* 187 - KEYCODE_APP_SWITCH\r\n\r\nTry this, not sure whether it solves","title":"How to move the focus to another app in appium","body":"<p>Key presses on appium are done by</p>\n<p><code>driver.press_keycode(code)</code></p>\n<p><a href=\"https://developer.android.com/reference/android/view/KeyEvent.html\" rel=\"nofollow noreferrer\">All  required codes can be found here</a></p>\n<ul>\n<li>187 - KEYCODE_APP_SWITCH</li>\n</ul>\n<p>Try this, not sure whether it solves</p>\n"}],"owner":{"account_id":23149490,"reputation":1,"user_id":17251750,"display_name":"Ido Aricha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":271,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637221651,"creation_date":1636885376,"question_id":69962123,"body_markdown":"I&#39;m writing test automation for an app. The app launches the phone dialer with a specific phone number when clicking a button. I want to return the phone number to my code and return it to the app. \r\n\r\nI&#39;m using appium 1.21 and java.\r\n\r\nI&#39;ve tried to use this code:\r\n\r\n        androidDriver.activateApp(&quot;com.android.phone&quot;);\r\n        System.out.println(androidDriver.findElement(MobileBy.id(&quot;digis&quot;)).getText());\r\n        androidDriver.activateApp(&quot;com.app.test&quot;); //return to the app from dial  \r\n\r\nbut i&#39;m getting an error :\r\n\r\n&gt; Encountered internal error running command: Error: Cannot activate\r\n&gt; &#39;com.android.phone&#39;. Original error: Error executing adbExec. Original\r\n&gt; error: &#39;Command &#39;/Users/idoa/Library/Android/sdk/platform-tools/adb -P\r\n&gt; 5037 -s ce051605bd453d2502 shell monkey -p com.android.phone -c\r\n&gt; android.intent.category.LAUNCHER 1&#39; exited with code 252&#39;; Stderr:\r\n&gt; &#39;args: [-p, com.android.phone, -c, android.intent.category.LAUNCHER,\r\n&gt; 1]\r\n\r\nHow can I do it?\r\n","title":"How to move the focus to another app in appium","body":"<p>I'm writing test automation for an app. The app launches the phone dialer with a specific phone number when clicking a button. I want to return the phone number to my code and return it to the app.</p>\n<p>I'm using appium 1.21 and java.</p>\n<p>I've tried to use this code:</p>\n<pre><code>    androidDriver.activateApp(&quot;com.android.phone&quot;);\n    System.out.println(androidDriver.findElement(MobileBy.id(&quot;digis&quot;)).getText());\n    androidDriver.activateApp(&quot;com.app.test&quot;); //return to the app from dial  \n</code></pre>\n<p>but i'm getting an error :</p>\n<blockquote>\n<p>Encountered internal error running command: Error: Cannot activate\n'com.android.phone'. Original error: Error executing adbExec. Original\nerror: 'Command '/Users/idoa/Library/Android/sdk/platform-tools/adb -P\n5037 -s ce051605bd453d2502 shell monkey -p com.android.phone -c\nandroid.intent.category.LAUNCHER 1' exited with code 252'; Stderr:\n'args: [-p, com.android.phone, -c, android.intent.category.LAUNCHER,\n1]</p>\n</blockquote>\n<p>How can I do it?</p>\n"},{"tags":["java","spring-boot","file","loading","pdfbox"],"comments":[{"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"score":1,"creation_date":1588793357,"post_id":61643627,"comment_id":109039725,"body_markdown":"What do you want to do? PDDocument.load expects a pdf file, not a txt file. See javadoc https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#load(java.io.File)","body":"What do you want to do? PDDocument.load expects a pdf file, not a txt file. See javadoc <a href=\"https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#load(java.io.File)\" rel=\"nofollow noreferrer\">pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmo&zwnj;&#8203;del/&hellip;</a>"},{"owner":{"account_id":14989739,"reputation":3527,"user_id":10821284,"display_name":"Compiler v2"},"score":0,"creation_date":1588793495,"post_id":61643627,"comment_id":109039801,"body_markdown":"@TomStroemer Well well, thanks for that. I was under the assumption that it could load text files. Fixing now...","body":"@TomStroemer Well well, thanks for that. I was under the assumption that it could load text files. Fixing now..."},{"owner":{"account_id":14989739,"reputation":3527,"user_id":10821284,"display_name":"Compiler v2"},"score":0,"creation_date":1588793693,"post_id":61643627,"comment_id":109039902,"body_markdown":"@TomStroemer It worked! Thank you! Please add that as an answer to my question and I will give you the rep.","body":"@TomStroemer It worked! Thank you! Please add that as an answer to my question and I will give you the rep."}],"answers":[{"tags":[],"owner":{"account_id":18420841,"reputation":1402,"user_id":13418510,"display_name":"TomStroemer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1588793891,"creation_date":1588793891,"answer_id":61643899,"question_id":61643627,"body_markdown":"PDDocument.load expects a pdf file, not a txt file. \r\n\r\nSee javadoc of PDDocument: https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#load(java.io.File)","title":"PDFBox | Crash on line: PDDocument.load(file)","body":"<p>PDDocument.load expects a pdf file, not a txt file. </p>\n\n<p>See javadoc of PDDocument: <a href=\"https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#load(java.io.File)\" rel=\"nofollow noreferrer\">https://pdfbox.apache.org/docs/2.0.2/javadocs/org/apache/pdfbox/pdmodel/PDDocument.html#load(java.io.File)</a></p>\n"},{"tags":[],"owner":{"account_id":4176102,"reputation":558,"user_id":3422574,"display_name":"Tuhin Paul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221571,"creation_date":1637221571,"answer_id":70016172,"question_id":61643627,"body_markdown":"In PDFBox 3.0, you have to use `org.apache.pdfbox.Loader.loadPDF(new File(...))`\r\n\r\nFor more information, check https://pdfbox.apache.org/3.0/migration.html","title":"PDFBox | Crash on line: PDDocument.load(file)","body":"<p>In PDFBox 3.0, you have to use <code>org.apache.pdfbox.Loader.loadPDF(new File(...))</code></p>\n<p>For more information, check <a href=\"https://pdfbox.apache.org/3.0/migration.html\" rel=\"nofollow noreferrer\">https://pdfbox.apache.org/3.0/migration.html</a></p>\n"}],"owner":{"account_id":14989739,"reputation":3527,"user_id":10821284,"display_name":"Compiler v2"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3082,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":61643899,"answer_count":2,"score":1,"last_activity_date":1637221571,"creation_date":1588792934,"question_id":61643627,"body_markdown":"I have the following simplified code:\r\n\r\n```\r\nPDFTextStripper pdfStripper = new PDFTextStripper();\r\nPDDocument doc;\r\nString text = &quot;&quot;;\r\n\r\ntry {\r\n    File textFile = new File(&quot;C:/Users/user/Desktop/PDF-test.txt&quot;);\r\n    doc = PDDocument.load(textFile);\r\n    text = pdfStripper.getText(doc);\r\n} finally {\r\n   ...\r\n}\r\n\r\n...\r\n\r\nPDPageContentStream content = new PDPageContentStream(doc, page);\r\n\r\ncontent.setFont(font, 12);\r\n\r\ncontent.beginText();\r\n// Write to page using a text file\r\ncontent.showText(text);\r\ncontent.endText();\r\ncontent.close();\r\n```\r\n___\r\n**The Problem**\r\n\r\nI get the following error: `java.io.IOException: Error: End-of-File, expected line` on the line: \r\n\r\n`doc = PDDocument.load(textFile);` in the `try` block.\r\n\r\n___\r\n\r\n**What I&#39;ve Tried**\r\n\r\nI&#39;ve tried these solutions but none have worked:\r\n\r\n- https://stackoverflow.com/questions/16888775/org-apache-pdfbox-pdmodel-pddocument-does-not-load-read-the-pdf-document\r\n\r\n- https://stackoverflow.com/questions/23813727/how-to-extract-text-from-a-pdf-file-with-apache-pdfbox\r\n\r\n- https://www.javatpoint.com/pdfbox-reading-text\r\n\r\n- https://issues.apache.org/jira/browse/PDFBOX-4443\r\n\r\n- https://stackoverflow.com/questions/34871270/merge-files-gives-error-end-of-file-expected-line\r\n\r\n- https://stackoverflow.com/questions/50953924/pdfbox-ioexception-end-of-file-expected-line\r\n\r\n___\r\n\r\n**Expected Results**\r\n\r\nI want to load the text file without error and display it as a PDF with PDFBox.","title":"PDFBox | Crash on line: PDDocument.load(file)","body":"<p>I have the following simplified code:</p>\n\n<pre><code>PDFTextStripper pdfStripper = new PDFTextStripper();\nPDDocument doc;\nString text = \"\";\n\ntry {\n    File textFile = new File(\"C:/Users/user/Desktop/PDF-test.txt\");\n    doc = PDDocument.load(textFile);\n    text = pdfStripper.getText(doc);\n} finally {\n   ...\n}\n\n...\n\nPDPageContentStream content = new PDPageContentStream(doc, page);\n\ncontent.setFont(font, 12);\n\ncontent.beginText();\n// Write to page using a text file\ncontent.showText(text);\ncontent.endText();\ncontent.close();\n</code></pre>\n\n<hr>\n\n<p><strong>The Problem</strong></p>\n\n<p>I get the following error: <code>java.io.IOException: Error: End-of-File, expected line</code> on the line: </p>\n\n<p><code>doc = PDDocument.load(textFile);</code> in the <code>try</code> block.</p>\n\n<hr>\n\n<p><strong>What I've Tried</strong></p>\n\n<p>I've tried these solutions but none have worked:</p>\n\n<ul>\n<li><p><a href=\"https://stackoverflow.com/questions/16888775/org-apache-pdfbox-pdmodel-pddocument-does-not-load-read-the-pdf-document\">org.apache.pdfbox.pdmodel.PDDocument does not load / read the PDF document</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/23813727/how-to-extract-text-from-a-pdf-file-with-apache-pdfbox\">How to extract text from a PDF file with Apache PDFBox</a></p></li>\n<li><p><a href=\"https://www.javatpoint.com/pdfbox-reading-text\" rel=\"nofollow noreferrer\">https://www.javatpoint.com/pdfbox-reading-text</a></p></li>\n<li><p><a href=\"https://issues.apache.org/jira/browse/PDFBOX-4443\" rel=\"nofollow noreferrer\">https://issues.apache.org/jira/browse/PDFBOX-4443</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/34871270/merge-files-gives-error-end-of-file-expected-line\">merge files gives error: End-of-File, expected line</a></p></li>\n<li><p><a href=\"https://stackoverflow.com/questions/50953924/pdfbox-ioexception-end-of-file-expected-line\">PDFBox IOException: End of File, expected line</a></p></li>\n</ul>\n\n<hr>\n\n<p><strong>Expected Results</strong></p>\n\n<p>I want to load the text file without error and display it as a PDF with PDFBox.</p>\n"},{"tags":["java","mysql","spring-boot","annotations"],"answers":[{"tags":[],"owner":{"account_id":9423391,"reputation":81,"user_id":7009165,"display_name":"Th&#244;ng Nguyn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637119041,"creation_date":1637119041,"answer_id":69998539,"question_id":69996978,"body_markdown":"Using `?0`, `?1`, `?{index of parameter}`....\r\nTry this:\r\n```java\r\n@Query(value = &quot;SELECT f.id FROM faces f WHERE ?0&quot;, nativeQuery = true)\r\nList&lt;String&gt; findAllFaces(String query);\r\n```\r\nAnother example:\r\n```java\r\n@Query(value = &quot;SELECT * FROM faces WHERE key1 = ?0 AND key2 = ?1 AND key3 = ?2&quot;, nativeQuery = true)\r\nList&lt;String&gt; findByKey1AndKey2AndKey3(String value1, String value2, String value3);\r\n```","title":"How can I use my parameter in query annotation in Spring Boot?","body":"<p>Using <code>?0</code>, <code>?1</code>, <code>?{index of parameter}</code>....\nTry this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT f.id FROM faces f WHERE ?0&quot;, nativeQuery = true)\nList&lt;String&gt; findAllFaces(String query);\n</code></pre>\n<p>Another example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Query(value = &quot;SELECT * FROM faces WHERE key1 = ?0 AND key2 = ?1 AND key3 = ?2&quot;, nativeQuery = true)\nList&lt;String&gt; findByKey1AndKey2AndKey3(String value1, String value2, String value3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4597208,"reputation":48209,"user_id":3728901,"accept_rate":58,"display_name":"Vy Do"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221394,"creation_date":1637221394,"answer_id":70016141,"question_id":69996978,"body_markdown":"**Solution 1:**\r\n\r\n```java\r\npublic interface UserRepository extends JpaRepository&lt;User, Long&gt; {\r\n\r\n  @Query(&quot;select u from User u where u.emailAddress = ?1&quot;)\r\n  User findByEmailAddress(String emailAddress);\r\n}\r\n```\r\nsee https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\r\n\r\n\r\n**Solution 2:**\r\n\r\n```java\r\n@Entity\r\n@NamedQuery(name = &quot;User.findByEmailAddress&quot;,\r\n  query = &quot;select u from User u where u.emailAddress = ?1&quot;)\r\npublic class User {\r\n\r\n}\r\n```\r\n\r\nReference document: https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries.annotation-based-configuration","title":"How can I use my parameter in query annotation in Spring Boot?","body":"<p><strong>Solution 1:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface UserRepository extends JpaRepository&lt;User, Long&gt; {\n\n  @Query(&quot;select u from User u where u.emailAddress = ?1&quot;)\n  User findByEmailAddress(String emailAddress);\n}\n</code></pre>\n<p>see <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.at-query</a></p>\n<p><strong>Solution 2:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@NamedQuery(name = &quot;User.findByEmailAddress&quot;,\n  query = &quot;select u from User u where u.emailAddress = ?1&quot;)\npublic class User {\n\n}\n</code></pre>\n<p>Reference document: <a href=\"https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries.annotation-based-configuration\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#jpa.query-methods.named-queries.annotation-based-configuration</a></p>\n"}],"owner":{"account_id":23360506,"reputation":1,"user_id":17432823,"display_name":"codycoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1637221520,"creation_date":1637103145,"question_id":69996978,"body_markdown":"I created a MySQL query as a string. I want to add it to my `@Query` annotation. I could not get the parameter from my function. I tried `:query` in repository `findAllFaces` function `@Query` but it doesn&#39;t work.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/NV0sI.jpg","title":"How can I use my parameter in query annotation in Spring Boot?","body":"<p>I created a MySQL query as a string. I want to add it to my <code>@Query</code> annotation. I could not get the parameter from my function. I tried <code>:query</code> in repository <code>findAllFaces</code> function <code>@Query</code> but it doesn't work.</p>\n<p><a href=\"https://i.stack.imgur.com/NV0sI.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NV0sI.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","ebcdic"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":0,"creation_date":1637175234,"post_id":70009903,"comment_id":123758441,"body_markdown":"Note that the jt400 project has a lot of conversion tables from the as/400 that might be simpler to use.","body":"Note that the jt400 project has a lot of conversion tables from the as/400 that might be simpler to use."},{"owner":{"account_id":2053598,"reputation":41316,"user_id":1831987,"display_name":"VGR"},"score":2,"creation_date":1637189290,"post_id":70009903,"comment_id":123763176,"body_markdown":"You should not convert bytes to and from hex strings just to check their values.  You can just write `if (bytes[0] == 0x0d &amp;&amp; bytes[1] == 0x25)`.","body":"You should not convert bytes to and from hex strings just to check their values.  You can just write <code>if (bytes[0] == 0x0d &amp;&amp; bytes[1] == 0x25)</code>."},{"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"score":0,"creation_date":1637218930,"post_id":70009903,"comment_id":123768553,"body_markdown":"@VGR thanks for pointing that out, I guess I&#39;d been looking at the problem too much. I updated the example.","body":"@VGR thanks for pointing that out, I guess I&#39;d been looking at the problem too much. I updated the example."}],"answers":[{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637221432,"creation_date":1637221065,"answer_id":70016071,"question_id":70009903,"body_markdown":"The EBCDIC newline character got a separate Unicode _code point_ NEL = U+0085. For instance BufferedReader.readLine will also take that as line separator.\r\n\r\nEBCDIC LF 0X25 is not `\\n` but `\\u0085`.\r\n`\\n` is always `\\u000a`. UTF-16.\r\n\r\nThe unit test should be done on `byte[]` and it should be checked that the code reading lines does not read an extra empty line on bytes 0d 25 in EBCDIC.\r\n\r\nIn regular expression you can use `&quot;\\\\R&quot;` for the miscellaneous line separators:\r\n\r\n    s = s.replaceAll(&quot;\\\\R&quot;, &quot;.&quot;);","title":"EBCDIC (Cp1047) junit 0D25","body":"<p>The EBCDIC newline character got a separate Unicode <em>code point</em> NEL = U+0085. For instance BufferedReader.readLine will also take that as line separator.</p>\n<p>EBCDIC LF 0X25 is not <code>\\n</code> but <code>\\u0085</code>.\n<code>\\n</code> is always <code>\\u000a</code>. UTF-16.</p>\n<p>The unit test should be done on <code>byte[]</code> and it should be checked that the code reading lines does not read an extra empty line on bytes 0d 25 in EBCDIC.</p>\n<p>In regular expression you can use <code>&quot;\\\\R&quot;</code> for the miscellaneous line separators:</p>\n<pre><code>s = s.replaceAll(&quot;\\\\R&quot;, &quot;.&quot;);\n</code></pre>\n"}],"owner":{"account_id":7582437,"reputation":5222,"user_id":5752737,"accept_rate":100,"display_name":"geco17"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1137,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70016071,"answer_count":1,"score":1,"last_activity_date":1637221432,"creation_date":1637174575,"question_id":70009903,"body_markdown":"I&#39;m working with some data encoded in EBCDIC and I&#39;m required to substitute some of the values.\r\n\r\nOne of the values is the hex bytes `0D 25` which have to become `40 40`.\r\n\r\nI understand this to mean that the EBCDIC characters are as follows:\r\n\r\n- 0D: carriage return\r\n- 25: line feed\r\n\r\nThis pair when found in a `String` with this encoding must be replaced with two spaces (hex 40, twice). See also the [wikipedia EDCDIC character table](https://en.wikipedia.org/wiki/EBCDIC).\r\n\r\nI understand `0D` (carriage return) to be equivalent to `\\r` and `25`  (line feed) is (should be?) `\\n` in UTF-16. Therefore:\r\n\r\n    assertThat(minimalExample(&quot;\\r\\n&quot;)).isEqualTo(&quot; &quot;);\r\n\r\nshould pass, given a minimal method defined as follows\r\n    \r\n    String minimalExample(String raw) throws Exception {\r\n        byte[] bytes = raw.getBytes(&quot;Cp1047&quot;);\r\n        if (bytes[0] == 0x0d &amp;&amp; bytes[1] == 0x25) {\r\n            bytes[0] = 0x40;\r\n            bytes[1] = 0x40;\r\n        }\r\n        return new String(bytes, &quot;Cp1047&quot;);\r\n    }\r\n\r\nWhat I end up getting though is\r\n\r\n    Expecting:\r\n     &lt;&quot;\r\n    &quot;&gt;\r\n    to be equal to:\r\n     &lt;&quot; &quot;&gt;\r\n    but was not.\r\n\r\nBecause the second hex value for the given string is `15` (not `25` like I thought it would be).\r\n\r\nIt seems that `25` is represented in UTF-16 as `\\u0085`.\r\n\r\nIs this correct?","title":"EBCDIC (Cp1047) junit 0D25","body":"<p>I'm working with some data encoded in EBCDIC and I'm required to substitute some of the values.</p>\n<p>One of the values is the hex bytes <code>0D 25</code> which have to become <code>40 40</code>.</p>\n<p>I understand this to mean that the EBCDIC characters are as follows:</p>\n<ul>\n<li>0D: carriage return</li>\n<li>25: line feed</li>\n</ul>\n<p>This pair when found in a <code>String</code> with this encoding must be replaced with two spaces (hex 40, twice). See also the <a href=\"https://en.wikipedia.org/wiki/EBCDIC\" rel=\"nofollow noreferrer\">wikipedia EDCDIC character table</a>.</p>\n<p>I understand <code>0D</code> (carriage return) to be equivalent to <code>\\r</code> and <code>25</code>  (line feed) is (should be?) <code>\\n</code> in UTF-16. Therefore:</p>\n<pre><code>assertThat(minimalExample(&quot;\\r\\n&quot;)).isEqualTo(&quot; &quot;);\n</code></pre>\n<p>should pass, given a minimal method defined as follows</p>\n<pre><code>String minimalExample(String raw) throws Exception {\n    byte[] bytes = raw.getBytes(&quot;Cp1047&quot;);\n    if (bytes[0] == 0x0d &amp;&amp; bytes[1] == 0x25) {\n        bytes[0] = 0x40;\n        bytes[1] = 0x40;\n    }\n    return new String(bytes, &quot;Cp1047&quot;);\n}\n</code></pre>\n<p>What I end up getting though is</p>\n<pre><code>Expecting:\n &lt;&quot;\n&quot;&gt;\nto be equal to:\n &lt;&quot; &quot;&gt;\nbut was not.\n</code></pre>\n<p>Because the second hex value for the given string is <code>15</code> (not <code>25</code> like I thought it would be).</p>\n<p>It seems that <code>25</code> is represented in UTF-16 as <code>\\u0085</code>.</p>\n<p>Is this correct?</p>\n"},{"tags":["java","android","4g"],"answers":[{"tags":[],"owner":{"account_id":5858874,"reputation":905,"user_id":4615278,"accept_rate":75,"display_name":"shannontesla"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539766140,"creation_date":1539765775,"answer_id":52850677,"question_id":52850101,"body_markdown":"Actually, since Android 5.0 Lollipop you cannot enable nor disable 4G/Phone Data anymore. \r\nAnyway for previous versions and only on rooted devices [this solution ][1] worked.\r\n\r\nTo disable WiFi this code should work:\r\n\r\n    WifiManager wifiManager = (WifiManager)this.context.getSystemService(Context.WIFI_SERVICE);\r\n    wifiManager.setWifiEnabled(status);\r\n\r\nWhere &quot;status&quot;, at the second loc, should be true/false.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/31488730/4615278","title":"How can i turn off 4G/Data programmatically?","body":"<p>Actually, since Android 5.0 Lollipop you cannot enable nor disable 4G/Phone Data anymore. \nAnyway for previous versions and only on rooted devices <a href=\"https://stackoverflow.com/a/31488730/4615278\">this solution </a> worked.</p>\n\n<p>To disable WiFi this code should work:</p>\n\n<pre><code>WifiManager wifiManager = (WifiManager)this.context.getSystemService(Context.WIFI_SERVICE);\nwifiManager.setWifiEnabled(status);\n</code></pre>\n\n<p>Where \"status\", at the second loc, should be true/false.</p>\n"},{"tags":[],"owner":{"account_id":9351018,"reputation":347,"user_id":6940711,"display_name":"Pravin Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539766200,"creation_date":1539766161,"answer_id":52850806,"question_id":52850101,"body_markdown":"You need to root the device,use `TelephonyManager` instead of `ConnectivityManager` and add the permission of `MODIFY_PHONE_STATE`.","title":"How can i turn off 4G/Data programmatically?","body":"<p>You need to root the device,use <code>TelephonyManager</code> instead of <code>ConnectivityManager</code> and add the permission of <code>MODIFY_PHONE_STATE</code>.</p>\n"},{"tags":[],"owner":{"account_id":4426416,"reputation":446,"user_id":3604786,"display_name":"Sam"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607964465,"creation_date":1607964465,"answer_id":65292975,"question_id":52850101,"body_markdown":"Following code works for me on Kotlin:\r\n\r\n    fun disable4GNetwork(context: Context) {\r\n    val connectivityManager =\r\n        context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\r\n    val request: NetworkRequest.Builder?\r\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n        request = NetworkRequest.Builder()\r\n\r\n        request.addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\r\n        connectivityManager.requestNetwork(\r\n            request.build(),\r\n            object : ConnectivityManager.NetworkCallback() {\r\n\r\n                override fun onAvailable(network: Network) {\r\n                    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\r\n                        ConnectivityManager.setProcessDefaultNetwork(network)\r\n                    }\r\n                }\r\n            }\r\n        )\r\n    }\r\n}\r\n","title":"How can i turn off 4G/Data programmatically?","body":"<p>Following code works for me on Kotlin:</p>\n<pre><code>fun disable4GNetwork(context: Context) {\nval connectivityManager =\n    context.getSystemService(Context.CONNECTIVITY_SERVICE) as ConnectivityManager\nval request: NetworkRequest.Builder?\nif (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n    request = NetworkRequest.Builder()\n\n    request.addTransportType(NetworkCapabilities.TRANSPORT_WIFI)\n    connectivityManager.requestNetwork(\n        request.build(),\n        object : ConnectivityManager.NetworkCallback() {\n\n            override fun onAvailable(network: Network) {\n                if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.LOLLIPOP) {\n                    ConnectivityManager.setProcessDefaultNetwork(network)\n                }\n            }\n        }\n    )\n}\n</code></pre>\n<p>}</p>\n"},{"tags":[],"owner":{"account_id":1418198,"reputation":563,"user_id":1343373,"display_name":"thelastworm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221403,"creation_date":1637221403,"answer_id":70016143,"question_id":52850101,"body_markdown":"Ok with Sam Solution but not forgot to add permission in your manifest \r\n```\r\n    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot;/&gt;\r\n```","title":"How can i turn off 4G/Data programmatically?","body":"<p>Ok with Sam Solution but not forgot to add permission in your manifest</p>\n<pre><code>    &lt;uses-permission android:name=&quot;android.permission.CHANGE_NETWORK_STATE&quot;/&gt;\n</code></pre>\n"}],"owner":{"account_id":14561098,"reputation":11,"user_id":10517142,"display_name":"user10517142"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":782,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1637221403,"creation_date":1539763660,"question_id":52850101,"body_markdown":"How do I programmatically turn off 4G / data in Android 8.0?\r\n\r\nNot Wifi, but 4G/Data.\r\n\r\nRunning the following source will turn the device off.\r\n\r\n    public void onClick(View view){\r\n            ConnectivityManager dataManager;\r\n            dataManager  = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);\r\n            Method dataMtd = null;\r\n            try {\r\n                dataMtd = ConnectivityManager.class.getDeclaredMethod(&quot;setMobileDataEnabled&quot;, boolean.class);\r\n            } catch (NoSuchMethodException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n            dataMtd.setAccessible(true);\r\n            try {\r\n                dataMtd.invoke(dataManager, true);\r\n            } catch (IllegalArgumentException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (IllegalAccessException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            } catch (InvocationTargetException e) {\r\n                // TODO Auto-generated catch block\r\n                e.printStackTrace();\r\n            }\r\n        }","title":"How can i turn off 4G/Data programmatically?","body":"<p>How do I programmatically turn off 4G / data in Android 8.0?</p>\n\n<p>Not Wifi, but 4G/Data.</p>\n\n<p>Running the following source will turn the device off.</p>\n\n<pre><code>public void onClick(View view){\n        ConnectivityManager dataManager;\n        dataManager  = (ConnectivityManager)getSystemService(Context.CONNECTIVITY_SERVICE);\n        Method dataMtd = null;\n        try {\n            dataMtd = ConnectivityManager.class.getDeclaredMethod(\"setMobileDataEnabled\", boolean.class);\n        } catch (NoSuchMethodException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        dataMtd.setAccessible(true);\n        try {\n            dataMtd.invoke(dataManager, true);\n        } catch (IllegalArgumentException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (IllegalAccessException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        } catch (InvocationTargetException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","arraylist","java.util.scanner"],"comments":[{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1637205697,"post_id":70014156,"comment_id":123766087,"body_markdown":"Try executing `System.out.println(new File(fileName).getAbsolutePath());` and see what happens.","body":"Try executing <code>System.out.println(new File(fileName).getAbsolutePath());</code> and see what happens."},{"owner":{"account_id":44852,"reputation":322224,"user_id":131872,"accept_rate":100,"display_name":"camickr"},"score":7,"creation_date":1637205721,"post_id":70014156,"comment_id":123766094,"body_markdown":"You are creating the Scanner object with a String value. The `getAbsolutePath()` method returns a String, so that is the object that is read by the scanner. Get rid of that statement and just pass the `File` to the `Scanner`.","body":"You are creating the Scanner object with a String value. The <code>getAbsolutePath()</code> method returns a String, so that is the object that is read by the scanner. Get rid of that statement and just pass the <code>File</code> to the <code>Scanner</code>."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1637205730,"post_id":70014156,"comment_id":123766096,"body_markdown":"I think because you call `getAbsolutePath` on the `File` object and that returns a string, not a `File`.  Just use the `File` object.","body":"I think because you call <code>getAbsolutePath</code> on the <code>File</code> object and that returns a string, not a <code>File</code>.  Just use the <code>File</code> object."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":1,"creation_date":1637205792,"post_id":70014156,"comment_id":123766107,"body_markdown":"Note that `Scanner` has a constructor overload that accepts a `String`.  https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#Scanner(java.lang.String)  That&#39;s the constructor that&#39;s being called in your code.","body":"Note that <code>Scanner</code> has a constructor overload that accepts a <code>String</code>.  <a href=\"https://docs.oracle.com/javase/7/docs/api/java/util/Scanner.html#Scanner(java.lang.String)\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/7/docs/api/java/util/&hellip;</a>  That&#39;s the constructor that&#39;s being called in your code."},{"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"score":0,"creation_date":1637205892,"post_id":70014156,"comment_id":123766121,"body_markdown":"I wanted to make it so that I could access the file even if it was not in the directory by using that method, and for some reason without it I would just get a filenotfound exception","body":"I wanted to make it so that I could access the file even if it was not in the directory by using that method, and for some reason without it I would just get a filenotfound exception"},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1637206001,"post_id":70014156,"comment_id":123766133,"body_markdown":"The File object doesn&#39;t actually open the file.  The Scanner does.","body":"The File object doesn&#39;t actually open the file.  The Scanner does."},{"owner":{"account_id":36137,"reputation":178789,"user_id":102937,"accept_rate":90,"display_name":"Robert Harvey"},"score":0,"creation_date":1637206034,"post_id":70014156,"comment_id":123766137,"body_markdown":"In the code you posted, it&#39;s not opening the file at all; it&#39;s just returning the absolute path from your file name.","body":"In the code you posted, it&#39;s not opening the file at all; it&#39;s just returning the absolute path from your file name."},{"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"score":0,"creation_date":1637206199,"post_id":70014156,"comment_id":123766167,"body_markdown":"I am not too familiar with file io in java, this is actually my first project with it, so I would like to ask how should I fix it?","body":"I am not too familiar with file io in java, this is actually my first project with it, so I would like to ask how should I fix it?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1637206347,"post_id":70014156,"comment_id":123766197,"body_markdown":"I guess you could do this: `new Scanner( new File( new File(fileName).getAbsolutePath() ) )`","body":"I guess you could do this: <code>new Scanner( new File( new File(fileName).getAbsolutePath() ) )</code>"},{"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"score":0,"creation_date":1637206522,"post_id":70014156,"comment_id":123766227,"body_markdown":"So File is a object, and these are just methods for that object, omg I was really overthinking this, thank you","body":"So File is a object, and these are just methods for that object, omg I was really overthinking this, thank you"},{"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"score":0,"creation_date":1637206741,"post_id":70014156,"comment_id":123766263,"body_markdown":"that didnt really work, whelps I dont know why but it keeps throwing the file not found exception","body":"that didnt really work, whelps I dont know why but it keeps throwing the file not found exception"},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1637216143,"post_id":70014156,"comment_id":123767895,"body_markdown":"Refer to [Basic I/O](https://docs.oracle.com/javase/tutorial/essential/io/) lesson in Oracle&#39;s Java tutorials.","body":"Refer to <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/\" rel=\"nofollow noreferrer\">Basic I/O</a> lesson in Oracle&#39;s Java tutorials."},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":0,"creation_date":1637221134,"post_id":70014156,"comment_id":123769138,"body_markdown":"(1) When you pass in the `fileName`, are you passing in an absolute path, or a relative path? (2) If it&#39;s a relative path, what&#39;s your Java environment&#39;s working dir? If you&#39;re running this via an IDE, the run configuration should have that as an option somewhere. Make sure that the relative path is relative to that dir.","body":"(1) When you pass in the <code>fileName</code>, are you passing in an absolute path, or a relative path? (2) If it&#39;s a relative path, what&#39;s your Java environment&#39;s working dir? If you&#39;re running this via an IDE, the run configuration should have that as an option somewhere. Make sure that the relative path is relative to that dir."}],"answers":[{"tags":[],"owner":{"account_id":18060880,"reputation":56,"user_id":13128037,"display_name":"Dave Sessional"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637221370,"creation_date":1637221370,"answer_id":70016138,"question_id":70014156,"body_markdown":"When we work with files in java, we have to be very specific about the file we are talking about.\r\n\r\nThere could be more than one files with the same name in your entire file structure, how would java decide which file it needs to consider. We have below two options\r\n\r\n1. Working with absolute path - First option is to provide the absolute path to Java program, so that it can simply create an object using that path.\r\n\r\n2. Working with relative path - When we are working with relative path, java only searches the file in the classpath, which is by default current working directory, that is, your projects root folder.\r\n\r\nIn case you want to use the relative path, make sure it lies in the classpath.\r\n\r\n[![Reference Image][1]][1]\r\n\r\n\r\nOtherwise make sure to provide the absolute path to the program.\r\n\r\nGiving any filename to the program and expecting java to find out the absolute file path is not the right.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/RPoVH.jpg\r\n\r\n\r\nNeedless to say that your Scanner Object has to be correct.","title":"Java: Why is my code reading and saving the file path and not the actual contents of the file?","body":"<p>When we work with files in java, we have to be very specific about the file we are talking about.</p>\n<p>There could be more than one files with the same name in your entire file structure, how would java decide which file it needs to consider. We have below two options</p>\n<ol>\n<li><p>Working with absolute path - First option is to provide the absolute path to Java program, so that it can simply create an object using that path.</p>\n</li>\n<li><p>Working with relative path - When we are working with relative path, java only searches the file in the classpath, which is by default current working directory, that is, your projects root folder.</p>\n</li>\n</ol>\n<p>In case you want to use the relative path, make sure it lies in the classpath.</p>\n<p><a href=\"https://i.stack.imgur.com/RPoVH.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RPoVH.jpg\" alt=\"Reference Image\" /></a></p>\n<p>Otherwise make sure to provide the absolute path to the program.</p>\n<p>Giving any filename to the program and expecting java to find out the absolute file path is not the right.</p>\n<p>Needless to say that your Scanner Object has to be correct.</p>\n"}],"owner":{"account_id":23261480,"reputation":71,"user_id":17443562,"display_name":"Liferafter"},"comment_count":13,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":254,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":70016138,"answer_count":1,"score":-1,"last_activity_date":1637221370,"creation_date":1637205554,"question_id":70014156,"body_markdown":"I have been working on this method to open a file and read its contents into an ArrayList. For some reason, it is storing the file path in the ArrayList and not the file contents!\r\n\r\n    text = new MyArrayList&lt;&gt;();\r\n    try (Scanner s = new Scanner(new File(fileName).getAbsolutePath())) {\r\n      while (s.hasNext()) {\r\n        text.add(s.next());\r\n      }\r\n    }\r\nCould you help me figure out where I am making the mistake, thank you!\r\n\r\nP.S. **MyArrayList is my own implementation of the ArrayList, it works as a ArrayList.**","title":"Java: Why is my code reading and saving the file path and not the actual contents of the file?","body":"<p>I have been working on this method to open a file and read its contents into an ArrayList. For some reason, it is storing the file path in the ArrayList and not the file contents!</p>\n<pre><code>text = new MyArrayList&lt;&gt;();\ntry (Scanner s = new Scanner(new File(fileName).getAbsolutePath())) {\n  while (s.hasNext()) {\n    text.add(s.next());\n  }\n}\n</code></pre>\n<p>Could you help me figure out where I am making the mistake, thank you!</p>\n<p>P.S. <strong>MyArrayList is my own implementation of the ArrayList, it works as a ArrayList.</strong></p>\n"},{"tags":["java","google-chrome","selenium","selenium-chromedriver"],"answers":[{"tags":[],"owner":{"account_id":1132070,"reputation":3595,"user_id":1117934,"accept_rate":85,"display_name":"DominicEU"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1454324698,"creation_date":1454324698,"answer_id":35128928,"question_id":35128850,"body_markdown":"This should disable images for you.\r\n\r\n        prefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2); \r\n","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>This should disable images for you.</p>\n\n<pre><code>    prefs.put(\"profile.managed_default_content_settings.images\", 2); \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5420431,"reputation":269,"user_id":4314222,"accept_rate":89,"display_name":"zvikachu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1454375311,"creation_date":1454375311,"answer_id":35143361,"question_id":35128850,"body_markdown":"I found a small plugin that does a really good job\r\n\r\n\r\n    ChromeOptions op = new ChromeOptions();\r\n\t\top.addExtensions(new File(&quot;C:\\\\whatever\\\\Block-image_v1.0.crx&quot;));\r\n\t\tdriver = new ChromeDriver(op);\r\n\r\nif anyone else is interested, you can grab it [here][1]\r\n\r\n\r\n  [1]: https://github.com/avinashThummala/LM_Scraper/blob/master/Block-image_v1.0.crx","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>I found a small plugin that does a really good job</p>\n\n<pre><code>ChromeOptions op = new ChromeOptions();\n    op.addExtensions(new File(\"C:\\\\whatever\\\\Block-image_v1.0.crx\"));\n    driver = new ChromeDriver(op);\n</code></pre>\n\n<p>if anyone else is interested, you can grab it <a href=\"https://github.com/avinashThummala/LM_Scraper/blob/master/Block-image_v1.0.crx\" rel=\"nofollow\">here</a></p>\n"},{"tags":[],"owner":{"account_id":8820177,"reputation":100,"user_id":6590316,"display_name":"Sethu_P"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1478900578,"creation_date":1478899543,"answer_id":40556449,"question_id":35128850,"body_markdown":"Check this code, \r\n    \r\n    System.setProperty(&quot;webdriver.chrome.driver&quot;,\r\n    \t\t\t\t\tSettings.getProperty(&quot;ChromeDriverPath&quot;));\r\n\tDesiredCapabilities capabilities= DesiredCapabilities.chrome();\r\n\r\n\tHashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;(); \r\n\timages.put(&quot;images&quot;, 2);\r\n\tHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;(); \r\n\tprefs.put(&quot;profile.default_content_setting_values&quot;, images);\r\n\r\n\tChromeOptions options= new ChromeOptions();\r\n\toptions.addArguments(&quot;--test-type --no-sandbox&quot;);\r\n\toptions.addArguments(&quot;--enable-strict-powerful-feature-restrictions&quot;);\r\n\t\r\n\toptions.setExperimentalOption(&quot;prefs&quot;, prefs); \r\n\tcapabilities.setCapability(ChromeOptions.CAPABILITY, options);\r\n    driver = new ChromeDriver(capabilities);\r\n\r\n\r\n\r\n\r\n","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>Check this code, </p>\n\n<pre><code>System.setProperty(\"webdriver.chrome.driver\",\n                    Settings.getProperty(\"ChromeDriverPath\"));\nDesiredCapabilities capabilities= DesiredCapabilities.chrome();\n\nHashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;(); \nimages.put(\"images\", 2);\nHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;(); \nprefs.put(\"profile.default_content_setting_values\", images);\n\nChromeOptions options= new ChromeOptions();\noptions.addArguments(\"--test-type --no-sandbox\");\noptions.addArguments(\"--enable-strict-powerful-feature-restrictions\");\n\noptions.setExperimentalOption(\"prefs\", prefs); \ncapabilities.setCapability(ChromeOptions.CAPABILITY, options);\ndriver = new ChromeDriver(capabilities);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14978157,"reputation":559,"user_id":10812986,"display_name":"Ercross"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1582099536,"creation_date":1558802359,"answer_id":56306795,"question_id":35128850,"body_markdown":"If you&#39;re running the headless mode, you can try   \r\n```\r\nChromeOptions options = new ChromeOptions();\r\noptions.addArguments(&quot;--headless&quot;, &quot;--disable-gpu&quot;, &quot;--blink-settings=imagesEnabled=false&quot;);\r\nWebDriver driver = new ChromeDriver(options);\r\n```\r\n\r\nAlternatively, you can create a new chrome profile. Disable images by accessing `chrome://settings/content` on the new profile. Then add the new profile to your chromeDriver options. More info [here](https://startingwithseleniumwebdriver.blogspot.com/2015/07/working-with-chrome-profile-with.html).","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>If you're running the headless mode, you can try   </p>\n\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(\"--headless\", \"--disable-gpu\", \"--blink-settings=imagesEnabled=false\");\nWebDriver driver = new ChromeDriver(options);\n</code></pre>\n\n<p>Alternatively, you can create a new chrome profile. Disable images by accessing <code>chrome://settings/content</code> on the new profile. Then add the new profile to your chromeDriver options. More info <a href=\"https://startingwithseleniumwebdriver.blogspot.com/2015/07/working-with-chrome-profile-with.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":3782717,"reputation":927,"user_id":3141682,"accept_rate":75,"display_name":"Adi Ohana"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1558870220,"creation_date":1558870220,"answer_id":56313097,"question_id":35128850,"body_markdown":"With Selenium 4 alpha 1, you can also use CDP for filtering URL&#39;s:\r\n\r\n        ChromeOptions options = new ChromeOptions();\r\n\r\n        ChromeDriver driver = new ChromeDriver(options);\r\n\r\n        driver.getDevTools().createSession();\r\n\r\n        driver.getDevTools().send(new Command&lt;&gt;(&quot;Network.enable&quot;, ImmutableMap.of()));\r\n        driver.getDevTools().send(new Command&lt;&gt;(&quot;Network.setBlockedURLs&quot;, ImmutableMap.of(&quot;urls&quot;, ImmutableList.of(&quot;*://*/*.bmp&quot;,&quot;*://*/*.gif&quot;,&quot;*://*/*.png&quot;))));\r\n\r\n        driver.get(&quot;https://apache.org&quot;);\r\n\r\n        driver.quit();\r\n\r\n\r\nIn the next Alpha version, the interface will be MUCH more user friendly.\r\n\r\nMaven dependency:\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n            &lt;version&gt;4.0.0-alpha-1&lt;/version&gt;\r\n        &lt;/dependency&gt;","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>With Selenium 4 alpha 1, you can also use CDP for filtering URL's:</p>\n\n<pre><code>    ChromeOptions options = new ChromeOptions();\n\n    ChromeDriver driver = new ChromeDriver(options);\n\n    driver.getDevTools().createSession();\n\n    driver.getDevTools().send(new Command&lt;&gt;(\"Network.enable\", ImmutableMap.of()));\n    driver.getDevTools().send(new Command&lt;&gt;(\"Network.setBlockedURLs\", ImmutableMap.of(\"urls\", ImmutableList.of(\"*://*/*.bmp\",\"*://*/*.gif\",\"*://*/*.png\"))));\n\n    driver.get(\"https://apache.org\");\n\n    driver.quit();\n</code></pre>\n\n<p>In the next Alpha version, the interface will be MUCH more user friendly.</p>\n\n<p>Maven dependency:</p>\n\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n        &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n        &lt;version&gt;4.0.0-alpha-1&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16217474,"reputation":1,"user_id":11709921,"display_name":"vibi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1561660591,"creation_date":1561655018,"answer_id":56795739,"question_id":35128850,"body_markdown":"    public class Test {\r\n    \r\n    \tWebDriver driver;\r\n    \tJavascriptExecutor jse;\r\n    \t\r\n    \tpublic void invokeChromeBrowser()\r\n    \t{\r\n    \t\tSystem.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;E:\\\\Softwares\\\\chromedriver.exe&quot;);\r\n    \t\tChromeOptions options = new ChromeOptions();\r\n    \t\tdisableChromeImages(options);\r\n    \t\tdriver = new ChromeDriver(options);\r\n    \t\t\r\n    \t\tdriver.get(&quot;https://www.amazon.com/&quot;);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \tpublic static void disableChromeImages(ChromeOptions options)\r\n    \t{\r\n    \t\tHashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;();\r\n    \t\timages.put(&quot;images&quot;, 2);\r\n    \t\t\r\n    \t\tHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    \t\tprefs.put(&quot;profile.default_content_setting_values&quot;, images);\r\n    \t\t\r\n    \t\toptions.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n    \t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tTest Obj = new Test();\r\n    \t\tObj.invokeChromeBrowser();\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\n","title":"Java Selenium Chrome driver - Disable image loading","body":"<pre><code>public class Test {\n\n    WebDriver driver;\n    JavascriptExecutor jse;\n\n    public void invokeChromeBrowser()\n    {\n        System.setProperty(\"webdriver.chrome.driver\", \"E:\\\\Softwares\\\\chromedriver.exe\");\n        ChromeOptions options = new ChromeOptions();\n        disableChromeImages(options);\n        driver = new ChromeDriver(options);\n\n        driver.get(\"https://www.amazon.com/\");\n\n    }\n\n    public static void disableChromeImages(ChromeOptions options)\n    {\n        HashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;();\n        images.put(\"images\", 2);\n\n        HashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\n        prefs.put(\"profile.default_content_setting_values\", images);\n\n        options.setExperimentalOption(\"prefs\", prefs);\n\n    }\n\n\n    public static void main(String[] args) {\n\n        Test Obj = new Test();\n        Obj.invokeChromeBrowser();\n\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2005001,"reputation":821,"user_id":1795145,"display_name":"indika"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1573045916,"creation_date":1573045916,"answer_id":58730993,"question_id":35128850,"body_markdown":"new ChromeDriver(DesiredCapabilities) is deprecated.\r\n\r\n    Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\r\n    prefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2); \r\n    chromeOptions.setExperimentalOption(&quot;prefs&quot;, prefs);","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>new ChromeDriver(DesiredCapabilities) is deprecated.</p>\n\n<pre><code>Map&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;();\nprefs.put(\"profile.managed_default_content_settings.images\", 2); \nchromeOptions.setExperimentalOption(\"prefs\", prefs);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20718629,"reputation":685,"user_id":15213503,"display_name":"MeT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1636966802,"creation_date":1636966802,"answer_id":69971731,"question_id":35128850,"body_markdown":"It worked for me. \r\n\r\n    ChromeOptions options = new ChromeOptions()\r\n    options.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;)","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>It worked for me.</p>\n<pre><code>ChromeOptions options = new ChromeOptions()\noptions.addArguments(&quot;--blink-settings=imagesEnabled=false&quot;)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10951854,"reputation":1,"user_id":16153371,"display_name":"JavaDev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221146,"creation_date":1637221146,"answer_id":70016083,"question_id":35128850,"body_markdown":"Problem solved!\r\nIt was in the old version of the selenium dependency\r\n\r\nSolution:\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\r\n                &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n     \r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n     \r\n    public class Test {\r\n        public static void main(String[] args) throws InterruptedException {\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\chromedriver.exe&quot;);\r\n     \r\n            Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\r\n            prefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2);\r\n     \r\n            ChromeOptions options = new ChromeOptions();\r\n            options.setExperimentalOption(&quot;prefs&quot;, prefs);\r\n     \r\n            WebDriver driver = new ChromeDriver(options);\r\n     \r\n            driver.get(&quot;https://yandex.ru/&quot;);\r\n            Thread.sleep(15000);\r\n     \r\n            driver.quit();\r\n        }\r\n    }","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>Problem solved!\nIt was in the old version of the selenium dependency</p>\n<p>Solution:</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.seleniumhq.selenium&lt;/groupId&gt;\n            &lt;artifactId&gt;selenium-java&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\n \nimport java.util.HashMap;\nimport java.util.Map;\n \npublic class Test {\n    public static void main(String[] args) throws InterruptedException {\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;D:\\\\chromedriver.exe&quot;);\n \n        Map&lt;String, Object&gt; prefs = new HashMap&lt;&gt;();\n        prefs.put(&quot;profile.managed_default_content_settings.images&quot;, 2);\n \n        ChromeOptions options = new ChromeOptions();\n        options.setExperimentalOption(&quot;prefs&quot;, prefs);\n \n        WebDriver driver = new ChromeDriver(options);\n \n        driver.get(&quot;https://yandex.ru/&quot;);\n        Thread.sleep(15000);\n \n        driver.quit();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":5420431,"reputation":269,"user_id":4314222,"accept_rate":89,"display_name":"zvikachu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13059,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":35143361,"answer_count":9,"score":3,"last_activity_date":1637221146,"creation_date":1454324447,"question_id":35128850,"body_markdown":"I am trying to run chrome driver without loading any images for obvious reasons.\r\n\r\ni found a piece of code online but i think it&#39;s outdated\r\n\r\n    HashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;(); \r\n\timages.put(&quot;images&quot;, 2); \r\n\r\n\tHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;(); \r\n\tprefs.put(&quot;profile.default_content_settings&quot;, images); \r\n\r\n\tChromeOptions options =new ChromeOptions(); \r\n\toptions.setExperimentalOption(&quot;prefs&quot;, prefs); \r\n\r\n\tDesiredCapabilities chromeCaps = DesiredCapabilities.chrome(); \r\n\tchromeCaps.setCapability(ChromeOptions.CAPABILITY, options); \r\n\t\t\t\r\n\tdriver = new ChromeDriver(chromeCaps);\r\n\r\n\r\ndoes not work at all..\r\n\r\nany help would be greatly appriciated ","title":"Java Selenium Chrome driver - Disable image loading","body":"<p>I am trying to run chrome driver without loading any images for obvious reasons.</p>\n\n<p>i found a piece of code online but i think it's outdated</p>\n\n<pre><code>HashMap&lt;String, Object&gt; images = new HashMap&lt;String, Object&gt;(); \nimages.put(\"images\", 2); \n\nHashMap&lt;String, Object&gt; prefs = new HashMap&lt;String, Object&gt;(); \nprefs.put(\"profile.default_content_settings\", images); \n\nChromeOptions options =new ChromeOptions(); \noptions.setExperimentalOption(\"prefs\", prefs); \n\nDesiredCapabilities chromeCaps = DesiredCapabilities.chrome(); \nchromeCaps.setCapability(ChromeOptions.CAPABILITY, options); \n\ndriver = new ChromeDriver(chromeCaps);\n</code></pre>\n\n<p>does not work at all..</p>\n\n<p>any help would be greatly appriciated </p>\n"},{"tags":["java","javafx","visual-studio-code"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":3,"creation_date":1637145406,"post_id":70000771,"comment_id":123745417,"body_markdown":"Please include text like json formatted as code. Do not take screenshots of code and text.  Even directory structures can be shown as text with a tree command.","body":"Please include text like json formatted as code. Do not take screenshots of code and text.  Even directory structures can be shown as text with a tree command."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637145471,"post_id":70000771,"comment_id":123745441,"body_markdown":"I don&#39;t know VS code, but you can certainly do this in Idea and other common IDEs.","body":"I don&#39;t know VS code, but you can certainly do this in Idea and other common IDEs."},{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1637148259,"post_id":70000771,"comment_id":123746464,"body_markdown":"VS code has [maven support](https://code.visualstudio.com/docs/java/java-build), with other IDEs, they can configure the project libraries by synching with the maven project. Perhaps VS code can do the same.","body":"VS code has <a href=\"https://code.visualstudio.com/docs/java/java-build\" rel=\"nofollow noreferrer\">maven support</a>, with other IDEs, they can configure the project libraries by synching with the maven project. Perhaps VS code can do the same."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1637190954,"post_id":70000771,"comment_id":123763536,"body_markdown":"no screenshots of plain text please","body":"no screenshots of plain text please"}],"answers":[{"tags":[],"owner":{"account_id":19088616,"reputation":8284,"user_id":13939333,"display_name":"Molly Wang-MSFT"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637221071,"creation_date":1637221071,"answer_id":70016072,"question_id":70000771,"body_markdown":"To the `vmargs` in launch.json, you may put it in **User** Settings:\r\n\r\n    &quot;java.debug.settings.vmArgs&quot;: &quot;--&quot;\r\n\r\nAbout referenced libraries, you may get them by\r\n\r\n     &quot;java.project.referencedLibraries&quot;: [//&quot;all your needed javafx jars]\r\n\r\n in workspace settings and paste it to your new created project, which avoid choosing jars and adding them to referenced Libraries.","title":"Is there anyway to set up a default location to reference libraries from as well as include in launch.json file for Java projects in VS Code","body":"<p>To the <code>vmargs</code> in launch.json, you may put it in <strong>User</strong> Settings:</p>\n<pre><code>&quot;java.debug.settings.vmArgs&quot;: &quot;--&quot;\n</code></pre>\n<p>About referenced libraries, you may get them by</p>\n<pre><code> &quot;java.project.referencedLibraries&quot;: [//&quot;all your needed javafx jars]\n</code></pre>\n<p>in workspace settings and paste it to your new created project, which avoid choosing jars and adding them to referenced Libraries.</p>\n"}],"owner":{"account_id":21555031,"reputation":11,"user_id":15890442,"display_name":"Arnav Jain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":129,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":1,"score":-1,"last_activity_date":1637221071,"creation_date":1637136419,"question_id":70000771,"body_markdown":"I&#39;m a beginner learning Java FX and JDBC, so I frequently create new projects to try stuff out. However every time I create a new java project, I have to add my reference libraries (jar files) again, as well as set up my `launch.json` file to include the necessary vm-args (for Java FX).\r\n\r\nThis is pretty tedious so I was wondering if there was a way to automate these things when I create a new java project.\r\n\r\nreferenced libraries  \r\n![referenced libraries][1]  \r\nlaunch.json file  \r\n![launch.json file][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9FrL3.png\r\n  [2]: https://i.stack.imgur.com/UgRr1.png","title":"Is there anyway to set up a default location to reference libraries from as well as include in launch.json file for Java projects in VS Code","body":"<p>I'm a beginner learning Java FX and JDBC, so I frequently create new projects to try stuff out. However every time I create a new java project, I have to add my reference libraries (jar files) again, as well as set up my <code>launch.json</code> file to include the necessary vm-args (for Java FX).</p>\n<p>This is pretty tedious so I was wondering if there was a way to automate these things when I create a new java project.</p>\n<p>referenced libraries<br />\n<img src=\"https://i.stack.imgur.com/9FrL3.png\" alt=\"referenced libraries\" /><br />\nlaunch.json file<br />\n<img src=\"https://i.stack.imgur.com/UgRr1.png\" alt=\"launch.json file\" /></p>\n"},{"tags":["java","visual-studio-code","vscode-extensions","vscode-debugger"],"comments":[{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":1,"creation_date":1636981292,"post_id":69974762,"comment_id":123694793,"body_markdown":"What happens if you run it on the command line? There&#39;s nothing wrong with your java code, and vscode debugger doesn&#39;t randomly break apps. Most likely StdIn/StdOut don&#39;t work like you think they do, or there&#39;s an empty line at the start, so that while loop fails immediately, and champ remains empty as a consequence.","body":"What happens if you run it on the command line? There&#39;s nothing wrong with your java code, and vscode debugger doesn&#39;t randomly break apps. Most likely StdIn/StdOut don&#39;t work like you think they do, or there&#39;s an empty line at the start, so that while loop fails immediately, and champ remains empty as a consequence."},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":2,"creation_date":1636981489,"post_id":69974762,"comment_id":123694874,"body_markdown":"It&#39;s hard to tell what might be going wrong here as those `edu.princeton.cs.algs4` classes are definitely not standard and thus we don&#39;t how they are supposed to work (and whether there might be bugs or not).","body":"It&#39;s hard to tell what might be going wrong here as those <code>edu.princeton.cs.algs4</code> classes are definitely not standard and thus we don&#39;t how they are supposed to work (and whether there might be bugs or not)."},{"owner":{"account_id":15924770,"reputation":161,"user_id":11490644,"display_name":"MJK618"},"score":0,"creation_date":1636982258,"post_id":69974762,"comment_id":123695193,"body_markdown":"Yes @Thomas You can [read here](https://algs4.cs.princeton.edu/code/javadoc/edu/princeton/cs/algs4/StdOut.html) about how the package has defined the method","body":"Yes @Thomas You can <a href=\"https://algs4.cs.princeton.edu/code/javadoc/edu/princeton/cs/algs4/StdOut.html\" rel=\"nofollow noreferrer\">read here</a> about how the package has defined the method"},{"owner":{"account_id":22909921,"reputation":1,"user_id":17047361,"display_name":"Aaron Fitch"},"score":0,"creation_date":1636984854,"post_id":69974762,"comment_id":123696275,"body_markdown":"@rzwitserloot When I run it in the command prop the same thing happens.","body":"@rzwitserloot When I run it in the command prop the same thing happens."},{"owner":{"account_id":22909921,"reputation":1,"user_id":17047361,"display_name":"Aaron Fitch"},"score":0,"creation_date":1636987828,"post_id":69974762,"comment_id":123697575,"body_markdown":"@rzwitserloot also, when I run the print inside the while loop it works, plus I have used this method before.","body":"@rzwitserloot also, when I run the print inside the while loop it works, plus I have used this method before."},{"owner":{"account_id":22909921,"reputation":1,"user_id":17047361,"display_name":"Aaron Fitch"},"score":0,"creation_date":1636989116,"post_id":69974762,"comment_id":123698122,"body_markdown":"I found that you need to use ctrl-z in order to stop the program from waiting for input. After this happens, the code works as expected.","body":"I found that you need to use ctrl-z in order to stop the program from waiting for input. After this happens, the code works as expected."}],"owner":{"account_id":22909921,"reputation":1,"user_id":17047361,"display_name":"Aaron Fitch"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":107,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637220616,"creation_date":1636981105,"question_id":69974762,"body_markdown":"For some reason, when I try to print my *champ* variable, the vscode debugger just prints a new line:\r\n\r\n```java\r\nimport edu.princeton.cs.algs4.StdIn;\r\nimport edu.princeton.cs.algs4.StdOut;\r\nimport edu.princeton.cs.algs4.StdRandom;\r\n\r\npublic class RandomWord {\r\n  public static void main(String[] args) {\r\n    String champ = &quot;&quot;;\r\n    while (!StdIn.isEmpty()) {\r\n        champ += StdIn.readString();\r\n    };\r\n    StdOut.println(champ);\r\n  }\r\n}\r\n```\r\nI don&#39;t know if this is an issue with the way I initialized my champ variable, or something else.\r\n\r\nYou can find the code for those classes [here](https://algs4.cs.princeton.edu/code/javadoc/edu/princeton/cs/algs4/StdOut.html).","title":"StdOut.println not prints blank line","body":"<p>For some reason, when I try to print my <em>champ</em> variable, the vscode debugger just prints a new line:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import edu.princeton.cs.algs4.StdIn;\nimport edu.princeton.cs.algs4.StdOut;\nimport edu.princeton.cs.algs4.StdRandom;\n\npublic class RandomWord {\n  public static void main(String[] args) {\n    String champ = &quot;&quot;;\n    while (!StdIn.isEmpty()) {\n        champ += StdIn.readString();\n    };\n    StdOut.println(champ);\n  }\n}\n</code></pre>\n<p>I don't know if this is an issue with the way I initialized my champ variable, or something else.</p>\n<p>You can find the code for those classes <a href=\"https://algs4.cs.princeton.edu/code/javadoc/edu/princeton/cs/algs4/StdOut.html\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":["java","azul-zulu","pi4j"],"comments":[{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":1,"creation_date":1637219686,"post_id":70015806,"comment_id":123768728,"body_markdown":"Did you add it to `module-info.java` ( `requires java.net.http;` )?","body":"Did you add it to <code>module-info.java</code> ( <code>requires java.net.http;</code> )?"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1637219788,"post_id":70015806,"comment_id":123768751,"body_markdown":"No - what is module-info","body":"No - what is module-info"},{"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"score":0,"creation_date":1637219853,"post_id":70015806,"comment_id":123768769,"body_markdown":"That fixed it. Suggest it as a answer and I will mark it.","body":"That fixed it. Suggest it as a answer and I will mark it."},{"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"score":1,"creation_date":1637219874,"post_id":70015806,"comment_id":123768778,"body_markdown":"Starting with java 9 every project should have (though it&#39;s not mandatory) `module-info.java`, search for it. If you have it in your project, add `requires java.net.http;` into it.","body":"Starting with java 9 every project should have (though it&#39;s not mandatory) <code>module-info.java</code>, search for it. If you have it in your project, add <code>requires java.net.http;</code> into it."}],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1637220263,"creation_date":1637219949,"answer_id":70015876,"question_id":70015806,"body_markdown":"Starting with java 9 if project has `module-info.java` that&#39;s the place were all non-default modules should be declared so that they can be used. \r\n\r\nIn your case it&#39;d look as follows: \r\n\r\n```java\r\nmodule ModuleName {\r\n\trequires java.net.http;\r\n}\r\n```\r\n\r\nFor more details you could read:\r\n\r\n - https://www.oracle.com/corporate/features/understanding-java-9-modules.html","title":"java.net.http import - not found","body":"<p>Starting with java 9 if project has <code>module-info.java</code> that's the place were all non-default modules should be declared so that they can be used.</p>\n<p>In your case it'd look as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>module ModuleName {\n    requires java.net.http;\n}\n</code></pre>\n<p>For more details you could read:</p>\n<ul>\n<li><a href=\"https://www.oracle.com/corporate/features/understanding-java-9-modules.html\" rel=\"nofollow noreferrer\">https://www.oracle.com/corporate/features/understanding-java-9-modules.html</a></li>\n</ul>\n"}],"owner":{"account_id":7856677,"reputation":1967,"user_id":5938276,"accept_rate":38,"display_name":"Al Grant"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637220263,"creation_date":1637219606,"question_id":70015806,"body_markdown":"I am working in Intellij with Java 11. I want to use `import java.net.http.httpclient` in my project but the import statement is not found.\r\n\r\nBackground:\r\n\r\nI am compiling on my Windows 10 Workstation to build for deployment on a Rasp Pi Zero W. The version of Java that I am using (SDK) is Azul Java 11.0.13.\r\n\r\nWhen I type in import java.net.http.httpclient java.net is found but the http is not.\r\n\r\nI have setup Intellij to use Java 11 AFAIK.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n[![enter image description here][2]][2]\r\n\r\n[![enter image description here][3]][3]\r\n\r\nHow do I get the import to work?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/7VePq.png\r\n  [2]: https://i.stack.imgur.com/DGMmV.png\r\n  [3]: https://i.stack.imgur.com/ESxb9.png","title":"java.net.http import - not found","body":"<p>I am working in Intellij with Java 11. I want to use <code>import java.net.http.httpclient</code> in my project but the import statement is not found.</p>\n<p>Background:</p>\n<p>I am compiling on my Windows 10 Workstation to build for deployment on a Rasp Pi Zero W. The version of Java that I am using (SDK) is Azul Java 11.0.13.</p>\n<p>When I type in import java.net.http.httpclient java.net is found but the http is not.</p>\n<p>I have setup Intellij to use Java 11 AFAIK.</p>\n<p><a href=\"https://i.stack.imgur.com/7VePq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7VePq.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/DGMmV.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/DGMmV.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/ESxb9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ESxb9.png\" alt=\"enter image description here\" /></a></p>\n<p>How do I get the import to work?</p>\n"},{"tags":["java","apache-spark","hadoop","google-cloud-platform"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1635791285,"post_id":69793508,"comment_id":123382565,"body_markdown":"Last I checked, Spark doesn&#39;t use Hadoop3 dependencies, so you should remove these as Spark includes those itself and using other versions will cause such errors","body":"Last I checked, Spark doesn&#39;t use Hadoop3 dependencies, so you should remove these as Spark includes those itself and using other versions will cause such errors"}],"answers":[{"tags":[],"owner":{"account_id":4157048,"reputation":1659,"user_id":3553550,"accept_rate":32,"display_name":"Martin Wunderlich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637220204,"creation_date":1637220204,"answer_id":70015927,"question_id":69793508,"body_markdown":"In my case this error was caused by an older version of hadoop-core (1.2.1 instead of 2.6.5) which was brought in as a transitive Maven dependency. You can also set a breakpoint and check which jar and version exactly your class `org.apache.hadoop.conf.Configuration` comes from. ","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.hadoop.conf.Configuration.getPassword(Ljava/lang/String;)[C","body":"<p>In my case this error was caused by an older version of hadoop-core (1.2.1 instead of 2.6.5) which was brought in as a transitive Maven dependency. You can also set a breakpoint and check which jar and version exactly your class <code>org.apache.hadoop.conf.Configuration</code> comes from.</p>\n"}],"owner":{"account_id":23202931,"reputation":1,"user_id":17297508,"display_name":"Pratik"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":642,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637220204,"creation_date":1635749794,"question_id":69793508,"body_markdown":"Problem statement :\r\nWhile creating the Dataset&lt;Row&gt; of file located at bucket(GCP) from local spark java code with the following version of jar/lib then getting exception.\r\n\r\nException 1: &quot;Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.hadoop.conf.Configuration.getPassword(Ljava/lang/String;)[C&quot;\r\n\r\nGetting above exception when use the following set of jar/lib.\r\n\r\n```\r\nSpark - org.apache.spark\r\nspark-core_2.11\r\nspark-sql_2.11\r\nHadoop - org.apache.hadoop\r\nhadoop-auth 3.3.1\r\nhadoop-hdfs 3.3.1\r\nhadoop-common 3.3.1\r\nhadoop-mapreduce-client-core 3.3.1\r\nhadoop-mapreduce-client-jobclient 3.3.1\r\nhadoop-nfs 3.3.1\r\nhadoop-client 3.3.1\r\ncom.google.cloud.bigdataoss\r\ngcs-connector-hadoop2-latest\r\n```\r\n\r\nFollowing is the local java source code \r\n\r\n    SparkConf objSparkConf = new SparkConf();\r\n    objSparkConf.setAppName(&quot;Spark&quot;);\r\n    objSparkConf.setMaster(&quot;local[*]&quot;);\r\n    objSparkConf.set(&quot;fs.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem&quot;);\r\n    objSparkConf.set(&quot;fs.AbstractFileSystem.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFS&quot;);\r\n    objSparkConf.set(&quot;google.cloud.auth.service.account.enable&quot;, &quot;true&quot;);\r\n    objSparkConf.set(&quot;google.cloud.auth.service.account.json.keyfile&quot;, &quot;D:\\\\GCP\\\\test-environment-json-keyfile.json&quot;);\r\n    objSparkConf.set(&quot;fs.defaultFS&quot;, &quot;gs://hudi-bucket&quot;);\r\n    JavaSparkContext spContext = new JavaSparkContext(objSparkConf);\r\n    SparkSession sparkSession = SparkSession.builder().appName(&quot;Test_Spark&quot;).getOrCreate();\r\n    String sFileUrl = &quot;gs://test/2/4/CRUNCH_JOB.3d997666-7d58-4ee8-bf42-a30438983ccb.20211025_072502&quot;;\r\n    Dataset&lt;Row&gt; dataSet1 = sparkSession.read().format(&quot;csv&quot;).option(&quot;header&quot;, &quot;true&quot;).load(sFileUrl);\r\n\r\n","title":"Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.hadoop.conf.Configuration.getPassword(Ljava/lang/String;)[C","body":"<p>Problem statement :\nWhile creating the Dataset of file located at bucket(GCP) from local spark java code with the following version of jar/lib then getting exception.</p>\n<p>Exception 1: &quot;Exception in thread &quot;main&quot; java.lang.NoSuchMethodError: org.apache.hadoop.conf.Configuration.getPassword(Ljava/lang/String;)[C&quot;</p>\n<p>Getting above exception when use the following set of jar/lib.</p>\n<pre><code>Spark - org.apache.spark\nspark-core_2.11\nspark-sql_2.11\nHadoop - org.apache.hadoop\nhadoop-auth 3.3.1\nhadoop-hdfs 3.3.1\nhadoop-common 3.3.1\nhadoop-mapreduce-client-core 3.3.1\nhadoop-mapreduce-client-jobclient 3.3.1\nhadoop-nfs 3.3.1\nhadoop-client 3.3.1\ncom.google.cloud.bigdataoss\ngcs-connector-hadoop2-latest\n</code></pre>\n<p>Following is the local java source code</p>\n<pre><code>SparkConf objSparkConf = new SparkConf();\nobjSparkConf.setAppName(&quot;Spark&quot;);\nobjSparkConf.setMaster(&quot;local[*]&quot;);\nobjSparkConf.set(&quot;fs.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFileSystem&quot;);\nobjSparkConf.set(&quot;fs.AbstractFileSystem.gs.impl&quot;, &quot;com.google.cloud.hadoop.fs.gcs.GoogleHadoopFS&quot;);\nobjSparkConf.set(&quot;google.cloud.auth.service.account.enable&quot;, &quot;true&quot;);\nobjSparkConf.set(&quot;google.cloud.auth.service.account.json.keyfile&quot;, &quot;D:\\\\GCP\\\\test-environment-json-keyfile.json&quot;);\nobjSparkConf.set(&quot;fs.defaultFS&quot;, &quot;gs://hudi-bucket&quot;);\nJavaSparkContext spContext = new JavaSparkContext(objSparkConf);\nSparkSession sparkSession = SparkSession.builder().appName(&quot;Test_Spark&quot;).getOrCreate();\nString sFileUrl = &quot;gs://test/2/4/CRUNCH_JOB.3d997666-7d58-4ee8-bf42-a30438983ccb.20211025_072502&quot;;\nDataset&lt;Row&gt; dataSet1 = sparkSession.read().format(&quot;csv&quot;).option(&quot;header&quot;, &quot;true&quot;).load(sFileUrl);\n</code></pre>\n"},{"tags":["java","android-studio"],"comments":[{"owner":{"account_id":7423634,"reputation":556,"user_id":9795103,"display_name":"Shreyash.K"},"score":0,"creation_date":1637222004,"post_id":70015914,"comment_id":123769405,"body_markdown":"This part of the code seems to be working fine. You may have other bugs in your app.","body":"This part of the code seems to be working fine. You may have other bugs in your app."},{"owner":{"display_name":"user17300427"},"score":0,"creation_date":1637222935,"post_id":70015914,"comment_id":123769716,"body_markdown":"I thought about that too. But I don&#39;t know what bug can possibly cause this","body":"I thought about that too. But I don&#39;t know what bug can possibly cause this"},{"owner":{"account_id":7423634,"reputation":556,"user_id":9795103,"display_name":"Shreyash.K"},"score":0,"creation_date":1637225314,"post_id":70015914,"comment_id":123770548,"body_markdown":"Try cleaning up your activity and keeping only the code necessary. Comment out parts of code to see if the issue goes away.","body":"Try cleaning up your activity and keeping only the code necessary. Comment out parts of code to see if the issue goes away."}],"owner":{"display_name":"user17300427"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637220145,"creation_date":1637220145,"question_id":70015914,"body_markdown":"I&#39;m trying to make a switch button that toggles dark/light mode. I&#39;ve managed to make it work but the only problem is that, after pressing switch button theme changes and activity flickers or activity is restarting/refreshing by it&#39;s self. After pressing switch button basically app just starts glitching out. Here&#39;s my **`Manifest`** code:\r\n\r\n    &lt;application\r\n            android:allowBackup=&quot;true&quot;\r\n            android:icon=&quot;@drawable/icon&quot;\r\n            android:label=&quot;@string/app_name&quot;\r\n            android:roundIcon=&quot;@drawable/icon&quot;\r\n            android:supportsRtl=&quot;true&quot;\r\n            android:theme=&quot;@style/Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\r\n\r\nAnd here&#39;s my **`MainActivity`** code:\r\n\r\n    public class MainActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\r\n    \r\n        Switch dark_light;\r\n        SharedPreferences sharedPreferences = null;\r\n    \r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n            dark_light = findViewById(R.id.dark_light);\r\n            sharedPreferences = getSharedPreferences(&quot;night&quot;, 0);\r\n            Boolean booleanValue = sharedPreferences.getBoolean(&quot;night_mode&quot;, true);\r\n            if(booleanValue){\r\n                AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                dark_light.setChecked(true);\r\n            }\r\n            dark_light.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\r\n                @Override\r\n                public void onCheckedChanged(CompoundButton buttonView, boolean b) {\r\n                    if(b){\r\n                        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\r\n                        dark_light.setChecked(true);\r\n                        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                        editor.putBoolean(&quot;night_mode&quot;, true);\r\n                        editor.commit();\r\n                    }else{\r\n                        AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\r\n                        dark_light.setChecked(false);\r\n                        SharedPreferences.Editor editor = sharedPreferences.edit();\r\n                        editor.putBoolean(&quot;night_mode&quot;, false);\r\n                        editor.commit();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n    }","title":"Activity refreshing/blinking after changing theme in Android Studio using JAVA","body":"<p>I'm trying to make a switch button that toggles dark/light mode. I've managed to make it work but the only problem is that, after pressing switch button theme changes and activity flickers or activity is restarting/refreshing by it's self. After pressing switch button basically app just starts glitching out. Here's my <strong><code>Manifest</code></strong> code:</p>\n<pre><code>&lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@drawable/icon&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@drawable/icon&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.AppCompat.DayNight.NoActionBar&quot;&gt;\n</code></pre>\n<p>And here's my <strong><code>MainActivity</code></strong> code:</p>\n<pre><code>public class MainActivity extends AppCompatActivity implements AdapterView.OnItemSelectedListener {\n\n    Switch dark_light;\n    SharedPreferences sharedPreferences = null;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        dark_light = findViewById(R.id.dark_light);\n        sharedPreferences = getSharedPreferences(&quot;night&quot;, 0);\n        Boolean booleanValue = sharedPreferences.getBoolean(&quot;night_mode&quot;, true);\n        if(booleanValue){\n            AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n            dark_light.setChecked(true);\n        }\n        dark_light.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {\n            @Override\n            public void onCheckedChanged(CompoundButton buttonView, boolean b) {\n                if(b){\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_YES);\n                    dark_light.setChecked(true);\n                    SharedPreferences.Editor editor = sharedPreferences.edit();\n                    editor.putBoolean(&quot;night_mode&quot;, true);\n                    editor.commit();\n                }else{\n                    AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.MODE_NIGHT_NO);\n                    dark_light.setChecked(false);\n                    SharedPreferences.Editor editor = sharedPreferences.edit();\n                    editor.putBoolean(&quot;night_mode&quot;, false);\n                    editor.commit();\n                }\n            }\n        });\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1637039016,"post_id":69983818,"comment_id":123711819,"body_markdown":"Is it perhaps time to implement a different pattern? How about using objects that implement a common API method using the logic in your `doSomethingN()` methods based on `something`? That way, you avoid the switch altogether, and your `default` clause would be just an `else` block somewhere?","body":"Is it perhaps time to implement a different pattern? How about using objects that implement a common API method using the logic in your <code>doSomethingN()</code> methods based on <code>something</code>? That way, you avoid the switch altogether, and your <code>default</code> clause would be just an <code>else</code> block somewhere?"},{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1637056756,"post_id":69983818,"comment_id":123717268,"body_markdown":"Are the fallthroughs intentional?","body":"Are the fallthroughs intentional?"},{"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"score":0,"creation_date":1637219905,"post_id":69983818,"comment_id":123768787,"body_markdown":"@MarkRotteveel my bad...didn&#39;t include the break in the question. Included now. So, no fallthrough happens.","body":"@MarkRotteveel my bad...didn&#39;t include the break in the question. Included now. So, no fallthrough happens."}],"answers":[{"tags":[],"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637056725,"creation_date":1637042170,"answer_id":69984374,"question_id":69983818,"body_markdown":"Perhaps you should use two functions for implementing the concept.\r\n\r\nLet&#39;s say that we have a function called mainSwitchFunction(int case):\r\n\r\n      public void mainSwitchFunction(int case){\r\n         switch(something){\r\n           case Case1:\r\n           validate();\r\n           doSomething1();\r\n          case Case2:\r\n           validate();\r\n           doSomething2();\r\n          case Case3:\r\n           validate();\r\n           doSomething3();\r\n          case Case4:\r\n           validate();\r\n           doSomething4();\r\n          case Case5:\r\n           validate();\r\n           doSomething5();\r\n          default:\r\n           handleDefault();\r\n        }\r\n      }\r\n\r\nIn normal situations you can use the same function just by calling it.\r\n\r\nHowever, if you want to extend the switch case up to some other cases, you simply define another method let&#39;s say extensionOfSwitch(int case2).\r\n\r\n       public void extensionOfSwitch(int case2){\r\n\r\n        //call the original switch case function\r\n        mainSwitchFunction(case2);\r\n\r\n       //define another switch statement based on ur case condition.\r\n        switch(case2){\r\n          case:...\r\n        }\r\n\r\n        /*\r\n         this way all the cases will be handled.\r\n       */\r\n\r\n      }\r\n\r\n","title":"How to refactor switch-cases so that I can extend those cases and add another case in a different class?","body":"<p>Perhaps you should use two functions for implementing the concept.</p>\n<p>Let's say that we have a function called mainSwitchFunction(int case):</p>\n<pre><code>  public void mainSwitchFunction(int case){\n     switch(something){\n       case Case1:\n       validate();\n       doSomething1();\n      case Case2:\n       validate();\n       doSomething2();\n      case Case3:\n       validate();\n       doSomething3();\n      case Case4:\n       validate();\n       doSomething4();\n      case Case5:\n       validate();\n       doSomething5();\n      default:\n       handleDefault();\n    }\n  }\n</code></pre>\n<p>In normal situations you can use the same function just by calling it.</p>\n<p>However, if you want to extend the switch case up to some other cases, you simply define another method let's say extensionOfSwitch(int case2).</p>\n<pre><code>   public void extensionOfSwitch(int case2){\n\n    //call the original switch case function\n    mainSwitchFunction(case2);\n\n   //define another switch statement based on ur case condition.\n    switch(case2){\n      case:...\n    }\n\n    /*\n     this way all the cases will be handled.\n   */\n\n  }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11330140,"reputation":177,"user_id":8307920,"display_name":"Grzegorz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637054581,"creation_date":1637054581,"answer_id":69986535,"question_id":69983818,"body_markdown":"in my opinion, it will be better to use map for this.\r\nsomething like this: \r\n```\r\npublic class SwithCaseProblem {\r\n\r\n    Map&lt;Object, MyHandler&gt; handlers = new HashMap&lt;&gt;();\r\n\r\n    MyHandler myHandler = new MyHandler() { // or use lambda\r\n        @Override\r\n        public void doSomething() {\r\n            // default\r\n        };\r\n    };\r\n\r\n    public void perform(Object something) {\r\n        handlers.getOrDefault(something, myHandler).doSomething();\r\n    }\r\n\r\n    public Map&lt;Object, MyHandler&gt; getHandlers() {\r\n        return handlers;\r\n    }\r\n\r\n    public void setHandlers(Map&lt;Object, MyHandler&gt; handlers) {\r\n        this.handlers = handlers;\r\n    }\r\n\r\n    private interface MyHandler { // or instead of own interface, use Runnable, Supplier, Consumer, ... what you need\r\n        public void doSomething();\r\n    }\r\n\r\n}\r\n```\r\nNow you need only add new handler to map to extend the behavior","title":"How to refactor switch-cases so that I can extend those cases and add another case in a different class?","body":"<p>in my opinion, it will be better to use map for this.\nsomething like this:</p>\n<pre><code>public class SwithCaseProblem {\n\n    Map&lt;Object, MyHandler&gt; handlers = new HashMap&lt;&gt;();\n\n    MyHandler myHandler = new MyHandler() { // or use lambda\n        @Override\n        public void doSomething() {\n            // default\n        };\n    };\n\n    public void perform(Object something) {\n        handlers.getOrDefault(something, myHandler).doSomething();\n    }\n\n    public Map&lt;Object, MyHandler&gt; getHandlers() {\n        return handlers;\n    }\n\n    public void setHandlers(Map&lt;Object, MyHandler&gt; handlers) {\n        this.handlers = handlers;\n    }\n\n    private interface MyHandler { // or instead of own interface, use Runnable, Supplier, Consumer, ... what you need\n        public void doSomething();\n    }\n\n}\n</code></pre>\n<p>Now you need only add new handler to map to extend the behavior</p>\n"}],"owner":{"account_id":10950090,"reputation":696,"user_id":8046729,"display_name":"corvo"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69984374,"answer_count":2,"score":1,"last_activity_date":1637219943,"creation_date":1637037492,"question_id":69983818,"body_markdown":"I have this chain of switch-cases\r\n```\r\nswitch(something){\r\n   case Case1:\r\n      validate();\r\n      doSomething1();\r\n      break;\r\n   case Case2:\r\n      validate();\r\n      doSomething2();\r\n      break;\r\n   case Case3:\r\n      validate();\r\n      doSomething3();\r\n      break;\r\n   case Case4:\r\n      validate();\r\n      doSomething4();\r\n      break;\r\n   case Case5:\r\n      validate();\r\n      doSomething5();\r\n      break;\r\n   default:\r\n      handleDefault();\r\n}\r\n```\r\n\r\nNow in a different place I want these exact switch-cases and default code but I need to add one extra case. What would be a nice way to achieve this so that I don&#39;t just have to duplicate all these cases in a different place.","title":"How to refactor switch-cases so that I can extend those cases and add another case in a different class?","body":"<p>I have this chain of switch-cases</p>\n<pre><code>switch(something){\n   case Case1:\n      validate();\n      doSomething1();\n      break;\n   case Case2:\n      validate();\n      doSomething2();\n      break;\n   case Case3:\n      validate();\n      doSomething3();\n      break;\n   case Case4:\n      validate();\n      doSomething4();\n      break;\n   case Case5:\n      validate();\n      doSomething5();\n      break;\n   default:\n      handleDefault();\n}\n</code></pre>\n<p>Now in a different place I want these exact switch-cases and default code but I need to add one extra case. What would be a nice way to achieve this so that I don't just have to duplicate all these cases in a different place.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":3047901,"reputation":3720,"user_id":2583086,"accept_rate":76,"display_name":"George Daramouskas"},"score":0,"creation_date":1424962555,"post_id":28745325,"comment_id":45773652,"body_markdown":"Which subclass of `adapter` are you using?","body":"Which subclass of <code>adapter</code> are you using?"},{"owner":{"account_id":5631721,"reputation":35,"user_id":4458478,"accept_rate":60,"display_name":"Valy Dvweb"},"score":0,"creation_date":1424963223,"post_id":28745325,"comment_id":45774143,"body_markdown":"custom adapter of BaseAdapter","body":"custom adapter of BaseAdapter"},{"owner":{"account_id":5631721,"reputation":35,"user_id":4458478,"accept_rate":60,"display_name":"Valy Dvweb"},"score":0,"creation_date":1424963278,"post_id":28745325,"comment_id":45774176,"body_markdown":"myCustomAdapter extends BaseAdapter","body":"myCustomAdapter extends BaseAdapter"}],"answers":[{"tags":[],"owner":{"account_id":3047901,"reputation":3720,"user_id":2583086,"accept_rate":76,"display_name":"George Daramouskas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1424965521,"creation_date":1424964013,"answer_id":28746190,"question_id":28745325,"body_markdown":"In order to maintain the position the scroller had before you updated the  data, you have to first get the first item&#39;s position in your adapter by:\r\n\r\n`int position = listView.getFirstVisiblePosition();`\r\n\r\nand then:\r\n\r\n`listView.setSelection(position);`\r\n\r\nto set the scroller to be on the specified position on entering the ListView activity.\r\n\r\n**Edit**: After a quick search I came across [this][1] question. You can find multiple ways to implement what you want and different opinions but the above way is the most simple one from what I can see.\r\n\r\n**Edit 02**: Since you mention that your ListView is updated top-down you can do the following:\r\n\r\n    Parcelable state = listView.onSaveInstanceState();\r\n    listView.setAdapter(adapter);\r\n    listView.onRestoreInstanceState(state);\r\n\r\nThe first line gets the listview&#39;s exact [state][2].\r\nThe second line sets your adapter.\r\nThe third line re-applies the (previously saved) [state][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3014089/maintain-save-restore-scroll-position-when-returning-to-a-listview\r\n  [2]: http://developer.android.com/reference/android/widget/AbsListView.html#onSaveInstanceState()\r\n  [3]: http://developer.android.com/reference/android/widget/AbsListView.html#onRestoreInstanceState(android.os.Parcelable)","title":"Maintain scroll position when prepend ListView","body":"<p>In order to maintain the position the scroller had before you updated the  data, you have to first get the first item's position in your adapter by:</p>\n\n<p><code>int position = listView.getFirstVisiblePosition();</code></p>\n\n<p>and then:</p>\n\n<p><code>listView.setSelection(position);</code></p>\n\n<p>to set the scroller to be on the specified position on entering the ListView activity.</p>\n\n<p><strong>Edit</strong>: After a quick search I came across <a href=\"https://stackoverflow.com/questions/3014089/maintain-save-restore-scroll-position-when-returning-to-a-listview\">this</a> question. You can find multiple ways to implement what you want and different opinions but the above way is the most simple one from what I can see.</p>\n\n<p><strong>Edit 02</strong>: Since you mention that your ListView is updated top-down you can do the following:</p>\n\n<pre><code>Parcelable state = listView.onSaveInstanceState();\nlistView.setAdapter(adapter);\nlistView.onRestoreInstanceState(state);\n</code></pre>\n\n<p>The first line gets the listview's exact <a href=\"http://developer.android.com/reference/android/widget/AbsListView.html#onSaveInstanceState()\" rel=\"nofollow noreferrer\">state</a>.\nThe second line sets your adapter.\nThe third line re-applies the (previously saved) <a href=\"http://developer.android.com/reference/android/widget/AbsListView.html#onRestoreInstanceState(android.os.Parcelable)\" rel=\"nofollow noreferrer\">state</a>.</p>\n"}],"owner":{"account_id":5631721,"reputation":35,"user_id":4458478,"accept_rate":60,"display_name":"Valy Dvweb"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637219812,"creation_date":1424961810,"question_id":28745325,"body_markdown":"My problem is the following:\r\n\r\nI have a list of news which is updated every few minutes as follows:\r\n\r\nAlways new messages appear before old ones (Prepend list)\r\n\r\n    // Step 1 -  Prepend array list\r\n    arraylist.add(0, map);\r\n\r\n    // Step 2 - Notify\r\n    adapter.notifyDataSetChanged();\r\n\r\nWhen you call &quot;notifyDataSetChanged&quot; scroll position are kept but .. I want to stay at the current position ... to be somewhat lower.\r\n\r\neg (Facebook &gt; prepend list after X minutes)\r\n\r\nwhen the user runs at the top to see the new results.\r\n\r\nTest Code:\r\n\r\n    public class testActivity extends Activity {\r\n        // Declare Variables\r\n        private JSONArray jr;\r\n\r\n        private ListView listview;\r\n\r\n        private testAdapter adapter;\r\n        private ArrayList&lt;HashMap&lt;String, String&gt;&gt; arraylist;\r\n\r\n        private EditText message;\r\n        private ImageButton post;\r\n\r\n        private static final String TAG = &quot;test.activity&quot;;\r\n        \r\n        /* Create */\r\n\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_test);\r\n\r\n            listview = (ListView) findViewById(R.id.listview);\r\n\r\n            arraylist = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\r\n            adapter = new testAdapter(this, arraylist);\r\n\r\n            listview.setAdapter(adapter);\r\n\r\n            message = (EditText) findViewById(R.id.message);\r\n            post = (ImageButton) findViewById(R.id.post);\r\n\r\n            post.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View view) {\r\n                    postMessage();\r\n                }\r\n            });\r\n\r\n        }\r\n          \r\n        /* Post Message */\r\n\r\n        public void postMessage() {\r\n            new MyRequest(this, &quot;user&quot;, &quot;post&quot;,\r\n                    MyRequest.setParam\r\n                            (\r\n                                    &quot;message&quot;, message.getText().toString().trim()\r\n                            )\r\n            ) {\r\n                @Override\r\n                public void Done(String resp, JSONObject data) {\r\n                    HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\r\n\r\n                    try {\r\n\r\n                        map.put(&quot;date&quot;, data.getString(&quot;date&quot;));\r\n                        map.put(&quot;message&quot;, data.getString(&quot;message&quot;));\r\n\r\n                        arraylist.add(0, map);\r\n\r\n                        Parcelable state = listview.onSaveInstanceState();\r\n\r\n                        listview.setAdapter(adapter);\r\n                        listview.onRestoreInstanceState(state);\r\n                    }\r\n                    catch (JSONException e) {\r\n                        Log.e(TAG, &quot;Error JSON Fetch!&quot;);\r\n                    }\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\nTestAdapter:\r\n\r\n    public class testAdapter extends BaseAdapter {\r\n        Context context;\r\n        LayoutInflater inflater;\r\n        ArrayList&lt;HashMap&lt;String, String&gt;&gt; data;\r\n        HashMap&lt;String, String&gt; resultp = new HashMap&lt;String, String&gt;();\r\n\r\n        public testAdapter(Context context,\r\n                           ArrayList&lt;HashMap&lt;String, String&gt;&gt; arraylist) {\r\n            this.context = context;\r\n            data = arraylist;\r\n        }\r\n\r\n        @Override\r\n        public int getCount() {\r\n            return data.size();\r\n        }\r\n\r\n        @Override\r\n        public Object getItem(int position) {\r\n            return data.get(position);\r\n        }\r\n\r\n        @Override\r\n        public long getItemId(int position) {\r\n            return position;\r\n        }\r\n\r\n        public View getView(final int position, View convertView, ViewGroup parent) {\r\n            View itemView = convertView; //trying to reuse a recycled view\r\n\r\n            ViewHolder holder = null;\r\n\r\n            if (itemView == null) //The view is not a recycled one .. we have to inflate\r\n            {\r\n                inflater = (LayoutInflater) context\r\n                        .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\r\n\r\n                itemView = inflater.inflate(R.layout.listview_item, parent, false);\r\n\r\n                holder = new ViewHolder();\r\n\r\n                holder.date = (TextView) itemView.findViewById(R.id.message);\r\n                holder.message = (TextView) itemView.findViewById(R.id.date);\r\n\r\n                itemView.setTag(holder);\r\n            }\r\n            else // View recycled\r\n                holder = (ViewHolder) itemView.getTag();\r\n\r\n            resultp = data.get(position);\r\n\r\n            holder.message.setText(resultp.get(&quot;message&quot;));\r\n            holder.date.setText(resultp.get(&quot;date&quot;));\r\n\r\n            return itemView;\r\n        }\r\n\r\n        /* View Holder */\r\n        static class ViewHolder {\r\n            TextView message;\r\n            TextView date;\r\n        }\r\n    } // End Class","title":"Maintain scroll position when prepend ListView","body":"<p>My problem is the following:</p>\n\n<p>I have a list of news which is updated every few minutes as follows:</p>\n\n<p>Always new messages appear before old ones (Prepend list)</p>\n\n<pre><code>// Step 1 -  Prepend array list\narraylist.add(0, map);\n\n// Step 2 - Notify\nadapter.notifyDataSetChanged();\n</code></pre>\n\n<p>When you call \"notifyDataSetChanged\" scroll position are kept but .. I want to stay at the current position ... to be somewhat lower.</p>\n\n<p>eg (Facebook > prepend list after X minutes)</p>\n\n<p>when the user runs at the top to see the new results.</p>\n\n<p>Test Code:</p>\n\n<pre><code>public class testActivity extends Activity {\n    // Declare Variables\n    private JSONArray jr;\n\n    private ListView listview;\n\n    private testAdapter adapter;\n    private ArrayList&lt;HashMap&lt;String, String&gt;&gt; arraylist;\n\n    private EditText message;\n    private ImageButton post;\n\n    private static final String TAG = \"test.activity\";\n\n    /* Create */\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_test);\n\n        listview = (ListView) findViewById(R.id.listview);\n\n        arraylist = new ArrayList&lt;HashMap&lt;String, String&gt;&gt;();\n        adapter = new testAdapter(this, arraylist);\n\n        listview.setAdapter(adapter);\n\n        message = (EditText) findViewById(R.id.message);\n        post = (ImageButton) findViewById(R.id.post);\n\n        post.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View view) {\n                postMessage();\n            }\n        });\n\n    }\n\n    /* Post Message */\n\n    public void postMessage() {\n        new MyRequest(this, \"user\", \"post\",\n                MyRequest.setParam\n                        (\n                                \"message\", message.getText().toString().trim()\n                        )\n        ) {\n            @Override\n            public void Done(String resp, JSONObject data) {\n                HashMap&lt;String, String&gt; map = new HashMap&lt;String, String&gt;();\n\n                try {\n\n                    map.put(\"date\", data.getString(\"date\"));\n                    map.put(\"message\", data.getString(\"message\"));\n\n                    arraylist.add(0, map);\n\n                    Parcelable state = listview.onSaveInstanceState();\n\n                    listview.setAdapter(adapter);\n                    listview.onRestoreInstanceState(state);\n                }\n                catch (JSONException e) {\n                    Log.e(TAG, \"Error JSON Fetch!\");\n                }\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>TestAdapter:</p>\n\n<pre><code>public class testAdapter extends BaseAdapter {\n    Context context;\n    LayoutInflater inflater;\n    ArrayList&lt;HashMap&lt;String, String&gt;&gt; data;\n    HashMap&lt;String, String&gt; resultp = new HashMap&lt;String, String&gt;();\n\n    public testAdapter(Context context,\n                       ArrayList&lt;HashMap&lt;String, String&gt;&gt; arraylist) {\n        this.context = context;\n        data = arraylist;\n    }\n\n    @Override\n    public int getCount() {\n        return data.size();\n    }\n\n    @Override\n    public Object getItem(int position) {\n        return data.get(position);\n    }\n\n    @Override\n    public long getItemId(int position) {\n        return position;\n    }\n\n    public View getView(final int position, View convertView, ViewGroup parent) {\n        View itemView = convertView; //trying to reuse a recycled view\n\n        ViewHolder holder = null;\n\n        if (itemView == null) //The view is not a recycled one .. we have to inflate\n        {\n            inflater = (LayoutInflater) context\n                    .getSystemService(Context.LAYOUT_INFLATER_SERVICE);\n\n            itemView = inflater.inflate(R.layout.listview_item, parent, false);\n\n            holder = new ViewHolder();\n\n            holder.date = (TextView) itemView.findViewById(R.id.message);\n            holder.message = (TextView) itemView.findViewById(R.id.date);\n\n            itemView.setTag(holder);\n        }\n        else // View recycled\n            holder = (ViewHolder) itemView.getTag();\n\n        resultp = data.get(position);\n\n        holder.message.setText(resultp.get(\"message\"));\n        holder.date.setText(resultp.get(\"date\"));\n\n        return itemView;\n    }\n\n    /* View Holder */\n    static class ViewHolder {\n        TextView message;\n        TextView date;\n    }\n} // End Class\n</code></pre>\n"},{"tags":["java","excel","apache-poi"],"answers":[{"tags":[],"owner":{"account_id":4853829,"reputation":57305,"user_id":3915431,"display_name":"Axel Richter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637219413,"creation_date":1637173398,"answer_id":70009671,"question_id":70005229,"body_markdown":"I suspect your `ObjectData` is of type `oleObject` or `Objekt-Manager-Shellobjekt`. Those objects are stored in embedded `oleObject*.bin` files. Those files have file systems of their own which need to be read. To do so, first get the `DirectoryEntry` and `DirectoryNode` and then get the [Ole10Native](https://poi.apache.org/apidocs/4.0/org/apache/poi/poifs/filesystem/Ole10Native.html). Having that you can get the file data as `byte[] data = ole10Native.getDataBuffer()`.\r\n\r\nComplete example:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.poifs.filesystem.*;\r\n    \r\n    public class ExcelGetObjectData {\r\n        \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      //String inFilePath = &quot;./ExcelExampleIn.xlsx&quot;; String outFilePath = &quot;./ExcelExampleOut.xlsx&quot;;\r\n      String inFilePath = &quot;./ExcelExampleIn.xls&quot;; String outFilePath = &quot;./ExcelExampleOut.xls&quot;;\r\n      \r\n      try (Workbook workbook = WorkbookFactory.create(new FileInputStream(inFilePath));\r\n           FileOutputStream out = new FileOutputStream(outFilePath ) ) {\r\n    \r\n       Sheet sheet = workbook.getSheetAt(0);\r\n       Drawing&lt;?&gt; drawingPatriarch = sheet.getDrawingPatriarch();\r\n       if (drawingPatriarch != null) {\r\n        for (Shape shape : drawingPatriarch) {\r\n         System.out.println(shape);\r\n         if (shape instanceof ObjectData) {\r\n          ObjectData objectData = (ObjectData) shape;\r\n          System.out.println(objectData.getFileName());\r\n          System.out.println(objectData.getOLE2ClassName());\r\n          System.out.println(objectData.getContentType());\r\n          if(objectData.getOLE2ClassName().equals(&quot;Objekt-Manager-Shellobjekt&quot;)) {\r\n           if (objectData.hasDirectoryEntry()) {\r\n            DirectoryEntry directory = objectData.getDirectory();\r\n            if (directory instanceof DirectoryNode) {\r\n             DirectoryNode directoryNode = (DirectoryNode)directory;\r\n             Ole10Native ole10Native = Ole10Native.createFromEmbeddedOleObject(directoryNode);\r\n             System.out.println(ole10Native.getCommand());\r\n             System.out.println(ole10Native.getFileName());\r\n             System.out.println(ole10Native.getLabel());\r\n             byte[] data = ole10Native.getDataBuffer(); //data now contains the embedded data\r\n             try (FileOutputStream dataOut = new FileOutputStream(&quot;./&quot; + ole10Native.getLabel())) {\r\n              dataOut.write(data);\r\n             }\r\n            }\r\n           }\r\n          } else if(objectData.getOLE2ClassName().equals(&quot;...&quot;)) {\r\n           //...\r\n          }          \r\n         } else if (shape instanceof /*other*/Object) {\r\n          //...\r\n         }\r\n        }        \r\n       }\r\n       \r\n       workbook.write(out);\r\n      }\r\n     }\r\n    }\r\n\r\nUsing [EmbeddedExtractor](https://poi.apache.org/apidocs/dev/org/apache/poi/ss/extractor/EmbeddedExtractor.html) extraction of all embedded objects could be done like so:\r\n\r\n    import java.io.FileInputStream;\r\n    import java.io.FileOutputStream;\r\n    \r\n    import org.apache.poi.ss.usermodel.*;\r\n    import org.apache.poi.ss.extractor.EmbeddedExtractor;\r\n    import org.apache.poi.ss.extractor.EmbeddedData;\r\n    \r\n    public class ExcelEmbeddedExtractor {\r\n        \r\n     public static void main(String[] args) throws Exception {\r\n    \r\n      String inFilePath = &quot;./ExcelExampleIn.xlsx&quot;; String outFilePath = &quot;./ExcelExampleOut.xlsx&quot;;\r\n      //String inFilePath = &quot;./ExcelExampleIn.xls&quot;; String outFilePath = &quot;./ExcelExampleOut.xls&quot;;\r\n      \r\n      try (Workbook workbook = WorkbookFactory.create(new FileInputStream(inFilePath));\r\n           FileOutputStream out = new FileOutputStream(outFilePath ) ) {\r\n    \r\n       Sheet sheet = workbook.getSheetAt(0);\r\n       EmbeddedExtractor extractor = new EmbeddedExtractor();\r\n       for (EmbeddedData embeddedData : extractor.extractAll(sheet)) {\r\n        Shape shape = embeddedData.getShape();\r\n        System.out.println(shape);    \r\n        String filename = embeddedData.getFilename();\r\n        System.out.println(filename);   \r\n        byte[] data = embeddedData.getEmbeddedData(); //data now contains the embedded data\r\n        try (FileOutputStream dataOut = new FileOutputStream(&quot;./&quot; + filename)) {\r\n         dataOut.write(data);\r\n        }    \r\n       }\r\n       \r\n       workbook.write(out);\r\n      }\r\n     }\r\n    }","title":"Using Apache POI to extract excel text type attachment encode issue","body":"<p>I suspect your <code>ObjectData</code> is of type <code>oleObject</code> or <code>Objekt-Manager-Shellobjekt</code>. Those objects are stored in embedded <code>oleObject*.bin</code> files. Those files have file systems of their own which need to be read. To do so, first get the <code>DirectoryEntry</code> and <code>DirectoryNode</code> and then get the <a href=\"https://poi.apache.org/apidocs/4.0/org/apache/poi/poifs/filesystem/Ole10Native.html\" rel=\"nofollow noreferrer\">Ole10Native</a>. Having that you can get the file data as <code>byte[] data = ole10Native.getDataBuffer()</code>.</p>\n<p>Complete example:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.poifs.filesystem.*;\n\npublic class ExcelGetObjectData {\n    \n public static void main(String[] args) throws Exception {\n\n  //String inFilePath = &quot;./ExcelExampleIn.xlsx&quot;; String outFilePath = &quot;./ExcelExampleOut.xlsx&quot;;\n  String inFilePath = &quot;./ExcelExampleIn.xls&quot;; String outFilePath = &quot;./ExcelExampleOut.xls&quot;;\n  \n  try (Workbook workbook = WorkbookFactory.create(new FileInputStream(inFilePath));\n       FileOutputStream out = new FileOutputStream(outFilePath ) ) {\n\n   Sheet sheet = workbook.getSheetAt(0);\n   Drawing&lt;?&gt; drawingPatriarch = sheet.getDrawingPatriarch();\n   if (drawingPatriarch != null) {\n    for (Shape shape : drawingPatriarch) {\n     System.out.println(shape);\n     if (shape instanceof ObjectData) {\n      ObjectData objectData = (ObjectData) shape;\n      System.out.println(objectData.getFileName());\n      System.out.println(objectData.getOLE2ClassName());\n      System.out.println(objectData.getContentType());\n      if(objectData.getOLE2ClassName().equals(&quot;Objekt-Manager-Shellobjekt&quot;)) {\n       if (objectData.hasDirectoryEntry()) {\n        DirectoryEntry directory = objectData.getDirectory();\n        if (directory instanceof DirectoryNode) {\n         DirectoryNode directoryNode = (DirectoryNode)directory;\n         Ole10Native ole10Native = Ole10Native.createFromEmbeddedOleObject(directoryNode);\n         System.out.println(ole10Native.getCommand());\n         System.out.println(ole10Native.getFileName());\n         System.out.println(ole10Native.getLabel());\n         byte[] data = ole10Native.getDataBuffer(); //data now contains the embedded data\n         try (FileOutputStream dataOut = new FileOutputStream(&quot;./&quot; + ole10Native.getLabel())) {\n          dataOut.write(data);\n         }\n        }\n       }\n      } else if(objectData.getOLE2ClassName().equals(&quot;...&quot;)) {\n       //...\n      }          \n     } else if (shape instanceof /*other*/Object) {\n      //...\n     }\n    }        \n   }\n   \n   workbook.write(out);\n  }\n }\n}\n</code></pre>\n<p>Using <a href=\"https://poi.apache.org/apidocs/dev/org/apache/poi/ss/extractor/EmbeddedExtractor.html\" rel=\"nofollow noreferrer\">EmbeddedExtractor</a> extraction of all embedded objects could be done like so:</p>\n<pre><code>import java.io.FileInputStream;\nimport java.io.FileOutputStream;\n\nimport org.apache.poi.ss.usermodel.*;\nimport org.apache.poi.ss.extractor.EmbeddedExtractor;\nimport org.apache.poi.ss.extractor.EmbeddedData;\n\npublic class ExcelEmbeddedExtractor {\n    \n public static void main(String[] args) throws Exception {\n\n  String inFilePath = &quot;./ExcelExampleIn.xlsx&quot;; String outFilePath = &quot;./ExcelExampleOut.xlsx&quot;;\n  //String inFilePath = &quot;./ExcelExampleIn.xls&quot;; String outFilePath = &quot;./ExcelExampleOut.xls&quot;;\n  \n  try (Workbook workbook = WorkbookFactory.create(new FileInputStream(inFilePath));\n       FileOutputStream out = new FileOutputStream(outFilePath ) ) {\n\n   Sheet sheet = workbook.getSheetAt(0);\n   EmbeddedExtractor extractor = new EmbeddedExtractor();\n   for (EmbeddedData embeddedData : extractor.extractAll(sheet)) {\n    Shape shape = embeddedData.getShape();\n    System.out.println(shape);    \n    String filename = embeddedData.getFilename();\n    System.out.println(filename);   \n    byte[] data = embeddedData.getEmbeddedData(); //data now contains the embedded data\n    try (FileOutputStream dataOut = new FileOutputStream(&quot;./&quot; + filename)) {\n     dataOut.write(data);\n    }    \n   }\n   \n   workbook.write(out);\n  }\n }\n}\n</code></pre>\n"}],"owner":{"account_id":15526108,"reputation":13,"user_id":11200851,"display_name":"516628"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70009671,"answer_count":1,"score":0,"last_activity_date":1637219413,"creation_date":1637155533,"question_id":70005229,"body_markdown":"I am now using Apache POI to extract the attachments from the Excel file, here is part of my code.\r\n\r\n```java\r\n    Sheet sheetAt = workbook.getSheet(sheetName);\r\n    Drawing&lt;?&gt; drawingPatriarch = sheetAt.getDrawingPatriarch();\r\n    if (drawingPatriarch != null) {\r\n\t\tIterator&lt;?&gt; iterator = drawingPatriarch.iterator();\r\n\t\tif (iterator.hasNext()) {\r\n\t\t\tObject next = iterator.next();\r\n\t\t\tif (next instanceof ObjectData) {\r\n\t\t\t    ObjectData o = (ObjectData) next;\r\n\t\t\t\tIOUtil.write(o.getObjectData(), outputPath);\r\n\t\t\t} else if (next instanceof Picture) {\r\n\t\t\t    Picture o = (Picture) next;\r\n\t\t\t\tIOUtil.write(o.getData(), outputPath);\r\n\t\t\t} \r\n\t\t}\r\n    }\r\n```\r\n\r\nWhen the attachment is a binary type, such as exe, png, etc., the file extracted in this way is normal, but if the attachment is a text type, such as txt, pdf, etc., the extracted file can not be opened normally, view the binary content, in addition to the original file has a lot of extra data, how do I parse this data.","title":"Using Apache POI to extract excel text type attachment encode issue","body":"<p>I am now using Apache POI to extract the attachments from the Excel file, here is part of my code.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    Sheet sheetAt = workbook.getSheet(sheetName);\n    Drawing&lt;?&gt; drawingPatriarch = sheetAt.getDrawingPatriarch();\n    if (drawingPatriarch != null) {\n        Iterator&lt;?&gt; iterator = drawingPatriarch.iterator();\n        if (iterator.hasNext()) {\n            Object next = iterator.next();\n            if (next instanceof ObjectData) {\n                ObjectData o = (ObjectData) next;\n                IOUtil.write(o.getObjectData(), outputPath);\n            } else if (next instanceof Picture) {\n                Picture o = (Picture) next;\n                IOUtil.write(o.getData(), outputPath);\n            } \n        }\n    }\n</code></pre>\n<p>When the attachment is a binary type, such as exe, png, etc., the file extracted in this way is normal, but if the attachment is a text type, such as txt, pdf, etc., the extracted file can not be opened normally, view the binary content, in addition to the original file has a lot of extra data, how do I parse this data.</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4552102,"reputation":175,"user_id":3696953,"display_name":"duppydodah"},"score":0,"creation_date":1637193903,"post_id":70012770,"comment_id":123764102,"body_markdown":"Is the `event_notification_user` table your Event class ? If not can you please show us?","body":"Is the <code>event_notification_user</code> table your Event class ? If not can you please show us?"},{"owner":{"account_id":23372019,"reputation":1,"user_id":17442712,"display_name":"Stephan G&#228;rtner"},"score":0,"creation_date":1637223239,"post_id":70012770,"comment_id":123769817,"body_markdown":"I got there tables on my postgres event, event_notification_user, notification_user","body":"I got there tables on my postgres event, event_notification_user, notification_user"}],"owner":{"account_id":23372019,"reputation":1,"user_id":17442712,"display_name":"Stephan G&#228;rtner"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":27,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637219005,"creation_date":1637191105,"question_id":70012770,"body_markdown":"I have two models: Events and NotificationUser. \r\n\r\nAn Event can have many Users and a User can have many Events. I build 2 Models.\r\n\r\nEvent\r\n```\r\npublic class Event {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n    private String name;\r\n    @ElementCollection\r\n    private List&lt;Action&gt; actions;\r\n    private String description;\r\n    @ManyToMany\r\n    private List&lt;NotificationUser&gt; notificationUser;\r\n}\r\n```\r\n\r\nNotificationUser\r\n```\r\npublic class NotificationUser {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.AUTO)\r\n    private long id;\r\n    private String email;\r\n    private String name;\r\n}\r\n```\r\nI can create events and I can create users. I can also delete events but, I cannot delete users. I get the following message:\r\n\r\n```\r\nupdate or delete on table &quot;notification_user&quot; violates foreign key constraint &quot;fkjuklqmawfcf1ein89djo7945t&quot; on table &quot;event_notification_user&quot;\r\n  Detail: Key (id)=(12) is still referenced from table &quot;event_notification_user&quot;\r\n```\r\n\r\nI don&#39;t understand the Annotations to set on the models.\r\n\r\nIs there a simple way to handle the relations? I don&#39;t want to get my repo locked for some simple stuff like deletions. That&#39;s the reason why I use JPARepository.\r\n\r\nThanks for your time.\r\n","title":"JpaRepository ManyToMany Deletion problem","body":"<p>I have two models: Events and NotificationUser.</p>\n<p>An Event can have many Users and a User can have many Events. I build 2 Models.</p>\n<p>Event</p>\n<pre><code>public class Event {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    private String name;\n    @ElementCollection\n    private List&lt;Action&gt; actions;\n    private String description;\n    @ManyToMany\n    private List&lt;NotificationUser&gt; notificationUser;\n}\n</code></pre>\n<p>NotificationUser</p>\n<pre><code>public class NotificationUser {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private long id;\n    private String email;\n    private String name;\n}\n</code></pre>\n<p>I can create events and I can create users. I can also delete events but, I cannot delete users. I get the following message:</p>\n<pre><code>update or delete on table &quot;notification_user&quot; violates foreign key constraint &quot;fkjuklqmawfcf1ein89djo7945t&quot; on table &quot;event_notification_user&quot;\n  Detail: Key (id)=(12) is still referenced from table &quot;event_notification_user&quot;\n</code></pre>\n<p>I don't understand the Annotations to set on the models.</p>\n<p>Is there a simple way to handle the relations? I don't want to get my repo locked for some simple stuff like deletions. That's the reason why I use JPARepository.</p>\n<p>Thanks for your time.</p>\n"},{"tags":["java","computer-science"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637216480,"post_id":70015359,"comment_id":123767972,"body_markdown":"dead code - why have a loop when you force it only to iterate once?  b) return value - what do you think can be returned if the Array is empty?","body":"dead code - why have a loop when you force it only to iterate once?  b) return value - what do you think can be returned if the Array is empty?"},{"owner":{"account_id":22966285,"reputation":41,"user_id":17304734,"display_name":"ArtStyle.Qwerty"},"score":0,"creation_date":1637217068,"post_id":70015359,"comment_id":123768110,"body_markdown":"I use loop because once toString is called, I want to display all info stored in each array element. Is there any other way to make this? If the array is empty, it should return NULL?","body":"I use loop because once toString is called, I want to display all info stored in each array element. Is there any other way to make this? If the array is empty, it should return NULL?"},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1637218954,"post_id":70015359,"comment_id":123768559,"body_markdown":"I have made an answer below","body":"I have made an answer below"}],"answers":[{"tags":[],"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637218716,"creation_date":1637218716,"answer_id":70015664,"question_id":70015359,"body_markdown":"I suggest that you change your code to\r\n\r\n    public String toString()\r\n    {\r\n        \r\n        if(groceries==null)\r\n        {   \r\n            return &quot;No Groceries&quot;;\r\n        }\r\n    \r\n        return Arrays.toString (groceries);\r\n\r\nOr if you really want to loop, then you will ned to appended each item\r\n\r\n    StringBuilder rv = new StringBuilder ();\r\n    else\r\n    {\r\n        for(int n=0; n&lt;groceries.length; n++)\r\n        {   \r\n            String str=groceries[n].toString();\r\n            rv.append (str);\r\n            rv.append (&quot;,&quot;);\r\n        }\r\n    }\r\n    return rv.toString ();\r\n\r\n\r\nThere are other ways as well.    \r\n\r\n","title":"Error Codes: This method must return a result of type String &amp;&amp; dead code in a for loop within the toString method","body":"<p>I suggest that you change your code to</p>\n<pre><code>public String toString()\n{\n    \n    if(groceries==null)\n    {   \n        return &quot;No Groceries&quot;;\n    }\n\n    return Arrays.toString (groceries);\n</code></pre>\n<p>Or if you really want to loop, then you will ned to appended each item</p>\n<pre><code>StringBuilder rv = new StringBuilder ();\nelse\n{\n    for(int n=0; n&lt;groceries.length; n++)\n    {   \n        String str=groceries[n].toString();\n        rv.append (str);\n        rv.append (&quot;,&quot;);\n    }\n}\nreturn rv.toString ();\n</code></pre>\n<p>There are other ways as well.</p>\n"}],"owner":{"account_id":22966285,"reputation":41,"user_id":17304734,"display_name":"ArtStyle.Qwerty"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70015664,"answer_count":1,"score":0,"last_activity_date":1637218716,"creation_date":1637216321,"question_id":70015359,"body_markdown":" This is the toString method.    groceries[] is Type Geoceries, length of 6, values have been assigned eariler. There are two mistakes. One is on return a result of type String, which I did, second mistake is n++ is dead code. What should I do if I want to return information of groceries[1], groceries[2],...                                                           \r\n    \r\n\r\n    public String toString()//Error:This method must return a result of type String\r\n\t{\r\n\t\t\r\n\t\tif(groceries==null)\r\n\t\t{\t\r\n\t\t\treturn &quot;No Groceries&quot;;\r\n\t\t}\r\n\t\telse\r\n\t\t{\r\n\t\t\tfor(int n=0; n&lt;groceries.length; n++)//n++ is dead code\r\n\t\t\t{\tString str=groceries[n].toString();//this toString is from Groceries Class\r\n\t\t\t\treturn str;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n","title":"Error Codes: This method must return a result of type String &amp;&amp; dead code in a for loop within the toString method","body":"<p>This is the toString method.    groceries[] is Type Geoceries, length of 6, values have been assigned eariler. There are two mistakes. One is on return a result of type String, which I did, second mistake is n++ is dead code. What should I do if I want to return information of groceries[1], groceries[2],...</p>\n<pre><code>public String toString()//Error:This method must return a result of type String\n{\n    \n    if(groceries==null)\n    {   \n        return &quot;No Groceries&quot;;\n    }\n    else\n    {\n        for(int n=0; n&lt;groceries.length; n++)//n++ is dead code\n        {   String str=groceries[n].toString();//this toString is from Groceries Class\n            return str;\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","android","android-studio"],"comments":[{"owner":{"account_id":259908,"reputation":4688,"user_id":543136,"display_name":"TofferJ"},"score":0,"creation_date":1637200301,"post_id":70012688,"comment_id":123765241,"body_markdown":"Please double check that you have a button in your activity_main layout file with the attribute android:id=&quot;@+id/button1&quot;","body":"Please double check that you have a button in your activity_main layout file with the attribute android:id=&quot;@+id/button1&quot;"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1637201596,"post_id":70012688,"comment_id":123765460,"body_markdown":"Re duplink.  Look specifically look at section 4.6 of the accepted answer ... issues with `R` on Android.","body":"Re duplink.  Look specifically look at section 4.6 of the accepted answer ... issues with <code>R</code> on Android."}],"answers":[{"tags":[],"owner":{"account_id":23190489,"reputation":178,"user_id":17286933,"display_name":"Meggrain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637201034,"creation_date":1637201034,"answer_id":70013713,"question_id":70012688,"body_markdown":"Check the XML file where you places the button. There is a discrepancy of the id in XML and that in your Java file.\r\n\r\nensure this is how the Button attribute looks\r\n``` \r\n&lt;Button\r\nandroid:id=&quot;@+id/button1\r\n\r\n.../&gt;\r\n```","title":"Cannot resolve symbol button error -android studio","body":"<p>Check the XML file where you places the button. There is a discrepancy of the id in XML and that in your Java file.</p>\n<p>ensure this is how the Button attribute looks</p>\n<pre><code>&lt;Button\nandroid:id=&quot;@+id/button1\n\n.../&gt;\n</code></pre>\n"}],"owner":{"account_id":23364054,"reputation":1,"user_id":17435870,"display_name":"Yun"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1637201554,"answer_count":1,"score":0,"last_activity_date":1637218678,"creation_date":1637190348,"question_id":70012688,"body_markdown":"I got `Cannot resolve symbol button1` error from my code `R.id.button1`.\r\nI imported `android.widget.Button` and declared a variable `button1` properly but I couldn&#39;t fix this error.\r\n\r\nHere&#39;s my code:\r\n```\r\n    import android.content.Intent;\r\n    import android.graphics.Color;\r\n    import android.net.Uri;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    import android.widget.Button;\r\n    import android.widget.Toast;\r\n\r\n    import androidx.appcompat.app.AppCompatActivity;\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    Button button1;\r\n    Button button2;\r\n    Button button3;\r\n    Button button4;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        button1 = (Button) findViewById(R.id.button1);\r\n        button1.setBackgroundColor(Color.GRAY);\r\n        button1.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n\r\n                Toast.makeText(getApplicationContext(),&quot;Open the website&quot;,Toast.LENGTH_SHORT).show();\r\n                Intent mIntent=new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://m.google.com&quot;));startActivity(mIntent);\r\n            }\r\n                                   });\r\n```","title":"Cannot resolve symbol button error -android studio","body":"<p>I got <code>Cannot resolve symbol button1</code> error from my code <code>R.id.button1</code>.\nI imported <code>android.widget.Button</code> and declared a variable <code>button1</code> properly but I couldn't fix this error.</p>\n<p>Here's my code:</p>\n<pre><code>    import android.content.Intent;\n    import android.graphics.Color;\n    import android.net.Uri;\n    import android.os.Bundle;\n    import android.view.View;\n    import android.widget.Button;\n    import android.widget.Toast;\n\n    import androidx.appcompat.app.AppCompatActivity;\n\n    public class MainActivity extends AppCompatActivity {\n    Button button1;\n    Button button2;\n    Button button3;\n    Button button4;\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n\n        button1 = (Button) findViewById(R.id.button1);\n        button1.setBackgroundColor(Color.GRAY);\n        button1.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n\n                Toast.makeText(getApplicationContext(),&quot;Open the website&quot;,Toast.LENGTH_SHORT).show();\n                Intent mIntent=new Intent(Intent.ACTION_VIEW, Uri.parse(&quot;http://m.google.com&quot;));startActivity(mIntent);\n            }\n                                   });\n</code></pre>\n"},{"tags":["java","spring","spring-boot","junit"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637216968,"post_id":70015407,"comment_id":123768091,"body_markdown":"Remove `@ContextConfiguration`, add `@AutoConfigureMockMvc`. Ditch the `@Before` annotated method and add `@Autowired` to the `MockMvc` field. Then re-run the test.","body":"Remove <code>@ContextConfiguration</code>, add <code>@AutoConfigureMockMvc</code>. Ditch the <code>@Before</code> annotated method and add <code>@Autowired</code> to the <code>MockMvc</code> field. Then re-run the test."},{"owner":{"account_id":17426413,"reputation":110,"user_id":12631250,"display_name":"Lee Jeonghyun"},"score":0,"creation_date":1637217283,"post_id":70015407,"comment_id":123768149,"body_markdown":"Removing `@ContextConfiguration` causes `IllegalStateException` so I can&#39;t run the test without it.","body":"Removing <code>@ContextConfiguration</code> causes <code>IllegalStateException</code> so I can&#39;t run the test without it."},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637217369,"post_id":70015407,"comment_id":123768164,"body_markdown":"Which is weird as it should automatically detect the `@SpringBootApplication` annotated class (unless you have some weirdish non standard packaging structure). Could you add the exception (the **full exception stacktrace**) to your question as an update.","body":"Which is weird as it should automatically detect the <code>@SpringBootApplication</code> annotated class (unless you have some weirdish non standard packaging structure). Could you add the exception (the <b>full exception stacktrace</b>) to your question as an update."},{"owner":{"account_id":1949371,"reputation":997,"user_id":1753823,"display_name":"Jayesh"},"score":0,"creation_date":1637217447,"post_id":70015407,"comment_id":123768182,"body_markdown":"In your test is this really? `@ContextConfiguration(classes = MyApplication.class)` or `@ContextConfiguration(classes = WebConfig.class)` or is it just an example you posted ?","body":"In your test is this really? <code>@ContextConfiguration(classes = MyApplication.class)</code> or <code>@ContextConfiguration(classes = WebConfig.class)</code> or is it just an example you posted ?"},{"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"score":0,"creation_date":1637217858,"post_id":70015407,"comment_id":123768293,"body_markdown":"It is better to use @AutoConfiguraMockMvc and you can autowire it in integration-test","body":"It is better to use @AutoConfiguraMockMvc and you can autowire it in integration-test"}],"answers":[{"tags":[],"owner":{"account_id":3710331,"reputation":1513,"user_id":3087839,"display_name":"Gurkan lleez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637218328,"creation_date":1637218025,"answer_id":70015561,"question_id":70015407,"body_markdown":"    this.mockMvc = MockMvcBuilders.webApplicationSetup(ctx)\r\n                .addFilters(filter).build();\r\n\r\nIf you don&#39;t use @AutoConfiguraMockMvc then you have to add filters to mockMvc builder.\r\n\r\n\r\nhttps://stackoverflow.com/questions/20819130/whats-required-to-make-mockmvc-test-a-filters-init-routine\r\n\r\nAlso there is a configuration problem here.\r\n\r\n\r\n    @Bean\r\n      public FilterRegistrationBean&lt;MyFilter&gt; myFilter(MyFilter myfilter) { // This part is getting invoked\r\n        regBean = new FilterRegistrationBean();\r\n        regBean.setFilter(myFilter);\r\n        regBean.setOrder(0);\r\n        return regBean;\r\n      }\r\n\r\n\r\nYou are putting new Instance of a filter to filter chain but you create singleton filter. You can use above configuration.","title":"Spring filter chain is not applied on unit test MockMvc","body":"<pre><code>this.mockMvc = MockMvcBuilders.webApplicationSetup(ctx)\n            .addFilters(filter).build();\n</code></pre>\n<p>If you don't use @AutoConfiguraMockMvc then you have to add filters to mockMvc builder.</p>\n<p><a href=\"https://stackoverflow.com/questions/20819130/whats-required-to-make-mockmvc-test-a-filters-init-routine\">What&#39;s required to make mockMVC test a filter&#39;s init routine?</a></p>\n<p>Also there is a configuration problem here.</p>\n<pre><code>@Bean\n  public FilterRegistrationBean&lt;MyFilter&gt; myFilter(MyFilter myfilter) { // This part is getting invoked\n    regBean = new FilterRegistrationBean();\n    regBean.setFilter(myFilter);\n    regBean.setOrder(0);\n    return regBean;\n  }\n</code></pre>\n<p>You are putting new Instance of a filter to filter chain but you create singleton filter. You can use above configuration.</p>\n"}],"owner":{"account_id":17426413,"reputation":110,"user_id":12631250,"display_name":"Lee Jeonghyun"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70015561,"answer_count":1,"score":1,"last_activity_date":1637218328,"creation_date":1637216829,"question_id":70015407,"body_markdown":"I made a custom filter and registered on WebConfig, but when I call the api, the filter does not get invoked. I looked through the log, and seems like filter chain I described on the config is not applied. However I checked WebConfig is invoked using debugger.\r\n\r\n```java\r\n//MyFilter.java\r\n@Component\r\npublic class MyFilter implements Filter {\r\n  @Override\r\n  doFilter(...) { // This part is NOT getting invoked\r\n    ...\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n//WebConfig.java\r\n@Configuration\r\npublic class WebConfig {\r\n  @Bean\r\n  public FilterRegistrationBean&lt;MyFilter&gt; myFilter() { // This part is getting invoked\r\n    regBean = new FilterRegistrationBean();\r\n    regBean.setFilter(new MyFilter());\r\n    regBean.setOrder(0);\r\n    return regBean;\r\n  }\r\n}\r\n```\r\n\r\n```java\r\n//MyTest.java\r\n@SpringBootTest\r\n@RunWith(SpringJUnit4ClassRunner.class)\r\n@ContextConfiguration(classes = MyApplication.class)\r\npublic class MyTest {\r\n  \r\n  private MockMvc mockMvc;\r\n\r\n  @Autowired\r\n  WebApplicationContext ctx;\r\n\r\n  @Before\r\n  public void before() {\r\n    mockMvc = MockMvcBuilders.webApplicationSetup(ctx).build();\r\n  }\r\n\r\n  @Test\r\n  public void doTest() {\r\n    mockMvc.perform(...);\r\n  }\r\n}\r\n```","title":"Spring filter chain is not applied on unit test MockMvc","body":"<p>I made a custom filter and registered on WebConfig, but when I call the api, the filter does not get invoked. I looked through the log, and seems like filter chain I described on the config is not applied. However I checked WebConfig is invoked using debugger.</p>\n<pre class=\"lang-java prettyprint-override\"><code>//MyFilter.java\n@Component\npublic class MyFilter implements Filter {\n  @Override\n  doFilter(...) { // This part is NOT getting invoked\n    ...\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//WebConfig.java\n@Configuration\npublic class WebConfig {\n  @Bean\n  public FilterRegistrationBean&lt;MyFilter&gt; myFilter() { // This part is getting invoked\n    regBean = new FilterRegistrationBean();\n    regBean.setFilter(new MyFilter());\n    regBean.setOrder(0);\n    return regBean;\n  }\n}\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>//MyTest.java\n@SpringBootTest\n@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(classes = MyApplication.class)\npublic class MyTest {\n  \n  private MockMvc mockMvc;\n\n  @Autowired\n  WebApplicationContext ctx;\n\n  @Before\n  public void before() {\n    mockMvc = MockMvcBuilders.webApplicationSetup(ctx).build();\n  }\n\n  @Test\n  public void doTest() {\n    mockMvc.perform(...);\n  }\n}\n</code></pre>\n"},{"tags":["java","web-services","authentication","soap","webservice-client"],"answers":[{"tags":[],"owner":{"account_id":5658949,"reputation":106,"user_id":4477126,"display_name":"Martin"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1421825537,"creation_date":1421825537,"answer_id":28061777,"question_id":23919680,"body_markdown":"WS-Security defines password digest as \r\n\r\n&gt; Base64 ( SHA1 ( nonce + created + password ) )\r\n\r\nnot \r\n\r\n&gt; Base64 ( SHA1 (  password + nonce + created) )\r\n\r\nAnd nonce is supposed to be 128 bits (16 bytes) encoded as Base64. \r\ne.g.\r\n\r\n    java.security.SecureRandom random = java.security.SecureRandom.getInstance(&quot;SHA1PRNG&quot;);\r\n    random.setSeed(System.currentTimeMillis()); \r\n    byte[] nonceBytes = new byte[16]; \r\n    random.nextBytes(nonceBytes); \r\n    String nonce = new String(org.apache.commons.codec.binary.Base64.encodeBase64(nonceBytes), &quot;UTF-8&quot;);","title":"How to create Password Digest for use with Web Service?","body":"<p>WS-Security defines password digest as </p>\n\n<blockquote>\n  <p>Base64 ( SHA1 ( nonce + created + password ) )</p>\n</blockquote>\n\n<p>not </p>\n\n<blockquote>\n  <p>Base64 ( SHA1 (  password + nonce + created) )</p>\n</blockquote>\n\n<p>And nonce is supposed to be 128 bits (16 bytes) encoded as Base64. \ne.g.</p>\n\n<pre><code>java.security.SecureRandom random = java.security.SecureRandom.getInstance(\"SHA1PRNG\");\nrandom.setSeed(System.currentTimeMillis()); \nbyte[] nonceBytes = new byte[16]; \nrandom.nextBytes(nonceBytes); \nString nonce = new String(org.apache.commons.codec.binary.Base64.encodeBase64(nonceBytes), \"UTF-8\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":937533,"reputation":4930,"user_id":966185,"accept_rate":81,"display_name":"Pavel"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1577451338,"creation_date":1577451338,"answer_id":59501119,"question_id":23919680,"body_markdown":"The nonce and the digest of the password should be constructed, as it done in the snippet below. \r\n\r\nPlease, note the order of the elements, and the fact that the non-encoded version of the `nonce` is used for `passwordDigest` construction.\r\n\r\n    import javax.xml.datatype.*;\r\n    import java.security.*;\r\n    import java.time.Instant;\r\n    import java.util.Base64;\r\n    \r\n    import static java.lang.System.currentTimeMillis;\r\n    import static java.nio.charset.StandardCharsets.UTF_8;\r\n    \r\n    class Snippet {\r\n    \r\n        private static final SecureRandom RANDOM;\r\n        private static final int NONCE_SIZE_IN_BYTES = 16;\r\n        private static final String MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1 = &quot;SHA-1&quot;;\r\n        private static final String SECURE_RANDOM_ALGORITHM_SHA_1_PRNG = &quot;SHA1PRNG&quot;;\r\n    \r\n        static {\r\n            try {\r\n                RANDOM = SecureRandom.getInstance(SECURE_RANDOM_ALGORITHM_SHA_1_PRNG);\r\n                RANDOM.setSeed(currentTimeMillis());\r\n            } catch (NoSuchAlgorithmException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    \r\n        public static void main(String[] args) throws DatatypeConfigurationException {\r\n            final var nonceBytes = generateNonce();\r\n    \r\n            final var password = &quot;password&quot;;\r\n            final var createdDate = DatatypeFactory.newInstance().newXMLGregorianCalendar(Instant.now().toString());\r\n            final var passwordDigestBytes = constructPasswordDigest(nonceBytes, createdDate, password);\r\n    \r\n            final var base64Encoder = Base64.getEncoder();\r\n            final var nonceBase64Encoded = base64Encoder.encodeToString(nonceBytes);\r\n            final var passwordDigestBase64Encoded = base64Encoder.encodeToString(passwordDigestBytes);\r\n            System.out.println(String.format(&quot;nonce: [%s], password digest: [%s]&quot;, nonceBase64Encoded, passwordDigestBase64Encoded));\r\n            System.out.flush();\r\n        }\r\n    \r\n        private static byte[] generateNonce() {\r\n            var nonceBytes = new byte[NONCE_SIZE_IN_BYTES];\r\n            RANDOM.nextBytes(nonceBytes);\r\n            return nonceBytes;\r\n        }\r\n    \r\n        /**\r\n         * @noinspection SameParameterValue\r\n         */\r\n        private static byte[] constructPasswordDigest(byte[] nonceBytes, XMLGregorianCalendar createdDate, String password) {\r\n            try {\r\n                final var sha1MessageDigest = MessageDigest.getInstance(MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1);\r\n                sha1MessageDigest.update(nonceBytes);\r\n                final var createdDateAsString = createdDate.toString();\r\n                sha1MessageDigest.update(createdDateAsString.getBytes(UTF_8));\r\n                sha1MessageDigest.update(password.getBytes(UTF_8));\r\n                return sha1MessageDigest.digest();\r\n            } catch (NoSuchAlgorithmException e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n    }\r\n\r\nThe output of this snippet is:\r\n&gt; nonce: [KEyJbsmxL1JdsDHo7kWD6Q==], password digest: [+OiJDs2sEycZECHhQdJ8T9Lt2ns=]","title":"How to create Password Digest for use with Web Service?","body":"<p>The nonce and the digest of the password should be constructed, as it done in the snippet below. </p>\n\n<p>Please, note the order of the elements, and the fact that the non-encoded version of the <code>nonce</code> is used for <code>passwordDigest</code> construction.</p>\n\n<pre><code>import javax.xml.datatype.*;\nimport java.security.*;\nimport java.time.Instant;\nimport java.util.Base64;\n\nimport static java.lang.System.currentTimeMillis;\nimport static java.nio.charset.StandardCharsets.UTF_8;\n\nclass Snippet {\n\n    private static final SecureRandom RANDOM;\n    private static final int NONCE_SIZE_IN_BYTES = 16;\n    private static final String MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1 = \"SHA-1\";\n    private static final String SECURE_RANDOM_ALGORITHM_SHA_1_PRNG = \"SHA1PRNG\";\n\n    static {\n        try {\n            RANDOM = SecureRandom.getInstance(SECURE_RANDOM_ALGORITHM_SHA_1_PRNG);\n            RANDOM.setSeed(currentTimeMillis());\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n    }\n\n    public static void main(String[] args) throws DatatypeConfigurationException {\n        final var nonceBytes = generateNonce();\n\n        final var password = \"password\";\n        final var createdDate = DatatypeFactory.newInstance().newXMLGregorianCalendar(Instant.now().toString());\n        final var passwordDigestBytes = constructPasswordDigest(nonceBytes, createdDate, password);\n\n        final var base64Encoder = Base64.getEncoder();\n        final var nonceBase64Encoded = base64Encoder.encodeToString(nonceBytes);\n        final var passwordDigestBase64Encoded = base64Encoder.encodeToString(passwordDigestBytes);\n        System.out.println(String.format(\"nonce: [%s], password digest: [%s]\", nonceBase64Encoded, passwordDigestBase64Encoded));\n        System.out.flush();\n    }\n\n    private static byte[] generateNonce() {\n        var nonceBytes = new byte[NONCE_SIZE_IN_BYTES];\n        RANDOM.nextBytes(nonceBytes);\n        return nonceBytes;\n    }\n\n    /**\n     * @noinspection SameParameterValue\n     */\n    private static byte[] constructPasswordDigest(byte[] nonceBytes, XMLGregorianCalendar createdDate, String password) {\n        try {\n            final var sha1MessageDigest = MessageDigest.getInstance(MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1);\n            sha1MessageDigest.update(nonceBytes);\n            final var createdDateAsString = createdDate.toString();\n            sha1MessageDigest.update(createdDateAsString.getBytes(UTF_8));\n            sha1MessageDigest.update(password.getBytes(UTF_8));\n            return sha1MessageDigest.digest();\n        } catch (NoSuchAlgorithmException e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n\n<p>The output of this snippet is:</p>\n\n<blockquote>\n  <p>nonce: [KEyJbsmxL1JdsDHo7kWD6Q==], password digest: [+OiJDs2sEycZECHhQdJ8T9Lt2ns=]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":16313002,"reputation":353,"user_id":12701803,"display_name":"Felipe La Rotta"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637218136,"creation_date":1637218136,"answer_id":70015573,"question_id":23919680,"body_markdown":"After days and days of searching, Pavel&#39;s answer was the only one that worked for me. The only changes I made to his code are 1) Returning the date of token creation, among with nonce and password digest. This is critical to avoid the &quot;expired token&quot; response. 2) returning the whole header block 3) converting the code to Java 1.8.\r\n\r\nHere&#39;s the modified Pavel&#39;s code.\r\n\r\n    package test;\r\n\r\n    import javax.xml.datatype.*;\r\n    import java.security.*;\r\n    import java.time.Instant;\r\n    import java.util.Base64;\r\n    import java.util.Base64.Encoder;\r\n\r\n    import static java.lang.System.currentTimeMillis;\r\n    import static java.nio.charset.StandardCharsets.UTF_8;\r\n\r\n    public class Main {\r\n\r\n\tprivate static final SecureRandom RANDOM;\r\n\tprivate static final int NONCE_SIZE_IN_BYTES = 16;\r\n\tprivate static final String MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1 = &quot;SHA-1&quot;;\r\n\tprivate static final String SECURE_RANDOM_ALGORITHM_SHA_1_PRNG = &quot;SHA1PRNG&quot;;\r\n\r\n\tstatic {\r\n\t\ttry {\r\n\t\t\tRANDOM = SecureRandom.getInstance(SECURE_RANDOM_ALGORITHM_SHA_1_PRNG);\r\n\t\t\tRANDOM.setSeed(currentTimeMillis());\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static void main(String[] args) throws DatatypeConfigurationException {\r\n\t\t\r\n\t\tString passwordMd5 = &quot;4C2d85FBEE80145B4&quot;;\r\n\r\n\t\tgenerateHeader(passwordMd5);\r\n\r\n\t}\r\n\r\n\tpublic static void generateHeader(String password) throws DatatypeConfigurationException {\r\n\r\n\t\tfinal byte[] nonceBytes = generateNonce();\r\n\r\n\t\tfinal XMLGregorianCalendar createdDate = DatatypeFactory.newInstance()\r\n\t\t\t\t.newXMLGregorianCalendar(Instant.now().toString());\r\n\t\tfinal byte[] passwordDigestBytes = constructPasswordDigest(nonceBytes, createdDate, password);\r\n\r\n\t\tfinal Encoder base64Encoder = Base64.getEncoder();\r\n\t\tfinal String nonceBase64Encoded = base64Encoder.encodeToString(nonceBytes);\r\n\t\tfinal String passwordDigestBase64Encoded = base64Encoder.encodeToString(passwordDigestBytes);\r\n\t\t\r\n\t\t//System.out.println(String.format(&quot;nonce: [%s], password digest: [%s]&quot;, nonceBase64Encoded, passwordDigestBase64Encoded));\r\n\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n\t\tsb.append(&quot;&lt;soapenv:Header&gt;\\n&quot;);\r\n\t\tsb.append(&quot;&lt;wsse:Security xmlns:wsse=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\\&quot;&gt;\\n&quot;);\r\n\t\t\r\n\t\tsb.append(&quot;&lt;wsse:UsernameToken&gt;&quot;);\r\n\t\tsb.append(&quot;&lt;wsse:Username&gt;thisIsMyUsername&lt;/wsse:Username&gt;&quot;);\r\n\t\t\r\n\t\tsb.append(&quot;&lt;wsse:Password Type=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest\\&quot;&gt;&quot;+\r\n\t\tpasswordDigestBase64Encoded+&quot;&lt;/wsse:Password&gt;\\n&quot;);\r\n\t\t\r\n\t\tsb.append(&quot;&lt;wsse:Nonce EncodingType=\\&quot;http://docs.oasis-open.org/wss/2004 /01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\\&quot;&gt;&quot; +\r\n\t\tnonceBase64Encoded+&quot;&lt;/wsse:Nonce&gt;\\n&quot;);\r\n\t\t\r\n\t\tsb.append(&quot;&lt;wsu:Created xmlns:wsu=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\\&quot;&gt;&quot; +\r\n\t\tcreatedDate.toString()+&quot;&lt;/wsu:Created&gt;\\n&quot;);\r\n\t\t\r\n\t\tsb.append(&quot;&lt;/wsse:UsernameToken&gt;\\n&quot;);\r\n\t\tsb.append(&quot;&lt;/wsse:Security&gt;\\n&quot;);\r\n\t\tsb.append(&quot;&lt;/soapenv:Header&gt;&quot;);\r\n\r\n\t\t\r\n\t\tSystem.out.println(sb.toString());\r\n\t\t\r\n\t\tSystem.out.flush();\r\n\t\t\r\n\t\tSystem.exit(0);\r\n\t}\r\n\r\n\tprivate static byte[] generateNonce() {\r\n\t\tbyte[] nonceBytes = new byte[NONCE_SIZE_IN_BYTES];\r\n\t\tRANDOM.nextBytes(nonceBytes);\r\n\t\treturn nonceBytes;\r\n\t}\r\n\r\n\tprivate static byte[] constructPasswordDigest(byte[] nonceBytes, XMLGregorianCalendar createdDate,\r\n\t\t\tString password) {\r\n\t\ttry {\r\n\t\t\tfinal MessageDigest sha1MessageDigest = MessageDigest.getInstance(MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1);\r\n\t\t\tsha1MessageDigest.update(nonceBytes);\r\n\t\t\tfinal String createdDateAsString = createdDate.toString();\r\n\t\t\r\n\r\n\t\t\tsha1MessageDigest.update(createdDateAsString.getBytes(UTF_8));\r\n\t\t\tsha1MessageDigest.update(password.getBytes(UTF_8));\r\n\t\t\treturn sha1MessageDigest.digest();\r\n\t\t} catch (NoSuchAlgorithmException e) {\r\n\t\t\tthrow new RuntimeException(e);\r\n\t\t}\r\n\t}\r\n\r\n    }\r\n","title":"How to create Password Digest for use with Web Service?","body":"<p>After days and days of searching, Pavel's answer was the only one that worked for me. The only changes I made to his code are 1) Returning the date of token creation, among with nonce and password digest. This is critical to avoid the &quot;expired token&quot; response. 2) returning the whole header block 3) converting the code to Java 1.8.</p>\n<p>Here's the modified Pavel's code.</p>\n<pre><code>package test;\n\nimport javax.xml.datatype.*;\nimport java.security.*;\nimport java.time.Instant;\nimport java.util.Base64;\nimport java.util.Base64.Encoder;\n\nimport static java.lang.System.currentTimeMillis;\nimport static java.nio.charset.StandardCharsets.UTF_8;\n\npublic class Main {\n\nprivate static final SecureRandom RANDOM;\nprivate static final int NONCE_SIZE_IN_BYTES = 16;\nprivate static final String MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1 = &quot;SHA-1&quot;;\nprivate static final String SECURE_RANDOM_ALGORITHM_SHA_1_PRNG = &quot;SHA1PRNG&quot;;\n\nstatic {\n    try {\n        RANDOM = SecureRandom.getInstance(SECURE_RANDOM_ALGORITHM_SHA_1_PRNG);\n        RANDOM.setSeed(currentTimeMillis());\n    } catch (NoSuchAlgorithmException e) {\n        throw new RuntimeException(e);\n    }\n}\n\npublic static void main(String[] args) throws DatatypeConfigurationException {\n    \n    String passwordMd5 = &quot;4C2d85FBEE80145B4&quot;;\n\n    generateHeader(passwordMd5);\n\n}\n\npublic static void generateHeader(String password) throws DatatypeConfigurationException {\n\n    final byte[] nonceBytes = generateNonce();\n\n    final XMLGregorianCalendar createdDate = DatatypeFactory.newInstance()\n            .newXMLGregorianCalendar(Instant.now().toString());\n    final byte[] passwordDigestBytes = constructPasswordDigest(nonceBytes, createdDate, password);\n\n    final Encoder base64Encoder = Base64.getEncoder();\n    final String nonceBase64Encoded = base64Encoder.encodeToString(nonceBytes);\n    final String passwordDigestBase64Encoded = base64Encoder.encodeToString(passwordDigestBytes);\n    \n    //System.out.println(String.format(&quot;nonce: [%s], password digest: [%s]&quot;, nonceBase64Encoded, passwordDigestBase64Encoded));\n\n    StringBuilder sb = new StringBuilder();\n\n    sb.append(&quot;&lt;soapenv:Header&gt;\\n&quot;);\n    sb.append(&quot;&lt;wsse:Security xmlns:wsse=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\\&quot;&gt;\\n&quot;);\n    \n    sb.append(&quot;&lt;wsse:UsernameToken&gt;&quot;);\n    sb.append(&quot;&lt;wsse:Username&gt;thisIsMyUsername&lt;/wsse:Username&gt;&quot;);\n    \n    sb.append(&quot;&lt;wsse:Password Type=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest\\&quot;&gt;&quot;+\n    passwordDigestBase64Encoded+&quot;&lt;/wsse:Password&gt;\\n&quot;);\n    \n    sb.append(&quot;&lt;wsse:Nonce EncodingType=\\&quot;http://docs.oasis-open.org/wss/2004 /01/oasis-200401-wss-soap-message-security-1.0#Base64Binary\\&quot;&gt;&quot; +\n    nonceBase64Encoded+&quot;&lt;/wsse:Nonce&gt;\\n&quot;);\n    \n    sb.append(&quot;&lt;wsu:Created xmlns:wsu=\\&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\\&quot;&gt;&quot; +\n    createdDate.toString()+&quot;&lt;/wsu:Created&gt;\\n&quot;);\n    \n    sb.append(&quot;&lt;/wsse:UsernameToken&gt;\\n&quot;);\n    sb.append(&quot;&lt;/wsse:Security&gt;\\n&quot;);\n    sb.append(&quot;&lt;/soapenv:Header&gt;&quot;);\n\n    \n    System.out.println(sb.toString());\n    \n    System.out.flush();\n    \n    System.exit(0);\n}\n\nprivate static byte[] generateNonce() {\n    byte[] nonceBytes = new byte[NONCE_SIZE_IN_BYTES];\n    RANDOM.nextBytes(nonceBytes);\n    return nonceBytes;\n}\n\nprivate static byte[] constructPasswordDigest(byte[] nonceBytes, XMLGregorianCalendar createdDate,\n        String password) {\n    try {\n        final MessageDigest sha1MessageDigest = MessageDigest.getInstance(MESSAGE_DIGEST_ALGORITHM_NAME_SHA_1);\n        sha1MessageDigest.update(nonceBytes);\n        final String createdDateAsString = createdDate.toString();\n    \n\n        sha1MessageDigest.update(createdDateAsString.getBytes(UTF_8));\n        sha1MessageDigest.update(password.getBytes(UTF_8));\n        return sha1MessageDigest.digest();\n    } catch (NoSuchAlgorithmException e) {\n        throw new RuntimeException(e);\n    }\n}\n\n}\n</code></pre>\n"}],"owner":{"account_id":2807358,"reputation":769,"user_id":2414327,"accept_rate":56,"display_name":"svager"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":30572,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":28061777,"answer_count":3,"score":8,"last_activity_date":1637218136,"creation_date":1401303293,"question_id":23919680,"body_markdown":"I am trying to create a passwordDigest util which can be used in different environments which are capable of running java byte code.\r\n\r\nFirst of all I create nonce. It is done like so.\r\n\r\n    public static String buildNonce(){\r\n    \t\tStringBuffer nonce=new StringBuffer();\r\n    \t\tString dateTimeString = Long.toString(new Date().getTime());\r\n    \t\tbyte[] nonceByte= dateTimeString.getBytes();\r\n    \t\treturn Base64.encode(nonceByte);\r\n    \t}\r\n\r\nOnce I have nonce, I build password digest.\r\n\r\n\tpublic static String buildPasswordDigest(String userName, String password, String nonce, String dateTime){\r\n\t\tMessageDigest sha1;\r\n\t\tString passwordDigest=null;\r\n\t\ttry {\r\n\t\t\tsha1= MessageDigest.getInstance(&quot;SHA-1&quot;);\r\n\t\t\tbyte[] hash = MessageDigest.getInstance(&quot;SHA-1&quot;).digest(password.getBytes(&quot;UTF-8&quot;));\r\n\t\t\tsha1.update(nonce.getBytes(&quot;UTF-8&quot;));\r\n\t\t\tsha1.update(dateTime.getBytes(&quot;UTF-8&quot;));\r\n\t\t\tpasswordDigest = new String(Base64.encode(sha1.digest(hash)));\r\n\t\t\tsha1.reset();\r\n\t\t} catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn passwordDigest;\r\n\r\nIn order to test that everything works correctly. I have created a test web service using CXF 2.7. I have manually created SOAP Envelope to test authentication. The envelope looks like this.\r\n\r\n     &lt;soapenv:Envelope xmlns:soapenv=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot; \r\n     \t\t\t    xmlns:ws=&quot;http://ws.mytest.org/&quot; \r\n     \t\t\t    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance/&quot;&gt;\r\n     \t&lt;soapenv:Header&gt;\r\n     \t\t&lt;wsse:Security soapenv:mustUnderstand=&quot;1&quot; \r\n     \t\t  xmlns:wsse=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd&quot; \r\n     \t\t  xmlns:wsu=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd&quot;&gt;\r\n     \t\t  &lt;wsse:UsernameToken wsu:Id=&quot;UsernameToken-2&quot;&gt;\r\n     \t\t\t&lt;wsse:Username&gt;TEST_USER&lt;/wsse:Username&gt;\r\n     \t\t\t&lt;wsse:Password \r\n     \t\t\tType=&quot;http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest&quot;&gt;UZsDSW/vANu6fHg4rAHo2OwsF9s=&lt;/wsse:Password\r\n     \t\t\t&lt;wsse:Nonce&gt;MTQwMTMwMDQzNjA3OA==&lt;/wsse:Nonce&gt;\r\n     \t\t\t&lt;wsu:Created&gt;2014-05-28T18:07:16.087Z&lt;/wsu:Created&gt;\r\n     \t\t &lt;/wsse:UsernameToken&gt;\r\n    \t\t&lt;/wsse:Security&gt;\r\n    \t&lt;/soapenv:Header&gt;\r\n    \t&lt;soapenv:Body&gt;\r\n    \t\t&lt;ws:record&gt;\r\n    \t\t\t&lt;val1&gt;1&lt;/val1&gt;\r\n    \t\t\t&lt;val2&gt;Some Text&lt;/val2&gt;\r\n    \t\t&lt;/ws:record&gt;\r\n    \t&lt;/soapenv:Body&gt;\r\n    &lt;/soapenv:Envelope&gt;\r\n\r\nWhen I send the envelope using SOAP UI. I get the following authentication error.\r\n\r\n    WARNING: Interceptor for {http://ws.mytest.org/}TestService has thrown exception, unwinding now\r\n    org.apache.cxf.binding.soap.SoapFault: The security token could not be authenticated or authorized\r\n    \tat org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.createSoapFault(WSS4JInInterceptor.java:788)\r\n    \tat org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:336)\r\n    \tat org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:95)\r\n    \tat org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:272)\r\n    \tat org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)\r\n    \tat org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:239)\r\n    \tat org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:248)\r\n    \tat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:222)\r\n    \tat org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:153)\r\n    \tat org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:167)\r\n    \tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:286)\r\n    \tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:206)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:646)\r\n    \tat org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:262)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:313)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n    \tat java.lang.Thread.run(Thread.java:744)\r\n    Caused by: org.apache.ws.security.WSSecurityException: The security token could not be authenticated or authorized\r\n    \tat org.apache.ws.security.validate.UsernameTokenValidator.verifyDigestPassword(UsernameTokenValidator.java:199)\r\n    \tat org.apache.ws.security.validate.UsernameTokenValidator.validate(UsernameTokenValidator.java:97)\r\n    \tat org.apache.ws.security.processor.UsernameTokenProcessor.handleUsernameToken(UsernameTokenProcessor.java:172)\r\n    \tat org.apache.ws.security.processor.UsernameTokenProcessor.handleToken(UsernameTokenProcessor.java:67)\r\n    \tat org.apache.ws.security.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:396)\r\n    \tat org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:279)\r\n    \t... 31 more\r\n\r\nI suspect that I have an issue creating either nonce or password. \r\n\r\nYour help is appreciated.","title":"How to create Password Digest for use with Web Service?","body":"<p>I am trying to create a passwordDigest util which can be used in different environments which are capable of running java byte code.</p>\n\n<p>First of all I create nonce. It is done like so.</p>\n\n<pre><code>public static String buildNonce(){\n        StringBuffer nonce=new StringBuffer();\n        String dateTimeString = Long.toString(new Date().getTime());\n        byte[] nonceByte= dateTimeString.getBytes();\n        return Base64.encode(nonceByte);\n    }\n</code></pre>\n\n<p>Once I have nonce, I build password digest.</p>\n\n<pre><code>public static String buildPasswordDigest(String userName, String password, String nonce, String dateTime){\n    MessageDigest sha1;\n    String passwordDigest=null;\n    try {\n        sha1= MessageDigest.getInstance(\"SHA-1\");\n        byte[] hash = MessageDigest.getInstance(\"SHA-1\").digest(password.getBytes(\"UTF-8\"));\n        sha1.update(nonce.getBytes(\"UTF-8\"));\n        sha1.update(dateTime.getBytes(\"UTF-8\"));\n        passwordDigest = new String(Base64.encode(sha1.digest(hash)));\n        sha1.reset();\n    } catch (NoSuchAlgorithmException | UnsupportedEncodingException e) {\n        // TODO Auto-generated catch block\n        e.printStackTrace();\n    }\n    return passwordDigest;\n</code></pre>\n\n<p>In order to test that everything works correctly. I have created a test web service using CXF 2.7. I have manually created SOAP Envelope to test authentication. The envelope looks like this.</p>\n\n<pre><code> &lt;soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" \n                xmlns:ws=\"http://ws.mytest.org/\" \n                xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance/\"&gt;\n    &lt;soapenv:Header&gt;\n        &lt;wsse:Security soapenv:mustUnderstand=\"1\" \n          xmlns:wsse=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-secext-1.0.xsd\" \n          xmlns:wsu=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-wssecurity-utility-1.0.xsd\"&gt;\n          &lt;wsse:UsernameToken wsu:Id=\"UsernameToken-2\"&gt;\n            &lt;wsse:Username&gt;TEST_USER&lt;/wsse:Username&gt;\n            &lt;wsse:Password \n            Type=\"http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-username-token-profile-1.0#PasswordDigest\"&gt;UZsDSW/vANu6fHg4rAHo2OwsF9s=&lt;/wsse:Password\n            &lt;wsse:Nonce&gt;MTQwMTMwMDQzNjA3OA==&lt;/wsse:Nonce&gt;\n            &lt;wsu:Created&gt;2014-05-28T18:07:16.087Z&lt;/wsu:Created&gt;\n         &lt;/wsse:UsernameToken&gt;\n        &lt;/wsse:Security&gt;\n    &lt;/soapenv:Header&gt;\n    &lt;soapenv:Body&gt;\n        &lt;ws:record&gt;\n            &lt;val1&gt;1&lt;/val1&gt;\n            &lt;val2&gt;Some Text&lt;/val2&gt;\n        &lt;/ws:record&gt;\n    &lt;/soapenv:Body&gt;\n&lt;/soapenv:Envelope&gt;\n</code></pre>\n\n<p>When I send the envelope using SOAP UI. I get the following authentication error.</p>\n\n<pre><code>WARNING: Interceptor for {http://ws.mytest.org/}TestService has thrown exception, unwinding now\norg.apache.cxf.binding.soap.SoapFault: The security token could not be authenticated or authorized\n    at org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.createSoapFault(WSS4JInInterceptor.java:788)\n    at org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:336)\n    at org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:95)\n    at org.apache.cxf.phase.PhaseInterceptorChain.doIntercept(PhaseInterceptorChain.java:272)\n    at org.apache.cxf.transport.ChainInitiationObserver.onMessage(ChainInitiationObserver.java:121)\n    at org.apache.cxf.transport.http.AbstractHTTPDestination.invoke(AbstractHTTPDestination.java:239)\n    at org.apache.cxf.transport.servlet.ServletController.invokeDestination(ServletController.java:248)\n    at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:222)\n    at org.apache.cxf.transport.servlet.ServletController.invoke(ServletController.java:153)\n    at org.apache.cxf.transport.servlet.CXFNonSpringServlet.invoke(CXFNonSpringServlet.java:167)\n    at org.apache.cxf.transport.servlet.AbstractHTTPServlet.handleRequest(AbstractHTTPServlet.java:286)\n    at org.apache.cxf.transport.servlet.AbstractHTTPServlet.doPost(AbstractHTTPServlet.java:206)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)\n    at org.apache.cxf.transport.servlet.AbstractHTTPServlet.service(AbstractHTTPServlet.java:262)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:313)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:744)\nCaused by: org.apache.ws.security.WSSecurityException: The security token could not be authenticated or authorized\n    at org.apache.ws.security.validate.UsernameTokenValidator.verifyDigestPassword(UsernameTokenValidator.java:199)\n    at org.apache.ws.security.validate.UsernameTokenValidator.validate(UsernameTokenValidator.java:97)\n    at org.apache.ws.security.processor.UsernameTokenProcessor.handleUsernameToken(UsernameTokenProcessor.java:172)\n    at org.apache.ws.security.processor.UsernameTokenProcessor.handleToken(UsernameTokenProcessor.java:67)\n    at org.apache.ws.security.WSSecurityEngine.processSecurityHeader(WSSecurityEngine.java:396)\n    at org.apache.cxf.ws.security.wss4j.WSS4JInInterceptor.handleMessage(WSS4JInInterceptor.java:279)\n    ... 31 more\n</code></pre>\n\n<p>I suspect that I have an issue creating either nonce or password. </p>\n\n<p>Your help is appreciated.</p>\n"},{"tags":["java","spring","cookies","jakarta-ee","cookie-path"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637223107,"post_id":70015471,"comment_id":123769767,"body_markdown":"What do you think `setDomain` on the `Cookie` does?","body":"What do you think <code>setDomain</code> on the <code>Cookie</code> does?"},{"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"score":0,"creation_date":1637223815,"post_id":70015471,"comment_id":123770023,"body_markdown":"@M.Deinum It sets the domain name i.e setDomain(&quot;Kishore.com&quot;) ? If I&#39;m not wrong.\nBut still when we set setPath(&quot;/&quot;) it&#39;ll be like Kishore.com/ only right. which is the root context?","body":"@M.Deinum It sets the domain name i.e setDomain(&quot;Kishore.com&quot;) ? If I&#39;m not wrong. But still when we set setPath(&quot;/&quot;) it&#39;ll be like Kishore.com/ only right. which is the root context?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637225430,"post_id":70015471,"comment_id":123770597,"body_markdown":"Correct (and which should be mainly the same as now). So you either specify multiple cookies or ignore the warning. Or find a different way instead of a cookie (like a header).","body":"Correct (and which should be mainly the same as now). So you either specify multiple cookies or ignore the warning. Or find a different way instead of a cookie (like a header)."}],"owner":{"account_id":4569008,"reputation":1204,"user_id":3709218,"accept_rate":49,"display_name":"Kishore Kumar Korada"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1109,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637217298,"creation_date":1637217298,"question_id":70015471,"body_markdown":"I&#39;ve two applications with a common domain name i.e let&#39;s say &lt;b&gt;www.kishore.com/travelSite&lt;/b&gt; and &lt;b&gt;www.kishore.com/researchSite&lt;/b&gt;.&lt;br&gt;\r\nSo, in the *travelSite* I&#39;m creating a cookie as below\r\n\r\n    Cookie cookie = new Cookie(&quot;someName&quot;,&quot;someValue&quot;);\r\n    cookie.setSecure(true);\r\n    cookie.setHttpOnly(true);\r\n    cookie.setPath(&quot;/&quot;); \r\n\r\nHere the reason I&#39;m setting Path to / in **travelSite** is because, I want this cookie to be used in **researchSite**. But the problem is, when I send this code for scanning, it says it&#39;s vulnerable to use context path i.e /.&lt;br&gt; Setting this **/travelSite** could eliminate vulnerable error in scanning but can&#39;t be used the the **researchSite**.&lt;br&gt;&lt;br&gt;\r\nWanted to know if there is a workaround? Can I set domain name i.e kishore.com in the cookie path. If so how? \r\n\r\n","title":"Issue with Cookie Security: Overlay Broad Path","body":"<p>I've two applications with a common domain name i.e let's say <b>www.kishore.com/travelSite</b> and <b>www.kishore.com/researchSite</b>.<br>\nSo, in the <em>travelSite</em> I'm creating a cookie as below</p>\n<pre><code>Cookie cookie = new Cookie(&quot;someName&quot;,&quot;someValue&quot;);\ncookie.setSecure(true);\ncookie.setHttpOnly(true);\ncookie.setPath(&quot;/&quot;); \n</code></pre>\n<p>Here the reason I'm setting Path to / in <strong>travelSite</strong> is because, I want this cookie to be used in <strong>researchSite</strong>. But the problem is, when I send this code for scanning, it says it's vulnerable to use context path i.e /.<br> Setting this <strong>/travelSite</strong> could eliminate vulnerable error in scanning but can't be used the the <strong>researchSite</strong>.<br><br>\nWanted to know if there is a workaround? Can I set domain name i.e kishore.com in the cookie path. If so how?</p>\n"},{"tags":["java","spring","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637217237,"post_id":70014412,"comment_id":123768144,"body_markdown":"`FROM product WHERE category.categoryId=:categoryId` should work. Notice the additional refernce to `category` (the name of the attribute in `Product`) and an additional `:` to note the name of the parameter. All of this is also covered in a basic HQL query tutorial, so you might want to read -up on that.","body":"<code>FROM product WHERE category.categoryId=:categoryId</code> should work. Notice the additional refernce to <code>category</code> (the name of the attribute in <code>Product</code>) and an additional <code>:</code> to note the name of the parameter. All of this is also covered in a basic HQL query tutorial, so you might want to read -up on that."}],"answers":[{"tags":[],"owner":{"account_id":6495946,"reputation":9,"user_id":5028552,"display_name":"gamgoon"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637217247,"creation_date":1637217247,"answer_id":70015463,"question_id":70014412,"body_markdown":"try this\r\n```\r\nFROM product p WHERE p.category.categoryId = :categoryId\r\n```","title":"Hibernate: query by example and many to one to create lists","body":"<p>try this</p>\n<pre><code>FROM product p WHERE p.category.categoryId = :categoryId\n</code></pre>\n"}],"owner":{"account_id":22625163,"reputation":27,"user_id":16803362,"display_name":"Kira"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":241,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637217247,"creation_date":1637208072,"question_id":70014412,"body_markdown":"Let&#39;s say those are my Entity:\r\n\r\nProduct.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;Products&quot;)\r\n    public class Product{\r\n        private int code; \r\n    \tprivate String name;\r\n        private double price;\r\n        private byte[] image;\r\n        private String image1;\r\n        // For sort.\r\n        private Date createDate;\r\n        @ManyToOne\r\n        @JoinColumn(name = &quot;categoryId&quot;)\r\n        private Category category;\r\n    }\r\n\r\nCategory.java\r\n\r\n    @Entity\r\n    @Table(name = &quot;Categorys&quot;)\r\n    public class Category {\r\n    \t@Id\r\n        @GeneratedValue\r\n        private int categoryId;\r\n        private String categoryName;\r\n        private String categoryUrl;\r\n        @Column(name = &quot;categoryStatus&quot;, length = 1, nullable = false)\r\n        private boolean categoryStatus;\r\n        @OneToMany(fetch = FetchType.LAZY)\r\n        @JoinColumn(name = &quot;categoryId&quot;)\r\n        private List&lt;Product&gt; listProduct;\r\n    }\r\nI want to list all rows Products by category id. but I don&#39;t know how to query by Hibernate\r\nHere&#39;s an example tool that I&#39;m working on but it doesn&#39;t work. \r\nsomeone please help me\r\n\r\n    @Override\r\n    public List&lt;Product&gt; getListByCategory(int categoryId) {\r\n        Session session = sessionFactory.getCurrentSession();\r\n        Query query = session.createQuery(&quot;FROM product WHERE categoryId = categoryId&quot;);\r\n        query.setLong(&quot;categoryId&quot;, categoryId);\r\n        List&lt;Product&gt; list = query.list();\r\n        return list;\r\n    }\r\n\r\n   \r\n","title":"Hibernate: query by example and many to one to create lists","body":"<p>Let's say those are my Entity:</p>\n<p>Product.java</p>\n<pre><code>@Entity\n@Table(name = &quot;Products&quot;)\npublic class Product{\n    private int code; \n    private String name;\n    private double price;\n    private byte[] image;\n    private String image1;\n    // For sort.\n    private Date createDate;\n    @ManyToOne\n    @JoinColumn(name = &quot;categoryId&quot;)\n    private Category category;\n}\n</code></pre>\n<p>Category.java</p>\n<pre><code>@Entity\n@Table(name = &quot;Categorys&quot;)\npublic class Category {\n    @Id\n    @GeneratedValue\n    private int categoryId;\n    private String categoryName;\n    private String categoryUrl;\n    @Column(name = &quot;categoryStatus&quot;, length = 1, nullable = false)\n    private boolean categoryStatus;\n    @OneToMany(fetch = FetchType.LAZY)\n    @JoinColumn(name = &quot;categoryId&quot;)\n    private List&lt;Product&gt; listProduct;\n}\n</code></pre>\n<p>I want to list all rows Products by category id. but I don't know how to query by Hibernate\nHere's an example tool that I'm working on but it doesn't work.\nsomeone please help me</p>\n<pre><code>@Override\npublic List&lt;Product&gt; getListByCategory(int categoryId) {\n    Session session = sessionFactory.getCurrentSession();\n    Query query = session.createQuery(&quot;FROM product WHERE categoryId = categoryId&quot;);\n    query.setLong(&quot;categoryId&quot;, categoryId);\n    List&lt;Product&gt; list = query.list();\n    return list;\n}\n</code></pre>\n"},{"tags":["java","swing","user-interface","scroll"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1637162674,"post_id":70007086,"comment_id":123752846,"body_markdown":"I usually `.pack()` my JFrame before I display it.  Have you tried that?","body":"I usually <code>.pack()</code> my JFrame before I display it.  Have you tried that?"},{"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"score":1,"creation_date":1637162691,"post_id":70007086,"comment_id":123752859,"body_markdown":"`ta.add(scroll)` &lt; this is incorrect. You&#39;re not supposed to add the `JScrollPane` to the `JTextArea`. The two lines above are also incorrect. Don&#39;t add the `JTextArea` to your frame, as the text area is inside the viewport of the `JScrollPane` (since you supplied it to the scrollpanes constructor). The correct approach would be to add `scroll` to your `JFrame`, e.g. `frame.add(BorderLayout.CENTER, scroll)`.","body":"<code>ta.add(scroll)</code> &lt; this is incorrect. You&#39;re not supposed to add the <code>JScrollPane</code> to the <code>JTextArea</code>. The two lines above are also incorrect. Don&#39;t add the <code>JTextArea</code> to your frame, as the text area is inside the viewport of the <code>JScrollPane</code> (since you supplied it to the scrollpanes constructor). The correct approach would be to add <code>scroll</code> to your <code>JFrame</code>, e.g. <code>frame.add(BorderLayout.CENTER, scroll)</code>."}],"answers":[{"tags":[],"owner":{"account_id":15856821,"reputation":2451,"user_id":11441011,"display_name":"maloomeister"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637217077,"creation_date":1637163226,"answer_id":70007276,"question_id":70007086,"body_markdown":"These lines are the issue:\r\n```java\r\nframe.getContentPane().add(BorderLayout.CENTER, ta);\r\nframe.add(ta);\r\nta.add(scroll);\r\n```\r\nDon&#39;t add the `JTextArea` to your frame, as the `JTextArea` is already correctly configured to be inside the viewport of the `JScrollPane` (since you supplied it to the scrollpanes constructor earlier). Also you&#39;re not supposed to add the `JScrollPane` to the `JTextArea`, because you want it the other way around. \r\nThe correct approach would be to remove the mentioned lines and to simply add `scroll` to your `JFrame`, like so:\r\n\r\n```java\r\nframe.add(scroll, BorderLayout.CENTER);\r\n```\r\n\r\nSidenote: \r\n- as mentioned in the comments, consider calling `pack()` on your frame before setting it visible, to size the frame and its components correctly.\r\n\r\n","title":"Scroll for GUI not working the way I want it to","body":"<p>These lines are the issue:</p>\n<pre class=\"lang-java prettyprint-override\"><code>frame.getContentPane().add(BorderLayout.CENTER, ta);\nframe.add(ta);\nta.add(scroll);\n</code></pre>\n<p>Don't add the <code>JTextArea</code> to your frame, as the <code>JTextArea</code> is already correctly configured to be inside the viewport of the <code>JScrollPane</code> (since you supplied it to the scrollpanes constructor earlier). Also you're not supposed to add the <code>JScrollPane</code> to the <code>JTextArea</code>, because you want it the other way around.\nThe correct approach would be to remove the mentioned lines and to simply add <code>scroll</code> to your <code>JFrame</code>, like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>frame.add(scroll, BorderLayout.CENTER);\n</code></pre>\n<p>Sidenote:</p>\n<ul>\n<li>as mentioned in the comments, consider calling <code>pack()</code> on your frame before setting it visible, to size the frame and its components correctly.</li>\n</ul>\n"}],"owner":{"account_id":22593680,"reputation":22,"user_id":16776361,"display_name":"Hatsune Miku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70007276,"answer_count":1,"score":0,"last_activity_date":1637217077,"creation_date":1637162492,"question_id":70007086,"body_markdown":"I am trying to get this textarea on this GUI to have a scroll, but when I try to add it either the text area covers the scroll bar or vice versa. No errors. Code:\r\n```java\r\n        // Text Area at the Center\r\n        JTextArea ta = new JTextArea ( 16, 58 );\r\n        ta.setEditable ( false ); // set textArea non-editable\r\n        JScrollPane scroll = new JScrollPane ( ta );\r\n        scroll.setVerticalScrollBarPolicy ( ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS );\r\n        \r\n        send.addActionListener(new ActionListener() {\r\n            public void actionPerformed(ActionEvent send) {\r\n            \tString data = tf.getText();\r\n            \tta.append(&quot;You: &quot; + data + &quot;\\n&quot;);\r\n            \ttf.setText(&quot;&quot;);\r\n                System.out.println(data);\r\n            }\r\n        });\r\n        \r\n        //Adding Components to the frame.\r\n        frame.getContentPane().add(BorderLayout.SOUTH, panel);\r\n        frame.getContentPane().add(BorderLayout.CENTER, ta);\r\n        frame.add(ta);\r\n        ta.add(scroll);\r\n        frame.setVisible(true);\r\n```","title":"Scroll for GUI not working the way I want it to","body":"<p>I am trying to get this textarea on this GUI to have a scroll, but when I try to add it either the text area covers the scroll bar or vice versa. No errors. Code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        // Text Area at the Center\n        JTextArea ta = new JTextArea ( 16, 58 );\n        ta.setEditable ( false ); // set textArea non-editable\n        JScrollPane scroll = new JScrollPane ( ta );\n        scroll.setVerticalScrollBarPolicy ( ScrollPaneConstants.VERTICAL_SCROLLBAR_ALWAYS );\n        \n        send.addActionListener(new ActionListener() {\n            public void actionPerformed(ActionEvent send) {\n                String data = tf.getText();\n                ta.append(&quot;You: &quot; + data + &quot;\\n&quot;);\n                tf.setText(&quot;&quot;);\n                System.out.println(data);\n            }\n        });\n        \n        //Adding Components to the frame.\n        frame.getContentPane().add(BorderLayout.SOUTH, panel);\n        frame.getContentPane().add(BorderLayout.CENTER, ta);\n        frame.add(ta);\n        ta.add(scroll);\n        frame.setVisible(true);\n</code></pre>\n"},{"tags":["java","encapsulation","getter-setter"],"answers":[{"tags":[],"owner":{"account_id":342531,"reputation":254999,"user_id":673730,"accept_rate":89,"display_name":"Luchian Grigore"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1327392908,"creation_date":1327392908,"answer_id":8983733,"question_id":8983709,"body_markdown":"I can think of several reasons:\r\n\r\n- you want to prevent future public access.\r\n\r\nIf a different programmer sees your code and wants access to a variable, but there are no setters and getters, he might think you just forgot about them, and add them themselves. However, if you declare them as `private`, it&#39;s a statement of intent, saying *I don&#39;t want these variables to be changed or accessed from the outside*.\r\n\r\n- you want to associate setting and getting with other actions\r\n\r\nSay you don&#39;t want `public` accessors. But maybe you want a count of how many times a private variable is changed. It&#39;s easier to use a setter rather than incrementing the count every time you access that variable.\r\n\r\n- you want a central access point\r\n\r\nAgain, you don&#39;t want `public` access, but during debugging, you might want to put a breakpoint in every place a `private` member is changed. So instead of setting breakpoints everywhere in the class, you just set one in the accessor.","title":"Why would you declare getters and setters method private?","body":"<p>I can think of several reasons:</p>\n\n<ul>\n<li>you want to prevent future public access.</li>\n</ul>\n\n<p>If a different programmer sees your code and wants access to a variable, but there are no setters and getters, he might think you just forgot about them, and add them themselves. However, if you declare them as <code>private</code>, it's a statement of intent, saying <em>I don't want these variables to be changed or accessed from the outside</em>.</p>\n\n<ul>\n<li>you want to associate setting and getting with other actions</li>\n</ul>\n\n<p>Say you don't want <code>public</code> accessors. But maybe you want a count of how many times a private variable is changed. It's easier to use a setter rather than incrementing the count every time you access that variable.</p>\n\n<ul>\n<li>you want a central access point</li>\n</ul>\n\n<p>Again, you don't want <code>public</code> access, but during debugging, you might want to put a breakpoint in every place a <code>private</code> member is changed. So instead of setting breakpoints everywhere in the class, you just set one in the accessor.</p>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1637216482,"creation_date":1327393982,"answer_id":8983883,"question_id":8983709,"body_markdown":"&gt; That&#39;s exactly opposite of what we are trying to achieve through getters and setters.\r\n\r\nActually, it is not.  The reason for declaring public getters and setters is to hide the fields.  This is done to avoid unwanted coupling; i.e. clients of an API depending on the implementation details of the API.  (That coupling can be problematic for a number of reasons.  For example, dependencies on the types of the fields, the possibility of unexpected changes to the fields.)\r\n\r\nThe reason for declaring the getters and setters *private* is to make the corresponding part of the object&#39;s abstract state (i.e. the values) private.  That&#39;s *largely independent* of the decision to use getters and setters or not to hide the implementation types, prevent *direct* access, etc.\r\n\r\n\r\nWhile the case for using getters and setters is not as strong for private state, there are still tangible benefits in using private getters and/or setters.  For instance:\r\n\r\n  - The private getter/setter methods provide a place for adding extra behavior or error checking code.\r\n\r\n  - They can provide a place for logging state changes or access to the fields.\r\n\r\n  - They can provide a place for adding your debug code while testing.  (Probably not the best way of debugging.)","title":"Why would you declare getters and setters method private?","body":"<blockquote>\n<p>That's exactly opposite of what we are trying to achieve through getters and setters.</p>\n</blockquote>\n<p>Actually, it is not.  The reason for declaring public getters and setters is to hide the fields.  This is done to avoid unwanted coupling; i.e. clients of an API depending on the implementation details of the API.  (That coupling can be problematic for a number of reasons.  For example, dependencies on the types of the fields, the possibility of unexpected changes to the fields.)</p>\n<p>The reason for declaring the getters and setters <em>private</em> is to make the corresponding part of the object's abstract state (i.e. the values) private.  That's <em>largely independent</em> of the decision to use getters and setters or not to hide the implementation types, prevent <em>direct</em> access, etc.</p>\n<p>While the case for using getters and setters is not as strong for private state, there are still tangible benefits in using private getters and/or setters.  For instance:</p>\n<ul>\n<li><p>The private getter/setter methods provide a place for adding extra behavior or error checking code.</p>\n</li>\n<li><p>They can provide a place for logging state changes or access to the fields.</p>\n</li>\n<li><p>They can provide a place for adding your debug code while testing.  (Probably not the best way of debugging.)</p>\n</li>\n</ul>\n"}],"owner":{"account_id":1194554,"reputation":273,"user_id":1166543,"display_name":"Vandan Patel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24592,"favorite_count":0,"down_vote_count":0,"up_vote_count":25,"closed_date":1462603755,"answer_count":2,"score":25,"last_activity_date":1637216482,"creation_date":1327392759,"question_id":8983709,"body_markdown":"I saw a code where getters and setters methods are declared private. I am trying to figure out the logic behind it, and I am really having hard time to understand why would you declare them as private? That&#39;s exactly opposite of what we are trying to achieve through getters and setters.","title":"Why would you declare getters and setters method private?","body":"<p>I saw a code where getters and setters methods are declared private. I am trying to figure out the logic behind it, and I am really having hard time to understand why would you declare them as private? That's exactly opposite of what we are trying to achieve through getters and setters.</p>\n"},{"tags":["java","spring","amazon-web-services","spring-batch","aws-batch"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1637216488,"post_id":70015094,"comment_id":123767974,"body_markdown":"Your `PublishSnsTopic` is wrong. The `@PostConstruct` gets run as soon as the job is instantiated so it runs directly. You shouldn&#39;t do all that stuff in an `@PostConstruct` annotated method, it should be in your `execute` method instead.","body":"Your <code>PublishSnsTopic</code> is wrong. The <code>@PostConstruct</code> gets run as soon as the job is instantiated so it runs directly. You shouldn&#39;t do all that stuff in an <code>@PostConstruct</code> annotated method, it should be in your <code>execute</code> method instead."},{"owner":{"account_id":23373869,"reputation":13,"user_id":17444267,"display_name":"Tomodachi"},"score":0,"creation_date":1637218717,"post_id":70015094,"comment_id":123768497,"body_markdown":"I appreciate your help. Thank you very much. I understand what you are saying. \nI had to use @PostConstruct because Autowired fields are not yet available to be used. I will do a bit more research about it. thank you so much again","body":"I appreciate your help. Thank you very much. I understand what you are saying.  I had to use @PostConstruct because Autowired fields are not yet available to be used. I will do a bit more research about it. thank you so much again"}],"owner":{"account_id":23373869,"reputation":13,"user_id":17444267,"display_name":"Tomodachi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637216419,"creation_date":1637214363,"question_id":70015094,"body_markdown":"First of all, thank you for checking out my post. \r\nI would list the techs that are used, what I need to achieve and what is happening.\r\n\r\nServices used:\r\n* Spring Boot in Groovy\r\n* AWS: AWS Batch, S3Bucket, SNS, Parameter Store, CloudFormation\r\n\r\nWhat I need to achieve:\r\n\r\n1. Read two csv files from S3 Bucket(student.csv: id,studentName are columns and score.csv: id,studentId,score)\r\n2. Check who is failed by comparing two files. If students score is below 50, he/she is failed.\r\n3. Create a new csv file in S3 Bucket and store it as failedStudents.csv.\r\n4. Send an email via SNS topic the failedStudents.csv that was just created.\r\n\r\nIn the Spring Batch Config class, I am calling the 1,2,3 as step1 and 4 as step2.\r\n\r\n```\r\n@Bean\r\nStep step1() {\r\n    return this.stepBuilderFactory\r\n                .get(&quot;step1&quot;)\r\n                .&lt;BadStudent, BadStudent&gt;chunk(100)\r\n                .reader(new IteratorItemReader&lt;Student&gt;(this.StudentLoader.Students.iterator()) as ItemReader&lt;? extends BadStudent&gt;)\r\n                .processor(this.studentProcessor as ItemProcessor&lt;? super BadStudent, ? extends BadStudent&gt;)\r\n                .writer(this.csvWriter())\r\n                .build()\r\n}\r\n\r\n@Bean\r\nStep step2() {\r\n    return this.stepBuilderFactory\r\n                .get(&quot;step2&quot;)\r\n                .tasklet(new PublishSnsTopic())\r\n                .build()\r\n}\r\n\r\n@Bean\r\nJob job() {\r\n    return this.jobBuilderFactory\r\n                .get(&quot;scoring-students-batch&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .start(this.step1())\r\n                .next(this.step2())\r\n                .build()\r\n}\r\n```\r\n\r\nItemWriter\r\n```\r\n@Component\r\n@EnableContextResourceLoader\r\nclass BadStudentWriter implements ItemWriter&lt;BadStudent&gt; {\r\n\r\n    @Autowired\r\n    ResourceLoader resourceLoader\r\n\r\n    @Resource\r\n    FileProperties fileProperties\r\n\r\n    WritableResource resource\r\n\r\n    PrintStream writer\r\n\r\n    CSVPrinter csvPrinter\r\n\r\n    @PostConstruct\r\n    void setup() {\r\n        this.resource = this.resourceLoader.getResource(&quot;s3://students/failedStudents.csv&quot;) as WritableResource\r\n        this.writer = new PrintStream(this.resource.outputStream)\r\n        this.csvPrinter = new CSVPrinter(this.writer, CSVFormat.DEFAULT.withDelimiter(&#39;|&#39; as char).withHeader(&#39;id&#39;, &#39;studentsName&#39;, &#39;score&#39;))\r\n    }\r\n\r\n    @Override\r\n    void write(List&lt;? extends BadStudent&gt; items) throws Exception {\r\n        this.csvPrinter.with {CSVPrinter csvPrinter -&gt;\r\n            items.each {BadStudent badStudent -&gt;\r\n                csvPrinter.printRecord(\r\n                        badStudent.id,\r\n                        badStudent.studentsName,\r\n                        badStudent.score\r\n                )\r\n            }\r\n        }\r\n    }\r\n\r\n    @AfterStep\r\n    void aferStep() {\r\n        this.csvPrinter.close()\r\n    }\r\n}\r\n```\r\n\r\nPublishSnsTopic\r\n```\r\n@Configuration\r\n@Service\r\nclass PublishSnsTopic implements Tasklet {\r\n\r\n    @Autowired\r\n    ResourceLoader resourceLoader\r\n\r\n    List&lt;BadStudent&gt; badStudents\r\n\r\n    @Autowired\r\n    FileProperties fileProperties\r\n\r\n    @PostConstruct\r\n    void setup() {\r\n\r\n        String badStudentCSVFileName = &quot;s3://students/failedStudents.csv&quot;\r\n        Reader badStudentReader = new InputStreamReader(\r\n                this.resourceLoader.getResource(badStudentCSVFileName).inputStream\r\n        )\r\n\r\n        this.badStudnets = new CsvToBeanBuilder(badStudentReader)\r\n                .withSeparator((char)&#39;|&#39;)\r\n                .withType(BadStudent)\r\n                .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\r\n                .build()\r\n                .parse()\r\n\r\n        String messageBody = &quot;&quot;\r\n        messageBody += this.badStudents.collect {it -&gt; return &quot;${it.id}&quot;}\r\n\r\n        SnsClient snsClient = SnsClient.builder().build()\r\n        if(snsClient) {\r\n            publishTopic(snsClient, messageBody, this.fileProperties.topicArn)\r\n            snsClient.close()\r\n        }\r\n    }\r\n\r\n    void publishTopic(SnsClient snsClient, String message, String arn) {\r\n        try {\r\n            PublishRequest request = PublishRequest.builder()\r\n                                        .message(message)\r\n                                        .topicArn(arn)\r\n                                        .build()\r\n\r\n            PublishResponse result = snsClient.publish(request)\r\n\r\n        } catch (SnsException e) {\r\n          log.error &quot;SOMETHING WENT WRONG&quot;\r\n        }\r\n    }\r\n\r\n    @Override\r\n    RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\r\n        return RepeatStatus.FINISHED\r\n    }\r\n}\r\n```\r\n\r\nThe Issue here is that, while step 1 is executing step2 also gets executed.\r\nAnd it would lead to serious problem as \r\n\r\n\r\n1. As this batch job runs everyday. Lets say today is Tuesday,  the `failedStudents.csv` is generated and stored fine. However while it is also running step2 instead of waiting for step1 to be done, step2 is send the `failedStudents.csv` that is generated on Monday. So csv is generated as new dataset. But Step2 is sending a day old students list.     \r\n2. For some reason, if `failedStudents.csv` is not stored in the s3 or turned into Glacier bucket, it would failed the batch job. Because in the Step2 it would crash due to FileNotFound Exception while Step1 is still going on and the `failedStudents.csv` is not created yet.\r\n \r\nThis is my first AWS and Spring Batch Project and so far, Step1 is working great perfectly. But I am guessing Step2 has a problem,\r\n\r\nI appreciate reading my long post. \r\nI would be very happy if anyone could answer or help me with this problem.\r\nI have been fixing PublishSnsTopic and `ItemWriter`, but this is where I am stuck for a while, not sure how to figure this out. \r\n\r\nThank you so much again for reading.\r\n","title":"Why does my spring batch takes step2 while step1 is still going on?","body":"<p>First of all, thank you for checking out my post.\nI would list the techs that are used, what I need to achieve and what is happening.</p>\n<p>Services used:</p>\n<ul>\n<li>Spring Boot in Groovy</li>\n<li>AWS: AWS Batch, S3Bucket, SNS, Parameter Store, CloudFormation</li>\n</ul>\n<p>What I need to achieve:</p>\n<ol>\n<li>Read two csv files from S3 Bucket(student.csv: id,studentName are columns and score.csv: id,studentId,score)</li>\n<li>Check who is failed by comparing two files. If students score is below 50, he/she is failed.</li>\n<li>Create a new csv file in S3 Bucket and store it as failedStudents.csv.</li>\n<li>Send an email via SNS topic the failedStudents.csv that was just created.</li>\n</ol>\n<p>In the Spring Batch Config class, I am calling the 1,2,3 as step1 and 4 as step2.</p>\n<pre><code>@Bean\nStep step1() {\n    return this.stepBuilderFactory\n                .get(&quot;step1&quot;)\n                .&lt;BadStudent, BadStudent&gt;chunk(100)\n                .reader(new IteratorItemReader&lt;Student&gt;(this.StudentLoader.Students.iterator()) as ItemReader&lt;? extends BadStudent&gt;)\n                .processor(this.studentProcessor as ItemProcessor&lt;? super BadStudent, ? extends BadStudent&gt;)\n                .writer(this.csvWriter())\n                .build()\n}\n\n@Bean\nStep step2() {\n    return this.stepBuilderFactory\n                .get(&quot;step2&quot;)\n                .tasklet(new PublishSnsTopic())\n                .build()\n}\n\n@Bean\nJob job() {\n    return this.jobBuilderFactory\n                .get(&quot;scoring-students-batch&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(this.step1())\n                .next(this.step2())\n                .build()\n}\n</code></pre>\n<p>ItemWriter</p>\n<pre><code>@Component\n@EnableContextResourceLoader\nclass BadStudentWriter implements ItemWriter&lt;BadStudent&gt; {\n\n    @Autowired\n    ResourceLoader resourceLoader\n\n    @Resource\n    FileProperties fileProperties\n\n    WritableResource resource\n\n    PrintStream writer\n\n    CSVPrinter csvPrinter\n\n    @PostConstruct\n    void setup() {\n        this.resource = this.resourceLoader.getResource(&quot;s3://students/failedStudents.csv&quot;) as WritableResource\n        this.writer = new PrintStream(this.resource.outputStream)\n        this.csvPrinter = new CSVPrinter(this.writer, CSVFormat.DEFAULT.withDelimiter('|' as char).withHeader('id', 'studentsName', 'score'))\n    }\n\n    @Override\n    void write(List&lt;? extends BadStudent&gt; items) throws Exception {\n        this.csvPrinter.with {CSVPrinter csvPrinter -&gt;\n            items.each {BadStudent badStudent -&gt;\n                csvPrinter.printRecord(\n                        badStudent.id,\n                        badStudent.studentsName,\n                        badStudent.score\n                )\n            }\n        }\n    }\n\n    @AfterStep\n    void aferStep() {\n        this.csvPrinter.close()\n    }\n}\n</code></pre>\n<p>PublishSnsTopic</p>\n<pre><code>@Configuration\n@Service\nclass PublishSnsTopic implements Tasklet {\n\n    @Autowired\n    ResourceLoader resourceLoader\n\n    List&lt;BadStudent&gt; badStudents\n\n    @Autowired\n    FileProperties fileProperties\n\n    @PostConstruct\n    void setup() {\n\n        String badStudentCSVFileName = &quot;s3://students/failedStudents.csv&quot;\n        Reader badStudentReader = new InputStreamReader(\n                this.resourceLoader.getResource(badStudentCSVFileName).inputStream\n        )\n\n        this.badStudnets = new CsvToBeanBuilder(badStudentReader)\n                .withSeparator((char)'|')\n                .withType(BadStudent)\n                .withFieldAsNull(CSVReaderNullFieldIndicator.BOTH)\n                .build()\n                .parse()\n\n        String messageBody = &quot;&quot;\n        messageBody += this.badStudents.collect {it -&gt; return &quot;${it.id}&quot;}\n\n        SnsClient snsClient = SnsClient.builder().build()\n        if(snsClient) {\n            publishTopic(snsClient, messageBody, this.fileProperties.topicArn)\n            snsClient.close()\n        }\n    }\n\n    void publishTopic(SnsClient snsClient, String message, String arn) {\n        try {\n            PublishRequest request = PublishRequest.builder()\n                                        .message(message)\n                                        .topicArn(arn)\n                                        .build()\n\n            PublishResponse result = snsClient.publish(request)\n\n        } catch (SnsException e) {\n          log.error &quot;SOMETHING WENT WRONG&quot;\n        }\n    }\n\n    @Override\n    RepeatStatus execute(StepContribution contribution, ChunkContext chunkContext) throws Exception {\n        return RepeatStatus.FINISHED\n    }\n}\n</code></pre>\n<p>The Issue here is that, while step 1 is executing step2 also gets executed.\nAnd it would lead to serious problem as</p>\n<ol>\n<li>As this batch job runs everyday. Lets say today is Tuesday,  the <code>failedStudents.csv</code> is generated and stored fine. However while it is also running step2 instead of waiting for step1 to be done, step2 is send the <code>failedStudents.csv</code> that is generated on Monday. So csv is generated as new dataset. But Step2 is sending a day old students list.</li>\n<li>For some reason, if <code>failedStudents.csv</code> is not stored in the s3 or turned into Glacier bucket, it would failed the batch job. Because in the Step2 it would crash due to FileNotFound Exception while Step1 is still going on and the <code>failedStudents.csv</code> is not created yet.</li>\n</ol>\n<p>This is my first AWS and Spring Batch Project and so far, Step1 is working great perfectly. But I am guessing Step2 has a problem,</p>\n<p>I appreciate reading my long post.\nI would be very happy if anyone could answer or help me with this problem.\nI have been fixing PublishSnsTopic and <code>ItemWriter</code>, but this is where I am stuck for a while, not sure how to figure this out.</p>\n<p>Thank you so much again for reading.</p>\n"},{"tags":["java","spring","parallel-processing"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":1,"creation_date":1637186059,"post_id":70011900,"comment_id":123762204,"body_markdown":"You can create a custom Spliterator that only splits when `estimateSize() &gt; N`.","body":"You can create a custom Spliterator that only splits when <code>estimateSize() &gt; N</code>."}],"answers":[{"tags":[],"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1637216260,"creation_date":1637216260,"answer_id":70015350,"question_id":70011900,"body_markdown":"Creating different streams based on size doesn&#39;t sound all that bad. Create a helper function and it becomes almost transparent:\r\n\r\n```\r\npublic static &lt;T&gt; Stream&lt;T&gt; selectStream(final Collection&lt;T&gt; coll) {\r\n  return coll.size() &gt; 10000\r\n      ? coll.parallelStream()\r\n      : coll.stream();\r\n}\r\n\r\nselectStream(yourCollection).map(x -&gt; x).collect(toList());\r\n```","title":"Parallel stream java avoid overhead","body":"<p>Creating different streams based on size doesn't sound all that bad. Create a helper function and it becomes almost transparent:</p>\n<pre><code>public static &lt;T&gt; Stream&lt;T&gt; selectStream(final Collection&lt;T&gt; coll) {\n  return coll.size() &gt; 10000\n      ? coll.parallelStream()\n      : coll.stream();\n}\n\nselectStream(yourCollection).map(x -&gt; x).collect(toList());\n</code></pre>\n"}],"owner":{"account_id":3776730,"reputation":829,"user_id":3137368,"accept_rate":83,"display_name":"Martijn Jan Jaap de Bruin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1637216260,"creation_date":1637185118,"question_id":70011900,"body_markdown":"Suppose I have a list I want to iterate parallel over only when the list is bigger than N. This because it will probably give more overhead to do things parallel so I want to limit it to a certain number. Is there a java parallel stream configuration which enables me to do so?\r\n\r\nOf course I can do an if statement checking the size. But it would be cooler if I can configure it somewhere. ","title":"Parallel stream java avoid overhead","body":"<p>Suppose I have a list I want to iterate parallel over only when the list is bigger than N. This because it will probably give more overhead to do things parallel so I want to limit it to a certain number. Is there a java parallel stream configuration which enables me to do so?</p>\n<p>Of course I can do an if statement checking the size. But it would be cooler if I can configure it somewhere.</p>\n"},{"tags":["java","android","calendar"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":3,"creation_date":1637214637,"post_id":70015100,"comment_id":123767572,"body_markdown":"Do not longer use the outdated Calendar API. Change to the new java.time api.","body":"Do not longer use the outdated Calendar API. Change to the new java.time api."},{"owner":{"account_id":446757,"reputation":123,"user_id":839994,"display_name":"D Blacksmith"},"score":2,"creation_date":1637215026,"post_id":70015100,"comment_id":123767666,"body_markdown":"there are chances oldCal and newCal have different milliseconds","body":"there are chances oldCal and newCal have different milliseconds"},{"owner":{"account_id":2994830,"reputation":1,"user_id":2541560,"display_name":"Kayaman"},"score":1,"creation_date":1637215148,"post_id":70015100,"comment_id":123767687,"body_markdown":"Are you **manually** parsing dates using the old Calendar API? It&#39;s 2021, time to [get with the program](https://www.baeldung.com/java-8-date-time-intro). Oh wait, this is android. But surely it&#39;s not stuck on Calendar (or clumsy manual parsing).","body":"Are you <b>manually</b> parsing dates using the old Calendar API? It&#39;s 2021, time to <a href=\"https://www.baeldung.com/java-8-date-time-intro\" rel=\"nofollow noreferrer\">get with the program</a>. Oh wait, this is android. But surely it&#39;s not stuck on Calendar (or clumsy manual parsing)."},{"owner":{"account_id":11392367,"reputation":17,"user_id":8351904,"display_name":"HatmanStack"},"score":0,"creation_date":1637317141,"post_id":70015100,"comment_id":123799608,"body_markdown":"I think you had it right D Blacksmith with Calendar...Have not used LocalDate before but now...Life is good.","body":"I think you had it right D Blacksmith with Calendar...Have not used LocalDate before but now...Life is good."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1637216088,"creation_date":1637216088,"answer_id":70015328,"question_id":70015100,"body_markdown":"# tl;dr\r\n\r\nUse [`java.time.LocalDate`][3] class. \r\n\r\n    LocalDate\r\n    .parse( &quot;2022-01-23&quot; )\r\n    .isAfter(\r\n        LocalDate.of( 2030 , Month.DECEMBER , 31 )\r\n    )\r\n\r\n# Fractional second varies\r\n\r\nTo answer your question directly, as [commented by D Blacksmith][1], you are probably seeing two different values for the fractional second because you call  `java.util.Calendar.getInstance()` twice, two different methods. \r\n\r\nTo look at the bigger picture, you are using *terrible* date-time classes that were years ago supplanted by the modern *java.time* classes defined in JSR 310. Never use `Date`, `Calendar`, `SimpleDateFormat`, and such. \r\n\r\n# *java.time* \r\n\r\nI presume you are trying to compare date-only string values in format of YYYY-MM-DD. If so, then your entire need for writing your `checkDates` method is moot. \r\n\r\nThe format of YYYY-MM-DD is actually the standard format defined by [ISO 8601][2] for textual data-exchange of date-time values. The *java.time* classes use the standard ISO 8601 formats by default when parsing/generating such strings.\r\n\r\n    LocalDate x = LocalDate.parse( &quot;2022-01-23&quot; ) ;\r\n    LocalDate y = LocalDate.of( 2030 , Month.DECEMBER , 31 ) ;\r\n\r\nThe [`LocalDate`][3] class implements [`Comparable`][4], so they know how to sort themselves. And the class offers handy comparison methods: [`isBefore`][5], `isEqual`, and [`isAfter`][6]. \r\n\r\n    boolean isXAfterY = x.isAfter( y ) ;\r\n\r\n## Android\r\n\r\nThe *java.time* functionality is built into Android 26 and later. \r\n\r\nFor earlier Android, modern tooling brings over most of the *java.time* functionality via API desugaring. If that does not do the job, add the [*ThreeTenABP*](https://github.com/JakeWharton/ThreeTenABP) library to your project.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/70015100/java-util-calendar-compareto-not-delivering-consistent-results#comment123767666_70015100\r\n  [2]: https://en.wikipedia.org/wiki/ISO_8601\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#isBefore(java.time.chrono.ChronoLocalDate)\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#isAfter(java.time.chrono.ChronoLocalDate)","title":"Java.util.Calendar compareTo not delivering consistent Results","body":"<h1>tl;dr</h1>\n<p>Use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>java.time.LocalDate</code></a> class.</p>\n<pre><code>LocalDate\n.parse( &quot;2022-01-23&quot; )\n.isAfter(\n    LocalDate.of( 2030 , Month.DECEMBER , 31 )\n)\n</code></pre>\n<h1>Fractional second varies</h1>\n<p>To answer your question directly, as <a href=\"https://stackoverflow.com/questions/70015100/java-util-calendar-compareto-not-delivering-consistent-results#comment123767666_70015100\">commented by D Blacksmith</a>, you are probably seeing two different values for the fractional second because you call  <code>java.util.Calendar.getInstance()</code> twice, two different methods.</p>\n<p>To look at the bigger picture, you are using <em>terrible</em> date-time classes that were years ago supplanted by the modern <em>java.time</em> classes defined in JSR 310. Never use <code>Date</code>, <code>Calendar</code>, <code>SimpleDateFormat</code>, and such.</p>\n<h1><em>java.time</em></h1>\n<p>I presume you are trying to compare date-only string values in format of YYYY-MM-DD. If so, then your entire need for writing your <code>checkDates</code> method is moot.</p>\n<p>The format of YYYY-MM-DD is actually the standard format defined by <a href=\"https://en.wikipedia.org/wiki/ISO_8601\" rel=\"nofollow noreferrer\">ISO 8601</a> for textual data-exchange of date-time values. The <em>java.time</em> classes use the standard ISO 8601 formats by default when parsing/generating such strings.</p>\n<pre><code>LocalDate x = LocalDate.parse( &quot;2022-01-23&quot; ) ;\nLocalDate y = LocalDate.of( 2030 , Month.DECEMBER , 31 ) ;\n</code></pre>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html\" rel=\"nofollow noreferrer\"><code>LocalDate</code></a> class implements <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Comparable.html\" rel=\"nofollow noreferrer\"><code>Comparable</code></a>, so they know how to sort themselves. And the class offers handy comparison methods: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#isBefore(java.time.chrono.ChronoLocalDate)\" rel=\"nofollow noreferrer\"><code>isBefore</code></a>, <code>isEqual</code>, and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/LocalDate.html#isAfter(java.time.chrono.ChronoLocalDate)\" rel=\"nofollow noreferrer\"><code>isAfter</code></a>.</p>\n<pre><code>boolean isXAfterY = x.isAfter( y ) ;\n</code></pre>\n<h2>Android</h2>\n<p>The <em>java.time</em> functionality is built into Android 26 and later.</p>\n<p>For earlier Android, modern tooling brings over most of the <em>java.time</em> functionality via API desugaring. If that does not do the job, add the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"nofollow noreferrer\"><em>ThreeTenABP</em></a> library to your project.</p>\n"}],"owner":{"account_id":11392367,"reputation":17,"user_id":8351904,"display_name":"HatmanStack"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":70015328,"answer_count":1,"score":0,"last_activity_date":1637216088,"creation_date":1637214413,"question_id":70015100,"body_markdown":"```\r\npublic boolean checkDates(String oldDate, String newDate){\r\n        java.util.Calendar oldCal = java.util.Calendar.getInstance();\r\n        java.util.Calendar newCal = java.util.Calendar.getInstance();\r\n        String[] oD = oldDate.split(&quot;-&quot;);\r\n        String[] nD = newDate.split(&quot;-&quot;);\r\n        oldCal.set(Integer.parseInt(oD[0]), Integer.parseInt(oD[1])-1, Integer.parseInt(oD[2]));\r\n        newCal.set(Integer.parseInt(nD[0]), Integer.parseInt(nD[1])-1, Integer.parseInt(nD[2]));\r\n\r\n        if(newCal.compareTo(oldCal) &gt; 0){\r\n             return true;\r\n        }else {\r\n             return false;\r\n        }\r\n```\r\nThat&#39;s the code I&#39;m implementing with varied results for dates on the same day.  Sometimes compareTo delivers a 1 sometimes a 0.  An example print of the dates being compared:\r\n\r\n```\r\noldCal Fri Nov 17 23:30:48 CST 2021\r\nnewCal Fri Nov 17 23:30:48 CST 2021\r\n```\r\nAll of the times have been the same on both the 1 returns and the 0&#39;s.\r\n\r\n","title":"Java.util.Calendar compareTo not delivering consistent Results","body":"<pre><code>public boolean checkDates(String oldDate, String newDate){\n        java.util.Calendar oldCal = java.util.Calendar.getInstance();\n        java.util.Calendar newCal = java.util.Calendar.getInstance();\n        String[] oD = oldDate.split(&quot;-&quot;);\n        String[] nD = newDate.split(&quot;-&quot;);\n        oldCal.set(Integer.parseInt(oD[0]), Integer.parseInt(oD[1])-1, Integer.parseInt(oD[2]));\n        newCal.set(Integer.parseInt(nD[0]), Integer.parseInt(nD[1])-1, Integer.parseInt(nD[2]));\n\n        if(newCal.compareTo(oldCal) &gt; 0){\n             return true;\n        }else {\n             return false;\n        }\n</code></pre>\n<p>That's the code I'm implementing with varied results for dates on the same day.  Sometimes compareTo delivers a 1 sometimes a 0.  An example print of the dates being compared:</p>\n<pre><code>oldCal Fri Nov 17 23:30:48 CST 2021\nnewCal Fri Nov 17 23:30:48 CST 2021\n</code></pre>\n<p>All of the times have been the same on both the 1 returns and the 0's.</p>\n"},{"tags":["java","jakarta-mail"],"comments":[{"owner":{"account_id":9504657,"reputation":7440,"user_id":7064617,"display_name":"JCompetence"},"score":0,"creation_date":1637060065,"post_id":69984457,"comment_id":123718676,"body_markdown":"No, I dont think there is any other way. You need any of those settings to connect an external client to your outlook mail server.","body":"No, I dont think there is any other way. You need any of those settings to connect an external client to your outlook mail server."},{"owner":{"account_id":29269,"reputation":1995,"user_id":78972,"display_name":"dovetalk"},"score":0,"creation_date":1637165345,"post_id":69984457,"comment_id":123754232,"body_markdown":"Welcome to Stackoverflow. This question, however, is not really a code related question, but more on how to use Outlook APIs to download messages.","body":"Welcome to Stackoverflow. This question, however, is not really a code related question, but more on how to use Outlook APIs to download messages."},{"owner":{"account_id":13925212,"reputation":41,"user_id":10054723,"display_name":"Midhun David"},"score":0,"creation_date":1637215680,"post_id":69984457,"comment_id":123767790,"body_markdown":"Hi @SMA  I was some what able to connect but getting the above error","body":"Hi @SMA  I was some what able to connect but getting the above error"},{"owner":{"account_id":13925212,"reputation":41,"user_id":10054723,"display_name":"Midhun David"},"score":0,"creation_date":1637216106,"post_id":69984457,"comment_id":123767885,"body_markdown":"HI @dovetalk I was some what able to connect but getting the above error","body":"HI @dovetalk I was some what able to connect but getting the above error"}],"owner":{"account_id":13925212,"reputation":41,"user_id":10054723,"display_name":"Midhun David"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1637215920,"creation_date":1637042849,"question_id":69984457,"body_markdown":"Hi I am trying to use java to download attachment&#39;s from the mail which is received on the current date.\r\n\r\nBut while checking for IMAP or POP3 server details to connect it shown as not available. Can any one tell me how to overcome this issue is there any other way to connect?\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/CQetN.png\r\n\r\n\r\nI was some what able to connect but now i am getting below error  \r\n\r\nOK The Microsoft Exchange IMAP4 service is ready. [KJGHFUFJHGKLJYOYRGFJHGFYFTHGFJYTFYJTFAwADEAQwBBADAAMAA1ADIALgBJAE4ARABQAFIARAAwADEALgBQAFIATwBEAC4ATwBVAFQATABPAE8ASwAuAEMATwBNAA==]\r\nB0 CAPABILITY\r\n\r\nCAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\r\nB0 OK CAPABILITY completed.\r\n\r\nDEBUG IMAP: AUTH: PLAIN\r\n\r\nDEBUG IMAP: AUTH: XOAUTH2\r\n\r\nDEBUG IMAP: protocolConnect login, host=outlook.office365.com, user=name@outlook.com, password= non-null\r\n\r\nDEBUG IMAP: AUTHENTICATE PLAIN command trace suppressed\r\n\r\nDEBUG IMAP: AUTHENTICATE PLAIN command result: B1 NO AUTHENTICATE failed.\r\n\r\nException in thread &quot;main&quot; javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\r\n\r\n**Below is the code I used**\r\n\r\n\r\n  \r\n\r\n  \r\n\r\n    import java.io.BufferedReader;\r\n        import java.io.File;\r\n        import java.io.IOException;\r\n        import java.io.InputStreamReader;\r\n        import java.util.Properties;\r\n        \r\n        import javax.mail.Flags;\r\n        import javax.mail.Folder;\r\n        import javax.mail.Session;\r\n        import javax.mail.Store;\r\n        import javax.mail.Message;\r\n        import javax.mail.MessagingException;\r\n        import javax.mail.Multipart;\r\n        import javax.mail.Part;\r\n        import javax.mail.PasswordAuthentication;\r\n        import javax.mail.internet.MimeBodyPart;\r\n        import javax.mail.search.FlagTerm;\r\n        import com.j256.simplemagic.ContentInfo;\r\n        import com.j256.simplemagic.ContentInfoUtil;\r\n        import com.j256.simplemagic.ContentType;\r\n        import org.apache.commons.codec.binary.Base64;\r\n        public class test2 {\r\n        \r\n        \tpublic static void main(String[]args)throws Exception {\r\n        \t\tProperties props = System.getProperties();\r\n        \t\t//String imapProtocol = System.getgetImapSsl() != null &amp;&amp; server.getImapSsl() == true ? &quot;imaps&quot; : &quot;imap&quot;;\r\n        \t    props.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\r\n        \t    props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\r\n        \t    props.setProperty(&quot;mail.imaps.partialfetch&quot;, &quot;false&quot;);\r\n        \t    props.put(&quot;mail.mime.base64.ignoreerrors&quot;, &quot;true&quot;);\r\n        \t    \r\n        \t    //props.put(&quot;mail.imap.auth&quot;, &quot;true&quot;);\r\n        \t     \r\n        \t    Session mailSession = Session.getDefaultInstance(props\r\n        \t    \t\t, \r\n        \t    \t    new javax.mail.Authenticator(){\r\n        \t    \t        protected PasswordAuthentication getPasswordAuthentication() {\r\n        \t    \t            return new PasswordAuthentication(&quot;NAME@OUTLOOK.com&quot;, &quot;PASSWORD&quot;);// Specify the Username and the PassWord\r\n        \t    \t        }\r\n        \t    \t});\r\n        \t    String test = &quot;Workwork112233!&quot;;\r\n                System.out.println(test);\r\n        \t    mailSession.setDebug(true);\r\n        \t   Store store = mailSession.getStore(&quot;imap&quot;);\r\n        \t    store.connect( &quot;outlook.office365.com&quot;,&quot;NAME@OUTLOOK.com&quot;, &quot;PASSWORD&quot;);\r\n        \t        \r\n        \r\n              \r\n        \r\n        \t    Folder folder = store.getFolder(&quot;INBOX&quot;);\r\n        \t    folder.open(Folder.READ_WRITE);\r\n        \r\n        \t    System.out.println(&quot;Total Message:&quot; + folder.getMessageCount());\r\n        \t    System.out.println(&quot;Unread Message:&quot; + folder.getUnreadMessageCount());\r\n        \r\n        \t    Message[] messages = folder.getMessages();\r\n        \r\n        \t    for (Message mail : messages) {\r\n        \t        if (!mail.isSet(Flags.Flag.SEEN)) {\r\n        \r\n        \t            System.out.println(&quot;***************************************************&quot;);\r\n        \t            System.out.println(&quot;MESSAGE : \\n&quot;);\r\n        \r\n        \t            System.out.println(&quot;Subject: &quot; + mail.getSubject());\r\n        \t            System.out.println(&quot;From: &quot; + mail.getFrom()[0]);\r\n        \t            System.out.println(&quot;To: &quot; + mail.getAllRecipients()[0]);\r\n        \t            System.out.println(&quot;Date: &quot; + mail.getReceivedDate());\r\n        \t            System.out.println(&quot;Size: &quot; + mail.getSize());\r\n        \t            System.out.println(&quot;Flags: &quot; + mail.getFlags());\r\n        \t            System.out.println(&quot;ContentType: &quot; + mail.getContentType());\r\n        \t            System.out.println(&quot;Body: \\n&quot; + getEmailBody(mail));\r\n        \t           // System.out.println(&quot;Has Attachments: &quot; + hasAttachments(mail));\r\n        \r\n        \t        }\r\n        \t    }\r\n        \t\t\r\n        \t      \r\n        \t\t}\r\n        \t\r\n        \r\n        \tpublic static  String getEmailBody(Message email) throws IOException, MessagingException {\r\n        \r\n        \t    String line, emailContentEncoded;\r\n        \t    StringBuffer bufferEmailContentEncoded = new StringBuffer();\r\n        \t    BufferedReader reader = new BufferedReader(new InputStreamReader(email.getInputStream()));\r\n        \t    while ((line = reader.readLine()) != null) {\r\n        \t        bufferEmailContentEncoded.append(line);\r\n        \t    }\r\n        \r\n        \t    System.out.println(&quot;**************************************************&quot;);\r\n        \r\n        \t    System.out.println(bufferEmailContentEncoded);\r\n        \r\n        \t    System.out.println(&quot;**************************************************&quot;);\r\n        \r\n        \t    emailContentEncoded = bufferEmailContentEncoded.toString();\r\n        \r\n        \t    if (email.getContentType().toLowerCase().contains(&quot;multipart/related&quot;)) {\r\n        \r\n        \t        emailContentEncoded = emailContentEncoded.substring(emailContentEncoded.indexOf(&quot;base64&quot;) + 6);\r\n        \t        emailContentEncoded = emailContentEncoded.substring(0, emailContentEncoded.indexOf(&quot;Content-Type&quot;) - 1);\r\n        \r\n        \t        System.out.println(emailContentEncoded);\r\n        \r\n        \t        String emailContentDecoded = new String(new Base64().decode(emailContentEncoded.toString().getBytes()));\r\n        \t        return emailContentDecoded;\r\n        \t    }\r\n        \r\n        \t    return emailContentEncoded;\r\n        \r\n        \t}}\r\n        \t\r\n\r\n","title":"How to download attachments from Outlook mail using java without using server settings?","body":"<p>Hi I am trying to use java to download attachment's from the mail which is received on the current date.</p>\n<p>But while checking for IMAP or POP3 server details to connect it shown as not available. Can any one tell me how to overcome this issue is there any other way to connect?\n<a href=\"https://i.stack.imgur.com/CQetN.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/CQetN.png\" alt=\"enter image description here\" /></a></p>\n<p>I was some what able to connect but now i am getting below error</p>\n<p>OK The Microsoft Exchange IMAP4 service is ready. [KJGHFUFJHGKLJYOYRGFJHGFYFTHGFJYTFYJTFAwADEAQwBBADAAMAA1ADIALgBJAE4ARABQAFIARAAwADEALgBQAFIATwBEAC4ATwBVAFQATABPAE8ASwAuAEMATwBNAA==]\nB0 CAPABILITY</p>\n<p>CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\nB0 OK CAPABILITY completed.</p>\n<p>DEBUG IMAP: AUTH: PLAIN</p>\n<p>DEBUG IMAP: AUTH: XOAUTH2</p>\n<p>DEBUG IMAP: protocolConnect login, host=outlook.office365.com, user=name@outlook.com, password= non-null</p>\n<p>DEBUG IMAP: AUTHENTICATE PLAIN command trace suppressed</p>\n<p>DEBUG IMAP: AUTHENTICATE PLAIN command result: B1 NO AUTHENTICATE failed.</p>\n<p>Exception in thread &quot;main&quot; javax.mail.AuthenticationFailedException: AUTHENTICATE failed.</p>\n<p><strong>Below is the code I used</strong></p>\n<pre><code>import java.io.BufferedReader;\n    import java.io.File;\n    import java.io.IOException;\n    import java.io.InputStreamReader;\n    import java.util.Properties;\n    \n    import javax.mail.Flags;\n    import javax.mail.Folder;\n    import javax.mail.Session;\n    import javax.mail.Store;\n    import javax.mail.Message;\n    import javax.mail.MessagingException;\n    import javax.mail.Multipart;\n    import javax.mail.Part;\n    import javax.mail.PasswordAuthentication;\n    import javax.mail.internet.MimeBodyPart;\n    import javax.mail.search.FlagTerm;\n    import com.j256.simplemagic.ContentInfo;\n    import com.j256.simplemagic.ContentInfoUtil;\n    import com.j256.simplemagic.ContentType;\n    import org.apache.commons.codec.binary.Base64;\n    public class test2 {\n    \n        public static void main(String[]args)throws Exception {\n            Properties props = System.getProperties();\n            //String imapProtocol = System.getgetImapSsl() != null &amp;&amp; server.getImapSsl() == true ? &quot;imaps&quot; : &quot;imap&quot;;\n            props.setProperty(&quot;mail.store.protocol&quot;, &quot;imap&quot;);\n            props.setProperty(&quot;mail.imap.ssl.enable&quot;, &quot;true&quot;);\n            props.setProperty(&quot;mail.imaps.partialfetch&quot;, &quot;false&quot;);\n            props.put(&quot;mail.mime.base64.ignoreerrors&quot;, &quot;true&quot;);\n            \n            //props.put(&quot;mail.imap.auth&quot;, &quot;true&quot;);\n             \n            Session mailSession = Session.getDefaultInstance(props\n                    , \n                    new javax.mail.Authenticator(){\n                        protected PasswordAuthentication getPasswordAuthentication() {\n                            return new PasswordAuthentication(&quot;NAME@OUTLOOK.com&quot;, &quot;PASSWORD&quot;);// Specify the Username and the PassWord\n                        }\n                });\n            String test = &quot;Workwork112233!&quot;;\n            System.out.println(test);\n            mailSession.setDebug(true);\n           Store store = mailSession.getStore(&quot;imap&quot;);\n            store.connect( &quot;outlook.office365.com&quot;,&quot;NAME@OUTLOOK.com&quot;, &quot;PASSWORD&quot;);\n                \n    \n          \n    \n            Folder folder = store.getFolder(&quot;INBOX&quot;);\n            folder.open(Folder.READ_WRITE);\n    \n            System.out.println(&quot;Total Message:&quot; + folder.getMessageCount());\n            System.out.println(&quot;Unread Message:&quot; + folder.getUnreadMessageCount());\n    \n            Message[] messages = folder.getMessages();\n    \n            for (Message mail : messages) {\n                if (!mail.isSet(Flags.Flag.SEEN)) {\n    \n                    System.out.println(&quot;***************************************************&quot;);\n                    System.out.println(&quot;MESSAGE : \\n&quot;);\n    \n                    System.out.println(&quot;Subject: &quot; + mail.getSubject());\n                    System.out.println(&quot;From: &quot; + mail.getFrom()[0]);\n                    System.out.println(&quot;To: &quot; + mail.getAllRecipients()[0]);\n                    System.out.println(&quot;Date: &quot; + mail.getReceivedDate());\n                    System.out.println(&quot;Size: &quot; + mail.getSize());\n                    System.out.println(&quot;Flags: &quot; + mail.getFlags());\n                    System.out.println(&quot;ContentType: &quot; + mail.getContentType());\n                    System.out.println(&quot;Body: \\n&quot; + getEmailBody(mail));\n                   // System.out.println(&quot;Has Attachments: &quot; + hasAttachments(mail));\n    \n                }\n            }\n            \n              \n            }\n        \n    \n        public static  String getEmailBody(Message email) throws IOException, MessagingException {\n    \n            String line, emailContentEncoded;\n            StringBuffer bufferEmailContentEncoded = new StringBuffer();\n            BufferedReader reader = new BufferedReader(new InputStreamReader(email.getInputStream()));\n            while ((line = reader.readLine()) != null) {\n                bufferEmailContentEncoded.append(line);\n            }\n    \n            System.out.println(&quot;**************************************************&quot;);\n    \n            System.out.println(bufferEmailContentEncoded);\n    \n            System.out.println(&quot;**************************************************&quot;);\n    \n            emailContentEncoded = bufferEmailContentEncoded.toString();\n    \n            if (email.getContentType().toLowerCase().contains(&quot;multipart/related&quot;)) {\n    \n                emailContentEncoded = emailContentEncoded.substring(emailContentEncoded.indexOf(&quot;base64&quot;) + 6);\n                emailContentEncoded = emailContentEncoded.substring(0, emailContentEncoded.indexOf(&quot;Content-Type&quot;) - 1);\n    \n                System.out.println(emailContentEncoded);\n    \n                String emailContentDecoded = new String(new Base64().decode(emailContentEncoded.toString().getBytes()));\n                return emailContentDecoded;\n            }\n    \n            return emailContentEncoded;\n    \n        }}\n        \n</code></pre>\n"},{"tags":["java","hbase","hbase-client"],"answers":[{"tags":[],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1637215822,"creation_date":1637215822,"answer_id":70015291,"question_id":69294175,"body_markdown":"we were not setting HBASE_CLIENT_IPC_POOL_SIZE, by default it was 1.\r\n\r\nAfter setting it to 3, we did not see the issue anymore.","title":"Hbase batch get stuck in waitUntilDone AsyncProcess.java","body":"<p>we were not setting HBASE_CLIENT_IPC_POOL_SIZE, by default it was 1.</p>\n<p>After setting it to 3, we did not see the issue anymore.</p>\n"}],"owner":{"account_id":4821703,"reputation":5934,"user_id":3892213,"accept_rate":80,"display_name":"best wishes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":372,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70015291,"answer_count":1,"score":0,"last_activity_date":1637215822,"creation_date":1632372506,"question_id":69294175,"body_markdown":"I am using HBase client Hbase client 1.4.13 (the issue was there in 1.4.10 as well). One host randomly starts misbehaving and does not return data from hbase. I took the thread dump and many threads are stuck in \r\n\r\n```\r\nstackTrace:\r\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\r\nat java.lang.Object.wait(Native Method)\r\nat org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1767)\r\n- locked &lt;0x000000043b004280&gt; (a java.util.concurrent.atomic.AtomicLong)\r\nat org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1733)\r\nat org.apache.hadoop.hbase.client.HTable.batch(HTable.java:906)\r\nat org.apache.hadoop.hbase.client.HTable.existsAll(HTable.java:1440)\r\nat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)\r\nat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)\r\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)\r\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\r\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)\r\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\r\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\r\nat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\r\nat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\r\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\r\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\r\nat rx.internal.operators.OperatorSubscribeOn$1.call(OperatorSubscribeOn.java:94)\r\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56)\r\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47)\r\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69)\r\nat rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\r\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\r\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\r\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\nat java.lang.Thread.run(Thread.java:748)\r\n```\r\n\r\nI check connection stats using netstat, all the hbase connections were in ESTABLISHED state. The source code is available [here][1]. Hbase server is 2.X\r\n\r\n\r\n  [1]: https://github.com/apache/hbase/blob/rel/1.4.13/hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java","title":"Hbase batch get stuck in waitUntilDone AsyncProcess.java","body":"<p>I am using HBase client Hbase client 1.4.13 (the issue was there in 1.4.10 as well). One host randomly starts misbehaving and does not return data from hbase. I took the thread dump and many threads are stuck in</p>\n<pre><code>stackTrace:\njava.lang.Thread.State: TIMED_WAITING (on object monitor)\nat java.lang.Object.wait(Native Method)\nat org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1767)\n- locked &lt;0x000000043b004280&gt; (a java.util.concurrent.atomic.AtomicLong)\nat org.apache.hadoop.hbase.client.AsyncProcess$AsyncRequestFutureImpl.waitUntilDone(AsyncProcess.java:1733)\nat org.apache.hadoop.hbase.client.HTable.batch(HTable.java:906)\nat org.apache.hadoop.hbase.client.HTable.existsAll(HTable.java:1440)\nat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:302)\nat com.netflix.hystrix.HystrixCommand$2.call(HystrixCommand.java:298)\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:46)\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:51)\nat rx.internal.operators.OnSubscribeDefer.call(OnSubscribeDefer.java:35)\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\nat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:41)\nat rx.internal.operators.OnSubscribeDoOnEach.call(OnSubscribeDoOnEach.java:30)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:48)\nat rx.internal.operators.OnSubscribeLift.call(OnSubscribeLift.java:30)\nat rx.Observable.unsafeSubscribe(Observable.java:10151)\nat rx.internal.operators.OperatorSubscribeOn$1.call(OperatorSubscribeOn.java:94)\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:56)\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction$1.call(HystrixContexSchedulerAction.java:47)\nat com.netflix.hystrix.strategy.concurrency.HystrixContexSchedulerAction.call(HystrixContexSchedulerAction.java:69)\nat rx.internal.schedulers.ScheduledAction.run(ScheduledAction.java:55)\nat java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)\nat java.util.concurrent.FutureTask.run(FutureTask.java:266)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:748)\n</code></pre>\n<p>I check connection stats using netstat, all the hbase connections were in ESTABLISHED state. The source code is available <a href=\"https://github.com/apache/hbase/blob/rel/1.4.13/hbase-client/src/main/java/org/apache/hadoop/hbase/client/AsyncProcess.java\" rel=\"nofollow noreferrer\">here</a>. Hbase server is 2.X</p>\n"},{"tags":["java","spring-boot","spring-webclient"],"comments":[{"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"score":0,"creation_date":1637204915,"post_id":70013996,"comment_id":123765974,"body_markdown":"Please edit the question including the API that you are trying to integrate.","body":"Please edit the question including the API that you are trying to integrate."},{"owner":{"account_id":22496016,"reputation":33,"user_id":16692982,"display_name":"Sang Kim"},"score":0,"creation_date":1637205182,"post_id":70013996,"comment_id":123766013,"body_markdown":"edited with the target api!","body":"edited with the target api!"}],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1637215283,"creation_date":1637215283,"answer_id":70015207,"question_id":70013996,"body_markdown":"You cannot use two `@RequestBody`. It can bind to a single object only. The expected way to do that is to create a wrapper DTO containing all the relevant data:\r\n\r\n    public class TransReqDto {\r\n    \r\n      private TransReqDto1 transReqDto1;\r\n      private TransReqDto2 transReqDto2;\r\n    //...\r\n    }\r\n\r\n","title":"Using BodyInserters to pass parameter with webClient","body":"<p>You cannot use two <code>@RequestBody</code>. It can bind to a single object only. The expected way to do that is to create a wrapper DTO containing all the relevant data:</p>\n<pre><code>public class TransReqDto {\n\n  private TransReqDto1 transReqDto1;\n  private TransReqDto2 transReqDto2;\n//...\n}\n</code></pre>\n"}],"owner":{"account_id":22496016,"reputation":33,"user_id":16692982,"display_name":"Sang Kim"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70015207,"answer_count":1,"score":0,"last_activity_date":1637215283,"creation_date":1637203901,"question_id":70013996,"body_markdown":"There is my code.\r\n\r\n\r\n    public Mono&lt;RespDto&gt; function(TransReqDto1 reqDto1, TransReqDto2 reqDto2, String token) {\r\n\r\n        MultipartBodyBuilder builder = new MultipartBodyBuilder();\r\n        builder.part(&quot;TransReqDto1&quot;, reqDto1);\r\n        builder.part(&quot;TransReqDto2&quot;, reqDto2);\r\n\r\n        MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt; parts = builder.build();\r\n\r\n        LinkedMultiValueMap map = new LinkedMultiValueMap();\r\n        map.add(&quot;TransReqDto1&quot;, reqDto1);\r\n        map.add(&quot;TransReqDto2&quot;, reqDto2);\r\n\r\n        return\r\n                client.post()\r\n                        .uri(&quot;/api&quot;)\r\n                        .body(BodyInserters.fromValue(reqDto1))\r\n                        .headers(h -&gt; h.setBearerAuth(token.split(&quot; &quot;)[1]))\r\n                        .retrieve()\r\n                        .bodyToMono(RespDto.class);\r\n           \r\n    }\r\n\r\nMy probelm is that I need to send both reqDto1 &amp; reqDto2. I&#39;ve successfully sent reqDto1 with the code above but I can&#39;t figure out a way to send two objects.\r\nTried MultipartBodybuild and MultiValueMap but both are returning error from the target API. Please give me some hints!! Thank you\r\n\r\n\r\n\r\nHere is the API I am trying to call!\r\n\r\n    @PostMapping(&quot;&quot;)\r\n    @ApiOperation(value = &quot;test&quot;, notes = &quot;test&quot;)\r\n    public Mono&lt;?&gt; transPost(@Valid @RequestBody TransReqDto1 reqDto1,\r\n                             @Valid @RequestBody TransReqDto2 reqDto2) {\r\n        return testService.function(reqDto1, reqDto2);\r\n    }","title":"Using BodyInserters to pass parameter with webClient","body":"<p>There is my code.</p>\n<pre><code>public Mono&lt;RespDto&gt; function(TransReqDto1 reqDto1, TransReqDto2 reqDto2, String token) {\n\n    MultipartBodyBuilder builder = new MultipartBodyBuilder();\n    builder.part(&quot;TransReqDto1&quot;, reqDto1);\n    builder.part(&quot;TransReqDto2&quot;, reqDto2);\n\n    MultiValueMap&lt;String, HttpEntity&lt;?&gt;&gt; parts = builder.build();\n\n    LinkedMultiValueMap map = new LinkedMultiValueMap();\n    map.add(&quot;TransReqDto1&quot;, reqDto1);\n    map.add(&quot;TransReqDto2&quot;, reqDto2);\n\n    return\n            client.post()\n                    .uri(&quot;/api&quot;)\n                    .body(BodyInserters.fromValue(reqDto1))\n                    .headers(h -&gt; h.setBearerAuth(token.split(&quot; &quot;)[1]))\n                    .retrieve()\n                    .bodyToMono(RespDto.class);\n       \n}\n</code></pre>\n<p>My probelm is that I need to send both reqDto1 &amp; reqDto2. I've successfully sent reqDto1 with the code above but I can't figure out a way to send two objects.\nTried MultipartBodybuild and MultiValueMap but both are returning error from the target API. Please give me some hints!! Thank you</p>\n<p>Here is the API I am trying to call!</p>\n<pre><code>@PostMapping(&quot;&quot;)\n@ApiOperation(value = &quot;test&quot;, notes = &quot;test&quot;)\npublic Mono&lt;?&gt; transPost(@Valid @RequestBody TransReqDto1 reqDto1,\n                         @Valid @RequestBody TransReqDto2 reqDto2) {\n    return testService.function(reqDto1, reqDto2);\n}\n</code></pre>\n"},{"tags":["java","macos"],"answers":[{"tags":[],"owner":{"account_id":137237,"reputation":13989,"user_id":341291,"accept_rate":76,"display_name":"Axel"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1637214955,"creation_date":1589696829,"answer_id":61847827,"question_id":61847716,"body_markdown":"Sorry, I just saw what&#39;s wrong...\r\n\r\nThere used to be an `apt` tool in Java, but it&#39;s gone now. Your mistake is using the linux command line. On many linux systems, another tool called `apt` is used for installing software.\r\n\r\nCheck the `npm` documentation on how to install `npm` on your Mac, as there are different ways to do it.\r\n\r\nOnce `npm` is installed, run `sudo npm install -g express-generator` (no `apt` here).\r\n\r\n- **Explanation of the error message**\r\n\r\n    The Java apt-tool was [removed][1] in JDK 8. But as JAVA_HOME/bin is normally not on your PATH on Mac, apple provides simple wrappers for all the commands under JAVA_HOME. There still is such a wrapper for `apt` that tries to run a program with the same name from your Java installation. That&#39;s why you get that error message.\r\n\r\n- **conflict between the pre-installed macOS Java-Version and the Orcalce Java-Version:**\r\n\r\n    Apple [stopped pre-installing Java in macOS 10.7][2] so this should not be an issue.\r\n\r\n- **difference between java_home and JAVA_HOME:**\r\n    \r\n    JAVA_HOME is an environment variable that points to your Java installation. `java_home` is a utility program in macOS that makes it easier to correctly set up your JAVA_HOME by listing installed Java versions and the values to use for JAVA_HOME.\r\n\r\n  [1]: https://openjdk.java.net/jeps/117\r\n  [2]: https://apple.stackexchange.com/questions/102466/does-java-come-pre-installed-on-mac-os-x-10-7-10-8-and-beyond/102548","title":"Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/...&quot;","body":"<p>Sorry, I just saw what's wrong...</p>\n<p>There used to be an <code>apt</code> tool in Java, but it's gone now. Your mistake is using the linux command line. On many linux systems, another tool called <code>apt</code> is used for installing software.</p>\n<p>Check the <code>npm</code> documentation on how to install <code>npm</code> on your Mac, as there are different ways to do it.</p>\n<p>Once <code>npm</code> is installed, run <code>sudo npm install -g express-generator</code> (no <code>apt</code> here).</p>\n<ul>\n<li><p><strong>Explanation of the error message</strong></p>\n<p>The Java apt-tool was <a href=\"https://openjdk.java.net/jeps/117\" rel=\"nofollow noreferrer\">removed</a> in JDK 8. But as JAVA_HOME/bin is normally not on your PATH on Mac, apple provides simple wrappers for all the commands under JAVA_HOME. There still is such a wrapper for <code>apt</code> that tries to run a program with the same name from your Java installation. That's why you get that error message.</p>\n</li>\n<li><p><strong>conflict between the pre-installed macOS Java-Version and the Orcalce Java-Version:</strong></p>\n<p>Apple <a href=\"https://apple.stackexchange.com/questions/102466/does-java-come-pre-installed-on-mac-os-x-10-7-10-8-and-beyond/102548\">stopped pre-installing Java in macOS 10.7</a> so this should not be an issue.</p>\n</li>\n<li><p><strong>difference between java_home and JAVA_HOME:</strong></p>\n<p>JAVA_HOME is an environment variable that points to your Java installation. <code>java_home</code> is a utility program in macOS that makes it easier to correctly set up your JAVA_HOME by listing installed Java versions and the values to use for JAVA_HOME.</p>\n</li>\n</ul>\n"}],"owner":{"account_id":15643053,"reputation":85,"user_id":11720573,"display_name":"Dawienchi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":61847827,"answer_count":1,"score":0,"last_activity_date":1637214955,"creation_date":1589695915,"question_id":61847716,"body_markdown":"I want to install an NPM express generator:\r\n\r\n`sudo apt npm install -g  express-generator`\r\n\r\nIt throws the following error:\r\n\r\n`Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home/bin/apt&quot; (-1)`\r\n\r\nI installed Java in this path (it&#39;s not in the System/Library/ - maybe thats the issue?):\r\n\r\n&#39;MacintoshSSD/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home&#39;\r\n\r\nMy .bash_profile looks like that:\r\n\r\n`export JAVA_HOME=$(/usr/libexec/java_home)`\r\n\r\nIf I check JAVA_HOME it looks fine:\r\n\r\n`echo $JAVA_HOME\r\n/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home`\r\n\r\n.. and Java version:\r\n\r\n`java --version\r\nopenjdk 14.0.1 2020-04-14\r\nOpenJDK Runtime Environment (build 14.0.1+7)\r\nOpenJDK 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)`\r\n\r\nAny idea why it still can find an exectuable?\r\n\r\nI an other thread I read about a possible conflict between the pre-installed macOS Java-Version and the Orcalce Java-Version [enter link description here][1] but I couldn`t work it out..\r\n\r\nAnd could you explain to me the difference between java_home and JAVA_HOME?\r\n\r\n  [1]: https://stackoverflow.com/a/18144853/11720573","title":"Unable to locate an executable at &quot;/Library/Java/JavaVirtualMachines/...&quot;","body":"<p>I want to install an NPM express generator:</p>\n\n<p><code>sudo apt npm install -g  express-generator</code></p>\n\n<p>It throws the following error:</p>\n\n<p><code>Unable to locate an executable at \"/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home/bin/apt\" (-1)</code></p>\n\n<p>I installed Java in this path (it's not in the System/Library/ - maybe thats the issue?):</p>\n\n<p>'MacintoshSSD/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home'</p>\n\n<p>My .bash_profile looks like that:</p>\n\n<p><code>export JAVA_HOME=$(/usr/libexec/java_home)</code></p>\n\n<p>If I check JAVA_HOME it looks fine:</p>\n\n<p><code>echo $JAVA_HOME\n/Library/Java/JavaVirtualMachines/openjdk-14.0.1.jdk/Contents/Home</code></p>\n\n<p>.. and Java version:</p>\n\n<p><code>java --version\nopenjdk 14.0.1 2020-04-14\nOpenJDK Runtime Environment (build 14.0.1+7)\nOpenJDK 64-Bit Server VM (build 14.0.1+7, mixed mode, sharing)</code></p>\n\n<p>Any idea why it still can find an exectuable?</p>\n\n<p>I an other thread I read about a possible conflict between the pre-installed macOS Java-Version and the Orcalce Java-Version <a href=\"https://stackoverflow.com/a/18144853/11720573\">enter link description here</a> but I couldn`t work it out..</p>\n\n<p>And could you explain to me the difference between java_home and JAVA_HOME?</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1637126494,"post_id":69999253,"comment_id":123739649,"body_markdown":"Didnt you just ask this question yesterday or the date before? Did you delete it and asked again? Sorry, I dont know Selenium, so dont understand the question and cannot answer.","body":"Didnt you just ask this question yesterday or the date before? Did you delete it and asked again? Sorry, I dont know Selenium, so dont understand the question and cannot answer."}],"answers":[{"tags":[],"owner":{"account_id":23339993,"reputation":3,"user_id":17415013,"display_name":"RASHI "},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637214834,"creation_date":1637214834,"answer_id":70015151,"question_id":69999253,"body_markdown":"    public void selectRequiredOn(String date) throws InterruptedException\r\n    \t{\r\n    \t\trequiredOnClick.click();\r\n    \t\tThread.sleep(2000);\r\n    \t\t\r\n    \t\tWebElement calendarRange = createWebElement(&quot;//table[@class=&#39;owl-dt-calendar-table owl-dt-calendar-month-table&#39;]//td[not(contains(@class,&#39; owl-dt-calendar-cell-disabled ng-star-inserted&#39;))]//span[contains(text(),&#39;&quot;+date+&quot;&#39;)]&quot;);\r\n    \t\tThread.sleep(2000);\r\n    \t\t\r\n    \t\ttry\r\n    \t\t{\r\n    \t\tif(calendarRange.isDisplayed())\r\n    \t\t{\t\t\r\n    \t\t\tcalendarRange.click();\r\n    //\t\t\tWebElement dateClick = createWebElement(&quot;//table[@class=&#39;owl-dt-calendar-table owl-dt-calendar-month-table&#39;]//td[not(contains(@class,&#39; owl-dt-calendar-cell-disabled ng-star-inserted&#39;))]//span[contains(text(),&#39;&quot;+date+&quot;&#39;)]&quot;);\r\n    //\t\t    dateClick.click();\r\n    \t\t    Thread.sleep(2000);\r\n    \t\t    calendarSetButtonClick.click();\t\t\r\n    \t\t}\r\n    \t\telse\r\n    \t\t{\r\n    \t\t\tcurrentDate.click();\r\n    \t\t\tThread.sleep(2000);\r\n    \t\t\tcalendarSetButtonClick.click();\r\n    \t\t}\r\n    \t\t}\r\n    \t\tcatch(NoSuchElementException e)\r\n    \t\t{\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\r\n    \t}","title":"How can I find the end date of the calendar control in selenium java","body":"<pre><code>public void selectRequiredOn(String date) throws InterruptedException\n    {\n        requiredOnClick.click();\n        Thread.sleep(2000);\n        \n        WebElement calendarRange = createWebElement(&quot;//table[@class='owl-dt-calendar-table owl-dt-calendar-month-table']//td[not(contains(@class,' owl-dt-calendar-cell-disabled ng-star-inserted'))]//span[contains(text(),'&quot;+date+&quot;')]&quot;);\n        Thread.sleep(2000);\n        \n        try\n        {\n        if(calendarRange.isDisplayed())\n        {       \n            calendarRange.click();\n//          WebElement dateClick = createWebElement(&quot;//table[@class='owl-dt-calendar-table owl-dt-calendar-month-table']//td[not(contains(@class,' owl-dt-calendar-cell-disabled ng-star-inserted'))]//span[contains(text(),'&quot;+date+&quot;')]&quot;);\n//          dateClick.click();\n            Thread.sleep(2000);\n            calendarSetButtonClick.click();     \n        }\n        else\n        {\n            currentDate.click();\n            Thread.sleep(2000);\n            calendarSetButtonClick.click();\n        }\n        }\n        catch(NoSuchElementException e)\n        {\n            \n        }\n        \n    }\n</code></pre>\n"}],"owner":{"account_id":23339993,"reputation":3,"user_id":17415013,"display_name":"RASHI "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1637214834,"creation_date":1637126159,"question_id":69999253,"body_markdown":"This calendar has a date range of 11 days from the current date, how can I check if the date that is entered through the script is between this range and select it else if that entered date mentioned in script not in that date range then current date should be clicked. \r\n\r\nThere is a class that can be used to get the current date (class=&quot;owl-dt-calendar-cell-content owl-dt-calendar-cell-today&quot;)[calendar][1]\r\n\r\n    public void selectRequiredOn(String date)\r\n\t{\r\n\t\trequiredOnClick.click();\r\n\t\tcurrentDate.getText();\r\n\t\t\r\n\t\tif(currentDate.equals(date))\r\n\t\t{\r\n\t\t\tcurrentDate.click();\r\n\t\t}\r\n\r\n  [1]: https://i.stack.imgur.com/kcSsA.png","title":"How can I find the end date of the calendar control in selenium java","body":"<p>This calendar has a date range of 11 days from the current date, how can I check if the date that is entered through the script is between this range and select it else if that entered date mentioned in script not in that date range then current date should be clicked.</p>\n<p>There is a class that can be used to get the current date (class=&quot;owl-dt-calendar-cell-content owl-dt-calendar-cell-today&quot;)<a href=\"https://i.stack.imgur.com/kcSsA.png\" rel=\"nofollow noreferrer\">calendar</a></p>\n<pre><code>public void selectRequiredOn(String date)\n{\n    requiredOnClick.click();\n    currentDate.getText();\n    \n    if(currentDate.equals(date))\n    {\n        currentDate.click();\n    }\n</code></pre>\n"},{"tags":["java","algorithm","recursion","binary-tree","binary-search-tree"],"comments":[{"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"score":0,"creation_date":1637190406,"post_id":70012646,"comment_id":123763423,"body_markdown":"your conditions are wrong. First check if it&#39;s &gt;= to min and &lt;= to max. If so, print and _recurse_ both left and right. Otherwise check if &gt; max, go left, else go right.","body":"your conditions are wrong. First check if it&#39;s &gt;= to min and &lt;= to max. If so, print and <i>recurse</i> both left and right. Otherwise check if &gt; max, go left, else go right."},{"owner":{"account_id":9055663,"reputation":2527,"user_id":6744133,"display_name":"Oli"},"score":0,"creation_date":1637191556,"post_id":70012646,"comment_id":123763649,"body_markdown":"Apart from the problem pointed out by user1984, the `data = data;` in the `Node` constructor is also incorrect - it should be `this.data = data;`.","body":"Apart from the problem pointed out by user1984, the <code>data = data;</code> in the <code>Node</code> constructor is also incorrect - it should be <code>this.data = data;</code>."}],"answers":[{"tags":[],"owner":{"account_id":10524138,"reputation":6113,"user_id":7755665,"display_name":"user1984"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637191278,"creation_date":1637190846,"answer_id":70012740,"question_id":70012646,"body_markdown":"The condition of your current algorithm are wrong. You first check:\r\n```java\r\nif(n.data.compareTo(min) &gt; 0){ // If node data is greater than min recurse through left subtree\r\n            Print(n.left, min, max);\r\n```\r\nWhenever the `node`s data is greater than `min` you recurse through the left subtree. But what if it is greater than `min` and less than `max`? Since this is an `if... else if...` construct the other conditions never hit. So you could potentially miss to print a `node` that is greater than `min` and less than `max`.\r\n\r\nThen the second condition is as follows:\r\n```java\r\n        }else if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // Printing the root if it lies between the given bounderies\r\n            System.out.println(n.data);\r\n```\r\nNow, if the `node` is in the proper interval between `min` and `max`, you are only printing it but don&#39;t recurse left and right. There could be other `node`s that you are missing.\r\n\r\nSo, in general, the conditions are not correctly written. The following code first checks if the `node` is in the `min/max` interval. If so, it traverse left and right and also prints the node. It is an `inorder` traversal, that&#39;s why it first goes left, then prints and then goes right. Then it checks if `node` is less than `min`. In that case it recurses right, and otherwise left.\r\n\r\n\r\n```java\r\npublic void printPart(E min, E max) {\r\n    Print(root, min, max);\r\n}\r\n\r\nprivate void Print(Node&lt;E&gt; n, E min, E max){\r\n\r\n    if(n!=null){\r\n        if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // If node lies in min/max interval: print and recurse both left and right\r\n            Print(n.left, min, max);  // we do an inorder: left, root, right\r\n            System.out.println(n.data);\r\n            Print(n.right, min, max);\r\n        }else if(n.data.compareTo(min) &lt; 0){ // If node less than min, recurse right\r\n            Print(n.right, min, max);\r\n        } else{ // recurse left\r\n            Print(n.left, min, max);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Print BST keys in the given range","body":"<p>The condition of your current algorithm are wrong. You first check:</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(n.data.compareTo(min) &gt; 0){ // If node data is greater than min recurse through left subtree\n            Print(n.left, min, max);\n</code></pre>\n<p>Whenever the <code>node</code>s data is greater than <code>min</code> you recurse through the left subtree. But what if it is greater than <code>min</code> and less than <code>max</code>? Since this is an <code>if... else if...</code> construct the other conditions never hit. So you could potentially miss to print a <code>node</code> that is greater than <code>min</code> and less than <code>max</code>.</p>\n<p>Then the second condition is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        }else if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // Printing the root if it lies between the given bounderies\n            System.out.println(n.data);\n</code></pre>\n<p>Now, if the <code>node</code> is in the proper interval between <code>min</code> and <code>max</code>, you are only printing it but don't recurse left and right. There could be other <code>node</code>s that you are missing.</p>\n<p>So, in general, the conditions are not correctly written. The following code first checks if the <code>node</code> is in the <code>min/max</code> interval. If so, it traverse left and right and also prints the node. It is an <code>inorder</code> traversal, that's why it first goes left, then prints and then goes right. Then it checks if <code>node</code> is less than <code>min</code>. In that case it recurses right, and otherwise left.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void printPart(E min, E max) {\n    Print(root, min, max);\n}\n\nprivate void Print(Node&lt;E&gt; n, E min, E max){\n\n    if(n!=null){\n        if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // If node lies in min/max interval: print and recurse both left and right\n            Print(n.left, min, max);  // we do an inorder: left, root, right\n            System.out.println(n.data);\n            Print(n.right, min, max);\n        }else if(n.data.compareTo(min) &lt; 0){ // If node less than min, recurse right\n            Print(n.right, min, max);\n        } else{ // recurse left\n            Print(n.left, min, max);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":667308,"reputation":46349,"user_id":1161878,"accept_rate":81,"display_name":"Gene"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637214778,"creation_date":1637214778,"answer_id":70015146,"question_id":70012646,"body_markdown":"First get traversal of the entire tree correct:\r\n\r\n```\r\nprivate void Print(Node node) {\r\n  if (node == null) return;\r\n  Print(node.left);\r\n  // Visit the node in BST sorted order here.\r\n  Print(node.right);\r\n}\r\n```\r\n\r\nIn your case the &quot;visit&quot; is to check whether the node&#39;s value lies in the range. \r\n\r\nThere&#39;s not much sense in passing the range through every recursive call. It&#39;s verbose and error prone.  You can make it a class attribute:\r\n```java\r\nclass RangePrinter&lt;E extends Comparable&lt;? super E&gt;&gt; {\r\n  private final E min, max;\r\n\r\n  private RangePrinter(E min, E max) {\r\n    this.min = min; this.max = max;\r\n  }\r\n\r\n  private void print(Node&lt;E&gt; node) {\r\n     if (node == null) return;\r\n     print(node.left);\r\n     if (min.compareTo(node.data) &lt;= 0 &amp;&amp; node.data.compareTo(max) &lt;= 0) \r\n       System.out.println(node.data);\r\n     print(node.right);\r\n  }\r\n\r\n  static &lt;E extends Comparable&lt;? super E&gt;&gt; void Print(Node&lt;E&gt; node, E min, E max) {\r\n    new RangePrinter(min, max).print(node);\r\n  }\r\n}\r\n```\r\n\r\nUse this with `RangerPrinter.Print(root, 3, 42);`.\r\n\r\nNote that this is a naive solution in that you might have a tree with a billion nodes and need to print only 3. This algorithm would visit all billion. A good one would need to visit only a maximum of about 90. But that&#39;s trickier to implement (in Java at least)...\r\n\r\n","title":"Print BST keys in the given range","body":"<p>First get traversal of the entire tree correct:</p>\n<pre><code>private void Print(Node node) {\n  if (node == null) return;\n  Print(node.left);\n  // Visit the node in BST sorted order here.\n  Print(node.right);\n}\n</code></pre>\n<p>In your case the &quot;visit&quot; is to check whether the node's value lies in the range.</p>\n<p>There's not much sense in passing the range through every recursive call. It's verbose and error prone.  You can make it a class attribute:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class RangePrinter&lt;E extends Comparable&lt;? super E&gt;&gt; {\n  private final E min, max;\n\n  private RangePrinter(E min, E max) {\n    this.min = min; this.max = max;\n  }\n\n  private void print(Node&lt;E&gt; node) {\n     if (node == null) return;\n     print(node.left);\n     if (min.compareTo(node.data) &lt;= 0 &amp;&amp; node.data.compareTo(max) &lt;= 0) \n       System.out.println(node.data);\n     print(node.right);\n  }\n\n  static &lt;E extends Comparable&lt;? super E&gt;&gt; void Print(Node&lt;E&gt; node, E min, E max) {\n    new RangePrinter(min, max).print(node);\n  }\n}\n</code></pre>\n<p>Use this with <code>RangerPrinter.Print(root, 3, 42);</code>.</p>\n<p>Note that this is a naive solution in that you might have a tree with a billion nodes and need to print only 3. This algorithm would visit all billion. A good one would need to visit only a maximum of about 90. But that's trickier to implement (in Java at least)...</p>\n"}],"owner":{"account_id":18453936,"reputation":23,"user_id":17419233,"display_name":"Bigggie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":245,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70012740,"answer_count":2,"score":0,"last_activity_date":1637214778,"creation_date":1637190052,"question_id":70012646,"body_markdown":"I am wondering what is wrong with my method of printing the BST keys in the given range [min, max].  Given the class\r\n```\r\npublic class BinarySearchTree&lt;E extends Comparable&lt;? super E&gt;&gt; {\r\n   private Node&lt;E&gt; root;\r\n\t\r\n   // Constructors and other methods\r\n\t\r\n   private static class Node&lt;E&gt; {\r\n      private E data;\r\n      private Node&lt;E&gt; left;\r\n      private Node&lt;E&gt; right;\r\n\t\t\r\n      private Node(E data) {\r\n         data = data;\r\n         left = right = null;\r\n      }\r\n   }\r\n}\r\n```\r\nwhat is wrong with this solution:\r\n```\r\npublic void printPart(E min, E max) {\r\n    Print(root, min, max);\r\n}\r\n\r\nprivate void Print(Node&lt;E&gt; n, E min, E max){\r\n\r\n    if(n!=null){\r\n        if(n.data.compareTo(min) &gt; 0){ // If node data is greater than min recurse through left subtree\r\n            Print(n.left, min, max);\r\n        }else if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // Printing the root if it lies between the given bounderies\r\n            System.out.println(n.data);\r\n        } else{ // recurse through right subtree\r\n            Print(n.right, min, max);\r\n        }\r\n    }\r\n\r\n}\r\n```","title":"Print BST keys in the given range","body":"<p>I am wondering what is wrong with my method of printing the BST keys in the given range [min, max].  Given the class</p>\n<pre><code>public class BinarySearchTree&lt;E extends Comparable&lt;? super E&gt;&gt; {\n   private Node&lt;E&gt; root;\n    \n   // Constructors and other methods\n    \n   private static class Node&lt;E&gt; {\n      private E data;\n      private Node&lt;E&gt; left;\n      private Node&lt;E&gt; right;\n        \n      private Node(E data) {\n         data = data;\n         left = right = null;\n      }\n   }\n}\n</code></pre>\n<p>what is wrong with this solution:</p>\n<pre><code>public void printPart(E min, E max) {\n    Print(root, min, max);\n}\n\nprivate void Print(Node&lt;E&gt; n, E min, E max){\n\n    if(n!=null){\n        if(n.data.compareTo(min) &gt; 0){ // If node data is greater than min recurse through left subtree\n            Print(n.left, min, max);\n        }else if(n.data.compareTo(min) &gt;=0 &amp;&amp; n.data.compareTo(max) &lt;=0){ // Printing the root if it lies between the given bounderies\n            System.out.println(n.data);\n        } else{ // recurse through right subtree\n            Print(n.right, min, max);\n        }\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","spring-security","jwt"],"owner":{"account_id":195074,"reputation":626,"user_id":437767,"accept_rate":62,"display_name":"Venkatesh Goud"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":603,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1637214757,"creation_date":1637169192,"question_id":70008763,"body_markdown":"We have spring mvc application in which we implemented JWT authentication. It is working fine in local environment but getting below error after deploying as a war file in linux server. Facing this issue for few API calls only some APIs are working fine with out any error. \r\n\r\nI have checked policy jars already available\r\n\r\n    /jre/lib/security/policy/unlimited/US_export_policy.jar\r\n    /jre/lib/security/policy/unlimited/local_policy.jar\r\n    /jre/lib/security/policy/limited/US_export_policy.jar\r\n    /jre/lib/security/policy/limited/local_policy.jar\r\n\r\n\r\n    500 Internal Server Error: Root Cause\r\n    \r\n    java.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurity\r\n    \tjavax.crypto.Mac.getInstance(Mac.java:176)\r\n    \tio.jsonwebtoken.impl.crypto.MacSigner.doGetMacInstance(MacSigner.java:64)\r\n    \tio.jsonwebtoken.impl.crypto.MacSigner.getMacInstance(MacSigner.java:53)\r\n    \tio.jsonwebtoken.impl.crypto.MacSigner.sign(MacSigner.java:47)\r\n    \tio.jsonwebtoken.impl.crypto.MacValidator.isValid(MacValidator.java:33)\r\n    \tio.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.isValid(DefaultJwtSignatureValidator.java:61)\r\n    \tio.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:408)\r\n    \tio.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:541)\r\n    \tio.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:601)\r\n    \tio.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)\r\n    \tcom.gsshop.api.jwt.JWTManager.validateJwtToken(JWTManager.java:66)\r\n\r\n","title":"java.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurity","body":"<p>We have spring mvc application in which we implemented JWT authentication. It is working fine in local environment but getting below error after deploying as a war file in linux server. Facing this issue for few API calls only some APIs are working fine with out any error.</p>\n<p>I have checked policy jars already available</p>\n<pre><code>/jre/lib/security/policy/unlimited/US_export_policy.jar\n/jre/lib/security/policy/unlimited/local_policy.jar\n/jre/lib/security/policy/limited/US_export_policy.jar\n/jre/lib/security/policy/limited/local_policy.jar\n\n\n500 Internal Server Error: Root Cause\n\njava.lang.NoClassDefFoundError: Could not initialize class javax.crypto.JceSecurity\n    javax.crypto.Mac.getInstance(Mac.java:176)\n    io.jsonwebtoken.impl.crypto.MacSigner.doGetMacInstance(MacSigner.java:64)\n    io.jsonwebtoken.impl.crypto.MacSigner.getMacInstance(MacSigner.java:53)\n    io.jsonwebtoken.impl.crypto.MacSigner.sign(MacSigner.java:47)\n    io.jsonwebtoken.impl.crypto.MacValidator.isValid(MacValidator.java:33)\n    io.jsonwebtoken.impl.crypto.DefaultJwtSignatureValidator.isValid(DefaultJwtSignatureValidator.java:61)\n    io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:408)\n    io.jsonwebtoken.impl.DefaultJwtParser.parse(DefaultJwtParser.java:541)\n    io.jsonwebtoken.impl.DefaultJwtParser.parseClaimsJws(DefaultJwtParser.java:601)\n    io.jsonwebtoken.impl.ImmutableJwtParser.parseClaimsJws(ImmutableJwtParser.java:173)\n    com.gsshop.api.jwt.JWTManager.validateJwtToken(JWTManager.java:66)\n</code></pre>\n"},{"tags":["java","swing","jtextarea","miglayout"],"comments":[{"owner":{"account_id":2980833,"reputation":319,"user_id":2530822,"display_name":"TotoliciCristian"},"score":0,"creation_date":1401370132,"post_id":2475787,"comment_id":36863840,"body_markdown":"A simple and fast solution you can find here !\r\n\r\nhttp://stackoverflow.com/a/7833439/2530822","body":"A simple and fast solution you can find here !    <a href=\"http://stackoverflow.com/a/7833439/2530822\">stackoverflow.com/a/7833439/2530822</a>"}],"answers":[{"tags":[],"owner":{"account_id":36408,"reputation":45923,"user_id":103842,"accept_rate":92,"display_name":"Kaleb Pederson"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1272559381,"creation_date":1272559381,"answer_id":2739127,"question_id":2475787,"body_markdown":"This is because `JTextArea`&#39;s automatically have their minimum width set anytime they resize.  Details are available on the [MigLayout forum][1].  To roughly summarize, create a panel that contains the `JTextArea` and gives you further control over the resize behavior.  Here&#39;s an excerpt from the above forum post:\r\n\r\n    static class MyPanel extends JPanel implements Scrollable\r\n    {\r\n      MyPanel(LayoutManager layout)\r\n      {\r\n         super(layout);\r\n      }\r\n\r\n      public Dimension getPreferredScrollableViewportSize()\r\n      {\r\n         return getPreferredSize();\r\n      }\r\n\r\n      public int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction)\r\n      {\r\n         return 0;\r\n      }\r\n\r\n      public boolean getScrollableTracksViewportHeight()\r\n      {\r\n         return false;\r\n      }\r\n\r\n      public boolean getScrollableTracksViewportWidth()\r\n      {\r\n         return true;\r\n      }\r\n\r\n      public int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction)\r\n      {\r\n         return 0;\r\n      }\r\n    }\r\n\r\nThen, wherever you would use the JTextArea, use the panel containing the text area:\r\n\r\n    MigLayout thisLayout = new MigLayout(&quot;&quot;, &quot;[][grow]&quot;, &quot;[]20[]&quot;);\r\n    this.setLayout(thisLayout);\r\n    {\r\n        jLabel1 = new JLabel();\r\n        this.add(jLabel1, &quot;cell 0 0&quot;);\r\n        jLabel1.setText(&quot;jLabel1&quot;);\r\n    }\r\n    {\r\n        JPanel textAreaPanel = new MyPanel(new MigLayout(&quot;wrap&quot;, &quot;[grow,fill]&quot;, &quot;[]&quot;));\r\n        jTextArea1 = new JTextArea();\r\n        textAreaPanel.add(jTextArea1);\r\n        this.add(textAreaPanel, &quot;cell 0 1 2 1,grow,wmin 10&quot;);\r\n        jTextArea1.setText(&quot;jTextArea1&quot;);\r\n        jTextArea1.setLineWrap(false);\r\n    } \r\n\r\n\r\n  [1]: http://migcalendar.com/forum/viewtopic.php?f=8&amp;t=1972","title":"MigLayout JTextArea is not shrinking when used with linewrap=true","body":"<p>This is because <code>JTextArea</code>'s automatically have their minimum width set anytime they resize.  Details are available on the <a href=\"http://migcalendar.com/forum/viewtopic.php?f=8&amp;t=1972\" rel=\"noreferrer\">MigLayout forum</a>.  To roughly summarize, create a panel that contains the <code>JTextArea</code> and gives you further control over the resize behavior.  Here's an excerpt from the above forum post:</p>\n\n<pre><code>static class MyPanel extends JPanel implements Scrollable\n{\n  MyPanel(LayoutManager layout)\n  {\n     super(layout);\n  }\n\n  public Dimension getPreferredScrollableViewportSize()\n  {\n     return getPreferredSize();\n  }\n\n  public int getScrollableBlockIncrement(Rectangle visibleRect, int orientation, int direction)\n  {\n     return 0;\n  }\n\n  public boolean getScrollableTracksViewportHeight()\n  {\n     return false;\n  }\n\n  public boolean getScrollableTracksViewportWidth()\n  {\n     return true;\n  }\n\n  public int getScrollableUnitIncrement(Rectangle visibleRect, int orientation, int direction)\n  {\n     return 0;\n  }\n}\n</code></pre>\n\n<p>Then, wherever you would use the JTextArea, use the panel containing the text area:</p>\n\n<pre><code>MigLayout thisLayout = new MigLayout(\"\", \"[][grow]\", \"[]20[]\");\nthis.setLayout(thisLayout);\n{\n    jLabel1 = new JLabel();\n    this.add(jLabel1, \"cell 0 0\");\n    jLabel1.setText(\"jLabel1\");\n}\n{\n    JPanel textAreaPanel = new MyPanel(new MigLayout(\"wrap\", \"[grow,fill]\", \"[]\"));\n    jTextArea1 = new JTextArea();\n    textAreaPanel.add(jTextArea1);\n    this.add(textAreaPanel, \"cell 0 1 2 1,grow,wmin 10\");\n    jTextArea1.setText(\"jTextArea1\");\n    jTextArea1.setLineWrap(false);\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":365141,"reputation":1223,"user_id":709910,"accept_rate":100,"display_name":"Datoraki"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1305573365,"creation_date":1305573365,"answer_id":6022219,"question_id":2475787,"body_markdown":"I just discovered that this can simply be resolved by changing the line\r\n\r\n    this.add(jTextArea1, &quot;cell 0 1 2 1,growx&quot;);\r\n\r\nto\r\n\r\n    this.add(jTextArea1, &quot;cell 0 1 2 1,growx, wmin 10&quot;);\r\n\r\nand no extra panels are needed. Setting an explicit minimum size is what does the trick.\r\n\r\nExplanation: see the note under the section on padding in the MiGLayout whitepaper:\r\n\r\nhttp://www.migcalendar.com/miglayout/whitepaper.html\r\n","title":"MigLayout JTextArea is not shrinking when used with linewrap=true","body":"<p>I just discovered that this can simply be resolved by changing the line</p>\n\n<pre><code>this.add(jTextArea1, \"cell 0 1 2 1,growx\");\n</code></pre>\n\n<p>to</p>\n\n<pre><code>this.add(jTextArea1, \"cell 0 1 2 1,growx, wmin 10\");\n</code></pre>\n\n<p>and no extra panels are needed. Setting an explicit minimum size is what does the trick.</p>\n\n<p>Explanation: see the note under the section on padding in the MiGLayout whitepaper:</p>\n\n<p><a href=\"http://www.migcalendar.com/miglayout/whitepaper.html\" rel=\"noreferrer\">http://www.migcalendar.com/miglayout/whitepaper.html</a></p>\n"}],"owner":{"account_id":106602,"reputation":1085,"user_id":283923,"accept_rate":71,"display_name":"Marcel Menz"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4647,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":2739127,"answer_count":2,"score":11,"last_activity_date":1637213944,"creation_date":1268986219,"question_id":2475787,"body_markdown":"If I use a `JTextArea` with `MigLayout` like this:\r\n\r\n    MigLayout thisLayout = new MigLayout(&quot;&quot;, &quot;[][grow]&quot;, &quot;[]20[]&quot;);\r\n       this.setLayout(thisLayout);\r\n       {\r\n    jLabel1 = new JLabel();\r\n    this.add(jLabel1, &quot;cell 0 0&quot;);\r\n    jLabel1.setText(&quot;jLabel1&quot;);\r\n      }\r\n      {\r\n     jTextArea1 = new JTextArea();\r\n    this.add(jTextArea1, &quot;cell 0 1 2 1,growx&quot;);\r\n    jTextArea1.setText(&quot;jTextArea1&quot;);\r\n    jTextArea1.setLineWrap(false);\r\n       } \r\n\r\nthen the `JTextArea` grows and shrinks perfectly when resizing the window. When I set the linewrap to true the `JTextArea` is not shrinking when I make the window smaller again.","title":"MigLayout JTextArea is not shrinking when used with linewrap=true","body":"<p>If I use a <code>JTextArea</code> with <code>MigLayout</code> like this:</p>\n<pre><code>MigLayout thisLayout = new MigLayout(&quot;&quot;, &quot;[][grow]&quot;, &quot;[]20[]&quot;);\n   this.setLayout(thisLayout);\n   {\njLabel1 = new JLabel();\nthis.add(jLabel1, &quot;cell 0 0&quot;);\njLabel1.setText(&quot;jLabel1&quot;);\n  }\n  {\n jTextArea1 = new JTextArea();\nthis.add(jTextArea1, &quot;cell 0 1 2 1,growx&quot;);\njTextArea1.setText(&quot;jTextArea1&quot;);\njTextArea1.setLineWrap(false);\n   } \n</code></pre>\n<p>then the <code>JTextArea</code> grows and shrinks perfectly when resizing the window. When I set the linewrap to true the <code>JTextArea</code> is not shrinking when I make the window smaller again.</p>\n"},{"tags":["java","c++","opencv","logical-operators"],"comments":[{"owner":{"account_id":2346717,"reputation":39339,"user_id":2056772,"display_name":"berak"},"score":2,"creation_date":1429989014,"post_id":29869464,"comment_id":47864134,"body_markdown":"there are no real bits in opencv, one element(byte) is the smallest item (for a binary Mat it&#39;s either 0 or 255). so , those functions are equivalent to the c++ version.","body":"there are no real bits in opencv, one element(byte) is the smallest item (for a binary Mat it&#39;s either 0 or 255). so , those functions are equivalent to the c++ version."},{"owner":{"account_id":166915,"reputation":2563,"user_id":391376,"accept_rate":56,"display_name":"Latanius"},"score":0,"creation_date":1430025825,"post_id":29869464,"comment_id":47873012,"body_markdown":"... I see. I think I was imagining the existence of some mythical &quot;behaves like C&#39;s non-bitwise OR, elementwise on arrays&quot; operation and thought that operator overloading in the C++ API was doing just that, while in fact that one is bitwise, too. Thanks for pointing it out (would you like to write it up as a to-be-accepted answer?)","body":"... I see. I think I was imagining the existence of some mythical &quot;behaves like C&#39;s non-bitwise OR, elementwise on arrays&quot; operation and thought that operator overloading in the C++ API was doing just that, while in fact that one is bitwise, too. Thanks for pointing it out (would you like to write it up as a to-be-accepted answer?)"}],"answers":[{"tags":[],"owner":{"account_id":3577678,"reputation":11003,"user_id":2986537,"accept_rate":100,"display_name":"Razib"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1429988906,"creation_date":1429988906,"answer_id":29869505,"question_id":29869464,"body_markdown":"This is operator overloading. In java operator overloading is not supported. But if you require something like this you can introduce a method to do this. \r\n\r\nFor example -  \r\n\r\n    Mat a, b;\r\n    Mat c;\r\n    c = Mat.doOperation(a, b);  \r\n\r\nWhere doOperation() is a static method in `Mat` - \r\n\r\n    public static doOperation(Mat a, Mat b){\r\n       //do whatever you want\r\n    }","title":"Logical operations in OpenCV from Java","body":"<p>This is operator overloading. In java operator overloading is not supported. But if you require something like this you can introduce a method to do this. </p>\n\n<p>For example -  </p>\n\n<pre><code>Mat a, b;\nMat c;\nc = Mat.doOperation(a, b);  \n</code></pre>\n\n<p>Where doOperation() is a static method in <code>Mat</code> - </p>\n\n<pre><code>public static doOperation(Mat a, Mat b){\n   //do whatever you want\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1319854,"reputation":839,"user_id":1265892,"display_name":"Marc Stogaitis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1637213818,"creation_date":1637213818,"answer_id":70015040,"question_id":29869464,"body_markdown":"    Mat a, b; // Set these to what you need.\r\n    Mat result = new Mat();\r\n    Core.bitwise_and(a, b, result);\r\n\r\nYou can do the same with Core.bitwise_or(...)","title":"Logical operations in OpenCV from Java","body":"<pre><code>Mat a, b; // Set these to what you need.\nMat result = new Mat();\nCore.bitwise_and(a, b, result);\n</code></pre>\n<p>You can do the same with Core.bitwise_or(...)</p>\n"}],"owner":{"account_id":166915,"reputation":2563,"user_id":391376,"accept_rate":56,"display_name":"Latanius"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":840,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1637213818,"creation_date":1429988684,"question_id":29869464,"body_markdown":"In OpenCV&#39;s C++ API, one can do elementwise boolean operations (and, or, xor, not) using a syntax like this:\r\n\r\n    Mat a, b;\r\n    Mat c = a &amp; b;\r\n\r\nand similarly with the others. I know there is no operator overloading in Java; I&#39;m looking for how the Java API exposes the same functionality that was exposed in C++ in that form. I&#39;ve found the `Core.bitwise_*` functions already, but those are per bit, not per matrix element.","title":"Logical operations in OpenCV from Java","body":"<p>In OpenCV's C++ API, one can do elementwise boolean operations (and, or, xor, not) using a syntax like this:</p>\n\n<pre><code>Mat a, b;\nMat c = a &amp; b;\n</code></pre>\n\n<p>and similarly with the others. I know there is no operator overloading in Java; I'm looking for how the Java API exposes the same functionality that was exposed in C++ in that form. I've found the <code>Core.bitwise_*</code> functions already, but those are per bit, not per matrix element.</p>\n"},{"tags":["java","eclipse","websphere"],"comments":[{"owner":{"account_id":9464449,"reputation":33,"user_id":7037273,"display_name":"Gio"},"score":0,"creation_date":1610620514,"post_id":65715981,"comment_id":116192448,"body_markdown":"EDIT: the start doesn&#39;t work only from eclipse. Using the bat provided byy IBM (startServer.bat), the server starts with no problems.","body":"EDIT: the start doesn&#39;t work only from eclipse. Using the bat provided byy IBM (startServer.bat), the server starts with no problems."}],"answers":[{"tags":[],"owner":{"account_id":6890847,"reputation":2050,"user_id":5294422,"display_name":"F Rowe"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610721083,"creation_date":1610721083,"answer_id":65737959,"question_id":65715981,"body_markdown":"One of the easiest ways to run WebSphere Application Server in Eclipse is to install the [WebSphere Application Server Developer Tools for Eclipse][1] and use the server view to create an instance of a WAS server.  You can then stop and start it from Eclipse.\r\n\r\n\r\n  [1]: https://www.ibm.com/support/knowledgecenter/SSHR6W/com.ibm.websphere.wdt.doc/topics/t_install_wdt_eclipse.html","title":"Eclipse IBM Webshpere startup Could not find or load main class VS","body":"<p>One of the easiest ways to run WebSphere Application Server in Eclipse is to install the <a href=\"https://www.ibm.com/support/knowledgecenter/SSHR6W/com.ibm.websphere.wdt.doc/topics/t_install_wdt_eclipse.html\" rel=\"nofollow noreferrer\">WebSphere Application Server Developer Tools for Eclipse</a> and use the server view to create an instance of a WAS server.  You can then stop and start it from Eclipse.</p>\n"}],"owner":{"account_id":9464449,"reputation":33,"user_id":7037273,"display_name":"Gio"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":700,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1637212583,"creation_date":1610614487,"question_id":65715981,"body_markdown":"When starting up my IBM websphere 8.5 server on eclipse (both neon and 2020) I have the error &quot;Could not find or load main class VS&quot; on the server laucher console.\r\nThen the startup does nothing until the timeout.\r\n\r\nWhat can it be?\r\nThanks a lot for the help","title":"Eclipse IBM Webshpere startup Could not find or load main class VS","body":"<p>When starting up my IBM websphere 8.5 server on eclipse (both neon and 2020) I have the error &quot;Could not find or load main class VS&quot; on the server laucher console.\nThen the startup does nothing until the timeout.</p>\n<p>What can it be?\nThanks a lot for the help</p>\n"},{"tags":["java","arrays","json","gzip"],"answers":[{"tags":[],"owner":{"account_id":7917216,"reputation":19,"user_id":5979280,"display_name":"Madhuri"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1637212279,"creation_date":1637212279,"answer_id":70014840,"question_id":70002591,"body_markdown":"    ObjectMapper objectMapper = new ObjectMapper();\r\n            byte[] bytesToWrite = objectMapper.writeValueAsBytes(payload);\r\n            ByteArrayOutputStream obj=new ByteArrayOutputStream();\r\n            GzipCompressorOutputStream gzip = new GzipCompressorOutputStream(obj);\r\n            gzip.write(bytesToWrite);\r\n            gzip.flush(); \r\n            gzip.close();\r\n            ObjectMetadata omd = new ObjectMetadata();\r\n            omd.setContentType(&quot;application/x-gzip&quot;);\r\n            omd.setContentLength(obj.toByteArray().length);\r\n           \r\n            s3.putObject(bucketName, keyName,  new ByteArrayInputStream(obj.toByteArray()), omd);","title":"how to compress a json list and upload to s3 using java","body":"<pre><code>ObjectMapper objectMapper = new ObjectMapper();\n        byte[] bytesToWrite = objectMapper.writeValueAsBytes(payload);\n        ByteArrayOutputStream obj=new ByteArrayOutputStream();\n        GzipCompressorOutputStream gzip = new GzipCompressorOutputStream(obj);\n        gzip.write(bytesToWrite);\n        gzip.flush(); \n        gzip.close();\n        ObjectMetadata omd = new ObjectMetadata();\n        omd.setContentType(&quot;application/x-gzip&quot;);\n        omd.setContentLength(obj.toByteArray().length);\n       \n        s3.putObject(bucketName, keyName,  new ByteArrayInputStream(obj.toByteArray()), omd);\n</code></pre>\n"}],"owner":{"account_id":7917216,"reputation":19,"user_id":5979280,"display_name":"Madhuri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":454,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1637212279,"creation_date":1637144482,"question_id":70002591,"body_markdown":"I have a JsonNode array that i am trying to compress and upload to s3. below is my code and it is giving me  below error\r\n\r\nom.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.ObjectOutputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)\r\n\r\nin the below code , payload is JsonNode[]\r\n```ByteArrayOutputStream obj=new ByteArrayOutputStream();\r\n            GzipCompressorOutputStream gzip = new GzipCompressorOutputStream(obj);\r\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(gzip);\r\n            for(JsonNode record:payload) {\r\n                objectOutputStream.writeObject(record);\r\n            }\r\n         //   gzip.flush();\r\n        //    gzip.close();\r\n            objectOutputStream.close();\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            //objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\r\n            byte[] bytesToWrite = objectMapper.writeValueAsBytes(objectOutputStream);\r\n            ObjectMetadata omd = new ObjectMetadata();\r\n            //omd.setContentType(&quot;application/x-gzip&quot;);\r\n            omd.setContentLength(bytesToWrite.length);\r\n            //   transferManager.upload(bucketName, keyName, new ByteArrayInputStream(bytesToWrite), omd);\r\n            s3.putObject(bucketName, keyName,  new ByteArrayInputStream(bytesToWrite), omd);\r\n```","title":"how to compress a json list and upload to s3 using java","body":"<p>I have a JsonNode array that i am trying to compress and upload to s3. below is my code and it is giving me  below error</p>\n<p>om.fasterxml.jackson.databind.exc.InvalidDefinitionException: No serializer found for class java.io.ObjectOutputStream and no properties discovered to create BeanSerializer (to avoid exception, disable SerializationFeature.FAIL_ON_EMPTY_BEANS)</p>\n<p>in the below code , payload is JsonNode[]</p>\n<pre><code>            GzipCompressorOutputStream gzip = new GzipCompressorOutputStream(obj);\n            ObjectOutputStream objectOutputStream = new ObjectOutputStream(gzip);\n            for(JsonNode record:payload) {\n                objectOutputStream.writeObject(record);\n            }\n         //   gzip.flush();\n        //    gzip.close();\n            objectOutputStream.close();\n            ObjectMapper objectMapper = new ObjectMapper();\n            //objectMapper.setVisibility(PropertyAccessor.FIELD, JsonAutoDetect.Visibility.ANY);\n            byte[] bytesToWrite = objectMapper.writeValueAsBytes(objectOutputStream);\n            ObjectMetadata omd = new ObjectMetadata();\n            //omd.setContentType(&quot;application/x-gzip&quot;);\n            omd.setContentLength(bytesToWrite.length);\n            //   transferManager.upload(bucketName, keyName, new ByteArrayInputStream(bytesToWrite), omd);\n            s3.putObject(bucketName, keyName,  new ByteArrayInputStream(bytesToWrite), omd);\n</code></pre>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data-elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":5534873,"reputation":18496,"user_id":4393565,"accept_rate":67,"display_name":"P.J.Meisch"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1637212270,"creation_date":1637212270,"answer_id":70014839,"question_id":70012594,"body_markdown":"Passing additional query components as parameter in this way is not possible. If a parameter is a String it will be quoted and escaped before being inserted into the value of the `@Query` annotation. This created String is then used to build a `StringQuery`.\r\n\r\nYou will need to create one of the `Query` variants (see https://docs.spring.io/spring-data/elasticsearch/docs/4.3.0/reference/html/#elasticsearch.operations.queries for details), probably a `StringQuery` and pass that to the `ElasticsearchOperations`.","title":"ElasticsearchRepository - Modify the @Query value","body":"<p>Passing additional query components as parameter in this way is not possible. If a parameter is a String it will be quoted and escaped before being inserted into the value of the <code>@Query</code> annotation. This created String is then used to build a <code>StringQuery</code>.</p>\n<p>You will need to create one of the <code>Query</code> variants (see <a href=\"https://docs.spring.io/spring-data/elasticsearch/docs/4.3.0/reference/html/#elasticsearch.operations.queries\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-data/elasticsearch/docs/4.3.0/reference/html/#elasticsearch.operations.queries</a> for details), probably a <code>StringQuery</code> and pass that to the <code>ElasticsearchOperations</code>.</p>\n"}],"owner":{"account_id":15390740,"reputation":186,"user_id":11103550,"display_name":"Mauricio"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1084,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":70014839,"answer_count":1,"score":0,"last_activity_date":1637212270,"creation_date":1637189612,"question_id":70012594,"body_markdown":"Currently I&#39;m working with a ElasticsearchRepository and Springboot Data. I can write a simple method with a simple Query annotation:\r\n\r\n    @Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;_resource\\&quot;:\\&quot;?0\\&quot;}}]}}&quot;)\r\n    List&lt;Activity&gt; findByResource(String resource);\r\n\r\nHowever, the Activity index might have different, multiple fields (varying from line to line in logstash). So, I might need to add multiple match clauses. I was testing adding a second parameter that would contain the rest of the params (if any) like this:\r\n\r\n    @Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;_resource\\&quot;:\\&quot;?0\\&quot;}}?1]}}&quot;)\r\n    List&lt;Activity&gt; findByResource(String resource, String additionalClauses);\r\n\r\nthe second parameter could look like this:\r\n\r\n    String additional = &quot;,{\\&quot;match\\&quot;:{\\&quot;_method\\&quot;:\\&quot;GET\\&quot;}}\r\n\r\nHowever, I get this exception when calling the endpoint with the service:\r\n\r\n    Elasticsearch exception [type=x_content_parse_exception, reason=[1:60] [bool] failed to parse field [must]]; nested exception is ElasticsearchStatusException[Elasticsearch exception [type=x_content_parse_exception, reason=[1:60] [bool] failed to parse field [must]]]; nested: ElasticsearchException[Elasticsearch exception [type=json_parse_exception, reason=Unexpected character (&#39;\\\\&#39; (code 92)): was expecting double-quote to start field name\\n at [Source: (ByteArrayInputStream); line: 1, column: 62]]];\r\n\r\nI understand that what I was trying to do isn&#39;t not the ideal way to use the @Query annotation (I don&#39;t think it&#39;s even allowed to do what I&#39;m trying), so:\r\n\r\n- Is there a different way to accomplish this?\r\n- Is @Query que only option I have? How could I do it then?\r\n\r\nCheers.","title":"ElasticsearchRepository - Modify the @Query value","body":"<p>Currently I'm working with a ElasticsearchRepository and Springboot Data. I can write a simple method with a simple Query annotation:</p>\n<pre><code>@Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;_resource\\&quot;:\\&quot;?0\\&quot;}}]}}&quot;)\nList&lt;Activity&gt; findByResource(String resource);\n</code></pre>\n<p>However, the Activity index might have different, multiple fields (varying from line to line in logstash). So, I might need to add multiple match clauses. I was testing adding a second parameter that would contain the rest of the params (if any) like this:</p>\n<pre><code>@Query(&quot;{\\&quot;bool\\&quot;:{\\&quot;must\\&quot;:[{\\&quot;match\\&quot;:{\\&quot;_resource\\&quot;:\\&quot;?0\\&quot;}}?1]}}&quot;)\nList&lt;Activity&gt; findByResource(String resource, String additionalClauses);\n</code></pre>\n<p>the second parameter could look like this:</p>\n<pre><code>String additional = &quot;,{\\&quot;match\\&quot;:{\\&quot;_method\\&quot;:\\&quot;GET\\&quot;}}\n</code></pre>\n<p>However, I get this exception when calling the endpoint with the service:</p>\n<pre><code>Elasticsearch exception [type=x_content_parse_exception, reason=[1:60] [bool] failed to parse field [must]]; nested exception is ElasticsearchStatusException[Elasticsearch exception [type=x_content_parse_exception, reason=[1:60] [bool] failed to parse field [must]]]; nested: ElasticsearchException[Elasticsearch exception [type=json_parse_exception, reason=Unexpected character ('\\\\' (code 92)): was expecting double-quote to start field name\\n at [Source: (ByteArrayInputStream); line: 1, column: 62]]];\n</code></pre>\n<p>I understand that what I was trying to do isn't not the ideal way to use the @Query annotation (I don't think it's even allowed to do what I'm trying), so:</p>\n<ul>\n<li>Is there a different way to accomplish this?</li>\n<li>Is @Query que only option I have? How could I do it then?</li>\n</ul>\n<p>Cheers.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8152,"page":1840,"page_size":100}
