{"items":[{"tags":["java","android","firebase","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689772768,"creation_date":1652658956,"answer_id":72252991,"question_id":72252980,"body_markdown":"If neither of the toasts you have in the `onComplete` method are showing, then it may be that you downloaded the `google-services.json` file before you created your database. If that&#39;s the case, the file doesn&#39;t contain the database URL, and thus the client can&#39;t find your database on the server.\r\n\r\nIn that case, you can solve it by:\r\n\r\n* either download an updated `google-services.json` file, replacing the one in your project with it, and rebuilding the app.\r\n* or you can specify the URL for your database in the code, like this: `FirebaseDatabase.getInstance(&quot;https://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference(&quot;Users&quot;)...`\r\n\r\nAlso see: https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677","title":"Firebase Authenticated but not storing in real time database","body":"<p>If neither of the toasts you have in the <code>onComplete</code> method are showing, then it may be that you downloaded the <code>google-services.json</code> file before you created your database. If that's the case, the file doesn't contain the database URL, and thus the client can't find your database on the server.</p>\n<p>In that case, you can solve it by:</p>\n<ul>\n<li>either download an updated <code>google-services.json</code> file, replacing the one in your project with it, and rebuilding the app.</li>\n<li>or you can specify the URL for your database in the code, like this: <code>FirebaseDatabase.getInstance(&quot;https://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/&quot;).getReference(&quot;Users&quot;)...</code></li>\n</ul>\n<p>Also see: <a href=\"https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677\">Google Firebase Real-time Database Not Working as everything is set correctly</a></p>\n"}],"owner":{"account_id":25298932,"reputation":1,"user_id":19123533,"display_name":"Luke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":468,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689772768,"creation_date":1652658673,"question_id":72252980,"body_markdown":"I have a login page which when registering a new user authenticates the data if it is validated and then is meant to store them. However, after the data is authenticated it doesn&#39;t add to the real time database. \r\n\r\nRegister java code:\r\n```\r\n        progressBar.setVisibility(View.VISIBLE);\r\n\r\n        mAuth.createUserWithEmailAndPassword(email, password)\r\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\r\n            @Override\r\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\r\n\r\n                if(task.isSuccessful()){\r\n                    User user = new User(fullname, email);\r\n\r\n                    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\r\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\r\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\r\n                                @Override\r\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\r\n                                    if(task.isSuccessful()){\r\n                                        progressBar.setVisibility(View.GONE);\r\n                                        Toast.makeText(RegisterActivity.this, &quot;User has registered successfully&quot;, Toast.LENGTH_LONG).show();\r\n                                    }\r\n                                    else{\r\n                                        Toast.makeText(RegisterActivity.this, &quot;Failed to register&quot;, Toast.LENGTH_LONG).show();\r\n                                    }\r\n                                    progressBar.setVisibility(View.GONE);\r\n                                }\r\n                            });\r\n                }\r\n                else{\r\n                    Toast.makeText(RegisterActivity.this, &quot;Failed to register22&quot;, Toast.LENGTH_LONG).show();\r\n                    progressBar.setVisibility(View.GONE);\r\n                }\r\n            }\r\n        });\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\nDependencies:\r\n```\r\nimplementation &#39;androidx.appcompat:appcompat:1.4.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.0&#39;\r\n    implementation &#39;androidx.constraintlayout:constraintlayout:2.1.3&#39;\r\n    implementation &#39;com.google.firebase:firebase-auth:21.0.4&#39;\r\n    implementation &#39;com.google.firebase:firebase-database:20.0.5&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n```\r\n\r\nI have set the rules of the database as below:\r\n```\r\n{\r\n  &quot;rules&quot;: {\r\n    &quot;.read&quot;: true,  // 2022-6-14\r\n    &quot;.write&quot;: true,  // 2022-6-14\r\n  }\r\n}\r\n```\r\n\r\nFinally my database also only shows this:\r\n```\r\nhttps://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/\r\n:\r\nnull\r\n```\r\n\r\nDoes anyone have any clue why this is happening?","title":"Firebase Authenticated but not storing in real time database","body":"<p>I have a login page which when registering a new user authenticates the data if it is validated and then is meant to store them. However, after the data is authenticated it doesn't add to the real time database.</p>\n<p>Register java code:</p>\n<pre><code>        progressBar.setVisibility(View.VISIBLE);\n\n        mAuth.createUserWithEmailAndPassword(email, password)\n                .addOnCompleteListener(new OnCompleteListener&lt;AuthResult&gt;() {\n            @Override\n            public void onComplete(@NonNull Task&lt;AuthResult&gt; task) {\n\n                if(task.isSuccessful()){\n                    User user = new User(fullname, email);\n\n                    FirebaseDatabase.getInstance().getReference(&quot;Users&quot;)\n                            .child(FirebaseAuth.getInstance().getCurrentUser().getUid())\n                            .setValue(user).addOnCompleteListener(new OnCompleteListener&lt;Void&gt;() {\n                                @Override\n                                public void onComplete(@NonNull Task&lt;Void&gt; task) {\n                                    if(task.isSuccessful()){\n                                        progressBar.setVisibility(View.GONE);\n                                        Toast.makeText(RegisterActivity.this, &quot;User has registered successfully&quot;, Toast.LENGTH_LONG).show();\n                                    }\n                                    else{\n                                        Toast.makeText(RegisterActivity.this, &quot;Failed to register&quot;, Toast.LENGTH_LONG).show();\n                                    }\n                                    progressBar.setVisibility(View.GONE);\n                                }\n                            });\n                }\n                else{\n                    Toast.makeText(RegisterActivity.this, &quot;Failed to register22&quot;, Toast.LENGTH_LONG).show();\n                    progressBar.setVisibility(View.GONE);\n                }\n            }\n        });\n    }\n}\n</code></pre>\n<p>Dependencies:</p>\n<pre><code>implementation 'androidx.appcompat:appcompat:1.4.1'\n    implementation 'com.google.android.material:material:1.6.0'\n    implementation 'androidx.constraintlayout:constraintlayout:2.1.3'\n    implementation 'com.google.firebase:firebase-auth:21.0.4'\n    implementation 'com.google.firebase:firebase-database:20.0.5'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n</code></pre>\n<p>I have set the rules of the database as below:</p>\n<pre><code>{\n  &quot;rules&quot;: {\n    &quot;.read&quot;: true,  // 2022-6-14\n    &quot;.write&quot;: true,  // 2022-6-14\n  }\n}\n</code></pre>\n<p>Finally my database also only shows this:</p>\n<pre><code>https://hobby-tracker-a914f-default-rtdb.europe-west1.firebasedatabase.app/\n:\nnull\n</code></pre>\n<p>Does anyone have any clue why this is happening?</p>\n"},{"tags":["java","android","firebase-realtime-database"],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689772723,"creation_date":1631048925,"answer_id":69094566,"question_id":69094125,"body_markdown":"My guess is that you downloaded the `google-services.json` file for the first app before you created the database. In that case the file does not contain the database URL, and the SDK can&#39;t guess it. \r\n\r\nThe fact that the local writes and reads still work is (in that case) because Firebase explicitly ensures that the local client sees its own changes, so that the app works even when the device intermittently loses its network connection.\r\n\r\nSo **if** the above is indeed the cause of the problem, you can take either of these steps to fix it:\r\n\r\n* Download an up to date `google-services.json` and use that in your app.\r\n* Explicitly specify the URL of your database in: `FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;URL here&quot;);`\r\n\r\nAlso see: https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677","title":"My app can&#39;t set or receive any values from Firebase, but another app can","body":"<p>My guess is that you downloaded the <code>google-services.json</code> file for the first app before you created the database. In that case the file does not contain the database URL, and the SDK can't guess it.</p>\n<p>The fact that the local writes and reads still work is (in that case) because Firebase explicitly ensures that the local client sees its own changes, so that the app works even when the device intermittently loses its network connection.</p>\n<p>So <strong>if</strong> the above is indeed the cause of the problem, you can take either of these steps to fix it:</p>\n<ul>\n<li>Download an up to date <code>google-services.json</code> and use that in your app.</li>\n<li>Explicitly specify the URL of your database in: <code>FirebaseDatabase database = FirebaseDatabase.getInstance(&quot;URL here&quot;);</code></li>\n</ul>\n<p>Also see: <a href=\"https://stackoverflow.com/questions/68173632/google-firebase-real-time-database-not-working-as-everything-is-set-correctly/68179677#68179677\">Google Firebase Real-time Database Not Working as everything is set correctly</a></p>\n"}],"owner":{"account_id":22685083,"reputation":93,"user_id":16854861,"display_name":"Dep1111"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":158,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":69094566,"answer_count":1,"score":0,"last_activity_date":1689772723,"creation_date":1631045884,"question_id":69094125,"body_markdown":"I created a project and add my app to it recently. I&#39;m already set Rule: **Read** and **Write** to **true** and tried a simple code to add new Value to Real Time Database console. But nothing happened. The console didn&#39;t get anything.\r\n\r\nHere is the code i use;\r\n\r\n\r\n    FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n    \r\n    DatabaseReference ref = database.getReference(&quot;Bob&quot;);\r\n    \r\n    ref.setValue(editText.getText.toString);\r\n\r\nI did try `ref.addValueEventListener` and in `onDataChange` is `textView.setText(snapshot.getValue(String.class));` The textView changes everytime I send data, even when i turn off the Wifi. Is it a problem lol?\r\n\r\nThen I created a whole new application and tried the same code, it worked very well. But i can&#39;t leave the old app to move to the new one because i have developed it for months. \r\n\r\nI tried to copy 2 gradle file, manifest.xml from the old one to the new one. But the new one still work. \r\n\r\nI also tried to remove and create new Firebase project, remove Firebase from the app and add to it again.\r\n\r\nHas anyone ever been in this situation like me?\r\n\r\n","title":"My app can&#39;t set or receive any values from Firebase, but another app can","body":"<p>I created a project and add my app to it recently. I'm already set Rule: <strong>Read</strong> and <strong>Write</strong> to <strong>true</strong> and tried a simple code to add new Value to Real Time Database console. But nothing happened. The console didn't get anything.</p>\n<p>Here is the code i use;</p>\n<pre><code>FirebaseDatabase database = FirebaseDatabase.getInstance();\n\nDatabaseReference ref = database.getReference(&quot;Bob&quot;);\n\nref.setValue(editText.getText.toString);\n</code></pre>\n<p>I did try <code>ref.addValueEventListener</code> and in <code>onDataChange</code> is <code>textView.setText(snapshot.getValue(String.class));</code> The textView changes everytime I send data, even when i turn off the Wifi. Is it a problem lol?</p>\n<p>Then I created a whole new application and tried the same code, it worked very well. But i can't leave the old app to move to the new one because i have developed it for months.</p>\n<p>I tried to copy 2 gradle file, manifest.xml from the old one to the new one. But the new one still work.</p>\n<p>I also tried to remove and create new Firebase project, remove Firebase from the app and add to it again.</p>\n<p>Has anyone ever been in this situation like me?</p>\n"},{"tags":["java","selenium-webdriver"],"answers":[{"tags":[],"owner":{"account_id":20219544,"reputation":21,"user_id":14829435,"display_name":"Gr&#233;goire"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689770039,"creation_date":1689770039,"answer_id":76721346,"question_id":76721207,"body_markdown":"Hello in your example you use [7] but on my computer it look like to be [6].\r\n\r\n    //html/body/div[6]/div[1]/ul/li[6]/a\r\n\r\nOtherwise, you could try to use something like that.\r\nIt do not use index to select element so I guess it is more reliable if the website change.\r\n\r\n    //div[@id=&quot;vl-flyout-nav&quot;]//ul//li//a[contains(text(),&#39;Refurbished&#39;)]\r\n\r\nHope this answer your question","title":"Selenium automation Mouse over action","body":"<p>Hello in your example you use [7] but on my computer it look like to be [6].</p>\n<pre><code>//html/body/div[6]/div[1]/ul/li[6]/a\n</code></pre>\n<p>Otherwise, you could try to use something like that.\nIt do not use index to select element so I guess it is more reliable if the website change.</p>\n<pre><code>//div[@id=&quot;vl-flyout-nav&quot;]//ul//li//a[contains(text(),'Refurbished')]\n</code></pre>\n<p>Hope this answer your question</p>\n"},{"tags":[],"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689772203,"creation_date":1689771649,"answer_id":76721590,"question_id":76721207,"body_markdown":"You can change your XPath expression as below:\r\n````\r\n(//a[text()=&#39;Refurbished&#39;])[1]\r\n````\r\n\r\n**Refer the working code below:**\r\n````\r\nWebDriver driver = new ChromeDriver();\r\ndriver.get(&quot;https://www.ebay.co.uk/&quot;);\r\ndriver.manage().window().maximize();\r\n\t\t\r\nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\r\n// Click on Accept Cookie button\r\nJavascriptExecutor j = (JavascriptExecutor) driver;\r\nj.executeScript(&quot;arguments[0].click();&quot;, wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()=&#39;Accept all&#39;]&quot;))));\r\n\t\t\r\nActions action = new Actions(driver);\r\nWebElement refurbished = driver.findElement(By.xpath(&quot;(//a[text()=&#39;Refurbished&#39;])[1]&quot;));\r\naction.moveToElement(refurbished).perform();\r\n````\r\n\r\n","title":"Selenium automation Mouse over action","body":"<p>You can change your XPath expression as below:</p>\n<pre><code>(//a[text()='Refurbished'])[1]\n</code></pre>\n<p><strong>Refer the working code below:</strong></p>\n<pre><code>WebDriver driver = new ChromeDriver();\ndriver.get(&quot;https://www.ebay.co.uk/&quot;);\ndriver.manage().window().maximize();\n        \nWebDriverWait wait = new WebDriverWait(driver,Duration.ofSeconds(30));\n// Click on Accept Cookie button\nJavascriptExecutor j = (JavascriptExecutor) driver;\nj.executeScript(&quot;arguments[0].click();&quot;, wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//button[text()='Accept all']&quot;))));\n        \nActions action = new Actions(driver);\nWebElement refurbished = driver.findElement(By.xpath(&quot;(//a[text()='Refurbished'])[1]&quot;));\naction.moveToElement(refurbished).perform();\n</code></pre>\n"}],"owner":{"account_id":20871669,"reputation":57,"user_id":15331462,"display_name":"taerese"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1689772302,"creation_date":1689768970,"question_id":76721207,"body_markdown":"I am trying to perform a mouse-over action. Using ebay.co.uk as a case study, I want to mouse over on the category &quot;Refurbished&quot; represented by the XPath below, but I am getting an error that  \r\n````\r\nno such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;}\r\n````\r\n```\r\ndriver.get(&quot;https://www.ebay.co.uk/&quot;);\r\ndriver.manage().window().maximize();\r\nWebElement element = driver.findElement(By.xpath(&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;));\r\nActions action = new Actions(driver);\r\naction.moveToElement(element).perform();\r\n```","title":"Selenium automation Mouse over action","body":"<p>I am trying to perform a mouse-over action. Using ebay.co.uk as a case study, I want to mouse over on the category &quot;Refurbished&quot; represented by the XPath below, but I am getting an error that</p>\n<pre><code>no such element: Unable to locate element: {&quot;method&quot;:&quot;xpath&quot;,&quot;selector&quot;:&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;}\n</code></pre>\n<pre><code>driver.get(&quot;https://www.ebay.co.uk/&quot;);\ndriver.manage().window().maximize();\nWebElement element = driver.findElement(By.xpath(&quot;/html/body/div[7]/div[1]/ul/li[6]/a&quot;));\nActions action = new Actions(driver);\naction.moveToElement(element).perform();\n</code></pre>\n"},{"tags":["java","spring-3","exceptionhandler"],"owner":{"account_id":26669791,"reputation":41,"user_id":20281373,"display_name":"Reid2"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689772071,"creation_date":1689766702,"question_id":76720898,"body_markdown":"I&#39;m trying to add an exception handler for ResponseStatusException in my Spring 3 project.\r\n```\r\n@ControllerAdvice\r\npublic class ErrorHandler extends ResponseEntityExceptionHandler {\r\n\r\n    @Autowired\r\n    private ObjectMapper objectMapper;\r\n\r\n    @ExceptionHandler({ResponseStatusException.class})\r\n    public ResponseEntity&lt;Object&gt; handle(ResponseStatusException e) {\r\n        ObjectNode node = objectMapper.createObjectNode()\r\n                .put(&quot;code&quot;, e.getStatusCode().value())\r\n                .put(&quot;details&quot;, e.getMessage());\r\n\r\n        return ResponseEntity.status(e.getStatusCode().value())\r\n                .contentType(MediaType.APPLICATION_JSON)\r\n                .body(node);\r\n    }\r\n}\r\n\r\n```\r\n\r\nBut, the handler doesn&#39;t get called when I throw an exception like this: \r\n```\r\nthrow new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;No id has been provided!&quot;);\r\n```\r\n\r\nThis approach works for other custom exceptions I have. But, it doesnt seem to trigger when using ResponseStatusException. I&#39;m not sure why. \r\n\r\nHere is my pom.xml\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\r\n            &lt;version&gt;6.0.11&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n            &lt;exclusions&gt;\r\n                &lt;exclusion&gt;\r\n                    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\r\n                &lt;/exclusion&gt;\r\n            &lt;/exclusions&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n            &lt;version&gt;3.1.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```","title":"ResponseStatusException exception handler not triggered?","body":"<p>I'm trying to add an exception handler for ResponseStatusException in my Spring 3 project.</p>\n<pre><code>@ControllerAdvice\npublic class ErrorHandler extends ResponseEntityExceptionHandler {\n\n    @Autowired\n    private ObjectMapper objectMapper;\n\n    @ExceptionHandler({ResponseStatusException.class})\n    public ResponseEntity&lt;Object&gt; handle(ResponseStatusException e) {\n        ObjectNode node = objectMapper.createObjectNode()\n                .put(&quot;code&quot;, e.getStatusCode().value())\n                .put(&quot;details&quot;, e.getMessage());\n\n        return ResponseEntity.status(e.getStatusCode().value())\n                .contentType(MediaType.APPLICATION_JSON)\n                .body(node);\n    }\n}\n\n</code></pre>\n<p>But, the handler doesn't get called when I throw an exception like this:</p>\n<pre><code>throw new ResponseStatusException(HttpStatus.BAD_REQUEST, &quot;No id has been provided!&quot;);\n</code></pre>\n<p>This approach works for other custom exceptions I have. But, it doesnt seem to trigger when using ResponseStatusException. I'm not sure why.</p>\n<p>Here is my pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-core&lt;/artifactId&gt;\n            &lt;version&gt;6.0.11&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.yaml&lt;/groupId&gt;\n                    &lt;artifactId&gt;snakeyaml&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-validation&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n            &lt;version&gt;3.1.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","android","caching"],"answers":[{"tags":[],"owner":{"account_id":5953106,"reputation":71,"user_id":4680578,"display_name":"John"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1489762614,"creation_date":1489762614,"answer_id":42860719,"question_id":37015872,"body_markdown":"I had this same problem sometimes ago. This is my solution\r\n\r\n1. Click on File menu and\r\n2. Select Invalidate Cache/Restart\r\n3. Select Invalidate and Restart","title":"Could not open cp_init class cache for initialization script","body":"<p>I had this same problem sometimes ago. This is my solution</p>\n\n<ol>\n<li>Click on File menu and</li>\n<li>Select Invalidate Cache/Restart</li>\n<li>Select Invalidate and Restart</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":11661865,"reputation":83,"user_id":8539892,"display_name":"Felix Oje"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1521158830,"creation_date":1521158830,"answer_id":49311259,"question_id":37015872,"body_markdown":"Quick and dirty solution is to open `C:\\Users\\%USER_NAME%` or wherever your user directory is found, go in to `\\.gradle` and delete the `caches` file","title":"Could not open cp_init class cache for initialization script","body":"<p>Quick and dirty solution is to open <code>C:\\Users\\%USER_NAME%</code> or wherever your user directory is found, go in to <code>\\.gradle</code> and delete the <code>caches</code> file</p>\n"},{"tags":[],"owner":{"account_id":1215524,"reputation":356,"user_id":1183198,"display_name":"bobmagoo"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1582737920,"creation_date":1582737920,"answer_id":60419322,"question_id":37015872,"body_markdown":"You might also be running a too-new version of Java. Downgrading to Java 1.8 via https://adoptopenjdk.net/ fixed this issue for me.\r\n\r\nSee https://stackoverflow.com/questions/32900912/bug-exception-in-phase-semantic-analysis","title":"Could not open cp_init class cache for initialization script","body":"<p>You might also be running a too-new version of Java. Downgrading to Java 1.8 via <a href=\"https://adoptopenjdk.net/\" rel=\"noreferrer\">https://adoptopenjdk.net/</a> fixed this issue for me.</p>\n\n<p>See <a href=\"https://stackoverflow.com/questions/32900912/bug-exception-in-phase-semantic-analysis\">BUG! exception in phase &#39;semantic analysis&#39;</a></p>\n"},{"tags":[],"owner":{"account_id":4323208,"reputation":2481,"user_id":3530707,"display_name":"julianm"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1597182327,"creation_date":1597182327,"answer_id":63366802,"question_id":37015872,"body_markdown":"I fixed this error by downgrading Gradle Settings to Java 1.8:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/wxoq8.png","title":"Could not open cp_init class cache for initialization script","body":"<p>I fixed this error by downgrading Gradle Settings to Java 1.8:</p>\n<p><a href=\"https://i.stack.imgur.com/wxoq8.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wxoq8.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10719673,"reputation":141,"user_id":7889161,"display_name":"VilasKolhe"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1612276104,"creation_date":1612276104,"answer_id":66011700,"question_id":37015872,"body_markdown":"Set the Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JVM to &quot;Use Internal JRE (java version 11-ea+123&quot;....)\r\n\r\nhttps://youtrack.jetbrains.com/issue/KT-34134\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/MvTNJ.png","title":"Could not open cp_init class cache for initialization script","body":"<p>Set the Build, Execution, Deployment &gt; Build Tools &gt; Gradle &gt; Gradle JVM to &quot;Use Internal JRE (java version 11-ea+123&quot;....)</p>\n<p><a href=\"https://youtrack.jetbrains.com/issue/KT-34134\" rel=\"noreferrer\">https://youtrack.jetbrains.com/issue/KT-34134</a></p>\n<p><a href=\"https://i.stack.imgur.com/MvTNJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/MvTNJ.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":15031560,"reputation":101,"user_id":10849529,"display_name":"Arjun Yadav"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1631939387,"creation_date":1631939387,"answer_id":69231597,"question_id":37015872,"body_markdown":"Maybe you have opened your android project from wrong destination \r\n\r\nI opened my project from &quot;app&quot; folder so I got this error\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nBut when I opened my android project from &quot;template&quot; folder it&#39;s solved my problem.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xvoK1.png\r\n  [2]: https://i.stack.imgur.com/NO0ia.png","title":"Could not open cp_init class cache for initialization script","body":"<p>Maybe you have opened your android project from wrong destination</p>\n<p>I opened my project from &quot;app&quot; folder so I got this error</p>\n<p><a href=\"https://i.stack.imgur.com/xvoK1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xvoK1.png\" alt=\"enter image description here\" /></a></p>\n<p>But when I opened my android project from &quot;template&quot; folder it's solved my problem.</p>\n<p><a href=\"https://i.stack.imgur.com/NO0ia.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NO0ia.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":20846399,"reputation":121,"user_id":15311807,"display_name":"Ayush Tiwari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1686124936,"creation_date":1686124936,"answer_id":76421114,"question_id":37015872,"body_markdown":"The issue for me was that I was using different SDK for Java and Gradle in my intellij. Just make sure that the jdk used by Java is same as for Gradle\r\n\r\n1. Check Java SDK\r\n\r\nSettings (Icon Top Right Corner) &gt;&gt; Project Structure &gt;&gt; Project Settings &gt;&gt; Project. \r\nCheck your SDK here. \r\n[![enter image description here][1]][1]\r\n\r\n2. Check Gradle SDK\r\n\r\nSettings &gt;&gt; Build , Execution &amp; Deployement &gt;&gt; Build Tools &gt;&gt; Gradle\r\nCheck JVM version here. Version in Java JDK and Gradle JVM should be same\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/KuI74.png\r\n  [2]: https://i.stack.imgur.com/T75fs.png","title":"Could not open cp_init class cache for initialization script","body":"<p>The issue for me was that I was using different SDK for Java and Gradle in my intellij. Just make sure that the jdk used by Java is same as for Gradle</p>\n<ol>\n<li>Check Java SDK</li>\n</ol>\n<p>Settings (Icon Top Right Corner) &gt;&gt; Project Structure &gt;&gt; Project Settings &gt;&gt; Project.\nCheck your SDK here.\n<a href=\"https://i.stack.imgur.com/KuI74.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/KuI74.png\" alt=\"enter image description here\" /></a></p>\n<ol start=\"2\">\n<li>Check Gradle SDK</li>\n</ol>\n<p>Settings &gt;&gt; Build , Execution &amp; Deployement &gt;&gt; Build Tools &gt;&gt; Gradle\nCheck JVM version here. Version in Java JDK and Gradle JVM should be same\n<a href=\"https://i.stack.imgur.com/T75fs.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/T75fs.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":6595620,"reputation":41,"user_id":5095515,"display_name":"pnagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689772044,"creation_date":1689772044,"answer_id":76721651,"question_id":37015872,"body_markdown":"I had to check the jdk version which my project uses. When I changed the JAVA home to an appropriate version (JDK 8) for my case. I didnt see this error.","title":"Could not open cp_init class cache for initialization script","body":"<p>I had to check the jdk version which my project uses. When I changed the JAVA home to an appropriate version (JDK 8) for my case. I didnt see this error.</p>\n"}],"owner":{"account_id":8283199,"reputation":141,"user_id":6227185,"display_name":"Brittany"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":37317,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"answer_count":8,"score":14,"last_activity_date":1689772044,"creation_date":1462317034,"question_id":37015872,"body_markdown":"I am new to Android Studio and I keep getting this error. I have researched and tried deleting .gradle, closing program and restarting, checking power save mode, and Cleaning and Rerunning. Any other ideas to try would be greatly appreciated. It worked perfect last night and now I am getting this error.\r\n\r\n\r\n\r\nError:Could not open cp_init class cache for initialization script &#39;C:\\Users\\Owner\\AppData\\Local\\Temp\\asLocalRepo6.gradle&#39; (C:\\Users\\Owner\\.gradle\\caches\\2.10\\scripts\\asLocalRepo6_4rdykqo5vjpjfhlk1g3pwkx76\\cp_init).\r\n&gt; java.io.FileNotFoundException: C:\\Users\\Owner\\.gradle\\caches\\2.10\\scripts\\asLocalRepo6_4rdykqo5vjpjfhlk1g3pwkx76\\cp_init\\cache.properties (The system cannot find the file specified)\r\n\r\n\r\nThanks!","title":"Could not open cp_init class cache for initialization script","body":"<p>I am new to Android Studio and I keep getting this error. I have researched and tried deleting .gradle, closing program and restarting, checking power save mode, and Cleaning and Rerunning. Any other ideas to try would be greatly appreciated. It worked perfect last night and now I am getting this error.</p>\n\n<p>Error:Could not open cp_init class cache for initialization script 'C:\\Users\\Owner\\AppData\\Local\\Temp\\asLocalRepo6.gradle' (C:\\Users\\Owner.gradle\\caches\\2.10\\scripts\\asLocalRepo6_4rdykqo5vjpjfhlk1g3pwkx76\\cp_init).</p>\n\n<blockquote>\n  <p>java.io.FileNotFoundException: C:\\Users\\Owner.gradle\\caches\\2.10\\scripts\\asLocalRepo6_4rdykqo5vjpjfhlk1g3pwkx76\\cp_init\\cache.properties (The system cannot find the file specified)</p>\n</blockquote>\n\n<p>Thanks!</p>\n"},{"tags":["java","spring","spring-boot","rabbitmq","spring-amqp"],"comments":[{"owner":{"account_id":1581534,"reputation":9020,"user_id":1466825,"display_name":"Luke Bakken"},"score":1,"creation_date":1688092948,"post_id":76563078,"comment_id":135030706,"body_markdown":"This seems like a legitimate issue to report to Team RabbitMQ or the Spring team. The problem is that you&#39;re asking us to guess how to reproduce the issue. Could you please provide a git repository containing code to reproduce this issue, as well as instructions on how to compile and run it? Time spent guessing how to reproduce an issue is time that could be used to assist you. Thank you.","body":"This seems like a legitimate issue to report to Team RabbitMQ or the Spring team. The problem is that you&#39;re asking us to guess how to reproduce the issue. Could you please provide a git repository containing code to reproduce this issue, as well as instructions on how to compile and run it? Time spent guessing how to reproduce an issue is time that could be used to assist you. Thank you."},{"owner":{"account_id":2547520,"reputation":546,"user_id":2212010,"accept_rate":55,"display_name":"stikku"},"score":1,"creation_date":1688748718,"post_id":76563078,"comment_id":135120287,"body_markdown":"Issue also submitted here https://github.com/spring-projects/spring-integration/issues/8668","body":"Issue also submitted here <a href=\"https://github.com/spring-projects/spring-integration/issues/8668\" rel=\"nofollow noreferrer\">github.com/spring-projects/spring-integration/issues/8668</a>"}],"answers":[{"tags":[],"owner":{"account_id":2547520,"reputation":546,"user_id":2212010,"accept_rate":55,"display_name":"stikku"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689771775,"creation_date":1689771348,"answer_id":76721543,"question_id":76563078,"body_markdown":"This has been identified as a bug and fixed. Fix is available in spring-amqp versions [3.0.6][1] and [2.4.14][2] .\r\n\r\nFor anyone else having the same issue, you need to update to the above spring-amqp versions, and enable the `forceStop` flag.\r\n\r\nFrom [documentation][3]:\r\n\r\n&gt; By default, stopping a container will cancel the consumer and process all prefetched messages before stopping. Starting with versions 2.4.14, 3.0.6, you can set the [forceStop] container property to true to stop immediately after the current message is processed, causing any prefetched messages to be requeued. This is useful, for example, if exclusive or single-active consumers are being used.\r\n\r\n\r\nSample configuration:\r\n\r\n    final SimpleMessageListenerContainer listenerContainer = new SimpleMessageListenerContainer(connectionFactory);\r\n    listenerContainer.setForceStop(true);\r\n\r\n  [1]: https://github.com/spring-projects/spring-amqp/releases/tag/v3.0.6\r\n  [2]: https://github.com/spring-projects/spring-amqp/releases/tag/v2.4.14\r\n  [3]: https://docs.spring.io/spring-amqp/reference/html/#container-management","title":"RabbitMQ Single Active Consumer losing message order on consumer shutdown","body":"<p>This has been identified as a bug and fixed. Fix is available in spring-amqp versions <a href=\"https://github.com/spring-projects/spring-amqp/releases/tag/v3.0.6\" rel=\"nofollow noreferrer\">3.0.6</a> and <a href=\"https://github.com/spring-projects/spring-amqp/releases/tag/v2.4.14\" rel=\"nofollow noreferrer\">2.4.14</a> .</p>\n<p>For anyone else having the same issue, you need to update to the above spring-amqp versions, and enable the <code>forceStop</code> flag.</p>\n<p>From <a href=\"https://docs.spring.io/spring-amqp/reference/html/#container-management\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>By default, stopping a container will cancel the consumer and process all prefetched messages before stopping. Starting with versions 2.4.14, 3.0.6, you can set the [forceStop] container property to true to stop immediately after the current message is processed, causing any prefetched messages to be requeued. This is useful, for example, if exclusive or single-active consumers are being used.</p>\n</blockquote>\n<p>Sample configuration:</p>\n<pre><code>final SimpleMessageListenerContainer listenerContainer = new SimpleMessageListenerContainer(connectionFactory);\nlistenerContainer.setForceStop(true);\n</code></pre>\n"}],"owner":{"account_id":2547520,"reputation":546,"user_id":2212010,"accept_rate":55,"display_name":"stikku"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721543,"answer_count":1,"score":0,"last_activity_date":1689771775,"creation_date":1687855090,"question_id":76563078,"body_markdown":"**Sample with Replicate steps found** [here][1]. \r\n\r\n**Problem Definition:**\r\n\r\nWe have a typical publisher - consumer setup where we require consumption of messages to be done sequentially and in order. Our goal is to be able to deploy multiple instances of the consuming microservice while maintaining the aforementioned sequentiality and order. Using the recommended [Single Active Consumers](https://www.rabbitmq.com/consumers.html#single-active-consumer) (SAC) works well in most scenarios **except during application shutdown**.\r\n\r\n**Note: We are also using quorum queues and consumer acknowledgements.**\r\n\r\nGiven instances A and B, on application shutdown of the active instance A, instance B becomes active and starts consuming messages while instance A is still processing its current message (Unacked).\r\n\r\nUsing pre-fetch 1 as an example  \r\n**Before shutting down instance A:**\r\n[![enter image description here][2]][2]\r\n\r\n**During instance A shutdown**\r\n[![enter image description here][3]][3]\r\n\r\nWhile the consumer for instance A has been removed from the queue, it&#39;s channel is still open and RabbitMQ still sees the unacked messages for both instances. **Effectively we have parallel processing of different messages.** Both messages are processed successfully but order is lost. This problem is further exacerbated with higher pre-fetch. \r\n\r\n**Versions and Code**\r\n\r\nQueue Definition:\r\n\r\n    @Bean(name = &quot;testSingleActiveConsumerQueue&quot;)\r\n    Queue testSingleActiveConsumerQueue() {\r\n        final Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();\r\n        args.put(&quot;x-queue-type&quot;, &quot;quorum&quot;);\r\n        args.put(&quot;x-single-active-consumer&quot;, true); // ENABLE SINGLE ACTIVE CONSUMER\r\n        return new Queue(APP_IDENTIFIER + &quot;.test.single_active_consumer&quot;, true, false, false, args);\r\n    }\r\n\r\nI&#39;m using the current latest docker image for rabbitmq (3.12.0)\r\n\r\n    services:\r\n      rabbitmq:\r\n        image: rabbitmq:3.12.0-management\r\n        ports:\r\n          - 5672:5672\r\n          - 15672:15672\r\n        restart: always\r\n        environment:\r\n          - RABBITMQ_DEFAULT_USER=guest\r\n          - RABBITMQ_DEFAULT_PASS=guest\r\n\r\nAnd Spring integration AMQP 5.5.15\r\n\r\n      &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-integration-amqp&lt;/artifactId&gt;\r\n        &lt;version&gt;5.5.15&lt;/version&gt;\r\n      &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://github.com/stikku/spring-integration-amqp-concurrency\r\n  [2]: https://i.stack.imgur.com/WVm6t.png\r\n  [3]: https://i.stack.imgur.com/GEAZr.png","title":"RabbitMQ Single Active Consumer losing message order on consumer shutdown","body":"<p><strong>Sample with Replicate steps found</strong> <a href=\"https://github.com/stikku/spring-integration-amqp-concurrency\" rel=\"nofollow noreferrer\">here</a>.</p>\n<p><strong>Problem Definition:</strong></p>\n<p>We have a typical publisher - consumer setup where we require consumption of messages to be done sequentially and in order. Our goal is to be able to deploy multiple instances of the consuming microservice while maintaining the aforementioned sequentiality and order. Using the recommended <a href=\"https://www.rabbitmq.com/consumers.html#single-active-consumer\" rel=\"nofollow noreferrer\">Single Active Consumers</a> (SAC) works well in most scenarios <strong>except during application shutdown</strong>.</p>\n<p><strong>Note: We are also using quorum queues and consumer acknowledgements.</strong></p>\n<p>Given instances A and B, on application shutdown of the active instance A, instance B becomes active and starts consuming messages while instance A is still processing its current message (Unacked).</p>\n<p>Using pre-fetch 1 as an example<br />\n<strong>Before shutting down instance A:</strong>\n<a href=\"https://i.stack.imgur.com/WVm6t.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/WVm6t.png\" alt=\"enter image description here\" /></a></p>\n<p><strong>During instance A shutdown</strong>\n<a href=\"https://i.stack.imgur.com/GEAZr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GEAZr.png\" alt=\"enter image description here\" /></a></p>\n<p>While the consumer for instance A has been removed from the queue, it's channel is still open and RabbitMQ still sees the unacked messages for both instances. <strong>Effectively we have parallel processing of different messages.</strong> Both messages are processed successfully but order is lost. This problem is further exacerbated with higher pre-fetch.</p>\n<p><strong>Versions and Code</strong></p>\n<p>Queue Definition:</p>\n<pre><code>@Bean(name = &quot;testSingleActiveConsumerQueue&quot;)\nQueue testSingleActiveConsumerQueue() {\n    final Map&lt;String, Object&gt; args = new HashMap&lt;&gt;();\n    args.put(&quot;x-queue-type&quot;, &quot;quorum&quot;);\n    args.put(&quot;x-single-active-consumer&quot;, true); // ENABLE SINGLE ACTIVE CONSUMER\n    return new Queue(APP_IDENTIFIER + &quot;.test.single_active_consumer&quot;, true, false, false, args);\n}\n</code></pre>\n<p>I'm using the current latest docker image for rabbitmq (3.12.0)</p>\n<pre><code>services:\n  rabbitmq:\n    image: rabbitmq:3.12.0-management\n    ports:\n      - 5672:5672\n      - 15672:15672\n    restart: always\n    environment:\n      - RABBITMQ_DEFAULT_USER=guest\n      - RABBITMQ_DEFAULT_PASS=guest\n</code></pre>\n<p>And Spring integration AMQP 5.5.15</p>\n<pre><code>  &lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.integration&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-integration-amqp&lt;/artifactId&gt;\n    &lt;version&gt;5.5.15&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","operator-precedence","compound-assignment"],"comments":[{"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"score":0,"creation_date":1689769841,"post_id":76721101,"comment_id":135259803,"body_markdown":"By the way, first example doesn&#39;t need braces, assignments are evaluated from right to left","body":"By the way, first example doesn&#39;t need braces, assignments are evaluated from right to left"},{"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"score":1,"creation_date":1689770384,"post_id":76721101,"comment_id":135259934,"body_markdown":"This might be good fodder for an exam, and although these side effects can be handy at times they should be used judiciously as they can hide bugs that are hard to find.","body":"This might be good fodder for an exam, and although these side effects can be handy at times they should be used judiciously as they can hide bugs that are hard to find."},{"owner":{"account_id":239217,"reputation":2339,"user_id":508654,"accept_rate":92,"display_name":"Rauni Lillemets"},"score":0,"creation_date":1689857171,"post_id":76721101,"comment_id":135274559,"body_markdown":"I completely agree, @WJS","body":"I completely agree, @WJS"}],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78669,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689769379,"creation_date":1689769379,"answer_id":76721245,"question_id":76721101,"body_markdown":"According to [&#167;15.26.2. Compound Assignment Operators](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.2):\r\n\r\n&gt; At run time, the expression is evaluated in one of two ways.\r\n[...]\r\n&gt; - the value of the left-hand operand is saved and then the right-hand operand is evaluated\r\n\r\nThis explains the behavior for the first expression. \r\n\r\nAccording to [&#167;15.18. Additive Operators](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.18):\r\n\r\n&gt; The additive operators have the same precedence and are syntactically left-associative (they group left-to-right).\r\n\r\nAnd [&#167;15.7. Evaluation Order](https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.7):\r\n\r\n&gt; The Java programming language guarantees that the operands of operators appear to be evaluated in a specific evaluation order, namely, from left to right.\r\n\r\nThus, the second expression is evaluated from left to right and side effects of updating the variables occur in that order.","title":"Using multiple compound assignments in a single expression","body":"<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.26.2\" rel=\"nofollow noreferrer\">§15.26.2. Compound Assignment Operators</a>:</p>\n<blockquote>\n<p>At run time, the expression is evaluated in one of two ways.\n[...]</p>\n<ul>\n<li>the value of the left-hand operand is saved and then the right-hand operand is evaluated</li>\n</ul>\n</blockquote>\n<p>This explains the behavior for the first expression.</p>\n<p>According to <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.18\" rel=\"nofollow noreferrer\">§15.18. Additive Operators</a>:</p>\n<blockquote>\n<p>The additive operators have the same precedence and are syntactically left-associative (they group left-to-right).</p>\n</blockquote>\n<p>And <a href=\"https://docs.oracle.com/javase/specs/jls/se20/html/jls-15.html#jls-15.7\" rel=\"nofollow noreferrer\">§15.7. Evaluation Order</a>:</p>\n<blockquote>\n<p>The Java programming language guarantees that the operands of operators appear to be evaluated in a specific evaluation order, namely, from left to right.</p>\n</blockquote>\n<p>Thus, the second expression is evaluated from left to right and side effects of updating the variables occur in that order.</p>\n"},{"tags":[],"owner":{"account_id":3930229,"reputation":2278,"user_id":4412979,"accept_rate":50,"display_name":"Vasily Liaskovsky"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689770049,"creation_date":1689770049,"answer_id":76721349,"question_id":76721101,"body_markdown":"`a` doesn&#39;t get update early in first example because `a += x` is equivalent to `a = a + x` and `a` as first operand of binary `+` is evaluated *before* second operand thus keeping initial value. And this condition preserves through the chain.","title":"Using multiple compound assignments in a single expression","body":"<p><code>a</code> doesn't get update early in first example because <code>a += x</code> is equivalent to <code>a = a + x</code> and <code>a</code> as first operand of binary <code>+</code> is evaluated <em>before</em> second operand thus keeping initial value. And this condition preserves through the chain.</p>\n"},{"tags":[],"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1689771706,"creation_date":1689771706,"answer_id":76721595,"question_id":76721101,"body_markdown":"&gt; _&quot;... why in the first example the original value of a gets used in the compound assignments, but in the second example the updated value of c gets used?&quot;_\r\n\r\nFor the first example, it&#39;s because it&#39;s already trying to assign _a_, so any inner assignments would not apply.\r\n\r\n```java\r\na = a * (a * (a * 2))\r\na = a * (a * (6))\r\na = a * (3 * (6))\r\na = 3 * (3 * (6))\r\na = 3 * (18)\r\na = 54\r\n```\r\n\r\n&gt; _&quot;... So during all three evaluations of &quot;a *= 2&quot;, the old value of a is used instead ...&quot;_\r\n\r\nCorrect.&amp;nbsp; You are expecting it to do something like this,\r\n\r\n```java\r\n((a *= 2) *= a) *= a)\r\n```\r\n\r\nFor the second example, it is able to assign _c_ since they are not part of one assignment.\r\n\r\n```java\r\n(c *= 2) + (c *= 5) + (c += 100)\r\n(2) + (c *= 5) + (c += 100)\r\n(2) + (10) + (c += 100)\r\n(2) + (10) + (110)\r\n122\r\n```","title":"Using multiple compound assignments in a single expression","body":"<blockquote>\n<p><em>&quot;... why in the first example the original value of a gets used in the compound assignments, but in the second example the updated value of c gets used?&quot;</em></p>\n</blockquote>\n<p>For the first example, it's because it's already trying to assign <em>a</em>, so any inner assignments would not apply.</p>\n<pre class=\"lang-java prettyprint-override\"><code>a = a * (a * (a * 2))\na = a * (a * (6))\na = a * (3 * (6))\na = 3 * (3 * (6))\na = 3 * (18)\na = 54\n</code></pre>\n<blockquote>\n<p><em>&quot;... So during all three evaluations of &quot;a *= 2&quot;, the old value of a is used instead ...&quot;</em></p>\n</blockquote>\n<p>Correct.  You are expecting it to do something like this,</p>\n<pre class=\"lang-java prettyprint-override\"><code>((a *= 2) *= a) *= a)\n</code></pre>\n<p>For the second example, it is able to assign <em>c</em> since they are not part of one assignment.</p>\n<pre class=\"lang-java prettyprint-override\"><code>(c *= 2) + (c *= 5) + (c += 100)\n(2) + (c *= 5) + (c += 100)\n(2) + (10) + (c += 100)\n(2) + (10) + (110)\n122\n</code></pre>\n"}],"owner":{"account_id":239217,"reputation":2339,"user_id":508654,"accept_rate":92,"display_name":"Rauni Lillemets"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":76721245,"answer_count":3,"score":4,"last_activity_date":1689771706,"creation_date":1689768166,"question_id":76721101,"body_markdown":"I am preparing for a Java exam and I am trying to understand operator precedence and compound assignment operators in depth. I played around with a few expressions which use compound assignment during the evaluation of an expression. However, I do not fully understand why these give the result that they do.\r\n\r\n        int a = 3, b = 0;\r\n        b += a *= (a *= (a *= 2));\r\n        // Result: a=54, b=54\r\n\r\nWhat I expected:\r\n\r\n        //innermost expression evaluated first\r\n        //a = a * 2 = 6, so a assigned to 6; 6 returned\r\n        //Then next one is evaluated as:\r\n        //a = a * 6 = 36, so a assigned to 36; 36 returned\r\n        //The outermost expression evaluated as:\r\n        //a = 36 * 36 = 1296\r\n        //Finally, b = b + 1296, so b = 1296.\r\n\r\nInstead, a = 54 is the answer. So during all three evaluations of &quot;a *= 2&quot;, the old value of a is used instead, so the final answer is a = 3 * 3 * 3 * 2 = 54.\r\n        \r\nHowever, this expression behaves differently:\r\n\r\n        int c = 1, d = 0;\r\n        d += (c *= 2) + (c *= 5) + (c += 100);\r\n        // Result: c=110, d=122\r\n\r\nIf here the old value of c was used we would end up with c = 101 and d = 108. Instead, we end up with c = 2 * 5 + 100 = 110; meaning that in each of those evaluations of &quot;c *= ..&quot;, the new (updated) value of c was used each time.\r\n\r\nQuestion: why in the first example the original value of a gets used in the compound assignments, but in the second example the updated value of c gets used?","title":"Using multiple compound assignments in a single expression","body":"<p>I am preparing for a Java exam and I am trying to understand operator precedence and compound assignment operators in depth. I played around with a few expressions which use compound assignment during the evaluation of an expression. However, I do not fully understand why these give the result that they do.</p>\n<pre><code>    int a = 3, b = 0;\n    b += a *= (a *= (a *= 2));\n    // Result: a=54, b=54\n</code></pre>\n<p>What I expected:</p>\n<pre><code>    //innermost expression evaluated first\n    //a = a * 2 = 6, so a assigned to 6; 6 returned\n    //Then next one is evaluated as:\n    //a = a * 6 = 36, so a assigned to 36; 36 returned\n    //The outermost expression evaluated as:\n    //a = 36 * 36 = 1296\n    //Finally, b = b + 1296, so b = 1296.\n</code></pre>\n<p>Instead, a = 54 is the answer. So during all three evaluations of &quot;a *= 2&quot;, the old value of a is used instead, so the final answer is a = 3 * 3 * 3 * 2 = 54.</p>\n<p>However, this expression behaves differently:</p>\n<pre><code>    int c = 1, d = 0;\n    d += (c *= 2) + (c *= 5) + (c += 100);\n    // Result: c=110, d=122\n</code></pre>\n<p>If here the old value of c was used we would end up with c = 101 and d = 108. Instead, we end up with c = 2 * 5 + 100 = 110; meaning that in each of those evaluations of &quot;c *= ..&quot;, the new (updated) value of c was used each time.</p>\n<p>Question: why in the first example the original value of a gets used in the compound assignments, but in the second example the updated value of c gets used?</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":212417,"reputation":43614,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1654505213,"post_id":72515011,"comment_id":128098294,"body_markdown":"This highly depends on what your service is doing with a request. Using reactive frameworks might be a solution, but if you e.g. access a database behind, then you have to deal with that, for example.","body":"This highly depends on what your service is doing with a request. Using reactive frameworks might be a solution, but if you e.g. access a database behind, then you have to deal with that, for example."},{"owner":{"account_id":5273740,"reputation":698,"user_id":4211252,"display_name":"Thilo Schwarz"},"score":0,"creation_date":1654506573,"post_id":72515011,"comment_id":128098710,"body_markdown":"You can increase the thread pool of the embedded tomcat by setting ```server.tomcat.threads.max```, but there are a lot of other factors you have to deal with ...","body":"You can increase the thread pool of the embedded tomcat by setting <code>server.tomcat.threads.max</code>, but there are a lot of other factors you have to deal with ..."}],"answers":[{"tags":[],"owner":{"account_id":8761405,"reputation":1504,"user_id":6551263,"display_name":"Chetan Ahirrao"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1654505728,"creation_date":1654505728,"answer_id":72515252,"question_id":72515011,"body_markdown":"There is no single parameter which would ensure that your application will handle 1000 requests in parallel. &lt;br&gt; It depends on many factors, like:&lt;br&gt;\r\n 1. What is the average execution time for your request. e.g. If your request only needs nanoseconds to return then X number of threads could suffice to serve Y parallel requests (even when X&lt;Y).\r\n 2. Available resources: Sometimes even if number of threads is *greater than* number of parallel requests (X&gt;Y), it may not be able to process them simultaneously if the resources are limited (e.g. RAM, Processing power, max number of database connections) etc.\r\n\r\nSo, in real life, it all depends on lot of factors (not covered above) which are taken care by software architecture which in turn takes care of your functional as well as non functional requirements. So, even if your number of requests change from 1000 to 10000, your architecture will take care of it if it is Scalable.\r\n&lt;br&gt;&lt;br&gt;\r\nKnowing which parameter to tune may suffice for now, for future though, look at quality attributes in software architecture https://en.wikipedia.org/wiki/List_of_system_quality_attributes","title":"How to handle 1000 requests per second in spring boot rest API?","body":"<p>There is no single parameter which would ensure that your application will handle 1000 requests in parallel. <br> It depends on many factors, like:<br></p>\n<ol>\n<li>What is the average execution time for your request. e.g. If your request only needs nanoseconds to return then X number of threads could suffice to serve Y parallel requests (even when X&lt;Y).</li>\n<li>Available resources: Sometimes even if number of threads is <em>greater than</em> number of parallel requests (X&gt;Y), it may not be able to process them simultaneously if the resources are limited (e.g. RAM, Processing power, max number of database connections) etc.</li>\n</ol>\n<p>So, in real life, it all depends on lot of factors (not covered above) which are taken care by software architecture which in turn takes care of your functional as well as non functional requirements. So, even if your number of requests change from 1000 to 10000, your architecture will take care of it if it is Scalable.\n<br><br>\nKnowing which parameter to tune may suffice for now, for future though, look at quality attributes in software architecture <a href=\"https://en.wikipedia.org/wiki/List_of_system_quality_attributes\" rel=\"noreferrer\">https://en.wikipedia.org/wiki/List_of_system_quality_attributes</a></p>\n"},{"tags":[],"owner":{"account_id":2165882,"reputation":10395,"user_id":1919006,"accept_rate":57,"display_name":"Rakesh Soni"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1682575603,"creation_date":1654506128,"answer_id":72515333,"question_id":72515011,"body_markdown":"There is hardware capacity (RAM, CPU etc) So you can not set any number of thread in pool (like 1000 in your case). Also it depends on execution time of each request. \r\n\r\nTo handle high traffic, you should setup **Load Balancer** with multiple node/instances. \r\n\r\nBetter to go with **Auto Scaling** on Cloud server. It will increase the instances as per high load (number of request) and again decrease the instances when there will be low number of requests. Which is cost effective. ","title":"How to handle 1000 requests per second in spring boot rest API?","body":"<p>There is hardware capacity (RAM, CPU etc) So you can not set any number of thread in pool (like 1000 in your case). Also it depends on execution time of each request.</p>\n<p>To handle high traffic, you should setup <strong>Load Balancer</strong> with multiple node/instances.</p>\n<p>Better to go with <strong>Auto Scaling</strong> on Cloud server. It will increase the instances as per high load (number of request) and again decrease the instances when there will be low number of requests. Which is cost effective.</p>\n"},{"tags":[],"owner":{"account_id":21238004,"reputation":1,"user_id":15621933,"display_name":"wildHorse"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689771635,"creation_date":1689771635,"answer_id":76721585,"question_id":72515011,"body_markdown":"Isn&#39;t it too easy? It is enough for the application to respond in less than 200ms per request? (Theoretically)\r\nSince we have 200 threads, we can handle 200 requests in parallel. To get 1000rps/200 = 5. So each thread needs to handle 5 requests in a second, i.e. respond &lt;= 200ms","title":"How to handle 1000 requests per second in spring boot rest API?","body":"<p>Isn't it too easy? It is enough for the application to respond in less than 200ms per request? (Theoretically)\nSince we have 200 threads, we can handle 200 requests in parallel. To get 1000rps/200 = 5. So each thread needs to handle 5 requests in a second, i.e. respond &lt;= 200ms</p>\n"}],"owner":{"account_id":1591466,"reputation":589,"user_id":1474701,"accept_rate":38,"display_name":"ashu"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18925,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1689771635,"creation_date":1654504394,"question_id":72515011,"body_markdown":"I am newbie in Spring boot. We are implementing one spring boot microservice application.\r\n\r\nAs spring boot uses embedded tomcat server, by default thread pool is 200.\r\n\r\nSo whats the best approach to increase the capactiy to handle 1000 requests?\r\n\r\nDo we need to make it async or?\r\n\r\nAny inputs are appreciated.\r\n\r\nThanks in advance.","title":"How to handle 1000 requests per second in spring boot rest API?","body":"<p>I am newbie in Spring boot. We are implementing one spring boot microservice application.</p>\n<p>As spring boot uses embedded tomcat server, by default thread pool is 200.</p>\n<p>So whats the best approach to increase the capactiy to handle 1000 requests?</p>\n<p>Do we need to make it async or?</p>\n<p>Any inputs are appreciated.</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","android","multithreading"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689765593,"post_id":76720714,"comment_id":135258795,"body_markdown":"*Why is lock.notifyAll not waking up thread waiting* probably because there is no `notifyAll` in your code.","body":"<i>Why is lock.notifyAll not waking up thread waiting</i> probably because there is no <code>notifyAll</code> in your code."},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689765668,"post_id":76720714,"comment_id":135258810,"body_markdown":"The output is the same with `notifyAll`","body":"The output is the same with <code>notifyAll</code>"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689765711,"post_id":76720714,"comment_id":135258821,"body_markdown":"Stuck at this log `Lock is released. Waiting for bluetooth to turn on.`","body":"Stuck at this log <code>Lock is released. Waiting for bluetooth to turn on.</code>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689765754,"post_id":76720714,"comment_id":135258827,"body_markdown":"order of execution?","body":"order of execution?"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689765877,"post_id":76720714,"comment_id":135258857,"body_markdown":"I just call BluetoothManager() from another class instance. As such:\n\n     `btManager = new BluetoothManager(handler, btListener);`","body":"I just call BluetoothManager() from another class instance. As such:       <code>btManager = new BluetoothManager(handler, btListener);</code>"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689765942,"post_id":76720714,"comment_id":135258875,"body_markdown":"great, and is your `prunnable` even running?","body":"great, and is your <code>prunnable</code> even running?"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689766141,"post_id":76720714,"comment_id":135258924,"body_markdown":"Yes, it runs the first time, after calling the enableBluetooth() the thread is getting blocked.","body":"Yes, it runs the first time, after calling the enableBluetooth() the thread is getting blocked."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689766167,"post_id":76720714,"comment_id":135258933,"body_markdown":"and again, order of execution?","body":"and again, order of execution?"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689766467,"post_id":76720714,"comment_id":135259007,"body_markdown":"In my MainService class I call this function \n`startBluetoothManager(){\n        btManager = new BluetoothManager(handler, btListener);\n}`\n\nthen in the BluetoothManager constructor I call phandler.post(prunnable); which check if bluetooth is enabled, after the first check and the bluetooth was off, we hit the else condition and call `enableBluetooth()` after that the thread get blocked and we don&#39;t get the notify","body":"In my MainService class I call this function  <code>startBluetoothManager(){         btManager = new BluetoothManager(handler, btListener); }</code>  then in the BluetoothManager constructor I call phandler.post(prunnable); which check if bluetooth is enabled, after the first check and the bluetooth was off, we hit the else condition and call <code>enableBluetooth()</code> after that the thread get blocked and we don&#39;t get the notify"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689766523,"post_id":76720714,"comment_id":135259019,"body_markdown":"and logs comes in the order you would like, first *Waiting for Bluetooth to turn on.* then *Lock is notified about access again.* right?","body":"and logs comes in the order you would like, first <i>Waiting for Bluetooth to turn on.</i> then <i>Lock is notified about access again.</i> right?"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689767007,"post_id":76720714,"comment_id":135259115,"body_markdown":"I am getting only _Waiting for Bluetooth to turn on_ because after calling enableBluetooth the first time and enabling the bluetooth, the thread is getting blocked and the prunnable stops.","body":"I am getting only <i>Waiting for Bluetooth to turn on</i> because after calling enableBluetooth the first time and enabling the bluetooth, the thread is getting blocked and the prunnable stops."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689767089,"post_id":76720714,"comment_id":135259140,"body_markdown":"So no notification at all, case closed.","body":"So no notification at all, case closed."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1689767178,"post_id":76720714,"comment_id":135259158,"body_markdown":"To me you are waiting on handler thread and expect it to notify itself.","body":"To me you are waiting on handler thread and expect it to notify itself."},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689767257,"post_id":76720714,"comment_id":135259176,"body_markdown":"I am synchronizing on the lock, why when I call lock.wait is blocking the whole thread and the handler?","body":"I am synchronizing on the lock, why when I call lock.wait is blocking the whole thread and the handler?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689767305,"post_id":76720714,"comment_id":135259188,"body_markdown":"Object#wait block current thread.","body":"Object#wait block current thread."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689767441,"post_id":76720714,"comment_id":135259229,"body_markdown":"From docs: \n*Each Handler instance is associated with a single thread and that thread&#39;s message queue.* So yeah, u are literally block the thread that executes tasks submitted to that handler","body":"From docs:  <i>Each Handler instance is associated with a single thread and that thread&#39;s message queue.</i> So yeah, u are literally block the thread that executes tasks submitted to that handler"},{"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"score":0,"creation_date":1689767907,"post_id":76720714,"comment_id":135259341,"body_markdown":"so If calling lock.wait blocks the current thread and we can&#39;t call lock.notify from another thread, how to relinquish the lock?","body":"so If calling lock.wait blocks the current thread and we can&#39;t call lock.notify from another thread, how to relinquish the lock?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":1,"creation_date":1689768162,"post_id":76720714,"comment_id":135259393,"body_markdown":"by calling it from another thread. You try to do it from the same thread.","body":"by calling it from another thread. You try to do it from the same thread."},{"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"score":0,"creation_date":1689770547,"post_id":76720714,"comment_id":135259988,"body_markdown":"Re, &quot;...the whole thread is waiting...&quot; What do you mean, _whole_ thread? A thread either is waiting or it is executing instructions. A thread doesn&#39;t have parts. It sounds as if you do not have a strong idea of what a thread actually is.","body":"Re, &quot;...the whole thread is waiting...&quot; What do you mean, <i>whole</i> thread? A thread either is waiting or it is executing instructions. A thread doesn&#39;t have parts. It sounds as if you do not have a strong idea of what a thread actually is."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689771506,"creation_date":1689770876,"answer_id":76721473,"question_id":76720714,"body_markdown":"&gt;  If calling lock.wait blocks the current thread and we can&#39;t call lock.notify from another thread, how to relinquish the lock?\r\n\r\nYou can&#39;t.\r\n\r\n`lock.wait()` returns when some _other_ thread calls `lock.notify()` or `lock.notifyAll()`. Except in case of the hypothetical spurious wakeup,\\* the `wait()` call will not return for any other reason.\r\n\r\nAlso of note, `lock.notify()` and `lock.notifyAll()` do absolutely _nothing_ unless the other thread is _already_ waiting. A common newbie mistake is to have a race between some thread P that calls `notify()` and some thread C that calls `wait()`. If thread C wins the race, then the `notify()` wakes it up and everything is fine, but if thread P wins the race, then thread C has missed the notification, and it ends up waiting forever for a second notification that never arrives.\r\n\r\n-------------\r\n\r\nP.S., (Hope you notice this update because apparently you already have accepted my answer.)\r\n\r\nLook into the [`Semaphore`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html) class. A semaphore is like a blocking queue of virtual, informationless tokens. One thread can call `semaphore.release()` to add a token to the queue. Another thread can call `semaphore.acquire()` to take a token from the queue, but if the queue is empty, then the `acquire()` call will _wait_ until some other thread `release()`s a token for it to take.\r\n\r\nThis may be helpful to you, because unlike wait/notify, a semaphore _remembers_ how many tokens are in the queue. You can fix my example of the race condition between thread P and thread C (above) by using a semaphore instead of wait/notify.  If thread C wins the race, it will wait until thread P catches up and releases a token. But, if thread P wins the race, then the semaphore will hold the token until thread C catches up. Thread C can then acquire it, and it will not be blocked.\r\n\r\n-------------\r\n\\* [search this page](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Condition.html) for more about _spurious wakeup._","title":"Why is lock.notifyAll not waking up thread waiting","body":"<blockquote>\n<p>If calling lock.wait blocks the current thread and we can't call lock.notify from another thread, how to relinquish the lock?</p>\n</blockquote>\n<p>You can't.</p>\n<p><code>lock.wait()</code> returns when some <em>other</em> thread calls <code>lock.notify()</code> or <code>lock.notifyAll()</code>. Except in case of the hypothetical spurious wakeup,* the <code>wait()</code> call will not return for any other reason.</p>\n<p>Also of note, <code>lock.notify()</code> and <code>lock.notifyAll()</code> do absolutely <em>nothing</em> unless the other thread is <em>already</em> waiting. A common newbie mistake is to have a race between some thread P that calls <code>notify()</code> and some thread C that calls <code>wait()</code>. If thread C wins the race, then the <code>notify()</code> wakes it up and everything is fine, but if thread P wins the race, then thread C has missed the notification, and it ends up waiting forever for a second notification that never arrives.</p>\n<hr />\n<p>P.S., (Hope you notice this update because apparently you already have accepted my answer.)</p>\n<p>Look into the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Semaphore.html\" rel=\"nofollow noreferrer\"><code>Semaphore</code></a> class. A semaphore is like a blocking queue of virtual, informationless tokens. One thread can call <code>semaphore.release()</code> to add a token to the queue. Another thread can call <code>semaphore.acquire()</code> to take a token from the queue, but if the queue is empty, then the <code>acquire()</code> call will <em>wait</em> until some other thread <code>release()</code>s a token for it to take.</p>\n<p>This may be helpful to you, because unlike wait/notify, a semaphore <em>remembers</em> how many tokens are in the queue. You can fix my example of the race condition between thread P and thread C (above) by using a semaphore instead of wait/notify.  If thread C wins the race, it will wait until thread P catches up and releases a token. But, if thread P wins the race, then the semaphore will hold the token until thread C catches up. Thread C can then acquire it, and it will not be blocked.</p>\n<hr />\n<p>* <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/locks/Condition.html\" rel=\"nofollow noreferrer\">search this page</a> for more about <em>spurious wakeup.</em></p>\n"}],"owner":{"account_id":22997147,"reputation":314,"user_id":17121708,"display_name":"Charles Semaan"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76721473,"answer_count":1,"score":1,"last_activity_date":1689771506,"creation_date":1689765398,"question_id":76720714,"body_markdown":"I have a BluetoothManager that contains a while loop to detect bluetooth state changes. If bluetooth is off, I want to enable and wait until the lock is notifiy from inside the runnable that the bluetooth is on again. The issue that I am facing is that when I lock.wait the whole thread is waiting and the while loop inside the runnable is no longer executing. Can someone explain why this is happening? I know I can achieve similar functionality using a broadcast receiver but I want to understand why my lock wait/notify is not working.\r\n\r\n        public class BluetoothManager implements BluetoothA2DPRequester.Callback {\r\n    \r\n        private Object lock = new Object();\r\n    \r\n        public BluetoothManager(Handler handler, BluetoothManagerListener listener) {\r\n    \r\n            Handler phandler = new Handler();\r\n            Runnable prunnable = new Runnable() {\r\n                @Override\r\n                public void run() {\r\n    \r\n                    if (bluetoothAdapter.isEnabled()) {\r\n                        synchronized (lock) {\r\n                            Log.i(TAG, &quot;Lock is notified about access again.&quot;);\r\n                            lock.notify();\r\n                        }\r\n                          handler.removeCallbacks(this);\r\n                          return;\r\n                    } else {\r\n                        phandler.postDelayed(this, 10000);\r\n                        enableBluetooth()\r\n                    }\r\n    \r\n                }\r\n            };\r\n            phandler.post(prunnable);\r\n    \r\n        }\r\n    \r\n    \r\n        public void enableBluetooth() {\r\n            BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n    \r\n            if (mBluetoothAdapter == null) {\r\n                // Device does not support Bluetooth\r\n            } else if (!mBluetoothAdapter.isEnabled()) {\r\n                // Bluetooth is not enabled\r\n                if (ActivityCompat.checkSelfPermission(MyApplication.getContext(), android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\r\n    \r\n                    synchronized (lock) {\r\n                        try {\r\n                            mBluetoothAdapter.enable();\r\n                            Log.i(TAG, &quot;Lock is released. Waiting for Bluetooth to turn on.&quot;);\r\n                            lock.wait(); // wait until bluetooth is on // I am getting stucked here\r\n                            Log.i(TAG, &quot;Lock is gained again.&quot;);\r\n                            isBluetoothOn = true;\r\n                            onBluetoothConnected();\r\n    \r\n                        } catch (InterruptedException e) {\r\n                            e.printStackTrace();\r\n                        }\r\n                    }\r\n    \r\n                }\r\n            } else {\r\n                isBluetoothOn = true;\r\n                onBluetoothConnected();\r\n            }\r\n        }\r\n    \r\n    \r\n    }\r\n\r\n","title":"Why is lock.notifyAll not waking up thread waiting","body":"<p>I have a BluetoothManager that contains a while loop to detect bluetooth state changes. If bluetooth is off, I want to enable and wait until the lock is notifiy from inside the runnable that the bluetooth is on again. The issue that I am facing is that when I lock.wait the whole thread is waiting and the while loop inside the runnable is no longer executing. Can someone explain why this is happening? I know I can achieve similar functionality using a broadcast receiver but I want to understand why my lock wait/notify is not working.</p>\n<pre><code>    public class BluetoothManager implements BluetoothA2DPRequester.Callback {\n\n    private Object lock = new Object();\n\n    public BluetoothManager(Handler handler, BluetoothManagerListener listener) {\n\n        Handler phandler = new Handler();\n        Runnable prunnable = new Runnable() {\n            @Override\n            public void run() {\n\n                if (bluetoothAdapter.isEnabled()) {\n                    synchronized (lock) {\n                        Log.i(TAG, &quot;Lock is notified about access again.&quot;);\n                        lock.notify();\n                    }\n                      handler.removeCallbacks(this);\n                      return;\n                } else {\n                    phandler.postDelayed(this, 10000);\n                    enableBluetooth()\n                }\n\n            }\n        };\n        phandler.post(prunnable);\n\n    }\n\n\n    public void enableBluetooth() {\n        BluetoothAdapter mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n\n        if (mBluetoothAdapter == null) {\n            // Device does not support Bluetooth\n        } else if (!mBluetoothAdapter.isEnabled()) {\n            // Bluetooth is not enabled\n            if (ActivityCompat.checkSelfPermission(MyApplication.getContext(), android.Manifest.permission.BLUETOOTH_CONNECT) != PackageManager.PERMISSION_GRANTED) {\n\n                synchronized (lock) {\n                    try {\n                        mBluetoothAdapter.enable();\n                        Log.i(TAG, &quot;Lock is released. Waiting for Bluetooth to turn on.&quot;);\n                        lock.wait(); // wait until bluetooth is on // I am getting stucked here\n                        Log.i(TAG, &quot;Lock is gained again.&quot;);\n                        isBluetoothOn = true;\n                        onBluetoothConnected();\n\n                    } catch (InterruptedException e) {\n                        e.printStackTrace();\n                    }\n                }\n\n            }\n        } else {\n            isBluetoothOn = true;\n            onBluetoothConnected();\n        }\n    }\n\n\n}\n</code></pre>\n"},{"tags":["java","maven","quarkus"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":5,"creation_date":1689770893,"post_id":76721457,"comment_id":135260103,"body_markdown":"This is very unspecific. Please share the actual (full) error. I could imagine that it is a java-version problem.","body":"This is very unspecific. Please share the actual (full) error. I could imagine that it is a java-version problem."},{"owner":{"account_id":29049139,"reputation":1,"user_id":22252344,"display_name":"Dexu"},"score":0,"creation_date":1689771645,"post_id":76721457,"comment_id":135260328,"body_markdown":"@Turing85 Added the rest of the error, hope this is more useful.","body":"@Turing85 Added the rest of the error, hope this is more useful."},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689772126,"post_id":76721457,"comment_id":135260481,"body_markdown":"Try executing with `mvn -X install` and see if there is any more useful information","body":"Try executing with <code>mvn -X install</code> and see if there is any more useful information"},{"owner":{"account_id":29049139,"reputation":1,"user_id":22252344,"display_name":"Dexu"},"score":0,"creation_date":1689773540,"post_id":76721457,"comment_id":135260876,"body_markdown":"@geoand This is what I get: https://imgur.com/a/fmHUDOX","body":"@geoand This is what I get: <a href=\"https://imgur.com/a/fmHUDOX\" rel=\"nofollow noreferrer\">imgur.com/a/fmHUDOX</a>"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1689833569,"post_id":76721457,"comment_id":135269785,"body_markdown":"That doesn&#39;t look like the complete output","body":"That doesn&#39;t look like the complete output"}],"owner":{"account_id":29049139,"reputation":1,"user_id":22252344,"display_name":"Dexu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":171,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689771411,"creation_date":1689770753,"question_id":76721457,"body_markdown":"I have a quarkus maven app that worked fine before I formated my pc but now after I set everything up as it was before the format &quot;mvn clean install&quot; doesn&#39;t work.\r\n\r\nIdk if I just missed something after the format or the problem lies elsewhere but I think it&#39;s worth mentioning that I&#39;m kinda new to programming overall so keep that in mind in case it&#39;s something trivial. \r\n\r\nThis is what I get after running the command:\r\n\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  15.705 s\r\n    [INFO] Finished at: 2023-07-19T14:17:04+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:3.0.1.Final:build (default) on project piksa-quarkus-1: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\r\n    [ERROR]         [error]: Build step io.quarkus.deployment.pkg.steps.JarResultBuildStep#buildRunnerJar threw an exception: java.lang.UnsupportedOperationException\r\n    [ERROR]         at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.ensureFile(ZipFileSystemProvider.java:87)\r\n    [ERROR]         at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:101)\r\n    [ERROR]         at io.quarkus.fs.util.ZipUtils.newZip(ZipUtils.java:130)\r\n    [ERROR]         at io.quarkus.deployment.pkg.steps.JarResultBuildStep.buildThinJar(JarResultBuildStep.java:627)\r\n    [ERROR]         at io.quarkus.deployment.pkg.steps.JarResultBuildStep.buildRunnerJar(JarResultBuildStep.java:222)\r\n    [ERROR]         at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\r\n    [ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:578)\r\n    [ERROR]         at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\r\n    [ERROR]         at io.quarkus.builder.BuildContext.run(BuildContext.java:282)\r\n    [ERROR]         at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\r\n    [ERROR]         at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\r\n    [ERROR]         at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\r\n    [ERROR]         at java.base/java.lang.Thread.run(Thread.java:1623)\r\n    [ERROR]         at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n    [ERROR] -&gt; [Help 1]\r\n    [ERROR]\r\n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\r\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\r\n    [ERROR]\r\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\r\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\r\n\r\nThese are the things I did after the format:\r\n- Installed JDK. \r\n- Installed Maven. \r\n- Set all the needed paths in enviromental variables. \r\n- Installed VS code extensions (Extension pack for java, Maven for Java, Quarkus). \r\n+ I tried installing the same Java and Maven versions I had before the format instead of the newest ones but it didn&#39;t work.","title":"Can&#39;t built a quarkus maven app using mvn clean install","body":"<p>I have a quarkus maven app that worked fine before I formated my pc but now after I set everything up as it was before the format &quot;mvn clean install&quot; doesn't work.</p>\n<p>Idk if I just missed something after the format or the problem lies elsewhere but I think it's worth mentioning that I'm kinda new to programming overall so keep that in mind in case it's something trivial.</p>\n<p>This is what I get after running the command:</p>\n<pre><code>[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  15.705 s\n[INFO] Finished at: 2023-07-19T14:17:04+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal io.quarkus.platform:quarkus-maven-plugin:3.0.1.Final:build (default) on project piksa-quarkus-1: Failed to build quarkus application: io.quarkus.builder.BuildException: Build failure: Build failed due to errors\n[ERROR]         [error]: Build step io.quarkus.deployment.pkg.steps.JarResultBuildStep#buildRunnerJar threw an exception: java.lang.UnsupportedOperationException\n[ERROR]         at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.ensureFile(ZipFileSystemProvider.java:87)\n[ERROR]         at jdk.zipfs/jdk.nio.zipfs.ZipFileSystemProvider.newFileSystem(ZipFileSystemProvider.java:101)\n[ERROR]         at io.quarkus.fs.util.ZipUtils.newZip(ZipUtils.java:130)\n[ERROR]         at io.quarkus.deployment.pkg.steps.JarResultBuildStep.buildThinJar(JarResultBuildStep.java:627)\n[ERROR]         at io.quarkus.deployment.pkg.steps.JarResultBuildStep.buildRunnerJar(JarResultBuildStep.java:222)\n[ERROR]         at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:104)\n[ERROR]         at java.base/java.lang.reflect.Method.invoke(Method.java:578)\n[ERROR]         at io.quarkus.deployment.ExtensionLoader$3.execute(ExtensionLoader.java:909)\n[ERROR]         at io.quarkus.builder.BuildContext.run(BuildContext.java:282)\n[ERROR]         at org.jboss.threads.ContextHandler$1.runWith(ContextHandler.java:18)\n[ERROR]         at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2513)\n[ERROR]         at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1538)\n[ERROR]         at java.base/java.lang.Thread.run(Thread.java:1623)\n[ERROR]         at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n[ERROR] -&gt; [Help 1]\n[ERROR]\n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoExecutionException\n</code></pre>\n<p>These are the things I did after the format:</p>\n<ul>\n<li>Installed JDK.</li>\n<li>Installed Maven.</li>\n<li>Set all the needed paths in enviromental variables.</li>\n<li>Installed VS code extensions (Extension pack for java, Maven for Java, Quarkus).</li>\n</ul>\n<ul>\n<li>I tried installing the same Java and Maven versions I had before the format instead of the newest ones but it didn't work.</li>\n</ul>\n"},{"tags":["java","android","kotlin","gesture-detection"],"comments":[{"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"score":0,"creation_date":1688531178,"post_id":73443456,"comment_id":135084018,"body_markdown":"Thanks for bringing this up. Do you want to share any update on your question? Have you found anything which solves this properly. I saw your comment on https://youtrack.jetbrains.com/issue/KT-53963 and looks like it is not solved","body":"Thanks for bringing this up. Do you want to share any update on your question? Have you found anything which solves this properly. I saw your comment on <a href=\"https://youtrack.jetbrains.com/issue/KT-53963\" rel=\"nofollow noreferrer\">youtrack.jetbrains.com/issue/KT-53963</a> and looks like it is not solved"},{"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"score":0,"creation_date":1688531223,"post_id":73443456,"comment_id":135084022,"body_markdown":"Even Google/ Android team has marked as fixed https://issuetracker.google.com/issues/243267018#comment20 \nBut didn&#39;t mention details about the same.","body":"Even Google/ Android team has marked as fixed <a href=\"https://issuetracker.google.com/issues/243267018#comment20\" rel=\"nofollow noreferrer\">issuetracker.google.com/issues/243267018#comment20</a>  But didn&#39;t mention details about the same."}],"answers":[{"tags":[],"owner":{"account_id":3342744,"reputation":2512,"user_id":2808624,"accept_rate":100,"display_name":"user2808624"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1680880928,"creation_date":1680860908,"answer_id":75957324,"question_id":73443456,"body_markdown":"I have created my own SimpleOnGestureListener (named KotlinAdapterOnGestureListener) as a convenience class in Java, and then I can use Kotlin for my real OnGestureListeners extending KotlinAdapterOnGestureListener and overriding onMoveKt and onFlingKt instead of onMove and onFling:\r\n\r\n    public class KotlinAdapterOnGestureListener implements GestureDetector.OnGestureListener, GestureDetector.OnDoubleTapListener {\r\n    \r\n        public boolean onSingleTapUp(@NonNull MotionEvent e) {\r\n            return false;\r\n        }\r\n    \r\n        public void onLongPress(@NonNull MotionEvent e) {\r\n        }\r\n    \r\n        /** Instead of overwriting this method, overwrite onScrollKt, because despite\r\n         * the annotation, the parameter e1 is sometimes null. */\r\n        final public boolean onScroll(@NonNull MotionEvent e1, @NonNull MotionEvent e2,\r\n                                float distanceX, float distanceY) {\r\n            return onScrollKt(e1, e2, distanceX, distanceY);\r\n        }\r\n    \r\n        public boolean onScrollKt(MotionEvent e1, MotionEvent e2,\r\n                                float distanceX, float distanceY) {\r\n            return false;\r\n        }\r\n    \r\n        /** Instead of overwriting this method, overwrite onFlingKt, because despite\r\n         * the annotation, the parameter e1 is sometimes null. */\r\n        final public boolean onFling(@NonNull MotionEvent e1, @NonNull MotionEvent e2, float velocityX,\r\n                               float velocityY) {\r\n            return onFlingKt(e1, e2, velocityX, velocityY);\r\n        }\r\n    \r\n        public boolean onFlingKt(MotionEvent e1, MotionEvent e2,\r\n                                  float velocityX, float velocityY) {\r\n            return false;\r\n        }\r\n    \r\n        public void onShowPress(@NonNull MotionEvent e) {\r\n        }\r\n    \r\n        public boolean onDown(@NonNull MotionEvent e) {\r\n            return false;\r\n        }\r\n    \r\n        public boolean onDoubleTap(@NonNull MotionEvent e) {\r\n            return false;\r\n        }\r\n    \r\n        public boolean onDoubleTapEvent(@NonNull MotionEvent e) {\r\n            return false;\r\n        }\r\n    \r\n        public boolean onSingleTapConfirmed(@NonNull MotionEvent e) {\r\n            return false;\r\n        }\r\n    \r\n    }\r\n\r\nAt least if you have multiple OnGestureListeners, you need to have only this one class in Java and your &quot;real&quot; coding is still in Kotlin.","title":"Wrong nullable annotations: is there any way to overcome this on Kotlin, or should I use Java as a workaround?","body":"<p>I have created my own SimpleOnGestureListener (named KotlinAdapterOnGestureListener) as a convenience class in Java, and then I can use Kotlin for my real OnGestureListeners extending KotlinAdapterOnGestureListener and overriding onMoveKt and onFlingKt instead of onMove and onFling:</p>\n<pre><code>public class KotlinAdapterOnGestureListener implements GestureDetector.OnGestureListener, GestureDetector.OnDoubleTapListener {\n\n    public boolean onSingleTapUp(@NonNull MotionEvent e) {\n        return false;\n    }\n\n    public void onLongPress(@NonNull MotionEvent e) {\n    }\n\n    /** Instead of overwriting this method, overwrite onScrollKt, because despite\n     * the annotation, the parameter e1 is sometimes null. */\n    final public boolean onScroll(@NonNull MotionEvent e1, @NonNull MotionEvent e2,\n                            float distanceX, float distanceY) {\n        return onScrollKt(e1, e2, distanceX, distanceY);\n    }\n\n    public boolean onScrollKt(MotionEvent e1, MotionEvent e2,\n                            float distanceX, float distanceY) {\n        return false;\n    }\n\n    /** Instead of overwriting this method, overwrite onFlingKt, because despite\n     * the annotation, the parameter e1 is sometimes null. */\n    final public boolean onFling(@NonNull MotionEvent e1, @NonNull MotionEvent e2, float velocityX,\n                           float velocityY) {\n        return onFlingKt(e1, e2, velocityX, velocityY);\n    }\n\n    public boolean onFlingKt(MotionEvent e1, MotionEvent e2,\n                              float velocityX, float velocityY) {\n        return false;\n    }\n\n    public void onShowPress(@NonNull MotionEvent e) {\n    }\n\n    public boolean onDown(@NonNull MotionEvent e) {\n        return false;\n    }\n\n    public boolean onDoubleTap(@NonNull MotionEvent e) {\n        return false;\n    }\n\n    public boolean onDoubleTapEvent(@NonNull MotionEvent e) {\n        return false;\n    }\n\n    public boolean onSingleTapConfirmed(@NonNull MotionEvent e) {\n        return false;\n    }\n\n}\n</code></pre>\n<p>At least if you have multiple OnGestureListeners, you need to have only this one class in Java and your &quot;real&quot; coding is still in Kotlin.</p>\n"},{"tags":[],"owner":{"account_id":2837284,"reputation":4425,"user_id":2437655,"accept_rate":77,"display_name":"Shubham AgaRwal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688536952,"creation_date":1688536952,"answer_id":76617475,"question_id":73443456,"body_markdown":"This should work IMO. Not tested heavily but should work with both `java` and `kotlin`. Also, can be used by both that is either via custom `GestureDetector.OnGestureListener` or if class itself implement the `GestureDetector.OnGestureListener`\r\n\r\n    public interface SafeOnGestureListener extends GestureDetector.OnGestureListener {\r\n    \r\n      @Override\r\n      boolean onScroll(@Nullable MotionEvent e1, @Nullable MotionEvent e2, float distanceX,\r\n              \r\n      @Override\r\n      boolean onFling(@Nullable MotionEvent e1, @Nullable MotionEvent e2, float velocityX,\r\n                      float velocityY);\r\n    }","title":"Wrong nullable annotations: is there any way to overcome this on Kotlin, or should I use Java as a workaround?","body":"<p>This should work IMO. Not tested heavily but should work with both <code>java</code> and <code>kotlin</code>. Also, can be used by both that is either via custom <code>GestureDetector.OnGestureListener</code> or if class itself implement the <code>GestureDetector.OnGestureListener</code></p>\n<pre><code>public interface SafeOnGestureListener extends GestureDetector.OnGestureListener {\n\n  @Override\n  boolean onScroll(@Nullable MotionEvent e1, @Nullable MotionEvent e2, float distanceX,\n          \n  @Override\n  boolean onFling(@Nullable MotionEvent e1, @Nullable MotionEvent e2, float velocityX,\n                  float velocityY);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5389400,"reputation":1,"user_id":4292388,"display_name":"JRSoftworx"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689771341,"creation_date":1689771341,"answer_id":76721542,"question_id":73443456,"body_markdown":"Here&#39;s our temporary fix:\r\n\r\nFirst the Class header / protocol declaration:\r\n\r\n    @Suppress(&quot;ABSTRACT_MEMBER_NOT_IMPLEMENTED&quot;)\r\n    class ActivityMain : AppCompatActivity(),\r\n        GestureDetector.OnGestureListener\r\n\r\nAnd second the method implementation:\r\n\r\n    @Suppress(&quot;ACCIDENTAL_OVERRIDE&quot;)\r\n    fun onScroll(\r\n        p0: MotionEvent?,\r\n        p1: MotionEvent,\r\n        distanceX: Float,\r\n        distanceY: Float\r\n    ): Boolean {\r\n        return true\r\n    }\r\n\r\nPlease note that there is no override before the onScroll implementation, since nothing is being overridden. And we added the &quot;?&quot; after MotionEvent.\r\n\r\nAs a result, &quot;onScroll&quot; will accept nulled-MotionEvents.\r\n","title":"Wrong nullable annotations: is there any way to overcome this on Kotlin, or should I use Java as a workaround?","body":"<p>Here's our temporary fix:</p>\n<p>First the Class header / protocol declaration:</p>\n<pre><code>@Suppress(&quot;ABSTRACT_MEMBER_NOT_IMPLEMENTED&quot;)\nclass ActivityMain : AppCompatActivity(),\n    GestureDetector.OnGestureListener\n</code></pre>\n<p>And second the method implementation:</p>\n<pre><code>@Suppress(&quot;ACCIDENTAL_OVERRIDE&quot;)\nfun onScroll(\n    p0: MotionEvent?,\n    p1: MotionEvent,\n    distanceX: Float,\n    distanceY: Float\n): Boolean {\n    return true\n}\n</code></pre>\n<p>Please note that there is no override before the onScroll implementation, since nothing is being overridden. And we added the &quot;?&quot; after MotionEvent.</p>\n<p>As a result, &quot;onScroll&quot; will accept nulled-MotionEvents.</p>\n"}],"owner":{"account_id":796053,"reputation":115361,"user_id":878126,"accept_rate":51,"display_name":"android developer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1152,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":3,"score":10,"last_activity_date":1689771341,"creation_date":1661163120,"question_id":73443456,"body_markdown":"Background\r\n--\r\nI work on some large project on Android, that was originally written 100% in Java. As I&#39;ve converted some files to Kotlin, I&#39;ve found at least 2 cases that the documentation and the code declare that some parameters of some functions should be non-null, so I&#39;ve let them stay this way on Kotlin too:\r\n - https://developer.android.com/reference/android/view/GestureDetector.OnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)\r\n- https://developer.android.com/reference/android/view/GestureDetector.SimpleOnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)\r\n\r\nMeaning they look as such :\r\n\r\n```\r\nboolean onFling(@NonNull MotionEvent e1, @NonNull MotionEvent e2, float velocityX, float velocityY);\r\n```\r\n\r\nThe problem\r\n--\r\nI&#39;ve noticed via Crashlytics that these 2 cases actually cause some devices to crash because of they are actually getting null values, as Kotlin is strict about such a thing (getting null when the parameter is set as non null).\r\n\r\nWhat I&#39;ve tried\r\n---\r\nI&#39;ve reported about this on the issue tracker ([**here**][1] and [**here**][2]), and I tried to find how to force Kotlin to allow the parameters to be nullable, despite the code behind that says they are not. Sadly, it will always cause the error of &quot;&#39;onFling&#39; overrides nothing&quot;, and won&#39;t let me build it.\r\n\r\nI can&#39;t find how to do it, so for now, I use Java. Meaning something like this:\r\n\r\n```\r\npublic class SimpleOnGestureListenerCompat extends GestureDetector.SimpleOnGestureListener {\r\n    @Override\r\n    public boolean onFling(@Nullable final MotionEvent e1, @Nullable final MotionEvent e2, final float velocityX, final float velocityY) {\r\n        return super.onFling(e1, e2, velocityX, velocityY);\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve also added Crashlytics to tell me if the second parameter can be null too, which is why I&#39;ve set it to be nullable as well.\r\n\r\nThe questions\r\n--\r\n1. Is this the only workaround I can use for now? Can&#39;t I use Kotlin somehow for this? Maybe use some annotation that removes the nullable check during runtime for new classes that I will make, that extend these problematic classes? \r\n2. Is this allowed only because Android Studio doesn&#39;t handle nullability so well/strict for Java, or is this expected to always be a possible workaround for Java? It didn&#39;t even show me a warning for using the wrong annotations\r\n \r\n  [1]: https://issuetracker.google.com/issues/206855618\r\n  [2]: https://issuetracker.google.com/issues/243267018","title":"Wrong nullable annotations: is there any way to overcome this on Kotlin, or should I use Java as a workaround?","body":"<h2>Background</h2>\n<p>I work on some large project on Android, that was originally written 100% in Java. As I've converted some files to Kotlin, I've found at least 2 cases that the documentation and the code declare that some parameters of some functions should be non-null, so I've let them stay this way on Kotlin too:</p>\n<ul>\n<li><a href=\"https://developer.android.com/reference/android/view/GestureDetector.OnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)\" rel=\"noreferrer\">https://developer.android.com/reference/android/view/GestureDetector.OnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)</a></li>\n<li><a href=\"https://developer.android.com/reference/android/view/GestureDetector.SimpleOnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)\" rel=\"noreferrer\">https://developer.android.com/reference/android/view/GestureDetector.SimpleOnGestureListener#onFling(android.view.MotionEvent,%20android.view.MotionEvent,%20float,%20float)</a></li>\n</ul>\n<p>Meaning they look as such :</p>\n<pre><code>boolean onFling(@NonNull MotionEvent e1, @NonNull MotionEvent e2, float velocityX, float velocityY);\n</code></pre>\n<h2>The problem</h2>\n<p>I've noticed via Crashlytics that these 2 cases actually cause some devices to crash because of they are actually getting null values, as Kotlin is strict about such a thing (getting null when the parameter is set as non null).</p>\n<h2>What I've tried</h2>\n<p>I've reported about this on the issue tracker (<a href=\"https://issuetracker.google.com/issues/206855618\" rel=\"noreferrer\"><strong>here</strong></a> and <a href=\"https://issuetracker.google.com/issues/243267018\" rel=\"noreferrer\"><strong>here</strong></a>), and I tried to find how to force Kotlin to allow the parameters to be nullable, despite the code behind that says they are not. Sadly, it will always cause the error of &quot;'onFling' overrides nothing&quot;, and won't let me build it.</p>\n<p>I can't find how to do it, so for now, I use Java. Meaning something like this:</p>\n<pre><code>public class SimpleOnGestureListenerCompat extends GestureDetector.SimpleOnGestureListener {\n    @Override\n    public boolean onFling(@Nullable final MotionEvent e1, @Nullable final MotionEvent e2, final float velocityX, final float velocityY) {\n        return super.onFling(e1, e2, velocityX, velocityY);\n    }\n}\n</code></pre>\n<p>I've also added Crashlytics to tell me if the second parameter can be null too, which is why I've set it to be nullable as well.</p>\n<h2>The questions</h2>\n<ol>\n<li>Is this the only workaround I can use for now? Can't I use Kotlin somehow for this? Maybe use some annotation that removes the nullable check during runtime for new classes that I will make, that extend these problematic classes?</li>\n<li>Is this allowed only because Android Studio doesn't handle nullability so well/strict for Java, or is this expected to always be a possible workaround for Java? It didn't even show me a warning for using the wrong annotations</li>\n</ol>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689755544,"post_id":76719345,"comment_id":135256619,"body_markdown":"Why have you tagged three languages?","body":"Why have you tagged three languages?"},{"owner":{"account_id":24762554,"reputation":53,"user_id":18646761,"display_name":"Umseizure"},"score":0,"creation_date":1689755611,"post_id":76719345,"comment_id":135256636,"body_markdown":"mb @tgdavies fixed it","body":"mb @tgdavies fixed it"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1689755614,"post_id":76719345,"comment_id":135256637,"body_markdown":"Please edit your question to explain what you want to happen when there are two values for one key.","body":"Please edit your question to explain what you want to happen when there are two values for one key."},{"owner":{"account_id":238684,"reputation":22543,"user_id":507738,"accept_rate":71,"display_name":"MC Emperor"},"score":2,"creation_date":1689755727,"post_id":76719345,"comment_id":135256665,"body_markdown":"You could use a `Map&lt;Integer, Set&lt;Integer&gt;&gt;` instead of a `Map&lt;Integer, Integer&gt;`.","body":"You could use a <code>Map&lt;Integer, Set&lt;Integer&gt;&gt;</code> instead of a <code>Map&lt;Integer, Integer&gt;</code>."}],"answers":[{"tags":[],"owner":{"account_id":23719347,"reputation":79,"user_id":22248291,"display_name":"Vinit Kundu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1689756684,"creation_date":1689756684,"answer_id":76719511,"question_id":76719345,"body_markdown":"you are trying to put two values (2 and 9) with the same key (1), but the HashMap will only keep the last value (9) for the key 1.\r\n\r\nIf you want to represent a tree-like structure with multiple children for each node, using a HashMap directly may not be suitable. Instead, you can use a different data structure to represent the tree. One approach could be to use a HashMap with Integer as keys and Lists of Integers as values, where each key represents a node, and the list contains all its child nodes.\r\n\r\nYou can do it like this\r\n\r\n    Map&lt;Integer, List&lt;Integer&gt;&gt; numberInput = new HashMap&lt;&gt;();\r\n    numberInput.put(1, new ArrayList&lt;&gt;());\r\n    numberInput.get(1).add(2);\r\n    numberInput.get(1).add(9);\r\n    numberInput.put(2, new ArrayList&lt;&gt;());\r\n    numberInput.get(2).add(3);\r\n    numberInput.put(7, new ArrayList&lt;&gt;());\r\n    numberInput.get(7).add(8);\r\n\r\n    int[][] matrix = new int[10][10];\r\n    for (int i = 1; i &lt;= matrix.length; i++) {\r\n        List&lt;Integer&gt; children = numberInput.get(i);\r\n        if (children != null) {\r\n            for (int j : children) {\r\n                matrix[i - 1][j - 1] = 1;\r\n            }\r\n        }\r\n    } ","title":"HashMap tree imitation duplicate key problem","body":"<p>you are trying to put two values (2 and 9) with the same key (1), but the HashMap will only keep the last value (9) for the key 1.</p>\n<p>If you want to represent a tree-like structure with multiple children for each node, using a HashMap directly may not be suitable. Instead, you can use a different data structure to represent the tree. One approach could be to use a HashMap with Integer as keys and Lists of Integers as values, where each key represents a node, and the list contains all its child nodes.</p>\n<p>You can do it like this</p>\n<pre><code>Map&lt;Integer, List&lt;Integer&gt;&gt; numberInput = new HashMap&lt;&gt;();\nnumberInput.put(1, new ArrayList&lt;&gt;());\nnumberInput.get(1).add(2);\nnumberInput.get(1).add(9);\nnumberInput.put(2, new ArrayList&lt;&gt;());\nnumberInput.get(2).add(3);\nnumberInput.put(7, new ArrayList&lt;&gt;());\nnumberInput.get(7).add(8);\n\nint[][] matrix = new int[10][10];\nfor (int i = 1; i &lt;= matrix.length; i++) {\n    List&lt;Integer&gt; children = numberInput.get(i);\n    if (children != null) {\n        for (int j : children) {\n            matrix[i - 1][j - 1] = 1;\n        }\n    }\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":17348847,"reputation":79,"user_id":12567771,"display_name":"Shekhar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689771258,"creation_date":1689759157,"answer_id":76719854,"question_id":76719345,"body_markdown":"I think the flaw is with your approach. The key of the Hashmap should be the location in your Matrix because that will be unique.\r\n\r\nIf we are using locations in serial i.e. (1,1) is referred as 1, and (1,2) is referred as 2 and (2,1) is referred as 3 than we can use location as key.\r\n\r\n\r\n    Map&lt;Integer,Integer&gt; numberInput = new HashMap&lt;Integer,Integer&gt;();\r\n      numberInput.put(2,1);\r\n      numberInput.put(9,1);\r\n      numberInput.put(3,2);\r\n      numberInput.put(8,7);\r\n\r\nIf we are setting in accurate fashion of matrix i.e. (2,1) = 3, we can use (2,1) as string\r\n\r\n    Map&lt;String,Integer&gt; numberInput = new HashMap&lt;String,Integer&gt;();\r\n      numberInput.put(&quot;2,1&quot;,1);\r\n      numberInput.put(&quot;2,2&quot;,1);\r\n\r\nThis way is more efficient and you will be able to fetch values by location.\r\nMoreover, if you pass a duplicate key it will &quot;update&quot; the value, which make sense for the case.","title":"HashMap tree imitation duplicate key problem","body":"<p>I think the flaw is with your approach. The key of the Hashmap should be the location in your Matrix because that will be unique.</p>\n<p>If we are using locations in serial i.e. (1,1) is referred as 1, and (1,2) is referred as 2 and (2,1) is referred as 3 than we can use location as key.</p>\n<pre><code>Map&lt;Integer,Integer&gt; numberInput = new HashMap&lt;Integer,Integer&gt;();\n  numberInput.put(2,1);\n  numberInput.put(9,1);\n  numberInput.put(3,2);\n  numberInput.put(8,7);\n</code></pre>\n<p>If we are setting in accurate fashion of matrix i.e. (2,1) = 3, we can use (2,1) as string</p>\n<pre><code>Map&lt;String,Integer&gt; numberInput = new HashMap&lt;String,Integer&gt;();\n  numberInput.put(&quot;2,1&quot;,1);\n  numberInput.put(&quot;2,2&quot;,1);\n</code></pre>\n<p>This way is more efficient and you will be able to fetch values by location.\nMoreover, if you pass a duplicate key it will &quot;update&quot; the value, which make sense for the case.</p>\n"}],"owner":{"account_id":24762554,"reputation":53,"user_id":18646761,"display_name":"Umseizure"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":86,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76719511,"answer_count":2,"score":1,"last_activity_date":1689771258,"creation_date":1689755482,"question_id":76719345,"body_markdown":"I have a simple code that takes an int and then a number that is attached to that number like a tree and a child. The thing is that the hashmap cant take 2 values attached to one key and just want to see if anyone has any ideas on how to fix it.\r\n\r\nBasically imagine you have a matrix 0000, and you input 1 (the row or the number the value is connected to) and 3(to the index of the matrix that will be filled) so it should return 0010\r\n\r\nHere is the code\r\n\r\n    Map&lt;Integer,Integer&gt; numberInput = new HashMap&lt;Integer,Integer&gt;();\r\n          numberInput.put(1,2);\r\n          numberInput.put(1,9);\r\n          numberInput.put(2,3);\r\n          numberInput.put(7,8);\r\n          int[][] matrix = new int[10][10];\r\n          for(int i = 0; i &lt; matrix.length;i++){\r\n              for(int j = 0; j &lt; matrix.length + 1;j++){\r\n                      if(numberInput.get(i) != null){\r\n                           if(j  == numberInput.get(i)){\r\n                               matrix[i-1][j-1] = 1;\r\n                           }\r\n                      }\r\n              }\r\n          }\r\n        for(int i = 0; i &lt; matrix.length;i ++){\r\n            for(int j = 0; j &lt; matrix.length;j++){\r\n                System.out.print(matrix[i][j]);\r\n            }\r\n            System.out.println();\r\n        }","title":"HashMap tree imitation duplicate key problem","body":"<p>I have a simple code that takes an int and then a number that is attached to that number like a tree and a child. The thing is that the hashmap cant take 2 values attached to one key and just want to see if anyone has any ideas on how to fix it.</p>\n<p>Basically imagine you have a matrix 0000, and you input 1 (the row or the number the value is connected to) and 3(to the index of the matrix that will be filled) so it should return 0010</p>\n<p>Here is the code</p>\n<pre><code>Map&lt;Integer,Integer&gt; numberInput = new HashMap&lt;Integer,Integer&gt;();\n      numberInput.put(1,2);\n      numberInput.put(1,9);\n      numberInput.put(2,3);\n      numberInput.put(7,8);\n      int[][] matrix = new int[10][10];\n      for(int i = 0; i &lt; matrix.length;i++){\n          for(int j = 0; j &lt; matrix.length + 1;j++){\n                  if(numberInput.get(i) != null){\n                       if(j  == numberInput.get(i)){\n                           matrix[i-1][j-1] = 1;\n                       }\n                  }\n          }\n      }\n    for(int i = 0; i &lt; matrix.length;i ++){\n        for(int j = 0; j &lt; matrix.length;j++){\n            System.out.print(matrix[i][j]);\n        }\n        System.out.println();\n    }\n</code></pre>\n"},{"tags":["java","optimization","mapping","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1640189377,"creation_date":1640189377,"answer_id":70451976,"question_id":70358583,"body_markdown":"This is currently not possible. However, what you can do is to use a combination of `constant` and `qualifiedByName`.\r\n\r\ne.g.\r\n\r\n\r\n```java\r\n    @Mapping(target = &quot;channel&quot;, constant = &quot;email&quot; qualifiedByName = &quot;getChannel&quot;)\r\n    Notification convert(Email emailEntity);\r\n\r\n    @Named(&quot;getChannel&quot;)\r\n    default Channel[] getChannel(String channelType) {\r\n        Channel channel;\r\n        if (&quot;email&quot;.equals(channelType)) {\r\n            channel = new Channel(&quot;email&quot;, 10);\r\n        } else {\r\n            throw new IllegalArgumentException(&quot;unknown channel type &quot; + channelType);\r\n        }\r\n\r\n        return new Channel[]{channel};\r\n    }\r\n```\r\n\r\nWhat is not known that much is that `constant` works in a similar way with qualifiers as other `Mapping#source`. Since 1.4 custom mappings between `String` (what is in `constant`) and the target type will be looked for in order to convert the constant value.","title":"mapstruct qualifiedByName without parameters simplify expression","body":"<p>This is currently not possible. However, what you can do is to use a combination of <code>constant</code> and <code>qualifiedByName</code>.</p>\n<p>e.g.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Mapping(target = &quot;channel&quot;, constant = &quot;email&quot; qualifiedByName = &quot;getChannel&quot;)\n    Notification convert(Email emailEntity);\n\n    @Named(&quot;getChannel&quot;)\n    default Channel[] getChannel(String channelType) {\n        Channel channel;\n        if (&quot;email&quot;.equals(channelType)) {\n            channel = new Channel(&quot;email&quot;, 10);\n        } else {\n            throw new IllegalArgumentException(&quot;unknown channel type &quot; + channelType);\n        }\n\n        return new Channel[]{channel};\n    }\n</code></pre>\n<p>What is not known that much is that <code>constant</code> works in a similar way with qualifiers as other <code>Mapping#source</code>. Since 1.4 custom mappings between <code>String</code> (what is in <code>constant</code>) and the target type will be looked for in order to convert the constant value.</p>\n"},{"tags":[],"owner":{"account_id":4792887,"reputation":1023,"user_id":4003272,"accept_rate":88,"display_name":"Mikhail Geyer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689771103,"creation_date":1689771103,"answer_id":76721511,"question_id":70358583,"body_markdown":"You can do it without using `source` by a direct call of the required method via `expression`:\r\n\r\n     @Mapping(target = &quot;channel&quot;, expression = &quot;java(getChannel())&quot;)\r\n     Notification convert(Email emailEntity);\r\n\r\nLooks like devellopers of `mapstruct` [do not want to support][1] the special feature for it.\r\n\r\n\r\n  [1]: https://github.com/mapstruct/mapstruct/issues/3216#issuecomment-1594482937","title":"mapstruct qualifiedByName without parameters simplify expression","body":"<p>You can do it without using <code>source</code> by a direct call of the required method via <code>expression</code>:</p>\n<pre><code> @Mapping(target = &quot;channel&quot;, expression = &quot;java(getChannel())&quot;)\n Notification convert(Email emailEntity);\n</code></pre>\n<p>Looks like devellopers of <code>mapstruct</code> <a href=\"https://github.com/mapstruct/mapstruct/issues/3216#issuecomment-1594482937\" rel=\"nofollow noreferrer\">do not want to support</a> the special feature for it.</p>\n"}],"owner":{"account_id":21482456,"reputation":103,"user_id":15829610,"display_name":"Nate Hiber"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3738,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1689771103,"creation_date":1639543769,"question_id":70358583,"body_markdown":"I would like to set a constant on the field, but with method call, i do not want to create an expression it looks terrible, i would like to simplify this call \r\n\r\n     @Mapping(target = &quot;channelNotification&quot;, expression= &quot;java(new ChannelNotification[]{ &quot; +\r\n                    &quot;new ChannelNotification(\\&quot;email\\&quot;, 10)})&quot;)\r\n    \r\n    \r\n\r\nto get something like this:\r\n\r\n     @Mapping(target = &quot;channel&quot;, qualifiedByName = &quot;getChannel&quot;)\r\n        Notification convert(Email emailEntity);\r\n    \r\n     @Named(&quot;getChannel&quot;)\r\n        default Channel[] getChannel() {//with empty params\r\n            return new Channel[]{new Channel(&quot;email&quot;, 10)};\r\n        }\r\n\r\nSource entity doesn&#39;t have field channelNotification, and i don&#39;t need to use it. I just want to set a constant like constant = *, but with method call\r\n","title":"mapstruct qualifiedByName without parameters simplify expression","body":"<p>I would like to set a constant on the field, but with method call, i do not want to create an expression it looks terrible, i would like to simplify this call</p>\n<pre><code> @Mapping(target = &quot;channelNotification&quot;, expression= &quot;java(new ChannelNotification[]{ &quot; +\n                &quot;new ChannelNotification(\\&quot;email\\&quot;, 10)})&quot;)\n</code></pre>\n<p>to get something like this:</p>\n<pre><code> @Mapping(target = &quot;channel&quot;, qualifiedByName = &quot;getChannel&quot;)\n    Notification convert(Email emailEntity);\n\n @Named(&quot;getChannel&quot;)\n    default Channel[] getChannel() {//with empty params\n        return new Channel[]{new Channel(&quot;email&quot;, 10)};\n    }\n</code></pre>\n<p>Source entity doesn't have field channelNotification, and i don't need to use it. I just want to set a constant like constant = *, but with method call</p>\n"},{"tags":["java","android","asynchronous","webview"],"owner":{"account_id":21866420,"reputation":19,"user_id":16481997,"display_name":"859 - Pawan Mokal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689771013,"creation_date":1689771013,"question_id":76721495,"body_markdown":"I have two methods method A and method B.\r\n\r\n\r\nMy target is achieve output of Javascript in same method A which called it.See sample code \r\n\r\n\r\n```\r\n\r\nWebview webview;\r\nvoid onCreate(Bundle B){\r\n   super.onCreate(B);\r\n \r\n   webview.addJavascriptInterface(this,&quot;android&quot;);\r\n   A();\r\n}\r\n\r\nvoid A(){\r\n   webview.loadUrl(&quot;javascript: android.B(100);&quot;);\r\n   //I expect here output of B() which is output of Javascript\r\n   int aa = ????;\r\n\r\n\r\n}\r\n\r\n@JavascriptInterface\r\nint B(int b){\r\n   return b;\r\n}\r\n\r\n```\r\n\r\n\r\nOn A() is called, javascript executed on webview, then B() is called by javascript.\r\n\r\nI want to do javascript continues the code where it executed. Suggest for &quot;????&quot;.","title":"android/Webview/ava get code to sync methods wait for others output","body":"<p>I have two methods method A and method B.</p>\n<p>My target is achieve output of Javascript in same method A which called it.See sample code</p>\n<pre><code>\nWebview webview;\nvoid onCreate(Bundle B){\n   super.onCreate(B);\n \n   webview.addJavascriptInterface(this,&quot;android&quot;);\n   A();\n}\n\nvoid A(){\n   webview.loadUrl(&quot;javascript: android.B(100);&quot;);\n   //I expect here output of B() which is output of Javascript\n   int aa = ????;\n\n\n}\n\n@JavascriptInterface\nint B(int b){\n   return b;\n}\n\n</code></pre>\n<p>On A() is called, javascript executed on webview, then B() is called by javascript.</p>\n<p>I want to do javascript continues the code where it executed. Suggest for &quot;????&quot;.</p>\n"},{"tags":["java","regex","string","parsing","csv"],"comments":[{"owner":{"account_id":5876528,"reputation":31,"user_id":4627200,"display_name":"Limone_77"},"score":0,"creation_date":1425418033,"post_id":28842160,"comment_id":45953507,"body_markdown":"I can only figure out how to parse the string within a certain range after splitting by commas, so I have string.split(&quot;,&quot;)[1] to return everything after the first comma and before the next comma but I can&#39;t figure out how to get everything after the first comma","body":"I can only figure out how to parse the string within a certain range after splitting by commas, so I have string.split(&quot;,&quot;)[1] to return everything after the first comma and before the next comma but I can&#39;t figure out how to get everything after the first comma"},{"owner":{"account_id":262968,"reputation":767110,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"score":0,"creation_date":1425419118,"post_id":28842160,"comment_id":45954086,"body_markdown":"How are you reading this file in Java code?","body":"How are you reading this file in Java code?"}],"answers":[{"tags":[],"owner":{"account_id":3696024,"reputation":1695,"user_id":3077349,"accept_rate":91,"display_name":"chris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425417965,"creation_date":1425417965,"answer_id":28842200,"question_id":28842160,"body_markdown":"Try String.indexOf(&quot;,&quot;) and so on.","title":"Returning substring of string after first occurence of a comma","body":"<p>Try String.indexOf(\",\") and so on.</p>\n"},{"tags":[],"owner":{"account_id":1054395,"reputation":53323,"user_id":1057429,"accept_rate":100,"display_name":"Nir Alfasi"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1425418094,"creation_date":1425418094,"answer_id":28842244,"question_id":28842160,"body_markdown":"You can do:\r\n\r\n    line.substring(line.indexOf(&quot;,&quot;)+1)","title":"Returning substring of string after first occurence of a comma","body":"<p>You can do:</p>\n\n<pre><code>line.substring(line.indexOf(\",\")+1)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5429275,"reputation":6376,"user_id":4320665,"accept_rate":67,"display_name":"ryanyuyu"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689771013,"creation_date":1425422028,"answer_id":28843329,"question_id":28842160,"body_markdown":"There are a couple of different ways of removing everything before the first occurrence of a `,`.  \r\n\r\n\r\n 1. Find the index (position) of the first `,` and [substring][1] using that index.  \r\n\r\nThis would look like\r\n\r\n    String wantedPart = lineOfText.substring(lineOfText.indexOf(&quot;,&quot;) + 1);\r\n\r\n\r\nSince `indexOf` returns the index of the `,` itself, you need to add one to get everything past it.\r\n\r\n----------\r\n\r\n\r\n 2. Use a better overload like [`String.split(String regex, int limit)`][2].  This overload allows you to match a maximum of `limit` substrings.  So with a limit of 2 results, it will split on the first `,` found and leave everything else in the second (final) element of the result array.\r\n\r\nIn your code, you could use\r\n\r\n    String wantedPart = lineOfText.split(&quot;,&quot;, 2)[1];\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int)\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)","title":"Returning substring of string after first occurence of a comma","body":"<p>There are a couple of different ways of removing everything before the first occurrence of a <code>,</code>.</p>\n<ol>\n<li>Find the index (position) of the first <code>,</code> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#substring(int)\" rel=\"nofollow noreferrer\">substring</a> using that index.</li>\n</ol>\n<p>This would look like</p>\n<pre><code>String wantedPart = lineOfText.substring(lineOfText.indexOf(&quot;,&quot;) + 1);\n</code></pre>\n<p>Since <code>indexOf</code> returns the index of the <code>,</code> itself, you need to add one to get everything past it.</p>\n<hr />\n<ol start=\"2\">\n<li>Use a better overload like <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/String.html#split(java.lang.String,%20int)\" rel=\"nofollow noreferrer\"><code>String.split(String regex, int limit)</code></a>.  This overload allows you to match a maximum of <code>limit</code> substrings.  So with a limit of 2 results, it will split on the first <code>,</code> found and leave everything else in the second (final) element of the result array.</li>\n</ol>\n<p>In your code, you could use</p>\n<pre><code>String wantedPart = lineOfText.split(&quot;,&quot;, 2)[1];\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5136349,"reputation":1773,"user_id":4114992,"display_name":"Donald_W"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425422551,"creation_date":1425422551,"answer_id":28843457,"question_id":28842160,"body_markdown":"If a shell script will do, you can use the `cut` command:\r\n\r\n`-d &#39;,&#39;` means use a comma as `-f2-` means use fields 2 onwards. \r\n\r\n    Machine:~ donald$ cat file.txt\r\n    0,1\r\n    1,2\r\n    3,4\r\n    5,6,7\r\n    8,10\r\n    9,10\r\n    Machine:~ donald$ cat file.txt | cut -d &#39;,&#39; -f2-\r\n    1\r\n    2\r\n    4\r\n    6,7\r\n    10\r\n    10\r\n    Machine:~ donald$\r\n   \r\n\r\n   \r\n","title":"Returning substring of string after first occurence of a comma","body":"<p>If a shell script will do, you can use the <code>cut</code> command:</p>\n\n<p><code>-d ','</code> means use a comma as <code>-f2-</code> means use fields 2 onwards. </p>\n\n<pre><code>Machine:~ donald$ cat file.txt\n0,1\n1,2\n3,4\n5,6,7\n8,10\n9,10\nMachine:~ donald$ cat file.txt | cut -d ',' -f2-\n1\n2\n4\n6,7\n10\n10\nMachine:~ donald$\n</code></pre>\n"}],"owner":{"account_id":5876528,"reputation":31,"user_id":4627200,"display_name":"Limone_77"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14322,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":4,"score":2,"last_activity_date":1689771013,"creation_date":1425417816,"question_id":28842160,"body_markdown":"How can I take this input CSV file: \r\n\r\n    0,1\r\n    1,2\r\n    3,4\r\n    5,6,7\r\n    8,10\r\n    9,10\r\n\r\nand return only the substring of each line after the first occurrence of &quot;,&quot; so that my output is:\r\n\r\n    1\r\n    2\r\n    4\r\n    6,7\r\n    10\r\n    10\r\n\r\n\r\nI can only figure out how to parse the string within a certain range after splitting by commas, so I am using `string.split(&quot;,&quot;)[1]` to return everything after the first comma and before the next comma but I can&#39;t figure out how to get everything after the first comma.  So for the inputs with more than one comma, I&#39;m missing data.","title":"Returning substring of string after first occurence of a comma","body":"<p>How can I take this input CSV file: </p>\n\n<pre><code>0,1\n1,2\n3,4\n5,6,7\n8,10\n9,10\n</code></pre>\n\n<p>and return only the substring of each line after the first occurrence of \",\" so that my output is:</p>\n\n<pre><code>1\n2\n4\n6,7\n10\n10\n</code></pre>\n\n<p>I can only figure out how to parse the string within a certain range after splitting by commas, so I am using <code>string.split(\",\")[1]</code> to return everything after the first comma and before the next comma but I can't figure out how to get everything after the first comma.  So for the inputs with more than one comma, I'm missing data.</p>\n"},{"tags":["java","maven","enunciate"],"owner":{"account_id":418378,"reputation":397,"user_id":794903,"accept_rate":73,"display_name":"ChambreNoire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689770907,"creation_date":1689769701,"question_id":76721288,"body_markdown":"I&#39;m updating a legacy project using java 8 and enunciate-maven-plugin version 2.13.0. I have updated to jdk 11 and enunciate-maven-plugin 2.15.1 and since this I have encountered problems.\r\n\r\nparent-pom\r\n\r\n    &lt;profile&gt;\r\n        &lt;id&gt;jax-rs-api&lt;/id&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.webcohesion.enunciate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;enunciate-core-annotations&lt;/artifactId&gt;\r\n                &lt;version&gt;${enunciate-maven-plugin.version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;com.webcohesion.enunciate&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;enunciate-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;docs&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/profile&gt;\r\n\r\nWhen the plugin is run by maven upon deploy, the following dto is not correctly compiled.\r\n\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time:  26.953 s\r\n    [INFO] Finished at: 2023-07-19T10:44:33+02:00\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal com.webcohesion.enunciate:enunciate-maven-plugin:2.15.0:docs (default) on project my-project: Compile failed of Java JSON client-side classes. -&gt; [Help 1]\r\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.webcohesion.enunciate:enunciate-maven-plugin:2.15.0:docs (default) on project my-project: Compile failed of Java JSON client-side classes.\r\n\r\ndto in question:\r\n \r\n    public abstract class IdentityView&lt;T&gt; {\r\n    \r\n        private String accountId;\r\n        private T profile;\r\n        private ConfigurationView configuration;\r\n    \r\n        // setters &amp; getters\r\n    }\r\n\r\nerrors:\r\n\r\n    C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:21: error: illegal start of type\r\n      private ? _profile;\r\n              ^\r\n    C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:21: error: &lt;identifier&gt; expected\r\n      private ? _profile;\r\n                        ^\r\n    C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:45: error: illegal start of type\r\n      public ? getProfile() {\r\n             ^\r\n    C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:45: error: invalid method declaration; return type required\r\n      public ? getProfile() {\r\n               ^\r\n    C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:53: error: illegal start of type\r\n      public void setProfile(? _profile) {\r\n    Any ideas ?\r\n\r\nI have no idea why enunciate is ignoring the generic T used at the class level and replacing it with a &#39;?&#39; within the getter and setters that it generates...\r\n\r\nMany thanks in advance!","title":"enunciate-maven-plugin fails to compile class with generic type","body":"<p>I'm updating a legacy project using java 8 and enunciate-maven-plugin version 2.13.0. I have updated to jdk 11 and enunciate-maven-plugin 2.15.1 and since this I have encountered problems.</p>\n<p>parent-pom</p>\n<pre><code>&lt;profile&gt;\n    &lt;id&gt;jax-rs-api&lt;/id&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.webcohesion.enunciate&lt;/groupId&gt;\n            &lt;artifactId&gt;enunciate-core-annotations&lt;/artifactId&gt;\n            &lt;version&gt;${enunciate-maven-plugin.version}&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;com.webcohesion.enunciate&lt;/groupId&gt;\n                &lt;artifactId&gt;enunciate-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;docs&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/profile&gt;\n</code></pre>\n<p>When the plugin is run by maven upon deploy, the following dto is not correctly compiled.</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time:  26.953 s\n[INFO] Finished at: 2023-07-19T10:44:33+02:00\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal com.webcohesion.enunciate:enunciate-maven-plugin:2.15.0:docs (default) on project my-project: Compile failed of Java JSON client-side classes. -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal com.webcohesion.enunciate:enunciate-maven-plugin:2.15.0:docs (default) on project my-project: Compile failed of Java JSON client-side classes.\n</code></pre>\n<p>dto in question:</p>\n<pre><code>public abstract class IdentityView&lt;T&gt; {\n\n    private String accountId;\n    private T profile;\n    private ConfigurationView configuration;\n\n    // setters &amp; getters\n}\n</code></pre>\n<p>errors:</p>\n<pre><code>C:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:21: error: illegal start of type\n  private ? _profile;\n          ^\nC:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:21: error: &lt;identifier&gt; expected\n  private ? _profile;\n                    ^\nC:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:45: error: illegal start of type\n  public ? getProfile() {\n         ^\nC:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:45: error: invalid method declaration; return type required\n  public ? getProfile() {\n           ^\nC:\\...\\my-project\\target\\enunciate\\java-json-client\\src\\com\\my-project\\data\\view\\IdentityView.java:53: error: illegal start of type\n  public void setProfile(? _profile) {\nAny ideas ?\n</code></pre>\n<p>I have no idea why enunciate is ignoring the generic T used at the class level and replacing it with a '?' within the getter and setters that it generates...</p>\n<p>Many thanks in advance!</p>\n"},{"tags":["java","spring-boot","web","heroku"],"comments":[{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1689770204,"post_id":76721331,"comment_id":135259897,"body_markdown":"Can you please show your pom.xml/build.gradle?","body":"Can you please show your pom.xml/build.gradle?"},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1689770430,"post_id":76721331,"comment_id":135259944,"body_markdown":"Please read: [Why is “Can someone help me?” not an actual question?](https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\">Why is “Can someone help me?” not an actual question?</a>"},{"owner":{"account_id":9097785,"reputation":23,"user_id":6771128,"display_name":"J Maine"},"score":0,"creation_date":1689770492,"post_id":76721331,"comment_id":135259965,"body_markdown":"@dan1stisonstrike, pom.xml has been added, thanks.","body":"@dan1stisonstrike, pom.xml has been added, thanks."},{"owner":{"account_id":9097785,"reputation":23,"user_id":6771128,"display_name":"J Maine"},"score":0,"creation_date":1689770561,"post_id":76721331,"comment_id":135259991,"body_markdown":"@Turing85 not sure i understand your question","body":"@Turing85 not sure i understand your question"},{"owner":{"account_id":15064163,"reputation":13519,"user_id":10871900,"display_name":"dan1st is crying"},"score":1,"creation_date":1689772024,"post_id":76721331,"comment_id":135260438,"body_markdown":"Try adding `&lt;java.version&gt;1.8&lt;/java.version&gt;` to the `&lt;properties&gt;` section of your pom.xml. Does that change anything?","body":"Try adding <code>&lt;java.version&gt;1.8&lt;&#47;java.version&gt;</code> to the <code>&lt;properties&gt;</code> section of your pom.xml. Does that change anything?"},{"owner":{"account_id":14763186,"reputation":101,"user_id":10661933,"display_name":"PawMaw"},"score":1,"creation_date":1689772485,"post_id":76721331,"comment_id":135260573,"body_markdown":"Read [this](https://www.baeldung.com/java-lang-unsupportedclassversion) article, might help","body":"Read <a href=\"https://www.baeldung.com/java-lang-unsupportedclassversion\" rel=\"nofollow noreferrer\">this</a> article, might help"}],"owner":{"account_id":9097785,"reputation":23,"user_id":6771128,"display_name":"J Maine"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689770445,"creation_date":1689769950,"question_id":76721331,"body_markdown":"i have a spring boot app that runs locally on my machine without any problem but when I deploy it on Heroku, I get these errors:\r\n\r\n     org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.UnsupportedClassVersionError: org/hibernate/annotations/common/reflection/ReflectionManager has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\r\n\r\nI use Intellij and i have done the necessary configurations to compile with Java 8.\r\n\r\nthe second error reads:\r\n\r\n    2023-07-19T12:15:09.744331+00:00 heroku[run.8115]: Awaiting client\r\n    2023-07-19T12:15:09.757393+00:00 heroku[run.8115]: Starting process with command `rdd-main`\r\n    2023-07-19T12:15:09.879225+00:00 heroku[run.8115]: State changed from starting to up\r\n    2023-07-19T12:15:13.029112+00:00 heroku[run.8115]: Process exited with status 127\r\n    2023-07-19T12:15:13.070949+00:00 heroku[run.8115]: State changed from up to complete\r\n\r\nPOM.xml is as follows:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;io.rdd&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;RDD&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;RDD-GHS_Accra&lt;/name&gt;\r\n    \t&lt;description&gt;RDD&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n    \t\t&lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t    &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\r\n    \t\t    &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n    \t\t    &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n        &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\r\n        &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n        \r\n        &lt;dependency&gt;\r\n    \t\t  &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n    \t\t  &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\r\n    \t\t  &lt;/dependency&gt;\r\n    \r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \r\n    \t&lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;configuration&gt;\r\n                &lt;source&gt;1.8&lt;/source&gt;\r\n                &lt;target&gt;1.8&lt;/target&gt;\r\n            &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n    \r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nI have read a lot of articles but none has any direct fix.\r\nCan anyone help, please?\r\n","title":"Process exited with status 127 after ddploying spring boot on heroku","body":"<p>i have a spring boot app that runs locally on my machine without any problem but when I deploy it on Heroku, I get these errors:</p>\n<pre><code> org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Invocation of init method failed; nested exception is java.lang.UnsupportedClassVersionError: org/hibernate/annotations/common/reflection/ReflectionManager has been compiled by a more recent version of the Java Runtime (class file version 55.0), this version of the Java Runtime only recognizes class file versions up to 52.0\n</code></pre>\n<p>I use Intellij and i have done the necessary configurations to compile with Java 8.</p>\n<p>the second error reads:</p>\n<pre><code>2023-07-19T12:15:09.744331+00:00 heroku[run.8115]: Awaiting client\n2023-07-19T12:15:09.757393+00:00 heroku[run.8115]: Starting process with command `rdd-main`\n2023-07-19T12:15:09.879225+00:00 heroku[run.8115]: State changed from starting to up\n2023-07-19T12:15:13.029112+00:00 heroku[run.8115]: Process exited with status 127\n2023-07-19T12:15:13.070949+00:00 heroku[run.8115]: State changed from up to complete\n</code></pre>\n<p>POM.xml is as follows:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;io.rdd&lt;/groupId&gt;\n    &lt;artifactId&gt;RDD&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;RDD-GHS_Accra&lt;/name&gt;\n    &lt;description&gt;RDD&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-thymeleaf&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate.validator&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n    &lt;groupId&gt;ch.qos.logback&lt;/groupId&gt;\n    &lt;artifactId&gt;logback-core&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n    \n    &lt;dependency&gt;\n          &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n          &lt;artifactId&gt;spring-security-core&lt;/artifactId&gt;\n          &lt;/dependency&gt;\n\n        \n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n\n    &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;configuration&gt;\n            &lt;source&gt;1.8&lt;/source&gt;\n            &lt;target&gt;1.8&lt;/target&gt;\n        &lt;/configuration&gt;\n    &lt;/plugin&gt;\n\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I have read a lot of articles but none has any direct fix.\nCan anyone help, please?</p>\n"},{"tags":["java","spring","spring-boot","hibernate","jpa"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1689761535,"post_id":76720117,"comment_id":135257941,"body_markdown":"Can you add the spring boot version that you are using?","body":"Can you add the spring boot version that you are using?"},{"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"score":0,"creation_date":1689762004,"post_id":76720117,"comment_id":135258030,"body_markdown":"updated above question with spring boot version.","body":"updated above question with spring boot version."}],"owner":{"account_id":15887085,"reputation":137,"user_id":11463156,"display_name":"Bhavesh Shah"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689770442,"creation_date":1689760898,"question_id":76720117,"body_markdown":"\r\nWe have a spring boot application where we configured two Datasource.\r\n\r\n1. SQL Server\r\n2. Postgres\r\n\r\nWe would like to run application even though secondary Datasource not accessible on startup.\r\n\r\nSo far I tried spring.datasource.continue-on-error=true and spring.sql.init.continue-on-error=true configuration but it was not working.\r\n\r\nPlease find below yaml configuration for primary and secondary datasource. We are using spring boot version 2.6.6.\r\n\r\n    spring:\r\n       datasource:\r\n         primary:\r\n           type: com.zaxxer.hikari.HikariDataSource\r\n           url: jdbc:sqlserver://localhost:58459;database=abcd;encrypt=false\r\n           username: sa\r\n           password: 1234\r\n           liquibase:\r\n              change-log: classpath:config/liquibase/master.xml\r\n           hikari:\r\n              poolName: Hikari\r\n              auto-commit: false\r\n              data-source-properties:\r\n                   cachePrepStmts: true\r\n                   prepStmtCacheSize: 250\r\n                   prepStmtCacheSqlLimit: 2048\r\n                   useServerPrepStmts: true\r\n         secondary:\r\n            url: jdbc:postgresql://localhost:5432/abcd\r\n            username: sa\r\n            password: 1234\r\n            driver: org.postgresql.Driver\r\n            dialect: org.hibernate.dialect.PostgreSQLDialect\r\n            physical_naming_strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\r\n            liquibase:\r\n              change-log: classpath:config/liquibase/master-postgre.xml","title":"How to continue on error if the secondary datasource not accessible?","body":"<p>We have a spring boot application where we configured two Datasource.</p>\n<ol>\n<li>SQL Server</li>\n<li>Postgres</li>\n</ol>\n<p>We would like to run application even though secondary Datasource not accessible on startup.</p>\n<p>So far I tried spring.datasource.continue-on-error=true and spring.sql.init.continue-on-error=true configuration but it was not working.</p>\n<p>Please find below yaml configuration for primary and secondary datasource. We are using spring boot version 2.6.6.</p>\n<pre><code>spring:\n   datasource:\n     primary:\n       type: com.zaxxer.hikari.HikariDataSource\n       url: jdbc:sqlserver://localhost:58459;database=abcd;encrypt=false\n       username: sa\n       password: 1234\n       liquibase:\n          change-log: classpath:config/liquibase/master.xml\n       hikari:\n          poolName: Hikari\n          auto-commit: false\n          data-source-properties:\n               cachePrepStmts: true\n               prepStmtCacheSize: 250\n               prepStmtCacheSqlLimit: 2048\n               useServerPrepStmts: true\n     secondary:\n        url: jdbc:postgresql://localhost:5432/abcd\n        username: sa\n        password: 1234\n        driver: org.postgresql.Driver\n        dialect: org.hibernate.dialect.PostgreSQLDialect\n        physical_naming_strategy: org.springframework.boot.orm.jpa.hibernate.SpringPhysicalNamingStrategy\n        liquibase:\n          change-log: classpath:config/liquibase/master-postgre.xml\n</code></pre>\n"},{"tags":["java","list","spring-boot"],"comments":[{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":1,"creation_date":1604152801,"post_id":64622378,"comment_id":114262867,"body_markdown":"In the future please don&#39;t post screenshots of error messages, post the error message itself as text instead.","body":"In the future please don&#39;t post screenshots of error messages, post the error message itself as text instead."},{"owner":{"account_id":9914090,"reputation":25,"user_id":7339659,"display_name":"Freddie"},"score":0,"creation_date":1604153135,"post_id":64622378,"comment_id":114262961,"body_markdown":"@JoachimSauer i didn&#39;t now that, but i couldn&#39;t copy the full error. That&#39;s the reason why i did a screenshot. But i will don&#39;t do it in the future","body":"@JoachimSauer i didn&#39;t now that, but i couldn&#39;t copy the full error. That&#39;s the reason why i did a screenshot. But i will don&#39;t do it in the future"}],"answers":[{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1604152681,"creation_date":1604152681,"answer_id":64622471,"question_id":64622378,"body_markdown":"`List.of` was added in [Java 9](https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of--), you need to make sure that you use JDK 9+  to compile your sources and that appropriate java version is set in the maven `pom.xml`.","title":"Cannot find symbol symbol method of() location interface java.util.list, unittests","body":"<p><code>List.of</code> was added in <a href=\"https://docs.oracle.com/javase/9/docs/api/java/util/List.html#of--\" rel=\"noreferrer\">Java 9</a>, you need to make sure that you use JDK 9+  to compile your sources and that appropriate java version is set in the maven <code>pom.xml</code>.</p>\n"},{"tags":[],"owner":{"account_id":3289024,"reputation":49,"user_id":2767738,"display_name":"Amit Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689770371,"creation_date":1689770371,"answer_id":76721393,"question_id":64622378,"body_markdown":"Use Java8 to resolve this error : \r\n List&lt;String&gt; openApiEndpoints =\r\n      Arrays.asList(&quot;/api/auth/register&quot;, &quot;/api/auth/token&quot;);","title":"Cannot find symbol symbol method of() location interface java.util.list, unittests","body":"<p>Use Java8 to resolve this error :\nList openApiEndpoints =\nArrays.asList(&quot;/api/auth/register&quot;, &quot;/api/auth/token&quot;);</p>\n"}],"owner":{"account_id":9914090,"reputation":25,"user_id":7339659,"display_name":"Freddie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9095,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1689770371,"creation_date":1604152123,"question_id":64622378,"body_markdown":"I&#39;m currently working on a spring boot application, where I&#39;m now writing the unittests. But when I run the command &#39;mvn test&#39;, I get the following error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nThis is the code\r\n\r\nBoardServiceTest.java\r\n```\r\n@Test\r\npublic void testGetBoards() {\r\n\tSet&lt;Lists&gt; list =  new HashSet&lt;Lists&gt;();\r\n\t\r\n\tList&lt;Board&gt; expectedBoards = List.of(\r\n\t\tnew Board(1, &quot;Studie&quot;, list),\r\n\t\tnew Board(2, &quot;Todo Applicatie&quot;, list)\r\n\t);\r\n\t\r\n\twhen(this.boardRepo.findAll()).thenReturn(expectedBoards);\r\n\t\r\n\tvar receivedBoards = this.boardService.getBoards();\r\n\tassertEquals(expectedBoards, receivedBoards);\r\n\tverify(this.boardRepo, times(1)).findAll();\r\n}\r\n```\r\n\r\nListsServiceTest.java\r\n```\r\n@Test\r\npublic void testGetLists() throws Exception {\t\r\n\tint boardId = 1;\r\n\tSet&lt;Task&gt; task = new HashSet&lt;&gt;();\r\n\r\n\tList&lt;Lists&gt; expectedLists = List.of(\r\n\t\tnew Lists(1, &quot;registered&quot;, new Board(), task),\r\n\t\tnew Lists(2, &quot;open&quot;, new Board(), task)\r\n\t);\r\n\t\r\n\twhen(this.listRepository.findAll()).thenReturn(expectedLists);\r\n\t\r\n\tvar receivedLists = this.listService.getLists(boardId);\r\n\t\r\n\tassertEquals(expectedLists, receivedLists);\r\n\tverify(this.listRepository, times(1)).findAll();\r\n}\r\n```\r\n\r\n  [1]: https://i.stack.imgur.com/uQpj9.png","title":"Cannot find symbol symbol method of() location interface java.util.list, unittests","body":"<p>I'm currently working on a spring boot application, where I'm now writing the unittests. But when I run the command 'mvn test', I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/uQpj9.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/uQpj9.png\" alt=\"enter image description here\" /></a></p>\n<p>This is the code</p>\n<p>BoardServiceTest.java</p>\n<pre><code>@Test\npublic void testGetBoards() {\n    Set&lt;Lists&gt; list =  new HashSet&lt;Lists&gt;();\n    \n    List&lt;Board&gt; expectedBoards = List.of(\n        new Board(1, &quot;Studie&quot;, list),\n        new Board(2, &quot;Todo Applicatie&quot;, list)\n    );\n    \n    when(this.boardRepo.findAll()).thenReturn(expectedBoards);\n    \n    var receivedBoards = this.boardService.getBoards();\n    assertEquals(expectedBoards, receivedBoards);\n    verify(this.boardRepo, times(1)).findAll();\n}\n</code></pre>\n<p>ListsServiceTest.java</p>\n<pre><code>@Test\npublic void testGetLists() throws Exception {   \n    int boardId = 1;\n    Set&lt;Task&gt; task = new HashSet&lt;&gt;();\n\n    List&lt;Lists&gt; expectedLists = List.of(\n        new Lists(1, &quot;registered&quot;, new Board(), task),\n        new Lists(2, &quot;open&quot;, new Board(), task)\n    );\n    \n    when(this.listRepository.findAll()).thenReturn(expectedLists);\n    \n    var receivedLists = this.listService.getLists(boardId);\n    \n    assertEquals(expectedLists, receivedLists);\n    verify(this.listRepository, times(1)).findAll();\n}\n</code></pre>\n"},{"tags":["java","spring","spring-boot","azure-pipelines-yaml"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689598174,"post_id":76704506,"comment_id":135231715,"body_markdown":"It would appear that application.yaml has now disappeared as a file resource. It won&#39;t do you any harm to dump the value of the classpath so you know what it is","body":"It would appear that application.yaml has now disappeared as a file resource. It won&#39;t do you any harm to dump the value of the classpath so you know what it is"},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1689660264,"post_id":76704506,"comment_id":135240978,"body_markdown":"The issue here is that, it is completely missing to read the application.yml file. The first line which starts with Config resource is missing","body":"The issue here is that, it is completely missing to read the application.yml file. The first line which starts with Config resource is missing"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689672577,"post_id":76704506,"comment_id":135243479,"body_markdown":"Unfortunately you haven&#39;t added anything to my last comment, but rather repeated it. Firstly, where is the resource *now* that contains the configuration you need?","body":"Unfortunately you haven&#39;t added anything to my last comment, but rather repeated it. Firstly, where is the resource <i>now</i> that contains the configuration you need?"},{"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"score":0,"creation_date":1689753527,"post_id":76704506,"comment_id":135256200,"body_markdown":"The resource is available in this location:  &#39;file [/etc/config/application.yaml]&#39;","body":"The resource is available in this location:  &#39;file [/etc/config/application.yaml]&#39;"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1689763241,"post_id":76704506,"comment_id":135258308,"body_markdown":"Why not try adding that manually?","body":"Why not try adding that manually?"}],"answers":[{"tags":[],"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689770354,"creation_date":1689770354,"answer_id":76721390,"question_id":76704506,"body_markdown":"Well, The issue seem to be with the way I set spring profile in my mvn command. Previously it was set to                 -Dspring.config.location=optional:classpath:/,optional:file:/etc/config/application.yaml\r\n\r\nI changed to \r\n-Dspring.config.location=file:/etc/config/application.yaml and it started working. However, I could not figure out the reason behind it. ","title":"Springboot is not loading application properties in cloud environment","body":"<p>Well, The issue seem to be with the way I set spring profile in my mvn command. Previously it was set to                 -Dspring.config.location=optional:classpath:/,optional:file:/etc/config/application.yaml</p>\n<p>I changed to\n-Dspring.config.location=file:/etc/config/application.yaml and it started working. However, I could not figure out the reason behind it.</p>\n"}],"owner":{"account_id":1632114,"reputation":707,"user_id":1506449,"display_name":"Sajit Gangadharan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721390,"answer_count":1,"score":0,"last_activity_date":1689770354,"creation_date":1689597291,"question_id":76704506,"body_markdown":"I have a weird case, I am currently working on upgrading my application with new jars. However after updating with New Jars. My deployment in cloud environment stopped working. It works absolutely fine in my local. \r\n\r\nThis jar has its own springboot configurations but I believe it should not affect my changes. \r\n\r\nWhen I print all the environment variables, I observed that my application.yml is not getting loaded which is causing this issue but I have no idea why ? Has one one come across similar situation.\r\n\r\nBefore upgrade: Springboot property source:\r\n\r\n```\r\nOriginTrackedMapPropertySource {name=&#39;Config resource &#39;file [/etc/config/application.yaml]&#39; via location &#39;optional:file:/etc/config/application.yaml&#39;&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;appDefaultConfig [classpath:/old-defaults.yml]&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;appDefaultConfig [classpath:/old-defaults.yml] (document #0)&#39;}\r\n```\r\n\r\nAfter upgrade: Springboot property source: \r\n\r\n```\r\n\r\nOriginTrackedMapPropertySource {name=&#39;appDefaultConfig [classpath:/new-defaults.yml]#default (document #1)&#39;}\r\nOriginTrackedMapPropertySource {name=&#39;appDefaultConfig [classpath:/new-defaults.yml] (document #0)&#39;}\r\n```\r\nI see that &#39;config resource &#39; in OriginTrackedMapPropertySource is missing after upgrade.\r\nAlso, I observed that spring active profile which was displaying earlier is now showing empty. \r\n\r\n\r\nI am using spring boot 2.7.4 Java 17 version. \r\n\r\n\r\n","title":"Springboot is not loading application properties in cloud environment","body":"<p>I have a weird case, I am currently working on upgrading my application with new jars. However after updating with New Jars. My deployment in cloud environment stopped working. It works absolutely fine in my local.</p>\n<p>This jar has its own springboot configurations but I believe it should not affect my changes.</p>\n<p>When I print all the environment variables, I observed that my application.yml is not getting loaded which is causing this issue but I have no idea why ? Has one one come across similar situation.</p>\n<p>Before upgrade: Springboot property source:</p>\n<pre><code>OriginTrackedMapPropertySource {name='Config resource 'file [/etc/config/application.yaml]' via location 'optional:file:/etc/config/application.yaml''}\nOriginTrackedMapPropertySource {name='appDefaultConfig [classpath:/old-defaults.yml]'}\nOriginTrackedMapPropertySource {name='appDefaultConfig [classpath:/old-defaults.yml] (document #0)'}\n</code></pre>\n<p>After upgrade: Springboot property source:</p>\n<pre><code>\nOriginTrackedMapPropertySource {name='appDefaultConfig [classpath:/new-defaults.yml]#default (document #1)'}\nOriginTrackedMapPropertySource {name='appDefaultConfig [classpath:/new-defaults.yml] (document #0)'}\n</code></pre>\n<p>I see that 'config resource ' in OriginTrackedMapPropertySource is missing after upgrade.\nAlso, I observed that spring active profile which was displaying earlier is now showing empty.</p>\n<p>I am using spring boot 2.7.4 Java 17 version.</p>\n"},{"tags":["java","spring-data-jpa"],"answers":[{"tags":[],"owner":{"account_id":7582042,"reputation":11,"user_id":5752454,"display_name":"Deepa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689770326,"creation_date":1689770003,"answer_id":76721342,"question_id":76720892,"body_markdown":"This should work:\r\n\r\n    List&lt;User&gt; findByNameContainingOrLastNameContainingAndId(String name, String lastName, Long id);","title":"JPA Repository - combination of and, or conditions","body":"<p>This should work:</p>\n<pre><code>List&lt;User&gt; findByNameContainingOrLastNameContainingAndId(String name, String lastName, Long id);\n</code></pre>\n"}],"owner":{"account_id":25861807,"reputation":11,"user_id":19594156,"display_name":"Rivkar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689770326,"creation_date":1689766670,"question_id":76720892,"body_markdown":"I want to create a query with a combination of and, or conditions in it\r\n\r\nin SQL it looks like select * from users where id = 5 and (name like &#39;Joe&#39; or last_name like &#39;Rose&#39;)\r\nhow can I do it in JPA Repository, I prefer not to use @Query, is it possible?","title":"JPA Repository - combination of and, or conditions","body":"<p>I want to create a query with a combination of and, or conditions in it</p>\n<p>in SQL it looks like select * from users where id = 5 and (name like 'Joe' or last_name like 'Rose')\nhow can I do it in JPA Repository, I prefer not to use @Query, is it possible?</p>\n"},{"tags":["java","android","audiorecord","amplitude","decibel"],"comments":[{"owner":{"account_id":957259,"reputation":29625,"user_id":982341,"display_name":"GreyBeardedGeek"},"score":0,"creation_date":1689770437,"post_id":76720945,"comment_id":135259946,"body_markdown":"Your decibel formula suggests that you may always be getting zero as your max amplitude for some reason.","body":"Your decibel formula suggests that you may always be getting zero as your max amplitude for some reason."}],"owner":{"account_id":6377464,"reputation":71,"user_id":4947948,"display_name":"Anshul Saraf"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":59,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689769892,"creation_date":1689766982,"question_id":76720945,"body_markdown":"I am using the Android `AudioRecord` to get a continuous audio buffer. During the`read`, I want to evaluate the highest decibel from the buffer.\r\n\r\nBelow is the configuration of AudioRecord:\r\n&gt;sample rate = 16000; channels = 1; bits per sample = 16;\r\n\r\nReading the buffer in a byte array:\r\n```\r\nint bufferSize = AudioRecord.getMinBufferSize(sampleRateInHz, channelConfig, audioFormat);\r\n// bufferSize is 1280 with sampleRateInHz = 16000, channelConfig = 16 and audioFormat = 2\r\n\r\nint bytesRead;\r\nbyte[] fullBuffer = null;\r\nbyte[] auxBuffer = null;\r\nbyte[] buffer = new byte[bufferSize];\r\n\r\nwhile(isRecording) {\r\n  bytesRead = recorder.read(buffer, 0, buffer.length);\r\n  if(fullBuffer == null) {\r\n    fullBuffer = new byte[buffer.length];\r\n    fullBuffer = buffer.clone();\r\n  }\r\n  else {\r\n    auxBuffer = fullBuffer.clone();\r\n    fullBuffer = new byte[buffer.length + fullBuffer.length];\r\n    System.arraycopy(auxBuffer, 0, fullBuffer, 0, auxBuffer.length);\r\n    System.arraycopy(buffer, 0, fullBuffer, auxBuffer.length, buffer.length);\r\n  }\r\n}\r\n```\r\nConverting this byte array to a short array:\r\n```\r\npublic static short[] convertByteArrayToShortArray(byte[] byteArray) {\r\n    short[] shortArray = new short[byteArray.length / 2];\r\n    for (int i = 0; i &lt; byteArray.length; i += 2) {\r\n      short sample = (short) ((byteArray[i] &lt;&lt; 8) | byteArray[i + 1]);\r\n      shortArray[i / 2] = sample;\r\n    }\r\n    return shortArray;\r\n  }\r\n```\r\nGetting the Max Amplitde from the short array:\r\n```\r\nshort[] shortBuffer = convertByteArrayToShortArray(fullBuffer);\r\n\r\ndouble maxAmplitude = Integer.MIN_VALUE;\r\n\r\nfor (int i = 0; i &lt; shortBuffer.length; i++) {\r\n  short sample = shortBuffer[i];\r\n  double amplitude = Math.abs(sample);\r\n  if (amplitude &gt; maxAmplitude) {\r\n    maxAmplitude = amplitude;\r\n  }\r\n}\r\n```\r\nCalculating the decibel from the max amplitude:\r\n```\r\ndouble db = 20 * Math.log10(maxAmplitude / 32768);\r\n```\r\nThe above is not returning realistic values for decibels. The deviation in value between total silence and loudness is none. \r\n\r\nBelow are some logs (note that the **Buffer** value is same for all logs):\r\n\r\n&gt; Buffer [B@25df3e4&lt;br/&gt; Buffer Length 1280&lt;br/&gt; Full Buffer [B@152c381&lt;br/&gt; Full Buffer Length 28160&lt;br/&gt; Short Buffer\r\n&gt; [S@e94bc26&lt;br/&gt; Short Buffer Length 14080&lt;br/&gt; Max Amplitude\r\n&gt; 32768.0&lt;br/&gt; Decibel 0.0&lt;br/&gt;\r\n&gt; \r\n&gt; Buffer [B@25df3e4&lt;br/&gt; Buffer Length 1280&lt;br/&gt; Full Buffer [B@48074b2&lt;br/&gt; Full Buffer Length 33280&lt;br/&gt; Short Buffer\r\n&gt; [S@1ec1c03&lt;br/&gt; Short Buffer Length 16640&lt;br/&gt; Max Amplitude\r\n&gt; 32768.0&lt;br/&gt; Decibel 0.0&lt;br/&gt;\r\n&gt; \r\n&gt; Buffer [B@25df3e4&lt;br/&gt; Buffer Length 1280&lt;br/&gt; Full Buffer [B@5f30f62&lt;br/&gt; Full Buffer Length 33280&lt;br/&gt; Short Buffer\r\n&gt; [S@ef998f3&lt;br/&gt; Short Buffer Length 16640&lt;br/&gt; Max Amplitude\r\n&gt; 32768.0&lt;br/&gt; Decibel 0.0&lt;br/&gt;\r\n&gt; \r\n&gt; Buffer [B@25df3e4&lt;br/&gt; Buffer Length 1280&lt;br/&gt; Full Buffer [B@e040029&lt;br/&gt; Full Buffer Length 33280&lt;br/&gt; Short Buffer\r\n&gt; [S@876bfae&lt;br/&gt; Short Buffer Length 16640&lt;br/&gt; Max Amplitude\r\n&gt; 32768.0&lt;br/&gt; Decibel 0.0&lt;br/&gt;\r\n\r\nPlease suggest what&#39;s wrong here.","title":"Calculate Decibels from AudioRecorder in Android","body":"<p>I am using the Android <code>AudioRecord</code> to get a continuous audio buffer. During the<code>read</code>, I want to evaluate the highest decibel from the buffer.</p>\n<p>Below is the configuration of AudioRecord:</p>\n<blockquote>\n<p>sample rate = 16000; channels = 1; bits per sample = 16;</p>\n</blockquote>\n<p>Reading the buffer in a byte array:</p>\n<pre><code>int bufferSize = AudioRecord.getMinBufferSize(sampleRateInHz, channelConfig, audioFormat);\n// bufferSize is 1280 with sampleRateInHz = 16000, channelConfig = 16 and audioFormat = 2\n\nint bytesRead;\nbyte[] fullBuffer = null;\nbyte[] auxBuffer = null;\nbyte[] buffer = new byte[bufferSize];\n\nwhile(isRecording) {\n  bytesRead = recorder.read(buffer, 0, buffer.length);\n  if(fullBuffer == null) {\n    fullBuffer = new byte[buffer.length];\n    fullBuffer = buffer.clone();\n  }\n  else {\n    auxBuffer = fullBuffer.clone();\n    fullBuffer = new byte[buffer.length + fullBuffer.length];\n    System.arraycopy(auxBuffer, 0, fullBuffer, 0, auxBuffer.length);\n    System.arraycopy(buffer, 0, fullBuffer, auxBuffer.length, buffer.length);\n  }\n}\n</code></pre>\n<p>Converting this byte array to a short array:</p>\n<pre><code>public static short[] convertByteArrayToShortArray(byte[] byteArray) {\n    short[] shortArray = new short[byteArray.length / 2];\n    for (int i = 0; i &lt; byteArray.length; i += 2) {\n      short sample = (short) ((byteArray[i] &lt;&lt; 8) | byteArray[i + 1]);\n      shortArray[i / 2] = sample;\n    }\n    return shortArray;\n  }\n</code></pre>\n<p>Getting the Max Amplitde from the short array:</p>\n<pre><code>short[] shortBuffer = convertByteArrayToShortArray(fullBuffer);\n\ndouble maxAmplitude = Integer.MIN_VALUE;\n\nfor (int i = 0; i &lt; shortBuffer.length; i++) {\n  short sample = shortBuffer[i];\n  double amplitude = Math.abs(sample);\n  if (amplitude &gt; maxAmplitude) {\n    maxAmplitude = amplitude;\n  }\n}\n</code></pre>\n<p>Calculating the decibel from the max amplitude:</p>\n<pre><code>double db = 20 * Math.log10(maxAmplitude / 32768);\n</code></pre>\n<p>The above is not returning realistic values for decibels. The deviation in value between total silence and loudness is none.</p>\n<p>Below are some logs (note that the <strong>Buffer</strong> value is same for all logs):</p>\n<blockquote>\n<p>Buffer [B@25df3e4<br/> Buffer Length 1280<br/> Full Buffer [B@152c381<br/> Full Buffer Length 28160<br/> Short Buffer\n[S@e94bc26<br/> Short Buffer Length 14080<br/> Max Amplitude\n32768.0<br/> Decibel 0.0<br/></p>\n<p>Buffer [B@25df3e4<br/> Buffer Length 1280<br/> Full Buffer [B@48074b2<br/> Full Buffer Length 33280<br/> Short Buffer\n[S@1ec1c03<br/> Short Buffer Length 16640<br/> Max Amplitude\n32768.0<br/> Decibel 0.0<br/></p>\n<p>Buffer [B@25df3e4<br/> Buffer Length 1280<br/> Full Buffer [B@5f30f62<br/> Full Buffer Length 33280<br/> Short Buffer\n[S@ef998f3<br/> Short Buffer Length 16640<br/> Max Amplitude\n32768.0<br/> Decibel 0.0<br/></p>\n<p>Buffer [B@25df3e4<br/> Buffer Length 1280<br/> Full Buffer [B@e040029<br/> Full Buffer Length 33280<br/> Short Buffer\n[S@876bfae<br/> Short Buffer Length 16640<br/> Max Amplitude\n32768.0<br/> Decibel 0.0<br/></p>\n</blockquote>\n<p>Please suggest what's wrong here.</p>\n"},{"tags":["java","android","video","documentation","video-editing"],"answers":[{"tags":[],"owner":{"account_id":8234124,"reputation":454,"user_id":6193960,"display_name":"Vishal Senjaliya"},"down_vote_count":1,"up_vote_count":8,"is_accepted":false,"score":7,"last_activity_date":1495623464,"creation_date":1495623464,"answer_id":44156378,"question_id":44156286,"body_markdown":"Follow this Github example and try to understand every functionality of this example.\r\n\r\nFirst Github Example Link : [Video Editing example][1]\r\n\r\n\r\nSecond Github Example Link :[Video Editing Example ][2]\r\n\r\nHope it will help you...\r\n\r\n\r\n  [1]: https://github.com/JaySardhara/Video-Editor\r\n  [2]: https://github.com/bhuvnesh123/FFmpeg-Video-Editor-Android","title":"Video editing in android studio","body":"<p>Follow this Github example and try to understand every functionality of this example.</p>\n\n<p>First Github Example Link : <a href=\"https://github.com/JaySardhara/Video-Editor\" rel=\"noreferrer\">Video Editing example</a></p>\n\n<p>Second Github Example Link :<a href=\"https://github.com/bhuvnesh123/FFmpeg-Video-Editor-Android\" rel=\"noreferrer\">Video Editing Example </a></p>\n\n<p>Hope it will help you...</p>\n"}],"owner":{"account_id":7939501,"reputation":625,"user_id":5994118,"accept_rate":50,"display_name":"Anders Lassen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12446,"favorite_count":0,"down_vote_count":3,"up_vote_count":9,"answer_count":1,"score":6,"last_activity_date":1689769819,"creation_date":1495623225,"question_id":44156286,"body_markdown":"i&#39;m looking on some documentation and examples as to how i should get started creating a video editing application. Been having a hard time finding anything useful, anyone who can guide me to something?\r\n\r\nThanks","title":"Video editing in android studio","body":"<p>i'm looking on some documentation and examples as to how i should get started creating a video editing application. Been having a hard time finding anything useful, anyone who can guide me to something?</p>\n\n<p>Thanks</p>\n"},{"tags":["java","swing","java-threads"],"comments":[{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1689773625,"post_id":76721308,"comment_id":135260898,"body_markdown":"Quite possibly a memory leak. Maybe look into using a memory profiler tool?","body":"Quite possibly a memory leak. Maybe look into using a memory profiler tool?"},{"owner":{"account_id":9215204,"reputation":11,"user_id":6846630,"display_name":"Theo S"},"score":0,"creation_date":1697111487,"post_id":76721308,"comment_id":136240062,"body_markdown":"Well after lots of testing and carefully checking the code, it seems this wasn&#39;t a problem with the code at all but a problem with the resources. The VM was a little low on memory and disk space was getting filled to the brim on occasion having 5MB of disk left. We applied more resources and haven&#39;t encountered the problem again.","body":"Well after lots of testing and carefully checking the code, it seems this wasn&#39;t a problem with the code at all but a problem with the resources. The VM was a little low on memory and disk space was getting filled to the brim on occasion having 5MB of disk left. We applied more resources and haven&#39;t encountered the problem again."}],"owner":{"account_id":9215204,"reputation":11,"user_id":6846630,"display_name":"Theo S"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689769813,"creation_date":1689769813,"question_id":76721308,"body_markdown":"so we built this internal tool running 24/7 on a VM as daemon, doing some jobs on a worker thread and also built a simple swing GUI for our own convenience that informs us of progress, any problems etc.\r\n\r\nThe problem is that after running for a few days, the GUI can completely freeze, meaning no more updates, no responsiveness on the scrollbar or window buttons, and if you try to resize the window, the resized portion blacks out. \r\n\r\nThe worker thread keeps working without a hiccup on the background and keeps logging its work.\r\n\r\nI&#39;ve also attached a debugger to the JVM in order to see if I can understand what is happening, but if  I try to access the component and invoke any method on it (e.g.  .getName(); or anything) the debugger hangs forever trying to evaluate.\r\n\r\nAs far as I know, all GUI operations need to be on the EDT thread, and all interactions with the component happen through the #appendTextToGui methods which uses the EDT.\r\nThe worker thread that calls #appendTextTextToGui is a java.lang.Thread not a SwingWorker if that makes a difference.\r\nFinally, that Thread is calling an external python process with the Java ProcessBuilder, and any output from the python script is piped to the java InputStream and sent to #appendTextToGui\r\n\r\n\r\n\r\n```\r\npublic class ProgressGUI extends JFrame {\r\n    private static ProgressGUI instance;\r\n    static JTextPane textpane;\r\n    private StyleContext context;\r\n    private String previousMessage;\r\n\r\n    public static ProgressGUI getProgressPanel() {\r\n        if (instance == null) {\r\n            instance = new ProgressGUI();\r\n        }\r\n        return instance;\r\n    }\r\n\r\n    private ProgressGUI() {\r\n        LimitedSizeDocument document = new LimitedSizeDocument();\r\n        textpane = new JTextPane(document);\r\n        textpane.setFont(textpane.getFont().deriveFont(24f));\r\n        textpane.setEditable(false);\r\n        textpane.setOpaque(false);\r\n        context = new StyleContext();\r\n\r\n        this.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\r\n        this.addWindowListener(new WindowAdapter() {\r\n            @Override\r\n            public void windowClosing(WindowEvent e) {\r\n                int result = JOptionPane.showConfirmDialog(instance, &quot;Exit request. Are you sure you want to close this worker?&quot;, &quot;Confirm Exit&quot;, JOptionPane.YES_NO_OPTION);\r\n                if (result == JOptionPane.YES_OPTION) {\r\n                    if(MailboxProcessor.isProcessorRunning()) {\r\n                        MailboxProcessor.requestShutdown();\r\n                    }\r\n                    else{\r\n                        System.exit(0);\r\n                    }\r\n                }\r\n            }\r\n        });\r\n        this.getContentPane().add(getContentPanel(textpane));\r\n        this.pack();\r\n        this.setSize(new Dimension(1400, 800));\r\n        this.setLocationRelativeTo(null);\r\n        this.setVisible(true);\r\n    }\r\n\r\n    private Style getTextStyle(Color color) {\r\n        if (context.getStyle(color.toString()) == null) {\r\n            // build a style and set some style properties\r\n            Style newStyle = context.addStyle(color.toString(), null);\r\n            StyleConstants.setForeground(newStyle, color);\r\n            return newStyle;\r\n        }\r\n        return context.getStyle(color.toString());\r\n    }\r\n\r\n    private JPanel getContentPanel(JTextComponent textComponent) {\r\n        JPanel jPanel = new JPanel();\r\n        jPanel.setLayout(new BorderLayout());\r\n\r\n        Image backGroundImage = new ImageIcon(FolderStructure.CONFIG_FOLDER + &quot;inter.png&quot;).getImage();\r\n\r\n        JViewport viewport = new JViewport() {\r\n            @Override\r\n            protected void paintComponent(Graphics g) {\r\n                super.paintComponent(g); //initialize the default behaviour of the graphics\r\n                g.setColor(Color.WHITE); //change the color of the background of the graphic context\r\n                g.fillRect(0, 0, getWidth(), getHeight());\r\n\r\n                // Paint image\r\n                if (backGroundImage != null) {\r\n                    Graphics2D g2d = (Graphics2D) g.create(); //create copy of the original graphic (that would be the bare background and TextPane)\r\n                    g2d.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.5f)); //any new graphic that is now added (our image) is painted with SRC_OVER on top of the original graphic, and with transparency 0.5f\r\n                    g2d.drawImage(backGroundImage, 0, 0, getWidth(), getHeight(), this);\r\n                    g2d.dispose();\r\n                }\r\n            }\r\n        };\r\n\r\n\r\n        JScrollPane jScrollPane = new JScrollPane(textComponent, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\r\n        jScrollPane.setViewport(viewport);\r\n        jScrollPane.setViewportView(textComponent);\r\n\r\n        //add AdjustmentListener to implement autoscrolling when the scrollbar is at the bottom and not getting adjusted by the user\r\n        jScrollPane.getVerticalScrollBar().addAdjustmentListener(new AdjustmentListener() {\r\n            BoundedRangeModel brm = jScrollPane.getVerticalScrollBar().getModel();\r\n            boolean wasAtBottom = true;\r\n\r\n            @Override\r\n            public void adjustmentValueChanged(AdjustmentEvent e) {\r\n                SwingUtilities.invokeLater(new Runnable() {\r\n                    @Override\r\n                    public void run() {\r\n                        if (!brm.getValueIsAdjusting()) {\r\n                            if (wasAtBottom) {\r\n                                brm.setValue(brm.getMaximum());\r\n                            }\r\n                        } else {\r\n                            wasAtBottom = ((brm.getValue() + brm.getExtent()) == brm.getMaximum());\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        });\r\n\r\n        jPanel.add(jScrollPane);\r\n        return jPanel;\r\n    }\r\n\r\n    public void appendTextToGUI(String str) {\r\n        appendTextToGUI(str, Color.BLACK);\r\n    }\r\n\r\n    public void appendTextToGUI(String str, Color color) {\r\n        if (str.equals(previousMessage)) return; //prevent spam when checking for new emails many times\r\n        previousMessage = str;\r\n        SwingUtilities.invokeLater(new Runnable() { //GUI modification need to run on EDT\r\n            @Override\r\n            public void run() {\r\n                try {\r\n                    Document document = textpane.getDocument();\r\n                    document.insertString(document.getLength(), str + System.lineSeparator(), getTextStyle(color));\r\n                    ProgressGUI.this.revalidate();\r\n                    ProgressGUI.this.repaint();\r\n                } catch (BadLocationException e) {\r\n                    Provider.getLogger().info(e.getMessage() + &quot; for string &quot; + str);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Limited size Document class was created to keep the size of the Text Pane of the constantly running workers in check\r\n     */\r\n    private class LimitedSizeDocument extends DefaultStyledDocument {\r\n        private int MAX_DOC_SIZE = 100000;\r\n        @Override\r\n        public void insertString(int offs, String additionalString, AttributeSet a) throws BadLocationException {\r\n            // Calculate the number of characters that will exceed the maximum size\r\n            int excess = (getLength() + additionalString.length()) - MAX_DOC_SIZE;\r\n            if (excess &gt; 0) {\r\n                // If the inserted text exceeds the maximum size, discard the oldest characters\r\n                int removeCount = Math.min(offs, excess);\r\n                super.remove(0, removeCount);\r\n                offs = offs - removeCount;\r\n            }\r\n            // Insert the new text\r\n            super.insertString(offs, additionalString, a);\r\n        }\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nCan you spot anything that would cause such a problem?\r\n\r\n\r\nI made a quick stress test bombarding the GUI with updates in a short time but couldn&#39;t reproduce the problem\r\n\r\n\r\n```\r\n    @Ignore\r\n    @Test\r\n    public void testSTRESSProgressGUI() throws BadLocationException, InterruptedException, InvocationTargetException {\r\n        ProgressGUI progressGUI = ProgressGUI.getProgressPanel();\r\n        progressGUI.setVisible(true);\r\n\r\n        String str1 = &quot;progressing...&quot;;\r\n        String str2 = &quot;finished&quot;;\r\n        while(true){\r\n            progressGUI.appendTextToGUI(str1 + str2 + new Random().nextInt(((int) Instant.now().getEpochSecond()))+ str1+str1+str1+str1+str1+str1+str1 + str2 + new Random().nextInt(((int) Instant.now().getEpochSecond()))+ str1+str1+str1+str1+str1+str1+str1 + str2 +str1+str1+new Random().nextInt(((int) Instant.now().getEpochSecond()))+str1+str1+str1+str1);\r\n            progressGUI.appendTextToGUI(&quot;\\uD83E\\uDD91 Stalking for new emails... \\uD83E\\uDD91 &quot;, new Color(0, 185, 0));\r\n            progressGUI.appendTextToGUI(&quot;\\uD83C\\uDF89OCR batch finished!\\uD83C\\uDF89&quot; + System.lineSeparator(), Color.MAGENTA);\r\n            Thread.sleep(50);\r\n        }\r\n    }\r\n```\r\n\r\nUnlikely but is it possible that the component could be affected by the VM not having a screen to display most of the time(only shown when we remotely connect to it)?\r\n","title":"Java Swing component freezes after running for a few days","body":"<p>so we built this internal tool running 24/7 on a VM as daemon, doing some jobs on a worker thread and also built a simple swing GUI for our own convenience that informs us of progress, any problems etc.</p>\n<p>The problem is that after running for a few days, the GUI can completely freeze, meaning no more updates, no responsiveness on the scrollbar or window buttons, and if you try to resize the window, the resized portion blacks out.</p>\n<p>The worker thread keeps working without a hiccup on the background and keeps logging its work.</p>\n<p>I've also attached a debugger to the JVM in order to see if I can understand what is happening, but if  I try to access the component and invoke any method on it (e.g.  .getName(); or anything) the debugger hangs forever trying to evaluate.</p>\n<p>As far as I know, all GUI operations need to be on the EDT thread, and all interactions with the component happen through the #appendTextToGui methods which uses the EDT.\nThe worker thread that calls #appendTextTextToGui is a java.lang.Thread not a SwingWorker if that makes a difference.\nFinally, that Thread is calling an external python process with the Java ProcessBuilder, and any output from the python script is piped to the java InputStream and sent to #appendTextToGui</p>\n<pre><code>public class ProgressGUI extends JFrame {\n    private static ProgressGUI instance;\n    static JTextPane textpane;\n    private StyleContext context;\n    private String previousMessage;\n\n    public static ProgressGUI getProgressPanel() {\n        if (instance == null) {\n            instance = new ProgressGUI();\n        }\n        return instance;\n    }\n\n    private ProgressGUI() {\n        LimitedSizeDocument document = new LimitedSizeDocument();\n        textpane = new JTextPane(document);\n        textpane.setFont(textpane.getFont().deriveFont(24f));\n        textpane.setEditable(false);\n        textpane.setOpaque(false);\n        context = new StyleContext();\n\n        this.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);\n        this.addWindowListener(new WindowAdapter() {\n            @Override\n            public void windowClosing(WindowEvent e) {\n                int result = JOptionPane.showConfirmDialog(instance, &quot;Exit request. Are you sure you want to close this worker?&quot;, &quot;Confirm Exit&quot;, JOptionPane.YES_NO_OPTION);\n                if (result == JOptionPane.YES_OPTION) {\n                    if(MailboxProcessor.isProcessorRunning()) {\n                        MailboxProcessor.requestShutdown();\n                    }\n                    else{\n                        System.exit(0);\n                    }\n                }\n            }\n        });\n        this.getContentPane().add(getContentPanel(textpane));\n        this.pack();\n        this.setSize(new Dimension(1400, 800));\n        this.setLocationRelativeTo(null);\n        this.setVisible(true);\n    }\n\n    private Style getTextStyle(Color color) {\n        if (context.getStyle(color.toString()) == null) {\n            // build a style and set some style properties\n            Style newStyle = context.addStyle(color.toString(), null);\n            StyleConstants.setForeground(newStyle, color);\n            return newStyle;\n        }\n        return context.getStyle(color.toString());\n    }\n\n    private JPanel getContentPanel(JTextComponent textComponent) {\n        JPanel jPanel = new JPanel();\n        jPanel.setLayout(new BorderLayout());\n\n        Image backGroundImage = new ImageIcon(FolderStructure.CONFIG_FOLDER + &quot;inter.png&quot;).getImage();\n\n        JViewport viewport = new JViewport() {\n            @Override\n            protected void paintComponent(Graphics g) {\n                super.paintComponent(g); //initialize the default behaviour of the graphics\n                g.setColor(Color.WHITE); //change the color of the background of the graphic context\n                g.fillRect(0, 0, getWidth(), getHeight());\n\n                // Paint image\n                if (backGroundImage != null) {\n                    Graphics2D g2d = (Graphics2D) g.create(); //create copy of the original graphic (that would be the bare background and TextPane)\n                    g2d.setComposite(AlphaComposite.getInstance(AlphaComposite.SRC_OVER, 0.5f)); //any new graphic that is now added (our image) is painted with SRC_OVER on top of the original graphic, and with transparency 0.5f\n                    g2d.drawImage(backGroundImage, 0, 0, getWidth(), getHeight(), this);\n                    g2d.dispose();\n                }\n            }\n        };\n\n\n        JScrollPane jScrollPane = new JScrollPane(textComponent, JScrollPane.VERTICAL_SCROLLBAR_ALWAYS, JScrollPane.HORIZONTAL_SCROLLBAR_NEVER);\n        jScrollPane.setViewport(viewport);\n        jScrollPane.setViewportView(textComponent);\n\n        //add AdjustmentListener to implement autoscrolling when the scrollbar is at the bottom and not getting adjusted by the user\n        jScrollPane.getVerticalScrollBar().addAdjustmentListener(new AdjustmentListener() {\n            BoundedRangeModel brm = jScrollPane.getVerticalScrollBar().getModel();\n            boolean wasAtBottom = true;\n\n            @Override\n            public void adjustmentValueChanged(AdjustmentEvent e) {\n                SwingUtilities.invokeLater(new Runnable() {\n                    @Override\n                    public void run() {\n                        if (!brm.getValueIsAdjusting()) {\n                            if (wasAtBottom) {\n                                brm.setValue(brm.getMaximum());\n                            }\n                        } else {\n                            wasAtBottom = ((brm.getValue() + brm.getExtent()) == brm.getMaximum());\n                        }\n                    }\n                });\n            }\n        });\n\n        jPanel.add(jScrollPane);\n        return jPanel;\n    }\n\n    public void appendTextToGUI(String str) {\n        appendTextToGUI(str, Color.BLACK);\n    }\n\n    public void appendTextToGUI(String str, Color color) {\n        if (str.equals(previousMessage)) return; //prevent spam when checking for new emails many times\n        previousMessage = str;\n        SwingUtilities.invokeLater(new Runnable() { //GUI modification need to run on EDT\n            @Override\n            public void run() {\n                try {\n                    Document document = textpane.getDocument();\n                    document.insertString(document.getLength(), str + System.lineSeparator(), getTextStyle(color));\n                    ProgressGUI.this.revalidate();\n                    ProgressGUI.this.repaint();\n                } catch (BadLocationException e) {\n                    Provider.getLogger().info(e.getMessage() + &quot; for string &quot; + str);\n                }\n            }\n        });\n    }\n\n    /**\n     * Limited size Document class was created to keep the size of the Text Pane of the constantly running workers in check\n     */\n    private class LimitedSizeDocument extends DefaultStyledDocument {\n        private int MAX_DOC_SIZE = 100000;\n        @Override\n        public void insertString(int offs, String additionalString, AttributeSet a) throws BadLocationException {\n            // Calculate the number of characters that will exceed the maximum size\n            int excess = (getLength() + additionalString.length()) - MAX_DOC_SIZE;\n            if (excess &gt; 0) {\n                // If the inserted text exceeds the maximum size, discard the oldest characters\n                int removeCount = Math.min(offs, excess);\n                super.remove(0, removeCount);\n                offs = offs - removeCount;\n            }\n            // Insert the new text\n            super.insertString(offs, additionalString, a);\n        }\n    }\n}\n\n</code></pre>\n<p>Can you spot anything that would cause such a problem?</p>\n<p>I made a quick stress test bombarding the GUI with updates in a short time but couldn't reproduce the problem</p>\n<pre><code>    @Ignore\n    @Test\n    public void testSTRESSProgressGUI() throws BadLocationException, InterruptedException, InvocationTargetException {\n        ProgressGUI progressGUI = ProgressGUI.getProgressPanel();\n        progressGUI.setVisible(true);\n\n        String str1 = &quot;progressing...&quot;;\n        String str2 = &quot;finished&quot;;\n        while(true){\n            progressGUI.appendTextToGUI(str1 + str2 + new Random().nextInt(((int) Instant.now().getEpochSecond()))+ str1+str1+str1+str1+str1+str1+str1 + str2 + new Random().nextInt(((int) Instant.now().getEpochSecond()))+ str1+str1+str1+str1+str1+str1+str1 + str2 +str1+str1+new Random().nextInt(((int) Instant.now().getEpochSecond()))+str1+str1+str1+str1);\n            progressGUI.appendTextToGUI(&quot;\\uD83E\\uDD91 Stalking for new emails... \\uD83E\\uDD91 &quot;, new Color(0, 185, 0));\n            progressGUI.appendTextToGUI(&quot;\\uD83C\\uDF89OCR batch finished!\\uD83C\\uDF89&quot; + System.lineSeparator(), Color.MAGENTA);\n            Thread.sleep(50);\n        }\n    }\n</code></pre>\n<p>Unlikely but is it possible that the component could be affected by the VM not having a screen to display most of the time(only shown when we remotely connect to it)?</p>\n"},{"tags":["java","spring","hook","shutdown","sigterm"],"comments":[{"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"score":0,"creation_date":1689765087,"post_id":76720366,"comment_id":135258711,"body_markdown":"How do you schedule the async process that runs every 1 second? Do you use `@Scheduled` annotation?","body":"How do you schedule the async process that runs every 1 second? Do you use <code>@Scheduled</code> annotation?"},{"owner":{"account_id":27261442,"reputation":11,"user_id":20784217,"display_name":"essaPL"},"score":0,"creation_date":1689767611,"post_id":76720366,"comment_id":135259271,"body_markdown":"Yes, it&#39;s @Scheduled and runs every 1 second, i&#39;d just make a flag on start of this method and set it when catching a SIGTERM so no new data is being processed, but i still have to process the already processing data when receiving SIGTERM.","body":"Yes, it&#39;s @Scheduled and runs every 1 second, i&#39;d just make a flag on start of this method and set it when catching a SIGTERM so no new data is being processed, but i still have to process the already processing data when receiving SIGTERM."}],"answers":[{"tags":[],"owner":{"account_id":18535178,"reputation":340,"user_id":13505007,"display_name":"Spyros Palaiokostas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689769348,"creation_date":1689769348,"answer_id":76721238,"question_id":76720366,"body_markdown":"The scheduled tasks are handled by Spring&#39;s `TaskExecutor` you can configure it to set a max wait time before termination and set a flag to wait for the task on shutdown.\r\n\r\nYou can configure the `TaskExecutor` by creating a custom ThreadPoolTaskExecutor bean.\r\n\r\nFor example:\r\n```java\r\n@Bean\r\npublic TaskExecutor taskExecutor() {\r\n    ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\r\n    taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\r\n    taskExecutor.initialize();\r\n    return taskExecutor;\r\n}\r\n```\r\n\r\nAdditionally, you can set the option for max wait time:\r\n```java\r\ntaskExecutor.setAwaitTerminationSeconds(60);\r\n```\r\nthe reason behind this:\r\n\r\n&gt; Though we&#39;ve configured to wait for ongoing and queued-up tasks to complete, Spring continues with the shutdown of the rest of the container. This could release resources needed by our task executor and cause the tasks to fail.\r\n\r\nYou can read more [here][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/spring-boot-graceful-shutdown","title":"How to catch SIGTERM signal to process stuff in app and then terminate in Java","body":"<p>The scheduled tasks are handled by Spring's <code>TaskExecutor</code> you can configure it to set a max wait time before termination and set a flag to wait for the task on shutdown.</p>\n<p>You can configure the <code>TaskExecutor</code> by creating a custom ThreadPoolTaskExecutor bean.</p>\n<p>For example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\npublic TaskExecutor taskExecutor() {\n    ThreadPoolTaskExecutor taskExecutor = new ThreadPoolTaskExecutor();\n    taskExecutor.setWaitForTasksToCompleteOnShutdown(true);\n    taskExecutor.initialize();\n    return taskExecutor;\n}\n</code></pre>\n<p>Additionally, you can set the option for max wait time:</p>\n<pre class=\"lang-java prettyprint-override\"><code>taskExecutor.setAwaitTerminationSeconds(60);\n</code></pre>\n<p>the reason behind this:</p>\n<blockquote>\n<p>Though we've configured to wait for ongoing and queued-up tasks to complete, Spring continues with the shutdown of the rest of the container. This could release resources needed by our task executor and cause the tasks to fail.</p>\n</blockquote>\n<p>You can read more <a href=\"https://www.baeldung.com/spring-boot-graceful-shutdown\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":27261442,"reputation":11,"user_id":20784217,"display_name":"essaPL"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689769348,"creation_date":1689762854,"question_id":76720366,"body_markdown":"So basically my app does some processing of stuff in intervals every 1 second. I have to implement a SIGTERM signal to my app but I have to let the stuff that is currently being processed in app to **FINISH** and then the app can terminate. Therefore I&#39;m looking for something like a try{}catch{} but for SIGTERM, I would do a sleep for few seconds and then let the SIGTERM terminate the app, is there something like that?\r\n\r\n\r\nAs far as I know **@PreDestroy** closes whole context and then leaves one bean annotated with it, executes it and then destroys. \r\n\r\nAlso the **addShutdownHook()** is a method to be run when shutting down app, but I just want my main processing to finish and then shutdown everything.\r\n\r\nIs there a way to do it?","title":"How to catch SIGTERM signal to process stuff in app and then terminate in Java","body":"<p>So basically my app does some processing of stuff in intervals every 1 second. I have to implement a SIGTERM signal to my app but I have to let the stuff that is currently being processed in app to <strong>FINISH</strong> and then the app can terminate. Therefore I'm looking for something like a try{}catch{} but for SIGTERM, I would do a sleep for few seconds and then let the SIGTERM terminate the app, is there something like that?</p>\n<p>As far as I know <strong>@PreDestroy</strong> closes whole context and then leaves one bean annotated with it, executes it and then destroys.</p>\n<p>Also the <strong>addShutdownHook()</strong> is a method to be run when shutting down app, but I just want my main processing to finish and then shutdown everything.</p>\n<p>Is there a way to do it?</p>\n"},{"tags":["java","android-studio","android-camera","augmented-reality","arcore"],"owner":{"account_id":28858290,"reputation":1,"user_id":22102631,"display_name":"bandara12"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":80,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689769228,"creation_date":1689693966,"question_id":76714362,"body_markdown":"I am developing an image detection android app using android studio(java) and arcore .It has two class that MainActivity.java and  CustomArFragment.java . when my app run the camara preview not showing properly like something like blur or low quality . I already try to fixed it but it doesn&#39;t work .\r\n\r\n    public class CustomArFragment extends ArFragment {\r\n        @Override\r\n        protected Config getSessionConfiguration(Session session) {\r\n            getPlaneDiscoveryController().setInstructionView(null);\r\n            Config config = new Config(session);\r\n            config.setUpdateMode(Config.UpdateMode.LATEST_CAMERA_IMAGE);\r\n            session.configure(config);\r\n            getArSceneView().setupSession(session);\r\n           // config.setFocusMode(Config.FocusMode.AUTO);\r\n            if ((((MainActivity) getActivity()).setupAugmentedImagesDb(config, session))) {\r\n                Log.d(&quot;SetupAugImgDb&quot;, &quot;Success&quot;);\r\n            } else {\r\n                Log.e(&quot;SetupAugImgDb&quot;,&quot;Faliure setting up db&quot;);\r\n            }\r\n    \r\n            //camera quality\r\n            Size selectedSize = new Size(0, 0);\r\n            CameraConfig selectedCameraConfig = null;\r\n            CameraConfigFilter filter = new CameraConfigFilter(session);\r\n            List&lt;CameraConfig&gt; cameraConfigsList = session.getSupportedCameraConfigs(filter);\r\n            for (CameraConfig currentCameraConfig : cameraConfigsList) {\r\n                Size cpuImageSize = currentCameraConfig.getImageSize();\r\n                Size gpuTextureSize = currentCameraConfig.getTextureSize();\r\n                Log.d(&quot;TAG&quot;, &quot;CurrentCameraConfig CPU image size:&quot; + cpuImageSize + &quot; GPU texture size:&quot; + gpuTextureSize);\r\n    \r\n                // Adapt this check to your needs\r\n                if (gpuTextureSize.getWidth() &gt; selectedSize.getWidth()) {\r\n                    selectedSize = gpuTextureSize;\r\n                    selectedCameraConfig = currentCameraConfig;\r\n                }\r\n            }\r\n    \r\n            session.setCameraConfig(selectedCameraConfig);\r\n            session.configure(config);\r\n    \r\n            return config;\r\n        }\r\n    }\r\n\r\n \r\n","title":"How to fix low camera preview in ARCore android studio","body":"<p>I am developing an image detection android app using android studio(java) and arcore .It has two class that MainActivity.java and  CustomArFragment.java . when my app run the camara preview not showing properly like something like blur or low quality . I already try to fixed it but it doesn't work .</p>\n<pre><code>public class CustomArFragment extends ArFragment {\n    @Override\n    protected Config getSessionConfiguration(Session session) {\n        getPlaneDiscoveryController().setInstructionView(null);\n        Config config = new Config(session);\n        config.setUpdateMode(Config.UpdateMode.LATEST_CAMERA_IMAGE);\n        session.configure(config);\n        getArSceneView().setupSession(session);\n       // config.setFocusMode(Config.FocusMode.AUTO);\n        if ((((MainActivity) getActivity()).setupAugmentedImagesDb(config, session))) {\n            Log.d(&quot;SetupAugImgDb&quot;, &quot;Success&quot;);\n        } else {\n            Log.e(&quot;SetupAugImgDb&quot;,&quot;Faliure setting up db&quot;);\n        }\n\n        //camera quality\n        Size selectedSize = new Size(0, 0);\n        CameraConfig selectedCameraConfig = null;\n        CameraConfigFilter filter = new CameraConfigFilter(session);\n        List&lt;CameraConfig&gt; cameraConfigsList = session.getSupportedCameraConfigs(filter);\n        for (CameraConfig currentCameraConfig : cameraConfigsList) {\n            Size cpuImageSize = currentCameraConfig.getImageSize();\n            Size gpuTextureSize = currentCameraConfig.getTextureSize();\n            Log.d(&quot;TAG&quot;, &quot;CurrentCameraConfig CPU image size:&quot; + cpuImageSize + &quot; GPU texture size:&quot; + gpuTextureSize);\n\n            // Adapt this check to your needs\n            if (gpuTextureSize.getWidth() &gt; selectedSize.getWidth()) {\n                selectedSize = gpuTextureSize;\n                selectedCameraConfig = currentCameraConfig;\n            }\n        }\n\n        session.setCameraConfig(selectedCameraConfig);\n        session.configure(config);\n\n        return config;\n    }\n}\n</code></pre>\n"},{"tags":["java","javafx","java-11","javafx-11","jlink"],"answers":[{"tags":[],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1585419450,"creation_date":1585418909,"answer_id":60904892,"question_id":60904135,"body_markdown":"As you could follow in the links such as [this](https://github.com/moditect/moditect/issues/103), [this](https://github.com/beryx/badass-jlink-plugin/issues/111) and [this](https://bugs.launchpad.net/ubuntu/+source/openjdk-lts/+bug/1851292/comments/5). It is more likely a JDK build issue and reverting to an older `java.version` e.g. 11.0.2 should fix this.\r\n\r\nYou can subscribe in the meanwhile to [openjdk-build/issues/1214](https://github.com/AdoptOpenJDK/openjdk-build/issues/1214) for further updates.\r\n\r\n\r\n----------\r\n\r\n&gt; When could this occur and what could cause this?\r\n\r\nThis could occur if the `jmod` files created for a module are not consistent in generating the hash. You can refer to the [JMOD tool](https://docs.oracle.com/javase/9/tools/jmod.htm#JSWOR-GUID-0A0BDFF6-BE34-461B-86EF-AAC9A555E2AE) documentation which elaborates on one of the arguments responsible for this\r\n \r\n\r\n    --hash-modules regex-pattern\r\n\r\n&gt; Determines the leaf modules and records the hashes of the dependencies\r\n&gt; directly and indirectly requiring them, based on the module graph of\r\n&gt; the modules matching the given regex-pattern. The *hashes are recorded\r\n&gt; in the JMOD archive* file being created, or a *JMOD archive or modular\r\n&gt; JAR on the module path* specified by the jmod hash command.\r\n\r\n\r\nand furthermore in a subsided section describes\r\n\r\n&gt; ... This let’s you to allow a package to be exported to one or more\r\n&gt; specifically-named modules and to no others through qualified exports.\r\n&gt; ***The runtime verifies if the recorded hash of a module matches the one\r\n&gt; resolved at run time; if not, the runtime returns an error***.","title":"Error: Hash of java.xml (...) differs to expected hash (...) recorded in java.base","body":"<p>As you could follow in the links such as <a href=\"https://github.com/moditect/moditect/issues/103\" rel=\"nofollow noreferrer\">this</a>, <a href=\"https://github.com/beryx/badass-jlink-plugin/issues/111\" rel=\"nofollow noreferrer\">this</a> and <a href=\"https://bugs.launchpad.net/ubuntu/+source/openjdk-lts/+bug/1851292/comments/5\" rel=\"nofollow noreferrer\">this</a>. It is more likely a JDK build issue and reverting to an older <code>java.version</code> e.g. 11.0.2 should fix this.</p>\n\n<p>You can subscribe in the meanwhile to <a href=\"https://github.com/AdoptOpenJDK/openjdk-build/issues/1214\" rel=\"nofollow noreferrer\">openjdk-build/issues/1214</a> for further updates.</p>\n\n<hr>\n\n<blockquote>\n  <p>When could this occur and what could cause this?</p>\n</blockquote>\n\n<p>This could occur if the <code>jmod</code> files created for a module are not consistent in generating the hash. You can refer to the <a href=\"https://docs.oracle.com/javase/9/tools/jmod.htm#JSWOR-GUID-0A0BDFF6-BE34-461B-86EF-AAC9A555E2AE\" rel=\"nofollow noreferrer\">JMOD tool</a> documentation which elaborates on one of the arguments responsible for this</p>\n\n<pre><code>--hash-modules regex-pattern\n</code></pre>\n\n<blockquote>\n  <p>Determines the leaf modules and records the hashes of the dependencies\n  directly and indirectly requiring them, based on the module graph of\n  the modules matching the given regex-pattern. The <em>hashes are recorded\n  in the JMOD archive</em> file being created, or a <em>JMOD archive or modular\n  JAR on the module path</em> specified by the jmod hash command.</p>\n</blockquote>\n\n<p>and furthermore in a subsided section describes</p>\n\n<blockquote>\n  <p>... This let’s you to allow a package to be exported to one or more\n  specifically-named modules and to no others through qualified exports.\n  <strong><em>The runtime verifies if the recorded hash of a module matches the one\n  resolved at run time; if not, the runtime returns an error</em></strong>.</p>\n</blockquote>\n"}],"owner":{"account_id":12791063,"reputation":115,"user_id":9409653,"display_name":"Paneer Handi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3650,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1689769089,"creation_date":1585415640,"question_id":60904135,"body_markdown":"Creating simple javafx 11 &quot;hello world&quot; application.\r\nGetting error while creating custom JRE.\r\n\r\n\r\n```\r\nuser@user:~/Desktop/javafx/hellofx$ ./run.sh \r\nError: Hash of java.xml (c043b4c28b897656e2a4d36c92ba2f5d52134bce79643236dd36295e14178be7) differs to expected hash (4e7db7fc941d9f316c4aafe02717b5809ee722be8433d283050365e7fd49331f) recorded in java.base\r\n```\r\nError Code:\r\n```\r\n$JAVA_HOME/bin/jlink --module-path $PATH_TO_FX_MODS:mods --add-modules hellofx --output hellofx #error\r\n```\r\nOS: ubuntu 19.10\r\n\r\n```plain\r\n$java --version\r\nopenjdk 11.0.6 2020-01-14\r\nOpenJDK Runtime Environment (build 11.0.6+10-post-Ubuntu-1ubuntu119.10.1)\r\nOpenJDK 64-Bit Server VM (build 11.0.6+10-post-Ubuntu-1ubuntu119.10.1, mixed mode, sharing)\r\n```\r\n\r\n```plain\r\n$javac --version\r\njavac 11.0.6\r\n```\r\n\r\n```\r\nuser@user:~/Desktop/javafx/hellofx$ tree\r\n.\r\n├── mods\r\n│&#160;&#160; └── hellofx\r\n│&#160;&#160;     ├── hellofx\r\n│&#160;&#160;     │&#160;&#160; └── HelloFX.class\r\n│&#160;&#160;     └── module-info.class\r\n├── run.sh\r\n└── src\r\n    ├── hellofx\r\n    │&#160;&#160; └── HelloFX.java\r\n    └── module-info.java\r\n\r\n5 directories, 5 files\r\n\r\n```\r\n\r\nrun.sh:\r\n```\r\nuser@user:~/Desktop/javafx/hellofx$ cat run.sh \r\nexport PATH_TO_FX=/home/sameep/javafx-sdk-11.0.2/lib\r\nexport PATH_TO_FX_MODS=/home/sameep/javafx-jmods-11.0.2\r\njavac --module-path $PATH_TO_FX -d mods/hellofx $(find src -name &quot;*.java&quot;)\r\n\r\njava --module-path $PATH_TO_FX:mods -m hellofx/hellofx.HelloFX\r\n\r\n$JAVA_HOME/bin/jlink --module-path $PATH_TO_FX_MODS:mods --add-modules hellofx --output hellofx #error\r\n#hellofx/bin/java -m hellofx/hellofx.HelloFX\r\n\r\n```\r\nmodule-info.java:\r\n```\r\nuser@user:~/Desktop/javafx/hellofx/src$ cat module-info.java \r\nmodule hellofx {\r\n    requires javafx.controls;\r\n\r\n    exports hellofx;\r\n}\r\n```\r\nHelloFX.java:\r\n```\r\nuser@user:~/Desktop/javafx/hellofx/src/hellofx$ cat HelloFX.java \r\npackage hellofx;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Label;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.stage.Stage;\r\n\r\n\r\npublic class HelloFX extends Application {\r\n\r\n    @Override\r\n    public void start(Stage stage) {\r\n        String javaVersion = System.getProperty(&quot;java.version&quot;);\r\n        String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\r\n        Label l = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\r\n        Scene scene = new Scene(new StackPane(l), 640, 480);\r\n        stage.setScene(scene);\r\n        stage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch();\r\n    }\r\n\r\n}\r\n```\r\n\r\n![Screenshot of output window][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/BtL3d.png","title":"Error: Hash of java.xml (...) differs to expected hash (...) recorded in java.base","body":"<p>Creating simple javafx 11 &quot;hello world&quot; application.\nGetting error while creating custom JRE.</p>\n<pre><code>user@user:~/Desktop/javafx/hellofx$ ./run.sh \nError: Hash of java.xml (c043b4c28b897656e2a4d36c92ba2f5d52134bce79643236dd36295e14178be7) differs to expected hash (4e7db7fc941d9f316c4aafe02717b5809ee722be8433d283050365e7fd49331f) recorded in java.base\n</code></pre>\n<p>Error Code:</p>\n<pre><code>$JAVA_HOME/bin/jlink --module-path $PATH_TO_FX_MODS:mods --add-modules hellofx --output hellofx #error\n</code></pre>\n<p>OS: ubuntu 19.10</p>\n<pre><code>$java --version\nopenjdk 11.0.6 2020-01-14\nOpenJDK Runtime Environment (build 11.0.6+10-post-Ubuntu-1ubuntu119.10.1)\nOpenJDK 64-Bit Server VM (build 11.0.6+10-post-Ubuntu-1ubuntu119.10.1, mixed mode, sharing)\n</code></pre>\n<pre><code>$javac --version\njavac 11.0.6\n</code></pre>\n<pre><code>user@user:~/Desktop/javafx/hellofx$ tree\n.\n├── mods\n│   └── hellofx\n│       ├── hellofx\n│       │   └── HelloFX.class\n│       └── module-info.class\n├── run.sh\n└── src\n    ├── hellofx\n    │   └── HelloFX.java\n    └── module-info.java\n\n5 directories, 5 files\n\n</code></pre>\n<p>run.sh:</p>\n<pre><code>user@user:~/Desktop/javafx/hellofx$ cat run.sh \nexport PATH_TO_FX=/home/sameep/javafx-sdk-11.0.2/lib\nexport PATH_TO_FX_MODS=/home/sameep/javafx-jmods-11.0.2\njavac --module-path $PATH_TO_FX -d mods/hellofx $(find src -name &quot;*.java&quot;)\n\njava --module-path $PATH_TO_FX:mods -m hellofx/hellofx.HelloFX\n\n$JAVA_HOME/bin/jlink --module-path $PATH_TO_FX_MODS:mods --add-modules hellofx --output hellofx #error\n#hellofx/bin/java -m hellofx/hellofx.HelloFX\n\n</code></pre>\n<p>module-info.java:</p>\n<pre><code>user@user:~/Desktop/javafx/hellofx/src$ cat module-info.java \nmodule hellofx {\n    requires javafx.controls;\n\n    exports hellofx;\n}\n</code></pre>\n<p>HelloFX.java:</p>\n<pre><code>user@user:~/Desktop/javafx/hellofx/src/hellofx$ cat HelloFX.java \npackage hellofx;\n\nimport javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Label;\nimport javafx.scene.layout.StackPane;\nimport javafx.stage.Stage;\n\n\npublic class HelloFX extends Application {\n\n    @Override\n    public void start(Stage stage) {\n        String javaVersion = System.getProperty(&quot;java.version&quot;);\n        String javafxVersion = System.getProperty(&quot;javafx.version&quot;);\n        Label l = new Label(&quot;Hello, JavaFX &quot; + javafxVersion + &quot;, running on Java &quot; + javaVersion + &quot;.&quot;);\n        Scene scene = new Scene(new StackPane(l), 640, 480);\n        stage.setScene(scene);\n        stage.show();\n    }\n\n    public static void main(String[] args) {\n        launch();\n    }\n\n}\n</code></pre>\n<p><img src=\"https://i.stack.imgur.com/BtL3d.png\" alt=\"Screenshot of output window\" /></p>\n"},{"tags":["java","selenium-webdriver","drag-and-drop","webdriver","selenium-java"],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688762777,"creation_date":1688762777,"answer_id":76640149,"question_id":76635986,"body_markdown":"Not that super clear in which website you attempted the [_dragAndDrop_](https://stackoverflow.com/a/44153962/7429447) functionality.\r\n\r\nHowever as a demonstration within the website [Droppable | jQuery UI](https://jqueryui.com/droppable/) you can simulate [_dragAndDrop_](https://stackoverflow.com/a/59211287/7429447) functionality as follows:\r\n\r\n- Code block:\r\n\r\n\t  ChromeOptions options = new ChromeOptions();\r\n\t  options.addArguments(&quot;--start-maximized&quot;);\r\n\t  WebDriver driver = new ChromeDriver(options);\r\n\t  driver.get(&quot;https://jqueryui.com/droppable/&quot;);\r\n\t  WebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));\r\n\t  wait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe.demo-frame&quot;)));\r\n\t  \r\n\t  //Identify the draggable element\r\n\t  WebElement dragMe = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//p[text()=&#39;Drag me to my target&#39;]&quot;)));\r\n\t  \r\n\t  // Identify droppable area\r\n\t  WebElement dropHere = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//p[text()=&#39;Drop here&#39;]&quot;)));\r\n\t  Actions actions = new Actions(driver);\r\n\t  actions.dragAndDrop(dragMe, dropHere).build().perform();\r\n\t  \r\n- Browser snapshot:\r\n\r\n![dragAndDrop](https://i.stack.imgur.com/tBl2s.png)","title":"Selenium Drag and Drop not working for Java","body":"<p>Not that super clear in which website you attempted the <a href=\"https://stackoverflow.com/a/44153962/7429447\"><em>dragAndDrop</em></a> functionality.</p>\n<p>However as a demonstration within the website <a href=\"https://jqueryui.com/droppable/\" rel=\"nofollow noreferrer\">Droppable | jQuery UI</a> you can simulate <a href=\"https://stackoverflow.com/a/59211287/7429447\"><em>dragAndDrop</em></a> functionality as follows:</p>\n<ul>\n<li><p>Code block:</p>\n<pre><code>ChromeOptions options = new ChromeOptions();\noptions.addArguments(&quot;--start-maximized&quot;);\nWebDriver driver = new ChromeDriver(options);\ndriver.get(&quot;https://jqueryui.com/droppable/&quot;);\nWebDriverWait wait = new WebDriverWait(driver, Duration.ofSeconds(5));\nwait.until(ExpectedConditions.frameToBeAvailableAndSwitchToIt(By.cssSelector(&quot;iframe.demo-frame&quot;)));\n\n//Identify the draggable element\nWebElement dragMe = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//p[text()='Drag me to my target']&quot;)));\n\n// Identify droppable area\nWebElement dropHere = wait.until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//p[text()='Drop here']&quot;)));\nActions actions = new Actions(driver);\nactions.dragAndDrop(dragMe, dropHere).build().perform();\n</code></pre>\n</li>\n<li><p>Browser snapshot:</p>\n</li>\n</ul>\n<p><img src=\"https://i.stack.imgur.com/tBl2s.png\" alt=\"dragAndDrop\" /></p>\n"},{"tags":[],"owner":{"account_id":24958929,"reputation":26,"user_id":18823076,"display_name":"Reyan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688993356,"creation_date":1688808238,"answer_id":76642232,"question_id":76635986,"body_markdown":"This is known issue:\r\nhttps://github.com/seleniumhq/selenium-google-code-issue-archive/issues/3604\r\n\r\nhttps://stackoverflow.com/questions/39436870/why-drag-and-drop-is-not-working-in-selenium-webdriver\r\n\r\nYou can try workarounds suggested.\r\n\r\n\r\nYou can try below code. Here I have moved the element to 0,0 co-ordinate and then moved it to final destination place :\r\n\r\n\t\tRectangle fromRec = fromEle.getRect();\r\n\t\tRectangle toRec = toEle.getRect();\r\n\t\tint sX = fromRec.getX() + fromRec.width / 2;\r\n\t\tint sY = fromRec.getY() + fromRec.height / 2;\r\n\t\tint eX = toRec.getX() + toRec.getWidth() / 2;\r\n\t\tint eY = sY;\r\n\r\n\t\tPointerInput input = new PointerInput(Kind.MOUSE, &quot;default mouse&quot;);\r\n\t\tSequence seq = new Sequence(input, 0);\r\n\t\tseq.addAction(\r\n\t\t    input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), sX, sY));\r\n\t\tseq.addAction(input.createPointerDown(PointerInput.MouseButton.LEFT.asArg()));\r\n\t\tseq.addAction(\r\n\t\t    input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), eX, eY));\r\n\t\tseq.addAction(input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), 0, 0));\r\n\t\tseq.addAction(\r\n\t\t    input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), eX, eY));\r\n\t\tseq.addAction(input.createPointerUp(PointerInput.MouseButton.LEFT.asArg()));\r\n\r\n\t\t((RemoteWebDriver) driver).perform(Collections.singletonList(seq));\r\n","title":"Selenium Drag and Drop not working for Java","body":"<p>This is known issue:\n<a href=\"https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/3604\" rel=\"nofollow noreferrer\">https://github.com/seleniumhq/selenium-google-code-issue-archive/issues/3604</a></p>\n<p><a href=\"https://stackoverflow.com/questions/39436870/why-drag-and-drop-is-not-working-in-selenium-webdriver\">Why drag and drop is not working in Selenium Webdriver?</a></p>\n<p>You can try workarounds suggested.</p>\n<p>You can try below code. Here I have moved the element to 0,0 co-ordinate and then moved it to final destination place :</p>\n<pre><code>    Rectangle fromRec = fromEle.getRect();\n    Rectangle toRec = toEle.getRect();\n    int sX = fromRec.getX() + fromRec.width / 2;\n    int sY = fromRec.getY() + fromRec.height / 2;\n    int eX = toRec.getX() + toRec.getWidth() / 2;\n    int eY = sY;\n\n    PointerInput input = new PointerInput(Kind.MOUSE, &quot;default mouse&quot;);\n    Sequence seq = new Sequence(input, 0);\n    seq.addAction(\n        input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), sX, sY));\n    seq.addAction(input.createPointerDown(PointerInput.MouseButton.LEFT.asArg()));\n    seq.addAction(\n        input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), eX, eY));\n    seq.addAction(input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), 0, 0));\n    seq.addAction(\n        input.createPointerMove(Duration.ofSeconds(2), PointerInput.Origin.viewport(), eX, eY));\n    seq.addAction(input.createPointerUp(PointerInput.MouseButton.LEFT.asArg()));\n\n    ((RemoteWebDriver) driver).perform(Collections.singletonList(seq));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27793345,"reputation":24,"user_id":21219384,"display_name":"Dinesh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689768899,"creation_date":1689768899,"answer_id":76721197,"question_id":76635986,"body_markdown":"    public void dragAndDropUsers(String username) throws InterruptedException {\r\n    \t//Actions class method to drag and drop\r\n    \tWebDriver driver=new ChromeDriver();\r\n    \tActions builder = new Actions(driver);\r\n    \tThread.sleep(2000);\r\n    \r\n    \tWebElement from = driver.findElement(By.xpath(&quot;//span[contains(text(),&#39;&quot;+username+&quot;&#39;)]&quot;));\r\n    \tWebElement to = driver.findElement(By.xpath(&quot;//h6[text()=&#39;Sequential Approval Order&#39;]/following-sibling::p-tree&quot;));\r\n    \r\n    \tbuilder.dragAndDrop(from,to).perform();\r\n    \r\n    } \r\n    \r\n    \r\n    try this i will work \r\n    In action class you need to pass webdriver object reference variable ","title":"Selenium Drag and Drop not working for Java","body":"<pre><code>public void dragAndDropUsers(String username) throws InterruptedException {\n    //Actions class method to drag and drop\n    WebDriver driver=new ChromeDriver();\n    Actions builder = new Actions(driver);\n    Thread.sleep(2000);\n\n    WebElement from = driver.findElement(By.xpath(&quot;//span[contains(text(),'&quot;+username+&quot;')]&quot;));\n    WebElement to = driver.findElement(By.xpath(&quot;//h6[text()='Sequential Approval Order']/following-sibling::p-tree&quot;));\n\n    builder.dragAndDrop(from,to).perform();\n\n} \n\n\ntry this i will work \nIn action class you need to pass webdriver object reference variable \n</code></pre>\n"}],"owner":{"account_id":13389680,"reputation":1,"user_id":9662392,"display_name":"Sasith Bandara"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":127,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1689768899,"creation_date":1688724487,"question_id":76635986,"body_markdown":"I need to perform a Drag and Drop using Selenium and Java. I used dragAndDrop() method in Action class for this. but it didn&#39;t work. From element is selected but its not moving to the To element. I checked the Xpath of the To element. No problem with the Xpath.\r\n\r\nThis is the screen that I try to automate.\r\n\r\n[enter image description here](https://i.stack.imgur.com/jM4BL.png)\r\n\r\nThese are the codes that I tried\r\n\r\n```\r\n    public void dragAndDropUsers(String username) throws InterruptedException {\r\n        //Actions class method to drag and drop\r\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\r\n        Thread.sleep(2000);\r\n\t\t\r\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),&#39;&quot;+username+&quot;&#39;)]&quot;));\r\n\t\tWebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()=&#39;Sequential Approval Order&#39;]/following-sibling::p-tree&quot;));\r\n\r\n        builder.dragAndDrop(from,to).build().perform();\r\n\r\n    }\r\n```\r\n\r\nabove code selecting the To element. But not move.\r\n\r\n```\r\n    public void dragAndDropUsers(String username) throws InterruptedException {\r\n        //Actions class method to drag and drop\r\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\r\n        Thread.sleep(2000);\r\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),&#39;&quot;+username+&quot;&#39;)]&quot;));\r\n\t\tWebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()=&#39;Sequential Approval Order&#39;]/following-sibling::p-tree&quot;));\r\n\r\n        builder.clickAndHold(from).moveToElement(to).release().perform();\r\n        Thread.sleep(5000);\r\n\r\n    }\r\n```\r\n\r\nsame result for above code. (selecting the To element. But not move. )\r\n\r\n```\r\npublic void dragAndDropUsers(String username) throws InterruptedException {\r\n        //Actions class method to drag and drop\r\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\r\n        Thread.sleep(2000);\r\n\t\t\r\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),&#39;&quot;+username+&quot;&#39;)]&quot;));\r\n\t\tWebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()=&#39;Sequential Approval Order&#39;]/following-sibling::p-tree&quot;));\r\n\r\n        JavascriptExecutor _js = (JavascriptExecutor) WebDriverHelper.getWebDriver();\r\n        _js.executeScript(&quot;$(arguments[0]).simulate(&#39;drag-n-drop&#39;,{dragTarget:arguments[1],interpolation:{stepWidth:100,stepDelay:50}});&quot;, from, to);\r\n\t\tThread.sleep(5000);\r\n\r\n    }\r\n```\r\n\r\nAbove code displayed an error as &quot;org.openqa.selenium.JavascriptException: javascript error: $(...).simulate is not a function&quot;\r\n\r\n```\r\npublic void dragAndDropUsers(String username) throws InterruptedException {\r\n        //Actions class method to drag and drop\r\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\r\n        Thread.sleep(2000);\r\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),&#39;&quot;+username+&quot;&#39;)]&quot;));\r\n\t\tWebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()=&#39;Sequential Approval Order&#39;]/following-sibling::p-tree&quot;));\r\n        int x = to.getLocation().getX();\r\n        int y = to.getLocation().getY();\r\n\r\n        System.out.println(&quot;x coordinate: &quot;+x);\r\n        System.out.println(&quot;y coordinate: &quot;+y);\r\n\r\n       builder.moveToElement(from)\r\n               .pause(Duration.ofSeconds(1))\r\n               .clickAndHold(from)\r\n               .pause(Duration.ofSeconds(1))\r\n               .moveByOffset(x, y)\r\n               .moveToElement(to)\r\n               .pause(Duration.ofSeconds(1))\r\n               .release().build().perform();\r\n\r\n       Thread.sleep(5000);\r\n\r\n    }\r\n```\r\n\r\nAbove code is also selecting the From element. But not moving.\r\n\r\nHelp me to resolve this issue.","title":"Selenium Drag and Drop not working for Java","body":"<p>I need to perform a Drag and Drop using Selenium and Java. I used dragAndDrop() method in Action class for this. but it didn't work. From element is selected but its not moving to the To element. I checked the Xpath of the To element. No problem with the Xpath.</p>\n<p>This is the screen that I try to automate.</p>\n<p><a href=\"https://i.stack.imgur.com/jM4BL.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>These are the codes that I tried</p>\n<pre><code>    public void dragAndDropUsers(String username) throws InterruptedException {\n        //Actions class method to drag and drop\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\n        Thread.sleep(2000);\n        \n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),'&quot;+username+&quot;')]&quot;));\n        WebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()='Sequential Approval Order']/following-sibling::p-tree&quot;));\n\n        builder.dragAndDrop(from,to).build().perform();\n\n    }\n</code></pre>\n<p>above code selecting the To element. But not move.</p>\n<pre><code>    public void dragAndDropUsers(String username) throws InterruptedException {\n        //Actions class method to drag and drop\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\n        Thread.sleep(2000);\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),'&quot;+username+&quot;')]&quot;));\n        WebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()='Sequential Approval Order']/following-sibling::p-tree&quot;));\n\n        builder.clickAndHold(from).moveToElement(to).release().perform();\n        Thread.sleep(5000);\n\n    }\n</code></pre>\n<p>same result for above code. (selecting the To element. But not move. )</p>\n<pre><code>public void dragAndDropUsers(String username) throws InterruptedException {\n        //Actions class method to drag and drop\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\n        Thread.sleep(2000);\n        \n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),'&quot;+username+&quot;')]&quot;));\n        WebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()='Sequential Approval Order']/following-sibling::p-tree&quot;));\n\n        JavascriptExecutor _js = (JavascriptExecutor) WebDriverHelper.getWebDriver();\n        _js.executeScript(&quot;$(arguments[0]).simulate('drag-n-drop',{dragTarget:arguments[1],interpolation:{stepWidth:100,stepDelay:50}});&quot;, from, to);\n        Thread.sleep(5000);\n\n    }\n</code></pre>\n<p>Above code displayed an error as &quot;org.openqa.selenium.JavascriptException: javascript error: $(...).simulate is not a function&quot;</p>\n<pre><code>public void dragAndDropUsers(String username) throws InterruptedException {\n        //Actions class method to drag and drop\n        Actions builder = new Actions(WebDriverHelper.getWebDriver());\n        Thread.sleep(2000);\n        WebElement from = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//span[contains(text(),'&quot;+username+&quot;')]&quot;));\n        WebElement to = WebDriverHelper.getWebDriver().findElement(By.xpath(&quot;//h6[text()='Sequential Approval Order']/following-sibling::p-tree&quot;));\n        int x = to.getLocation().getX();\n        int y = to.getLocation().getY();\n\n        System.out.println(&quot;x coordinate: &quot;+x);\n        System.out.println(&quot;y coordinate: &quot;+y);\n\n       builder.moveToElement(from)\n               .pause(Duration.ofSeconds(1))\n               .clickAndHold(from)\n               .pause(Duration.ofSeconds(1))\n               .moveByOffset(x, y)\n               .moveToElement(to)\n               .pause(Duration.ofSeconds(1))\n               .release().build().perform();\n\n       Thread.sleep(5000);\n\n    }\n</code></pre>\n<p>Above code is also selecting the From element. But not moving.</p>\n<p>Help me to resolve this issue.</p>\n"},{"tags":["java","methods"],"comments":[{"owner":{"account_id":23740623,"reputation":1,"user_id":17758716,"display_name":"Reilas"},"score":1,"creation_date":1689768637,"post_id":76721117,"comment_id":135259491,"body_markdown":"In _Java_ you have to use the _[String#equals](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equals(java.lang.Object))_ method to compare _String_ values.  And, on that note, there is also a _[String#equalsIgnoreCase](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String))_, also.","body":"In <i>Java</i> you have to use the <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)\" rel=\"nofollow noreferrer\">String#equals</a></i> method to compare <i>String</i> values.  And, on that note, there is also a <i><a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/lang/String.html#equalsIgnoreCase(java.lang.String)\" rel=\"nofollow noreferrer\">String#equalsIgnoreCase</a></i>, also."}],"answers":[{"tags":[],"owner":{"account_id":6312912,"reputation":134,"user_id":4903894,"display_name":"phil76"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689768764,"creation_date":1689768764,"answer_id":76721182,"question_id":76721117,"body_markdown":"The key thing to understand is that Strings in Java are objects, not primitive types.\r\n\r\nThe equality operator == checks whether the two String objects have the same reference (i.e. they are the same object). This is usually not the case, even if two String objects have the same value.\r\n\r\nComparing the *values* of two String objects should be done via the .equals() method.\r\n\r\nFor example: \r\n\r\npayer.toLowerCase() == player.getName().toLowerCase()\r\n\r\n..should become:\r\n\r\npayer.toLowerCase().equals(player.getName().toLowerCase())","title":"Java String method not returning expected value","body":"<p>The key thing to understand is that Strings in Java are objects, not primitive types.</p>\n<p>The equality operator == checks whether the two String objects have the same reference (i.e. they are the same object). This is usually not the case, even if two String objects have the same value.</p>\n<p>Comparing the <em>values</em> of two String objects should be done via the .equals() method.</p>\n<p>For example:</p>\n<p>payer.toLowerCase() == player.getName().toLowerCase()</p>\n<p>..should become:</p>\n<p>payer.toLowerCase().equals(player.getName().toLowerCase())</p>\n"}],"owner":{"account_id":21249106,"reputation":65,"user_id":15631528,"display_name":"Hashim Bin Talha"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689768930,"accepted_answer_id":76721182,"answer_count":1,"score":0,"last_activity_date":1689768764,"creation_date":1689768283,"question_id":76721117,"body_markdown":"Apologies for the rather vague question, I wasn&#39;t sure how else to phrase it.\r\n\r\nI am a beginner to java and I decided to test myself by creating a program that helps you play the board game Monopoly by taking the role of the banker (handles transactions and keeps track of everyone&#39;s money). \r\n\r\nThe program first asks for the number of players, and then creates an object for each player that has a name and a certain amount of money (1500 at the start). All the player objects are then stored in an array (Player[] playerArray). \r\n\r\nThe game then starts, and the point of the program is that it keeps track of each players money and the players play the board game as normal. Whenever a transaction happens, for example, Player1 buys a house for 300, you press enter to start a transaction, enter in the payer (in this case, Player1), and the recipient (in this case, the bank).\r\n\r\n(Please note that the bank is not a player object, but really just means that there is no other player recieving the money.)\r\n\r\nThis is where I ran into a problem. I created a method that asks the user for the recipient, and then checks it against all the existing player objects in playerArray to see if there is a match (and also checks if it is the bank), and it returns a String value, the name of the recipient if it matches, and &quot;recipient is not valid&quot; if it does not. I also created a similar method for the payer.\r\n\r\nFor some reason, no matter what I input, the program always returns the value as &quot;recipient is not valid&quot;, even if I input the recipient as the name of an existing player object. \r\n\r\nHere is the method I was having trouble with:\r\n\r\n```\r\nstatic String askAndCheckRecipient(Player[] playerArray) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Who is the recipient?: &quot;);\r\n\t\tString recipient = scan.nextLine();\r\n\t\tfor(Player player : playerArray) {\r\n\t\t\tif(recipient.toLowerCase() == player.getName().toLowerCase() || recipient.toLowerCase() == &quot;bank&quot;) {\r\n\t\t\t\treturn recipient;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn &quot;recipient is not valid&quot;;\r\n\t}\r\n```\r\n\r\nHere is the full code, if you need it: (Sorry for the lack of comments)\r\n```\r\npackage monopolybanker;\r\nimport java.util.*;\r\n\r\npublic class Main {\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\t\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\t\r\n\t\tSystem.out.println(&quot;How many players are playing the game?: &quot;);\r\n\t\tint playerCount = scan.nextInt();\r\n\t\tscan.nextLine(); //to clear the scanner\r\n\t\t\r\n\t\tPlayer[] playerArray = new Player[playerCount];\r\n\t\tfor(int i = 0; i&lt;playerCount; i++) {\r\n\t\t\tSystem.out.println(&quot;What is the name of player &quot;+(i+1)+&quot;?: &quot;);\r\n\t\t\tString nextPlayerName = scan.nextLine();\r\n\t\t\tplayerArray[i] = new Player(nextPlayerName);\r\n\t\t}\r\n\t\t\r\n\t\tdisplayPlayerNamesAndMoney(playerArray);\r\n\t\twaitTillTransaction();\r\n\t\tSystem.out.println(askAndCheckRecipient(playerArray));\r\n\t\tSystem.out.println(askAndCheckPayer(playerArray));\r\n\r\n\t}\r\n\r\n\tstatic void displayPlayerNamesAndMoney(Player[] playerArray) {\r\n\t\tfor(Player player : playerArray) {\r\n\t\t\tSystem.out.println(player.getName()+&quot; | &quot;+player.getMoney());\r\n\t\t}\r\n\t}\r\n\t\r\n\tstatic void waitTillTransaction() {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println();\r\n\t\tString var = &quot;something&quot;;\r\n\t\twhile(!var.isBlank()) {\r\n\t\t\tSystem.out.println(&quot;Press enter to start a transaction&quot;);\r\n\t\t\tvar = scan.nextLine();\r\n\t\t}\r\n\t\r\n\t}\r\n\t\r\n\tstatic String askAndCheckRecipient(Player[] playerArray) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Who is the recipient?: &quot;);\r\n\t\tString recipient = scan.nextLine();\r\n\t\tfor(Player player : playerArray) {\r\n\t\t\tif(recipient.toLowerCase() == player.getName().toLowerCase() || recipient.toLowerCase() == &quot;bank&quot;) {\r\n\t\t\t\treturn recipient;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn &quot;recipient is not valid&quot;;\r\n\t\t\r\n\r\n\t}\r\n\t\r\n\tstatic String askAndCheckPayer(Player[] playerArray) {\r\n\t\tScanner scan = new Scanner(System.in);\r\n\t\tSystem.out.println(&quot;Who is the payer?: &quot;);\r\n\t\tString payer = scan.nextLine();\r\n\t\tfor(Player player : playerArray) {\r\n\t\t\tif(payer.toLowerCase() == player.getName().toLowerCase() || payer.toLowerCase() == &quot;bank&quot;) {\r\n\t\t\t\treturn payer;\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn &quot;payer is not valid&quot;;\r\n\t}\r\n}\r\n\r\npublic class Player {\r\n\r\n\tprivate String name;\r\n\tprivate int money = 1500;\r\n\t\r\n\tPlayer(String name) {\r\n\t\tthis.name = name;\r\n\t}\r\n\t\r\n\t// Getters\r\n\t\r\n\tpublic String getName() {\r\n\t\treturn name;\r\n\t}\r\n\t\r\n\tpublic int getMoney() {\r\n\t\treturn money;\r\n\t}\r\n\t\r\n\t// Setters\r\n\t\r\n\tpublic void setMoney(int newmoney) {\r\n\t\tthis.money = newmoney;\r\n\t}\r\n\t\r\n}\r\n\r\n\r\n```\r\n\r\n","title":"Java String method not returning expected value","body":"<p>Apologies for the rather vague question, I wasn't sure how else to phrase it.</p>\n<p>I am a beginner to java and I decided to test myself by creating a program that helps you play the board game Monopoly by taking the role of the banker (handles transactions and keeps track of everyone's money).</p>\n<p>The program first asks for the number of players, and then creates an object for each player that has a name and a certain amount of money (1500 at the start). All the player objects are then stored in an array (Player[] playerArray).</p>\n<p>The game then starts, and the point of the program is that it keeps track of each players money and the players play the board game as normal. Whenever a transaction happens, for example, Player1 buys a house for 300, you press enter to start a transaction, enter in the payer (in this case, Player1), and the recipient (in this case, the bank).</p>\n<p>(Please note that the bank is not a player object, but really just means that there is no other player recieving the money.)</p>\n<p>This is where I ran into a problem. I created a method that asks the user for the recipient, and then checks it against all the existing player objects in playerArray to see if there is a match (and also checks if it is the bank), and it returns a String value, the name of the recipient if it matches, and &quot;recipient is not valid&quot; if it does not. I also created a similar method for the payer.</p>\n<p>For some reason, no matter what I input, the program always returns the value as &quot;recipient is not valid&quot;, even if I input the recipient as the name of an existing player object.</p>\n<p>Here is the method I was having trouble with:</p>\n<pre><code>static String askAndCheckRecipient(Player[] playerArray) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Who is the recipient?: &quot;);\n        String recipient = scan.nextLine();\n        for(Player player : playerArray) {\n            if(recipient.toLowerCase() == player.getName().toLowerCase() || recipient.toLowerCase() == &quot;bank&quot;) {\n                return recipient;\n            }\n        }\n        return &quot;recipient is not valid&quot;;\n    }\n</code></pre>\n<p>Here is the full code, if you need it: (Sorry for the lack of comments)</p>\n<pre><code>package monopolybanker;\nimport java.util.*;\n\npublic class Main {\n    \n    public static void main(String[] args) {\n        \n        Scanner scan = new Scanner(System.in);\n        \n        System.out.println(&quot;How many players are playing the game?: &quot;);\n        int playerCount = scan.nextInt();\n        scan.nextLine(); //to clear the scanner\n        \n        Player[] playerArray = new Player[playerCount];\n        for(int i = 0; i&lt;playerCount; i++) {\n            System.out.println(&quot;What is the name of player &quot;+(i+1)+&quot;?: &quot;);\n            String nextPlayerName = scan.nextLine();\n            playerArray[i] = new Player(nextPlayerName);\n        }\n        \n        displayPlayerNamesAndMoney(playerArray);\n        waitTillTransaction();\n        System.out.println(askAndCheckRecipient(playerArray));\n        System.out.println(askAndCheckPayer(playerArray));\n\n    }\n\n    static void displayPlayerNamesAndMoney(Player[] playerArray) {\n        for(Player player : playerArray) {\n            System.out.println(player.getName()+&quot; | &quot;+player.getMoney());\n        }\n    }\n    \n    static void waitTillTransaction() {\n        Scanner scan = new Scanner(System.in);\n        System.out.println();\n        String var = &quot;something&quot;;\n        while(!var.isBlank()) {\n            System.out.println(&quot;Press enter to start a transaction&quot;);\n            var = scan.nextLine();\n        }\n    \n    }\n    \n    static String askAndCheckRecipient(Player[] playerArray) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Who is the recipient?: &quot;);\n        String recipient = scan.nextLine();\n        for(Player player : playerArray) {\n            if(recipient.toLowerCase() == player.getName().toLowerCase() || recipient.toLowerCase() == &quot;bank&quot;) {\n                return recipient;\n            }\n        }\n        return &quot;recipient is not valid&quot;;\n        \n\n    }\n    \n    static String askAndCheckPayer(Player[] playerArray) {\n        Scanner scan = new Scanner(System.in);\n        System.out.println(&quot;Who is the payer?: &quot;);\n        String payer = scan.nextLine();\n        for(Player player : playerArray) {\n            if(payer.toLowerCase() == player.getName().toLowerCase() || payer.toLowerCase() == &quot;bank&quot;) {\n                return payer;\n            }\n        }\n        return &quot;payer is not valid&quot;;\n    }\n}\n\npublic class Player {\n\n    private String name;\n    private int money = 1500;\n    \n    Player(String name) {\n        this.name = name;\n    }\n    \n    // Getters\n    \n    public String getName() {\n        return name;\n    }\n    \n    public int getMoney() {\n        return money;\n    }\n    \n    // Setters\n    \n    public void setMoney(int newmoney) {\n        this.money = newmoney;\n    }\n    \n}\n\n\n</code></pre>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":5860981,"reputation":1600,"user_id":4616696,"display_name":"Dermot Blair"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1425941889,"creation_date":1425941128,"answer_id":28953140,"question_id":28953054,"body_markdown":"Yes Java&#39;s String class has a startsWith() method that returns a boolean. You can iterate through each line in the file and check if each line starts with &quot;*&quot; and if it does delete it.\r\n\r\nTry this:\r\n\r\n    File inputFile = new File(&quot;myFile.txt&quot;);\r\n    File tempFile = new File(&quot;myTempFile.txt&quot;);\r\n    \r\n    BufferedReader reader = new BufferedReader(new FileReader(inputFile));\r\n    BufferedWriter writer = new BufferedWriter(new FileWriter(tempFile));\r\n    \r\n    String linesToRemoveStartsWith = &quot;*&quot;;\r\n    String currentLine;\r\n    \r\n    while((currentLine = reader.readLine()) != null) {\r\n        // trim newline when comparing with lineToRemove\r\n        String trimmedLine = currentLine.trim();\r\n        if(!trimmedLine.startsWith(linesToRemoveStartsWith )) continue;\r\n        writer.write(currentLine + System.getProperty(&quot;line.separator&quot;));\r\n    }\r\n    writer.close(); \r\n    reader.close(); \r\n    boolean successful = tempFile.renameTo(inputFile);","title":"Removing lines from a string containing certain character","body":"<p>Yes Java's String class has a startsWith() method that returns a boolean. You can iterate through each line in the file and check if each line starts with \"*\" and if it does delete it.</p>\n\n<p>Try this:</p>\n\n<pre><code>File inputFile = new File(\"myFile.txt\");\nFile tempFile = new File(\"myTempFile.txt\");\n\nBufferedReader reader = new BufferedReader(new FileReader(inputFile));\nBufferedWriter writer = new BufferedWriter(new FileWriter(tempFile));\n\nString linesToRemoveStartsWith = \"*\";\nString currentLine;\n\nwhile((currentLine = reader.readLine()) != null) {\n    // trim newline when comparing with lineToRemove\n    String trimmedLine = currentLine.trim();\n    if(!trimmedLine.startsWith(linesToRemoveStartsWith )) continue;\n    writer.write(currentLine + System.getProperty(\"line.separator\"));\n}\nwriter.close(); \nreader.close(); \nboolean successful = tempFile.renameTo(inputFile);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2663557,"reputation":103,"user_id":2302659,"display_name":"mashaned"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1425941348,"creation_date":1425941348,"answer_id":28953190,"question_id":28953054,"body_markdown":"As far as I remember, you cannot delete lines from the text documents in-place in Java. So, you would have to copy the needed lines into a new file. Or, if you need to output the same file, just changed, you could read the data into memory, delete the file, create a new one with the same name and only output the needed lines. Although, frankly, for me it seems a bit silly. ","title":"Removing lines from a string containing certain character","body":"<p>As far as I remember, you cannot delete lines from the text documents in-place in Java. So, you would have to copy the needed lines into a new file. Or, if you need to output the same file, just changed, you could read the data into memory, delete the file, create a new one with the same name and only output the needed lines. Although, frankly, for me it seems a bit silly. </p>\n"},{"tags":[],"owner":{"account_id":3835260,"reputation":1752,"user_id":3179747,"display_name":"ankh-morpork"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1524089464,"creation_date":1425941569,"answer_id":28953226,"question_id":28953054,"body_markdown":"First, you should split your `String` into a `String[]` on line breaks using `String.split(String)`. Line breaks are usually `&#39;\\n&#39;` but to be safe, you can get the system line separator using `System.getProperty(&quot;line.separator&quot;);`.\r\n\r\nThe code for splitting the `String` into a `String[]` on line breaks can now be \r\n\r\n    String[] lines = originalString.split(System.getProperty(&quot;line.separator&quot;));\r\n\r\nWith the String split into lines, you can now check if each line starts with `*` using `String.startsWith(String prefix)`, then make it an empty string if it does.\r\n\r\n    for(int i=0;i&lt;lines.length;i++){\r\n        if(lines[i].startsWith(&quot;*&quot;)){\r\n            lines[i]=&quot;&quot;;\r\n        }\r\n    }\r\n\r\nNow all you have left to do is to combine your `String[]` back into a single `String`\r\n\r\n    StringBuilder finalStringBuilder= new StringBuilder(&quot;&quot;);\r\n    for(String s:lines){\r\n       if(!s.equals(&quot;&quot;)){\r\n           finalStringBuilder.append(s).append(System.getProperty(&quot;line.separator&quot;));\r\n        }\r\n    }\r\n    String finalString = finalStringBuilder.toString();\r\n","title":"Removing lines from a string containing certain character","body":"<p>First, you should split your <code>String</code> into a <code>String[]</code> on line breaks using <code>String.split(String)</code>. Line breaks are usually <code>'\\n'</code> but to be safe, you can get the system line separator using <code>System.getProperty(\"line.separator\");</code>.</p>\n\n<p>The code for splitting the <code>String</code> into a <code>String[]</code> on line breaks can now be </p>\n\n<pre><code>String[] lines = originalString.split(System.getProperty(\"line.separator\"));\n</code></pre>\n\n<p>With the String split into lines, you can now check if each line starts with <code>*</code> using <code>String.startsWith(String prefix)</code>, then make it an empty string if it does.</p>\n\n<pre><code>for(int i=0;i&lt;lines.length;i++){\n    if(lines[i].startsWith(\"*\")){\n        lines[i]=\"\";\n    }\n}\n</code></pre>\n\n<p>Now all you have left to do is to combine your <code>String[]</code> back into a single <code>String</code></p>\n\n<pre><code>StringBuilder finalStringBuilder= new StringBuilder(\"\");\nfor(String s:lines){\n   if(!s.equals(\"\")){\n       finalStringBuilder.append(s).append(System.getProperty(\"line.separator\"));\n    }\n}\nString finalString = finalStringBuilder.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15467214,"reputation":431,"user_id":11159476,"display_name":"gluttony"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689768669,"creation_date":1689768669,"answer_id":76721166,"question_id":28953054,"body_markdown":"A shorter version of Jason Slobotski&#39;s answer:\r\n```\r\nfinal StringBuilder stringBuilder = new StringBuilder();\r\n// Loop on original string lines by splitting it with line separator\r\nfor (final String line : originalString.split(System.lineSeparator())) {\r\n    if (!line.startsWith(&quot;*&quot;)) {\r\n        // Add only lines that does not start with &#39;*&#39;\r\n        stringBuilder.append(line).append(System.lineSeparator());\r\n    }\r\n}\r\nfinal String finalString = stringBuilder.toString();\r\n```","title":"Removing lines from a string containing certain character","body":"<p>A shorter version of Jason Slobotski's answer:</p>\n<pre><code>final StringBuilder stringBuilder = new StringBuilder();\n// Loop on original string lines by splitting it with line separator\nfor (final String line : originalString.split(System.lineSeparator())) {\n    if (!line.startsWith(&quot;*&quot;)) {\n        // Add only lines that does not start with '*'\n        stringBuilder.append(line).append(System.lineSeparator());\n    }\n}\nfinal String finalString = stringBuilder.toString();\n</code></pre>\n"}],"owner":{"account_id":5779569,"reputation":83,"user_id":4560659,"accept_rate":100,"display_name":"Serpace"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23336,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"accepted_answer_id":28953226,"answer_count":4,"score":4,"last_activity_date":1689768669,"creation_date":1425940779,"question_id":28953054,"body_markdown":"I am working a Java project to read a java class and extract all DOC comments into an HTML file. I am having trouble cleaning a string of the lines I don&#39;t need.\r\n\r\nLets say I have a string such as:\r\n\r\n\r\n\r\n    &quot;/**\r\n    * Bla bla\r\n    *bla bla\r\n    *bla bla\r\n    */\r\n     \r\n    CODE\r\n    CODE\r\n    CODE\r\n     \r\n    /**\r\n    * Bla bla\r\n    *bla bla\r\n    *bla bla\r\n    */ &quot;\r\n\r\nI want to remove all the lines not starting with `*`. \r\n\r\nIs there any way I can do that? \r\n","title":"Removing lines from a string containing certain character","body":"<p>I am working a Java project to read a java class and extract all DOC comments into an HTML file. I am having trouble cleaning a string of the lines I don't need.</p>\n\n<p>Lets say I have a string such as:</p>\n\n<pre><code>\"/**\n* Bla bla\n*bla bla\n*bla bla\n*/\n\nCODE\nCODE\nCODE\n\n/**\n* Bla bla\n*bla bla\n*bla bla\n*/ \"\n</code></pre>\n\n<p>I want to remove all the lines not starting with <code>*</code>. </p>\n\n<p>Is there any way I can do that? </p>\n"},{"tags":["java","spring","https","ssl-certificate","wildfly"],"owner":{"account_id":26186898,"reputation":99,"user_id":19869319,"display_name":"Alex"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689768639,"creation_date":1689768639,"question_id":76721158,"body_markdown":"I have to do a rest call and get a json from it, the call is made in https and when i do on postman or browser i can easly get the response json, the problem is when i do it on java i get this exception:\r\n\r\n    PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\r\n\r\nI followed few guide online and i was able to download the certificate from chrome and add it in the jdk-11, but the problem persist so i had to add my file.crt in the wildfly 18 keystore, but I still getting the same error, so does anybody knows how to solve it?\r\n\r\n\r\n(the call i make it came from a server under apache) ","title":"Insert https certificate on wildfly 18","body":"<p>I have to do a rest call and get a json from it, the call is made in https and when i do on postman or browser i can easly get the response json, the problem is when i do it on java i get this exception:</p>\n<pre><code>PKIX path building failed: sun.security.provider.certpath.SunCertPathBuilderException: unable to find valid certification path to requested target\n</code></pre>\n<p>I followed few guide online and i was able to download the certificate from chrome and add it in the jdk-11, but the problem persist so i had to add my file.crt in the wildfly 18 keystore, but I still getting the same error, so does anybody knows how to solve it?</p>\n<p>(the call i make it came from a server under apache)</p>\n"},{"tags":["java","case","mybatis"],"answers":[{"tags":[],"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689768627,"creation_date":1689768627,"answer_id":76721156,"question_id":76720434,"body_markdown":"In the end I found and alternative way with just sql\r\n\r\n    WHERE\r\n            ...\r\n            (n.NOT_MAX_RETRY IS NOT NULL AND\r\n                    (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= n.NOT_MAX_RETRY)\r\n        OR\r\n            (n.NOT_MAX_RETRY IS NULL AND\r\n                    (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= 6)\r\n            ))\r\n\r\nbasically I made a xor based on NOT_MAX_RETRY IS NULL or IS NOT NULL in an and condition so that they are mutually exclusive. The second part is an OR condition that should be true.\r\nSo if n.NOT_RETRY_COUNT IS NULL basically it will pass both with n.NOT_MAX_RETRY null and not null... if n.NOT_RETRY_COUNT is not null it will pass only if &lt;= 6 (if max_retry is null) xor if &lt;= max_retry.\r\n\r\nI think that&#39;s a good solution.","title":"MyBatis when test without @Param","body":"<p>In the end I found and alternative way with just sql</p>\n<pre><code>WHERE\n        ...\n        (n.NOT_MAX_RETRY IS NOT NULL AND\n                (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= n.NOT_MAX_RETRY)\n    OR\n        (n.NOT_MAX_RETRY IS NULL AND\n                (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= 6)\n        ))\n</code></pre>\n<p>basically I made a xor based on NOT_MAX_RETRY IS NULL or IS NOT NULL in an and condition so that they are mutually exclusive. The second part is an OR condition that should be true.\nSo if n.NOT_RETRY_COUNT IS NULL basically it will pass both with n.NOT_MAX_RETRY null and not null... if n.NOT_RETRY_COUNT is not null it will pass only if &lt;= 6 (if max_retry is null) xor if &lt;= max_retry.</p>\n<p>I think that's a good solution.</p>\n"}],"owner":{"account_id":5608442,"reputation":987,"user_id":4442123,"accept_rate":100,"display_name":"LiefLayer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76721156,"answer_count":1,"score":0,"last_activity_date":1689768627,"creation_date":1689763289,"question_id":76720434,"body_markdown":"My problem.\r\nI got this Mapper\r\n\r\n    List&lt;NotificationEmail&gt; getAllErrorNotifications();\r\n\r\nand this is part of my Mapper xml\r\n\r\n    &lt;select id = &quot;getAllErrorNotifications&quot; resultMap = &quot;NotificationEmailResultMap&quot;&gt;\r\n    ...\r\n    &lt;choose&gt;\r\n            &lt;when test = &quot;notification.maxRetry != null&quot;&gt;\r\n                (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= n.NOT_MAX_RETRY)\r\n            &lt;/when&gt;\r\n            &lt;otherwise&gt;\r\n                (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= 6)\r\n            &lt;/otherwise&gt;\r\n    &lt;/choose&gt;\r\n\r\nI get this error\r\norg.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.builder.BuilderException: Error evaluating expression &#39;notification.maxRetry != null&#39;. Cause: org.apache.ibatis.ognl.OgnlException: source is null for getProperty(null, &quot;maxRetry&quot;)\r\n\r\nWhen I needed to use if or when usually I passed my &quot;notification&quot; as a method param... but now I cannot do that.\r\nMy NotificationEmail class got this:\r\n\r\n    private Notification notification;\r\n\r\n(inside it got my maxRetry).\r\n\r\nI know that my sql n.NOT_MAX_RETRY should be not null.\r\nHow can I fix this?","title":"MyBatis when test without @Param","body":"<p>My problem.\nI got this Mapper</p>\n<pre><code>List&lt;NotificationEmail&gt; getAllErrorNotifications();\n</code></pre>\n<p>and this is part of my Mapper xml</p>\n<pre><code>&lt;select id = &quot;getAllErrorNotifications&quot; resultMap = &quot;NotificationEmailResultMap&quot;&gt;\n...\n&lt;choose&gt;\n        &lt;when test = &quot;notification.maxRetry != null&quot;&gt;\n            (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= n.NOT_MAX_RETRY)\n        &lt;/when&gt;\n        &lt;otherwise&gt;\n            (n.NOT_RETRY_COUNT IS NULL OR n.NOT_RETRY_COUNT &amp;lt;= 6)\n        &lt;/otherwise&gt;\n&lt;/choose&gt;\n</code></pre>\n<p>I get this error\norg.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.builder.BuilderException: Error evaluating expression 'notification.maxRetry != null'. Cause: org.apache.ibatis.ognl.OgnlException: source is null for getProperty(null, &quot;maxRetry&quot;)</p>\n<p>When I needed to use if or when usually I passed my &quot;notification&quot; as a method param... but now I cannot do that.\nMy NotificationEmail class got this:</p>\n<pre><code>private Notification notification;\n</code></pre>\n<p>(inside it got my maxRetry).</p>\n<p>I know that my sql n.NOT_MAX_RETRY should be not null.\nHow can I fix this?</p>\n"},{"tags":["java","android","kotlin","android-recyclerview"],"comments":[{"owner":{"account_id":2558875,"reputation":1292,"user_id":2220318,"accept_rate":83,"display_name":"Rahul Shukla"},"score":0,"creation_date":1689770723,"post_id":76721127,"comment_id":135260045,"body_markdown":"Where are you using &quot;Nested RV&quot; Can you share your java code corresponding to the XML?","body":"Where are you using &quot;Nested RV&quot; Can you share your java code corresponding to the XML?"},{"owner":{"account_id":16549589,"reputation":177,"user_id":11958275,"display_name":"Ghazanfar Ateeb"},"score":0,"creation_date":1689833557,"post_id":76721127,"comment_id":135269784,"body_markdown":"it is tricky to use nested recycler view if your child recyclerview is already opened then you&#39;re in trouble mate. a work around for this is to have a button in parent recyclerview and when parent rv item is clicked save its reference somewhere if you need nested data manipulation. then you have to use interface to pass the reference or anything when child rv is clicked if any data manipulation is required","body":"it is tricky to use nested recycler view if your child recyclerview is already opened then you&#39;re in trouble mate. a work around for this is to have a button in parent recyclerview and when parent rv item is clicked save its reference somewhere if you need nested data manipulation. then you have to use interface to pass the reference or anything when child rv is clicked if any data manipulation is required"}],"owner":{"account_id":26805583,"reputation":11,"user_id":20396939,"display_name":"Rahul R"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689768354,"creation_date":1689768354,"question_id":76721127,"body_markdown":"In my android project i am using nested recyclerview when i click on item the click is not working.I think it is focusing on the second.\r\n\r\n    \r\n\r\nWhat i tried is \r\n1) Disabled the 2nd recyclerview\r\n2) Made it not clickable\r\n3) Made it not focusable\r\n\r\n\r\n\r\nMy xml code is\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\r\n    \r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:background=&quot;@drawable/bg_action_search&quot;\r\n            android:elevation=&quot;1dp&quot;\r\n            android:layout_marginBottom=&quot;@dimen/half_padding&quot;\r\n            android:layout_marginTop=&quot;@dimen/half_padding&quot;\r\n            android:layout_marginHorizontal=&quot;@dimen/single_padding&quot;\r\n            android:id=&quot;@+id/layout_CAS&quot;\r\n            android:minHeight=&quot;66dp&quot;\r\n           &gt;\r\n    \r\n    \r\n            &lt;androidx.appcompat.widget.AppCompatTextView\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginHorizontal=&quot;@dimen/double_padding&quot;\r\n                android:textColor=&quot;@color/black&quot;\r\n                android:text=&quot;Don&#39;t check the Enable new Logcat tool window at the end.&quot;\r\n                android:fontFamily=&quot;@font/polly_rounded_bold&quot;\r\n                android:textSize=&quot;12sp&quot;\r\n                android:id=&quot;@+id/head_CAS&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                android:layout_marginTop=&quot;@dimen/single_padding&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toStartOf=&quot;@id/tick_CAS&quot;\r\n                /&gt;\r\n            \r\n            &lt;androidx.appcompat.widget.AppCompatImageView\r\n                android:layout_width=&quot;24dp&quot;\r\n                android:layout_height=&quot;24dp&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;@id/head_CAS&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                android:id=&quot;@+id/tick_CAS&quot;\r\n                android:src=&quot;@drawable/ic_action_tick&quot;\r\n                android:layout_marginEnd=&quot;@dimen/single_padding&quot;\r\n                /&gt;\r\n    \r\n    \r\n            &lt;androidx.recyclerview.widget.RecyclerView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@id/head_CAS&quot;\r\n                android:layout_marginTop=&quot;@dimen/single_padding&quot;\r\n                android:layout_marginHorizontal=&quot;@dimen/double_padding&quot;\r\n                android:id=&quot;@+id/actionTypeRV_FPAA&quot;\r\n                /&gt;\r\n    \r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    \r\n    &lt;/layout&gt;\r\n\r\nWhat my references are \r\n\r\nhttps://stackoverflow.com/questions/36134323/nested-recyclerview-onclicklistener-not-working\r\nhttps://stackoverflow.com/questions/55472005/nested-recyclerview-onclick-not-triggered\r\nhttps://stackoverflow.com/questions/74957293/how-to-implement-onclick-listener-on-nested-recyclerview\r\nhttps://stackoverflow.com/questions/64531897/clicklistener-not-working-in-recyclerview\r\n\r\n","title":"itemView.setonclick is not working in recyclerview","body":"<p>In my android project i am using nested recyclerview when i click on item the click is not working.I think it is focusing on the second.</p>\n<p>What i tried is</p>\n<ol>\n<li>Disabled the 2nd recyclerview</li>\n<li>Made it not clickable</li>\n<li>Made it not focusable</li>\n</ol>\n<p>My xml code is</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;layout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:background=&quot;@drawable/bg_action_search&quot;\n        android:elevation=&quot;1dp&quot;\n        android:layout_marginBottom=&quot;@dimen/half_padding&quot;\n        android:layout_marginTop=&quot;@dimen/half_padding&quot;\n        android:layout_marginHorizontal=&quot;@dimen/single_padding&quot;\n        android:id=&quot;@+id/layout_CAS&quot;\n        android:minHeight=&quot;66dp&quot;\n       &gt;\n\n\n        &lt;androidx.appcompat.widget.AppCompatTextView\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginHorizontal=&quot;@dimen/double_padding&quot;\n            android:textColor=&quot;@color/black&quot;\n            android:text=&quot;Don't check the Enable new Logcat tool window at the end.&quot;\n            android:fontFamily=&quot;@font/polly_rounded_bold&quot;\n            android:textSize=&quot;12sp&quot;\n            android:id=&quot;@+id/head_CAS&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            android:layout_marginTop=&quot;@dimen/single_padding&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintEnd_toStartOf=&quot;@id/tick_CAS&quot;\n            /&gt;\n        \n        &lt;androidx.appcompat.widget.AppCompatImageView\n            android:layout_width=&quot;24dp&quot;\n            android:layout_height=&quot;24dp&quot;\n            app:layout_constraintTop_toTopOf=&quot;@id/head_CAS&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            android:id=&quot;@+id/tick_CAS&quot;\n            android:src=&quot;@drawable/ic_action_tick&quot;\n            android:layout_marginEnd=&quot;@dimen/single_padding&quot;\n            /&gt;\n\n\n        &lt;androidx.recyclerview.widget.RecyclerView\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@id/head_CAS&quot;\n            android:layout_marginTop=&quot;@dimen/single_padding&quot;\n            android:layout_marginHorizontal=&quot;@dimen/double_padding&quot;\n            android:id=&quot;@+id/actionTypeRV_FPAA&quot;\n            /&gt;\n\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n\n&lt;/layout&gt;\n</code></pre>\n<p>What my references are</p>\n<p><a href=\"https://stackoverflow.com/questions/36134323/nested-recyclerview-onclicklistener-not-working\">Nested RecyclerView onClickListener not working</a>\n<a href=\"https://stackoverflow.com/questions/55472005/nested-recyclerview-onclick-not-triggered\">Nested RecyclerView onClick not triggered</a>\n<a href=\"https://stackoverflow.com/questions/74957293/how-to-implement-onclick-listener-on-nested-recyclerview\">How to implement onClick listener on nested recyclerview</a>\n<a href=\"https://stackoverflow.com/questions/64531897/clicklistener-not-working-in-recyclerview\">clicklistener not working in recyclerview</a></p>\n"},{"tags":["java","spring-boot","caching","microservices"],"owner":{"account_id":12501286,"reputation":73,"user_id":9099678,"display_name":"LKk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689768272,"creation_date":1689768272,"question_id":76721113,"body_markdown":"I&#39;m currently facing an issue with a custom implementation of the Spring CacheManager, where the getMissingCache method is not being called as expected.\r\n\r\nI have a custom CacheManager implementation that extends SimpleCacheManager. Inside this custom implementation, I have overridden the getMissingCache method to create caches dynamically based on cache specifications defined in the application.yml file.\r\n\r\nHere&#39;s a simplified version of my cache configuration:\r\n\r\n    @Configuration\r\n    @EnableCaching\r\n    public class CommonCacheConfiguration {\r\n        // ...\r\n    \r\n        @Bean\r\n        public DynamicCacheManager dynamicCacheManager(CacheProperties cacheProperties, Ticker ticker) {\r\n            return new DynamicCacheManager(cacheProperties, ticker);\r\n        }\r\n    \r\n        @Component\r\n        @RequiredArgsConstructor\r\n        public static class DynamicCacheManager extends SimpleCacheManager {\r\n            private final CacheProperties cacheProperties;\r\n            private final Ticker ticker;\r\n    \r\n            @Override\r\n            public Cache getMissingCache(String name) {\r\n                // This method is not being called as expected.\r\n                // The code here should create a new cache based on cache specifications in the cacheProperties object.\r\n                // However, it&#39;s not being triggered when accessing caches with unknown names.\r\n            }\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nIssue:\r\n\r\nThe problem is that when I try to access a cache with an unknown name (i.e., not explicitly defined in the application.yml), the getMissingCache method is not called. As a result, the cache is not dynamically created as expected.\r\n\r\n    Application.yml:\r\n    caching:\r\n      defaultSpec:\r\n        ttl: PT80M\r\n      specs:\r\n        - name: findUserByRole\r\n        - name: findProductByItem\r\n        # I&#39;ve removed findProduct from here.\r\n\r\nQuestion:\r\n\r\nCould anyone please help me understand why the getMissingCache method is not being called as expected? Is there something I might be missing or any configuration that needs to be adjusted to trigger the getMissingCache method when accessing unknown caches?\r\n\r\nAny insights or suggestions would be greatly appreciated. Thank you in advance!","title":"getMissingCache method not being called in custom Spring CacheManager","body":"<p>I'm currently facing an issue with a custom implementation of the Spring CacheManager, where the getMissingCache method is not being called as expected.</p>\n<p>I have a custom CacheManager implementation that extends SimpleCacheManager. Inside this custom implementation, I have overridden the getMissingCache method to create caches dynamically based on cache specifications defined in the application.yml file.</p>\n<p>Here's a simplified version of my cache configuration:</p>\n<pre><code>@Configuration\n@EnableCaching\npublic class CommonCacheConfiguration {\n    // ...\n\n    @Bean\n    public DynamicCacheManager dynamicCacheManager(CacheProperties cacheProperties, Ticker ticker) {\n        return new DynamicCacheManager(cacheProperties, ticker);\n    }\n\n    @Component\n    @RequiredArgsConstructor\n    public static class DynamicCacheManager extends SimpleCacheManager {\n        private final CacheProperties cacheProperties;\n        private final Ticker ticker;\n\n        @Override\n        public Cache getMissingCache(String name) {\n            // This method is not being called as expected.\n            // The code here should create a new cache based on cache specifications in the cacheProperties object.\n            // However, it's not being triggered when accessing caches with unknown names.\n        }\n    }\n\n    // ...\n}\n</code></pre>\n<p>Issue:</p>\n<p>The problem is that when I try to access a cache with an unknown name (i.e., not explicitly defined in the application.yml), the getMissingCache method is not called. As a result, the cache is not dynamically created as expected.</p>\n<pre><code>Application.yml:\ncaching:\n  defaultSpec:\n    ttl: PT80M\n  specs:\n    - name: findUserByRole\n    - name: findProductByItem\n    # I've removed findProduct from here.\n</code></pre>\n<p>Question:</p>\n<p>Could anyone please help me understand why the getMissingCache method is not being called as expected? Is there something I might be missing or any configuration that needs to be adjusted to trigger the getMissingCache method when accessing unknown caches?</p>\n<p>Any insights or suggestions would be greatly appreciated. Thank you in advance!</p>\n"},{"tags":["java","javafx"],"comments":[{"owner":{"account_id":1180113,"reputation":152325,"user_id":1155209,"display_name":"jewelsea"},"score":0,"creation_date":1689704744,"post_id":76714204,"comment_id":135250583,"body_markdown":"This doesn&#39;t make a lot of sense to me.  It is a &quot;Movable Box&quot;.  How can it be centered when it is moved?","body":"This doesn&#39;t make a lot of sense to me.  It is a &quot;Movable Box&quot;.  How can it be centered when it is moved?"}],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689767640,"creation_date":1689719275,"answer_id":76716876,"question_id":76714204,"body_markdown":"While `StackPane` is excellent for centering, as shown [here][1], it&#39;s superfluous in this case:\r\n\r\n    Pane boxPane = new Pane();\r\n    boxPane.getChildren().addAll(border, grid);\r\n    //StackPane root = new StackPane();\r\n    //root.getChildren().add(boxPane);\r\n    Scene scene = new Scene(boxPane, 700, 700);\r\n\r\nTo center the `boxPane` at startup, adjust its position _after_ `show()`, using the available geometry:\r\n\r\n    primaryStage.show();\r\n    boxPane.setTranslateX((boxPane.getWidth() - boxSize) / 2);\r\n    boxPane.setTranslateY((boxPane.getHeight() - boxSize) / 2);\r\n \r\nThe existing drag handler centers the `boxPane` under the mouse. To change this behavior, record the location of the mouse pressed event and use it to adjust the target location in your drag handler; some examples are examined [here][2] and [here][3]:\r\n\r\n    boxPane.setOnMousePressed((event) -&gt; {\r\n        // record mouse location for later reference\r\n    });\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/33824164/230513\r\n  [2]: https://stackoverflow.com/a/76717235/230513\r\n  [3]: https://stackoverflow.com/search?tab=votes&amp;q=%5Bjavafx%5D%20%5Bjavafx%5D%20setOnMousePressed%20setOnMouseDragged&amp;searchOn=3","title":"Problem centering pane and border on JavaFX","body":"<p>While <code>StackPane</code> is excellent for centering, as shown <a href=\"https://stackoverflow.com/a/33824164/230513\">here</a>, it's superfluous in this case:</p>\n<pre><code>Pane boxPane = new Pane();\nboxPane.getChildren().addAll(border, grid);\n//StackPane root = new StackPane();\n//root.getChildren().add(boxPane);\nScene scene = new Scene(boxPane, 700, 700);\n</code></pre>\n<p>To center the <code>boxPane</code> at startup, adjust its position <em>after</em> <code>show()</code>, using the available geometry:</p>\n<pre><code>primaryStage.show();\nboxPane.setTranslateX((boxPane.getWidth() - boxSize) / 2);\nboxPane.setTranslateY((boxPane.getHeight() - boxSize) / 2);\n</code></pre>\n<p>The existing drag handler centers the <code>boxPane</code> under the mouse. To change this behavior, record the location of the mouse pressed event and use it to adjust the target location in your drag handler; some examples are examined <a href=\"https://stackoverflow.com/a/76717235/230513\">here</a> and <a href=\"https://stackoverflow.com/search?tab=votes&amp;q=%5Bjavafx%5D%20%5Bjavafx%5D%20setOnMousePressed%20setOnMouseDragged&amp;searchOn=3\">here</a>:</p>\n<pre><code>boxPane.setOnMousePressed((event) -&gt; {\n    // record mouse location for later reference\n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7717111,"reputation":8764,"user_id":5844477,"display_name":"Sai Dandem"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689730801,"creation_date":1689726120,"answer_id":76717235,"question_id":76714204,"body_markdown":"I agree with what @trashgod mentioned.\r\n\r\nBelow are my additional points for you to consider *if needed ;)* :\r\n\r\n* Why don&#39;t you consider to use a GridPane rather than positioning each cell manually to form like a grid.\r\n\r\n* Do you really need `Rectangle` as your cell. If you are going to show something in the cell, I believe you will include a `Pane` and set the `Rectangle` for background and some node as content. So why don&#39;t you consider to use directly a `Pane` as cell with some border styling, so that you can avoid an extra node(Rectangle) per cell. This is just a thought :)\r\n\r\n* I believe you are trying something with borders to make it look like a perfect grid with equal border widths for all cells. You can try the below approach:\r\n\r\n  The idea is, we don&#39;t set all borders to a cell. Instead we only set right and bottom border for every cell. and for the container (GridPane) we set only the top and left borders. Which when finally rendered will make a perfect grid (as below).\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\nAfter combining all the above points (including @trashgod solution) below is quick demo for your reference:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n    import javafx.application.Application;\r\n    import javafx.scene.Scene;\r\n    import javafx.scene.input.ScrollEvent;\r\n    import javafx.scene.layout.GridPane;\r\n    import javafx.scene.layout.Pane;\r\n    import javafx.stage.Stage;\r\n    \r\n    public class MovableBoxDemo extends Application {\r\n    \r\n        private double lx, ly, x, y;\r\n    \r\n        @Override\r\n        public void start(Stage primaryStage) {\r\n            primaryStage.setTitle(&quot;JavaFX Movable Box with Border and Grid&quot;);\r\n    \r\n            int gridSize = 28;\r\n            double boxSize = 500.0; // size of the box\r\n            double cellSize = boxSize / gridSize;  // size of each cell\r\n    \r\n            GridPane grid = new GridPane();\r\n            grid.setStyle(&quot;-fx-border-width: 1 0 0 1;-fx-border-color:black;&quot;);\r\n            for (int i = 0; i &lt; gridSize; i++) {\r\n                for (int j = 0; j &lt; gridSize; j++) {\r\n                    Pane cell = new Pane();\r\n                    cell.setPrefSize(cellSize, cellSize);\r\n                    cell.setStyle(&quot;-fx-border-width: 0 1 1 0;-fx-border-color:black;-fx-background-color:white;&quot;);\r\n                    grid.add(cell, i, j);\r\n                }\r\n            }\r\n    \r\n            Pane boxPane = new Pane(grid);\r\n            Scene scene = new Scene(boxPane, 700, 700);\r\n            scene.setOnScroll((ScrollEvent event) -&gt; {\r\n                double zoomFactor = 1.05;\r\n                double deltaY = event.getDeltaY();\r\n                if (deltaY &lt; 0) {\r\n                    zoomFactor = 2 - zoomFactor;\r\n                }\r\n                boxPane.setScaleX(boxPane.getScaleX() * zoomFactor);\r\n                boxPane.setScaleY(boxPane.getScaleY() * zoomFactor);\r\n                event.consume();\r\n            });\r\n            boxPane.setOnMousePressed(event -&gt; {\r\n                x = event.getSceneX();\r\n                y = event.getSceneY();\r\n                lx = boxPane.getLayoutX();\r\n                ly = boxPane.getLayoutY();\r\n            });\r\n            boxPane.setOnMouseDragged(event -&gt; {\r\n                double diffX = event.getSceneX() - x;\r\n                double diffY = event.getSceneY() - y;\r\n                boxPane.setLayoutX(lx + diffX);\r\n                boxPane.setLayoutY(ly + diffY);\r\n            });\r\n    \r\n            primaryStage.setScene(scene);\r\n            primaryStage.show();\r\n            boxPane.setLayoutX((boxPane.getWidth() - boxSize) / 2);\r\n            boxPane.setLayoutY((boxPane.getHeight() - boxSize) / 2);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            launch(args);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hcbrF.png\r\n  [2]: https://i.stack.imgur.com/FVgI9.gif","title":"Problem centering pane and border on JavaFX","body":"<p>I agree with what @trashgod mentioned.</p>\n<p>Below are my additional points for you to consider <em>if needed ;)</em> :</p>\n<ul>\n<li><p>Why don't you consider to use a GridPane rather than positioning each cell manually to form like a grid.</p>\n</li>\n<li><p>Do you really need <code>Rectangle</code> as your cell. If you are going to show something in the cell, I believe you will include a <code>Pane</code> and set the <code>Rectangle</code> for background and some node as content. So why don't you consider to use directly a <code>Pane</code> as cell with some border styling, so that you can avoid an extra node(Rectangle) per cell. This is just a thought :)</p>\n</li>\n<li><p>I believe you are trying something with borders to make it look like a perfect grid with equal border widths for all cells. You can try the below approach:</p>\n<p>The idea is, we don't set all borders to a cell. Instead we only set right and bottom border for every cell. and for the container (GridPane) we set only the top and left borders. Which when finally rendered will make a perfect grid (as below).</p>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/hcbrF.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hcbrF.png\" alt=\"enter image description here\" /></a></p>\n<p>After combining all the above points (including @trashgod solution) below is quick demo for your reference:</p>\n<p><a href=\"https://i.stack.imgur.com/FVgI9.gif\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FVgI9.gif\" alt=\"enter image description here\" /></a></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.input.ScrollEvent;\nimport javafx.scene.layout.GridPane;\nimport javafx.scene.layout.Pane;\nimport javafx.stage.Stage;\n\npublic class MovableBoxDemo extends Application {\n\n    private double lx, ly, x, y;\n\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(&quot;JavaFX Movable Box with Border and Grid&quot;);\n\n        int gridSize = 28;\n        double boxSize = 500.0; // size of the box\n        double cellSize = boxSize / gridSize;  // size of each cell\n\n        GridPane grid = new GridPane();\n        grid.setStyle(&quot;-fx-border-width: 1 0 0 1;-fx-border-color:black;&quot;);\n        for (int i = 0; i &lt; gridSize; i++) {\n            for (int j = 0; j &lt; gridSize; j++) {\n                Pane cell = new Pane();\n                cell.setPrefSize(cellSize, cellSize);\n                cell.setStyle(&quot;-fx-border-width: 0 1 1 0;-fx-border-color:black;-fx-background-color:white;&quot;);\n                grid.add(cell, i, j);\n            }\n        }\n\n        Pane boxPane = new Pane(grid);\n        Scene scene = new Scene(boxPane, 700, 700);\n        scene.setOnScroll((ScrollEvent event) -&gt; {\n            double zoomFactor = 1.05;\n            double deltaY = event.getDeltaY();\n            if (deltaY &lt; 0) {\n                zoomFactor = 2 - zoomFactor;\n            }\n            boxPane.setScaleX(boxPane.getScaleX() * zoomFactor);\n            boxPane.setScaleY(boxPane.getScaleY() * zoomFactor);\n            event.consume();\n        });\n        boxPane.setOnMousePressed(event -&gt; {\n            x = event.getSceneX();\n            y = event.getSceneY();\n            lx = boxPane.getLayoutX();\n            ly = boxPane.getLayoutY();\n        });\n        boxPane.setOnMouseDragged(event -&gt; {\n            double diffX = event.getSceneX() - x;\n            double diffY = event.getSceneY() - y;\n            boxPane.setLayoutX(lx + diffX);\n            boxPane.setLayoutY(ly + diffY);\n        });\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n        boxPane.setLayoutX((boxPane.getWidth() - boxSize) / 2);\n        boxPane.setLayoutY((boxPane.getHeight() - boxSize) / 2);\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":29042678,"reputation":11,"user_id":22247220,"display_name":"KhulZA"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1689767640,"creation_date":1689692902,"question_id":76714204,"body_markdown":"I&#39;m having trouble with the following code. My `Box` and `border` does not want to center. It keeps reverting to the top left corner. I need it to snap to the center when running the program. I&#39;m new to programming so the issue might be something simple. I have also tried shifting by the `width` of the border using the `setTranslateX` and `setTranslateY` methods. This causes the `boxPane` to be centered in the `StackPane`\r\n\r\n\r\n```\r\nimport javafx.application.Application;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.layout.Pane;\r\nimport javafx.scene.layout.StackPane;\r\nimport javafx.scene.paint.Color;\r\nimport javafx.scene.shape.Rectangle;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.input.ScrollEvent;\r\n\r\npublic class Main extends Application {\r\n\r\n    @Override\r\n    public void start(Stage primaryStage) {\r\n        primaryStage.setTitle(&quot;JavaFX Movable Box with Border and Grid&quot;);\r\n\r\n        int gridSize = 28;\r\n        double boxSize = 500.0; // size of the box\r\n        double borderWidth = 2.0; // width of the border\r\n        double cellSize = boxSize / gridSize;  // size of each cell\r\n\r\n        Pane grid = new Pane();\r\n        for (int i = 0; i &lt; gridSize; i++) {\r\n            for (int j = 0; j &lt; gridSize; j++) {\r\n                Rectangle cell = new Rectangle(cellSize, cellSize);\r\n                cell.setFill(Color.WHITE);\r\n                cell.setStroke(Color.BLACK);\r\n                cell.setStrokeWidth(0.5);\r\n                cell.setX(j * cellSize + borderWidth / 2);\r\n                cell.setY(i * cellSize + borderWidth / 2);\r\n                grid.getChildren().add(cell);\r\n            }\r\n        }\r\n\r\n        // Create a border around the grid\r\n        Rectangle border = new Rectangle(boxSize + borderWidth, boxSize + borderWidth);\r\n        border.setFill(Color.TRANSPARENT);\r\n        border.setStroke(Color.BLACK);\r\n        border.setStrokeWidth(borderWidth);\r\n        border.setX(borderWidth / 2);\r\n        border.setY(borderWidth / 2);\r\n\r\n        Pane boxPane = new Pane();\r\n        boxPane.getChildren().addAll(border, grid);\r\n\r\n        StackPane root = new StackPane();\r\n        root.getChildren().add(boxPane);\r\n\r\n        Scene scene = new Scene(root, 700, 700);\r\n\r\n        scene.setOnScroll((ScrollEvent event) -&gt; {\r\n            double zoomFactor = 1.05;\r\n            double deltaY = event.getDeltaY();\r\n            if (deltaY &lt; 0){\r\n                zoomFactor = 2 - zoomFactor;\r\n            }\r\n            boxPane.setScaleX(boxPane.getScaleX() * zoomFactor);\r\n            boxPane.setScaleY(boxPane.getScaleY() * zoomFactor);\r\n            event.consume();\r\n        });\r\n\r\n        boxPane.setOnMouseDragged(event -&gt; {\r\n            double newX = event.getSceneX() - boxSize / 2;\r\n            double newY = event.getSceneY() - boxSize / 2;\r\n            boxPane.setTranslateX(newX);\r\n            boxPane.setTranslateY(newY);\r\n        });\r\n\r\n        primaryStage.setScene(scene);\r\n        primaryStage.show();\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n}\r\n\r\n```\r\n\r\nI tried changing the `box` and `scene` size ","title":"Problem centering pane and border on JavaFX","body":"<p>I'm having trouble with the following code. My <code>Box</code> and <code>border</code> does not want to center. It keeps reverting to the top left corner. I need it to snap to the center when running the program. I'm new to programming so the issue might be something simple. I have also tried shifting by the <code>width</code> of the border using the <code>setTranslateX</code> and <code>setTranslateY</code> methods. This causes the <code>boxPane</code> to be centered in the <code>StackPane</code></p>\n<pre><code>import javafx.application.Application;\nimport javafx.scene.Scene;\nimport javafx.scene.layout.Pane;\nimport javafx.scene.layout.StackPane;\nimport javafx.scene.paint.Color;\nimport javafx.scene.shape.Rectangle;\nimport javafx.stage.Stage;\nimport javafx.scene.input.ScrollEvent;\n\npublic class Main extends Application {\n\n    @Override\n    public void start(Stage primaryStage) {\n        primaryStage.setTitle(&quot;JavaFX Movable Box with Border and Grid&quot;);\n\n        int gridSize = 28;\n        double boxSize = 500.0; // size of the box\n        double borderWidth = 2.0; // width of the border\n        double cellSize = boxSize / gridSize;  // size of each cell\n\n        Pane grid = new Pane();\n        for (int i = 0; i &lt; gridSize; i++) {\n            for (int j = 0; j &lt; gridSize; j++) {\n                Rectangle cell = new Rectangle(cellSize, cellSize);\n                cell.setFill(Color.WHITE);\n                cell.setStroke(Color.BLACK);\n                cell.setStrokeWidth(0.5);\n                cell.setX(j * cellSize + borderWidth / 2);\n                cell.setY(i * cellSize + borderWidth / 2);\n                grid.getChildren().add(cell);\n            }\n        }\n\n        // Create a border around the grid\n        Rectangle border = new Rectangle(boxSize + borderWidth, boxSize + borderWidth);\n        border.setFill(Color.TRANSPARENT);\n        border.setStroke(Color.BLACK);\n        border.setStrokeWidth(borderWidth);\n        border.setX(borderWidth / 2);\n        border.setY(borderWidth / 2);\n\n        Pane boxPane = new Pane();\n        boxPane.getChildren().addAll(border, grid);\n\n        StackPane root = new StackPane();\n        root.getChildren().add(boxPane);\n\n        Scene scene = new Scene(root, 700, 700);\n\n        scene.setOnScroll((ScrollEvent event) -&gt; {\n            double zoomFactor = 1.05;\n            double deltaY = event.getDeltaY();\n            if (deltaY &lt; 0){\n                zoomFactor = 2 - zoomFactor;\n            }\n            boxPane.setScaleX(boxPane.getScaleX() * zoomFactor);\n            boxPane.setScaleY(boxPane.getScaleY() * zoomFactor);\n            event.consume();\n        });\n\n        boxPane.setOnMouseDragged(event -&gt; {\n            double newX = event.getSceneX() - boxSize / 2;\n            double newY = event.getSceneY() - boxSize / 2;\n            boxPane.setTranslateX(newX);\n            boxPane.setTranslateY(newY);\n        });\n\n        primaryStage.setScene(scene);\n        primaryStage.show();\n    }\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\n</code></pre>\n<p>I tried changing the <code>box</code> and <code>scene</code> size</p>\n"},{"tags":["java","google-chrome","selenium-webdriver","jenkins","selenium-chromedriver"],"comments":[{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1689754204,"post_id":76718559,"comment_id":135256336,"body_markdown":"The error is crystal clear `...this version of chromedriver only supports chrome version 115 Current browser version is 114...`","body":"The error is crystal clear <code>...this version of chromedriver only supports chrome version 115 Current browser version is 114...</code>"},{"owner":{"account_id":27938804,"reputation":102,"user_id":21335232,"display_name":"Bhairu"},"score":0,"creation_date":1694419371,"post_id":76718559,"comment_id":135883477,"body_markdown":"@ben ben try also this answer -  https://stackoverflow.com/questions/75718696/i-am-getting-error-while-launching-chrome-browser-using-selenium-java-io-ioexcep/75719343#75719343","body":"@ben ben try also this answer -  <a href=\"https://stackoverflow.com/questions/75718696/i-am-getting-error-while-launching-chrome-browser-using-selenium-java-io-ioexcep/75719343#75719343\" title=\"i am getting error while launching chrome browser using selenium java io ioexcep\">stackoverflow.com/questions/75718696/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689767271,"creation_date":1689767271,"answer_id":76720989,"question_id":76718559,"body_markdown":"This error message...\r\n\r\n![115](https://i.stack.imgur.com/GKwkX.png)\r\n\r\n...implies that _`SessionNotCreatedException`_ was raised as [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) was unable to spawn a new _browsing context_ i.e. [tag:google-chrome] session.\r\n\r\nYour main issue is the **incompatibility** between the version of the binaries you are using as follows:\r\n\r\n- You are using _chromedriver=115.0_ \r\n- Where as you are using _chrome=114.0.5735.201_\r\n\r\nSo there is a clear mismatch between the major version of _chromedriver=115.0_ and the _chrome=114.0.5735.201_\r\n\r\n\r\n----------\r\n\r\n\r\n\r\nSolution\r\n--------\r\nEnsure that [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) is downgraded to [ChromeDriver v114.0](https://chromedriver.storage.googleapis.com/index.html?path=114.0.5735.90/) level to match the _chrome=114.0.5735.201_ and execute your test.\r\n\r\n\r\n----------\r\n\r\n\r\nFurther, if you are using [Selenium](https://stackoverflow.com/a/54482491/7429447) _**v4.6**_ or above you don&#39;t have to explicitly use [ChromeDriverManager().install()](https://stackoverflow.com/q/63421086/7429447) anymore as [_**Selenium Manager**_](https://stackoverflow.com/a/76563271/7429447) can silently download the matching [ChromeDriver](https://stackoverflow.com/a/59927747/7429447) and your minimal code block can be:\r\n\r\n\tfrom selenium import webdriver\r\n\r\n\tOption = webdriver.ChromeOptions()\r\n\toptions.add_argument(&quot;--start-maximized&quot;)\r\n\tdriver = webdriver.Chrome(options=Option)\r\n\tdriver.get(&quot;https://google.com/&quot;)","title":"SessionNotCreatedException: Could not start a new session. Response code 500 using ChromeDriver in Jenkins using Selenium WebDriver (Java)","body":"<p>This error message...</p>\n<p><img src=\"https://i.stack.imgur.com/GKwkX.png\" alt=\"115\" /></p>\n<p>...implies that <em><code>SessionNotCreatedException</code></em> was raised as <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> was unable to spawn a new <em>browsing context</em> i.e. <a href=\"/questions/tagged/google-chrome\" class=\"post-tag\" title=\"show questions tagged &#39;google-chrome&#39;\" aria-label=\"show questions tagged &#39;google-chrome&#39;\" rel=\"tag\" aria-labelledby=\"tag-google-chrome-tooltip-container\">google-chrome</a> session.</p>\n<p>Your main issue is the <strong>incompatibility</strong> between the version of the binaries you are using as follows:</p>\n<ul>\n<li>You are using <em>chromedriver=115.0</em></li>\n<li>Where as you are using <em>chrome=114.0.5735.201</em></li>\n</ul>\n<p>So there is a clear mismatch between the major version of <em>chromedriver=115.0</em> and the <em>chrome=114.0.5735.201</em></p>\n<hr />\n<h2>Solution</h2>\n<p>Ensure that <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> is downgraded to <a href=\"https://chromedriver.storage.googleapis.com/index.html?path=114.0.5735.90/\" rel=\"nofollow noreferrer\">ChromeDriver v114.0</a> level to match the <em>chrome=114.0.5735.201</em> and execute your test.</p>\n<hr />\n<p>Further, if you are using <a href=\"https://stackoverflow.com/a/54482491/7429447\">Selenium</a> <em><strong>v4.6</strong></em> or above you don't have to explicitly use <a href=\"https://stackoverflow.com/q/63421086/7429447\">ChromeDriverManager().install()</a> anymore as <a href=\"https://stackoverflow.com/a/76563271/7429447\"><em><strong>Selenium Manager</strong></em></a> can silently download the matching <a href=\"https://stackoverflow.com/a/59927747/7429447\">ChromeDriver</a> and your minimal code block can be:</p>\n<pre><code>from selenium import webdriver\n\nOption = webdriver.ChromeOptions()\noptions.add_argument(&quot;--start-maximized&quot;)\ndriver = webdriver.Chrome(options=Option)\ndriver.get(&quot;https://google.com/&quot;)\n</code></pre>\n"}],"owner":{"account_id":28617871,"reputation":5,"user_id":21911452,"display_name":"ben ben"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":753,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689767472,"creation_date":1689748515,"question_id":76718559,"body_markdown":"I am facing the below error on Jenkins scheduled execution. The execution was successfully done when I executed myself but when I set the schedule execution it show me the error.\r\n\r\nHere the Image of the Error Message:\r\n\r\n![Error Message Image][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aygzV.png","title":"SessionNotCreatedException: Could not start a new session. Response code 500 using ChromeDriver in Jenkins using Selenium WebDriver (Java)","body":"<p>I am facing the below error on Jenkins scheduled execution. The execution was successfully done when I executed myself but when I set the schedule execution it show me the error.</p>\n<p>Here the Image of the Error Message:</p>\n<p><img src=\"https://i.stack.imgur.com/aygzV.png\" alt=\"Error Message Image\" /></p>\n"},{"tags":["java","spring","transactions","spring-data-jpa"],"comments":[{"owner":{"account_id":6875411,"reputation":713,"user_id":5284026,"display_name":"Alain-Michel Chomnoue N"},"score":0,"creation_date":1493748131,"post_id":43744143,"comment_id":74531639,"body_markdown":"Have you added @EnableTransactionManagement to your configuration?","body":"Have you added @EnableTransactionManagement to your configuration?"},{"owner":{"account_id":1384974,"reputation":21,"user_id":1317202,"display_name":"M4veR1K"},"score":0,"creation_date":1493764659,"post_id":43744143,"comment_id":74539741,"body_markdown":"Yes I tried, but it didn&#39;t change a thing. I read that we don&#39;t have to add this annotation cause spring boot kinda adds it implicitly","body":"Yes I tried, but it didn&#39;t change a thing. I read that we don&#39;t have to add this annotation cause spring boot kinda adds it implicitly"}],"answers":[{"tags":[],"owner":{"account_id":1384974,"reputation":21,"user_id":1317202,"display_name":"M4veR1K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689767270,"creation_date":1689767270,"answer_id":76720988,"question_id":43744143,"body_markdown":"Closing this issue. I was a junior back then and I had a bad understanding of how `@Transactional` worked with Spring. \r\n\r\n`TechnicalErrorException` needed to be a `RuntimeException` instead of `CheckedException`.\r\n\r\nHere is a link that talks about the Transactional Pitfalls: https://codete.com/blog/5-common-spring-transactional-pitfalls","title":"Spring Boot : CrudRepository methods being @Transactional, my service can&#39;t be","body":"<p>Closing this issue. I was a junior back then and I had a bad understanding of how <code>@Transactional</code> worked with Spring.</p>\n<p><code>TechnicalErrorException</code> needed to be a <code>RuntimeException</code> instead of <code>CheckedException</code>.</p>\n<p>Here is a link that talks about the Transactional Pitfalls: <a href=\"https://codete.com/blog/5-common-spring-transactional-pitfalls\" rel=\"nofollow noreferrer\">https://codete.com/blog/5-common-spring-transactional-pitfalls</a></p>\n"}],"owner":{"account_id":1384974,"reputation":21,"user_id":1317202,"display_name":"M4veR1K"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1459,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76720988,"answer_count":1,"score":0,"last_activity_date":1689767270,"creation_date":1493747154,"question_id":43744143,"body_markdown":"I have a Spring Boot application and I face a weird issue.\r\n\r\nI try to make one of my service method transactional but this doesn&#39;t work.\r\n\r\nMy service looks like this : \r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    @Service(&quot;ppService&quot;)\r\n    public class PlanProgresServiceImpl implements PlanProgresService\r\n    {\r\n    \t@Resource\r\n    \tprivate DeploiementDAO deploiementDao;\r\n    \r\n        ...\r\n    \r\n        @Override\r\n    \t@Transactional(rollbackFor = TechnicalErrorException.class)\r\n    \tpublic Set&lt;String&gt; deployer(PlanProgresType planProgresType, List&lt;Integer&gt; listIdUo, boolean sharepoint, Campagne campagne)\r\n    \t\t\tthrows TechnicalErrorException\r\n    \r\n            ...\r\n    \r\n            createDeploiement(deploiement);\r\n    \t\t\t\t\r\n    \t    throw new TechnicalErrorException(&quot;temporary exception to test the transactional behavior&quot;);\r\n        }\r\n\r\n\r\n        @Override\r\n\t    public void createDeploiement(Deploiement deploiement)\r\n\t    {\r\n\t\t    deploiementDao.save(deploiement);\r\n\t    }\r\n    }\r\nAnd here is my DAO :\r\n\r\n    public interface DeploiementDAO extends CrudRepository&lt;Deploiement, Integer&gt;\r\n    {\r\n    \tList&lt;Deploiement&gt; findByUniteOperationnelle(UniteOperationnelle uo);\r\n    }\r\n\r\nThe thing is that my Deploiement object is always inserted in database (a PostgreSQL one).\r\n\r\nI have added the following line in my application.yml &lt;code&gt;logging.level.org.springframework.transaction.interceptor: TRACE&lt;/code&gt;\r\n\r\nAnd it gives me this in the console :\r\n\r\n    2017-05-02 19:38:24.297 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for \r\n    [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\r\n    2017-05-02 19:38:24.310 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\r\n    2017-05-02 19:38:24.312 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\r\n    2017-05-02 19:38:24.323 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\r\n    2017-05-02 19:38:24.324 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Don&#39;t need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUniteOperationnelle]: This method isn&#39;t transactional.\r\n    2017-05-02 19:38:24.449 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]\r\n    2017-05-02 19:38:24.450 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]\r\n\r\nWhich means that every methods of SimpleJpaRepository are transactional, that is true when we look at its code :\r\n\r\n    @Transactional\r\n\tpublic &lt;S extends T&gt; S save(S entity) {\r\n\r\n\t\tif (entityInformation.isNew(entity)) {\r\n\t\t\tem.persist(entity);\r\n\t\t\treturn entity;\r\n\t\t} else {\r\n\t\t\treturn em.merge(entity);\r\n\t\t}\r\n\t}\r\n\r\nSo, how can I solve this ?","title":"Spring Boot : CrudRepository methods being @Transactional, my service can&#39;t be","body":"<p>I have a Spring Boot application and I face a weird issue.</p>\n\n<p>I try to make one of my service method transactional but this doesn't work.</p>\n\n<p>My service looks like this : \n</p>\n\n<pre><code>@Service(\"ppService\")\npublic class PlanProgresServiceImpl implements PlanProgresService\n{\n    @Resource\n    private DeploiementDAO deploiementDao;\n\n    ...\n\n    @Override\n    @Transactional(rollbackFor = TechnicalErrorException.class)\n    public Set&lt;String&gt; deployer(PlanProgresType planProgresType, List&lt;Integer&gt; listIdUo, boolean sharepoint, Campagne campagne)\n            throws TechnicalErrorException\n\n        ...\n\n        createDeploiement(deploiement);\n\n        throw new TechnicalErrorException(\"temporary exception to test the transactional behavior\");\n    }\n\n\n    @Override\n    public void createDeploiement(Deploiement deploiement)\n    {\n        deploiementDao.save(deploiement);\n    }\n}\n</code></pre>\n\n<p>And here is my DAO :</p>\n\n<pre><code>public interface DeploiementDAO extends CrudRepository&lt;Deploiement, Integer&gt;\n{\n    List&lt;Deploiement&gt; findByUniteOperationnelle(UniteOperationnelle uo);\n}\n</code></pre>\n\n<p>The thing is that my Deploiement object is always inserted in database (a PostgreSQL one).</p>\n\n<p>I have added the following line in my application.yml <code>logging.level.org.springframework.transaction.interceptor: TRACE</code></p>\n\n<p>And it gives me this in the console :</p>\n\n<pre><code>2017-05-02 19:38:24.297 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for \n[org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\n2017-05-02 19:38:24.310 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\n2017-05-02 19:38:24.312 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\n2017-05-02 19:38:24.323 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findOne]\n2017-05-02 19:38:24.324 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Don't need to create transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.findByUniteOperationnelle]: This method isn't transactional.\n2017-05-02 19:38:24.449 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Getting transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]\n2017-05-02 19:38:24.450 TRACE 7760 --- [io-8080-exec-79] o.s.t.i.TransactionInterceptor           : Completing transaction for [org.springframework.data.jpa.repository.support.SimpleJpaRepository.save]\n</code></pre>\n\n<p>Which means that every methods of SimpleJpaRepository are transactional, that is true when we look at its code :</p>\n\n<pre><code>@Transactional\npublic &lt;S extends T&gt; S save(S entity) {\n\n    if (entityInformation.isNew(entity)) {\n        em.persist(entity);\n        return entity;\n    } else {\n        return em.merge(entity);\n    }\n}\n</code></pre>\n\n<p>So, how can I solve this ?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":0,"creation_date":1689766751,"post_id":76720841,"comment_id":135259063,"body_markdown":"Sounds like an XY question. What is the problem you are trying to solve? Why does it intrest you what Java threads do at the system call level? You can&#39;t control or access it anyway.","body":"Sounds like an XY question. What is the problem you are trying to solve? Why does it intrest you what Java threads do at the system call level? You can&#39;t control or access it anyway."},{"owner":{"account_id":27557975,"reputation":23,"user_id":22215161,"display_name":"user22215161"},"score":0,"creation_date":1689766973,"post_id":76720841,"comment_id":135259107,"body_markdown":"In a web application with many concurrent requests, if each thread cannot execute the same system call concurrently,\nI was wondering if it dosen&#39;t affect the speed of response.","body":"In a web application with many concurrent requests, if each thread cannot execute the same system call concurrently, I was wondering if it dosen&#39;t affect the speed of response."},{"owner":{"account_id":5150443,"reputation":34158,"user_id":4125191,"display_name":"RealSkeptic"},"score":1,"creation_date":1689769679,"post_id":76720841,"comment_id":135259762,"body_markdown":"You are going way too deep level with this. You can&#39;t tell what the threads will do. Even if they block, it&#39;s not under your control and not something you&#39;ll be able to change. Nevertheless, Java-based web applications work very efficiently all over the world. Only optimize when you have a problem.","body":"You are going way too deep level with this. You can&#39;t tell what the threads will do. Even if they block, it&#39;s not under your control and not something you&#39;ll be able to change. Nevertheless, Java-based web applications work very efficiently all over the world. Only optimize when you have a problem."}],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689767126,"creation_date":1689767126,"answer_id":76720968,"question_id":76720841,"body_markdown":"&gt; When a system call is called on a Java multi-threading process, other threads cannot execute the corresponding system call?\r\n\r\nJava itself has no mechanism for (directly) making system calls, so this is a question of native methods and particular JVM implementations, which both boil down to the underlying hardware and OS.  I am not aware of any modern, general-purpose SMP operating system where execution of a system call by one userspace thread blocks execution of any system call by another userspace thread at the syscall interface.\r\n\r\nHowever, the kernel might internally serialize the service of some requests.  To take your example, if requests to read from the same socket are in flight simultaneously in the kernel of a POSIX system, then the kernel will service one read in full, then the other.  It will not provide the same data to both reads, nor split the data among reads any other way than I just described.","title":"about blocking system call in the multi-threading","body":"<blockquote>\n<p>When a system call is called on a Java multi-threading process, other threads cannot execute the corresponding system call?</p>\n</blockquote>\n<p>Java itself has no mechanism for (directly) making system calls, so this is a question of native methods and particular JVM implementations, which both boil down to the underlying hardware and OS.  I am not aware of any modern, general-purpose SMP operating system where execution of a system call by one userspace thread blocks execution of any system call by another userspace thread at the syscall interface.</p>\n<p>However, the kernel might internally serialize the service of some requests.  To take your example, if requests to read from the same socket are in flight simultaneously in the kernel of a POSIX system, then the kernel will service one read in full, then the other.  It will not provide the same data to both reads, nor split the data among reads any other way than I just described.</p>\n"}],"owner":{"account_id":27557975,"reputation":23,"user_id":22215161,"display_name":"user22215161"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76720968,"answer_count":1,"score":0,"last_activity_date":1689767126,"creation_date":1689766287,"question_id":76720841,"body_markdown":"While studying a java-based web framework Spring, I had the following question.\r\n\r\nWhen a system call is called on a Java multi-threading process,\r\nother threads cannot execute the corresponding system call?\r\n\r\nex) like read operation to socket\r\n    `static native int read0(FileDescriptor fd, long address, int len)\r\n     throws IOException;`\r\n\r\nI created a thread and called a native method that invokes a blocking system call\r\nbut it was difficult to judge the result about this","title":"about blocking system call in the multi-threading","body":"<p>While studying a java-based web framework Spring, I had the following question.</p>\n<p>When a system call is called on a Java multi-threading process,\nother threads cannot execute the corresponding system call?</p>\n<p>ex) like read operation to socket\n<code>static native int read0(FileDescriptor fd, long address, int len) throws IOException;</code></p>\n<p>I created a thread and called a native method that invokes a blocking system call\nbut it was difficult to judge the result about this</p>\n"},{"tags":["java","android","kotlin","android-studio","sdk"],"owner":{"account_id":13038046,"reputation":867,"user_id":9422267,"display_name":"Avinash"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689767105,"creation_date":1689767105,"question_id":76720966,"body_markdown":"I need to implement usb debugging fun in my app . I am using ACTION_APPLICATION_DEVELOPMEMT_SETTINGS intent for open developer option setting . I am able to proceed and go to the developer option but when I press the back button  my app should be their but my app crashes silently. Same process is working fine in Android 9 and on click of back I go back to the activity. I have created one sample project and everythings works fine on Android 12&amp;13 too.\r\n\r\n\r\nI am not able to debug the issue as nothing has been printed on logs. I can&#39;t change the gradle file as their are lots of dependencies on other modules also. Please help and give your suggestions.\r\n\r\nI have change something on manifest files too but no luck till now.kindly support here.","title":"Silent App crash on Android 12 &amp; 13 when using Settings.ACTION_APPLICATION_DEVELOPMENT_SETTINGS","body":"<p>I need to implement usb debugging fun in my app . I am using ACTION_APPLICATION_DEVELOPMEMT_SETTINGS intent for open developer option setting . I am able to proceed and go to the developer option but when I press the back button  my app should be their but my app crashes silently. Same process is working fine in Android 9 and on click of back I go back to the activity. I have created one sample project and everythings works fine on Android 12&amp;13 too.</p>\n<p>I am not able to debug the issue as nothing has been printed on logs. I can't change the gradle file as their are lots of dependencies on other modules also. Please help and give your suggestions.</p>\n<p>I have change something on manifest files too but no luck till now.kindly support here.</p>\n"},{"tags":["java","mongodb"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689767904,"post_id":76720897,"comment_id":135259340,"body_markdown":"Its pain to read this. Can you please format your question so we can have easier task to at least spot the differences between dates ?","body":"Its pain to read this. Can you please format your question so we can have easier task to at least spot the differences between dates ?"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1689768042,"post_id":76720897,"comment_id":135259363,"body_markdown":"And why this `2023-07-01T02:02:06.261+05:30` should be equal to `Sat Jul 01 01:32:06 UTC 2023`? Those are 2 different points in time. On the contrary, `2023-07-01T02:02:06.261+05:30` and `Fri Jun 30 20:32:06 UTC 2023` looks like the same point in time which is more than expected","body":"And why this <code>2023-07-01T02:02:06.261+05:30</code> should be equal to <code>Sat Jul 01 01:32:06 UTC 2023</code>? Those are 2 different points in time. On the contrary, <code>2023-07-01T02:02:06.261+05:30</code> and <code>Fri Jun 30 20:32:06 UTC 2023</code> looks like the same point in time which is more than expected"},{"owner":{"account_id":4809624,"reputation":3467,"user_id":3883475,"accept_rate":85,"display_name":"Ironluca"},"score":1,"creation_date":1689779469,"post_id":76720897,"comment_id":135262516,"body_markdown":"It is giving the correct date, subtract 5hs 30 mints from your time, it matches the GMT/UTC time","body":"It is giving the correct date, subtract 5hs 30 mints from your time, it matches the GMT/UTC time"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689804280,"post_id":76720897,"comment_id":135267224,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1689846527,"post_id":76720897,"comment_id":135272340,"body_markdown":"Sat Jul 01 01:32:06 UTC 2023 is 5 hours ahead of ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;), so would not be correct.","body":"Sat Jul 01 01:32:06 UTC 2023 is 5 hours ahead of ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;), so would not be correct."},{"owner":{"account_id":18329588,"reputation":1,"user_id":13348462,"display_name":"Bhaskar Whitebox"},"score":0,"creation_date":1690175947,"post_id":76720897,"comment_id":135311233,"body_markdown":"@Antoniossss\nI have date value in mongoDB i.e ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;)\nwhile am reading this date from Java by connecting to MongoDB it&#39;s giving me\nThis Date Fri Jun 30 20:32:06 UTC 2023.\n\nActually Jun 30 is not present in MongoDB why it should give that date instead of 01 July\n\nNote* forget about time in this case","body":"@Antoniossss I have date value in mongoDB i.e ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;) while am reading this date from Java by connecting to MongoDB it&#39;s giving me This Date Fri Jun 30 20:32:06 UTC 2023.  Actually Jun 30 is not present in MongoDB why it should give that date instead of 01 July  Note* forget about time in this case"},{"owner":{"account_id":18329588,"reputation":1,"user_id":13348462,"display_name":"Bhaskar Whitebox"},"score":0,"creation_date":1690176499,"post_id":76720897,"comment_id":135311283,"body_markdown":"@Community\nIn MongoDB date value is ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;)\n\nIn java, at the time of reading this date it&#39;s giving  Fri Jun 30 20:32:06 UTC 2023.\n\nSo, My doubt is why 30 jun why not 01 july.","body":"@Community In MongoDB date value is ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;)  In java, at the time of reading this date it&#39;s giving  Fri Jun 30 20:32:06 UTC 2023.  So, My doubt is why 30 jun why not 01 july."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1690176875,"post_id":76720897,"comment_id":135311318,"body_markdown":"@BhaskarWhitebox and that is PERFECTLY FINE.","body":"@BhaskarWhitebox and that is PERFECTLY FINE."},{"owner":{"account_id":18329588,"reputation":1,"user_id":13348462,"display_name":"Bhaskar Whitebox"},"score":0,"creation_date":1690178976,"post_id":76720897,"comment_id":135311565,"body_markdown":"@Antoniossss i need to show that date which is present in MongDB to end user in UI side, if am showing the wrong date then it&#39;s not good right.","body":"@Antoniossss i need to show that date which is present in MongDB to end user in UI side, if am showing the wrong date then it&#39;s not good right."},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1690180679,"post_id":76720897,"comment_id":135311803,"body_markdown":"Format it to the required timezone on the frontend app","body":"Format it to the required timezone on the frontend app"},{"owner":{"account_id":18329588,"reputation":1,"user_id":13348462,"display_name":"Bhaskar Whitebox"},"score":0,"creation_date":1690364935,"post_id":76720897,"comment_id":135342055,"body_markdown":"Giving correct output after doing required time format.","body":"Giving correct output after doing required time format."}],"owner":{"account_id":18329588,"reputation":1,"user_id":13348462,"display_name":"Bhaskar Whitebox"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689766701,"creation_date":1689766701,"question_id":76720897,"body_markdown":"In mongo db Date is present in  &quot;createdDate&quot;: ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;)\r\nwhile am fetching in java language it&#39;s giving this date which is wrong &quot;Fri Jun 30 20:32:06 UTC 2023&quot;. while am changing date to &quot;createdDate&quot;: ISODate(&quot;2023-07-01T07:02:06.261+05:30&quot;) it&#39;s giving correct date Sat Jul 01 01:32:06 UTC 2023\r\n\r\nAm expecting if date is present in MongoDB in this format &quot;createdDate&quot;: ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;) while fetching in java it should give correct date i.e Sat Jul 01 01:32:06 UTC 2023","title":"Fetching wrong date from MongoDB in java","body":"<p>In mongo db Date is present in  &quot;createdDate&quot;: ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;)\nwhile am fetching in java language it's giving this date which is wrong &quot;Fri Jun 30 20:32:06 UTC 2023&quot;. while am changing date to &quot;createdDate&quot;: ISODate(&quot;2023-07-01T07:02:06.261+05:30&quot;) it's giving correct date Sat Jul 01 01:32:06 UTC 2023</p>\n<p>Am expecting if date is present in MongoDB in this format &quot;createdDate&quot;: ISODate(&quot;2023-07-01T02:02:06.261+05:30&quot;) while fetching in java it should give correct date i.e Sat Jul 01 01:32:06 UTC 2023</p>\n"},{"tags":["java","postgresql","mybatis"],"comments":[{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1689610694,"post_id":76704882,"comment_id":135234626,"body_markdown":"You cannot use placeholder `#{}` for table/column names. You need to use `${}` instead. See the [FAQ entry](https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-). Be sure not to use untrusted values in `${}`. A general advice: enable TRACE level logging which shows you the parameterized statement, parameters and results.","body":"You cannot use placeholder <code>#{}</code> for table/column names. You need to use <code>${}</code> instead. See the <a href=\"https://github.com/mybatis/mybatis-3/wiki/FAQ#what-is-the-difference-between--and-\" rel=\"nofollow noreferrer\">FAQ entry</a>. Be sure not to use untrusted values in <code>${}</code>. A general advice: enable TRACE level logging which shows you the parameterized statement, parameters and results."},{"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"score":0,"creation_date":1689641973,"post_id":76704882,"comment_id":135239447,"body_markdown":"Ah, my bad, you are surely right.","body":"Ah, my bad, you are surely right."},{"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"score":0,"creation_date":1689649821,"post_id":76704882,"comment_id":135240030,"body_markdown":"Amazingly, after I change the placeholder as you said, everything works fine now. Oh my lord, thank you my hero.  Though I still haven&#39;t figured out the way to configure trace level logging, I have managed to configure a debug level logging for my mapper, that is a really useful technique indeed.","body":"Amazingly, after I change the placeholder as you said, everything works fine now. Oh my lord, thank you my hero.  Though I still haven&#39;t figured out the way to configure trace level logging, I have managed to configure a debug level logging for my mapper, that is a really useful technique indeed."},{"owner":{"account_id":1314580,"reputation":3289,"user_id":1261766,"display_name":"ave"},"score":1,"creation_date":1689694804,"post_id":76704882,"comment_id":135248746,"body_markdown":"Glad to know it worked! &#128578; The way to configure log level depends on the logging library you are using. There are a few examples in the [doc](https://mybatis.org/mybatis-3/logging.html). If you are using Spring Boot, it can be configured in `application.properties`.","body":"Glad to know it worked! 🙂 The way to configure log level depends on the logging library you are using. There are a few examples in the <a href=\"https://mybatis.org/mybatis-3/logging.html\" rel=\"nofollow noreferrer\">doc</a>. If you are using Spring Boot, it can be configured in <code>application.properties</code>."}],"owner":{"account_id":28586663,"reputation":39,"user_id":21886741,"display_name":"Paul"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":228,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689766424,"creation_date":1689599908,"question_id":76704882,"body_markdown":"My tables are like this:\r\n\r\n``` postgresql\r\n    DROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_pest_control&quot;;\r\n    CREATE TABLE &quot;public&quot;.&quot;agri_pest_control&quot; (\r\n      &quot;pest_type&quot; varchar(10) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT &#39;&#39;::character varying,\r\n      &quot;pest_status&quot; bit(3) DEFAULT &#39;000&#39;::&quot;bit&quot;,\r\n      &quot;crop_type&quot; varchar(20) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\r\n      &quot;id&quot; int8 NOT NULL,\r\n      &quot;comments&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\r\n      &quot;land_id&quot; int8,\r\n      &quot;test_time&quot; timestamp(6)\r\n    )\r\n\r\n    ALTER TABLE &quot;public&quot;.&quot;agri_pest_control&quot; ADD CONSTRAINT &quot;agri_pest_control_pkey&quot; PRIMARY KEY (&quot;id&quot;);\r\n\r\n    DROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_land&quot;;\r\n    CREATE TABLE &quot;public&quot;.&quot;agri_land&quot; (\r\n      &quot;id&quot; int4 NOT NULL DEFAULT nextval(&#39;agri_land_id_seq&#39;::regclass),\r\n      &quot;geom&quot; &quot;public&quot;.&quot;geometry&quot;,\r\n      &quot;shape_area&quot; float8,\r\n      &quot;county_id&quot; int2\r\n    )\r\n    ;\r\n\r\n    ALTER TABLE &quot;public&quot;.&quot;agri_land&quot; ADD CONSTRAINT &quot;agri_land_pkey&quot; PRIMARY KEY (&quot;id&quot;);\r\n```\r\nHere is my Mapper function:\r\n```java\r\n    List&lt;Map&lt;String, Object&gt;&gt; selectStatistics(\r\n            @Param(&quot;landId&quot;) Long landId,\r\n            @Param(&quot;pestStatus&quot;)byte[] pestStatus,\r\n            @Param(&quot;pestType&quot;) String pestType,\r\n            @Param(&quot;cropType&quot;) String cropType,\r\n            @Param(&quot;testStartTime&quot;) LocalDateTime localDateTime,\r\n            @Param(&quot;testEndTime&quot;) LocalDateTime localDateTime1,\r\n            @Param(&quot;statisticsFirstObject&quot;) String statisticsFirstObject,\r\n            @Param(&quot;statisticsSecondObject&quot;) String statisticsSecondObject\r\n            );\r\n```\r\n\r\nAnd I have a Mapper.xml file like this:\r\n\r\n```xml\r\n\r\n    &lt;resultMap id=&quot;statisticsMap&quot; type=&quot;java.util.HashMap&quot;&gt;\r\n            &lt;id property=&quot;id&quot; column=&quot;row_num&quot;&gt;&lt;/id&gt;\r\n            &lt;result column = &quot;pest_status&quot; property = &quot;pest_status&quot; typeHandler=&quot;cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler&quot;/&gt;\r\n    &lt;/resultMap&gt;\r\n    &lt;select id=&quot;selectStatistics&quot; resultMap=&quot;statisticsMap&quot;&gt;\r\n        SELECT ROW_NUMBER() over\r\n        ( ORDER BY sl.area ) as row_num, * from\r\n        (SELECT\r\n            ${statisticsFirstObject} as ${statisticsFirstObject},\r\n            ${statisticsSecondObject} as ${statisticsSecondObject},\r\n            count(whl.id) count,\r\n            sum(whl.poly_area) area\r\n        FROM\r\n            agri_pest_control AS pc\r\n        JOIN agri_land whl ON whl.ID = pc.land_id\r\n        &lt;where&gt;\r\n            1=1\r\n            &lt;if test=&quot;pestStatus != null and pestStatus.length!=0&quot;&gt;\r\n                AND pest_status = #{pestStatus,typeHandler=cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler}\r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;cropType != null and cropType !=&#39;&#39;&quot;&gt;\r\n                AND crop_type = #{cropType}\r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;testStartTime != null and testEndTime != null&quot;&gt;\r\n                AND test_time between #{testStartTime} and #{testEndTime}\r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;pestType != null and pestType!= &#39;&#39;&quot;&gt;\r\n                AND pest_type = #{pestType}\r\n            &lt;/if&gt;\r\n            &lt;if test=&quot;landId != null and landId != &#39;&#39;&quot;&gt;\r\n                AND land_id = #{landId}\r\n            &lt;/if&gt;\r\n            AND pc.deleted = 0\r\n            AND whl.deleted = 0\r\n        &lt;/where&gt;\r\n            GROUP BY\r\n            ${statisticsFirstObject} ,\r\n            ${statisticsSecondObject}) sl\r\n    &lt;/select&gt;\r\n\r\n```\r\n\r\nBasically, I am trying to write a universal method to query the statistics of data based on two table field variables. However, the table field pest_status is a bit(3) which means [I need to configure typeHandler for this field.][1] So I come up with the idea to use resultMap to configure typeHandler for the possibly queried field pest_status. Besides, as I want to reorganize the result to better suit json later, I choose HashMap to retrieve the value by its field name. Here is my reorganize function:\r\n```java\r\n    public static Map&lt;String, Map&lt;String, Object&gt;&gt; reorganize(String statisticsType, String statisticsFirstObject, String statisticsSecondObject, List&lt;Map&lt;String, Object&gt;&gt; StatisticsResultMapList){\r\n        Map&lt;String, Map&lt;String, Object&gt;&gt; dict = new HashMap&lt;&gt;();\r\n        List&lt;Object&gt; distinctFirstObjectList = new ArrayList&lt;&gt;();\r\n        List&lt;Object&gt; distinctSecondObjectList = new ArrayList&lt;&gt;();\r\n        if (statisticsType!=null &amp;&amp; !statisticsType.equals(&quot;&quot;)){\r\n            for(Map&lt;String, Object&gt; statisticsResultMap:StatisticsResultMapList) {\r\n                if(statisticsFirstObject != null &amp;&amp; statisticsSecondObject != null){\r\n                    if (!distinctFirstObjectList.contains(statisticsResultMap.get(statisticsFirstObject))){\r\n                        distinctFirstObjectList.add(statisticsResultMap.get(statisticsFirstObject));\r\n                    }\r\n                    if (!distinctSecondObjectList.contains(statisticsResultMap.get(statisticsSecondObject))){\r\n                        distinctSecondObjectList.add(statisticsResultMap.get(statisticsSecondObject));\r\n                    }\r\n                }\r\n            }\r\n            for(Object firstObject:distinctFirstObjectList){\r\n                Map&lt;String, Object&gt; temp = new HashMap&lt;&gt;();\r\n                for(Object secondObject:distinctSecondObjectList){\r\n                    for(Map&lt;String, Object&gt; statisticsResultMap:StatisticsResultMapList){\r\n                        if(statisticsResultMap.get(statisticsSecondObject).equals(secondObject) &amp;&amp; statisticsResultMap.get(statisticsFirstObject).equals(firstObject)){\r\n                            temp.put(secondObject.toString(), statisticsResultMap.get(statisticsType));\r\n                        }\r\n                    }\r\n                    dict.put(firstObject.toString(), temp);\r\n                }\r\n            }\r\n        }\r\n        else\r\n            throw exception(STATISTICS_TYPE_NOT_EXISTS);\r\n        return dict;\r\n    }\r\n```\r\nSo I am expecting a list of map as the SQL result. When performing the following SQL content in navicat, the result is what I expected, but after some experiment, MyBatis actually returned me with a squeezed result:\r\n\r\nExpected:\r\n\r\n| row_num | county_id | pest_status | count | area         |\r\n| ------- | --------- | ----------- | ----- | ------------ |\r\n| 1       | 1         | 100         | 132   | 1631432.957  |\r\n| 2       | 1         | 000         | 144   | 1795440.317  |\r\n| 3       | 1         | 011         | 137   | 1796610.9408 |\r\n| 4       | 1         | 001         | 141   | 1824607.972  |\r\n| 5       | 1         | 010         | 135   | 2280791.764  |\r\n| 6       | 3         | 011         | 111   | 1852187.661  |\r\n| ...     | ...       | ...         | ...   | ...          |\r\n\r\n\r\nActual result:\r\n\r\n| id   | county_id | pest_status                        | count | area        |\r\n| ---- | --------- | ---------------------------------- | ----- | ----------- |\r\n| 1    | county_id | [48,48,48,48,48,48,48,48,48,48,48] | 9999  | 2.8841...E8 |\r\n\r\nSo how can I get a list of map results without hindering the typeHandler I needed in the resultMap?\r\n\r\nEnvironment:\r\n\r\n - PostgreSQL: 12.0\r\n - Driver version: 42.3.8\r\n - Java: 1.8.0_351\r\n - MyBatis: 3.5.10\r\n - MyBatis spring: 2.0.7\r\n - MyBatis-plus: 3.5.3.1\r\n\r\n  [1]: https://stackoverflow.com/questions/76234163/how-do-i-insert-a-record-with-mybatis-while-column-type-is-postgresql-bitn-and\r\n\r\n\r\n","title":"How can I use resultMap with type of HashMap to select list of HashMap with MyBatis?","body":"<p>My tables are like this:</p>\n<pre class=\"lang-sql prettyprint-override\"><code>    DROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_pest_control&quot;;\n    CREATE TABLE &quot;public&quot;.&quot;agri_pest_control&quot; (\n      &quot;pest_type&quot; varchar(10) COLLATE &quot;pg_catalog&quot;.&quot;default&quot; DEFAULT ''::character varying,\n      &quot;pest_status&quot; bit(3) DEFAULT '000'::&quot;bit&quot;,\n      &quot;crop_type&quot; varchar(20) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\n      &quot;id&quot; int8 NOT NULL,\n      &quot;comments&quot; varchar(255) COLLATE &quot;pg_catalog&quot;.&quot;default&quot;,\n      &quot;land_id&quot; int8,\n      &quot;test_time&quot; timestamp(6)\n    )\n\n    ALTER TABLE &quot;public&quot;.&quot;agri_pest_control&quot; ADD CONSTRAINT &quot;agri_pest_control_pkey&quot; PRIMARY KEY (&quot;id&quot;);\n\n    DROP TABLE IF EXISTS &quot;public&quot;.&quot;agri_land&quot;;\n    CREATE TABLE &quot;public&quot;.&quot;agri_land&quot; (\n      &quot;id&quot; int4 NOT NULL DEFAULT nextval('agri_land_id_seq'::regclass),\n      &quot;geom&quot; &quot;public&quot;.&quot;geometry&quot;,\n      &quot;shape_area&quot; float8,\n      &quot;county_id&quot; int2\n    )\n    ;\n\n    ALTER TABLE &quot;public&quot;.&quot;agri_land&quot; ADD CONSTRAINT &quot;agri_land_pkey&quot; PRIMARY KEY (&quot;id&quot;);\n</code></pre>\n<p>Here is my Mapper function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;Map&lt;String, Object&gt;&gt; selectStatistics(\n            @Param(&quot;landId&quot;) Long landId,\n            @Param(&quot;pestStatus&quot;)byte[] pestStatus,\n            @Param(&quot;pestType&quot;) String pestType,\n            @Param(&quot;cropType&quot;) String cropType,\n            @Param(&quot;testStartTime&quot;) LocalDateTime localDateTime,\n            @Param(&quot;testEndTime&quot;) LocalDateTime localDateTime1,\n            @Param(&quot;statisticsFirstObject&quot;) String statisticsFirstObject,\n            @Param(&quot;statisticsSecondObject&quot;) String statisticsSecondObject\n            );\n</code></pre>\n<p>And I have a Mapper.xml file like this:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n    &lt;resultMap id=&quot;statisticsMap&quot; type=&quot;java.util.HashMap&quot;&gt;\n            &lt;id property=&quot;id&quot; column=&quot;row_num&quot;&gt;&lt;/id&gt;\n            &lt;result column = &quot;pest_status&quot; property = &quot;pest_status&quot; typeHandler=&quot;cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler&quot;/&gt;\n    &lt;/resultMap&gt;\n    &lt;select id=&quot;selectStatistics&quot; resultMap=&quot;statisticsMap&quot;&gt;\n        SELECT ROW_NUMBER() over\n        ( ORDER BY sl.area ) as row_num, * from\n        (SELECT\n            ${statisticsFirstObject} as ${statisticsFirstObject},\n            ${statisticsSecondObject} as ${statisticsSecondObject},\n            count(whl.id) count,\n            sum(whl.poly_area) area\n        FROM\n            agri_pest_control AS pc\n        JOIN agri_land whl ON whl.ID = pc.land_id\n        &lt;where&gt;\n            1=1\n            &lt;if test=&quot;pestStatus != null and pestStatus.length!=0&quot;&gt;\n                AND pest_status = #{pestStatus,typeHandler=cn.iocoder.yudao.module.agri.utils.BitByteaTypeHandler}\n            &lt;/if&gt;\n            &lt;if test=&quot;cropType != null and cropType !=''&quot;&gt;\n                AND crop_type = #{cropType}\n            &lt;/if&gt;\n            &lt;if test=&quot;testStartTime != null and testEndTime != null&quot;&gt;\n                AND test_time between #{testStartTime} and #{testEndTime}\n            &lt;/if&gt;\n            &lt;if test=&quot;pestType != null and pestType!= ''&quot;&gt;\n                AND pest_type = #{pestType}\n            &lt;/if&gt;\n            &lt;if test=&quot;landId != null and landId != ''&quot;&gt;\n                AND land_id = #{landId}\n            &lt;/if&gt;\n            AND pc.deleted = 0\n            AND whl.deleted = 0\n        &lt;/where&gt;\n            GROUP BY\n            ${statisticsFirstObject} ,\n            ${statisticsSecondObject}) sl\n    &lt;/select&gt;\n\n</code></pre>\n<p>Basically, I am trying to write a universal method to query the statistics of data based on two table field variables. However, the table field pest_status is a bit(3) which means <a href=\"https://stackoverflow.com/questions/76234163/how-do-i-insert-a-record-with-mybatis-while-column-type-is-postgresql-bitn-and\">I need to configure typeHandler for this field.</a> So I come up with the idea to use resultMap to configure typeHandler for the possibly queried field pest_status. Besides, as I want to reorganize the result to better suit json later, I choose HashMap to retrieve the value by its field name. Here is my reorganize function:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static Map&lt;String, Map&lt;String, Object&gt;&gt; reorganize(String statisticsType, String statisticsFirstObject, String statisticsSecondObject, List&lt;Map&lt;String, Object&gt;&gt; StatisticsResultMapList){\n        Map&lt;String, Map&lt;String, Object&gt;&gt; dict = new HashMap&lt;&gt;();\n        List&lt;Object&gt; distinctFirstObjectList = new ArrayList&lt;&gt;();\n        List&lt;Object&gt; distinctSecondObjectList = new ArrayList&lt;&gt;();\n        if (statisticsType!=null &amp;&amp; !statisticsType.equals(&quot;&quot;)){\n            for(Map&lt;String, Object&gt; statisticsResultMap:StatisticsResultMapList) {\n                if(statisticsFirstObject != null &amp;&amp; statisticsSecondObject != null){\n                    if (!distinctFirstObjectList.contains(statisticsResultMap.get(statisticsFirstObject))){\n                        distinctFirstObjectList.add(statisticsResultMap.get(statisticsFirstObject));\n                    }\n                    if (!distinctSecondObjectList.contains(statisticsResultMap.get(statisticsSecondObject))){\n                        distinctSecondObjectList.add(statisticsResultMap.get(statisticsSecondObject));\n                    }\n                }\n            }\n            for(Object firstObject:distinctFirstObjectList){\n                Map&lt;String, Object&gt; temp = new HashMap&lt;&gt;();\n                for(Object secondObject:distinctSecondObjectList){\n                    for(Map&lt;String, Object&gt; statisticsResultMap:StatisticsResultMapList){\n                        if(statisticsResultMap.get(statisticsSecondObject).equals(secondObject) &amp;&amp; statisticsResultMap.get(statisticsFirstObject).equals(firstObject)){\n                            temp.put(secondObject.toString(), statisticsResultMap.get(statisticsType));\n                        }\n                    }\n                    dict.put(firstObject.toString(), temp);\n                }\n            }\n        }\n        else\n            throw exception(STATISTICS_TYPE_NOT_EXISTS);\n        return dict;\n    }\n</code></pre>\n<p>So I am expecting a list of map as the SQL result. When performing the following SQL content in navicat, the result is what I expected, but after some experiment, MyBatis actually returned me with a squeezed result:</p>\n<p>Expected:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>row_num</th>\n<th>county_id</th>\n<th>pest_status</th>\n<th>count</th>\n<th>area</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>100</td>\n<td>132</td>\n<td>1631432.957</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>000</td>\n<td>144</td>\n<td>1795440.317</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1</td>\n<td>011</td>\n<td>137</td>\n<td>1796610.9408</td>\n</tr>\n<tr>\n<td>4</td>\n<td>1</td>\n<td>001</td>\n<td>141</td>\n<td>1824607.972</td>\n</tr>\n<tr>\n<td>5</td>\n<td>1</td>\n<td>010</td>\n<td>135</td>\n<td>2280791.764</td>\n</tr>\n<tr>\n<td>6</td>\n<td>3</td>\n<td>011</td>\n<td>111</td>\n<td>1852187.661</td>\n</tr>\n<tr>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n<td>...</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Actual result:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>id</th>\n<th>county_id</th>\n<th>pest_status</th>\n<th>count</th>\n<th>area</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>county_id</td>\n<td>[48,48,48,48,48,48,48,48,48,48,48]</td>\n<td>9999</td>\n<td>2.8841...E8</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So how can I get a list of map results without hindering the typeHandler I needed in the resultMap?</p>\n<p>Environment:</p>\n<ul>\n<li>PostgreSQL: 12.0</li>\n<li>Driver version: 42.3.8</li>\n<li>Java: 1.8.0_351</li>\n<li>MyBatis: 3.5.10</li>\n<li>MyBatis spring: 2.0.7</li>\n<li>MyBatis-plus: 3.5.3.1</li>\n</ul>\n"},{"tags":["java","spring-boot","spring-security","azure-active-directory"],"comments":[{"owner":{"account_id":9607023,"reputation":281,"user_id":7132739,"display_name":"The Frozen One"},"score":0,"creation_date":1686733021,"post_id":76471287,"comment_id":134838323,"body_markdown":"You have to provide more information, for example your spring security configuration, your preferred authorization flow, .... . By default, you log in once in your authorization server (Azure) and spring creates a session (-cookie) and the authorization is handled internally by the session cookie without using the authorization server. You can configure different ways of authorization (e.g. JWT) but you should decide which pattern fits your requirements best.","body":"You have to provide more information, for example your spring security configuration, your preferred authorization flow, .... . By default, you log in once in your authorization server (Azure) and spring creates a session (-cookie) and the authorization is handled internally by the session cookie without using the authorization server. You can configure different ways of authorization (e.g. JWT) but you should decide which pattern fits your requirements best."},{"owner":{"account_id":28785383,"reputation":1,"user_id":22045964,"display_name":"Mayur Thole"},"score":0,"creation_date":1686733578,"post_id":76471287,"comment_id":134838445,"body_markdown":"I have to go with JWT authorization, where JWT Authorization barer token will set in all rest call in controller automatically, one user login into application.","body":"I have to go with JWT authorization, where JWT Authorization barer token will set in all rest call in controller automatically, one user login into application."},{"owner":{"account_id":28785383,"reputation":1,"user_id":22045964,"display_name":"Mayur Thole"},"score":0,"creation_date":1686828192,"post_id":76471287,"comment_id":134854529,"body_markdown":"With below login request with response_type as id_token, getting id_token in payload, but required id_token in all request header,\n\nhttps://login.microsoftonline.com/&lt;TenantId&gt;/oauth2/v2.0/authorize?\nclient_id=&lt;ClientId&gt;\n&amp;response_type=id_token\n&amp;redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fdashboard%2F\n&amp;response_mode=form_post\n&amp;scope=openid\n&amp;state=12345\n&amp;nonce=678910","body":"With below login request with response_type as id_token, getting id_token in payload, but required id_token in all request header,  <a href=\"https://login.microsoftonline.com/&lt;TenantId&gt;/oauth2/v2.0/authorize\" rel=\"nofollow noreferrer\">login.microsoftonline.com/&lt;TenantId&gt;/oauth2/v2.0/&hellip;</a>? client_id=&lt;ClientId&gt; &amp;response_type=id_token &amp;redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fdashboard%2F &amp;response_mode=form_post &amp;scope=openid &amp;state=12345 &amp;nonce=678910"}],"answers":[{"tags":[],"owner":{"account_id":26331226,"reputation":3286,"user_id":19991670,"display_name":"Pravallika KV"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689766422,"creation_date":1689766422,"answer_id":76720859,"question_id":76471287,"body_markdown":"You can use the below code to set Authorization Bearer token in Request Header for rest call using Spring boot code.\r\n\r\n**My Controller:**\r\n```java\r\n@GetMapping(value = &quot;/getmanagementgroup&quot;)\r\n\tpublic static String getManagementGroup() throws Exception {\r\n\t\tString access_token = getToken();\r\n\t\tSystem.out.println(&quot;My Tokenis &quot; + access_token);\r\n\t\tHttpHeaders headers = new HttpHeaders();\r\n\t\theaders.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\r\n\t\theaders.add(&quot;Authorization&quot;, &quot;Bearer &quot; + access_token);\r\n\t\tRestTemplate restTemplate = new RestTemplate();\r\n\t\tResponseEntity&lt;String&gt; response = restTemplate.exchange(\r\n\t\t\t\t&quot;https://management.azure.com/providers/Microsoft.Management/managementGroups?api-version=2020-05-01&quot;,\r\n\t\t\t\tHttpMethod.GET, new HttpEntity&lt;&gt;(&quot;parameters&quot;, headers), String.class);\r\n\t\treturn response.getBody();\r\n\t}\r\n```\r\n**Output:**\r\n\r\nIn my case, I&#39;m retrieving management groups using spring boot with the above given code.\r\n\r\n![enter image description here](https://i.imgur.com/CBnzq9w.png)\r\n\r\n**References:**\r\n\r\n*Refer my github [repository](https://github.com/PravallikaKothaveerannagari/Retrieve_Management_groups) for complete code.*\r\n","title":"Unable set Authorization Bearer token in Request Header for all rest call using Spring boot code after user login from Azure AD SSO login","body":"<p>You can use the below code to set Authorization Bearer token in Request Header for rest call using Spring boot code.</p>\n<p><strong>My Controller:</strong></p>\n<pre class=\"lang-java prettyprint-override\"><code>@GetMapping(value = &quot;/getmanagementgroup&quot;)\n    public static String getManagementGroup() throws Exception {\n        String access_token = getToken();\n        System.out.println(&quot;My Tokenis &quot; + access_token);\n        HttpHeaders headers = new HttpHeaders();\n        headers.setAccept(Collections.singletonList(MediaType.APPLICATION_JSON));\n        headers.add(&quot;Authorization&quot;, &quot;Bearer &quot; + access_token);\n        RestTemplate restTemplate = new RestTemplate();\n        ResponseEntity&lt;String&gt; response = restTemplate.exchange(\n                &quot;https://management.azure.com/providers/Microsoft.Management/managementGroups?api-version=2020-05-01&quot;,\n                HttpMethod.GET, new HttpEntity&lt;&gt;(&quot;parameters&quot;, headers), String.class);\n        return response.getBody();\n    }\n</code></pre>\n<p><strong>Output:</strong></p>\n<p>In my case, I'm retrieving management groups using spring boot with the above given code.</p>\n<p><img src=\"https://i.imgur.com/CBnzq9w.png\" alt=\"enter image description here\" /></p>\n<p><strong>References:</strong></p>\n<p><em>Refer my github <a href=\"https://github.com/PravallikaKothaveerannagari/Retrieve_Management_groups\" rel=\"nofollow noreferrer\">repository</a> for complete code.</em></p>\n"}],"owner":{"account_id":28785383,"reputation":1,"user_id":22045964,"display_name":"Mayur Thole"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":225,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689766422,"creation_date":1686729232,"question_id":76471287,"body_markdown":"After user SSO login into app Id_token (Authorization bearer) value required in all request header for all rest call, but currently its not coming in header.If there any way to get authorization bearer token and set in all request header.With below login request with response_type as id_token, getting id_token in payload, but required id_token in all request header,\r\n    \r\n        https://login.microsoftonline.com/&lt;TenantId&gt;/oauth2/v2.0/authorize?\r\n        client_id=&lt;ClientId&gt;\r\n        &amp;response_type=id_token\r\n        &amp;redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fdashboard%2F\r\n        &amp;response_mode=form_post\r\n        &amp;scope=openid\r\n        &amp;state=12345\r\n        &amp;nonce=678910","title":"Unable set Authorization Bearer token in Request Header for all rest call using Spring boot code after user login from Azure AD SSO login","body":"<p>After user SSO login into app Id_token (Authorization bearer) value required in all request header for all rest call, but currently its not coming in header.If there any way to get authorization bearer token and set in all request header.With below login request with response_type as id_token, getting id_token in payload, but required id_token in all request header,</p>\n<pre><code>    https://login.microsoftonline.com/&lt;TenantId&gt;/oauth2/v2.0/authorize?\n    client_id=&lt;ClientId&gt;\n    &amp;response_type=id_token\n    &amp;redirect_uri=http%3A%2F%2Flocalhost%3A3000%2Fdashboard%2F\n    &amp;response_mode=form_post\n    &amp;scope=openid\n    &amp;state=12345\n    &amp;nonce=678910\n</code></pre>\n"},{"tags":["java","json","spring","jolt"],"answers":[{"tags":[],"owner":{"account_id":7712415,"reputation":60542,"user_id":5841306,"display_name":"Barbaros &#214;zhan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689766411,"creation_date":1689766012,"answer_id":76720802,"question_id":76720308,"body_markdown":"You just can replace **`[0]`** with **`0`**. eg. convert to\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;d&quot;: {\r\n        &quot;a0&quot;: {\r\n          &quot;0&quot;: { // only the first index of the array &quot;a0&quot;\r\n                 // btw, &quot;*&quot; might have been used if needed to represent all indexes\r\n            &quot;a3&quot;: &quot;dg.gi&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\n\r\nThe level, *where* **`&quot;[0]&quot;: {`** *resides currently* , represents the indexes of the array a0 and we picked only the first ( the one with index **0** ) of them.\r\n\r\n**demo 1** (  on the site http://jolt-demo.appspot.com/ ) :\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut, yet the **`&quot;[0]&quot;`** representation might be used by prefixing the whole path with a **`@`** such as\r\n\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;@d.a0.[0].a3&quot;: &quot;dg.gi&quot;\r\n    }\r\n  }\r\n]\r\n```\r\nin order to get exactly the same result. \r\n\r\n\r\n**demo 2** :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/b4d2S.jpg\r\n  [2]: https://i.stack.imgur.com/j2TTq.jpg","title":"How to &quot;shift&quot; only one element on array using index","body":"<p>You just can replace <strong><code>[0]</code></strong> with <strong><code>0</code></strong>. eg. convert to</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;d&quot;: {\n        &quot;a0&quot;: {\n          &quot;0&quot;: { // only the first index of the array &quot;a0&quot;\n                 // btw, &quot;*&quot; might have been used if needed to represent all indexes\n            &quot;a3&quot;: &quot;dg.gi&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>The level, <em>where</em> <strong><code>&quot;[0]&quot;: {</code></strong> <em>resides currently</em> , represents the indexes of the array a0 and we picked only the first ( the one with index <strong>0</strong> ) of them.</p>\n<p><strong>demo 1</strong> (  on the site <a href=\"http://jolt-demo.appspot.com/\" rel=\"nofollow noreferrer\">http://jolt-demo.appspot.com/</a> ) :</p>\n<p><a href=\"https://i.stack.imgur.com/b4d2S.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/b4d2S.jpg\" alt=\"enter image description here\" /></a></p>\n<p>But, yet the <strong><code>&quot;[0]&quot;</code></strong> representation might be used by prefixing the whole path with a <strong><code>@</code></strong> such as</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;@d.a0.[0].a3&quot;: &quot;dg.gi&quot;\n    }\n  }\n]\n</code></pre>\n<p>in order to get exactly the same result.</p>\n<p><strong>demo 2</strong> :</p>\n<p><a href=\"https://i.stack.imgur.com/j2TTq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/j2TTq.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76720802,"answer_count":1,"score":0,"last_activity_date":1689766411,"creation_date":1689762485,"question_id":76720308,"body_markdown":"My input JSON looks like:\r\n```json\r\n{\r\n  &quot;id&quot;: &quot;eea1c86e-e4e2-36df-a775-ad44a6d2d94e&quot;,\r\n  &quot;d&quot;: {\r\n    &quot;flag&quot;: 0,\r\n    &quot;a0&quot;: [\r\n      {\r\n        &quot;a1&quot;: 0,\r\n        &quot;a2&quot;: -1,\r\n        &quot;a3&quot;: 7\r\n      },\r\n      {\r\n        &quot;a1&quot;: 2,\r\n        &quot;a2&quot;: -3,\r\n        &quot;a3&quot;: 4\r\n      }\r\n    ]\r\n  }\r\n}\r\n```\r\n\r\nI want to transform it to:\r\n```json\r\n{\r\n  &quot;dg&quot; : {\r\n    &quot;gi&quot; : 7          //7 is from d.a0.[first element from array].a3\r\n  }\r\n}\r\n```\r\nSo i write spec like this\r\n```json\r\n[\r\n  {\r\n    &quot;operation&quot;: &quot;shift&quot;,\r\n    &quot;spec&quot;: {\r\n      &quot;d&quot;: {\r\n        &quot;a0&quot;: {\r\n          &quot;[0]&quot;: {\r\n            &quot;a3&quot;: &quot;dg.gi&quot;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n]\r\n```\r\nJava code:\r\n\r\n    List&lt;Object&gt; specs = JsonUtils.classpathToList(spec);\r\n    Chainr chainr = Chainr.fromSpec(specs);\r\n    // transform the message\r\n    return (Map&lt;String, Object&gt;) chainr.transform(inputJSON);\r\n\r\nBut it returns null and I don&#39;t know why\r\n\r\nI&#39;m new to Jolt so I don&#39;t have much knowledge about it\r\n\r\nPlease help, thank you\r\n","title":"How to &quot;shift&quot; only one element on array using index","body":"<p>My input JSON looks like:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;id&quot;: &quot;eea1c86e-e4e2-36df-a775-ad44a6d2d94e&quot;,\n  &quot;d&quot;: {\n    &quot;flag&quot;: 0,\n    &quot;a0&quot;: [\n      {\n        &quot;a1&quot;: 0,\n        &quot;a2&quot;: -1,\n        &quot;a3&quot;: 7\n      },\n      {\n        &quot;a1&quot;: 2,\n        &quot;a2&quot;: -3,\n        &quot;a3&quot;: 4\n      }\n    ]\n  }\n}\n</code></pre>\n<p>I want to transform it to:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n  &quot;dg&quot; : {\n    &quot;gi&quot; : 7          //7 is from d.a0.[first element from array].a3\n  }\n}\n</code></pre>\n<p>So i write spec like this</p>\n<pre class=\"lang-json prettyprint-override\"><code>[\n  {\n    &quot;operation&quot;: &quot;shift&quot;,\n    &quot;spec&quot;: {\n      &quot;d&quot;: {\n        &quot;a0&quot;: {\n          &quot;[0]&quot;: {\n            &quot;a3&quot;: &quot;dg.gi&quot;\n          }\n        }\n      }\n    }\n  }\n]\n</code></pre>\n<p>Java code:</p>\n<pre><code>List&lt;Object&gt; specs = JsonUtils.classpathToList(spec);\nChainr chainr = Chainr.fromSpec(specs);\n// transform the message\nreturn (Map&lt;String, Object&gt;) chainr.transform(inputJSON);\n</code></pre>\n<p>But it returns null and I don't know why</p>\n<p>I'm new to Jolt so I don't have much knowledge about it</p>\n<p>Please help, thank you</p>\n"},{"tags":["java","json","serialization","avro"],"comments":[{"owner":{"account_id":3732585,"reputation":129,"user_id":3104459,"display_name":"Deepak"},"score":1,"creation_date":1476260848,"post_id":39349733,"comment_id":67265695,"body_markdown":"Did you find any solution to this problem? I am also facing same issue.","body":"Did you find any solution to this problem? I am also facing same issue."},{"owner":{"account_id":5199937,"reputation":180,"user_id":4159715,"accept_rate":67,"display_name":"Dmitry Sergeev"},"score":0,"creation_date":1476374648,"post_id":39349733,"comment_id":67328992,"body_markdown":"I also experiencing this problem.","body":"I also experiencing this problem."},{"owner":{"account_id":9143018,"reputation":391,"user_id":6800274,"display_name":"Amir"},"score":1,"creation_date":1476512554,"post_id":39349733,"comment_id":67386692,"body_markdown":"Yes, I solved it. The point is to use one library end-to-end.\nI found a way to use the avro-tools also for json serialization.\nSorry I can&#39;t give you a sample code because I&#39;m at a vacation these days and I&#39;ve got no access to my work sources...\nHTH","body":"Yes, I solved it. The point is to use one library end-to-end. I found a way to use the avro-tools also for json serialization. Sorry I can&#39;t give you a sample code because I&#39;m at a vacation these days and I&#39;ve got no access to my work sources... HTH"},{"owner":{"account_id":2067518,"reputation":326,"user_id":1842757,"display_name":"gary schulte"},"score":2,"creation_date":1504214576,"post_id":39349733,"comment_id":78940745,"body_markdown":"I solved this in a different way.  I copied the velocity templates from the avro distribution into my project and added   @com.fasterxml.jackson.annotation.JsonIgnore on all SHEMA$ properties and getter methods.","body":"I solved this in a different way.  I copied the velocity templates from the avro distribution into my project and added   @com.fasterxml.jackson.annotation.JsonIgnore on all SHEMA$ properties and getter methods."},{"owner":{"account_id":14561053,"reputation":635,"user_id":10538678,"display_name":"Matej J"},"score":0,"creation_date":1584111111,"post_id":39349733,"comment_id":107344531,"body_markdown":"@Amir is your sample code from controller?","body":"@Amir is your sample code from controller?"}],"answers":[{"tags":[],"owner":{"account_id":404573,"reputation":7556,"user_id":772981,"accept_rate":46,"display_name":"Jarekczek"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1512500800,"creation_date":1512500800,"answer_id":47660919,"question_id":39349733,"body_markdown":"If the `SCHEMA` member is really the case (we don&#39;t see the full error message), then you can switch it off. I use a mixin to do it, like this:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonIgnore;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.SerializationFeature;\r\n    import org.apache.avro.Schema;\r\n    import org.junit.Test;\r\n\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n\r\n    public class AvroGenerTests\r\n    {\r\n      abstract class IgnoreSchemaProperty\r\n      {\r\n        // You have to use the correct package for JsonIgnore,\r\n        // fasterxml or codehaus\r\n        @JsonIgnore abstract void getSchema();\r\n      }\r\n\r\n      @Test\r\n      public void writeJson() throws IOException {\r\n        BookAvro b = BookAvro.newBuilder()\r\n          .setTitle(&quot;Wilk stepowy&quot;)\r\n          .setAuthor(&quot;Herman Hesse&quot;)\r\n          .build();\r\n        ObjectMapper om = new ObjectMapper();\r\n        om.enable(SerializationFeature.INDENT_OUTPUT);\r\n        om.addMixIn(BookAvro.class, IgnoreSchemaProperty.class);\r\n        om.writeValue(new File(&quot;plik_z_gen.json&quot;), b);\r\n      }\r\n    }","title":"JsonMappingException when serializing avro generated object to json","body":"<p>If the <code>SCHEMA</code> member is really the case (we don't see the full error message), then you can switch it off. I use a mixin to do it, like this:</p>\n\n<pre><code>import com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\nimport org.apache.avro.Schema;\nimport org.junit.Test;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class AvroGenerTests\n{\n  abstract class IgnoreSchemaProperty\n  {\n    // You have to use the correct package for JsonIgnore,\n    // fasterxml or codehaus\n    @JsonIgnore abstract void getSchema();\n  }\n\n  @Test\n  public void writeJson() throws IOException {\n    BookAvro b = BookAvro.newBuilder()\n      .setTitle(\"Wilk stepowy\")\n      .setAuthor(\"Herman Hesse\")\n      .build();\n    ObjectMapper om = new ObjectMapper();\n    om.enable(SerializationFeature.INDENT_OUTPUT);\n    om.addMixIn(BookAvro.class, IgnoreSchemaProperty.class);\n    om.writeValue(new File(\"plik_z_gen.json\"), b);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10692633,"reputation":1609,"user_id":7870957,"accept_rate":29,"display_name":"Shivansh Jagga"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599652312,"creation_date":1599652312,"answer_id":63811095,"question_id":39349733,"body_markdown":"The previous post answers the question correctly. I am just adding on to the previous answer. Instead of writing it to a file I converted it to a string before sending it as body in a POST request. \r\n\r\n    public class AvroGenerateJSON\r\n    {\r\n      abstract class IgnoreSchemaProperty\r\n      {\r\n        // You have to use the correct package for JsonIgnore,\r\n        // fasterxml or codehaus\r\n        @JsonIgnore abstract void getSchema();\r\n      }\r\n    \r\n      public String convertToJson() throws IOException {\r\n        BookAvro b = BookAvro.newBuilder()\r\n          .setTitle(&quot;Wilk stepowy&quot;)\r\n          .setAuthor(&quot;Herman Hesse&quot;)\r\n          .build();\r\n        ObjectMapper om = new ObjectMapper();\r\n        om.enable(SerializationFeature.INDENT_OUTPUT);\r\n        om.addMixIn(BookAvro.class, IgnoreSchemaProperty.class);\r\n        String jsonString = om.writeValueAsString(b);\r\n        return jsonString;\r\n      }\r\n    }","title":"JsonMappingException when serializing avro generated object to json","body":"<p>The previous post answers the question correctly. I am just adding on to the previous answer. Instead of writing it to a file I converted it to a string before sending it as body in a POST request.</p>\n<pre><code>public class AvroGenerateJSON\n{\n  abstract class IgnoreSchemaProperty\n  {\n    // You have to use the correct package for JsonIgnore,\n    // fasterxml or codehaus\n    @JsonIgnore abstract void getSchema();\n  }\n\n  public String convertToJson() throws IOException {\n    BookAvro b = BookAvro.newBuilder()\n      .setTitle(&quot;Wilk stepowy&quot;)\n      .setAuthor(&quot;Herman Hesse&quot;)\n      .build();\n    ObjectMapper om = new ObjectMapper();\n    om.enable(SerializationFeature.INDENT_OUTPUT);\n    om.addMixIn(BookAvro.class, IgnoreSchemaProperty.class);\n    String jsonString = om.writeValueAsString(b);\n    return jsonString;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1612892864,"creation_date":1612892864,"answer_id":66124282,"question_id":39349733,"body_markdown":"After finding the code example at https://www.programcreek.com/java-api-examples/?api=org.apache.avro.io.JsonEncoder I wrote a method that should convert any given Avro object (they extend GenericRecord) to a Json String.  Code:\r\n\r\n    import org.apache.avro.generic.GenericDatumWriter;\r\n    import org.apache.avro.generic.GenericRecord;\r\n    import org.apache.avro.io.DatumWriter;\r\n    import org.apache.avro.io.EncoderFactory;\r\n    import org.apache.avro.io.JsonEncoder;\r\n\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.OutputStream;\r\n\r\n    // ... Class header etc. ...\r\n\r\n    public static &lt;T extends GenericRecord&gt; String convertToJsonString(T event) throws IOException {\r\n\r\n        String jsonstring = &quot;&quot;;\r\n\r\n        try {\r\n            DatumWriter&lt;T&gt; writer = new GenericDatumWriter&lt;T&gt;(event.getSchema());\r\n            OutputStream out = new ByteArrayOutputStream();\r\n            JsonEncoder encoder = EncoderFactory.get().jsonEncoder(event.getSchema(), out);\r\n            writer.write(event, encoder);\r\n            encoder.flush();\r\n            jsonstring = out.toString();\r\n        } catch (IOException e) {\r\n            log.error(&quot;IOException occurred.&quot;, e);\r\n            throw e;\r\n        }\r\n\r\n        return jsonstring;\r\n    }","title":"JsonMappingException when serializing avro generated object to json","body":"<p>After finding the code example at <a href=\"https://www.programcreek.com/java-api-examples/?api=org.apache.avro.io.JsonEncoder\" rel=\"nofollow noreferrer\">https://www.programcreek.com/java-api-examples/?api=org.apache.avro.io.JsonEncoder</a> I wrote a method that should convert any given Avro object (they extend GenericRecord) to a Json String.  Code:</p>\n<pre><code>import org.apache.avro.generic.GenericDatumWriter;\nimport org.apache.avro.generic.GenericRecord;\nimport org.apache.avro.io.DatumWriter;\nimport org.apache.avro.io.EncoderFactory;\nimport org.apache.avro.io.JsonEncoder;\n\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.OutputStream;\n\n// ... Class header etc. ...\n\npublic static &lt;T extends GenericRecord&gt; String convertToJsonString(T event) throws IOException {\n\n    String jsonstring = &quot;&quot;;\n\n    try {\n        DatumWriter&lt;T&gt; writer = new GenericDatumWriter&lt;T&gt;(event.getSchema());\n        OutputStream out = new ByteArrayOutputStream();\n        JsonEncoder encoder = EncoderFactory.get().jsonEncoder(event.getSchema(), out);\n        writer.write(event, encoder);\n        encoder.flush();\n        jsonstring = out.toString();\n    } catch (IOException e) {\n        log.error(&quot;IOException occurred.&quot;, e);\n        throw e;\n    }\n\n    return jsonstring;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":874523,"reputation":2017,"user_id":1216686,"accept_rate":11,"display_name":"Matt Campbell"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613338829,"creation_date":1613338829,"answer_id":66200403,"question_id":39349733,"body_markdown":"My req&#39;ts got changed on me and I was told I needed to convert Avro objects straight to JSON without preserving any of the meta-data.  My other answer herein that specified a method convertToJsonString converts the entire Avro object to JSON so that using a de-encoder you can re-create the original Avro object as an Avro object.  That isn&#39;t what my mgt. wanted anymore so I was back to the old drawing board.\r\n\r\nAs a Hail Mary pass I tried using Gson and it works to do what I now had to do.  It&#39;s very simple:\r\n\r\n     Gson gson = new Gson();\r\n     String theJsonString = gson.toJson(object_ur_converting);\r\n\r\nAnd you&#39;re done.","title":"JsonMappingException when serializing avro generated object to json","body":"<p>My req'ts got changed on me and I was told I needed to convert Avro objects straight to JSON without preserving any of the meta-data.  My other answer herein that specified a method convertToJsonString converts the entire Avro object to JSON so that using a de-encoder you can re-create the original Avro object as an Avro object.  That isn't what my mgt. wanted anymore so I was back to the old drawing board.</p>\n<p>As a Hail Mary pass I tried using Gson and it works to do what I now had to do.  It's very simple:</p>\n<pre><code> Gson gson = new Gson();\n String theJsonString = gson.toJson(object_ur_converting);\n</code></pre>\n<p>And you're done.</p>\n"},{"tags":[],"owner":{"account_id":14049119,"reputation":29,"user_id":10148454,"display_name":"Hazel Cosina"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1638583329,"creation_date":1638583329,"answer_id":70222480,"question_id":39349733,"body_markdown":"Agree with Shivansh&#39;s answer. To add, there might be instances where we need to use the avro-generated pojo in other classes. Under the hood, spring uses jackson library in handling this so we need to override global jackson config by adding a class\r\n\r\n    @Configuration\r\n    public class JacksonConfiguration {\r\n        public abstract IgnoreSchemaProperty {\r\n              @JsonIgnore abstract void getSchema();\r\n        }\r\n        @Bean\r\n        public ObjectMapper objectMapper() {\r\n              ObjectMapper om = new ObjectMapper();\r\n              om.addMixIn(SpecificRecordBase.class, IgnoreSchemaProperty.class);\r\n              return om;\r\n        }\r\n    }\r\n    \r\nSpecificRecordBase -if we want to ignore the schema field from all avro generated classes. In this way, we can serialize/deserialize our avro classes and use it anywhere in our application without getting the issue.","title":"JsonMappingException when serializing avro generated object to json","body":"<p>Agree with Shivansh's answer. To add, there might be instances where we need to use the avro-generated pojo in other classes. Under the hood, spring uses jackson library in handling this so we need to override global jackson config by adding a class</p>\n<pre><code>@Configuration\npublic class JacksonConfiguration {\n    public abstract IgnoreSchemaProperty {\n          @JsonIgnore abstract void getSchema();\n    }\n    @Bean\n    public ObjectMapper objectMapper() {\n          ObjectMapper om = new ObjectMapper();\n          om.addMixIn(SpecificRecordBase.class, IgnoreSchemaProperty.class);\n          return om;\n    }\n}\n</code></pre>\n<p>SpecificRecordBase -if we want to ignore the schema field from all avro generated classes. In this way, we can serialize/deserialize our avro classes and use it anywhere in our application without getting the issue.</p>\n"},{"tags":[],"owner":{"account_id":9620040,"reputation":853,"user_id":7141579,"display_name":"Jose Boretto Blengino"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1689766171,"creation_date":1663691886,"answer_id":73789976,"question_id":39349733,"body_markdown":"2022 Avro field names\r\n\r\n    abstract class IgnoreSchemaPropertyConfig {\r\n       // You have to use the correct package for JsonIgnore,\r\n       // fasterxml or codehaus\r\n       @JsonIgnore\r\n       abstract void getClassSchema();\r\n\r\n       @JsonIgnore\r\n       abstract void getSpecificData();\r\n\r\n       @JsonIgnore\r\n       abstract void get();\r\n\r\n       @JsonIgnore\r\n       abstract void getSchema();\r\n    }\r\n\r\n\r\n    public class AvroGenerateJSON\r\n    {\r\n     \r\n      public String convertToJson() throws IOException {\r\n        ObjectMapper om = new ObjectMapper();\r\n        om.addMixIn(BookAvro.class,IgnoreSchemaPropertyConfig.class);\r\n      }\r\n    }","title":"JsonMappingException when serializing avro generated object to json","body":"<p>2022 Avro field names</p>\n<pre><code>abstract class IgnoreSchemaPropertyConfig {\n   // You have to use the correct package for JsonIgnore,\n   // fasterxml or codehaus\n   @JsonIgnore\n   abstract void getClassSchema();\n\n   @JsonIgnore\n   abstract void getSpecificData();\n\n   @JsonIgnore\n   abstract void get();\n\n   @JsonIgnore\n   abstract void getSchema();\n}\n\n\npublic class AvroGenerateJSON\n{\n \n  public String convertToJson() throws IOException {\n    ObjectMapper om = new ObjectMapper();\n    om.addMixIn(BookAvro.class,IgnoreSchemaPropertyConfig.class);\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":435092,"reputation":1637,"user_id":821478,"accept_rate":100,"display_name":"cjackson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1684257931,"creation_date":1684257931,"answer_id":76265692,"question_id":39349733,"body_markdown":"If you are experiencing this issue when trying to use structured logging via [logstash-logback-encoder](https://github.com/logfellow/logstash-logback-encoder). Then you need to use a `JsonFactoryDecorator` implementation to add the mixin to ignore the problematic avro generated getters.\r\n\r\n```\r\npackage the.package.path;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.core.JsonFactory;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport net.logstash.logback.decorate.JsonFactoryDecorator;\r\nimport org.apache.avro.specific.SpecificRecordBase;\r\n\r\n\r\npublic class AvroJsonFactoryDecorator implements JsonFactoryDecorator {\r\n    abstract class JacksonIgnoreAvroProperties {\r\n\r\n        @JsonIgnore\r\n        public abstract org.apache.avro.Schema getClassSchema();\r\n\r\n        @JsonIgnore\r\n        public abstract org.apache.avro.specific.SpecificData getSpecificData();\r\n\r\n        @JsonIgnore\r\n        public abstract java.lang.Object get(int field$);\r\n\r\n        @JsonIgnore\r\n        public abstract org.apache.avro.Schema getSchema();\r\n    }\r\n\r\n    @Override\r\n    public JsonFactory decorate(JsonFactory factory) {\r\n        ObjectMapper objectMapper = (ObjectMapper) factory.getCodec();\r\n        objectMapper.addMixIn(SpecificRecordBase.class, JacksonIgnoreAvroProperties.class);\r\n        return factory;\r\n    }\r\n}\r\n```\r\nAnd then include the following in your logback config:\r\n```\r\n&lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\r\n\t\t\t&lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\r\n\t\t\t\t&lt;jsonFactoryDecorator class=&quot;the.package.path.AvroJsonFactoryDecorator&quot;/&gt;\r\n\t\t\t&lt;/encoder&gt;\r\n\t\t&lt;/appender&gt;\r\n```","title":"JsonMappingException when serializing avro generated object to json","body":"<p>If you are experiencing this issue when trying to use structured logging via <a href=\"https://github.com/logfellow/logstash-logback-encoder\" rel=\"nofollow noreferrer\">logstash-logback-encoder</a>. Then you need to use a <code>JsonFactoryDecorator</code> implementation to add the mixin to ignore the problematic avro generated getters.</p>\n<pre><code>package the.package.path;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.core.JsonFactory;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport net.logstash.logback.decorate.JsonFactoryDecorator;\nimport org.apache.avro.specific.SpecificRecordBase;\n\n\npublic class AvroJsonFactoryDecorator implements JsonFactoryDecorator {\n    abstract class JacksonIgnoreAvroProperties {\n\n        @JsonIgnore\n        public abstract org.apache.avro.Schema getClassSchema();\n\n        @JsonIgnore\n        public abstract org.apache.avro.specific.SpecificData getSpecificData();\n\n        @JsonIgnore\n        public abstract java.lang.Object get(int field$);\n\n        @JsonIgnore\n        public abstract org.apache.avro.Schema getSchema();\n    }\n\n    @Override\n    public JsonFactory decorate(JsonFactory factory) {\n        ObjectMapper objectMapper = (ObjectMapper) factory.getCodec();\n        objectMapper.addMixIn(SpecificRecordBase.class, JacksonIgnoreAvroProperties.class);\n        return factory;\n    }\n}\n</code></pre>\n<p>And then include the following in your logback config:</p>\n<pre><code>&lt;appender name=&quot;console&quot; class=&quot;ch.qos.logback.core.ConsoleAppender&quot;&gt;\n            &lt;encoder class=&quot;net.logstash.logback.encoder.LogstashEncoder&quot;&gt;\n                &lt;jsonFactoryDecorator class=&quot;the.package.path.AvroJsonFactoryDecorator&quot;/&gt;\n            &lt;/encoder&gt;\n        &lt;/appender&gt;\n</code></pre>\n"}],"owner":{"account_id":9143018,"reputation":391,"user_id":6800274,"display_name":"Amir"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20105,"favorite_count":0,"down_vote_count":0,"up_vote_count":15,"answer_count":7,"score":15,"last_activity_date":1689766171,"creation_date":1473167041,"question_id":39349733,"body_markdown":"I used avro-tools to generate java classes from avsc files, using:\r\n\r\n    java.exe -jar avro-tools-1.7.7.jar compile -string schema myfile.avsc \r\n\r\nThen I tried to serialize such objects to json by ObjectMapper,\r\nbut always got a JsonMappingException saying &quot;not an enum&quot; or &quot;not a union&quot;.\r\nIn my test I create the generated object using it&#39;s builder or constructor.\r\nI got such exceptions for objects of different classes...\r\n\r\nSample Code:\r\n\r\n    ObjectMapper serializer = new ObjectMapper(); // com.fasterxml.jackson.databind\r\n    serializer.register(new JtsModule()); // com.bedatadriven.jackson.datatype.jts\r\n    ...\r\n    return serializer.writeValueAsBytes(avroConvertedObject); // =&gt; JsonMappingException\r\n\r\nI also tried many configurations using: serializer.configure(...) but still failed.\r\n**Versions:** Java 1.8, jackson-datatype-jts 2.3, \r\njackson-core 2.6.5, jackson-databind 2.6.5, jackson-annotations 2.6.5\r\n\r\nAny suggestions?\r\nThanks!\r\n","title":"JsonMappingException when serializing avro generated object to json","body":"<p>I used avro-tools to generate java classes from avsc files, using:</p>\n\n<pre><code>java.exe -jar avro-tools-1.7.7.jar compile -string schema myfile.avsc \n</code></pre>\n\n<p>Then I tried to serialize such objects to json by ObjectMapper,\nbut always got a JsonMappingException saying \"not an enum\" or \"not a union\".\nIn my test I create the generated object using it's builder or constructor.\nI got such exceptions for objects of different classes...</p>\n\n<p>Sample Code:</p>\n\n<pre><code>ObjectMapper serializer = new ObjectMapper(); // com.fasterxml.jackson.databind\nserializer.register(new JtsModule()); // com.bedatadriven.jackson.datatype.jts\n...\nreturn serializer.writeValueAsBytes(avroConvertedObject); // =&gt; JsonMappingException\n</code></pre>\n\n<p>I also tried many configurations using: serializer.configure(...) but still failed.\n<strong>Versions:</strong> Java 1.8, jackson-datatype-jts 2.3, \njackson-core 2.6.5, jackson-databind 2.6.5, jackson-annotations 2.6.5</p>\n\n<p>Any suggestions?\nThanks!</p>\n"},{"tags":["java","selenium-webdriver","automated-tests","webdrivermanager-java"],"comments":[{"owner":{"account_id":26749667,"reputation":9,"user_id":20349245,"display_name":"Giri B"},"score":0,"creation_date":1689765624,"post_id":76720743,"comment_id":135258802,"body_markdown":"&lt;dependency&gt;\n          &lt;groupId&gt;commons-io&lt;/groupId&gt;\n          &lt;artifactId&gt;commons-io&lt;/artifactId&gt;\n          &lt;version&gt;2.11.0&lt;/version&gt;\n      &lt;/dependency&gt;\n\n&lt;dependency&gt;\n          &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n          &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n          &lt;version&gt;5.4.0&lt;/version&gt;\n      &lt;/dependency&gt;","body":"&lt;dependency&gt;           &lt;groupId&gt;commons-io&lt;/groupId&gt;           &lt;artifactId&gt;commons-io&lt;/artifactId&gt;           &lt;version&gt;2.11.0&lt;/version&gt;       &lt;/dependency&gt;  &lt;dependency&gt;           &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;           &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;           &lt;version&gt;5.4.0&lt;/version&gt;       &lt;/dependency&gt;"},{"owner":{"account_id":26682848,"reputation":3533,"user_id":20292589,"display_name":"Yaroslavm"},"score":0,"creation_date":1689765818,"post_id":76720743,"comment_id":135258841,"body_markdown":"have you tried to rebuild maven or try to use lower version, like\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;\n            &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;\n            &lt;version&gt;5.3.2&lt;/version&gt;\n        &lt;/dependency&gt;","body":"have you tried to rebuild maven or try to use lower version, like          &lt;dependency&gt;             &lt;groupId&gt;io.github.bonigarcia&lt;/groupId&gt;             &lt;artifactId&gt;webdrivermanager&lt;/artifactId&gt;             &lt;version&gt;5.3.2&lt;/version&gt;         &lt;/dependency&gt;"},{"owner":{"account_id":295316,"reputation":736,"user_id":3324415,"accept_rate":74,"display_name":"BernardV"},"score":0,"creation_date":1689765854,"post_id":76720743,"comment_id":135258852,"body_markdown":"You need to provide more code to allow people to help you. Not just the error.","body":"You need to provide more code to allow people to help you. Not just the error."},{"owner":{"account_id":10299692,"reputation":5719,"user_id":7598774,"accept_rate":75,"display_name":"Shawn"},"score":0,"creation_date":1689765872,"post_id":76720743,"comment_id":135258856,"body_markdown":"Refer this if it helps - https://stackoverflow.com/a/76719443/7598774","body":"Refer this if it helps - <a href=\"https://stackoverflow.com/a/76719443/7598774\">stackoverflow.com/a/76719443/7598774</a>"},{"owner":{"account_id":26749667,"reputation":9,"user_id":20349245,"display_name":"Giri B"},"score":0,"creation_date":1689773288,"post_id":76720743,"comment_id":135260803,"body_markdown":"public void setup(String br)\n\t\t{\n\t\t\tlogger = Logger.getLogger(&quot;CCMTAutomation&quot;);\n\t\t\tPropertyConfigurator.configure(&quot;log4j.properties&quot;);\n\n\t\t\n\t\t\ttry {\n\t\t\t\tif (br.equalsIgnoreCase(&quot;chrome&quot;)) {\n\t\t\t\t\tsetupChrome();\n\t\t\t\t} else {\n\t\t\t\t\tthrow new IllegalArgumentException(&quot;Invalid browser parameter: &quot; + br);\n\t\t\t\t}\n\t\t\t} catch (Exception e) {\n\t\t\t\t// Handle and report the exception\n\t\t\t\te.printStackTrace();\n\t\t\t\tAssert.fail(&quot;Error setting up WebDriver: &quot; + e.getMessage());\n\t\t\t}\n\t\t}","body":"public void setup(String br) \t\t{ \t\t\tlogger = Logger.getLogger(&quot;CCMTAutomation&quot;); \t\t\tPropertyConfigurator.configure(&quot;log4j.properties&quot;);  \t\t \t\t\ttry { \t\t\t\tif (br.equalsIgnoreCase(&quot;chrome&quot;)) { \t\t\t\t\tsetupChrome(); \t\t\t\t} else { \t\t\t\t\tthrow new IllegalArgumentException(&quot;Invalid browser parameter: &quot; + br); \t\t\t\t} \t\t\t} catch (Exception e) { \t\t\t\t// Handle and report the exception \t\t\t\te.printStackTrace(); \t\t\t\tAssert.fail(&quot;Error setting up WebDriver: &quot; + e.getMessage()); \t\t\t} \t\t}"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689809995,"post_id":76720743,"comment_id":135267785,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":26749667,"reputation":9,"user_id":20349245,"display_name":"Giri B"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689765587,"creation_date":1689765587,"question_id":76720743,"body_markdown":"I use Java+selenium+testng+maven. And I tried to use WebDriver Manager instead of standard usage. After declaration according to the instruction of API, I ran into a problem. When compiling the errors occur:\r\n\r\n```\r\njava.lang.NoSuchMethodError: org.apache.commons.io.FileUtils.copyInputStreamToFile(Ljava/io/InputStream;Ljava/io/File;)V\r\n\r\nat io.github.bonigarcia.wdm.Downloader.download(Downloader.java:128)\r\nat io.github.bonigarcia.wdm.BrowserManager.manage(BrowserManager.java:277)\r\n```","title":"WebDriver Manager java.lang.NoSuchMethodError1","body":"<p>I use Java+selenium+testng+maven. And I tried to use WebDriver Manager instead of standard usage. After declaration according to the instruction of API, I ran into a problem. When compiling the errors occur:</p>\n<pre><code>java.lang.NoSuchMethodError: org.apache.commons.io.FileUtils.copyInputStreamToFile(Ljava/io/InputStream;Ljava/io/File;)V\n\nat io.github.bonigarcia.wdm.Downloader.download(Downloader.java:128)\nat io.github.bonigarcia.wdm.BrowserManager.manage(BrowserManager.java:277)\n</code></pre>\n"},{"tags":["java","zpl"],"comments":[{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1685632000,"post_id":76382732,"comment_id":134690417,"body_markdown":"Read the answers to [How do I get a list of installed printers?](https://stackoverflow.com/questions/410967/how-do-i-get-a-list-of-installed-printers) and see if you can modify the code to get Zebra printers.","body":"Read the answers to <a href=\"https://stackoverflow.com/questions/410967/how-do-i-get-a-list-of-installed-printers\">How do I get a list of installed printers?</a> and see if you can modify the code to get Zebra printers."},{"owner":{"account_id":2508904,"reputation":379,"user_id":2181835,"display_name":"Vali Maties"},"score":0,"creation_date":1685638373,"post_id":76382732,"comment_id":134691918,"body_markdown":"Gilbert, I know how to get the list of printers, but I don&#39;t know how to check if the printer accept ZPL code or not... I didn&#39;t found the Zebra SDK for Java to see if there is any class which can be used to list only the ZPL printers. That&#39;s I asked, maybe someone did it! This is what I asked, if can I check somehow if the printer in the list accept ZPL code or not.","body":"Gilbert, I know how to get the list of printers, but I don&#39;t know how to check if the printer accept ZPL code or not... I didn&#39;t found the Zebra SDK for Java to see if there is any class which can be used to list only the ZPL printers. That&#39;s I asked, maybe someone did it! This is what I asked, if can I check somehow if the printer in the list accept ZPL code or not."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1685645560,"post_id":76382732,"comment_id":134693357,"body_markdown":"Don&#39;t you know which printers are Zebra printers?  Create a `List` of all the Zebra printers in your network, then compare your list to the printer list.","body":"Don&#39;t you know which printers are Zebra printers?  Create a <code>List</code> of all the Zebra printers in your network, then compare your list to the printer list."},{"owner":{"account_id":2508904,"reputation":379,"user_id":2181835,"display_name":"Vali Maties"},"score":0,"creation_date":1685738532,"post_id":76382732,"comment_id":134708662,"body_markdown":"Gilbert, is not about me... it is about the user which uses the application. He see a combobox with some printers. If I don&#39;t filter the comobox with only the printer which can print the ZPL code for the label he/she can choose any printer which is displayed in the system. That&#39;s why I tought someone found a way of filtering the printers based on the language, or some attributes, but seems the 420t does not return this attribute.","body":"Gilbert, is not about me... it is about the user which uses the application. He see a combobox with some printers. If I don&#39;t filter the comobox with only the printer which can print the ZPL code for the label he/she can choose any printer which is displayed in the system. That&#39;s why I tought someone found a way of filtering the printers based on the language, or some attributes, but seems the 420t does not return this attribute."},{"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"score":0,"creation_date":1685743827,"post_id":76382732,"comment_id":134709312,"body_markdown":"Usually, network developers give special printers special printer identifiers.  Like, all Zebra printers have a network identifier that starts with the letter Z.  If only the user knows the network printer identifier for a Zebra printer, then he&#39;ll have to tell you his printer is a Zebra printer.","body":"Usually, network developers give special printers special printer identifiers.  Like, all Zebra printers have a network identifier that starts with the letter Z.  If only the user knows the network printer identifier for a Zebra printer, then he&#39;ll have to tell you his printer is a Zebra printer."}],"answers":[{"tags":[],"owner":{"account_id":1198865,"reputation":216,"user_id":1169972,"display_name":"dominikkv"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689765100,"creation_date":1689765100,"answer_id":76720681,"question_id":76382732,"body_markdown":"Using the [Zebra SDK][1] you can make use of the different *Discoverer classes:\r\n\r\n- NetworkDiscoverer\r\n- RemoteDiscoverer\r\n- UsbDiscoverer\r\n\r\nFor example,\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n    for (DiscoveredPrinterDriver discoveredPrinter : UsbDiscoverer.getZebraDriverPrinters()) {\r\n      log.info(&quot;Driver USB Printer &quot; + discoveredPrinter);\r\n    }\r\n\r\n  [1]: https://www.zebra.com/de/de/support-downloads/printer-software/link-os-multiplatform-sdk.html","title":"Java Get only ZPL printers from system in Windows","body":"<p>Using the <a href=\"https://www.zebra.com/de/de/support-downloads/printer-software/link-os-multiplatform-sdk.html\" rel=\"nofollow noreferrer\">Zebra SDK</a> you can make use of the different *Discoverer classes:</p>\n<ul>\n<li>NetworkDiscoverer</li>\n<li>RemoteDiscoverer</li>\n<li>UsbDiscoverer</li>\n</ul>\n<p>For example,</p>\n<pre class=\"lang-java prettyprint-override\"><code>for (DiscoveredPrinterDriver discoveredPrinter : UsbDiscoverer.getZebraDriverPrinters()) {\n  log.info(&quot;Driver USB Printer &quot; + discoveredPrinter);\n}\n</code></pre>\n"}],"owner":{"account_id":2508904,"reputation":379,"user_id":2181835,"display_name":"Vali Maties"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689765100,"creation_date":1685628151,"question_id":76382732,"body_markdown":"Is there any way to get only the ZPL printers in the system in Java? I don&#39;t want to list printers which does not allow to print Zebra Commands.\r\nThanks.","title":"Java Get only ZPL printers from system in Windows","body":"<p>Is there any way to get only the ZPL printers in the system in Java? I don't want to list printers which does not allow to print Zebra Commands.\nThanks.</p>\n"},{"tags":["java","spring","spring-integration"],"comments":[{"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"score":0,"creation_date":1689773114,"post_id":76720654,"comment_id":135260747,"body_markdown":"DEBUG logging should help you understand what is happening.","body":"DEBUG logging should help you understand what is happening."}],"owner":{"account_id":11967931,"reputation":1,"user_id":8757087,"display_name":"user8757087"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689764866,"creation_date":1689764866,"question_id":76720654,"body_markdown":"In my Spring integration project, I listen to incoming messages and send some requests from a server with TCP. I am using Spring integration version 5.2.21.\r\n\r\nAnd the code block I am using is as follows.\r\n\r\n```\r\n &lt;int-ip:tcp-connection-factory id=&quot;tcpClientFactory&quot;\r\n                                   type=&quot;client&quot;\r\n                                   host=&quot;${server.ip}&quot;\r\n                                   port=&quot;${server.port}&quot;\r\n                                   so-timeout=&quot;300000&quot;\r\n                                   so-keep-alive=&quot;true&quot;\r\n                                   single-use=&quot;false&quot;\r\n                                   using-nio=&quot;true&quot;\r\n                                   serializer=&quot;messageSerializer&quot;\r\n                                   deserializer=&quot;messageSerializer&quot;/&gt;\r\n\r\n    &lt;int-ip:tcp-outbound-channel-adapter id=&quot;outBoundChannelAdapter&quot;\r\n                                         connection-factory=&quot;tcpClientFactory&quot;\r\n                                         client-mode=&quot;true&quot;\r\n                                         auto-startup=&quot;true&quot;\r\n                                         retry-interval=&quot;30000&quot;\r\n                                         channel=&quot;toTcpAdapterChannel&quot;/&gt;\r\n\r\n    &lt;int-ip:tcp-inbound-channel-adapter id=&quot;inBoundChannelAdapter&quot;\r\n                                        connection-factory=&quot;tcpClientFactory&quot;\r\n                                        client-mode=&quot;false&quot;\r\n                                        auto-startup=&quot;true&quot;\r\n                                        channel=&quot;fromTcpGatewayChannel&quot;/&gt;\r\n```\r\n\r\nI have to manage all communication over a single connection upon request from the server. However, I see that my connection becomes unusable after a while and is taken again after the so-timeout period. Now I have a message coming in every minute.\r\nAnd as long as I don&#39;t send any messages, I see that there is no problem with incoming messages.\r\nHowever, when I send a message, I see that the incoming messages are no longer coming.\r\nAnd after the so-timeout period has expired, I see that a new connection is made and the incoming messages are received again.\r\n\r\n\r\n\r\nAs I explained in the title, I think there is a problem due to the use of inbound and outbound adapters together. However, despite my research and many attempts, I could not find a solution.\r\n\r\n\r\nThanks for your help in advance.","title":"Spring Integration Inbound/Output adapter confluence","body":"<p>In my Spring integration project, I listen to incoming messages and send some requests from a server with TCP. I am using Spring integration version 5.2.21.</p>\n<p>And the code block I am using is as follows.</p>\n<pre><code> &lt;int-ip:tcp-connection-factory id=&quot;tcpClientFactory&quot;\n                                   type=&quot;client&quot;\n                                   host=&quot;${server.ip}&quot;\n                                   port=&quot;${server.port}&quot;\n                                   so-timeout=&quot;300000&quot;\n                                   so-keep-alive=&quot;true&quot;\n                                   single-use=&quot;false&quot;\n                                   using-nio=&quot;true&quot;\n                                   serializer=&quot;messageSerializer&quot;\n                                   deserializer=&quot;messageSerializer&quot;/&gt;\n\n    &lt;int-ip:tcp-outbound-channel-adapter id=&quot;outBoundChannelAdapter&quot;\n                                         connection-factory=&quot;tcpClientFactory&quot;\n                                         client-mode=&quot;true&quot;\n                                         auto-startup=&quot;true&quot;\n                                         retry-interval=&quot;30000&quot;\n                                         channel=&quot;toTcpAdapterChannel&quot;/&gt;\n\n    &lt;int-ip:tcp-inbound-channel-adapter id=&quot;inBoundChannelAdapter&quot;\n                                        connection-factory=&quot;tcpClientFactory&quot;\n                                        client-mode=&quot;false&quot;\n                                        auto-startup=&quot;true&quot;\n                                        channel=&quot;fromTcpGatewayChannel&quot;/&gt;\n</code></pre>\n<p>I have to manage all communication over a single connection upon request from the server. However, I see that my connection becomes unusable after a while and is taken again after the so-timeout period. Now I have a message coming in every minute.\nAnd as long as I don't send any messages, I see that there is no problem with incoming messages.\nHowever, when I send a message, I see that the incoming messages are no longer coming.\nAnd after the so-timeout period has expired, I see that a new connection is made and the incoming messages are received again.</p>\n<p>As I explained in the title, I think there is a problem due to the use of inbound and outbound adapters together. However, despite my research and many attempts, I could not find a solution.</p>\n<p>Thanks for your help in advance.</p>\n"},{"tags":["java","sqlite"],"comments":[{"owner":{"account_id":12213088,"reputation":7885,"user_id":8914336,"display_name":"coroutineDispatcher"},"score":0,"creation_date":1559142646,"post_id":56363640,"comment_id":99330509,"body_markdown":"are you talking in Android or other Java framework?","body":"are you talking in Android or other Java framework?"},{"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"score":0,"creation_date":1559146301,"post_id":56363640,"comment_id":99332541,"body_markdown":"A sqlite in-memory database is freed when the last connection to it is closed. You can&#39;t change that behavior.","body":"A sqlite in-memory database is freed when the last connection to it is closed. You can&#39;t change that behavior."},{"owner":{"account_id":2066640,"reputation":1328,"user_id":1842042,"accept_rate":75,"display_name":"besil"},"score":0,"creation_date":1559196226,"post_id":56363640,"comment_id":99346806,"body_markdown":"I&#39;m using jersey on grizzly server (no android)","body":"I&#39;m using jersey on grizzly server (no android)"}],"answers":[{"tags":[],"owner":{"account_id":4277107,"reputation":1320,"user_id":3497465,"display_name":"Filippo Possenti"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1559144357,"creation_date":1559144357,"answer_id":56364179,"question_id":56363640,"body_markdown":"As unit-tests are supposed to be independent one another, I would advise against proceeding this way. Depending on the underlying framework you&#39;re using you might want to use annotations to drive the execution of initialisation and teardown SQL. For Spring, for example, you can use the following:\r\n\r\nhttps://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-testing-annotation-sql\r\n\r\n\r\nIf you can&#39;t use annotations or are really determined to proceed down this path (context is everything: you might totally have good reasons) one possibility would be to open an additional connection in your `@BeforeAll` method, which you would then manually close in an `@AfterAll` method. As this would be an additional connection separately managed by your code, sqlite would be tricked into NOT performing its cleanup up until the `@AfterAll` method executes.\r\n\r\nIf you want this to be at JVM level, you can use a class&#39; static initialiser...","title":"Keep in memory database open until JVM exit","body":"<p>As unit-tests are supposed to be independent one another, I would advise against proceeding this way. Depending on the underlying framework you're using you might want to use annotations to drive the execution of initialisation and teardown SQL. For Spring, for example, you can use the following:</p>\n\n<p><a href=\"https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-testing-annotation-sql\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring/docs/current/spring-framework-reference/testing.html#spring-testing-annotation-sql</a></p>\n\n<p>If you can't use annotations or are really determined to proceed down this path (context is everything: you might totally have good reasons) one possibility would be to open an additional connection in your <code>@BeforeAll</code> method, which you would then manually close in an <code>@AfterAll</code> method. As this would be an additional connection separately managed by your code, sqlite would be tricked into NOT performing its cleanup up until the <code>@AfterAll</code> method executes.</p>\n\n<p>If you want this to be at JVM level, you can use a class' static initialiser...</p>\n"}],"owner":{"account_id":2066640,"reputation":1328,"user_id":1842042,"accept_rate":75,"display_name":"besil"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":539,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689764778,"creation_date":1559142495,"question_id":56363640,"body_markdown":"I&#39;d like to keep an in memory SQLite database, but without attached connections. I&#39;m unit testing a web app, so in `@BeforeAll` method I initialize then in various test methods DDL manipulation. When the last connection is closed, SQLite in memory database is discarded, breaking my tests.\r\n\r\nI achieved to keep a H2 in memory database open while the JVM lives:\r\n\r\n```\r\njdbc:h2:mem:test;DB_CLOSE_DELAY=-1\r\n```\r\n\r\nBut I can&#39;t find a way for SQLite. I tried:\r\n\r\n```\r\njdbc:sqlite::memory:&amp;cache=shared\r\n```\r\n\r\nBut doesn&#39;t work. Is it possible?","title":"Keep in memory database open until JVM exit","body":"<p>I'd like to keep an in memory SQLite database, but without attached connections. I'm unit testing a web app, so in <code>@BeforeAll</code> method I initialize then in various test methods DDL manipulation. When the last connection is closed, SQLite in memory database is discarded, breaking my tests.</p>\n<p>I achieved to keep a H2 in memory database open while the JVM lives:</p>\n<pre><code>jdbc:h2:mem:test;DB_CLOSE_DELAY=-1\n</code></pre>\n<p>But I can't find a way for SQLite. I tried:</p>\n<pre><code>jdbc:sqlite::memory:&amp;cache=shared\n</code></pre>\n<p>But doesn't work. Is it possible?</p>\n"},{"tags":["java","spring-boot","maven","swagger"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1689591922,"post_id":76703796,"comment_id":135230321,"body_markdown":"Please read: [Why should I not upload images of code/data/errors?](https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question)","body":"Please read: <a href=\"https://meta.stackoverflow.com/questions/285551/why-not-upload-images-of-code-errors-when-asking-a-question\">Why should I not upload images of code/data/errors?</a>"},{"owner":{"account_id":19535095,"reputation":2864,"user_id":14294053,"display_name":"Mar-Z"},"score":0,"creation_date":1689593483,"post_id":76703796,"comment_id":135230636,"body_markdown":"Hello and welcome. Try this url: `localhost:8080/swagger-ui/index.html`","body":"Hello and welcome. Try this url: <code>localhost:8080&#47;swagger-ui&#47;index.html</code>"}],"answers":[{"tags":[],"owner":{"account_id":29023182,"reputation":1,"user_id":22232039,"display_name":"Douglas Santos"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689592415,"creation_date":1689592415,"answer_id":76703889,"question_id":76703796,"body_markdown":"have you already configured the swagger part?\r\n\r\nyou need to:\r\n1. setup your swagger\r\n2. @EnableSwagger2 on our configuration class\r\n3. Swagger UI adds a set of resources that we must configure as part of a class that extends WebMvcConfigurerAdapter and is annotated with @EnableWebMvc:\r\n\r\nTo verify it is working try: http://localhost:8080/v2/api-docs to have the JSON response \r\n\r\n4. to see the Swagger UI you need to enable it:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n        &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n        &lt;version&gt;3.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nand try http://localhost:8080/swagger-ui/\r\n\r\nReference: https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\r\n\r\n\r\n","title":"How do I see the swagger web interface?","body":"<p>have you already configured the swagger part?</p>\n<p>you need to:</p>\n<ol>\n<li>setup your swagger</li>\n<li>@EnableSwagger2 on our configuration class</li>\n<li>Swagger UI adds a set of resources that we must configure as part of a class that extends WebMvcConfigurerAdapter and is annotated with @EnableWebMvc:</li>\n</ol>\n<p>To verify it is working try: http://localhost:8080/v2/api-docs to have the JSON response</p>\n<ol start=\"4\">\n<li><p>to see the Swagger UI you need to enable it:</p>\n \n     io.springfox\n     springfox-swagger-ui\n     3.0.0\n \n</li>\n</ol>\n<p>and try http://localhost:8080/swagger-ui/</p>\n<p>Reference: <a href=\"https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api\" rel=\"nofollow noreferrer\">https://www.baeldung.com/swagger-2-documentation-for-spring-rest-api</a></p>\n"}],"owner":{"account_id":29001238,"reputation":1,"user_id":22214755,"display_name":"Dex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1689764705,"creation_date":1689591646,"question_id":76703796,"body_markdown":"I&#39;m trying to visualize my endpoints with swagger but I can&#39;t get it to work, my project is done with spring boot, java 20 and maven.\r\n\r\npom.xml:\r\n![pom.xml](https://i.stack.imgur.com/krI0t.png)\r\n\r\nThis is the path of my controller:\r\n\r\n![this is the path of my controller](https://i.stack.imgur.com/qTmYe.png)\r\n\r\nWeb error:\r\n\r\n![web error](https://i.stack.imgur.com/zqQxZ.png)\r\n\r\nI want to see my endpoints with the swagger web interface","title":"How do I see the swagger web interface?","body":"<p>I'm trying to visualize my endpoints with swagger but I can't get it to work, my project is done with spring boot, java 20 and maven.</p>\n<p>pom.xml:\n<img src=\"https://i.stack.imgur.com/krI0t.png\" alt=\"pom.xml\" /></p>\n<p>This is the path of my controller:</p>\n<p><img src=\"https://i.stack.imgur.com/qTmYe.png\" alt=\"this is the path of my controller\" /></p>\n<p>Web error:</p>\n<p><img src=\"https://i.stack.imgur.com/zqQxZ.png\" alt=\"web error\" /></p>\n<p>I want to see my endpoints with the swagger web interface</p>\n"},{"tags":["java","intellij-idea","jar"],"comments":[{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":0,"creation_date":1689275139,"post_id":76682497,"comment_id":135194343,"body_markdown":"Please provide the [Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve) (shared sample project to reproduce the issue).","body":"Please provide the <a href=\"https://stackoverflow.com/help/mcve\">Minimal, Complete, and Verifiable example</a> (shared sample project to reproduce the issue)."},{"owner":{"account_id":36734,"reputation":392117,"user_id":104891,"display_name":"CrazyCoder"},"score":1,"creation_date":1689294977,"post_id":76682497,"comment_id":135196847,"body_markdown":"I checked the jar and all the classes in this jar are in the default package. Java cannot import from the default package when your class is in the named package: https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package.","body":"I checked the jar and all the classes in this jar are in the default package. Java cannot import from the default package when your class is in the named package: <a href=\"https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package\" title=\"how to access java classes in the default package\">stackoverflow.com/questions/283816/&hellip;</a>."},{"owner":{"account_id":29012442,"reputation":21,"user_id":22223651,"display_name":"Datanerd"},"score":0,"creation_date":1689296056,"post_id":76682497,"comment_id":135196921,"body_markdown":"I see! I was not aware of this, thank you for the information! I moved the lib folder containing the jar into the src folder, and the Grafikk.java class into into the src as well, and it finally worked. Maybe not the perfect way to do it, should I improve it further?","body":"I see! I was not aware of this, thank you for the information! I moved the lib folder containing the jar into the src folder, and the Grafikk.java class into into the src as well, and it finally worked. Maybe not the perfect way to do it, should I improve it further?"}],"answers":[{"tags":[],"owner":{"account_id":29012442,"reputation":21,"user_id":22223651,"display_name":"Datanerd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689764622,"creation_date":1689764622,"answer_id":76720620,"question_id":76682497,"body_markdown":"It was as user &quot;CrazyCoder&quot; commmented. It has to do with the JAR file where all the classes are in the default package, which makes Java unable to import them. I solved it by moving my &quot;lib&quot; folder to &quot;src&quot; directory, and the &quot;Grafikk.java&quot; class to &quot;src&quot; as well. Then adding the path to the JAR file in IntelliJ as you normally would, in Project Structure &gt; Libraries. Read more about it here (quote CrazyCoder): https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package","title":"How to make IntelliJ IDEA 2022.3.3 recognize my external JAR file?","body":"<p>It was as user &quot;CrazyCoder&quot; commmented. It has to do with the JAR file where all the classes are in the default package, which makes Java unable to import them. I solved it by moving my &quot;lib&quot; folder to &quot;src&quot; directory, and the &quot;Grafikk.java&quot; class to &quot;src&quot; as well. Then adding the path to the JAR file in IntelliJ as you normally would, in Project Structure &gt; Libraries. Read more about it here (quote CrazyCoder): <a href=\"https://stackoverflow.com/questions/283816/how-to-access-java-classes-in-the-default-package\">How to access java-classes in the default-package?</a></p>\n"}],"owner":{"account_id":29012442,"reputation":21,"user_id":22223651,"display_name":"Datanerd"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689764622,"creation_date":1689274857,"question_id":76682497,"body_markdown":"This is the code I&#39;m unable to run in IntelliJ:\r\n\r\n```\r\npackage hjemmestud.grafikk;\r\n\r\npublic class Grafikk extends EasyGraphics {\r\n\r\n    public static void main(String[] args) {\r\n        launch(args);\r\n    }\r\n\r\n    public void run() {\r\n        this.makeWindow(&quot;Grafikk&quot;, 300, 300);\r\n        this.drawCircle(150, 70, 60);\r\n        this.drawCircle(150, 190, 60);\r\n    }\r\n}\r\n```\r\n\r\nIt&#39;s supposed to create two circles on top of each other in a small window, like this: [Program Example][1]\r\n\r\nCurrent file structure, IntelliJ Project folder:\r\n[File Structure](https://i.stack.imgur.com/ZyTqy.png)\r\n\r\nWebsite of downloadable JAR file (second file): [https://dbsys.info/programmering/easygraphics/nedlasting.html][2]\r\n\r\nI&#39;ve successfully run the program using just Windows CMD with a different folder structure: [File Structure using CMD (before compiling)](https://i.stack.imgur.com/249am.png) I did this by running these two lines of code in CMD: \r\n\r\n    javac -classpath .;.\\easygraphics.jar Grafikk.java\r\n\r\n    java -cp .;.\\easygraphics.jar Grafikk\r\n\r\nHowever, when I transfer the files to IntelliJ, it doesn&#39;t seem to work. I&#39;ve tried having the JAR file on the same level as the Grafikk.java class, on the same level as hjemmestud.grafikk package and in the same level as the src folder, both just the JAR file itself and in a lib folder, but none of it has worked.\r\n\r\nI&#39;ve also of course added the path to the JAR file in the external libraries by modifying the Project Structure, in the Libraries and Modules for each time, but I still get errors up saying it cannot resolve the symbol &#39;EasyGraphics&#39;.\r\n\r\nI&#39;ve also tried reloading the project from disk and rebuilding the project, aswell as editing the configurations of the class file, without any luck.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/5RH2k.png\r\n  [2]: https://dbsys.info/programmering/easygraphics/nedlasting.html","title":"How to make IntelliJ IDEA 2022.3.3 recognize my external JAR file?","body":"<p>This is the code I'm unable to run in IntelliJ:</p>\n<pre><code>package hjemmestud.grafikk;\n\npublic class Grafikk extends EasyGraphics {\n\n    public static void main(String[] args) {\n        launch(args);\n    }\n\n    public void run() {\n        this.makeWindow(&quot;Grafikk&quot;, 300, 300);\n        this.drawCircle(150, 70, 60);\n        this.drawCircle(150, 190, 60);\n    }\n}\n</code></pre>\n<p>It's supposed to create two circles on top of each other in a small window, like this: <a href=\"https://i.stack.imgur.com/5RH2k.png\" rel=\"nofollow noreferrer\">Program Example</a></p>\n<p>Current file structure, IntelliJ Project folder:\n<a href=\"https://i.stack.imgur.com/ZyTqy.png\" rel=\"nofollow noreferrer\">File Structure</a></p>\n<p>Website of downloadable JAR file (second file): <a href=\"https://dbsys.info/programmering/easygraphics/nedlasting.html\" rel=\"nofollow noreferrer\">https://dbsys.info/programmering/easygraphics/nedlasting.html</a></p>\n<p>I've successfully run the program using just Windows CMD with a different folder structure: <a href=\"https://i.stack.imgur.com/249am.png\" rel=\"nofollow noreferrer\">File Structure using CMD (before compiling)</a> I did this by running these two lines of code in CMD:</p>\n<pre><code>javac -classpath .;.\\easygraphics.jar Grafikk.java\n\njava -cp .;.\\easygraphics.jar Grafikk\n</code></pre>\n<p>However, when I transfer the files to IntelliJ, it doesn't seem to work. I've tried having the JAR file on the same level as the Grafikk.java class, on the same level as hjemmestud.grafikk package and in the same level as the src folder, both just the JAR file itself and in a lib folder, but none of it has worked.</p>\n<p>I've also of course added the path to the JAR file in the external libraries by modifying the Project Structure, in the Libraries and Modules for each time, but I still get errors up saying it cannot resolve the symbol 'EasyGraphics'.</p>\n<p>I've also tried reloading the project from disk and rebuilding the project, aswell as editing the configurations of the class file, without any luck.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","jpql"],"comments":[{"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"score":0,"creation_date":1689763628,"post_id":76720285,"comment_id":135258400,"body_markdown":"Can you add the code of Entities,QuizDao &amp; QuestionDao?","body":"Can you add the code of Entities,QuizDao &amp; QuestionDao?"},{"owner":{"account_id":13198610,"reputation":21,"user_id":9532517,"display_name":"Jay"},"score":0,"creation_date":1689929002,"post_id":76720285,"comment_id":135285535,"body_markdown":"Sure, @Repository\npublic interface QuestionDao extends JpaRepository&lt;Questions,Integer&gt; {\n\n    List&lt;Questions&gt; findByCategory(String category);\n    \n    @Query(value= &quot;select * from questions q Where q.category =:category ORDER BY RANDOM() LIMIT :nOfQues&quot; , nativeQuery= true)\n\tList&lt;Questions&gt; findByCategoryANOfQuestions(String category, int nOfQues);\n\npublic interface QuizDao extends JpaRepository&lt;Quiz,Integer&gt; {\n\n}","body":"Sure, @Repository public interface QuestionDao extends JpaRepository&lt;Questions,Integer&gt; {      List&lt;Questions&gt; findByCategory(String category);          @Query(value= &quot;select * from questions q Where q.category =:category ORDER BY RANDOM() LIMIT :nOfQues&quot; , nativeQuery= true) \tList&lt;Questions&gt; findByCategoryANOfQuestions(String category, int nOfQues);  public interface QuizDao extends JpaRepository&lt;Quiz,Integer&gt; {  }"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690076223,"post_id":76720285,"comment_id":135302363,"body_markdown":"Please show a complete, runnable example which illustrates the problem. It&#39;s not clear whether you are calling `createQ`. Have you checked the DB contents directly via an SQL client?","body":"Please show a complete, runnable example which illustrates the problem. It&#39;s not clear whether you are calling <code>createQ</code>. Have you checked the DB contents directly via an SQL client?"}],"answers":[{"tags":[],"owner":{"account_id":28938722,"reputation":1,"user_id":22165698,"display_name":"Yaswanth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689764525,"creation_date":1689764525,"answer_id":76720607,"question_id":76720285,"body_markdown":"I think it&#39;s because of space you had given between : and param (=: category).","title":"Not able to fetch the data from database using JPQL query in springboot","body":"<p>I think it's because of space you had given between : and param (=: category).</p>\n"}],"owner":{"account_id":13198610,"reputation":21,"user_id":9532517,"display_name":"Jay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689764525,"creation_date":1689762317,"question_id":76720285,"body_markdown":"@Service\r\npublic class QuizService {\r\n\r\n\t@Autowired\r\n\tQuizDao quizDao;\r\n\t\r\n\t@Autowired\r\n\tQuestionDao questiondao;\r\n\t\r\n\tpublic ResponseEntity&lt;String&gt; createQ( String category, int nOfQues, String title) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\t\r\n\t\tList&lt;Questions&gt; questions= questiondao.findByCategoryANOfQuestions(category, nOfQues);\r\n\t\t\r\n\t\tQuiz quiz = new Quiz();\r\n\t\t\r\n\t\tquiz.setTitle(title);\r\n\t\tquiz.setQuestions(questions);\r\n\t\t\r\n\t\t\r\n\t\tquizDao.save(quiz);\r\n\t\t\r\n\t\treturn new ResponseEntity&lt;&gt;(&quot;success&quot;, HttpStatus.ACCEPTED);\r\n\t}\r\n\r\n@Repository\r\npublic interface QuestionDao extends JpaRepository&lt;Questions,Integer&gt; {\r\n\r\n    List&lt;Questions&gt; findByCategory(String category);\r\n    @Query(value= &quot;select * from questions q Where q.category =: category ORDER BY RANDOM() LIMIT     :nOfQues&quot; , nativeQuery= true)\r\n\tList&lt;Questions&gt; findByCategoryANOfQuestions(String category, int nOfQues);\r\n\r\n\r\n\r\nNot able to get questions in db. Using postgres . Please , this is first project and I am self learning. Any help would be appreciated.\r\n\r\n\r\nNot showing any values in question table.","title":"Not able to fetch the data from database using JPQL query in springboot","body":"<p>@Service\npublic class QuizService {</p>\n<pre><code>@Autowired\nQuizDao quizDao;\n\n@Autowired\nQuestionDao questiondao;\n\npublic ResponseEntity&lt;String&gt; createQ( String category, int nOfQues, String title) {\n    // TODO Auto-generated method stub\n    \n    List&lt;Questions&gt; questions= questiondao.findByCategoryANOfQuestions(category, nOfQues);\n    \n    Quiz quiz = new Quiz();\n    \n    quiz.setTitle(title);\n    quiz.setQuestions(questions);\n    \n    \n    quizDao.save(quiz);\n    \n    return new ResponseEntity&lt;&gt;(&quot;success&quot;, HttpStatus.ACCEPTED);\n}\n</code></pre>\n<p>@Repository\npublic interface QuestionDao extends JpaRepository&lt;Questions,Integer&gt; {</p>\n<pre><code>List&lt;Questions&gt; findByCategory(String category);\n@Query(value= &quot;select * from questions q Where q.category =: category ORDER BY RANDOM() LIMIT     :nOfQues&quot; , nativeQuery= true)\nList&lt;Questions&gt; findByCategoryANOfQuestions(String category, int nOfQues);\n</code></pre>\n<p>Not able to get questions in db. Using postgres . Please , this is first project and I am self learning. Any help would be appreciated.</p>\n<p>Not showing any values in question table.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":187094,"reputation":5113,"user_id":424903,"display_name":"Gimby"},"score":0,"creation_date":1689165414,"post_id":76653334,"comment_id":135174367,"body_markdown":"By default deployments in an ear have access to each other&#39;s resources, so you may have version mismatches within the different modules that are causing you misery. Is ear subdeployment isolation turned on or off as documented here: https://docs.jboss.org/author/display/WFLY10/Class%20Loading%20in%20WildFly.html ?","body":"By default deployments in an ear have access to each other&#39;s resources, so you may have version mismatches within the different modules that are causing you misery. Is ear subdeployment isolation turned on or off as documented here: <a href=\"https://docs.jboss.org/author/display/WFLY10/Class%20Loading%20in%20WildFly.html\" rel=\"nofollow noreferrer\">docs.jboss.org/author/display/WFLY10/&hellip;</a> ?"}],"answers":[{"tags":[],"owner":{"account_id":4243,"reputation":1301824,"user_id":6309,"accept_rate":100,"display_name":"VonC"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689248232,"creation_date":1689248232,"answer_id":76678950,"question_id":76653334,"body_markdown":"&quot;[Error loading DispatcherServlet&#39;s default strategy class](https://stackoverflow.com/a/20267074/6309)&quot; or &quot;[Please advise to me that Spring MVC Error](https://stackoverflow.com/a/45453371/6309)&quot; are both pointing to some version discrepancy between modules.\r\n\r\nSo double-check the current versions loaded by your pom.xml when building your war:\r\n\r\n``` bash\r\nmvn versions:display-dependency-updates\r\n```\r\n\r\nAnd check if there is any update you might want to consider upgrading to:\r\n\r\n``` bash\r\nmvn versions:display-dependency-updates\r\n```\r\n\r\nCheck if an [enforcer](https://maven.apache.org/enforcer/maven-enforcer-plugin/) would fail your build, using a `DependencyConvergence` rule, when building your deliverable:\r\n\r\n``` xml\r\n&lt;project&gt;\r\n  [...]\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;3.3.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;id&gt;enforce&lt;/id&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;enforce&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n            &lt;configuration&gt;\r\n              &lt;rules&gt;\r\n                &lt;DependencyConvergence /&gt;\r\n              &lt;/rules&gt;\r\n            &lt;/configuration&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n      &lt;/plugin&gt;\r\n    &lt;/plugins&gt;\r\n  &lt;/build&gt;\r\n  [...]\r\n&lt;/project&gt;\r\n``` ","title":"java.lang.NoClassDefFoundError when deploying Spring Boot .war within .ear on Wildfly with other deployments","body":"<p>&quot;<a href=\"https://stackoverflow.com/a/20267074/6309\">Error loading DispatcherServlet's default strategy class</a>&quot; or &quot;<a href=\"https://stackoverflow.com/a/45453371/6309\">Please advise to me that Spring MVC Error</a>&quot; are both pointing to some version discrepancy between modules.</p>\n<p>So double-check the current versions loaded by your pom.xml when building your war:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn versions:display-dependency-updates\n</code></pre>\n<p>And check if there is any update you might want to consider upgrading to:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>mvn versions:display-dependency-updates\n</code></pre>\n<p>Check if an <a href=\"https://maven.apache.org/enforcer/maven-enforcer-plugin/\" rel=\"nofollow noreferrer\">enforcer</a> would fail your build, using a <code>DependencyConvergence</code> rule, when building your deliverable:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;project&gt;\n  [...]\n  &lt;build&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;maven-enforcer-plugin&lt;/artifactId&gt;\n        &lt;version&gt;3.3.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;id&gt;enforce&lt;/id&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;enforce&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;rules&gt;\n                &lt;DependencyConvergence /&gt;\n              &lt;/rules&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  [...]\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":3088019,"reputation":284,"user_id":3316136,"display_name":"Alexander"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":122,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":1,"score":2,"last_activity_date":1689764504,"creation_date":1688988930,"question_id":76653334,"body_markdown":"I&#39;m encountering a `java.lang.NoClassDefFoundError` when deploying a Spring Boot application as a `.war` file within a `.ear` deployment on Wildfly. The error only occurs when there are other deployments included in the `.ear` file. \r\n\r\nHowever, if I deploy the `.war` file on a fresh Wildfly instance with no other deployments, I don&#39;t encounter any issues.\r\n\r\n**Details:**\r\n\r\nHere&#39;s the specific error message I&#39;m seeing:\r\n\r\n```\r\nERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 142) MSC000001: Failed to start service jboss.deployment.subunit.&quot;interfaces2.ear&quot;.&quot;redacted-kafka-consumer.war&quot;.undertow-deployment: \r\norg.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;interfaces2.ear&quot;.&quot;redacted-kafka-consumer.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.IllegalStateException: Error processing con\r\ndition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\r\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\r\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\r\n        at java.base/java.lang.Thread.run(Thread.java:834)\r\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\r\nCaused by: java.lang.RuntimeException: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\r\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\r\n        ... 8 more\r\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\r\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\r\n        at deployment.interfaces2.ear//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\r\n        at deployment.interfaces2.ear//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\r\n        at deployment.interfaces2.ear//org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748)\r\n        at deployment.interfaces2.ear//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\r\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\r\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\r\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\r\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\r\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\r\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\r\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\r\n        at deployment.interfaces2.ear//org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\r\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:204)\r\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\r\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\r\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\r\n        ... 10 more\r\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration] from ClassLoader [ModuleClassLoader for Module &quot;deployment.interfaces2.ear.redacted-kafka-consumer.war&quot; from Service Module Loader]\r\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\r\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361)\r\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765)\r\n        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570)\r\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157)\r\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\r\n        ... 38 more\r\nCaused by: java.lang.NoClassDefFoundError: Failed to link org/springframework/boot/web/servlet/error/DefaultErrorAttributes (Module &quot;deployment.interfaces2.ear&quot; from Service Module Loader): org/springframework/web/servlet/HandlerExceptionResolver\r\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\r\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\r\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:424)\r\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:555)\r\n        at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)\r\n        at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)\r\n        at org.jboss.modules.Module.loadModuleClass(Module.java:753)\r\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)\r\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\r\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\r\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\r\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\r\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167)\r\n        at java.base/java.lang.Class.getDeclaredMethods(Class.java:2310)\r\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\r\n        ... 54 more\r\n```\r\n\r\nThis error seems to be related to the class `DefaultErrorAttributes` from Spring Framework&#39;s `spring-boot-web` module. It appears that the class loader is unable to find the necessary class `HandlerExceptionResolver`, leading to the `NoClassDefFoundError` at runtime.\r\n\r\n**Additional Information:**\r\n\r\n - **Spring Boot version**: 2.7.11 \r\n - **Wildfly version**: 23\r\n - **Java version**: 11\r\n\r\nHere are the relevant dependencies from the `pom.xml` file of the `redacted-kafka-consumer` module:\r\n\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;javax.servlet&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;${servlet-api.version}&lt;/version&gt;\r\n\t\t\t&lt;scope&gt;provided&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nAny help or suggestions on how to resolve this issue would be greatly appreciated. Thank you!","title":"java.lang.NoClassDefFoundError when deploying Spring Boot .war within .ear on Wildfly with other deployments","body":"<p>I'm encountering a <code>java.lang.NoClassDefFoundError</code> when deploying a Spring Boot application as a <code>.war</code> file within a <code>.ear</code> deployment on Wildfly. The error only occurs when there are other deployments included in the <code>.ear</code> file.</p>\n<p>However, if I deploy the <code>.war</code> file on a fresh Wildfly instance with no other deployments, I don't encounter any issues.</p>\n<p><strong>Details:</strong></p>\n<p>Here's the specific error message I'm seeing:</p>\n<pre><code>ERROR [org.jboss.msc.service.fail] (ServerService Thread Pool -- 142) MSC000001: Failed to start service jboss.deployment.subunit.&quot;interfaces2.ear&quot;.&quot;redacted-kafka-consumer.war&quot;.undertow-deployment: \norg.jboss.msc.service.StartException in service jboss.deployment.subunit.&quot;interfaces2.ear&quot;.&quot;redacted-kafka-consumer.war&quot;.undertow-deployment: java.lang.RuntimeException: java.lang.IllegalStateException: Error processing con\ndition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:81)\n        at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515)\n        at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.ContextClassLoaderSavingRunnable.run(ContextClassLoaderSavingRunnable.java:35)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor.safeRun(EnhancedQueueExecutor.java:1990)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.doRunTask(EnhancedQueueExecutor.java:1486)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1348)\n        at java.base/java.lang.Thread.run(Thread.java:834)\n        at org.jboss.threads@2.4.0.Final//org.jboss.threads.JBossThread.run(JBossThread.java:513)\nCaused by: java.lang.RuntimeException: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:257)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService.startContext(UndertowDeploymentService.java:96)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentService$1.run(UndertowDeploymentService.java:78)\n        ... 8 more\nCaused by: java.lang.IllegalStateException: Error processing condition on org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration.basicErrorController\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:60)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConditionEvaluator.shouldSkip(ConditionEvaluator.java:108)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForBeanMethod(ConfigurationClassBeanDefinitionReader.java:193)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitionsForConfigurationClass(ConfigurationClassBeanDefinitionReader.java:153)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassBeanDefinitionReader.loadBeanDefinitions(ConfigurationClassBeanDefinitionReader.java:129)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:343)\n        at deployment.interfaces2.ear//org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:247)\n        at deployment.interfaces2.ear//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:311)\n        at deployment.interfaces2.ear//org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:112)\n        at deployment.interfaces2.ear//org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:748)\n        at deployment.interfaces2.ear//org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:564)\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.refresh(SpringApplication.java:731)\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:408)\n        at deployment.interfaces2.ear//org.springframework.boot.SpringApplication.run(SpringApplication.java:307)\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.run(SpringBootServletInitializer.java:175)\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.createRootApplicationContext(SpringBootServletInitializer.java:155)\n        at deployment.interfaces2.ear//org.springframework.boot.web.servlet.support.SpringBootServletInitializer.onStartup(SpringBootServletInitializer.java:97)\n        at deployment.interfaces2.ear//org.springframework.web.SpringServletContainerInitializer.onStartup(SpringServletContainerInitializer.java:174)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:204)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl$1.call(DeploymentManagerImpl.java:187)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.ContextClassLoaderSetupAction$1.call(ContextClassLoaderSetupAction.java:43)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.security.SecurityContextThreadSetupAction.lambda$create$0(SecurityContextThreadSetupAction.java:105)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at org.wildfly.extension.undertow@23.0.2.Final//org.wildfly.extension.undertow.deployment.UndertowDeploymentInfoService$UndertowThreadSetupAction.lambda$create$0(UndertowDeploymentInfoService.java:1530)\n        at io.undertow.servlet@2.2.5.Final//io.undertow.servlet.core.DeploymentManagerImpl.deploy(DeploymentManagerImpl.java:255)\n        ... 10 more\nCaused by: java.lang.IllegalStateException: Failed to introspect Class [org.springframework.boot.autoconfigure.web.servlet.error.ErrorMvcAutoConfiguration] from ClassLoader [ModuleClassLoader for Module &quot;deployment.interfaces2.ear.redacted-kafka-consumer.war&quot; from Service Module Loader]\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:485)\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.doWithMethods(ReflectionUtils.java:361)\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getUniqueDeclaredMethods(ReflectionUtils.java:418)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.lambda$getTypeForFactoryMethod$2(AbstractAutowireCapableBeanFactory.java:765)\n        at java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.getTypeForFactoryMethod(AbstractAutowireCapableBeanFactory.java:764)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineTargetType(AbstractAutowireCapableBeanFactory.java:703)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.predictBeanType(AbstractAutowireCapableBeanFactory.java:674)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.AbstractBeanFactory.isFactoryBean(AbstractBeanFactory.java:1684)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.DefaultListableBeanFactory.doGetBeanNamesForType(DefaultListableBeanFactory.java:570)\n        at deployment.interfaces2.ear//org.springframework.beans.factory.support.DefaultListableBeanFactory.getBeanNamesForType(DefaultListableBeanFactory.java:542)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.collectBeanNamesForType(OnBeanCondition.java:246)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:239)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getBeanNamesForType(OnBeanCondition.java:229)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchingBeans(OnBeanCondition.java:182)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.OnBeanCondition.getMatchOutcome(OnBeanCondition.java:157)\n        at deployment.interfaces2.ear.redacted-kafka-consumer.war//org.springframework.boot.autoconfigure.condition.SpringBootCondition.matches(SpringBootCondition.java:47)\n        ... 38 more\nCaused by: java.lang.NoClassDefFoundError: Failed to link org/springframework/boot/web/servlet/error/DefaultErrorAttributes (Module &quot;deployment.interfaces2.ear&quot; from Service Module Loader): org/springframework/web/servlet/HandlerExceptionResolver\n        at java.base/java.lang.ClassLoader.defineClass1(Native Method)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1016)\n        at java.base/java.lang.ClassLoader.defineClass(ClassLoader.java:1095)\n        at org.jboss.modules.ModuleClassLoader.doDefineOrLoadClass(ModuleClassLoader.java:424)\n        at org.jboss.modules.ModuleClassLoader.defineClass(ModuleClassLoader.java:555)\n        at org.jboss.modules.ModuleClassLoader.loadClassLocal(ModuleClassLoader.java:339)\n        at org.jboss.modules.ModuleClassLoader$1.loadClassLocal(ModuleClassLoader.java:126)\n        at org.jboss.modules.Module.loadModuleClass(Module.java:753)\n        at org.jboss.modules.ModuleClassLoader.findClass(ModuleClassLoader.java:247)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClassUnchecked(ConcurrentClassLoader.java:410)\n        at org.jboss.modules.ConcurrentClassLoader.performLoadClass(ConcurrentClassLoader.java:398)\n        at org.jboss.modules.ConcurrentClassLoader.loadClass(ConcurrentClassLoader.java:116)\n        at java.base/java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.base/java.lang.Class.privateGetDeclaredMethods(Class.java:3167)\n        at java.base/java.lang.Class.getDeclaredMethods(Class.java:2310)\n        at deployment.interfaces2.ear//org.springframework.util.ReflectionUtils.getDeclaredMethods(ReflectionUtils.java:467)\n        ... 54 more\n</code></pre>\n<p>This error seems to be related to the class <code>DefaultErrorAttributes</code> from Spring Framework's <code>spring-boot-web</code> module. It appears that the class loader is unable to find the necessary class <code>HandlerExceptionResolver</code>, leading to the <code>NoClassDefFoundError</code> at runtime.</p>\n<p><strong>Additional Information:</strong></p>\n<ul>\n<li><strong>Spring Boot version</strong>: 2.7.11</li>\n<li><strong>Wildfly version</strong>: 23</li>\n<li><strong>Java version</strong>: 11</li>\n</ul>\n<p>Here are the relevant dependencies from the <code>pom.xml</code> file of the <code>redacted-kafka-consumer</code> module:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                    &lt;artifactId&gt;spring-boot-starter-logging&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-log4j2&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.servlet&lt;/groupId&gt;\n            &lt;artifactId&gt;servlet-api&lt;/artifactId&gt;\n            &lt;version&gt;${servlet-api.version}&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>Any help or suggestions on how to resolve this issue would be greatly appreciated. Thank you!</p>\n"},{"tags":["java","multithreading","java.util.concurrent","concurrentmodification"],"comments":[{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":0,"creation_date":1689149637,"post_id":76668387,"comment_id":135170776,"body_markdown":"the problem is when the `Future` is being executed - I can&#39;t see its code ...  anyway, is `futures.next()` correct?? I would expect `futureIterator.next()` !","body":"the problem is when the <code>Future</code> is being executed - I can&#39;t see its code ...  anyway, is <code>futures.next()</code> correct?? I would expect <code>futureIterator.next()</code> !"},{"owner":{"account_id":7529358,"reputation":958,"user_id":5718184,"accept_rate":50,"display_name":"Ishan Tiwary"},"score":0,"creation_date":1689149758,"post_id":76668387,"comment_id":135170816,"body_markdown":"@user16320675, check the last line of the code, I have put a comment also. I am getting exeception on future.get();","body":"@user16320675, check the last line of the code, I have put a comment also. I am getting exeception on future.get();"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689150022,"post_id":76668387,"comment_id":135170893,"body_markdown":"Please include the full stack trace of the exception","body":"Please include the full stack trace of the exception"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689150032,"post_id":76668387,"comment_id":135170895,"body_markdown":"yes, apparently&#185; an `ExecutionException` which indicates that an `Exception` (probably&#185; `ConcurrentModificationException`) has occurred when executing the `Future`! [Javadoc](https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Future.html#get()): &quot;***Throws:** . . . `ExecutionException` - if the computation threw an exception*&quot;. I cannot see what that `Future` is doing, sorry. || **&#185;** without seeing the Stack Trace, I could only guess based on the title","body":"yes, apparently&#185; an <code>ExecutionException</code> which indicates that an <code>Exception</code> (probably&#185; <code>ConcurrentModificationException</code>) has occurred when executing the <code>Future</code>! <a href=\"https://docs.oracle.com/en/java/javase/20/docs/api/java.base/java/util/concurrent/Future.html#get()\" rel=\"nofollow noreferrer\">Javadoc</a>: &quot;<b><i>Throws:</b> . . . <code>ExecutionException</code> - if the computation threw an exception</i>&quot;. I cannot see what that <code>Future</code> is doing, sorry. || <b>&#185;</b> without seeing the Stack Trace, I could only guess based on the title"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1689168215,"post_id":76668387,"comment_id":135175108,"body_markdown":"The stack trace shows that the error originated inside the `getEnrichedFixedLengthRecordsFromGenericRecords` method.","body":"The stack trace shows that the error originated inside the <code>getEnrichedFixedLengthRecordsFromGenericRecords</code> method."}],"answers":[{"tags":[],"owner":{"account_id":13993199,"reputation":129,"user_id":10362945,"display_name":"Sagar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689764403,"creation_date":1689764403,"answer_id":76720589,"question_id":76668387,"body_markdown":" The subList method returns the view of the list and does not create actual list,so any structural changes in backing list will throw concurrent modification exception.\r\n\r\n&gt; From java doc :\r\nThe semantics of the list returned by this method become undefined if the backing list (i.e., this list) is structurally modified in any way other than via the returned list. (Structural modifications are those that change the size of this list, or otherwise perturb it in such a fashion that iterations in progress may yield incorrect results.)\r\nList&lt;E&gt; subList(int fromIndex, int toIndex);\r\n\r\n\r\nIn code snippet mentioned above,since the future is trying to modify the backing list (could be in dataenricher) at later point in time,it throws exception during get call","title":"Future.get() throws java.util.concurrent.ExecutionException: java.util.ConcurrentModificationException","body":"<p>The subList method returns the view of the list and does not create actual list,so any structural changes in backing list will throw concurrent modification exception.</p>\n<blockquote>\n<p>From java doc :\nThe semantics of the list returned by this method become undefined if the backing list (i.e., this list) is structurally modified in any way other than via the returned list. (Structural modifications are those that change the size of this list, or otherwise perturb it in such a fashion that iterations in progress may yield incorrect results.)\nList subList(int fromIndex, int toIndex);</p>\n</blockquote>\n<p>In code snippet mentioned above,since the future is trying to modify the backing list (could be in dataenricher) at later point in time,it throws exception during get call</p>\n"}],"owner":{"account_id":7529358,"reputation":958,"user_id":5718184,"accept_rate":50,"display_name":"Ishan Tiwary"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689764403,"creation_date":1689149228,"question_id":76668387,"body_markdown":"I have a list of recodes called filterRecords -&gt; `List&lt;Tuple&lt;String, GenericRecord&gt;&gt; filterRecords`. I am splitting this list into sub lists and giving each sublists to a separate thread for parallel execution. My Call() method implementation returns `Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;`. But when I am doing `future.get()`, I am getting `ConcurrentModificationException`. \r\n\r\nBelow is the code snippet.\r\n\r\n \r\n    \tConcurrentLinkedQueue &lt;Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt;&gt; futures = new ConcurrentLinkedQueue &lt;&gt;();\r\n        List&lt;List&lt;Tuple&lt;String, GenericRecord&gt;&gt;&gt; partitions = new ArrayList&lt;&gt;();\r\n\r\n\t\t\tint partitionSize = (filterRecords.size() / fixedLengthRecordEnrichmentThreadSize);\r\n\t\t\tfor (int i = 0; i &lt; filterRecords.size(); i += partitionSize) {\r\n\t\t\t\tList&lt;Tuple&lt;String, GenericRecord&gt;&gt; sublist = (filterRecords.subList(i, Math.min(i + partitionSize, filterRecords.size())));\r\n\t\t\t\tpartitions.add(sublist);\r\n\t\t\t}\r\n\r\n\t\t\tfor(int fixedLengthRecordEnrichmentThread = 0; fixedLengthRecordEnrichmentThread &lt; this.fixedLengthRecordEnrichmentThreadSize; fixedLengthRecordEnrichmentThread++) {\r\n\t\t\t\tfutures.offer(service.submit(new FixedLengthRecordWrapper(partitions.get(fixedLengthRecordEnrichmentThread),dataEnricher)));\r\n\t\t\t}\r\n\r\n\r\n    Iterator&lt;Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt;&gt; futureIterator = futures.iterator();\r\n    while (futureIterator.hasNext()) {\r\n          Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt; future = futureIterator.next();\r\n          if (future.isDone() || future.isCancelled()) {\r\n                Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt; fixedLengthRecordsTuple = future.get();  // ConcurrentModificationException\r\n\r\n          }\r\n     }\r\n\r\n\r\n\r\nI also Tried other options, like:\r\n\r\n     while(!futures.isEmpty()){\r\n       Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt; future = futures.poll();\r\n       if (future.isDone() || future.isCancelled()) {\r\n\t\t\tTuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt; fixedLengthRecordsTuple = future.get();\r\n       }\r\n     }\r\n\r\n\r\nBewlow is the stackTrace:\r\n\r\n     java.util.concurrent.ExecutionException: java.util.ConcurrentModificationException\r\n\tat java.util.concurrent.FutureTask.report(FutureTask.java:122)\r\n\tat java.util.concurrent.FutureTask.get(FutureTask.java:192)\r\n\tat com.data.driver.BatchCallable.processBatch(BatchCallable.java:161)\r\n\tat com.data.driver.BatchCallable.call(BatchCallable.java:102)\r\n\tat com.data.driver.BatchCallable.call(BatchCallable.java:38)\r\n\tat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\r\n\tat java.util.concurrent.FutureTask.run(FutureTask.java)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:750)\r\n     Caused by: java.util.ConcurrentModificationException\r\n\tat java.util.ArrayList$SubList.checkForComodification(ArrayList.java:1241)\r\n\tat java.util.ArrayList$SubList.size(ArrayList.java:1050)\r\n\tat java.util.AbstractCollection.toArray(AbstractCollection.java:136)\r\n\tat java.util.ArrayList.&lt;init&gt;(ArrayList.java:178)\r\n\tat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.getEnrichedFixedLengthRecordsFromGenericRecords(FixedLengthRecordWrapper.java:93)\r\n\tat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.call(FixedLengthRecordWrapper.java:63)\r\n\tat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.call(FixedLengthRecordWrapper.java:22)\r\n\t... 5 more\r\n\r\n\r\nAny help is appreciated. Thanks in advance.","title":"Future.get() throws java.util.concurrent.ExecutionException: java.util.ConcurrentModificationException","body":"<p>I have a list of recodes called filterRecords -&gt; <code>List&lt;Tuple&lt;String, GenericRecord&gt;&gt; filterRecords</code>. I am splitting this list into sub lists and giving each sublists to a separate thread for parallel execution. My Call() method implementation returns <code>Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;</code>. But when I am doing <code>future.get()</code>, I am getting <code>ConcurrentModificationException</code>.</p>\n<p>Below is the code snippet.</p>\n<pre><code>    ConcurrentLinkedQueue &lt;Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt;&gt; futures = new ConcurrentLinkedQueue &lt;&gt;();\n    List&lt;List&lt;Tuple&lt;String, GenericRecord&gt;&gt;&gt; partitions = new ArrayList&lt;&gt;();\n\n        int partitionSize = (filterRecords.size() / fixedLengthRecordEnrichmentThreadSize);\n        for (int i = 0; i &lt; filterRecords.size(); i += partitionSize) {\n            List&lt;Tuple&lt;String, GenericRecord&gt;&gt; sublist = (filterRecords.subList(i, Math.min(i + partitionSize, filterRecords.size())));\n            partitions.add(sublist);\n        }\n\n        for(int fixedLengthRecordEnrichmentThread = 0; fixedLengthRecordEnrichmentThread &lt; this.fixedLengthRecordEnrichmentThreadSize; fixedLengthRecordEnrichmentThread++) {\n            futures.offer(service.submit(new FixedLengthRecordWrapper(partitions.get(fixedLengthRecordEnrichmentThread),dataEnricher)));\n        }\n\n\nIterator&lt;Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt;&gt; futureIterator = futures.iterator();\nwhile (futureIterator.hasNext()) {\n      Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt; future = futureIterator.next();\n      if (future.isDone() || future.isCancelled()) {\n            Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt; fixedLengthRecordsTuple = future.get();  // ConcurrentModificationException\n\n      }\n }\n</code></pre>\n<p>I also Tried other options, like:</p>\n<pre><code> while(!futures.isEmpty()){\n   Future&lt;Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt;&gt; future = futures.poll();\n   if (future.isDone() || future.isCancelled()) {\n        Tuple&lt;List&lt;FixedLengthRecord&gt;, BatchDataPoints&gt; fixedLengthRecordsTuple = future.get();\n   }\n }\n</code></pre>\n<p>Bewlow is the stackTrace:</p>\n<pre><code> java.util.concurrent.ExecutionException: java.util.ConcurrentModificationException\nat java.util.concurrent.FutureTask.report(FutureTask.java:122)\nat java.util.concurrent.FutureTask.get(FutureTask.java:192)\nat com.data.driver.BatchCallable.processBatch(BatchCallable.java:161)\nat com.data.driver.BatchCallable.call(BatchCallable.java:102)\nat com.data.driver.BatchCallable.call(BatchCallable.java:38)\nat java.util.concurrent.FutureTask.run$$$capture(FutureTask.java:266)\nat java.util.concurrent.FutureTask.run(FutureTask.java)\nat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\nat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\nat java.lang.Thread.run(Thread.java:750)\n Caused by: java.util.ConcurrentModificationException\nat java.util.ArrayList$SubList.checkForComodification(ArrayList.java:1241)\nat java.util.ArrayList$SubList.size(ArrayList.java:1050)\nat java.util.AbstractCollection.toArray(AbstractCollection.java:136)\nat java.util.ArrayList.&lt;init&gt;(ArrayList.java:178)\nat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.getEnrichedFixedLengthRecordsFromGenericRecords(FixedLengthRecordWrapper.java:93)\nat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.call(FixedLengthRecordWrapper.java:63)\nat com.data.tranhist.fixedlength.FixedLengthRecordWrapper.call(FixedLengthRecordWrapper.java:22)\n... 5 more\n</code></pre>\n<p>Any help is appreciated. Thanks in advance.</p>\n"},{"tags":["java","spring","mongodb","spring-boot","aggregation-framework"],"owner":{"account_id":19303462,"reputation":203,"user_id":14110832,"display_name":"Ritesh Singh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689764312,"creation_date":1689764312,"question_id":76720576,"body_markdown":"I have a group stage shown below, which groups all the documents matching the above stages and creates a group as &quot;userAndFollowingsStory&quot;.\r\n\r\n```\r\n        GroupOperation groupOperation = Aggregation.group().addToSet(&quot;$$ROOT&quot;).as(&quot;userAndFollowingsStory&quot;);\r\n        pipeline.add(groupOperation);\r\n```\r\n\r\n\r\nAfter this, I am using a lookup stage with the following pipeline to find all other stories that were not part of that group and create another group as &quot;otherUsersStories&quot;.\r\n\r\n\r\n```\r\n{\r\n  from: &quot;story_doc&quot;,\r\n  let: {\r\n    prevGroupIds: &quot;$userAndFollowingsStory._id&quot;,\r\n  },\r\n  pipeline: [\r\n    {\r\n      $match: {\r\n        $expr: {\r\n          $not: {\r\n            $in: [&quot;$_id&quot;, &quot;$$prevGroupIds&quot;],\r\n          },\r\n        },\r\n      },\r\n    },\r\n  ],\r\n  as: &quot;otherUsersStories&quot;,\r\n}\r\n\r\n\r\n CustomProjectAggregationOperation customProjectAggregationOperation = new CustomProjectAggregationOperation(query);\r\n pipeline.add(customProjectAggregationOperation);\r\n```\r\n\r\n\r\nI am trying to implement this stage using the Spring MongoDB library. Since there is no direct way to write it, I am using the **CustomProjectAggregationOperation** class, which looks like this:\r\n\r\n\r\n```\r\npublic class CustomProjectAggregationOperation implements AggregationOperation {\r\n    private String jsonOperation;\r\n    private String exposedField;\r\n\r\n    public CustomProjectAggregationOperation(String jsonOperation) {\r\n        this.jsonOperation = jsonOperation;\r\n    }\r\n\r\n    @Override\r\n    public Document toDocument(AggregationOperationContext aggregationOperationContext) {\r\n        return aggregationOperationContext.getMappedObject(Document.parse(jsonOperation));\r\n    }\r\n\r\n}\r\n```\r\nThe issue I am facing is that for any subsequent stages, it is showing &quot;**Invalid reference**&quot; for &quot;**otherUsersStories**&quot;. For example, the following project stage is giving an invalid reference error:\r\n\r\n\r\n\r\n\r\n```\r\n        ProjectionOperation projectionOperationConcat =  Aggregation.project()\r\n                .and(&quot;$userAndFollowingsStory&quot;)\r\n                .concatArrays(&quot;$otherUsersStories&quot;)\r\n                .as(&quot;infiniteStories&quot;);\r\n\r\n        Aggregation mainAggregation = Aggregation.newAggregation(pipeline);\r\n        AggregationResults&lt;StoryDoc&gt; mainResults = mongoTemplate.aggregate(mainAggregation, CollectionNames.STORY, StoryDoc.class);\r\n```\r\n\r\n\r\n\r\nHow can I resolve this &quot;Invalid reference&quot; error for other user stories in subsequent stages?","title":"Spring MongoDB Aggregation: Handling &#39;Invalid Reference&#39; Error with CustomProjectAggregationOperation","body":"<p>I have a group stage shown below, which groups all the documents matching the above stages and creates a group as &quot;userAndFollowingsStory&quot;.</p>\n<pre><code>        GroupOperation groupOperation = Aggregation.group().addToSet(&quot;$$ROOT&quot;).as(&quot;userAndFollowingsStory&quot;);\n        pipeline.add(groupOperation);\n</code></pre>\n<p>After this, I am using a lookup stage with the following pipeline to find all other stories that were not part of that group and create another group as &quot;otherUsersStories&quot;.</p>\n<pre><code>{\n  from: &quot;story_doc&quot;,\n  let: {\n    prevGroupIds: &quot;$userAndFollowingsStory._id&quot;,\n  },\n  pipeline: [\n    {\n      $match: {\n        $expr: {\n          $not: {\n            $in: [&quot;$_id&quot;, &quot;$$prevGroupIds&quot;],\n          },\n        },\n      },\n    },\n  ],\n  as: &quot;otherUsersStories&quot;,\n}\n\n\n CustomProjectAggregationOperation customProjectAggregationOperation = new CustomProjectAggregationOperation(query);\n pipeline.add(customProjectAggregationOperation);\n</code></pre>\n<p>I am trying to implement this stage using the Spring MongoDB library. Since there is no direct way to write it, I am using the <strong>CustomProjectAggregationOperation</strong> class, which looks like this:</p>\n<pre><code>public class CustomProjectAggregationOperation implements AggregationOperation {\n    private String jsonOperation;\n    private String exposedField;\n\n    public CustomProjectAggregationOperation(String jsonOperation) {\n        this.jsonOperation = jsonOperation;\n    }\n\n    @Override\n    public Document toDocument(AggregationOperationContext aggregationOperationContext) {\n        return aggregationOperationContext.getMappedObject(Document.parse(jsonOperation));\n    }\n\n}\n</code></pre>\n<p>The issue I am facing is that for any subsequent stages, it is showing &quot;<strong>Invalid reference</strong>&quot; for &quot;<strong>otherUsersStories</strong>&quot;. For example, the following project stage is giving an invalid reference error:</p>\n<pre><code>        ProjectionOperation projectionOperationConcat =  Aggregation.project()\n                .and(&quot;$userAndFollowingsStory&quot;)\n                .concatArrays(&quot;$otherUsersStories&quot;)\n                .as(&quot;infiniteStories&quot;);\n\n        Aggregation mainAggregation = Aggregation.newAggregation(pipeline);\n        AggregationResults&lt;StoryDoc&gt; mainResults = mongoTemplate.aggregate(mainAggregation, CollectionNames.STORY, StoryDoc.class);\n</code></pre>\n<p>How can I resolve this &quot;Invalid reference&quot; error for other user stories in subsequent stages?</p>\n"},{"tags":["java","hibernate","hql","criteria"],"answers":[{"tags":[],"owner":{"account_id":30464,"reputation":71749,"user_id":83109,"accept_rate":100,"display_name":"David M"},"down_vote_count":4,"up_vote_count":67,"is_accepted":true,"score":63,"last_activity_date":1239013212,"creation_date":1239013212,"answer_id":720894,"question_id":720502,"body_markdown":"My understanding is that if you do this using HQL, you are creating a Cartesian join with a filter, rather than an inner join. Criteria queries do not support doing this.","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>My understanding is that if you do this using HQL, you are creating a Cartesian join with a filter, rather than an inner join. Criteria queries do not support doing this.</p>\n"},{"tags":[],"owner":{"account_id":31324,"reputation":34658,"user_id":85931,"accept_rate":57,"display_name":"tpdi"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1456840001,"creation_date":1239017907,"answer_id":721070,"question_id":720502,"body_markdown":"There&#39;s a `SQLCriterion`, which you can give arbitrary `SQL`, and add to your `Criteria`.  In the `SQL` string, the token {alias} &quot;will be replaced by the alias of the root entity.&quot;","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>There's a <code>SQLCriterion</code>, which you can give arbitrary <code>SQL</code>, and add to your <code>Criteria</code>.  In the <code>SQL</code> string, the token {alias} \"will be replaced by the alias of the root entity.\"</p>\n"},{"tags":[],"owner":{"account_id":13560,"reputation":64060,"user_id":2658202,"accept_rate":92,"display_name":"Stefan Steinegger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1239802823,"creation_date":1239802823,"answer_id":751742,"question_id":720502,"body_markdown":"In NHibernate you can use subqueries which are defined as DetachedCriteria. Not sure if it works the same in Java, most probably it is the same:\r\n\r\n    DetachedCriteria pets = DetachedCriteria.For&lt;Pet&gt;(&quot;pet&quot;)\r\n      .SetProjection(Projections.Property(&quot;pet.ownername&quot;))\r\n      .Add(/* some filters */ );\r\n    \r\n    session.CreateCriteria(typeof(Owner))\r\n      .Add(Subqueries.PropertyIn(&quot;name&quot;, pets);\r\n\r\nAssumed that it is joined using the name of the owner.","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>In NHibernate you can use subqueries which are defined as DetachedCriteria. Not sure if it works the same in Java, most probably it is the same:</p>\n\n<pre><code>DetachedCriteria pets = DetachedCriteria.For&lt;Pet&gt;(\"pet\")\n  .SetProjection(Projections.Property(\"pet.ownername\"))\n  .Add(/* some filters */ );\n\nsession.CreateCriteria(typeof(Owner))\n  .Add(Subqueries.PropertyIn(\"name\", pets);\n</code></pre>\n\n<p>Assumed that it is joined using the name of the owner.</p>\n"},{"tags":[],"owner":{"account_id":89981,"reputation":2879,"user_id":247905,"accept_rate":80,"display_name":"Pierre Pretorius"},"down_vote_count":4,"up_vote_count":85,"is_accepted":false,"score":81,"last_activity_date":1356073400,"creation_date":1263998358,"answer_id":2102080,"question_id":720502,"body_markdown":"This is indeed possible with criteria:\r\n\r\n    DetachedCriteria ownerCriteria = DetachedCriteria.forClass(Owner.class);\r\n    ownerCriteria.setProjection(Property.forName(&quot;id&quot;));\r\n    ownerCriteria.add(Restrictions.eq(&quot;ownername&quot;, &quot;bob&quot;));\r\n\r\n    Criteria criteria = getSession().createCriteria(Pet.class);\r\n    criteria.add(Property.forName(&quot;ownerId&quot;).in(ownerCriteria));\r\n\r\n**Update**:  This actually performs a sub-query instead of a join but it allows you to use Criteria on two entities that do not have a hibernate relationship defined.","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>This is indeed possible with criteria:</p>\n\n<pre><code>DetachedCriteria ownerCriteria = DetachedCriteria.forClass(Owner.class);\nownerCriteria.setProjection(Property.forName(\"id\"));\nownerCriteria.add(Restrictions.eq(\"ownername\", \"bob\"));\n\nCriteria criteria = getSession().createCriteria(Pet.class);\ncriteria.add(Property.forName(\"ownerId\").in(ownerCriteria));\n</code></pre>\n\n<p><strong>Update</strong>:  This actually performs a sub-query instead of a join but it allows you to use Criteria on two entities that do not have a hibernate relationship defined.</p>\n"},{"tags":[],"owner":{"account_id":4488035,"reputation":11,"user_id":3649999,"display_name":"javasmith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1432152837,"creation_date":1432152837,"answer_id":30359513,"question_id":720502,"body_markdown":"    \r\n    Criterion ownerCriterion = Restrictions.sqlRestriction(SELECT ownerId FROM   Owner WHERE ownerName =&#39;bob&#39;);\r\n    Criteria criteria = getSession().createCriteria(Pet.class);\r\n    criteria.createCriteria(&quot;ownerId&quot;).add(ownerCriterion);","title":"Hibernate criteria: Joining table without a mapped association","body":"<pre><code>Criterion ownerCriterion = Restrictions.sqlRestriction(SELECT ownerId FROM   Owner WHERE ownerName ='bob');\nCriteria criteria = getSession().createCriteria(Pet.class);\ncriteria.createCriteria(\"ownerId\").add(ownerCriterion);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2186908,"reputation":131,"user_id":1935115,"display_name":"Ali Sohrabi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689764186,"creation_date":1689764186,"answer_id":76720561,"question_id":720502,"body_markdown":"In this time this is possible in following manner:\r\n\r\nI&#39;m using Spring data JPA 2.1.10.\r\nI have two entities:\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class TaskManagement {\r\n      private Long id;\r\n      private String title;\r\n      //Some other attributes\r\n    }\r\n\r\n\r\n    @Entity\r\n    @Getter\r\n    @Setter\r\n    public class Tagging {\r\n      private Long id;\r\n      private String name;\r\n      private String taskManagementId;\r\n      //Some other attributes\r\n    }\r\n\r\nTasks can have Some tags. but there isn&#39;t any relation between TaskManagement and Tag entities.\r\n\r\nTo search taskmanagements i used TaskManagementSpecification like this:\r\n\r\n    public class TaskManagementSpecification implements Specification&lt;TaskManagement&gt; {\r\n      private final TaskManagementSearchDto taskManagementSearchDto;\r\n\r\n      @Override\r\n      public Predicate toPredicate(Root&lt;TaskManagement&gt; root, CriteriaQuery&lt;?&gt; criteriaQuery, CriteriaBuilder criteriaBuilder) {\r\n        List&lt;Predicate&gt; andClause = new ArrayList&lt;&gt;();\r\n\r\n        //To Cross join TaskManagement to Tagging that they are unrelated\r\n        if (!CollectionUtils.isEmpty(taskManagementSearchDto.getTagIds())) {\r\n          Root&lt;Tagging&gt; taggingRoot = criteriaQuery.from(Tagging.class);\r\n\r\n          andClause.add(criteriaBuilder.equal(taggingRoot.get(&quot;taskManagementId&quot;), root.get(TaskManagement_.ID)));        \r\n        }\r\n      }\r\n    }\r\n\r\nThe result query is:\r\n\r\n    select foo\r\n    from task_management taskmanage0_\r\n         cross join tagging tagging1_\r\n    where tagging1_.task_mangement_id = taskmanage0_.id","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>In this time this is possible in following manner:</p>\n<p>I'm using Spring data JPA 2.1.10.\nI have two entities:</p>\n<pre><code>@Entity\n@Getter\n@Setter\npublic class TaskManagement {\n  private Long id;\n  private String title;\n  //Some other attributes\n}\n\n\n@Entity\n@Getter\n@Setter\npublic class Tagging {\n  private Long id;\n  private String name;\n  private String taskManagementId;\n  //Some other attributes\n}\n</code></pre>\n<p>Tasks can have Some tags. but there isn't any relation between TaskManagement and Tag entities.</p>\n<p>To search taskmanagements i used TaskManagementSpecification like this:</p>\n<pre><code>public class TaskManagementSpecification implements Specification&lt;TaskManagement&gt; {\n  private final TaskManagementSearchDto taskManagementSearchDto;\n\n  @Override\n  public Predicate toPredicate(Root&lt;TaskManagement&gt; root, CriteriaQuery&lt;?&gt; criteriaQuery, CriteriaBuilder criteriaBuilder) {\n    List&lt;Predicate&gt; andClause = new ArrayList&lt;&gt;();\n\n    //To Cross join TaskManagement to Tagging that they are unrelated\n    if (!CollectionUtils.isEmpty(taskManagementSearchDto.getTagIds())) {\n      Root&lt;Tagging&gt; taggingRoot = criteriaQuery.from(Tagging.class);\n\n      andClause.add(criteriaBuilder.equal(taggingRoot.get(&quot;taskManagementId&quot;), root.get(TaskManagement_.ID)));        \n    }\n  }\n}\n</code></pre>\n<p>The result query is:</p>\n<pre><code>select foo\nfrom task_management taskmanage0_\n     cross join tagging tagging1_\nwhere tagging1_.task_mangement_id = taskmanage0_.id\n</code></pre>\n"}],"owner":{"account_id":19181,"reputation":1963,"user_id":44721,"accept_rate":100,"display_name":"Snukker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99105,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":720894,"answer_count":6,"score":79,"last_activity_date":1689764186,"creation_date":1239003460,"question_id":720502,"body_markdown":"I&#39;d like to use Hibernate&#39;s criteria api to formulate a particular query that joins two entities. Let&#39;s say I have two entities, Pet and Owner with a owner having many pets, but crucially that association is not mapped in the Java annotations or xml.\r\n\r\nWith hql, I could select owners that have a pet called &#39;fido&#39; by specifying the join in the query (rather than adding a set of pets to the owner class).\r\n\r\nCan the same be done using hibernate criteria? If so how?\r\n\r\nThanks,\r\nJ","title":"Hibernate criteria: Joining table without a mapped association","body":"<p>I'd like to use Hibernate's criteria api to formulate a particular query that joins two entities. Let's say I have two entities, Pet and Owner with a owner having many pets, but crucially that association is not mapped in the Java annotations or xml.</p>\n\n<p>With hql, I could select owners that have a pet called 'fido' by specifying the join in the query (rather than adding a set of pets to the owner class).</p>\n\n<p>Can the same be done using hibernate criteria? If so how?</p>\n\n<p>Thanks,\nJ</p>\n"},{"tags":["java","data-structures"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1689764114,"post_id":76720536,"comment_id":135258505,"body_markdown":"The difference is, for example, that the first way won&#39;t work. I suppose you meant `new HashSet&lt;&gt;();`?","body":"The difference is, for example, that the first way won&#39;t work. I suppose you meant <code>new HashSet&lt;&gt;();</code>?"},{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":2,"creation_date":1689764515,"post_id":76720536,"comment_id":135258587,"body_markdown":"The diamond operator `&lt;&gt;` was added in Java 7 and you should [program to an interface](https://stackoverflow.com/q/383947/2970947). `Set&lt;String&gt; h = new HashSet&lt;&gt;();` and `List&lt;String&gt; l = new LinkedList&lt;&gt;();`","body":"The diamond operator <code>&lt;&gt;</code> was added in Java 7 and you should <a href=\"https://stackoverflow.com/q/383947/2970947\">program to an interface</a>. <code>Set&lt;String&gt; h = new HashSet&lt;&gt;();</code> and <code>List&lt;String&gt; l = new LinkedList&lt;&gt;();</code>"},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1689768351,"post_id":76720536,"comment_id":135259436,"body_markdown":"BTW - `HashSet&lt;String&gt; h = new HashSet();` will work, just with a compiler warning &quot;unchecked conversion&quot;","body":"BTW - <code>HashSet&lt;String&gt; h = new HashSet();</code> will work, just with a compiler warning &quot;unchecked conversion&quot;"}],"owner":{"account_id":28733733,"reputation":3,"user_id":22005141,"display_name":"Naman Bajaj"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1689764106,"answer_count":0,"score":0,"last_activity_date":1689764115,"creation_date":1689764001,"question_id":76720536,"body_markdown":"I have seen plenty of times how when declaring a data structure only round brackets are used while doing the dynamic allocation and many times, we have to include the wrapper class&#39;s name inside the Angle brackets? What&#39;s the major difference in these two declarations?\r\n\r\nE.g.\r\n\r\n    HashSet&lt;String&gt; h = new HashSet();\r\n\r\nand\r\n\r\n    LinkedList&lt;String&gt; l = new LinkedList&lt;String&gt;();","title":"What is the difference when we use &lt;&gt;() or &lt;&#39;Name of a wrapper class&#39;&gt;() and () only when declaring any type of data structure in Java?","body":"<p>I have seen plenty of times how when declaring a data structure only round brackets are used while doing the dynamic allocation and many times, we have to include the wrapper class's name inside the Angle brackets? What's the major difference in these two declarations?</p>\n<p>E.g.</p>\n<pre><code>HashSet&lt;String&gt; h = new HashSet();\n</code></pre>\n<p>and</p>\n<pre><code>LinkedList&lt;String&gt; l = new LinkedList&lt;String&gt;();\n</code></pre>\n"},{"tags":["java","amazon-web-services","cloud"],"answers":[{"tags":[],"owner":{"account_id":1540816,"reputation":10259,"user_id":1435543,"display_name":"smac2020"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1688657690,"creation_date":1688657690,"answer_id":76630468,"question_id":76629972,"body_markdown":"Based on your question (it&#39;s not that clear) sounds like you want to deploy a Java app to AWS Cloud. One way is to write a Spring Boot web app and then bundle that project into a FAT JAR that contains all of the depedencies. Then you can use Elastic Beanstalk to deploy the app to the cloud. \r\n\r\nSee this Java Developer example, in the [AWS Code Library][1], to learn how to perform these tasks. This example app is a basic web app that stores submitted data into an Amazon DynamoDB table. This example walks you step by step through the process.\r\n\r\n[Build an application to submit data to a DynamoDB table][2]\r\n\r\n\r\n  [1]: https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\r\n  [2]: https://docs.aws.amazon.com/code-library/latest/ug/dynamodb_example_cross_SubmitDataApp_section.html","title":"Deployment path for deploy java code in AWS","body":"<p>Based on your question (it's not that clear) sounds like you want to deploy a Java app to AWS Cloud. One way is to write a Spring Boot web app and then bundle that project into a FAT JAR that contains all of the depedencies. Then you can use Elastic Beanstalk to deploy the app to the cloud.</p>\n<p>See this Java Developer example, in the <a href=\"https://docs.aws.amazon.com/code-library/latest/ug/what-is-code-library.html\" rel=\"nofollow noreferrer\">AWS Code Library</a>, to learn how to perform these tasks. This example app is a basic web app that stores submitted data into an Amazon DynamoDB table. This example walks you step by step through the process.</p>\n<p><a href=\"https://docs.aws.amazon.com/code-library/latest/ug/dynamodb_example_cross_SubmitDataApp_section.html\" rel=\"nofollow noreferrer\">Build an application to submit data to a DynamoDB table</a></p>\n"},{"tags":[],"owner":{"account_id":28006976,"reputation":67,"user_id":21390211,"display_name":"Yes_ItsMEOW"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689764024,"creation_date":1689764024,"answer_id":76720541,"question_id":76629972,"body_markdown":"To deploy Java .war file on an Apache server running on an EC2 instance, you must utilize a combination of Apache Tomcat (as the application server) and the Apache HTTP Server (as the web server) to deploy a.war file. Follow these steps \r\n\r\n 1. Create an EC2 instance:\r\n - Start an EC2 instance with your choice Linux distribution (for\r\n   example, Amazon Linux, Ubuntu). \r\n   IMP: Check that the EC2 instance&#39;s\r\n   security group enables inbound traffic on ports 22 (SSH), 80 (HTTP),\r\n   and 443 (HTTPS).\r\n\r\n 2. Setup Apache Tomcat:\r\n - Connect to your EC2 instance using SSH from your terminal or an SSH\r\n   client such as PuTTY (Windows users) or use can use AWS cloudshell.\r\n - To Update:\r\n   &#39;**sudo apt update**&#39; (for Ubuntu) or &#39;**sudo yum update**&#39; (for Amazon\r\n   Linux) to update the package list.\r\n - Install Apache Tomcat: \r\n   &#39;**sudo apt install tomcat9**&#39; (for Ubuntu) or &#39;**sudo yum install tomcat**&#39; (for \r\n    Amazon Linux).\r\n - Start Tomcat: \r\n   &#39;**sudo systemctl start tomcat**&#39; (for Ubuntu) or &#39;**sudo service tomcat start**&#39; \r\n   (for Amazon Linux). \r\n - Check the status: \r\n   &#39;sudo systemctl status tomcat&#39; or &#39;sudo service tomcat status&#39;. Make sure \r\n   it&#39;s running correctly.\r\n\r\n 3. Deploy the .war file:\r\n - Copy your .war file to the Tomcat webapps directory. Assuming your .war file \r\n   is named &quot;myapp.war&quot; and Tomcat 9 is installed, use the following \r\n   command:\r\n\r\n   ` sudo cp /path/to/myapp.war /var/lib/tomcat9/webapps/`\r\n\r\n 4. Restart Apache Tomcat:\r\n - After copying the .war file, restart Tomcat to deploy the application:\r\n\r\n    `sudo systemctl restart tomcat`\r\n\r\n 5. Configure Apache HTTP Server as a Reverse Proxy (Optional):\r\n - If you want to access your application via a domain name and port 80 (HTTP), \r\n  you can set up Apache HTTP Server as a reverse proxy. This allows you to use \r\n  Apache as a frontend while forwarding requests to Tomcat in the backend.\r\n - Install Apache HTTP Server: &#39;**sudo apt install apache2**&#39; (for Ubuntu) or \r\n   &#39;**sudo yum install httpd**&#39; (for Amazon Linux).\r\n - Enable the necessary modules: &#39;**sudo a2enmod proxy proxy_http**&#39;.\r\n - Create a virtual host configuration for your domain name. For example, \r\n   create a file named myapp.conf in the &#39;/etc/apache2/sites-available/&#39; \r\n   directory for Ubuntu:\r\n\r\n```\r\n&lt;VirtualHost *:80&gt;\r\n    ServerName your_domain.com\r\n    ProxyPass / http://localhost:8080/\r\n    ProxyPassReverse / http://localhost:8080/\r\n&lt;/VirtualHost&gt;\r\n```\r\n - For Amazon Linux, you can create a similar configuration in the &#39;/etc/httpd/conf.d/&#39; directory.\r\n - Enable the virtual host: sudo a2ensite myapp (for Ubuntu) or sudo systemctl restart httpd (for Amazon Linux).\r\n\r\n6. Access the Application:\r\n - If you set up the Apache HTTP Server as a reverse proxy, you can now access your application using your domain name (e.g., **http://your_domain.com**).\r\n - If you didn&#39;t set up Apache HTTP Server, you can access the application directly using the Tomcat server&#39;s public IP address and port 8080 (e.g., **http://your_ec2_public_ip:8080/myapp**).\r\n\r\nYour .war file should now be deployed and accessible through either the Apache HTTP Server or directly via Tomcat, depending on your configuration choices.\r\n\r\n\r\nHope this solution Helps.\r\n\r\n\r\n","title":"Deployment path for deploy java code in AWS","body":"<p>To deploy Java .war file on an Apache server running on an EC2 instance, you must utilize a combination of Apache Tomcat (as the application server) and the Apache HTTP Server (as the web server) to deploy a.war file. Follow these steps</p>\n<ol>\n<li>Create an EC2 instance:</li>\n</ol>\n<ul>\n<li>Start an EC2 instance with your choice Linux distribution (for\nexample, Amazon Linux, Ubuntu).\nIMP: Check that the EC2 instance's\nsecurity group enables inbound traffic on ports 22 (SSH), 80 (HTTP),\nand 443 (HTTPS).</li>\n</ul>\n<ol start=\"2\">\n<li>Setup Apache Tomcat:</li>\n</ol>\n<ul>\n<li>Connect to your EC2 instance using SSH from your terminal or an SSH\nclient such as PuTTY (Windows users) or use can use AWS cloudshell.</li>\n<li>To Update:\n'<strong>sudo apt update</strong>' (for Ubuntu) or '<strong>sudo yum update</strong>' (for Amazon\nLinux) to update the package list.</li>\n<li>Install Apache Tomcat:\n'<strong>sudo apt install tomcat9</strong>' (for Ubuntu) or '<strong>sudo yum install tomcat</strong>' (for\nAmazon Linux).</li>\n<li>Start Tomcat:\n'<strong>sudo systemctl start tomcat</strong>' (for Ubuntu) or '<strong>sudo service tomcat start</strong>'\n(for Amazon Linux).</li>\n<li>Check the status:\n'sudo systemctl status tomcat' or 'sudo service tomcat status'. Make sure\nit's running correctly.</li>\n</ul>\n<ol start=\"3\">\n<li>Deploy the .war file:</li>\n</ol>\n<ul>\n<li><p>Copy your .war file to the Tomcat webapps directory. Assuming your .war file\nis named &quot;myapp.war&quot; and Tomcat 9 is installed, use the following\ncommand:</p>\n<p><code> sudo cp /path/to/myapp.war /var/lib/tomcat9/webapps/</code></p>\n</li>\n</ul>\n<ol start=\"4\">\n<li>Restart Apache Tomcat:</li>\n</ol>\n<ul>\n<li><p>After copying the .war file, restart Tomcat to deploy the application:</p>\n<p><code>sudo systemctl restart tomcat</code></p>\n</li>\n</ul>\n<ol start=\"5\">\n<li>Configure Apache HTTP Server as a Reverse Proxy (Optional):</li>\n</ol>\n<ul>\n<li>If you want to access your application via a domain name and port 80 (HTTP),\nyou can set up Apache HTTP Server as a reverse proxy. This allows you to use\nApache as a frontend while forwarding requests to Tomcat in the backend.</li>\n<li>Install Apache HTTP Server: '<strong>sudo apt install apache2</strong>' (for Ubuntu) or\n'<strong>sudo yum install httpd</strong>' (for Amazon Linux).</li>\n<li>Enable the necessary modules: '<strong>sudo a2enmod proxy proxy_http</strong>'.</li>\n<li>Create a virtual host configuration for your domain name. For example,\ncreate a file named myapp.conf in the '/etc/apache2/sites-available/'\ndirectory for Ubuntu:</li>\n</ul>\n<pre><code>&lt;VirtualHost *:80&gt;\n    ServerName your_domain.com\n    ProxyPass / http://localhost:8080/\n    ProxyPassReverse / http://localhost:8080/\n&lt;/VirtualHost&gt;\n</code></pre>\n<ul>\n<li>For Amazon Linux, you can create a similar configuration in the '/etc/httpd/conf.d/' directory.</li>\n<li>Enable the virtual host: sudo a2ensite myapp (for Ubuntu) or sudo systemctl restart httpd (for Amazon Linux).</li>\n</ul>\n<ol start=\"6\">\n<li>Access the Application:</li>\n</ol>\n<ul>\n<li>If you set up the Apache HTTP Server as a reverse proxy, you can now access your application using your domain name (e.g., <strong>http://your_domain.com</strong>).</li>\n<li>If you didn't set up Apache HTTP Server, you can access the application directly using the Tomcat server's public IP address and port 8080 (e.g., <strong>http://your_ec2_public_ip:8080/myapp</strong>).</li>\n</ul>\n<p>Your .war file should now be deployed and accessible through either the Apache HTTP Server or directly via Tomcat, depending on your configuration choices.</p>\n<p>Hope this solution Helps.</p>\n"}],"owner":{"account_id":1013123,"reputation":21,"user_id":1025268,"display_name":"Jp Javiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76720541,"answer_count":2,"score":-1,"last_activity_date":1689764024,"creation_date":1688654258,"question_id":76629972,"body_markdown":" i want to know ,\r\ngenerally in which scenario we directly create AWS cloud instance by directly uploading java war file \r\nand in which scenario we  first setup and ready server first , by installing all softwares like java,tomkat and then deploy code  in AWS ","title":"Deployment path for deploy java code in AWS","body":"<p>i want to know ,\ngenerally in which scenario we directly create AWS cloud instance by directly uploading java war file\nand in which scenario we  first setup and ready server first , by installing all softwares like java,tomkat and then deploy code  in AWS</p>\n"},{"tags":["java","keycloak","keycloak-rest-api"],"answers":[{"tags":[],"owner":{"account_id":2122306,"reputation":146,"user_id":2005195,"display_name":"AmirRazoR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689764014,"creation_date":1689764014,"answer_id":76720539,"question_id":74642290,"body_markdown":"There must be a problem with your jar not finding `org.json` library.\r\n\r\nTo check if it is there do the command:\r\n\r\n`jar tf your-jar-file.jar | grep &quot;org.json&quot;`\r\n\r\nIf you are using powershell use \r\n\r\n`jar tf your-jar-file.jar | Select-String &quot;org.json&quot;`\r\n\r\nIf it returns nothing, then the library is not added to the jar file. \r\n\r\nWhat worked for me was to create a fat JAR using the `Maven Shade plugin` like this:\r\n\r\n            &lt;plugin&gt;\r\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n                &lt;version&gt;3.2.4&lt;/version&gt;\r\n                &lt;executions&gt;\r\n                    &lt;execution&gt;\r\n                        &lt;phase&gt;package&lt;/phase&gt;\r\n                        &lt;goals&gt;\r\n                            &lt;goal&gt;shade&lt;/goal&gt;\r\n                        &lt;/goals&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;filters&gt;\r\n                                &lt;filter&gt;\r\n                                    &lt;!-- Do not copy the signatures in the META-INF \r\n                                      folder.\r\n                                    Otherwise, this might cause SecurityExceptions \r\n                                      when using the JAR. --&gt;\r\n                                    &lt;artifact&gt;*:*&lt;/artifact&gt;\r\n                                    &lt;excludes&gt;\r\n                                        &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\r\n                                        &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\r\n                                    &lt;/excludes&gt;\r\n                                &lt;/filter&gt;\r\n                            &lt;/filters&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/execution&gt;\r\n                &lt;/executions&gt;\r\n            &lt;/plugin&gt;","title":"Keycloak adding external SPI with Maven [org.keycloak.services.error.KeycloakErrorHandler] java.lang.NoClassDefFoundError: org/json/JSONException","body":"<p>There must be a problem with your jar not finding <code>org.json</code> library.</p>\n<p>To check if it is there do the command:</p>\n<p><code>jar tf your-jar-file.jar | grep &quot;org.json&quot;</code></p>\n<p>If you are using powershell use</p>\n<p><code>jar tf your-jar-file.jar | Select-String &quot;org.json&quot;</code></p>\n<p>If it returns nothing, then the library is not added to the jar file.</p>\n<p>What worked for me was to create a fat JAR using the <code>Maven Shade plugin</code> like this:</p>\n<pre><code>        &lt;plugin&gt;\n            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n            &lt;version&gt;3.2.4&lt;/version&gt;\n            &lt;executions&gt;\n                &lt;execution&gt;\n                    &lt;phase&gt;package&lt;/phase&gt;\n                    &lt;goals&gt;\n                        &lt;goal&gt;shade&lt;/goal&gt;\n                    &lt;/goals&gt;\n                    &lt;configuration&gt;\n                        &lt;filters&gt;\n                            &lt;filter&gt;\n                                &lt;!-- Do not copy the signatures in the META-INF \n                                  folder.\n                                Otherwise, this might cause SecurityExceptions \n                                  when using the JAR. --&gt;\n                                &lt;artifact&gt;*:*&lt;/artifact&gt;\n                                &lt;excludes&gt;\n                                    &lt;exclude&gt;META-INF/*.SF&lt;/exclude&gt;\n                                    &lt;exclude&gt;META-INF/*.DSA&lt;/exclude&gt;\n                                    &lt;exclude&gt;META-INF/*.RSA&lt;/exclude&gt;\n                                &lt;/excludes&gt;\n                            &lt;/filter&gt;\n                        &lt;/filters&gt;\n                    &lt;/configuration&gt;\n                &lt;/execution&gt;\n            &lt;/executions&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":18999689,"reputation":197,"user_id":13957731,"display_name":"GurbaniX"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689764014,"creation_date":1669899664,"question_id":74642290,"body_markdown":"I build and package the project with maven for adding external SPI to Keycloak:\r\n\r\nhttps://github.com/dasniko/keycloak-2fa-sms-authenticator\r\n\r\nI changed SNS to other API.But KC gives a following problem:\r\n\r\n    12:50:07,497 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-1) Uncaught server error: java.lang.NoClassDefFoundError: org/json/JSONException\r\n\r\n\r\nHowever I added org.json dependecy to my pom.xml while builded jar file.\r\n\r\nThis is my pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n      &lt;groupId&gt;dasniko&lt;/groupId&gt;\r\n      &lt;artifactId&gt;keycloak-2fa-sms-authenticator&lt;/artifactId&gt;\r\n      &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n      &lt;build&gt;\r\n        &lt;finalName&gt;${project.groupId}.${project.artifactId}&lt;/finalName&gt;\r\n        &lt;plugins&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\r\n          &lt;/plugin&gt;\r\n          &lt;plugin&gt;\r\n            &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${maven.shade.version}&lt;/version&gt;\r\n            &lt;executions&gt;\r\n              &lt;execution&gt;\r\n                &lt;phase&gt;package&lt;/phase&gt;\r\n                &lt;goals&gt;\r\n                  &lt;goal&gt;shade&lt;/goal&gt;\r\n                &lt;/goals&gt;\r\n                &lt;configuration&gt;\r\n                  &lt;artifactSet&gt;\r\n                    &lt;includes&gt;\r\n                      &lt;include&gt;software.amazon.awssdk:*&lt;/include&gt;\r\n                      &lt;include&gt;org.reactivestreams:reactive-streams&lt;/include&gt;\r\n                      &lt;include&gt;org.json&lt;/include&gt;\r\n                    &lt;/includes&gt;\r\n                  &lt;/artifactSet&gt;\r\n                &lt;/configuration&gt;\r\n              &lt;/execution&gt;\r\n            &lt;/executions&gt;\r\n          &lt;/plugin&gt;\r\n        &lt;/plugins&gt;\r\n      &lt;/build&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n          &lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\r\n          &lt;version&gt;20.0.0&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n          &lt;artifactId&gt;keycloak-server-spi-private&lt;/artifactId&gt;\r\n          &lt;version&gt;20.0.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.json&lt;/groupId&gt;\r\n          &lt;artifactId&gt;json&lt;/artifactId&gt;\r\n          &lt;version&gt;20080701&lt;/version&gt;\r\n          &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\r\n          &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\r\n          &lt;version&gt;20.0.0&lt;/version&gt;\r\n          &lt;scope&gt;provided&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n      &lt;dependencyManagement&gt;\r\n        &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;com.github.dasniko&lt;/groupId&gt;\r\n            &lt;artifactId&gt;keycloak-spi-bom&lt;/artifactId&gt;\r\n            &lt;version&gt;${keycloak.version}&lt;/version&gt;\r\n            &lt;type&gt;pom&lt;/type&gt;\r\n            &lt;scope&gt;import&lt;/scope&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n      &lt;/dependencyManagement&gt;\r\n      &lt;properties&gt;\r\n        &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\r\n        &lt;aws.version&gt;2.18.6&lt;/aws.version&gt;\r\n        &lt;maven.compiler.version&gt;3.10.1&lt;/maven.compiler.version&gt;\r\n        &lt;maven.shade.version&gt;3.2.4&lt;/maven.shade.version&gt;\r\n        &lt;keycloak.version&gt;20.0.0&lt;/keycloak.version&gt;\r\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n      &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\n\r\nWhat can be resolve such an issue ?","title":"Keycloak adding external SPI with Maven [org.keycloak.services.error.KeycloakErrorHandler] java.lang.NoClassDefFoundError: org/json/JSONException","body":"<p>I build and package the project with maven for adding external SPI to Keycloak:</p>\n<p><a href=\"https://github.com/dasniko/keycloak-2fa-sms-authenticator\" rel=\"nofollow noreferrer\">https://github.com/dasniko/keycloak-2fa-sms-authenticator</a></p>\n<p>I changed SNS to other API.But KC gives a following problem:</p>\n<pre><code>12:50:07,497 ERROR [org.keycloak.services.error.KeycloakErrorHandler] (default task-1) Uncaught server error: java.lang.NoClassDefFoundError: org/json/JSONException\n</code></pre>\n<p>However I added org.json dependecy to my pom.xml while builded jar file.</p>\n<p>This is my pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n  &lt;groupId&gt;dasniko&lt;/groupId&gt;\n  &lt;artifactId&gt;keycloak-2fa-sms-authenticator&lt;/artifactId&gt;\n  &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n  &lt;build&gt;\n    &lt;finalName&gt;${project.groupId}.${project.artifactId}&lt;/finalName&gt;\n    &lt;plugins&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.compiler.version}&lt;/version&gt;\n      &lt;/plugin&gt;\n      &lt;plugin&gt;\n        &lt;artifactId&gt;maven-shade-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${maven.shade.version}&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;package&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;shade&lt;/goal&gt;\n            &lt;/goals&gt;\n            &lt;configuration&gt;\n              &lt;artifactSet&gt;\n                &lt;includes&gt;\n                  &lt;include&gt;software.amazon.awssdk:*&lt;/include&gt;\n                  &lt;include&gt;org.reactivestreams:reactive-streams&lt;/include&gt;\n                  &lt;include&gt;org.json&lt;/include&gt;\n                &lt;/includes&gt;\n              &lt;/artifactSet&gt;\n            &lt;/configuration&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n      &lt;artifactId&gt;keycloak-server-spi&lt;/artifactId&gt;\n      &lt;version&gt;20.0.0&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n      &lt;artifactId&gt;keycloak-server-spi-private&lt;/artifactId&gt;\n      &lt;version&gt;20.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.json&lt;/groupId&gt;\n      &lt;artifactId&gt;json&lt;/artifactId&gt;\n      &lt;version&gt;20080701&lt;/version&gt;\n      &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.keycloak&lt;/groupId&gt;\n      &lt;artifactId&gt;keycloak-services&lt;/artifactId&gt;\n      &lt;version&gt;20.0.0&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt;\n        &lt;groupId&gt;com.github.dasniko&lt;/groupId&gt;\n        &lt;artifactId&gt;keycloak-spi-bom&lt;/artifactId&gt;\n        &lt;version&gt;${keycloak.version}&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n  &lt;properties&gt;\n    &lt;maven.compiler.release&gt;11&lt;/maven.compiler.release&gt;\n    &lt;aws.version&gt;2.18.6&lt;/aws.version&gt;\n    &lt;maven.compiler.version&gt;3.10.1&lt;/maven.compiler.version&gt;\n    &lt;maven.shade.version&gt;3.2.4&lt;/maven.shade.version&gt;\n    &lt;keycloak.version&gt;20.0.0&lt;/keycloak.version&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>What can be resolve such an issue ?</p>\n"},{"tags":["java","maven","javac"],"comments":[{"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"score":3,"creation_date":1348584335,"post_id":12585380,"comment_id":16959289,"body_markdown":"The JDK_HOME should be the base directory, i.e. without the `\\bin` and you should have `%JDK_HOME%\\bin` in your path.  Can you run `D:\\name\\name\\core java\\software\\Java\\Java_1.6.0_04_win\\jdk1.6.0_04\\bin\\java -version` ?","body":"The JDK_HOME should be the base directory, i.e. without the <code>\\bin</code> and you should have <code>%JDK_HOME%\\bin</code> in your path.  Can you run <code>D:\\name\\name\\core java\\software\\Java\\Java_1.6.0_04_win\\jdk1.6.0_04\\bin\\java -version</code> ?"},{"owner":{"account_id":45934,"reputation":203649,"user_id":135589,"accept_rate":100,"display_name":"Jesper"},"score":3,"creation_date":1348584450,"post_id":12585380,"comment_id":16959352,"body_markdown":"Maven expects `JAVA_HOME` to be set to your JDK installation directory, not `JDK_HOME`. See [Maven installation instructions](http://maven.apache.org/download.html).","body":"Maven expects <code>JAVA_HOME</code> to be set to your JDK installation directory, not <code>JDK_HOME</code>. See <a href=\"http://maven.apache.org/download.html\" rel=\"nofollow noreferrer\">Maven installation instructions</a>."}],"answers":[{"tags":[],"owner":{"account_id":3001,"reputation":138707,"user_id":4249,"accept_rate":84,"display_name":"matt b"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1348584364,"creation_date":1348584364,"answer_id":12585468,"question_id":12585380,"body_markdown":"It sounds like you have `JDK_HOME` defined as a user variable and `PATH` defined as a System variable, or vice versa - `echo %PATH%` should not contain unresolved variables like `...;%JDK_HOME%`.\r\n\r\nMake sure that the `%JDK_HOME%\\bin` path is on your PATH variable, unresolved, even if you have to put the path in explicitly.","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>It sounds like you have <code>JDK_HOME</code> defined as a user variable and <code>PATH</code> defined as a System variable, or vice versa - <code>echo %PATH%</code> should not contain unresolved variables like <code>...;%JDK_HOME%</code>.</p>\n\n<p>Make sure that the <code>%JDK_HOME%\\bin</code> path is on your PATH variable, unresolved, even if you have to put the path in explicitly.</p>\n"},{"tags":[],"owner":{"account_id":143145,"reputation":2254,"user_id":351295,"accept_rate":80,"display_name":"Bruno Penteado"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1348584547,"creation_date":1348584547,"answer_id":12585519,"question_id":12585380,"body_markdown":"The JDK_HOME variable should always point to the base dir of the jdk, not the bin dir:\r\n\r\n    D:\\name\\name\\core java\\software\\Java\\Java_1.6.0_04_win\\jdk1.6.0_04\r\n\r\nThat defined, fix your path to be \r\n\r\n    C:\\Windows\\System32;D:\\name\\name1\\Softwares\\Maven\\apache-maven-3.0.4\\bin;C:\\Program Files\\Notepad++\\;%JDK_HOME%\\bin\r\n","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>The JDK_HOME variable should always point to the base dir of the jdk, not the bin dir:</p>\n\n<pre><code>D:\\name\\name\\core java\\software\\Java\\Java_1.6.0_04_win\\jdk1.6.0_04\n</code></pre>\n\n<p>That defined, fix your path to be </p>\n\n<pre><code>C:\\Windows\\System32;D:\\name\\name1\\Softwares\\Maven\\apache-maven-3.0.4\\bin;C:\\Program Files\\Notepad++\\;%JDK_HOME%\\bin\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1687950,"reputation":1199,"user_id":1550855,"accept_rate":41,"display_name":"BKK"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1363492695,"creation_date":1348588001,"answer_id":12586542,"question_id":12585380,"body_markdown":"It was an Eclipse problem.  When I tried to build it from the command line using \r\n\r\n    mvn package\r\nit worked fine.","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>It was an Eclipse problem.  When I tried to build it from the command line using </p>\n\n<pre><code>mvn package\n</code></pre>\n\n<p>it worked fine.</p>\n"},{"tags":[],"owner":{"account_id":390700,"reputation":4080,"user_id":750940,"accept_rate":44,"display_name":"Pradeep Vairamani"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1430306431,"creation_date":1356108901,"answer_id":13994147,"question_id":12585380,"body_markdown":"Go to Window -&gt; Preferences... -&gt; Java -&gt; Installed JREs\r\n\r\nEdit JRE Home = JAVA_HOME or JAVA_HOME\\jre\r\n\r\nFor example if you use jdk1.6.0_04 which is installed in C:\\Program Files, do the following change:\r\n\r\nC:\\Program Files\\Java\\jdk1.6.0_04\\jre or C:\\Program Files\\Java\\jdk1.6.0_04 instead of the default one which is at C:\\Program Files\\Java\\jre7","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>Go to Window -> Preferences... -> Java -> Installed JREs</p>\n\n<p>Edit JRE Home = JAVA_HOME or JAVA_HOME\\jre</p>\n\n<p>For example if you use jdk1.6.0_04 which is installed in C:\\Program Files, do the following change:</p>\n\n<p>C:\\Program Files\\Java\\jdk1.6.0_04\\jre or C:\\Program Files\\Java\\jdk1.6.0_04 instead of the default one which is at C:\\Program Files\\Java\\jre7</p>\n"},{"tags":[],"owner":{"account_id":2127241,"reputation":1942,"user_id":1889016,"display_name":"Parthasarathy B"},"down_vote_count":1,"up_vote_count":154,"is_accepted":false,"score":153,"last_activity_date":1441711150,"creation_date":1363773195,"answer_id":15520204,"question_id":12585380,"body_markdown":"**Its in Eclipse setup only** \r\n\r\nIt has 4 steps TODO.\r\n\r\nStep 1 : Right Click on Eclipse project Properties\r\n\r\nStep 2 : Java Build Path -&gt; Libraries\r\n\r\nStep 3 : Select JRE System Library -&gt; Click Edit button  -&gt; Click Installed JREs... button\r\n\r\nStep 4 : Edit JRE as Set JRE Home = JAVA_HOME\r\n\r\n**ScreentShot:**\r\n\r\n![enter image description here][1]\r\n\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/DvZlo.jpg","title":"Maven Unable to locate the Javac Compiler in:","body":"<p><strong>Its in Eclipse setup only</strong> </p>\n\n<p>It has 4 steps TODO.</p>\n\n<p>Step 1 : Right Click on Eclipse project Properties</p>\n\n<p>Step 2 : Java Build Path -> Libraries</p>\n\n<p>Step 3 : Select JRE System Library -> Click Edit button  -> Click Installed JREs... button</p>\n\n<p>Step 4 : Edit JRE as Set JRE Home = JAVA_HOME</p>\n\n<p><strong>ScreentShot:</strong></p>\n\n<p><img src=\"https://i.stack.imgur.com/DvZlo.jpg\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":1049806,"reputation":552,"user_id":1054014,"display_name":"Hinotori"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1374764988,"creation_date":1374764988,"answer_id":17861873,"question_id":12585380,"body_markdown":"Had the same problem, but in my case, the directory eclipse pointed the JRE was the JDK. So, i searched for that tools.jar and was there.\r\n\r\nI did \r\n\r\n - Java Build Path &gt;&gt; Libraries\r\n - JRE System Lybrary &gt;&gt; Edit\r\n - Installed JREs &gt;&gt; click on my jdk &gt;&gt; edit\r\n - Add External Jars &gt;&gt; tools.jar\r\n\r\nAnd then compiled fine","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>Had the same problem, but in my case, the directory eclipse pointed the JRE was the JDK. So, i searched for that tools.jar and was there.</p>\n\n<p>I did </p>\n\n<ul>\n<li>Java Build Path >> Libraries</li>\n<li>JRE System Lybrary >> Edit</li>\n<li>Installed JREs >> click on my jdk >> edit</li>\n<li>Add External Jars >> tools.jar</li>\n</ul>\n\n<p>And then compiled fine</p>\n"},{"tags":[],"owner":{"account_id":3179784,"reputation":89,"user_id":2686803,"display_name":"Ibo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1380619651,"creation_date":1380619651,"answer_id":19112582,"question_id":12585380,"body_markdown":"I had the same Error,  because of JUNIT version, I had 3 \r\n      &lt;version&gt;3.8.1&lt;/version&gt;  and I have changed to 4.8.1. \r\n\r\nso the solution is \r\n\r\nyou have to go to POM, and make sure that you dependency looks like this \r\n     \r\n     &lt;dependency&gt;\r\n      &lt;groupId&gt;junit&lt;/groupId&gt;\r\n      &lt;artifactId&gt;junit&lt;/artifactId&gt;\r\n      &lt;version&gt;4.8.1&lt;/version&gt;\r\n      &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n \r\n","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>I had the same Error,  because of JUNIT version, I had 3 \n      3.8.1  and I have changed to 4.8.1. </p>\n\n<p>so the solution is </p>\n\n<p>you have to go to POM, and make sure that you dependency looks like this </p>\n\n<pre><code> &lt;dependency&gt;\n  &lt;groupId&gt;junit&lt;/groupId&gt;\n  &lt;artifactId&gt;junit&lt;/artifactId&gt;\n  &lt;version&gt;4.8.1&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4264474,"reputation":4954,"user_id":3487902,"display_name":"san1deep2set3hi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1397018159,"creation_date":1397018159,"answer_id":22952878,"question_id":12585380,"body_markdown":"In Eclipse, actions like importing Maven projects or invoking &quot;Update Sources&quot; runs in the same JVM in which Eclipse is running. If that JVM comes from JRE that isn’t part of JDK, there would be no Java compiler (the tools.jar).\r\n\r\nSo to launch Maven from within Eclipse, JRE used for launch also need to come from JDK. By default Eclipse registers JRE it is started in, but this can be configured on &quot;Window / Preferences… / Java / Installed JREs&quot; preference page as mentioned above by Parthasarathy \r\n\r\nAlternatively you can specify compilerId in the pom.xml, so Maven won’t be looking for JDK when compiling Java code:   \r\n\r\n     &lt;plugin&gt;\r\n      &lt;artifactid&gt;maven-compiler-plugin&lt;/artifactid&gt;\r\n      &lt;configuration&gt;\r\n        &lt;compilerid&gt;eclipse&lt;/compilerid&gt;\r\n      &lt;/configuration&gt;\r\n      &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n          &lt;groupid&gt;org.codehaus.plexus&lt;/groupid&gt;\r\n          &lt;artifactid&gt;plexus-compiler-eclipse&lt;/artifactid&gt;\r\n          &lt;version&gt;xxxx&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n      &lt;/dependencies&gt;\r\n    &lt;/plugin&gt;\r\n\r\n ","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>In Eclipse, actions like importing Maven projects or invoking \"Update Sources\" runs in the same JVM in which Eclipse is running. If that JVM comes from JRE that isn’t part of JDK, there would be no Java compiler (the tools.jar).</p>\n\n<p>So to launch Maven from within Eclipse, JRE used for launch also need to come from JDK. By default Eclipse registers JRE it is started in, but this can be configured on \"Window / Preferences… / Java / Installed JREs\" preference page as mentioned above by Parthasarathy </p>\n\n<p>Alternatively you can specify compilerId in the pom.xml, so Maven won’t be looking for JDK when compiling Java code:   </p>\n\n<pre><code> &lt;plugin&gt;\n  &lt;artifactid&gt;maven-compiler-plugin&lt;/artifactid&gt;\n  &lt;configuration&gt;\n    &lt;compilerid&gt;eclipse&lt;/compilerid&gt;\n  &lt;/configuration&gt;\n  &lt;dependencies&gt;\n    &lt;dependency&gt;\n      &lt;groupid&gt;org.codehaus.plexus&lt;/groupid&gt;\n      &lt;artifactid&gt;plexus-compiler-eclipse&lt;/artifactid&gt;\n      &lt;version&gt;xxxx&lt;/version&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n&lt;/plugin&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2016507,"reputation":5631,"user_id":1803692,"accept_rate":96,"display_name":"Vogel612"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1401261493,"creation_date":1401261493,"answer_id":23905091,"question_id":12585380,"body_markdown":"I have encountered a similar problem, and as no one posted an approach similar to mine, here I go.\r\n\r\n&gt;Navigate to the run configuration you wanted to launch.  \r\n&gt;There chose the JRE tab. Adjust the &quot;Runtime JRE&quot; there, and you&#39;re ready to go.","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>I have encountered a similar problem, and as no one posted an approach similar to mine, here I go.</p>\n\n<blockquote>\n  <p>Navigate to the run configuration you wanted to launch.<br>\n  There chose the JRE tab. Adjust the \"Runtime JRE\" there, and you're ready to go.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":3579176,"reputation":4110,"user_id":2987780,"accept_rate":50,"display_name":"Indrajeet Gour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1437575372,"creation_date":1437575372,"answer_id":31566113,"question_id":12585380,"body_markdown":"I am able to resolved by doing following steps :\r\n\r\n&gt; Right click on project select Build path -&gt; Configure build path -&gt;\r\n&gt; select Libraries Tab -&gt; then select JRE System Library[version you\r\n&gt; have for me its JavaSE-1.7] - &gt; click Edit button -&gt; In JRE System\r\n&gt; Library window select Execution environment - In drop down you can\r\n&gt; select the JDK listed for me its JavaSE-1.7 -&gt; next to this click to\r\n&gt; Environments button -&gt; In Execution Environments window you have to\r\n&gt; again select your java SE for me its JavaSE-1.7 -&gt; just select it, you\r\n&gt; will have options in Compatible JREs tab, so select JDK that you want\r\n&gt; to have in my case its jdk1.7.0_25.\r\n&gt; \r\n\r\n\r\n----------\r\n\r\n\r\n&gt; Click ok and finish the rest windows by doing appropriate action\r\n&gt; Ok/Finish. \r\n\r\nLastly do Maven Clean and Maven Install.\r\n\r\n","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>I am able to resolved by doing following steps :</p>\n\n<blockquote>\n  <p>Right click on project select Build path -> Configure build path ->\n  select Libraries Tab -> then select JRE System Library[version you\n  have for me its JavaSE-1.7] - > click Edit button -> In JRE System\n  Library window select Execution environment - In drop down you can\n  select the JDK listed for me its JavaSE-1.7 -> next to this click to\n  Environments button -> In Execution Environments window you have to\n  again select your java SE for me its JavaSE-1.7 -> just select it, you\n  will have options in Compatible JREs tab, so select JDK that you want\n  to have in my case its jdk1.7.0_25.</p>\n</blockquote>\n\n<hr>\n\n<blockquote>\n  <p>Click ok and finish the rest windows by doing appropriate action\n  Ok/Finish. </p>\n</blockquote>\n\n<p>Lastly do Maven Clean and Maven Install.</p>\n"},{"tags":[],"owner":{"account_id":4683770,"reputation":117,"user_id":3791757,"display_name":"V&#225;clav Blažej"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1441355774,"creation_date":1441355774,"answer_id":32393630,"question_id":12585380,"body_markdown":"For *Intellij Idea* set everything appropriately (similarly to this):\r\n\r\n    JAVA_HOME = C:\\Program Files\\Java\\jdk1.8.0_60\r\n    JRE_HOME = JAVA_HOME\\jre\r\n\r\nand dont forget to **restart Idea**. This program picks up variables at start so any changes to environtment variables while the program is running will not have any effect.","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>For <em>Intellij Idea</em> set everything appropriately (similarly to this):</p>\n\n<pre><code>JAVA_HOME = C:\\Program Files\\Java\\jdk1.8.0_60\nJRE_HOME = JAVA_HOME\\jre\n</code></pre>\n\n<p>and dont forget to <strong>restart Idea</strong>. This program picks up variables at start so any changes to environtment variables while the program is running will not have any effect.</p>\n"},{"tags":[],"owner":{"account_id":8764604,"reputation":1,"user_id":6553479,"display_name":"Bolek"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1467751365,"creation_date":1467751365,"answer_id":38212381,"question_id":12585380,"body_markdown":"It depends on of Maven version. When you will install newer version of Maven, this error would not appear. You may also add another directory with tools.jar file lib/tools.jar - it also solve this problem.","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>It depends on of Maven version. When you will install newer version of Maven, this error would not appear. You may also add another directory with tools.jar file lib/tools.jar - it also solve this problem.</p>\n"},{"tags":[],"owner":{"account_id":8886305,"reputation":1872,"user_id":6634462,"accept_rate":0,"display_name":"Ravindra Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521269219,"creation_date":1521269219,"answer_id":49333321,"question_id":12585380,"body_markdown":"If you we are doing all above steps that may be confused and our problem is just missing tools.jre so just add tools.jre by the following steps and problem is solved.\r\n\r\nStep 1 : In eclipse go to Windows -&gt; preferences\r\n\r\nStep 2 : Java -&gt; Installed JREs (Double click on it)\r\n\r\nStep 3 : Click Edit button -&gt; Click Add External JARs\r\n\r\nStep 4 : Now select tools.jar path \r\n\r\nnow apply changes and it works fine.\r\n\r\n[Here is screenshoot][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/aBM8z.png","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>If you we are doing all above steps that may be confused and our problem is just missing tools.jre so just add tools.jre by the following steps and problem is solved.</p>\n\n<p>Step 1 : In eclipse go to Windows -> preferences</p>\n\n<p>Step 2 : Java -> Installed JREs (Double click on it)</p>\n\n<p>Step 3 : Click Edit button -> Click Add External JARs</p>\n\n<p>Step 4 : Now select tools.jar path </p>\n\n<p>now apply changes and it works fine.</p>\n\n<p><a href=\"https://i.stack.imgur.com/aBM8z.png\" rel=\"nofollow noreferrer\">Here is screenshoot</a></p>\n"},{"tags":[],"owner":{"account_id":10084698,"reputation":1,"user_id":10015615,"display_name":"Colin McRae"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530386468,"creation_date":1530386468,"answer_id":51117872,"question_id":12585380,"body_markdown":"Though there are a few non-Eclipse answers above for this question that does not mention Eclipse, they require path variable changes. An alternative is to use the command line option, java.home, e.g.:\r\n\r\n    mvn package -Djava.home=&quot;C:\\Program Files\\Java\\jdk1.8.0_161\\jre&quot;\r\n\r\nNotice the \\jre at the end - a surprising necessity.\r\n","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>Though there are a few non-Eclipse answers above for this question that does not mention Eclipse, they require path variable changes. An alternative is to use the command line option, java.home, e.g.:</p>\n\n<pre><code>mvn package -Djava.home=\"C:\\Program Files\\Java\\jdk1.8.0_161\\jre\"\n</code></pre>\n\n<p>Notice the \\jre at the end - a surprising necessity.</p>\n"},{"tags":[],"owner":{"account_id":15057606,"reputation":11,"user_id":10867424,"display_name":"FunkyFeudalFox"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1546604560,"creation_date":1546604560,"answer_id":54038910,"question_id":12585380,"body_markdown":"I tried all of the above suggestions, which did not work for me, but I found how to fix the error in my case.\r\n\r\nThe following steps made the project compile succesfully:\r\n\r\nIn project explorer, right-click on project, select “properties”\r\nIn the tree on the right, go to Java build path. Select the tab “libraries”. \r\nClick “Add library”. \r\nSelect JRE system library. Click next.\r\nSelect radio button Alternate JRE. Click “installed JRE’s”. Select the JRE with the right version. Click Appy and close. In the next screen, click finish.\r\nIn the properties window, click Apply and close.\r\nIn the project explorer, right-click your pom.xml and select run as &gt; maven build\r\nIn the goal textbox, write “install”. Click Run.\r\n\r\nThis made the project build succesfully in my case.\r\n","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>I tried all of the above suggestions, which did not work for me, but I found how to fix the error in my case.</p>\n\n<p>The following steps made the project compile succesfully:</p>\n\n<p>In project explorer, right-click on project, select “properties”\nIn the tree on the right, go to Java build path. Select the tab “libraries”. \nClick “Add library”. \nSelect JRE system library. Click next.\nSelect radio button Alternate JRE. Click “installed JRE’s”. Select the JRE with the right version. Click Appy and close. In the next screen, click finish.\nIn the properties window, click Apply and close.\nIn the project explorer, right-click your pom.xml and select run as > maven build\nIn the goal textbox, write “install”. Click Run.</p>\n\n<p>This made the project build succesfully in my case.</p>\n"},{"tags":[],"owner":{"account_id":60171,"reputation":115485,"user_id":179850,"accept_rate":100,"display_name":"Gray"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1565907736,"creation_date":1565907736,"answer_id":57516890,"question_id":12585380,"body_markdown":"None of the current answers helped me here.  We were getting something like:\r\n\r\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:\r\n        #.#.#:compile (default-compile) on project Streaming_Test: Compilation failure\r\n    [ERROR] Unable to locate the Javac Compiler in:\r\n    [ERROR] /opt/java/J7.0/../lib/tools.jar\r\n\r\nThis happens because the Java installation has determined that it is a JRE installation.  It&#39;s expecting there to be JDK stuff _above_ the JRE subdirectory, hence the `../lib` in the path.  Our `tools.jar` is in `$JAVA_HOME/lib/tools.jar` not in `$JAVA_HOME/../lib/tools.jar`.\r\n\r\nUnfortunately, we do not have an option to install a JDK on our OS (don&#39;t ask) so that wasn&#39;t an option.  I fixed the problem by adding the following to the maven `pom.xml`:\r\n\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n        &lt;configuration&gt;\r\n          &lt;fork&gt;true&lt;/fork&gt;  &lt;!-- not sure if this is also needed --&gt;\r\n          &lt;executable&gt;${JAVA_HOME}/bin/javac&lt;/executable&gt;\r\n          &lt;!--        ^^^^^^^^^^^^^^^^^^^^^^ --&gt;\r\n        &lt;/configuration&gt;\r\n      &lt;/plugin&gt;\r\n\r\nBy pointing the executable to the right place this at least got past our compilation failures.\r\n\r\n","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>None of the current answers helped me here.  We were getting something like:</p>\n\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:\n    #.#.#:compile (default-compile) on project Streaming_Test: Compilation failure\n[ERROR] Unable to locate the Javac Compiler in:\n[ERROR] /opt/java/J7.0/../lib/tools.jar\n</code></pre>\n\n<p>This happens because the Java installation has determined that it is a JRE installation.  It's expecting there to be JDK stuff <em>above</em> the JRE subdirectory, hence the <code>../lib</code> in the path.  Our <code>tools.jar</code> is in <code>$JAVA_HOME/lib/tools.jar</code> not in <code>$JAVA_HOME/../lib/tools.jar</code>.</p>\n\n<p>Unfortunately, we do not have an option to install a JDK on our OS (don't ask) so that wasn't an option.  I fixed the problem by adding the following to the maven <code>pom.xml</code>:</p>\n\n<pre><code>  &lt;plugin&gt;\n    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n    &lt;configuration&gt;\n      &lt;fork&gt;true&lt;/fork&gt;  &lt;!-- not sure if this is also needed --&gt;\n      &lt;executable&gt;${JAVA_HOME}/bin/javac&lt;/executable&gt;\n      &lt;!--        ^^^^^^^^^^^^^^^^^^^^^^ --&gt;\n    &lt;/configuration&gt;\n  &lt;/plugin&gt;\n</code></pre>\n\n<p>By pointing the executable to the right place this at least got past our compilation failures.</p>\n"},{"tags":[],"owner":{"account_id":4100447,"reputation":113,"user_id":3366133,"accept_rate":86,"display_name":"HeXMaN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1569050576,"creation_date":1569050576,"answer_id":58038152,"question_id":12585380,"body_markdown":"For others facing this issue in Eclipse even with path set to JDK correctly, you need to remove the other JREs from Installed JREs.\r\n\r\nGo to **Window** -&gt; **Preferences** -&gt; **Java** -&gt; **Installed JREs**\r\n\r\nSelect unused JREs individually and **Remove**\r\n\r\nIt worked for me.","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>For others facing this issue in Eclipse even with path set to JDK correctly, you need to remove the other JREs from Installed JREs.</p>\n\n<p>Go to <strong>Window</strong> -> <strong>Preferences</strong> -> <strong>Java</strong> -> <strong>Installed JREs</strong></p>\n\n<p>Select unused JREs individually and <strong>Remove</strong></p>\n\n<p>It worked for me.</p>\n"},{"tags":[],"owner":{"account_id":20340219,"reputation":11,"user_id":14919734,"display_name":"Pradeep Palaniswamy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1651771812,"creation_date":1651771812,"answer_id":72131364,"question_id":12585380,"body_markdown":"Make sure mvn is configured to use the correct jre . mvn uses the jre that belongs to the JDK set as  your JAVA_HOME \r\ntry the mvn -version command and make sure that  runtime has the value {JAVA_HOME}\\jre","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>Make sure mvn is configured to use the correct jre . mvn uses the jre that belongs to the JDK set as  your JAVA_HOME\ntry the mvn -version command and make sure that  runtime has the value {JAVA_HOME}\\jre</p>\n"},{"tags":[],"owner":{"account_id":29048584,"reputation":1,"user_id":22251880,"display_name":"lozano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689763580,"creation_date":1689763521,"answer_id":76720472,"question_id":12585380,"body_markdown":"Try to change your Run configuration :\r\n\r\nEclipse \\ Run \\ Run configurations \\ Maven Build \\ \\&lt;your run configuration\\&gt; \\ JRE \\ try to set up a jdk*\r\n\r\n\r\n","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>Try to change your Run configuration :</p>\n<p>Eclipse \\ Run \\ Run configurations \\ Maven Build \\ &lt;your run configuration&gt; \\ JRE \\ try to set up a jdk*</p>\n"}],"owner":{"account_id":1687950,"reputation":1199,"user_id":1550855,"accept_rate":41,"display_name":"BKK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":133409,"favorite_count":0,"down_vote_count":0,"up_vote_count":76,"answer_count":19,"score":76,"last_activity_date":1689763580,"creation_date":1348584120,"question_id":12585380,"body_markdown":"When i try to generate a war file, it is showing some error like \r\n\r\n    [ERROR] Unable to locate the Javac Compiler in:\r\n    [ERROR] C:\\Program Files\\Java\\jre7\\..\\lib\\tools.jar\r\n\r\nWhen i do `echo %path%` it shows\r\n\r\n     C:\\Windows\\System32;D:\\name\\name1\\Softwares\\Maven\\apache-maven-3.0.4\\b\r\n    in;C:\\Program Files\\Notepad++\\;%JDK_HOME%\r\n\r\nWhen i do `echo %JDK_HOME%`\r\n\r\n    D:\\name\\name\\core java\\software\\Java\\Java_1.6.0_04_win\\jdk1.6.0_04\\bin\r\n\r\nI don&#39;t know why maven is refering to jre, when my environmental variable is jdk. I also changes installed JRE to jdk1.6.","title":"Maven Unable to locate the Javac Compiler in:","body":"<p>When i try to generate a war file, it is showing some error like </p>\n\n<pre><code>[ERROR] Unable to locate the Javac Compiler in:\n[ERROR] C:\\Program Files\\Java\\jre7\\..\\lib\\tools.jar\n</code></pre>\n\n<p>When i do <code>echo %path%</code> it shows</p>\n\n<pre><code> C:\\Windows\\System32;D:\\name\\name1\\Softwares\\Maven\\apache-maven-3.0.4\\b\nin;C:\\Program Files\\Notepad++\\;%JDK_HOME%\n</code></pre>\n\n<p>When i do <code>echo %JDK_HOME%</code></p>\n\n<pre><code>D:\\name\\name\\core java\\software\\Java\\Java_1.6.0_04_win\\jdk1.6.0_04\\bin\n</code></pre>\n\n<p>I don't know why maven is refering to jre, when my environmental variable is jdk. I also changes installed JRE to jdk1.6.</p>\n"},{"tags":["java","spring-boot","redis"],"answers":[{"tags":[],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689763380,"creation_date":1689763380,"answer_id":76720451,"question_id":76703643,"body_markdown":"I don&#39;t know why spring boot was trying to configure it&#39;s redis using auto configuration\r\n\r\nI have to add this to application.properties\r\n\r\n    spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration\r\n\r\n","title":"I upgraded spring boot to 3.1.1 version and I get this error from Redis NOAUTH HELLO must be called with the client","body":"<p>I don't know why spring boot was trying to configure it's redis using auto configuration</p>\n<p>I have to add this to application.properties</p>\n<pre><code>spring.autoconfigure.exclude=org.springframework.boot.autoconfigure.data.redis.RedisAutoConfiguration\n</code></pre>\n"}],"owner":{"account_id":10645250,"reputation":3023,"user_id":7838169,"display_name":"badger"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":657,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76720451,"answer_count":1,"score":1,"last_activity_date":1689763380,"creation_date":1689590301,"question_id":76703643,"body_markdown":"I recently upgraded my spring boot project to version 3.1.1, I configured the Redis like the following:\r\n\r\n    @Bean\r\n    public ReactiveRedisConnectionFactory redisFirstConnectionFactory() {\r\n        var redisConf = new RedisStandaloneConfiguration();\r\n        redisConf.setHostName(host);\r\n        redisConf.setPort(port);\r\n        redisConf.setPassword(password);\r\n        redisConf.setDatabase(0);\r\n        return new LettuceConnectionFactory(redisConf,\r\n                LettuceClientConfiguration\r\n                        .builder()\r\n                        .commandTimeout(Duration.ofSeconds(10))\r\n                        .build());\r\n    }\r\n\r\n\r\n    @Bean\r\n    public ReactiveStringRedisTemplate redisTemplate(ReactiveRedisConnectionFactory cf) {\r\n        return new ReactiveStringRedisTemplate(cf);\r\n    }\r\n\r\nBut when I start the application I get the following Exception:\r\n\r\n     2023-07-17 13:59:17,781 [boundedElastic-1] WARN  org.springframework.boot.actuate.data.redis.RedisReactiveHealthIndicator [,] - Redis health check failed\r\n    org.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1602)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1533)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1358)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1341)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1083)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:479)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:105)\r\n    \tat reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)\r\n    \tat reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:227)\r\n    \tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)\r\n    \tat reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)\r\n    \tat java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\r\n    \tat java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\r\n    \tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\r\n    \tat java.base/java.lang.Thread.run(Thread.java:833)\r\n    Caused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/&lt;unresolved&gt;:6379\r\n    \tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\r\n    \tat io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)\r\n    \tat io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)\r\n    \tat io.lettuce.core.RedisClient.connect(RedisClient.java:216)\r\n    \tat org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)\r\n    \tat java.base/java.util.Optional.orElseGet(Optional.java:364)\r\n    \tat org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)\r\n    \tat org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1531)\r\n    \t... 14 more\r\n    Caused by: io.lettuce.core.RedisCommandExecutionException: NOAUTH HELLO must be called with the client already authenticated, otherwise the HELLO AUTH &lt;user&gt; &lt;pass&gt; option can be used to authenticate the client and select the RESP protocol version at the same time\r\n    \tat io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:147)\r\n    \tat io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:116)\r\n    \tat io.lettuce.core.protocol.AsyncCommand.completeResult(AsyncCommand.java:120)\r\n    \tat io.lettuce.core.protocol.AsyncCommand.complete(AsyncCommand.java:111)\r\n    \tat io.lettuce.core.protocol.CommandWrapper.complete(CommandWrapper.java:63)\r\n    \tat io.lettuce.core.protocol.CommandHandler.complete(CommandHandler.java:747)\r\n    \tat io.lettuce.core.protocol.CommandHandler.decode(CommandHandler.java:682)\r\n    \tat io.lettuce.core.protocol.CommandHandler.channelRead(CommandHandler.java:599)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\r\n    \tat io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\r\n    \tat io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\r\n    \tat io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\r\n    \tat io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\r\n    \tat io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\r\n    \tat io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\r\n    \tat io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\r\n    \tat io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\r\n    \tat io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\r\n    \t... 1 more\r\n\r\n \r\nI can connect to Redis with that password using RedisInsight.\r\nRedis version 6.2.6\r\n\r\nIf you need anything please tell me to add to question.","title":"I upgraded spring boot to 3.1.1 version and I get this error from Redis NOAUTH HELLO must be called with the client","body":"<p>I recently upgraded my spring boot project to version 3.1.1, I configured the Redis like the following:</p>\n<pre><code>@Bean\npublic ReactiveRedisConnectionFactory redisFirstConnectionFactory() {\n    var redisConf = new RedisStandaloneConfiguration();\n    redisConf.setHostName(host);\n    redisConf.setPort(port);\n    redisConf.setPassword(password);\n    redisConf.setDatabase(0);\n    return new LettuceConnectionFactory(redisConf,\n            LettuceClientConfiguration\n                    .builder()\n                    .commandTimeout(Duration.ofSeconds(10))\n                    .build());\n}\n\n\n@Bean\npublic ReactiveStringRedisTemplate redisTemplate(ReactiveRedisConnectionFactory cf) {\n    return new ReactiveStringRedisTemplate(cf);\n}\n</code></pre>\n<p>But when I start the application I get the following Exception:</p>\n<pre><code> 2023-07-17 13:59:17,781 [boundedElastic-1] WARN  org.springframework.boot.actuate.data.redis.RedisReactiveHealthIndicator [,] - Redis health check failed\norg.springframework.data.redis.RedisConnectionFailureException: Unable to connect to Redis\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.translateException(LettuceConnectionFactory.java:1602)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1533)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getNativeConnection(LettuceConnectionFactory.java:1358)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$SharedConnection.getConnection(LettuceConnectionFactory.java:1341)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getSharedReactiveConnection(LettuceConnectionFactory.java:1083)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:479)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory.getReactiveConnection(LettuceConnectionFactory.java:105)\n    at reactor.core.publisher.MonoSupplier.call(MonoSupplier.java:67)\n    at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:227)\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)\n    at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)\n    at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264)\n    at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:304)\n    at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1136)\n    at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:635)\n    at java.base/java.lang.Thread.run(Thread.java:833)\nCaused by: io.lettuce.core.RedisConnectionException: Unable to connect to localhost/&lt;unresolved&gt;:6379\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:78)\n    at io.lettuce.core.RedisConnectionException.create(RedisConnectionException.java:56)\n    at io.lettuce.core.AbstractRedisClient.getConnection(AbstractRedisClient.java:350)\n    at io.lettuce.core.RedisClient.connect(RedisClient.java:216)\n    at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.lambda$getConnection$1(StandaloneConnectionProvider.java:112)\n    at java.base/java.util.Optional.orElseGet(Optional.java:364)\n    at org.springframework.data.redis.connection.lettuce.StandaloneConnectionProvider.getConnection(StandaloneConnectionProvider.java:112)\n    at org.springframework.data.redis.connection.lettuce.LettuceConnectionFactory$ExceptionTranslatingConnectionProvider.getConnection(LettuceConnectionFactory.java:1531)\n    ... 14 more\nCaused by: io.lettuce.core.RedisCommandExecutionException: NOAUTH HELLO must be called with the client already authenticated, otherwise the HELLO AUTH &lt;user&gt; &lt;pass&gt; option can be used to authenticate the client and select the RESP protocol version at the same time\n    at io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:147)\n    at io.lettuce.core.internal.ExceptionFactory.createExecutionException(ExceptionFactory.java:116)\n    at io.lettuce.core.protocol.AsyncCommand.completeResult(AsyncCommand.java:120)\n    at io.lettuce.core.protocol.AsyncCommand.complete(AsyncCommand.java:111)\n    at io.lettuce.core.protocol.CommandWrapper.complete(CommandWrapper.java:63)\n    at io.lettuce.core.protocol.CommandHandler.complete(CommandHandler.java:747)\n    at io.lettuce.core.protocol.CommandHandler.decode(CommandHandler.java:682)\n    at io.lettuce.core.protocol.CommandHandler.channelRead(CommandHandler.java:599)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:442)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.AbstractChannelHandlerContext.fireChannelRead(AbstractChannelHandlerContext.java:412)\n    at io.netty.channel.DefaultChannelPipeline$HeadContext.channelRead(DefaultChannelPipeline.java:1410)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:440)\n    at io.netty.channel.AbstractChannelHandlerContext.invokeChannelRead(AbstractChannelHandlerContext.java:420)\n    at io.netty.channel.DefaultChannelPipeline.fireChannelRead(DefaultChannelPipeline.java:919)\n    at io.netty.channel.epoll.AbstractEpollStreamChannel$EpollStreamUnsafe.epollInReady(AbstractEpollStreamChannel.java:800)\n    at io.netty.channel.epoll.EpollEventLoop.processReady(EpollEventLoop.java:499)\n    at io.netty.channel.epoll.EpollEventLoop.run(EpollEventLoop.java:397)\n    at io.netty.util.concurrent.SingleThreadEventExecutor$4.run(SingleThreadEventExecutor.java:997)\n    at io.netty.util.internal.ThreadExecutorMap$2.run(ThreadExecutorMap.java:74)\n    at io.netty.util.concurrent.FastThreadLocalRunnable.run(FastThreadLocalRunnable.java:30)\n    ... 1 more\n</code></pre>\n<p>I can connect to Redis with that password using RedisInsight.\nRedis version 6.2.6</p>\n<p>If you need anything please tell me to add to question.</p>\n"},{"tags":["java","openrewrite"],"answers":[{"tags":[],"owner":{"account_id":21852,"reputation":19896,"user_id":53444,"accept_rate":70,"display_name":"Tim"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689763190,"creation_date":1689763190,"answer_id":76720424,"question_id":76720383,"body_markdown":"There&#39;s been a fix to `rewrite-github-actions`, which is a transitive dependency of `rewrite-migrate-java`. Until the next full release you might want to add a dependency on this version to get the fix already: https://github.com/openrewrite/rewrite-github-actions/releases/tag/v2.0.3\r\n\r\nHope that helps!","title":"Unable to call primary constructor for Recipe class org.openrewrite.github.AddCronTrigger in org.openrewrite.java.migrate.Java8toJava11","body":"<p>There's been a fix to <code>rewrite-github-actions</code>, which is a transitive dependency of <code>rewrite-migrate-java</code>. Until the next full release you might want to add a dependency on this version to get the fix already: <a href=\"https://github.com/openrewrite/rewrite-github-actions/releases/tag/v2.0.3\" rel=\"nofollow noreferrer\">https://github.com/openrewrite/rewrite-github-actions/releases/tag/v2.0.3</a></p>\n<p>Hope that helps!</p>\n"}],"owner":{"account_id":29048093,"reputation":31,"user_id":22251487,"display_name":"Oriol Carcell&#233; Bayona"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":304,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1689763190,"creation_date":1689762966,"question_id":76720383,"body_markdown":"I&#39;m having some trouble trying the \\&lt;recipe\\&gt;org.openrewrite.java.migrate.Java8toJava11\\&lt;/recipe\\&gt;\r\n\r\nWhen we execute the maven goal it fails with this error:\r\n\r\norg.openrewrite.config.RecipeIntrospectionException\\[m: \\[1;31mUnable to call primary constructor for Recipe class org.openrewrite.github.AddCronTrigger\r\n\r\n```\r\n[[1;33mWARNING[m] Unable to configure org.openrewrite.github.AddCronTrigger\r\n[1;31morg.openrewrite.config.RecipeIntrospectionException[m: [1;31mUnable to call primary constructor for Recipe class org.openrewrite.github.AddCronTrigger[m\r\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.getRecipeIntrospectionException ([1mRecipeIntrospectionUtils.java:140[m)\r\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.construct ([1mRecipeIntrospectionUtils.java:134[m)\r\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.constructRecipe ([1mRecipeIntrospectionUtils.java:102[m)\r\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.configureRecipes ([1mClasspathScanningLoader.java:165[m)\r\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.scanClasses ([1mClasspathScanningLoader.java:135[m)\r\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.&lt;init&gt; ([1mClasspathScanningLoader.java:60[m)\r\n    [1mat[m org.openrewrite.config.Environment$Builder.scanRuntimeClasspath ([1mEnvironment.java:224[m)\r\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.environment ([1mAbstractRewriteMojo.java:123[m)\r\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.listResults ([1mAbstractRewriteMojo.java:213[m)\r\n    [1mat[m org.openrewrite.maven.AbstractRewriteRunMojo.execute ([1mAbstractRewriteRunMojo.java:53[m)\r\n    [1mat[m org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo ([1mDefaultBuildPluginManager.java:137[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 ([1mMojoExecutor.java:370[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute ([1mMojoExecutor.java:351[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:215[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:171[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:163[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:117[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:81[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build ([1mSingleThreadedBuilder.java:56[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleStarter.execute ([1mLifecycleStarter.java:128[m)\r\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:294[m)\r\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:192[m)\r\n    [1mat[m org.apache.maven.DefaultMaven.execute ([1mDefaultMaven.java:105[m)\r\n    [1mat[m org.apache.maven.cli.MavenCli.execute ([1mMavenCli.java:960[m)\r\n    [1mat[m org.apache.maven.cli.MavenCli.doMain ([1mMavenCli.java:293[m)\r\n    [1mat[m org.apache.maven.cli.MavenCli.main ([1mMavenCli.java:196[m)\r\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 ([1mNative Method[m)\r\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke ([1mNativeMethodAccessorImpl.java:62[m)\r\n    [1mat[m jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke ([1mDelegatingMethodAccessorImpl.java:43[m)\r\n    [1mat[m java.lang.reflect.Method.invoke ([1mMethod.java:566[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced ([1mLauncher.java:282[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launch ([1mLauncher.java:225[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode ([1mLauncher.java:406[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.main ([1mLauncher.java:347[m)\r\n[1mCaused by[m: java.lang.reflect.InvocationTargetException\r\n    [1mat[m jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 ([1mNative Method[m)\r\n    [1mat[m jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance ([1mNativeConstructorAccessorImpl.java:62[m)\r\n    [1mat[m jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance ([1mDelegatingConstructorAccessorImpl.java:45[m)\r\n    [1mat[m java.lang.reflect.Constructor.newInstance ([1mConstructor.java:490[m)\r\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.construct ([1mRecipeIntrospectionUtils.java:131[m)\r\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.constructRecipe ([1mRecipeIntrospectionUtils.java:102[m)\r\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.configureRecipes ([1mClasspathScanningLoader.java:165[m)\r\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.scanClasses ([1mClasspathScanningLoader.java:135[m)\r\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.&lt;init&gt; ([1mClasspathScanningLoader.java:60[m)\r\n    [1mat[m org.openrewrite.config.Environment$Builder.scanRuntimeClasspath ([1mEnvironment.java:224[m)\r\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.environment ([1mAbstractRewriteMojo.java:123[m)\r\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.listResults ([1mAbstractRewriteMojo.java:213[m)\r\n    [1mat[m org.openrewrite.maven.AbstractRewriteRunMojo.execute ([1mAbstractRewriteRunMojo.java:53[m)\r\n    [1mat[m org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo ([1mDefaultBuildPluginManager.java:137[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 ([1mMojoExecutor.java:370[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute ([1mMojoExecutor.java:351[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:215[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:171[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:163[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:117[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:81[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build ([1mSingleThreadedBuilder.java:56[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleStarter.execute ([1mLifecycleStarter.java:128[m)\r\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:294[m)\r\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:192[m)\r\n    [1mat[m org.apache.maven.DefaultMaven.execute ([1mDefaultMaven.java:105[m)\r\n    [1mat[m org.apache.maven.cli.MavenCli.execute ([1mMavenCli.java:960[m)\r\n    [1mat[m org.apache.maven.cli.MavenCli.doMain ([1mMavenCli.java:293[m)\r\n    [1mat[m org.apache.maven.cli.MavenCli.main ([1mMavenCli.java:196[m)\r\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 ([1mNative Method[m)\r\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke ([1mNativeMethodAccessorImpl.java:62[m)\r\n    [1mat[m jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke ([1mDelegatingMethodAccessorImpl.java:43[m)\r\n    [1mat[m java.lang.reflect.Method.invoke ([1mMethod.java:566[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced ([1mLauncher.java:282[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launch ([1mLauncher.java:225[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode ([1mLauncher.java:406[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.main ([1mLauncher.java:347[m)\r\n[1mCaused by[m: java.lang.NullPointerException\r\n    [1mat[m org.openrewrite.github.AddCronTrigger.parseExpression ([1mAddCronTrigger.java:71[m)\r\n    [1mat[m org.openrewrite.github.AddCronTrigger.&lt;init&gt; ([1mAddCronTrigger.java:54[m)\r\n    [1mat[m org.openrewrite.github.AddCronTrigger.&lt;init&gt; ([1mAddCronTrigger.java:64[m)\r\n    [1mat[m jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 ([1mNative Method[m)\r\n    [1mat[m jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance ([1mNativeConstructorAccessorImpl.java:62[m)\r\n    [1mat[m jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance ([1mDelegatingConstructorAccessorImpl.java:45[m)\r\n    [1mat[m java.lang.reflect.Constructor.newInstance ([1mConstructor.java:490[m)\r\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.construct ([1mRecipeIntrospectionUtils.java:131[m)\r\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.constructRecipe ([1mRecipeIntrospectionUtils.java:102[m)\r\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.configureRecipes ([1mClasspathScanningLoader.java:165[m)\r\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.scanClasses ([1mClasspathScanningLoader.java:135[m)\r\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.&lt;init&gt; ([1mClasspathScanningLoader.java:60[m)\r\n    [1mat[m org.openrewrite.config.Environment$Builder.scanRuntimeClasspath ([1mEnvironment.java:224[m)\r\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.environment ([1mAbstractRewriteMojo.java:123[m)\r\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.listResults ([1mAbstractRewriteMojo.java:213[m)\r\n    [1mat[m org.openrewrite.maven.AbstractRewriteRunMojo.execute ([1mAbstractRewriteRunMojo.java:53[m)\r\n    [1mat[m org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo ([1mDefaultBuildPluginManager.java:137[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 ([1mMojoExecutor.java:370[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute ([1mMojoExecutor.java:351[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:215[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:171[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:163[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:117[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:81[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build ([1mSingleThreadedBuilder.java:56[m)\r\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleStarter.execute ([1mLifecycleStarter.java:128[m)\r\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:294[m)\r\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:192[m)\r\n    [1mat[m org.apache.maven.DefaultMaven.execute ([1mDefaultMaven.java:105[m)\r\n    [1mat[m org.apache.maven.cli.MavenCli.execute ([1mMavenCli.java:960[m)\r\n    [1mat[m org.apache.maven.cli.MavenCli.doMain ([1mMavenCli.java:293[m)\r\n    [1mat[m org.apache.maven.cli.MavenCli.main ([1mMavenCli.java:196[m)\r\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 ([1mNative Method[m)\r\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke ([1mNativeMethodAccessorImpl.java:62[m)\r\n    [1mat[m jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke ([1mDelegatingMethodAccessorImpl.java:43[m)\r\n    [1mat[m java.lang.reflect.Method.invoke ([1mMethod.java:566[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced ([1mLauncher.java:282[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launch ([1mLauncher.java:225[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode ([1mLauncher.java:406[m)\r\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.main ([1mLauncher.java:347[m)\r\n```\r\n\r\nThis is my pom.xml configuration:\r\n\r\n```\r\n&lt;plugin&gt;\r\n\t\t  &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\r\n\t\t  &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\r\n\t\t  &lt;version&gt;5.3.1&lt;/version&gt;\r\n\t\t  &lt;configuration&gt;\r\n\t\t    &lt;activeRecipes&gt;\r\n\t\t      &lt;recipe&gt;org.openrewrite.java.migrate.UseJavaUtilBase64&lt;/recipe&gt;\r\n\t\t    &lt;/activeRecipes&gt;\r\n\t\t  &lt;/configuration&gt;\r\n\t\t   &lt;dependencies&gt;\r\n          &lt;dependency&gt;\r\n            &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\r\n            &lt;artifactId&gt;rewrite-migrate-java&lt;/artifactId&gt;\r\n            &lt;version&gt;2.0.7&lt;/version&gt;\r\n          &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n\t\t&lt;/plugin&gt;\r\n```","title":"Unable to call primary constructor for Recipe class org.openrewrite.github.AddCronTrigger in org.openrewrite.java.migrate.Java8toJava11","body":"<p>I'm having some trouble trying the &lt;recipe&gt;org.openrewrite.java.migrate.Java8toJava11&lt;/recipe&gt;</p>\n<p>When we execute the maven goal it fails with this error:</p>\n<p>org.openrewrite.config.RecipeIntrospectionException[m: [1;31mUnable to call primary constructor for Recipe class org.openrewrite.github.AddCronTrigger</p>\n<pre><code>[[1;33mWARNING[m] Unable to configure org.openrewrite.github.AddCronTrigger\n[1;31morg.openrewrite.config.RecipeIntrospectionException[m: [1;31mUnable to call primary constructor for Recipe class org.openrewrite.github.AddCronTrigger[m\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.getRecipeIntrospectionException ([1mRecipeIntrospectionUtils.java:140[m)\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.construct ([1mRecipeIntrospectionUtils.java:134[m)\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.constructRecipe ([1mRecipeIntrospectionUtils.java:102[m)\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.configureRecipes ([1mClasspathScanningLoader.java:165[m)\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.scanClasses ([1mClasspathScanningLoader.java:135[m)\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.&lt;init&gt; ([1mClasspathScanningLoader.java:60[m)\n    [1mat[m org.openrewrite.config.Environment$Builder.scanRuntimeClasspath ([1mEnvironment.java:224[m)\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.environment ([1mAbstractRewriteMojo.java:123[m)\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.listResults ([1mAbstractRewriteMojo.java:213[m)\n    [1mat[m org.openrewrite.maven.AbstractRewriteRunMojo.execute ([1mAbstractRewriteRunMojo.java:53[m)\n    [1mat[m org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo ([1mDefaultBuildPluginManager.java:137[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 ([1mMojoExecutor.java:370[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute ([1mMojoExecutor.java:351[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:215[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:171[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:163[m)\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:117[m)\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:81[m)\n    [1mat[m org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build ([1mSingleThreadedBuilder.java:56[m)\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleStarter.execute ([1mLifecycleStarter.java:128[m)\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:294[m)\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:192[m)\n    [1mat[m org.apache.maven.DefaultMaven.execute ([1mDefaultMaven.java:105[m)\n    [1mat[m org.apache.maven.cli.MavenCli.execute ([1mMavenCli.java:960[m)\n    [1mat[m org.apache.maven.cli.MavenCli.doMain ([1mMavenCli.java:293[m)\n    [1mat[m org.apache.maven.cli.MavenCli.main ([1mMavenCli.java:196[m)\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 ([1mNative Method[m)\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke ([1mNativeMethodAccessorImpl.java:62[m)\n    [1mat[m jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke ([1mDelegatingMethodAccessorImpl.java:43[m)\n    [1mat[m java.lang.reflect.Method.invoke ([1mMethod.java:566[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced ([1mLauncher.java:282[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launch ([1mLauncher.java:225[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode ([1mLauncher.java:406[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.main ([1mLauncher.java:347[m)\n[1mCaused by[m: java.lang.reflect.InvocationTargetException\n    [1mat[m jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 ([1mNative Method[m)\n    [1mat[m jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance ([1mNativeConstructorAccessorImpl.java:62[m)\n    [1mat[m jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance ([1mDelegatingConstructorAccessorImpl.java:45[m)\n    [1mat[m java.lang.reflect.Constructor.newInstance ([1mConstructor.java:490[m)\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.construct ([1mRecipeIntrospectionUtils.java:131[m)\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.constructRecipe ([1mRecipeIntrospectionUtils.java:102[m)\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.configureRecipes ([1mClasspathScanningLoader.java:165[m)\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.scanClasses ([1mClasspathScanningLoader.java:135[m)\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.&lt;init&gt; ([1mClasspathScanningLoader.java:60[m)\n    [1mat[m org.openrewrite.config.Environment$Builder.scanRuntimeClasspath ([1mEnvironment.java:224[m)\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.environment ([1mAbstractRewriteMojo.java:123[m)\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.listResults ([1mAbstractRewriteMojo.java:213[m)\n    [1mat[m org.openrewrite.maven.AbstractRewriteRunMojo.execute ([1mAbstractRewriteRunMojo.java:53[m)\n    [1mat[m org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo ([1mDefaultBuildPluginManager.java:137[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 ([1mMojoExecutor.java:370[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute ([1mMojoExecutor.java:351[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:215[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:171[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:163[m)\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:117[m)\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:81[m)\n    [1mat[m org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build ([1mSingleThreadedBuilder.java:56[m)\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleStarter.execute ([1mLifecycleStarter.java:128[m)\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:294[m)\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:192[m)\n    [1mat[m org.apache.maven.DefaultMaven.execute ([1mDefaultMaven.java:105[m)\n    [1mat[m org.apache.maven.cli.MavenCli.execute ([1mMavenCli.java:960[m)\n    [1mat[m org.apache.maven.cli.MavenCli.doMain ([1mMavenCli.java:293[m)\n    [1mat[m org.apache.maven.cli.MavenCli.main ([1mMavenCli.java:196[m)\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 ([1mNative Method[m)\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke ([1mNativeMethodAccessorImpl.java:62[m)\n    [1mat[m jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke ([1mDelegatingMethodAccessorImpl.java:43[m)\n    [1mat[m java.lang.reflect.Method.invoke ([1mMethod.java:566[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced ([1mLauncher.java:282[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launch ([1mLauncher.java:225[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode ([1mLauncher.java:406[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.main ([1mLauncher.java:347[m)\n[1mCaused by[m: java.lang.NullPointerException\n    [1mat[m org.openrewrite.github.AddCronTrigger.parseExpression ([1mAddCronTrigger.java:71[m)\n    [1mat[m org.openrewrite.github.AddCronTrigger.&lt;init&gt; ([1mAddCronTrigger.java:54[m)\n    [1mat[m org.openrewrite.github.AddCronTrigger.&lt;init&gt; ([1mAddCronTrigger.java:64[m)\n    [1mat[m jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0 ([1mNative Method[m)\n    [1mat[m jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance ([1mNativeConstructorAccessorImpl.java:62[m)\n    [1mat[m jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance ([1mDelegatingConstructorAccessorImpl.java:45[m)\n    [1mat[m java.lang.reflect.Constructor.newInstance ([1mConstructor.java:490[m)\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.construct ([1mRecipeIntrospectionUtils.java:131[m)\n    [1mat[m org.openrewrite.internal.RecipeIntrospectionUtils.constructRecipe ([1mRecipeIntrospectionUtils.java:102[m)\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.configureRecipes ([1mClasspathScanningLoader.java:165[m)\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.scanClasses ([1mClasspathScanningLoader.java:135[m)\n    [1mat[m org.openrewrite.config.ClasspathScanningLoader.&lt;init&gt; ([1mClasspathScanningLoader.java:60[m)\n    [1mat[m org.openrewrite.config.Environment$Builder.scanRuntimeClasspath ([1mEnvironment.java:224[m)\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.environment ([1mAbstractRewriteMojo.java:123[m)\n    [1mat[m org.openrewrite.maven.AbstractRewriteMojo.listResults ([1mAbstractRewriteMojo.java:213[m)\n    [1mat[m org.openrewrite.maven.AbstractRewriteRunMojo.execute ([1mAbstractRewriteRunMojo.java:53[m)\n    [1mat[m org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo ([1mDefaultBuildPluginManager.java:137[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute2 ([1mMojoExecutor.java:370[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.doExecute ([1mMojoExecutor.java:351[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:215[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:171[m)\n    [1mat[m org.apache.maven.lifecycle.internal.MojoExecutor.execute ([1mMojoExecutor.java:163[m)\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:117[m)\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject ([1mLifecycleModuleBuilder.java:81[m)\n    [1mat[m org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build ([1mSingleThreadedBuilder.java:56[m)\n    [1mat[m org.apache.maven.lifecycle.internal.LifecycleStarter.execute ([1mLifecycleStarter.java:128[m)\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:294[m)\n    [1mat[m org.apache.maven.DefaultMaven.doExecute ([1mDefaultMaven.java:192[m)\n    [1mat[m org.apache.maven.DefaultMaven.execute ([1mDefaultMaven.java:105[m)\n    [1mat[m org.apache.maven.cli.MavenCli.execute ([1mMavenCli.java:960[m)\n    [1mat[m org.apache.maven.cli.MavenCli.doMain ([1mMavenCli.java:293[m)\n    [1mat[m org.apache.maven.cli.MavenCli.main ([1mMavenCli.java:196[m)\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke0 ([1mNative Method[m)\n    [1mat[m jdk.internal.reflect.NativeMethodAccessorImpl.invoke ([1mNativeMethodAccessorImpl.java:62[m)\n    [1mat[m jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke ([1mDelegatingMethodAccessorImpl.java:43[m)\n    [1mat[m java.lang.reflect.Method.invoke ([1mMethod.java:566[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced ([1mLauncher.java:282[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.launch ([1mLauncher.java:225[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode ([1mLauncher.java:406[m)\n    [1mat[m org.codehaus.plexus.classworlds.launcher.Launcher.main ([1mLauncher.java:347[m)\n</code></pre>\n<p>This is my pom.xml configuration:</p>\n<pre><code>&lt;plugin&gt;\n          &lt;groupId&gt;org.openrewrite.maven&lt;/groupId&gt;\n          &lt;artifactId&gt;rewrite-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;5.3.1&lt;/version&gt;\n          &lt;configuration&gt;\n            &lt;activeRecipes&gt;\n              &lt;recipe&gt;org.openrewrite.java.migrate.UseJavaUtilBase64&lt;/recipe&gt;\n            &lt;/activeRecipes&gt;\n          &lt;/configuration&gt;\n           &lt;dependencies&gt;\n          &lt;dependency&gt;\n            &lt;groupId&gt;org.openrewrite.recipe&lt;/groupId&gt;\n            &lt;artifactId&gt;rewrite-migrate-java&lt;/artifactId&gt;\n            &lt;version&gt;2.0.7&lt;/version&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n        &lt;/plugin&gt;\n</code></pre>\n"},{"tags":["java","spring","database","algorithm"],"comments":[{"owner":{"account_id":7893671,"reputation":618,"user_id":5963060,"display_name":"AidH"},"score":0,"creation_date":1689669925,"post_id":76710924,"comment_id":135242876,"body_markdown":"Is the ID of the path stored in the DB, or do you generate IDs on the fly? Or more directly, what is supposed to happen if the node E gets removed together with F and G, do you still expect to get the same ID for the third and the fourth path in your example?","body":"Is the ID of the path stored in the DB, or do you generate IDs on the fly? Or more directly, what is supposed to happen if the node E gets removed together with F and G, do you still expect to get the same ID for the third and the fourth path in your example?"},{"owner":{"account_id":2443152,"reputation":384,"user_id":2131117,"display_name":"flywell"},"score":0,"creation_date":1689670630,"post_id":76710924,"comment_id":135243064,"body_markdown":"*Is the ID of the path stored in the DB*, it depends on the solution, but I prefere the second one (on the fly). If any node gets removed/added a new id is generated. I need only to keep the same id for the same path.","body":"<i>Is the ID of the path stored in the DB</i>, it depends on the solution, but I prefere the second one (on the fly). If any node gets removed/added a new id is generated. I need only to keep the same id for the same path."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1689674302,"creation_date":1689674302,"answer_id":76711598,"question_id":76710924,"body_markdown":"## Fundamental informatics preamble\r\n\r\nWe immediately have a bit of a pigeonhole principle issue here. Presumably you&#39;re thinking about a specific format for these IDs (perhaps, an `int`). Some formats (`int`, `long`, `double`, and fixed-width `String`, for example) have a delimited set of values - for example, `int` has 4 billion values but no more than that: From -2^31 up to +2^31. Whilst 4 billion is a lot, your tree structure has an _infinite_ space (that means: Any particular tree structure could have any of an infinite amount of nodes in it. Not that all trees are infinitely large), and therefore, in theory what you want is therefore __impossible__ - you can&#39;t map an infinite universe onto a finite one; not without overlap / error.\r\n\r\nIn practice, the same principle applies to UUIDs (128-bit, so, finite universe), which is used by all sorts of unrelated parties for infinite universes. And yet, UUIDs are fine; nobody is complaining about errors or collisions. The saving grace is pragmatics: The odds that 2 computers both rolling up a random 128-bit value ending up at the same value are many, _many_ orders of magnitude smaller than errant cosmic rays causing bit flips in your memory banks and cuasing problems that way; it&#39;s just not going to happen / so unlikely, you should be worrying about other things. Even with __all the world__ rolling up UUIDs __all the time__, no colissions.\r\n\r\nStill, it&#39;s an important distinction here: Do you want your IDs to theoretically be able to cover even infinite trees (which implies more or less that a list of IDs is all you need to completely reconstitute the entire tree, after all, if there is a unique mapping for any imaginable tree node to an ID, then therefore I can &#39;map back&#39; any ID back to the exact tree node, without having the tree). This is all a lot of highly fundamental informatic wonkery to push you towards a conclusion that you might initially find distasteful:\r\n\r\n__The best answer is highly likely to involve a hashing algorithm that cannot actually guarantee uniqueness; but for all practical purposes, is unique__.\r\n\r\nThe above wonkery is just highlighting that any attempt to go: &quot;Well, if you _just_....&quot; to get around that restriction, is merely indicative of a lack of understanding of just (heh) how much difficult is hiding behind &quot;just&quot; in that sentence.\r\n\r\n## Mapping tree paths to IDs\r\n\r\nThis gets us to the right answer (or, rather, if this isn&#39;t right, what you do want is either incredibly complicated unless tree paths have serious limitations, such as &#39;never has a depth more than 4 and each node can be described by a single uppercase ASCII letter&#39; - in which case you need to ask a new question and add these limits to it):\r\n\r\nYou first describe the path in a unique fashion. If path nodes are literally &#39;strings&#39;, you can for example simply concatenate these strings with slashes in between, i.e. turn what you have in your snippet is `ID=100` as the string `&quot;/A/B/C&quot;`.\r\n\r\nThen, _hash_ that string. You could use java&#39;s string hasher (just `&quot;/A/B/C&quot;.hashCode()`), which produces 32-bit output. Alternatively, use a hash algorithm that is somewhat more robust, such as SHA-256. This produces (hence the name) 256-bit output which is rather large (encoding that using Base64, you end up with 43-length string). If you want it smaller, just XOR bit ranges on top of each other, e.g. if you want 128-bit output just XOR the top 128 bit onto the bottom 128 bit. Base64-ing that, you end up with 12 characters. If you want IDs to be numeric - easiest answer is to apply this &#39;XOR on top of each other&#39; one more time, to end up with 64 bits, which fits in a `long`.\r\n\r\nIt __does not__ guarantee uniqueness. However, in practice, it will be, unless someone is messing with you and intentionally picking strings that are known to collide. If you want to fight this somewhat, it can help to hash in some additional static data, such as the path depth (i.e. hash up `&quot;/1A/2B/3C&quot;`).\r\n\r\nThis looks something like:\r\n\r\n```\r\npublic long pathToId(List&lt;Node&gt; nodesInPath) {\r\n  Charset charset = StandardCharsets.UTF_8;\r\n  MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\r\n  for (int i = 0; i &lt; nodesInPath.size(); i++) {\r\n    digest.update((byte) &#39;/&#39;);\r\n    digest.update((byte) i);\r\n    digest.update(nodesInPath.get(i).getName().getBytes(charset));\r\n  }\r\n  byte[] h = digest.digest();\r\n  long out = 0;\r\n  // hash all bytes into the first 8 (longs are 8 bytes)\r\n  for (int i = 8; i &lt; h.length; i++) h[i % 8] ^= h[i];\r\n  return ByteBuffer.wrap(h).getLong();\r\n}\r\n```\r\n\r\nNote, of course, that the preamble cuts both ways: By hashing, you make the job of going from a hash value (an ID) back to the indicated tree path difficult - essentially you have to calculate all IDs first. Whichever tree path has the same ID - that&#39;s the path they meant with that ID. Presumably that&#39;s what you wanted.\r\n\r\n## I want perfect mapping\r\n\r\nOkay, just, shove slashes in between. Voila. Your path with id 100 should turn into the ID `&quot;/A/B/C&quot;`. Yes, this means the entire path data is in the &#39;ID&#39; and the ID can theoretically be infinitely large. Certainly they aren&#39;t compact. But, if you don&#39;t like it - reread the Fundamental informatics preamble which __proves__ you can&#39;t have perfect mapping to short IDs.\r\n","title":"Unique Id for a collection of objects","body":"<h2>Fundamental informatics preamble</h2>\n<p>We immediately have a bit of a pigeonhole principle issue here. Presumably you're thinking about a specific format for these IDs (perhaps, an <code>int</code>). Some formats (<code>int</code>, <code>long</code>, <code>double</code>, and fixed-width <code>String</code>, for example) have a delimited set of values - for example, <code>int</code> has 4 billion values but no more than that: From -2^31 up to +2^31. Whilst 4 billion is a lot, your tree structure has an <em>infinite</em> space (that means: Any particular tree structure could have any of an infinite amount of nodes in it. Not that all trees are infinitely large), and therefore, in theory what you want is therefore <strong>impossible</strong> - you can't map an infinite universe onto a finite one; not without overlap / error.</p>\n<p>In practice, the same principle applies to UUIDs (128-bit, so, finite universe), which is used by all sorts of unrelated parties for infinite universes. And yet, UUIDs are fine; nobody is complaining about errors or collisions. The saving grace is pragmatics: The odds that 2 computers both rolling up a random 128-bit value ending up at the same value are many, <em>many</em> orders of magnitude smaller than errant cosmic rays causing bit flips in your memory banks and cuasing problems that way; it's just not going to happen / so unlikely, you should be worrying about other things. Even with <strong>all the world</strong> rolling up UUIDs <strong>all the time</strong>, no colissions.</p>\n<p>Still, it's an important distinction here: Do you want your IDs to theoretically be able to cover even infinite trees (which implies more or less that a list of IDs is all you need to completely reconstitute the entire tree, after all, if there is a unique mapping for any imaginable tree node to an ID, then therefore I can 'map back' any ID back to the exact tree node, without having the tree). This is all a lot of highly fundamental informatic wonkery to push you towards a conclusion that you might initially find distasteful:</p>\n<p><strong>The best answer is highly likely to involve a hashing algorithm that cannot actually guarantee uniqueness; but for all practical purposes, is unique</strong>.</p>\n<p>The above wonkery is just highlighting that any attempt to go: &quot;Well, if you <em>just</em>....&quot; to get around that restriction, is merely indicative of a lack of understanding of just (heh) how much difficult is hiding behind &quot;just&quot; in that sentence.</p>\n<h2>Mapping tree paths to IDs</h2>\n<p>This gets us to the right answer (or, rather, if this isn't right, what you do want is either incredibly complicated unless tree paths have serious limitations, such as 'never has a depth more than 4 and each node can be described by a single uppercase ASCII letter' - in which case you need to ask a new question and add these limits to it):</p>\n<p>You first describe the path in a unique fashion. If path nodes are literally 'strings', you can for example simply concatenate these strings with slashes in between, i.e. turn what you have in your snippet is <code>ID=100</code> as the string <code>&quot;/A/B/C&quot;</code>.</p>\n<p>Then, <em>hash</em> that string. You could use java's string hasher (just <code>&quot;/A/B/C&quot;.hashCode()</code>), which produces 32-bit output. Alternatively, use a hash algorithm that is somewhat more robust, such as SHA-256. This produces (hence the name) 256-bit output which is rather large (encoding that using Base64, you end up with 43-length string). If you want it smaller, just XOR bit ranges on top of each other, e.g. if you want 128-bit output just XOR the top 128 bit onto the bottom 128 bit. Base64-ing that, you end up with 12 characters. If you want IDs to be numeric - easiest answer is to apply this 'XOR on top of each other' one more time, to end up with 64 bits, which fits in a <code>long</code>.</p>\n<p>It <strong>does not</strong> guarantee uniqueness. However, in practice, it will be, unless someone is messing with you and intentionally picking strings that are known to collide. If you want to fight this somewhat, it can help to hash in some additional static data, such as the path depth (i.e. hash up <code>&quot;/1A/2B/3C&quot;</code>).</p>\n<p>This looks something like:</p>\n<pre><code>public long pathToId(List&lt;Node&gt; nodesInPath) {\n  Charset charset = StandardCharsets.UTF_8;\n  MessageDigest digest = MessageDigest.getInstance(&quot;SHA-256&quot;);\n  for (int i = 0; i &lt; nodesInPath.size(); i++) {\n    digest.update((byte) '/');\n    digest.update((byte) i);\n    digest.update(nodesInPath.get(i).getName().getBytes(charset));\n  }\n  byte[] h = digest.digest();\n  long out = 0;\n  // hash all bytes into the first 8 (longs are 8 bytes)\n  for (int i = 8; i &lt; h.length; i++) h[i % 8] ^= h[i];\n  return ByteBuffer.wrap(h).getLong();\n}\n</code></pre>\n<p>Note, of course, that the preamble cuts both ways: By hashing, you make the job of going from a hash value (an ID) back to the indicated tree path difficult - essentially you have to calculate all IDs first. Whichever tree path has the same ID - that's the path they meant with that ID. Presumably that's what you wanted.</p>\n<h2>I want perfect mapping</h2>\n<p>Okay, just, shove slashes in between. Voila. Your path with id 100 should turn into the ID <code>&quot;/A/B/C&quot;</code>. Yes, this means the entire path data is in the 'ID' and the ID can theoretically be infinitely large. Certainly they aren't compact. But, if you don't like it - reread the Fundamental informatics preamble which <strong>proves</strong> you can't have perfect mapping to short IDs.</p>\n"},{"tags":[],"owner":{"account_id":166382,"reputation":2080,"user_id":390462,"display_name":"BendaThierry.com"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1689675301,"creation_date":1689675301,"answer_id":76711727,"question_id":76710924,"body_markdown":"Why not using a UUID attached on each node to build your path ?\r\nToo much long, really ?\r\n\r\nWhy not using a randomly unique generated string then, lets say using between 5-10 characters ?\r\n\r\nAn unique path could be build from each node randomly generated string :\r\n\r\n`path : &quot;/&quot;+node1.rsg1+&quot;/&quot;+node2.rsg2+&quot;/&quot;+node3.rsg3 // rsg: randomly generated string` \r\n\r\nFor a tree of only 3 levels, I don&#39;t think your use case as a blocking stuff.\r\n","title":"Unique Id for a collection of objects","body":"<p>Why not using a UUID attached on each node to build your path ?\nToo much long, really ?</p>\n<p>Why not using a randomly unique generated string then, lets say using between 5-10 characters ?</p>\n<p>An unique path could be build from each node randomly generated string :</p>\n<p><code>path : &quot;/&quot;+node1.rsg1+&quot;/&quot;+node2.rsg2+&quot;/&quot;+node3.rsg3 // rsg: randomly generated string</code></p>\n<p>For a tree of only 3 levels, I don't think your use case as a blocking stuff.</p>\n"}],"owner":{"account_id":2443152,"reputation":384,"user_id":2131117,"display_name":"flywell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":76711598,"answer_count":2,"score":2,"last_activity_date":1689763066,"creation_date":1689669493,"question_id":76710924,"body_markdown":"Imagine that I have a tree of three levels\r\n\r\n```\r\n    |-&gt;B-&gt;C\r\nA--&gt;|  |-&gt;D\r\n    |-------&gt;E-&gt;F\r\n             |-&gt;G\r\n```\r\n\r\nThen, I have another process (`TreeToPathProcess`) that calculates/generates me 4 paths from the root to the leaves : \r\n\r\n```\r\nA-&gt;B-&gt;C\r\nA-&gt;B-&gt;D\r\nA-&gt;E-&gt;F\r\nA-&gt;E-&gt;G\r\n```\r\n\r\nNow, I am exposing an endpoint where my clients ask for an id for each path (too complicated to explain the whole requirement). I have to be able to associate an Id to each path, and always the same id for the same path.\r\n\r\nExemple :  \r\n\r\nThe first time I run `TreeToPathProcess` it generates me the following :\r\n\r\n    ID=100, path=A-&gt;B-&gt;C\r\n    ID=101, path=A-&gt;B-&gt;D\r\n    ID=102, path=A-&gt;E-&gt;F\r\n    ID=103, path=A-&gt;E-&gt;G\r\n\r\nNext time I run the same process, I need to get the same result as precedent.\r\n\r\nIs that possible ? \r\n\r\nHave you any idea that helps me to solve this issue ?\r\n\r\n**Just to clarify, in my real paths I get many hundred of elements.**","title":"Unique Id for a collection of objects","body":"<p>Imagine that I have a tree of three levels</p>\n<pre><code>    |-&gt;B-&gt;C\nA--&gt;|  |-&gt;D\n    |-------&gt;E-&gt;F\n             |-&gt;G\n</code></pre>\n<p>Then, I have another process (<code>TreeToPathProcess</code>) that calculates/generates me 4 paths from the root to the leaves :</p>\n<pre><code>A-&gt;B-&gt;C\nA-&gt;B-&gt;D\nA-&gt;E-&gt;F\nA-&gt;E-&gt;G\n</code></pre>\n<p>Now, I am exposing an endpoint where my clients ask for an id for each path (too complicated to explain the whole requirement). I have to be able to associate an Id to each path, and always the same id for the same path.</p>\n<p>Exemple :</p>\n<p>The first time I run <code>TreeToPathProcess</code> it generates me the following :</p>\n<pre><code>ID=100, path=A-&gt;B-&gt;C\nID=101, path=A-&gt;B-&gt;D\nID=102, path=A-&gt;E-&gt;F\nID=103, path=A-&gt;E-&gt;G\n</code></pre>\n<p>Next time I run the same process, I need to get the same result as precedent.</p>\n<p>Is that possible ?</p>\n<p>Have you any idea that helps me to solve this issue ?</p>\n<p><strong>Just to clarify, in my real paths I get many hundred of elements.</strong></p>\n"},{"tags":["java","unit-testing","serialization","apache-kafka","avro"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1689606320,"post_id":76703402,"comment_id":135233692,"body_markdown":"I suggest removing Kafka from your test path to further debug the issue since you only need to test serialization, not the consumer","body":"I suggest removing Kafka from your test path to further debug the issue since you only need to test serialization, not the consumer"}],"answers":[{"tags":[],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689762674,"creation_date":1689762674,"answer_id":76720332,"question_id":76703402,"body_markdown":"Finally adding \r\n\r\n    GenericData.get().addLogicalTypeConversion(new Conversions.DecimalConversion());\r\n\r\nbefore calling read() method\r\n\r\n    final Event event = eventReader.read(\r\n        null,\r\n        DecoderFactory.get().binaryDecoder(eventMessage.value(), null)\r\n    );\r\n\r\nfixed the problem.\r\n\r\n","title":"Avro - Unable to serialize payload org.apache.avro.AvroRuntimeException: Unknown datum type java.math.BigDecimal: 8.32","body":"<p>Finally adding</p>\n<pre><code>GenericData.get().addLogicalTypeConversion(new Conversions.DecimalConversion());\n</code></pre>\n<p>before calling read() method</p>\n<pre><code>final Event event = eventReader.read(\n    null,\n    DecoderFactory.get().binaryDecoder(eventMessage.value(), null)\n);\n</code></pre>\n<p>fixed the problem.</p>\n"}],"owner":{"account_id":25495717,"reputation":35,"user_id":19289816,"display_name":"ChlnooL"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":234,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76720332,"answer_count":1,"score":0,"last_activity_date":1689762746,"creation_date":1689588474,"question_id":76703402,"body_markdown":"I&#39;m writing unit test to one of the method which is sending event to kafka.\r\n\r\nIn avro schema I have defined filed \r\n\r\n    union { decimal(10, 2), null } cost\r\n\r\nwhich is represented in Java as BigDecimal.\r\n\r\nIn the unit test I&#39;m using DatumReader for reading if event was correctly sent to topic.\r\n\r\n        private final DatumReader&lt;Event&gt; eventReader = new SpecificDatumReader&lt;&gt;(Event.class);\r\n\r\n        //reading message from topic\r\n        final ConsumerRecord&lt;String, byte[]&gt; eventMessage = KafkaTestUtils.getSingleRecord(\r\n            kafkaConsumer, eventTopic, ofSeconds(10).toMillis()\r\n        );\r\n        final Event event = eventReader.read(\r\n            null,\r\n            DecoderFactory.get().binaryDecoder(eventMessage.value(), null)\r\n        );\r\n\r\n And finally I&#39;m receiving an error \r\n\r\n&gt; Unable to serialize payload \r\norg.apache.avro.AvroRuntimeException: Unknown datum type java.math.BigDecimal: 8.32\r\n\r\nIs anyone know how to fix it?","title":"Avro - Unable to serialize payload org.apache.avro.AvroRuntimeException: Unknown datum type java.math.BigDecimal: 8.32","body":"<p>I'm writing unit test to one of the method which is sending event to kafka.</p>\n<p>In avro schema I have defined filed</p>\n<pre><code>union { decimal(10, 2), null } cost\n</code></pre>\n<p>which is represented in Java as BigDecimal.</p>\n<p>In the unit test I'm using DatumReader for reading if event was correctly sent to topic.</p>\n<pre><code>    private final DatumReader&lt;Event&gt; eventReader = new SpecificDatumReader&lt;&gt;(Event.class);\n\n    //reading message from topic\n    final ConsumerRecord&lt;String, byte[]&gt; eventMessage = KafkaTestUtils.getSingleRecord(\n        kafkaConsumer, eventTopic, ofSeconds(10).toMillis()\n    );\n    final Event event = eventReader.read(\n        null,\n        DecoderFactory.get().binaryDecoder(eventMessage.value(), null)\n    );\n</code></pre>\n<p>And finally I'm receiving an error</p>\n<blockquote>\n<p>Unable to serialize payload\norg.apache.avro.AvroRuntimeException: Unknown datum type java.math.BigDecimal: 8.32</p>\n</blockquote>\n<p>Is anyone know how to fix it?</p>\n"},{"tags":["java","mqtt"],"answers":[{"tags":[],"owner":{"account_id":15019729,"reputation":11,"user_id":10841536,"display_name":"Nicolae Mihalache"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689762634,"creation_date":1689762634,"answer_id":76720328,"question_id":76635290,"body_markdown":"Yamcs developer here. A colleague discovered your question by accident. I think it is better to post it directly on the github Yamcs discussions page\r\nhttps://github.com/yamcs/yamcs/discussions\r\n\r\nThe method you tried should be correct; if you post the config file and the error message, we may be able to see why it does not work.\r\n","title":"How do i setup a datalink over a MQTT channel in Yamcs","body":"<p>Yamcs developer here. A colleague discovered your question by accident. I think it is better to post it directly on the github Yamcs discussions page\n<a href=\"https://github.com/yamcs/yamcs/discussions\" rel=\"nofollow noreferrer\">https://github.com/yamcs/yamcs/discussions</a></p>\n<p>The method you tried should be correct; if you post the config file and the error message, we may be able to see why it does not work.</p>\n"}],"owner":{"account_id":15673810,"reputation":36,"user_id":11309534,"display_name":"Shresthdeep Gupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689762634,"creation_date":1688719227,"question_id":76635290,"body_markdown":"I&#39;m trying to build a Mission Control Tool using Yamcs framework. For the first step, I want to connect the basic Yamcs server to a MQTT server for sending and receiving data. Yamcs offers a datalink interface for connecting to outside the system over a network. I&#39;m using this interface to build my implementation for MQTT connection inside Yamcs. The issue is that how do I direct Yamcs to look at my implementation instead the default one (That connect over UDP). Documentation states that I have to change the YAML file in configuration for this, but that doesn&#39;t work either. Has anyone worked with Yamcs previously, can help me ?\r\n\r\nI tried changing the class path in YAML file under datalinks to my implementation class. But it still throws error regarding configuration validation ","title":"How do i setup a datalink over a MQTT channel in Yamcs","body":"<p>I'm trying to build a Mission Control Tool using Yamcs framework. For the first step, I want to connect the basic Yamcs server to a MQTT server for sending and receiving data. Yamcs offers a datalink interface for connecting to outside the system over a network. I'm using this interface to build my implementation for MQTT connection inside Yamcs. The issue is that how do I direct Yamcs to look at my implementation instead the default one (That connect over UDP). Documentation states that I have to change the YAML file in configuration for this, but that doesn't work either. Has anyone worked with Yamcs previously, can help me ?</p>\n<p>I tried changing the class path in YAML file under datalinks to my implementation class. But it still throws error regarding configuration validation</p>\n"},{"tags":["java","exception","serialization","microstream"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1689664028,"post_id":76706775,"comment_id":135241619,"body_markdown":"Why does `ObjectToSerialize ` contain a `Throwable` in the first place?","body":"Why does <code>ObjectToSerialize </code> contain a <code>Throwable</code> in the first place?"}],"answers":[{"tags":[],"owner":{"account_id":24946464,"reputation":11,"user_id":18811735,"display_name":"adorjann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1689761955,"creation_date":1689659628,"answer_id":76709840,"question_id":76706775,"body_markdown":"Serializing an object containing a field of type Throwable using Java serialization with Serializable interface is doable. MicroStream [claims][1] to &quot;Serialize any object&quot; but MicroStream doesn&#39;t yet support serialization of Throwable and derived types, this is an important information that should be noted. \r\nAnswered Here: https://github.com/microstream-one/microstream/issues/613\r\n\r\n\r\n  [1]: https://microstream.one/products/serializer/","title":"Java MicroStream Serialization, Type not persistable: &quot;class java.lang.Throwable&quot;","body":"<p>Serializing an object containing a field of type Throwable using Java serialization with Serializable interface is doable. MicroStream <a href=\"https://microstream.one/products/serializer/\" rel=\"nofollow noreferrer\">claims</a> to &quot;Serialize any object&quot; but MicroStream doesn't yet support serialization of Throwable and derived types, this is an important information that should be noted.\nAnswered Here: <a href=\"https://github.com/microstream-one/microstream/issues/613\" rel=\"nofollow noreferrer\">https://github.com/microstream-one/microstream/issues/613</a></p>\n"}],"owner":{"account_id":24946464,"reputation":11,"user_id":18811735,"display_name":"adorjann"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76709840,"answer_count":1,"score":0,"last_activity_date":1689761955,"creation_date":1689614557,"question_id":76706775,"body_markdown":"When serializing an object containing a field of type Throwable I get \r\n```\r\none.microstream.persistence.exceptions.PersistenceExceptionTypeNotPersistable: Type not persistable: &quot;class java.lang.Throwable&quot;.\r\n```\r\n\r\nUsing the Serializer or TypedSerializer like this:\r\n\r\n\r\n\r\n```\r\nclass ObjectToSerialize {\r\n    Throwable throwable;\r\n}\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n\r\n        ObjectToSerialize objectToSerialize = new ObjectToSerialize();\r\n\r\n        final SerializerFoundation&lt;?&gt; foundation = SerializerFoundation.New()\r\n                .registerEntityTypes(ObjectToSerialize.class);\r\n        final Serializer&lt;byte[]&gt; serializer = TypedSerializer.Bytes(foundation);\r\n        byte[] data = serializer.serialize(objectToSerialize);\r\n\r\n        ObjectToSerialize restored = serializer.deserialize(data);\r\n\r\n    }\r\n}\r\n```\r\n\r\nThe result I get is this: \r\n\r\n```\r\nException in thread &quot;main&quot; one.microstream.persistence.exceptions.PersistenceExceptionTypeNotPersistable: Type not persistable: &quot;class java.lang.Throwable&quot;.\r\n\tat one.microstream.persistence.binary.internal.BinaryHandlerUnpersistable.guaranteeSubTypeInstanceViablity(BinaryHandlerUnpersistable.java:98)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.lambda$recursiveEnsureTypeHandlers$0(PersistenceTypeHandlerManager.java:278)\r\n\tat one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.iterateMemberTypes(AbstractBinaryHandlerReflective.java:591)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.recursiveEnsureTypeHandlers(PersistenceTypeHandlerManager.java:271)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.registerTypeHandler(PersistenceTypeHandlerManager.java:639)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.internalEnsureTypeHandler(PersistenceTypeHandlerManager.java:616)\r\n\tat one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:384)\r\n\tat java.base/java.lang.Iterable.forEach(Iterable.java:75)\r\n\tat one.microstream.persistence.binary.util.SerializerFoundation$Default.createPersistenceManager(SerializerFoundation.java:211)\r\n\tat one.microstream.persistence.binary.util.TypedSerializer$Default.initialize(TypedSerializer.java:372)\r\n\tat one.microstream.persistence.binary.util.TypedSerializer$Default.&lt;init&gt;(TypedSerializer.java:262)\r\n\tat one.microstream.persistence.binary.util.TypedSerializer.New(TypedSerializer.java:145)\r\n\tat one.microstream.persistence.binary.util.TypedSerializer.Bytes(TypedSerializer.java:117)\r\n\tat com.testing.Main.main(Main.java:19)\r\n```\r\nI have seen [this](https://stackoverflow.com/questions/63253772/java-microstream-immutablepair-causing-persistenceexceptiontypenotpersistable) but in my case I need to do serialization not storing, maybe I&#39;m wrong? \r\n\r\nHow do I serialize an object containing Throwable? If you can please point me to documentation or an example explaining how to do this. \r\nMany Thanks!\r\n","title":"Java MicroStream Serialization, Type not persistable: &quot;class java.lang.Throwable&quot;","body":"<p>When serializing an object containing a field of type Throwable I get</p>\n<pre><code>one.microstream.persistence.exceptions.PersistenceExceptionTypeNotPersistable: Type not persistable: &quot;class java.lang.Throwable&quot;.\n</code></pre>\n<p>Using the Serializer or TypedSerializer like this:</p>\n<pre><code>class ObjectToSerialize {\n    Throwable throwable;\n}\n\npublic class Main {\n\n    public static void main(String[] args) {\n\n        ObjectToSerialize objectToSerialize = new ObjectToSerialize();\n\n        final SerializerFoundation&lt;?&gt; foundation = SerializerFoundation.New()\n                .registerEntityTypes(ObjectToSerialize.class);\n        final Serializer&lt;byte[]&gt; serializer = TypedSerializer.Bytes(foundation);\n        byte[] data = serializer.serialize(objectToSerialize);\n\n        ObjectToSerialize restored = serializer.deserialize(data);\n\n    }\n}\n</code></pre>\n<p>The result I get is this:</p>\n<pre><code>Exception in thread &quot;main&quot; one.microstream.persistence.exceptions.PersistenceExceptionTypeNotPersistable: Type not persistable: &quot;class java.lang.Throwable&quot;.\n    at one.microstream.persistence.binary.internal.BinaryHandlerUnpersistable.guaranteeSubTypeInstanceViablity(BinaryHandlerUnpersistable.java:98)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.lambda$recursiveEnsureTypeHandlers$0(PersistenceTypeHandlerManager.java:278)\n    at one.microstream.persistence.binary.internal.AbstractBinaryHandlerReflective.iterateMemberTypes(AbstractBinaryHandlerReflective.java:591)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.recursiveEnsureTypeHandlers(PersistenceTypeHandlerManager.java:271)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.registerTypeHandler(PersistenceTypeHandlerManager.java:639)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.internalEnsureTypeHandler(PersistenceTypeHandlerManager.java:616)\n    at one.microstream.persistence.types.PersistenceTypeHandlerManager$Default.ensureTypeHandler(PersistenceTypeHandlerManager.java:384)\n    at java.base/java.lang.Iterable.forEach(Iterable.java:75)\n    at one.microstream.persistence.binary.util.SerializerFoundation$Default.createPersistenceManager(SerializerFoundation.java:211)\n    at one.microstream.persistence.binary.util.TypedSerializer$Default.initialize(TypedSerializer.java:372)\n    at one.microstream.persistence.binary.util.TypedSerializer$Default.&lt;init&gt;(TypedSerializer.java:262)\n    at one.microstream.persistence.binary.util.TypedSerializer.New(TypedSerializer.java:145)\n    at one.microstream.persistence.binary.util.TypedSerializer.Bytes(TypedSerializer.java:117)\n    at com.testing.Main.main(Main.java:19)\n</code></pre>\n<p>I have seen <a href=\"https://stackoverflow.com/questions/63253772/java-microstream-immutablepair-causing-persistenceexceptiontypenotpersistable\">this</a> but in my case I need to do serialization not storing, maybe I'm wrong?</p>\n<p>How do I serialize an object containing Throwable? If you can please point me to documentation or an example explaining how to do this.\nMany Thanks!</p>\n"},{"tags":["java","conditional-statements","compare","character"],"comments":[{"owner":{"account_id":6017640,"reputation":8919,"user_id":4725875,"display_name":"DevilsHnd - 退した"},"score":0,"creation_date":1689768897,"post_id":76720042,"comment_id":135259548,"body_markdown":"`int spChars = answer.replaceAll(&quot;[^!@#$%^&amp;*()_+]&quot;, &quot;&quot;).length(); if (spChars != 0) { System.out.println(&quot;Has &quot; + spChars + &quot; Special Characters!&quot;); }`","body":"<code>int spChars = answer.replaceAll(&quot;[^!@#$%^&amp;*()_+]&quot;, &quot;&quot;).length(); if (spChars != 0) { System.out.println(&quot;Has &quot; + spChars + &quot; Special Characters!&quot;); }</code>"}],"answers":[{"tags":[],"owner":{"account_id":28880011,"reputation":69,"user_id":22119677,"display_name":"Jan Rezzonico"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689760995,"creation_date":1689760995,"answer_id":76720126,"question_id":76720042,"body_markdown":"You can use regular expressions:\r\n```java\r\nString regex = &quot;.*[!@#$%^&amp;*()_+].*&quot;;\r\nif (answer.matches(regex)) {\r\n    arrayList2.add(answer);\r\n    System.out.println(&quot;with special numbers&quot; + arrayList2);\r\n} else {\r\n    arrayList1.add(answer);\r\n    System.out.println(&quot;without SP&quot; + password);\r\n}\r\n````","title":"Checking if string contains unusual characters using &quot;.contain&quot;","body":"<p>You can use regular expressions:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String regex = &quot;.*[!@#$%^&amp;*()_+].*&quot;;\nif (answer.matches(regex)) {\n    arrayList2.add(answer);\n    System.out.println(&quot;with special numbers&quot; + arrayList2);\n} else {\n    arrayList1.add(answer);\n    System.out.println(&quot;without SP&quot; + password);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10481421,"reputation":1559,"user_id":7726319,"accept_rate":0,"display_name":"Prog_G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689761264,"creation_date":1689761264,"answer_id":76720159,"question_id":76720042,"body_markdown":"\r\nYou can use regex match for pattern match.\r\n\r\nTry below code:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.Scanner;\r\n    import java.util.regex.Pattern;\r\n        public static void main(String[] args) {\r\n    \r\n            Scanner input = new Scanner(System.in);\r\n            String answer;\r\n            ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\r\n            ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\r\n    \r\n            //do {\r\n            System.out.println(&quot;enter passswords&quot;);\r\n    \r\n            answer = input.nextLine();\r\n            Pattern pattern\r\n                    = Pattern.compile(&quot;[@_!#$%^&amp;*()&lt;&gt;?/|}{~:]&quot;);\r\n            if (pattern.matcher(answer).find()) {\r\n                arrayList2.add(answer);\r\n                System.out.println(&quot;with special numbers&quot; + arrayList2);\r\n            } else {\r\n                arrayList1.add(answer);\r\n                System.out.println(&quot;without SP&quot; + answer);\r\n            }\r\n        }\r\n\r\nReferences: \r\n\r\n 1. [Pattern Matching][1]\r\n 2. [How to use String.contains() method][2]\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/python-program-check-string-contains-special-character/\r\n  [2]: https://www.geeksforgeeks.org/java-string-contains-method-example/","title":"Checking if string contains unusual characters using &quot;.contain&quot;","body":"<p>You can use regex match for pattern match.</p>\n<p>Try below code:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.Scanner;\nimport java.util.regex.Pattern;\n    public static void main(String[] args) {\n\n        Scanner input = new Scanner(System.in);\n        String answer;\n        ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\n        ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\n\n        //do {\n        System.out.println(&quot;enter passswords&quot;);\n\n        answer = input.nextLine();\n        Pattern pattern\n                = Pattern.compile(&quot;[@_!#$%^&amp;*()&lt;&gt;?/|}{~:]&quot;);\n        if (pattern.matcher(answer).find()) {\n            arrayList2.add(answer);\n            System.out.println(&quot;with special numbers&quot; + arrayList2);\n        } else {\n            arrayList1.add(answer);\n            System.out.println(&quot;without SP&quot; + answer);\n        }\n    }\n</code></pre>\n<p>References:</p>\n<ol>\n<li><a href=\"https://www.geeksforgeeks.org/python-program-check-string-contains-special-character/\" rel=\"nofollow noreferrer\">Pattern Matching</a></li>\n<li><a href=\"https://www.geeksforgeeks.org/java-string-contains-method-example/\" rel=\"nofollow noreferrer\">How to use String.contains() method</a></li>\n</ol>\n"}],"owner":{"account_id":29040199,"reputation":3,"user_id":22245209,"display_name":"IS THIS TWITTER"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76720159,"answer_count":2,"score":0,"last_activity_date":1689761264,"creation_date":1689760461,"question_id":76720042,"body_markdown":"I&#39;m trying to create a simple program in JAVA to identify if a user input string contains a special character for example &quot;!&quot;, and if it does it appends it to arrayList1 if it does not it appends the string to arrayList2\r\n\r\ni&#39;ve been told that i can use the new .contain method to determine if the user string input contains a pre defined unusual symbol.  \r\n\r\ni&#39;ve been putting in example inputs like he!!o but it isn&#39;t read as a string with a special character. \r\n\r\nhere&#39;s the code snippet \r\n\r\n\r\n\r\n\r\n    public static void main(String[] args) {\r\n\t\t\r\n\t\tScanner input= new Scanner(System.in);\r\n\t\tString answer;\r\n\t\tArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\r\n\t\tArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t    //do {\t\r\n\t\t    System.out.println(&quot;enter passswords&quot;);\r\n\t\t    \r\n\t\t    answer= input.nextLine();\r\n\t\t    String SimpleSymbol=&quot;!@#$%^&amp;*()_+&quot;;\r\n\t\t    if(answer.contains(SimpleSymbol)) {\r\n\t\t        arrayList2.add(answer);\r\n\t\t    \tSystem.out.println(&quot;with special numbers&quot; + arrayList2); \t\t \r\n\t        } else {\r\n                arrayList1.add(answer);\r\n\t\t    \tSystem.out.println(&quot;without SP&quot; + password);\r\n            }\r\n\t    }\r\n    }","title":"Checking if string contains unusual characters using &quot;.contain&quot;","body":"<p>I'm trying to create a simple program in JAVA to identify if a user input string contains a special character for example &quot;!&quot;, and if it does it appends it to arrayList1 if it does not it appends the string to arrayList2</p>\n<p>i've been told that i can use the new .contain method to determine if the user string input contains a pre defined unusual symbol.</p>\n<p>i've been putting in example inputs like he!!o but it isn't read as a string with a special character.</p>\n<p>here's the code snippet</p>\n<pre><code>public static void main(String[] args) {\n    \n    Scanner input= new Scanner(System.in);\n    String answer;\n    ArrayList&lt;String&gt; arrayList1 = new ArrayList&lt;&gt;();\n    ArrayList&lt;String&gt; arrayList2 = new ArrayList&lt;&gt;();\n    \n    //do {  \n        System.out.println(&quot;enter passswords&quot;);\n        \n        answer= input.nextLine();\n        String SimpleSymbol=&quot;!@#$%^&amp;*()_+&quot;;\n        if(answer.contains(SimpleSymbol)) {\n            arrayList2.add(answer);\n            System.out.println(&quot;with special numbers&quot; + arrayList2);         \n        } else {\n            arrayList1.add(answer);\n            System.out.println(&quot;without SP&quot; + password);\n        }\n    }\n}\n</code></pre>\n"},{"tags":["java","redis","redis-cluster","redisson"],"comments":[{"owner":{"account_id":9018482,"reputation":822,"user_id":6720343,"accept_rate":80,"display_name":"Anuj Vishwakarma"},"score":0,"creation_date":1598024413,"post_id":63498725,"comment_id":112332673,"body_markdown":"Only thing I can suggest here is to move the redisson to latest version. Could you please check with latest one ?","body":"Only thing I can suggest here is to move the redisson to latest version. Could you please check with latest one ?"},{"owner":{"account_id":19334306,"reputation":11,"user_id":14135166,"display_name":"Nitin"},"score":0,"creation_date":1598159703,"post_id":63498725,"comment_id":112363906,"body_markdown":"Thanks for the suggestion Anuj.","body":"Thanks for the suggestion Anuj."}],"answers":[{"tags":[],"owner":{"account_id":16288641,"reputation":1,"user_id":11762685,"display_name":"Raj Kishor"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689761215,"creation_date":1689761215,"answer_id":76720154,"question_id":63498725,"body_markdown":"I believe you may have already found a solution, but I&#39;m providing an answer in case others are facing a similar issue.\r\n\r\nThe error you encountered seems to be related to how you are setting the node addresses. Starting from Redisson version 2.7.X, you need to use the redis:// protocol in the node addresses. However, for versions before 2.7.X, you should not use the redis:// protocol.\r\n\r\nTo fix the issue, please try the following:\r\n\r\n**For Redisson versions 2.7.X and above:**\r\n\r\n    Config config = new Config();\r\n    config.useClusterServers()\r\n    .addNodeAddress(&quot;redis://localhost:6001&quot;, &quot;redis://localhost:6001&quot;);\r\n    RedissonClient redisson = Redisson.create(config);\r\n\r\n\r\n**For Redisson versions before 2.7.X:**\r\n\r\n    Config config = new Config();\r\n    config.useClusterServers()\r\n    .addNodeAddress(&quot;localhost:6001&quot;, &quot;localhost:6002&quot;);\r\n    RedissonClient redisson = Redisson.create(config);\r\n\r\n\r\nMake sure to replace the port numbers and hostnames with the appropriate values for your Redis cluster configuration.\r\n\r\nI hope this helps! \r\n\r\n","title":"Issue connecting redis cluster using redisson","body":"<p>I believe you may have already found a solution, but I'm providing an answer in case others are facing a similar issue.</p>\n<p>The error you encountered seems to be related to how you are setting the node addresses. Starting from Redisson version 2.7.X, you need to use the redis:// protocol in the node addresses. However, for versions before 2.7.X, you should not use the redis:// protocol.</p>\n<p>To fix the issue, please try the following:</p>\n<p><strong>For Redisson versions 2.7.X and above:</strong></p>\n<pre><code>Config config = new Config();\nconfig.useClusterServers()\n.addNodeAddress(&quot;redis://localhost:6001&quot;, &quot;redis://localhost:6001&quot;);\nRedissonClient redisson = Redisson.create(config);\n</code></pre>\n<p><strong>For Redisson versions before 2.7.X:</strong></p>\n<pre><code>Config config = new Config();\nconfig.useClusterServers()\n.addNodeAddress(&quot;localhost:6001&quot;, &quot;localhost:6002&quot;);\nRedissonClient redisson = Redisson.create(config);\n</code></pre>\n<p>Make sure to replace the port numbers and hostnames with the appropriate values for your Redis cluster configuration.</p>\n<p>I hope this helps!</p>\n"}],"owner":{"account_id":19334306,"reputation":11,"user_id":14135166,"display_name":"Nitin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689761215,"creation_date":1597900706,"question_id":63498725,"body_markdown":"I am trying to connect redis cluster using redisson 2.3.0 and redis 5.0.7.\r\n\r\nJava code for connection:\r\n\r\n```\r\nConfig config = new Config();\r\nconfig.useClusterServers()\r\n.addNodeAddress(&quot;redis://127.0.0.1:8000&quot;);\r\nRedissonClient redisson = Redisson.create(config);\r\n```\r\n\r\nIt is giving following error::\r\n```\r\njava.lang.IllegalArgumentException: port out of range:-1\r\nat java.net.InetSocketAddress.checkPort(InetSocketAddress.java:143)\r\nat java.net.InetSocketAddress.(InetSocketAddress.java:224)\r\nat org.redisson.client.RedisClient.(RedisClient.java:93)\r\nat org.redisson.connection.MasterSlaveConnectionManager.createClient(MasterSlaveConnectionManager.java:310)\r\nat org.redisson.cluster.ClusterConnectionManager.connect(ClusterConnectionManager.java:150)\r\nat org.redisson.cluster.ClusterConnectionManager.(ClusterConnectionManager.java:81)\r\nat org.redisson.config.ConfigSupport.createConnectionManager(ConfigSupport.java:172)\r\nat org.redisson.Redisson.(Redisson.java:103)\r\nat org.redisson.Redisson.create(Redisson.java:133)\r\n```\r\n\r\nCluster config from CLUSTER_NODES in redisson CLusterConnectionManager::\r\n```\r\n[ClusterNodeInfo [nodeId=4317f285b359ddc3ac08bb85239924509146e475, address=//127.0.0.1:8003@18003, flags=[SLAVE], slaveOf=4118a348827e6107d7e35522a251fd39c5a8f82b, slotRanges=[]], \r\nClusterNodeInfo [nodeId=2f7b93c80d3721b3fb26fe87bc28ed04a63fe0ec, address=//127.0.0.1:8005@18005, flags=[SLAVE], slaveOf=8b81c3e1acb4e1959a83267540058d1a6bffa12f, slotRanges=[]], \r\nClusterNodeInfo [nodeId=4118a348827e6107d7e35522a251fd39c5a8f82b, address=//127.0.0.1:8001@18001, flags=[MASTER], slaveOf=null, slotRanges=[[5461-10922]]],\r\nClusterNodeInfo [nodeId=a0770863d893a5b8106a83e247cea2544f99ef36, address=//127.0.0.1:8004@18004, flags=[SLAVE], slaveOf=6b9da1bbe38b978a3017406e5c1e310f4706cfc8, slotRanges=[]], \r\nClusterNodeInfo [nodeId=8b81c3e1acb4e1959a83267540058d1a6bffa12f, address=//127.0.0.1:8000@18000, flags=[MYSELF, MASTER], slaveOf=null, slotRanges=[[0-5460]]],\r\nClusterNodeInfo [nodeId=6b9da1bbe38b978a3017406e5c1e310f4706cfc8, address=//127.0.0.1:8002@18002, flags=[MASTER], slaveOf=null, slotRanges=[[10923-16383]]]]\r\n```\r\n\r\nReason i found after debugging is :\r\n**Not generating ClientPartition.getMasterAddress() properly.\r\nAddress is //127.0.0.1:8001@18001 as recorded by CLUSTER_NODES, but it reads it as host: 18001 and port=-1,  i.e reading the cluster bus port.**\r\n\r\nPlease suggest where i am doing wrong config.\r\n\r\nThank You in advance.","title":"Issue connecting redis cluster using redisson","body":"<p>I am trying to connect redis cluster using redisson 2.3.0 and redis 5.0.7.</p>\n<p>Java code for connection:</p>\n<pre><code>Config config = new Config();\nconfig.useClusterServers()\n.addNodeAddress(&quot;redis://127.0.0.1:8000&quot;);\nRedissonClient redisson = Redisson.create(config);\n</code></pre>\n<p>It is giving following error::</p>\n<pre><code>java.lang.IllegalArgumentException: port out of range:-1\nat java.net.InetSocketAddress.checkPort(InetSocketAddress.java:143)\nat java.net.InetSocketAddress.(InetSocketAddress.java:224)\nat org.redisson.client.RedisClient.(RedisClient.java:93)\nat org.redisson.connection.MasterSlaveConnectionManager.createClient(MasterSlaveConnectionManager.java:310)\nat org.redisson.cluster.ClusterConnectionManager.connect(ClusterConnectionManager.java:150)\nat org.redisson.cluster.ClusterConnectionManager.(ClusterConnectionManager.java:81)\nat org.redisson.config.ConfigSupport.createConnectionManager(ConfigSupport.java:172)\nat org.redisson.Redisson.(Redisson.java:103)\nat org.redisson.Redisson.create(Redisson.java:133)\n</code></pre>\n<p>Cluster config from CLUSTER_NODES in redisson CLusterConnectionManager::</p>\n<pre><code>[ClusterNodeInfo [nodeId=4317f285b359ddc3ac08bb85239924509146e475, address=//127.0.0.1:8003@18003, flags=[SLAVE], slaveOf=4118a348827e6107d7e35522a251fd39c5a8f82b, slotRanges=[]], \nClusterNodeInfo [nodeId=2f7b93c80d3721b3fb26fe87bc28ed04a63fe0ec, address=//127.0.0.1:8005@18005, flags=[SLAVE], slaveOf=8b81c3e1acb4e1959a83267540058d1a6bffa12f, slotRanges=[]], \nClusterNodeInfo [nodeId=4118a348827e6107d7e35522a251fd39c5a8f82b, address=//127.0.0.1:8001@18001, flags=[MASTER], slaveOf=null, slotRanges=[[5461-10922]]],\nClusterNodeInfo [nodeId=a0770863d893a5b8106a83e247cea2544f99ef36, address=//127.0.0.1:8004@18004, flags=[SLAVE], slaveOf=6b9da1bbe38b978a3017406e5c1e310f4706cfc8, slotRanges=[]], \nClusterNodeInfo [nodeId=8b81c3e1acb4e1959a83267540058d1a6bffa12f, address=//127.0.0.1:8000@18000, flags=[MYSELF, MASTER], slaveOf=null, slotRanges=[[0-5460]]],\nClusterNodeInfo [nodeId=6b9da1bbe38b978a3017406e5c1e310f4706cfc8, address=//127.0.0.1:8002@18002, flags=[MASTER], slaveOf=null, slotRanges=[[10923-16383]]]]\n</code></pre>\n<p>Reason i found after debugging is :\n<strong>Not generating ClientPartition.getMasterAddress() properly.\nAddress is //127.0.0.1:8001@18001 as recorded by CLUSTER_NODES, but it reads it as host: 18001 and port=-1,  i.e reading the cluster bus port.</strong></p>\n<p>Please suggest where i am doing wrong config.</p>\n<p>Thank You in advance.</p>\n"},{"tags":["java","android","xml","kotlin","android-camerax"],"comments":[{"owner":{"account_id":103589,"reputation":10607,"user_id":277368,"accept_rate":79,"display_name":"Xi 张熹"},"score":0,"creation_date":1689799824,"post_id":76720120,"comment_id":135266588,"body_markdown":"I would suggest trying out the https://developer.android.com/reference/androidx/camera/view/LifecycleCameraController API. If the issue still exists, you can report it to camerax-developers@android.com, the CameraX team will look into it.","body":"I would suggest trying out the <a href=\"https://developer.android.com/reference/androidx/camera/view/LifecycleCameraController\" rel=\"nofollow noreferrer\">developer.android.com/reference/androidx/camera/view/&hellip;</a> API. If the issue still exists, you can report it to camerax-developers@android.com, the CameraX team will look into it."},{"owner":{"account_id":13488148,"reputation":170,"user_id":17404078,"display_name":"Ali Jawad Hussain Gorayya"},"score":0,"creation_date":1689830045,"post_id":76720120,"comment_id":135269353,"body_markdown":"Actually Recording event creaing delays","body":"Actually Recording event creaing delays"}],"owner":{"account_id":13488148,"reputation":170,"user_id":17404078,"display_name":"Ali Jawad Hussain Gorayya"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689760912,"creation_date":1689760912,"question_id":76720120,"body_markdown":"I am recording video using CameraX some times File Writing Takes much time means about 10s to file writing. Issue is producing in Pixel Devices. Code is Given Below...\r\n\r\n    private fun startCamera() {\r\n        recordingExecutor = Executors.newSingleThreadExecutor()\r\n        isRecordingStart = false\r\n        hideExoPlayer()\r\n        showAnim()\r\n        binding.tvInterval.text = &quot;3&quot;\r\n        ProcessCameraProvider.getInstance(this).also {\r\n            it.addListener({\r\n                cameraProvider = it.get()\r\n\r\n                val qualitySelector = QualitySelector.from(\r\n                    Quality.LOWEST,\r\n                    FallbackStrategy.higherQualityOrLowerThan(Quality.LOWEST)\r\n                )\r\n\r\n                val recorder = Recorder.Builder()\r\n                    .setQualitySelector(qualitySelector)\r\n                    .build()\r\n\r\n                videoCapture = VideoCapture.withOutput(recorder)\r\n\r\n                val cameraSelector = when (currentReturnKey) {\r\n                    FRONT_VIDEO_CAMERA_KEY -&gt; CameraSelector.DEFAULT_FRONT_CAMERA\r\n                    else -&gt; CameraSelector.DEFAULT_BACK_CAMERA\r\n                }\r\n\r\n                val preview = Preview.Builder().build().also {\r\n                    it.setSurfaceProvider(binding.viewFinder.surfaceProvider)\r\n                }\r\n\r\n\r\n\r\n                try {\r\n                    cameraProvider?.unbindAll()\r\n                    cameraProvider?.bindToLifecycle(this, cameraSelector, videoCapture, preview)\r\n                    lifecycleScope.launch(Dispatchers.Main.immediate) {\r\n                        if (currentReturnKey == REAR_VIDEO_CAMERA_KEY) delay(800)\r\n                        captureVideo()\r\n                    }\r\n                } catch (exc: Exception) {\r\n                    releaseMediaPlayer()\r\n                    listener?.onUpdate(currentReturnKey, PCStatus.FAIL)\r\n                    updateCameraStatus(currentReturnKey, PCStatus.FAIL)\r\n                    initTest()\r\n                }\r\n            }, ContextCompat.getMainExecutor(this))\r\n        }\r\n    }\r\n\r\n    private fun captureVideo() {\r\n\r\n        val videoCapture = this.videoCapture ?: return\r\n\r\n\r\n        val curRecording = recording\r\n        if (curRecording != null) {\r\n            curRecording.stop()\r\n            recording = null\r\n            return\r\n        }\r\n\r\n        outputFile =\r\n            File(getOutputDirectory(), replaceSpaceIntoUnderscore(currentReturnKey) + &quot;.mp4&quot;)\r\n        if (outputFile?.exists() == true) {\r\n            val status = outputFile?.delete()\r\n            Log.i(&quot;isdelet,&quot;, status.toString())\r\n        }\r\n\r\n\r\n        val mediaStoreOutputOptions = FileOutputOptions\r\n            .Builder(outputFile!!)\r\n            .build()\r\n\r\n\r\n        isRecordingStart = true\r\n        recording = videoCapture.output\r\n            .prepareRecording(this, mediaStoreOutputOptions)\r\n            .apply {\r\n                // Enable Audio for recording\r\n                if (\r\n                    PermissionChecker.checkSelfPermission(\r\n                        this@PCVideoCameraActivity,\r\n                        Manifest.permission.RECORD_AUDIO\r\n                    ) ==\r\n                    PermissionChecker.PERMISSION_GRANTED\r\n                ) {\r\n                    withAudioEnabled()\r\n                }\r\n            }\r\n            .start(recordingExecutor) { recordEvent -&gt;\r\n                when (recordEvent) {\r\n\r\n                    is VideoRecordEvent.Start -&gt; {\r\n                        runOnUiThread { binding.ivAnimation.gone() }\r\n                        recordingTimer()\r\n                    }\r\n\r\n\r\n                    is VideoRecordEvent.Finalize -&gt; {\r\n                        if (!recordEvent.hasError() || recordEvent.error == VideoRecordEvent.Finalize.ERROR_DURATION_LIMIT_REACHED) {\r\n                            countdownJob?.cancel()\r\n                            recording = null\r\n                            runOnUiThread {\r\n                                showExoPLayer()\r\n                            }\r\n\r\n                            Log.i(&quot;FinalizeTest&quot;, &quot;NoError$outputFile&quot;)\r\n                        } else {\r\n                            Log.i(&quot;Error&quot;, &quot;${recordEvent.cause?.message}&quot;)\r\n                            recording?.close()\r\n                            recording = null\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n    }\r\n\r\nand here below code is for timer \r\n\r\n     private fun recordingTimer() {\r\n            isTimerRunning = true\r\n            countdownJob = lifecycleScope.launch(Dispatchers.Main.immediate) {\r\n                val durationMillis =\r\n                    TimeUnit.SECONDS.toMillis(3) // Set the duration of the timer in milliseconds\r\n                remainingTimeMillis = durationMillis\r\n                while (remainingTimeMillis &gt; 0) {\r\n                    updateTimerText(remainingTimeMillis)\r\n                    delay(1000) // Delay for 1 second\r\n                    remainingTimeMillis -= 1000\r\n                }\r\n                isTimerRunning = false\r\n                captureVideo()\r\n            }\r\n        }\r\n\r\nFirstly i was thinking this may be of using Courtines Scope but i have replace it with lifecycler scope but issue is still producing. i donot know which things causing effect on it. bu removing timer fix the issue.","title":"Issue in File writing(Takes Much Time) while Capturing Video using CameraX (Video Capture)","body":"<p>I am recording video using CameraX some times File Writing Takes much time means about 10s to file writing. Issue is producing in Pixel Devices. Code is Given Below...</p>\n<pre><code>private fun startCamera() {\n    recordingExecutor = Executors.newSingleThreadExecutor()\n    isRecordingStart = false\n    hideExoPlayer()\n    showAnim()\n    binding.tvInterval.text = &quot;3&quot;\n    ProcessCameraProvider.getInstance(this).also {\n        it.addListener({\n            cameraProvider = it.get()\n\n            val qualitySelector = QualitySelector.from(\n                Quality.LOWEST,\n                FallbackStrategy.higherQualityOrLowerThan(Quality.LOWEST)\n            )\n\n            val recorder = Recorder.Builder()\n                .setQualitySelector(qualitySelector)\n                .build()\n\n            videoCapture = VideoCapture.withOutput(recorder)\n\n            val cameraSelector = when (currentReturnKey) {\n                FRONT_VIDEO_CAMERA_KEY -&gt; CameraSelector.DEFAULT_FRONT_CAMERA\n                else -&gt; CameraSelector.DEFAULT_BACK_CAMERA\n            }\n\n            val preview = Preview.Builder().build().also {\n                it.setSurfaceProvider(binding.viewFinder.surfaceProvider)\n            }\n\n\n\n            try {\n                cameraProvider?.unbindAll()\n                cameraProvider?.bindToLifecycle(this, cameraSelector, videoCapture, preview)\n                lifecycleScope.launch(Dispatchers.Main.immediate) {\n                    if (currentReturnKey == REAR_VIDEO_CAMERA_KEY) delay(800)\n                    captureVideo()\n                }\n            } catch (exc: Exception) {\n                releaseMediaPlayer()\n                listener?.onUpdate(currentReturnKey, PCStatus.FAIL)\n                updateCameraStatus(currentReturnKey, PCStatus.FAIL)\n                initTest()\n            }\n        }, ContextCompat.getMainExecutor(this))\n    }\n}\n\nprivate fun captureVideo() {\n\n    val videoCapture = this.videoCapture ?: return\n\n\n    val curRecording = recording\n    if (curRecording != null) {\n        curRecording.stop()\n        recording = null\n        return\n    }\n\n    outputFile =\n        File(getOutputDirectory(), replaceSpaceIntoUnderscore(currentReturnKey) + &quot;.mp4&quot;)\n    if (outputFile?.exists() == true) {\n        val status = outputFile?.delete()\n        Log.i(&quot;isdelet,&quot;, status.toString())\n    }\n\n\n    val mediaStoreOutputOptions = FileOutputOptions\n        .Builder(outputFile!!)\n        .build()\n\n\n    isRecordingStart = true\n    recording = videoCapture.output\n        .prepareRecording(this, mediaStoreOutputOptions)\n        .apply {\n            // Enable Audio for recording\n            if (\n                PermissionChecker.checkSelfPermission(\n                    this@PCVideoCameraActivity,\n                    Manifest.permission.RECORD_AUDIO\n                ) ==\n                PermissionChecker.PERMISSION_GRANTED\n            ) {\n                withAudioEnabled()\n            }\n        }\n        .start(recordingExecutor) { recordEvent -&gt;\n            when (recordEvent) {\n\n                is VideoRecordEvent.Start -&gt; {\n                    runOnUiThread { binding.ivAnimation.gone() }\n                    recordingTimer()\n                }\n\n\n                is VideoRecordEvent.Finalize -&gt; {\n                    if (!recordEvent.hasError() || recordEvent.error == VideoRecordEvent.Finalize.ERROR_DURATION_LIMIT_REACHED) {\n                        countdownJob?.cancel()\n                        recording = null\n                        runOnUiThread {\n                            showExoPLayer()\n                        }\n\n                        Log.i(&quot;FinalizeTest&quot;, &quot;NoError$outputFile&quot;)\n                    } else {\n                        Log.i(&quot;Error&quot;, &quot;${recordEvent.cause?.message}&quot;)\n                        recording?.close()\n                        recording = null\n                    }\n                }\n            }\n        }\n}\n</code></pre>\n<p>and here below code is for timer</p>\n<pre><code> private fun recordingTimer() {\n        isTimerRunning = true\n        countdownJob = lifecycleScope.launch(Dispatchers.Main.immediate) {\n            val durationMillis =\n                TimeUnit.SECONDS.toMillis(3) // Set the duration of the timer in milliseconds\n            remainingTimeMillis = durationMillis\n            while (remainingTimeMillis &gt; 0) {\n                updateTimerText(remainingTimeMillis)\n                delay(1000) // Delay for 1 second\n                remainingTimeMillis -= 1000\n            }\n            isTimerRunning = false\n            captureVideo()\n        }\n    }\n</code></pre>\n<p>Firstly i was thinking this may be of using Courtines Scope but i have replace it with lifecycler scope but issue is still producing. i donot know which things causing effect on it. bu removing timer fix the issue.</p>\n"},{"tags":["java","docker","google-cloud-platform","google-cloud-build","testcontainers"],"answers":[{"tags":[],"owner":{"account_id":1093963,"reputation":3605,"user_id":1087978,"display_name":"Oleg Šelajev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1689760751,"creation_date":1689760751,"answer_id":76720089,"question_id":76715709,"body_markdown":"I thought Cloud Build provides a Docker environemnt by default. I tried building my sample project here: https://github.com/shelajev/testcontainers-java-spring-boot-quickstart/tree/main \r\n\r\nAnd this is my cloud build yaml: \r\n```\r\nsteps:\r\n  - name: &#39;maven:3-openjdk-18-slim&#39;\r\n    args:\r\n      - &#39;-c&#39;\r\n      - |\r\n        mvn test\r\n    dir: &#39;${_APP_NAME}&#39;\r\n    entrypoint: bash\r\n```\r\n\r\nAnd it works correctly out of the box, here is [the build logs](https://ff2d1c85108dfc5a0b702499e28cea1e41577088c7fdc2c0345766c-apidata.googleusercontent.com/download/storage/v1/b/411343891013.cloudbuild-logs.googleusercontent.com/o/log-c688e809-ea79-4319-ae42-a9715b76a48b.txt?jk=AYvHSRFkaBm0Z5Hu-SZBxxXTXLMX7fUDY9OirPgr2QErModSf_o9FiBYPnzH6hD6B7ChLCpOyzkqSC2IlmFerMhTx_8ORjeZbY6NnQw08iWMpQLjJ-hYsUpMP-DFt-fDUN9DeH3qFhNWxOompLmMokO9m9PlwrFcFmnqRD8nKau9QyZdc9pazYQPhkgJw0AwE8qPmZNtQCpMerV8hjUsYdBMJ5W_Oc4Zuwz5oJ2J6-cmieUWyxQHGCKbp8TVWbAVM67XlfvWs_V32QgxT5We1l4VzedqThTvfPaWBd5aYSNqRh36qgnHrhammJXloB8te8LMUOpBWS1UbPdtkg_ukZA4tD5TFT803q36g6Ek1yzdFmNIkYePXM05OZw1vjJC9oQHC2vu7U2vHt2GYuqGYttxiOMSTYrtnqYKExwFx95647G87SVK2V_g5b0B-c-tP5nmhqxHc95tomFbonMjNzq9C-Act9XNVxqr6OA-mywiA4nCryfdVa6yxMveBhxG_XjwbfE7wmzmEudYK4xVYEa6cRq9ZHifY4nG8sz1fT4bVB27M0A30QE1kd5Ca4m5XDpJKwPTFhk9mCj29S3XvBzHgCgaX_8m-KAn-2G6RzKoq-6TojqxJwYU_rrYu5xwagXplBVLN8Noab66R_RvqWSz8DUiTMJkIJ_Q0fKis9IgGX43w0E4_RyI2z09PlJdl8g4J8xvXTJ_WTzrcxbp0e9H8jlq5F7_K7L1pxLET7nbQsbuwP8QxhO1sv1bNL93XuR83CvXZEmqgW4x_Jn0pc1BywfEomWfCh9aMp2u2u6vjPZ0XHYxYjfajo0dQSBKGbu8CX3SxaX1mUTJ9IdIScVq86FYEHYHhDfa8AEdqYGWWyJS4cz7XKN-XLLw3Rjp2ZqaW2IKi7Zs4sO_LO7BkjdzmwX_hvHi0Xl_xSHpvlBwX9RwoubOvoV6L15XzIDmHlnCyXY43xNLqOvz9U9CJIVOnd6g3OJqXN3m38ZDYN3KLcLcUVigxbHMjwF417ft_s6Ukv0ScZnjk4vc48rY6n1-70NDcW-z1QVxiboS4XBdhRfAyOKfGYN3umHeRy9D2UrIqePT0aRqvnoupfp_rbAPEtHi6S8u4lIFvb2R1uhqX-38bWNm_2K_1HjgbjrLzNTTLRzqxXLKNFjVhv3iBvSdcpqERqFSryum09k-VEbttqRAZiiLZySBTHmyrYdQwHMgEaJMo_ycL_CyLajqVkKfOlFrDHFBB9ZaYShyIrFw9b-GuGE&amp;isca=1).\r\n\r\nOne thing to note, I reckon most of the data is discarded between the steps (unless in `/workspace` -- [docs](https://cloud.google.com/build/docs/configuring-builds/pass-data-between-steps)) so maybe Docker login doesn&#39;t transfer to the gradle step? Can you try maybe a bash entrypoint and running login and gradle check in the same Cloud build step? \r\n\r\n","title":"Using the Java Testcontainers library in Cloud Build","body":"<p>I thought Cloud Build provides a Docker environemnt by default. I tried building my sample project here: <a href=\"https://github.com/shelajev/testcontainers-java-spring-boot-quickstart/tree/main\" rel=\"nofollow noreferrer\">https://github.com/shelajev/testcontainers-java-spring-boot-quickstart/tree/main</a></p>\n<p>And this is my cloud build yaml:</p>\n<pre><code>steps:\n  - name: 'maven:3-openjdk-18-slim'\n    args:\n      - '-c'\n      - |\n        mvn test\n    dir: '${_APP_NAME}'\n    entrypoint: bash\n</code></pre>\n<p>And it works correctly out of the box, here is <a href=\"https://ff2d1c85108dfc5a0b702499e28cea1e41577088c7fdc2c0345766c-apidata.googleusercontent.com/download/storage/v1/b/411343891013.cloudbuild-logs.googleusercontent.com/o/log-c688e809-ea79-4319-ae42-a9715b76a48b.txt?jk=AYvHSRFkaBm0Z5Hu-SZBxxXTXLMX7fUDY9OirPgr2QErModSf_o9FiBYPnzH6hD6B7ChLCpOyzkqSC2IlmFerMhTx_8ORjeZbY6NnQw08iWMpQLjJ-hYsUpMP-DFt-fDUN9DeH3qFhNWxOompLmMokO9m9PlwrFcFmnqRD8nKau9QyZdc9pazYQPhkgJw0AwE8qPmZNtQCpMerV8hjUsYdBMJ5W_Oc4Zuwz5oJ2J6-cmieUWyxQHGCKbp8TVWbAVM67XlfvWs_V32QgxT5We1l4VzedqThTvfPaWBd5aYSNqRh36qgnHrhammJXloB8te8LMUOpBWS1UbPdtkg_ukZA4tD5TFT803q36g6Ek1yzdFmNIkYePXM05OZw1vjJC9oQHC2vu7U2vHt2GYuqGYttxiOMSTYrtnqYKExwFx95647G87SVK2V_g5b0B-c-tP5nmhqxHc95tomFbonMjNzq9C-Act9XNVxqr6OA-mywiA4nCryfdVa6yxMveBhxG_XjwbfE7wmzmEudYK4xVYEa6cRq9ZHifY4nG8sz1fT4bVB27M0A30QE1kd5Ca4m5XDpJKwPTFhk9mCj29S3XvBzHgCgaX_8m-KAn-2G6RzKoq-6TojqxJwYU_rrYu5xwagXplBVLN8Noab66R_RvqWSz8DUiTMJkIJ_Q0fKis9IgGX43w0E4_RyI2z09PlJdl8g4J8xvXTJ_WTzrcxbp0e9H8jlq5F7_K7L1pxLET7nbQsbuwP8QxhO1sv1bNL93XuR83CvXZEmqgW4x_Jn0pc1BywfEomWfCh9aMp2u2u6vjPZ0XHYxYjfajo0dQSBKGbu8CX3SxaX1mUTJ9IdIScVq86FYEHYHhDfa8AEdqYGWWyJS4cz7XKN-XLLw3Rjp2ZqaW2IKi7Zs4sO_LO7BkjdzmwX_hvHi0Xl_xSHpvlBwX9RwoubOvoV6L15XzIDmHlnCyXY43xNLqOvz9U9CJIVOnd6g3OJqXN3m38ZDYN3KLcLcUVigxbHMjwF417ft_s6Ukv0ScZnjk4vc48rY6n1-70NDcW-z1QVxiboS4XBdhRfAyOKfGYN3umHeRy9D2UrIqePT0aRqvnoupfp_rbAPEtHi6S8u4lIFvb2R1uhqX-38bWNm_2K_1HjgbjrLzNTTLRzqxXLKNFjVhv3iBvSdcpqERqFSryum09k-VEbttqRAZiiLZySBTHmyrYdQwHMgEaJMo_ycL_CyLajqVkKfOlFrDHFBB9ZaYShyIrFw9b-GuGE&amp;isca=1\" rel=\"nofollow noreferrer\">the build logs</a>.</p>\n<p>One thing to note, I reckon most of the data is discarded between the steps (unless in <code>/workspace</code> -- <a href=\"https://cloud.google.com/build/docs/configuring-builds/pass-data-between-steps\" rel=\"nofollow noreferrer\">docs</a>) so maybe Docker login doesn't transfer to the gradle step? Can you try maybe a bash entrypoint and running login and gradle check in the same Cloud build step?</p>\n"}],"owner":{"account_id":9366227,"reputation":592,"user_id":6951053,"accept_rate":50,"display_name":"Brian K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689760751,"creation_date":1689705535,"question_id":76715709,"body_markdown":"I&#39;m trying to use the Java Testcontainers library to start up a PostgreSQL database docker during my unit tests. This works locally, but fails when I try to deploy it on Cloud Build. The following is my cloudbuild.yml file:\r\n\r\n```\r\n  - name: &#39;gcr.io/cloud-builders/docker&#39;\r\n    id: &#39;Login to myregistry.com&#39;\r\n    entrypoint: &#39;bash&#39;\r\n    args:\r\n      [\r\n        &#39;-c&#39;,\r\n        &#39;docker login --username=$$REGISTRY_USERNAME --password=$$REGISTRY_PASSWORD myregistry.com&#39;,\r\n      ]\r\n    secretEnv: [&#39;REGISTRY_USERNAME&#39;, &#39;REGISTRY_PASSWORD&#39;]\r\n\r\n  - name: &quot;gradle:7.6.1-jdk17&quot;\r\n    id: &quot;run unit tests&quot;\r\n    entrypoint: &#39;gradle&#39;\r\n    args: [&quot;test&quot;]\r\n```\r\nI&#39;ve also added the following environment variable:\r\n```\r\n\t\tTESTCONTAINERS_HOST_OVERRIDE=host.docker.internal\r\n```\r\n\r\nI receive the following errors when I try to run these tests, though:\r\n```\r\nStep #1 - &quot;run unit tests&quot;:     java.lang.IllegalStateException at RyukResourceReaper.java:132\r\n```\r\n\r\nHas anyone seen an issue like this before? Is it possible to run Testcontainers in Cloud Build, or will it fail because it&#39;s basically starting a Docker container within another Docker container?","title":"Using the Java Testcontainers library in Cloud Build","body":"<p>I'm trying to use the Java Testcontainers library to start up a PostgreSQL database docker during my unit tests. This works locally, but fails when I try to deploy it on Cloud Build. The following is my cloudbuild.yml file:</p>\n<pre><code>  - name: 'gcr.io/cloud-builders/docker'\n    id: 'Login to myregistry.com'\n    entrypoint: 'bash'\n    args:\n      [\n        '-c',\n        'docker login --username=$$REGISTRY_USERNAME --password=$$REGISTRY_PASSWORD myregistry.com',\n      ]\n    secretEnv: ['REGISTRY_USERNAME', 'REGISTRY_PASSWORD']\n\n  - name: &quot;gradle:7.6.1-jdk17&quot;\n    id: &quot;run unit tests&quot;\n    entrypoint: 'gradle'\n    args: [&quot;test&quot;]\n</code></pre>\n<p>I've also added the following environment variable:</p>\n<pre><code>        TESTCONTAINERS_HOST_OVERRIDE=host.docker.internal\n</code></pre>\n<p>I receive the following errors when I try to run these tests, though:</p>\n<pre><code>Step #1 - &quot;run unit tests&quot;:     java.lang.IllegalStateException at RyukResourceReaper.java:132\n</code></pre>\n<p>Has anyone seen an issue like this before? Is it possible to run Testcontainers in Cloud Build, or will it fail because it's basically starting a Docker container within another Docker container?</p>\n"},{"tags":["java","flutter","plugins","just-audio","isolate"],"owner":{"account_id":20486781,"reputation":988,"user_id":15033763,"display_name":"Kdon"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689760569,"creation_date":1689760569,"question_id":76720055,"body_markdown":"I am using the very nice [flutter_isolate][1] package together with [just_audio][2] to play audio sounds (like alarm bells) when the app is backgrounded.\r\n\r\nTogether these packages are generally working well but the app does sometimes crash. I note, in the the flutter isolate package readme it advises to create a custom plugin registrant class to register other plugins, and provides example code to help.\r\n\r\nTherefore, in android/app/src/main/java/io.flutter.plugins I have created a new java file named CustomPluginRegistrant based off the template provided.\r\n\r\n```\r\npackage io.flutter.plugins;\r\n\r\npublic final class CustomPluginRegistrant {\r\n    public static void registerWith(@NonNull FlutterEngine flutterEngine) {\r\n        flutterEngine.getPlugins().add(new com.ryanheise.just_audio.JustAudioPlugin());\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\nAlso I have created another java file name MainApplication with this code:\r\n\r\n```\r\npackage io.flutter.plugins;\r\nimport io.flutter.plugins.CustomPluginRegistrant;\r\n\r\npublic class MainApplication extends FlutterApplication {\r\n    public MainApplication() {\r\n        FlutterIsolatePlugin.setCustomIsolateRegistrant(CustomPluginRegistrant.class);\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n[![warnings 1][3]][3]\r\n\r\n[![warnings 2][4]][4]\r\n\r\nAnd when I run the app I get this error: \r\n\r\n```\r\ne: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\r\n    class io.flutter.plugins.MainApplication, unresolved supertypes: FlutterApplication\r\n```\r\n\r\nI am not experienced in Java and unsure how to fix these errors. Thanks.\r\n\r\n  [1]: https://pub.dev/packages/flutter_isolate\r\n  [2]: https://pub.dev/packages/just_audio\r\n  [3]: https://i.stack.imgur.com/7q2Ij.png\r\n  [4]: https://i.stack.imgur.com/9C8NC.png","title":"How to create a custom plugin registrant in flutter?","body":"<p>I am using the very nice <a href=\"https://pub.dev/packages/flutter_isolate\" rel=\"nofollow noreferrer\">flutter_isolate</a> package together with <a href=\"https://pub.dev/packages/just_audio\" rel=\"nofollow noreferrer\">just_audio</a> to play audio sounds (like alarm bells) when the app is backgrounded.</p>\n<p>Together these packages are generally working well but the app does sometimes crash. I note, in the the flutter isolate package readme it advises to create a custom plugin registrant class to register other plugins, and provides example code to help.</p>\n<p>Therefore, in android/app/src/main/java/io.flutter.plugins I have created a new java file named CustomPluginRegistrant based off the template provided.</p>\n<pre><code>package io.flutter.plugins;\n\npublic final class CustomPluginRegistrant {\n    public static void registerWith(@NonNull FlutterEngine flutterEngine) {\n        flutterEngine.getPlugins().add(new com.ryanheise.just_audio.JustAudioPlugin());\n    }\n}\n\n\n</code></pre>\n<p>Also I have created another java file name MainApplication with this code:</p>\n<pre><code>package io.flutter.plugins;\nimport io.flutter.plugins.CustomPluginRegistrant;\n\npublic class MainApplication extends FlutterApplication {\n    public MainApplication() {\n        FlutterIsolatePlugin.setCustomIsolateRegistrant(CustomPluginRegistrant.class);\n    }\n}\n\n\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/7q2Ij.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/7q2Ij.png\" alt=\"warnings 1\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/9C8NC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9C8NC.png\" alt=\"warnings 2\" /></a></p>\n<p>And when I run the app I get this error:</p>\n<pre><code>e: Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\n    class io.flutter.plugins.MainApplication, unresolved supertypes: FlutterApplication\n</code></pre>\n<p>I am not experienced in Java and unsure how to fix these errors. Thanks.</p>\n"},{"tags":["java","ibm-cloud","odm","ibm-odm","dc"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689808633,"post_id":76719934,"comment_id":135267670,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":20950855,"reputation":1,"user_id":15392566,"display_name":"Pratiksha Sabale"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689759722,"creation_date":1689759722,"question_id":76719934,"body_markdown":"I need to extract all the action rules in one single excel from decision center.Is there a way to do so?I have already deployed the study. I tried to select the rules and then export but it&#39;s extracting all the projects present.","title":"How can we extract all the action rules of a project in one single excel from decision center IBM ODM","body":"<p>I need to extract all the action rules in one single excel from decision center.Is there a way to do so?I have already deployed the study. I tried to select the rules and then export but it's extracting all the projects present.</p>\n"},{"tags":["java","spring-boot","apache-camel","jms","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1689760519,"post_id":76719459,"comment_id":135257742,"body_markdown":"Instead of all the code for the key store why not set the java system properties to point to the key store and let MQ pick it up from there.  The java system properties are documented in this [answer](https://stackoverflow.com/questions/5871279/ssl-and-cert-keystore/5871352#5871352).  I world recommend you set them with `System.setProperties()` method so that you do not expose the password on the command line.","body":"Instead of all the code for the key store why not set the java system properties to point to the key store and let MQ pick it up from there.  The java system properties are documented in this <a href=\"https://stackoverflow.com/questions/5871279/ssl-and-cert-keystore/5871352#5871352\">answer</a>.  I world recommend you set them with <code>System.setProperties()</code> method so that you do not expose the password on the command line."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1689760637,"post_id":76719459,"comment_id":135257765,"body_markdown":"Those mqjbnd are usually part of the stacktace due to MQ checking for the mqjbnd library to determine if there is a local MQ server install. I would suggest capturing a full JMS trace and reviewing that for the actual cause. Trace inductions can be found [here](https://www.ibm.com/docs/en/ibm-mq/9.2?topic=tmcja-collecting-mq-classes-jms-trace-by-using-java-system-property).","body":"Those mqjbnd are usually part of the stacktace due to MQ checking for the mqjbnd library to determine if there is a local MQ server install. I would suggest capturing a full JMS trace and reviewing that for the actual cause. Trace inductions can be found <a href=\"https://www.ibm.com/docs/en/ibm-mq/9.2?topic=tmcja-collecting-mq-classes-jms-trace-by-using-java-system-property\" rel=\"nofollow noreferrer\">here</a>."}],"owner":{"account_id":24503238,"reputation":51,"user_id":18418577,"display_name":"Beerus239"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689759604,"creation_date":1689756282,"question_id":76719459,"body_markdown":"I am trying to connect to IBM MQ. I&#39;ve read in multiple docs that this line should help prevent it: \r\n ```java\r\nmqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\r\n```\r\n\r\nBut in my case it doesn&#39;t. Anyone knows how to fix this and what the actual problem is?\r\n\r\n```java\r\n    import com.ibm.mq.MQEnvironment;\r\n    import org.apache.camel.component.jms.JmsComponent;\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import com.ibm.mq.jakarta.jms.MQQueueConnectionFactory;\r\n    import org.springframework.jms.annotation.EnableJms;\r\n    import com.ibm.msg.client.jakarta.wmq.*;\r\n    import com.ibm.msg.client.jakarta.wmq.common.CommonConstants;\r\n    \r\n    import javax.net.ssl.*;\r\n    import java.security.KeyStore;\r\n\r\n    @Bean\r\n    public JmsComponent mq() {\r\n        JmsComponent jmsComponent = new JmsComponent();\r\n        jmsComponent.setConnectionFactory(mqQueueConnectionFactory());\r\n        return jmsComponent;\r\n    }\r\n\r\n    @Bean\r\n    public MQQueueConnectionFactory mqQueueConnectionFactory() {\r\n        MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\r\n        mqQueueConnectionFactory.setHostName(host);\r\n        try {\r\n           \r\n            //keystore is being fetched here\r\n            String keystoreKey = &quot;${keyStorePassword}&quot;;\r\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n            keyStore.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;${keyStore}&quot;),\r\n                    keystoreKey.toCharArray());\r\n\r\n            // Create key manager\r\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\r\n            keyManagerFactory.init(keyStore, keystoreKey.toCharArray());\r\n            KeyManager[] km = keyManagerFactory.getKeyManagers();\r\n\r\n\r\n            // Create trust manager\r\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\r\n            trustManagerFactory.init(KeyStore.getInstance(trustStore, trustStorePassword));\r\n            TrustManager[] tm = trustManagerFactory.getTrustManagers();\r\n\r\n            // Initialize SSLContext\r\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1&quot;);\r\n            sslContext.init(km, tm, null);\r\n            SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\r\n\r\n            mqQueueConnectionFactory.setPort(port);\r\n            mqQueueConnectionFactory.setChannel(channel);\r\n            mqQueueConnectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\r\n            mqQueueConnectionFactory.setObjectProperty(WMQConstants.WMQ_SSL_SOCKET_FACTORY, sslSocketFactory);\r\n            mqQueueConnectionFactory.setSSLCipherSuite(sslCipherSuite);\r\n            mqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\r\n            mqQueueConnectionFactory.setQueueManager(queueManager);\r\n\r\n            MQEnvironment.sslSocketFactory = sslSocketFactory;\r\n\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n        return  mqQueueConnectionFactory;\r\n    }\r\n}\r\n```\r\n\r\nAnd this is the stacktrace:\r\n\r\n```java\r\n    org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: &#39;mqjbnd&#39;.\r\n    \tat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:184) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:510) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate.send(JmsConfiguration.java:572) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.doSend(JmsProducer.java:425) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.processInOnly(JmsProducer.java:392) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.process(JmsProducer.java:159) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:475) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeReactiveWork(DefaultReactiveExecutor.java:196) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:164) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.Pipeline.process(Pipeline.java:163) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:379) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:208) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\r\n    \tat java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\r\n    Caused by: com.ibm.msg.client.jakarta.jms.DetailedJMSException: JMSFMQ6312: An exception occurred in the Java(tm) MQI.\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:334) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:226) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8653) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:8023) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:322) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:242) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6026) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createQueueConnection(MQQueueConnectionFactory.java:111) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createConnection(MQQueueConnectionFactory.java:200) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:497) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \t... 15 common frames omitted\r\n    Caused by: com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: &#39;mqjbnd&#39;.\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1167) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ$1.run(LocalMQ.java:307) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.initialise_inner(LocalMQ.java:262) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.initialise(LocalMQ.java:224) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.&lt;init&gt;(LocalMQ.java:1249) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalServer.&lt;init&gt;(LocalServer.java:230) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.JmqiEnvironment.getInstance(JmqiEnvironment.java:765) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.JmqiEnvironment.getMQI(JmqiEnvironment.java:699) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8645) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \t... 23 common frames omitted\r\n    Caused by: java.lang.UnsatisfiedLinkError: no mqjbnd in java.library.path: /Users/user/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1140) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \t... 37 common frames omitted\r\n    \r\n    2023-07-19T10:39:05.986+02:00  WARN 59061 --- [timer://mytimer] o.a.camel.component.timer.TimerConsumer  : Error processing exchange. Exchange[F460175233ACADD-0000000000000000]. Caused by: [org.springframework.jms.UncategorizedJmsException - Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: &#39;mqjbnd&#39;.]\r\n    \r\n    org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: &#39;mqjbnd&#39;.\r\n    \tat org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:184) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:510) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate.send(JmsConfiguration.java:572) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.doSend(JmsProducer.java:425) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.processInOnly(JmsProducer.java:392) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.jms.JmsProducer.process(JmsProducer.java:159) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:475) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeReactiveWork(DefaultReactiveExecutor.java:196) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:164) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.processor.Pipeline.process(Pipeline.java:163) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:379) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:208) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\r\n    \tat java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\r\n    \tat java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\r\n    Caused by: com.ibm.msg.client.jakarta.jms.DetailedJMSException: JMSFMQ6312: An exception occurred in the Java(tm) MQI.\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:334) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:226) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8653) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:8023) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:322) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:242) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6026) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createQueueConnection(MQQueueConnectionFactory.java:111) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createConnection(MQQueueConnectionFactory.java:200) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:497) ~[spring-jms-6.0.10.jar:6.0.10]\r\n    \t... 15 common frames omitted\r\n    Caused by: com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: &#39;mqjbnd&#39;.\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1167) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ$1.run(LocalMQ.java:307) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.initialise_inner(LocalMQ.java:262) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.initialise(LocalMQ.java:224) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.&lt;init&gt;(LocalMQ.java:1249) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.local.LocalServer.&lt;init&gt;(LocalServer.java:230) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\r\n    \tat java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\r\n    \tat java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.JmqiEnvironment.getInstance(JmqiEnvironment.java:765) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.mq.jmqi.JmqiEnvironment.getMQI(JmqiEnvironment.java:699) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \tat com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8645) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \t... 23 common frames omitted\r\n    Caused by: java.lang.UnsatisfiedLinkError: no mqjbnd in java.library.path: /Users/user/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\r\n    \tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\r\n    \tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\r\n    \tat java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\r\n    \tat com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1140) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\r\n    \t... 37 common frames omitted\r\n```\r\n","title":"Receiving a &quot;no mqjbnd in java.library.path&quot; exception when starting Springboot IBMQ application","body":"<p>I am trying to connect to IBM MQ. I've read in multiple docs that this line should help prevent it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>mqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\n</code></pre>\n<p>But in my case it doesn't. Anyone knows how to fix this and what the actual problem is?</p>\n<pre class=\"lang-java prettyprint-override\"><code>    import com.ibm.mq.MQEnvironment;\n    import org.apache.camel.component.jms.JmsComponent;\n    import org.slf4j.Logger;\n    import org.slf4j.LoggerFactory;\n    import org.springframework.beans.factory.annotation.Value;\n    import org.springframework.context.annotation.Bean;\n    import org.springframework.context.annotation.Configuration;\n    import com.ibm.mq.jakarta.jms.MQQueueConnectionFactory;\n    import org.springframework.jms.annotation.EnableJms;\n    import com.ibm.msg.client.jakarta.wmq.*;\n    import com.ibm.msg.client.jakarta.wmq.common.CommonConstants;\n    \n    import javax.net.ssl.*;\n    import java.security.KeyStore;\n\n    @Bean\n    public JmsComponent mq() {\n        JmsComponent jmsComponent = new JmsComponent();\n        jmsComponent.setConnectionFactory(mqQueueConnectionFactory());\n        return jmsComponent;\n    }\n\n    @Bean\n    public MQQueueConnectionFactory mqQueueConnectionFactory() {\n        MQQueueConnectionFactory mqQueueConnectionFactory = new MQQueueConnectionFactory();\n        mqQueueConnectionFactory.setHostName(host);\n        try {\n           \n            //keystore is being fetched here\n            String keystoreKey = &quot;${keyStorePassword}&quot;;\n            KeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\n            keyStore.load(Thread.currentThread().getContextClassLoader().getResourceAsStream(&quot;${keyStore}&quot;),\n                    keystoreKey.toCharArray());\n\n            // Create key manager\n            KeyManagerFactory keyManagerFactory = KeyManagerFactory.getInstance(&quot;SunX509&quot;);\n            keyManagerFactory.init(keyStore, keystoreKey.toCharArray());\n            KeyManager[] km = keyManagerFactory.getKeyManagers();\n\n\n            // Create trust manager\n            TrustManagerFactory trustManagerFactory = TrustManagerFactory.getInstance(&quot;SunX509&quot;);\n            trustManagerFactory.init(KeyStore.getInstance(trustStore, trustStorePassword));\n            TrustManager[] tm = trustManagerFactory.getTrustManagers();\n\n            // Initialize SSLContext\n            SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1&quot;);\n            sslContext.init(km, tm, null);\n            SSLSocketFactory sslSocketFactory = sslContext.getSocketFactory();\n\n            mqQueueConnectionFactory.setPort(port);\n            mqQueueConnectionFactory.setChannel(channel);\n            mqQueueConnectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\n            mqQueueConnectionFactory.setObjectProperty(WMQConstants.WMQ_SSL_SOCKET_FACTORY, sslSocketFactory);\n            mqQueueConnectionFactory.setSSLCipherSuite(sslCipherSuite);\n            mqQueueConnectionFactory.setIntProperty(CommonConstants.WMQ_CONNECTION_MODE, CommonConstants.WMQ_CM_CLIENT);\n            mqQueueConnectionFactory.setQueueManager(queueManager);\n\n            MQEnvironment.sslSocketFactory = sslSocketFactory;\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n        return  mqQueueConnectionFactory;\n    }\n}\n</code></pre>\n<p>And this is the stacktrace:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: 'mqjbnd'.\n        at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:184) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:510) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate.send(JmsConfiguration.java:572) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.doSend(JmsProducer.java:425) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.processInOnly(JmsProducer.java:392) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.process(JmsProducer.java:159) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:475) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeReactiveWork(DefaultReactiveExecutor.java:196) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:164) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.Pipeline.process(Pipeline.java:163) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:379) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:208) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\n        at java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\n        at java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\n    Caused by: com.ibm.msg.client.jakarta.jms.DetailedJMSException: JMSFMQ6312: An exception occurred in the Java(tm) MQI.\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:334) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:226) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8653) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:8023) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:322) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:242) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6026) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createQueueConnection(MQQueueConnectionFactory.java:111) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createConnection(MQQueueConnectionFactory.java:200) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:497) ~[spring-jms-6.0.10.jar:6.0.10]\n        ... 15 common frames omitted\n    Caused by: com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: 'mqjbnd'.\n        at com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1167) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ$1.run(LocalMQ.java:307) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\n        at com.ibm.mq.jmqi.local.LocalMQ.initialise_inner(LocalMQ.java:262) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ.initialise(LocalMQ.java:224) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ.&lt;init&gt;(LocalMQ.java:1249) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalServer.&lt;init&gt;(LocalServer.java:230) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at com.ibm.mq.jmqi.JmqiEnvironment.getInstance(JmqiEnvironment.java:765) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.JmqiEnvironment.getMQI(JmqiEnvironment.java:699) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8645) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        ... 23 common frames omitted\n    Caused by: java.lang.UnsatisfiedLinkError: no mqjbnd in java.library.path: /Users/user/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\n        at java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\n        at com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1140) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        ... 37 common frames omitted\n    \n    2023-07-19T10:39:05.986+02:00  WARN 59061 --- [timer://mytimer] o.a.camel.component.timer.TimerConsumer  : Error processing exchange. Exchange[F460175233ACADD-0000000000000000]. Caused by: [org.springframework.jms.UncategorizedJmsException - Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: 'mqjbnd'.]\n    \n    org.springframework.jms.UncategorizedJmsException: Uncategorized exception occurred during JMS processing; nested exception is com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: 'mqjbnd'.\n        at org.springframework.jms.support.JmsUtils.convertJmsAccessException(JmsUtils.java:311) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.support.JmsAccessor.convertJmsAccessException(JmsAccessor.java:184) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:510) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.apache.camel.component.jms.JmsConfiguration$CamelJmsTemplate.send(JmsConfiguration.java:572) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.doSend(JmsProducer.java:425) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.processInOnly(JmsProducer.java:392) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.jms.JmsProducer.process(JmsProducer.java:159) ~[camel-jms-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.SendProcessor.process(SendProcessor.java:172) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.errorhandler.RedeliveryErrorHandler$SimpleTask.run(RedeliveryErrorHandler.java:475) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.executeReactiveWork(DefaultReactiveExecutor.java:196) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor$Worker.schedule(DefaultReactiveExecutor.java:164) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.DefaultReactiveExecutor.scheduleMain(DefaultReactiveExecutor.java:59) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.processor.Pipeline.process(Pipeline.java:163) ~[camel-core-processor-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.impl.engine.CamelInternalProcessor.process(CamelInternalProcessor.java:379) ~[camel-base-engine-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.timer.TimerConsumer.sendTimerExchange(TimerConsumer.java:208) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\n        at org.apache.camel.component.timer.TimerConsumer$1.run(TimerConsumer.java:76) ~[camel-timer-4.0.0-RC1.jar:4.0.0-RC1]\n        at java.base/java.util.TimerThread.mainLoop(Timer.java:566) ~[na:na]\n        at java.base/java.util.TimerThread.run(Timer.java:516) ~[na:na]\n    Caused by: com.ibm.msg.client.jakarta.jms.DetailedJMSException: JMSFMQ6312: An exception occurred in the Java(tm) MQI.\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at com.ibm.msg.client.commonservices.j2se.NLSServices.createException(NLSServices.java:334) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.commonservices.nls.NLSServices.createException(NLSServices.java:226) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8653) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createProviderConnection(WMQConnectionFactory.java:8023) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl._createConnection(JmsConnectionFactoryImpl.java:322) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.jms.admin.JmsConnectionFactoryImpl.createConnection(JmsConnectionFactoryImpl.java:242) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQConnectionFactory.createCommonConnection(MQConnectionFactory.java:6026) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createQueueConnection(MQQueueConnectionFactory.java:111) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jakarta.jms.MQQueueConnectionFactory.createConnection(MQQueueConnectionFactory.java:200) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at org.springframework.jms.support.JmsAccessor.createConnection(JmsAccessor.java:196) ~[spring-jms-6.0.10.jar:6.0.10]\n        at org.springframework.jms.core.JmsTemplate.execute(JmsTemplate.java:497) ~[spring-jms-6.0.10.jar:6.0.10]\n        ... 15 common frames omitted\n    Caused by: com.ibm.mq.jmqi.local.LocalMQ$2: CC=2;RC=2495;AMQ8598: Failed to load the IBM MQ native JNI library: 'mqjbnd'.\n        at com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1167) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ$1.run(LocalMQ.java:307) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at java.base/java.security.AccessController.doPrivileged(AccessController.java:318) ~[na:na]\n        at com.ibm.mq.jmqi.local.LocalMQ.initialise_inner(LocalMQ.java:262) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ.initialise(LocalMQ.java:224) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalMQ.&lt;init&gt;(LocalMQ.java:1249) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.local.LocalServer.&lt;init&gt;(LocalServer.java:230) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:480) ~[na:na]\n        at com.ibm.mq.jmqi.JmqiEnvironment.getInstance(JmqiEnvironment.java:765) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.mq.jmqi.JmqiEnvironment.getMQI(JmqiEnvironment.java:699) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        at com.ibm.msg.client.jakarta.wmq.factories.WMQConnectionFactory.createV7ProviderConnection(WMQConnectionFactory.java:8645) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        ... 23 common frames omitted\n    Caused by: java.lang.UnsatisfiedLinkError: no mqjbnd in java.library.path: /Users/user/Library/Java/Extensions:/Library/Java/Extensions:/Network/Library/Java/Extensions:/System/Library/Java/Extensions:/usr/lib/java:.\n        at java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2429) ~[na:na]\n        at java.base/java.lang.Runtime.loadLibrary0(Runtime.java:818) ~[na:na]\n        at java.base/java.lang.System.loadLibrary(System.java:1989) ~[na:na]\n        at com.ibm.mq.jmqi.local.LocalMQ.loadLib(LocalMQ.java:1140) ~[com.ibm.mq.jakarta.client-9.3.3.0.jar:9.3.3.0 - p933-L230531]\n        ... 37 common frames omitted\n</code></pre>\n"},{"tags":["java","jms","ejb","weblogic","ejb-3.0"],"comments":[{"owner":{"account_id":4558101,"reputation":17722,"user_id":3701228,"display_name":"Gas"},"score":0,"creation_date":1690213226,"post_id":76719710,"comment_id":135318651,"body_markdown":"Typically this is when you have exception/error in the processing and you transaction is rolled back, so double check your logs ;-) otherwise is it is rather not possible.","body":"Typically this is when you have exception/error in the processing and you transaction is rolled back, so double check your logs ;-) otherwise is it is rather not possible."}],"owner":{"account_id":8129121,"reputation":1124,"user_id":6122975,"display_name":"Jose A. Matar&#225;n"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689759463,"creation_date":1689758172,"question_id":76719710,"body_markdown":"I&#39;m facing an issue with an EJB that I have deployed on WebLogic. This EJB consumes messages from some queues. While the message is being read and processed correctly by my application, it does not disappear from the queue as expected.\r\n\r\nHere&#39;s a brief description of the situation:\r\n\r\n - I do not have admin rights to manage or directly inspect the queues.\r\n   \r\n - My understanding is that once the EJB processes the message, it\r\n   should be removed from the queue. \r\n - The processing logic within the EJB\r\n   seems to be working as expected, and I haven&#39;t encountered any\r\n   exceptions or error messages in the logs. \r\n\r\nIs there anyone who has faced a similar issue or has any insights on why this might be happening? I&#39;m looking for any suggestions or troubleshooting steps that might help me identify and solve this problem.\r\n\r\nMy EJB: \r\n```java\r\n@MessageDriven(activationConfig = { @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;,\r\n                                                              propertyValue = &quot;Auto-acknowledge&quot;),\r\n                                    @ActivationConfigProperty(propertyName = &quot;destinationType&quot;,\r\n                                                              propertyValue = &quot;javax.jms.Queue&quot;) },\r\n               mappedName = &quot;java:comp/env/cola&quot;)\r\npublic class ConsumerMessageListener implements MessageListener {\r\n\r\n  private static final Logger LOGGER = Logger.getLogger(ConsumerMessageListener.class);\r\n\r\n  /**\r\n   * Default constructor. Siempre hay que suministrar un constructor por defecto en un MDB.\r\n   */\r\n  public ConsumerMessageListener() {\r\n    // Constructor por defecto\r\n  }\r\n\r\n  /**\r\n   * onMessage\r\n   *\r\n   * Metodo que es llamado cuando se recibe un mensaje desde el JMS tipo TOPIC.\r\n   *\r\n   */\r\n  public void onMessage(Message message) {\r\n\r\n    try {\r\n      LOGGER.debug(&quot;Procesando mensaje &quot; + message.toString());\r\n      TextMessage tm = (TextMessage) message;\r\n      String text = tm.getText();\r\n      \r\n\r\n      LOGGER.info(&quot;END MESSAGE: &quot; + text);\r\n\r\n    } catch (Exception ex) {\r\n      LOGGER.error(&quot;An exception occurred: &quot; + ex.getMessage());\r\n      LOGGER.error(&quot;Error: Listener: &quot; + ex.getCause());\r\n    }\r\n\r\n  }\r\n\r\n}\r\n```\r\n\r\nThank you in advance for your help!","title":"EJB deployed on WebLogic reads and processes messages from queues, but they don&#39;t disappear","body":"<p>I'm facing an issue with an EJB that I have deployed on WebLogic. This EJB consumes messages from some queues. While the message is being read and processed correctly by my application, it does not disappear from the queue as expected.</p>\n<p>Here's a brief description of the situation:</p>\n<ul>\n<li><p>I do not have admin rights to manage or directly inspect the queues.</p>\n</li>\n<li><p>My understanding is that once the EJB processes the message, it\nshould be removed from the queue.</p>\n</li>\n<li><p>The processing logic within the EJB\nseems to be working as expected, and I haven't encountered any\nexceptions or error messages in the logs.</p>\n</li>\n</ul>\n<p>Is there anyone who has faced a similar issue or has any insights on why this might be happening? I'm looking for any suggestions or troubleshooting steps that might help me identify and solve this problem.</p>\n<p>My EJB:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@MessageDriven(activationConfig = { @ActivationConfigProperty(propertyName = &quot;acknowledgeMode&quot;,\n                                                              propertyValue = &quot;Auto-acknowledge&quot;),\n                                    @ActivationConfigProperty(propertyName = &quot;destinationType&quot;,\n                                                              propertyValue = &quot;javax.jms.Queue&quot;) },\n               mappedName = &quot;java:comp/env/cola&quot;)\npublic class ConsumerMessageListener implements MessageListener {\n\n  private static final Logger LOGGER = Logger.getLogger(ConsumerMessageListener.class);\n\n  /**\n   * Default constructor. Siempre hay que suministrar un constructor por defecto en un MDB.\n   */\n  public ConsumerMessageListener() {\n    // Constructor por defecto\n  }\n\n  /**\n   * onMessage\n   *\n   * Metodo que es llamado cuando se recibe un mensaje desde el JMS tipo TOPIC.\n   *\n   */\n  public void onMessage(Message message) {\n\n    try {\n      LOGGER.debug(&quot;Procesando mensaje &quot; + message.toString());\n      TextMessage tm = (TextMessage) message;\n      String text = tm.getText();\n      \n\n      LOGGER.info(&quot;END MESSAGE: &quot; + text);\n\n    } catch (Exception ex) {\n      LOGGER.error(&quot;An exception occurred: &quot; + ex.getMessage());\n      LOGGER.error(&quot;Error: Listener: &quot; + ex.getCause());\n    }\n\n  }\n\n}\n</code></pre>\n<p>Thank you in advance for your help!</p>\n"},{"tags":["java","garbage-collection"],"comments":[{"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1689758828,"post_id":76719751,"comment_id":135257388,"body_markdown":"Almost entirely sure the answer is simply &#39;no&#39;.","body":"Almost entirely sure the answer is simply &#39;no&#39;."},{"owner":{"account_id":9317260,"reputation":165,"user_id":6917208,"display_name":"Adam McClenaghan"},"score":0,"creation_date":1689759658,"post_id":76719751,"comment_id":135257570,"body_markdown":"&quot;When the data is fully loaded I want the GC to be quite passive so that the user may interact with the data in peace.&quot;\n\n\nIt will be passive so long as you&#39;re not loading more into memory? Java&#39;s GC is smart enough to only run when it needs to. Give your JVM enough headroom to handle the amount of data you have to load, let it worry about when to run.","body":"&quot;When the data is fully loaded I want the GC to be quite passive so that the user may interact with the data in peace.&quot;   It will be passive so long as you&#39;re not loading more into memory? Java&#39;s GC is smart enough to only run when it needs to. Give your JVM enough headroom to handle the amount of data you have to load, let it worry about when to run."},{"owner":{"account_id":9888012,"reputation":176,"user_id":7321954,"display_name":"MPIchael"},"score":0,"creation_date":1689767288,"post_id":76719751,"comment_id":135259185,"body_markdown":"Our headroom is limited:-) See, when loading the data, we do not know how large the incoming datasets will be, therefore it would be advantageous to have minimal remaining dormant objects in the heap to reduce the chance of OME. For that, it would be neat to have the GC be quite aggressive. The GC may be smart, but It can not anticiapted how much data is incoming via the network.","body":"Our headroom is limited:-) See, when loading the data, we do not know how large the incoming datasets will be, therefore it would be advantageous to have minimal remaining dormant objects in the heap to reduce the chance of OME. For that, it would be neat to have the GC be quite aggressive. The GC may be smart, but It can not anticiapted how much data is incoming via the network."},{"owner":{"account_id":2449170,"reputation":1315,"user_id":2135838,"display_name":"Sascha"},"score":1,"creation_date":1689845575,"post_id":76719751,"comment_id":135272120,"body_markdown":"You can&#39;t change the parameters, but you can call a FullGC programmatically: `System.gc()`. Doing that before you load your data should ensure you have the most memory available.","body":"You can&#39;t change the parameters, but you can call a FullGC programmatically: <code>System.gc()</code>. Doing that before you load your data should ensure you have the most memory available."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1690196259,"post_id":76719751,"comment_id":135314878,"body_markdown":"There’s a fundamental error in your mindset. It doesn’t matter whether the GC is configured to be “aggressive” or “passive” regarding “the chance of OME”. The garbage collector will not throw an OutOfMemoryError when there are lots of “remaining dormant objects in the heap”. It will clean them up first, even if that implies that your configured pause time goals can not be reached, in fact, even if that implies that the concurrent garbage collector ends up behaving like a non-concurrent garbage collector.","body":"There’s a fundamental error in your mindset. It doesn’t matter whether the GC is configured to be “aggressive” or “passive” regarding “the chance of OME”. The garbage collector will not throw an OutOfMemoryError when there are lots of “remaining dormant objects in the heap”. It will clean them up first, even if that implies that your configured pause time goals can not be reached, in fact, even if that implies that the concurrent garbage collector ends up behaving like a non-concurrent garbage collector."},{"owner":{"account_id":9888012,"reputation":176,"user_id":7321954,"display_name":"MPIchael"},"score":0,"creation_date":1690206315,"post_id":76719751,"comment_id":135317082,"body_markdown":"@Holger Lets say we have a solid 30mb/sec allocation rate from the network coming in, and we do not know whether it will all fit into the allocated heap of any particular given machine. Then, when I leave the GC on standard settings it might not behave optimally, i.e., (clear the younger generation spaces of the GC in time), and I would like to tweak it. Why..is that a fundamental error in my mindset? Other programming languages have to deal with these problems all the time.","body":"@Holger Lets say we have a solid 30mb/sec allocation rate from the network coming in, and we do not know whether it will all fit into the allocated heap of any particular given machine. Then, when I leave the GC on standard settings it might not behave optimally, i.e., (clear the younger generation spaces of the GC in time), and I would like to tweak it. Why..is that a fundamental error in my mindset? Other programming languages have to deal with these problems all the time."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":1,"creation_date":1690215423,"post_id":76719751,"comment_id":135319125,"body_markdown":"You changed the topic. In your previous comment you implicitly claimed that you could get an `OutOfMemoryError` (“to reduce the chance of OME”) if not changing the options. Performance tuning is an entirely different thing. But it’s still strange that you write “we do not know how large the incoming datasets will be” but at the same time believe that you know the best tuning options better than the garbage collector.","body":"You changed the topic. In your previous comment you implicitly claimed that you could get an <code>OutOfMemoryError</code> (“to reduce the chance of OME”) if not changing the options. Performance tuning is an entirely different thing. But it’s still strange that you write “we do not know how large the incoming datasets will be” but at the same time believe that you know the best tuning options better than the garbage collector."}],"owner":{"account_id":9888012,"reputation":176,"user_id":7321954,"display_name":"MPIchael"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689758926,"creation_date":1689758420,"question_id":76719751,"body_markdown":"The usage of our application has two main modes, one where large quantities of data are loaded and one where the user interacts with the loaded data and wants to have maximal responsivity. When the data is loaded, I want the GC to be quite aggressive to prevent accidental Overflows as new data arrives. When the data is fully loaded I want the GC to be quite passive so that the user may interact with the data in peace.\r\n\r\nI have read about the possible options that can be configured in the java garbage collector. One may set JVM options like the following to tweak the behaviour for any given use case:\r\n\r\n\r\n    -XX:+G1GC\r\n    \r\n    -XX:GCTimeRatio=9\r\n    \r\n    -XX:MaxGCPauseMillis=100\r\n\r\n\r\n**Is it possible to change these settings at runtime** to give justice to the fact that I have different needs at different phases of application usage?","title":"Is it possible to change java garbage collector settings at runtime?","body":"<p>The usage of our application has two main modes, one where large quantities of data are loaded and one where the user interacts with the loaded data and wants to have maximal responsivity. When the data is loaded, I want the GC to be quite aggressive to prevent accidental Overflows as new data arrives. When the data is fully loaded I want the GC to be quite passive so that the user may interact with the data in peace.</p>\n<p>I have read about the possible options that can be configured in the java garbage collector. One may set JVM options like the following to tweak the behaviour for any given use case:</p>\n<pre><code>-XX:+G1GC\n\n-XX:GCTimeRatio=9\n\n-XX:MaxGCPauseMillis=100\n</code></pre>\n<p><strong>Is it possible to change these settings at runtime</strong> to give justice to the fact that I have different needs at different phases of application usage?</p>\n"},{"tags":["java","spring","annotations","micrometer","spring-micrometer"],"answers":[{"tags":[],"owner":{"account_id":5559956,"reputation":13819,"user_id":9840318,"display_name":"Madhu Bhat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1556711448,"creation_date":1556711448,"answer_id":55935812,"question_id":55932486,"body_markdown":"It is **NOT** possible to pass values the way that you&#39;re expecting to `@Timed` or any other annotation for that matter. Values passed to any annotation must be a compile time constant.\r\n\r\nA compile time constant is something like:\r\n\r\n    private static final String tag = &quot;account&quot;;\r\n\r\nThe value returned by `Account.getById()` is not a compile time constant and hence cannot be accepted by an annotation.","title":"@TImed with extraTags and @PathVariable","body":"<p>It is <strong>NOT</strong> possible to pass values the way that you're expecting to <code>@Timed</code> or any other annotation for that matter. Values passed to any annotation must be a compile time constant.</p>\n\n<p>A compile time constant is something like:</p>\n\n<pre><code>private static final String tag = \"account\";\n</code></pre>\n\n<p>The value returned by <code>Account.getById()</code> is not a compile time constant and hence cannot be accepted by an annotation.</p>\n"},{"tags":[],"owner":{"account_id":324651,"reputation":771,"user_id":645344,"display_name":"jolo"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1558622285,"creation_date":1558446741,"answer_id":56239866,"question_id":55932486,"body_markdown":"I don&#39;t believe you&#39;ll be able to use the `@Timed` annotation to accomplish what you&#39;re doing, but you can manually time the method and do what you want.  Here is an example:\r\n\r\n```\r\n.\r\n.\r\n.\r\n@Autowired MeterRegistry meterRegistry;\r\n.\r\n.\r\n.\r\npublic Info getInfo(@PathVariable(&quot;id&quot;) String id) {\r\n    final Sample sample = Timer.start(meterRegistry);\r\n    \r\n    final Info info = Info.getById(id);\r\n\r\n    sample.stop(Timer.builder(&quot;timed&quot;)\r\n                     .tag(&quot;account&quot;, Account.getById(id)\r\n                     .register(meterRegistry));\r\n    return info;\r\n}\r\n```","title":"@TImed with extraTags and @PathVariable","body":"<p>I don't believe you'll be able to use the <code>@Timed</code> annotation to accomplish what you're doing, but you can manually time the method and do what you want.  Here is an example:</p>\n\n<pre><code>.\n.\n.\n@Autowired MeterRegistry meterRegistry;\n.\n.\n.\npublic Info getInfo(@PathVariable(\"id\") String id) {\n    final Sample sample = Timer.start(meterRegistry);\n\n    final Info info = Info.getById(id);\n\n    sample.stop(Timer.builder(\"timed\")\n                     .tag(\"account\", Account.getById(id)\n                     .register(meterRegistry));\n    return info;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1742174,"reputation":11,"user_id":1593270,"display_name":"gilad_karach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689758886,"creation_date":1689758886,"answer_id":76719813,"question_id":55932486,"body_markdown":"Now it&#39;s possible to do it using annotation called [@MeterTag][1]\r\n\r\nSo for example you can do it like this:\r\n\r\n    @Timed\r\n    public Info getInfo(@MeterTag(&quot;id&quot;) @PathVariable(&quot;id&quot;) String id) {\r\n        return Info.getById(id);\r\n    }\r\n\r\n  [1]: https://github.com/micrometer-metrics/micrometer/pull/3727","title":"@TImed with extraTags and @PathVariable","body":"<p>Now it's possible to do it using annotation called <a href=\"https://github.com/micrometer-metrics/micrometer/pull/3727\" rel=\"nofollow noreferrer\">@MeterTag</a></p>\n<p>So for example you can do it like this:</p>\n<pre><code>@Timed\npublic Info getInfo(@MeterTag(&quot;id&quot;) @PathVariable(&quot;id&quot;) String id) {\n    return Info.getById(id);\n}\n</code></pre>\n"}],"owner":{"account_id":15849544,"reputation":11,"user_id":11435761,"display_name":"Allen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1689758886,"creation_date":1556692594,"question_id":55932486,"body_markdown":"I have a method with annotation like this:\r\n```\r\n@Timed(value=&quot;timed&quot;, extraTags={&quot;account&quot;, Account.getById(@PathVariable(&quot;id&quot;)}\r\npublic Info getInfo(@PathVariable(&quot;id&quot;) String id) {\r\n    return Info.getById(id);\r\n}\r\n```\r\nThe above does not work of course. Hopefully, you can see what I&#39;m trying to do.  What is the correct syntax to set the account tag to the value returned by Account.getById() given an id on the path?","title":"@TImed with extraTags and @PathVariable","body":"<p>I have a method with annotation like this:</p>\n\n<pre><code>@Timed(value=\"timed\", extraTags={\"account\", Account.getById(@PathVariable(\"id\")}\npublic Info getInfo(@PathVariable(\"id\") String id) {\n    return Info.getById(id);\n}\n</code></pre>\n\n<p>The above does not work of course. Hopefully, you can see what I'm trying to do.  What is the correct syntax to set the account tag to the value returned by Account.getById() given an id on the path?</p>\n"},{"tags":["java","amazon-web-services","aws-lambda","aws-sdk","aws-sdk-java-2.0"],"comments":[{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":2,"creation_date":1513578340,"post_id":47862541,"comment_id":82691124,"body_markdown":"Maybe there is no SDK, JRE only","body":"Maybe there is no SDK, JRE only"},{"owner":{"account_id":215963,"reputation":7621,"user_id":470912,"accept_rate":71,"display_name":"hisdrewness"},"score":0,"creation_date":1513578577,"post_id":47862541,"comment_id":82691218,"body_markdown":"I just realized this as well :(","body":"I just realized this as well :("},{"owner":{"account_id":215963,"reputation":7621,"user_id":470912,"accept_rate":71,"display_name":"hisdrewness"},"score":0,"creation_date":1513962394,"post_id":47862541,"comment_id":82859714,"body_markdown":"@Antoniossss submit your comment as an answer so I can accept it","body":"@Antoniossss submit your comment as an answer so I can accept it"}],"answers":[{"tags":[],"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1513973643,"creation_date":1513973643,"answer_id":47946896,"question_id":47862541,"body_markdown":"Maybe there is no SDK, JRE only.","title":"AWS Lambda JavaCompiler instance","body":"<p>Maybe there is no SDK, JRE only.</p>\n"}],"owner":{"account_id":215963,"reputation":7621,"user_id":470912,"accept_rate":71,"display_name":"hisdrewness"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":166,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":47946896,"answer_count":1,"score":0,"last_activity_date":1689758514,"creation_date":1513574608,"question_id":47862541,"body_markdown":"In an AWS Lambda Java 8 Function, is it possible to get an instance of  `SystemJavaCompiler`? Here&#39;s a snippet:\r\n\r\n    final File root = new File(&quot;/tmp&quot;);    \r\n    final File sourceFile = new File(root, type.getSourceFilename());\r\n    \r\n    sourceFile.getParentFile().mkdirs();\r\n    \r\n    Files.write(sourceFile.toPath(), templateString.getBytes(StandardCharsets.UTF_8));\r\n    \r\n    final JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\r\n    compiler.run(null, null, null, sourceFile.getPath());\r\n\r\nI&#39;m attempting to dynamically compile source code in a Lambda and `ToolProvider.getSystemJavaCompiler()` throws a `NullPointerException`. This works great locally. I was hoping to avoid deploying an EC2 instance to benefit from the resource savings of Lambda.","title":"AWS Lambda JavaCompiler instance","body":"<p>In an AWS Lambda Java 8 Function, is it possible to get an instance of  <code>SystemJavaCompiler</code>? Here's a snippet:</p>\n\n<pre><code>final File root = new File(\"/tmp\");    \nfinal File sourceFile = new File(root, type.getSourceFilename());\n\nsourceFile.getParentFile().mkdirs();\n\nFiles.write(sourceFile.toPath(), templateString.getBytes(StandardCharsets.UTF_8));\n\nfinal JavaCompiler compiler = ToolProvider.getSystemJavaCompiler();\ncompiler.run(null, null, null, sourceFile.getPath());\n</code></pre>\n\n<p>I'm attempting to dynamically compile source code in a Lambda and <code>ToolProvider.getSystemJavaCompiler()</code> throws a <code>NullPointerException</code>. This works great locally. I was hoping to avoid deploying an EC2 instance to benefit from the resource savings of Lambda.</p>\n"},{"tags":["java","hibernate","jpa","jdbc","persistence"],"owner":{"account_id":9680402,"reputation":23,"user_id":7182327,"display_name":"zhs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":14,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689758487,"creation_date":1689758487,"question_id":76719761,"body_markdown":"the version of tomcat ee is 7.0.81\r\nI try to use java persistence to store data in database. but when I add the both dependencys and create the persistence.xml file. I will occur some error.   \r\nhere is the dependency, I use 2.2 version of persistence. and 5.3.7 hibernate\r\n```\r\n &lt;dependency&gt;\r\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\r\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\r\n            &lt;version&gt;2.2&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n            &lt;version&gt;5.3.7.Final&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n```\r\nhere is the config file.  I just follow the internet, then change the url, user, and password to correct.\r\n\r\n```\r\n&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; version=&quot;2.2&quot;&gt;\r\n    &lt;persistence-unit name=&quot;persistence&quot;&gt;\r\n        &lt;description&gt;Hibernate JPA Demo&lt;/description&gt;\r\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.Driver&quot;\r\n                      value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\r\n                      value=&quot;jdbc:mysql://127.0.0.1:3306/property?useUnicode=true&amp;amp;characterEncoding=utf-8&amp;amp;useSSL=false&amp;amp;serverTimezone=GMT&amp;amp;allowPublicKeyRetrieval=true&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot;\r\n                      value=&quot;root&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot;\r\n                      value=&quot;sa@123&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot;\r\n                      value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;\r\n                      value=&quot;validate&quot;/&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nhere is the error, when I try to start my project.\r\n```\r\nSEVERE: Unable to load Persistence Unit from EAR: C:\\project\\propertyByEJB\\target\\propertyByEJB-1.0-SNAPSHOT, module: file:/C:/project/propertyByEJB/target/propertyByEJB-1.0-SNAPSHOT/WEB-INF/classes/. Exception: unexpected element (uri:&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;, local:&quot;persistence&quot;). Expected elements are &lt;{http://java.sun.com/xml/ns/persistence}persistence&gt;\r\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;, local:&quot;persistence&quot;). Expected elements are &lt;{http://java.sun.com/xml/ns/persistence}persistence&gt;\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:662)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:258)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:253)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:120)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1063)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:498)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:480)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:150)\r\n\tat org.xml.sax.helpers.XMLFilterImpl.startElement(XMLFilterImpl.java:551)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:509)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3132)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:852)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\r\n\tat com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:841)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:770)\r\n\tat com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\r\n\tat com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\r\n\tat com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\r\n\tat org.xml.sax.helpers.XMLFilterImpl.parse(XMLFilterImpl.java:357)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:258)\r\n\tat com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:229)\r\n\tat javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:214)\r\n\tat org.apache.openejb.jee.jpa.unit.JaxbPersistenceFactory.getPersistence(JaxbPersistenceFactory.java:64)\r\n\tat org.apache.openejb.config.ReadDescriptors.deploy(ReadDescriptors.java:180)\r\n\tat org.apache.openejb.config.ConfigurationFactory$Chain.deploy(ConfigurationFactory.java:403)\r\n\tat org.apache.openejb.config.ConfigurationFactory.configureApplication(ConfigurationFactory.java:971)\r\n\tat org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1227)\r\n\tat org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1100)\r\n\tat org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:130)\r\n\tat org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)\r\n\tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5519)\r\n\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\r\n\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1009)\r\n\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:985)\r\n\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)\r\n\tat org.apache.tomee.catalina.TomcatWebAppBuilder.deployWar(TomcatWebAppBuilder.java:663)\r\n\tat org.apache.tomee.catalina.TomcatWebAppBuilder.deployWebApps(TomcatWebAppBuilder.java:622)\r\n\tat org.apache.tomee.catalina.deployment.TomcatWebappDeployer.deploy(TomcatWebappDeployer.java:43)\r\n\tat org.apache.openejb.assembler.DeployerEjb.deploy(DeployerEjb.java:176)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\r\n\tat org.apache.openejb.security.internal.InternalSecurityInterceptor.invoke(InternalSecurityInterceptor.java:35)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\r\n\tat org.apache.openejb.monitoring.StatsInterceptor.record(StatsInterceptor.java:181)\r\n\tat org.apache.openejb.monitoring.StatsInterceptor.invoke(StatsInterceptor.java:100)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat java.lang.reflect.Method.invoke(Method.java:498)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\r\n\tat org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\r\n\tat org.apache.openejb.core.interceptor.InterceptorStack.invoke(InterceptorStack.java:85)\r\n\tat org.apache.openejb.core.stateless.StatelessContainer._invoke(StatelessContainer.java:227)\r\n\tat org.apache.openejb.core.stateless.StatelessContainer.invoke(StatelessContainer.java:194)\r\n\tat org.apache.openejb.server.ejbd.EjbRequestHandler.doEjbObject_BUSINESS_METHOD(EjbRequestHandler.java:370)\r\n\tat org.apache.openejb.server.ejbd.EjbRequestHandler.processRequest(EjbRequestHandler.java:181)\r\n\tat org.apache.openejb.server.ejbd.EjbDaemon.processEjbRequest(EjbDaemon.java:361)\r\n\tat org.apache.openejb.server.ejbd.EjbDaemon.service(EjbDaemon.java:257)\r\n\tat org.apache.openejb.server.ejbd.EjbServer.service(EjbServer.java:104)\r\n\tat org.apache.openejb.server.httpd.ServerServlet.service(ServerServlet.java:58)\r\n\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\r\n\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\r\n\tat org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:44)\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\r\n\tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:962)\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\r\n\tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\r\n\tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\r\n\tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:318)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\tat java.lang.Thread.run(Thread.java:745)\r\n\r\n```\r\n","title":"java persistence error. javax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;, local:&quot;persistence&quot;)","body":"<p>the version of tomcat ee is 7.0.81\nI try to use java persistence to store data in database. but when I add the both dependencys and create the persistence.xml file. I will occur some error.<br />\nhere is the dependency, I use 2.2 version of persistence. and 5.3.7 hibernate</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;javax.persistence&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.persistence-api&lt;/artifactId&gt;\n            &lt;version&gt;2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.3.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>here is the config file.  I just follow the internet, then change the url, user, and password to correct.</p>\n<pre><code>&lt;persistence xmlns=&quot;http://xmlns.jcp.org/xml/ns/persistence&quot; version=&quot;2.2&quot;&gt;\n    &lt;persistence-unit name=&quot;persistence&quot;&gt;\n        &lt;description&gt;Hibernate JPA Demo&lt;/description&gt;\n        &lt;provider&gt;org.hibernate.jpa.HibernatePersistenceProvider&lt;/provider&gt;\n        &lt;properties&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.Driver&quot;\n                      value=&quot;com.mysql.cj.jdbc.Driver&quot;/&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot;\n                      value=&quot;jdbc:mysql://127.0.0.1:3306/property?useUnicode=true&amp;amp;characterEncoding=utf-8&amp;amp;useSSL=false&amp;amp;serverTimezone=GMT&amp;amp;allowPublicKeyRetrieval=true&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot;\n                      value=&quot;root&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot;\n                      value=&quot;sa@123&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot;\n                      value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot;\n                      value=&quot;validate&quot;/&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>here is the error, when I try to start my project.</p>\n<pre><code>SEVERE: Unable to load Persistence Unit from EAR: C:\\project\\propertyByEJB\\target\\propertyByEJB-1.0-SNAPSHOT, module: file:/C:/project/propertyByEJB/target/propertyByEJB-1.0-SNAPSHOT/WEB-INF/classes/. Exception: unexpected element (uri:&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;, local:&quot;persistence&quot;). Expected elements are &lt;{http://java.sun.com/xml/ns/persistence}persistence&gt;\njavax.xml.bind.UnmarshalException: unexpected element (uri:&quot;http://xmlns.jcp.org/xml/ns/persistence&quot;, local:&quot;persistence&quot;). Expected elements are &lt;{http://java.sun.com/xml/ns/persistence}persistence&gt;\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.handleEvent(UnmarshallingContext.java:662)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:258)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportError(Loader.java:253)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.Loader.reportUnexpectedChildElement(Loader.java:120)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext$DefaultRootLoader.childElement(UnmarshallingContext.java:1063)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext._startElement(UnmarshallingContext.java:498)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallingContext.startElement(UnmarshallingContext.java:480)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.SAXConnector.startElement(SAXConnector.java:150)\n    at org.xml.sax.helpers.XMLFilterImpl.startElement(XMLFilterImpl.java:551)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.startElement(AbstractSAXParser.java:509)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.scanStartElement(XMLNSDocumentScannerImpl.java:374)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl$NSContentDriver.scanRootElementHook(XMLNSDocumentScannerImpl.java:613)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl$FragmentContentDriver.next(XMLDocumentFragmentScannerImpl.java:3132)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:852)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)\n    at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)\n    at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:841)\n    at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:770)\n    at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)\n    at com.sun.org.apache.xerces.internal.parsers.AbstractSAXParser.parse(AbstractSAXParser.java:1213)\n    at com.sun.org.apache.xerces.internal.jaxp.SAXParserImpl$JAXPSAXParser.parse(SAXParserImpl.java:643)\n    at org.xml.sax.helpers.XMLFilterImpl.parse(XMLFilterImpl.java:357)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal0(UnmarshallerImpl.java:258)\n    at com.sun.xml.bind.v2.runtime.unmarshaller.UnmarshallerImpl.unmarshal(UnmarshallerImpl.java:229)\n    at javax.xml.bind.helpers.AbstractUnmarshallerImpl.unmarshal(AbstractUnmarshallerImpl.java:214)\n    at org.apache.openejb.jee.jpa.unit.JaxbPersistenceFactory.getPersistence(JaxbPersistenceFactory.java:64)\n    at org.apache.openejb.config.ReadDescriptors.deploy(ReadDescriptors.java:180)\n    at org.apache.openejb.config.ConfigurationFactory$Chain.deploy(ConfigurationFactory.java:403)\n    at org.apache.openejb.config.ConfigurationFactory.configureApplication(ConfigurationFactory.java:971)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.startInternal(TomcatWebAppBuilder.java:1227)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.configureStart(TomcatWebAppBuilder.java:1100)\n    at org.apache.tomee.catalina.GlobalListenerSupport.lifecycleEvent(GlobalListenerSupport.java:130)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:117)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5519)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:145)\n    at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:1009)\n    at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:985)\n    at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:652)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.deployWar(TomcatWebAppBuilder.java:663)\n    at org.apache.tomee.catalina.TomcatWebAppBuilder.deployWebApps(TomcatWebAppBuilder.java:622)\n    at org.apache.tomee.catalina.deployment.TomcatWebappDeployer.deploy(TomcatWebappDeployer.java:43)\n    at org.apache.openejb.assembler.DeployerEjb.deploy(DeployerEjb.java:176)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\n    at org.apache.openejb.security.internal.InternalSecurityInterceptor.invoke(InternalSecurityInterceptor.java:35)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\n    at org.apache.openejb.monitoring.StatsInterceptor.record(StatsInterceptor.java:181)\n    at org.apache.openejb.monitoring.StatsInterceptor.invoke(StatsInterceptor.java:100)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext$Invocation.invoke(ReflectionInvocationContext.java:192)\n    at org.apache.openejb.core.interceptor.ReflectionInvocationContext.proceed(ReflectionInvocationContext.java:173)\n    at org.apache.openejb.core.interceptor.InterceptorStack.invoke(InterceptorStack.java:85)\n    at org.apache.openejb.core.stateless.StatelessContainer._invoke(StatelessContainer.java:227)\n    at org.apache.openejb.core.stateless.StatelessContainer.invoke(StatelessContainer.java:194)\n    at org.apache.openejb.server.ejbd.EjbRequestHandler.doEjbObject_BUSINESS_METHOD(EjbRequestHandler.java:370)\n    at org.apache.openejb.server.ejbd.EjbRequestHandler.processRequest(EjbRequestHandler.java:181)\n    at org.apache.openejb.server.ejbd.EjbDaemon.processEjbRequest(EjbDaemon.java:361)\n    at org.apache.openejb.server.ejbd.EjbDaemon.service(EjbDaemon.java:257)\n    at org.apache.openejb.server.ejbd.EjbServer.service(EjbServer.java:104)\n    at org.apache.openejb.server.httpd.ServerServlet.service(ServerServlet.java:58)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:731)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:219)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:110)\n    at org.apache.tomee.catalina.OpenEJBValve.invoke(OpenEJBValve.java:44)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:169)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:103)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:962)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:445)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1115)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:637)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:318)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n    at java.lang.Thread.run(Thread.java:745)\n\n</code></pre>\n"},{"tags":["java","arrays","qr-code","aadhaar"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1604391547,"post_id":64658869,"comment_id":114326328,"body_markdown":"255 == `(byte) -1` which separates the three fields. Simply try getting the data of such a QR (the shown one, by smart phone?).P.S. I think the downvote might have been triggered by the title being unspecific/misleading and no effort (like the data of the shown QR.) and just an external link which might become broken.","body":"255 == <code>(byte) -1</code> which separates the three fields. Simply try getting the data of such a QR (the shown one, by smart phone?).P.S. I think the downvote might have been triggered by the title being unspecific/misleading and no effort (like the data of the shown QR.) and just an external link which might become broken."}],"answers":[{"tags":[],"owner":{"account_id":180181,"reputation":76380,"user_id":413337,"accept_rate":64,"display_name":"Codo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1604399230,"creation_date":1604399230,"answer_id":64660996,"question_id":64658869,"body_markdown":"Decoding the Aadhaar QR code consists of several steps outlined in [Unique Identification Authority of India (UIDAI)](https://uidai.gov.in/images/resource/User_manulal_QR_Code_15032019.pdf) in chapter 3.2:\r\n\r\nThe first few steps are:\r\n\r\n- Convert the base10 value of Secure QR code into Big Integer.\r\n- Convert the Big Integer into byte array.\r\n- Decompress the byte array.\r\n- Read the value of byte array from index 0 to till first delimiter value &quot;255&quot; and convert this byte array value into string with encoding &quot;ISO-8859-1&quot;. We will get the Email_mobile_present_bit_indicator_value as 0, 1, 2 or 3.\r\n\r\nOnce you have the decompressed array, you can simply search for the first element in the array containing -1, which is how the byte value 255 looks in Java as Java uses signed integer for bytes. The bytes before the -1 can be converted to a string.\r\n\r\nThese two steps are then repeating several times with the remaining data in the array to extract further values.\r\n\r\nExtracting the photo and the signature are slightly different as they are not strings but binary data. Again, the steps are described in the referenced document.","title":"java - Understanding byte array with delimeters","body":"<p>Decoding the Aadhaar QR code consists of several steps outlined in <a href=\"https://uidai.gov.in/images/resource/User_manulal_QR_Code_15032019.pdf\" rel=\"nofollow noreferrer\">Unique Identification Authority of India (UIDAI)</a> in chapter 3.2:</p>\n<p>The first few steps are:</p>\n<ul>\n<li>Convert the base10 value of Secure QR code into Big Integer.</li>\n<li>Convert the Big Integer into byte array.</li>\n<li>Decompress the byte array.</li>\n<li>Read the value of byte array from index 0 to till first delimiter value &quot;255&quot; and convert this byte array value into string with encoding &quot;ISO-8859-1&quot;. We will get the Email_mobile_present_bit_indicator_value as 0, 1, 2 or 3.</li>\n</ul>\n<p>Once you have the decompressed array, you can simply search for the first element in the array containing -1, which is how the byte value 255 looks in Java as Java uses signed integer for bytes. The bytes before the -1 can be converted to a string.</p>\n<p>These two steps are then repeating several times with the remaining data in the array to extract further values.</p>\n<p>Extracting the photo and the signature are slightly different as they are not strings but binary data. Again, the steps are described in the referenced document.</p>\n"}],"owner":{"account_id":1910519,"reputation":1280,"user_id":1724453,"accept_rate":69,"display_name":"Gissipi_453"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":178,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1689758437,"creation_date":1604390552,"question_id":64658869,"body_markdown":"I&#39;m trying to read [AADHAAR QR code][1], a govt ID card in India. The user manual says - \r\n\r\nScanned  data  contains  the  following  data  fields  in  given  sequence,  which is embedded in byte array with the delimiter of byte value ”255” - \r\n\r\n - referenceId\r\n - name\r\n - date of birth\r\n\r\n\r\n  [1]: https://uidai.gov.in/ecosystem/authentication-devices-documents/qr-code-reader.html\r\n\r\nMy question is, \r\n1. What does it mean ? \r\n2. Can someone explain with an example?","title":"java - Understanding byte array with delimeters","body":"<p>I'm trying to read <a href=\"https://uidai.gov.in/ecosystem/authentication-devices-documents/qr-code-reader.html\" rel=\"nofollow noreferrer\">AADHAAR QR code</a>, a govt ID card in India. The user manual says -</p>\n<p>Scanned  data  contains  the  following  data  fields  in  given  sequence,  which is embedded in byte array with the delimiter of byte value ”255” -</p>\n<ul>\n<li>referenceId</li>\n<li>name</li>\n<li>date of birth</li>\n</ul>\n<p>My question is,</p>\n<ol>\n<li>What does it mean ?</li>\n<li>Can someone explain with an example?</li>\n</ol>\n"},{"tags":["java","jooq","pojo","one-to-one"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1689758387,"creation_date":1689758387,"answer_id":76719748,"question_id":76719098,"body_markdown":"There are two main ways of nesting records in jOOQ:\r\n\r\n### Directly in SQL\r\n\r\n[jOOQ supports SQL nested records][1] just like standard SQL and some implementations (e.g. PostgreSQL). If it&#39;s not supported natively by your RDBMS, then jOOQ will emulate it. You can attach [ad-hoc converters][2] to your nested record expressions in order to map them to your custom `CountryDto` type as follows:\r\n\r\n```java\r\nList&lt;CityDto&gt; result =\r\nctx.select(\r\n      CITY.ID,\r\n      CITY.NAME,\r\n      row(CITY.country().ID, CITY.country().NAME).mapping(CountryDto::new))\r\n   .from(CITY)\r\n   .fetch(Records.mapping(CityDto::new));\r\n```\r\n\r\nThis assumes you have appropriate constructors on your DTOs. I guess you&#39;ll have to add a lombok `@AllArgsConstructor` annotation for that purpose (I really recommend it, it will work very well with jOOQ&#39;s [ad-hoc conversion][2]!)\r\n\r\nFor convenience, I&#39;m using [implicit path joins][3], but you can obviously use explicit joins as well.\r\n\r\n### Using `DefaultRecordMapper` functionality\r\n\r\nThe [reflection based, historic `DefaultRecordMapper`][4] can nest records as well using a dot notation, if that&#39;s more your style. Just write this:\r\n\r\n```java\r\nList&lt;CityDto&gt; result =\r\nctx.select(\r\n      CITY.ID,\r\n      CITY.NAME,\r\n      CITY.country().ID.as(&quot;countryDto.id&quot;), \r\n      CITY.country().NAME.as(&quot;countryDto.name&quot;))\r\n   .from(CITY)\r\n   .fetchInto(CityDto.class);\r\n```\r\n\r\nAs this is purely reflection based, there&#39;s no type safety. As soon as you rename your properties in your DTO, the query will stop working. Personally, I recommend the explicit, type safe approach from the first solution for that reason, specifically, because it can also work with [nested collections][5].\r\n\r\n\r\n  [1]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/nested-records/\r\n  [2]: https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\r\n  [3]: https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/implicit-join/\r\n  [4]: https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\r\n  [5]: https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/","title":"mapping jooq record entity to pojo with nested objects","body":"<p>There are two main ways of nesting records in jOOQ:</p>\n<h3>Directly in SQL</h3>\n<p><a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/nested-records/\" rel=\"nofollow noreferrer\">jOOQ supports SQL nested records</a> just like standard SQL and some implementations (e.g. PostgreSQL). If it's not supported natively by your RDBMS, then jOOQ will emulate it. You can attach <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc converters</a> to your nested record expressions in order to map them to your custom <code>CountryDto</code> type as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;CityDto&gt; result =\nctx.select(\n      CITY.ID,\n      CITY.NAME,\n      row(CITY.country().ID, CITY.country().NAME).mapping(CountryDto::new))\n   .from(CITY)\n   .fetch(Records.mapping(CityDto::new));\n</code></pre>\n<p>This assumes you have appropriate constructors on your DTOs. I guess you'll have to add a lombok <code>@AllArgsConstructor</code> annotation for that purpose (I really recommend it, it will work very well with jOOQ's <a href=\"https://www.jooq.org/doc/latest/manual/sql-execution/fetching/ad-hoc-converter/\" rel=\"nofollow noreferrer\">ad-hoc conversion</a>!)</p>\n<p>For convenience, I'm using <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/sql-statements/select-statement/implicit-join/\" rel=\"nofollow noreferrer\">implicit path joins</a>, but you can obviously use explicit joins as well.</p>\n<h3>Using <code>DefaultRecordMapper</code> functionality</h3>\n<p>The <a href=\"https://www.jooq.org/javadoc/latest/org.jooq/org/jooq/impl/DefaultRecordMapper.html\" rel=\"nofollow noreferrer\">reflection based, historic <code>DefaultRecordMapper</code></a> can nest records as well using a dot notation, if that's more your style. Just write this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;CityDto&gt; result =\nctx.select(\n      CITY.ID,\n      CITY.NAME,\n      CITY.country().ID.as(&quot;countryDto.id&quot;), \n      CITY.country().NAME.as(&quot;countryDto.name&quot;))\n   .from(CITY)\n   .fetchInto(CityDto.class);\n</code></pre>\n<p>As this is purely reflection based, there's no type safety. As soon as you rename your properties in your DTO, the query will stop working. Personally, I recommend the explicit, type safe approach from the first solution for that reason, specifically, because it can also work with <a href=\"https://www.jooq.org/doc/latest/manual/sql-building/column-expressions/multiset-value-constructor/\" rel=\"nofollow noreferrer\">nested collections</a>.</p>\n"}],"owner":{"account_id":27909782,"reputation":13,"user_id":21312218,"display_name":"Gaziz Bakyt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76719748,"answer_count":1,"score":1,"last_activity_date":1689758387,"creation_date":1689753522,"question_id":76719098,"body_markdown":"i have two tables d_cities, d_countries. Mapping between them is unidirectional like this:\r\n\r\n![relation](https://i.stack.imgur.com/vBUXl.png)\r\n\r\nalso, i have two pojo dtos like this:\r\n\r\n![relation between dto](https://i.stack.imgur.com/Twt5F.png)\r\n\r\nEntity classes are jooq generated.\r\n\r\nNow I can&#39;t come up with the decision how can I retrieve response like this when i call getCityById(String cityId): \r\n\r\n![cityDto](https://i.stack.imgur.com/F8wwa.png)\r\n\r\nCan you please help me with this problem? I am very new to JOOQ and DSLContext methods.\r\n\r\n","title":"mapping jooq record entity to pojo with nested objects","body":"<p>i have two tables d_cities, d_countries. Mapping between them is unidirectional like this:</p>\n<p><img src=\"https://i.stack.imgur.com/vBUXl.png\" alt=\"relation\" /></p>\n<p>also, i have two pojo dtos like this:</p>\n<p><img src=\"https://i.stack.imgur.com/Twt5F.png\" alt=\"relation between dto\" /></p>\n<p>Entity classes are jooq generated.</p>\n<p>Now I can't come up with the decision how can I retrieve response like this when i call getCityById(String cityId):</p>\n<p><img src=\"https://i.stack.imgur.com/F8wwa.png\" alt=\"cityDto\" /></p>\n<p>Can you please help me with this problem? I am very new to JOOQ and DSLContext methods.</p>\n"},{"tags":["java","xml","sax","cdata"],"comments":[{"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"score":0,"creation_date":1689760824,"post_id":76719718,"comment_id":135257802,"body_markdown":"It works for me.","body":"It works for me."}],"owner":{"account_id":1026899,"reputation":6910,"user_id":1036017,"accept_rate":70,"display_name":"RajV"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1689758386,"creation_date":1689758212,"question_id":76719718,"body_markdown":"Java SAX parser throws error if a CDATA section ends with a &quot;]&quot; and XML version is 1.1.\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.1&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;book&gt;\r\n  &lt;description&gt;&lt;![CDATA[Release year [1997]]]&gt;&lt;/description&gt;\r\n&lt;/book&gt;\r\n```\r\n\r\nError:\r\n\r\n```\r\nXML document structures must start and end within the same entity.\r\n```\r\n\r\nThe same works just fine with XML 1.0.\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;book&gt;\r\n  &lt;description&gt;&lt;![CDATA[Release year [1997]]]&gt;&lt;/description&gt;\r\n&lt;/book&gt;\r\n```\r\n\r\nHaving the text end with a &quot;]&quot; should not be a problem. Only the sequence &quot;]]&gt;&quot; is not allowed there. Why would XML 1.1 not work here?\r\n\r\nMy Java version:\r\n\r\nopenjdk version &quot;17.0.7&quot; 2023-04-18","title":"Why CDATA fails to parse in XML 1.1?","body":"<p>Java SAX parser throws error if a CDATA section ends with a &quot;]&quot; and XML version is 1.1.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.1&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;book&gt;\n  &lt;description&gt;&lt;![CDATA[Release year [1997]]]&gt;&lt;/description&gt;\n&lt;/book&gt;\n</code></pre>\n<p>Error:</p>\n<pre><code>XML document structures must start and end within the same entity.\n</code></pre>\n<p>The same works just fine with XML 1.0.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;book&gt;\n  &lt;description&gt;&lt;![CDATA[Release year [1997]]]&gt;&lt;/description&gt;\n&lt;/book&gt;\n</code></pre>\n<p>Having the text end with a &quot;]&quot; should not be a problem. Only the sequence &quot;]]&gt;&quot; is not allowed there. Why would XML 1.1 not work here?</p>\n<p>My Java version:</p>\n<p>openjdk version &quot;17.0.7&quot; 2023-04-18</p>\n"},{"tags":["java","android","android-studio","lucene"],"comments":[{"owner":{"account_id":4764104,"reputation":9906,"user_id":3850730,"accept_rate":83,"display_name":"Sabir Khan"},"score":0,"creation_date":1512646309,"post_id":47657615,"comment_id":82347431,"body_markdown":"did you first check if Lucene jars could be used on Android ( as is - out of the box ) ?","body":"did you first check if Lucene jars could be used on Android ( as is - out of the box ) ?"},{"owner":{"account_id":9707917,"reputation":57,"user_id":7200804,"display_name":"candreva"},"score":0,"creation_date":1512807250,"post_id":47657615,"comment_id":82413764,"body_markdown":"Thanks for the answer. But I decided to implement a web server and run lucene on it. I think It is better solution.","body":"Thanks for the answer. But I decided to implement a web server and run lucene on it. I think It is better solution."}],"answers":[{"tags":[],"owner":{"account_id":4672769,"reputation":196,"user_id":3784157,"display_name":"Pascal Chardon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595570592,"creation_date":1595570592,"answer_id":63067729,"question_id":47657615,"body_markdown":"Android does not fully support java8 features (See [https://developer.android.com/studio/write/java8-support][1]). The last release of Lucene on java 6 is 4.7. Compatibility of Lucene 4.7 with android is theoretically fine. \r\n\r\n  [1]: https://developer.android.com/studio/write/java8-support","title":"Lucene Android NoClassDefFoundError","body":"<p>Android does not fully support java8 features (See <a href=\"https://developer.android.com/studio/write/java8-support\" rel=\"nofollow noreferrer\">https://developer.android.com/studio/write/java8-support</a>). The last release of Lucene on java 6 is 4.7. Compatibility of Lucene 4.7 with android is theoretically fine.</p>\n"},{"tags":[],"owner":{"account_id":29047512,"reputation":1,"user_id":22251021,"display_name":"texopher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689758210,"creation_date":1689758210,"answer_id":76719717,"question_id":47657615,"body_markdown":"This modification of Lucene 7.3.0 has fixed &#39;Missing java.lang.ClassValue class&#39; error in Android 8.0 or above: https://github.com/texophen/lucene-android\r\n\r\nSee this answer ( https://stackoverflow.com/a/76719236/22251021 ) for how to use it.","title":"Lucene Android NoClassDefFoundError","body":"<p>This modification of Lucene 7.3.0 has fixed 'Missing java.lang.ClassValue class' error in Android 8.0 or above: <a href=\"https://github.com/texophen/lucene-android\" rel=\"nofollow noreferrer\">https://github.com/texophen/lucene-android</a></p>\n<p>See this answer ( <a href=\"https://stackoverflow.com/a/76719236/22251021\">https://stackoverflow.com/a/76719236/22251021</a> ) for how to use it.</p>\n"}],"owner":{"account_id":9707917,"reputation":57,"user_id":7200804,"display_name":"candreva"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":869,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1689758210,"creation_date":1512489105,"question_id":47657615,"body_markdown":"&lt;!-- What are you trying to accomplish? (Please include sample data.) --&gt;\r\nI am developing a mobile application using Lucene. When I use `BooleanQuery` it works. But when I use `WildcardQuery` or `FuzzyQuery` I get a java.lang.NoClassDefFoundError at the runtime. I know android studio supports maven by default. I checked external libraries and all jars added.\r\n&lt;!-- Paste the part of the code that shows the problem. (Please indent 4 spaces.) --&gt;\r\nMy build.gradle file has these dependencies:\r\n\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-core&#39;, version: &#39;7.0.1&#39;\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-analyzers-common&#39;, version: &#39;7.0.1&#39;\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-codecs&#39;, version: &#39;7.0.1&#39;\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-queryparser&#39;, version: &#39;7.0.1&#39;\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-queries&#39;, version: &#39;7.0.1&#39;\r\n    compile group: &#39;org.apache.lucene&#39;, name: &#39;lucene-sandbox&#39;, version: &#39;7.0.1&#39;\r\n\r\n\r\n&lt;!-- What do you expect the result to be? --&gt;\r\nNoClassDefFound error:\r\n\r\n    Process: com.example.eren.lucene, PID: 7215\r\n       java.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/ClassValue;\r\n           at org.apache.lucene.search.MultiTermQuery.getTermsEnum(MultiTermQuery.java:300)\r\n           at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.rewrite(MultiTermQueryConstantScoreWrapper.java:141)\r\n           at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.bulkScorer(MultiTermQueryConstantScoreWrapper.java:193)\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:655)\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:462)\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:581)\r\n           at org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:439)\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:450)\r\n           at com.example.eren.lucene.MainActivity.searchIngredient(MainActivity.java:262)\r\n           at com.example.eren.lucene.MainActivity.searchProcess(MainActivity.java:216)\r\n           at com.example.eren.lucene.MainActivity.onCreate(MainActivity.java:48)\r\n           at android.app.Activity.performCreate(Activity.java:6975)\r\n           at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\r\n           at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\r\n           at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\r\n           at android.app.ActivityThread.-wrap11(Unknown Source:0)\r\n           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\r\n           at android.os.Handler.dispatchMessage(Handler.java:105)\r\n           at android.os.Looper.loop(Looper.java:164)\r\n           at android.app.ActivityThread.main(ActivityThread.java:6541)\r\n           at java.lang.reflect.Method.invoke(Native Method)\r\n           at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\r\n        Caused by: java.lang.ClassNotFoundException: Didn&#39;t find class &quot;java.lang.ClassValue&quot; on path: DexPathList[[zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/base.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_dependencies_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_0_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_1_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_2_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_3_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_4_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_5_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_6_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_7_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_8_apk.apk&quot;, zip file &quot;/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_9_apk.apk&quot;],nativeLibraryDirectories=[/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/lib/x86, /system/lib, /vendor/lib]]\r\n           at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\r\n           at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\r\n           at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\r\n           at org.apache.lucene.search.MultiTermQuery.getTermsEnum(MultiTermQuery.java:300)&#160;\r\n           at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.rewrite(MultiTermQueryConstantScoreWrapper.java:141)&#160;\r\n           at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.bulkScorer(MultiTermQueryConstantScoreWrapper.java:193)&#160;\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:655)&#160;\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:462)&#160;\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:581)&#160;\r\n           at org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:439)&#160;\r\n           at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:450)&#160;\r\n           at com.example.eren.lucene.MainActivity.searchIngredient(MainActivity.java:262)&#160;\r\n           at com.example.eren.lucene.MainActivity.searchProcess(MainActivity.java:216)&#160;\r\n           at com.example.eren.lucene.MainActivity.onCreate(MainActivity.java:48)&#160;\r\n           at android.app.Activity.performCreate(Activity.java:6975)&#160;\r\n           at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)&#160;\r\n           at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)&#160;\r\n           at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)&#160;\r\n           at android.app.ActivityThread.-wrap11(Unknown Source:0)&#160;\r\n           at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)&#160;\r\n           at android.os.Handler.dispatchMessage(Handler.java:105)&#160;\r\n           at android.os.Looper.loop(Looper.java:164)&#160;\r\n           at android.app.ActivityThread.main(ActivityThread.java:6541)&#160;\r\n           at java.lang.reflect.Method.invoke(Native Method)&#160;\r\n           at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)&#160;\r\n           at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)&#160;\r\n\r\n&lt;!-- What is the actual result you get? (Please include any errors.) --&gt;\r\nAny idea to solve this problem?","title":"Lucene Android NoClassDefFoundError","body":"<p>\nI am developing a mobile application using Lucene. When I use <code>BooleanQuery</code> it works. But when I use <code>WildcardQuery</code> or <code>FuzzyQuery</code> I get a java.lang.NoClassDefFoundError at the runtime. I know android studio supports maven by default. I checked external libraries and all jars added.\n\nMy build.gradle file has these dependencies:</p>\n\n<pre><code>compile group: 'org.apache.lucene', name: 'lucene-core', version: '7.0.1'\ncompile group: 'org.apache.lucene', name: 'lucene-analyzers-common', version: '7.0.1'\ncompile group: 'org.apache.lucene', name: 'lucene-codecs', version: '7.0.1'\ncompile group: 'org.apache.lucene', name: 'lucene-queryparser', version: '7.0.1'\ncompile group: 'org.apache.lucene', name: 'lucene-queries', version: '7.0.1'\ncompile group: 'org.apache.lucene', name: 'lucene-sandbox', version: '7.0.1'\n</code></pre>\n\n<p>\nNoClassDefFound error:</p>\n\n<pre><code>Process: com.example.eren.lucene, PID: 7215\n   java.lang.NoClassDefFoundError: Failed resolution of: Ljava/lang/ClassValue;\n       at org.apache.lucene.search.MultiTermQuery.getTermsEnum(MultiTermQuery.java:300)\n       at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.rewrite(MultiTermQueryConstantScoreWrapper.java:141)\n       at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.bulkScorer(MultiTermQueryConstantScoreWrapper.java:193)\n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:655)\n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:462)\n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:581)\n       at org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:439)\n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:450)\n       at com.example.eren.lucene.MainActivity.searchIngredient(MainActivity.java:262)\n       at com.example.eren.lucene.MainActivity.searchProcess(MainActivity.java:216)\n       at com.example.eren.lucene.MainActivity.onCreate(MainActivity.java:48)\n       at android.app.Activity.performCreate(Activity.java:6975)\n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213)\n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770)\n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892)\n       at android.app.ActivityThread.-wrap11(Unknown Source:0)\n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593)\n       at android.os.Handler.dispatchMessage(Handler.java:105)\n       at android.os.Looper.loop(Looper.java:164)\n       at android.app.ActivityThread.main(ActivityThread.java:6541)\n       at java.lang.reflect.Method.invoke(Native Method)\n       at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240)\n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767)\n    Caused by: java.lang.ClassNotFoundException: Didn't find class \"java.lang.ClassValue\" on path: DexPathList[[zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/base.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_dependencies_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_0_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_1_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_2_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_3_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_4_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_5_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_6_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_7_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_8_apk.apk\", zip file \"/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/split_lib_slice_9_apk.apk\"],nativeLibraryDirectories=[/data/app/com.example.eren.lucene-zYmMwtI9UFJUuvVsCJY1Gw==/lib/x86, /system/lib, /vendor/lib]]\n       at dalvik.system.BaseDexClassLoader.findClass(BaseDexClassLoader.java:93)\n       at java.lang.ClassLoader.loadClass(ClassLoader.java:379)\n       at java.lang.ClassLoader.loadClass(ClassLoader.java:312)\n       at org.apache.lucene.search.MultiTermQuery.getTermsEnum(MultiTermQuery.java:300) \n       at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.rewrite(MultiTermQueryConstantScoreWrapper.java:141) \n       at org.apache.lucene.search.MultiTermQueryConstantScoreWrapper$1.bulkScorer(MultiTermQueryConstantScoreWrapper.java:193) \n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:655) \n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:462) \n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:581) \n       at org.apache.lucene.search.IndexSearcher.searchAfter(IndexSearcher.java:439) \n       at org.apache.lucene.search.IndexSearcher.search(IndexSearcher.java:450) \n       at com.example.eren.lucene.MainActivity.searchIngredient(MainActivity.java:262) \n       at com.example.eren.lucene.MainActivity.searchProcess(MainActivity.java:216) \n       at com.example.eren.lucene.MainActivity.onCreate(MainActivity.java:48) \n       at android.app.Activity.performCreate(Activity.java:6975) \n       at android.app.Instrumentation.callActivityOnCreate(Instrumentation.java:1213) \n       at android.app.ActivityThread.performLaunchActivity(ActivityThread.java:2770) \n       at android.app.ActivityThread.handleLaunchActivity(ActivityThread.java:2892) \n       at android.app.ActivityThread.-wrap11(Unknown Source:0) \n       at android.app.ActivityThread$H.handleMessage(ActivityThread.java:1593) \n       at android.os.Handler.dispatchMessage(Handler.java:105) \n       at android.os.Looper.loop(Looper.java:164) \n       at android.app.ActivityThread.main(ActivityThread.java:6541) \n       at java.lang.reflect.Method.invoke(Native Method) \n       at com.android.internal.os.Zygote$MethodAndArgsCaller.run(Zygote.java:240) \n       at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:767) \n</code></pre>\n\n<p>\nAny idea to solve this problem?</p>\n"},{"tags":["java","android","gradle"],"answers":[{"tags":[],"owner":{"account_id":367578,"reputation":3080,"user_id":713861,"accept_rate":72,"display_name":"GreenSaguaro"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1650432010,"creation_date":1650432010,"answer_id":71934462,"question_id":71924902,"body_markdown":"1) Exit Android Studio\r\n2) Kill all Gradle processes\r\n3) Delete `C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock`\r\n4) Try again","title":"Gradle could not start your build","body":"<ol>\n<li>Exit Android Studio</li>\n<li>Kill all Gradle processes</li>\n<li>Delete <code>C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock</code></li>\n<li>Try again</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":22516601,"reputation":849,"user_id":16710738,"display_name":"Deepak Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1671187185,"creation_date":1671186234,"answer_id":74823097,"question_id":71924902,"body_markdown":"I was trying in visual studio code terminal(powershell/cmd) use -&gt; `./gradlew --stop`\r\n\r\nbut if you don&#39;t want to use this then simply restart your PC\r\n\r\n","title":"Gradle could not start your build","body":"<p>I was trying in visual studio code terminal(powershell/cmd) use -&gt; <code>./gradlew --stop</code></p>\n<p>but if you don't want to use this then simply restart your PC</p>\n"},{"tags":[],"owner":{"account_id":9213685,"reputation":11,"user_id":6845794,"display_name":"Pratik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1681201544,"creation_date":1681201544,"answer_id":75983835,"question_id":71924902,"body_markdown":"Simply execute the below command in your terminal/command prompt and the error should be resolved \r\n\r\ntaskkill /F /PID &lt;Owner PID&gt;","title":"Gradle could not start your build","body":"<p>Simply execute the below command in your terminal/command prompt and the error should be resolved</p>\n<p>taskkill /F /PID </p>\n"},{"tags":[],"owner":{"account_id":7568990,"reputation":19,"user_id":5743532,"display_name":"Sanjay Karki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689757877,"creation_date":1689757877,"answer_id":76719668,"question_id":71924902,"body_markdown":"If using 2 different version of Android Studio. Close both and just restart the pc and then just open the Android Studio you were facing the problem. Doing so will end the gradle process and there won&#39;t be any issue. Running different Android Studio Version at a same time will cause such problems.","title":"Gradle could not start your build","body":"<p>If using 2 different version of Android Studio. Close both and just restart the pc and then just open the Android Studio you were facing the problem. Doing so will end the gradle process and there won't be any issue. Running different Android Studio Version at a same time will cause such problems.</p>\n"}],"owner":{"account_id":24288860,"reputation":33,"user_id":18234230,"display_name":"kevlar_224"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7141,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":71934462,"answer_count":4,"score":3,"last_activity_date":1689757877,"creation_date":1650371044,"question_id":71924902,"body_markdown":"I am getting an error with Gradle every time I try to run a program in android studio. I believe this error was caused by me closing out of android studio while Gradle was loading something and it didn&#39;t complete its task. I have seen some people online suggest ``.\\gradlew --stop`` which doesn&#39;t seem to be working. Has anyone encountered the same issue?\r\n\r\n\r\n```Gradle could not start your build.\r\n&gt; Cannot create service of type BuildTreeActionExecutor using method LauncherServices$ToolingBuildTreeScopeServices.createActionExecutor() as there is a problem with parameter #1 of type List&lt;BuildActionRunner&gt;.\r\n   &gt; Could not create service of type FileAccessTimeJournal using GradleUserHomeScopeServices.createFileAccessTimeJournal().\r\n      &gt; Timeout waiting to lock journal cache (C:\\Users\\User\\.gradle\\caches\\journal-1). It is currently in use by another Gradle instance.\r\n        Owner PID: 5916\r\n        Our PID: 30496\r\n        Owner Operation: \r\n        Our operation: \r\n        Lock file: C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.initialization.exception.InitializationException: Gradle could not start your build.\r\n\tat org.gradle.initialization.exception.DefaultExceptionAnalyser.collectFailures(DefaultExceptionAnalyser.java:65)\r\n\tat org.gradle.initialization.exception.MultipleBuildFailuresExceptionAnalyser.transform(MultipleBuildFailuresExceptionAnalyser.java:48)\r\n\tat org.gradle.initialization.exception.StackTraceSanitizingExceptionAnalyser.transform(StackTraceSanitizingExceptionAnalyser.java:30)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:67)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\r\n\tat org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\r\n\tat org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\r\n\tat org.gradle.util.internal.Swapper.swap(Swapper.java:38)\r\n\tat org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\r\n\tat org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\r\n\tat org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\r\n\tat org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\r\n\tat org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\r\n\tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\r\n\tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\r\n\tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\r\nCaused by: org.gradle.internal.service.ServiceCreationException: Cannot create service of type BuildTreeActionExecutor using method LauncherServices$ToolingBuildTreeScopeServices.createActionExecutor() as there is a problem with parameter #1 of type List&lt;BuildActionRunner&gt;.\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.bind(DefaultServiceRegistry.java:798)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.prepare(DefaultServiceRegistry.java:683)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.getService(DefaultServiceRegistry.java:706)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$OwnServices.getService(DefaultServiceRegistry.java:442)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$CompositeServiceProvider.getService(DefaultServiceRegistry.java:991)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:1077)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.getService(DefaultServiceRegistry.java:321)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:315)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:300)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:295)\r\n\tat org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:56)\r\n\tat org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\r\n\tat org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:56)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\r\n\tat org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\r\n\tat org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\r\n\tat org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n\tat org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\r\n\tat org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\r\n\tat org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\r\n\tat org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\r\n\tat org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:56)\r\n\tat org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:55)\r\n\tat org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:37)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\r\n\tat org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\r\n\tat org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\r\n\tat org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\r\n\t... 30 more\r\nCaused by: org.gradle.internal.service.ServiceCreationException: Could not create service of type FileAccessTimeJournal using GradleUserHomeScopeServices.createFileAccessTimeJournal().\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:896)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:821)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.getCollectionService(DefaultServiceRegistry.java:1124)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.getCollectionService(DefaultServiceRegistry.java:1106)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:1069)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry.access$1600(DefaultServiceRegistry.java:75)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryService.bind(DefaultServiceRegistry.java:796)\r\n\t... 71 more\r\nCaused by: org.gradle.cache.LockTimeoutException: Timeout waiting to lock journal cache (C:\\Users\\User\\.gradle\\caches\\journal-1). It is currently in use by another Gradle instance.\r\nOwner PID: 5916\r\nOur PID: 30496\r\nOwner Operation: \r\nOur operation: \r\nLock file: C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.timeoutException(DefaultFileLockManager.java:344)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.lock(DefaultFileLockManager.java:305)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.&lt;init&gt;(DefaultFileLockManager.java:164)\r\n\tat org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:110)\r\n\tat org.gradle.cache.internal.LockOnDemandCrossProcessCacheAccess.incrementLockCount(LockOnDemandCrossProcessCacheAccess.java:106)\r\n\tat org.gradle.cache.internal.LockOnDemandCrossProcessCacheAccess.acquireFileLock(LockOnDemandCrossProcessCacheAccess.java:168)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.onStartWork(DefaultCacheAccess.java:375)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:211)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:201)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.newCache(DefaultCacheAccess.java:292)\r\n\tat org.gradle.cache.internal.DefaultCacheAccess.newCache(DefaultCacheAccess.java:61)\r\n\tat org.gradle.cache.internal.DefaultPersistentDirectoryStore.createCache(DefaultPersistentDirectoryStore.java:173)\r\n\tat org.gradle.cache.internal.DefaultCacheFactory$ReferenceTrackingCache.createCache(DefaultCacheFactory.java:194)\r\n\tat org.gradle.api.internal.changedetection.state.DefaultFileAccessTimeJournal.&lt;init&gt;(DefaultFileAccessTimeJournal.java:55)\r\n\tat org.gradle.internal.service.scopes.GradleUserHomeScopeServices.createFileAccessTimeJournal(GradleUserHomeScopeServices.java:241)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\tat org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\r\n\tat org.gradle.internal.service.ReflectionBasedServiceMethod.invoke(ReflectionBasedServiceMethod.java:34)\r\n\tat org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:894)\r\n\t... 95 more\r\n```\r\n\r\n\r\n  [\\[1\\]: https://i.stack.imgur.com/TcvqZ.png][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Iyhl.png","title":"Gradle could not start your build","body":"<p>I am getting an error with Gradle every time I try to run a program in android studio. I believe this error was caused by me closing out of android studio while Gradle was loading something and it didn't complete its task. I have seen some people online suggest <code>.\\gradlew --stop</code> which doesn't seem to be working. Has anyone encountered the same issue?</p>\n<pre><code>&gt; Cannot create service of type BuildTreeActionExecutor using method LauncherServices$ToolingBuildTreeScopeServices.createActionExecutor() as there is a problem with parameter #1 of type List&lt;BuildActionRunner&gt;.\n   &gt; Could not create service of type FileAccessTimeJournal using GradleUserHomeScopeServices.createFileAccessTimeJournal().\n      &gt; Timeout waiting to lock journal cache (C:\\Users\\User\\.gradle\\caches\\journal-1). It is currently in use by another Gradle instance.\n        Owner PID: 5916\n        Our PID: 30496\n        Owner Operation: \n        Our operation: \n        Lock file: C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock\n\n* Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\n\n* Exception is:\norg.gradle.initialization.exception.InitializationException: Gradle could not start your build.\n    at org.gradle.initialization.exception.DefaultExceptionAnalyser.collectFailures(DefaultExceptionAnalyser.java:65)\n    at org.gradle.initialization.exception.MultipleBuildFailuresExceptionAnalyser.transform(MultipleBuildFailuresExceptionAnalyser.java:48)\n    at org.gradle.initialization.exception.StackTraceSanitizingExceptionAnalyser.transform(StackTraceSanitizingExceptionAnalyser.java:30)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:67)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:42)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:47)\n    at org.gradle.tooling.internal.provider.SetupLoggingActionExecuter.execute(SetupLoggingActionExecuter.java:31)\n    at org.gradle.launcher.daemon.server.exec.ExecuteBuild.doBuild(ExecuteBuild.java:65)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.WatchForDisconnection.execute(WatchForDisconnection.java:39)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ResetDeprecationLogger.execute(ResetDeprecationLogger.java:29)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.RequestStopIfSingleUsedDaemon.execute(RequestStopIfSingleUsedDaemon.java:35)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:78)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput$2.create(ForwardClientInput.java:75)\n    at org.gradle.util.internal.Swapper.swap(Swapper.java:38)\n    at org.gradle.launcher.daemon.server.exec.ForwardClientInput.execute(ForwardClientInput.java:75)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogAndCheckHealth.execute(LogAndCheckHealth.java:55)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.LogToClient.doBuild(LogToClient.java:63)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.EstablishBuildEnvironment.doBuild(EstablishBuildEnvironment.java:84)\n    at org.gradle.launcher.daemon.server.exec.BuildCommandOnly.execute(BuildCommandOnly.java:37)\n    at org.gradle.launcher.daemon.server.api.DaemonCommandExecution.proceed(DaemonCommandExecution.java:104)\n    at org.gradle.launcher.daemon.server.exec.StartBuildOrRespondWithBusy$1.run(StartBuildOrRespondWithBusy.java:52)\n    at org.gradle.launcher.daemon.server.DaemonStateCoordinator$1.run(DaemonStateCoordinator.java:297)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:64)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:48)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:61)\nCaused by: org.gradle.internal.service.ServiceCreationException: Cannot create service of type BuildTreeActionExecutor using method LauncherServices$ToolingBuildTreeScopeServices.createActionExecutor() as there is a problem with parameter #1 of type List&lt;BuildActionRunner&gt;.\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.bind(DefaultServiceRegistry.java:798)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.prepare(DefaultServiceRegistry.java:683)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.getService(DefaultServiceRegistry.java:706)\n    at org.gradle.internal.service.DefaultServiceRegistry$OwnServices.getService(DefaultServiceRegistry.java:442)\n    at org.gradle.internal.service.DefaultServiceRegistry$CompositeServiceProvider.getService(DefaultServiceRegistry.java:991)\n    at org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:1077)\n    at org.gradle.internal.service.DefaultServiceRegistry.getService(DefaultServiceRegistry.java:321)\n    at org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:315)\n    at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:300)\n    at org.gradle.internal.service.DefaultServiceRegistry.get(DefaultServiceRegistry.java:295)\n    at org.gradle.internal.buildtree.DefaultBuildTreeContext.execute(DefaultBuildTreeContext.java:40)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.lambda$execute$0(BuildTreeLifecycleBuildActionExecutor.java:56)\n    at org.gradle.internal.buildtree.BuildTreeState.run(BuildTreeState.java:53)\n    at org.gradle.launcher.exec.BuildTreeLifecycleBuildActionExecutor.execute(BuildTreeLifecycleBuildActionExecutor.java:56)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:61)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor$3.call(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:200)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$CallableBuildOperationWorker.execute(DefaultBuildOperationRunner.java:195)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:75)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner$3.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:153)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.execute(DefaultBuildOperationRunner.java:68)\n    at org.gradle.internal.operations.DefaultBuildOperationRunner.call(DefaultBuildOperationRunner.java:62)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.lambda$call$2(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.internal.operations.UnmanagedBuildOperationWrapper.callWithUnmanagedSupport(UnmanagedBuildOperationWrapper.java:54)\n    at org.gradle.internal.operations.DefaultBuildOperationExecutor.call(DefaultBuildOperationExecutor.java:79)\n    at org.gradle.launcher.exec.RunAsBuildOperationBuildActionExecutor.execute(RunAsBuildOperationBuildActionExecutor.java:57)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.lambda$execute$0(RunAsWorkerThreadBuildActionExecutor.java:38)\n    at org.gradle.internal.work.DefaultWorkerLeaseService.withLocks(DefaultWorkerLeaseService.java:211)\n    at org.gradle.launcher.exec.RunAsWorkerThreadBuildActionExecutor.execute(RunAsWorkerThreadBuildActionExecutor.java:38)\n    at org.gradle.tooling.internal.provider.ContinuousBuildActionExecutor.execute(ContinuousBuildActionExecutor.java:103)\n    at org.gradle.tooling.internal.provider.SubscribableBuildActionExecutor.execute(SubscribableBuildActionExecutor.java:64)\n    at org.gradle.internal.session.DefaultBuildSessionContext.execute(DefaultBuildSessionContext.java:46)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.lambda$execute$0(BuildSessionLifecycleBuildActionExecuter.java:56)\n    at org.gradle.internal.session.BuildSessionState.run(BuildSessionState.java:69)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:55)\n    at org.gradle.tooling.internal.provider.BuildSessionLifecycleBuildActionExecuter.execute(BuildSessionLifecycleBuildActionExecuter.java:37)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:36)\n    at org.gradle.tooling.internal.provider.GradleThreadBuildActionExecuter.execute(GradleThreadBuildActionExecuter.java:25)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:63)\n    at org.gradle.tooling.internal.provider.StartParamsValidatingActionExecuter.execute(StartParamsValidatingActionExecuter.java:31)\n    at org.gradle.tooling.internal.provider.SessionFailureReportingActionExecuter.execute(SessionFailureReportingActionExecuter.java:58)\n    ... 30 more\nCaused by: org.gradle.internal.service.ServiceCreationException: Could not create service of type FileAccessTimeJournal using GradleUserHomeScopeServices.createFileAccessTimeJournal().\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:896)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:821)\n    at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\n    at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\n    at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\n    at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.assembleParameters(DefaultServiceRegistry.java:834)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.createServiceInstance(DefaultServiceRegistry.java:820)\n    at org.gradle.internal.service.DefaultServiceRegistry$ManagedObjectServiceProvider.getInstance(DefaultServiceRegistry.java:606)\n    at org.gradle.internal.service.DefaultServiceRegistry$SingletonService.get(DefaultServiceRegistry.java:669)\n    at org.gradle.internal.service.DefaultServiceRegistry.getCollectionService(DefaultServiceRegistry.java:1124)\n    at org.gradle.internal.service.DefaultServiceRegistry.getCollectionService(DefaultServiceRegistry.java:1106)\n    at org.gradle.internal.service.DefaultServiceRegistry.find(DefaultServiceRegistry.java:1069)\n    at org.gradle.internal.service.DefaultServiceRegistry.access$1600(DefaultServiceRegistry.java:75)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryService.bind(DefaultServiceRegistry.java:796)\n    ... 71 more\nCaused by: org.gradle.cache.LockTimeoutException: Timeout waiting to lock journal cache (C:\\Users\\User\\.gradle\\caches\\journal-1). It is currently in use by another Gradle instance.\nOwner PID: 5916\nOur PID: 30496\nOwner Operation: \nOur operation: \nLock file: C:\\Users\\User\\.gradle\\caches\\journal-1\\journal-1.lock\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.timeoutException(DefaultFileLockManager.java:344)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.lock(DefaultFileLockManager.java:305)\n    at org.gradle.cache.internal.DefaultFileLockManager$DefaultFileLock.&lt;init&gt;(DefaultFileLockManager.java:164)\n    at org.gradle.cache.internal.DefaultFileLockManager.lock(DefaultFileLockManager.java:110)\n    at org.gradle.cache.internal.LockOnDemandCrossProcessCacheAccess.incrementLockCount(LockOnDemandCrossProcessCacheAccess.java:106)\n    at org.gradle.cache.internal.LockOnDemandCrossProcessCacheAccess.acquireFileLock(LockOnDemandCrossProcessCacheAccess.java:168)\n    at org.gradle.cache.internal.DefaultCacheAccess.onStartWork(DefaultCacheAccess.java:375)\n    at org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:211)\n    at org.gradle.cache.internal.DefaultCacheAccess.useCache(DefaultCacheAccess.java:201)\n    at org.gradle.cache.internal.DefaultCacheAccess.newCache(DefaultCacheAccess.java:292)\n    at org.gradle.cache.internal.DefaultCacheAccess.newCache(DefaultCacheAccess.java:61)\n    at org.gradle.cache.internal.DefaultPersistentDirectoryStore.createCache(DefaultPersistentDirectoryStore.java:173)\n    at org.gradle.cache.internal.DefaultCacheFactory$ReferenceTrackingCache.createCache(DefaultCacheFactory.java:194)\n    at org.gradle.api.internal.changedetection.state.DefaultFileAccessTimeJournal.&lt;init&gt;(DefaultFileAccessTimeJournal.java:55)\n    at org.gradle.internal.service.scopes.GradleUserHomeScopeServices.createFileAccessTimeJournal(GradleUserHomeScopeServices.java:241)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at org.gradle.internal.reflect.JavaMethod.invoke(JavaMethod.java:104)\n    at org.gradle.internal.service.ReflectionBasedServiceMethod.invoke(ReflectionBasedServiceMethod.java:34)\n    at org.gradle.internal.service.DefaultServiceRegistry$FactoryMethodService.invokeMethod(DefaultServiceRegistry.java:894)\n    ... 95 more\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/4Iyhl.png\" rel=\"nofollow noreferrer\">[1]: https://i.stack.imgur.com/TcvqZ.png</a></p>\n"},{"tags":["java","xml","soap","jaxb","wsdl"],"owner":{"account_id":20230999,"reputation":1,"user_id":14837551,"display_name":"Rohan Mittal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":21,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689757546,"creation_date":1689743595,"question_id":76718153,"body_markdown":"I am trying to unmarshall similar xml responses using existing objects generated from wsdl file but I can see my object is empty. verified and understood unmarshaller is taking envelope tag as namespace. Does anyone knows how we can fix this..\r\n\r\n\r\n\r\n&lt;!-- begin snippet --&gt;\r\n\r\n    &lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\r\n        &lt;SOAP-ENV:Header/&gt;\r\n        &lt;SOAP-ENV:Body&gt;\r\n            &lt;ns4:test xmlns:ns3=&quot;http://www.w3.org/2000/09/xmldsig#&quot; xmlns:ns4=&quot;http://example.com/test&quot;&gt;\r\n                &lt;Id&gt;95&lt;/Id&gt;\r\n                &lt;Result&gt;\r\n                    &lt;Status&gt;OK&lt;/Status&gt;\r\n                &lt;/Result&gt;\r\n            &lt;/ns4:SignNewCertificateResponse&gt;\r\n        &lt;/SOAP-ENV:Body&gt;\r\n    &lt;/SOAP-ENV:Envelope&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI am trying to remove envelope tags manually that way I am able to get results","title":"JAXB unmarshaling with envelope Tag","body":"<p>I am trying to unmarshall similar xml responses using existing objects generated from wsdl file but I can see my object is empty. verified and understood unmarshaller is taking envelope tag as namespace. Does anyone knows how we can fix this..</p>\n\n<pre><code>&lt;SOAP-ENV:Envelope xmlns:SOAP-ENV=&quot;http://schemas.xmlsoap.org/soap/envelope/&quot;&gt;\n    &lt;SOAP-ENV:Header/&gt;\n    &lt;SOAP-ENV:Body&gt;\n        &lt;ns4:test xmlns:ns3=&quot;http://www.w3.org/2000/09/xmldsig#&quot; xmlns:ns4=&quot;http://example.com/test&quot;&gt;\n            &lt;Id&gt;95&lt;/Id&gt;\n            &lt;Result&gt;\n                &lt;Status&gt;OK&lt;/Status&gt;\n            &lt;/Result&gt;\n        &lt;/ns4:SignNewCertificateResponse&gt;\n    &lt;/SOAP-ENV:Body&gt;\n&lt;/SOAP-ENV:Envelope&gt;\n</code></pre>\n\n<p>I am trying to remove envelope tags manually that way I am able to get results</p>\n"},{"tags":["java","spring-boot","events","oauth-2.0","google-calendar-api"],"owner":{"account_id":29007208,"reputation":1,"user_id":22219441,"display_name":"Ganesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689756898,"creation_date":1689756898,"question_id":76719537,"body_markdown":"Why i am getting this error in google calendar integration. i give all permissions and scope from my app.\r\n\r\nwhy showing Access Denied while intergrating google calendar with springboot app. and try to create events.\r\n\r\n```\r\norg.springframework.security.access.AccessDeniedException: Access Denied\r\n\tat org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.1.jar:6.1.1]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\r\n\tat java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\r\n```\r\n\r\nThis is my config file -\r\n\r\n```\r\npackage com.example.demo;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\nimport org.springframework.security.config.Customizer;\r\nimport org.springframework.security.config.annotation.SecurityBuilder;\r\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\r\nimport org.springframework.security.config.annotation.web.WebSecurityConfigurer;\r\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\r\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\r\nimport org.springframework.security.web.SecurityFilterChain;\r\n\r\n@Configuration\r\n@EnableWebSecurity\r\npublic class SecurityConfig {\r\n\t\r\n\t@Bean\r\n\tpublic SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\r\n\t\thttp\r\n\t\t.authorizeHttpRequests((authz) -&gt; authz\r\n\t\t\t\t\r\n                .anyRequest().authenticated()\r\n                \r\n                \r\n            )\r\n            .httpBasic(Customizer.withDefaults());\r\n        return http.build();\r\n}\r\n\r\n}\r\n```\r\n\r\n  Can some one tell me what is problem with my code. i wanted to create event manually ","title":"why showing Access Denied while intergrating google calendar with springboot app. and try to create events","body":"<p>Why i am getting this error in google calendar integration. i give all permissions and scope from my app.</p>\n<p>why showing Access Denied while intergrating google calendar with springboot app. and try to create events.</p>\n<pre><code>org.springframework.security.access.AccessDeniedException: Access Denied\n    at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:98) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.1.jar:6.1.1]\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:101) ~[spring-web-6.0.9.jar:6.0.9]\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationDispatcher.invoke(ApplicationDispatcher.java:642) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationDispatcher.processRequest(ApplicationDispatcher.java:410) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationDispatcher.doForward(ApplicationDispatcher.java:340) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.ApplicationDispatcher.forward(ApplicationDispatcher.java:277) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardHostValve.custom(StandardHostValve.java:358) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardHostValve.status(StandardHostValve.java:222) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:151) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.10.jar:10.1.10]\n    at java.base/java.lang.Thread.run(Thread.java:833) ~[na:na]\n</code></pre>\n<p>This is my config file -</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.security.config.Customizer;\nimport org.springframework.security.config.annotation.SecurityBuilder;\nimport org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;\nimport org.springframework.security.config.annotation.web.WebSecurityConfigurer;\nimport org.springframework.security.config.annotation.web.builders.HttpSecurity;\nimport org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;\nimport org.springframework.security.web.SecurityFilterChain;\n\n@Configuration\n@EnableWebSecurity\npublic class SecurityConfig {\n    \n    @Bean\n    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {\n        http\n        .authorizeHttpRequests((authz) -&gt; authz\n                \n                .anyRequest().authenticated()\n                \n                \n            )\n            .httpBasic(Customizer.withDefaults());\n        return http.build();\n}\n\n}\n</code></pre>\n<p>Can some one tell me what is problem with my code. i wanted to create event manually</p>\n"},{"tags":["java","android","kotlin","dagger-2"],"comments":[{"owner":{"account_id":8440660,"reputation":497,"user_id":6333296,"accept_rate":57,"display_name":"Al Ryan Acain"},"score":0,"creation_date":1641428798,"post_id":70588755,"comment_id":124805453,"body_markdown":"Well I guess Android devs in SO don&#39;t understand the the code either","body":"Well I guess Android devs in SO don&#39;t understand the the code either"},{"owner":{"account_id":1016545,"reputation":434,"user_id":1028008,"display_name":"ycagri"},"score":0,"creation_date":1643273032,"post_id":70588755,"comment_id":125297029,"body_markdown":"the constructor has `@Inject` annotation. Therefore, the map in the constructor is injected by dagger. You define map items in the ViewModelModule class by using `@IntoMap` annotation. Basically, when a viewmodel is injected to any ui component, ViewModelFactory create method is called. In the create method, it simply checks whether map contains provider for that viewmodel. If so, creates it.","body":"the constructor has <code>@Inject</code> annotation. Therefore, the map in the constructor is injected by dagger. You define map items in the ViewModelModule class by using <code>@IntoMap</code> annotation. Basically, when a viewmodel is injected to any ui component, ViewModelFactory create method is called. In the create method, it simply checks whether map contains provider for that viewmodel. If so, creates it."}],"answers":[{"tags":[],"owner":{"account_id":9162377,"reputation":459,"user_id":6813298,"display_name":"Marjan Davodinejad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653235315,"creation_date":1653235315,"answer_id":72339204,"question_id":70588755,"body_markdown":"I have built a project using Dagger and MVVM and I implement DaggerMultiBinding too.\r\nhttps://github.com/marjandn/GitHub\r\n\r\n***Basically, the scenario is that Dagger will create an implicit Map filled with Provider&lt;ViewModel&gt; objects and put it onto the objects graph.***\r\n\r\n**With more details:**\r\n\r\nWe created an annotation class:\r\n\r\n    @MustBeDocumented\r\n    @Target(\r\n        AnnotationTarget.FUNCTION,\r\n        AnnotationTarget.PROPERTY_GETTER,\r\n        AnnotationTarget.PROPERTY_SETTER\r\n    )\r\n    @Retention(AnnotationRetention.RUNTIME)\r\n    @MapKey\r\n    annotation class ViewModelKey(val value: KClass&lt;out ViewModel&gt;)\r\n\r\nbasically says that the services returned by these methods should be inserted into Map.\r\n    The keys in this Map will be of type Class&lt;? extends ViewModel&gt; and the values will be of type &lt;? extends ViewModel&gt; (subclass of ViewModel).\r\n    As a result, Dagger will create an implicit Map filled with Provider&lt;ViewModel&gt; objects and put it onto the objects graph\r\n\r\nand in ViewModelModules we defined our ViewModels like this:\r\n\r\n        @Binds\r\n        @IntoMap\r\n        @ViewModelKey(DashboardViewModel::class)\r\n        abstract fun bindDashboardActivityVM(dashboardViewModel: DashboardViewModel): ViewModel\r\n    \r\n        @Binds\r\n        @IntoMap\r\n        @ViewModelKey(HomeViewModel::class)\r\n        abstract fun bindHomeVM(homeViewModel: HomeViewModel): ViewModel\r\n\r\n        \r\n\r\nyou can see that we use annotation class that we created already for ViewModels.\r\n\r\n @IntoMap annotation says that Provider object for this service will be inserted into Map, and @ViewModelKey annotation specifies under which\r\n    key it will reside.\r\n    The net result of the above code will be that Dagger will create Map data structure\r\n    filled with Provider&lt;ViewModel&gt; objects and then provide it implicitly to other services.\r\n\r\nwith this command we get an instance of a viewmodel \r\n\r\n    ViewModelProviders.of(this, viewModelFactory)[getViewModel()]\r\n\r\nFinally ViewModelFactory class has a Map parameter that is Dagger created Map of ViewModels. and in body of ViewModelFactory searchs in Map to find corresponding Viewmodel.","title":"How does the Provider Interface used in ViewModel Factory works?","body":"<p>I have built a project using Dagger and MVVM and I implement DaggerMultiBinding too.\n<a href=\"https://github.com/marjandn/GitHub\" rel=\"nofollow noreferrer\">https://github.com/marjandn/GitHub</a></p>\n<p><em><strong>Basically, the scenario is that Dagger will create an implicit Map filled with Provider objects and put it onto the objects graph.</strong></em></p>\n<p><strong>With more details:</strong></p>\n<p>We created an annotation class:</p>\n<pre><code>@MustBeDocumented\n@Target(\n    AnnotationTarget.FUNCTION,\n    AnnotationTarget.PROPERTY_GETTER,\n    AnnotationTarget.PROPERTY_SETTER\n)\n@Retention(AnnotationRetention.RUNTIME)\n@MapKey\nannotation class ViewModelKey(val value: KClass&lt;out ViewModel&gt;)\n</code></pre>\n<p>basically says that the services returned by these methods should be inserted into Map.\nThe keys in this Map will be of type Class&lt;? extends ViewModel&gt; and the values will be of type &lt;? extends ViewModel&gt; (subclass of ViewModel).\nAs a result, Dagger will create an implicit Map filled with Provider objects and put it onto the objects graph</p>\n<p>and in ViewModelModules we defined our ViewModels like this:</p>\n<pre><code>    @Binds\n    @IntoMap\n    @ViewModelKey(DashboardViewModel::class)\n    abstract fun bindDashboardActivityVM(dashboardViewModel: DashboardViewModel): ViewModel\n\n    @Binds\n    @IntoMap\n    @ViewModelKey(HomeViewModel::class)\n    abstract fun bindHomeVM(homeViewModel: HomeViewModel): ViewModel\n\n    \n</code></pre>\n<p>you can see that we use annotation class that we created already for ViewModels.</p>\n<p>@IntoMap annotation says that Provider object for this service will be inserted into Map, and @ViewModelKey annotation specifies under which\nkey it will reside.\nThe net result of the above code will be that Dagger will create Map data structure\nfilled with Provider objects and then provide it implicitly to other services.</p>\n<p>with this command we get an instance of a viewmodel</p>\n<pre><code>ViewModelProviders.of(this, viewModelFactory)[getViewModel()]\n</code></pre>\n<p>Finally ViewModelFactory class has a Map parameter that is Dagger created Map of ViewModels. and in body of ViewModelFactory searchs in Map to find corresponding Viewmodel.</p>\n"}],"owner":{"account_id":8440660,"reputation":497,"user_id":6333296,"accept_rate":57,"display_name":"Al Ryan Acain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1959,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689756203,"creation_date":1641364953,"question_id":70588755,"body_markdown":"Recently, I&#39;ve been reading all over the internet about how to inject ViewModels using Dagger. The most common approach is to create a factory to delegate the creation of the ViewModel. Below is likely the code for the factory:\r\n\r\n    @Singleton\r\n    class MainViewModelFactory @Inject constructor(\r\n        private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\r\n    ) : ViewModelProvider.Factory {\r\n        override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\r\n            val creator = creators[modelClass] ?: creators.entries.firstOrNull {\r\n                modelClass.isAssignableFrom(it.key)\r\n            }?.value ?: throw IllegalArgumentException(&quot;unknown model class $modelClass&quot;)\r\n\r\n            @Suppress(&quot;UNCHECKED_CAST&quot;)\r\n            return creator.get() as T\r\n        }\r\n    }\r\n\r\nBut I can&#39;t fully understand the parameter of the factory:\r\n\r\n    private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\r\n\r\nWhat exactly is this `Provider` interface? And how does this work?\r\nAlso, what is the `@JvmSuppressWildcards` annotation for?","title":"How does the Provider Interface used in ViewModel Factory works?","body":"<p>Recently, I've been reading all over the internet about how to inject ViewModels using Dagger. The most common approach is to create a factory to delegate the creation of the ViewModel. Below is likely the code for the factory:</p>\n<pre><code>@Singleton\nclass MainViewModelFactory @Inject constructor(\n    private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\n) : ViewModelProvider.Factory {\n    override fun &lt;T : ViewModel&gt; create(modelClass: Class&lt;T&gt;): T {\n        val creator = creators[modelClass] ?: creators.entries.firstOrNull {\n            modelClass.isAssignableFrom(it.key)\n        }?.value ?: throw IllegalArgumentException(&quot;unknown model class $modelClass&quot;)\n\n        @Suppress(&quot;UNCHECKED_CAST&quot;)\n        return creator.get() as T\n    }\n}\n</code></pre>\n<p>But I can't fully understand the parameter of the factory:</p>\n<pre><code>private val creators: Map&lt;Class&lt;out ViewModel&gt;, @JvmSuppressWildcards Provider&lt;ViewModel&gt;&gt;\n</code></pre>\n<p>What exactly is this <code>Provider</code> interface? And how does this work?\nAlso, what is the <code>@JvmSuppressWildcards</code> annotation for?</p>\n"},{"tags":["java","multi-module","quarkus"],"answers":[{"tags":[],"owner":{"account_id":6518696,"reputation":10106,"user_id":5043585,"display_name":"Guillaume Smet"},"down_vote_count":0,"up_vote_count":69,"is_accepted":true,"score":69,"last_activity_date":1689755881,"creation_date":1554373916,"answer_id":55513723,"question_id":55513502,"body_markdown":"Quarkus automatically indexes the main module but, when you have additional modules containing CDI beans, entities, objects serialized as JSON, you need to explicitly index them.\r\n\r\nThere are a couple of different (easy to implement) options to do so.\r\n\r\n**Using the Jandex Maven plugin**\r\n\r\nAdd the following to the `pom.xml` of the module you want to index:\r\n\r\n```xml\r\n    &lt;build&gt;\r\n      &lt;plugins&gt;\r\n        &lt;plugin&gt;\r\n          &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1.2&lt;/version&gt;\r\n          &lt;executions&gt;\r\n            &lt;execution&gt;\r\n              &lt;id&gt;make-index&lt;/id&gt;\r\n              &lt;goals&gt;\r\n                &lt;goal&gt;jandex&lt;/goal&gt;\r\n              &lt;/goals&gt;\r\n            &lt;/execution&gt;\r\n          &lt;/executions&gt;\r\n        &lt;/plugin&gt;\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n```\r\n\r\nIt&#39;s the most beneficial option if your dependency is external to your project and you want to build the index once and for all.\r\n\r\n**Using the Gradle Jandex plugin**\r\n\r\nIf you are using Gradle, there is a third party plugin allowing to generate a Jandex index: https://github.com/kordamp/jandex-gradle-plugin .\r\n\r\n**Adding an empty META-INF/beans.xml**\r\n\r\nIf you add an empty `META-INF/beans.xml` file in the additional module `src/main/resources`, the classes will also be indexed.\r\n\r\nThe classes will be indexed by Quarkus itself.\r\n\r\n**Indexing other dependencies**\r\n\r\nIf you can&#39;t modify the dependency (think of a third-party dependency, for instance), you can still index it by adding an entry to your `application.properties`:\r\n\r\n    quarkus.index-dependency.&lt;name&gt;.group-id=\r\n    quarkus.index-dependency.&lt;name&gt;.artifact-id=\r\n    quarkus.index-dependency.&lt;name&gt;.classifier=(this one is optional)\r\n\r\nwith `&lt;name&gt;` being a name you choose to identify your dependency.","title":"How to create a Jandex index in Quarkus for classes in a external module","body":"<p>Quarkus automatically indexes the main module but, when you have additional modules containing CDI beans, entities, objects serialized as JSON, you need to explicitly index them.</p>\n<p>There are a couple of different (easy to implement) options to do so.</p>\n<p><strong>Using the Jandex Maven plugin</strong></p>\n<p>Add the following to the <code>pom.xml</code> of the module you want to index:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>    &lt;build&gt;\n      &lt;plugins&gt;\n        &lt;plugin&gt;\n          &lt;groupId&gt;io.smallrye&lt;/groupId&gt;\n          &lt;artifactId&gt;jandex-maven-plugin&lt;/artifactId&gt;\n          &lt;version&gt;3.1.2&lt;/version&gt;\n          &lt;executions&gt;\n            &lt;execution&gt;\n              &lt;id&gt;make-index&lt;/id&gt;\n              &lt;goals&gt;\n                &lt;goal&gt;jandex&lt;/goal&gt;\n              &lt;/goals&gt;\n            &lt;/execution&gt;\n          &lt;/executions&gt;\n        &lt;/plugin&gt;\n      &lt;/plugins&gt;\n    &lt;/build&gt;\n</code></pre>\n<p>It's the most beneficial option if your dependency is external to your project and you want to build the index once and for all.</p>\n<p><strong>Using the Gradle Jandex plugin</strong></p>\n<p>If you are using Gradle, there is a third party plugin allowing to generate a Jandex index: <a href=\"https://github.com/kordamp/jandex-gradle-plugin\" rel=\"noreferrer\">https://github.com/kordamp/jandex-gradle-plugin</a> .</p>\n<p><strong>Adding an empty META-INF/beans.xml</strong></p>\n<p>If you add an empty <code>META-INF/beans.xml</code> file in the additional module <code>src/main/resources</code>, the classes will also be indexed.</p>\n<p>The classes will be indexed by Quarkus itself.</p>\n<p><strong>Indexing other dependencies</strong></p>\n<p>If you can't modify the dependency (think of a third-party dependency, for instance), you can still index it by adding an entry to your <code>application.properties</code>:</p>\n<pre><code>quarkus.index-dependency.&lt;name&gt;.group-id=\nquarkus.index-dependency.&lt;name&gt;.artifact-id=\nquarkus.index-dependency.&lt;name&gt;.classifier=(this one is optional)\n</code></pre>\n<p>with <code>&lt;name&gt;</code> being a name you choose to identify your dependency.</p>\n"},{"tags":[],"owner":{"account_id":3929541,"reputation":384,"user_id":3248732,"display_name":"Triphon Penakov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1581407258,"creation_date":1565198518,"answer_id":57399476,"question_id":55513502,"body_markdown":"### Edit (11/02/2020)\n\nNow in my microservices I am extensively using the `targets` property from `RegisterForReflection` annotation. \nThis is the property explanation according to the documentation:\n\n    /**\n     * Alternative classes that should actually be registered for reflection instead of the current class.\n     *\n     * This allows for classes in 3rd party libraries to be registered without modification or writing an\n     * extension. If this is set then the class it is placed on is not registered for reflection, so this should\n     * generally just be placed on an empty class that is not otherwise used.\n     */\n\nThis works fine on quarkus based projects and can handle the basic cases when you want to register a handful POJOs for reflection. The `RegisterForReflection` annotation will register the POJO by himself, but will not going to register the return types from POJO&#39;s methods. \n\nMore advanced way is to use `@AutomaticFeature` annotation as described [here](https://github.com/oracle/graal/blob/master/substratevm/REFLECTION.md). I am using it with [Reflections Library](https://github.com/ronmamo/reflections) and with custom made utility wrapper: [ReflectUtils](https://github.com/tpenakov/otaibe-commons-quarkus/blob/master/otaibe-commons-quarkus-reflection/src/main/java/org/otaibe/commons/quarkus/reflection/utils/ReflectUtils.java)\n\nNow I can do more complex tasks:\n```\n@AutomaticFeature\n@RegisterForReflection(targets = {\n        com.hotelbeds.hotelapimodel.auto.convert.json.DateSerializer.class,\n        TimeDeserializer.class,\n        DateSerializer.class,\n        TimeSerializer.class,\n        RateSerializer.class,\n})\npublic class HotelBedsReflection implements Feature {\n    public static Logger log = Utils.findLogger(Reflections.class);\n\n    @Override\n    public void beforeAnalysis(BeforeAnalysisAccess access) {\n        ReflectUtils.registerPackage(LanguagesRQ.class.getPackage().getName(), Object.class);\n        ReflectUtils.registerPackage(AvailabilityRQ.class.getPackage().getName(), Object.class);\n        ReflectUtils.registerPackage(Occupancy.class.getPackage().getName(), Object.class);\n    }\n}\n```\n\n---\n### Initial Answer\nI&#39;ve tried to add Jandex index, to add beans.xml and also to Indexing other dependencies as described in @emre-işık answer, however my third party class (EpAutomationRs) wasn&#39;t registered for reflection in native mode.\nSo I&#39;ve ended up with quick and dirty solution for registering it (see below).\nI&#39;ve created an unused REST JSON endpoint which returns the class. \n\n    /**\n     * the purpose of this method is to register for reflection EpAutomationRs class\n     *\n     * @return\n     */\n    @GET\n    @Path(GET_EMPTY_RS)\n    @Produces(MediaType.APPLICATION_JSON)\n    public EpAutomationRs entry() {\n        return new EpAutomationRs();\n    }\n","title":"How to create a Jandex index in Quarkus for classes in a external module","body":"<h3>Edit (11/02/2020)</h3>\n<p>Now in my microservices I am extensively using the <code>targets</code> property from <code>RegisterForReflection</code> annotation.\nThis is the property explanation according to the documentation:</p>\n<pre><code>/**\n * Alternative classes that should actually be registered for reflection instead of the current class.\n *\n * This allows for classes in 3rd party libraries to be registered without modification or writing an\n * extension. If this is set then the class it is placed on is not registered for reflection, so this should\n * generally just be placed on an empty class that is not otherwise used.\n */\n</code></pre>\n<p>This works fine on quarkus based projects and can handle the basic cases when you want to register a handful POJOs for reflection. The <code>RegisterForReflection</code> annotation will register the POJO by himself, but will not going to register the return types from POJO's methods.</p>\n<p>More advanced way is to use <code>@AutomaticFeature</code> annotation as described <a href=\"https://github.com/oracle/graal/blob/master/substratevm/REFLECTION.md\" rel=\"nofollow noreferrer\">here</a>. I am using it with <a href=\"https://github.com/ronmamo/reflections\" rel=\"nofollow noreferrer\">Reflections Library</a> and with custom made utility wrapper: <a href=\"https://github.com/tpenakov/otaibe-commons-quarkus/blob/master/otaibe-commons-quarkus-reflection/src/main/java/org/otaibe/commons/quarkus/reflection/utils/ReflectUtils.java\" rel=\"nofollow noreferrer\">ReflectUtils</a></p>\n<p>Now I can do more complex tasks:</p>\n<pre><code>@AutomaticFeature\n@RegisterForReflection(targets = {\n        com.hotelbeds.hotelapimodel.auto.convert.json.DateSerializer.class,\n        TimeDeserializer.class,\n        DateSerializer.class,\n        TimeSerializer.class,\n        RateSerializer.class,\n})\npublic class HotelBedsReflection implements Feature {\n    public static Logger log = Utils.findLogger(Reflections.class);\n\n    @Override\n    public void beforeAnalysis(BeforeAnalysisAccess access) {\n        ReflectUtils.registerPackage(LanguagesRQ.class.getPackage().getName(), Object.class);\n        ReflectUtils.registerPackage(AvailabilityRQ.class.getPackage().getName(), Object.class);\n        ReflectUtils.registerPackage(Occupancy.class.getPackage().getName(), Object.class);\n    }\n}\n</code></pre>\n<hr />\n<h3>Initial Answer</h3>\n<p>I've tried to add Jandex index, to add beans.xml and also to Indexing other dependencies as described in @emre-işık answer, however my third party class (EpAutomationRs) wasn't registered for reflection in native mode.\nSo I've ended up with quick and dirty solution for registering it (see below).\nI've created an unused REST JSON endpoint which returns the class.</p>\n<pre><code>/**\n * the purpose of this method is to register for reflection EpAutomationRs class\n *\n * @return\n */\n@GET\n@Path(GET_EMPTY_RS)\n@Produces(MediaType.APPLICATION_JSON)\npublic EpAutomationRs entry() {\n    return new EpAutomationRs();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":398028,"reputation":558,"user_id":762490,"accept_rate":50,"display_name":"tellisnz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1579234644,"creation_date":1579234644,"answer_id":59781120,"question_id":55513502,"body_markdown":"For gradle users, you can use [this][1] plugin in the build.gradle of the module you depend on.\r\n\r\n\r\n  [1]: https://github.com/kordamp/jandex-gradle-plugin","title":"How to create a Jandex index in Quarkus for classes in a external module","body":"<p>For gradle users, you can use <a href=\"https://github.com/kordamp/jandex-gradle-plugin\" rel=\"nofollow noreferrer\">this</a> plugin in the build.gradle of the module you depend on.</p>\n"}],"owner":{"account_id":10266087,"reputation":726,"user_id":7576029,"display_name":"Emre Isik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26229,"favorite_count":0,"down_vote_count":0,"up_vote_count":49,"accepted_answer_id":55513723,"answer_count":3,"score":49,"last_activity_date":1689755881,"creation_date":1554373237,"question_id":55513502,"body_markdown":"First of all, I have a multi-module maven hierarchy like that:\r\n\r\n```\r\n├── project (parent pom.xml)\r\n│&#160;&#160; ├── service\r\n│&#160;&#160; ├── api-library\r\n```\r\n\r\nSo now to the problem:\r\n\r\nI am writing a JAX-RS Endpoint in the service module which uses classes in the api-library.  \r\nWhen I start quarkus, I am getting this warning:\r\n\r\n```\r\n13:01:18,784 WARN  [io.qua.dep.ste.ReflectiveHierarchyStep] Unable to properly register the hierarchy of the following classes for reflection as they are not in the Jandex index:\r\n- com.example.Fruit\r\n- com.example.Car\r\nConsider adding them to the index either by creating a Jandex index for your dependency or via quarkus.index-dependency properties.\r\n```\r\n\r\nThis two classes `com.example.Fruit` and `com.example.Car` are located in the `api-library` module.\r\n\r\nSo I think I need to add them to the Jandex index-dependency in the application.properties.\r\n\r\n**But how can I add Jandex index-dependencies into quarkus?**","title":"How to create a Jandex index in Quarkus for classes in a external module","body":"<p>First of all, I have a multi-module maven hierarchy like that:</p>\n\n<pre><code>├── project (parent pom.xml)\n│   ├── service\n│   ├── api-library\n</code></pre>\n\n<p>So now to the problem:</p>\n\n<p>I am writing a JAX-RS Endpoint in the service module which uses classes in the api-library.<br>\nWhen I start quarkus, I am getting this warning:</p>\n\n<pre><code>13:01:18,784 WARN  [io.qua.dep.ste.ReflectiveHierarchyStep] Unable to properly register the hierarchy of the following classes for reflection as they are not in the Jandex index:\n- com.example.Fruit\n- com.example.Car\nConsider adding them to the index either by creating a Jandex index for your dependency or via quarkus.index-dependency properties.\n</code></pre>\n\n<p>This two classes <code>com.example.Fruit</code> and <code>com.example.Car</code> are located in the <code>api-library</code> module.</p>\n\n<p>So I think I need to add them to the Jandex index-dependency in the application.properties.</p>\n\n<p><strong>But how can I add Jandex index-dependencies into quarkus?</strong></p>\n"},{"tags":["java","spring-boot","docker"],"comments":[{"owner":{"account_id":18757259,"reputation":1751,"user_id":13676960,"display_name":"Hopey One"},"score":0,"creation_date":1649379791,"post_id":71790391,"comment_id":126866801,"body_markdown":"Does this answer your question? [From inside of a Docker container, how do I connect to the localhost of the machine?](https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/24319662/from-inside-of-a-docker-container-how-do-i-connect-to-the-localhost-of-the-mach\">From inside of a Docker container, how do I connect to the localhost of the machine?</a>"},{"owner":{"account_id":13863020,"reputation":137023,"user_id":10008173,"display_name":"David Maze"},"score":1,"creation_date":1649379961,"post_id":71790391,"comment_id":126866833,"body_markdown":"You have the Spring database URL set to point back to the application container on a different port.  You also might look at [Docker Compose + Spring Boot + Postgres connection](https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection) for a different recipe, if the database is running inside a container as well.","body":"You have the Spring database URL set to point back to the application container on a different port.  You also might look at <a href=\"https://stackoverflow.com/questions/44790923/docker-compose-spring-boot-postgres-connection\">Docker Compose + Spring Boot + Postgres connection</a> for a different recipe, if the database is running inside a container as well."}],"owner":{"account_id":24578424,"reputation":19,"user_id":18483943,"display_name":"ferenaj"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":905,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689755400,"creation_date":1649377875,"question_id":71790391,"body_markdown":"I got this exception and can&#39;t resolve it. It works in intellij, so I thought that everything is correct, but then I try to use it in docker and this happens. I&#39;d be glad if u guys helped me. Couldn&#39;t find any solution that would fit me while searching the internet.The error is longer, but StackOverflow doesnt allow me to add so much code to such a short comment.\r\n\r\n \r\n\r\n    :: Spring Boot ::                (v2.6.4)\r\n    \r\n    2022-04-08 00:24:44.230  INFO 7 --- [           main] p.k.s.SpringDataLessonApplication        : Starting SpringDataLessonApplication v0.0.1-SNAPSHOT using Java 11.0.14.1 on e9b077a5d5df with PID 7 (/spring-data-lesson-0.0.1-SNAPSHOT.jar started by root in /)\r\n    2022-04-08 00:24:44.233  INFO 7 --- [           main] p.k.s.SpringDataLessonApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\r\n    2022-04-08 00:24:44.612  INFO 7 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\r\n    2022-04-08 00:24:44.651  INFO 7 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.\r\n    2022-04-08 00:24:44.984  INFO 7 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\r\n    2022-04-08 00:24:45.023  INFO 7 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\r\n    2022-04-08 00:24:45.153  INFO 7 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\r\n    2022-04-08 00:24:45.243  INFO 7 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\r\n    2022-04-08 00:24:46.337 ERROR 7 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\r\n    \r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n            at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n            at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            \r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\r\n            at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\r\n            at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\r\n            at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\r\n            at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            ... 56 common frames omitted\r\n    Caused by: java.net.ConnectException: Connection refused (Connection refused)\r\n            at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\r\n            at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\r\n            at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\r\n            at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\r\n            at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\r\n            at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\r\n            at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            ... 59 common frames omitted\r\n    \r\n    2022-04-08 00:24:46.339  WARN 7 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\r\n    \r\n    com.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\r\n    \r\n    The last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\r\n            at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\r\n            at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\r\n            at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\r\n            at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n            at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\r\n          \r\n    \r\n\r\n\r\nMy Dockerfile:\r\n\r\n    FROM openjdk:11\r\n    ADD target/spring-data-lesson-0.0.1-SNAPSHOT.jar .\r\n    EXPOSE 8000\r\n    CMD java -jar spring-data-lesson-0.0.1-SNAPSHOT.jar\r\n\r\nMy app.properties\r\n\r\n    #data base\r\n    spring.datasource.url=jdbc:mysql://localhost:3306/cars_db?useSSL=false&amp;serverTimezone=UTC\r\n    spring.datasource.username=root\r\n    spring.datasource.password=root\r\n    spring.jpa.hibernate.ddl-auto=create\r\n    spring.jpa.show-sql=true\r\n    spring.jpa.properties.hibernate.format_sql=true\r\n    spring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\r\n\r\n\r\n\r\n","title":"Docker HikariPool-1 exception - driver doesnt recieve packets from the server","body":"<p>I got this exception and can't resolve it. It works in intellij, so I thought that everything is correct, but then I try to use it in docker and this happens. I'd be glad if u guys helped me. Couldn't find any solution that would fit me while searching the internet.The error is longer, but StackOverflow doesnt allow me to add so much code to such a short comment.</p>\n<pre><code>:: Spring Boot ::                (v2.6.4)\n\n2022-04-08 00:24:44.230  INFO 7 --- [           main] p.k.s.SpringDataLessonApplication        : Starting SpringDataLessonApplication v0.0.1-SNAPSHOT using Java 11.0.14.1 on e9b077a5d5df with PID 7 (/spring-data-lesson-0.0.1-SNAPSHOT.jar started by root in /)\n2022-04-08 00:24:44.233  INFO 7 --- [           main] p.k.s.SpringDataLessonApplication        : No active profile set, falling back to 1 default profile: &quot;default&quot;\n2022-04-08 00:24:44.612  INFO 7 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.\n2022-04-08 00:24:44.651  INFO 7 --- [           main] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 2 JPA repository interfaces.\n2022-04-08 00:24:44.984  INFO 7 --- [           main] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]\n2022-04-08 00:24:45.023  INFO 7 --- [           main] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 5.6.5.Final\n2022-04-08 00:24:45.153  INFO 7 --- [           main] o.hibernate.annotations.common.Version   : HCANN000001: Hibernate Commons Annotations {5.1.2.Final}\n2022-04-08 00:24:45.243  INFO 7 --- [           main] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...\n2022-04-08 00:24:46.337 ERROR 7 --- [           main] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Exception during pool initialization.\n\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        \n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method) ~[na:na]\n        at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62) ~[na:na]\n        at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45) ~[na:na]\n        at java.base/java.lang.reflect.Constructor.newInstance(Constructor.java:490) ~[na:na]\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:61) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:105) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.exceptions.ExceptionFactory.createException(ExceptionFactory.java:151) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.exceptions.ExceptionFactory.createCommunicationsException(ExceptionFactory.java:167) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:89) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.NativeSession.connect(NativeSession.java:120) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.connectOneTryOnly(ConnectionImpl.java:949) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:819) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        ... 56 common frames omitted\nCaused by: java.net.ConnectException: Connection refused (Connection refused)\n        at java.base/java.net.PlainSocketImpl.socketConnect(Native Method) ~[na:na]\n        at java.base/java.net.AbstractPlainSocketImpl.doConnect(AbstractPlainSocketImpl.java:412) ~[na:na]\n        at java.base/java.net.AbstractPlainSocketImpl.connectToAddress(AbstractPlainSocketImpl.java:255) ~[na:na]\n        at java.base/java.net.AbstractPlainSocketImpl.connect(AbstractPlainSocketImpl.java:237) ~[na:na]\n        at java.base/java.net.SocksSocketImpl.connect(SocksSocketImpl.java:392) ~[na:na]\n        at java.base/java.net.Socket.connect(Socket.java:609) ~[na:na]\n        at com.mysql.cj.protocol.StandardSocketFactory.connect(StandardSocketFactory.java:156) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.protocol.a.NativeSocketConnection.connect(NativeSocketConnection.java:63) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        ... 59 common frames omitted\n\n2022-04-08 00:24:46.339  WARN 7 --- [           main] o.h.e.j.e.i.JdbcEnvironmentInitiator     : HHH000342: Could not obtain connection to query metadata\n\ncom.mysql.cj.jdbc.exceptions.CommunicationsException: Communications link failure\n\nThe last packet sent successfully to the server was 0 milliseconds ago. The driver has not received any packets from the server.\n        at com.mysql.cj.jdbc.exceptions.SQLError.createCommunicationsException(SQLError.java:174) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:64) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:829) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.&lt;init&gt;(ConnectionImpl.java:449) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:242) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:198) ~[mysql-connector-java-8.0.28.jar!/:8.0.28]\n        at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.pool.HikariPool.&lt;init&gt;(HikariPool.java:115) ~[HikariCP-4.0.3.jar!/:na]\n        at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112) ~[HikariCP-4.0.3.jar!/:na]\n        at org.hibernate.engine.jdbc.connections.internal.DatasourceConnectionProviderImpl.getConnection(DatasourceConnectionProviderImpl.java:122) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator$ConnectionProviderJdbcConnectionAccess.obtainConnection(JdbcEnvironmentInitiator.java:181) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:68) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.engine.jdbc.env.internal.JdbcEnvironmentInitiator.initiateService(JdbcEnvironmentInitiator.java:35) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n        at org.hibernate.boot.registry.internal.StandardServiceRegistryImpl.initiateService(StandardServiceRegistryImpl.java:101) ~[hibernate-core-5.6.5.Final.jar!/:5.6.5.Final]\n      \n</code></pre>\n<p>My Dockerfile:</p>\n<pre><code>FROM openjdk:11\nADD target/spring-data-lesson-0.0.1-SNAPSHOT.jar .\nEXPOSE 8000\nCMD java -jar spring-data-lesson-0.0.1-SNAPSHOT.jar\n</code></pre>\n<p>My app.properties</p>\n<pre><code>#data base\nspring.datasource.url=jdbc:mysql://localhost:3306/cars_db?useSSL=false&amp;serverTimezone=UTC\nspring.datasource.username=root\nspring.datasource.password=root\nspring.jpa.hibernate.ddl-auto=create\nspring.jpa.show-sql=true\nspring.jpa.properties.hibernate.format_sql=true\nspring.jpa.hibernate.naming.physical-strategy=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl\n</code></pre>\n"},{"tags":["java","android","firebase","function","firebase-realtime-database"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1689748315,"post_id":76718352,"comment_id":135255276,"body_markdown":"I&#39;m not sure I understand.\nWhat exactly in this code doesn&#39;t work the way you expect?\nTell us what is wrong with shared code. Do you have any errors?","body":"I&#39;m not sure I understand. What exactly in this code doesn&#39;t work the way you expect? Tell us what is wrong with shared code. Do you have any errors?"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":1,"creation_date":1689748666,"post_id":76718352,"comment_id":135255332,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."},{"owner":{"account_id":20527686,"reputation":5,"user_id":15065744,"display_name":"Sam"},"score":0,"creation_date":1689748677,"post_id":76718352,"comment_id":135255337,"body_markdown":"This code not updating the data in the database. I think its because of the updateBooking object is null. But I have no idea how to fix it","body":"This code not updating the data in the database. I think its because of the updateBooking object is null. But I have no idea how to fix it"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":0,"creation_date":1689773947,"post_id":76718352,"comment_id":135260989,"body_markdown":"I recommend locally debugging the code to see what exactly is going wrong. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the **first** line that doesn&#39;t do what you expect it to do?","body":"I recommend locally debugging the code to see what exactly is going wrong. If you set a breakpoint on each line of the code you shared, run the code in a debugger, and then check the value of each variable on each line, which is the <b>first</b> line that doesn&#39;t do what you expect it to do?"},{"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"score":1,"creation_date":1689773959,"post_id":76718352,"comment_id":135260991,"body_markdown":"If you&#39;re new to debugging on Android, the Android docs have a great page on [debugging your app](https://developer.android.com/studio/debug) to get you started with, including the section on [working with breakpoints](https://developer.android.com/studio/debug#breakPoints) and [inspecting varialbles](https://developer.android.com/studio/debug#variablesAndWatches).","body":"If you&#39;re new to debugging on Android, the Android docs have a great page on <a href=\"https://developer.android.com/studio/debug\" rel=\"nofollow noreferrer\">debugging your app</a> to get you started with, including the section on <a href=\"https://developer.android.com/studio/debug#breakPoints\" rel=\"nofollow noreferrer\">working with breakpoints</a> and <a href=\"https://developer.android.com/studio/debug#variablesAndWatches\" rel=\"nofollow noreferrer\">inspecting varialbles</a>."}],"owner":{"account_id":20527686,"reputation":5,"user_id":15065744,"display_name":"Sam"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689755344,"creation_date":1689746292,"question_id":76718352,"body_markdown":"So I&#39;m working on school project about Hotel Reservation System. The problem is on Update function using Firebase Realtime Database. It just not update the data. This code I got from ChatGPT. It show the toast for update successful but in database, its not changing. \r\n\r\nDetailsPage.java\r\n\r\n```\r\nprivate void updateBookingData() {\r\n        // Retrieve the updated data from the EditText fields\r\n        String name = nameUET.getText().toString().trim();\r\n        String phone = phoneUET.getText().toString().trim();\r\n        String email = emailUET.getText().toString().trim();\r\n        String checkIn = checkInUET.getText().toString().trim();\r\n        String checkOut = checkOutUET.getText().toString().trim();\r\n\r\n        // Check if any of the fields are empty\r\n        if (TextUtils.isEmpty(name) || TextUtils.isEmpty(phone) || TextUtils.isEmpty(email)\r\n                || TextUtils.isEmpty(checkIn) || TextUtils.isEmpty(checkOut)) {\r\n            Toast.makeText(this, &quot;Please fill in all the fields&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        // Inside updateBookingData() method in DetailsPage.java\r\n        if (booking == null || TextUtils.isEmpty(booking.getBookingId())) {\r\n            Toast.makeText(this, &quot;Booking data not available&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n\r\n        // Get the user&#39;s UID from Firebase Authentication\r\n        FirebaseUser currentUser = FirebaseAuth.getInstance().getCurrentUser();\r\n        if (currentUser == null) {\r\n            // User is not signed in; you may want to handle this case accordingly\r\n            Toast.makeText(this, &quot;User not signed in&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        String userId = currentUser.getUid();\r\n\r\n        // Check if the booking object is null or doesn&#39;t have a valid bookingId\r\n        if (booking == null || TextUtils.isEmpty(booking.getBookingId())) {\r\n            Toast.makeText(this, &quot;Booking data not available&quot;, Toast.LENGTH_SHORT).show();\r\n            return;\r\n        }\r\n\r\n        // Create a new Booking object with the updated data\r\n        Booking updatedBooking = new Booking(userId, name, phone, email, checkIn, checkOut);\r\n\r\n        // Update the data in Firebase Realtime Database using the bookingId\r\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;bookings&quot;)\r\n                .child(&quot;users&quot;).child(userId).child(booking.getBookingId());\r\n        databaseReference.setValue(updatedBooking)\r\n                .addOnSuccessListener(aVoid -&gt; {\r\n                    try {\r\n                        Log.wtf(&quot;BookingName: &quot;, name);\r\n                    }catch (Exception e) {\r\n                        Toast.makeText(this, &quot;Failed to delete booking data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                    }\r\n                    Toast.makeText(this, &quot;Booking updated successfully&quot;, Toast.LENGTH_SHORT).show();\r\n                    Intent intent = new Intent(this, ConfirmPage.class);\r\n                    startActivity(intent);\r\n                })\r\n                .addOnFailureListener(e -&gt; {\r\n                    Toast.makeText(this, &quot;Failed to update booking data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\r\n                });\r\n    }\r\n```\r\n\r\n\r\nI need it to update the data in the Firebase Realtime database","title":"Firebase Realtime Database Update Function","body":"<p>So I'm working on school project about Hotel Reservation System. The problem is on Update function using Firebase Realtime Database. It just not update the data. This code I got from ChatGPT. It show the toast for update successful but in database, its not changing.</p>\n<p>DetailsPage.java</p>\n<pre><code>private void updateBookingData() {\n        // Retrieve the updated data from the EditText fields\n        String name = nameUET.getText().toString().trim();\n        String phone = phoneUET.getText().toString().trim();\n        String email = emailUET.getText().toString().trim();\n        String checkIn = checkInUET.getText().toString().trim();\n        String checkOut = checkOutUET.getText().toString().trim();\n\n        // Check if any of the fields are empty\n        if (TextUtils.isEmpty(name) || TextUtils.isEmpty(phone) || TextUtils.isEmpty(email)\n                || TextUtils.isEmpty(checkIn) || TextUtils.isEmpty(checkOut)) {\n            Toast.makeText(this, &quot;Please fill in all the fields&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        // Inside updateBookingData() method in DetailsPage.java\n        if (booking == null || TextUtils.isEmpty(booking.getBookingId())) {\n            Toast.makeText(this, &quot;Booking data not available&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n\n        // Get the user's UID from Firebase Authentication\n        FirebaseUser currentUser = FirebaseAuth.getInstance().getCurrentUser();\n        if (currentUser == null) {\n            // User is not signed in; you may want to handle this case accordingly\n            Toast.makeText(this, &quot;User not signed in&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        String userId = currentUser.getUid();\n\n        // Check if the booking object is null or doesn't have a valid bookingId\n        if (booking == null || TextUtils.isEmpty(booking.getBookingId())) {\n            Toast.makeText(this, &quot;Booking data not available&quot;, Toast.LENGTH_SHORT).show();\n            return;\n        }\n\n        // Create a new Booking object with the updated data\n        Booking updatedBooking = new Booking(userId, name, phone, email, checkIn, checkOut);\n\n        // Update the data in Firebase Realtime Database using the bookingId\n        DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference(&quot;bookings&quot;)\n                .child(&quot;users&quot;).child(userId).child(booking.getBookingId());\n        databaseReference.setValue(updatedBooking)\n                .addOnSuccessListener(aVoid -&gt; {\n                    try {\n                        Log.wtf(&quot;BookingName: &quot;, name);\n                    }catch (Exception e) {\n                        Toast.makeText(this, &quot;Failed to delete booking data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                    }\n                    Toast.makeText(this, &quot;Booking updated successfully&quot;, Toast.LENGTH_SHORT).show();\n                    Intent intent = new Intent(this, ConfirmPage.class);\n                    startActivity(intent);\n                })\n                .addOnFailureListener(e -&gt; {\n                    Toast.makeText(this, &quot;Failed to update booking data: &quot; + e.getMessage(), Toast.LENGTH_SHORT).show();\n                });\n    }\n</code></pre>\n<p>I need it to update the data in the Firebase Realtime database</p>\n"},{"tags":["java","android","android-intent"],"comments":[{"owner":{"account_id":39846,"reputation":991133,"user_id":115145,"accept_rate":84,"display_name":"CommonsWare"},"score":2,"creation_date":1294190444,"post_id":4599972,"comment_id":5054412,"body_markdown":"If the &quot;broadcast intents/events&quot; are not documented, please don&#39;t use them. They are not intended for third party developers to connect to, may change when the apps get updated, may violate EULAs or other license agreements, etc.","body":"If the &quot;broadcast intents/events&quot; are not documented, please don&#39;t use them. They are not intended for third party developers to connect to, may change when the apps get updated, may violate EULAs or other license agreements, etc."},{"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":0,"creation_date":1294191367,"post_id":4599972,"comment_id":5054507,"body_markdown":"A better approach would be to ask the developers of the applications and see if they agree to consider some intents/broadcasts &quot;public&quot;, i.e. they promise not to change them so other apps can continue to use them.","body":"A better approach would be to ask the developers of the applications and see if they agree to consider some intents/broadcasts &quot;public&quot;, i.e. they promise not to change them so other apps can continue to use them."},{"owner":{"account_id":139856,"reputation":77164,"user_id":345717,"accept_rate":81,"display_name":"EboMike"},"score":0,"creation_date":1294191386,"post_id":4599972,"comment_id":5054508,"body_markdown":"And there&#39;s of course the crowd-sourced registry at openintents.org, but it&#39;s unfortunately not very populated yet.","body":"And there&#39;s of course the crowd-sourced registry at openintents.org, but it&#39;s unfortunately not very populated yet."},{"owner":{"account_id":127731,"reputation":6255,"user_id":325102,"accept_rate":84,"display_name":"plaisthos"},"score":0,"creation_date":1294270451,"post_id":4599972,"comment_id":5067844,"body_markdown":"I wanted to know if the internal music player of my telephone (motorola defy) sends broadcasts if the track changes. Guess it is not as simply as I hoped","body":"I wanted to know if the internal music player of my telephone (motorola defy) sends broadcasts if the track changes. Guess it is not as simply as I hoped"}],"answers":[{"tags":[],"owner":{"account_id":108720,"reputation":21784,"user_id":288439,"accept_rate":89,"display_name":"Leif Andersen"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1294195378,"creation_date":1294195378,"answer_id":4600391,"question_id":4599972,"body_markdown":"There&#39;s logcat, which you can get to from the ddms (either the dedicated app, or the eclipse view), it should list all broadcasts, as well as the properties that are associated with the intent.  However, as the other commenters on your post have stated, you really shouldn&#39;t be doing that unless the intent has been published.  It may change, or cause other forms of havoc.  Although I disagree with the statement, some people may even go so far as to say that it&#39;s illegal if the licenses aren&#39;t compatible.  (Although I&#39;m of the party that it&#39;s not, seeing as you&#39;re not statically linking to the code, nor even putting it in your package).","title":"Showing all broadcast events on Android","body":"<p>There's logcat, which you can get to from the ddms (either the dedicated app, or the eclipse view), it should list all broadcasts, as well as the properties that are associated with the intent.  However, as the other commenters on your post have stated, you really shouldn't be doing that unless the intent has been published.  It may change, or cause other forms of havoc.  Although I disagree with the statement, some people may even go so far as to say that it's illegal if the licenses aren't compatible.  (Although I'm of the party that it's not, seeing as you're not statically linking to the code, nor even putting it in your package).</p>\n"},{"tags":[],"owner":{"account_id":244512,"reputation":11445,"user_id":517381,"accept_rate":33,"display_name":"ViliusK"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1356565143,"creation_date":1356565143,"answer_id":14047627,"question_id":4599972,"body_markdown":"Please check this open source project to see all broadcasts on your android phone:[Broadcasts Monitor Pro][1]\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=lt.andro.broadcastlogger","title":"Showing all broadcast events on Android","body":"<p>Please check this open source project to see all broadcasts on your android phone:<a href=\"https://play.google.com/store/apps/details?id=lt.andro.broadcastlogger\" rel=\"noreferrer\">Broadcasts Monitor Pro</a></p>\n"},{"tags":[],"owner":{"account_id":1692305,"reputation":468,"user_id":1554422,"accept_rate":17,"display_name":"Haggai"},"down_vote_count":2,"up_vote_count":2,"is_accepted":false,"score":0,"last_activity_date":1373535068,"creation_date":1373535068,"answer_id":17589856,"question_id":4599972,"body_markdown":"The best tool I found was [Intent Intercept](https://play.google.com/store/apps/details?id=uk.co.ashtonbrsc.android.intentintercept&amp;feature=search_result#?t=W251bGwsMSwyLDEsInVrLmNvLmFzaHRvbmJyc2MuYW5kcm9pZC5pbnRlbnRpbnRlcmNlcHQiXQ..) that catches the intent on the fly and allow you to inspect the content\r\n","title":"Showing all broadcast events on Android","body":"<p>The best tool I found was <a href=\"https://play.google.com/store/apps/details?id=uk.co.ashtonbrsc.android.intentintercept&amp;feature=search_result#?t=W251bGwsMSwyLDEsInVrLmNvLmFzaHRvbmJyc2MuYW5kcm9pZC5pbnRlbnRpbnRlcmNlcHQiXQ..\" rel=\"nofollow\">Intent Intercept</a> that catches the intent on the fly and allow you to inspect the content</p>\n"},{"tags":[],"owner":{"account_id":341035,"reputation":2632,"user_id":671393,"accept_rate":100,"display_name":"Rupert Rawnsley"},"down_vote_count":0,"up_vote_count":42,"is_accepted":true,"score":42,"last_activity_date":1689755094,"creation_date":1454059782,"answer_id":35081000,"question_id":4599972,"body_markdown":"List all historical broadcasts and registered broadcast receivers with the following terminal command:\r\n\r\n```lang-shell\r\n$ adb shell dumpsys activity broadcasts\r\n```\r\n","title":"Showing all broadcast events on Android","body":"<p>List all historical broadcasts and registered broadcast receivers with the following terminal command:</p>\n<pre class=\"lang-shell prettyprint-override\"><code>$ adb shell dumpsys activity broadcasts\n</code></pre>\n"}],"owner":{"account_id":127731,"reputation":6255,"user_id":325102,"accept_rate":84,"display_name":"plaisthos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":31628,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":35081000,"answer_count":4,"score":24,"last_activity_date":1689755094,"creation_date":1294189377,"question_id":4599972,"body_markdown":"is it somehow possible to show all broadcast events/intents that are triggered in android? I just want to know if I can quickly figure out if an application is using intents/broadcasts I can hook into. For most of the stock android applications I can read the source but is time consuming. ","title":"Showing all broadcast events on Android","body":"<p>is it somehow possible to show all broadcast events/intents that are triggered in android? I just want to know if I can quickly figure out if an application is using intents/broadcasts I can hook into. For most of the stock android applications I can read the source but is time consuming. </p>\n"},{"tags":["java","object","variables","methods","constructor"],"comments":[{"owner":{"account_id":1718670,"reputation":4778,"user_id":1575188,"display_name":"fantaghirocco"},"score":0,"creation_date":1689754686,"post_id":76719226,"comment_id":135256446,"body_markdown":"https://www.baeldung.com/java-copy-constructor","body":"<a href=\"https://www.baeldung.com/java-copy-constructor\" rel=\"nofollow noreferrer\">baeldung.com/java-copy-constructor</a>"},{"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"score":0,"creation_date":1689754944,"post_id":76719226,"comment_id":135256499,"body_markdown":"Please don&#39;t post links, just paste the output in the question text.","body":"Please don&#39;t post links, just paste the output in the question text."}],"answers":[{"tags":[],"owner":{"account_id":3380632,"reputation":14294,"user_id":2837741,"accept_rate":100,"display_name":"daniu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689754875,"creation_date":1689754875,"answer_id":76719276,"question_id":76719226,"body_markdown":"You&#39;re initializing one of the members in either constructor then print out both - so the one you didn&#39;t initialize will be `null`.\r\n\r\nWhat you probably want is\r\n\r\n```\r\nclass Testing {\r\n String name;\r\n\r\n public Testing(String aname) {\r\n  name = aname;\r\n }\r\n public Testing(Testing source) {\r\n  name = source.name; // or this(source.name)\r\n }\r\n}\r\n```\r\n\r\nNote that this has nothing to do with the copy constructor as such.","title":"How to copy values from one object to another from constructors in java?","body":"<p>You're initializing one of the members in either constructor then print out both - so the one you didn't initialize will be <code>null</code>.</p>\n<p>What you probably want is</p>\n<pre><code>class Testing {\n String name;\n\n public Testing(String aname) {\n  name = aname;\n }\n public Testing(Testing source) {\n  name = source.name; // or this(source.name)\n }\n}\n</code></pre>\n<p>Note that this has nothing to do with the copy constructor as such.</p>\n"}],"owner":{"account_id":29047371,"reputation":1,"user_id":22250906,"display_name":"Ayush"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":3,"up_vote_count":0,"answer_count":1,"score":-3,"last_activity_date":1689754875,"creation_date":1689754470,"question_id":76719226,"body_markdown":"\r\n```\r\npublic class testing {\r\n     \r\n    String name;\r\n    String aname;\r\n\r\n    testing(String n){\r\n\r\n\r\n       this.name  = n;\r\n\r\n    }\r\n\r\n    testing(testing s){\r\n\r\n        this.aname = s.name;\r\n\r\n        \r\n    }\r\n\r\n    void display(){\r\n        System.out.println(name + &quot;  -first cons&quot;);\r\n        System.out.println(aname + &quot;  -second cons&quot;);\r\n    }\r\n    public static void main(String[] args) {\r\n    System.out.println(&quot; &quot;);\r\n\r\n\r\n    testing ab = new testing(&quot;test&quot;);\r\n    testing ab2 = new testing(ab);\r\n\r\n\r\n    ab2.display();\r\n    ab.display();\r\n\r\n    }\r\n}\r\n\r\n```\r\n\r\n\r\nThis is the program and i have linked a screenshot of the output with the question.\r\n\r\n\r\n[the output](https://i.stack.imgur.com/IxNNS.png)\r\n\r\n\r\n\r\n\r\n\r\nthe first constructor initializes the variable and i made a second constructor to create another object. I wanted to copy the value of the variable from the original variable but i dunno what is happening.\r\nwhen i tried printing the variables using a method ,  it prints one of the variable at a time while printing null in the other one.\r\n\r\nPlease help me to solve this problem or guide me through another way of going through this.\r\n\r\nI am fairly new to coding so please keep that in mind.\r\n\r\nThank you.","title":"How to copy values from one object to another from constructors in java?","body":"<pre><code>public class testing {\n     \n    String name;\n    String aname;\n\n    testing(String n){\n\n\n       this.name  = n;\n\n    }\n\n    testing(testing s){\n\n        this.aname = s.name;\n\n        \n    }\n\n    void display(){\n        System.out.println(name + &quot;  -first cons&quot;);\n        System.out.println(aname + &quot;  -second cons&quot;);\n    }\n    public static void main(String[] args) {\n    System.out.println(&quot; &quot;);\n\n\n    testing ab = new testing(&quot;test&quot;);\n    testing ab2 = new testing(ab);\n\n\n    ab2.display();\n    ab.display();\n\n    }\n}\n\n</code></pre>\n<p>This is the program and i have linked a screenshot of the output with the question.</p>\n<p><a href=\"https://i.stack.imgur.com/IxNNS.png\" rel=\"nofollow noreferrer\">the output</a></p>\n<p>the first constructor initializes the variable and i made a second constructor to create another object. I wanted to copy the value of the variable from the original variable but i dunno what is happening.\nwhen i tried printing the variables using a method ,  it prints one of the variable at a time while printing null in the other one.</p>\n<p>Please help me to solve this problem or guide me through another way of going through this.</p>\n<p>I am fairly new to coding so please keep that in mind.</p>\n<p>Thank you.</p>\n"},{"tags":["java","xml"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1688023517,"post_id":76578863,"comment_id":135018678,"body_markdown":"I&#39;m no Android expert  but I can imagine that you can&#39;t just put a UI element inside `application`. You probably want it inside the `activity`. Or maybe you can&#39;t put UI definitions in the `manifest` at all? There&#39;s probably other xml files for that.","body":"I&#39;m no Android expert  but I can imagine that you can&#39;t just put a UI element inside <code>application</code>. You probably want it inside the <code>activity</code>. Or maybe you can&#39;t put UI definitions in the <code>manifest</code> at all? There&#39;s probably other xml files for that."},{"owner":{"account_id":5871618,"reputation":2305,"user_id":4623782,"accept_rate":100,"display_name":"Raymond"},"score":0,"creation_date":1689752392,"post_id":76578863,"comment_id":135255991,"body_markdown":"Word of advice, remove the API key for your google maps . Or at least mask the actual key. Now anyone reaching this page can take and use your API key.","body":"Word of advice, remove the API key for your google maps . Or at least mask the actual key. Now anyone reaching this page can take and use your API key."}],"answers":[{"tags":[],"owner":{"account_id":5871618,"reputation":2305,"user_id":4623782,"accept_rate":100,"display_name":"Raymond"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1689752336,"creation_date":1688023778,"answer_id":76578893,"question_id":76578863,"body_markdown":"You can&#39;t define layout information in your Manifest. The Manifest is meant to describe the application, like which permissions the app uses and which activities reside in your app.\r\n\r\nWhat you&#39;re most likely want to do, is open you `activity_main.xml` and Add your layout to that.\r\n\r\nPlease refer to [layout guide][1] from the Android Developers documentation on how to get started.\r\n\r\nAlso for more information on what the Manifest is meant for, refer to the [Manifest Documentation][2].\r\n\r\nWhat you&#39;ll want to do to get started, is split the xml in the the appropriate files:\r\n\r\n`androidManifest.xml`\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Map&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;XXXXXXXXXXXXXXXXXXX&quot;&gt;&lt;/meta-data&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n`activity_main.xml`\r\n\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:id=&quot;@+id/container&quot;\r\n        android:orientation=&quot;vertical&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_lat&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/tv_lng&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n    &lt;/LinearLayout&gt;\r\n\r\n  [1]: https://developer.android.com/develop/ui/views/layout/declaring-layout\r\n  [2]: https://developer.android.com/guide/topics/manifest/manifest-intro","title":"Element LinearLayout Not Allowed Here","body":"<p>You can't define layout information in your Manifest. The Manifest is meant to describe the application, like which permissions the app uses and which activities reside in your app.</p>\n<p>What you're most likely want to do, is open you <code>activity_main.xml</code> and Add your layout to that.</p>\n<p>Please refer to <a href=\"https://developer.android.com/develop/ui/views/layout/declaring-layout\" rel=\"nofollow noreferrer\">layout guide</a> from the Android Developers documentation on how to get started.</p>\n<p>Also for more information on what the Manifest is meant for, refer to the <a href=\"https://developer.android.com/guide/topics/manifest/manifest-intro\" rel=\"nofollow noreferrer\">Manifest Documentation</a>.</p>\n<p>What you'll want to do to get started, is split the xml in the the appropriate files:</p>\n<p><code>androidManifest.xml</code></p>\n\n<p></p>\n<pre><code>&lt;application\n    android:allowBackup=&quot;true&quot;\n    android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n    android:fullBackupContent=&quot;@xml/backup_rules&quot;\n    android:icon=&quot;@mipmap/ic_launcher&quot;\n    android:label=&quot;@string/app_name&quot;\n    android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n    android:supportsRtl=&quot;true&quot;\n    android:theme=&quot;@style/Theme.Map&quot;\n    tools:targetApi=&quot;31&quot;&gt;\n    &lt;meta-data\n        android:name=&quot;com.google.android.geo.API_KEY&quot;\n        android:value=&quot;XXXXXXXXXXXXXXXXXXX&quot;&gt;&lt;/meta-data&gt;\n    &lt;activity\n        android:name=&quot;.MainActivity&quot;\n        android:exported=&quot;true&quot;&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n            &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n\n&lt;/application&gt;\n</code></pre>\n\n<p><code>activity_main.xml</code></p>\n<pre><code>&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:id=&quot;@+id/container&quot;\n    android:orientation=&quot;vertical&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_lat&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/tv_lng&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot; /&gt;\n\n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":28807061,"reputation":9,"user_id":22062684,"display_name":"Aaliyah McAfee"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1689754210,"creation_date":1688023447,"question_id":76578863,"body_markdown":"I&#39;m getting the error Element LinearLayout is not allowed here in my AndroidManifest.xml file.\r\nI&#39;ve tried restarting Android studio, but that hasn&#39;t had any effect. \r\n\r\nHere is my code:\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\r\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.Map&quot;\r\n        tools:targetApi=&quot;31&quot;&gt;\r\n        &lt;meta-data\r\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\r\n            android:value=&quot;XXXXXXXXXXXXXXXXXXXX&quot;&gt;&lt;/meta-data&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_lat&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/tv_lng&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot; /&gt;\r\n\r\n        &lt;/LinearLayout&gt;\r\n\r\n\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n```\r\n\r\nWhy am I getting this warning? ","title":"Element LinearLayout Not Allowed Here","body":"<p>I'm getting the error Element LinearLayout is not allowed here in my AndroidManifest.xml file.\nI've tried restarting Android studio, but that hasn't had any effect.</p>\n<p>Here is my code:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:dataExtractionRules=&quot;@xml/data_extraction_rules&quot;\n        android:fullBackupContent=&quot;@xml/backup_rules&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.Map&quot;\n        tools:targetApi=&quot;31&quot;&gt;\n        &lt;meta-data\n            android:name=&quot;com.google.android.geo.API_KEY&quot;\n            android:value=&quot;XXXXXXXXXXXXXXXXXXXX&quot;&gt;&lt;/meta-data&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_lat&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot; /&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/tv_lng&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot; /&gt;\n\n        &lt;/LinearLayout&gt;\n\n\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n</code></pre>\n<p>Why am I getting this warning?</p>\n"},{"tags":["java","bmp"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":1,"creation_date":1379932005,"post_id":18956941,"comment_id":27996423,"body_markdown":"What exactly does &quot;does not work&quot; mean? Are you getting any error messages? And it&#39;s unlikely that your &quot;code&quot; will actually work, since you have to escape the backslash.","body":"What exactly does &quot;does not work&quot; mean? Are you getting any error messages? And it&#39;s unlikely that your &quot;code&quot; will actually work, since you have to escape the backslash."},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":0,"creation_date":1379932373,"post_id":18956941,"comment_id":27996625,"body_markdown":"@chrylis The backslash was escaped, it just didn&#39;t display as such in the question (which happens when you don&#39;t format it as code).","body":"@chrylis The backslash was escaped, it just didn&#39;t display as such in the question (which happens when you don&#39;t format it as code)."},{"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"score":0,"creation_date":1379932496,"post_id":18956941,"comment_id":27996686,"body_markdown":"&quot;does not work&quot; means that a file was not created when I used the &quot;bmp&quot; format.","body":"&quot;does not work&quot; means that a file was not created when I used the &quot;bmp&quot; format."},{"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"score":0,"creation_date":1379932533,"post_id":18956941,"comment_id":27996707,"body_markdown":"- but when I use &quot;png&quot; format, a file is created","body":"- but when I use &quot;png&quot; format, a file is created"},{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1379932570,"post_id":18956941,"comment_id":27996728,"body_markdown":"@JakobMathiasen And it&#39;s failing silently? You&#39;re not getting any sort of error message?","body":"@JakobMathiasen And it&#39;s failing silently? You&#39;re not getting any sort of error message?"},{"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"score":0,"creation_date":1379932973,"post_id":18956941,"comment_id":27996955,"body_markdown":"@chrylis Yes, no exception thrown.","body":"@chrylis Yes, no exception thrown."},{"owner":{"account_id":54119,"reputation":5756,"user_id":161895,"display_name":"Kennet"},"score":0,"creation_date":1379933011,"post_id":18956941,"comment_id":27996979,"body_markdown":"Looks like http://stackoverflow.com/questions/3961687/bufferedimage-to-bmp-in-java","body":"Looks like <a href=\"http://stackoverflow.com/questions/3961687/bufferedimage-to-bmp-in-java\" title=\"bufferedimage to bmp in java\">stackoverflow.com/questions/3961687/&hellip;</a>"},{"owner":{"account_id":1894536,"reputation":54819,"user_id":1711796,"accept_rate":100,"display_name":"Bernhard Barker"},"score":1,"creation_date":1379942779,"post_id":18956941,"comment_id":28002181,"body_markdown":"`write` returns a `boolean`, you should check it.","body":"<code>write</code> returns a <code>boolean</code>, you should check it."},{"owner":{"account_id":1164345,"reputation":22755,"user_id":1143274,"accept_rate":56,"display_name":"Evgeni Sergeev"},"score":5,"creation_date":1469496657,"post_id":18956941,"comment_id":64548578,"body_markdown":"The short answer is: **`TYPE_INT_ARGB`** doesn&#39;t work, but **`TYPE_INT_RGB`** works.","body":"The short answer is: <b><code>TYPE_INT_ARGB</code></b> doesn&#39;t work, but <b><code>TYPE_INT_RGB</code></b> works."},{"owner":{"account_id":2464526,"reputation":1549,"user_id":2147927,"accept_rate":100,"display_name":"Line"},"score":0,"creation_date":1608231340,"post_id":18956941,"comment_id":115527280,"body_markdown":"@EvgeniSergeev that helped me a lot! could you explain why is that? I am following Oracle tutorial (https://docs.oracle.com/javase/tutorial/essential/concurrency/forkjoin.html) and I needed to change it to make it work","body":"@EvgeniSergeev that helped me a lot! could you explain why is that? I am following Oracle tutorial (<a href=\"https://docs.oracle.com/javase/tutorial/essential/concurrency/forkjoin.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/concurrency/&hellip;</a>) and I needed to change it to make it work"}],"answers":[{"tags":[],"owner":{"account_id":3333169,"reputation":329,"user_id":2801550,"display_name":"Heaven42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1379943458,"creation_date":1379933104,"answer_id":18957289,"question_id":18956941,"body_markdown":"didn&#39;t try but I think the format should be &quot;BMP&quot; and not &quot;bmp&quot; actually.\r\nPlease try with\r\n\r\n    ImageIO.write(bi, &quot;BMP&quot;, new File(&quot;D:\\\\MyImage.bmp&quot;));\r\n\r\nand see what happens.\r\n\r\nWe can&#39;t see how your bi is build.\r\n\r\n    BufferedImage bufferedImage = new BufferedImage(w,h,BufferedImage.TYPE_INT_RGB);\r\n\r\nIs the encodingType is set properly ?\r\n\r\nI think your bi is corrupted, that&#39;s work perfectly for me.\r\n\r\n    BufferedImage bi = new BufferedImage(50,50,BufferedImage.TYPE_INT_RGB);\r\n    Graphics gd = bi.getGraphics();\r\n    gd.drawRect(0, 0, 10, 10);\t\t\r\n    try {\r\n    \tImageIO.write(bi, &quot;BMP&quot;, new File(&quot;C:\\\\test.bmp&quot;));\r\n    \tImageIO.write(bi, &quot;PNG&quot;, new File(&quot;C:\\\\test.png&quot;));\r\n    } catch (IOException e) {\r\n    \tSystem.out.println(&quot;error &quot;+e.getMessage());\r\n    }","title":"ImageIO.write bmp does not work","body":"<p>didn't try but I think the format should be \"BMP\" and not \"bmp\" actually.\nPlease try with</p>\n\n<pre><code>ImageIO.write(bi, \"BMP\", new File(\"D:\\\\MyImage.bmp\"));\n</code></pre>\n\n<p>and see what happens.</p>\n\n<p>We can't see how your bi is build.</p>\n\n<pre><code>BufferedImage bufferedImage = new BufferedImage(w,h,BufferedImage.TYPE_INT_RGB);\n</code></pre>\n\n<p>Is the encodingType is set properly ?</p>\n\n<p>I think your bi is corrupted, that's work perfectly for me.</p>\n\n<pre><code>BufferedImage bi = new BufferedImage(50,50,BufferedImage.TYPE_INT_RGB);\nGraphics gd = bi.getGraphics();\ngd.drawRect(0, 0, 10, 10);      \ntry {\n    ImageIO.write(bi, \"BMP\", new File(\"C:\\\\test.bmp\"));\n    ImageIO.write(bi, \"PNG\", new File(\"C:\\\\test.png\"));\n} catch (IOException e) {\n    System.out.println(\"error \"+e.getMessage());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1775159,"reputation":859,"user_id":1619065,"display_name":"bincob"},"down_vote_count":0,"up_vote_count":26,"is_accepted":false,"score":26,"last_activity_date":1689753978,"creation_date":1393489329,"answer_id":22062805,"question_id":18956941,"body_markdown":"I just finished debugging a similar problem and I thought I will present my reasoning here, although Jakob has gone ahead with the PNG format.\r\n\r\nFirst, always check the return value of `ImageIO.write(...)`. It will return false if no appropriate writer can be found and that&#39;s what should have happened when Jakob tried writing it as a bitmap. This happens when the actual image format of the file does not match what is given in the &#39;format name&#39; argument. No exception is thrown in this case. Check out the docs at https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,%20java.lang.String,%20java.io.File)\r\n\r\n\r\nSecond, check the image type of the *BufferedImage* object by using the *BufferedImage#getType()* method. Check out the possible return values at https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getType(). For example, If you get the type as `TYPE_INT_ARGB` from your *BufferedImage* object (which represents a PNG with a alpha component) you wont have success using `ImageIO.write(bi, &quot;BMP&quot;, new File(&quot;D:\\\\test.bmp&quot;))` and the method would return *false*, even though you can see BMP/bmp in the list of entries obtained using `ImageIO.getWriterFormatNames()`. You might have to work on the encoding and transform your image to the desired format.\r\n\r\nThird, when facing such problems which can be a pain sometimes, it always helps to use an image editor such as [GIMP](https://www.gimp.org/) to check out your image properties in detail.\r\n\r\n@Green arrow, a minor note... you can use either &quot;bmp&quot; or &quot;BMP&quot; as the image format value. The same applies for other formats as well. It does not matter.\r\n\r\n\r\n","title":"ImageIO.write bmp does not work","body":"<p>I just finished debugging a similar problem and I thought I will present my reasoning here, although Jakob has gone ahead with the PNG format.</p>\n<p>First, always check the return value of <code>ImageIO.write(...)</code>. It will return false if no appropriate writer can be found and that's what should have happened when Jakob tried writing it as a bitmap. This happens when the actual image format of the file does not match what is given in the 'format name' argument. No exception is thrown in this case. Check out the docs at <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,%20java.lang.String,%20java.io.File)\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/javax/imageio/ImageIO.html#write(java.awt.image.RenderedImage,%20java.lang.String,%20java.io.File)</a></p>\n<p>Second, check the image type of the <em>BufferedImage</em> object by using the <em>BufferedImage#getType()</em> method. Check out the possible return values at <a href=\"https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getType()\" rel=\"nofollow noreferrer\">https://docs.oracle.com/javase/7/docs/api/java/awt/image/BufferedImage.html#getType()</a>. For example, If you get the type as <code>TYPE_INT_ARGB</code> from your <em>BufferedImage</em> object (which represents a PNG with a alpha component) you wont have success using <code>ImageIO.write(bi, &quot;BMP&quot;, new File(&quot;D:\\\\test.bmp&quot;))</code> and the method would return <em>false</em>, even though you can see BMP/bmp in the list of entries obtained using <code>ImageIO.getWriterFormatNames()</code>. You might have to work on the encoding and transform your image to the desired format.</p>\n<p>Third, when facing such problems which can be a pain sometimes, it always helps to use an image editor such as <a href=\"https://www.gimp.org/\" rel=\"nofollow noreferrer\">GIMP</a> to check out your image properties in detail.</p>\n<p>@Green arrow, a minor note... you can use either &quot;bmp&quot; or &quot;BMP&quot; as the image format value. The same applies for other formats as well. It does not matter.</p>\n"},{"tags":[],"owner":{"account_id":1079434,"reputation":780,"user_id":1076840,"accept_rate":95,"display_name":"Sefier Tang"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1471015428,"creation_date":1465283696,"answer_id":37672801,"question_id":18956941,"body_markdown":"As @bincob says, if write returns false, you can redraw the source image like this\r\n\r\n    BufferedImage newBufferedImage = new BufferedImage(bufferedImage.getWidth(), \r\n    bufferedImage.getHeight(), BufferedImage.TYPE_INT_RGB);\r\n\tnewBufferedImage.createGraphics().drawImage(bufferedImage, 0, 0, Color.WHITE, null);\r\n\r\nAnd then you can write again.","title":"ImageIO.write bmp does not work","body":"<p>As @bincob says, if write returns false, you can redraw the source image like this</p>\n\n<pre><code>BufferedImage newBufferedImage = new BufferedImage(bufferedImage.getWidth(), \nbufferedImage.getHeight(), BufferedImage.TYPE_INT_RGB);\nnewBufferedImage.createGraphics().drawImage(bufferedImage, 0, 0, Color.WHITE, null);\n</code></pre>\n\n<p>And then you can write again.</p>\n"},{"tags":[],"owner":{"account_id":4962253,"reputation":18492,"user_id":3992939,"accept_rate":73,"display_name":"c0der"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1610606584,"creation_date":1610606584,"answer_id":65714452,"question_id":18956941,"body_markdown":"Using `BufferedImage.TYPE_INT_RGB` encoding works for &quot;gif&quot;,&quot;png&quot;,&quot;tif&quot; as well as &quot;jpg&quot; and &quot;bmp&quot;:\r\n\r\n\tstatic void saveBufferedImageToFileTest(){\r\n\r\n\t\tString[] types = new String[] {&quot;gif&quot;,&quot;png&quot;,&quot;tif&quot;,&quot;jpg&quot;,&quot;bmp&quot;};\r\n\r\n\t\t//JPEG and BMP needs BufferedImage.TYPE_INT_RGB. See https://mkyong.com/java/convert-png-to-jpeg-image-file-in-java/\r\n\t\t//BufferedImage.TYPE_INT_RGB for all `types`\r\n\t\tint biType = BufferedImage.TYPE_INT_RGB;   // BufferedImage.TYPE_INT_ARGB does not work for &quot;bmp&quot; and &quot;jpeg&quot;\r\n\t\tBufferedImage bi = new BufferedImage(200 ,200, biType);\r\n\t\tGraphics g = bi.getGraphics();\r\n\t\tg.fillRect(50, 50, 100,  100);\r\n\t\tg.dispose();\r\n\r\n\t\ttry {\r\n\t\t\tfor(String type : types){\r\n\t\t\t\tboolean success = ImageIO.write(bi,type,new File(&quot;test_image.&quot;+type));\r\n\t\t\t\tSystem.out.println(type + (success ?  &quot; file created&quot; : &quot; file NOT created&quot;) );\r\n\t\t\t}\r\n\t\t} catch (IOException ex) {\r\n\t\t\tex.printStackTrace();\r\n\t\t}\r\n\t}","title":"ImageIO.write bmp does not work","body":"<p>Using <code>BufferedImage.TYPE_INT_RGB</code> encoding works for &quot;gif&quot;,&quot;png&quot;,&quot;tif&quot; as well as &quot;jpg&quot; and &quot;bmp&quot;:</p>\n<pre><code>static void saveBufferedImageToFileTest(){\n\n    String[] types = new String[] {&quot;gif&quot;,&quot;png&quot;,&quot;tif&quot;,&quot;jpg&quot;,&quot;bmp&quot;};\n\n    //JPEG and BMP needs BufferedImage.TYPE_INT_RGB. See https://mkyong.com/java/convert-png-to-jpeg-image-file-in-java/\n    //BufferedImage.TYPE_INT_RGB for all `types`\n    int biType = BufferedImage.TYPE_INT_RGB;   // BufferedImage.TYPE_INT_ARGB does not work for &quot;bmp&quot; and &quot;jpeg&quot;\n    BufferedImage bi = new BufferedImage(200 ,200, biType);\n    Graphics g = bi.getGraphics();\n    g.fillRect(50, 50, 100,  100);\n    g.dispose();\n\n    try {\n        for(String type : types){\n            boolean success = ImageIO.write(bi,type,new File(&quot;test_image.&quot;+type));\n            System.out.println(type + (success ?  &quot; file created&quot; : &quot; file NOT created&quot;) );\n        }\n    } catch (IOException ex) {\n        ex.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":74797,"reputation":1629,"user_id":214756,"display_name":"Mike B"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1641909985,"creation_date":1641908365,"answer_id":70667796,"question_id":18956941,"body_markdown":"An oldie, but BMPs are still useful occasionally and the answers above all skirt the best solution: do it yourself. That way it works for any type of bitmap.\r\n```java\r\nstatic void writeBMP(BufferedImage image, File f) throws IOException {\r\n    OutputStream out = new BufferedOutputStream(new FileOutputStream(f));\r\n    int width = image.getWidth();\r\n    int height = image.getHeight();\r\n    int row = (width * 3 + 3) / 4 * 4;\r\n    out.write(&#39;B&#39;);\r\n    out.write(&#39;M&#39;);\r\n    writeInt(out, 14 + 40 + row * height);  // file size\r\n    writeInt(out, 0); \r\n    writeInt(out, 14 + 40);        // bitmap offset\r\n    writeInt(out, 40);             // size\r\n    writeInt(out, width);          // width\r\n    writeInt(out, height);         // weight\r\n    writeInt(out, (24&lt;&lt;16) | 1);   // planes, bpp\r\n    writeInt(out, 0);              // compression\r\n    writeInt(out, row * height);   // bitmap size\r\n    writeInt(out, 0);              // resx\r\n    writeInt(out, 0);              // resy\r\n    writeInt(out, 0);              // used colors\r\n    writeInt(out, 0);              // important colors\r\n    for (int y=height-1;y&gt;=0;y--) {\r\n        for (int x=0;x&lt;width;x++) {\r\n            int rgba = image.getRGB(x, y); \r\n            out.write(rgba &amp; 0xFF); // b\r\n            out.write(rgba &gt;&gt; 8);   // g\r\n            out.write(rgba &gt;&gt; 16);  // r\r\n        }   \r\n        for (int x=width*3;x%4!=0;x++) { // pad to 4 bytes\r\n            out.write(0);\r\n        }   \r\n    }   \r\n    out.close();\r\n}   \r\nprivate static void writeInt(OutputStream out, int v) throws IOException {\r\n    out.write(v);\r\n    out.write(v &gt;&gt; 8);\r\n    out.write(v &gt;&gt; 16);\r\n    out.write(v &gt;&gt; 24);\r\n}   \r\n```","title":"ImageIO.write bmp does not work","body":"<p>An oldie, but BMPs are still useful occasionally and the answers above all skirt the best solution: do it yourself. That way it works for any type of bitmap.</p>\n<pre class=\"lang-java prettyprint-override\"><code>static void writeBMP(BufferedImage image, File f) throws IOException {\n    OutputStream out = new BufferedOutputStream(new FileOutputStream(f));\n    int width = image.getWidth();\n    int height = image.getHeight();\n    int row = (width * 3 + 3) / 4 * 4;\n    out.write('B');\n    out.write('M');\n    writeInt(out, 14 + 40 + row * height);  // file size\n    writeInt(out, 0); \n    writeInt(out, 14 + 40);        // bitmap offset\n    writeInt(out, 40);             // size\n    writeInt(out, width);          // width\n    writeInt(out, height);         // weight\n    writeInt(out, (24&lt;&lt;16) | 1);   // planes, bpp\n    writeInt(out, 0);              // compression\n    writeInt(out, row * height);   // bitmap size\n    writeInt(out, 0);              // resx\n    writeInt(out, 0);              // resy\n    writeInt(out, 0);              // used colors\n    writeInt(out, 0);              // important colors\n    for (int y=height-1;y&gt;=0;y--) {\n        for (int x=0;x&lt;width;x++) {\n            int rgba = image.getRGB(x, y); \n            out.write(rgba &amp; 0xFF); // b\n            out.write(rgba &gt;&gt; 8);   // g\n            out.write(rgba &gt;&gt; 16);  // r\n        }   \n        for (int x=width*3;x%4!=0;x++) { // pad to 4 bytes\n            out.write(0);\n        }   \n    }   \n    out.close();\n}   \nprivate static void writeInt(OutputStream out, int v) throws IOException {\n    out.write(v);\n    out.write(v &gt;&gt; 8);\n    out.write(v &gt;&gt; 16);\n    out.write(v &gt;&gt; 24);\n}   \n</code></pre>\n"}],"owner":{"account_id":3324845,"reputation":1259,"user_id":2795144,"accept_rate":69,"display_name":"Jakob Mathiasen"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15962,"favorite_count":0,"down_vote_count":0,"up_vote_count":16,"answer_count":5,"score":16,"last_activity_date":1689753978,"creation_date":1379931933,"question_id":18956941,"body_markdown":"I&#39;m trying to save an image in bmp format, but it doesn&#39;t create any file.\r\nIf I use &quot;png&quot; instead, everything works fine.\r\nAny ideas?\r\n\r\n    //This works fine:\r\n    ImageIO.write(bi, &quot;png&quot;, new File(&quot;D:\\\\MyImage.png&quot;));\r\n    \r\n    //This does not work:\r\n    ImageIO.write(bi, &quot;bmp&quot;, new File(&quot;D:\\\\MyImage.bmp&quot;));\r\n    \r\n`ImageIO.getWriterFormatNames()` gives me &quot;jpg&quot;, &quot;bmp&quot;, &quot;jpeg&quot; and some others..\r\n\r\nThanks in advance.\r\n\r\nJakob\r\n","title":"ImageIO.write bmp does not work","body":"<p>I'm trying to save an image in bmp format, but it doesn't create any file.\nIf I use \"png\" instead, everything works fine.\nAny ideas?</p>\n\n<pre><code>//This works fine:\nImageIO.write(bi, \"png\", new File(\"D:\\\\MyImage.png\"));\n\n//This does not work:\nImageIO.write(bi, \"bmp\", new File(\"D:\\\\MyImage.bmp\"));\n</code></pre>\n\n<p><code>ImageIO.getWriterFormatNames()</code> gives me \"jpg\", \"bmp\", \"jpeg\" and some others..</p>\n\n<p>Thanks in advance.</p>\n\n<p>Jakob</p>\n"},{"tags":["java","spring-boot","properties"],"owner":{"account_id":191280,"reputation":15745,"user_id":431769,"accept_rate":78,"display_name":"hudi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689753977,"creation_date":1689753585,"question_id":76719107,"body_markdown":"I have property:\r\n\r\n    @Value(&quot;${kafka.bootstrapServers}&quot;)\r\n    public String kafkaBootstrapServer;\r\n\r\nthen I have this properties in `default-kafka.properties` and in config map in kube\r\n\r\nin spring boot 2 I have bootstrap yamp:\r\n\r\n      cloud:\r\n        kubernetes:\r\n          config:\r\n            sources:\r\n              - name: &quot;my-app&quot;\r\n              - name: &quot;my-app-kafka&quot;  \r\n\r\nand this property is correctly loaded from config map:\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T09:32:13.804+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;environmentProperties&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.core.env.PropertySourcesPropertyResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-588c8889c-8vs4m&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T09:32:13.804+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;bootstrapProperties-configmap.my-app-kafka&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-588c8889c-8vs4m&quot;}\r\n\r\nnow I try to port this app to spring boot 3. So there is no more bootstrap and I add this to kubernetes.yaml\r\n\r\n      config:\r\n        activate:\r\n          on-profile: kubernetes\r\n        import: &#39;kubernetes:&#39;\r\n      cloud:\r\n        kubernetes:\r\n          config:\r\n            sources:\r\n              - name: &quot;my-app&quot;\r\n              - name: &quot;my-app-kafka&quot;\r\n          reload:\r\n            enabled: true\r\n\r\nbut there is different order and this property is loaded from default properties and not configmap:\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818239134+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;environmentProperties&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.core.env.PropertySourcesPropertyResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818258156+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;configurationProperties&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818269302+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;servletConfigInitParams&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.81827849+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;servletContextInitParams&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818289512+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;systemProperties&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818299641+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;systemEnvironment&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818311789+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;random&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818322033+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;cachedrandom&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818331324+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;KUBERNETES_NAMESPACE_PROPERTY_SOURCE&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818340997+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;springCloudClientHostInfo&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818350349+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrapServers&#39; in PropertySource &#39;Config resource &#39;class path resource [application-default-kafka.properties]&#39; via location &#39;optional:classpath:/&#39;&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\r\n\r\nany advice how to keep same order of loading properties in spring boot 3 ?\r\n\r\n**UPDATE**\r\n\r\nsearching in configmap is after classpath properties\r\n\r\n    {&quot;@timestamp&quot;:&quot;2023-07-19T10:02:46.709702689+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key &#39;kafka.bootstrap&#39; in PropertySource &#39;composite-configmap&#39;&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-74f89d456b-jtksn&quot;}\r\n\r\n","title":"Loading properties from config map in spring boot 3","body":"<p>I have property:</p>\n<pre><code>@Value(&quot;${kafka.bootstrapServers}&quot;)\npublic String kafkaBootstrapServer;\n</code></pre>\n<p>then I have this properties in <code>default-kafka.properties</code> and in config map in kube</p>\n<p>in spring boot 2 I have bootstrap yamp:</p>\n<pre><code>  cloud:\n    kubernetes:\n      config:\n        sources:\n          - name: &quot;my-app&quot;\n          - name: &quot;my-app-kafka&quot;  \n</code></pre>\n<p>and this property is correctly loaded from config map:</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-07-19T09:32:13.804+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'environmentProperties'&quot;,&quot;logger_name&quot;:&quot;org.springframework.core.env.PropertySourcesPropertyResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-588c8889c-8vs4m&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T09:32:13.804+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'bootstrapProperties-configmap.my-app-kafka'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-588c8889c-8vs4m&quot;}\n</code></pre>\n<p>now I try to port this app to spring boot 3. So there is no more bootstrap and I add this to kubernetes.yaml</p>\n<pre><code>  config:\n    activate:\n      on-profile: kubernetes\n    import: 'kubernetes:'\n  cloud:\n    kubernetes:\n      config:\n        sources:\n          - name: &quot;my-app&quot;\n          - name: &quot;my-app-kafka&quot;\n      reload:\n        enabled: true\n</code></pre>\n<p>but there is different order and this property is loaded from default properties and not configmap:</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818239134+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'environmentProperties'&quot;,&quot;logger_name&quot;:&quot;org.springframework.core.env.PropertySourcesPropertyResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818258156+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'configurationProperties'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818269302+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'servletConfigInitParams'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.81827849+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'servletContextInitParams'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818289512+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'systemProperties'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818299641+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'systemEnvironment'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818311789+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'random'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818322033+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'cachedrandom'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818331324+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'KUBERNETES_NAMESPACE_PROPERTY_SOURCE'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818340997+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'springCloudClientHostInfo'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n{&quot;@timestamp&quot;:&quot;2023-07-19T08:57:30.818350349+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrapServers' in PropertySource 'Config resource 'class path resource [application-default-kafka.properties]' via location 'optional:classpath:/''&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-7577888684-6fpdz&quot;}\n</code></pre>\n<p>any advice how to keep same order of loading properties in spring boot 3 ?</p>\n<p><strong>UPDATE</strong></p>\n<p>searching in configmap is after classpath properties</p>\n<pre><code>{&quot;@timestamp&quot;:&quot;2023-07-19T10:02:46.709702689+02:00&quot;,&quot;@version&quot;:&quot;1&quot;,&quot;message&quot;:&quot;Searching for key 'kafka.bootstrap' in PropertySource 'composite-configmap'&quot;,&quot;logger_name&quot;:&quot;org.springframework.boot.context.properties.source.ConfigurationPropertySourcesPropertyResolver$DefaultResolver&quot;,&quot;thread_name&quot;:&quot;main&quot;,&quot;level&quot;:&quot;TRACE&quot;,&quot;level_value&quot;:5000,&quot;SERVERNAME&quot;:&quot;my-app-74f89d456b-jtksn&quot;}\n</code></pre>\n"},{"tags":["java","mongodb","mongodb-java","mongodb-java-3.3.0"],"answers":[{"tags":[],"owner":{"account_id":3175948,"reputation":74316,"user_id":2683814,"accept_rate":100,"display_name":"s7vr"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1689753841,"creation_date":1477418105,"answer_id":40246563,"question_id":40246302,"body_markdown":"**Improved answer from @jyemin**\r\n```\r\nList&lt;String&gt; list = mongoClient.getDatabase(dbName)\r\n                .getCollection(collectionName, TDocType.class)\r\n                .distinct(NAME_KEY, String.class)\r\n                .into(new ArrayList&lt;&gt;()); \r\n```\r\n\r\n\r\n**Original answer**\r\n\r\nYou can try something like this.\r\n\r\n    DistinctIterable&lt;String&gt; iterable = mongoClient.getDatabase(dbName).\r\n                .getCollection(collectionName, TDocType.class).distinct(NAME_KEY, String.class);\r\n    MongoCursor&lt;String&gt; cursor = iterable.iterator();\r\n    List&lt;String&gt; list = new ArrayList&lt;&gt;();\r\n    while (cursor.hasNext()) {\r\n        list.add(cursor.next());\r\n     }","title":"Finding distinct from collections in mongodb","body":"<p><strong>Improved answer from @jyemin</strong></p>\n<pre><code>List&lt;String&gt; list = mongoClient.getDatabase(dbName)\n                .getCollection(collectionName, TDocType.class)\n                .distinct(NAME_KEY, String.class)\n                .into(new ArrayList&lt;&gt;()); \n</code></pre>\n<p><strong>Original answer</strong></p>\n<p>You can try something like this.</p>\n<pre><code>DistinctIterable&lt;String&gt; iterable = mongoClient.getDatabase(dbName).\n            .getCollection(collectionName, TDocType.class).distinct(NAME_KEY, String.class);\nMongoCursor&lt;String&gt; cursor = iterable.iterator();\nList&lt;String&gt; list = new ArrayList&lt;&gt;();\nwhile (cursor.hasNext()) {\n    list.add(cursor.next());\n }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2047499,"reputation":1845,"user_id":1827276,"accept_rate":56,"display_name":"boly38"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1685031311,"creation_date":1685031311,"answer_id":76334366,"question_id":40246302,"body_markdown":"for those who already have `org.codehaus.groovy:groovy` in their deps  :\r\n\r\n    // import static org.codehaus.groovy.runtime.DefaultGroovyMethods.toSet;.\r\n    toSet(distinctIterable);\r\n    \r\n\r\nExample\r\n\r\n    DistinctIterable&lt;String&gt; distinctIterable = getCollection()\r\n                .distinct(FIELD_ID, query.getQueryObject(), String.class);\r\n    return toSet(distinctIterable);\r\n","title":"Finding distinct from collections in mongodb","body":"<p>for those who already have <code>org.codehaus.groovy:groovy</code> in their deps  :</p>\n<pre><code>// import static org.codehaus.groovy.runtime.DefaultGroovyMethods.toSet;.\ntoSet(distinctIterable);\n</code></pre>\n<p>Example</p>\n<pre><code>DistinctIterable&lt;String&gt; distinctIterable = getCollection()\n            .distinct(FIELD_ID, query.getQueryObject(), String.class);\nreturn toSet(distinctIterable);\n</code></pre>\n"}],"owner":{"account_id":1939636,"reputation":28457,"user_id":1746118,"accept_rate":95,"display_name":"Naman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3699,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":40246563,"answer_count":2,"score":6,"last_activity_date":1689753841,"creation_date":1477417151,"question_id":40246302,"body_markdown":"Our previous implementation for finding distinct elements from a collection used to be :\r\n\r\n    List&lt;String&gt; names = mongoClient.getDB(dbName).getCollection(collectionName).distinct(NAME_KEY);\r\n\r\nTrying to upgrade this into the current implementation with mongo 3.3.0+ as tried is : \r\n      \r\n    List&lt;String&gt; names = mongoClient.getDatabase(dbName)\r\n                            .getCollection(collectionName, TDocType.class)\r\n                            .distinct(NAME_KEY, String.class); // compile error - required Class&lt;TResult&gt; \r\n\r\nHave also given a try to   \r\n    \r\n    .distinct(NAME_KEY, TDocType.class)  // doesn&#39;t work                      \r\n\r\nWhat shall be the target type of the iterable in this case?\r\n\r\n***Edit*** - The question is not a duplicate of https://stackoverflow.com/questions/20655506/get-distinct-records-values since the implementation has changed over the upgrade of `mongodb-java-driver`.\r\n                 ","title":"Finding distinct from collections in mongodb","body":"<p>Our previous implementation for finding distinct elements from a collection used to be :</p>\n\n<pre><code>List&lt;String&gt; names = mongoClient.getDB(dbName).getCollection(collectionName).distinct(NAME_KEY);\n</code></pre>\n\n<p>Trying to upgrade this into the current implementation with mongo 3.3.0+ as tried is : </p>\n\n<pre><code>List&lt;String&gt; names = mongoClient.getDatabase(dbName)\n                        .getCollection(collectionName, TDocType.class)\n                        .distinct(NAME_KEY, String.class); // compile error - required Class&lt;TResult&gt; \n</code></pre>\n\n<p>Have also given a try to   </p>\n\n<pre><code>.distinct(NAME_KEY, TDocType.class)  // doesn't work                      \n</code></pre>\n\n<p>What shall be the target type of the iterable in this case?</p>\n\n<p><strong><em>Edit</em></strong> - The question is not a duplicate of <a href=\"https://stackoverflow.com/questions/20655506/get-distinct-records-values\">Get distinct records values</a> since the implementation has changed over the upgrade of <code>mongodb-java-driver</code>.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":1,"creation_date":1677060203,"post_id":75531033,"comment_id":133261142,"body_markdown":"It seems the &quot;newman&quot; command isn&#39;t found, are you running Java from the same command line that you&#39;re using for manual runs of &quot;newman&quot;? Did you try supplying the full path or calling a batch file that executes &quot;newman&quot;?","body":"It seems the &quot;newman&quot; command isn&#39;t found, are you running Java from the same command line that you&#39;re using for manual runs of &quot;newman&quot;? Did you try supplying the full path or calling a batch file that executes &quot;newman&quot;?"},{"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"score":0,"creation_date":1677060359,"post_id":75531033,"comment_id":133261185,"body_markdown":"the error message contains a single quote before `newman`, where does that come from?","body":"the error message contains a single quote before <code>newman</code>, where does that come from?"},{"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"score":0,"creation_date":1677060567,"post_id":75531033,"comment_id":133261239,"body_markdown":"@f1sh the single quote was a typo. The actual error has no quote","body":"@f1sh the single quote was a typo. The actual error has no quote"},{"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"score":0,"creation_date":1677060651,"post_id":75531033,"comment_id":133261261,"body_markdown":"I am using the same command line that I run for my manual newman tests. I have not tried to specify full path. I will try now @Thomas","body":"I am using the same command line that I run for my manual newman tests. I have not tried to specify full path. I will try now @Thomas"},{"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"score":0,"creation_date":1677075597,"post_id":75531033,"comment_id":133265793,"body_markdown":"@Thomas using full path did not work","body":"@Thomas using full path did not work"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1677082660,"post_id":75531033,"comment_id":133268327,"body_markdown":"Can you post the command you&#39;re successfully executing manually?","body":"Can you post the command you&#39;re successfully executing manually?"},{"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"score":0,"creation_date":1677144077,"post_id":75531033,"comment_id":133280850,"body_markdown":"@Thomas &quot;newman run &#39;C:/Dev/config/service-tests/postmanCollections/test.json&#39; -r  json,html&quot;","body":"@Thomas &quot;newman run &#39;C:/Dev/config/service-tests/postmanCollections/test.json&#39; -r  json,html&quot;"}],"answers":[{"tags":[],"owner":{"account_id":1755195,"reputation":1,"user_id":1603418,"display_name":"user1603418"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689753715,"creation_date":1689753715,"answer_id":76719131,"question_id":75531033,"body_markdown":"We need to add cmd.exe for newman if you are running from windows machine i.e.\r\n \r\n\r\n    Runtime.getRuntime().exec(&quot;cmd.exe /c newman run &#39;C:\\\\Dev\\\\config\\\\service-tests\\\\postmanCollections\\\\test.json&#39; -r  json,html&quot;);","title":"How can I run a newman command from java","body":"<p>We need to add cmd.exe for newman if you are running from windows machine i.e.</p>\n<pre><code>Runtime.getRuntime().exec(&quot;cmd.exe /c newman run 'C:\\\\Dev\\\\config\\\\service-tests\\\\postmanCollections\\\\test.json' -r  json,html&quot;);\n</code></pre>\n"}],"owner":{"account_id":17499398,"reputation":71,"user_id":12690016,"display_name":"Joshcampbell7"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":262,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1689753715,"creation_date":1677059924,"question_id":75531033,"body_markdown":"The code I am using to try run my newman command from Java is :\r\n```\r\nProcess processObject = Runtime.getRuntime().exec(&quot;newman run &#39;C:/Dev/config/service-tests/postmanCollections/test.json&#39; -r  json,html&quot;);\r\n```\r\n\r\nWhen this is executed I get the following error:\r\n\r\n```\r\nCannot run program &quot;newman&quot;: CreateProcess error=2, The system cannot find the file specified\r\n```\r\nis there an alternative way to run this?","title":"How can I run a newman command from java","body":"<p>The code I am using to try run my newman command from Java is :</p>\n<pre><code>Process processObject = Runtime.getRuntime().exec(&quot;newman run 'C:/Dev/config/service-tests/postmanCollections/test.json' -r  json,html&quot;);\n</code></pre>\n<p>When this is executed I get the following error:</p>\n<pre><code>Cannot run program &quot;newman&quot;: CreateProcess error=2, The system cannot find the file specified\n</code></pre>\n<p>is there an alternative way to run this?</p>\n"},{"tags":["java","mediarecorder"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1689789570,"post_id":76718999,"comment_id":135264719,"body_markdown":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer.","body":"Please edit the question to limit it to a specific problem with enough detail to identify an adequate answer."}],"owner":{"account_id":29047288,"reputation":1,"user_id":22250834,"display_name":"Roland"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":16,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689752704,"creation_date":1689752704,"question_id":76718999,"body_markdown":"I am really struggling trying to record the cameraview. I want to record the view when start recording is clicked.\r\n\r\n    &lt;com.otaliastudios.cameraview.CameraView\r\n        android:id=&quot;@+id/camera&quot;\r\n        android:keepScreenOn=&quot;true&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;300dp&quot;\r\n        app:cameraFacing=&quot;front&quot;/&gt;\r\n\r\nI only get a metafile and stopping the recording fails.\r\n\r\npublic void startRecording() throws IOException {\r\n \r\n\t\t// Creating file\r\n\t\tFile dir = MainActivity.this.getExternalFilesDir(&quot;test/&quot; + currentFolderName);\r\n\t\ttry {\r\n\t\t\tvideofile = File.createTempFile(&quot;video&quot;, &quot;.mp4&quot;, dir);\r\n\t\t} catch (IOException e) {\r\n\t\t\tLog.e(TAG, &quot;External storage access error&quot;);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tLog.i(&quot;CAMERA&quot;,&quot;Recording&quot;);\r\n\t\t// Creating MediaRecorder and specifying video source, output format, encoder, and output file\r\n \r\n\t\trecorder = new MediaRecorder();\r\n\t\trecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\r\n\t\trecorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\r\n\t\trecorder.setVideoSize(640, 480);\r\n\t\trecorder.setVideoEncoder(MediaRecorder.VideoEncoder.DEFAULT);\r\n\t\trecorder.setOutputFile(videofile.getAbsolutePath());\r\n \r\n \r\n\t\trecorder.prepare();\r\n\t\tSurface surface = recorder.getSurface();\r\n\t\trecorder.start();\r\n\t}\r\npublic void stopRecording() {\r\n \r\n\t\tnew Handler().postDelayed(new Runnable() {\r\n\t\t\t@Override\r\n\t\t\tpublic void run() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\trecorder.stop();\r\n\t\t\t\t} catch (IllegalStateException e) {\r\n\t\t\t\t\tLog.e(TAG, &quot;Error stopping MediaRecorder: &quot; + e.getMessage());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}, 500); // Add a 500ms delay before stopping the recording\r\n\t\trecorder.reset();\r\n\t\trecorder.release();\r\n\t\t// After stopping the recorder, create the video file and add it to the media library\r\n\t\taddRecordingToMediaLibrary();\r\n\t}\r\n\tprotected void addRecordingToMediaLibrary() {\r\n\t\t// Creating content values\r\n\t\tContentValues values = new ContentValues();\r\n\t\tlong current = System.currentTimeMillis();\r\n\t\tvalues.put(MediaStore.Video.Media.TITLE, &quot;video&quot; + videofile.getName());\r\n\t\tvalues.put(MediaStore.Video.Media.DATE_ADDED, (int) (current / 1000));\r\n\t\tvalues.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\r\n\t\tvalues.put(MediaStore.Video.Media.DATA, videofile.getAbsolutePath());\r\n \r\n\t\t// Creating content resolver and storing it in the external content uri\r\n\t\tContentResolver contentResolver = getContentResolver();\r\n\t\tUri base = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\r\n\t\tUri newUri = contentResolver.insert(base, values);\r\n \r\n\t\t// Sending broadcast message to scan the media file so that it can be available\r\n\t\tsendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, newUri));\r\n\t\tToast.makeText(this, &quot;Added File &quot; + newUri, Toast.LENGTH_LONG).show();\r\n\t}\r\n\r\nI get Error stopping MediaRecorder. I think I&#39;m not starting recording on the correct source but I&#39;ve ran out of ideas.","title":"Can I record cameraview with mediarecorder?","body":"<p>I am really struggling trying to record the cameraview. I want to record the view when start recording is clicked.</p>\n<pre><code>&lt;com.otaliastudios.cameraview.CameraView\n    android:id=&quot;@+id/camera&quot;\n    android:keepScreenOn=&quot;true&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;300dp&quot;\n    app:cameraFacing=&quot;front&quot;/&gt;\n</code></pre>\n<p>I only get a metafile and stopping the recording fails.</p>\n<p>public void startRecording() throws IOException {</p>\n<pre><code>    // Creating file\n    File dir = MainActivity.this.getExternalFilesDir(&quot;test/&quot; + currentFolderName);\n    try {\n        videofile = File.createTempFile(&quot;video&quot;, &quot;.mp4&quot;, dir);\n    } catch (IOException e) {\n        Log.e(TAG, &quot;External storage access error&quot;);\n        return;\n    }\n    Log.i(&quot;CAMERA&quot;,&quot;Recording&quot;);\n    // Creating MediaRecorder and specifying video source, output format, encoder, and output file\n\n    recorder = new MediaRecorder();\n    recorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\n    recorder.setOutputFormat(MediaRecorder.OutputFormat.MPEG_4);\n    recorder.setVideoSize(640, 480);\n    recorder.setVideoEncoder(MediaRecorder.VideoEncoder.DEFAULT);\n    recorder.setOutputFile(videofile.getAbsolutePath());\n\n\n    recorder.prepare();\n    Surface surface = recorder.getSurface();\n    recorder.start();\n}\n</code></pre>\n<p>public void stopRecording() {</p>\n<pre><code>    new Handler().postDelayed(new Runnable() {\n        @Override\n        public void run() {\n            try {\n                recorder.stop();\n            } catch (IllegalStateException e) {\n                Log.e(TAG, &quot;Error stopping MediaRecorder: &quot; + e.getMessage());\n            }\n        }\n    }, 500); // Add a 500ms delay before stopping the recording\n    recorder.reset();\n    recorder.release();\n    // After stopping the recorder, create the video file and add it to the media library\n    addRecordingToMediaLibrary();\n}\nprotected void addRecordingToMediaLibrary() {\n    // Creating content values\n    ContentValues values = new ContentValues();\n    long current = System.currentTimeMillis();\n    values.put(MediaStore.Video.Media.TITLE, &quot;video&quot; + videofile.getName());\n    values.put(MediaStore.Video.Media.DATE_ADDED, (int) (current / 1000));\n    values.put(MediaStore.Video.Media.MIME_TYPE, &quot;video/mp4&quot;);\n    values.put(MediaStore.Video.Media.DATA, videofile.getAbsolutePath());\n\n    // Creating content resolver and storing it in the external content uri\n    ContentResolver contentResolver = getContentResolver();\n    Uri base = MediaStore.Video.Media.EXTERNAL_CONTENT_URI;\n    Uri newUri = contentResolver.insert(base, values);\n\n    // Sending broadcast message to scan the media file so that it can be available\n    sendBroadcast(new Intent(Intent.ACTION_MEDIA_SCANNER_SCAN_FILE, newUri));\n    Toast.makeText(this, &quot;Added File &quot; + newUri, Toast.LENGTH_LONG).show();\n}\n</code></pre>\n<p>I get Error stopping MediaRecorder. I think I'm not starting recording on the correct source but I've ran out of ideas.</p>\n"},{"tags":["java","json","jakarta-ee"],"comments":[{"owner":{"account_id":303087,"reputation":8621,"user_id":611819,"accept_rate":100,"display_name":"dnault"},"score":1,"creation_date":1471639156,"post_id":39047214,"comment_id":65444505,"body_markdown":"Your input probably contains an invisible character on line 2, column 15. What happens if you try reading another input file that you&#39;ve typed in by hand?","body":"Your input probably contains an invisible character on line 2, column 15. What happens if you try reading another input file that you&#39;ve typed in by hand?"},{"owner":{"account_id":5609307,"reputation":1839,"user_id":4442714,"display_name":"Matthias Wiehl"},"score":2,"creation_date":1471643635,"post_id":39047214,"comment_id":65446184,"body_markdown":"Character code 160 is a non-breaking space which according to [RFC 4627](http://www.ietf.org/rfc/rfc4627.txt) is not valid JSON whitespace.","body":"Character code 160 is a non-breaking space which according to <a href=\"http://www.ietf.org/rfc/rfc4627.txt\" rel=\"nofollow noreferrer\">RFC 4627</a> is not valid JSON whitespace."},{"owner":{"account_id":2705179,"reputation":321,"user_id":2334926,"accept_rate":0,"display_name":"user2334926"},"score":0,"creation_date":1471886483,"post_id":39047214,"comment_id":65518426,"body_markdown":"Thanks !! It worked after typing the content. I believe some space was there while copy pasting","body":"Thanks !! It worked after typing the content. I believe some space was there while copy pasting"},{"owner":{"account_id":40774,"reputation":28739,"user_id":118228,"accept_rate":85,"display_name":"djangofan"},"score":0,"creation_date":1682446793,"post_id":39047214,"comment_id":134216264,"body_markdown":"This can happen if you send a HTTP request as application/txt instead of application/json","body":"This can happen if you send a HTTP request as application/txt instead of application/json"}],"answers":[{"tags":[],"owner":{"account_id":2826656,"reputation":13236,"user_id":2429176,"accept_rate":80,"display_name":"dustin.schultz"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1555711069,"creation_date":1555710631,"answer_id":55768217,"question_id":39047214,"body_markdown":"Your JSON content contains non-breaking spaces (character code 160, commonly known as `&amp;nbsp;`) likely from copying and pasting JSON (usually from a webpage) that used `&amp;nbsp;` to indent the JSON.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nYou can fix it with\r\n\r\n```\r\nresponseJson = responseJson.replace(&#39;\\u00A0&#39;,&#39; &#39;);\r\n```\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/sp4KJ.png","title":"com.fasterxml.jackson.core.JsonParseException: Unexpected character(code 160) while reading the json file","body":"<p>Your JSON content contains non-breaking spaces (character code 160, commonly known as <code>&amp;nbsp;</code>) likely from copying and pasting JSON (usually from a webpage) that used <code>&amp;nbsp;</code> to indent the JSON.</p>\n\n<p><a href=\"https://i.stack.imgur.com/sp4KJ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/sp4KJ.png\" alt=\"enter image description here\"></a></p>\n\n<p>You can fix it with</p>\n\n<pre><code>responseJson = responseJson.replace('\\u00A0',' ');\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11417406,"reputation":11,"user_id":8369861,"display_name":"Dhiraj Parakh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1683879287,"creation_date":1683879287,"answer_id":76234382,"question_id":39047214,"body_markdown":"Google for Json formatter then click on any one of the option ,\r\nPaste your json code in that formatter , it will validate &amp; highlight the unwanted characters just delete them or replace then with what you want.\r\n\r\ne.g. goto https://jsonformatter.org/\r\n&amp; follow the above steps","title":"com.fasterxml.jackson.core.JsonParseException: Unexpected character(code 160) while reading the json file","body":"<p>Google for Json formatter then click on any one of the option ,\nPaste your json code in that formatter , it will validate &amp; highlight the unwanted characters just delete them or replace then with what you want.</p>\n<p>e.g. goto <a href=\"https://jsonformatter.org/\" rel=\"nofollow noreferrer\">https://jsonformatter.org/</a>\n&amp; follow the above steps</p>\n"},{"tags":[],"owner":{"account_id":24937532,"reputation":11,"user_id":18803894,"display_name":"Rajeeva Gowda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1689752216,"creation_date":1689752216,"answer_id":76718940,"question_id":39047214,"body_markdown":"had same issue with body sent via postman\r\nJust copy pasted the text into sublime text editor which shown as below, The picture shows some extra formatting in space which is not a valid json white space\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HMwSu.png\r\n\r\nAfter removing them and just spacing properly in sublime worked well.\r\n\r\n","title":"com.fasterxml.jackson.core.JsonParseException: Unexpected character(code 160) while reading the json file","body":"<p>had same issue with body sent via postman\nJust copy pasted the text into sublime text editor which shown as below, The picture shows some extra formatting in space which is not a valid json white space\n<a href=\"https://i.stack.imgur.com/HMwSu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HMwSu.png\" alt=\"\" /></a></p>\n<p>After removing them and just spacing properly in sublime worked well.</p>\n"}],"owner":{"account_id":2705179,"reputation":321,"user_id":2334926,"accept_rate":0,"display_name":"user2334926"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34970,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1689752216,"creation_date":1471638670,"question_id":39047214,"body_markdown":"I am reading the below json content from a file and converting into a map but i am getting the below exception. Kindly let me know if anybody has come across such issue. I validated my json content and looks valid. Not sure why this error.\r\n    \r\nJson Content:\r\n    \r\n    {\r\n    \t&quot;Results&quot;:[{&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t\t&quot;TotalPositiveFeedbackCount&quot;: 0&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t},{\r\n    \t\t&quot;TotalPositiveFeedbackCount&quot;: 1&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t}&#160;&#160;&#160;]\r\n    }\r\n    \r\nCode:\r\n    \r\n    Map&lt;String, Object&gt; domainMap = new HashMap&lt;String, Object&gt;();\r\n    try {\r\n    \tresponseJson = getFile(&quot;reviewresponse.json&quot;);\r\n    \t//responseJson = new String(Files.readAllBytes(Paths.get(&quot;reviewresponse.json&quot;)), StandardCharsets.UTF_8);\r\n    \tObjectMapper jsonObjectMapper = new ObjectMapper();\r\n        jsonObjectMapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\r\n    \tdomainMap = jsonObjectMapper.readValue(responseJson,\r\n                       new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\r\n    } \r\n    \r\n   Exception Details:\r\n    \r\n    com.fasterxml.jackson.core.JsonParseException: Unexpected character (&#39;&#160;&#39; (code 160)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name\r\n     at [Source: {\r\n    \t&quot;Results&quot;:[{&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t\t&quot;TotalPositiveFeedbackCount&quot;: 0&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t},{\r\n    \t\t&quot;TotalPositiveFeedbackCount&quot;: 1&#160;&#160;&#160;&#160;&#160;&#160;\r\n    \t}&#160;&#160;&#160;]\r\n    }\r\n    ; line: 2, column: 15]","title":"com.fasterxml.jackson.core.JsonParseException: Unexpected character(code 160) while reading the json file","body":"<p>I am reading the below json content from a file and converting into a map but i am getting the below exception. Kindly let me know if anybody has come across such issue. I validated my json content and looks valid. Not sure why this error.</p>\n\n<p>Json Content:</p>\n\n<pre><code>{\n    \"Results\":[{         \n        \"TotalPositiveFeedbackCount\": 0      \n    },{\n        \"TotalPositiveFeedbackCount\": 1      \n    }   ]\n}\n</code></pre>\n\n<p>Code:</p>\n\n<pre><code>Map&lt;String, Object&gt; domainMap = new HashMap&lt;String, Object&gt;();\ntry {\n    responseJson = getFile(\"reviewresponse.json\");\n    //responseJson = new String(Files.readAllBytes(Paths.get(\"reviewresponse.json\")), StandardCharsets.UTF_8);\n    ObjectMapper jsonObjectMapper = new ObjectMapper();\n    jsonObjectMapper.configure(JsonParser.Feature.ALLOW_UNQUOTED_FIELD_NAMES, true);\n    domainMap = jsonObjectMapper.readValue(responseJson,\n                   new TypeReference&lt;Map&lt;String, Object&gt;&gt;() {});\n} \n</code></pre>\n\n<p>Exception Details:</p>\n\n<pre><code>com.fasterxml.jackson.core.JsonParseException: Unexpected character (' ' (code 160)): was expecting either valid name character (for unquoted name) or double-quote (for quoted) to start field name\n at [Source: {\n    \"Results\":[{         \n        \"TotalPositiveFeedbackCount\": 0      \n    },{\n        \"TotalPositiveFeedbackCount\": 1      \n    }   ]\n}\n; line: 2, column: 15]\n</code></pre>\n"},{"tags":["java","android","kotlin","android-permissions","usagestatsmanager"],"owner":{"account_id":7837112,"reputation":174,"user_id":5924720,"display_name":"Pedif"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":41,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689752022,"creation_date":1689752022,"question_id":76718921,"body_markdown":"The issue is pretty clear, I want to query which app is currently being executed with queryEvents and looping over the running type events, unfortunately, this does not work for Android R+ devices.\r\nPer Android documentation, we need to add two system permissions:\r\n \r\n\r\n    &lt;uses-permission\r\n            android:name=&quot;android.permission.PACKAGE_USAGE_STATS&quot;\r\n            tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\r\n        &lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot;\r\n            tools:ignore=&quot;QueryAllPackagesPermission&quot;/&gt;\r\n\r\nBut, even with these permissions, the query still returns nothing for Android 11 and onwards devices.\r\nthe query function is also pretty simple:\r\n\r\n    (context.getSystemService(Context.USAGE_STATS_SERVICE) as UsageStatsManager).also {\r\n\r\n        val usageStatsManager: UsageStatsManager = it\r\n        val currentTimeMillis = System.currentTimeMillis()\r\n        val queryEvents =\r\n            usageStatsManager.queryEvents(currentTimeMillis - (1000*60*10), currentTimeMillis)\r\n        val event = UsageEvents.Event()\r\n        var str = &quot;&quot;\r\n        while (queryEvents.hasNextEvent()) {\r\n            queryEvents.getNextEvent(event)\r\n            Timber.d(event.className)\r\n            if (event.eventType == UsageEvents.Event.ACTIVITY_RESUMED) {\r\n                str = event.packageName\r\n            }\r\n        }\r\n}\r\n","title":"Android UsageStatsManager: queryEvents return null for Android R+","body":"<p>The issue is pretty clear, I want to query which app is currently being executed with queryEvents and looping over the running type events, unfortunately, this does not work for Android R+ devices.\nPer Android documentation, we need to add two system permissions:</p>\n<pre><code>&lt;uses-permission\n        android:name=&quot;android.permission.PACKAGE_USAGE_STATS&quot;\n        tools:ignore=&quot;ProtectedPermissions&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.QUERY_ALL_PACKAGES&quot;\n        tools:ignore=&quot;QueryAllPackagesPermission&quot;/&gt;\n</code></pre>\n<p>But, even with these permissions, the query still returns nothing for Android 11 and onwards devices.\nthe query function is also pretty simple:</p>\n<pre><code>(context.getSystemService(Context.USAGE_STATS_SERVICE) as UsageStatsManager).also {\n\n    val usageStatsManager: UsageStatsManager = it\n    val currentTimeMillis = System.currentTimeMillis()\n    val queryEvents =\n        usageStatsManager.queryEvents(currentTimeMillis - (1000*60*10), currentTimeMillis)\n    val event = UsageEvents.Event()\n    var str = &quot;&quot;\n    while (queryEvents.hasNextEvent()) {\n        queryEvents.getNextEvent(event)\n        Timber.d(event.className)\n        if (event.eventType == UsageEvents.Event.ACTIVITY_RESUMED) {\n            str = event.packageName\n        }\n    }\n</code></pre>\n<p>}</p>\n"},{"tags":["java","solr","aem","solrj"],"owner":{"account_id":9126685,"reputation":614,"user_id":6790065,"accept_rate":67,"display_name":"Thilina Dinith Fonseka"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":98,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689751667,"creation_date":1689678510,"question_id":76712165,"body_markdown":"i have coded a simple code to connect solr from AEM server with https\r\nbut it gives me following error which i cannot understand \r\nmy pom.xml\r\n\t\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t\t\t&lt;version&gt;9.1.0&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t\t\t&lt;version&gt;9.4.19.v20190610&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n    \t\t\t&lt;!-- Needed for the SSLContextFactory$Client class --&gt;\r\n    \t\t\t&lt;dependency&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\r\n                    &lt;scope&gt;provided&lt;/scope&gt;\r\n    \t\t\t\t&lt;version&gt;9.4.19.v20190610&lt;/version&gt;\r\n    \t\t\t&lt;/dependency&gt;\r\n\r\n\r\nthis is the code that implemented to index to solr\r\n\r\n    public boolean indexPageToSolr(JsonObject indexPageData, SolrClient server) throws  \r\n\r\n    SolrServerException,\r\n    \t\t\tIOException {\r\n    \t\tif (null != indexPageData) {\r\n    \t\t\t  \r\n    \t\t\t  \r\n    \t\t\tString urlString = &quot;https://connecttosolr.com/solr/mycollection&quot;;\r\n                Http2SolrClient solr = new Http2SolrClient.Builder(urlString).build();\r\n                solr.setParser(new XMLResponseParser());\r\n    \r\n              \r\n    \t\t    SolrInputDocument doc = createPageSolrDoc(indexPageData);\r\n    \t\t\ttry{\r\n    \t\t\t\tsolr.add(doc);\r\n    \t\t\t}\r\n    \t\t\tcatch(Exception e){\r\n    \t\t\t\tlogger.info(&quot;******* error in add :********&quot; + e.toString());\r\n    \t\t\t}\r\n    \t\t\r\n    \t\t\tsolr.commit();\r\n    \t\t\t\r\n    \t\t\treturn true;\r\n    \t\t}\r\n    \r\n    \t\treturn false;\r\n    \t}\r\n\r\n\r\nerror im getting is below \r\n\r\n    indexto Solr Stacktrace [java.base/java.util.Objects.requireNonNull(Objects.java:246), org.eclipse.jetty.io.ssl.SslClientConnectionFactory.&lt;init&gt;(SslClientConnectionFactory.java:57), org.eclipse.jetty.client.HttpClient.newSslClientConnectionFactory(HttpClient.java:1208), org.eclipse.jetty.client.HttpClient.newSslClientConnectionFactory(HttpClient.java:1214), org.eclipse.jetty.client.HttpDestination.newSslClientConnectionFactory(HttpDestination.java:148), org.eclipse.jetty.client.HttpDestination.newSslClientConnectionFactory(HttpDestination.java:154), org.eclipse.jetty.client.HttpDestination.&lt;init&gt;(HttpDestination.java:94), org.eclipse.jetty.client.MultiplexHttpDestination.&lt;init&gt;(MultiplexHttpDestination.java:25), org.eclipse.jetty.http2.client.http.HttpDestinationOverHTTP2.&lt;init&gt;(HttpDestinationOverHTTP2.java:32), org.eclipse.jetty.http2.client.http.HttpClientTransportOverHTTP2.newHttpDestination(HttpClientTransportOverHTTP2.java:128), org.eclipse.jetty.client.HttpClient.lambda$resolveDestination$0(HttpClient.java:575), java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705), org.eclipse.jetty.client.HttpClient.resolveDestination(HttpClient.java:573), org.eclipse.jetty.client.HttpClient.resolveDestination(HttpClient.java:551), org.eclipse.jetty.client.HttpClient.send(HttpClient.java:599), org.eclipse.jetty.client.HttpRequest.sendAsync(HttpRequest.java:778), org.eclipse.jetty.client.HttpRequest.send(HttpRequest.java:765), org.apache.solr.client.solrj.impl.Http2SolrClient.request(Http2SolrClient.java:455), org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:234), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:166), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:131), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:147), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.indexPageToSolr(SolrServiceImpl.java:432), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.index(SolrServiceImpl.java:203), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.updateSolrIndex(SolrServiceImpl.java:112), com.mypackage.subpackage.core.model.search.solr.eventhandler.SolrEventHandler.handleEvent(SolrEventHandler.java:54), org.apache.felix.eventadmin.impl.handler.EventHandlerProxy.sendEvent(EventHandlerProxy.java:415), org.apache.felix.eventadmin.impl.tasks.HandlerTask.runWithoutBlacklistTiming(HandlerTask.java:82), org.apache.felix.eventadmin.impl.tasks.SyncDeliverTasks.execute(SyncDeliverTasks.java:104), org.apache.felix.eventadmin.impl.tasks.AsyncDeliverTasks$TaskExecuter.run(AsyncDeliverTasks.java:166), java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515), java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), java.base/java.lang.Thread.run(Thread.java:834)]\r\n    18.07.2023 18:41:39.748 *ERROR* [EventAdminAsyncThread #9] com.myproject.subcat.core.model.search.solr.services.impl.SolrServiceImpl Error indexing /content/mypage/en/master2/page2 to Solr Missing SslContextFactory\r\n\r\n\r\n    com.myproject.subcat.core.model.search.solr.services.impl.SolrServiceImpl Error indexing /content/mypage/en/master2/page2 to Solr Missing SslContextFactory","title":"Solr Missing SslContextFactory AEM with HTTP2Client","body":"<p>i have coded a simple code to connect solr from AEM server with https\nbut it gives me following error which i cannot understand\nmy pom.xml</p>\n<pre><code>&lt;dependency&gt;\n                &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n                &lt;artifactId&gt;solr-solrj&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;version&gt;9.1.0&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-server&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;version&gt;9.4.19.v20190610&lt;/version&gt;\n            &lt;/dependency&gt;\n            &lt;!-- Needed for the SSLContextFactory$Client class --&gt;\n            &lt;dependency&gt;\n                &lt;groupId&gt;org.eclipse.jetty&lt;/groupId&gt;\n                &lt;artifactId&gt;jetty-util&lt;/artifactId&gt;\n                &lt;scope&gt;provided&lt;/scope&gt;\n                &lt;version&gt;9.4.19.v20190610&lt;/version&gt;\n            &lt;/dependency&gt;\n</code></pre>\n<p>this is the code that implemented to index to solr</p>\n<pre><code>public boolean indexPageToSolr(JsonObject indexPageData, SolrClient server) throws  \n\nSolrServerException,\n            IOException {\n        if (null != indexPageData) {\n              \n              \n            String urlString = &quot;https://connecttosolr.com/solr/mycollection&quot;;\n            Http2SolrClient solr = new Http2SolrClient.Builder(urlString).build();\n            solr.setParser(new XMLResponseParser());\n\n          \n            SolrInputDocument doc = createPageSolrDoc(indexPageData);\n            try{\n                solr.add(doc);\n            }\n            catch(Exception e){\n                logger.info(&quot;******* error in add :********&quot; + e.toString());\n            }\n        \n            solr.commit();\n            \n            return true;\n        }\n\n        return false;\n    }\n</code></pre>\n<p>error im getting is below</p>\n<pre><code>indexto Solr Stacktrace [java.base/java.util.Objects.requireNonNull(Objects.java:246), org.eclipse.jetty.io.ssl.SslClientConnectionFactory.&lt;init&gt;(SslClientConnectionFactory.java:57), org.eclipse.jetty.client.HttpClient.newSslClientConnectionFactory(HttpClient.java:1208), org.eclipse.jetty.client.HttpClient.newSslClientConnectionFactory(HttpClient.java:1214), org.eclipse.jetty.client.HttpDestination.newSslClientConnectionFactory(HttpDestination.java:148), org.eclipse.jetty.client.HttpDestination.newSslClientConnectionFactory(HttpDestination.java:154), org.eclipse.jetty.client.HttpDestination.&lt;init&gt;(HttpDestination.java:94), org.eclipse.jetty.client.MultiplexHttpDestination.&lt;init&gt;(MultiplexHttpDestination.java:25), org.eclipse.jetty.http2.client.http.HttpDestinationOverHTTP2.&lt;init&gt;(HttpDestinationOverHTTP2.java:32), org.eclipse.jetty.http2.client.http.HttpClientTransportOverHTTP2.newHttpDestination(HttpClientTransportOverHTTP2.java:128), org.eclipse.jetty.client.HttpClient.lambda$resolveDestination$0(HttpClient.java:575), java.base/java.util.concurrent.ConcurrentHashMap.computeIfAbsent(ConcurrentHashMap.java:1705), org.eclipse.jetty.client.HttpClient.resolveDestination(HttpClient.java:573), org.eclipse.jetty.client.HttpClient.resolveDestination(HttpClient.java:551), org.eclipse.jetty.client.HttpClient.send(HttpClient.java:599), org.eclipse.jetty.client.HttpRequest.sendAsync(HttpRequest.java:778), org.eclipse.jetty.client.HttpRequest.send(HttpRequest.java:765), org.apache.solr.client.solrj.impl.Http2SolrClient.request(Http2SolrClient.java:455), org.apache.solr.client.solrj.SolrRequest.process(SolrRequest.java:234), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:166), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:131), org.apache.solr.client.solrj.SolrClient.add(SolrClient.java:147), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.indexPageToSolr(SolrServiceImpl.java:432), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.index(SolrServiceImpl.java:203), com.mypackage.subpackage.core.model.search.solr.services.impl.SolrServiceImpl.updateSolrIndex(SolrServiceImpl.java:112), com.mypackage.subpackage.core.model.search.solr.eventhandler.SolrEventHandler.handleEvent(SolrEventHandler.java:54), org.apache.felix.eventadmin.impl.handler.EventHandlerProxy.sendEvent(EventHandlerProxy.java:415), org.apache.felix.eventadmin.impl.tasks.HandlerTask.runWithoutBlacklistTiming(HandlerTask.java:82), org.apache.felix.eventadmin.impl.tasks.SyncDeliverTasks.execute(SyncDeliverTasks.java:104), org.apache.felix.eventadmin.impl.tasks.AsyncDeliverTasks$TaskExecuter.run(AsyncDeliverTasks.java:166), java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515), java.base/java.util.concurrent.FutureTask.run(FutureTask.java:264), java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128), java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628), java.base/java.lang.Thread.run(Thread.java:834)]\n18.07.2023 18:41:39.748 *ERROR* [EventAdminAsyncThread #9] com.myproject.subcat.core.model.search.solr.services.impl.SolrServiceImpl Error indexing /content/mypage/en/master2/page2 to Solr Missing SslContextFactory\n\n\ncom.myproject.subcat.core.model.search.solr.services.impl.SolrServiceImpl Error indexing /content/mypage/en/master2/page2 to Solr Missing SslContextFactory\n</code></pre>\n"},{"tags":["java","memory","garbage-collection"],"comments":[{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1689752985,"post_id":76718875,"comment_id":135256114,"body_markdown":"A heap dump won&#39;t contain garbage. My guess is that by going through the heap while writing the dump garbage is identified. Therefore it can also be garbage collected during writing the dump.","body":"A heap dump won&#39;t contain garbage. My guess is that by going through the heap while writing the dump garbage is identified. Therefore it can also be garbage collected during writing the dump."},{"owner":{"account_id":17803547,"reputation":1,"user_id":12929696,"display_name":"Akash Gusain"},"score":0,"creation_date":1689756196,"post_id":76718875,"comment_id":135256787,"body_markdown":"I have allocated 8GB of Memory to my app and the app is consuming almost 95% of the memory but as soon as I hit the heap dump endpoint, memory consumption goes below 35%. I am curious, Why garbage is not collected beforehand.","body":"I have allocated 8GB of Memory to my app and the app is consuming almost 95% of the memory but as soon as I hit the heap dump endpoint, memory consumption goes below 35%. I am curious, Why garbage is not collected beforehand."},{"owner":{"account_id":1580843,"reputation":13479,"user_id":1466267,"accept_rate":91,"display_name":"SpaceTrucker"},"score":0,"creation_date":1689767345,"post_id":76718875,"comment_id":135259201,"body_markdown":"There probably is garbage collected. But why collect more garbage than necessary? If the application can keep running with only collecting 100MB of garbage per run why waste cpu time on collecting more than that?","body":"There probably is garbage collected. But why collect more garbage than necessary? If the application can keep running with only collecting 100MB of garbage per run why waste cpu time on collecting more than that?"},{"owner":{"account_id":17803547,"reputation":1,"user_id":12929696,"display_name":"Akash Gusain"},"score":0,"creation_date":1689853323,"post_id":76718875,"comment_id":135273626,"body_markdown":"oh Understood, what if I decrease my heap size? will it lead to memoryOutofError? or garbage will be collected as soon as max heap size is reached?","body":"oh Understood, what if I decrease my heap size? will it lead to memoryOutofError? or garbage will be collected as soon as max heap size is reached?"}],"owner":{"account_id":17803547,"reputation":1,"user_id":12929696,"display_name":"Akash Gusain"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":182,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1689751639,"creation_date":1689751639,"question_id":76718875,"body_markdown":"I have deployed my Spring Boot application to Cloud Foundry, and I have noticed that when I call the actuator/heapdump endpoint, there is a significant drop in memory usage. I am interested in understanding the specific actions that occur when this endpoint is invoked.\r\n\r\n\r\n\r\nIn my application, the actuator/heapdump endpoint seems to trigger a noticeable decrease in memory usage. I would like to gain insights into the underlying process and its impact on memory management. Can someone explain what exactly happens when the actuator/heapdump endpoint is called in a Spring Boot application deployed to Cloud Foundry?","title":"What happens when the actuator/heapdump endpoint is called in a Spring Boot application deployed to Cloud Foundry?","body":"<p>I have deployed my Spring Boot application to Cloud Foundry, and I have noticed that when I call the actuator/heapdump endpoint, there is a significant drop in memory usage. I am interested in understanding the specific actions that occur when this endpoint is invoked.</p>\n<p>In my application, the actuator/heapdump endpoint seems to trigger a noticeable decrease in memory usage. I would like to gain insights into the underlying process and its impact on memory management. Can someone explain what exactly happens when the actuator/heapdump endpoint is called in a Spring Boot application deployed to Cloud Foundry?</p>\n"}],"has_more":true,"backoff":10,"quota_max":10000,"quota_remaining":9692,"page":300,"page_size":100}
