{"items":[{"tags":["java","spring-boot","jwt"],"comments":[{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635841714,"post_id":69806484,"comment_id":123393538,"body_markdown":"`permitAll` doesn&#39;t mean no-security. There still needs to be an authentication object but it could be an anonymous one. Also are you sure the pattern is correct and that the url is `/authenticate` and not something else?","body":"<code>permitAll</code> doesn&#39;t mean no-security. There still needs to be an authentication object but it could be an anonymous one. Also are you sure the pattern is correct and that the url is <code>&#47;authenticate</code> and not something else?"},{"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"score":0,"creation_date":1635847286,"post_id":69806484,"comment_id":123395851,"body_markdown":"The pattern is correct, instead of permitAll(), what else can we use to stop checking for authorization in the end-point?","body":"The pattern is correct, instead of permitAll(), what else can we use to stop checking for authorization in the end-point?"},{"owner":{"account_id":3192259,"reputation":117609,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1635847610,"post_id":69806484,"comment_id":123395963,"body_markdown":"What does that endpont do? Shouldn&#39;t your JWT filter already decode the token and set the authentication? Why would you need an endpoint for that?","body":"What does that endpont do? Shouldn&#39;t your JWT filter already decode the token and set the authentication? Why would you need an endpoint for that?"}],"answers":[{"tags":[],"owner":{"account_id":16501074,"reputation":222,"user_id":13541158,"display_name":"Karamveer Gahlot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635858053,"creation_date":1635858053,"answer_id":69810926,"question_id":69806484,"body_markdown":"try adding this method it make sure this endpoint is ignored.\r\n\r\n    @Override\r\n    \tpublic void configure(final WebSecurity web) throws Exception {\r\n    \t\tweb.ignoring().antMatchers(&quot;/authenticate&quot;);\r\n    \r\n    \t}","title":"antMatchers() is not working , and gives forbidden error","body":"<p>try adding this method it make sure this endpoint is ignored.</p>\n<pre><code>@Override\n    public void configure(final WebSecurity web) throws Exception {\n        web.ignoring().antMatchers(&quot;/authenticate&quot;);\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":297276,"reputation":2523,"user_id":4506703,"display_name":"DEWA Kazuyuki - 出羽和之"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635899887,"creation_date":1635897684,"answer_id":69818231,"question_id":69806484,"body_markdown":"If cannot be evaluated, just pass through at your authentication filter.\r\n\r\n```java\r\n    @Override\r\n    protected void doFilterInternal(final HttpServletRequest req,\r\n        final HttpServletResponse res,\r\n        final FilterChain chain) throws IOException, ServletException {\r\n        final String header = req.getHeader(&quot;Authorization&quot;);\r\n\r\n        if (header == null || !header.startsWith(&quot;Bearer &quot;)) {\r\n            // if cannot be evaluated\r\n            chain.doFilter(req, res);\r\n            return;\r\n        }\r\n\r\n        // do authentication\r\n\r\n        // SecurityContextHolder.getContext().setAuthentication() if authenticated normally\r\n        // throw AuthenticationException if received illegal credentials\r\n\r\n        chain.doFilter(req, res);\r\n    }\r\n```\r\n\r\nSee also [AbstractAuthenticationProcessingFilter#attemptAuthentication()](https://docs.spring.io/spring-security/site/docs/5.5.3/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html#attemptAuthentication(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)) javadoc:\r\n&gt; The implementation should do one of the following:\r\n&gt; 1. Return a populated authentication token for the authenticated user, indicating successful authentication\r\n&gt; 1. Return null, indicating that the authentication process is still in progress. Before returning, the implementation should perform any additional work required to complete the process.\r\n&gt; 1. Throw an AuthenticationException if the authentication process fails\r\n","title":"antMatchers() is not working , and gives forbidden error","body":"<p>If cannot be evaluated, just pass through at your authentication filter.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    @Override\n    protected void doFilterInternal(final HttpServletRequest req,\n        final HttpServletResponse res,\n        final FilterChain chain) throws IOException, ServletException {\n        final String header = req.getHeader(&quot;Authorization&quot;);\n\n        if (header == null || !header.startsWith(&quot;Bearer &quot;)) {\n            // if cannot be evaluated\n            chain.doFilter(req, res);\n            return;\n        }\n\n        // do authentication\n\n        // SecurityContextHolder.getContext().setAuthentication() if authenticated normally\n        // throw AuthenticationException if received illegal credentials\n\n        chain.doFilter(req, res);\n    }\n</code></pre>\n<p>See also <a href=\"https://docs.spring.io/spring-security/site/docs/5.5.3/api/org/springframework/security/web/authentication/AbstractAuthenticationProcessingFilter.html#attemptAuthentication(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)\" rel=\"nofollow noreferrer\">AbstractAuthenticationProcessingFilter#attemptAuthentication()</a> javadoc:</p>\n<blockquote>\n<p>The implementation should do one of the following:</p>\n<ol>\n<li>Return a populated authentication token for the authenticated user, indicating successful authentication</li>\n<li>Return null, indicating that the authentication process is still in progress. Before returning, the implementation should perform any additional work required to complete the process.</li>\n<li>Throw an AuthenticationException if the authentication process fails</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635919981,"creation_date":1635919981,"answer_id":69820357,"question_id":69806484,"body_markdown":"I have an update regarding the issue.\r\n\r\nIn my case, I had a problem with a function **singWith()** that was deprecated, the request of /authenticate was passing the **antMatchers()** filter but was not able to generate the token.\r\n\r\nAfter the research, I found that there are other types of the same function, which works fine.\r\n\r\nthe old version of the token generation code.\r\n\r\n    SecretKey key = Keys.hmacShaKeyFor(Decoders.BASE64.decode(&quot;newworldorder&quot;));\r\n\r\n**Key is of SecretKey type**\r\n\r\n    Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(date)\r\n                .setExpiration(new Date(validity)\r\n                .signWith(key).compact();\r\n\r\nhere is the new version of the token generation code.\r\n\r\n    private String key = &quot;newworldorder&quot;;\r\n\r\n**Key is of String type**\r\n\r\n    Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(date)\r\n                .setExpiration(validity)\r\n                .signWith(SignatureAlgorithm.HS512, key).compact();","title":"antMatchers() is not working , and gives forbidden error","body":"<p>I have an update regarding the issue.</p>\n<p>In my case, I had a problem with a function <strong>singWith()</strong> that was deprecated, the request of /authenticate was passing the <strong>antMatchers()</strong> filter but was not able to generate the token.</p>\n<p>After the research, I found that there are other types of the same function, which works fine.</p>\n<p>the old version of the token generation code.</p>\n<pre><code>SecretKey key = Keys.hmacShaKeyFor(Decoders.BASE64.decode(&quot;newworldorder&quot;));\n</code></pre>\n<p><strong>Key is of SecretKey type</strong></p>\n<pre><code>Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(date)\n            .setExpiration(new Date(validity)\n            .signWith(key).compact();\n</code></pre>\n<p>here is the new version of the token generation code.</p>\n<pre><code>private String key = &quot;newworldorder&quot;;\n</code></pre>\n<p><strong>Key is of String type</strong></p>\n<pre><code>Jwts.builder().setClaims(claims).setSubject(subject).setIssuedAt(date)\n            .setExpiration(validity)\n            .signWith(SignatureAlgorithm.HS512, key).compact();\n</code></pre>\n"}],"owner":{"account_id":12315202,"reputation":198,"user_id":8985718,"display_name":"Sayed Hussainullah Sadat"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":666,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69820357,"answer_count":3,"score":0,"last_activity_date":1635919981,"creation_date":1635836603,"question_id":69806484,"body_markdown":"I have an end-point called **authenticate** , this endpoint is given to antMatchers(&quot;/authenticate&quot;) to skip authorization for this end-point, but it still checks for the authentication.\r\n\r\ncode:\r\n\r\n       @Override\r\n    protected void configure(HttpSecurity httpSecurity) throws Exception {\r\n        // We don&#39;t need CSRF for this example\r\n        httpSecurity.csrf().disable()\r\n                // dont authenticate this particular request\r\n                .authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll()\r\n                // all other requests need to be authenticated\r\n                .and().authorizeRequests()\r\n                .anyRequest().authenticated()\r\n                .and()\r\n                // make sure we use stateless session; session won&#39;t be used to\r\n                // store user&#39;s state.\r\n                .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\r\n                .and().sessionManagement()\r\n                .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\r\n\r\n        // Add a filter to validate the tokens with every request\r\n        httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\r\n    }","title":"antMatchers() is not working , and gives forbidden error","body":"<p>I have an end-point called <strong>authenticate</strong> , this endpoint is given to antMatchers(&quot;/authenticate&quot;) to skip authorization for this end-point, but it still checks for the authentication.</p>\n<p>code:</p>\n<pre><code>   @Override\nprotected void configure(HttpSecurity httpSecurity) throws Exception {\n    // We don't need CSRF for this example\n    httpSecurity.csrf().disable()\n            // dont authenticate this particular request\n            .authorizeRequests().antMatchers(&quot;/authenticate&quot;).permitAll()\n            // all other requests need to be authenticated\n            .and().authorizeRequests()\n            .anyRequest().authenticated()\n            .and()\n            // make sure we use stateless session; session won't be used to\n            // store user's state.\n            .exceptionHandling().authenticationEntryPoint(jwtAuthenticationEntryPoint)\n            .and().sessionManagement()\n            .sessionCreationPolicy(SessionCreationPolicy.STATELESS);\n\n    // Add a filter to validate the tokens with every request\n    httpSecurity.addFilterBefore(jwtRequestFilter, UsernamePasswordAuthenticationFilter.class);\n}\n</code></pre>\n"},{"tags":["java","android","android-camera2","image-reader"],"answers":[{"tags":[],"owner":{"account_id":3009603,"reputation":601,"user_id":2553400,"display_name":"Sanbrother"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635919684,"creation_date":1635919684,"answer_id":69820323,"question_id":60577104,"body_markdown":"createCaptureSession() needs a list of &quot;target&quot;, but you only added mCameraSurface. You should add mImageReader.getSurface() too.","title":"OnImageAvailableListener is not being invoked for Camera2 API for taking a photo","body":"<p>createCaptureSession() needs a list of &quot;target&quot;, but you only added mCameraSurface. You should add mImageReader.getSurface() too.</p>\n"}],"owner":{"account_id":12878754,"reputation":133,"user_id":9314462,"display_name":"Hazed 2.0"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":805,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635919684,"creation_date":1583580837,"question_id":60577104,"body_markdown":"I am trying to take a photo using the Camera2 API. The API is currently used to produce a preview on a SurfaceView on my screen which works fine, but when i try to capture image, the OnImageAvailable listener doesn&#39;t get called at all. I need this to produce an image file which can then be used on my next screens.\r\n\r\nThe code is based on this sample project https://github.com/googlearchive/android-Camera2Basic/blob/master/Application/src/main/java/com/example/android/camera2basic/Camera2BasicFragment.java\r\n\r\n```\r\n\r\npublic class CameraFragment extends Fragment implements SurfaceHolder.Callback, Handler.Callback{\r\n    // TODO: Rename parameter arguments, choose names that match\r\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\r\n    private static final String ARG_PARAM1 = &quot;param1&quot;;\r\n    private static final String ARG_PARAM2 = &quot;param2&quot;;\r\n\r\n    // TODO: Rename and change types of parameters\r\n    private String mParam1;\r\n    private String mParam2;\r\n\r\n    private OnFragmentInteractionListener mListener;\r\n\r\n    static final String TAG = &quot;CamTest&quot;;\r\n    static final int MY_PERMISSIONS_REQUEST_CAMERA = 1242;\r\n    private static final int MSG_CAMERA_OPENED = 1;\r\n    private static final int MSG_SURFACE_READY = 2;\r\n    private File mFile;\r\n    private Handler mBackgroundHandler;\r\n    private HandlerThread mBackgroundThread;\r\n    private SurfaceView mSurfaceView;\r\n    private SurfaceHolder mSurfaceHolder;\r\n    private CameraManager mCameraManager;\r\n    private String[] mCameraIDsList;\r\n    private CameraDevice.StateCallback mCameraStateCB;\r\n    private CameraDevice mCameraDevice;\r\n    private CameraCaptureSession mCaptureSession;\r\n    private CaptureRequest.Builder mPreviewRequestBuilder;\r\n    private CaptureRequest mPreviewRequest;\r\n    boolean mSurfaceCreated = true;\r\n    boolean mIsCameraConfigured = false;\r\n    private Surface mCameraSurface = null;\r\n    private ImageReader mImageReader;\r\n    private int width = 400;\r\n    private int height = 500;\r\n    private String mCameraId;\r\n    private static final int STATE_PREVIEW = 0;\r\n    private static final int STATE_WAITING_LOCK = 1;\r\n    private static final int STATE_WAITING_PRECAPTURE = 2;\r\n    private static final int STATE_WAITING_NON_PRECAPTURE = 3;\r\n    private static final int STATE_PICTURE_TAKEN = 4;\r\n    private static final int MAX_PREVIEW_WIDTH = 1920;\r\n    private static final int MAX_PREVIEW_HEIGHT = 1080;\r\n    private int mState = STATE_PREVIEW;\r\n    private Semaphore mCameraOpenCloseLock = new Semaphore(1);\r\n    private boolean mFlashSupported;\r\n    private int mSensorOrientation;\r\n    private static final SparseIntArray ORIENTATIONS = new SparseIntArray();\r\n    private static final int REQUEST_CAMERA_PERMISSION = 1;\r\n    private static final String FRAGMENT_DIALOG = &quot;dialog&quot;;\r\n\r\n    static {\r\n        ORIENTATIONS.append(Surface.ROTATION_0, 90);\r\n        ORIENTATIONS.append(Surface.ROTATION_90, 0);\r\n        ORIENTATIONS.append(Surface.ROTATION_180, 270);\r\n        ORIENTATIONS.append(Surface.ROTATION_270, 180);\r\n    }\r\n\r\n    @Override\r\n    public void surfaceCreated(SurfaceHolder surfaceHolder) {\r\n        mCameraSurface = surfaceHolder.getSurface();\r\n    }\r\n\r\n    @Override\r\n    public void surfaceChanged(SurfaceHolder surfaceHolder, int i, int i1, int i2) {\r\n        mCameraSurface = surfaceHolder.getSurface();\r\n        mSurfaceCreated = true;\r\n        mBackgroundHandler.sendEmptyMessage(MSG_SURFACE_READY);\r\n    }\r\n\r\n    @Override\r\n    public void surfaceDestroyed(SurfaceHolder surfaceHolder) {\r\n        mSurfaceCreated = false;\r\n    }\r\n\r\n\r\n    public interface OnFragmentInteractionListener {\r\n        void onFragmentInteraction(Uri uri);\r\n    }\r\n\r\n    public CameraFragment() {\r\n        // Required empty public constructor\r\n    }\r\n\r\n    public static CameraFragment newInstance() {\r\n\r\n        Bundle args = new Bundle();\r\n\r\n        CameraFragment fragment = new CameraFragment();\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    // TODO: Rename and change types and number of parameters\r\n    public static CameraFragment newInstance(String param1, String param2) {\r\n        CameraFragment fragment = new CameraFragment();\r\n        Bundle args = new Bundle();\r\n        args.putString(ARG_PARAM1, param1);\r\n        args.putString(ARG_PARAM2, param2);\r\n        fragment.setArguments(args);\r\n        return fragment;\r\n    }\r\n\r\n    ImageReader.OnImageAvailableListener onImageAvailableListener = new ImageReader.OnImageAvailableListener() {\r\n        @Override\r\n        public void onImageAvailable(ImageReader reader){\r\n            Log.i(&quot;Image Available&quot;, &quot;Image Available&quot;);\r\n            mBackgroundHandler.post(new ImageSaver(reader.acquireNextImage(), mFile));\r\n        }\r\n\r\n    };\r\n\r\n    @Override\r\n    public void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\r\n        super.onViewCreated(view, savedInstanceState);\r\n        this.mSurfaceView = (SurfaceView) getActivity().findViewById(R.id.surfaceView);\r\n        this.mSurfaceHolder = this.mSurfaceView.getHolder();\r\n        this.mSurfaceHolder.addCallback(this);\r\n        this.mCameraManager = (CameraManager) getContext().getSystemService(Context.CAMERA_SERVICE);\r\n\r\n        try {\r\n            mCameraIDsList = this.mCameraManager.getCameraIdList();\r\n            for (String id : mCameraIDsList) {\r\n                Log.v(TAG, &quot;CameraID: &quot; + id);\r\n            }\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n        if (getArguments() != null) {\r\n            mParam1 = getArguments().getString(ARG_PARAM1);\r\n            mParam2 = getArguments().getString(ARG_PARAM2);\r\n        }\r\n\r\n        mCameraStateCB = new CameraDevice.StateCallback() {\r\n            @Override\r\n            public void onOpened(CameraDevice camera) {\r\n                mCameraDevice = camera;\r\n                mBackgroundHandler.sendEmptyMessage(MSG_CAMERA_OPENED);\r\n            }\r\n\r\n            @Override\r\n            public void onDisconnected(CameraDevice camera) {\r\n            }\r\n\r\n            @Override\r\n            public void onError(CameraDevice camera, int error) {\r\n            }\r\n        };\r\n\r\n        TabLayout tabLayout = getActivity().findViewById(R.id.tabLayout);\r\n        tabLayout.getTabAt(1).select();\r\n\r\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\r\n            @Override\r\n            public void onTabSelected(TabLayout.Tab tab) {\r\n                if(tab.getText().equals(getString(R.string.gallery))){\r\n                    getFragmentManager().beginTransaction().replace(R.id.container,\r\n                            HomeFragment.newInstance()).commit();\r\n                }\r\n            }\r\n\r\n            @Override\r\n            public void onTabUnselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onTabReselected(TabLayout.Tab tab) {\r\n\r\n            }\r\n        });\r\n\r\n        ImageButton imageButton = getActivity().findViewById(R.id.captureImgBtn);\r\n        imageButton.setOnClickListener(view1 -&gt; {\r\n            lockFocus();\r\n            captureImage();\r\n        });\r\n    }\r\n\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                             Bundle savedInstanceState) {\r\n        // Inflate the layout for this fragment\r\n        return inflater.inflate(R.layout.fragment_camera, container, false);\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n        if (context instanceof OnFragmentInteractionListener) {\r\n            mListener = (OnFragmentInteractionListener) context;\r\n        } else {\r\n                       throw new RuntimeException(context.toString()\r\n                    + &quot; must implement OnFragmentInteractionListener&quot;);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onActivityCreated(Bundle savedInstanceState) {\r\n        super.onActivityCreated(savedInstanceState);\r\n        mFile = new File(getActivity().getExternalFilesDir(null), &quot;pic.jpg&quot;);\r\n    }\r\n\r\n    @Override\r\n    public void onDetach() {\r\n        super.onDetach();\r\n        mListener = null;\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        startBackgroundThread();\r\n        //requesting permission\r\n        int permissionCheck = ContextCompat.checkSelfPermission(getContext(), Manifest.permission.CAMERA);\r\n        if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\r\n            if (ActivityCompat.shouldShowRequestPermissionRationale(getActivity(), Manifest.permission.CAMERA)) {\r\n\r\n            } else {\r\n                ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.CAMERA}, MY_PERMISSIONS_REQUEST_CAMERA);\r\n            }\r\n        } else {\r\n            try {\r\n                mCameraManager.openCamera(mCameraIDsList[1], mCameraStateCB, new Handler());\r\n                setUpCameraOutputs(width, height);\r\n\r\n            } catch (CameraAccessException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n        startBackgroundThread();\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        stopBackgroundThread();\r\n        try {\r\n            if (mCaptureSession != null) {\r\n                mCaptureSession.stopRepeating();\r\n                mCaptureSession.close();\r\n                mCaptureSession = null;\r\n            }\r\n\r\n            mIsCameraConfigured = false;\r\n        } catch (final CameraAccessException e) {\r\n            e.printStackTrace();\r\n        } catch (final IllegalStateException e2) {\r\n            e2.printStackTrace();\r\n        } finally {\r\n            if (mCameraDevice != null) {\r\n                mCameraDevice.close();\r\n                mCameraDevice = null;\r\n                mCaptureSession = null;\r\n            }\r\n        }\r\n    }\r\n\r\n    private void captureImage (){\r\n        try {\r\n            mImageReader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1);\r\n            CameraCharacteristics cameraCharacteristics = mCameraManager.getCameraCharacteristics(mCameraDevice.getId());\r\n            List&lt;Surface&gt; surfaces =new ArrayList&lt;&gt;(2);\r\n            Size[] jpegSizes;\r\n            jpegSizes = cameraCharacteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP).getOutputSizes(ImageFormat.JPEG);\r\n            mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_TRIGGER,\r\n                    CameraMetadata.CONTROL_AF_TRIGGER_START);\r\n            mCaptureSession.capture(mPreviewRequestBuilder.build(), mCaptureCallback,\r\n                    mBackgroundHandler);\r\n\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    private void captureStillPicture() {\r\n        try {\r\n            final Activity activity = getActivity();\r\n            if (null == activity || null == mCameraDevice) {\r\n                return;\r\n            }\r\n            // This is the CaptureRequest.Builder that we use to take a picture.\r\n            final CaptureRequest.Builder captureBuilder =\r\n                    mCameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\r\n            captureBuilder.addTarget(mImageReader.getSurface());\r\n\r\n            // Use the same AE and AF modes as the preview.\r\n            captureBuilder.set(CaptureRequest.CONTROL_AF_MODE,\r\n                    CaptureRequest.CONTROL_AF_MODE_CONTINUOUS_PICTURE);\r\n            setAutoFlash(captureBuilder);\r\n\r\n            // Orientation\r\n            int rotation = activity.getWindowManager().getDefaultDisplay().getRotation();\r\n            captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, getOrientation(rotation));\r\n\r\n            CameraCaptureSession.CaptureCallback CaptureCallback\r\n                    = new CameraCaptureSession.CaptureCallback() {\r\n\r\n                @Override\r\n                public void onCaptureCompleted(@NonNull CameraCaptureSession session,\r\n                                               @NonNull CaptureRequest request,\r\n                                               @NonNull TotalCaptureResult result) {\r\n                    Log.d(TAG, mFile.toString());\r\n                    unlockFocus();\r\n                }\r\n            };\r\n\r\n            mCaptureSession.stopRepeating();\r\n            mCaptureSession.abortCaptures();\r\n            mCaptureSession.capture(captureBuilder.build(), CaptureCallback, null);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Lock the focus as the first step for a still image capture.\r\n     */\r\n    private void lockFocus() {\r\n        try {\r\n            // This is how to tell the camera to lock focus.\r\n            mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_TRIGGER,\r\n                    CameraMetadata.CONTROL_AF_TRIGGER_START);\r\n            // Tell #mCaptureCallback to wait for the lock.\r\n            mState = STATE_WAITING_LOCK;\r\n            mCaptureSession.capture(mPreviewRequestBuilder.build(), mCaptureCallback,\r\n                    mBackgroundHandler);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void unlockFocus() {\r\n        try {\r\n            // Reset the auto-focus trigger\r\n            mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_TRIGGER,\r\n                    CameraMetadata.CONTROL_AF_TRIGGER_CANCEL);\r\n            setAutoFlash(mPreviewRequestBuilder);\r\n            mCaptureSession.capture(mPreviewRequestBuilder.build(), mCaptureCallback,\r\n                    mBackgroundHandler);\r\n            // After this, the camera will go back to the normal state of preview.\r\n            mState = STATE_PREVIEW;\r\n            mCaptureSession.setRepeatingRequest(mPreviewRequest, mCaptureCallback,\r\n                    mBackgroundHandler);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private int getOrientation(int rotation) {\r\n        // Sensor orientation is 90 for most devices, or 270 for some devices (eg. Nexus 5X)\r\n        // We have to take that into account and rotate JPEG properly.\r\n        // For devices with orientation of 90, we simply return our mapping from ORIENTATIONS.\r\n        // For devices with orientation of 270, we need to rotate the JPEG 180 degrees.\r\n        return (ORIENTATIONS.get(rotation) + mSensorOrientation + 270) % 360;\r\n    }\r\n\r\n\r\n    private void setAutoFlash(CaptureRequest.Builder requestBuilder) {\r\n        if (mFlashSupported) {\r\n            requestBuilder.set(CaptureRequest.CONTROL_AE_MODE,\r\n                    CaptureRequest.CONTROL_AE_MODE_ON_AUTO_FLASH);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public boolean handleMessage(Message msg) {\r\n        switch (msg.what) {\r\n            case MSG_CAMERA_OPENED:\r\n            case MSG_SURFACE_READY:\r\n                // if both surface is created and camera device is opened\r\n                // - ready to set up preview and other things\r\n                if (mSurfaceCreated &amp;&amp; (mCameraDevice != null)\r\n                        &amp;&amp; !mIsCameraConfigured) {\r\n                    configureCamera();\r\n                }\r\n                break;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    private void startBackgroundThread() {\r\n        mBackgroundThread = new HandlerThread(&quot;CameraBackground&quot;);\r\n        mBackgroundThread.start();\r\n        mBackgroundHandler = new Handler(this);\r\n    }\r\n\r\n    private void stopBackgroundThread() {\r\n        mBackgroundThread.quitSafely();\r\n        try {\r\n            mBackgroundThread.join();\r\n            mBackgroundThread = null;\r\n            mBackgroundHandler = null;\r\n        } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void configureCamera() {\r\n        // prepare list of surfaces to be used in capture requests\r\n        List&lt;Surface&gt; sfl = new ArrayList&lt;Surface&gt;();\r\n\r\n        sfl.add(mCameraSurface); // surface for viewfinder preview\r\n\r\n        // configure camera with all the surfaces to be ever used\r\n        try {\r\n            mCameraDevice.createCaptureSession(sfl,\r\n                    new CaptureSessionListener(), mBackgroundHandler);\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        mIsCameraConfigured = true;\r\n    }\r\n\r\n\r\n\r\n\r\n    private static class ImageSaver implements Runnable {\r\n\r\n\r\n        private final Image mImage;\r\n\r\n        private final File mFile;\r\n\r\n        ImageSaver(Image image, File file) {\r\n            mImage = image;\r\n            mFile = file;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            ByteBuffer buffer = mImage.getPlanes()[0].getBuffer();\r\n            byte[] bytes = new byte[buffer.remaining()];\r\n            buffer.get(bytes);\r\n            FileOutputStream output = null;\r\n            try {\r\n                Log.i(&quot;File path&quot;, mFile.getAbsolutePath());\r\n                output = new FileOutputStream(mFile);\r\n                output.write(bytes);\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            } finally {\r\n                mImage.close();\r\n                if (null != output) {\r\n                    try {\r\n                        output.close();\r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    private void setUpCameraOutputs(int width, int height) {\r\n        Activity activity = getActivity();\r\n        CameraManager manager = (CameraManager) activity.getSystemService(Context.CAMERA_SERVICE);\r\n        try {\r\n            for (String cameraId : manager.getCameraIdList()) {\r\n                CameraCharacteristics characteristics\r\n                        = manager.getCameraCharacteristics(cameraId);\r\n\r\n                // We don&#39;t use a front facing camera in this sample.\r\n                Integer facing = characteristics.get(CameraCharacteristics.LENS_FACING);\r\n                if (facing != null &amp;&amp; facing == CameraCharacteristics.LENS_FACING_FRONT) {\r\n                    continue;\r\n                }\r\n\r\n                StreamConfigurationMap map = characteristics.get(\r\n                        CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\r\n                if (map == null) {\r\n                    continue;\r\n                }\r\n\r\n                // For still image captures, we use the largest available size.\r\n                Size largest = Collections.max(\r\n                        Arrays.asList(map.getOutputSizes(ImageFormat.JPEG)),\r\n                        new CompareSizesByArea());\r\n                mImageReader = ImageReader.newInstance(largest.getWidth(), largest.getHeight(),\r\n                        ImageFormat.JPEG, /*maxImages*/2);\r\n                mImageReader.setOnImageAvailableListener(onImageAvailableListener, mBackgroundHandler);\r\n\r\n\r\n                // Find out if we need to swap dimension to get the preview size relative to sensor\r\n                // coordinate.\r\n                int displayRotation = activity.getWindowManager().getDefaultDisplay().getRotation();\r\n                //noinspection ConstantConditions\r\n                mSensorOrientation = characteristics.get(CameraCharacteristics.SENSOR_ORIENTATION);\r\n                boolean swappedDimensions = false;\r\n                switch (displayRotation) {\r\n                    case Surface.ROTATION_0:\r\n                    case Surface.ROTATION_180:\r\n                        if (mSensorOrientation == 90 || mSensorOrientation == 270) {\r\n                            swappedDimensions = true;\r\n                        }\r\n                        break;\r\n                    case Surface.ROTATION_90:\r\n                    case Surface.ROTATION_270:\r\n                        if (mSensorOrientation == 0 || mSensorOrientation == 180) {\r\n                            swappedDimensions = true;\r\n                        }\r\n                        break;\r\n                    default:\r\n                        Log.e(TAG, &quot;Display rotation is invalid: &quot; + displayRotation);\r\n                }\r\n\r\n                Point displaySize = new Point();\r\n                activity.getWindowManager().getDefaultDisplay().getSize(displaySize);\r\n                int rotatedPreviewWidth = width;\r\n                int rotatedPreviewHeight = height;\r\n                int maxPreviewWidth = displaySize.x;\r\n                int maxPreviewHeight = displaySize.y;\r\n\r\n                if (swappedDimensions) {\r\n                    rotatedPreviewWidth = height;\r\n                    rotatedPreviewHeight = width;\r\n                    maxPreviewWidth = displaySize.y;\r\n                    maxPreviewHeight = displaySize.x;\r\n                }\r\n\r\n                if (maxPreviewWidth &gt; MAX_PREVIEW_WIDTH) {\r\n                    maxPreviewWidth = MAX_PREVIEW_WIDTH;\r\n                }\r\n\r\n                if (maxPreviewHeight &gt; MAX_PREVIEW_HEIGHT) {\r\n                    maxPreviewHeight = MAX_PREVIEW_HEIGHT;\r\n                }\r\n\r\n\r\n\r\n                // Check if the flash is supported.\r\n                Boolean available = characteristics.get(CameraCharacteristics.FLASH_INFO_AVAILABLE);\r\n                mFlashSupported = available == null ? false : available;\r\n\r\n                mCameraId = cameraId;\r\n                return;\r\n            }\r\n        } catch (CameraAccessException e) {\r\n            e.printStackTrace();\r\n        } catch (NullPointerException e) {\r\n\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Compares two {@code Size}s based on their areas.\r\n     */\r\n    static class CompareSizesByArea implements Comparator&lt;Size&gt; {\r\n\r\n        @Override\r\n        public int compare(Size lhs, Size rhs) {\r\n            // We cast here to ensure the multiplications won&#39;t overflow\r\n            return Long.signum((long) lhs.getWidth() * lhs.getHeight() -\r\n                    (long) rhs.getWidth() * rhs.getHeight());\r\n        }\r\n\r\n    }\r\n\r\n\r\n\r\n    private class CaptureSessionListener extends\r\n            CameraCaptureSession.StateCallback {\r\n\r\n\r\n\r\n        @Override\r\n        public void onConfigureFailed(final CameraCaptureSession session) {\r\n            Log.d(TAG, &quot;CaptureSessionConfigure failed&quot;);\r\n        }\r\n\r\n        @Override\r\n        public void onReady(@NonNull CameraCaptureSession session) {\r\n            super.onReady(session);\r\n\r\n        }\r\n\r\n        @Override\r\n        public void onConfigured(final CameraCaptureSession session) {\r\n            Log.d(TAG, &quot;CaptureSessionConfigure onConfigured&quot;);\r\n            mCaptureSession = session;\r\n\r\n            try {\r\n                mPreviewRequestBuilder = mCameraDevice\r\n                        .createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\r\n                mPreviewRequestBuilder.addTarget(mCameraSurface);\r\n                mCaptureSession.setRepeatingRequest(mPreviewRequestBuilder.build(),\r\n                        null, null);\r\n            } catch (CameraAccessException e) {\r\n                Log.d(TAG, &quot;setting up preview failed&quot;);\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    private CameraCaptureSession.CaptureCallback mCaptureCallback\r\n            = new CameraCaptureSession.CaptureCallback() {\r\n        private void process(CaptureResult result) {\r\n            switch (mState) {\r\n                case STATE_PREVIEW: {\r\n                    // We have nothing to do when the camera preview is working normally.\r\n                    break;\r\n                }\r\n                case STATE_WAITING_LOCK: {\r\n                    Integer afState = result.get(CaptureResult.CONTROL_AF_STATE);\r\n                    if (afState == null) {\r\n                        captureStillPicture();\r\n                    } else if (CaptureResult.CONTROL_AF_STATE_FOCUSED_LOCKED == afState ||\r\n                            CaptureResult.CONTROL_AF_STATE_NOT_FOCUSED_LOCKED == afState) {\r\n                        // CONTROL_AE_STATE can be null on some devices\r\n                        Integer aeState = result.get(CaptureResult.CONTROL_AE_STATE);\r\n                        if (aeState == null ||\r\n                                aeState == CaptureResult.CONTROL_AE_STATE_CONVERGED) {\r\n                            mState = STATE_PICTURE_TAKEN;\r\n                            captureStillPicture();\r\n                        } else {\r\n                            //runPrecaptureSequence();\r\n                        }\r\n                    }\r\n                    break;\r\n                }\r\n                case STATE_WAITING_PRECAPTURE: {\r\n                    // CONTROL_AE_STATE can be null on some devices\r\n                    Integer aeState = result.get(CaptureResult.CONTROL_AE_STATE);\r\n                    if (aeState == null ||\r\n                            aeState == CaptureResult.CONTROL_AE_STATE_PRECAPTURE ||\r\n                            aeState == CaptureRequest.CONTROL_AE_STATE_FLASH_REQUIRED) {\r\n                        mState = STATE_WAITING_NON_PRECAPTURE;\r\n                    }\r\n                    break;\r\n                }\r\n                case STATE_WAITING_NON_PRECAPTURE: {\r\n                    // CONTROL_AE_STATE can be null on some devices\r\n                    Integer aeState = result.get(CaptureResult.CONTROL_AE_STATE);\r\n                    if (aeState == null || aeState != CaptureResult.CONTROL_AE_STATE_PRECAPTURE) {\r\n                        mState = STATE_PICTURE_TAKEN;\r\n                        captureStillPicture();\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n    };\r\n\r\n\r\n\r\n        @Override\r\n        public void onCaptureProgressed(@NonNull CameraCaptureSession session,\r\n                                        @NonNull CaptureRequest request,\r\n                                        @NonNull CaptureResult partialResult) {\r\n            process(partialResult);\r\n        }\r\n\r\n        @Override\r\n        public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\r\n\r\n            Log.i(&quot;Capture Completed&quot;, &quot;true&quot;);\r\n            process(result);\r\n\r\n        }\r\n    };\r\n}\r\n```","title":"OnImageAvailableListener is not being invoked for Camera2 API for taking a photo","body":"<p>I am trying to take a photo using the Camera2 API. The API is currently used to produce a preview on a SurfaceView on my screen which works fine, but when i try to capture image, the OnImageAvailable listener doesn't get called at all. I need this to produce an image file which can then be used on my next screens.</p>\n\n<p>The code is based on this sample project <a href=\"https://github.com/googlearchive/android-Camera2Basic/blob/master/Application/src/main/java/com/example/android/camera2basic/Camera2BasicFragment.java\" rel=\"nofollow noreferrer\">https://github.com/googlearchive/android-Camera2Basic/blob/master/Application/src/main/java/com/example/android/camera2basic/Camera2BasicFragment.java</a></p>\n\n<pre><code>\npublic class CameraFragment extends Fragment implements SurfaceHolder.Callback, Handler.Callback{\n    // TODO: Rename parameter arguments, choose names that match\n    // the fragment initialization parameters, e.g. ARG_ITEM_NUMBER\n    private static final String ARG_PARAM1 = \"param1\";\n    private static final String ARG_PARAM2 = \"param2\";\n\n    // TODO: Rename and change types of parameters\n    private String mParam1;\n    private String mParam2;\n\n    private OnFragmentInteractionListener mListener;\n\n    static final String TAG = \"CamTest\";\n    static final int MY_PERMISSIONS_REQUEST_CAMERA = 1242;\n    private static final int MSG_CAMERA_OPENED = 1;\n    private static final int MSG_SURFACE_READY = 2;\n    private File mFile;\n    private Handler mBackgroundHandler;\n    private HandlerThread mBackgroundThread;\n    private SurfaceView mSurfaceView;\n    private SurfaceHolder mSurfaceHolder;\n    private CameraManager mCameraManager;\n    private String[] mCameraIDsList;\n    private CameraDevice.StateCallback mCameraStateCB;\n    private CameraDevice mCameraDevice;\n    private CameraCaptureSession mCaptureSession;\n    private CaptureRequest.Builder mPreviewRequestBuilder;\n    private CaptureRequest mPreviewRequest;\n    boolean mSurfaceCreated = true;\n    boolean mIsCameraConfigured = false;\n    private Surface mCameraSurface = null;\n    private ImageReader mImageReader;\n    private int width = 400;\n    private int height = 500;\n    private String mCameraId;\n    private static final int STATE_PREVIEW = 0;\n    private static final int STATE_WAITING_LOCK = 1;\n    private static final int STATE_WAITING_PRECAPTURE = 2;\n    private static final int STATE_WAITING_NON_PRECAPTURE = 3;\n    private static final int STATE_PICTURE_TAKEN = 4;\n    private static final int MAX_PREVIEW_WIDTH = 1920;\n    private static final int MAX_PREVIEW_HEIGHT = 1080;\n    private int mState = STATE_PREVIEW;\n    private Semaphore mCameraOpenCloseLock = new Semaphore(1);\n    private boolean mFlashSupported;\n    private int mSensorOrientation;\n    private static final SparseIntArray ORIENTATIONS = new SparseIntArray();\n    private static final int REQUEST_CAMERA_PERMISSION = 1;\n    private static final String FRAGMENT_DIALOG = \"dialog\";\n\n    static {\n        ORIENTATIONS.append(Surface.ROTATION_0, 90);\n        ORIENTATIONS.append(Surface.ROTATION_90, 0);\n        ORIENTATIONS.append(Surface.ROTATION_180, 270);\n        ORIENTATIONS.append(Surface.ROTATION_270, 180);\n    }\n\n    @Override\n    public void surfaceCreated(SurfaceHolder surfaceHolder) {\n        mCameraSurface = surfaceHolder.getSurface();\n    }\n\n    @Override\n    public void surfaceChanged(SurfaceHolder surfaceHolder, int i, int i1, int i2) {\n        mCameraSurface = surfaceHolder.getSurface();\n        mSurfaceCreated = true;\n        mBackgroundHandler.sendEmptyMessage(MSG_SURFACE_READY);\n    }\n\n    @Override\n    public void surfaceDestroyed(SurfaceHolder surfaceHolder) {\n        mSurfaceCreated = false;\n    }\n\n\n    public interface OnFragmentInteractionListener {\n        void onFragmentInteraction(Uri uri);\n    }\n\n    public CameraFragment() {\n        // Required empty public constructor\n    }\n\n    public static CameraFragment newInstance() {\n\n        Bundle args = new Bundle();\n\n        CameraFragment fragment = new CameraFragment();\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    // TODO: Rename and change types and number of parameters\n    public static CameraFragment newInstance(String param1, String param2) {\n        CameraFragment fragment = new CameraFragment();\n        Bundle args = new Bundle();\n        args.putString(ARG_PARAM1, param1);\n        args.putString(ARG_PARAM2, param2);\n        fragment.setArguments(args);\n        return fragment;\n    }\n\n    ImageReader.OnImageAvailableListener onImageAvailableListener = new ImageReader.OnImageAvailableListener() {\n        @Override\n        public void onImageAvailable(ImageReader reader){\n            Log.i(\"Image Available\", \"Image Available\");\n            mBackgroundHandler.post(new ImageSaver(reader.acquireNextImage(), mFile));\n        }\n\n    };\n\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n    }\n\n\n    @Override\n    public void onViewCreated(@NonNull View view, @Nullable Bundle savedInstanceState) {\n        super.onViewCreated(view, savedInstanceState);\n        this.mSurfaceView = (SurfaceView) getActivity().findViewById(R.id.surfaceView);\n        this.mSurfaceHolder = this.mSurfaceView.getHolder();\n        this.mSurfaceHolder.addCallback(this);\n        this.mCameraManager = (CameraManager) getContext().getSystemService(Context.CAMERA_SERVICE);\n\n        try {\n            mCameraIDsList = this.mCameraManager.getCameraIdList();\n            for (String id : mCameraIDsList) {\n                Log.v(TAG, \"CameraID: \" + id);\n            }\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n        if (getArguments() != null) {\n            mParam1 = getArguments().getString(ARG_PARAM1);\n            mParam2 = getArguments().getString(ARG_PARAM2);\n        }\n\n        mCameraStateCB = new CameraDevice.StateCallback() {\n            @Override\n            public void onOpened(CameraDevice camera) {\n                mCameraDevice = camera;\n                mBackgroundHandler.sendEmptyMessage(MSG_CAMERA_OPENED);\n            }\n\n            @Override\n            public void onDisconnected(CameraDevice camera) {\n            }\n\n            @Override\n            public void onError(CameraDevice camera, int error) {\n            }\n        };\n\n        TabLayout tabLayout = getActivity().findViewById(R.id.tabLayout);\n        tabLayout.getTabAt(1).select();\n\n        tabLayout.addOnTabSelectedListener(new TabLayout.OnTabSelectedListener() {\n            @Override\n            public void onTabSelected(TabLayout.Tab tab) {\n                if(tab.getText().equals(getString(R.string.gallery))){\n                    getFragmentManager().beginTransaction().replace(R.id.container,\n                            HomeFragment.newInstance()).commit();\n                }\n            }\n\n            @Override\n            public void onTabUnselected(TabLayout.Tab tab) {\n\n            }\n\n            @Override\n            public void onTabReselected(TabLayout.Tab tab) {\n\n            }\n        });\n\n        ImageButton imageButton = getActivity().findViewById(R.id.captureImgBtn);\n        imageButton.setOnClickListener(view1 -&gt; {\n            lockFocus();\n            captureImage();\n        });\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        // Inflate the layout for this fragment\n        return inflater.inflate(R.layout.fragment_camera, container, false);\n    }\n\n\n    @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        if (context instanceof OnFragmentInteractionListener) {\n            mListener = (OnFragmentInteractionListener) context;\n        } else {\n                       throw new RuntimeException(context.toString()\n                    + \" must implement OnFragmentInteractionListener\");\n        }\n    }\n\n    @Override\n    public void onActivityCreated(Bundle savedInstanceState) {\n        super.onActivityCreated(savedInstanceState);\n        mFile = new File(getActivity().getExternalFilesDir(null), \"pic.jpg\");\n    }\n\n    @Override\n    public void onDetach() {\n        super.onDetach();\n        mListener = null;\n    }\n\n    @Override\n    public void onStart() {\n        super.onStart();\n        startBackgroundThread();\n        //requesting permission\n        int permissionCheck = ContextCompat.checkSelfPermission(getContext(), Manifest.permission.CAMERA);\n        if (permissionCheck != PackageManager.PERMISSION_GRANTED) {\n            if (ActivityCompat.shouldShowRequestPermissionRationale(getActivity(), Manifest.permission.CAMERA)) {\n\n            } else {\n                ActivityCompat.requestPermissions(getActivity(), new String[]{Manifest.permission.CAMERA}, MY_PERMISSIONS_REQUEST_CAMERA);\n            }\n        } else {\n            try {\n                mCameraManager.openCamera(mCameraIDsList[1], mCameraStateCB, new Handler());\n                setUpCameraOutputs(width, height);\n\n            } catch (CameraAccessException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n    @Override\n    public void onResume() {\n        super.onResume();\n        startBackgroundThread();\n    }\n\n    @Override\n    public void onStop() {\n        super.onStop();\n        stopBackgroundThread();\n        try {\n            if (mCaptureSession != null) {\n                mCaptureSession.stopRepeating();\n                mCaptureSession.close();\n                mCaptureSession = null;\n            }\n\n            mIsCameraConfigured = false;\n        } catch (final CameraAccessException e) {\n            e.printStackTrace();\n        } catch (final IllegalStateException e2) {\n            e2.printStackTrace();\n        } finally {\n            if (mCameraDevice != null) {\n                mCameraDevice.close();\n                mCameraDevice = null;\n                mCaptureSession = null;\n            }\n        }\n    }\n\n    private void captureImage (){\n        try {\n            mImageReader = ImageReader.newInstance(width, height, ImageFormat.JPEG, 1);\n            CameraCharacteristics cameraCharacteristics = mCameraManager.getCameraCharacteristics(mCameraDevice.getId());\n            List&lt;Surface&gt; surfaces =new ArrayList&lt;&gt;(2);\n            Size[] jpegSizes;\n            jpegSizes = cameraCharacteristics.get(CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP).getOutputSizes(ImageFormat.JPEG);\n            mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_TRIGGER,\n                    CameraMetadata.CONTROL_AF_TRIGGER_START);\n            mCaptureSession.capture(mPreviewRequestBuilder.build(), mCaptureCallback,\n                    mBackgroundHandler);\n\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n\n\n\n    }\n\n    private void captureStillPicture() {\n        try {\n            final Activity activity = getActivity();\n            if (null == activity || null == mCameraDevice) {\n                return;\n            }\n            // This is the CaptureRequest.Builder that we use to take a picture.\n            final CaptureRequest.Builder captureBuilder =\n                    mCameraDevice.createCaptureRequest(CameraDevice.TEMPLATE_STILL_CAPTURE);\n            captureBuilder.addTarget(mImageReader.getSurface());\n\n            // Use the same AE and AF modes as the preview.\n            captureBuilder.set(CaptureRequest.CONTROL_AF_MODE,\n                    CaptureRequest.CONTROL_AF_MODE_CONTINUOUS_PICTURE);\n            setAutoFlash(captureBuilder);\n\n            // Orientation\n            int rotation = activity.getWindowManager().getDefaultDisplay().getRotation();\n            captureBuilder.set(CaptureRequest.JPEG_ORIENTATION, getOrientation(rotation));\n\n            CameraCaptureSession.CaptureCallback CaptureCallback\n                    = new CameraCaptureSession.CaptureCallback() {\n\n                @Override\n                public void onCaptureCompleted(@NonNull CameraCaptureSession session,\n                                               @NonNull CaptureRequest request,\n                                               @NonNull TotalCaptureResult result) {\n                    Log.d(TAG, mFile.toString());\n                    unlockFocus();\n                }\n            };\n\n            mCaptureSession.stopRepeating();\n            mCaptureSession.abortCaptures();\n            mCaptureSession.capture(captureBuilder.build(), CaptureCallback, null);\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * Lock the focus as the first step for a still image capture.\n     */\n    private void lockFocus() {\n        try {\n            // This is how to tell the camera to lock focus.\n            mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_TRIGGER,\n                    CameraMetadata.CONTROL_AF_TRIGGER_START);\n            // Tell #mCaptureCallback to wait for the lock.\n            mState = STATE_WAITING_LOCK;\n            mCaptureSession.capture(mPreviewRequestBuilder.build(), mCaptureCallback,\n                    mBackgroundHandler);\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void unlockFocus() {\n        try {\n            // Reset the auto-focus trigger\n            mPreviewRequestBuilder.set(CaptureRequest.CONTROL_AF_TRIGGER,\n                    CameraMetadata.CONTROL_AF_TRIGGER_CANCEL);\n            setAutoFlash(mPreviewRequestBuilder);\n            mCaptureSession.capture(mPreviewRequestBuilder.build(), mCaptureCallback,\n                    mBackgroundHandler);\n            // After this, the camera will go back to the normal state of preview.\n            mState = STATE_PREVIEW;\n            mCaptureSession.setRepeatingRequest(mPreviewRequest, mCaptureCallback,\n                    mBackgroundHandler);\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private int getOrientation(int rotation) {\n        // Sensor orientation is 90 for most devices, or 270 for some devices (eg. Nexus 5X)\n        // We have to take that into account and rotate JPEG properly.\n        // For devices with orientation of 90, we simply return our mapping from ORIENTATIONS.\n        // For devices with orientation of 270, we need to rotate the JPEG 180 degrees.\n        return (ORIENTATIONS.get(rotation) + mSensorOrientation + 270) % 360;\n    }\n\n\n    private void setAutoFlash(CaptureRequest.Builder requestBuilder) {\n        if (mFlashSupported) {\n            requestBuilder.set(CaptureRequest.CONTROL_AE_MODE,\n                    CaptureRequest.CONTROL_AE_MODE_ON_AUTO_FLASH);\n        }\n    }\n\n    @Override\n    public boolean handleMessage(Message msg) {\n        switch (msg.what) {\n            case MSG_CAMERA_OPENED:\n            case MSG_SURFACE_READY:\n                // if both surface is created and camera device is opened\n                // - ready to set up preview and other things\n                if (mSurfaceCreated &amp;&amp; (mCameraDevice != null)\n                        &amp;&amp; !mIsCameraConfigured) {\n                    configureCamera();\n                }\n                break;\n        }\n\n        return true;\n    }\n\n    private void startBackgroundThread() {\n        mBackgroundThread = new HandlerThread(\"CameraBackground\");\n        mBackgroundThread.start();\n        mBackgroundHandler = new Handler(this);\n    }\n\n    private void stopBackgroundThread() {\n        mBackgroundThread.quitSafely();\n        try {\n            mBackgroundThread.join();\n            mBackgroundThread = null;\n            mBackgroundHandler = null;\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    private void configureCamera() {\n        // prepare list of surfaces to be used in capture requests\n        List&lt;Surface&gt; sfl = new ArrayList&lt;Surface&gt;();\n\n        sfl.add(mCameraSurface); // surface for viewfinder preview\n\n        // configure camera with all the surfaces to be ever used\n        try {\n            mCameraDevice.createCaptureSession(sfl,\n                    new CaptureSessionListener(), mBackgroundHandler);\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        }\n\n        mIsCameraConfigured = true;\n    }\n\n\n\n\n    private static class ImageSaver implements Runnable {\n\n\n        private final Image mImage;\n\n        private final File mFile;\n\n        ImageSaver(Image image, File file) {\n            mImage = image;\n            mFile = file;\n        }\n\n        @Override\n        public void run() {\n            ByteBuffer buffer = mImage.getPlanes()[0].getBuffer();\n            byte[] bytes = new byte[buffer.remaining()];\n            buffer.get(bytes);\n            FileOutputStream output = null;\n            try {\n                Log.i(\"File path\", mFile.getAbsolutePath());\n                output = new FileOutputStream(mFile);\n                output.write(bytes);\n            } catch (IOException e) {\n                e.printStackTrace();\n            } finally {\n                mImage.close();\n                if (null != output) {\n                    try {\n                        output.close();\n                    } catch (IOException e) {\n                        e.printStackTrace();\n                    }\n                }\n            }\n        }\n    }\n\n    private void setUpCameraOutputs(int width, int height) {\n        Activity activity = getActivity();\n        CameraManager manager = (CameraManager) activity.getSystemService(Context.CAMERA_SERVICE);\n        try {\n            for (String cameraId : manager.getCameraIdList()) {\n                CameraCharacteristics characteristics\n                        = manager.getCameraCharacteristics(cameraId);\n\n                // We don't use a front facing camera in this sample.\n                Integer facing = characteristics.get(CameraCharacteristics.LENS_FACING);\n                if (facing != null &amp;&amp; facing == CameraCharacteristics.LENS_FACING_FRONT) {\n                    continue;\n                }\n\n                StreamConfigurationMap map = characteristics.get(\n                        CameraCharacteristics.SCALER_STREAM_CONFIGURATION_MAP);\n                if (map == null) {\n                    continue;\n                }\n\n                // For still image captures, we use the largest available size.\n                Size largest = Collections.max(\n                        Arrays.asList(map.getOutputSizes(ImageFormat.JPEG)),\n                        new CompareSizesByArea());\n                mImageReader = ImageReader.newInstance(largest.getWidth(), largest.getHeight(),\n                        ImageFormat.JPEG, /*maxImages*/2);\n                mImageReader.setOnImageAvailableListener(onImageAvailableListener, mBackgroundHandler);\n\n\n                // Find out if we need to swap dimension to get the preview size relative to sensor\n                // coordinate.\n                int displayRotation = activity.getWindowManager().getDefaultDisplay().getRotation();\n                //noinspection ConstantConditions\n                mSensorOrientation = characteristics.get(CameraCharacteristics.SENSOR_ORIENTATION);\n                boolean swappedDimensions = false;\n                switch (displayRotation) {\n                    case Surface.ROTATION_0:\n                    case Surface.ROTATION_180:\n                        if (mSensorOrientation == 90 || mSensorOrientation == 270) {\n                            swappedDimensions = true;\n                        }\n                        break;\n                    case Surface.ROTATION_90:\n                    case Surface.ROTATION_270:\n                        if (mSensorOrientation == 0 || mSensorOrientation == 180) {\n                            swappedDimensions = true;\n                        }\n                        break;\n                    default:\n                        Log.e(TAG, \"Display rotation is invalid: \" + displayRotation);\n                }\n\n                Point displaySize = new Point();\n                activity.getWindowManager().getDefaultDisplay().getSize(displaySize);\n                int rotatedPreviewWidth = width;\n                int rotatedPreviewHeight = height;\n                int maxPreviewWidth = displaySize.x;\n                int maxPreviewHeight = displaySize.y;\n\n                if (swappedDimensions) {\n                    rotatedPreviewWidth = height;\n                    rotatedPreviewHeight = width;\n                    maxPreviewWidth = displaySize.y;\n                    maxPreviewHeight = displaySize.x;\n                }\n\n                if (maxPreviewWidth &gt; MAX_PREVIEW_WIDTH) {\n                    maxPreviewWidth = MAX_PREVIEW_WIDTH;\n                }\n\n                if (maxPreviewHeight &gt; MAX_PREVIEW_HEIGHT) {\n                    maxPreviewHeight = MAX_PREVIEW_HEIGHT;\n                }\n\n\n\n                // Check if the flash is supported.\n                Boolean available = characteristics.get(CameraCharacteristics.FLASH_INFO_AVAILABLE);\n                mFlashSupported = available == null ? false : available;\n\n                mCameraId = cameraId;\n                return;\n            }\n        } catch (CameraAccessException e) {\n            e.printStackTrace();\n        } catch (NullPointerException e) {\n\n        }\n    }\n\n    /**\n     * Compares two {@code Size}s based on their areas.\n     */\n    static class CompareSizesByArea implements Comparator&lt;Size&gt; {\n\n        @Override\n        public int compare(Size lhs, Size rhs) {\n            // We cast here to ensure the multiplications won't overflow\n            return Long.signum((long) lhs.getWidth() * lhs.getHeight() -\n                    (long) rhs.getWidth() * rhs.getHeight());\n        }\n\n    }\n\n\n\n    private class CaptureSessionListener extends\n            CameraCaptureSession.StateCallback {\n\n\n\n        @Override\n        public void onConfigureFailed(final CameraCaptureSession session) {\n            Log.d(TAG, \"CaptureSessionConfigure failed\");\n        }\n\n        @Override\n        public void onReady(@NonNull CameraCaptureSession session) {\n            super.onReady(session);\n\n        }\n\n        @Override\n        public void onConfigured(final CameraCaptureSession session) {\n            Log.d(TAG, \"CaptureSessionConfigure onConfigured\");\n            mCaptureSession = session;\n\n            try {\n                mPreviewRequestBuilder = mCameraDevice\n                        .createCaptureRequest(CameraDevice.TEMPLATE_PREVIEW);\n                mPreviewRequestBuilder.addTarget(mCameraSurface);\n                mCaptureSession.setRepeatingRequest(mPreviewRequestBuilder.build(),\n                        null, null);\n            } catch (CameraAccessException e) {\n                Log.d(TAG, \"setting up preview failed\");\n                e.printStackTrace();\n            }\n        }\n    }\n\n    private CameraCaptureSession.CaptureCallback mCaptureCallback\n            = new CameraCaptureSession.CaptureCallback() {\n        private void process(CaptureResult result) {\n            switch (mState) {\n                case STATE_PREVIEW: {\n                    // We have nothing to do when the camera preview is working normally.\n                    break;\n                }\n                case STATE_WAITING_LOCK: {\n                    Integer afState = result.get(CaptureResult.CONTROL_AF_STATE);\n                    if (afState == null) {\n                        captureStillPicture();\n                    } else if (CaptureResult.CONTROL_AF_STATE_FOCUSED_LOCKED == afState ||\n                            CaptureResult.CONTROL_AF_STATE_NOT_FOCUSED_LOCKED == afState) {\n                        // CONTROL_AE_STATE can be null on some devices\n                        Integer aeState = result.get(CaptureResult.CONTROL_AE_STATE);\n                        if (aeState == null ||\n                                aeState == CaptureResult.CONTROL_AE_STATE_CONVERGED) {\n                            mState = STATE_PICTURE_TAKEN;\n                            captureStillPicture();\n                        } else {\n                            //runPrecaptureSequence();\n                        }\n                    }\n                    break;\n                }\n                case STATE_WAITING_PRECAPTURE: {\n                    // CONTROL_AE_STATE can be null on some devices\n                    Integer aeState = result.get(CaptureResult.CONTROL_AE_STATE);\n                    if (aeState == null ||\n                            aeState == CaptureResult.CONTROL_AE_STATE_PRECAPTURE ||\n                            aeState == CaptureRequest.CONTROL_AE_STATE_FLASH_REQUIRED) {\n                        mState = STATE_WAITING_NON_PRECAPTURE;\n                    }\n                    break;\n                }\n                case STATE_WAITING_NON_PRECAPTURE: {\n                    // CONTROL_AE_STATE can be null on some devices\n                    Integer aeState = result.get(CaptureResult.CONTROL_AE_STATE);\n                    if (aeState == null || aeState != CaptureResult.CONTROL_AE_STATE_PRECAPTURE) {\n                        mState = STATE_PICTURE_TAKEN;\n                        captureStillPicture();\n                    }\n                    break;\n                }\n            }\n    };\n\n\n\n        @Override\n        public void onCaptureProgressed(@NonNull CameraCaptureSession session,\n                                        @NonNull CaptureRequest request,\n                                        @NonNull CaptureResult partialResult) {\n            process(partialResult);\n        }\n\n        @Override\n        public void onCaptureCompleted(@NonNull CameraCaptureSession session, @NonNull CaptureRequest request, @NonNull TotalCaptureResult result) {\n\n            Log.i(\"Capture Completed\", \"true\");\n            process(result);\n\n        }\n    };\n}\n</code></pre>\n"},{"tags":["java","excel","vba","encoding","rpa"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1635935839,"post_id":69820108,"comment_id":123422770,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."},{"owner":{"account_id":2276430,"reputation":432,"user_id":2002558,"display_name":"dra_red"},"score":0,"creation_date":1635941439,"post_id":69820108,"comment_id":123424848,"body_markdown":"Use the &#39;record macro&#39; function. If it does not tell you exactly what object to use, hit F2 to view the object model or google the object to get all the information you need.","body":"Use the &#39;record macro&#39; function. If it does not tell you exactly what object to use, hit F2 to view the object model or google the object to get all the information you need."}],"owner":{"account_id":23224056,"reputation":1,"user_id":17315816,"display_name":"tests tets"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635918945,"creation_date":1635917906,"question_id":69820108,"body_markdown":" I am newbie with VBA and need to learn how to change automatically the selected values on a Slicer.Here in my excel having mulitple sheets and i need to select specific slicer value in the excel.\r\n\r\n in my excel sheet1,sheet2 2 sheets are there in sheet2 having slicer name: slicer_bot1 is having fields gender .how to select particular value in slicer.\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/H9muq.png","title":"how to select slicer value in excel","body":"<p>I am newbie with VBA and need to learn how to change automatically the selected values on a Slicer.Here in my excel having mulitple sheets and i need to select specific slicer value in the excel.</p>\n<p>in my excel sheet1,sheet2 2 sheets are there in sheet2 having slicer name: slicer_bot1 is having fields gender .how to select particular value in slicer.</p>\n<p><a href=\"https://i.stack.imgur.com/H9muq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/H9muq.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","azure","azure-active-directory","microsoft-graph-api","azure-java-sdk"],"answers":[{"tags":[],"owner":{"account_id":21649083,"reputation":7694,"user_id":15969981,"display_name":"SwethaKandikonda"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635918792,"creation_date":1635918792,"answer_id":69820218,"question_id":69806282,"body_markdown":"When your application uses authorization codes to obtain tokens, this behavior is to be expected.\r\n\r\nIn this situation, refresh tokens can be used to obtain extra tokens for other resources. \r\n- Refresh tokens can be used several times across multiple resources, whereas authorization codes can only be used once. \r\n- When Credential uses a refresh token, it also updates the access token when the access token expires.\r\n\r\nYou can receive a new access token using a refresh token by using the Google OAuth2 client library.\r\n \r\n For more information on this, you can refer [OAuth 2.0 and the Google OAuth Client Library for Java](https://developers.google.com/api-client-library/java/google-oauth-java-client/oauth2)\r\n\r\n**REFERENCES:**\r\n1. [OAuth2 Authorization code was already redeemed - Microsoft Q&amp;A](https://learn.microsoft.com/en-us/answers/questions/311300/oauth2-authorization-code-was-already-redeemed.html)\r\n2. [How to get an access token using a refresh token in Java? - Stack Overflow](https://stackoverflow.com/questions/50903787/how-to-get-an-access-token-using-a-refresh-token-in-java)\r\n\r\n","title":"OAuth2 Authorization code was already redeemed, please retry with a new valid code or use an existing refresh token","body":"<p>When your application uses authorization codes to obtain tokens, this behavior is to be expected.</p>\n<p>In this situation, refresh tokens can be used to obtain extra tokens for other resources.</p>\n<ul>\n<li>Refresh tokens can be used several times across multiple resources, whereas authorization codes can only be used once.</li>\n<li>When Credential uses a refresh token, it also updates the access token when the access token expires.</li>\n</ul>\n<p>You can receive a new access token using a refresh token by using the Google OAuth2 client library.</p>\n<p>For more information on this, you can refer <a href=\"https://developers.google.com/api-client-library/java/google-oauth-java-client/oauth2\" rel=\"nofollow noreferrer\">OAuth 2.0 and the Google OAuth Client Library for Java</a></p>\n<p><strong>REFERENCES:</strong></p>\n<ol>\n<li><a href=\"https://learn.microsoft.com/en-us/answers/questions/311300/oauth2-authorization-code-was-already-redeemed.html\" rel=\"nofollow noreferrer\">OAuth2 Authorization code was already redeemed - Microsoft Q&amp;A</a></li>\n<li><a href=\"https://stackoverflow.com/questions/50903787/how-to-get-an-access-token-using-a-refresh-token-in-java\">How to get an access token using a refresh token in Java? - Stack Overflow</a></li>\n</ol>\n"}],"owner":{"account_id":22040900,"reputation":11,"user_id":16306696,"display_name":"Mahesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4909,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635918792,"creation_date":1635835174,"question_id":69806282,"body_markdown":"Why I am not able to call graphClient more then once?\r\n\r\nCode:\r\n\r\n    public static void initializeGraphAuth(String authorizationCode) {\r\n        \t\t\r\n        \t\tList&lt;String&gt; scopes = new ArrayList&lt;&gt;();\r\n        \t\tscopes.add(&quot;https://graph.microsoft.com/mail.read&quot;);\t\r\n        \t\t// Create the auth provider\r\n        \t\tfinal AuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder().clientId(AzureConstants.CLIENT_ID).clientSecret(AzureConstants.CLIENT_SECRET).authorizationCode(authorizationCode)\t\t.redirectUrl(AzureConstants.REDIRECT_URI).build();\r\n        \t\t\r\n        \t\tauthProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);\r\n        \r\n        \t\t// Create default logger to only log errors\r\n        \t\tDefaultLogger logger = new DefaultLogger();\r\n        \t\tlogger.setLoggingLevel(LoggerLevel.ERROR);\r\n        \r\n        \t\t// Build a Graph client\r\n        \t\tgraphClient = GraphServiceClient.builder().authenticationProvider(authProvider).logger(logger).buildClient();\r\n        \t}\r\n        \tpublic static User getUserDetails() {\r\n        \t\treturn graphClient.me().buildRequest().get();\r\n        \t}\r\n        \r\n        \tpublic static List&lt;Group&gt; getUserGroups() {\r\n        \t\tGroupCollectionPage groups = graphClient.me().transitiveMemberOfAsGroup().buildRequest().get();\r\n        \t\treturn groups.getCurrentPage();\r\n        \t}\r\n\r\nIn main app I am calling getUserDetails() and getUserGroups() methods to get users details and group details respectively. Able to get User details but not group details below is the error\r\n\r\n    com.microsoft.aad.msal4j.MsalInteractionRequiredException: AADSTS54005: OAuth2 Authorization code was already redeemed, please retry with a new valid code or use an existing refresh token.\r\n    Trace ID: 48d1fee1-cb8b-48c6-a7ec-91e2b2057500\r\n    Correlation ID: c58388ec-417c-4398-82ee-68910568f4df\r\n\r\n\r\nIf i call only one method either getUserDetails or getUserGroups its is working fine, but when i call both methods in code it is giving error\r\n\r\nHow can i use graphClient object to get user and group details both??\r\n\r\nThanks for your help\r\n","title":"OAuth2 Authorization code was already redeemed, please retry with a new valid code or use an existing refresh token","body":"<p>Why I am not able to call graphClient more then once?</p>\n<p>Code:</p>\n<pre><code>public static void initializeGraphAuth(String authorizationCode) {\n            \n            List&lt;String&gt; scopes = new ArrayList&lt;&gt;();\n            scopes.add(&quot;https://graph.microsoft.com/mail.read&quot;);    \n            // Create the auth provider\n            final AuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder().clientId(AzureConstants.CLIENT_ID).clientSecret(AzureConstants.CLIENT_SECRET).authorizationCode(authorizationCode)      .redirectUrl(AzureConstants.REDIRECT_URI).build();\n            \n            authProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);\n    \n            // Create default logger to only log errors\n            DefaultLogger logger = new DefaultLogger();\n            logger.setLoggingLevel(LoggerLevel.ERROR);\n    \n            // Build a Graph client\n            graphClient = GraphServiceClient.builder().authenticationProvider(authProvider).logger(logger).buildClient();\n        }\n        public static User getUserDetails() {\n            return graphClient.me().buildRequest().get();\n        }\n    \n        public static List&lt;Group&gt; getUserGroups() {\n            GroupCollectionPage groups = graphClient.me().transitiveMemberOfAsGroup().buildRequest().get();\n            return groups.getCurrentPage();\n        }\n</code></pre>\n<p>In main app I am calling getUserDetails() and getUserGroups() methods to get users details and group details respectively. Able to get User details but not group details below is the error</p>\n<pre><code>com.microsoft.aad.msal4j.MsalInteractionRequiredException: AADSTS54005: OAuth2 Authorization code was already redeemed, please retry with a new valid code or use an existing refresh token.\nTrace ID: 48d1fee1-cb8b-48c6-a7ec-91e2b2057500\nCorrelation ID: c58388ec-417c-4398-82ee-68910568f4df\n</code></pre>\n<p>If i call only one method either getUserDetails or getUserGroups its is working fine, but when i call both methods in code it is giving error</p>\n<p>How can i use graphClient object to get user and group details both??</p>\n<p>Thanks for your help</p>\n"},{"tags":["java","jetty","soapui","embedded-jetty","tls1.2"],"answers":[{"tags":[],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1485444772,"creation_date":1485444772,"answer_id":41877050,"question_id":41876449,"body_markdown":"Found the missing link...\r\n\r\nI added the following:\r\n\r\n\t    sslContextFactory.setExcludeCipherSuites(&quot;SSL_RSA_WITH_DES_CBC_SHA&quot;,\r\n\t                &quot;SSL_DHE_RSA_WITH_DES_CBC_SHA&quot;, \r\n\t                &quot;SSL_DHE_DSS_WITH_DES_CBC_SHA&quot;,\r\n\t                &quot;SSL_RSA_EXPORT_WITH_RC4_40_MD5&quot;,\r\n\t                &quot;SSL_RSA_EXPORT_WITH_DES40_CBC_SHA&quot;,\r\n\t                &quot;SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA&quot;,\r\n\t    \t\t   &quot;SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA&quot;);\r\n\r\nand the exception disappeared!","title":"Jetty to support TLS 1.2 requests from SoapUI","body":"<p>Found the missing link...</p>\n\n<p>I added the following:</p>\n\n<pre><code>    sslContextFactory.setExcludeCipherSuites(\"SSL_RSA_WITH_DES_CBC_SHA\",\n                \"SSL_DHE_RSA_WITH_DES_CBC_SHA\", \n                \"SSL_DHE_DSS_WITH_DES_CBC_SHA\",\n                \"SSL_RSA_EXPORT_WITH_RC4_40_MD5\",\n                \"SSL_RSA_EXPORT_WITH_DES40_CBC_SHA\",\n                \"SSL_DHE_RSA_EXPORT_WITH_DES40_CBC_SHA\",\n               \"SSL_DHE_DSS_EXPORT_WITH_DES40_CBC_SHA\");\n</code></pre>\n\n<p>and the exception disappeared!</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635918285,"creation_date":1485443056,"question_id":41876449,"body_markdown":"I am struggling to build an embedded Jetty server which will accept TLSv1.2 requests.\r\n\r\nThis is the Java code:\r\n\r\n    private void launchHttpsListener() {\r\n\r\n\tServer server = new Server(new InetSocketAddress(m_sAddress, m_nPort));\r\n\r\n\tSslContextFactory sslContextFactory = new SslContextFactory();\r\n\tsslContextFactory.setKeyStorePath(&quot;./keystore.jks&quot;);\r\n\tsslContextFactory.setKeyStorePassword(&quot;Aa123456&quot;);\r\n\tsslContextFactory.setKeyManagerPassword(&quot;Aa123456&quot;);\r\n\t//sslContextFactory.setProtocol(&quot;TLSv1.2&quot;);\r\n\t//sslContextFactory.setIncludeProtocols(&quot;TLSv1.2&quot;);\r\n\t\r\n    // Setup HTTP Configuration\r\n    HttpConfiguration httpConf = new HttpConfiguration();\r\n    httpConf.setSecurePort(m_nPort);\r\n    httpConf.setSecureScheme(&quot;https&quot;);\r\n    httpConf.addCustomizer(new SecureRequestCustomizer());\r\n\r\n    ContextHandler contextHandler = new ContextHandler();\r\n    contextHandler.setContextPath(&quot;/Service&quot;);\r\n    contextHandler.setHandler(new JettyServiceHandler());\r\n\r\n    ContextHandlerCollection contextHandlers = new ContextHandlerCollection();\r\n    contextHandlers.setHandlers(new Handler[] { contextHandler });\r\n\r\n    ServerConnector serverConnector = new ServerConnector(server,\r\n        new SslConnectionFactory(sslContextFactory,&quot;http/1.1&quot;),\r\n        new HttpConnectionFactory(httpConf));\r\n    \r\n    serverConnector.setPort(m_nPort);\r\n\r\n    server.setConnectors(new Connector[]  { serverConnector });\r\n    server.setHandler(contextHandlers);\r\n\r\n\ttry {\r\n\t\tserver.start();\r\n\t\t\r\n\t\tLog4jWrapper.writeLog(LogLevelEnum.INFO, &quot;[-----------------] &lt;JettyServiceListener&gt; launchHttpsListener&quot;,\r\n\t\t\t\t&quot;HTTPS Listener on &quot; + m_sAddress + &quot;:&quot; + m_nPort);\r\n\t\t\r\n\t\tserver.join();\r\n\t} catch (InterruptedException e) {\r\n\r\n\t\tLog4jWrapper.writeLog(LogLevelEnum.ERROR, &quot;[-----------------] &lt;JettyServiceListener&gt; launchHttpsListener&quot;,\r\n\t\t\t\te.getMessage());\r\n\t} catch (Exception e) {\r\n\r\n\t\tLog4jWrapper.writeLog(LogLevelEnum.ERROR, &quot;[-----------------] &lt;JettyServiceListener&gt; launchHttpsListener&quot;,\r\n\t\t\t\te.getMessage());\r\n\t}\r\n}\r\n\r\nm_nPort = 9520\r\n\r\nAnd this is the handler:\r\n\r\n    public class JettyServiceHandler extends AbstractHandler {\r\n    \r\n    \t@Override\r\n    \tpublic void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response)\r\n    \t\t\tthrows IOException, ServletException {\r\n    \r\n    \t\tLog4jWrapper.writeLog(LogLevelEnum.DEBUG, &quot;[-----------------] &lt;JettyServiceHandler&gt; handle&quot;, &quot;Received a notification...&quot;);\r\n    \t\t\r\n    \t\tString requestStr = convertStreamToString(baseRequest.getReader());\r\n    \r\n    \t\tLog4jWrapper.writeLog(LogLevelEnum.DEBUG, &quot;[-----------------] &lt;JettyServiceHandler&gt; handle&quot;, &quot;requestStr = &quot; + requestStr);\r\n    \r\n                   \r\n    \t\tresponse.setContentType(&quot;text/html;charset=utf-8&quot;);\r\n            response.setStatus(HttpServletResponse.SC_OK);\r\n            baseRequest.setHandled(true);\r\n            response.getWriter().println(&quot;1.2.1&quot;);\r\n           \r\n    \t}\r\n    \t\r\n    \tstatic String convertStreamToString(BufferedReader bufferedReader) {\r\n    \t\tStream&lt;String&gt; lines = bufferedReader.lines();\r\n    \t\treturn lines.collect(Collectors.joining(&quot;\\n&quot;));\r\n    \t}\r\n    }\r\n\r\n\r\nFrom SoapUI I am sending a very simple request to some https address 135.136.137.138:9520\r\n\r\nCurrently I get the following error:\r\n\r\n&gt; ERROR:javax.net.ssl.SSLHandshakeException: Received fatal alert:\r\n&gt; handshake_failure\r\n\r\nThe handler of course is not reached.\r\n\r\nThe keystore is self signed.\r\n\r\nI have added the following to SoapUI-5.3.0.vmoptions:\r\n\r\n    -Dsoapui.https.protocols=TLSv1.2\r\n\r\nWhere do I go wrong?","title":"Jetty to support TLS 1.2 requests from SoapUI","body":"<p>I am struggling to build an embedded Jetty server which will accept TLSv1.2 requests.</p>\n<p>This is the Java code:</p>\n<pre><code>private void launchHttpsListener() {\n\nServer server = new Server(new InetSocketAddress(m_sAddress, m_nPort));\n\nSslContextFactory sslContextFactory = new SslContextFactory();\nsslContextFactory.setKeyStorePath(&quot;./keystore.jks&quot;);\nsslContextFactory.setKeyStorePassword(&quot;Aa123456&quot;);\nsslContextFactory.setKeyManagerPassword(&quot;Aa123456&quot;);\n//sslContextFactory.setProtocol(&quot;TLSv1.2&quot;);\n//sslContextFactory.setIncludeProtocols(&quot;TLSv1.2&quot;);\n\n// Setup HTTP Configuration\nHttpConfiguration httpConf = new HttpConfiguration();\nhttpConf.setSecurePort(m_nPort);\nhttpConf.setSecureScheme(&quot;https&quot;);\nhttpConf.addCustomizer(new SecureRequestCustomizer());\n\nContextHandler contextHandler = new ContextHandler();\ncontextHandler.setContextPath(&quot;/Service&quot;);\ncontextHandler.setHandler(new JettyServiceHandler());\n\nContextHandlerCollection contextHandlers = new ContextHandlerCollection();\ncontextHandlers.setHandlers(new Handler[] { contextHandler });\n\nServerConnector serverConnector = new ServerConnector(server,\n    new SslConnectionFactory(sslContextFactory,&quot;http/1.1&quot;),\n    new HttpConnectionFactory(httpConf));\n\nserverConnector.setPort(m_nPort);\n\nserver.setConnectors(new Connector[]  { serverConnector });\nserver.setHandler(contextHandlers);\n\ntry {\n    server.start();\n    \n    Log4jWrapper.writeLog(LogLevelEnum.INFO, &quot;[-----------------] &lt;JettyServiceListener&gt; launchHttpsListener&quot;,\n            &quot;HTTPS Listener on &quot; + m_sAddress + &quot;:&quot; + m_nPort);\n    \n    server.join();\n} catch (InterruptedException e) {\n\n    Log4jWrapper.writeLog(LogLevelEnum.ERROR, &quot;[-----------------] &lt;JettyServiceListener&gt; launchHttpsListener&quot;,\n            e.getMessage());\n} catch (Exception e) {\n\n    Log4jWrapper.writeLog(LogLevelEnum.ERROR, &quot;[-----------------] &lt;JettyServiceListener&gt; launchHttpsListener&quot;,\n            e.getMessage());\n}\n</code></pre>\n<p>}</p>\n<p>m_nPort = 9520</p>\n<p>And this is the handler:</p>\n<pre><code>public class JettyServiceHandler extends AbstractHandler {\n\n    @Override\n    public void handle(String target, Request baseRequest, HttpServletRequest request, HttpServletResponse response)\n            throws IOException, ServletException {\n\n        Log4jWrapper.writeLog(LogLevelEnum.DEBUG, &quot;[-----------------] &lt;JettyServiceHandler&gt; handle&quot;, &quot;Received a notification...&quot;);\n        \n        String requestStr = convertStreamToString(baseRequest.getReader());\n\n        Log4jWrapper.writeLog(LogLevelEnum.DEBUG, &quot;[-----------------] &lt;JettyServiceHandler&gt; handle&quot;, &quot;requestStr = &quot; + requestStr);\n\n               \n        response.setContentType(&quot;text/html;charset=utf-8&quot;);\n        response.setStatus(HttpServletResponse.SC_OK);\n        baseRequest.setHandled(true);\n        response.getWriter().println(&quot;1.2.1&quot;);\n       \n    }\n    \n    static String convertStreamToString(BufferedReader bufferedReader) {\n        Stream&lt;String&gt; lines = bufferedReader.lines();\n        return lines.collect(Collectors.joining(&quot;\\n&quot;));\n    }\n}\n</code></pre>\n<p>From SoapUI I am sending a very simple request to some https address 135.136.137.138:9520</p>\n<p>Currently I get the following error:</p>\n<blockquote>\n<p>ERROR:javax.net.ssl.SSLHandshakeException: Received fatal alert:\nhandshake_failure</p>\n</blockquote>\n<p>The handler of course is not reached.</p>\n<p>The keystore is self signed.</p>\n<p>I have added the following to SoapUI-5.3.0.vmoptions:</p>\n<pre><code>-Dsoapui.https.protocols=TLSv1.2\n</code></pre>\n<p>Where do I go wrong?</p>\n"},{"tags":["java","spring","spring-cloud","spring-cloud-gateway"],"comments":[{"owner":{"account_id":1368060,"reputation":24601,"user_id":2730527,"display_name":"spencergibb"},"score":0,"creation_date":1635880336,"post_id":69813331,"comment_id":123409501,"body_markdown":"Without more information from you it is impossible to even guess. What versions are you using? Do you have any interesting logs. Have you enabled wiretap settings on gateway to see what is being sent? Are they on the same network?","body":"Without more information from you it is impossible to even guess. What versions are you using? Do you have any interesting logs. Have you enabled wiretap settings on gateway to see what is being sent? Are they on the same network?"},{"owner":{"account_id":62038,"reputation":3072,"user_id":184536,"accept_rate":77,"display_name":"Pokuri"},"score":0,"creation_date":1635918330,"post_id":69813331,"comment_id":123417226,"body_markdown":"@spencergibb updated about version details. As you mentioned I have gone through documentation to figure out enabling wiretap and will check that and revert with any findings. Also Gateway and wrapper service on the same network in different country and platform in the different network on another country","body":"@spencergibb updated about version details. As you mentioned I have gone through documentation to figure out enabling wiretap and will check that and revert with any findings. Also Gateway and wrapper service on the same network in different country and platform in the different network on another country"}],"owner":{"account_id":62038,"reputation":3072,"user_id":184536,"accept_rate":77,"display_name":"Pokuri"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":830,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635918269,"creation_date":1635868442,"question_id":69813331,"body_markdown":"I am using spring could gateway to route to servers based on user accessing api. Few should go through `Wrapper` service - which do some additional work before making all to actual(platform) API and other is the `Platform` service - where actual work will be done\r\n\r\nMy configuration looks following\r\n\r\n    @Bean\r\n    public RouteLocator routes(RouteLocatorBuilder builder, WrapperAPIPredicateFactory pf) {\r\n        return builder.routes()\r\n                .route(&quot;platform&quot;, r -&gt; r.path(&quot;/process/**&quot;).and().predicate(pf.apply(new Config()))\r\n                        .uri(&quot;https://platform.excample.com&quot;))\r\n                .route(&quot;wrapper&quot;, r -&gt; r.path(&quot;/**&quot;)\r\n                        .uri(&quot;https://wrapper.excample.com&quot;))\r\n                .build();\r\n    }\r\n\r\nWith this, I see the calls which are routed to platform url using spring cloud gateway is taking longer than direct call platform api. i.e direct call took 300ms, the same call from spring cloud gateway routing taking 1000ms\r\n\r\nNote: in routing predicate no DB or Network calls\r\n\r\n**Update**\r\nUsing Spring and Spring Cloud Gateway version as per my gradle configuration\r\n\r\n    plugins {\r\n    \tid &#39;org.springframework.boot&#39; version &#39;2.5.4&#39;\r\n    \tid &#39;io.spring.dependency-management&#39; version &#39;1.0.11.RELEASE&#39;\r\n    \tid &#39;java&#39;\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation &#39;org.springframework.cloud:spring-cloud-starter-gateway&#39;\r\n    \ttestImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n    }\r\n    \r\n    dependencyManagement {\r\n    \timports {\r\n    \t\tmavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:2020.0.3&quot;\r\n    \t}\r\n    }","title":"Why spring cloud gateway routing is slow? Anything wrong with my configuration","body":"<p>I am using spring could gateway to route to servers based on user accessing api. Few should go through <code>Wrapper</code> service - which do some additional work before making all to actual(platform) API and other is the <code>Platform</code> service - where actual work will be done</p>\n<p>My configuration looks following</p>\n<pre><code>@Bean\npublic RouteLocator routes(RouteLocatorBuilder builder, WrapperAPIPredicateFactory pf) {\n    return builder.routes()\n            .route(&quot;platform&quot;, r -&gt; r.path(&quot;/process/**&quot;).and().predicate(pf.apply(new Config()))\n                    .uri(&quot;https://platform.excample.com&quot;))\n            .route(&quot;wrapper&quot;, r -&gt; r.path(&quot;/**&quot;)\n                    .uri(&quot;https://wrapper.excample.com&quot;))\n            .build();\n}\n</code></pre>\n<p>With this, I see the calls which are routed to platform url using spring cloud gateway is taking longer than direct call platform api. i.e direct call took 300ms, the same call from spring cloud gateway routing taking 1000ms</p>\n<p>Note: in routing predicate no DB or Network calls</p>\n<p><strong>Update</strong>\nUsing Spring and Spring Cloud Gateway version as per my gradle configuration</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.5.4'\n    id 'io.spring.dependency-management' version '1.0.11.RELEASE'\n    id 'java'\n}\n\ndependencies {\n    implementation 'org.springframework.cloud:spring-cloud-starter-gateway'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n}\n\ndependencyManagement {\n    imports {\n        mavenBom &quot;org.springframework.cloud:spring-cloud-dependencies:2020.0.3&quot;\n    }\n}\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5929686,"reputation":6955,"user_id":4664558,"accept_rate":86,"display_name":"LazerBanana"},"score":0,"creation_date":1488209220,"post_id":42489465,"comment_id":72118458,"body_markdown":"This might be helpful http://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java","body":"This might be helpful <a href=\"http://stackoverflow.com/questions/153724/how-to-round-a-number-to-n-decimal-places-in-java\" title=\"how to round a number to n decimal places in java\">stackoverflow.com/questions/153724/&hellip;</a>"},{"owner":{"account_id":1688935,"reputation":2244,"user_id":1551685,"display_name":"Steve Smith"},"score":1,"creation_date":1488209226,"post_id":42489465,"comment_id":72118464,"body_markdown":"Do you want to reduce the precision for formatting purposes or mathematical purposes?","body":"Do you want to reduce the precision for formatting purposes or mathematical purposes?"},{"owner":{"account_id":1079173,"reputation":42590,"user_id":1076640,"display_name":"yshavit"},"score":2,"creation_date":1488209367,"post_id":42489465,"comment_id":72118575,"body_markdown":"A float can&#39;t express 13.28 exactly, so if you&#39;re trying to round to exactly that value, the simple answer is &quot;you can&#39;t.&quot;","body":"A float can&#39;t express 13.28 exactly, so if you&#39;re trying to round to exactly that value, the simple answer is &quot;you can&#39;t.&quot;"},{"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"score":2,"creation_date":1488209480,"post_id":42489465,"comment_id":72118647,"body_markdown":"All the links above do either not use floats or convert them to Strings... yes, all of them.","body":"All the links above do either not use floats or convert them to Strings... yes, all of them."},{"owner":{"account_id":4728704,"reputation":17022,"user_id":3824919,"display_name":"Tom"},"score":0,"creation_date":1488209519,"post_id":42489465,"comment_id":72118678,"body_markdown":"@john16384 Or you don&#39;t mean &quot;all&quot; or you haven&#39;t read them.","body":"@john16384 Or you don&#39;t mean &quot;all&quot; or you haven&#39;t read them."},{"owner":{"account_id":9482783,"reputation":43049,"user_id":7050130,"display_name":"Mark Adelsberger"},"score":0,"creation_date":1488294995,"post_id":42489465,"comment_id":72162029,"body_markdown":"@dushkin - is what you want a float who&#39;s value is exactly 13.28?  Because the answer you&#39;ve accepted won&#39;t give you one.","body":"@dushkin - is what you want a float who&#39;s value is exactly 13.28?  Because the answer you&#39;ve accepted won&#39;t give you one."}],"answers":[{"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1488209319,"creation_date":1488209319,"answer_id":42489537,"question_id":42489465,"body_markdown":"The standard warnings about doing precision arithmetic with floats applies, but you can do this:\r\n\r\n    float f = 13.2836;\r\n   \r\n    f = Math.floor(f * 100) / 100;\r\n\r\n","title":"Java - How to reduce float number precision?","body":"<p>The standard warnings about doing precision arithmetic with floats applies, but you can do this:</p>\n\n<pre><code>float f = 13.2836;\n\nf = Math.floor(f * 100) / 100;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9482783,"reputation":43049,"user_id":7050130,"display_name":"Mark Adelsberger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1488210589,"creation_date":1488210016,"answer_id":42489783,"question_id":42489465,"body_markdown":"There isn&#39;t *really* a way to do it, with good reason.  While john16384&#39;s answer alludes to this, his answer doesn&#39;t make the problem clear... so probably you&#39;ll try it, it won&#39;t do what you want, and perhaps you still won&#39;t know why...\r\n\r\nThe problem is that while we think in decimal and expect that the decimal point is controlled by a power-of-10 exponent, typical floating point implementations (including Java `float`) use a power-of-2 exponent.  Why does it matter?\r\n\r\nYou know that to represent 1/3 in decimal you&#39;d say 0.3(repeating) - so if you have a limited number of decimal digits, you can&#39;t *really* represent 1/3.  When the exponent is 2 instead of 10, you can&#39;t *really* represent 1/5 either, or a lot of other numbers that you *could* represent exactly in decimal.  \r\n\r\nAs it happens .28 is one of those numbers.  So you could multiply by 100, pass the result to `floor`, and divide by 100, but when this gets converted back to a `float`, the resulting value will be a little different from .28 and so, if you then check its value, you&#39;ll still see more than 2 decimal places.\r\n\r\n**The solution** would be to use something like `BigDecimal` that can exactly represent decimal values of a given precision.","title":"Java - How to reduce float number precision?","body":"<p>There isn't <em>really</em> a way to do it, with good reason.  While john16384's answer alludes to this, his answer doesn't make the problem clear... so probably you'll try it, it won't do what you want, and perhaps you still won't know why...</p>\n\n<p>The problem is that while we think in decimal and expect that the decimal point is controlled by a power-of-10 exponent, typical floating point implementations (including Java <code>float</code>) use a power-of-2 exponent.  Why does it matter?</p>\n\n<p>You know that to represent 1/3 in decimal you'd say 0.3(repeating) - so if you have a limited number of decimal digits, you can't <em>really</em> represent 1/3.  When the exponent is 2 instead of 10, you can't <em>really</em> represent 1/5 either, or a lot of other numbers that you <em>could</em> represent exactly in decimal.  </p>\n\n<p>As it happens .28 is one of those numbers.  So you could multiply by 100, pass the result to <code>floor</code>, and divide by 100, but when this gets converted back to a <code>float</code>, the resulting value will be a little different from .28 and so, if you then check its value, you'll still see more than 2 decimal places.</p>\n\n<p><strong>The solution</strong> would be to use something like <code>BigDecimal</code> that can exactly represent decimal values of a given precision.</p>\n"},{"tags":[],"owner":{"account_id":9791920,"reputation":620,"user_id":7256243,"display_name":"Gijs Den Hollander"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1488212248,"creation_date":1488211788,"answer_id":42490450,"question_id":42489465,"body_markdown":"if you need to save memory in some part of your calculation, And your numbers are smaller than `2^15/100` (range short), you can do the following. \r\nPart of this taken from this post https://stackoverflow.com/a/25201407/7256243.\r\n\r\n    float number = 1.2345667f; \r\n    number= (short)(100*number);\r\n    number=(float)(number/100);\r\n\r\nYou only need to rememeber that the `short`&#39;s are 100 times larger.\r\n ","title":"Java - How to reduce float number precision?","body":"<p>if you need to save memory in some part of your calculation, And your numbers are smaller than <code>2^15/100</code> (range short), you can do the following. \nPart of this taken from this post <a href=\"https://stackoverflow.com/a/25201407/7256243\">https://stackoverflow.com/a/25201407/7256243</a>.</p>\n\n<pre><code>float number = 1.2345667f; \nnumber= (short)(100*number);\nnumber=(float)(number/100);\n</code></pre>\n\n<p>You only need to rememeber that the <code>short</code>'s are 100 times larger.</p>\n"},{"tags":[],"owner":{"account_id":4484365,"reputation":680,"user_id":6034733,"display_name":"MrBrushy"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1488281261,"creation_date":1488281261,"answer_id":42507540,"question_id":42489465,"body_markdown":"Most answers went straight to `how do represent floats more accurately`, which is strange because you&#39;re asking:\r\n\r\n&gt; Can I reduce the precision of a float number\r\n\r\nWhich is the exact opposite. So I&#39;ll try to answer this.\r\n\r\nHowever there are several way to &quot;reduce precision&quot;:\r\n\r\n - Reduce precision to gain performance\r\n - Reduce memory footprint\r\n - Round / floor arbitrarily\r\n - Make the number more &quot;fuzzy&quot;\r\n - Reduce the number of digits after the coma\r\n\r\nI&#39;ll tackle those separately.\r\n\r\n---\r\nReduce precision to gain performance\r\n---\r\nJust to get it out of the way: simply because you&#39;re dropping precision off of your calculations on a float, doesn&#39;t mean it&#39;ll be any faster. Quite the contrary. This answer by @john16384:\r\n\r\n&gt;     f = Math.floor(f * 100) / 100;\r\n\r\nOnly adds up computation time. If you know the number of significant digits from the result is low, don&#39;t bother removing them, just carry *that* information with the number:\r\n\r\n    public class Number WithSignificantDigits {\r\n        private float value;\r\n        private int significantdigits;\r\n        \r\n        (implement basic operations here, but don&#39;t floor/round anywhere)\r\n    }\r\n\r\nIf you&#39;re doing this because you&#39;re worried about performance: stop it now, just use the full precision. If not, read on.\r\n\r\n---\r\nReduce memory footprint\r\n---\r\nTo actually *store* a number with less precision, you need to move away from `float`.\r\n\r\nOne such representation is using an int with a fixed point convention (i.e. the last 2 digits are past the coma).\r\n\r\nIf you&#39;re trying to save on storage space, do this. If not, read on.\r\n\r\n---\r\nRound / floor arbitrarily\r\n---\r\nTo keep using float, but drop its precision, several options exist:\r\n\r\n@john16384 proposed:\r\n\r\n    `f = Math.floor(f * 100) / 100;`\r\n\r\nOr even\r\n    \r\n    f = ((int) (f*100)) / 100.;\r\n\r\nIf the answer is this, your question is a duplicate. If not, read on.\r\n\r\n---\r\nMake the number more &quot;fuzzy&quot;\r\n---\r\nSince you just want to lose precision, but haven&#39;t stated *how much*, you could do with bitwise shifts:\r\n\r\n    float v = 0;\r\n    int bits = Float.floatToIntBits(v);\r\n    bits = bits &gt;&gt; 7; // Precision lost here\r\n    float truncated = Float.intBitsToFloat(bits);\r\n\r\nUse 7 bitshifts to reduce precision to nearest 1/128th (close enough to 1/100)  \r\nUse 10 bitshifts to reduce precision to nearest 1/1024th (close enough  to 1/1000)\r\n\r\nI haven&#39;t tested performance of those, but If your read this, you did not care.\r\n\r\nIf you want to lose precision, and you don&#39;t care about formatting (numbers may stil have a large number of digits after the coma, like 0,9765625 instead of 1), do this. If you care about formatting and want a limited number of digits after the coma, read on.\r\n\r\n---\r\nReduce the number of digits after the coma\r\n---\r\nFor this you can:\r\n\r\n - Follow @Mark Adelsberger&#39;s suggestion of `BigDecimals`, or\r\n - Store as a `String` (*yuk*)\r\n\r\nBecause `float`s or `double`s won&#39;t let you do this in most cases.","title":"Java - How to reduce float number precision?","body":"<p>Most answers went straight to <code>how do represent floats more accurately</code>, which is strange because you're asking:</p>\n\n<blockquote>\n  <p>Can I reduce the precision of a float number</p>\n</blockquote>\n\n<p>Which is the exact opposite. So I'll try to answer this.</p>\n\n<p>However there are several way to \"reduce precision\":</p>\n\n<ul>\n<li>Reduce precision to gain performance</li>\n<li>Reduce memory footprint</li>\n<li>Round / floor arbitrarily</li>\n<li>Make the number more \"fuzzy\"</li>\n<li>Reduce the number of digits after the coma</li>\n</ul>\n\n<p>I'll tackle those separately.</p>\n\n<hr>\n\n<h2>Reduce precision to gain performance</h2>\n\n<p>Just to get it out of the way: simply because you're dropping precision off of your calculations on a float, doesn't mean it'll be any faster. Quite the contrary. This answer by @john16384:</p>\n\n<blockquote>\n<pre><code>f = Math.floor(f * 100) / 100;\n</code></pre>\n</blockquote>\n\n<p>Only adds up computation time. If you know the number of significant digits from the result is low, don't bother removing them, just carry <em>that</em> information with the number:</p>\n\n<pre><code>public class Number WithSignificantDigits {\n    private float value;\n    private int significantdigits;\n\n    (implement basic operations here, but don't floor/round anywhere)\n}\n</code></pre>\n\n<p>If you're doing this because you're worried about performance: stop it now, just use the full precision. If not, read on.</p>\n\n<hr>\n\n<h2>Reduce memory footprint</h2>\n\n<p>To actually <em>store</em> a number with less precision, you need to move away from <code>float</code>.</p>\n\n<p>One such representation is using an int with a fixed point convention (i.e. the last 2 digits are past the coma).</p>\n\n<p>If you're trying to save on storage space, do this. If not, read on.</p>\n\n<hr>\n\n<h2>Round / floor arbitrarily</h2>\n\n<p>To keep using float, but drop its precision, several options exist:</p>\n\n<p>@john16384 proposed:</p>\n\n<pre><code>`f = Math.floor(f * 100) / 100;`\n</code></pre>\n\n<p>Or even</p>\n\n<pre><code>f = ((int) (f*100)) / 100.;\n</code></pre>\n\n<p>If the answer is this, your question is a duplicate. If not, read on.</p>\n\n<hr>\n\n<h2>Make the number more \"fuzzy\"</h2>\n\n<p>Since you just want to lose precision, but haven't stated <em>how much</em>, you could do with bitwise shifts:</p>\n\n<pre><code>float v = 0;\nint bits = Float.floatToIntBits(v);\nbits = bits &gt;&gt; 7; // Precision lost here\nfloat truncated = Float.intBitsToFloat(bits);\n</code></pre>\n\n<p>Use 7 bitshifts to reduce precision to nearest 1/128th (close enough to 1/100)<br>\nUse 10 bitshifts to reduce precision to nearest 1/1024th (close enough  to 1/1000)</p>\n\n<p>I haven't tested performance of those, but If your read this, you did not care.</p>\n\n<p>If you want to lose precision, and you don't care about formatting (numbers may stil have a large number of digits after the coma, like 0,9765625 instead of 1), do this. If you care about formatting and want a limited number of digits after the coma, read on.</p>\n\n<hr>\n\n<h2>Reduce the number of digits after the coma</h2>\n\n<p>For this you can:</p>\n\n<ul>\n<li>Follow @Mark Adelsberger's suggestion of <code>BigDecimals</code>, or</li>\n<li>Store as a <code>String</code> (<em>yuk</em>)</li>\n</ul>\n\n<p>Because <code>float</code>s or <code>double</code>s won't let you do this in most cases.</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7812,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1488281530,"accepted_answer_id":42489537,"answer_count":4,"score":1,"last_activity_date":1635918159,"creation_date":1488209137,"question_id":42489465,"body_markdown":"Can I reduce the precision of a float number?\r\n In all the searching I&#39;ve been doing I saw only how to reduce the precision for printing the number. I do not need to print it.\r\n I want, for example, to convert 13.2836 to 13.28. Without even rounding it.\r\n\r\n Is it possible?\r\n\r\n------\r\n\r\nThe suggested answer from the system is not what I am looking for. It also deals with printing the value and I want to have a float.","title":"Java - How to reduce float number precision?","body":"<p>Can I reduce the precision of a float number?\nIn all the searching I've been doing I saw only how to reduce the precision for printing the number. I do not need to print it.\nI want, for example, to convert 13.2836 to 13.28. Without even rounding it.</p>\n<p>Is it possible?</p>\n<hr />\n<p>The suggested answer from the system is not what I am looking for. It also deals with printing the value and I want to have a float.</p>\n"},{"tags":["java","multithreading","concurrency","java.util.concurrent"],"answers":[{"tags":[],"owner":{"account_id":5962218,"reputation":91,"user_id":4687036,"display_name":"Ilker Ike kucuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1617692259,"creation_date":1617692259,"answer_id":66964015,"question_id":66959295,"body_markdown":"Threads are terminated, when your test method reaches to the end. If you want your threads to run longer, you need to add more sleep time at the end of your test method. \r\n\r\n    @Test\r\n    public void testBlockingQ(){\r\n\r\n        MyBlockingQ q = new MyBlockingQ();\r\n        MyProducer p1 = new MyProducer(q);\r\n        MyConsumer c1 = new MyConsumer(q);\r\n\r\n        new Thread(p1).start();\r\n\r\n        try {\r\n            Thread.sleep(3000);\r\n          } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }        \r\n\r\n        new Thread(c1).start();\r\n\r\n        try {\r\n            Thread.sleep(6000);\r\n          } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n        }  \r\n    }\r\n\r\n","title":"Java Blocking Q test stops executing","body":"<p>Threads are terminated, when your test method reaches to the end. If you want your threads to run longer, you need to add more sleep time at the end of your test method.</p>\n<pre><code>@Test\npublic void testBlockingQ(){\n\n    MyBlockingQ q = new MyBlockingQ();\n    MyProducer p1 = new MyProducer(q);\n    MyConsumer c1 = new MyConsumer(q);\n\n    new Thread(p1).start();\n\n    try {\n        Thread.sleep(3000);\n      } catch (InterruptedException e) {\n        e.printStackTrace();\n    }        \n\n    new Thread(c1).start();\n\n    try {\n        Thread.sleep(6000);\n      } catch (InterruptedException e) {\n        e.printStackTrace();\n    }  \n}\n</code></pre>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":66964015,"answer_count":1,"score":0,"last_activity_date":1635918129,"creation_date":1617654044,"question_id":66959295,"body_markdown":"I have the following test code for learning purposes, in which I am trying to run a producer and a consumer threads running endlessly on a blocking Q.\r\n\r\nFor some reason which I cannot understand, the output is as follows:\r\n\r\n    Produced 3001\r\n    Q puts 3001\r\n    put: Q size = 1\r\n    Produced 3002\r\n    Q puts 3002\r\n    put: Q size = 2\r\n    Q takes 3001\r\n    take: Q size = 1\r\n    Consumed 3001\r\n\r\nThe code is as follows:\r\n\r\n    @Getter @Setter @NoArgsConstructor\r\n    public class MyBlockingQ {\r\n    \r\n        public BlockingQueue&lt;Integer&gt; queue = new ArrayBlockingQueue&lt;&gt;(5);\r\n    \r\n    \r\n        public Integer take() {\r\n            try {\r\n                Integer i = queue.take();\r\n                System.out.println(&quot;Q takes &quot; + i);\r\n                System.out.println(&quot;take: Q size = &quot; + queue.size());\r\n                return i;\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n                return null;\r\n            }\r\n        }\r\n    \r\n        public void put(Integer produce) {\r\n            try {\r\n                System.out.println(&quot;Q puts &quot; + produce);\r\n                queue.put(produce);\r\n                System.out.println(&quot;put: Q size = &quot; + queue.size());\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    \r\n    public class MyProducer implements Runnable {\r\n    \r\n        private final MyBlockingQ queue;\r\n        private Integer i = 3000;\r\n    \r\n        public MyProducer(MyBlockingQ q) {\r\n            queue = q;\r\n        }\r\n    \r\n        public void run() {\r\n          while (true) { \r\n              queue.put(produce()); \r\n              try {\r\n                Thread.sleep(2000);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n          }\r\n        }\r\n    \r\n        Integer produce() {\r\n            i++;\r\n            System.out.println(&quot;Produced &quot; + i);\r\n            return i;\r\n        }\r\n    \r\n    }\r\n    \r\n    public class MyConsumer implements Runnable {\r\n    \r\n      private final MyBlockingQ queue;\r\n    \r\n      public MyConsumer(MyBlockingQ q) {\r\n        queue = q;\r\n      }\r\n    \r\n      public void run() {\r\n        \r\n        while (true) {\r\n    \r\n          consume(queue.take());\r\n          \r\n          try {\r\n            Thread.sleep(2000);\r\n          } catch (InterruptedException e) {\r\n            e.printStackTrace();\r\n          }\r\n    \r\n        }\r\n      }\r\n    \r\n      void consume(Integer x) {\r\n    \r\n        System.out.println(&quot;Consumed &quot; + x);\r\n    \r\n      }\r\n    }\r\n    \r\n        @Test\r\n        public void testBlockingQ(){\r\n    \r\n            MyBlockingQ q = new MyBlockingQ();\r\n            MyProducer p1 = new MyProducer(q);\r\n            MyConsumer c1 = new MyConsumer(q);\r\n    \r\n            new Thread(p1).start();\r\n    \r\n            try {\r\n                Thread.sleep(3000);\r\n              } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }        \r\n    \r\n            new Thread(c1).start();\r\n        }\r\n\r\nI cannot understand why does the code stop executing after the last output line as shown above?\r\nI am working with JavaSE-15 on latest VSCode.","title":"Java Blocking Q test stops executing","body":"<p>I have the following test code for learning purposes, in which I am trying to run a producer and a consumer threads running endlessly on a blocking Q.</p>\n<p>For some reason which I cannot understand, the output is as follows:</p>\n<pre><code>Produced 3001\nQ puts 3001\nput: Q size = 1\nProduced 3002\nQ puts 3002\nput: Q size = 2\nQ takes 3001\ntake: Q size = 1\nConsumed 3001\n</code></pre>\n<p>The code is as follows:</p>\n<pre><code>@Getter @Setter @NoArgsConstructor\npublic class MyBlockingQ {\n\n    public BlockingQueue&lt;Integer&gt; queue = new ArrayBlockingQueue&lt;&gt;(5);\n\n\n    public Integer take() {\n        try {\n            Integer i = queue.take();\n            System.out.println(&quot;Q takes &quot; + i);\n            System.out.println(&quot;take: Q size = &quot; + queue.size());\n            return i;\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n            return null;\n        }\n    }\n\n    public void put(Integer produce) {\n        try {\n            System.out.println(&quot;Q puts &quot; + produce);\n            queue.put(produce);\n            System.out.println(&quot;put: Q size = &quot; + queue.size());\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n}\n\npublic class MyProducer implements Runnable {\n\n    private final MyBlockingQ queue;\n    private Integer i = 3000;\n\n    public MyProducer(MyBlockingQ q) {\n        queue = q;\n    }\n\n    public void run() {\n      while (true) { \n          queue.put(produce()); \n          try {\n            Thread.sleep(2000);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n      }\n    }\n\n    Integer produce() {\n        i++;\n        System.out.println(&quot;Produced &quot; + i);\n        return i;\n    }\n\n}\n\npublic class MyConsumer implements Runnable {\n\n  private final MyBlockingQ queue;\n\n  public MyConsumer(MyBlockingQ q) {\n    queue = q;\n  }\n\n  public void run() {\n    \n    while (true) {\n\n      consume(queue.take());\n      \n      try {\n        Thread.sleep(2000);\n      } catch (InterruptedException e) {\n        e.printStackTrace();\n      }\n\n    }\n  }\n\n  void consume(Integer x) {\n\n    System.out.println(&quot;Consumed &quot; + x);\n\n  }\n}\n\n    @Test\n    public void testBlockingQ(){\n\n        MyBlockingQ q = new MyBlockingQ();\n        MyProducer p1 = new MyProducer(q);\n        MyConsumer c1 = new MyConsumer(q);\n\n        new Thread(p1).start();\n\n        try {\n            Thread.sleep(3000);\n          } catch (InterruptedException e) {\n            e.printStackTrace();\n        }        \n\n        new Thread(c1).start();\n    }\n</code></pre>\n<p>I cannot understand why does the code stop executing after the last output line as shown above?\nI am working with JavaSE-15 on latest VSCode.</p>\n"},{"tags":["java","maven","jenkins"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":1,"creation_date":1627898030,"post_id":68619543,"comment_id":121269787,"body_markdown":"Install a SDK instead of a JRE","body":"Install a SDK instead of a JRE"}],"answers":[{"tags":[],"owner":{"account_id":888714,"reputation":34077,"user_id":927493,"accept_rate":61,"display_name":"J Fabian Meier"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1627898395,"creation_date":1627898395,"answer_id":68619659,"question_id":68619543,"body_markdown":"As Thorbj&#248;rn Ravn Andersen said, you need a JDK instead of a JRE.\r\n\r\nJREs cannot be used to build a Java project, only to run it.","title":"Could not find artifact com.sun:tools:jar:1.8.0 at specified path","body":"<p>As Thorbjørn Ravn Andersen said, you need a JDK instead of a JRE.</p>\n<p>JREs cannot be used to build a Java project, only to run it.</p>\n"},{"tags":[],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1627905228,"creation_date":1627905228,"answer_id":68621139,"question_id":68619543,"body_markdown":"Well, the Jenkins configuration setting was to use the System JDK which was 8.\r\nHowever, I should have set the JDK setting to 15.\r\nOnce I did that, everything worked.","title":"Could not find artifact com.sun:tools:jar:1.8.0 at specified path","body":"<p>Well, the Jenkins configuration setting was to use the System JDK which was 8.\nHowever, I should have set the JDK setting to 15.\nOnce I did that, everything worked.</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5378,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635918105,"creation_date":1627897951,"question_id":68619543,"body_markdown":"When building my Jenkins job I get the following error message:\r\n\r\n&gt; [ERROR] Failed to execute goal on project data-script-tests: Could not\r\n&gt; resolve dependencies for project\r\n&gt; com.arkana:data-script-tests:jar:0.0.2: Could not find artifact\r\n&gt; com.sun:tools:jar:1.8.0 at specified path C:\\Program\r\n&gt; Files\\Java\\jre1.8.0_251/../lib/tools.jar\r\n\r\nI verified that C:\\Program Files\\Java\\jre1.8.0_251/ do exist on build machine.\r\n\r\nHowever, tools.jar is really missing.\r\n\r\nWhat&#39;s the reason? How can I solve this?","title":"Could not find artifact com.sun:tools:jar:1.8.0 at specified path","body":"<p>When building my Jenkins job I get the following error message:</p>\n<blockquote>\n<p>[ERROR] Failed to execute goal on project data-script-tests: Could not\nresolve dependencies for project\ncom.arkana:data-script-tests:jar:0.0.2: Could not find artifact\ncom.sun:tools:jar:1.8.0 at specified path C:\\Program\nFiles\\Java\\jre1.8.0_251/../lib/tools.jar</p>\n</blockquote>\n<p>I verified that C:\\Program Files\\Java\\jre1.8.0_251/ do exist on build machine.</p>\n<p>However, tools.jar is really missing.</p>\n<p>What's the reason? How can I solve this?</p>\n"},{"tags":["java","json","rest-assured"],"comments":[{"owner":{"account_id":5178355,"reputation":3548,"user_id":4144749,"display_name":"Fenio"},"score":0,"creation_date":1563528404,"post_id":57094604,"comment_id":100738439,"body_markdown":"Fields should be `public` not `private` in AdcServerGroupsResponse class","body":"Fields should be <code>public</code> not <code>private</code> in AdcServerGroupsResponse class"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1563529634,"post_id":57094604,"comment_id":100739117,"body_markdown":"Thanks. I&#39;ll check that.","body":"Thanks. I&#39;ll check that."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1563689399,"post_id":57094604,"comment_id":100777725,"body_markdown":"@Fenio Thank you for your tip. Unfortunately it didn&#39;t help. I can also say that I have other POJOs in which the members are private and it still works well.","body":"@Fenio Thank you for your tip. Unfortunately it didn&#39;t help. I can also say that I have other POJOs in which the members are private and it still works well."}],"answers":[{"tags":[],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1563691801,"creation_date":1563691801,"answer_id":57130984,"question_id":57094604,"body_markdown":"It was in the naming mismatches between the json properties names and the class members name. They must be identical. So, for example, instead of `availabilityGroup` in class and `availability_group` in json, the member name must be also `availability_group`.","title":"Rest Assured a bit: Fail to convert a response to an array of objectsRe","body":"<p>It was in the naming mismatches between the json properties names and the class members name. They must be identical. So, for example, instead of <code>availabilityGroup</code> in class and <code>availability_group</code> in json, the member name must be also <code>availability_group</code>.</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635918035,"creation_date":1563453347,"question_id":57094604,"body_markdown":"I have the following POJO class:\r\n\r\n    public class AdcServerGroupsResponse {\r\n\r\n      private Object availabilityGroup;\r\n      private String cloud;\r\n      private Object fqdns;\r\n      private String groupType;\r\n      private String healthCheck;\r\n      private String name;\r\n      private Object scalingGroup;\r\n      private String selectionMetric;\r\n      private List&lt;String&gt; serverAddresses = null;\r\n      private List&lt;Object&gt; serverSubnet = null;\r\n\r\n    //Getters\\Setters\r\n    }\r\n\r\ndescribing the following response json:\r\n    \r\n    [\r\n    \t{\r\n    \t\t&quot;availability_group&quot;: null,\r\n    \t\t&quot;cloud&quot;: &quot;1&quot;,\r\n    \t\t&quot;fqdns&quot;: null,\r\n    \t\t&quot;group_type&quot;: &quot;discrete&quot;,\r\n    \t\t&quot;health_check&quot;: &quot;http&quot;,\r\n    \t\t&quot;name&quot;: &quot;t1app1&quot;,\r\n    \t\t&quot;scaling_group&quot;: null,\r\n    \t\t&quot;selection_metric&quot;: &quot;round_robin&quot;,\r\n    \t\t&quot;server_addresses&quot;: [\r\n    \t\t\t&quot;1.1.1.1&quot;,\r\n    \t\t\t&quot;1.1.1.2&quot;\r\n    \t\t],\r\n    \t\t&quot;server_subnet&quot;: null\r\n    \t}\r\n    ]\r\n\r\nThis is the method where I try to use the response values for verification:\r\n\r\n    public void serverAddressesDoesntContain(String wrong_ip, String username) {\r\n\r\n        response = UserDataMap.SINGLETON.getResponsePerUser(username);\r\n        AdcServerGroupsResponse[] adcServerGroupsResponse = response.as(AdcServerGroupsResponse[].class);\r\n        .\r\n        .\r\n    }\r\n\r\nWhen I evaluate the response object by using \r\n\r\n    response.getBody().asString()\r\n\r\nI am getting the exact json string as above.\r\n\r\nBut after I execute the second command in the method\r\n\r\n    adcServerGroupsResponse = response.as(AdcServerGroupsResponse[].class);\r\n\r\nand evaluate \r\n\r\n    adcServerGroupsResponseList.get(0)\r\n\r\nI get\r\n\r\n\tavailabilityGroup = null\r\n\tcloud = &quot;1&quot;\r\n\tfqdns = null\r\n\tgroupType = null\r\n\thealthCheck = null\r\n\tname = &quot;t1app1&quot;\r\n\tscalingGroup = null\r\n\tselectionMetric = null\r\n\tserverAddresses = null\r\n\tserverSubnet = null\r\n\r\nBTW, \r\n\r\n    response.getBody().as(AdcServerGroupsResponse[].class)\r\n\r\nand\r\n\r\n    List&lt;AdcServerGroupsResponse&gt; adcServerGroupsResponses = response.jsonPath().getList(&quot;&quot;, AdcServerGroupsResponse.class);\r\n\r\ngave me the same result...\r\n\r\nWhy is that?","title":"Rest Assured a bit: Fail to convert a response to an array of objectsRe","body":"<p>I have the following POJO class:</p>\n<pre><code>public class AdcServerGroupsResponse {\n\n  private Object availabilityGroup;\n  private String cloud;\n  private Object fqdns;\n  private String groupType;\n  private String healthCheck;\n  private String name;\n  private Object scalingGroup;\n  private String selectionMetric;\n  private List&lt;String&gt; serverAddresses = null;\n  private List&lt;Object&gt; serverSubnet = null;\n\n//Getters\\Setters\n}\n</code></pre>\n<p>describing the following response json:</p>\n<pre><code>[\n    {\n        &quot;availability_group&quot;: null,\n        &quot;cloud&quot;: &quot;1&quot;,\n        &quot;fqdns&quot;: null,\n        &quot;group_type&quot;: &quot;discrete&quot;,\n        &quot;health_check&quot;: &quot;http&quot;,\n        &quot;name&quot;: &quot;t1app1&quot;,\n        &quot;scaling_group&quot;: null,\n        &quot;selection_metric&quot;: &quot;round_robin&quot;,\n        &quot;server_addresses&quot;: [\n            &quot;1.1.1.1&quot;,\n            &quot;1.1.1.2&quot;\n        ],\n        &quot;server_subnet&quot;: null\n    }\n]\n</code></pre>\n<p>This is the method where I try to use the response values for verification:</p>\n<pre><code>public void serverAddressesDoesntContain(String wrong_ip, String username) {\n\n    response = UserDataMap.SINGLETON.getResponsePerUser(username);\n    AdcServerGroupsResponse[] adcServerGroupsResponse = response.as(AdcServerGroupsResponse[].class);\n    .\n    .\n}\n</code></pre>\n<p>When I evaluate the response object by using</p>\n<pre><code>response.getBody().asString()\n</code></pre>\n<p>I am getting the exact json string as above.</p>\n<p>But after I execute the second command in the method</p>\n<pre><code>adcServerGroupsResponse = response.as(AdcServerGroupsResponse[].class);\n</code></pre>\n<p>and evaluate</p>\n<pre><code>adcServerGroupsResponseList.get(0)\n</code></pre>\n<p>I get</p>\n<pre><code>availabilityGroup = null\ncloud = &quot;1&quot;\nfqdns = null\ngroupType = null\nhealthCheck = null\nname = &quot;t1app1&quot;\nscalingGroup = null\nselectionMetric = null\nserverAddresses = null\nserverSubnet = null\n</code></pre>\n<p>BTW,</p>\n<pre><code>response.getBody().as(AdcServerGroupsResponse[].class)\n</code></pre>\n<p>and</p>\n<pre><code>List&lt;AdcServerGroupsResponse&gt; adcServerGroupsResponses = response.jsonPath().getList(&quot;&quot;, AdcServerGroupsResponse.class);\n</code></pre>\n<p>gave me the same result...</p>\n<p>Why is that?</p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":8347952,"reputation":5186,"user_id":6271180,"display_name":"Benoit"},"score":1,"creation_date":1558509968,"post_id":56251385,"comment_id":99120238,"body_markdown":"Can you add the defintion of the object array ?","body":"Can you add the defintion of the object array ?"},{"owner":{"account_id":5531638,"reputation":14395,"user_id":4391450,"display_name":"AxelH"},"score":1,"creation_date":1558510079,"post_id":56251385,"comment_id":99120304,"body_markdown":"Provide a [mcve] with the objects your are using please. This would probably explain the resutl","body":"Provide a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a> with the objects your are using please. This would probably explain the resutl"},{"owner":{"account_id":7748730,"reputation":1941,"user_id":8027026,"display_name":"Paul Benn"},"score":0,"creation_date":1558510102,"post_id":56251385,"comment_id":99120322,"body_markdown":"Hi, this looks like a custom `toString()` method being used on a class-to-instance map. Could you please make the question a bit clearer by adding the `toString` implementation?","body":"Hi, this looks like a custom <code>toString()</code> method being used on a class-to-instance map. Could you please make the question a bit clearer by adding the <code>toString</code> implementation?"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1558510153,"post_id":56251385,"comment_id":99120353,"body_markdown":"@Benoit added the code","body":"@Benoit added the code"},{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":1,"creation_date":1558510154,"post_id":56251385,"comment_id":99120354,"body_markdown":"It doesn&#39;t look like your array contains `ApplicationConfiguration` instances as direct elements.It contains instances of some other classes.","body":"It doesn&#39;t look like your array contains <code>ApplicationConfiguration</code> instances as direct elements.It contains instances of some other classes."},{"owner":{"account_id":5037493,"reputation":2383,"user_id":4045880,"display_name":"Michal"},"score":1,"creation_date":1558510202,"post_id":56251385,"comment_id":99120397,"body_markdown":"Your Objects[] array does not contain any instanceof `ApplicationConfiguration`. Therefore you become an empty list.","body":"Your Objects[] array does not contain any instanceof <code>ApplicationConfiguration</code>. Therefore you become an empty list."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1558510266,"post_id":56251385,"comment_id":99120437,"body_markdown":"@Michal Your&#39;e right... It contains maps... I&#39;ll check it...","body":"@Michal Your&#39;e right... It contains maps... I&#39;ll check it..."},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1558510272,"post_id":56251385,"comment_id":99120441,"body_markdown":"Just a hint: you array contains something that has `key` and `value`…","body":"Just a hint: you array contains something that has <code>key</code> and <code>value</code>…"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1558511231,"creation_date":1558510318,"answer_id":56251528,"question_id":56251385,"body_markdown":"`objectsArray` contains map entries, and you need to filter the values of those entries.\r\n\r\n    List&lt;ApplicationConfiguration&gt; ApplicationConfigurations = \r\n        Arrays.stream(objectsArray)\r\n              .map(obj -&gt; (Map.Entry&lt;Class, Object&gt;) obj)\r\n              .map(Map.Entry::getValue)\r\n              .filter(item -&gt; item instanceof ApplicationConfiguration)\r\n              .map(item -&gt; (ApplicationConfiguration)item)\r\n              .collect(Collectors.toList());\r\n\r\nOf course, it would be cleaner if you changed\r\n\r\n     Object[] objectsArray = processStore.entrySet().toArray();\r\n\r\nto\r\n\r\n     Map.EntryMap.Entry&lt;Class,Object&gt;[] objectsArray = processStore.entrySet().toArray(new Map.Entry[0]);\r\n\r\nso that you can write:\r\n\r\n    List&lt;ApplicationConfiguration&gt; ApplicationConfigurations = \r\n        Arrays.stream(objectsArray)\r\n              .filter(e -&gt; e.getValue() instanceof ApplicationConfiguration)\r\n              .map(e -&gt; (ApplicationConfiguration) e.getValue())\r\n              .collect(Collectors.toList());","title":"Java(8): How to extract an specific class item from objects array?","body":"<p><code>objectsArray</code> contains map entries, and you need to filter the values of those entries.</p>\n\n<pre><code>List&lt;ApplicationConfiguration&gt; ApplicationConfigurations = \n    Arrays.stream(objectsArray)\n          .map(obj -&gt; (Map.Entry&lt;Class, Object&gt;) obj)\n          .map(Map.Entry::getValue)\n          .filter(item -&gt; item instanceof ApplicationConfiguration)\n          .map(item -&gt; (ApplicationConfiguration)item)\n          .collect(Collectors.toList());\n</code></pre>\n\n<p>Of course, it would be cleaner if you changed</p>\n\n<pre><code> Object[] objectsArray = processStore.entrySet().toArray();\n</code></pre>\n\n<p>to</p>\n\n<pre><code> Map.EntryMap.Entry&lt;Class,Object&gt;[] objectsArray = processStore.entrySet().toArray(new Map.Entry[0]);\n</code></pre>\n\n<p>so that you can write:</p>\n\n<pre><code>List&lt;ApplicationConfiguration&gt; ApplicationConfigurations = \n    Arrays.stream(objectsArray)\n          .filter(e -&gt; e.getValue() instanceof ApplicationConfiguration)\n          .map(e -&gt; (ApplicationConfiguration) e.getValue())\n          .collect(Collectors.toList());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7748730,"reputation":1941,"user_id":8027026,"display_name":"Paul Benn"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1558511079,"creation_date":1558510527,"answer_id":56251593,"question_id":56251385,"body_markdown":"You are trying to find instances of `ApplicationConfiguration` directly, on an array of type `Map.Entry&lt;K,V&gt;[]` produced by [`Map#entrySet()`][1] and a subsequent call to [`Set#toArray()`][2].\r\n\r\nInstead, try this:\r\n\r\n    List&lt;ApplicationConfiguration&gt; boxes = Arrays.stream(objectsArray)\r\n                .map(entry -&gt; ((Map.Entry&lt;Class&lt;?&gt;, Object&gt;) entry))\r\n                .filter(entry -&gt; entry.getKey().isAssignableFrom(ApplicationConfiguration.class))\r\n                .map(Map.Entry::getValue)\r\n                .map(v -&gt; (ApplicationConfiguration) v)\r\n                .collect(Collectors.toList());\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--\r\n  [2]: https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html#toArray()","title":"Java(8): How to extract an specific class item from objects array?","body":"<p>You are trying to find instances of <code>ApplicationConfiguration</code> directly, on an array of type <code>Map.Entry&lt;K,V&gt;[]</code> produced by <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/Map.html#entrySet--\" rel=\"nofollow noreferrer\"><code>Map#entrySet()</code></a> and a subsequent call to <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Set.html#toArray()\" rel=\"nofollow noreferrer\"><code>Set#toArray()</code></a>.</p>\n\n<p>Instead, try this:</p>\n\n<pre><code>List&lt;ApplicationConfiguration&gt; boxes = Arrays.stream(objectsArray)\n            .map(entry -&gt; ((Map.Entry&lt;Class&lt;?&gt;, Object&gt;) entry))\n            .filter(entry -&gt; entry.getKey().isAssignableFrom(ApplicationConfiguration.class))\n            .map(Map.Entry::getValue)\n            .map(v -&gt; (ApplicationConfiguration) v)\n            .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3638,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":56251528,"answer_count":2,"score":4,"last_activity_date":1635918007,"creation_date":1558509798,"question_id":56251385,"body_markdown":"I need to work on an Objects array which has the following value:\r\n\r\n    objectsArray = {Object[3]@10910} \r\n     {Class@10294} &quot;class com.ApplicationConfiguration&quot; -&gt; {ApplicationConfiguration@10958} \r\n    \tkey = {Class@10294} &quot;class com.ApplicationConfiguration&quot;\r\n    \tvalue = {ApplicationConfiguration@10958} \r\n     {Class@10837} &quot;class com.JoongaContextData&quot; -&gt; {JoongaContextData@10960} \r\n    \tkey = {Class@10837} &quot;class com.JoongaContextData&quot;\r\n    \tvalue = {JoongaContextData@10960} \r\n     {Class@10835} &quot;class com.SecurityContext&quot; -&gt; {SecurityContext@10961} \r\n    \tkey = {Class@10835} &quot;class com.SecurityContext&quot;\r\n    \tvalue = {SecurityContext@10961} \r\n\r\nThe code which creates the objects array is:\r\n\r\n    public class ProcessDetails {\r\n        private UUID myId;\r\n        private Date startTime;\r\n        private ResultDetails resultDetails;\r\n        private long timeout;\r\n    \t.\r\n    \t.\r\n    \t.\r\n    }\r\n    \r\n    public interface ProcessStore extends Map&lt;Class, Object&gt; {\r\n        &lt;T&gt; T unmarshalling(Class&lt;T&gt; var1);\r\n    \r\n        &lt;T&gt; void marshalling(T var1);\r\n    \r\n        ProcessDetails getProcessDetails();\r\n    }\r\n    \r\n    Object[] objectsArray = processStore.entrySet().toArray();\r\n\r\n\r\nI need to extract a value from the **ApplicationConfiguration** type item.\r\n\r\n**Note that it is not always the first array item!**\r\n\r\nFor start, I tried to do the following:\r\n\r\n        List&lt;ApplicationConfiguration&gt; ApplicationConfigurations = Arrays.stream(objectsArray)\r\n                .filter(item -&gt; item instanceof ApplicationConfiguration)\r\n                .map(item -&gt; (ApplicationConfiguration)item)\r\n                .collect(Collectors.toList());\r\n\r\nin order to get a list with the specific item.\r\nFor some reason I got an empty list.\r\n\r\nWhy?","title":"Java(8): How to extract an specific class item from objects array?","body":"<p>I need to work on an Objects array which has the following value:</p>\n<pre><code>objectsArray = {Object[3]@10910} \n {Class@10294} &quot;class com.ApplicationConfiguration&quot; -&gt; {ApplicationConfiguration@10958} \n    key = {Class@10294} &quot;class com.ApplicationConfiguration&quot;\n    value = {ApplicationConfiguration@10958} \n {Class@10837} &quot;class com.JoongaContextData&quot; -&gt; {JoongaContextData@10960} \n    key = {Class@10837} &quot;class com.JoongaContextData&quot;\n    value = {JoongaContextData@10960} \n {Class@10835} &quot;class com.SecurityContext&quot; -&gt; {SecurityContext@10961} \n    key = {Class@10835} &quot;class com.SecurityContext&quot;\n    value = {SecurityContext@10961} \n</code></pre>\n<p>The code which creates the objects array is:</p>\n<pre><code>public class ProcessDetails {\n    private UUID myId;\n    private Date startTime;\n    private ResultDetails resultDetails;\n    private long timeout;\n    .\n    .\n    .\n}\n\npublic interface ProcessStore extends Map&lt;Class, Object&gt; {\n    &lt;T&gt; T unmarshalling(Class&lt;T&gt; var1);\n\n    &lt;T&gt; void marshalling(T var1);\n\n    ProcessDetails getProcessDetails();\n}\n\nObject[] objectsArray = processStore.entrySet().toArray();\n</code></pre>\n<p>I need to extract a value from the <strong>ApplicationConfiguration</strong> type item.</p>\n<p><strong>Note that it is not always the first array item!</strong></p>\n<p>For start, I tried to do the following:</p>\n<pre><code>    List&lt;ApplicationConfiguration&gt; ApplicationConfigurations = Arrays.stream(objectsArray)\n            .filter(item -&gt; item instanceof ApplicationConfiguration)\n            .map(item -&gt; (ApplicationConfiguration)item)\n            .collect(Collectors.toList());\n</code></pre>\n<p>in order to get a list with the specific item.\nFor some reason I got an empty list.</p>\n<p>Why?</p>\n"},{"tags":["java","apache-spark","hadoop","pyspark"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":1,"creation_date":1635931938,"post_id":69820114,"comment_id":123421215,"body_markdown":"Can you run &quot;klist&quot; command and verify Kerberos ticket listed?","body":"Can you run &quot;klist&quot; command and verify Kerberos ticket listed?"},{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1635957526,"post_id":69820114,"comment_id":123432347,"body_markdown":"Where would kerberos be coming from if I&#39;m running in isolated env? Do I need to install for something like unit tests?","body":"Where would kerberos be coming from if I&#39;m running in isolated env? Do I need to install for something like unit tests?"},{"owner":{"account_id":320466,"reputation":8954,"user_id":638764,"display_name":"mazaneicha"},"score":0,"creation_date":1635965321,"post_id":69820114,"comment_id":123435305,"body_markdown":"if I were to guess based on a very vaguely stated question, it may come from `core-site.xml` which specifies `hadoop.security.authentication` property to be `kerberos`.","body":"if I were to guess based on a very vaguely stated question, it may come from <code>core-site.xml</code> which specifies <code>hadoop.security.authentication</code> property to be <code>kerberos</code>."},{"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"score":0,"creation_date":1635965444,"post_id":69820114,"comment_id":123435351,"body_markdown":"Is there a recommended default to set this to when running inside of some testing environment like github/gitlab?","body":"Is there a recommended default to set this to when running inside of some testing environment like github/gitlab?"},{"owner":{"account_id":13040647,"reputation":141,"user_id":9840097,"display_name":"Thibauld Croonenborghs"},"score":0,"creation_date":1679591516,"post_id":69820114,"comment_id":133752988,"body_markdown":"Did you ever solve this? I am bumping into the same issue when running in an isolated environment on Jenkins.","body":"Did you ever solve this? I am bumping into the same issue when running in an isolated environment on Jenkins."}],"owner":{"account_id":19340242,"reputation":1122,"user_id":14139968,"display_name":"Ryan"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":735,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1635917972,"creation_date":1635917972,"question_id":69820114,"body_markdown":"I&#39;m getting the following error when running `spark-submit` on Gitlab.\r\n\r\nThis works locally, but not on Gitlab.\r\n\r\n```\r\n21/11/03 05:34:51 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\nException in thread &quot;main&quot; org.apache.hadoop.security.KerberosAuthException: failure to login: javax.security.auth.login.LoginException: java.lang.NullPointerException: invalid null input: name\r\n\tat jdk.security.auth/com.sun.security.auth.UnixPrincipal.&lt;init&gt;(UnixPrincipal.java:67)\r\n```\r\n\r\nWhy would this happen? \r\n\r\n```\r\npipenv run spark-submit --packages org.apache.spark:    spark-avro_2.12:3.2.0 --master local[1] --conf spark.jars.    ivy=/tmp/.ivy main.py\r\n```","title":"Hadoop Kerberos failure on Spark local","body":"<p>I'm getting the following error when running <code>spark-submit</code> on Gitlab.</p>\n<p>This works locally, but not on Gitlab.</p>\n<pre><code>21/11/03 05:34:51 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\nException in thread &quot;main&quot; org.apache.hadoop.security.KerberosAuthException: failure to login: javax.security.auth.login.LoginException: java.lang.NullPointerException: invalid null input: name\n    at jdk.security.auth/com.sun.security.auth.UnixPrincipal.&lt;init&gt;(UnixPrincipal.java:67)\n</code></pre>\n<p>Why would this happen?</p>\n<pre><code>pipenv run spark-submit --packages org.apache.spark:    spark-avro_2.12:3.2.0 --master local[1] --conf spark.jars.    ivy=/tmp/.ivy main.py\n</code></pre>\n"},{"tags":["java","regex"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":2,"creation_date":1475059675,"post_id":39745261,"comment_id":66786960,"body_markdown":"Also - [obligatory link](http://stackoverflow.com/a/1732454/2071828). Don&#39;t do it. Use XPath.","body":"Also - <a href=\"http://stackoverflow.com/a/1732454/2071828\">obligatory link</a>. Don&#39;t do it. Use XPath."}],"answers":[{"tags":[],"owner":{"account_id":444551,"reputation":16041,"user_id":836432,"accept_rate":100,"display_name":"Sina Iravanian"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1475061448,"creation_date":1475060193,"answer_id":39745495,"question_id":39745261,"body_markdown":"Assuming that there will be no such elements nested inside each other, try this:\r\n\r\n    \\&lt;ABC(\\w+)\\&gt;[^\\&lt;]+\\&lt;\\/ABC(\\1)\\&gt;\r\n\r\nExplanation:\r\n\r\n* `\\&lt;ABC(\\w+)\\&gt;` is the opening tag that starts with `ABC` the letters after `ABC` are captured in a group (hence parentheses). We need them later\r\n* `[^\\&lt;]+` is the body of the element which is any character except opening angle bracket\r\n* `&lt;\\/ABC(\\1)\\&gt;` is the closing element that starts with `ABC` and must follow with the exact letters after `ABC` in the opening tag. `\\1` is a reference to the first captured group.\r\n\r\n**Important Note**: XML is not a [regular language](https://en.wikipedia.org/wiki/Regular_language), therefore Regular Expressions are not capable to parse it. E.g., imagine 2 or more such elements nested inside each other. Use an XML parser to parse XML.","title":"Java RegExp: Finding the correct regular expression","body":"<p>Assuming that there will be no such elements nested inside each other, try this:</p>\n\n<pre><code>\\&lt;ABC(\\w+)\\&gt;[^\\&lt;]+\\&lt;\\/ABC(\\1)\\&gt;\n</code></pre>\n\n<p>Explanation:</p>\n\n<ul>\n<li><code>\\&lt;ABC(\\w+)\\&gt;</code> is the opening tag that starts with <code>ABC</code> the letters after <code>ABC</code> are captured in a group (hence parentheses). We need them later</li>\n<li><code>[^\\&lt;]+</code> is the body of the element which is any character except opening angle bracket</li>\n<li><code>&lt;\\/ABC(\\1)\\&gt;</code> is the closing element that starts with <code>ABC</code> and must follow with the exact letters after <code>ABC</code> in the opening tag. <code>\\1</code> is a reference to the first captured group.</li>\n</ul>\n\n<p><strong>Important Note</strong>: XML is not a <a href=\"https://en.wikipedia.org/wiki/Regular_language\" rel=\"nofollow\">regular language</a>, therefore Regular Expressions are not capable to parse it. E.g., imagine 2 or more such elements nested inside each other. Use an XML parser to parse XML.</p>\n"},{"tags":[],"owner":{"account_id":335222,"reputation":10215,"user_id":761132,"accept_rate":70,"display_name":"Mustofa Rizwan"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1635917926,"creation_date":1475060196,"answer_id":39745498,"question_id":39745261,"body_markdown":"\r\n    &lt;ABC_([^&gt;]*)&gt;([^&lt;]*)&lt;\\/ABC_([^&gt;]*)&gt;","title":"Java RegExp: Finding the correct regular expression","body":"<pre><code>&lt;ABC_([^&gt;]*)&gt;([^&lt;]*)&lt;\\/ABC_([^&gt;]*)&gt;\n</code></pre>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":2,"score":-3,"last_activity_date":1635917926,"creation_date":1475059544,"question_id":39745261,"body_markdown":"I am struggling with finding the correct regular expression for extracting the strings according to the following criteria:\r\n\r\n I have an xml fragment with multiple tags. Each element starts with `&lt;ABC_xxxx&gt;` and ends with `&lt;/ABC_xxxx&gt;`\r\n\r\n The xxxx changes for each element. For example:\r\n\r\n     &lt;ABC_A1S1&gt;1234&lt;/ABC_A1S1&gt;\r\n     &lt;ABC_uw3ey&gt;1234&lt;/ABC_uw3ey&gt;\r\n     &lt;ABC_PD4frfr5&gt;1234&lt;/ABC_PD4frfr5&gt;\r\n\r\n etc...\r\n\r\n The number of x is not fixed!\r\n\r\n I want to extract each element, including the tags themselves.\r\n\r\n How can I do that?","title":"Java RegExp: Finding the correct regular expression","body":"<p>I am struggling with finding the correct regular expression for extracting the strings according to the following criteria:</p>\n<p>I have an xml fragment with multiple tags. Each element starts with <code>&lt;ABC_xxxx&gt;</code> and ends with <code>&lt;/ABC_xxxx&gt;</code></p>\n<p>The xxxx changes for each element. For example:</p>\n<pre><code> &lt;ABC_A1S1&gt;1234&lt;/ABC_A1S1&gt;\n &lt;ABC_uw3ey&gt;1234&lt;/ABC_uw3ey&gt;\n &lt;ABC_PD4frfr5&gt;1234&lt;/ABC_PD4frfr5&gt;\n</code></pre>\n<p>etc...</p>\n<p>The number of x is not fixed!</p>\n<p>I want to extract each element, including the tags themselves.</p>\n<p>How can I do that?</p>\n"},{"tags":["java","regex"],"answers":[{"tags":[],"owner":{"account_id":262968,"reputation":767120,"user_id":548225,"accept_rate":90,"display_name":"anubhava"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1455794349,"creation_date":1455793851,"answer_id":35479786,"question_id":35479760,"body_markdown":"You can use this look-around based regex for your match:\r\n\r\n    (?&lt;!\\d)\\d{2}:\\d{2}(?!\\d)\r\n\r\n[RegEx Demo][1]\r\n\r\nIn Java:\r\n\r\n    Pattern p = Pattern.compile(&quot;(?&lt;!\\\\d)\\\\d{2}:\\\\d{2}(?!\\\\d)&quot;);\r\n\r\n**RegEx Breakup:**\r\n\r\n    (?&lt;!\\d)  # negative lookbehind to assert previous char is not a digit\r\n    \\d{2}    # match exact 2 digits\r\n    :        # match a colon\r\n    \\d{2}    # match exact 2 digits\r\n    (?!\\d)   # negative lookahead to assert next char is not a digit\r\n\r\n  [1]: https://regex101.com/r/mE5bM7/1\r\n\r\n**Full Code:**\r\n\r\n\tPattern p = Pattern.compile(&quot;(?&lt;!\\\\d)\\\\d{2}:\\\\d{2}(?!\\\\d)&quot;);\r\n\tMatcher m = pattern.matcher(inputString);\r\n\r\n\tif (m.find()) {\r\n\t\tSystem.err.println(&quot;Time: &quot; + m.group());\r\n    }\r\n","title":"Java: Extracting a specific REGEXP pattern out of a string","body":"<p>You can use this look-around based regex for your match:</p>\n\n<pre><code>(?&lt;!\\d)\\d{2}:\\d{2}(?!\\d)\n</code></pre>\n\n<p><a href=\"https://regex101.com/r/mE5bM7/1\" rel=\"nofollow\">RegEx Demo</a></p>\n\n<p>In Java:</p>\n\n<pre><code>Pattern p = Pattern.compile(\"(?&lt;!\\\\d)\\\\d{2}:\\\\d{2}(?!\\\\d)\");\n</code></pre>\n\n<p><strong>RegEx Breakup:</strong></p>\n\n<pre><code>(?&lt;!\\d)  # negative lookbehind to assert previous char is not a digit\n\\d{2}    # match exact 2 digits\n:        # match a colon\n\\d{2}    # match exact 2 digits\n(?!\\d)   # negative lookahead to assert next char is not a digit\n</code></pre>\n\n<p><strong>Full Code:</strong></p>\n\n<pre><code>Pattern p = Pattern.compile(\"(?&lt;!\\\\d)\\\\d{2}:\\\\d{2}(?!\\\\d)\");\nMatcher m = pattern.matcher(inputString);\n\nif (m.find()) {\n    System.err.println(\"Time: \" + m.group());\n}\n</code></pre>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":35479786,"answer_count":1,"score":2,"last_activity_date":1635917894,"creation_date":1455793757,"question_id":35479760,"body_markdown":"How is it possible to extract only a time part of the form XX:YY out of a string?\r\n\r\nFor example - from a string like:\r\n\r\n **sdhgjhdgsjdf12:34knvxjkvndf**, I would like to extract only **12:34**.\r\n\r\n( The surrounding chars can be spaces too of course )\r\n\r\nOf course I can find the semicolon and get two chars before and two chars after, but it is bahhhhhh.....","title":"Java: Extracting a specific REGEXP pattern out of a string","body":"<p>How is it possible to extract only a time part of the form XX:YY out of a string?</p>\n<p>For example - from a string like:</p>\n<p><strong>sdhgjhdgsjdf12:34knvxjkvndf</strong>, I would like to extract only <strong>12:34</strong>.</p>\n<p>( The surrounding chars can be spaces too of course )</p>\n<p>Of course I can find the semicolon and get two chars before and two chars after, but it is bahhhhhh.....</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"score":0,"creation_date":1635893632,"post_id":69817719,"comment_id":123413296,"body_markdown":"Do you mean restarts every time (starting from the beginning)?","body":"Do you mean restarts every time (starting from the beginning)?"},{"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"score":0,"creation_date":1635897858,"post_id":69817719,"comment_id":123414077,"body_markdown":"@Zain no, not really restarted. The same sound will be started from the beginning during the old sound is still playing. I want to avoid playing the same sound multiple times at the same time.","body":"@Zain no, not really restarted. The same sound will be started from the beginning during the old sound is still playing. I want to avoid playing the same sound multiple times at the same time."}],"answers":[{"tags":[],"owner":{"account_id":4283273,"reputation":12073,"user_id":3501958,"accept_rate":89,"display_name":"hata"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635915474,"creation_date":1635915474,"answer_id":69819854,"question_id":69817719,"body_markdown":"Perhaps, you should not always create MediaPlayer instance, should create it only when it is null.\r\n\r\n    if (mediaplayer == null) {\r\n        mediaplayer = MediaPlayer.create(_context, R.raw.turbine);\r\n    }\r\n    mediaplayer.start();\r\n\r\nAnd when it is not null, you may switch behavior by `isPlaying`:\r\n\r\n    if (mediaplayer.isPlaying()) {\r\n        mediaplayer.seekTo(0);\r\n    }\r\n    mediaplayer.start();\r\n\r\nSo these two in one may be like:\r\n\r\n    if (mediaplayer == null) {\r\n        mediaplayer = MediaPlayer.create(_context, R.raw.turbine);\r\n    } else if (mediaplayer.isPlaying()) {\r\n        mediaplayer.seekTo(0);\r\n    }\r\n    mediaPlayer.start();\r\n\r\n---\r\n\r\nYour `playSound()` method uses a field variable (scope is class wide) while `customizeSound` method uses local variable (scope is limited in the method block). That is why the latter creates multiple instances.","title":"Sound starts over and over again","body":"<p>Perhaps, you should not always create MediaPlayer instance, should create it only when it is null.</p>\n<pre><code>if (mediaplayer == null) {\n    mediaplayer = MediaPlayer.create(_context, R.raw.turbine);\n}\nmediaplayer.start();\n</code></pre>\n<p>And when it is not null, you may switch behavior by <code>isPlaying</code>:</p>\n<pre><code>if (mediaplayer.isPlaying()) {\n    mediaplayer.seekTo(0);\n}\nmediaplayer.start();\n</code></pre>\n<p>So these two in one may be like:</p>\n<pre><code>if (mediaplayer == null) {\n    mediaplayer = MediaPlayer.create(_context, R.raw.turbine);\n} else if (mediaplayer.isPlaying()) {\n    mediaplayer.seekTo(0);\n}\nmediaPlayer.start();\n</code></pre>\n<hr />\n<p>Your <code>playSound()</code> method uses a field variable (scope is class wide) while <code>customizeSound</code> method uses local variable (scope is limited in the method block). That is why the latter creates multiple instances.</p>\n"},{"tags":[],"owner":{"account_id":13654747,"reputation":38532,"user_id":9851608,"display_name":"Zain"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635917691,"creation_date":1635917691,"answer_id":69820082,"question_id":69817719,"body_markdown":"Try to change the condition to only if the medaplayer is `null`:\r\n```\r\nprivate void customizeSound(MediaPlayer mediaplayer) {\r\n        if (mediaplayer== null) {\r\n            mediaplayer= MediaPlayer.create(_context, R.raw.turbine);\r\n            mediaplayer.start();\r\n        }\r\n}\r\n```\r\n\r\nBut this requires to set it to null when it is over:\r\n\r\n    mMediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\r\n        @Override\r\n        public void onCompletion(MediaPlayer mp) {\r\n            mediaplayer = null;\r\n        }\r\n    });","title":"Sound starts over and over again","body":"<p>Try to change the condition to only if the medaplayer is <code>null</code>:</p>\n<pre><code>private void customizeSound(MediaPlayer mediaplayer) {\n        if (mediaplayer== null) {\n            mediaplayer= MediaPlayer.create(_context, R.raw.turbine);\n            mediaplayer.start();\n        }\n}\n</code></pre>\n<p>But this requires to set it to null when it is over:</p>\n<pre><code>mMediaPlayer.setOnCompletionListener(new MediaPlayer.OnCompletionListener() {\n    @Override\n    public void onCompletion(MediaPlayer mp) {\n        mediaplayer = null;\n    }\n});\n</code></pre>\n"}],"owner":{"account_id":17113839,"reputation":641,"user_id":12383916,"display_name":"xRay"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635917691,"creation_date":1635892790,"question_id":69817719,"body_markdown":"I have a property that is set like this:\r\n\r\n```java\r\nprivate MediaPlayer _standBy = null;\r\n```\r\nNow I would like to use that property in my function `playSound()`.\r\n\r\n```java\r\nprivate void playSound() {\r\n        if (_standBy == null || !_standBy.isPlaying()) {\r\n            _standBy = MediaPlayer.create(_context, R.raw.turbine);\r\n            _standBy.start();\r\n        }\r\n}\r\n```\r\nThat function will be executed whenever I click on a button and the sound should be played only once, no matter how many times I click on that button. Well, that works fine. But since I am repeating that code over and over again but with different properties, I would like to paste that code into another function. That&#39;s how I tried it:\r\n\r\n```java\r\nprivate void customizeSound(MediaPlayer mediaplayer) {\r\n        if (mediaplayer== null || !mediaplayer.isPlaying()) {\r\n            mediaplayer= MediaPlayer.create(_context, R.raw.turbine);\r\n            mediaplayer.start();\r\n        }\r\n}\r\n```\r\nSo now `playSound()` looks like this:\r\n```java\r\nprivate void playSound() {\r\n        customizeSound(_standBy);\r\n}\r\n```\r\n\r\nAnd now when I click on that button, the function customizeSound(_standBy) will be executed but the same sound will be started every time when I click on that button. \r\n\r\nWhat&#39;s wrong with my code?","title":"Sound starts over and over again","body":"<p>I have a property that is set like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private MediaPlayer _standBy = null;\n</code></pre>\n<p>Now I would like to use that property in my function <code>playSound()</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void playSound() {\n        if (_standBy == null || !_standBy.isPlaying()) {\n            _standBy = MediaPlayer.create(_context, R.raw.turbine);\n            _standBy.start();\n        }\n}\n</code></pre>\n<p>That function will be executed whenever I click on a button and the sound should be played only once, no matter how many times I click on that button. Well, that works fine. But since I am repeating that code over and over again but with different properties, I would like to paste that code into another function. That's how I tried it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void customizeSound(MediaPlayer mediaplayer) {\n        if (mediaplayer== null || !mediaplayer.isPlaying()) {\n            mediaplayer= MediaPlayer.create(_context, R.raw.turbine);\n            mediaplayer.start();\n        }\n}\n</code></pre>\n<p>So now <code>playSound()</code> looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private void playSound() {\n        customizeSound(_standBy);\n}\n</code></pre>\n<p>And now when I click on that button, the function customizeSound(_standBy) will be executed but the same sound will be started every time when I click on that button.</p>\n<p>What's wrong with my code?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1561547440,"post_id":56771368,"comment_id":100098248,"body_markdown":"Are you parsing json yourself some were? Is there any code for that?","body":"Are you parsing json yourself some were? Is there any code for that?"},{"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"score":0,"creation_date":1561547557,"post_id":56771368,"comment_id":100098326,"body_markdown":"Note that your property is named `cefMessagesGenerators` while your Json seems to have `CefMessagesGenerators` (starts with a capital C).","body":"Note that your property is named <code>cefMessagesGenerators</code> while your Json seems to have <code>CefMessagesGenerators</code> (starts with a capital C)."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1561547629,"post_id":56771368,"comment_id":100098363,"body_markdown":"Aside from anything else, the `CefMessagesGenerators` class seems to be redundant.","body":"Aside from anything else, the <code>CefMessagesGenerators</code> class seems to be redundant."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1561550684,"post_id":56771368,"comment_id":100100170,"body_markdown":"@Thomas You are right. But the opposite way!!! I changed the json label to start with small letter and left the class name to begin with a capital letter and it worked (don&#39;t understand why...). If you&#39;d like - you can answer the question and I&#39;ll accept it!!","body":"@Thomas You are right. But the opposite way!!! I changed the json label to start with small letter and left the class name to begin with a capital letter and it worked (don&#39;t understand why...). If you&#39;d like - you can answer the question and I&#39;ll accept it!!"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1561550872,"post_id":56771368,"comment_id":100100300,"body_markdown":"@JonSkeet Why Jon? Because there is only one item there? There will be more in the future...","body":"@JonSkeet Why Jon? Because there is only one item there? There will be more in the future..."},{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":0,"creation_date":1561552212,"post_id":56771368,"comment_id":100101155,"body_markdown":"@dushkin: Because it&#39;s not used. You&#39;ve got a `List&lt;CefMessagesGenerator&gt;` which contains the list of generators - you never refer to the `CefMessagesGenerators` class.","body":"@dushkin: Because it&#39;s not used. You&#39;ve got a <code>List&lt;CefMessagesGenerator&gt;</code> which contains the list of generators - you never refer to the <code>CefMessagesGenerators</code> class."}],"answers":[{"tags":[],"owner":{"account_id":319873,"reputation":87612,"user_id":637853,"accept_rate":50,"display_name":"Thomas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1561633833,"creation_date":1561633833,"answer_id":56789752,"question_id":56771368,"body_markdown":"As already described in the comments the main problem would be that your json contains the property name `CefMessagesGenerators` but the class `ControllerLab` contains the property `cefMessagesGenerators` (note the case difference for the first letter). Thus The parser can&#39;t find the property &quot;CefMessagesGenerators&quot;.\r\n\r\nTo solve this there would be a couple of options, depending on which parser you&#39;re using:\r\n\r\n- Rename the json property to &quot;cefMessagesGenerators&quot; (preferred option)\r\n- Define a non-standard propertyname in your Pojo (e.g. via some annotation like Jackson&#39;s `@JsonProperty`)\r\n- Define a custom naming strategy that allows the parser to map `CefMessagesGenerators` to `cefMessagesGenerators`\r\n\r\nNote that the first option would be the preferred one for multiple reasons. One of the more important reasons would be that by doing so you wouldn&#39;t violate the [principle of least astonishment](https://en.wikipedia.org/wiki/Principle_of_least_astonishment) (people would expect the property names to match exactly).\r\n\r\nFinally, to quote your comment:\r\n\r\n&gt;  I changed the json label to start with small letter and left the class name to begin with a capital letter and it worked (don&#39;t understand why...)\r\n\r\nNote that the class `CefMessagesGenerators` is not relevant here since it is not used by `ControllerLab`. Thus the class name doesn&#39;t matter at all.","title":"Java\\JSON: UnrecognizedPropertyException: Unrecognized field &quot;CefMessagesGenerators&quot; error","body":"<p>As already described in the comments the main problem would be that your json contains the property name <code>CefMessagesGenerators</code> but the class <code>ControllerLab</code> contains the property <code>cefMessagesGenerators</code> (note the case difference for the first letter). Thus The parser can't find the property \"CefMessagesGenerators\".</p>\n\n<p>To solve this there would be a couple of options, depending on which parser you're using:</p>\n\n<ul>\n<li>Rename the json property to \"cefMessagesGenerators\" (preferred option)</li>\n<li>Define a non-standard propertyname in your Pojo (e.g. via some annotation like Jackson's <code>@JsonProperty</code>)</li>\n<li>Define a custom naming strategy that allows the parser to map <code>CefMessagesGenerators</code> to <code>cefMessagesGenerators</code></li>\n</ul>\n\n<p>Note that the first option would be the preferred one for multiple reasons. One of the more important reasons would be that by doing so you wouldn't violate the <a href=\"https://en.wikipedia.org/wiki/Principle_of_least_astonishment\" rel=\"nofollow noreferrer\">principle of least astonishment</a> (people would expect the property names to match exactly).</p>\n\n<p>Finally, to quote your comment:</p>\n\n<blockquote>\n  <p>I changed the json label to start with small letter and left the class name to begin with a capital letter and it worked (don't understand why...)</p>\n</blockquote>\n\n<p>Note that the class <code>CefMessagesGenerators</code> is not relevant here since it is not used by <code>ControllerLab</code>. Thus the class name doesn't matter at all.</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":56789752,"answer_count":1,"score":1,"last_activity_date":1635917667,"creation_date":1561547073,"question_id":56771368,"body_markdown":"I have the following Json and corresponding Java classes.\r\n\r\nCould you please check it out and advise why do I get this exception?\r\n\r\nIs it because I added another \r\n\r\n-------------------------\r\n\r\n    public class CefMessagesGenerator {\r\n    \r\n        private String ip;\r\n        private String username;\r\n        private String password;\r\n    \r\n        //getters and setters    \r\n    }\r\n\r\n\r\n    public class CefMessagesGenerators {\r\n    \r\n        private List&lt;CefMessagesGenerator&gt; cefMessagesGeneratorList = null;\r\n    \r\n        public CefMessagesGenerators() {\r\n        }\r\n    \r\n        public CefMessagesGenerators(List&lt;CefMessagesGenerator&gt; cefMessagesGeneratorList) {\r\n            super();\r\n            this.cefMessagesGeneratorList = cefMessagesGeneratorList;\r\n        }\r\n    \r\n        public List&lt;CefMessagesGenerator&gt; getCefMessagesGeneratorList() {\r\n            return cefMessagesGeneratorList;\r\n        }\r\n    \r\n        public void setCefMessagesGeneratorList(List&lt;CefMessagesGenerator&gt; cefMessagesGeneratorList) {\r\n            this.cefMessagesGeneratorList = cefMessagesGeneratorList;\r\n        }\r\n    }\r\n\r\n    public class ControllerLab {\r\n    \r\n        private KubernetesCluster kubernetesCluster;\r\n        private AzureEnvironment azureEnvironment;\r\n        private PortalEnv portalEnv;\r\n        private List&lt;CefMessagesGenerator&gt; cefMessagesGenerators = null;\r\n    \r\n        //getters and setters\r\n\r\n        public List&lt;CefMessagesGenerator&gt; getCefMessagesGenerators() {\r\n            return cefMessagesGenerators;\r\n        }\r\n    \r\n        public void setCefMessagesGenerators(List&lt;CefMessagesGenerator&gt; cefMessagesGenerators) {\r\n            this.cefMessagesGenerators = cefMessagesGenerators;\r\n        }\r\n    }\r\n\r\nand the (partial) json is:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n(Unfortunately I had to add the json image instead as text here because the system claims &quot;I have the following Json and corresponding Java classes.&quot;...)\r\n\r\n  [1]: https://i.stack.imgur.com/nteTV.jpg\r\n","title":"Java\\JSON: UnrecognizedPropertyException: Unrecognized field &quot;CefMessagesGenerators&quot; error","body":"<p>I have the following Json and corresponding Java classes.</p>\n<p>Could you please check it out and advise why do I get this exception?</p>\n<p>Is it because I added another</p>\n<hr />\n<pre><code>public class CefMessagesGenerator {\n\n    private String ip;\n    private String username;\n    private String password;\n\n    //getters and setters    \n}\n\n\npublic class CefMessagesGenerators {\n\n    private List&lt;CefMessagesGenerator&gt; cefMessagesGeneratorList = null;\n\n    public CefMessagesGenerators() {\n    }\n\n    public CefMessagesGenerators(List&lt;CefMessagesGenerator&gt; cefMessagesGeneratorList) {\n        super();\n        this.cefMessagesGeneratorList = cefMessagesGeneratorList;\n    }\n\n    public List&lt;CefMessagesGenerator&gt; getCefMessagesGeneratorList() {\n        return cefMessagesGeneratorList;\n    }\n\n    public void setCefMessagesGeneratorList(List&lt;CefMessagesGenerator&gt; cefMessagesGeneratorList) {\n        this.cefMessagesGeneratorList = cefMessagesGeneratorList;\n    }\n}\n\npublic class ControllerLab {\n\n    private KubernetesCluster kubernetesCluster;\n    private AzureEnvironment azureEnvironment;\n    private PortalEnv portalEnv;\n    private List&lt;CefMessagesGenerator&gt; cefMessagesGenerators = null;\n\n    //getters and setters\n\n    public List&lt;CefMessagesGenerator&gt; getCefMessagesGenerators() {\n        return cefMessagesGenerators;\n    }\n\n    public void setCefMessagesGenerators(List&lt;CefMessagesGenerator&gt; cefMessagesGenerators) {\n        this.cefMessagesGenerators = cefMessagesGenerators;\n    }\n}\n</code></pre>\n<p>and the (partial) json is:</p>\n<p><a href=\"https://i.stack.imgur.com/nteTV.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/nteTV.jpg\" alt=\"enter image description here\" /></a></p>\n<p>(Unfortunately I had to add the json image instead as text here because the system claims &quot;I have the following Json and corresponding Java classes.&quot;...)</p>\n"},{"tags":["java","oauth-2.0","azure-active-directory","microsoft-graph-api"],"answers":[{"tags":[],"owner":{"account_id":22497044,"reputation":2917,"user_id":16693876,"display_name":"RamaraoAdapa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635917643,"creation_date":1635917643,"answer_id":69820076,"question_id":69815549,"body_markdown":"I have tested in my environment.\r\n\r\nWhen I ran the request first, I was able to generate the access token\r\n\r\nWhen I ran the same request again, I also got the same error:\r\n\r\n**OAuth2 Authorization code was already redeemed, please retry with a new valid code or use an existing refresh token**\r\n\r\n \r\n\r\n\r\nThe reason for the error is the authorization code used in the authCodeCredential can be used only once\r\n\r\n    String authorisationCode = code; \r\n\r\n\r\nIf you want to make new request, you can generate the new authorization code (the URL to get the auth code is elsewhere) and use it in the authCodeCredential\r\n\r\nThis could solve the issue\r\n\r\nAnother way is to use Refresh Token.\r\n\r\nWhile generating the authorization code using URL, you can add another scope with **offline_access**\r\n\r\nNow, while generating the access token with the authorization code, add another scope with **offline_access**. \r\nThis will generate a refresh token along with access token.\r\n\r\nNow, you can use the refresh token to generate a new access token when the access token expires\r\n\r\nReference: [Get access on behalf of a user - Microsoft Graph | Microsoft Docs][1]\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/graph/auth-v2-user","title":"Microsoft Graph and Java - Multiple calls against authorization code flow","body":"<p>I have tested in my environment.</p>\n<p>When I ran the request first, I was able to generate the access token</p>\n<p>When I ran the same request again, I also got the same error:</p>\n<p><strong>OAuth2 Authorization code was already redeemed, please retry with a new valid code or use an existing refresh token</strong></p>\n<p>The reason for the error is the authorization code used in the authCodeCredential can be used only once</p>\n<pre><code>String authorisationCode = code; \n</code></pre>\n<p>If you want to make new request, you can generate the new authorization code (the URL to get the auth code is elsewhere) and use it in the authCodeCredential</p>\n<p>This could solve the issue</p>\n<p>Another way is to use Refresh Token.</p>\n<p>While generating the authorization code using URL, you can add another scope with <strong>offline_access</strong></p>\n<p>Now, while generating the access token with the authorization code, add another scope with <strong>offline_access</strong>.\nThis will generate a refresh token along with access token.</p>\n<p>Now, you can use the refresh token to generate a new access token when the access token expires</p>\n<p>Reference: <a href=\"https://learn.microsoft.com/en-us/graph/auth-v2-user\" rel=\"nofollow noreferrer\">Get access on behalf of a user - Microsoft Graph | Microsoft Docs</a></p>\n"}],"owner":{"account_id":9469706,"reputation":1,"user_id":7040882,"display_name":"Ben Lambert"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":989,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635917643,"creation_date":1635878879,"question_id":69815549,"body_markdown":"I&#39;ve been trying to figure this one out for a few hours, and I&#39;m now going in circles and wasting fun RnD time.  I&#39;m playing with the MS Graph API to access Office 365, and I&#39;ve got it set up using the Authorization flow to authorise my Java servlet.  It works fine (the URL to get the auth code is elsewhere) but I can only run one call. I get the following error in the exceptions for subsequent calls (in my code, it is when I try to look at the Drive):\r\n\r\n**OAuth2 Authorization code was already redeemed, please retry with a new valid code or use an existing refresh token.**\r\n\r\nI&#39;m assuming that this means I need to refresh my token (obvious really, and I&#39;ve found notes about this saying that it is now necessary on this flow), but I can&#39;t figure out how to do it using the GraphServiceClient.\r\n\r\nMy code is below, any help would be most welcome at this point before I frisbee my laptop out of the nearest window.\r\n\r\n    protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\r\n    \r\n    \r\n    \t\tPrintWriter out = response.getWriter();\r\n    \r\n    \t\tString code = request.getParameter(&quot;code&quot;);\r\n    \r\n    \t\tString clientId = &quot;***&quot;;\r\n    \t\tString clientSecret = &quot;***&quot;;\r\n    \t\tString authorisationCode = code; \r\n    \t\tString redirectURL = &quot;http://localhost:8080/O365Web/auth&quot;;\r\n    \t\tString tenant = &quot;***&quot;;\r\n    \r\n    \t\tAuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder()\r\n    \t\t\t\t.clientId(clientId)\r\n    \t\t\t\t.clientSecret(clientSecret) //required for web apps, do not set for native apps\r\n    \t\t\t\t.authorizationCode(authorisationCode)\r\n    \t\t\t\t.redirectUrl(redirectURL)\t\t\t\t\r\n    \t\t\t\t.build();\r\n    \r\n    \t\tList&lt;String&gt; scopes = new ArrayList&lt;String&gt;();\r\n    \t\tscopes.add(&quot;https://graph.microsoft.com/User.Read&quot;);\r\n    \t\tscopes.add(&quot;https://graph.microsoft.com/Files.ReadWrite.All&quot;);\r\n    \t\tscopes.add(&quot;https://graph.microsoft.com/offline_access&quot;);\r\n    \r\n    \t\tTokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);\t\t\r\n    \r\n    \t\tGraphServiceClient graphClient =\r\n    \t\t\t\tGraphServiceClient\r\n    \t\t\t\t.builder()\t\t\t\t\r\n    \t\t\t\t.authenticationProvider(tokenCredentialAuthProvider)\t\t\t\t\r\n    \t\t\t\t.buildClient();\r\n    \r\n    \t\ttry {\r\n    \t\t\tfinal User me = graphClient.me().buildRequest().get();\r\n    \t\t\tout.println(&quot;Name: &quot; + me.displayName + &quot;&quot;);\r\n    \t\t} catch ( Exception ex ) {\r\n    \t\t\tout.println(&quot;Exception in first user get: &quot; + ex.getMessage() );\t\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tDriveItemCollectionPage children = graphClient.me().drive().root().children().buildRequest().get();\r\n    \r\n    \t\t\twhile ( children != null ) {\r\n    \r\n    \t\t\t\tfor ( DriveItem item : children.getCurrentPage() ) {\r\n    \t\t\t\t\tout.println(&quot;C:&quot; + item.name + &quot; : &quot; + item.id);\r\n    \t\t\t\t}\r\n    \r\n    \t\t\t\tDriveItemCollectionRequestBuilder builder = children.getNextPage();\r\n    \t\t\t\tif ( builder != null ) {\r\n    \t\t\t\t\tout.println(&quot;Loading page...&quot;);\r\n    \t\t\t\t\tchildren = children.getNextPage().buildRequest().get();\r\n    \t\t\t\t} else {\r\n    \t\t\t\t\tchildren = null;\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t} catch ( Exception ex ) {\r\n    \t\t\tout.println(&quot;Exception in children get: &quot; + ex.getMessage());\t\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \r\n    \t\ttry {\r\n    \t\t\tfinal User me2 = graphClient.me().buildRequest().get();\r\n    \t\t\tout.println(me2.displayName + &quot;&lt;br/&gt;&quot;);\r\n    \t\t} catch ( Exception ex ) {\r\n    \t\t\tout.println(&quot;Exception in second user get: &quot; + ex.getMessage());\t\r\n    \t\t\tex.printStackTrace();\r\n    \t\t}\r\n    \t}","title":"Microsoft Graph and Java - Multiple calls against authorization code flow","body":"<p>I've been trying to figure this one out for a few hours, and I'm now going in circles and wasting fun RnD time.  I'm playing with the MS Graph API to access Office 365, and I've got it set up using the Authorization flow to authorise my Java servlet.  It works fine (the URL to get the auth code is elsewhere) but I can only run one call. I get the following error in the exceptions for subsequent calls (in my code, it is when I try to look at the Drive):</p>\n<p><strong>OAuth2 Authorization code was already redeemed, please retry with a new valid code or use an existing refresh token.</strong></p>\n<p>I'm assuming that this means I need to refresh my token (obvious really, and I've found notes about this saying that it is now necessary on this flow), but I can't figure out how to do it using the GraphServiceClient.</p>\n<p>My code is below, any help would be most welcome at this point before I frisbee my laptop out of the nearest window.</p>\n<pre><code>protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {\n\n\n        PrintWriter out = response.getWriter();\n\n        String code = request.getParameter(&quot;code&quot;);\n\n        String clientId = &quot;***&quot;;\n        String clientSecret = &quot;***&quot;;\n        String authorisationCode = code; \n        String redirectURL = &quot;http://localhost:8080/O365Web/auth&quot;;\n        String tenant = &quot;***&quot;;\n\n        AuthorizationCodeCredential authCodeCredential = new AuthorizationCodeCredentialBuilder()\n                .clientId(clientId)\n                .clientSecret(clientSecret) //required for web apps, do not set for native apps\n                .authorizationCode(authorisationCode)\n                .redirectUrl(redirectURL)               \n                .build();\n\n        List&lt;String&gt; scopes = new ArrayList&lt;String&gt;();\n        scopes.add(&quot;https://graph.microsoft.com/User.Read&quot;);\n        scopes.add(&quot;https://graph.microsoft.com/Files.ReadWrite.All&quot;);\n        scopes.add(&quot;https://graph.microsoft.com/offline_access&quot;);\n\n        TokenCredentialAuthProvider tokenCredentialAuthProvider = new TokenCredentialAuthProvider(scopes, authCodeCredential);      \n\n        GraphServiceClient graphClient =\n                GraphServiceClient\n                .builder()              \n                .authenticationProvider(tokenCredentialAuthProvider)                \n                .buildClient();\n\n        try {\n            final User me = graphClient.me().buildRequest().get();\n            out.println(&quot;Name: &quot; + me.displayName + &quot;&quot;);\n        } catch ( Exception ex ) {\n            out.println(&quot;Exception in first user get: &quot; + ex.getMessage() );    \n            ex.printStackTrace();\n        }\n\n        try {\n            DriveItemCollectionPage children = graphClient.me().drive().root().children().buildRequest().get();\n\n            while ( children != null ) {\n\n                for ( DriveItem item : children.getCurrentPage() ) {\n                    out.println(&quot;C:&quot; + item.name + &quot; : &quot; + item.id);\n                }\n\n                DriveItemCollectionRequestBuilder builder = children.getNextPage();\n                if ( builder != null ) {\n                    out.println(&quot;Loading page...&quot;);\n                    children = children.getNextPage().buildRequest().get();\n                } else {\n                    children = null;\n                }\n            }\n        } catch ( Exception ex ) {\n            out.println(&quot;Exception in children get: &quot; + ex.getMessage());   \n            ex.printStackTrace();\n        }\n\n        try {\n            final User me2 = graphClient.me().buildRequest().get();\n            out.println(me2.displayName + &quot;&lt;br/&gt;&quot;);\n        } catch ( Exception ex ) {\n            out.println(&quot;Exception in second user get: &quot; + ex.getMessage());    \n            ex.printStackTrace();\n        }\n    }\n</code></pre>\n"},{"tags":["java","netbeans-12"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1635869150,"post_id":69813417,"comment_id":123405118,"body_markdown":"The warnings seem intended to let you know that the regex patterns may have some problem.  This would be especially true in the second of `.* `, where the space after `.*` doesn&#39;t make any sense.","body":"The warnings seem intended to let you know that the regex patterns may have some problem.  This would be especially true in the second of <code>.* </code>, where the space after <code>.*</code> doesn&#39;t make any sense."},{"owner":{"account_id":291803,"reputation":880,"user_id":594186,"accept_rate":100,"display_name":"AdamOutler"},"score":0,"creation_date":1635870161,"post_id":69813417,"comment_id":123405596,"body_markdown":"The space is required.  this example prints `foo` on the first line and `bar` on the second.  Without the space there is no delimiter.","body":"The space is required.  this example prints <code>foo</code> on the first line and <code>bar</code> on the second.  Without the space there is no delimiter."},{"owner":{"account_id":291803,"reputation":880,"user_id":594186,"accept_rate":100,"display_name":"AdamOutler"},"score":0,"creation_date":1635870557,"post_id":69813417,"comment_id":123405796,"body_markdown":"Similar regular expressions of `string.split(&quot;\\\\s&quot;)` and `string.replaceAll(&quot;.*\\\\s&quot;, &quot;&quot;)` provide the same warning.","body":"Similar regular expressions of <code>string.split(&quot;\\\\s&quot;)</code> and <code>string.replaceAll(&quot;.*\\\\s&quot;, &quot;&quot;)</code> provide the same warning."},{"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"score":1,"creation_date":1635917805,"post_id":69813417,"comment_id":123417134,"body_markdown":"@TimBiegeleisen It&#39;s counter intuitive, but I&#39;m not sure that the warnings are there to let you know that there is a _problem_ with your regular expressions at all. Instead I think they serve to highlight the _mere existence_ of regular expressions in your source code, though there is more to it than that. See my answer for clarification.","body":"@TimBiegeleisen It&#39;s counter intuitive, but I&#39;m not sure that the warnings are there to let you know that there is a <i>problem</i> with your regular expressions at all. Instead I think they serve to highlight the <i>mere existence</i> of regular expressions in your source code, though there is more to it than that. See my answer for clarification."}],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635917536,"creation_date":1635917536,"answer_id":69820068,"question_id":69813417,"body_markdown":"The feature &quot;Check Regular Expression&quot; was recently implemented in NetBeans 12.5. \r\n\r\nIt is formally documented in Apache NetBeans issue [NETBEANS-5661 Testing for valid values of a Regular Expression in the IDE](https://issues.apache.org/jira/browse/NETBEANS-5661) which has the **Description** &quot;*Adding a feature for testing the valid values for a Regular Expression in the IDE itself*&quot;.\r\n\r\nIt is also mentioned in the [Release Notes for NetBeans 12.5][1]: \r\n\r\n&gt; [NETBEANS-5661] - Added regular expression window and hint:\r\n&gt; https://github.com/apache/netbeans/pull/2953\r\n\r\nIn the **Attachments** section of NetBeans Issue 5661 there is a link named [RegexDemo2.gif](https://issues.apache.org/jira/secure/attachment/13025011/RegexDemo2.gif) which gives a demo of the new functionality. It allows you to test regular expressions within your Java source, in a **Check Regular Expressions** window.\r\n\r\nTo configure your preference for this feature, navigate to **Tools &gt; Options &gt; Editor &gt; Hints**, then select *Java* from the **Language** drop list. As shown in the screen shot below, you can then:\r\n- Turn the feature off completely, by unchecking the *Check Regular Expression* entry.\r\n- Alternatively, generate an *Error*, *Warning*, or *Warning on Current Line* by selecting the appropriate **Show As** entry.\r\n\r\n  [![Options window][2]][2]\r\n\r\nYou can also navigate to that configuration screen directly from the relevant line in your code using tooltips:\r\n\r\n[![tooltips][3]][3]\r\n\r\nFor trivial regular expressions (as in your sample code) this new feature may be a minor irritation, in which case turn it off. But for code which contains many regular expressions, or some complex regular expressions, I think this feature could be useful and productive. You might perhaps generate the warnings during development and for code reviews, but then turn it off prior to final deployment.\r\n\r\nOne final point: those warning/error messages do not necessarily imply that there is anything *wrong* with your regular expression at all. Instead, the feature serves to highlight the *existence* of regular expressions in your code, and provides a means to easily *test* them.\r\n\r\n  [1]: https://netbeans.apache.org/download/nb125/index.html\r\n  [2]: https://i.stack.imgur.com/OqSlf.png\r\n  [3]: https://i.stack.imgur.com/r1poq.png","title":"Netbeans Check Regular Expression","body":"<p>The feature &quot;Check Regular Expression&quot; was recently implemented in NetBeans 12.5.</p>\n<p>It is formally documented in Apache NetBeans issue <a href=\"https://issues.apache.org/jira/browse/NETBEANS-5661\" rel=\"nofollow noreferrer\">NETBEANS-5661 Testing for valid values of a Regular Expression in the IDE</a> which has the <strong>Description</strong> &quot;<em>Adding a feature for testing the valid values for a Regular Expression in the IDE itself</em>&quot;.</p>\n<p>It is also mentioned in the <a href=\"https://netbeans.apache.org/download/nb125/index.html\" rel=\"nofollow noreferrer\">Release Notes for NetBeans 12.5</a>:</p>\n<blockquote>\n<p>[NETBEANS-5661] - Added regular expression window and hint:\n<a href=\"https://github.com/apache/netbeans/pull/2953\" rel=\"nofollow noreferrer\">https://github.com/apache/netbeans/pull/2953</a></p>\n</blockquote>\n<p>In the <strong>Attachments</strong> section of NetBeans Issue 5661 there is a link named <a href=\"https://issues.apache.org/jira/secure/attachment/13025011/RegexDemo2.gif\" rel=\"nofollow noreferrer\">RegexDemo2.gif</a> which gives a demo of the new functionality. It allows you to test regular expressions within your Java source, in a <strong>Check Regular Expressions</strong> window.</p>\n<p>To configure your preference for this feature, navigate to <strong>Tools &gt; Options &gt; Editor &gt; Hints</strong>, then select <em>Java</em> from the <strong>Language</strong> drop list. As shown in the screen shot below, you can then:</p>\n<ul>\n<li><p>Turn the feature off completely, by unchecking the <em>Check Regular Expression</em> entry.</p>\n</li>\n<li><p>Alternatively, generate an <em>Error</em>, <em>Warning</em>, or <em>Warning on Current Line</em> by selecting the appropriate <strong>Show As</strong> entry.</p>\n<p><a href=\"https://i.stack.imgur.com/OqSlf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/OqSlf.png\" alt=\"Options window\" /></a></p>\n</li>\n</ul>\n<p>You can also navigate to that configuration screen directly from the relevant line in your code using tooltips:</p>\n<p><a href=\"https://i.stack.imgur.com/r1poq.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/r1poq.png\" alt=\"tooltips\" /></a></p>\n<p>For trivial regular expressions (as in your sample code) this new feature may be a minor irritation, in which case turn it off. But for code which contains many regular expressions, or some complex regular expressions, I think this feature could be useful and productive. You might perhaps generate the warnings during development and for code reviews, but then turn it off prior to final deployment.</p>\n<p>One final point: those warning/error messages do not necessarily imply that there is anything <em>wrong</em> with your regular expression at all. Instead, the feature serves to highlight the <em>existence</em> of regular expressions in your code, and provides a means to easily <em>test</em> them.</p>\n"}],"owner":{"account_id":291803,"reputation":880,"user_id":594186,"accept_rate":100,"display_name":"AdamOutler"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":686,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69820068,"answer_count":1,"score":1,"last_activity_date":1635917536,"creation_date":1635868776,"question_id":69813417,"body_markdown":"Here is an example of a very simple method.  We take &quot;foo bar&quot;, split, replaceAll, and print.  \r\n```\r\npublic static void main(String[] args){\r\n  String string=&quot;foo bar&quot;;\r\n  String[] array=string.split(&quot; &quot;);\r\n  String string2=string.replaceAll(&quot;.* &quot;,&quot;&quot;);\r\n  System.out.println(array[0]);\r\n  System.out.println(string2);\r\n}\r\n```\r\n\r\nNetBeans is claiming this is a problem and giving me a warning on `split` and `replaceAll`. \r\n\r\n [![enter image description here][1]][1]\r\n\r\nI can&#39;t seem to find a way to disable this via @annotation, and information about this issue is sparse on the &#39;net. What is the intended effect of this warning?\r\n\r\n[1]: https://i.stack.imgur.com/xreUm.png","title":"Netbeans Check Regular Expression","body":"<p>Here is an example of a very simple method.  We take &quot;foo bar&quot;, split, replaceAll, and print.</p>\n<pre><code>public static void main(String[] args){\n  String string=&quot;foo bar&quot;;\n  String[] array=string.split(&quot; &quot;);\n  String string2=string.replaceAll(&quot;.* &quot;,&quot;&quot;);\n  System.out.println(array[0]);\n  System.out.println(string2);\n}\n</code></pre>\n<p>NetBeans is claiming this is a problem and giving me a warning on <code>split</code> and <code>replaceAll</code>.</p>\n<p><a href=\"https://i.stack.imgur.com/xreUm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/xreUm.png\" alt=\"enter image description here\" /></a></p>\n<p>I can't seem to find a way to disable this via @annotation, and information about this issue is sparse on the 'net. What is the intended effect of this warning?</p>\n"},{"tags":["java","flutter","android-studio","dart","spinner"],"comments":[{"owner":{"account_id":11629093,"reputation":2552,"user_id":8517948,"accept_rate":100,"display_name":"LW001"},"score":0,"creation_date":1630591185,"post_id":69031768,"comment_id":122003557,"body_markdown":"Are you looking for a [CircularProgressIndicator](https://api.flutter.dev/flutter/material/CircularProgressIndicator-class.html)?","body":"Are you looking for a <a href=\"https://api.flutter.dev/flutter/material/CircularProgressIndicator-class.html\" rel=\"nofollow noreferrer\">CircularProgressIndicator</a>?"},{"owner":{"account_id":3895434,"reputation":1878,"user_id":3224608,"accept_rate":50,"display_name":"daddygames"},"score":1,"creation_date":1630591373,"post_id":69031768,"comment_id":122003660,"body_markdown":"It&#39;s not clear what language you want a solution for. Flutter or Java? Why does the IDE matter? Please clarify you question.","body":"It&#39;s not clear what language you want a solution for. Flutter or Java? Why does the IDE matter? Please clarify you question."},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1630912458,"post_id":69031768,"comment_id":122074256,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":20563305,"reputation":247,"user_id":15093317,"display_name":"Tanveer Hasan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635917453,"creation_date":1635917453,"answer_id":69820059,"question_id":69031768,"body_markdown":"\r\n    &lt;string-array name=&quot;array_name&quot;&gt;\r\n    &lt;item&gt;Array Item 1&lt;/item&gt;\r\n    &lt;item&gt;Array Item 2&lt;/item&gt;\r\n    &lt;item&gt;Array Item 3&lt;/item&gt;\r\n    &lt;/string-array&gt;\r\n\r\n\r\nIn your layout:\r\n\r\n    &lt;Spinner \r\n        android:id=&quot;@+id/spinner&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:drawSelectorOnTop=&quot;true&quot;\r\n        android:entries=&quot;@array/array_name&quot;\r\n    /&gt;","title":"Customize and create a spinner in android studio","body":"<pre><code>&lt;string-array name=&quot;array_name&quot;&gt;\n&lt;item&gt;Array Item 1&lt;/item&gt;\n&lt;item&gt;Array Item 2&lt;/item&gt;\n&lt;item&gt;Array Item 3&lt;/item&gt;\n&lt;/string-array&gt;\n</code></pre>\n<p>In your layout:</p>\n<pre><code>&lt;Spinner \n    android:id=&quot;@+id/spinner&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:drawSelectorOnTop=&quot;true&quot;\n    android:entries=&quot;@array/array_name&quot;\n/&gt;\n</code></pre>\n"}],"owner":{"account_id":22638868,"reputation":1,"user_id":16815331,"display_name":"جنة الأئمة"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635917453,"creation_date":1630591088,"question_id":69031768,"body_markdown":"Peace be upon you. Hello. How do I add a spinner like the one in this Samsung apps? Thank you very much, and may God reward you with good rewards[enter image description here][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cM4q7.jpg","title":"Customize and create a spinner in android studio","body":"<p>Peace be upon you. Hello. How do I add a spinner like the one in this Samsung apps? Thank you very much, and may God reward you with good rewards<a href=\"https://i.stack.imgur.com/cM4q7.jpg\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"score":7,"creation_date":1500796220,"post_id":45262754,"comment_id":77488672,"body_markdown":"Why did you put your code in a try block if you are not catching any exception?","body":"Why did you put your code in a try block if you are not catching any exception?"},{"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"score":6,"creation_date":1500796328,"post_id":45262754,"comment_id":77488689,"body_markdown":"`try {..}` is not a try-with-resource statement.","body":"<code>try {..}</code> is not a try-with-resource statement."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1500796343,"post_id":45262754,"comment_id":77488693,"body_markdown":"@Eran I tried to implement this methodology - http://tutorials.jenkov.com/java-exception-handling/try-with-resources.html in order to avoid finally and to enforce closing the resources any way. The example shows a usage only of try clause","body":"@Eran I tried to implement this methodology - <a href=\"http://tutorials.jenkov.com/java-exception-handling/try-with-resources.html\" rel=\"nofollow noreferrer\">tutorials.jenkov.com/java-exception-handling/&hellip;</a> in order to avoid finally and to enforce closing the resources any way. The example shows a usage only of try clause"}],"answers":[{"tags":[],"owner":{"account_id":9165235,"reputation":15414,"user_id":6815131,"display_name":"Joe C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1500796367,"creation_date":1500796367,"answer_id":45262778,"question_id":45262754,"body_markdown":"Your larger `try` block is not a try-with-resources, but rather a standard try.  It therefore needs to have either a `catch` or `finally` block added to it.","title":"try-with-resource - finally keyword error on Java 8","body":"<p>Your larger <code>try</code> block is not a try-with-resources, but rather a standard try.  It therefore needs to have either a <code>catch</code> or <code>finally</code> block added to it.</p>\n"},{"tags":[],"owner":{"account_id":100270,"reputation":127164,"user_id":270371,"accept_rate":33,"display_name":"davidxxx"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1500797685,"creation_date":1500797055,"answer_id":45262866,"question_id":45262754,"body_markdown":"`try {..}` is not a `try-with-resource` statement.&lt;br&gt;\r\n\r\nYour `try{...}` may make sense as `try-with-resource` will close resources for you but not handle exceptions thrown during statements execution of the `try` block.&lt;br&gt;\r\n\r\nBut note that a classic `try` has to be declared with a `finally` or a `catch` statement or both.&lt;br&gt;\r\n\r\nYour method `writeDurationToFile()` doesn&#39;t throw `IOException` while you code may throw it.&lt;br&gt;\r\nSo you should either add it in the method declaration :\r\n\r\n     private synchronized void writeDurationToFile(String sFileName, Date dtStartTime, long lDuration, String sStatus)  throws IOException\r\n\r\nand remove the `try{...}` to allow the client code to handle the `IOException`.\r\n\r\nOr another way would be catching the exception in the method by completing the `try` statement with a `catch`.&lt;br&gt;\r\nIn this way, the client code doesn&#39;t need to handle the `IOException` :\r\n    \r\n\r\n\ttry { //classic try\r\n\t   \r\n          // try-with-resource\r\n          try(FileWriter fw = new FileWriter(sFullPath);\r\n              PrintWriter pw = new PrintWriter(fw))  {\r\n                ...\r\n          }\r\n          ...\r\n          // other try-with-resource\r\n          try(FileWriter fw = new FileWriter(sFullPath, true);\r\n              PrintWriter pw = new PrintWriter(fw))  {\r\n              ...\r\n          }\r\n\t} \r\n    // catch exceptions thrown in the block/body of the `try-with-resource` statements\r\n\tcatch (IOException e){\r\n       // exception handling\r\n\t}\r\n\r\n","title":"try-with-resource - finally keyword error on Java 8","body":"<p><code>try {..}</code> is not a <code>try-with-resource</code> statement.<br></p>\n\n<p>Your <code>try{...}</code> may make sense as <code>try-with-resource</code> will close resources for you but not handle exceptions thrown during statements execution of the <code>try</code> block.<br></p>\n\n<p>But note that a classic <code>try</code> has to be declared with a <code>finally</code> or a <code>catch</code> statement or both.<br></p>\n\n<p>Your method <code>writeDurationToFile()</code> doesn't throw <code>IOException</code> while you code may throw it.<br>\nSo you should either add it in the method declaration :</p>\n\n<pre><code> private synchronized void writeDurationToFile(String sFileName, Date dtStartTime, long lDuration, String sStatus)  throws IOException\n</code></pre>\n\n<p>and remove the <code>try{...}</code> to allow the client code to handle the <code>IOException</code>.</p>\n\n<p>Or another way would be catching the exception in the method by completing the <code>try</code> statement with a <code>catch</code>.<br>\nIn this way, the client code doesn't need to handle the <code>IOException</code> :</p>\n\n<pre><code>try { //classic try\n\n      // try-with-resource\n      try(FileWriter fw = new FileWriter(sFullPath);\n          PrintWriter pw = new PrintWriter(fw))  {\n            ...\n      }\n      ...\n      // other try-with-resource\n      try(FileWriter fw = new FileWriter(sFullPath, true);\n          PrintWriter pw = new PrintWriter(fw))  {\n          ...\n      }\n} \n// catch exceptions thrown in the block/body of the `try-with-resource` statements\ncatch (IOException e){\n   // exception handling\n}\n</code></pre>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":278,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1502117628,"accepted_answer_id":45262778,"answer_count":2,"score":1,"last_activity_date":1635917307,"creation_date":1500796149,"question_id":45262754,"body_markdown":"I have the following code which yields me a **&quot;Syntax error, insert &quot;Finally&quot; to complete TryStatement&quot;.**\r\n\r\n     private synchronized void writeDurationToFile(String sFileName, Date dtStartTime, long lDuration, String sStatus) {\r\n\r\n        if(!sRHTimeStamp.isEmpty()) {\r\n\r\n            String sFullPath = sFileName + &quot;_&quot; + sRHTimeStamp +  &quot;.csv&quot;;\r\n\r\n            try {\r\n\r\n                if(!Paths.get(sFullPath).toFile().exists()) {\r\n\r\n                \ttry(\tFileWriter fw = new FileWriter(sFullPath);\r\n                \t\t\tPrintWriter pw = new PrintWriter(fw);)  {\r\n\r\n                    \tpw.println(&quot;Start\\tEnd\\tDuration&quot;);\r\n                    \tpw.println(TimeUtils.getTimeStamp(true, dtStartTime) + &quot;,&quot; + lDuration + &quot;,&quot; + sStatus);\r\n\t\t\t\t\t}\r\n\r\n                }else{\r\n\r\n                \ttry(FileWriter fw = new FileWriter(sFullPath, true); PrintWriter pw = new PrintWriter(fw);)  {\r\n\r\n                    \tpw.println(TimeUtils.getTimeStamp(true, dtStartTime) + &quot;,&quot; + lDuration + &quot;,&quot; + sStatus);\r\n                    }\r\n                }\r\n            } //Here I get the error notification\r\n        }\r\n    }\r\n\r\n\r\nWhy do I get this error, and how can I write it better to eliminate the duplication of \r\n\r\n    pw.println(TimeUtils.getTimeStamp(true, dtStartTime) + &quot;,&quot; + lDuration\r\n    + &quot;,&quot; + sStatus);\r\n\r\nbut still use the &quot;try-with-resource&quot; implementation.\r\n\r\nI based my code on http://tutorials.jenkov.com/java-exception-handling/try-with-resources.html","title":"try-with-resource - finally keyword error on Java 8","body":"<p>I have the following code which yields me a <strong>&quot;Syntax error, insert &quot;Finally&quot; to complete TryStatement&quot;.</strong></p>\n<pre><code> private synchronized void writeDurationToFile(String sFileName, Date dtStartTime, long lDuration, String sStatus) {\n\n    if(!sRHTimeStamp.isEmpty()) {\n\n        String sFullPath = sFileName + &quot;_&quot; + sRHTimeStamp +  &quot;.csv&quot;;\n\n        try {\n\n            if(!Paths.get(sFullPath).toFile().exists()) {\n\n                try(    FileWriter fw = new FileWriter(sFullPath);\n                        PrintWriter pw = new PrintWriter(fw);)  {\n\n                    pw.println(&quot;Start\\tEnd\\tDuration&quot;);\n                    pw.println(TimeUtils.getTimeStamp(true, dtStartTime) + &quot;,&quot; + lDuration + &quot;,&quot; + sStatus);\n                }\n\n            }else{\n\n                try(FileWriter fw = new FileWriter(sFullPath, true); PrintWriter pw = new PrintWriter(fw);)  {\n\n                    pw.println(TimeUtils.getTimeStamp(true, dtStartTime) + &quot;,&quot; + lDuration + &quot;,&quot; + sStatus);\n                }\n            }\n        } //Here I get the error notification\n    }\n}\n</code></pre>\n<p>Why do I get this error, and how can I write it better to eliminate the duplication of</p>\n<pre><code>pw.println(TimeUtils.getTimeStamp(true, dtStartTime) + &quot;,&quot; + lDuration\n+ &quot;,&quot; + sStatus);\n</code></pre>\n<p>but still use the &quot;try-with-resource&quot; implementation.</p>\n<p>I based my code on <a href=\"http://tutorials.jenkov.com/java-exception-handling/try-with-resources.html\" rel=\"nofollow noreferrer\">http://tutorials.jenkov.com/java-exception-handling/try-with-resources.html</a></p>\n"},{"tags":["java","java-8"],"comments":[{"owner":{"account_id":4974930,"reputation":61244,"user_id":4001592,"display_name":"Dani Mesejo"},"score":0,"creation_date":1572176536,"post_id":58579006,"comment_id":103472949,"body_markdown":"Why are you using a variable match that does not change inside the loop?","body":"Why are you using a variable match that does not change inside the loop?"},{"owner":{"account_id":6076754,"reputation":6728,"user_id":4743869,"accept_rate":68,"display_name":"ByeBye"},"score":3,"creation_date":1572176562,"post_id":58579006,"comment_id":103472956,"body_markdown":"Dont need to convert all readable loops to streams. If you want to use stream, do it when it will help improve readability","body":"Dont need to convert all readable loops to streams. If you want to use stream, do it when it will help improve readability"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1572176759,"post_id":58579006,"comment_id":103473000,"body_markdown":"@DanielMesejo Sorry, it is a redundant leftover...","body":"@DanielMesejo Sorry, it is a redundant leftover..."},{"owner":{"account_id":4974930,"reputation":61244,"user_id":4001592,"display_name":"Dani Mesejo"},"score":1,"creation_date":1572176867,"post_id":58579006,"comment_id":103473031,"body_markdown":"Just to check, you are verifying the elements that are common to the 3 lists?","body":"Just to check, you are verifying the elements that are common to the 3 lists?"},{"owner":{"account_id":2563377,"reputation":7174,"user_id":2224047,"display_name":"Nikolai  Shevchenko"},"score":2,"creation_date":1572176894,"post_id":58579006,"comment_id":103473037,"body_markdown":"If loop is more readable then you should keep using it. In your particular case readability is degraded. There is NO requirement to migrate EVERY loop to functional style","body":"If loop is more readable then you should keep using it. In your particular case readability is degraded. There is NO requirement to migrate EVERY loop to functional style"},{"owner":{"account_id":10838690,"reputation":3209,"user_id":7970787,"display_name":"Alex R"},"score":0,"creation_date":1572177301,"post_id":58579006,"comment_id":103473137,"body_markdown":"`i &lt; list1Size` in your second loop is redundant","body":"<code>i &lt; list1Size</code> in your second loop is redundant"},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1572178758,"post_id":58579006,"comment_id":103473521,"body_markdown":"(I believe) several answers have misunderstood your original code. Why don&#39;t you explain your objective to encourage the most appropriate answer, not just a literal translation?","body":"(I believe) several answers have misunderstood your original code. Why don&#39;t you explain your objective to encourage the most appropriate answer, not just a literal translation?"},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1572178901,"post_id":58579006,"comment_id":103473546,"body_markdown":"I read it as meaning: &quot;find the set of common elements (across all 3 lists), where said element is in the same position in lists 2 &amp; 3&quot;","body":"I read it as meaning: &quot;find the set of common elements (across all 3 lists), where said element is in the same position in lists 2 &amp; 3&quot;"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1572180414,"post_id":58579006,"comment_id":103473862,"body_markdown":"Guys, to make things clear - I am searching for common numbers in lists.","body":"Guys, to make things clear - I am searching for common numbers in lists."},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1572180482,"post_id":58579006,"comment_id":103473885,"body_markdown":"But also, it interests me if for should be ultimately converted to streams or not if you want to advance to j8?","body":"But also, it interests me if for should be ultimately converted to streams or not if you want to advance to j8?"},{"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"score":0,"creation_date":1572181716,"post_id":58579006,"comment_id":103474121,"body_markdown":"So... you don&#39;t care whether they are at the same index?","body":"So... you don&#39;t care whether they are at the same index?"}],"answers":[{"tags":[],"owner":{"account_id":1263831,"reputation":388998,"user_id":1221571,"accept_rate":67,"display_name":"Eran"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1572177549,"creation_date":1572176981,"answer_id":58579136,"question_id":58579006,"body_markdown":"Since the index of the element in the first `List` doesn&#39;t really matter, you can `Stream` over the elements of `list1` and search for an element of `list1` that appears on both `list2` and `list3` at the same index:\r\n\r\n    Optional&lt;Integer&gt; result = \r\n        list1.stream()\r\n             .filter(IntStream.range(0,list2.size())\r\n                              .filter(i -&gt; list2.get(i).equals(list3.get(i)))\r\n                              .mapToObj(list2::get)\r\n                              .collect(Collectors.toSet())::contains)\r\n            .findFirst();\r\n\r\nOr if you just want to print the first match:\r\n\r\n    list1.stream()\r\n         .filter(IntStream.range(0,list2.size())\r\n                          .filter(i -&gt; list2.get(i).equals(list3.get(i)))\r\n                          .mapToObj(list2::get)\r\n                          .collect(Collectors.toSet())::contains)\r\n         .limit(1)\r\n         .forEach(System.out::println);\r\n\r\nThe `IntStream` pipeline generates a `Set` of all the elements that appear in both `list2` and `list3` in the same index. The `filter` searches for elements of `list1` that belong to that `Set`.","title":"Multiple loops code migration to java 8: is it the best way?","body":"<p>Since the index of the element in the first <code>List</code> doesn't really matter, you can <code>Stream</code> over the elements of <code>list1</code> and search for an element of <code>list1</code> that appears on both <code>list2</code> and <code>list3</code> at the same index:</p>\n\n<pre><code>Optional&lt;Integer&gt; result = \n    list1.stream()\n         .filter(IntStream.range(0,list2.size())\n                          .filter(i -&gt; list2.get(i).equals(list3.get(i)))\n                          .mapToObj(list2::get)\n                          .collect(Collectors.toSet())::contains)\n        .findFirst();\n</code></pre>\n\n<p>Or if you just want to print the first match:</p>\n\n<pre><code>list1.stream()\n     .filter(IntStream.range(0,list2.size())\n                      .filter(i -&gt; list2.get(i).equals(list3.get(i)))\n                      .mapToObj(list2::get)\n                      .collect(Collectors.toSet())::contains)\n     .limit(1)\n     .forEach(System.out::println);\n</code></pre>\n\n<p>The <code>IntStream</code> pipeline generates a <code>Set</code> of all the elements that appear in both <code>list2</code> and <code>list3</code> in the same index. The <code>filter</code> searches for elements of <code>list1</code> that belong to that <code>Set</code>.</p>\n"},{"tags":[],"owner":{"account_id":4974930,"reputation":61244,"user_id":4001592,"display_name":"Dani Mesejo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572179991,"creation_date":1572177031,"answer_id":58579143,"question_id":58579006,"body_markdown":"You could do:\r\n\r\n    Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;(list1);\r\n    \r\n    IntStream.range(0, Math.min(list2.size(), list3.size()))\r\n            .filter(i -&gt; Objects.equals(list2.get(i), list3.get(i))) // check where index have the same value\r\n            .mapToObj(list2::get) // get the value (as the values are equal could be also list3)\r\n            .filter(set1::contains) // check if list1 contains the value\r\n            .forEach(System.out::println);\r\n\r\n**Output**\r\n\r\n    3\r\n\r\nTransforming `list1` into a set (`set1`) gives you a healthy speed-up by improving the performance of the containment query (`O(n) -&gt; O(1)`).\r\n","title":"Multiple loops code migration to java 8: is it the best way?","body":"<p>You could do:</p>\n\n<pre><code>Set&lt;Integer&gt; set1 = new HashSet&lt;&gt;(list1);\n\nIntStream.range(0, Math.min(list2.size(), list3.size()))\n        .filter(i -&gt; Objects.equals(list2.get(i), list3.get(i))) // check where index have the same value\n        .mapToObj(list2::get) // get the value (as the values are equal could be also list3)\n        .filter(set1::contains) // check if list1 contains the value\n        .forEach(System.out::println);\n</code></pre>\n\n<p><strong>Output</strong></p>\n\n<pre><code>3\n</code></pre>\n\n<p>Transforming <code>list1</code> into a set (<code>set1</code>) gives you a healthy speed-up by improving the performance of the containment query (<code>O(n) -&gt; O(1)</code>).</p>\n"},{"tags":[],"owner":{"account_id":3539723,"reputation":3951,"user_id":2957169,"display_name":"charles-allen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572182112,"creation_date":1572182112,"answer_id":58579736,"question_id":58579006,"body_markdown":"If position isn&#39;t important, and you use `Set` instead, this becomes quite trivial:\r\n\r\n    set1.retainAll(set2);\r\n    set1.retainAll(set3);\r\n\r\nWith streams you could do:\r\n\r\n    set1.stream()\r\n       .filter(set2::contains)\r\n       .filter(set3::contains)\r\n       .collect(Collectors.toList());","title":"Multiple loops code migration to java 8: is it the best way?","body":"<p>If position isn't important, and you use <code>Set</code> instead, this becomes quite trivial:</p>\n\n<pre><code>set1.retainAll(set2);\nset1.retainAll(set3);\n</code></pre>\n\n<p>With streams you could do:</p>\n\n<pre><code>set1.stream()\n   .filter(set2::contains)\n   .filter(set3::contains)\n   .collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":11,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":110,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1635917274,"creation_date":1572176118,"question_id":58579006,"body_markdown":"I have the following old style java multiple loop which I want to convert to Java 8 streams:\r\n\r\n        List&lt;Integer&gt; list1 = Arrays.asList(1,2,3);\r\n        List&lt;Integer&gt; list2 = Arrays.asList(3,5,6);\r\n        List&lt;Integer&gt; list3 = Arrays.asList(3,4,9);\r\n        boolean match = true;\r\n\r\n        int list1Size = list1.size();\r\n        int list2Size = list2.size();\r\n\r\n        for (int i = 0; i &lt; list1Size; i++ ) {\r\n            for (int j = 0; j &lt; list2Size &amp;&amp; i &lt; list1Size; j++) {\r\n                if (list2.get(j).equals(list1.get(i))) {\r\n                    if (list3.get(j).equals(list1.get(i))) {\r\n                        System.out.println(list1.get(i));\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n\r\n(The output is: 3)\r\n\r\nThe best way I could find was:\r\n\r\n        IntStream.range(0, list1Size).forEach(\r\n                ix1 -&gt; {\r\n                        IntStream.range(0, list2.size()).forEach(\r\n                                ix2 -&gt; {\r\n                                    if (ix2 &lt; list2.size() &amp;&amp; ix1 &lt; list1.size())\r\n                                        if (list2.get(ix2).equals(list1.get(ix1))) {\r\n                                            if (list3.get(ix2).equals(list1.get(ix1))) {\r\n                                                System.out.println(list1.get(ix1));\r\n                                            }\r\n                                        }\r\n                                }\r\n                        );\r\n                }\r\n        );\r\n\r\nwhich doesn&#39;t seem too attractive to me...\r\n\r\nPlease note that I am working with 3 lists using 2 loops.\r\n\r\nIs there a better way? ","title":"Multiple loops code migration to java 8: is it the best way?","body":"<p>I have the following old style java multiple loop which I want to convert to Java 8 streams:</p>\n<pre><code>    List&lt;Integer&gt; list1 = Arrays.asList(1,2,3);\n    List&lt;Integer&gt; list2 = Arrays.asList(3,5,6);\n    List&lt;Integer&gt; list3 = Arrays.asList(3,4,9);\n    boolean match = true;\n\n    int list1Size = list1.size();\n    int list2Size = list2.size();\n\n    for (int i = 0; i &lt; list1Size; i++ ) {\n        for (int j = 0; j &lt; list2Size &amp;&amp; i &lt; list1Size; j++) {\n            if (list2.get(j).equals(list1.get(i))) {\n                if (list3.get(j).equals(list1.get(i))) {\n                    System.out.println(list1.get(i));\n                }\n            }\n        }\n    }\n</code></pre>\n<p>(The output is: 3)</p>\n<p>The best way I could find was:</p>\n<pre><code>    IntStream.range(0, list1Size).forEach(\n            ix1 -&gt; {\n                    IntStream.range(0, list2.size()).forEach(\n                            ix2 -&gt; {\n                                if (ix2 &lt; list2.size() &amp;&amp; ix1 &lt; list1.size())\n                                    if (list2.get(ix2).equals(list1.get(ix1))) {\n                                        if (list3.get(ix2).equals(list1.get(ix1))) {\n                                            System.out.println(list1.get(ix1));\n                                        }\n                                    }\n                            }\n                    );\n            }\n    );\n</code></pre>\n<p>which doesn't seem too attractive to me...</p>\n<p>Please note that I am working with 3 lists using 2 loops.</p>\n<p>Is there a better way?</p>\n"},{"tags":["java","selenium","selenium-webdriver"],"comments":[{"owner":{"account_id":5700778,"reputation":8968,"user_id":4512398,"display_name":"Grasshopper"},"score":2,"creation_date":1471186582,"post_id":38943180,"comment_id":65241774,"body_markdown":"Have a look this. Seems to be a duplicate .---  http://stackoverflow.com/questions/8244723/alert-handling-in-selenium-webdriver-selenium-2-with-java","body":"Have a look this. Seems to be a duplicate .---  <a href=\"http://stackoverflow.com/questions/8244723/alert-handling-in-selenium-webdriver-selenium-2-with-java\" title=\"alert handling in selenium webdriver selenium 2 with java\">stackoverflow.com/questions/8244723/&hellip;</a>"},{"owner":{"account_id":6927673,"reputation":12901,"user_id":5318223,"accept_rate":92,"display_name":"timbre timbre"},"score":1,"creation_date":1471188292,"post_id":38943180,"comment_id":65242271,"body_markdown":"The dialog comes from PDF viewer. If you don&#39;t care about this dialog, and just want to get rid of it, you could disable Chrome PDF Viewer in chrome://plugins/","body":"The dialog comes from PDF viewer. If you don&#39;t care about this dialog, and just want to get rid of it, you could disable Chrome PDF Viewer in chrome://plugins/"},{"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"score":0,"creation_date":1471244249,"post_id":38943180,"comment_id":65255626,"body_markdown":"@KirilS. Thanks. This would be a sufficient solution for me.","body":"@KirilS. Thanks. This would be a sufficient solution for me."}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635917177,"creation_date":1471184757,"question_id":38943180,"body_markdown":"I am trying to get rif od an alert as displayed in the image:\r\n\r\n [![enter image description here][1]][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/ba5UQ.jpg\r\n\r\nThis alert **can be easily dismmised** by pressing escape or return keys.\r\nBut I cannot get it done using selenium.\r\n\r\nFirst, I am switching to the window using:\r\n\r\n    m_parentWindowHandler = m_chromeWebdriver.getWindowHandle();\r\n    .\r\n    .\r\n    .\r\n    m_chromeWebdriver.switchTo().window(m_parentWindowHandler);\r\n\r\nThen I tried \r\n\r\n    \tActions action = new Actions(m_chromeWebdriver);\r\n\t\taction.sendKeys(Keys.RETURN).build().perform();\r\n\r\n(also with Keys.ESCAPE)","title":"Selenium Java - ChromeDriver - Getting rid of an alert","body":"<p>I am trying to get rif od an alert as displayed in the image:</p>\n<p><a href=\"https://i.stack.imgur.com/ba5UQ.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/ba5UQ.jpg\" alt=\"enter image description here\" /></a></p>\n<p>This alert <strong>can be easily dismmised</strong> by pressing escape or return keys.\nBut I cannot get it done using selenium.</p>\n<p>First, I am switching to the window using:</p>\n<pre><code>m_parentWindowHandler = m_chromeWebdriver.getWindowHandle();\n.\n.\n.\nm_chromeWebdriver.switchTo().window(m_parentWindowHandler);\n</code></pre>\n<p>Then I tried</p>\n<pre><code>    Actions action = new Actions(m_chromeWebdriver);\n    action.sendKeys(Keys.RETURN).build().perform();\n</code></pre>\n<p>(also with Keys.ESCAPE)</p>\n"},{"tags":["java","gradle","dependencies","repository"],"comments":[{"owner":{"account_id":1223835,"reputation":75858,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1635917193,"post_id":69819971,"comment_id":123417036,"body_markdown":"Either copy them in or do publish them.","body":"Either copy them in or do publish them."},{"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"score":0,"creation_date":1635917909,"post_id":69819971,"comment_id":123417153,"body_markdown":"@chrylis..., um ok, some **local artifacts** I have in here are _published_ by a third party domain and **it did not have any metadata**, is there a way to give them some useful **matadata** via _Gradle_? for example the _LWJGL zip file_ containing minimalistic **artifacts** that **did not have any metadata**.","body":"@chrylis..., um ok, some <b>local artifacts</b> I have in here are <i>published</i> by a third party domain and <b>it did not have any metadata</b>, is there a way to give them some useful <b>matadata</b> via <i>Gradle</i>? for example the <i>LWJGL zip file</i> containing minimalistic <b>artifacts</b> that <b>did not have any metadata</b>."}],"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635916604,"creation_date":1635916604,"question_id":69819971,"body_markdown":"&gt; I do have a few local artifacts(compiled) some do not have a POM file or any other metadata, I would like to depend on it to my current project and in the end publish this project. The problem is the &quot;publications(maven/ivy/...)&quot; needed a concrete notations on this artifact before you could publish it. But this kind of artifacts didn&#39;t have a version concatenating on it neither any metadata. I did some research on my own and finally it has been published but in the consumer side it cannot resolve?\r\n\r\n    //: library-demo/build.gradle.kts\r\n\r\n     repositories {\r\n        flatDir {\r\n            setDirs(listOf(System.getProperty(&quot;url.repo.external.flatdir.release&quot;)))\r\n        }\r\n        mavenCentral()\r\n    \r\n    }\r\n    \r\n    dependencies {\r\n        implementation(platform(&quot;org.lwjgl:lwjgl-bom:3.2.3&quot;))\r\n        listOf(\r\n            &quot;&quot;, &quot;-assimp&quot;, &quot;-openal&quot;,\r\n            &quot;-opengl&quot; ).map { lib -&gt;\r\n                implementation(&quot;:lwjgl$lib&quot;)\r\n                runtimeOnly(&quot;:lwjgl$lib${LWJGL.lwjglNatives}&quot;)\r\n            }\r\n    }\r\n    \r\n    \r\n    publishing {\r\n        publications {\r\n            register&lt;MavenPublication&gt;(&quot;library-demo-maven&quot;) {\r\n                from(components[&quot;java&quot;])\r\n            }\r\n        }\r\n        repositories {\r\n            maven {\r\n                setUrl(System.getProperty(&quot;url.repo.local.snapshot&quot;))\r\n            }\r\n        }\r\n    }\r\n\r\n&gt; the consumer build script, and inside of dependency block found an error, in this specific binary cannot resolve. How do we fix this broken metadata?\r\n\r\n    //: other-library/build.gradle.kts\r\n    repositories {\r\n        maven {\r\n            setUrl(System.getProperty(&quot;url.repo.local.snapshot&quot;))\r\n        }\r\n    }\r\n    \r\n    \r\n    dependencies {\r\n        implementation(&quot;com.demo:library-demo:0.0.1&quot;) // HERE: ERROR cannot found this binary!\r\n    }","title":"build-tool: [0x0003] How should we publish a project which has a dependency in some local or flatDir?","body":"<blockquote>\n<p>I do have a few local artifacts(compiled) some do not have a POM file or any other metadata, I would like to depend on it to my current project and in the end publish this project. The problem is the &quot;publications(maven/ivy/...)&quot; needed a concrete notations on this artifact before you could publish it. But this kind of artifacts didn't have a version concatenating on it neither any metadata. I did some research on my own and finally it has been published but in the consumer side it cannot resolve?</p>\n</blockquote>\n<pre><code>//: library-demo/build.gradle.kts\n\n repositories {\n    flatDir {\n        setDirs(listOf(System.getProperty(&quot;url.repo.external.flatdir.release&quot;)))\n    }\n    mavenCentral()\n\n}\n\ndependencies {\n    implementation(platform(&quot;org.lwjgl:lwjgl-bom:3.2.3&quot;))\n    listOf(\n        &quot;&quot;, &quot;-assimp&quot;, &quot;-openal&quot;,\n        &quot;-opengl&quot; ).map { lib -&gt;\n            implementation(&quot;:lwjgl$lib&quot;)\n            runtimeOnly(&quot;:lwjgl$lib${LWJGL.lwjglNatives}&quot;)\n        }\n}\n\n\npublishing {\n    publications {\n        register&lt;MavenPublication&gt;(&quot;library-demo-maven&quot;) {\n            from(components[&quot;java&quot;])\n        }\n    }\n    repositories {\n        maven {\n            setUrl(System.getProperty(&quot;url.repo.local.snapshot&quot;))\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>the consumer build script, and inside of dependency block found an error, in this specific binary cannot resolve. How do we fix this broken metadata?</p>\n</blockquote>\n<pre><code>//: other-library/build.gradle.kts\nrepositories {\n    maven {\n        setUrl(System.getProperty(&quot;url.repo.local.snapshot&quot;))\n    }\n}\n\n\ndependencies {\n    implementation(&quot;com.demo:library-demo:0.0.1&quot;) // HERE: ERROR cannot found this binary!\n}\n</code></pre>\n"},{"tags":["java","lucene"],"answers":[{"tags":[],"owner":{"account_id":11703777,"reputation":321,"user_id":10209572,"display_name":"Invalid_Path"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1565170218,"creation_date":1565170218,"answer_id":57391192,"question_id":57378100,"body_markdown":"Found the solution to my problem. The thing I was missing was [`TokenStreamFromVector`](https://lucene.apache.org/core/8_1_0/highlighter/org/apache/lucene/search/highlight/TokenStreamFromTermVector.html) class. `TokenStreamFromVector` extends `TokenStream` so I&#39;m able to plug it in the `getBestFragments()` method.  \r\nGonna leave this up for anyone lost and looking for the same thing. Looking through the [USE](https://lucene.apache.org/core/8_1_0/core/org/apache/lucene/analysis/class-use/TokenStream.html) tabs really helped but I don&#39;t know why `TokenStreamFromVector` isn&#39;t linked as a subclass in the [`TokenStream`](https://lucene.apache.org/core/8_1_0/core/org/apache/lucene/analysis/TokenStream.html) page.  \r\n(I know it&#39;s in a different package but still, there&#39;s no way to reach the [`TokenStreamFromVector`](https://lucene.apache.org/core/8_1_0/highlighter/org/apache/lucene/search/highlight/TokenStreamFromTermVector.html) page quickly and through the normal workflow.)","title":"How to get a TokenStream of a document&#39;s field to be used for highlighting?","body":"<p>Found the solution to my problem. The thing I was missing was <a href=\"https://lucene.apache.org/core/8_1_0/highlighter/org/apache/lucene/search/highlight/TokenStreamFromTermVector.html\" rel=\"nofollow noreferrer\"><code>TokenStreamFromVector</code></a> class. <code>TokenStreamFromVector</code> extends <code>TokenStream</code> so I'm able to plug it in the <code>getBestFragments()</code> method.<br>\nGonna leave this up for anyone lost and looking for the same thing. Looking through the <a href=\"https://lucene.apache.org/core/8_1_0/core/org/apache/lucene/analysis/class-use/TokenStream.html\" rel=\"nofollow noreferrer\">USE</a> tabs really helped but I don't know why <code>TokenStreamFromVector</code> isn't linked as a subclass in the <a href=\"https://lucene.apache.org/core/8_1_0/core/org/apache/lucene/analysis/TokenStream.html\" rel=\"nofollow noreferrer\"><code>TokenStream</code></a> page.<br>\n(I know it's in a different package but still, there's no way to reach the <a href=\"https://lucene.apache.org/core/8_1_0/highlighter/org/apache/lucene/search/highlight/TokenStreamFromTermVector.html\" rel=\"nofollow noreferrer\"><code>TokenStreamFromVector</code></a> page quickly and through the normal workflow.)</p>\n"},{"tags":[],"owner":{"account_id":5332585,"reputation":836,"user_id":4252764,"accept_rate":50,"display_name":"Vuk Djapic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635916543,"creation_date":1635916543,"answer_id":69819965,"question_id":57378100,"body_markdown":"It is explained in Lucene javadoc https://lucene.apache.org/core/8_0_0/highlighter/org/apache/lucene/search/highlight/TokenSources.html#getTermVectorTokenStreamOrNull-java.lang.String-org.apache.lucene.index.Fields-int- .\r\n\r\n&gt; tvFields - from IndexReader.getTermVectors(int). Possibly null.\r\n\r\nSo all you need is `IndexReader` to get `Fields`. And int parameter is docID, which you get from your search result, as `topDocs.scoreDocs[i].doc` value.","title":"How to get a TokenStream of a document&#39;s field to be used for highlighting?","body":"<p>It is explained in Lucene javadoc <a href=\"https://lucene.apache.org/core/8_0_0/highlighter/org/apache/lucene/search/highlight/TokenSources.html#getTermVectorTokenStreamOrNull-java.lang.String-org.apache.lucene.index.Fields-int-\" rel=\"nofollow noreferrer\">https://lucene.apache.org/core/8_0_0/highlighter/org/apache/lucene/search/highlight/TokenSources.html#getTermVectorTokenStreamOrNull-java.lang.String-org.apache.lucene.index.Fields-int-</a> .</p>\n<blockquote>\n<p>tvFields - from IndexReader.getTermVectors(int). Possibly null.</p>\n</blockquote>\n<p>So all you need is <code>IndexReader</code> to get <code>Fields</code>. And int parameter is docID, which you get from your search result, as <code>topDocs.scoreDocs[i].doc</code> value.</p>\n"}],"owner":{"account_id":11703777,"reputation":321,"user_id":10209572,"display_name":"Invalid_Path"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":138,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1635916543,"creation_date":1565100863,"question_id":57378100,"body_markdown":"The Problem\r\n===========      \r\nI&#39;m currently working on a project using `Lucene 8.1.0`, pure `Lucene`-not `Solr`. I would like to add highlighting to the results that get displayed based on the user query. The problem i&#39;m facing is that i can&#39;t figure out a way to get a `TokenStream` of a field on a specified document. The field i&#39;m trying to access is indexed using term vectors, along with other `FieldType` parameters.\r\n\r\nWhat I tried\r\n============  \r\nThe [official documentation](https://lucene.apache.org/core/8_1_0/highlighter/org/apache/lucene/search/highlight/TokenSources.html) on the TokenSources class lists almost all of the methods used in the past, as **deprecated**. I&#39;ve searched far and wide, all the guides/posts I&#39;ve found are relatively old and all of them use TokenSources and one of the **deprecated** methods.  I&#39;d be willing to use the function `getTermVectorTokenStreamOrNull()` but I don&#39;t understand how to use the Fields parameter and what to pass there.  (I can&#39;t instantiate a `Fields` object, since it&#39;s abstract, and none of the direct known subclasses make sense to me or how to use them).  \r\n\r\n\r\nThe current solution i have is to get a `TokenStream` the following way: \r\n \r\n```java\r\nString text = hit.get(field.label);\r\nAnalyzer analyzer = new ClassicAnalyzer();\r\nTokenStream tokenStream = analyzer.tokenStream(field.label, text);\r\nTextFragment[] fragments = highlighter.getBestTextFragments(tokenStream, text, false, 5);\r\n```\r\n\r\nWhat I actually need help is, how to use the term vectors of a field and how to get a `TokenStream` for setting up the `Highlighter`.  \r\n*If*  you think this is wrong and I should use the `getBestFragments​(Analyzer analyzer, String fieldName, String text, int maxNumFragments)` method from [here](https://lucene.apache.org/core/8_1_0/highlighter/org/apache/lucene/search/highlight/Highlighter.html), then that means I won&#39;t be needing the term vectors. But from what I can gather, using term vectors helps with performance on search times with the trade-off of index size. What is your advice?  \r\n*Thanks in advance!*","title":"How to get a TokenStream of a document&#39;s field to be used for highlighting?","body":"<h1>The Problem</h1>\n\n<p>I'm currently working on a project using <code>Lucene 8.1.0</code>, pure <code>Lucene</code>-not <code>Solr</code>. I would like to add highlighting to the results that get displayed based on the user query. The problem i'm facing is that i can't figure out a way to get a <code>TokenStream</code> of a field on a specified document. The field i'm trying to access is indexed using term vectors, along with other <code>FieldType</code> parameters.</p>\n\n<h1>What I tried</h1>\n\n<p>The <a href=\"https://lucene.apache.org/core/8_1_0/highlighter/org/apache/lucene/search/highlight/TokenSources.html\" rel=\"nofollow noreferrer\">official documentation</a> on the TokenSources class lists almost all of the methods used in the past, as <strong>deprecated</strong>. I've searched far and wide, all the guides/posts I've found are relatively old and all of them use TokenSources and one of the <strong>deprecated</strong> methods.  I'd be willing to use the function <code>getTermVectorTokenStreamOrNull()</code> but I don't understand how to use the Fields parameter and what to pass there.  (I can't instantiate a <code>Fields</code> object, since it's abstract, and none of the direct known subclasses make sense to me or how to use them).  </p>\n\n<p>The current solution i have is to get a <code>TokenStream</code> the following way: </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>String text = hit.get(field.label);\nAnalyzer analyzer = new ClassicAnalyzer();\nTokenStream tokenStream = analyzer.tokenStream(field.label, text);\nTextFragment[] fragments = highlighter.getBestTextFragments(tokenStream, text, false, 5);\n</code></pre>\n\n<p>What I actually need help is, how to use the term vectors of a field and how to get a <code>TokenStream</code> for setting up the <code>Highlighter</code>.<br>\n<em>If</em>  you think this is wrong and I should use the <code>getBestFragments​(Analyzer analyzer, String fieldName, String text, int maxNumFragments)</code> method from <a href=\"https://lucene.apache.org/core/8_1_0/highlighter/org/apache/lucene/search/highlight/Highlighter.html\" rel=\"nofollow noreferrer\">here</a>, then that means I won't be needing the term vectors. But from what I can gather, using term vectors helps with performance on search times with the trade-off of index size. What is your advice?<br>\n<em>Thanks in advance!</em></p>\n"},{"tags":["java","excel","apache-poi","openxml"],"comments":[{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":1,"creation_date":1635923078,"post_id":69819806,"comment_id":123418260,"body_markdown":"in POI, you can add your own SignatureFacet to the SignatureConfig and modify the sig1.xml. Just have a look at the existing SignatureFacets on how to do this.  I will try to provide some example code soon","body":"in POI, you can add your own SignatureFacet to the SignatureConfig and modify the sig1.xml. Just have a look at the existing SignatureFacets on how to do this.  I will try to provide some example code soon"},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":0,"creation_date":1636149136,"post_id":69819806,"comment_id":123488901,"body_markdown":"I&#39;ve implemented the commitment type and purpose description in my [poi-examples repo](https://github.com/kiwiwings/poi-examples/tree/main/src/main/java/de/kiwiwings/poi/dsig). Unfortunately that&#39;s a lot of code to be duplicated from the POI sources and there seems to be also a marshalling problem in POI with adding the namespaces to the correct nodes. I&#39;ll try to provide the use case in the POI standard facets, so it will be only a matter of setting the values in the SignatureConfig.","body":"I&#39;ve implemented the commitment type and purpose description in my <a href=\"https://github.com/kiwiwings/poi-examples/tree/main/src/main/java/de/kiwiwings/poi/dsig\" rel=\"nofollow noreferrer\">poi-examples repo</a>. Unfortunately that&#39;s a lot of code to be duplicated from the POI sources and there seems to be also a marshalling problem in POI with adding the namespaces to the correct nodes. I&#39;ll try to provide the use case in the POI standard facets, so it will be only a matter of setting the values in the SignatureConfig."},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":0,"creation_date":1636329108,"post_id":69819806,"comment_id":123520508,"body_markdown":"I&#39;ve fixed it via [#65672](https://bz.apache.org/bugzilla/show_bug.cgi?id=65672). With POI 5.2.0 you will be able to set it via `SignatureConfig.setCommitmentType()` and `SignatureConfig.setSignatureDescription()`","body":"I&#39;ve fixed it via <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=65672\" rel=\"nofollow noreferrer\">#65672</a>. With POI 5.2.0 you will be able to set it via <code>SignatureConfig.setCommitmentType()</code> and <code>SignatureConfig.setSignatureDescription()</code>"},{"owner":{"account_id":20121147,"reputation":11,"user_id":14755627,"display_name":"leminhduc"},"score":0,"creation_date":1636338408,"post_id":69819806,"comment_id":123521813,"body_markdown":"Thanks for your enthusiasm and professionalism @kiwking, your code worked great for me. Can you tell me when poi will release version 5.2.0","body":"Thanks for your enthusiasm and professionalism @kiwking, your code worked great for me. Can you tell me when poi will release version 5.2.0"},{"owner":{"account_id":2359576,"reputation":3386,"user_id":2066598,"display_name":"kiwiwings"},"score":0,"creation_date":1636357018,"post_id":69819806,"comment_id":123524933,"body_markdown":"5.1.0 was just released, so I guess it will be around March-May 2022 for 5.2.0 to go live. either a) use my poi-examples version, b) apply the patch in the bugzilla entry to 5.1.0 or c) use the [nightly](https://ci-builds.apache.org/job/POI/job/POI-DSL-1.8/lastSuccessfulBuild/artifact/)","body":"5.1.0 was just released, so I guess it will be around March-May 2022 for 5.2.0 to go live. either a) use my poi-examples version, b) apply the patch in the bugzilla entry to 5.1.0 or c) use the <a href=\"https://ci-builds.apache.org/job/POI/job/POI-DSL-1.8/lastSuccessfulBuild/artifact/\" rel=\"nofollow noreferrer\">nightly</a>"}],"owner":{"account_id":20121147,"reputation":11,"user_id":14755627,"display_name":"leminhduc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":139,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635914914,"creation_date":1635914914,"question_id":69819806,"body_markdown":"I am trying to add commitment type and purpose sign document to excel file using poi library in digital signature using java code.\r\nOr if the poi library can&#39;t provide it yet, is there a library that can do the same.\r\n  [image][1]\r\n\r\n  [1]: https://i.stack.imgur.com/DjWzI.png","title":"Add Commitment Type or purpose sign document in digital signature excel","body":"<p>I am trying to add commitment type and purpose sign document to excel file using poi library in digital signature using java code.\nOr if the poi library can't provide it yet, is there a library that can do the same.\n<a href=\"https://i.stack.imgur.com/DjWzI.png\" rel=\"nofollow noreferrer\">image</a></p>\n"},{"tags":["java","file","datetime","last-modified"],"comments":[{"owner":{"account_id":16530625,"reputation":116,"user_id":11943976,"display_name":"KASMI G."},"score":2,"creation_date":1635844456,"post_id":69807840,"comment_id":123394689,"body_markdown":"I think this is what you are looking for : https://stackoverflow.com/questions/2723838/determine-file-creation-date-in-java","body":"I think this is what you are looking for : <a href=\"https://stackoverflow.com/questions/2723838/determine-file-creation-date-in-java\" title=\"determine file creation date in java\">stackoverflow.com/questions/2723838/&hellip;</a>"},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":3,"creation_date":1635844635,"post_id":69807840,"comment_id":123394768,"body_markdown":"I recommend you don’t use `SimpleDateFormat`. That class is notoriously troublesome and long outdated. Instead use `DateTimeFormatter` and other classes from [java.time, the modern Java date and time API](https://docs.oracle.com/javase/tutorial/datetime/). Also using a `long` for a point in time is low-level. You will want to convert it to an `Instant` and probably do further conversions from there.","body":"I recommend you don’t use <code>SimpleDateFormat</code>. That class is notoriously troublesome and long outdated. Instead use <code>DateTimeFormatter</code> and other classes from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API</a>. Also using a <code>long</code> for a point in time is low-level. You will want to convert it to an <code>Instant</code> and probably do further conversions from there."},{"owner":{"account_id":379763,"reputation":29886,"user_id":733345,"display_name":"Joe"},"score":1,"creation_date":1635857179,"post_id":69807840,"comment_id":123399603,"body_markdown":"Does this answer your question? [Determine file creation date in Java](https://stackoverflow.com/questions/2723838/determine-file-creation-date-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/2723838/determine-file-creation-date-in-java\">Determine file creation date in Java</a>"}],"answers":[{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635878023,"creation_date":1635877067,"answer_id":69815182,"question_id":69807840,"body_markdown":"## Java NIO and java.time\r\n\r\nWhile the old `File` class does offer what we need here, I always use the more modern Java NIO (New IO, since Java 1.7) package for file operations. It offers many more operations, so just to make my code ready for any future requirements that `File` may not support. In some situations it is also nicer to work with, for example it provides some support for stream operations (since Java 1.8, obviously).\r\n\r\nI very definitely recommend that you use java.time, the modern Java date and time API, for your date and time work.\r\n\r\nThe two recommendations go nicely hand in hand since a `java.nio.file.attribute.FileTime` has a `toInstant` method for converting to a `java.time.Instant`.\r\n\r\nTo find the file that was least recently modified (where its last modification is the longest time ago):\r\n\r\n\t\tPath dp = Paths.get(&quot;/path/to/your/dir&quot;);\r\n\t\tOptional&lt;Path&gt; firstModified = Files.list(dp)\r\n\t\t\t\t.min(Comparator.comparing(f -&gt; getLastModified(f)));\r\n\t\tfirstModified.ifPresentOrElse(\r\n\t\t\t\tp -&gt; System.out.println(&quot;&quot; + p + &quot; modified &quot;\r\n\t\t\t\t\t\t+ getLastModified(p).atZone(ZoneId.systemDefault())\r\n\t\t\t\t\t\t\t\t.format(FORMATTER)),\r\n\t\t\t\t() -&gt; System.out.println(&quot;No files&quot;));\r\n\r\nExample output:\r\n\r\n&gt; ./useCount.txt modified 2016-12-26 15:11:54\r\n\r\nThe code uses this auxiliary method:\r\n\r\n\tprivate static Instant getLastModified(Path p) {\r\n\t\ttry {\r\n\t\t\treturn Files.readAttributes(p, BasicFileAttributes.class).lastModifiedTime().toInstant();\r\n\t\t} catch (IOException ioe) {\r\n\t\t\tthrow new IllegalStateException(ioe);\r\n\t\t}\r\n\t}\r\n\r\n— and this formatter:\r\n\r\n\tprivate static final DateTimeFormatter FORMATTER\r\n\t\t\t= DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ROOT);\r\n\r\nFor the creation time instead of the last modification time use `creationTime()` in this line;\r\n\r\n\t\t\treturn Files.readAttributes(p, BasicFileAttributes.class).creationTime().toInstant();\r\n\r\n\r\nFor the file that has been modified last just use `max()` instead of `min()` in this line:\r\n\r\n\t\t\t\t.max(Comparator.comparing(f -&gt; getLastModified(f)));\r\n\r\n&gt; ./bin modified 2021-10-12 07:57:08\r\n\r\nBy the way `directory.lastModified()` used in your question gives you the last time the directory itself was modified. It is (usually) not the same time the last file in the directory was modified.\r\n\r\n## Tutorial links\r\n\r\n - [Java NIO Tutorial](http://tutorials.jenkov.com/java-nio/index.html) on Jenkov\r\n - [Oracle tutorial: Date Time](https://docs.oracle.com/javase/tutorial/datetime/) explaining how to use java.time.\r\n","title":"How to get the first file and also the last modified file using java","body":"<h2>Java NIO and java.time</h2>\n<p>While the old <code>File</code> class does offer what we need here, I always use the more modern Java NIO (New IO, since Java 1.7) package for file operations. It offers many more operations, so just to make my code ready for any future requirements that <code>File</code> may not support. In some situations it is also nicer to work with, for example it provides some support for stream operations (since Java 1.8, obviously).</p>\n<p>I very definitely recommend that you use java.time, the modern Java date and time API, for your date and time work.</p>\n<p>The two recommendations go nicely hand in hand since a <code>java.nio.file.attribute.FileTime</code> has a <code>toInstant</code> method for converting to a <code>java.time.Instant</code>.</p>\n<p>To find the file that was least recently modified (where its last modification is the longest time ago):</p>\n<pre><code>    Path dp = Paths.get(&quot;/path/to/your/dir&quot;);\n    Optional&lt;Path&gt; firstModified = Files.list(dp)\n            .min(Comparator.comparing(f -&gt; getLastModified(f)));\n    firstModified.ifPresentOrElse(\n            p -&gt; System.out.println(&quot;&quot; + p + &quot; modified &quot;\n                    + getLastModified(p).atZone(ZoneId.systemDefault())\n                            .format(FORMATTER)),\n            () -&gt; System.out.println(&quot;No files&quot;));\n</code></pre>\n<p>Example output:</p>\n<blockquote>\n<p>./useCount.txt modified 2016-12-26 15:11:54</p>\n</blockquote>\n<p>The code uses this auxiliary method:</p>\n<pre><code>private static Instant getLastModified(Path p) {\n    try {\n        return Files.readAttributes(p, BasicFileAttributes.class).lastModifiedTime().toInstant();\n    } catch (IOException ioe) {\n        throw new IllegalStateException(ioe);\n    }\n}\n</code></pre>\n<p>— and this formatter:</p>\n<pre><code>private static final DateTimeFormatter FORMATTER\n        = DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss&quot;, Locale.ROOT);\n</code></pre>\n<p>For the creation time instead of the last modification time use <code>creationTime()</code> in this line;</p>\n<pre><code>        return Files.readAttributes(p, BasicFileAttributes.class).creationTime().toInstant();\n</code></pre>\n<p>For the file that has been modified last just use <code>max()</code> instead of <code>min()</code> in this line:</p>\n<pre><code>            .max(Comparator.comparing(f -&gt; getLastModified(f)));\n</code></pre>\n<blockquote>\n<p>./bin modified 2021-10-12 07:57:08</p>\n</blockquote>\n<p>By the way <code>directory.lastModified()</code> used in your question gives you the last time the directory itself was modified. It is (usually) not the same time the last file in the directory was modified.</p>\n<h2>Tutorial links</h2>\n<ul>\n<li><a href=\"http://tutorials.jenkov.com/java-nio/index.html\" rel=\"nofollow noreferrer\">Java NIO Tutorial</a> on Jenkov</li>\n<li><a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">Oracle tutorial: Date Time</a> explaining how to use java.time.</li>\n</ul>\n"}],"owner":{"account_id":23212951,"reputation":23,"user_id":17306162,"display_name":"unanonymous56"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1053,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1635914647,"creation_date":1635844268,"question_id":69807840,"body_markdown":"How to get the first created file and also the last modified file using java.\r\n\r\nI have written below snippet for getting last modified date and time , how can I get the date of first created file in a folder.\r\n\r\n    DateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\r\n    long time = directory.lastModified();\r\n    System.out.println(sdf.format(time));\r\n","title":"How to get the first file and also the last modified file using java","body":"<p>How to get the first created file and also the last modified file using java.</p>\n<p>I have written below snippet for getting last modified date and time , how can I get the date of first created file in a folder.</p>\n<pre><code>DateFormat sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss&quot;);\nlong time = directory.lastModified();\nSystem.out.println(sdf.format(time));\n</code></pre>\n"},{"tags":["java","recursion","dynamic-programming","fibonacci","memoization"],"comments":[{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":1,"creation_date":1493569655,"post_id":43708617,"comment_id":74461258,"body_markdown":"For what values of `i` does `fib(i) == 0`?","body":"For what values of <code>i</code> does <code>fib(i) == 0</code>?"},{"owner":{"account_id":10588673,"reputation":31,"user_id":7800076,"accept_rate":100,"display_name":"dtheman94"},"score":0,"creation_date":1493569761,"post_id":43708617,"comment_id":74461297,"body_markdown":"fib(0) which is a base case","body":"fib(0) which is a base case"},{"owner":{"account_id":44195,"reputation":269043,"user_id":129570,"accept_rate":79,"display_name":"Oliver Charlesworth"},"score":0,"creation_date":1493569787,"post_id":43708617,"comment_id":74461312,"body_markdown":"Ok, so what happens when `fibonacci(0, ...)` gets called?","body":"Ok, so what happens when <code>fibonacci(0, ...)</code> gets called?"},{"owner":{"account_id":10588673,"reputation":31,"user_id":7800076,"accept_rate":100,"display_name":"dtheman94"},"score":0,"creation_date":1493570055,"post_id":43708617,"comment_id":74461399,"body_markdown":"0 is returned  to the calling function","body":"0 is returned  to the calling function"}],"answers":[{"tags":[],"owner":{"account_id":447759,"reputation":2315,"user_id":841581,"display_name":"Matthew Burke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1493570199,"creation_date":1493570199,"answer_id":43708740,"question_id":43708617,"body_markdown":"Since the only case where fib(i) should return 0 is when i = 0, then the test `if (memo[i] == 0)` is ok---it is never called for a value where 0 is an ambiguous result because of the first line of the function: `if (i == 0`.\r\n\r\nNote what I think is more puzzling is why is the memoization array created in the wrapper call? Yes, the memoization saves computation for a *given* call, but all that optimization is lost between successive calls to the function.","title":"Fibonacci Memoized/Dynamic Programming in Java","body":"<p>Since the only case where fib(i) should return 0 is when i = 0, then the test <code>if (memo[i] == 0)</code> is ok---it is never called for a value where 0 is an ambiguous result because of the first line of the function: <code>if (i == 0</code>.</p>\n\n<p>Note what I think is more puzzling is why is the memoization array created in the wrapper call? Yes, the memoization saves computation for a <em>given</em> call, but all that optimization is lost between successive calls to the function.</p>\n"},{"tags":[],"owner":{"account_id":16017137,"reputation":313,"user_id":12892702,"display_name":"kingified"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635914215,"creation_date":1635913732,"answer_id":69819690,"question_id":43708617,"body_markdown":"```if(memo[i]==0)```\r\n\r\nThat if block implies that if fibonacci(n) has not already been computed (in which case the value in the i index will be 0), compute the value of fibonacci(n) and cache, but if it has already been computed and stored/cached (in which case the value in the i index would not be 0), do not compute again.\r\n\r\nThe reason for this is because, int array values are by default initialized to 0. You can see how here: &lt;https://stackoverflow.com/questions/2154251/any-shortcut-to-initialize-all-array-elements-to-zero/2154340&gt;","title":"Fibonacci Memoized/Dynamic Programming in Java","body":"<p><code>if(memo[i]==0)</code></p>\n<p>That if block implies that if fibonacci(n) has not already been computed (in which case the value in the i index will be 0), compute the value of fibonacci(n) and cache, but if it has already been computed and stored/cached (in which case the value in the i index would not be 0), do not compute again.</p>\n<p>The reason for this is because, int array values are by default initialized to 0. You can see how here: <a href=\"https://stackoverflow.com/questions/2154251/any-shortcut-to-initialize-all-array-elements-to-zero/2154340\">Any shortcut to initialize all array elements to zero?</a></p>\n"}],"owner":{"account_id":10588673,"reputation":31,"user_id":7800076,"accept_rate":100,"display_name":"dtheman94"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1209,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43708740,"answer_count":2,"score":1,"last_activity_date":1635914215,"creation_date":1493569559,"question_id":43708617,"body_markdown":"So this is some code to calculate the Fibonacci sequence with memoization. What confuses me is when we check if memo[i]==0. I understand that Java arrays are initialized to zero and thus if memo[i] == 0 this may mean that the computation for memo[i] has not yet occured. However, one of the return values for this fibonacci function is 0. So doesn&#39;t this mean that let&#39;s say if fib(3)=0 (I know it doesn&#39;t but just for the sake of arguement) then everytime we have fib(3) we would wind up recomputing fib(3) because the check is if(memo[i] == 0) right? And if that is the case why can we use if(memo[i] == 0) in this particular code and not wind up recomputing a bunch of values?\r\n  \r\n  \r\n    int fibonacci(int n){\r\n      return fibonacci(n, new int[n+1]);\r\n    }\r\n\r\n    int fibonacci(int i, int[] memo) {\r\n      if(i == 0 || i == 1) return i;\r\n\r\n      if(memo[i] == 0){ //This line does not make sense to me\r\n        memo[i] = fibonacci(i - 1, memo) + fibonacci(i - 2, memo);\r\n      }\r\n      return memo[i];\r\n    }","title":"Fibonacci Memoized/Dynamic Programming in Java","body":"<p>So this is some code to calculate the Fibonacci sequence with memoization. What confuses me is when we check if memo[i]==0. I understand that Java arrays are initialized to zero and thus if memo[i] == 0 this may mean that the computation for memo[i] has not yet occured. However, one of the return values for this fibonacci function is 0. So doesn't this mean that let's say if fib(3)=0 (I know it doesn't but just for the sake of arguement) then everytime we have fib(3) we would wind up recomputing fib(3) because the check is if(memo[i] == 0) right? And if that is the case why can we use if(memo[i] == 0) in this particular code and not wind up recomputing a bunch of values?</p>\n\n<pre><code>int fibonacci(int n){\n  return fibonacci(n, new int[n+1]);\n}\n\nint fibonacci(int i, int[] memo) {\n  if(i == 0 || i == 1) return i;\n\n  if(memo[i] == 0){ //This line does not make sense to me\n    memo[i] = fibonacci(i - 1, memo) + fibonacci(i - 2, memo);\n  }\n  return memo[i];\n}\n</code></pre>\n"},{"tags":["java","algorithm","graph-algorithm"],"comments":[{"owner":{"account_id":1039648,"reputation":12287,"user_id":1046007,"display_name":"Walter Tross"},"score":1,"creation_date":1635842212,"post_id":69801010,"comment_id":123393726,"body_markdown":"this is actually a variation of the [knapsack problem](https://en.wikipedia.org/wiki/Knapsack_problem)","body":"this is actually a variation of the <a href=\"https://en.wikipedia.org/wiki/Knapsack_problem\" rel=\"nofollow noreferrer\">knapsack problem</a>"}],"answers":[{"tags":[],"owner":{"account_id":9061,"reputation":19427,"user_id":16582,"accept_rate":67,"display_name":"ravenspoint"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635791956,"creation_date":1635791956,"answer_id":69801319,"question_id":69801010,"body_markdown":" - take smallest cost node from each layer to get minimum cost path\r\n - take largest cost node from each layer to get maximum cost path\r\n - if target outside range between minimum and maximum then DONE\r\n - make minimum path the current path\r\n - select node with largest positive delta from node in path in same layer but which does not put path cost over target when swapped with node in current path. Swap.\r\n - repeat last step until no more swaps are possible.","title":"Finding path through DAG with a total path cost equal or as close as possible to some value","body":"<ul>\n<li>take smallest cost node from each layer to get minimum cost path</li>\n<li>take largest cost node from each layer to get maximum cost path</li>\n<li>if target outside range between minimum and maximum then DONE</li>\n<li>make minimum path the current path</li>\n<li>select node with largest positive delta from node in path in same layer but which does not put path cost over target when swapped with node in current path. Swap.</li>\n<li>repeat last step until no more swaps are possible.</li>\n</ul>\n"},{"tags":[],"owner":{"account_id":22571027,"reputation":5269,"user_id":16757174,"display_name":"kcsquared"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635914161,"creation_date":1635914161,"answer_id":69819730,"question_id":69801010,"body_markdown":"First, I&#39;ll comment that your original problem formulation of &#39;Given n sets of integers and bound B, select one number from each set to achieve the largest sum &lt;= B&#39; is much more straightforward than the DAG path analogy, so I&#39;ll stick to that.\r\n\r\n\r\nUnfortunately, the problem is NP-Hard by reduction from subset sum: Given an instance of subset sum with universe `S = (s1, s2, ... sn)` and target B, create an instance of your problem with n sets of size 2: `(s1, 0), (s2, 0), ... (sn, 0)`. The bound B is reachable iff there is a subset sum equal to B.\r\n\r\n\r\nFortunately, if your values are all small, you can use a pseudopolynomial algorithm similar to the subset-sum algorithm: \r\n\r\n - Initialize a boolean array A of length (B+1) and all values false except A[0] = True \r\n - For each set S in your list of sets: \r\n    - Initialize a new boolean array A&#39; of length (B+1), with all values False. \r\n\r\n     - For each number x in S: \r\n \r\n\r\n       - For each index i with A[i] = True: Set A&#39;[i+x] = True, if in range.\r\n\r\n   - Swap A and A&#39;.","title":"Finding path through DAG with a total path cost equal or as close as possible to some value","body":"<p>First, I'll comment that your original problem formulation of 'Given n sets of integers and bound B, select one number from each set to achieve the largest sum &lt;= B' is much more straightforward than the DAG path analogy, so I'll stick to that.</p>\n<p>Unfortunately, the problem is NP-Hard by reduction from subset sum: Given an instance of subset sum with universe <code>S = (s1, s2, ... sn)</code> and target B, create an instance of your problem with n sets of size 2: <code>(s1, 0), (s2, 0), ... (sn, 0)</code>. The bound B is reachable iff there is a subset sum equal to B.</p>\n<p>Fortunately, if your values are all small, you can use a pseudopolynomial algorithm similar to the subset-sum algorithm:</p>\n<ul>\n<li>Initialize a boolean array A of length (B+1) and all values false except A[0] = True</li>\n<li>For each set S in your list of sets:\n<ul>\n<li><p>Initialize a new boolean array A' of length (B+1), with all values False.</p>\n</li>\n<li><p>For each number x in S:</p>\n<ul>\n<li>For each index i with A[i] = True: Set A'[i+x] = True, if in range.</li>\n</ul>\n</li>\n<li><p>Swap A and A'.</p>\n</li>\n</ul>\n</li>\n</ul>\n"}],"owner":{"account_id":8434427,"reputation":43,"user_id":6329005,"display_name":"superstrayan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":141,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69819730,"answer_count":2,"score":2,"last_activity_date":1635914161,"creation_date":1635790322,"question_id":69801010,"body_markdown":"I am working on a problem that I have generalised to what I have described in the title. Essentially I have a DAG that will look something like this: (I know it doesn&#39;t matter what the DAG looks like I just thought it might show where I am at). \r\n![Graph](https://i.stack.imgur.com/UHKQO.png)\r\nI&#39;ve drawn the vertex values as the edge distance (or cost) from the vertices in the layer, where layers are made of the vertices that are aligned vertically. In other words the edges (a,a&#39;) (b,a&#39;) have equal value when a and b are in the same &quot;layer&quot;.\r\n\r\nI need to find the path from the left most layer to the right most layer such that the sum of the values of the edges in the path are equal, or less than and as close as possible to a target value. \r\n\r\nThe original problem is basically finding a sum of single values in distinct matrices equal (or less than and as close close as possible) to a target value where exactly one value from each value is used. \r\n\r\nI have to use tabulation, and I am not sure how to approach this problem. Im not looking for an entire solution. If this question is poorly written please tell me.","title":"Finding path through DAG with a total path cost equal or as close as possible to some value","body":"<p>I am working on a problem that I have generalised to what I have described in the title. Essentially I have a DAG that will look something like this: (I know it doesn't matter what the DAG looks like I just thought it might show where I am at).\n<img src=\"https://i.stack.imgur.com/UHKQO.png\" alt=\"Graph\" />\nI've drawn the vertex values as the edge distance (or cost) from the vertices in the layer, where layers are made of the vertices that are aligned vertically. In other words the edges (a,a') (b,a') have equal value when a and b are in the same &quot;layer&quot;.</p>\n<p>I need to find the path from the left most layer to the right most layer such that the sum of the values of the edges in the path are equal, or less than and as close as possible to a target value.</p>\n<p>The original problem is basically finding a sum of single values in distinct matrices equal (or less than and as close close as possible) to a target value where exactly one value from each value is used.</p>\n<p>I have to use tabulation, and I am not sure how to approach this problem. Im not looking for an entire solution. If this question is poorly written please tell me.</p>\n"},{"tags":["java","windows","powershell","windows-server-2016","chocolatey"],"comments":[{"owner":{"account_id":1024,"reputation":36915,"user_id":1358,"accept_rate":100,"display_name":"EBGreen"},"score":1,"creation_date":1525708124,"post_id":50217948,"comment_id":87452996,"body_markdown":"So did you try what the log file suggested and run the install telling it to create an installation log?","body":"So did you try what the log file suggested and run the install telling it to create an installation log?"},{"owner":{"account_id":11157611,"reputation":18598,"user_id":8188846,"accept_rate":91,"display_name":"Maximilian Burszley"},"score":0,"creation_date":1525728939,"post_id":50217948,"comment_id":87463130,"body_markdown":"It&#39;s a msi file.  Look at the log for `Return Code 3`.","body":"It&#39;s a msi file.  Look at the log for <code>Return Code 3</code>."}],"answers":[{"tags":[],"owner":{"account_id":341093,"reputation":17870,"user_id":671491,"accept_rate":87,"display_name":"Gary Ewan Park"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1525726812,"creation_date":1525726812,"answer_id":50222349,"question_id":50217948,"body_markdown":"In the most recent versions of Chocolatey, there is more information about about the generic exit code that is 1603.  You can see this information in the log above:\r\n\r\n&gt;openstack: ERROR: Running [&quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\chocolatey\\jre8\\8.0.171\\jre8Install.exe&quot; /s REBOOT=0 SPONSORS=0 AUTO_UPDATE=0  ] was not successful. Exit code was &#39;1603&#39;. Exit code indicates the following: Generic MSI Error. This is a local environment error, not an issue with a package or the MSI itself - it could mean a pending reboot is necessary prior to install or something else (like the same version is already installed). Please see MSI log if available. If not, try again adding &#39;--install-arguments=&quot;&#39;/l*v c:\\jre8_msi_install.log&#39;&quot;&#39;. Then search the MSI Log for &quot;Return Value 3&quot; and look above that for the error.\r\n\r\nThe best recommendation would be to follow those instructions, as that is the best place to find the actual error message.","title":"Chocolatey unable to install jre. Throwing 1603","body":"<p>In the most recent versions of Chocolatey, there is more information about about the generic exit code that is 1603.  You can see this information in the log above:</p>\n\n<blockquote>\n  <p>openstack: ERROR: Running [\"C:\\Users\\Administrator\\AppData\\Local\\Temp\\chocolatey\\jre8\\8.0.171\\jre8Install.exe\" /s REBOOT=0 SPONSORS=0 AUTO_UPDATE=0  ] was not successful. Exit code was '1603'. Exit code indicates the following: Generic MSI Error. This is a local environment error, not an issue with a package or the MSI itself - it could mean a pending reboot is necessary prior to install or something else (like the same version is already installed). Please see MSI log if available. If not, try again adding '--install-arguments=\"'/l*v c:\\jre8_msi_install.log'\"'. Then search the MSI Log for \"Return Value 3\" and look above that for the error.</p>\n</blockquote>\n\n<p>The best recommendation would be to follow those instructions, as that is the best place to find the actual error message.</p>\n"}],"owner":{"account_id":9652344,"reputation":51,"user_id":7163070,"display_name":"sumanth dvk"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":4739,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635913668,"creation_date":1525707821,"question_id":50217948,"body_markdown":"I am unable to install jre in windows 2016 using chocolatey.\r\nIt throws an exit code 1603.\r\n\r\nThe jre is getting downloaded. The problem comes at the time of installing jre.\r\n\r\nFollowing is the log:\r\n\r\n    [server-core-2016]  [0;32m    openstack: Progress: Downloading jre8 8.0.171... 100% [0m\r\n    [server-core-2016]  [0;32m    openstack: Progress: Downloading javaruntime 8.0.151... 100% [0m\r\n    \r\n    [server-core-2016]  [0;32m    openstack: [0m\r\n    [server-core-2016]  [0;32m    openstack: jre8 v8.0.171 [Approved] [0m\r\n    [server-core-2016]  [0;32m    openstack: jre8 package files install completed. Performing other installation steps. [0m\r\n    [server-core-2016]  [0;32m    openstack: Searching if new version exists... [0m\r\n    \r\n    [server-core-2016]  [0;32m    openstack: Downloading jre8 [0m\r\n    [server-core-2016]  [0;32m    openstack:   from &#39;https://javadl.oracle.com/webapps/download/AutoDL?BundleId=233170_512cd62ec5174c3487ac17c61aaa89e8&#39; [0m\r\n    [server-core-2016]  [0;32m    openstack: Progress: 100% - Completed download of C:\\Users\\Administrator\\AppData\\Local\\Temp\\chocolatey\\jre8\\8.0.171\\jre8Install.exe (61.66 MB). [0m\r\n    [server-core-2016]  [0;32m    openstack: Download of jre8Install.exe (61.66 MB) completed. [0m\r\n    \r\n    [server-core-2016]  [0;32m    openstack: Hashes match. [0m\r\n    [server-core-2016]  [0;32m    openstack: Installing jre8... [0m\r\n    \r\n    [server-core-2016]  [0;32m    openstack: WARNING: Generic MSI Error. This is a local environment error, not an issue with a package or the MSI itself - it could mean a pending reboot is necessary prior to install or something else (like the same version is already installed). Please see MSI log if available. If not, try again adding &#39;--install-arguments=&quot;&#39;/l*v c:\\jre8_msi_install.log&#39;&quot;&#39;. Then search the MSI Log for &quot;Return Value 3&quot; and look above that for the error. [0m\r\n    [server-core-2016]  [0;32m    openstack: ERROR: Running [&quot;C:\\Users\\Administrator\\AppData\\Local\\Temp\\chocolatey\\jre8\\8.0.171\\jre8Install.exe&quot; /s REBOOT=0 SPONSORS=0 AUTO_UPDATE=0  ] was not successful. Exit code was &#39;1603&#39;. Exit code indicates the following: Generic MSI Error. This is a local environment error, not an issue with a package or the MSI itself - it could mean a pending reboot is necessary prior to install or something else (like the same version is already installed). Please see MSI log if available. If not, try again adding &#39;--install-arguments=&quot;&#39;/l*v c:\\jre8_msi_install.log&#39;&quot;&#39;. Then search the MSI Log for &quot;Return Value 3&quot; and look above that for the error.. [0m\r\n    [server-core-2016]  [0;32m    openstack: Environment Vars (like PATH) have changed. Close/reopen your shell to [0m\r\n    [server-core-2016]  [0;32m    openstack:  see the changes (or in powershell/cmd.exe just type `refreshenv`). [0m\r\n    [server-core-2016]  [0;32m    openstack: The install of jre8 was NOT successful. [0m\r\n    [server-core-2016]  [0;32m    openstack: Error while running &#39;C:\\ProgramData\\chocolatey\\lib\\jre8\\tools\\chocolateyInstall.ps1&#39;.","title":"Chocolatey unable to install jre. Throwing 1603","body":"<p>I am unable to install jre in windows 2016 using chocolatey.\nIt throws an exit code 1603.</p>\n\n<p>The jre is getting downloaded. The problem comes at the time of installing jre.</p>\n\n<p>Following is the log:</p>\n\n<pre><code>[server-core-2016]  [0;32m    openstack: Progress: Downloading jre8 8.0.171... 100% [0m\n[server-core-2016]  [0;32m    openstack: Progress: Downloading javaruntime 8.0.151... 100% [0m\n\n[server-core-2016]  [0;32m    openstack: [0m\n[server-core-2016]  [0;32m    openstack: jre8 v8.0.171 [Approved] [0m\n[server-core-2016]  [0;32m    openstack: jre8 package files install completed. Performing other installation steps. [0m\n[server-core-2016]  [0;32m    openstack: Searching if new version exists... [0m\n\n[server-core-2016]  [0;32m    openstack: Downloading jre8 [0m\n[server-core-2016]  [0;32m    openstack:   from 'https://javadl.oracle.com/webapps/download/AutoDL?BundleId=233170_512cd62ec5174c3487ac17c61aaa89e8' [0m\n[server-core-2016]  [0;32m    openstack: Progress: 100% - Completed download of C:\\Users\\Administrator\\AppData\\Local\\Temp\\chocolatey\\jre8\\8.0.171\\jre8Install.exe (61.66 MB). [0m\n[server-core-2016]  [0;32m    openstack: Download of jre8Install.exe (61.66 MB) completed. [0m\n\n[server-core-2016]  [0;32m    openstack: Hashes match. [0m\n[server-core-2016]  [0;32m    openstack: Installing jre8... [0m\n\n[server-core-2016]  [0;32m    openstack: WARNING: Generic MSI Error. This is a local environment error, not an issue with a package or the MSI itself - it could mean a pending reboot is necessary prior to install or something else (like the same version is already installed). Please see MSI log if available. If not, try again adding '--install-arguments=\"'/l*v c:\\jre8_msi_install.log'\"'. Then search the MSI Log for \"Return Value 3\" and look above that for the error. [0m\n[server-core-2016]  [0;32m    openstack: ERROR: Running [\"C:\\Users\\Administrator\\AppData\\Local\\Temp\\chocolatey\\jre8\\8.0.171\\jre8Install.exe\" /s REBOOT=0 SPONSORS=0 AUTO_UPDATE=0  ] was not successful. Exit code was '1603'. Exit code indicates the following: Generic MSI Error. This is a local environment error, not an issue with a package or the MSI itself - it could mean a pending reboot is necessary prior to install or something else (like the same version is already installed). Please see MSI log if available. If not, try again adding '--install-arguments=\"'/l*v c:\\jre8_msi_install.log'\"'. Then search the MSI Log for \"Return Value 3\" and look above that for the error.. [0m\n[server-core-2016]  [0;32m    openstack: Environment Vars (like PATH) have changed. Close/reopen your shell to [0m\n[server-core-2016]  [0;32m    openstack:  see the changes (or in powershell/cmd.exe just type `refreshenv`). [0m\n[server-core-2016]  [0;32m    openstack: The install of jre8 was NOT successful. [0m\n[server-core-2016]  [0;32m    openstack: Error while running 'C:\\ProgramData\\chocolatey\\lib\\jre8\\tools\\chocolateyInstall.ps1'.\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":40662,"reputation":20954,"user_id":117839,"accept_rate":74,"display_name":"Michael Wiles"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551182532,"creation_date":1551182532,"answer_id":54885130,"question_id":54885036,"body_markdown":"    @TestPropertySource(properties = {&quot;ticketing.profile=test&quot;}) \r\n\r\nWill ***NOT*** affect the system property ```ticketing.profile```.\r\n\r\nYou code should not use the system property to get the value as that means you cannot override it. \r\n\r\nCode should use spring property fetcher which can defer to system properties if not found.\r\n\r\nThe typical approach is to set a default property in the code (or in the test as you&#39;ve done) and then override it via setting the system property.","title":"Should @TestPropertySource(properties = {&quot;ticketing.profile=test&quot;}) update the system property value automatically?","body":"<pre><code>@TestPropertySource(properties = {\"ticketing.profile=test\"}) \n</code></pre>\n\n<p>Will <strong><em>NOT</em></strong> affect the system property <code>ticketing.profile</code>.</p>\n\n<p>You code should not use the system property to get the value as that means you cannot override it. </p>\n\n<p>Code should use spring property fetcher which can defer to system properties if not found.</p>\n\n<p>The typical approach is to set a default property in the code (or in the test as you've done) and then override it via setting the system property.</p>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":227,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635912605,"creation_date":1551182236,"question_id":54885036,"body_markdown":"I am working with Spring Boot and the com.springweb.tester package for creating tests.\r\nI have a test class which begins like this:\r\n\r\n    @RunWith(SpringRunner.class)\r\n    @TestPropertySource(properties = {&quot;ticketing.profile=test&quot;})\r\n    @SpringBootTest(classes = TicketingConfiguration.class, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\r\n    public class TicketingControllerTest extends BaseControllerTest {\r\n    ....\r\n    }\r\n\r\nIs my understanding that calling\r\n\r\n    System.getProperty(&quot;ticketing.profile&quot;)\r\n\r\nwithin one of the test methods (especially inside overridden testInit() method), will return &quot;test&quot; is logical?\r\n\r\nTo me it returns null.","title":"Should @TestPropertySource(properties = {&quot;ticketing.profile=test&quot;}) update the system property value automatically?","body":"<p>I am working with Spring Boot and the com.springweb.tester package for creating tests.\nI have a test class which begins like this:</p>\n<pre><code>@RunWith(SpringRunner.class)\n@TestPropertySource(properties = {&quot;ticketing.profile=test&quot;})\n@SpringBootTest(classes = TicketingConfiguration.class, webEnvironment = SpringBootTest.WebEnvironment.DEFINED_PORT)\npublic class TicketingControllerTest extends BaseControllerTest {\n....\n}\n</code></pre>\n<p>Is my understanding that calling</p>\n<pre><code>System.getProperty(&quot;ticketing.profile&quot;)\n</code></pre>\n<p>within one of the test methods (especially inside overridden testInit() method), will return &quot;test&quot; is logical?</p>\n<p>To me it returns null.</p>\n"},{"tags":["java","windows","jar","registry"],"comments":[{"owner":{"account_id":5221034,"reputation":218,"user_id":4867727,"display_name":"GiantTree"},"score":0,"creation_date":1431346907,"post_id":30167472,"comment_id":48441280,"body_markdown":"is `jcm.exe` the correct file? try using proper capitalization and put both paths in quotes (Java *and* your jar-file). Note that your third command is running &quot;c:\\program&quot; as a command (because of the space) and your fourth one as well.","body":"is <code>jcm.exe</code> the correct file? try using proper capitalization and put both paths in quotes (Java <i>and</i> your jar-file). Note that your third command is running &quot;c:\\program&quot; as a command (because of the space) and your fourth one as well."}],"answers":[{"tags":[],"owner":{"account_id":6094808,"reputation":7041,"user_id":4755974,"display_name":"Veselin Davidov"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1477858366,"creation_date":1431347072,"answer_id":30167576,"question_id":30167472,"body_markdown":"You probably have a problem in the command line. I think it should be something like that last row that you have used but with jar and not exe.\r\n\r\n    &quot;c:\\program files(x86)\\java\\jre1.8.31\\bin\\java.exe&quot; -jar c:\\jcm\\jcm.jar\r\n\r\nYou just need to test it in command line first and if it works it will work in the registry. You can also make a .bat file to start the java program and copy that to windows Startup Folder instead of using the registry.\r\n\r\nThe startup folder you can find here: \r\nhttp://windows.microsoft.com/en-us/windows/run-program-automatically-windows-starts#1TC=windows-7","title":"How to launch a jar file on windows startup from the registry?","body":"<p>You probably have a problem in the command line. I think it should be something like that last row that you have used but with jar and not exe.</p>\n\n<pre><code>\"c:\\program files(x86)\\java\\jre1.8.31\\bin\\java.exe\" -jar c:\\jcm\\jcm.jar\n</code></pre>\n\n<p>You just need to test it in command line first and if it works it will work in the registry. You can also make a .bat file to start the java program and copy that to windows Startup Folder instead of using the registry.</p>\n\n<p>The startup folder you can find here: \n<a href=\"http://windows.microsoft.com/en-us/windows/run-program-automatically-windows-starts#1TC=windows-7\" rel=\"nofollow\">http://windows.microsoft.com/en-us/windows/run-program-automatically-windows-starts#1TC=windows-7</a></p>\n"},{"tags":[],"owner":{"account_id":8212780,"reputation":173,"user_id":6180243,"display_name":"iamfnizami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1623848614,"creation_date":1623848614,"answer_id":68003218,"question_id":30167472,"body_markdown":"**If it is Windows 10 then you may try this way-**\r\n\r\n 1. Create a batch file e.g. (my-batch.bat with below statements.)\r\n\r\n    @echo off\r\n\r\n    title my-app batch script!\r\n\r\n    echo my-app welcomes you!\r\n    \r\n    :: *If your JAR contains GUI then use-*\r\n\r\n    start javaw -Xmx200m -jar D:\\Softwares\\JAR\\my-app-v1.0.jar\r\n    \r\n    :: *Otherwise use-*\r\n\r\n    start java -jar D:\\Softwares\\JAR\\my-app-v1.0.jar\r\n\r\n 2. Copy this my-batch.bat file at\r\n    **C:\\Users\\pc\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup**\r\n\r\n 3. Restart your PC to execute your JAR on startup.\r\n\r\n\r\n**Now, You may check your running JAR using Command Prompt with below commands-**\r\n\r\n    1. jps -l\r\n\r\n&gt; ***Output will look like-***\r\n&gt; \r\n&gt; \r\n&gt; 8120 sun.tools.jps.Jps \t\r\n&gt; 13276 D:\\Softwares\\JAR\\my-app-v1.0.jar\r\n\r\n\r\n    2. tasklist /V\r\n\r\n","title":"How to launch a jar file on windows startup from the registry?","body":"<p><strong>If it is Windows 10 then you may try this way-</strong></p>\n<ol>\n<li><p>Create a batch file e.g. (my-batch.bat with below statements.)</p>\n<p>@echo off</p>\n<p>title my-app batch script!</p>\n<p>echo my-app welcomes you!</p>\n<p>:: <em>If your JAR contains GUI then use-</em></p>\n<p>start javaw -Xmx200m -jar D:\\Softwares\\JAR\\my-app-v1.0.jar</p>\n<p>:: <em>Otherwise use-</em></p>\n<p>start java -jar D:\\Softwares\\JAR\\my-app-v1.0.jar</p>\n</li>\n<li><p>Copy this my-batch.bat file at\n<strong>C:\\Users\\pc\\AppData\\Roaming\\Microsoft\\Windows\\Start Menu\\Programs\\Startup</strong></p>\n</li>\n<li><p>Restart your PC to execute your JAR on startup.</p>\n</li>\n</ol>\n<p><strong>Now, You may check your running JAR using Command Prompt with below commands-</strong></p>\n<pre><code>1. jps -l\n</code></pre>\n<blockquote>\n<p><em><strong>Output will look like-</strong></em></p>\n<p>8120 sun.tools.jps.Jps<br />\n13276 D:\\Softwares\\JAR\\my-app-v1.0.jar</p>\n</blockquote>\n<pre><code>2. tasklist /V\n</code></pre>\n"}],"owner":{"account_id":3431310,"reputation":1967,"user_id":2875641,"accept_rate":60,"display_name":"dushkin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4005,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":30167576,"answer_count":2,"score":2,"last_activity_date":1635912475,"creation_date":1431346794,"question_id":30167472,"body_markdown":"I am trying to launch a jar file on Windows Server 2008 R2 startup.\r\n\r\n I tried to add a key\\value to\r\n\r\n    HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Run\r\n\r\n I tried as a value several alternatives:\r\n\r\n     java -jar c:\\jcm\\jcm.jar\r\n     &quot;java -jar c:\\jcm\\jcm.jar&quot;\r\n     c:\\program files(x86)\\java\\jre1.8.31\\bin\\java.exe -jar c:\\jcm\\jcm.jar\r\n     &quot;c:\\program files(x86)\\java\\jre1.8.31\\bin\\java.exe -jar c:\\jcm\\jcm.jar&quot;\r\n     &quot;c:\\program files(x86)\\java\\jre1.8.31\\bin\\java.exe&quot; -jar c:\\jcm\\jcm.jar\r\n\r\n But none of them launched the program.\r\n\r\n Can you advise please?\r\n\r\n--------------------------------------\r\nEDIT: Fixed exe to jar of course","title":"How to launch a jar file on windows startup from the registry?","body":"<p>I am trying to launch a jar file on Windows Server 2008 R2 startup.</p>\n<p>I tried to add a key\\value to</p>\n<pre><code>HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\CurrentVersion\\Run\n</code></pre>\n<p>I tried as a value several alternatives:</p>\n<pre><code> java -jar c:\\jcm\\jcm.jar\n &quot;java -jar c:\\jcm\\jcm.jar&quot;\n c:\\program files(x86)\\java\\jre1.8.31\\bin\\java.exe -jar c:\\jcm\\jcm.jar\n &quot;c:\\program files(x86)\\java\\jre1.8.31\\bin\\java.exe -jar c:\\jcm\\jcm.jar&quot;\n &quot;c:\\program files(x86)\\java\\jre1.8.31\\bin\\java.exe&quot; -jar c:\\jcm\\jcm.jar\n</code></pre>\n<p>But none of them launched the program.</p>\n<p>Can you advise please?</p>\n<hr />\n<p>EDIT: Fixed exe to jar of course</p>\n"},{"tags":["java","eclipse","tomcat","intellij-idea","application-server"],"comments":[{"owner":{"account_id":1374097,"reputation":564,"user_id":1308453,"accept_rate":100,"display_name":"Philip Rego"},"score":0,"creation_date":1553277852,"post_id":21605068,"comment_id":97339333,"body_markdown":"still needs an answer","body":"still needs an answer"}],"answers":[{"tags":[],"owner":{"account_id":1130295,"reputation":16057,"user_id":1116549,"display_name":"Darek Kay"},"down_vote_count":1,"up_vote_count":15,"is_accepted":true,"score":14,"last_activity_date":1391699187,"creation_date":1391699187,"answer_id":21606506,"question_id":21605068,"body_markdown":"&gt; For this tool window to be available, the Application Servers View plugin must be enabled and there must be at least one application server run/debug configuration in your project.\r\n\r\nSource: http://www.jetbrains.com/idea/webhelp/application-servers-tool-window.html","title":"Application servers tab not enabled in Intellij ultimate edition","body":"<blockquote>\n  <p>For this tool window to be available, the Application Servers View plugin must be enabled and there must be at least one application server run/debug configuration in your project.</p>\n</blockquote>\n\n<p>Source: <a href=\"http://www.jetbrains.com/idea/webhelp/application-servers-tool-window.html\" rel=\"noreferrer\">http://www.jetbrains.com/idea/webhelp/application-servers-tool-window.html</a></p>\n"},{"tags":[],"owner":{"account_id":23195825,"reputation":1,"user_id":17291480,"display_name":"Niroshan JB"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635912047,"creation_date":1635912047,"answer_id":69819527,"question_id":21605068,"body_markdown":"Make sure that &#39;JavaEE: EJB, JPA, Servlets&#39; plugin is enabled in intelliJ&#39;s plugins(File &gt; Settings &gt; Plugins[&#39;Installed&#39; tab])","title":"Application servers tab not enabled in Intellij ultimate edition","body":"<p>Make sure that 'JavaEE: EJB, JPA, Servlets' plugin is enabled in intelliJ's plugins(File &gt; Settings &gt; Plugins['Installed' tab])</p>\n"}],"owner":{"account_id":1881512,"reputation":401,"user_id":1701614,"accept_rate":89,"display_name":"neilson"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":14687,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":21606506,"answer_count":2,"score":9,"last_activity_date":1635912047,"creation_date":1391695363,"question_id":21605068,"body_markdown":"So, after several years using Eclipse I finally decided to give IntelliJ a chance **(ultimate edition)**.\r\nI added the tomcat server in the file-&gt;settings... option.\r\nThe tomcat integration plugin is also enabled in the plugin list.\r\nHitting Control + Shift + A and typing &quot;Application Servers&quot; will show me a &quot;disabled&quot; option. The same happens in the View menu.\r\nSo, how can I enable the tab, deploy and manage my web apps?\r\nThanks :)\r\n","title":"Application servers tab not enabled in Intellij ultimate edition","body":"<p>So, after several years using Eclipse I finally decided to give IntelliJ a chance <strong>(ultimate edition)</strong>.\nI added the tomcat server in the file->settings... option.\nThe tomcat integration plugin is also enabled in the plugin list.\nHitting Control + Shift + A and typing \"Application Servers\" will show me a \"disabled\" option. The same happens in the View menu.\nSo, how can I enable the tab, deploy and manage my web apps?\nThanks :)</p>\n"},{"tags":["java","tcp","reactor-netty"],"answers":[{"tags":[],"owner":{"account_id":6331279,"reputation":35,"user_id":4916143,"display_name":"Abinaya LK"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635867007,"creation_date":1635867007,"answer_id":69812978,"question_id":69805665,"body_markdown":"I tried with TCPClient to send byte array rather than Socket output stream. And it worked.\r\n\r\n    TcpClient.create()\r\n            .host(host)\r\n            .port(port)\r\n            .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 3000)\r\n            .wiretap(true)\r\n            .connect()\r\n            .flatMap(connection -&gt;\r\n                connection.outbound().sendByteArray(Mono.just(byteArray))\r\n                    .then(connection.inbound().receive().asByteArray().next().flatMap(bytes -&gt; {\r\n                      LOGGER.info(&quot;bytes {}&quot;, bytes);\r\n                      return Mono.empty();\r\n                    }))\r\n                    .then()\r\n            )\r\n            .subscribe();\r\n\r\nThis sends the exact byte array to TCP Server. :)","title":"TCP Client Server communication - The input byte array is modified as the server receives","body":"<p>I tried with TCPClient to send byte array rather than Socket output stream. And it worked.</p>\n<pre><code>TcpClient.create()\n        .host(host)\n        .port(port)\n        .option(ChannelOption.CONNECT_TIMEOUT_MILLIS, 3000)\n        .wiretap(true)\n        .connect()\n        .flatMap(connection -&gt;\n            connection.outbound().sendByteArray(Mono.just(byteArray))\n                .then(connection.inbound().receive().asByteArray().next().flatMap(bytes -&gt; {\n                  LOGGER.info(&quot;bytes {}&quot;, bytes);\n                  return Mono.empty();\n                }))\n                .then()\n        )\n        .subscribe();\n</code></pre>\n<p>This sends the exact byte array to TCP Server. :)</p>\n"},{"tags":[],"owner":{"account_id":10312155,"reputation":968,"user_id":7607594,"display_name":"Jorge Omar Medra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635911918,"creation_date":1635911918,"answer_id":69819513,"question_id":69805665,"body_markdown":"Abinaya\r\n\r\nYour problem is that you are sending an `Object`, an `Array` is an object as you can see on this [link][1]. `writeObject` serializes the array and sent it from your client to your server and your server receive all the bytes which represents the array which is not the information that you are expecting, you are expecting only the array values. \r\n\r\n\r\nInstead of using [writeObject(Object obj)][2] you should use [write(byte[] buf)][3], which send the byte of an array.\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3.2\r\n  [2]: https://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html#writeObject(java.lang.Object)\r\n  [3]: https://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html#write(byte[])","title":"TCP Client Server communication - The input byte array is modified as the server receives","body":"<p>Abinaya</p>\n<p>Your problem is that you are sending an <code>Object</code>, an <code>Array</code> is an object as you can see on this <a href=\"https://docs.oracle.com/javase/specs/jls/se7/html/jls-4.html#jls-4.3.2\" rel=\"nofollow noreferrer\">link</a>. <code>writeObject</code> serializes the array and sent it from your client to your server and your server receive all the bytes which represents the array which is not the information that you are expecting, you are expecting only the array values.</p>\n<p>Instead of using <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html#writeObject(java.lang.Object)\" rel=\"nofollow noreferrer\">writeObject(Object obj)</a> you should use <a href=\"https://docs.oracle.com/javase/7/docs/api/java/io/ObjectOutputStream.html#write(byte%5B%5D)\" rel=\"nofollow noreferrer\">write(byte[] buf)</a>, which send the byte of an array.</p>\n"}],"owner":{"account_id":6331279,"reputation":35,"user_id":4916143,"display_name":"Abinaya LK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635911918,"creation_date":1635830055,"question_id":69805665,"body_markdown":"TCP Server:\r\n\r\n    public Flux&lt;Void&gt; handleMessage(NettyInbound inbound, NettyOutbound outbound, boolean isSBD) {\r\n        LOGGER.debug(LOGGER_HANDLE_MESSAGE);\r\n    \r\n        return inbound.receive().asByteArray().flatMap(bytes -&gt; {\r\n          LOGGER.info(LOGGER_MESSAGE_RECEIVED);\r\n          LOGGER.debug(LOGGER_PAYLOAD, bytes);\r\n    \t});\r\n    }\r\n\r\nTCP Client:\r\n\r\n \r\n\r\n    byte[] byteArray = new byte[]{(byte) 0x01, (byte) 0x12};\r\n    try (Socket socket = new Socket(host, port)) {\r\n      ObjectOutputStream objectOutputStream = new ObjectOutputStream(socket.getOutputStream());\r\n      objectOutputStream.writeObject(byteArray);\r\n      ObjectInputStream objectInputStream = new ObjectInputStream(socket.getInputStream());\r\n      return objectInputStream.readObject();\r\n    } catch (Exception ex) {\r\n      LOGGER.error(&quot;exception occurred&quot; + ex.getMessage());\r\n      ex.printStackTrace();\r\n      return &quot;Exception&quot;;\r\n    }\r\n\r\nWhen the server receives the message sent by TCP Client, I dont see the same byte array.\r\nSay, if I send byte[] byteArray = new byte[]{(byte) 0x06, (byte) 0x12};. In Server, when it received, it is : [-84, -19, 0, 5, 117, 114, 0, 2, 91, 66, -84, -13, 23, -8, 6, 8, 84, -32, 2, 0, 0, 120, 112, 0, 0, 0, 2, 6, 18]\r\n\r\nI was trying to receive the same byte array in the server side. Am I doing anything wrong while sending the byte array from client. Please advise","title":"TCP Client Server communication - The input byte array is modified as the server receives","body":"<p>TCP Server:</p>\n<pre><code>public Flux&lt;Void&gt; handleMessage(NettyInbound inbound, NettyOutbound outbound, boolean isSBD) {\n    LOGGER.debug(LOGGER_HANDLE_MESSAGE);\n\n    return inbound.receive().asByteArray().flatMap(bytes -&gt; {\n      LOGGER.info(LOGGER_MESSAGE_RECEIVED);\n      LOGGER.debug(LOGGER_PAYLOAD, bytes);\n    });\n}\n</code></pre>\n<p>TCP Client:</p>\n<pre><code>byte[] byteArray = new byte[]{(byte) 0x01, (byte) 0x12};\ntry (Socket socket = new Socket(host, port)) {\n  ObjectOutputStream objectOutputStream = new ObjectOutputStream(socket.getOutputStream());\n  objectOutputStream.writeObject(byteArray);\n  ObjectInputStream objectInputStream = new ObjectInputStream(socket.getInputStream());\n  return objectInputStream.readObject();\n} catch (Exception ex) {\n  LOGGER.error(&quot;exception occurred&quot; + ex.getMessage());\n  ex.printStackTrace();\n  return &quot;Exception&quot;;\n}\n</code></pre>\n<p>When the server receives the message sent by TCP Client, I dont see the same byte array.\nSay, if I send byte[] byteArray = new byte[]{(byte) 0x06, (byte) 0x12};. In Server, when it received, it is : [-84, -19, 0, 5, 117, 114, 0, 2, 91, 66, -84, -13, 23, -8, 6, 8, 84, -32, 2, 0, 0, 120, 112, 0, 0, 0, 2, 6, 18]</p>\n<p>I was trying to receive the same byte array in the server side. Am I doing anything wrong while sending the byte array from client. Please advise</p>\n"},{"tags":["java","class","interface","overloading","abstract-class"],"comments":[{"owner":{"display_name":"user17188729"},"score":0,"creation_date":1635791510,"post_id":69801158,"comment_id":123382633,"body_markdown":"Does anybody else have no experience with interface / abstract classes?","body":"Does anybody else have no experience with interface / abstract classes?"},{"owner":{"display_name":"user17188729"},"score":0,"creation_date":1635791577,"post_id":69801158,"comment_id":123382654,"body_markdown":"@ChrisPratt Any reply pls?","body":"@ChrisPratt Any reply pls?"},{"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"score":2,"creation_date":1635791599,"post_id":69801158,"comment_id":123382662,"body_markdown":"If you need different method signatures, then you shouldn&#39;t extend the same abstract class.","body":"If you need different method signatures, then you shouldn&#39;t extend the same abstract class."},{"owner":{"display_name":"user17188729"},"score":0,"creation_date":1635791677,"post_id":69801158,"comment_id":123382691,"body_markdown":"@LouisWasserman In this case, what should I do? Could you pls post an answer to explain your suggestion?","body":"@LouisWasserman In this case, what should I do? Could you pls post an answer to explain your suggestion?"},{"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"score":1,"creation_date":1635792482,"post_id":69801158,"comment_id":123382993,"body_markdown":"What is the uuid parameter an id for?  Does it identify which Manager or something else?  Is it possible that this should be passed to the ManagerExporter constructor rather than the getData() method?  Or do you need to be able to export different sets of data from a single instance of ManagerExporter?","body":"What is the uuid parameter an id for?  Does it identify which Manager or something else?  Is it possible that this should be passed to the ManagerExporter constructor rather than the getData() method?  Or do you need to be able to export different sets of data from a single instance of ManagerExporter?"},{"owner":{"display_name":"user17188729"},"score":0,"creation_date":1635829905,"post_id":69801158,"comment_id":123390718,"body_markdown":"@DaveS Thanks for reply, but you pointed the most unnecessary point, because it does not make any sense. I just gave it to show the same method also need to take parameter. You can think that parameter whatever you want. Instead, you may concentrate on the real problem.","body":"@DaveS Thanks for reply, but you pointed the most unnecessary point, because it does not make any sense. I just gave it to show the same method also need to take parameter. You can think that parameter whatever you want. Instead, you may concentrate on the real problem."},{"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"score":0,"creation_date":1635911292,"post_id":69801158,"comment_id":123416193,"body_markdown":"Your real problem is not about coding, you understand the coding part perfectly.  All methods declared in the abstract class must be implemented by all subclasses.  Your real problem is class responsibilities.  Who should be responsible for making the UUID available to the implementation of getData() in the subclass, the caller of getData() or another class?  You don&#39;t need to tell me but you need to have another look at your design and ask yourself these questions.  Or, you could consider this purely a coding problem, declare the method as getData( Object[] ) and see how that turns out : )","body":"Your real problem is not about coding, you understand the coding part perfectly.  All methods declared in the abstract class must be implemented by all subclasses.  Your real problem is class responsibilities.  Who should be responsible for making the UUID available to the implementation of getData() in the subclass, the caller of getData() or another class?  You don&#39;t need to tell me but you need to have another look at your design and ask yourself these questions.  Or, you could consider this purely a coding problem, declare the method as getData( Object[] ) and see how that turns out : )"}],"answers":[{"tags":[],"owner":{"account_id":465573,"reputation":192694,"user_id":869736,"accept_rate":82,"display_name":"Louis Wasserman"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635872055,"creation_date":1635791816,"answer_id":69801291,"question_id":69801158,"body_markdown":"If you need different method signatures, then you shouldn&#39;t extend the same abstract class.\r\n\r\nSo...just don&#39;t bother.  \r\n\r\n```\r\npublic interface DataExporter {\r\n    MultipartFile export() throws IOException;\r\n}\r\n\r\npublic class EmployeeExporter implements DataExporter {\r\n    protected Iterable&lt;EmployeeDTO&gt; getData() {\r\n        // code omitted\r\n    }\r\n}\r\npublic class ManagerExporter implements DataExporter {   \r\n    protected Iterable&lt;ManagerDTO&gt; getData(UUID uuid) {\r\n        // code omitted\r\n    }\r\n}\r\n```","title":"Overloading an Abstract method in Java?","body":"<p>If you need different method signatures, then you shouldn't extend the same abstract class.</p>\n<p>So...just don't bother.</p>\n<pre><code>public interface DataExporter {\n    MultipartFile export() throws IOException;\n}\n\npublic class EmployeeExporter implements DataExporter {\n    protected Iterable&lt;EmployeeDTO&gt; getData() {\n        // code omitted\n    }\n}\npublic class ManagerExporter implements DataExporter {   \n    protected Iterable&lt;ManagerDTO&gt; getData(UUID uuid) {\n        // code omitted\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11347144,"reputation":951,"user_id":8319308,"display_name":"Vadim Beskrovnov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635792332,"creation_date":1635792332,"answer_id":69801405,"question_id":69801158,"body_markdown":"It depends on how you are going to use your DataExporter. If you want to use both methods of this class, then you have to add a method in all implementations, otherwise, you just do not need one of these methods in the parent class.","title":"Overloading an Abstract method in Java?","body":"<p>It depends on how you are going to use your DataExporter. If you want to use both methods of this class, then you have to add a method in all implementations, otherwise, you just do not need one of these methods in the parent class.</p>\n"},{"tags":[],"owner":{"account_id":4473596,"reputation":614,"user_id":3639235,"display_name":"Dave S"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635911739,"creation_date":1635795436,"answer_id":69801970,"question_id":69801158,"body_markdown":"You need to look at the code where you are calling `getData()`.\r\n\r\nIn your original question you said &quot;I call `getData()` method in my exporter class as shown below&quot;.  But what you show below is not a call, it&#39;s a concrete implementation of the abstract method.\r\n\r\nThe `getData()` method is protected so it&#39;s only being called by AbstractExporter or its subclasses.  Does AbstractExporter have at least one concrete method implementation that calls `getData()`?\r\n\r\nIf not then you can simply remove `getData()` from that abstract class.  All calls to `getData()` are in the sub-classes and they presumably know the right arguments to pass.  The `getData()` method can be removed from the abstract class and declared (possibly as private) in the concrete implementation classes.\r\n\r\n    public interface DataExporter {\r\n        MultipartFile export() throws IOException;\r\n    }\r\n\r\n    public abstract class AbstractExporter&lt;T&gt; implements DataExporter {\r\n        // No call to getData() occurs anywhere in this class\r\n    }\r\n\r\n    public class EmployeeExporter extends AbstractExporter&lt;EmployeeDTO&gt; {\r\n    \r\n        private Iterable&lt;EmployeeDTO&gt; getData() {\r\n            // code omitted\r\n        }\r\n    }\r\n\r\n    public class ManagerExporter extends AbstractExporter&lt;ManagerDTO&gt; {\r\n    \r\n        private Iterable&lt;ManagerDTO&gt; getData(UUID uuid) {\r\n            // code omitted\r\n        }\r\n    }\r\n\r\n\r\n\r\nIf AbstractExporter contains calls to `getData()` then how does it determine what arguments it should pass to that method?  Something smells fishy.  Instances of AbstractExporter can be used interchangeably.  Each subclass should know how to perform `getData()` using the same set of parameters.  If ManagerExporter requires a UUID to perform its export then you could possibly assign that value when the instance is constructed rather than passing it as an argument to `getData()`.\r\n\r\n    public interface DataExporter {\r\n        MultipartFile export() throws IOException;\r\n    }\r\n\r\n    public abstract class AbstractExporter&lt;T&gt; implements DataExporter {\r\n        protected abstract Iterable&lt;T&gt; getData();\r\n\r\n        public MultipartFile export() throws IOException {\r\n            // Call to getData() occurs here or somewhere else in this class\r\n        }\r\n    }\r\n\r\n    public class EmployeeExporter extends AbstractExporter&lt;EmployeeDTO&gt; {\r\n    \r\n        protected Iterable&lt;EmployeeDTO&gt; getData() {\r\n            // code omitted\r\n        }\r\n    }\r\n\r\n    public class ManagerExporter extends AbstractExporter&lt;ManagerDTO&gt; {\r\n        private uuid;\r\n        public ManagerExporter( UUID uuid ) {\r\n            // The uuid is determined when the object is constructed\r\n            this.uuid = uuid;\r\n        }\r\n        protected Iterable&lt;ManagerDTO&gt; getData() {\r\n            // Use this.uuid in my implementation\r\n        }\r\n    }\r\n\r\n\r\n","title":"Overloading an Abstract method in Java?","body":"<p>You need to look at the code where you are calling <code>getData()</code>.</p>\n<p>In your original question you said &quot;I call <code>getData()</code> method in my exporter class as shown below&quot;.  But what you show below is not a call, it's a concrete implementation of the abstract method.</p>\n<p>The <code>getData()</code> method is protected so it's only being called by AbstractExporter or its subclasses.  Does AbstractExporter have at least one concrete method implementation that calls <code>getData()</code>?</p>\n<p>If not then you can simply remove <code>getData()</code> from that abstract class.  All calls to <code>getData()</code> are in the sub-classes and they presumably know the right arguments to pass.  The <code>getData()</code> method can be removed from the abstract class and declared (possibly as private) in the concrete implementation classes.</p>\n<pre><code>public interface DataExporter {\n    MultipartFile export() throws IOException;\n}\n\npublic abstract class AbstractExporter&lt;T&gt; implements DataExporter {\n    // No call to getData() occurs anywhere in this class\n}\n\npublic class EmployeeExporter extends AbstractExporter&lt;EmployeeDTO&gt; {\n\n    private Iterable&lt;EmployeeDTO&gt; getData() {\n        // code omitted\n    }\n}\n\npublic class ManagerExporter extends AbstractExporter&lt;ManagerDTO&gt; {\n\n    private Iterable&lt;ManagerDTO&gt; getData(UUID uuid) {\n        // code omitted\n    }\n}\n</code></pre>\n<p>If AbstractExporter contains calls to <code>getData()</code> then how does it determine what arguments it should pass to that method?  Something smells fishy.  Instances of AbstractExporter can be used interchangeably.  Each subclass should know how to perform <code>getData()</code> using the same set of parameters.  If ManagerExporter requires a UUID to perform its export then you could possibly assign that value when the instance is constructed rather than passing it as an argument to <code>getData()</code>.</p>\n<pre><code>public interface DataExporter {\n    MultipartFile export() throws IOException;\n}\n\npublic abstract class AbstractExporter&lt;T&gt; implements DataExporter {\n    protected abstract Iterable&lt;T&gt; getData();\n\n    public MultipartFile export() throws IOException {\n        // Call to getData() occurs here or somewhere else in this class\n    }\n}\n\npublic class EmployeeExporter extends AbstractExporter&lt;EmployeeDTO&gt; {\n\n    protected Iterable&lt;EmployeeDTO&gt; getData() {\n        // code omitted\n    }\n}\n\npublic class ManagerExporter extends AbstractExporter&lt;ManagerDTO&gt; {\n    private uuid;\n    public ManagerExporter( UUID uuid ) {\n        // The uuid is determined when the object is constructed\n        this.uuid = uuid;\n    }\n    protected Iterable&lt;ManagerDTO&gt; getData() {\n        // Use this.uuid in my implementation\n    }\n}\n</code></pre>\n"}],"owner":{"display_name":"user17188729"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":408,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1635911739,"creation_date":1635791047,"question_id":69801158,"body_markdown":"\r\n\r\nI have the following interface and abstract class:\r\n\r\n```\r\npublic interface DataExporter {\r\n    MultipartFile export() throws IOException;\r\n}\r\n\r\n\r\npublic abstract class AbstractExporter&lt;T&gt; implements DataExporter {\r\n    protected abstract Iterable&lt;T&gt; getData();\r\n}\r\n```\r\n\r\nI call `getData()` method in my exporter class as shown below:\r\n\r\n\r\n```\r\npublic class EmployeeExporter extends AbstractExporter&lt;EmployeeDTO&gt; {\r\n\t\r\n    protected Iterable&lt;EmployeeDTO&gt; getData() {\r\n\t    // code omitted\r\n    }\r\n}\r\n```\r\n\r\nHowever, in another class e.g. ManagerExporter, I need to pass parameter to the `getData()` method:  \r\n\r\n```\r\npublic class ManagerExporter extends AbstractExporter&lt;ManagerDTO&gt; {\r\n\t\r\n    protected Iterable&lt;ManagerDTO&gt; getData(UUID uuid) {\r\n\t\t// code omitted\r\n    }\r\n}\r\n```\r\n\r\nI think overloading that method in `AbstractExporter` is not a good idea, \r\nbecause in that case `EmployeeExporter` will need to implement it even if it does not use it. So, what is the most proper approach to use `getData()` method with &amp; without parameter? \r\n\r\n**Note**: I might also need other implementations that require multiple parameters e.g. `protected Iterable&lt;ManagerDTO&gt; getData(UUID uuid, UUID departmentUuid, UUID staffUuid)`. In this case, should I need to use an Object array, etc. like `Object[]`?\r\n","title":"Overloading an Abstract method in Java?","body":"<p>I have the following interface and abstract class:</p>\n<pre><code>public interface DataExporter {\n    MultipartFile export() throws IOException;\n}\n\n\npublic abstract class AbstractExporter&lt;T&gt; implements DataExporter {\n    protected abstract Iterable&lt;T&gt; getData();\n}\n</code></pre>\n<p>I call <code>getData()</code> method in my exporter class as shown below:</p>\n<pre><code>public class EmployeeExporter extends AbstractExporter&lt;EmployeeDTO&gt; {\n    \n    protected Iterable&lt;EmployeeDTO&gt; getData() {\n        // code omitted\n    }\n}\n</code></pre>\n<p>However, in another class e.g. ManagerExporter, I need to pass parameter to the <code>getData()</code> method:</p>\n<pre><code>public class ManagerExporter extends AbstractExporter&lt;ManagerDTO&gt; {\n    \n    protected Iterable&lt;ManagerDTO&gt; getData(UUID uuid) {\n        // code omitted\n    }\n}\n</code></pre>\n<p>I think overloading that method in <code>AbstractExporter</code> is not a good idea,\nbecause in that case <code>EmployeeExporter</code> will need to implement it even if it does not use it. So, what is the most proper approach to use <code>getData()</code> method with &amp; without parameter?</p>\n<p><strong>Note</strong>: I might also need other implementations that require multiple parameters e.g. <code>protected Iterable&lt;ManagerDTO&gt; getData(UUID uuid, UUID departmentUuid, UUID staffUuid)</code>. In this case, should I need to use an Object array, etc. like <code>Object[]</code>?</p>\n"},{"tags":["java","concurrency","memory-model","java-memory-model"],"comments":[{"owner":{"account_id":208696,"reputation":2360,"user_id":459347,"accept_rate":100,"display_name":"lscoughlin"},"score":0,"creation_date":1442928003,"post_id":32717014,"comment_id":53278353,"body_markdown":"My understanding ( which could be flawed ) is that there&#39;s no priority in terms of protected operations.  So neither the volatile read, nor the external write can be re-ordered, so your 3 line example remains fixed.\n\nYou can test it by sticking it in a method and calling it a few (hundred?)thousand times while using both -server and -XX:+PrintCompilation and compare the JIT results.","body":"My understanding ( which could be flawed ) is that there&#39;s no priority in terms of protected operations.  So neither the volatile read, nor the external write can be re-ordered, so your 3 line example remains fixed.  You can test it by sticking it in a method and calling it a few (hundred?)thousand times while using both -server and -XX:+PrintCompilation and compare the JIT results."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1443632251,"creation_date":1443632251,"answer_id":32871754,"question_id":32717014,"body_markdown":"*External actions* are added to avoid surprising outcomes:\r\n\r\n    class ExternalAction { \r\n    \r\n      int foo = 0; \r\n    \r\n      void method() { \r\n        jni(); \r\n        foo = 42; \r\n      } \r\n    \r\n      native void jni(); /* { \r\n        assert foo == 0; \r\n      } */ \r\n    }\r\n\r\nAssuming that the JNI method was implemented to run the same assertion, you would not expect this to fail. The JIT compiler cannot determine the outcome of anything *external* such that the JMM forbidds such reorderings, too.","title":"Reordering External Operations in Java Memory Model","body":"<p><em>External actions</em> are added to avoid surprising outcomes:</p>\n\n<pre><code>class ExternalAction { \n\n  int foo = 0; \n\n  void method() { \n    jni(); \n    foo = 42; \n  } \n\n  native void jni(); /* { \n    assert foo == 0; \n  } */ \n}\n</code></pre>\n\n<p>Assuming that the JNI method was implemented to run the same assertion, you would not expect this to fail. The JIT compiler cannot determine the outcome of anything <em>external</em> such that the JMM forbidds such reorderings, too.</p>\n"},{"tags":[],"owner":{"account_id":23223466,"reputation":1,"user_id":17315296,"display_name":"user17315296"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635911563,"creation_date":1635911563,"answer_id":69819492,"question_id":32717014,"body_markdown":"&gt; I think it&#39;s obvious that an external action cannot be reordered with another external action, as this will change the observable behaviour of the program (and thus is not a valid transformation according to the JMM).\r\n\r\n[According to the JLS](https://docs.oracle.com/javase/specs/jls/se11/html/jls-17.html#jls-17.4.9), observable behaviour doesn&#39;t require a total order of all external actions:\r\n&gt; Note that a behavior B does not describe the order in which the external actions in B are observed, but other (internal) constraints on how the external actions are generated and performed may impose such constraints.\r\n\r\nIt seems that two external actions cannot be reordered if the result of the 1st external action is used as a parameter of the 2nd external action (either used directly, or indirectly — to compute the value of a parameter)  \r\n[This](https://docs.oracle.com/javase/specs/jls/se11/html/jls-17.html#jls-17.4.2) is what the JLS says about the result of an external action:\r\n&gt; An external action tuple contains an additional component, which contains the results of the external action as perceived by the thread performing the action. This may be information as to the success or failure of the action, and any values read by the action.\r\n\r\nI suppose there could be strong ordering guarantees for external action which might access JVM&#39;s internal state — like [jndi as explained in the Rafael&#39;s answer](https://stackoverflow.com/a/32871754).\r\n\r\nOther than that it seems like [the JLS allows almost anything](https://docs.oracle.com/javase/specs/jls/se11/html/jls-17.html#jls-17.4):\r\n&gt; An implementation is free to produce any code it likes, as long as all resulting executions of a program produce a result that can be predicted by the memory model.\r\n&gt;\r\n&gt;&lt;sub&gt;This provides a great deal of freedom for the implementor to perform a myriad of code transformations, including the reordering of actions and removal of unnecessary synchronization.&lt;/sub&gt;\r\n\r\nOf course, Java implementations can provide stronger guarantees. This would be legal because stronger guarantees don&#39;t produce new behaviours.","title":"Reordering External Operations in Java Memory Model","body":"<blockquote>\n<p>I think it's obvious that an external action cannot be reordered with another external action, as this will change the observable behaviour of the program (and thus is not a valid transformation according to the JMM).</p>\n</blockquote>\n<p><a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-17.html#jls-17.4.9\" rel=\"nofollow noreferrer\">According to the JLS</a>, observable behaviour doesn't require a total order of all external actions:</p>\n<blockquote>\n<p>Note that a behavior B does not describe the order in which the external actions in B are observed, but other (internal) constraints on how the external actions are generated and performed may impose such constraints.</p>\n</blockquote>\n<p>It seems that two external actions cannot be reordered if the result of the 1st external action is used as a parameter of the 2nd external action (either used directly, or indirectly — to compute the value of a parameter)<br />\n<a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-17.html#jls-17.4.2\" rel=\"nofollow noreferrer\">This</a> is what the JLS says about the result of an external action:</p>\n<blockquote>\n<p>An external action tuple contains an additional component, which contains the results of the external action as perceived by the thread performing the action. This may be information as to the success or failure of the action, and any values read by the action.</p>\n</blockquote>\n<p>I suppose there could be strong ordering guarantees for external action which might access JVM's internal state — like <a href=\"https://stackoverflow.com/a/32871754\">jndi as explained in the Rafael's answer</a>.</p>\n<p>Other than that it seems like <a href=\"https://docs.oracle.com/javase/specs/jls/se11/html/jls-17.html#jls-17.4\" rel=\"nofollow noreferrer\">the JLS allows almost anything</a>:</p>\n<blockquote>\n<p>An implementation is free to produce any code it likes, as long as all resulting executions of a program produce a result that can be predicted by the memory model.</p>\n<p><sub>This provides a great deal of freedom for the implementor to perform a myriad of code transformations, including the reordering of actions and removal of unnecessary synchronization.</sub></p>\n</blockquote>\n<p>Of course, Java implementations can provide stronger guarantees. This would be legal because stronger guarantees don't produce new behaviours.</p>\n"}],"owner":{"account_id":2514541,"reputation":519,"user_id":2272529,"accept_rate":50,"display_name":"Kumalh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":32871754,"answer_count":2,"score":3,"last_activity_date":1635911563,"creation_date":1442925266,"question_id":32717014,"body_markdown":"I&#39;m currently learning about the Java Memory Model, and how it affects the reorderings that a compiler may make. However, I&#39;m a bit confused about external operations. The JMM defines them as an action that may be observable outside of on operation. Going off of [this question][1], I understand external actions to be things like printing a value, writing to a file, network operations, etc.\r\n\r\nNow, how are external actions affected by reordering? I think it&#39;s obvious that an external action cannot be reordered with another external action, as this will change the observable behaviour of the program (and thus is not a valid transformation according to the JMM). But what about reordering an external action with a normal memory access, or a synchronisation action? For example:\r\n\r\n    volatile int v = 5;\r\n    int x = v;\r\n    System.out.println(&quot;!&quot;);\r\n\r\nCan the print and `int x = v` be reordered here? I can&#39;t see it changing behaviour, but the read of volatile v is the same as a monitor acquire, so I don&#39;t think the reordering is valid.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26788260/examples-for-thread-divergence-actions-and-external-actions-in-the-java-memory-m","title":"Reordering External Operations in Java Memory Model","body":"<p>I'm currently learning about the Java Memory Model, and how it affects the reorderings that a compiler may make. However, I'm a bit confused about external operations. The JMM defines them as an action that may be observable outside of on operation. Going off of <a href=\"https://stackoverflow.com/questions/26788260/examples-for-thread-divergence-actions-and-external-actions-in-the-java-memory-m\">this question</a>, I understand external actions to be things like printing a value, writing to a file, network operations, etc.</p>\n\n<p>Now, how are external actions affected by reordering? I think it's obvious that an external action cannot be reordered with another external action, as this will change the observable behaviour of the program (and thus is not a valid transformation according to the JMM). But what about reordering an external action with a normal memory access, or a synchronisation action? For example:</p>\n\n<pre><code>volatile int v = 5;\nint x = v;\nSystem.out.println(\"!\");\n</code></pre>\n\n<p>Can the print and <code>int x = v</code> be reordered here? I can't see it changing behaviour, but the read of volatile v is the same as a monitor acquire, so I don't think the reordering is valid.</p>\n"},{"tags":["java","automation","automated-tests","testng"],"comments":[{"owner":{"account_id":23208148,"reputation":1,"user_id":17302044,"display_name":"Sreerekha R"},"score":0,"creation_date":1635948588,"post_id":69800447,"comment_id":123428159,"body_markdown":"I did try with containsAll, same issue.","body":"I did try with containsAll, same issue."}],"answers":[{"tags":[],"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635849279,"creation_date":1635849279,"answer_id":69808932,"question_id":69800447,"body_markdown":"You get false because when you use `contains` you&#39;re asking a list if it contains an object. In your particular case you are asking `expectedOutputList` which is a list of `String`s if it contains another `List`. Since it does not have `List` objects at all (only `String` objects) it returns false.\r\n\r\nIf you want to test if your list contains **elements of another list** you need to use `containsAll` method like:\r\n\r\n```java\r\nexpectedOutputList.containsAll(actualList)\r\n```\r\n\r\n","title":"My TestNG assertion is failing. Can someone help here please. What is the mistake I am doing here","body":"<p>You get false because when you use <code>contains</code> you're asking a list if it contains an object. In your particular case you are asking <code>expectedOutputList</code> which is a list of <code>String</code>s if it contains another <code>List</code>. Since it does not have <code>List</code> objects at all (only <code>String</code> objects) it returns false.</p>\n<p>If you want to test if your list contains <strong>elements of another list</strong> you need to use <code>containsAll</code> method like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>expectedOutputList.containsAll(actualList)\n</code></pre>\n"}],"owner":{"account_id":23208148,"reputation":1,"user_id":17302044,"display_name":"Sreerekha R"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635911366,"creation_date":1635787319,"question_id":69800447,"body_markdown":"The test code being used to simulate the problem.\r\n    \r\n&lt;!-- language: java --&gt;\r\n\r\n    String response = given()\r\n    \t\t\t\t\t.contentType(contentType)\r\n    \t\t\t\t\t.body(Payload.MultipleMSIDS())\r\n    \t\t\t\t  .when()\r\n    \t\t\t\t  \t.post(baseURI)\r\n    \t\t\t\t   .thenReturn().asString();\r\n    \r\n    System.out.println(response);\r\n    XmlPath xml = new XmlPath(response);\r\n    \r\n    List&lt;String&gt; actualList = xml.getList(&quot;svc_result.slia.pos.msid&quot;);\r\n    System.out.println(actualList);\r\n    \r\n    String[] expectedOutput = new String[]{&quot;[11, 12, 13]&quot;,\r\n            &quot;[13, 12, 11]&quot;,&quot;[11, 13, 12]&quot;,\r\n            &quot;[13, 11, 12]&quot;,&quot;[12, 13, 11]&quot;,\r\n            &quot;[12, 11, 13]&quot;};\r\n    \r\n    List&lt;String&gt; expectedOutputList = Arrays.asList(expectedOutput);\r\n    System.out.println(expectedOutputList);\r\n    Assert.assertTrue(expectedOutputList.Contains(actualList));\r\n\r\nThe test assertion fails with the below details.\r\n\r\n    java.lang.AssertionError: \r\n    Expected :true\r\n    Actual   :false\r\n    &lt;Click to see difference&gt;\r\n    [11, 12, 13] - actualList\r\n    \r\n    [[11, 12, 13],[13, 12, 11],[11, 13, 12],[13, 11, 12],[12, 13, 11],[12, \r\n    \r\n    11, 13]] - expectedOutputList","title":"My TestNG assertion is failing. Can someone help here please. What is the mistake I am doing here","body":"<p>The test code being used to simulate the problem.</p>\n<pre class=\"lang-java prettyprint-override\"><code>String response = given()\n                    .contentType(contentType)\n                    .body(Payload.MultipleMSIDS())\n                  .when()\n                    .post(baseURI)\n                   .thenReturn().asString();\n\nSystem.out.println(response);\nXmlPath xml = new XmlPath(response);\n\nList&lt;String&gt; actualList = xml.getList(&quot;svc_result.slia.pos.msid&quot;);\nSystem.out.println(actualList);\n\nString[] expectedOutput = new String[]{&quot;[11, 12, 13]&quot;,\n        &quot;[13, 12, 11]&quot;,&quot;[11, 13, 12]&quot;,\n        &quot;[13, 11, 12]&quot;,&quot;[12, 13, 11]&quot;,\n        &quot;[12, 11, 13]&quot;};\n\nList&lt;String&gt; expectedOutputList = Arrays.asList(expectedOutput);\nSystem.out.println(expectedOutputList);\nAssert.assertTrue(expectedOutputList.Contains(actualList));\n</code></pre>\n<p>The test assertion fails with the below details.</p>\n<pre><code>java.lang.AssertionError: \nExpected :true\nActual   :false\n&lt;Click to see difference&gt;\n[11, 12, 13] - actualList\n\n[[11, 12, 13],[13, 12, 11],[11, 13, 12],[13, 11, 12],[12, 13, 11],[12, \n\n11, 13]] - expectedOutputList\n</code></pre>\n"},{"tags":["java","routes","thymeleaf"],"answers":[{"tags":[],"owner":{"account_id":18485634,"reputation":2328,"user_id":13466689,"display_name":"Faheem azaz Bhanej"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635911214,"creation_date":1635866896,"answer_id":69812948,"question_id":69812435,"body_markdown":"I think whitespace between `${agency.id} }` create problem.\r\n\r\n**Change** \r\n\r\n```\r\nth:href=&quot;@{&#39;/agencies/edit/&#39; + ${agency.id} }&quot;\r\n```\r\n\r\n**To**\r\n```\r\nth:href=&quot;@{&#39;/agencies/edit/&#39; + ${agency.id}}&quot;\r\n```\r\n\r\nOR\r\n```\r\nth:href=&quot;@{&#39;/agencies/edit/{id}(id = ${agency.id})&#39;}&quot;\r\n````","title":"Property not recognized in Thymeleaf","body":"<p>I think whitespace between <code>${agency.id} }</code> create problem.</p>\n<p><strong>Change</strong></p>\n<pre><code>th:href=&quot;@{'/agencies/edit/' + ${agency.id} }&quot;\n</code></pre>\n<p><strong>To</strong></p>\n<pre><code>th:href=&quot;@{'/agencies/edit/' + ${agency.id}}&quot;\n</code></pre>\n<p>OR</p>\n<pre><code>th:href=&quot;@{'/agencies/edit/{id}(id = ${agency.id})'}&quot;\n</code></pre>\n"}],"owner":{"account_id":20683043,"reputation":35,"user_id":15186159,"display_name":"Alessia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":99,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"accepted_answer_id":69812948,"answer_count":1,"score":-1,"last_activity_date":1635911214,"creation_date":1635864770,"question_id":69812435,"body_markdown":"I want to create a link in Thymeleaf to route the user to an edit page. My Java class looks like this(without getters and setters):\r\n```\r\n\r\n@Entity\r\n@Table(name = &quot;agencies&quot;)\r\npublic class Agency {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Integer id;\r\n\r\n    @Column(nullable = false)\r\n    private String name;\r\n\r\n    @Column(nullable = false, unique = true, length = 50)\r\n    private String email;\r\n\r\n    private String address;\r\n}\r\n```\r\nI also have a controller with this method:\r\n```\r\n @Autowired private AgencyService service;\r\n\r\n    @GetMapping(&quot;/agencies&quot;)\r\n    public String showAgencyList(Model model) {\r\n        List&lt;Agency&gt; agencies = service.listAll();\r\n        model.addAttribute(&quot;agencies&quot;, agencies);\r\n\r\n        return &quot;agencies&quot;;\r\n    }\r\n```\r\nAnd this is a part of the code in Thymeleaf:\r\n```\r\n &lt;th:block th:each=&quot;agency : ${agencies}&quot;&gt;\r\n        &lt;tr&gt;\r\n          &lt;td&gt;[[${agency.name}]]&lt;/td&gt;\r\n          &lt;td&gt;[[${agency.email}]]&lt;/td&gt;\r\n          &lt;td&gt;[[${agency.address}]]&lt;/td&gt;\r\n          &lt;td&gt;\r\n            &lt;a class=&quot;h4 mr-3&quot; th:href=&quot;@{&#39;/agencies/edit/&#39; + ${agency.id} }&quot;&gt;Edit&lt;/a&gt;\r\n            &lt;a class=&quot;h4&quot; th:href=&quot;@{/agents}&quot;&gt;Choose&lt;/a&gt;\r\n          &lt;/td&gt;\r\n        &lt;/tr&gt;\r\n      &lt;/th:block&gt;\r\n```\r\nNow everything works fine, except that in the path ```th:href=&quot;@{&#39;/agencies/edit/&#39; + ${agency.id} }``` it says **cannot resovle agency**, **cannot resolve id**. Why is that? The table is correctly displayed and I can&#39;t figure out why agency seems unknown when providing the path to another view in Thymeleaf.","title":"Property not recognized in Thymeleaf","body":"<p>I want to create a link in Thymeleaf to route the user to an edit page. My Java class looks like this(without getters and setters):</p>\n<pre><code>\n@Entity\n@Table(name = &quot;agencies&quot;)\npublic class Agency {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Integer id;\n\n    @Column(nullable = false)\n    private String name;\n\n    @Column(nullable = false, unique = true, length = 50)\n    private String email;\n\n    private String address;\n}\n</code></pre>\n<p>I also have a controller with this method:</p>\n<pre><code> @Autowired private AgencyService service;\n\n    @GetMapping(&quot;/agencies&quot;)\n    public String showAgencyList(Model model) {\n        List&lt;Agency&gt; agencies = service.listAll();\n        model.addAttribute(&quot;agencies&quot;, agencies);\n\n        return &quot;agencies&quot;;\n    }\n</code></pre>\n<p>And this is a part of the code in Thymeleaf:</p>\n<pre><code> &lt;th:block th:each=&quot;agency : ${agencies}&quot;&gt;\n        &lt;tr&gt;\n          &lt;td&gt;[[${agency.name}]]&lt;/td&gt;\n          &lt;td&gt;[[${agency.email}]]&lt;/td&gt;\n          &lt;td&gt;[[${agency.address}]]&lt;/td&gt;\n          &lt;td&gt;\n            &lt;a class=&quot;h4 mr-3&quot; th:href=&quot;@{'/agencies/edit/' + ${agency.id} }&quot;&gt;Edit&lt;/a&gt;\n            &lt;a class=&quot;h4&quot; th:href=&quot;@{/agents}&quot;&gt;Choose&lt;/a&gt;\n          &lt;/td&gt;\n        &lt;/tr&gt;\n      &lt;/th:block&gt;\n</code></pre>\n<p>Now everything works fine, except that in the path <code>th:href=&quot;@{'/agencies/edit/' + ${agency.id} }</code> it says <strong>cannot resovle agency</strong>, <strong>cannot resolve id</strong>. Why is that? The table is correctly displayed and I can't figure out why agency seems unknown when providing the path to another view in Thymeleaf.</p>\n"},{"tags":["java","regex","regex-group"],"answers":[{"tags":[],"owner":{"account_id":13170666,"reputation":78679,"user_id":9513184,"display_name":"Unmitigated"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635909941,"creation_date":1635909941,"answer_id":69819333,"question_id":69819322,"body_markdown":"Move the dot outside the second capturing group.\r\n\r\n```\r\n(.*)\\.(zip|tar(?:\\.gz)?)\r\n```","title":"Get extension without dot using regex","body":"<p>Move the dot outside the second capturing group.</p>\n<pre><code>(.*)\\.(zip|tar(?:\\.gz)?)\n</code></pre>\n"}],"owner":{"account_id":1781050,"reputation":187,"user_id":1623801,"accept_rate":14,"display_name":"zepol"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":124,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":69819333,"answer_count":1,"score":1,"last_activity_date":1635909941,"creation_date":1635909863,"question_id":69819322,"body_markdown":"I have the regex ```(.*)(\\.zip|\\.tar\\.gz)``` meaning I have two groups, the name ( first part) and the second one that&#39;s the extension.\r\n\r\nI want to be able to get the second group either zip, tar, or tar.gz without the ., only the extension name, how I can do that using regex only, I am using Java and I don&#39;t want to do any substring.","title":"Get extension without dot using regex","body":"<p>I have the regex <code>(.*)(\\.zip|\\.tar\\.gz)</code> meaning I have two groups, the name ( first part) and the second one that's the extension.</p>\n<p>I want to be able to get the second group either zip, tar, or tar.gz without the ., only the extension name, how I can do that using regex only, I am using Java and I don't want to do any substring.</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":1085259,"reputation":78314,"user_id":1081110,"display_name":"Dawood ibn Kareem"},"score":0,"creation_date":1635908908,"post_id":69819184,"comment_id":123415810,"body_markdown":"Is it just `def` or `1 2 3 4 def` all on separate lines?  You might benefit from a `break;` after each case.","body":"Is it just <code>def</code> or <code>1 2 3 4 def</code> all on separate lines?  You might benefit from a <code>break;</code> after each case."}],"answers":[{"tags":[],"owner":{"account_id":23163881,"reputation":64,"user_id":17264135,"display_name":"Matt Damiata"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1635909234,"creation_date":1635909234,"answer_id":69819253,"question_id":69819184,"body_markdown":"You need a ```break``` at the end of each case, otherwise the switch case will fall through and execute all the succeeding cases after the first one it matches. When I run it, it prints:\r\n&gt; 1 2 3 4 def\r\n\r\nTo fix this, here is the code:\r\n```\r\nString securityNumber = &quot;4561&quot;;\r\nString lastDigit = securityNumber.substring(securityNumber.length()-1);\r\nswitch (lastDigit) {\r\n    case &quot;0&quot;: System.out.println(&quot;0&quot;);\r\n              break;\r\n    case &quot;1&quot;: System.out.println(&quot;1&quot;);\r\n              break;\r\n    case &quot;2&quot;: System.out.println(&quot;2&quot;);\r\n              break;\r\n    case &quot;3&quot;: System.out.println(&quot;3&quot;);\r\n              break;\r\n    case &quot;4&quot;: System.out.println(&quot;4&quot;);\r\n              break;\r\n    default: System.out.println(&quot;def&quot;);\r\n}\r\n```\r\nYou also forgot a ```;``` at the end of the declaration for ```securityNumber```, so it might have not compiled.","title":"How to have a switch case scenario using String as condition?","body":"<p>You need a <code>break</code> at the end of each case, otherwise the switch case will fall through and execute all the succeeding cases after the first one it matches. When I run it, it prints:</p>\n<blockquote>\n<p>1 2 3 4 def</p>\n</blockquote>\n<p>To fix this, here is the code:</p>\n<pre><code>String securityNumber = &quot;4561&quot;;\nString lastDigit = securityNumber.substring(securityNumber.length()-1);\nswitch (lastDigit) {\n    case &quot;0&quot;: System.out.println(&quot;0&quot;);\n              break;\n    case &quot;1&quot;: System.out.println(&quot;1&quot;);\n              break;\n    case &quot;2&quot;: System.out.println(&quot;2&quot;);\n              break;\n    case &quot;3&quot;: System.out.println(&quot;3&quot;);\n              break;\n    case &quot;4&quot;: System.out.println(&quot;4&quot;);\n              break;\n    default: System.out.println(&quot;def&quot;);\n}\n</code></pre>\n<p>You also forgot a <code>;</code> at the end of the declaration for <code>securityNumber</code>, so it might have not compiled.</p>\n"}],"owner":{"account_id":20548860,"reputation":73,"user_id":15082006,"display_name":"newProgHere"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1635915119,"accepted_answer_id":69819253,"answer_count":1,"score":-1,"last_activity_date":1635909699,"creation_date":1635908414,"question_id":69819184,"body_markdown":"I have a String that I need to get the last digit from and use switch cases according to that character.\r\n\r\n    String securityNumber= &quot;4561&quot;;\r\n\tString lastDigit = securityNumber.substring(securityNumber.length()-1);\r\n\r\n    switch (lastDigit) {\r\n\t\tcase &quot;0&quot;: System.out.println(&quot;0&quot;);\r\n            break;\r\n\t\tcase &quot;1&quot;: System.out.println(&quot;1&quot;);\r\n            break;\r\n\t\tcase &quot;2&quot;: System.out.println(&quot;2&quot;);\r\n            break;\r\n        case &quot;3&quot;: System.out.println(&quot;3&quot;);\r\n            break;\r\n        case &quot;4&quot;: System.out.println(&quot;4&quot;);\r\n            break;\r\n\t\tdefault: System.out.println(&quot;def&quot;);\r\n    }\r\n\r\nI am getting the &quot;def&quot; as a result but should be &quot;1&quot;.\r\n\r\nWhat am I doing wrong? How can I have a case scenario for each of the digits from an input of String &quot;securityNumber&quot;?","title":"How to have a switch case scenario using String as condition?","body":"<p>I have a String that I need to get the last digit from and use switch cases according to that character.</p>\n<pre><code>String securityNumber= &quot;4561&quot;;\nString lastDigit = securityNumber.substring(securityNumber.length()-1);\n\nswitch (lastDigit) {\n    case &quot;0&quot;: System.out.println(&quot;0&quot;);\n        break;\n    case &quot;1&quot;: System.out.println(&quot;1&quot;);\n        break;\n    case &quot;2&quot;: System.out.println(&quot;2&quot;);\n        break;\n    case &quot;3&quot;: System.out.println(&quot;3&quot;);\n        break;\n    case &quot;4&quot;: System.out.println(&quot;4&quot;);\n        break;\n    default: System.out.println(&quot;def&quot;);\n}\n</code></pre>\n<p>I am getting the &quot;def&quot; as a result but should be &quot;1&quot;.</p>\n<p>What am I doing wrong? How can I have a case scenario for each of the digits from an input of String &quot;securityNumber&quot;?</p>\n"},{"tags":["java","double","decimal"],"comments":[{"owner":{"account_id":1056871,"reputation":117729,"user_id":1059372,"accept_rate":97,"display_name":"Eugene"},"score":1,"creation_date":1635906264,"post_id":69818962,"comment_id":123415422,"body_markdown":"&quot;I&#39;m having some problem formatting decimals of a double&quot; which?","body":"&quot;I&#39;m having some problem formatting decimals of a double&quot; which?"},{"owner":{"account_id":23168197,"reputation":1,"user_id":17267806,"display_name":"yukihira"},"score":0,"creation_date":1635906393,"post_id":69818962,"comment_id":123415440,"body_markdown":"Main.java:31: error: cannot find symbol\n        String output = DecimalFormat = (((P * t) / 360) * 0.025);\n  symbol:   variable DecimalFormat","body":"Main.java:31: error: cannot find symbol         String output = DecimalFormat = (((P * t) / 360) * 0.025);   symbol:   variable DecimalFormat"}],"answers":[{"tags":[],"owner":{"account_id":11039972,"reputation":139,"user_id":8108313,"display_name":"Logan MacDougall"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635907371,"creation_date":1635907371,"answer_id":69819077,"question_id":69818962,"body_markdown":"\r\n\tDecimalFormat df = new DecimalFormat(&quot;###,###.00&quot;);\r\n    String output = df.format(((30 * 45) / 360) * 0.025);\r\n\r\nIn your second line, you have `DecimalFormat =` which should be replaced with `df.format` The `DecimalFormat` class doesn&#39;t let you format decimals, it&#39;s the `df` object that you created which can format decimals by calling the `format` method.","title":"Java Double formatting String output","body":"<pre><code>DecimalFormat df = new DecimalFormat(&quot;###,###.00&quot;);\nString output = df.format(((30 * 45) / 360) * 0.025);\n</code></pre>\n<p>In your second line, you have <code>DecimalFormat =</code> which should be replaced with <code>df.format</code> The <code>DecimalFormat</code> class doesn't let you format decimals, it's the <code>df</code> object that you created which can format decimals by calling the <code>format</code> method.</p>\n"}],"owner":{"account_id":23168197,"reputation":1,"user_id":17267806,"display_name":"yukihira"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635908509,"answer_count":1,"score":-2,"last_activity_date":1635908973,"creation_date":1635906202,"question_id":69818962,"body_markdown":" I&#39;m having some problem formatting decimals of a double. The only error is:\r\n String output = DecimalFormat = (((P * t) / 360) * 0.025);\r\n\r\n    DecimalFormat df = new DecimalFormat(&quot; ###,###.00&quot;);\r\n    String output = DecimalFormat = (((P * t) / 360) * 0.025);","title":"Java Double formatting String output","body":"<p>I'm having some problem formatting decimals of a double. The only error is:\nString output = DecimalFormat = (((P * t) / 360) * 0.025);</p>\n<pre><code>DecimalFormat df = new DecimalFormat(&quot; ###,###.00&quot;);\nString output = DecimalFormat = (((P * t) / 360) * 0.025);\n</code></pre>\n"},{"tags":["java","algorithm","caching"],"comments":[{"owner":{"account_id":2366187,"reputation":60152,"user_id":2071828,"accept_rate":88,"display_name":"Boris the Spider"},"score":1,"creation_date":1389714531,"post_id":21117636,"comment_id":31774116,"body_markdown":"Use an existing implementation, such as that from Guava.","body":"Use an existing implementation, such as that from Guava."},{"owner":{"account_id":284109,"reputation":47153,"user_id":581994,"accept_rate":57,"display_name":"Hot Licks"},"score":1,"creation_date":1389724729,"post_id":21117636,"comment_id":31780782,"body_markdown":"Keep a counter for each cache entry, and increment the appropriate counter on each successful reference.  If a counter overflows, divide ALL counters by 2 (or 4 or whatever) to &quot;rescale&quot; them.  The entry with the lowest count is the least frequently used.","body":"Keep a counter for each cache entry, and increment the appropriate counter on each successful reference.  If a counter overflows, divide ALL counters by 2 (or 4 or whatever) to &quot;rescale&quot; them.  The entry with the lowest count is the least frequently used."}],"answers":[{"tags":[],"owner":{"account_id":286427,"reputation":1613,"user_id":585673,"display_name":"Łukasz Kidziński"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1389737362,"creation_date":1389720201,"answer_id":21119870,"question_id":21117636,"body_markdown":"How about a priority queue? You can keep elements sorted there with keys representing the frequency. Just update the object position in the queue after visiting it. You can update just from time to time for optimizing the performance (but reducing precision).","title":"How to implement a Least Frequently Used (LFU) cache?","body":"<p>How about a priority queue? You can keep elements sorted there with keys representing the frequency. Just update the object position in the queue after visiting it. You can update just from time to time for optimizing the performance (but reducing precision).</p>\n"},{"tags":[],"owner":{"account_id":2891799,"reputation":436,"user_id":2480419,"display_name":"Rakmo"},"down_vote_count":7,"up_vote_count":11,"is_accepted":true,"score":4,"last_activity_date":1497061671,"creation_date":1400125463,"answer_id":23668899,"question_id":21117636,"body_markdown":"1. According to me, the best way to implement a most-recently-used cache of objects would be to include a new variable as &#39;latestTS&#39; for each object. TS stands for timestamp.\r\n\r\n    // A static method that returns the current date and time as milliseconds since January 1st 1970\r\n    long latestTS = System.currentTimeMillis(); \r\n    \r\n2. ConcurrentLinkedHashMap is not yet implemented in Concurrent Java Collections. \r\n(Ref: [Java Concurrent Collection API][1]). However, you can try and use [ConcurrentHashMap][2] and [DoublyLinkedList][3]\r\n\r\n3. About the case to be considered: in such case, as I have said that you can declare latestTS variable, based upon the value of latestTS variable, you can remove an entry and add the new object. (Don&#39;t forget to update frequency and latestTS of the new object added)\r\n\r\nAs you have mentioned, you can use [LinkedHashMap][4] as it gives element access in O(1) and also, you get the order traversal.\r\nPlease, find the below code for LFU Cache:\r\n(PS: The below code is the answer for the question in the title i.e. &quot;How to implement LFU cache&quot;)\r\n\r\n    import java.util.LinkedHashMap;\r\n    import java.util.Map;\r\n    \r\n    public class LFUCache {\r\n\t\r\n\t    class CacheEntry\r\n\t    {\r\n\t\t    private String data;\r\n\t\t    private int frequency;\r\n\t\t\r\n\t\t    // default constructor\r\n\t\t    private CacheEntry()\r\n\t\t    {}\r\n\t\t\r\n\t\t    public String getData() {\r\n\t\t\t    return data;\r\n\t\t    }\r\n\t\t    public void setData(String data) {\r\n\t\t\t    this.data = data;\r\n\t\t    }\r\n\t\t\r\n\t\t    public int getFrequency() {\r\n\t\t\t    return frequency;\r\n\t\t    }\r\n\t\t    public void setFrequency(int frequency) {\r\n\t\t\t    this.frequency = frequency;\r\n\t\t    }\t\t\r\n\t\t\r\n\t    }\r\n\r\n\t    private static int initialCapacity = 10;\r\n\t\r\n\t    private static LinkedHashMap&lt;Integer, CacheEntry&gt; cacheMap = new LinkedHashMap&lt;Integer, CacheEntry&gt;();\r\n\t    /* LinkedHashMap is used because it has features of both HashMap and LinkedList. \r\n\t     * Thus, we can get an entry in O(1) and also, we can iterate over it easily.\r\n\t     * */\r\n\t\r\n\t    public LFUCache(int initialCapacity)\r\n\t    {\r\n\t\t    this.initialCapacity = initialCapacity;\r\n\t    }\r\n\t\r\n\t    public void addCacheEntry(int key, String data)\r\n\t    {\r\n\t\t    if(!isFull())\r\n\t\t    {\r\n\t\t\t    CacheEntry temp = new CacheEntry();\r\n\t\t\t    temp.setData(data);\r\n\t\t\t    temp.setFrequency(0);\r\n\t\t\t\r\n\t\t\t    cacheMap.put(key, temp);\r\n\t\t    }\r\n\t\t    else\r\n\t\t    {\r\n\t\t\t    int entryKeyToBeRemoved = getLFUKey();\r\n\t\t\t    cacheMap.remove(entryKeyToBeRemoved);\r\n\t\t\t\r\n\t\t\t    CacheEntry temp = new CacheEntry();\r\n\t\t\t    temp.setData(data);\r\n\t\t\t    temp.setFrequency(0);\r\n\t\t\t\r\n\t\t\t    cacheMap.put(key, temp);\r\n\t\t    }\r\n\t    }\r\n\t\r\n\t    public int getLFUKey()\r\n\t    {\r\n\t\t    int key = 0;\r\n\t\t    int minFreq = Integer.MAX_VALUE;\r\n\t\t\r\n\t\t    for(Map.Entry&lt;Integer, CacheEntry&gt; entry : cacheMap.entrySet())\r\n\t\t    {\r\n\t\t\t    if(minFreq &gt; entry.getValue().frequency)\r\n\t\t\t    {\r\n\t\t\t    \tkey = entry.getKey();\r\n\t\t\t    \tminFreq = entry.getValue().frequency;\r\n\t\t\t    }\t\t\t\r\n\t\t    }\r\n\t\t\r\n\t\t    return key;\r\n\t    }\r\n\t\r\n\t    public String getCacheEntry(int key)\r\n\t    {\r\n\t\t    if(cacheMap.containsKey(key))  // cache hit\r\n\t\t    {\r\n\t\t\t    CacheEntry temp = cacheMap.get(key);\r\n\t\t\t    temp.frequency++;\r\n\t\t\t    cacheMap.put(key, temp);\r\n\t\t\t    return temp.data;\r\n\t\t    }\r\n\t\t    return null; // cache miss\r\n\t    }\r\n\t\r\n\t    public static boolean isFull()\r\n\t    {\r\n\t\t    if(cacheMap.size() == initialCapacity)\r\n\t\t\t    return true;\r\n\t\t\r\n\t\t    return false;\r\n\t    }\r\n    }\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/package-summary.html\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html\r\n  [3]: http://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\r\n  [4]: http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html","title":"How to implement a Least Frequently Used (LFU) cache?","body":"<ol>\n<li><p>According to me, the best way to implement a most-recently-used cache of objects would be to include a new variable as 'latestTS' for each object. TS stands for timestamp.</p>\n\n<p>// A static method that returns the current date and time as milliseconds since January 1st 1970\nlong latestTS = System.currentTimeMillis(); </p></li>\n<li><p>ConcurrentLinkedHashMap is not yet implemented in Concurrent Java Collections. \n(Ref: <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/package-summary.html\" rel=\"nofollow noreferrer\">Java Concurrent Collection API</a>). However, you can try and use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentHashMap.html\" rel=\"nofollow noreferrer\">ConcurrentHashMap</a> and <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedList.html\" rel=\"nofollow noreferrer\">DoublyLinkedList</a></p></li>\n<li><p>About the case to be considered: in such case, as I have said that you can declare latestTS variable, based upon the value of latestTS variable, you can remove an entry and add the new object. (Don't forget to update frequency and latestTS of the new object added)</p></li>\n</ol>\n\n<p>As you have mentioned, you can use <a href=\"http://docs.oracle.com/javase/7/docs/api/java/util/LinkedHashMap.html\" rel=\"nofollow noreferrer\">LinkedHashMap</a> as it gives element access in O(1) and also, you get the order traversal.\nPlease, find the below code for LFU Cache:\n(PS: The below code is the answer for the question in the title i.e. \"How to implement LFU cache\")</p>\n\n<pre><code>import java.util.LinkedHashMap;\nimport java.util.Map;\n\npublic class LFUCache {\n\n    class CacheEntry\n    {\n        private String data;\n        private int frequency;\n\n        // default constructor\n        private CacheEntry()\n        {}\n\n        public String getData() {\n            return data;\n        }\n        public void setData(String data) {\n            this.data = data;\n        }\n\n        public int getFrequency() {\n            return frequency;\n        }\n        public void setFrequency(int frequency) {\n            this.frequency = frequency;\n        }       \n\n    }\n\n    private static int initialCapacity = 10;\n\n    private static LinkedHashMap&lt;Integer, CacheEntry&gt; cacheMap = new LinkedHashMap&lt;Integer, CacheEntry&gt;();\n    /* LinkedHashMap is used because it has features of both HashMap and LinkedList. \n     * Thus, we can get an entry in O(1) and also, we can iterate over it easily.\n     * */\n\n    public LFUCache(int initialCapacity)\n    {\n        this.initialCapacity = initialCapacity;\n    }\n\n    public void addCacheEntry(int key, String data)\n    {\n        if(!isFull())\n        {\n            CacheEntry temp = new CacheEntry();\n            temp.setData(data);\n            temp.setFrequency(0);\n\n            cacheMap.put(key, temp);\n        }\n        else\n        {\n            int entryKeyToBeRemoved = getLFUKey();\n            cacheMap.remove(entryKeyToBeRemoved);\n\n            CacheEntry temp = new CacheEntry();\n            temp.setData(data);\n            temp.setFrequency(0);\n\n            cacheMap.put(key, temp);\n        }\n    }\n\n    public int getLFUKey()\n    {\n        int key = 0;\n        int minFreq = Integer.MAX_VALUE;\n\n        for(Map.Entry&lt;Integer, CacheEntry&gt; entry : cacheMap.entrySet())\n        {\n            if(minFreq &gt; entry.getValue().frequency)\n            {\n                key = entry.getKey();\n                minFreq = entry.getValue().frequency;\n            }           \n        }\n\n        return key;\n    }\n\n    public String getCacheEntry(int key)\n    {\n        if(cacheMap.containsKey(key))  // cache hit\n        {\n            CacheEntry temp = cacheMap.get(key);\n            temp.frequency++;\n            cacheMap.put(key, temp);\n            return temp.data;\n        }\n        return null; // cache miss\n    }\n\n    public static boolean isFull()\n    {\n        if(cacheMap.size() == initialCapacity)\n            return true;\n\n        return false;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":482321,"reputation":9702,"user_id":896663,"accept_rate":84,"display_name":"MozenRath"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1411731331,"creation_date":1411731331,"answer_id":26058621,"question_id":21117636,"body_markdown":"You might benefit from the LFU implementation of ActiveMQ: [**LFUCache**][1]\r\n\r\nThey have provided some good functionality.\r\n\r\n\r\n  [1]: https://svn.apache.org/repos/asf/activemq/trunk/activemq-kahadb-store/src/main/java/org/apache/activemq/util/LFUCache.java","title":"How to implement a Least Frequently Used (LFU) cache?","body":"<p>You might benefit from the LFU implementation of ActiveMQ: <a href=\"https://svn.apache.org/repos/asf/activemq/trunk/activemq-kahadb-store/src/main/java/org/apache/activemq/util/LFUCache.java\" rel=\"noreferrer\"><strong>LFUCache</strong></a></p>\n\n<p>They have provided some good functionality.</p>\n"},{"tags":[],"owner":{"account_id":2514308,"reputation":370,"user_id":2186072,"display_name":"heorhi"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1414403751,"creation_date":1414403751,"answer_id":26584910,"question_id":21117636,"body_markdown":"I think, the LFU data structure must combine priority queue (for maintaining fast access to lfu item) and hash map (for providing fast access to any item by its key); I would suggest the following node definition for each object stored in cache: \r\n\r\n    class Node&lt;T&gt; {\r\n       // access key\r\n       private int key;\r\n       // counter of accesses\r\n       private int numAccesses;\r\n       // current position in pq\r\n       private int currentPos;\r\n       // item itself\r\n       private T item;\r\n       //getters, setters, constructors go here\r\n    }\r\n\r\nYou need `key` for referring to an item.\r\nYou need `numAccesses` as a key for priority queue.\r\nYou need `currentPos` to be able to quickly find a pq position of item by key.\r\nNow  you organize hash map (key(`Integer`) -&gt; node(`Node&lt;T&gt;`)) to quickly access items and min heap-based priority queue using number of accesses as priority. Now you can very quickly perform all operations (access, add new item, update number of acceses, remove lfu). You need to write each operation carefully, so that it maintains all the nodes consistent (their number of accesses, their position in pq and there existence in hash map). All operations will work with constant average time complexity which is what you expect from cache.\r\n\r\n ","title":"How to implement a Least Frequently Used (LFU) cache?","body":"<p>I think, the LFU data structure must combine priority queue (for maintaining fast access to lfu item) and hash map (for providing fast access to any item by its key); I would suggest the following node definition for each object stored in cache: </p>\n\n<pre><code>class Node&lt;T&gt; {\n   // access key\n   private int key;\n   // counter of accesses\n   private int numAccesses;\n   // current position in pq\n   private int currentPos;\n   // item itself\n   private T item;\n   //getters, setters, constructors go here\n}\n</code></pre>\n\n<p>You need <code>key</code> for referring to an item.\nYou need <code>numAccesses</code> as a key for priority queue.\nYou need <code>currentPos</code> to be able to quickly find a pq position of item by key.\nNow  you organize hash map (key(<code>Integer</code>) -> node(<code>Node&lt;T&gt;</code>)) to quickly access items and min heap-based priority queue using number of accesses as priority. Now you can very quickly perform all operations (access, add new item, update number of acceses, remove lfu). You need to write each operation carefully, so that it maintains all the nodes consistent (their number of accesses, their position in pq and there existence in hash map). All operations will work with constant average time complexity which is what you expect from cache.</p>\n"},{"tags":[],"owner":{"account_id":8086591,"reputation":1869,"user_id":6093953,"display_name":"Andrushenko Alexander"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549816276,"creation_date":1549286215,"answer_id":54516986,"question_id":21117636,"body_markdown":"Many implementations I have seen have runtime complexity `O(log(n))`. This means, when the cache size is `n`, the time needed to insert/remove an element into/from chache is logarithmic. Such implementations use usually a `min heap` to maintain usage frequencies of elements. The root of the heap contains the element with lowest frequency, and can be accessed in `O(1)` time. But to maintain the heap property we have to move an element, every time it is used (and frequency is incremented) inside of the heap, to place it into proper position, or when we have to insert new element into the cache (and so put it into the heap).\r\nBut the runtime complexity can be reduced to `O(1)`, when we maintain a `hashmap` (Java) or `unordered_map` (C++) with the element as key. Additinally we need two sorts of lists, `frequency list` and `elements lists`. The `elements lists` contain elements that have same frequency, and the `frequency list` contain the `element lists`.\r\n\r\n      frequency list\r\n      1   3   6   7\r\n      a   k   y   x\r\n      c   l       z\r\n      m   n\r\nHere in the example we see the `frequency list` that has 4 elements (4 `elements lists`). The element list `1` contains elements `(a,c,m)`, the elements list `3` contains elements `(k, l, n)` etc.\r\nNow, when we use say element `y`, we have to increment its frequency and put it in the next list. Because the elements list with frequency 6 becomes empty, we delete it. The result is:\r\n\r\n      frequency list\r\n      1   3   7\r\n      a   k   y\r\n      c   l   x\r\n      m   n   z\r\n\r\nWe place the element y in the begin of the `elements list` 7. When we have to remove elements from the list later, we will start from the end (first `z`, then `x` and then `y`).\r\nNow, when we use element `n`, we have to increment its frequency and put it into the new list, with frequencies 4:\r\n\r\n      frequency list\r\n      1   3   4  7\r\n      a   k   n  y\r\n      c   l      x\r\n      m          z\r\n\r\nI hope the idea is clear. I provide now my C++ implementation of the LFU cache, and will add later a Java implementation.\r\nThe class has just 2 public methods, `void set(key k, value v)`\r\nand `bool get(key k, value &amp;v)`. In the get method the value to retrieve will be set per reference when the element is found, in this case the method returns true. When the element is not found, the method returns false.\r\n    \r\n\r\n    #include&lt;unordered_map&gt;\r\n    #include&lt;list&gt;\r\n    \r\n    using namespace std;\r\n    \r\n    typedef unsigned uint;\r\n\r\n    template&lt;typename K, typename V = K&gt;\r\n    struct Entry\r\n    {\r\n    \tK key;\r\n    \tV value;\r\n    };\r\n    \r\n    \r\n    template&lt;typename K, typename V = K&gt;\r\n    class LFUCache\r\n    {\r\n    \r\n    typedef  typename list&lt;typename Entry&lt;K, V&gt;&gt; ElementList;\r\n    typedef typename list &lt;pair &lt;uint, ElementList&gt;&gt; FrequencyList;\r\n    \r\n    private:\r\n    \tunordered_map &lt;K, pair&lt;typename FrequencyList::iterator, typename ElementList::iterator&gt;&gt; cacheMap;\r\n    \tFrequencyList elements;\r\n    \tuint maxSize;\r\n    \tuint curSize;\r\n    \r\n    \tvoid incrementFrequency(pair&lt;typename FrequencyList::iterator, typename ElementList::iterator&gt; p) {\r\n    \t\tif (p.first == prev(elements.end())) {\r\n    \t\t\t//frequency list contains single list with some frequency, create new list with incremented frequency (p.first-&gt;first + 1)\r\n    \t\t\telements.push_back({ p.first-&gt;first + 1, { {p.second-&gt;key, p.second-&gt;value} } });\r\n    \t\t\t// erase and insert the key with new iterator pair\r\n    \t\t\tcacheMap[p.second-&gt;key] = { prev(elements.end()), prev(elements.end())-&gt;second.begin() };\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\t// there exist element(s) with higher frequency\r\n    \t\t\tauto pos = next(p.first);\r\n    \t\t\tif (p.first-&gt;first + 1 == pos-&gt;first)\r\n    \t\t\t\t// same frequency in the next list, add the element in the begin\r\n    \t\t\t\tpos-&gt;second.push_front({ p.second-&gt;key, p.second-&gt;value });\r\n    \t\t\telse\r\n    \t\t\t\t// insert new list before next list\r\n    \t\t\t\tpos = elements.insert(pos, { p.first-&gt;first + 1 , {{p.second-&gt;key, p.second-&gt;value}} });\r\n    \t\t\t// update cachMap iterators\r\n    \t\t\tcacheMap[p.second-&gt;key] = { pos, pos-&gt;second.begin() };\r\n    \t\t}\r\n    \t\t// if element list with old frequency contained this singe element, erase the list from frequency list\r\n    \t\tif (p.first-&gt;second.size() == 1)\r\n    \t\t\telements.erase(p.first);\r\n    \t\telse\r\n    \t\t\t// erase only the element with updated frequency from the old list\r\n    \t\t\tp.first-&gt;second.erase(p.second);\r\n    \t}\r\n    \r\n    \tvoid eraseOldElement() {\r\n    \t\tif (elements.size() &gt; 0) {\r\n    \t\t\tauto key = prev(elements.begin()-&gt;second.end())-&gt;key;\r\n    \t\t\tif (elements.begin()-&gt;second.size() &lt; 2)\r\n    \t\t\t\telements.erase(elements.begin());\r\n    \t\t\telse\r\n    \t\t\t\telements.begin()-&gt;second.erase(prev(elements.begin()-&gt;second.end()));\r\n    \t\t\tcacheMap.erase(key);\r\n    \t\t\tcurSize--;\r\n    \t\t}\r\n    \t}\r\n    \r\n    public:\r\n    \tLFUCache(uint size) {\r\n    \t\tif (size &gt; 0)\r\n    \t\t\tmaxSize = size;\r\n    \t\telse\r\n    \t\t\tmaxSize = 10;\r\n    \t\tcurSize = 0;\r\n    \t}\r\n    \tvoid set(K key, V value) {\r\n    \t\tauto entry = cacheMap.find(key);\r\n    \t\tif (entry == cacheMap.end()) {\r\n    \t\t\tif (curSize == maxSize)\r\n    \t\t\t\teraseOldElement();\r\n    \t\t\tif (elements.begin() == elements.end()) {\r\n    \t\t\t\telements.push_front({ 1, { {key, value} } });\r\n    \t\t\t}\r\n    \t\t\telse if (elements.begin()-&gt;first == 1) {\r\n    \t\t\t\telements.begin()-&gt;second.push_front({ key,value });\r\n    \t\t\t}\r\n    \t\t\telse {\r\n    \t\t\t\telements.push_front({ 1, { {key, value} } });\r\n    \t\t\t}\r\n    \t\t\tcacheMap.insert({ key, {elements.begin(), elements.begin()-&gt;second.begin()} });\r\n    \t\t\tcurSize++;\r\n    \t\t}\r\n    \t\telse {\r\n    \t\t\tentry-&gt;second.second-&gt;value = value;\r\n    \t\t\tincrementFrequency(entry-&gt;second);\r\n    \t\t}\r\n    \t}\r\n    \r\n    \tbool get(K key, V &amp;value) {\r\n    \t\tauto entry = cacheMap.find(key);\r\n    \t\tif (entry == cacheMap.end())\r\n    \t\t\treturn false;\r\n    \t\tvalue = entry-&gt;second.second-&gt;value;\r\n    \t\tincrementFrequency(entry-&gt;second);\r\n    \t\treturn true;\r\n    \t}\r\n    };\r\n\r\nHere are examples of usage:\r\n\r\n        int main()\r\n        {\r\n        \tLFUCache&lt;int&gt;cache(3); // cache of size 3\r\n        \tcache.set(1, 1);\r\n        \tcache.set(2, 2);\r\n        \tcache.set(3, 3);\r\n        \tcache.set(2, 4); \r\n        \r\n        \trc = cache.get(1, r);\r\n        \r\n        \tassert(rc);\r\n        \tassert(r == 1);\r\n            // evict old element, in this case 3\r\n        \tcache.set(4, 5);\r\n        \trc = cache.get(3, r);\r\n        \tassert(!rc);\r\n        \trc = cache.get(4, r);\r\n        \tassert(rc);\r\n        \tassert(r == 5);\r\n    \r\n            LFUCache&lt;int, string&gt;cache2(2);\r\n            cache2.set(1, &quot;one&quot;);\r\n            cache2.set(2, &quot;two&quot;);\r\n            string val;\r\n            rc = cache2.get(1, val);\r\n           if (rc)\r\n    \t      assert(val == &quot;one&quot;);\r\n           else\r\n    \t      assert(false);\r\n\r\n           cache2.set(3, &quot;three&quot;); // evict 2\r\n           rc = cache2.get(2, val);\r\n           assert(rc == false);\r\n           rc = cache2.get(3, val);\r\n           assert(rc);\r\n           assert(val == &quot;three&quot;);\r\n        \r\n    }\r\n\r\n","title":"How to implement a Least Frequently Used (LFU) cache?","body":"<p>Many implementations I have seen have runtime complexity <code>O(log(n))</code>. This means, when the cache size is <code>n</code>, the time needed to insert/remove an element into/from chache is logarithmic. Such implementations use usually a <code>min heap</code> to maintain usage frequencies of elements. The root of the heap contains the element with lowest frequency, and can be accessed in <code>O(1)</code> time. But to maintain the heap property we have to move an element, every time it is used (and frequency is incremented) inside of the heap, to place it into proper position, or when we have to insert new element into the cache (and so put it into the heap).\nBut the runtime complexity can be reduced to <code>O(1)</code>, when we maintain a <code>hashmap</code> (Java) or <code>unordered_map</code> (C++) with the element as key. Additinally we need two sorts of lists, <code>frequency list</code> and <code>elements lists</code>. The <code>elements lists</code> contain elements that have same frequency, and the <code>frequency list</code> contain the <code>element lists</code>.</p>\n\n<pre><code>  frequency list\n  1   3   6   7\n  a   k   y   x\n  c   l       z\n  m   n\n</code></pre>\n\n<p>Here in the example we see the <code>frequency list</code> that has 4 elements (4 <code>elements lists</code>). The element list <code>1</code> contains elements <code>(a,c,m)</code>, the elements list <code>3</code> contains elements <code>(k, l, n)</code> etc.\nNow, when we use say element <code>y</code>, we have to increment its frequency and put it in the next list. Because the elements list with frequency 6 becomes empty, we delete it. The result is:</p>\n\n<pre><code>  frequency list\n  1   3   7\n  a   k   y\n  c   l   x\n  m   n   z\n</code></pre>\n\n<p>We place the element y in the begin of the <code>elements list</code> 7. When we have to remove elements from the list later, we will start from the end (first <code>z</code>, then <code>x</code> and then <code>y</code>).\nNow, when we use element <code>n</code>, we have to increment its frequency and put it into the new list, with frequencies 4:</p>\n\n<pre><code>  frequency list\n  1   3   4  7\n  a   k   n  y\n  c   l      x\n  m          z\n</code></pre>\n\n<p>I hope the idea is clear. I provide now my C++ implementation of the LFU cache, and will add later a Java implementation.\nThe class has just 2 public methods, <code>void set(key k, value v)</code>\nand <code>bool get(key k, value &amp;v)</code>. In the get method the value to retrieve will be set per reference when the element is found, in this case the method returns true. When the element is not found, the method returns false.</p>\n\n<pre><code>#include&lt;unordered_map&gt;\n#include&lt;list&gt;\n\nusing namespace std;\n\ntypedef unsigned uint;\n\ntemplate&lt;typename K, typename V = K&gt;\nstruct Entry\n{\n    K key;\n    V value;\n};\n\n\ntemplate&lt;typename K, typename V = K&gt;\nclass LFUCache\n{\n\ntypedef  typename list&lt;typename Entry&lt;K, V&gt;&gt; ElementList;\ntypedef typename list &lt;pair &lt;uint, ElementList&gt;&gt; FrequencyList;\n\nprivate:\n    unordered_map &lt;K, pair&lt;typename FrequencyList::iterator, typename ElementList::iterator&gt;&gt; cacheMap;\n    FrequencyList elements;\n    uint maxSize;\n    uint curSize;\n\n    void incrementFrequency(pair&lt;typename FrequencyList::iterator, typename ElementList::iterator&gt; p) {\n        if (p.first == prev(elements.end())) {\n            //frequency list contains single list with some frequency, create new list with incremented frequency (p.first-&gt;first + 1)\n            elements.push_back({ p.first-&gt;first + 1, { {p.second-&gt;key, p.second-&gt;value} } });\n            // erase and insert the key with new iterator pair\n            cacheMap[p.second-&gt;key] = { prev(elements.end()), prev(elements.end())-&gt;second.begin() };\n        }\n        else {\n            // there exist element(s) with higher frequency\n            auto pos = next(p.first);\n            if (p.first-&gt;first + 1 == pos-&gt;first)\n                // same frequency in the next list, add the element in the begin\n                pos-&gt;second.push_front({ p.second-&gt;key, p.second-&gt;value });\n            else\n                // insert new list before next list\n                pos = elements.insert(pos, { p.first-&gt;first + 1 , {{p.second-&gt;key, p.second-&gt;value}} });\n            // update cachMap iterators\n            cacheMap[p.second-&gt;key] = { pos, pos-&gt;second.begin() };\n        }\n        // if element list with old frequency contained this singe element, erase the list from frequency list\n        if (p.first-&gt;second.size() == 1)\n            elements.erase(p.first);\n        else\n            // erase only the element with updated frequency from the old list\n            p.first-&gt;second.erase(p.second);\n    }\n\n    void eraseOldElement() {\n        if (elements.size() &gt; 0) {\n            auto key = prev(elements.begin()-&gt;second.end())-&gt;key;\n            if (elements.begin()-&gt;second.size() &lt; 2)\n                elements.erase(elements.begin());\n            else\n                elements.begin()-&gt;second.erase(prev(elements.begin()-&gt;second.end()));\n            cacheMap.erase(key);\n            curSize--;\n        }\n    }\n\npublic:\n    LFUCache(uint size) {\n        if (size &gt; 0)\n            maxSize = size;\n        else\n            maxSize = 10;\n        curSize = 0;\n    }\n    void set(K key, V value) {\n        auto entry = cacheMap.find(key);\n        if (entry == cacheMap.end()) {\n            if (curSize == maxSize)\n                eraseOldElement();\n            if (elements.begin() == elements.end()) {\n                elements.push_front({ 1, { {key, value} } });\n            }\n            else if (elements.begin()-&gt;first == 1) {\n                elements.begin()-&gt;second.push_front({ key,value });\n            }\n            else {\n                elements.push_front({ 1, { {key, value} } });\n            }\n            cacheMap.insert({ key, {elements.begin(), elements.begin()-&gt;second.begin()} });\n            curSize++;\n        }\n        else {\n            entry-&gt;second.second-&gt;value = value;\n            incrementFrequency(entry-&gt;second);\n        }\n    }\n\n    bool get(K key, V &amp;value) {\n        auto entry = cacheMap.find(key);\n        if (entry == cacheMap.end())\n            return false;\n        value = entry-&gt;second.second-&gt;value;\n        incrementFrequency(entry-&gt;second);\n        return true;\n    }\n};\n</code></pre>\n\n<p>Here are examples of usage:</p>\n\n<pre><code>    int main()\n    {\n        LFUCache&lt;int&gt;cache(3); // cache of size 3\n        cache.set(1, 1);\n        cache.set(2, 2);\n        cache.set(3, 3);\n        cache.set(2, 4); \n\n        rc = cache.get(1, r);\n\n        assert(rc);\n        assert(r == 1);\n        // evict old element, in this case 3\n        cache.set(4, 5);\n        rc = cache.get(3, r);\n        assert(!rc);\n        rc = cache.get(4, r);\n        assert(rc);\n        assert(r == 5);\n\n        LFUCache&lt;int, string&gt;cache2(2);\n        cache2.set(1, \"one\");\n        cache2.set(2, \"two\");\n        string val;\n        rc = cache2.get(1, val);\n       if (rc)\n          assert(val == \"one\");\n       else\n          assert(false);\n\n       cache2.set(3, \"three\"); // evict 2\n       rc = cache2.get(2, val);\n       assert(rc == false);\n       rc = cache2.get(3, val);\n       assert(rc);\n       assert(val == \"three\");\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8329735,"reputation":49,"user_id":6258582,"display_name":"Pramod Sivaraju"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1554957678,"creation_date":1554957678,"answer_id":55624839,"question_id":21117636,"body_markdown":"Here&#39;s the o(1) implementation for LFU - http://dhruvbird.com/lfu.pdf\r\n","title":"How to implement a Least Frequently Used (LFU) cache?","body":"<p>Here's the o(1) implementation for LFU - <a href=\"http://dhruvbird.com/lfu.pdf\" rel=\"nofollow noreferrer\">http://dhruvbird.com/lfu.pdf</a></p>\n"},{"tags":[],"owner":{"account_id":3662779,"reputation":492,"user_id":3052125,"accept_rate":12,"display_name":"Siddhartha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1590208579,"creation_date":1590178425,"answer_id":61963145,"question_id":21117636,"body_markdown":"I have tried to implement this below LFU cache implementation. Took reference from this -\r\n[LFU](http://dhruvbird.com/lfu.pdf) paper. My implementation is working nicely.\r\n\r\nIf anyone wants to provide any further suggestion to improve it again, please let me know.\r\n\r\n    import java.util.HashMap;\r\n    import java.util.Map;\r\n    import java.util.Objects;\r\n    import java.util.TreeMap;\r\n\r\n    public class LFUCacheImplementation {\r\n\r\n\t\tprivate Map&lt;Integer, Node&gt; cache = new HashMap&lt;&gt;();\r\n\t\tprivate Map&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\r\n\t\tprivate TreeMap&lt;Integer, DoublyLinkedList&gt; frequencies = new TreeMap&lt;&gt;();\r\n\t\tprivate final int CAPACITY;\r\n\t\r\n\t\tpublic LFUCache(int capacity) {\r\n\t\t\tthis.CAPACITY = capacity;\r\n\t\t}\r\n\t\r\n\t\tpublic int get(int key) {\r\n\t\t\tif (!cache.containsKey(key)) {\r\n\t\t\t\treturn -1;\r\n\t\t\t}\r\n\t\r\n\t\t\tNode node = cache.get(key);\r\n\t\t\t\r\n\t\t\tint frequency = counts.get(key);\r\n\t\t\tfrequencies.get(frequency).remove(new Node(node.key(), node.value()));\r\n\t\t\tremoveFreq(frequency);\r\n\t\t\tfrequencies.computeIfAbsent(frequency + 1, k -&gt; new DoublyLinkedList()).add(new Node(node.key(), node.value()));\r\n\t\r\n\t\t\tcounts.put(key, frequency + 1);\r\n\t\t\treturn cache.get(key).value();\r\n\t\t}\r\n\t\r\n\t\tpublic void set(int key, int value) {\r\n\t\t\tif (!cache.containsKey(key)) {\r\n\t\r\n\t\t\t\tNode node = new Node(key, value);\r\n\t\r\n\t\t\t\tif (cache.size() == CAPACITY) {\r\n\t\r\n\t\t\t\t\tint l_count = frequencies.firstKey();\r\n\t\t\t\t\tNode deleteThisNode = frequencies.get(l_count).head();\r\n\t\t\t\t\tfrequencies.get(l_count).remove(deleteThisNode);\r\n\t\r\n\t\t\t\t\tint deleteThisKey = deleteThisNode.key();\r\n\t\t\t\t\tremoveFreq(l_count);\r\n\t\t\t\t\tcache.remove(deleteThisKey);\r\n\t\t\t\t\tcounts.remove(deleteThisKey);\r\n\t\t\t\t}\r\n\t\r\n\t\t\t\tcache.put(key, node);\r\n\t\t\t\tcounts.put(key, 1);\r\n\t\t\t\tfrequencies.computeIfAbsent(1, k -&gt; new DoublyLinkedList()).add(node);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tprivate void removeFreq(int frequency) {\r\n\t\t\tif (frequencies.get(frequency).size() == 0) {\r\n\t\t\t\tfrequencies.remove(frequency);\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic Map&lt;Integer, Node&gt; getCache() {\r\n\t\t\treturn cache;\r\n\t\t}\r\n\t\r\n\t\tpublic Map&lt;Integer, Integer&gt; getCounts() {\r\n\t\t\treturn counts;\r\n\t\t}\r\n\t\r\n\t\tpublic TreeMap&lt;Integer, DoublyLinkedList&gt; getFrequencies() {\r\n\t\t\treturn frequencies;\r\n\t\t}\r\n\t}\r\n\r\n    class Node {\r\n        private int key;\r\n        private int value;\r\n        private Node next;\r\n        private Node prev;\r\n\r\n        public Node(int key, int value) {\r\n            this.key = key;\r\n            this.value = value;\r\n        }\r\n\r\n        public Node getNext() {\r\n            return next;\r\n        }\r\n\r\n        public void setNext(Node next) {\r\n            this.next = next;\r\n        }\r\n\r\n        public Node getPrev() {\r\n            return prev;\r\n        }\r\n\r\n        public void setPrev(Node prev) {\r\n            this.prev = prev;\r\n        }\r\n\r\n        public int key() {\r\n            return key;\r\n        }\r\n\r\n        public int value() {\r\n            return value;\r\n        }\r\n\r\n        @Override\r\n        public boolean equals(Object o) {\r\n            if (this == o) return true;\r\n            if (!(o instanceof Node)) return false;\r\n            Node node = (Node) o;\r\n            return key == node.key &amp;&amp;\r\n                    value == node.value;\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return Objects.hash(key, value);\r\n        }\r\n\r\n        @Override\r\n        public String toString() {\r\n            return &quot;Node{&quot; +\r\n                    &quot;key=&quot; + key +\r\n                    &quot;, value=&quot; + value +\r\n                    &#39;}&#39;;\r\n        }\r\n    }\r\n\r\n    class DoublyLinkedList {\r\n        private int size;\r\n        private Node head;\r\n        private Node tail;\r\n\r\n        public void add(Node node) {\r\n            if (null == head) {\r\n                head = node;\r\n            } else {\r\n                tail.setNext(node);\r\n                node.setPrev(tail);\r\n            }\r\n            tail = node;\r\n            size++;\r\n        }\r\n\r\n        public void remove(Node node) {\r\n            if(null == head || null == node) {\r\n                return;\r\n            }\r\n            if(this.size() == 1 &amp;&amp; head.equals(node)) {\r\n                head = null;\r\n                tail = null;\r\n            } else if (head.equals(node)) {\r\n                head = node.getNext();\r\n                head.setPrev(null);\r\n            } else if (tail.equals(node)) {\r\n                Node prevToTail = tail.getPrev();\r\n                prevToTail.setNext(null);\r\n                tail = prevToTail;\r\n            } else {\r\n                Node current = head.getNext();\r\n\r\n                while(!current.equals(tail)) {\r\n                    if(current.equals(node)) {\r\n                        Node prevToCurrent = current.getPrev();\r\n                        Node nextToCurrent = current.getNext();\r\n                        prevToCurrent.setNext(nextToCurrent);\r\n                        nextToCurrent.setPrev(prevToCurrent);\r\n                        break;\r\n                    }\r\n                   current = current.getNext();\r\n                }\r\n            }\r\n            size--;\r\n        }\r\n\r\n        public Node head() {\r\n            return head;\r\n        }\r\n\r\n        public int size() {\r\n            return size;\r\n        }\r\n    }\r\n\r\n\r\nClient code to use the above cache implementation -\r\n\r\n    import java.util.Map;\r\n\r\n\tpublic class Client {\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tClient client = new Client();\r\n\t\t\tLFUCache cache = new LFUCache(4);\r\n\t\t\tcache.set(11, function(11));\r\n\t\t\tcache.set(12, function(12));\r\n\t\t\tcache.set(13, function(13));\r\n\t\t\tcache.set(14, function(14));\r\n\t\t\tcache.set(15, function(15));\r\n\t\t\tclient.print(cache.getFrequencies());\r\n\t\r\n\t\t\tcache.get(13);\r\n\t\t\tcache.get(13);\r\n\t\t\tcache.get(13);\r\n\t\t\tcache.get(14);\r\n\t\t\tcache.get(14);\r\n\t\t\tcache.get(14);\r\n\t\t\tcache.get(14);\r\n\t\t\tclient.print(cache.getCache());\r\n\t\t\tclient.print(cache.getCounts());\r\n\t\t\tclient.print(cache.getFrequencies());\r\n\t\t}\r\n\t\r\n\t\tpublic void print(Map&lt;Integer, ? extends Object&gt; map) {\r\n\t\r\n\t\t\tfor(Map.Entry&lt;Integer, ? extends Object&gt; entry : map.entrySet()) {\r\n\t\t\t\tif(entry.getValue() instanceof Node) {\r\n\t\t\t\t\tSystem.out.println(&quot;Cache Key =&gt; &quot;+entry.getKey()+&quot;, Cache Value =&gt; &quot;+((Node) entry.getValue()).toString());\r\n\t\t\t\t} else if (entry.getValue() instanceof DoublyLinkedList) {\r\n\t\t\t\t\tSystem.out.println(&quot;Frequency Key =&gt; &quot;+entry.getKey()+&quot; Frequency Values =&gt; [&quot;);\r\n\t\t\t\t\tNode head = ((DoublyLinkedList) entry.getValue()).head();\r\n\t\t\t\t\twhile(null != head) {\r\n\t\t\t\t\t\tSystem.out.println(head.toString());\r\n\t\t\t\t\t\thead = head.getNext();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tSystem.out.println(&quot; ]&quot;);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tSystem.out.println(&quot;Count Key =&gt; &quot;+entry.getKey()+&quot;, Count Value =&gt; &quot;+entry.getValue());\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t\r\n\t\tpublic static int function(int key) {\r\n\t\t\tint prime = 31;\r\n\t\t\treturn key*prime;\r\n\t\t}\r\n\t}","title":"How to implement a Least Frequently Used (LFU) cache?","body":"<p>I have tried to implement this below LFU cache implementation. Took reference from this -\n<a href=\"http://dhruvbird.com/lfu.pdf\" rel=\"nofollow noreferrer\">LFU</a> paper. My implementation is working nicely.</p>\n\n<p>If anyone wants to provide any further suggestion to improve it again, please let me know.</p>\n\n<pre><code>import java.util.HashMap;\nimport java.util.Map;\nimport java.util.Objects;\nimport java.util.TreeMap;\n\npublic class LFUCacheImplementation {\n\n    private Map&lt;Integer, Node&gt; cache = new HashMap&lt;&gt;();\n    private Map&lt;Integer, Integer&gt; counts = new HashMap&lt;&gt;();\n    private TreeMap&lt;Integer, DoublyLinkedList&gt; frequencies = new TreeMap&lt;&gt;();\n    private final int CAPACITY;\n\n    public LFUCache(int capacity) {\n        this.CAPACITY = capacity;\n    }\n\n    public int get(int key) {\n        if (!cache.containsKey(key)) {\n            return -1;\n        }\n\n        Node node = cache.get(key);\n\n        int frequency = counts.get(key);\n        frequencies.get(frequency).remove(new Node(node.key(), node.value()));\n        removeFreq(frequency);\n        frequencies.computeIfAbsent(frequency + 1, k -&gt; new DoublyLinkedList()).add(new Node(node.key(), node.value()));\n\n        counts.put(key, frequency + 1);\n        return cache.get(key).value();\n    }\n\n    public void set(int key, int value) {\n        if (!cache.containsKey(key)) {\n\n            Node node = new Node(key, value);\n\n            if (cache.size() == CAPACITY) {\n\n                int l_count = frequencies.firstKey();\n                Node deleteThisNode = frequencies.get(l_count).head();\n                frequencies.get(l_count).remove(deleteThisNode);\n\n                int deleteThisKey = deleteThisNode.key();\n                removeFreq(l_count);\n                cache.remove(deleteThisKey);\n                counts.remove(deleteThisKey);\n            }\n\n            cache.put(key, node);\n            counts.put(key, 1);\n            frequencies.computeIfAbsent(1, k -&gt; new DoublyLinkedList()).add(node);\n        }\n    }\n\n    private void removeFreq(int frequency) {\n        if (frequencies.get(frequency).size() == 0) {\n            frequencies.remove(frequency);\n        }\n    }\n\n    public Map&lt;Integer, Node&gt; getCache() {\n        return cache;\n    }\n\n    public Map&lt;Integer, Integer&gt; getCounts() {\n        return counts;\n    }\n\n    public TreeMap&lt;Integer, DoublyLinkedList&gt; getFrequencies() {\n        return frequencies;\n    }\n}\n\nclass Node {\n    private int key;\n    private int value;\n    private Node next;\n    private Node prev;\n\n    public Node(int key, int value) {\n        this.key = key;\n        this.value = value;\n    }\n\n    public Node getNext() {\n        return next;\n    }\n\n    public void setNext(Node next) {\n        this.next = next;\n    }\n\n    public Node getPrev() {\n        return prev;\n    }\n\n    public void setPrev(Node prev) {\n        this.prev = prev;\n    }\n\n    public int key() {\n        return key;\n    }\n\n    public int value() {\n        return value;\n    }\n\n    @Override\n    public boolean equals(Object o) {\n        if (this == o) return true;\n        if (!(o instanceof Node)) return false;\n        Node node = (Node) o;\n        return key == node.key &amp;&amp;\n                value == node.value;\n    }\n\n    @Override\n    public int hashCode() {\n        return Objects.hash(key, value);\n    }\n\n    @Override\n    public String toString() {\n        return \"Node{\" +\n                \"key=\" + key +\n                \", value=\" + value +\n                '}';\n    }\n}\n\nclass DoublyLinkedList {\n    private int size;\n    private Node head;\n    private Node tail;\n\n    public void add(Node node) {\n        if (null == head) {\n            head = node;\n        } else {\n            tail.setNext(node);\n            node.setPrev(tail);\n        }\n        tail = node;\n        size++;\n    }\n\n    public void remove(Node node) {\n        if(null == head || null == node) {\n            return;\n        }\n        if(this.size() == 1 &amp;&amp; head.equals(node)) {\n            head = null;\n            tail = null;\n        } else if (head.equals(node)) {\n            head = node.getNext();\n            head.setPrev(null);\n        } else if (tail.equals(node)) {\n            Node prevToTail = tail.getPrev();\n            prevToTail.setNext(null);\n            tail = prevToTail;\n        } else {\n            Node current = head.getNext();\n\n            while(!current.equals(tail)) {\n                if(current.equals(node)) {\n                    Node prevToCurrent = current.getPrev();\n                    Node nextToCurrent = current.getNext();\n                    prevToCurrent.setNext(nextToCurrent);\n                    nextToCurrent.setPrev(prevToCurrent);\n                    break;\n                }\n               current = current.getNext();\n            }\n        }\n        size--;\n    }\n\n    public Node head() {\n        return head;\n    }\n\n    public int size() {\n        return size;\n    }\n}\n</code></pre>\n\n<p>Client code to use the above cache implementation -</p>\n\n<pre><code>import java.util.Map;\n\npublic class Client {\n\n    public static void main(String[] args) {\n        Client client = new Client();\n        LFUCache cache = new LFUCache(4);\n        cache.set(11, function(11));\n        cache.set(12, function(12));\n        cache.set(13, function(13));\n        cache.set(14, function(14));\n        cache.set(15, function(15));\n        client.print(cache.getFrequencies());\n\n        cache.get(13);\n        cache.get(13);\n        cache.get(13);\n        cache.get(14);\n        cache.get(14);\n        cache.get(14);\n        cache.get(14);\n        client.print(cache.getCache());\n        client.print(cache.getCounts());\n        client.print(cache.getFrequencies());\n    }\n\n    public void print(Map&lt;Integer, ? extends Object&gt; map) {\n\n        for(Map.Entry&lt;Integer, ? extends Object&gt; entry : map.entrySet()) {\n            if(entry.getValue() instanceof Node) {\n                System.out.println(\"Cache Key =&gt; \"+entry.getKey()+\", Cache Value =&gt; \"+((Node) entry.getValue()).toString());\n            } else if (entry.getValue() instanceof DoublyLinkedList) {\n                System.out.println(\"Frequency Key =&gt; \"+entry.getKey()+\" Frequency Values =&gt; [\");\n                Node head = ((DoublyLinkedList) entry.getValue()).head();\n                while(null != head) {\n                    System.out.println(head.toString());\n                    head = head.getNext();\n                }\n                System.out.println(\" ]\");\n            } else {\n                System.out.println(\"Count Key =&gt; \"+entry.getKey()+\", Count Value =&gt; \"+entry.getValue());\n            }\n        }\n    }\n\n    public static int function(int key) {\n        int prime = 31;\n        return key*prime;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3185961,"reputation":26,"user_id":2691568,"display_name":"Thanh Nguyen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635908906,"creation_date":1635908906,"answer_id":69819225,"question_id":21117636,"body_markdown":"Here is a simple implementation of LFU cache in Go/Golang based on [here][1].\r\n\r\n```\r\nimport &quot;container/list&quot; \r\n\r\ntype LFU struct {\r\n\tcache      map[int]*list.Element\r\n\tfreqQueue  map[int]*list.List\r\n\tcap        int\r\n\tmaxFreq    int\r\n\tlowestFreq int\r\n}\r\n\r\ntype entry struct {\r\n\tkey, val int\r\n\tfreq     int\r\n}\r\n\r\nfunc NewLFU(capacity int) *LFU {\r\n\treturn &amp;LFU{\r\n\t\tcache:      make(map[int]*list.Element),\r\n\t\tfreqQueue:  make(map[int]*list.List),\r\n\t\tcap:        capacity,\r\n\t\tmaxFreq:    capacity - 1,\r\n\t\tlowestFreq: 0,\r\n\t}\r\n}\r\n\r\n// O(1)\r\nfunc (c *LFU) Get(key int) int {\r\n\tif e, ok := c.cache[key]; ok {\r\n\t\tval := e.Value.(*entry).val\r\n\t\tc.updateEntry(e, val)\r\n\t\treturn val\r\n\t}\r\n\r\n\treturn -1\r\n}\r\n\r\n// O(1)\r\nfunc (c *LFU) Put(key int, value int) {\r\n\tif e, ok := c.cache[key]; ok {\r\n\t\tc.updateEntry(e, value)\r\n\r\n\t} else {\r\n\t\tif len(c.cache) == c.cap {\r\n\t\t\tc.evict()\r\n\t\t}\r\n\r\n\t\tif c.freqQueue[0] == nil {\r\n\t\t\tc.freqQueue[0] = list.New()\r\n\t\t}\r\n\t\te := c.freqQueue[0].PushFront(&amp;entry{key, value, 0})\r\n\t\tc.cache[key] = e\r\n\t\tc.lowestFreq = 0\r\n\t}\r\n}\r\n\r\nfunc (c *LFU) updateEntry(e *list.Element, val int) {\r\n\tkey := e.Value.(*entry).key\r\n\tcurFreq := e.Value.(*entry).freq\r\n\r\n\tc.freqQueue[curFreq].Remove(e)\r\n\tdelete(c.cache, key)\r\n\r\n\tnextFreq := curFreq + 1\r\n\tif nextFreq &gt; c.maxFreq {\r\n\t\tnextFreq = c.maxFreq\r\n\t}\r\n\r\n\tif c.lowestFreq == curFreq &amp;&amp; c.freqQueue[curFreq].Len() == 0 {\r\n\t\tc.lowestFreq = nextFreq\r\n\t}\r\n\r\n\tif c.freqQueue[nextFreq] == nil {\r\n\t\tc.freqQueue[nextFreq] = list.New()\r\n\t}\r\n\tnewE := c.freqQueue[nextFreq].PushFront(&amp;entry{key, val, nextFreq})\r\n\tc.cache[key] = newE\r\n}\r\n\r\nfunc (c *LFU) evict() {\r\n\tback := c.freqQueue[c.lowestFreq].Back()\r\n\tdelete(c.cache, back.Value.(*entry).key)\r\n\tc.freqQueue[c.lowestFreq].Remove(back)\r\n}\r\n```\r\n\r\n\r\n  [1]: https://svn.apache.org/repos/asf/activemq/trunk/activemq-kahadb-store/src/main/java/org/apache/activemq/util/LFUCache.java","title":"How to implement a Least Frequently Used (LFU) cache?","body":"<p>Here is a simple implementation of LFU cache in Go/Golang based on <a href=\"https://svn.apache.org/repos/asf/activemq/trunk/activemq-kahadb-store/src/main/java/org/apache/activemq/util/LFUCache.java\" rel=\"nofollow noreferrer\">here</a>.</p>\n<pre><code>import &quot;container/list&quot; \n\ntype LFU struct {\n    cache      map[int]*list.Element\n    freqQueue  map[int]*list.List\n    cap        int\n    maxFreq    int\n    lowestFreq int\n}\n\ntype entry struct {\n    key, val int\n    freq     int\n}\n\nfunc NewLFU(capacity int) *LFU {\n    return &amp;LFU{\n        cache:      make(map[int]*list.Element),\n        freqQueue:  make(map[int]*list.List),\n        cap:        capacity,\n        maxFreq:    capacity - 1,\n        lowestFreq: 0,\n    }\n}\n\n// O(1)\nfunc (c *LFU) Get(key int) int {\n    if e, ok := c.cache[key]; ok {\n        val := e.Value.(*entry).val\n        c.updateEntry(e, val)\n        return val\n    }\n\n    return -1\n}\n\n// O(1)\nfunc (c *LFU) Put(key int, value int) {\n    if e, ok := c.cache[key]; ok {\n        c.updateEntry(e, value)\n\n    } else {\n        if len(c.cache) == c.cap {\n            c.evict()\n        }\n\n        if c.freqQueue[0] == nil {\n            c.freqQueue[0] = list.New()\n        }\n        e := c.freqQueue[0].PushFront(&amp;entry{key, value, 0})\n        c.cache[key] = e\n        c.lowestFreq = 0\n    }\n}\n\nfunc (c *LFU) updateEntry(e *list.Element, val int) {\n    key := e.Value.(*entry).key\n    curFreq := e.Value.(*entry).freq\n\n    c.freqQueue[curFreq].Remove(e)\n    delete(c.cache, key)\n\n    nextFreq := curFreq + 1\n    if nextFreq &gt; c.maxFreq {\n        nextFreq = c.maxFreq\n    }\n\n    if c.lowestFreq == curFreq &amp;&amp; c.freqQueue[curFreq].Len() == 0 {\n        c.lowestFreq = nextFreq\n    }\n\n    if c.freqQueue[nextFreq] == nil {\n        c.freqQueue[nextFreq] = list.New()\n    }\n    newE := c.freqQueue[nextFreq].PushFront(&amp;entry{key, val, nextFreq})\n    c.cache[key] = newE\n}\n\nfunc (c *LFU) evict() {\n    back := c.freqQueue[c.lowestFreq].Back()\n    delete(c.cache, back.Value.(*entry).key)\n    c.freqQueue[c.lowestFreq].Remove(back)\n}\n</code></pre>\n"}],"owner":{"account_id":490572,"reputation":3429,"user_id":1792003,"accept_rate":62,"display_name":"Snehal Masne"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43929,"favorite_count":0,"down_vote_count":0,"up_vote_count":27,"accepted_answer_id":23668899,"answer_count":8,"score":27,"last_activity_date":1635908906,"creation_date":1389714306,"question_id":21117636,"body_markdown":"Least Frequently Used (LFU) is a type of cache algorithm used to manage memory within a computer. The standard characteristics of this method involve the system keeping track of the number of times a block is referenced in memory. When the cache is full and requires more room the system will purge the item with the lowest reference frequency.\r\n\r\nWhat would be the best way to implement a most-recently-used cache of objects, say in Java?\r\n\r\nI&#39;ve already implemented one using LinkedHashMap(by maintaining the no. of times objects are accessed) But I&#39;m curious if any of the new concurrent collections would be better candidates.\r\n\r\nConsider this case : Suppose cache is full and we need to make space for another one. Say two objects are noted in cache which are accessed for one time only.  Which one to remove if we come to know that other(which is not in cache)object is being accessed for more than once ?\r\n\r\n\r\nThanks!\r\n","title":"How to implement a Least Frequently Used (LFU) cache?","body":"<p>Least Frequently Used (LFU) is a type of cache algorithm used to manage memory within a computer. The standard characteristics of this method involve the system keeping track of the number of times a block is referenced in memory. When the cache is full and requires more room the system will purge the item with the lowest reference frequency.</p>\n\n<p>What would be the best way to implement a most-recently-used cache of objects, say in Java?</p>\n\n<p>I've already implemented one using LinkedHashMap(by maintaining the no. of times objects are accessed) But I'm curious if any of the new concurrent collections would be better candidates.</p>\n\n<p>Consider this case : Suppose cache is full and we need to make space for another one. Say two objects are noted in cache which are accessed for one time only.  Which one to remove if we come to know that other(which is not in cache)object is being accessed for more than once ?</p>\n\n<p>Thanks!</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1635896155,"post_id":69818055,"comment_id":123413793,"body_markdown":"What is the exact output?","body":"What is the exact output?"},{"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"score":0,"creation_date":1635896218,"post_id":69818055,"comment_id":123413807,"body_markdown":"Hi I updated my question, please take a look","body":"Hi I updated my question, please take a look"}],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635908589,"creation_date":1635896065,"answer_id":69818073,"question_id":69818055,"body_markdown":"Here is a splitting option:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;analitics@gmail.com@5&quot;;\r\n    String output = String.join(&quot;@&quot;, input.split(&quot;@&quot;)[0], input.split(&quot;@&quot;)[1]) + &quot;@&quot;;\r\n    System.out.println(output);  // analitics@gmail.com@\r\n\r\nAssuming your input would only have _two_ at symbols, you could use a regex replacement here:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;analitics@gmail.com@5&quot;;\r\n    String output = input.replaceAll(&quot;@[^@]*$&quot;, &quot;@&quot;);\r\n    System.out.println(output);  // analitics@gmail.com@","title":"How to remove everything after specific character in string using Java","body":"<p>Here is a splitting option:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;analitics@gmail.com@5&quot;;\nString output = String.join(&quot;@&quot;, input.split(&quot;@&quot;)[0], input.split(&quot;@&quot;)[1]) + &quot;@&quot;;\nSystem.out.println(output);  // analitics@gmail.com@\n</code></pre>\n<p>Assuming your input would only have <em>two</em> at symbols, you could use a regex replacement here:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;analitics@gmail.com@5&quot;;\nString output = input.replaceAll(&quot;@[^@]*$&quot;, &quot;@&quot;);\nSystem.out.println(output);  // analitics@gmail.com@\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7089168,"reputation":157118,"user_id":5424988,"display_name":"The fourth bird"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635896793,"creation_date":1635896302,"answer_id":69818100,"question_id":69818055,"body_markdown":"You can capture in group 1 what you want to keep, and match what comes after it to be removed.\r\n\r\nIn the replacement use capture group 1 denoted by `$1`\r\n\r\n    ^((?:[^@\\s]+@){2}).+\r\n\r\n- `^` Start of string\r\n- `(` Capture **group 1**\r\n  - `(?:[^@\\s]+@){2}` Repeat 2 times matching 1+ chars other than @, and then match the @\r\n- `)` Close group 1\r\n- `.+` Match 1 or more characters that you want to remove\r\n\r\n[Regex demo](https://regex101.com/r/gxvFyQ/1) | [Java demo](https://ideone.com/UAwAS7)\r\n\r\n    String s = &quot;analitics@gmail.com@5&quot;;\r\n    System.out.println(s.replaceAll(&quot;^((?:[^@\\\\s]+@){2}).+&quot;, &quot;$1&quot;));\r\n\r\nOutput\r\n\r\n    analitics@gmail.com@\r\n\r\n&lt;hr&gt;\r\n\r\nIf the string can also start with `@@1` and you want to keep `@@` then you might also use:\r\n\r\n    ^((?:[^@]*@){2}).+\r\n\r\n[Regex demo](https://regex101.com/r/rpSn3A/1)","title":"How to remove everything after specific character in string using Java","body":"<p>You can capture in group 1 what you want to keep, and match what comes after it to be removed.</p>\n<p>In the replacement use capture group 1 denoted by <code>$1</code></p>\n<pre><code>^((?:[^@\\s]+@){2}).+\n</code></pre>\n<ul>\n<li><code>^</code> Start of string</li>\n<li><code>(</code> Capture <strong>group 1</strong>\n<ul>\n<li><code>(?:[^@\\s]+@){2}</code> Repeat 2 times matching 1+ chars other than @, and then match the @</li>\n</ul>\n</li>\n<li><code>)</code> Close group 1</li>\n<li><code>.+</code> Match 1 or more characters that you want to remove</li>\n</ul>\n<p><a href=\"https://regex101.com/r/gxvFyQ/1\" rel=\"nofollow noreferrer\">Regex demo</a> | <a href=\"https://ideone.com/UAwAS7\" rel=\"nofollow noreferrer\">Java demo</a></p>\n<pre><code>String s = &quot;analitics@gmail.com@5&quot;;\nSystem.out.println(s.replaceAll(&quot;^((?:[^@\\\\s]+@){2}).+&quot;, &quot;$1&quot;));\n</code></pre>\n<p>Output</p>\n<pre><code>analitics@gmail.com@\n</code></pre>\n<hr>\n<p>If the string can also start with <code>@@1</code> and you want to keep <code>@@</code> then you might also use:</p>\n<pre><code>^((?:[^@]*@){2}).+\n</code></pre>\n<p><a href=\"https://regex101.com/r/rpSn3A/1\" rel=\"nofollow noreferrer\">Regex demo</a></p>\n"},{"tags":[],"owner":{"account_id":93689,"reputation":415931,"user_id":256196,"accept_rate":77,"display_name":"Bohemian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635899200,"creation_date":1635897657,"answer_id":69818228,"question_id":69818055,"body_markdown":"The *simplest* way that would seem to work for you:\r\n\r\n    str = str.replaceAll(&quot;@[^.]*$&quot;, &quot;&quot;);\r\n\r\nSee [live demo][1].\r\n\r\nThis matches (and replaces with blank to delete) `@` and any non-dot chars to the end.\r\n\r\n\r\n  [1]: https://rubular.com/r/dnhEFxKEqWH9m1","title":"How to remove everything after specific character in string using Java","body":"<p>The <em>simplest</em> way that would seem to work for you:</p>\n<pre><code>str = str.replaceAll(&quot;@[^.]*$&quot;, &quot;&quot;);\n</code></pre>\n<p>See <a href=\"https://rubular.com/r/dnhEFxKEqWH9m1\" rel=\"nofollow noreferrer\">live demo</a>.</p>\n<p>This matches (and replaces with blank to delete) <code>@</code> and any non-dot chars to the end.</p>\n"}],"owner":{"account_id":4418961,"reputation":1927,"user_id":9347049,"display_name":"user9347049"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":269,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"accepted_answer_id":69818073,"answer_count":3,"score":0,"last_activity_date":1635908589,"creation_date":1635895927,"question_id":69818055,"body_markdown":"I have a string that looks like this:\r\n\r\n    analitics@gmail.com@5\r\n\r\nAnd it represents my `userId`.\r\n\r\nI have to send that `userId` as parameter to the function and send it in the way that I remove number 5 after second `@` and append new number.\r\n\r\nI started with something like this:\r\n\r\n    userService.getUser(user.userId.substring(0, userAfterMigration.userId.indexOf(&quot;@&quot;) + 1) + 3\r\n\r\nWhat is the best way of removing everything that comes after the second `@` character in string above using Java?\r\n","title":"How to remove everything after specific character in string using Java","body":"<p>I have a string that looks like this:</p>\n<pre><code>analitics@gmail.com@5\n</code></pre>\n<p>And it represents my <code>userId</code>.</p>\n<p>I have to send that <code>userId</code> as parameter to the function and send it in the way that I remove number 5 after second <code>@</code> and append new number.</p>\n<p>I started with something like this:</p>\n<pre><code>userService.getUser(user.userId.substring(0, userAfterMigration.userId.indexOf(&quot;@&quot;) + 1) + 3\n</code></pre>\n<p>What is the best way of removing everything that comes after the second <code>@</code> character in string above using Java?</p>\n"},{"tags":["java","generics","arraylist","multidimensional-array"],"comments":[{"owner":{"account_id":11039972,"reputation":139,"user_id":8108313,"display_name":"Logan MacDougall"},"score":0,"creation_date":1635906736,"post_id":69818692,"comment_id":123415487,"body_markdown":"Is there a reason you need to cast it? You should be able to instead use:\n`new T[this.nNodes][this.arraySize];`","body":"Is there a reason you need to cast it? You should be able to instead use: <code>new T[this.nNodes][this.arraySize];</code>"},{"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"score":0,"creation_date":1635907277,"post_id":69818692,"comment_id":123415560,"body_markdown":"@LogonMacdougall `new T[]` is not  valid java.","body":"@LogonMacdougall <code>new T[]</code> is not  valid java."}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635908347,"creation_date":1635908347,"answer_id":69819178,"question_id":69818692,"body_markdown":"&gt; y out of a T type unrolled linked list.\r\n\r\nThis is impossible.\r\n\r\nGenerics are a figment of the compiler&#39;s imagination. Generics __completely disappear__ once your java code has been turned into a class file, or if they don&#39;t (generics in signatures), the JVM treats it as a comment. It has absolutely no effect. Instead, the compiler uses it to generate errors or warnings and inject invisible casts. This:\r\n\r\n```\r\nList&lt;String&gt; x = new ArrayList&lt;String&gt;();\r\nx.add(&quot;Hello&quot;);\r\nString y = x.get(0);\r\n```\r\n\r\nends up in class code as indistinguishable from compiling:\r\n\r\n```\r\nList x = new ArrayList();\r\nx.add(&quot;Hello&quot;);\r\nString y = (String) x.get(0);\r\n```\r\n\r\nTry it if you&#39;re having a hard time getting your head around this idea. Write both, compile it, run `javap -c -v` to see the bytecode. Identical.\r\n\r\nThe reason `x.add(5)` would not work as replacement for `x.add(&quot;Hello&quot;)` is simply because `javac` won&#39;t let it happen. If you hack javac to allow it, you get a class file just fine and it verifies just fine. The `x.add(5)` will even execute just fine. You&#39;d get a ClassCastException on the next line, simply because you&#39;re casting an instance of Integer to String.\r\n\r\nAs a consequence, there is __no way to tell__ the difference between a `new ArrayList&lt;String&gt;();` and a `new ArrayList&lt;Integer&gt;()` at runtime. Obviously; generics disappears; those are both just `new ArrayList()`, that&#39;s it.\r\n\r\nIn contrast, arrays are &#39;reified&#39;: They aren&#39;t a figment of javac&#39;s imagination. You can actually get this stuff at runtime. There is a difference between `new String[0]` and `new Integer[0]`:\r\n\r\n```\r\nObject[] arr1 = new String[0];\r\nSystem.out.println(arr1.getClass().getComponentType()); // prints &#39;String&#39;\r\n```\r\n\r\nIt is __impossible__ to write the identical code for generics:\r\n\r\n```\r\nList&lt;?&gt; list1 = new ArrayList&lt;String&gt;();\r\nSystem.out.println(--nothing you can write here will print String--);\r\n```\r\n\r\nHence, in your &#39;unrolled code with T&#39;, T is not something you can translate to an actual runtime type, and that means it is impossible to make an array of T.\r\n\r\nStill having a hard time believing this? Peruse the API of [`java.util.List`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html), specifically the various `toArray` methods it contains.\r\n\r\nLook at the no-args one: `toArray()`. There are two explanations here:\r\n\r\n* The designer of this class was an utter idiot, because that returns `Object[]`, which is stupid, because clearly that should return `T[]`.\r\n* Or, perhaps something else is going on and they &#39;know&#39; that it is in fact impossible to return a `T[]` there.\r\n\r\nIt&#39;s, as the rest of this post hopefully already suggested, the second reason.\r\n\r\nFortunately, there are 2 other `toArray` methods and those two _do_ both return `T[]` as you desire. They are both based around the notion that _the caller_ puts in the effort of providing that T type for you.\r\n\r\nThe first version is `toArray(T[] in)`. The toArray code will use the provided array if it is large enough, but if not, it just makes a new one that is the right size and returns it. In practice, you always call `listOfStrings.toArray(new String[0])` (you may think `new String[list.size()]` would be faster - no, that is slower&lt;sup&gt;1&lt;/sup&gt;. A nice example of why writing more complex code because it seems faster is a bad idea. JVMs are far too complex to predict performance like this).\r\n\r\nThe trick here is that the code in list&#39;s toArray will take that array, grab its class (tossing the created array aside), get the component type from that, and then use that to make a new array.\r\n\r\nThere is another one, too: `toArray(IntFunction&lt;T[]&gt; arrayCreator)` (you need to look at the [javadoc of `Collection`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)) to see it; it is inherited).\r\n\r\nHere we ask the caller to provide code that makes a new array. You use it like this: `listOfStrings.toArray(String[]::new)`.\r\n\r\nPick your poison, or add both. Either trick will work here:\r\n\r\n```\r\npublic T[][] getArrayOfBlocks(T[] dummy) {\r\n  Class&lt;?&gt; componentType = dummy.getClass().getComponentType();\r\n\r\n  @SuppressWarnings(&quot;unchecked&quot;)\r\n  T[][] arr = (T[][]) java.lang.reflect.Array.newInstance(componentType, this.nNodes, this.arraySize);\r\n\r\n .. code continues here ..\r\n}\r\n```\r\n\r\nor:\r\n\r\n```\r\npublic T[][] getArrayOfBlocks(BiFunction&lt;Integer, Integer, T[][]&gt; arrayMaker) {\r\n  T[][] arr = arrayMaker.apply(this.nNodes, this.arraySize);\r\n\r\n .. code continues here ..\r\n}\r\n\r\nYes, they are both annoying. There are other options but they have significant downsides - the above 2 options are your best bet. That or forget about arrays. Why do you even want a `T[][]` in the first place? Arrays can&#39;t grow or shrink, assuming it&#39;s not a primitive array (and this isn&#39;t, by definition; generics cannot be primitive) they are not more performant, and their toString/equals/hashCode implementations are surprising (that&#39;s programmer-ese for &#39;basically broken&#39;). Their API is non-existent. Why would you want to offer it?\r\n\r\n\r\n1) In case you desire explanations for this one: It&#39;s because the toArray code is hotspot intrinsiced and knows it doesn&#39;t need to wipe out the memory space, whereas with `new String[100]`, those 100 references all need to be nulled out first because java guarantees you can&#39;t &#39;see&#39; uninitialized memory.","title":"having trouble making a method that creates a 2d array out of a T type unrolled linked list","body":"<blockquote>\n<p>y out of a T type unrolled linked list.</p>\n</blockquote>\n<p>This is impossible.</p>\n<p>Generics are a figment of the compiler's imagination. Generics <strong>completely disappear</strong> once your java code has been turned into a class file, or if they don't (generics in signatures), the JVM treats it as a comment. It has absolutely no effect. Instead, the compiler uses it to generate errors or warnings and inject invisible casts. This:</p>\n<pre><code>List&lt;String&gt; x = new ArrayList&lt;String&gt;();\nx.add(&quot;Hello&quot;);\nString y = x.get(0);\n</code></pre>\n<p>ends up in class code as indistinguishable from compiling:</p>\n<pre><code>List x = new ArrayList();\nx.add(&quot;Hello&quot;);\nString y = (String) x.get(0);\n</code></pre>\n<p>Try it if you're having a hard time getting your head around this idea. Write both, compile it, run <code>javap -c -v</code> to see the bytecode. Identical.</p>\n<p>The reason <code>x.add(5)</code> would not work as replacement for <code>x.add(&quot;Hello&quot;)</code> is simply because <code>javac</code> won't let it happen. If you hack javac to allow it, you get a class file just fine and it verifies just fine. The <code>x.add(5)</code> will even execute just fine. You'd get a ClassCastException on the next line, simply because you're casting an instance of Integer to String.</p>\n<p>As a consequence, there is <strong>no way to tell</strong> the difference between a <code>new ArrayList&lt;String&gt;();</code> and a <code>new ArrayList&lt;Integer&gt;()</code> at runtime. Obviously; generics disappears; those are both just <code>new ArrayList()</code>, that's it.</p>\n<p>In contrast, arrays are 'reified': They aren't a figment of javac's imagination. You can actually get this stuff at runtime. There is a difference between <code>new String[0]</code> and <code>new Integer[0]</code>:</p>\n<pre><code>Object[] arr1 = new String[0];\nSystem.out.println(arr1.getClass().getComponentType()); // prints 'String'\n</code></pre>\n<p>It is <strong>impossible</strong> to write the identical code for generics:</p>\n<pre><code>List&lt;?&gt; list1 = new ArrayList&lt;String&gt;();\nSystem.out.println(--nothing you can write here will print String--);\n</code></pre>\n<p>Hence, in your 'unrolled code with T', T is not something you can translate to an actual runtime type, and that means it is impossible to make an array of T.</p>\n<p>Still having a hard time believing this? Peruse the API of <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/List.html\" rel=\"nofollow noreferrer\"><code>java.util.List</code></a>, specifically the various <code>toArray</code> methods it contains.</p>\n<p>Look at the no-args one: <code>toArray()</code>. There are two explanations here:</p>\n<ul>\n<li>The designer of this class was an utter idiot, because that returns <code>Object[]</code>, which is stupid, because clearly that should return <code>T[]</code>.</li>\n<li>Or, perhaps something else is going on and they 'know' that it is in fact impossible to return a <code>T[]</code> there.</li>\n</ul>\n<p>It's, as the rest of this post hopefully already suggested, the second reason.</p>\n<p>Fortunately, there are 2 other <code>toArray</code> methods and those two <em>do</em> both return <code>T[]</code> as you desire. They are both based around the notion that <em>the caller</em> puts in the effort of providing that T type for you.</p>\n<p>The first version is <code>toArray(T[] in)</code>. The toArray code will use the provided array if it is large enough, but if not, it just makes a new one that is the right size and returns it. In practice, you always call <code>listOfStrings.toArray(new String[0])</code> (you may think <code>new String[list.size()]</code> would be faster - no, that is slower<sup>1</sup>. A nice example of why writing more complex code because it seems faster is a bad idea. JVMs are far too complex to predict performance like this).</p>\n<p>The trick here is that the code in list's toArray will take that array, grab its class (tossing the created array aside), get the component type from that, and then use that to make a new array.</p>\n<p>There is another one, too: <code>toArray(IntFunction&lt;T[]&gt; arrayCreator)</code> (you need to look at the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Collection.html#toArray(java.util.function.IntFunction)\" rel=\"nofollow noreferrer\">javadoc of <code>Collection</code></a> to see it; it is inherited).</p>\n<p>Here we ask the caller to provide code that makes a new array. You use it like this: <code>listOfStrings.toArray(String[]::new)</code>.</p>\n<p>Pick your poison, or add both. Either trick will work here:</p>\n<pre><code>public T[][] getArrayOfBlocks(T[] dummy) {\n  Class&lt;?&gt; componentType = dummy.getClass().getComponentType();\n\n  @SuppressWarnings(&quot;unchecked&quot;)\n  T[][] arr = (T[][]) java.lang.reflect.Array.newInstance(componentType, this.nNodes, this.arraySize);\n\n .. code continues here ..\n}\n</code></pre>\n<p>or:</p>\n<pre><code>public T[][] getArrayOfBlocks(BiFunction&lt;Integer, Integer, T[][]&gt; arrayMaker) {\n  T[][] arr = arrayMaker.apply(this.nNodes, this.arraySize);\n\n .. code continues here ..\n}\n\nYes, they are both annoying. There are other options but they have significant downsides - the above 2 options are your best bet. That or forget about arrays. Why do you even want a `T[][]` in the first place? Arrays can't grow or shrink, assuming it's not a primitive array (and this isn't, by definition; generics cannot be primitive) they are not more performant, and their toString/equals/hashCode implementations are surprising (that's programmer-ese for 'basically broken'). Their API is non-existent. Why would you want to offer it?\n\n\n1) In case you desire explanations for this one: It's because the toArray code is hotspot intrinsiced and knows it doesn't need to wipe out the memory space, whereas with `new String[100]`, those 100 references all need to be nulled out first because java guarantees you can't 'see' uninitialized memory.\n</code></pre>\n"}],"owner":{"account_id":20624059,"reputation":3,"user_id":15140369,"display_name":"pizzatorta"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69819178,"answer_count":1,"score":0,"last_activity_date":1635908347,"creation_date":1635902924,"question_id":69818692,"body_markdown":"    public T[][] getArrayOfBlocks() {\r\n        Node node = this.first;\r\n        @SuppressWarnings(&quot;unchecked&quot;)\r\n        T[][] result = (T[][]) new Object[this.nNodes][this.arraySize];\r\n        for(int i = 0; i &lt; this.nNodes; i++)\r\n        {\r\n            for(int j = 0; j &lt; this.arraySize; j++)\r\n                if(node.a[j] != null)\r\n                    result[i][j] = node.a[j];\r\n            node = node.next;\r\n        }\r\n        return result;\r\n    }\r\n(Im a newbie in java so my wording will be a bit weird)\r\nIm trying to make a method that creates a 2d array out of a T type unrolled linked list. When i test out the method above using the Integer class instead of the T type i get an error that says \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.ClassCastException: class [[Ljava.lang.Object; cannot be cast to class [[Ljava.lang.Integer; ([[Ljava.lang.Object; and [[Ljava.lang.Integer; are in module java.basa of loader &#39;bootstrap&#39;)\r\n\r\nSo yeah i would like to know if theres any way to solve this error without changing the return type.\r\nThanks in advance :)","title":"having trouble making a method that creates a 2d array out of a T type unrolled linked list","body":"<pre><code>public T[][] getArrayOfBlocks() {\n    Node node = this.first;\n    @SuppressWarnings(&quot;unchecked&quot;)\n    T[][] result = (T[][]) new Object[this.nNodes][this.arraySize];\n    for(int i = 0; i &lt; this.nNodes; i++)\n    {\n        for(int j = 0; j &lt; this.arraySize; j++)\n            if(node.a[j] != null)\n                result[i][j] = node.a[j];\n        node = node.next;\n    }\n    return result;\n}\n</code></pre>\n<p>(Im a newbie in java so my wording will be a bit weird)\nIm trying to make a method that creates a 2d array out of a T type unrolled linked list. When i test out the method above using the Integer class instead of the T type i get an error that says</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.ClassCastException: class [[Ljava.lang.Object; cannot be cast to class [[Ljava.lang.Integer; ([[Ljava.lang.Object; and [[Ljava.lang.Integer; are in module java.basa of loader 'bootstrap')</p>\n</blockquote>\n<p>So yeah i would like to know if theres any way to solve this error without changing the return type.\nThanks in advance :)</p>\n"},{"tags":["java","apache-beam"],"comments":[{"owner":{"account_id":15711785,"reputation":1371,"user_id":11337033,"display_name":"Daniel Oliveira"},"score":0,"creation_date":1635473645,"post_id":69759131,"comment_id":123314089,"body_markdown":"Have you looked into using a [CombinePerKey](https://beam.apache.org/documentation/programming-guide/#combine)? That seems like it would do what you need.","body":"Have you looked into using a <a href=\"https://beam.apache.org/documentation/programming-guide/#combine\" rel=\"nofollow noreferrer\">CombinePerKey</a>? That seems like it would do what you need."},{"owner":{"account_id":9492479,"reputation":45,"user_id":7056748,"display_name":"Ron Santis"},"score":0,"creation_date":1635474380,"post_id":69759131,"comment_id":123314201,"body_markdown":"@DanielOliveira, No, I have not used it. But on checking the links I could observer that the examples shows to obtain sum/max or min value for a collection but not how to modify it element value.","body":"@DanielOliveira, No, I have not used it. But on checking the links I could observer that the examples shows to obtain sum/max or min value for a collection but not how to modify it element value."},{"owner":{"account_id":9492479,"reputation":45,"user_id":7056748,"display_name":"Ron Santis"},"score":0,"creation_date":1635478575,"post_id":69759131,"comment_id":123314870,"body_markdown":"@DanielOliveira Kindly share me a link with similar functionality. The examples which I looked into was only on Aggregation.","body":"@DanielOliveira Kindly share me a link with similar functionality. The examples which I looked into was only on Aggregation."},{"owner":{"account_id":15711785,"reputation":1371,"user_id":11337033,"display_name":"Daniel Oliveira"},"score":1,"creation_date":1635817600,"post_id":69759131,"comment_id":123388983,"body_markdown":"I was considering a CombinePerKey that would aggregate each element into a sorted iterable and apply the forward fill. Alternatively, a GroupByKey followed by a custom ParDo which sorts each iterable and applies a forward fill would accomplish the same result. Either way, aggregation is required. Would this work?","body":"I was considering a CombinePerKey that would aggregate each element into a sorted iterable and apply the forward fill. Alternatively, a GroupByKey followed by a custom ParDo which sorts each iterable and applies a forward fill would accomplish the same result. Either way, aggregation is required. Would this work?"},{"owner":{"account_id":9492479,"reputation":45,"user_id":7056748,"display_name":"Ron Santis"},"score":0,"creation_date":1635906604,"post_id":69759131,"comment_id":123415470,"body_markdown":"@DanielOliveira, Thanks for your suggestion, Based on on which I have found a blogpost which suggest similar approach as yours. I am made an effort to implement the same using GroupByKey. But I am stuck in implementing ParDo. I have updated my question, Kindly have a look at it. The blogpost which I was referring is https://beam.apache.org/blog/stateful-processing","body":"@DanielOliveira, Thanks for your suggestion, Based on on which I have found a blogpost which suggest similar approach as yours. I am made an effort to implement the same using GroupByKey. But I am stuck in implementing ParDo. I have updated my question, Kindly have a look at it. The blogpost which I was referring is <a href=\"https://beam.apache.org/blog/stateful-processing\" rel=\"nofollow noreferrer\">beam.apache.org/blog/stateful-processing</a>"},{"owner":{"account_id":15711785,"reputation":1371,"user_id":11337033,"display_name":"Daniel Oliveira"},"score":1,"creation_date":1636162529,"post_id":69759131,"comment_id":123490949,"body_markdown":"Sorry it took me so long to get back to this. It looks like a similar question has been answered in that time, [maybe this answer will help](https://stackoverflow.com/questions/69803118/apache-beam-update-current-row-values-based-on-the-values-from-previous-row). In particular, the approach taken here is much simpler than using stateful processing for this problem. (Stateful processing would be very useful if this were a streaming pipeline, but since you use a csv I assume it&#39;s a batch pipeline.)","body":"Sorry it took me so long to get back to this. It looks like a similar question has been answered in that time, <a href=\"https://stackoverflow.com/questions/69803118/apache-beam-update-current-row-values-based-on-the-values-from-previous-row\">maybe this answer will help</a>. In particular, the approach taken here is much simpler than using stateful processing for this problem. (Stateful processing would be very useful if this were a streaming pipeline, but since you use a csv I assume it&#39;s a batch pipeline.)"}],"owner":{"account_id":9492479,"reputation":45,"user_id":7056748,"display_name":"Ron Santis"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":150,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635906632,"creation_date":1635445323,"question_id":69759131,"body_markdown":"|      ID      |     date    |      balance      |\r\n|---------------------|------------------|------------------|\r\n|          01   | 31/01/2021       |         100      |\r\n|          01   | 28/02/2021       |         200      |\r\n|          01   | 31/05/2021       |         500      |\r\n|          01   | 30/06/2021       |         600      |\r\n\r\n\r\nExpected Output (Since March/April/May months are missing), The balance for missing months are previous months balance\r\n\r\n|      ID      |     date    |      balance      |\r\n|---------------------|------------------|------------------|\r\n|          01   | 31/01/2021       |         100      |\r\n|          01   | 28/02/2021       |         200      |\r\n|          01   | 31/03/2021       |         200      |\r\n|          01   | 30/04/2021       |         200      |\r\n|          01   | 31/05/2021       |         500      |\r\n|          01   | 30/06/2021       |         600      |\r\n\r\n\r\nJava Code:\r\n\r\nI read this file into a \r\n\r\n    PCollection&lt; Row &gt;   row = /*Logic to read csv */\r\n\r\n**Updated Code**\r\n\r\nCSV File:\r\n\r\n|      ID      |     date    |      balance      |\r\n|---------------------|------------------|------------------|\r\n|          01   | 31/01/2021       |         100      |\r\n|          01   | 28/02/2021       |         200      |\r\n|          01   | 31/05/2021       |         500      |\r\n|          01   | 30/06/2021       |         600      |\r\n\r\nSchema File\r\n\r\n\t{\r\n\t  &quot;type&quot; : &quot;record&quot;,\r\n\t  &quot;name&quot; : &quot;Entry&quot;,\r\n\t  &quot;namespace&quot; : &quot;transform&quot;,\r\n\t  &quot;fields&quot; : [  {\r\n\t\t&quot;name&quot; : &quot;ID&quot;,\r\n\t\t&quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\r\n\t  }, {\r\n\t\t&quot;name&quot; : &quot;date&quot;,\r\n\t\t&quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\r\n\t  }, {\r\n\t\t&quot;name&quot; : &quot;balance&quot;,\r\n\t\t&quot;type&quot; : [ &quot;double&quot;, &quot;null&quot; ]\r\n\t  } ]\r\n\t}\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) throws IOException {\r\n\t\t\t\r\n\t\t\tfinal File schemaFile = new File(&quot;src/main/resources/schema_ie.avsc&quot;);\r\n\r\n\t\t\tFile csvFile = new File(&quot;src/main/resources/CustomerRequestIE.csv&quot;);\r\n\r\n\t\t\tSchema schema = new Schema.Parser().parse(schemaFile);\r\n\r\n\t\t\tPipeline pipeline = Pipeline.create();\r\n\r\n\t\t\t// Reading schema\r\n\t\t\torg.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\r\n\r\n\t\t\tfinal PCollectionTuple tuples = pipeline\r\n\r\n\t\t\t\t\t// Reading csv input\r\n\t\t\t\t\t.apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\r\n\r\n\t\t\t\t\t// Reading files that matches conditions //PRashanth needs to be looked at\r\n\t\t\t\t\t.apply(&quot;2&quot;, FileIO.readMatches())\r\n\r\n\t\t\t\t\t// Reading schema and validating with schema and converts to row and returns\r\n\t\t\t\t\t// valid and invalid list\r\n\t\t\t\t\t.apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\r\n\t\t\t\t\t\t\tTupleTagList.of(invalidTag())));\r\n\r\n\t\t\t// Fetching only valid rows\r\n\r\n\t\t\tfinal PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\r\n\r\n\r\n\t\t\tToKV toKV = new ToKV();\r\n\t\t\ttoKV.setColumnName1(&quot;ID&quot;);\r\n\t\t\ttoKV.setColumnName2(&quot;date&quot;);\r\n\t\t\tPCollection&lt;KV&lt;String, Row&gt;&gt; kvRows = rows.apply(ParDo.of(toKV)).setCoder(KvCoder.of(StringUtf8Coder.of(), rows.getCoder()));\r\n\t\t\tPCollection&lt;KV&lt;String,Iterable&lt;Row&gt;&gt;&gt; groupedKVRows = kvRows.apply(GroupByKey.&lt;String,Row&gt;create());\r\n\t\t\t\r\n\t//\t\tgroupedKVRows.apply(ParDo.of(new ForwardFillFn()));\r\n\t\t\t\r\n\t\t\t\r\n\r\n\t\t\tpipeline.run();\r\n\t\t\tpipeline.run().waitUntilFinish();\r\n\t\t\tSystem.out.println(&quot;The end&quot;);\r\n\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\r\n\t}\r\n\r\n\r\n\tclass ToKV extends DoFn&lt;Row, KV&lt;String, Row&gt;&gt; {\r\n\r\n\t\tprivate static final long serialVersionUID = -8093837716944809689L;\r\n\t\tString columnName1 = null;\r\n\t\tString columnName2 = null;\r\n\r\n\t\t@ProcessElement\r\n\t\tpublic void processElement(ProcessContext context) {\r\n\t\t\tRow row = context.element();\r\n\t\t\torg.apache.beam.sdk.schemas.Schema schema = row.getSchema();\r\n\t\t\tcontext.output(KV.of(row.getValue(columnName1).toString() + row.getValue(columnName2).toString(), row));\r\n\t\t}\r\n\r\n\t\tpublic void setColumnName1(String columnName1) {\r\n\t\t\tthis.columnName1 = columnName1;\r\n\t\t}\r\n\r\n\t\tpublic void setColumnName2(String columnName2) {\r\n\t\t\tthis.columnName2 = columnName2;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tclass ForwardFillFn extends DoFn&lt;KV&lt;String,Iterable&lt;Row&gt;&gt;, KV&lt;String,Iterable&lt;Row&gt;&gt;&gt;{\r\n\t\t@StateId(&quot;model&quot;)\r\n\t\t  private final StateSpec&lt;ValueState&lt;Model&gt;&gt; modelSpec =\r\n\t\t\t  StateSpecs.value(Model.coder());\r\n\r\n\t\t  @StateId(&quot;previousPrediction&quot;)\r\n\t\t  private final StateSpec&lt;ValueState&lt;Prediction&gt;&gt; previousPredictionSpec =\r\n\t\t\t  StateSpecs.value(Prediction.coder());\r\n\t\t  \r\n\t\t  @ProcessElement\r\n\t\t  public void processElement(\r\n\t\t\t  ProcessContext context,\r\n\t\t\t  @StateId(&quot;index&quot;) ValueState&lt;Integer&gt; index) {\r\n\t\t  }\r\n\t}\r\n\r\n\r\nI have written this based on the examples from https://beam.apache.org/blog/stateful-processing/\r\n. I am stuck at writing the implementation for ForwardFillFn class. I am unable to resolve the Model and Prediction class. \r\n\r\nAlso I am lost in the implementation part we for processElement \r\n","title":"Java: How to implement forward fill in ApacheBeam","body":"<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>date</th>\n<th>balance</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>01</td>\n<td>31/01/2021</td>\n<td>100</td>\n</tr>\n<tr>\n<td>01</td>\n<td>28/02/2021</td>\n<td>200</td>\n</tr>\n<tr>\n<td>01</td>\n<td>31/05/2021</td>\n<td>500</td>\n</tr>\n<tr>\n<td>01</td>\n<td>30/06/2021</td>\n<td>600</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Expected Output (Since March/April/May months are missing), The balance for missing months are previous months balance</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>date</th>\n<th>balance</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>01</td>\n<td>31/01/2021</td>\n<td>100</td>\n</tr>\n<tr>\n<td>01</td>\n<td>28/02/2021</td>\n<td>200</td>\n</tr>\n<tr>\n<td>01</td>\n<td>31/03/2021</td>\n<td>200</td>\n</tr>\n<tr>\n<td>01</td>\n<td>30/04/2021</td>\n<td>200</td>\n</tr>\n<tr>\n<td>01</td>\n<td>31/05/2021</td>\n<td>500</td>\n</tr>\n<tr>\n<td>01</td>\n<td>30/06/2021</td>\n<td>600</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Java Code:</p>\n<p>I read this file into a</p>\n<pre><code>PCollection&lt; Row &gt;   row = /*Logic to read csv */\n</code></pre>\n<p><strong>Updated Code</strong></p>\n<p>CSV File:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>date</th>\n<th>balance</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>01</td>\n<td>31/01/2021</td>\n<td>100</td>\n</tr>\n<tr>\n<td>01</td>\n<td>28/02/2021</td>\n<td>200</td>\n</tr>\n<tr>\n<td>01</td>\n<td>31/05/2021</td>\n<td>500</td>\n</tr>\n<tr>\n<td>01</td>\n<td>30/06/2021</td>\n<td>600</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>Schema File</p>\n<pre><code>{\n  &quot;type&quot; : &quot;record&quot;,\n  &quot;name&quot; : &quot;Entry&quot;,\n  &quot;namespace&quot; : &quot;transform&quot;,\n  &quot;fields&quot; : [  {\n    &quot;name&quot; : &quot;ID&quot;,\n    &quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\n  }, {\n    &quot;name&quot; : &quot;date&quot;,\n    &quot;type&quot; : [ &quot;string&quot;, &quot;null&quot; ]\n  }, {\n    &quot;name&quot; : &quot;balance&quot;,\n    &quot;type&quot; : [ &quot;double&quot;, &quot;null&quot; ]\n  } ]\n}\n\n\n\npublic static void main(String[] args) throws IOException {\n        \n        final File schemaFile = new File(&quot;src/main/resources/schema_ie.avsc&quot;);\n\n        File csvFile = new File(&quot;src/main/resources/CustomerRequestIE.csv&quot;);\n\n        Schema schema = new Schema.Parser().parse(schemaFile);\n\n        Pipeline pipeline = Pipeline.create();\n\n        // Reading schema\n        org.apache.beam.sdk.schemas.Schema beamSchema = AvroUtils.toBeamSchema(schema);\n\n        final PCollectionTuple tuples = pipeline\n\n                // Reading csv input\n                .apply(&quot;1&quot;, FileIO.match().filepattern(csvFile.getAbsolutePath()))\n\n                // Reading files that matches conditions //PRashanth needs to be looked at\n                .apply(&quot;2&quot;, FileIO.readMatches())\n\n                // Reading schema and validating with schema and converts to row and returns\n                // valid and invalid list\n                .apply(&quot;3&quot;, ParDo.of(new FileReader(beamSchema)).withOutputTags(FileReader.validTag(),\n                        TupleTagList.of(invalidTag())));\n\n        // Fetching only valid rows\n\n        final PCollection&lt;Row&gt; rows = tuples.get(FileReader.validTag()).setCoder(RowCoder.of(beamSchema));\n\n\n        ToKV toKV = new ToKV();\n        toKV.setColumnName1(&quot;ID&quot;);\n        toKV.setColumnName2(&quot;date&quot;);\n        PCollection&lt;KV&lt;String, Row&gt;&gt; kvRows = rows.apply(ParDo.of(toKV)).setCoder(KvCoder.of(StringUtf8Coder.of(), rows.getCoder()));\n        PCollection&lt;KV&lt;String,Iterable&lt;Row&gt;&gt;&gt; groupedKVRows = kvRows.apply(GroupByKey.&lt;String,Row&gt;create());\n        \n//      groupedKVRows.apply(ParDo.of(new ForwardFillFn()));\n        \n        \n\n        pipeline.run();\n        pipeline.run().waitUntilFinish();\n        System.out.println(&quot;The end&quot;);\n\n    }\n\n    \n\n\n}\n\n\nclass ToKV extends DoFn&lt;Row, KV&lt;String, Row&gt;&gt; {\n\n    private static final long serialVersionUID = -8093837716944809689L;\n    String columnName1 = null;\n    String columnName2 = null;\n\n    @ProcessElement\n    public void processElement(ProcessContext context) {\n        Row row = context.element();\n        org.apache.beam.sdk.schemas.Schema schema = row.getSchema();\n        context.output(KV.of(row.getValue(columnName1).toString() + row.getValue(columnName2).toString(), row));\n    }\n\n    public void setColumnName1(String columnName1) {\n        this.columnName1 = columnName1;\n    }\n\n    public void setColumnName2(String columnName2) {\n        this.columnName2 = columnName2;\n    }\n\n}\n\nclass ForwardFillFn extends DoFn&lt;KV&lt;String,Iterable&lt;Row&gt;&gt;, KV&lt;String,Iterable&lt;Row&gt;&gt;&gt;{\n    @StateId(&quot;model&quot;)\n      private final StateSpec&lt;ValueState&lt;Model&gt;&gt; modelSpec =\n          StateSpecs.value(Model.coder());\n\n      @StateId(&quot;previousPrediction&quot;)\n      private final StateSpec&lt;ValueState&lt;Prediction&gt;&gt; previousPredictionSpec =\n          StateSpecs.value(Prediction.coder());\n      \n      @ProcessElement\n      public void processElement(\n          ProcessContext context,\n          @StateId(&quot;index&quot;) ValueState&lt;Integer&gt; index) {\n      }\n}\n</code></pre>\n<p>I have written this based on the examples from <a href=\"https://beam.apache.org/blog/stateful-processing/\" rel=\"nofollow noreferrer\">https://beam.apache.org/blog/stateful-processing/</a>\n. I am stuck at writing the implementation for ForwardFillFn class. I am unable to resolve the Model and Prediction class.</p>\n<p>Also I am lost in the implementation part we for processElement</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"score":0,"creation_date":1635905041,"post_id":69818724,"comment_id":123415197,"body_markdown":"do you mean to be reversed string?","body":"do you mean to be reversed string?"},{"owner":{"account_id":18262656,"reputation":85,"user_id":13295116,"display_name":"dftag"},"score":0,"creation_date":1635905302,"post_id":69818724,"comment_id":123415241,"body_markdown":"Yeah, ideally I would use string methods, but the powers that be that are grading my assignment say I can&#39;t use string methods. I have to use a char array to reverse every char before the &quot;,&quot; to the end.","body":"Yeah, ideally I would use string methods, but the powers that be that are grading my assignment say I can&#39;t use string methods. I have to use a char array to reverse every char before the &quot;,&quot; to the end."}],"answers":[{"tags":[],"owner":{"account_id":13571377,"reputation":1049,"user_id":9790036,"display_name":"Tyler Liu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1635905415,"creation_date":1635905415,"answer_id":69818900,"question_id":69818724,"body_markdown":"This code will produce &quot;World!,Hello&quot;, take a look and see if it meets your needs.\r\n```\r\npublic static void main(String args[]) {\r\n        String s = &quot;Hello, World!&quot;;\r\n       \r\n       char[] oldCharArray = s.toCharArray();\r\n       char[] newCharArray = new char[oldCharArray.length];\r\n       char delimiter = &#39;,&#39;;\r\n       int indexDelimiter = new String(oldCharArray).indexOf(delimiter);\r\n       int i = 0;\r\n       for (i = 0; i &lt; oldCharArray.length-indexDelimiter-1; i++) {\r\n           newCharArray[i] = oldCharArray[indexDelimiter + i + 1];\r\n       }\r\n       newCharArray[i] = delimiter;\r\n       i++;\r\n       int j = i;\r\n       while (i &lt; oldCharArray.length) {\r\n           newCharArray[i] = oldCharArray[i - j];\r\n           i++;\r\n       }  \r\n       System.out.println(newCharArray);\r\n    }\r\n```","title":"How can I move multiple character arrays to the back of an array based upon a specific index?","body":"<p>This code will produce &quot;World!,Hello&quot;, take a look and see if it meets your needs.</p>\n<pre><code>public static void main(String args[]) {\n        String s = &quot;Hello, World!&quot;;\n       \n       char[] oldCharArray = s.toCharArray();\n       char[] newCharArray = new char[oldCharArray.length];\n       char delimiter = ',';\n       int indexDelimiter = new String(oldCharArray).indexOf(delimiter);\n       int i = 0;\n       for (i = 0; i &lt; oldCharArray.length-indexDelimiter-1; i++) {\n           newCharArray[i] = oldCharArray[indexDelimiter + i + 1];\n       }\n       newCharArray[i] = delimiter;\n       i++;\n       int j = i;\n       while (i &lt; oldCharArray.length) {\n           newCharArray[i] = oldCharArray[i - j];\n           i++;\n       }  \n       System.out.println(newCharArray);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14937373,"reputation":328,"user_id":10901306,"display_name":"Zukaru"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635906428,"creation_date":1635905790,"answer_id":69818935,"question_id":69818724,"body_markdown":"If you mean backward, you can reverse the by splitting it first\r\n\r\n\r\n```\r\npublic char[] reverse_comma_split(String str) {\r\n      String[] spl = str.split(&quot;,&quot;);\r\n      String reversed = new String();\r\n      for (int i = spl.length - 1; i &gt;= 0; i--) {\r\n          reversed += spl[i];\r\n          if (i != 0)\r\n            reversed += &quot;, &quot;;\r\n      }\r\n      return reversed.toCharArray();\r\n}\r\n```\r\n\r\nCalling `reverse_comma_split(&quot;Hello, world!&quot;)` would return a char array of `&quot; world!, Hello&quot;`\r\n\r\nHowever, if you insist to get uppercase char in every split, you can modify the loop in which `spl[i]` to `spl[i].substring(0, 1).toUpperCase() + spl[i].substring(1)`","title":"How can I move multiple character arrays to the back of an array based upon a specific index?","body":"<p>If you mean backward, you can reverse the by splitting it first</p>\n<pre><code>public char[] reverse_comma_split(String str) {\n      String[] spl = str.split(&quot;,&quot;);\n      String reversed = new String();\n      for (int i = spl.length - 1; i &gt;= 0; i--) {\n          reversed += spl[i];\n          if (i != 0)\n            reversed += &quot;, &quot;;\n      }\n      return reversed.toCharArray();\n}\n</code></pre>\n<p>Calling <code>reverse_comma_split(&quot;Hello, world!&quot;)</code> would return a char array of <code>&quot; world!, Hello&quot;</code></p>\n<p>However, if you insist to get uppercase char in every split, you can modify the loop in which <code>spl[i]</code> to <code>spl[i].substring(0, 1).toUpperCase() + spl[i].substring(1)</code></p>\n"}],"owner":{"account_id":18262656,"reputation":85,"user_id":13295116,"display_name":"dftag"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69818900,"answer_count":2,"score":0,"last_activity_date":1635906428,"creation_date":1635903280,"question_id":69818724,"body_markdown":"I have a string &quot;Hello, World!&quot; that I have to convert into a char array. I then found the index of the char &#39;,&#39; - to which I want to create a new char array that contains &quot; World!, Hello&quot;.\r\n\r\nI&#39;ve got the first index of the char array moved to the back - such that it prints out &quot;ello, World!H&quot;.\r\n\r\nHow can I use my variable indexDelimiter to move the rest of the char arrays (as well as the &#39;,&#39;) to the back? I&#39;ve been looking at this problem forever, and I&#39;m very confused as to how I could go about this. \r\n\r\nI can&#39;t use ListArray. I has to be an Array. \r\n\r\n``` \r\npublic class ArrayTest {\r\n\r\n   public static void main(String[] args) {\r\n\r\n\t   String s = &quot;Hello, World!&quot;;\r\n\t   \r\n\t   char[] oldCharArray = s.toCharArray();\r\n\t   char[] newCharArray = new char[oldCharArray.length];\r\n\t   char delimiter = &#39;,&#39;;\r\n\t   int indexDelimiter = new String(oldCharArray).indexOf(delimiter);\r\n\t   \r\n\t   for (int i = 0; i &lt; oldCharArray.length - 1; i++) {\r\n\t\t   newCharArray[i] = oldCharArray[i + 1];\r\n\t   }  \r\n\t   \r\n\t   newCharArray[oldCharArray.length - 1] = oldCharArray[0];\r\n\t   \r\n\t   for (int i = 0; i &lt; newCharArray.length; i++) {\r\n\t      System.out.print(newCharArray[i]);\r\n\t   } \r\n// This prints out &quot;ello, World!H&quot; but I want &quot; World!, Hello&quot;\r\n  }\r\n}\r\n ``` ","title":"How can I move multiple character arrays to the back of an array based upon a specific index?","body":"<p>I have a string &quot;Hello, World!&quot; that I have to convert into a char array. I then found the index of the char ',' - to which I want to create a new char array that contains &quot; World!, Hello&quot;.</p>\n<p>I've got the first index of the char array moved to the back - such that it prints out &quot;ello, World!H&quot;.</p>\n<p>How can I use my variable indexDelimiter to move the rest of the char arrays (as well as the ',') to the back? I've been looking at this problem forever, and I'm very confused as to how I could go about this.</p>\n<p>I can't use ListArray. I has to be an Array.</p>\n<pre><code>public class ArrayTest {\n\n   public static void main(String[] args) {\n\n       String s = &quot;Hello, World!&quot;;\n       \n       char[] oldCharArray = s.toCharArray();\n       char[] newCharArray = new char[oldCharArray.length];\n       char delimiter = ',';\n       int indexDelimiter = new String(oldCharArray).indexOf(delimiter);\n       \n       for (int i = 0; i &lt; oldCharArray.length - 1; i++) {\n           newCharArray[i] = oldCharArray[i + 1];\n       }  \n       \n       newCharArray[oldCharArray.length - 1] = oldCharArray[0];\n       \n       for (int i = 0; i &lt; newCharArray.length; i++) {\n          System.out.print(newCharArray[i]);\n       } \n// This prints out &quot;ello, World!H&quot; but I want &quot; World!, Hello&quot;\n  }\n}\n</code></pre>\n"},{"tags":["java","android","mysql","android-room"],"answers":[{"tags":[],"owner":{"account_id":6077735,"reputation":52951,"user_id":4744514,"accept_rate":96,"display_name":"MikeT"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635884749,"creation_date":1635881746,"answer_id":69816055,"question_id":69814144,"body_markdown":"In the DataDao interface (or abstract class) that is annotated with @Dao you could have.\r\n\r\n    @Insert\r\n    long insert(Data data);\r\n\r\nYou can then insert individual rows e.g. \r\n\r\n        db = AppDatabase.getAppDatabase(this);\r\n        dao = db.getDataDao();\r\n        dao.insert(new Data(1317,0004));\r\n        dao.insert(new Data(1318,0004));\r\n        dao.insert(new Data(1319,0004));\r\n\r\nThe result being (when first run):-\r\n\r\n[![enter image description here][1]][1]\r\n\r\n- Database viewed using Android Studio&#39;s [App Inspection][2]\r\n\r\n**However**\r\n\r\nusing `int` for the dowry doesn&#39;t cater for decimal numbers and hence the use of 0004 (which equates to 4).\r\n\r\nAs such you may wish to change `private int dowry;` to `private double dowry;` *along with changing the code for the respective getters and setters*.\r\n\r\n**Multiple/Mass Inserts**\r\n\r\nIf you added (to DataDao) :-\r\n\r\n    @Insert\r\n    long[] insert(Data ... data);\r\n\r\nThen you could do mass/multiple inserts such as :-\r\n\r\n    dao.insert(new Data(1317,0004), new Data(1318,0004),new Data(1319,0004));\r\n\r\nThe long or long[] is the **id** of the inserted row or rows (or -1 if the row was not inserted).\r\n\r\nThe following is an example of what could be done with mass inserts, *including interrogating the results*:-\r\n\r\n        Data[] anotherArrayOfDatas = new Data[100];\r\n        for (int i=0; i &lt; 100; i++) {\r\n            anotherArrayOfDatas[i] = new Data(1300 + i,0.004 + i);\r\n        }\r\n        long[] insertedIdList = dao.insert(anotherArrayOfDatas);\r\n        long insertedOk =0;\r\n        long notinserted = 0;\r\n        for (int i = 0; i &lt; insertedIdList.length; i++) {\r\n            if (insertedIdList[i] &lt; 0) {\r\n                notinserted++;\r\n            } else {\r\n                insertedOk++;\r\n            }\r\n        }\r\n        Log.d(&quot;INSERTED&quot;,&quot;Number of inserts was &quot; + insertedOk + &quot;. Number not inserted was &quot; + notinserted);\r\n\r\nAfter running the above, the Log includes :-\r\n\r\n    D/INSERTED: Number of inserts was 100. Number not inserted was 0\r\n\r\nWith data in the database looking like :-\r\n\r\n[![enter image description here][3]][3]\r\n\r\nAs for handling the string *{1317 | 0.004, 1318 | 0.004, 1319 | 0.004, 1320 | 0.008, ... 1400 | 0.255 }* for input.\r\n\r\nThen (assuming that **...** is *and so on*) and thus removed then you need to:-\r\n\r\n1. strip off the leading and trailing curly brackets.\r\n2. split the remaining string into an array at each `,`\r\n3. for each array split at the | removing the spaces and then\r\n4. create a Data object from the 2 parts\r\n5. the result should be an Array of Data&#39;s that can then be inserted.\r\n\r\nAs an example :-\r\n\r\nFirst yes another dao has been added to mass insert using an ArrayList&lt;Data&gt; as per :-\r\n\r\n    @Insert\r\n    long[] insert(ArrayList&lt;Data&gt; dataArrayList);\r\n\r\nThe the following code was added :-\r\n\r\n        String datain = &quot;{1317 | 0.004, 1318 | 0.004, 1319 | 0.004, 1320 | 0.008,1400 | 0.255 }&quot;;\r\n        ArrayList&lt;Data&gt; newDatas = new ArrayList&lt;&gt;();\r\n        String x = datain.substring(1,datain.length() - 1);\r\n        String[] split1 = x.split(&quot;,&quot;);\r\n        for (String s: split1) {\r\n            s = s.replace(&quot; | &quot;,&quot;~&quot;);\r\n            String[] parts = s.split(&quot;~&quot;);\r\n            if (parts.length == 2) {\r\n                try {\r\n                    newDatas.add(new Data(Integer.parseInt(parts[0].trim()), Double.parseDouble(parts[1].trim())));\r\n                }\r\n                catch (Exception e) {\r\n                }\r\n            }\r\n        }\r\n        dao.insert(newDatas);\r\n\r\nWith the database now including :-\r\n\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0LIAt.png\r\n  [2]: https://developer.android.com/studio/inspect/database\r\n  [3]: https://i.stack.imgur.com/4bwkM.png\r\n  [4]: https://i.stack.imgur.com/k5hTo.png","title":"How to make a Table with room library in android studio using Java?","body":"<p>In the DataDao interface (or abstract class) that is annotated with @Dao you could have.</p>\n<pre><code>@Insert\nlong insert(Data data);\n</code></pre>\n<p>You can then insert individual rows e.g.</p>\n<pre><code>    db = AppDatabase.getAppDatabase(this);\n    dao = db.getDataDao();\n    dao.insert(new Data(1317,0004));\n    dao.insert(new Data(1318,0004));\n    dao.insert(new Data(1319,0004));\n</code></pre>\n<p>The result being (when first run):-</p>\n<p><a href=\"https://i.stack.imgur.com/0LIAt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0LIAt.png\" alt=\"enter image description here\" /></a></p>\n<ul>\n<li>Database viewed using Android Studio's <a href=\"https://developer.android.com/studio/inspect/database\" rel=\"nofollow noreferrer\">App Inspection</a></li>\n</ul>\n<p><strong>However</strong></p>\n<p>using <code>int</code> for the dowry doesn't cater for decimal numbers and hence the use of 0004 (which equates to 4).</p>\n<p>As such you may wish to change <code>private int dowry;</code> to <code>private double dowry;</code> <em>along with changing the code for the respective getters and setters</em>.</p>\n<p><strong>Multiple/Mass Inserts</strong></p>\n<p>If you added (to DataDao) :-</p>\n<pre><code>@Insert\nlong[] insert(Data ... data);\n</code></pre>\n<p>Then you could do mass/multiple inserts such as :-</p>\n<pre><code>dao.insert(new Data(1317,0004), new Data(1318,0004),new Data(1319,0004));\n</code></pre>\n<p>The long or long[] is the <strong>id</strong> of the inserted row or rows (or -1 if the row was not inserted).</p>\n<p>The following is an example of what could be done with mass inserts, <em>including interrogating the results</em>:-</p>\n<pre><code>    Data[] anotherArrayOfDatas = new Data[100];\n    for (int i=0; i &lt; 100; i++) {\n        anotherArrayOfDatas[i] = new Data(1300 + i,0.004 + i);\n    }\n    long[] insertedIdList = dao.insert(anotherArrayOfDatas);\n    long insertedOk =0;\n    long notinserted = 0;\n    for (int i = 0; i &lt; insertedIdList.length; i++) {\n        if (insertedIdList[i] &lt; 0) {\n            notinserted++;\n        } else {\n            insertedOk++;\n        }\n    }\n    Log.d(&quot;INSERTED&quot;,&quot;Number of inserts was &quot; + insertedOk + &quot;. Number not inserted was &quot; + notinserted);\n</code></pre>\n<p>After running the above, the Log includes :-</p>\n<pre><code>D/INSERTED: Number of inserts was 100. Number not inserted was 0\n</code></pre>\n<p>With data in the database looking like :-</p>\n<p><a href=\"https://i.stack.imgur.com/4bwkM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4bwkM.png\" alt=\"enter image description here\" /></a></p>\n<p>As for handling the string <em>{1317 | 0.004, 1318 | 0.004, 1319 | 0.004, 1320 | 0.008, ... 1400 | 0.255 }</em> for input.</p>\n<p>Then (assuming that <strong>...</strong> is <em>and so on</em>) and thus removed then you need to:-</p>\n<ol>\n<li>strip off the leading and trailing curly brackets.</li>\n<li>split the remaining string into an array at each <code>,</code></li>\n<li>for each array split at the | removing the spaces and then</li>\n<li>create a Data object from the 2 parts</li>\n<li>the result should be an Array of Data's that can then be inserted.</li>\n</ol>\n<p>As an example :-</p>\n<p>First yes another dao has been added to mass insert using an ArrayList as per :-</p>\n<pre><code>@Insert\nlong[] insert(ArrayList&lt;Data&gt; dataArrayList);\n</code></pre>\n<p>The the following code was added :-</p>\n<pre><code>    String datain = &quot;{1317 | 0.004, 1318 | 0.004, 1319 | 0.004, 1320 | 0.008,1400 | 0.255 }&quot;;\n    ArrayList&lt;Data&gt; newDatas = new ArrayList&lt;&gt;();\n    String x = datain.substring(1,datain.length() - 1);\n    String[] split1 = x.split(&quot;,&quot;);\n    for (String s: split1) {\n        s = s.replace(&quot; | &quot;,&quot;~&quot;);\n        String[] parts = s.split(&quot;~&quot;);\n        if (parts.length == 2) {\n            try {\n                newDatas.add(new Data(Integer.parseInt(parts[0].trim()), Double.parseDouble(parts[1].trim())));\n            }\n            catch (Exception e) {\n            }\n        }\n    }\n    dao.insert(newDatas);\n</code></pre>\n<p>With the database now including :-</p>\n<p><a href=\"https://i.stack.imgur.com/k5hTo.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k5hTo.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":11610580,"reputation":129,"user_id":8504919,"display_name":"Daniel Mohajer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":164,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69816055,"answer_count":1,"score":1,"last_activity_date":1635905585,"creation_date":1635871694,"question_id":69814144,"body_markdown":"I wanna try to make a table to hold 2 columns with Room Library in android studio with Java (not in Kotlin) .\r\n\r\nThe problem here, is that my data is something like this : \r\n\r\n| Year | Dowry |\r\n|------|-------|\r\n| 1317 | 0.004 |\r\n| 1318 | 0.004 |\r\n| 1319 | 0.004 |\r\n| 1320 | 0.008 |\r\n| 1400 | 0.255 |\r\n\r\nSo for this i have made a Class named Data and i valued it like this :\r\n\r\n\r\n```\r\n    @Entity(tableName = &quot;tbl_data&quot;)\r\npublic class Data {\r\n    @PrimaryKey(autoGenerate = true)\r\n    private long id;\r\n    private int year;\r\n    private int dowry;\r\n \r\n    public Data(int year, int dowry) {\r\n        this.year = year;\r\n        this.dowry = dowry;\r\n    }\r\n\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getYear() {\r\n        return year;\r\n    }\r\n\r\n    public void setYear(int year) {\r\n        this.year = year;\r\n    }\r\n\r\n    public int getDowry() {\r\n        return dowry;\r\n    }\r\n\r\n    public void setDowry(int dowry) {\r\n        this.dowry = dowry;\r\n    }\r\n}\r\n\r\n```\r\n\r\nand then i made a Database like this :\r\n\r\n```\r\n@Database(version = 1 , exportSchema = false , entities = {Data.class} )\r\npublic abstract class AppDatabase extends RoomDatabase   {\r\n        private static AppDatabase appDatabase;\r\n\r\n\r\n    public static AppDatabase getAppDatabase(Context context) {\r\n            appDatabase= Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class,\r\n                    &quot;db_app&quot;)\r\n                    .allowMainThreadQueries()\r\n                    .build();\r\n        return appDatabase;\r\n    }\r\n\r\n    public abstract DataDao getDataDao();\r\n\r\n}\r\n\r\n```\r\n \r\nHow to add does data into my data.class AKA &quot;tbl_data&quot; ?\r\n","title":"How to make a Table with room library in android studio using Java?","body":"<p>I wanna try to make a table to hold 2 columns with Room Library in android studio with Java (not in Kotlin) .</p>\n<p>The problem here, is that my data is something like this :</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>Year</th>\n<th>Dowry</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1317</td>\n<td>0.004</td>\n</tr>\n<tr>\n<td>1318</td>\n<td>0.004</td>\n</tr>\n<tr>\n<td>1319</td>\n<td>0.004</td>\n</tr>\n<tr>\n<td>1320</td>\n<td>0.008</td>\n</tr>\n<tr>\n<td>1400</td>\n<td>0.255</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>So for this i have made a Class named Data and i valued it like this :</p>\n<pre><code>    @Entity(tableName = &quot;tbl_data&quot;)\npublic class Data {\n    @PrimaryKey(autoGenerate = true)\n    private long id;\n    private int year;\n    private int dowry;\n \n    public Data(int year, int dowry) {\n        this.year = year;\n        this.dowry = dowry;\n    }\n\n\n    public long getId() {\n        return id;\n    }\n\n    public void setId(long id) {\n        this.id = id;\n    }\n\n    public int getYear() {\n        return year;\n    }\n\n    public void setYear(int year) {\n        this.year = year;\n    }\n\n    public int getDowry() {\n        return dowry;\n    }\n\n    public void setDowry(int dowry) {\n        this.dowry = dowry;\n    }\n}\n\n</code></pre>\n<p>and then i made a Database like this :</p>\n<pre><code>@Database(version = 1 , exportSchema = false , entities = {Data.class} )\npublic abstract class AppDatabase extends RoomDatabase   {\n        private static AppDatabase appDatabase;\n\n\n    public static AppDatabase getAppDatabase(Context context) {\n            appDatabase= Room.databaseBuilder(context.getApplicationContext(), AppDatabase.class,\n                    &quot;db_app&quot;)\n                    .allowMainThreadQueries()\n                    .build();\n        return appDatabase;\n    }\n\n    public abstract DataDao getDataDao();\n\n}\n\n</code></pre>\n<p>How to add does data into my data.class AKA &quot;tbl_data&quot; ?</p>\n"},{"tags":["java","gradle","directory"],"comments":[{"owner":{"account_id":6464248,"reputation":6030,"user_id":5006866,"display_name":"thokuest"},"score":0,"creation_date":1635923624,"post_id":69818146,"comment_id":123418422,"body_markdown":"Welcome to Stackoverflow &#128075; As far as I understood you, you want `root-project` to depend on the `driver` sub-module. Is this correct?","body":"Welcome to Stackoverflow 👋 As far as I understood you, you want <code>root-project</code> to depend on the <code>driver</code> sub-module. Is this correct?"},{"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"score":0,"creation_date":1635927842,"post_id":69818146,"comment_id":123419725,"body_markdown":"um hello @thokuest, yes and needed this root-project not as a binary but as a direct dependency so that I&#39;ve never always publish it all over again. Do we need a &quot;settings.gradle&quot; inside of the subproject &quot;driver&quot;? is there any other way? thks in adv!","body":"um hello @thokuest, yes and needed this root-project not as a binary but as a direct dependency so that I&#39;ve never always publish it all over again. Do we need a &quot;settings.gradle&quot; inside of the subproject &quot;driver&quot;? is there any other way? thks in adv!"}],"owner":{"account_id":23177743,"reputation":43,"user_id":17275989,"display_name":"Liveon Phoenix"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":22,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635905581,"creation_date":1635896720,"question_id":69818146,"body_markdown":"inside of this &quot;root-project&quot; it had this subproject &quot;driver&quot;. How should we implement this rootproject to the subproject locally and not binaries?\r\n\r\n    :/root-project/\r\n    │   build.gradle.kts\r\n    │   gradle.properties\r\n    │   gradlew\r\n    │   gradlew.bat\r\n    │   settings.gradle.kts\r\n    ├───.gradle\r\n    ├───driver\r\n    ├───gradle\r\n    └───src\r\n\r\nsubproject &quot;driver&quot; depends on &quot;root-project&quot;. is there a way?","title":"how to implement a local project to the other local project which have this specific directory structure and without converting it to binaries","body":"<p>inside of this &quot;root-project&quot; it had this subproject &quot;driver&quot;. How should we implement this rootproject to the subproject locally and not binaries?</p>\n<pre><code>:/root-project/\n│   build.gradle.kts\n│   gradle.properties\n│   gradlew\n│   gradlew.bat\n│   settings.gradle.kts\n├───.gradle\n├───driver\n├───gradle\n└───src\n</code></pre>\n<p>subproject &quot;driver&quot; depends on &quot;root-project&quot;. is there a way?</p>\n"},{"tags":["java","android","firebase","firebase-authentication"],"comments":[{"owner":{"account_id":11204628,"reputation":165,"user_id":8220617,"display_name":"Benjamin Schr&#246;der"},"score":0,"creation_date":1527745308,"post_id":50615308,"comment_id":88244485,"body_markdown":"I don&#39;t get the question to be honest. If the user is already logged in its clear what to do. If he opens the app new and is not logged in he in any case needs to reenter his phone number in order to authenticate. So there is no real difference in-between. You need to know his credentials(eg his Phone Number) to know if he exists. But if he provides the number you can just immediately log him in?","body":"I don&#39;t get the question to be honest. If the user is already logged in its clear what to do. If he opens the app new and is not logged in he in any case needs to reenter his phone number in order to authenticate. So there is no real difference in-between. You need to know his credentials(eg his Phone Number) to know if he exists. But if he provides the number you can just immediately log him in?"},{"owner":{"account_id":13661927,"reputation":205,"user_id":9856738,"display_name":"Chris William"},"score":0,"creation_date":1527781668,"post_id":50615308,"comment_id":88266441,"body_markdown":"Lets say a user launched the app for the first time and signed up by verifying his number. He is then presented with the activity which inquires name/email etc to complete the registration (Let&#39;s call it X). When he logs out, he has to re-authenticate by going through the same phone verifying process next time he wants to use the app. However this time he shouldn&#39;t be shown the X activity right? That&#39;s where the problem is. Since I have no way to find out if this is a new user or already registered, I don&#39;t know how can I skip the X activity for those who are simply logging in.","body":"Lets say a user launched the app for the first time and signed up by verifying his number. He is then presented with the activity which inquires name/email etc to complete the registration (Let&#39;s call it X). When he logs out, he has to re-authenticate by going through the same phone verifying process next time he wants to use the app. However this time he shouldn&#39;t be shown the X activity right? That&#39;s where the problem is. Since I have no way to find out if this is a new user or already registered, I don&#39;t know how can I skip the X activity for those who are simply logging in."},{"owner":{"account_id":2203408,"reputation":5012,"user_id":1947216,"display_name":"mentallurg"},"score":0,"creation_date":1527789302,"post_id":50615308,"comment_id":88270202,"body_markdown":"Are you going to create users? What permissions are you going to grant them? And to create users your application needs pretty high permissions which is bad for security, because if you make a mistake you can loos your whole database of all your bases if you have many.","body":"Are you going to create users? What permissions are you going to grant them? And to create users your application needs pretty high permissions which is bad for security, because if you make a mistake you can loos your whole database of all your bases if you have many."}],"answers":[{"tags":[],"owner":{"account_id":6575589,"reputation":29938,"user_id":5081766,"display_name":"bojeil"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1527787476,"creation_date":1527787476,"answer_id":50629688,"question_id":50615308,"body_markdown":"Right now, the only way to do that is via the Firebase Admin SDK. There is an API to [lookup a user by phone number](https://firebase.google.com/docs/auth/admin/manage-users#retrieve_user_data).\r\n\r\n    admin.auth().getUserByPhoneNumber(phoneNumber)\r\n      .then(function(userRecord) {\r\n        // User found.\r\n      })\r\n      .catch(function(error) {\r\n        console.log(&quot;Error fetching user data:&quot;, error);\r\n      });","title":"How to check if a user already exists in firebase during phone auth","body":"<p>Right now, the only way to do that is via the Firebase Admin SDK. There is an API to <a href=\"https://firebase.google.com/docs/auth/admin/manage-users#retrieve_user_data\" rel=\"noreferrer\">lookup a user by phone number</a>.</p>\n\n<pre><code>admin.auth().getUserByPhoneNumber(phoneNumber)\n  .then(function(userRecord) {\n    // User found.\n  })\n  .catch(function(error) {\n    console.log(\"Error fetching user data:\", error);\n  });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3365442,"reputation":997,"user_id":2826184,"accept_rate":20,"display_name":"Elnatan Derech"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1539174130,"creation_date":1539174130,"answer_id":52740174,"question_id":50615308,"body_markdown":"You can check whether user already exist in Firebase by compare it metadata. see code example:\r\n\r\n    PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.getCredential(verificationId, smsCode);\r\n                FirebaseAuth.getInstance().signInWithCredential(phoneAuthCredential).addOnCompleteListener(PhoneLoginEnterCodeActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task){\r\n                        if (task.isSuccessful()) {\r\n                            // Sign in success, update UI with the signed-in user&#39;s information\r\n                            FirebaseUser user = task.getResult().getUser();\r\n                            long creationTimestamp = user.getMetadata().getCreationTimestamp();\r\n                            long lastSignInTimestamp = user.getMetadata().getLastSignInTimestamp();\r\n                            if (creationTimestamp == lastSignInTimestamp) {\r\n                                //do create new user\r\n                            } else {\r\n                               //user is exists, just do login\r\n                            }\r\n                        } else {\r\n                            // Sign in failed, display a message and update the UI\r\n                            if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {\r\n                                // The verification code entered was invalid\r\n                            }\r\n                        }\r\n                    }\r\n                });","title":"How to check if a user already exists in firebase during phone auth","body":"<p>You can check whether user already exist in Firebase by compare it metadata. see code example:</p>\n\n<pre><code>PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.getCredential(verificationId, smsCode);\n            FirebaseAuth.getInstance().signInWithCredential(phoneAuthCredential).addOnCompleteListener(PhoneLoginEnterCodeActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task){\n                    if (task.isSuccessful()) {\n                        // Sign in success, update UI with the signed-in user's information\n                        FirebaseUser user = task.getResult().getUser();\n                        long creationTimestamp = user.getMetadata().getCreationTimestamp();\n                        long lastSignInTimestamp = user.getMetadata().getLastSignInTimestamp();\n                        if (creationTimestamp == lastSignInTimestamp) {\n                            //do create new user\n                        } else {\n                           //user is exists, just do login\n                        }\n                    } else {\n                        // Sign in failed, display a message and update the UI\n                        if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {\n                            // The verification code entered was invalid\n                        }\n                    }\n                }\n            });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":17804267,"reputation":401,"user_id":12930265,"display_name":"mementoGuy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635905376,"creation_date":1635904914,"answer_id":69818857,"question_id":50615308,"body_markdown":"There is an `additionalUserInfo` property that you can query like so (Kotlin):\r\n\r\n``` \r\nfirebaseAuth.signInWithCredential(credential)\r\n    .addOnCompleteListener {\r\n        it.result.additionalUserInfo?.isNewUser // new user check\r\n    }\r\n```\r\n\r\nIf I borrow @Eltanan Derek code:\r\n\r\n    PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.getCredential(verificationId, smsCode);\r\n                FirebaseAuth.getInstance().signInWithCredential(phoneAuthCredential).addOnCompleteListener(PhoneLoginEnterCodeActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\r\n                    @Override\r\n                    public void onComplete(@NonNull Task&lt;AuthResult&gt; task){\r\n                        if (task.isSuccessful()) {\r\n                            // Sign in success, update UI with the signed-in user&#39;s information\r\n                            FirebaseUser user = task.getResult().getUser().getAdditionalUserInfo();\r\n                            \r\n                            if (user.isNewUser()) {\r\n                                //do create new user\r\n                            } else {\r\n                               //user is exists, just do login\r\n                            }\r\n                        } else {\r\n                            // Sign in failed, display a message and update the UI\r\n                            if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {\r\n                                // The verification code entered was invalid\r\n                            }\r\n                        }\r\n                    }\r\n                });","title":"How to check if a user already exists in firebase during phone auth","body":"<p>There is an <code>additionalUserInfo</code> property that you can query like so (Kotlin):</p>\n<pre><code>firebaseAuth.signInWithCredential(credential)\n    .addOnCompleteListener {\n        it.result.additionalUserInfo?.isNewUser // new user check\n    }\n</code></pre>\n<p>If I borrow @Eltanan Derek code:</p>\n<pre><code>PhoneAuthCredential phoneAuthCredential = PhoneAuthProvider.getCredential(verificationId, smsCode);\n            FirebaseAuth.getInstance().signInWithCredential(phoneAuthCredential).addOnCompleteListener(PhoneLoginEnterCodeActivity.this, new OnCompleteListener&lt;AuthResult&gt;() {\n                @Override\n                public void onComplete(@NonNull Task&lt;AuthResult&gt; task){\n                    if (task.isSuccessful()) {\n                        // Sign in success, update UI with the signed-in user's information\n                        FirebaseUser user = task.getResult().getUser().getAdditionalUserInfo();\n                        \n                        if (user.isNewUser()) {\n                            //do create new user\n                        } else {\n                           //user is exists, just do login\n                        }\n                    } else {\n                        // Sign in failed, display a message and update the UI\n                        if (task.getException() instanceof FirebaseAuthInvalidCredentialsException) {\n                            // The verification code entered was invalid\n                        }\n                    }\n                }\n            });\n</code></pre>\n"}],"owner":{"account_id":13661927,"reputation":205,"user_id":9856738,"display_name":"Chris William"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":13482,"favorite_count":0,"down_vote_count":1,"up_vote_count":11,"accepted_answer_id":50629688,"answer_count":3,"score":10,"last_activity_date":1635905376,"creation_date":1527729136,"question_id":50615308,"body_markdown":"I&#39;m trying to  create an app that only uses phone authorization from firebase. Since the login/signup is done through same process, which is verifying the sent code. How can i check if a user already exists in firebase? I need this to show them appropriate User Interface.","title":"How to check if a user already exists in firebase during phone auth","body":"<p>I'm trying to  create an app that only uses phone authorization from firebase. Since the login/signup is done through same process, which is verifying the sent code. How can i check if a user already exists in firebase? I need this to show them appropriate User Interface.</p>\n"},{"tags":["java","spring","spring-boot","swagger","swagger-ui"],"comments":[{"owner":{"account_id":6409722,"reputation":2936,"user_id":4969870,"display_name":"Paweł Głowacz"},"score":0,"creation_date":1635835872,"post_id":69805755,"comment_id":123391837,"body_markdown":"With this: `swagger-ui/index.html` works ?","body":"With this: <code>swagger-ui&#47;index.html</code> works ?"},{"owner":{"account_id":19279917,"reputation":1,"user_id":14092131,"display_name":"コンドン"},"score":0,"creation_date":1635837148,"post_id":69805755,"comment_id":123392208,"body_markdown":"I tried that as well with no luck","body":"I tried that as well with no luck"},{"owner":{"account_id":2411630,"reputation":72,"user_id":2106569,"display_name":"Viki Cullen"},"score":0,"creation_date":1635838653,"post_id":69805755,"comment_id":123392586,"body_markdown":"I see you are using https scheme for localhost, try changing to http\nAnd if you are using swagger 3.0, the URL should be ending with `http://localhost:9444/swagger-ui/` trailing slash &quot;/&quot;","body":"I see you are using https scheme for localhost, try changing to http And if you are using swagger 3.0, the URL should be ending with <code>http:&#47;&#47;localhost:9444&#47;swagger-ui&#47;</code> trailing slash &quot;/&quot;"},{"owner":{"account_id":19279917,"reputation":1,"user_id":14092131,"display_name":"コンドン"},"score":0,"creation_date":1635871733,"post_id":69805755,"comment_id":123406313,"body_markdown":"I tried it with the trailing slash and I still get same result. Would there be a reason that https does not work for swagger?","body":"I tried it with the trailing slash and I still get same result. Would there be a reason that https does not work for swagger?"},{"owner":{"account_id":19279917,"reputation":1,"user_id":14092131,"display_name":"コンドン"},"score":0,"creation_date":1635884893,"post_id":69805755,"comment_id":123411026,"body_markdown":"Also I am trying to run this on a Liberty Server I don&#39;t know if that makes any difference?","body":"Also I am trying to run this on a Liberty Server I don&#39;t know if that makes any difference?"}],"owner":{"account_id":19279917,"reputation":1,"user_id":14092131,"display_name":"コンドン"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1295,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635904915,"creation_date":1635831028,"question_id":69805755,"body_markdown":"https://localhost:9444/swagger-ui **404 error**\r\n\r\n  [1]: https://i.stack.imgur.com/sGiG4.png\r\n\r\nhttps://localhost:9444/swagger-resources and\r\nhttps://localhost:9444/v2/api-docs work without issue so I know it is recognizing swagger\r\nBut it returns a 404 error when I try to run \r\nhttps://localhost:9444/swagger-ui \r\n\r\n**Here is the code from** `my pom.xml`\r\n\r\n    &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;springfox-schema&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.9.2&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n\r\nAnd here is the code from `my IDAAApiApplication.java` file \r\n\r\n    package com.ibm.idaa.adminfoundation;\r\n    \r\n    import lombok.extern.slf4j.Slf4j;\r\n    import org.springframework.beans.factory.annotation.Autowired;\r\n    import org.springframework.boot.autoconfigure.EnableAutoConfiguration;\r\n    import org.springframework.boot.autoconfigure.SpringBootApplication;\r\n    import org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration;\r\n    import org.springframework.boot.builder.SpringApplicationBuilder;\r\n    import org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import org.springframework.core.env.Environment;\r\n    import org.springframework.scheduling.annotation.EnableAsync;\r\n    import org.springframework.scheduling.annotation.EnableScheduling;\r\n    import org.springframework.web.socket.config.annotation.EnableWebSocket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    \r\n    \r\n    @Configuration\r\n    @SpringBootApplication\r\n    @EnableSwagger2\r\n    @EnableAutoConfiguration(exclude={MongoAutoConfiguration.class})\r\n    @EnableAsync\r\n    @EnableScheduling\r\n    @EnableWebSocket\r\n    @Slf4j\r\n    public class IDAAApiApplication extends SpringBootServletInitializer {\r\n    \r\n    \t@Autowired\r\n    \tprivate Environment env;\r\n    \r\n    //\t@Value(&quot;${encryption.mode}&quot;)\r\n    \tprivate String encryptionMode=&quot;base64&quot;;\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tnew SpringApplicationBuilder(IDAAApiApplication.class)\r\n    \t\t\t\t.sources(IDAAApiApplication.class)\r\n    \t\t\t\t.run(args);\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tprotected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\r\n    \t\treturn application.sources(IDAAApiApplication.class);\r\n    \t}\r\n\r\nAnd here is `my swaggerConfig.java`\r\n\r\n    package com.ibm.idaa.adminfoundation.configuration;\r\n    \r\n    \r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.context.annotation.Bean;\r\n    import org.springframework.context.annotation.Configuration;\r\n    import springfox.documentation.builders.ApiInfoBuilder;\r\n    import springfox.documentation.builders.PathSelectors;\r\n    import springfox.documentation.builders.RequestHandlerSelectors;\r\n    import springfox.documentation.service.ApiInfo;\r\n    import springfox.documentation.service.Contact;\r\n    import springfox.documentation.spi.DocumentationType;\r\n    import springfox.documentation.spring.web.plugins.Docket;\r\n    import springfox.documentation.swagger2.annotations.EnableSwagger2;\r\n    \r\n    \r\n    @Configuration\r\n    @EnableSwagger2\r\n    public class SwaggerConfig {\r\n    //    @Value(&quot;${spring.profiles.active}&quot;)\r\n        private String evn=&quot;dev&quot;;\r\n    \r\n        @Bean\r\n        public Docket buildDocket() {\r\n            //not display swagger api doc in prod env\r\n            if (&quot;prod&quot;.equals(evn)) {\r\n                return new Docket(DocumentationType.SWAGGER_2)\r\n                        .apiInfo(displayBlank())\r\n                        .select()\r\n                        .paths(PathSelectors.none())\r\n                        .build();\r\n            }\r\n            return new Docket(DocumentationType.SWAGGER_2)\r\n                    .apiInfo(buildApiInfo())\r\n                    .select()\r\n                    //packages you want to be scanned by swagger\r\n                    .apis(RequestHandlerSelectors.basePackage(&quot;com.ibm.idaa.adminfoundation.rest.controller&quot;))\r\n                    .paths(PathSelectors.any())\r\n                    .build();\r\n        }\r\n    \r\n        private ApiInfo buildApiInfo() {\r\n            return new ApiInfoBuilder()\r\n                    .title(&quot;Acceleration API&#39;s for IDAA Services&quot;)\r\n                    .contact(new Contact(&quot;Tyler Condon&quot;, &quot;&quot;, &quot;&quot;))\r\n                    .version(&quot;1.0&quot;)\r\n                    .build();\r\n        }\r\n    \r\n        /**\r\n         * display blank page\r\n         *\r\n         * @return\r\n         */\r\n        private ApiInfo displayBlank() {\r\n            return new ApiInfoBuilder()\r\n                    .title(&quot;&quot;)\r\n                    .description(&quot;&quot;)\r\n                    .license(&quot;&quot;)\r\n                    .licenseUrl(&quot;&quot;)\r\n                    .termsOfServiceUrl(&quot;&quot;)\r\n                    .version(&quot;&quot;)\r\n                    .contact(new Contact(&quot;&quot;, &quot;&quot;, &quot;&quot;))\r\n                    .build();\r\n        }\r\n    }\r\n\r\nHere is the output I get in my console when I try to run :\r\n\r\n    21/11/02 09:46:35 INFO  [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : Initializing Servlet &#39;dispatcherServlet&#39;\r\n    21/11/02 09:46:35 DEBUG [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : Detected StandardServletMultipartResolver\r\n    21/11/02 09:46:35 DEBUG [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : enableLoggingRequestDetails=&#39;false&#39;: request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\r\n    21/11/02 09:46:35 INFO  [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : Completed initialization in 27 ms\r\n    21/11/02 09:46:35 DEBUG [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : GET &quot;/swagger-ui/&quot;, parameters={}\r\n    21/11/02 09:46:35 WARN  [Default Executor-thread-186] org.springframework.web.servlet.PageNotFound : No mapping for GET /swagger-ui/\r\n    21/11/02 09:46:35 DEBUG [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : Completed 404 NOT_FOUND\r\n    21/11/02 09:46:35 ERROR [Default Executor-thread-186] org.springframework.boot.web.servlet.support.ErrorPageFilter : Cannot forward to error page for request [/swagger-ui/] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false\r\n\r\nNote : I have tried with trailing slash and without and get same result.\r\n\r\nSomeone suggested that I use yaml. None of the online guide mentioned this?\r\n\r\n\r\n","title":"Spring Boot /swagger-resources and /v2/api-docs works but swagger-ui 404 error","body":"<p>https://localhost:9444/swagger-ui <strong>404 error</strong></p>\n<p>https://localhost:9444/swagger-resources and\nhttps://localhost:9444/v2/api-docs work without issue so I know it is recognizing swagger\nBut it returns a 404 error when I try to run\nhttps://localhost:9444/swagger-ui</p>\n<p><strong>Here is the code from</strong> <code>my pom.xml</code></p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-schema&lt;/artifactId&gt;\n            &lt;version&gt;2.9.2&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>And here is the code from <code>my IDAAApiApplication.java</code> file</p>\n<pre><code>package com.ibm.idaa.adminfoundation;\n\nimport lombok.extern.slf4j.Slf4j;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.autoconfigure.EnableAutoConfiguration;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.boot.autoconfigure.mongo.MongoAutoConfiguration;\nimport org.springframework.boot.builder.SpringApplicationBuilder;\nimport org.springframework.boot.web.servlet.support.SpringBootServletInitializer;\nimport org.springframework.context.annotation.Configuration;\nimport org.springframework.core.env.Environment;\nimport org.springframework.scheduling.annotation.EnableAsync;\nimport org.springframework.scheduling.annotation.EnableScheduling;\nimport org.springframework.web.socket.config.annotation.EnableWebSocket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n\n@Configuration\n@SpringBootApplication\n@EnableSwagger2\n@EnableAutoConfiguration(exclude={MongoAutoConfiguration.class})\n@EnableAsync\n@EnableScheduling\n@EnableWebSocket\n@Slf4j\npublic class IDAAApiApplication extends SpringBootServletInitializer {\n\n    @Autowired\n    private Environment env;\n\n//  @Value(&quot;${encryption.mode}&quot;)\n    private String encryptionMode=&quot;base64&quot;;\n\n    public static void main(String[] args) {\n        new SpringApplicationBuilder(IDAAApiApplication.class)\n                .sources(IDAAApiApplication.class)\n                .run(args);\n    }\n\n    @Override\n    protected SpringApplicationBuilder configure(SpringApplicationBuilder application) {\n        return application.sources(IDAAApiApplication.class);\n    }\n</code></pre>\n<p>And here is <code>my swaggerConfig.java</code></p>\n<pre><code>package com.ibm.idaa.adminfoundation.configuration;\n\n\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\nimport springfox.documentation.builders.ApiInfoBuilder;\nimport springfox.documentation.builders.PathSelectors;\nimport springfox.documentation.builders.RequestHandlerSelectors;\nimport springfox.documentation.service.ApiInfo;\nimport springfox.documentation.service.Contact;\nimport springfox.documentation.spi.DocumentationType;\nimport springfox.documentation.spring.web.plugins.Docket;\nimport springfox.documentation.swagger2.annotations.EnableSwagger2;\n\n\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n//    @Value(&quot;${spring.profiles.active}&quot;)\n    private String evn=&quot;dev&quot;;\n\n    @Bean\n    public Docket buildDocket() {\n        //not display swagger api doc in prod env\n        if (&quot;prod&quot;.equals(evn)) {\n            return new Docket(DocumentationType.SWAGGER_2)\n                    .apiInfo(displayBlank())\n                    .select()\n                    .paths(PathSelectors.none())\n                    .build();\n        }\n        return new Docket(DocumentationType.SWAGGER_2)\n                .apiInfo(buildApiInfo())\n                .select()\n                //packages you want to be scanned by swagger\n                .apis(RequestHandlerSelectors.basePackage(&quot;com.ibm.idaa.adminfoundation.rest.controller&quot;))\n                .paths(PathSelectors.any())\n                .build();\n    }\n\n    private ApiInfo buildApiInfo() {\n        return new ApiInfoBuilder()\n                .title(&quot;Acceleration API's for IDAA Services&quot;)\n                .contact(new Contact(&quot;Tyler Condon&quot;, &quot;&quot;, &quot;&quot;))\n                .version(&quot;1.0&quot;)\n                .build();\n    }\n\n    /**\n     * display blank page\n     *\n     * @return\n     */\n    private ApiInfo displayBlank() {\n        return new ApiInfoBuilder()\n                .title(&quot;&quot;)\n                .description(&quot;&quot;)\n                .license(&quot;&quot;)\n                .licenseUrl(&quot;&quot;)\n                .termsOfServiceUrl(&quot;&quot;)\n                .version(&quot;&quot;)\n                .contact(new Contact(&quot;&quot;, &quot;&quot;, &quot;&quot;))\n                .build();\n    }\n}\n</code></pre>\n<p>Here is the output I get in my console when I try to run :</p>\n<pre><code>21/11/02 09:46:35 INFO  [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : Initializing Servlet 'dispatcherServlet'\n21/11/02 09:46:35 DEBUG [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : Detected StandardServletMultipartResolver\n21/11/02 09:46:35 DEBUG [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data\n21/11/02 09:46:35 INFO  [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : Completed initialization in 27 ms\n21/11/02 09:46:35 DEBUG [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : GET &quot;/swagger-ui/&quot;, parameters={}\n21/11/02 09:46:35 WARN  [Default Executor-thread-186] org.springframework.web.servlet.PageNotFound : No mapping for GET /swagger-ui/\n21/11/02 09:46:35 DEBUG [Default Executor-thread-186] org.springframework.web.servlet.DispatcherServlet : Completed 404 NOT_FOUND\n21/11/02 09:46:35 ERROR [Default Executor-thread-186] org.springframework.boot.web.servlet.support.ErrorPageFilter : Cannot forward to error page for request [/swagger-ui/] as the response has already been committed. As a result, the response may have the wrong status code. If your application is running on WebSphere Application Server you may be able to resolve this problem by setting com.ibm.ws.webcontainer.invokeFlushAfterService to false\n</code></pre>\n<p>Note : I have tried with trailing slash and without and get same result.</p>\n<p>Someone suggested that I use yaml. None of the online guide mentioned this?</p>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":247613,"reputation":284090,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1635820593,"post_id":69804780,"comment_id":123389389,"body_markdown":"Unclear what you&#39;re asking since fields can be generic and methods can have generic parameters. Please fix your typos (you&#39;ve got a few there) and if possible, clarify your question.","body":"Unclear what you&#39;re asking since fields can be generic and methods can have generic parameters. Please fix your typos (you&#39;ve got a few there) and if possible, clarify your question."},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1635821441,"post_id":69804780,"comment_id":123389529,"body_markdown":"@HovercraftFullOfEels I mean, class `Class&lt;T&gt;` and `Constrcutor&lt;T&gt;` typed parameter `T`, but class `Field` and `Method` have not.","body":"@HovercraftFullOfEels I mean, class <code>Class&lt;T&gt;</code> and <code>Constrcutor&lt;T&gt;</code> typed parameter <code>T</code>, but class <code>Field</code> and <code>Method</code> have not."},{"owner":{"account_id":7017323,"reputation":3426,"user_id":5378187,"display_name":"Rubydesic"},"score":1,"creation_date":1635822413,"post_id":69804780,"comment_id":123389674,"body_markdown":"What would the type T of a `Method&lt;T&gt;` be? The return type? the first parameter? there is no variadic type parameter","body":"What would the type T of a <code>Method&lt;T&gt;</code> be? The return type? the first parameter? there is no variadic type parameter"},{"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"score":0,"creation_date":1635834635,"post_id":69804780,"comment_id":123391577,"body_markdown":"@Rubydesic that&#39;s enough. `newInstance` method returns `T` and its parameters are `Object...`","body":"@Rubydesic that&#39;s enough. <code>newInstance</code> method returns <code>T</code> and its parameters are <code>Object...</code>"}],"answers":[{"tags":[],"owner":{"account_id":7017323,"reputation":3426,"user_id":5378187,"display_name":"Rubydesic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635859120,"creation_date":1635859120,"answer_id":69811166,"question_id":69804780,"body_markdown":"If I had to guess I would say that it&#39;s because there&#39;s no way to obtain a reference to a `Method&lt;T&gt;` or `Field&lt;T&gt;` without casting it yourself. You can get a `Class&lt;T&gt;` by using a class literal (e.g., `String.class` produces a `Class&lt;String&gt;`), and you can get a `Constructor&lt;T&gt;` out of that class, (`#getConstructor`), but Java has no `Field` literal or `Method` literal, so the only way to get a type parameter out of a method or field would be to produce it out of thin air with a type cast.","title":"Why Class&lt;T&gt; and Constructor&lt;T&gt; are typed but Field and Method are not? In java","body":"<p>If I had to guess I would say that it's because there's no way to obtain a reference to a <code>Method&lt;T&gt;</code> or <code>Field&lt;T&gt;</code> without casting it yourself. You can get a <code>Class&lt;T&gt;</code> by using a class literal (e.g., <code>String.class</code> produces a <code>Class&lt;String&gt;</code>), and you can get a <code>Constructor&lt;T&gt;</code> out of that class, (<code>#getConstructor</code>), but Java has no <code>Field</code> literal or <code>Method</code> literal, so the only way to get a type parameter out of a method or field would be to produce it out of thin air with a type cast.</p>\n"}],"owner":{"account_id":9149557,"reputation":1927,"user_id":6804605,"accept_rate":75,"display_name":"FredSuvn"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635867406,"answer_count":1,"score":-2,"last_activity_date":1635903766,"creation_date":1635820454,"question_id":69804780,"body_markdown":"In java, `Class&lt;T&gt;` and `Constrcutor&lt;T&gt;` are generic, but `Field` and `Method` are not, why?\r\n\r\n`Class.newInstance()` and `Constructor.newInstance()` return `T`, but `Field.get()` and `Method.invoke()` return `Object`.\r\n\r\nWhy not make `Field` as `Field&lt;T&gt;` and `Method` as `Method&lt;T&gt;` then they can return `T` not `Object`?","title":"Why Class&lt;T&gt; and Constructor&lt;T&gt; are typed but Field and Method are not? In java","body":"<p>In java, <code>Class&lt;T&gt;</code> and <code>Constrcutor&lt;T&gt;</code> are generic, but <code>Field</code> and <code>Method</code> are not, why?</p>\n<p><code>Class.newInstance()</code> and <code>Constructor.newInstance()</code> return <code>T</code>, but <code>Field.get()</code> and <code>Method.invoke()</code> return <code>Object</code>.</p>\n<p>Why not make <code>Field</code> as <code>Field&lt;T&gt;</code> and <code>Method</code> as <code>Method&lt;T&gt;</code> then they can return <code>T</code> not <code>Object</code>?</p>\n"},{"tags":["java","mysql","vert.x"],"answers":[{"tags":[],"owner":{"account_id":339454,"reputation":2681,"user_id":668951,"accept_rate":88,"display_name":"Atul"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635829095,"creation_date":1635829095,"answer_id":69805565,"question_id":69805490,"body_markdown":"While you asked for  vert.x codes, probably source material- MySql Error reference would help [https://dev.mysql.com/doc/mysql-errors/8.0/en/][1] There are [server][2] and [client][3] side as well as [global][4] error codes listed there.\r\n\r\nAlso, check out [https://github.com/sambrmg/mysql-error-codes/blob/master/index.js][5]\r\n\r\n\r\n  [1]: https://dev.mysql.com/doc/mysql-errors/8.0/en/\r\n  [2]: https://dev.mysql.com/doc/mysql-errors/8.0/en/server-error-reference.html\r\n  [3]: https://dev.mysql.com/doc/mysql-errors/8.0/en/client-error-reference.html\r\n  [4]: https://dev.mysql.com/doc/mysql-errors/8.0/en/global-error-reference.html\r\n  [5]: https://github.com/sambrmg/mysql-error-codes/blob/master/index.js","title":"List of all errorCode in MySQLException in io.vertx.mysqlclient","body":"<p>While you asked for  vert.x codes, probably source material- MySql Error reference would help <a href=\"https://dev.mysql.com/doc/mysql-errors/8.0/en/\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/mysql-errors/8.0/en/</a> There are <a href=\"https://dev.mysql.com/doc/mysql-errors/8.0/en/server-error-reference.html\" rel=\"nofollow noreferrer\">server</a> and <a href=\"https://dev.mysql.com/doc/mysql-errors/8.0/en/client-error-reference.html\" rel=\"nofollow noreferrer\">client</a> side as well as <a href=\"https://dev.mysql.com/doc/mysql-errors/8.0/en/global-error-reference.html\" rel=\"nofollow noreferrer\">global</a> error codes listed there.</p>\n<p>Also, check out <a href=\"https://github.com/sambrmg/mysql-error-codes/blob/master/index.js\" rel=\"nofollow noreferrer\">https://github.com/sambrmg/mysql-error-codes/blob/master/index.js</a></p>\n"},{"tags":[],"owner":{"account_id":6982783,"reputation":326,"user_id":5354987,"display_name":"Samuel Marchant"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635829223,"creation_date":1635829223,"answer_id":69805581,"question_id":69805490,"body_markdown":"In MySQL %s represents a String ID and %d is representing a primary key(usually) decimal.\r\n1062 is about an identical column value as an id column or such like.\r\nhttps://dev.mysql.com/doc/mysql-errors/8.0/en/client-error-reference.html\r\nGet the PDF download of this page in the left column of all the error codes.\r\nnote: If you use PHP it has similar numeric error messages (just to not confuse it).\r\nnote: https://dev.mysql.com/doc/mysql-errors/8.0/en/server-error-reference.html","title":"List of all errorCode in MySQLException in io.vertx.mysqlclient","body":"<p>In MySQL %s represents a String ID and %d is representing a primary key(usually) decimal.\n1062 is about an identical column value as an id column or such like.\n<a href=\"https://dev.mysql.com/doc/mysql-errors/8.0/en/client-error-reference.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/mysql-errors/8.0/en/client-error-reference.html</a>\nGet the PDF download of this page in the left column of all the error codes.\nnote: If you use PHP it has similar numeric error messages (just to not confuse it).\nnote: <a href=\"https://dev.mysql.com/doc/mysql-errors/8.0/en/server-error-reference.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/mysql-errors/8.0/en/server-error-reference.html</a></p>\n"},{"tags":[],"owner":{"account_id":5224958,"reputation":536,"user_id":4177271,"display_name":"Tcheutchoua Steve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635902977,"creation_date":1635902977,"answer_id":69818697,"question_id":69805490,"body_markdown":"https://dev.mysql.com/doc/mysql-errors/8.0/en/global-error-reference.html for mysql errors.\r\n\r\nAlso, I had same error code from MariaDB, and found this link useful. https://mariadb.com/kb/en/mariadb-error-codes/#shared-mariadbmysql-error-codes","title":"List of all errorCode in MySQLException in io.vertx.mysqlclient","body":"<p><a href=\"https://dev.mysql.com/doc/mysql-errors/8.0/en/global-error-reference.html\" rel=\"nofollow noreferrer\">https://dev.mysql.com/doc/mysql-errors/8.0/en/global-error-reference.html</a> for mysql errors.</p>\n<p>Also, I had same error code from MariaDB, and found this link useful. <a href=\"https://mariadb.com/kb/en/mariadb-error-codes/#shared-mariadbmysql-error-codes\" rel=\"nofollow noreferrer\">https://mariadb.com/kb/en/mariadb-error-codes/#shared-mariadbmysql-error-codes</a></p>\n"}],"owner":{"account_id":21121495,"reputation":59,"user_id":15527436,"display_name":"Uday Solanki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1635902977,"creation_date":1635828346,"question_id":69805490,"body_markdown":"Is there any source, where I can get list of all errorCode/errorMessage in MySQLException (*io.vertx.mysqlclient*)\r\n\r\nFor ex: \r\n\r\n&gt; 1062 is MySQL Duplicate Key","title":"List of all errorCode in MySQLException in io.vertx.mysqlclient","body":"<p>Is there any source, where I can get list of all errorCode/errorMessage in MySQLException (<em>io.vertx.mysqlclient</em>)</p>\n<p>For ex:</p>\n<blockquote>\n<p>1062 is MySQL Duplicate Key</p>\n</blockquote>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":6311806,"reputation":11,"user_id":7107857,"display_name":"Tarik Cisco"},"score":0,"creation_date":1635871018,"post_id":69813566,"comment_id":123405997,"body_markdown":"The line 44 : holder.channelName.setText(channels.get(position).getName());","body":"The line 44 : holder.channelName.setText(channels.get(position).getName())&zwnj;&#8203;;"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1635872160,"post_id":69813566,"comment_id":123406474,"body_markdown":"&quot;this app works fine on the emulator&quot; – Do you possibly have more than one `custom_channels` layout; e.g., one each for portrait and landscape, or for multiple Android versions, etc.?","body":"&quot;this app works fine on the emulator&quot; – Do you possibly have more than one <code>custom_channels</code> layout; e.g., one each for portrait and landscape, or for multiple Android versions, etc.?"},{"owner":{"account_id":6311806,"reputation":11,"user_id":7107857,"display_name":"Tarik Cisco"},"score":0,"creation_date":1635872302,"post_id":69813566,"comment_id":123406534,"body_markdown":"No, I have only this layout","body":"No, I have only this layout"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1635877763,"post_id":69813566,"comment_id":123408653,"body_markdown":"Well, unless cleaning/rebuilding your project fixes it, that&#39;s about the only possibility that I see atm, if everything here is correct to what you&#39;re currently running. You might double-check to make sure that your IDE didn&#39;t create a separate layout inadvertently.","body":"Well, unless cleaning/rebuilding your project fixes it, that&#39;s about the only possibility that I see atm, if everything here is correct to what you&#39;re currently running. You might double-check to make sure that your IDE didn&#39;t create a separate layout inadvertently."},{"owner":{"account_id":6311806,"reputation":11,"user_id":7107857,"display_name":"Tarik Cisco"},"score":1,"creation_date":1635902449,"post_id":69813566,"comment_id":123414807,"body_markdown":"You were right, I created a new project with the same code and it works","body":"You were right, I created a new project with the same code and it works"}],"answers":[{"tags":[],"owner":{"account_id":6311806,"reputation":11,"user_id":7107857,"display_name":"Tarik Cisco"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635902505,"creation_date":1635902505,"answer_id":69818662,"question_id":69813566,"body_markdown":"After creating a new project with the same code it works, weird but that&#39;s all","title":"May be duplicated : Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference","body":"<p>After creating a new project with the same code it works, weird but that's all</p>\n"}],"owner":{"account_id":6311806,"reputation":11,"user_id":7107857,"display_name":"Tarik Cisco"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635902505,"creation_date":1635869318,"question_id":69813566,"body_markdown":"It works fine on the emulator, however on the box I&#39;m getting this error: \r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.m3uplayer, PID: 10042\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference\r\n        at com.example.m3uplayer.Adapter.onBindViewHolder(Adapter.java:44)\r\n        at com.example.m3uplayer.Adapter.onBindViewHolder(Adapter.java:22)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7254)\r\n        at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7337)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6194)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6460)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\r\n        at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\r\n        at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\r\n        at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4309)\r\n        at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4012)\r\n        at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4578)\r\n        at android.view.View.layout(View.java:20672)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6194)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\r\n        at android.view.View.layout(View.java:20672)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6194)\r\n        at android.widget.RelativeLayout.onLayout(RelativeLayout.java:1083)\r\n        at android.view.View.layout(View.java:20672)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6194)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\r\n        at android.view.View.layout(View.java:20672)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6194)\r\n        at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1812)\r\n        at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1656)\r\n        at android.widget.LinearLayout.onLayout(LinearLayout.java:1565)\r\n        at android.view.View.layout(View.java:20672)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6194)\r\n        at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\r\n        at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\r\n        at com.android.internal.policy.DecorView.onLayout(DecorView.java:753)\r\n        at android.view.View.layout(View.java:20672)\r\n        at android.view.ViewGroup.layout(ViewGroup.java:6194)\r\n        at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2796)\r\n        at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2323)\r\n        at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1462)\r\n        at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7187)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:761)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:696)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\r\n        at android.os.Handler.handleCallback(Handler.java:873)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:193)\r\n        at android.app.ActivityThread.main(ActivityThread.java:6669)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:951)\r\nI/Process: Sending signal. PID: 10042 SIG: 9\r\n\r\n\r\n\r\nhere&#39;s my layout : custom_channels.xml :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;androidx.constraintlayout.widget.ConstraintLayout \r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n    android:background=&quot;@drawable/item_selector&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;wrap_content&quot;\r\n    android:focusable=&quot;true&quot;&gt;\r\n\r\n    &lt;androidx.cardview.widget.CardView\r\n        android:id=&quot;@+id/main&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;8dp&quot;\r\n        android:layout_marginTop=&quot;8dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:layout_marginBottom=&quot;8dp&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/streamURL&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:visibility=&quot;invisible&quot;\r\n            tools:visibility=&quot;invisible&quot; /&gt;\r\n\r\n        &lt;androidx.constraintlayout.widget.ConstraintLayout\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;wrap_content&quot;&gt;\r\n\r\n\r\n            &lt;ImageView\r\n                android:id=&quot;@+id/coverImage&quot;\r\n                android:layout_width=&quot;75dp&quot;\r\n                android:layout_height=&quot;75dp&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n                app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:srcCompat=&quot;@drawable/ic_launcher_background&quot;\r\n                tools:ignore=&quot;ContentDescription,VectorDrawableCompat&quot; /&gt;\r\n\r\n            &lt;TextView\r\n                android:id=&quot;@+id/channelName&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;16dp&quot;\r\n                android:layout_marginTop=&quot;8dp&quot;\r\n                android:text=&quot;@string/channel_name&quot;\r\n                android:textSize=&quot;18sp&quot;\r\n                android:textStyle=&quot;bold&quot;\r\n                app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/coverImage&quot;\r\n                app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n                app:layout_constraintVertical_bias=&quot;0.0&quot;\r\n                android:layout_marginLeft=&quot;16dp&quot; /&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/channelCountry&quot;\r\n                android:layout_width=&quot;0dp&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_marginStart=&quot;16dp&quot;\r\n                android:layout_marginLeft=&quot;16dp&quot;\r\n                android:paddingTop=&quot;50dp&quot;\r\n                android:text=&quot;@string/country&quot;\r\n                app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n                app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n                app:layout_constraintStart_toEndOf=&quot;@+id/coverImage&quot;\r\n                app:layout_constraintTop_toBottomOf=&quot;@+id/songTitle&quot;\r\n                tools:ignore=&quot;UnknownId&quot; /&gt;\r\n        &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n    &lt;/androidx.cardview.widget.CardView&gt;\r\n\r\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\r\n\r\n\r\nand the Adapter class:     \r\n\r\n\r\n    public class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt;  {\r\n    LayoutInflater inflater;\r\n    List&lt;Channels&gt; channels;\r\n    public Adapter(Context ctx, List&lt;Channels&gt; channels){\r\n        this.inflater = LayoutInflater.from(ctx);\r\n        this.channels = channels;    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)  {\r\n        View view = inflater.inflate(R.layout.custom_channels, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, \r\n    @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n        holder.channelName.setText(channels.get(position).getName());\r\n        holder.channelCountry.setText(channels.get(position).getCountry());       \r\n    Picasso.get().load(channels.get(position).getCoverImg()).into(holder.channelImage);\r\n        holder.itemView.setId(position);\r\n    }\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return channels.size();\r\n    }\r\n\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        TextView channelName, channelCountry, streamUrl;\r\n        ImageView channelImage;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            channelName = itemView.findViewById(R.id.channelName);\r\n            channelCountry = itemView.findViewById(R.id.channelCountry);\r\n            channelImage = itemView.findViewById(R.id.coverImage);\r\n            streamUrl = itemView.findViewById(R.id.streamURL);\r\n\r\n        }\r\n      }\r\n\r\n     }\r\n\r\n\r\nI came to you, because after days of struggling, I didn&#39;t find the solution here or on Google. the weird part, this app works fine on the emulator\r\nThank you in advance","title":"May be duplicated : Attempt to invoke virtual method &#39;void android.widget.TextView.setText(java.lang.CharSequence)&#39; on a null object reference","body":"<p>It works fine on the emulator, however on the box I'm getting this error:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.m3uplayer, PID: 10042\njava.lang.NullPointerException: Attempt to invoke virtual method 'void android.widget.TextView.setText(java.lang.CharSequence)' on a null object reference\n    at com.example.m3uplayer.Adapter.onBindViewHolder(Adapter.java:44)\n    at com.example.m3uplayer.Adapter.onBindViewHolder(Adapter.java:22)\n    at androidx.recyclerview.widget.RecyclerView$Adapter.onBindViewHolder(RecyclerView.java:7254)\n    at androidx.recyclerview.widget.RecyclerView$Adapter.bindViewHolder(RecyclerView.java:7337)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.tryBindViewHolderByDeadline(RecyclerView.java:6194)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.tryGetViewHolderForPositionByDeadline(RecyclerView.java:6460)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6300)\n    at androidx.recyclerview.widget.RecyclerView$Recycler.getViewForPosition(RecyclerView.java:6296)\n    at androidx.recyclerview.widget.LinearLayoutManager$LayoutState.next(LinearLayoutManager.java:2330)\n    at androidx.recyclerview.widget.LinearLayoutManager.layoutChunk(LinearLayoutManager.java:1631)\n    at androidx.recyclerview.widget.LinearLayoutManager.fill(LinearLayoutManager.java:1591)\n    at androidx.recyclerview.widget.LinearLayoutManager.onLayoutChildren(LinearLayoutManager.java:668)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayoutStep2(RecyclerView.java:4309)\n    at androidx.recyclerview.widget.RecyclerView.dispatchLayout(RecyclerView.java:4012)\n    at androidx.recyclerview.widget.RecyclerView.onLayout(RecyclerView.java:4578)\n    at android.view.View.layout(View.java:20672)\n    at android.view.ViewGroup.layout(ViewGroup.java:6194)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n    at android.view.View.layout(View.java:20672)\n    at android.view.ViewGroup.layout(ViewGroup.java:6194)\n    at android.widget.RelativeLayout.onLayout(RelativeLayout.java:1083)\n    at android.view.View.layout(View.java:20672)\n    at android.view.ViewGroup.layout(ViewGroup.java:6194)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n    at android.view.View.layout(View.java:20672)\n    at android.view.ViewGroup.layout(ViewGroup.java:6194)\n    at android.widget.LinearLayout.setChildFrame(LinearLayout.java:1812)\n    at android.widget.LinearLayout.layoutVertical(LinearLayout.java:1656)\n    at android.widget.LinearLayout.onLayout(LinearLayout.java:1565)\n    at android.view.View.layout(View.java:20672)\n    at android.view.ViewGroup.layout(ViewGroup.java:6194)\n    at android.widget.FrameLayout.layoutChildren(FrameLayout.java:323)\n    at android.widget.FrameLayout.onLayout(FrameLayout.java:261)\n    at com.android.internal.policy.DecorView.onLayout(DecorView.java:753)\n    at android.view.View.layout(View.java:20672)\n    at android.view.ViewGroup.layout(ViewGroup.java:6194)\n    at android.view.ViewRootImpl.performLayout(ViewRootImpl.java:2796)\n    at android.view.ViewRootImpl.performTraversals(ViewRootImpl.java:2323)\n    at android.view.ViewRootImpl.doTraversal(ViewRootImpl.java:1462)\n    at android.view.ViewRootImpl$TraversalRunnable.run(ViewRootImpl.java:7187)\n    at android.view.Choreographer$CallbackRecord.run(Choreographer.java:949)\n    at android.view.Choreographer.doCallbacks(Choreographer.java:761)\n    at android.view.Choreographer.doFrame(Choreographer.java:696)\n    at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:935)\n    at android.os.Handler.handleCallback(Handler.java:873)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:193)\n    at android.app.ActivityThread.main(ActivityThread.java:6669)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:493)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:951)\n</code></pre>\n<p>I/Process: Sending signal. PID: 10042 SIG: 9</p>\n<p>here's my layout : custom_channels.xml :</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;androidx.constraintlayout.widget.ConstraintLayout \nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nxmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\nxmlns:tools=&quot;http://schemas.android.com/tools&quot;\nandroid:background=&quot;@drawable/item_selector&quot;\nandroid:layout_width=&quot;match_parent&quot;\nandroid:layout_height=&quot;wrap_content&quot;\nandroid:focusable=&quot;true&quot;&gt;\n\n&lt;androidx.cardview.widget.CardView\n    android:id=&quot;@+id/main&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;8dp&quot;\n    android:layout_marginTop=&quot;8dp&quot;\n    android:layout_marginEnd=&quot;8dp&quot;\n    android:layout_marginBottom=&quot;8dp&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/streamURL&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:visibility=&quot;invisible&quot;\n        tools:visibility=&quot;invisible&quot; /&gt;\n\n    &lt;androidx.constraintlayout.widget.ConstraintLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;wrap_content&quot;&gt;\n\n\n        &lt;ImageView\n            android:id=&quot;@+id/coverImage&quot;\n            android:layout_width=&quot;75dp&quot;\n            android:layout_height=&quot;75dp&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n            app:layout_constraintStart_toStartOf=&quot;parent&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:srcCompat=&quot;@drawable/ic_launcher_background&quot;\n            tools:ignore=&quot;ContentDescription,VectorDrawableCompat&quot; /&gt;\n\n        &lt;TextView\n            android:id=&quot;@+id/channelName&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;16dp&quot;\n            android:layout_marginTop=&quot;8dp&quot;\n            android:text=&quot;@string/channel_name&quot;\n            android:textSize=&quot;18sp&quot;\n            android:textStyle=&quot;bold&quot;\n            app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/coverImage&quot;\n            app:layout_constraintTop_toTopOf=&quot;parent&quot;\n            app:layout_constraintVertical_bias=&quot;0.0&quot;\n            android:layout_marginLeft=&quot;16dp&quot; /&gt;\n        &lt;TextView\n            android:id=&quot;@+id/channelCountry&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_marginStart=&quot;16dp&quot;\n            android:layout_marginLeft=&quot;16dp&quot;\n            android:paddingTop=&quot;50dp&quot;\n            android:text=&quot;@string/country&quot;\n            app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n            app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n            app:layout_constraintStart_toEndOf=&quot;@+id/coverImage&quot;\n            app:layout_constraintTop_toBottomOf=&quot;@+id/songTitle&quot;\n            tools:ignore=&quot;UnknownId&quot; /&gt;\n    &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n&lt;/androidx.cardview.widget.CardView&gt;\n\n&lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;\n</code></pre>\n<p>and the Adapter class:</p>\n<pre><code>public class Adapter extends RecyclerView.Adapter&lt;Adapter.ViewHolder&gt;  {\nLayoutInflater inflater;\nList&lt;Channels&gt; channels;\npublic Adapter(Context ctx, List&lt;Channels&gt; channels){\n    this.inflater = LayoutInflater.from(ctx);\n    this.channels = channels;    }\n\n@NonNull\n@Override\npublic ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType)  {\n    View view = inflater.inflate(R.layout.custom_channels, parent, false);\n    return new ViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull ViewHolder holder, \n@SuppressLint(&quot;RecyclerView&quot;) int position) {\n    holder.channelName.setText(channels.get(position).getName());\n    holder.channelCountry.setText(channels.get(position).getCountry());       \nPicasso.get().load(channels.get(position).getCoverImg()).into(holder.channelImage);\n    holder.itemView.setId(position);\n}\n\n\n@Override\npublic int getItemCount() {\n    return channels.size();\n}\n\n\npublic class ViewHolder extends RecyclerView.ViewHolder {\n    TextView channelName, channelCountry, streamUrl;\n    ImageView channelImage;\n    public ViewHolder(@NonNull View itemView) {\n        super(itemView);\n        channelName = itemView.findViewById(R.id.channelName);\n        channelCountry = itemView.findViewById(R.id.channelCountry);\n        channelImage = itemView.findViewById(R.id.coverImage);\n        streamUrl = itemView.findViewById(R.id.streamURL);\n\n    }\n  }\n\n }\n</code></pre>\n<p>I came to you, because after days of struggling, I didn't find the solution here or on Google. the weird part, this app works fine on the emulator\nThank you in advance</p>\n"},{"tags":["java","spring","spring-boot","unit-testing"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635901262,"post_id":69818545,"comment_id":123414605,"body_markdown":"Please add the full stack trace of the exception to your question.","body":"Please add the full stack trace of the exception to your question."},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1635901334,"post_id":69818545,"comment_id":123414615,"body_markdown":"But the problem is that you are not providing `EncryptedPassword` with a `PasswordUtil` instance.","body":"But the problem is that you are not providing <code>EncryptedPassword</code> with a <code>PasswordUtil</code> instance."}],"answers":[{"tags":[],"owner":{"account_id":11540925,"reputation":56,"user_id":8456659,"display_name":"indhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635902003,"creation_date":1635902003,"answer_id":69818611,"question_id":69818545,"body_markdown":"you have used @Autowired annotation to initialise PasswordUtil.But it seems no where its initialised properly in your test.If you going to follow spring convention use @Autowired with @Component or @Service and Mock your classes accordingly.Or else simply use constructor injection. ","title":"Java Null Pointer Exception failure on unit test after changing a variable type to a reference type","body":"<p>you have used @Autowired annotation to initialise PasswordUtil.But it seems no where its initialised properly in your test.If you going to follow spring convention use @Autowired with @Component or @Service and Mock your classes accordingly.Or else simply use constructor injection.</p>\n"}],"owner":{"account_id":22760990,"reputation":11,"user_id":16919823,"display_name":"BNK"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1635922092,"answer_count":1,"score":0,"last_activity_date":1635902003,"creation_date":1635901144,"question_id":69818545,"body_markdown":"I have been trying to test a Java client but I keep getting Null Pointer Exception when trying to run the unit test. I cannot tell if it&#39;s coming from the test class or the class itself. \r\n\r\nThis test was working previously, and the only change I added was swapping out the password type from regular String to now an updated type of EncryptedPassword.\r\n\r\nI have tried looking through similar questions posted and understanding the difference between primitive types and reference types, but I can&#39;t get it to work still. \r\n\r\n\r\nMenuClient\r\n```\r\npublic class MenuRestClient extends RestClient {\r\n    \r\n    private String host;\r\n    private String username;\r\n    private EncryptedPassword password;\r\n\r\n    public MenuRestClient(String host) {\r\n        this.host = host;\r\n        this.username = null;\r\n        this.password = null;\r\n    }\r\n\r\n    public MenuRestClient credentials(String user, EncryptedPassword pass) {\r\n        this.username = user;\r\n        this.password = pass;\r\n        return this;\r\n    }\r\n}\r\n```\r\n\r\nMenuClientTest\r\n```\r\npublic class MenuRestClientTest {\r\n    private static String host;\r\n    private static String user;\r\n    private static String pass;\r\n\r\n    @BeforeAll\r\n    public static void setup() {\r\n        host = &quot;host&quot;;\r\n        user = &quot;user&quot;;\r\n        pass = &quot;test123&quot;;\r\n    }\r\n\r\n    @Test \r\n    void queryNumberOfItems() throws Exception {\r\n        MenuRestClient client = new MenuRestClient(host).credentials(user, new EncryptedPassword(pass));\r\n\r\n        final int items = client.getItems();\r\n        logger.info(&quot;Found {} items&quot;, items);\r\n    }\r\n}\r\n```\r\n\r\nEncryptedPassword\r\n```\r\npublic class EncryptedPassword {\r\n    \r\n    private String encryptedPass;\r\n\r\n    @Autowired\r\n    private PasswordUtil passwordUtil;\r\n\r\n    public EncryptedPassword (String encryptedString) {\r\n        encryptedPass = encryptedString;\r\n    }\r\n\r\n    public String decrypt() {\r\n        return new String(passwordUtil.convert(new Base64().decode(encryptedPass)), Charsets.UTF_8);\r\n    }\r\n}\r\n```","title":"Java Null Pointer Exception failure on unit test after changing a variable type to a reference type","body":"<p>I have been trying to test a Java client but I keep getting Null Pointer Exception when trying to run the unit test. I cannot tell if it's coming from the test class or the class itself.</p>\n<p>This test was working previously, and the only change I added was swapping out the password type from regular String to now an updated type of EncryptedPassword.</p>\n<p>I have tried looking through similar questions posted and understanding the difference between primitive types and reference types, but I can't get it to work still.</p>\n<p>MenuClient</p>\n<pre><code>public class MenuRestClient extends RestClient {\n    \n    private String host;\n    private String username;\n    private EncryptedPassword password;\n\n    public MenuRestClient(String host) {\n        this.host = host;\n        this.username = null;\n        this.password = null;\n    }\n\n    public MenuRestClient credentials(String user, EncryptedPassword pass) {\n        this.username = user;\n        this.password = pass;\n        return this;\n    }\n}\n</code></pre>\n<p>MenuClientTest</p>\n<pre><code>public class MenuRestClientTest {\n    private static String host;\n    private static String user;\n    private static String pass;\n\n    @BeforeAll\n    public static void setup() {\n        host = &quot;host&quot;;\n        user = &quot;user&quot;;\n        pass = &quot;test123&quot;;\n    }\n\n    @Test \n    void queryNumberOfItems() throws Exception {\n        MenuRestClient client = new MenuRestClient(host).credentials(user, new EncryptedPassword(pass));\n\n        final int items = client.getItems();\n        logger.info(&quot;Found {} items&quot;, items);\n    }\n}\n</code></pre>\n<p>EncryptedPassword</p>\n<pre><code>public class EncryptedPassword {\n    \n    private String encryptedPass;\n\n    @Autowired\n    private PasswordUtil passwordUtil;\n\n    public EncryptedPassword (String encryptedString) {\n        encryptedPass = encryptedString;\n    }\n\n    public String decrypt() {\n        return new String(passwordUtil.convert(new Base64().decode(encryptedPass)), Charsets.UTF_8);\n    }\n}\n</code></pre>\n"},{"tags":["java","java-8"],"answers":[{"tags":[],"owner":{"account_id":8760742,"reputation":2047,"user_id":13527856,"display_name":"MarcoLucidi"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1602612267,"creation_date":1602612267,"answer_id":64340730,"question_id":64340084,"body_markdown":"assuming you are running Ubuntu (it&#39;s the same for Debian), sources for `openjdk-8` are in the package [`openjdk-8-source`](https://packages.ubuntu.com/focal/openjdk-8-source).\r\n\r\nif you look at the [filelist](https://packages.ubuntu.com/focal/all/openjdk-8-source/filelist) of the package, you will find:\r\n\r\n    /usr/lib/jvm/openjdk-8/src.zip\r\n\r\nthe package can be installed in the usual way:\r\n\r\n    sudo apt-get install openjdk-8-source","title":"openjdk-8-jdk - missing src.zip?","body":"<p>assuming you are running Ubuntu (it's the same for Debian), sources for <code>openjdk-8</code> are in the package <a href=\"https://packages.ubuntu.com/focal/openjdk-8-source\" rel=\"noreferrer\"><code>openjdk-8-source</code></a>.</p>\n<p>if you look at the <a href=\"https://packages.ubuntu.com/focal/all/openjdk-8-source/filelist\" rel=\"noreferrer\">filelist</a> of the package, you will find:</p>\n<pre><code>/usr/lib/jvm/openjdk-8/src.zip\n</code></pre>\n<p>the package can be installed in the usual way:</p>\n<pre><code>sudo apt-get install openjdk-8-source\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1448327,"reputation":131,"user_id":1366087,"display_name":"sc30"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1635901981,"creation_date":1635901981,"answer_id":69818608,"question_id":64340084,"body_markdown":"if you are in centos, then use\r\n\r\n    sudo yum install java-1.8.0-openjdk-src","title":"openjdk-8-jdk - missing src.zip?","body":"<p>if you are in centos, then use</p>\n<pre><code>sudo yum install java-1.8.0-openjdk-src\n</code></pre>\n"}],"owner":{"display_name":"user14305942"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1981,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":64340730,"answer_count":2,"score":3,"last_activity_date":1635901981,"creation_date":1602609650,"question_id":64340084,"body_markdown":"Below is the required info - \r\n\r\n    apt list  | grep installed | grep -i openjdk-8-jdk\r\n    \r\n    WARNING: apt does not have a stable CLI interface. Use with caution in scripts.\r\n    \r\n    openjdk-8-jdk-headless/focal-security,focal-security,now 8u265-b01-0ubuntu2~20.04 amd64 [installed,automatic]\r\n    openjdk-8-jdk/focal-security,focal-security,now 8u265-b01-0ubuntu2~20.04 amd64 [installed]\r\n\r\nTo query the installed binaries, i tried below -\r\n\r\n    $ dpkg -L openjdk-8-jdk\r\n    /.\r\n    /usr\r\n    /usr/lib\r\n    /usr/lib/jvm\r\n    /usr/lib/jvm/java-8-openjdk-amd64\r\n    /usr/lib/jvm/java-8-openjdk-amd64/bin\r\n    /usr/lib/jvm/java-8-openjdk-amd64/bin/appletviewer\r\n    /usr/lib/jvm/java-8-openjdk-amd64/bin/jconsole\r\n    /usr/lib/jvm/java-8-openjdk-amd64/include\r\n    /usr/lib/jvm/java-8-openjdk-amd64/include/jawt.h\r\n    /usr/lib/jvm/java-8-openjdk-amd64/include/linux\r\n    /usr/lib/jvm/java-8-openjdk-amd64/include/linux/jawt_md.h\r\n    /usr/lib/jvm/java-8-openjdk-amd64/lib\r\n    /usr/lib/jvm/java-8-openjdk-amd64/lib/jconsole.jar\r\n    /usr/lib/jvm/java-8-openjdk-amd64/man\r\n    /usr/lib/jvm/java-8-openjdk-amd64/man/ja_JP.UTF-8\r\n    /usr/lib/jvm/java-8-openjdk-amd64/man/ja_JP.UTF-8/man1\r\n    /usr/lib/jvm/java-8-openjdk-amd64/man/ja_JP.UTF-8/man1/appletviewer.1.gz\r\n    /usr/lib/jvm/java-8-openjdk-amd64/man/ja_JP.UTF-8/man1/jconsole.1.gz\r\n    /usr/lib/jvm/java-8-openjdk-amd64/man/man1\r\n    /usr/lib/jvm/java-8-openjdk-amd64/man/man1/appletviewer.1.gz\r\n    /usr/lib/jvm/java-8-openjdk-amd64/man/man1/jconsole.1.gz\r\n    /usr/share\r\n    /usr/share/doc\r\n    /usr/share/doc/openjdk-8-jre-headless\r\n    /usr/share/doc/openjdk-8-jre-headless/test-amd64\r\n    /usr/share/doc/openjdk-8-jre-headless/test-amd64/check-hotspot-hotspot.log.gz\r\n    /usr/share/doc/openjdk-8-jre-headless/test-amd64/check-jdk-hotspot.log.gz\r\n    /usr/share/doc/openjdk-8-jre-headless/test-amd64/check-langtools-hotspot.log.gz\r\n    /usr/share/doc/openjdk-8-jre-headless/test-amd64/failed_tests-hotspot.tar.gz\r\n    /usr/share/doc/openjdk-8-jre-headless/test-amd64/jtreg-summary-hotspot.log.gz\r\n    /usr/share/doc/openjdk-8-jre-headless/test-amd64/jtreport-hotspot.tar.gz\r\n    /usr/share/doc/openjdk-8-jdk\r\n\r\n**On looking in to the `jvm/java-8-openjdk-amd64` directory, I see the link for `src.zip` is broken**\r\n\r\n    $ ll\r\n    total 28\r\n    drwxr-xr-x 7 root root 4096 Sep  6 20:44 ./\r\n    drwxr-xr-x 3 root root 4096 Sep  6 20:43 ../\r\n    lrwxrwxrwx 1 root root   22 Aug  3 06:46 ASSEMBLY_EXCEPTION -&gt; jre/ASSEMBLY_EXCEPTION\r\n    drwxr-xr-x 2 root root 4096 Sep  6 20:44 bin/\r\n    lrwxrwxrwx 1 root root   41 Aug  3 06:46 docs -&gt; ../../../share/doc/openjdk-8-jre-headless/\r\n    drwxr-xr-x 3 root root 4096 Sep  6 20:44 include/\r\n    drwxr-xr-x 5 root root 4096 Sep  6 20:43 jre/\r\n    drwxr-xr-x 3 root root 4096 Sep  6 20:44 lib/\r\n    drwxr-xr-x 4 root root 4096 Sep  6 20:43 man/\r\n    lrwxrwxrwx 1 root root   20 Aug  3 06:46 src.zip -&gt; ../openjdk-8/src.zip  //this is in red i.e. broken\r\n    lrwxrwxrwx 1 root root   22 Aug  3 06:46 THIRD_PARTY_README -&gt; jre/THIRD_PARTY_README\r\n \r\nNow how do i get the sources, i think i can get them manually - is this the only option I am left with??","title":"openjdk-8-jdk - missing src.zip?","body":"<p>Below is the required info -</p>\n<pre><code>apt list  | grep installed | grep -i openjdk-8-jdk\n\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts.\n\nopenjdk-8-jdk-headless/focal-security,focal-security,now 8u265-b01-0ubuntu2~20.04 amd64 [installed,automatic]\nopenjdk-8-jdk/focal-security,focal-security,now 8u265-b01-0ubuntu2~20.04 amd64 [installed]\n</code></pre>\n<p>To query the installed binaries, i tried below -</p>\n<pre><code>$ dpkg -L openjdk-8-jdk\n/.\n/usr\n/usr/lib\n/usr/lib/jvm\n/usr/lib/jvm/java-8-openjdk-amd64\n/usr/lib/jvm/java-8-openjdk-amd64/bin\n/usr/lib/jvm/java-8-openjdk-amd64/bin/appletviewer\n/usr/lib/jvm/java-8-openjdk-amd64/bin/jconsole\n/usr/lib/jvm/java-8-openjdk-amd64/include\n/usr/lib/jvm/java-8-openjdk-amd64/include/jawt.h\n/usr/lib/jvm/java-8-openjdk-amd64/include/linux\n/usr/lib/jvm/java-8-openjdk-amd64/include/linux/jawt_md.h\n/usr/lib/jvm/java-8-openjdk-amd64/lib\n/usr/lib/jvm/java-8-openjdk-amd64/lib/jconsole.jar\n/usr/lib/jvm/java-8-openjdk-amd64/man\n/usr/lib/jvm/java-8-openjdk-amd64/man/ja_JP.UTF-8\n/usr/lib/jvm/java-8-openjdk-amd64/man/ja_JP.UTF-8/man1\n/usr/lib/jvm/java-8-openjdk-amd64/man/ja_JP.UTF-8/man1/appletviewer.1.gz\n/usr/lib/jvm/java-8-openjdk-amd64/man/ja_JP.UTF-8/man1/jconsole.1.gz\n/usr/lib/jvm/java-8-openjdk-amd64/man/man1\n/usr/lib/jvm/java-8-openjdk-amd64/man/man1/appletviewer.1.gz\n/usr/lib/jvm/java-8-openjdk-amd64/man/man1/jconsole.1.gz\n/usr/share\n/usr/share/doc\n/usr/share/doc/openjdk-8-jre-headless\n/usr/share/doc/openjdk-8-jre-headless/test-amd64\n/usr/share/doc/openjdk-8-jre-headless/test-amd64/check-hotspot-hotspot.log.gz\n/usr/share/doc/openjdk-8-jre-headless/test-amd64/check-jdk-hotspot.log.gz\n/usr/share/doc/openjdk-8-jre-headless/test-amd64/check-langtools-hotspot.log.gz\n/usr/share/doc/openjdk-8-jre-headless/test-amd64/failed_tests-hotspot.tar.gz\n/usr/share/doc/openjdk-8-jre-headless/test-amd64/jtreg-summary-hotspot.log.gz\n/usr/share/doc/openjdk-8-jre-headless/test-amd64/jtreport-hotspot.tar.gz\n/usr/share/doc/openjdk-8-jdk\n</code></pre>\n<p><strong>On looking in to the <code>jvm/java-8-openjdk-amd64</code> directory, I see the link for <code>src.zip</code> is broken</strong></p>\n<pre><code>$ ll\ntotal 28\ndrwxr-xr-x 7 root root 4096 Sep  6 20:44 ./\ndrwxr-xr-x 3 root root 4096 Sep  6 20:43 ../\nlrwxrwxrwx 1 root root   22 Aug  3 06:46 ASSEMBLY_EXCEPTION -&gt; jre/ASSEMBLY_EXCEPTION\ndrwxr-xr-x 2 root root 4096 Sep  6 20:44 bin/\nlrwxrwxrwx 1 root root   41 Aug  3 06:46 docs -&gt; ../../../share/doc/openjdk-8-jre-headless/\ndrwxr-xr-x 3 root root 4096 Sep  6 20:44 include/\ndrwxr-xr-x 5 root root 4096 Sep  6 20:43 jre/\ndrwxr-xr-x 3 root root 4096 Sep  6 20:44 lib/\ndrwxr-xr-x 4 root root 4096 Sep  6 20:43 man/\nlrwxrwxrwx 1 root root   20 Aug  3 06:46 src.zip -&gt; ../openjdk-8/src.zip  //this is in red i.e. broken\nlrwxrwxrwx 1 root root   22 Aug  3 06:46 THIRD_PARTY_README -&gt; jre/THIRD_PARTY_README\n</code></pre>\n<p>Now how do i get the sources, i think i can get them manually - is this the only option I am left with??</p>\n"},{"tags":["java","gradle","twilio"],"answers":[{"tags":[],"owner":{"account_id":13978,"reputation":71446,"user_id":28376,"accept_rate":86,"display_name":"philnash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635901498,"creation_date":1635901498,"answer_id":69818572,"question_id":69783106,"body_markdown":"Twilio developer evangelist here.\r\n\r\nI am concerned with how you shared these lines:\r\n\r\n```java\r\n    public static final String ACCOUNT_SID = System.getenv(&quot;HiddenForPrivacy&quot;);\r\n    public static final String AUTH_TOKEN = System.getenv(&quot;HiddenForPrivacy&quot;);\r\n```\r\n\r\nYou should not have to hide the key in these lines. Instead, you should set your Account SID and Auth Token as environment variables called `ACCOUNT_SID` and `AUTH_TOKEN` and then your code should look like:\r\n\r\n```java\r\n    public static final String ACCOUNT_SID = System.getenv(&quot;ACCOUNT_SID&quot;);\r\n    public static final String AUTH_TOKEN = System.getenv(&quot;AUTH_TOKEN&quot;);\r\n```\r\n\r\nIf you have instead used the actual Account Sid and Auth Token in those calls, then my guess is that your code fails because they aren&#39;t set properly.\r\n\r\nI recommend reading this blog post on [working with environment variables in Java][1] for more detail.\r\n\r\n\r\n  [1]: https://www.twilio.com/blog/working-with-environment-variables-in-java","title":"Execution failed Twilio SMS (Java)","body":"<p>Twilio developer evangelist here.</p>\n<p>I am concerned with how you shared these lines:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static final String ACCOUNT_SID = System.getenv(&quot;HiddenForPrivacy&quot;);\n    public static final String AUTH_TOKEN = System.getenv(&quot;HiddenForPrivacy&quot;);\n</code></pre>\n<p>You should not have to hide the key in these lines. Instead, you should set your Account SID and Auth Token as environment variables called <code>ACCOUNT_SID</code> and <code>AUTH_TOKEN</code> and then your code should look like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public static final String ACCOUNT_SID = System.getenv(&quot;ACCOUNT_SID&quot;);\n    public static final String AUTH_TOKEN = System.getenv(&quot;AUTH_TOKEN&quot;);\n</code></pre>\n<p>If you have instead used the actual Account Sid and Auth Token in those calls, then my guess is that your code fails because they aren't set properly.</p>\n<p>I recommend reading this blog post on <a href=\"https://www.twilio.com/blog/working-with-environment-variables-in-java\" rel=\"nofollow noreferrer\">working with environment variables in Java</a> for more detail.</p>\n"}],"owner":{"account_id":23193581,"reputation":9,"user_id":17289568,"display_name":"Mark Mingo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":4,"up_vote_count":1,"answer_count":1,"score":-3,"last_activity_date":1635901498,"creation_date":1635640138,"question_id":69783106,"body_markdown":"I am trying to send SMS messages with Twilio. I have followed all the instructions and have JAVA_HOME environmental variable set up. When I run the program I get:\r\n\r\nExecution failed for task &#39;:StockAlertClass:SMS.main()&#39;.\r\n&gt; Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_212.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1\r\n\r\n* Try:\r\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n* Exception is:\r\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task &#39;:StockAlertClass:SMS.main()&#39;. &lt;36 internal calls&gt;\r\nCaused by: org.gradle.process.internal.ExecException: Process &#39;command &#39;/Library/Java/JavaVirtualMachines/jdk1.8.0_212.jdk/Contents/Home/bin/java&#39;&#39; finished with non-zero exit value 1&lt;98 internal calls&gt;\r\n\r\nMy java class is:\r\n```\r\nimport com.twilio.Twilio;\r\nimport com.twilio.rest.api.v2010.account.Message;\r\nimport com.twilio.type.PhoneNumber;\r\n\r\npublic class SMS {\r\n    // Find your Account SID and Auth Token at twilio.com/console\r\n    // and set the environment variables. See http://twil.io/secure\r\n    public static final String ACCOUNT_SID = System.getenv(&quot;HiddenForPrivacy&quot;);\r\n    public static final String AUTH_TOKEN = System.getenv(&quot;HiddenForPrivacy&quot;);\r\n\r\n    public static void Message() {\r\n        Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\r\n\r\n        Message message = Message.creator(new PhoneNumber(&quot;+HiddenForPrivacy&quot;),\r\n                new PhoneNumber(&quot;HiddenForPrivacy&quot;),\r\n                &quot;Test &quot;).create();\r\n\r\n        System.out.println(message.getSid());\r\n    }\r\n    public static void main(String[] args) {\r\n        Message();\r\n    }\r\n}\r\n```\r\nbuild.gradle is:\r\n```\r\nplugins {\r\n    id &#39;java&#39;\r\n}\r\n\r\ngroup &#39;org.example&#39;\r\nversion &#39;1.0-SNAPSHOT&#39;\r\n\r\nrepositories {\r\n    mavenCentral()\r\n    mavenLocal()\r\n}\r\nif (hasProperty(&#39;buildScan&#39;)) {\r\n    buildScan {\r\n        termsOfServiceUrl = &#39;https://gradle.com/terms-of-service&#39;\r\n        termsOfServiceAgree = &#39;yes&#39;\r\n    }\r\n}\r\n\r\ndependencies {\r\n    compile &#39;org.slf4j:slf4j-simple:1.6.+&#39;\r\n    compile &#39;com.sparkjava:spark-core:2.5.+&#39;\r\n    implementation group: &quot;com.twilio.sdk&quot;, name: &quot;twilio&quot;, version: &quot;8.21.0&quot;\r\n    testImplementation &#39;org.junit.jupiter:junit-jupiter-api:5.6.0&#39;\r\n    testRuntimeOnly &#39;org.junit.jupiter:junit-jupiter-engine&#39;\r\n    // https://mvnrepository.com/artifact/com.twilio.sdk/twilio\r\n    runtimeOnly group: &#39;com.twilio.sdk&#39;, name: &#39;twilio&#39;, version: &#39;8.21.0&#39;\r\n}\r\n\r\ntest {\r\n    useJUnitPlatform()\r\n}\r\n```","title":"Execution failed Twilio SMS (Java)","body":"<p>I am trying to send SMS messages with Twilio. I have followed all the instructions and have JAVA_HOME environmental variable set up. When I run the program I get:</p>\n<p>Execution failed for task ':StockAlertClass:SMS.main()'.</p>\n<blockquote>\n<p>Process 'command '/Library/Java/JavaVirtualMachines/jdk1.8.0_212.jdk/Contents/Home/bin/java'' finished with non-zero exit value 1</p>\n</blockquote>\n<ul>\n<li><p>Try:\nRun with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n</li>\n<li><p>Exception is:\norg.gradle.api.tasks.TaskExecutionException: Execution failed for task ':StockAlertClass:SMS.main()'. &lt;36 internal calls&gt;\nCaused by: org.gradle.process.internal.ExecException: Process 'command '/Library/Java/JavaVirtualMachines/jdk1.8.0_212.jdk/Contents/Home/bin/java'' finished with non-zero exit value 1&lt;98 internal calls&gt;</p>\n</li>\n</ul>\n<p>My java class is:</p>\n<pre><code>import com.twilio.Twilio;\nimport com.twilio.rest.api.v2010.account.Message;\nimport com.twilio.type.PhoneNumber;\n\npublic class SMS {\n    // Find your Account SID and Auth Token at twilio.com/console\n    // and set the environment variables. See http://twil.io/secure\n    public static final String ACCOUNT_SID = System.getenv(&quot;HiddenForPrivacy&quot;);\n    public static final String AUTH_TOKEN = System.getenv(&quot;HiddenForPrivacy&quot;);\n\n    public static void Message() {\n        Twilio.init(ACCOUNT_SID, AUTH_TOKEN);\n\n        Message message = Message.creator(new PhoneNumber(&quot;+HiddenForPrivacy&quot;),\n                new PhoneNumber(&quot;HiddenForPrivacy&quot;),\n                &quot;Test &quot;).create();\n\n        System.out.println(message.getSid());\n    }\n    public static void main(String[] args) {\n        Message();\n    }\n}\n</code></pre>\n<p>build.gradle is:</p>\n<pre><code>plugins {\n    id 'java'\n}\n\ngroup 'org.example'\nversion '1.0-SNAPSHOT'\n\nrepositories {\n    mavenCentral()\n    mavenLocal()\n}\nif (hasProperty('buildScan')) {\n    buildScan {\n        termsOfServiceUrl = 'https://gradle.com/terms-of-service'\n        termsOfServiceAgree = 'yes'\n    }\n}\n\ndependencies {\n    compile 'org.slf4j:slf4j-simple:1.6.+'\n    compile 'com.sparkjava:spark-core:2.5.+'\n    implementation group: &quot;com.twilio.sdk&quot;, name: &quot;twilio&quot;, version: &quot;8.21.0&quot;\n    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.6.0'\n    testRuntimeOnly 'org.junit.jupiter:junit-jupiter-engine'\n    // https://mvnrepository.com/artifact/com.twilio.sdk/twilio\n    runtimeOnly group: 'com.twilio.sdk', name: 'twilio', version: '8.21.0'\n}\n\ntest {\n    useJUnitPlatform()\n}\n</code></pre>\n"},{"tags":["java","android","jar","dex","dex2jar"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":1,"up_vote_count":10,"is_accepted":true,"score":9,"last_activity_date":1635901462,"creation_date":1368276686,"answer_id":16497279,"question_id":16497080,"body_markdown":"Make a copy of the `d2j-dex2jar.bat` file, and edit it.  Find the line that says this:\r\n\r\n    java -Xms512m -Xmx1024m -cp &quot;%CLASSPATH%&quot; \r\n                &quot;com.googlecode.dex2jar.tools.Dex2jarCmd&quot; %*\r\n\r\nChange the `-Xmx` parameter to give yourself a larger maxheap size.  Save it, and see if your modified BAT file works better.  (There isn&#39;t an elegant way to override the JVM settings in this script.)\r\n\r\n------------------\r\n\r\nApparently ... if you are using `dex2jar-2.0`, the file that you need to edit is `d2j_invoke.bat`.\r\n","title":"java heap size error dex2jar android decompile solution?","body":"<p>Make a copy of the <code>d2j-dex2jar.bat</code> file, and edit it.  Find the line that says this:</p>\n<pre><code>java -Xms512m -Xmx1024m -cp &quot;%CLASSPATH%&quot; \n            &quot;com.googlecode.dex2jar.tools.Dex2jarCmd&quot; %*\n</code></pre>\n<p>Change the <code>-Xmx</code> parameter to give yourself a larger maxheap size.  Save it, and see if your modified BAT file works better.  (There isn't an elegant way to override the JVM settings in this script.)</p>\n<hr />\n<p>Apparently ... if you are using <code>dex2jar-2.0</code>, the file that you need to edit is <code>d2j_invoke.bat</code>.</p>\n"},{"tags":[],"owner":{"account_id":12619874,"reputation":41,"user_id":9175804,"display_name":"Bravin Shi"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1519805067,"creation_date":1519804084,"answer_id":49024404,"question_id":16497080,"body_markdown":"if you use `dex2jar-2.0` ,you can find the line that says this:\r\n\r\n    \r\n\r\n&gt; java -Xms512m -Xmx1024m *******************************\r\n&gt;      in d2j_invoke.bat instead of d2j_dex2jar.bat","title":"java heap size error dex2jar android decompile solution?","body":"<p>if you use <code>dex2jar-2.0</code> ,you can find the line that says this:</p>\n\n<blockquote>\n  <p>java -Xms512m -Xmx1024m *******************************\n       in d2j_invoke.bat instead of d2j_dex2jar.bat</p>\n</blockquote>\n"}],"owner":{"account_id":215950,"reputation":156,"user_id":470892,"accept_rate":75,"display_name":"Anurag Dalia"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7352,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"accepted_answer_id":16497279,"answer_count":2,"score":5,"last_activity_date":1635901462,"creation_date":1368275275,"question_id":16497080,"body_markdown":"i was working on a android project but my laptop was formatted so i lost all code but i had a signed apk of the file on my phone .. whenever i try to use dex2jar it stops converting mid way with this error. how can i increase the heap size or is there another way out. can i decompile an apk with the key it was signed with \r\n\r\n    C:\\~dex2jar&gt;d2j-dex2jar --force\r\n    classes.dex\r\n    dex2jar classes.dex -&gt; classes-dex2jar.jar\r\n    Exception in thread &quot;main&quot; java.lang.OutOfMemoryError: Java heap space\r\n        at org.objectweb.asm.Type.getInternalName(Unknown Source)\r\n        at com.googlecode.dex2jar.v3.V3ClassAdapter.searchEnclosing(V3ClassAdapt\r\n    er.java:179)\r\n        at com.googlecode.dex2jar.v3.V3ClassAdapter.build(V3ClassAdapter.java:13\r\n    0)\r\n        at com.googlecode.dex2jar.v3.V3ClassAdapter.visitField(V3ClassAdapter.ja\r\n    va:303)\r\n        at com.googlecode.dex2jar.reader.DexFileReader.acceptField(DexFileReader\r\n    .java:603)\r\n        at com.googlecode.dex2jar.reader.DexFileReader.acceptClass(DexFileReader\r\n    .java:439)\r\n        at com.googlecode.dex2jar.reader.DexFileReader.accept(DexFileReader.java\r\n    :330)\r\n        at com.googlecode.dex2jar.v3.Dex2jar.doTranslate(Dex2jar.java:84)\r\n        at com.googlecode.dex2jar.v3.Dex2jar.to(Dex2jar.java:239)\r\n        at com.googlecode.dex2jar.v3.Dex2jar.to(Dex2jar.java:230)\r\n        at com.googlecode.dex2jar.tools.Dex2jarCmd.doCommandLine(Dex2jarCmd.java\r\n    :109)\r\n        at com.googlecode.dex2jar.tools.BaseCmd.doMain(BaseCmd.java:168)\r\n        at com.googlecode.dex2jar.tools.Dex2jarCmd.main(Dex2jarCmd.java:34)","title":"java heap size error dex2jar android decompile solution?","body":"<p>i was working on a android project but my laptop was formatted so i lost all code but i had a signed apk of the file on my phone .. whenever i try to use dex2jar it stops converting mid way with this error. how can i increase the heap size or is there another way out. can i decompile an apk with the key it was signed with </p>\n\n<pre><code>C:\\~dex2jar&gt;d2j-dex2jar --force\nclasses.dex\ndex2jar classes.dex -&gt; classes-dex2jar.jar\nException in thread \"main\" java.lang.OutOfMemoryError: Java heap space\n    at org.objectweb.asm.Type.getInternalName(Unknown Source)\n    at com.googlecode.dex2jar.v3.V3ClassAdapter.searchEnclosing(V3ClassAdapt\ner.java:179)\n    at com.googlecode.dex2jar.v3.V3ClassAdapter.build(V3ClassAdapter.java:13\n0)\n    at com.googlecode.dex2jar.v3.V3ClassAdapter.visitField(V3ClassAdapter.ja\nva:303)\n    at com.googlecode.dex2jar.reader.DexFileReader.acceptField(DexFileReader\n.java:603)\n    at com.googlecode.dex2jar.reader.DexFileReader.acceptClass(DexFileReader\n.java:439)\n    at com.googlecode.dex2jar.reader.DexFileReader.accept(DexFileReader.java\n:330)\n    at com.googlecode.dex2jar.v3.Dex2jar.doTranslate(Dex2jar.java:84)\n    at com.googlecode.dex2jar.v3.Dex2jar.to(Dex2jar.java:239)\n    at com.googlecode.dex2jar.v3.Dex2jar.to(Dex2jar.java:230)\n    at com.googlecode.dex2jar.tools.Dex2jarCmd.doCommandLine(Dex2jarCmd.java\n:109)\n    at com.googlecode.dex2jar.tools.BaseCmd.doMain(BaseCmd.java:168)\n    at com.googlecode.dex2jar.tools.Dex2jarCmd.main(Dex2jarCmd.java:34)\n</code></pre>\n"},{"tags":["java","spring","elasticsearch"],"comments":[{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1635780276,"post_id":69799030,"comment_id":123378552,"body_markdown":"You should post the Java class representing the ES document.  The answer is, it depends on how you are storing this data in ElasticSearch.","body":"You should post the Java class representing the ES document.  The answer is, it depends on how you are storing this data in ElasticSearch."},{"owner":{"account_id":14977854,"reputation":17,"user_id":12806180,"display_name":"MrGa"},"score":0,"creation_date":1635781808,"post_id":69799030,"comment_id":123379177,"body_markdown":"@TimBiegeleisen I added","body":"@TimBiegeleisen I added"},{"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1635781947,"post_id":69799030,"comment_id":123379223,"body_markdown":"One option here might be to just store all ingredients as a single text string.  This would still be searchable, and can be updated by removing a single ingredient.","body":"One option here might be to just store all ingredients as a single text string.  This would still be searchable, and can be updated by removing a single ingredient."}],"owner":{"account_id":14977854,"reputation":17,"user_id":12806180,"display_name":"MrGa"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635901115,"creation_date":1635780115,"question_id":69799030,"body_markdown":"Have a question about updating data.\r\nApologies in advance for this analogy.\r\n\r\n\r\nLet&#39;s imagine that there is a `List &lt;Object&gt;` of objects (for example, names of dishes)\r\nEach object has a `List &lt;String&gt;` field (list of ingredients)\r\n\r\nAnd let&#39;s say a case has arisen when a chef, depending on the country or laws, removes some ingredient from all dishes\r\n\r\nWhat to do in this case, if some of that record is already repeated in many dishes, or even in each?\r\nChecking each object and updating its `List &lt;String&gt;` is not an option since `O (n)` will take a very long time\r\n\r\n    public class SOME_CLASS_NAME {\r\n        @Field(type = Keyword)\r\n        private @Id\r\n        String dishId;\r\n    \r\n        @Field(type = Keyword)\r\n        private List&lt;String&gt; groups;\r\n    \r\n        @Field(type = Keyword)\r\n        private List&lt;String&gt; ingredients;\r\n    }","title":"Updating data in ElasticSearch","body":"<p>Have a question about updating data.\nApologies in advance for this analogy.</p>\n<p>Let's imagine that there is a <code>List &lt;Object&gt;</code> of objects (for example, names of dishes)\nEach object has a <code>List &lt;String&gt;</code> field (list of ingredients)</p>\n<p>And let's say a case has arisen when a chef, depending on the country or laws, removes some ingredient from all dishes</p>\n<p>What to do in this case, if some of that record is already repeated in many dishes, or even in each?\nChecking each object and updating its <code>List &lt;String&gt;</code> is not an option since <code>O (n)</code> will take a very long time</p>\n<pre><code>public class SOME_CLASS_NAME {\n    @Field(type = Keyword)\n    private @Id\n    String dishId;\n\n    @Field(type = Keyword)\n    private List&lt;String&gt; groups;\n\n    @Field(type = Keyword)\n    private List&lt;String&gt; ingredients;\n}\n</code></pre>\n"},{"tags":["java","postgresql","apache-spark"],"comments":[{"owner":{"account_id":23184647,"reputation":1,"user_id":17281965,"display_name":"Sukhrob"},"score":0,"creation_date":1635600850,"post_id":69772823,"comment_id":123344789,"body_markdown":"Thanks for correcting my grammar mistakes. But I didn&#39;t ask for it. I need specific solutions","body":"Thanks for correcting my grammar mistakes. But I didn&#39;t ask for it. I need specific solutions"}],"answers":[{"tags":[],"owner":{"account_id":3859079,"reputation":2069,"user_id":3197244,"accept_rate":50,"display_name":"jgp"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635901024,"creation_date":1635901024,"answer_id":69818531,"question_id":69772823,"body_markdown":"Several observations:\r\n\r\n 1. I don’t know how you measure your timings, but if you copy all the data in Spark, then query, it will be slower than just query the data in PostgreSQL. It would be interesting to measure where time is spent. \r\n\r\n 2. You can push the ingestion SELECT statement to PostgreSQL, so you don’t have to copy all the data to Spark, have a look at: https://github.com/jgperrin/net.jgp.books.spark.ch08/blob/master/src/main/java/net/jgp/books/spark/ch08/lab300_advanced_queries/MySQLWithWhereClauseToDatasetApp.java. \r\n\r\n 3. If you want to experiment with caching and checkpoiting, which are ways to increase performance, look at https://github.com/jgperrin/net.jgp.books.spark.ch16, it should give you a good framework for evaluating optimization. \r\n\r\n 4. I am not sure you need to tweak with persist to disk, it may slow things down here:\r\n\r\n      dsRow.persist(StorageLevel.DISK_ONLY());","title":"How to correctly use Spark SQL caching in Java?","body":"<p>Several observations:</p>\n<ol>\n<li><p>I don’t know how you measure your timings, but if you copy all the data in Spark, then query, it will be slower than just query the data in PostgreSQL. It would be interesting to measure where time is spent.</p>\n</li>\n<li><p>You can push the ingestion SELECT statement to PostgreSQL, so you don’t have to copy all the data to Spark, have a look at: <a href=\"https://github.com/jgperrin/net.jgp.books.spark.ch08/blob/master/src/main/java/net/jgp/books/spark/ch08/lab300_advanced_queries/MySQLWithWhereClauseToDatasetApp.java\" rel=\"nofollow noreferrer\">https://github.com/jgperrin/net.jgp.books.spark.ch08/blob/master/src/main/java/net/jgp/books/spark/ch08/lab300_advanced_queries/MySQLWithWhereClauseToDatasetApp.java</a>.</p>\n</li>\n<li><p>If you want to experiment with caching and checkpoiting, which are ways to increase performance, look at <a href=\"https://github.com/jgperrin/net.jgp.books.spark.ch16\" rel=\"nofollow noreferrer\">https://github.com/jgperrin/net.jgp.books.spark.ch16</a>, it should give you a good framework for evaluating optimization.</p>\n</li>\n<li><p>I am not sure you need to tweak with persist to disk, it may slow things down here:</p>\n<p>dsRow.persist(StorageLevel.DISK_ONLY());</p>\n</li>\n</ol>\n"}],"owner":{"account_id":23184647,"reputation":1,"user_id":17281965,"display_name":"Sukhrob"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635901024,"creation_date":1635529049,"question_id":69772823,"body_markdown":"I have a table of 40 million labels. I am running a Spark SQL query on Java in the following view. I am using disk caching, still the query is slower than a simple postgres query. Please correct my error if someone encountered such problems.\r\n```\r\nSparkSession ss = SparkSession\r\n        .builder()\r\n        .master(&quot;local&quot;)\r\n        .appName(&quot;Sql spark session&quot;)\r\n        .getOrCreate();\r\nDataset&lt;Row&gt; dsRow = ss.read().format(&quot;jdbc&quot;).option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;)\r\n        .option(&quot;url&quot;, &quot;jdbc:postgresql://localhost:5433/db_name&quot;)\r\n        .option(&quot;dbtable&quot;, &quot;tb_name&quot;)\r\n        .option(&quot;user&quot;, &quot;postgres&quot;)\r\n        .option(&quot;password&quot;, &quot;456&quot;)\r\n        .load();\r\ndsRow.createOrReplaceTempView(&quot;people&quot;);\r\ndsRow.persist(StorageLevel.DISK_ONLY());\r\nDataset&lt;Row&gt; dsRowSql = ss.sql(&quot;select * from people where firstname like &#39;fi%s%n%m%&#39; and surname like &#39;s%rn%me&#39;&quot;);\r\ndsRowSql.show();\r\n```","title":"How to correctly use Spark SQL caching in Java?","body":"<p>I have a table of 40 million labels. I am running a Spark SQL query on Java in the following view. I am using disk caching, still the query is slower than a simple postgres query. Please correct my error if someone encountered such problems.</p>\n<pre><code>SparkSession ss = SparkSession\n        .builder()\n        .master(&quot;local&quot;)\n        .appName(&quot;Sql spark session&quot;)\n        .getOrCreate();\nDataset&lt;Row&gt; dsRow = ss.read().format(&quot;jdbc&quot;).option(&quot;driver&quot;, &quot;org.postgresql.Driver&quot;)\n        .option(&quot;url&quot;, &quot;jdbc:postgresql://localhost:5433/db_name&quot;)\n        .option(&quot;dbtable&quot;, &quot;tb_name&quot;)\n        .option(&quot;user&quot;, &quot;postgres&quot;)\n        .option(&quot;password&quot;, &quot;456&quot;)\n        .load();\ndsRow.createOrReplaceTempView(&quot;people&quot;);\ndsRow.persist(StorageLevel.DISK_ONLY());\nDataset&lt;Row&gt; dsRowSql = ss.sql(&quot;select * from people where firstname like 'fi%s%n%m%' and surname like 's%rn%me'&quot;);\ndsRowSql.show();\n</code></pre>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":4165150,"reputation":3628,"user_id":3414257,"accept_rate":80,"display_name":"panoet"},"score":0,"creation_date":1572917239,"post_id":48950580,"comment_id":103702146,"body_markdown":"Does your updated code works?","body":"Does your updated code works?"},{"owner":{"account_id":4771324,"reputation":2780,"user_id":3855999,"accept_rate":64,"display_name":"el323"},"score":1,"creation_date":1572941252,"post_id":48950580,"comment_id":103708152,"body_markdown":"@panoet yes it does","body":"@panoet yes it does"},{"owner":{"account_id":4165150,"reputation":3628,"user_id":3414257,"accept_rate":80,"display_name":"panoet"},"score":0,"creation_date":1572942482,"post_id":48950580,"comment_id":103708713,"body_markdown":"Thank you. Its saving my time.","body":"Thank you. Its saving my time."}],"answers":[{"tags":[],"owner":{"account_id":255165,"reputation":3162,"user_id":535024,"accept_rate":88,"display_name":"codejitsu"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1540444568,"creation_date":1519398275,"answer_id":48950756,"question_id":48950580,"body_markdown":"You can use `branch` method in order to split your stream. This method takes predicates for splitting the source stream into several streams.\r\n\r\nThe code below is taken from [kafka-streams-examples](https://github.com/confluentinc/kafka-streams-examples):\r\n\r\n    KStream&lt;String, OrderValue&gt;[] forks = ordersWithTotals.branch(\r\n        (id, orderValue) -&gt; orderValue.getValue() &gt;= FRAUD_LIMIT,\r\n        (id, orderValue) -&gt; orderValue.getValue() &lt; FRAUD_LIMIT);\r\n\r\n    forks[0].mapValues(\r\n        orderValue -&gt; new OrderValidation(orderValue.getOrder().getId(), FRAUD_CHECK, FAIL))\r\n        .to(ORDER_VALIDATIONS.name(), Produced\r\n            .with(ORDER_VALIDATIONS.keySerde(), ORDER_VALIDATIONS.valueSerde()));\r\n\r\n    forks[1].mapValues(\r\n        orderValue -&gt; new OrderValidation(orderValue.getOrder().getId(), FRAUD_CHECK, PASS))\r\n        .to(ORDER_VALIDATIONS.name(), Produced\r\n      .with(ORDER_VALIDATIONS.keySerde(), ORDER_VALIDATIONS.valueSerde()));\r\n\r\n","title":"Kafka Streams - Send on different topics depending on Streams Data","body":"<p>You can use <code>branch</code> method in order to split your stream. This method takes predicates for splitting the source stream into several streams.</p>\n\n<p>The code below is taken from <a href=\"https://github.com/confluentinc/kafka-streams-examples\" rel=\"noreferrer\">kafka-streams-examples</a>:</p>\n\n<pre><code>KStream&lt;String, OrderValue&gt;[] forks = ordersWithTotals.branch(\n    (id, orderValue) -&gt; orderValue.getValue() &gt;= FRAUD_LIMIT,\n    (id, orderValue) -&gt; orderValue.getValue() &lt; FRAUD_LIMIT);\n\nforks[0].mapValues(\n    orderValue -&gt; new OrderValidation(orderValue.getOrder().getId(), FRAUD_CHECK, FAIL))\n    .to(ORDER_VALIDATIONS.name(), Produced\n        .with(ORDER_VALIDATIONS.keySerde(), ORDER_VALIDATIONS.valueSerde()));\n\nforks[1].mapValues(\n    orderValue -&gt; new OrderValidation(orderValue.getOrder().getId(), FRAUD_CHECK, PASS))\n    .to(ORDER_VALIDATIONS.name(), Produced\n  .with(ORDER_VALIDATIONS.keySerde(), ORDER_VALIDATIONS.valueSerde()));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":892837,"reputation":442,"user_id":930779,"display_name":"Ivan Ponomarev"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1635900688,"creation_date":1549997574,"answer_id":54656841,"question_id":48950580,"body_markdown":"The original `KStream.branch` method is inconvenient because of mixed arrays and generics, and because it forces one to use &#39;magic numbers&#39; to extract the right branch from the result (see e.g. [KAFKA-5488](https://issues.apache.org/jira/browse/KAFKA-5488) issue). Starting from [spring-kafka](https://spring.io/projects/spring-kafka) 2.2.4, [KafkaStreamBrancher](https://docs.spring.io/spring-kafka/docs/2.5.1.BUILD-SNAPSHOT/api/org/springframework/kafka/support/KafkaStreamBrancher.html) class is available. With it, more convenient branching is possible:\r\n\r\n```java\r\n        \r\nnew KafkaStreamBrancher&lt;String, String&gt;()\r\n    .branch((key, value) -&gt; value.contains(&quot;A&quot;), ks-&gt;ks.to(&quot;A&quot;))\r\n    .branch((key, value) -&gt; value.contains(&quot;B&quot;), ks-&gt;ks.to(&quot;B&quot;))\r\n    .defaultBranch(ks-&gt;ks.to(&quot;C&quot;))\r\n    .onTopOf(builder.stream(&quot;source&quot;))\r\n    //onTopOf returns the provided stream so we can continue with method chaining \r\n    //and do something more with the original stream\r\n```\r\n\r\nThere is also [KIP-418](https://cwiki.apache.org/confluence/display/KAFKA/KIP-418%3A+A+method-chaining+way+to+branch+KStream), so a there is also a chance that branching will be improved in Kafka itself in further releases.","title":"Kafka Streams - Send on different topics depending on Streams Data","body":"<p>The original <code>KStream.branch</code> method is inconvenient because of mixed arrays and generics, and because it forces one to use 'magic numbers' to extract the right branch from the result (see e.g. <a href=\"https://issues.apache.org/jira/browse/KAFKA-5488\" rel=\"nofollow noreferrer\">KAFKA-5488</a> issue). Starting from <a href=\"https://spring.io/projects/spring-kafka\" rel=\"nofollow noreferrer\">spring-kafka</a> 2.2.4, <a href=\"https://docs.spring.io/spring-kafka/docs/2.5.1.BUILD-SNAPSHOT/api/org/springframework/kafka/support/KafkaStreamBrancher.html\" rel=\"nofollow noreferrer\">KafkaStreamBrancher</a> class is available. With it, more convenient branching is possible:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        \nnew KafkaStreamBrancher&lt;String, String&gt;()\n    .branch((key, value) -&gt; value.contains(&quot;A&quot;), ks-&gt;ks.to(&quot;A&quot;))\n    .branch((key, value) -&gt; value.contains(&quot;B&quot;), ks-&gt;ks.to(&quot;B&quot;))\n    .defaultBranch(ks-&gt;ks.to(&quot;C&quot;))\n    .onTopOf(builder.stream(&quot;source&quot;))\n    //onTopOf returns the provided stream so we can continue with method chaining \n    //and do something more with the original stream\n</code></pre>\n<p>There is also <a href=\"https://cwiki.apache.org/confluence/display/KAFKA/KIP-418%3A+A+method-chaining+way+to+branch+KStream\" rel=\"nofollow noreferrer\">KIP-418</a>, so a there is also a chance that branching will be improved in Kafka itself in further releases.</p>\n"},{"tags":[],"owner":{"account_id":287567,"reputation":583,"user_id":587461,"display_name":"Rafael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1570111196,"creation_date":1570111196,"answer_id":58220776,"question_id":48950580,"body_markdown":"Another possibility is routing the event dynamically using a _TopicNameExtractor_:\r\n\r\nhttps://www.confluent.io/blog/putting-events-in-their-place-with-dynamic-routing\r\n\r\nyou would need to have created the topics in advance though, \r\n\r\n    val outputTopic: TopicNameExtractor[String, String] = (_, value: String, _) =&gt; defineOutputTopic(value)\r\n\r\n    builder\r\n      .stream[String, String](inputTopic)\r\n      .to(outputTopic)\r\n\r\nand _defineOutputTopic_ can return one of a defined set of topics given the value (or key or record context for that matter).\r\nPD: sorry for the scala code, in the link there is a Java example. ","title":"Kafka Streams - Send on different topics depending on Streams Data","body":"<p>Another possibility is routing the event dynamically using a <em>TopicNameExtractor</em>:</p>\n\n<p><a href=\"https://www.confluent.io/blog/putting-events-in-their-place-with-dynamic-routing\" rel=\"nofollow noreferrer\">https://www.confluent.io/blog/putting-events-in-their-place-with-dynamic-routing</a></p>\n\n<p>you would need to have created the topics in advance though, </p>\n\n<pre><code>val outputTopic: TopicNameExtractor[String, String] = (_, value: String, _) =&gt; defineOutputTopic(value)\n\nbuilder\n  .stream[String, String](inputTopic)\n  .to(outputTopic)\n</code></pre>\n\n<p>and <em>defineOutputTopic</em> can return one of a defined set of topics given the value (or key or record context for that matter).\nPD: sorry for the scala code, in the link there is a Java example. </p>\n"}],"owner":{"account_id":4771324,"reputation":2780,"user_id":3855999,"accept_rate":64,"display_name":"el323"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":20094,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"accepted_answer_id":48950756,"answer_count":3,"score":12,"last_activity_date":1635900688,"creation_date":1519397759,"question_id":48950580,"body_markdown":"I have a kafka streams application waiting for records to be published on topic `user_activity`. It will receive json data and depending on the value of against a key I want to push that stream into different topics.\r\n\r\nThis is my streams App code:\r\n\r\n    KStream&lt;String, String&gt; source_user_activity = builder.stream(&quot;user_activity&quot;);\r\n            source_user_activity.flatMapValues(new ValueMapper&lt;String, Iterable&lt;String&gt;&gt;() {\r\n                @Override\r\n                public Iterable&lt;String&gt; apply(String value) {\r\n                    System.out.println(&quot;value: &quot; +  value);\r\n                    ArrayList&lt;String&gt; keywords = new ArrayList&lt;String&gt;();\r\n                    try {\r\n                    \tJSONObject send = new JSONObject();\r\n                        JSONObject received = new JSONObject(value);\r\n                        \r\n                        send.put(&quot;current_date&quot;, getCurrentDate().toString());\r\n                        send.put(&quot;activity_time&quot;, received.get(&quot;CreationTime&quot;));\r\n                        send.put(&quot;user_id&quot;, received.get(&quot;UserId&quot;));\r\n                        send.put(&quot;operation_type&quot;, received.get(&quot;Operation&quot;));\r\n                        send.put(&quot;app_name&quot;, received.get(&quot;Workload&quot;));\r\n                    \tkeywords.add(send.toString());\r\n                        // apply regex to value and for each match add it to keywords\r\n    \t\t\t\t\t\r\n    \t\t\t\t} catch (Exception e) {\r\n    \t\t\t\t\t// TODO: handle exception\r\n    \t\t\t\t\tSystem.err.println(&quot;Unable to convert to json&quot;);\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \r\n                    return keywords;\r\n                }\r\n            }).to(&quot;user_activity_by_date&quot;);\r\n\r\n\r\nIn this code, I want to check operation type and then depending on that I want to push the streams into the relevant topic.\r\n\r\nHow can I achieve this?\r\n\r\n**EDIT:**\r\n\r\nI have updated my code to this:\r\n\r\n    final StreamsBuilder builder = new StreamsBuilder();\r\n            \r\n    KStream&lt;String, String&gt; source_o365_user_activity = builder.stream(&quot;o365_user_activity&quot;);\r\n    KStream&lt;String, String&gt;[] branches = source_o365_user_activity.branch( \r\n          (key, value) -&gt; (value.contains(&quot;Operation\\&quot;:\\&quot;SharingSet&quot;) &amp;&amp; value.contains(&quot;ItemType\\&quot;:\\&quot;File&quot;)),\r\n          (key, value) -&gt; (value.contains(&quot;Operation\\&quot;:\\&quot;AddedToSecureLink&quot;) &amp;&amp; value.contains(&quot;ItemType\\&quot;:\\&quot;File&quot;)),\r\n          (key, value) -&gt; true\r\n         );\r\n            \r\n    branches[0].to(&quot;o365_sharing_set_by_date&quot;);\r\n    branches[1].to(&quot;o365_added_to_secure_link_by_date&quot;);\r\n    branches[2].to(&quot;o365_user_activity_by_date&quot;);","title":"Kafka Streams - Send on different topics depending on Streams Data","body":"<p>I have a kafka streams application waiting for records to be published on topic <code>user_activity</code>. It will receive json data and depending on the value of against a key I want to push that stream into different topics.</p>\n\n<p>This is my streams App code:</p>\n\n<pre><code>KStream&lt;String, String&gt; source_user_activity = builder.stream(\"user_activity\");\n        source_user_activity.flatMapValues(new ValueMapper&lt;String, Iterable&lt;String&gt;&gt;() {\n            @Override\n            public Iterable&lt;String&gt; apply(String value) {\n                System.out.println(\"value: \" +  value);\n                ArrayList&lt;String&gt; keywords = new ArrayList&lt;String&gt;();\n                try {\n                    JSONObject send = new JSONObject();\n                    JSONObject received = new JSONObject(value);\n\n                    send.put(\"current_date\", getCurrentDate().toString());\n                    send.put(\"activity_time\", received.get(\"CreationTime\"));\n                    send.put(\"user_id\", received.get(\"UserId\"));\n                    send.put(\"operation_type\", received.get(\"Operation\"));\n                    send.put(\"app_name\", received.get(\"Workload\"));\n                    keywords.add(send.toString());\n                    // apply regex to value and for each match add it to keywords\n\n                } catch (Exception e) {\n                    // TODO: handle exception\n                    System.err.println(\"Unable to convert to json\");\n                    e.printStackTrace();\n                }\n\n                return keywords;\n            }\n        }).to(\"user_activity_by_date\");\n</code></pre>\n\n<p>In this code, I want to check operation type and then depending on that I want to push the streams into the relevant topic.</p>\n\n<p>How can I achieve this?</p>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I have updated my code to this:</p>\n\n<pre><code>final StreamsBuilder builder = new StreamsBuilder();\n\nKStream&lt;String, String&gt; source_o365_user_activity = builder.stream(\"o365_user_activity\");\nKStream&lt;String, String&gt;[] branches = source_o365_user_activity.branch( \n      (key, value) -&gt; (value.contains(\"Operation\\\":\\\"SharingSet\") &amp;&amp; value.contains(\"ItemType\\\":\\\"File\")),\n      (key, value) -&gt; (value.contains(\"Operation\\\":\\\"AddedToSecureLink\") &amp;&amp; value.contains(\"ItemType\\\":\\\"File\")),\n      (key, value) -&gt; true\n     );\n\nbranches[0].to(\"o365_sharing_set_by_date\");\nbranches[1].to(\"o365_added_to_secure_link_by_date\");\nbranches[2].to(\"o365_user_activity_by_date\");\n</code></pre>\n"},{"tags":["java","jsoup"],"answers":[{"tags":[],"owner":{"display_name":"user17223316"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635900599,"creation_date":1635900599,"answer_id":69818496,"question_id":69818265,"body_markdown":"Try this.\r\n\r\n    public static void main(String[] args) {\r\n        Element doc = Jsoup.parse(\r\n            &quot;&lt;div id=&#39;id&#39;&gt;&quot;\r\n            + &quot;a&quot;\r\n            + &quot;&lt;div&gt;b&lt;/div&gt;&quot;\r\n            + &quot;c&quot;\r\n            + &quot;&lt;div&gt;d&lt;/div&gt;&quot;\r\n            + &quot;e&quot;\r\n            + &quot;&lt;/div&gt;&quot;);\r\n        Element e = doc.select(&quot;div#id&quot;).first();\r\n\r\n        e.select(&quot;*&quot;).remove();  // remove all children\r\n\r\n        System.out.println(e);\r\n    }\r\n\r\noutput:\r\n\r\n    &lt;div id=&quot;id&quot;&gt;\r\n     ace\r\n    &lt;/div&gt;\r\n\r\n","title":"Jsoup - Remove all children from an element","body":"<p>Try this.</p>\n<pre><code>public static void main(String[] args) {\n    Element doc = Jsoup.parse(\n        &quot;&lt;div id='id'&gt;&quot;\n        + &quot;a&quot;\n        + &quot;&lt;div&gt;b&lt;/div&gt;&quot;\n        + &quot;c&quot;\n        + &quot;&lt;div&gt;d&lt;/div&gt;&quot;\n        + &quot;e&quot;\n        + &quot;&lt;/div&gt;&quot;);\n    Element e = doc.select(&quot;div#id&quot;).first();\n\n    e.select(&quot;*&quot;).remove();  // remove all children\n\n    System.out.println(e);\n}\n</code></pre>\n<p>output:</p>\n<pre><code>&lt;div id=&quot;id&quot;&gt;\n ace\n&lt;/div&gt;\n</code></pre>\n"}],"owner":{"account_id":19031562,"reputation":61,"user_id":13893555,"display_name":"Anoop "},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":667,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69818496,"answer_count":1,"score":3,"last_activity_date":1635900599,"creation_date":1635898028,"question_id":69818265,"body_markdown":"I have an element as below. When I apply .empty() method on the element it is removing the text &quot;Name&quot;. Is there any other way to remove all child elements blindly from an element except its text ? I know the below example don&#39;t have any child elements. \r\n\r\n    &lt;label class=&quot;field__label&quot; for=&quot;1&quot;&gt;Name&lt;/label&gt;","title":"Jsoup - Remove all children from an element","body":"<p>I have an element as below. When I apply .empty() method on the element it is removing the text &quot;Name&quot;. Is there any other way to remove all child elements blindly from an element except its text ? I know the below example don't have any child elements.</p>\n<pre><code>&lt;label class=&quot;field__label&quot; for=&quot;1&quot;&gt;Name&lt;/label&gt;\n</code></pre>\n"},{"tags":["java","eclipse-plugin"],"comments":[{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":0,"creation_date":1274802036,"post_id":2906152,"comment_id":2956251,"body_markdown":"That it&#39;s in the plugins folder likely means that it IS installed.  Can you verify that Eclipse is finding the plugin via Help-&gt;About Eclipse-&gt;Installation Details-&gt;Plug-ins?  Make sure it is listed and check the version.  The Plug-in name should be &quot;Graphical Editing Framework Draw2d&quot;.","body":"That it&#39;s in the plugins folder likely means that it IS installed.  Can you verify that Eclipse is finding the plugin via Help-&gt;About Eclipse-&gt;Installation Details-&gt;Plug-ins?  Make sure it is listed and check the version.  The Plug-in name should be &quot;Graphical Editing Framework Draw2d&quot;."},{"owner":{"account_id":141407,"reputation":675,"user_id":348406,"accept_rate":89,"display_name":"Metz"},"score":0,"creation_date":1274802229,"post_id":2906152,"comment_id":2956288,"body_markdown":"thera are lot of plugins but no org.eclipse.draw2d, i dont understand.","body":"thera are lot of plugins but no org.eclipse.draw2d, i dont understand."},{"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"score":1,"creation_date":1274802590,"post_id":2906152,"comment_id":2956353,"body_markdown":"If there is no plug-in with a plug-in id of &quot;org.eclipse.draw2d&quot;, but there IS a corresponding directory (or .jar file) in your plugins directory, it&#39;s possible that the plug-in is failing to load.  Open the Error Log in Eclipse (Window-&gt;Show View-&gt;Error Log) and see if there are any errors listed where the plug-in is org.eclipse.draw2d.  Also ensure that the Eclipse instance you&#39;re running is in fact from /opt/eclipse/.","body":"If there is no plug-in with a plug-in id of &quot;org.eclipse.draw2d&quot;, but there IS a corresponding directory (or .jar file) in your plugins directory, it&#39;s possible that the plug-in is failing to load.  Open the Error Log in Eclipse (Window-&gt;Show View-&gt;Error Log) and see if there are any errors listed where the plug-in is org.eclipse.draw2d.  Also ensure that the Eclipse instance you&#39;re running is in fact from /opt/eclipse/."},{"owner":{"account_id":7670,"reputation":34993,"user_id":13379,"accept_rate":86,"display_name":"Michael"},"score":0,"creation_date":1274806384,"post_id":2906152,"comment_id":2956877,"body_markdown":"What&#39;s with the org.eclipse.draw2d version being &quot;0.0.0&quot;?  Maybe it can&#39;t find draw2d because there is no version 0.0.0!","body":"What&#39;s with the org.eclipse.draw2d version being &quot;0.0.0&quot;?  Maybe it can&#39;t find draw2d because there is no version 0.0.0!"},{"owner":{"account_id":71262,"reputation":20764,"user_id":206020,"accept_rate":89,"display_name":"ponzao"},"score":0,"creation_date":1275075024,"post_id":2906152,"comment_id":2985714,"body_markdown":"Have you installed Eclipse from the repositories or from eclipse.org? Have you been able to install other plugins besides this one? I am asking because I ran into problems installing plugins with the Eclipse version from the Ubuntu repository.","body":"Have you installed Eclipse from the repositories or from eclipse.org? Have you been able to install other plugins besides this one? I am asking because I ran into problems installing plugins with the Eclipse version from the Ubuntu repository."},{"owner":{"account_id":141407,"reputation":675,"user_id":348406,"accept_rate":89,"display_name":"Metz"},"score":0,"creation_date":1275308727,"post_id":2906152,"comment_id":2999069,"body_markdown":"From the repositories. Make sure you have installed also eclipse-pde (and maybe also eclipse-rpc, i dont remember exactly): have a look in System/administration/synaptic &quot;eclipse&quot;.","body":"From the repositories. Make sure you have installed also eclipse-pde (and maybe also eclipse-rpc, i dont remember exactly): have a look in System/administration/synaptic &quot;eclipse&quot;."}],"answers":[{"tags":[],"owner":{"account_id":76836,"reputation":1496,"user_id":219686,"accept_rate":88,"display_name":"FelixM"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1311818667,"creation_date":1311818667,"answer_id":6853381,"question_id":2906152,"body_markdown":"It looks like you didn&#39;t install the GEF, which is a requirement for ObjectAid. You can get it at http://www.eclipse.org/gef/.","title":"How to install plugins on Eclipse","body":"<p>It looks like you didn't install the GEF, which is a requirement for ObjectAid. You can get it at <a href=\"http://www.eclipse.org/gef/\" rel=\"nofollow\">http://www.eclipse.org/gef/</a>.</p>\n"}],"owner":{"account_id":141407,"reputation":675,"user_id":348406,"accept_rate":89,"display_name":"Metz"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8677,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1635900365,"creation_date":1274801825,"question_id":2906152,"body_markdown":"I know there already are other questions like this, but I couldn&#39;t find anything useful.\r\n\r\nI was trying to install ObjectAid on Eclipse 3.5.1.\r\n\r\nI added it to the repository list, then checked ObjectAid UML Explorer. It said:\r\n\r\n    Cannot complete the install because one or more required items could not be found.\r\n      Software being installed: ObjectAid Class Diagram 0.9.86 (com.objectaid.uml.feature.group 0.9.86)\r\n      Missing requirement: ObjectAid Class Diagram 0.9.86 (com.objectaid.uml.feature.group 0.9.86) requires &#39;org.eclipse.draw2d 0.0.0&#39;\r\n\r\nI&#39;ve had a look into /opt/eclipse/plugins and I&#39;ve found org.eclipse.draw2d_3.5.2.v20091126-1908, but I couldn&#39;t figure out how to install it.\r\n\r\nThe operating system is Ubuntu.\r\n\r\nThanks for any help.","title":"How to install plugins on Eclipse","body":"<p>I know there already are other questions like this, but I couldn't find anything useful.</p>\n<p>I was trying to install ObjectAid on Eclipse 3.5.1.</p>\n<p>I added it to the repository list, then checked ObjectAid UML Explorer. It said:</p>\n<pre><code>Cannot complete the install because one or more required items could not be found.\n  Software being installed: ObjectAid Class Diagram 0.9.86 (com.objectaid.uml.feature.group 0.9.86)\n  Missing requirement: ObjectAid Class Diagram 0.9.86 (com.objectaid.uml.feature.group 0.9.86) requires 'org.eclipse.draw2d 0.0.0'\n</code></pre>\n<p>I've had a look into /opt/eclipse/plugins and I've found org.eclipse.draw2d_3.5.2.v20091126-1908, but I couldn't figure out how to install it.</p>\n<p>The operating system is Ubuntu.</p>\n<p>Thanks for any help.</p>\n"},{"tags":["python","java","encryption","rsa"],"comments":[{"owner":{"account_id":3557625,"reputation":198996,"user_id":2970947,"display_name":"Elliott Frisch"},"score":0,"creation_date":1635900081,"post_id":69818423,"comment_id":123414429,"body_markdown":"`String b64ct = sc.nextLine();` reads one line. Make sure you don&#39;t have line breaks in `ciphertext` after you encode it.","body":"<code>String b64ct = sc.nextLine();</code> reads one line. Make sure you don&#39;t have line breaks in <code>ciphertext</code> after you encode it."},{"owner":{"account_id":23222239,"reputation":1,"user_id":17314248,"display_name":"mpapoulias"},"score":0,"creation_date":1635900425,"post_id":69818423,"comment_id":123414481,"body_markdown":"`sc.nextLine()` doesn&#39;t include the newline in the returned string","body":"<code>sc.nextLine()</code> doesn&#39;t include the newline in the returned string"},{"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"score":1,"creation_date":1635900435,"post_id":69818423,"comment_id":123414483,"body_markdown":"The Java RSA-instantiation &quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot; has a SHA-256 hash and for the padding an SHA-1 hash, so simply change in your Python code &quot;mgf=padding.MGF1(algorithm=hashes.SHA256()),&quot; to &quot;mgf=padding.MGF1(algorithm=hashes.SHA1()),&quot;","body":"The Java RSA-instantiation &quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot; has a SHA-256 hash and for the padding an SHA-1 hash, so simply change in your Python code &quot;mgf=padding.MGF1(algorithm=hashes.SHA256()),&quot; to &quot;mgf=padding.MGF1(algorithm=hashes.SHA1()),&quot;"},{"owner":{"account_id":23222239,"reputation":1,"user_id":17314248,"display_name":"mpapoulias"},"score":0,"creation_date":1635900579,"post_id":69818423,"comment_id":123414515,"body_markdown":"Ah that was it, thank you so much!","body":"Ah that was it, thank you so much!"}],"owner":{"account_id":23222239,"reputation":1,"user_id":17314248,"display_name":"mpapoulias"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635899852,"creation_date":1635899852,"question_id":69818423,"body_markdown":"I am trying to encrypt some data in Python using RSA and the [cryptography](https://cryptography.io/en/latest/) library, then decrypt the data in a Java program. However whenever trying to decrypt the data in Java I get a `javax.crypto.BadPaddingException`. I am generating the key pair in Java using the following code\r\n\r\n```java\r\nimport java.security.Key;\r\nimport java.security.KeyPair;\r\nimport java.security.KeyPairGenerator;\r\nimport java.util.Base64;\r\nimport java.util.Scanner;\r\n\r\nimport javax.crypto.Cipher;\r\n\r\npublic class Main {\r\n    public static void main(String[] args) {\r\n        KeyPairGenerator kpg;\r\n        KeyPair kp;\r\n        Key pub;\r\n        Key priv;\r\n\r\n        try {\r\n            kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;);\r\n            kpg.initialize(2048);\r\n\r\n            kp = kpg.generateKeyPair();\r\n\r\n            pub = kp.getPublic();\r\n            priv = kp.getPrivate();\r\n        } catch (Exception e) {\r\n            System.out.println(&quot;Error generating key&quot;);\r\n            return;\r\n        }\r\n\r\n        Base64.Encoder encoder = Base64.getEncoder();\r\n        Base64.Decoder decoder = Base64.getDecoder();\r\n\r\n        String pubKeyStr = encoder.encodeToString(pub.getEncoded());\r\n        String privKeyStr = encoder.encodeToString(priv.getEncoded());\r\n\r\n        System.out.println(&quot;PUBLIC KEY: &quot; + pubKeyStr + &quot;\\n&quot;);\r\n        System.out.println(&quot;PRIVATE KEY: &quot; + privKeyStr + &quot;\\n&quot;);\r\n\r\n        Scanner sc = new Scanner(System.in);\r\n        System.out.print(&quot;Enter ciphertext: &quot;);\r\n\r\n        String b64ct = sc.nextLine();\r\n\r\n        byte[] ct = decoder.decode(b64ct);\r\n        byte[] decrypted;\r\n\r\n        try {\r\n\t\t\tCipher rsaCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot;);\r\n\t\t\trsaCipher.init(Cipher.DECRYPT_MODE, priv);\r\n\r\n\t\t\tdecrypted = rsaCipher.doFinal(ct);\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n        System.out.println(new String(decrypted));\r\n    }\r\n}\r\n```\r\n\r\nI then copy the outputted public key and plug it into the following Python program\r\n\r\n```python\r\nimport base64\r\n\r\nfrom cryptography.hazmat.primitives import hashes, serialization\r\nfrom cryptography.hazmat.primitives.asymmetric import padding\r\n\r\npub = input(&#39;Enter public key: &#39;)\r\npub_key = &quot;-----BEGIN PUBLIC KEY-----\\n&quot; + pub + &quot;\\n-----END PUBLIC KEY-----\\n&quot;\r\n\r\nprint(&#39;Public:\\n&#39;, pub_key)\r\nprint()\r\n\r\npub_key = serialization.load_pem_public_key(pub_key.encode(&quot;utf-8&quot;))\r\n\r\nmessage = b&#39;super secret message&#39;\r\nciphertext = pub_key.encrypt(\r\n    message,\r\n    padding.OAEP(\r\n        mgf=padding.MGF1(algorithm=hashes.SHA256()),\r\n        algorithm=hashes.SHA256(),\r\n        label=None\r\n    )\r\n)\r\nciphertext = base64.b64encode(ciphertext)\r\n\r\nprint(&#39;Cipher:&#39;, ciphertext)\r\n```\r\n\r\nI then again copy the outputted ciphertext from this program and put it into the waiting input of the first Java program, then when the Java code tries to decrypt the ciphertext I get the exception.\r\n\r\nThanks","title":"Unable to decrypt RSA encrypted via the cryptography library in Python","body":"<p>I am trying to encrypt some data in Python using RSA and the <a href=\"https://cryptography.io/en/latest/\" rel=\"nofollow noreferrer\">cryptography</a> library, then decrypt the data in a Java program. However whenever trying to decrypt the data in Java I get a <code>javax.crypto.BadPaddingException</code>. I am generating the key pair in Java using the following code</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.security.Key;\nimport java.security.KeyPair;\nimport java.security.KeyPairGenerator;\nimport java.util.Base64;\nimport java.util.Scanner;\n\nimport javax.crypto.Cipher;\n\npublic class Main {\n    public static void main(String[] args) {\n        KeyPairGenerator kpg;\n        KeyPair kp;\n        Key pub;\n        Key priv;\n\n        try {\n            kpg = KeyPairGenerator.getInstance(&quot;RSA&quot;);\n            kpg.initialize(2048);\n\n            kp = kpg.generateKeyPair();\n\n            pub = kp.getPublic();\n            priv = kp.getPrivate();\n        } catch (Exception e) {\n            System.out.println(&quot;Error generating key&quot;);\n            return;\n        }\n\n        Base64.Encoder encoder = Base64.getEncoder();\n        Base64.Decoder decoder = Base64.getDecoder();\n\n        String pubKeyStr = encoder.encodeToString(pub.getEncoded());\n        String privKeyStr = encoder.encodeToString(priv.getEncoded());\n\n        System.out.println(&quot;PUBLIC KEY: &quot; + pubKeyStr + &quot;\\n&quot;);\n        System.out.println(&quot;PRIVATE KEY: &quot; + privKeyStr + &quot;\\n&quot;);\n\n        Scanner sc = new Scanner(System.in);\n        System.out.print(&quot;Enter ciphertext: &quot;);\n\n        String b64ct = sc.nextLine();\n\n        byte[] ct = decoder.decode(b64ct);\n        byte[] decrypted;\n\n        try {\n            Cipher rsaCipher = Cipher.getInstance(&quot;RSA/ECB/OAEPWithSHA-256AndMGF1Padding&quot;);\n            rsaCipher.init(Cipher.DECRYPT_MODE, priv);\n\n            decrypted = rsaCipher.doFinal(ct);\n        } catch (Exception e) {\n            e.printStackTrace();\n            return;\n        }\n\n        System.out.println(new String(decrypted));\n    }\n}\n</code></pre>\n<p>I then copy the outputted public key and plug it into the following Python program</p>\n<pre class=\"lang-py prettyprint-override\"><code>import base64\n\nfrom cryptography.hazmat.primitives import hashes, serialization\nfrom cryptography.hazmat.primitives.asymmetric import padding\n\npub = input('Enter public key: ')\npub_key = &quot;-----BEGIN PUBLIC KEY-----\\n&quot; + pub + &quot;\\n-----END PUBLIC KEY-----\\n&quot;\n\nprint('Public:\\n', pub_key)\nprint()\n\npub_key = serialization.load_pem_public_key(pub_key.encode(&quot;utf-8&quot;))\n\nmessage = b'super secret message'\nciphertext = pub_key.encrypt(\n    message,\n    padding.OAEP(\n        mgf=padding.MGF1(algorithm=hashes.SHA256()),\n        algorithm=hashes.SHA256(),\n        label=None\n    )\n)\nciphertext = base64.b64encode(ciphertext)\n\nprint('Cipher:', ciphertext)\n</code></pre>\n<p>I then again copy the outputted ciphertext from this program and put it into the waiting input of the first Java program, then when the Java code tries to decrypt the ciphertext I get the exception.</p>\n<p>Thanks</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":2104315,"reputation":27145,"user_id":1871033,"display_name":"CherryDT"},"score":1,"creation_date":1635841808,"post_id":69807256,"comment_id":123393582,"body_markdown":"What you are saying isn&#39;t logical. Any `&amp;` should be encoded as `&amp;amp;` in XML, and `&amp;amp;` has to become `&amp;amp;amp;`. Once the data is read from the XML document again later on, these will turn back to `&amp;` and `&amp;amp;` just fine.","body":"What you are saying isn&#39;t logical. Any <code>&amp;</code> should be encoded as <code>&amp;amp;</code> in XML, and <code>&amp;amp;</code> has to become <code>&amp;amp;amp;</code>. Once the data is read from the XML document again later on, these will turn back to <code>&amp;</code> and <code>&amp;amp;</code> just fine."},{"owner":{"account_id":23214084,"reputation":11,"user_id":17307184,"display_name":"jay"},"score":0,"creation_date":1635842523,"post_id":69807256,"comment_id":123393851,"body_markdown":"thanks for the comment! some of my data are stored as xml format already like `&lt;ARTICLE title=&quot;3.&amp;amp;nbsp;&gt;` and it is not changed to  `&amp;amp;amp; ` after mashaling..","body":"thanks for the comment! some of my data are stored as xml format already like <code>&lt;ARTICLE title=&quot;3.&amp;amp;nbsp;&gt;</code> and it is not changed to  <code>&amp;amp;amp; </code> after mashaling.."},{"owner":{"account_id":23214084,"reputation":11,"user_id":17307184,"display_name":"jay"},"score":1,"creation_date":1635843073,"post_id":69807256,"comment_id":123394086,"body_markdown":"i just checked it again and you are right! `&amp;amp;` becomes `&amp;amp;amp;`! thanks!","body":"i just checked it again and you are right! <code>&amp;amp;</code> becomes <code>&amp;amp;amp;</code>! thanks!"}],"owner":{"account_id":23214084,"reputation":11,"user_id":17307184,"display_name":"jay"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1635898800,"creation_date":1635841370,"question_id":69807256,"body_markdown":"I&#39;m having a problem after marshaling data from db to xml using \r\n``` \r\n.marshal().jacksonxml(false)\r\n``` \r\n in Apache Camel. In my data from db, there are &quot;&amp;&quot; , which should not be changed to ` &quot;&amp;amp;&quot;`  after marshaling to xml \r\nAND `&quot;&amp;amp;&quot;` , which is okay jsut as it is.. \r\nSince I have two cases in my data, I can&#39;t just use\r\n\t\r\n\r\n``` \r\n.transform(new Expression() {\r\n@Override\r\npublic &lt;T&gt; T evaluate(Exchange exchange, Class&lt;T&gt; type) {\r\nString body = exchange.getIn().getBody(String.class);\r\nbody = body.replaceAll(&quot;&amp;amp;&quot;, &quot;&amp;&quot;);}\r\n``` \r\nafter marshaling.\r\nDo you know any option to solve this problem in Camel or any suggestions?","title":"How to prevent data change from &quot;&amp;&quot; to &quot;&amp;amp&quot; after using .marshal().jacksonxml() in Apache Camel?","body":"<p>I'm having a problem after marshaling data from db to xml using</p>\n<pre><code>.marshal().jacksonxml(false)\n</code></pre>\n<p>in Apache Camel. In my data from db, there are &quot;&amp;&quot; , which should not be changed to <code> &quot;&amp;amp;&quot;</code>  after marshaling to xml\nAND <code>&quot;&amp;amp;&quot;</code> , which is okay jsut as it is..\nSince I have two cases in my data, I can't just use</p>\n<pre><code>.transform(new Expression() {\n@Override\npublic &lt;T&gt; T evaluate(Exchange exchange, Class&lt;T&gt; type) {\nString body = exchange.getIn().getBody(String.class);\nbody = body.replaceAll(&quot;&amp;amp;&quot;, &quot;&amp;&quot;);}\n</code></pre>\n<p>after marshaling.\nDo you know any option to solve this problem in Camel or any suggestions?</p>\n"},{"tags":["java","spring","spring-boot","reflection","spring-webflux"],"comments":[{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":0,"creation_date":1635896703,"post_id":69817858,"comment_id":123413899,"body_markdown":"Use the `RequestMappingHandlerMapping` from `org.springframework.web.reactive.result.method.annotation`.","body":"Use the <code>RequestMappingHandlerMapping</code> from <code>org.springframework.web.reactive.result.method.annotation</code>."},{"owner":{"account_id":18295505,"reputation":73,"user_id":13321541,"display_name":"Adam Jarvis"},"score":0,"creation_date":1635896958,"post_id":69817858,"comment_id":123413946,"body_markdown":"Oh boy, I am shocked that it&#39;s that easy. If you want, please submit an answer and I&#39;ll mark it as correct @SotiriosDelimanolis\n\nI did not notice that the package names were totally different.. so much time spent starting at the same class name in the spring javadoc and source...","body":"Oh boy, I am shocked that it&#39;s that easy. If you want, please submit an answer and I&#39;ll mark it as correct @SotiriosDelimanolis  I did not notice that the package names were totally different.. so much time spent starting at the same class name in the spring javadoc and source..."},{"owner":{"account_id":195331,"reputation":275408,"user_id":438154,"accept_rate":98,"display_name":"Sotirios Delimanolis"},"score":1,"creation_date":1635897080,"post_id":69817858,"comment_id":123413972,"body_markdown":"Yeah they reused a lot of the class names for the webflux package. But that&#39;s alright, I&#39;m too lazy to provide an answer. You can self answer if you wish.","body":"Yeah they reused a lot of the class names for the webflux package. But that&#39;s alright, I&#39;m too lazy to provide an answer. You can self answer if you wish."},{"owner":{"account_id":18295505,"reputation":73,"user_id":13321541,"display_name":"Adam Jarvis"},"score":0,"creation_date":1635899599,"post_id":69817858,"comment_id":123414353,"body_markdown":"Thanks, I&#39;ve done that now and will confirm it after the waiting period","body":"Thanks, I&#39;ve done that now and will confirm it after the waiting period"}],"answers":[{"tags":[],"owner":{"account_id":18295505,"reputation":73,"user_id":13321541,"display_name":"Adam Jarvis"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635898583,"creation_date":1635898583,"answer_id":69818309,"question_id":69817858,"body_markdown":"Spring boot reuses a lot of classes. Specifically, there are two `RequestMappingHandlerMapping`.\r\n\r\nFor servlet usage, you want to import:\r\n\r\n```\r\norg.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\r\n```\r\n\r\nBut for reactive usage, it&#39;s:\r\n\r\n```\r\norg.springframework.web.reactive.result.method.annotation.RequestMappingHandlerMapping\r\n```\r\n\r\nBe careful when making a library that supports both Reactive and Servlet usage - it&#39;s easy to import the incorrect class","title":"Using spring WebFlux, how can I get all the RequestHandlerMappings?","body":"<p>Spring boot reuses a lot of classes. Specifically, there are two <code>RequestMappingHandlerMapping</code>.</p>\n<p>For servlet usage, you want to import:</p>\n<pre><code>org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping\n</code></pre>\n<p>But for reactive usage, it's:</p>\n<pre><code>org.springframework.web.reactive.result.method.annotation.RequestMappingHandlerMapping\n</code></pre>\n<p>Be careful when making a library that supports both Reactive and Servlet usage - it's easy to import the incorrect class</p>\n"}],"owner":{"account_id":18295505,"reputation":73,"user_id":13321541,"display_name":"Adam Jarvis"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":492,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69818309,"answer_count":1,"score":0,"last_activity_date":1635898583,"creation_date":1635894119,"question_id":69817858,"body_markdown":"In the servlet world, I can do something like:\r\n\r\n```java\r\npublic class MyListener implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\r\n\r\n  @Override\r\n  public void onApplicationEvent(ApplicationReadyEvent event) {\r\n    ApplicationContext context = event.getApplicationContext();\r\n    Map&lt;RequestMappingInfo, HandlerMethod&gt; endpoints = context.getBean(RequestMappingHandlerMapping.class).getHandlerMethods();\r\n\r\n    endpoints.forEach((info, method) -&gt; {\r\n      log.info(&quot;Info: {}/n method: {}&quot;, info, method);\r\n    });\r\n  }\r\n}\r\n```\r\n\r\nBut, the same does not work in a WebFlux server due to the `RequestMappingHandlerMapping` Bean not being registered.\r\n\r\nWhat&#39;s the right approach here? Is this even possible?\r\n\r\nI could just hold the event for longer, and exhaustively try and find the classes that have a `@RestController` on it.. but in this context I don&#39;t know the package name of the potential Controller classes.\r\n\r\n\r\n","title":"Using spring WebFlux, how can I get all the RequestHandlerMappings?","body":"<p>In the servlet world, I can do something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyListener implements ApplicationListener&lt;ApplicationReadyEvent&gt; {\n\n  @Override\n  public void onApplicationEvent(ApplicationReadyEvent event) {\n    ApplicationContext context = event.getApplicationContext();\n    Map&lt;RequestMappingInfo, HandlerMethod&gt; endpoints = context.getBean(RequestMappingHandlerMapping.class).getHandlerMethods();\n\n    endpoints.forEach((info, method) -&gt; {\n      log.info(&quot;Info: {}/n method: {}&quot;, info, method);\n    });\n  }\n}\n</code></pre>\n<p>But, the same does not work in a WebFlux server due to the <code>RequestMappingHandlerMapping</code> Bean not being registered.</p>\n<p>What's the right approach here? Is this even possible?</p>\n<p>I could just hold the event for longer, and exhaustively try and find the classes that have a <code>@RestController</code> on it.. but in this context I don't know the package name of the potential Controller classes.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":4,"creation_date":1635875137,"post_id":69814794,"comment_id":123407673,"body_markdown":"Use an array or list or some other sort of Collection data type.","body":"Use an array or list or some other sort of Collection data type."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":0,"creation_date":1635876899,"post_id":69814794,"comment_id":123408335,"body_markdown":"What would you need to do with `p1` and `p2`?","body":"What would you need to do with <code>p1</code> and <code>p2</code>?"},{"owner":{"account_id":22591083,"reputation":11,"user_id":16774177,"display_name":"Saiker"},"score":0,"creation_date":1635878655,"post_id":69814794,"comment_id":123408951,"body_markdown":"@takendarkk you mean to put the `p1`, `p2` into a collection and refer to them by the index?","body":"@takendarkk you mean to put the <code>p1</code>, <code>p2</code> into a collection and refer to them by the index?"},{"owner":{"account_id":23175946,"reputation":66,"user_id":17274465,"display_name":"jcurley"},"score":0,"creation_date":1635879721,"post_id":69814794,"comment_id":123409290,"body_markdown":"Is p1 always going to be &#39;a&#39; and p2 always going to be &#39;b&#39;? You might consider setting up an enum if that&#39;s the case. But as others have mentioned, it depends on the broader context of what this is being used for.","body":"Is p1 always going to be &#39;a&#39; and p2 always going to be &#39;b&#39;? You might consider setting up an enum if that&#39;s the case. But as others have mentioned, it depends on the broader context of what this is being used for."},{"owner":{"account_id":22591083,"reputation":11,"user_id":16774177,"display_name":"Saiker"},"score":0,"creation_date":1635880875,"post_id":69814794,"comment_id":123409674,"body_markdown":"The `p1 = &#39;a&#39;` is just an example. Basically, I want to do this in multiple method and generally, I need to somehow manipulate the variables or read them.","body":"The <code>p1 = &#39;a&#39;</code> is just an example. Basically, I want to do this in multiple method and generally, I need to somehow manipulate the variables or read them."},{"owner":{"account_id":22354823,"reputation":16499,"user_id":16572295,"display_name":"Jo&#227;o Dias"},"score":2,"creation_date":1635881236,"post_id":69814794,"comment_id":123409791,"body_markdown":"Ok, but what is your actual use case. Why do you need to manipulate variables this way? Maybe there is another, simpler and cleaner way but since we don&#39;t know what exactly you are trying to do it is hard to actually suggest anything else.","body":"Ok, but what is your actual use case. Why do you need to manipulate variables this way? Maybe there is another, simpler and cleaner way but since we don&#39;t know what exactly you are trying to do it is hard to actually suggest anything else."},{"owner":{"account_id":408579,"reputation":9113,"user_id":779340,"accept_rate":69,"display_name":"rascio"},"score":0,"creation_date":1635882009,"post_id":69814794,"comment_id":123410031,"body_markdown":"+1 to @Jo&#227;oDias\nTo me it feels more a modelling issue, than something that can be fix with a feature like that.\nTry explaining the complete issue","body":"+1 to @Jo&#227;oDias To me it feels more a modelling issue, than something that can be fix with a feature like that. Try explaining the complete issue"}],"answers":[{"tags":[],"owner":{"account_id":3340852,"reputation":1493,"user_id":2807177,"display_name":"gmanjon"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1635898267,"creation_date":1635881069,"answer_id":69815938,"question_id":69814794,"body_markdown":"You have to use Reflection (a java API to manage classes and instances).\r\n\r\nTry this (provided the method and p1 are all in the same class and you want the value in the same instance)\r\n\r\n```java\r\nthis.getClass().getDeclaredField(&quot;p1&quot;).setChar(this, &#39;a&#39;);\r\n```\r\n\r\nAnother different point is what is the problem you are trying to solve using reflection. I can tell you that Reflection API is rarely used and it should not be the solution for every day problems. Probably your approach is not the best. Try to open another question explaning the business problem, not the solution you think is right.","title":"Refer to a variable with a string","body":"<p>You have to use Reflection (a java API to manage classes and instances).</p>\n<p>Try this (provided the method and p1 are all in the same class and you want the value in the same instance)</p>\n<pre class=\"lang-java prettyprint-override\"><code>this.getClass().getDeclaredField(&quot;p1&quot;).setChar(this, 'a');\n</code></pre>\n<p>Another different point is what is the problem you are trying to solve using reflection. I can tell you that Reflection API is rarely used and it should not be the solution for every day problems. Probably your approach is not the best. Try to open another question explaning the business problem, not the solution you think is right.</p>\n"},{"tags":[],"owner":{"display_name":"user17223316"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635881997,"creation_date":1635881997,"answer_id":69816094,"question_id":69814794,"body_markdown":"Try this.\r\n\r\n    char[] p = new char[2];\r\n\r\n    void someMethod(int number) {\r\n        if (number == 1) {\r\n            p[0] = &#39;a&#39;;\r\n        } else {\r\n            p[1] = &#39;b&#39;;\r\n        }\r\n    }\r\n","title":"Refer to a variable with a string","body":"<p>Try this.</p>\n<pre><code>char[] p = new char[2];\n\nvoid someMethod(int number) {\n    if (number == 1) {\n        p[0] = 'a';\n    } else {\n        p[1] = 'b';\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":556948,"reputation":1608,"user_id":919248,"accept_rate":78,"display_name":"Pedro Borges"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635883573,"creation_date":1635882932,"answer_id":69816248,"question_id":69814794,"body_markdown":"If you have control over the variables, then you can use an array + mapping logic instead of a multitude of variables and conditions.\r\nLet&#39;s say you have one array and one mapper:\r\n\r\n```\r\nchar[] p = new char[2]; // or &quot;as many as you need&quot;\r\nstatic Map&lt;Integer, Character&gt; mapper = new HashMap&lt;&gt;();\r\n\r\nstatic {\r\n    mapper.put(1, &#39;a&#39;);\r\n    mapper.put(2, &#39;b&#39;);\r\n    // ... &quot;as many as you need&quot;\r\n}\r\n\r\n// number needs to be between 1 and &quot;as many as you need&quot; (inclusive)\r\nvoid someMethod(int number) {\r\n    p[number - 1] = mapper.get(number);\r\n}\r\n```\r\n\r\nBut if your mapping is linear 1-&gt;a, 2-&gt;b, 26-&gt;z then you don&#39;t even need a mapper as you can compute the corresponding character on-the-fly.\r\n\r\n```\r\nstatic char[] p = new char[26];\r\n\r\nstatic {\r\n    for(int i = 0; i &lt; 26; i++) {\r\n        p[i] (char) (i + (int) &#39;a&#39;); \r\n    }\r\n}\r\n```\r\n\r\nThis being said, you&#39;re probably going down a bad road with what you&#39;re trying to achieve.\r\n\r\n1. Your example does not look like Java\r\n2. Your example doesn&#39;t achieve much, logically speaking","title":"Refer to a variable with a string","body":"<p>If you have control over the variables, then you can use an array + mapping logic instead of a multitude of variables and conditions.\nLet's say you have one array and one mapper:</p>\n<pre><code>char[] p = new char[2]; // or &quot;as many as you need&quot;\nstatic Map&lt;Integer, Character&gt; mapper = new HashMap&lt;&gt;();\n\nstatic {\n    mapper.put(1, 'a');\n    mapper.put(2, 'b');\n    // ... &quot;as many as you need&quot;\n}\n\n// number needs to be between 1 and &quot;as many as you need&quot; (inclusive)\nvoid someMethod(int number) {\n    p[number - 1] = mapper.get(number);\n}\n</code></pre>\n<p>But if your mapping is linear 1-&gt;a, 2-&gt;b, 26-&gt;z then you don't even need a mapper as you can compute the corresponding character on-the-fly.</p>\n<pre><code>static char[] p = new char[26];\n\nstatic {\n    for(int i = 0; i &lt; 26; i++) {\n        p[i] (char) (i + (int) 'a'); \n    }\n}\n</code></pre>\n<p>This being said, you're probably going down a bad road with what you're trying to achieve.</p>\n<ol>\n<li>Your example does not look like Java</li>\n<li>Your example doesn't achieve much, logically speaking</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":17619742,"reputation":718,"user_id":12785994,"display_name":"javadev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635884194,"creation_date":1635884194,"answer_id":69816448,"question_id":69814794,"body_markdown":"I think you should use the following:\r\n\r\n    if (number &gt; 0 &amp;&amp; number &lt; 27)\r\n         p = Character.toString(96+number);\r\n\r\n97 is the ASCII code for Capital A (A)\r\nYou can use a similar method for lower case (a).\r\n\r\n","title":"Refer to a variable with a string","body":"<p>I think you should use the following:</p>\n<pre><code>if (number &gt; 0 &amp;&amp; number &lt; 27)\n     p = Character.toString(96+number);\n</code></pre>\n<p>97 is the ASCII code for Capital A (A)\nYou can use a similar method for lower case (a).</p>\n"}],"owner":{"account_id":22591083,"reputation":11,"user_id":16774177,"display_name":"Saiker"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":108,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":4,"score":1,"last_activity_date":1635898267,"creation_date":1635875016,"question_id":69814794,"body_markdown":"Let&#39;s say I have 2 variables:\r\n\r\n    char p1;\r\n    char p2;\r\nThen I have a method that does something with one of the variables, based on the `int` argument:\r\n\r\n```    \r\n    void someMethod(int number) {\r\n        if (number == 1) {\r\n            p1 = &#39;a&#39;;\r\n        } else {\r\n            p2 = &#39;b&#39;;\r\n        }\r\n\r\n    }\r\n```\r\nThis is not very scalable.\r\n\r\nCould I refer to the `p1/p2` by some string appending, like `&quot;p&quot; + number`?\r\nOr any other way not to have to write a separate `if` for each case?\r\n\r\n\r\n","title":"Refer to a variable with a string","body":"<p>Let's say I have 2 variables:</p>\n<pre><code>char p1;\nchar p2;\n</code></pre>\n<p>Then I have a method that does something with one of the variables, based on the <code>int</code> argument:</p>\n<pre><code>    void someMethod(int number) {\n        if (number == 1) {\n            p1 = 'a';\n        } else {\n            p2 = 'b';\n        }\n\n    }\n</code></pre>\n<p>This is not very scalable.</p>\n<p>Could I refer to the <code>p1/p2</code> by some string appending, like <code>&quot;p&quot; + number</code>?\nOr any other way not to have to write a separate <code>if</code> for each case?</p>\n"},{"tags":["java","concurrenthashmap"],"comments":[{"owner":{"account_id":2345668,"reputation":13002,"user_id":2055998,"accept_rate":68,"display_name":"PM 77-1"},"score":0,"creation_date":1635885846,"post_id":69816644,"comment_id":123411314,"body_markdown":"In any map each key is associated with one and only one value object. The value object itself can be collection or composite, or both.","body":"In any map each key is associated with one and only one value object. The value object itself can be collection or composite, or both."},{"owner":{"account_id":3741438,"reputation":12025,"user_id":3111149,"accept_rate":87,"display_name":"Matteo NNZ"},"score":1,"creation_date":1635885950,"post_id":69816644,"comment_id":123411342,"body_markdown":"`userValues.get(key).remove(value1)`, because you want to remove the `value1` from the list associated to the key.","body":"<code>userValues.get(key).remove(value1)</code>, because you want to remove the <code>value1</code> from the list associated to the key."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635886291,"creation_date":1635886291,"answer_id":69816790,"question_id":69816644,"body_markdown":"Using `ArrayList` won&#39;t be thread-safe. You can switch the mapping function to `key -&gt; Collections.synchronizedList(new ArrayList&lt;&gt;())` \r\n\r\n    ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; userValues = new ConcurrentHashMap&lt;&gt;();\r\n    Function&lt;? super String, ? extends List&lt;String&gt;&gt; mappingFunction = key -&gt; Collections.synchronizedList(new ArrayList&lt;&gt;());\r\n\r\n    userValues.computeIfAbsent(user, mappingFunction).add(value1);\r\n    userValues.computeIfAbsent(user, mappingFunction).add(value2);\r\n    userValues.computeIfAbsent(user, mappingFunction).add(value3);\r\n    userValues.computeIfAbsent(user, mappingFunction).add(value4);\r\n\r\n    userValues.get(user).remove(value3);\r\n    =&gt;\r\n    userValues ==&gt; {user=[value1, value2, value4]}\r\n\r\nThere are other thread-safe List implementations you could consider such as `CopyOnWriteArrayList`.","title":"How to remove a value mapped to a key when a key has multiple values mapped to it in a concurrent hash map?","body":"<p>Using <code>ArrayList</code> won't be thread-safe. You can switch the mapping function to <code>key -&gt; Collections.synchronizedList(new ArrayList&lt;&gt;())</code></p>\n<pre><code>ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; userValues = new ConcurrentHashMap&lt;&gt;();\nFunction&lt;? super String, ? extends List&lt;String&gt;&gt; mappingFunction = key -&gt; Collections.synchronizedList(new ArrayList&lt;&gt;());\n\nuserValues.computeIfAbsent(user, mappingFunction).add(value1);\nuserValues.computeIfAbsent(user, mappingFunction).add(value2);\nuserValues.computeIfAbsent(user, mappingFunction).add(value3);\nuserValues.computeIfAbsent(user, mappingFunction).add(value4);\n\nuserValues.get(user).remove(value3);\n=&gt;\nuserValues ==&gt; {user=[value1, value2, value4]}\n</code></pre>\n<p>There are other thread-safe List implementations you could consider such as <code>CopyOnWriteArrayList</code>.</p>\n"},{"tags":[],"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635897927,"creation_date":1635897927,"answer_id":69818251,"question_id":69816644,"body_markdown":"The following is threadsafe though ugly.\r\nCheck javadocs for `ConcurrentHashMap.computeIfPresent` and `compute`!\r\n\r\n```\r\n   userValues.compute(user, (k, v) -&gt; {\r\n     if (v == null) v = new ArrayList&lt;&gt;();\r\n     v.add(value1);\r\n     return v;})\r\n\r\n   userValues.computeIfPresent(user, (k, v) -&gt; {v.remove(value1); return v;})\r\n```\r\n\r\n","title":"How to remove a value mapped to a key when a key has multiple values mapped to it in a concurrent hash map?","body":"<p>The following is threadsafe though ugly.\nCheck javadocs for <code>ConcurrentHashMap.computeIfPresent</code> and <code>compute</code>!</p>\n<pre><code>   userValues.compute(user, (k, v) -&gt; {\n     if (v == null) v = new ArrayList&lt;&gt;();\n     v.add(value1);\n     return v;})\n\n   userValues.computeIfPresent(user, (k, v) -&gt; {v.remove(value1); return v;})\n</code></pre>\n"}],"owner":{"account_id":22629463,"reputation":1,"user_id":16807078,"display_name":"user16807078"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635897927,"creation_date":1635885410,"question_id":69816644,"body_markdown":"I am new to concurrent hash maps and I was wondering if I could get some guidance on the ```.remove(key)``` method.\r\n\r\nIf I have a concurrent hash map that has 1 key but several mapped values to that key, how do I go about removing that value associated with the key but not remove the key and other values associated with the key?\r\n\r\nIf I have something like:\r\n```\r\nConcurrentHashMap&lt;String, List&lt;String&gt;&gt; userValues = new ConcurrentHashMap&lt;&gt;();\r\n   userValues.computeIfAbsent(user, key -&gt; new ArrayList&lt;&gt;()).add(value1);\r\n   userValues.computeIfAbsent(user, key -&gt; new ArrayList&lt;&gt;()).add(value2);\r\n   userValues.computeIfAbsent(user, key -&gt; new ArrayList&lt;&gt;()).add(value3);\r\n   userValues.computeIfAbsent(user, key -&gt; new ArrayList&lt;&gt;()).add(value4);\r\n```\r\nand I print out my map I get an output along the lines of:\r\n```\r\n{user=[value1, value2, value3, value4]}\r\n```\r\n\r\nAnd I want to do something along the lines of ```userValues.remove(value1)``` to have a new output of ```{user=[value2, value3, value4]}```\r\n\r\nHow do I correctly and thread-safely do what I want in the code above?","title":"How to remove a value mapped to a key when a key has multiple values mapped to it in a concurrent hash map?","body":"<p>I am new to concurrent hash maps and I was wondering if I could get some guidance on the <code>.remove(key)</code> method.</p>\n<p>If I have a concurrent hash map that has 1 key but several mapped values to that key, how do I go about removing that value associated with the key but not remove the key and other values associated with the key?</p>\n<p>If I have something like:</p>\n<pre><code>ConcurrentHashMap&lt;String, List&lt;String&gt;&gt; userValues = new ConcurrentHashMap&lt;&gt;();\n   userValues.computeIfAbsent(user, key -&gt; new ArrayList&lt;&gt;()).add(value1);\n   userValues.computeIfAbsent(user, key -&gt; new ArrayList&lt;&gt;()).add(value2);\n   userValues.computeIfAbsent(user, key -&gt; new ArrayList&lt;&gt;()).add(value3);\n   userValues.computeIfAbsent(user, key -&gt; new ArrayList&lt;&gt;()).add(value4);\n</code></pre>\n<p>and I print out my map I get an output along the lines of:</p>\n<pre><code>{user=[value1, value2, value3, value4]}\n</code></pre>\n<p>And I want to do something along the lines of <code>userValues.remove(value1)</code> to have a new output of <code>{user=[value2, value3, value4]}</code></p>\n<p>How do I correctly and thread-safely do what I want in the code above?</p>\n"},{"tags":["java","spring-boot","amazon-elastic-beanstalk","http-status-code-404","war"],"owner":{"account_id":22405831,"reputation":33,"user_id":16615386,"display_name":"Cole Newman"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635897737,"creation_date":1635897737,"question_id":69818239,"body_markdown":"What are the possible reasons for 404 not found on elastic beanstalk. I run my war file locally and /home brings me to my index.jsp with no problems but when the war is deployed to my aws environment I download the logs and everything looks to be running good, but when I go to the environment/home it gives me a 404 not found and the logs look like the controller maps to index.jsp but don&#39;t find the file. Thanks.","title":"Springboot project giving 404 not found on elastic beanstalk","body":"<p>What are the possible reasons for 404 not found on elastic beanstalk. I run my war file locally and /home brings me to my index.jsp with no problems but when the war is deployed to my aws environment I download the logs and everything looks to be running good, but when I go to the environment/home it gives me a 404 not found and the logs look like the controller maps to index.jsp but don't find the file. Thanks.</p>\n"},{"tags":["java","android","api","response"],"answers":[{"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635892915,"creation_date":1635892915,"answer_id":69817734,"question_id":69817678,"body_markdown":"The solution proposed in the question you linked really is your best bet.\r\n\r\nYou should send a request to the API at a fixed interval and if the response changes then compare the differences and send a notification based on those differences.\r\n\r\nBe sure to read the comments on [this answer][1] for further thoughts on this.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/64936985/14844306","title":"detect changes in an API response","body":"<p>The solution proposed in the question you linked really is your best bet.</p>\n<p>You should send a request to the API at a fixed interval and if the response changes then compare the differences and send a notification based on those differences.</p>\n<p>Be sure to read the comments on <a href=\"https://stackoverflow.com/a/64936985/14844306\">this answer</a> for further thoughts on this.</p>\n"},{"tags":[],"owner":{"account_id":96115,"reputation":1659,"user_id":261402,"accept_rate":79,"display_name":"Deniz Acay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635895032,"creation_date":1635895032,"answer_id":69817955,"question_id":69817678,"body_markdown":"I&#39;ll double that the solution proposed in the question you linked is the ideal way to go.\r\n\r\nIf you are wondering how to detect there are any changes in the API response, it depends on the response body format. For example, Jackson is pretty good at the deep comparison of JSON documents.\r\n\r\nIf the API response has the same overall structure (e.g. ordering of the elements are same, consistent field naming), you can compute a hash from the response body, store it and later compare hashes.","title":"detect changes in an API response","body":"<p>I'll double that the solution proposed in the question you linked is the ideal way to go.</p>\n<p>If you are wondering how to detect there are any changes in the API response, it depends on the response body format. For example, Jackson is pretty good at the deep comparison of JSON documents.</p>\n<p>If the API response has the same overall structure (e.g. ordering of the elements are same, consistent field naming), you can compute a hash from the response body, store it and later compare hashes.</p>\n"}],"owner":{"account_id":22815425,"reputation":1,"user_id":16966126,"display_name":"Mohamed Aziz Ben haj laroussi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1180,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635922622,"answer_count":2,"score":-2,"last_activity_date":1635895032,"creation_date":1635892513,"question_id":69817678,"body_markdown":"Guys I have the same problem in here which as you can see it&#39;s not solved : https://stackoverflow.com/questions/64936754/best-way-to-detect-changes-in-an-api-response/69811544#69811544\r\nand I really need to figure how to do this ","title":"detect changes in an API response","body":"<p>Guys I have the same problem in here which as you can see it's not solved : <a href=\"https://stackoverflow.com/questions/64936754/best-way-to-detect-changes-in-an-api-response/69811544#69811544\">Best way to detect changes in an API response</a>\nand I really need to figure how to do this</p>\n"},{"tags":["java","android","bluetooth"],"comments":[{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1364140702,"post_id":15591637,"comment_id":22122932,"body_markdown":"You are already parsing the data. So where is the problem?","body":"You are already parsing the data. So where is the problem?"},{"owner":{"account_id":356034,"reputation":997,"user_id":695312,"accept_rate":63,"display_name":"TrueWheel"},"score":0,"creation_date":1364143447,"post_id":15591637,"comment_id":22123920,"body_markdown":"@greenapps The parse doesn&#39;t work. The hex string I spent isn&#39;t in the format I am expecting. So I cannot extract the blood pressure values from it. Everything inside else if (data[0] == (byte)0xE7){ } is probably wrong. Any pointers would be really appreciated. Thanks.","body":"@greenapps The parse doesn&#39;t work. The hex string I spent isn&#39;t in the format I am expecting. So I cannot extract the blood pressure values from it. Everything inside else if (data[0] == (byte)0xE7){ } is probably wrong. Any pointers would be really appreciated. Thanks."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1364202054,"post_id":15591637,"comment_id":22140324,"body_markdown":"Did you wrote that parsing code or did you copy it from the pdf?","body":"Did you wrote that parsing code or did you copy it from the pdf?"},{"owner":{"account_id":356034,"reputation":997,"user_id":695312,"accept_rate":63,"display_name":"TrueWheel"},"score":0,"creation_date":1364206083,"post_id":15591637,"comment_id":22142290,"body_markdown":"@greenapps I got this code from another example using a different monitor.","body":"@greenapps I got this code from another example using a different monitor."},{"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"score":0,"creation_date":1364213879,"post_id":15591637,"comment_id":22146404,"body_markdown":"What is a different monitor?","body":"What is a different monitor?"},{"owner":{"account_id":356034,"reputation":997,"user_id":695312,"accept_rate":63,"display_name":"TrueWheel"},"score":0,"creation_date":1364214142,"post_id":15591637,"comment_id":22146546,"body_markdown":"A different blood pressure monitor. But it uses the same standardized Health Device Profile bluetooth protocol.","body":"A different blood pressure monitor. But it uses the same standardized Health Device Profile bluetooth protocol."},{"owner":{"account_id":59558,"reputation":1552,"user_id":178173,"accept_rate":94,"display_name":"BabaBooey"},"score":0,"creation_date":1368800643,"post_id":15591637,"comment_id":23880423,"body_markdown":"This is one of the few posts I&#39;ve come across dealing with the Continua standard from a developer&#39;s perspective. How did you find working with Continua from a technical perspective? I know the effort has been around for a while, but I haven&#39;t seen many developers getting excited about it.","body":"This is one of the few posts I&#39;ve come across dealing with the Continua standard from a developer&#39;s perspective. How did you find working with Continua from a technical perspective? I know the effort has been around for a while, but I haven&#39;t seen many developers getting excited about it."}],"answers":[{"tags":[],"owner":{"account_id":2414645,"reputation":11194,"user_id":2108972,"display_name":"greenapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1444207050,"creation_date":1364202676,"answer_id":15611139,"question_id":15591637,"body_markdown":"The data buffer contains 2byte values and 4byte values. Probably shorts and ints as you can see in the pdf. Do you account for that?\r\n\r\n    0xE7 0x00           APDU CHOICE Type (PrstApdu)  \r\n    0x00 0x84           CHOICE.length= 132  \r\n    0x00 0x82           OCTET STRING.length = 130  \r\n    0x00 0x01           invoke-id (differentiates this message from any other outstanding)  \r\n    0x01 0x01           CHOICE (Remote Operation Invoke | Confirmed Event Report)  \r\n    0x00 0x7C           CHOICE.length = 124  \r\n    0x00 0x00           obj-handle = 0 (MDS object)  \r\n    0x00 0x00 0x10 0x15 event-time (set to 0xFFFFFFFF if RelativeTime is not supported)  \r\n    0x0D 0x1C           event-type = MDC_NOTI_CONFIG   ","title":"Parsing raw data received from bluetooth HDP device","body":"<p>The data buffer contains 2byte values and 4byte values. Probably shorts and ints as you can see in the pdf. Do you account for that?</p>\n\n<pre><code>0xE7 0x00           APDU CHOICE Type (PrstApdu)  \n0x00 0x84           CHOICE.length= 132  \n0x00 0x82           OCTET STRING.length = 130  \n0x00 0x01           invoke-id (differentiates this message from any other outstanding)  \n0x01 0x01           CHOICE (Remote Operation Invoke | Confirmed Event Report)  \n0x00 0x7C           CHOICE.length = 124  \n0x00 0x00           obj-handle = 0 (MDS object)  \n0x00 0x00 0x10 0x15 event-time (set to 0xFFFFFFFF if RelativeTime is not supported)  \n0x0D 0x1C           event-type = MDC_NOTI_CONFIG   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":2841083,"reputation":1179,"user_id":2440692,"display_name":"neuralprocessing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1444207160,"creation_date":1375273126,"answer_id":17970210,"question_id":15591637,"body_markdown":"you maybe should send the right device address in the data_AR back to the device - in your case: 002209225835c328\r\n\r\ntherefor you should exchange:                                                    \r\n\r\n    (byte) 0x00, (byte) 0x08,  //bt add for phone, can be automate in the future\r\n                                                        \r\n    (byte) 0x3C, (byte) 0x5A, (byte) 0x37, (byte) 0xFF, \r\n                                                        \r\n    (byte) 0xFE, (byte) 0x95, (byte) 0xEE, (byte) 0xE3,\r\n\r\nwith:\r\n                                                    \r\n    (byte) 0x00, (byte) 0x08,  //bt add for phone, can be automate in the future\r\n                                                        \r\n    (byte) 0x00, (byte) 0x22, (byte) 0x09, (byte) 0x22, \r\n                                                        \r\n    (byte) 0x58, (byte) 0x35, (byte) 0xc3, (byte) 0x28,\r\n\r\nand also use the \r\n`0x00 0x03 result = accepted-unknown-config` like\r\n            \r\n    final byte data_AR[] = new byte[] {         \r\n                 (byte) 0xE3, (byte) 0x00,\r\n                 (byte) 0x00, (byte) 0x2C, \r\n                 (byte) 0x00, (byte) 0x03,\r\n\r\n\r\n**EDIT:**\r\n\r\nI made an Error - the Address is not the one of your BPM-DEvice but of your Phone...\r\nTo get a EUI 64-Bit Address out of your 48bit MAC Address, just split it in the middle and add 0xFF 0xFE like:\r\n`BT 48bit MAC [00:11:22:33:44:55]` becomes\r\n\r\n    EUI 64 Bit [00:11:22:FF:FE:33:44:55] \r\n\r\nI am very sorry\r\n\r\n","title":"Parsing raw data received from bluetooth HDP device","body":"<p>you maybe should send the right device address in the data_AR back to the device - in your case: 002209225835c328</p>\n\n<p>therefor you should exchange:                                                    </p>\n\n<pre><code>(byte) 0x00, (byte) 0x08,  //bt add for phone, can be automate in the future\n\n(byte) 0x3C, (byte) 0x5A, (byte) 0x37, (byte) 0xFF, \n\n(byte) 0xFE, (byte) 0x95, (byte) 0xEE, (byte) 0xE3,\n</code></pre>\n\n<p>with:</p>\n\n<pre><code>(byte) 0x00, (byte) 0x08,  //bt add for phone, can be automate in the future\n\n(byte) 0x00, (byte) 0x22, (byte) 0x09, (byte) 0x22, \n\n(byte) 0x58, (byte) 0x35, (byte) 0xc3, (byte) 0x28,\n</code></pre>\n\n<p>and also use the \n<code>0x00 0x03 result = accepted-unknown-config</code> like</p>\n\n<pre><code>final byte data_AR[] = new byte[] {         \n             (byte) 0xE3, (byte) 0x00,\n             (byte) 0x00, (byte) 0x2C, \n             (byte) 0x00, (byte) 0x03,\n</code></pre>\n\n<p><strong>EDIT:</strong></p>\n\n<p>I made an Error - the Address is not the one of your BPM-DEvice but of your Phone...\nTo get a EUI 64-Bit Address out of your 48bit MAC Address, just split it in the middle and add 0xFF 0xFE like:\n<code>BT 48bit MAC [00:11:22:33:44:55]</code> becomes</p>\n\n<pre><code>EUI 64 Bit [00:11:22:FF:FE:33:44:55] \n</code></pre>\n\n<p>I am very sorry</p>\n"},{"tags":[],"owner":{"account_id":2841083,"reputation":1179,"user_id":2440692,"display_name":"neuralprocessing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375350888,"creation_date":1375349434,"answer_id":17990212,"question_id":15591637,"body_markdown":"@ Jieqin - great that you got it too :)\r\n\r\npaste this in your reading thread under the block of\r\n    \r\n    else if (data[0] == (byte)0xE7){\r\n    Log.i(TAG, &quot;E7&quot;);\r\n    //work for legacy device...\r\n    if (data[18] == (byte) 0x0d &amp;&amp; data[19] == (byte) 0x1d)  //fixed report\r\n to parse your agents answer - and if it works, please rate my hints :)\r\n\r\n    else if (data[18] == (byte) 0x0d &amp;&amp; data[19] == (byte) 0x1f)  //mp var report\r\n                            {\r\n                                    count = 999; \r\n                                    //set invoke id so get correct response\r\n                                    invoke = new byte[] { data[6], data[7] };\r\n                                    //write back response\r\n                                    (new WriteThread(mFd)).start();     \r\n                                    //parse data!!\r\n                                    int length = data[21];\r\n                                    Log.i(TAG, &quot;length is &quot; + length);\r\n                                    // check data-req-id \r\n                                    int report_no = data[25];\r\n                                    int number_of_data_packets = data[29];\r\n                                    //packet_start starts from handle 0 byte\r\n                                    int packet_start = 36;\r\n                                    final int SYS_DIA_MAP_DATA = 1;\r\n                                    final int PULSE_DATA = 2;\r\n                                    final int STATUS = 3;\r\n                                    for (int i = 0; i &lt; number_of_data_packets; i++)\r\n                                    {\r\n                                        int obj_handle = data[packet_start+1];\r\n                                        switch (obj_handle)\r\n                                        {\r\n                                        case SYS_DIA_MAP_DATA:\r\n                                            int sys = byteToUnsignedInt(data[packet_start+9]);\r\n                                            int dia = byteToUnsignedInt(data[packet_start+11]);\r\n                                            int map = byteToUnsignedInt(data[packet_start+13]);\r\n\r\n                                            Log.i(TAG, &quot;sys is &quot;+ sys);\r\n                                            sendMessage(RECEIVED_SYS, sys);\r\n                                            Log.i(TAG, &quot;dia is &quot;+ dia);\r\n                                            sendMessage(RECEIVED_DIA, dia);\r\n                                            Log.i(TAG, &quot;map is &quot;+ map);\r\n\r\n                                            break;\r\n                                        case PULSE_DATA:\r\n                                            //parse\r\n                                            int pulse = byteToUnsignedInt(data[packet_start+5]);\r\n                                            Log.i(TAG, &quot;pulse is &quot; + pulse);\r\n                                            sendMessage(RECEIVED_PUL, pulse);\r\n                                            break;\r\n                                        case STATUS:\r\n                                            //need more signal\r\n                                        \tLog.i(TAG, &quot;STATUS&quot;);\r\n                                            break;\r\n                                        }\r\n                                        packet_start += byteToUnsignedInt(data[packet_start+3]) + 4;   //4 = ignore beginning four bytes\r\n                                    }                               \r\n                            }","title":"Parsing raw data received from bluetooth HDP device","body":"<p>@ Jieqin - great that you got it too :)</p>\n\n<p>paste this in your reading thread under the block of</p>\n\n<pre><code>else if (data[0] == (byte)0xE7){\nLog.i(TAG, \"E7\");\n//work for legacy device...\nif (data[18] == (byte) 0x0d &amp;&amp; data[19] == (byte) 0x1d)  //fixed report\n</code></pre>\n\n<p>to parse your agents answer - and if it works, please rate my hints :)</p>\n\n<pre><code>else if (data[18] == (byte) 0x0d &amp;&amp; data[19] == (byte) 0x1f)  //mp var report\n                        {\n                                count = 999; \n                                //set invoke id so get correct response\n                                invoke = new byte[] { data[6], data[7] };\n                                //write back response\n                                (new WriteThread(mFd)).start();     \n                                //parse data!!\n                                int length = data[21];\n                                Log.i(TAG, \"length is \" + length);\n                                // check data-req-id \n                                int report_no = data[25];\n                                int number_of_data_packets = data[29];\n                                //packet_start starts from handle 0 byte\n                                int packet_start = 36;\n                                final int SYS_DIA_MAP_DATA = 1;\n                                final int PULSE_DATA = 2;\n                                final int STATUS = 3;\n                                for (int i = 0; i &lt; number_of_data_packets; i++)\n                                {\n                                    int obj_handle = data[packet_start+1];\n                                    switch (obj_handle)\n                                    {\n                                    case SYS_DIA_MAP_DATA:\n                                        int sys = byteToUnsignedInt(data[packet_start+9]);\n                                        int dia = byteToUnsignedInt(data[packet_start+11]);\n                                        int map = byteToUnsignedInt(data[packet_start+13]);\n\n                                        Log.i(TAG, \"sys is \"+ sys);\n                                        sendMessage(RECEIVED_SYS, sys);\n                                        Log.i(TAG, \"dia is \"+ dia);\n                                        sendMessage(RECEIVED_DIA, dia);\n                                        Log.i(TAG, \"map is \"+ map);\n\n                                        break;\n                                    case PULSE_DATA:\n                                        //parse\n                                        int pulse = byteToUnsignedInt(data[packet_start+5]);\n                                        Log.i(TAG, \"pulse is \" + pulse);\n                                        sendMessage(RECEIVED_PUL, pulse);\n                                        break;\n                                    case STATUS:\n                                        //need more signal\n                                        Log.i(TAG, \"STATUS\");\n                                        break;\n                                    }\n                                    packet_start += byteToUnsignedInt(data[packet_start+3]) + 4;   //4 = ignore beginning four bytes\n                                }                               \n                        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2841083,"reputation":1179,"user_id":2440692,"display_name":"neuralprocessing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1375358440,"creation_date":1375358121,"answer_id":17993373,"question_id":15591637,"body_markdown":"afaik you have to choose between automatic or push upload.\r\n\r\nif automatic is working and you can read the data, then just disable auto upload and push the data via the upload button to your device directly after a measurenment...\r\n\r\nregards","title":"Parsing raw data received from bluetooth HDP device","body":"<p>afaik you have to choose between automatic or push upload.</p>\n\n<p>if automatic is working and you can read the data, then just disable auto upload and push the data via the upload button to your device directly after a measurenment...</p>\n\n<p>regards</p>\n"},{"tags":[],"owner":{"account_id":356034,"reputation":997,"user_id":695312,"accept_rate":63,"display_name":"TrueWheel"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1375362681,"creation_date":1375362681,"answer_id":17995031,"question_id":15591637,"body_markdown":"I managed to solve the problem. The main issue I had was that I only took one blood pressure reading then kept pressing upload. This does upload some information about the monitor but doesn&#39;t include a blood pressure reading. Once I knew this I had a number of other smaller bugs to solve but nothing too complicated. The code for the final working service is below. \r\n\r\n    public class BluetoothHDPService extends Service {\r\n        private static final String TAG = &quot;BluetoothHDPService&quot;;\r\n    \r\n        public static final int RESULT_OK = 0;\r\n        public static final int RESULT_FAIL = -1;\r\n    \r\n        // Status codes sent back to the UI client.\r\n        // Application registration complete.\r\n        public static final int STATUS_HEALTH_APP_REG = 100;\r\n        // Application unregistration complete.\r\n        public static final int STATUS_HEALTH_APP_UNREG = 101;\r\n        // Channel creation complete.\r\n        public static final int STATUS_CREATE_CHANNEL = 102;\r\n        // Channel destroy complete.\r\n        public static final int STATUS_DESTROY_CHANNEL = 103;\r\n        // Reading data from Bluetooth HDP device.\r\n        public static final int STATUS_READ_DATA = 104;\r\n        // Done with reading data.\r\n        public static final int STATUS_READ_DATA_DONE = 105;\r\n    \r\n        // Message codes received from the UI client.\r\n        // Register client with this service.\r\n        public static final int MSG_REG_CLIENT = 200;\r\n        // Unregister client from this service.\r\n        public static final int MSG_UNREG_CLIENT = 201;\r\n        // Register health application.\r\n        public static final int MSG_REG_HEALTH_APP = 300;\r\n        // Unregister health application.\r\n        public static final int MSG_UNREG_HEALTH_APP = 301;\r\n        // Connect channel.\r\n        public static final int MSG_CONNECT_CHANNEL = 400;\r\n        // Disconnect channel.\r\n        public static final int MSG_DISCONNECT_CHANNEL = 401;\r\n    \r\n    \tpublic static final int RECEIVED_SYS = 901;\r\n    \r\n    \tpublic static final int RECEIVED_DIA = 902;\r\n    \r\n    \tpublic static final int RECEIVED_PUL = 903;\r\n        \r\n        private int count;\r\n        private byte[] invoke = {0x00, 0x00};\r\n    \r\n        private BluetoothHealthAppConfiguration mHealthAppConfig;\r\n        private BluetoothAdapter mBluetoothAdapter;\r\n        private BluetoothHealth mBluetoothHealth;\r\n        private BluetoothDevice mDevice;\r\n        private int mChannelId;\r\n    \r\n        private Messenger mClient;\r\n    \r\n        // Handles events sent by {@link HealthHDPActivity}.\r\n        @SuppressLint(&quot;HandlerLeak&quot;)\r\n    \tprivate class IncomingHandler extends Handler {\r\n            @Override\r\n            public void handleMessage(Message msg) {\r\n                switch (msg.what) {\r\n                    // Register UI client to this service so the client can receive messages.\r\n                    case MSG_REG_CLIENT:\r\n                        Log.d(TAG, &quot;Activity client registered&quot;);\r\n                        mClient = msg.replyTo;\r\n                        break;\r\n                    // Unregister UI client from this service.\r\n                    case MSG_UNREG_CLIENT:\r\n                        mClient = null;\r\n                        break;\r\n                    // Register health application.\r\n                    case MSG_REG_HEALTH_APP:\r\n                        registerApp(msg.arg1);\r\n                        break;\r\n                    // Unregister health application.\r\n                    case MSG_UNREG_HEALTH_APP:\r\n                        unregisterApp();\r\n                        break;\r\n                    // Connect channel.\r\n                    case MSG_CONNECT_CHANNEL:\r\n                        mDevice = (BluetoothDevice) msg.obj;\r\n                        connectChannel();\r\n                        break;\r\n                    // Disconnect channel.\r\n                    case MSG_DISCONNECT_CHANNEL:\r\n                        mDevice = (BluetoothDevice) msg.obj;\r\n                        disconnectChannel();\r\n                        break;\r\n                    default:\r\n                        super.handleMessage(msg);\r\n                }\r\n            }\r\n        }\r\n    \r\n        final Messenger mMessenger = new Messenger(new IncomingHandler());\r\n    \r\n        /**\r\n         * Make sure Bluetooth and health profile are available on the Android device.  Stop service\r\n         * if they are not available.\r\n         */\r\n        @SuppressLint(&quot;ShowToast&quot;)\r\n    \t@Override\r\n        public void onCreate() {\r\n            super.onCreate();\r\n            \r\n            Log.e(&quot;TEST&quot;, &quot;HDPService Created&quot;);\r\n            \r\n            mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\r\n            if (mBluetoothAdapter == null || !mBluetoothAdapter.isEnabled()) {\r\n                // Bluetooth adapter isn&#39;t available.  The client of the service is supposed to\r\n                // verify that it is available and activate before invoking this service.\r\n                stopSelf();\r\n                return;\r\n            }\r\n            if (!mBluetoothAdapter.getProfileProxy(this, mBluetoothServiceListener,\r\n                    BluetoothProfile.HEALTH)) {\r\n                Toast.makeText(this, &quot;bluetooth_health_profile_not_available&quot;, \r\n                \t\tToast.LENGTH_LONG);\r\n                stopSelf();\r\n                return;\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        public int onStartCommand(Intent intent, int flags, int startId) {\r\n            Log.d(TAG, &quot;BluetoothHDPService is running.&quot;);\r\n            return START_STICKY;\r\n        }\r\n    \r\n        @Override\r\n        public IBinder onBind(Intent intent) {\r\n            return mMessenger.getBinder();\r\n        };\r\n    \r\n        // Register health application through the Bluetooth Health API.\r\n        private void registerApp(int dataType) {\r\n        \tLog.e(TAG, &quot;registerApp()&quot;);\r\n            mBluetoothHealth.registerSinkAppConfiguration(TAG, dataType, mHealthCallback);\r\n        }\r\n    \r\n        // Unregister health application through the Bluetooth Health API.\r\n        private void unregisterApp() {\r\n        \tLog.e(TAG, &quot;unregisterApp()&quot;);\r\n            mBluetoothHealth.unregisterAppConfiguration(mHealthAppConfig);\r\n        }\r\n    \r\n        // Connect channel through the Bluetooth Health API.\r\n        private void connectChannel() {\r\n            Log.i(TAG, &quot;connectChannel()&quot;);\r\n            mBluetoothHealth.connectChannelToSource(mDevice, mHealthAppConfig);\r\n        }\r\n    \r\n        // Disconnect channel through the Bluetooth Health API.\r\n        private void disconnectChannel() {\r\n            Log.i(TAG, &quot;disconnectChannel()&quot;);\r\n            mBluetoothHealth.disconnectChannel(mDevice, mHealthAppConfig, mChannelId);\r\n        }\r\n    \r\n        // Callbacks to handle connection set up and disconnection clean up.\r\n        private final BluetoothProfile.ServiceListener mBluetoothServiceListener =\r\n                new BluetoothProfile.ServiceListener() {\r\n            public void onServiceConnected(int profile, BluetoothProfile proxy) {\r\n                if (profile == BluetoothProfile.HEALTH) {\r\n                    mBluetoothHealth = (BluetoothHealth) proxy;\r\n                    if (Log.isLoggable(TAG, Log.DEBUG))\r\n                        Log.d(TAG, &quot;onServiceConnected to profile: &quot; + profile);\r\n                }\r\n            }\r\n    \r\n            public void onServiceDisconnected(int profile) {\r\n                if (profile == BluetoothProfile.HEALTH) {\r\n                    mBluetoothHealth = null;\r\n                }\r\n            }\r\n        };\r\n    \r\n        private final BluetoothHealthCallback mHealthCallback = new BluetoothHealthCallback() {\r\n            // Callback to handle application registration and unregistration events.  The service\r\n            // passes the status back to the UI client.\r\n            public void onHealthAppConfigurationStatusChange(BluetoothHealthAppConfiguration config,\r\n                    int status) {\r\n                if (status == BluetoothHealth.APP_CONFIG_REGISTRATION_FAILURE) {\r\n                    mHealthAppConfig = null;\r\n                    sendMessage(STATUS_HEALTH_APP_REG, RESULT_FAIL);\r\n                } else if (status == BluetoothHealth.APP_CONFIG_REGISTRATION_SUCCESS) {\r\n                    mHealthAppConfig = config;\r\n                    sendMessage(STATUS_HEALTH_APP_REG, RESULT_OK);\r\n                } else if (status == BluetoothHealth.APP_CONFIG_UNREGISTRATION_FAILURE ||\r\n                        status == BluetoothHealth.APP_CONFIG_UNREGISTRATION_SUCCESS) {\r\n                    sendMessage(STATUS_HEALTH_APP_UNREG,\r\n                            status == BluetoothHealth.APP_CONFIG_UNREGISTRATION_SUCCESS ?\r\n                            RESULT_OK : RESULT_FAIL);\r\n                }\r\n            }\r\n    \r\n            // Callback to handle channel connection state changes.\r\n            // Note that the logic of the state machine may need to be modified based on the HDP device.\r\n            // When the HDP device is connected, the received file descriptor is passed to the\r\n            // ReadThread to read the content.\r\n            public void onHealthChannelStateChange(BluetoothHealthAppConfiguration config,\r\n                    BluetoothDevice device, int prevState, int newState, ParcelFileDescriptor fd,\r\n                    int channelId) {\r\n            \t\r\n            \tLog.e(&quot;Read Thread&quot;, &quot;Start If Statements&quot;);\r\n            \tLog.e(&quot;Read Thread&quot;, &quot;prevState: &quot; + prevState);\r\n            \tLog.e(&quot;Read Thread&quot;, &quot;newState: &quot; + newState);\r\n    \r\n                if (Log.isLoggable(TAG, Log.DEBUG))\r\n                    Log.d(TAG, String.format(&quot;prevState\\t%d ----------&gt; newState\\t%d&quot;,\r\n                            prevState, newState));\r\n                \r\n    //            if (prevState != BluetoothHealth.STATE_CHANNEL_CONNECTED &amp;&amp;\r\n    //                    newState == BluetoothHealth.STATE_CHANNEL_CONNECTED) {\r\n    \r\n                if (prevState == BluetoothHealth.STATE_CHANNEL_DISCONNECTED &amp;&amp;\r\n                        newState == BluetoothHealth.STATE_CHANNEL_CONNECTED) {\r\n                    if (config.equals(mHealthAppConfig)) {\r\n                        mChannelId = channelId;\r\n                        sendMessage(STATUS_CREATE_CHANNEL, RESULT_OK);\r\n                        Log.e(&quot;Read Thread&quot;, &quot;Read  Start 1&quot;);\r\n                        (new ReadThread(fd)).start();\r\n                    } else {\r\n                    \tLog.e(&quot;Read Thread&quot;, &quot;Status Create Channel Fail 1&quot;);\r\n                        sendMessage(STATUS_CREATE_CHANNEL, RESULT_FAIL);\r\n                    }\r\n                } else if (prevState == BluetoothHealth.STATE_CHANNEL_CONNECTING &amp;&amp;\r\n                           newState == BluetoothHealth.STATE_CHANNEL_DISCONNECTED) {\r\n                    sendMessage(STATUS_CREATE_CHANNEL, RESULT_FAIL);\r\n                    Log.e(&quot;Read Thread&quot;, &quot;Status Create Channel Fail 2&quot;);\r\n                } else if (newState == BluetoothHealth.STATE_CHANNEL_DISCONNECTED) {\r\n                    if (config.equals(mHealthAppConfig)) {\r\n                        sendMessage(STATUS_DESTROY_CHANNEL, RESULT_OK);\r\n                        Log.e(&quot;Read Thread&quot;, &quot;Status Disconnect OK&quot;);\r\n                    } else {\r\n                        sendMessage(STATUS_DESTROY_CHANNEL, RESULT_FAIL);\r\n                        Log.e(&quot;Read Thread&quot;, &quot;Status Disconnect FAIL&quot;);\r\n                    }\r\n                }else if (prevState == BluetoothHealth.STATE_CHANNEL_CONNECTING &amp;&amp; newState == BluetoothHealth.STATE_CHANNEL_CONNECTED) {\r\n                    if (config.equals(mHealthAppConfig)) {\r\n                        mChannelId = channelId;\r\n                        sendMessage(STATUS_CREATE_CHANNEL, RESULT_OK);\r\n                        Log.e(&quot;Read Thread&quot;, &quot;Read  Start 2&quot;);\r\n                        (new ReadThread(fd)).start();\r\n                    } else {\r\n    \t                sendMessage(STATUS_CREATE_CHANNEL, RESULT_FAIL);\r\n    \t                Log.e(&quot;Read Thread&quot;, &quot;Status Create Channel Fail 3&quot;);\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    \r\n        // Sends an update message to registered UI client.\r\n        private void sendMessage(int what, int value) {\r\n            if (mClient == null) {\r\n                Log.d(TAG, &quot;No clients registered.&quot;);\r\n                return;\r\n            }\r\n    \r\n            try {\r\n                mClient.send(Message.obtain(null, what, value, 0));\r\n            } catch (RemoteException e) {\r\n                // Unable to reach client.\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public String byte2hex(byte[] b){\r\n         // String Buffer can be used instead\r\n           String hs = &quot;&quot;;\r\n           String stmp = &quot;&quot;;\r\n    \r\n           for (int n = 0; n &lt; b.length; n++){\r\n              stmp = (java.lang.Integer.toHexString(b[n] &amp; 0XFF));\r\n    \r\n              if (stmp.length() == 1){\r\n                 hs = hs + &quot;0&quot; + stmp;\r\n              }\r\n              else{\r\n                 hs = hs + stmp;\r\n              }\r\n              if (n &lt; b.length - 1){\r\n                 hs = hs + &quot;&quot;;\r\n              }\r\n           }\r\n    \r\n           return hs;\r\n        }\r\n    \r\n        public static int byteToUnsignedInt(byte b) {\r\n            return 0x00 &lt;&lt; 24 | b &amp; 0xff;\r\n        }\r\n        \r\n        public static int toInt(byte[] bytes) {\r\n        \t  int ret = 0;\r\n        \t  for (int i=0; i&lt;4 &amp;&amp; i&lt;bytes.length; i++) {\r\n        \t    ret &lt;&lt;= 8;\r\n        \t    ret |= (int)bytes[i] &amp; 0xFF;\r\n        \t  }\r\n        \t  return ret;\r\n        }\r\n        \r\n        // Thread to read incoming data received from the HDP device.  This sample application merely\r\n        // reads the raw byte from the incoming file descriptor.  The data should be interpreted using\r\n        // a health manager which implements the IEEE 11073-xxxxx specifications.\r\n        private class ReadThread extends Thread {\r\n            private ParcelFileDescriptor mFd;\r\n    \r\n            public ReadThread(ParcelFileDescriptor fd) {\r\n                super();\r\n                mFd = fd;\r\n            }\r\n    \r\n            @Override\r\n            public void run() {\r\n            \tLog.e(&quot;TEST&quot;, &quot;Read Data 1&quot;);\r\n                FileInputStream fis = new FileInputStream(mFd.getFileDescriptor());\r\n                final byte data[] = new byte[200];\r\n                Log.i(TAG, &quot;Read Data 2&quot;);\r\n                try {\r\n                    while(fis.read(data) &gt; -1) {\r\n                        // At this point, the application can pass the raw data to a parser that\r\n                        // has implemented the IEEE 11073-xxxxx specifications.  Instead, this sample\r\n                        // simply indicates that some data has been received.\r\n    \r\n               \t\t \tLog.i(TAG, &quot;INBOUND&quot;);\r\n               \t\t \tString test = byte2hex(data);\r\n                        Log.i(TAG, test);\r\n    \r\n                    \t if (data[0] != (byte) 0x00)\r\n                         {\r\n    \r\n                             if(data[0] == (byte) 0xE2){\r\n                                 Log.i(TAG, &quot;E2 - Association Request&quot;);\r\n                                 count = 1;\r\n                                 \r\n                                 (new WriteThread(mFd)).start();\r\n                                 try {\r\n                                     sleep(100);\r\n                                 } catch (InterruptedException e) {\r\n                                     e.printStackTrace();\r\n                                 }\r\n                                 count = 2;\r\n                                 (new WriteThread(mFd)).start();\r\n                             }\r\n                             else if (data[0] == (byte)0xE7){\r\n                                 Log.i(TAG, &quot;E7 - Data Given&quot;);\r\n                                                            \r\n                                 \r\n                                 if(data[3] != (byte)0xda){\r\n                                \t \r\n                                \t invoke[0] = data[6];\r\n                                \t invoke[1] = data[7];\r\n                                \t \r\n                                \t \tLog.i(TAG, &quot;E7 - Reading?&quot;);\r\n                                \t \tByteBuffer sys = ByteBuffer.allocate(2);\r\n    \t                                 sys.order(ByteOrder.LITTLE_ENDIAN);\r\n    \t                                 sys.put(data[45]);\r\n    \t                                 sys.put(data[46]);\r\n    \t                                 short sysVal = sys.getShort(0);\r\n    \t                                 Log.i(TAG, &quot; Sys - &quot;+sysVal);\r\n    \t                                 \r\n    \t                           \t \tByteBuffer dia = ByteBuffer.allocate(2);\r\n    \t                                 dia.order(ByteOrder.LITTLE_ENDIAN);\r\n    \t                                 dia.put(data[47]);\r\n    \t                                 dia.put(data[48]);\r\n    \t                                 short diaVal = dia.getShort(0);\r\n    \t                                 Log.i(TAG, &quot; Dia - &quot;+diaVal);\r\n    \t                                 \r\n    \t                                 sendMessage(9919, diaVal);\r\n    \t                                 sendMessage(9920, sysVal);\r\n    \t                                 \r\n    \t                                 \r\n    \t                                 \r\n    \t                               for(int i=0; i&lt;(data.length-2); i++){\r\n    \t                            \t ByteBuffer bb = ByteBuffer.allocate(2);\r\n    \t                                 bb.order(ByteOrder.LITTLE_ENDIAN);\r\n    \t                                 bb.put(data[i]);\r\n    \t                                 bb.put(data[i+1]);\r\n    \t                                 short shortVal = bb.getShort(0);\r\n    \t                                 Log.i(TAG, i+&quot; Short Val - &quot;+shortVal);\r\n    \t                            \t \r\n    \t                             }\r\n    \t                              \r\n    \t                               count = 3; \r\n    \t                               //set invoke id so get correct response \r\n    \t                               (new WriteThread(mFd)).start();\r\n                                 }\r\n                                 //parse data!!\r\n                             }\r\n                             else if (data[0] == (byte) 0xE4)\r\n                             {\r\n                                 //count = 4;\r\n                                // (new WriteThread(mFd)).start();\r\n                             }\r\n                             //zero out the data\r\n                             for (int i = 0; i &lt; data.length; i++){\r\n                                 data[i] = (byte) 0x00;\r\n                             }\r\n                         }\r\n                         sendMessage(STATUS_READ_DATA, 0);\r\n                    }\r\n                } catch(IOException ioe) {}\r\n                if (mFd != null) {\r\n                    try {\r\n                        mFd.close();\r\n                    } catch (IOException e) { /* Do nothing. */ }\r\n                }\r\n                sendMessage(STATUS_READ_DATA_DONE, 0);\r\n            }\r\n        }\r\n        \r\n        private class WriteThread extends Thread {\r\n            private ParcelFileDescriptor mFd;\r\n    \r\n            public WriteThread(ParcelFileDescriptor fd) {\r\n                super();\r\n                mFd = fd;\r\n            }\r\n    \r\n            @Override\r\n            public void run() {\r\n                FileOutputStream fos = new FileOutputStream(mFd.getFileDescriptor());\r\n                final byte data_AR[] = new byte[] {         (byte) 0xE3, (byte) 0x00,\r\n                                                            (byte) 0x00, (byte) 0x2C, \r\n                                                            (byte) 0x00, (byte) 0x00,\r\n                                                            (byte) 0x50, (byte) 0x79,\r\n                                                            (byte) 0x00, (byte) 0x26,\r\n                                                            (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\r\n                                                            (byte) 0x80, (byte) 0x00,\r\n                                                            (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\r\n                                                            (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00,\r\n                                                            (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\r\n                                                            (byte) 0x00, (byte) 0x08,  //bt add for phone, can be automate in the future\r\n                                                            (byte) 0x3C, (byte) 0x5A, (byte) 0x37, (byte) 0xFF, \r\n                                                            (byte) 0xFE, (byte) 0x95, (byte) 0xEE, (byte) 0xE3,\r\n                                                            (byte) 0x00, (byte) 0x00,\r\n                                                            (byte) 0x00, (byte) 0x00,\r\n                                                            (byte) 0x00, (byte) 0x00, \r\n                                                            (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00};\r\n                final byte data_DR[] = new byte[] {         (byte) 0xE7, (byte) 0x00,\r\n                                                            (byte) 0x00, (byte) 0x12,\r\n                                                            (byte) 0x00, (byte) 0x10,\r\n                                                            (byte) 0x00, (byte) 0x24,\r\n                                                            (byte) 0x02, (byte) 0x01,\r\n                                                            (byte) 0x00, (byte) 0x0A,\r\n                                                            (byte) 0x00, (byte) 0x00,\r\n                                                            (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00,\r\n                                                            (byte) 0x0D, (byte) 0x1D,\r\n                                                            (byte) 0x00, (byte) 0x00 };\r\n    \r\n                final byte get_MDS[] = new byte[] {         (byte) 0xE7, (byte) 0x00,\r\n                                                            (byte) 0x00, (byte) 0x0E,\r\n                                                            (byte) 0x00, (byte) 0x0C,\r\n                                                            (byte) 0x00, (byte) 0x24,\r\n                                                            (byte) 0x01, (byte) 0x03,\r\n                                                            (byte) 0x00, (byte) 0x06,\r\n                                                            (byte) 0x00, (byte) 0x00,\r\n                                                            (byte) 0x00, (byte) 0x00,\r\n                                                            (byte) 0x00, (byte) 0x00 };\r\n    \r\n                final byte data_RR[] = new byte[] {         (byte) 0xE5, (byte) 0x00,\r\n                                                            (byte) 0x00, (byte) 0x02,\r\n                                                            (byte) 0x00, (byte) 0x00 };\r\n    \r\n    //            final byte data_RRQ[] = new byte[] {        (byte) 0xE4, (byte) 0x00,\r\n    //                                                        (byte) 0x00, (byte) 0x02,\r\n    //                                                        (byte) 0x00, (byte) 0x00 };\r\n    //\r\n    //            final byte data_ABORT[] = new byte[] {      (byte) 0xE6, (byte) 0x00,\r\n    //                                                        (byte) 0x00, (byte) 0x02,\r\n    //                                                        (byte) 0x00, (byte) 0x00 };\r\n                try {\r\n                    Log.i(TAG, String.valueOf(count));\r\n                    if (count == 1)\r\n                    {\r\n                        fos.write(data_AR);\r\n                        Log.i(TAG, &quot;Association Responded!&quot;);\r\n                    }  \r\n                    else if (count == 2)\r\n                    {\r\n                        fos.write(get_MDS);\r\n                        Log.i(TAG, &quot;Get MDS object attributes!&quot;);\r\n                    }\r\n                    else if (count == 3) \r\n                    {\r\n                        fos.write(data_DR);\r\n                        Log.i(TAG, &quot;Data Responsed!&quot;);\r\n                    }\r\n                    else if (count == 4)\r\n                    {\r\n                        fos.write(data_RR);\r\n                        Log.i(TAG, &quot;Data Released!&quot;);\r\n                    }\r\n                } catch(IOException ioe) {}\r\n            }\r\n            \r\n        }\r\n    }","title":"Parsing raw data received from bluetooth HDP device","body":"<p>I managed to solve the problem. The main issue I had was that I only took one blood pressure reading then kept pressing upload. This does upload some information about the monitor but doesn't include a blood pressure reading. Once I knew this I had a number of other smaller bugs to solve but nothing too complicated. The code for the final working service is below. </p>\n\n<pre><code>public class BluetoothHDPService extends Service {\n    private static final String TAG = \"BluetoothHDPService\";\n\n    public static final int RESULT_OK = 0;\n    public static final int RESULT_FAIL = -1;\n\n    // Status codes sent back to the UI client.\n    // Application registration complete.\n    public static final int STATUS_HEALTH_APP_REG = 100;\n    // Application unregistration complete.\n    public static final int STATUS_HEALTH_APP_UNREG = 101;\n    // Channel creation complete.\n    public static final int STATUS_CREATE_CHANNEL = 102;\n    // Channel destroy complete.\n    public static final int STATUS_DESTROY_CHANNEL = 103;\n    // Reading data from Bluetooth HDP device.\n    public static final int STATUS_READ_DATA = 104;\n    // Done with reading data.\n    public static final int STATUS_READ_DATA_DONE = 105;\n\n    // Message codes received from the UI client.\n    // Register client with this service.\n    public static final int MSG_REG_CLIENT = 200;\n    // Unregister client from this service.\n    public static final int MSG_UNREG_CLIENT = 201;\n    // Register health application.\n    public static final int MSG_REG_HEALTH_APP = 300;\n    // Unregister health application.\n    public static final int MSG_UNREG_HEALTH_APP = 301;\n    // Connect channel.\n    public static final int MSG_CONNECT_CHANNEL = 400;\n    // Disconnect channel.\n    public static final int MSG_DISCONNECT_CHANNEL = 401;\n\n    public static final int RECEIVED_SYS = 901;\n\n    public static final int RECEIVED_DIA = 902;\n\n    public static final int RECEIVED_PUL = 903;\n\n    private int count;\n    private byte[] invoke = {0x00, 0x00};\n\n    private BluetoothHealthAppConfiguration mHealthAppConfig;\n    private BluetoothAdapter mBluetoothAdapter;\n    private BluetoothHealth mBluetoothHealth;\n    private BluetoothDevice mDevice;\n    private int mChannelId;\n\n    private Messenger mClient;\n\n    // Handles events sent by {@link HealthHDPActivity}.\n    @SuppressLint(\"HandlerLeak\")\n    private class IncomingHandler extends Handler {\n        @Override\n        public void handleMessage(Message msg) {\n            switch (msg.what) {\n                // Register UI client to this service so the client can receive messages.\n                case MSG_REG_CLIENT:\n                    Log.d(TAG, \"Activity client registered\");\n                    mClient = msg.replyTo;\n                    break;\n                // Unregister UI client from this service.\n                case MSG_UNREG_CLIENT:\n                    mClient = null;\n                    break;\n                // Register health application.\n                case MSG_REG_HEALTH_APP:\n                    registerApp(msg.arg1);\n                    break;\n                // Unregister health application.\n                case MSG_UNREG_HEALTH_APP:\n                    unregisterApp();\n                    break;\n                // Connect channel.\n                case MSG_CONNECT_CHANNEL:\n                    mDevice = (BluetoothDevice) msg.obj;\n                    connectChannel();\n                    break;\n                // Disconnect channel.\n                case MSG_DISCONNECT_CHANNEL:\n                    mDevice = (BluetoothDevice) msg.obj;\n                    disconnectChannel();\n                    break;\n                default:\n                    super.handleMessage(msg);\n            }\n        }\n    }\n\n    final Messenger mMessenger = new Messenger(new IncomingHandler());\n\n    /**\n     * Make sure Bluetooth and health profile are available on the Android device.  Stop service\n     * if they are not available.\n     */\n    @SuppressLint(\"ShowToast\")\n    @Override\n    public void onCreate() {\n        super.onCreate();\n\n        Log.e(\"TEST\", \"HDPService Created\");\n\n        mBluetoothAdapter = BluetoothAdapter.getDefaultAdapter();\n        if (mBluetoothAdapter == null || !mBluetoothAdapter.isEnabled()) {\n            // Bluetooth adapter isn't available.  The client of the service is supposed to\n            // verify that it is available and activate before invoking this service.\n            stopSelf();\n            return;\n        }\n        if (!mBluetoothAdapter.getProfileProxy(this, mBluetoothServiceListener,\n                BluetoothProfile.HEALTH)) {\n            Toast.makeText(this, \"bluetooth_health_profile_not_available\", \n                    Toast.LENGTH_LONG);\n            stopSelf();\n            return;\n        }\n    }\n\n    @Override\n    public int onStartCommand(Intent intent, int flags, int startId) {\n        Log.d(TAG, \"BluetoothHDPService is running.\");\n        return START_STICKY;\n    }\n\n    @Override\n    public IBinder onBind(Intent intent) {\n        return mMessenger.getBinder();\n    };\n\n    // Register health application through the Bluetooth Health API.\n    private void registerApp(int dataType) {\n        Log.e(TAG, \"registerApp()\");\n        mBluetoothHealth.registerSinkAppConfiguration(TAG, dataType, mHealthCallback);\n    }\n\n    // Unregister health application through the Bluetooth Health API.\n    private void unregisterApp() {\n        Log.e(TAG, \"unregisterApp()\");\n        mBluetoothHealth.unregisterAppConfiguration(mHealthAppConfig);\n    }\n\n    // Connect channel through the Bluetooth Health API.\n    private void connectChannel() {\n        Log.i(TAG, \"connectChannel()\");\n        mBluetoothHealth.connectChannelToSource(mDevice, mHealthAppConfig);\n    }\n\n    // Disconnect channel through the Bluetooth Health API.\n    private void disconnectChannel() {\n        Log.i(TAG, \"disconnectChannel()\");\n        mBluetoothHealth.disconnectChannel(mDevice, mHealthAppConfig, mChannelId);\n    }\n\n    // Callbacks to handle connection set up and disconnection clean up.\n    private final BluetoothProfile.ServiceListener mBluetoothServiceListener =\n            new BluetoothProfile.ServiceListener() {\n        public void onServiceConnected(int profile, BluetoothProfile proxy) {\n            if (profile == BluetoothProfile.HEALTH) {\n                mBluetoothHealth = (BluetoothHealth) proxy;\n                if (Log.isLoggable(TAG, Log.DEBUG))\n                    Log.d(TAG, \"onServiceConnected to profile: \" + profile);\n            }\n        }\n\n        public void onServiceDisconnected(int profile) {\n            if (profile == BluetoothProfile.HEALTH) {\n                mBluetoothHealth = null;\n            }\n        }\n    };\n\n    private final BluetoothHealthCallback mHealthCallback = new BluetoothHealthCallback() {\n        // Callback to handle application registration and unregistration events.  The service\n        // passes the status back to the UI client.\n        public void onHealthAppConfigurationStatusChange(BluetoothHealthAppConfiguration config,\n                int status) {\n            if (status == BluetoothHealth.APP_CONFIG_REGISTRATION_FAILURE) {\n                mHealthAppConfig = null;\n                sendMessage(STATUS_HEALTH_APP_REG, RESULT_FAIL);\n            } else if (status == BluetoothHealth.APP_CONFIG_REGISTRATION_SUCCESS) {\n                mHealthAppConfig = config;\n                sendMessage(STATUS_HEALTH_APP_REG, RESULT_OK);\n            } else if (status == BluetoothHealth.APP_CONFIG_UNREGISTRATION_FAILURE ||\n                    status == BluetoothHealth.APP_CONFIG_UNREGISTRATION_SUCCESS) {\n                sendMessage(STATUS_HEALTH_APP_UNREG,\n                        status == BluetoothHealth.APP_CONFIG_UNREGISTRATION_SUCCESS ?\n                        RESULT_OK : RESULT_FAIL);\n            }\n        }\n\n        // Callback to handle channel connection state changes.\n        // Note that the logic of the state machine may need to be modified based on the HDP device.\n        // When the HDP device is connected, the received file descriptor is passed to the\n        // ReadThread to read the content.\n        public void onHealthChannelStateChange(BluetoothHealthAppConfiguration config,\n                BluetoothDevice device, int prevState, int newState, ParcelFileDescriptor fd,\n                int channelId) {\n\n            Log.e(\"Read Thread\", \"Start If Statements\");\n            Log.e(\"Read Thread\", \"prevState: \" + prevState);\n            Log.e(\"Read Thread\", \"newState: \" + newState);\n\n            if (Log.isLoggable(TAG, Log.DEBUG))\n                Log.d(TAG, String.format(\"prevState\\t%d ----------&gt; newState\\t%d\",\n                        prevState, newState));\n\n//            if (prevState != BluetoothHealth.STATE_CHANNEL_CONNECTED &amp;&amp;\n//                    newState == BluetoothHealth.STATE_CHANNEL_CONNECTED) {\n\n            if (prevState == BluetoothHealth.STATE_CHANNEL_DISCONNECTED &amp;&amp;\n                    newState == BluetoothHealth.STATE_CHANNEL_CONNECTED) {\n                if (config.equals(mHealthAppConfig)) {\n                    mChannelId = channelId;\n                    sendMessage(STATUS_CREATE_CHANNEL, RESULT_OK);\n                    Log.e(\"Read Thread\", \"Read  Start 1\");\n                    (new ReadThread(fd)).start();\n                } else {\n                    Log.e(\"Read Thread\", \"Status Create Channel Fail 1\");\n                    sendMessage(STATUS_CREATE_CHANNEL, RESULT_FAIL);\n                }\n            } else if (prevState == BluetoothHealth.STATE_CHANNEL_CONNECTING &amp;&amp;\n                       newState == BluetoothHealth.STATE_CHANNEL_DISCONNECTED) {\n                sendMessage(STATUS_CREATE_CHANNEL, RESULT_FAIL);\n                Log.e(\"Read Thread\", \"Status Create Channel Fail 2\");\n            } else if (newState == BluetoothHealth.STATE_CHANNEL_DISCONNECTED) {\n                if (config.equals(mHealthAppConfig)) {\n                    sendMessage(STATUS_DESTROY_CHANNEL, RESULT_OK);\n                    Log.e(\"Read Thread\", \"Status Disconnect OK\");\n                } else {\n                    sendMessage(STATUS_DESTROY_CHANNEL, RESULT_FAIL);\n                    Log.e(\"Read Thread\", \"Status Disconnect FAIL\");\n                }\n            }else if (prevState == BluetoothHealth.STATE_CHANNEL_CONNECTING &amp;&amp; newState == BluetoothHealth.STATE_CHANNEL_CONNECTED) {\n                if (config.equals(mHealthAppConfig)) {\n                    mChannelId = channelId;\n                    sendMessage(STATUS_CREATE_CHANNEL, RESULT_OK);\n                    Log.e(\"Read Thread\", \"Read  Start 2\");\n                    (new ReadThread(fd)).start();\n                } else {\n                    sendMessage(STATUS_CREATE_CHANNEL, RESULT_FAIL);\n                    Log.e(\"Read Thread\", \"Status Create Channel Fail 3\");\n                }\n            }\n        }\n    };\n\n    // Sends an update message to registered UI client.\n    private void sendMessage(int what, int value) {\n        if (mClient == null) {\n            Log.d(TAG, \"No clients registered.\");\n            return;\n        }\n\n        try {\n            mClient.send(Message.obtain(null, what, value, 0));\n        } catch (RemoteException e) {\n            // Unable to reach client.\n            e.printStackTrace();\n        }\n    }\n\n    public String byte2hex(byte[] b){\n     // String Buffer can be used instead\n       String hs = \"\";\n       String stmp = \"\";\n\n       for (int n = 0; n &lt; b.length; n++){\n          stmp = (java.lang.Integer.toHexString(b[n] &amp; 0XFF));\n\n          if (stmp.length() == 1){\n             hs = hs + \"0\" + stmp;\n          }\n          else{\n             hs = hs + stmp;\n          }\n          if (n &lt; b.length - 1){\n             hs = hs + \"\";\n          }\n       }\n\n       return hs;\n    }\n\n    public static int byteToUnsignedInt(byte b) {\n        return 0x00 &lt;&lt; 24 | b &amp; 0xff;\n    }\n\n    public static int toInt(byte[] bytes) {\n          int ret = 0;\n          for (int i=0; i&lt;4 &amp;&amp; i&lt;bytes.length; i++) {\n            ret &lt;&lt;= 8;\n            ret |= (int)bytes[i] &amp; 0xFF;\n          }\n          return ret;\n    }\n\n    // Thread to read incoming data received from the HDP device.  This sample application merely\n    // reads the raw byte from the incoming file descriptor.  The data should be interpreted using\n    // a health manager which implements the IEEE 11073-xxxxx specifications.\n    private class ReadThread extends Thread {\n        private ParcelFileDescriptor mFd;\n\n        public ReadThread(ParcelFileDescriptor fd) {\n            super();\n            mFd = fd;\n        }\n\n        @Override\n        public void run() {\n            Log.e(\"TEST\", \"Read Data 1\");\n            FileInputStream fis = new FileInputStream(mFd.getFileDescriptor());\n            final byte data[] = new byte[200];\n            Log.i(TAG, \"Read Data 2\");\n            try {\n                while(fis.read(data) &gt; -1) {\n                    // At this point, the application can pass the raw data to a parser that\n                    // has implemented the IEEE 11073-xxxxx specifications.  Instead, this sample\n                    // simply indicates that some data has been received.\n\n                    Log.i(TAG, \"INBOUND\");\n                    String test = byte2hex(data);\n                    Log.i(TAG, test);\n\n                     if (data[0] != (byte) 0x00)\n                     {\n\n                         if(data[0] == (byte) 0xE2){\n                             Log.i(TAG, \"E2 - Association Request\");\n                             count = 1;\n\n                             (new WriteThread(mFd)).start();\n                             try {\n                                 sleep(100);\n                             } catch (InterruptedException e) {\n                                 e.printStackTrace();\n                             }\n                             count = 2;\n                             (new WriteThread(mFd)).start();\n                         }\n                         else if (data[0] == (byte)0xE7){\n                             Log.i(TAG, \"E7 - Data Given\");\n\n\n                             if(data[3] != (byte)0xda){\n\n                                 invoke[0] = data[6];\n                                 invoke[1] = data[7];\n\n                                    Log.i(TAG, \"E7 - Reading?\");\n                                    ByteBuffer sys = ByteBuffer.allocate(2);\n                                     sys.order(ByteOrder.LITTLE_ENDIAN);\n                                     sys.put(data[45]);\n                                     sys.put(data[46]);\n                                     short sysVal = sys.getShort(0);\n                                     Log.i(TAG, \" Sys - \"+sysVal);\n\n                                    ByteBuffer dia = ByteBuffer.allocate(2);\n                                     dia.order(ByteOrder.LITTLE_ENDIAN);\n                                     dia.put(data[47]);\n                                     dia.put(data[48]);\n                                     short diaVal = dia.getShort(0);\n                                     Log.i(TAG, \" Dia - \"+diaVal);\n\n                                     sendMessage(9919, diaVal);\n                                     sendMessage(9920, sysVal);\n\n\n\n                                   for(int i=0; i&lt;(data.length-2); i++){\n                                     ByteBuffer bb = ByteBuffer.allocate(2);\n                                     bb.order(ByteOrder.LITTLE_ENDIAN);\n                                     bb.put(data[i]);\n                                     bb.put(data[i+1]);\n                                     short shortVal = bb.getShort(0);\n                                     Log.i(TAG, i+\" Short Val - \"+shortVal);\n\n                                 }\n\n                                   count = 3; \n                                   //set invoke id so get correct response \n                                   (new WriteThread(mFd)).start();\n                             }\n                             //parse data!!\n                         }\n                         else if (data[0] == (byte) 0xE4)\n                         {\n                             //count = 4;\n                            // (new WriteThread(mFd)).start();\n                         }\n                         //zero out the data\n                         for (int i = 0; i &lt; data.length; i++){\n                             data[i] = (byte) 0x00;\n                         }\n                     }\n                     sendMessage(STATUS_READ_DATA, 0);\n                }\n            } catch(IOException ioe) {}\n            if (mFd != null) {\n                try {\n                    mFd.close();\n                } catch (IOException e) { /* Do nothing. */ }\n            }\n            sendMessage(STATUS_READ_DATA_DONE, 0);\n        }\n    }\n\n    private class WriteThread extends Thread {\n        private ParcelFileDescriptor mFd;\n\n        public WriteThread(ParcelFileDescriptor fd) {\n            super();\n            mFd = fd;\n        }\n\n        @Override\n        public void run() {\n            FileOutputStream fos = new FileOutputStream(mFd.getFileDescriptor());\n            final byte data_AR[] = new byte[] {         (byte) 0xE3, (byte) 0x00,\n                                                        (byte) 0x00, (byte) 0x2C, \n                                                        (byte) 0x00, (byte) 0x00,\n                                                        (byte) 0x50, (byte) 0x79,\n                                                        (byte) 0x00, (byte) 0x26,\n                                                        (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\n                                                        (byte) 0x80, (byte) 0x00,\n                                                        (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\n                                                        (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00,\n                                                        (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\n                                                        (byte) 0x00, (byte) 0x08,  //bt add for phone, can be automate in the future\n                                                        (byte) 0x3C, (byte) 0x5A, (byte) 0x37, (byte) 0xFF, \n                                                        (byte) 0xFE, (byte) 0x95, (byte) 0xEE, (byte) 0xE3,\n                                                        (byte) 0x00, (byte) 0x00,\n                                                        (byte) 0x00, (byte) 0x00,\n                                                        (byte) 0x00, (byte) 0x00, \n                                                        (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00};\n            final byte data_DR[] = new byte[] {         (byte) 0xE7, (byte) 0x00,\n                                                        (byte) 0x00, (byte) 0x12,\n                                                        (byte) 0x00, (byte) 0x10,\n                                                        (byte) 0x00, (byte) 0x24,\n                                                        (byte) 0x02, (byte) 0x01,\n                                                        (byte) 0x00, (byte) 0x0A,\n                                                        (byte) 0x00, (byte) 0x00,\n                                                        (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00,\n                                                        (byte) 0x0D, (byte) 0x1D,\n                                                        (byte) 0x00, (byte) 0x00 };\n\n            final byte get_MDS[] = new byte[] {         (byte) 0xE7, (byte) 0x00,\n                                                        (byte) 0x00, (byte) 0x0E,\n                                                        (byte) 0x00, (byte) 0x0C,\n                                                        (byte) 0x00, (byte) 0x24,\n                                                        (byte) 0x01, (byte) 0x03,\n                                                        (byte) 0x00, (byte) 0x06,\n                                                        (byte) 0x00, (byte) 0x00,\n                                                        (byte) 0x00, (byte) 0x00,\n                                                        (byte) 0x00, (byte) 0x00 };\n\n            final byte data_RR[] = new byte[] {         (byte) 0xE5, (byte) 0x00,\n                                                        (byte) 0x00, (byte) 0x02,\n                                                        (byte) 0x00, (byte) 0x00 };\n\n//            final byte data_RRQ[] = new byte[] {        (byte) 0xE4, (byte) 0x00,\n//                                                        (byte) 0x00, (byte) 0x02,\n//                                                        (byte) 0x00, (byte) 0x00 };\n//\n//            final byte data_ABORT[] = new byte[] {      (byte) 0xE6, (byte) 0x00,\n//                                                        (byte) 0x00, (byte) 0x02,\n//                                                        (byte) 0x00, (byte) 0x00 };\n            try {\n                Log.i(TAG, String.valueOf(count));\n                if (count == 1)\n                {\n                    fos.write(data_AR);\n                    Log.i(TAG, \"Association Responded!\");\n                }  \n                else if (count == 2)\n                {\n                    fos.write(get_MDS);\n                    Log.i(TAG, \"Get MDS object attributes!\");\n                }\n                else if (count == 3) \n                {\n                    fos.write(data_DR);\n                    Log.i(TAG, \"Data Responsed!\");\n                }\n                else if (count == 4)\n                {\n                    fos.write(data_RR);\n                    Log.i(TAG, \"Data Released!\");\n                }\n            } catch(IOException ioe) {}\n        }\n\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2841083,"reputation":1179,"user_id":2440692,"display_name":"neuralprocessing"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1375869903,"creation_date":1375869903,"answer_id":18100493,"question_id":15591637,"body_markdown":"I read the IEEE from here: [IEEE 11073-20601-2008][1] \r\n\r\nPlease look at page 57 on CLause 7.4.4:\r\n\r\n&gt; Agent-initiated measurement data transmission is sent by the agent,\r\n&gt; for example, as a result of a new measurement that is taken.\r\n&gt; Manager-initiated measurement data transmission is explicitly\r\n&gt; requested by the manager by issuing a command (i.e., MDS-Data-Request)\r\n&gt; to instruct the agent to start or stop sending measurement data.\r\n&gt; Dependent on the capability of the agent, the time period while this\r\n&gt; reporting mode is active is configurable (e.g., fixed period or always\r\n&gt; while associated). A manager shall support receipt of both agent- and\r\n&gt; manager-initiated measurement data transmission from an agent. An\r\n&gt; agent may support generation of either one or both agent- and\r\n&gt; manager-initiated measurement data transmission. In both agent- and\r\n&gt; manager-initiated measurement data transmission, event reports are\r\n&gt; used to carry the measurement data.\r\n\r\n\r\n  [1]: http://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=05703195","title":"Parsing raw data received from bluetooth HDP device","body":"<p>I read the IEEE from here: <a href=\"http://ieeexplore.ieee.org/stamp/stamp.jsp?arnumber=05703195\" rel=\"nofollow\">IEEE 11073-20601-2008</a> </p>\n\n<p>Please look at page 57 on CLause 7.4.4:</p>\n\n<blockquote>\n  <p>Agent-initiated measurement data transmission is sent by the agent,\n  for example, as a result of a new measurement that is taken.\n  Manager-initiated measurement data transmission is explicitly\n  requested by the manager by issuing a command (i.e., MDS-Data-Request)\n  to instruct the agent to start or stop sending measurement data.\n  Dependent on the capability of the agent, the time period while this\n  reporting mode is active is configurable (e.g., fixed period or always\n  while associated). A manager shall support receipt of both agent- and\n  manager-initiated measurement data transmission from an agent. An\n  agent may support generation of either one or both agent- and\n  manager-initiated measurement data transmission. In both agent- and\n  manager-initiated measurement data transmission, event reports are\n  used to carry the measurement data.</p>\n</blockquote>\n"}],"owner":{"account_id":356034,"reputation":997,"user_id":695312,"accept_rate":63,"display_name":"TrueWheel"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":11993,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":17995031,"answer_count":6,"score":6,"last_activity_date":1635894984,"creation_date":1364070092,"question_id":15591637,"body_markdown":"I am trying to read data from an Omron 708-BT Blood Pressure Monitor which is certified by the continua health alliance. I am following this example [of a Bluetooth HDP App][1]. I am managing to connect to the device and retrieve data in byte format but cannot parse the data to get the values needed. I am trying to follow the IEEE Blood Pressure specification specified on page 19 of this [PDF][2].\r\n\r\nHere is the code which has been added to the example code linked above.\r\n\r\n    //Variables in the class\r\n    private int count;\r\n    private byte[] invoke = {0x00, 0x00};\r\n    private class ReadThread extends Thread {\r\n        private ParcelFileDescriptor mFd;\r\n\r\n        public ReadThread(ParcelFileDescriptor fd) {\r\n            super();\r\n            mFd = fd;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            FileInputStream fis = new FileInputStream(mFd.getFileDescriptor());\r\n            final byte data[] = new byte[300];\r\n            try {\r\n                while(fis.read(data) &gt; -1) {\r\n                    // At this point, the application can pass the raw data to a parser that\r\n                    // has implemented the IEEE 11073-xxxxx specifications.  Instead, this sample\r\n                    // simply indicates that some data has been received\r\n                \tLog.e(&quot;Test&quot;, data.toString());\t\r\n\r\n                \t if (data[0] != (byte) 0x00)\r\n                     {\r\n                         String test = byte2hex(data);\r\n                         Log.i(TAG, test);\r\n                         if(data[0] == (byte) 0xE2){\r\n                             Log.i(TAG, &quot;E2&quot;);\r\n                             count = 1;\r\n                             \r\n                             (new WriteThread(mFd)).start();\r\n                             try {\r\n                                 sleep(100);\r\n                             } catch (InterruptedException e) {\r\n                                 e.printStackTrace();\r\n                             }\r\n                             Log.i(TAG, &quot;Seconds Write Thread&quot;);\r\n                             count = 2;\r\n                             (new WriteThread(mFd)).start();\r\n                         }\r\n                         else if (data[0] == (byte)0xE7){\r\n                             Log.i(TAG, &quot;E7&quot;);\r\n                             \r\n                             count = 3; \r\n                             //set invoke id so get correct response\r\n                             invoke = new byte[] { data[6], data[7] };\r\n                             (new WriteThread(mFd)).start();     \r\n                             //parse data!!\r\n\t                         int number_of_data_packets = data[25];\r\n\t                         int packet_start = 30;\r\n\t                         final int SYS_DIA_MAP_DATA = 1;\r\n\t                         final int PULSE_DATA = 2;\r\n\t                         final int ERROR_CODE_DATA = 3;\r\n\r\n\t                         for (int i = 0; i &lt; number_of_data_packets; i++){\r\n\t                        \t \tLog.e(&quot;TEST&quot;, Integer.toString(i));\r\n\t                               int obj_handle = data[packet_start+1];\r\n\t                               switch (obj_handle)\r\n\t                               {\r\n\t                               case SYS_DIA_MAP_DATA:\r\n\t                                   int sys = byteToUnsignedInt(data[packet_start+9]);\r\n\t                                   int dia = byteToUnsignedInt(data[packet_start+11]);\r\n\t                                   int map = byteToUnsignedInt(data[packet_start+13]);\r\n\t                                   //create team string... 9+13~9+20   \r\n\t                                   Log.e(&quot;RESULT&quot;, &quot;sys is &quot;+ sys);\r\n\t                                   sendMessage(RECEIVED_SYS, sys);\r\n\t                                   Log.e(&quot;RESULT&quot;, &quot;dia is &quot;+ dia);\r\n\t                                   sendMessage(RECEIVED_DIA, dia);\r\n\t                                   Log.e(&quot;RESULT&quot;, &quot;map is &quot;+ map);\r\n\t\r\n\t                                   break;\r\n\t                               case PULSE_DATA:\r\n\t                                   //parse\r\n\t                                   int pulse = byteToUnsignedInt(data[packet_start+5]);\r\n\t                                   Log.e(&quot;RESULT&quot;, &quot;pulse is &quot; + pulse);\r\n\t                                   sendMessage(RECEIVED_PUL, pulse);\r\n\t                                   break;\r\n\t                               case ERROR_CODE_DATA:\r\n\t                                   //need more signal\r\n\t                                   break;\r\n\t                               }\r\n\t                               packet_start += 1;//4 + data[packet_start+3];   //4 = ignore beginning four bytes\r\n\t                           }  \r\n                         }\r\n                         else if (data[0] == (byte) 0xE4)\r\n                         {\r\n                       \r\n                             count = 4;\r\n                             (new WriteThread(mFd)).start();\r\n                         }\r\n                         //zero out the data\r\n                         for (int i = 0; i &lt; data.length; i++){\r\n                             data[i] = (byte) 0x00;\r\n                         }\r\n                     }\r\n                     sendMessage(STATUS_READ_DATA, 0);\r\n                }\r\n            } catch(IOException ioe) {}\r\n            if (mFd != null) {\r\n                try {\r\n                    mFd.close();\r\n                } catch (IOException e) { /* Do nothing. */ }\r\n            }\r\n            sendMessage(STATUS_READ_DATA_DONE, 0);\r\n        }\r\n    }\r\n    \r\n    private class WriteThread extends Thread {\r\n        private ParcelFileDescriptor mFd;\r\n\r\n        public WriteThread(ParcelFileDescriptor fd) {\r\n            super();\r\n            mFd = fd;\r\n        }\r\n\r\n        @Override\r\n        public void run() {\r\n            FileOutputStream fos = new FileOutputStream(mFd.getFileDescriptor());\r\n            final byte data_AR[] = new byte[] {         (byte) 0xE3, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x2C, \r\n                                                        (byte) 0x00, (byte) 0x00,\r\n                                                        (byte) 0x50, (byte) 0x79,\r\n                                                        (byte) 0x00, (byte) 0x26,\r\n                                                        (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\r\n                                                        (byte) 0x80, (byte) 0x00,\r\n                                                        (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00,\r\n                                                        (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x08,  //bt add for phone, can be automate in the future\r\n                                                        (byte) 0x3C, (byte) 0x5A, (byte) 0x37, (byte) 0xFF, \r\n                                                        (byte) 0xFE, (byte) 0x95, (byte) 0xEE, (byte) 0xE3,\r\n                                                        (byte) 0x00, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x00, \r\n                                                        (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00};\r\n            final byte data_DR[] = new byte[] {         (byte) 0xE7, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x12,\r\n                                                        (byte) 0x00, (byte) 0x10,\r\n                                                        (byte) invoke[0], (byte) invoke[1],\r\n                                                        (byte) 0x02, (byte) 0x01,\r\n                                                        (byte) 0x00, (byte) 0x0A,\r\n                                                        (byte) 0x00, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00,\r\n                                                        (byte) 0x0D, (byte) 0x1D,\r\n                                                        (byte) 0x00, (byte) 0x00 };\r\n\r\n            final byte get_MDS[] = new byte[] {         (byte) 0xE7, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x0E,\r\n                                                        (byte) 0x00, (byte) 0x0C,\r\n                                                        (byte) 0x00, (byte) 0x24,\r\n                                                        (byte) 0x01, (byte) 0x03,\r\n                                                        (byte) 0x00, (byte) 0x06,\r\n                                                        (byte) 0x00, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x00 };\r\n\r\n            final byte data_RR[] = new byte[] {         (byte) 0xE5, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x02,\r\n                                                        (byte) 0x00, (byte) 0x00 };\r\n\r\n            final byte data_RRQ[] = new byte[] {        (byte) 0xE4, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x02,\r\n                                                        (byte) 0x00, (byte) 0x00 };\r\n\r\n            final byte data_ABORT[] = new byte[] {      (byte) 0xE6, (byte) 0x00,\r\n                                                        (byte) 0x00, (byte) 0x02,\r\n                                                        (byte) 0x00, (byte) 0x00 };\r\n            try {\r\n                Log.i(TAG, String.valueOf(count));\r\n                if (count == 1)\r\n                {\r\n                    fos.write(data_AR);\r\n                    Log.i(TAG, &quot;Association Responded!&quot;);\r\n                }  \r\n                else if (count == 2)\r\n                {\r\n                    fos.write(get_MDS);\r\n                    Log.i(TAG, &quot;Get MDS object attributes!&quot;);\r\n                }\r\n                else if (count == 3) \r\n                {\r\n                    fos.write(data_DR);\r\n                    Log.i(TAG, &quot;Data Responsed!&quot;);\r\n                }\r\n                else if (count == 4)\r\n                {\r\n                    fos.write(data_RR);\r\n                    Log.i(TAG, &quot;Data Released!&quot;);\r\n                }\r\n            } catch(IOException ioe) {}\r\n        }\r\n\r\n The hex representation of the data is the following. I believe this data hold the values from the blood pressure values but may be wrong. The only reason I believe this is because in the PDF linked above it days the data will start with the hex value e7. \r\n\r\n&gt; 03-23 20:14:44.186: I/BluetoothHDPService(23652):\r\n&gt; e70000da00d80024020300d20000000a00cc0928002000104f4d524f4e204845414c544843415245000c48454d2d373038312d4954000984000a0008002209225835c3280a5a000800010004100700010a4400024000092d00360002003200010001001653455249414c5f4e554d4245523a200000000000004100050001001046575f5245564953494f4e3a203130310914000400005dc00a4b0016000200120201000801000001000200070202000200000a450010c0101f00ffffffff00640000000000000a550008000100040a620006098700082010010100013600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000\r\n\r\n  [1]: https://github.com/james11/BluetoothHDPActivity/tree/3f64bf701fbbfa51cbc3472d5826a7b1c6957ad4/src/com/larc/bluetooth/health\r\n  [2]: http://www.telemedicina.ufsc.br/padroes/images/11073_10407_2008.pdf\r\n","title":"Parsing raw data received from bluetooth HDP device","body":"<p>I am trying to read data from an Omron 708-BT Blood Pressure Monitor which is certified by the continua health alliance. I am following this example <a href=\"https://github.com/james11/BluetoothHDPActivity/tree/3f64bf701fbbfa51cbc3472d5826a7b1c6957ad4/src/com/larc/bluetooth/health\" rel=\"nofollow noreferrer\">of a Bluetooth HDP App</a>. I am managing to connect to the device and retrieve data in byte format but cannot parse the data to get the values needed. I am trying to follow the IEEE Blood Pressure specification specified on page 19 of this <a href=\"http://www.telemedicina.ufsc.br/padroes/images/11073_10407_2008.pdf\" rel=\"nofollow noreferrer\">PDF</a>.</p>\n<p>Here is the code which has been added to the example code linked above.</p>\n<pre><code>//Variables in the class\nprivate int count;\nprivate byte[] invoke = {0x00, 0x00};\nprivate class ReadThread extends Thread {\n    private ParcelFileDescriptor mFd;\n\n    public ReadThread(ParcelFileDescriptor fd) {\n        super();\n        mFd = fd;\n    }\n\n    @Override\n    public void run() {\n        FileInputStream fis = new FileInputStream(mFd.getFileDescriptor());\n        final byte data[] = new byte[300];\n        try {\n            while(fis.read(data) &gt; -1) {\n                // At this point, the application can pass the raw data to a parser that\n                // has implemented the IEEE 11073-xxxxx specifications.  Instead, this sample\n                // simply indicates that some data has been received\n                Log.e(&quot;Test&quot;, data.toString()); \n\n                 if (data[0] != (byte) 0x00)\n                 {\n                     String test = byte2hex(data);\n                     Log.i(TAG, test);\n                     if(data[0] == (byte) 0xE2){\n                         Log.i(TAG, &quot;E2&quot;);\n                         count = 1;\n                         \n                         (new WriteThread(mFd)).start();\n                         try {\n                             sleep(100);\n                         } catch (InterruptedException e) {\n                             e.printStackTrace();\n                         }\n                         Log.i(TAG, &quot;Seconds Write Thread&quot;);\n                         count = 2;\n                         (new WriteThread(mFd)).start();\n                     }\n                     else if (data[0] == (byte)0xE7){\n                         Log.i(TAG, &quot;E7&quot;);\n                         \n                         count = 3; \n                         //set invoke id so get correct response\n                         invoke = new byte[] { data[6], data[7] };\n                         (new WriteThread(mFd)).start();     \n                         //parse data!!\n                         int number_of_data_packets = data[25];\n                         int packet_start = 30;\n                         final int SYS_DIA_MAP_DATA = 1;\n                         final int PULSE_DATA = 2;\n                         final int ERROR_CODE_DATA = 3;\n\n                         for (int i = 0; i &lt; number_of_data_packets; i++){\n                                Log.e(&quot;TEST&quot;, Integer.toString(i));\n                               int obj_handle = data[packet_start+1];\n                               switch (obj_handle)\n                               {\n                               case SYS_DIA_MAP_DATA:\n                                   int sys = byteToUnsignedInt(data[packet_start+9]);\n                                   int dia = byteToUnsignedInt(data[packet_start+11]);\n                                   int map = byteToUnsignedInt(data[packet_start+13]);\n                                   //create team string... 9+13~9+20   \n                                   Log.e(&quot;RESULT&quot;, &quot;sys is &quot;+ sys);\n                                   sendMessage(RECEIVED_SYS, sys);\n                                   Log.e(&quot;RESULT&quot;, &quot;dia is &quot;+ dia);\n                                   sendMessage(RECEIVED_DIA, dia);\n                                   Log.e(&quot;RESULT&quot;, &quot;map is &quot;+ map);\n\n                                   break;\n                               case PULSE_DATA:\n                                   //parse\n                                   int pulse = byteToUnsignedInt(data[packet_start+5]);\n                                   Log.e(&quot;RESULT&quot;, &quot;pulse is &quot; + pulse);\n                                   sendMessage(RECEIVED_PUL, pulse);\n                                   break;\n                               case ERROR_CODE_DATA:\n                                   //need more signal\n                                   break;\n                               }\n                               packet_start += 1;//4 + data[packet_start+3];   //4 = ignore beginning four bytes\n                           }  \n                     }\n                     else if (data[0] == (byte) 0xE4)\n                     {\n                   \n                         count = 4;\n                         (new WriteThread(mFd)).start();\n                     }\n                     //zero out the data\n                     for (int i = 0; i &lt; data.length; i++){\n                         data[i] = (byte) 0x00;\n                     }\n                 }\n                 sendMessage(STATUS_READ_DATA, 0);\n            }\n        } catch(IOException ioe) {}\n        if (mFd != null) {\n            try {\n                mFd.close();\n            } catch (IOException e) { /* Do nothing. */ }\n        }\n        sendMessage(STATUS_READ_DATA_DONE, 0);\n    }\n}\n\nprivate class WriteThread extends Thread {\n    private ParcelFileDescriptor mFd;\n\n    public WriteThread(ParcelFileDescriptor fd) {\n        super();\n        mFd = fd;\n    }\n\n    @Override\n    public void run() {\n        FileOutputStream fos = new FileOutputStream(mFd.getFileDescriptor());\n        final byte data_AR[] = new byte[] {         (byte) 0xE3, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x2C, \n                                                    (byte) 0x00, (byte) 0x00,\n                                                    (byte) 0x50, (byte) 0x79,\n                                                    (byte) 0x00, (byte) 0x26,\n                                                    (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\n                                                    (byte) 0x80, (byte) 0x00,\n                                                    (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00,\n                                                    (byte) 0x80, (byte) 0x00, (byte) 0x00, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x08,  //bt add for phone, can be automate in the future\n                                                    (byte) 0x3C, (byte) 0x5A, (byte) 0x37, (byte) 0xFF, \n                                                    (byte) 0xFE, (byte) 0x95, (byte) 0xEE, (byte) 0xE3,\n                                                    (byte) 0x00, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x00, \n                                                    (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00};\n        final byte data_DR[] = new byte[] {         (byte) 0xE7, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x12,\n                                                    (byte) 0x00, (byte) 0x10,\n                                                    (byte) invoke[0], (byte) invoke[1],\n                                                    (byte) 0x02, (byte) 0x01,\n                                                    (byte) 0x00, (byte) 0x0A,\n                                                    (byte) 0x00, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x00, (byte) 0x00, (byte) 0x00,\n                                                    (byte) 0x0D, (byte) 0x1D,\n                                                    (byte) 0x00, (byte) 0x00 };\n\n        final byte get_MDS[] = new byte[] {         (byte) 0xE7, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x0E,\n                                                    (byte) 0x00, (byte) 0x0C,\n                                                    (byte) 0x00, (byte) 0x24,\n                                                    (byte) 0x01, (byte) 0x03,\n                                                    (byte) 0x00, (byte) 0x06,\n                                                    (byte) 0x00, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x00 };\n\n        final byte data_RR[] = new byte[] {         (byte) 0xE5, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x02,\n                                                    (byte) 0x00, (byte) 0x00 };\n\n        final byte data_RRQ[] = new byte[] {        (byte) 0xE4, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x02,\n                                                    (byte) 0x00, (byte) 0x00 };\n\n        final byte data_ABORT[] = new byte[] {      (byte) 0xE6, (byte) 0x00,\n                                                    (byte) 0x00, (byte) 0x02,\n                                                    (byte) 0x00, (byte) 0x00 };\n        try {\n            Log.i(TAG, String.valueOf(count));\n            if (count == 1)\n            {\n                fos.write(data_AR);\n                Log.i(TAG, &quot;Association Responded!&quot;);\n            }  \n            else if (count == 2)\n            {\n                fos.write(get_MDS);\n                Log.i(TAG, &quot;Get MDS object attributes!&quot;);\n            }\n            else if (count == 3) \n            {\n                fos.write(data_DR);\n                Log.i(TAG, &quot;Data Responsed!&quot;);\n            }\n            else if (count == 4)\n            {\n                fos.write(data_RR);\n                Log.i(TAG, &quot;Data Released!&quot;);\n            }\n        } catch(IOException ioe) {}\n    }\n</code></pre>\n<p>The hex representation of the data is the following. I believe this data hold the values from the blood pressure values but may be wrong. The only reason I believe this is because in the PDF linked above it days the data will start with the hex value e7.</p>\n<blockquote>\n<p>03-23 20:14:44.186: I/BluetoothHDPService(23652):\ne70000da00d80024020300d20000000a00cc0928002000104f4d524f4e204845414c544843415245000c48454d2d373038312d4954000984000a0008002209225835c3280a5a000800010004100700010a4400024000092d00360002003200010001001653455249414c5f4e554d4245523a200000000000004100050001001046575f5245564953494f4e3a203130310914000400005dc00a4b0016000200120201000801000001000200070202000200000a450010c0101f00ffffffff00640000000000000a550008000100040a620006098700082010010100013600000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000</p>\n</blockquote>\n"},{"tags":["java","spring","swagger-ui"],"owner":{"account_id":1350946,"reputation":2430,"user_id":1290607,"accept_rate":82,"display_name":"Bula"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":565,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635893161,"creation_date":1635893161,"question_id":69817762,"body_markdown":"I am trying to send a json object, an integer, and a file to a spring endpoint. Here is the controller:\r\n\r\n    @RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST, consumes = { &quot;multipart/form-data&quot; })\r\n    public ResponseEntity&lt;Certificate&gt; create(\r\n            @RequestPart(&quot;id&quot;)Long id,\r\n            @RequestPart(&quot;file&quot;) MultipartFile file,\r\n            @RequestPart(&quot;certificate&quot;) Certificate certificate\r\n    ) {\r\n       //code\r\n    }\r\n\r\nI am using swagger-ui to send this across, and the UI renders all the fields correctly. See below:\r\n[![enter image description here][1]][1]\r\n\r\nHowever, when I try to submit, I get:\r\n\r\n    {\r\n      &quot;timestamp&quot;: &quot;2021-11-02T22:35:20.746+00:00&quot;,\r\n      &quot;status&quot;: 415,\r\n      &quot;error&quot;: &quot;Unsupported Media Type&quot;,\r\n      &quot;path&quot;: &quot;/certificate/upload&quot;\r\n    }\r\n\r\nHere is the generated curl\r\n\r\n    curl -X POST &quot;http://localhost:8080/certificate/upload&quot; -H &quot;accept: */*&quot; -H &quot;Content-Type: multipart/form-data&quot; -F &quot;certificate={ &quot;timestamp&quot;: &quot;2021-11-02T22:34:03.187Z&quot;, &quot;title&quot;: &quot;title&quot; }&quot; -F &quot;id=1&quot; -F &quot;file=@profile_pic.jpeg;type=image/jpeg&quot;\r\n\r\nHere are the response headers\r\n\r\n     accept: application/jsonapplication/cborapplication/*+json \r\n     connection: keep-alive \r\n     content-type: application/json \r\n     date: Tue02 Nov 2021 22:35:20 GMT \r\n     keep-alive: timeout=60 \r\n     transfer-encoding: chunked \r\n     vary: OriginAccess-Control-Request-MethodAccess-Control-Request-Headers \r\n\r\n  [1]: https://i.stack.imgur.com/BxikH.png\r\n\r\nI am not sure how to get the submission from swagger-ui to work correctly. ","title":"Unsupported Media Type swagger-ui submitting both json and multipart","body":"<p>I am trying to send a json object, an integer, and a file to a spring endpoint. Here is the controller:</p>\n<pre><code>@RequestMapping(value = &quot;/upload&quot;, method = RequestMethod.POST, consumes = { &quot;multipart/form-data&quot; })\npublic ResponseEntity&lt;Certificate&gt; create(\n        @RequestPart(&quot;id&quot;)Long id,\n        @RequestPart(&quot;file&quot;) MultipartFile file,\n        @RequestPart(&quot;certificate&quot;) Certificate certificate\n) {\n   //code\n}\n</code></pre>\n<p>I am using swagger-ui to send this across, and the UI renders all the fields correctly. See below:\n<a href=\"https://i.stack.imgur.com/BxikH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/BxikH.png\" alt=\"enter image description here\" /></a></p>\n<p>However, when I try to submit, I get:</p>\n<pre><code>{\n  &quot;timestamp&quot;: &quot;2021-11-02T22:35:20.746+00:00&quot;,\n  &quot;status&quot;: 415,\n  &quot;error&quot;: &quot;Unsupported Media Type&quot;,\n  &quot;path&quot;: &quot;/certificate/upload&quot;\n}\n</code></pre>\n<p>Here is the generated curl</p>\n<pre><code>curl -X POST &quot;http://localhost:8080/certificate/upload&quot; -H &quot;accept: */*&quot; -H &quot;Content-Type: multipart/form-data&quot; -F &quot;certificate={ &quot;timestamp&quot;: &quot;2021-11-02T22:34:03.187Z&quot;, &quot;title&quot;: &quot;title&quot; }&quot; -F &quot;id=1&quot; -F &quot;file=@profile_pic.jpeg;type=image/jpeg&quot;\n</code></pre>\n<p>Here are the response headers</p>\n<pre><code> accept: application/jsonapplication/cborapplication/*+json \n connection: keep-alive \n content-type: application/json \n date: Tue02 Nov 2021 22:35:20 GMT \n keep-alive: timeout=60 \n transfer-encoding: chunked \n vary: OriginAccess-Control-Request-MethodAccess-Control-Request-Headers \n</code></pre>\n<p>I am not sure how to get the submission from swagger-ui to work correctly.</p>\n"},{"tags":["java","checker-framework"],"answers":[{"tags":[],"owner":{"account_id":58050,"reputation":7570,"user_id":173852,"display_name":"mernst"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635892734,"creation_date":1635892734,"answer_id":69817713,"question_id":69817501,"body_markdown":"You *almost* had it right.  You wrote [`@EnsuresNonNull`](https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/EnsuresNonNull.html) on method `hasException()`, but you should have written [`@EnsuresNonNullIf`](https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/EnsuresNonNullIf.html).  `getException()` does not evaluate to a non-null value *every* time `hasException()` is called, but only when `hasException()` returns `true`.\r\n\r\nYou also need to annotate `getException()` as [`@Pure`](https://checkerframework.org/api/org/checkerframework/dataflow/qual/Pure.html). Otherwise, the Nullness Checker will conservatively assume that it might return a different value each time it is called.\r\n\r\nNote that you can only write [`@EnsuresNonNullIf`](https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/EnsuresNonNullIf.html) on methods that return boolean, so two uses of it in your code are illegal.\r\n\r\nHere is a slight variant of your code that type-checks using the Nullness Checker.\r\n\r\n```java\r\nimport org.checkerframework.dataflow.qual.Pure;\r\nimport org.checkerframework.checker.nullness.qual.EnsuresNonNullIf;\r\nimport org.checkerframework.checker.nullness.qual.Nullable;\r\n\r\nclass Scratch {\r\n\r\n  public static void main(String[] args) throws Exception {\r\n\r\n    Holder holder = new Holder(new Exception());\r\n\r\n    if (holder.hasException()) {\r\n      throw holder.getException();\r\n    }\r\n  }\r\n}\r\n\r\nclass Holder {\r\n  @Nullable Exception exception;\r\n\r\n  public Holder(@Nullable Exception exception) {\r\n    this.exception = exception;\r\n  }\r\n\r\n  @Pure\r\n  public @Nullable Exception getException() {\r\n    return this.exception;\r\n  }\r\n\r\n  @EnsuresNonNullIf(expression = {&quot;getException()&quot;}, result = true)\r\n  public boolean hasException() {\r\n    return getException() != null;\r\n  }\r\n}\r\n```\r\n","title":"How to tell Checker Framework a null check is inside another method?","body":"<p>You <em>almost</em> had it right.  You wrote <a href=\"https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/EnsuresNonNull.html\" rel=\"nofollow noreferrer\"><code>@EnsuresNonNull</code></a> on method <code>hasException()</code>, but you should have written <a href=\"https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/EnsuresNonNullIf.html\" rel=\"nofollow noreferrer\"><code>@EnsuresNonNullIf</code></a>.  <code>getException()</code> does not evaluate to a non-null value <em>every</em> time <code>hasException()</code> is called, but only when <code>hasException()</code> returns <code>true</code>.</p>\n<p>You also need to annotate <code>getException()</code> as <a href=\"https://checkerframework.org/api/org/checkerframework/dataflow/qual/Pure.html\" rel=\"nofollow noreferrer\"><code>@Pure</code></a>. Otherwise, the Nullness Checker will conservatively assume that it might return a different value each time it is called.</p>\n<p>Note that you can only write <a href=\"https://checkerframework.org/api/org/checkerframework/checker/nullness/qual/EnsuresNonNullIf.html\" rel=\"nofollow noreferrer\"><code>@EnsuresNonNullIf</code></a> on methods that return boolean, so two uses of it in your code are illegal.</p>\n<p>Here is a slight variant of your code that type-checks using the Nullness Checker.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.checkerframework.dataflow.qual.Pure;\nimport org.checkerframework.checker.nullness.qual.EnsuresNonNullIf;\nimport org.checkerframework.checker.nullness.qual.Nullable;\n\nclass Scratch {\n\n  public static void main(String[] args) throws Exception {\n\n    Holder holder = new Holder(new Exception());\n\n    if (holder.hasException()) {\n      throw holder.getException();\n    }\n  }\n}\n\nclass Holder {\n  @Nullable Exception exception;\n\n  public Holder(@Nullable Exception exception) {\n    this.exception = exception;\n  }\n\n  @Pure\n  public @Nullable Exception getException() {\n    return this.exception;\n  }\n\n  @EnsuresNonNullIf(expression = {&quot;getException()&quot;}, result = true)\n  public boolean hasException() {\n    return getException() != null;\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":105466,"reputation":13,"user_id":2292129,"display_name":"llaith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":563,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69817713,"answer_count":1,"score":1,"last_activity_date":1635892734,"creation_date":1635891147,"question_id":69817501,"body_markdown":"I am trying to adopt the checker framework (v 3.18.1) over an existing codebase that used to have the older jsr305 annotations, and coming across some situations that are hard to resolve just by reading the manual (at least for me). \r\n\r\nAt the moment I am trying to tell the nullness checker that another method contains a null-check that guards the value in question.\r\n\r\nI put together this example that shows the issue I am having, a checker error at {*1}:\r\n\r\n    class Scratch {\r\n    \r\n    static class Holder {\r\n        @Nullable Exception exception;\r\n\r\n        public Holder(@Nullable Exception exception) {\r\n            this.exception = exception;\r\n        }\r\n\r\n        @EnsuresNonNullIf(expression = &quot;exception&quot;, result = true) // does nothing\r\n        public @Nullable Exception getException() {\r\n            return this.exception;\r\n        }\r\n\r\n        @EnsuresNonNullIf(expression = &quot;hasException()&quot;, result = true) // fails with parse error\r\n        public @Nullable Exception getException2ndVariety() {\r\n            if (hasException()) return exception;\r\n            return null;\r\n        }\r\n\r\n        @EnsuresNonNull(&quot;exception&quot;) // does nothing\r\n        public boolean hasException() {\r\n            return exception != null;\r\n        }\r\n    }\r\n    \r\n    public static void main(String[] args) throws Exception {\r\n        \r\n        Holder holder = new Holder(new Exception());\r\n        \r\n        if (holder.hasException()) throw holder.getException(); // {*1} throwing nullable error\r\n        \r\n    }\r\n}\r\n\r\n*Note: i&#39;ve tried adding &#39;this.&#39; to those expressions, but it didnt make a difference.*\r\n\r\nI&#39;d like to get rid of the error at {*1}, however i&#39;d prefer to avoid a castNonNull() call, even if I copy the code to my own project as suggested. Instead I don&#39;t mind changing around some of the internal code of methods if need be (like the attempt in the getException2ndVariety() implementation), but I&#39;m hoping this pattern can be expressed with annotations and not a runtime assertions.\r\n\r\nAny suggestions much appreciated.\r\n\r\n","title":"How to tell Checker Framework a null check is inside another method?","body":"<p>I am trying to adopt the checker framework (v 3.18.1) over an existing codebase that used to have the older jsr305 annotations, and coming across some situations that are hard to resolve just by reading the manual (at least for me).</p>\n<p>At the moment I am trying to tell the nullness checker that another method contains a null-check that guards the value in question.</p>\n<p>I put together this example that shows the issue I am having, a checker error at {*1}:</p>\n<pre><code>class Scratch {\n\nstatic class Holder {\n    @Nullable Exception exception;\n\n    public Holder(@Nullable Exception exception) {\n        this.exception = exception;\n    }\n\n    @EnsuresNonNullIf(expression = &quot;exception&quot;, result = true) // does nothing\n    public @Nullable Exception getException() {\n        return this.exception;\n    }\n\n    @EnsuresNonNullIf(expression = &quot;hasException()&quot;, result = true) // fails with parse error\n    public @Nullable Exception getException2ndVariety() {\n        if (hasException()) return exception;\n        return null;\n    }\n\n    @EnsuresNonNull(&quot;exception&quot;) // does nothing\n    public boolean hasException() {\n        return exception != null;\n    }\n}\n\npublic static void main(String[] args) throws Exception {\n    \n    Holder holder = new Holder(new Exception());\n    \n    if (holder.hasException()) throw holder.getException(); // {*1} throwing nullable error\n    \n}\n</code></pre>\n<p>}</p>\n<p><em>Note: i've tried adding 'this.' to those expressions, but it didnt make a difference.</em></p>\n<p>I'd like to get rid of the error at {*1}, however i'd prefer to avoid a castNonNull() call, even if I copy the code to my own project as suggested. Instead I don't mind changing around some of the internal code of methods if need be (like the attempt in the getException2ndVariety() implementation), but I'm hoping this pattern can be expressed with annotations and not a runtime assertions.</p>\n<p>Any suggestions much appreciated.</p>\n"},{"tags":["java","spring","thymeleaf"],"comments":[{"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"score":0,"creation_date":1635963940,"post_id":69816738,"comment_id":123434842,"body_markdown":"It seems like you are making things very complex. Maybe read about [Form handling with Thymeleaf](https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/).","body":"It seems like you are making things very complex. Maybe read about <a href=\"https://www.wimdeblauwe.com/blog/2021/05/23/form-handling-with-thymeleaf/\" rel=\"nofollow noreferrer\">Form handling with Thymeleaf</a>."}],"answers":[{"tags":[],"owner":{"account_id":18262179,"reputation":1,"user_id":13294733,"display_name":"Maciej Wojdyła"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635892571,"creation_date":1635892571,"answer_id":69817687,"question_id":69816738,"body_markdown":"Okay, I had to implement new class like &quot;EntryReceiver&quot; and send the form result to it.\r\n\r\nLater just this:\r\n```\r\n@RequestMapping(&quot;/blog&quot;)\r\n    public String blog( HttpSession session, final Model model, EntryReceiver ER){\r\n        model.addAttribute(&quot;EntryReceiver&quot;, new EntryReceiver());\r\n\r\n        entryCount.inc();\r\n        model.addAttribute(&quot;entryCount&quot;, entryCount.getEntry());\r\n\r\n        user.setNewEntry(ER.getEntry());\r\n        user.insertentry();\r\n        model.addAttribute(&quot;userentries&quot;, user.getUserEntries());\r\n                \r\n        return &quot;blogform&quot;;\r\n    }\r\n```","title":"Setter not launching when submiting form","body":"<p>Okay, I had to implement new class like &quot;EntryReceiver&quot; and send the form result to it.</p>\n<p>Later just this:</p>\n<pre><code>@RequestMapping(&quot;/blog&quot;)\n    public String blog( HttpSession session, final Model model, EntryReceiver ER){\n        model.addAttribute(&quot;EntryReceiver&quot;, new EntryReceiver());\n\n        entryCount.inc();\n        model.addAttribute(&quot;entryCount&quot;, entryCount.getEntry());\n\n        user.setNewEntry(ER.getEntry());\n        user.insertentry();\n        model.addAttribute(&quot;userentries&quot;, user.getUserEntries());\n                \n        return &quot;blogform&quot;;\n    }\n</code></pre>\n"}],"owner":{"account_id":18262179,"reputation":1,"user_id":13294733,"display_name":"Maciej Wojdyła"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635892571,"creation_date":1635886037,"question_id":69816738,"body_markdown":"I&#39;m having a bit of a struggle with Spring and Thymeleaf\r\nI have a controller like this\r\n\r\n    @Autowired user user;\r\n    @Autowired entry entrycount;\r\n\r\n    @GetMapping(&quot;/blog&quot;)\r\n    public String blog1(Model model, HttpSession session){\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        model.addAttribute(&quot;entry&quot;, entrycount); \r\n        System.out.println(&quot;GET METHOD&quot;);  \r\n        return &quot;blogform&quot;;\r\n    }\r\n    \r\n    @PostMapping(&quot;/blog&quot;)\r\n    public String blog(Model model, HttpSession session){\r\n        model.addAttribute(&quot;user&quot;, user);\r\n        user.insertentry();\r\n        System.out.println(&quot;POST METHOD&quot;);  \r\n        model.addAttribute(&quot;entry&quot;, entrycount);\r\n        entrycount.inc();\r\n\r\n        return &quot;blogform&quot;;\r\n    }\r\nwith form like this:\r\n\r\n    &lt;form method = &quot;post&quot; th:object=&quot;${user}&quot;&gt;\r\n                &lt;label&gt;&lt;h1&gt;Hello User!&lt;/h1&gt;&lt;/label&gt;\r\n                &lt;input type=&quot;text&quot; th:field=&quot;*{newEntry}&quot;&gt;\r\n                &lt;input type=&quot;submit&quot;&gt;\r\n    &lt;/form&gt;\r\nAnd when I hit Submit button, user.newEntry doesn&#39;t set\r\n\r\nWhen I make this\r\n\r\n    public String blog1(Model model, HttpSession session, user user, entry entrycount){...}\r\n\r\nprogram sets the value, but each time I submit form, I get new object \r\n```\r\n//User.java\r\n@Component\r\n@Scope(value = &quot;session&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\r\npublic class user {\r\n    public List&lt;String&gt; userentries = new ArrayList&lt;String&gt;();\r\n    private String newEntry;\r\n    public void setnewEntry(String i){\r\n        System.out.println(&quot;SETTER METHOD i = &quot; + i);  \r\n        newEntry = i;        \r\n    }\r\n   \r\n    public String getnewEntry(){\r\n        System.out.println(&quot;GETTER METHOD&quot;);  \r\n        return newEntry;\r\n    }\r\n\r\n    public void insertentry(){\r\n        userentries.add(newEntry);\r\n        System.out.println(&quot;INSERT METHOD&quot;);  \r\n        for (String string : userentries) {\r\n            System.out.println(string);\r\n        }\r\n    }\r\n}\r\n```\r\n[Setter not launching][1]\r\n[Setter launching with objects added to mapping methods][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/uOoJp.png\r\n  [2]: https://i.stack.imgur.com/7YDol.png\r\n\r\n\r\n-----------------------EDIT------------------------\r\n\r\nOkay, I had to implement new class like &quot;EntryReceiver&quot; and send the form result to it.\r\n\r\nLater just this:\r\n```\r\n@RequestMapping(&quot;/blog&quot;)\r\n    public String blog( HttpSession session, final Model model, EntryReceiver ER){\r\n        model.addAttribute(&quot;EntryReceiver&quot;, new EntryReceiver());\r\n\r\n        entryCount.inc();\r\n        model.addAttribute(&quot;entryCount&quot;, entryCount.getEntry());\r\n\r\n        user.setNewEntry(ER.getEntry());\r\n        user.insertentry();\r\n        model.addAttribute(&quot;userentries&quot;, user.getUserEntries());\r\n                \r\n        return &quot;blogform&quot;;\r\n    }\r\n```\r\n\r\n","title":"Setter not launching when submiting form","body":"<p>I'm having a bit of a struggle with Spring and Thymeleaf\nI have a controller like this</p>\n<pre><code>@Autowired user user;\n@Autowired entry entrycount;\n\n@GetMapping(&quot;/blog&quot;)\npublic String blog1(Model model, HttpSession session){\n    model.addAttribute(&quot;user&quot;, user);\n    model.addAttribute(&quot;entry&quot;, entrycount); \n    System.out.println(&quot;GET METHOD&quot;);  \n    return &quot;blogform&quot;;\n}\n\n@PostMapping(&quot;/blog&quot;)\npublic String blog(Model model, HttpSession session){\n    model.addAttribute(&quot;user&quot;, user);\n    user.insertentry();\n    System.out.println(&quot;POST METHOD&quot;);  \n    model.addAttribute(&quot;entry&quot;, entrycount);\n    entrycount.inc();\n\n    return &quot;blogform&quot;;\n}\n</code></pre>\n<p>with form like this:</p>\n<pre><code>&lt;form method = &quot;post&quot; th:object=&quot;${user}&quot;&gt;\n            &lt;label&gt;&lt;h1&gt;Hello User!&lt;/h1&gt;&lt;/label&gt;\n            &lt;input type=&quot;text&quot; th:field=&quot;*{newEntry}&quot;&gt;\n            &lt;input type=&quot;submit&quot;&gt;\n&lt;/form&gt;\n</code></pre>\n<p>And when I hit Submit button, user.newEntry doesn't set</p>\n<p>When I make this</p>\n<pre><code>public String blog1(Model model, HttpSession session, user user, entry entrycount){...}\n</code></pre>\n<p>program sets the value, but each time I submit form, I get new object</p>\n<pre><code>//User.java\n@Component\n@Scope(value = &quot;session&quot;, proxyMode = ScopedProxyMode.TARGET_CLASS)\npublic class user {\n    public List&lt;String&gt; userentries = new ArrayList&lt;String&gt;();\n    private String newEntry;\n    public void setnewEntry(String i){\n        System.out.println(&quot;SETTER METHOD i = &quot; + i);  \n        newEntry = i;        \n    }\n   \n    public String getnewEntry(){\n        System.out.println(&quot;GETTER METHOD&quot;);  \n        return newEntry;\n    }\n\n    public void insertentry(){\n        userentries.add(newEntry);\n        System.out.println(&quot;INSERT METHOD&quot;);  \n        for (String string : userentries) {\n            System.out.println(string);\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/uOoJp.png\" rel=\"nofollow noreferrer\">Setter not launching</a>\n<a href=\"https://i.stack.imgur.com/7YDol.png\" rel=\"nofollow noreferrer\">Setter launching with objects added to mapping methods</a></p>\n<p>-----------------------EDIT------------------------</p>\n<p>Okay, I had to implement new class like &quot;EntryReceiver&quot; and send the form result to it.</p>\n<p>Later just this:</p>\n<pre><code>@RequestMapping(&quot;/blog&quot;)\n    public String blog( HttpSession session, final Model model, EntryReceiver ER){\n        model.addAttribute(&quot;EntryReceiver&quot;, new EntryReceiver());\n\n        entryCount.inc();\n        model.addAttribute(&quot;entryCount&quot;, entryCount.getEntry());\n\n        user.setNewEntry(ER.getEntry());\n        user.insertentry();\n        model.addAttribute(&quot;userentries&quot;, user.getUserEntries());\n                \n        return &quot;blogform&quot;;\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-batch","spring-batch-tasklet"],"answers":[{"tags":[],"owner":{"account_id":23219944,"reputation":76,"user_id":17312340,"display_name":"Ravi Korrapati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635892099,"creation_date":1635881339,"answer_id":69815986,"question_id":69815014,"body_markdown":"Spring batch will use JobParametersValidator before every job execution. You don’t need to call it manually, but have to register it in your job definition and it gets called automatically.\r\nBy default DefaultJobParametersValidator will be used if no custom validator is specified.\r\n\r\nYou can use https://docs.spring.io/spring-batch/docs/4.3.x/reference/html/job.html#jobparametersvalidator documentation for reference it shows how’s to register a validator.\r\n\r\nupdate your MyJobConfig.class as below:\r\n\r\n    @Bean(&quot;myBatchJob&quot;)\r\n    public Job job(@Qualifier(&quot;validateProductJobParam&quot;) Step validateProductJobParametersStep) {\r\n        Job job = jobBuilderFactory.get(&quot;myBatchJob&quot;)\r\n                .incrementer(new RunIdIncrementer()).validator(validate())\r\n                .start(processProductBatch)\r\n                .end()\r\n                .build();\r\n        return job;\r\n    }\r\n//implementation of validation\r\n\r\n    @Bean\r\n\tpublic JobParametersValidator validate() {\r\n\t\tJobParametersValidator j = new JobParametersValidator() {\r\n\t\t\t\r\n\t\t\t@Override\r\n\t\t\tpublic void validate(JobParameters jparams) throws JobParametersInvalidException {\r\n\t\t\t\tMap&lt;String, JobParameter&gt; params = jparams.getParameters();\r\n\t\t\t\tif(null == params.get(&quot;PRODUCT_NAME&quot;).getValue() || null == params.get(&quot;PRODUCT_ID&quot;).getValue()\r\n\t\t\t\t\t\t|| null == params.get(&quot;PRODUCT_TYPE&quot;).getValue()){\r\n\t\t\t\t\tthrow new JobParametersInvalidException(&quot;Cant be null&quot;);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t};\r\n\t\treturn j;\t\t\r\n\t}","title":"Handle Job param validation in spring batch","body":"<p>Spring batch will use JobParametersValidator before every job execution. You don’t need to call it manually, but have to register it in your job definition and it gets called automatically.\nBy default DefaultJobParametersValidator will be used if no custom validator is specified.</p>\n<p>You can use <a href=\"https://docs.spring.io/spring-batch/docs/4.3.x/reference/html/job.html#jobparametersvalidator\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-batch/docs/4.3.x/reference/html/job.html#jobparametersvalidator</a> documentation for reference it shows how’s to register a validator.</p>\n<p>update your MyJobConfig.class as below:</p>\n<pre><code>@Bean(&quot;myBatchJob&quot;)\npublic Job job(@Qualifier(&quot;validateProductJobParam&quot;) Step validateProductJobParametersStep) {\n    Job job = jobBuilderFactory.get(&quot;myBatchJob&quot;)\n            .incrementer(new RunIdIncrementer()).validator(validate())\n            .start(processProductBatch)\n            .end()\n            .build();\n    return job;\n}\n</code></pre>\n<p>//implementation of validation</p>\n<pre><code>@Bean\npublic JobParametersValidator validate() {\n    JobParametersValidator j = new JobParametersValidator() {\n        \n        @Override\n        public void validate(JobParameters jparams) throws JobParametersInvalidException {\n            Map&lt;String, JobParameter&gt; params = jparams.getParameters();\n            if(null == params.get(&quot;PRODUCT_NAME&quot;).getValue() || null == params.get(&quot;PRODUCT_ID&quot;).getValue()\n                    || null == params.get(&quot;PRODUCT_TYPE&quot;).getValue()){\n                throw new JobParametersInvalidException(&quot;Cant be null&quot;);\n            }\n        }\n    };\n    return j;       \n}\n</code></pre>\n"}],"owner":{"account_id":21988193,"reputation":203,"user_id":16262109,"display_name":"Dave Brady"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1528,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635892099,"creation_date":1635876249,"question_id":69815014,"body_markdown":"I&#39;m using Spring batch for our batch processing, before I do batch processing I would like to do validate all job params like `productName, productID, start date, end date, productType`, if these Job params are null or contains bad value I have to fail the validation step and make the job failed.\r\n\r\nI&#39;ve written validation step and Tasklet, in my Tasklet I&#39;m planning to handle the job param validation (to do null check for all the job param). Since I&#39;m doing first time Spring batch I would like to hear from the expert is this right place to handle the job param validation or is there any efficient way of doing it. It would be really helpful if someone can help me to provide your valuable suggestion or example. \r\n\r\nAppreciated your help in advance! Thanks\r\n\r\nPlease find my sample code below:\r\n\r\n**MyJobConfig.java**\r\n\r\n    @Configuration\r\n    public class MyJobConfig {\r\n    \r\n        @Autowired\r\n        public JobBuilderFactory jobBuilderFactory;\r\n    \r\n        @Autowired\r\n        public StepBuilderFactory stepBuilderFactory;\r\n    \r\n        @Bean(&quot;myBatchJob&quot;)\r\n        public Job job(@Qualifier(&quot;validateProductJobParam&quot;) Step validateProductJobParametersStep) {\r\n            Job job = jobBuilderFactory.get(&quot;myBatchJob&quot;)\r\n                    .incrementer(new RunIdIncrementer())\r\n                    .start(validateProductJobParametersStep)\r\n                    .on(&quot;FAILED&quot;)\r\n                    .end()\r\n                    .from(validateProductJobParametersStep).on(&quot;*&quot;).to(processProductBatch)\r\n                    .end()\r\n                    .build();\r\n            return job;\r\n        }\r\n    \r\n        @Bean(name = &quot;validateProductJobParam&quot;)\r\n        public Step validateProductJobParametersStep() {\r\n            return stepBuilderFactory.get(&quot;validate-product-param&quot;)\r\n                    .tasklet(new JobParamValidateTasklet())\r\n                    .allowStartIfComplete(true)\r\n                    .build();\r\n        }\r\n    \r\n    }\r\n\r\n**JobParamValidateTasklet.java**\r\n\r\n    import org.springframework.batch.core.*;\r\n    import org.springframework.batch.core.scope.context.ChunkContext;\r\n    import org.springframework.batch.core.step.tasklet.Tasklet;\r\n    import org.springframework.batch.repeat.RepeatStatus;\r\n    \r\n    import java.util.Map;\r\n    \r\n    public class JobParamValidateTasklet implements Tasklet, StepExecutionListener {\r\n    \r\n        private StepExecution stepExecution;\r\n        private JobExecution jobExecution;\r\n        private bookean isValidation;\r\n    \r\n        @Override\r\n        public void beforeStep(StepExecution stepExecution) {\r\n            this.stepExecution = stepExecution;\r\n            this.jobExecution = stepExecution.getJobExecution();\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\r\n    \r\n            Map&lt;String,JobParameter&gt; jobMap = jobExecution.getJobParameters().getParameters();\r\n    \r\n            String productName = (String)jobMap.get(&quot;PRODUCT_NAME&quot;).getValue();\r\n            String productId = (String)jobMap.get(&quot;PRODUCT_ID&quot;).getValue();\r\n            String prdouctType = (String)jobMap.get(&quot;PRODUCT_TYPE&quot;).getValue();\r\n    \r\n            if (productName == null &amp;&amp;  productId == null &amp;&amp; prdouctType == null ) {\r\n                isValidation = false;\r\n            } else {\r\n            isValidation = true;\r\n            }\r\n            \r\n            return null;\r\n        }\r\n    \r\n        public ExitStatus afterStep(StepExecution stepExecution) {\r\n            if(!isValidation)\r\n                return ExitStatus.FAILED;\r\n            else\r\n                return ExitStatus.COMPLETED;\r\n        }\r\n    \r\n    }\r\n\r\n","title":"Handle Job param validation in spring batch","body":"<p>I'm using Spring batch for our batch processing, before I do batch processing I would like to do validate all job params like <code>productName, productID, start date, end date, productType</code>, if these Job params are null or contains bad value I have to fail the validation step and make the job failed.</p>\n<p>I've written validation step and Tasklet, in my Tasklet I'm planning to handle the job param validation (to do null check for all the job param). Since I'm doing first time Spring batch I would like to hear from the expert is this right place to handle the job param validation or is there any efficient way of doing it. It would be really helpful if someone can help me to provide your valuable suggestion or example.</p>\n<p>Appreciated your help in advance! Thanks</p>\n<p>Please find my sample code below:</p>\n<p><strong>MyJobConfig.java</strong></p>\n<pre><code>@Configuration\npublic class MyJobConfig {\n\n    @Autowired\n    public JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    public StepBuilderFactory stepBuilderFactory;\n\n    @Bean(&quot;myBatchJob&quot;)\n    public Job job(@Qualifier(&quot;validateProductJobParam&quot;) Step validateProductJobParametersStep) {\n        Job job = jobBuilderFactory.get(&quot;myBatchJob&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(validateProductJobParametersStep)\n                .on(&quot;FAILED&quot;)\n                .end()\n                .from(validateProductJobParametersStep).on(&quot;*&quot;).to(processProductBatch)\n                .end()\n                .build();\n        return job;\n    }\n\n    @Bean(name = &quot;validateProductJobParam&quot;)\n    public Step validateProductJobParametersStep() {\n        return stepBuilderFactory.get(&quot;validate-product-param&quot;)\n                .tasklet(new JobParamValidateTasklet())\n                .allowStartIfComplete(true)\n                .build();\n    }\n\n}\n</code></pre>\n<p><strong>JobParamValidateTasklet.java</strong></p>\n<pre><code>import org.springframework.batch.core.*;\nimport org.springframework.batch.core.scope.context.ChunkContext;\nimport org.springframework.batch.core.step.tasklet.Tasklet;\nimport org.springframework.batch.repeat.RepeatStatus;\n\nimport java.util.Map;\n\npublic class JobParamValidateTasklet implements Tasklet, StepExecutionListener {\n\n    private StepExecution stepExecution;\n    private JobExecution jobExecution;\n    private bookean isValidation;\n\n    @Override\n    public void beforeStep(StepExecution stepExecution) {\n        this.stepExecution = stepExecution;\n        this.jobExecution = stepExecution.getJobExecution();\n\n    }\n\n    @Override\n    public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\n\n        Map&lt;String,JobParameter&gt; jobMap = jobExecution.getJobParameters().getParameters();\n\n        String productName = (String)jobMap.get(&quot;PRODUCT_NAME&quot;).getValue();\n        String productId = (String)jobMap.get(&quot;PRODUCT_ID&quot;).getValue();\n        String prdouctType = (String)jobMap.get(&quot;PRODUCT_TYPE&quot;).getValue();\n\n        if (productName == null &amp;&amp;  productId == null &amp;&amp; prdouctType == null ) {\n            isValidation = false;\n        } else {\n        isValidation = true;\n        }\n        \n        return null;\n    }\n\n    public ExitStatus afterStep(StepExecution stepExecution) {\n        if(!isValidation)\n            return ExitStatus.FAILED;\n        else\n            return ExitStatus.COMPLETED;\n    }\n\n}\n</code></pre>\n"},{"tags":["java","json","jackson","mapping","json-deserialization"],"comments":[{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1568740795,"post_id":57978790,"comment_id":102367688,"body_markdown":"If you have time, could you give a bit more detail?  Are you just trying to get the first and last name values and ignoring the rest?  Do you want to ignore the rest of the root/data object structure in your application code?","body":"If you have time, could you give a bit more detail?  Are you just trying to get the first and last name values and ignoring the rest?  Do you want to ignore the rest of the root/data object structure in your application code?"},{"owner":{"account_id":337125,"reputation":2509,"user_id":665200,"accept_rate":65,"display_name":"sam"},"score":0,"creation_date":1568740937,"post_id":57978790,"comment_id":102367752,"body_markdown":"I want an array of `User` objects with a first and last name. I.e. In the JSON above, I want to only extract the `first` and `last` properties. Everything else should be ignored.","body":"I want an array of <code>User</code> objects with a first and last name. I.e. In the JSON above, I want to only extract the <code>first</code> and <code>last</code> properties. Everything else should be ignored."},{"owner":{"account_id":18655,"reputation":4922,"user_id":42962,"accept_rate":71,"display_name":"hooknc"},"score":0,"creation_date":1568741326,"post_id":57978790,"comment_id":102367928,"body_markdown":"I see.  There might be a way to do this with Jackson, but my guess is that you&#39;re going to have to deserialize the entire json string as is and get the full object graph from root -&gt; data - value -&gt; etc...  Then using some code to map that full object graph into the data model that you want.  From my observations this is a common process and one of the common side effects of using remote APIs.","body":"I see.  There might be a way to do this with Jackson, but my guess is that you&#39;re going to have to deserialize the entire json string as is and get the full object graph from root -&gt; data - value -&gt; etc...  Then using some code to map that full object graph into the data model that you want.  From my observations this is a common process and one of the common side effects of using remote APIs."}],"answers":[{"tags":[],"owner":{"account_id":21287,"reputation":37465,"user_id":51591,"accept_rate":82,"display_name":"Michał Ziober"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635892079,"creation_date":1568743231,"answer_id":57979719,"question_id":57978790,"body_markdown":"[JsonPath][1] library allows one to select only required fields and thn you can use `Jackson` to convert raw data to `POJO` class. Example solution could look as follows:\r\n\r\n    import com.fasterxml.jackson.annotation.JsonProperty;\r\n    import com.fasterxml.jackson.databind.ObjectMapper;\r\n    import com.fasterxml.jackson.databind.type.CollectionType;\r\n    import com.jayway.jsonpath.JsonPath;\r\n    \r\n    import java.io.File;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    \r\n    public class JsonPathApp {\r\n    \r\n    \tpublic static void main(String[] args) throws Exception {\r\n    \t\tFile jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\r\n    \r\n    \t\tList&lt;Map&gt; nodes = JsonPath.parse(jsonFile).read(&quot;$..value[*].user.name&quot;);\r\n    \r\n    \t\tObjectMapper mapper = new ObjectMapper();\r\n    \t\tCollectionType usersType = mapper.getTypeFactory().constructCollectionType(List.class, User.class);\r\n    \t\tList&lt;User&gt; users = mapper.convertValue(nodes, usersType);\r\n    \t\tSystem.out.println(users);\r\n    \t}\r\n    }\r\n    \r\n    class User {\r\n    \r\n    \t@JsonProperty(&quot;first&quot;)\r\n    \tprivate String firstName;\r\n    \r\n    \t@JsonProperty(&quot;last&quot;)\r\n    \tprivate String lastName;\r\n    \r\n    \tpublic String getFirstName() {\r\n    \t\treturn firstName;\r\n    \t}\r\n    \r\n    \tpublic void setFirstName(String firstName) {\r\n    \t\tthis.firstName = firstName;\r\n    \t}\r\n    \r\n    \tpublic String getLastName() {\r\n    \t\treturn lastName;\r\n    \t}\r\n    \r\n    \tpublic void setLastName(String lastName) {\r\n    \t\tthis.lastName = lastName;\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic String toString() {\r\n    \t\treturn &quot;User{&quot; +\r\n    \t\t\t\t&quot;firstName=&#39;&quot; + firstName + &#39;\\&#39;&#39; +\r\n    \t\t\t\t&quot;, lastName=&#39;&quot; + lastName + &#39;\\&#39;&#39; +\r\n    \t\t\t\t&#39;}&#39;;\r\n    \t}\r\n    }\r\n\r\nAbove code prints:\r\n\r\n    [User{firstName=&#39;x&#39;, lastName=&#39;y&#39;}]\r\n\r\n  [1]: https://github.com/json-path/JsonPath","title":"Parsing deeply nested JSON properties with Jackson","body":"<p><a href=\"https://github.com/json-path/JsonPath\" rel=\"nofollow noreferrer\">JsonPath</a> library allows one to select only required fields and thn you can use <code>Jackson</code> to convert raw data to <code>POJO</code> class. Example solution could look as follows:</p>\n<pre><code>import com.fasterxml.jackson.annotation.JsonProperty;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.type.CollectionType;\nimport com.jayway.jsonpath.JsonPath;\n\nimport java.io.File;\nimport java.util.List;\nimport java.util.Map;\n\npublic class JsonPathApp {\n\n    public static void main(String[] args) throws Exception {\n        File jsonFile = new File(&quot;./resource/test.json&quot;).getAbsoluteFile();\n\n        List&lt;Map&gt; nodes = JsonPath.parse(jsonFile).read(&quot;$..value[*].user.name&quot;);\n\n        ObjectMapper mapper = new ObjectMapper();\n        CollectionType usersType = mapper.getTypeFactory().constructCollectionType(List.class, User.class);\n        List&lt;User&gt; users = mapper.convertValue(nodes, usersType);\n        System.out.println(users);\n    }\n}\n\nclass User {\n\n    @JsonProperty(&quot;first&quot;)\n    private String firstName;\n\n    @JsonProperty(&quot;last&quot;)\n    private String lastName;\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User{&quot; +\n                &quot;firstName='&quot; + firstName + '\\'' +\n                &quot;, lastName='&quot; + lastName + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>Above code prints:</p>\n<pre><code>[User{firstName='x', lastName='y'}]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10208055,"reputation":917,"user_id":7697901,"display_name":"Alexandr Kovalenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635891985,"creation_date":1568744472,"answer_id":57979979,"question_id":57978790,"body_markdown":"Another simple way would be with [JSON.simple][1] library:\r\n\r\n    JSONParser jsonParser = new JSONParser();\r\n            //Read JSON file\r\n            Object obj = jsonParser.parse(reader);\r\n\r\n            JSONObject jObj = (JSONObject) obj;\r\n\r\n            JSONObject root = (JSONObject)jObj.get(&quot;root&quot;);\r\n            JSONObject data = (JSONObject) root.get(&quot;data&quot;);\r\n            JSONArray value =  (JSONArray) data.get(&quot;value&quot;);\r\n            JSONObject array = (JSONObject) value.get(0);\r\n            JSONObject user = (JSONObject) array.get(&quot;user&quot;);\r\n            JSONObject name = (JSONObject) user.get(&quot;name&quot;);\r\n\r\n            String lastName = (String) name.get(&quot;last&quot;);\r\n            String firstName = (String) name.get(&quot;first&quot;);\r\n\r\n            System.out.println(lastName + &quot; &quot; + firstName);\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple","title":"Parsing deeply nested JSON properties with Jackson","body":"<p>Another simple way would be with <a href=\"https://mvnrepository.com/artifact/com.googlecode.json-simple/json-simple\" rel=\"nofollow noreferrer\">JSON.simple</a> library:</p>\n<pre><code>JSONParser jsonParser = new JSONParser();\n        //Read JSON file\n        Object obj = jsonParser.parse(reader);\n\n        JSONObject jObj = (JSONObject) obj;\n\n        JSONObject root = (JSONObject)jObj.get(&quot;root&quot;);\n        JSONObject data = (JSONObject) root.get(&quot;data&quot;);\n        JSONArray value =  (JSONArray) data.get(&quot;value&quot;);\n        JSONObject array = (JSONObject) value.get(0);\n        JSONObject user = (JSONObject) array.get(&quot;user&quot;);\n        JSONObject name = (JSONObject) user.get(&quot;name&quot;);\n\n        String lastName = (String) name.get(&quot;last&quot;);\n        String firstName = (String) name.get(&quot;first&quot;);\n\n        System.out.println(lastName + &quot; &quot; + firstName);\n</code></pre>\n"}],"owner":{"account_id":337125,"reputation":2509,"user_id":665200,"accept_rate":65,"display_name":"sam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":57979719,"answer_count":2,"score":2,"last_activity_date":1635892079,"creation_date":1568739161,"question_id":57978790,"body_markdown":"I am trying to find a clean way of parsing nested properties from a payload from an `API`.\r\n\r\nHere is a rough generalisation of the `JSON` payload:\r\n\r\n    {\r\n      &quot;root&quot;: {\r\n        &quot;data&quot;: {\r\n          &quot;value&quot;: [\r\n            {\r\n              &quot;user&quot;: {\r\n                &quot;id&quot;: &quot;1&quot;,\r\n                &quot;name&quot;: {\r\n                  &quot;first&quot;: &quot;x&quot;,\r\n                  &quot;last&quot;: &quot;y&quot;\r\n                }\r\n              }\r\n            }\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\n\r\nMy goal is to have an array of `User` objects which have `firstName` and `lastName` fields.\r\n\r\nDoes anyone know a good way to parse  this cleanly?\r\n\r\nRight now I am trying to create a `Wrapper` class and within that have static inner classes for data, value, user etc. but this seems like a messy way of doing this just to read the array of first/last properties.\r\n\r\nI am using `restTemplate.exchange()` to call the endpoint.","title":"Parsing deeply nested JSON properties with Jackson","body":"<p>I am trying to find a clean way of parsing nested properties from a payload from an <code>API</code>.</p>\n\n<p>Here is a rough generalisation of the <code>JSON</code> payload:</p>\n\n<pre><code>{\n  \"root\": {\n    \"data\": {\n      \"value\": [\n        {\n          \"user\": {\n            \"id\": \"1\",\n            \"name\": {\n              \"first\": \"x\",\n              \"last\": \"y\"\n            }\n          }\n        }\n      ]\n    }\n  }\n}\n</code></pre>\n\n<p>My goal is to have an array of <code>User</code> objects which have <code>firstName</code> and <code>lastName</code> fields.</p>\n\n<p>Does anyone know a good way to parse  this cleanly?</p>\n\n<p>Right now I am trying to create a <code>Wrapper</code> class and within that have static inner classes for data, value, user etc. but this seems like a messy way of doing this just to read the array of first/last properties.</p>\n\n<p>I am using <code>restTemplate.exchange()</code> to call the endpoint.</p>\n"},{"tags":["java","mybatis"],"answers":[{"tags":[],"owner":{"account_id":23219944,"reputation":76,"user_id":17312340,"display_name":"Ravi Korrapati"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635891765,"creation_date":1635878642,"answer_id":69815508,"question_id":69810183,"body_markdown":"You can point to the other map using patientMapper.pationtResult in you resultMap Param.\r\n\r\nFor example:\r\n\r\n    &lt;select id=“getPatientReports”  resultMap=“patientMapper.patientResult”&gt;\r\n    …your query here\r\n    &lt;/select&gt;\r\n\r\n*here patientMapper is the name space of the mapper you are referring \r\n\r\nSee below link for more info\r\n\r\nhttps://stackoverflow.com/questions/13501069/reusing-mybatis-resultmap-in-multiple-mapper-xml\r\n","title":"How to Reuse ResultMap in Mybatis in multiple Mapper.xml in association?","body":"<p>You can point to the other map using patientMapper.pationtResult in you resultMap Param.</p>\n<p>For example:</p>\n<pre><code>&lt;select id=“getPatientReports”  resultMap=“patientMapper.patientResult”&gt;\n…your query here\n&lt;/select&gt;\n</code></pre>\n<p>*here patientMapper is the name space of the mapper you are referring</p>\n<p>See below link for more info</p>\n<p><a href=\"https://stackoverflow.com/questions/13501069/reusing-mybatis-resultmap-in-multiple-mapper-xml\">Reusing MyBatis ResultMap in multiple mapper.xml</a></p>\n"}],"owner":{"account_id":20516592,"reputation":25,"user_id":15057099,"display_name":"Abdalrazag Al-Shrufat"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1148,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635891765,"creation_date":1635854947,"question_id":69810183,"body_markdown":"I have two tables , Patient and Report and I have created tow mappers pationt-mapper.xml and report-mapper.xml   \r\nin pationt-mapper.xml I have write this :\r\n```\r\n&lt;resultMap type=&quot;Pationt&quot; id=&quot;PationtResult&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n        &lt;result property=&quot;firstname&quot; column=&quot;firstname&quot;/&gt;\r\n        &lt;result property=&quot;lastname&quot; column=&quot;lastname&quot;/&gt;\r\n        &lt;result property=&quot;createdAt&quot; column=&quot;created_at&quot;/&gt;\r\n&lt;/resultMap&gt;\r\n```\r\n\r\nin report-mapper.xml I have written this : \r\n\r\n```\r\n&lt;resultMap type=&quot;Pationt&quot; id=&quot;PationtResult&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n        &lt;result property=&quot;firstname&quot; column=&quot;firstname&quot;/&gt;\r\n        &lt;result property=&quot;lastname&quot; column=&quot;lastname&quot;/&gt;\r\n        &lt;result property=&quot;createdAt&quot; column=&quot;created_at&quot;/&gt;\r\n&lt;/resultMap&gt;\r\n\r\n&lt;resultMap type=&quot;Report&quot; id=&quot;ReportResult&quot;&gt;\r\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\r\n        &lt;result property=&quot;reportText&quot; column=&quot;report_text&quot;/&gt;\r\n        &lt;result property=&quot;lastname&quot; column=&quot;lastname&quot;/&gt;\r\n        &lt;result property=&quot;createdAt&quot; column=&quot;created_at&quot; /&gt;\r\n        &lt;association property=&quot;pationt&quot; resultMap=&quot;PationtResult&quot; /&gt;\r\n&lt;/resultMap&gt;\r\n```\r\n\r\nI  repeteed the resultmap over and over in multiple mappers files to use it in association.   \r\nHow can I reuse resultmap to use it in another mapper file INTO association such as my code :","title":"How to Reuse ResultMap in Mybatis in multiple Mapper.xml in association?","body":"<p>I have two tables , Patient and Report and I have created tow mappers pationt-mapper.xml and report-mapper.xml<br />\nin pationt-mapper.xml I have write this :</p>\n<pre><code>&lt;resultMap type=&quot;Pationt&quot; id=&quot;PationtResult&quot;&gt;\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\n        &lt;result property=&quot;firstname&quot; column=&quot;firstname&quot;/&gt;\n        &lt;result property=&quot;lastname&quot; column=&quot;lastname&quot;/&gt;\n        &lt;result property=&quot;createdAt&quot; column=&quot;created_at&quot;/&gt;\n&lt;/resultMap&gt;\n</code></pre>\n<p>in report-mapper.xml I have written this :</p>\n<pre><code>&lt;resultMap type=&quot;Pationt&quot; id=&quot;PationtResult&quot;&gt;\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\n        &lt;result property=&quot;firstname&quot; column=&quot;firstname&quot;/&gt;\n        &lt;result property=&quot;lastname&quot; column=&quot;lastname&quot;/&gt;\n        &lt;result property=&quot;createdAt&quot; column=&quot;created_at&quot;/&gt;\n&lt;/resultMap&gt;\n\n&lt;resultMap type=&quot;Report&quot; id=&quot;ReportResult&quot;&gt;\n        &lt;id property=&quot;id&quot; column=&quot;id&quot;/&gt;\n        &lt;result property=&quot;reportText&quot; column=&quot;report_text&quot;/&gt;\n        &lt;result property=&quot;lastname&quot; column=&quot;lastname&quot;/&gt;\n        &lt;result property=&quot;createdAt&quot; column=&quot;created_at&quot; /&gt;\n        &lt;association property=&quot;pationt&quot; resultMap=&quot;PationtResult&quot; /&gt;\n&lt;/resultMap&gt;\n</code></pre>\n<p>I  repeteed the resultmap over and over in multiple mappers files to use it in association.<br />\nHow can I reuse resultmap to use it in another mapper file INTO association such as my code :</p>\n"},{"tags":["java","hadoop","hbase","cloudera","sqoop"],"answers":[{"tags":[],"owner":{"account_id":2787966,"reputation":1796,"user_id":2398860,"display_name":"michal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1635891293,"creation_date":1371157024,"answer_id":17096941,"question_id":17096607,"body_markdown":"The maven repo for this artifact is for instance: https://mvnrepository.com\n(exactly look at https://mvnrepository.com/artifact/org.apache.sqoop/sqoop/1.4.2-cdh4.2.1)\n\nAt your pom file you have to add following dependency:\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.apache.sqoop&lt;/groupId&gt;\n      &lt;artifactId&gt;sqoop&lt;/artifactId&gt;\n      &lt;version&gt;1.4.2-cdh4.2.1&lt;/version&gt;\n      &lt;type&gt;pom&lt;/type&gt;\n    &lt;/dependency&gt;","title":"Maven repo for Sqoop","body":"<p>The maven repo for this artifact is for instance: <a href=\"https://mvnrepository.com\" rel=\"nofollow noreferrer\">https://mvnrepository.com</a>\n(exactly look at <a href=\"https://mvnrepository.com/artifact/org.apache.sqoop/sqoop/1.4.2-cdh4.2.1\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.sqoop/sqoop/1.4.2-cdh4.2.1</a>)</p>\n<p>At your pom file you have to add following dependency:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.sqoop&lt;/groupId&gt;\n  &lt;artifactId&gt;sqoop&lt;/artifactId&gt;\n  &lt;version&gt;1.4.2-cdh4.2.1&lt;/version&gt;\n  &lt;type&gt;pom&lt;/type&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2044760,"reputation":1726,"user_id":1825119,"display_name":"Jarek Jarcec Cecho"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1371187629,"creation_date":1371187629,"answer_id":17101644,"question_id":17096607,"body_markdown":"If you are using Cloudera distribution of Hadoop (CDH), you should also use Cloudera maven repository and not third party site. You can find instructions in the [installation guide][1].\r\n\r\n\r\n  [1]: http://www.cloudera.com/content/cloudera-content/cloudera-docs/CDH4/latest/CDH4-Installation-Guide/cdh4ig_topic_31.html","title":"Maven repo for Sqoop","body":"<p>If you are using Cloudera distribution of Hadoop (CDH), you should also use Cloudera maven repository and not third party site. You can find instructions in the <a href=\"http://www.cloudera.com/content/cloudera-content/cloudera-docs/CDH4/latest/CDH4-Installation-Guide/cdh4ig_topic_31.html\" rel=\"nofollow\">installation guide</a>.</p>\n"}],"owner":{"account_id":372892,"reputation":2836,"user_id":722209,"accept_rate":64,"display_name":"Tyrick"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1909,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17096941,"answer_count":2,"score":1,"last_activity_date":1635891293,"creation_date":1371155908,"question_id":17096607,"body_markdown":"I&#39;m trying to get Sqoop running on Java, and found the following question:\r\nhttps://stackoverflow.com/questions/9229611/how-to-use-sqoop-in-java-program\r\n\r\nSeems like this is exactly what I need except I&#39;m having trouble finding a maven repo for the &quot;scoop jar&quot;.  I am using cdh4.2 and our sqoop version is Sqoop 1.4.2-cdh4.2.1\r\n\r\nNote: I have added a repo, but am still unable to access objects like ExportTool(), ExportTool(), or even Sqoop?","title":"Maven repo for Sqoop","body":"<p>I'm trying to get Sqoop running on Java, and found the following question:\n<a href=\"https://stackoverflow.com/questions/9229611/how-to-use-sqoop-in-java-program\">How to use Sqoop in Java Program?</a></p>\n\n<p>Seems like this is exactly what I need except I'm having trouble finding a maven repo for the \"scoop jar\".  I am using cdh4.2 and our sqoop version is Sqoop 1.4.2-cdh4.2.1</p>\n\n<p>Note: I have added a repo, but am still unable to access objects like ExportTool(), ExportTool(), or even Sqoop?</p>\n"},{"tags":["java","spring","testing","mocking","springockito"],"comments":[{"owner":{"account_id":313594,"reputation":2936,"user_id":628318,"display_name":"drekbour"},"score":0,"creation_date":1635896440,"post_id":14636897,"comment_id":123413845,"body_markdown":"8 years later: See Spring Boot&#39;s `@MockBean` annotation which works beautifully for this usecase","body":"8 years later: See Spring Boot&#39;s <code>@MockBean</code> annotation which works beautifully for this usecase"}],"answers":[{"tags":[],"owner":{"account_id":446547,"reputation":126635,"user_id":839646,"accept_rate":70,"display_name":"Ryan Stewart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1359681809,"creation_date":1359681809,"answer_id":14638240,"question_id":14636897,"body_markdown":"The `@DirtiesContext` annotation is handled by the [DirtiesContextTestExecutionListener][1] when it&#39;s registered with the [TestContextManager][2]. With plain vanilla Spring tests, that listener is registered by default. Perhaps Springockito or something else in your test &quot;component test&quot; is doing something that interferes with the default listener registration?\r\n\r\n\r\n  [1]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/test/context/support/DirtiesContextTestExecutionListener.html\r\n  [2]: http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/test/context/TestContextManager.html","title":"Mocked Objects in Context during tests execution","body":"<p>The <code>@DirtiesContext</code> annotation is handled by the <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/test/context/support/DirtiesContextTestExecutionListener.html\" rel=\"nofollow\">DirtiesContextTestExecutionListener</a> when it's registered with the <a href=\"http://static.springsource.org/spring/docs/3.0.x/javadoc-api/org/springframework/test/context/TestContextManager.html\" rel=\"nofollow\">TestContextManager</a>. With plain vanilla Spring tests, that listener is registered by default. Perhaps Springockito or something else in your test \"component test\" is doing something that interferes with the default listener registration?</p>\n"},{"tags":[],"owner":{"account_id":297814,"reputation":25314,"user_id":603516,"accept_rate":100,"display_name":"Vadzim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635891200,"creation_date":1382363981,"answer_id":19496586,"question_id":14636897,"body_markdown":"I suggest to try latest [springockito-annotations][1] 1.0.8 with \n\n    @DirtiesMocks(classMode = DirtiesMocks.ClassMode.AFTER_CLASS)\n\nSee https://bitbucket.org/kubek2k/springockito/wiki/springockito-annotations#!reseting-mocksspies-in-experimental-package-hope-youll-like-it.\n\n\n  [1]: https://mvnrepository.com/search?q=springockito-annotations","title":"Mocked Objects in Context during tests execution","body":"<p>I suggest to try latest <a href=\"https://mvnrepository.com/search?q=springockito-annotations\" rel=\"nofollow noreferrer\">springockito-annotations</a> 1.0.8 with</p>\n<pre><code>@DirtiesMocks(classMode = DirtiesMocks.ClassMode.AFTER_CLASS)\n</code></pre>\n<p>See <a href=\"https://bitbucket.org/kubek2k/springockito/wiki/springockito-annotations#!reseting-mocksspies-in-experimental-package-hope-youll-like-it\" rel=\"nofollow noreferrer\">https://bitbucket.org/kubek2k/springockito/wiki/springockito-annotations#!reseting-mocksspies-in-experimental-package-hope-youll-like-it</a>.</p>\n"}],"owner":{"display_name":"user1348997"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":622,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1635891200,"creation_date":1359674076,"question_id":14636897,"body_markdown":"I&#39;m working on an application which has both component and integration tests. The differences between then is: a component test test more than one class (i.e., its inner objects aren&#39;t all mocked out - but some of them might be [such as JMS publishers]) and an Integration test is a test that nothing at all is mocked out. In another words, Spring gives you the object and you test it as it is. \n\nSo far, so good.\n\nThe problem is: in order to be able to replace one dependency or another from the Spring context, I used Springockito (https://bitbucket.org/kubek2k/springockito/wiki/Home) which offers you a way to mock out some bean from the Spring context.\n\nSo - in the component tests - I have this:\n\n    @RunWith(SpringJUnit4ClassRunner.class)\n    @DirtiesContext(classMode = AFTER_CLASS)\n    @ContextConfiguration(loader = SpringockitoContextLoader.class, locations = &quot;classpath:spring-classify-test.xml&quot;)\n    public class....\n\n         @Autowired\n         @ReplaceWithMock\n         private SomeServiceInterface someServiceInterface;\n         @Autowired\n         private Bean bean;\n\nBean has SomeServiceInterface as a depedency. \n\n    public class Bean { \n       private SomeServiceInterface...\n\nIn the case above, SomeServiceInterface will be replaced by a mock. Of course, that example is an oversimplification of the problem - I replace bean with mock objects that are dependecies further down in the object graph.\n\nIt&#39;s worthy noticing that I load the context from this file: spring-classify-test.xml Also it&#39;s wothy noticing that I mark the context as dirty after the execution of the class - so, AFAIK, the next test class must reload the context.\n\n Now the integration test:\n\n    @RunWith(SpringJUnit4ClassRunner.class)\n    @ContextConfiguration(loader = SpringockitoContextLoader.class, locations = {&quot;classpath:/spring-service-integration-test.xml&quot; })\n    public class ...\n\n        @Autowired\n        private Bean bean;\n\nI load the context from spring-service-integration-test.xml - but SomeServiceInterface inside of Bean is still mocked! The context used in the integration test was changed as well! \n\nIf I mark the Integration test with @DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD), the first test in the class will fail because SomeServiceInterface is mocked - but the next test will pass because the context has been refreshed already. \n\nFunny thing is:\n\nIf I ask Spring to inject SomeServiceInterface in the Integration Test, it will inject a SomeServiceInterface concrete implementation - not a mock! \n\nI have tried many things to sort out that issue:\n\n1) Programatically override the beans in the context after the component tests are done using the registerBeanDefinition method from the context\n\n2) Create a TestExecution listener so I could try to manually refresh the context before the execution of an IntegrationTest\n\n3) Use the same loader for the different contexts....\n\n4) This story goes on and on.\n\nDoes anyone have any idea?\n\nP.S.: I quite understand that adopting Springockito was a dubious idea - but that decision was not made by me and now we have over 500 tests in the project - hence refactoring them all to remove Springockito will be a lenghty task, therefore it is not a viable option ATM.","title":"Mocked Objects in Context during tests execution","body":"<p>I'm working on an application which has both component and integration tests. The differences between then is: a component test test more than one class (i.e., its inner objects aren't all mocked out - but some of them might be [such as JMS publishers]) and an Integration test is a test that nothing at all is mocked out. In another words, Spring gives you the object and you test it as it is.</p>\n<p>So far, so good.</p>\n<p>The problem is: in order to be able to replace one dependency or another from the Spring context, I used Springockito (<a href=\"https://bitbucket.org/kubek2k/springockito/wiki/Home\" rel=\"nofollow noreferrer\">https://bitbucket.org/kubek2k/springockito/wiki/Home</a>) which offers you a way to mock out some bean from the Spring context.</p>\n<p>So - in the component tests - I have this:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@DirtiesContext(classMode = AFTER_CLASS)\n@ContextConfiguration(loader = SpringockitoContextLoader.class, locations = &quot;classpath:spring-classify-test.xml&quot;)\npublic class....\n\n     @Autowired\n     @ReplaceWithMock\n     private SomeServiceInterface someServiceInterface;\n     @Autowired\n     private Bean bean;\n</code></pre>\n<p>Bean has SomeServiceInterface as a depedency.</p>\n<pre><code>public class Bean { \n   private SomeServiceInterface...\n</code></pre>\n<p>In the case above, SomeServiceInterface will be replaced by a mock. Of course, that example is an oversimplification of the problem - I replace bean with mock objects that are dependecies further down in the object graph.</p>\n<p>It's worthy noticing that I load the context from this file: spring-classify-test.xml Also it's wothy noticing that I mark the context as dirty after the execution of the class - so, AFAIK, the next test class must reload the context.</p>\n<p>Now the integration test:</p>\n<pre><code>@RunWith(SpringJUnit4ClassRunner.class)\n@ContextConfiguration(loader = SpringockitoContextLoader.class, locations = {&quot;classpath:/spring-service-integration-test.xml&quot; })\npublic class ...\n\n    @Autowired\n    private Bean bean;\n</code></pre>\n<p>I load the context from spring-service-integration-test.xml - but SomeServiceInterface inside of Bean is still mocked! The context used in the integration test was changed as well!</p>\n<p>If I mark the Integration test with @DirtiesContext(classMode = ClassMode.AFTER_EACH_TEST_METHOD), the first test in the class will fail because SomeServiceInterface is mocked - but the next test will pass because the context has been refreshed already.</p>\n<p>Funny thing is:</p>\n<p>If I ask Spring to inject SomeServiceInterface in the Integration Test, it will inject a SomeServiceInterface concrete implementation - not a mock!</p>\n<p>I have tried many things to sort out that issue:</p>\n<ol>\n<li><p>Programatically override the beans in the context after the component tests are done using the registerBeanDefinition method from the context</p>\n</li>\n<li><p>Create a TestExecution listener so I could try to manually refresh the context before the execution of an IntegrationTest</p>\n</li>\n<li><p>Use the same loader for the different contexts....</p>\n</li>\n<li><p>This story goes on and on.</p>\n</li>\n</ol>\n<p>Does anyone have any idea?</p>\n<p>P.S.: I quite understand that adopting Springockito was a dubious idea - but that decision was not made by me and now we have over 500 tests in the project - hence refactoring them all to remove Springockito will be a lenghty task, therefore it is not a viable option ATM.</p>\n"},{"tags":["java","rest","maven"],"comments":[{"owner":{"display_name":"user177800"},"score":0,"creation_date":1392739395,"post_id":21858934,"comment_id":33091347,"body_markdown":"you haven&#39;t included anything but the JAX-RS api jar, you need the RestEasy jar with the classes that are missing. search.maven.org will help you.","body":"you haven&#39;t included anything but the JAX-RS api jar, you need the RestEasy jar with the classes that are missing. search.maven.org will help you."},{"owner":{"account_id":2011953,"reputation":455,"user_id":1800181,"accept_rate":56,"display_name":"Mader Levap"},"score":0,"creation_date":1392745713,"post_id":21858934,"comment_id":33095776,"body_markdown":"Well, I thought org.jboss.resteasy:jaxrs-api did that. Looks like it is not enough.","body":"Well, I thought org.jboss.resteasy:jaxrs-api did that. Looks like it is not enough."},{"owner":{"display_name":"user177800"},"score":0,"creation_date":1392750876,"post_id":21858934,"comment_id":33099002,"body_markdown":"that should say RestEasy **jars**, as you are missing multiple ones.","body":"that should say RestEasy <b>jars</b>, as you are missing multiple ones."}],"answers":[{"tags":[],"owner":{"account_id":2011953,"reputation":455,"user_id":1800181,"accept_rate":56,"display_name":"Mader Levap"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1635891166,"creation_date":1392830781,"answer_id":21887832,"question_id":21858934,"body_markdown":"Indeed, entries in POM were missing.\n\nI needed to add other entries like that:\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n      &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n      &lt;version&gt;3.0.6.Final&lt;/version&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n\nNote fully specified version and scope still being &quot;provided&quot;.\n\nI lost a lot of time chasing shadows. Lack of directly specified org.jboss.resteasy:resteasy-client etc in http://mvnrepository.com/artifact/org.jboss.spec/jboss-javaee-7.0/1.0.0.Final was surefire way to put me on wrong track.","title":"Java cannot find ResteasyClient despite everything accounted for in pom","body":"<p>Indeed, entries in POM were missing.</p>\n<p>I needed to add other entries like that:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n  &lt;artifactId&gt;resteasy-client&lt;/artifactId&gt;\n  &lt;version&gt;3.0.6.Final&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Note fully specified version and scope still being &quot;provided&quot;.</p>\n<p>I lost a lot of time chasing shadows. Lack of directly specified org.jboss.resteasy:resteasy-client etc in <a href=\"http://mvnrepository.com/artifact/org.jboss.spec/jboss-javaee-7.0/1.0.0.Final\" rel=\"nofollow noreferrer\">http://mvnrepository.com/artifact/org.jboss.spec/jboss-javaee-7.0/1.0.0.Final</a> was surefire way to put me on wrong track.</p>\n"}],"owner":{"account_id":2011953,"reputation":455,"user_id":1800181,"accept_rate":56,"display_name":"Mader Levap"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6589,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":21887832,"answer_count":1,"score":0,"last_activity_date":1635891166,"creation_date":1392739170,"question_id":21858934,"body_markdown":"In my prototype projects, I work on implementing very simple REST service - both server (backend) and client that in fact is server too (frontend). Backend server works fine, but with client I encountered very, very strange problem. In Eclipse I have project &quot;frontend&quot; that has this bean called FrontEndPageBean.java:\n\n    package org.mader.demo.frontend;\n    \n    import javax.faces.bean.*;\n    import javax.ws.rs.core.*;\n    \n    /** Bean to show off frontend handling of REST. */\n    @ManagedBean\n    public class FrontEndPageBean\n    {\n      /**\n       * Resolve data from backend through REST service.\n       * @return Data as text.\n       */\n      public String getRestData()\n      { // Retrieve RESTful service using client API from JAX-RS 2.0\n    \n        ResteasyClient client = new ResteasyClientBuilder().build();\n        ResteasyWebTarget target = client.target(&quot;http://127.0.0.1:8080/backend/rest/data/1&quot;);\n    \n        Response response = target.request().get();\n        // Read output in string format\n        String value = response.readEntity(String.class);\n        System.out.println(value);\n        response.close();\n    \n        return value;\n      }\n    }\n\nIt is called in home.xhtml like that:\n\n    Text resolved by REST from backend: #{frontEndPageBean.restData}\n\nThis is my pom:\n\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n      xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n      &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    \n      &lt;groupId&gt;org.mader.demo&lt;/groupId&gt;\n      &lt;artifactId&gt;frontend&lt;/artifactId&gt;\n      &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n      &lt;packaging&gt;war&lt;/packaging&gt;\n    \n      &lt;name&gt;Frontend App&lt;/name&gt;\n      &lt;description&gt;Demonstration Frontend App.&lt;/description&gt;\n    \n      &lt;properties&gt;\n        &lt;webapp.directory&gt;src/main/webapp&lt;/webapp.directory&gt;\n        &lt;jboss.home&gt;${env.JBOSS_HOME}&lt;/jboss.home&gt;\n    \n        &lt;!-- plugin versions --&gt;\n        &lt;version.war.plugin&gt;2.1.1&lt;/version.war.plugin&gt;\n        &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n        &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n    \n        &lt;!-- other --&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n      &lt;/properties&gt;\n    \n      &lt;repositories&gt;\n        &lt;repository&gt;\n          &lt;id&gt;JBOSS_NEXUS&lt;/id&gt;\n          &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public&lt;/url&gt;\n        &lt;/repository&gt;\n      &lt;/repositories&gt;\n    \n      &lt;dependencyManagement&gt;\n        &lt;dependencies&gt;\n          &lt;dependency&gt; &lt;!-- JBoss distributes a complete set of Java EE 7 APIs including a Bill of Materials (BOM). --&gt;\n            &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;\n            &lt;artifactId&gt;jboss-javaee-7.0&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Final&lt;/version&gt;\n            &lt;type&gt;pom&lt;/type&gt;\n            &lt;scope&gt;import&lt;/scope&gt;\n          &lt;/dependency&gt;\n        &lt;/dependencies&gt;\n      &lt;/dependencyManagement&gt;\n    \n      &lt;dependencies&gt;\n    \n        &lt;!-- Standard libraries. --&gt;\n        &lt;dependency&gt; &lt;!-- CDI API --&gt;\n          &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n          &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; &lt;!-- Common Annotations API (JSR-250) --&gt;\n          &lt;groupId&gt;org.jboss.spec.javax.annotation&lt;/groupId&gt;\n          &lt;artifactId&gt;jboss-annotations-api_1.2_spec&lt;/artifactId&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; &lt;!-- RESTeasy --&gt;\n          &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n          &lt;artifactId&gt;jaxrs-api&lt;/artifactId&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt; &lt;!-- JSF --&gt;\n          &lt;groupId&gt;org.jboss.spec.javax.faces&lt;/groupId&gt;\n          &lt;artifactId&gt;jboss-jsf-api_2.2_spec&lt;/artifactId&gt;\n          &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n    \n      &lt;build&gt;\n        &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n        &lt;defaultGoal&gt;package&lt;/defaultGoal&gt;\n    \n        &lt;plugins&gt;\n          &lt;plugin&gt; &lt;!-- To use, run: mvn package wildfly:deploy --&gt;\n            &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n            &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0.Beta1&lt;/version&gt;\n          &lt;/plugin&gt;\n        &lt;/plugins&gt;\n      &lt;/build&gt;\n    &lt;/project&gt;\n\nProblem is that Eclipse does not recognize **ResteasyClientBuilder**, **ResteasyClient** nor **ResteasyWebTarget**. In tooltip it reads &quot;ResteasyClient cannot be resolved to a type&quot;. No import options visible. It does not compile. It Just Does Not Work(TM).\n\nAccording to various pages about consuming REST, ResteasyClient client = new ResteasyClientBuilder().build(); is kosher way. Only thing that I can think up is that there is something to add to POM, some missing dependency. Visit to https://mvnrepository.com/artifact/org.jboss.spec/jboss-javaee-all-7.0/1.0.0.Final does not help much, nor checking code of ResteasyClient - it looks like it should be already covered. Surely I missed something...\n\nEnvironment: Java 1.7, Eclipse Kepler, Wildfly 8.0","title":"Java cannot find ResteasyClient despite everything accounted for in pom","body":"<p>In my prototype projects, I work on implementing very simple REST service - both server (backend) and client that in fact is server too (frontend). Backend server works fine, but with client I encountered very, very strange problem. In Eclipse I have project &quot;frontend&quot; that has this bean called FrontEndPageBean.java:</p>\n<pre><code>package org.mader.demo.frontend;\n\nimport javax.faces.bean.*;\nimport javax.ws.rs.core.*;\n\n/** Bean to show off frontend handling of REST. */\n@ManagedBean\npublic class FrontEndPageBean\n{\n  /**\n   * Resolve data from backend through REST service.\n   * @return Data as text.\n   */\n  public String getRestData()\n  { // Retrieve RESTful service using client API from JAX-RS 2.0\n\n    ResteasyClient client = new ResteasyClientBuilder().build();\n    ResteasyWebTarget target = client.target(&quot;http://127.0.0.1:8080/backend/rest/data/1&quot;);\n\n    Response response = target.request().get();\n    // Read output in string format\n    String value = response.readEntity(String.class);\n    System.out.println(value);\n    response.close();\n\n    return value;\n  }\n}\n</code></pre>\n<p>It is called in home.xhtml like that:</p>\n<pre><code>Text resolved by REST from backend: #{frontEndPageBean.restData}\n</code></pre>\n<p>This is my pom:</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n  xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n  &lt;groupId&gt;org.mader.demo&lt;/groupId&gt;\n  &lt;artifactId&gt;frontend&lt;/artifactId&gt;\n  &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n  &lt;packaging&gt;war&lt;/packaging&gt;\n\n  &lt;name&gt;Frontend App&lt;/name&gt;\n  &lt;description&gt;Demonstration Frontend App.&lt;/description&gt;\n\n  &lt;properties&gt;\n    &lt;webapp.directory&gt;src/main/webapp&lt;/webapp.directory&gt;\n    &lt;jboss.home&gt;${env.JBOSS_HOME}&lt;/jboss.home&gt;\n\n    &lt;!-- plugin versions --&gt;\n    &lt;version.war.plugin&gt;2.1.1&lt;/version.war.plugin&gt;\n    &lt;maven.compiler.target&gt;1.7&lt;/maven.compiler.target&gt;\n    &lt;maven.compiler.source&gt;1.7&lt;/maven.compiler.source&gt;\n\n    &lt;!-- other --&gt;\n    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n  &lt;/properties&gt;\n\n  &lt;repositories&gt;\n    &lt;repository&gt;\n      &lt;id&gt;JBOSS_NEXUS&lt;/id&gt;\n      &lt;url&gt;http://repository.jboss.org/nexus/content/groups/public&lt;/url&gt;\n    &lt;/repository&gt;\n  &lt;/repositories&gt;\n\n  &lt;dependencyManagement&gt;\n    &lt;dependencies&gt;\n      &lt;dependency&gt; &lt;!-- JBoss distributes a complete set of Java EE 7 APIs including a Bill of Materials (BOM). --&gt;\n        &lt;groupId&gt;org.jboss.spec&lt;/groupId&gt;\n        &lt;artifactId&gt;jboss-javaee-7.0&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0.Final&lt;/version&gt;\n        &lt;type&gt;pom&lt;/type&gt;\n        &lt;scope&gt;import&lt;/scope&gt;\n      &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n  &lt;/dependencyManagement&gt;\n\n  &lt;dependencies&gt;\n\n    &lt;!-- Standard libraries. --&gt;\n    &lt;dependency&gt; &lt;!-- CDI API --&gt;\n      &lt;groupId&gt;javax.enterprise&lt;/groupId&gt;\n      &lt;artifactId&gt;cdi-api&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; &lt;!-- Common Annotations API (JSR-250) --&gt;\n      &lt;groupId&gt;org.jboss.spec.javax.annotation&lt;/groupId&gt;\n      &lt;artifactId&gt;jboss-annotations-api_1.2_spec&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; &lt;!-- RESTeasy --&gt;\n      &lt;groupId&gt;org.jboss.resteasy&lt;/groupId&gt;\n      &lt;artifactId&gt;jaxrs-api&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt; &lt;!-- JSF --&gt;\n      &lt;groupId&gt;org.jboss.spec.javax.faces&lt;/groupId&gt;\n      &lt;artifactId&gt;jboss-jsf-api_2.2_spec&lt;/artifactId&gt;\n      &lt;scope&gt;provided&lt;/scope&gt;\n    &lt;/dependency&gt;\n  &lt;/dependencies&gt;\n\n  &lt;build&gt;\n    &lt;finalName&gt;${project.artifactId}&lt;/finalName&gt;\n    &lt;defaultGoal&gt;package&lt;/defaultGoal&gt;\n\n    &lt;plugins&gt;\n      &lt;plugin&gt; &lt;!-- To use, run: mvn package wildfly:deploy --&gt;\n        &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;\n        &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0.Beta1&lt;/version&gt;\n      &lt;/plugin&gt;\n    &lt;/plugins&gt;\n  &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n<p>Problem is that Eclipse does not recognize <strong>ResteasyClientBuilder</strong>, <strong>ResteasyClient</strong> nor <strong>ResteasyWebTarget</strong>. In tooltip it reads &quot;ResteasyClient cannot be resolved to a type&quot;. No import options visible. It does not compile. It Just Does Not Work(TM).</p>\n<p>According to various pages about consuming REST, ResteasyClient client = new ResteasyClientBuilder().build(); is kosher way. Only thing that I can think up is that there is something to add to POM, some missing dependency. Visit to <a href=\"https://mvnrepository.com/artifact/org.jboss.spec/jboss-javaee-all-7.0/1.0.0.Final\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.jboss.spec/jboss-javaee-all-7.0/1.0.0.Final</a> does not help much, nor checking code of ResteasyClient - it looks like it should be already covered. Surely I missed something...</p>\n<p>Environment: Java 1.7, Eclipse Kepler, Wildfly 8.0</p>\n"},{"tags":["java","maven","maven-2","neo4j","neo4j-spatial"],"answers":[{"tags":[],"owner":{"account_id":53091,"reputation":39573,"user_id":158701,"accept_rate":60,"display_name":"Stefan Armbruster"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1401355758,"creation_date":1401355758,"answer_id":23930066,"question_id":23914917,"body_markdown":"This is not related to neo4j spatial. It seems your neo4j dependencies have been upgraded to a new version. Therefore you datastore need to be upgraded as well. \r\n\r\n***PLEASE MAKE SURE TO MAKE A BACKUP COPY PRIOR TO UPGRADING. Datastore downgrades are not supported.***\r\n\r\nTo perform the datastore upgrade create your `GraphDatabaseService` like this:\r\n\r\n    GraphDatabaseService graphDb = new GraphDatabaseFactory()\r\n      .newEmbeddedDatabaseBuilder(&quot;var/geo&quot;)\r\n      .setConfig(&quot;allow_store_upgrade&quot;, &quot;true&quot;)\r\n      .newGraphDatabase();\r\n","title":"Neo4j Spatial causes lifecycle exception","body":"<p>This is not related to neo4j spatial. It seems your neo4j dependencies have been upgraded to a new version. Therefore you datastore need to be upgraded as well. </p>\n\n<p><strong><em>PLEASE MAKE SURE TO MAKE A BACKUP COPY PRIOR TO UPGRADING. Datastore downgrades are not supported.</em></strong></p>\n\n<p>To perform the datastore upgrade create your <code>GraphDatabaseService</code> like this:</p>\n\n<pre><code>GraphDatabaseService graphDb = new GraphDatabaseFactory()\n  .newEmbeddedDatabaseBuilder(\"var/geo\")\n  .setConfig(\"allow_store_upgrade\", \"true\")\n  .newGraphDatabase();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3439949,"reputation":4010,"user_id":2882136,"accept_rate":68,"display_name":"phil_20686"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635891133,"creation_date":1401356259,"answer_id":23930225,"question_id":23914917,"body_markdown":"This turned out to be a maven problem.\n\nBy changing the repositories to:\n\n    &lt;repository&gt;\n            &lt;id&gt;neo4j-contrib-releases&lt;/id&gt;\n            &lt;url&gt;https://raw.github.com/neo4j-contrib/m2/master/releases&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n        &lt;repository&gt;\n            &lt;id&gt;neo4j-contrib-snapshots&lt;/id&gt;\n            &lt;url&gt;https://raw.github.com/neo4j-contrib/m2/master/snapshots&lt;/url&gt;\n            &lt;releases&gt;\n                &lt;enabled&gt;false&lt;/enabled&gt;\n            &lt;/releases&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n\nAnd the dependencies to:\n\n     &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;neo4j-spatial&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;0.12-neo4j-2.0.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n    &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n\t\t\t&lt;artifactId&gt;neo4j&lt;/artifactId&gt;\n\t\t\t&lt;version&gt;2.0.2&lt;/version&gt;\n\t\t&lt;/dependency&gt;\n\nThe problem went away. I had previously been using [https://mvnrepository.com/artifact/org.neo4j/neo4j-spatial][1] as my maven repository, and it seems these versions are somehow not compatible.\n\n\n  [1]: https://mvnrepository.com/artifact/org.neo4j/neo4j-spatial","title":"Neo4j Spatial causes lifecycle exception","body":"<p>This turned out to be a maven problem.</p>\n<p>By changing the repositories to:</p>\n<pre><code>&lt;repository&gt;\n        &lt;id&gt;neo4j-contrib-releases&lt;/id&gt;\n        &lt;url&gt;https://raw.github.com/neo4j-contrib/m2/master/releases&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/releases&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n    &lt;repository&gt;\n        &lt;id&gt;neo4j-contrib-snapshots&lt;/id&gt;\n        &lt;url&gt;https://raw.github.com/neo4j-contrib/m2/master/snapshots&lt;/url&gt;\n        &lt;releases&gt;\n            &lt;enabled&gt;false&lt;/enabled&gt;\n        &lt;/releases&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n</code></pre>\n<p>And the dependencies to:</p>\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n        &lt;artifactId&gt;neo4j-spatial&lt;/artifactId&gt;\n        &lt;version&gt;0.12-neo4j-2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n&lt;dependency&gt;\n        &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n        &lt;artifactId&gt;neo4j&lt;/artifactId&gt;\n        &lt;version&gt;2.0.2&lt;/version&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>The problem went away. I had previously been using <a href=\"https://mvnrepository.com/artifact/org.neo4j/neo4j-spatial\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.neo4j/neo4j-spatial</a> as my maven repository, and it seems these versions are somehow not compatible.</p>\n"}],"owner":{"account_id":3439949,"reputation":4010,"user_id":2882136,"accept_rate":68,"display_name":"phil_20686"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":23930225,"answer_count":2,"score":1,"last_activity_date":1635891133,"creation_date":1401288574,"question_id":23914917,"body_markdown":"So I am trying to get my head around Neo4j Spatial. I wrote the following code:\r\n\r\n\r\n\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tGraphDatabaseService graphDb = new GraphDatabaseFactory().newEmbeddedDatabase(&quot;var/geo&quot;);\r\n\t\tSpatialDatabaseService spatialDb = new SpatialDatabaseService(graphDb);\r\n\t\tEditableLayer runningLayer = (EditableLayer) spatialDb.getOrCreateLayer(&quot;running&quot;, SimplePointEncoder.class, EditableLayerImpl.class, &quot;lon:lat&quot;);\r\n\r\n\t\tNode ship = null;\r\n\t\ttry(Transaction tx = graphDb.beginTx();) {\r\n\t\t\tship = graphDb.createNode(MyLabels.Ship);\r\n\t\t\tship.setProperty(&quot;Name&quot;, new String(&quot;Toms Powerboat&quot;));\r\n\t\t\ttx.success();\r\n\t\t}\r\n\t\trouteGenerator(graphDb, runningLayer, ship);\r\n\t\tgraphDb.shutdown();\r\n\t}\r\n\r\n\r\n\tprivate static void routeGenerator(GraphDatabaseService graphDb, EditableLayer runningLayer, Node node){\r\n\r\n\t\tfinal long startTime = System.currentTimeMillis();\r\n\t\ttry(\r\n\t\t\t\tTransaction tx = graphDb.beginTx();\r\n\t\t\t\t){\r\n\t\t\tCoordinate start = new Coordinate(Math.random()*10, Math.random()*10);\r\n\t\t\tfor(int i=0; i&lt;200; i++){\r\n\t\t\t\tSpatialDatabaseRecord torecord = runningLayer.add(runningLayer.getGeometryFactory().createPoint(start));\r\n\t\t\t\ttorecord.setProperty(&quot;Time&quot;, (System.currentTimeMillis() - startTime)*10000000);\r\n\t\t\t\ttorecord.getGeomNode().createRelationshipTo(node, RelTypes.hasLocation);\r\n\t\t\t\tstart = new Coordinate((start.x + 0.1), start.x+Math.random()*0.2);\r\n\t\t\t}\r\n\r\n\t\t\ttx.success();\r\n\r\n\r\n\t\t}\r\n\t}\r\n\r\nThis appears to work the first time that I run it, but if I try to run it a second time I get :\r\n\r\n    Exception in thread &quot;main&quot; java.lang.RuntimeException: Error starting org.neo4j.kernel.EmbeddedGraphDatabase, C:\\Users\\pstephens\\Programming\\Java\\ContainSSS\\var\\geo\r\n\tat org.neo4j.kernel.InternalAbstractGraphDatabase.run(InternalAbstractGraphDatabase.java:330)\r\n\tat org.neo4j.kernel.EmbeddedGraphDatabase.&lt;init&gt;(EmbeddedGraphDatabase.java:63)\r\n\tat org.neo4j.graphdb.factory.GraphDatabaseFactory$1.newDatabase(GraphDatabaseFactory.java:92)\r\n\tat org.neo4j.graphdb.factory.GraphDatabaseBuilder.newGraphDatabase(GraphDatabaseBuilder.java:198)\r\n\tat org.neo4j.graphdb.factory.GraphDatabaseFactory.newEmbeddedDatabase(GraphDatabaseFactory.java:69)\r\n\tat com.bmt.contain.spatial.test.SpatialTest.main(SpatialTest.java:43)\r\n    Caused by: org.neo4j.kernel.lifecycle.LifecycleException: Component &#39;org.neo4j.kernel.impl.transaction.XaDataSourceManager@349cebe0&#39; was successfully initialized, but failed to start. Please see attached cause exception.\r\n\tat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:509)\r\n\tat org.neo4j.kernel.lifecycle.LifeSupport.start(LifeSupport.java:115)\r\n\tat org.neo4j.kernel.InternalAbstractGraphDatabase.run(InternalAbstractGraphDatabase.java:307)\r\n\t... 5 more\r\n\r\n\r\n    Caused by: org.neo4j.kernel.lifecycle.LifecycleException: Component &#39;org.neo4j.kernel.impl.nioneo.xa.NeoStoreXaDataSource@46c8fa1e&#39; was successfully initialized, but failed to start. Please see attached cause exception.\r\n\tat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:509)\r\n\tat org.neo4j.kernel.lifecycle.LifeSupport.start(LifeSupport.java:115)\r\n\tat org.neo4j.kernel.impl.transaction.XaDataSourceManager.start(XaDataSourceManager.java:164)\r\n\tat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:503)\r\n\t... 7 more\r\n    Caused by: org.neo4j.kernel.impl.storemigration.UpgradeNotAllowedByConfigurationException: Failed to start Neo4j with an older data store version. To enable automatic upgrade, please set configuration parameter &quot;allow_store_upgrade=true&quot;\r\n\tat org.neo4j.kernel.impl.storemigration.ConfigMapUpgradeConfiguration.checkConfigurationAllowsAutomaticUpgrade(ConfigMapUpgradeConfiguration.java:39)\r\n\tat org.neo4j.kernel.impl.storemigration.StoreUpgrader.attemptUpgrade(StoreUpgrader.java:71)\r\n\tat org.neo4j.kernel.impl.nioneo.store.StoreFactory.tryToUpgradeStores(StoreFactory.java:144)\r\n\tat org.neo4j.kernel.impl.nioneo.store.StoreFactory.newNeoStore(StoreFactory.java:119)\r\n\tat org.neo4j.kernel.impl.nioneo.xa.NeoStoreXaDataSource.start(NeoStoreXaDataSource.java:323)\r\n\tat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:503)\r\n\t... 10 more\r\n\r\nSo I understand that this is usually some kind of versioning, so below is the maven dependencies that I have (among many others) from the effective POM.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;neo4j-spatial&lt;/artifactId&gt;\r\n      &lt;version&gt;0.13-neo4j-2.0.1&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;neo4j&lt;/artifactId&gt;\r\n      &lt;version&gt;2.0.1&lt;/version&gt;\r\n      &lt;scope&gt;compile&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\nPS: I would also appreciate understanding why the Java code is not being parsed by SO with the nice highlighting. \r\n","title":"Neo4j Spatial causes lifecycle exception","body":"<p>So I am trying to get my head around Neo4j Spatial. I wrote the following code:</p>\n\n<pre><code>public static void main(String[] args) {\n    GraphDatabaseService graphDb = new GraphDatabaseFactory().newEmbeddedDatabase(\"var/geo\");\n    SpatialDatabaseService spatialDb = new SpatialDatabaseService(graphDb);\n    EditableLayer runningLayer = (EditableLayer) spatialDb.getOrCreateLayer(\"running\", SimplePointEncoder.class, EditableLayerImpl.class, \"lon:lat\");\n\n    Node ship = null;\n    try(Transaction tx = graphDb.beginTx();) {\n        ship = graphDb.createNode(MyLabels.Ship);\n        ship.setProperty(\"Name\", new String(\"Toms Powerboat\"));\n        tx.success();\n    }\n    routeGenerator(graphDb, runningLayer, ship);\n    graphDb.shutdown();\n}\n\n\nprivate static void routeGenerator(GraphDatabaseService graphDb, EditableLayer runningLayer, Node node){\n\n    final long startTime = System.currentTimeMillis();\n    try(\n            Transaction tx = graphDb.beginTx();\n            ){\n        Coordinate start = new Coordinate(Math.random()*10, Math.random()*10);\n        for(int i=0; i&lt;200; i++){\n            SpatialDatabaseRecord torecord = runningLayer.add(runningLayer.getGeometryFactory().createPoint(start));\n            torecord.setProperty(\"Time\", (System.currentTimeMillis() - startTime)*10000000);\n            torecord.getGeomNode().createRelationshipTo(node, RelTypes.hasLocation);\n            start = new Coordinate((start.x + 0.1), start.x+Math.random()*0.2);\n        }\n\n        tx.success();\n\n\n    }\n}\n</code></pre>\n\n<p>This appears to work the first time that I run it, but if I try to run it a second time I get :</p>\n\n<pre><code>Exception in thread \"main\" java.lang.RuntimeException: Error starting org.neo4j.kernel.EmbeddedGraphDatabase, C:\\Users\\pstephens\\Programming\\Java\\ContainSSS\\var\\geo\nat org.neo4j.kernel.InternalAbstractGraphDatabase.run(InternalAbstractGraphDatabase.java:330)\nat org.neo4j.kernel.EmbeddedGraphDatabase.&lt;init&gt;(EmbeddedGraphDatabase.java:63)\nat org.neo4j.graphdb.factory.GraphDatabaseFactory$1.newDatabase(GraphDatabaseFactory.java:92)\nat org.neo4j.graphdb.factory.GraphDatabaseBuilder.newGraphDatabase(GraphDatabaseBuilder.java:198)\nat org.neo4j.graphdb.factory.GraphDatabaseFactory.newEmbeddedDatabase(GraphDatabaseFactory.java:69)\nat com.bmt.contain.spatial.test.SpatialTest.main(SpatialTest.java:43)\nCaused by: org.neo4j.kernel.lifecycle.LifecycleException: Component 'org.neo4j.kernel.impl.transaction.XaDataSourceManager@349cebe0' was successfully initialized, but failed to start. Please see attached cause exception.\nat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:509)\nat org.neo4j.kernel.lifecycle.LifeSupport.start(LifeSupport.java:115)\nat org.neo4j.kernel.InternalAbstractGraphDatabase.run(InternalAbstractGraphDatabase.java:307)\n... 5 more\n\n\nCaused by: org.neo4j.kernel.lifecycle.LifecycleException: Component 'org.neo4j.kernel.impl.nioneo.xa.NeoStoreXaDataSource@46c8fa1e' was successfully initialized, but failed to start. Please see attached cause exception.\nat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:509)\nat org.neo4j.kernel.lifecycle.LifeSupport.start(LifeSupport.java:115)\nat org.neo4j.kernel.impl.transaction.XaDataSourceManager.start(XaDataSourceManager.java:164)\nat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:503)\n... 7 more\nCaused by: org.neo4j.kernel.impl.storemigration.UpgradeNotAllowedByConfigurationException: Failed to start Neo4j with an older data store version. To enable automatic upgrade, please set configuration parameter \"allow_store_upgrade=true\"\nat org.neo4j.kernel.impl.storemigration.ConfigMapUpgradeConfiguration.checkConfigurationAllowsAutomaticUpgrade(ConfigMapUpgradeConfiguration.java:39)\nat org.neo4j.kernel.impl.storemigration.StoreUpgrader.attemptUpgrade(StoreUpgrader.java:71)\nat org.neo4j.kernel.impl.nioneo.store.StoreFactory.tryToUpgradeStores(StoreFactory.java:144)\nat org.neo4j.kernel.impl.nioneo.store.StoreFactory.newNeoStore(StoreFactory.java:119)\nat org.neo4j.kernel.impl.nioneo.xa.NeoStoreXaDataSource.start(NeoStoreXaDataSource.java:323)\nat org.neo4j.kernel.lifecycle.LifeSupport$LifecycleInstance.start(LifeSupport.java:503)\n... 10 more\n</code></pre>\n\n<p>So I understand that this is usually some kind of versioning, so below is the maven dependencies that I have (among many others) from the effective POM.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n  &lt;artifactId&gt;neo4j-spatial&lt;/artifactId&gt;\n  &lt;version&gt;0.13-neo4j-2.0.1&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n  &lt;groupId&gt;org.neo4j&lt;/groupId&gt;\n  &lt;artifactId&gt;neo4j&lt;/artifactId&gt;\n  &lt;version&gt;2.0.1&lt;/version&gt;\n  &lt;scope&gt;compile&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>PS: I would also appreciate understanding why the Java code is not being parsed by SO with the nice highlighting. </p>\n"},{"tags":["java","solr","java-6"],"answers":[{"tags":[],"owner":{"account_id":1815388,"reputation":66,"user_id":1650579,"display_name":"lagershins"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1635891094,"creation_date":1405378479,"answer_id":24747356,"question_id":24515283,"body_markdown":"Solr 4.9.0 has been compiled for java7. The last version I found compiled for java6 is 4.7.2. You can see this in the [pom.xml][1]&lt;sup&gt;broken link&lt;/sup&gt; for the project (relevant part reproduced below).\r\n\r\n        &lt;plugin&gt;\r\n          &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n          &lt;version&gt;3.1&lt;/version&gt;\r\n          &lt;configuration&gt;\r\n            &lt;source&gt;1.6&lt;/source&gt;\r\n            &lt;target&gt;1.6&lt;/target&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.apache.solr/solr-solrj/4.7.2/pom_effective","title":"Solr-solrj 4.9.0 run on jdk 1.6?","body":"<p>Solr 4.9.0 has been compiled for java7. The last version I found compiled for java6 is 4.7.2. You can see this in the <a href=\"https://mvnrepository.com/artifact/org.apache.solr/solr-solrj/4.7.2/pom_effective\" rel=\"nofollow noreferrer\">pom.xml</a><sup>broken link</sup> for the project (relevant part reproduced below).</p>\n<pre><code>    &lt;plugin&gt;\n      &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n      &lt;version&gt;3.1&lt;/version&gt;\n      &lt;configuration&gt;\n        &lt;source&gt;1.6&lt;/source&gt;\n        &lt;target&gt;1.6&lt;/target&gt;\n      &lt;/configuration&gt;\n    &lt;/plugin&gt;\n</code></pre>\n"}],"owner":{"account_id":1612170,"reputation":5977,"user_id":1490806,"accept_rate":86,"display_name":"Ignasi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3086,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":24747356,"answer_count":1,"score":4,"last_activity_date":1635891094,"creation_date":1404232471,"question_id":24515283,"body_markdown":"Can Solr 4.9.0 solr-solrj API run in Java 1.6? (It seems to be compiled into Java 1.7)\nI&#39;m using solr server 4.9.0 and It needs Java 1.7 but I want use the client into my project and it&#39;s compiled on Java 1.6","title":"Solr-solrj 4.9.0 run on jdk 1.6?","body":"<p>Can Solr 4.9.0 solr-solrj API run in Java 1.6? (It seems to be compiled into Java 1.7)\nI'm using solr server 4.9.0 and It needs Java 1.7 but I want use the client into my project and it's compiled on Java 1.6</p>\n"},{"tags":["java","maven","maven-2"],"answers":[{"tags":[],"owner":{"account_id":1867196,"reputation":850,"user_id":1690436,"accept_rate":17,"display_name":"Pradeep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635891057,"creation_date":1413398170,"answer_id":26389711,"question_id":26249986,"body_markdown":"They have a bug raised for this \r\nhttps://bugs.eclipse.org/bugs/show_bug.cgi?id=445642\r\n\r\nYou can also try this pom to include the dependencies manually \r\n\r\nhttps://mvnrepository.com/artifact/org.eclipse.birt.runtime/org.eclipse.birt.runtime/4.4.1/pom&lt;sup&gt;broken link&lt;/sup&gt;","title":"Updating birtruntime to 4.4.1 maven gives following error","body":"<p>They have a bug raised for this\n<a href=\"https://bugs.eclipse.org/bugs/show_bug.cgi?id=445642\" rel=\"nofollow noreferrer\">https://bugs.eclipse.org/bugs/show_bug.cgi?id=445642</a></p>\n<p>You can also try this pom to include the dependencies manually</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.eclipse.birt.runtime/org.eclipse.birt.runtime/4.4.1/pom\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.eclipse.birt.runtime/org.eclipse.birt.runtime/4.4.1/pom</a><sup>broken link</sup></p>\n"}],"owner":{"account_id":3613065,"reputation":1133,"user_id":3013623,"accept_rate":57,"display_name":"Mayur"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":341,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635891057,"creation_date":1412747250,"question_id":26249986,"body_markdown":"Multiple annotations found at this line:\n\t- Missing artifact org.eclipse.birt.runtime:org.eclipse.emf:jar:2.6.0.v20140901-1055\n\t- Missing artifact org.eclipse.birt.runtime:org.eclipse.osgi:jar:3.10.1.v20140909-1633\n\t- Missing artifact org.eclipse.birt.runtime:org.eclipse.emf.ecore.change:jar:\n\t 2.10.0.v20140901-1043\n\t- Missing artifact org.eclipse.birt.runtime:org.eclipse.core.resources:jar:\n\t 3.9.1.v20140825-1431\n\t- Missing artifact org.eclipse.birt.runtime:org.eclipse.emf.ecore:jar:2.10.1.v20140901-1043\n\t- Missing artifact org.eclipse.birt.runtime:org.eclipse.emf.ecore.xmi:jar:\n\t 2.10.1.v20140901-1043\n\t- Missing artifact org.eclipse.birt.runtime:org.eclipse.emf.common:jar:\n\t 2.10.1.v20140901-1043\n\nHow to install this file manually as I have downloaded the jar of this files but how to add in maven repositories.???","title":"Updating birtruntime to 4.4.1 maven gives following error","body":"<p>Multiple annotations found at this line:\n- Missing artifact org.eclipse.birt.runtime:org.eclipse.emf:jar:2.6.0.v20140901-1055\n- Missing artifact org.eclipse.birt.runtime:org.eclipse.osgi:jar:3.10.1.v20140909-1633\n- Missing artifact org.eclipse.birt.runtime:org.eclipse.emf.ecore.change:jar:\n2.10.0.v20140901-1043\n- Missing artifact org.eclipse.birt.runtime:org.eclipse.core.resources:jar:\n3.9.1.v20140825-1431\n- Missing artifact org.eclipse.birt.runtime:org.eclipse.emf.ecore:jar:2.10.1.v20140901-1043\n- Missing artifact org.eclipse.birt.runtime:org.eclipse.emf.ecore.xmi:jar:\n2.10.1.v20140901-1043\n- Missing artifact org.eclipse.birt.runtime:org.eclipse.emf.common:jar:\n2.10.1.v20140901-1043</p>\n<p>How to install this file manually as I have downloaded the jar of this files but how to add in maven repositories.???</p>\n"},{"tags":["java","eclipse","struts2","xml-configuration","gxp"],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1635891048,"creation_date":1409341242,"answer_id":25575141,"question_id":25574501,"body_markdown":"The error is caused by GXP plugin deployed with the application, if you are not using GXPs then remove it from classpath. The referenced class is `org.apache.struts2.views.gxp.inject.InjectedObjectContainer` absent in the distribution. You might need additional libraries to satisfy dependency to use this plugin correctly. Certainly it is google-gxp, you can look up required libraries in the [maven repository][1]. \n\n\n  [1]: https://mvnrepository.com/artifact/org.apache.struts/struts2-gxp-plugin/2.3.16.3","title":"Unable to load bean: type:org.apache.struts2.views.gxp.inject.InjectedObjectContainer","body":"<p>The error is caused by GXP plugin deployed with the application, if you are not using GXPs then remove it from classpath. The referenced class is <code>org.apache.struts2.views.gxp.inject.InjectedObjectContainer</code> absent in the distribution. You might need additional libraries to satisfy dependency to use this plugin correctly. Certainly it is google-gxp, you can look up required libraries in the <a href=\"https://mvnrepository.com/artifact/org.apache.struts/struts2-gxp-plugin/2.3.16.3\" rel=\"nofollow noreferrer\">maven repository</a>.</p>\n"}],"owner":{"account_id":1826757,"reputation":103,"user_id":1659254,"accept_rate":91,"display_name":"duke"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8254,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":25575141,"answer_count":1,"score":0,"last_activity_date":1635891048,"creation_date":1409338277,"question_id":25574501,"body_markdown":"I am running the Struts2 application in eclipse but it is displaying the error while running in the Apache Tomcat server the error I am getting is \r\n\r\n        SEVERE: Dispatcher initialization failed\r\n    Unable to load configuration. - bean - jar:file:/C:/projectdetails/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/FieldError/WEB-INF/lib/struts2-gxp-plugin-2.3.16.3.jar!/struts-plugin.xml:8:162\r\n    \tat com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:70)\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:445)\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:489)\r\n    \tat org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)\r\n    \tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:57)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:279)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:260)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:105)\r\n    \tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4828)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5508)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: Unable to load bean: type:org.apache.struts2.views.gxp.inject.InjectedObjectContainer class:org.apache.struts2.views.gxp.inject.InjectedObjectContainer - bean - jar:file:/C:/projectdetails/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/FieldError/WEB-INF/lib/struts2-gxp-plugin-2.3.16.3.jar!/struts-plugin.xml:8:162\r\n    \tat com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.register(XmlConfigurationProvider.java:245)\r\n    \tat org.apache.struts2.config.StrutsXmlConfigurationProvider.register(StrutsXmlConfigurationProvider.java:102)\r\n    \tat com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:234)\r\n    \tat com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)\r\n    \t... 16 more\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.struts2.views.gxp.inject.InjectedObjectContainer\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1720)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\r\n    \tat com.opensymphony.xwork2.util.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:152)\r\n    \tat com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.register(XmlConfigurationProvider.java:216)\r\n    \t... 19 more\r\n    \r\n    Aug 29, 2014 11:47:17 AM org.apache.catalina.core.StandardContext filterStart\r\n    SEVERE: Exception starting filter struts2\r\n    Unable to load configuration. - bean - jar:file:/C:/projectdetails/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/FieldError/WEB-INF/lib/struts2-gxp-plugin-2.3.16.3.jar!/struts-plugin.xml:8:162\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:501)\r\n    \tat org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)\r\n    \tat org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:57)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:279)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:260)\r\n    \tat org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:105)\r\n    \tat org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4828)\r\n    \tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5508)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\r\n    \tat java.util.concurrent.FutureTask.run(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\r\n    \tat java.lang.Thread.run(Unknown Source)\r\n    Caused by: Unable to load configuration. - bean - jar:file:/C:/projectdetails/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/FieldError/WEB-INF/lib/struts2-gxp-plugin-2.3.16.3.jar!/struts-plugin.xml:8:162\r\n    \tat com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:70)\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:445)\r\n    \tat org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:489)\r\n    \t... 14 more\r\n    Caused by: Unable to load bean: type:org.apache.struts2.views.gxp.inject.InjectedObjectContainer class:org.apache.struts2.views.gxp.inject.InjectedObjectContainer - bean - jar:file:/C:/projectdetails/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/FieldError/WEB-INF/lib/struts2-gxp-plugin-2.3.16.3.jar!/struts-plugin.xml:8:162\r\n    \tat com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.register(XmlConfigurationProvider.java:245)\r\n    \tat org.apache.struts2.config.StrutsXmlConfigurationProvider.register(StrutsXmlConfigurationProvider.java:102)\r\n    \tat com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:234)\r\n    \tat com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)\r\n    \t... 16 more\r\n    Caused by: java.lang.ClassNotFoundException: org.apache.struts2.views.gxp.inject.InjectedObjectContainer\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1720)\r\n    \tat org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\r\n    \tat com.opensymphony.xwork2.util.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:152)\r\n    \tat com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.register(XmlConfigurationProvider.java:216)\r\n    \t... 19 more\r\n\r\nI kept all the jar files in the lib folder in eclipse even though when I am trying to run the basic application it is getting the above error?","title":"Unable to load bean: type:org.apache.struts2.views.gxp.inject.InjectedObjectContainer","body":"<p>I am running the Struts2 application in eclipse but it is displaying the error while running in the Apache Tomcat server the error I am getting is </p>\n\n<pre><code>    SEVERE: Dispatcher initialization failed\nUnable to load configuration. - bean - jar:file:/C:/projectdetails/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/FieldError/WEB-INF/lib/struts2-gxp-plugin-2.3.16.3.jar!/struts-plugin.xml:8:162\n    at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:70)\n    at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:445)\n    at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:489)\n    at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:57)\n    at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:279)\n    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:260)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:105)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4828)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5508)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: Unable to load bean: type:org.apache.struts2.views.gxp.inject.InjectedObjectContainer class:org.apache.struts2.views.gxp.inject.InjectedObjectContainer - bean - jar:file:/C:/projectdetails/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/FieldError/WEB-INF/lib/struts2-gxp-plugin-2.3.16.3.jar!/struts-plugin.xml:8:162\n    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.register(XmlConfigurationProvider.java:245)\n    at org.apache.struts2.config.StrutsXmlConfigurationProvider.register(StrutsXmlConfigurationProvider.java:102)\n    at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:234)\n    at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)\n    ... 16 more\nCaused by: java.lang.ClassNotFoundException: org.apache.struts2.views.gxp.inject.InjectedObjectContainer\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1720)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\n    at com.opensymphony.xwork2.util.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:152)\n    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.register(XmlConfigurationProvider.java:216)\n    ... 19 more\n\nAug 29, 2014 11:47:17 AM org.apache.catalina.core.StandardContext filterStart\nSEVERE: Exception starting filter struts2\nUnable to load configuration. - bean - jar:file:/C:/projectdetails/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/FieldError/WEB-INF/lib/struts2-gxp-plugin-2.3.16.3.jar!/struts-plugin.xml:8:162\n    at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:501)\n    at org.apache.struts2.dispatcher.ng.InitOperations.initDispatcher(InitOperations.java:74)\n    at org.apache.struts2.dispatcher.ng.filter.StrutsPrepareAndExecuteFilter.init(StrutsPrepareAndExecuteFilter.java:57)\n    at org.apache.catalina.core.ApplicationFilterConfig.initFilter(ApplicationFilterConfig.java:279)\n    at org.apache.catalina.core.ApplicationFilterConfig.getFilter(ApplicationFilterConfig.java:260)\n    at org.apache.catalina.core.ApplicationFilterConfig.&lt;init&gt;(ApplicationFilterConfig.java:105)\n    at org.apache.catalina.core.StandardContext.filterStart(StandardContext.java:4828)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5508)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1575)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1565)\n    at java.util.concurrent.FutureTask.run(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(Unknown Source)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(Unknown Source)\n    at java.lang.Thread.run(Unknown Source)\nCaused by: Unable to load configuration. - bean - jar:file:/C:/projectdetails/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/FieldError/WEB-INF/lib/struts2-gxp-plugin-2.3.16.3.jar!/struts-plugin.xml:8:162\n    at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:70)\n    at org.apache.struts2.dispatcher.Dispatcher.init_PreloadConfiguration(Dispatcher.java:445)\n    at org.apache.struts2.dispatcher.Dispatcher.init(Dispatcher.java:489)\n    ... 14 more\nCaused by: Unable to load bean: type:org.apache.struts2.views.gxp.inject.InjectedObjectContainer class:org.apache.struts2.views.gxp.inject.InjectedObjectContainer - bean - jar:file:/C:/projectdetails/.metadata/.plugins/org.eclipse.wst.server.core/tmp0/wtpwebapps/FieldError/WEB-INF/lib/struts2-gxp-plugin-2.3.16.3.jar!/struts-plugin.xml:8:162\n    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.register(XmlConfigurationProvider.java:245)\n    at org.apache.struts2.config.StrutsXmlConfigurationProvider.register(StrutsXmlConfigurationProvider.java:102)\n    at com.opensymphony.xwork2.config.impl.DefaultConfiguration.reloadContainer(DefaultConfiguration.java:234)\n    at com.opensymphony.xwork2.config.ConfigurationManager.getConfiguration(ConfigurationManager.java:67)\n    ... 16 more\nCaused by: java.lang.ClassNotFoundException: org.apache.struts2.views.gxp.inject.InjectedObjectContainer\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1720)\n    at org.apache.catalina.loader.WebappClassLoader.loadClass(WebappClassLoader.java:1571)\n    at com.opensymphony.xwork2.util.ClassLoaderUtil.loadClass(ClassLoaderUtil.java:152)\n    at com.opensymphony.xwork2.config.providers.XmlConfigurationProvider.register(XmlConfigurationProvider.java:216)\n    ... 19 more\n</code></pre>\n\n<p>I kept all the jar files in the lib folder in eclipse even though when I am trying to run the basic application it is getting the above error?</p>\n"},{"tags":["java","spring","unit-testing"],"answers":[{"tags":[],"owner":{"account_id":5596075,"reputation":398,"user_id":4433824,"display_name":"Pusker Gy&#246;rgy"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635891020,"creation_date":1420808210,"answer_id":27861089,"question_id":27860928,"body_markdown":"You should use Sprint test context framework\nCheck this:\n[http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html#integration-testing-annotations][1]\n\n\nYou can find the lib here: [https://mvnrepository.com/artifact/org.springframework/spring-test][2]\n\nYou should annotate the test classes  (or a parent class) with @ContextConfiguration and you can set your config xml (locations parameter) and config Java classes (classes parameter)\nAnd if you use SpringMVC add @WebAppConfiguration annotation too\n\nIf it is configured you can use @Autowired in tests.\n\n\n  [1]: http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html#integration-testing-annotations\n  [2]: https://mvnrepository.com/artifact/org.springframework/spring-test","title":"Unit testing Spring Boot application endpoints","body":"<p>You should use Sprint test context framework\nCheck this:\n<a href=\"http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html#integration-testing-annotations\" rel=\"nofollow noreferrer\">http://docs.spring.io/spring/docs/current/spring-framework-reference/html/testing.html#integration-testing-annotations</a></p>\n<p>You can find the lib here: <a href=\"https://mvnrepository.com/artifact/org.springframework/spring-test\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework/spring-test</a></p>\n<p>You should annotate the test classes  (or a parent class) with @ContextConfiguration and you can set your config xml (locations parameter) and config Java classes (classes parameter)\nAnd if you use SpringMVC add @WebAppConfiguration annotation too</p>\n<p>If it is configured you can use @Autowired in tests.</p>\n"}],"owner":{"account_id":5600442,"reputation":53,"user_id":4436861,"display_name":"Anders"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5268,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":27861089,"answer_count":1,"score":3,"last_activity_date":1635891020,"creation_date":1420807651,"question_id":27860928,"body_markdown":"\r\n\r\nI have a small Spring Boot application with a defined health endpoint at &quot;/health&quot;. This is defined in code by:\r\n\r\n    @Component\r\n    public class MyHealthEndpoint implements HealthIndicator {\r\n      public Health health() {\r\n        # ...\r\n        # returns health info as JSON here \r\n        # ...\r\n      }\r\n    }\r\n\r\nSo when running the application a visit to the endpoint at localhost/health returns some application health info.\r\n\r\nMy question is: what is the best way to test this? \r\n\r\nI would like to do a unit test of the MyHealthEndpoint class and I&#39;ve tried instantiating it in my test class with @Autowired which doesn&#39;t work.\r\nAlso tried instantiating it in the test class with \r\n\r\n    MyHealthEndpoint testHealthEndpoint = new MyHealthEndpoint();\r\n\r\nBut this just returns an empty new class with no health info, so obviously the dependency injection/IOC in Spring Boot doesn&#39;t register it, or I&#39;m just too much of a newbie to Spring to know how to do it correctly.\r\n\r\nIs the only solution to run an integration test by starting the application and running a test http GET call directly to the endpoint and then asserting the returned JSON or do you have better ideas?","title":"Unit testing Spring Boot application endpoints","body":"<p>I have a small Spring Boot application with a defined health endpoint at &quot;/health&quot;. This is defined in code by:</p>\n<pre><code>@Component\npublic class MyHealthEndpoint implements HealthIndicator {\n  public Health health() {\n    # ...\n    # returns health info as JSON here \n    # ...\n  }\n}\n</code></pre>\n<p>So when running the application a visit to the endpoint at localhost/health returns some application health info.</p>\n<p>My question is: what is the best way to test this?</p>\n<p>I would like to do a unit test of the MyHealthEndpoint class and I've tried instantiating it in my test class with @Autowired which doesn't work.\nAlso tried instantiating it in the test class with</p>\n<pre><code>MyHealthEndpoint testHealthEndpoint = new MyHealthEndpoint();\n</code></pre>\n<p>But this just returns an empty new class with no health info, so obviously the dependency injection/IOC in Spring Boot doesn't register it, or I'm just too much of a newbie to Spring to know how to do it correctly.</p>\n<p>Is the only solution to run an integration test by starting the application and running a test http GET call directly to the endpoint and then asserting the returned JSON or do you have better ideas?</p>\n"},{"tags":["java","spring","tomcat","solr","lucene"],"answers":[{"tags":[],"owner":{"account_id":3439105,"reputation":1830,"user_id":2881450,"accept_rate":100,"display_name":"jHilscher"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635890982,"creation_date":1421171131,"answer_id":27928261,"question_id":27926957,"body_markdown":"This is a conflict between different SOLR versions.\n\n\n\n\n\n`org.springframework.data` has `solr-core` as a Dependency. See this [maven-repository][1].\n\nIt just happens that org.springframework.data 1.0.0.RC1 uses SOLR `4.1.0`, which you referenced in your old example.\n\nSpring 1.3.1 references Solr 4.7.2. See here it&#39;s [maven-repository][2].\n\nSo you could just remove the solr dependency from the pom or switch to solr version 4.7.2.\n\n\n  [1]: https://mvnrepository.com/artifact/org.springframework.data/spring-data-solr/1.0.0.RC1\n  [2]: https://mvnrepository.com/artifact/org.springframework.data/spring-data-solr/1.3.1.RELEASE","title":"Cannot start embedded solr server on upgrading spring-data-solr to version 1.3.1","body":"<p>This is a conflict between different SOLR versions.</p>\n<p><code>org.springframework.data</code> has <code>solr-core</code> as a Dependency. See this <a href=\"https://mvnrepository.com/artifact/org.springframework.data/spring-data-solr/1.0.0.RC1\" rel=\"nofollow noreferrer\">maven-repository</a>.</p>\n<p>It just happens that org.springframework.data 1.0.0.RC1 uses SOLR <code>4.1.0</code>, which you referenced in your old example.</p>\n<p>Spring 1.3.1 references Solr 4.7.2. See here it's <a href=\"https://mvnrepository.com/artifact/org.springframework.data/spring-data-solr/1.3.1.RELEASE\" rel=\"nofollow noreferrer\">maven-repository</a>.</p>\n<p>So you could just remove the solr dependency from the pom or switch to solr version 4.7.2.</p>\n"}],"owner":{"account_id":592803,"reputation":1174,"user_id":284236,"accept_rate":57,"display_name":"Jayz"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":572,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1635890982,"creation_date":1421166815,"question_id":27926957,"body_markdown":"I had configured an embedded solr server following this: https://stackoverflow.com/a/21848776/284236\r\n\r\nIt was working perfectly with the following in pom file:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-solr&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0.RC1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;solr-core&lt;/artifactId&gt;\r\n        &lt;version&gt;4.1.0&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI changed it to:\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-data-solr&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\r\n        &lt;artifactId&gt;solr-core&lt;/artifactId&gt;\r\n        &lt;version&gt;4.10.3&lt;/version&gt;\r\n        &lt;exclusions&gt;\r\n            &lt;exclusion&gt;\r\n                &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\r\n                &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\r\n            &lt;/exclusion&gt;\r\n        &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen I start my tomcat server, I get:\r\n\r\n&lt;!-- language: lang-none --&gt;\r\n\r\n    SEVERE: A child container failed during start\r\n\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]]\r\n    \tat java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:252)\r\n\t    at java.util.concurrent.FutureTask.get(FutureTask.java:111)\r\n    \tat org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\r\n\t    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:785)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\r\n    \tat org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\r\n\t    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:166)\r\n\t    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\r\n\t    at java.lang.Thread.run(Thread.java:724)\r\n\r\n    Caused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]]\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\r\n\t    ... 7 more\r\n\r\n    Caused by: java.lang.ClassCastException: org.springframework.web.SpringServletContainerInitializer cannot be cast to javax.servlet.ServletContainerInitializer\r\n    \tat org.apache.catalina.startup.ContextConfig.getServletContainerInitializer(ContextConfig.java:1657)\r\n\t    at org.apache.catalina.startup.ContextConfig.processServletContainerInitializers(ContextConfig.java:1565)\r\n    \tat org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1273)\r\n\t    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:878)\r\n    \tat org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:369)\r\n\t    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\r\n    \tat org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\r\n\t    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5173)\r\n    \tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\r\n\t    ... 7 more\r\n\r\n    Jan 13, 2015 9:51:38 PM org.apache.catalina.core.ContainerBase startInternal\r\n    SEVERE: A child container failed during start\r\n    java.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\r\n\t    at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:252)\r\n    ......\r\n\r\nThere is nothing in the stacktrace for me to understand why it&#39;s failing.","title":"Cannot start embedded solr server on upgrading spring-data-solr to version 1.3.1","body":"<p>I had configured an embedded solr server following this: <a href=\"https://stackoverflow.com/a/21848776/284236\">https://stackoverflow.com/a/21848776/284236</a></p>\n\n<p>It was working perfectly with the following in pom file:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-solr&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0.RC1&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n    &lt;artifactId&gt;solr-core&lt;/artifactId&gt;\n    &lt;version&gt;4.1.0&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>I changed it to:</p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.data&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-data-solr&lt;/artifactId&gt;\n    &lt;version&gt;1.3.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.solr&lt;/groupId&gt;\n    &lt;artifactId&gt;solr-core&lt;/artifactId&gt;\n    &lt;version&gt;4.10.3&lt;/version&gt;\n    &lt;exclusions&gt;\n        &lt;exclusion&gt;\n            &lt;artifactId&gt;slf4j-jdk14&lt;/artifactId&gt;\n            &lt;groupId&gt;org.slf4j&lt;/groupId&gt;\n        &lt;/exclusion&gt;\n    &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When I start my tomcat server, I get:</p>\n\n<pre class=\"lang-none prettyprint-override\"><code>SEVERE: A child container failed during start\n\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]]\n    at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:252)\n    at java.util.concurrent.FutureTask.get(FutureTask.java:111)\n    at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:1123)\n    at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:785)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1559)\n    at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1549)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:166)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1145)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:615)\n    at java.lang.Thread.run(Thread.java:724)\n\nCaused by: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost].StandardContext[]]\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:154)\n    ... 7 more\n\nCaused by: java.lang.ClassCastException: org.springframework.web.SpringServletContainerInitializer cannot be cast to javax.servlet.ServletContainerInitializer\n    at org.apache.catalina.startup.ContextConfig.getServletContainerInitializer(ContextConfig.java:1657)\n    at org.apache.catalina.startup.ContextConfig.processServletContainerInitializers(ContextConfig.java:1565)\n    at org.apache.catalina.startup.ContextConfig.webConfig(ContextConfig.java:1273)\n    at org.apache.catalina.startup.ContextConfig.configureStart(ContextConfig.java:878)\n    at org.apache.catalina.startup.ContextConfig.lifecycleEvent(ContextConfig.java:369)\n    at org.apache.catalina.util.LifecycleSupport.fireLifecycleEvent(LifecycleSupport.java:119)\n    at org.apache.catalina.util.LifecycleBase.fireLifecycleEvent(LifecycleBase.java:90)\n    at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5173)\n    at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)\n    ... 7 more\n\nJan 13, 2015 9:51:38 PM org.apache.catalina.core.ContainerBase startInternal\nSEVERE: A child container failed during start\njava.util.concurrent.ExecutionException: org.apache.catalina.LifecycleException: Failed to start component [StandardEngine[Tomcat].StandardHost[localhost]]\n    at java.util.concurrent.FutureTask$Sync.innerGet(FutureTask.java:252)\n......\n</code></pre>\n\n<p>There is nothing in the stacktrace for me to understand why it's failing.</p>\n"},{"tags":["java","json","jackson","jsonschema","jackson-modules"],"comments":[{"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"score":0,"creation_date":1421176964,"post_id":27929514,"comment_id":44256863,"body_markdown":"if there is an integer data type that would suit you better you should change your model to use an integer instead of a long.  A long != integer","body":"if there is an integer data type that would suit you better you should change your model to use an integer instead of a long.  A long != integer"},{"owner":{"account_id":1027240,"reputation":6017,"user_id":1036285,"accept_rate":81,"display_name":"StormeHawke"},"score":0,"creation_date":1421177085,"post_id":27929514,"comment_id":44256922,"body_markdown":"not true in json-land.  In json, there are two number types - &quot;number&quot; which includes any floating point number, and &quot;integer&quot; which includes any integer-style number (mathematically integer, not java type integer.  This includes longs)","body":"not true in json-land.  In json, there are two number types - &quot;number&quot; which includes any floating point number, and &quot;integer&quot; which includes any integer-style number (mathematically integer, not java type integer.  This includes longs)"},{"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"score":0,"creation_date":1421177394,"post_id":27929514,"comment_id":44257114,"body_markdown":"I did not know this! I will remove my comment after you&#39;ve had enough time to see this....","body":"I did not know this! I will remove my comment after you&#39;ve had enough time to see this...."},{"owner":{"account_id":21279,"reputation":20918,"user_id":51577,"accept_rate":62,"display_name":"tddmonkey"},"score":0,"creation_date":1421178452,"post_id":27929514,"comment_id":44257688,"body_markdown":"ouch... that hurt :(","body":"ouch... that hurt :("},{"owner":{"account_id":1027240,"reputation":6017,"user_id":1036285,"accept_rate":81,"display_name":"StormeHawke"},"score":0,"creation_date":1421179156,"post_id":27929514,"comment_id":44258122,"body_markdown":"Sorry.  Didn&#39;t mean to be hurtful","body":"Sorry.  Didn&#39;t mean to be hurtful"}],"answers":[{"tags":[],"owner":{"account_id":1899282,"reputation":2217,"user_id":1715495,"accept_rate":100,"display_name":"Dan Halperin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635890977,"creation_date":1421256748,"answer_id":27948971,"question_id":27929514,"body_markdown":"It looks like you&#39;re using an old version of Jackson. Recommend you first try out Jackson2, with latest edition here: https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.5.0\n\nIt looks like the newer json schema module may do the right thing for integers: https://github.com/FasterXML/jackson-module-jsonSchema/blob/master/src/main/java/com/fasterxml/jackson/module/jsonSchema/types/IntegerSchema.java","title":"Jackson ObjectMapper treats &quot;long&quot; java types as &quot;number&quot; instead of &quot;integer&quot;","body":"<p>It looks like you're using an old version of Jackson. Recommend you first try out Jackson2, with latest edition here: <a href=\"https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.5.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-core/2.5.0</a></p>\n<p>It looks like the newer json schema module may do the right thing for integers: <a href=\"https://github.com/FasterXML/jackson-module-jsonSchema/blob/master/src/main/java/com/fasterxml/jackson/module/jsonSchema/types/IntegerSchema.java\" rel=\"nofollow noreferrer\">https://github.com/FasterXML/jackson-module-jsonSchema/blob/master/src/main/java/com/fasterxml/jackson/module/jsonSchema/types/IntegerSchema.java</a></p>\n"}],"owner":{"account_id":1027240,"reputation":6017,"user_id":1036285,"accept_rate":81,"display_name":"StormeHawke"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7288,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1635890977,"creation_date":1421175595,"question_id":27929514,"body_markdown":"Using `org.codehaus.jackson.map.ObjectMapper` (NOT the databind version!) I&#39;m generating a json schema from the following object:\r\n\r\n    public class MyModelObject {    \r\n        private long fileSize;\r\n        //... other properties, getters, setters etc\r\n    }\r\n\r\nUsing the following code:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    JsonSchema schema = mapper.generateJsonSchema(clazz);\r\n    String jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(schema);\r\n\r\nI get the following schema (stripped down to the relevant part):\r\n\r\n    {\r\n      &quot;type&quot; : &quot;object&quot;,\r\n      &quot;properties&quot; : {\r\n        &quot;fileSize&quot; : {\r\n          &quot;type&quot; : &quot;number&quot;\r\n        }\r\n      }\r\n    }\r\n\r\n&quot;number&quot; is not the best representation of a long, as when I elsewhere try to generate pojos FROM the schema, I get &quot;double&quot; rather than &quot;long&quot; (or even &quot;int&quot; would be ok).\r\n\r\nAccording to this, there is an &quot;integer&quot; data type in json that would suit my needs much better:\r\nhttp://spacetelescope.github.io/understanding-json-schema/reference/numeric.html\r\n\r\nBut digging through the source code of the jackson-mapper module, I found that they&#39;re using a standard serializer called `LongSerializer` contained in this class: `org.codehaus.jackson.map.ser.StdSerializers`\r\n\r\nThe relevant part is this method:\r\n\r\n    @Override\r\n    public JsonNode getSchema(SerializerProvider provider, Type typeHint)\r\n    {\r\n        return createSchemaNode(&quot;number&quot;, true);\r\n    }\r\n\r\nLong story short: Is it possible to override the standard serializers, or do I need to go in and hack my generated output?\r\n","title":"Jackson ObjectMapper treats &quot;long&quot; java types as &quot;number&quot; instead of &quot;integer&quot;","body":"<p>Using <code>org.codehaus.jackson.map.ObjectMapper</code> (NOT the databind version!) I'm generating a json schema from the following object:</p>\n\n<pre><code>public class MyModelObject {    \n    private long fileSize;\n    //... other properties, getters, setters etc\n}\n</code></pre>\n\n<p>Using the following code:</p>\n\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nJsonSchema schema = mapper.generateJsonSchema(clazz);\nString jsonString = mapper.writerWithDefaultPrettyPrinter().writeValueAsString(schema);\n</code></pre>\n\n<p>I get the following schema (stripped down to the relevant part):</p>\n\n<pre><code>{\n  \"type\" : \"object\",\n  \"properties\" : {\n    \"fileSize\" : {\n      \"type\" : \"number\"\n    }\n  }\n}\n</code></pre>\n\n<p>\"number\" is not the best representation of a long, as when I elsewhere try to generate pojos FROM the schema, I get \"double\" rather than \"long\" (or even \"int\" would be ok).</p>\n\n<p>According to this, there is an \"integer\" data type in json that would suit my needs much better:\n<a href=\"http://spacetelescope.github.io/understanding-json-schema/reference/numeric.html\" rel=\"nofollow\">http://spacetelescope.github.io/understanding-json-schema/reference/numeric.html</a></p>\n\n<p>But digging through the source code of the jackson-mapper module, I found that they're using a standard serializer called <code>LongSerializer</code> contained in this class: <code>org.codehaus.jackson.map.ser.StdSerializers</code></p>\n\n<p>The relevant part is this method:</p>\n\n<pre><code>@Override\npublic JsonNode getSchema(SerializerProvider provider, Type typeHint)\n{\n    return createSchemaNode(\"number\", true);\n}\n</code></pre>\n\n<p>Long story short: Is it possible to override the standard serializers, or do I need to go in and hack my generated output?</p>\n"},{"tags":["java","maven"],"comments":[{"owner":{"account_id":3762653,"reputation":5106,"user_id":3127111,"accept_rate":61,"display_name":"watery"},"score":1,"creation_date":1421757938,"post_id":28045366,"comment_id":44473781,"body_markdown":"I&#39;d get rid of the `&lt;type&gt;` in your dependency; next I&#39;d wipe your `com/google` folder in your local repository, since you&#39;re getting the same error on multiple artifacts, they look like to be corrupted.","body":"I&#39;d get rid of the <code>&lt;type&gt;</code> in your dependency; next I&#39;d wipe your <code>com&#47;google</code> folder in your local repository, since you&#39;re getting the same error on multiple artifacts, they look like to be corrupted."},{"owner":{"account_id":1387,"reputation":32183,"user_id":1853,"accept_rate":94,"display_name":"serg10"},"score":0,"creation_date":1421759360,"post_id":28045366,"comment_id":44474638,"body_markdown":"If you launch maven with the -X arg you may see something more helpful in the additional debug output.","body":"If you launch maven with the -X arg you may see something more helpful in the additional debug output."},{"owner":{"account_id":910975,"reputation":14592,"user_id":944849,"accept_rate":87,"display_name":"user944849"},"score":1,"creation_date":1421763183,"post_id":28045366,"comment_id":44477104,"body_markdown":"-o is &#39;offline&#39;, until you get this working correctly you might consider letting Maven download what it wants.  Also, you are using a very old version of the compiler plugin; the latest is 3.2.  Consider updating that as well.","body":"-o is &#39;offline&#39;, until you get this working correctly you might consider letting Maven download what it wants.  Also, you are using a very old version of the compiler plugin; the latest is 3.2.  Consider updating that as well."}],"owner":{"account_id":72624,"reputation":2458,"user_id":209623,"accept_rate":67,"display_name":"fth"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":416,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1635890972,"creation_date":1421756703,"question_id":28045366,"body_markdown":"Everything was fine with my Maven projects till adding webutilities library.\n\nI added dependency and repository:\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.google.javascript&lt;/groupId&gt;\n        &lt;artifactId&gt;closure-compiler&lt;/artifactId&gt;\n        &lt;version&gt;v20140407&lt;/version&gt;\n        &lt;type&gt;jar&lt;/type&gt;\n    &lt;/dependency&gt;\n    ..........\n    &lt;repository&gt;\n        &lt;id&gt;central&lt;/id&gt;\n        &lt;url&gt;http://repo1.maven.org/maven2/&lt;/url&gt;\n    &lt;/repository&gt;\nas it is said in library&#39;s page https://mvnrepository.com/artifact/com.googlecode.webutilities/webutilities/0.0.7 and declared the servlet like: \n\n    &lt;servlet&gt;\n        &lt;servlet-name&gt;JSCSSMergeServlet&lt;/servlet-name&gt;\n        &lt;servlet-class&gt;com.googlecode.webutilities.servlets.JSCSSMergeServlet&lt;/servlet-class&gt;\n        &lt;!-- This init param is optional and default value is minutes for 7 days in future. --&gt; \n        &lt;init-param&gt;\n            &lt;param-name&gt;expiresMinutes&lt;/param-name&gt;\n            &lt;param-value&gt;14400&lt;/param-value&gt; &lt;!-- 10 days --&gt;\n        &lt;/init-param&gt;\n        &lt;!-- This init param is also optional and default value is &#39;public&#39;.--&gt;\n        &lt;init-param&gt;\n            &lt;param-name&gt;cacheControl&lt;/param-name&gt;\n            &lt;param-value&gt;public&lt;/param-value&gt; \n        &lt;/init-param&gt;\n    &lt;/servlet&gt;\n    .......\n    &lt;servlet-mapping&gt;\n        &lt;servlet-name&gt;JSCSSMergeServlet&lt;/servlet-name&gt;\n        &lt;url-pattern&gt;*.js&lt;/url-pattern&gt;\n        &lt;url-pattern&gt;*.json&lt;/url-pattern&gt;\n        &lt;url-pattern&gt;*.css&lt;/url-pattern&gt;\n    &lt;/servlet-mapping&gt;\nas it shown at the page: https://code.google.com/p/webutilities/wiki/JSCSSMergeServlet\n\nWhen I try to package with ```mvn package -o -X``` it gives me that error:\n\n    [ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.0.2:compile (default-compile) on project lrms-web-utm: Compilation failure: Compilation failure:\n    [ERROR] error: error reading /home/fatih/.m2/repository/com/googlecode/webutilities/webutilities/0.0.7/webutilities-0.0.7.jar; error in opening zip file\n    [ERROR] error: error reading /home/fatih/.m2/repository/com/yahoo/platform/yui/yuicompressor/2.4.7/yuicompressor-2.4.7.jar; error in opening zip file\n    [ERROR] error: error reading /home/fatih/.m2/repository/rhino/js/1.6R7/js-1.6R7.jar; error in opening zip file\n    [ERROR] error: error reading /home/fatih/.m2/repository/com/google/javascript/closure-compiler/v20140407/closure-compiler-v20140407.jar; error in opening zip file\n    [ERROR] error: error reading /home/fatih/.m2/repository/com/google/javascript/closure-compiler-rhino/v20140407/closure-compiler-rhino-v20140407-shaded.jar; error in opening zip file\n    [ERROR] error: error reading /home/fatih/.m2/repository/com/google/javascript/closure-compiler-externs/v20140407/closure-compiler-externs-v20140407.jar; error in opening zip file\n    [ERROR] error: error reading /home/fatih/.m2/repository/args4j/args4j/2.0.26/args4j-2.0.26.jar; error in opening zip file\n    [ERROR] error: error reading /home/fatih/.m2/repository/com/google/protobuf/protobuf-java/2.5.0/protobuf-java-2.5.0.jar; error in opening zip file\n    [ERROR] error: error reading /home/fatih/.m2/repository/org/json/json/20090211/json-20090211.jar; error in opening zip file\n    [ERROR] error: error reading /home/fatih/.m2/repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar; error in opening zip file\n    [ERROR] -&gt; [Help 1]\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.0.2:compile (default-compile) on project lrms-web-utm: Compilation failure\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.lang.reflect.Method.invoke(Method.java:606)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\n    Caused by: org.apache.maven.plugin.CompilationFailureException: Compilation failure\n            at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:516)\n            at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:114)\n            at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n            ... 19 more\n    [ERROR] \n    [ERROR] \n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n\nIt looks like to me that some deeper dependency causes this error but I could not figure it out.","title":"Maven error after adding webutilities library","body":"<p>Everything was fine with my Maven projects till adding webutilities library.</p>\n<p>I added dependency and repository:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.javascript&lt;/groupId&gt;\n    &lt;artifactId&gt;closure-compiler&lt;/artifactId&gt;\n    &lt;version&gt;v20140407&lt;/version&gt;\n    &lt;type&gt;jar&lt;/type&gt;\n&lt;/dependency&gt;\n..........\n&lt;repository&gt;\n    &lt;id&gt;central&lt;/id&gt;\n    &lt;url&gt;http://repo1.maven.org/maven2/&lt;/url&gt;\n&lt;/repository&gt;\n</code></pre>\n<p>as it is said in library's page <a href=\"https://mvnrepository.com/artifact/com.googlecode.webutilities/webutilities/0.0.7\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.googlecode.webutilities/webutilities/0.0.7</a> and declared the servlet like:</p>\n<pre><code>&lt;servlet&gt;\n    &lt;servlet-name&gt;JSCSSMergeServlet&lt;/servlet-name&gt;\n    &lt;servlet-class&gt;com.googlecode.webutilities.servlets.JSCSSMergeServlet&lt;/servlet-class&gt;\n    &lt;!-- This init param is optional and default value is minutes for 7 days in future. --&gt; \n    &lt;init-param&gt;\n        &lt;param-name&gt;expiresMinutes&lt;/param-name&gt;\n        &lt;param-value&gt;14400&lt;/param-value&gt; &lt;!-- 10 days --&gt;\n    &lt;/init-param&gt;\n    &lt;!-- This init param is also optional and default value is 'public'.--&gt;\n    &lt;init-param&gt;\n        &lt;param-name&gt;cacheControl&lt;/param-name&gt;\n        &lt;param-value&gt;public&lt;/param-value&gt; \n    &lt;/init-param&gt;\n&lt;/servlet&gt;\n.......\n&lt;servlet-mapping&gt;\n    &lt;servlet-name&gt;JSCSSMergeServlet&lt;/servlet-name&gt;\n    &lt;url-pattern&gt;*.js&lt;/url-pattern&gt;\n    &lt;url-pattern&gt;*.json&lt;/url-pattern&gt;\n    &lt;url-pattern&gt;*.css&lt;/url-pattern&gt;\n&lt;/servlet-mapping&gt;\n</code></pre>\n<p>as it shown at the page: <a href=\"https://code.google.com/p/webutilities/wiki/JSCSSMergeServlet\" rel=\"nofollow noreferrer\">https://code.google.com/p/webutilities/wiki/JSCSSMergeServlet</a></p>\n<p>When I try to package with <code>mvn package -o -X</code> it gives me that error:</p>\n<pre><code>[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.0.2:compile (default-compile) on project lrms-web-utm: Compilation failure: Compilation failure:\n[ERROR] error: error reading /home/fatih/.m2/repository/com/googlecode/webutilities/webutilities/0.0.7/webutilities-0.0.7.jar; error in opening zip file\n[ERROR] error: error reading /home/fatih/.m2/repository/com/yahoo/platform/yui/yuicompressor/2.4.7/yuicompressor-2.4.7.jar; error in opening zip file\n[ERROR] error: error reading /home/fatih/.m2/repository/rhino/js/1.6R7/js-1.6R7.jar; error in opening zip file\n[ERROR] error: error reading /home/fatih/.m2/repository/com/google/javascript/closure-compiler/v20140407/closure-compiler-v20140407.jar; error in opening zip file\n[ERROR] error: error reading /home/fatih/.m2/repository/com/google/javascript/closure-compiler-rhino/v20140407/closure-compiler-rhino-v20140407-shaded.jar; error in opening zip file\n[ERROR] error: error reading /home/fatih/.m2/repository/com/google/javascript/closure-compiler-externs/v20140407/closure-compiler-externs-v20140407.jar; error in opening zip file\n[ERROR] error: error reading /home/fatih/.m2/repository/args4j/args4j/2.0.26/args4j-2.0.26.jar; error in opening zip file\n[ERROR] error: error reading /home/fatih/.m2/repository/com/google/protobuf/protobuf-java/2.5.0/protobuf-java-2.5.0.jar; error in opening zip file\n[ERROR] error: error reading /home/fatih/.m2/repository/org/json/json/20090211/json-20090211.jar; error in opening zip file\n[ERROR] error: error reading /home/fatih/.m2/repository/com/google/code/findbugs/jsr305/1.3.9/jsr305-1.3.9.jar; error in opening zip file\n[ERROR] -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:2.0.2:compile (default-compile) on project lrms-web-utm: Compilation failure\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:213)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:606)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:289)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:229)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:415)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:356)\nCaused by: org.apache.maven.plugin.CompilationFailureException: Compilation failure\n        at org.apache.maven.plugin.AbstractCompilerMojo.execute(AbstractCompilerMojo.java:516)\n        at org.apache.maven.plugin.CompilerMojo.execute(CompilerMojo.java:114)\n        at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)\n        ... 19 more\n[ERROR] \n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException\n</code></pre>\n<p>It looks like to me that some deeper dependency causes this error but I could not figure it out.</p>\n"},{"tags":["java","jira-plugin"],"comments":[{"owner":{"account_id":2338211,"reputation":1983,"user_id":2050083,"accept_rate":95,"display_name":"Viva"},"score":0,"creation_date":1442312132,"post_id":28146348,"comment_id":53020553,"body_markdown":"have you found a solution for this ?","body":"have you found a solution for this ?"},{"owner":{"account_id":3784823,"reputation":614,"user_id":3143112,"accept_rate":75,"display_name":"nomadic_squirrel"},"score":0,"creation_date":1475868806,"post_id":28146348,"comment_id":67132843,"body_markdown":"Did you ever get this worked out? I am looking to do the same.","body":"Did you ever get this worked out? I am looking to do the same."},{"owner":{"account_id":1199604,"reputation":575,"user_id":1170537,"accept_rate":23,"display_name":"Anton"},"score":0,"creation_date":1476070663,"post_id":28146348,"comment_id":67182076,"body_markdown":"No. But i have stop my investigations on this question more than year ago.","body":"No. But i have stop my investigations on this question more than year ago."}],"answers":[{"tags":[],"owner":{"account_id":1671392,"reputation":919,"user_id":1537800,"display_name":"Volodymyr Krupach"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1422346287,"creation_date":1422302465,"answer_id":28157783,"question_id":28146348,"body_markdown":"As I understand, you need to fire your code on issue create/update/delete. Then you need to write JIRA Event Listeners for appropriate issue events.\r\nHere is tutorial: \r\nhttps://developer.atlassian.com/display/JIRADEV/Writing+JIRA+Event+Listeners+with+the+atlassian-event+Library\r\n\r\n==================\r\n\r\nSorry, missed the point.\r\nI am looking through the sources of jira-webhooks-plugin which is part of JIRA sources (and you get access to them when you buy any JIRA license) and do not see neither com.atlassian.webhooks.spi.provider.WebHookRegistry interface nor implementation.\r\n\r\nI see that webhooks are created like this:\r\n\r\n                    final WebhookDao webHookDao = ao.create(WebhookDao.class,\r\n                        new DBParam(&quot;LAST_UPDATED_USER&quot;, userManager.getRemoteUsername()),\r\n                        new DBParam(&quot;URL&quot;, targetUrl),\r\n                        new DBParam(&quot;LAST_UPDATED&quot;, new Date()),\r\n                        new DBParam(&quot;NAME&quot;, name),\r\n                        new DBParam(&quot;FILTER&quot;, filter.isPresent() ? filter.get() : &quot;&quot;),\r\n                        new DBParam(&quot;REGISTRATION_METHOD&quot;, registrationMethod),\r\n                        new DBParam(&quot;ENABLED&quot;, true),\r\n                        new DBParam(&quot;EXCLUDE_ISSUE_DETAILS&quot;, JiraWebHookListenerParameters.ParametersParser.getExcludeIssueDetails(params)),\r\n                        new DBParam(&quot;PARAMETERS&quot;, JiraWebHookListenerParameters.ParametersParser.getRemainingParameters(params))\r\n                );\r\n                webHookDao.setEvents(Iterables.toArray(events, String.class));\r\n                webHookDao.save();\r\n\r\nBut probably you will not be able to execute this code in your plugin. Anyway, I advise you to loook into sources.\r\n\r\nPlease update me with your results.","title":"Is it possible to manage jira webhooks from plugin via Java API?","body":"<p>As I understand, you need to fire your code on issue create/update/delete. Then you need to write JIRA Event Listeners for appropriate issue events.\nHere is tutorial: \n<a href=\"https://developer.atlassian.com/display/JIRADEV/Writing+JIRA+Event+Listeners+with+the+atlassian-event+Library\" rel=\"nofollow\">https://developer.atlassian.com/display/JIRADEV/Writing+JIRA+Event+Listeners+with+the+atlassian-event+Library</a></p>\n\n<p>==================</p>\n\n<p>Sorry, missed the point.\nI am looking through the sources of jira-webhooks-plugin which is part of JIRA sources (and you get access to them when you buy any JIRA license) and do not see neither com.atlassian.webhooks.spi.provider.WebHookRegistry interface nor implementation.</p>\n\n<p>I see that webhooks are created like this:</p>\n\n<pre><code>                final WebhookDao webHookDao = ao.create(WebhookDao.class,\n                    new DBParam(\"LAST_UPDATED_USER\", userManager.getRemoteUsername()),\n                    new DBParam(\"URL\", targetUrl),\n                    new DBParam(\"LAST_UPDATED\", new Date()),\n                    new DBParam(\"NAME\", name),\n                    new DBParam(\"FILTER\", filter.isPresent() ? filter.get() : \"\"),\n                    new DBParam(\"REGISTRATION_METHOD\", registrationMethod),\n                    new DBParam(\"ENABLED\", true),\n                    new DBParam(\"EXCLUDE_ISSUE_DETAILS\", JiraWebHookListenerParameters.ParametersParser.getExcludeIssueDetails(params)),\n                    new DBParam(\"PARAMETERS\", JiraWebHookListenerParameters.ParametersParser.getRemainingParameters(params))\n            );\n            webHookDao.setEvents(Iterables.toArray(events, String.class));\n            webHookDao.save();\n</code></pre>\n\n<p>But probably you will not be able to execute this code in your plugin. Anyway, I advise you to loook into sources.</p>\n\n<p>Please update me with your results.</p>\n"}],"owner":{"account_id":1199604,"reputation":575,"user_id":1170537,"accept_rate":23,"display_name":"Anton"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1476,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":1,"score":3,"last_activity_date":1635890935,"creation_date":1422258746,"question_id":28146348,"body_markdown":"I&#39;m writing plugin for Jira and I need to manage webhooks from plugin code (read, add, edit and delete actions). I have found only one way to manage webhooks - REST API...  Question is simple: can I manage webhooks via Java API from my plugin? And if I can, how?\n\nI&#39;ve found this artifacts: https://mvnrepository.com/artifact/com.atlassian.webhooks, but when I try to component-import some interfaces like com.atlassian.webhooks.spi.provider.WebHookRegistry my plugin does not start...","title":"Is it possible to manage jira webhooks from plugin via Java API?","body":"<p>I'm writing plugin for Jira and I need to manage webhooks from plugin code (read, add, edit and delete actions). I have found only one way to manage webhooks - REST API...  Question is simple: can I manage webhooks via Java API from my plugin? And if I can, how?</p>\n<p>I've found this artifacts: <a href=\"https://mvnrepository.com/artifact/com.atlassian.webhooks\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.atlassian.webhooks</a>, but when I try to component-import some interfaces like com.atlassian.webhooks.spi.provider.WebHookRegistry my plugin does not start...</p>\n"},{"tags":["java","spring","tomcat","apache-httpclient-4.x","spring-social"],"answers":[{"tags":[],"owner":{"account_id":5488542,"reputation":11,"user_id":4362606,"display_name":"Sherman Mg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635890925,"creation_date":1424630276,"answer_id":28661685,"question_id":28660543,"body_markdown":"It seems you might have some dependency issues at runtime, since BasicLineFormatter INSTANCE field was added in version 4.3 of Apache HTTP library.\nCheck your application for supplied libraries and make sure no other component uses the older version of Apache HTTP.\n\n \nIt seems Spring Social uses the Apache HTTP lib in version 4.2.5\nhttps://mvnrepository.com/artifact/org.springframework.social/spring-social-core/1.1.0.M4. \nIt should be the cause of the issue here.\nCould you clarify which version of Spring Social you use? Because there are differences based on if it is release or milestone version.","title":"java.lang.NoSuchFieldError: INSTANCE with Spring Social on Azure","body":"<p>It seems you might have some dependency issues at runtime, since BasicLineFormatter INSTANCE field was added in version 4.3 of Apache HTTP library.\nCheck your application for supplied libraries and make sure no other component uses the older version of Apache HTTP.</p>\n<p>It seems Spring Social uses the Apache HTTP lib in version 4.2.5\n<a href=\"https://mvnrepository.com/artifact/org.springframework.social/spring-social-core/1.1.0.M4\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.springframework.social/spring-social-core/1.1.0.M4</a>.\nIt should be the cause of the issue here.\nCould you clarify which version of Spring Social you use? Because there are differences based on if it is release or milestone version.</p>\n"}],"owner":{"account_id":3158375,"reputation":269,"user_id":2670207,"accept_rate":44,"display_name":"Alexio Cassani"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2703,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1635890925,"creation_date":1424624187,"question_id":28660543,"body_markdown":"I&#39;ve a Spring App that uses Spring Social for Facebook integration. Everything is working fine on my Mac but on my stage server I got an exception that sounds like some kind of problem with my libraries version.\r\n\r\nI&#39;ve tried to play with version of Spring Social, Spring Social Facebook and Apache Http Client but with no luck.\r\n\r\nWhat I see in tomcat log is:\r\n\r\n    015-02-22 16:47:22,619 DEBUG [http-bio-8080-exec-10] servlet.FrameworkServlet (FrameworkServlet.java:984) - Could not complete request\r\n    org.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.NoSuchFieldError: INSTANCE\r\n    \tat org.springframework.web.servlet.DispatcherServlet.triggerAfterCompletionWithError(DispatcherServlet.java:1280)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:958)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:863)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:646)\r\n    \tat org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\r\n    \tat javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\r\n    \tat org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:139)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:155)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\r\n    \tat org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\r\n    \tat org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\r\n    \tat org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344)\r\n    \tat org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat social.picnik.api.marketplace.utils.CorsFilter.doFilter(CorsFilter.java:45)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\r\n    \tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\r\n    \tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\r\n    \tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\r\n    \tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\r\n    \tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\r\n    \tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\r\n    \tat org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\r\n    \tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\r\n    \tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\r\n    \tat org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\r\n    \tat org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\r\n    \tat org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:313)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\r\n    \tat java.lang.Thread.run(Thread.java:745)\r\n    Caused by: java.lang.NoSuchFieldError: INSTANCE\r\n    \tat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:52)\r\n    \tat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:56)\r\n    \tat org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;clinit&gt;(DefaultHttpRequestWriterFactory.java:46)\r\n    \tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:72)\r\n    \tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:84)\r\n    \tat org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;clinit&gt;(ManagedHttpClientConnectionFactory.java:59)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager$InternalConnectionFactory.&lt;init&gt;(PoolingHttpClientConnectionManager.java:487)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:147)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:136)\r\n    \tat org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:112)\r\n    \tat org.apache.http.impl.client.HttpClientBuilder.build(HttpClientBuilder.java:726)\r\n    \tat org.apache.http.impl.client.HttpClients.createSystem(HttpClients.java:66)\r\n    \tat org.springframework.http.client.HttpComponentsClientHttpRequestFactory.&lt;init&gt;(HttpComponentsClientHttpRequestFactory.java:74)\r\n    \tat org.springframework.social.support.ClientHttpRequestFactorySelector$HttpComponentsClientRequestFactoryCreator$1.&lt;init&gt;(ClientHttpRequestFactorySelector.java:77)\r\n    \tat org.springframework.social.support.ClientHttpRequestFactorySelector$HttpComponentsClientRequestFactoryCreator.createRequestFactory(ClientHttpRequestFactorySelector.java:77)\r\n    \tat org.springframework.social.support.ClientHttpRequestFactorySelector.getRequestFactory(ClientHttpRequestFactorySelector.java:52)\r\n    \tat org.springframework.social.oauth2.AbstractOAuth2ApiBinding.createRestTemplateWithCulledMessageConverters(AbstractOAuth2ApiBinding.java:199)\r\n    \tat org.springframework.social.oauth2.AbstractOAuth2ApiBinding.createRestTemplate(AbstractOAuth2ApiBinding.java:180)\r\n    \tat org.springframework.social.oauth2.AbstractOAuth2ApiBinding.&lt;init&gt;(AbstractOAuth2ApiBinding.java:71)\r\n    \tat org.springframework.social.oauth2.AbstractOAuth2ApiBinding.&lt;init&gt;(AbstractOAuth2ApiBinding.java:61)\r\n    \tat org.springframework.social.facebook.api.impl.FacebookTemplate.&lt;init&gt;(FacebookTemplate.java:128)\r\n    \tat org.springframework.social.facebook.api.impl.FacebookTemplate.&lt;init&gt;(FacebookTemplate.java:124)\r\n    \tat social.picnik.marketplace.service.socialmedia.manager.SocialMediaManagerImpl.facebookLogin(SocialMediaManagerImpl.java:43)\r\n    \tat social.picnik.marketplace.service.customer.manager.CustomerManagerImpl.createCustomer(CustomerManagerImpl.java:395)\r\n    \tat social.picnik.api.marketplace.controller.SocialLoginController.createCustomer(SocialLoginController.java:110)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:483)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\r\n    \tat org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\r\n    \tat org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\r\n    \tat org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\r\n    \tat org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\r\n    \t... 54 more\r\n\r\nThe version of my components:\r\n\r\n- Tomcat 7.0.52 with Java 8 (but I also tried with Java 7)\r\n- Apache HTTP client 4.4 (and I&#39;ve tried with 4.3.2 and 4.3)\r\n- Spring Social 1.1.0\r\n- Spring Social Facebook 1.1.0 (but I&#39;ve tried also with 1.1.1)\r\n\r\nThe Tomcat 7 running on my stage is installed with apt-get and the VM is on Azure.\r\n\r\nAny idea?","title":"java.lang.NoSuchFieldError: INSTANCE with Spring Social on Azure","body":"<p>I've a Spring App that uses Spring Social for Facebook integration. Everything is working fine on my Mac but on my stage server I got an exception that sounds like some kind of problem with my libraries version.</p>\n\n<p>I've tried to play with version of Spring Social, Spring Social Facebook and Apache Http Client but with no luck.</p>\n\n<p>What I see in tomcat log is:</p>\n\n<pre><code>015-02-22 16:47:22,619 DEBUG [http-bio-8080-exec-10] servlet.FrameworkServlet (FrameworkServlet.java:984) - Could not complete request\norg.springframework.web.util.NestedServletException: Handler processing failed; nested exception is java.lang.NoSuchFieldError: INSTANCE\n    at org.springframework.web.servlet.DispatcherServlet.triggerAfterCompletionWithError(DispatcherServlet.java:1280)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:958)\n    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:870)\n    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:961)\n    at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:863)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:646)\n    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:837)\n    at javax.servlet.http.HttpServlet.service(HttpServlet.java:727)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:303)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)\n    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.authentication.rememberme.RememberMeAuthenticationFilter.doFilter(RememberMeAuthenticationFilter.java:139)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter.doFilter(DefaultLoginPageGeneratingFilter.java:155)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:50)\n    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)\n    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)\n    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)\n    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)\n    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:344)\n    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:261)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at social.picnik.api.marketplace.utils.CorsFilter.doFilter(CorsFilter.java:45)\n    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:241)\n    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:208)\n    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:220)\n    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:122)\n    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:501)\n    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:170)\n    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:98)\n    at org.apache.catalina.valves.AccessLogValve.invoke(AccessLogValve.java:950)\n    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:116)\n    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:408)\n    at org.apache.coyote.http11.AbstractHttp11Processor.process(AbstractHttp11Processor.java:1040)\n    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:607)\n    at org.apache.tomcat.util.net.JIoEndpoint$SocketProcessor.run(JIoEndpoint.java:313)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n    at java.lang.Thread.run(Thread.java:745)\nCaused by: java.lang.NoSuchFieldError: INSTANCE\n    at org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:52)\n    at org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;init&gt;(DefaultHttpRequestWriterFactory.java:56)\n    at org.apache.http.impl.io.DefaultHttpRequestWriterFactory.&lt;clinit&gt;(DefaultHttpRequestWriterFactory.java:46)\n    at org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:72)\n    at org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;init&gt;(ManagedHttpClientConnectionFactory.java:84)\n    at org.apache.http.impl.conn.ManagedHttpClientConnectionFactory.&lt;clinit&gt;(ManagedHttpClientConnectionFactory.java:59)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager$InternalConnectionFactory.&lt;init&gt;(PoolingHttpClientConnectionManager.java:487)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:147)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:136)\n    at org.apache.http.impl.conn.PoolingHttpClientConnectionManager.&lt;init&gt;(PoolingHttpClientConnectionManager.java:112)\n    at org.apache.http.impl.client.HttpClientBuilder.build(HttpClientBuilder.java:726)\n    at org.apache.http.impl.client.HttpClients.createSystem(HttpClients.java:66)\n    at org.springframework.http.client.HttpComponentsClientHttpRequestFactory.&lt;init&gt;(HttpComponentsClientHttpRequestFactory.java:74)\n    at org.springframework.social.support.ClientHttpRequestFactorySelector$HttpComponentsClientRequestFactoryCreator$1.&lt;init&gt;(ClientHttpRequestFactorySelector.java:77)\n    at org.springframework.social.support.ClientHttpRequestFactorySelector$HttpComponentsClientRequestFactoryCreator.createRequestFactory(ClientHttpRequestFactorySelector.java:77)\n    at org.springframework.social.support.ClientHttpRequestFactorySelector.getRequestFactory(ClientHttpRequestFactorySelector.java:52)\n    at org.springframework.social.oauth2.AbstractOAuth2ApiBinding.createRestTemplateWithCulledMessageConverters(AbstractOAuth2ApiBinding.java:199)\n    at org.springframework.social.oauth2.AbstractOAuth2ApiBinding.createRestTemplate(AbstractOAuth2ApiBinding.java:180)\n    at org.springframework.social.oauth2.AbstractOAuth2ApiBinding.&lt;init&gt;(AbstractOAuth2ApiBinding.java:71)\n    at org.springframework.social.oauth2.AbstractOAuth2ApiBinding.&lt;init&gt;(AbstractOAuth2ApiBinding.java:61)\n    at org.springframework.social.facebook.api.impl.FacebookTemplate.&lt;init&gt;(FacebookTemplate.java:128)\n    at org.springframework.social.facebook.api.impl.FacebookTemplate.&lt;init&gt;(FacebookTemplate.java:124)\n    at social.picnik.marketplace.service.socialmedia.manager.SocialMediaManagerImpl.facebookLogin(SocialMediaManagerImpl.java:43)\n    at social.picnik.marketplace.service.customer.manager.CustomerManagerImpl.createCustomer(CustomerManagerImpl.java:395)\n    at social.picnik.api.marketplace.controller.SocialLoginController.createCustomer(SocialLoginController.java:110)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:483)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invoke(InvocableHandlerMethod.java:215)\n    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:132)\n    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:104)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandleMethod(RequestMappingHandlerAdapter.java:749)\n    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:689)\n    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:83)\n    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:938)\n    ... 54 more\n</code></pre>\n\n<p>The version of my components:</p>\n\n<ul>\n<li>Tomcat 7.0.52 with Java 8 (but I also tried with Java 7)</li>\n<li>Apache HTTP client 4.4 (and I've tried with 4.3.2 and 4.3)</li>\n<li>Spring Social 1.1.0</li>\n<li>Spring Social Facebook 1.1.0 (but I've tried also with 1.1.1)</li>\n</ul>\n\n<p>The Tomcat 7 running on my stage is installed with apt-get and the VM is on Azure.</p>\n\n<p>Any idea?</p>\n"},{"tags":["java","maven","jar","worldwind"],"answers":[{"tags":[],"owner":{"account_id":5180779,"reputation":581,"user_id":4146565,"display_name":"Vitor Santos"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1635890917,"creation_date":1413487260,"answer_id":26412237,"question_id":26411984,"body_markdown":"If you want to use a library in Maven you should add the dependency to your project, there is no need to hunt for all transitive dependencies (unless the docs say otherwise). For the world wind I found the dependency on this site: [https://mvnrepository.com/artifact/gov.nasa/worldwind/2.0.0-986][1]\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;gov.nasa&lt;/groupId&gt;\n      &lt;artifactId&gt;worldwind&lt;/artifactId&gt;\n      &lt;version&gt;2.0.0-986&lt;/version&gt;\n    &lt;/dependency&gt;\n\nIt should work.\n\nOne of the advantages of using Maven is that there is no need to know every jar needed to use every library, Maven will manage this. In this case, the World Wind Maven dependency has it&#39;s own POM that declares all needed dependencies. Maven will scan all POMs from all dependencies and will download all required JARs when needed. \n\n  [1]: https://mvnrepository.com/artifact/gov.nasa/worldwind/2.0.0-986","title":"Can&#39;t use World Wind Java into a maven project because of dependencies","body":"<p>If you want to use a library in Maven you should add the dependency to your project, there is no need to hunt for all transitive dependencies (unless the docs say otherwise). For the world wind I found the dependency on this site: <a href=\"https://mvnrepository.com/artifact/gov.nasa/worldwind/2.0.0-986\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/gov.nasa/worldwind/2.0.0-986</a></p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;gov.nasa&lt;/groupId&gt;\n  &lt;artifactId&gt;worldwind&lt;/artifactId&gt;\n  &lt;version&gt;2.0.0-986&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>It should work.</p>\n<p>One of the advantages of using Maven is that there is no need to know every jar needed to use every library, Maven will manage this. In this case, the World Wind Maven dependency has it's own POM that declares all needed dependencies. Maven will scan all POMs from all dependencies and will download all required JARs when needed.</p>\n"},{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1413548796,"creation_date":1413538886,"answer_id":26422221,"question_id":26411984,"body_markdown":"There is no technical restriction having two files with the same name on different locations with different content. Though I&#39;d not recommend this - especially with library artifacts. This confuses people, like you, and drives them crazy sooner or later.\r\n\r\nWhy WorldWind Java team did that? Ask [Responsible NASA Official: Patrick Hogan](http://worldwind.arc.nasa.gov/java/).","title":"Can&#39;t use World Wind Java into a maven project because of dependencies","body":"<p>There is no technical restriction having two files with the same name on different locations with different content. Though I'd not recommend this - especially with library artifacts. This confuses people, like you, and drives them crazy sooner or later.</p>\n\n<p>Why WorldWind Java team did that? Ask <a href=\"http://worldwind.arc.nasa.gov/java/\" rel=\"nofollow\">Responsible NASA Official: Patrick Hogan</a>.</p>\n"},{"tags":[],"owner":{"account_id":207965,"reputation":3704,"user_id":458157,"accept_rate":75,"display_name":"gouessej"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1413720519,"creation_date":1413720519,"answer_id":26450325,"question_id":26411984,"body_markdown":"Please rather use 2.1.5-01 instead of 2.1.5 because the latter had a big problem, something went wrong during its deployment:\r\n\r\n[http://jogamp.org/deployment/maven/org/jogamp/jogl/jogl-all/2.1.5-01/][1]\r\n\r\n\r\n  [1]: http://jogamp.org/deployment/maven/org/jogamp/jogl/jogl-all/2.1.5-01/","title":"Can&#39;t use World Wind Java into a maven project because of dependencies","body":"<p>Please rather use 2.1.5-01 instead of 2.1.5 because the latter had a big problem, something went wrong during its deployment:</p>\n\n<p><a href=\"http://jogamp.org/deployment/maven/org/jogamp/jogl/jogl-all/2.1.5-01/\" rel=\"nofollow\">http://jogamp.org/deployment/maven/org/jogamp/jogl/jogl-all/2.1.5-01/</a></p>\n"},{"tags":[],"owner":{"account_id":1218946,"reputation":434,"user_id":1185985,"accept_rate":86,"display_name":"PeteBrew"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1426886430,"creation_date":1426886430,"answer_id":29175986,"question_id":26411984,"body_markdown":"Some digging into the World Wind Java readme files seems to have turned up the issue:  \r\n\r\n----\r\n\r\nJOGL Library Overview\r\n------------------------------------------------------------\r\n\r\nThe JOGL library provides World Wind Java with (1) a Java binding to the OpenGL API, and (2) OpenGL contexts compatible\r\nwith Java&#39;s AWT and Swing windowing toolkits:\r\nhttp://jogamp.org/jogl/www/\r\n\r\nWorld Wind Java uses JOGL v2.1.5, released on 11 March 2014 and downloaded from:\r\nhttp://jogamp.org/deployment/v2.1.5/archive/jogamp-all-platforms.7z\r\n\r\nThe JOGL library compiled JAR files and README files are checked into the World Wind Java source, distributed with all\r\nWorld Wind Java builds and included in the World Wind Java Web Start deployment. This is necessary in order ensure\r\ncorrect operation of World Wind Java, as changes in JOGL are occasionally unstable or incompatible with previous\r\nversions. Additionally, World Wind Java&#39;s copy of the JOGL JAR files are modified to enable Web Start deployment outside\r\nof the jogamp.org domain.\r\n\r\n----\r\n\r\nWhoever put World Wind Java in the central repository should therefore have packaged and deployed the very specific JOGL/Gluegen Jars necessary to make it work.  In the mean time I&#39;m going to extract and deploy these version to my own private repository.\r\n\r\n","title":"Can&#39;t use World Wind Java into a maven project because of dependencies","body":"<p>Some digging into the World Wind Java readme files seems to have turned up the issue:  </p>\n\n<hr>\n\n<h2>JOGL Library Overview</h2>\n\n<p>The JOGL library provides World Wind Java with (1) a Java binding to the OpenGL API, and (2) OpenGL contexts compatible\nwith Java's AWT and Swing windowing toolkits:\n<a href=\"http://jogamp.org/jogl/www/\" rel=\"nofollow\">http://jogamp.org/jogl/www/</a></p>\n\n<p>World Wind Java uses JOGL v2.1.5, released on 11 March 2014 and downloaded from:\n<a href=\"http://jogamp.org/deployment/v2.1.5/archive/jogamp-all-platforms.7z\" rel=\"nofollow\">http://jogamp.org/deployment/v2.1.5/archive/jogamp-all-platforms.7z</a></p>\n\n<p>The JOGL library compiled JAR files and README files are checked into the World Wind Java source, distributed with all\nWorld Wind Java builds and included in the World Wind Java Web Start deployment. This is necessary in order ensure\ncorrect operation of World Wind Java, as changes in JOGL are occasionally unstable or incompatible with previous\nversions. Additionally, World Wind Java's copy of the JOGL JAR files are modified to enable Web Start deployment outside\nof the jogamp.org domain.</p>\n\n<hr>\n\n<p>Whoever put World Wind Java in the central repository should therefore have packaged and deployed the very specific JOGL/Gluegen Jars necessary to make it work.  In the mean time I'm going to extract and deploy these version to my own private repository.</p>\n"}],"owner":{"account_id":2840046,"reputation":6676,"user_id":2439847,"accept_rate":36,"display_name":"RandomCoder"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1889,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":29175986,"answer_count":4,"score":5,"last_activity_date":1635890917,"creation_date":1413486243,"question_id":26411984,"body_markdown":"I a am trying to use World Wind Java into a Maven project.\n\nFirst method would be to take their SDK [here][1] and all dependencies in build path.\nBut I want to make it more maven compliant.\n\nFirst dependency: jogl-all.jar. SDK v2.0.0 seems to use v2.1.5 of JOGL (from manifest).\nHence I put this in my pom file:\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.jogamp.jogl&lt;/groupId&gt;\n        &lt;artifactId&gt;jogl-all&lt;/artifactId&gt;\n        &lt;version&gt;2.1.5&lt;/version&gt;\n    &lt;/dependency&gt;\n\nHere is my issue: **two jar files are very different in size, and moreover, with JOGL jar from SDK, I can import `com.jogamp.opengl.awt.GLCanvas`, while with maven retrieved JAR, I can&#39;t.**\n\nI don&#39;t understand how I can get two different behaviors/JARs while using exact same version.\n\nAny clue? Any other experience using World Wind Java within Maven project?\n\n\n  [1]: http://worldwind.arc.nasa.gov/java/","title":"Can&#39;t use World Wind Java into a maven project because of dependencies","body":"<p>I a am trying to use World Wind Java into a Maven project.</p>\n<p>First method would be to take their SDK <a href=\"http://worldwind.arc.nasa.gov/java/\" rel=\"nofollow noreferrer\">here</a> and all dependencies in build path.\nBut I want to make it more maven compliant.</p>\n<p>First dependency: jogl-all.jar. SDK v2.0.0 seems to use v2.1.5 of JOGL (from manifest).\nHence I put this in my pom file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.jogamp.jogl&lt;/groupId&gt;\n    &lt;artifactId&gt;jogl-all&lt;/artifactId&gt;\n    &lt;version&gt;2.1.5&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Here is my issue: <strong>two jar files are very different in size, and moreover, with JOGL jar from SDK, I can import <code>com.jogamp.opengl.awt.GLCanvas</code>, while with maven retrieved JAR, I can't.</strong></p>\n<p>I don't understand how I can get two different behaviors/JARs while using exact same version.</p>\n<p>Any clue? Any other experience using World Wind Java within Maven project?</p>\n"},{"tags":["java","maven","mahout"],"answers":[{"tags":[],"owner":{"account_id":5862259,"reputation":1009,"user_id":4617542,"display_name":"Gaurav Mishra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635890901,"creation_date":1426938835,"answer_id":29182398,"question_id":29181921,"body_markdown":"Add below dependency to your pom.xml \n\n\n\n\n\t&lt;dependency&gt;\n\t\t&lt;groupId&gt;org.apache.mahout&lt;/groupId&gt;\n\t\t&lt;artifactId&gt;mahout-mrlegacy&lt;/artifactId&gt;\n\t\t&lt;version&gt;0.9.0.2.2.0.0-2041&lt;/version&gt;\n\t&lt;/dependency&gt;\n\n\nAnd below repositories\n\n\n\n\n\t&lt;repositories&gt;\n\t\t&lt;repository&gt;\n\t\t\t&lt;id&gt;pentaho-releases&lt;/id&gt;\n\t\t\t&lt;url&gt;http://repository.pentaho.org/artifactory/repo/&lt;/url&gt;\n\t\t&lt;/repository&gt;\n\t&lt;/repositories&gt;\n\n\n\n\nFor more details:\n\nhttps://mvnrepository.com/artifact/org.apache.mahout/mahout-mrlegacy/0.9.0.2.2.0.0-2041","title":"Installing Mahout with Maven on OS X Eclipse","body":"<p>Add below dependency to your pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.mahout&lt;/groupId&gt;\n    &lt;artifactId&gt;mahout-mrlegacy&lt;/artifactId&gt;\n    &lt;version&gt;0.9.0.2.2.0.0-2041&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>And below repositories</p>\n<pre><code>&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;pentaho-releases&lt;/id&gt;\n        &lt;url&gt;http://repository.pentaho.org/artifactory/repo/&lt;/url&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>For more details:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.apache.mahout/mahout-mrlegacy/0.9.0.2.2.0.0-2041\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.apache.mahout/mahout-mrlegacy/0.9.0.2.2.0.0-2041</a></p>\n"},{"tags":[],"owner":{"account_id":1936546,"reputation":133675,"user_id":1743880,"accept_rate":100,"display_name":"Tunaki"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1427051021,"creation_date":1426938900,"answer_id":29182404,"question_id":29181921,"body_markdown":"The [documentation][1] of Apache Mahout appears to have a version mix-up. `mahout-mrlegacy` does not exist in version 0.9, but [it will exist in version 0.10.0][2]. For version 0.9, the dependency is actually [`mahout-core`][3].\r\n\r\nTherefore, you should use \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.mahout&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mahout-core&lt;/artifactId&gt;\r\n        &lt;version&gt;0.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nWhen 0.10.0 will be released, you will need to use\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.mahout&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mahout-mrlegacy&lt;/artifactId&gt;\r\n        &lt;version&gt;0.10.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n  [1]: https://mahout.apache.org/users/basics/quickstart.html\r\n  [2]: https://issues.apache.org/jira/browse/MAHOUT-1511\r\n  [3]: http://mvnrepository.com/artifact/org.apache.mahout/mahout-core/0.9","title":"Installing Mahout with Maven on OS X Eclipse","body":"<p>The <a href=\"https://mahout.apache.org/users/basics/quickstart.html\" rel=\"nofollow\">documentation</a> of Apache Mahout appears to have a version mix-up. <code>mahout-mrlegacy</code> does not exist in version 0.9, but <a href=\"https://issues.apache.org/jira/browse/MAHOUT-1511\" rel=\"nofollow\">it will exist in version 0.10.0</a>. For version 0.9, the dependency is actually <a href=\"http://mvnrepository.com/artifact/org.apache.mahout/mahout-core/0.9\" rel=\"nofollow\"><code>mahout-core</code></a>.</p>\n\n<p>Therefore, you should use </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.mahout&lt;/groupId&gt;\n    &lt;artifactId&gt;mahout-core&lt;/artifactId&gt;\n    &lt;version&gt;0.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>When 0.10.0 will be released, you will need to use</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.mahout&lt;/groupId&gt;\n    &lt;artifactId&gt;mahout-mrlegacy&lt;/artifactId&gt;\n    &lt;version&gt;0.10.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":990022,"reputation":2848,"user_id":1007594,"accept_rate":69,"display_name":"bobomoreno"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":746,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":29182404,"answer_count":2,"score":1,"last_activity_date":1635890901,"creation_date":1426935603,"question_id":29181921,"body_markdown":"I am trying to play with Mahout.\r\n\r\nFollowing very simple instructions on the apache website. I&#39;m getting weird dependency errors.\r\n\r\nI&#39;ve created a new project with Maven. I&#39;ve added this to the pom.xml as suggested:\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.apache.mahout&lt;/groupId&gt;\r\n      &lt;artifactId&gt;mahout-mrlegacy&lt;/artifactId&gt;\r\n      &lt;version&gt;0.9&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nnow running &#39;mvn clean install -U&#39; gives me:\r\n\r\n    Downloading: https://repo.maven.apache.org/maven2/org/apache/mahout/mahout-mrlegacy/0.9/mahout-mrlegacy-0.9.jar\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] BUILD FAILURE\r\n    [INFO] ------------------------------------------------------------------------\r\n    [INFO] Total time: 1.689 s\r\n    [INFO] Finished at: 2015-03-21T10:54:37+00:00\r\n    [INFO] Final Memory: 6M/81M\r\n    [INFO] ------------------------------------------------------------------------\r\n    [ERROR] Failed to execute goal on project my-app: Could not resolve dependencies for project com.mycompany.app:my-app:jar:1.0-SNAPSHOT: Could not find artifact org.apache.mahout:mahout-mrlegacy:jar:0.9 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 1]\r\n\r\nJava is too hard! Seriously, I&#39;m a Ruby guy. Now I also tried &#39;artifactID&#39; as just &#39;mahout&#39; as I can see that in some of these alleged maven repositories, but same error.\r\nWhat am I doing wrong???","title":"Installing Mahout with Maven on OS X Eclipse","body":"<p>I am trying to play with Mahout.</p>\n\n<p>Following very simple instructions on the apache website. I'm getting weird dependency errors.</p>\n\n<p>I've created a new project with Maven. I've added this to the pom.xml as suggested:</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.apache.mahout&lt;/groupId&gt;\n  &lt;artifactId&gt;mahout-mrlegacy&lt;/artifactId&gt;\n  &lt;version&gt;0.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>now running 'mvn clean install -U' gives me:</p>\n\n<pre><code>Downloading: https://repo.maven.apache.org/maven2/org/apache/mahout/mahout-mrlegacy/0.9/mahout-mrlegacy-0.9.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 1.689 s\n[INFO] Finished at: 2015-03-21T10:54:37+00:00\n[INFO] Final Memory: 6M/81M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project my-app: Could not resolve dependencies for project com.mycompany.app:my-app:jar:1.0-SNAPSHOT: Could not find artifact org.apache.mahout:mahout-mrlegacy:jar:0.9 in central (https://repo.maven.apache.org/maven2) -&gt; [Help 1]\n</code></pre>\n\n<p>Java is too hard! Seriously, I'm a Ruby guy. Now I also tried 'artifactID' as just 'mahout' as I can see that in some of these alleged maven repositories, but same error.\nWhat am I doing wrong???</p>\n"},{"tags":["java","json","spring","spring-boot","http"],"answers":[{"tags":[],"owner":{"account_id":12264752,"reputation":2360,"user_id":8951571,"display_name":"Daniel Campos Olivares"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635868981,"creation_date":1635868981,"answer_id":69813468,"question_id":69813207,"body_markdown":"There are multiple libraries as **Gson** or **Jackson** that actually allow you to work with JSON as they are Java Objects to finally serialize them as a body.\r\n\r\nIf you want to give it a try, you would just need to include **Gson** as dependency:\r\n\r\n``` \r\n&lt;dependency&gt;\r\n\t&lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;gson&lt;/artifactId&gt;\r\n\t&lt;version&gt;2.8.9&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n``` \r\n\r\nThen you&#39;d have to create a POJO for your `POST` body:\r\n\r\n```\r\npublic class JsonBody {\r\n\r\n  private List&lt;String&gt; fields = new LinkedList&lt;&gt;();\r\n\r\n  void addField(String field) {\r\n    fields.add(field);\r\n  }\r\n\r\n}\r\n```\r\n\r\nAnd feel free to add as many `String` as you want that it will be parsed afterwards.\r\n\r\n```\r\nJsonBody jsonBody = new JsonBody();\r\nGson gson = new Gson();\r\n\r\njsonBody.addField(myString1);\r\njsonBody.addField(myString2);\r\n\r\nHttpHeaders headers = new HttpHeaders();\r\nheaders.setContentType(MediaType.APPLICATION_JSON);\r\nHttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(gson.toJson(jsonBody), headers);\r\nRestTemplate restTemplate = new RestTemplate();\r\nResponseEntity&lt;MyResponseClass&gt; response = restTemplate.postForEntity(url, request, MyResponseClass.class);\r\n```\r\n\r\n---\r\n\r\nThis would set your JSON to:\r\n\r\n```\r\n{\r\n  fields: [\r\n    contentMyString1,\r\n    contentMyString2\r\n  ]\r\n}\r\n```\r\n\r\nTaking the previous example into account, you can just modify and format your JSON as you want in the form of a POJO and use the `Gson::toJson(String)` function from **Gson**.\r\n\r\nOf course if you just create a POJO as:\r\n\r\n```\r\npublic class JsonBody {\r\n\r\n  private String field1;\r\n  private String field2;\r\n  private String field3;\r\n  private Integer field4;\r\n\r\n}\r\n```\r\n\r\nThen the output would be the same one than you have in your initial example.","title":"Java: Request body in XML or JSON without using String","body":"<p>There are multiple libraries as <strong>Gson</strong> or <strong>Jackson</strong> that actually allow you to work with JSON as they are Java Objects to finally serialize them as a body.</p>\n<p>If you want to give it a try, you would just need to include <strong>Gson</strong> as dependency:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.google.code.gson&lt;/groupId&gt;\n    &lt;artifactId&gt;gson&lt;/artifactId&gt;\n    &lt;version&gt;2.8.9&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Then you'd have to create a POJO for your <code>POST</code> body:</p>\n<pre><code>public class JsonBody {\n\n  private List&lt;String&gt; fields = new LinkedList&lt;&gt;();\n\n  void addField(String field) {\n    fields.add(field);\n  }\n\n}\n</code></pre>\n<p>And feel free to add as many <code>String</code> as you want that it will be parsed afterwards.</p>\n<pre><code>JsonBody jsonBody = new JsonBody();\nGson gson = new Gson();\n\njsonBody.addField(myString1);\njsonBody.addField(myString2);\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\nHttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(gson.toJson(jsonBody), headers);\nRestTemplate restTemplate = new RestTemplate();\nResponseEntity&lt;MyResponseClass&gt; response = restTemplate.postForEntity(url, request, MyResponseClass.class);\n</code></pre>\n<hr />\n<p>This would set your JSON to:</p>\n<pre><code>{\n  fields: [\n    contentMyString1,\n    contentMyString2\n  ]\n}\n</code></pre>\n<p>Taking the previous example into account, you can just modify and format your JSON as you want in the form of a POJO and use the <code>Gson::toJson(String)</code> function from <strong>Gson</strong>.</p>\n<p>Of course if you just create a POJO as:</p>\n<pre><code>public class JsonBody {\n\n  private String field1;\n  private String field2;\n  private String field3;\n  private Integer field4;\n\n}\n</code></pre>\n<p>Then the output would be the same one than you have in your initial example.</p>\n"},{"tags":[],"owner":{"account_id":3068754,"reputation":2677,"user_id":2599899,"display_name":"Arthur Klezovich"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635890784,"creation_date":1635890784,"answer_id":69817449,"question_id":69813207,"body_markdown":"Use the `ObjectMapper` class like this ... \r\n\r\n```\r\nObjectMapper objectMapper = new ObjectMapper();\r\nCar car = new Car(&quot;yellow&quot;, &quot;renault&quot;);\r\nobjectMapper.writeValue(new File(&quot;target/car.json&quot;), car);\r\n```\r\n\r\nThe output will be \r\n\r\n```\r\n{&quot;color&quot;:&quot;yellow&quot;,&quot;type&quot;:&quot;renault&quot;}\r\n\r\n```\r\n\r\nHere&#39;s some more data on the topic https://www.baeldung.com/jackson-object-mapper-tutorial\r\n\r\nSame approach is used for mapping objects into XML (https://www.baeldung.com/jackson-xml-serialization-and-deserialization)","title":"Java: Request body in XML or JSON without using String","body":"<p>Use the <code>ObjectMapper</code> class like this ...</p>\n<pre><code>ObjectMapper objectMapper = new ObjectMapper();\nCar car = new Car(&quot;yellow&quot;, &quot;renault&quot;);\nobjectMapper.writeValue(new File(&quot;target/car.json&quot;), car);\n</code></pre>\n<p>The output will be</p>\n<pre><code>{&quot;color&quot;:&quot;yellow&quot;,&quot;type&quot;:&quot;renault&quot;}\n\n</code></pre>\n<p>Here's some more data on the topic <a href=\"https://www.baeldung.com/jackson-object-mapper-tutorial\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-object-mapper-tutorial</a></p>\n<p>Same approach is used for mapping objects into XML (<a href=\"https://www.baeldung.com/jackson-xml-serialization-and-deserialization\" rel=\"nofollow noreferrer\">https://www.baeldung.com/jackson-xml-serialization-and-deserialization</a>)</p>\n"}],"owner":{"account_id":21615036,"reputation":51,"user_id":15940981,"display_name":"stackismylifedontyouforget"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":896,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1635890784,"creation_date":1635867934,"question_id":69813207,"body_markdown":"I am developing an application using Spring Boot (with Java).\r\nThis application has to call several external services and each of these services **requires a complicated body (in json or xml)** (this input can vary! The fields I pass to it are not required so sometimes I might even pass a subset of these fields). These are examples of inputs that services can receive:\r\n\r\n    {\r\n      &quot;field1&quot;: &quot;string&quot;,\r\n      &quot;field2&quot;: &quot;string&quot;,\r\n      &quot;field3&quot;: &quot;string&quot;,\r\n      &quot;field4&quot;: 0,\r\n    }\r\n\r\n    &lt;input&gt;\r\n    \t&lt;input1&gt;my_string&lt;/input1&gt;\r\n    \t&lt;input2&gt;my_string&lt;/input2&gt;\r\n    &lt;/input&gt;\r\n\r\nI use RestTemplate to make HTTP calls. This is an example. I use a Java String to model the HTTP body (but it has the big defect that **it is not editable but hard-coded**!):\r\n\r\n\t\tString Jsonbody = &quot;{\\r\\n&quot;\r\n\t\t\t\t+ &quot;  \\&quot;field1\\&quot;: \\&quot;&quot;+myString1+&quot;\\&quot;\\r\\n&quot; \r\n                + &quot;  \\&quot;field2\\&quot;: \\&quot;&quot;+myString2+&quot;\\&quot;\\r\\n&quot;\r\n\t\t\t\t+ &quot;}&quot;;\r\n\r\n    HttpHeaders headers = new HttpHeaders();\r\n    headers.setContentType(MediaType.APPLICATION_JSON);\r\n    HttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(Jsonbody, headers);\r\n    RestTemplate restTemplate = new RestTemplate();\r\n    ResponseEntity&lt;MyResponseClass&gt; response = restTemplate.postForEntity(url, request, MyResponseClass.class);\r\n\r\nIt is very bad to have a body hard-coded like this in the `JsonBody` variable. What is the way to have an object in which I **dynamically insert strings** and which automatically creates a JSON object (which I can then convert to a string to put in the .postForEntity method)? The same issue for XML input types.\r\n\r\n","title":"Java: Request body in XML or JSON without using String","body":"<p>I am developing an application using Spring Boot (with Java).\nThis application has to call several external services and each of these services <strong>requires a complicated body (in json or xml)</strong> (this input can vary! The fields I pass to it are not required so sometimes I might even pass a subset of these fields). These are examples of inputs that services can receive:</p>\n<pre><code>{\n  &quot;field1&quot;: &quot;string&quot;,\n  &quot;field2&quot;: &quot;string&quot;,\n  &quot;field3&quot;: &quot;string&quot;,\n  &quot;field4&quot;: 0,\n}\n\n&lt;input&gt;\n    &lt;input1&gt;my_string&lt;/input1&gt;\n    &lt;input2&gt;my_string&lt;/input2&gt;\n&lt;/input&gt;\n</code></pre>\n<p>I use RestTemplate to make HTTP calls. This is an example. I use a Java String to model the HTTP body (but it has the big defect that <strong>it is not editable but hard-coded</strong>!):</p>\n<pre><code>    String Jsonbody = &quot;{\\r\\n&quot;\n            + &quot;  \\&quot;field1\\&quot;: \\&quot;&quot;+myString1+&quot;\\&quot;\\r\\n&quot; \n            + &quot;  \\&quot;field2\\&quot;: \\&quot;&quot;+myString2+&quot;\\&quot;\\r\\n&quot;\n            + &quot;}&quot;;\n\nHttpHeaders headers = new HttpHeaders();\nheaders.setContentType(MediaType.APPLICATION_JSON);\nHttpEntity&lt;String&gt; request = new HttpEntity&lt;String&gt;(Jsonbody, headers);\nRestTemplate restTemplate = new RestTemplate();\nResponseEntity&lt;MyResponseClass&gt; response = restTemplate.postForEntity(url, request, MyResponseClass.class);\n</code></pre>\n<p>It is very bad to have a body hard-coded like this in the <code>JsonBody</code> variable. What is the way to have an object in which I <strong>dynamically insert strings</strong> and which automatically creates a JSON object (which I can then convert to a string to put in the .postForEntity method)? The same issue for XML input types.</p>\n"},{"tags":["java","methods","parameters"],"comments":[{"owner":{"display_name":"user6073886"},"score":2,"creation_date":1635890263,"post_id":69817359,"comment_id":123412534,"body_markdown":"You don&#39;t believe that a 10*15 area is 150? It is.","body":"You don&#39;t believe that a 10*15 area is 150? It is."},{"owner":{"account_id":23136738,"reputation":7,"user_id":17240867,"display_name":"emily"},"score":0,"creation_date":1635890352,"post_id":69817359,"comment_id":123412556,"body_markdown":"I have now just realised that lol, sorry just got told to change the length and width so it completely threw me off. I&#39;ll update the question :)","body":"I have now just realised that lol, sorry just got told to change the length and width so it completely threw me off. I&#39;ll update the question :)"},{"owner":{"account_id":17187111,"reputation":81,"user_id":12441535,"display_name":"ZShadow01"},"score":0,"creation_date":1635890659,"post_id":69817359,"comment_id":123412627,"body_markdown":"@QBrute oh yea, sorry I take it back then, I&#39;m brainded atm","body":"@QBrute oh yea, sorry I take it back then, I&#39;m brainded atm"},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":3,"creation_date":1635890698,"post_id":69817359,"comment_id":123412639,"body_markdown":"@emily You&#39;re only printing the result of `area`. Just add another line where you print with a call to `perimeter`","body":"@emily You&#39;re only printing the result of <code>area</code>. Just add another line where you print with a call to <code>perimeter</code>"},{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1635895927,"post_id":69817359,"comment_id":123413751,"body_markdown":"Your perimeter calculation is correct.","body":"Your perimeter calculation is correct."}],"answers":[{"tags":[],"owner":{"account_id":20240228,"reputation":496,"user_id":14844306,"display_name":"Ben Anderson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635890695,"creation_date":1635890695,"answer_id":69817435,"question_id":69817359,"body_markdown":"To also print out the perimeter, call the `perimeter` method with the same values as you did for the `area` method in the main method like so:\r\n```\r\nSystem.out.println(perimeter(10, 15));\r\n```","title":"parameters/ methods in Java","body":"<p>To also print out the perimeter, call the <code>perimeter</code> method with the same values as you did for the <code>area</code> method in the main method like so:</p>\n<pre><code>System.out.println(perimeter(10, 15));\n</code></pre>\n"}],"owner":{"account_id":23136738,"reputation":7,"user_id":17240867,"display_name":"emily"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"closed_date":1635935893,"accepted_answer_id":69817435,"answer_count":1,"score":-2,"last_activity_date":1635890695,"creation_date":1635890164,"question_id":69817359,"body_markdown":"the code is meant to show the area of the rectangle and then the perimeter. As you can see in the code below the length is 10 and the width is 15. We have to use parameters and methods to get the answer. However, the output is only the area and I can&#39;t get the perimeter to also appear when the code is run. If anyone could please help fix just the mistakes now that would be amazing. Thank you.\r\n\r\n    public class Rectangle\r\n    {\r\n        public static void main(String[] args)\r\n        {\r\n            System.out.println (area(10,15));\r\n        }\r\n    /**\r\n    * Returns the area of a rectangle\r\n    */\r\n        public static int area (int length, int width)\r\n        {\r\n            return length * width;\r\n        }\r\n    /**\r\n    * Returns the perimeter of the rectangle\r\n    */\r\n        public static int perimeter (int length, int width)\r\n        {\r\n            return 2 * (length + width);\r\n        }\r\n    }\r\n\r\np.s I understand the method for the perimeter section is totally wrong, I am new so I was using the area one to try get the perimeter but this was the best I could do.\r\nEdit: very sorry for the earlier mistake, I have updated my question now, it is very late where I live right now lol","title":"parameters/ methods in Java","body":"<p>the code is meant to show the area of the rectangle and then the perimeter. As you can see in the code below the length is 10 and the width is 15. We have to use parameters and methods to get the answer. However, the output is only the area and I can't get the perimeter to also appear when the code is run. If anyone could please help fix just the mistakes now that would be amazing. Thank you.</p>\n<pre><code>public class Rectangle\n{\n    public static void main(String[] args)\n    {\n        System.out.println (area(10,15));\n    }\n/**\n* Returns the area of a rectangle\n*/\n    public static int area (int length, int width)\n    {\n        return length * width;\n    }\n/**\n* Returns the perimeter of the rectangle\n*/\n    public static int perimeter (int length, int width)\n    {\n        return 2 * (length + width);\n    }\n}\n</code></pre>\n<p>p.s I understand the method for the perimeter section is totally wrong, I am new so I was using the area one to try get the perimeter but this was the best I could do.\nEdit: very sorry for the earlier mistake, I have updated my question now, it is very late where I live right now lol</p>\n"},{"tags":["java","eclipse","google-app-engine","gradle","gradle-eclipse"],"answers":[{"tags":[],"owner":{"account_id":416821,"reputation":2373,"user_id":792443,"accept_rate":89,"display_name":"loosebazooka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1635890659,"creation_date":1433266329,"answer_id":30602819,"question_id":30484657,"body_markdown":"When you put a dependency in the dependency closure, gradle will included all of those depedencies&#39; dependencies. (look for &quot;transitive dependencies&quot; on https://docs.gradle.org/current/userguide/artifact_dependencies_tutorial.html)\r\n\r\nTaking a look at an old version of the pom for the org.restlet.gae dependency: https://mvnrepository.com/artifact/org.restlet.gae/org.restlet/2.3.1/pom&lt;sup&gt;broken link&lt;/sup&gt;\r\nyou can see the appengine dependency. I would think that&#39;s where it&#39;s coming from.","title":"Eclipse Luna Gradle Plugin adds a dependency that is not referenced","body":"<p>When you put a dependency in the dependency closure, gradle will included all of those depedencies' dependencies. (look for &quot;transitive dependencies&quot; on <a href=\"https://docs.gradle.org/current/userguide/artifact_dependencies_tutorial.html\" rel=\"nofollow noreferrer\">https://docs.gradle.org/current/userguide/artifact_dependencies_tutorial.html</a>)</p>\n<p>Taking a look at an old version of the pom for the org.restlet.gae dependency: <a href=\"https://mvnrepository.com/artifact/org.restlet.gae/org.restlet/2.3.1/pom\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.restlet.gae/org.restlet/2.3.1/pom</a><sup>broken link</sup>\nyou can see the appengine dependency. I would think that's where it's coming from.</p>\n"}],"owner":{"account_id":1520505,"reputation":3,"user_id":4944906,"display_name":"Marco Castillo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":30602819,"answer_count":1,"score":0,"last_activity_date":1635890659,"creation_date":1432734964,"question_id":30484657,"body_markdown":"I&#39;m using Eclipse Luna and the Gradle Plugin for Eclipse Luna (Using the Gradle IDE Pack 3.6.x from Pivotal). I created a simple Java project with Gradle support. Below my build.gradle\r\n\r\n    apply plugin: &#39;java&#39;\r\n    apply plugin: &#39;eclipse&#39;\r\n    apply plugin: &#39;artifactory&#39;\r\n\r\n    buildscript {\r\n      repositories {\r\n        maven { url &#39;http://dl.bintray.com/jfrog/jfrog-jars&#39; }\r\n        mavenCentral()\r\n      }\r\n\r\n      dependencies {\r\n        classpath(group: &#39;org.jfrog.buildinfo&#39;, name: &#39;build-info-extractor-gradle&#39;, version: &#39;2.2.4&#39;)\r\n      }\r\n    }\r\n\r\n    version = &#39;1.0&#39;\r\n\r\n    repositories {\r\n      maven { url &#39;http://maven.restlet.com&#39; }\r\n      mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n      compile group: &#39;com.cloudit4&#39;, name: &#39;cit4-util-lib&#39;, version: &#39;1.0&#39;\r\n      compile group: &#39;org.restlet.gae&#39;, name: &#39;org.restlet&#39;, version: &#39;2.3.2&#39;\r\n      compile group: &#39;org.restlet.gae&#39;, name: &#39;org.restlet.ext.servlet&#39;, version: &#39;2.3.2&#39;\r\n    }\r\n\r\n    // Artifactory...\r\n    artifactory {\r\n\t  contextUrl = &#39;http://192.168.245.1:8081/artifactory&#39;   //The base Artifactory URL if not overridden by the publisher/resolver\r\n\t  publish {\r\n\t\tcontextUrl = &#39;http://192.168.245.1:8081/artifactory&#39;   //The base Artifactory URL for the publisher\r\n\t\t//A closure defining publishing information\r\n\t\trepository {\r\n\t\t\trepoKey = &#39;libs-release-local&#39;   //The Artifactory repository key to publish to\r\n\t\t\tusername = &#39;admin&#39;          //The publisher user name\r\n\t\t\tpassword = &#39;mypass&#39;       //The publisher password\r\n\t\t}\r\n\t  }\r\n\t  resolve {\r\n\t\tcontextUrl = &#39;http://192.168.245.1:8081/artifactory&#39;   //The base Artifactory URL for the resolver\r\n\t\trepository {\r\n\t\t\trepoKey = &#39;repo&#39;  //The Artifactory (preferably virtual) repository key to resolve from\r\n\t\t}\r\n\t  }\r\n    }\r\n\r\nAs you may notice, I&#39;m using Artifactory to host my own artifacts (local libraries, cit4-util-lib).\r\nNormally I work with projects that uses the Google App Engine library, and many times I included it in Gradle using the appengine plugin for gradle.\r\nBut as you may see, this is not the case this time. None of the dependencies has a dependency for Google App Engine libraries.\r\nBut when I do execute a Gradle dependencies refresh, a Google App Engine library is included in my dependencies.\r\nSomebody has seen this kind of behaviour? Where does gradle looks for libraries to include in the project? Is it only the dependencies that are explicitly set in the build.gradle file or are there more?\r\n","title":"Eclipse Luna Gradle Plugin adds a dependency that is not referenced","body":"<p>I'm using Eclipse Luna and the Gradle Plugin for Eclipse Luna (Using the Gradle IDE Pack 3.6.x from Pivotal). I created a simple Java project with Gradle support. Below my build.gradle</p>\n<pre><code>apply plugin: 'java'\napply plugin: 'eclipse'\napply plugin: 'artifactory'\n\nbuildscript {\n  repositories {\n    maven { url 'http://dl.bintray.com/jfrog/jfrog-jars' }\n    mavenCentral()\n  }\n\n  dependencies {\n    classpath(group: 'org.jfrog.buildinfo', name: 'build-info-extractor-gradle', version: '2.2.4')\n  }\n}\n\nversion = '1.0'\n\nrepositories {\n  maven { url 'http://maven.restlet.com' }\n  mavenCentral()\n}\n\ndependencies {\n  compile group: 'com.cloudit4', name: 'cit4-util-lib', version: '1.0'\n  compile group: 'org.restlet.gae', name: 'org.restlet', version: '2.3.2'\n  compile group: 'org.restlet.gae', name: 'org.restlet.ext.servlet', version: '2.3.2'\n}\n\n// Artifactory...\nartifactory {\n  contextUrl = 'http://192.168.245.1:8081/artifactory'   //The base Artifactory URL if not overridden by the publisher/resolver\n  publish {\n    contextUrl = 'http://192.168.245.1:8081/artifactory'   //The base Artifactory URL for the publisher\n    //A closure defining publishing information\n    repository {\n        repoKey = 'libs-release-local'   //The Artifactory repository key to publish to\n        username = 'admin'          //The publisher user name\n        password = 'mypass'       //The publisher password\n    }\n  }\n  resolve {\n    contextUrl = 'http://192.168.245.1:8081/artifactory'   //The base Artifactory URL for the resolver\n    repository {\n        repoKey = 'repo'  //The Artifactory (preferably virtual) repository key to resolve from\n    }\n  }\n}\n</code></pre>\n<p>As you may notice, I'm using Artifactory to host my own artifacts (local libraries, cit4-util-lib).\nNormally I work with projects that uses the Google App Engine library, and many times I included it in Gradle using the appengine plugin for gradle.\nBut as you may see, this is not the case this time. None of the dependencies has a dependency for Google App Engine libraries.\nBut when I do execute a Gradle dependencies refresh, a Google App Engine library is included in my dependencies.\nSomebody has seen this kind of behaviour? Where does gradle looks for libraries to include in the project? Is it only the dependencies that are explicitly set in the build.gradle file or are there more?</p>\n"},{"tags":["java","xml","maven","building","saiku"],"answers":[{"tags":[],"owner":{"account_id":1937747,"reputation":14200,"user_id":1744774,"accept_rate":100,"display_name":"Gerold Broser"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1635890437,"creation_date":1442660163,"answer_id":32667353,"question_id":32663422,"body_markdown":"Re _2._ &amp; _3._:\n\n    (http://repo.pentaho.org/artifactory/third-party/): Failed to transfer file: ...\n      Return code is: 503 , ReasonPhrase:Service Temporarily Unavailable.\n\n    (http://repo.analytical-labs.com/repo/): \n      Connection to http://repo.analytical-labs.com refused\n\nRe _4._:\n\nhttps://mvnrepository.com/artifact/org.olap4j","title":"Warning for transfering maven-metadata.xml failed and errors for resolving denpencies when building","body":"<p>Re <em>2.</em> &amp; <em>3.</em>:</p>\n<pre><code>(http://repo.pentaho.org/artifactory/third-party/): Failed to transfer file: ...\n  Return code is: 503 , ReasonPhrase:Service Temporarily Unavailable.\n\n(http://repo.analytical-labs.com/repo/): \n  Connection to http://repo.analytical-labs.com refused\n</code></pre>\n<p>Re <em>4.</em>:</p>\n<p><a href=\"https://mvnrepository.com/artifact/org.olap4j\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.olap4j</a></p>\n"},{"tags":[],"owner":{"account_id":2313640,"reputation":25,"user_id":2031182,"display_name":"Vittery"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1442828478,"creation_date":1442828478,"answer_id":32691963,"question_id":32663422,"body_markdown":"Thanks. Vittery\r\n\r\nI found it can also be resolved by http://repo.pentaho.org/artifactory/repo/&#160;or &#160;http://nexus.pentaho.org/content/groups/omni/.\r\n\r\nI used  http://repo.pentaho.org/artifactory/repo/. However, I also need to change org.olap4j:olap4j-xmla:1.2.0-SNAPSHOT to org.olap4j:olap4j-xmla:1.2.0. ","title":"Warning for transfering maven-metadata.xml failed and errors for resolving denpencies when building","body":"<p>Thanks. Vittery</p>\n\n<p>I found it can also be resolved by <a href=\"http://repo.pentaho.org/artifactory/repo/\" rel=\"nofollow\">http://repo.pentaho.org/artifactory/repo/</a> or  <a href=\"http://nexus.pentaho.org/content/groups/omni/\" rel=\"nofollow\">http://nexus.pentaho.org/content/groups/omni/</a>.</p>\n\n<p>I used  <a href=\"http://repo.pentaho.org/artifactory/repo/\" rel=\"nofollow\">http://repo.pentaho.org/artifactory/repo/</a>. However, I also need to change org.olap4j:olap4j-xmla:1.2.0-SNAPSHOT to org.olap4j:olap4j-xmla:1.2.0. </p>\n"}],"owner":{"account_id":2313640,"reputation":25,"user_id":2031182,"display_name":"Vittery"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2010,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":32667353,"answer_count":2,"score":1,"last_activity_date":1635890437,"creation_date":1442628595,"question_id":32663422,"body_markdown":"Download codes from Saiku repository on GitHub. Switch to branch 2.6.x.\n\nUse command &quot;./saiku build all&quot; to do building.\n\nHowever, there are so many warning and errors there:\n\n&lt;!-- begin snippet: js hide: false --&gt;\n\n&lt;!-- language: lang-html --&gt;\n\n    &lt;pre&gt;\n     [WARNING] Could not transfer metadata org.olap4j:olap4j-xmla:1.2.0-SNAPSHOT/maven-metadata.xml from/to pentaho-third-party (http://repo.pentaho.org/artifactory/third-party/): Failed to transfer file: http://repo.pentaho.org/artifactory/third-party/org/olap4j/olap4j-xmla/1.2.0-SNAPSHOT/maven-metadata.xml. Return code is : 503 , ReasonPhrase: Service Temporarily Unavailable.\n    [WARNING] .. from/to alabs-repo (http://repo.analytical-labs.com/repo/): Connection to http://repo.analytical-labs.com refused\n    ...\n    Downloading: http://repo.pentaho.org/artifactory/third-party/org/olap4j/olap4j-xmla/1.2.0-SNAPSHOT/olap4j-xmla-1.2.0-SNAPSHOT.pom\n    ...\n    ...\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD FAILURE\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Total time: 5:44.581s\n    [INFO] Finished at: Fri Sep 18 23:57:43 CST 2015\n    [INFO] Final Memory: 7M/18M\n    [INFO] ------------------------------------------------------------------------\n    [ERROR] Failed to execute goal on project saiku-bi-platform-plugin-p5: Could not resolve dependencies for project org.saiku:saiku-bi-platform-plugin-p5:jar:2.6.1-SNAPSHOT: Failed to collect dependencies for [org.saiku:saiku-service:jar:2.6.1-SNAPSHOT (compile), org.saiku:saiku-web:jar:2.6.1-SNAPSHOT (compile), org.saiku:saiku-olap-util:jar:2.6.1-SNAPSHOT (compile), pentaho:cpf-core:jar:REFACTOR-SNAPSHOT (compile), pentaho:cpf-pentaho5:jar:REFACTOR-SNAPSHOT (compile), pentaho:mondrian:jar:3.6.5 (compile), eigenbase:eigenbase-properties:jar:1.1.0.10924 (compile), eigenbase:eigenbase-resgen:jar:1.3.0.11873 (compile), eigenbase:eigenbase-xom:jar:1.3.0.11999 (compile), org.olap4j:olap4j-xmla:jar:1.2.0-SNAPSHOT (compile), org.slf4j:slf4j-log4j12:jar:1.6.1 (compile), org.slf4j:slf4j-api:jar:1.6.1 (compile), log4j:log4j:jar:1.2.14 (compile), pentaho:pentaho-platform-api:jar:5.0.0 (provided), pentaho:pentaho-platform-core:jar:5.0.0 (provided), pentaho:pentaho-platform-extensions:jar:5.0.0 (provided), com.sun.jersey:jersey-core:jar:1.11 (compile), com.sun.jersey:jersey-server:jar:1.11 (compile), com.sun.jersey.contribs:jersey-multipart:jar:1.11 (compile), org.jvnet:mimepull:jar:1.6 (compile), com.sun.jersey:jersey-servlet:jar:1.11 (compile), com.sun.jersey.contribs:jersey-spring:jar:1.11 (compile), com.sun.jersey:jersey-client:jar:1.11 (compile), javax.servlet:servlet-api:jar:2.4 (compile), org.springframework.security:spring-security-core:jar:2.0.5.RELEASE (compile), com.itextpdf:itextpdf:jar:5.5.0 (compile), com.itextpdf.tool:xmlworker:jar:5.5.0 (compile), rhino:js:jar:1.7R2 (compile)]: Failed to read artifact descriptor for org.saiku:saiku-service:jar:2.6.1-SNAPSHOT: Could not transfer artifact org.saiku:saiku-service:pom:2.6.1-SNAPSHOT from/to pentaho-third-party (http://repo.pentaho.org/artifactory/third-party/): Failed to transfer file: http://repo.pentaho.org/artifactory/third-party/org/saiku/saiku-service/2.6.1-SNAPSHOT/saiku-service-2.6.1-SNAPSHOT.pom. Return code is: 503 , ReasonPhrase:Service Temporarily Unavailable. -&gt; [Help 1]\n    [ERROR] \n    [ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n    [ERROR] \n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException  \n    &lt;/pre&gt;\n\n&lt;!-- end snippet --&gt;\n\nQuestions:\n\n1. What is the difference between &quot;maven-metadata.xml&quot; and &quot;olap4j-xmla-1.2.0-SNAPSHOT.pom&quot; file?\n\n2. Why it is 503 code when responding for downloading  &quot;maven-metadata.xml&quot;?\n\n3. Why errors?\n\n4. Is there any other maven repository to resolve those dependencies?","title":"Warning for transfering maven-metadata.xml failed and errors for resolving denpencies when building","body":"<p>Download codes from Saiku repository on GitHub. Switch to branch 2.6.x.</p>\n<p>Use command &quot;./saiku build all&quot; to do building.</p>\n<p>However, there are so many warning and errors there:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"false\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;pre&gt;\n [WARNING] Could not transfer metadata org.olap4j:olap4j-xmla:1.2.0-SNAPSHOT/maven-metadata.xml from/to pentaho-third-party (http://repo.pentaho.org/artifactory/third-party/): Failed to transfer file: http://repo.pentaho.org/artifactory/third-party/org/olap4j/olap4j-xmla/1.2.0-SNAPSHOT/maven-metadata.xml. Return code is : 503 , ReasonPhrase: Service Temporarily Unavailable.\n[WARNING] .. from/to alabs-repo (http://repo.analytical-labs.com/repo/): Connection to http://repo.analytical-labs.com refused\n...\nDownloading: http://repo.pentaho.org/artifactory/third-party/org/olap4j/olap4j-xmla/1.2.0-SNAPSHOT/olap4j-xmla-1.2.0-SNAPSHOT.pom\n...\n...\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 5:44.581s\n[INFO] Finished at: Fri Sep 18 23:57:43 CST 2015\n[INFO] Final Memory: 7M/18M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project saiku-bi-platform-plugin-p5: Could not resolve dependencies for project org.saiku:saiku-bi-platform-plugin-p5:jar:2.6.1-SNAPSHOT: Failed to collect dependencies for [org.saiku:saiku-service:jar:2.6.1-SNAPSHOT (compile), org.saiku:saiku-web:jar:2.6.1-SNAPSHOT (compile), org.saiku:saiku-olap-util:jar:2.6.1-SNAPSHOT (compile), pentaho:cpf-core:jar:REFACTOR-SNAPSHOT (compile), pentaho:cpf-pentaho5:jar:REFACTOR-SNAPSHOT (compile), pentaho:mondrian:jar:3.6.5 (compile), eigenbase:eigenbase-properties:jar:1.1.0.10924 (compile), eigenbase:eigenbase-resgen:jar:1.3.0.11873 (compile), eigenbase:eigenbase-xom:jar:1.3.0.11999 (compile), org.olap4j:olap4j-xmla:jar:1.2.0-SNAPSHOT (compile), org.slf4j:slf4j-log4j12:jar:1.6.1 (compile), org.slf4j:slf4j-api:jar:1.6.1 (compile), log4j:log4j:jar:1.2.14 (compile), pentaho:pentaho-platform-api:jar:5.0.0 (provided), pentaho:pentaho-platform-core:jar:5.0.0 (provided), pentaho:pentaho-platform-extensions:jar:5.0.0 (provided), com.sun.jersey:jersey-core:jar:1.11 (compile), com.sun.jersey:jersey-server:jar:1.11 (compile), com.sun.jersey.contribs:jersey-multipart:jar:1.11 (compile), org.jvnet:mimepull:jar:1.6 (compile), com.sun.jersey:jersey-servlet:jar:1.11 (compile), com.sun.jersey.contribs:jersey-spring:jar:1.11 (compile), com.sun.jersey:jersey-client:jar:1.11 (compile), javax.servlet:servlet-api:jar:2.4 (compile), org.springframework.security:spring-security-core:jar:2.0.5.RELEASE (compile), com.itextpdf:itextpdf:jar:5.5.0 (compile), com.itextpdf.tool:xmlworker:jar:5.5.0 (compile), rhino:js:jar:1.7R2 (compile)]: Failed to read artifact descriptor for org.saiku:saiku-service:jar:2.6.1-SNAPSHOT: Could not transfer artifact org.saiku:saiku-service:pom:2.6.1-SNAPSHOT from/to pentaho-third-party (http://repo.pentaho.org/artifactory/third-party/): Failed to transfer file: http://repo.pentaho.org/artifactory/third-party/org/saiku/saiku-service/2.6.1-SNAPSHOT/saiku-service-2.6.1-SNAPSHOT.pom. Return code is: 503 , ReasonPhrase:Service Temporarily Unavailable. -&gt; [Help 1]\n[ERROR] \n[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR] \n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException  \n&lt;/pre&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Questions:</p>\n<ol>\n<li><p>What is the difference between &quot;maven-metadata.xml&quot; and &quot;olap4j-xmla-1.2.0-SNAPSHOT.pom&quot; file?</p>\n</li>\n<li><p>Why it is 503 code when responding for downloading  &quot;maven-metadata.xml&quot;?</p>\n</li>\n<li><p>Why errors?</p>\n</li>\n<li><p>Is there any other maven repository to resolve those dependencies?</p>\n</li>\n</ol>\n"},{"tags":["java","macos","installation"],"answers":[{"tags":[],"owner":{"account_id":3422705,"reputation":1245,"user_id":2869674,"display_name":"Arthur  Bulakaiev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1635890424,"creation_date":1635890424,"answer_id":69817395,"question_id":69812091,"body_markdown":"You could get use of .pkg installator, just put java inside this package and call needed setup actions in pre-install bash script. Or even use script to install brew and call brew to install java, whatever. \r\n\r\nThere is a GUI tool to make pkg-s called [Packages][1], it works fine and it is free. There is also some documentation on their web site. \r\n\r\nYou can also create package of any complexity using only built-in, Apple-provided console [tools][2].\r\n\r\n\r\n  [1]: http://s.sudre.free.fr/Software/Packages/about.html\r\n  [2]: https://stackoverflow.com/a/11487658/2869674","title":"How to create a macOS App Installer with Prerequisites","body":"<p>You could get use of .pkg installator, just put java inside this package and call needed setup actions in pre-install bash script. Or even use script to install brew and call brew to install java, whatever.</p>\n<p>There is a GUI tool to make pkg-s called <a href=\"http://s.sudre.free.fr/Software/Packages/about.html\" rel=\"nofollow noreferrer\">Packages</a>, it works fine and it is free. There is also some documentation on their web site.</p>\n<p>You can also create package of any complexity using only built-in, Apple-provided console <a href=\"https://stackoverflow.com/a/11487658/2869674\">tools</a>.</p>\n"}],"owner":{"account_id":4520567,"reputation":736,"user_id":3673952,"accept_rate":33,"display_name":"user3673952"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":219,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1635890424,"creation_date":1635863390,"question_id":69812091,"body_markdown":"I&#39;m developing a macOS app written in Swift which will not be distributed via the App Store.\r\n\r\nI&#39;m looking to create an installer which will install some prerequisites, more exactly install Java on the machine.\r\n\r\nAre there any tools available that can create such an installer for an app?","title":"How to create a macOS App Installer with Prerequisites","body":"<p>I'm developing a macOS app written in Swift which will not be distributed via the App Store.</p>\n<p>I'm looking to create an installer which will install some prerequisites, more exactly install Java on the machine.</p>\n<p>Are there any tools available that can create such an installer for an app?</p>\n"},{"tags":["java","maven","dependencies"],"comments":[{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":0,"creation_date":1448479609,"post_id":33916922,"comment_id":55610682,"body_markdown":"Really `META-INF/lib`? This project is a `war` project?","body":"Really <code>META-INF&#47;lib</code>? This project is a <code>war</code> project?"},{"owner":{"account_id":7047892,"reputation":2457,"user_id":5398113,"display_name":"question_maven_com"},"score":0,"creation_date":1448547565,"post_id":33916922,"comment_id":55640833,"body_markdown":"Show where is **/XML/* in project structure file before compilation , and packaging application (war, jar , ear..) ?","body":"Show where is <i>*/XML/</i> in project structure file before compilation , and packaging application (war, jar , ear..) ?"}],"answers":[{"tags":[],"owner":{"account_id":7346741,"reputation":900,"user_id":5594180,"display_name":"Saša Zejnilović"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448459008,"creation_date":1448459008,"answer_id":33918057,"question_id":33916922,"body_markdown":"those XML files have to be &quot;attached to something&quot;. Here is an example what usualy works and should work even in maven-2. So finding connections between those XML files and groupIDs and artifactIDs.\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;log4j&lt;/groupId&gt;\r\n      &lt;artifactId&gt;log4j&lt;/artifactId&gt;\r\n      &lt;version&gt;1.2.15&lt;/version&gt;\r\n      &lt;scope&gt;provided&lt;/scope&gt;\r\n      &lt;exclusions&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;javax.mail&lt;/groupId&gt;\r\n          &lt;artifactId&gt;mail&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;javax.jms&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jms&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n        &lt;exclusion&gt;\r\n          &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\r\n          &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\r\n        &lt;/exclusion&gt;\r\n      &lt;/exclusions&gt;\r\n    &lt;/dependency&gt;","title":"Exclude folder from dependency in maven","body":"<p>those XML files have to be \"attached to something\". Here is an example what usualy works and should work even in maven-2. So finding connections between those XML files and groupIDs and artifactIDs.</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;log4j&lt;/groupId&gt;\n  &lt;artifactId&gt;log4j&lt;/artifactId&gt;\n  &lt;version&gt;1.2.15&lt;/version&gt;\n  &lt;scope&gt;provided&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;javax.mail&lt;/groupId&gt;\n      &lt;artifactId&gt;mail&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;javax.jms&lt;/groupId&gt;\n      &lt;artifactId&gt;jms&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.sun.jdmk&lt;/groupId&gt;\n      &lt;artifactId&gt;jmxtools&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n    &lt;exclusion&gt;\n      &lt;groupId&gt;com.sun.jmx&lt;/groupId&gt;\n      &lt;artifactId&gt;jmxri&lt;/artifactId&gt;\n    &lt;/exclusion&gt;\n  &lt;/exclusions&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":2457170,"reputation":43,"user_id":2142090,"accept_rate":50,"display_name":"toothbrush"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1472,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635890363,"creation_date":1448455637,"question_id":33916922,"body_markdown":"Is it possible to define the directory exclusion for the dependency in maven? \n\nI have a dependency defined in pom.xml. When compiled, this dependency is added into META-INF/lib. The problem is, the library contains about 40 MB of XML files I do not need, so I want to get rid of them.\n\nSomething like this:\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;&lt;/groupId&gt;\n      &lt;artifactId&gt;&lt;/artifactId&gt;\n      &lt;version&gt;&lt;/version&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n      &lt;exclusions&gt;\n        &lt;exclusion&gt;\n          &lt;exclude&gt;**/xml/*&lt;/exclude&gt;\n        &lt;/exclusion&gt;\n        ...\n\nThis is what I want to use as a dependency:\n[Jira Func Tests][1]\n\nThe folder with XMLs is in the compiled jar in META-INF/lib/jira-func-tests-6.4.6.jar/XML\nBefore compilation, the XML folder is in resources folder of the jira-func-tests I guess?\n\n\n  [1]: https://mvnrepository.com/artifact/com.atlassian.jira/jira-func-tests/6.1.4","title":"Exclude folder from dependency in maven","body":"<p>Is it possible to define the directory exclusion for the dependency in maven?</p>\n<p>I have a dependency defined in pom.xml. When compiled, this dependency is added into META-INF/lib. The problem is, the library contains about 40 MB of XML files I do not need, so I want to get rid of them.</p>\n<p>Something like this:</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;&lt;/groupId&gt;\n  &lt;artifactId&gt;&lt;/artifactId&gt;\n  &lt;version&gt;&lt;/version&gt;\n  &lt;scope&gt;test&lt;/scope&gt;\n  &lt;exclusions&gt;\n    &lt;exclusion&gt;\n      &lt;exclude&gt;**/xml/*&lt;/exclude&gt;\n    &lt;/exclusion&gt;\n    ...\n</code></pre>\n<p>This is what I want to use as a dependency:\n<a href=\"https://mvnrepository.com/artifact/com.atlassian.jira/jira-func-tests/6.1.4\" rel=\"nofollow noreferrer\">Jira Func Tests</a></p>\n<p>The folder with XMLs is in the compiled jar in META-INF/lib/jira-func-tests-6.4.6.jar/XML\nBefore compilation, the XML folder is in resources folder of the jira-func-tests I guess?</p>\n"},{"tags":["java","maven","jboss"],"comments":[{"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"score":0,"creation_date":1454063339,"post_id":35081322,"comment_id":57886312,"body_markdown":"It is usually a good idea to include the complete stacktrace of an error. Which in this case would have included `unable to find valid certification path to requested target`","body":"It is usually a good idea to include the complete stacktrace of an error. Which in this case would have included <code>unable to find valid certification path to requested target</code>"}],"answers":[{"tags":[],"owner":{"account_id":2679531,"reputation":2832,"user_id":2315162,"accept_rate":81,"display_name":"sinclair"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1454063265,"creation_date":1454062955,"answer_id":35082054,"question_id":35081322,"body_markdown":"This results from a ssl error because of a self-signed certificate. One option would be to use `http` instead of `https` in your repository url.\r\n\r\nIf you want to use https this might help you: https://stackoverflow.com/questions/25911623/problems-using-maven-and-ssl-behind-proxy\r\n\r\n","title":"Maven resolution for existing artifact fails","body":"<p>This results from a ssl error because of a self-signed certificate. One option would be to use <code>http</code> instead of <code>https</code> in your repository url.</p>\n\n<p>If you want to use https this might help you: <a href=\"https://stackoverflow.com/questions/25911623/problems-using-maven-and-ssl-behind-proxy\">Problems using Maven and SSL behind proxy</a></p>\n"},{"tags":[],"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1454073918,"creation_date":1454073918,"answer_id":35085704,"question_id":35081322,"body_markdown":"Whoopsie! I made a stupid mistake.\r\n\r\nI posted the dependency section I copied from the linked page. But I had another version tag in my parent-POM! It was 1.0.4-**Final**, but the version is case-sensitive and it should be 1.0.4-**FINAL**.\r\n\r\nIt works now. My bad!","title":"Maven resolution for existing artifact fails","body":"<p>Whoopsie! I made a stupid mistake.</p>\n\n<p>I posted the dependency section I copied from the linked page. But I had another version tag in my parent-POM! It was 1.0.4-<strong>Final</strong>, but the version is case-sensitive and it should be 1.0.4-<strong>FINAL</strong>.</p>\n\n<p>It works now. My bad!</p>\n"}],"owner":{"account_id":401852,"reputation":3650,"user_id":768656,"accept_rate":96,"display_name":"Benjamin Maurer"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1460,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":35085704,"answer_count":2,"score":0,"last_activity_date":1635890296,"creation_date":1454060744,"question_id":35081322,"body_markdown":"I have a dependency on\n\n    &lt;dependency&gt;\n      &lt;groupId&gt;org.jboss&lt;/groupId&gt;\n      &lt;artifactId&gt;jboss-serialization&lt;/artifactId&gt;\n      &lt;version&gt;1.0.4.Final&lt;/version&gt;\n    &lt;/dependency&gt;\n(\n Version string was wrong and I posted the right one here. I&#39;ve updated the post with the *wrong* version and I&#39;m adding an answer with an explanation.)\n\nHere is a link with infos about the artifact:\nhttps://mvnrepository.com/artifact/org.jboss/jboss-serialization/1.0.4.FINAL\n\nI have the repository set-up in Archiva, but when the resolution failed, I added the repo to the pom for testing purposes:\n\n      &lt;repository&gt;\n        &lt;id&gt;jboss-releases&lt;/id&gt;\n        &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases/&lt;/url&gt;\n      &lt;/repository&gt;\n\nStill I get an error &quot;Could not resolve dependency...&quot;. AFAIK I have downloaded other artifacts from this repo and I can download the jar/pom with my browser. What gives??\n\nStack Trace:\n\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Building project3 EJB module 1.0-SNAPSHOT\n    [INFO] ------------------------------------------------------------------------\n    Downloading: http://repository.jboss.org/nexus/content/repositories/releases/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.pom\n    Downloading: http://svn.redacted.xyz:8080/repository/internal/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.pom\n    Downloading: http://repo.maven.apache.org/maven2/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.pom\n    [WARNING] The POM for org.jboss:jboss-serialization:jar:1.0.4.Final is missing, no dependency information available\n    Downloading: http://repository.jboss.org/nexus/content/repositories/releases/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.jar\n    Downloading: http://svn.redacted.xyz:8080/repository/internal/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.jar\n    Downloading: http://repo.maven.apache.org/maven2/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.jar\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Reactor Summary:\n    [INFO]\n    [INFO] project3 EJB module ................................. FAILURE [8.361s]\n    [INFO] project3 Web module ................................. SKIPPED\n    [INFO] ------------------------------------------------------------------------\n    [INFO] BUILD FAILURE\n    [INFO] ------------------------------------------------------------------------\n    [INFO] Total time: 9.063s\n    [INFO] Finished at: Fri Jan 29 12:02:09 CET 2016\n    [INFO] Final Memory: 14M/225M\n    [INFO] ------------------------------------------------------------------------\n    [ERROR] Failed to execute goal on project project3-ejb: Could not resolve dependencies for project xyz.redacted:project3-ejb:ejb:1.0-SNAPSHOT: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/) -&gt; [Help 1]\n    org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project project3-ejb: Could not resolve dependencies for project xyz.redacted:project3-ejb:ejb:1.0-SNAPSHOT: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/)\n            at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies(LifecycleDependencyResolver.java:210)\n            at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies(LifecycleDependencyResolver.java:117)\n            at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved(MojoExecutor.java:258)\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:201)\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n            at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n            at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n            at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n            at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n            at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n            at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n            at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n            at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n            at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n            at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n            at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n            at java.lang.reflect.Method.invoke(Method.java:497)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n            at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\n    Caused by: org.apache.maven.project.DependencyResolutionException: Could not resolve dependencies for project xyz.redacted:project3-ejb:ejb:1.0-SNAPSHOT: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/)\n            at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve(DefaultProjectDependenciesResolver.java:189)\n            at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies(LifecycleDependencyResolver.java:185)\n            ... 22 more\n    Caused by: org.sonatype.aether.resolution.DependencyResolutionException: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/)\n            at org.sonatype.aether.impl.internal.DefaultRepositorySystem.resolveDependencies(DefaultRepositorySystem.java:375)\n            at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve(DefaultProjectDependenciesResolver.java:183)\n            ... 23 more\n    Caused by: org.sonatype.aether.resolution.ArtifactResolutionException: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/)\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:538)\n            at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:216)\n            at org.sonatype.aether.impl.internal.DefaultRepositorySystem.resolveDependencies(DefaultRepositorySystem.java:358)\n            ... 24 more\n    Caused by: org.sonatype.aether.transfer.ArtifactNotFoundException: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/)\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:947)\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:941)\n            at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:669)\n            at org.sonatype.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:60)\n            at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n            at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n            at java.lang.Thread.run(Thread.java:745)\n    [ERROR]\n    [ERROR] Re-run Maven using the -X switch to enable full debug logging.\n    [ERROR]\n    [ERROR] For more information about the errors and possible solutions, please read the following articles:\n    [ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException","title":"Maven resolution for existing artifact fails","body":"<p>I have a dependency on</p>\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.jboss&lt;/groupId&gt;\n  &lt;artifactId&gt;jboss-serialization&lt;/artifactId&gt;\n  &lt;version&gt;1.0.4.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>(\nVersion string was wrong and I posted the right one here. I've updated the post with the <em>wrong</em> version and I'm adding an answer with an explanation.)</p>\n<p>Here is a link with infos about the artifact:\n<a href=\"https://mvnrepository.com/artifact/org.jboss/jboss-serialization/1.0.4.FINAL\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/org.jboss/jboss-serialization/1.0.4.FINAL</a></p>\n<p>I have the repository set-up in Archiva, but when the resolution failed, I added the repo to the pom for testing purposes:</p>\n<pre><code>  &lt;repository&gt;\n    &lt;id&gt;jboss-releases&lt;/id&gt;\n    &lt;url&gt;https://repository.jboss.org/nexus/content/repositories/releases/&lt;/url&gt;\n  &lt;/repository&gt;\n</code></pre>\n<p>Still I get an error &quot;Could not resolve dependency...&quot;. AFAIK I have downloaded other artifacts from this repo and I can download the jar/pom with my browser. What gives??</p>\n<p>Stack Trace:</p>\n<pre><code>[INFO] ------------------------------------------------------------------------\n[INFO] Building project3 EJB module 1.0-SNAPSHOT\n[INFO] ------------------------------------------------------------------------\nDownloading: http://repository.jboss.org/nexus/content/repositories/releases/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.pom\nDownloading: http://svn.redacted.xyz:8080/repository/internal/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.pom\nDownloading: http://repo.maven.apache.org/maven2/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.pom\n[WARNING] The POM for org.jboss:jboss-serialization:jar:1.0.4.Final is missing, no dependency information available\nDownloading: http://repository.jboss.org/nexus/content/repositories/releases/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.jar\nDownloading: http://svn.redacted.xyz:8080/repository/internal/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.jar\nDownloading: http://repo.maven.apache.org/maven2/org/jboss/jboss-serialization/1.0.4.Final/jboss-serialization-1.0.4.Final.jar\n[INFO] ------------------------------------------------------------------------\n[INFO] Reactor Summary:\n[INFO]\n[INFO] project3 EJB module ................................. FAILURE [8.361s]\n[INFO] project3 Web module ................................. SKIPPED\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n[INFO] ------------------------------------------------------------------------\n[INFO] Total time: 9.063s\n[INFO] Finished at: Fri Jan 29 12:02:09 CET 2016\n[INFO] Final Memory: 14M/225M\n[INFO] ------------------------------------------------------------------------\n[ERROR] Failed to execute goal on project project3-ejb: Could not resolve dependencies for project xyz.redacted:project3-ejb:ejb:1.0-SNAPSHOT: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/) -&gt; [Help 1]\norg.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal on project project3-ejb: Could not resolve dependencies for project xyz.redacted:project3-ejb:ejb:1.0-SNAPSHOT: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/)\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies(LifecycleDependencyResolver.java:210)\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.resolveProjectDependencies(LifecycleDependencyResolver.java:117)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.ensureDependenciesAreResolved(MojoExecutor.java:258)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:201)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)\n        at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)\n        at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)\n        at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)\n        at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)\n        at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)\n        at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)\n        at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)\n        at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)\n        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.lang.reflect.Method.invoke(Method.java:497)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)\n        at org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)\nCaused by: org.apache.maven.project.DependencyResolutionException: Could not resolve dependencies for project xyz.redacted:project3-ejb:ejb:1.0-SNAPSHOT: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/)\n        at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve(DefaultProjectDependenciesResolver.java:189)\n        at org.apache.maven.lifecycle.internal.LifecycleDependencyResolver.getDependencies(LifecycleDependencyResolver.java:185)\n        ... 22 more\nCaused by: org.sonatype.aether.resolution.DependencyResolutionException: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/)\n        at org.sonatype.aether.impl.internal.DefaultRepositorySystem.resolveDependencies(DefaultRepositorySystem.java:375)\n        at org.apache.maven.project.DefaultProjectDependenciesResolver.resolve(DefaultProjectDependenciesResolver.java:183)\n        ... 23 more\nCaused by: org.sonatype.aether.resolution.ArtifactResolutionException: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/)\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolve(DefaultArtifactResolver.java:538)\n        at org.sonatype.aether.impl.internal.DefaultArtifactResolver.resolveArtifacts(DefaultArtifactResolver.java:216)\n        at org.sonatype.aether.impl.internal.DefaultRepositorySystem.resolveDependencies(DefaultRepositorySystem.java:358)\n        ... 24 more\nCaused by: org.sonatype.aether.transfer.ArtifactNotFoundException: Could not find artifact org.jboss:jboss-serialization:jar:1.0.4.Final in jboss-releases (http://repository.jboss.org/nexus/content/repositories/releases/)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:947)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$4.wrap(WagonRepositoryConnector.java:941)\n        at org.sonatype.aether.connector.wagon.WagonRepositoryConnector$GetTask.run(WagonRepositoryConnector.java:669)\n        at org.sonatype.aether.util.concurrency.RunnableErrorForwarder$1.run(RunnableErrorForwarder.java:60)\n        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)\n        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)\n        at java.lang.Thread.run(Thread.java:745)\n[ERROR]\n[ERROR] Re-run Maven using the -X switch to enable full debug logging.\n[ERROR]\n[ERROR] For more information about the errors and possible solutions, please read the following articles:\n[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/DependencyResolutionException\n</code></pre>\n"},{"tags":["java","maven","repository","exchangewebservices","ewsjavaapi"],"answers":[{"tags":[],"owner":{"account_id":1080426,"reputation":71,"user_id":2931413,"display_name":"rangoy"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1383038573,"creation_date":1383038573,"answer_id":19654143,"question_id":19566425,"body_markdown":"I&#39;ve not found any maven repository with the newest version. What I&#39;ve done is to install it to the local repository. \r\n\r\n&lt;pre&gt;\r\nmvn install:install-file -Dfile=EWSJavaAPI_1.2.jar  -DgroupId=com.microsoft.ewsjavaapi -DartifactId=exchange-ws-api -Dversion=1.2.0 -Dpackaging=jar\r\n&lt;/pre&gt;\r\n\r\nYou may also use maven deploy:deploy-file to add it to a remote repo you have access to;\r\n\r\nSee http://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html\r\n\r\n","title":"Maven Ropository for EWSJavaAPI_1.2.jar","body":"<p>I've not found any maven repository with the newest version. What I've done is to install it to the local repository. </p>\n\n<pre>\nmvn install:install-file -Dfile=EWSJavaAPI_1.2.jar  -DgroupId=com.microsoft.ewsjavaapi -DartifactId=exchange-ws-api -Dversion=1.2.0 -Dpackaging=jar\n</pre>\n\n<p>You may also use maven deploy:deploy-file to add it to a remote repo you have access to;</p>\n\n<p>See <a href=\"http://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html\">http://maven.apache.org/guides/mini/guide-3rd-party-jars-remote.html</a></p>\n"},{"tags":[],"owner":{"account_id":2384913,"reputation":3465,"user_id":2086086,"accept_rate":80,"display_name":"klange"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1424778384,"creation_date":1424778384,"answer_id":28694980,"question_id":19566425,"body_markdown":"Since the EWS-Java-API went [open source][1] it&#39;s newest version is now also available in the following maven repository:\r\n\r\nhttps://oss.sonatype.org/content/repositories/snapshots/com/microsoft/ews-java-api/ews-java-api/2.0-SNAPSHOT/\r\n\r\n\r\n  [1]: https://github.com/OfficeDev/ews-java-api","title":"Maven Ropository for EWSJavaAPI_1.2.jar","body":"<p>Since the EWS-Java-API went <a href=\"https://github.com/OfficeDev/ews-java-api\" rel=\"nofollow\">open source</a> it's newest version is now also available in the following maven repository:</p>\n\n<p><a href=\"https://oss.sonatype.org/content/repositories/snapshots/com/microsoft/ews-java-api/ews-java-api/2.0-SNAPSHOT/\" rel=\"nofollow\">https://oss.sonatype.org/content/repositories/snapshots/com/microsoft/ews-java-api/ews-java-api/2.0-SNAPSHOT/</a></p>\n"},{"tags":[],"owner":{"account_id":307668,"reputation":2161,"user_id":619097,"accept_rate":57,"display_name":"Rams"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1635890275,"creation_date":1433401017,"answer_id":30636999,"question_id":19566425,"body_markdown":"Current version of ews Java api is 2.0 \n\nFollowing is maven information, you can add in your project\n\n    &lt;dependency&gt;\n\t\t\t&lt;groupId&gt;com.microsoft.ews-java-api&lt;/groupId&gt;\n    \t\t&lt;artifactId&gt;ews-java-api&lt;/artifactId&gt;\n    \t\t&lt;version&gt;2.0&lt;/version&gt;\n\t&lt;/dependency&gt;\n\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;oss-sonatype&lt;/id&gt;\n            &lt;name&gt;oss-sonatype&lt;/name&gt;\n            &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots/&lt;/url&gt;\n            &lt;snapshots&gt;\n                &lt;enabled&gt;true&lt;/enabled&gt;\n            &lt;/snapshots&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n Last year they have released stable version. For more details please visit https://github.com/OfficeDev/ews-java-api/","title":"Maven Ropository for EWSJavaAPI_1.2.jar","body":"<p>Current version of ews Java api is 2.0</p>\n<p>Following is maven information, you can add in your project</p>\n<pre><code>&lt;dependency&gt;\n        &lt;groupId&gt;com.microsoft.ews-java-api&lt;/groupId&gt;\n        &lt;artifactId&gt;ews-java-api&lt;/artifactId&gt;\n        &lt;version&gt;2.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n&lt;repositories&gt;\n    &lt;repository&gt;\n        &lt;id&gt;oss-sonatype&lt;/id&gt;\n        &lt;name&gt;oss-sonatype&lt;/name&gt;\n        &lt;url&gt;https://oss.sonatype.org/content/repositories/snapshots/&lt;/url&gt;\n        &lt;snapshots&gt;\n            &lt;enabled&gt;true&lt;/enabled&gt;\n        &lt;/snapshots&gt;\n    &lt;/repository&gt;\n&lt;/repositories&gt;\n</code></pre>\n<p>Last year they have released stable version. For more details please visit <a href=\"https://github.com/OfficeDev/ews-java-api/\" rel=\"nofollow noreferrer\">https://github.com/OfficeDev/ews-java-api/</a></p>\n"},{"tags":[],"owner":{"account_id":1183661,"reputation":633,"user_id":1158046,"accept_rate":100,"display_name":"ccDict"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1442350493,"creation_date":1442350493,"answer_id":32595446,"question_id":19566425,"body_markdown":"Stable Version of ews-java-api 2.0 has been released:\r\n[Sonatype](https://oss.sonatype.org/#nexus-search;gav~com.microsoft.ews-java-api~ews-java-api~2.0~~)\r\n\r\n---\r\n[JavaDocs 2.0](http://officedev.github.io/ews-java-api/docs/releases/api-2.0/apidocs/index.html)","title":"Maven Ropository for EWSJavaAPI_1.2.jar","body":"<p>Stable Version of ews-java-api 2.0 has been released:\n<a href=\"https://oss.sonatype.org/#nexus-search;gav~com.microsoft.ews-java-api~ews-java-api~2.0~~\" rel=\"nofollow\">Sonatype</a></p>\n\n<hr>\n\n<p><a href=\"http://officedev.github.io/ews-java-api/docs/releases/api-2.0/apidocs/index.html\" rel=\"nofollow\">JavaDocs 2.0</a></p>\n"}],"owner":{"account_id":2384913,"reputation":3465,"user_id":2086086,"accept_rate":80,"display_name":"klange"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8913,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":28694980,"answer_count":4,"score":5,"last_activity_date":1635890275,"creation_date":1382618972,"question_id":19566425,"body_markdown":"I work on a project where I use the EWS Java Api to connect to an MS Exchange Server.  \nTo resolve my dependencies I use Maven.  \n\nMy Problem is that I have to connect to an Exchange Server 2010 SP2 which requires the EWSJavaAPI_1.2.jar but I only found one repository (https://mvnrepository.com/artifact/com.microsoft.ewsjavaapi/exchange-ws-api) that contains this EWS Java API.\n\nThe problem is that this repository doesn&#39;t have the right version.\n\nThe newest Version can be download here: http://archive.msdn.microsoft.com/ewsjavaapi/Release/ProjectReleases.aspx?ReleaseId=5754\n\nBut I would like to add this dependency via Maven.\n\nCan you offer me an repository that contains the right version?","title":"Maven Ropository for EWSJavaAPI_1.2.jar","body":"<p>I work on a project where I use the EWS Java Api to connect to an MS Exchange Server.<br />\nTo resolve my dependencies I use Maven.</p>\n<p>My Problem is that I have to connect to an Exchange Server 2010 SP2 which requires the EWSJavaAPI_1.2.jar but I only found one repository (<a href=\"https://mvnrepository.com/artifact/com.microsoft.ewsjavaapi/exchange-ws-api\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.microsoft.ewsjavaapi/exchange-ws-api</a>) that contains this EWS Java API.</p>\n<p>The problem is that this repository doesn't have the right version.</p>\n<p>The newest Version can be download here: <a href=\"http://archive.msdn.microsoft.com/ewsjavaapi/Release/ProjectReleases.aspx?ReleaseId=5754\" rel=\"nofollow noreferrer\">http://archive.msdn.microsoft.com/ewsjavaapi/Release/ProjectReleases.aspx?ReleaseId=5754</a></p>\n<p>But I would like to add this dependency via Maven.</p>\n<p>Can you offer me an repository that contains the right version?</p>\n"},{"tags":["java","maven","intellij-idea","maven-archetype","archetypes"],"owner":{"account_id":2779719,"reputation":379,"user_id":2392473,"accept_rate":50,"display_name":"GHOST-34"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1631,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1635890182,"creation_date":1457493846,"question_id":35882297,"body_markdown":"This is driving me nuts. I created a spring boot project using Maven a week ago and when I went to create another today the archetype was not listed. I tried using the &quot;Add Archetype&quot; option, but when I enter the info I get an error telling me that the archetype doesn&#39;t exist:\n\n    Failed to execute goal org.apache.maven.plugins:maven-archetype-\n    plugin:2.4:generate (default-cli) on project standalone-pom: The desired \n    archetype does not exist (org.springframework.boot:spring-boot-starter-\n    parent:1.3.3.RELEASE) -&gt; [Help 1]\n\nTo be clear I entered this information when adding the archetype:\n\n    GroupID: org.springframework.boot\n    ArtifactId: spring-boot-starter-parent\n    Version: 1.3.3.RELEASE\n\nFound here: [Link][1]\nThis also leaves a broken archetype the library now too.\n\nAdditionally, I tried creating an empty project and generating the archetype using the command:\n\n    mvn archetype:generate\n\nUnfortunately, I couldn&#39;t find &#39;spring-boot-starter-parent&#39; so I used &#39;spring-boot-blank-archetype&#39; instead. It executes successfully, but nothing happens in IntelliJ; it remains completely blank. However, if I access the file through the file system on my computer I see that the a correct file structure exists: pom, iml, demo app and all.\n\nI tried rebuilding the project in Intellij I receive this error:\n\n    Error:Failed to load project configuration: cannot read file /path/to\n    /directory/.idea/modules.xml: \n    /path/to/directory/.idea/modules.xml:  (No such file or directory)\n\nNot sure what this means and couldn&#39;t find anything useful online.\n\nMy questions:\n1) How do I add an archetype in maven correctly? (or what am I missing?)\n2) What does that error mean and can it be fixed?\n\nExtras:\n- Running Ubuntu\n- Running IntelliJ 15.0.4\n- Running JDK 8\n- Favorite color is yellow (but more on the golden side)\n\n\n  [1]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent/1.3.3.RELEASE","title":"Adding Maven archetype in Intellij failing (does not exist)","body":"<p>This is driving me nuts. I created a spring boot project using Maven a week ago and when I went to create another today the archetype was not listed. I tried using the &quot;Add Archetype&quot; option, but when I enter the info I get an error telling me that the archetype doesn't exist:</p>\n<pre><code>Failed to execute goal org.apache.maven.plugins:maven-archetype-\nplugin:2.4:generate (default-cli) on project standalone-pom: The desired \narchetype does not exist (org.springframework.boot:spring-boot-starter-\nparent:1.3.3.RELEASE) -&gt; [Help 1]\n</code></pre>\n<p>To be clear I entered this information when adding the archetype:</p>\n<pre><code>GroupID: org.springframework.boot\nArtifactId: spring-boot-starter-parent\nVersion: 1.3.3.RELEASE\n</code></pre>\n<p>Found here: <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-parent/1.3.3.RELEASE\" rel=\"nofollow noreferrer\">Link</a>\nThis also leaves a broken archetype the library now too.</p>\n<p>Additionally, I tried creating an empty project and generating the archetype using the command:</p>\n<pre><code>mvn archetype:generate\n</code></pre>\n<p>Unfortunately, I couldn't find 'spring-boot-starter-parent' so I used 'spring-boot-blank-archetype' instead. It executes successfully, but nothing happens in IntelliJ; it remains completely blank. However, if I access the file through the file system on my computer I see that the a correct file structure exists: pom, iml, demo app and all.</p>\n<p>I tried rebuilding the project in Intellij I receive this error:</p>\n<pre><code>Error:Failed to load project configuration: cannot read file /path/to\n/directory/.idea/modules.xml: \n/path/to/directory/.idea/modules.xml:  (No such file or directory)\n</code></pre>\n<p>Not sure what this means and couldn't find anything useful online.</p>\n<p>My questions:</p>\n<ol>\n<li>How do I add an archetype in maven correctly? (or what am I missing?)</li>\n<li>What does that error mean and can it be fixed?</li>\n</ol>\n<p>Extras:</p>\n<ul>\n<li>Running Ubuntu</li>\n<li>Running IntelliJ 15.0.4</li>\n<li>Running JDK 8</li>\n<li>Favorite color is yellow (but more on the golden side)</li>\n</ul>\n"},{"tags":["java","maven","gradle","build","uber-api"],"answers":[{"tags":[],"owner":{"account_id":5987352,"reputation":91,"user_id":4704513,"display_name":"Adam Rogal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635890177,"creation_date":1462804405,"answer_id":37118473,"question_id":37117927,"body_markdown":"You shouldn&#39;t need to fork the repo, build it, or install the pom locally to get the latest chnages. Just referencing the artifact from maven central (ie https://mvnrepository.com/artifact/com.uber.sdk/rides/0.2.0) should work.","title":"How to build the updated Uber Java SDK? Assistance with gradle build required","body":"<p>You shouldn't need to fork the repo, build it, or install the pom locally to get the latest chnages. Just referencing the artifact from maven central (ie <a href=\"https://mvnrepository.com/artifact/com.uber.sdk/rides/0.2.0\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.uber.sdk/rides/0.2.0</a>) should work.</p>\n"}],"owner":{"account_id":1551534,"reputation":1281,"user_id":1443801,"accept_rate":60,"display_name":"Paagalpan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1635890177,"creation_date":1462802927,"question_id":37117927,"body_markdown":"I have been using maven for project management and have no idea on running gradle. This is the Uber Java sdk which uses Gradle for build purposes.\nhttps://github.com/uber/rides-java-sdk\n\nUntil now I had been using the SDK by adding the following artifact to my pom.xml file:\n\n    &lt;dependency&gt;\n    \t&lt;groupId&gt;com.uber.sdk&lt;/groupId&gt;\n    \t&lt;artifactId&gt;rides&lt;/artifactId&gt;\n    \t&lt;version&gt;0.2.0&lt;/version&gt;\n    &lt;/dependency&gt;\n\n\nThe last version which was officially released was 0.2.0. Since then, support for getting ride receipts has been added which can be seen in the source code. I need to fetch ride receipts and hence require the latest changes.\n\nIt seems the build.gradle file has a line &quot;apply plugin: &#39;maven&#39;&quot; which should add the project to my local maven repo. However, when I run \ngradle install, I get the following error:\n\n&gt; Failed to notify task execution listener.\n&gt; &gt; Changelog must be updated with v{0.2.1} before release. Please check /home/user/projects/rides-java-sdk-master/CHANGELOG.md\n\nHow do I rectify this error and get the latest build in my local maven repo?\n\n\n\nAfter I changed the CHANGELOG.md file to begin with V0.2.1, I get the following error:\n\nFAILURE: Build failed with an exception.\n\n&gt; * What went wrong: Execution failed for task &#39;:install&#39;.\n&gt;\n&gt;  Could not publish configuration &#39;archives&#39;\n&gt;\n&gt;  Cannot publish artifact &#39;rides-java-sdk-master.zip (com.uber.sdk:rides-java-sdk-master:0.2.1)&#39;\n&gt; (/home/nikhar/projects/rides-java-sdk-master/build/distributions/rides-java-sdk-master-0.2.1.zip)\n&gt; as it does not exist.\n","title":"How to build the updated Uber Java SDK? Assistance with gradle build required","body":"<p>I have been using maven for project management and have no idea on running gradle. This is the Uber Java sdk which uses Gradle for build purposes.\n<a href=\"https://github.com/uber/rides-java-sdk\" rel=\"nofollow noreferrer\">https://github.com/uber/rides-java-sdk</a></p>\n<p>Until now I had been using the SDK by adding the following artifact to my pom.xml file:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.uber.sdk&lt;/groupId&gt;\n    &lt;artifactId&gt;rides&lt;/artifactId&gt;\n    &lt;version&gt;0.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The last version which was officially released was 0.2.0. Since then, support for getting ride receipts has been added which can be seen in the source code. I need to fetch ride receipts and hence require the latest changes.</p>\n<p>It seems the build.gradle file has a line &quot;apply plugin: 'maven'&quot; which should add the project to my local maven repo. However, when I run\ngradle install, I get the following error:</p>\n<blockquote>\n<p>Failed to notify task execution listener.</p>\n<blockquote>\n<p>Changelog must be updated with v{0.2.1} before release. Please check /home/user/projects/rides-java-sdk-master/CHANGELOG.md</p>\n</blockquote>\n</blockquote>\n<p>How do I rectify this error and get the latest build in my local maven repo?</p>\n<p>After I changed the CHANGELOG.md file to begin with V0.2.1, I get the following error:</p>\n<p>FAILURE: Build failed with an exception.</p>\n<blockquote>\n<ul>\n<li>What went wrong: Execution failed for task ':install'.</li>\n</ul>\n<p>Could not publish configuration 'archives'</p>\n<p>Cannot publish artifact 'rides-java-sdk-master.zip (com.uber.sdk:rides-java-sdk-master:0.2.1)'\n(/home/nikhar/projects/rides-java-sdk-master/build/distributions/rides-java-sdk-master-0.2.1.zip)\nas it does not exist.</p>\n</blockquote>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8104,"page":1888,"page_size":100}
