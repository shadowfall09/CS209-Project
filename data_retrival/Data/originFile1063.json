{"items":[{"tags":["java","access-modifiers"],"comments":[{"owner":{"account_id":26232307,"reputation":23,"user_id":19908013,"display_name":"dog bytes"},"score":0,"creation_date":1662181115,"post_id":73589165,"comment_id":129951610,"body_markdown":"Thank you so much, I&#39;ve understood it now. If only I can mark everyone&#39;s as &quot;resolved&quot;","body":"Thank you so much, I&#39;ve understood it now. If only I can mark everyone&#39;s as &quot;resolved&quot;"}],"answers":[{"tags":[],"owner":{"account_id":10467026,"reputation":534,"user_id":7716142,"display_name":"minh tri Vo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662172538,"creation_date":1662172538,"answer_id":73589272,"question_id":73589165,"body_markdown":"There is only one instance of static fields for each class.\r\n\r\nIn this case there is one instance of `a`. So when you create the `tet2` instance `Tet tet2 = new Tet(4, 5);`, you just set its value to 4.","title":"Struggling to understand the effects of access modifiers and the keyword &quot;static&quot;","body":"<p>There is only one instance of static fields for each class.</p>\n<p>In this case there is one instance of <code>a</code>. So when you create the <code>tet2</code> instance <code>Tet tet2 = new Tet(4, 5);</code>, you just set its value to 4.</p>\n"},{"tags":[],"owner":{"account_id":20313653,"reputation":848,"user_id":14900042,"display_name":"user-id-14900042"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662173908,"creation_date":1662173908,"answer_id":73589336,"question_id":73589165,"body_markdown":"1. All Java&#39;s variables must be known at compile time unlike Python, in either way:\r\n    1. declare local variable (in this case, declare `int a` in your `main`)\r\n    2. qualify variable (in this case, change to `Tet.a`)\r\n    3. (`import` variable, but it&#39;s a bit longer and redundant this case)\r\n2. You&#39;re touching `static` area - an special storage. `static` variables are **shared** across all class instances. So:\r\n\r\n```java\r\npublic static void main(String[] args){\r\n    Tet tet1 = new Tet(2, 5); // set Tet&#39;s `a` to 2\r\n    // update `a` to 4.\r\n    // `a` is shared across `tet1` and `tet2`!\r\n    Tet tet2 = new Tet(4, 5);\r\n    // Watch out, `Tet`&#39;s `a` is shared! It&#39;ll output 4\r\n    System.out.println(tet1.a); \r\n    System.out.println(tet1.a);\r\n    tet1.get(); // `get`, but updates `a` to 5\r\n    System.out.println(tet1.a); // This will be 5 as well\r\n}\r\n```\r\n\r\n----\r\n\r\nIf this answer resolves your question, consider mark this as &quot;resolved&quot; :)","title":"Struggling to understand the effects of access modifiers and the keyword &quot;static&quot;","body":"<ol>\n<li>All Java's variables must be known at compile time unlike Python, in either way:\n<ol>\n<li>declare local variable (in this case, declare <code>int a</code> in your <code>main</code>)</li>\n<li>qualify variable (in this case, change to <code>Tet.a</code>)</li>\n<li>(<code>import</code> variable, but it's a bit longer and redundant this case)</li>\n</ol>\n</li>\n<li>You're touching <code>static</code> area - an special storage. <code>static</code> variables are <strong>shared</strong> across all class instances. So:</li>\n</ol>\n<pre class=\"lang-java prettyprint-override\"><code>public static void main(String[] args){\n    Tet tet1 = new Tet(2, 5); // set Tet's `a` to 2\n    // update `a` to 4.\n    // `a` is shared across `tet1` and `tet2`!\n    Tet tet2 = new Tet(4, 5);\n    // Watch out, `Tet`'s `a` is shared! It'll output 4\n    System.out.println(tet1.a); \n    System.out.println(tet1.a);\n    tet1.get(); // `get`, but updates `a` to 5\n    System.out.println(tet1.a); // This will be 5 as well\n}\n</code></pre>\n<hr />\n<p>If this answer resolves your question, consider mark this as &quot;resolved&quot; :)</p>\n"},{"tags":[],"owner":{"account_id":8490654,"reputation":593,"user_id":6367109,"display_name":"Rahul"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662193242,"creation_date":1662176247,"answer_id":73589445,"question_id":73589165,"body_markdown":"I can see how these things can be confusing, so no need to apologise.\r\n\r\nFirstly, with static members, you shouldn&#39;t be using the `this` keyword as a static member belongs to a class itself and not an instance, i.e. objects of that class. Or put in a [clearer way][1]:\r\n\r\n&gt; In the Java programming language, the keyword static means that the\r\n&gt; particular member belongs to a type itself, rather than to an instance\r\n&gt; of that type.\r\n&gt; \r\n&gt; This means we&#39;ll create only one instance of that static member that\r\n&gt; is shared across all instances of the class.\r\n\r\nSo change your constructor:\r\n```\r\npublic Tet(double a, double b){\r\n    Tet.a =a;\r\n    this.b=b;\r\n}\r\n```\r\nYou can even change the client code.\r\n\r\nFurthermore, I would also recommend you watch this high-level video on Java memory management: [https://youtu.be/4yKxJjYXZ0A][2] or read [this article by Oracle][3].\r\n\r\nAccess modifiers are more of a general concept in Java and aren&#39;t pertinent to a discussion around static members. Basically, it pertains to the visibility of a member, e.g. classes, variables, etc. Please read this [article][4] on the matter.\r\n\r\nTo answer your question, the &quot;number 4&quot; comes from `Tet tet2 = new Tet(4, 5);` because through the constructor, you&#39;re still updating the *value* of the static variable despite not creating a new object of it; it&#39;ll still have the same *memory address*, but its *value* can change as they aren&#39;t the same. And you change it again to &quot;5&quot; by invoking the `get();` method.\r\n\r\nI hope this clarifies a few things, and let me know if I&#39;ve made any mistakes in this answer.\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-static\r\n  [2]: https://youtu.be/4yKxJjYXZ0A\r\n  [3]: https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/garbage_collect.html\r\n  [4]: https://www.programiz.com/java-programming/access-modifiers","title":"Struggling to understand the effects of access modifiers and the keyword &quot;static&quot;","body":"<p>I can see how these things can be confusing, so no need to apologise.</p>\n<p>Firstly, with static members, you shouldn't be using the <code>this</code> keyword as a static member belongs to a class itself and not an instance, i.e. objects of that class. Or put in a <a href=\"https://www.baeldung.com/java-static\" rel=\"nofollow noreferrer\">clearer way</a>:</p>\n<blockquote>\n<p>In the Java programming language, the keyword static means that the\nparticular member belongs to a type itself, rather than to an instance\nof that type.</p>\n<p>This means we'll create only one instance of that static member that\nis shared across all instances of the class.</p>\n</blockquote>\n<p>So change your constructor:</p>\n<pre><code>public Tet(double a, double b){\n    Tet.a =a;\n    this.b=b;\n}\n</code></pre>\n<p>You can even change the client code.</p>\n<p>Furthermore, I would also recommend you watch this high-level video on Java memory management: <a href=\"https://youtu.be/4yKxJjYXZ0A\" rel=\"nofollow noreferrer\">https://youtu.be/4yKxJjYXZ0A</a> or read <a href=\"https://docs.oracle.com/cd/E13150_01/jrockit_jvm/jrockit/geninfo/diagnos/garbage_collect.html\" rel=\"nofollow noreferrer\">this article by Oracle</a>.</p>\n<p>Access modifiers are more of a general concept in Java and aren't pertinent to a discussion around static members. Basically, it pertains to the visibility of a member, e.g. classes, variables, etc. Please read this <a href=\"https://www.programiz.com/java-programming/access-modifiers\" rel=\"nofollow noreferrer\">article</a> on the matter.</p>\n<p>To answer your question, the &quot;number 4&quot; comes from <code>Tet tet2 = new Tet(4, 5);</code> because through the constructor, you're still updating the <em>value</em> of the static variable despite not creating a new object of it; it'll still have the same <em>memory address</em>, but its <em>value</em> can change as they aren't the same. And you change it again to &quot;5&quot; by invoking the <code>get();</code> method.</p>\n<p>I hope this clarifies a few things, and let me know if I've made any mistakes in this answer.</p>\n"},{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662176566,"creation_date":1662176566,"answer_id":73589466,"question_id":73589165,"body_markdown":"to understand the meaning of keyword called `static` please refer to [this small tutorial][1] to understand the meaning of static. so when you coded the following 2 lines :\r\n\r\n        Tet tet1 = new Tet(2, 5);\r\n        Tet tet2 = new Tet(4, 5);\r\n\r\nthis made 2 instances of the class called **Tet** but the variable called **a** is static means it&#39;s shared among the 2 instances.\r\n\r\nso when you write `Tet tet1 = new Tet(2, 5);` it made this diagram as a brief representation :\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nbut then when wrote `Tet tet2 = new Tet(4, 5);` the following diagram happened and **a** was updated with the new value as it&#39;s shared :\r\n\r\n[![enter image description here][3]][3]\r\n\r\nso both instances of **Tet** have that variable called **a** which is shared meaning if you updated **a** using any of the 2 instance , it&#39;s updated in the second instance also.\r\n\r\nalso in **C** language, making the variable `static` means that it&#39;s only one instance and also private to the file meaning you can&#39;t extern that variable to any other file\r\n\r\n  [1]: https://www.geeksforgeeks.org/static-keyword-java/\r\n  [2]: https://i.stack.imgur.com/XfCwl.png\r\n  [3]: https://i.stack.imgur.com/USHIP.png","title":"Struggling to understand the effects of access modifiers and the keyword &quot;static&quot;","body":"<p>to understand the meaning of keyword called <code>static</code> please refer to <a href=\"https://www.geeksforgeeks.org/static-keyword-java/\" rel=\"nofollow noreferrer\">this small tutorial</a> to understand the meaning of static. so when you coded the following 2 lines :</p>\n<pre><code>    Tet tet1 = new Tet(2, 5);\n    Tet tet2 = new Tet(4, 5);\n</code></pre>\n<p>this made 2 instances of the class called <strong>Tet</strong> but the variable called <strong>a</strong> is static means it's shared among the 2 instances.</p>\n<p>so when you write <code>Tet tet1 = new Tet(2, 5);</code> it made this diagram as a brief representation :</p>\n<p><a href=\"https://i.stack.imgur.com/XfCwl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XfCwl.png\" alt=\"enter image description here\" /></a></p>\n<p>but then when wrote <code>Tet tet2 = new Tet(4, 5);</code> the following diagram happened and <strong>a</strong> was updated with the new value as it's shared :</p>\n<p><a href=\"https://i.stack.imgur.com/USHIP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/USHIP.png\" alt=\"enter image description here\" /></a></p>\n<p>so both instances of <strong>Tet</strong> have that variable called <strong>a</strong> which is shared meaning if you updated <strong>a</strong> using any of the 2 instance , it's updated in the second instance also.</p>\n<p>also in <strong>C</strong> language, making the variable <code>static</code> means that it's only one instance and also private to the file meaning you can't extern that variable to any other file</p>\n"}],"owner":{"account_id":26232307,"reputation":23,"user_id":19908013,"display_name":"dog bytes"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73589336,"answer_count":4,"score":2,"last_activity_date":1662193242,"creation_date":1662170016,"question_id":73589165,"body_markdown":"I&#39;m pretty new to Java. I&#39;ve just written a small example to observe the effects of access modifiers. Maybe the code does not make much sense since I&#39;m just testing things out. \r\n\r\nThe first code snippet looks like this:\r\n\r\n```java\r\nclass Tet {\r\n\tstatic double a;\r\n\tdouble b;\r\n\tpublic Tet(double a, double b){\r\n\t\tthis.a=a;\r\n\t\tthis.b=b;\r\n\t}\r\n\t\r\n\tpublic void get(){\r\n\t\ta=5;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tTet tet1 = new Tet(2, 5);\r\n\t\tTet tet2 = new Tet(4, 5);\r\n\t\tSystem.out.println(tet1.a);\r\n\t\ta=4;\r\n\t\tSystem.out.println(tet1.a);\r\n\t\ttet1.get();\r\n\t\tSystem.out.println(tet1.a);\r\n\t\tSystem.out.println(a);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nAfter this, I made some changes to the code and compiled it again:\r\n\r\n```java\r\nclass Tet {\r\n\tstatic double a;\r\n\tdouble b;\r\n\tpublic Tet(double a, double b){\r\n\t\tthis.a=a;\r\n\t\tthis.b=b;\r\n\t}\r\n\t\r\n\tpublic static void get(){\r\n\t\ta=5;\r\n\t\t\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args){\r\n\t\tTet tet1 = new Tet(2, 5);\r\n\t\tTet tet2 = new Tet(4, 5);\r\n\t\tSystem.out.println(a);\r\n\t\tget();\r\n\t\tSystem.out.println(tet1.a);\r\n\t\tSystem.out.println(a);\r\n\t\tSystem.out.println(tet2.a);\r\n\t\t\r\n\t}\r\n}\r\n```\r\n\r\nAfter it runs, the cmd looks like this:\r\n[enter image description here][1]\r\n\r\nI really don&#39;t know where is number 4 coming from. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/rHHxa.png","title":"Struggling to understand the effects of access modifiers and the keyword &quot;static&quot;","body":"<p>I'm pretty new to Java. I've just written a small example to observe the effects of access modifiers. Maybe the code does not make much sense since I'm just testing things out.</p>\n<p>The first code snippet looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Tet {\n    static double a;\n    double b;\n    public Tet(double a, double b){\n        this.a=a;\n        this.b=b;\n    }\n    \n    public void get(){\n        a=5;\n        \n    }\n    \n    public static void main(String[] args){\n        Tet tet1 = new Tet(2, 5);\n        Tet tet2 = new Tet(4, 5);\n        System.out.println(tet1.a);\n        a=4;\n        System.out.println(tet1.a);\n        tet1.get();\n        System.out.println(tet1.a);\n        System.out.println(a);\n        \n    }\n}\n</code></pre>\n<p>After this, I made some changes to the code and compiled it again:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Tet {\n    static double a;\n    double b;\n    public Tet(double a, double b){\n        this.a=a;\n        this.b=b;\n    }\n    \n    public static void get(){\n        a=5;\n        \n    }\n    \n    public static void main(String[] args){\n        Tet tet1 = new Tet(2, 5);\n        Tet tet2 = new Tet(4, 5);\n        System.out.println(a);\n        get();\n        System.out.println(tet1.a);\n        System.out.println(a);\n        System.out.println(tet2.a);\n        \n    }\n}\n</code></pre>\n<p>After it runs, the cmd looks like this:\n<a href=\"https://i.stack.imgur.com/rHHxa.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I really don't know where is number 4 coming from.</p>\n"},{"tags":["java","arrays","for-loop"],"comments":[{"owner":{"account_id":1938802,"reputation":12091,"user_id":1745544,"accept_rate":23,"display_name":"OldProgrammer"},"score":0,"creation_date":1521158505,"post_id":49311200,"comment_id":85624249,"body_markdown":"read up on the &quot;break&quot; statement.","body":"read up on the &quot;break&quot; statement."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":1,"creation_date":1521158599,"post_id":49311200,"comment_id":85624283,"body_markdown":"I don&#39;t think even a &quot;break&quot; will help.  OP has to remember all previous duplicates, which is going to go beyond a &quot;simple loop&quot; imo.  It&#39;s doable with a Map though.","body":"I don&#39;t think even a &quot;break&quot; will help.  OP has to remember all previous duplicates, which is going to go beyond a &quot;simple loop&quot; imo.  It&#39;s doable with a Map though."},{"owner":{"account_id":1491409,"reputation":6134,"user_id":1398418,"display_name":"Oleg"},"score":0,"creation_date":1521159015,"post_id":49311200,"comment_id":85624427,"body_markdown":"Why do you think your code should do what you want? What is the specific problem you have with your code? As currently written your question asks for somebody to write code for you and doesn&#39;t belong on SO.","body":"Why do you think your code should do what you want? What is the specific problem you have with your code? As currently written your question asks for somebody to write code for you and doesn&#39;t belong on SO."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":1,"creation_date":1521159094,"post_id":49311200,"comment_id":85624454,"body_markdown":"If all you can use is a loop: when you find a value you think is a duplicate, loop through from 0 to `i-1`, checking if it contains the same value as `array[i]`. If it does, you have already printed that number, so you don&#39;t need to print it again.","body":"If all you can use is a loop: when you find a value you think is a duplicate, loop through from 0 to <code>i-1</code>, checking if it contains the same value as <code>array[i]</code>. If it does, you have already printed that number, so you don&#39;t need to print it again."},{"owner":{"account_id":5414361,"reputation":306,"user_id":4309963,"accept_rate":67,"display_name":"ozanonurtek"},"score":0,"creation_date":1521168711,"post_id":49311200,"comment_id":85626662,"body_markdown":"Possible duplicate: https://stackoverflow.com/questions/3951547/java-array-finding-duplicates","body":"Possible duplicate: <a href=\"https://stackoverflow.com/questions/3951547/java-array-finding-duplicates\" title=\"java array finding duplicates\">stackoverflow.com/questions/3951547/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":12917647,"reputation":1226,"user_id":9341311,"display_name":"Ari Singh"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1521161148,"creation_date":1521159668,"answer_id":49311378,"question_id":49311200,"body_markdown":"Sort the array. Look at the one ahead to see if it is duplicate. Also look at one behind to see if this was already counted as duplicate (except when i == 0, do not look back).\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class ArrayTest{\r\n    \r\n        public static void main(String[] args) {\r\n    \r\n            int array[] = {32,32,3,3,4,5,6,88,98,9,9,9,9,9,9,1,2,3,4,5,6,4,3,7,7,8,8,88,88};\r\n            \r\n            Arrays.sort(array);\r\n            for(int i= 0;i&lt;array.length-1;i++){\r\n                if((array[i])==(array[i+1]) &amp;&amp; (i == 0 || (array[i]) != (array[i-1]))){\r\n                    System.out.println(&quot;element occuring twice are:&quot; + array[i]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\nprints:\r\n\r\n    element occuring twice are:3\r\n    element occuring twice are:4\r\n    element occuring twice are:5\r\n    element occuring twice are:6\r\n    element occuring twice are:7\r\n    element occuring twice are:8\r\n    element occuring twice are:9\r\n    element occuring twice are:32\r\n    element occuring twice are:88","title":"Java program to find the duplicate values of an array of integer using simple loop","body":"<p>Sort the array. Look at the one ahead to see if it is duplicate. Also look at one behind to see if this was already counted as duplicate (except when i == 0, do not look back).</p>\n\n<pre><code>import java.util.Arrays;\n\npublic class ArrayTest{\n\n    public static void main(String[] args) {\n\n        int array[] = {32,32,3,3,4,5,6,88,98,9,9,9,9,9,9,1,2,3,4,5,6,4,3,7,7,8,8,88,88};\n\n        Arrays.sort(array);\n        for(int i= 0;i&lt;array.length-1;i++){\n            if((array[i])==(array[i+1]) &amp;&amp; (i == 0 || (array[i]) != (array[i-1]))){\n                System.out.println(\"element occuring twice are:\" + array[i]);\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>prints:</p>\n\n<pre><code>element occuring twice are:3\nelement occuring twice are:4\nelement occuring twice are:5\nelement occuring twice are:6\nelement occuring twice are:7\nelement occuring twice are:8\nelement occuring twice are:9\nelement occuring twice are:32\nelement occuring twice are:88\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6972156,"reputation":92,"user_id":8947137,"display_name":"Jason Cheng"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1521159728,"creation_date":1521159728,"answer_id":49311384,"question_id":49311200,"body_markdown":"Sort the array so you can get all the like values together.\r\n\r\n    public class ArrayTest{\r\n        public static void main(String[] args) {\r\n            int array[] = {32,3,3,4,5,6,88,98,9,9,9,9,9,9,1,2,3,4,5,6,4,3,7,7,8,8,88,88};\r\n            Arrays.sort(array);\r\n            for (int a = 0; a &lt; array.length-1; a++) {\r\n                boolean duplicate = false;\r\n                while (array[a+1] == array[a]) {\r\n                    a++;\r\n                    duplicate = true;\r\n                }\r\n                if (duplicate) System.out.println(&quot;Duplicate is &quot; + array[a]);\r\n            }\r\n        }\r\n    }","title":"Java program to find the duplicate values of an array of integer using simple loop","body":"<p>Sort the array so you can get all the like values together.</p>\n\n<pre><code>public class ArrayTest{\n    public static void main(String[] args) {\n        int array[] = {32,3,3,4,5,6,88,98,9,9,9,9,9,9,1,2,3,4,5,6,4,3,7,7,8,8,88,88};\n        Arrays.sort(array);\n        for (int a = 0; a &lt; array.length-1; a++) {\n            boolean duplicate = false;\n            while (array[a+1] == array[a]) {\n                a++;\n                duplicate = true;\n            }\n            if (duplicate) System.out.println(\"Duplicate is \" + array[a]);\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5443702,"reputation":513,"user_id":4330992,"accept_rate":100,"display_name":"J. Lee"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1531965016,"creation_date":1521162381,"answer_id":49311692,"question_id":49311200,"body_markdown":"I recommend using a `Map` to determine whether a value has been duplicated. \r\nValues that have occurred more than once would be considered as duplicates.\r\n\r\nP.S. For duplicates, using a `set` abstract data type would be ideal (`HashSet` would be the implementation of the ADT), since lookup times are O(1) since it uses a hashing algorithm to map values to array indexes. I am using a map here, since we already have a solution using a `set`. In essence, apart from the data structure used, the logic is almost identical.\r\n\r\nFor more information on the map data structure, click [here](https://www.quora.com/What-is-a-map-data-structure-How-does-it-store-data).\r\n\r\nInstead of writing nested loops, you can just write two for loops, resulting in a solution with linear time complexity.\r\n\r\n    public void printDuplicates(int[] array) {\r\n        Map&lt;Integer, Integer&gt; numberMap = new HashMap&lt;&gt;();\r\n        // Loop through array and mark occurring items\r\n        for (int i : array) {\r\n            // If key exists, it is a duplicate\r\n            if (numberMap.containsKey(i)) {\r\n                numberMap.put(i, numberMap.get(i) + 1);\r\n            } else {\r\n                numberMap.put(i, 1);\r\n            }\r\n        }\r\n\r\n        for (Integer key : numberMap.keySet()) {\r\n            // anything with more than one occurrence is a duplicate\r\n            if (numberMap.get(key) &gt; 1) {\r\n                System.out.println(key + &quot; is a reoccurring number that occurs &quot; + numberMap.get(key) + &quot; times&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\nAssuming that the code is added to `ArrayTest` class, you could all it like this.\r\n\r\n    public class ArrayTest {\r\n        public static void main(String[] args) {\r\n            int array[] = {32,3,3,4,5,6,88,98,9,9,9,9,9,9,1,2,3,4,5,6,4,3,7,7,8,8,88,88};\r\n            ArrayTest test = new ArrayTest();\r\n            test.printDuplicates(array);\r\n        }\r\n    }\r\n\r\nIf you want to change the code above to look for numbers that reoccur exactly twice (not more than once), you can change the following code\r\n\r\n`if (numberMap.get(key) &gt; 1)` to `if (numberMap.get(key) == 2)`\r\n\r\nNote: this solution takes O(n) memory, so if memory is an issue, Ian&#39;s solution above would be the right approach (using a nested loop). \r\n\r\n","title":"Java program to find the duplicate values of an array of integer using simple loop","body":"<p>I recommend using a <code>Map</code> to determine whether a value has been duplicated. \nValues that have occurred more than once would be considered as duplicates.</p>\n\n<p>P.S. For duplicates, using a <code>set</code> abstract data type would be ideal (<code>HashSet</code> would be the implementation of the ADT), since lookup times are O(1) since it uses a hashing algorithm to map values to array indexes. I am using a map here, since we already have a solution using a <code>set</code>. In essence, apart from the data structure used, the logic is almost identical.</p>\n\n<p>For more information on the map data structure, click <a href=\"https://www.quora.com/What-is-a-map-data-structure-How-does-it-store-data\" rel=\"nofollow noreferrer\">here</a>.</p>\n\n<p>Instead of writing nested loops, you can just write two for loops, resulting in a solution with linear time complexity.</p>\n\n<pre><code>public void printDuplicates(int[] array) {\n    Map&lt;Integer, Integer&gt; numberMap = new HashMap&lt;&gt;();\n    // Loop through array and mark occurring items\n    for (int i : array) {\n        // If key exists, it is a duplicate\n        if (numberMap.containsKey(i)) {\n            numberMap.put(i, numberMap.get(i) + 1);\n        } else {\n            numberMap.put(i, 1);\n        }\n    }\n\n    for (Integer key : numberMap.keySet()) {\n        // anything with more than one occurrence is a duplicate\n        if (numberMap.get(key) &gt; 1) {\n            System.out.println(key + \" is a reoccurring number that occurs \" + numberMap.get(key) + \" times\");\n        }\n    }\n}\n</code></pre>\n\n<p>Assuming that the code is added to <code>ArrayTest</code> class, you could all it like this.</p>\n\n<pre><code>public class ArrayTest {\n    public static void main(String[] args) {\n        int array[] = {32,3,3,4,5,6,88,98,9,9,9,9,9,9,1,2,3,4,5,6,4,3,7,7,8,8,88,88};\n        ArrayTest test = new ArrayTest();\n        test.printDuplicates(array);\n    }\n}\n</code></pre>\n\n<p>If you want to change the code above to look for numbers that reoccur exactly twice (not more than once), you can change the following code</p>\n\n<p><code>if (numberMap.get(key) &gt; 1)</code> to <code>if (numberMap.get(key) == 2)</code></p>\n\n<p>Note: this solution takes O(n) memory, so if memory is an issue, Ian's solution above would be the right approach (using a nested loop). </p>\n"},{"tags":[],"owner":{"account_id":7505413,"reputation":5686,"user_id":5702105,"display_name":"Ian Mc"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521162737,"creation_date":1521162737,"answer_id":49311742,"question_id":49311200,"body_markdown":"The problem statement is not clear, but lets assume you can&#39;t sort (otherwise the problem greatly simplifies).  Lets also assume the space complexity is constrained, and you can&#39;t keep a Map, etc, for counting the frequency.\r\n\r\nYou can use use lookbehind, but this unnecessarily increases the time complexity.\r\n\r\nI think a reasonable approach is to reserve the value -1 to indicate that an array position has been processed.  As you process the array, you update each active value with -1.  For example, if the first element is 32, then you scan the array for any value 32, and replace with -1.  The time complexity does not exceed O(n^2).\r\n\r\nThis leaves the awkcase case where -1 is an actual value.  It would be required to do a O(n) scan for -1 prior to the main code.\r\n\r\nIf the array must be preserved, then clone it prior to processing.  The O(n^2) loop is:\r\n\r\n    for (int i = 0; i &lt; array.length - 1; i++) {\r\n\t\tboolean multiple = false;\r\n\t\tfor (int j = i + 1; j &lt; array.length &amp;&amp; array[i] != -1; j++) {\r\n\t\t\tif (array[i] == array[j]) {\r\n\t\t\t\tmultiple = true;\r\n\t\t\t\tarray[j] = -1;\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (multiple)\r\n\t\t\tSystem.out.println(&quot;element occuring multiple times is:&quot; + array[i]);\r\n\t}","title":"Java program to find the duplicate values of an array of integer using simple loop","body":"<p>The problem statement is not clear, but lets assume you can't sort (otherwise the problem greatly simplifies).  Lets also assume the space complexity is constrained, and you can't keep a Map, etc, for counting the frequency.</p>\n\n<p>You can use use lookbehind, but this unnecessarily increases the time complexity.</p>\n\n<p>I think a reasonable approach is to reserve the value -1 to indicate that an array position has been processed.  As you process the array, you update each active value with -1.  For example, if the first element is 32, then you scan the array for any value 32, and replace with -1.  The time complexity does not exceed O(n^2).</p>\n\n<p>This leaves the awkcase case where -1 is an actual value.  It would be required to do a O(n) scan for -1 prior to the main code.</p>\n\n<p>If the array must be preserved, then clone it prior to processing.  The O(n^2) loop is:</p>\n\n<pre><code>for (int i = 0; i &lt; array.length - 1; i++) {\n    boolean multiple = false;\n    for (int j = i + 1; j &lt; array.length &amp;&amp; array[i] != -1; j++) {\n        if (array[i] == array[j]) {\n            multiple = true;\n            array[j] = -1;\n        }\n    }\n    if (multiple)\n        System.out.println(\"element occuring multiple times is:\" + array[i]);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9071789,"reputation":4069,"user_id":6754706,"accept_rate":38,"display_name":"RAZ_Muh_Taz"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521214967,"creation_date":1521214967,"answer_id":49324661,"question_id":49311200,"body_markdown":"What you can do, is use a data structure that only contains unique values, Set. In this case we use a HashSet to store all the duplicates. Then you check if the Set contains your value at index i, if it does not then we loop through the array to try and find a duplicate. If the Set contains that number already, we know it&#39;s been found before and we skip the second for loop.\r\n\r\n    int array[] = {32,3,3,4,5,6,88,98,9,9,9,9,9,9,1,2,3,4,5,6,4,3,7,7,8,8,88,88};\r\n    HashSet&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\r\n\tfor(int i= 0;i&lt;array.length-1;i++)\r\n    {\r\n\t\tif(!duplicates.contains(array[i]))\r\n\t\t\tfor(int j=i+1;j&lt;array.length;j++)\r\n            {\r\n\t\t\t\tif((array[i])==(array[j]) &amp;&amp; (i != j)){\r\n\t\t\t\t\tduplicates.add(array[i]);\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n    }\r\n    System.out.println(duplicates.toString());\r\n\r\nOutputs\r\n\r\n    [3, 4, 5, 6, 7, 88, 8, 9]\r\n","title":"Java program to find the duplicate values of an array of integer using simple loop","body":"<p>What you can do, is use a data structure that only contains unique values, Set. In this case we use a HashSet to store all the duplicates. Then you check if the Set contains your value at index i, if it does not then we loop through the array to try and find a duplicate. If the Set contains that number already, we know it's been found before and we skip the second for loop.</p>\n\n<pre><code>int array[] = {32,3,3,4,5,6,88,98,9,9,9,9,9,9,1,2,3,4,5,6,4,3,7,7,8,8,88,88};\nHashSet&lt;Integer&gt; duplicates = new HashSet&lt;&gt;();\nfor(int i= 0;i&lt;array.length-1;i++)\n{\n    if(!duplicates.contains(array[i]))\n        for(int j=i+1;j&lt;array.length;j++)\n        {\n            if((array[i])==(array[j]) &amp;&amp; (i != j)){\n                duplicates.add(array[i]);\n                    break;\n            }\n        }\n}\nSystem.out.println(duplicates.toString());\n</code></pre>\n\n<p>Outputs</p>\n\n<pre><code>[3, 4, 5, 6, 7, 88, 8, 9]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16105669,"reputation":131,"user_id":11625247,"display_name":"Sandeep Duve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662192332,"creation_date":1662192332,"answer_id":73590646,"question_id":49311200,"body_markdown":"        // print duplicates\r\n        StringBuilder sb = new StringBuilder();\r\n        int[] arr = {1, 2, 3, 4, 5, 6, 7, 2, 3, 4};\r\n        int l = arr.length;\r\n        for (int i = 0; i &lt; l; i++)\r\n        {\r\n            for (int j = i + 1; j &lt; l; j++)\r\n            {\r\n                if (arr[i] == arr[j])\r\n                {\r\n                    sb.append(arr[i] + &quot; &quot;);\r\n                }\r\n            }\r\n        }\r\n        System.out.println(sb);","title":"Java program to find the duplicate values of an array of integer using simple loop","body":"<pre><code>    // print duplicates\n    StringBuilder sb = new StringBuilder();\n    int[] arr = {1, 2, 3, 4, 5, 6, 7, 2, 3, 4};\n    int l = arr.length;\n    for (int i = 0; i &lt; l; i++)\n    {\n        for (int j = i + 1; j &lt; l; j++)\n        {\n            if (arr[i] == arr[j])\n            {\n                sb.append(arr[i] + &quot; &quot;);\n            }\n        }\n    }\n    System.out.println(sb);\n</code></pre>\n"}],"owner":{"display_name":"user8286771"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1330,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":6,"score":1,"last_activity_date":1662192332,"creation_date":1521158426,"question_id":49311200,"body_markdown":"    public class ArrayTest{\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \r\n    \t\tint array[] = {32,3,3,4,5,6,88,98,9,9,9,9,9,9,1,2,3,4,5,6,4,3,7,7,8,8,88,88};\r\n    \t\r\n    \t\tfor(int i= 0;i&lt;array.length-1;i++){\r\n    \t\t\tfor(int j=i+1;j&lt;array.length;j++){\r\n    \t\t\t\tif((array[i])==(array[j]) &amp;&amp; (i != j)){\r\n    \t\t\t\t\tSystem.out.println(&quot;element occuring twice are:&quot; + array[j]);\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\n  \r\n\r\n\r\nthis program work fine but when i compile it, it print the values again and again i want to print the duplicate value once for example if 9 is present 5 times in array so it print 9 once and if 5 is present 6 times or more it simply print 5...and so on....this what i want to be done. but this program not behave like that so what am i missing here.\r\n\r\nyour help would be highly appreciated.\r\nregards!","title":"Java program to find the duplicate values of an array of integer using simple loop","body":"<pre><code>public class ArrayTest{\n\n    public static void main(String[] args) {\n\n        int array[] = {32,3,3,4,5,6,88,98,9,9,9,9,9,9,1,2,3,4,5,6,4,3,7,7,8,8,88,88};\n\n        for(int i= 0;i&lt;array.length-1;i++){\n            for(int j=i+1;j&lt;array.length;j++){\n                if((array[i])==(array[j]) &amp;&amp; (i != j)){\n                    System.out.println(\"element occuring twice are:\" + array[j]);\n                }\n            }\n        }\n    }\n}\n</code></pre>\n\n<p>this program work fine but when i compile it, it print the values again and again i want to print the duplicate value once for example if 9 is present 5 times in array so it print 9 once and if 5 is present 6 times or more it simply print 5...and so on....this what i want to be done. but this program not behave like that so what am i missing here.</p>\n\n<p>your help would be highly appreciated.\nregards!</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":680,"reputation":960655,"user_id":893,"accept_rate":84,"display_name":"Greg Hewgill"},"score":2,"creation_date":1297478805,"post_id":4975978,"comment_id":5555680,"body_markdown":"Are you proposing to try to implement this? What have you tried so far? We&#39;re not going to do it for you.","body":"Are you proposing to try to implement this? What have you tried so far? We&#39;re not going to do it for you."},{"owner":{"account_id":107879,"reputation":3542,"user_id":286629,"accept_rate":91,"display_name":"SuperMan"},"score":0,"creation_date":1297478886,"post_id":4975978,"comment_id":5555685,"body_markdown":"I was asking for ideas from the community for different ways of implementing it.","body":"I was asking for ideas from the community for different ways of implementing it."},{"owner":{"account_id":3078593,"reputation":3398,"user_id":2607372,"accept_rate":87,"display_name":"vikramvi"},"score":0,"creation_date":1689008340,"post_id":4975978,"comment_id":135149350,"body_markdown":"Great question from future","body":"Great question from future"}],"answers":[{"tags":[],"owner":{"account_id":7920,"reputation":10704,"user_id":13956,"accept_rate":100,"display_name":"Mike Tunnicliffe"},"down_vote_count":0,"up_vote_count":35,"is_accepted":true,"score":35,"last_activity_date":1297479202,"creation_date":1297478897,"answer_id":4975993,"question_id":4975978,"body_markdown":"One simple way to do this is to use a regular expression:\r\n\r\n    &quot;Battle of the Vowels:Hawaii vs Gronzy&quot;.replaceAll(&quot;[aeiou]&quot;,&quot;&quot;)\r\n\r\n**Some Java Class Library API documentation:**\r\n\r\nString.replaceAll: &lt;http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)&gt;\r\n\r\nPatterns and regular expressions: &lt;http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html#sum&gt;","title":"Remove specific characters from string in Java","body":"<p>One simple way to do this is to use a regular expression:</p>\n\n<pre><code>\"Battle of the Vowels:Hawaii vs Gronzy\".replaceAll(\"[aeiou]\",\"\")\n</code></pre>\n\n<p><strong>Some Java Class Library API documentation:</strong></p>\n\n<p>String.replaceAll: <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)\">http://download.oracle.com/javase/1.5.0/docs/api/java/lang/String.html#replaceAll(java.lang.String,%20java.lang.String)</a></p>\n\n<p>Patterns and regular expressions: <a href=\"http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html#sum\">http://download.oracle.com/javase/1.5.0/docs/api/java/util/regex/Pattern.html#sum</a></p>\n"},{"tags":[],"owner":{"account_id":2497303,"reputation":21,"user_id":2173400,"display_name":"Sahil Madan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382740129,"creation_date":1382737491,"answer_id":19599910,"question_id":4975978,"body_markdown":"    public class RemoveCharacters\r\n    {\r\n        static String removeCharsFromString(String word1, String word2)\r\n        {\r\n            StringBuilder sb = new StringBuilder(word1);\r\n    \r\n            System.out.println(sb);\r\n            //char[] word2characters= word2.toCharArray();\r\n            HashMap&lt;Character, Integer&gt; table = new HashMap&lt;Character, Integer&gt;();\r\n    \r\n            for (int i = 0; i &lt; word2.length(); i++)\r\n            {\r\n                table.put(word2.charAt(i), 1);\r\n    \r\n            }\r\n    \r\n            int p = 0;\r\n            for (int i = 0; i &lt; word1.length(); i++)\r\n            {\r\n    \r\n                if (table.containsKey(word1.charAt(i)))\r\n                {\r\n                    if (p == 0)\r\n                    {\r\n                        sb.deleteCharAt(i);\r\n                        //p++;\r\n                    }\r\n                    else\r\n                    {\r\n                        sb.deleteCharAt(i - p);\r\n                    }\r\n                    //System.out.println(sb);\r\n                    p++;\r\n                }\r\n    \r\n            }\r\n    \r\n            return sb.toString();\r\n        }\r\n    \r\n        public static void main(String[] args)\r\n        {\r\n            System.out.println(&quot;Enter your string&quot;);\r\n            Scanner sc = new Scanner(System.in);\r\n            String originalword = sc.nextLine();\r\n    \r\n            System.out.println(&quot;Enter the remove string&quot;);\r\n            Scanner sc1 = new Scanner(System.in);\r\n            String removecharacters = sc1.nextLine();\r\n    \r\n            String result = removeCharsFromString(originalword, removecharacters);\r\n    \r\n            System.out.println(result);\r\n        }\r\n    }","title":"Remove specific characters from string in Java","body":"<pre><code>public class RemoveCharacters\n{\n    static String removeCharsFromString(String word1, String word2)\n    {\n        StringBuilder sb = new StringBuilder(word1);\n\n        System.out.println(sb);\n        //char[] word2characters= word2.toCharArray();\n        HashMap&lt;Character, Integer&gt; table = new HashMap&lt;Character, Integer&gt;();\n\n        for (int i = 0; i &lt; word2.length(); i++)\n        {\n            table.put(word2.charAt(i), 1);\n\n        }\n\n        int p = 0;\n        for (int i = 0; i &lt; word1.length(); i++)\n        {\n\n            if (table.containsKey(word1.charAt(i)))\n            {\n                if (p == 0)\n                {\n                    sb.deleteCharAt(i);\n                    //p++;\n                }\n                else\n                {\n                    sb.deleteCharAt(i - p);\n                }\n                //System.out.println(sb);\n                p++;\n            }\n\n        }\n\n        return sb.toString();\n    }\n\n    public static void main(String[] args)\n    {\n        System.out.println(\"Enter your string\");\n        Scanner sc = new Scanner(System.in);\n        String originalword = sc.nextLine();\n\n        System.out.println(\"Enter the remove string\");\n        Scanner sc1 = new Scanner(System.in);\n        String removecharacters = sc1.nextLine();\n\n        String result = removeCharsFromString(originalword, removecharacters);\n\n        System.out.println(result);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8346275,"reputation":41,"user_id":6269895,"display_name":"SSubra"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1461910443,"creation_date":1461907811,"answer_id":36930235,"question_id":4975978,"body_markdown":"    public class RemoveChars {\r\n    \r\n    \tchar[] replaceChar = {&#39;a&#39;,&#39;e&#39;,&#39;i&#39;,&#39;o&#39;,&#39;u&#39;};\r\n    \t\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString src = &quot;Battle of the Vowels:Hawaii vs Gronzy&quot;;\r\n    \t\tSystem.out.println(new RemoveChars().removeChar(src));\r\n    \t}\r\n    \t\r\n    \tpublic String removeChar(String src){\r\n    \t\tchar[] srcArr = src.toCharArray(); \r\n    \t\tStringBuilder sb = new StringBuilder();\r\n    \t\tfor (int i = 0; i &lt; srcArr.length; i++) {\r\n    \t\t\tchar foundChar = isFound(srcArr[i]);\r\n    \t\t\tif(foundChar!=&#39;\\0&#39;)\r\n    \t\t\tsb.append(foundChar);\t\t\t\r\n    \t\t}\r\n    \t\treturn sb.toString();\r\n    \t\t\r\n    \t} \r\n    \t\r\n    \tpublic char isFound(char src){\t\t\r\n    \t\tfor (int i = 0; i &lt; replaceChar.length; i++) {\r\n    \t\t\tif(src==replaceChar[i]){\r\n    \t\t\t\treturn &#39;\\0&#39;;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\treturn src;\r\n    \t}\r\n    }","title":"Remove specific characters from string in Java","body":"<pre><code>public class RemoveChars {\n\n    char[] replaceChar = {'a','e','i','o','u'};\n\n    public static void main(String[] args) {\n        String src = \"Battle of the Vowels:Hawaii vs Gronzy\";\n        System.out.println(new RemoveChars().removeChar(src));\n    }\n\n    public String removeChar(String src){\n        char[] srcArr = src.toCharArray(); \n        StringBuilder sb = new StringBuilder();\n        for (int i = 0; i &lt; srcArr.length; i++) {\n            char foundChar = isFound(srcArr[i]);\n            if(foundChar!='\\0')\n            sb.append(foundChar);           \n        }\n        return sb.toString();\n\n    } \n\n    public char isFound(char src){      \n        for (int i = 0; i &lt; replaceChar.length; i++) {\n            if(src==replaceChar[i]){\n                return '\\0';\n            }\n        }\n        return src;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16105669,"reputation":131,"user_id":11625247,"display_name":"Sandeep Duve"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662191581,"creation_date":1662191513,"answer_id":73590572,"question_id":4975978,"body_markdown":"    String str = &quot;sandeep&quot;;\r\n    StringBuilder sb = new StringBuilder();\r\n\r\n    System.out.println(&quot;Enter character to removed: &quot;);\r\n    String ch = new Scanner(System.in).next();\r\n    for (int i = 0; i &lt; str.length(); i++)\r\n    {\r\n        if (str.charAt(i) == ch.charAt(0))\r\n        {\r\n            continue;\r\n        }\r\n        sb.append(str.charAt(i));\r\n    }\r\n    System.out.println(sb);","title":"Remove specific characters from string in Java","body":"<pre><code>String str = &quot;sandeep&quot;;\nStringBuilder sb = new StringBuilder();\n\nSystem.out.println(&quot;Enter character to removed: &quot;);\nString ch = new Scanner(System.in).next();\nfor (int i = 0; i &lt; str.length(); i++)\n{\n    if (str.charAt(i) == ch.charAt(0))\n    {\n        continue;\n    }\n    sb.append(str.charAt(i));\n}\nSystem.out.println(sb);\n</code></pre>\n"}],"owner":{"account_id":107879,"reputation":3542,"user_id":286629,"accept_rate":91,"display_name":"SuperMan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":65875,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":4975993,"answer_count":4,"score":17,"last_activity_date":1662191581,"creation_date":1297478661,"question_id":4975978,"body_markdown":"For example, given a string of `Battle of the Vowels:Hawaii vs Gronzy` when we specify the characters to be removed as `aeiou`, the function should transform string to `Bttl f th V wls:Hw vs Grzny`.\r\n\r\nFound this question in the book [Programming Interviews Exposed][1]. This was explained in C, however I&#39;m interested in Java.\r\n\r\n\r\n  [1]: http://www.amazon.com/Programming-Interviews-Exposed-Secrets-Landing/dp/0471383562","title":"Remove specific characters from string in Java","body":"<p>For example, given a string of <code>Battle of the Vowels:Hawaii vs Gronzy</code> when we specify the characters to be removed as <code>aeiou</code>, the function should transform string to <code>Bttl f th V wls:Hw vs Grzny</code>.</p>\n\n<p>Found this question in the book <a href=\"https://rads.stackoverflow.com/amzn/click/com/0471383562\" rel=\"noreferrer\" rel=\"nofollow noreferrer\">Programming Interviews Exposed</a>. This was explained in C, however I'm interested in Java.</p>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":1119690,"reputation":15788,"user_id":1108305,"accept_rate":47,"display_name":"M. Justin"},"score":0,"creation_date":1662182522,"post_id":73589766,"comment_id":129951755,"body_markdown":"What do the import statements look like for `User`?  You&#39;re using the correct `Entity` class, I assume?","body":"What do the import statements look like for <code>User</code>?  You&#39;re using the correct <code>Entity</code> class, I assume?"},{"owner":{"account_id":12526038,"reputation":353,"user_id":9115820,"display_name":"Clark Ngo"},"score":0,"creation_date":1662185976,"post_id":73589766,"comment_id":129952127,"body_markdown":"have you tried adding the entities in `persistence.xml` file? add the following `&lt;class&gt;com.foo.demos.model.User&lt;/class&gt;`\nhttps://stackoverflow.com/questions/19632805/jpa-java-lang-illegalargumentexception-not-an-entity","body":"have you tried adding the entities in <code>persistence.xml</code> file? add the following <code>&lt;class&gt;com.foo.demos.model.User&lt;&#47;class&gt;</code> <a href=\"https://stackoverflow.com/questions/19632805/jpa-java-lang-illegalargumentexception-not-an-entity\" title=\"jpa java lang illegalargumentexception not an entity\">stackoverflow.com/questions/19632805/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":2465079,"reputation":2962,"user_id":2148365,"display_name":"Michiel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662189529,"creation_date":1662189529,"answer_id":73590379,"question_id":73589766,"body_markdown":"The entity package `com.test.user.entity` is missing in your `@EntityScan(basePackages = {&quot;com.test.entity&quot;})` annotation. Either fix the current base package or add the other base package to the annotation using \r\n\r\n```java\r\n@EntityScan(basePackages = {&quot;com.test.entity&quot;, &quot;com.test.user.entity&quot;})\r\n```\r\n\r\nWhen the entity package resides in the `@SpringBootApplication(scanBasePackages = {&quot;com.test.user&quot;})`, the entity scan annotation can be removed.","title":"Spring boot query failing with not an entity, but it works in Spring","body":"<p>The entity package <code>com.test.user.entity</code> is missing in your <code>@EntityScan(basePackages = {&quot;com.test.entity&quot;})</code> annotation. Either fix the current base package or add the other base package to the annotation using</p>\n<pre class=\"lang-java prettyprint-override\"><code>@EntityScan(basePackages = {&quot;com.test.entity&quot;, &quot;com.test.user.entity&quot;})\n</code></pre>\n<p>When the entity package resides in the <code>@SpringBootApplication(scanBasePackages = {&quot;com.test.user&quot;})</code>, the entity scan annotation can be removed.</p>\n"}],"owner":{"account_id":7208431,"reputation":391,"user_id":5503341,"accept_rate":83,"display_name":"Hardrock302"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":396,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73590379,"answer_count":1,"score":1,"last_activity_date":1662189529,"creation_date":1662181482,"question_id":73589766,"body_markdown":"I am taking a REST api that works in Spring and trying to get it working with Spring boot  2.7.3 java 11\r\nThis code works in Spring and I can make CRUD calls to the api, but I get the below error using the same entity class, db, service and dao in boot. The paths in the annotations are correct in that the files exist there. Using the bean actuator, I can see the user entity is not listed.\r\n\r\nWhen I make a call to the endpoint, java throws a not an entity error\r\n```\r\njava.lang.IllegalArgumentException: Not an entity: class com.test.user.entity.User. \r\n```\r\nI&#39;ve looked through several SO [questions][1], but nothing has worked\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/users&quot;)\r\npublic class UserRestController {\r\n\r\n\t@Autowired\r\n\tprivate UserService userService;\r\n\t\r\n\t\r\n\t@GetMapping(value=&quot;/get/&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\r\n\tpublic User getName(@RequestBody User user) {\r\n\t\t\r\n\t\tUser result = userService.getName(user);\r\n\t\t\r\n\t\treturn result;\r\n\t\t\r\n\t}\r\n```\r\n```\r\n@Service(&quot;userService&quot;)\r\npublic class UserServiceImpl implements UserService {\r\n\r\n\t@Autowired\r\n\tprivate UserDAO userDao;\r\n\tprivate JSONObject obj;\r\n\t\r\n\t@Override\r\n\t@Transactional\r\n\tpublic User getName(User user) {\r\n\r\n\t\tString email = user.getEmail();\r\n\t    User result = userDao.getUser(email);\r\n\t    if (result != null) {\r\n\t    \tUser response = new User(result.getFirstName(), result.getLastName());\r\n\t    \treturn response;\r\n\t    } else {\r\n\t    \tthrow new UserNotFoundException(&quot;User not found &quot; + email);\r\n\t    }\r\n\t}\r\n```\r\n```\r\n@Repository\r\npublic class UserDaoImpl implements UserDao{\r\n\t\r\n\t@PersistenceContext\r\n\tprivate EntityManager entityManager;\r\n\t\r\n\tprivate Logger logger = Logger.getLogger(getClass().getName());\r\n\r\n\t\r\n\t@Override\r\n\tpublic User getUser(String email) {\r\n\t\tSession session = entityManager.unwrap(Session.class);\r\n\t\ttry {\r\n\t\t\tUser user = new User();\r\n\t\t\tCriteriaBuilder criteria = session.getCriteriaBuilder();\r\n\t\t\tCriteriaQuery&lt;User&gt; cq = criteria.createQuery(User.class);\r\n\t\t\tRoot&lt;User&gt; root = cq.from(User.class);\r\n\t\t\tPredicate predicate = criteria.equal(root.get(&quot;email&quot;), email);\r\n\t\t\tQuery query = session.createQuery(cq.select(root).where(predicate));\r\n\t\t\tuser = (User)query.getSingleResult();\r\n\t\t\treturn user;\r\n\t\t} catch (Exception e){\r\n\t\t\tlogger.error(e);\r\n\t\t}\r\n\t\treturn null;\r\n\t}\r\n```\r\n```\r\n\r\n@Repository\r\npublic interface UserRepository extends CrudRepository&lt;User, String&gt;{\r\n\r\n}\r\n```\r\n```\r\n\r\n@SpringBootApplication(scanBasePackages = {&quot;com.test.user&quot;})\r\n@EntityScan(basePackages = {&quot;com.test.entity&quot;})\r\npublic class UserServiceApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(UserServiceApplication.class, args);\r\n\t}\r\n```\r\n```\r\n@Entity\r\n@Table(name=&quot;users&quot;)\r\npublic class User {\r\n\r\n\t@Id\r\n\t@GeneratedValue(strategy=GenerationType.IDENTITY)\r\n\t@Column(name = &quot;id&quot;)\r\n\tprivate int id;\r\n\r\n\t@NotNull\r\n\t@Pattern(regexp=&quot;^(\\\\+\\\\d{1,2}\\\\s)?\\\\(?\\\\d{3}\\\\)?[\\\\s.-]\\\\d{3}[\\\\s.-]\\\\d{4}$&quot;, message=&quot;Phone number must match the following: xxx-xxx-xxxx.&quot;)\r\n\t@Column(name=&quot;phone_number&quot;, unique=true)\r\n\tprivate String phoneNumber;\r\n\t\r\n\t@NotEmpty\r\n\t@Email(message=&quot;Email address is not well-formed.&quot;)\r\n\t@Column(name=&quot;email&quot;, unique=true)\r\n\tprivate String email;\r\n\t\r\n\t@NotNull\r\n\t@Column(name=&quot;first_name&quot;)\r\n\t@NotEmpty(message=&quot;First name is required.&quot;)\r\n\t@Pattern(regexp=&quot;[A-Za-z]{0,45}&quot;, message=&quot;First name must contain up tp 45 alphabetic characters.&quot;)\r\n\tprivate String firstName;\r\n\t\r\n\t@NotNull\r\n\t@NotEmpty(message=&quot;Last name is required.&quot;)\r\n\t@Pattern(regexp=&quot;[A-Za-z]{0,45}&quot;, message=&quot;Last name must contain up tp 45 alphabetic characters.&quot;)\r\n\t@Column(name=&quot;last_name&quot;)\r\n\tprivate String lastName;\r\n\r\n\tpublic User() {}\r\n\t\r\n\tpublic User(\r\n\t\t\t@NotNull @Pattern(regexp = &quot;^(\\\\+\\\\d{1,2}\\\\s)?\\\\(?\\\\d{3}\\\\)?[\\\\s.-]\\\\d{3}[\\\\s.-]\\\\d{4}$&quot;, message = &quot;Phone number must match the following: xxx-xxx-xxxx.&quot;) String phoneNumber,\r\n\t\t\t@NotEmpty @Email(message = &quot;Email address is not well-formed.&quot;) String email,\r\n\t\t\t@NotNull @NotEmpty(message = &quot;First name is required.&quot;) @Pattern(regexp = &quot;[A-Za-z]{0,45}&quot;, message = &quot;First name must contain up tp 45 alphabetic characters.&quot;) String firstName,\r\n\t\t\t@NotNull @NotEmpty(message = &quot;Last name is required.&quot;) @Pattern(regexp = &quot;[A-Za-z]{0,45}&quot;, message = &quot;Last name must contain up tp 45 alphabetic characters.&quot;) String lastName) {\r\n\t\tsuper();\r\n\t\tthis.phoneNumber = phoneNumber;\r\n\t\tthis.email = email;\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\t\r\n\tpublic User(\r\n\t\t\t@NotNull @NotEmpty(message = &quot;First name is required.&quot;) @Pattern(regexp = &quot;[A-Za-z]{0,45}&quot;, message = &quot;First name must contain up tp 45 alphabetic characters.&quot;) String firstName,\r\n\t\t\t@NotNull @NotEmpty(message = &quot;Last name is required.&quot;) @Pattern(regexp = &quot;[A-Za-z]{0,45}&quot;, message = &quot;Last name must contain up tp 45 alphabetic characters.&quot;) String lastName) {\r\n\t\tsuper();\r\n\t\tthis.firstName = firstName;\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\n\tpublic String getEmail() {\r\n\t\treturn email;\r\n\t}\r\n\r\n\tpublic void setEmail(String email) {\r\n\t\tthis.email = email;\r\n\t}\r\n\r\n\tpublic String getFirstName() {\r\n\t\treturn firstName;\r\n\t}\r\n\r\n\tpublic void setFirstName(String firstName) {\r\n\t\tthis.firstName = firstName;\r\n\t}\r\n\r\n\tpublic String getLastName() {\r\n\t\treturn lastName;\r\n\t}\r\n\r\n\tpublic void setLastName(String lastName) {\r\n\t\tthis.lastName = lastName;\r\n\t}\r\n\r\n\tpublic int getId() {\r\n\t\treturn id;\r\n\t}\r\n\r\n\tpublic void setId(int id) {\r\n\t\tthis.id = id;\r\n\t}\r\n\r\n\tpublic String getPhoneNumber() {\r\n\t\treturn phoneNumber;\r\n\t}\r\n\r\n\tpublic void setPhoneNumber(String phoneNumber) {\r\n\t\tthis.phoneNumber = phoneNumber;\r\n\t}\r\n\r\n\t@Override\r\n\tpublic String toString() {\r\n\t\treturn &quot;User [id=&quot; + id + &quot;, phoneNumber=&quot; + phoneNumber + &quot;, email=&quot; + email + &quot;, firstName=&quot; + firstName\r\n\t\t\t\t+ &quot;, lastName=&quot; + lastName + &quot;]&quot;;\r\n\t}\r\n\t\r\n\t\r\n}\r\n```\r\n  [1]: https://stackoverflow.com/questions/62746411/spring-boot-jpa-entity-class-variable-not-found","title":"Spring boot query failing with not an entity, but it works in Spring","body":"<p>I am taking a REST api that works in Spring and trying to get it working with Spring boot  2.7.3 java 11\nThis code works in Spring and I can make CRUD calls to the api, but I get the below error using the same entity class, db, service and dao in boot. The paths in the annotations are correct in that the files exist there. Using the bean actuator, I can see the user entity is not listed.</p>\n<p>When I make a call to the endpoint, java throws a not an entity error</p>\n<pre><code>java.lang.IllegalArgumentException: Not an entity: class com.test.user.entity.User. \n</code></pre>\n<p>I've looked through several SO <a href=\"https://stackoverflow.com/questions/62746411/spring-boot-jpa-entity-class-variable-not-found\">questions</a>, but nothing has worked</p>\n<pre><code>@RestController\n@RequestMapping(&quot;/users&quot;)\npublic class UserRestController {\n\n    @Autowired\n    private UserService userService;\n    \n    \n    @GetMapping(value=&quot;/get/&quot;, consumes = &quot;application/json&quot;, produces = &quot;application/json&quot;)\n    public User getName(@RequestBody User user) {\n        \n        User result = userService.getName(user);\n        \n        return result;\n        \n    }\n</code></pre>\n<pre><code>@Service(&quot;userService&quot;)\npublic class UserServiceImpl implements UserService {\n\n    @Autowired\n    private UserDAO userDao;\n    private JSONObject obj;\n    \n    @Override\n    @Transactional\n    public User getName(User user) {\n\n        String email = user.getEmail();\n        User result = userDao.getUser(email);\n        if (result != null) {\n            User response = new User(result.getFirstName(), result.getLastName());\n            return response;\n        } else {\n            throw new UserNotFoundException(&quot;User not found &quot; + email);\n        }\n    }\n</code></pre>\n<pre><code>@Repository\npublic class UserDaoImpl implements UserDao{\n    \n    @PersistenceContext\n    private EntityManager entityManager;\n    \n    private Logger logger = Logger.getLogger(getClass().getName());\n\n    \n    @Override\n    public User getUser(String email) {\n        Session session = entityManager.unwrap(Session.class);\n        try {\n            User user = new User();\n            CriteriaBuilder criteria = session.getCriteriaBuilder();\n            CriteriaQuery&lt;User&gt; cq = criteria.createQuery(User.class);\n            Root&lt;User&gt; root = cq.from(User.class);\n            Predicate predicate = criteria.equal(root.get(&quot;email&quot;), email);\n            Query query = session.createQuery(cq.select(root).where(predicate));\n            user = (User)query.getSingleResult();\n            return user;\n        } catch (Exception e){\n            logger.error(e);\n        }\n        return null;\n    }\n</code></pre>\n<pre><code>\n@Repository\npublic interface UserRepository extends CrudRepository&lt;User, String&gt;{\n\n}\n</code></pre>\n<pre><code>\n@SpringBootApplication(scanBasePackages = {&quot;com.test.user&quot;})\n@EntityScan(basePackages = {&quot;com.test.entity&quot;})\npublic class UserServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(UserServiceApplication.class, args);\n    }\n</code></pre>\n<pre><code>@Entity\n@Table(name=&quot;users&quot;)\npublic class User {\n\n    @Id\n    @GeneratedValue(strategy=GenerationType.IDENTITY)\n    @Column(name = &quot;id&quot;)\n    private int id;\n\n    @NotNull\n    @Pattern(regexp=&quot;^(\\\\+\\\\d{1,2}\\\\s)?\\\\(?\\\\d{3}\\\\)?[\\\\s.-]\\\\d{3}[\\\\s.-]\\\\d{4}$&quot;, message=&quot;Phone number must match the following: xxx-xxx-xxxx.&quot;)\n    @Column(name=&quot;phone_number&quot;, unique=true)\n    private String phoneNumber;\n    \n    @NotEmpty\n    @Email(message=&quot;Email address is not well-formed.&quot;)\n    @Column(name=&quot;email&quot;, unique=true)\n    private String email;\n    \n    @NotNull\n    @Column(name=&quot;first_name&quot;)\n    @NotEmpty(message=&quot;First name is required.&quot;)\n    @Pattern(regexp=&quot;[A-Za-z]{0,45}&quot;, message=&quot;First name must contain up tp 45 alphabetic characters.&quot;)\n    private String firstName;\n    \n    @NotNull\n    @NotEmpty(message=&quot;Last name is required.&quot;)\n    @Pattern(regexp=&quot;[A-Za-z]{0,45}&quot;, message=&quot;Last name must contain up tp 45 alphabetic characters.&quot;)\n    @Column(name=&quot;last_name&quot;)\n    private String lastName;\n\n    public User() {}\n    \n    public User(\n            @NotNull @Pattern(regexp = &quot;^(\\\\+\\\\d{1,2}\\\\s)?\\\\(?\\\\d{3}\\\\)?[\\\\s.-]\\\\d{3}[\\\\s.-]\\\\d{4}$&quot;, message = &quot;Phone number must match the following: xxx-xxx-xxxx.&quot;) String phoneNumber,\n            @NotEmpty @Email(message = &quot;Email address is not well-formed.&quot;) String email,\n            @NotNull @NotEmpty(message = &quot;First name is required.&quot;) @Pattern(regexp = &quot;[A-Za-z]{0,45}&quot;, message = &quot;First name must contain up tp 45 alphabetic characters.&quot;) String firstName,\n            @NotNull @NotEmpty(message = &quot;Last name is required.&quot;) @Pattern(regexp = &quot;[A-Za-z]{0,45}&quot;, message = &quot;Last name must contain up tp 45 alphabetic characters.&quot;) String lastName) {\n        super();\n        this.phoneNumber = phoneNumber;\n        this.email = email;\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n    \n    public User(\n            @NotNull @NotEmpty(message = &quot;First name is required.&quot;) @Pattern(regexp = &quot;[A-Za-z]{0,45}&quot;, message = &quot;First name must contain up tp 45 alphabetic characters.&quot;) String firstName,\n            @NotNull @NotEmpty(message = &quot;Last name is required.&quot;) @Pattern(regexp = &quot;[A-Za-z]{0,45}&quot;, message = &quot;Last name must contain up tp 45 alphabetic characters.&quot;) String lastName) {\n        super();\n        this.firstName = firstName;\n        this.lastName = lastName;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getFirstName() {\n        return firstName;\n    }\n\n    public void setFirstName(String firstName) {\n        this.firstName = firstName;\n    }\n\n    public String getLastName() {\n        return lastName;\n    }\n\n    public void setLastName(String lastName) {\n        this.lastName = lastName;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public String getPhoneNumber() {\n        return phoneNumber;\n    }\n\n    public void setPhoneNumber(String phoneNumber) {\n        this.phoneNumber = phoneNumber;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;User [id=&quot; + id + &quot;, phoneNumber=&quot; + phoneNumber + &quot;, email=&quot; + email + &quot;, firstName=&quot; + firstName\n                + &quot;, lastName=&quot; + lastName + &quot;]&quot;;\n    }\n    \n    \n}\n</code></pre>\n"},{"tags":["java","jdbc","instanceof","amazon-neptune"],"answers":[{"tags":[],"owner":{"account_id":17757003,"reputation":11,"user_id":12893879,"display_name":"Makar Selivanov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662188849,"creation_date":1662188849,"answer_id":73590323,"question_id":73587462,"body_markdown":"I found out what was the problem. `aws-neptune-jdbc-driver` has in `build.gradle` this line, when you gather everything in signle jar file.\r\n```\r\nrelocate &#39;org.apache.tinkerpop&#39;, &#39;shadow.org.apache.tinkerpop&#39;\r\n```\r\nBecause of it, `MessageSerializer` in driver is `shadow.org.apache.tinkerpop.gremlin.driver.MessageSerializer`, and `MessageSerializer` in my script is just `org.apache.tinkerpop.gremlin.driver.MessageSerializer` and this is indeed different classes.\r\nIf I understand correctly, only fix for this is juts remove this line from build.gradle?\r\n","title":"instanceof returns false in jdbc","body":"<p>I found out what was the problem. <code>aws-neptune-jdbc-driver</code> has in <code>build.gradle</code> this line, when you gather everything in signle jar file.</p>\n<pre><code>relocate 'org.apache.tinkerpop', 'shadow.org.apache.tinkerpop'\n</code></pre>\n<p>Because of it, <code>MessageSerializer</code> in driver is <code>shadow.org.apache.tinkerpop.gremlin.driver.MessageSerializer</code>, and <code>MessageSerializer</code> in my script is just <code>org.apache.tinkerpop.gremlin.driver.MessageSerializer</code> and this is indeed different classes.\nIf I understand correctly, only fix for this is juts remove this line from build.gradle?</p>\n"}],"owner":{"account_id":17757003,"reputation":11,"user_id":12893879,"display_name":"Makar Selivanov"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":100,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662188849,"creation_date":1662148907,"question_id":73587462,"body_markdown":"I have problem with `instanceof` in java. \r\nFor clarification, I use `aws-neptune-jdbc` drive for connection to janusgraph server.\r\n\r\nI create `GraphSONMessageSerializerV3d0` which is obviously instance of `MessageSerializer`. After that i put serializer in `Properties`. And even in properties this object in instance of `MessageSerializer`.\r\n\r\nCode for this part:\r\n```\r\nGraphSONMapper.Builder builder = GraphSONMapper.build().addRegistry(JanusGraphIoRegistry.getInstance());\r\nGraphSONMessageSerializerV3d0 serializer = new GraphSONMessageSerializerV3d0(builder);\r\nSystem.out.println(String.format(&quot;Serializer: %s&quot;, serializer));\r\nSystem.out.println(String.format(&quot;Name of serializer class: %s&quot;, serializer.getClass().getName()));\r\nSystem.out.println(String.format(&quot;Serializer is instance of MessageSerializer: %s&quot;, serializer instanceof MessageSerializer));\r\nproperties.put(&quot;serializer&quot;, serializer);\r\nSystem.out.println(String.format(&quot;Serializer in properties: %s&quot;, properties.get(&quot;serializer&quot;)));\r\nSystem.out.println(String.format(&quot;Serializer in properties is instance of MessageSerializer: %s&quot;, properties.get(&quot;serializer&quot;) instanceof MessageSerializer));\r\n```\r\nAnd output for this part:\r\n```\r\nSerializer: org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV3d0@4d49af10\r\nName of serializer class: org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV3d0\r\nSerializer is instance of MessageSerializer: true\r\nSerializer in properties: org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV3d0@4d49af10\r\nSerializer in properties is instance of MessageSerializer: true\r\n```\r\n\r\nBut in driver, I add some info in log, I can see, that something, that is in map under key `serializer`, is not a `MessageSerializer` and `GraphSONMessageSerializerV3d0`, but has class name `GraphSONMessageSerializerV3d0`\r\n\r\nMy code with logger in jdbc for this part\r\n```\r\nLOGGER.info(String.format(&quot;Creating cluster with serializer: %s&quot;, properties.get(GremlinConnectionProperties.SERIALIZER_KEY)));\r\nLOGGER.info(String.format(&quot;Serializer is null?: %s&quot;, properties.get(GremlinConnectionProperties.SERIALIZER_KEY) == null));\r\nLOGGER.info(String.format(&quot;Class of serializer is: %s&quot;, properties.get(GremlinConnectionProperties.SERIALIZER_KEY).getClass().getName()));\r\nLOGGER.info(String.format(&quot;Serializer is GraphSONMessageSerializerV3d0?: %s&quot;, properties.get(GremlinConnectionProperties.SERIALIZER_KEY) instanceof GraphSONMessageSerializerV3d0));\r\nLOGGER.info(String.format(&quot;Serializer is MessageSerializer?: %s&quot;, properties.get(GremlinConnectionProperties.SERIALIZER_KEY) instanceof MessageSerializer));\r\n```\r\nAnd output for this part\r\n```\r\n378 [main] INFO software.aws.neptune.gremlin.GremlinQueryExecutor - Creating cluster with serializer: org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV3d0@4d49af10\r\n379 [main] INFO software.aws.neptune.gremlin.GremlinQueryExecutor - Serializer is null?: false\r\n379 [main] INFO software.aws.neptune.gremlin.GremlinQueryExecutor - Class of serializer is: org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV3d0\r\n380 [main] INFO software.aws.neptune.gremlin.GremlinQueryExecutor - Serializer is GraphSONMessageSerializerV3d0?: false\r\n380 [main] INFO software.aws.neptune.gremlin.GremlinQueryExecutor - Serializer is MessageSerializer?: false\r\n```\r\nWhy is that? I need it to be true. I have same version of `gremlin-driver` in my script and `aws-neptune-jdbc`, which is 3.5.3. In github `aws-neptune-jdbc` right now have gremlin version 3.4.8, but I change it for myself.\r\n\r\n**P.S.** Forgot to mention, my version of java is `openjdk version &quot;1.8.0_342&quot;`\r\n","title":"instanceof returns false in jdbc","body":"<p>I have problem with <code>instanceof</code> in java.\nFor clarification, I use <code>aws-neptune-jdbc</code> drive for connection to janusgraph server.</p>\n<p>I create <code>GraphSONMessageSerializerV3d0</code> which is obviously instance of <code>MessageSerializer</code>. After that i put serializer in <code>Properties</code>. And even in properties this object in instance of <code>MessageSerializer</code>.</p>\n<p>Code for this part:</p>\n<pre><code>GraphSONMapper.Builder builder = GraphSONMapper.build().addRegistry(JanusGraphIoRegistry.getInstance());\nGraphSONMessageSerializerV3d0 serializer = new GraphSONMessageSerializerV3d0(builder);\nSystem.out.println(String.format(&quot;Serializer: %s&quot;, serializer));\nSystem.out.println(String.format(&quot;Name of serializer class: %s&quot;, serializer.getClass().getName()));\nSystem.out.println(String.format(&quot;Serializer is instance of MessageSerializer: %s&quot;, serializer instanceof MessageSerializer));\nproperties.put(&quot;serializer&quot;, serializer);\nSystem.out.println(String.format(&quot;Serializer in properties: %s&quot;, properties.get(&quot;serializer&quot;)));\nSystem.out.println(String.format(&quot;Serializer in properties is instance of MessageSerializer: %s&quot;, properties.get(&quot;serializer&quot;) instanceof MessageSerializer));\n</code></pre>\n<p>And output for this part:</p>\n<pre><code>Serializer: org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV3d0@4d49af10\nName of serializer class: org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV3d0\nSerializer is instance of MessageSerializer: true\nSerializer in properties: org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV3d0@4d49af10\nSerializer in properties is instance of MessageSerializer: true\n</code></pre>\n<p>But in driver, I add some info in log, I can see, that something, that is in map under key <code>serializer</code>, is not a <code>MessageSerializer</code> and <code>GraphSONMessageSerializerV3d0</code>, but has class name <code>GraphSONMessageSerializerV3d0</code></p>\n<p>My code with logger in jdbc for this part</p>\n<pre><code>LOGGER.info(String.format(&quot;Creating cluster with serializer: %s&quot;, properties.get(GremlinConnectionProperties.SERIALIZER_KEY)));\nLOGGER.info(String.format(&quot;Serializer is null?: %s&quot;, properties.get(GremlinConnectionProperties.SERIALIZER_KEY) == null));\nLOGGER.info(String.format(&quot;Class of serializer is: %s&quot;, properties.get(GremlinConnectionProperties.SERIALIZER_KEY).getClass().getName()));\nLOGGER.info(String.format(&quot;Serializer is GraphSONMessageSerializerV3d0?: %s&quot;, properties.get(GremlinConnectionProperties.SERIALIZER_KEY) instanceof GraphSONMessageSerializerV3d0));\nLOGGER.info(String.format(&quot;Serializer is MessageSerializer?: %s&quot;, properties.get(GremlinConnectionProperties.SERIALIZER_KEY) instanceof MessageSerializer));\n</code></pre>\n<p>And output for this part</p>\n<pre><code>378 [main] INFO software.aws.neptune.gremlin.GremlinQueryExecutor - Creating cluster with serializer: org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV3d0@4d49af10\n379 [main] INFO software.aws.neptune.gremlin.GremlinQueryExecutor - Serializer is null?: false\n379 [main] INFO software.aws.neptune.gremlin.GremlinQueryExecutor - Class of serializer is: org.apache.tinkerpop.gremlin.driver.ser.GraphSONMessageSerializerV3d0\n380 [main] INFO software.aws.neptune.gremlin.GremlinQueryExecutor - Serializer is GraphSONMessageSerializerV3d0?: false\n380 [main] INFO software.aws.neptune.gremlin.GremlinQueryExecutor - Serializer is MessageSerializer?: false\n</code></pre>\n<p>Why is that? I need it to be true. I have same version of <code>gremlin-driver</code> in my script and <code>aws-neptune-jdbc</code>, which is 3.5.3. In github <code>aws-neptune-jdbc</code> right now have gremlin version 3.4.8, but I change it for myself.</p>\n<p><strong>P.S.</strong> Forgot to mention, my version of java is <code>openjdk version &quot;1.8.0_342&quot;</code></p>\n"},{"tags":["java","if-statement","java-stream"],"comments":[{"owner":{"account_id":1217091,"reputation":49,"user_id":18665270,"display_name":"user18665270"},"score":0,"creation_date":1662133945,"post_id":73585153,"comment_id":129943427,"body_markdown":"empList.stream().foreach( &lt;here how to check above if condition&gt;)","body":"empList.stream().foreach( &lt;here how to check above if condition&gt;)"}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1662137548,"creation_date":1662134325,"answer_id":73585253,"question_id":73585153,"body_markdown":"`forEach()` isn&#39;t the appropriate tool here.\r\n\r\nFirstly there&#39;s a method `Iterable.forEach()` which you can invoke directly on a list without creating a stream, secondly `Stream.forEach()` is **not** encouraged to be used in such a way by the [Stream API documentation](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects), it should be used with care in cases when you have no other tools suitable for the task.\r\n\r\nInstead, you can use combination [`filter()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)) + [`findFirst()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#findFirst()), which produces result of type Optional.\r\n\r\nTo provide a default value for the case when employee wasn&#39;t found (*like in your code a dummy* `Employee` *object created via no-args constructor*) you can use [`Optional.orElseGet()`](https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseGet(java.util.function.Supplier)) which expects a `Supplier` that would be applied only when needed (*when optional is empty*).\r\n\r\n    public Employee findEmployee(String empid) {\r\n        \r\n        return getEmployeeList().stream()\r\n            .filter(e -&gt; empid.equals(e.getEmpid()))\r\n            .findFirst()\r\n            .orElseGet(Employee::new);\r\n    }\r\n\r\n&lt;sup&gt;I strongly recommend you to get familiar with these tutorials on [streams](https://docs.oracle.com/javase/tutorial/collections/streams/index.html) and [lambda expressions](https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html)&lt;/sup&gt;","title":"How to rewrite For-loop and If-statement with Java 8 Streams","body":"<p><code>forEach()</code> isn't the appropriate tool here.</p>\n<p>Firstly there's a method <code>Iterable.forEach()</code> which you can invoke directly on a list without creating a stream, secondly <code>Stream.forEach()</code> is <strong>not</strong> encouraged to be used in such a way by the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"noreferrer\">Stream API documentation</a>, it should be used with care in cases when you have no other tools suitable for the task.</p>\n<p>Instead, you can use combination <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#filter(java.util.function.Predicate)\" rel=\"noreferrer\"><code>filter()</code></a> + <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#findFirst()\" rel=\"noreferrer\"><code>findFirst()</code></a>, which produces result of type Optional.</p>\n<p>To provide a default value for the case when employee wasn't found (<em>like in your code a dummy</em> <code>Employee</code> <em>object created via no-args constructor</em>) you can use <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api//java.base/java/util/Optional.html#orElseGet(java.util.function.Supplier)\" rel=\"noreferrer\"><code>Optional.orElseGet()</code></a> which expects a <code>Supplier</code> that would be applied only when needed (<em>when optional is empty</em>).</p>\n<pre><code>public Employee findEmployee(String empid) {\n    \n    return getEmployeeList().stream()\n        .filter(e -&gt; empid.equals(e.getEmpid()))\n        .findFirst()\n        .orElseGet(Employee::new);\n}\n</code></pre>\n<p><sup>I strongly recommend you to get familiar with these tutorials on <a href=\"https://docs.oracle.com/javase/tutorial/collections/streams/index.html\" rel=\"noreferrer\">streams</a> and <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/lambdaexpressions.html\" rel=\"noreferrer\">lambda expressions</a></sup></p>\n"}],"owner":{"account_id":1217091,"reputation":49,"user_id":18665270,"display_name":"user18665270"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":174,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662188071,"creation_date":1662133863,"question_id":73585153,"body_markdown":"*My code*:     \r\n\r\n    final List&lt;Employee&gt; empList= getEmployeeList();\r\n    String empid = &quot;1234&quot;;\r\n    Employee selectedEmp = new Employee();\r\n    \r\n    for (Employee e1: empList) {\r\n        if (empid .equals(e1.getEmpid()))\r\n            selectedEmp = e1;\r\n        }\r\n    }\r\n\r\nNow I want to rewrite the above code in Java 8.\r\n\r\nI&#39;ve tried the following, but without success. I can&#39;t figure out translate the `if`-statement:\r\n```\r\nempList.stream()\r\n    .foreach( &lt;how to apply if condition here&gt;)\r\n```","title":"How to rewrite For-loop and If-statement with Java 8 Streams","body":"<p><em>My code</em>:</p>\n<pre><code>final List&lt;Employee&gt; empList= getEmployeeList();\nString empid = &quot;1234&quot;;\nEmployee selectedEmp = new Employee();\n\nfor (Employee e1: empList) {\n    if (empid .equals(e1.getEmpid()))\n        selectedEmp = e1;\n    }\n}\n</code></pre>\n<p>Now I want to rewrite the above code in Java 8.</p>\n<p>I've tried the following, but without success. I can't figure out translate the <code>if</code>-statement:</p>\n<pre><code>empList.stream()\n    .foreach( &lt;how to apply if condition here&gt;)\n</code></pre>\n"},{"tags":["java","spring-boot","unit-testing","spring-mvc","integration-testing"],"answers":[{"tags":[],"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662188058,"creation_date":1662188058,"answer_id":73590263,"question_id":73590115,"body_markdown":"The issue is I did not pass the parameter just like I would if I tested my api using post man. So basically just like this.\r\n\r\n    @Test\r\n        void newProduct() {\r\n            // Given\r\n            MockMultipartFile multipartFile = new MockMultipartFile(&quot;file&quot;,\r\n                    &quot;fresh-pepper.jpg&quot;,\r\n                    &quot;image/png, image/jpg, image/jpeg&quot;,\r\n                    &quot;random image&quot;.getBytes());\r\n    \r\n            //Then\r\n            try {\r\n                this.mockMvc.perform(\r\n                        multipart(&quot;/secured/api/v2/addNew&quot;)\r\n                                .file(multipartFile)\r\n                                .param(&quot;name&quot;, &quot;Test&quot;)\r\n                                .param(&quot;category&quot;, &quot;Test&quot;)\r\n                                .param(&quot;description&quot;, &quot;Lorem 23&quot;)\r\n                        )\r\n                        .andDo(print())\r\n                        .andExpect(status().isOk());\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }","title":"MockMvc Integration or Unit testing a POST API that takes parameters like @Valid Object, BindingResult, MultipartFile","body":"<p>The issue is I did not pass the parameter just like I would if I tested my api using post man. So basically just like this.</p>\n<pre><code>@Test\n    void newProduct() {\n        // Given\n        MockMultipartFile multipartFile = new MockMultipartFile(&quot;file&quot;,\n                &quot;fresh-pepper.jpg&quot;,\n                &quot;image/png, image/jpg, image/jpeg&quot;,\n                &quot;random image&quot;.getBytes());\n\n        //Then\n        try {\n            this.mockMvc.perform(\n                    multipart(&quot;/secured/api/v2/addNew&quot;)\n                            .file(multipartFile)\n                            .param(&quot;name&quot;, &quot;Test&quot;)\n                            .param(&quot;category&quot;, &quot;Test&quot;)\n                            .param(&quot;description&quot;, &quot;Lorem 23&quot;)\n                    )\n                    .andDo(print())\n                    .andExpect(status().isOk());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n    }\n</code></pre>\n"}],"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":295,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662188058,"creation_date":1662186260,"question_id":73590115,"body_markdown":"How do I test a post api method that takes the parameters like Multipartfile etc. Based on spring [documentation][1] I understand I have to use multipart instead of post for MockMvc, but my response status is 400 instead of 200. (Feel free to use your own example to give me an idea of how to test this).\r\n\r\nTest class and method\r\n\r\n    @Autowired\r\n    private MockMvc mockMvc;\r\n    \r\n    @MockBean\r\n    private ProductService productService;\r\n    \r\n    @Test\r\n    void newProduct() {\r\n            // Given\r\n            Product product = new Product(&quot;Test&quot;, &quot;Diary&quot;, &quot;Lorem 24&quot;, &quot;fresh-pepper.jpg&quot;);\r\n            product.setId(1L);\r\n            product.setPath(&quot;dummy photo path&quot;);\r\n            MockMultipartFile multipartFile = new MockMultipartFile(&quot;file&quot;,\r\n                    &quot;fresh-pepper.jpg&quot;,\r\n                    &quot;image/png, image/jpg, image/jpeg&quot;,\r\n                    &quot;random image&quot;.getBytes());\r\n            //When\r\n            when(productService.saveProduct(product, multipartFile)).thenReturn(product);\r\n    \r\n            //Then\r\n            try {\r\n                this.mockMvc.perform(multipart(&quot;/dummy/api/v1/addNew&quot;)\r\n                        .file(multipartFile))\r\n                        .andDo(print())\r\n                        .andExpect(status().isOk());\r\n    \r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n    }\r\n\r\nRest api method and NOTE `@RequestMapping(&quot;/dummy/api/v1&quot;)`\r\n    \r\n    @PostMapping(path = &quot;/addNew&quot;, consumes = {MULTIPART_FORM_DATA_VALUE})\r\n        public ResponseEntity&lt;Product&gt; newProduct(@Valid Product product,\r\n                                                  BindingResult bindingResult,\r\n                                                  @RequestParam(&quot;file&quot;) MultipartFile file) {\r\n            if (bindingResult.hasFieldErrors()){\r\n                bindingResult.getFieldErrors().forEach(fieldError -&gt; LOGGER.error(&quot;Error &quot; + fieldError.getField()));\r\n                return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\r\n            }\r\n    \r\n            return new ResponseEntity&lt;&gt;(productService.saveProduct(product, file), HttpStatus.OK);\r\n        }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-mvc-test-framework","title":"MockMvc Integration or Unit testing a POST API that takes parameters like @Valid Object, BindingResult, MultipartFile","body":"<p>How do I test a post api method that takes the parameters like Multipartfile etc. Based on spring <a href=\"https://docs.spring.io/spring-framework/docs/current/reference/html/testing.html#spring-mvc-test-framework\" rel=\"nofollow noreferrer\">documentation</a> I understand I have to use multipart instead of post for MockMvc, but my response status is 400 instead of 200. (Feel free to use your own example to give me an idea of how to test this).</p>\n<p>Test class and method</p>\n<pre><code>@Autowired\nprivate MockMvc mockMvc;\n\n@MockBean\nprivate ProductService productService;\n\n@Test\nvoid newProduct() {\n        // Given\n        Product product = new Product(&quot;Test&quot;, &quot;Diary&quot;, &quot;Lorem 24&quot;, &quot;fresh-pepper.jpg&quot;);\n        product.setId(1L);\n        product.setPath(&quot;dummy photo path&quot;);\n        MockMultipartFile multipartFile = new MockMultipartFile(&quot;file&quot;,\n                &quot;fresh-pepper.jpg&quot;,\n                &quot;image/png, image/jpg, image/jpeg&quot;,\n                &quot;random image&quot;.getBytes());\n        //When\n        when(productService.saveProduct(product, multipartFile)).thenReturn(product);\n\n        //Then\n        try {\n            this.mockMvc.perform(multipart(&quot;/dummy/api/v1/addNew&quot;)\n                    .file(multipartFile))\n                    .andDo(print())\n                    .andExpect(status().isOk());\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n\n}\n</code></pre>\n<p>Rest api method and NOTE <code>@RequestMapping(&quot;/dummy/api/v1&quot;)</code></p>\n<pre><code>@PostMapping(path = &quot;/addNew&quot;, consumes = {MULTIPART_FORM_DATA_VALUE})\n    public ResponseEntity&lt;Product&gt; newProduct(@Valid Product product,\n                                              BindingResult bindingResult,\n                                              @RequestParam(&quot;file&quot;) MultipartFile file) {\n        if (bindingResult.hasFieldErrors()){\n            bindingResult.getFieldErrors().forEach(fieldError -&gt; LOGGER.error(&quot;Error &quot; + fieldError.getField()));\n            return new ResponseEntity&lt;&gt;(HttpStatus.BAD_REQUEST);\n        }\n\n        return new ResponseEntity&lt;&gt;(productService.saveProduct(product, file), HttpStatus.OK);\n    }\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"score":0,"creation_date":1477244679,"post_id":40205600,"comment_id":67676274,"body_markdown":"try to remove this dependency &lt; -spring-boot-starter- &gt; from your pom","body":"try to remove this dependency &lt; -spring-boot-starter- &gt; from your pom"},{"owner":{"account_id":212417,"reputation":43624,"user_id":465223,"accept_rate":75,"display_name":"dunni"},"score":0,"creation_date":1477245718,"post_id":40205600,"comment_id":67676604,"body_markdown":"Have you refreshed your Eclipse buildpath etc. after adding `spring-boot-starter-web`? If not, then maybe your app is still running without it, which means after it is started, no other threads (like webserver) run, and thus the application context is immediately shutdown.","body":"Have you refreshed your Eclipse buildpath etc. after adding <code>spring-boot-starter-web</code>? If not, then maybe your app is still running without it, which means after it is started, no other threads (like webserver) run, and thus the application context is immediately shutdown."},{"owner":{"account_id":1686851,"reputation":7640,"user_id":1549950,"accept_rate":69,"display_name":"Michael Lihs"},"score":0,"creation_date":1477260044,"post_id":40205600,"comment_id":67680965,"body_markdown":"Possible duplicate of [Spring boot application shutdown immediate after starting](http://stackoverflow.com/questions/39363570/spring-boot-application-shutdown-immediate-after-starting)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/39363570/spring-boot-application-shutdown-immediate-after-starting\">Spring boot application shutdown immediate after starting</a>"}],"answers":[{"tags":[],"owner":{"account_id":2033016,"reputation":4216,"user_id":1816151,"accept_rate":85,"display_name":"AchillesVan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1477246873,"creation_date":1477244815,"answer_id":40205994,"question_id":40205600,"body_markdown":"My suggestion is to remove this dependency\r\n  \r\n\r\n  \r\n\r\n     &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n        &lt;/dependency&gt;\r\n\r\n\r\nYou may also try to add this tomcat dependency:\r\n\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n        &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n","title":"Spring Boot App Terminating at Startup","body":"<p>My suggestion is to remove this dependency</p>\n\n<pre><code> &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n</code></pre>\n\n<p>You may also try to add this tomcat dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n    &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1686851,"reputation":7640,"user_id":1549950,"accept_rate":69,"display_name":"Michael Lihs"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1477258254,"creation_date":1477257755,"answer_id":40207926,"question_id":40205600,"body_markdown":"I just took your code and started a Spring-Boot application from scratch. On my machine, your code starts up as expected when I run\r\n\r\n    mvn spring-boot:run\r\n\r\nTo make sure, we have the very same code, I uploaded my solution to Github, see [https://github.com/michaellihs/stackoverflow-40205600][1]\r\n\r\nJust an idea why it doesn&#39;t work for you: do have another Tomcat instance running that is listening on port 8080 - this will stop your application immediately (but normally shows a different log / error message).\r\n\r\n\r\n  [1]: https://github.com/michaellihs/stackoverflow-40205600","title":"Spring Boot App Terminating at Startup","body":"<p>I just took your code and started a Spring-Boot application from scratch. On my machine, your code starts up as expected when I run</p>\n\n<pre><code>mvn spring-boot:run\n</code></pre>\n\n<p>To make sure, we have the very same code, I uploaded my solution to Github, see <a href=\"https://github.com/michaellihs/stackoverflow-40205600\" rel=\"nofollow\">https://github.com/michaellihs/stackoverflow-40205600</a></p>\n\n<p>Just an idea why it doesn't work for you: do have another Tomcat instance running that is listening on port 8080 - this will stop your application immediately (but normally shows a different log / error message).</p>\n"},{"tags":[],"owner":{"account_id":7247808,"reputation":3044,"user_id":5819877,"accept_rate":100,"display_name":"Praveen Kumar K S"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1477294897,"creation_date":1477284708,"answer_id":40210906,"question_id":40205600,"body_markdown":"**Solution to your Question**\r\n\r\n 1. I reviewed your POM.xml, it looks fine and doesn&#39;t require any changes to it.\r\n 2. `spring-boot-starter-web` is an opinionated dependency, it automatically pulls your other dependencies. Please check whether it has pulled your embedded Tomcat in your Maven Dependencies as shown below.\r\n\r\n[![Dep][1]][1]\r\n\r\n 3. Go to application.properties file or application.yml to change the server port `server.port=9081`and run the maven goal as `mvn clean install spring-boot:run -e` &lt;br&gt; &lt;br&gt; &lt;br&gt;\r\n**If these options doesn&#39;t workout please try this approach [posted][2] by me.**\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/n4M93.png\r\n  [2]: https://stackoverflow.com/questions/39245732/java-lang-noclassdeffounderror-org-springframework-core-env-configurableenviron/39246493#39246493","title":"Spring Boot App Terminating at Startup","body":"<p><strong>Solution to your Question</strong></p>\n\n<ol>\n<li>I reviewed your POM.xml, it looks fine and doesn't require any changes to it.</li>\n<li><code>spring-boot-starter-web</code> is an opinionated dependency, it automatically pulls your other dependencies. Please check whether it has pulled your embedded Tomcat in your Maven Dependencies as shown below.</li>\n</ol>\n\n<p><a href=\"https://i.stack.imgur.com/n4M93.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/n4M93.png\" alt=\"Dep\"></a></p>\n\n<ol start=\"3\">\n<li>Go to application.properties file or application.yml to change the server port <code>server.port=9081</code>and run the maven goal as <code>mvn clean install spring-boot:run -e</code> <br> <br> <br>\n<strong>If these options doesn't workout please try this approach <a href=\"https://stackoverflow.com/questions/39245732/java-lang-noclassdeffounderror-org-springframework-core-env-configurableenviron/39246493#39246493\">posted</a> by me.</strong></li>\n</ol>\n"},{"tags":[],"owner":{"account_id":9957966,"reputation":11,"user_id":7368146,"display_name":"varsha tj"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1483427040,"creation_date":1483427040,"answer_id":41438125,"question_id":40205600,"body_markdown":"I deleted the maven dependencies folder and it worked for me\r\n\r\n","title":"Spring Boot App Terminating at Startup","body":"<p>I deleted the maven dependencies folder and it worked for me</p>\n"},{"tags":[],"owner":{"account_id":8111459,"reputation":31,"user_id":6111428,"display_name":"hlayachi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1494600565,"creation_date":1494600565,"answer_id":43940625,"question_id":40205600,"body_markdown":"I had the same problem and there is how I resolved it : \r\n\r\n* I deleted maven&#39;s local repository \r\n* run again maven install\r\n* run the app as spring boot app \r\n\r\n====&gt; Hallelujah, and it worked just by magic !\r\n","title":"Spring Boot App Terminating at Startup","body":"<p>I had the same problem and there is how I resolved it : </p>\n\n<ul>\n<li>I deleted maven's local repository </li>\n<li>run again maven install</li>\n<li>run the app as spring boot app </li>\n</ul>\n\n<p>====> Hallelujah, and it worked just by magic !</p>\n"},{"tags":[],"owner":{"account_id":9926393,"reputation":39,"user_id":7863383,"display_name":"AK47"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1494681638,"creation_date":1494681638,"answer_id":43953628,"question_id":40205600,"body_markdown":"In my case as well , I had to clear the complete .m2 directory and run clean install to make it to work. Not sure what is conflicting.","title":"Spring Boot App Terminating at Startup","body":"<p>In my case as well , I had to clear the complete .m2 directory and run clean install to make it to work. Not sure what is conflicting.</p>\n"},{"tags":[],"owner":{"account_id":2316153,"reputation":223,"user_id":2033178,"display_name":"Darkman"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1497610721,"creation_date":1497610721,"answer_id":44587573,"question_id":40205600,"body_markdown":"This was happening to me and it turned out to be a corrupted maven apache repository. \r\n\r\nTo fix it I removed the apache repo - on my Mac it was located at /Users/myname/.m2/repository/org/apache. \r\n\r\nOn a pc it should be c:\\users\\myname\\.m2\\repository\\org\\apache.\r\n\r\nI then ran Maven - Update Project and then I ran my class and it was fixed.","title":"Spring Boot App Terminating at Startup","body":"<p>This was happening to me and it turned out to be a corrupted maven apache repository. </p>\n\n<p>To fix it I removed the apache repo - on my Mac it was located at /Users/myname/.m2/repository/org/apache. </p>\n\n<p>On a pc it should be c:\\users\\myname.m2\\repository\\org\\apache.</p>\n\n<p>I then ran Maven - Update Project and then I ran my class and it was fixed.</p>\n"},{"tags":[],"owner":{"account_id":7885659,"reputation":123,"user_id":5957818,"accept_rate":0,"display_name":"Maria"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1501133869,"creation_date":1501133869,"answer_id":45342184,"question_id":40205600,"body_markdown":"First of all check if the port 8080 is available or is being used by some other process.\r\n\r\nIf this port is not available, try adding `server.port=someAvailablePortNumber` in the `application.properties` file located in &quot;resources&quot; folder. \r\n\r\nI was also facing same problem. Tried a lot of changes suggested in pom.xml file and also tried multiple suggestion related to maven (e.g: deleting folder, updating project etc) but nothing worked for me. In my case the port 8080 wasn&#39;t available so application wasn&#39;t able to start tomcat using default port(i.e.: 8080) causing it to shutdown immediately.\r\n\r\nChanging the port number helped to start tomcat and it started working. Hope it helps :)","title":"Spring Boot App Terminating at Startup","body":"<p>First of all check if the port 8080 is available or is being used by some other process.</p>\n\n<p>If this port is not available, try adding <code>server.port=someAvailablePortNumber</code> in the <code>application.properties</code> file located in \"resources\" folder. </p>\n\n<p>I was also facing same problem. Tried a lot of changes suggested in pom.xml file and also tried multiple suggestion related to maven (e.g: deleting folder, updating project etc) but nothing worked for me. In my case the port 8080 wasn't available so application wasn't able to start tomcat using default port(i.e.: 8080) causing it to shutdown immediately.</p>\n\n<p>Changing the port number helped to start tomcat and it started working. Hope it helps :)</p>\n"},{"tags":[],"owner":{"account_id":1561064,"reputation":477,"user_id":1450917,"accept_rate":75,"display_name":"Biscuit Coder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1512635670,"creation_date":1512635670,"answer_id":47690758,"question_id":40205600,"body_markdown":"\r\nFor me the embed tomcat was corrupted. I have done a mvn build and found below line as a WARNING.\r\n\r\n[WARNING] error reading /home/syam/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/8.5.23/tomcat-embed-core-8.5.23.jar; invalid LOC header (bad signature)\r\n\r\n\r\nSo deleted the tomcat embed directory and did a maven clean, things started working. ","title":"Spring Boot App Terminating at Startup","body":"<p>For me the embed tomcat was corrupted. I have done a mvn build and found below line as a WARNING.</p>\n\n<p>[WARNING] error reading /home/syam/.m2/repository/org/apache/tomcat/embed/tomcat-embed-core/8.5.23/tomcat-embed-core-8.5.23.jar; invalid LOC header (bad signature)</p>\n\n<p>So deleted the tomcat embed directory and did a maven clean, things started working. </p>\n"},{"tags":[],"owner":{"account_id":13127034,"reputation":11,"user_id":9482628,"display_name":"Lakshmi K"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520903842,"creation_date":1520903842,"answer_id":49246834,"question_id":40205600,"body_markdown":"i changed the port from 8080 to 8083 in application.properties which is under resources folder. server.port=8083 and it worked.","title":"Spring Boot App Terminating at Startup","body":"<p>i changed the port from 8080 to 8083 in application.properties which is under resources folder. server.port=8083 and it worked.</p>\n"},{"tags":[],"owner":{"account_id":1416624,"reputation":7037,"user_id":1342154,"accept_rate":61,"display_name":"Chris Hinshaw"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1522198463,"creation_date":1522198463,"answer_id":49524472,"question_id":40205600,"body_markdown":"Adding this for posterity.\r\n\r\nFor these kind of issues it is very advantageous to run `mvn help:effective-pom` and look at the versions that have been picked up. It is common to have a parent module that is overriding a module/version that spring-boot is expecting to be available.","title":"Spring Boot App Terminating at Startup","body":"<p>Adding this for posterity.</p>\n\n<p>For these kind of issues it is very advantageous to run <code>mvn help:effective-pom</code> and look at the versions that have been picked up. It is common to have a parent module that is overriding a module/version that spring-boot is expecting to be available.</p>\n"},{"tags":[],"owner":{"account_id":13479976,"reputation":1,"user_id":9725602,"display_name":"puff crash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1525185402,"creation_date":1525179459,"answer_id":50116903,"question_id":40205600,"body_markdown":"I had the same problem and there is how I resolved it :\r\nI changed version in `pom.xml` from `1.4.2.RELEASE` to `1.4.1.RELEASE`","title":"Spring Boot App Terminating at Startup","body":"<p>I had the same problem and there is how I resolved it :\nI changed version in <code>pom.xml</code> from <code>1.4.2.RELEASE</code> to <code>1.4.1.RELEASE</code></p>\n"},{"tags":[],"owner":{"account_id":3337598,"reputation":5363,"user_id":2804703,"display_name":"jdev"},"down_vote_count":1,"up_vote_count":33,"is_accepted":false,"score":32,"last_activity_date":1529845251,"creation_date":1529845251,"answer_id":51010189,"question_id":40205600,"body_markdown":"In my case just adding following to pom file \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot App Terminating at Startup","body":"<p>In my case just adding following to pom file </p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13196448,"reputation":447,"user_id":9531109,"display_name":"JaredCS"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1605706958,"creation_date":1597956243,"answer_id":63512889,"question_id":40205600,"body_markdown":"**Check what exit code you are getting.** \r\n\r\nIf you get **&quot;Process finished with exit code 1&quot;** means an exception is being thrown. Thus you can put a try catch block around your `SpringApplication.run()` statement and print out the stack trace.\r\n\r\n    public static void main(String[] args) {\r\n        try {\r\n            SpringApplication.run(MyApplication.class, args);\r\n        } catch (Exception e) {\r\n            e.printStackTrace(); \r\n        }\r\n    }\r\n\r\nExample talen from: https://stackoverflow.com/a/59017774/9531109 ","title":"Spring Boot App Terminating at Startup","body":"<p><strong>Check what exit code you are getting.</strong></p>\n<p>If you get <strong>&quot;Process finished with exit code 1&quot;</strong> means an exception is being thrown. Thus you can put a try catch block around your <code>SpringApplication.run()</code> statement and print out the stack trace.</p>\n<pre><code>public static void main(String[] args) {\n    try {\n        SpringApplication.run(MyApplication.class, args);\n    } catch (Exception e) {\n        e.printStackTrace(); \n    }\n}\n</code></pre>\n<p>Example talen from: <a href=\"https://stackoverflow.com/a/59017774/9531109\">https://stackoverflow.com/a/59017774/9531109</a></p>\n"},{"tags":[],"owner":{"account_id":2814312,"reputation":692,"user_id":2419823,"accept_rate":29,"display_name":"Binod Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647254759,"creation_date":1647254759,"answer_id":71466480,"question_id":40205600,"body_markdown":"If you have created the project using start.spring.io you might have missed to add &#39;Spring Web&#39; dependency. \r\n\r\nalternate we can add below code to pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n        \t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Spring Boot App Terminating at Startup","body":"<p>If you have created the project using start.spring.io you might have missed to add 'Spring Web' dependency.</p>\n<p>alternate we can add below code to pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4878016,"reputation":53,"user_id":3932543,"display_name":"Parthiban"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662188012,"creation_date":1662188012,"answer_id":73590253,"question_id":40205600,"body_markdown":"This property `spring.main.web-application-type= none` from the application properties file was causing the application to shut down as soon as started. Removing this would do the job.\r\n\r\n","title":"Spring Boot App Terminating at Startup","body":"<p>This property <code>spring.main.web-application-type= none</code> from the application properties file was causing the application to shut down as soon as started. Removing this would do the job.</p>\n"}],"owner":{"account_id":2728882,"reputation":1032,"user_id":2353137,"accept_rate":83,"display_name":"Umar"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":41867,"favorite_count":0,"down_vote_count":0,"up_vote_count":12,"answer_count":16,"score":12,"last_activity_date":1662188012,"creation_date":1477242817,"question_id":40205600,"body_markdown":"I am  trying out a simple spring boot application it always shuts down automatically\r\n\r\n\r\n     :: Spring Boot ::        (v1.4.1.RELEASE)\r\n    2016-10-23 13:05:21.681  INFO 16532 --- [           main] com.example.RestBootApplication          : No active profile set, falling back to default profiles: default\r\n    2016-10-23 13:05:21.766  INFO 16532 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@6e20b53a: startup date [Sun Oct 23 13:05:21 EDT 2016]; root of context hierarchy\r\n    2016-10-23 13:05:23.682  INFO 16532 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\r\n    2016-10-23 13:05:23.704  INFO 16532 --- [           main] com.example.RestBootApplication          : Started RestBootApplication in 2.632 seconds (JVM running for 5.168)\r\n    2016-10-23 13:05:23.705  INFO 16532 --- [       Thread-2] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@6e20b53a: startup date [Sun Oct 23 13:05:21 EDT 2016]; root of context hierarchy\r\n    2016-10-23 13:05:23.708  INFO 16532 --- [       Thread-2] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\r\n\r\npom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;packaging&gt;jar&lt;/packaging&gt;\r\n    \r\n    \t&lt;name&gt;rest-boot&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n    \t\t&lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nMain Class\r\n\r\n    @SpringBootApplication\r\n    public class RestBootApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSpringApplication.run(RestBootApplication.class, args);\r\n    \t}\r\n    }\r\n\r\nController\r\n\r\n    @Controller\r\n    public class HelloController {\r\n    \t\r\n    \t@RequestMapping(&quot;/hello&quot;)\r\n    \tString helloWorld(){\r\n    \t\treturn &quot;helloWorld&quot;;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nTrying to run in spring tool suite.  it always stops after starting. I even added &quot;spring-boot-starter-web&quot; after looking at some stackoverflow  questions, but still facing the issue.\r\n\r\n\r\n\r\nPlease can you someone point out the issue.\r\n\r\n\r\n","title":"Spring Boot App Terminating at Startup","body":"<p>I am  trying out a simple spring boot application it always shuts down automatically</p>\n\n<pre><code> :: Spring Boot ::        (v1.4.1.RELEASE)\n2016-10-23 13:05:21.681  INFO 16532 --- [           main] com.example.RestBootApplication          : No active profile set, falling back to default profiles: default\n2016-10-23 13:05:21.766  INFO 16532 --- [           main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@6e20b53a: startup date [Sun Oct 23 13:05:21 EDT 2016]; root of context hierarchy\n2016-10-23 13:05:23.682  INFO 16532 --- [           main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup\n2016-10-23 13:05:23.704  INFO 16532 --- [           main] com.example.RestBootApplication          : Started RestBootApplication in 2.632 seconds (JVM running for 5.168)\n2016-10-23 13:05:23.705  INFO 16532 --- [       Thread-2] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@6e20b53a: startup date [Sun Oct 23 13:05:21 EDT 2016]; root of context hierarchy\n2016-10-23 13:05:23.708  INFO 16532 --- [       Thread-2] o.s.j.e.a.AnnotationMBeanExporter        : Unregistering JMX-exposed beans on shutdown\n</code></pre>\n\n<p>pom.xml</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n\n    &lt;name&gt;rest-boot&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.4.1.RELEASE&lt;/version&gt;\n        &lt;relativePath /&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;project.reporting.outputEncoding&gt;UTF-8&lt;/project.reporting.outputEncoding&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n\n&lt;/project&gt;\n</code></pre>\n\n<p>Main Class</p>\n\n<pre><code>@SpringBootApplication\npublic class RestBootApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(RestBootApplication.class, args);\n    }\n}\n</code></pre>\n\n<p>Controller</p>\n\n<pre><code>@Controller\npublic class HelloController {\n\n    @RequestMapping(\"/hello\")\n    String helloWorld(){\n        return \"helloWorld\";\n    }\n\n}\n</code></pre>\n\n<p>Trying to run in spring tool suite.  it always stops after starting. I even added \"spring-boot-starter-web\" after looking at some stackoverflow  questions, but still facing the issue.</p>\n\n<p>Please can you someone point out the issue.</p>\n"},{"tags":["java","android","android-recyclerview","refresh"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1662188169,"post_id":73590223,"comment_id":129952430,"body_markdown":"You should use `notifyItem*` apis to add, change/update &amp; remove the dataset in the recyclerview&#39;s adapter.","body":"You should use <code>notifyItem*</code> apis to add, change/update &amp; remove the dataset in the recyclerview&#39;s adapter."},{"owner":{"account_id":25288183,"reputation":37,"user_id":19114746,"display_name":"mauricio romero"},"score":0,"creation_date":1662189137,"post_id":73590223,"comment_id":129952572,"body_markdown":"is that only to work with apis, or is it also useful to use it with data from a relational database?","body":"is that only to work with apis, or is it also useful to use it with data from a relational database?"}],"owner":{"account_id":25288183,"reputation":37,"user_id":19114746,"display_name":"mauricio romero"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":145,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662187682,"creation_date":1662187682,"question_id":73590223,"body_markdown":"I&#39;m making an app to debate, every time a user creates a debate, they must set the date and time the debate ends, I also have a recyclerview with a cardview where the list of each debate is shown. Now, through a thread ( multithread) defined in the mainActivity I calculate the current date and time every 1 minute (this does not affect the performance of the app) and I compare it to see if the time and date are greater than the date established as the date and time of the end of the debates If so, the discussion in question should be removed from the recyclerview&#39;s discussion list. So far everything works relatively well, the problem is that in order to update the recyclerview I have to change the fragment view and then return to the recycler to see the updated discussion list (with finished discussions removed from the recyclerview). My question is how to update the discussion list in the recyclerview without having to use any event (for example on click or others) or without the need to change views. The idea is that, for example, if a user is in the recycler view and the closing time of a debate passes, then the debate should disappear even if the user is just in the recycler view without doing anything.\r\n\r\ncode:\r\n\r\nactivityMain:\r\n```\r\npublic class MainActivity extends AppCompatActivity  {\r\n    \r\n    public String date_now;\r\n    List&lt;ListDebates&gt; list;\r\n    public ListAdapter listDebates;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n        new getTime().start();\r\n       \r\n    }\r\n    @Override\r\n    public void onBackPressed() {\r\n\r\n    }\r\n\r\n        return true;\r\n    }\r\n\r\n    class getTime extends Thread {\r\n        @Override\r\n        public void run() {\r\n            ConexionSQliteHelper conn=new ConexionSQliteHelper(getApplicationContext(),&quot;db_testwuad_7&quot;,null,31);\r\n            try {\r\n                while(true){\r\n                    runOnUiThread(new Runnable() {\r\n                        @Override\r\n                        public void run() {\r\n                            DateTimeFormatter datetime_formatter = DateTimeFormatter.ofPattern(&quot;HH:mm dd/MM/YYYY&quot;);\r\n                            LocalDateTime now = LocalDateTime.now();\r\n                            date_now = datetime_formatter.format(now);\r\n                            Log.i(&quot;hour&quot;,date_now);\r\n                            conn.deleteDebate(date_now);\r\n                            list = conn.getDataofDebate();\r\n                            listDebates = new ListAdapter(list, getApplicationContext());\r\n                            listDebates.notifyDataSetChanged();\r\n\r\n\r\n                        }\r\n                    });\r\n                    Thread.sleep(60000);\r\n                }\r\n\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\n```\r\nadapter.class\r\n```\r\npublic class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; implements View.OnClickListener {\r\n    private List&lt;ListDebates&gt; data;\r\n    private LayoutInflater inflater;\r\n    private Context context;\r\n    private View.OnClickListener listener;\r\n    public String date_now,name_sent;\r\n    TextView viewer;\r\n    public ListAdapter(List &lt;ListDebates&gt; itemList,Context context){\r\n        this.inflater = LayoutInflater.from(context);\r\n        this.data = itemList;\r\n        this.context = context;\r\n    }\r\n    //onCreateViewHolder enlaza el adaptador con el archivo xml\r\n    @NonNull\r\n    @Override\r\n    public ListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = inflater.inflate(R.layout.cardview,null);\r\n        view.setOnClickListener(this);\r\n        return new ViewHolder(view);\r\n    }\r\n    //onBindViewHolder establece la comunicaci&#243;n entre el adaptador y la clase ViewHolder\r\n    // .Aqu&#237; se env&#237;a la informaci&#243;n que se quiere mostrar,para ello se ocupa el objeto holder\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\r\n       holder.title.setText(data.get(position).getTitle_debate());\r\n       holder.user.setText(data.get(position).getName_user());\r\n       holder.arguments.setText(data.get(position).getArguments_debate());\r\n       //holder.image_post.s.getImage_debate()));\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return data.size();\r\n    }\r\n    public void setOnClickListener(View.OnClickListener listener){\r\n        this.listener=listener;\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        if(listener!=null){\r\n            listener.onClick(v);\r\n        }\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n        ImageView image_post;\r\n        TextView title,user,arguments;\r\n        public ViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n            image_post = itemView.findViewById(R.id.image_debate);\r\n            title = itemView.findViewById(R.id.title);\r\n            user = itemView.findViewById(R.id.nameUserofPost);\r\n            arguments = itemView.findViewById(R.id.arguments_post);\r\n\r\n        }\r\n\r\n    }\r\n}\r\n\r\n```","title":"how to refresh adapter view from activity without using events in android studio","body":"<p>I'm making an app to debate, every time a user creates a debate, they must set the date and time the debate ends, I also have a recyclerview with a cardview where the list of each debate is shown. Now, through a thread ( multithread) defined in the mainActivity I calculate the current date and time every 1 minute (this does not affect the performance of the app) and I compare it to see if the time and date are greater than the date established as the date and time of the end of the debates If so, the discussion in question should be removed from the recyclerview's discussion list. So far everything works relatively well, the problem is that in order to update the recyclerview I have to change the fragment view and then return to the recycler to see the updated discussion list (with finished discussions removed from the recyclerview). My question is how to update the discussion list in the recyclerview without having to use any event (for example on click or others) or without the need to change views. The idea is that, for example, if a user is in the recycler view and the closing time of a debate passes, then the debate should disappear even if the user is just in the recycler view without doing anything.</p>\n<p>code:</p>\n<p>activityMain:</p>\n<pre><code>public class MainActivity extends AppCompatActivity  {\n    \n    public String date_now;\n    List&lt;ListDebates&gt; list;\n    public ListAdapter listDebates;\n\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n        new getTime().start();\n       \n    }\n    @Override\n    public void onBackPressed() {\n\n    }\n\n        return true;\n    }\n\n    class getTime extends Thread {\n        @Override\n        public void run() {\n            ConexionSQliteHelper conn=new ConexionSQliteHelper(getApplicationContext(),&quot;db_testwuad_7&quot;,null,31);\n            try {\n                while(true){\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            DateTimeFormatter datetime_formatter = DateTimeFormatter.ofPattern(&quot;HH:mm dd/MM/YYYY&quot;);\n                            LocalDateTime now = LocalDateTime.now();\n                            date_now = datetime_formatter.format(now);\n                            Log.i(&quot;hour&quot;,date_now);\n                            conn.deleteDebate(date_now);\n                            list = conn.getDataofDebate();\n                            listDebates = new ListAdapter(list, getApplicationContext());\n                            listDebates.notifyDataSetChanged();\n\n\n                        }\n                    });\n                    Thread.sleep(60000);\n                }\n\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    }\n\n}\n\n</code></pre>\n<p>adapter.class</p>\n<pre><code>public class ListAdapter extends RecyclerView.Adapter&lt;ListAdapter.ViewHolder&gt; implements View.OnClickListener {\n    private List&lt;ListDebates&gt; data;\n    private LayoutInflater inflater;\n    private Context context;\n    private View.OnClickListener listener;\n    public String date_now,name_sent;\n    TextView viewer;\n    public ListAdapter(List &lt;ListDebates&gt; itemList,Context context){\n        this.inflater = LayoutInflater.from(context);\n        this.data = itemList;\n        this.context = context;\n    }\n    //onCreateViewHolder enlaza el adaptador con el archivo xml\n    @NonNull\n    @Override\n    public ListAdapter.ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = inflater.inflate(R.layout.cardview,null);\n        view.setOnClickListener(this);\n        return new ViewHolder(view);\n    }\n    //onBindViewHolder establece la comunicacin entre el adaptador y la clase ViewHolder\n    // .Aqu se enva la informacin que se quiere mostrar,para ello se ocupa el objeto holder\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, int position) {\n       holder.title.setText(data.get(position).getTitle_debate());\n       holder.user.setText(data.get(position).getName_user());\n       holder.arguments.setText(data.get(position).getArguments_debate());\n       //holder.image_post.s.getImage_debate()));\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n    public void setOnClickListener(View.OnClickListener listener){\n        this.listener=listener;\n    }\n\n    @Override\n    public void onClick(View v) {\n        if(listener!=null){\n            listener.onClick(v);\n        }\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n        ImageView image_post;\n        TextView title,user,arguments;\n        public ViewHolder(@NonNull View itemView) {\n            super(itemView);\n            image_post = itemView.findViewById(R.id.image_debate);\n            title = itemView.findViewById(R.id.title);\n            user = itemView.findViewById(R.id.nameUserofPost);\n            arguments = itemView.findViewById(R.id.arguments_post);\n\n        }\n\n    }\n}\n\n</code></pre>\n"},{"tags":["java","playwright"],"comments":[{"owner":{"account_id":2754837,"reputation":19523,"user_id":2373249,"accept_rate":25,"display_name":"hardkoded"},"score":0,"creation_date":1649073910,"post_id":71733914,"comment_id":126776214,"body_markdown":"The log is saying that the element is not visible.","body":"The log is saying that the element is not visible."}],"answers":[{"tags":[],"owner":{"account_id":321990,"reputation":3258,"user_id":641135,"accept_rate":88,"display_name":"Christian Baumann"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1649074022,"creation_date":1649074022,"answer_id":71737000,"question_id":71733914,"body_markdown":"You need to use `#` when the locator is an ID: `page.fill(&quot;#g-recaptcha-response&quot;, &quot;hello&quot;);`\r\n\r\n`.` is for classes\r\n\r\nSee #id selector: https://www.w3schools.com/cssref/sel_id.asp\r\n\r\nand .class selector: https://www.w3schools.com/cssref/sel_class.asp","title":"How to fill html textarea element with playwright-java?","body":"<p>You need to use <code>#</code> when the locator is an ID: <code>page.fill(&quot;#g-recaptcha-response&quot;, &quot;hello&quot;);</code></p>\n<p><code>.</code> is for classes</p>\n<p>See #id selector: <a href=\"https://www.w3schools.com/cssref/sel_id.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/cssref/sel_id.asp</a></p>\n<p>and .class selector: <a href=\"https://www.w3schools.com/cssref/sel_class.asp\" rel=\"nofollow noreferrer\">https://www.w3schools.com/cssref/sel_class.asp</a></p>\n"},{"tags":[],"owner":{"account_id":3876010,"reputation":31,"user_id":3210048,"display_name":"guilherme.osaka"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662186784,"creation_date":1662186784,"answer_id":73590159,"question_id":71733914,"body_markdown":"Playwright has something called `Auto-waiting/Actionability` by default.\r\n\r\nhttps://playwright.dev/java/docs/actionability\r\n\r\nIn that case the `fill` method is waiting for the textarea to be visible, but since that element is always invisible, it throws an exception after some time.\r\n\r\nYou could try to set the `force` tag to &lt;i&gt;true&lt;/i&gt; in order to ignore those actionabilities, but honestly it didn&#39;t work for me:\r\n\r\n    page.locator(&quot;#g-recaptcha-response&quot;).fill(solution, new Page.FillOptions().setForce(true));\r\n\r\nWhat I ended up doing was executing a Javascript code through `evaluate`:\r\n\r\n    page.evaluate(&quot;solution =&gt; document.querySelector(&#39;#g-recaptcha-response&#39;).innerHTML = solution&quot;, &quot;hello&quot;);\r\n\r\nPS: I translated the code above from C# to Java, so I didn&#39;t tested it, but it&#39;ll probably work as well.","title":"How to fill html textarea element with playwright-java?","body":"<p>Playwright has something called <code>Auto-waiting/Actionability</code> by default.</p>\n<p><a href=\"https://playwright.dev/java/docs/actionability\" rel=\"nofollow noreferrer\">https://playwright.dev/java/docs/actionability</a></p>\n<p>In that case the <code>fill</code> method is waiting for the textarea to be visible, but since that element is always invisible, it throws an exception after some time.</p>\n<p>You could try to set the <code>force</code> tag to <i>true</i> in order to ignore those actionabilities, but honestly it didn't work for me:</p>\n<pre><code>page.locator(&quot;#g-recaptcha-response&quot;).fill(solution, new Page.FillOptions().setForce(true));\n</code></pre>\n<p>What I ended up doing was executing a Javascript code through <code>evaluate</code>:</p>\n<pre><code>page.evaluate(&quot;solution =&gt; document.querySelector('#g-recaptcha-response').innerHTML = solution&quot;, &quot;hello&quot;);\n</code></pre>\n<p>PS: I translated the code above from C# to Java, so I didn't tested it, but it'll probably work as well.</p>\n"}],"owner":{"account_id":24818930,"reputation":31,"user_id":18699467,"display_name":"blizzardforce"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1807,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1662186784,"creation_date":1649059926,"question_id":71733914,"body_markdown":"I have a textarea html tag element and need to update the text within it. For example, here is what the tag looks like: \r\n\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;textarea id=&quot;g-recaptcha-response&quot; name=&quot;g-recaptcha-response&quot; class=&quot;g-recaptcha-response&quot; style=&quot;width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;&quot;&gt;&lt;/textarea&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nQuestion: how can I add a string inside of the textarea html tag? For example, I would like to add &quot;hello&quot; in the html tag and make it look like this afterwards: \r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    &lt;textarea id=&quot;g-recaptcha-response&quot; name=&quot;g-recaptcha-response&quot; class=&quot;g-recaptcha-response&quot; style=&quot;width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;&quot;&gt;hello&lt;/textarea&gt;\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\nI have tried this code:\r\n\r\n    page.fill(&quot;.g-recaptcha-response&quot;, &quot;hello&quot;);\r\n\r\nHowever, it throws this error: &quot;waiting for selector .g-recaptcha-response. selector resolved to hidden &lt;textarea id=&quot;g-recaptcharesponse&quot; name=&quot;g-recaptcha-response...&gt;&lt;/textarea&gt; elementHandle.fill(&quot;hello&quot;) waiting for element to be visible, enabled and editable, element is not visible - waiting...","title":"How to fill html textarea element with playwright-java?","body":"<p>I have a textarea html tag element and need to update the text within it. For example, here is what the tag looks like:</p>\n<p><div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>&lt;textarea id=\"g-recaptcha-response\" name=\"g-recaptcha-response\" class=\"g-recaptcha-response\" style=\"width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;\"&gt;&lt;/textarea&gt;</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p>Question: how can I add a string inside of the textarea html tag? For example, I would like to add &quot;hello&quot; in the html tag and make it look like this afterwards:</p>\n<pre class=\"lang-html prettyprint-override\"><code>&lt;textarea id=&quot;g-recaptcha-response&quot; name=&quot;g-recaptcha-response&quot; class=&quot;g-recaptcha-response&quot; style=&quot;width: 250px; height: 40px; border: 1px solid rgb(193, 193, 193); margin: 10px 25px; padding: 0px; resize: none; display: none;&quot;&gt;hello&lt;/textarea&gt;\n</code></pre>\n\n<p>I have tried this code:</p>\n<pre><code>page.fill(&quot;.g-recaptcha-response&quot;, &quot;hello&quot;);\n</code></pre>\n<p>However, it throws this error: &quot;waiting for selector .g-recaptcha-response. selector resolved to hidden &lt;textarea id=&quot;g-recaptcharesponse&quot; name=&quot;g-recaptcha-response...&gt; elementHandle.fill(&quot;hello&quot;) waiting for element to be visible, enabled and editable, element is not visible - waiting...</p>\n"},{"tags":["java","spring-boot","spring-mvc","spring-test","mockmvc"],"answers":[{"tags":[],"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658803913,"creation_date":1658803913,"answer_id":73117248,"question_id":73112964,"body_markdown":"I figured the issue. The error like it says above is my template name is different. It is best practice to name your api the same as your html page. To solve this error, I had to change the name of my html page to showNewProductForm and also the return string to return for binding error in service class.\r\n\r\n    if (bindingResult.hasErrors()) {\r\n                return &quot;add-new-product&quot;; // For binding error, you always return to the form instead of the get API\r\n            }\r\n\r\nAlso there is no need for this (below) in the test method. View the online documentation sample for why it is not needed\r\n\r\n    when(productService\r\n                    .saveProduct(product, bindingResult, model, mockMultipartFile, redirectAttributes))\r\n                    .thenReturn(String.valueOf(product));\r\n\r\n\r\n ","title":"Spring Controller testing","body":"<p>I figured the issue. The error like it says above is my template name is different. It is best practice to name your api the same as your html page. To solve this error, I had to change the name of my html page to showNewProductForm and also the return string to return for binding error in service class.</p>\n<pre><code>if (bindingResult.hasErrors()) {\n            return &quot;add-new-product&quot;; // For binding error, you always return to the form instead of the get API\n        }\n</code></pre>\n<p>Also there is no need for this (below) in the test method. View the online documentation sample for why it is not needed</p>\n<pre><code>when(productService\n                .saveProduct(product, bindingResult, model, mockMultipartFile, redirectAttributes))\n                .thenReturn(String.valueOf(product));\n</code></pre>\n"}],"owner":{"account_id":25502779,"reputation":109,"user_id":19295685,"display_name":"seju"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662186386,"creation_date":1658769007,"question_id":73112964,"body_markdown":"I am trying to test a post method called saveProduct in my springboot application. It takes params like product, bindingResult, model, multipartFile, redirectAttributes. The product has an attribute photo. \r\n\r\nThe issue is I am getting an http status is 400 when it is supposed to be 200. I looked at the several online documentation on how to test post api but I still cant figure it out. This is one of the documentation I was looking at on how to test a post multipart uploading springboot application.\r\nhttps://spring.io/guides/gs/uploading-files/\r\n\r\nController class (method)\r\n\r\n    @PostMapping(&quot;/showNewProductForm&quot;)\r\n        public String addAProduct(@Valid @ModelAttribute(&quot;saved&quot;) Product product,\r\n                                  BindingResult bindingResult,\r\n                                  Model model,\r\n                                  @RequestParam(&quot;image&quot;) MultipartFile file,\r\n                                  RedirectAttributes redirectAttributes) {\r\n            return productService\r\n                    .saveProduct(product, bindingResult, model, file, redirectAttributes);\r\n        }\r\n\r\nService class (method)\r\n\r\n    public String saveProduct(Product product,\r\n                                  BindingResult bindingResult,\r\n                                  Model model,\r\n                                  MultipartFile file,\r\n                                  RedirectAttributes redirectAttributes) {\r\n            Optional&lt;Product&gt; productByName = productRepository.findProductByName(product.getName());\r\n    \r\n            if (bindingResult.hasErrors()) {\r\n                return &quot;add-new-product&quot;; // For binding error, you always return to the form instead of the get API\r\n            } else if (productByName.isPresent()) {\r\n                redirectAttributes.addFlashAttribute(&quot;message&quot;,\r\n                        product.getName() + &quot; already exists, please enter a different name&quot;);\r\n                return &quot;redirect:/showNewProductForm&quot;;\r\n            }\r\n            boolean checkImageUploadStatus = addingImageLogic(product, file);\r\n            if (!checkImageUploadStatus) {\r\n                redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Please enter an image for &quot; + product.getName());\r\n                return &quot;redirect:/showNewProductForm&quot;;\r\n            }\r\n            productRepository.save(product);\r\n            model.addAttribute(&quot;saved&quot;, product);\r\n            redirectAttributes.addFlashAttribute(&quot;message&quot;,\r\n                    &quot;You successfully uploaded &quot; + product.getName() + &quot;!&quot;);\r\n            return &quot;redirect:/showNewProductForm&quot;;\r\n        }\r\n\r\nTest class\r\n\r\n    @WebMvcTest(ProductController.class)\r\n    class ProductControllerTest {\r\n        @Autowired\r\n        private MockMvc mockMvc;\r\n    \r\n        @MockBean\r\n        private ProductService productService;\r\n    \r\n    \r\n        @Test\r\n        void addAProduct() throws Exception {\r\n            /*\r\n            *  Product parameters are\r\n            *  product (name, category, description, photo)\r\n            */\r\n            Product product = new Product();\r\n            product.setName(&quot;Test Run&quot;);\r\n            product.setCategory(&quot;Dairy&quot;);\r\n            product.setDescription(&quot;Lorem 24&quot;);\r\n            Model model = mock(Model.class);\r\n            BindingResult bindingResult = mock(BindingResult.class);\r\n            RedirectAttributes redirectAttributes = mock(RedirectAttributes.class);\r\n    \r\n            // When\r\n            MockMultipartFile mockMultipartFile = new MockMultipartFile(\r\n                    &quot;image&quot;,\r\n                    &quot;green-bean.jpg&quot;,\r\n                    &quot;image/png, image/jpg, image/jpeg&quot;,\r\n                    &quot;random img&quot;.getBytes()\r\n            );\r\n            when(productService\r\n                    .saveProduct(product, bindingResult, model, mockMultipartFile, redirectAttributes))\r\n                    .thenReturn(String.valueOf(product));\r\n    \r\n            // then\r\n    \r\n            this.mockMvc\r\n                    .perform(multipart(&quot;/showNewProductForm&quot;)\r\n                            .file(mockMultipartFile))\r\n                    .andExpect(status().isOk())\r\n                    .andExpect(jsonPath(&quot;$.name&quot;, is(&quot;Test Run&quot;)));\r\n    \r\n            then(this.productService)\r\n                    .should()\r\n                    .saveProduct(product, bindingResult, model, mockMultipartFile, redirectAttributes);\r\n        }\r\n    \r\n    }\r\n\r\nThe error message \r\n\r\n    org.thymeleaf.exceptions.TemplateInputException: Error resolving template [showNewProductForm], template might not exist or might not be accessible by any of the configured Template Resolvers\r\n\r\nStructure\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/svnJM.png","title":"Spring Controller testing","body":"<p>I am trying to test a post method called saveProduct in my springboot application. It takes params like product, bindingResult, model, multipartFile, redirectAttributes. The product has an attribute photo.</p>\n<p>The issue is I am getting an http status is 400 when it is supposed to be 200. I looked at the several online documentation on how to test post api but I still cant figure it out. This is one of the documentation I was looking at on how to test a post multipart uploading springboot application.\n<a href=\"https://spring.io/guides/gs/uploading-files/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/uploading-files/</a></p>\n<p>Controller class (method)</p>\n<pre><code>@PostMapping(&quot;/showNewProductForm&quot;)\n    public String addAProduct(@Valid @ModelAttribute(&quot;saved&quot;) Product product,\n                              BindingResult bindingResult,\n                              Model model,\n                              @RequestParam(&quot;image&quot;) MultipartFile file,\n                              RedirectAttributes redirectAttributes) {\n        return productService\n                .saveProduct(product, bindingResult, model, file, redirectAttributes);\n    }\n</code></pre>\n<p>Service class (method)</p>\n<pre><code>public String saveProduct(Product product,\n                              BindingResult bindingResult,\n                              Model model,\n                              MultipartFile file,\n                              RedirectAttributes redirectAttributes) {\n        Optional&lt;Product&gt; productByName = productRepository.findProductByName(product.getName());\n\n        if (bindingResult.hasErrors()) {\n            return &quot;add-new-product&quot;; // For binding error, you always return to the form instead of the get API\n        } else if (productByName.isPresent()) {\n            redirectAttributes.addFlashAttribute(&quot;message&quot;,\n                    product.getName() + &quot; already exists, please enter a different name&quot;);\n            return &quot;redirect:/showNewProductForm&quot;;\n        }\n        boolean checkImageUploadStatus = addingImageLogic(product, file);\n        if (!checkImageUploadStatus) {\n            redirectAttributes.addFlashAttribute(&quot;message&quot;, &quot;Please enter an image for &quot; + product.getName());\n            return &quot;redirect:/showNewProductForm&quot;;\n        }\n        productRepository.save(product);\n        model.addAttribute(&quot;saved&quot;, product);\n        redirectAttributes.addFlashAttribute(&quot;message&quot;,\n                &quot;You successfully uploaded &quot; + product.getName() + &quot;!&quot;);\n        return &quot;redirect:/showNewProductForm&quot;;\n    }\n</code></pre>\n<p>Test class</p>\n<pre><code>@WebMvcTest(ProductController.class)\nclass ProductControllerTest {\n    @Autowired\n    private MockMvc mockMvc;\n\n    @MockBean\n    private ProductService productService;\n\n\n    @Test\n    void addAProduct() throws Exception {\n        /*\n        *  Product parameters are\n        *  product (name, category, description, photo)\n        */\n        Product product = new Product();\n        product.setName(&quot;Test Run&quot;);\n        product.setCategory(&quot;Dairy&quot;);\n        product.setDescription(&quot;Lorem 24&quot;);\n        Model model = mock(Model.class);\n        BindingResult bindingResult = mock(BindingResult.class);\n        RedirectAttributes redirectAttributes = mock(RedirectAttributes.class);\n\n        // When\n        MockMultipartFile mockMultipartFile = new MockMultipartFile(\n                &quot;image&quot;,\n                &quot;green-bean.jpg&quot;,\n                &quot;image/png, image/jpg, image/jpeg&quot;,\n                &quot;random img&quot;.getBytes()\n        );\n        when(productService\n                .saveProduct(product, bindingResult, model, mockMultipartFile, redirectAttributes))\n                .thenReturn(String.valueOf(product));\n\n        // then\n\n        this.mockMvc\n                .perform(multipart(&quot;/showNewProductForm&quot;)\n                        .file(mockMultipartFile))\n                .andExpect(status().isOk())\n                .andExpect(jsonPath(&quot;$.name&quot;, is(&quot;Test Run&quot;)));\n\n        then(this.productService)\n                .should()\n                .saveProduct(product, bindingResult, model, mockMultipartFile, redirectAttributes);\n    }\n\n}\n</code></pre>\n<p>The error message</p>\n<pre><code>org.thymeleaf.exceptions.TemplateInputException: Error resolving template [showNewProductForm], template might not exist or might not be accessible by any of the configured Template Resolvers\n</code></pre>\n<p>Structure\n<a href=\"https://i.stack.imgur.com/svnJM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/svnJM.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","maven","spring-boot","h2","dependency-management"],"answers":[{"tags":[],"owner":{"account_id":4279009,"reputation":7633,"user_id":3498962,"display_name":"Essex Boy"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1530536998,"creation_date":1530534796,"answer_id":51136345,"question_id":51135807,"body_markdown":"The profile tag can be at any level in you pom, Just set 2 sets of properties.\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.greg&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;profile-boot-example&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.1.0&lt;/version&gt;\r\n    \r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;1.5.10.RELEASE&lt;/version&gt;\r\n    \t&lt;/parent&gt;\r\n    \r\n    \t&lt;profiles&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;prod&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;h2.scope&gt;test&lt;/h2.scope&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t\t&lt;profile&gt;\r\n    \t\t\t&lt;id&gt;emb&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;h2.scope&gt;compile&lt;/h2.scope&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n    \t&lt;/profiles&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;${h2.scope}&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;executions&gt;\r\n    \t\t\t\t\t&lt;execution&gt;\r\n    \t\t\t\t\t\t&lt;goals&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;integration-test&lt;/goal&gt;\r\n    \t\t\t\t\t\t\t&lt;goal&gt;verify&lt;/goal&gt;\r\n    \t\t\t\t\t\t&lt;/goals&gt;\r\n    \t\t\t\t\t&lt;/execution&gt;\r\n    \t\t\t\t&lt;/executions&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Override maven dependency scope in profile","body":"<p>The profile tag can be at any level in you pom, Just set 2 sets of properties.</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.greg&lt;/groupId&gt;\n    &lt;artifactId&gt;profile-boot-example&lt;/artifactId&gt;\n    &lt;version&gt;0.1.0&lt;/version&gt;\n\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;1.5.10.RELEASE&lt;/version&gt;\n    &lt;/parent&gt;\n\n    &lt;profiles&gt;\n        &lt;profile&gt;\n            &lt;id&gt;prod&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;true&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;h2.scope&gt;test&lt;/h2.scope&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n        &lt;profile&gt;\n            &lt;id&gt;emb&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;h2.scope&gt;compile&lt;/h2.scope&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n    &lt;/profiles&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;${h2.scope}&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;integration-test&lt;/goal&gt;\n                            &lt;goal&gt;verify&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8854730,"reputation":878,"user_id":6612842,"display_name":"Michal Maov&#237;k"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1530604495,"creation_date":1530604495,"answer_id":51149315,"question_id":51135807,"body_markdown":"**Finally I found out that dependency scope override is working correctly.**\r\n\r\nIts enough to run maven build with selected profile like this:\r\n\r\n    mvn clean install -P emb\r\n\r\nYou can also check dependency scopes with:\r\n\r\n    mvn -P emb dependency:analyze\r\n\r\n**Problem** was with running **spring-boot** application:\r\n\r\nWhen I used eclipse/idea or \r\n\r\n    mvn spring-boot:run\r\nit fails on missing h2 driver - probably because of running another build without proper profile.\r\n\r\n**Solution** is to run spring-boot app after maven build with simple java:\r\n\r\n    java -jar target/your-app.jar --spring.profiles.active=emb\r\n*(spring profile in this case is another story - adding just for full info)*\r\n\r\n","title":"Override maven dependency scope in profile","body":"<p><strong>Finally I found out that dependency scope override is working correctly.</strong></p>\n\n<p>Its enough to run maven build with selected profile like this:</p>\n\n<pre><code>mvn clean install -P emb\n</code></pre>\n\n<p>You can also check dependency scopes with:</p>\n\n<pre><code>mvn -P emb dependency:analyze\n</code></pre>\n\n<p><strong>Problem</strong> was with running <strong>spring-boot</strong> application:</p>\n\n<p>When I used eclipse/idea or </p>\n\n<pre><code>mvn spring-boot:run\n</code></pre>\n\n<p>it fails on missing h2 driver - probably because of running another build without proper profile.</p>\n\n<p><strong>Solution</strong> is to run spring-boot app after maven build with simple java:</p>\n\n<pre><code>java -jar target/your-app.jar --spring.profiles.active=emb\n</code></pre>\n\n<p><em>(spring profile in this case is another story - adding just for full info)</em></p>\n"},{"tags":[],"owner":{"account_id":8986718,"reputation":2467,"user_id":6700081,"accept_rate":73,"display_name":"firstpostcommenter"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662185959,"creation_date":1662130499,"answer_id":73584465,"question_id":51135807,"body_markdown":"Instead of having 2 profiles, you can just add default value directly in property section.\r\n\r\n       &lt;properties&gt;\r\n    \t\t&lt;h2.scope&gt;test&lt;/h2.scope&gt;\r\n    \t&lt;/properties&gt;\r\n\r\nDependency:\r\n\r\n        &lt;dependency&gt;\r\n          &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n          &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n          &lt;scope&gt;${h2.scope}&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nAnd in a custom profile called `h2` I change the dependency scope.:\r\n\r\n           &lt;profile&gt;\r\n    \t\t\t&lt;id&gt;h2&lt;/id&gt;\r\n    \t\t\t&lt;activation&gt;\r\n    \t\t\t\t&lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n    \t\t\t&lt;/activation&gt;\r\n    \t\t\t&lt;properties&gt;\r\n    \t\t\t\t&lt;h2.scope&gt;compile&lt;/h2.scope&gt;\r\n    \t\t\t&lt;/properties&gt;\r\n    \t\t&lt;/profile&gt;\r\n\r\nFor people who are using **Intellij IDEA IDE**:\r\nYou need to tick the profile in maven tab as well and not just in edit configuration\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/inl2a.jpg","title":"Override maven dependency scope in profile","body":"<p>Instead of having 2 profiles, you can just add default value directly in property section.</p>\n<pre><code>   &lt;properties&gt;\n        &lt;h2.scope&gt;test&lt;/h2.scope&gt;\n    &lt;/properties&gt;\n</code></pre>\n<p>Dependency:</p>\n<pre><code>    &lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;scope&gt;${h2.scope}&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>And in a custom profile called <code>h2</code> I change the dependency scope.:</p>\n<pre><code>       &lt;profile&gt;\n            &lt;id&gt;h2&lt;/id&gt;\n            &lt;activation&gt;\n                &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n            &lt;/activation&gt;\n            &lt;properties&gt;\n                &lt;h2.scope&gt;compile&lt;/h2.scope&gt;\n            &lt;/properties&gt;\n        &lt;/profile&gt;\n</code></pre>\n<p>For people who are using <strong>Intellij IDEA IDE</strong>:\nYou need to tick the profile in maven tab as well and not just in edit configuration\n<a href=\"https://i.stack.imgur.com/inl2a.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/inl2a.jpg\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":8854730,"reputation":878,"user_id":6612842,"display_name":"Michal Maov&#237;k"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9068,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":51149315,"answer_count":3,"score":6,"last_activity_date":1662185959,"creation_date":1530533021,"question_id":51135807,"body_markdown":"I have spring-boot application based on maven.\r\n\r\nI want to have h2 database as dependency only for tests so I have it as follows:\r\n\r\n    &lt;dependency&gt;\r\n          &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n          &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n          &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\nthen I need one maven profile for development which needs h2 as compile or runtime dependency:\r\n \r\n        &lt;profile&gt;\r\n          &lt;id&gt;emb&lt;/id&gt;\r\n          &lt;activation&gt;\r\n            &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\r\n          &lt;/activation&gt;\r\n          &lt;dependencies&gt;\r\n            &lt;!-- Using embedded database in development --&gt;\r\n            &lt;dependency&gt;\r\n              &lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n              &lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n              &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n          &lt;/dependencies&gt;\r\n        &lt;/profile&gt;\r\n\r\nBut it still failing on &quot;Cannot load driver class: org.h2.Driver&quot; as it is using test scope only.\r\n\r\nWhen I removed test scope specification from dependency it works but it is not what I want since I don&#39;t want to have in production.\r\n\r\nAny possibility how to rewrite dependency scope based on profile?","title":"Override maven dependency scope in profile","body":"<p>I have spring-boot application based on maven.</p>\n\n<p>I want to have h2 database as dependency only for tests so I have it as follows:</p>\n\n<pre><code>&lt;dependency&gt;\n      &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n      &lt;artifactId&gt;h2&lt;/artifactId&gt;\n      &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>then I need one maven profile for development which needs h2 as compile or runtime dependency:</p>\n\n<pre><code>    &lt;profile&gt;\n      &lt;id&gt;emb&lt;/id&gt;\n      &lt;activation&gt;\n        &lt;activeByDefault&gt;false&lt;/activeByDefault&gt;\n      &lt;/activation&gt;\n      &lt;dependencies&gt;\n        &lt;!-- Using embedded database in development --&gt;\n        &lt;dependency&gt;\n          &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n          &lt;artifactId&gt;h2&lt;/artifactId&gt;\n          &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n      &lt;/dependencies&gt;\n    &lt;/profile&gt;\n</code></pre>\n\n<p>But it still failing on \"Cannot load driver class: org.h2.Driver\" as it is using test scope only.</p>\n\n<p>When I removed test scope specification from dependency it works but it is not what I want since I don't want to have in production.</p>\n\n<p>Any possibility how to rewrite dependency scope based on profile?</p>\n"},{"tags":["java","android","kotlin","image-gallery"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662178213,"post_id":73589345,"comment_id":129951345,"body_markdown":"Do not use the File class. You have the uri with ContentUris.withAppendedId(). Use that. But if it is not your file with Android 11+ execute a delete request.","body":"Do not use the File class. You have the uri with ContentUris.withAppendedId(). Use that. But if it is not your file with Android 11+ execute a delete request."}],"answers":[{"tags":[],"owner":{"account_id":24997503,"reputation":448,"user_id":18858169,"display_name":"Bhavin Solanki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662184667,"creation_date":1662184667,"answer_id":73589991,"question_id":73589345,"body_markdown":"I have not much idea about your error but Try this Simple solution to delete image of gallery. \r\nHope it may be Helpful to you.\r\n\r\n \r\n\r\n    private void deleteImageFromGallery() {\r\n            \r\n            String myGalleryImageFilePath;\r\n    \r\n            if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\r\n                myGalleryImageFilePath = Environment.getExternalStorageDirectory().getAbsolutePath() + File.separator + Environment.DIRECTORY_PICTURES + File.separator + getString(R.string.app_folder_name) + &quot;/&quot; + imageName;\r\n            } else {\r\n                myGalleryImageFilePath = Environment.getExternalStorageDirectory() + File.separator + getString(R.string.app_folder_name) + &quot;/&quot; + imageName;\r\n            }\r\n    \r\n            File galleryImageDelete = new File(myGalleryImageFilePath);\r\n    \r\n            if (galleryImageDelete.exists()){\r\n                if (galleryImageDelete.delete()) {\r\n                    Toast.makeText(this, &quot;Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                } else {\r\n                    Toast.makeText(this, &quot;Not Deleted&quot;, Toast.LENGTH_SHORT).show();\r\n                }\r\n            }\r\n        }","title":"Android how to remove image from gallery","body":"<p>I have not much idea about your error but Try this Simple solution to delete image of gallery.\nHope it may be Helpful to you.</p>\n<pre><code>private void deleteImageFromGallery() {\n        \n        String myGalleryImageFilePath;\n\n        if (android.os.Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.R) {\n            myGalleryImageFilePath = Environment.getExternalStorageDirectory().getAbsolutePath() + File.separator + Environment.DIRECTORY_PICTURES + File.separator + getString(R.string.app_folder_name) + &quot;/&quot; + imageName;\n        } else {\n            myGalleryImageFilePath = Environment.getExternalStorageDirectory() + File.separator + getString(R.string.app_folder_name) + &quot;/&quot; + imageName;\n        }\n\n        File galleryImageDelete = new File(myGalleryImageFilePath);\n\n        if (galleryImageDelete.exists()){\n            if (galleryImageDelete.delete()) {\n                Toast.makeText(this, &quot;Deleted&quot;, Toast.LENGTH_SHORT).show();\n            } else {\n                Toast.makeText(this, &quot;Not Deleted&quot;, Toast.LENGTH_SHORT).show();\n            }\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":26232592,"reputation":1,"user_id":19908257,"display_name":"Alex"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":221,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662184667,"creation_date":1662174095,"question_id":73589345,"body_markdown":"I have get data all images in gallery from my phone. But when i want action delete one image selected and can&#39;t delete image. How to use java or kotlin to delete image in gallery ?. Sorry my english very bad.\r\nMy code to get all image from gallery:\r\n\r\n    ```   val imageProjection = arrayOf(\r\n                MediaStore.Images.Media._ID,\r\n                MediaStore.Images.Media.BUCKET_DISPLAY_NAME,\r\n                MediaStore.Images.Media.DATE_TAKEN,\r\n                MediaStore.Images.Media.SIZE,\r\n                MediaStore.Images.Media.DATA,\r\n                MediaStore.Images.Media.DISPLAY_NAME,\r\n            )\r\n    \r\n            val imageSortOrder = &quot;${MediaStore.Images.Media.DATE_ADDED} DESC&quot;\r\n    \r\n            val cursor = requireActivity().contentResolver.query(\r\n                MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\r\n                imageProjection,\r\n                null,\r\n                null,\r\n                imageSortOrder\r\n            )\r\n            cursor.use {\r\n                if (cursor != null) {\r\n                    var display_name1=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DISPLAY_NAME)\r\n                    val idColumn = cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID)\r\n                    val data=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA)\r\n                    val date_taken=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATE_TAKEN)\r\n                    val id=cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID)\r\n                    val name=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.BUCKET_DISPLAY_NAME)\r\n                    val size=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.SIZE)\r\n                    val display_name=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.BUCKET_DISPLAY_NAME)\r\n                    while (cursor.moveToNext()) {\r\n                        allImages.add(ContentUris.withAppendedId(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, cursor.getLong(idColumn)))\r\n                        var path=cursor.getString(data)\r\n                        var file:File=File(path)\r\n                        var sizeLong=cursor.getLong(size)\r\n                        var dateTaken=cursor.getLong(date_taken)\r\n                        listArrayImages.add(\r\n                            ImageData(\r\n                                ContentUris.withAppendedId(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, cursor.getLong(idColumn)),\r\n                                path,\r\n                                file.name,\r\n                                sizeLong,\r\n                                getDate(dateTaken,&quot;dd/MM/yyyy hh:mm:ss&quot;)\r\n                            )\r\n                        )\r\n                    }\r\n                }\r\n                else {\r\n    \r\n                }\r\n            } ```\r\n\r\nAnd code to delete image:\r\n\r\n    ``` var file: File:File(image_path.toString)\r\n    delete(requireActivity(),file)\r\n     fun delete(context: Context, file: File): Boolean {\r\n            val where = MediaStore.MediaColumns.DATA + &quot;=?&quot;\r\n            val selectionArgs = arrayOf(\r\n                file.absolutePath\r\n            )\r\n            val contentResolver = context.`enter code here`contentResolver\r\n            val filesUri = MediaStore.Files.getContentUri(&quot;external&quot;)\r\n            contentResolver.delete(filesUri, where, selectionArgs)\r\n            if (file.exists()) {\r\n                contentResolver.delete(filesUri, where, selectionArgs)\r\n            }\r\n            return !file.exists()\r\n        } ```\r\n\r\nBut delete function return false and still can&#39;t delete image from gallery","title":"Android how to remove image from gallery","body":"<p>I have get data all images in gallery from my phone. But when i want action delete one image selected and can't delete image. How to use java or kotlin to delete image in gallery ?. Sorry my english very bad.\nMy code to get all image from gallery:</p>\n<pre><code>```   val imageProjection = arrayOf(\n            MediaStore.Images.Media._ID,\n            MediaStore.Images.Media.BUCKET_DISPLAY_NAME,\n            MediaStore.Images.Media.DATE_TAKEN,\n            MediaStore.Images.Media.SIZE,\n            MediaStore.Images.Media.DATA,\n            MediaStore.Images.Media.DISPLAY_NAME,\n        )\n\n        val imageSortOrder = &quot;${MediaStore.Images.Media.DATE_ADDED} DESC&quot;\n\n        val cursor = requireActivity().contentResolver.query(\n            MediaStore.Images.Media.EXTERNAL_CONTENT_URI,\n            imageProjection,\n            null,\n            null,\n            imageSortOrder\n        )\n        cursor.use {\n            if (cursor != null) {\n                var display_name1=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DISPLAY_NAME)\n                val idColumn = cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID)\n                val data=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATA)\n                val date_taken=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATE_TAKEN)\n                val id=cursor.getColumnIndexOrThrow(MediaStore.Images.Media._ID)\n                val name=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.BUCKET_DISPLAY_NAME)\n                val size=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.SIZE)\n                val display_name=cursor.getColumnIndexOrThrow(MediaStore.Images.Media.BUCKET_DISPLAY_NAME)\n                while (cursor.moveToNext()) {\n                    allImages.add(ContentUris.withAppendedId(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, cursor.getLong(idColumn)))\n                    var path=cursor.getString(data)\n                    var file:File=File(path)\n                    var sizeLong=cursor.getLong(size)\n                    var dateTaken=cursor.getLong(date_taken)\n                    listArrayImages.add(\n                        ImageData(\n                            ContentUris.withAppendedId(MediaStore.Images.Media.EXTERNAL_CONTENT_URI, cursor.getLong(idColumn)),\n                            path,\n                            file.name,\n                            sizeLong,\n                            getDate(dateTaken,&quot;dd/MM/yyyy hh:mm:ss&quot;)\n                        )\n                    )\n                }\n            }\n            else {\n\n            }\n        } ```\n</code></pre>\n<p>And code to delete image:</p>\n<pre><code>``` var file: File:File(image_path.toString)\ndelete(requireActivity(),file)\n fun delete(context: Context, file: File): Boolean {\n        val where = MediaStore.MediaColumns.DATA + &quot;=?&quot;\n        val selectionArgs = arrayOf(\n            file.absolutePath\n        )\n        val contentResolver = context.`enter code here`contentResolver\n        val filesUri = MediaStore.Files.getContentUri(&quot;external&quot;)\n        contentResolver.delete(filesUri, where, selectionArgs)\n        if (file.exists()) {\n            contentResolver.delete(filesUri, where, selectionArgs)\n        }\n        return !file.exists()\n    } ```\n</code></pre>\n<p>But delete function return false and still can't delete image from gallery</p>\n"},{"tags":["java","android","android-recyclerview","android-room","android-filterable"],"comments":[{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1662181174,"post_id":73589700,"comment_id":129951616,"body_markdown":"I am not able to get your question properly, can you please explain the exact problem which you are facing?","body":"I am not able to get your question properly, can you please explain the exact problem which you are facing?"},{"owner":{"account_id":25709482,"reputation":137,"user_id":19468261,"display_name":"ShahZaman Rai"},"score":0,"creation_date":1662182513,"post_id":73589700,"comment_id":129951754,"body_markdown":"after searching, when I add something(via user) it does not display in the reycylerView Adapter. Until I reload my app","body":"after searching, when I add something(via user) it does not display in the reycylerView Adapter. Until I reload my app"},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1662182640,"post_id":73589700,"comment_id":129951768,"body_markdown":"are you talking about recycleview list not refreshing after adding a new Item to It?","body":"are you talking about recycleview list not refreshing after adding a new Item to It?"},{"owner":{"account_id":25709482,"reputation":137,"user_id":19468261,"display_name":"ShahZaman Rai"},"score":0,"creation_date":1662182783,"post_id":73589700,"comment_id":129951787,"body_markdown":"no, filterable does not show all items, instead it shows only filtered items even after deleting text and closing searchView","body":"no, filterable does not show all items, instead it shows only filtered items even after deleting text and closing searchView"},{"owner":{"account_id":25709482,"reputation":137,"user_id":19468261,"display_name":"ShahZaman Rai"},"score":0,"creation_date":1662182800,"post_id":73589700,"comment_id":129951789,"body_markdown":"only after when i search something","body":"only after when i search something"},{"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"score":0,"creation_date":1662183090,"post_id":73589700,"comment_id":129951816,"body_markdown":"Check answer, Hopefully It will work","body":"Check answer, Hopefully It will work"}],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662183064,"creation_date":1662183064,"answer_id":73589876,"question_id":73589700,"body_markdown":"Modify your filterList() function like this -\r\n\r\n    private void filterList(String text) {\r\n        if (!text.trim().isEmpty()) {\r\n            ArrayList&lt;Notes&gt; filteredList = new ArrayList&lt;&gt;();\r\n            for (Notes notes : arrNotes) {\r\n                if (notes.title.toLowerCase().contains(text.toLowerCase()) || notes.text.toLowerCase().contains(text.toLowerCase())) {\r\n                    filteredList.add(notes);\r\n                }\r\n                adapter.setFilteredList(filteredList);\r\n            }\r\n        }else{\r\n            adapter.setFilteredList(arrNotes);\r\n        }\r\n    }\r\n\r\n","title":"List not updating after Filtering with searchView","body":"<p>Modify your filterList() function like this -</p>\n<pre><code>private void filterList(String text) {\n    if (!text.trim().isEmpty()) {\n        ArrayList&lt;Notes&gt; filteredList = new ArrayList&lt;&gt;();\n        for (Notes notes : arrNotes) {\n            if (notes.title.toLowerCase().contains(text.toLowerCase()) || notes.text.toLowerCase().contains(text.toLowerCase())) {\n                filteredList.add(notes);\n            }\n            adapter.setFilteredList(filteredList);\n        }\n    }else{\n        adapter.setFilteredList(arrNotes);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":25709482,"reputation":137,"user_id":19468261,"display_name":"ShahZaman Rai"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":313,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73589876,"answer_count":1,"score":0,"last_activity_date":1662183064,"creation_date":1662180519,"question_id":73589700,"body_markdown":"I implemented searchView in android which filters data. It works correctly But after filtering data, when I add new data it does not show in recyclerView when I restart the app then it shows, I am also able to view that item after again searching something and then backspace it.\r\nHere is My Adapter Class\r\n```\r\npackage com.example.keepnotes;\r\n\r\nimport android.annotation.SuppressLint;\r\nimport android.app.AlertDialog;\r\nimport android.content.Context;\r\nimport android.content.DialogInterface;\r\nimport android.content.Intent;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.TextView;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.cardview.widget.CardView;\r\nimport androidx.recyclerview.widget.RecyclerView;\r\n\r\nimport java.util.ArrayList;\r\n\r\npublic class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.ViewHolder&gt; {\r\n\r\n    Context context;\r\n    ArrayList&lt;Notes&gt; arrNotes;\r\n    DatabaseHelper databaseHelper;\r\n\r\n    RecyclerViewAdapter(Context context, ArrayList&lt;Notes&gt; arrNotes, DatabaseHelper databaseHelper) {\r\n        this.context = context;\r\n        this.arrNotes = arrNotes;\r\n        this.databaseHelper = databaseHelper;\r\n    }\r\n\r\n    public void setFilteredList(ArrayList&lt;Notes&gt; filteredList) {\r\n        this.arrNotes = filteredList;\r\n        notifyDataSetChanged();\r\n\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(context).inflate(R.layout.single_view, parent, false);\r\n        return new ViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\r\n        holder.title.setText(arrNotes.get(position).title);\r\n        holder.body.setText(arrNotes.get(position).text);\r\n        holder.index.setText(String.valueOf(position + 1));\r\n\r\n\r\n        holder.llView.setOnClickListener(view -&gt; {\r\n            Intent iNext = new Intent(context, ViewActivity.class);\r\n            iNext.putExtra(&quot;title&quot;, arrNotes.get(position).title);\r\n            iNext.putExtra(&quot;text&quot;, arrNotes.get(position).text);\r\n            iNext.putExtra(&quot;id&quot;, arrNotes.get(position).id);\r\n            context.startActivity(iNext);\r\n        });\r\n\r\n        holder.llView.setOnLongClickListener(view -&gt; {\r\n            showDeleteDialog(position);\r\n            return true;\r\n        });\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return arrNotes.size();\r\n    }\r\n\r\n    public class ViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        TextView title, body, index;\r\n        CardView llView;\r\n\r\n        public ViewHolder(View itemView) {\r\n            super(itemView);\r\n            title = itemView.findViewById(R.id.text_title_view);\r\n            body = itemView.findViewById(R.id.text_text_view);\r\n            index = itemView.findViewById(R.id.index);\r\n            llView = itemView.findViewById(R.id.card_View);\r\n            databaseHelper = DatabaseHelper.getDatabase(context);\r\n        }\r\n    }\r\n\r\n    private void showDeleteDialog(int position) {\r\n        AlertDialog.Builder alert = new AlertDialog.Builder(context)\r\n                .setTitle(&quot;Delete view&quot;)\r\n                .setMessage(&quot;Are you sure to delete&quot;)\r\n                .setIcon(R.drawable.ic_baseline_delete_24)\r\n                .setPositiveButton(&quot;yes&quot;, new DialogInterface.OnClickListener() {\r\n                    @Override\r\n                    public void onClick(DialogInterface dialogInterface, int i) {\r\n                        databaseHelper.notesDao().deleteNotes(new Notes(arrNotes.get(position).getId(), arrNotes.get(position).getTitle(), arrNotes.get(position).getText()));\r\n                    }\r\n                })\r\n                .setNegativeButton(&quot;No&quot;, (dialogInterface, i) -&gt; {\r\n\r\n                });\r\n        alert.show();\r\n    }\r\n}\r\n\r\n\r\n```\r\n\r\n\r\nHere is My filterable function\r\n```\r\n\r\n    private void filterList(String text) {\r\n        ArrayList&lt;Notes&gt; filteredList = new ArrayList&lt;&gt;();\r\n        for (Notes notes : arrNotes) {\r\n            if (notes.title.toLowerCase().contains(text.toLowerCase()) || notes.text.toLowerCase().contains(text.toLowerCase())) {\r\n                filteredList.add(notes);\r\n            }\r\n            if (!(filteredList.isEmpty())) {\r\n                adapter.setFilteredList(filteredList);\r\n            }\r\n        }\r\n\r\n    }\r\n```\r\n\r\nHere I implemented SearchView\r\n```\r\n\r\n        searchView = findViewById(R.id.searchView);\r\n        searchView.clearFocus();\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                filterList(newText);\r\n                return false;\r\n            }\r\n\r\n        });\r\n```\r\n\r\nI updated data using live data using this\r\n```\r\n        modelView = new ViewModelProvider(this).get(notesModelView.class);\r\n        modelView.getAllNotes().observe(this, new Observer&lt;List&lt;Notes&gt;&gt;() {\r\n            @Override\r\n            public void onChanged(List&lt;Notes&gt; notes) {\r\n                arrNotes.clear();\r\n                arrNotes.addAll(notes);\r\n                adapter.notifyDataSetChanged();\r\n            }\r\n        });\r\n\r\n```","title":"List not updating after Filtering with searchView","body":"<p>I implemented searchView in android which filters data. It works correctly But after filtering data, when I add new data it does not show in recyclerView when I restart the app then it shows, I am also able to view that item after again searching something and then backspace it.\nHere is My Adapter Class</p>\n<pre><code>package com.example.keepnotes;\n\nimport android.annotation.SuppressLint;\nimport android.app.AlertDialog;\nimport android.content.Context;\nimport android.content.DialogInterface;\nimport android.content.Intent;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.TextView;\n\nimport androidx.annotation.NonNull;\nimport androidx.cardview.widget.CardView;\nimport androidx.recyclerview.widget.RecyclerView;\n\nimport java.util.ArrayList;\n\npublic class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.ViewHolder&gt; {\n\n    Context context;\n    ArrayList&lt;Notes&gt; arrNotes;\n    DatabaseHelper databaseHelper;\n\n    RecyclerViewAdapter(Context context, ArrayList&lt;Notes&gt; arrNotes, DatabaseHelper databaseHelper) {\n        this.context = context;\n        this.arrNotes = arrNotes;\n        this.databaseHelper = databaseHelper;\n    }\n\n    public void setFilteredList(ArrayList&lt;Notes&gt; filteredList) {\n        this.arrNotes = filteredList;\n        notifyDataSetChanged();\n\n    }\n\n    @NonNull\n    @Override\n    public ViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n        View view = LayoutInflater.from(context).inflate(R.layout.single_view, parent, false);\n        return new ViewHolder(view);\n    }\n\n    @Override\n    public void onBindViewHolder(@NonNull ViewHolder holder, @SuppressLint(&quot;RecyclerView&quot;) int position) {\n        holder.title.setText(arrNotes.get(position).title);\n        holder.body.setText(arrNotes.get(position).text);\n        holder.index.setText(String.valueOf(position + 1));\n\n\n        holder.llView.setOnClickListener(view -&gt; {\n            Intent iNext = new Intent(context, ViewActivity.class);\n            iNext.putExtra(&quot;title&quot;, arrNotes.get(position).title);\n            iNext.putExtra(&quot;text&quot;, arrNotes.get(position).text);\n            iNext.putExtra(&quot;id&quot;, arrNotes.get(position).id);\n            context.startActivity(iNext);\n        });\n\n        holder.llView.setOnLongClickListener(view -&gt; {\n            showDeleteDialog(position);\n            return true;\n        });\n\n\n    }\n\n    @Override\n    public int getItemCount() {\n        return arrNotes.size();\n    }\n\n    public class ViewHolder extends RecyclerView.ViewHolder {\n\n        TextView title, body, index;\n        CardView llView;\n\n        public ViewHolder(View itemView) {\n            super(itemView);\n            title = itemView.findViewById(R.id.text_title_view);\n            body = itemView.findViewById(R.id.text_text_view);\n            index = itemView.findViewById(R.id.index);\n            llView = itemView.findViewById(R.id.card_View);\n            databaseHelper = DatabaseHelper.getDatabase(context);\n        }\n    }\n\n    private void showDeleteDialog(int position) {\n        AlertDialog.Builder alert = new AlertDialog.Builder(context)\n                .setTitle(&quot;Delete view&quot;)\n                .setMessage(&quot;Are you sure to delete&quot;)\n                .setIcon(R.drawable.ic_baseline_delete_24)\n                .setPositiveButton(&quot;yes&quot;, new DialogInterface.OnClickListener() {\n                    @Override\n                    public void onClick(DialogInterface dialogInterface, int i) {\n                        databaseHelper.notesDao().deleteNotes(new Notes(arrNotes.get(position).getId(), arrNotes.get(position).getTitle(), arrNotes.get(position).getText()));\n                    }\n                })\n                .setNegativeButton(&quot;No&quot;, (dialogInterface, i) -&gt; {\n\n                });\n        alert.show();\n    }\n}\n\n\n</code></pre>\n<p>Here is My filterable function</p>\n<pre><code>\n    private void filterList(String text) {\n        ArrayList&lt;Notes&gt; filteredList = new ArrayList&lt;&gt;();\n        for (Notes notes : arrNotes) {\n            if (notes.title.toLowerCase().contains(text.toLowerCase()) || notes.text.toLowerCase().contains(text.toLowerCase())) {\n                filteredList.add(notes);\n            }\n            if (!(filteredList.isEmpty())) {\n                adapter.setFilteredList(filteredList);\n            }\n        }\n\n    }\n</code></pre>\n<p>Here I implemented SearchView</p>\n<pre><code>\n        searchView = findViewById(R.id.searchView);\n        searchView.clearFocus();\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n            @Override\n            public boolean onQueryTextSubmit(String query) {\n                return false;\n            }\n\n            @Override\n            public boolean onQueryTextChange(String newText) {\n                filterList(newText);\n                return false;\n            }\n\n        });\n</code></pre>\n<p>I updated data using live data using this</p>\n<pre><code>        modelView = new ViewModelProvider(this).get(notesModelView.class);\n        modelView.getAllNotes().observe(this, new Observer&lt;List&lt;Notes&gt;&gt;() {\n            @Override\n            public void onChanged(List&lt;Notes&gt; notes) {\n                arrNotes.clear();\n                arrNotes.addAll(notes);\n                adapter.notifyDataSetChanged();\n            }\n        });\n\n</code></pre>\n"},{"tags":["java","android","firebase-realtime-database"],"comments":[{"owner":{"account_id":4445006,"reputation":2263,"user_id":3618575,"accept_rate":78,"display_name":"Rob"},"score":0,"creation_date":1490409898,"post_id":43011860,"comment_id":73113427,"body_markdown":"Place some code in your question so we can see what&#39;s going on. It&#39;s hard to figure things out without reading what you&#39;ve done so far.","body":"Place some code in your question so we can see what&#39;s going on. It&#39;s hard to figure things out without reading what you&#39;ve done so far."},{"owner":{"account_id":8351372,"reputation":305,"user_id":6273398,"accept_rate":30,"display_name":"Saransh Agarwal"},"score":0,"creation_date":1490411088,"post_id":43011860,"comment_id":73113630,"body_markdown":"have updated the question @rob.","body":"have updated the question @rob."}],"answers":[{"tags":[],"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490412052,"creation_date":1490412052,"answer_id":43012146,"question_id":43011860,"body_markdown":"IMO what you should be doing is attaching the listener once, and then making that data available to your other methods, either through caching or persistent storage. You could create a data object that is updated when firebase is updated, and possibly use something like data binding to update the UI. But you only need to attach one listener, despite how many other places need the data. You can always get data once you have it. ","title":"onDataChange() in Firebase getting triggered multiple times","body":"<p>IMO what you should be doing is attaching the listener once, and then making that data available to your other methods, either through caching or persistent storage. You could create a data object that is updated when firebase is updated, and possibly use something like data binding to update the UI. But you only need to attach one listener, despite how many other places need the data. You can always get data once you have it. </p>\n"},{"tags":[],"owner":{"account_id":20357907,"reputation":83,"user_id":14933013,"display_name":"c.dipu0"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662182201,"creation_date":1662182201,"answer_id":73589820,"question_id":43011860,"body_markdown":"Using SingleEventListener instead of ValueEventListener","title":"onDataChange() in Firebase getting triggered multiple times","body":"<p>Using SingleEventListener instead of ValueEventListener</p>\n"}],"owner":{"account_id":8351372,"reputation":305,"user_id":6273398,"accept_rate":30,"display_name":"Saransh Agarwal"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":697,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662182201,"creation_date":1490408902,"question_id":43011860,"body_markdown":"In firebase the onDataChange() function gets called multiple times, after some  searching I found out that it would be called the number of times the listener is getting attached. But I have attached the listener multiple times since I need the different queries and fetch different type of database. How can I fix this.  I have used the addValueEventListener 9 times to retrieve or sort different data stored at different nodes in the database. What would be the the proper of fetching the data. Any help would be appreciated. Here is some places I have used the code.\r\n\r\n    \r\n        firebaseUrl.addValueEventListener(new ValueEventListener() {\r\n            public void onDataChange(DataSnapshot dataSnapshot) {\r\n                String temp, temp1;\r\n                Log.e(TAG, &quot;onDataChange: mytime &quot; + dataSnapshot.getValue());\r\n                long timeStampLong = (long) dataSnapshot.child(&quot;time&quot;).child(&quot;timestamp&quot;).getValue();\r\n                SimpleDateFormat sfd = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n\r\n                temp1 = sfd.format(new Date(timeStampLong));\r\n                try {\r\n                    if (isTimeBetweenTwoTime(&quot;08:00:00&quot;, &quot;20:00:00&quot;, temp1)) {\r\n                        //do something\r\n\r\n\r\n                    }\r\n                } catch (ParseException e) {\r\n                    e.printStackTrace();\r\n                }\r\n\r\n\r\n            }\r\n\r\n            public void onCancelled(DatabaseError databaseError) {\r\n\r\n            }\r\n        });\r\n        firebaseUrl.child(&quot;time&quot;).child(&quot;timestamp&quot;).setValue(ServerValue.TIMESTAMP);\r\n.\r\n\r\n\r\n\r\n           DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\r\n            databaseReference.addValueEventListener(new ValueEventListener() {\r\n                public void onDataChange(DataSnapshot dataSnapshot) {\r\n                    String temp1;\r\n                    long timeStampLong = (long) dataSnapshot.child(&quot;time&quot;).child(&quot;timestamp&quot;).getValue();\r\n                    SimpleDateFormat sfd1 = new SimpleDateFormat(&quot;HH:mm:ss&quot;);\r\n                    temp1 = sfd1.format(new Date(timeStampLong));\r\n\r\n\r\n                    onClickShowAnswerButton(temp1);\r\n\r\n                }\r\n\r\n                public void onCancelled(DatabaseError databaseError) {\r\n\r\n                }\r\n            });\r\n.\r\n\r\n    public void onClickShowAnswerButton(String time) {\r\n\r\n        try {\r\n            if (isTimeBetweenTwoTime(&quot;08:00:00&quot;, &quot;20:00:00&quot;, time)) {\r\n                showDialogBox(&quot;Today&#39;s Answer&quot;, &quot;The answer can be seen in between 8 PM to 8 AM only&quot;);\r\n            } else {\r\n\r\n                DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\r\n                databaseReference.addValueEventListener(new ValueEventListener() {\r\n                    @Override\r\n                    public void onDataChange(DataSnapshot dataSnapshot) {\r\n                        String correctAnswerString, yourAnswerString;\r\n                        String title;\r\n\r\n                        correctAnswerString = dataSnapshot.child(&quot;questions&quot;).child(imagename).child(&quot;correctAnswer&quot;).getValue(String.class);\r\n                        yourAnswerString = dataSnapshot.child(&quot;users&quot;).child(uid).child(&quot;questions&quot;).child(imagename).child(&quot;yourAnswer&quot;).getValue(String.class);\r\n                        if (correctAnswerString.equals(yourAnswerString))\r\n                            title = &quot;CorrectAnswer: &quot; + correctAnswerString + &quot;\\nCongratulations your answer answer is correct &quot;;\r\n                        else if (yourAnswerString == null)\r\n                            title = &quot;Answer: &quot; + correctAnswerString + &quot;\\nYou haven&#39;t answered the question&quot;;\r\n                        else\r\n                            title = &quot;Answer: &quot; + correctAnswerString + &quot;\\nYour Answer: &quot; + yourAnswerString + &quot;\\nSorry your answer is incorrect&quot;;\r\n\r\n                        showDialogBox(&quot;Today&#39;s Answer&quot;, title);\r\n\r\n                    }\r\n\r\n                    @Override\r\n                    public void onCancelled(DatabaseError databaseError) {\r\n\r\n                    }\r\n                });\r\n\r\n            }\r\n        } catch (ParseException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }","title":"onDataChange() in Firebase getting triggered multiple times","body":"<p>In firebase the onDataChange() function gets called multiple times, after some  searching I found out that it would be called the number of times the listener is getting attached. But I have attached the listener multiple times since I need the different queries and fetch different type of database. How can I fix this.  I have used the addValueEventListener 9 times to retrieve or sort different data stored at different nodes in the database. What would be the the proper of fetching the data. Any help would be appreciated. Here is some places I have used the code.</p>\n\n<pre><code>    firebaseUrl.addValueEventListener(new ValueEventListener() {\n        public void onDataChange(DataSnapshot dataSnapshot) {\n            String temp, temp1;\n            Log.e(TAG, \"onDataChange: mytime \" + dataSnapshot.getValue());\n            long timeStampLong = (long) dataSnapshot.child(\"time\").child(\"timestamp\").getValue();\n            SimpleDateFormat sfd = new SimpleDateFormat(\"HH:mm:ss\");\n\n            temp1 = sfd.format(new Date(timeStampLong));\n            try {\n                if (isTimeBetweenTwoTime(\"08:00:00\", \"20:00:00\", temp1)) {\n                    //do something\n\n\n                }\n            } catch (ParseException e) {\n                e.printStackTrace();\n            }\n\n\n        }\n\n        public void onCancelled(DatabaseError databaseError) {\n\n        }\n    });\n    firebaseUrl.child(\"time\").child(\"timestamp\").setValue(ServerValue.TIMESTAMP);\n</code></pre>\n\n<p>.</p>\n\n<pre><code>       DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\n        databaseReference.addValueEventListener(new ValueEventListener() {\n            public void onDataChange(DataSnapshot dataSnapshot) {\n                String temp1;\n                long timeStampLong = (long) dataSnapshot.child(\"time\").child(\"timestamp\").getValue();\n                SimpleDateFormat sfd1 = new SimpleDateFormat(\"HH:mm:ss\");\n                temp1 = sfd1.format(new Date(timeStampLong));\n\n\n                onClickShowAnswerButton(temp1);\n\n            }\n\n            public void onCancelled(DatabaseError databaseError) {\n\n            }\n        });\n</code></pre>\n\n<p>.</p>\n\n<pre><code>public void onClickShowAnswerButton(String time) {\n\n    try {\n        if (isTimeBetweenTwoTime(\"08:00:00\", \"20:00:00\", time)) {\n            showDialogBox(\"Today's Answer\", \"The answer can be seen in between 8 PM to 8 AM only\");\n        } else {\n\n            DatabaseReference databaseReference = FirebaseDatabase.getInstance().getReference();\n            databaseReference.addValueEventListener(new ValueEventListener() {\n                @Override\n                public void onDataChange(DataSnapshot dataSnapshot) {\n                    String correctAnswerString, yourAnswerString;\n                    String title;\n\n                    correctAnswerString = dataSnapshot.child(\"questions\").child(imagename).child(\"correctAnswer\").getValue(String.class);\n                    yourAnswerString = dataSnapshot.child(\"users\").child(uid).child(\"questions\").child(imagename).child(\"yourAnswer\").getValue(String.class);\n                    if (correctAnswerString.equals(yourAnswerString))\n                        title = \"CorrectAnswer: \" + correctAnswerString + \"\\nCongratulations your answer answer is correct \";\n                    else if (yourAnswerString == null)\n                        title = \"Answer: \" + correctAnswerString + \"\\nYou haven't answered the question\";\n                    else\n                        title = \"Answer: \" + correctAnswerString + \"\\nYour Answer: \" + yourAnswerString + \"\\nSorry your answer is incorrect\";\n\n                    showDialogBox(\"Today's Answer\", title);\n\n                }\n\n                @Override\n                public void onCancelled(DatabaseError databaseError) {\n\n                }\n            });\n\n        }\n    } catch (ParseException e) {\n        e.printStackTrace();\n    }\n}\n</code></pre>\n"},{"tags":["java","multithreading","spring-boot","locking","low-level"],"comments":[{"owner":{"account_id":1810491,"reputation":2458,"user_id":1646671,"accept_rate":53,"display_name":"uldall"},"score":1,"creation_date":1662150086,"post_id":73586759,"comment_id":129948076,"body_markdown":"Since you want to use an RDBMS I would suggest that you start with creating the database tables and their relation before doing any Java code.","body":"Since you want to use an RDBMS I would suggest that you start with creating the database tables and their relation before doing any Java code."}],"answers":[{"tags":[],"owner":{"account_id":422870,"reputation":25925,"user_id":801894,"display_name":"Solomon Slow"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662166394,"creation_date":1662165914,"answer_id":73588959,"question_id":73586759,"body_markdown":"This is not really an _answer_ because I&#39;m not a database guy, but here&#39;s a rough sketch of what I would try:\r\n\r\n1. Application locks the table of available seats, takes a snapshot of the table, unlocks it, and then shows the snapshot to the user.\r\n\r\n1. User makes their selection and presses a button labelled &quot;**Reserve&#160;Seats**.&quot;\r\n\r\n1. Application locks the table and checks whether the selected seats still are available. There&#39;s two possible outcomes:\r\n\r\n    A. If one or more of the seats has been reserved by some other, quicker user, the application will; unlock the table, display a dialog that says, &quot;Sorry, somebody else snagged those, please try again,&quot; and then it goes back to step&#160;1.\r\n\r\n    B. Otherwise, the application marks those seats as `on_hold`, it timestamps them, and it unlocks the table. `on_hold` prevents other users from reserving those same seats, but only for a limited timemaybe five minutes. The seats also are associated with a &quot;shopping cart.&quot;\r\n\r\n1. Now, the user has some number of _reserved_ seats in their shopping cart, but has not yet paid for them. User has the option to go back and reserve more seats, but let&#39;s say they press the &quot;**Checkout**&quot; button.\r\n\r\n1. Application presents user with forms to fill out with credit card information, etc. But meanwhile, other users also are looking for seats. If, during some _other_ user&#39;s step&#160;1 (remember step&#160;1?) any seat shows up as having been `on_hold` for more than five minutes, the application will;\r\n\r\n    A. change the status of the seat to `available`, and \r\n\r\n    B. Cancel the shopping cart that contains that seat. (Owner of the shopping cart sees a dialog that says &quot;Ooh! Too bad! So sad! You waited too long,&quot; and they&#39;re sent back to step&#160;1.)\r\n\r\n1. But, if the user completes the transaction before their shopping cart is cancelled, then the application will lock the seat table, change the status of the seats to `sold`, unlock the seat table, and send the user their tickets.","title":"How to lock seats for a user in a movie ticketing application using Springboot","body":"<p>This is not really an <em>answer</em> because I'm not a database guy, but here's a rough sketch of what I would try:</p>\n<ol>\n<li><p>Application locks the table of available seats, takes a snapshot of the table, unlocks it, and then shows the snapshot to the user.</p>\n</li>\n<li><p>User makes their selection and presses a button labelled &quot;<strong>ReserveSeats</strong>.&quot;</p>\n</li>\n<li><p>Application locks the table and checks whether the selected seats still are available. There's two possible outcomes:</p>\n<p>A. If one or more of the seats has been reserved by some other, quicker user, the application will; unlock the table, display a dialog that says, &quot;Sorry, somebody else snagged those, please try again,&quot; and then it goes back to step1.</p>\n<p>B. Otherwise, the application marks those seats as <code>on_hold</code>, it timestamps them, and it unlocks the table. <code>on_hold</code> prevents other users from reserving those same seats, but only for a limited timemaybe five minutes. The seats also are associated with a &quot;shopping cart.&quot;</p>\n</li>\n<li><p>Now, the user has some number of <em>reserved</em> seats in their shopping cart, but has not yet paid for them. User has the option to go back and reserve more seats, but let's say they press the &quot;<strong>Checkout</strong>&quot; button.</p>\n</li>\n<li><p>Application presents user with forms to fill out with credit card information, etc. But meanwhile, other users also are looking for seats. If, during some <em>other</em> user's step1 (remember step1?) any seat shows up as having been <code>on_hold</code> for more than five minutes, the application will;</p>\n<p>A. change the status of the seat to <code>available</code>, and</p>\n<p>B. Cancel the shopping cart that contains that seat. (Owner of the shopping cart sees a dialog that says &quot;Ooh! Too bad! So sad! You waited too long,&quot; and they're sent back to step1.)</p>\n</li>\n<li><p>But, if the user completes the transaction before their shopping cart is cancelled, then the application will lock the seat table, change the status of the seats to <code>sold</code>, unlock the seat table, and send the user their tickets.</p>\n</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":5228097,"reputation":124,"user_id":4179474,"display_name":"Howard007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662166568,"creation_date":1662166568,"answer_id":73588990,"question_id":73586759,"body_markdown":"Rough and rushed brain dump: Agree with Uldall, create your data model and SQL DDL first, normalize and validate it. \r\nYou need a Customer entity/table. I think you need an associative entity between Show and Seat, like ShowSeat with references to Show, Seat and Customer. ShowSeat also has isConfirmed boolean flag and lockExpirationTimestamp.  Primary key on show_seat table is composite of show_id and seat_id (requires @Embeddable class to represent).\r\nWhen a customer selects the seat for the show, insert the row into show_seat but do NOT set confirmed=&#39;Y&#39; until it IS confirmed.\r\nAny row in show_seat table with lock_expiration_timestamp &lt; now() and confirmed=&#39;N&#39; is fair game to be given to another customer.\r\n","title":"How to lock seats for a user in a movie ticketing application using Springboot","body":"<p>Rough and rushed brain dump: Agree with Uldall, create your data model and SQL DDL first, normalize and validate it.\nYou need a Customer entity/table. I think you need an associative entity between Show and Seat, like ShowSeat with references to Show, Seat and Customer. ShowSeat also has isConfirmed boolean flag and lockExpirationTimestamp.  Primary key on show_seat table is composite of show_id and seat_id (requires @Embeddable class to represent).\nWhen a customer selects the seat for the show, insert the row into show_seat but do NOT set confirmed='Y' until it IS confirmed.\nAny row in show_seat table with lock_expiration_timestamp &lt; now() and confirmed='N' is fair game to be given to another customer.</p>\n"}],"owner":{"display_name":"user17312833"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1066,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1662181988,"creation_date":1662143729,"question_id":73586759,"body_markdown":"I am trying to build a movie ticket booking application just to practice for interview low level design perspective.\r\n\r\nA theater can have multiple screens and each screen as some seats capacity. A show is a movie which will be shown in a screen.\r\n\r\nBelow are model/entity classes that I have created.\r\n```java\r\npublic class Booking {\r\n\r\n    private final String id;\r\n    private final Show show;\r\n    private final List&lt;Seat&gt; seatsBooked;\r\n    private final String user;\r\n    private BookingStatus bookingStatus;\r\n}\r\n\r\npublic enum BookingStatus {\r\n    Created,\r\n    Confirmed,\r\n    Expired\r\n}\r\n\r\npublic class Movie {\r\n\r\n    private final String id;\r\n    private final String name;\r\n\r\n    //Other metadata\r\n}\r\n\r\npublic class Screen {\r\n\r\n    private final String id;\r\n    private final String name;\r\n    private final Theatre theatre;\r\n    //Other screen metadata.\r\n\r\n    private final List&lt;Seat&gt; seats;\r\n}\r\n\r\npublic class Seat {\r\n\r\n    private final String id;\r\n    private final int rowNo;\r\n    private final int seatNo;\r\n}\r\n\r\npublic class Show {\r\n\r\n    private final String id;\r\n    private final Movie movie;\r\n    private final Screen screen;\r\n    private final Date startTime;\r\n    private final Integer durationInSeconds;\r\n}\r\n\r\npublic class Theatre {\r\n\r\n    private final String id;\r\n    private final String name;\r\n    private final List&lt;Screen&gt; screens;\r\n    //Other theatre metadata.\r\n}\r\n\r\n```\r\nRefer link for full code and reference - [Movie Ticket Booking App][1]\r\n\r\nI have not included the getters, setters and some methods in my classes. Here, when a user searches a movie name in the application, then it will be handled by a ShowController.java and it will show some movie shows present in the theaters to the user. And then if a user select a show for a particular theater screen. Then the user will select some seats as per his choice. \r\nNow the problem comes, when one user selects a list of seats then I want to change those seats status to CREATED (enum BookingStatus) and those selected seats must be unavailable to other users.\r\nSo, how can I mark those seats as occupied or unavailable to other users as it is a multi-threaded application. And also if the user payment fails or got logged out, how can I unlock those seats so that they got available for other users.\r\n\r\nPlease provide some code or any useful link how it can be done?. \r\nIs it a good approach to save the status of seats when changed to CREATED in a memory storage like Redis and for seats selected by users we check the status of each seat in Redis whether it is reserved or not. And if booking is successfully done by user then we can mark those seats as permanently reserved in a database.\r\n\r\n\r\n  [1]: https://github.com/anomaly2104/ticket-booking-low-level-system-design","title":"How to lock seats for a user in a movie ticketing application using Springboot","body":"<p>I am trying to build a movie ticket booking application just to practice for interview low level design perspective.</p>\n<p>A theater can have multiple screens and each screen as some seats capacity. A show is a movie which will be shown in a screen.</p>\n<p>Below are model/entity classes that I have created.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Booking {\n\n    private final String id;\n    private final Show show;\n    private final List&lt;Seat&gt; seatsBooked;\n    private final String user;\n    private BookingStatus bookingStatus;\n}\n\npublic enum BookingStatus {\n    Created,\n    Confirmed,\n    Expired\n}\n\npublic class Movie {\n\n    private final String id;\n    private final String name;\n\n    //Other metadata\n}\n\npublic class Screen {\n\n    private final String id;\n    private final String name;\n    private final Theatre theatre;\n    //Other screen metadata.\n\n    private final List&lt;Seat&gt; seats;\n}\n\npublic class Seat {\n\n    private final String id;\n    private final int rowNo;\n    private final int seatNo;\n}\n\npublic class Show {\n\n    private final String id;\n    private final Movie movie;\n    private final Screen screen;\n    private final Date startTime;\n    private final Integer durationInSeconds;\n}\n\npublic class Theatre {\n\n    private final String id;\n    private final String name;\n    private final List&lt;Screen&gt; screens;\n    //Other theatre metadata.\n}\n\n</code></pre>\n<p>Refer link for full code and reference - <a href=\"https://github.com/anomaly2104/ticket-booking-low-level-system-design\" rel=\"nofollow noreferrer\">Movie Ticket Booking App</a></p>\n<p>I have not included the getters, setters and some methods in my classes. Here, when a user searches a movie name in the application, then it will be handled by a ShowController.java and it will show some movie shows present in the theaters to the user. And then if a user select a show for a particular theater screen. Then the user will select some seats as per his choice.\nNow the problem comes, when one user selects a list of seats then I want to change those seats status to CREATED (enum BookingStatus) and those selected seats must be unavailable to other users.\nSo, how can I mark those seats as occupied or unavailable to other users as it is a multi-threaded application. And also if the user payment fails or got logged out, how can I unlock those seats so that they got available for other users.</p>\n<p>Please provide some code or any useful link how it can be done?.\nIs it a good approach to save the status of seats when changed to CREATED in a memory storage like Redis and for seats selected by users we check the status of each seat in Redis whether it is reserved or not. And if booking is successfully done by user then we can mark those seats as permanently reserved in a database.</p>\n"},{"tags":["java","android","firebase","crashlytics"],"answers":[{"tags":[],"owner":{"account_id":26222699,"reputation":31,"user_id":19899847,"display_name":"Ellen Strnod"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662181105,"creation_date":1662181105,"answer_id":73589741,"question_id":73589421,"body_markdown":"Son of a ...!  After DAYS on this problem, I just found the answer - the issue is, actually, that the display version had spaces in it.  So, in the module level build.gradle, I had a descriptive versionName which explains in Google Play the latest summary of changes:\r\n```\r\n        versionName &quot;2022.08.31.99 Blah, blah blah&quot;\r\n```\r\n, which looked suspicious in the error  &quot;E/FirebaseCrashlytics: Settings request failed. java.io.FileNotFoundException: https://firebase-settings.crashlytics.com/spi/v2/platforms/android/gmp/(snip)&amp;build_version=99&amp;display_version=2022.08.31.99 blah blah blah&quot;, since URLs can&#39;t have spaces - so I tried changing it to just:\r\n```\r\n        versionName &quot;2022.08.31.99&quot;\r\n```\r\nI recompiled it and ran it over USB on the phone, tapped the test crash button and got a crash report almost immediately.  Backed it out, the problem occurs, put it back, it&#39;s working!  Hope this helps someone else!\r\n\r\nBy the way, this was working using a local debug build running over USB. Furthermore, it does not have to match an uploaded version in Google Play - I subsequently incremented it and it still reported a crash. It does seem to have an issue over VPN (it might be the particular server, or maybe just not allowed on VPN.) These were crashes that automatically uploaded to Crashlytics - I did not have to choose &quot;Report&quot; on a popup, and actually, could not because they were local builds, which as I mentioned earlier, don&#39;t give that option.\r\n\r\n","title":"Firebase Crashlytics crash reports only appearing when app runs in Pre-release testing","body":"<p>Son of a ...!  After DAYS on this problem, I just found the answer - the issue is, actually, that the display version had spaces in it.  So, in the module level build.gradle, I had a descriptive versionName which explains in Google Play the latest summary of changes:</p>\n<pre><code>        versionName &quot;2022.08.31.99 Blah, blah blah&quot;\n</code></pre>\n<p>, which looked suspicious in the error  &quot;E/FirebaseCrashlytics: Settings request failed. java.io.FileNotFoundException: <a href=\"https://firebase-settings.crashlytics.com/spi/v2/platforms/android/gmp/(snip)&amp;build_version=99&amp;display_version=2022.08.31.99\" rel=\"nofollow noreferrer\">https://firebase-settings.crashlytics.com/spi/v2/platforms/android/gmp/(snip)&amp;build_version=99&amp;display_version=2022.08.31.99</a> blah blah blah&quot;, since URLs can't have spaces - so I tried changing it to just:</p>\n<pre><code>        versionName &quot;2022.08.31.99&quot;\n</code></pre>\n<p>I recompiled it and ran it over USB on the phone, tapped the test crash button and got a crash report almost immediately.  Backed it out, the problem occurs, put it back, it's working!  Hope this helps someone else!</p>\n<p>By the way, this was working using a local debug build running over USB. Furthermore, it does not have to match an uploaded version in Google Play - I subsequently incremented it and it still reported a crash. It does seem to have an issue over VPN (it might be the particular server, or maybe just not allowed on VPN.) These were crashes that automatically uploaded to Crashlytics - I did not have to choose &quot;Report&quot; on a popup, and actually, could not because they were local builds, which as I mentioned earlier, don't give that option.</p>\n"}],"owner":{"account_id":26222699,"reputation":31,"user_id":19899847,"display_name":"Ellen Strnod"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":953,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662181105,"creation_date":1662175814,"question_id":73589421,"body_markdown":"I have followed and triple-verified all of the setup steps for adding firebase &amp; crashlytics to my app here: https://firebase.google.com/docs/android/setup?hl=en and here: https://firebase.google.com/docs/crashlytics/get-started?authuser=0&amp;platform=android, verified that the google-services.json is correct (actually re-downloaded it for comparison, and it works for Firebase messaging). Enabled Analytics sharing. Crashlytics enabled for my app on Firebase console. Some json reports do get logged as uploaded at runtime (not crashes) with a 204 result, but on startup, the app gets an error &quot;E/FirebaseCrashlytics: Settings request failed.\r\n    java.io.FileNotFoundException: https://firebase-settings.crashlytics.com/spi/v2/platforms/android/gmp/(snip)&amp;build_version=99&amp;display_version=2022.08.31.99 blah blah blah&quot; and then when I click on my &quot;TEST CRASH&quot; button, I get another error &quot; E/FirebaseCrashlytics: Cannot send reports. Timed out while fetching settings.&quot;.\r\n\r\nThe thing is, the crash reports DO appear for crashes that occur during the Google Play Pre-Release testing upon upload to Google Play (closed testing), including for the &quot;CRASH TEST&quot; button, and then I get crash-free users, logs, stack trace, the whole thing.  Because this part is working, it would appear that my setup is correct.\r\n\r\nI have Proton VPN installed on the device, but have disabled it during testing.  It does not seem to matter.\r\n\r\nNOTE: I cannot get the crash to upload whether the app was subsequently downloaded (beta) from Google Play or whether I compiled it, debug or release, in order to run it with Android Studio with USB debugging to the same device (but I have to uninstall one to install the other, and only the downloaded one has the option to &quot;Report&quot; the crash -- I don&#39;t know if the crash would ever be uploaded if I don&#39;t choose Report, but I have never seen a reported crash, in the Play Console, Firebase, or anywhere else.)\r\n\r\nDoes anyone know how I can get crashes to be reported to Crashlytics outside of Pre-release testing?  Are there any prerequisites like &quot;app has to have been uploaded with the same version&quot; or &quot;no VPN allowed&quot; or &quot;&#39;Report&#39; must be selected in popup dialog on device after the crash&quot; or &quot;display version string must not contain spaces&quot; or anything else?  (From some things I have read even on the docs, it appeared I should be able to be testing a local build and get crash reports.)\r\n\r\nI am using the latest &quot;Chipmunk&quot; Studio.  I just updated to the latest firebase BOM.\r\n\r\nFrom my project-level build.gradle:\r\n```\r\nbuildscript {\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n        maven {url &quot;https://plugins.gradle.org/m2/&quot; }\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n    }\r\n    dependencies {\r\n        classpath &#39;com.android.tools.build:gradle:7.2.2&#39;\r\n        //classpath &#39;com.google.android.gms:oss-licenses-plugin:0.9.5&#39;\r\n        // NOTE: Do not place your application dependencies here; they belong\r\n        // in the individual module build.gradle files\r\n        //classpath &#39;com.github.jk1:gradle-license-report:1.9&#39;\r\n        classpath &#39;com.github.jk1:gradle-license-report:2.0&#39;\r\n\r\n        classpath &#39;com.google.gms:google-services:4.3.13&#39;\r\n        // Add the Crashlytics Gradle plugin\r\n        classpath &#39;com.google.firebase:firebase-crashlytics-gradle:2.9.1&#39;\r\n    }\r\n} ...\r\n\r\n```\r\n\r\nFrom my module-level build.gradle:\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n    id &#39;com.google.gms.google-services&#39;\r\n    id &#39;com.google.firebase.crashlytics&#39;\r\n}\r\n...\r\n    repositories {\r\n        maven { url &quot;https://jitpack.io&quot; }\r\n        mavenCentral()\r\n    }\r\n\r\n    dependencies {\r\n        // Import the BoM for the Firebase platform\r\n        implementation platform(&#39;com.google.firebase:firebase-bom:30.4.0&#39;)  // Bill Of Materials\r\n        implementation &#39;androidx.appcompat:appcompat:1.4.2&#39; // this is last version compatible with Android sdk 31\r\n        implementation &#39;com.google.code.gson:gson:2.8.6&#39;\r\n        implementation &#39;com.squareup.retrofit2:retrofit:2.9.0&#39;\r\n        implementation &#39;com.squareup.retrofit2:converter-gson:2.9.0&#39;\r\n        implementation &#39;androidx.vectordrawable:vectordrawable:1.1.0&#39;\r\n        implementation &#39;androidx.navigation:navigation-ui:2.5.1&#39;\r\n        implementation &quot;androidx.lifecycle:lifecycle-process:2.5.1&quot;\r\n        implementation &#39;androidx.lifecycle:lifecycle-common-java8:2.5.1&#39;\r\n        implementation &#39;androidx.swiperefreshlayout:swiperefreshlayout:1.1.0&#39;\r\n        implementation &#39;org.jetbrains:annotations:15.0&#39;\r\n        implementation &#39;androidx.constraintlayout:constraintlayout:2.1.4&#39;\r\n        implementation &#39;androidx.preference:preference:1.2.0&#39;\r\n        implementation &#39;androidx.biometric:biometric:1.1.0&#39;\r\n        implementation &#39;com.github.PhilJay:MPAndroidChart:v3.1.0&#39;\r\n        implementation &#39;org.apache.commons:commons-math3:3.6.1&#39;\r\n        implementation &#39;com.github.drawers:SpinnerDatePicker:2.1.0&#39;\r\n        testImplementation &#39;junit:junit:4.13-beta-2&#39;\r\n        androidTestImplementation &#39;androidx.test:runner:1.4.0&#39;\r\n        androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n\r\n        implementation &#39;ch.qos.logback:logback-classic:1.2.10&#39;\r\n        implementation &#39;ch.qos.logback:logback-core:1.2.10&#39;\r\n        implementation &#39;org.codehaus.janino:commons-compiler:3.1.6&#39;\r\n\r\n        // for in-app purchases (data service subscription)\r\n        implementation &#39;com.android.billingclient:billing:5.0.0&#39;\r\n\r\n        // for message broadcasting, diagnostics &amp; analytics\r\n        // When using the BoM, you don&#39;t specify versions in Firebase library dependencies\r\n        implementation &#39;com.google.firebase:firebase-analytics&#39;\r\n        implementation &#39;com.google.firebase:firebase-crashlytics&#39;\r\n        implementation &#39;com.google.firebase:firebase-messaging&#39;\r\n    }\r\n ```\r\n\r\nIn my main activity:\r\n\r\n```\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n ...\r\n        // Obtain the FirebaseAnalytics instance.\r\n        mFirebaseAnalytics = FirebaseAnalytics.getInstance(this);\r\n...\r\n\r\n            // TODO remove in production\r\n            addTestCrashButtonForCrashlytics();\r\n...\r\n    }\r\n\r\n    private void addTestCrashButtonForCrashlytics() {\r\n        Button crashButton = new Button(this);\r\n        crashButton.setText(&quot;Test Crash&quot;);\r\n        crashButton.setOnClickListener(new View.OnClickListener() {\r\n            public void onClick(View view) {\r\n                throw new RuntimeException(&quot;Test Crash&quot;); // Force a crash\r\n            }\r\n        });\r\n ```\r\n\r\nMy thanks in advance for anyone who can help me figure this out.","title":"Firebase Crashlytics crash reports only appearing when app runs in Pre-release testing","body":"<p>I have followed and triple-verified all of the setup steps for adding firebase &amp; crashlytics to my app here: <a href=\"https://firebase.google.com/docs/android/setup?hl=en\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/android/setup?hl=en</a> and here: <a href=\"https://firebase.google.com/docs/crashlytics/get-started?authuser=0&amp;platform=android\" rel=\"nofollow noreferrer\">https://firebase.google.com/docs/crashlytics/get-started?authuser=0&amp;platform=android</a>, verified that the google-services.json is correct (actually re-downloaded it for comparison, and it works for Firebase messaging). Enabled Analytics sharing. Crashlytics enabled for my app on Firebase console. Some json reports do get logged as uploaded at runtime (not crashes) with a 204 result, but on startup, the app gets an error &quot;E/FirebaseCrashlytics: Settings request failed.\njava.io.FileNotFoundException: <a href=\"https://firebase-settings.crashlytics.com/spi/v2/platforms/android/gmp/(snip)&amp;build_version=99&amp;display_version=2022.08.31.99\" rel=\"nofollow noreferrer\">https://firebase-settings.crashlytics.com/spi/v2/platforms/android/gmp/(snip)&amp;build_version=99&amp;display_version=2022.08.31.99</a> blah blah blah&quot; and then when I click on my &quot;TEST CRASH&quot; button, I get another error &quot; E/FirebaseCrashlytics: Cannot send reports. Timed out while fetching settings.&quot;.</p>\n<p>The thing is, the crash reports DO appear for crashes that occur during the Google Play Pre-Release testing upon upload to Google Play (closed testing), including for the &quot;CRASH TEST&quot; button, and then I get crash-free users, logs, stack trace, the whole thing.  Because this part is working, it would appear that my setup is correct.</p>\n<p>I have Proton VPN installed on the device, but have disabled it during testing.  It does not seem to matter.</p>\n<p>NOTE: I cannot get the crash to upload whether the app was subsequently downloaded (beta) from Google Play or whether I compiled it, debug or release, in order to run it with Android Studio with USB debugging to the same device (but I have to uninstall one to install the other, and only the downloaded one has the option to &quot;Report&quot; the crash -- I don't know if the crash would ever be uploaded if I don't choose Report, but I have never seen a reported crash, in the Play Console, Firebase, or anywhere else.)</p>\n<p>Does anyone know how I can get crashes to be reported to Crashlytics outside of Pre-release testing?  Are there any prerequisites like &quot;app has to have been uploaded with the same version&quot; or &quot;no VPN allowed&quot; or &quot;'Report' must be selected in popup dialog on device after the crash&quot; or &quot;display version string must not contain spaces&quot; or anything else?  (From some things I have read even on the docs, it appeared I should be able to be testing a local build and get crash reports.)</p>\n<p>I am using the latest &quot;Chipmunk&quot; Studio.  I just updated to the latest firebase BOM.</p>\n<p>From my project-level build.gradle:</p>\n<pre><code>buildscript {\n    repositories {\n        google()\n        mavenCentral()\n        maven {url &quot;https://plugins.gradle.org/m2/&quot; }\n        maven { url &quot;https://jitpack.io&quot; }\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:7.2.2'\n        //classpath 'com.google.android.gms:oss-licenses-plugin:0.9.5'\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n        //classpath 'com.github.jk1:gradle-license-report:1.9'\n        classpath 'com.github.jk1:gradle-license-report:2.0'\n\n        classpath 'com.google.gms:google-services:4.3.13'\n        // Add the Crashlytics Gradle plugin\n        classpath 'com.google.firebase:firebase-crashlytics-gradle:2.9.1'\n    }\n} ...\n\n</code></pre>\n<p>From my module-level build.gradle:</p>\n<pre><code>plugins {\n    id 'com.android.application'\n    id 'com.google.gms.google-services'\n    id 'com.google.firebase.crashlytics'\n}\n...\n    repositories {\n        maven { url &quot;https://jitpack.io&quot; }\n        mavenCentral()\n    }\n\n    dependencies {\n        // Import the BoM for the Firebase platform\n        implementation platform('com.google.firebase:firebase-bom:30.4.0')  // Bill Of Materials\n        implementation 'androidx.appcompat:appcompat:1.4.2' // this is last version compatible with Android sdk 31\n        implementation 'com.google.code.gson:gson:2.8.6'\n        implementation 'com.squareup.retrofit2:retrofit:2.9.0'\n        implementation 'com.squareup.retrofit2:converter-gson:2.9.0'\n        implementation 'androidx.vectordrawable:vectordrawable:1.1.0'\n        implementation 'androidx.navigation:navigation-ui:2.5.1'\n        implementation &quot;androidx.lifecycle:lifecycle-process:2.5.1&quot;\n        implementation 'androidx.lifecycle:lifecycle-common-java8:2.5.1'\n        implementation 'androidx.swiperefreshlayout:swiperefreshlayout:1.1.0'\n        implementation 'org.jetbrains:annotations:15.0'\n        implementation 'androidx.constraintlayout:constraintlayout:2.1.4'\n        implementation 'androidx.preference:preference:1.2.0'\n        implementation 'androidx.biometric:biometric:1.1.0'\n        implementation 'com.github.PhilJay:MPAndroidChart:v3.1.0'\n        implementation 'org.apache.commons:commons-math3:3.6.1'\n        implementation 'com.github.drawers:SpinnerDatePicker:2.1.0'\n        testImplementation 'junit:junit:4.13-beta-2'\n        androidTestImplementation 'androidx.test:runner:1.4.0'\n        androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n\n        implementation 'ch.qos.logback:logback-classic:1.2.10'\n        implementation 'ch.qos.logback:logback-core:1.2.10'\n        implementation 'org.codehaus.janino:commons-compiler:3.1.6'\n\n        // for in-app purchases (data service subscription)\n        implementation 'com.android.billingclient:billing:5.0.0'\n\n        // for message broadcasting, diagnostics &amp; analytics\n        // When using the BoM, you don't specify versions in Firebase library dependencies\n        implementation 'com.google.firebase:firebase-analytics'\n        implementation 'com.google.firebase:firebase-crashlytics'\n        implementation 'com.google.firebase:firebase-messaging'\n    }\n</code></pre>\n<p>In my main activity:</p>\n<pre><code>    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n ...\n        // Obtain the FirebaseAnalytics instance.\n        mFirebaseAnalytics = FirebaseAnalytics.getInstance(this);\n...\n\n            // TODO remove in production\n            addTestCrashButtonForCrashlytics();\n...\n    }\n\n    private void addTestCrashButtonForCrashlytics() {\n        Button crashButton = new Button(this);\n        crashButton.setText(&quot;Test Crash&quot;);\n        crashButton.setOnClickListener(new View.OnClickListener() {\n            public void onClick(View view) {\n                throw new RuntimeException(&quot;Test Crash&quot;); // Force a crash\n            }\n        });\n</code></pre>\n<p>My thanks in advance for anyone who can help me figure this out.</p>\n"},{"tags":["java","swing","user-interface","jtabbedpane"],"comments":[{"owner":{"account_id":890308,"reputation":47359,"user_id":928711,"accept_rate":60,"display_name":"Guillaume Polet"},"score":0,"creation_date":1336671656,"post_id":10539013,"comment_id":13635348,"body_markdown":"What do you mean? You want those two arrows to take the whole width?","body":"What do you mean? You want those two arrows to take the whole width?"},{"owner":{"account_id":341953,"reputation":12842,"user_id":672841,"accept_rate":72,"display_name":"Can&#39;t Tell"},"score":0,"creation_date":1336673979,"post_id":10539013,"comment_id":13636324,"body_markdown":"@GuillaumePolet Yes, and the arrow pointer to be wider as well.","body":"@GuillaumePolet Yes, and the arrow pointer to be wider as well."},{"owner":{"account_id":1366718,"reputation":2309,"user_id":1303001,"accept_rate":92,"display_name":"Nitin Chhajer"},"score":0,"creation_date":1336674893,"post_id":10539013,"comment_id":13636689,"body_markdown":"Why dont you use a button instead. And adjust the scroll bar on the button click. This will hide the scroll bar and give a better look to your UI","body":"Why dont you use a button instead. And adjust the scroll bar on the button click. This will hide the scroll bar and give a better look to your UI"}],"answers":[{"tags":[],"owner":{"account_id":1042637,"reputation":21143,"user_id":1048330,"display_name":"tenorsax"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1336676893,"creation_date":1336674312,"answer_id":10540045,"question_id":10539013,"body_markdown":"You can extend `BasicTabbedPaneUI` and implement you own button in `createScrollButton()` providing new preferred size. It looks like `BasicTabbedPaneUI` has its own private implementation for these buttons - `ScrollableTabButton`. You can create something similar, like the following: \r\n\r\n    public class ExtendedTabbedPaneUI extends BasicTabbedPaneUI {\r\n\r\n    \t@Override\r\n    \tprotected JButton createScrollButton(int direction) {\r\n    \t\t if (direction != SOUTH &amp;&amp; direction != NORTH &amp;&amp; direction != EAST &amp;&amp;\r\n    \t\t\t\t\t\t\t\t   direction != WEST) {\r\n    \t\t\t throw new IllegalArgumentException(&quot;Direction must be one of: &quot; +\r\n    \t\t\t\t\t\t\t\t\t\t\t\t&quot;SOUTH, NORTH, EAST or WEST&quot;);\r\n    \t\t }\r\n    \t\t \r\n    \t\t //return new ScrollableTabButton(direction);\r\n    \t\t \r\n    \t\t return new BasicArrowButton(direction,\r\n    \t\t\tUIManager.getColor(&quot;TabbedPane.selected&quot;),\r\n    \t\t\tUIManager.getColor(&quot;TabbedPane.shadow&quot;),\r\n    \t\t\tUIManager.getColor(&quot;TabbedPane.darkShadow&quot;),\r\n    \t\t\tUIManager.getColor(&quot;TabbedPane.highlight&quot;)) {\r\n    \t\t \r\n    \t\t\t@Override\r\n    \t\t\tpublic Dimension getPreferredSize() {\r\n    \t\t\t\tint maxWidth = calculateMaxTabWidth(JTabbedPane.LEFT);\r\n    \t\t\t\treturn new Dimension(maxWidth, super.getPreferredSize().height);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\n    }\r\n\r\nAnd to setup new UI: \r\n\r\n    tabbedPane.setUI(new ExtendedTabbedPaneUI());\r\n\r\n","title":"Swing JTabbedPane how to set scroll width?","body":"<p>You can extend <code>BasicTabbedPaneUI</code> and implement you own button in <code>createScrollButton()</code> providing new preferred size. It looks like <code>BasicTabbedPaneUI</code> has its own private implementation for these buttons - <code>ScrollableTabButton</code>. You can create something similar, like the following: </p>\n\n<pre><code>public class ExtendedTabbedPaneUI extends BasicTabbedPaneUI {\n\n    @Override\n    protected JButton createScrollButton(int direction) {\n         if (direction != SOUTH &amp;&amp; direction != NORTH &amp;&amp; direction != EAST &amp;&amp;\n                                   direction != WEST) {\n             throw new IllegalArgumentException(\"Direction must be one of: \" +\n                                                \"SOUTH, NORTH, EAST or WEST\");\n         }\n\n         //return new ScrollableTabButton(direction);\n\n         return new BasicArrowButton(direction,\n            UIManager.getColor(\"TabbedPane.selected\"),\n            UIManager.getColor(\"TabbedPane.shadow\"),\n            UIManager.getColor(\"TabbedPane.darkShadow\"),\n            UIManager.getColor(\"TabbedPane.highlight\")) {\n\n            @Override\n            public Dimension getPreferredSize() {\n                int maxWidth = calculateMaxTabWidth(JTabbedPane.LEFT);\n                return new Dimension(maxWidth, super.getPreferredSize().height);\n            }\n        };\n    }\n}\n</code></pre>\n\n<p>And to setup new UI: </p>\n\n<pre><code>tabbedPane.setUI(new ExtendedTabbedPaneUI());\n</code></pre>\n"}],"owner":{"account_id":341953,"reputation":12842,"user_id":672841,"accept_rate":72,"display_name":"Can&#39;t Tell"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1212,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":10540045,"answer_count":1,"score":1,"last_activity_date":1662179926,"creation_date":1336669800,"question_id":10539013,"body_markdown":"I use the following code to create a JTabbedPane\r\n\r\n    new JTabbedPane(JTabbedPane.LEFT,JTabbedPane.SCROLL_TAB_LAYOUT);\r\n\r\nIt results in a scroll that is smaller in width than the tab selection area\r\n\r\n![enter image description here][1]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/fbKui.png\r\n\r\nHow can I make the scroll width wider so that it fits the tab selection area?","title":"Swing JTabbedPane how to set scroll width?","body":"<p>I use the following code to create a JTabbedPane</p>\n\n<pre><code>new JTabbedPane(JTabbedPane.LEFT,JTabbedPane.SCROLL_TAB_LAYOUT);\n</code></pre>\n\n<p>It results in a scroll that is smaller in width than the tab selection area</p>\n\n<p><img src=\"https://i.stack.imgur.com/fbKui.png\" alt=\"enter image description here\"></p>\n\n<p>How can I make the scroll width wider so that it fits the tab selection area?</p>\n"},{"tags":["java","hadoop","mapreduce"],"answers":[{"tags":[],"owner":{"account_id":2360169,"reputation":475,"user_id":2067006,"display_name":"pandorym"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458052640,"creation_date":1458052375,"answer_id":36014230,"question_id":36013978,"body_markdown":"The keys will be sorted as they come into the reduce phase, the values in the given value sets will not be sorted.  \r\nThere is no guarantee for order in the values passed into the reducer, that is not how Hadoop works.\r\n\r\nYour problem is (as you say) a &#39;simple problem&#39; [in many other different frameworks and paradigms]. This problem is *not* an easy (or **appropriate**) problem for map reduce. \r\n\r\n\r\n----------\r\nA solution to your situation is to have more complex keys to make sure the output is in the order you want initially, or to pass the output through a secondary sort map reduce job creating composite keys from the key and individual values.","title":"sorting in map reduce","body":"<p>The keys will be sorted as they come into the reduce phase, the values in the given value sets will not be sorted.<br>\nThere is no guarantee for order in the values passed into the reducer, that is not how Hadoop works.</p>\n\n<p>Your problem is (as you say) a 'simple problem' [in many other different frameworks and paradigms]. This problem is <em>not</em> an easy (or <strong>appropriate</strong>) problem for map reduce. </p>\n\n<hr>\n\n<p>A solution to your situation is to have more complex keys to make sure the output is in the order you want initially, or to pass the output through a secondary sort map reduce job creating composite keys from the key and individual values.</p>\n"},{"tags":[],"owner":{"account_id":7598139,"reputation":3482,"user_id":5763690,"accept_rate":92,"display_name":"Radu Ionescu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458053267,"creation_date":1458053267,"answer_id":36014553,"question_id":36013978,"body_markdown":"You can construct a value that contains also the column index.\r\n\r\n    public class ColumnValue implements Writable{\r\n    \r\n    \t\r\n    \tpublic double column;\r\n    \tpublic double value;\r\n    \t\r\n    \tpublic PartialWritablePhase1(long column, double value){\r\n    \t\tthis.column = column;\r\n    \t\tthis.value = value;\t\t\r\n    \t}\r\n    \t\r\n    \t\r\n    \t@Override\r\n    \tpublic void readFields(DataInput in) throws IOException {\r\n    \t\tthis.column = in.readLong();\r\n    \t\tthis.value = in.readDouble();\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void write(DataOutput out) throws IOException {\r\n    \t\tout.writeLong(column);\r\n    \t\tout.writeDouble(value);\r\n    \t\t\t\t\r\n    \t\t\r\n    \t}\r\n\r\n        @Override\r\n\t    public String toString() {\r\n\t\t\t\treturn column+&quot; &quot;+value;\r\n\t}\r\n\r\n    \t\r\n    }\r\n\r\nYou then can use it in the reducer as such\r\n\r\n    public void reduce(LongWritable key, Iterable&lt;ColumnValue&gt; values, Context context)\r\n    \t\t\tthrows IOException, InterruptedException {\r\n    \t\t\r\n    \t\tfor (ColumnVal val : values) {\r\n    \t\t\t//Store values of column in OrderedByColumn an ordered tree set by column\r\n               // or any structure you want\r\n    \t\t}\r\n    \t\t\t\r\n    \t\t\r\n    \t\tIterator&lt;ColumnValue&gt; keySetIterator = OrderedByColumn.iterator();\r\n    \t\t\r\n    \t\twhile(keySetIterator.hasNext()){\r\n    \t\t \r\n    \t\t  context.write(new LongWritable(key.get()), keySetIterator.next());\r\n    \t\t}\r\n    \t\r\n    \r\n    \t}\r\n\r\n","title":"sorting in map reduce","body":"<p>You can construct a value that contains also the column index.</p>\n\n<pre><code>public class ColumnValue implements Writable{\n\n\n    public double column;\n    public double value;\n\n    public PartialWritablePhase1(long column, double value){\n        this.column = column;\n        this.value = value;     \n    }\n\n\n    @Override\n    public void readFields(DataInput in) throws IOException {\n        this.column = in.readLong();\n        this.value = in.readDouble();\n    }\n\n    @Override\n    public void write(DataOutput out) throws IOException {\n        out.writeLong(column);\n        out.writeDouble(value);\n\n\n    }\n\n    @Override\n    public String toString() {\n            return column+\" \"+value;\n}\n\n\n}\n</code></pre>\n\n<p>You then can use it in the reducer as such</p>\n\n<pre><code>public void reduce(LongWritable key, Iterable&lt;ColumnValue&gt; values, Context context)\n            throws IOException, InterruptedException {\n\n        for (ColumnVal val : values) {\n            //Store values of column in OrderedByColumn an ordered tree set by column\n           // or any structure you want\n        }\n\n\n        Iterator&lt;ColumnValue&gt; keySetIterator = OrderedByColumn.iterator();\n\n        while(keySetIterator.hasNext()){\n\n          context.write(new LongWritable(key.get()), keySetIterator.next());\n        }\n\n\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8047449,"reputation":836,"user_id":6067236,"display_name":"vgunnu"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1458060125,"creation_date":1458060125,"answer_id":36017179,"question_id":36013978,"body_markdown":"Order of value is not guaranteed for reduce input.\r\n \r\nYou can do the sort using 2nd MapReduce program\r\nor \r\nYou can use comparator. Here is a nice blog addressing the case\r\nhttps://vangjee.wordpress.com/2012/03/20/secondary-sorting-aka-sorting-values-in-hadoops-mapreduce-programming-paradigm/\r\n\r\n","title":"sorting in map reduce","body":"<p>Order of value is not guaranteed for reduce input.</p>\n\n<p>You can do the sort using 2nd MapReduce program\nor \nYou can use comparator. Here is a nice blog addressing the case\n<a href=\"https://vangjee.wordpress.com/2012/03/20/secondary-sorting-aka-sorting-values-in-hadoops-mapreduce-programming-paradigm/\" rel=\"nofollow\">https://vangjee.wordpress.com/2012/03/20/secondary-sorting-aka-sorting-values-in-hadoops-mapreduce-programming-paradigm/</a></p>\n"},{"tags":[],"owner":{"account_id":4106874,"reputation":635,"user_id":3370618,"display_name":"PetrosP"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1458129151,"creation_date":1458128807,"answer_id":36034799,"question_id":36013978,"body_markdown":"The only way to force sorting of the values in the Reducer, will be to create a custom composite key and to implement your own group comparator. This will achieve what you want.\r\n\r\n    public class CompositeKey implements WritableComparable&lt;CompositeKey&gt; {\r\n        private int id;\r\n        private int order;\r\n\r\n        @Override\r\n        public void readFields(DataInput in) throws IOException {\r\n            id = in.readInt();\r\n            order = in.readInt();\r\n        }\r\n\r\n        @Override\r\n        public void write(DataOutput out) throws IOException {\r\n            out.writeInt(id);\r\n            out.writeInt(order);\r\n        }\r\n\r\n        @Override\r\n        public int hashCode() {\r\n            return id;\r\n        }\r\n\r\n        @Override\r\n        public int compareTo(CompositeKey other) {\r\n            if(this.id != other.id) {\r\n                return this.id - other.id;\r\n            }\r\n            return this.order - other.order;\r\n        }\r\n\r\n        public int getId() {\r\n            return id;\r\n        }\r\n\r\n        public void setId(int id) {\r\n            this.id = id;\r\n        }\r\n\r\n        public int getOrder() {\r\n            return order;\r\n        }\r\n\r\n        public void setOrder(int order) {\r\n            this.order = order;\r\n        }\r\n    }\r\n\r\nThe id field corresponds to the key that your Mapper outputs. The order field corresponds to the order you want your values to appear for each key in the Reducer.\r\nEg your Mapper should now output (key:{id=0,order=0},value:1) for the first element and (key:{id=0,order=1},value:2) for the second element. This way you will have your elements ordered.\r\n\r\nFinally, in order to have your key-value pairs groupped by key id only, you will need to write your own group comparator.\r\n\r\n    public class CompKeyGroupComparator extends WritableComparator {\r\n        public CompKeyGroupComparator() {\r\n            super(CompositeKey.class, true);\r\n        }\r\n\r\n        @Override\r\n        public int compare(WritableComparable a, WritableComparable b) {\r\n            CompositeKey lKey = (CompositeKey) a;\r\n            CompositeKey rKey = (CompositeKey) b;\r\n            return lKey.getId() - rKey.getId();\r\n        }\r\n    }\r\n\r\nTo set the GroupComparator:\r\n\r\n    job.setGroupingComparatorClass(CompKeyGroupComparator.class);\r\n\r\nNow your reducer will get the values with the order you gave in your Mappers.\r\n0-{1,2,7} , 1-{4,5,8} etc.","title":"sorting in map reduce","body":"<p>The only way to force sorting of the values in the Reducer, will be to create a custom composite key and to implement your own group comparator. This will achieve what you want.</p>\n\n<pre><code>public class CompositeKey implements WritableComparable&lt;CompositeKey&gt; {\n    private int id;\n    private int order;\n\n    @Override\n    public void readFields(DataInput in) throws IOException {\n        id = in.readInt();\n        order = in.readInt();\n    }\n\n    @Override\n    public void write(DataOutput out) throws IOException {\n        out.writeInt(id);\n        out.writeInt(order);\n    }\n\n    @Override\n    public int hashCode() {\n        return id;\n    }\n\n    @Override\n    public int compareTo(CompositeKey other) {\n        if(this.id != other.id) {\n            return this.id - other.id;\n        }\n        return this.order - other.order;\n    }\n\n    public int getId() {\n        return id;\n    }\n\n    public void setId(int id) {\n        this.id = id;\n    }\n\n    public int getOrder() {\n        return order;\n    }\n\n    public void setOrder(int order) {\n        this.order = order;\n    }\n}\n</code></pre>\n\n<p>The id field corresponds to the key that your Mapper outputs. The order field corresponds to the order you want your values to appear for each key in the Reducer.\nEg your Mapper should now output (key:{id=0,order=0},value:1) for the first element and (key:{id=0,order=1},value:2) for the second element. This way you will have your elements ordered.</p>\n\n<p>Finally, in order to have your key-value pairs groupped by key id only, you will need to write your own group comparator.</p>\n\n<pre><code>public class CompKeyGroupComparator extends WritableComparator {\n    public CompKeyGroupComparator() {\n        super(CompositeKey.class, true);\n    }\n\n    @Override\n    public int compare(WritableComparable a, WritableComparable b) {\n        CompositeKey lKey = (CompositeKey) a;\n        CompositeKey rKey = (CompositeKey) b;\n        return lKey.getId() - rKey.getId();\n    }\n}\n</code></pre>\n\n<p>To set the GroupComparator:</p>\n\n<pre><code>job.setGroupingComparatorClass(CompKeyGroupComparator.class);\n</code></pre>\n\n<p>Now your reducer will get the values with the order you gave in your Mappers.\n0-{1,2,7} , 1-{4,5,8} etc.</p>\n"},{"tags":[],"owner":{"account_id":20927372,"reputation":113,"user_id":15407307,"display_name":"hrdom"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662178281,"creation_date":1662177564,"answer_id":73589522,"question_id":36013978,"body_markdown":"In my opinion, this is probably caused by the use of quicksort on the map side when sorting in buffer. Quicksort is not stable.\r\n\r\n(But I found that InsertSort is used when the number is less than 13.\r\nInsertSort is stable, so I&#39;m not sure if QuickSort is responsible for the 9 key-value pairs here.","title":"sorting in map reduce","body":"<p>In my opinion, this is probably caused by the use of quicksort on the map side when sorting in buffer. Quicksort is not stable.</p>\n<p>(But I found that InsertSort is used when the number is less than 13.\nInsertSort is stable, so I'm not sure if QuickSort is responsible for the 9 key-value pairs here.</p>\n"}],"owner":{"account_id":2930914,"reputation":1941,"user_id":4029265,"accept_rate":37,"display_name":"Ishan Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1524,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":5,"score":2,"last_activity_date":1662178281,"creation_date":1458051719,"question_id":36013978,"body_markdown":"I am trying to implement a simple problem in map reduce-transpose of a matrix.\r\nInput:\r\n\r\n       1 2 3 \r\n       4 5 6 \r\n       7 8 9 \r\n\r\nDesired output- \r\n       \r\n       1 4 7 \r\n       2 5 8 \r\n       7 8 9 \r\n\r\nMy map output is \r\n\r\n    (0,1) (1,4), (2,7), (0,2) (1,5), (2,8)\r\n\r\n and so on. \r\n\r\nI was expecting to use the reducer method method as `0-{1,2,7} , 1-{4,5,8}` and directly use write to write the object in serialized form. But the shuffle and sort is not giving the desired output. After the map method i am getting the output as  `0-{1,7,2} , 1-{5,4,8}`.\r\n\r\nHow SS is working in this case if my key is common. And also what will be solution for this case.\r\n","title":"sorting in map reduce","body":"<p>I am trying to implement a simple problem in map reduce-transpose of a matrix.\nInput:</p>\n\n<pre><code>   1 2 3 \n   4 5 6 \n   7 8 9 \n</code></pre>\n\n<p>Desired output- </p>\n\n<pre><code>   1 4 7 \n   2 5 8 \n   7 8 9 \n</code></pre>\n\n<p>My map output is </p>\n\n<pre><code>(0,1) (1,4), (2,7), (0,2) (1,5), (2,8)\n</code></pre>\n\n<p>and so on. </p>\n\n<p>I was expecting to use the reducer method method as <code>0-{1,2,7} , 1-{4,5,8}</code> and directly use write to write the object in serialized form. But the shuffle and sort is not giving the desired output. After the map method i am getting the output as  <code>0-{1,7,2} , 1-{5,4,8}</code>.</p>\n\n<p>How SS is working in this case if my key is common. And also what will be solution for this case.</p>\n"},{"tags":["java","collections","set","java-stream"],"answers":[{"tags":[],"owner":{"account_id":3352721,"reputation":1057,"user_id":2816429,"display_name":"HariHaravelan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649046331,"creation_date":1649046331,"answer_id":71732016,"question_id":71731890,"body_markdown":"You want to filter the `Tags` which is not in `Product`, and get name of `Tags` the below code should work\r\n\r\n      return Arrays.stream(Tags.values()).filter(tag -&gt; !this.tags.contains(tag)).map(Tags::getTagName).collect(Collectors.toSet());","title":"Find elements that are not present in a Set a return a new Set containing these missing elements","body":"<p>You want to filter the <code>Tags</code> which is not in <code>Product</code>, and get name of <code>Tags</code> the below code should work</p>\n<pre><code>  return Arrays.stream(Tags.values()).filter(tag -&gt; !this.tags.contains(tag)).map(Tags::getTagName).collect(Collectors.toSet());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13789219,"reputation":48460,"user_id":9952196,"display_name":"Shawn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1649047533,"creation_date":1649046502,"answer_id":71732036,"question_id":71731890,"body_markdown":"You can do something like this:\r\n\r\n```java\r\nSet&lt;String&gt; suggestedTags = Arrays.stream(Tags.values())\r\n                                  .map(Tags::getTagName)\r\n                                  .collect(Collectors.toCollection(HashSet::new));\r\nsuggestedTags.removeAll(tags);\r\n```\r\n\r\nbut that&#39;s still two expressions. Still a lot cleaner than your first version, though.\r\n\r\nIf you switch from sets of `String`s to [`EnumSet`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html)s of `Tags`, though...\r\n\r\n```java\r\nEnumSet&lt;Tags&gt; suggestedTags = EnumSet.complementOf(tags);\r\n// Assuming EnumSet&lt;Tags&gt; tags = EnumSet.of(Tags.BIRTHDAY);\r\n// suggestedTags contains GRADUATION and GET_WELL_SOON\r\n```\r\n\r\nThis also has the nice side effects of making the sets a lot faster and taking up less memory.","title":"Find elements that are not present in a Set a return a new Set containing these missing elements","body":"<p>You can do something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Set&lt;String&gt; suggestedTags = Arrays.stream(Tags.values())\n                                  .map(Tags::getTagName)\n                                  .collect(Collectors.toCollection(HashSet::new));\nsuggestedTags.removeAll(tags);\n</code></pre>\n<p>but that's still two expressions. Still a lot cleaner than your first version, though.</p>\n<p>If you switch from sets of <code>String</code>s to <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/EnumSet.html\" rel=\"nofollow noreferrer\"><code>EnumSet</code></a>s of <code>Tags</code>, though...</p>\n<pre class=\"lang-java prettyprint-override\"><code>EnumSet&lt;Tags&gt; suggestedTags = EnumSet.complementOf(tags);\n// Assuming EnumSet&lt;Tags&gt; tags = EnumSet.of(Tags.BIRTHDAY);\n// suggestedTags contains GRADUATION and GET_WELL_SOON\n</code></pre>\n<p>This also has the nice side effects of making the sets a lot faster and taking up less memory.</p>\n"}],"owner":{"account_id":24385909,"reputation":198,"user_id":18316696,"display_name":"CM K"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1600,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71732036,"answer_count":2,"score":1,"last_activity_date":1662178147,"creation_date":1649044950,"question_id":71731890,"body_markdown":"I have an enum `Tags` containing a complete list of tags which can be applied to instances of the `Product` class. In this class there is an instance variable `tags` which is a `Set` of `Strings` that contains a subset of these tags. What I&#39;m trying to do is find a set of tags that has yet been applied to a certain product and return it as a new `Set` using a method.\r\n\r\n\r\n```java\r\n        Set&lt;String&gt; suggestedTags = new HashSet&lt;&gt;();\r\n        Arrays.stream(Tags.values())\r\n                .forEach(tagsList -&gt; {\r\n                    if (!this.tags.contains(tagsList.getTagName())) {\r\n                        suggestedTags.add(tagsList.getTagName());\r\n                    }\r\n                });\r\n        return suggestedTags;\r\n```\r\n\r\n\r\nI have tested the above code and it works as expected. However, I wish to accomplish the same result in just one statement. Something like this:\r\n\r\n\r\n\r\n```java\r\n        return Arrays.stream(Tags.values())\r\n                .map(tagsList -&gt; {\r\n                    // code to find missing elements goes here\r\n                })\r\n                .collect(Collectors.toSet());\r\n```\r\n\r\n\r\nI&#39;m stuck here as I&#39;m not sure which intermediate operation would be suitable for such a task. I thought of using `map()` and `filter()` but no luck so far.\r\n\r\nThe enum `Tags` is as follows:\r\n\r\n\r\n```java\r\n    public enum Tags {\r\n\r\n        BIRTHDAY(&quot;birthday&quot;),\r\n        GRADUATION(&quot;graduation&quot;),\r\n        GET_WELL_SOON(&quot;get well soon&quot;);\r\n\r\n        final String tagName;\r\n\r\n        private Tags(String tagName) {\r\n            this.tagName = tagName;\r\n        }\r\n\r\n        public String getTagName() {\r\n            return tagName;\r\n        }\r\n    }\r\n```\r\n\r\n\r\nHow can this be done?","title":"Find elements that are not present in a Set a return a new Set containing these missing elements","body":"<p>I have an enum <code>Tags</code> containing a complete list of tags which can be applied to instances of the <code>Product</code> class. In this class there is an instance variable <code>tags</code> which is a <code>Set</code> of <code>Strings</code> that contains a subset of these tags. What I'm trying to do is find a set of tags that has yet been applied to a certain product and return it as a new <code>Set</code> using a method.</p>\n<pre class=\"lang-java prettyprint-override\"><code>        Set&lt;String&gt; suggestedTags = new HashSet&lt;&gt;();\n        Arrays.stream(Tags.values())\n                .forEach(tagsList -&gt; {\n                    if (!this.tags.contains(tagsList.getTagName())) {\n                        suggestedTags.add(tagsList.getTagName());\n                    }\n                });\n        return suggestedTags;\n</code></pre>\n<p>I have tested the above code and it works as expected. However, I wish to accomplish the same result in just one statement. Something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>        return Arrays.stream(Tags.values())\n                .map(tagsList -&gt; {\n                    // code to find missing elements goes here\n                })\n                .collect(Collectors.toSet());\n</code></pre>\n<p>I'm stuck here as I'm not sure which intermediate operation would be suitable for such a task. I thought of using <code>map()</code> and <code>filter()</code> but no luck so far.</p>\n<p>The enum <code>Tags</code> is as follows:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public enum Tags {\n\n        BIRTHDAY(&quot;birthday&quot;),\n        GRADUATION(&quot;graduation&quot;),\n        GET_WELL_SOON(&quot;get well soon&quot;);\n\n        final String tagName;\n\n        private Tags(String tagName) {\n            this.tagName = tagName;\n        }\n\n        public String getTagName() {\n            return tagName;\n        }\n    }\n</code></pre>\n<p>How can this be done?</p>\n"},{"tags":["java","apache-camel"],"comments":[{"owner":{"account_id":12216169,"reputation":775,"user_id":8916556,"display_name":"erayerdem"},"score":0,"creation_date":1662191158,"post_id":73589397,"comment_id":129952868,"body_markdown":"which component ftp or file","body":"which component ftp or file"},{"owner":{"account_id":22247129,"reputation":2052,"user_id":16480631,"display_name":"Pasi &#214;sterman"},"score":0,"creation_date":1662385197,"post_id":73589397,"comment_id":129987817,"body_markdown":"Do you have exception handler that sets handled to true? If so then camel will consider the transaction complete as the error was handled.","body":"Do you have exception handler that sets handled to true? If so then camel will consider the transaction complete as the error was handled."},{"owner":{"account_id":19660722,"reputation":11,"user_id":14392205,"display_name":"Girish vemula"},"score":0,"creation_date":1670912035,"post_id":73589397,"comment_id":131976680,"body_markdown":"&lt;doCatch&gt;\n&lt;exception&gt;java.lang.Exception&lt;/exception&gt;\n&lt;log message=&quot;COULD NOT PROCESS FILE.  ${exception}&quot; /&gt;\n&lt;!-- set strategy file status failed??? --&gt;\n&lt;bean ref=&quot;executionStatusQueries&quot; method=&quot;failed&quot; /&gt;\n&lt;to uri=&quot;direct:immediate-email-error&quot; /&gt;\n&lt;/doCatch&gt;","body":"&lt;doCatch&gt; &lt;exception&gt;java.lang.Exception&lt;/exception&gt; &lt;log message=&quot;COULD NOT PROCESS FILE.  ${exception}&quot; /&gt; &lt;!-- set strategy file status failed??? --&gt; &lt;bean ref=&quot;executionStatusQueries&quot; method=&quot;failed&quot; /&gt; &lt;to uri=&quot;direct:immediate-email-error&quot; /&gt; &lt;/doCatch&gt;"},{"owner":{"account_id":19660722,"reputation":11,"user_id":14392205,"display_name":"Girish vemula"},"score":0,"creation_date":1670912148,"post_id":73589397,"comment_id":131976701,"body_markdown":"Above is the current code written in do catch, Please help me with the code.\n@erayy it is a file component","body":"Above is the current code written in do catch, Please help me with the code. @erayy it is a file component"}],"owner":{"account_id":19660722,"reputation":11,"user_id":14392205,"display_name":"Girish vemula"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662177305,"creation_date":1662175279,"question_id":73589397,"body_markdown":"During the loading process of file, an exception occurs in orchestration database but apache camel still copied file into .done instead of .failed . Can someone provide code and flag in property file to move to .failed folder when that exception occurs","title":"Apache camel is moving file into .done even if exception occurs","body":"<p>During the loading process of file, an exception occurs in orchestration database but apache camel still copied file into .done instead of .failed . Can someone provide code and flag in property file to move to .failed folder when that exception occurs</p>\n"},{"tags":["java","android","react-native","react-native-native-module","native-module"],"owner":{"account_id":19412605,"reputation":57,"user_id":14196774,"display_name":"Bruno Azevedo"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1662177063,"creation_date":1662177063,"question_id":73589489,"body_markdown":"I&#39;m developing a React Native application with Expo Bare Workflow, in which the app is being applied to an android credit card machine.\r\n\r\nWhen making a payment, it is possible to hear the events that happen in the payment process (insert credit card, typing password, approved transaction, etc), and my question in this case is, how can I collect these events in the native code and can consult them in JavaScript using React Native&#39;s Native Modules?\r\n\r\nMy main Java module looks like this:\r\n\r\n```\r\npackage com.myapp;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\n\r\nimport android.util.Log;\r\n\r\nimport com.facebook.react.bridge.ReactApplicationContext;\r\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\r\nimport com.facebook.react.bridge.ReactMethod;\r\n\r\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPag;\r\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagAppIdentification;\r\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagEventData;\r\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagEventListener;\r\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagInitializationResult;\r\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagPaymentData;\r\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagActivationData;\r\n\r\npublic class PlugPagModule extends ReactContextBaseJavaModule {\r\n    private final ReactApplicationContext reactContext;\r\n\r\n    public PlugPagModule(ReactApplicationContext reactContext) {\r\n        super(reactContext);\r\n        this.reactContext = reactContext;\r\n    }\r\n\r\n    private final int TYPE_CREDITO = 1;\r\n    public String transactionsEvents = &quot;&quot;;\r\n\r\n    @NonNull\r\n    @Override\r\n    public String getName() {\r\n        return &quot;PlugPagModule&quot;;\r\n    }\r\n\r\n    @ReactMethod\r\n    public void startPayment() {\r\n        // Define os dados do pagamento\r\n        PlugPagPaymentData paymentData = new PlugPagPaymentData(TYPE_CREDITO,25000,PlugPag.INSTALLMENT_TYPE_A_VISTA,1,&quot;CODVENDA&quot;);\r\n\r\n        // Cria a identifica&#231;&#227;o do aplicativo\r\n        PlugPagAppIdentification appIdentification = new PlugPagAppIdentification(&quot;MeuApp&quot;, &quot;1.0.7&quot;);\r\n\r\n        // Cria a refer&#234;ncia do PlugPag\r\n        PlugPag plugpag = new PlugPag(reactContext, appIdentification);\r\n\r\n        // Ativa terminal e faz o pagamento\r\n        PlugPagInitializationResult initResult = plugpag.initializeAndActivatePinpad(new PlugPagActivationData(&quot;403938&quot;));\r\n\r\n        if(initResult.getResult() == PlugPag.RET_OK) {\r\n            plugpag.setEventListener(new PlugPagEventListener() {\r\n                @Override\r\n                public void onEvent(@NonNull PlugPagEventData plugPagEventData) {\r\n                    Log.d(&quot;onEvent&quot;, String.valueOf(plugPagEventData.getCustomMessage()));\r\n                    transactionsEvents = plugPagEventData.getCustomMessage();\r\n                }\r\n            });\r\n\r\n            plugpag.doPayment(paymentData);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nAnd my React code looks like this:\r\n\r\n```\r\nimport React from &#39;react&#39;;\r\nimport { NativeModules, NativeEventEmitter } from &#39;react-native&#39;;\r\nimport { useNavigation } from &#39;@react-navigation/native&#39;;\r\nimport { MaterialIcons } from &#39;@expo/vector-icons&#39;;\r\nimport { useTheme } from &#39;styled-components&#39;;\r\n\r\nimport { Button } from &#39;../../components/Button&#39;;\r\n\r\nimport {\r\n  Container,\r\n  Header,\r\n  BackButtonContainer,\r\n  TitleHeader,\r\n} from &#39;./styles&#39;;\r\n\r\ninterface NavigationProps {\r\n  goBack(): void;\r\n}\r\n\r\nexport function PayCommandWithCard() {\r\n  const { PlugPagModule } = NativeModules;\r\n  \r\n  const theme = useTheme();\r\n  const navigation = useNavigation&lt;NavigationProps&gt;();\r\n\r\n  const events = new NativeEventEmitter(PlugPagModule.transactionsEvents);\r\n  console.log(events);\r\n  \r\n\r\n  function handleBack() {\r\n    navigation.goBack();\r\n  }\r\n\r\n  async function handlePayment() {\r\n    await PlugPagModule.startPayment();\r\n  }\r\n\r\n  return (\r\n    &lt;Container&gt;\r\n      &lt;Header&gt;\r\n        &lt;BackButtonContainer&gt;\r\n          &lt;Button\r\n            color=&quot;secondary&quot;\r\n            rounded\r\n            onPress={handleBack}\r\n          &gt;\r\n            &lt;MaterialIcons\r\n              name=&quot;arrow-back&quot;\r\n              size={20}\r\n              color={theme.colors.primary}\r\n            /&gt;\r\n          &lt;/Button&gt;\r\n        &lt;/BackButtonContainer&gt;\r\n\r\n        &lt;TitleHeader&gt;Pagar Comanda&lt;/TitleHeader&gt;\r\n      &lt;/Header&gt;\r\n\r\n      &lt;Button\r\n        title=&quot;test&quot;\r\n        onPress={handlePayment}\r\n      /&gt;\r\n    &lt;/Container&gt;\r\n  );\r\n}\r\n\r\n```","title":"How to send data to JavaScript in events listening from Java using Native Modules?","body":"<p>I'm developing a React Native application with Expo Bare Workflow, in which the app is being applied to an android credit card machine.</p>\n<p>When making a payment, it is possible to hear the events that happen in the payment process (insert credit card, typing password, approved transaction, etc), and my question in this case is, how can I collect these events in the native code and can consult them in JavaScript using React Native's Native Modules?</p>\n<p>My main Java module looks like this:</p>\n<pre><code>package com.myapp;\n\nimport androidx.annotation.NonNull;\nimport androidx.annotation.Nullable;\n\nimport android.util.Log;\n\nimport com.facebook.react.bridge.ReactApplicationContext;\nimport com.facebook.react.bridge.ReactContextBaseJavaModule;\nimport com.facebook.react.bridge.ReactMethod;\n\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPag;\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagAppIdentification;\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagEventData;\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagEventListener;\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagInitializationResult;\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagPaymentData;\nimport br.com.uol.pagseguro.plugpagservice.wrapper.PlugPagActivationData;\n\npublic class PlugPagModule extends ReactContextBaseJavaModule {\n    private final ReactApplicationContext reactContext;\n\n    public PlugPagModule(ReactApplicationContext reactContext) {\n        super(reactContext);\n        this.reactContext = reactContext;\n    }\n\n    private final int TYPE_CREDITO = 1;\n    public String transactionsEvents = &quot;&quot;;\n\n    @NonNull\n    @Override\n    public String getName() {\n        return &quot;PlugPagModule&quot;;\n    }\n\n    @ReactMethod\n    public void startPayment() {\n        // Define os dados do pagamento\n        PlugPagPaymentData paymentData = new PlugPagPaymentData(TYPE_CREDITO,25000,PlugPag.INSTALLMENT_TYPE_A_VISTA,1,&quot;CODVENDA&quot;);\n\n        // Cria a identificao do aplicativo\n        PlugPagAppIdentification appIdentification = new PlugPagAppIdentification(&quot;MeuApp&quot;, &quot;1.0.7&quot;);\n\n        // Cria a referncia do PlugPag\n        PlugPag plugpag = new PlugPag(reactContext, appIdentification);\n\n        // Ativa terminal e faz o pagamento\n        PlugPagInitializationResult initResult = plugpag.initializeAndActivatePinpad(new PlugPagActivationData(&quot;403938&quot;));\n\n        if(initResult.getResult() == PlugPag.RET_OK) {\n            plugpag.setEventListener(new PlugPagEventListener() {\n                @Override\n                public void onEvent(@NonNull PlugPagEventData plugPagEventData) {\n                    Log.d(&quot;onEvent&quot;, String.valueOf(plugPagEventData.getCustomMessage()));\n                    transactionsEvents = plugPagEventData.getCustomMessage();\n                }\n            });\n\n            plugpag.doPayment(paymentData);\n        }\n    }\n}\n</code></pre>\n<p>And my React code looks like this:</p>\n<pre><code>import React from 'react';\nimport { NativeModules, NativeEventEmitter } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport { useTheme } from 'styled-components';\n\nimport { Button } from '../../components/Button';\n\nimport {\n  Container,\n  Header,\n  BackButtonContainer,\n  TitleHeader,\n} from './styles';\n\ninterface NavigationProps {\n  goBack(): void;\n}\n\nexport function PayCommandWithCard() {\n  const { PlugPagModule } = NativeModules;\n  \n  const theme = useTheme();\n  const navigation = useNavigation&lt;NavigationProps&gt;();\n\n  const events = new NativeEventEmitter(PlugPagModule.transactionsEvents);\n  console.log(events);\n  \n\n  function handleBack() {\n    navigation.goBack();\n  }\n\n  async function handlePayment() {\n    await PlugPagModule.startPayment();\n  }\n\n  return (\n    &lt;Container&gt;\n      &lt;Header&gt;\n        &lt;BackButtonContainer&gt;\n          &lt;Button\n            color=&quot;secondary&quot;\n            rounded\n            onPress={handleBack}\n          &gt;\n            &lt;MaterialIcons\n              name=&quot;arrow-back&quot;\n              size={20}\n              color={theme.colors.primary}\n            /&gt;\n          &lt;/Button&gt;\n        &lt;/BackButtonContainer&gt;\n\n        &lt;TitleHeader&gt;Pagar Comanda&lt;/TitleHeader&gt;\n      &lt;/Header&gt;\n\n      &lt;Button\n        title=&quot;test&quot;\n        onPress={handlePayment}\n      /&gt;\n    &lt;/Container&gt;\n  );\n}\n\n</code></pre>\n"},{"tags":["java","android","xml","android-studio"],"comments":[{"owner":{"account_id":25646873,"reputation":27,"user_id":19414831,"display_name":"Caelles Kharida"},"score":0,"creation_date":1661919495,"post_id":73550720,"comment_id":129883365,"body_markdown":"Please help, I&#39;m already out of ideas","body":"Please help, I&#39;m already out of ideas"}],"answers":[{"tags":[],"owner":{"account_id":26155744,"reputation":49,"user_id":19842994,"display_name":"kartik"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661924478,"creation_date":1661924478,"answer_id":73551312,"question_id":73550720,"body_markdown":"The return type of `radioGroup.getCheckedRadioButtonId()` (as in the docs) is an `int`. An `int` cannot be `null`, so I think you should rely on `-1`.\r\n\r\nEdit: If you&#39;re not sure how an Android component works, just check the source code :) For the `RadioGroup`, see for example: http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/widget/RadioGroup.java#RadioGroup.clearCheck%28%29","title":"getCheckedRadioButtonId() returns -1 even after the radio button is checked","body":"<p>The return type of <code>radioGroup.getCheckedRadioButtonId()</code> (as in the docs) is an <code>int</code>. An <code>int</code> cannot be <code>null</code>, so I think you should rely on <code>-1</code>.</p>\n<p>Edit: If you're not sure how an Android component works, just check the source code :) For the <code>RadioGroup</code>, see for example: <a href=\"http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/widget/RadioGroup.java#RadioGroup.clearCheck%28%29\" rel=\"nofollow noreferrer\">http://grepcode.com/file/repository.grepcode.com/java/ext/com.google.android/android/5.1.1_r1/android/widget/RadioGroup.java#RadioGroup.clearCheck%28%29</a></p>\n"},{"tags":[],"owner":{"account_id":26194888,"reputation":1,"user_id":19876123,"display_name":"Jaydeep Khatrani"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662092689,"creation_date":1661941306,"answer_id":73554432,"question_id":73550720,"body_markdown":"        RadioGroup radioGroup = (RadioGroup) findViewById(R.id.radioGroupMurid);\r\n        RadioButton rbSelected = (RadioButton) findViewById(sexMurid);\r\n        RadioButton radioMuridPerempuan = (RadioButton) findViewById(radioMuridPerempuan);\r\n\r\n        radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\r\n            @Override\r\n            public void onCheckedChanged(RadioGroup group, int checkedId) {\r\n                if (checkedId == R.id.sexMurid) {\r\n                    jenisKelamin = rbSelected.getText().toString();\r\n                else if (checkedId == R.id.radioMuridPerempuan) {\r\n                    jenisKelamin = radioMuridPerempuan.getText().toString();\r\n                }\r\n\r\n            }\r\n        });\r\n","title":"getCheckedRadioButtonId() returns -1 even after the radio button is checked","body":"<pre><code>    RadioGroup radioGroup = (RadioGroup) findViewById(R.id.radioGroupMurid);\n    RadioButton rbSelected = (RadioButton) findViewById(sexMurid);\n    RadioButton radioMuridPerempuan = (RadioButton) findViewById(radioMuridPerempuan);\n\n    radioGroup.setOnCheckedChangeListener(new RadioGroup.OnCheckedChangeListener() {\n        @Override\n        public void onCheckedChanged(RadioGroup group, int checkedId) {\n            if (checkedId == R.id.sexMurid) {\n                jenisKelamin = rbSelected.getText().toString();\n            else if (checkedId == R.id.radioMuridPerempuan) {\n                jenisKelamin = radioMuridPerempuan.getText().toString();\n            }\n\n        }\n    });\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15389411,"reputation":324,"user_id":11102588,"display_name":"Antony Aiwin K X"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662176053,"creation_date":1662176053,"answer_id":73589433,"question_id":73550720,"body_markdown":"This occurs when **RadioButton** is not a **direct child** of **RadioGroup**. In your code the direct child of RadioGroup is LinearLayout. Try with the RadioGroup tag inside of LinearLayout like this:\r\n \r\n\r\n    \r\n\r\n      &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_marginTop=&quot;5dp&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n        &lt;TextView\r\n            android:id=&quot;@+id/txtKelaminMurid&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:layout_weight=&quot;1&quot;\r\n            android:text=&quot;Jenis Kelamin&quot;\r\n            android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n        &lt;RadioGroup\r\n            android:id=&quot;@+id/radioGroupMurid&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n            \r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioMuridLaki&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Laki-Laki&quot; /&gt;\r\n\r\n            &lt;RadioButton\r\n                android:id=&quot;@+id/radioMuridPerempuan&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:layout_weight=&quot;1&quot;\r\n                android:text=&quot;Perempuan&quot; /&gt;\r\n            \r\n        &lt;/RadioGroup&gt;\r\n        \r\n    &lt;/LinearLayout&gt;\r\n","title":"getCheckedRadioButtonId() returns -1 even after the radio button is checked","body":"<p>This occurs when <strong>RadioButton</strong> is not a <strong>direct child</strong> of <strong>RadioGroup</strong>. In your code the direct child of RadioGroup is LinearLayout. Try with the RadioGroup tag inside of LinearLayout like this:</p>\n<pre><code>  &lt;LinearLayout\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_marginTop=&quot;5dp&quot;\n    android:orientation=&quot;horizontal&quot;&gt;\n\n    &lt;TextView\n        android:id=&quot;@+id/txtKelaminMurid&quot;\n        android:layout_width=&quot;wrap_content&quot;\n        android:layout_height=&quot;wrap_content&quot;\n        android:layout_weight=&quot;1&quot;\n        android:text=&quot;Jenis Kelamin&quot;\n        android:textSize=&quot;20sp&quot; /&gt;\n\n    &lt;RadioGroup\n        android:id=&quot;@+id/radioGroupMurid&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n        \n        &lt;RadioButton\n            android:id=&quot;@+id/radioMuridLaki&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;Laki-Laki&quot; /&gt;\n\n        &lt;RadioButton\n            android:id=&quot;@+id/radioMuridPerempuan&quot;\n            android:layout_width=&quot;wrap_content&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:layout_weight=&quot;1&quot;\n            android:text=&quot;Perempuan&quot; /&gt;\n        \n    &lt;/RadioGroup&gt;\n    \n&lt;/LinearLayout&gt;\n</code></pre>\n"}],"owner":{"account_id":25646873,"reputation":27,"user_id":19414831,"display_name":"Caelles Kharida"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73589433,"answer_count":3,"score":0,"last_activity_date":1662176053,"creation_date":1661918280,"question_id":73550720,"body_markdown":"I&#39;m trying to get text from selected radiobutton. this code was working fine yesterday but now it&#39;s returning null and I don&#39;t understand why or what&#39;s suddenly causing it.\r\n\r\nRenaming variable, rewriting the code, re define variable, re initializing it does nothing to solve this.\r\n\r\n**the XML**\r\n\r\n          &lt;RadioGroup\r\n            android:id=&quot;@+id/radioGroupMurid&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;&gt;\r\n\r\n            &lt;LinearLayout\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;match_parent&quot;\r\n                android:layout_marginTop=&quot;5dp&quot;\r\n                android:orientation=&quot;horizontal&quot;&gt;\r\n\r\n                &lt;TextView\r\n                    android:id=&quot;@+id/txtKelaminMurid&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;Jenis Kelamin&quot;\r\n                    android:textSize=&quot;20sp&quot; /&gt;\r\n\r\n                &lt;RadioButton\r\n                    android:id=&quot;@+id/radioMuridLaki&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;Laki-Laki&quot; /&gt;\r\n\r\n                &lt;RadioButton\r\n                    android:id=&quot;@+id/radioMuridPerempuan&quot;\r\n                    android:layout_width=&quot;wrap_content&quot;\r\n                    android:layout_height=&quot;wrap_content&quot;\r\n                    android:layout_weight=&quot;1&quot;\r\n                    android:text=&quot;Perempuan&quot; /&gt;\r\n            &lt;/LinearLayout&gt;\r\n        &lt;/RadioGroup&gt;\r\n\r\n**Activity**\r\n\r\n    private RadioGroup radioGroup;\r\n\r\n    protected void onCreate(Bundle savedInstaceState){\r\n        super.onCreate(savedInstaceState);\r\n    \r\n    setContentView(R.layout.murid_detail_activity);\r\n\r\n    radioGroup = (RadioGroup) findViewById(R.id.radioGroupMurid);\r\n\r\n    getRadioChecked();\r\n\r\n    }\r\n    \r\n    public void getRadioChecked(){\r\n        int sexMurid = radioGroup.getCheckedRadioButtonId();\r\n        RadioButton rbSelected = (RadioButton) findViewById(sexMurid);\r\n        jenisKelamin = rbSelected.getText().toString();\r\n    }\r\n\r\nThis is really fine yesterday, I just don&#39;t know what&#39;s causing it? can anyone help?","title":"getCheckedRadioButtonId() returns -1 even after the radio button is checked","body":"<p>I'm trying to get text from selected radiobutton. this code was working fine yesterday but now it's returning null and I don't understand why or what's suddenly causing it.</p>\n<p>Renaming variable, rewriting the code, re define variable, re initializing it does nothing to solve this.</p>\n<p><strong>the XML</strong></p>\n<pre><code>      &lt;RadioGroup\n        android:id=&quot;@+id/radioGroupMurid&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;&gt;\n\n        &lt;LinearLayout\n            android:layout_width=&quot;match_parent&quot;\n            android:layout_height=&quot;match_parent&quot;\n            android:layout_marginTop=&quot;5dp&quot;\n            android:orientation=&quot;horizontal&quot;&gt;\n\n            &lt;TextView\n                android:id=&quot;@+id/txtKelaminMurid&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;Jenis Kelamin&quot;\n                android:textSize=&quot;20sp&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioMuridLaki&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;Laki-Laki&quot; /&gt;\n\n            &lt;RadioButton\n                android:id=&quot;@+id/radioMuridPerempuan&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:layout_weight=&quot;1&quot;\n                android:text=&quot;Perempuan&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/RadioGroup&gt;\n</code></pre>\n<p><strong>Activity</strong></p>\n<pre><code>private RadioGroup radioGroup;\n\nprotected void onCreate(Bundle savedInstaceState){\n    super.onCreate(savedInstaceState);\n\nsetContentView(R.layout.murid_detail_activity);\n\nradioGroup = (RadioGroup) findViewById(R.id.radioGroupMurid);\n\ngetRadioChecked();\n\n}\n\npublic void getRadioChecked(){\n    int sexMurid = radioGroup.getCheckedRadioButtonId();\n    RadioButton rbSelected = (RadioButton) findViewById(sexMurid);\n    jenisKelamin = rbSelected.getText().toString();\n}\n</code></pre>\n<p>This is really fine yesterday, I just don't know what's causing it? can anyone help?</p>\n"},{"tags":["java","antivirus","windows-defender","harmonyos","deveco-studio"],"comments":[{"owner":{"account_id":16747115,"reputation":1228,"user_id":12105019,"display_name":"Tapan Hegde"},"score":0,"creation_date":1634834450,"post_id":69665584,"comment_id":123139563,"body_markdown":"If you got solution for question posted, please elaborate your answer with proper information.","body":"If you got solution for question posted, please elaborate your answer with proper information."}],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662174755,"creation_date":1662174755,"answer_id":73589380,"question_id":69665584,"body_markdown":"**Solution:** \r\n\r\nDisable Windows defender or disable anti-virus if you have any and it working fine.","title":"Failed to create MD5 hash for file entry_debug_unsigned_entry.apk as it does not exist. in DevEco Studio HarmonyOS","body":"<p><strong>Solution:</strong></p>\n<p>Disable Windows defender or disable anti-virus if you have any and it working fine.</p>\n"}],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73589380,"answer_count":1,"score":2,"last_activity_date":1662174766,"creation_date":1634833586,"question_id":69665584,"body_markdown":"I&#39;m trying to build my HarmonyOS app. It was working fine when suddenly windows defender gave me a message that it had found a threat, and directly after I get an error message: `Failed to create MD5 hash for file **&#39;C:\\Users\\Admin\\DevEcoStudioProjects\\MyApplication\\entry\\build\\intermediates\\shell_output\\debug\\entry_debug_unsigned_entry.apk&#39;** as it does not exist.`\r\n","title":"Failed to create MD5 hash for file entry_debug_unsigned_entry.apk as it does not exist. in DevEco Studio HarmonyOS","body":"<p>I'm trying to build my HarmonyOS app. It was working fine when suddenly windows defender gave me a message that it had found a threat, and directly after I get an error message: <code>Failed to create MD5 hash for file **'C:\\Users\\Admin\\DevEcoStudioProjects\\MyApplication\\entry\\build\\intermediates\\shell_output\\debug\\entry_debug_unsigned_entry.apk'** as it does not exist.</code></p>\n"},{"tags":["java","android","apache-commons","file-management"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1662178581,"post_id":73589229,"comment_id":129951382,"body_markdown":"`deleteDirectory(String dir)` Change  to `deleteDirectory(File dir)` to begin with.","body":"<code>deleteDirectory(String dir)</code> Change  to <code>deleteDirectory(File dir)</code> to begin with."}],"answers":[{"tags":[],"owner":{"account_id":232182,"reputation":6622,"user_id":496854,"accept_rate":61,"display_name":"user496854"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662172658,"creation_date":1662172658,"answer_id":73589277,"question_id":73589229,"body_markdown":"I&#39;m pretty sure that the OS deletes it at a lower level, by accessing the actual filesystem. Either way, you should try using the [Apache Commons FileUtils][1] library -- it has a `deleteDirectory()` method, which will save you a lot of recursion.\r\n\r\nAlternatively, you can actually try to run &quot;rm -rf&quot; directly, using `runtime.exec()`, but I&#39;m not sure that permissions it would require. [Here&#39;s][2] an example\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-io/javadocs/api-1.4/org/apache/commons/io/FileUtils.html#deleteDirectory(java.io.File)\r\n  [2]: https://stackoverflow.com/questions/14930908/how-to-delete-all-files-and-folders-in-one-folder-on-android/58421350#58421350","title":"Deleting folders quickly on android","body":"<p>I'm pretty sure that the OS deletes it at a lower level, by accessing the actual filesystem. Either way, you should try using the <a href=\"https://commons.apache.org/proper/commons-io/javadocs/api-1.4/org/apache/commons/io/FileUtils.html#deleteDirectory(java.io.File)\" rel=\"nofollow noreferrer\">Apache Commons FileUtils</a> library -- it has a <code>deleteDirectory()</code> method, which will save you a lot of recursion.</p>\n<p>Alternatively, you can actually try to run &quot;rm -rf&quot; directly, using <code>runtime.exec()</code>, but I'm not sure that permissions it would require. <a href=\"https://stackoverflow.com/questions/14930908/how-to-delete-all-files-and-folders-in-one-folder-on-android/58421350#58421350\">Here's</a> an example</p>\n"}],"owner":{"account_id":5234507,"reputation":2709,"user_id":4183558,"accept_rate":75,"display_name":"mattfred"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":94,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662172658,"creation_date":1662171416,"question_id":73589229,"body_markdown":"I have an android app that needs to be able to delete large directories quickly. I know that when an app has a lot of data, the OS is able to clear the data app instantly (from app settings). However, when I manually try to delete a directory with a background task, looping through the folders and deleting the files takes a long time (several minutes) to complete. How does the OS delete data so quickly, but when it is done in code, it takes such a long time? Is there a faster way to do it?\r\n```\r\n    private boolean deleteDirectory(String dir) {\r\n        Log.d(TAG, &quot;deleteDirectory&quot;);\r\n        // If dir is not separated from the end of the character to the file, the file is automatically added delimiter\r\n        if (!dir.endsWith(File.separator))\r\n            dir = dir + File.separator;\r\n        File dirFile = new File(dir);\r\n        // If dir corresponding file does not exist or is not a directory, then exit\r\n        if ((!dirFile.exists()) || (!dirFile.isDirectory())) {\r\n            return false;\r\n        }\r\n        boolean flag = true;\r\n        // delete all the files in the folder, including subdirectories\r\n        File[] files = dirFile.listFiles();\r\n        if (files != null) {\r\n            for (int i = 0; i &lt; files.length; i++) {\r\n                final int count = i;\r\n                // delete subfolders\r\n                if (files[i].isFile()) {\r\n                    try {\r\n                        FileUtils.forceDelete(files[count]);\r\n                    } catch (IOException e) {\r\n                        Log.e(TAG, e.getLocalizedMessage(), e);\r\n                    }\r\n\r\n                } else if (files[i].isDirectory()) {\r\n\r\n                    flag = deleteDirectory(files[i]\r\n                            .getAbsolutePath());\r\n                }\r\n                if (dir == path) {\r\n                    Log.d(TAG, &quot;delete dir: &quot; + dirFile);\r\n                    curPosi++;\r\n                    publishProgress(curPosi);\r\n                }\r\n            }\r\n        }\r\n        if (!flag) {\r\n            return false;\r\n        }\r\n        // delete the current directory\r\n\r\n        if (dirFile.delete()) {\r\n            return true;\r\n        } else {\r\n            return false;\r\n        }\r\n    }\r\n```","title":"Deleting folders quickly on android","body":"<p>I have an android app that needs to be able to delete large directories quickly. I know that when an app has a lot of data, the OS is able to clear the data app instantly (from app settings). However, when I manually try to delete a directory with a background task, looping through the folders and deleting the files takes a long time (several minutes) to complete. How does the OS delete data so quickly, but when it is done in code, it takes such a long time? Is there a faster way to do it?</p>\n<pre><code>    private boolean deleteDirectory(String dir) {\n        Log.d(TAG, &quot;deleteDirectory&quot;);\n        // If dir is not separated from the end of the character to the file, the file is automatically added delimiter\n        if (!dir.endsWith(File.separator))\n            dir = dir + File.separator;\n        File dirFile = new File(dir);\n        // If dir corresponding file does not exist or is not a directory, then exit\n        if ((!dirFile.exists()) || (!dirFile.isDirectory())) {\n            return false;\n        }\n        boolean flag = true;\n        // delete all the files in the folder, including subdirectories\n        File[] files = dirFile.listFiles();\n        if (files != null) {\n            for (int i = 0; i &lt; files.length; i++) {\n                final int count = i;\n                // delete subfolders\n                if (files[i].isFile()) {\n                    try {\n                        FileUtils.forceDelete(files[count]);\n                    } catch (IOException e) {\n                        Log.e(TAG, e.getLocalizedMessage(), e);\n                    }\n\n                } else if (files[i].isDirectory()) {\n\n                    flag = deleteDirectory(files[i]\n                            .getAbsolutePath());\n                }\n                if (dir == path) {\n                    Log.d(TAG, &quot;delete dir: &quot; + dirFile);\n                    curPosi++;\n                    publishProgress(curPosi);\n                }\n            }\n        }\n        if (!flag) {\n            return false;\n        }\n        // delete the current directory\n\n        if (dirFile.delete()) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":20844560,"reputation":774,"user_id":15310387,"display_name":"Mr R"},"score":1,"creation_date":1662155993,"post_id":73588139,"comment_id":129949297,"body_markdown":"This https://stackoverflow.com/questions/20959796/rotate-90-degree-to-right-image-in-java might help","body":"This <a href=\"https://stackoverflow.com/questions/20959796/rotate-90-degree-to-right-image-in-java\" title=\"rotate 90 degree to right image in java\">stackoverflow.com/questions/20959796/&hellip;</a> might help"},{"owner":{"account_id":8372434,"reputation":466,"user_id":6287102,"accept_rate":90,"display_name":"Paul Hashmi"},"score":0,"creation_date":1662156117,"post_id":73588139,"comment_id":129949313,"body_markdown":"I have had a look already but will have a second thanks Mr R.","body":"I have had a look already but will have a second thanks Mr R."},{"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"score":1,"creation_date":1662165857,"post_id":73588139,"comment_id":129950439,"body_markdown":"the actual code is creating a new image inside the loop for each iteration - only the last image with the last pixel will be returned.  Better have the loop inside the switch, once for each case... (Also check `AffineTransform`)","body":"the actual code is creating a new image inside the loop for each iteration - only the last image with the last pixel will be returned.  Better have the loop inside the switch, once for each case... (Also check <code>AffineTransform</code>)"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1662228180,"post_id":73588139,"comment_id":129959737,"body_markdown":"What is your goal here? Do you want to learn the low-level details of how to do this yourself? Or are you interested in making something that works as quickly as possible? If the later, then you should find a library (either built into Java or available on Maven) to help you accomplish the task. If you are wanting to learn how to do this yourself, then you are well on your way. As pointed out there are some mistakes in your logic. I suggest reading [this article](https://ericlippert.com/2014/03/05/how-to-debug-small-programs/) for tips to debug your code.","body":"What is your goal here? Do you want to learn the low-level details of how to do this yourself? Or are you interested in making something that works as quickly as possible? If the later, then you should find a library (either built into Java or available on Maven) to help you accomplish the task. If you are wanting to learn how to do this yourself, then you are well on your way. As pointed out there are some mistakes in your logic. I suggest reading <a href=\"https://ericlippert.com/2014/03/05/how-to-debug-small-programs/\" rel=\"nofollow noreferrer\">this article</a> for tips to debug your code."}],"answers":[{"tags":[],"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1662166497,"creation_date":1662166497,"answer_id":73588987,"question_id":73588139,"body_markdown":"I don&#39;t know if there&#39;s a fixed requirement to rotate this image by individual pixels or not, but I&#39;m far to simple minded to even be bothered trying.\r\n\r\nInstead, I&#39;d (personally) drop straight into the `Graphics` API itself, for example...\r\n\r\n    public static BufferedImage rotateBy(BufferedImage source, double degrees) {\r\n        // The size of the original image\r\n        int w = source.getWidth();\r\n        int h = source.getHeight();\r\n        // The angel of the rotation in radians\r\n        double rads = Math.toRadians(degrees);\r\n        // Some nice math which demonstrates I have no idea what I&#39;m talking about\r\n        // Okay, this calculates the amount of space the image will need in\r\n        // order not be clipped when it&#39;s rotated\r\n        double sin = Math.abs(Math.sin(rads));\r\n        double cos = Math.abs(Math.cos(rads));\r\n        int newWidth = (int) Math.floor(w * cos + h * sin);\r\n        int newHeight = (int) Math.floor(h * cos + w * sin);\r\n\r\n        // A new image, into which the original can be painted\r\n        BufferedImage rotated = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);\r\n        Graphics2D g2d = rotated.createGraphics();\r\n        // The transformation which will be used to actually rotate the image\r\n        // The translation, actually makes sure that the image is positioned onto\r\n        // the viewable area of the image\r\n        AffineTransform at = new AffineTransform();\r\n        at.translate((newWidth - w) / 2, (newHeight - h) / 2);\r\n\r\n        // And we rotate about the center of the image...\r\n        int x = w / 2;\r\n        int y = h / 2;\r\n        at.rotate(rads, x, y);\r\n        g2d.setTransform(at);\r\n        // And we paint the original image onto the new image\r\n        g2d.drawImage(source, 0, 0, null);\r\n        g2d.dispose();\r\n\r\n        return rotated;\r\n    }\r\n\r\nThis method will create a new image large enough to fit the rotated version of the source image.\r\n\r\nYou could then drop it into a helper class, add some helper methods and have a basic worker (and re-usable) solution, for example...\r\n\r\n    public class ImageUtilities {\r\n\r\n        public enum Direction {\r\n            NORTH, SOUTH, EAST, WEST\r\n        }\r\n\r\n        public static BufferedImage rotateBy(BufferedImage source, Direction direction) {\r\n            switch (direction) {\r\n                case NORTH:\r\n                    return source;\r\n                case SOUTH:\r\n                    return rotateBy(source, 180);\r\n                case EAST:\r\n                    return rotateBy(source, 90);\r\n                case WEST:\r\n                    return rotateBy(source, -90);\r\n            }\r\n            return null;\r\n        }\r\n\r\n        public static BufferedImage rotateBy(BufferedImage source, double degrees) {\r\n            // The size of the original image\r\n            int w = source.getWidth();\r\n            int h = source.getHeight();\r\n            // The angel of the rotation in radians\r\n            double rads = Math.toRadians(degrees);\r\n            // Some nice math which demonstrates I have no idea what I&#39;m talking about\r\n            // Okay, this calculates the amount of space the image will need in\r\n            // order not be clipped when it&#39;s rotated\r\n            double sin = Math.abs(Math.sin(rads));\r\n            double cos = Math.abs(Math.cos(rads));\r\n            int newWidth = (int) Math.floor(w * cos + h * sin);\r\n            int newHeight = (int) Math.floor(h * cos + w * sin);\r\n\r\n            // A new image, into which the original can be painted\r\n            BufferedImage rotated = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);\r\n            Graphics2D g2d = rotated.createGraphics();\r\n            // The transformation which will be used to actually rotate the image\r\n            // The translation, actually makes sure that the image is positioned onto\r\n            // the viewable area of the image\r\n            AffineTransform at = new AffineTransform();\r\n            at.translate((newWidth - w) / 2, (newHeight - h) / 2);\r\n\r\n            // And we rotate about the center of the image...\r\n            int x = w / 2;\r\n            int y = h / 2;\r\n            at.rotate(rads, x, y);\r\n            g2d.setTransform(at);\r\n            // And we paint the original image onto the new image\r\n            g2d.drawImage(source, 0, 0, null);\r\n            g2d.dispose();\r\n\r\n            return rotated;\r\n        }\r\n    }\r\n\r\n(although I might use `RIGHT, LEFT, UPSIDE` or something, but that&#39;s me :P)\r\n\r\n# Runnable example...\r\n\r\n[![enter image description here][1]][1]\r\n\r\n    import java.awt.EventQueue;\r\n    import java.awt.Graphics2D;\r\n    import java.awt.GridLayout;\r\n    import java.awt.geom.AffineTransform;\r\n    import java.awt.image.BufferedImage;\r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.logging.Level;\r\n    import java.util.logging.Logger;\r\n    import javax.imageio.ImageIO;\r\n    import javax.swing.ImageIcon;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JLabel;\r\n    import javax.swing.JPanel;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            new Main();\r\n        }\r\n\r\n        public Main() {\r\n            EventQueue.invokeLater(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    try {\r\n                        JFrame frame = new JFrame();\r\n                        frame.add(new TestPane());\r\n                        frame.pack();\r\n                        frame.setLocationRelativeTo(null);\r\n                        frame.setVisible(true);\r\n                    } catch (IOException ex) {\r\n                        Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\r\n                    }\r\n                }\r\n            });\r\n        }\r\n\r\n        public class TestPane extends JPanel {\r\n\r\n            private BufferedImage masterImage;\r\n            private BufferedImage northImage;\r\n            private BufferedImage southImage;\r\n            private BufferedImage eastImage;\r\n            private BufferedImage westImage;\r\n\r\n            public TestPane() throws IOException {\r\n                masterImage = ImageIO.read(new File(&quot;/absolute/path/to/your/image.png&quot;));\r\n\r\n                northImage = ImageUtilities.rotateBy(masterImage, ImageUtilities.Direction.NORTH);\r\n                southImage = ImageUtilities.rotateBy(masterImage, ImageUtilities.Direction.SOUTH);\r\n                eastImage = ImageUtilities.rotateBy(masterImage, ImageUtilities.Direction.EAST);\r\n                westImage = ImageUtilities.rotateBy(masterImage, ImageUtilities.Direction.WEST);\r\n\r\n                setLayout(new GridLayout(3, 3));\r\n\r\n                add(new JLabel(&quot;&quot;));\r\n                add(new JLabel(new ImageIcon(northImage)));\r\n                add(new JLabel(&quot;&quot;));\r\n\r\n                add(new JLabel(new ImageIcon(westImage)));\r\n                add(new JLabel(new ImageIcon(masterImage)));\r\n                add(new JLabel(new ImageIcon(eastImage)));\r\n\r\n                add(new JLabel(&quot;&quot;));\r\n                add(new JLabel(new ImageIcon(southImage)));\r\n                add(new JLabel(&quot;&quot;));\r\n            }\r\n        }\r\n\r\n        public class ImageUtilities {\r\n\r\n            public enum Direction {\r\n                NORTH, SOUTH, EAST, WEST\r\n            }\r\n\r\n            public static BufferedImage rotateBy(BufferedImage source, Direction direction) {\r\n                switch (direction) {\r\n                    case NORTH:\r\n                        return source;\r\n                    case SOUTH:\r\n                        return rotateBy(source, 180);\r\n                    case EAST:\r\n                        return rotateBy(source, 90);\r\n                    case WEST:\r\n                        return rotateBy(source, -90);\r\n                }\r\n                return null;\r\n            }\r\n\r\n            public static BufferedImage rotateBy(BufferedImage source, double degrees) {\r\n                // The size of the original image\r\n                int w = source.getWidth();\r\n                int h = source.getHeight();\r\n                // The angel of the rotation in radians\r\n                double rads = Math.toRadians(degrees);\r\n                // Some nice math which demonstrates I have no idea what I&#39;m talking about\r\n                // Okay, this calculates the amount of space the image will need in\r\n                // order not be clipped when it&#39;s rotated\r\n                double sin = Math.abs(Math.sin(rads));\r\n                double cos = Math.abs(Math.cos(rads));\r\n                int newWidth = (int) Math.floor(w * cos + h * sin);\r\n                int newHeight = (int) Math.floor(h * cos + w * sin);\r\n\r\n                // A new image, into which the original can be painted\r\n                BufferedImage rotated = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);\r\n                Graphics2D g2d = rotated.createGraphics();\r\n                // The transformation which will be used to actually rotate the image\r\n                // The translation, actually makes sure that the image is positioned onto\r\n                // the viewable area of the image\r\n                AffineTransform at = new AffineTransform();\r\n                at.translate((newWidth - w) / 2, (newHeight - h) / 2);\r\n\r\n                // And we rotate about the center of the image...\r\n                int x = w / 2;\r\n                int y = h / 2;\r\n                at.rotate(rads, x, y);\r\n                g2d.setTransform(at);\r\n                // And we paint the original image onto the new image\r\n                g2d.drawImage(source, 0, 0, null);\r\n                g2d.dispose();\r\n\r\n                return rotated;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gPDtm.png\r\n\r\n&gt; But the image is rotating in the wrong direction!\r\n\r\nOkay, so change the angle of rotation to meet your needs!","title":"Rotate an image by 90 180 and 270 degrees when width and height can be any size","body":"<p>I don't know if there's a fixed requirement to rotate this image by individual pixels or not, but I'm far to simple minded to even be bothered trying.</p>\n<p>Instead, I'd (personally) drop straight into the <code>Graphics</code> API itself, for example...</p>\n<pre><code>public static BufferedImage rotateBy(BufferedImage source, double degrees) {\n    // The size of the original image\n    int w = source.getWidth();\n    int h = source.getHeight();\n    // The angel of the rotation in radians\n    double rads = Math.toRadians(degrees);\n    // Some nice math which demonstrates I have no idea what I'm talking about\n    // Okay, this calculates the amount of space the image will need in\n    // order not be clipped when it's rotated\n    double sin = Math.abs(Math.sin(rads));\n    double cos = Math.abs(Math.cos(rads));\n    int newWidth = (int) Math.floor(w * cos + h * sin);\n    int newHeight = (int) Math.floor(h * cos + w * sin);\n\n    // A new image, into which the original can be painted\n    BufferedImage rotated = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);\n    Graphics2D g2d = rotated.createGraphics();\n    // The transformation which will be used to actually rotate the image\n    // The translation, actually makes sure that the image is positioned onto\n    // the viewable area of the image\n    AffineTransform at = new AffineTransform();\n    at.translate((newWidth - w) / 2, (newHeight - h) / 2);\n\n    // And we rotate about the center of the image...\n    int x = w / 2;\n    int y = h / 2;\n    at.rotate(rads, x, y);\n    g2d.setTransform(at);\n    // And we paint the original image onto the new image\n    g2d.drawImage(source, 0, 0, null);\n    g2d.dispose();\n\n    return rotated;\n}\n</code></pre>\n<p>This method will create a new image large enough to fit the rotated version of the source image.</p>\n<p>You could then drop it into a helper class, add some helper methods and have a basic worker (and re-usable) solution, for example...</p>\n<pre><code>public class ImageUtilities {\n\n    public enum Direction {\n        NORTH, SOUTH, EAST, WEST\n    }\n\n    public static BufferedImage rotateBy(BufferedImage source, Direction direction) {\n        switch (direction) {\n            case NORTH:\n                return source;\n            case SOUTH:\n                return rotateBy(source, 180);\n            case EAST:\n                return rotateBy(source, 90);\n            case WEST:\n                return rotateBy(source, -90);\n        }\n        return null;\n    }\n\n    public static BufferedImage rotateBy(BufferedImage source, double degrees) {\n        // The size of the original image\n        int w = source.getWidth();\n        int h = source.getHeight();\n        // The angel of the rotation in radians\n        double rads = Math.toRadians(degrees);\n        // Some nice math which demonstrates I have no idea what I'm talking about\n        // Okay, this calculates the amount of space the image will need in\n        // order not be clipped when it's rotated\n        double sin = Math.abs(Math.sin(rads));\n        double cos = Math.abs(Math.cos(rads));\n        int newWidth = (int) Math.floor(w * cos + h * sin);\n        int newHeight = (int) Math.floor(h * cos + w * sin);\n\n        // A new image, into which the original can be painted\n        BufferedImage rotated = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);\n        Graphics2D g2d = rotated.createGraphics();\n        // The transformation which will be used to actually rotate the image\n        // The translation, actually makes sure that the image is positioned onto\n        // the viewable area of the image\n        AffineTransform at = new AffineTransform();\n        at.translate((newWidth - w) / 2, (newHeight - h) / 2);\n\n        // And we rotate about the center of the image...\n        int x = w / 2;\n        int y = h / 2;\n        at.rotate(rads, x, y);\n        g2d.setTransform(at);\n        // And we paint the original image onto the new image\n        g2d.drawImage(source, 0, 0, null);\n        g2d.dispose();\n\n        return rotated;\n    }\n}\n</code></pre>\n<p>(although I might use <code>RIGHT, LEFT, UPSIDE</code> or something, but that's me :P)</p>\n<h1>Runnable example...</h1>\n<p><a href=\"https://i.stack.imgur.com/gPDtm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gPDtm.png\" alt=\"enter image description here\" /></a></p>\n<pre><code>import java.awt.EventQueue;\nimport java.awt.Graphics2D;\nimport java.awt.GridLayout;\nimport java.awt.geom.AffineTransform;\nimport java.awt.image.BufferedImage;\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.logging.Level;\nimport java.util.logging.Logger;\nimport javax.imageio.ImageIO;\nimport javax.swing.ImageIcon;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JPanel;\n\npublic class Main {\n    public static void main(String[] args) {\n        new Main();\n    }\n\n    public Main() {\n        EventQueue.invokeLater(new Runnable() {\n            @Override\n            public void run() {\n                try {\n                    JFrame frame = new JFrame();\n                    frame.add(new TestPane());\n                    frame.pack();\n                    frame.setLocationRelativeTo(null);\n                    frame.setVisible(true);\n                } catch (IOException ex) {\n                    Logger.getLogger(Main.class.getName()).log(Level.SEVERE, null, ex);\n                }\n            }\n        });\n    }\n\n    public class TestPane extends JPanel {\n\n        private BufferedImage masterImage;\n        private BufferedImage northImage;\n        private BufferedImage southImage;\n        private BufferedImage eastImage;\n        private BufferedImage westImage;\n\n        public TestPane() throws IOException {\n            masterImage = ImageIO.read(new File(&quot;/absolute/path/to/your/image.png&quot;));\n\n            northImage = ImageUtilities.rotateBy(masterImage, ImageUtilities.Direction.NORTH);\n            southImage = ImageUtilities.rotateBy(masterImage, ImageUtilities.Direction.SOUTH);\n            eastImage = ImageUtilities.rotateBy(masterImage, ImageUtilities.Direction.EAST);\n            westImage = ImageUtilities.rotateBy(masterImage, ImageUtilities.Direction.WEST);\n\n            setLayout(new GridLayout(3, 3));\n\n            add(new JLabel(&quot;&quot;));\n            add(new JLabel(new ImageIcon(northImage)));\n            add(new JLabel(&quot;&quot;));\n\n            add(new JLabel(new ImageIcon(westImage)));\n            add(new JLabel(new ImageIcon(masterImage)));\n            add(new JLabel(new ImageIcon(eastImage)));\n\n            add(new JLabel(&quot;&quot;));\n            add(new JLabel(new ImageIcon(southImage)));\n            add(new JLabel(&quot;&quot;));\n        }\n    }\n\n    public class ImageUtilities {\n\n        public enum Direction {\n            NORTH, SOUTH, EAST, WEST\n        }\n\n        public static BufferedImage rotateBy(BufferedImage source, Direction direction) {\n            switch (direction) {\n                case NORTH:\n                    return source;\n                case SOUTH:\n                    return rotateBy(source, 180);\n                case EAST:\n                    return rotateBy(source, 90);\n                case WEST:\n                    return rotateBy(source, -90);\n            }\n            return null;\n        }\n\n        public static BufferedImage rotateBy(BufferedImage source, double degrees) {\n            // The size of the original image\n            int w = source.getWidth();\n            int h = source.getHeight();\n            // The angel of the rotation in radians\n            double rads = Math.toRadians(degrees);\n            // Some nice math which demonstrates I have no idea what I'm talking about\n            // Okay, this calculates the amount of space the image will need in\n            // order not be clipped when it's rotated\n            double sin = Math.abs(Math.sin(rads));\n            double cos = Math.abs(Math.cos(rads));\n            int newWidth = (int) Math.floor(w * cos + h * sin);\n            int newHeight = (int) Math.floor(h * cos + w * sin);\n\n            // A new image, into which the original can be painted\n            BufferedImage rotated = new BufferedImage(newWidth, newHeight, BufferedImage.TYPE_INT_ARGB);\n            Graphics2D g2d = rotated.createGraphics();\n            // The transformation which will be used to actually rotate the image\n            // The translation, actually makes sure that the image is positioned onto\n            // the viewable area of the image\n            AffineTransform at = new AffineTransform();\n            at.translate((newWidth - w) / 2, (newHeight - h) / 2);\n\n            // And we rotate about the center of the image...\n            int x = w / 2;\n            int y = h / 2;\n            at.rotate(rads, x, y);\n            g2d.setTransform(at);\n            // And we paint the original image onto the new image\n            g2d.drawImage(source, 0, 0, null);\n            g2d.dispose();\n\n            return rotated;\n        }\n    }\n}\n</code></pre>\n<blockquote>\n<p>But the image is rotating in the wrong direction!</p>\n</blockquote>\n<p>Okay, so change the angle of rotation to meet your needs!</p>\n"},{"tags":[],"owner":{"account_id":22057425,"reputation":135,"user_id":16320675,"display_name":"user16320675"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1662167625,"creation_date":1662167625,"answer_id":73589049,"question_id":73588139,"body_markdown":"As [commented](https://stackoverflow.com/questions/73588139/rotate-an-image-by-90-180-and-270-degrees-when-width-and-height-can-be-any-size/73589049#comment129950439_73588139), the actual code is creating a new image for each pixel, that is, inside the inner loop. Only the image created in the last iteration is returned, containing just the last pixel.\r\n\r\nThe following code creates one single image - I tried to maintain the original code as much as possible:\r\n````\r\nprivate static BufferedImage rotateImg(BufferedImage image, String direction){\r\n\r\n    int width = image.getWidth();\r\n    int height = image.getHeight();\r\n    BufferedImage rotated = null;\r\n\r\n\r\n    switch(direction){\r\n        case &quot;SOUTH&quot;:\r\n            rotated = new BufferedImage(width, height, image.getType());\r\n            for(int y = 0; y &lt; height; y++){\r\n                for(int x = 0; x &lt; width; x++){\r\n                    rotated.setRGB((width - 1) - x, (height - 1) - y, image.getRGB(x,y));\r\n                }\r\n            }\r\n            break;\r\n        case &quot;WEST&quot;:\r\n            //ROTATE LEFT\r\n            rotated = new BufferedImage(height, width, image.getType());\r\n            for(int y = 0; y &lt; height; y++){\r\n                for(int x = 0; x &lt; width; x++){\r\n                    rotated.setRGB(y, (width - 1) - x, image.getRGB(x,y));\r\n                }\r\n            }\r\n            break;\r\n        case &quot;EAST&quot;:\r\n            //ROTATE RIGHT\r\n            rotated = new BufferedImage(height, width, image.getType());\r\n            for(int y = 0; y &lt; height; y++){\r\n                for(int x = 0; x &lt; width; x++){\r\n                    rotated.setRGB((height - 1) - y,  x, image.getRGB(x,y));\r\n                }\r\n            }\r\n            break;\r\n        default:\r\n            return image;\r\n    }\r\n    return rotated;\r\n}\r\n````\r\n\r\n-----\r\n\r\nTo avoid having the loop code repeated (easier to maintain) we can use two *functions* - `calX` and `calcY`:\r\n````\r\nprivate static BufferedImage rotateImg(BufferedImage image, String direction){\r\n\r\n    int width = image.getWidth();\r\n    int height = image.getHeight();\r\n    BufferedImage rotated = null;\r\n\r\n    IntBinaryOperator calcX;\r\n    IntBinaryOperator calcY;\r\n\r\n    switch(direction){\r\n        case &quot;SOUTH&quot;:\r\n            rotated = new BufferedImage(width, height, image.getType());\r\n            calcX = (x, y) -&gt; (width - 1) - x;\r\n            calcY = (x, y) -&gt; (height - 1) - y;\r\n            break;\r\n        case &quot;WEST&quot;:\r\n            //ROTATE LEFT\r\n            rotated = new BufferedImage(height, width, image.getType());\r\n            calcX = (x, y) -&gt; y;\r\n            calcY = (x, y) -&gt; (width - 1) - x;\r\n            break;\r\n        case &quot;EAST&quot;:\r\n            //ROTATE RIGHT\r\n            rotated = new BufferedImage(height, width, image.getType());\r\n            calcX = (x, y) -&gt; (height - 1) - y;\r\n            calcY = (x, y) -&gt; x;\r\n            break;\r\n        default:\r\n            return image;\r\n    }\r\n    for(int y = 0; y &lt; height; y++){\r\n        for(int x = 0; x &lt; width; x++){\r\n            rotated.setRGB(calcX.applyAsInt(x, y), calcY.applyAsInt(x, y), image.getRGB(x,y));\r\n        }\r\n    }\r\n    return rotated;\r\n}\r\n````\r\n","title":"Rotate an image by 90 180 and 270 degrees when width and height can be any size","body":"<p>As <a href=\"https://stackoverflow.com/questions/73588139/rotate-an-image-by-90-180-and-270-degrees-when-width-and-height-can-be-any-size/73589049#comment129950439_73588139\">commented</a>, the actual code is creating a new image for each pixel, that is, inside the inner loop. Only the image created in the last iteration is returned, containing just the last pixel.</p>\n<p>The following code creates one single image - I tried to maintain the original code as much as possible:</p>\n<pre><code>private static BufferedImage rotateImg(BufferedImage image, String direction){\n\n    int width = image.getWidth();\n    int height = image.getHeight();\n    BufferedImage rotated = null;\n\n\n    switch(direction){\n        case &quot;SOUTH&quot;:\n            rotated = new BufferedImage(width, height, image.getType());\n            for(int y = 0; y &lt; height; y++){\n                for(int x = 0; x &lt; width; x++){\n                    rotated.setRGB((width - 1) - x, (height - 1) - y, image.getRGB(x,y));\n                }\n            }\n            break;\n        case &quot;WEST&quot;:\n            //ROTATE LEFT\n            rotated = new BufferedImage(height, width, image.getType());\n            for(int y = 0; y &lt; height; y++){\n                for(int x = 0; x &lt; width; x++){\n                    rotated.setRGB(y, (width - 1) - x, image.getRGB(x,y));\n                }\n            }\n            break;\n        case &quot;EAST&quot;:\n            //ROTATE RIGHT\n            rotated = new BufferedImage(height, width, image.getType());\n            for(int y = 0; y &lt; height; y++){\n                for(int x = 0; x &lt; width; x++){\n                    rotated.setRGB((height - 1) - y,  x, image.getRGB(x,y));\n                }\n            }\n            break;\n        default:\n            return image;\n    }\n    return rotated;\n}\n</code></pre>\n<hr />\n<p>To avoid having the loop code repeated (easier to maintain) we can use two <em>functions</em> - <code>calX</code> and <code>calcY</code>:</p>\n<pre><code>private static BufferedImage rotateImg(BufferedImage image, String direction){\n\n    int width = image.getWidth();\n    int height = image.getHeight();\n    BufferedImage rotated = null;\n\n    IntBinaryOperator calcX;\n    IntBinaryOperator calcY;\n\n    switch(direction){\n        case &quot;SOUTH&quot;:\n            rotated = new BufferedImage(width, height, image.getType());\n            calcX = (x, y) -&gt; (width - 1) - x;\n            calcY = (x, y) -&gt; (height - 1) - y;\n            break;\n        case &quot;WEST&quot;:\n            //ROTATE LEFT\n            rotated = new BufferedImage(height, width, image.getType());\n            calcX = (x, y) -&gt; y;\n            calcY = (x, y) -&gt; (width - 1) - x;\n            break;\n        case &quot;EAST&quot;:\n            //ROTATE RIGHT\n            rotated = new BufferedImage(height, width, image.getType());\n            calcX = (x, y) -&gt; (height - 1) - y;\n            calcY = (x, y) -&gt; x;\n            break;\n        default:\n            return image;\n    }\n    for(int y = 0; y &lt; height; y++){\n        for(int x = 0; x &lt; width; x++){\n            rotated.setRGB(calcX.applyAsInt(x, y), calcY.applyAsInt(x, y), image.getRGB(x,y));\n        }\n    }\n    return rotated;\n}\n</code></pre>\n"}],"owner":{"account_id":8372434,"reputation":466,"user_id":6287102,"accept_rate":90,"display_name":"Paul Hashmi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":693,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73589049,"answer_count":2,"score":0,"last_activity_date":1662167625,"creation_date":1662154752,"question_id":73588139,"body_markdown":"I am having trouble writing a function that takes a BufferedImage and a Cardinal Direction and rotates the image accordingly. I have looked on many threads on stack and tried implementing myself while going over the docs for some time now and the best I&#39;m getting is that the image seems to be rotating, however the last pixel is correct and the rest are set white or transparent not sure.\r\n\r\n\r\nHere is where I have got so far:\r\n\r\n    private BufferedImage rotateImg(BufferedImage image, String direction){\r\n\r\n        int width = image.getWidth();\r\n        int height = image.getHeight();\r\n        BufferedImage rotated = null;\r\n\r\n        for(int y = 0; y &lt; height; y++){\r\n            for(int x = 0; x &lt; width; x++){\r\n                switch(direction){\r\n                    case &quot;SOUTH&quot;:\r\n                        rotated = new BufferedImage(width, height, image.getType());\r\n                        rotated.setRGB((width - 1) - x, (height - 1) - y, image.getRGB(x,y));\r\n                        break;\r\n                    case &quot;WEST&quot;:\r\n                        //ROTATE LEFT\r\n                        rotated = new BufferedImage(height, width, image.getType());\r\n                        rotated.setRGB(y, (width - 1) - x, image.getRGB(x,y));\r\n                        break;\r\n                    case &quot;EAST&quot;:\r\n                        //ROTATE RIGHT\r\n                        rotated = new BufferedImage(height, width, image.getType());\r\n                        rotated.setRGB((height - 1) - y,  x, image.getRGB(x,y));\r\n                        break;\r\n                    default:\r\n                        return image;\r\n                }\r\n            }\r\n        }\r\n        return rotated;\r\n    }\r\n\r\nBelow there are four images but as they are so small its really hard to see them. A bit of browser zoom will show them. \r\n\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n[![enter image description here][3]][3]\r\n[![enter image description here][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vUKct.png\r\n  [2]: https://i.stack.imgur.com/hns95.png\r\n  [3]: https://i.stack.imgur.com/NtOqx.png\r\n  [4]: https://i.stack.imgur.com/oGIWQ.png\r\n\r\nWhen you get close the cyan pixel is staying where it should for the rotation. Its just im loosing the rest of the image. ","title":"Rotate an image by 90 180 and 270 degrees when width and height can be any size","body":"<p>I am having trouble writing a function that takes a BufferedImage and a Cardinal Direction and rotates the image accordingly. I have looked on many threads on stack and tried implementing myself while going over the docs for some time now and the best I'm getting is that the image seems to be rotating, however the last pixel is correct and the rest are set white or transparent not sure.</p>\n<p>Here is where I have got so far:</p>\n<pre><code>private BufferedImage rotateImg(BufferedImage image, String direction){\n\n    int width = image.getWidth();\n    int height = image.getHeight();\n    BufferedImage rotated = null;\n\n    for(int y = 0; y &lt; height; y++){\n        for(int x = 0; x &lt; width; x++){\n            switch(direction){\n                case &quot;SOUTH&quot;:\n                    rotated = new BufferedImage(width, height, image.getType());\n                    rotated.setRGB((width - 1) - x, (height - 1) - y, image.getRGB(x,y));\n                    break;\n                case &quot;WEST&quot;:\n                    //ROTATE LEFT\n                    rotated = new BufferedImage(height, width, image.getType());\n                    rotated.setRGB(y, (width - 1) - x, image.getRGB(x,y));\n                    break;\n                case &quot;EAST&quot;:\n                    //ROTATE RIGHT\n                    rotated = new BufferedImage(height, width, image.getType());\n                    rotated.setRGB((height - 1) - y,  x, image.getRGB(x,y));\n                    break;\n                default:\n                    return image;\n            }\n        }\n    }\n    return rotated;\n}\n</code></pre>\n<p>Below there are four images but as they are so small its really hard to see them. A bit of browser zoom will show them.</p>\n<p><a href=\"https://i.stack.imgur.com/vUKct.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vUKct.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/hns95.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hns95.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/NtOqx.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/NtOqx.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/oGIWQ.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oGIWQ.png\" alt=\"enter image description here\" /></a></p>\n<p>When you get close the cyan pixel is staying where it should for the rotation. Its just im loosing the rest of the image.</p>\n"},{"tags":["java","oauth-2.0","office365","jakarta-mail"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1661738444,"post_id":73521920,"comment_id":129835481,"body_markdown":"Just use `idle()`. That&#39;s what it&#39;s for. I don&#39;t know why you added the NOOP thing.","body":"Just use <code>idle()</code>. That&#39;s what it&#39;s for. I don&#39;t know why you added the NOOP thing."}],"owner":{"account_id":1457199,"reputation":4503,"user_id":1629242,"accept_rate":56,"display_name":"Amogh"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":191,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1662167073,"creation_date":1661717481,"question_id":73521920,"body_markdown":"By using jarata mail library I have developed a java library which will also allows for new mail notification. For that purpose on a thread I have subscribed to `ImapFolder.addMessageCountListener()` like below:\r\n\r\n    folder.addMessageCountListener(new MessageCountAdapter() {\r\n                @Override\r\n                public void messagesAdded(MessageCountEvent ev) {\r\n                    //processing of received new messages\r\n                }\r\n     });\r\nOn same thread I am executing `IDLE` command on same folder:\r\n\r\n    while (!stopNotificationListener &amp;&amp; !Thread.interrupted()) {\r\n                    try\r\n                    {\r\n                        notificationFolder.idle();\r\n                    }\r\n                    catch (FolderClosedException e)\r\n                    {\r\n                        noopThread.shutdown();\r\n                        logger.error(&quot;Lost connection with server, re-connecting again.&quot;);\r\n                    }\r\n     }\r\n\r\nSome days ago I tested this with outlook and gmail email address it was working. \r\n\r\nBut today when I am testing with outlook email address, `addMessageCountListener` is not triggering. But there is no issues with gmail email address.\r\n\r\nBelow is the debug log:\r\n    \r\n    DEBUG: setDebug: Jakarta Mail version 2.0.1\r\n    DEBUG: getProvider() returning jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle]\r\n    DEBUG IMAPS: mail.imap.partialfetch: false\r\n    DEBUG IMAPS: mail.imap.ignorebodystructuresize: false\r\n    DEBUG IMAPS: mail.imap.statuscachetimeout: 1000\r\n    DEBUG IMAPS: mail.imap.appendbuffersize: -1\r\n    DEBUG IMAPS: mail.imap.minidletime: 10\r\n    DEBUG IMAPS: enable STARTTLS\r\n    DEBUG IMAPS: closeFoldersOnStoreFailure\r\n    DEBUG IMAPS: trying to connect to host &quot;outlook.office365.com&quot;, port 993, isSSL true\r\n    * OK The Microsoft Exchange IMAP4 service is ready. [UABOADAAUABSADAAMQBDAEEAMAAwADAANwAuAEkATgBEAFAAUgBEADAAMQAuAFAAUgBPAEQALgBPAFUAVABMAE8ATwBLAC4AQwBPAE0A]\r\n    A0 CAPABILITY\r\n    * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\r\n    A0 OK CAPABILITY completed.\r\n    DEBUG IMAPS: AUTH: PLAIN\r\n    DEBUG IMAPS: AUTH: XOAUTH2\r\n    DEBUG IMAPS: protocolConnect login, host=outlook.office365.com, user=amogh.shah@company.com, password=&lt;non-null&gt;\r\n    DEBUG IMAPS: AUTHENTICATE XOAUTH2 command trace suppressed\r\n    DEBUG IMAPS: AUTHENTICATE XOAUTH2 command result: A1 OK AUTHENTICATE completed.\r\n    A2 CAPABILITY\r\n    * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS MOVE ID UNSELECT CLIENTACCESSRULES CLIENTNETWORKPRESENCELOCATION BACKENDAUTHENTICATE CHILDREN IDLE NAMESPACE LITERAL+\r\n    A2 OK CAPABILITY completed.\r\n    DEBUG IMAPS: AUTH: PLAIN\r\n    DEBUG IMAPS: AUTH: XOAUTH2\r\n    DEBUG IMAPS: IMAPProtocol noop\r\n    A3 NOOP\r\n    A3 OK NOOP completed.\r\n    DEBUG IMAPS: IMAPStore cleanup, force false\r\n    A4 LOGOUT\r\n    * BYE Microsoft Exchange Server IMAP4 server signing off.\r\n    A4 OK LOGOUT completed.\r\n    DEBUG IMAPS: IMAPStore cleanup done\r\n    DEBUG: setDebug: Jakarta Mail version 2.0.1\r\n    DEBUG: getProvider() returning jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle]\r\n    DEBUG IMAPS: mail.imap.partialfetch: false\r\n    DEBUG IMAPS: mail.imap.ignorebodystructuresize: false\r\n    DEBUG IMAPS: mail.imap.statuscachetimeout: 1000\r\n    DEBUG IMAPS: mail.imap.appendbuffersize: -1\r\n    DEBUG IMAPS: mail.imap.minidletime: 10\r\n    DEBUG IMAPS: enable STARTTLS\r\n    DEBUG IMAPS: closeFoldersOnStoreFailure\r\n    DEBUG IMAPS: trying to connect to host &quot;outlook.office365.com&quot;, port 993, isSSL true\r\n    * OK The Microsoft Exchange IMAP4 service is ready. [UABOADAAUABSADAAMQBDAEEAMAAwADEAOAAuAEkATgBEAFAAUgBEADAAMQAuAFAAUgBPAEQALgBPAFUAVABMAE8ATwBLAC4AQwBPAE0A]\r\n    B0 CAPABILITY\r\n    * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\r\n    B0 OK CAPABILITY completed.\r\n    DEBUG IMAPS: AUTH: PLAIN\r\n    DEBUG IMAPS: AUTH: XOAUTH2\r\n    DEBUG IMAPS: protocolConnect login, host=outlook.office365.com, user=amogh.shah@company.com, password=&lt;non-null&gt;\r\n    DEBUG IMAPS: AUTHENTICATE XOAUTH2 command trace suppressed\r\n    DEBUG IMAPS: AUTHENTICATE XOAUTH2 command result: B1 OK AUTHENTICATE completed.\r\n    B2 CAPABILITY\r\n    * CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS MOVE ID UNSELECT CLIENTACCESSRULES CLIENTNETWORKPRESENCELOCATION BACKENDAUTHENTICATE CHILDREN IDLE NAMESPACE LITERAL+\r\n    B2 OK CAPABILITY completed.\r\n    DEBUG IMAPS: AUTH: PLAIN\r\n    DEBUG IMAPS: AUTH: XOAUTH2\r\n    DEBUG IMAPS: connection available -- size: 1\r\n    B3 EXAMINE Inbox\r\n    * 1272 EXISTS\r\n    * 1272 RECENT\r\n    * FLAGS (\\Seen \\Answered \\Flagged \\Deleted \\Draft $MDNSent)\r\n    * OK [PERMANENTFLAGS ()] Permanent flags\r\n    * OK [UIDVALIDITY 14] UIDVALIDITY value\r\n    * OK [UIDNEXT 17102] The next unique identifier value\r\n    B3 OK [READ-ONLY] EXAMINE completed.\r\n    B4 IDLE\r\n    + IDLE accepted, awaiting DONE command.\r\n    DEBUG IMAP: startIdle: set to IDLE\r\n    DEBUG IMAP: startIdle: return true\r\n    DEBUG IMAPS: IMAPStore cleanup, not connected\r\n\r\nWhat is the correct way to keep connection idle, which would work with every email server ?\r\n\r\n**Observation:**\r\n\r\nMessageCountListener is not triggering only when I use organization&#39;s email address, when I use my personal outlook email address then listener is triggered. ","title":"MessageCountListener is not working with outlook email address","body":"<p>By using jarata mail library I have developed a java library which will also allows for new mail notification. For that purpose on a thread I have subscribed to <code>ImapFolder.addMessageCountListener()</code> like below:</p>\n<pre><code>folder.addMessageCountListener(new MessageCountAdapter() {\n            @Override\n            public void messagesAdded(MessageCountEvent ev) {\n                //processing of received new messages\n            }\n });\n</code></pre>\n<p>On same thread I am executing <code>IDLE</code> command on same folder:</p>\n<pre><code>while (!stopNotificationListener &amp;&amp; !Thread.interrupted()) {\n                try\n                {\n                    notificationFolder.idle();\n                }\n                catch (FolderClosedException e)\n                {\n                    noopThread.shutdown();\n                    logger.error(&quot;Lost connection with server, re-connecting again.&quot;);\n                }\n }\n</code></pre>\n<p>Some days ago I tested this with outlook and gmail email address it was working.</p>\n<p>But today when I am testing with outlook email address, <code>addMessageCountListener</code> is not triggering. But there is no issues with gmail email address.</p>\n<p>Below is the debug log:</p>\n<pre><code>DEBUG: setDebug: Jakarta Mail version 2.0.1\nDEBUG: getProvider() returning jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle]\nDEBUG IMAPS: mail.imap.partialfetch: false\nDEBUG IMAPS: mail.imap.ignorebodystructuresize: false\nDEBUG IMAPS: mail.imap.statuscachetimeout: 1000\nDEBUG IMAPS: mail.imap.appendbuffersize: -1\nDEBUG IMAPS: mail.imap.minidletime: 10\nDEBUG IMAPS: enable STARTTLS\nDEBUG IMAPS: closeFoldersOnStoreFailure\nDEBUG IMAPS: trying to connect to host &quot;outlook.office365.com&quot;, port 993, isSSL true\n* OK The Microsoft Exchange IMAP4 service is ready. [UABOADAAUABSADAAMQBDAEEAMAAwADAANwAuAEkATgBEAFAAUgBEADAAMQAuAFAAUgBPAEQALgBPAFUAVABMAE8ATwBLAC4AQwBPAE0A]\nA0 CAPABILITY\n* CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\nA0 OK CAPABILITY completed.\nDEBUG IMAPS: AUTH: PLAIN\nDEBUG IMAPS: AUTH: XOAUTH2\nDEBUG IMAPS: protocolConnect login, host=outlook.office365.com, user=amogh.shah@company.com, password=&lt;non-null&gt;\nDEBUG IMAPS: AUTHENTICATE XOAUTH2 command trace suppressed\nDEBUG IMAPS: AUTHENTICATE XOAUTH2 command result: A1 OK AUTHENTICATE completed.\nA2 CAPABILITY\n* CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS MOVE ID UNSELECT CLIENTACCESSRULES CLIENTNETWORKPRESENCELOCATION BACKENDAUTHENTICATE CHILDREN IDLE NAMESPACE LITERAL+\nA2 OK CAPABILITY completed.\nDEBUG IMAPS: AUTH: PLAIN\nDEBUG IMAPS: AUTH: XOAUTH2\nDEBUG IMAPS: IMAPProtocol noop\nA3 NOOP\nA3 OK NOOP completed.\nDEBUG IMAPS: IMAPStore cleanup, force false\nA4 LOGOUT\n* BYE Microsoft Exchange Server IMAP4 server signing off.\nA4 OK LOGOUT completed.\nDEBUG IMAPS: IMAPStore cleanup done\nDEBUG: setDebug: Jakarta Mail version 2.0.1\nDEBUG: getProvider() returning jakarta.mail.Provider[STORE,imaps,com.sun.mail.imap.IMAPSSLStore,Oracle]\nDEBUG IMAPS: mail.imap.partialfetch: false\nDEBUG IMAPS: mail.imap.ignorebodystructuresize: false\nDEBUG IMAPS: mail.imap.statuscachetimeout: 1000\nDEBUG IMAPS: mail.imap.appendbuffersize: -1\nDEBUG IMAPS: mail.imap.minidletime: 10\nDEBUG IMAPS: enable STARTTLS\nDEBUG IMAPS: closeFoldersOnStoreFailure\nDEBUG IMAPS: trying to connect to host &quot;outlook.office365.com&quot;, port 993, isSSL true\n* OK The Microsoft Exchange IMAP4 service is ready. [UABOADAAUABSADAAMQBDAEEAMAAwADEAOAAuAEkATgBEAFAAUgBEADAAMQAuAFAAUgBPAEQALgBPAFUAVABMAE8ATwBLAC4AQwBPAE0A]\nB0 CAPABILITY\n* CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS ID UNSELECT CHILDREN IDLE NAMESPACE LITERAL+\nB0 OK CAPABILITY completed.\nDEBUG IMAPS: AUTH: PLAIN\nDEBUG IMAPS: AUTH: XOAUTH2\nDEBUG IMAPS: protocolConnect login, host=outlook.office365.com, user=amogh.shah@company.com, password=&lt;non-null&gt;\nDEBUG IMAPS: AUTHENTICATE XOAUTH2 command trace suppressed\nDEBUG IMAPS: AUTHENTICATE XOAUTH2 command result: B1 OK AUTHENTICATE completed.\nB2 CAPABILITY\n* CAPABILITY IMAP4 IMAP4rev1 AUTH=PLAIN AUTH=XOAUTH2 SASL-IR UIDPLUS MOVE ID UNSELECT CLIENTACCESSRULES CLIENTNETWORKPRESENCELOCATION BACKENDAUTHENTICATE CHILDREN IDLE NAMESPACE LITERAL+\nB2 OK CAPABILITY completed.\nDEBUG IMAPS: AUTH: PLAIN\nDEBUG IMAPS: AUTH: XOAUTH2\nDEBUG IMAPS: connection available -- size: 1\nB3 EXAMINE Inbox\n* 1272 EXISTS\n* 1272 RECENT\n* FLAGS (\\Seen \\Answered \\Flagged \\Deleted \\Draft $MDNSent)\n* OK [PERMANENTFLAGS ()] Permanent flags\n* OK [UIDVALIDITY 14] UIDVALIDITY value\n* OK [UIDNEXT 17102] The next unique identifier value\nB3 OK [READ-ONLY] EXAMINE completed.\nB4 IDLE\n+ IDLE accepted, awaiting DONE command.\nDEBUG IMAP: startIdle: set to IDLE\nDEBUG IMAP: startIdle: return true\nDEBUG IMAPS: IMAPStore cleanup, not connected\n</code></pre>\n<p>What is the correct way to keep connection idle, which would work with every email server ?</p>\n<p><strong>Observation:</strong></p>\n<p>MessageCountListener is not triggering only when I use organization's email address, when I use my personal outlook email address then listener is triggered.</p>\n"},{"tags":["java","c++","opencv"],"comments":[{"owner":{"account_id":4018615,"reputation":2239,"user_id":3309799,"accept_rate":33,"display_name":"Chris Neve"},"score":0,"creation_date":1674647704,"post_id":73588841,"comment_id":132757969,"body_markdown":"Hi Dena, did you ever get a working solution ?","body":"Hi Dena, did you ever get a working solution ?"},{"owner":{"account_id":15061661,"reputation":31,"user_id":10870178,"display_name":"Dena"},"score":0,"creation_date":1674791784,"post_id":73588841,"comment_id":132793270,"body_markdown":"No, I gave up, since no one could answer the question or give suggestions. Unfortunately, as a result, the project is stalled indefinitely.","body":"No, I gave up, since no one could answer the question or give suggestions. Unfortunately, as a result, the project is stalled indefinitely."}],"owner":{"account_id":15061661,"reputation":31,"user_id":10870178,"display_name":"Dena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":91,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1662164198,"creation_date":1662164198,"question_id":73588841,"body_markdown":"I am new to this...I am trying to use a video monitoring program that was previously published in a scientific article. There are several different blogposts from the developers-some older than others on how to set it up. I used this one:http://javagrinders-arc.blogspot.com/\r\n\r\nthese are my computer settings:\r\n  \r\n1)I am using a mac Monterey version 12.4\r\n\r\n2)The program requires eclipse my version is IDE Version: 2022-03 (4.23.0)\r\n \r\n3)I have the latest version of java:\r\n\r\n    java version &quot;18.0.1.1&quot; 2022-04-22\r\n    Java(TM) SE Runtime Environment (build 18.0.1.1+2-6)\r\n    Java HotSpot(TM) 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)\r\n\r\n4) All I needed it seems was to have an Opencv .jar file with dependencies installed. \r\n\r\nTo do this I have followed the instructions and successfully built the latest version of OpenCV (4.6) according to this blog: https://udallascs.wordpress.com/2014/03/30/adding-opencv-and-configuring-to-work-with-eclipse-and-java/. \r\n\r\neverything worked well and I was able to get the .jar files and dependencies. \r\n\r\n\r\nThis was stored in my\r\n\r\n    /user/local/Cellar/opencv/4.6.0/share/opencv4\r\n\r\nI then added the opencv-460.jar into eclipse as an external library, then I set the native library path to the one above. \r\n\r\nthen i added \r\n\r\n    System.loadLibrary(Core.NATIVE_LIBRARY_NAME)\r\n\r\nthen I made sure to include the \r\n\r\n    import org.opencv.core.Core\r\n\r\nat the top of the program with the other `import` commands.\r\n\r\nwhen I ran the program I got this error: \r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java320 in java.library.path: /usr/local/Cellar/opencv/4.6.0/share/java/opencv4\r\n\tat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2434)\r\n\tat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:848)\r\n\tat java.base/java.lang.System.loadLibrary(System.java:2015)\r\n\tat _ARC.ARCController.main(ARCController.java:191)\r\n\r\n_ARC.ARCController is the name of the program I am trying to get to work. I contacted the developer and he told me to try and install open.cv 3.2.0 instead.\r\n\r\nSo, I unistalled that version of opencv using brew.\r\n\r\nThen I tried to install and build opencv3.2.0 using cmake:\r\n\r\na) I downloaded version 3.2.0 to my documents folder:\r\n\r\n \r\n\r\n    wget -O opencv.zip https://github.com/opencv/opencv/archive/3.2.0.zip\r\n\r\n    unzip opencv.zip\r\n\r\nb) Then I created the build file within the unzipped opencv folder:\r\n\r\n    cd opencv-3.2.0mkdir build &amp;&amp; cd build\r\n\r\nc) Now I was ready to build Opencv with Cmake\r\n\r\n    cmake -DCMAKE_SYSTEM_PROCESSOR=arm64 \\\r\n    -DCMAKE_OSX_ARCHITECTURES=arm64 \\\r\n    -DWITH_OPENJPEG=OFF \\\r\n    -DWITH_IPP=OFF \\\r\n    -D CMAKE_BUILD_TYPE=RELEASE \\\r\n    -D CMAKE_INSTALL_PREFIX=/usr/local/opencv \\\r\n    -D JAVA_INCLUDE_PATH=$JAVA_HOME/include \\\r\n    -D JAVA_AWT_LIBRARY=$JAVA_HOME/jre/lib/amd64/libawt.so \\\r\n    -D JAVA_JVM_LIBRARY=$JAVA_HOME/jre/lib/arm/server/libjvm.so \\\r\n    -D BUILD_opencv_python2=OFF \\\r\n    -D BUILD_opencv_java=ON \\\r\n    -D INSTALL_PYTHON_EXAMPLES=OFF \\\r\n    -D INSTALL_C_EXAMPLES=OFF \\\r\n    -D OPENCV_ENABLE_NONFREE=OFF \\\r\n    -D BUILD_EXAMPLES=ON ..\r\n\r\n\r\nThen I still got this lengthy error. \r\n\r\n \r\n\r\n    CMake Deprecation Warning at CMakeLists.txt:22 (cmake_minimum_required):\r\n    \r\n      Compatibility with CMake &lt; 2.8.12 will be removed from a future version of\r\n    \r\n      CMake.\r\n    \r\n     \r\n    \r\n      Update the VERSION argument &lt;min&gt; value or use a ...&lt;max&gt; suffix to tell\r\n    \r\n      CMake that the project does not need compatibility with older versions.\r\n    \r\n     \r\n    \r\n     \r\n    \r\n    CMake Deprecation Warning at CMakeLists.txt:72 (cmake_policy):\r\n    \r\n      The OLD behavior for policy CMP0020 will be removed from a future version\r\n    \r\n      of CMake.\r\n    \r\n     \r\n    \r\n      The cmake-policies(7) manual explains that the OLD behaviors of all\r\n    \r\n      policies are deprecated and that a policy should be set to OLD only under\r\n    \r\n      specific short-term circumstances.  Projects should be ported to the NEW\r\n    \r\n      behavior and not rely on setting a policy to OLD.\r\n    \r\n     \r\n    \r\n     \r\n    \r\n    CMake Deprecation Warning at CMakeLists.txt:76 (cmake_policy):\r\n    \r\n      The OLD behavior for policy CMP0022 will be removed from a future version\r\n    \r\n      of CMake.\r\n    \r\n     \r\n    \r\n      The cmake-policies(7) manual explains that the OLD behaviors of all\r\n    \r\n      policies are deprecated and that a policy should be set to OLD only under\r\n    \r\n      specific short-term circumstances.  Projects should be ported to the NEW\r\n    \r\n      behavior and not rely on setting a policy to OLD.\r\n    \r\n     \r\n    \r\n     \r\n    \r\n    CMake Deprecation Warning at CMakeLists.txt:81 (cmake_policy):\r\n    \r\n      The OLD behavior for policy CMP0026 will be removed from a future version\r\n    \r\n      of CMake.\r\n    \r\n     \r\n    \r\n      The cmake-policies(7) manual explains that the OLD behaviors of all\r\n    \r\n      policies are deprecated and that a policy should be set to OLD only under\r\n    \r\n      specific short-term circumstances.  Projects should be ported to the NEW\r\n    \r\n      behavior and not rely on setting a policy to OLD.\r\n    \r\n     \r\n    \r\n     \r\n    \r\n    -- The CXX compiler identification is AppleClang 13.1.6.13160021\r\n    \r\n    -- The C compiler identification is AppleClang 13.1.6.13160021\r\n    \r\n    -- Detecting CXX compiler ABI info\r\n    \r\n    -- Detecting CXX compiler ABI info - done\r\n    \r\n    -- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/c++ - skipped\r\n    \r\n    -- Detecting CXX compile features\r\n    \r\n    -- Detecting CXX compile features - done\r\n    \r\n    -- Detecting C compiler ABI info\r\n    \r\n    -- Detecting C compiler ABI info - done\r\n    \r\n    -- Check for working C compiler: /Library/Developer/CommandLineTools/usr/bin/cc - skipped\r\n    \r\n    -- Detecting C compile features\r\n    \r\n    -- Detecting C compile features - done\r\n    \r\n    CMake Error at cmake/OpenCVCompilerOptions.cmake:21 (else):\r\n    \r\n      Flow control statements are not properly nested.\r\n    \r\n    Call Stack (most recent call first):\r\n    \r\n      CMakeLists.txt:495 (include)\r\n\r\n\r\n    -- Configuring incomplete, errors occurred!\r\n    \r\n    See also &quot;/Users/dena/Documents/opencv-3.2.0/build/CMakeFiles/CMakeOutput.log&quot;.\r\n    \r\n    See also &quot;/Users/dena/Documents/opencv-3.2.0/build/CMakeFiles/CMakeError.log&quot;.\r\n\r\nsorry for the long message, but I am just wondering if someone could suggest a solution. \r\n\r\n1) I don&#39;t know why the ARC.controller script is set at only using the opencv3.2.0 and how to go in and make it compatible with the newer opencv. \r\n2) or how to successfully be able to build opencv3.2.0 on my computer. I have installed the latest xcode and my command line tools are up to date. \r\n\r\nThanks!\r\n\r\n\r\n\r\n\r\n\r\n","title":"Trouble building opencv3.2.0 using cmake on mac os","body":"<p>I am new to this...I am trying to use a video monitoring program that was previously published in a scientific article. There are several different blogposts from the developers-some older than others on how to set it up. I used this one:<a href=\"http://javagrinders-arc.blogspot.com/\" rel=\"nofollow noreferrer\">http://javagrinders-arc.blogspot.com/</a></p>\n<p>these are my computer settings:</p>\n<p>1)I am using a mac Monterey version 12.4</p>\n<p>2)The program requires eclipse my version is IDE Version: 2022-03 (4.23.0)</p>\n<p>3)I have the latest version of java:</p>\n<pre><code>java version &quot;18.0.1.1&quot; 2022-04-22\nJava(TM) SE Runtime Environment (build 18.0.1.1+2-6)\nJava HotSpot(TM) 64-Bit Server VM (build 18.0.1.1+2-6, mixed mode, sharing)\n</code></pre>\n<ol start=\"4\">\n<li>All I needed it seems was to have an Opencv .jar file with dependencies installed.</li>\n</ol>\n<p>To do this I have followed the instructions and successfully built the latest version of OpenCV (4.6) according to this blog: <a href=\"https://udallascs.wordpress.com/2014/03/30/adding-opencv-and-configuring-to-work-with-eclipse-and-java/\" rel=\"nofollow noreferrer\">https://udallascs.wordpress.com/2014/03/30/adding-opencv-and-configuring-to-work-with-eclipse-and-java/</a>.</p>\n<p>everything worked well and I was able to get the .jar files and dependencies.</p>\n<p>This was stored in my</p>\n<pre><code>/user/local/Cellar/opencv/4.6.0/share/opencv4\n</code></pre>\n<p>I then added the opencv-460.jar into eclipse as an external library, then I set the native library path to the one above.</p>\n<p>then i added</p>\n<pre><code>System.loadLibrary(Core.NATIVE_LIBRARY_NAME)\n</code></pre>\n<p>then I made sure to include the</p>\n<pre><code>import org.opencv.core.Core\n</code></pre>\n<p>at the top of the program with the other <code>import</code> commands.</p>\n<p>when I ran the program I got this error:</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError: no opencv_java320 in java.library.path: /usr/local/Cellar/opencv/4.6.0/share/java/opencv4\nat java.base/java.lang.ClassLoader.loadLibrary(ClassLoader.java:2434)\nat java.base/java.lang.Runtime.loadLibrary0(Runtime.java:848)\nat java.base/java.lang.System.loadLibrary(System.java:2015)\nat _ARC.ARCController.main(ARCController.java:191)\n</code></pre>\n<p>_ARC.ARCController is the name of the program I am trying to get to work. I contacted the developer and he told me to try and install open.cv 3.2.0 instead.</p>\n<p>So, I unistalled that version of opencv using brew.</p>\n<p>Then I tried to install and build opencv3.2.0 using cmake:</p>\n<p>a) I downloaded version 3.2.0 to my documents folder:</p>\n<pre><code>wget -O opencv.zip https://github.com/opencv/opencv/archive/3.2.0.zip\n\nunzip opencv.zip\n</code></pre>\n<p>b) Then I created the build file within the unzipped opencv folder:</p>\n<pre><code>cd opencv-3.2.0mkdir build &amp;&amp; cd build\n</code></pre>\n<p>c) Now I was ready to build Opencv with Cmake</p>\n<pre><code>cmake -DCMAKE_SYSTEM_PROCESSOR=arm64 \\\n-DCMAKE_OSX_ARCHITECTURES=arm64 \\\n-DWITH_OPENJPEG=OFF \\\n-DWITH_IPP=OFF \\\n-D CMAKE_BUILD_TYPE=RELEASE \\\n-D CMAKE_INSTALL_PREFIX=/usr/local/opencv \\\n-D JAVA_INCLUDE_PATH=$JAVA_HOME/include \\\n-D JAVA_AWT_LIBRARY=$JAVA_HOME/jre/lib/amd64/libawt.so \\\n-D JAVA_JVM_LIBRARY=$JAVA_HOME/jre/lib/arm/server/libjvm.so \\\n-D BUILD_opencv_python2=OFF \\\n-D BUILD_opencv_java=ON \\\n-D INSTALL_PYTHON_EXAMPLES=OFF \\\n-D INSTALL_C_EXAMPLES=OFF \\\n-D OPENCV_ENABLE_NONFREE=OFF \\\n-D BUILD_EXAMPLES=ON ..\n</code></pre>\n<p>Then I still got this lengthy error.</p>\n<pre><code>CMake Deprecation Warning at CMakeLists.txt:22 (cmake_minimum_required):\n\n  Compatibility with CMake &lt; 2.8.12 will be removed from a future version of\n\n  CMake.\n\n \n\n  Update the VERSION argument &lt;min&gt; value or use a ...&lt;max&gt; suffix to tell\n\n  CMake that the project does not need compatibility with older versions.\n\n \n\n \n\nCMake Deprecation Warning at CMakeLists.txt:72 (cmake_policy):\n\n  The OLD behavior for policy CMP0020 will be removed from a future version\n\n  of CMake.\n\n \n\n  The cmake-policies(7) manual explains that the OLD behaviors of all\n\n  policies are deprecated and that a policy should be set to OLD only under\n\n  specific short-term circumstances.  Projects should be ported to the NEW\n\n  behavior and not rely on setting a policy to OLD.\n\n \n\n \n\nCMake Deprecation Warning at CMakeLists.txt:76 (cmake_policy):\n\n  The OLD behavior for policy CMP0022 will be removed from a future version\n\n  of CMake.\n\n \n\n  The cmake-policies(7) manual explains that the OLD behaviors of all\n\n  policies are deprecated and that a policy should be set to OLD only under\n\n  specific short-term circumstances.  Projects should be ported to the NEW\n\n  behavior and not rely on setting a policy to OLD.\n\n \n\n \n\nCMake Deprecation Warning at CMakeLists.txt:81 (cmake_policy):\n\n  The OLD behavior for policy CMP0026 will be removed from a future version\n\n  of CMake.\n\n \n\n  The cmake-policies(7) manual explains that the OLD behaviors of all\n\n  policies are deprecated and that a policy should be set to OLD only under\n\n  specific short-term circumstances.  Projects should be ported to the NEW\n\n  behavior and not rely on setting a policy to OLD.\n\n \n\n \n\n-- The CXX compiler identification is AppleClang 13.1.6.13160021\n\n-- The C compiler identification is AppleClang 13.1.6.13160021\n\n-- Detecting CXX compiler ABI info\n\n-- Detecting CXX compiler ABI info - done\n\n-- Check for working CXX compiler: /Library/Developer/CommandLineTools/usr/bin/c++ - skipped\n\n-- Detecting CXX compile features\n\n-- Detecting CXX compile features - done\n\n-- Detecting C compiler ABI info\n\n-- Detecting C compiler ABI info - done\n\n-- Check for working C compiler: /Library/Developer/CommandLineTools/usr/bin/cc - skipped\n\n-- Detecting C compile features\n\n-- Detecting C compile features - done\n\nCMake Error at cmake/OpenCVCompilerOptions.cmake:21 (else):\n\n  Flow control statements are not properly nested.\n\nCall Stack (most recent call first):\n\n  CMakeLists.txt:495 (include)\n\n\n-- Configuring incomplete, errors occurred!\n\nSee also &quot;/Users/dena/Documents/opencv-3.2.0/build/CMakeFiles/CMakeOutput.log&quot;.\n\nSee also &quot;/Users/dena/Documents/opencv-3.2.0/build/CMakeFiles/CMakeError.log&quot;.\n</code></pre>\n<p>sorry for the long message, but I am just wondering if someone could suggest a solution.</p>\n<ol>\n<li>I don't know why the ARC.controller script is set at only using the opencv3.2.0 and how to go in and make it compatible with the newer opencv.</li>\n<li>or how to successfully be able to build opencv3.2.0 on my computer. I have installed the latest xcode and my command line tools are up to date.</li>\n</ol>\n<p>Thanks!</p>\n"},{"tags":["javascript","java","html","spring-boot","thymeleaf"],"comments":[{"owner":{"account_id":5228097,"reputation":124,"user_id":4179474,"display_name":"Howard007"},"score":0,"creation_date":1662133813,"post_id":73584830,"comment_id":129943380,"body_markdown":"How did the records get from the database to your Thymeleaf UI page in the first place? Are you using Spring Data JPA? Do you have an annotated JPA model entity bean? A Jpa/CrudRepository?  A @Service interface and implementation class?\nWhat elements/components do you already have?","body":"How did the records get from the database to your Thymeleaf UI page in the first place? Are you using Spring Data JPA? Do you have an annotated JPA model entity bean? A Jpa/CrudRepository?  A @Service interface and implementation class? What elements/components do you already have?"},{"owner":{"account_id":5228097,"reputation":124,"user_id":4179474,"display_name":"Howard007"},"score":0,"creation_date":1662134172,"post_id":73584830,"comment_id":129943497,"body_markdown":"JpaRepository/CrudRepository have a built-in deleteById() function that takes the primary key value as input.","body":"JpaRepository/CrudRepository have a built-in deleteById() function that takes the primary key value as input."},{"owner":{"account_id":654098,"reputation":644,"user_id":449392,"display_name":"gapsf"},"score":0,"creation_date":1662142480,"post_id":73584830,"comment_id":129945981,"body_markdown":"@Emily spring-bot","body":"@Emily spring-bot"},{"owner":{"account_id":25524061,"reputation":1,"user_id":19313455,"display_name":"Emily"},"score":0,"creation_date":1662161367,"post_id":73584830,"comment_id":129950001,"body_markdown":"@Howard007 I have added my repository, service and SQL file, This is how I got my records from the database. Do I need to study spa crud repository in order to do the delete?  I had a feeling if I could bring this &quot;function DeleteButton1(e) &quot; &lt;- e value back to controller. I would know the place the record picked(selected) to delete from the list.","body":"@Howard007 I have added my repository, service and SQL file, This is how I got my records from the database. Do I need to study spa crud repository in order to do the delete?  I had a feeling if I could bring this &quot;function DeleteButton1(e) &quot; &lt;- e value back to controller. I would know the place the record picked(selected) to delete from the list."},{"owner":{"account_id":5228097,"reputation":124,"user_id":4179474,"display_name":"Howard007"},"score":0,"creation_date":1662164847,"post_id":73584830,"comment_id":129950343,"body_markdown":"@Emily I think my video lecture course can help.  Here is the link, with a limited FREE coupon.  Let me know if it works, and if it helps.\nhttps://www.udemy.com/course/intro-db-app-dev-springboot-angular/?couponCode=FF48B944C24317E4FA6A","body":"@Emily I think my video lecture course can help.  Here is the link, with a limited FREE coupon.  Let me know if it works, and if it helps. <a href=\"https://www.udemy.com/course/intro-db-app-dev-springboot-angular/?couponCode=FF48B944C24317E4FA6A\" rel=\"nofollow noreferrer\">udemy.com/course/intro-db-app-dev-springboot-angular/&hellip;</a>"}],"owner":{"account_id":25524061,"reputation":1,"user_id":19313455,"display_name":"Emily"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662161479,"creation_date":1662132230,"question_id":73584830,"body_markdown":"I want to be able to delete selected SQL record.\r\n\r\nIf the button next to a record is clicked, a pop-up screen saying &quot;Do you really want to delete it?&quot; \r\n\r\nAnd if yes is clicked, \r\n\r\nthe record FROM SQL next to the button that was clicked is deleted from the table.\r\n\r\nI am really stuck in this, even a little help will help.\r\n\r\n\r\n```&lt;!DOCTYPE html&gt;\r\n&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\r\n&lt;head&gt;\r\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\r\n&lt;title&gt;selectToDelete&lt;/title&gt;\r\n&lt;/head&gt;\r\n&lt;body &gt;\r\n\t\r\n\r\n\t&lt;table border=&quot;1&quot;&gt;\r\n\t\t&lt;tr&gt;\r\n\t\t\t&lt;td&gt;name&lt;/td&gt;\r\n\t\t\t&lt;td&gt;id&lt;/td&gt;\r\n\t\t\t&lt;td&gt;price&lt;/td&gt;\r\n\t\t&lt;/tr&gt;\r\n\t\t&lt;tr&gt;\r\n\t\t\tth:each=&quot;i : ${#numbers.sequence(session.sessionInfo.input,session.sessionInfo.input2)}&quot;&gt;\r\n\r\n\t\t\t&lt;td th:text=&quot;${session.session2.goodsList[i].G_name}&quot;&gt;\r\n\t\t\t&lt;td th:text=&quot;${session.session2.goodsList[i].G_id}&quot;&gt;\r\n\t\t\t&lt;td th:text=&quot;${session.session2.goodsList[i].G_price}&quot;&gt;\r\n\r\n\r\n&lt;td &gt; &lt;button type=&quot;submit&quot; name=&quot;deleteParam&quot; th:value=&quot;${i}&quot; onclick=&quot;DeleteButton1(this.value)&quot;&gt;selectButton&lt;/button&gt;&lt;/td&gt;\r\n\r\n\t\t&lt;/tr&gt;\r\n\t&lt;/table&gt;\r\n\r\n\r\n\r\n&lt;script th:inline=&quot;javascript&quot;&gt;\r\nfunction DeleteButton1(e) {\r\n\t\tif (confirm(&quot;Do you want to Delete?&quot;)) {\r\n\r\n\t\t\t window.open(&#39;deleteScreen&#39;, &#39;_self&#39; );\r\n\r\n\t\t}else{\r\n\t\t\tconsole.log(e)\r\n\t\t}\r\n\t}\r\n&lt;/script&gt;\r\n\r\n&lt;/html&gt;\r\n```\r\n\r\n\r\n```\r\n\r\n\r\n@Controller\r\n@SessionAttributes(value = { &quot;session2&quot; })\r\npublic class DeleteScreen {\r\n\r\n\t\t@RequestMapping(value = &quot;/deleteScreen&quot;, method = RequestMethod.GET)\r\n\tpublic String skensaku(Model model, @ModelAttribute(&quot;sessionInfo&quot;) CondTrainingForm condForm) {\r\n\r\n\r\n\t\treturn &quot;selectToDelete&quot;;\r\n\t}\r\n\r\n}\r\n```\r\nREPOSITORY\r\n```\r\npackage com.example.repository;\r\n\r\nimport java.util.List;\r\n\r\nimport org.seasar.doma.Dao;\r\nimport org.seasar.doma.Select;\r\nimport org.seasar.doma.boot.ConfigAutowireable;\r\n\r\nimport com.example.domain.CondTrainingEntity;\r\nimport com.example.model.CondTrainingForm;\r\n\r\n@ConfigAutowireable\r\n@Dao\r\npublic interface DbConnectRepository {\r\n\r\n\t@Select\r\n\tList&lt;CondTrainingEntity&gt; selectDynamic(CondTrainingForm form);\r\n\r\n```\r\nservice\r\n```\r\n@Service\r\n@Transactional\r\npublic class DbConnectService {\r\n\r\n\t@Autowired\r\n\tprivate DbConnectRepository dbConnectRepository;\r\n\r\n\tpublic List&lt;CondTrainingEntity&gt; selectUser(CondTrainingForm cond) {\r\n\t\treturn dbConnectRepository.selectDynamic(cond);\r\n\t}\r\n```\r\nSQL file\r\n```\r\n\r\nSELECT\r\n G_name, G_id,\r\n G_price\r\n              FROM\r\n\r\n              GOODS\r\n\r\n              WHERE\r\n    G_name LIKE /* @infix(form.G_name) */&#39;G_name&#39;\r\nAND \r\n  G_id  LIKE /* @infix(form.G_id) */&#39;G_id&#39;\r\n         \r\nAND\r\n  G_price LIKE /* @infix(form.G_price) */&#39;G_price&#39;\r\n         \r\n         \r\n\r\n              ","title":"SpringBoot how delete selected SQL record (thyme leaf, javascript, java, Doma2)","body":"<p>I want to be able to delete selected SQL record.</p>\n<p>If the button next to a record is clicked, a pop-up screen saying &quot;Do you really want to delete it?&quot;</p>\n<p>And if yes is clicked,</p>\n<p>the record FROM SQL next to the button that was clicked is deleted from the table.</p>\n<p>I am really stuck in this, even a little help will help.</p>\n<pre><code>&lt;html xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;\n&lt;head&gt;\n&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=UTF-8&quot;&gt;\n&lt;title&gt;selectToDelete&lt;/title&gt;\n&lt;/head&gt;\n&lt;body &gt;\n    \n\n    &lt;table border=&quot;1&quot;&gt;\n        &lt;tr&gt;\n            &lt;td&gt;name&lt;/td&gt;\n            &lt;td&gt;id&lt;/td&gt;\n            &lt;td&gt;price&lt;/td&gt;\n        &lt;/tr&gt;\n        &lt;tr&gt;\n            th:each=&quot;i : ${#numbers.sequence(session.sessionInfo.input,session.sessionInfo.input2)}&quot;&gt;\n\n            &lt;td th:text=&quot;${session.session2.goodsList[i].G_name}&quot;&gt;\n            &lt;td th:text=&quot;${session.session2.goodsList[i].G_id}&quot;&gt;\n            &lt;td th:text=&quot;${session.session2.goodsList[i].G_price}&quot;&gt;\n\n\n&lt;td &gt; &lt;button type=&quot;submit&quot; name=&quot;deleteParam&quot; th:value=&quot;${i}&quot; onclick=&quot;DeleteButton1(this.value)&quot;&gt;selectButton&lt;/button&gt;&lt;/td&gt;\n\n        &lt;/tr&gt;\n    &lt;/table&gt;\n\n\n\n&lt;script th:inline=&quot;javascript&quot;&gt;\nfunction DeleteButton1(e) {\n        if (confirm(&quot;Do you want to Delete?&quot;)) {\n\n             window.open('deleteScreen', '_self' );\n\n        }else{\n            console.log(e)\n        }\n    }\n&lt;/script&gt;\n\n&lt;/html&gt;\n</code></pre>\n<pre><code>\n\n@Controller\n@SessionAttributes(value = { &quot;session2&quot; })\npublic class DeleteScreen {\n\n        @RequestMapping(value = &quot;/deleteScreen&quot;, method = RequestMethod.GET)\n    public String skensaku(Model model, @ModelAttribute(&quot;sessionInfo&quot;) CondTrainingForm condForm) {\n\n\n        return &quot;selectToDelete&quot;;\n    }\n\n}\n</code></pre>\n<p>REPOSITORY</p>\n<pre><code>package com.example.repository;\n\nimport java.util.List;\n\nimport org.seasar.doma.Dao;\nimport org.seasar.doma.Select;\nimport org.seasar.doma.boot.ConfigAutowireable;\n\nimport com.example.domain.CondTrainingEntity;\nimport com.example.model.CondTrainingForm;\n\n@ConfigAutowireable\n@Dao\npublic interface DbConnectRepository {\n\n    @Select\n    List&lt;CondTrainingEntity&gt; selectDynamic(CondTrainingForm form);\n\n</code></pre>\n<p>service</p>\n<pre><code>@Service\n@Transactional\npublic class DbConnectService {\n\n    @Autowired\n    private DbConnectRepository dbConnectRepository;\n\n    public List&lt;CondTrainingEntity&gt; selectUser(CondTrainingForm cond) {\n        return dbConnectRepository.selectDynamic(cond);\n    }\n</code></pre>\n<p>SQL file</p>\n<pre><code>\nSELECT\n G_name, G_id,\n G_price\n              FROM\n\n              GOODS\n\n              WHERE\n    G_name LIKE /* @infix(form.G_name) */'G_name'\nAND \n  G_id  LIKE /* @infix(form.G_id) */'G_id'\n         \nAND\n  G_price LIKE /* @infix(form.G_price) */'G_price'\n         \n         \n\n              \n</code></pre>\n"},{"tags":["java","graphql","graphql-java"],"answers":[{"tags":[],"owner":{"account_id":1521730,"reputation":5152,"user_id":1421222,"display_name":"Bless"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1513241022,"creation_date":1512666116,"answer_id":47700147,"question_id":47674558,"body_markdown":"There is no map type in GraphQL ([Discussion on GitHub](https://github.com/facebook/graphql/issues/101)).\r\n\r\nAn alternative approach would be to have `customers` as a `List` of `Customer`s\r\n\r\n    public class Person {\r\n       private String type;\r\n       private List&lt;Customer&gt; customers;\r\n    }\r\n\r\nand include the key for the map inside the `Customer` class\r\n\r\n    public class Customer {\r\n        private String key; // or another meaningful name\r\n        private String name, age;\r\n    }\r\n\r\nSchema would mostly remain the same.\r\n\r\n    type Customer {\r\n       key: String! // or another meaningful name\r\n       name: String!\r\n       age: String!\r\n    }\r\n    \r\n    type Person {\r\n      type: String!\r\n      customers: [Customer!]!\r\n    }\r\n","title":"Return HashMap&lt;String, Object&gt; from GraphQL-Java","body":"<p>There is no map type in GraphQL (<a href=\"https://github.com/facebook/graphql/issues/101\" rel=\"nofollow noreferrer\">Discussion on GitHub</a>).</p>\n\n<p>An alternative approach would be to have <code>customers</code> as a <code>List</code> of <code>Customer</code>s</p>\n\n<pre><code>public class Person {\n   private String type;\n   private List&lt;Customer&gt; customers;\n}\n</code></pre>\n\n<p>and include the key for the map inside the <code>Customer</code> class</p>\n\n<pre><code>public class Customer {\n    private String key; // or another meaningful name\n    private String name, age;\n}\n</code></pre>\n\n<p>Schema would mostly remain the same.</p>\n\n<pre><code>type Customer {\n   key: String! // or another meaningful name\n   name: String!\n   age: String!\n}\n\ntype Person {\n  type: String!\n  customers: [Customer!]!\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1662161443,"creation_date":1517027531,"answer_id":48472626,"question_id":47674558,"body_markdown":"As you yourself noted, there&#39;s no map type in GraphQL, mostly because maps are data with dynamic structure and, as such, do not translate well into static types that GraphQL expects. Still, you have a few options.\r\n\r\n1) You could change the value type so it includes the key, and give up on the map and use a list instead. This is the approach you took in your own answer. I won&#39;t go into detail here as you&#39;ve already exemplified it.\r\n\r\n\r\n2) As long as the key and value Java types are known (and not e.g. `Object`), you can treat a map as list of key-value pairs. You can create a type to represent the pair:\r\n\r\n    type Person {\r\n      type: String!\r\n      customers: [CustomerEntry!]\r\n    }\r\n\r\n    type CustomerEntry {\r\n      key: String!\r\n      value: Customer!\r\n    }\r\n\r\nOn the down side, you now have uglier queries:\r\n\r\n    {\r\n       person {\r\n         type\r\n         customers {\r\n           key\r\n           value {\r\n             name\r\n           }\r\n         }\r\n       }\r\n    }\r\n\r\nOn the up side, you keep type safety and (mostly) the semantics. It is possible to keep nesting this approach to e.g. represent a `Map&lt;String, Map&lt;Long, Customer&gt;&gt;`.\r\n\r\n\r\n3) If you ever have a completely unknown type, i.e. `Object`, the only option is to treat it as a complex scalar. In JavaScript, this approach is known as [*JSON scalar*](https://github.com/taion/graphql-type-json) as it boils down to stuffing an arbitrary JSON structure in and treating it as a scalar. The same approach can be implemented in Java. graphql-java now has a project for [extended scalars](https://github.com/graphql-java/graphql-java-extended-scalars). Here&#39;s their [ObjectScalar](https://github.com/graphql-java/graphql-java-extended-scalars/blob/master/src/main/java/graphql/scalars/object/ObjectScalar.java) (aliased as [JsonScalar](https://github.com/graphql-java/graphql-java-extended-scalars/blob/master/src/main/java/graphql/scalars/object/JsonScalar.java)) implementation.\r\n\r\nNow, if you want to represent a type such as `Map&lt;String, Object&gt;`, you can opt to represent it using the key-value pair approach from above, with only the value type being the JSON scalar, or you can represent the entire map as a JSON scalar.\r\n\r\nAs a matter of fact, you can decide to represent _any_ map (well, any type really, but that&#39;s not useful) as a JSON scalar.\r\n\r\n    type MapEntry {\r\n      key: String!\r\n      value: [ObjectScalar!]\r\n    }\r\n    \r\n    scalar ObjectScalar\r\n\r\nOn the upside, you can now keep any dynamic structure&#39;s shape exactly.\r\nOn the downside, since it is a scalar, it is impossible to make sub-selections, and you&#39;re stuck fetching it all, without knowing what&#39;s inside in advance.","title":"Return HashMap&lt;String, Object&gt; from GraphQL-Java","body":"<p>As you yourself noted, there's no map type in GraphQL, mostly because maps are data with dynamic structure and, as such, do not translate well into static types that GraphQL expects. Still, you have a few options.</p>\n<ol>\n<li><p>You could change the value type so it includes the key, and give up on the map and use a list instead. This is the approach you took in your own answer. I won't go into detail here as you've already exemplified it.</p>\n</li>\n<li><p>As long as the key and value Java types are known (and not e.g. <code>Object</code>), you can treat a map as list of key-value pairs. You can create a type to represent the pair:</p>\n<p>type Person {\ntype: String!\ncustomers: [CustomerEntry!]\n}</p>\n<p>type CustomerEntry {\nkey: String!\nvalue: Customer!\n}</p>\n</li>\n</ol>\n<p>On the down side, you now have uglier queries:</p>\n<pre><code>{\n   person {\n     type\n     customers {\n       key\n       value {\n         name\n       }\n     }\n   }\n}\n</code></pre>\n<p>On the up side, you keep type safety and (mostly) the semantics. It is possible to keep nesting this approach to e.g. represent a <code>Map&lt;String, Map&lt;Long, Customer&gt;&gt;</code>.</p>\n<ol start=\"3\">\n<li>If you ever have a completely unknown type, i.e. <code>Object</code>, the only option is to treat it as a complex scalar. In JavaScript, this approach is known as <a href=\"https://github.com/taion/graphql-type-json\" rel=\"nofollow noreferrer\"><em>JSON scalar</em></a> as it boils down to stuffing an arbitrary JSON structure in and treating it as a scalar. The same approach can be implemented in Java. graphql-java now has a project for <a href=\"https://github.com/graphql-java/graphql-java-extended-scalars\" rel=\"nofollow noreferrer\">extended scalars</a>. Here's their <a href=\"https://github.com/graphql-java/graphql-java-extended-scalars/blob/master/src/main/java/graphql/scalars/object/ObjectScalar.java\" rel=\"nofollow noreferrer\">ObjectScalar</a> (aliased as <a href=\"https://github.com/graphql-java/graphql-java-extended-scalars/blob/master/src/main/java/graphql/scalars/object/JsonScalar.java\" rel=\"nofollow noreferrer\">JsonScalar</a>) implementation.</li>\n</ol>\n<p>Now, if you want to represent a type such as <code>Map&lt;String, Object&gt;</code>, you can opt to represent it using the key-value pair approach from above, with only the value type being the JSON scalar, or you can represent the entire map as a JSON scalar.</p>\n<p>As a matter of fact, you can decide to represent <em>any</em> map (well, any type really, but that's not useful) as a JSON scalar.</p>\n<pre><code>type MapEntry {\n  key: String!\n  value: [ObjectScalar!]\n}\n\nscalar ObjectScalar\n</code></pre>\n<p>On the upside, you can now keep any dynamic structure's shape exactly.\nOn the downside, since it is a scalar, it is impossible to make sub-selections, and you're stuck fetching it all, without knowing what's inside in advance.</p>\n"},{"tags":[],"owner":{"account_id":5744189,"reputation":766,"user_id":4535853,"accept_rate":60,"display_name":"Max"},"down_vote_count":1,"up_vote_count":1,"is_accepted":true,"score":0,"last_activity_date":1575022866,"creation_date":1574734691,"answer_id":59042774,"question_id":47674558,"body_markdown":"Just in case - you can always represent map object as a JSON string (in my case it was helpful).\r\n\r\n\r\n    public class Person {\r\n    \r\n    \tprivate String type;\r\n    \tprivate Map&lt;String, Customer&gt; customers;\r\n    \t// getters &amp; setters\r\n    }\r\n\r\nWould be\r\n\r\n    type Person {\r\n      type: String!\r\n      customers: String!\r\n    }\r\n    \r\nAfter that don&#39;t forget to add data fetcher to convert it to the JSON.\r\n\t\r\n\r\n    public DataFetcher&lt;String&gt; fetchCustomers() {\r\n    \t\treturn environment -&gt; {\r\n    \t\t\tPerson person = environment.getSource();\r\n    \t\t\ttry {\r\n                    ObjectMapper objectMapper = new ObjectMapper();\r\n    \t\t\t\treturn objectMapper.writeValueAsString(person.getCustomers());\r\n    \t\t\t} catch (JsonProcessingException e) {\r\n    \t\t\t\tlog.error(&quot;There was a problem fetching the person!&quot;);\r\n    \t\t\t\tthrow new RuntimeException(e);\r\n    \t\t\t}\r\n    \t\t};\r\n    \t}\r\nIt&#39;ll return:\r\n\r\n    &quot;person&quot;: {\r\n        &quot;type&quot;: &quot;2&quot;,\r\n        &quot;customers&quot;: &quot;{\\&quot;VIP\\&quot;:{\\&quot;name\\&quot;:\\&quot;John\\&quot;,\\&quot;age\\&quot;:\\&quot;19\\&quot;},\\&quot;Platinum VIP\\&quot;:{\\&quot;name\\&quot;:\\&quot;Peter\\&quot;,\\&quot;age\\&quot;:\\&quot;65\\&quot;}}&quot;\r\n      }\r\n\r\nAfter that, you can operate with customers as with typical JSON string in your client.","title":"Return HashMap&lt;String, Object&gt; from GraphQL-Java","body":"<p>Just in case - you can always represent map object as a JSON string (in my case it was helpful).</p>\n\n<pre><code>public class Person {\n\n    private String type;\n    private Map&lt;String, Customer&gt; customers;\n    // getters &amp; setters\n}\n</code></pre>\n\n<p>Would be</p>\n\n<pre><code>type Person {\n  type: String!\n  customers: String!\n}\n</code></pre>\n\n<p>After that don't forget to add data fetcher to convert it to the JSON.</p>\n\n<pre><code>public DataFetcher&lt;String&gt; fetchCustomers() {\n        return environment -&gt; {\n            Person person = environment.getSource();\n            try {\n                ObjectMapper objectMapper = new ObjectMapper();\n                return objectMapper.writeValueAsString(person.getCustomers());\n            } catch (JsonProcessingException e) {\n                log.error(\"There was a problem fetching the person!\");\n                throw new RuntimeException(e);\n            }\n        };\n    }\n</code></pre>\n\n<p>It'll return:</p>\n\n<pre><code>\"person\": {\n    \"type\": \"2\",\n    \"customers\": \"{\\\"VIP\\\":{\\\"name\\\":\\\"John\\\",\\\"age\\\":\\\"19\\\"},\\\"Platinum VIP\\\":{\\\"name\\\":\\\"Peter\\\",\\\"age\\\":\\\"65\\\"}}\"\n  }\n</code></pre>\n\n<p>After that, you can operate with customers as with typical JSON string in your client.</p>\n"},{"tags":[],"owner":{"account_id":14330197,"reputation":41,"user_id":10351121,"display_name":"awinas kannan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661144719,"creation_date":1661144719,"answer_id":73440401,"question_id":47674558,"body_markdown":"we&#39;ve got three options:\r\n\r\n1)Return as JSON String\r\n2)Use GraphQL custom scalar type\r\n3)Return as List of key-value pairs\r\n\r\nhttps://www.baeldung.com/java-graphql-return-map\r\n\r\n","title":"Return HashMap&lt;String, Object&gt; from GraphQL-Java","body":"<p>we've got three options:</p>\n<p>1)Return as JSON String\n2)Use GraphQL custom scalar type\n3)Return as List of key-value pairs</p>\n<p><a href=\"https://www.baeldung.com/java-graphql-return-map\" rel=\"nofollow noreferrer\">https://www.baeldung.com/java-graphql-return-map</a></p>\n"}],"owner":{"account_id":1309732,"reputation":4219,"user_id":1257986,"accept_rate":63,"display_name":"Simple-Solution"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":23893,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"accepted_answer_id":59042774,"answer_count":4,"score":20,"last_activity_date":1662161443,"creation_date":1512564099,"question_id":47674558,"body_markdown":"I tried few variant and had no luck to return a map in GraphQL. So I have the following two objects: \r\n\r\n\r\n    public class Customer {\r\n\r\n        private String name, age;\r\n        // getters &amp; setters\r\n    }\r\n\r\n    public class Person {\r\n\r\n       private String type;\r\n       private Map&lt;String, Customer&gt; customers;\r\n       // getters &amp; setters\r\n    }\r\n\r\nMy schema looks like this:\r\n\r\n    type Customer {\r\n       name: String!\r\n       age:  String!\r\n    }\r\n\r\n    type Person {\r\n      type: String!\r\n      customers: [Customer!] // Here I tried all combination but had no luck, is there a Map type support for GQL?\r\n    }\r\n\r\nCan someone please tell me how to achieve this so that GraphQL magically process this or an alternative approach. \r\n\r\nMany thanks!","title":"Return HashMap&lt;String, Object&gt; from GraphQL-Java","body":"<p>I tried few variant and had no luck to return a map in GraphQL. So I have the following two objects: </p>\n\n<pre><code>public class Customer {\n\n    private String name, age;\n    // getters &amp; setters\n}\n\npublic class Person {\n\n   private String type;\n   private Map&lt;String, Customer&gt; customers;\n   // getters &amp; setters\n}\n</code></pre>\n\n<p>My schema looks like this:</p>\n\n<pre><code>type Customer {\n   name: String!\n   age:  String!\n}\n\ntype Person {\n  type: String!\n  customers: [Customer!] // Here I tried all combination but had no luck, is there a Map type support for GQL?\n}\n</code></pre>\n\n<p>Can someone please tell me how to achieve this so that GraphQL magically process this or an alternative approach. </p>\n\n<p>Many thanks!</p>\n"},{"tags":["java","google-cloud-dataflow","apache-beam","apache-beam-io"],"answers":[{"tags":[],"owner":{"account_id":12799902,"reputation":5994,"user_id":9261558,"display_name":"Mazlum Tosun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1661292560,"creation_date":1661292560,"answer_id":73465510,"question_id":73460141,"body_markdown":"I don&#39;t understand the problem, I think you can pass a program argument as String : \r\n\r\n```text\r\n--header=test\r\n```\r\n\r\nOptions in `Java` code : \r\n\r\n```java\r\npublic interface MyOptions extends PipelineOptions {\r\n\r\n    @Description(&quot;Header&quot;)\r\n    String getHeader();\r\n\r\n    void setHeader(String value);\r\n}\r\n```\r\n\r\nThen pass it in the `withHeader(header)` method : \r\n\r\n```java\r\noutput\r\n    .apply(\r\n        &quot;Write File(s)&quot;,\r\n        TextIO.write()\r\n            .to(options.getFilePath())\r\n            .withSuffix(&quot;.csv&quot;)\r\n            .withHeader(options.getHeader())\r\n            .withShardNameTemplate(&quot;-S-of-N&quot;)\r\n            .withTempDirectory(options.getTempDirectory()))\r\n```\r\n\r\nIf you want, you can also configure the `header` outside in your code.","title":"Write to GCS using TextIO.write() from postgres with header","body":"<p>I don't understand the problem, I think you can pass a program argument as String :</p>\n<pre><code>--header=test\n</code></pre>\n<p>Options in <code>Java</code> code :</p>\n<pre class=\"lang-java prettyprint-override\"><code>public interface MyOptions extends PipelineOptions {\n\n    @Description(&quot;Header&quot;)\n    String getHeader();\n\n    void setHeader(String value);\n}\n</code></pre>\n<p>Then pass it in the <code>withHeader(header)</code> method :</p>\n<pre class=\"lang-java prettyprint-override\"><code>output\n    .apply(\n        &quot;Write File(s)&quot;,\n        TextIO.write()\n            .to(options.getFilePath())\n            .withSuffix(&quot;.csv&quot;)\n            .withHeader(options.getHeader())\n            .withShardNameTemplate(&quot;-S-of-N&quot;)\n            .withTempDirectory(options.getTempDirectory()))\n</code></pre>\n<p>If you want, you can also configure the <code>header</code> outside in your code.</p>\n"},{"tags":[],"owner":{"account_id":5974726,"reputation":1921,"user_id":4696015,"display_name":"chamikara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662158120,"creation_date":1662158120,"answer_id":73588441,"question_id":73460141,"body_markdown":"Currently `withHeader` is an argument that has to be specified at construction time, so it cannot be provided using `PCollection` element values.\r\n\r\nYou might be able to do this by breaking your pipeline into two pipelines, or generating/discovering the header value within your program from where the Beam pipeline is started.","title":"Write to GCS using TextIO.write() from postgres with header","body":"<p>Currently <code>withHeader</code> is an argument that has to be specified at construction time, so it cannot be provided using <code>PCollection</code> element values.</p>\n<p>You might be able to do this by breaking your pipeline into two pipelines, or generating/discovering the header value within your program from where the Beam pipeline is started.</p>\n"}],"owner":{"account_id":23972926,"reputation":23,"user_id":17961370,"display_name":"HT770"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":239,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662158120,"creation_date":1661263264,"question_id":73460141,"body_markdown":"I am having a pipeline be run on GCP Dataflow where I read from an SQL instance and collect the data in a PCollection and then write that PCollection to a CSV file. It seems that while writing to CSV I cannot pass the header at Runtime (as a valueprovider) as given [here](https://beam.apache.org/releases/javadoc/2.40.0/org/apache/beam/sdk/io/TextIO.Write.html#withHeader-java.lang.String-) the header has to be a string argument. \r\n\r\nI have tried giving an empty string and updating the string in runtime, but it doesn&#39;t work. I take the first empty string as header only.\r\n\r\nIs there any way that I can generate the header inside and have that string as header or if I can pass the header as a runtime argument?\r\n\r\nAttaching the textio code below\r\n\r\n```\r\nString header = /*header*/;\r\nPCollection&lt;String&gt; output = /*jdbc result*/;\r\n\r\noutput\r\n    .apply(\r\n        &quot;Write File(s)&quot;,\r\n        TextIO.write()\r\n            .to(options.getFilePath())\r\n            .withSuffix(&quot;.csv&quot;)\r\n            .withHeader(header)\r\n            .withShardNameTemplate(&quot;-S-of-N&quot;)\r\n            .withTempDirectory(options.getTempDirectory()))\r\n```","title":"Write to GCS using TextIO.write() from postgres with header","body":"<p>I am having a pipeline be run on GCP Dataflow where I read from an SQL instance and collect the data in a PCollection and then write that PCollection to a CSV file. It seems that while writing to CSV I cannot pass the header at Runtime (as a valueprovider) as given <a href=\"https://beam.apache.org/releases/javadoc/2.40.0/org/apache/beam/sdk/io/TextIO.Write.html#withHeader-java.lang.String-\" rel=\"nofollow noreferrer\">here</a> the header has to be a string argument.</p>\n<p>I have tried giving an empty string and updating the string in runtime, but it doesn't work. I take the first empty string as header only.</p>\n<p>Is there any way that I can generate the header inside and have that string as header or if I can pass the header as a runtime argument?</p>\n<p>Attaching the textio code below</p>\n<pre><code>String header = /*header*/;\nPCollection&lt;String&gt; output = /*jdbc result*/;\n\noutput\n    .apply(\n        &quot;Write File(s)&quot;,\n        TextIO.write()\n            .to(options.getFilePath())\n            .withSuffix(&quot;.csv&quot;)\n            .withHeader(header)\n            .withShardNameTemplate(&quot;-S-of-N&quot;)\n            .withTempDirectory(options.getTempDirectory()))\n</code></pre>\n"},{"tags":["java","eclipse","formatting"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":0,"creation_date":1662142882,"post_id":73586235,"comment_id":129946111,"body_markdown":"Tangential, but its less helpful than you might think (and generally the same information is available from source control).","body":"Tangential, but its less helpful than you might think (and generally the same information is available from source control)."},{"owner":{"account_id":3159259,"reputation":109666,"user_id":2670892,"display_name":"greg-449"},"score":1,"creation_date":1662143468,"post_id":73586235,"comment_id":129946261,"body_markdown":"You generally use a source control system such as Git or Svn to track updates. The &quot;Local History&quot; built in to Eclipse provides some support for showing you changes and even comparing different versions.","body":"You generally use a source control system such as Git or Svn to track updates. The &quot;Local History&quot; built in to Eclipse provides some support for showing you changes and even comparing different versions."}],"answers":[{"tags":[],"owner":{"account_id":13796,"reputation":19353,"user_id":27905,"display_name":"nitind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662156536,"creation_date":1662156536,"answer_id":73588302,"question_id":73586235,"body_markdown":"No, not out of the box. Someone could write a plug-in to do it, but as the comments have mentioned, once you&#39;re past a trivial example, this is usually the job for a source control system.","title":"Is there a way to update comments when saving an Eclipse file?","body":"<p>No, not out of the box. Someone could write a plug-in to do it, but as the comments have mentioned, once you're past a trivial example, this is usually the job for a source control system.</p>\n"}],"owner":{"account_id":26229997,"reputation":3,"user_id":19906117,"display_name":"decofcards"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73588302,"answer_count":1,"score":0,"last_activity_date":1662156536,"creation_date":1662140297,"question_id":73586235,"body_markdown":"This isn&#39;t exactly a programming question, but my goal is to add a comment at the top of the class that shows when you last edited the file, updating when it saves. I know Eclipse can access the date and time, since adding a &quot;Date Created:&quot; comment was easy, but that&#39;s just editing the new file code templates so I would imagine it&#39;s not in the same area. I&#39;ve been learning Java and Eclipse for about a year now, and this would be super helpful to keep track of files.\r\n\r\n\r\n[Here&#39;s a picture in case I wasn&#39;t clear][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/slA9R.png","title":"Is there a way to update comments when saving an Eclipse file?","body":"<p>This isn't exactly a programming question, but my goal is to add a comment at the top of the class that shows when you last edited the file, updating when it saves. I know Eclipse can access the date and time, since adding a &quot;Date Created:&quot; comment was easy, but that's just editing the new file code templates so I would imagine it's not in the same area. I've been learning Java and Eclipse for about a year now, and this would be super helpful to keep track of files.</p>\n<p><a href=\"https://i.stack.imgur.com/slA9R.png\" rel=\"nofollow noreferrer\">Here's a picture in case I wasn't clear</a></p>\n"},{"tags":["java","docker","kubernetes","permissions"],"comments":[{"owner":{"account_id":456191,"reputation":2110,"user_id":854854,"accept_rate":79,"display_name":"David"},"score":0,"creation_date":1662154598,"post_id":73585949,"comment_id":129949081,"body_markdown":"found the answer after some researching. nothing to do with which directory.","body":"found the answer after some researching. nothing to do with which directory."}],"answers":[{"tags":[],"owner":{"account_id":456191,"reputation":2110,"user_id":854854,"accept_rate":79,"display_name":"David"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662154565,"creation_date":1662154565,"answer_id":73588122,"question_id":73585949,"body_markdown":"The chmod needs to include execute permissions for the directory","title":"user in docker image losing permissions to subdirectories in /tmp and /var/run","body":"<p>The chmod needs to include execute permissions for the directory</p>\n"}],"owner":{"account_id":456191,"reputation":2110,"user_id":854854,"accept_rate":79,"display_name":"David"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":147,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662154565,"creation_date":1662138540,"question_id":73585949,"body_markdown":"I&#39;m attempting to deploy a docker container in k8s that creates its own subdirectory under `/var/run`, but any of that directory&#39;s subdirectories do not appear to retain their permissions. The docker image is running as a less privileged user than root. I am running this in k8s, and k8s&#39; livenessCheck will exec on the pod and inspect files under `/var/run/myapp/somesubdir` (similar in spirit to how `/proc` and other directories expose information).\r\n\r\nIn code, at application startup, the following files are written by the code: `/var/run/myapp/test` and `/var/run/myapp/somesubdir/test-2`. In code, I see permission denied errors when attempting to write those files.\r\n\r\nExample of one of the errors:\r\n```\r\nthrew exception; nested exception is java.nio.file.AccessDeniedException: /var/run/myapp/somesubdir/test-2\r\n```\r\n\r\nThe docker file:\r\n```\r\nRUN adduser --system --disabled-password app-user &amp;&amp; \\\r\n    groupadd app &amp;&amp; \\\r\n    usermod -a -G app app-user &amp;&amp; \\\r\n    mkdir -p /var/run/myapp/somesubdir &amp;&amp; \\\r\n    chown -Rv app-user:app /var/run/myapp &amp;&amp; \\\r\n    chmod -Rv 664 /var/run/myapp\r\n\r\nUSER app-user\r\n# ...\r\n```\r\n\r\nWhat I am seeing if I exec onto the pod\r\n```\r\napp-user@mypod:/app$ stat /var/run/myapp/\r\n  File: /var/run/myapp/\r\n  Size: 4096      \tBlocks: 8          IO Block: 4096   directory\r\nDevice: 10008fh/1048719d\tInode: 12310926    Links: 3\r\nAccess: (0664/drw-rw-r--)  Uid: (  102/app-user)   Gid: ( 1000/     app)\r\n\r\napp-user@mypod:/app$ stat /var/run/myapp/somesubdir\r\nstat: cannot stat &#39;/var/run/myapp/somesubdir&#39;: Permission denied\r\n```\r\n\r\nThe output of chown and chmod confirm that the changes are making it to all subdirs. Is this expected behavior? Is it something to do with it being under /var/run?\r\n\r\n**Edit**\r\n\r\nI&#39;ve tried switching to `/tmp`, and I get the same exact issue.","title":"user in docker image losing permissions to subdirectories in /tmp and /var/run","body":"<p>I'm attempting to deploy a docker container in k8s that creates its own subdirectory under <code>/var/run</code>, but any of that directory's subdirectories do not appear to retain their permissions. The docker image is running as a less privileged user than root. I am running this in k8s, and k8s' livenessCheck will exec on the pod and inspect files under <code>/var/run/myapp/somesubdir</code> (similar in spirit to how <code>/proc</code> and other directories expose information).</p>\n<p>In code, at application startup, the following files are written by the code: <code>/var/run/myapp/test</code> and <code>/var/run/myapp/somesubdir/test-2</code>. In code, I see permission denied errors when attempting to write those files.</p>\n<p>Example of one of the errors:</p>\n<pre><code>threw exception; nested exception is java.nio.file.AccessDeniedException: /var/run/myapp/somesubdir/test-2\n</code></pre>\n<p>The docker file:</p>\n<pre><code>RUN adduser --system --disabled-password app-user &amp;&amp; \\\n    groupadd app &amp;&amp; \\\n    usermod -a -G app app-user &amp;&amp; \\\n    mkdir -p /var/run/myapp/somesubdir &amp;&amp; \\\n    chown -Rv app-user:app /var/run/myapp &amp;&amp; \\\n    chmod -Rv 664 /var/run/myapp\n\nUSER app-user\n# ...\n</code></pre>\n<p>What I am seeing if I exec onto the pod</p>\n<pre><code>app-user@mypod:/app$ stat /var/run/myapp/\n  File: /var/run/myapp/\n  Size: 4096        Blocks: 8          IO Block: 4096   directory\nDevice: 10008fh/1048719d    Inode: 12310926    Links: 3\nAccess: (0664/drw-rw-r--)  Uid: (  102/app-user)   Gid: ( 1000/     app)\n\napp-user@mypod:/app$ stat /var/run/myapp/somesubdir\nstat: cannot stat '/var/run/myapp/somesubdir': Permission denied\n</code></pre>\n<p>The output of chown and chmod confirm that the changes are making it to all subdirs. Is this expected behavior? Is it something to do with it being under /var/run?</p>\n<p><strong>Edit</strong></p>\n<p>I've tried switching to <code>/tmp</code>, and I get the same exact issue.</p>\n"},{"tags":["java","windows","cursor","drag"],"answers":[{"tags":[],"owner":{"account_id":20680540,"reputation":79,"user_id":15184237,"display_name":"mstoreysmith"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662153995,"creation_date":1662153995,"answer_id":73588059,"question_id":73504086,"body_markdown":"It turns out that when a drag operation is in progress, you can/should change the cursor using the setCursor method of DragSourceContext -- not the setCursor method of the control (JFrame), as I had been doing. MacOS didn&#39;t seem to care, but Windows provably does.\r\n\r\nIn the solution below, I&#39;m using the DropTarget objects to determine what cursor suits, and this cursor is then implemented by all the methods of the DragSourceListener. Note also that I&#39;ve subclassed JFrame so that I can store the value of the current cursor.\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Component;\r\nimport java.awt.Cursor;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.datatransfer.DataFlavor;\r\nimport java.awt.datatransfer.Transferable;\r\nimport java.awt.datatransfer.UnsupportedFlavorException;\r\nimport java.awt.dnd.DnDConstants;\r\nimport java.awt.dnd.DragGestureEvent;\r\nimport java.awt.dnd.DragGestureListener;\r\nimport java.awt.dnd.DragGestureRecognizer;\r\nimport java.awt.dnd.DragSource;\r\nimport java.awt.dnd.DragSourceContext;\r\nimport java.awt.dnd.DragSourceDragEvent;\r\nimport java.awt.dnd.DragSourceDropEvent;\r\nimport java.awt.dnd.DragSourceEvent;\r\nimport java.awt.dnd.DragSourceListener;\r\nimport java.awt.dnd.DropTarget;\r\nimport java.awt.dnd.DropTargetDragEvent;\r\nimport java.awt.dnd.DropTargetDropEvent;\r\nimport java.awt.dnd.DropTargetEvent;\r\nimport java.awt.dnd.DropTargetListener;\r\nimport java.io.IOException;\r\nimport javax.swing.DefaultListModel;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JList;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.UnsupportedLookAndFeelException;\r\n\r\npublic class DNDExample {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            try {\r\n                UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n            } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n            }\r\n\r\n            DNDFrame frame = new DNDFrame(&quot;Test&quot;);\r\n            frame.setMinimumSize(new Dimension(300, 200));\r\n            frame.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setLayout(new BorderLayout());\r\n            frame.add(new TestPane(frame));\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n\r\n}\r\n\r\nclass DNDFrame extends JFrame {\r\n\r\n    public Cursor c = null;\r\n    public DragSource ds = null;\r\n\r\n    public DNDFrame(String s) {\r\n        super(s);\r\n    }\r\n}\r\n\r\nclass TestPane extends JPanel {\r\n\r\n    private final JList list;\r\n    private final DNDFrame frame;\r\n\r\n    public TestPane(DNDFrame frame) {\r\n        this.frame = frame;\r\n        setLayout(new BorderLayout());\r\n        list = new JList();\r\n        DefaultListModel model = new DefaultListModel();\r\n        model.addElement(new Example(&quot;Fred&quot;));\r\n        model.addElement(new Example(&quot;John&quot;));\r\n        model.addElement(new Example(&quot;Mark&quot;));\r\n        model.addElement(new Example(&quot;Sheila&quot;));\r\n        model.addElement(new Example(&quot;Angela&quot;));\r\n        model.addElement(new Example(&quot;Monica&quot;));\r\n        list.setModel(model);\r\n        add(new JScrollPane(list), BorderLayout.WEST);\r\n\r\n        DragGestureRecognizer dgr = DragSource.getDefaultDragSource().createDefaultDragGestureRecognizer(\r\n                list,\r\n                DnDConstants.ACTION_COPY_OR_MOVE,\r\n                new DragGestureHandler(list, frame));\r\n\r\n        JPanel panel = new JPanel(new GridBagLayout());\r\n        add(panel);\r\n\r\n        DropTarget dt = new DropTarget(\r\n                panel,\r\n                DnDConstants.ACTION_COPY_OR_MOVE,\r\n                new DropTargetHandler(panel, frame),\r\n                true);\r\n        DropTarget dl = new DropTarget(\r\n                list,\r\n                DnDConstants.ACTION_COPY_OR_MOVE,\r\n                new DropTargetHandler(list, frame),\r\n                true);\r\n\r\n    }\r\n\r\n}\r\n\r\nclass DragGestureHandler implements DragGestureListener {\r\n\r\n    private final JList list;\r\n    private final DNDFrame frame;\r\n    Cursor c = Cursor.getPredefinedCursor(Cursor.HAND_CURSOR);\r\n\r\n    public DragGestureHandler(JList list, DNDFrame frame) {\r\n        this.list = list;\r\n        this.frame = frame;\r\n    }\r\n\r\n    @Override\r\n    public void dragGestureRecognized(DragGestureEvent dge) {\r\n        Object selectedValue = list.getSelectedValue();\r\n        if (selectedValue instanceof Example) {\r\n            Example user = (Example) selectedValue;\r\n            Transferable t = new ExampleTransferable(user);\r\n            DragSource ds = dge.getDragSource();\r\n            System.out.println(&quot;Starting drag...&quot;);\r\n            ds.startDrag(\r\n                    dge,\r\n                    new Cursor(Cursor.HAND_CURSOR),\r\n                    t,\r\n                    new DragSourceHandler(frame));\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass DragSourceHandler implements DragSourceListener {\r\n\r\n    private final DNDFrame frame;\r\n\r\n    public DragSourceHandler(DNDFrame frame) {\r\n        this.frame = frame;\r\n    }\r\n\r\n    @Override\r\n    public void dragEnter(DragSourceDragEvent dsde) {\r\n        decideCursor(dsde.getDragSourceContext());\r\n    }\r\n\r\n    @Override\r\n    public void dragOver(DragSourceDragEvent dsde) {\r\n        decideCursor(dsde.getDragSourceContext());\r\n    }\r\n\r\n    @Override\r\n    public void dropActionChanged(DragSourceDragEvent dsde) {\r\n    }\r\n\r\n    @Override\r\n    public void dragExit(DragSourceEvent dse) {\r\n        decideCursor(dse.getDragSourceContext());\r\n    }\r\n\r\n    @Override\r\n    public void dragDropEnd(DragSourceDropEvent dsde) {\r\n        frame.getRootPane().setCursor(null);\r\n    }\r\n\r\n    public void decideCursor(DragSourceContext t) {\r\n        t.setCursor(frame.c);\r\n    }\r\n}\r\n\r\nclass DropTargetHandler implements DropTargetListener {\r\n\r\n    private final Component panel;\r\n    private final DNDFrame frame;\r\n\r\n    public DropTargetHandler(Component panel, DNDFrame frame) {\r\n        this.panel = panel;\r\n        this.frame = frame;\r\n    }\r\n\r\n    @Override\r\n    public void dragEnter(DropTargetDragEvent dtde) {\r\n        decideCursor(panel);\r\n        if (panel instanceof JPanel &amp;&amp; dtde.getTransferable().isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\r\n            System.out.println(&quot;Accept...&quot;);\r\n            dtde.acceptDrag(DnDConstants.ACTION_COPY_OR_MOVE);\r\n        } else {\r\n            System.out.println(&quot;Reject...&quot;);\r\n            dtde.rejectDrag();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void dragOver(DropTargetDragEvent dtde) {\r\n        decideCursor(panel);\r\n    }\r\n\r\n    @Override\r\n    public void dropActionChanged(DropTargetDragEvent dtde) {\r\n    }\r\n\r\n    @Override\r\n    public void dragExit(DropTargetEvent dte) {\r\n        decideCursor(panel);\r\n    }\r\n\r\n    public void decideCursor(Component comp) {\r\n        if (comp instanceof JList) {\r\n            frame.c = Cursor.getPredefinedCursor(Cursor.HAND_CURSOR);\r\n        } else {\r\n            frame.c = Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void drop(DropTargetDropEvent dtde) {\r\n        System.out.println(&quot;Dropped...&quot;);\r\n        frame.setCursor(null);\r\n        if (dtde.getTransferable().isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\r\n            Transferable t = dtde.getTransferable();\r\n            if (t.isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\r\n                try {\r\n                    Object transferData = t.getTransferData(ExampleTransferable.USER_DATA_FLAVOR);\r\n                    if (transferData instanceof Example) {\r\n                        Example example = (Example) transferData;\r\n                        dtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);\r\n                        if (panel instanceof JPanel) {\r\n                            JPanel p = (JPanel) panel;\r\n                            p.add(new JLabel(example.getName()));\r\n                            p.revalidate();\r\n                            p.repaint();\r\n                        }\r\n                    } else {\r\n                        dtde.rejectDrop();\r\n                    }\r\n                } catch (UnsupportedFlavorException | IOException ex) {\r\n                    dtde.rejectDrop();\r\n                }\r\n            } else {\r\n                dtde.rejectDrop();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass ExampleTransferable implements Transferable {\r\n\r\n    public static final DataFlavor USER_DATA_FLAVOR = new DataFlavor(Example.class, &quot;Example&quot;);\r\n    private final Example example;\r\n\r\n    public ExampleTransferable(Example example) {\r\n        this.example = example;\r\n    }\r\n\r\n    @Override\r\n    public DataFlavor[] getTransferDataFlavors() {\r\n        return new DataFlavor[]{USER_DATA_FLAVOR};\r\n    }\r\n\r\n    @Override\r\n    public boolean isDataFlavorSupported(DataFlavor flavor) {\r\n        return USER_DATA_FLAVOR.equals(flavor);\r\n    }\r\n\r\n    @Override\r\n    public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException, IOException {\r\n        Object value = null;\r\n        if (USER_DATA_FLAVOR.equals(flavor)) {\r\n            value = example;\r\n        } else {\r\n            throw new UnsupportedFlavorException(flavor);\r\n        }\r\n        return value;\r\n    }\r\n\r\n}\r\n\r\nclass Example {\r\n\r\n    private final String name;\r\n\r\n    public Example(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return name;\r\n    }\r\n\r\n}\r\n\r\n```","title":"Java drag cursor not changing under Windows","body":"<p>It turns out that when a drag operation is in progress, you can/should change the cursor using the setCursor method of DragSourceContext -- not the setCursor method of the control (JFrame), as I had been doing. MacOS didn't seem to care, but Windows provably does.</p>\n<p>In the solution below, I'm using the DropTarget objects to determine what cursor suits, and this cursor is then implemented by all the methods of the DragSourceListener. Note also that I've subclassed JFrame so that I can store the value of the current cursor.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.Cursor;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.dnd.DnDConstants;\nimport java.awt.dnd.DragGestureEvent;\nimport java.awt.dnd.DragGestureListener;\nimport java.awt.dnd.DragGestureRecognizer;\nimport java.awt.dnd.DragSource;\nimport java.awt.dnd.DragSourceContext;\nimport java.awt.dnd.DragSourceDragEvent;\nimport java.awt.dnd.DragSourceDropEvent;\nimport java.awt.dnd.DragSourceEvent;\nimport java.awt.dnd.DragSourceListener;\nimport java.awt.dnd.DropTarget;\nimport java.awt.dnd.DropTargetDragEvent;\nimport java.awt.dnd.DropTargetDropEvent;\nimport java.awt.dnd.DropTargetEvent;\nimport java.awt.dnd.DropTargetListener;\nimport java.io.IOException;\nimport javax.swing.DefaultListModel;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class DNDExample {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            try {\n                UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n            } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n            }\n\n            DNDFrame frame = new DNDFrame(&quot;Test&quot;);\n            frame.setMinimumSize(new Dimension(300, 200));\n            frame.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setLayout(new BorderLayout());\n            frame.add(new TestPane(frame));\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n\n            frame.setVisible(true);\n        });\n    }\n\n}\n\nclass DNDFrame extends JFrame {\n\n    public Cursor c = null;\n    public DragSource ds = null;\n\n    public DNDFrame(String s) {\n        super(s);\n    }\n}\n\nclass TestPane extends JPanel {\n\n    private final JList list;\n    private final DNDFrame frame;\n\n    public TestPane(DNDFrame frame) {\n        this.frame = frame;\n        setLayout(new BorderLayout());\n        list = new JList();\n        DefaultListModel model = new DefaultListModel();\n        model.addElement(new Example(&quot;Fred&quot;));\n        model.addElement(new Example(&quot;John&quot;));\n        model.addElement(new Example(&quot;Mark&quot;));\n        model.addElement(new Example(&quot;Sheila&quot;));\n        model.addElement(new Example(&quot;Angela&quot;));\n        model.addElement(new Example(&quot;Monica&quot;));\n        list.setModel(model);\n        add(new JScrollPane(list), BorderLayout.WEST);\n\n        DragGestureRecognizer dgr = DragSource.getDefaultDragSource().createDefaultDragGestureRecognizer(\n                list,\n                DnDConstants.ACTION_COPY_OR_MOVE,\n                new DragGestureHandler(list, frame));\n\n        JPanel panel = new JPanel(new GridBagLayout());\n        add(panel);\n\n        DropTarget dt = new DropTarget(\n                panel,\n                DnDConstants.ACTION_COPY_OR_MOVE,\n                new DropTargetHandler(panel, frame),\n                true);\n        DropTarget dl = new DropTarget(\n                list,\n                DnDConstants.ACTION_COPY_OR_MOVE,\n                new DropTargetHandler(list, frame),\n                true);\n\n    }\n\n}\n\nclass DragGestureHandler implements DragGestureListener {\n\n    private final JList list;\n    private final DNDFrame frame;\n    Cursor c = Cursor.getPredefinedCursor(Cursor.HAND_CURSOR);\n\n    public DragGestureHandler(JList list, DNDFrame frame) {\n        this.list = list;\n        this.frame = frame;\n    }\n\n    @Override\n    public void dragGestureRecognized(DragGestureEvent dge) {\n        Object selectedValue = list.getSelectedValue();\n        if (selectedValue instanceof Example) {\n            Example user = (Example) selectedValue;\n            Transferable t = new ExampleTransferable(user);\n            DragSource ds = dge.getDragSource();\n            System.out.println(&quot;Starting drag...&quot;);\n            ds.startDrag(\n                    dge,\n                    new Cursor(Cursor.HAND_CURSOR),\n                    t,\n                    new DragSourceHandler(frame));\n        }\n    }\n\n}\n\nclass DragSourceHandler implements DragSourceListener {\n\n    private final DNDFrame frame;\n\n    public DragSourceHandler(DNDFrame frame) {\n        this.frame = frame;\n    }\n\n    @Override\n    public void dragEnter(DragSourceDragEvent dsde) {\n        decideCursor(dsde.getDragSourceContext());\n    }\n\n    @Override\n    public void dragOver(DragSourceDragEvent dsde) {\n        decideCursor(dsde.getDragSourceContext());\n    }\n\n    @Override\n    public void dropActionChanged(DragSourceDragEvent dsde) {\n    }\n\n    @Override\n    public void dragExit(DragSourceEvent dse) {\n        decideCursor(dse.getDragSourceContext());\n    }\n\n    @Override\n    public void dragDropEnd(DragSourceDropEvent dsde) {\n        frame.getRootPane().setCursor(null);\n    }\n\n    public void decideCursor(DragSourceContext t) {\n        t.setCursor(frame.c);\n    }\n}\n\nclass DropTargetHandler implements DropTargetListener {\n\n    private final Component panel;\n    private final DNDFrame frame;\n\n    public DropTargetHandler(Component panel, DNDFrame frame) {\n        this.panel = panel;\n        this.frame = frame;\n    }\n\n    @Override\n    public void dragEnter(DropTargetDragEvent dtde) {\n        decideCursor(panel);\n        if (panel instanceof JPanel &amp;&amp; dtde.getTransferable().isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\n            System.out.println(&quot;Accept...&quot;);\n            dtde.acceptDrag(DnDConstants.ACTION_COPY_OR_MOVE);\n        } else {\n            System.out.println(&quot;Reject...&quot;);\n            dtde.rejectDrag();\n        }\n    }\n\n    @Override\n    public void dragOver(DropTargetDragEvent dtde) {\n        decideCursor(panel);\n    }\n\n    @Override\n    public void dropActionChanged(DropTargetDragEvent dtde) {\n    }\n\n    @Override\n    public void dragExit(DropTargetEvent dte) {\n        decideCursor(panel);\n    }\n\n    public void decideCursor(Component comp) {\n        if (comp instanceof JList) {\n            frame.c = Cursor.getPredefinedCursor(Cursor.HAND_CURSOR);\n        } else {\n            frame.c = Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR);\n        }\n    }\n\n    @Override\n    public void drop(DropTargetDropEvent dtde) {\n        System.out.println(&quot;Dropped...&quot;);\n        frame.setCursor(null);\n        if (dtde.getTransferable().isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\n            Transferable t = dtde.getTransferable();\n            if (t.isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\n                try {\n                    Object transferData = t.getTransferData(ExampleTransferable.USER_DATA_FLAVOR);\n                    if (transferData instanceof Example) {\n                        Example example = (Example) transferData;\n                        dtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);\n                        if (panel instanceof JPanel) {\n                            JPanel p = (JPanel) panel;\n                            p.add(new JLabel(example.getName()));\n                            p.revalidate();\n                            p.repaint();\n                        }\n                    } else {\n                        dtde.rejectDrop();\n                    }\n                } catch (UnsupportedFlavorException | IOException ex) {\n                    dtde.rejectDrop();\n                }\n            } else {\n                dtde.rejectDrop();\n            }\n        }\n    }\n\n}\n\nclass ExampleTransferable implements Transferable {\n\n    public static final DataFlavor USER_DATA_FLAVOR = new DataFlavor(Example.class, &quot;Example&quot;);\n    private final Example example;\n\n    public ExampleTransferable(Example example) {\n        this.example = example;\n    }\n\n    @Override\n    public DataFlavor[] getTransferDataFlavors() {\n        return new DataFlavor[]{USER_DATA_FLAVOR};\n    }\n\n    @Override\n    public boolean isDataFlavorSupported(DataFlavor flavor) {\n        return USER_DATA_FLAVOR.equals(flavor);\n    }\n\n    @Override\n    public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException, IOException {\n        Object value = null;\n        if (USER_DATA_FLAVOR.equals(flavor)) {\n            value = example;\n        } else {\n            throw new UnsupportedFlavorException(flavor);\n        }\n        return value;\n    }\n\n}\n\nclass Example {\n\n    private final String name;\n\n    public Example(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n\n}\n\n</code></pre>\n"}],"owner":{"account_id":20680540,"reputation":79,"user_id":15184237,"display_name":"mstoreysmith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662153995,"creation_date":1661531652,"question_id":73504086,"body_markdown":"Im trying to implement Drag and Drop in a desktop Java app, but although the app works fine under MacOS, I seem unable to get it to work right under Windows. \r\n\r\nSpecifically, I want the cursor to change depending on what component the mouse is hovering over. For now, Im using predefined cursors (Hand, Crosshair) but eventually Id like to use custom cursors. But try as I might, I cant get the Hand cursor to change to Crosshair under Windows. The same code works fine in MacOS. Ive tried different Java versions (15 &amp; 17) - no change. The other difference Id note between MacOS and Windows: I see many more calls to dragOver in Windows, including when Im not even moving the mouse. But the cursor doesnt change.\r\n\r\nCan anybody tell me what Im doing wrong?\r\n\r\n```\r\nimport java.awt.BorderLayout;\r\nimport java.awt.Component;\r\nimport java.awt.Cursor;\r\nimport java.awt.Dimension;\r\nimport java.awt.EventQueue;\r\nimport java.awt.GridBagLayout;\r\nimport java.awt.datatransfer.DataFlavor;\r\nimport java.awt.datatransfer.Transferable;\r\nimport java.awt.datatransfer.UnsupportedFlavorException;\r\nimport java.awt.dnd.DnDConstants;\r\nimport java.awt.dnd.DragGestureEvent;\r\nimport java.awt.dnd.DragGestureListener;\r\nimport java.awt.dnd.DragGestureRecognizer;\r\nimport java.awt.dnd.DragSource;\r\nimport java.awt.dnd.DragSourceDragEvent;\r\nimport java.awt.dnd.DragSourceDropEvent;\r\nimport java.awt.dnd.DragSourceEvent;\r\nimport java.awt.dnd.DragSourceListener;\r\nimport java.awt.dnd.DropTarget;\r\nimport java.awt.dnd.DropTargetDragEvent;\r\nimport java.awt.dnd.DropTargetDropEvent;\r\nimport java.awt.dnd.DropTargetEvent;\r\nimport java.awt.dnd.DropTargetListener;\r\nimport java.io.IOException;\r\nimport javax.swing.DefaultListModel;\r\nimport javax.swing.JFrame;\r\nimport javax.swing.JLabel;\r\nimport javax.swing.JList;\r\nimport javax.swing.JPanel;\r\nimport javax.swing.JScrollPane;\r\nimport javax.swing.UIManager;\r\nimport javax.swing.UnsupportedLookAndFeelException;\r\n\r\npublic class DNDExample {\r\n\r\n    /**\r\n     * @param args the command line arguments\r\n     */\r\n    public static void main(String[] args) {\r\n        EventQueue.invokeLater(() -&gt; {\r\n            try {\r\n                UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\r\n            } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\r\n            }\r\n\r\n            JFrame frame = new JFrame(&quot;Test&quot;);\r\n            frame.setMinimumSize(new Dimension(300, 200));\r\n            frame.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\r\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n            frame.setLayout(new BorderLayout());\r\n            frame.add(new TestPane(frame));\r\n            frame.pack();\r\n            frame.setLocationRelativeTo(null);\r\n            frame.setVisible(true);\r\n        });\r\n    }\r\n\r\n}\r\n\r\nclass TestPane extends JPanel {\r\n\r\n    private final JList list;\r\n    private final JFrame frame;\r\n\r\n    public TestPane(JFrame frame) {\r\n        this.frame = frame;\r\n        setLayout(new BorderLayout());\r\n        list = new JList();\r\n        DefaultListModel model = new DefaultListModel();\r\n        model.addElement(new Example(&quot;Fred&quot;));\r\n        model.addElement(new Example(&quot;John&quot;));\r\n        model.addElement(new Example(&quot;Mark&quot;));\r\n        model.addElement(new Example(&quot;Sheila&quot;));\r\n        model.addElement(new Example(&quot;Angela&quot;));\r\n        model.addElement(new Example(&quot;Monica&quot;));\r\n        list.setModel(model);\r\n        add(new JScrollPane(list), BorderLayout.WEST);\r\n\r\n        DragGestureRecognizer dgr = DragSource.getDefaultDragSource().createDefaultDragGestureRecognizer(\r\n                list,\r\n                DnDConstants.ACTION_COPY_OR_MOVE,\r\n                new DragGestureHandler(list, frame));\r\n\r\n        JPanel panel = new JPanel(new GridBagLayout());\r\n        add(panel);\r\n\r\n        DropTarget dt = new DropTarget(\r\n                panel,\r\n                DnDConstants.ACTION_COPY_OR_MOVE,\r\n                new DropTargetHandler(panel, frame),\r\n                true);\r\n        DropTarget dl = new DropTarget(\r\n                list,\r\n                DnDConstants.ACTION_COPY_OR_MOVE,\r\n                new DropTargetHandler(list, frame),\r\n                true);\r\n\r\n    }\r\n\r\n}\r\n\r\nclass DragGestureHandler implements DragGestureListener {\r\n\r\n    private final JList list;\r\n    private final JFrame frame;\r\n\r\n    public DragGestureHandler(JList list, JFrame frame) {\r\n        this.list = list;\r\n        this.frame = frame;\r\n    }\r\n\r\n    @Override\r\n    public void dragGestureRecognized(DragGestureEvent dge) {\r\n        Object selectedValue = list.getSelectedValue();\r\n        if (selectedValue instanceof Example) {\r\n            Example user = (Example) selectedValue;\r\n            Transferable t = new ExampleTransferable(user);\r\n            DragSource ds = dge.getDragSource();\r\n            frame.setCursor(new Cursor(Cursor.HAND_CURSOR));\r\n            System.out.println(&quot;Starting drag...&quot;);\r\n            ds.startDrag(\r\n                    dge,\r\n                    new Cursor(Cursor.HAND_CURSOR),\r\n                    t,\r\n                    new DragSourceHandler(frame));\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\nclass DragSourceHandler implements DragSourceListener {\r\n\r\n    JFrame frame;\r\n\r\n    public DragSourceHandler(JFrame frame) {\r\n        this.frame = frame;\r\n    }\r\n\r\n    @Override\r\n    public void dragEnter(DragSourceDragEvent dsde) {\r\n    }\r\n\r\n    @Override\r\n    public void dragOver(DragSourceDragEvent dsde) {\r\n    }\r\n\r\n    @Override\r\n    public void dropActionChanged(DragSourceDragEvent dsde) {\r\n    }\r\n\r\n    @Override\r\n    public void dragExit(DragSourceEvent dse) {\r\n    }\r\n\r\n    @Override\r\n    public void dragDropEnd(DragSourceDropEvent dsde) {\r\n        frame.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));\r\n    }\r\n}\r\n\r\nclass DropTargetHandler implements DropTargetListener {\r\n\r\n    private final Component panel;\r\n    private final JFrame frame;\r\n\r\n    public DropTargetHandler(Component panel, JFrame frame) {\r\n        this.panel = panel;\r\n        this.frame = frame;\r\n    }\r\n\r\n    @Override\r\n    public void dragEnter(DropTargetDragEvent dtde) {\r\n        decideCursor(panel);\r\n        if (panel instanceof JPanel &amp;&amp; dtde.getTransferable().isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\r\n            System.out.println(&quot;Accept...&quot;);\r\n            dtde.acceptDrag(DnDConstants.ACTION_COPY_OR_MOVE);\r\n        } else {\r\n            System.out.println(&quot;Reject...&quot;);\r\n            dtde.rejectDrag();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void dragOver(DropTargetDragEvent dtde) {\r\n        decideCursor(panel);\r\n    }\r\n\r\n    @Override\r\n    public void dropActionChanged(DropTargetDragEvent dtde) {\r\n    }\r\n\r\n    @Override\r\n    public void dragExit(DropTargetEvent dte) {\r\n        decideCursor(panel);\r\n    }\r\n\r\n    public void decideCursor(Component comp) {\r\n        if (comp instanceof JList) {\r\n            System.out.println(&quot;&gt;&gt;Target LIST &quot;);\r\n            frame.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\r\n        } else {\r\n            System.out.println(&quot;&gt;&gt;Target NON-LIST&quot;);\r\n            frame.setCursor(Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR));\r\n        }\r\n        frame.invalidate();\r\n        frame.repaint();\r\n    }\r\n\r\n    @Override\r\n    public void drop(DropTargetDropEvent dtde) {\r\n        System.out.println(&quot;Dropped...&quot;);\r\n        frame.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\r\n        if (dtde.getTransferable().isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\r\n            Transferable t = dtde.getTransferable();\r\n            if (t.isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\r\n                try {\r\n                    Object transferData = t.getTransferData(ExampleTransferable.USER_DATA_FLAVOR);\r\n                    if (transferData instanceof Example) {\r\n                        Example example = (Example) transferData;\r\n                        dtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);\r\n                        if (panel instanceof JPanel) {\r\n                            JPanel p = (JPanel) panel;\r\n                            p.add(new JLabel(example.getName()));\r\n                            p.revalidate();\r\n                            p.repaint();\r\n                        }\r\n                    } else {\r\n                        dtde.rejectDrop();\r\n                    }\r\n                } catch (UnsupportedFlavorException | IOException ex) {\r\n                    dtde.rejectDrop();\r\n                }\r\n            } else {\r\n                dtde.rejectDrop();\r\n            }\r\n        }\r\n    }\r\n\r\n}\r\n\r\nclass ExampleTransferable implements Transferable {\r\n\r\n    public static final DataFlavor USER_DATA_FLAVOR = new DataFlavor(Example.class, &quot;Example&quot;);\r\n    private final Example example;\r\n\r\n    public ExampleTransferable(Example example) {\r\n        this.example = example;\r\n    }\r\n\r\n    @Override\r\n    public DataFlavor[] getTransferDataFlavors() {\r\n        return new DataFlavor[]{USER_DATA_FLAVOR};\r\n    }\r\n\r\n    @Override\r\n    public boolean isDataFlavorSupported(DataFlavor flavor) {\r\n        return USER_DATA_FLAVOR.equals(flavor);\r\n    }\r\n\r\n    @Override\r\n    public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException, IOException {\r\n        Object value = null;\r\n        if (USER_DATA_FLAVOR.equals(flavor)) {\r\n            value = example;\r\n        } else {\r\n            throw new UnsupportedFlavorException(flavor);\r\n        }\r\n        return value;\r\n    }\r\n\r\n}\r\n\r\nclass Example {\r\n\r\n    private final String name;\r\n\r\n    public Example(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return name;\r\n    }\r\n\r\n}\r\n\r\n","title":"Java drag cursor not changing under Windows","body":"<p>Im trying to implement Drag and Drop in a desktop Java app, but although the app works fine under MacOS, I seem unable to get it to work right under Windows.</p>\n<p>Specifically, I want the cursor to change depending on what component the mouse is hovering over. For now, Im using predefined cursors (Hand, Crosshair) but eventually Id like to use custom cursors. But try as I might, I cant get the Hand cursor to change to Crosshair under Windows. The same code works fine in MacOS. Ive tried different Java versions (15 &amp; 17) - no change. The other difference Id note between MacOS and Windows: I see many more calls to dragOver in Windows, including when Im not even moving the mouse. But the cursor doesnt change.</p>\n<p>Can anybody tell me what Im doing wrong?</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Component;\nimport java.awt.Cursor;\nimport java.awt.Dimension;\nimport java.awt.EventQueue;\nimport java.awt.GridBagLayout;\nimport java.awt.datatransfer.DataFlavor;\nimport java.awt.datatransfer.Transferable;\nimport java.awt.datatransfer.UnsupportedFlavorException;\nimport java.awt.dnd.DnDConstants;\nimport java.awt.dnd.DragGestureEvent;\nimport java.awt.dnd.DragGestureListener;\nimport java.awt.dnd.DragGestureRecognizer;\nimport java.awt.dnd.DragSource;\nimport java.awt.dnd.DragSourceDragEvent;\nimport java.awt.dnd.DragSourceDropEvent;\nimport java.awt.dnd.DragSourceEvent;\nimport java.awt.dnd.DragSourceListener;\nimport java.awt.dnd.DropTarget;\nimport java.awt.dnd.DropTargetDragEvent;\nimport java.awt.dnd.DropTargetDropEvent;\nimport java.awt.dnd.DropTargetEvent;\nimport java.awt.dnd.DropTargetListener;\nimport java.io.IOException;\nimport javax.swing.DefaultListModel;\nimport javax.swing.JFrame;\nimport javax.swing.JLabel;\nimport javax.swing.JList;\nimport javax.swing.JPanel;\nimport javax.swing.JScrollPane;\nimport javax.swing.UIManager;\nimport javax.swing.UnsupportedLookAndFeelException;\n\npublic class DNDExample {\n\n    /**\n     * @param args the command line arguments\n     */\n    public static void main(String[] args) {\n        EventQueue.invokeLater(() -&gt; {\n            try {\n                UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());\n            } catch (ClassNotFoundException | InstantiationException | IllegalAccessException | UnsupportedLookAndFeelException ex) {\n            }\n\n            JFrame frame = new JFrame(&quot;Test&quot;);\n            frame.setMinimumSize(new Dimension(300, 200));\n            frame.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\n            frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n            frame.setLayout(new BorderLayout());\n            frame.add(new TestPane(frame));\n            frame.pack();\n            frame.setLocationRelativeTo(null);\n            frame.setVisible(true);\n        });\n    }\n\n}\n\nclass TestPane extends JPanel {\n\n    private final JList list;\n    private final JFrame frame;\n\n    public TestPane(JFrame frame) {\n        this.frame = frame;\n        setLayout(new BorderLayout());\n        list = new JList();\n        DefaultListModel model = new DefaultListModel();\n        model.addElement(new Example(&quot;Fred&quot;));\n        model.addElement(new Example(&quot;John&quot;));\n        model.addElement(new Example(&quot;Mark&quot;));\n        model.addElement(new Example(&quot;Sheila&quot;));\n        model.addElement(new Example(&quot;Angela&quot;));\n        model.addElement(new Example(&quot;Monica&quot;));\n        list.setModel(model);\n        add(new JScrollPane(list), BorderLayout.WEST);\n\n        DragGestureRecognizer dgr = DragSource.getDefaultDragSource().createDefaultDragGestureRecognizer(\n                list,\n                DnDConstants.ACTION_COPY_OR_MOVE,\n                new DragGestureHandler(list, frame));\n\n        JPanel panel = new JPanel(new GridBagLayout());\n        add(panel);\n\n        DropTarget dt = new DropTarget(\n                panel,\n                DnDConstants.ACTION_COPY_OR_MOVE,\n                new DropTargetHandler(panel, frame),\n                true);\n        DropTarget dl = new DropTarget(\n                list,\n                DnDConstants.ACTION_COPY_OR_MOVE,\n                new DropTargetHandler(list, frame),\n                true);\n\n    }\n\n}\n\nclass DragGestureHandler implements DragGestureListener {\n\n    private final JList list;\n    private final JFrame frame;\n\n    public DragGestureHandler(JList list, JFrame frame) {\n        this.list = list;\n        this.frame = frame;\n    }\n\n    @Override\n    public void dragGestureRecognized(DragGestureEvent dge) {\n        Object selectedValue = list.getSelectedValue();\n        if (selectedValue instanceof Example) {\n            Example user = (Example) selectedValue;\n            Transferable t = new ExampleTransferable(user);\n            DragSource ds = dge.getDragSource();\n            frame.setCursor(new Cursor(Cursor.HAND_CURSOR));\n            System.out.println(&quot;Starting drag...&quot;);\n            ds.startDrag(\n                    dge,\n                    new Cursor(Cursor.HAND_CURSOR),\n                    t,\n                    new DragSourceHandler(frame));\n        }\n\n    }\n\n}\n\nclass DragSourceHandler implements DragSourceListener {\n\n    JFrame frame;\n\n    public DragSourceHandler(JFrame frame) {\n        this.frame = frame;\n    }\n\n    @Override\n    public void dragEnter(DragSourceDragEvent dsde) {\n    }\n\n    @Override\n    public void dragOver(DragSourceDragEvent dsde) {\n    }\n\n    @Override\n    public void dropActionChanged(DragSourceDragEvent dsde) {\n    }\n\n    @Override\n    public void dragExit(DragSourceEvent dse) {\n    }\n\n    @Override\n    public void dragDropEnd(DragSourceDropEvent dsde) {\n        frame.setCursor(Cursor.getPredefinedCursor(Cursor.DEFAULT_CURSOR));\n    }\n}\n\nclass DropTargetHandler implements DropTargetListener {\n\n    private final Component panel;\n    private final JFrame frame;\n\n    public DropTargetHandler(Component panel, JFrame frame) {\n        this.panel = panel;\n        this.frame = frame;\n    }\n\n    @Override\n    public void dragEnter(DropTargetDragEvent dtde) {\n        decideCursor(panel);\n        if (panel instanceof JPanel &amp;&amp; dtde.getTransferable().isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\n            System.out.println(&quot;Accept...&quot;);\n            dtde.acceptDrag(DnDConstants.ACTION_COPY_OR_MOVE);\n        } else {\n            System.out.println(&quot;Reject...&quot;);\n            dtde.rejectDrag();\n        }\n    }\n\n    @Override\n    public void dragOver(DropTargetDragEvent dtde) {\n        decideCursor(panel);\n    }\n\n    @Override\n    public void dropActionChanged(DropTargetDragEvent dtde) {\n    }\n\n    @Override\n    public void dragExit(DropTargetEvent dte) {\n        decideCursor(panel);\n    }\n\n    public void decideCursor(Component comp) {\n        if (comp instanceof JList) {\n            System.out.println(&quot;&gt;&gt;Target LIST &quot;);\n            frame.setCursor(Cursor.getPredefinedCursor(Cursor.HAND_CURSOR));\n        } else {\n            System.out.println(&quot;&gt;&gt;Target NON-LIST&quot;);\n            frame.setCursor(Cursor.getPredefinedCursor(Cursor.CROSSHAIR_CURSOR));\n        }\n        frame.invalidate();\n        frame.repaint();\n    }\n\n    @Override\n    public void drop(DropTargetDropEvent dtde) {\n        System.out.println(&quot;Dropped...&quot;);\n        frame.setCursor(new Cursor(Cursor.DEFAULT_CURSOR));\n        if (dtde.getTransferable().isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\n            Transferable t = dtde.getTransferable();\n            if (t.isDataFlavorSupported(ExampleTransferable.USER_DATA_FLAVOR)) {\n                try {\n                    Object transferData = t.getTransferData(ExampleTransferable.USER_DATA_FLAVOR);\n                    if (transferData instanceof Example) {\n                        Example example = (Example) transferData;\n                        dtde.acceptDrop(DnDConstants.ACTION_COPY_OR_MOVE);\n                        if (panel instanceof JPanel) {\n                            JPanel p = (JPanel) panel;\n                            p.add(new JLabel(example.getName()));\n                            p.revalidate();\n                            p.repaint();\n                        }\n                    } else {\n                        dtde.rejectDrop();\n                    }\n                } catch (UnsupportedFlavorException | IOException ex) {\n                    dtde.rejectDrop();\n                }\n            } else {\n                dtde.rejectDrop();\n            }\n        }\n    }\n\n}\n\nclass ExampleTransferable implements Transferable {\n\n    public static final DataFlavor USER_DATA_FLAVOR = new DataFlavor(Example.class, &quot;Example&quot;);\n    private final Example example;\n\n    public ExampleTransferable(Example example) {\n        this.example = example;\n    }\n\n    @Override\n    public DataFlavor[] getTransferDataFlavors() {\n        return new DataFlavor[]{USER_DATA_FLAVOR};\n    }\n\n    @Override\n    public boolean isDataFlavorSupported(DataFlavor flavor) {\n        return USER_DATA_FLAVOR.equals(flavor);\n    }\n\n    @Override\n    public Object getTransferData(DataFlavor flavor) throws UnsupportedFlavorException, IOException {\n        Object value = null;\n        if (USER_DATA_FLAVOR.equals(flavor)) {\n            value = example;\n        } else {\n            throw new UnsupportedFlavorException(flavor);\n        }\n        return value;\n    }\n\n}\n\nclass Example {\n\n    private final String name;\n\n    public Example(String name) {\n        this.name = name;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    @Override\n    public String toString() {\n        return name;\n    }\n\n}\n\n</code></pre>\n"},{"tags":["java","jenkins","openshift","okhttp"],"answers":[{"tags":[],"owner":{"account_id":19953098,"reputation":1,"user_id":14643791,"display_name":"Chris Allemang"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662152345,"creation_date":1662152345,"answer_id":73587880,"question_id":72561114,"body_markdown":"How are your Jenkins resourses doing? You may want to bump up your resource limits and requests in Openshift based off the message `java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory`","title":"okhttp3 error: Jenkins master loses connection to agents","body":"<p>How are your Jenkins resourses doing? You may want to bump up your resource limits and requests in Openshift based off the message <code>java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory</code></p>\n"}],"owner":{"account_id":7507943,"reputation":23,"user_id":5703909,"display_name":"Victor.Bbb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":316,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662152345,"creation_date":1654781088,"question_id":72561114,"body_markdown":"I am running a Jenkins Master/Controller, which is connected to several agents,the number of them is depending on the workload. I use openshift to manage this.\r\nInstalled Jenkins Plugins (among others) are: okhttp-api:4.9.3-105.vb96869f8ac3a, github, blueocean,...\r\nMainly Java Applications are running on the machines.\r\n\r\nRandomly, I get the following error:\r\n\r\n\r\n&gt; java.lang.NoSuchMethodError: &#39;**okhttp3.OkHttpClient**\r\n&gt; io.fabric8.openshift.client.DefaultOpenShiftClient.getHttpClient()&#39;\r\n&gt; \tat\r\n&gt; io.fabric8.jenkins.openshiftsync.OpenShiftUtils.initializeOpenShiftClient(OpenShiftUtils.java:153)\r\n&gt; \tat\r\n&gt; io.fabric8.jenkins.openshiftsync.GlobalPluginConfiguration.start(GlobalPluginConfiguration.java:128)\r\n&gt; \tat\r\n&gt; io.fabric8.jenkins.openshiftsync.GlobalPluginConfiguration.configChange(GlobalPluginConfiguration.java:123)\r\n&gt; \tat\r\n&gt; io.fabric8.jenkins.openshiftsync.GlobalPluginConfiguration.&lt;init&gt;(GlobalPluginConfiguration.java:111)\r\n&gt; \tat\r\n&gt; io.fabric8.jenkins.openshiftsync.GlobalPluginConfiguration$$FastClassByGuice$$-1829337750.GUICE$TRAMPOLINE(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; io.fabric8.jenkins.openshiftsync.GlobalPluginConfiguration$$FastClassByGuice$$-1829337750.apply(&lt;generated&gt;)\r\n&gt; \tat\r\n&gt; com.google.inject.internal.DefaultConstructionProxyFactory$FastClassProxy.newInstance(DefaultConstructionProxyFactory.java:82)\r\n&gt; \tat\r\n&gt; com.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)\r\n&gt; \tat\r\n&gt; com.google.inject.internal.ConstructorInjector.access$000(ConstructorInjector.java:33)\r\n&gt; \tat\r\n&gt; com.google.inject.internal.ConstructorInjector$1.call(ConstructorInjector.java:98)\r\n&gt; \tat\r\n&gt; com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:109)\r\n&gt; \tat\r\n&gt; hudson.ExtensionFinder$GuiceFinder$SezpozModule.onProvision(ExtensionFinder.java:568)\r\n&gt; \tat\r\n&gt; com.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:117)\r\n&gt; \tat\r\n&gt; com.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:66)\r\n&gt; \tat\r\n&gt; com.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:93)\r\n&gt; \tat\r\n&gt; com.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:296)\r\n&gt; \tat\r\n&gt; com.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\r\n&gt; Caused: com.google.inject.ProvisionException: Unable to provision, see\r\n&gt; the following errors:\r\n&gt; \r\n&gt; 1) [Guice/ErrorInjectingConstructor]: NoSuchMethodError:\r\n&gt; &#39;okhttp3.OkHttpClient DefaultOpenShiftClient.getHttpClient()&#39;   at\r\n&gt; GlobalPluginConfiguration.&lt;init&gt;(GlobalPluginConfiguration.java:109)\r\n\r\n\r\nIf I run into this error, my Jenkins controller can not connect to his agents anymore.\r\nAny idea wherer this comes from and why? Unfortunately, I can not just uninstall the okhttp Plugin, as it is depending on 2 others I need: github and blueocean...\r\nAnother hint: Before this error occurs, I get several &#39;Failed to start thread - warnings:\r\n\r\n\r\n\r\n    failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 512k, guardsize: 0k, detached.\r\n    2022-05-24 09:11:36.768+0000 [id=26197]\tINFO\to.c.j.p.k.KubernetesSlave#deleteSlavePod: Terminated Kubernetes instance for agent bmf-central-ci-prod/generaljdk8-fabe-gj02j\r\n    2022-05-24 09:11:36.768+0000 [id=26197]\tINFO\to.c.j.p.k.KubernetesSlave#_terminate: Disconnected computer generaljdk8-fabe-gj02j\r\n    2022-05-24 09:11:36.769+0000 [id=26133]\tINFO\tj.s.DefaultJnlpSlaveReceiver#channelClosed: Computer.threadPoolForRemoting [#561] for generaljdk8-fabe-gj02j terminated: java.nio.channels.ClosedChannelException\r\n    2022-05-24 09:11:36.771+0000 [id=25980]\tINFO\to.j.p.workflow.job.WorkflowRun#finish: fabe/FABE DWH/fabe-st/feature%2F388355-Strafverfuegung-auf-Prod #1 completed: SUCCESS\r\n    2022-05-24 09:11:36.996+0000 [id=26921]\tINFO\ti.f.j.o.BuildSyncRunListener#onStarted: Run started: Fallbearbeitung (FABE) &#187; FABE &#187; fabe-st &#187; feature/388355-Strafverfuegung-auf-Prod #2\r\n    2022-05-24 09:11:36.996+0000 [id=26921]\tINFO\ti.f.j.o.BuildSyncRunListener#onStarted: Not polling polling build job/fabe/job/FABE%20DWH/job/fabe-st/job/feature%252F388355-Strafverfuegung-auf-Prod/2/ as its not a WorkflowJob\r\n    2022-05-24 09:11:37.236+0000 [id=26921]\tINFO\to.j.p.workflow.job.WorkflowRun#finish: fabe/FABE DWH/fabe-st/feature%2F388355-Strafverfuegung-auf-Prod #2 completed: FAILURE\r\n    [18664.801s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 512k, guardsize: 0k, detached.\r\n    2022-05-24 09:11:49.797+0000 [id=26448]\tINFO\to.c.j.p.k.KubernetesLauncher#launch: Waiting for agent to connect (60/1,000): general-s8fd4\r\n    [18676.187s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 512k, guardsize: 0k, detached.\r\n    [18676.197s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 512k, guardsize: 0k, detached.\r\n    [18676.206s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 512k, guardsize: 0k, detached.\r\n    2022-05-24 09:11:54.287+0000 [id=21885]\tWARNING\tn.u.l.h.p.g.GitParameterDefinition#getTag: [ bmf-sa-pruefverwaltung/test ]  Download tags from the repository failed\r\n    java.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\r\n\r\nOnly thing what helped so far was to restart the Jenkins Controller Pod manually :-/\r\nEven changing the ThreadStackSize did just reduce the occurance of the error, but not resolve it.\r\n\r\nHappy for any hints, thanks a lot in advance!!\r\n\r\n","title":"okhttp3 error: Jenkins master loses connection to agents","body":"<p>I am running a Jenkins Master/Controller, which is connected to several agents,the number of them is depending on the workload. I use openshift to manage this.\nInstalled Jenkins Plugins (among others) are: okhttp-api:4.9.3-105.vb96869f8ac3a, github, blueocean,...\nMainly Java Applications are running on the machines.</p>\n<p>Randomly, I get the following error:</p>\n<blockquote>\n<p>java.lang.NoSuchMethodError: '<strong>okhttp3.OkHttpClient</strong>\nio.fabric8.openshift.client.DefaultOpenShiftClient.getHttpClient()'\nat\nio.fabric8.jenkins.openshiftsync.OpenShiftUtils.initializeOpenShiftClient(OpenShiftUtils.java:153)\nat\nio.fabric8.jenkins.openshiftsync.GlobalPluginConfiguration.start(GlobalPluginConfiguration.java:128)\nat\nio.fabric8.jenkins.openshiftsync.GlobalPluginConfiguration.configChange(GlobalPluginConfiguration.java:123)\nat\nio.fabric8.jenkins.openshiftsync.GlobalPluginConfiguration.(GlobalPluginConfiguration.java:111)\nat\nio.fabric8.jenkins.openshiftsync.GlobalPluginConfiguration$$FastClassByGuice$$-1829337750.GUICE$TRAMPOLINE()\nat\nio.fabric8.jenkins.openshiftsync.GlobalPluginConfiguration$$FastClassByGuice$$-1829337750.apply()\nat\ncom.google.inject.internal.DefaultConstructionProxyFactory$FastClassProxy.newInstance(DefaultConstructionProxyFactory.java:82)\nat\ncom.google.inject.internal.ConstructorInjector.provision(ConstructorInjector.java:114)\nat\ncom.google.inject.internal.ConstructorInjector.access$000(ConstructorInjector.java:33)\nat\ncom.google.inject.internal.ConstructorInjector$1.call(ConstructorInjector.java:98)\nat\ncom.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:109)\nat\nhudson.ExtensionFinder$GuiceFinder$SezpozModule.onProvision(ExtensionFinder.java:568)\nat\ncom.google.inject.internal.ProvisionListenerStackCallback$Provision.provision(ProvisionListenerStackCallback.java:117)\nat\ncom.google.inject.internal.ProvisionListenerStackCallback.provision(ProvisionListenerStackCallback.java:66)\nat\ncom.google.inject.internal.ConstructorInjector.construct(ConstructorInjector.java:93)\nat\ncom.google.inject.internal.ConstructorBindingImpl$Factory.get(ConstructorBindingImpl.java:296)\nat\ncom.google.inject.internal.ProviderToInternalFactoryAdapter.get(ProviderToInternalFactoryAdapter.java:40)\nCaused: com.google.inject.ProvisionException: Unable to provision, see\nthe following errors:</p>\n<ol>\n<li>'okhttp3.OkHttpClient DefaultOpenShiftClient.getHttpClient()'   at\nGlobalPluginConfiguration.(GlobalPluginConfiguration.java:109)</li>\n</ol>\n</blockquote>\n<p>If I run into this error, my Jenkins controller can not connect to his agents anymore.\nAny idea wherer this comes from and why? Unfortunately, I can not just uninstall the okhttp Plugin, as it is depending on 2 others I need: github and blueocean...\nAnother hint: Before this error occurs, I get several 'Failed to start thread - warnings:</p>\n<pre><code>failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 512k, guardsize: 0k, detached.\n2022-05-24 09:11:36.768+0000 [id=26197] INFO    o.c.j.p.k.KubernetesSlave#deleteSlavePod: Terminated Kubernetes instance for agent bmf-central-ci-prod/generaljdk8-fabe-gj02j\n2022-05-24 09:11:36.768+0000 [id=26197] INFO    o.c.j.p.k.KubernetesSlave#_terminate: Disconnected computer generaljdk8-fabe-gj02j\n2022-05-24 09:11:36.769+0000 [id=26133] INFO    j.s.DefaultJnlpSlaveReceiver#channelClosed: Computer.threadPoolForRemoting [#561] for generaljdk8-fabe-gj02j terminated: java.nio.channels.ClosedChannelException\n2022-05-24 09:11:36.771+0000 [id=25980] INFO    o.j.p.workflow.job.WorkflowRun#finish: fabe/FABE DWH/fabe-st/feature%2F388355-Strafverfuegung-auf-Prod #1 completed: SUCCESS\n2022-05-24 09:11:36.996+0000 [id=26921] INFO    i.f.j.o.BuildSyncRunListener#onStarted: Run started: Fallbearbeitung (FABE)  FABE  fabe-st  feature/388355-Strafverfuegung-auf-Prod #2\n2022-05-24 09:11:36.996+0000 [id=26921] INFO    i.f.j.o.BuildSyncRunListener#onStarted: Not polling polling build job/fabe/job/FABE%20DWH/job/fabe-st/job/feature%252F388355-Strafverfuegung-auf-Prod/2/ as its not a WorkflowJob\n2022-05-24 09:11:37.236+0000 [id=26921] INFO    o.j.p.workflow.job.WorkflowRun#finish: fabe/FABE DWH/fabe-st/feature%2F388355-Strafverfuegung-auf-Prod #2 completed: FAILURE\n[18664.801s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 512k, guardsize: 0k, detached.\n2022-05-24 09:11:49.797+0000 [id=26448] INFO    o.c.j.p.k.KubernetesLauncher#launch: Waiting for agent to connect (60/1,000): general-s8fd4\n[18676.187s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 512k, guardsize: 0k, detached.\n[18676.197s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 512k, guardsize: 0k, detached.\n[18676.206s][warning][os,thread] Failed to start thread - pthread_create failed (EAGAIN) for attributes: stacksize: 512k, guardsize: 0k, detached.\n2022-05-24 09:11:54.287+0000 [id=21885] WARNING n.u.l.h.p.g.GitParameterDefinition#getTag: [ bmf-sa-pruefverwaltung/test ]  Download tags from the repository failed\njava.lang.OutOfMemoryError: unable to create native thread: possibly out of memory or process/resource limits reached\n</code></pre>\n<p>Only thing what helped so far was to restart the Jenkins Controller Pod manually :-/\nEven changing the ThreadStackSize did just reduce the occurance of the error, but not resolve it.</p>\n<p>Happy for any hints, thanks a lot in advance!!</p>\n"},{"tags":["java","xml","rule-engine"],"comments":[{"owner":{"account_id":2183308,"reputation":19305,"user_id":1932311,"display_name":"Yitzhak Khabinsky"},"score":0,"creation_date":1662049503,"post_id":73572599,"comment_id":129922055,"body_markdown":"XSD 1.1 processor is what you need. Take a look at Xerces-J .2.12.2","body":"XSD 1.1 processor is what you need. Take a look at Xerces-J .2.12.2"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662062222,"creation_date":1662062222,"answer_id":73574825,"question_id":73572599,"body_markdown":"You have pretty much described the capabilities of Schematron, with one exception: Schematron doesn&#39;t do streaming, so you may run out of memory. (There are multiple Schematron implementations, but that&#39;s a detail.)\r\n\r\nSome of the key ideas of Schematron were incorporated into XSD 1.1, and some XSD 1.1 engines are capable of streaming - provided that your validation rules don&#39;t require comparing the first element in the document with the last! There are two Java-based XSD 1.1 implementations, Xerces and Saxon - the latter is my company&#39;s product.","title":"Looking for Java based open source business rule engine for XML data validation","body":"<p>You have pretty much described the capabilities of Schematron, with one exception: Schematron doesn't do streaming, so you may run out of memory. (There are multiple Schematron implementations, but that's a detail.)</p>\n<p>Some of the key ideas of Schematron were incorporated into XSD 1.1, and some XSD 1.1 engines are capable of streaming - provided that your validation rules don't require comparing the first element in the document with the last! There are two Java-based XSD 1.1 implementations, Xerces and Saxon - the latter is my company's product.</p>\n"}],"owner":{"account_id":11479479,"reputation":3,"user_id":8414035,"display_name":"T.J"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662151219,"creation_date":1662049133,"question_id":73572599,"body_markdown":"I&#39;m looking for Java based open source business rule engine for XML data validation in enterprise application. I have following XML (simplified for example sake)\r\n\r\n\t&lt;Employees&gt;\r\n\t\t&lt;Employee&gt;\r\n\t\t\t&lt;EmployeeId&gt;1&lt;/EmployeeId&gt;\r\n\t\t\t&lt;FirstName&gt;Dave&lt;/Firstname&gt;\r\n\t\t\t&lt;MiddleName&gt;M&lt;/MiddleName&gt;\r\n\t\t\t&lt;LastName&gt;Doe&lt;/LastName&gt;\r\n\t\t\t&lt;!--\r\n\t\t\t\tOn this field validate:\r\n\t\t\t\t- Minimum base salaray is at least 50000\r\n\t\t\t\t- Maximum base salaray does not exceeds 100000\t\t\t\r\n\t\t\t--&gt;\r\n\t\t\t&lt;BaseSalary&gt;54000&lt;/BaseSalary&gt;\r\n\t\t\t&lt;!--\r\n\t\t\t\tOn this field validate:\r\n\t\t\t\t- Maximum bonuses does not exceeds 10000\t\t\t\r\n\t\t\t--&gt;\r\n\t\t\t&lt;Bonuses&gt;2000&lt;/Bonuses&gt;\r\n\t\t\t&lt;!--\r\n\t\t\t\tOn this field validate:\r\n\t\t\t\t- Maximum commission does not exceeds 50000\t\t\t\r\n\t\t\t--&gt;\r\n\t\t\t&lt;Commission&gt;4000&lt;/Commission&gt;\r\n\t\t\t&lt;!--\r\n\t\t\t\tOn this field validate:\r\n\t\t\t\t- BaseSalary + Bonuses + Commission = TotalComp\t\t\t\r\n\t\t\t--&gt;\r\n\t\t\t&lt;TotalComp&gt;60000&lt;/TotalComp&gt;\r\n\t\t&lt;/Employee&gt;\r\n\t\t&lt;Employee&gt;\r\n\t\t\t&lt;EmployeeId&gt;2&lt;/EmployeeId&gt;\r\n\t\t\t&lt;FirstName&gt;John&lt;/Firstname&gt;\r\n\t\t\t&lt;LastName&gt;Smith&lt;/LastName&gt;\r\n\t\t\t&lt;!--\r\n\t\t\t\tOn this field validate:\r\n\t\t\t\t- Minimum base salaray is at least 50000\r\n\t\t\t\t- Maximum base salaray does not exceeds 100000\t\t\t\r\n\t\t\t--&gt;\r\n\t\t\t&lt;BaseSalary&gt;60000&lt;/BaseSalary&gt;\r\n\t\t\t&lt;!--\r\n\t\t\t\tOn this field validate:\r\n\t\t\t\t- Maximum bonuses does not exceeds 10000\t\t\t\r\n\t\t\t--&gt;\r\n\t\t\t&lt;Bonuses&gt;4000&lt;/Bonuses&gt;\r\n\t\t\t&lt;!-- Since Commission tag doesn&#39;t exists commission validation should not trigger --&gt;\r\n\t\t\t&lt;!--\r\n\t\t\t\tOn this field validate:\r\n\t\t\t\t- BaseSalary + Bonuses + Commission = TotalComp\t\t\t\r\n\t\t\t--&gt;\r\n\t\t\t&lt;TotalComp&gt;64000&lt;/TotalComp&gt;\r\n\t\t&lt;/Employee&gt;\r\n\t\t&lt;Employee&gt;\r\n\t\t\t&lt;EmployeeId&gt;3&lt;/EmployeeId&gt;\r\n\t\t\t&lt;FirstName&gt;Thomas&lt;/Firstname&gt;\r\n\t\t\t&lt;MiddleName&gt;L&lt;/MiddleName&gt;\r\n\t\t\t&lt;LastName&gt;Johnson&lt;/LastName&gt;\r\n\t\t\t&lt;!--\r\n\t\t\t\tOn this field validate:\r\n\t\t\t\t- Minimum base salaray is at least 50000\r\n\t\t\t\t- Maximum base salaray does not exceeds 100000\t\t\t\r\n\t\t\t--&gt;\r\n\t\t\t&lt;BaseSalary&gt;60000&lt;/BaseSalary&gt;\r\n\t\t\t&lt;!--\r\n\t\t\t\tOn this field validate:\r\n\t\t\t\t- Maximum bonuses does not exceeds 10000\t\t\t\r\n\t\t\t--&gt;\r\n\t\t\t&lt;Bonuses&gt;5000&lt;/Bonuses&gt;\r\n\t\t\t&lt;!--\r\n\t\t\t\tOn this field validate:\r\n\t\t\t\t- Maximum commission does not exceeds 50000\t\t\t\r\n\t\t\t--&gt;\r\n\t\t\t&lt;Commission&gt;4000&lt;/Commission&gt;\r\n\t\t\t&lt;!--\r\n\t\t\t\tOn this field validate:\r\n\t\t\t\t- BaseSalary + Bonuses + Commission = TotalComp\t\t\t\r\n\t\t\t--&gt;\r\n\t\t\t&lt;TotalComp&gt;69000&lt;/TotalComp&gt;\r\n\t\t&lt;/Employee&gt;\r\n\t&lt;/Employees&gt;\r\n\r\nThe following is validation requirement:\r\n\r\n - Rule is tag based (eg employee #2 is missing Commission tag and there for no validations related with Commission data should be triggered)\r\n - Multiple rules can be attached to specific xml tag\r\n - Rule can validate multiple xml fields\r\n - Rules can be added/removed dynamically during runtime\r\n - The XML file size is anywhere between 100MB to 1GB so loading everything in the memory is not an option.\r\n - Some type of validation session to keep track of previous data/validation result (eg When validating employee #3, rules should have access to data/validation result from employee #1 and #2)\r\n\r\nThank you guys for the help!","title":"Looking for Java based open source business rule engine for XML data validation","body":"<p>I'm looking for Java based open source business rule engine for XML data validation in enterprise application. I have following XML (simplified for example sake)</p>\n<pre><code>&lt;Employees&gt;\n    &lt;Employee&gt;\n        &lt;EmployeeId&gt;1&lt;/EmployeeId&gt;\n        &lt;FirstName&gt;Dave&lt;/Firstname&gt;\n        &lt;MiddleName&gt;M&lt;/MiddleName&gt;\n        &lt;LastName&gt;Doe&lt;/LastName&gt;\n        &lt;!--\n            On this field validate:\n            - Minimum base salaray is at least 50000\n            - Maximum base salaray does not exceeds 100000          \n        --&gt;\n        &lt;BaseSalary&gt;54000&lt;/BaseSalary&gt;\n        &lt;!--\n            On this field validate:\n            - Maximum bonuses does not exceeds 10000            \n        --&gt;\n        &lt;Bonuses&gt;2000&lt;/Bonuses&gt;\n        &lt;!--\n            On this field validate:\n            - Maximum commission does not exceeds 50000         \n        --&gt;\n        &lt;Commission&gt;4000&lt;/Commission&gt;\n        &lt;!--\n            On this field validate:\n            - BaseSalary + Bonuses + Commission = TotalComp         \n        --&gt;\n        &lt;TotalComp&gt;60000&lt;/TotalComp&gt;\n    &lt;/Employee&gt;\n    &lt;Employee&gt;\n        &lt;EmployeeId&gt;2&lt;/EmployeeId&gt;\n        &lt;FirstName&gt;John&lt;/Firstname&gt;\n        &lt;LastName&gt;Smith&lt;/LastName&gt;\n        &lt;!--\n            On this field validate:\n            - Minimum base salaray is at least 50000\n            - Maximum base salaray does not exceeds 100000          \n        --&gt;\n        &lt;BaseSalary&gt;60000&lt;/BaseSalary&gt;\n        &lt;!--\n            On this field validate:\n            - Maximum bonuses does not exceeds 10000            \n        --&gt;\n        &lt;Bonuses&gt;4000&lt;/Bonuses&gt;\n        &lt;!-- Since Commission tag doesn't exists commission validation should not trigger --&gt;\n        &lt;!--\n            On this field validate:\n            - BaseSalary + Bonuses + Commission = TotalComp         \n        --&gt;\n        &lt;TotalComp&gt;64000&lt;/TotalComp&gt;\n    &lt;/Employee&gt;\n    &lt;Employee&gt;\n        &lt;EmployeeId&gt;3&lt;/EmployeeId&gt;\n        &lt;FirstName&gt;Thomas&lt;/Firstname&gt;\n        &lt;MiddleName&gt;L&lt;/MiddleName&gt;\n        &lt;LastName&gt;Johnson&lt;/LastName&gt;\n        &lt;!--\n            On this field validate:\n            - Minimum base salaray is at least 50000\n            - Maximum base salaray does not exceeds 100000          \n        --&gt;\n        &lt;BaseSalary&gt;60000&lt;/BaseSalary&gt;\n        &lt;!--\n            On this field validate:\n            - Maximum bonuses does not exceeds 10000            \n        --&gt;\n        &lt;Bonuses&gt;5000&lt;/Bonuses&gt;\n        &lt;!--\n            On this field validate:\n            - Maximum commission does not exceeds 50000         \n        --&gt;\n        &lt;Commission&gt;4000&lt;/Commission&gt;\n        &lt;!--\n            On this field validate:\n            - BaseSalary + Bonuses + Commission = TotalComp         \n        --&gt;\n        &lt;TotalComp&gt;69000&lt;/TotalComp&gt;\n    &lt;/Employee&gt;\n&lt;/Employees&gt;\n</code></pre>\n<p>The following is validation requirement:</p>\n<ul>\n<li>Rule is tag based (eg employee #2 is missing Commission tag and there for no validations related with Commission data should be triggered)</li>\n<li>Multiple rules can be attached to specific xml tag</li>\n<li>Rule can validate multiple xml fields</li>\n<li>Rules can be added/removed dynamically during runtime</li>\n<li>The XML file size is anywhere between 100MB to 1GB so loading everything in the memory is not an option.</li>\n<li>Some type of validation session to keep track of previous data/validation result (eg When validating employee #3, rules should have access to data/validation result from employee #1 and #2)</li>\n</ul>\n<p>Thank you guys for the help!</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":3,"creation_date":1662103689,"post_id":73579148,"comment_id":129932977,"body_markdown":"Initialize `total = number[0]`, start the loop at `t=1`, `total -= number[t];`.","body":"Initialize <code>total = number[0]</code>, start the loop at <code>t=1</code>, <code>total -= number[t];</code>."}],"answers":[{"tags":[],"owner":{"account_id":4647011,"reputation":41835,"user_id":3764965,"accept_rate":94,"display_name":"Nikolas Charalambidis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662103994,"creation_date":1662103994,"answer_id":73579228,"question_id":73579148,"body_markdown":"Change the 2nd loop to this:\r\n\r\n```java\r\ntotal = number[0];\r\nfor (int i=1; i&lt;number.length; i++) {\r\n\ttotal -= number[i];\r\n}\r\n```\r\n\r\nYou want to subtract the remaining array items from the first one. Therefore `total` in the beginning should be equal to the first item and in the loop subtract each consequent (start from the index `1`) item from the `total`.\r\n\r\nRemember the number of items in the array must be equal to or larger than 2.","title":"Subtracting all elements in single array Java","body":"<p>Change the 2nd loop to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>total = number[0];\nfor (int i=1; i&lt;number.length; i++) {\n    total -= number[i];\n}\n</code></pre>\n<p>You want to subtract the remaining array items from the first one. Therefore <code>total</code> in the beginning should be equal to the first item and in the loop subtract each consequent (start from the index <code>1</code>) item from the <code>total</code>.</p>\n<p>Remember the number of items in the array must be equal to or larger than 2.</p>\n"},{"tags":[],"owner":{"account_id":22039344,"reputation":1704,"user_id":16305340,"display_name":"abdo Salm"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662126146,"creation_date":1662126146,"answer_id":73583502,"question_id":73579148,"body_markdown":"this line is totally wrong : `total = number[t] - number[t+1];` as in the last loop \r\n\r\n**total = number[1] - number[2]** which will be equivalent to **total = 8 - 1 = 7** which is totally wrong because you have to accumulate the total variable .\r\n\r\nso as mentioned above the full correct answer code is :\r\n\r\n    \r\n        import java.util.Scanner;\r\n    \r\n        public class Main\r\n        {\r\n            public static void main(String[] args) {\r\n                Scanner in = new Scanner(System.in);\r\n    \r\n                int numberOT = 0;\r\n                int total =0;\r\n                System.out.println(&quot;Enter Number of times: &quot;);\r\n                numberOT =in.nextInt();\r\n    \r\n                int number[] = new int [numberOT];\r\n    \r\n                for(int i = 0; i&lt;numberOT; i++)\r\n                {\r\n                    System.out.println(&quot;Enter Number: &quot;);\r\n                    number[i] = in.nextInt();\r\n                }\r\n                total = number[0];\r\n                for (int i=1; i&lt;number.length; i++) {\r\n                    total = total - number[i];\r\n                }\r\n                System.out.println(&quot;total: &quot; + total);\r\n    \r\n            }\r\n        }\r\n    \r\nand here is image of the output:\r\n\r\n[![enter image description here][3]][1]\r\n\r\n\r\n  [3]: https://i.stack.imgur.com/8n2bG.png","title":"Subtracting all elements in single array Java","body":"<p>this line is totally wrong : <code>total = number[t] - number[t+1];</code> as in the last loop</p>\n<p><strong>total = number[1] - number[2]</strong> which will be equivalent to <strong>total = 8 - 1 = 7</strong> which is totally wrong because you have to accumulate the total variable .</p>\n<p>so as mentioned above the full correct answer code is :</p>\n<pre><code>    import java.util.Scanner;\n\n    public class Main\n    {\n        public static void main(String[] args) {\n            Scanner in = new Scanner(System.in);\n\n            int numberOT = 0;\n            int total =0;\n            System.out.println(&quot;Enter Number of times: &quot;);\n            numberOT =in.nextInt();\n\n            int number[] = new int [numberOT];\n\n            for(int i = 0; i&lt;numberOT; i++)\n            {\n                System.out.println(&quot;Enter Number: &quot;);\n                number[i] = in.nextInt();\n            }\n            total = number[0];\n            for (int i=1; i&lt;number.length; i++) {\n                total = total - number[i];\n            }\n            System.out.println(&quot;total: &quot; + total);\n\n        }\n    }\n</code></pre>\n<p>and here is image of the output:</p>\n<p>[<img src=\"https://i.stack.imgur.com/8n2bG.png\" alt=\"enter image description here\" />][1]</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662151114,"creation_date":1662151114,"answer_id":73587755,"question_id":73579148,"body_markdown":"Here is a one liner (computation wise) using streams. Take the first element, stream the array skipping the first element and subtract the sum of the remaining.\r\n```\r\nint[] arr = { 10, 8, 3, 1 };\r\nint sum = arr[0] - IntStream.of(arr).skip(1).sum();\r\nSystem.out.println(sum);\r\n```\r\nBut no matter how you do it, you have the potential for `int` overflow or underflow depending on the size of your values and the length of the array.\r\n","title":"Subtracting all elements in single array Java","body":"<p>Here is a one liner (computation wise) using streams. Take the first element, stream the array skipping the first element and subtract the sum of the remaining.</p>\n<pre><code>int[] arr = { 10, 8, 3, 1 };\nint sum = arr[0] - IntStream.of(arr).skip(1).sum();\nSystem.out.println(sum);\n</code></pre>\n<p>But no matter how you do it, you have the potential for <code>int</code> overflow or underflow depending on the size of your values and the length of the array.</p>\n"}],"owner":{"account_id":26225037,"reputation":1,"user_id":19901845,"display_name":"Gian"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":3,"score":-1,"last_activity_date":1662151114,"creation_date":1662103520,"question_id":73579148,"body_markdown":"Hi I&#39;m having trouble subtracting one array element to the next element to get the correct answer. The value of the array are given by the user.\r\n\r\nExample:\r\nIf the user wants to input 3 numbers which are 10, 8, 1\r\n10-8-1 = 1 \r\n\r\n    int numberOT = 0;\r\n    int total =0;\r\n    System.out.println(&quot;Enter Number of times: &quot;);\r\n    numberOT =in.nextInt();\r\n    \r\n    int number[] = new int [numberOT];\r\n\r\n\r\n    \r\n    for(int i = 0; i&lt;numberOT; i++)\r\n    {\r\n        System.out.println(&quot;Enter Number: &quot;);\r\n        number[i] = in.nextInt();\r\n    }\r\n    for(int t =0; t&lt;number.length-1; t++)\r\n    {\r\n      total = number[t] - number[t+1];\r\n    }\r\n    System.out.println(&quot;total: &quot; + total);\r\n\r\n","title":"Subtracting all elements in single array Java","body":"<p>Hi I'm having trouble subtracting one array element to the next element to get the correct answer. The value of the array are given by the user.</p>\n<p>Example:\nIf the user wants to input 3 numbers which are 10, 8, 1\n10-8-1 = 1</p>\n<pre><code>int numberOT = 0;\nint total =0;\nSystem.out.println(&quot;Enter Number of times: &quot;);\nnumberOT =in.nextInt();\n\nint number[] = new int [numberOT];\n\n\n\nfor(int i = 0; i&lt;numberOT; i++)\n{\n    System.out.println(&quot;Enter Number: &quot;);\n    number[i] = in.nextInt();\n}\nfor(int t =0; t&lt;number.length-1; t++)\n{\n  total = number[t] - number[t+1];\n}\nSystem.out.println(&quot;total: &quot; + total);\n</code></pre>\n"},{"tags":["java","floating-point","double","nan"],"comments":[{"owner":{"account_id":1458486,"reputation":2188,"user_id":1373468,"accept_rate":57,"display_name":"Robin Newhouse"},"score":1,"creation_date":1402705710,"post_id":7419241,"comment_id":37391905,"body_markdown":"I wouldn&#39;t say there&#39;s little practical purpose. For instance I am using this method to specify failed results in a table of doubles.","body":"I wouldn&#39;t say there&#39;s little practical purpose. For instance I am using this method to specify failed results in a table of doubles."}],"answers":[{"tags":[],"owner":{"account_id":202653,"reputation":54444,"user_id":449856,"accept_rate":88,"display_name":"Codemwnci"},"down_vote_count":0,"up_vote_count":28,"is_accepted":true,"score":28,"last_activity_date":1316015596,"creation_date":1316015596,"answer_id":7419271,"question_id":7419241,"body_markdown":"The Float object contains a static value, which is a `float` type, called `NaN`.\r\n\r\nSo\r\n\r\n    float myFloat = Float.NaN;\r\n\r\ngives you what you are asking.\r\n\r\nhttp://download.oracle.com/javase/6/docs/api/java/lang/Float.html#NaN","title":"Can float (or double) be set to NaN?","body":"<p>The Float object contains a static value, which is a <code>float</code> type, called <code>NaN</code>.</p>\n\n<p>So</p>\n\n<pre><code>float myFloat = Float.NaN;\n</code></pre>\n\n<p>gives you what you are asking.</p>\n\n<p><a href=\"http://download.oracle.com/javase/6/docs/api/java/lang/Float.html#NaN\" rel=\"noreferrer\">http://download.oracle.com/javase/6/docs/api/java/lang/Float.html#NaN</a></p>\n"},{"tags":[],"owner":{"account_id":7450,"reputation":269210,"user_id":12960,"display_name":"Brian Agnew"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1316016329,"creation_date":1316015635,"answer_id":7419277,"question_id":7419241,"body_markdown":"Yes\r\n\r\n    float f = Float.NaN;\r\n\r\nSee [the doc][1] for more info. Note that if you want to compare a number to NaN, you should use [isNan()][2].\r\n\r\nDespite your question above, this does have a practical purpose. You can use this to indicate a value hasn&#39;t been set/provided yet.\r\n\r\n\r\n  [1]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Float.html#NaN\r\n  [2]: http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Float.html#isNaN%28%29","title":"Can float (or double) be set to NaN?","body":"<p>Yes</p>\n\n<pre><code>float f = Float.NaN;\n</code></pre>\n\n<p>See <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Float.html#NaN\" rel=\"nofollow\">the doc</a> for more info. Note that if you want to compare a number to NaN, you should use <a href=\"http://download.oracle.com/javase/1.4.2/docs/api/java/lang/Float.html#isNaN%28%29\" rel=\"nofollow\">isNan()</a>.</p>\n\n<p>Despite your question above, this does have a practical purpose. You can use this to indicate a value hasn't been set/provided yet.</p>\n"},{"tags":[],"owner":{"account_id":425196,"reputation":11151,"user_id":805659,"accept_rate":70,"display_name":"japreiss"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1316015668,"creation_date":1316015668,"answer_id":7419287,"question_id":7419241,"body_markdown":"Sure!  NaN is a static constant in the Float and Double classes.\r\n\r\n    double x = Double.NaN;","title":"Can float (or double) be set to NaN?","body":"<p>Sure!  NaN is a static constant in the Float and Double classes.</p>\n\n<pre><code>double x = Double.NaN;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3994644,"reputation":1293,"user_id":3292527,"accept_rate":100,"display_name":"27P"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662148621,"creation_date":1662148621,"answer_id":73587424,"question_id":7419241,"body_markdown":"jshell&gt; double ddd=Double.NaN;\r\nddd ==&gt; NaN\r\n\r\njshell&gt; ddd!=ddd\r\n$5 ==&gt; true","title":"Can float (or double) be set to NaN?","body":"<p>jshell&gt; double ddd=Double.NaN;\nddd ==&gt; NaN</p>\n<p>jshell&gt; ddd!=ddd\n$5 ==&gt; true</p>\n"}],"owner":{"account_id":222225,"reputation":11371,"user_id":480691,"accept_rate":96,"display_name":"ahodder"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26539,"favorite_count":0,"down_vote_count":0,"up_vote_count":24,"accepted_answer_id":7419271,"answer_count":4,"score":24,"last_activity_date":1662148621,"creation_date":1316015459,"question_id":7419241,"body_markdown":"Note: Similar to https://stackoverflow.com/questions/3949457/c-can-int-be-nan\r\n\r\nI understand this has little practical purpose, but can a `float` or `double` be set to `NaN`?","title":"Can float (or double) be set to NaN?","body":"<p>Note: Similar to <a href=\"https://stackoverflow.com/questions/3949457/c-can-int-be-nan\">Can an integer be NaN in C++?</a></p>\n\n<p>I understand this has little practical purpose, but can a <code>float</code> or <code>double</code> be set to <code>NaN</code>?</p>\n"},{"tags":["java","random","double"],"comments":[{"owner":{"account_id":4972895,"reputation":331,"user_id":4000104,"display_name":"Guy Kobrinsky"},"score":0,"creation_date":1551108545,"post_id":6409652,"comment_id":96510203,"body_markdown":"Was working on a project that tackles this problem, check benchmarks: https://github.com/guyko/weighted-lottery","body":"Was working on a project that tackles this problem, check benchmarks: <a href=\"https://github.com/guyko/weighted-lottery\" rel=\"nofollow noreferrer\">github.com/guyko/weighted-lottery</a>"}],"answers":[{"tags":[],"owner":{"account_id":70734,"reputation":14669,"user_id":204845,"accept_rate":68,"display_name":"Arne Deutsch"},"down_vote_count":3,"up_vote_count":33,"is_accepted":false,"score":30,"last_activity_date":1411679966,"creation_date":1308565276,"answer_id":6409767,"question_id":6409652,"body_markdown":"You will not find a framework for this kind of problem, as the requested functionality is nothing more then a simple function. Do something like this:\r\n\r\n    interface Item {\r\n        double getWeight();\r\n    }\r\n    \r\n    class RandomItemChooser {\r\n        public Item chooseOnWeight(List&lt;Item&gt; items) {\r\n            double completeWeight = 0.0;\r\n            for (Item item : items)\r\n                completeWeight += item.getWeight();\r\n            double r = Math.random() * completeWeight;\r\n            double countWeight = 0.0;\r\n            for (Item item : items) {\r\n                countWeight += item.getWeight();\r\n                if (countWeight &gt;= r)\r\n                    return item;\r\n            }\r\n            throw new RuntimeException(&quot;Should never be shown.&quot;);\r\n        }\r\n    }\r\n","title":"Random weighted selection in Java","body":"<p>You will not find a framework for this kind of problem, as the requested functionality is nothing more then a simple function. Do something like this:</p>\n\n<pre><code>interface Item {\n    double getWeight();\n}\n\nclass RandomItemChooser {\n    public Item chooseOnWeight(List&lt;Item&gt; items) {\n        double completeWeight = 0.0;\n        for (Item item : items)\n            completeWeight += item.getWeight();\n        double r = Math.random() * completeWeight;\n        double countWeight = 0.0;\n        for (Item item : items) {\n            countWeight += item.getWeight();\n            if (countWeight &gt;= r)\n                return item;\n        }\n        throw new RuntimeException(\"Should never be shown.\");\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":134,"is_accepted":false,"score":134,"last_activity_date":1497813133,"creation_date":1308565410,"answer_id":6409791,"question_id":6409652,"body_markdown":"I would use a NavigableMap\r\n\r\n    public class RandomCollection&lt;E&gt; {\r\n        private final NavigableMap&lt;Double, E&gt; map = new TreeMap&lt;Double, E&gt;();\r\n        private final Random random;\r\n        private double total = 0;\r\n    \r\n        public RandomCollection() {\r\n            this(new Random());\r\n        }\r\n    \r\n        public RandomCollection(Random random) {\r\n            this.random = random;\r\n        }\r\n        \r\n        public RandomCollection&lt;E&gt; add(double weight, E result) {\r\n            if (weight &lt;= 0) return this;\r\n            total += weight;\r\n            map.put(total, result);\r\n            return this;\r\n        }\r\n        \r\n        public E next() {\r\n            double value = random.nextDouble() * total;\r\n            return map.higherEntry(value).getValue();\r\n        }\r\n    }\r\n\r\n&gt; Say I have a list of animals dog, cat, horse with probabilities as 40%, 35%, 25% respectively\r\n\r\n    RandomCollection&lt;String&gt; rc = new RandomCollection&lt;&gt;()\r\n                                  .add(40, &quot;dog&quot;).add(35, &quot;cat&quot;).add(25, &quot;horse&quot;);\r\n\r\n    for (int i = 0; i &lt; 10; i++) {\r\n        System.out.println(rc.next());\r\n    } \r\n\r\n","title":"Random weighted selection in Java","body":"<p>I would use a NavigableMap</p>\n\n<pre><code>public class RandomCollection&lt;E&gt; {\n    private final NavigableMap&lt;Double, E&gt; map = new TreeMap&lt;Double, E&gt;();\n    private final Random random;\n    private double total = 0;\n\n    public RandomCollection() {\n        this(new Random());\n    }\n\n    public RandomCollection(Random random) {\n        this.random = random;\n    }\n\n    public RandomCollection&lt;E&gt; add(double weight, E result) {\n        if (weight &lt;= 0) return this;\n        total += weight;\n        map.put(total, result);\n        return this;\n    }\n\n    public E next() {\n        double value = random.nextDouble() * total;\n        return map.higherEntry(value).getValue();\n    }\n}\n</code></pre>\n\n<blockquote>\n  <p>Say I have a list of animals dog, cat, horse with probabilities as 40%, 35%, 25% respectively</p>\n</blockquote>\n\n<pre><code>RandomCollection&lt;String&gt; rc = new RandomCollection&lt;&gt;()\n                              .add(40, \"dog\").add(35, \"cat\").add(25, \"horse\");\n\nfor (int i = 0; i &lt; 10; i++) {\n    System.out.println(rc.next());\n} \n</code></pre>\n"},{"tags":[],"owner":{"account_id":1555295,"reputation":2107,"user_id":1446667,"display_name":"kdkeck"},"down_vote_count":0,"up_vote_count":54,"is_accepted":false,"score":54,"last_activity_date":1571922237,"creation_date":1432166553,"answer_id":30362366,"question_id":6409652,"body_markdown":"There is now a class for this in Apache Commons: [EnumeratedDistribution][1]\r\n\r\n    Item selectedItem = new EnumeratedDistribution&lt;&gt;(itemWeights).sample();\r\n\r\nwhere `itemWeights` is a `List&lt;Pair&lt;Item, Double&gt;&gt;`, like (assuming `Item` interface in Arne&#39;s answer):\r\n\r\n    final List&lt;Pair&lt;Item, Double&gt;&gt; itemWeights = Collections.newArrayList();\r\n    for (Item i: itemSet) {\r\n        itemWeights.add(new Pair(i, i.getWeight()));\r\n    }\r\n\r\nor in Java 8:\r\n\r\n    itemSet.stream().map(i -&gt; new Pair(i, i.getWeight())).collect(toList());\r\n\r\n*Note:* `Pair` here needs to be `org.apache.commons.math3.util.Pair`, not `org.apache.commons.lang3.tuple.Pair`.\r\n\r\n  [1]: http://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/distribution/EnumeratedDistribution.html","title":"Random weighted selection in Java","body":"<p>There is now a class for this in Apache Commons: <a href=\"http://commons.apache.org/proper/commons-math/javadocs/api-3.3/org/apache/commons/math3/distribution/EnumeratedDistribution.html\" rel=\"noreferrer\">EnumeratedDistribution</a></p>\n\n<pre><code>Item selectedItem = new EnumeratedDistribution&lt;&gt;(itemWeights).sample();\n</code></pre>\n\n<p>where <code>itemWeights</code> is a <code>List&lt;Pair&lt;Item, Double&gt;&gt;</code>, like (assuming <code>Item</code> interface in Arne's answer):</p>\n\n<pre><code>final List&lt;Pair&lt;Item, Double&gt;&gt; itemWeights = Collections.newArrayList();\nfor (Item i: itemSet) {\n    itemWeights.add(new Pair(i, i.getWeight()));\n}\n</code></pre>\n\n<p>or in Java 8:</p>\n\n<pre><code>itemSet.stream().map(i -&gt; new Pair(i, i.getWeight())).collect(toList());\n</code></pre>\n\n<p><em>Note:</em> <code>Pair</code> here needs to be <code>org.apache.commons.math3.util.Pair</code>, not <code>org.apache.commons.lang3.tuple.Pair</code>.</p>\n"},{"tags":[],"owner":{"account_id":60521,"reputation":34336,"user_id":180719,"accept_rate":88,"display_name":"Olivier Gr&#233;goire"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1438440212,"creation_date":1438439796,"answer_id":31762995,"question_id":6409652,"body_markdown":"Use an alias method\r\n===================\r\n\r\nIf you&#39;re gonna roll a lot of times (as in a game), you should use an alias method.\r\n\r\nThe code below is rather long implementation of such an alias method, indeed. But this is because of the initialization part. The retrieval of elements is very fast (see the `next` and the `applyAsInt` methods they don&#39;t loop).\r\n\r\nUsage\r\n-----\r\n\r\n    Set&lt;Item&gt; items = ... ;\r\n    ToDoubleFunction&lt;Item&gt; weighter = ... ;\r\n\r\n    Random random = new Random();\r\n    \r\n    RandomSelector&lt;T&gt; selector = RandomSelector.weighted(items, weighter);\r\n    Item drop = selector.next(random);\r\n\r\nImplementation\r\n--------------\r\n\r\nThis implementation:\r\n\r\n* uses **Java 8**;\r\n* is designed to be **as fast as possible** (well, at least, I tried to do so using micro-benchmarking);\r\n* is totally **thread-safe** (keep one `Random` in each thread for maximum performance, use `ThreadLocalRandom`?);\r\n* **fetches elements in O(1)**, unlike what you mostly find on the internet or on StackOverflow, where naive implementations run in O(n) or O(log(n));\r\n* keeps the **items independant from their weight**, so an item can be assigned various weights in different contexts.\r\n\r\nAnyways, here&#39;s the code. (Note that [I maintain an up to date version of this class](https://github.com/ogregoire/fror-common/blob/master/src/main/java/be/fror/common/collection/RandomSelector.java).)\r\n\r\n    import static java.util.Objects.requireNonNull;\r\n\r\n    import java.util.*;\r\n    import java.util.function.*;\r\n\r\n    public final class RandomSelector&lt;T&gt; {\r\n\r\n      public static &lt;T&gt; RandomSelector&lt;T&gt; weighted(Set&lt;T&gt; elements, ToDoubleFunction&lt;? super T&gt; weighter)\r\n          throws IllegalArgumentException {\r\n        requireNonNull(elements, &quot;elements must not be null&quot;);\r\n        requireNonNull(weighter, &quot;weighter must not be null&quot;);\r\n        if (elements.isEmpty()) { throw new IllegalArgumentException(&quot;elements must not be empty&quot;); }\r\n\r\n        // Array is faster than anything. Use that.\r\n        int size = elements.size();\r\n        T[] elementArray = elements.toArray((T[]) new Object[size]);\r\n\r\n        double totalWeight = 0d;\r\n        double[] discreteProbabilities = new double[size];\r\n\r\n        // Retrieve the probabilities\r\n        for (int i = 0; i &lt; size; i++) {\r\n          double weight = weighter.applyAsDouble(elementArray[i]);\r\n          if (weight &lt; 0.0d) { throw new IllegalArgumentException(&quot;weighter may not return a negative number&quot;); }\r\n          discreteProbabilities[i] = weight;\r\n          totalWeight += weight;\r\n        }\r\n        if (totalWeight == 0.0d) { throw new IllegalArgumentException(&quot;the total weight of elements must be greater than 0&quot;); }\r\n\r\n        // Normalize the probabilities\r\n        for (int i = 0; i &lt; size; i++) {\r\n          discreteProbabilities[i] /= totalWeight;\r\n        }\r\n        return new RandomSelector&lt;&gt;(elementArray, new RandomWeightedSelection(discreteProbabilities));\r\n      }\r\n\r\n      private final T[] elements;\r\n      private final ToIntFunction&lt;Random&gt; selection;\r\n\r\n      private RandomSelector(T[] elements, ToIntFunction&lt;Random&gt; selection) {\r\n        this.elements = elements;\r\n        this.selection = selection;\r\n      }\r\n\r\n      public T next(Random random) {\r\n        return elements[selection.applyAsInt(random)];\r\n      }\r\n\r\n      private static class RandomWeightedSelection implements ToIntFunction&lt;Random&gt; {\r\n        // Alias method implementation O(1)\r\n        // using Vose&#39;s algorithm to initialize O(n)\r\n\r\n        private final double[] probabilities;\r\n        private final int[] alias;\r\n\r\n        RandomWeightedSelection(double[] probabilities) {\r\n          int size = probabilities.length;\r\n\r\n          double average = 1.0d / size;\r\n          int[] small = new int[size];\r\n          int smallSize = 0;\r\n          int[] large = new int[size];\r\n          int largeSize = 0;\r\n\r\n          // Describe a column as either small (below average) or large (above average).\r\n          for (int i = 0; i &lt; size; i++) {\r\n            if (probabilities[i] &lt; average) {\r\n              small[smallSize++] = i;\r\n            } else {\r\n              large[largeSize++] = i;\r\n            }\r\n          }\r\n\r\n          // For each column, saturate a small probability to average with a large probability.\r\n          while (largeSize != 0 &amp;&amp; smallSize != 0) {\r\n            int less = small[--smallSize];\r\n            int more = large[--largeSize];\r\n            probabilities[less] = probabilities[less] * size;\r\n            alias[less] = more;\r\n            probabilities[more] += probabilities[less] - average;\r\n            if (probabilities[more] &lt; average) {\r\n              small[smallSize++] = more;\r\n            } else {\r\n              large[largeSize++] = more;\r\n            }\r\n          }\r\n          \r\n          // Flush unused columns.\r\n          while (smallSize != 0) {\r\n            probabilities[small[--smallSize]] = 1.0d;\r\n          }\r\n          while (largeSize != 0) {\r\n            probabilities[large[--largeSize]] = 1.0d;\r\n          }\r\n        }\r\n\r\n        @Override public int applyAsInt(Random random) {\r\n          // Call random once to decide which column will be used.\r\n          int column = random.nextInt(probabilities.length);\r\n          \r\n          // Call random a second time to decide which will be used: the column or the alias.\r\n          if (random.nextDouble() &lt; probabilities[column]) {\r\n            return column;\r\n          } else {\r\n            return alias[column];\r\n          }\r\n        }\r\n      }\r\n    }","title":"Random weighted selection in Java","body":"<h1>Use an alias method</h1>\n\n<p>If you're gonna roll a lot of times (as in a game), you should use an alias method.</p>\n\n<p>The code below is rather long implementation of such an alias method, indeed. But this is because of the initialization part. The retrieval of elements is very fast (see the <code>next</code> and the <code>applyAsInt</code> methods they don't loop).</p>\n\n<h2>Usage</h2>\n\n<pre><code>Set&lt;Item&gt; items = ... ;\nToDoubleFunction&lt;Item&gt; weighter = ... ;\n\nRandom random = new Random();\n\nRandomSelector&lt;T&gt; selector = RandomSelector.weighted(items, weighter);\nItem drop = selector.next(random);\n</code></pre>\n\n<h2>Implementation</h2>\n\n<p>This implementation:</p>\n\n<ul>\n<li>uses <strong>Java 8</strong>;</li>\n<li>is designed to be <strong>as fast as possible</strong> (well, at least, I tried to do so using micro-benchmarking);</li>\n<li>is totally <strong>thread-safe</strong> (keep one <code>Random</code> in each thread for maximum performance, use <code>ThreadLocalRandom</code>?);</li>\n<li><strong>fetches elements in O(1)</strong>, unlike what you mostly find on the internet or on StackOverflow, where naive implementations run in O(n) or O(log(n));</li>\n<li>keeps the <strong>items independant from their weight</strong>, so an item can be assigned various weights in different contexts.</li>\n</ul>\n\n<p>Anyways, here's the code. (Note that <a href=\"https://github.com/ogregoire/fror-common/blob/master/src/main/java/be/fror/common/collection/RandomSelector.java\" rel=\"noreferrer\">I maintain an up to date version of this class</a>.)</p>\n\n<pre><code>import static java.util.Objects.requireNonNull;\n\nimport java.util.*;\nimport java.util.function.*;\n\npublic final class RandomSelector&lt;T&gt; {\n\n  public static &lt;T&gt; RandomSelector&lt;T&gt; weighted(Set&lt;T&gt; elements, ToDoubleFunction&lt;? super T&gt; weighter)\n      throws IllegalArgumentException {\n    requireNonNull(elements, \"elements must not be null\");\n    requireNonNull(weighter, \"weighter must not be null\");\n    if (elements.isEmpty()) { throw new IllegalArgumentException(\"elements must not be empty\"); }\n\n    // Array is faster than anything. Use that.\n    int size = elements.size();\n    T[] elementArray = elements.toArray((T[]) new Object[size]);\n\n    double totalWeight = 0d;\n    double[] discreteProbabilities = new double[size];\n\n    // Retrieve the probabilities\n    for (int i = 0; i &lt; size; i++) {\n      double weight = weighter.applyAsDouble(elementArray[i]);\n      if (weight &lt; 0.0d) { throw new IllegalArgumentException(\"weighter may not return a negative number\"); }\n      discreteProbabilities[i] = weight;\n      totalWeight += weight;\n    }\n    if (totalWeight == 0.0d) { throw new IllegalArgumentException(\"the total weight of elements must be greater than 0\"); }\n\n    // Normalize the probabilities\n    for (int i = 0; i &lt; size; i++) {\n      discreteProbabilities[i] /= totalWeight;\n    }\n    return new RandomSelector&lt;&gt;(elementArray, new RandomWeightedSelection(discreteProbabilities));\n  }\n\n  private final T[] elements;\n  private final ToIntFunction&lt;Random&gt; selection;\n\n  private RandomSelector(T[] elements, ToIntFunction&lt;Random&gt; selection) {\n    this.elements = elements;\n    this.selection = selection;\n  }\n\n  public T next(Random random) {\n    return elements[selection.applyAsInt(random)];\n  }\n\n  private static class RandomWeightedSelection implements ToIntFunction&lt;Random&gt; {\n    // Alias method implementation O(1)\n    // using Vose's algorithm to initialize O(n)\n\n    private final double[] probabilities;\n    private final int[] alias;\n\n    RandomWeightedSelection(double[] probabilities) {\n      int size = probabilities.length;\n\n      double average = 1.0d / size;\n      int[] small = new int[size];\n      int smallSize = 0;\n      int[] large = new int[size];\n      int largeSize = 0;\n\n      // Describe a column as either small (below average) or large (above average).\n      for (int i = 0; i &lt; size; i++) {\n        if (probabilities[i] &lt; average) {\n          small[smallSize++] = i;\n        } else {\n          large[largeSize++] = i;\n        }\n      }\n\n      // For each column, saturate a small probability to average with a large probability.\n      while (largeSize != 0 &amp;&amp; smallSize != 0) {\n        int less = small[--smallSize];\n        int more = large[--largeSize];\n        probabilities[less] = probabilities[less] * size;\n        alias[less] = more;\n        probabilities[more] += probabilities[less] - average;\n        if (probabilities[more] &lt; average) {\n          small[smallSize++] = more;\n        } else {\n          large[largeSize++] = more;\n        }\n      }\n\n      // Flush unused columns.\n      while (smallSize != 0) {\n        probabilities[small[--smallSize]] = 1.0d;\n      }\n      while (largeSize != 0) {\n        probabilities[large[--largeSize]] = 1.0d;\n      }\n    }\n\n    @Override public int applyAsInt(Random random) {\n      // Call random once to decide which column will be used.\n      int column = random.nextInt(probabilities.length);\n\n      // Call random a second time to decide which will be used: the column or the alias.\n      if (random.nextDouble() &lt; probabilities[column]) {\n        return column;\n      } else {\n        return alias[column];\n      }\n    }\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1424821,"reputation":92,"user_id":1348631,"display_name":"ronen"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1480028315,"creation_date":1480028315,"answer_id":40795540,"question_id":6409652,"body_markdown":"\r\n\r\n    public class RandomCollection&lt;E&gt; {\r\n      private final NavigableMap&lt;Double, E&gt; map = new TreeMap&lt;Double, E&gt;();\r\n      private double total = 0;\r\n      \r\n      public void add(double weight, E result) {\r\n        if (weight &lt;= 0 || map.containsValue(result))\r\n          return;\r\n        total += weight;\r\n        map.put(total, result);\r\n      }\r\n    \r\n      public E next() {\r\n        double value = ThreadLocalRandom.current().nextDouble() * total;\r\n        return map.ceilingEntry(value).getValue();\r\n      }\r\n    }\r\n\r\n","title":"Random weighted selection in Java","body":"<pre><code>public class RandomCollection&lt;E&gt; {\n  private final NavigableMap&lt;Double, E&gt; map = new TreeMap&lt;Double, E&gt;();\n  private double total = 0;\n\n  public void add(double weight, E result) {\n    if (weight &lt;= 0 || map.containsValue(result))\n      return;\n    total += weight;\n    map.put(total, result);\n  }\n\n  public E next() {\n    double value = ThreadLocalRandom.current().nextDouble() * total;\n    return map.ceilingEntry(value).getValue();\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14557797,"reputation":1,"user_id":15045764,"display_name":"Geovani Lopes Dias"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662148601,"creation_date":1662148121,"answer_id":73587365,"question_id":6409652,"body_markdown":"A simple (even naive?), but (as I believe) straightforward method:\r\n\r\n    /**\r\n    * Draws an integer between a given range (excluding the upper limit).\r\n    * &lt;p&gt;\r\n    * Simulates Python&#39;s randint method.\r\n    * \r\n    * @param min: the smallest value to be drawed.\r\n    * @param max: the biggest value to be drawed.\r\n    * @return The value drawn.\r\n    */\r\n    public static int randomInt(int min, int max)\r\n        {return (int) (min + Math.random()*max);}\r\n\r\n    /**\r\n     * Tests wether a given matrix has all its inner vectors\r\n     * has the same passed and expected lenght.\r\n     * @param matrix: the matrix from which the vectors length will be measured.\r\n     * @param expectedLenght: the length each vector should have.\r\n     * @return false if at least one vector has a different length.\r\n     */\r\n    public static boolean haveAllVectorsEqualLength(int[][] matrix, int expectedLenght){\r\n        for(int[] vector: matrix){if (vector.length != expectedLenght) {return false;}}\r\n        return true;\r\n    }\r\n\r\n    /**\r\n    * Draws an integer between a given range\r\n    * by weighted values.\r\n    * \r\n    * @param ticketBlock: matrix with limits and weights for the drawing. All its\r\n    * vectors should have lenght two. The weights, instead of percentages, should be\r\n    * measured as integers, according to how rare each one should be draw, the rarest\r\n    * receiving the smallest value.\r\n    * @return The value drawn.\r\n    */\r\n    public static int weightedRandomInt(int[][] ticketBlock) throws RuntimeException {\r\n        boolean theVectorsHaventAllLengthTwo = !(haveAllVectorsEqualLength(ticketBlock, 2));\r\n        if (theVectorsHaventAllLengthTwo)\r\n            {throw new RuntimeException(&quot;The given matrix has, at least, one vector with length lower or higher than two.&quot;);}\r\n        // Need to test for duplicates or null values in ticketBlock!\r\n        \r\n        // Raffle urn building:\r\n        int raffleUrnSize = 0, urnIndex = 0, blockIndex = 0, repetitionCount = 0;\r\n        for(int[] ticket: ticketBlock){raffleUrnSize += ticket[1];}\r\n        int[] raffleUrn = new int[raffleUrnSize];\r\n        \r\n        // Raffle urn filling:\r\n        while (urnIndex &lt; raffleUrn.length){\r\n            do {\r\n                raffleUrn[urnIndex] = ticketBlock[blockIndex][0];\r\n                urnIndex++; repetitionCount++;\r\n            } while (repetitionCount &lt; ticketBlock[blockIndex][1]);\r\n            repetitionCount = 0; blockIndex++;\r\n        }\r\n        \r\n        return raffleUrn[randomInt(0, raffleUrn.length)];\r\n    }","title":"Random weighted selection in Java","body":"<p>A simple (even naive?), but (as I believe) straightforward method:</p>\n<pre><code>/**\n* Draws an integer between a given range (excluding the upper limit).\n* &lt;p&gt;\n* Simulates Python's randint method.\n* \n* @param min: the smallest value to be drawed.\n* @param max: the biggest value to be drawed.\n* @return The value drawn.\n*/\npublic static int randomInt(int min, int max)\n    {return (int) (min + Math.random()*max);}\n\n/**\n * Tests wether a given matrix has all its inner vectors\n * has the same passed and expected lenght.\n * @param matrix: the matrix from which the vectors length will be measured.\n * @param expectedLenght: the length each vector should have.\n * @return false if at least one vector has a different length.\n */\npublic static boolean haveAllVectorsEqualLength(int[][] matrix, int expectedLenght){\n    for(int[] vector: matrix){if (vector.length != expectedLenght) {return false;}}\n    return true;\n}\n\n/**\n* Draws an integer between a given range\n* by weighted values.\n* \n* @param ticketBlock: matrix with limits and weights for the drawing. All its\n* vectors should have lenght two. The weights, instead of percentages, should be\n* measured as integers, according to how rare each one should be draw, the rarest\n* receiving the smallest value.\n* @return The value drawn.\n*/\npublic static int weightedRandomInt(int[][] ticketBlock) throws RuntimeException {\n    boolean theVectorsHaventAllLengthTwo = !(haveAllVectorsEqualLength(ticketBlock, 2));\n    if (theVectorsHaventAllLengthTwo)\n        {throw new RuntimeException(&quot;The given matrix has, at least, one vector with length lower or higher than two.&quot;);}\n    // Need to test for duplicates or null values in ticketBlock!\n    \n    // Raffle urn building:\n    int raffleUrnSize = 0, urnIndex = 0, blockIndex = 0, repetitionCount = 0;\n    for(int[] ticket: ticketBlock){raffleUrnSize += ticket[1];}\n    int[] raffleUrn = new int[raffleUrnSize];\n    \n    // Raffle urn filling:\n    while (urnIndex &lt; raffleUrn.length){\n        do {\n            raffleUrn[urnIndex] = ticketBlock[blockIndex][0];\n            urnIndex++; repetitionCount++;\n        } while (repetitionCount &lt; ticketBlock[blockIndex][1]);\n        repetitionCount = 0; blockIndex++;\n    }\n    \n    return raffleUrn[randomInt(0, raffleUrn.length)];\n}\n</code></pre>\n"}],"owner":{"account_id":768748,"reputation":887,"user_id":804611,"display_name":"yosi"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48686,"favorite_count":0,"down_vote_count":2,"up_vote_count":88,"answer_count":6,"score":86,"last_activity_date":1662148601,"creation_date":1308564413,"question_id":6409652,"body_markdown":"I want to choose a random item from a set, but the chance of choosing any item should be proportional to the associated weight\r\n\r\nExample inputs:\r\n\r\n    item                weight\r\n    ----                ------\r\n    sword of misery         10\r\n    shield of happy          5\r\n    potion of dying          6\r\n    triple-edged sword       1\r\n\r\n\r\nSo, if I have 4 possible items, the chance of getting any one item without weights would be 1 in 4.\r\n\r\nIn this case, a user should be 10 times more likely to get the sword of misery than the triple-edged sword.\r\n\r\nHow do I make a weighted random selection in Java?","title":"Random weighted selection in Java","body":"<p>I want to choose a random item from a set, but the chance of choosing any item should be proportional to the associated weight</p>\n\n<p>Example inputs:</p>\n\n<pre><code>item                weight\n----                ------\nsword of misery         10\nshield of happy          5\npotion of dying          6\ntriple-edged sword       1\n</code></pre>\n\n<p>So, if I have 4 possible items, the chance of getting any one item without weights would be 1 in 4.</p>\n\n<p>In this case, a user should be 10 times more likely to get the sword of misery than the triple-edged sword.</p>\n\n<p>How do I make a weighted random selection in Java?</p>\n"},{"tags":["java","load-testing","gatling"],"answers":[{"tags":[],"owner":{"account_id":1134950,"reputation":718,"user_id":1120192,"accept_rate":94,"display_name":"Srini"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662148430,"creation_date":1662148430,"answer_id":73587398,"question_id":73562142,"body_markdown":"sign method works fine,i was applying sign with HttpProtocolBuilder, but it supposed to be http in ScenariooBuilder, the syntax is something like this\r\n\r\n      ScenarioBuilder users = scenario(&quot;Users&quot;).exec(http(&quot;initiation&quot;).post(ENDPOINT).sign(request -&gt; {\r\n            Map&lt;String, String&gt; headers = LoadTestHelper.getAuthHeaders();\r\n\r\n            for (Map.Entry&lt;String,String&gt; entry : headers.entrySet())\r\n            {\r\n                request.getHeaders().add(entry.getKey(), entry.getValue());\r\n            }\r\n        }).body(StringBody(payload)).check(status().is(200)));","title":"Gatling HttpProtocolBuilder sign request with auth header for each request","body":"<p>sign method works fine,i was applying sign with HttpProtocolBuilder, but it supposed to be http in ScenariooBuilder, the syntax is something like this</p>\n<pre><code>  ScenarioBuilder users = scenario(&quot;Users&quot;).exec(http(&quot;initiation&quot;).post(ENDPOINT).sign(request -&gt; {\n        Map&lt;String, String&gt; headers = LoadTestHelper.getAuthHeaders();\n\n        for (Map.Entry&lt;String,String&gt; entry : headers.entrySet())\n        {\n            request.getHeaders().add(entry.getKey(), entry.getValue());\n        }\n    }).body(StringBody(payload)).check(status().is(200)));\n</code></pre>\n"}],"owner":{"account_id":1134950,"reputation":718,"user_id":1120192,"accept_rate":94,"display_name":"Srini"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":258,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73587398,"answer_count":1,"score":0,"last_activity_date":1662148430,"creation_date":1661981781,"question_id":73562142,"body_markdown":"As aws auth signatures are expiring in 5 mins, i would like to refresh auth headers for long running tests, either for every less than 5 mins or for each request, i tried http.sign method, but it does not get invoked for some reason\r\n\r\nhere is how the code looks\r\n\r\n```\r\nHttpProtocolBuilder httpProtocol = LoadTestHelper.getHttpProtocolBuilder(ENDPOINT);\r\nString payload = &quot;JSON payload&quot;;\r\nScenarioBuilder users = scenario(&quot;Users&quot;).exec(http(&quot;initiation&quot;).post(ENDPOINT).headers(getAuthHeaders()).body(StringBody(payload)).check(status().is(200)));\r\nusers.injectOpen(rampUsersPerSec(1).to(LOAD_USERS).during(Duration.ofSeconds(LOAD_DURATION)))\r\n```\r\n\r\n\r\n","title":"Gatling HttpProtocolBuilder sign request with auth header for each request","body":"<p>As aws auth signatures are expiring in 5 mins, i would like to refresh auth headers for long running tests, either for every less than 5 mins or for each request, i tried http.sign method, but it does not get invoked for some reason</p>\n<p>here is how the code looks</p>\n<pre><code>HttpProtocolBuilder httpProtocol = LoadTestHelper.getHttpProtocolBuilder(ENDPOINT);\nString payload = &quot;JSON payload&quot;;\nScenarioBuilder users = scenario(&quot;Users&quot;).exec(http(&quot;initiation&quot;).post(ENDPOINT).headers(getAuthHeaders()).body(StringBody(payload)).check(status().is(200)));\nusers.injectOpen(rampUsersPerSec(1).to(LOAD_USERS).during(Duration.ofSeconds(LOAD_DURATION)))\n</code></pre>\n"},{"tags":["java","apache-kafka","akka"],"comments":[{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":1,"creation_date":1662084059,"post_id":73568366,"comment_id":129929661,"body_markdown":"That graph is the eden space of the heap (where small newly-allocated objects live).  The usage of eden space (which is typically small) tells you nothing about overall heap space.","body":"That graph is the eden space of the heap (where small newly-allocated objects live).  The usage of eden space (which is typically small) tells you nothing about overall heap space."},{"owner":{"account_id":5994994,"reputation":19189,"user_id":5641244,"display_name":"Levi Ramsey"},"score":1,"creation_date":1662084196,"post_id":73568366,"comment_id":129929685,"body_markdown":"In short, you almost certainly are running out of heap space.","body":"In short, you almost certainly are running out of heap space."}],"owner":{"account_id":16237094,"reputation":131,"user_id":11724337,"display_name":"hermanjakobsen"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662148292,"creation_date":1662030581,"question_id":73568366,"body_markdown":"I am running a Kafka application with Akka. The application is hosted in OpenShift and the applications quite sporadically throws Java Heap Space errors: \r\n\r\n&gt; Uncaught error from thread [transparency_16_1_a_ecp_aggregator-akka.actor.default-dispatcher-4]: Java heap space, shutting down JVM since &#39;akka.jvm-exit-on-fatal-error&#39; is enabled for ActorSystem[transparency_16_1_a_ecp_aggregator]\r\n\r\n&gt; java.lang.OutOfMemoryError: Java heap space at java.base/java.nio.HeapByteBuffer.&lt;init&gt;(Unknown Source) at java.base/java.nio.ByteBuffer.allocate(Unknown Source) at org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30) at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113) at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452) at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402) at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674) at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576) at org.apache.kafka.common.network.Selector.poll(Selector.java:481) at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236) at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1306) at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1242) at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1215) at KafkaGeneratingUnitsRepository.getGeneratingUnits(KafkaGeneratingUnitsRepository.java:84) at .GeneratingUnitsConsumerActor.consumeGeneratingUnits(GeneratingUnitsConsumerActor.java:65) at actor.GeneratingUnitsConsumerActor$$Lambda$633/0x00000001005d2440.apply(Unknown Source) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:24) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:20) at scala.PartialFunction.applyOrElse(PartialFunction.scala:214) at scala.PartialFunction.applyOrElse$(PartialFunction.scala:213) at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:20) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:269) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:270) at akka.actor.Actor.aroundReceive(Actor.scala:537) at akka.actor.Actor.aroundReceive$(Actor.scala:535) at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:220) at akka.actor.ActorCell.receiveMessage(ActorCell.scala:580) at akka.actor.ActorCell.invoke(ActorCell.scala:548) at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270) at akka.dispatch.Mailbox.run(Mailbox.scala:231)\r\n\r\nWhich leads to \r\n\r\n&gt;  java.lang.OutOfMemoryError: Java heap space at java.base/java.nio.HeapByteBuffer.&lt;init&gt;(Unknown Source) at java.base/java.nio.ByteBuffer.allocate(Unknown Source) at org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30) at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113) at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452) at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402) at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674) at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576) at org.apache.kafka.common.network.Selector.poll(Selector.java:481) at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.pollNoWakeup(ConsumerNetworkClient.java:306) at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.maybeLeaveGroup(AbstractCoordinator.java:1114) at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.close(AbstractCoordinator.java:1074) at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.close(ConsumerCoordinator.java:980) at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2411) at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2378) at KafkaGeneratingUnitsRepository.getGeneratingUnits(KafkaGeneratingUnitsRepository.java:92) at actor.GeneratingUnitsConsumerActor.consumeGeneratingUnits(GeneratingUnitsConsumerActor.java:65) at \r\nactor.GeneratingUnitsConsumerActor$$Lambda$633/0x00000001005d2440.apply(Unknown Source) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:24) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:20) at scala.PartialFunction.applyOrElse(PartialFunction.scala:214) at scala.PartialFunction.applyOrElse$(PartialFunction.scala:213) at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:20) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:269) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:270) at akka.actor.Actor.aroundReceive(Actor.scala:537) at akka.actor.Actor.aroundReceive$(Actor.scala:535) at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:220) at akka.actor.ActorCell.receiveMessage(ActorCell.scala:580) at akka.actor.ActorCell.invoke(ActorCell.scala:548)\r\n\r\nand \r\n\r\n&gt;  org.apache.kafka.common.KafkaException: Failed to close kafka consumer at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2430) at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2378) at repository.KafkaGeneratingUnitsRepository.getGeneratingUnits(KafkaGeneratingUnitsRepository.java:92) at actor.GeneratingUnitsConsumerActor.consumeGeneratingUnits(GeneratingUnitsConsumerActor.java:65) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:24) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:20) at scala.PartialFunction.applyOrElse(PartialFunction.scala:214) at scala.PartialFunction.applyOrElse$(PartialFunction.scala:213) at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:20) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:269) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:270) at akka.actor.Actor.aroundReceive(Actor.scala:537) at akka.actor.Actor.aroundReceive$(Actor.scala:535) at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:220) at akka.actor.ActorCell.receiveMessage(ActorCell.scala:580) at akka.actor.ActorCell.invoke(ActorCell.scala:548) at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270) at akka.dispatch.Mailbox.run(Mailbox.scala:231) at akka.dispatch.Mailbox.exec(Mailbox.scala:243) at java.base/java.util.concurrent.ForkJoinTask.doExec(Unknown Source) at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source) at java.base/java.util.concurrent.ForkJoinPool.scan(Unknown Source) at java.base/java.util.concurrent.ForkJoinPool.runWorker(Unknown Source) at java.base/java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source) Caused by: java.lang.OutOfMemoryError: Java heap space at java.base/java.nio.HeapByteBuffer.&lt;init&gt;(Unknown Source) at java.base/java.nio.ByteBuffer.allocate(Unknown Source) at org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30) at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113) at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452) at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402) at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674) at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576) at org.apache.kafka.common.network.Selector.poll(Selector.java:481) at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.pollNoWakeup(ConsumerNetworkClient.java:306) at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.maybeLeaveGroup(AbstractCoordinator.java:1114) at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.close(AbstractCoordinator.java:1074) at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.close(ConsumerCoordinator.java:980) at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2411) at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2378) at repository.KafkaGeneratingUnitsRepository.getGeneratingUnits(KafkaGeneratingUnitsRepository.java:92) at actor.GeneratingUnitsConsumerActor.consumeGeneratingUnits(GeneratingUnitsConsumerActor.java:65) at \r\nactor.GeneratingUnitsConsumerActor$$Lambda$633/0x00000001005d2440.apply(Unknown Source) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:24) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:20) at scala.PartialFunction.applyOrElse(PartialFunction.scala:214) at scala.PartialFunction.applyOrElse$(PartialFunction.scala:213) at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:20) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:269) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:270) at akka.actor.Actor.aroundReceive(Actor.scala:537) at akka.actor.Actor.aroundReceive$(Actor.scala:535) at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:220) at akka.actor.ActorCell.receiveMessage(ActorCell.scala:580) at akka.actor.ActorCell.invoke(ActorCell.scala:548)\r\n\r\nLooking at the pod&#39;s memory usage \r\n[![memory usage][1]][1]\r\nit does not look like a Heap Space error should be thrown? What could be the cause of the error? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L4R4J.png","title":"Why does Kafka Akka Actor give Java Heap Space Error?","body":"<p>I am running a Kafka application with Akka. The application is hosted in OpenShift and the applications quite sporadically throws Java Heap Space errors:</p>\n<blockquote>\n<p>Uncaught error from thread [transparency_16_1_a_ecp_aggregator-akka.actor.default-dispatcher-4]: Java heap space, shutting down JVM since 'akka.jvm-exit-on-fatal-error' is enabled for ActorSystem[transparency_16_1_a_ecp_aggregator]</p>\n</blockquote>\n<blockquote>\n<p>java.lang.OutOfMemoryError: Java heap space at java.base/java.nio.HeapByteBuffer.(Unknown Source) at java.base/java.nio.ByteBuffer.allocate(Unknown Source) at org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30) at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113) at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452) at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402) at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674) at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576) at org.apache.kafka.common.network.Selector.poll(Selector.java:481) at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:236) at org.apache.kafka.clients.consumer.KafkaConsumer.pollForFetches(KafkaConsumer.java:1306) at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1242) at org.apache.kafka.clients.consumer.KafkaConsumer.poll(KafkaConsumer.java:1215) at KafkaGeneratingUnitsRepository.getGeneratingUnits(KafkaGeneratingUnitsRepository.java:84) at .GeneratingUnitsConsumerActor.consumeGeneratingUnits(GeneratingUnitsConsumerActor.java:65) at actor.GeneratingUnitsConsumerActor$$Lambda$633/0x00000001005d2440.apply(Unknown Source) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:24) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:20) at scala.PartialFunction.applyOrElse(PartialFunction.scala:214) at scala.PartialFunction.applyOrElse$(PartialFunction.scala:213) at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:20) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:269) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:270) at akka.actor.Actor.aroundReceive(Actor.scala:537) at akka.actor.Actor.aroundReceive$(Actor.scala:535) at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:220) at akka.actor.ActorCell.receiveMessage(ActorCell.scala:580) at akka.actor.ActorCell.invoke(ActorCell.scala:548) at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270) at akka.dispatch.Mailbox.run(Mailbox.scala:231)</p>\n</blockquote>\n<p>Which leads to</p>\n<blockquote>\n<p>java.lang.OutOfMemoryError: Java heap space at java.base/java.nio.HeapByteBuffer.(Unknown Source) at java.base/java.nio.ByteBuffer.allocate(Unknown Source) at org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30) at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113) at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452) at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402) at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674) at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576) at org.apache.kafka.common.network.Selector.poll(Selector.java:481) at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.pollNoWakeup(ConsumerNetworkClient.java:306) at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.maybeLeaveGroup(AbstractCoordinator.java:1114) at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.close(AbstractCoordinator.java:1074) at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.close(ConsumerCoordinator.java:980) at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2411) at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2378) at KafkaGeneratingUnitsRepository.getGeneratingUnits(KafkaGeneratingUnitsRepository.java:92) at actor.GeneratingUnitsConsumerActor.consumeGeneratingUnits(GeneratingUnitsConsumerActor.java:65) at\nactor.GeneratingUnitsConsumerActor$$Lambda$633/0x00000001005d2440.apply(Unknown Source) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:24) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:20) at scala.PartialFunction.applyOrElse(PartialFunction.scala:214) at scala.PartialFunction.applyOrElse$(PartialFunction.scala:213) at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:20) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:269) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:270) at akka.actor.Actor.aroundReceive(Actor.scala:537) at akka.actor.Actor.aroundReceive$(Actor.scala:535) at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:220) at akka.actor.ActorCell.receiveMessage(ActorCell.scala:580) at akka.actor.ActorCell.invoke(ActorCell.scala:548)</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>org.apache.kafka.common.KafkaException: Failed to close kafka consumer at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2430) at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2378) at repository.KafkaGeneratingUnitsRepository.getGeneratingUnits(KafkaGeneratingUnitsRepository.java:92) at actor.GeneratingUnitsConsumerActor.consumeGeneratingUnits(GeneratingUnitsConsumerActor.java:65) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:24) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:20) at scala.PartialFunction.applyOrElse(PartialFunction.scala:214) at scala.PartialFunction.applyOrElse$(PartialFunction.scala:213) at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:20) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:269) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:270) at akka.actor.Actor.aroundReceive(Actor.scala:537) at akka.actor.Actor.aroundReceive$(Actor.scala:535) at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:220) at akka.actor.ActorCell.receiveMessage(ActorCell.scala:580) at akka.actor.ActorCell.invoke(ActorCell.scala:548) at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:270) at akka.dispatch.Mailbox.run(Mailbox.scala:231) at akka.dispatch.Mailbox.exec(Mailbox.scala:243) at java.base/java.util.concurrent.ForkJoinTask.doExec(Unknown Source) at java.base/java.util.concurrent.ForkJoinPool$WorkQueue.topLevelExec(Unknown Source) at java.base/java.util.concurrent.ForkJoinPool.scan(Unknown Source) at java.base/java.util.concurrent.ForkJoinPool.runWorker(Unknown Source) at java.base/java.util.concurrent.ForkJoinWorkerThread.run(Unknown Source) Caused by: java.lang.OutOfMemoryError: Java heap space at java.base/java.nio.HeapByteBuffer.(Unknown Source) at java.base/java.nio.ByteBuffer.allocate(Unknown Source) at org.apache.kafka.common.memory.MemoryPool$1.tryAllocate(MemoryPool.java:30) at org.apache.kafka.common.network.NetworkReceive.readFrom(NetworkReceive.java:113) at org.apache.kafka.common.network.KafkaChannel.receive(KafkaChannel.java:452) at org.apache.kafka.common.network.KafkaChannel.read(KafkaChannel.java:402) at org.apache.kafka.common.network.Selector.attemptRead(Selector.java:674) at org.apache.kafka.common.network.Selector.pollSelectionKeys(Selector.java:576) at org.apache.kafka.common.network.Selector.poll(Selector.java:481) at org.apache.kafka.clients.NetworkClient.poll(NetworkClient.java:560) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.poll(ConsumerNetworkClient.java:265) at org.apache.kafka.clients.consumer.internals.ConsumerNetworkClient.pollNoWakeup(ConsumerNetworkClient.java:306) at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.maybeLeaveGroup(AbstractCoordinator.java:1114) at org.apache.kafka.clients.consumer.internals.AbstractCoordinator.close(AbstractCoordinator.java:1074) at org.apache.kafka.clients.consumer.internals.ConsumerCoordinator.close(ConsumerCoordinator.java:980) at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2411) at org.apache.kafka.clients.consumer.KafkaConsumer.close(KafkaConsumer.java:2378) at repository.KafkaGeneratingUnitsRepository.getGeneratingUnits(KafkaGeneratingUnitsRepository.java:92) at actor.GeneratingUnitsConsumerActor.consumeGeneratingUnits(GeneratingUnitsConsumerActor.java:65) at\nactor.GeneratingUnitsConsumerActor$$Lambda$633/0x00000001005d2440.apply(Unknown Source) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:24) at akka.japi.pf.UnitCaseStatement.apply(CaseStatements.scala:20) at scala.PartialFunction.applyOrElse(PartialFunction.scala:214) at scala.PartialFunction.applyOrElse$(PartialFunction.scala:213) at akka.japi.pf.UnitCaseStatement.applyOrElse(CaseStatements.scala:20) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:269) at scala.PartialFunction$OrElse.applyOrElse(PartialFunction.scala:270) at akka.actor.Actor.aroundReceive(Actor.scala:537) at akka.actor.Actor.aroundReceive$(Actor.scala:535) at akka.actor.AbstractActor.aroundReceive(AbstractActor.scala:220) at akka.actor.ActorCell.receiveMessage(ActorCell.scala:580) at akka.actor.ActorCell.invoke(ActorCell.scala:548)</p>\n</blockquote>\n<p>Looking at the pod's memory usage\n<a href=\"https://i.stack.imgur.com/L4R4J.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L4R4J.png\" alt=\"memory usage\" /></a>\nit does not look like a Heap Space error should be thrown? What could be the cause of the error?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1511329222,"post_id":47427518,"comment_id":81809485,"body_markdown":"Have you considered writing some code to restructure your data?","body":"Have you considered writing some code to restructure your data?"},{"owner":{"account_id":4790390,"reputation":1022,"user_id":3869736,"display_name":"Akhil S Kamath"},"score":0,"creation_date":1511329376,"post_id":47427518,"comment_id":81809536,"body_markdown":"based on which id ?","body":"based on which id ?"},{"owner":{"account_id":12315450,"reputation":43,"user_id":8985913,"accept_rate":20,"display_name":"BMAM"},"score":0,"creation_date":1511331017,"post_id":47427518,"comment_id":81810171,"body_markdown":"I need like this buildings-&gt;floors-&gt;routers","body":"I need like this buildings-&gt;floors-&gt;routers"},{"owner":{"account_id":12315450,"reputation":43,"user_id":8985913,"accept_rate":20,"display_name":"BMAM"},"score":0,"creation_date":1511331081,"post_id":47427518,"comment_id":81810200,"body_markdown":"{\n    &quot;buildings&quot;: [\n        {\n            &quot;building_id&quot;: &quot;2&quot;,\n            &quot;floors&quot;: [\n                {\n                    &quot;floor_id&quot;: &quot;20&quot;,\n                    &quot;routers&quot;: [\n                        {\n                            &quot;router_id&quot;: &quot;1&quot;,\n                            &quot;router_name&quot;: &quot;a&quot;\n                        },\n                        {\n                            &quot;router_id&quot;: &quot;2&quot;,\n                            &quot;router_name&quot;: &quot;b&quot;\n                        }\n                    ]\n                }\n            ]\n        }\n    ]\n}","body":"{     &quot;buildings&quot;: [         {             &quot;building_id&quot;: &quot;2&quot;,             &quot;floors&quot;: [                 {                     &quot;floor_id&quot;: &quot;20&quot;,                     &quot;routers&quot;: [                         {                             &quot;router_id&quot;: &quot;1&quot;,                             &quot;router_name&quot;: &quot;a&quot;                         },                         {                             &quot;router_id&quot;: &quot;2&quot;,                             &quot;router_name&quot;: &quot;b&quot;                         }                     ]                 }             ]         }     ] }"},{"owner":{"account_id":475873,"reputation":1685,"user_id":886465,"accept_rate":61,"display_name":"ajc"},"score":0,"creation_date":1511357299,"post_id":47427518,"comment_id":81826050,"body_markdown":"What you want to do is unflatten a json object.. Look something on these lines &gt; https://stackoverflow.com/questions/19098797/fastest-way-to-flatten-un-flatten-nested-json-objects","body":"What you want to do is unflatten a json object.. Look something on these lines &gt; <a href=\"https://stackoverflow.com/questions/19098797/fastest-way-to-flatten-un-flatten-nested-json-objects\" title=\"fastest way to flatten un flatten nested json objects\">stackoverflow.com/questions/19098797/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662147993,"creation_date":1662147993,"answer_id":73587341,"question_id":47427518,"body_markdown":"https://github.com/octomix/josson  \r\n\r\n    List&lt;Object[]&gt; list = query.list();\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    ArrayNode array = mapper.createArrayNode();\r\n    \r\n    for(Object[] rows: list) {\r\n        ObjectNode object = mapper.createObjectNode();\r\n        object.put(&quot;building_id&quot;, rows[0].toString());\r\n        object.put(&quot;floor_id&quot;, rows[1].toString());\r\n        object.put(&quot;router_id&quot;, rows[2].toString());\r\n        object.put(&quot;router_name&quot;, rows[3].toString());\r\n        array.add(object);\r\n    }\r\n\r\n    Josson josson = Josson.create(array);\r\n    JsonNode node = josson.getNode(\r\n        &quot;group(building_id).map(&quot; +\r\n        &quot;    building_id,&quot; +\r\n        &quot;    floors: elements.group(floor_id).map(&quot; +\r\n        &quot;        floor_id,&quot; +\r\n        &quot;        routers: elements.map(&quot; +\r\n        &quot;            router_id, router_name)&quot; +\r\n        &quot;    )&quot; +\r\n        &quot;)&quot; +\r\n        &quot;.toObject(&#39;buildings&#39;)&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;buildings&quot; : [ {\r\n        &quot;building_id&quot; : &quot;2&quot;,\r\n        &quot;floors&quot; : [ {\r\n          &quot;floor_id&quot; : &quot;20&quot;,\r\n          &quot;routers&quot; : [ {\r\n            &quot;router_id&quot; : &quot;1101&quot;,\r\n            &quot;router_name&quot; : &quot;1101&quot;\r\n          }, {\r\n            &quot;router_id&quot; : &quot;1102&quot;,\r\n            &quot;router_name&quot; : &quot;1102&quot;\r\n          }, {\r\n            &quot;router_id&quot; : &quot;0&quot;,\r\n            &quot;router_name&quot; : &quot;pancoordinator&quot;\r\n          }, {\r\n            &quot;router_id&quot; : &quot;1104&quot;,\r\n            &quot;router_name&quot; : &quot;1104&quot;\r\n          } ]\r\n        } ]\r\n      } ]\r\n    }","title":"how to rearrange the json array based on id in java","body":"<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>List&lt;Object[]&gt; list = query.list();\nObjectMapper mapper = new ObjectMapper();\nArrayNode array = mapper.createArrayNode();\n\nfor(Object[] rows: list) {\n    ObjectNode object = mapper.createObjectNode();\n    object.put(&quot;building_id&quot;, rows[0].toString());\n    object.put(&quot;floor_id&quot;, rows[1].toString());\n    object.put(&quot;router_id&quot;, rows[2].toString());\n    object.put(&quot;router_name&quot;, rows[3].toString());\n    array.add(object);\n}\n\nJosson josson = Josson.create(array);\nJsonNode node = josson.getNode(\n    &quot;group(building_id).map(&quot; +\n    &quot;    building_id,&quot; +\n    &quot;    floors: elements.group(floor_id).map(&quot; +\n    &quot;        floor_id,&quot; +\n    &quot;        routers: elements.map(&quot; +\n    &quot;            router_id, router_name)&quot; +\n    &quot;    )&quot; +\n    &quot;)&quot; +\n    &quot;.toObject('buildings')&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;buildings&quot; : [ {\n    &quot;building_id&quot; : &quot;2&quot;,\n    &quot;floors&quot; : [ {\n      &quot;floor_id&quot; : &quot;20&quot;,\n      &quot;routers&quot; : [ {\n        &quot;router_id&quot; : &quot;1101&quot;,\n        &quot;router_name&quot; : &quot;1101&quot;\n      }, {\n        &quot;router_id&quot; : &quot;1102&quot;,\n        &quot;router_name&quot; : &quot;1102&quot;\n      }, {\n        &quot;router_id&quot; : &quot;0&quot;,\n        &quot;router_name&quot; : &quot;pancoordinator&quot;\n      }, {\n        &quot;router_id&quot; : &quot;1104&quot;,\n        &quot;router_name&quot; : &quot;1104&quot;\n      } ]\n    } ]\n  } ]\n}\n</code></pre>\n"}],"owner":{"account_id":12315450,"reputation":43,"user_id":8985913,"accept_rate":20,"display_name":"BMAM"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":152,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662147993,"creation_date":1511329095,"question_id":47427518,"body_markdown":"I want to rearrange the JSON , now i am getting like this :\r\n\r\n`[{&quot;router_id&quot;:&quot;1101&quot;,&quot;floor_id&quot;:&quot;20&quot;,&quot;building_id&quot;:&quot;2&quot;,&quot;router_name&quot;:&quot;1101&quot;}, {&quot;router_id&quot;:&quot;1102&quot;,&quot;floor_id&quot;:&quot;20&quot;,&quot;building_id&quot;:&quot;2&quot;,&quot;router_name&quot;:&quot;1102&quot;},{&quot;router_id&quot;:&quot;0&quot;,&quot;floor_id&quot;:&quot;20&quot;,&quot;building_id&quot;:&quot;2&quot;,&quot;router_name&quot;:&quot;pancoordinator&quot;}, {&quot;router_id&quot;:&quot;1104&quot;,&quot;floor_id&quot;:&quot;20&quot;,&quot;building_id&quot;:&quot;2&quot;,&quot;router_name&quot;:&quot;1104&quot;}]`\r\n\r\n\r\n\r\nBut i need JSON like following one : \r\n \r\n`{&quot;buildings&quot;: [{&quot;building_id&quot;: &quot;2&quot;,&quot;floors&quot;: [{&quot;floor_id&quot;: &quot;20&quot;,&quot;routers&quot;: [{&quot;router_id&quot;:&quot;1&quot;,&quot;router_name&quot;: &quot;a&quot;},{&quot;router_id&quot;:&quot;2&quot;,&quot;router_name&quot;: &quot;b&quot;}]}]}]}`\r\n\r\nThis is my code :\r\n \r\n        @Override\r\n\t    public List&lt;JSONObject&gt; getFullRouterList() throws Exception {\r\n\r\n\t\tSystem.out.println(&quot;in dao of getFullRouterList &quot;);\r\n\t\tsession = sessionFactory.openSession();\r\n\t\ttx = session.beginTransaction();\r\n\t\tString sql = &quot;SELECT building_id, floor_id, router_id, router_name FROM router_details&quot;;\r\n\t\tSQLQuery query = session.createSQLQuery(sql);\r\n\t\t\r\n\t\tList&lt;Object[]&gt; list = query.list();\r\n\t\tList&lt;JSONObject&gt; result = new ArrayList&lt;&gt;();\r\n\t\t\r\n\t\tfor(Object[] rows: list) {\r\n\t\t\tJSONObject jsonObject = new JSONObject();\r\n\t\t\tjsonObject.put(&quot;building_id&quot;, rows[0].toString());\r\n\t\t\tjsonObject.put(&quot;floor_id&quot;, rows[1].toString());\r\n\t\t\tjsonObject.put(&quot;router_id&quot;, rows[2].toString());\r\n\t\t\tjsonObject.put(&quot;router_name&quot;, rows[3].toString());\r\n\t\t\tresult.add(jsonObject);\r\n\t\t}\r\n\t\t\r\n\t\ttx.commit();\r\n\t\tsession.close();\r\n\t\treturn result;\t\r\n\t}","title":"how to rearrange the json array based on id in java","body":"<p>I want to rearrange the JSON , now i am getting like this :</p>\n\n<p><code>[{\"router_id\":\"1101\",\"floor_id\":\"20\",\"building_id\":\"2\",\"router_name\":\"1101\"}, {\"router_id\":\"1102\",\"floor_id\":\"20\",\"building_id\":\"2\",\"router_name\":\"1102\"},{\"router_id\":\"0\",\"floor_id\":\"20\",\"building_id\":\"2\",\"router_name\":\"pancoordinator\"}, {\"router_id\":\"1104\",\"floor_id\":\"20\",\"building_id\":\"2\",\"router_name\":\"1104\"}]</code></p>\n\n<p>But i need JSON like following one : </p>\n\n<p><code>{\"buildings\": [{\"building_id\": \"2\",\"floors\": [{\"floor_id\": \"20\",\"routers\": [{\"router_id\":\"1\",\"router_name\": \"a\"},{\"router_id\":\"2\",\"router_name\": \"b\"}]}]}]}</code></p>\n\n<p>This is my code :</p>\n\n<pre><code>    @Override\n    public List&lt;JSONObject&gt; getFullRouterList() throws Exception {\n\n    System.out.println(\"in dao of getFullRouterList \");\n    session = sessionFactory.openSession();\n    tx = session.beginTransaction();\n    String sql = \"SELECT building_id, floor_id, router_id, router_name FROM router_details\";\n    SQLQuery query = session.createSQLQuery(sql);\n\n    List&lt;Object[]&gt; list = query.list();\n    List&lt;JSONObject&gt; result = new ArrayList&lt;&gt;();\n\n    for(Object[] rows: list) {\n        JSONObject jsonObject = new JSONObject();\n        jsonObject.put(\"building_id\", rows[0].toString());\n        jsonObject.put(\"floor_id\", rows[1].toString());\n        jsonObject.put(\"router_id\", rows[2].toString());\n        jsonObject.put(\"router_name\", rows[3].toString());\n        result.add(jsonObject);\n    }\n\n    tx.commit();\n    session.close();\n    return result;  \n}\n</code></pre>\n"},{"tags":["java","maven","netbeans","command-line-interface"],"comments":[{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1508326110,"post_id":46808926,"comment_id":80565195,"body_markdown":"read this https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder","body":"read this <a href=\"https://stackoverflow.com/questions/7421612/slf4j-failed-to-load-class-org-slf4j-impl-staticloggerbinder\" title=\"slf4j failed to load class org slf4j impl staticloggerbinder\">stackoverflow.com/questions/7421612/&hellip;</a>"},{"owner":{"account_id":10510744,"reputation":277,"user_id":7746544,"accept_rate":100,"display_name":"Lurker"},"score":0,"creation_date":1508326947,"post_id":46808926,"comment_id":80565690,"body_markdown":"I added maven dependencies for `slf4j-api-1.7.5` and `slf4j-simple-1.7.5`, but still have the same problem, even after mvn clean install","body":"I added maven dependencies for <code>slf4j-api-1.7.5</code> and <code>slf4j-simple-1.7.5</code>, but still have the same problem, even after mvn clean install"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1508327062,"post_id":46808926,"comment_id":80565765,"body_markdown":"did you update your project and check force updates snapshot and releases ?","body":"did you update your project and check force updates snapshot and releases ?"},{"owner":{"account_id":10510744,"reputation":277,"user_id":7746544,"accept_rate":100,"display_name":"Lurker"},"score":0,"creation_date":1508327214,"post_id":46808926,"comment_id":80565868,"body_markdown":"I tried `mvn clean install -U` and Netbeans&#39; `Download declared dependencies`... still the same. Is there any other way to update the project?","body":"I tried <code>mvn clean install -U</code> and Netbeans&#39; <code>Download declared dependencies</code>... still the same. Is there any other way to update the project?"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1508327315,"post_id":46808926,"comment_id":80565929,"body_markdown":"right click on your project-&gt;Maven-&gt;update project-&gt;check force update of snapshot and releases and then click ok","body":"right click on your project-&gt;Maven-&gt;update project-&gt;check force update of snapshot and releases and then click ok"},{"owner":{"account_id":10510744,"reputation":277,"user_id":7746544,"accept_rate":100,"display_name":"Lurker"},"score":0,"creation_date":1508327570,"post_id":46808926,"comment_id":80566096,"body_markdown":"I don&#39;t have these options in NetBeans 8.2","body":"I don&#39;t have these options in NetBeans 8.2"},{"owner":{"account_id":4346143,"reputation":1759,"user_id":3548035,"accept_rate":83,"display_name":"Lokesh Pandey"},"score":0,"creation_date":1508327687,"post_id":46808926,"comment_id":80566180,"body_markdown":"Oh!! these steps are for eclipse, check how you could force to update the snapshot and releases in netbeans else delete the .m2 folder and update your maven once again","body":"Oh!! these steps are for eclipse, check how you could force to update the snapshot and releases in netbeans else delete the .m2 folder and update your maven once again"},{"owner":{"account_id":10510744,"reputation":277,"user_id":7746544,"accept_rate":100,"display_name":"Lurker"},"score":0,"creation_date":1508327813,"post_id":46808926,"comment_id":80566263,"body_markdown":"Let us [continue this discussion in chat](http://chat.stackoverflow.com/rooms/156999/discussion-between-lurker-and-lokesh).","body":"Let us <a href=\"http://chat.stackoverflow.com/rooms/156999/discussion-between-lurker-and-lokesh\">continue this discussion in chat</a>."}],"answers":[{"tags":[],"owner":{"account_id":4144215,"reputation":89,"user_id":3398469,"display_name":"Max Alekseev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1508328938,"creation_date":1508328938,"answer_id":46809967,"question_id":46808926,"body_markdown":"That&#39;s because java doesn&#39;t know where to take this libs from. Few options: \r\n\r\n1. Construct jar with all your dependencies included (so called uber-jar). This is done with maven shade plugin. Docs are available here: https://maven.apache.org/components/plugins/maven-shade-plugin/examples/executable-jar.html\r\n\r\n2. Do java -jar &lt;your jar&gt; -cp &lt;list of extaernal files&gt;\r\nDocs are here: http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\r\n\r\nFirst option is definitely better :) I guess there should be plenty of examples on stackoverflow how to configure maven-shade-plugin. Like this: \r\nhttps://stackoverflow.com/questions/13620281/what-is-the-maven-shade-plugin-used-for-and-why-would-you-want-to-relocate-java","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: when running with console. Possibly Maven-related","body":"<p>That's because java doesn't know where to take this libs from. Few options: </p>\n\n<ol>\n<li><p>Construct jar with all your dependencies included (so called uber-jar). This is done with maven shade plugin. Docs are available here: <a href=\"https://maven.apache.org/components/plugins/maven-shade-plugin/examples/executable-jar.html\" rel=\"nofollow noreferrer\">https://maven.apache.org/components/plugins/maven-shade-plugin/examples/executable-jar.html</a></p></li>\n<li><p>Do java -jar  -cp \nDocs are here: <a href=\"http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html\" rel=\"nofollow noreferrer\">http://docs.oracle.com/javase/7/docs/technotes/tools/windows/classpath.html</a></p></li>\n</ol>\n\n<p>First option is definitely better :) I guess there should be plenty of examples on stackoverflow how to configure maven-shade-plugin. Like this: \n<a href=\"https://stackoverflow.com/questions/13620281/what-is-the-maven-shade-plugin-used-for-and-why-would-you-want-to-relocate-java\">What is the maven-shade-plugin used for, and why would you want to relocate java packages?</a></p>\n"},{"tags":[],"owner":{"account_id":25833642,"reputation":1,"user_id":19570362,"display_name":"Aaron924"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662147888,"creation_date":1662147888,"answer_id":73587329,"question_id":46808926,"body_markdown":"## With gradle\r\nThis can be fixed by using the [shadow plugin](https://github.com/johnrengelman/shadow) and building your jar with shadowJar instead. The jar will then be present in the build/libs directory with a name like example-1.0-all.jar\r\n## With Maven \r\nYou need the [shade plugin](https://maven.apache.org/plugins/maven-shade-plugin/) in your pom to add dependencies to your package task. You can see the shade plugin being applied in this [example pom.xml](https://gist.github.com/MinnDevelopment/5d8c5965043bbe5315d47b690cd7a4d9)\r\n\r\n###### From https://jda.wiki/using-jda/troubleshooting/","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: when running with console. Possibly Maven-related","body":"<h2>With gradle</h2>\n<p>This can be fixed by using the <a href=\"https://github.com/johnrengelman/shadow\" rel=\"nofollow noreferrer\">shadow plugin</a> and building your jar with shadowJar instead. The jar will then be present in the build/libs directory with a name like example-1.0-all.jar</p>\n<h2>With Maven</h2>\n<p>You need the <a href=\"https://maven.apache.org/plugins/maven-shade-plugin/\" rel=\"nofollow noreferrer\">shade plugin</a> in your pom to add dependencies to your package task. You can see the shade plugin being applied in this <a href=\"https://gist.github.com/MinnDevelopment/5d8c5965043bbe5315d47b690cd7a4d9\" rel=\"nofollow noreferrer\">example pom.xml</a></p>\n<h6>From <a href=\"https://jda.wiki/using-jda/troubleshooting/\" rel=\"nofollow noreferrer\">https://jda.wiki/using-jda/troubleshooting/</a></h6>\n"}],"owner":{"account_id":10510744,"reputation":277,"user_id":7746544,"accept_rate":100,"display_name":"Lurker"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4627,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":46809967,"answer_count":2,"score":1,"last_activity_date":1662147888,"creation_date":1508325394,"question_id":46808926,"body_markdown":"I have 2 java files:\r\n\r\n    package com.pokebot;\r\n    \r\n    import javax.security.auth.login.LoginException;\r\n    import net.dv8tion.jda.core.AccountType;\r\n    import net.dv8tion.jda.core.JDA;\r\n    import net.dv8tion.jda.core.JDABuilder;\r\n    import net.dv8tion.jda.core.exceptions.RateLimitedException;\r\n\r\n    public class App {\r\n\r\n        public static void main(String[] args)\r\n        {\r\n            try {\r\n                JDA jdaBot = new JDABuilder(AccountType.BOT).setToken(&quot;my_token&quot;).buildBlocking();\r\n                jdaBot.addEventListener(new Pokebot());\r\n            } catch (LoginException e) {\r\n        //            System.out.println(&quot;LoginException&quot;);\r\n            } catch (InterruptedException e) {\r\n        //            System.out.println(&quot;InterruptedException&quot;);\r\n            } catch (RateLimitedException e) {\r\n        //            System.out.println(&quot;RateLimitedException&quot;);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\nand:\r\n\r\n    package com.pokebot;\r\n\r\n    import net.dv8tion.jda.core.entities.Message;\r\n    import net.dv8tion.jda.core.entities.MessageChannel;\r\n    import net.dv8tion.jda.core.entities.User;\r\n    import net.dv8tion.jda.core.events.message.MessageReceivedEvent;\r\n    import net.dv8tion.jda.core.hooks.ListenerAdapter;\r\n\r\n    public class Pokebot extends ListenerAdapter {\r\n    \r\n        @Override\r\n        public void onMessageReceived(MessageReceivedEvent e) {\r\n       \r\n            //Obtains properties of the received message\r\n            Message objMsg = e.getMessage();\r\n            MessageChannel objChannel = e.getChannel();\r\n            User objUser = e.getAuthor();\r\n       \r\n            //Responds to any user who says &quot;hello&quot;\r\n            if (objMsg.getContent().equals(&quot;hello&quot;)) {\r\n                objChannel.sendMessage(&quot;Hello, &quot; + objUser.getAsMention() +&quot;!&quot;).queue();\r\n            }\r\n       \r\n        }\r\n    }\r\n\r\nWhen I run the application (the main class is App from 1st file) from Netbeans, I get only one notice:\r\n\r\n    SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\n\r\nbut the application still works.\r\nWhen I try to run it from command line:\r\n\r\n    java -jar target/pokebotapp-1.0-SNAPSHOT.jar\r\n\r\nthen I get an exception like this:\r\n\r\n```Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/core/exceptions/RateLimitedException\r\n```\r\n\r\n\r\n\r\n\r\n    Error: A JNI error has occurred, please check your installation and try again\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: net/dv8tion/jda/core/\r\n    exceptions/RateLimitedException\r\n            at java.lang.Class.getDeclaredMethods0(Native Method)\r\n            at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\r\n            at java.lang.Class.privateGetMethodRecursive(Unknown Source)\r\n            at java.lang.Class.getMethod0(Unknown Source)\r\n            at java.lang.Class.getMethod(Unknown Source)\r\n            at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)\r\n            at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\r\n    Caused by: java.lang.ClassNotFoundException: net.dv8tion.jda.core.exceptions.Rat\r\n    eLimitedException\r\n            at java.net.URLClassLoader.findClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\r\n            at java.lang.ClassLoader.loadClass(Unknown Source)\r\n            ... 7 more\r\n\r\nAnd the application does not even start.\r\n\r\nI&#39;m using Maven for this project. My pom.xml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.pokebot&lt;/groupId&gt;\r\n        &lt;artifactId&gt;pokebotapp&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;build&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.0.2&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;archive&gt;\r\n                            &lt;manifest&gt;\r\n                                &lt;addClasspath&gt;true&lt;/addClasspath&gt;\r\n                                &lt;!--&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;--&gt;\r\n                                &lt;mainClass&gt;com.pokebot.App&lt;/mainClass&gt;\r\n                            &lt;/manifest&gt;\r\n                        &lt;/archive&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;2.5.1&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;copy-dependencies&lt;/id&gt;\r\n                            &lt;phase&gt;package&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;copy-dependencies&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;outputDirectory&gt;\r\n                                    ${project.build.directory}/dependency-jars/\r\n                                &lt;/outputDirectory&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;properties&gt;\r\n            &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\r\n            &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\r\n                &lt;artifactId&gt;JDA&lt;/artifactId&gt;\r\n                &lt;version&gt;3.3.1_291&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;repositories&gt;\r\n            &lt;repository&gt;\r\n                &lt;id&gt;jcenter&lt;/id&gt;\r\n                &lt;name&gt;jcenter-bintray&lt;/name&gt;\r\n                &lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\r\n            &lt;/repository&gt;\r\n        &lt;/repositories&gt;\r\n        &lt;/project&gt;\r\n\r\nBefore I try to run the project from the console, i run `maven compile`. I think it might possibly be the fault of the way I run the program, or the way I set up maven for this project. Is there anyone that knows what can be the problem?","title":"Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: when running with console. Possibly Maven-related","body":"<p>I have 2 java files:</p>\n\n<pre><code>package com.pokebot;\n\nimport javax.security.auth.login.LoginException;\nimport net.dv8tion.jda.core.AccountType;\nimport net.dv8tion.jda.core.JDA;\nimport net.dv8tion.jda.core.JDABuilder;\nimport net.dv8tion.jda.core.exceptions.RateLimitedException;\n\npublic class App {\n\n    public static void main(String[] args)\n    {\n        try {\n            JDA jdaBot = new JDABuilder(AccountType.BOT).setToken(\"my_token\").buildBlocking();\n            jdaBot.addEventListener(new Pokebot());\n        } catch (LoginException e) {\n    //            System.out.println(\"LoginException\");\n        } catch (InterruptedException e) {\n    //            System.out.println(\"InterruptedException\");\n        } catch (RateLimitedException e) {\n    //            System.out.println(\"RateLimitedException\");\n        }\n    }\n\n}\n</code></pre>\n\n<p>and:</p>\n\n<pre><code>package com.pokebot;\n\nimport net.dv8tion.jda.core.entities.Message;\nimport net.dv8tion.jda.core.entities.MessageChannel;\nimport net.dv8tion.jda.core.entities.User;\nimport net.dv8tion.jda.core.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.core.hooks.ListenerAdapter;\n\npublic class Pokebot extends ListenerAdapter {\n\n    @Override\n    public void onMessageReceived(MessageReceivedEvent e) {\n\n        //Obtains properties of the received message\n        Message objMsg = e.getMessage();\n        MessageChannel objChannel = e.getChannel();\n        User objUser = e.getAuthor();\n\n        //Responds to any user who says \"hello\"\n        if (objMsg.getContent().equals(\"hello\")) {\n            objChannel.sendMessage(\"Hello, \" + objUser.getAsMention() +\"!\").queue();\n        }\n\n    }\n}\n</code></pre>\n\n<p>When I run the application (the main class is App from 1st file) from Netbeans, I get only one notice:</p>\n\n<pre><code>SLF4J: Failed to load class \"org.slf4j.impl.StaticLoggerBinder\".\n</code></pre>\n\n<p>but the application still works.\nWhen I try to run it from command line:</p>\n\n<pre><code>java -jar target/pokebotapp-1.0-SNAPSHOT.jar\n</code></pre>\n\n<p>then I get an exception like this:</p>\n\n<p><code>Exception in thread \"main\" java.lang.NoClassDefFoundError: net/dv8tion/jda/core/exceptions/RateLimitedException\n</code></p>\n\n<pre><code>Error: A JNI error has occurred, please check your installation and try again\nException in thread \"main\" java.lang.NoClassDefFoundError: net/dv8tion/jda/core/\nexceptions/RateLimitedException\n        at java.lang.Class.getDeclaredMethods0(Native Method)\n        at java.lang.Class.privateGetDeclaredMethods(Unknown Source)\n        at java.lang.Class.privateGetMethodRecursive(Unknown Source)\n        at java.lang.Class.getMethod0(Unknown Source)\n        at java.lang.Class.getMethod(Unknown Source)\n        at sun.launcher.LauncherHelper.validateMainClass(Unknown Source)\n        at sun.launcher.LauncherHelper.checkAndLoadMain(Unknown Source)\nCaused by: java.lang.ClassNotFoundException: net.dv8tion.jda.core.exceptions.Rat\neLimitedException\n        at java.net.URLClassLoader.findClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        at sun.misc.Launcher$AppClassLoader.loadClass(Unknown Source)\n        at java.lang.ClassLoader.loadClass(Unknown Source)\n        ... 7 more\n</code></pre>\n\n<p>And the application does not even start.</p>\n\n<p>I'm using Maven for this project. My pom.xml:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.pokebot&lt;/groupId&gt;\n    &lt;artifactId&gt;pokebotapp&lt;/artifactId&gt;\n    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.0.2&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;archive&gt;\n                        &lt;manifest&gt;\n                            &lt;addClasspath&gt;true&lt;/addClasspath&gt;\n                            &lt;!--&lt;classpathPrefix&gt;lib/&lt;/classpathPrefix&gt;--&gt;\n                            &lt;mainClass&gt;com.pokebot.App&lt;/mainClass&gt;\n                        &lt;/manifest&gt;\n                    &lt;/archive&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-dependency-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5.1&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;copy-dependencies&lt;/id&gt;\n                        &lt;phase&gt;package&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;copy-dependencies&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;outputDirectory&gt;\n                                ${project.build.directory}/dependency-jars/\n                            &lt;/outputDirectory&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;\n        &lt;maven.compiler.source&gt;1.8&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;1.8&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.dv8tion&lt;/groupId&gt;\n            &lt;artifactId&gt;JDA&lt;/artifactId&gt;\n            &lt;version&gt;3.3.1_291&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;jcenter&lt;/id&gt;\n            &lt;name&gt;jcenter-bintray&lt;/name&gt;\n            &lt;url&gt;http://jcenter.bintray.com&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n    &lt;/project&gt;\n</code></pre>\n\n<p>Before I try to run the project from the console, i run <code>maven compile</code>. I think it might possibly be the fault of the way I run the program, or the way I set up maven for this project. Is there anyone that knows what can be the problem?</p>\n"},{"tags":["java","web","websphere","servletcontextlistener"],"comments":[{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1662086323,"post_id":73576026,"comment_id":129929972,"body_markdown":"You tried adding `&lt;init-param&gt;` how? There are a lot of case errors in this post. More care required.","body":"You tried adding <code>&lt;init-param&gt;</code> how? There are a lot of case errors in this post. More care required."},{"owner":{"account_id":22473386,"reputation":1,"user_id":17647991,"display_name":"The Thinkrium"},"score":0,"creation_date":1662124287,"post_id":73576026,"comment_id":129939727,"body_markdown":"From what I read on the internet the init parameter goes inside the servlet tag and the servlet name  comes from the class that extends the servlet however the class that accepts the parameter sc that calls getinitparam is not a servlet so that I dont have an  answer for yet","body":"From what I read on the internet the init parameter goes inside the servlet tag and the servlet name  comes from the class that extends the servlet however the class that accepts the parameter sc that calls getinitparam is not a servlet so that I dont have an  answer for yet"},{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662151149,"post_id":73576026,"comment_id":129948335,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"answers":[{"tags":[],"owner":{"account_id":22473386,"reputation":1,"user_id":17647991,"display_name":"The Thinkrium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662147883,"creation_date":1662147883,"answer_id":73587325,"question_id":73576026,"body_markdown":"For the benefit of anyone who comes across this problem in the future\r\n\r\nI learned that the solution is to fix the web_merged.xml inside a different folder\r\n\r\nas it turns out \r\nWebsphere takes the war and creates multiple iterations it looks like\r\n\r\nleaving web.xml inside \r\n\r\n\\[server name 1]\\profiles\\[server name]\\config\\cells\\[cell name]\\applications\\[\\deployments\\\\[application war]\\\\[application war]\\WEB-INF\\\r\n\r\nthere you can find web_merged.xml\r\n                    web.xml\r\n\r\nand then you can find a copy of web.xml\r\ninside\r\n\r\n[server name 1]\\profiles\\[server name 1]\\installedApps\\[cell name]\\[application war]\\[application war]\\WEB-INF\\","title":"IBM websphere application server is giving me a null value from getinitparameter() and I cant figure out why","body":"<p>For the benefit of anyone who comes across this problem in the future</p>\n<p>I learned that the solution is to fix the web_merged.xml inside a different folder</p>\n<p>as it turns out\nWebsphere takes the war and creates multiple iterations it looks like</p>\n<p>leaving web.xml inside</p>\n<p>[server name 1]\\profiles[server name]\\config\\cells[cell name]\\applications[\\deployments\\[application war]\\[application war]\\WEB-INF\\</p>\n<p>there you can find web_merged.xml\nweb.xml</p>\n<p>and then you can find a copy of web.xml\ninside</p>\n<p>[server name 1]\\profiles[server name 1]\\installedApps[cell name][application war][application war]\\WEB-INF\\</p>\n"}],"owner":{"account_id":22473386,"reputation":1,"user_id":17647991,"display_name":"The Thinkrium"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":406,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1662147883,"creation_date":1662071572,"question_id":73576026,"body_markdown":"I have been tasked at work with fixing some other teams deployment into IBM Websphere\r\n\r\nThey use javax servletcontext to get values out of web.xml\r\n\r\nI have read so many articles\r\n\r\n\r\nsc is ServletContext passed in as a parameter\r\n\r\n\r\n( I&#39;m new to IBM websphere )\r\n\r\n         Enumeration&lt;String&gt; testParam = sc.getInitParameterNames();\r\n\r\n        while(testParam.hasMoreElements()) {\r\n\r\n\r\n            String value = testParam.nextElement();\r\n            sc.getInitParameter(value);\r\n            \r\n            \r\n        }\r\n\r\nbut I can do anything to web.xml and it sees no changes\r\n\r\nI have tried adding  \r\n\r\n     &lt;Context-param&gt;\r\n\r\nand i have tried adding\r\n    \r\n     &lt;init-param&gt;\r\n\r\nand then searching by that param name directly which returns a null\r\n\r\nalso I have queried all the params using the pasted code example and it shows none of my test params\r\n\r\nyet\r\nalso it has found a param by the name of &quot;WELD_CONTEXT_ID_KEY&quot; which translates to the value of the war but I used \r\n\r\nFindstr /s /i &quot;WELD_CONTEXT_ID_KEY&quot; *.* \r\n\r\nat the server root and that string only exists in the log from the code I created \r\n\r\n\r\nI Have no idea what to do because I cant seem to affect change and I cant find that param name\r\n\r\nPLEASE HELP***\r\n\r\n","title":"IBM websphere application server is giving me a null value from getinitparameter() and I cant figure out why","body":"<p>I have been tasked at work with fixing some other teams deployment into IBM Websphere</p>\n<p>They use javax servletcontext to get values out of web.xml</p>\n<p>I have read so many articles</p>\n<p>sc is ServletContext passed in as a parameter</p>\n<p>( I'm new to IBM websphere )</p>\n<pre><code>     Enumeration&lt;String&gt; testParam = sc.getInitParameterNames();\n\n    while(testParam.hasMoreElements()) {\n\n\n        String value = testParam.nextElement();\n        sc.getInitParameter(value);\n        \n        \n    }\n</code></pre>\n<p>but I can do anything to web.xml and it sees no changes</p>\n<p>I have tried adding</p>\n<pre><code> &lt;Context-param&gt;\n</code></pre>\n<p>and i have tried adding</p>\n<pre><code> &lt;init-param&gt;\n</code></pre>\n<p>and then searching by that param name directly which returns a null</p>\n<p>also I have queried all the params using the pasted code example and it shows none of my test params</p>\n<p>yet\nalso it has found a param by the name of &quot;WELD_CONTEXT_ID_KEY&quot; which translates to the value of the war but I used</p>\n<p>Findstr /s /i &quot;WELD_CONTEXT_ID_KEY&quot; <em>.</em></p>\n<p>at the server root and that string only exists in the log from the code I created</p>\n<p>I Have no idea what to do because I cant seem to affect change and I cant find that param name</p>\n<p>PLEASE HELP***</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":1082858,"reputation":104688,"user_id":1079354,"accept_rate":93,"display_name":"Makoto"},"score":3,"creation_date":1500480596,"post_id":45195764,"comment_id":77359028,"body_markdown":"You can&#39;t cast it to anything else since it&#39;s *not* any of those classes.  It&#39;s an internal `Node` type which happens to live inside of `HashMap`.  I&#39;m stunned you&#39;re able to get it *at all* since [that class is package-private](http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/HashMap.java?av=f#278).","body":"You can&#39;t cast it to anything else since it&#39;s <i>not</i> any of those classes.  It&#39;s an internal <code>Node</code> type which happens to live inside of <code>HashMap</code>.  I&#39;m stunned you&#39;re able to get it <i>at all</i> since <a href=\"http://grepcode.com/file/repository.grepcode.com/java/root/jdk/openjdk/8u40-b25/java/util/HashMap.java?av=f#278\" rel=\"nofollow noreferrer\">that class is package-private</a>."},{"owner":{"account_id":5169747,"reputation":11586,"user_id":4138801,"accept_rate":97,"display_name":"Clashsoft"},"score":7,"creation_date":1500480598,"post_id":45195764,"comment_id":77359032,"body_markdown":"Seems like an XY problem. Why would you want to do that, and how did you get access to an object of an internal type in the first place?","body":"Seems like an XY problem. Why would you want to do that, and how did you get access to an object of an internal type in the first place?"},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":0,"creation_date":1500480859,"post_id":45195764,"comment_id":77359172,"body_markdown":"What are you really trying to do? What is the purpose of the library you are using? What do you want to do with the `Node` object? Casting is the wrong solution here. If you explain what you want to accomplish, then we can help you to find a correct solution.","body":"What are you really trying to do? What is the purpose of the library you are using? What do you want to do with the <code>Node</code> object? Casting is the wrong solution here. If you explain what you want to accomplish, then we can help you to find a correct solution."},{"owner":{"account_id":3703601,"reputation":2238,"user_id":3082668,"display_name":"kewne"},"score":1,"creation_date":1500480897,"post_id":45195764,"comment_id":77359195,"body_markdown":"@Clashsoft you can see the class through the debugger. One legitimate reason for the library to return a `HashMap.Node` instance is if the method actually returns `Object` and does not/cannot use generics.","body":"@Clashsoft you can see the class through the debugger. One legitimate reason for the library to return a <code>HashMap.Node</code> instance is if the method actually returns <code>Object</code> and does not/cannot use generics."}],"answers":[{"tags":[],"owner":{"account_id":3703601,"reputation":2238,"user_id":3082668,"display_name":"kewne"},"down_vote_count":0,"up_vote_count":11,"is_accepted":true,"score":11,"last_activity_date":1500480679,"creation_date":1500480679,"answer_id":45195836,"question_id":45195764,"body_markdown":"`HashMap.Node` implements `Map.Entry`, so you can cast to that.","title":"How to cast a java.util.HashMap$Node object?","body":"<p><code>HashMap.Node</code> implements <code>Map.Entry</code>, so you can cast to that.</p>\n"},{"tags":[],"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1500480774,"creation_date":1500480774,"answer_id":45195867,"question_id":45195764,"body_markdown":"You can only cast an object to one of its base classes or interfaces. You are unable to cast `java.util.HashMap$Node` to any of the classes or interfaces which you have tried because it does not extend any of them.\r\n\r\nI find it very strange that the library you use returns objects of this type since it is an internal implementation detail of `HashMap`. I suggest that you either modify the library, if you have access to the source code, or find a different library to accomplish what you need.","title":"How to cast a java.util.HashMap$Node object?","body":"<p>You can only cast an object to one of its base classes or interfaces. You are unable to cast <code>java.util.HashMap$Node</code> to any of the classes or interfaces which you have tried because it does not extend any of them.</p>\n\n<p>I find it very strange that the library you use returns objects of this type since it is an internal implementation detail of <code>HashMap</code>. I suggest that you either modify the library, if you have access to the source code, or find a different library to accomplish what you need.</p>\n"},{"tags":[],"owner":{"account_id":2340745,"reputation":7243,"user_id":2052097,"accept_rate":85,"display_name":"z atef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662147578,"creation_date":1662147578,"answer_id":73587280,"question_id":45195764,"body_markdown":"In my case, i was getting java.util.HashMap$Node, which I can&#39;t cast or do anything with other than reading the data because I forgot to add Optional when collecting list of optional&lt;Object&gt;. Objet is a map. \r\n\r\nChanged \r\n\r\n    Map&lt;String, List&lt;Object&gt;&gt; \r\n\r\nto\r\n\r\n    Map&lt;String, List&lt;Optiona&lt;Object&gt;&gt;&gt;\r\n\r\nand now I can get the actual maps and not java.util.HashMap$Node. \r\n","title":"How to cast a java.util.HashMap$Node object?","body":"<p>In my case, i was getting java.util.HashMap$Node, which I can't cast or do anything with other than reading the data because I forgot to add Optional when collecting list of optional. Objet is a map.</p>\n<p>Changed</p>\n<pre><code>Map&lt;String, List&lt;Object&gt;&gt; \n</code></pre>\n<p>to</p>\n<pre><code>Map&lt;String, List&lt;Optiona&lt;Object&gt;&gt;&gt;\n</code></pre>\n<p>and now I can get the actual maps and not java.util.HashMap$Node.</p>\n"}],"owner":{"account_id":8596192,"reputation":979,"user_id":6439147,"accept_rate":94,"display_name":"Ahmad Siavashi"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12847,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"accepted_answer_id":45195836,"answer_count":3,"score":5,"last_activity_date":1662147578,"creation_date":1500480474,"question_id":45195764,"body_markdown":"I use a library method which returns a `java.util.HashMap$Node` object.  \r\nI have tried to cast it to `Map`, `HashMap`, or `Iterator` but they have all failed.  \r\nTo what data type I can cast an object of type `java.util.HashMap$Node`?","title":"How to cast a java.util.HashMap$Node object?","body":"<p>I use a library method which returns a <code>java.util.HashMap$Node</code> object.<br>\nI have tried to cast it to <code>Map</code>, <code>HashMap</code>, or <code>Iterator</code> but they have all failed.<br>\nTo what data type I can cast an object of type <code>java.util.HashMap$Node</code>?</p>\n"},{"tags":["java","apache-kafka","log4j","log4j2"],"answers":[{"tags":[],"owner":{"account_id":983167,"reputation":523,"user_id":1022978,"accept_rate":100,"display_name":"Rafe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1652919671,"creation_date":1652919671,"answer_id":72297322,"question_id":72283878,"body_markdown":"It turns out that the answer is very simple: the kafka-clients-3.1.0.jar (required to get the kafka appender to work) uses slf4j for its logging, so doesn&#39;t respond to any changes to log4j levels!\r\n\r\nThe following line fixes the issue: \r\n\r\n    System.setProperty(org.slf4j.impl.SimpleLogger.DEFAULT_LOG_LEVEL_KEY, &quot;ERROR&quot;);\r\n","title":"reduce the internal log level for Log4j2 (with Kafka Appender)","body":"<p>It turns out that the answer is very simple: the kafka-clients-3.1.0.jar (required to get the kafka appender to work) uses slf4j for its logging, so doesn't respond to any changes to log4j levels!</p>\n<p>The following line fixes the issue:</p>\n<pre><code>System.setProperty(org.slf4j.impl.SimpleLogger.DEFAULT_LOG_LEVEL_KEY, &quot;ERROR&quot;);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4157872,"reputation":11,"user_id":3408633,"display_name":"Srohr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658853515,"creation_date":1658846347,"answer_id":73125403,"question_id":72283878,"body_markdown":"Another way since kafka uses slf4j is to add into the pom.xml\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n        &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\r\n        &lt;version&gt;2.11.1&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nDoing so in your log should already appear the kafka entries.\r\nThen into the log4j2.xml you can control the log level doing so:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;Configuration status=&quot;error&quot; shutdownHook=&quot;disable&quot;&gt;\r\n        &lt;Appenders&gt;\r\n            &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;--&gt;\r\n                &lt;PatternLayout pattern=&quot;[%d{yyyy-MM-dd HH:mm:ss,SSS}][%c{1}:%L][%-5p] %m%n&quot; /&gt;\r\n            &lt;/Console&gt;\r\n        &lt;/Appenders&gt;\r\n        &lt;Loggers&gt;\r\n            &lt;Root level=&quot;${sys:log.level:-DEBUG}&quot;&gt;\r\n                &lt;AppenderRef ref=&quot;Console&quot; /&gt;\r\n            &lt;/Root&gt;\r\n            &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;WARN&quot;/&gt;\r\n        &lt;/Loggers&gt;\r\n    &lt;/Configuration&gt;\r\n\r\nThe important line is: `&lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;WARN&quot;/&gt;`\r\n","title":"reduce the internal log level for Log4j2 (with Kafka Appender)","body":"<p>Another way since kafka uses slf4j is to add into the pom.xml</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n    &lt;artifactId&gt;log4j-slf4j-impl&lt;/artifactId&gt;\n    &lt;version&gt;2.11.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>Doing so in your log should already appear the kafka entries.\nThen into the log4j2.xml you can control the log level doing so:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;Configuration status=&quot;error&quot; shutdownHook=&quot;disable&quot;&gt;\n    &lt;Appenders&gt;\n        &lt;Console name=&quot;Console&quot; target=&quot;SYSTEM_OUT&quot;&gt;--&gt;\n            &lt;PatternLayout pattern=&quot;[%d{yyyy-MM-dd HH:mm:ss,SSS}][%c{1}:%L][%-5p] %m%n&quot; /&gt;\n        &lt;/Console&gt;\n    &lt;/Appenders&gt;\n    &lt;Loggers&gt;\n        &lt;Root level=&quot;${sys:log.level:-DEBUG}&quot;&gt;\n            &lt;AppenderRef ref=&quot;Console&quot; /&gt;\n        &lt;/Root&gt;\n        &lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;WARN&quot;/&gt;\n    &lt;/Loggers&gt;\n&lt;/Configuration&gt;\n</code></pre>\n<p>The important line is: <code>&lt;Logger name=&quot;org.apache.kafka&quot; level=&quot;WARN&quot;/&gt;</code></p>\n"},{"tags":[],"owner":{"account_id":8211445,"reputation":43,"user_id":6179423,"display_name":"Ma3oxuct"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1662146718,"creation_date":1662146718,"answer_id":73587155,"question_id":72283878,"body_markdown":"If you are using log4j2 and also trying to do this with log4j2.properties, this is what worked for me: \r\n\r\n\r\n    logger.kafka-org.name = org.apache.kafka\r\n    logger.kafka-org.level = warn\r\n    logger.kafka.name = kafka\r\n    logger.kafka.level = warn\r\n    logger.kafka-state.name = state.change.logger\r\n    logger.kafka-state.level = warn\r\n    logger.zookeeper.name = org.apache.zookeeper\r\n    logger.zookeeper.level = warn\r\n    logger.curator.name = org.apache.curator\r\n    logger.curator.level = warn\r\n\r\n\r\nI hope this saves some poor soul trying to do the same thing the two hours it took me to figure this out. You need to map the logger by name, which is what the implementer calls it (often package, but not always), then set the level.  ","title":"reduce the internal log level for Log4j2 (with Kafka Appender)","body":"<p>If you are using log4j2 and also trying to do this with log4j2.properties, this is what worked for me:</p>\n<pre><code>logger.kafka-org.name = org.apache.kafka\nlogger.kafka-org.level = warn\nlogger.kafka.name = kafka\nlogger.kafka.level = warn\nlogger.kafka-state.name = state.change.logger\nlogger.kafka-state.level = warn\nlogger.zookeeper.name = org.apache.zookeeper\nlogger.zookeeper.level = warn\nlogger.curator.name = org.apache.curator\nlogger.curator.level = warn\n</code></pre>\n<p>I hope this saves some poor soul trying to do the same thing the two hours it took me to figure this out. You need to map the logger by name, which is what the implementer calls it (often package, but not always), then set the level.</p>\n"}],"owner":{"account_id":983167,"reputation":523,"user_id":1022978,"accept_rate":100,"display_name":"Rafe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1377,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72297322,"answer_count":3,"score":1,"last_activity_date":1662146718,"creation_date":1652853578,"question_id":72283878,"body_markdown":"I&#39;m using Log4j2 (v2.17.2) to send information directly to kafka, and am using XML to create the configuration (as many articles mention that XML can handle a lot more configuration options - properties do not). The issue that I have is that my console is filled to the brim with irrelevant INFO log-lines (as an example):\r\n\r\n    [main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.1.0\r\n    [main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 37edeed0777bacb3\r\n    [main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1652851625060\r\n    [pool-2-thread-1] INFO org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-logInfo-1, groupId=logInfo] Subscribed to topic(s): logInfo\r\n    [pool-2-thread-1] INFO org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-logInfo-1, groupId=logInfo] Cluster ID: 37Prit7oRwSnQ-CX5_Iwvw\r\n\r\nI&#39;ve tried all the techniques out from [programmatically-change-log-level-in-log4j2][1] with no change to the logging: \r\n\r\n    Configurator.setLevel(&quot;org.apache.kafka&quot;, Level.WARN);\r\n\r\nHas anyone had any luck with getting the log level to reduce from INFO? I really don&#39;t want that level of information to trawl through to find the issues!\r\n\r\n--edit--\r\n\r\n\r\nI&#39;ve gone through to explicitly set per class: \r\n\r\n    Configurator.setLevel(&quot;org.apache.kafka.clients.producer.ProducerConfig&quot;, Level.ERROR);\r\n    Configurator.setLevel(&quot;org.apache.kafka.clients.consumer.ConsumerConfig&quot;, Level.ERROR);\r\n\r\nwith the same results in the log: \r\n\r\n    [main] INFO org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: \r\n    [Thread-1] INFO org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/23434252/programmatically-change-log-level-in-log4j2\r\n","title":"reduce the internal log level for Log4j2 (with Kafka Appender)","body":"<p>I'm using Log4j2 (v2.17.2) to send information directly to kafka, and am using XML to create the configuration (as many articles mention that XML can handle a lot more configuration options - properties do not). The issue that I have is that my console is filled to the brim with irrelevant INFO log-lines (as an example):</p>\n<pre><code>[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka version: 3.1.0\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka commitId: 37edeed0777bacb3\n[main] INFO org.apache.kafka.common.utils.AppInfoParser - Kafka startTimeMs: 1652851625060\n[pool-2-thread-1] INFO org.apache.kafka.clients.consumer.KafkaConsumer - [Consumer clientId=consumer-logInfo-1, groupId=logInfo] Subscribed to topic(s): logInfo\n[pool-2-thread-1] INFO org.apache.kafka.clients.Metadata - [Consumer clientId=consumer-logInfo-1, groupId=logInfo] Cluster ID: 37Prit7oRwSnQ-CX5_Iwvw\n</code></pre>\n<p>I've tried all the techniques out from <a href=\"https://stackoverflow.com/questions/23434252/programmatically-change-log-level-in-log4j2\">programmatically-change-log-level-in-log4j2</a> with no change to the logging:</p>\n<pre><code>Configurator.setLevel(&quot;org.apache.kafka&quot;, Level.WARN);\n</code></pre>\n<p>Has anyone had any luck with getting the log level to reduce from INFO? I really don't want that level of information to trawl through to find the issues!</p>\n<p>--edit--</p>\n<p>I've gone through to explicitly set per class:</p>\n<pre><code>Configurator.setLevel(&quot;org.apache.kafka.clients.producer.ProducerConfig&quot;, Level.ERROR);\nConfigurator.setLevel(&quot;org.apache.kafka.clients.consumer.ConsumerConfig&quot;, Level.ERROR);\n</code></pre>\n<p>with the same results in the log:</p>\n<pre><code>[main] INFO org.apache.kafka.clients.producer.ProducerConfig - ProducerConfig values: \n[Thread-1] INFO org.apache.kafka.clients.consumer.ConsumerConfig - ConsumerConfig values: \n</code></pre>\n"},{"tags":["java","swing","user-interface","jframe","jbutton"],"answers":[{"tags":[],"owner":{"account_id":29775,"reputation":12605,"user_id":80714,"accept_rate":91,"display_name":"Chadwick"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1278513616,"creation_date":1278512909,"answer_id":3195707,"question_id":3195666,"body_markdown":"Use [`child.setLocation(0, 0)`][1] on the button, and [`parent.setLayout(null)`][2]. Instead of using setBounds(...) on the JFrame to size it, consider using just [`setSize(...)`][3] and letting the OS position the frame.\r\n\r\n    //JPanel\r\n    JPanel pnlButton = new JPanel();\r\n    //Buttons\r\n    JButton btnAddFlight = new JButton(&quot;Add Flight&quot;);\r\n\r\n    public Control() {\r\n\r\n        //JFrame layout\r\n        this.setLayout(null);\r\n\r\n        //JPanel layout\r\n        pnlButton.setLayout(null);\r\n\r\n        //Adding to JFrame\r\n        pnlButton.add(btnAddFlight);\r\n        add(pnlButton);\r\n\r\n        // postioning\r\n        pnlButton.setLocation(0,0);\r\n\r\n\r\n  [1]: http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Component.html#setLocation(int,int)\r\n  [2]: http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Container.html#setLayout(java.awt.LayoutManager)\r\n  [3]: http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Component.html#setSize(int,int)","title":"How to place a JButton at a desired location in a JFrame using Java?","body":"<p>Use <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Component.html#setLocation(int,int)\" rel=\"nofollow noreferrer\"><code>child.setLocation(0, 0)</code></a> on the button, and <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Container.html#setLayout(java.awt.LayoutManager)\" rel=\"nofollow noreferrer\"><code>parent.setLayout(null)</code></a>. Instead of using setBounds(...) on the JFrame to size it, consider using just <a href=\"http://java.sun.com/j2se/1.5.0/docs/api/java/awt/Component.html#setSize(int,int)\" rel=\"nofollow noreferrer\"><code>setSize(...)</code></a> and letting the OS position the frame.</p>\n\n<pre><code>//JPanel\nJPanel pnlButton = new JPanel();\n//Buttons\nJButton btnAddFlight = new JButton(\"Add Flight\");\n\npublic Control() {\n\n    //JFrame layout\n    this.setLayout(null);\n\n    //JPanel layout\n    pnlButton.setLayout(null);\n\n    //Adding to JFrame\n    pnlButton.add(btnAddFlight);\n    add(pnlButton);\n\n    // postioning\n    pnlButton.setLocation(0,0);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":39177,"reputation":17181,"user_id":112877,"display_name":"Eugene Ryzhikov"},"down_vote_count":0,"up_vote_count":23,"is_accepted":true,"score":23,"last_activity_date":1278513246,"creation_date":1278512945,"answer_id":3195713,"question_id":3195666,"body_markdown":"Following line should be called before you add your component \r\n\r\n    pnlButton.setLayout(null);\r\n\r\nAbove will set your content panel to use absolute layout. This means you&#39;d always have to set your component&#39;s bounds explicitly by using `setBounds` method.\r\n\r\nIn general I wouldn&#39;t recommend using absolute layout.  ","title":"How to place a JButton at a desired location in a JFrame using Java?","body":"<p>Following line should be called before you add your component </p>\n\n<pre><code>pnlButton.setLayout(null);\n</code></pre>\n\n<p>Above will set your content panel to use absolute layout. This means you'd always have to set your component's bounds explicitly by using <code>setBounds</code> method.</p>\n\n<p>In general I wouldn't recommend using absolute layout.  </p>\n"},{"tags":[],"owner":{"account_id":2667307,"reputation":65,"user_id":2305430,"accept_rate":70,"display_name":"Conor Watt"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1649875134,"creation_date":1366582558,"answer_id":16136780,"question_id":3195666,"body_markdown":"I have figured it out. For the button do `.setBounds(0, 0, 220, 30)`\r\nThe `.setBounds` layout has following parameters - (int x, int y, int width, int height)","title":"How to place a JButton at a desired location in a JFrame using Java?","body":"<p>I have figured it out. For the button do <code>.setBounds(0, 0, 220, 30)</code>\nThe <code>.setBounds</code> layout has following parameters - (int x, int y, int width, int height)</p>\n"},{"tags":[],"owner":{"account_id":408442,"reputation":21426,"user_id":779111,"accept_rate":85,"display_name":"JAN"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1376120080,"creation_date":1376120080,"answer_id":18159720,"question_id":3195666,"body_markdown":"Define somewhere the consts : \r\n\r\n\r\n\tprivate static final int BUTTON_LOCATION_X = 300;  // location x \r\n\tprivate static final int BUTTON_LOCATION_Y = 50;   // location y \r\n\tprivate static final int BUTTON_SIZE_X = 140;      // size height\r\n\tprivate static final int BUTTON_SIZE_Y = 50;       // size width\r\n\r\n\r\nand then below : \r\n\r\n\t                JButton startButton = new JButton(&quot;Click Me To Start!&quot;);\r\n\t                // startButton.setBounds(300, 50,140, 50 );\r\n\t            \tstartButton.setBounds(BUTTON_LOCATION_X\r\n\t            \t\t\t\t \t\t, BUTTON_LOCATION_Y,\r\n\t            \t\t\t\t \t\t  BUTTON_SIZE_X, \r\n\t            \t\t\t\t \t\t  BUTTON_SIZE_Y );\r\n\t                contentPane.add(startButton);\r\n\r\n\r\nwhere `contentPane` is the `Container`  object that holds the entire frame : \r\n\r\n     JFrame frame = new JFrame(&quot;Some name goes here&quot;);\r\n     Container contentPane = frame.getContentPane();\r\n\r\n\r\nI hope this helps , works great for me ...\r\n","title":"How to place a JButton at a desired location in a JFrame using Java?","body":"<p>Define somewhere the consts : </p>\n\n<pre><code>private static final int BUTTON_LOCATION_X = 300;  // location x \nprivate static final int BUTTON_LOCATION_Y = 50;   // location y \nprivate static final int BUTTON_SIZE_X = 140;      // size height\nprivate static final int BUTTON_SIZE_Y = 50;       // size width\n</code></pre>\n\n<p>and then below : </p>\n\n<pre><code>                JButton startButton = new JButton(\"Click Me To Start!\");\n                // startButton.setBounds(300, 50,140, 50 );\n                startButton.setBounds(BUTTON_LOCATION_X\n                                    , BUTTON_LOCATION_Y,\n                                      BUTTON_SIZE_X, \n                                      BUTTON_SIZE_Y );\n                contentPane.add(startButton);\n</code></pre>\n\n<p>where <code>contentPane</code> is the <code>Container</code>  object that holds the entire frame : </p>\n\n<pre><code> JFrame frame = new JFrame(\"Some name goes here\");\n Container contentPane = frame.getContentPane();\n</code></pre>\n\n<p>I hope this helps , works great for me ...</p>\n"},{"tags":[],"owner":{"account_id":3493101,"reputation":1,"user_id":2922186,"display_name":"Carlos Xavier"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1382764208,"creation_date":1382762635,"answer_id":19602899,"question_id":3195666,"body_markdown":"First, remember your JPanel size height and size width, then observe: JButton coordinates is (xo, yo, x length , y length). If your window is 800x600, you just need to write:\r\n\r\n    JButton.setBounds(0, 500, 100, 100);\r\n\r\nYou just need to use a coordinate gap to represent the button, and know where the window ends and where the window begins.","title":"How to place a JButton at a desired location in a JFrame using Java?","body":"<p>First, remember your JPanel size height and size width, then observe: JButton coordinates is (xo, yo, x length , y length). If your window is 800x600, you just need to write:</p>\n\n<pre><code>JButton.setBounds(0, 500, 100, 100);\n</code></pre>\n\n<p>You just need to use a coordinate gap to represent the button, and know where the window ends and where the window begins.</p>\n"},{"tags":[],"owner":{"account_id":12289259,"reputation":146,"user_id":8967324,"display_name":"Daniel Tremblay"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1532344246,"creation_date":1532344246,"answer_id":51477432,"question_id":3195666,"body_markdown":"You should set layout first by syntax `pnlButton.setLayout()`, and then choose the most suitable layout which u want. Ex: `pnlButton.setLayout(new FlowLayout(FlowLayout.LEADING, 5, 5));`. And then, take that JButton into JPanel.","title":"How to place a JButton at a desired location in a JFrame using Java?","body":"<p>You should set layout first by syntax <code>pnlButton.setLayout()</code>, and then choose the most suitable layout which u want. Ex: <code>pnlButton.setLayout(new FlowLayout(FlowLayout.LEADING, 5, 5));</code>. And then, take that JButton into JPanel.</p>\n"},{"tags":[],"owner":{"account_id":114128,"reputation":50422,"user_id":300257,"accept_rate":89,"display_name":"Gilbert Le Blanc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1649876862,"creation_date":1649876862,"answer_id":71862708,"question_id":3195666,"body_markdown":"Oracle has a helpful tutorial, [Creating a GUI With Swing](https://docs.oracle.com/javase/tutorial/uiswing/index.html).  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the [Laying Out Components Within a Container](https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html) section.\r\n\r\nI created the following GUI.\r\n\r\n[![Air Traffic Control][1]][1]\r\n\r\nAll Swing applications must start with a call to the `SwingUtilities` `invokeLater` method.  This method ensures that the Swing components are created and executed on the [Event Dispatch Thread][2].\r\n\r\nI used a `JFrame`.  I did not extend a `JFrame`.  This is referred to as composition over inheritance.  The only reason you should extend a Swing component, or any Java class, is if you intend to override one or more of the class methods.\r\n\r\nA `JFrame` has a default `BorderLayout`.  I placed the `JPanel` in the center of the `JFrame`.\r\n\r\nI created a `JPanel` to place in the `JFrame`.  I used a `FlowLayout` to place the `JButton` in the center of the top of the `JPanel`.  If you want the `JButton` to be somewhere else, you can adjust the values of the empty border to place the `JButton` where you want.\r\n\r\nHere&#39;s the complete runnable code.\r\n\r\n    import java.awt.BorderLayout;\r\n    import java.awt.Dimension;\r\n    import java.awt.FlowLayout;\r\n    \r\n    import javax.swing.BorderFactory;\r\n    import javax.swing.JButton;\r\n    import javax.swing.JFrame;\r\n    import javax.swing.JPanel;\r\n    import javax.swing.SwingUtilities;\r\n    \r\n    public class AirTrafficControl implements Runnable {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\tSwingUtilities.invokeLater(new AirTrafficControl());\r\n    \t}\r\n    \r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tJFrame frame = new JFrame(&quot;Air Traffic Control&quot;);\r\n    \t\tframe.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n    \t\t\r\n    \t\tframe.add(createMainPanel(), BorderLayout.CENTER);\r\n    \t\t\r\n    \t\tframe.pack();\r\n    \t\tframe.setLocationByPlatform(true);\r\n    \t\tframe.setVisible(true);\r\n    \t}\r\n    \t\r\n    \tprivate JPanel createMainPanel() {\r\n    \t\tJPanel panel = new JPanel(new FlowLayout());\r\n    \t\tpanel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\r\n    \t\tpanel.setPreferredSize(new Dimension(400, 400));\r\n    \t\t\r\n    \t\tJButton btnAddFlight = new JButton(&quot;Add Flight&quot;);\r\n    \t\tpanel.add(btnAddFlight);\r\n    \t\t\r\n    \t\treturn panel;\r\n    \t}\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/htXVd.png\r\n  [2]: https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\r\n","title":"How to place a JButton at a desired location in a JFrame using Java?","body":"<p>Oracle has a helpful tutorial, <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/index.html\" rel=\"nofollow noreferrer\">Creating a GUI With Swing</a>.  Skip the Learning Swing with the NetBeans IDE section.  Pay close attention to the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/layout/index.html\" rel=\"nofollow noreferrer\">Laying Out Components Within a Container</a> section.</p>\n<p>I created the following GUI.</p>\n<p><a href=\"https://i.stack.imgur.com/htXVd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/htXVd.png\" alt=\"Air Traffic Control\" /></a></p>\n<p>All Swing applications must start with a call to the <code>SwingUtilities</code> <code>invokeLater</code> method.  This method ensures that the Swing components are created and executed on the <a href=\"https://docs.oracle.com/javase/tutorial/uiswing/concurrency/dispatch.html\" rel=\"nofollow noreferrer\">Event Dispatch Thread</a>.</p>\n<p>I used a <code>JFrame</code>.  I did not extend a <code>JFrame</code>.  This is referred to as composition over inheritance.  The only reason you should extend a Swing component, or any Java class, is if you intend to override one or more of the class methods.</p>\n<p>A <code>JFrame</code> has a default <code>BorderLayout</code>.  I placed the <code>JPanel</code> in the center of the <code>JFrame</code>.</p>\n<p>I created a <code>JPanel</code> to place in the <code>JFrame</code>.  I used a <code>FlowLayout</code> to place the <code>JButton</code> in the center of the top of the <code>JPanel</code>.  If you want the <code>JButton</code> to be somewhere else, you can adjust the values of the empty border to place the <code>JButton</code> where you want.</p>\n<p>Here's the complete runnable code.</p>\n<pre><code>import java.awt.BorderLayout;\nimport java.awt.Dimension;\nimport java.awt.FlowLayout;\n\nimport javax.swing.BorderFactory;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\nimport javax.swing.SwingUtilities;\n\npublic class AirTrafficControl implements Runnable {\n\n    public static void main(String[] args) {\n        SwingUtilities.invokeLater(new AirTrafficControl());\n    }\n\n    @Override\n    public void run() {\n        JFrame frame = new JFrame(&quot;Air Traffic Control&quot;);\n        frame.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        \n        frame.add(createMainPanel(), BorderLayout.CENTER);\n        \n        frame.pack();\n        frame.setLocationByPlatform(true);\n        frame.setVisible(true);\n    }\n    \n    private JPanel createMainPanel() {\n        JPanel panel = new JPanel(new FlowLayout());\n        panel.setBorder(BorderFactory.createEmptyBorder(0, 5, 5, 5));\n        panel.setPreferredSize(new Dimension(400, 400));\n        \n        JButton btnAddFlight = new JButton(&quot;Add Flight&quot;);\n        panel.add(btnAddFlight);\n        \n        return panel;\n    }\n\n}\n</code></pre>\n"}],"owner":{"account_id":142750,"reputation":2897,"user_id":350648,"accept_rate":86,"display_name":"Haxed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":241433,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":3195713,"answer_count":7,"score":22,"last_activity_date":1662146209,"creation_date":1278512644,"question_id":3195666,"body_markdown":"I want to put a ```JButton``` at a particular **coordinate** in a ```JFrame```. I used ```setBounds()``` for the ```JPanel``` (which I placed on the ```JFrame```) and also ```setBounds()``` for the ```JButton```. However, they don&#39;t seem to function as expected.\r\n\r\nMy Output:\r\n\r\n[![alt text][1]][1]\r\n&lt;!-- source: http://i49.tinypic.com/2d8kuah.jpg --&gt;\r\n\r\n\r\nThis is my code:\r\n\r\n\timport java.awt.Color;\r\n\timport javax.swing.JButton;\r\n\timport javax.swing.JFrame;\r\n\timport javax.swing.JPanel;\r\n\t\r\n\tpublic class Control extends JFrame {\r\n\t\r\n\t\t// JPanel\r\n\t\tJPanel pnlButton = new JPanel();\r\n\t\t// Buttons\r\n\t\tJButton btnAddFlight = new JButton(&quot;Add Flight&quot;);\r\n\t\r\n\t\tpublic Control() {\r\n\t\t\t// FlightInfo setbounds\r\n\t\t\tbtnAddFlight.setBounds(60, 400, 220, 30);\r\n\t\r\n\t\t\t// JPanel bounds\r\n\t\t\tpnlButton.setBounds(800, 800, 200, 100);\r\n\t\r\n\t\t\t// Adding to JFrame\r\n\t\t\tpnlButton.add(btnAddFlight);\r\n\t\t\tadd(pnlButton);\r\n\t\r\n\t\t\t// JFrame properties\r\n\t\t\tsetSize(400, 400);\r\n\t\t\tsetBackground(Color.BLACK);\r\n\t\t\tsetTitle(&quot;Air Traffic Control&quot;);\r\n\t\t\tsetLocationRelativeTo(null);\r\n\t\t\tsetDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\r\n\t\t\tsetVisible(true);\r\n\t\t}\r\n\t\r\n\t\tpublic static void main(String[] args) {\r\n\t\t\tnew Control();\r\n\t\t}\r\n\t}\r\n\r\nHow do I place the ```JButton``` at coordinate (0, 0)? \r\n\r\n  [1]: https://i.stack.imgur.com/mxlFq.jpg","title":"How to place a JButton at a desired location in a JFrame using Java?","body":"<p>I want to put a <code>JButton</code> at a particular <strong>coordinate</strong> in a <code>JFrame</code>. I used <code>setBounds()</code> for the <code>JPanel</code> (which I placed on the <code>JFrame</code>) and also <code>setBounds()</code> for the <code>JButton</code>. However, they don't seem to function as expected.</p>\n<p>My Output:</p>\n<p><a href=\"https://i.stack.imgur.com/mxlFq.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/mxlFq.jpg\" alt=\"alt text\" /></a></p>\n\n<p>This is my code:</p>\n<pre><code>import java.awt.Color;\nimport javax.swing.JButton;\nimport javax.swing.JFrame;\nimport javax.swing.JPanel;\n\npublic class Control extends JFrame {\n\n    // JPanel\n    JPanel pnlButton = new JPanel();\n    // Buttons\n    JButton btnAddFlight = new JButton(&quot;Add Flight&quot;);\n\n    public Control() {\n        // FlightInfo setbounds\n        btnAddFlight.setBounds(60, 400, 220, 30);\n\n        // JPanel bounds\n        pnlButton.setBounds(800, 800, 200, 100);\n\n        // Adding to JFrame\n        pnlButton.add(btnAddFlight);\n        add(pnlButton);\n\n        // JFrame properties\n        setSize(400, 400);\n        setBackground(Color.BLACK);\n        setTitle(&quot;Air Traffic Control&quot;);\n        setLocationRelativeTo(null);\n        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);\n        setVisible(true);\n    }\n\n    public static void main(String[] args) {\n        new Control();\n    }\n}\n</code></pre>\n<p>How do I place the <code>JButton</code> at coordinate (0, 0)?</p>\n"},{"tags":["java","algorithm","hashmap","memory-limit"],"comments":[{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1661594896,"post_id":73508427,"comment_id":129812534,"body_markdown":"What is the question?","body":"What is the question?"},{"owner":{"account_id":6136413,"reputation":8488,"user_id":4785110,"display_name":"maraca"},"score":0,"creation_date":1661595331,"post_id":73508427,"comment_id":129812616,"body_markdown":"One thing I can see immediately is that isDiff in pair is wrong. E.g. (3,3) and (3,4) you will return false. It should be (i == this.i &amp;&amp; j == this.j) || (i == this.j &amp;&amp; j == this.i)","body":"One thing I can see immediately is that isDiff in pair is wrong. E.g. (3,3) and (3,4) you will return false. It should be (i == this.i &amp;&amp; j == this.j) || (i == this.j &amp;&amp; j == this.i)"},{"owner":{"account_id":26144057,"reputation":63,"user_id":19832969,"display_name":"Gosha Efimenko"},"score":0,"creation_date":1661597570,"post_id":73508427,"comment_id":129812998,"body_markdown":"I compare Index , but not values, values can be duplicated, index is unique.","body":"I compare Index , but not values, values can be duplicated, index is unique."},{"owner":{"account_id":26144057,"reputation":63,"user_id":19832969,"display_name":"Gosha Efimenko"},"score":0,"creation_date":1661597912,"post_id":73508427,"comment_id":129813069,"body_markdown":"For example input data [ 2 3 2 4 1 10 3 0 ] , sum is 8 , answer is [0 3 3 4], [1 2 3 4],\n[2 2 3 3]","body":"For example input data [ 2 3 2 4 1 10 3 0 ] , sum is 8 , answer is [0 3 3 4], [1 2 3 4], [2 2 3 3]"},{"owner":{"account_id":6871984,"reputation":5297,"user_id":5281962,"accept_rate":100,"display_name":"Cherubim"},"score":1,"creation_date":1661621180,"post_id":73508427,"comment_id":129817566,"body_markdown":"Have a look at this article: https://leetcode.com/problems/4sum/solution/","body":"Have a look at this article: <a href=\"https://leetcode.com/problems/4sum/solution/\" rel=\"nofollow noreferrer\">leetcode.com/problems/4sum/solution</a>"},{"owner":{"account_id":26144057,"reputation":63,"user_id":19832969,"display_name":"Gosha Efimenko"},"score":0,"creation_date":1661647227,"post_id":73508427,"comment_id":129821437,"body_markdown":"I think i can find the solution there, nice link,thanks","body":"I think i can find the solution there, nice link,thanks"}],"answers":[{"tags":[],"owner":{"account_id":26144057,"reputation":63,"user_id":19832969,"display_name":"Gosha Efimenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662146004,"creation_date":1661677472,"answer_id":73517357,"question_id":73508427,"body_markdown":"In my case, I change the Pair object to `int[2]`, with indexes of pair elements. And memory limit issue is resolved.","title":"Search unique fours for the defined sum","body":"<p>In my case, I change the Pair object to <code>int[2]</code>, with indexes of pair elements. And memory limit issue is resolved.</p>\n"}],"owner":{"account_id":26144057,"reputation":63,"user_id":19832969,"display_name":"Gosha Efimenko"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":92,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1662146004,"creation_date":1661575476,"question_id":73508427,"body_markdown":"I have a task to find four unique elements , sum of which is defined. So I have as input data :  data array of n elemeents, elements can be duplicated, and &#39;s&#39;  is sum. \r\n   I have  two cycles , first i in values [0, n-1], second j  in  [i+1, n]. All unique pairs of elements I save in Map , where key is sum   and value is Collections of possible elements whats consists that sum. Result is  collection of four unique elements of input data array. All actions  I do in second cycle :\r\n1) I check if I already have a differents  beetween   &#39;s&#39; and  data[i]+data[j] , \r\n2)if I have I check , if data[i] and data[j] doesn&#39;t coinside with elements from saved pairs and add to reslut.\r\n3) Add this pair data[i] + data [ j] to Map with history\r\n\r\nI have a Memory Limit in this task  and I  get over  it. Time limit is O(n^2). As I undestand I do some extra actions and save some unnecessary data.I created two object Fourths and Pairs , but they has only primitive fields inside so I thinK what deal is not in that \r\n\r\nHere is my code in java:\r\n```\r\npublic class SunForthFAIL {\r\n\r\n  public static void main(String[] args) throws IOException {\r\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\r\n    int n = Integer.parseInt(reader.readLine());\r\n    int s = Integer.parseInt(reader.readLine());\r\n    int[] data = new int[n];\r\n    Set&lt;Forths&gt; result = new HashSet&lt;&gt;();\r\n    Map&lt;Integer, Set&lt;Pair&gt;&gt; history = new HashMap&lt;&gt;();\r\n\r\n    StringTokenizer stringTokenizer = new StringTokenizer(reader.readLine());\r\n    for (int i = 0; i &lt; n; i++) {\r\n      data[i] = Integer.parseInt(stringTokenizer.nextToken());\r\n    }\r\n    Arrays.sort(data);\r\n\r\n    for (int i = 0; i &lt; n - 1; i++) {\r\n      for (int j = i + 1; j &lt; n; j++) {\r\n\r\n        int sum = data[i] + data[j];\r\n        int target = s - sum;\r\n        if (history.containsKey(target)) {\r\n          for (Pair historyPair : history.get(target)) {\r\n            if (historyPair.isDiff(i, j)) {\r\n              result.add(new Forths(historyPair.getiValue(), historyPair.getjValue(), data[i], data[j]));\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n\r\n        if (history.containsKey(sum)) {\r\n          history.get(sum).add(new Pair(i, j, data[i], data[j]));\r\n        } else {\r\n          Set&lt;Pair&gt; set = new HashSet&lt;&gt;();\r\n          set.add(new Pair(i, j, data[i], data[j]));\r\n          history.put(data[i] + data[j], set);\r\n        }\r\n\r\n      }\r\n    }\r\n    System.out.println(result.size());\r\n    result.stream().sorted(Comparator.comparingInt(Forths::getFirst).thenComparing(Comparator.comparingInt(Forths::getSecond))).forEach(x -&gt; System.out.println(x));\r\n  }\r\n}\r\n```\r\n```\r\nclass Pair {\r\n\r\n  private int i;\r\n  private int j;\r\n  private int iValue;\r\n  private int jValue;\r\n\r\n  public int getiValue() {\r\n    return iValue;\r\n  }\r\n\r\n  public int getjValue() {\r\n    return jValue;\r\n  }\r\n\r\n  public Pair(int i, int j, int iValue, int jValue) {\r\n    this.i = i;\r\n    this.j = j;\r\n    this.iValue = iValue;\r\n    this.jValue = jValue;\r\n    ;\r\n  }\r\n\r\n  public boolean isEquel(int i, int j) {\r\n    if (Math.min(iValue, jValue) == Math.min(i, j) &amp;&amp;\r\n            Math.max(iValue, jValue) == Math.max(i, j))\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (o == null || getClass() != o.getClass()) return false;\r\n    Pair pair = (Pair) o;\r\n    if (Math.min(iValue, jValue) == Math.min(pair.iValue, pair.jValue) &amp;&amp;\r\n            Math.max(iValue, jValue) == Math.max(pair.iValue, pair.jValue))\r\n      return true;\r\n    else\r\n      return false;\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(Math.min(iValue, jValue) + &quot; &quot; + Math.max(iValue, jValue));\r\n  }\r\n\r\n  public boolean isDiff(int i, int j) {\r\n    if (this.i == i || this.i == j || this.j == i || this.j == j)\r\n      return false;\r\n    else\r\n      return true;\r\n  }\r\n}\r\n```\r\n```\r\nclass Forths {\r\n\r\n  private int first;\r\n  private int second;\r\n  private int third;\r\n  private int forth;\r\n\r\n\r\n  public int getFirst() {\r\n    return first;\r\n  }\r\n\r\n  public int getSecond() {\r\n    return second;\r\n  }\r\n\r\n\r\n  public Forths(int a, int b, int c, int d) {\r\n    int[] arr = new int[]{a, b, c, d};\r\n    Arrays.sort(arr);\r\n    this.first = arr[0];\r\n    this.second = arr[1];\r\n    this.third = arr[2];\r\n    this.forth = arr[3];\r\n\r\n  }\r\n\r\n  @Override\r\n  public boolean equals(Object o) {\r\n    if (this == o) return true;\r\n    if (o == null || getClass() != o.getClass()) return false;\r\n    Forths forths = (Forths) o;\r\n    return first == forths.first &amp;&amp; second == forths.second &amp;&amp; third == forths.third &amp;&amp; forth == forths.forth;\r\n  }\r\n\r\n  @Override\r\n  public int hashCode() {\r\n    return Objects.hash(first, second, third, forth);\r\n  }\r\n\r\n  @Override\r\n  public String toString() {\r\n    return first + &quot; &quot; + second + &quot; &quot; + third + &quot; &quot; + forth;\r\n  }\r\n}\r\n```","title":"Search unique fours for the defined sum","body":"<p>I have a task to find four unique elements , sum of which is defined. So I have as input data :  data array of n elemeents, elements can be duplicated, and 's'  is sum.\nI have  two cycles , first i in values [0, n-1], second j  in  [i+1, n]. All unique pairs of elements I save in Map , where key is sum   and value is Collections of possible elements whats consists that sum. Result is  collection of four unique elements of input data array. All actions  I do in second cycle :</p>\n<ol>\n<li>I check if I already have a differents  beetween   's' and  data[i]+data[j] ,\n2)if I have I check , if data[i] and data[j] doesn't coinside with elements from saved pairs and add to reslut.</li>\n<li>Add this pair data[i] + data [ j] to Map with history</li>\n</ol>\n<p>I have a Memory Limit in this task  and I  get over  it. Time limit is O(n^2). As I undestand I do some extra actions and save some unnecessary data.I created two object Fourths and Pairs , but they has only primitive fields inside so I thinK what deal is not in that</p>\n<p>Here is my code in java:</p>\n<pre><code>public class SunForthFAIL {\n\n  public static void main(String[] args) throws IOException {\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));\n    int n = Integer.parseInt(reader.readLine());\n    int s = Integer.parseInt(reader.readLine());\n    int[] data = new int[n];\n    Set&lt;Forths&gt; result = new HashSet&lt;&gt;();\n    Map&lt;Integer, Set&lt;Pair&gt;&gt; history = new HashMap&lt;&gt;();\n\n    StringTokenizer stringTokenizer = new StringTokenizer(reader.readLine());\n    for (int i = 0; i &lt; n; i++) {\n      data[i] = Integer.parseInt(stringTokenizer.nextToken());\n    }\n    Arrays.sort(data);\n\n    for (int i = 0; i &lt; n - 1; i++) {\n      for (int j = i + 1; j &lt; n; j++) {\n\n        int sum = data[i] + data[j];\n        int target = s - sum;\n        if (history.containsKey(target)) {\n          for (Pair historyPair : history.get(target)) {\n            if (historyPair.isDiff(i, j)) {\n              result.add(new Forths(historyPair.getiValue(), historyPair.getjValue(), data[i], data[j]));\n            }\n          }\n\n        }\n\n\n        if (history.containsKey(sum)) {\n          history.get(sum).add(new Pair(i, j, data[i], data[j]));\n        } else {\n          Set&lt;Pair&gt; set = new HashSet&lt;&gt;();\n          set.add(new Pair(i, j, data[i], data[j]));\n          history.put(data[i] + data[j], set);\n        }\n\n      }\n    }\n    System.out.println(result.size());\n    result.stream().sorted(Comparator.comparingInt(Forths::getFirst).thenComparing(Comparator.comparingInt(Forths::getSecond))).forEach(x -&gt; System.out.println(x));\n  }\n}\n</code></pre>\n<pre><code>class Pair {\n\n  private int i;\n  private int j;\n  private int iValue;\n  private int jValue;\n\n  public int getiValue() {\n    return iValue;\n  }\n\n  public int getjValue() {\n    return jValue;\n  }\n\n  public Pair(int i, int j, int iValue, int jValue) {\n    this.i = i;\n    this.j = j;\n    this.iValue = iValue;\n    this.jValue = jValue;\n    ;\n  }\n\n  public boolean isEquel(int i, int j) {\n    if (Math.min(iValue, jValue) == Math.min(i, j) &amp;&amp;\n            Math.max(iValue, jValue) == Math.max(i, j))\n      return true;\n    else\n      return false;\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Pair pair = (Pair) o;\n    if (Math.min(iValue, jValue) == Math.min(pair.iValue, pair.jValue) &amp;&amp;\n            Math.max(iValue, jValue) == Math.max(pair.iValue, pair.jValue))\n      return true;\n    else\n      return false;\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(Math.min(iValue, jValue) + &quot; &quot; + Math.max(iValue, jValue));\n  }\n\n  public boolean isDiff(int i, int j) {\n    if (this.i == i || this.i == j || this.j == i || this.j == j)\n      return false;\n    else\n      return true;\n  }\n}\n</code></pre>\n<pre><code>class Forths {\n\n  private int first;\n  private int second;\n  private int third;\n  private int forth;\n\n\n  public int getFirst() {\n    return first;\n  }\n\n  public int getSecond() {\n    return second;\n  }\n\n\n  public Forths(int a, int b, int c, int d) {\n    int[] arr = new int[]{a, b, c, d};\n    Arrays.sort(arr);\n    this.first = arr[0];\n    this.second = arr[1];\n    this.third = arr[2];\n    this.forth = arr[3];\n\n  }\n\n  @Override\n  public boolean equals(Object o) {\n    if (this == o) return true;\n    if (o == null || getClass() != o.getClass()) return false;\n    Forths forths = (Forths) o;\n    return first == forths.first &amp;&amp; second == forths.second &amp;&amp; third == forths.third &amp;&amp; forth == forths.forth;\n  }\n\n  @Override\n  public int hashCode() {\n    return Objects.hash(first, second, third, forth);\n  }\n\n  @Override\n  public String toString() {\n    return first + &quot; &quot; + second + &quot; &quot; + third + &quot; &quot; + forth;\n  }\n}\n</code></pre>\n"},{"tags":["java","spring-batch"],"comments":[{"owner":{"account_id":26201725,"reputation":1,"user_id":19881976,"display_name":"user19881976"},"score":0,"creation_date":1661889727,"post_id":73547716,"comment_id":129878418,"body_markdown":"@xerx593 yes sorry I was shortening the original code and accidentally left it in","body":"@xerx593 yes sorry I was shortening the original code and accidentally left it in"},{"owner":{"account_id":290683,"reputation":12512,"user_id":592355,"display_name":"xerx593"},"score":0,"creation_date":1661894146,"post_id":73547716,"comment_id":129879592,"body_markdown":"the comma behind `&quot;INVOICE_NUM&quot;`(!?:)","body":"the comma behind <code>&quot;INVOICE_NUM&quot;</code>(!?:)"},{"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"score":0,"creation_date":1661941660,"post_id":73547716,"comment_id":129890026,"body_markdown":"You need a custom LineTokenizer or RowMapper that escapes commas in your actual data, see the duplicate question/answer thread.","body":"You need a custom LineTokenizer or RowMapper that escapes commas in your actual data, see the duplicate question/answer thread."}],"owner":{"account_id":26201725,"reputation":1,"user_id":19881976,"display_name":"user19881976"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":24,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1661941582,"answer_count":0,"score":0,"last_activity_date":1662145901,"creation_date":1661888641,"question_id":73547716,"body_markdown":"I&#39;m new to the spring batch and a Java novice. I am making an application that uses `JdbcCursorItemReader` to read data from a database and `FlatFileItemWriter` to write it to a CSV file. One of the columns has commas in it so the data is being separated at the wrong spot when it is written to the file. I&#39;ve seen examples of how to fix this but none of them use `FlatFileItemWriter`. Is there an easy way to handle that without having to completely rewrite my entire code?\r\n\r\nExample Code:\r\n\r\n```Java\r\n@Configuration\r\npublic class JobConfig {\r\n\r\n    @Autowired\r\n    private JobBuilderFactory jobBuilderFactory;\r\n\r\n    @Autowired\r\n    private StepBuilderFactory stepBuilderFactory;\r\n\r\n    @Autowired\r\n    private DataSource dataSource;\r\n\r\n    @Bean\r\n    public Job job() {\r\n        return jobBuilderFactory.get(&quot;job&quot;)\r\n                .incrementer(new RunIdIncrementer())\r\n                .start(step1())\r\n                .build();\r\n    }\r\n\r\n\r\n    public Step step1() {\r\n        log.info(&quot;Initializing Step1&quot;);\r\n        return stepBuilderFactory.get(&quot;step1&quot;)\r\n                .&lt;Invoice, Invoice&gt;chunk(10)\r\n                .reader(jdbcCursorItemReader1())\r\n                .writer(flatFileItemWriter1())\r\n                .build();\r\n    }\r\n\r\n\r\n\r\n    @StepScope\r\n    @Bean\r\n    public JdbcCursorItemReader&lt;Invoice&gt; jdbcCursorItemReader1(){\r\n        log.info(&quot;Initializing Reader1&quot;);\r\n        JdbcCursorItemReader&lt;Invoice&gt; jdbcCursorItemReader1 = new JdbcCursorItemReader&lt;Invoice&gt;();\r\n        jdbcCursorItemReader1.setDataSource(dataSource);\r\n        jdbcCursorItemReader1.setSql(&quot;select\\n&quot; +\r\n                &quot;SEGMENT1,\\n&quot; +\r\n                &quot;VENDOR_NAME,\\n&quot; +\r\n                &quot;INVOICE_NUM,\\n&quot; +\r\n                &quot;from Suppliers&quot;);\r\n        jdbcCursorItemReader1.setRowMapper(new BeanPropertyRowMapper&lt;Invoice&gt;(){\r\n            {\r\n                setMappedClass(Invoice.class);\r\n            }\r\n        });\r\n\r\n            return jdbcCursorItemReader1;\r\n\r\n    }\r\n\r\n    @StepScope\r\n    @Bean\r\n    public FlatFileItemWriter&lt;Invoice&gt; flatFileItemWriter1() {\r\n        log.info(&quot;Initializing Writer&quot;);\r\n        FlatFileItemWriter&lt;Invoice&gt; flatFileItemWriter1 = new FlatFileItemWriter&lt;Invoice&gt;();\r\n\r\n\r\n        flatFileItemWriter1.setResource(new FileSystemResource(&quot;random location/name.csv&quot;));\r\n\r\n\r\n        flatFileItemWriter1.setHeaderCallback(new FlatFileHeaderCallback() {\r\n            @Override\r\n            public void writeHeader(Writer writer) throws IOException {\r\n                writer.write(&quot;Segment 1, Vendor Name, Invoice Num&quot;);\r\n            }\r\n        });\r\n        flatFileItemWriter1.setLineAggregator(new DelimitedLineAggregator&lt;Invoice&gt;(){\r\n            {\r\n\r\n                setFieldExtractor(new BeanWrapperFieldExtractor&lt;Invoice&gt;(){\r\n                    {\r\n                        setNames(new String[]{&quot;segment1&quot;, &quot;vendorName&quot;, &quot;invoiceNum&quot;});\r\n\r\n                    }\r\n\r\n                });\r\n            }\r\n        });\r\n        return flatFileItemWriter1;\r\n    }\r\n```\r\n","title":"Created Java Spring Batch app to write to CSV file using FlatFileItemWriter, one field has commas in it and the file columns are messed up","body":"<p>I'm new to the spring batch and a Java novice. I am making an application that uses <code>JdbcCursorItemReader</code> to read data from a database and <code>FlatFileItemWriter</code> to write it to a CSV file. One of the columns has commas in it so the data is being separated at the wrong spot when it is written to the file. I've seen examples of how to fix this but none of them use <code>FlatFileItemWriter</code>. Is there an easy way to handle that without having to completely rewrite my entire code?</p>\n<p>Example Code:</p>\n<pre><code>@Configuration\npublic class JobConfig {\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Autowired\n    private DataSource dataSource;\n\n    @Bean\n    public Job job() {\n        return jobBuilderFactory.get(&quot;job&quot;)\n                .incrementer(new RunIdIncrementer())\n                .start(step1())\n                .build();\n    }\n\n\n    public Step step1() {\n        log.info(&quot;Initializing Step1&quot;);\n        return stepBuilderFactory.get(&quot;step1&quot;)\n                .&lt;Invoice, Invoice&gt;chunk(10)\n                .reader(jdbcCursorItemReader1())\n                .writer(flatFileItemWriter1())\n                .build();\n    }\n\n\n\n    @StepScope\n    @Bean\n    public JdbcCursorItemReader&lt;Invoice&gt; jdbcCursorItemReader1(){\n        log.info(&quot;Initializing Reader1&quot;);\n        JdbcCursorItemReader&lt;Invoice&gt; jdbcCursorItemReader1 = new JdbcCursorItemReader&lt;Invoice&gt;();\n        jdbcCursorItemReader1.setDataSource(dataSource);\n        jdbcCursorItemReader1.setSql(&quot;select\\n&quot; +\n                &quot;SEGMENT1,\\n&quot; +\n                &quot;VENDOR_NAME,\\n&quot; +\n                &quot;INVOICE_NUM,\\n&quot; +\n                &quot;from Suppliers&quot;);\n        jdbcCursorItemReader1.setRowMapper(new BeanPropertyRowMapper&lt;Invoice&gt;(){\n            {\n                setMappedClass(Invoice.class);\n            }\n        });\n\n            return jdbcCursorItemReader1;\n\n    }\n\n    @StepScope\n    @Bean\n    public FlatFileItemWriter&lt;Invoice&gt; flatFileItemWriter1() {\n        log.info(&quot;Initializing Writer&quot;);\n        FlatFileItemWriter&lt;Invoice&gt; flatFileItemWriter1 = new FlatFileItemWriter&lt;Invoice&gt;();\n\n\n        flatFileItemWriter1.setResource(new FileSystemResource(&quot;random location/name.csv&quot;));\n\n\n        flatFileItemWriter1.setHeaderCallback(new FlatFileHeaderCallback() {\n            @Override\n            public void writeHeader(Writer writer) throws IOException {\n                writer.write(&quot;Segment 1, Vendor Name, Invoice Num&quot;);\n            }\n        });\n        flatFileItemWriter1.setLineAggregator(new DelimitedLineAggregator&lt;Invoice&gt;(){\n            {\n\n                setFieldExtractor(new BeanWrapperFieldExtractor&lt;Invoice&gt;(){\n                    {\n                        setNames(new String[]{&quot;segment1&quot;, &quot;vendorName&quot;, &quot;invoiceNum&quot;});\n\n                    }\n\n                });\n            }\n        });\n        return flatFileItemWriter1;\n    }\n</code></pre>\n"},{"tags":["java","html","jsp","jakarta-ee","utf-8"],"comments":[{"owner":{"account_id":1215623,"reputation":1938,"user_id":1183284,"display_name":"MartinK"},"score":2,"creation_date":1338892953,"post_id":10895743,"comment_id":14203657,"body_markdown":"http://wiki.apache.org/tomcat/FAQ/CharacterEncoding","body":"<a href=\"http://wiki.apache.org/tomcat/FAQ/CharacterEncoding\" rel=\"nofollow noreferrer\">wiki.apache.org/tomcat/FAQ/CharacterEncoding</a>"}],"answers":[{"tags":[],"owner":{"account_id":29910,"reputation":113460,"user_id":81179,"accept_rate":100,"display_name":"ChristopheD"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1338892683,"creation_date":1338892683,"answer_id":10895780,"question_id":10895743,"body_markdown":"Try setting `request.setCharacterEncoding(&quot;UTF-8&quot;)` before the first call to `getParameter()`.\r\n\r\nIf that doesn&#39;t work, have a look [at your Tomcat config][1].\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3278900/httpservletrequest-setcharacterencoding-seems-to-do-nothing","title":"Java handling special character in request.getParameter","body":"<p>Try setting <code>request.setCharacterEncoding(\"UTF-8\")</code> before the first call to <code>getParameter()</code>.</p>\n\n<p>If that doesn't work, have a look <a href=\"https://stackoverflow.com/questions/3278900/httpservletrequest-setcharacterencoding-seems-to-do-nothing\">at your Tomcat config</a>.</p>\n"},{"tags":[],"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1338893253,"creation_date":1338892733,"answer_id":10895791,"question_id":10895743,"body_markdown":"I know what&#39;s your problem: Your application server/servlet container is not configured to support unicode characters.\r\n\r\nYou will have to configure you application server/servlet container to support UTF Encoding. Tomcat Example has been answered in this [SO question][1].\r\n\r\nAnother alternative is to write a Character Encoding Filter and configure it in your web application.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3278900/httpservletrequest-setcharacterencoding-seems-to-do-nothing","title":"Java handling special character in request.getParameter","body":"<p>I know what's your problem: Your application server/servlet container is not configured to support unicode characters.</p>\n\n<p>You will have to configure you application server/servlet container to support UTF Encoding. Tomcat Example has been answered in this <a href=\"https://stackoverflow.com/questions/3278900/httpservletrequest-setcharacterencoding-seems-to-do-nothing\">SO question</a>.</p>\n\n<p>Another alternative is to write a Character Encoding Filter and configure it in your web application.</p>\n"}],"owner":{"account_id":1506691,"reputation":1445,"user_id":1409913,"accept_rate":27,"display_name":"nakul"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7936,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662145361,"creation_date":1338892531,"question_id":10895743,"body_markdown":"I am trying to get parameter in my java class that contain a special character. I have added it as follows \r\n\r\n       &lt;%@ page language=&quot;java&quot; contentType=&quot;text/html; charset=UTF-8&quot;\r\n        pageEncoding=&quot;UTF-8&quot;%&gt; \r\n\r\nI have these two parameters:\r\n(1)3 days System Admin (6EE SP1) training at VMware Bangalore location\r\n(2)Daiichi:eDossier &#226; Phase1 new_6500004691\r\n\r\nAfter submitting the page i get the perfect result,but two parameter names gets change as below:\r\n\r\n(1)Daiichi:eDossier &#195;&#162;&#226;&#172;&#226; Phase1 new_6500004691\r\n(1)3 &#226;days System Admin (6EE SP1) training at VMware Bangalore\r\n\r\nPlease suggest","title":"Java handling special character in request.getParameter","body":"<p>I am trying to get parameter in my java class that contain a special character. I have added it as follows </p>\n\n<pre><code>   &lt;%@ page language=\"java\" contentType=\"text/html; charset=UTF-8\"\n    pageEncoding=\"UTF-8\"%&gt; \n</code></pre>\n\n<p>I have these two parameters:\n(1)3 days System Admin (6EE SP1) training at VMware Bangalore location\n(2)Daiichi:eDossier  Phase1 new_6500004691</p>\n\n<p>After submitting the page i get the perfect result,but two parameter names gets change as below:</p>\n\n<p>(1)Daiichi:eDossier  Phase1 new_6500004691\n(1)3 days System Admin (6EE SP1) training at VMware Bangalore</p>\n\n<p>Please suggest</p>\n"},{"tags":["java","spring","entitymanager"],"answers":[{"tags":[],"owner":{"account_id":4210557,"reputation":81,"user_id":3448387,"display_name":"iosparkletree"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662145226,"creation_date":1662144408,"answer_id":73586850,"question_id":73586849,"body_markdown":"Solved my own question.  Turns out that `MyObject` had a `@NamedEntityGraph` with an invalid `@NamedAttributeNode`.  (I had included a child object as a regular attribute when it should have been a `@NamedSubgraph`). When I deleted the invalid `@NamedAttributeNode`, the `.find()` returned successfully.  ","title":"EntityManager find() hangs","body":"<p>Solved my own question.  Turns out that <code>MyObject</code> had a <code>@NamedEntityGraph</code> with an invalid <code>@NamedAttributeNode</code>.  (I had included a child object as a regular attribute when it should have been a <code>@NamedSubgraph</code>). When I deleted the invalid <code>@NamedAttributeNode</code>, the <code>.find()</code> returned successfully.</p>\n"}],"owner":{"account_id":4210557,"reputation":81,"user_id":3448387,"display_name":"iosparkletree"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73586850,"answer_count":1,"score":0,"last_activity_date":1662145226,"creation_date":1662144408,"question_id":73586849,"body_markdown":"I&#39;m having a problem where `entityManager.find()` hangs with no error message.  Yet, when I use `entityManager.createQuery()` it successfully returns.  What is different about `.find()` that is causing it to hang? \r\n\r\nFor example, \r\n```\r\n// this hangs\r\nMyObject mo = entityManager.find(MyObject.class, id);\r\n\r\n//this works\r\nQuery query = entityManager.createQuery(&quot;select o from MyObject o where o.id = :id&quot;)\r\nquery.setParameter(&quot;id&quot;,id);\r\nMyObject mo = query.getSingleResult();\r\n```\r\n","title":"EntityManager find() hangs","body":"<p>I'm having a problem where <code>entityManager.find()</code> hangs with no error message.  Yet, when I use <code>entityManager.createQuery()</code> it successfully returns.  What is different about <code>.find()</code> that is causing it to hang?</p>\n<p>For example,</p>\n<pre><code>// this hangs\nMyObject mo = entityManager.find(MyObject.class, id);\n\n//this works\nQuery query = entityManager.createQuery(&quot;select o from MyObject o where o.id = :id&quot;)\nquery.setParameter(&quot;id&quot;,id);\nMyObject mo = query.getSingleResult();\n</code></pre>\n"},{"tags":["java","sql","hibernate","clob","hibernate-native-query"],"answers":[{"tags":[],"owner":{"account_id":4415503,"reputation":917,"user_id":3597248,"accept_rate":65,"display_name":"mrh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1433239377,"creation_date":1433239377,"answer_id":30593002,"question_id":28993398,"body_markdown":"You can try this code. Probably it is not perfect, but it works for me :)\r\nI&#39;m using it to convert regular clob to string so it should also work if you unwrap clob object with getWrappedClob()\r\n\r\n    Clob clob = wrappedClob.getWrappedClob();\r\n\tString result = null;\r\n\tLong length = clob.length();\r\n\tchar[] char_array = new char[length.intValue()];\r\n\tReader characterStream = clob.getCharacterStream();\r\n\ttry {\r\n\t\tint read = characterStream.read(char_array, 0, length.intValue());\r\n\t\tresult = new String(char_array);\r\n\t} catch (IOException e) {\r\n\t\tlog.error(&quot;Exception during read from CLOB: &quot; + e);\r\n\t}","title":"Hibernate createNativeQuery returning Proxy object for Clob","body":"<p>You can try this code. Probably it is not perfect, but it works for me :)\nI'm using it to convert regular clob to string so it should also work if you unwrap clob object with getWrappedClob()</p>\n\n<pre><code>Clob clob = wrappedClob.getWrappedClob();\nString result = null;\nLong length = clob.length();\nchar[] char_array = new char[length.intValue()];\nReader characterStream = clob.getCharacterStream();\ntry {\n    int read = characterStream.read(char_array, 0, length.intValue());\n    result = new String(char_array);\n} catch (IOException e) {\n    log.error(\"Exception during read from CLOB: \" + e);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":338925,"reputation":509,"user_id":668075,"accept_rate":50,"display_name":"Anupam"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1477570331,"creation_date":1477570331,"answer_id":40284291,"question_id":28993398,"body_markdown":"The following code helped to unProxy the clob\r\n\r\n[Link which help me, just add a bit of makeup to the code][1]   :D \r\n\r\n    import java.beans.BeanInfo;\r\n    import java.beans.IntrospectionException;\r\n    import java.beans.Introspector;\r\n    import java.beans.PropertyDescriptor;\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.Reader;\r\n    import java.io.Serializable;\r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.lang.reflect.Method;\r\n    import java.sql.Clob;\r\n    import java.sql.SQLException;\r\n        /**\r\n             * Unproxy clob.\r\n             *\r\n             * @param proxy the proxy\r\n             * @return the string\r\n             * @throws InvocationTargetException the invocation target exception\r\n             * @throws IntrospectionException the introspection exception\r\n             * @throws IllegalAccessException the illegal access exception\r\n             * @throws SQLException the SQL exception\r\n             * @throws IOException Signals that an I/O exception has occurred.\r\n             */\r\n            public static String unproxyClob(Object proxy)\r\n                throws InvocationTargetException, IntrospectionException, IllegalAccessException, SQLException, IOException {\r\n                try {\r\n                    BeanInfo beanInfo = Introspector.getBeanInfo(proxy.getClass());\r\n                    for (PropertyDescriptor property : beanInfo.getPropertyDescriptors()) {\r\n                        Method readMethod = property.getReadMethod();\r\n                        if (readMethod.getName().contains(GET_WRAPPED_CLOB)) {\r\n                            Object result = readMethod.invoke(proxy);\r\n                            return clobToString((Clob) result);\r\n                        }\r\n                    }\r\n                } catch (InvocationTargetException | IntrospectionException | IllegalAccessException | SQLException | IOException exception) {\r\n                    LOGGER.fatal(exception);\r\n                    throw exception;\r\n                }\r\n                return null;\r\n            }\r\n        \r\n            /**\r\n             * Clob to string.\r\n             *\r\n             * @param data the data\r\n             * @return the string\r\n             * @throws SQLException the SQL exception\r\n             * @throws IOException Signals that an I/O exception has occurred.\r\n             */\r\n            public static String clobToString(Clob data) throws SQLException, IOException {\r\n                StringBuilder sb = new StringBuilder();\r\n                Reader reader = data.getCharacterStream();\r\n                BufferedReader br = new BufferedReader(reader);\r\n                String line;\r\n                while (null != (line = br.readLine())) {\r\n                    sb.append(line);\r\n                }\r\n                br.close();\r\n        \r\n                return sb.toString();\r\n            }\r\n\r\n  [1]: http://kechengpuzi.com/q/s2216547\r\n\r\n","title":"Hibernate createNativeQuery returning Proxy object for Clob","body":"<p>The following code helped to unProxy the clob</p>\n\n<p><a href=\"http://kechengpuzi.com/q/s2216547\" rel=\"noreferrer\">Link which help me, just add a bit of makeup to the code</a>   :D </p>\n\n<pre><code>import java.beans.BeanInfo;\nimport java.beans.IntrospectionException;\nimport java.beans.Introspector;\nimport java.beans.PropertyDescriptor;\nimport java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.Reader;\nimport java.io.Serializable;\nimport java.lang.reflect.InvocationTargetException;\nimport java.lang.reflect.Method;\nimport java.sql.Clob;\nimport java.sql.SQLException;\n    /**\n         * Unproxy clob.\n         *\n         * @param proxy the proxy\n         * @return the string\n         * @throws InvocationTargetException the invocation target exception\n         * @throws IntrospectionException the introspection exception\n         * @throws IllegalAccessException the illegal access exception\n         * @throws SQLException the SQL exception\n         * @throws IOException Signals that an I/O exception has occurred.\n         */\n        public static String unproxyClob(Object proxy)\n            throws InvocationTargetException, IntrospectionException, IllegalAccessException, SQLException, IOException {\n            try {\n                BeanInfo beanInfo = Introspector.getBeanInfo(proxy.getClass());\n                for (PropertyDescriptor property : beanInfo.getPropertyDescriptors()) {\n                    Method readMethod = property.getReadMethod();\n                    if (readMethod.getName().contains(GET_WRAPPED_CLOB)) {\n                        Object result = readMethod.invoke(proxy);\n                        return clobToString((Clob) result);\n                    }\n                }\n            } catch (InvocationTargetException | IntrospectionException | IllegalAccessException | SQLException | IOException exception) {\n                LOGGER.fatal(exception);\n                throw exception;\n            }\n            return null;\n        }\n\n        /**\n         * Clob to string.\n         *\n         * @param data the data\n         * @return the string\n         * @throws SQLException the SQL exception\n         * @throws IOException Signals that an I/O exception has occurred.\n         */\n        public static String clobToString(Clob data) throws SQLException, IOException {\n            StringBuilder sb = new StringBuilder();\n            Reader reader = data.getCharacterStream();\n            BufferedReader br = new BufferedReader(reader);\n            String line;\n            while (null != (line = br.readLine())) {\n                sb.append(line);\n            }\n            br.close();\n\n            return sb.toString();\n        }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5705055,"reputation":1872,"user_id":4508899,"accept_rate":75,"display_name":"Jonas_Hess"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1610730584,"creation_date":1610729822,"answer_id":65740292,"question_id":28993398,"body_markdown":"This is not a direct answer to OPs question, as I did not have to deal with an Instance of WrappedClob. But as I still got the same misleading error message, I hope someone finds this useful:\r\n\r\nThe problem for me was, that hibernates implementation of Clob to String for H2 and Postgres did not behave the same way. So, while my tests worked fine, the application would crash at runtime. To work around this, I instantiated different beans of ClobReader in different environments.\r\nThe production environment would us the bean implementation for Postgres, while the test code uses the H2 bean.\r\n\r\n\r\n    public interface ClobReader {\r\n        String clobToString(Object clob) throws SQLException, IOException;\r\n    }\r\n \r\n\r\n    @Bean\r\n    public ClobReader clobReaderPostgres() {\r\n        return new ClobReader() {\r\n            @Override\r\n            public String clobToString(final Object clob) {\r\n                if (clob == null) {\r\n                    return null;\r\n                }\r\n                return clob.toString();\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n    @Bean\r\n    @Primary\r\n    public ClobReader clobReaderH2() {\r\n        return new ClobReader() {\r\n            @Override\r\n            public String clobToString(final Object obj) throws SQLException, IOException {\r\n                final Clob clob = (Clob) obj;\r\n                try (final Reader reader = clob.getCharacterStream()) {\r\n                    try (final StringWriter stringWriter = new StringWriter()) {\r\n                        IOUtils.copy(reader, stringWriter);\r\n                        return stringWriter.toString();\r\n                    }\r\n                }\r\n            }\r\n        };\r\n    }","title":"Hibernate createNativeQuery returning Proxy object for Clob","body":"<p>This is not a direct answer to OPs question, as I did not have to deal with an Instance of WrappedClob. But as I still got the same misleading error message, I hope someone finds this useful:</p>\n<p>The problem for me was, that hibernates implementation of Clob to String for H2 and Postgres did not behave the same way. So, while my tests worked fine, the application would crash at runtime. To work around this, I instantiated different beans of ClobReader in different environments.\nThe production environment would us the bean implementation for Postgres, while the test code uses the H2 bean.</p>\n<pre><code>public interface ClobReader {\n    String clobToString(Object clob) throws SQLException, IOException;\n}\n\n\n@Bean\npublic ClobReader clobReaderPostgres() {\n    return new ClobReader() {\n        @Override\n        public String clobToString(final Object clob) {\n            if (clob == null) {\n                return null;\n            }\n            return clob.toString();\n        }\n    };\n}\n\n\n@Bean\n@Primary\npublic ClobReader clobReaderH2() {\n    return new ClobReader() {\n        @Override\n        public String clobToString(final Object obj) throws SQLException, IOException {\n            final Clob clob = (Clob) obj;\n            try (final Reader reader = clob.getCharacterStream()) {\n                try (final StringWriter stringWriter = new StringWriter()) {\n                    IOUtils.copy(reader, stringWriter);\n                    return stringWriter.toString();\n                }\n            }\n        }\n    };\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22438474,"reputation":11,"user_id":16643381,"display_name":"Eduardo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662144518,"creation_date":1662144518,"answer_id":73586861,"question_id":28993398,"body_markdown":"I have a diferent solution:\r\n\r\n\r\n        public void getResult(){\r\n        \t\tString sql = &quot;your sql&quot;;\r\n        \t\tQuery query = entityManager.createNativeQuery(sql);\r\n        \r\n        \t\tList&lt;Object[]&gt; resultList = query.getResultList();\r\n        \t\t\r\n        \t\tfor (Object[] obj : resultList) {\t\r\n        \t\t\tStringUtil.convertToString((Clob)obj[0]);\r\n                }\r\n               \r\n    }\r\n\r\n    public static String convertToString(Clob clob) {\r\n    \t    Reader reader = null;\r\n    \t    BufferedReader bufferedReader = null;\r\n    \t    try {\r\n    \t        reader = clob.getCharacterStream();\r\n    \t        bufferedReader = new BufferedReader(reader);\r\n    \t        return IOUtils.toString(bufferedReader);\r\n    \t    } catch (Exception e) {\r\n    \t        throw new RuntimeException(&quot;Error while reading String from CLOB&quot;, e);\r\n    \t    } finally {\r\n    \t        IOUtils.closeQuietly(reader);\r\n    \t        IOUtils.closeQuietly(bufferedReader);\r\n    \t    }\r\n    \t}","title":"Hibernate createNativeQuery returning Proxy object for Clob","body":"<p>I have a diferent solution:</p>\n<pre><code>    public void getResult(){\n            String sql = &quot;your sql&quot;;\n            Query query = entityManager.createNativeQuery(sql);\n    \n            List&lt;Object[]&gt; resultList = query.getResultList();\n            \n            for (Object[] obj : resultList) {   \n                StringUtil.convertToString((Clob)obj[0]);\n            }\n           \n}\n\npublic static String convertToString(Clob clob) {\n        Reader reader = null;\n        BufferedReader bufferedReader = null;\n        try {\n            reader = clob.getCharacterStream();\n            bufferedReader = new BufferedReader(reader);\n            return IOUtils.toString(bufferedReader);\n        } catch (Exception e) {\n            throw new RuntimeException(&quot;Error while reading String from CLOB&quot;, e);\n        } finally {\n            IOUtils.closeQuietly(reader);\n            IOUtils.closeQuietly(bufferedReader);\n        }\n    }\n</code></pre>\n"}],"owner":{"account_id":2395904,"reputation":131,"user_id":2094703,"accept_rate":75,"display_name":"p45"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3055,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":4,"score":4,"last_activity_date":1662144518,"creation_date":1426094970,"question_id":28993398,"body_markdown":"I am forced into a situation where i am using  hibernate createNativeQuery to return a List of Objects arrays.\r\n\r\nOne of the (many) columns from which my query returns values is a CLOB.\r\n\r\nThe Object which is returned is com.sun.Proxy object.\r\n\r\nI have seen a question [here ](https://stackoverflow.com/questions/8842237/getsingleresult-returns-proxy-on-native-scalar-query-in-hibernate)  where \r\n\r\n    getClass().getInterfaces()\r\nwas used to identify that it is a WrappedClob being returned.\r\n\r\nHowever given that I now have this proxy object in my Java code, how do I convert it into something useful ... like a String?","title":"Hibernate createNativeQuery returning Proxy object for Clob","body":"<p>I am forced into a situation where i am using  hibernate createNativeQuery to return a List of Objects arrays.</p>\n\n<p>One of the (many) columns from which my query returns values is a CLOB.</p>\n\n<p>The Object which is returned is com.sun.Proxy object.</p>\n\n<p>I have seen a question <a href=\"https://stackoverflow.com/questions/8842237/getsingleresult-returns-proxy-on-native-scalar-query-in-hibernate\">here </a>  where </p>\n\n<pre><code>getClass().getInterfaces()\n</code></pre>\n\n<p>was used to identify that it is a WrappedClob being returned.</p>\n\n<p>However given that I now have this proxy object in my Java code, how do I convert it into something useful ... like a String?</p>\n"},{"tags":["java","rounding"],"comments":[{"owner":{"account_id":2803497,"reputation":25202,"user_id":2411243,"display_name":"Zabuzard"},"score":1,"creation_date":1587654443,"post_id":61390311,"comment_id":108601838,"body_markdown":"Well asked, good research and examples.","body":"Well asked, good research and examples."},{"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"score":0,"creation_date":1587655296,"post_id":61390311,"comment_id":108602343,"body_markdown":"In your example with floor you refer to ceil, and with ceil, you refer to floor.","body":"In your example with floor you refer to ceil, and with ceil, you refer to floor."}],"answers":[{"tags":[],"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1587654172,"creation_date":1587654172,"answer_id":61390424,"question_id":61390311,"body_markdown":"Check the sign of the number:\r\n\r\n    double roundedAway = (num &gt;= 0) ? Math.ceil(num) : Math.floor(num)","title":"Java: function to round away from zero?","body":"<p>Check the sign of the number:</p>\n\n<pre><code>double roundedAway = (num &gt;= 0) ? Math.ceil(num) : Math.floor(num)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8802286,"reputation":4166,"user_id":6577998,"display_name":"mnestorov"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1587654268,"creation_date":1587654268,"answer_id":61390459,"question_id":61390311,"body_markdown":"You can either implement your own function, based on your number being positive or negative, or you can use a [RoundingMode][1]. It can round explicitly away from zero with [UP][2]\r\n\r\nIt might look something like this\r\n\r\n```java\r\nDecimalFormat df = new DecimalFormat(&quot;#.#&quot;);\r\ndf.setRoundingMode(RoundingMode.UP);\r\nSystem.out.println(df.format(number_here));\r\n```\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html#UP","title":"Java: function to round away from zero?","body":"<p>You can either implement your own function, based on your number being positive or negative, or you can use a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html\" rel=\"nofollow noreferrer\">RoundingMode</a>. It can round explicitly away from zero with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/math/RoundingMode.html#UP\" rel=\"nofollow noreferrer\">UP</a></p>\n\n<p>It might look something like this</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>DecimalFormat df = new DecimalFormat(\"#.#\");\ndf.setRoundingMode(RoundingMode.UP);\nSystem.out.println(df.format(number_here));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":318670,"reputation":15681,"user_id":636009,"display_name":"David Conrad"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1587656860,"creation_date":1587656860,"answer_id":61391418,"question_id":61390311,"body_markdown":"It can be done with [`RoundingMode`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/RoundingMode.html) and [`BigDecimal`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html):\r\n\r\n    double roundAway(double value) {\r\n        return new BigDecimal(value).setScale(0, RoundingMode.UP).doubleValue();\r\n    }\r\n\r\nNote: this will convert the `double` to a `BigDecimal` with the precise value of the double. To avoid this, you could use `BigDecimal.valueOf(double)` instead of the constructor which would use the canonical string representation of the double, but since you&#39;re about to round it to a whole number, this would involve an unnecessary conversion to a string. See the [constructor documentation](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double)) for more details.\r\n","title":"Java: function to round away from zero?","body":"<p>It can be done with <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/RoundingMode.html\" rel=\"nofollow noreferrer\"><code>RoundingMode</code></a> and <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html\" rel=\"nofollow noreferrer\"><code>BigDecimal</code></a>:</p>\n\n<pre><code>double roundAway(double value) {\n    return new BigDecimal(value).setScale(0, RoundingMode.UP).doubleValue();\n}\n</code></pre>\n\n<p>Note: this will convert the <code>double</code> to a <code>BigDecimal</code> with the precise value of the double. To avoid this, you could use <code>BigDecimal.valueOf(double)</code> instead of the constructor which would use the canonical string representation of the double, but since you're about to round it to a whole number, this would involve an unnecessary conversion to a string. See the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/math/BigDecimal.html#%3Cinit%3E(double)\" rel=\"nofollow noreferrer\">constructor documentation</a> for more details.</p>\n"}],"owner":{"account_id":13445963,"reputation":1040,"user_id":11329518,"display_name":"Guillaume F."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1607,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":3,"score":7,"last_activity_date":1662144247,"creation_date":1587653911,"question_id":61390311,"body_markdown":"How do I round a double away from zero in Java?\r\n\r\n\r\nThe operations I know don&#39;t do what I want:\r\n\r\n - Casting it to `(int)` rounds it toward zero. `(int) 3.7` will be `3`,\r\n   `(int) - 3.9` will be `-3`.\r\n   \r\n - `Math.floor()` rounds toward minus infinity. `Math.floor(3.7)` will be `3.0`, `Math.floor(-3.9)` will be `-4.0`.\r\n - `Math.ceil()` rounds toward plus infinity. `Math.ceil(3.7)` will be `4.0`, `Math.ceil(-3.9)` will be `-3.0`.\r\n - `Math.round()` rounds toward the nearest integer.\r\n\r\nHowever I don&#39;t have something that rounds away from zero, such that `3.7` becomes `4.0`, and `-3.9` becomes `-4.0`.\r\n\r\nIs there such a function in Java?","title":"Java: function to round away from zero?","body":"<p>How do I round a double away from zero in Java?</p>\n<p>The operations I know don't do what I want:</p>\n<ul>\n<li><p>Casting it to <code>(int)</code> rounds it toward zero. <code>(int) 3.7</code> will be <code>3</code>,\n<code>(int) - 3.9</code> will be <code>-3</code>.</p>\n</li>\n<li><p><code>Math.floor()</code> rounds toward minus infinity. <code>Math.floor(3.7)</code> will be <code>3.0</code>, <code>Math.floor(-3.9)</code> will be <code>-4.0</code>.</p>\n</li>\n<li><p><code>Math.ceil()</code> rounds toward plus infinity. <code>Math.ceil(3.7)</code> will be <code>4.0</code>, <code>Math.ceil(-3.9)</code> will be <code>-3.0</code>.</p>\n</li>\n<li><p><code>Math.round()</code> rounds toward the nearest integer.</p>\n</li>\n</ul>\n<p>However I don't have something that rounds away from zero, such that <code>3.7</code> becomes <code>4.0</code>, and <code>-3.9</code> becomes <code>-4.0</code>.</p>\n<p>Is there such a function in Java?</p>\n"},{"tags":["java","string","algorithm","data-structures","time-complexity"],"comments":[{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1662073918,"post_id":73575849,"comment_id":129928316,"body_markdown":"is the input lower case a-z only or A-Z as well?","body":"is the input lower case a-z only or A-Z as well?"},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662074065,"post_id":73575849,"comment_id":129928335,"body_markdown":"@DennisLLopis You convinced that English letters are the only valid characters?","body":"@DennisLLopis You convinced that English letters are the only valid characters?"},{"owner":{"account_id":488641,"reputation":81,"user_id":1114573,"display_name":"IUSR"},"score":0,"creation_date":1662074104,"post_id":73575849,"comment_id":129928339,"body_markdown":"Yes, it&#39;s just the alphabet, 26x2 at most, no need for hash sets or maps.","body":"Yes, it&#39;s just the alphabet, 26x2 at most, no need for hash sets or maps."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662074315,"post_id":73575849,"comment_id":129928366,"body_markdown":"@IUSR Talk is cheap. Show the link, where requirements are stated if you have it.","body":"@IUSR Talk is cheap. Show the link, where requirements are stated if you have it."},{"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"score":0,"creation_date":1662074326,"post_id":73575849,"comment_id":129928369,"body_markdown":"@AlexanderIvanchenko for CodeSignal and LeetCode, the problems are usually the English alphabet, but sometimes they include capital letters too. I wanted to confirm before I contributed an answer. There is a solution using a frequency array to store the count of each character and then you will iterate the string on the second pass and look up the frequency in the array.","body":"@AlexanderIvanchenko for CodeSignal and LeetCode, the problems are usually the English alphabet, but sometimes they include capital letters too. I wanted to confirm before I contributed an answer. There is a solution using a frequency array to store the count of each character and then you will iterate the string on the second pass and look up the frequency in the array."},{"owner":{"account_id":488641,"reputation":81,"user_id":1114573,"display_name":"IUSR"},"score":0,"creation_date":1662076530,"post_id":73575849,"comment_id":129928672,"body_markdown":"@AlexanderIvanchenko Do I now? The only thing matters is the input domain is pretty limited. Any language has an alphabet so large that the memory requirement dwarfs a `LinkedHashMap&lt;Character, Boolean&gt;`? Also If you want to deal with *characters*, then use code points. This fashion of using a hash map, stream, lambdas for an apparent LC/CodeSignal question really says a lot, ergo I don&#39;t think I owe you any link.","body":"@AlexanderIvanchenko Do I now? The only thing matters is the input domain is pretty limited. Any language has an alphabet so large that the memory requirement dwarfs a <code>LinkedHashMap&lt;Character, Boolean&gt;</code>? Also If you want to deal with <i>characters</i>, then use code points. This fashion of using a hash map, stream, lambdas for an apparent LC/CodeSignal question really says a lot, ergo I don&#39;t think I owe you any link."},{"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"score":0,"creation_date":1662078591,"post_id":73575849,"comment_id":129928919,"body_markdown":"@IUSR You&#39;re missing the point. Firstly important the algorithm itself, and there might be plenty of implementations. Performance of the solution based on an array and `HashMap` would almost the same. More over, in the real world development Collections are favored over arrays (they very rarely used, see *&quot;Effective Java&quot;* by Joshua Bloch to learn why). And since there are no constraints listed in the question, I&#39;ve provided a versatile solution, inventing the requirements isn&#39;t a good habit.","body":"@IUSR You&#39;re missing the point. Firstly important the algorithm itself, and there might be plenty of implementations. Performance of the solution based on an array and <code>HashMap</code> would almost the same. More over, in the real world development Collections are favored over arrays (they very rarely used, see <i>&quot;Effective Java&quot;</i> by Joshua Bloch to learn why). And since there are no constraints listed in the question, I&#39;ve provided a versatile solution, inventing the requirements isn&#39;t a good habit."},{"owner":{"account_id":488641,"reputation":81,"user_id":1114573,"display_name":"IUSR"},"score":0,"creation_date":1662083876,"post_id":73575849,"comment_id":129929629,"body_markdown":"@AlexanderIvanchenko Admittedly the phrase &quot;talk is cheap&quot; set me off a bit lol My apologies. I can see you were providing an _industrial grade_ solution, capable of coping with the most scenarios. My impression was that this question was in the context of, _grinding_. If the audience is an Online Judge system, then running speed is crucial (well, at least brag-able); if it&#39;s for the interviewers then many aspects can be negotiated, such as whether &quot;alphabet&quot; is English, limited, or not, and sometimes they ask you to not use complex classes provided by the runtime.","body":"@AlexanderIvanchenko Admittedly the phrase &quot;talk is cheap&quot; set me off a bit lol My apologies. I can see you were providing an <i>industrial grade</i> solution, capable of coping with the most scenarios. My impression was that this question was in the context of, <i>grinding</i>. If the audience is an Online Judge system, then running speed is crucial (well, at least brag-able); if it&#39;s for the interviewers then many aspects can be negotiated, such as whether &quot;alphabet&quot; is English, limited, or not, and sometimes they ask you to not use complex classes provided by the runtime."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662075498,"creation_date":1662073252,"answer_id":73576183,"question_id":73575849,"body_markdown":"The minimal possible time complexity for this task is linear **O(n)**, because we need to examine every character in the given string to find out whether a particular character is unique.\r\n\r\nYour current solution runs in **O(n^2)** - `Collections.frequency()` iterates over all characters in the string and this iteration and this method is called for every character. That&#39;s basically a brute-force implementation.\r\n\r\nWe can generate a map `Map&lt;Character,Boolean&gt;`, which associates each character with a `boolean` value denoting whether it&#39;s repeated or not.\r\n\r\nThat would allow to avoid iterating over the given string multiple times.\r\n\r\nThen we need to iterate over the *key-set* to find the first *non-repeated* character. As the `Map` implementation `LinkedHashMap` is used to ensure that returned non-repeated character would be the first encountered in the given string.\r\n\r\nTo update the `Map` I&#39;ve used Java 8 method [`merge()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)), which expects three arguments: a *key*, a *value*, and a function responsible for merging the *old value* and the *new one*.\r\n\r\n    public char solution(String s) {\r\n        Map&lt;Character, Boolean&gt; isNonRepeated = getMap(s);\r\n        \r\n        for (Map.Entry&lt;Character, Boolean&gt; entry: isNonRepeated.entrySet()) {\r\n            if (entry.getValue()) {\r\n                return entry.getKey();\r\n            }\r\n        }        \r\n        \r\n        return &#39;_&#39;;\r\n    }\r\n    \r\n    public Map&lt;Character, Boolean&gt; getMap(String s) {\r\n        Map&lt;Character, Boolean&gt; isNonRepeated = new LinkedHashMap&lt;&gt;();\r\n        \r\n        for (int i = 0; i &lt; s.length(); i++) {\r\n            isNonRepeated.merge(s.charAt(i), true, (v1, v2) -&gt; false);\r\n        }\r\n        return isNonRepeated;\r\n    }\r\n\r\nIn case if you&#39;re comfortable with streams, this problem can be addressed in one statement (the algorithm remains the same and time complexity would be linear as well):\r\n\r\n    public char solution(String s) {\r\n        \r\n        return s.chars()\r\n            .mapToObj(c -&gt; (char) c)\r\n            .collect(Collectors.toMap( // creates intermediate Map&lt;Character, Boolean&gt;\r\n                Function.identity(),   // key\r\n                c -&gt; true,             // value - first occurrence, character is considered to be non-repeated\r\n                (v1, v2) -&gt; false,     // resolving values, character is proved to be a duplicate\r\n                LinkedHashMap::new\r\n            ))\r\n            .entrySet().stream()\r\n            .filter(Map.Entry::getValue)\r\n            .findFirst()\r\n            .map(Map.Entry::getKey)\r\n            .orElse(&#39;_&#39;);\r\n    }","title":"Finding the first Non-repeating Character in the given string, not able to pass a few test cases due to Timeout","body":"<p>The minimal possible time complexity for this task is linear <strong>O(n)</strong>, because we need to examine every character in the given string to find out whether a particular character is unique.</p>\n<p>Your current solution runs in <strong>O(n^2)</strong> - <code>Collections.frequency()</code> iterates over all characters in the string and this iteration and this method is called for every character. That's basically a brute-force implementation.</p>\n<p>We can generate a map <code>Map&lt;Character,Boolean&gt;</code>, which associates each character with a <code>boolean</code> value denoting whether it's repeated or not.</p>\n<p>That would allow to avoid iterating over the given string multiple times.</p>\n<p>Then we need to iterate over the <em>key-set</em> to find the first <em>non-repeated</em> character. As the <code>Map</code> implementation <code>LinkedHashMap</code> is used to ensure that returned non-repeated character would be the first encountered in the given string.</p>\n<p>To update the <code>Map</code> I've used Java 8 method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Map.html#merge(K,V,java.util.function.BiFunction)\" rel=\"nofollow noreferrer\"><code>merge()</code></a>, which expects three arguments: a <em>key</em>, a <em>value</em>, and a function responsible for merging the <em>old value</em> and the <em>new one</em>.</p>\n<pre><code>public char solution(String s) {\n    Map&lt;Character, Boolean&gt; isNonRepeated = getMap(s);\n    \n    for (Map.Entry&lt;Character, Boolean&gt; entry: isNonRepeated.entrySet()) {\n        if (entry.getValue()) {\n            return entry.getKey();\n        }\n    }        \n    \n    return '_';\n}\n\npublic Map&lt;Character, Boolean&gt; getMap(String s) {\n    Map&lt;Character, Boolean&gt; isNonRepeated = new LinkedHashMap&lt;&gt;();\n    \n    for (int i = 0; i &lt; s.length(); i++) {\n        isNonRepeated.merge(s.charAt(i), true, (v1, v2) -&gt; false);\n    }\n    return isNonRepeated;\n}\n</code></pre>\n<p>In case if you're comfortable with streams, this problem can be addressed in one statement (the algorithm remains the same and time complexity would be linear as well):</p>\n<pre><code>public char solution(String s) {\n    \n    return s.chars()\n        .mapToObj(c -&gt; (char) c)\n        .collect(Collectors.toMap( // creates intermediate Map&lt;Character, Boolean&gt;\n            Function.identity(),   // key\n            c -&gt; true,             // value - first occurrence, character is considered to be non-repeated\n            (v1, v2) -&gt; false,     // resolving values, character is proved to be a duplicate\n            LinkedHashMap::new\n        ))\n        .entrySet().stream()\n        .filter(Map.Entry::getValue)\n        .findFirst()\n        .map(Map.Entry::getKey)\n        .orElse('_');\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11095946,"reputation":315,"user_id":8146089,"display_name":"Dennis LLopis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662074531,"creation_date":1662074531,"answer_id":73576296,"question_id":73575849,"body_markdown":"One technique would be a 2 pass solution using a frequency/count array for each character.\r\n\r\n```\r\npublic static char firstNonRepeatingChar(String s) {\r\n\t\tint[] frequency = new int[26]; // this is O(1) space complexity because alphabet is finite of 26 letters\r\n\t\t\r\n\t\t/* First Pass - Fill our frequency array */\r\n\t\tfor(int i = 0; i &lt; s.length(); i++) {\r\n\t\t\tfrequency[s.charAt(i) - &#39;a&#39;]++;\r\n\t\t}\r\n\t\t/* Second Pass - Look up our frequency array */\r\n\t\tfor(int i = 0; i &lt; s.length(); i++) {\r\n\t\t\tif(frequency[s.charAt(i) - &#39;a&#39;] == 1) {\r\n\t\t\t\treturn s.charAt(i);\r\n\t\t\t}\r\n\t\t}\r\n\t\t/* Not Found */\r\n\t\treturn &#39;_&#39;;\r\n\t}\r\n```\r\n\r\nThis solution is O(2n) -&gt; O(n) and a space complexity of O(1) because we are using a finite set of the English alphabet (26 letters). This wouldn&#39;t work in other scenarios for non-English alphabets.","title":"Finding the first Non-repeating Character in the given string, not able to pass a few test cases due to Timeout","body":"<p>One technique would be a 2 pass solution using a frequency/count array for each character.</p>\n<pre><code>public static char firstNonRepeatingChar(String s) {\n        int[] frequency = new int[26]; // this is O(1) space complexity because alphabet is finite of 26 letters\n        \n        /* First Pass - Fill our frequency array */\n        for(int i = 0; i &lt; s.length(); i++) {\n            frequency[s.charAt(i) - 'a']++;\n        }\n        /* Second Pass - Look up our frequency array */\n        for(int i = 0; i &lt; s.length(); i++) {\n            if(frequency[s.charAt(i) - 'a'] == 1) {\n                return s.charAt(i);\n            }\n        }\n        /* Not Found */\n        return '_';\n    }\n</code></pre>\n<p>This solution is O(2n) -&gt; O(n) and a space complexity of O(1) because we are using a finite set of the English alphabet (26 letters). This wouldn't work in other scenarios for non-English alphabets.</p>\n"},{"tags":[],"owner":{"account_id":1689973,"reputation":37280,"user_id":1552534,"display_name":"WJS"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662143690,"creation_date":1662130506,"answer_id":73584467,"question_id":73575849,"body_markdown":"Here is a slightly different approach using both a `Set` to account for duplicates, and a `Queue` to hold candidates before a possible duplicate is discovered.\r\n\r\n- iterate over the list of characters.\r\n- try and add the character to the `seen` set. If not already there,\r\nalso add it to the `candidates` queue.\r\n- else if it has been `&quot;seen&quot;`, try and remove it from the candidates queue.\r\n- By the time this gets done, the head of the queue should contain the  first, non-repeating character.  If the queue is empty, return the default value as no unique character was found.\r\n```\r\npublic char solution(String s) {\r\n\tQueue&lt;Character&gt; candidates = new LinkedList&lt;&gt;();\r\n\tSet&lt;Character&gt; seen = new HashSet&lt;&gt;();\r\n\tfor (char c : s.toCharArray()) {\r\n\t\tif (seen.add(c)) {\r\n\t\t\tcandidates.add(c);\r\n\t\t} else  {\r\n\t\t\tcandidates.remove(c);\r\n\t\t}\r\n\t}\r\n\treturn candidates.isEmpty() ? &#39;_&#39; : candidates.peek();\r\n}\r\n```\r\nI have done pretty extensive testing of this and it has yet to fail. It is also comparatively very efficient.  But as can happen, I may have overlooked something. ","title":"Finding the first Non-repeating Character in the given string, not able to pass a few test cases due to Timeout","body":"<p>Here is a slightly different approach using both a <code>Set</code> to account for duplicates, and a <code>Queue</code> to hold candidates before a possible duplicate is discovered.</p>\n<ul>\n<li>iterate over the list of characters.</li>\n<li>try and add the character to the <code>seen</code> set. If not already there,\nalso add it to the <code>candidates</code> queue.</li>\n<li>else if it has been <code>&quot;seen&quot;</code>, try and remove it from the candidates queue.</li>\n<li>By the time this gets done, the head of the queue should contain the  first, non-repeating character.  If the queue is empty, return the default value as no unique character was found.</li>\n</ul>\n<pre><code>public char solution(String s) {\n    Queue&lt;Character&gt; candidates = new LinkedList&lt;&gt;();\n    Set&lt;Character&gt; seen = new HashSet&lt;&gt;();\n    for (char c : s.toCharArray()) {\n        if (seen.add(c)) {\n            candidates.add(c);\n        } else  {\n            candidates.remove(c);\n        }\n    }\n    return candidates.isEmpty() ? '_' : candidates.peek();\n}\n</code></pre>\n<p>I have done pretty extensive testing of this and it has yet to fail. It is also comparatively very efficient.  But as can happen, I may have overlooked something.</p>\n"}],"owner":{"account_id":25355501,"reputation":15,"user_id":19171684,"display_name":"Yunmi Lee"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73576183,"answer_count":3,"score":1,"last_activity_date":1662143690,"creation_date":1662069846,"question_id":73575849,"body_markdown":"I&#39;m working on a Problem from *CodeSignal*:\r\n\r\n&gt; Given a `String s` consisting of the alphabet only, return the **first\r\n&gt; non-repeated** element. Otherwise, return `&#39;-&#39;`.\r\n&gt; \r\n&gt;  *Example:* input -\r\n&gt; `s=&quot;abacabad&quot;`, output - `&#39;c&#39;`.\r\n\r\nI came up with the following the code. It passes only `16/19` test cases. Is there a way to solve this problem in **O(n)** or **O(1)**? \r\n\r\n*My code:*\r\n```\r\npublic char solution(String s) {\r\n    ArrayList&lt;Character&gt; hs = new ArrayList&lt;&gt;();\r\n    \r\n    for (char c:s.toCharArray()) {\r\n        hs.add(c);\r\n    }\r\n    \r\n    for (int j=0; j&lt;s.length(); j++) {\r\n        if ( 1 == Collections.frequency(hs, s.charAt(j))) {\r\n            return s.charAt(j);\r\n        }\r\n    }\r\n    \r\n    return &#39;_&#39;;\r\n}\r\n```\r\n\r\n\r\n\r\n","title":"Finding the first Non-repeating Character in the given string, not able to pass a few test cases due to Timeout","body":"<p>I'm working on a Problem from <em>CodeSignal</em>:</p>\n<blockquote>\n<p>Given a <code>String s</code> consisting of the alphabet only, return the <strong>first\nnon-repeated</strong> element. Otherwise, return <code>'-'</code>.</p>\n<p><em>Example:</em> input -\n<code>s=&quot;abacabad&quot;</code>, output - <code>'c'</code>.</p>\n</blockquote>\n<p>I came up with the following the code. It passes only <code>16/19</code> test cases. Is there a way to solve this problem in <strong>O(n)</strong> or <strong>O(1)</strong>?</p>\n<p><em>My code:</em></p>\n<pre><code>public char solution(String s) {\n    ArrayList&lt;Character&gt; hs = new ArrayList&lt;&gt;();\n    \n    for (char c:s.toCharArray()) {\n        hs.add(c);\n    }\n    \n    for (int j=0; j&lt;s.length(); j++) {\n        if ( 1 == Collections.frequency(hs, s.charAt(j))) {\n            return s.charAt(j);\n        }\n    }\n    \n    return '_';\n}\n</code></pre>\n"},{"tags":["java","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1653224545,"creation_date":1653224545,"answer_id":72337795,"question_id":72337749,"body_markdown":"Assuming that source is an array an required result is collection of sums it might be done like that:\r\n\r\n```\r\nint[] numbers = {1, 2, 3, 4, 5, 6, 7};\r\n        \r\nList&lt;Integer&gt; sums = IntStream.rangeClosed(0,  numbers.length)\r\n            .mapToObj(i -&gt; Arrays.stream(numbers, 0, i).sum())\r\n            .collect(Collectors.toList());\r\n\r\nSystem.out.println(sums);\r\n```\r\n*Output*\r\n```\r\n[0, 1, 3, 6, 10, 15, 21, 28]\r\n```","title":"Generating a Stream of Aggregated elements from the given Stream","body":"<p>Assuming that source is an array an required result is collection of sums it might be done like that:</p>\n<pre><code>int[] numbers = {1, 2, 3, 4, 5, 6, 7};\n        \nList&lt;Integer&gt; sums = IntStream.rangeClosed(0,  numbers.length)\n            .mapToObj(i -&gt; Arrays.stream(numbers, 0, i).sum())\n            .collect(Collectors.toList());\n\nSystem.out.println(sums);\n</code></pre>\n<p><em>Output</em></p>\n<pre><code>[0, 1, 3, 6, 10, 15, 21, 28]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662143612,"creation_date":1662126614,"answer_id":73583600,"question_id":72337749,"body_markdown":"So, you have a stream of integers, and you want to transform it into a stream where each element is a sum of all previous elements plus the current element (an element from the initial stream).\r\n\r\nThe first thing that we need to keep in mind is that to obtain such sequence transformation of each element requires incorporating the **state** of the previous element.\r\n\r\nTracking the previous element isn&#39;t a problem with loops. But while using streams, you need to be aware of API requirements regarding [*Stateless behavior*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Statelessness) and [*Side-effects*](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects).\r\n\r\nThere&#39;s **no** *clean way* to achieve the desired transformation of the stream.\r\n\r\nBut we can maintain a state while producing a value from the stream, i.e. we can generate a `Collection` containing the resulting sequence. And if you need a stream, then create a stream over this *collection*.\r\n\r\nThen how it might be implemented using [`Stream.collect()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)) (note that `reduce` that you&#39;ve mentioned in the question isn&#39;t the right tool here, it&#39;s for so-called immutable reduction which into a folding the stream into a single value, not a collection of values):\r\n\r\n```\r\nList&lt;Integer&gt; aggregatedSequence = Stream.of(1, 2, 3, 4, 5, 6, 7)\r\n    .collect(\r\n        ArrayList::new,\r\n        (List&lt;Integer&gt; list, Integer next) -&gt; {\r\n            if (list.isEmpty()) list.add(next);\r\n            else list.add(list.get(list.size() - 1) + next);\r\n        },\r\n        (left, right) -&gt; {\r\n            right.replaceAll(i -&gt; i + left.get(left.size() - 1));\r\n            left.addAll(right);\r\n        }\r\n    );\r\n    \r\naggregatedSequence.forEach(System.out::println);\r\n```\r\n*Output:*\r\n```\r\n1\r\n3\r\n6\r\n10\r\n15\r\n21\r\n28\r\n```\r\n\r\n&gt; It would be even nicer if the **output type** could be **different** from the **input type**\r\n\r\nSure, that&#39;s doable.\r\n\r\nFor that, you need to provide a *function* that would allow to map the elements of the initial stream to the resulting type, as well as a *function* responsible for merging values of the resulting (*since we&#39;re presumably no longer about numeric values we need other tool the plus operator*).\r\n\r\nThat method, transforming an initial stream of type `T` into an aggregated stream of type `R` might be implemented:\r\n\r\n    public static &lt;T, R&gt; Stream&lt;R&gt; getAggregatedStream(Stream&lt;T&gt; source,\r\n                                                       Function&lt;T, R&gt; mapper,\r\n                                                       BinaryOperator&lt;R&gt; mergeFunction) {\r\n        return source.map(mapper)\r\n            .collect(\r\n                ArrayList::new,\r\n                (List&lt;R&gt; list, R next) -&gt; {\r\n                    if (list.isEmpty()) list.add(next);\r\n                    else list.add(mergeFunction.apply(list.get(list.size() - 1), next));\r\n                },\r\n                (left, right) -&gt; {\r\n                    right.replaceAll(i -&gt; mergeFunction.apply(left.get(left.size() - 1), i));\r\n                    left.addAll(right);\r\n                }\r\n            )\r\n            .stream();\r\n    }\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        getAggregatedStream(Stream.of(1, 2, 3, 4, 5, 6, 7), String::valueOf, String::concat)\r\n            .forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n```\r\n1\r\n12\r\n123\r\n1234\r\n12345\r\n123456\r\n1234567\r\n```","title":"Generating a Stream of Aggregated elements from the given Stream","body":"<p>So, you have a stream of integers, and you want to transform it into a stream where each element is a sum of all previous elements plus the current element (an element from the initial stream).</p>\n<p>The first thing that we need to keep in mind is that to obtain such sequence transformation of each element requires incorporating the <strong>state</strong> of the previous element.</p>\n<p>Tracking the previous element isn't a problem with loops. But while using streams, you need to be aware of API requirements regarding <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#Statelessness\" rel=\"nofollow noreferrer\"><em>Stateless behavior</em></a> and <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/package-summary.html#SideEffects\" rel=\"nofollow noreferrer\"><em>Side-effects</em></a>.</p>\n<p>There's <strong>no</strong> <em>clean way</em> to achieve the desired transformation of the stream.</p>\n<p>But we can maintain a state while producing a value from the stream, i.e. we can generate a <code>Collection</code> containing the resulting sequence. And if you need a stream, then create a stream over this <em>collection</em>.</p>\n<p>Then how it might be implemented using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/stream/Stream.html#collect(java.util.function.Supplier,java.util.function.BiConsumer,java.util.function.BiConsumer)\" rel=\"nofollow noreferrer\"><code>Stream.collect()</code></a> (note that <code>reduce</code> that you've mentioned in the question isn't the right tool here, it's for so-called immutable reduction which into a folding the stream into a single value, not a collection of values):</p>\n<pre><code>List&lt;Integer&gt; aggregatedSequence = Stream.of(1, 2, 3, 4, 5, 6, 7)\n    .collect(\n        ArrayList::new,\n        (List&lt;Integer&gt; list, Integer next) -&gt; {\n            if (list.isEmpty()) list.add(next);\n            else list.add(list.get(list.size() - 1) + next);\n        },\n        (left, right) -&gt; {\n            right.replaceAll(i -&gt; i + left.get(left.size() - 1));\n            left.addAll(right);\n        }\n    );\n    \naggregatedSequence.forEach(System.out::println);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>1\n3\n6\n10\n15\n21\n28\n</code></pre>\n<blockquote>\n<p>It would be even nicer if the <strong>output type</strong> could be <strong>different</strong> from the <strong>input type</strong></p>\n</blockquote>\n<p>Sure, that's doable.</p>\n<p>For that, you need to provide a <em>function</em> that would allow to map the elements of the initial stream to the resulting type, as well as a <em>function</em> responsible for merging values of the resulting (<em>since we're presumably no longer about numeric values we need other tool the plus operator</em>).</p>\n<p>That method, transforming an initial stream of type <code>T</code> into an aggregated stream of type <code>R</code> might be implemented:</p>\n<pre><code>public static &lt;T, R&gt; Stream&lt;R&gt; getAggregatedStream(Stream&lt;T&gt; source,\n                                                   Function&lt;T, R&gt; mapper,\n                                                   BinaryOperator&lt;R&gt; mergeFunction) {\n    return source.map(mapper)\n        .collect(\n            ArrayList::new,\n            (List&lt;R&gt; list, R next) -&gt; {\n                if (list.isEmpty()) list.add(next);\n                else list.add(mergeFunction.apply(list.get(list.size() - 1), next));\n            },\n            (left, right) -&gt; {\n                right.replaceAll(i -&gt; mergeFunction.apply(left.get(left.size() - 1), i));\n                left.addAll(right);\n            }\n        )\n        .stream();\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    getAggregatedStream(Stream.of(1, 2, 3, 4, 5, 6, 7), String::valueOf, String::concat)\n        .forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>1\n12\n123\n1234\n12345\n123456\n1234567\n</code></pre>\n"}],"owner":{"account_id":334475,"reputation":362,"user_id":660952,"accept_rate":75,"display_name":"jederik"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":89,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662143612,"creation_date":1653223962,"question_id":72337749,"body_markdown":"Let&#39;s say I am given a stream that produces a sequence of integers. I want to transform it into the stream of the aggregated sums.\r\n\r\nE.g.\r\n```\r\n1, 2, 3, 4, 5, 6, 7, ...\r\n```\r\nBecomes:\r\n```\r\n0, 1, 3, 6, 10, 15, 21, 28, ...\r\n```\r\nIn general, I am looking for a stream operation (let&#39;s call it `aggregate`) that takes the same arguments as `reduce()` but it produces a stream of values instead of a single value. I imagine to use it roughly like this:\r\n```\r\ninputStream.aggregate(0, Integer::sum)\r\n```\r\n\r\nIt would be even nicer if the output type could be different from the input type so that I could for example transform an initial state and a stream of operations to a stream of states.\r\n\r\nIs there something like this?","title":"Generating a Stream of Aggregated elements from the given Stream","body":"<p>Let's say I am given a stream that produces a sequence of integers. I want to transform it into the stream of the aggregated sums.</p>\n<p>E.g.</p>\n<pre><code>1, 2, 3, 4, 5, 6, 7, ...\n</code></pre>\n<p>Becomes:</p>\n<pre><code>0, 1, 3, 6, 10, 15, 21, 28, ...\n</code></pre>\n<p>In general, I am looking for a stream operation (let's call it <code>aggregate</code>) that takes the same arguments as <code>reduce()</code> but it produces a stream of values instead of a single value. I imagine to use it roughly like this:</p>\n<pre><code>inputStream.aggregate(0, Integer::sum)\n</code></pre>\n<p>It would be even nicer if the output type could be different from the input type so that I could for example transform an initial state and a stream of operations to a stream of states.</p>\n<p>Is there something like this?</p>\n"},{"tags":["java","tomcat","heroku","classcastexception","xmlbeans"],"answers":[{"tags":[],"owner":{"account_id":24809,"reputation":10138,"user_id":63308,"accept_rate":89,"display_name":"codefinger"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1492025220,"creation_date":1492025220,"answer_id":43378043,"question_id":43376800,"body_markdown":"I suspect the unpredictable nature of the problem (i.e. sometimes it does or does not happen after a restart) is due to the non-determinisitic nature of the JVM classloader. If you have two different versions of the same class, they will be loaded in a non-deterministic order. \r\n\r\nIn this case, it sounds like you have two different classes with the same name (am I correct?). Even though they are auto-generated, only one will win.\r\n\r\nI think you must find a way to give the classes different names (or packages).","title":"Inconsistent ClassCastException for XmlBeans.Factory parse method","body":"<p>I suspect the unpredictable nature of the problem (i.e. sometimes it does or does not happen after a restart) is due to the non-determinisitic nature of the JVM classloader. If you have two different versions of the same class, they will be loaded in a non-deterministic order. </p>\n\n<p>In this case, it sounds like you have two different classes with the same name (am I correct?). Even though they are auto-generated, only one will win.</p>\n\n<p>I think you must find a way to give the classes different names (or packages).</p>\n"},{"tags":[],"owner":{"account_id":2833228,"reputation":35,"user_id":2434346,"display_name":"Dmitry Raguzin"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1492169099,"creation_date":1492169099,"answer_id":43410578,"question_id":43376800,"body_markdown":"It works on Tomcat 7 because of [this][1]. \r\n\r\nPrior Tomcat 8 a Tomcat&#39;s ClassLoader was loading resources in alphabetical order. Our app was working only because of that. \r\n\r\nIt works locally on Tomcat 8 + MacOS, because Tomcat 8&#39;s classloader loads resources in an order provided by OS, which, in case of OSX, seems to be ordered.\r\n\r\n  [1]: https://bz.apache.org/bugzilla/show_bug.cgi?id=57129#c3","title":"Inconsistent ClassCastException for XmlBeans.Factory parse method","body":"<p>It works on Tomcat 7 because of <a href=\"https://bz.apache.org/bugzilla/show_bug.cgi?id=57129#c3\" rel=\"nofollow noreferrer\">this</a>. </p>\n\n<p>Prior Tomcat 8 a Tomcat's ClassLoader was loading resources in alphabetical order. Our app was working only because of that. </p>\n\n<p>It works locally on Tomcat 8 + MacOS, because Tomcat 8's classloader loads resources in an order provided by OS, which, in case of OSX, seems to be ordered.</p>\n"},{"tags":[],"owner":{"account_id":4913146,"reputation":1633,"user_id":4021308,"display_name":"Asad-ullah Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662143277,"creation_date":1662060556,"answer_id":73574567,"question_id":43376800,"body_markdown":"This answer appears at the top for the following class of errors as well so I am adding my answer here:\r\n```\r\nclass org.apache.xmlbeans.impl.values.XmlComplexContentImpl cannot be cast to class &lt;class you generated a schema from&gt;\r\n```\r\nThis is a very bizarre error, after all why would this cast even be happening at all? In any case, this was because I was using the maven-shade-plugin `minimizeJar` feature and it was removing something (I do not know what yet), &lt;s&gt;if I figure out what exactly I need to explicitly re-add I will update this answer, but for now I just disabled minimizeJar.&lt;/s&gt;\r\n\r\nIt seems it was removing the `impl` part of the schema generation code.\r\n\r\nUpdate: add this to the filters section of the shade plugin if you want to continue using minimizeJar:\r\n```xml\r\n&lt;filter&gt;                                    \r\n    &lt;artifact&gt;org.apache.xmlbeans:xmlbeans&lt;/artifact&gt;\r\n    &lt;includes&gt;\r\n        &lt;include&gt;**&lt;/include&gt;\r\n    &lt;/includes&gt;\r\n&lt;/filter&gt;\r\n```\r\nUpdate 2: it seems that the above does not work all the time, I am very confused as to what the new issue is here, but the point still stands that `minimizeJar` is very volatile w.r.t dependencies","title":"Inconsistent ClassCastException for XmlBeans.Factory parse method","body":"<p>This answer appears at the top for the following class of errors as well so I am adding my answer here:</p>\n<pre><code>class org.apache.xmlbeans.impl.values.XmlComplexContentImpl cannot be cast to class &lt;class you generated a schema from&gt;\n</code></pre>\n<p>This is a very bizarre error, after all why would this cast even be happening at all? In any case, this was because I was using the maven-shade-plugin <code>minimizeJar</code> feature and it was removing something (I do not know what yet), <s>if I figure out what exactly I need to explicitly re-add I will update this answer, but for now I just disabled minimizeJar.</s></p>\n<p>It seems it was removing the <code>impl</code> part of the schema generation code.</p>\n<p>Update: add this to the filters section of the shade plugin if you want to continue using minimizeJar:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;filter&gt;                                    \n    &lt;artifact&gt;org.apache.xmlbeans:xmlbeans&lt;/artifact&gt;\n    &lt;includes&gt;\n        &lt;include&gt;**&lt;/include&gt;\n    &lt;/includes&gt;\n&lt;/filter&gt;\n</code></pre>\n<p>Update 2: it seems that the above does not work all the time, I am very confused as to what the new issue is here, but the point still stands that <code>minimizeJar</code> is very volatile w.r.t dependencies</p>\n"}],"owner":{"account_id":2833228,"reputation":35,"user_id":2434346,"display_name":"Dmitry Raguzin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2840,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":43410578,"answer_count":3,"score":1,"last_activity_date":1662143277,"creation_date":1492020942,"question_id":43376800,"body_markdown":"I know this is a **very** long shot, but I&#39;ve been trying to figure it out for like two weeks already, so any idea pointing to the right direction could be priceless.\r\n\r\nSo, I have a very old application which uses XmlBeans. My task is to migrate from Tomcat 7.0.67 to Tomcat 8.5.11 introducing Spring Sessions and Spring Security instead of Realm-based authentication. Prior the migration everything was working fine both locally (MacOS, Oracle JDK 8) and on Heroku (Ubuntu, OpenJDK 8), but after the migration everything works on my local environment, but on Heroku, sometimes, when the app tries to parse a string to appropriate XmlBean, this ClassCastException occurs:\r\n\r\n    java.lang.ClassCastException: foo.bar.2.impl.PreferencesDocumentImpl cannot be cast to foo.bar.1.PreferencesDocument\r\n    \tat foo.bar.1.PreferencesDocument$Factory.parse(Unknown Source)\r\n\r\nI have two auto-generated by XmlBeans classes, which were generated from two xsd-schemas without any namespace set. Classes share the name, but are located in different packages (parse method where the exception occurs is located in the Factory inner class, other methods are omitted):\r\n\r\n    /*\r\n     * An XML document type.\r\n     * Localname: Preferences\r\n     * Namespace: \r\n     * Java type: foo.bar.1.PreferencesDocument\r\n     *\r\n     * Automatically generated - do not modify.\r\n     */\r\n    package foo.bar.1;\r\n    \r\n    public interface PreferencesDocument extends org.apache.xmlbeans.XmlObject {\r\n        public static final org.apache.xmlbeans.SchemaType type = (org.apache.xmlbeans.SchemaType)\r\n            org.apache.xmlbeans.XmlBeans.typeSystemForClassLoader(PreferencesDocument.class.getClassLoader(), &quot;schemaorg_apache_xmlbeans.system.s2D5798E4F4AFDA8394735C8512CDCBC7&quot;).resolveHandle(&quot;preferencesa8bfdoctype&quot;);\r\n    \r\n        public static final class Factory {\r\n            public static foo.bar.1.PreferencesDocument parse(java.lang.String xmlAsString) throws org.apache.xmlbeans.XmlException {\r\n              return (foo.bar.PreferencesDocument) org.apache.xmlbeans.XmlBeans.getContextTypeLoader().parse( xmlAsString, type, null ); \r\n            }   \r\n        }\r\n    }\r\n\r\n    /*\r\n     * An XML document type.\r\n     * Localname: Preferences\r\n     * Namespace: \r\n     * Java type: foo.bar.1.PreferencesDocument\r\n     *\r\n     * Automatically generated - do not modify.\r\n     */\r\n    package foo.bar.1.impl;\r\n\r\n    public class PreferencesDocumentImpl extends org.apache.xmlbeans.impl.values.XmlComplexContentImpl implements foo.bar.1.PreferencesDocument {\r\n        public PreferencesDocumentImpl(org.apache.xmlbeans.SchemaType sType) {\r\n            super(sType);\r\n        }\r\n    \r\n        private static final javax.xml.namespace.QName PREFERENCES$0 = new javax.xml.namespace.QName(&quot;&quot;, &quot;Preferences&quot;);\r\n    }\r\n\r\n    /*\r\n     * An XML document type.\r\n     * Localname: Preferences\r\n     * Namespace: \r\n     * Java type: foo.bar.2.PreferencesDocument\r\n     *\r\n     * Automatically generated - do not modify.\r\n     */\r\n    package foo.bar.2;  \r\n\r\n    public interface PreferencesDocument extends org.apache.xmlbeans.XmlObject {\r\n        public static final org.apache.xmlbeans.SchemaType type = (org.apache.xmlbeans.SchemaType)\r\n            org.apache.xmlbeans.XmlBeans.typeSystemForClassLoader(PreferencesDocument.class.getClassLoader(), &quot;schemaorg_apache_xmlbeans.system.sC8953008EC716AA258D3951B84AB1CB7&quot;).resolveHandle(&quot;preferencesa8bfdoctype&quot;);\r\n        \r\n        public static final class Factory {\r\n            public static foo.bar.2.PreferencesDocument parse(java.lang.String xmlAsString) throws org.apache.xmlbeans.XmlException {\r\n              return (foo.bar.2.PreferencesDocument) org.apache.xmlbeans.XmlBeans.getContextTypeLoader().parse( xmlAsString, type, null ); }\r\n           \r\n        }\r\n    }\r\n\r\n    /*\r\n     * An XML document type.\r\n     * Localname: Preferences\r\n     * Namespace: \r\n     * Java type: foo.bar.2.PreferencesDocument\r\n     *\r\n     * Automatically generated - do not modify.\r\n     */\r\n    package foo.bar.2.impl;\r\n\r\n    public class PreferencesDocumentImpl extends org.apache.xmlbeans.impl.values.XmlComplexContentImpl implements foo.bar.2.PreferencesDocument {\r\n    \r\n        public PreferencesDocumentImpl(org.apache.xmlbeans.SchemaType sType) {\r\n            super(sType);\r\n        }\r\n    \r\n        private static final javax.xml.namespace.QName PREFERENCES$0 = \r\n            new javax.xml.namespace.QName(&quot;&quot;, &quot;Preferences&quot;);\r\n        }\r\n    }\r\n\r\nSometimes, when the app deployed to Heroku is restarted, the problem is gone, but after another restart it&#39;s back again.\r\n\r\nAccording to [this][1], the root cause is the absence of namespaces which leads to collision. But due to our requirements I can&#39;t add or change namespace of the xsds. So do you have any ideas why does it work locally with Tomcat 7, locally with Tomcat 8 and on Heroku with Tomcat 7, but doesn&#39;t work on Heroku with Tomcat 8?\r\n\r\nThanks in advance.\r\n\r\n\r\n  [1]: https://issues.apache.org/jira/browse/XMLBEANS-346","title":"Inconsistent ClassCastException for XmlBeans.Factory parse method","body":"<p>I know this is a <strong>very</strong> long shot, but I've been trying to figure it out for like two weeks already, so any idea pointing to the right direction could be priceless.</p>\n\n<p>So, I have a very old application which uses XmlBeans. My task is to migrate from Tomcat 7.0.67 to Tomcat 8.5.11 introducing Spring Sessions and Spring Security instead of Realm-based authentication. Prior the migration everything was working fine both locally (MacOS, Oracle JDK 8) and on Heroku (Ubuntu, OpenJDK 8), but after the migration everything works on my local environment, but on Heroku, sometimes, when the app tries to parse a string to appropriate XmlBean, this ClassCastException occurs:</p>\n\n<pre><code>java.lang.ClassCastException: foo.bar.2.impl.PreferencesDocumentImpl cannot be cast to foo.bar.1.PreferencesDocument\n    at foo.bar.1.PreferencesDocument$Factory.parse(Unknown Source)\n</code></pre>\n\n<p>I have two auto-generated by XmlBeans classes, which were generated from two xsd-schemas without any namespace set. Classes share the name, but are located in different packages (parse method where the exception occurs is located in the Factory inner class, other methods are omitted):</p>\n\n<pre><code>/*\n * An XML document type.\n * Localname: Preferences\n * Namespace: \n * Java type: foo.bar.1.PreferencesDocument\n *\n * Automatically generated - do not modify.\n */\npackage foo.bar.1;\n\npublic interface PreferencesDocument extends org.apache.xmlbeans.XmlObject {\n    public static final org.apache.xmlbeans.SchemaType type = (org.apache.xmlbeans.SchemaType)\n        org.apache.xmlbeans.XmlBeans.typeSystemForClassLoader(PreferencesDocument.class.getClassLoader(), \"schemaorg_apache_xmlbeans.system.s2D5798E4F4AFDA8394735C8512CDCBC7\").resolveHandle(\"preferencesa8bfdoctype\");\n\n    public static final class Factory {\n        public static foo.bar.1.PreferencesDocument parse(java.lang.String xmlAsString) throws org.apache.xmlbeans.XmlException {\n          return (foo.bar.PreferencesDocument) org.apache.xmlbeans.XmlBeans.getContextTypeLoader().parse( xmlAsString, type, null ); \n        }   \n    }\n}\n\n/*\n * An XML document type.\n * Localname: Preferences\n * Namespace: \n * Java type: foo.bar.1.PreferencesDocument\n *\n * Automatically generated - do not modify.\n */\npackage foo.bar.1.impl;\n\npublic class PreferencesDocumentImpl extends org.apache.xmlbeans.impl.values.XmlComplexContentImpl implements foo.bar.1.PreferencesDocument {\n    public PreferencesDocumentImpl(org.apache.xmlbeans.SchemaType sType) {\n        super(sType);\n    }\n\n    private static final javax.xml.namespace.QName PREFERENCES$0 = new javax.xml.namespace.QName(\"\", \"Preferences\");\n}\n\n/*\n * An XML document type.\n * Localname: Preferences\n * Namespace: \n * Java type: foo.bar.2.PreferencesDocument\n *\n * Automatically generated - do not modify.\n */\npackage foo.bar.2;  \n\npublic interface PreferencesDocument extends org.apache.xmlbeans.XmlObject {\n    public static final org.apache.xmlbeans.SchemaType type = (org.apache.xmlbeans.SchemaType)\n        org.apache.xmlbeans.XmlBeans.typeSystemForClassLoader(PreferencesDocument.class.getClassLoader(), \"schemaorg_apache_xmlbeans.system.sC8953008EC716AA258D3951B84AB1CB7\").resolveHandle(\"preferencesa8bfdoctype\");\n\n    public static final class Factory {\n        public static foo.bar.2.PreferencesDocument parse(java.lang.String xmlAsString) throws org.apache.xmlbeans.XmlException {\n          return (foo.bar.2.PreferencesDocument) org.apache.xmlbeans.XmlBeans.getContextTypeLoader().parse( xmlAsString, type, null ); }\n\n    }\n}\n\n/*\n * An XML document type.\n * Localname: Preferences\n * Namespace: \n * Java type: foo.bar.2.PreferencesDocument\n *\n * Automatically generated - do not modify.\n */\npackage foo.bar.2.impl;\n\npublic class PreferencesDocumentImpl extends org.apache.xmlbeans.impl.values.XmlComplexContentImpl implements foo.bar.2.PreferencesDocument {\n\n    public PreferencesDocumentImpl(org.apache.xmlbeans.SchemaType sType) {\n        super(sType);\n    }\n\n    private static final javax.xml.namespace.QName PREFERENCES$0 = \n        new javax.xml.namespace.QName(\"\", \"Preferences\");\n    }\n}\n</code></pre>\n\n<p>Sometimes, when the app deployed to Heroku is restarted, the problem is gone, but after another restart it's back again.</p>\n\n<p>According to <a href=\"https://issues.apache.org/jira/browse/XMLBEANS-346\" rel=\"nofollow noreferrer\">this</a>, the root cause is the absence of namespaces which leads to collision. But due to our requirements I can't add or change namespace of the xsds. So do you have any ideas why does it work locally with Tomcat 7, locally with Tomcat 8 and on Heroku with Tomcat 7, but doesn't work on Heroku with Tomcat 8?</p>\n\n<p>Thanks in advance.</p>\n"},{"tags":["java","floyd-warshall"],"comments":[{"owner":{"account_id":3386608,"reputation":2150,"user_id":2842458,"accept_rate":64,"display_name":"Diptendu"},"score":0,"creation_date":1417329706,"post_id":27198820,"comment_id":42902902,"body_markdown":"Possible duplicate of http://stackoverflow.com/questions/17760141/floyd-warshall-algorithm-using-adjacency-list","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/17760141/floyd-warshall-algorithm-using-adjacency-list\" title=\"floyd warshall algorithm using adjacency list\">stackoverflow.com/questions/17760141/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":5368671,"reputation":96,"user_id":4277791,"display_name":"Anh Huynh"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1417328717,"creation_date":1417328717,"answer_id":27210673,"question_id":27198820,"body_markdown":"You cant use Floyd Warshall with adjacency list because when it works, it makes new edges.\r\n\r\nExample :\r\n\r\nFirst, your graph has 2 Edges ( 1-2, 2-3 ). So you initialize the adjacency matrix :\r\n\r\nadj[1][2] = 1;   ( means have edge between 1 and 2)\r\n\r\nadj[2][3] = 1;   ( means have edge between 3 and 2)\r\n\r\nadj[1][3] = +oo; ( means no edge between 1 and 3 )\r\n\r\nAnd when FW works, edge 1-3 wil be added because adj[1][2] + adj[2][3] &lt; adj[1][3] =&gt; adj[1][3] = 2 ( means have edge between 1 and 3 );\r\n\r\nI dont know how many edges in your graph and time limit to solve but if you need to calculate the shortest path between all pair in graph, you can do |V| times Dijkstra with Priority queue which has complexity is |V| * max( |V|log|V| , |E| ) better than |V|^3 of Floyd Warshall.","title":"Floyd Warshall using adjacency lists","body":"<p>You cant use Floyd Warshall with adjacency list because when it works, it makes new edges.</p>\n\n<p>Example :</p>\n\n<p>First, your graph has 2 Edges ( 1-2, 2-3 ). So you initialize the adjacency matrix :</p>\n\n<p>adj[1][2] = 1;   ( means have edge between 1 and 2)</p>\n\n<p>adj[2][3] = 1;   ( means have edge between 3 and 2)</p>\n\n<p>adj[1][3] = +oo; ( means no edge between 1 and 3 )</p>\n\n<p>And when FW works, edge 1-3 wil be added because adj[1][2] + adj[2][3] &lt; adj[1][3] => adj[1][3] = 2 ( means have edge between 1 and 3 );</p>\n\n<p>I dont know how many edges in your graph and time limit to solve but if you need to calculate the shortest path between all pair in graph, you can do |V| times Dijkstra with Priority queue which has complexity is |V| * max( |V|log|V| , |E| ) better than |V|^3 of Floyd Warshall.</p>\n"},{"tags":[],"owner":{"account_id":3386608,"reputation":2150,"user_id":2842458,"accept_rate":64,"display_name":"Diptendu"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1417330193,"creation_date":1417330193,"answer_id":27210809,"question_id":27198820,"body_markdown":"[Floyd Warshall Implementation using adjacency list][1] but it internally converts the adjacency list to matrix before staring the algo. If your graph is not sparse then using adj list instead of matrix won&#39;t help because anyways you need to scan all edges. But if your graph is very sparse then you might want to consider running Dijkstra&#39;a shortest path algo from each node instead of using Floyd Warshall. As mentioned by Anh Huynh in the other response if you definitely know that |E| ~ |V| log^k |V| where 0 &lt;= k then running Dijkstra&#39;s algo for each node will give you better time complexity than Floyd Warshall.\r\n\r\n\r\n  [1]: http://mcs.uwsuper.edu/sb/425/Prog/FloydWarshall.java","title":"Floyd Warshall using adjacency lists","body":"<p><a href=\"http://mcs.uwsuper.edu/sb/425/Prog/FloydWarshall.java\" rel=\"nofollow\">Floyd Warshall Implementation using adjacency list</a> but it internally converts the adjacency list to matrix before staring the algo. If your graph is not sparse then using adj list instead of matrix won't help because anyways you need to scan all edges. But if your graph is very sparse then you might want to consider running Dijkstra'a shortest path algo from each node instead of using Floyd Warshall. As mentioned by Anh Huynh in the other response if you definitely know that |E| ~ |V| log^k |V| where 0 &lt;= k then running Dijkstra's algo for each node will give you better time complexity than Floyd Warshall.</p>\n"},{"tags":[],"owner":{"account_id":22134015,"reputation":1,"user_id":16385126,"display_name":"Shubh Laad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662142909,"creation_date":1662142909,"answer_id":73586635,"question_id":27198820,"body_markdown":"Try to use Johnson&#39;s Algorithm (as stated by Anh Huynh and Diptendu) is very effective for sparse graphs as its time complexity is dependent on number of edges in that graph. Use Floyd Warshall&#39;s Algorithm only when graph is very dense. Choose from above algorithms according to your need. ","title":"Floyd Warshall using adjacency lists","body":"<p>Try to use Johnson's Algorithm (as stated by Anh Huynh and Diptendu) is very effective for sparse graphs as its time complexity is dependent on number of edges in that graph. Use Floyd Warshall's Algorithm only when graph is very dense. Choose from above algorithms according to your need.</p>\n"}],"owner":{"account_id":5079145,"reputation":79,"user_id":4075787,"accept_rate":57,"display_name":"Adeetya Ravisankar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6436,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1662142909,"creation_date":1417234861,"question_id":27198820,"body_markdown":"Is is possible to code Floyd Warshall using adjacency lists? I have to process a million vertices from a text file and hence, adjacency matrices is not a solution. Any implementation already available? Please help.","title":"Floyd Warshall using adjacency lists","body":"<p>Is is possible to code Floyd Warshall using adjacency lists? I have to process a million vertices from a text file and hence, adjacency matrices is not a solution. Any implementation already available? Please help.</p>\n"},{"tags":["java","eclipse","jd-eclipse"],"comments":[{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1447751641,"post_id":33752956,"comment_id":55273625,"body_markdown":"Have you followed the installation as described here http://jd.benow.ca/#jd-eclipse-download","body":"Have you followed the installation as described here <a href=\"http://jd.benow.ca/#jd-eclipse-download\" rel=\"nofollow noreferrer\">jd.benow.ca/#jd-eclipse-download</a>"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1447751814,"post_id":33752956,"comment_id":55273734,"body_markdown":"also remember: most decompilers aren&#39;t really up-to-date. as far as they&#39;re concerned, Lambda&#39;s, default methods, ... don&#39;t exist, so they might not be able to work with your installed version of Java","body":"also remember: most decompilers aren&#39;t really up-to-date. as far as they&#39;re concerned, Lambda&#39;s, default methods, ... don&#39;t exist, so they might not be able to work with your installed version of Java"},{"owner":{"account_id":2977257,"reputation":35839,"user_id":2528063,"accept_rate":73,"display_name":"MakePeaceGreatAgain"},"score":0,"creation_date":1447751864,"post_id":33752956,"comment_id":55273784,"body_markdown":"@SubOptimal Well, I got it from eclipse marketplace (JadEclipse).","body":"@SubOptimal Well, I got it from eclipse marketplace (JadEclipse)."},{"owner":{"account_id":2702906,"reputation":22658,"user_id":2333222,"display_name":"SubOptimal"},"score":0,"creation_date":1447752304,"post_id":33752956,"comment_id":55274044,"body_markdown":"@HimBromBeere Could you please add the version numbers of Eclipse, the plugin and your used JDK.","body":"@HimBromBeere Could you please add the version numbers of Eclipse, the plugin and your used JDK."},{"owner":{"account_id":2977257,"reputation":35839,"user_id":2528063,"accept_rate":73,"display_name":"MakePeaceGreatAgain"},"score":0,"creation_date":1447753131,"post_id":33752956,"comment_id":55274583,"body_markdown":"@SubOptimal Eclipse: Mars.1 Release (4.5.1); JadEclipse 4.0.0; JDK 1.8. However compliance for J2SE-1.4 is set within Project--&gt;Properties--&gt;Java Compiler","body":"@SubOptimal Eclipse: Mars.1 Release (4.5.1); JadEclipse 4.0.0; JDK 1.8. However compliance for J2SE-1.4 is set within Project--&gt;Properties--&gt;Java Compiler"}],"answers":[{"tags":[],"owner":{"account_id":2977257,"reputation":35839,"user_id":2528063,"accept_rate":73,"display_name":"MakePeaceGreatAgain"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1559211516,"creation_date":1447754792,"answer_id":33754107,"question_id":33752956,"body_markdown":"Obviously I mixed the actual JD-eclipse-plugin an a plugin called JadClipse for Eclipse which is a slightly different plugin from eclipse marketplace. Thus when I followed the [installation instructions of JD-eclipse][1], I could set the options for the screenshot posted within the question. So I set JD-eclipse as default for both *.class-files with and those without source-code.\r\n\r\nSecond mistake I did was a pretty silly and obvious one, namely that I wanted to browse the jar-files from within WEB-INF-folder of my Tomcat instead of from within Java Resources. Thus I could not dive into the jar-files at all hindering me to get to the class-level and thus to decompile those classes contained within the jar.\r\n\r\nI hope this helps anyone outside also having trouble with the plugin for eclipse.\r\n\r\n  [1]: https://github.com/java-decompiler/jd-eclipse","title":"Java decompiler plugin not working","body":"<p>Obviously I mixed the actual JD-eclipse-plugin an a plugin called JadClipse for Eclipse which is a slightly different plugin from eclipse marketplace. Thus when I followed the <a href=\"https://github.com/java-decompiler/jd-eclipse\" rel=\"nofollow noreferrer\">installation instructions of JD-eclipse</a>, I could set the options for the screenshot posted within the question. So I set JD-eclipse as default for both *.class-files with and those without source-code.</p>\n\n<p>Second mistake I did was a pretty silly and obvious one, namely that I wanted to browse the jar-files from within WEB-INF-folder of my Tomcat instead of from within Java Resources. Thus I could not dive into the jar-files at all hindering me to get to the class-level and thus to decompile those classes contained within the jar.</p>\n\n<p>I hope this helps anyone outside also having trouble with the plugin for eclipse.</p>\n"},{"tags":[],"owner":{"account_id":6436955,"reputation":2326,"user_id":4988179,"display_name":"Monsif EL AISSOUSSI"},"down_vote_count":0,"up_vote_count":80,"is_accepted":false,"score":80,"last_activity_date":1539589628,"creation_date":1539589628,"answer_id":52811998,"question_id":33752956,"body_markdown":"For Eclipse 2018-09 , the problem was related to &quot; **class without source** \r\n&quot; \r\n\r\n - I had resolved this issue by going to:\r\n\r\n 1. Preferences\r\n 2. General\r\n 3. Editors\r\n 4. File Associations\r\n 5. Class without source\r\n\r\nand setting decompliler viewer as default : see the following screen shot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/mhDUL.png","title":"Java decompiler plugin not working","body":"<p>For Eclipse 2018-09 , the problem was related to \" <strong>class without source</strong> \n\" </p>\n\n<ul>\n<li><p>I had resolved this issue by going to:</p>\n\n<ol>\n<li>Preferences</li>\n<li>General</li>\n<li>Editors</li>\n<li>File Associations</li>\n<li>Class without source</li>\n</ol></li>\n</ul>\n\n<p>and setting decompliler viewer as default : see the following screen shot:</p>\n\n<p><a href=\"https://i.stack.imgur.com/mhDUL.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/mhDUL.png\" alt=\"enter image description here\"></a></p>\n"},{"tags":[],"owner":{"account_id":1460117,"reputation":133,"user_id":1374669,"display_name":"lifesoordinary"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542717761,"creation_date":1542717761,"answer_id":53393245,"question_id":33752956,"body_markdown":"I had the same problem but &quot;class without source&quot; did have decompliler viewer as default. So all I did was set class file viewer as default and then switched back and that fixed the issue.","title":"Java decompiler plugin not working","body":"<p>I had the same problem but \"class without source\" did have decompliler viewer as default. So all I did was set class file viewer as default and then switched back and that fixed the issue.</p>\n"},{"tags":[],"owner":{"account_id":5572088,"reputation":976,"user_id":4416941,"accept_rate":30,"display_name":"pojo-guy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662142599,"creation_date":1662142599,"answer_id":73586591,"question_id":33752956,"body_markdown":"I had to update all of my plugins. the Procyon decompiler has this symptom when running under java 11 or later.","title":"Java decompiler plugin not working","body":"<p>I had to update all of my plugins. the Procyon decompiler has this symptom when running under java 11 or later.</p>\n"}],"owner":{"account_id":2977257,"reputation":35839,"user_id":2528063,"accept_rate":73,"display_name":"MakePeaceGreatAgain"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36379,"favorite_count":0,"down_vote_count":0,"up_vote_count":22,"accepted_answer_id":33754107,"answer_count":4,"score":22,"last_activity_date":1662142599,"creation_date":1447751409,"question_id":33752956,"body_markdown":"I have the JD-eclipse-plugin installed. I want to decompile the classes within a jar-file. So I select the jar-file within Project-Explorer and click Decompiler in the Menu. However both decompilers (JAD and JD-core) are greyed out. \r\n\r\nI also tried the steps shown in [this blog on AVAJAVA Web Tutorials][1]. I guess the blog is a bit outdated, however I can see within Windows--&gt;Preferences--&gt;Java--&gt;Decompiler that Jad is correctly set up. But there is no JD-eclipse found within Preferences--&gt;General--&gt;Editors--&gt;File Associations as you can see in the following image.[![jd-eclipse-plugin][2]][2]. Now I right click the jar-file within Project-Explorer, but there is no such &quot;Attach Source File&quot;.\r\n\r\nDid I miss anything to set up the plugin?\r\n\r\nEDIT: I&#180;m using the following setup: Eclipse: Mars.1 Release (4.5.1); JadClipse 4.0.0; JDK 1.8\r\n\r\nEDIT2: Forgot to mention that I use Tomcat and want to dive into the libraries from `/WebContent/WEB-INF/lib`. This is not working, I cannot further collapse the jar-files. \r\n\r\n\r\n  [1]: http://www.avajava.com/tutorials/lessons/how-do-i-decompile-java-classes-in-eclipse.html?page=2\r\n  [2]: http://i.stack.imgur.com/apDPD.png","title":"Java decompiler plugin not working","body":"<p>I have the JD-eclipse-plugin installed. I want to decompile the classes within a jar-file. So I select the jar-file within Project-Explorer and click Decompiler in the Menu. However both decompilers (JAD and JD-core) are greyed out. </p>\n\n<p>I also tried the steps shown in <a href=\"http://www.avajava.com/tutorials/lessons/how-do-i-decompile-java-classes-in-eclipse.html?page=2\" rel=\"noreferrer\">this blog on AVAJAVA Web Tutorials</a>. I guess the blog is a bit outdated, however I can see within Windows-->Preferences-->Java-->Decompiler that Jad is correctly set up. But there is no JD-eclipse found within Preferences-->General-->Editors-->File Associations as you can see in the following image.<a href=\"https://i.stack.imgur.com/apDPD.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/apDPD.png\" alt=\"jd-eclipse-plugin\"></a>. Now I right click the jar-file within Project-Explorer, but there is no such \"Attach Source File\".</p>\n\n<p>Did I miss anything to set up the plugin?</p>\n\n<p>EDIT: Im using the following setup: Eclipse: Mars.1 Release (4.5.1); JadClipse 4.0.0; JDK 1.8</p>\n\n<p>EDIT2: Forgot to mention that I use Tomcat and want to dive into the libraries from <code>/WebContent/WEB-INF/lib</code>. This is not working, I cannot further collapse the jar-files. </p>\n"},{"tags":["java","android"],"answers":[{"tags":[],"owner":{"account_id":23331518,"reputation":29,"user_id":17407846,"display_name":"Manu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662141919,"creation_date":1662141919,"answer_id":73586491,"question_id":73584717,"body_markdown":"I got the solution to the problem.\r\nUsing this initializer solved the issue .\r\n\r\n&gt; addMenuProvider(provider: MenuProvider, owner: LifecycleOwner)\r\n\r\nCode looks like this now.\r\n\r\n    MenuHost menuHost = requireActivity();\r\n        menuHost.addMenuProvider(new MenuProvider() {\r\n            @Override\r\n            public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\r\n    \r\n                menuInflater.inflate(R.menu.creator_profile_menu, menu);\r\n        }\r\n    \r\n        @Override\r\n        public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\r\n    \r\n                if(menuItem.getItemId() == R.id.menuSignout)\r\n                    FirebaseAuth.getInstance().signOut();\r\n                \r\n                else if(menuItem.getItemId() == R.id.menuBeCreator)\r\n                    startActivity(new Intent(binding.getRoot().getContext(), BeCreator.class));\r\n    \r\n                else if(menuItem.getItemId() == R.id.menuEditProfile){\r\n                startActivity(new Intent(binding.getRoot().getContext(), EditProfile.class));\r\n                }\r\n    \r\n            return true;\r\n        }\r\n    }, getViewLifecycleOwner());\r\n\r\n\r\n\r\n\r\nadd **getViewLifecycleOwner()** as second peremeter.\r\n\r\n","title":"Fragment ProfileFragment{9feec23} (3575ea02-dffb-4fc6-ba9b-fc6aff7cb7bf) not attached to Activity: error in getting context while working with menu","body":"<p>I got the solution to the problem.\nUsing this initializer solved the issue .</p>\n<blockquote>\n<p>addMenuProvider(provider: MenuProvider, owner: LifecycleOwner)</p>\n</blockquote>\n<p>Code looks like this now.</p>\n<pre><code>MenuHost menuHost = requireActivity();\n    menuHost.addMenuProvider(new MenuProvider() {\n        @Override\n        public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\n\n            menuInflater.inflate(R.menu.creator_profile_menu, menu);\n    }\n\n    @Override\n    public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\n\n            if(menuItem.getItemId() == R.id.menuSignout)\n                FirebaseAuth.getInstance().signOut();\n            \n            else if(menuItem.getItemId() == R.id.menuBeCreator)\n                startActivity(new Intent(binding.getRoot().getContext(), BeCreator.class));\n\n            else if(menuItem.getItemId() == R.id.menuEditProfile){\n            startActivity(new Intent(binding.getRoot().getContext(), EditProfile.class));\n            }\n\n        return true;\n    }\n}, getViewLifecycleOwner());\n</code></pre>\n<p>add <strong>getViewLifecycleOwner()</strong> as second peremeter.</p>\n"}],"owner":{"account_id":23331518,"reputation":29,"user_id":17407846,"display_name":"Manu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73586491,"answer_count":1,"score":0,"last_activity_date":1662141919,"creation_date":1662131623,"question_id":73584717,"body_markdown":"\r\nSo I am trying to inflate the menu from my fragment to the ActionBar and I am able to do so but when I try to do certain actions based on item selection like\r\n\r\n \r\n\r\n&gt; startActivity(requirecontext(),EditProfile.class)\r\n&gt; startActivity(requireActivity(),Editprofile.class)\r\n\r\nThe code looks like this.\r\n\r\n \r\n\r\n    MenuHost menuHost = requireActivity();\r\n        menuHost.addMenuProvider(new MenuProvider() {\r\n            @Override\r\n            public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\r\n    \r\n                menuInflater.inflate(R.menu.creator_profile_menu, menu);\r\n        }\r\n\r\n        @Override\r\n        public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\r\n\r\n                if(menuItem.getItemId() == R.id.menuSignout)\r\n                    FirebaseAuth.getInstance().signOut();\r\n                \r\n                else if(menuItem.getItemId() == R.id.menuBeCreator)\r\n                    startActivity(new Intent(binding.getRoot().getContext(), BeCreator.class));\r\n\r\n                else if(menuItem.getItemId() == R.id.menuEditProfile){\r\n                startActivity(new Intent(binding.getRoot().getContext(), EditProfile.class));\r\n                }\r\n\r\n            return true;\r\n        }\r\n    });\r\n\r\n\r\nNo matter where I put this code , onCreateView() , onCreate(), onAttach(), onPause()... basically it is giving me error\r\n\r\n&gt;   \r\n\r\n    java.lang.IllegalStateException: Fragment ProfileFragment{9feec23} (3575ea02-dffb-4fc6-ba9b-fc6aff7cb7bf) not attached to Activity\r\n            at androidx.fragment.app.Fragment.startActivity(Fragment.java:1443)\r\n            at androidx.fragment.app.Fragment.startActivity(Fragment.java:1433)\r\n            at com.sciforearth.tafcreate.Fragments.ProfileFragment$1.onMenuItemSelected(ProfileFragment.java:227)\r\n            at androidx.core.view.MenuHostHelper.onMenuItemSelected(MenuHostHelper.java:90)\r\n            at androidx.activity.ComponentActivity.onMenuItemSelected(ComponentActivity.java:518)\r\n            at androidx.fragment.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:265)\r\n            at androidx.appcompat.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:266)\r\n            at androidx.appcompat.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:110)\r\n            at androidx.appcompat.app.ToolbarActionBar$2.onMenuItemClick(ToolbarActionBar.java:66)\r\n            at androidx.appcompat.widget.Toolbar$1.onMenuItemClick(Toolbar.java:221)\r\n            at androidx.appcompat.widget.ActionMenuView$MenuBuilderCallback.onMenuItemSelected(ActionMenuView.java:781)\r\n            at androidx.appcompat.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:836)\r\n            at androidx.appcompat.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:159)\r\n            at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:987)\r\n            at androidx.appcompat.view.menu.MenuPopup.onItemClick(MenuPopup.java:128)\r\n            at android.widget.AdapterView.performItemClick(AdapterView.java:330)\r\n            at android.widget.AbsListView.performItemClick(AbsListView.java:1197)\r\n            at android.widget.AbsListView$PerformClick.run(AbsListView.java:3190)\r\n            at android.widget.AbsListView.onTouchUp(AbsListView.java:4178)\r\n            at android.widget.AbsListView.onTouchEvent(AbsListView.java:3919)\r\n            at androidx.appcompat.widget.DropDownListView.onTouchEvent(DropDownListView.java:225)\r\n            at androidx.appcompat.widget.MenuPopupWindow$MenuDropDownListView.onTouchEvent(MenuPopupWindow.java:140)\r\n            at android.view.View.dispatchTouchEvent(View.java:14599)\r\n            at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3114)\r\n            at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2787)\r\n            at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\r\n            at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\r\n            at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\r\n            at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\r\n            at android.widget.PopupWindow$PopupDecorView.dispatchTouchEvent(PopupWindow.java:2553)\r\n            at android.view.View.dispatchPointerEvent(View.java:14858)\r\n            at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:6446)\r\n            at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:6247)\r\n            at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5725)\r\n            at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5782)\r\n            at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5748)\r\n            at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5913)\r\n            at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5756)\r\n            at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5970)\r\n            at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5729)\r\n            at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5782)\r\n            at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5748)\r\n            at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5756)\r\n            at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5729)\r\n            at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:8696)\r\n            at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:8647)\r\n            at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:8616)\r\n            at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:8819)\r\n    2022-09-02 19:24:53.778 17045-17045/com.sciforearth.tafcreate E/AndroidRuntime:     at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:259)\r\n            at android.os.MessageQueue.nativePollOnce(Native Method)\r\n            at android.os.MessageQueue.next(MessageQueue.java:335)\r\n            at android.os.Looper.loopOnce(Looper.java:161)\r\n            at android.os.Looper.loop(Looper.java:288)\r\n            at android.app.ActivityThread.main(ActivityThread.java:7842)\r\n            at java.lang.reflect.Method.invoke(Native Method)\r\n            at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n            at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n\r\n\r\nI tried using , getActivity(), getContext(), requireContext(),requireActivity() and then finally binding.getRoot().get...   but nothing works.\r\n","title":"Fragment ProfileFragment{9feec23} (3575ea02-dffb-4fc6-ba9b-fc6aff7cb7bf) not attached to Activity: error in getting context while working with menu","body":"<p>So I am trying to inflate the menu from my fragment to the ActionBar and I am able to do so but when I try to do certain actions based on item selection like</p>\n<blockquote>\n<p>startActivity(requirecontext(),EditProfile.class)\nstartActivity(requireActivity(),Editprofile.class)</p>\n</blockquote>\n<p>The code looks like this.</p>\n<pre><code>MenuHost menuHost = requireActivity();\n    menuHost.addMenuProvider(new MenuProvider() {\n        @Override\n        public void onCreateMenu(@NonNull Menu menu, @NonNull MenuInflater menuInflater) {\n\n            menuInflater.inflate(R.menu.creator_profile_menu, menu);\n    }\n\n    @Override\n    public boolean onMenuItemSelected(@NonNull MenuItem menuItem) {\n\n            if(menuItem.getItemId() == R.id.menuSignout)\n                FirebaseAuth.getInstance().signOut();\n            \n            else if(menuItem.getItemId() == R.id.menuBeCreator)\n                startActivity(new Intent(binding.getRoot().getContext(), BeCreator.class));\n\n            else if(menuItem.getItemId() == R.id.menuEditProfile){\n            startActivity(new Intent(binding.getRoot().getContext(), EditProfile.class));\n            }\n\n        return true;\n    }\n});\n</code></pre>\n<p>No matter where I put this code , onCreateView() , onCreate(), onAttach(), onPause()... basically it is giving me error</p>\n<blockquote>\n</blockquote>\n<pre><code>java.lang.IllegalStateException: Fragment ProfileFragment{9feec23} (3575ea02-dffb-4fc6-ba9b-fc6aff7cb7bf) not attached to Activity\n        at androidx.fragment.app.Fragment.startActivity(Fragment.java:1443)\n        at androidx.fragment.app.Fragment.startActivity(Fragment.java:1433)\n        at com.sciforearth.tafcreate.Fragments.ProfileFragment$1.onMenuItemSelected(ProfileFragment.java:227)\n        at androidx.core.view.MenuHostHelper.onMenuItemSelected(MenuHostHelper.java:90)\n        at androidx.activity.ComponentActivity.onMenuItemSelected(ComponentActivity.java:518)\n        at androidx.fragment.app.FragmentActivity.onMenuItemSelected(FragmentActivity.java:265)\n        at androidx.appcompat.app.AppCompatActivity.onMenuItemSelected(AppCompatActivity.java:266)\n        at androidx.appcompat.view.WindowCallbackWrapper.onMenuItemSelected(WindowCallbackWrapper.java:110)\n        at androidx.appcompat.app.ToolbarActionBar$2.onMenuItemClick(ToolbarActionBar.java:66)\n        at androidx.appcompat.widget.Toolbar$1.onMenuItemClick(Toolbar.java:221)\n        at androidx.appcompat.widget.ActionMenuView$MenuBuilderCallback.onMenuItemSelected(ActionMenuView.java:781)\n        at androidx.appcompat.view.menu.MenuBuilder.dispatchMenuItemSelected(MenuBuilder.java:836)\n        at androidx.appcompat.view.menu.MenuItemImpl.invoke(MenuItemImpl.java:159)\n        at androidx.appcompat.view.menu.MenuBuilder.performItemAction(MenuBuilder.java:987)\n        at androidx.appcompat.view.menu.MenuPopup.onItemClick(MenuPopup.java:128)\n        at android.widget.AdapterView.performItemClick(AdapterView.java:330)\n        at android.widget.AbsListView.performItemClick(AbsListView.java:1197)\n        at android.widget.AbsListView$PerformClick.run(AbsListView.java:3190)\n        at android.widget.AbsListView.onTouchUp(AbsListView.java:4178)\n        at android.widget.AbsListView.onTouchEvent(AbsListView.java:3919)\n        at androidx.appcompat.widget.DropDownListView.onTouchEvent(DropDownListView.java:225)\n        at androidx.appcompat.widget.MenuPopupWindow$MenuDropDownListView.onTouchEvent(MenuPopupWindow.java:140)\n        at android.view.View.dispatchTouchEvent(View.java:14599)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3114)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2787)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\n        at android.widget.PopupWindow$PopupDecorView.dispatchTouchEvent(PopupWindow.java:2553)\n        at android.view.View.dispatchPointerEvent(View.java:14858)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:6446)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:6247)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5725)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5782)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5748)\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5913)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5756)\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5970)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5729)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5782)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5748)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5756)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5729)\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:8696)\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:8647)\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:8616)\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:8819)\n2022-09-02 19:24:53.778 17045-17045/com.sciforearth.tafcreate E/AndroidRuntime:     at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:259)\n        at android.os.MessageQueue.nativePollOnce(Native Method)\n        at android.os.MessageQueue.next(MessageQueue.java:335)\n        at android.os.Looper.loopOnce(Looper.java:161)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7842)\n        at java.lang.reflect.Method.invoke(Native Method)\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n</code></pre>\n<p>I tried using , getActivity(), getContext(), requireContext(),requireActivity() and then finally binding.getRoot().get...   but nothing works.</p>\n"},{"tags":["java","logging","log4j","log4j2"],"comments":[{"owner":{"account_id":3983214,"reputation":4583,"user_id":3284624,"display_name":"D.B."},"score":0,"creation_date":1491876842,"post_id":43325465,"comment_id":73735264,"body_markdown":"Couldn&#39;t you use the [ThreadContext](https://logging.apache.org/log4j/2.x/manual/thread-context.html)? Add the [appropriate IP address](http://stackoverflow.com/a/9482369/3284624) to the context and then add the variable to the pattern layout of the appender(s).","body":"Couldn&#39;t you use the <a href=\"https://logging.apache.org/log4j/2.x/manual/thread-context.html\" rel=\"nofollow noreferrer\">ThreadContext</a>? Add the <a href=\"http://stackoverflow.com/a/9482369/3284624\">appropriate IP address</a> to the context and then add the variable to the pattern layout of the appender(s)."},{"owner":{"account_id":434034,"reputation":18496,"user_id":819732,"accept_rate":80,"display_name":"kasdega"},"score":0,"creation_date":1492015715,"post_id":43325465,"comment_id":73812915,"body_markdown":"I&#39;m not sure.  Do you have an example of how this would be configured?","body":"I&#39;m not sure.  Do you have an example of how this would be configured?"},{"owner":{"account_id":2327485,"reputation":3184,"user_id":4865117,"accept_rate":14,"display_name":"Leon"},"score":1,"creation_date":1533443436,"post_id":43325465,"comment_id":90344469,"body_markdown":"pls update with your resolution if you have resolved it. thx.","body":"pls update with your resolution if you have resolved it. thx."}],"answers":[{"tags":[],"owner":{"account_id":1536594,"reputation":381,"user_id":1432476,"accept_rate":43,"display_name":"zeeshan ansari"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662141869,"creation_date":1662139495,"answer_id":73586105,"question_id":43325465,"body_markdown":"Here is working example using filter:\r\n```\r\nimport java.io.IOException;\r\nimport javax.servlet.Filter;\r\nimport javax.servlet.FilterChain;\r\nimport javax.servlet.FilterConfig;\r\nimport javax.servlet.ServletException;\r\nimport javax.servlet.ServletRequest;\r\nimport javax.servlet.ServletResponse;\r\nimport javax.servlet.annotation.WebFilter;\r\nimport javax.servlet.http.HttpServletRequest;\r\n\r\nimport org.apache.logging.log4j.ThreadContext;\r\n\r\n\r\n/**\r\n * Servlet Filter implementation class UserIPFilter\r\n */\r\n@WebFilter(filterName=&quot;UserIPFilter&quot;)\r\npublic class UserIPFilter implements Filter {\r\n\r\n\tprivate final String IP_ADDRESS = &quot;ipAddress&quot;;\r\n\r\n\tpublic void destroy() {\r\n\t}\r\n\r\n\tpublic void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\r\n\t\t\tthrows IOException, ServletException {\r\n\r\n\t\tboolean successfulRegistration = false;\r\n\r\n\t\tHttpServletRequest req = (HttpServletRequest) request;\t\r\n\t\t\r\n\t\tif (req.getRemoteHost() != null) {\r\n\t\t\tString ipAddress = req.getRemoteHost();\r\n\t\t\tSystem.out.println(&quot;IP: &quot; + ipAddress);\r\n\t\t\tsuccessfulRegistration = registerUsername(ipAddress);\r\n\t\t}\r\n\r\n\t\ttry {\r\n\t\t\tchain.doFilter(request, response);\r\n\t\t} finally {\r\n\t\t\tif (successfulRegistration) {\r\n\t\t\t\tThreadContext.clearMap();\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic void init(FilterConfig arg0) throws ServletException {\r\n\t}\r\n\r\n\t/**\r\n\t * Register the user in the ThreadContext under IP_ADDRESS.\r\n\t * \r\n\t * @param username\r\n\t * @return true ipAddress can be successfully registered\r\n\t */\r\n\tprivate boolean registerUsername(String ipAddress) {\r\n\t\tif (ipAddress != null &amp;&amp; ipAddress.trim().length() &gt; 0) {\r\n\t\t\tThreadContext.put(IP_ADDRESS, ipAddress);\r\n\t\t\treturn true;\r\n\t\t}\r\n\t\treturn false;\r\n\t}\r\n\r\n}\r\n\r\n```\r\n\r\nweb.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;!DOCTYPE xml&gt;\r\n----\r\n----\r\n&lt;filter-mapping&gt;\r\n\t    &lt;filter-name&gt;UserIPFilter&lt;/filter-name&gt;\r\n\t    &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\r\n&lt;/filter-mapping&gt;\r\n&lt;/xml&gt;\r\n```\r\n\r\nlog4j2.xml\r\n```\r\n&lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss:SSS} [%X{ipAddress}] [%t] %-5p (%c{1}.java:%L).%M - %m%n&quot; /&gt;\r\n```","title":"Is it possible to log the remote (client) ip address when using log4j2 TcpSocketServer and SocketAppender?","body":"<p>Here is working example using filter:</p>\n<pre><code>import java.io.IOException;\nimport javax.servlet.Filter;\nimport javax.servlet.FilterChain;\nimport javax.servlet.FilterConfig;\nimport javax.servlet.ServletException;\nimport javax.servlet.ServletRequest;\nimport javax.servlet.ServletResponse;\nimport javax.servlet.annotation.WebFilter;\nimport javax.servlet.http.HttpServletRequest;\n\nimport org.apache.logging.log4j.ThreadContext;\n\n\n/**\n * Servlet Filter implementation class UserIPFilter\n */\n@WebFilter(filterName=&quot;UserIPFilter&quot;)\npublic class UserIPFilter implements Filter {\n\n    private final String IP_ADDRESS = &quot;ipAddress&quot;;\n\n    public void destroy() {\n    }\n\n    public void doFilter(ServletRequest request, ServletResponse response, FilterChain chain)\n            throws IOException, ServletException {\n\n        boolean successfulRegistration = false;\n\n        HttpServletRequest req = (HttpServletRequest) request;  \n        \n        if (req.getRemoteHost() != null) {\n            String ipAddress = req.getRemoteHost();\n            System.out.println(&quot;IP: &quot; + ipAddress);\n            successfulRegistration = registerUsername(ipAddress);\n        }\n\n        try {\n            chain.doFilter(request, response);\n        } finally {\n            if (successfulRegistration) {\n                ThreadContext.clearMap();\n            }\n        }\n    }\n\n    public void init(FilterConfig arg0) throws ServletException {\n    }\n\n    /**\n     * Register the user in the ThreadContext under IP_ADDRESS.\n     * \n     * @param username\n     * @return true ipAddress can be successfully registered\n     */\n    private boolean registerUsername(String ipAddress) {\n        if (ipAddress != null &amp;&amp; ipAddress.trim().length() &gt; 0) {\n            ThreadContext.put(IP_ADDRESS, ipAddress);\n            return true;\n        }\n        return false;\n    }\n\n}\n\n</code></pre>\n<p>web.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;!DOCTYPE xml&gt;\n----\n----\n&lt;filter-mapping&gt;\n        &lt;filter-name&gt;UserIPFilter&lt;/filter-name&gt;\n        &lt;url-pattern&gt;/*&lt;/url-pattern&gt;\n&lt;/filter-mapping&gt;\n&lt;/xml&gt;\n</code></pre>\n<p>log4j2.xml</p>\n<pre><code>&lt;PatternLayout pattern=&quot;%d{yyyy-MM-dd HH:mm:ss:SSS} [%X{ipAddress}] [%t] %-5p (%c{1}.java:%L).%M - %m%n&quot; /&gt;\n</code></pre>\n"}],"owner":{"account_id":434034,"reputation":18496,"user_id":819732,"accept_rate":80,"display_name":"kasdega"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2223,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1662141869,"creation_date":1491833338,"question_id":43325465,"body_markdown":"I&#39;ve been searching for any example of how to get the remote client&#39;s ip address printed in the log4j2 TcpSocketServer server side log file and I&#39;m hoping I&#39;m just not searching for the right thing.  Is it possible to the remote client&#39;s ip and if so how?\r\n\r\nIf I use TcpSocketServer I can get this when the server starts up:\r\n\r\n    2017-04-10 11:30:31,316 [Log4j2-0] DEBUG [TcpSocketServer.java:231] Socket accepted: Socket[addr=/10.64.1.2,port=52412,localport=4560]\r\n\r\nWhat I want is for the ip address to be somehow included on each logging line:\r\n\r\n    2017-04-10 11:30:31,316 [Log4j2-0] [10.64.1.2] DEBUG [MyFile.java:17] Test Logging line\r\n\r\n\r\n","title":"Is it possible to log the remote (client) ip address when using log4j2 TcpSocketServer and SocketAppender?","body":"<p>I've been searching for any example of how to get the remote client's ip address printed in the log4j2 TcpSocketServer server side log file and I'm hoping I'm just not searching for the right thing.  Is it possible to the remote client's ip and if so how?</p>\n\n<p>If I use TcpSocketServer I can get this when the server starts up:</p>\n\n<pre><code>2017-04-10 11:30:31,316 [Log4j2-0] DEBUG [TcpSocketServer.java:231] Socket accepted: Socket[addr=/10.64.1.2,port=52412,localport=4560]\n</code></pre>\n\n<p>What I want is for the ip address to be somehow included on each logging line:</p>\n\n<pre><code>2017-04-10 11:30:31,316 [Log4j2-0] [10.64.1.2] DEBUG [MyFile.java:17] Test Logging line\n</code></pre>\n"},{"tags":["java","log4j"],"answers":[{"tags":[],"owner":{"account_id":2014980,"reputation":9943,"user_id":1802512,"accept_rate":80,"display_name":"hoaz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1459963832,"creation_date":1459963832,"answer_id":36458262,"question_id":36457845,"body_markdown":"If I understand your requirements correctly you want to log:\r\n\r\n1. everything to console\r\n2. errors to logFile + INFO logs from specific packages\r\n\r\nIf that is the case you need to do following:\r\n\r\n1. remove threshold (or make it INFO) on logFile appender\r\n2. remove `&lt;appender-ref ref=&quot;logFile&quot;/&gt;` from root logger because root logger specifies &quot;all&quot; and you do not want that\r\n3. add &lt;appender-ref ref=&quot;logFile&quot;/&gt; to all loggers which you want to see in logFile\r\n","title":"Using log4j.xml, log specific file or package at debug everything else at error","body":"<p>If I understand your requirements correctly you want to log:</p>\n\n<ol>\n<li>everything to console</li>\n<li>errors to logFile + INFO logs from specific packages</li>\n</ol>\n\n<p>If that is the case you need to do following:</p>\n\n<ol>\n<li>remove threshold (or make it INFO) on logFile appender</li>\n<li>remove <code>&lt;appender-ref ref=\"logFile\"/&gt;</code> from root logger because root logger specifies \"all\" and you do not want that</li>\n<li>add  to all loggers which you want to see in logFile</li>\n</ol>\n"}],"owner":{"account_id":308365,"reputation":2377,"user_id":620192,"accept_rate":64,"display_name":"ScrappyDev"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18135,"favorite_count":0,"down_vote_count":1,"up_vote_count":6,"answer_count":1,"score":5,"last_activity_date":1662141710,"creation_date":1459962561,"question_id":36457845,"body_markdown":"I&#39;d like to setup my log4j.xml file to log specific classes/packages at DEBUG level and the rest at ERROR level.\r\n\r\nAs you can see below I updated the logging level to info for `gov.xxxx.app.batch.thread` and `gov.xxxx.app.batch.sms.DoWork` to info.\r\n\r\nHowever it looks like the `threshold` takes precedence (which makes sense).\r\nIs there a way to make it so that the class/package level config takes precedence over the threshold? Or another approach that would yield the desired result?\r\n\r\n**log4j.xml:**\r\n\r\n&lt;!-- language: lang-xml --&gt;\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n    &lt;!DOCTYPE log4j:configuration SYSTEM &quot;log4j.dtd&quot;&gt;\r\n    &lt;log4j:configuration&gt;\r\n    \r\n            &lt;appender name=&quot;console&quot; class=&quot;org.apache.log4j.ConsoleAppender&quot;&gt;\r\n                    &lt;param name=&quot;threshold&quot; value=&quot;all&quot;/&gt;\r\n                    &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n                            &lt;param name=&quot;conversionPattern&quot; value=&quot;%d  %p  %c %L - %m%n&quot;/&gt;\r\n                    &lt;/layout&gt;\r\n            &lt;/appender&gt;\r\n    \r\n            &lt;appender name=&quot;logFile&quot; class=&quot;org.apache.log4j.DailyRollingFileAppender&quot;&gt;\r\n                    &lt;param name=&quot;file&quot; value=&quot;${app.batchdriver.home}/logs/${app.batchdriver.log.name}&quot;/&gt;\r\n                    &lt;param name=&quot;maxFileSize&quot; value=&quot;5MB&quot;/&gt;\r\n                    &lt;param name=&quot;maxBackupIndex&quot; value=&quot;20&quot;/&gt;\r\n                    &lt;param name=&quot;threshold&quot; value=&quot;error&quot;/&gt;\r\n    \r\n                    &lt;layout class=&quot;org.apache.log4j.PatternLayout&quot;&gt;\r\n                            &lt;param name=&quot;conversionPattern&quot; value=&quot;%d  %p  %c %L - %m%n&quot;/&gt;\r\n                    &lt;/layout&gt;\r\n            &lt;/appender&gt;\r\n    \r\n            &lt;!-- Logger for Batch classes --&gt;\r\n            &lt;logger name=&quot;gov.xxxx.app&quot;&gt;\r\n                    &lt;level value=&quot;error&quot;/&gt;\r\n            &lt;/logger&gt;\r\n    \r\n            &lt;!-- Logger for Spring classes --&gt;\r\n            &lt;logger name=&quot;org.springframework&quot;&gt;\r\n                    &lt;level value=&quot;error&quot;/&gt;\r\n            &lt;/logger&gt;\r\n    \r\n            &lt;!-- Logger for Hibernate classes --&gt;\r\n            &lt;logger name=&quot;org.hibernate&quot;&gt;\r\n                    &lt;level value=&quot;error&quot;/&gt;\r\n            &lt;/logger&gt;\r\n    \r\n            &lt;!-- Logger for Apache classes --&gt;\r\n            &lt;logger name=&quot;org.apache&quot;&gt;\r\n                    &lt;level value=&quot;error&quot;/&gt;\r\n            &lt;/logger&gt;\r\n    \r\n            &lt;!-- Logger for Apache classes --&gt;\r\n            &lt;logger name=&quot;net.sf&quot;&gt;\r\n                    &lt;level value=&quot;error&quot;/&gt;\r\n            &lt;/logger&gt;\r\n    \r\n            &lt;!-- Logger for testing Performance --&gt;\r\n            &lt;logger name=&quot;gov.xxxx.app.batch.thread&quot;&gt;\r\n                    &lt;level value=&quot;info&quot;/&gt;\r\n            &lt;/logger&gt;\r\n            &lt;logger name=&quot;gov.xxxx.app.batch.sms.DoWork&quot;&gt;\r\n                    &lt;level value=&quot;info&quot;/&gt;\r\n            &lt;/logger&gt;\r\n            &lt;root&gt;\r\n                    &lt;priority value =&quot;all&quot; /&gt;\r\n                    &lt;appender-ref ref=&quot;console&quot;/&gt;\r\n                    &lt;appender-ref ref=&quot;logFile&quot;/&gt;\r\n            &lt;/root&gt;\r\n    \r\n    &lt;/log4j:configuration&gt;","title":"Using log4j.xml, log specific file or package at debug everything else at error","body":"<p>I'd like to setup my log4j.xml file to log specific classes/packages at DEBUG level and the rest at ERROR level.</p>\n\n<p>As you can see below I updated the logging level to info for <code>gov.xxxx.app.batch.thread</code> and <code>gov.xxxx.app.batch.sms.DoWork</code> to info.</p>\n\n<p>However it looks like the <code>threshold</code> takes precedence (which makes sense).\nIs there a way to make it so that the class/package level config takes precedence over the threshold? Or another approach that would yield the desired result?</p>\n\n<p><strong>log4j.xml:</strong></p>\n\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\" ?&gt;\n&lt;!DOCTYPE log4j:configuration SYSTEM \"log4j.dtd\"&gt;\n&lt;log4j:configuration&gt;\n\n        &lt;appender name=\"console\" class=\"org.apache.log4j.ConsoleAppender\"&gt;\n                &lt;param name=\"threshold\" value=\"all\"/&gt;\n                &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n                        &lt;param name=\"conversionPattern\" value=\"%d  %p  %c %L - %m%n\"/&gt;\n                &lt;/layout&gt;\n        &lt;/appender&gt;\n\n        &lt;appender name=\"logFile\" class=\"org.apache.log4j.DailyRollingFileAppender\"&gt;\n                &lt;param name=\"file\" value=\"${app.batchdriver.home}/logs/${app.batchdriver.log.name}\"/&gt;\n                &lt;param name=\"maxFileSize\" value=\"5MB\"/&gt;\n                &lt;param name=\"maxBackupIndex\" value=\"20\"/&gt;\n                &lt;param name=\"threshold\" value=\"error\"/&gt;\n\n                &lt;layout class=\"org.apache.log4j.PatternLayout\"&gt;\n                        &lt;param name=\"conversionPattern\" value=\"%d  %p  %c %L - %m%n\"/&gt;\n                &lt;/layout&gt;\n        &lt;/appender&gt;\n\n        &lt;!-- Logger for Batch classes --&gt;\n        &lt;logger name=\"gov.xxxx.app\"&gt;\n                &lt;level value=\"error\"/&gt;\n        &lt;/logger&gt;\n\n        &lt;!-- Logger for Spring classes --&gt;\n        &lt;logger name=\"org.springframework\"&gt;\n                &lt;level value=\"error\"/&gt;\n        &lt;/logger&gt;\n\n        &lt;!-- Logger for Hibernate classes --&gt;\n        &lt;logger name=\"org.hibernate\"&gt;\n                &lt;level value=\"error\"/&gt;\n        &lt;/logger&gt;\n\n        &lt;!-- Logger for Apache classes --&gt;\n        &lt;logger name=\"org.apache\"&gt;\n                &lt;level value=\"error\"/&gt;\n        &lt;/logger&gt;\n\n        &lt;!-- Logger for Apache classes --&gt;\n        &lt;logger name=\"net.sf\"&gt;\n                &lt;level value=\"error\"/&gt;\n        &lt;/logger&gt;\n\n        &lt;!-- Logger for testing Performance --&gt;\n        &lt;logger name=\"gov.xxxx.app.batch.thread\"&gt;\n                &lt;level value=\"info\"/&gt;\n        &lt;/logger&gt;\n        &lt;logger name=\"gov.xxxx.app.batch.sms.DoWork\"&gt;\n                &lt;level value=\"info\"/&gt;\n        &lt;/logger&gt;\n        &lt;root&gt;\n                &lt;priority value =\"all\" /&gt;\n                &lt;appender-ref ref=\"console\"/&gt;\n                &lt;appender-ref ref=\"logFile\"/&gt;\n        &lt;/root&gt;\n\n&lt;/log4j:configuration&gt;\n</code></pre>\n"},{"tags":["java","android","xml"],"comments":[{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1419852859,"post_id":27687796,"comment_id":43789578,"body_markdown":"Add some Log.d in getItemCount()","body":"Add some Log.d in getItemCount()"},{"owner":{"account_id":2902515,"reputation":267,"user_id":2488820,"accept_rate":80,"display_name":"AnishM"},"score":0,"creation_date":1419853765,"post_id":27687796,"comment_id":43790009,"body_markdown":"did that, the value of getCount() is 3 as expected","body":"did that, the value of getCount() is 3 as expected"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1419853866,"post_id":27687796,"comment_id":43790065,"body_markdown":"Is onBindViewHolder called three times? Tried to run hierarchyviewer?","body":"Is onBindViewHolder called three times? Tried to run hierarchyviewer?"},{"owner":{"account_id":2902515,"reputation":267,"user_id":2488820,"accept_rate":80,"display_name":"AnishM"},"score":0,"creation_date":1419854042,"post_id":27687796,"comment_id":43790143,"body_markdown":"yes, its called thrice.","body":"yes, its called thrice."},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1419854142,"post_id":27687796,"comment_id":43790177,"body_markdown":"What does hierarchyviewer show?","body":"What does hierarchyviewer show?"},{"owner":{"account_id":2902515,"reputation":267,"user_id":2488820,"accept_rate":80,"display_name":"AnishM"},"score":0,"creation_date":1419855069,"post_id":27687796,"comment_id":43790561,"body_markdown":"I am sorry, I did not get you. What exactly should I see in the Hierarchy View?","body":"I am sorry, I did not get you. What exactly should I see in the Hierarchy View?"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1419855114,"post_id":27687796,"comment_id":43790583,"body_markdown":"You should see your RecyclerView and its child views","body":"You should see your RecyclerView and its child views"},{"owner":{"account_id":2902515,"reputation":267,"user_id":2488820,"accept_rate":80,"display_name":"AnishM"},"score":0,"creation_date":1419855177,"post_id":27687796,"comment_id":43790622,"body_markdown":"oh yes. the RecyclerView is seen in the hierarchy view... but no content?","body":"oh yes. the RecyclerView is seen in the hierarchy view... but no content?"},{"owner":{"account_id":2600198,"reputation":24052,"user_id":2252830,"display_name":"pskink"},"score":0,"creation_date":1419855240,"post_id":27687796,"comment_id":43790649,"body_markdown":"No children at all? Strange...","body":"No children at all? Strange..."},{"owner":{"account_id":2902515,"reputation":267,"user_id":2488820,"accept_rate":80,"display_name":"AnishM"},"score":0,"creation_date":1419855297,"post_id":27687796,"comment_id":43790679,"body_markdown":"yes, sir. Thats the problem I am facing :/","body":"yes, sir. Thats the problem I am facing :/"},{"owner":{"account_id":301114,"reputation":37863,"user_id":608649,"display_name":"yigit"},"score":0,"creation_date":1419896952,"post_id":27687796,"comment_id":43808562,"body_markdown":"It is strange that onBind is called but children are not in hierarchy viewer. Btw, you should replace android:layout_height=&quot;match_parent&quot; with wrap_content.","body":"It is strange that onBind is called but children are not in hierarchy viewer. Btw, you should replace android:layout_height=&quot;match_parent&quot; with wrap_content."},{"owner":{"account_id":2902515,"reputation":267,"user_id":2488820,"accept_rate":80,"display_name":"AnishM"},"score":0,"creation_date":1419908947,"post_id":27687796,"comment_id":43811213,"body_markdown":"exactly. why isn&#39;t SDK creating any children. I have referred many sources and my code looks correct. The changing of layout_height did not make any difference","body":"exactly. why isn&#39;t SDK creating any children. I have referred many sources and my code looks correct. The changing of layout_height did not make any difference"}],"answers":[{"tags":[],"owner":{"account_id":5531468,"reputation":1791,"user_id":4391326,"display_name":"Prabhakar"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1430243897,"creation_date":1419937389,"answer_id":27704259,"question_id":27687796,"body_markdown":"There is Problem in your **Model** Class. You should use getter and setter method in  model class. The following code may help you.\r\n\r\n    public class Information {\r\n    private String title;\r\n    public Model( String title) {\r\n    \tsuper();\r\n    \tthis.title = title;\r\n    }\r\n    public String getTitle() {\r\n    \treturn title;\r\n    }\r\n    public void setTitle(String title) {\r\n    \tthis.title = title;\r\n    }\r\n    }\r\n\r\n\r\n\r\nIn MainActivity.java, set the title  in the MainActivity\r\n\r\n","title":"A populated RecyclerView is empty","body":"<p>There is Problem in your <strong>Model</strong> Class. You should use getter and setter method in  model class. The following code may help you.</p>\n\n<pre><code>public class Information {\nprivate String title;\npublic Model( String title) {\n    super();\n    this.title = title;\n}\npublic String getTitle() {\n    return title;\n}\npublic void setTitle(String title) {\n    this.title = title;\n}\n}\n</code></pre>\n\n<p>In MainActivity.java, set the title  in the MainActivity</p>\n"},{"tags":[],"owner":{"account_id":3770662,"reputation":1159,"user_id":3132972,"display_name":"sulu.dev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1608841852,"creation_date":1608841852,"answer_id":65442991,"question_id":27687796,"body_markdown":"In my case, i realized that `getItemCount()` method of the adapter is never called. In this case, setting layoutmanager of recyclerView is solved my problem.\r\n\r\n    recyclerView.layoutManager = LinearLayoutManager(mainActivity)\r\n\r\n","title":"A populated RecyclerView is empty","body":"<p>In my case, i realized that <code>getItemCount()</code> method of the adapter is never called. In this case, setting layoutmanager of recyclerView is solved my problem.</p>\n<pre><code>recyclerView.layoutManager = LinearLayoutManager(mainActivity)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":20600591,"reputation":23,"user_id":15121950,"display_name":"Ayan Shaikh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662141528,"creation_date":1662141528,"answer_id":73586421,"question_id":27687796,"body_markdown":"(JAVA) I faced a similar issue and the following code worked for me.\r\nThe Adapter Functions were not being called for some reasons.\r\n\r\n\r\n    recyclerView.setLayoutManager(new LinearLayoutManager(this));","title":"A populated RecyclerView is empty","body":"<p>(JAVA) I faced a similar issue and the following code worked for me.\nThe Adapter Functions were not being called for some reasons.</p>\n<pre><code>recyclerView.setLayoutManager(new LinearLayoutManager(this));\n</code></pre>\n"}],"owner":{"account_id":2902515,"reputation":267,"user_id":2488820,"accept_rate":80,"display_name":"AnishM"},"comment_count":12,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3501,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":27704259,"answer_count":3,"score":1,"last_activity_date":1662141528,"creation_date":1419851755,"question_id":27687796,"body_markdown":"The data model:\r\n\r\n    public class Information {\r\n\r\n    String title;}\r\n\r\nThe adapter:\r\n\r\n    import android.content.Context;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    import android.widget.ImageView;\r\n    import android.widget.TextView;\r\n    \r\n    import java.util.Collections;\r\n    import java.util.List;\r\n    \r\n    /**\r\n     * Created by anish on 29/12/14.\r\n     */\r\n    public class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;   {\r\n    \r\n        private LayoutInflater inflator;\r\n        List&lt;Information&gt; data = Collections.emptyList();\r\n        public MyAdapter(Context context, List&lt;Information&gt; data)\r\n        {\r\n            inflator = LayoutInflater.from(context);\r\n            this.data=data;\r\n        }\r\n    \r\n        @Override\r\n        public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\r\n            View view = inflator.inflate(R.layout.custom_row, parent, false);\r\n            MyViewHolder holder = new MyViewHolder(view);\r\n            return holder;\r\n        }\r\n    \r\n        @Override\r\n        public void onBindViewHolder(MyViewHolder holder, int position) {\r\n            Information current = data.get(position);\r\n            holder.text.setText(current.title);\r\n        }\r\n    \r\n        @Override\r\n        public int getItemCount() {\r\n            return data.size();\r\n        }\r\n        class MyViewHolder extends RecyclerView.ViewHolder{\r\n    \r\n            TextView text;\r\n    \r\n            public MyViewHolder(View itemView) {\r\n                super(itemView);\r\n                text = (TextView) itemView.findViewById(R.id.listText);\r\n            }\r\n        }\r\n    }\r\n\r\nThe navigation drawer fragment:\r\n\r\n\r\n    import android.content.Context;\r\n    import android.content.SharedPreferences;\r\n    import android.os.Bundle;\r\n    import android.support.v4.app.Fragment;\r\n    import android.support.v4.widget.DrawerLayout;\r\n    import android.support.v7.app.ActionBarDrawerToggle;\r\n    import android.support.v7.widget.LinearLayoutManager;\r\n    import android.support.v7.widget.RecyclerView;\r\n    import android.support.v7.widget.Toolbar;\r\n    import android.view.LayoutInflater;\r\n    import android.view.View;\r\n    import android.view.ViewGroup;\r\n    \r\n    import java.util.ArrayList;\r\n    import java.util.List;\r\n    \r\n    \r\n    /**\r\n     * A simple {@link Fragment} subclass.\r\n     */\r\n    public class NavigationDrawerFragment extends Fragment {\r\n    \r\n        private RecyclerView recyclerView;\r\n        private ActionBarDrawerToggle mDrawerToggle;\r\n        private DrawerLayout mDrawerLayout;\r\n        private boolean mUserLearnedDrawer;\r\n        private boolean mFromSavedInstanceState;\r\n        public static final String PREF_FILE_NAME=&quot;testpref&quot;;\r\n        public static final String KEY_USER_LEARNED_DRAWER=&quot;user_learned_drawer&quot;;\r\n        private View containerView;\r\n        private MyAdapter adapter;\r\n        public NavigationDrawerFragment() {\r\n            // Required empty public constructor\r\n        }\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState)\r\n        {\r\n            super.onCreate(savedInstanceState);\r\n            mUserLearnedDrawer = Boolean.getBoolean(readFromPreferences(getActivity(),KEY_USER_LEARNED_DRAWER,&quot;false&quot;));\r\n            if(savedInstanceState!=null) mFromSavedInstanceState = true;\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View layout = inflater.inflate(R.layout.fragment_navigation_drawer, container, false);\r\n            recyclerView = (RecyclerView) layout.findViewById(R.id.drawer_list);\r\n            adapter = new MyAdapter(getActivity(),getData());\r\n            recyclerView.setAdapter(adapter);\r\n            recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\r\n            // Inflate the layout for this fragment\r\n            return layout;\r\n        }\r\n    \r\n        public static List&lt;Information&gt; getData()\r\n        {\r\n            List&lt;Information&gt; data = new ArrayList&lt;&gt;();\r\n            //int icons[]={R.drawable.abc_ic_ab_back_mtrl_am_alpha, R.drawable.abc_ab_share_pack_holo_dark, R.drawable.abc_btn_radio_to_on_mtrl_000};\r\n            String[] title = {&quot;Microsoft&quot;,&quot;Yahoo&quot;,&quot;Google&quot;};\r\n            for(int i=0; i&lt;title.length; i++)\r\n            {\r\n                Information current = new Information();\r\n                //current.iconId = icons[i];\r\n                current.title = title[i];\r\n                data.add(current);\r\n            }\r\n            return data;\r\n        }\r\n        public void setUp(int fragmentID, DrawerLayout drawerLayout, final Toolbar toolbar) {\r\n            containerView = getActivity().findViewById(fragmentID);\r\n            mDrawerLayout = drawerLayout;\r\n            mDrawerToggle=new ActionBarDrawerToggle(getActivity(),drawerLayout,toolbar, R.string.drawer_open, R.string.drawer_close) {\r\n                @Override\r\n                public void onDrawerOpened(View drawerView) {\r\n                    if(!mUserLearnedDrawer)\r\n                    {\r\n                        mUserLearnedDrawer=true;\r\n                        saveToPreferences(getActivity(),KEY_USER_LEARNED_DRAWER,mUserLearnedDrawer+&quot;&quot;);\r\n                    }\r\n                    getActivity().invalidateOptionsMenu();\r\n                    super.onDrawerOpened(drawerView);\r\n                }\r\n    \r\n                @Override\r\n                public void onDrawerClosed(View drawerView) {\r\n    \r\n                    getActivity().invalidateOptionsMenu();\r\n                    super.onDrawerClosed(drawerView);\r\n                }\r\n    \r\n                @Override\r\n                public void onDrawerSlide(View drawerView, float slideOffset) {\r\n                    if(slideOffset&lt;0.6)\r\n                    {\r\n                        toolbar.setAlpha(1-slideOffset);\r\n    \r\n                    }\r\n                }\r\n            };\r\n            if(!mUserLearnedDrawer &amp;&amp; !mFromSavedInstanceState)\r\n            {\r\n                mDrawerLayout.openDrawer(containerView);\r\n            }\r\n            mDrawerLayout.setDrawerListener(mDrawerToggle);\r\n            mDrawerLayout.post(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    mDrawerToggle.syncState();\r\n                }\r\n            });\r\n        }\r\n        public static void saveToPreferences(Context context, String preferenceName, String preferenceValue)\r\n        {\r\n            SharedPreferences sharedPreferences = context.getSharedPreferences(PREF_FILE_NAME, Context.MODE_PRIVATE);\r\n            SharedPreferences.Editor editor = sharedPreferences.edit();\r\n            editor.putString(preferenceName, preferenceValue);\r\n            editor.apply();\r\n    \r\n        }\r\n        public static String readFromPreferences(Context context, String preferenceName, String defaultValue)\r\n        {\r\n            SharedPreferences sharedPreferences = context.getSharedPreferences(PREF_FILE_NAME, Context.MODE_PRIVATE);\r\n            return sharedPreferences.getString(preferenceName, defaultValue);\r\n        }\r\n    }\r\n\r\nThe XML for an individual row I am populating:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n    \r\n        &lt;TextView\r\n            android:id=&quot;@+id/listText&quot;\r\n            android:layout_width=&quot;wrap_content&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:text=&quot;Dummy Text&quot;\r\n            android:gravity=&quot;center&quot;\r\n            android:textColor=&quot;#0000&quot;\r\n            android:paddingTop=&quot;5dp&quot;\r\n            /&gt;\r\n    &lt;/LinearLayout&gt;\r\n\r\nWhen I run the app, the NavigationDrawer is blank. I first thought of using an ImageView, but then for debugging purposes, I thought of using text only. I did everything I could. Please help.","title":"A populated RecyclerView is empty","body":"<p>The data model:</p>\n\n<pre><code>public class Information {\n\nString title;}\n</code></pre>\n\n<p>The adapter:</p>\n\n<pre><code>import android.content.Context;\nimport android.support.v7.widget.RecyclerView;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\nimport android.widget.ImageView;\nimport android.widget.TextView;\n\nimport java.util.Collections;\nimport java.util.List;\n\n/**\n * Created by anish on 29/12/14.\n */\npublic class MyAdapter extends RecyclerView.Adapter&lt;MyAdapter.MyViewHolder&gt;   {\n\n    private LayoutInflater inflator;\n    List&lt;Information&gt; data = Collections.emptyList();\n    public MyAdapter(Context context, List&lt;Information&gt; data)\n    {\n        inflator = LayoutInflater.from(context);\n        this.data=data;\n    }\n\n    @Override\n    public MyViewHolder onCreateViewHolder(ViewGroup parent, int viewType) {\n        View view = inflator.inflate(R.layout.custom_row, parent, false);\n        MyViewHolder holder = new MyViewHolder(view);\n        return holder;\n    }\n\n    @Override\n    public void onBindViewHolder(MyViewHolder holder, int position) {\n        Information current = data.get(position);\n        holder.text.setText(current.title);\n    }\n\n    @Override\n    public int getItemCount() {\n        return data.size();\n    }\n    class MyViewHolder extends RecyclerView.ViewHolder{\n\n        TextView text;\n\n        public MyViewHolder(View itemView) {\n            super(itemView);\n            text = (TextView) itemView.findViewById(R.id.listText);\n        }\n    }\n}\n</code></pre>\n\n<p>The navigation drawer fragment:</p>\n\n<pre><code>import android.content.Context;\nimport android.content.SharedPreferences;\nimport android.os.Bundle;\nimport android.support.v4.app.Fragment;\nimport android.support.v4.widget.DrawerLayout;\nimport android.support.v7.app.ActionBarDrawerToggle;\nimport android.support.v7.widget.LinearLayoutManager;\nimport android.support.v7.widget.RecyclerView;\nimport android.support.v7.widget.Toolbar;\nimport android.view.LayoutInflater;\nimport android.view.View;\nimport android.view.ViewGroup;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\n\n/**\n * A simple {@link Fragment} subclass.\n */\npublic class NavigationDrawerFragment extends Fragment {\n\n    private RecyclerView recyclerView;\n    private ActionBarDrawerToggle mDrawerToggle;\n    private DrawerLayout mDrawerLayout;\n    private boolean mUserLearnedDrawer;\n    private boolean mFromSavedInstanceState;\n    public static final String PREF_FILE_NAME=\"testpref\";\n    public static final String KEY_USER_LEARNED_DRAWER=\"user_learned_drawer\";\n    private View containerView;\n    private MyAdapter adapter;\n    public NavigationDrawerFragment() {\n        // Required empty public constructor\n    }\n    @Override\n    public void onCreate(Bundle savedInstanceState)\n    {\n        super.onCreate(savedInstanceState);\n        mUserLearnedDrawer = Boolean.getBoolean(readFromPreferences(getActivity(),KEY_USER_LEARNED_DRAWER,\"false\"));\n        if(savedInstanceState!=null) mFromSavedInstanceState = true;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View layout = inflater.inflate(R.layout.fragment_navigation_drawer, container, false);\n        recyclerView = (RecyclerView) layout.findViewById(R.id.drawer_list);\n        adapter = new MyAdapter(getActivity(),getData());\n        recyclerView.setAdapter(adapter);\n        recyclerView.setLayoutManager(new LinearLayoutManager(getActivity()));\n        // Inflate the layout for this fragment\n        return layout;\n    }\n\n    public static List&lt;Information&gt; getData()\n    {\n        List&lt;Information&gt; data = new ArrayList&lt;&gt;();\n        //int icons[]={R.drawable.abc_ic_ab_back_mtrl_am_alpha, R.drawable.abc_ab_share_pack_holo_dark, R.drawable.abc_btn_radio_to_on_mtrl_000};\n        String[] title = {\"Microsoft\",\"Yahoo\",\"Google\"};\n        for(int i=0; i&lt;title.length; i++)\n        {\n            Information current = new Information();\n            //current.iconId = icons[i];\n            current.title = title[i];\n            data.add(current);\n        }\n        return data;\n    }\n    public void setUp(int fragmentID, DrawerLayout drawerLayout, final Toolbar toolbar) {\n        containerView = getActivity().findViewById(fragmentID);\n        mDrawerLayout = drawerLayout;\n        mDrawerToggle=new ActionBarDrawerToggle(getActivity(),drawerLayout,toolbar, R.string.drawer_open, R.string.drawer_close) {\n            @Override\n            public void onDrawerOpened(View drawerView) {\n                if(!mUserLearnedDrawer)\n                {\n                    mUserLearnedDrawer=true;\n                    saveToPreferences(getActivity(),KEY_USER_LEARNED_DRAWER,mUserLearnedDrawer+\"\");\n                }\n                getActivity().invalidateOptionsMenu();\n                super.onDrawerOpened(drawerView);\n            }\n\n            @Override\n            public void onDrawerClosed(View drawerView) {\n\n                getActivity().invalidateOptionsMenu();\n                super.onDrawerClosed(drawerView);\n            }\n\n            @Override\n            public void onDrawerSlide(View drawerView, float slideOffset) {\n                if(slideOffset&lt;0.6)\n                {\n                    toolbar.setAlpha(1-slideOffset);\n\n                }\n            }\n        };\n        if(!mUserLearnedDrawer &amp;&amp; !mFromSavedInstanceState)\n        {\n            mDrawerLayout.openDrawer(containerView);\n        }\n        mDrawerLayout.setDrawerListener(mDrawerToggle);\n        mDrawerLayout.post(new Runnable() {\n            @Override\n            public void run() {\n                mDrawerToggle.syncState();\n            }\n        });\n    }\n    public static void saveToPreferences(Context context, String preferenceName, String preferenceValue)\n    {\n        SharedPreferences sharedPreferences = context.getSharedPreferences(PREF_FILE_NAME, Context.MODE_PRIVATE);\n        SharedPreferences.Editor editor = sharedPreferences.edit();\n        editor.putString(preferenceName, preferenceValue);\n        editor.apply();\n\n    }\n    public static String readFromPreferences(Context context, String preferenceName, String defaultValue)\n    {\n        SharedPreferences sharedPreferences = context.getSharedPreferences(PREF_FILE_NAME, Context.MODE_PRIVATE);\n        return sharedPreferences.getString(preferenceName, defaultValue);\n    }\n}\n</code></pre>\n\n<p>The XML for an individual row I am populating:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:layout_width=\"match_parent\"\n    android:layout_height=\"match_parent\"\n    android:orientation=\"horizontal\"&gt;\n\n    &lt;TextView\n        android:id=\"@+id/listText\"\n        android:layout_width=\"wrap_content\"\n        android:layout_height=\"wrap_content\"\n        android:text=\"Dummy Text\"\n        android:gravity=\"center\"\n        android:textColor=\"#0000\"\n        android:paddingTop=\"5dp\"\n        /&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n\n<p>When I run the app, the NavigationDrawer is blank. I first thought of using an ImageView, but then for debugging purposes, I thought of using text only. I did everything I could. Please help.</p>\n"},{"tags":["javascript","java","xml","api","cisco"],"owner":{"account_id":18584255,"reputation":21,"user_id":13543053,"display_name":"devSoupGuy61"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":73,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1662140329,"creation_date":1662140329,"question_id":73586242,"body_markdown":"How can I best format my POST request for the Cisco API&#160;CompressedClientLog?&#160;\r\n\r\nhttps://developer.cisco.com/docs/finesse/#!compressedclientlog%e2%80%94post-compressed-log-to-finesse/compressedclientlogpost-compressed-log-to-finesse\r\n\r\nCompressedClientLogPost Compressed Log to Finesse\r\n\r\n    var data = new FormData();\r\n    var logObj = &#39;&lt;ClientLog&gt;&lt;logData&gt;This is some logged data for the log file&lt;/logData&gt;&lt;/ClientLog&gt;&#39;;\r\n    data.append(&quot;logData&quot;, logObj);\r\n    \r\n    var xhr = new XMLHttpRequest();\r\n    xhr.addEventListener(&quot;readystatechange&quot;, function() {\r\n      if(this.readyState === 4) {\r\n        console.log(&quot;Gadget is now engaged&quot; + this.responseText);\r\n      }\r\n    });\r\n    xhr.open(&quot;POST&quot;, &quot;https://finesse1.xyz.com/finesse/api/User/finadmin/CompressedClientLog&quot;);\r\n    xhr.send(data);\r\n\r\nResponse is:\r\n\r\n    &lt;ApiErrors&gt;\r\n      &lt;ApiError&gt;\r\n        &lt;ErrorType&gt;Parameter Missing&lt;/ErrorType&gt;\r\n        &lt;ErrorData&gt;logData&lt;/ErrorData&gt;\r\n        &lt;ErrorMessage&gt;Missing logData in the ClientLog object&lt;/ErrorMessage&gt;\r\n      &lt;/ApiError&gt;\r\n    &lt;/ApiErrors&gt;\r\n\r\nWhere am I going wrong?","title":"How is the proper way to use the Cisco CompressedClientLog Finesse API?","body":"<p>How can I best format my POST request for the Cisco APICompressedClientLog?</p>\n<p><a href=\"https://developer.cisco.com/docs/finesse/#!compressedclientlog%e2%80%94post-compressed-log-to-finesse/compressedclientlogpost-compressed-log-to-finesse\" rel=\"nofollow noreferrer\">https://developer.cisco.com/docs/finesse/#!compressedclientlog%e2%80%94post-compressed-log-to-finesse/compressedclientlogpost-compressed-log-to-finesse</a></p>\n<p>CompressedClientLogPost Compressed Log to Finesse</p>\n<pre><code>var data = new FormData();\nvar logObj = '&lt;ClientLog&gt;&lt;logData&gt;This is some logged data for the log file&lt;/logData&gt;&lt;/ClientLog&gt;';\ndata.append(&quot;logData&quot;, logObj);\n\nvar xhr = new XMLHttpRequest();\nxhr.addEventListener(&quot;readystatechange&quot;, function() {\n  if(this.readyState === 4) {\n    console.log(&quot;Gadget is now engaged&quot; + this.responseText);\n  }\n});\nxhr.open(&quot;POST&quot;, &quot;https://finesse1.xyz.com/finesse/api/User/finadmin/CompressedClientLog&quot;);\nxhr.send(data);\n</code></pre>\n<p>Response is:</p>\n<pre><code>&lt;ApiErrors&gt;\n  &lt;ApiError&gt;\n    &lt;ErrorType&gt;Parameter Missing&lt;/ErrorType&gt;\n    &lt;ErrorData&gt;logData&lt;/ErrorData&gt;\n    &lt;ErrorMessage&gt;Missing logData in the ClientLog object&lt;/ErrorMessage&gt;\n  &lt;/ApiError&gt;\n&lt;/ApiErrors&gt;\n</code></pre>\n<p>Where am I going wrong?</p>\n"},{"tags":["java","class","javafx","project"],"answers":[{"tags":[],"owner":{"account_id":24364964,"reputation":41,"user_id":18298833,"display_name":"redrabbit"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662139809,"creation_date":1662139809,"answer_id":73586162,"question_id":73455575,"body_markdown":"I answer myself\r\n\r\nwith Liberica: it has JavaFX binaries\r\n\r\n```\r\n@FXML\r\n\tprivate void executerFichierJava02() {\r\n\t\t\r\n\t\t//\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tSystem.out.println(&quot;method: executerFichierJava02()&quot;);\r\n\t\tSystem.out.println(&quot;create 1 Service and 1 Task&quot;);\r\n\t\tSystem.out.println(&quot;return 1 ProcessBuilder to&quot;);\r\n\t\tSystem.out.println(&quot;execute 1 Java class (from project JavaFX_Test02_Desvstory)&quot;);\r\n\t\t\r\n\t\tfinal Service&lt;Integer&gt; service01 = new Service&lt;Integer&gt;() {\r\n\t\t\t\r\n\t\t\t// --- step 03, override createTask() method\r\n\t\t\t@Override\r\n\t\t\tprotected Task&lt;Integer&gt; createTask() {\r\n\t\t\t\t\r\n\t\t\t\treturn new Task&lt;Integer&gt;() {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// --- step 04, override call() method\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tprotected Integer call() throws Exception {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//-------------------------------------------------\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tProcessBuilder process02 = new ProcessBuilder();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// cree 1 vue de l&#39;environnement de process02\r\n\t\t\t\t\t\tMap&lt;String, String&gt; vue02 = process02.environment();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// verif de l&#39;environnement par la console\r\n\t\t\t\t\t\tfor (Map.Entry&lt;String, String&gt; entree :\r\n\t\t\t\t             vue02.entrySet()) {\r\n\t\t\t\t            // affiche ck&#233; et valeur separement\r\n\t\t\t\t            System.out.println(&quot;Key = &quot; + entree.getKey()\r\n\t\t\t\t                               + &quot;, Value = &quot;\r\n\t\t\t\t                               + entree.getValue());\r\n\t\t\t\t        }\r\n\t\t\t\t\t\t//--------------------------------------------------\r\n\r\n\t\t\t\t\t\t// 07: fonctionne\r\n\t\t\t\t\t\t// chemins absolus\r\n\t\t\t\t\t\t// aussi ds eclipse que ds le terminal\r\n\t\t\t\t\t\t// trouver 1 moyen de retourner les 2 ProcessBuilder\r\n\t\t\t\t\t\t// lien: https://stackoverflow.com/questions/2832472/how-to-return-2-values-from-a-java-method\r\n\t\t\t\t\t\t// ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/javac&quot;, &quot;-d&quot;, &quot;./out&quot;, &quot;/media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test01_Hello_Devstory/src/module-info.java&quot;, &quot;/media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test01_Hello_Devstory/src/application/Main.java&quot;);\r\n\t\t\t\t\t\tProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java&quot;, &quot;-p&quot;, &quot;./out&quot;, &quot;-m&quot;, &quot;JavaFX_Test01_Hello_Devstory/application.Main&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\treturn process01\r\n\t\t\t\t                .inheritIO()\r\n\t\t\t\t                .start()\r\n\t\t\t\t                .waitFor();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\t// --------------------------------------------------------\r\n\t\t\r\n\t\t//\r\n\t\t// 2&#176; possibilit&#233;, en utilisant des callbacks\r\n\t\tservice01.setOnReady(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;par le callback, service 01 ready&quot;);\r\n\t\t\t\r\n\t\t});\r\n\t\tservice01.setOnScheduled(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;par le callback, service 01 scheduled&quot;);\r\n\t\t});\r\n\t\tservice01.setOnRunning(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;par le callback, service 01 running...&quot;);\r\n\t\t});\r\n\t\tservice01.setOnSucceeded(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;par le callback, service 01, etat, success&quot;);\r\n\t\t});\r\n\t\tservice01.setOnFailed(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;par le callback, service 01, etat, failed&quot;);\r\n\t\t\tSystem.err.println(&quot;echec du service&quot;);\r\n\t\t\tservice01.getException().printStackTrace();\r\n\t\t});\r\n\t\tservice01.setOnCancelled(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;par le callback, service 01, etat, cancelled&quot;);\r\n\t\t});\r\n\t\t\r\n\t\t// --------------------------------------------------------\r\n\t\t\r\n\t\t// demarrer l&#39;instance de Service\r\n\t\t// la variable port&#233;e class\r\n\t\t// prend la valeur de la variable port&#233;e locale\r\n\t\tserviceB = service01;\r\n\t\t\r\n\t\t// on demarre l&#39;instance service de Service\r\n        serviceB.start();\t\t\r\n\t\t\r\n\t}\r\n```\r\n\r\nNow i need to find how to return 2 processes.\r\n\r\nMaybe this link:\r\n\r\nhttps://stackoverflow.com/questions/2832472/how-to-return-2-values-from-a-java-method","title":"run JavaFX project B from JavaFX project A","body":"<p>I answer myself</p>\n<p>with Liberica: it has JavaFX binaries</p>\n<pre><code>@FXML\n    private void executerFichierJava02() {\n        \n        //\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;method: executerFichierJava02()&quot;);\n        System.out.println(&quot;create 1 Service and 1 Task&quot;);\n        System.out.println(&quot;return 1 ProcessBuilder to&quot;);\n        System.out.println(&quot;execute 1 Java class (from project JavaFX_Test02_Desvstory)&quot;);\n        \n        final Service&lt;Integer&gt; service01 = new Service&lt;Integer&gt;() {\n            \n            // --- step 03, override createTask() method\n            @Override\n            protected Task&lt;Integer&gt; createTask() {\n                \n                return new Task&lt;Integer&gt;() {\n                    \n                    // --- step 04, override call() method\n                    @Override\n                    protected Integer call() throws Exception {\n                        \n                        //-------------------------------------------------\n                        //\n                        ProcessBuilder process02 = new ProcessBuilder();\n                        \n                        // cree 1 vue de l'environnement de process02\n                        Map&lt;String, String&gt; vue02 = process02.environment();\n                        \n                        // verif de l'environnement par la console\n                        for (Map.Entry&lt;String, String&gt; entree :\n                             vue02.entrySet()) {\n                            // affiche ck et valeur separement\n                            System.out.println(&quot;Key = &quot; + entree.getKey()\n                                               + &quot;, Value = &quot;\n                                               + entree.getValue());\n                        }\n                        //--------------------------------------------------\n\n                        // 07: fonctionne\n                        // chemins absolus\n                        // aussi ds eclipse que ds le terminal\n                        // trouver 1 moyen de retourner les 2 ProcessBuilder\n                        // lien: https://stackoverflow.com/questions/2832472/how-to-return-2-values-from-a-java-method\n                        // ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/javac&quot;, &quot;-d&quot;, &quot;./out&quot;, &quot;/media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test01_Hello_Devstory/src/module-info.java&quot;, &quot;/media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test01_Hello_Devstory/src/application/Main.java&quot;);\n                        ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java&quot;, &quot;-p&quot;, &quot;./out&quot;, &quot;-m&quot;, &quot;JavaFX_Test01_Hello_Devstory/application.Main&quot;);\n                        \n                        //\n                        return process01\n                                .inheritIO()\n                                .start()\n                                .waitFor();\n                        \n                    }\n                    \n                };\n                \n            }\n            \n        };\n        \n        // --------------------------------------------------------\n        \n        //\n        // 2 possibilit, en utilisant des callbacks\n        service01.setOnReady(event -&gt; {\n            System.out.println(&quot;par le callback, service 01 ready&quot;);\n            \n        });\n        service01.setOnScheduled(event -&gt; {\n            System.out.println(&quot;par le callback, service 01 scheduled&quot;);\n        });\n        service01.setOnRunning(event -&gt; {\n            System.out.println(&quot;par le callback, service 01 running...&quot;);\n        });\n        service01.setOnSucceeded(event -&gt; {\n            System.out.println(&quot;par le callback, service 01, etat, success&quot;);\n        });\n        service01.setOnFailed(event -&gt; {\n            System.out.println(&quot;par le callback, service 01, etat, failed&quot;);\n            System.err.println(&quot;echec du service&quot;);\n            service01.getException().printStackTrace();\n        });\n        service01.setOnCancelled(event -&gt; {\n            System.out.println(&quot;par le callback, service 01, etat, cancelled&quot;);\n        });\n        \n        // --------------------------------------------------------\n        \n        // demarrer l'instance de Service\n        // la variable porte class\n        // prend la valeur de la variable porte locale\n        serviceB = service01;\n        \n        // on demarre l'instance service de Service\n        serviceB.start();       \n        \n    }\n</code></pre>\n<p>Now i need to find how to return 2 processes.</p>\n<p>Maybe this link:</p>\n<p><a href=\"https://stackoverflow.com/questions/2832472/how-to-return-2-values-from-a-java-method\">How to return 2 values from a Java method?</a></p>\n"}],"owner":{"account_id":24364964,"reputation":41,"user_id":18298833,"display_name":"redrabbit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":66,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662139809,"creation_date":1661244021,"question_id":73455575,"body_markdown":"**01: the goal**\r\n\r\nI want to run a JavaFX project B from a JavaFX project A\r\n\r\n**02: config**\r\n\r\nlinux, eclipse, openJDK17\r\n\r\n**03: information**\r\n\r\nWhen i run a Java project B (HelloWorld printed into console), project A compiles, runs and runs project B, it works\r\n\r\nHere the instructions:\r\n\r\n    //\r\n    ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java&quot;, &quot;HelloWorld.java&quot;);\r\n    \r\n    //\r\n    process01.directory(new File(&quot;../HelloWorld/src/org/example/&quot;));\r\n    \r\n    //\r\n    return process01\r\n    \t.inheritIO()\r\n    \t.start()\r\n    \t.waitFor();\r\n\r\n**04: information**\r\n\r\nThe JavaFX project B is only a Stage with a Button and a TextField, you click Button and the date appears into the TextField.\r\n\r\n**05: information**\r\n\r\ni tried with Liberica Full JDK 18, with Oracle JDK 18\r\n\r\n**06: information**\r\n\r\ni tried to change JREs into eclipse\r\n\r\n**07: information**\r\n\r\ni tried to add project B into ClassPath&#39;s project A\r\n\r\ni tried to add project B into ModulePath&#39;s project A\r\n\r\n\r\n**08: the code to run JavaFXproject B from JavaFX project A** (many attempts, do not work)\r\n\r\n```\r\n@FXML\r\n\tprivate void executerFichierJava02() {\r\n\t\t\r\n\t\t//\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tSystem.out.println(&quot;method: executerFichierJava02()&quot;);\r\n\t\tSystem.out.println(&quot;create 1 Service and 1 Task&quot;);\r\n\t\tSystem.out.println(&quot;return 1 ProcessBuilder to&quot;);\r\n\t\tSystem.out.println(&quot;execute 1 Java class (from project JavaFX_Test02_Desvstory)&quot;);\r\n\t\t\r\n\t\tfinal Service&lt;Integer&gt; service01 = new Service&lt;Integer&gt;() {\r\n\t\t\t\r\n\t\t\t// --- step 03, override createTask() method\r\n\t\t\t@Override\r\n\t\t\tprotected Task&lt;Integer&gt; createTask() {\r\n\t\t\t\t\r\n\t\t\t\treturn new Task&lt;Integer&gt;() {\r\n\t\t\t\t\t\r\n\t\t\t\t\t// --- step 04, override call() method\r\n\t\t\t\t\t@Override\r\n\t\t\t\t\tprotected Integer call() throws Exception {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// Java link: /usr/lib/jvm/java-17-openjdk-amd64/bin/java\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// JRE java-17-openJDK\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t/*\r\n\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t// Class.forName(&quot;applicationShowDate.Main.java&quot;);\r\n\t\t\t\t\t\t\t// Class.forName(&quot;/media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test02_Desvstory/src/applicationShowDate/Main.java&quot;);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tcatch (ClassNotFoundException cnfe) {\r\n\t\t\t\t\t\t    cnfe.printStackTrace();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t*/\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// compilation: 14 errors\r\n\t\t\t\t\t\t// ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/javac&quot;, &quot;Main.java&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// service 01, failed\r\n\t\t\t\t\t\t// ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs.jar\\&quot; --add-modules=javafx.controls.jar --add-modules=javafx.base.jar --add-modules=javafx.fxml.jar --add-modules=javafx.graphics.jar --add-modules=javafx.media.jar --add-modules=javafx.swing.jar --add-modules=javafx.web&quot;, &quot;Main.java&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// service 01, failed\r\n\t\t\t\t\t\t// ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs.jar --add-modules=javafx.controls.jar --add-modules=javafx.base.jar --add-modules=javafx.fxml.jar --add-modules=javafx.graphics.jar --add-modules=javafx.media.jar --add-modules=javafx.swing.jar --add-modules=javafx.web&quot;, &quot;Main.java&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// service 01, failed\r\n\t\t\t\t\t\t// ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs.jar --add-modules=javafx.controls.jar --add-modules=javafx.base.jar --add-modules=javafx.fxml.jar --add-modules=javafx.graphics.jar --add-modules=javafx.media.jar --add-modules=javafx.swing.jar --add-modules=javafx.web, --add-modules=javafx-swt.jar&quot;, &quot;Main.java&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// service 01, failed\r\n\t\t\t\t\t\t// ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/javac --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs.jar\\&quot; --add-modules=javafx.controls.jar --add-modules=javafx.base.jar --add-modules=javafx.fxml.jar --add-modules=javafx.graphics.jar --add-modules=javafx.media.jar --add-modules=javafx.swing.jar --add-modules=javafx.web&quot;, &quot;Main.java&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// service 01, failed\r\n\t\t\t\t\t\t// ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/javac -cp /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.controls.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.base.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.fxml.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.graphics.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.media.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.swing.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.web&quot;, &quot;Main.java&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// service 01, failed\r\n\t\t\t\t\t\t// ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs\\&quot; --add-modules=javafx.controls --add-modules=javafx.base --add-modules=javafx.fxml --add-modules=javafx.graphics --add-modules=javafx.media --add-modules=javafx.swing --add-modules=javafx.web&quot;, &quot;Main.java&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// service 01, failed\r\n\t\t\t\t\t\t// ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs --add-modules=javafx.controls --add-modules=javafx.base --add-modules=javafx.fxml --add-modules=javafx.graphics --add-modules=javafx.media --add-modules=javafx.swing --add-modules=javafx.web, --add-modules=javafx-swt&quot;, &quot;Main.java&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t// compilation: 14 errors\r\n\t\t\t\t\t\tProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java&quot;, &quot;Main.java&quot;);\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\t// process01.directory(new File(&quot;/media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test02_Desvstory/src/applicationShowDate/&quot;));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\tprocess01.directory(new File(&quot;../JavaFX_Test02_Desvstory/src/applicationShowDate/&quot;));\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//\r\n\t\t\t\t\t\treturn process01\r\n\t\t\t\t                .inheritIO()\r\n\t\t\t\t                .start()\r\n\t\t\t\t                .waitFor();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t};\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\t\r\n\t\t};\r\n\t\t\r\n\t\t// --------------------------------------------------------\r\n\t\t\r\n\t\t//\r\n\t\tservice01.setOnReady(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;service 01 ready&quot;);\r\n\t\t\t\r\n\t\t});\r\n\t\tservice01.setOnScheduled(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;service 01 scheduled&quot;);\r\n\t\t});\r\n\t\tservice01.setOnRunning(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;service 01 running...&quot;);\r\n\t\t});\r\n\t\tservice01.setOnSucceeded(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;service 01, success&quot;);\r\n\t\t});\r\n\t\tservice01.setOnFailed(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;service 01, failed&quot;);\r\n\t\t});\r\n\t\tservice01.setOnCancelled(event -&gt; {\r\n\t\t\tSystem.out.println(&quot;service 01, cancelled&quot;);\r\n\t\t});\r\n\t\t\r\n\t\t// --------------------------------------------------------\r\n\t\t\r\n\t\tserviceB = service01;\r\n        serviceB.start();\r\n\t\t\r\n\t}\r\n\r\n```\r\n\r\nHere the trace to show the 14 errors:\r\n\r\n```\r\n\r\nmethod: executerFichierJava02()\r\ncreate 1 Service and 1 Task\r\nreturn 1 ProcessBuilder to\r\nexecute 1 Java class (from project JavaFX_Test02_Desvstory)\r\npar le callback, service 01 scheduled\r\npar le callback, service 01 running...\r\nMain.java:3: error: package javafx.application does not exist\r\nimport javafx.application.Application;\r\n                         ^\r\nMain.java:4: error: package javafx.fxml does not exist\r\nimport javafx.fxml.FXMLLoader;\r\n                  ^\r\nMain.java:5: error: package javafx.stage does not exist\r\nimport javafx.stage.Stage;\r\n                   ^\r\nMain.java:6: error: package javafx.scene does not exist\r\nimport javafx.scene.Parent;\r\n                   ^\r\nMain.java:7: error: package javafx.scene does not exist\r\nimport javafx.scene.Scene;\r\n                   ^\r\nMain.java:8: error: package javafx.scene.layout does not exist\r\nimport javafx.scene.layout.BorderPane;\r\n                          ^\r\nMain.java:11: error: cannot find symbol\r\npublic class Main extends Application {\r\n                          ^\r\n  symbol: class Application\r\nMain.java:14: error: cannot find symbol\r\n    public void start(Stage primaryStage) {\r\n                      ^\r\n  symbol:   class Stage\r\n  location: class Main\r\nMain.java:13: error: method does not override or implement a method from a supertype\r\n\t@Override\r\n\t^\r\nMain.java:17: error: cannot find symbol\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/applicationShowDate/fenetrePrincipale.fxml&quot;));\r\n            ^\r\n  symbol:   class Parent\r\n  location: class Main\r\nMain.java:17: error: cannot find symbol\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/applicationShowDate/fenetrePrincipale.fxml&quot;));\r\n                          ^\r\n  symbol:   variable FXMLLoader\r\n  location: class Main\r\nMain.java:17: error: cannot find symbol\r\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/applicationShowDate/fenetrePrincipale.fxml&quot;));\r\n                                          ^\r\n  symbol:   method getClass()\r\n  location: class Main\r\nMain.java:24: error: cannot find symbol\r\n            primaryStage.setScene(new Scene(root));\r\n                                      ^\r\n  symbol:   class Scene\r\n  location: class Main\r\nMain.java:33: error: cannot find symbol\r\n\t\tlaunch(args);\r\n\t\t^\r\n  symbol:   method launch(String[])\r\n  location: class Main\r\n14 errors\r\nerror: compilation failed\r\npar le callback, service 01, etat, success\r\n\r\n```\r\n\r\nMany comments to show you, instructions i tried.\r\n\r\nAs i said, i already tried to change JDKs, JREs, to set JavaFX project B into ClassPath and/or ModulePath&#39;s JavaFX project A.\r\n\r\ni also tried this link\r\n\r\n&lt;https://openjfx.io/openjfx-docs/#install-javafx&gt;\r\n\r\ntried into Terminal but without changing PATH_TO_FX\r\n\r\nhere the command line:\r\n\r\n```\r\n\r\njava --module-path /media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test29_Threads_Services_Processes/utilitaires/javafx-sdk-18.0.1/lib --add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics /media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test29_Threads_Services_Processes/src/application/Main.java\r\n\r\n```\r\n\r\ni setted back to openJDK17 with it&#39;s JRE, deleted JavaFX Project B from ModulePath and ClassPath&#39;s Project A just to get a clean situation (to avoid misunderstandings).\r\n\r\ni&#39;d like to not use .jar\r\n\r\nIs there a way you to tell me a step by step to reach the goal? any advices? or ideas?\r\n\r\nThank you.","title":"run JavaFX project B from JavaFX project A","body":"<p><strong>01: the goal</strong></p>\n<p>I want to run a JavaFX project B from a JavaFX project A</p>\n<p><strong>02: config</strong></p>\n<p>linux, eclipse, openJDK17</p>\n<p><strong>03: information</strong></p>\n<p>When i run a Java project B (HelloWorld printed into console), project A compiles, runs and runs project B, it works</p>\n<p>Here the instructions:</p>\n<pre><code>//\nProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java&quot;, &quot;HelloWorld.java&quot;);\n\n//\nprocess01.directory(new File(&quot;../HelloWorld/src/org/example/&quot;));\n\n//\nreturn process01\n    .inheritIO()\n    .start()\n    .waitFor();\n</code></pre>\n<p><strong>04: information</strong></p>\n<p>The JavaFX project B is only a Stage with a Button and a TextField, you click Button and the date appears into the TextField.</p>\n<p><strong>05: information</strong></p>\n<p>i tried with Liberica Full JDK 18, with Oracle JDK 18</p>\n<p><strong>06: information</strong></p>\n<p>i tried to change JREs into eclipse</p>\n<p><strong>07: information</strong></p>\n<p>i tried to add project B into ClassPath's project A</p>\n<p>i tried to add project B into ModulePath's project A</p>\n<p><strong>08: the code to run JavaFXproject B from JavaFX project A</strong> (many attempts, do not work)</p>\n<pre><code>@FXML\n    private void executerFichierJava02() {\n        \n        //\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;method: executerFichierJava02()&quot;);\n        System.out.println(&quot;create 1 Service and 1 Task&quot;);\n        System.out.println(&quot;return 1 ProcessBuilder to&quot;);\n        System.out.println(&quot;execute 1 Java class (from project JavaFX_Test02_Desvstory)&quot;);\n        \n        final Service&lt;Integer&gt; service01 = new Service&lt;Integer&gt;() {\n            \n            // --- step 03, override createTask() method\n            @Override\n            protected Task&lt;Integer&gt; createTask() {\n                \n                return new Task&lt;Integer&gt;() {\n                    \n                    // --- step 04, override call() method\n                    @Override\n                    protected Integer call() throws Exception {\n                        \n                        // Java link: /usr/lib/jvm/java-17-openjdk-amd64/bin/java\n                        \n                        // JRE java-17-openJDK\n                        \n                        /*\n                        try {\n                            // Class.forName(&quot;applicationShowDate.Main.java&quot;);\n                            // Class.forName(&quot;/media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test02_Desvstory/src/applicationShowDate/Main.java&quot;);\n                        }\n                        catch (ClassNotFoundException cnfe) {\n                            cnfe.printStackTrace();\n                        }\n                        */\n                        \n                        // compilation: 14 errors\n                        // ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/javac&quot;, &quot;Main.java&quot;);\n                        \n                        // service 01, failed\n                        // ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs.jar\\&quot; --add-modules=javafx.controls.jar --add-modules=javafx.base.jar --add-modules=javafx.fxml.jar --add-modules=javafx.graphics.jar --add-modules=javafx.media.jar --add-modules=javafx.swing.jar --add-modules=javafx.web&quot;, &quot;Main.java&quot;);\n                        \n                        // service 01, failed\n                        // ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs.jar --add-modules=javafx.controls.jar --add-modules=javafx.base.jar --add-modules=javafx.fxml.jar --add-modules=javafx.graphics.jar --add-modules=javafx.media.jar --add-modules=javafx.swing.jar --add-modules=javafx.web&quot;, &quot;Main.java&quot;);\n                        \n                        // service 01, failed\n                        // ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs.jar --add-modules=javafx.controls.jar --add-modules=javafx.base.jar --add-modules=javafx.fxml.jar --add-modules=javafx.graphics.jar --add-modules=javafx.media.jar --add-modules=javafx.swing.jar --add-modules=javafx.web, --add-modules=javafx-swt.jar&quot;, &quot;Main.java&quot;);\n                        \n                        // service 01, failed\n                        // ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/javac --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs.jar\\&quot; --add-modules=javafx.controls.jar --add-modules=javafx.base.jar --add-modules=javafx.fxml.jar --add-modules=javafx.graphics.jar --add-modules=javafx.media.jar --add-modules=javafx.swing.jar --add-modules=javafx.web&quot;, &quot;Main.java&quot;);\n                        \n                        // service 01, failed\n                        // ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/javac -cp /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.controls.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.base.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.fxml.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.graphics.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.media.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.swing.jar:/usr/lib/jvm/liberica_full_JDK18/lib/javafx.web&quot;, &quot;Main.java&quot;);\n                        \n                        // service 01, failed\n                        // ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs\\&quot; --add-modules=javafx.controls --add-modules=javafx.base --add-modules=javafx.fxml --add-modules=javafx.graphics --add-modules=javafx.media --add-modules=javafx.swing --add-modules=javafx.web&quot;, &quot;Main.java&quot;);\n                        \n                        // service 01, failed\n                        // ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java --module-path /usr/lib/jvm/java-17-openjdk-amd64/lib/jrt-fs --add-modules=javafx.controls --add-modules=javafx.base --add-modules=javafx.fxml --add-modules=javafx.graphics --add-modules=javafx.media --add-modules=javafx.swing --add-modules=javafx.web, --add-modules=javafx-swt&quot;, &quot;Main.java&quot;);\n                        \n                        // compilation: 14 errors\n                        ProcessBuilder process01 = new ProcessBuilder(&quot;/usr/bin/java&quot;, &quot;Main.java&quot;);\n                        \n                        //\n                        // process01.directory(new File(&quot;/media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test02_Desvstory/src/applicationShowDate/&quot;));\n                        \n                        //\n                        process01.directory(new File(&quot;../JavaFX_Test02_Desvstory/src/applicationShowDate/&quot;));\n                        \n                        //\n                        return process01\n                                .inheritIO()\n                                .start()\n                                .waitFor();\n                        \n                    }\n                    \n                };\n                \n            }\n            \n        };\n        \n        // --------------------------------------------------------\n        \n        //\n        service01.setOnReady(event -&gt; {\n            System.out.println(&quot;service 01 ready&quot;);\n            \n        });\n        service01.setOnScheduled(event -&gt; {\n            System.out.println(&quot;service 01 scheduled&quot;);\n        });\n        service01.setOnRunning(event -&gt; {\n            System.out.println(&quot;service 01 running...&quot;);\n        });\n        service01.setOnSucceeded(event -&gt; {\n            System.out.println(&quot;service 01, success&quot;);\n        });\n        service01.setOnFailed(event -&gt; {\n            System.out.println(&quot;service 01, failed&quot;);\n        });\n        service01.setOnCancelled(event -&gt; {\n            System.out.println(&quot;service 01, cancelled&quot;);\n        });\n        \n        // --------------------------------------------------------\n        \n        serviceB = service01;\n        serviceB.start();\n        \n    }\n\n</code></pre>\n<p>Here the trace to show the 14 errors:</p>\n<pre><code>\nmethod: executerFichierJava02()\ncreate 1 Service and 1 Task\nreturn 1 ProcessBuilder to\nexecute 1 Java class (from project JavaFX_Test02_Desvstory)\npar le callback, service 01 scheduled\npar le callback, service 01 running...\nMain.java:3: error: package javafx.application does not exist\nimport javafx.application.Application;\n                         ^\nMain.java:4: error: package javafx.fxml does not exist\nimport javafx.fxml.FXMLLoader;\n                  ^\nMain.java:5: error: package javafx.stage does not exist\nimport javafx.stage.Stage;\n                   ^\nMain.java:6: error: package javafx.scene does not exist\nimport javafx.scene.Parent;\n                   ^\nMain.java:7: error: package javafx.scene does not exist\nimport javafx.scene.Scene;\n                   ^\nMain.java:8: error: package javafx.scene.layout does not exist\nimport javafx.scene.layout.BorderPane;\n                          ^\nMain.java:11: error: cannot find symbol\npublic class Main extends Application {\n                          ^\n  symbol: class Application\nMain.java:14: error: cannot find symbol\n    public void start(Stage primaryStage) {\n                      ^\n  symbol:   class Stage\n  location: class Main\nMain.java:13: error: method does not override or implement a method from a supertype\n    @Override\n    ^\nMain.java:17: error: cannot find symbol\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/applicationShowDate/fenetrePrincipale.fxml&quot;));\n            ^\n  symbol:   class Parent\n  location: class Main\nMain.java:17: error: cannot find symbol\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/applicationShowDate/fenetrePrincipale.fxml&quot;));\n                          ^\n  symbol:   variable FXMLLoader\n  location: class Main\nMain.java:17: error: cannot find symbol\n            Parent root = FXMLLoader.load(getClass().getResource(&quot;/applicationShowDate/fenetrePrincipale.fxml&quot;));\n                                          ^\n  symbol:   method getClass()\n  location: class Main\nMain.java:24: error: cannot find symbol\n            primaryStage.setScene(new Scene(root));\n                                      ^\n  symbol:   class Scene\n  location: class Main\nMain.java:33: error: cannot find symbol\n        launch(args);\n        ^\n  symbol:   method launch(String[])\n  location: class Main\n14 errors\nerror: compilation failed\npar le callback, service 01, etat, success\n\n</code></pre>\n<p>Many comments to show you, instructions i tried.</p>\n<p>As i said, i already tried to change JDKs, JREs, to set JavaFX project B into ClassPath and/or ModulePath's JavaFX project A.</p>\n<p>i also tried this link</p>\n<p><a href=\"https://openjfx.io/openjfx-docs/#install-javafx\" rel=\"nofollow noreferrer\">https://openjfx.io/openjfx-docs/#install-javafx</a></p>\n<p>tried into Terminal but without changing PATH_TO_FX</p>\n<p>here the command line:</p>\n<pre><code>\njava --module-path /media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test29_Threads_Services_Processes/utilitaires/javafx-sdk-18.0.1/lib --add-modules javafx.controls,javafx.fxml,javafx.base,javafx.graphics /media/sambano/home_HDD_EXTERNE/Documents/java/workspace_eclipse/JavaFX_Test29_Threads_Services_Processes/src/application/Main.java\n\n</code></pre>\n<p>i setted back to openJDK17 with it's JRE, deleted JavaFX Project B from ModulePath and ClassPath's Project A just to get a clean situation (to avoid misunderstandings).</p>\n<p>i'd like to not use .jar</p>\n<p>Is there a way you to tell me a step by step to reach the goal? any advices? or ideas?</p>\n<p>Thank you.</p>\n"},{"tags":["java","sql","db2-zos"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1662103553,"post_id":73578146,"comment_id":129932939,"body_markdown":"Please provide enough code so others can better understand or reproduce the problem.","body":"Please provide enough code so others can better understand or reproduce the problem."}],"answers":[{"tags":[],"owner":{"account_id":1295621,"reputation":111,"user_id":7403310,"display_name":"saadeez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662139805,"creation_date":1662139805,"answer_id":73586161,"question_id":73578146,"body_markdown":"&#39;\\0&#39; in Java is considered null. Answering your question, your string will be inserted as-is. It will have null inside. \r\nIt will then be dependent on your DBMS in your case &#39;db2&#39; that how it will handle null inside string.\r\n\r\nI have tested it using MySQL . I am getting the same data which is inserted. Additionally I have verified it using **char** instead of **String** and by printing their **ascii** values which is just an additional check. \r\n\r\nI have used this code for printing every character value:\r\n\r\n\t\r\n\r\n    private static void printStringAndAscii(String str)\r\n    \t{\r\n    \t\tSystem.out.println(&quot;Incoming String:&quot; + str);\r\n    \r\n    \t\tSystem.out.println(&quot;Char with ASCII Values:&quot;);\r\n    \r\n    \t\tfor (char c : str.toCharArray())\r\n    \t\t{\r\n    \t\t\tSystem.out.println(((int) c) + &quot;-&quot; + c);\r\n    \t\t}\r\n    \t}\r\n\r\nTo test it with database I have first printed your given string and save in database, then extracted it and got it printed (deletion is for my own testing). I have tested following code with MySQL **utf8 default colation** :\r\n\r\n\r\n\t\tClass.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\r\n\r\n\t\tString originalString = &quot;hello\\0test\\0example!&quot;;\r\n\r\n\t\ttry (Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/corporate&quot;, &quot;user&quot;, &quot;pwd&quot;))\r\n\t\t{\r\n\t\t\tprintStringAndAscii(originalString);\r\n\r\n\t\t\t//Removing previously inserted entry\r\n\t\t\tPreparedStatement prepareStatement = connection.prepareStatement(&quot;DELETE FROM tip WHERE tip_id=?&quot;);\r\n\t\t\tprepareStatement.setInt(1, 1);\r\n\r\n\t\t\tint result = prepareStatement.executeUpdate();\r\n\t\t\tprepareStatement.close();\r\n\r\n\t\t\tSystem.out.println(&quot;Delete Result:&quot; + result);\r\n\r\n\t\t\t//Inserting new entry\r\n\t\t\tprepareStatement = connection.prepareStatement(&quot;INSERT INTO tip(tip_id,tip_text) VALUES(?,?)&quot;);\r\n\t\t\tprepareStatement.setString(1, &quot;1&quot;);\r\n\t\t\tprepareStatement.setString(2, originalString);\r\n\r\n\t\t\tresult = prepareStatement.executeUpdate();\r\n\r\n\t\t\tSystem.out.println(&quot;Insert Result:&quot; + result);\r\n\t\t\tprepareStatement.close();\r\n\r\n\t\t\tStatement statement = connection.createStatement();\r\n\r\n\t\t\t//Loading inserted entry from database\r\n\t\t\tResultSet resultSet = statement.executeQuery(&quot;SELECT * FROM tip WHERE tip_id=1&quot;);\r\n\r\n\t\t\tif (resultSet.next())\r\n\t\t\t{\r\n\t\t\t\t//printing the fetched string from database\r\n\t\t\t\tString string = resultSet.getString(2);\r\n\t\t\t\tprintStringAndAscii(string);\r\n\t\t\t}\r\n\r\n\t\t\tresultSet.close();\r\n\t\t\tstatement.close();\r\n\t\t\tconnection.close();\r\n\t\t}\r\n\t\tcatch (Throwable e)\r\n\t\t{\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\r\nInterestingly, I have found out that **System.out.println()** prints until it finds &#39;\\0&#39; (like c), however prepared statement inserts complete string with length.   ","title":"Does setString() of SQL PreparedStatement will change null characters of string with space while inserting data to db2zos table?","body":"<p>'\\0' in Java is considered null. Answering your question, your string will be inserted as-is. It will have null inside.\nIt will then be dependent on your DBMS in your case 'db2' that how it will handle null inside string.</p>\n<p>I have tested it using MySQL . I am getting the same data which is inserted. Additionally I have verified it using <strong>char</strong> instead of <strong>String</strong> and by printing their <strong>ascii</strong> values which is just an additional check.</p>\n<p>I have used this code for printing every character value:</p>\n<pre><code>private static void printStringAndAscii(String str)\n    {\n        System.out.println(&quot;Incoming String:&quot; + str);\n\n        System.out.println(&quot;Char with ASCII Values:&quot;);\n\n        for (char c : str.toCharArray())\n        {\n            System.out.println(((int) c) + &quot;-&quot; + c);\n        }\n    }\n</code></pre>\n<p>To test it with database I have first printed your given string and save in database, then extracted it and got it printed (deletion is for my own testing). I have tested following code with MySQL <strong>utf8 default colation</strong> :</p>\n<pre><code>    Class.forName(&quot;com.mysql.jdbc.Driver&quot;).newInstance();\n\n    String originalString = &quot;hello\\0test\\0example!&quot;;\n\n    try (Connection connection = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/corporate&quot;, &quot;user&quot;, &quot;pwd&quot;))\n    {\n        printStringAndAscii(originalString);\n\n        //Removing previously inserted entry\n        PreparedStatement prepareStatement = connection.prepareStatement(&quot;DELETE FROM tip WHERE tip_id=?&quot;);\n        prepareStatement.setInt(1, 1);\n\n        int result = prepareStatement.executeUpdate();\n        prepareStatement.close();\n\n        System.out.println(&quot;Delete Result:&quot; + result);\n\n        //Inserting new entry\n        prepareStatement = connection.prepareStatement(&quot;INSERT INTO tip(tip_id,tip_text) VALUES(?,?)&quot;);\n        prepareStatement.setString(1, &quot;1&quot;);\n        prepareStatement.setString(2, originalString);\n\n        result = prepareStatement.executeUpdate();\n\n        System.out.println(&quot;Insert Result:&quot; + result);\n        prepareStatement.close();\n\n        Statement statement = connection.createStatement();\n\n        //Loading inserted entry from database\n        ResultSet resultSet = statement.executeQuery(&quot;SELECT * FROM tip WHERE tip_id=1&quot;);\n\n        if (resultSet.next())\n        {\n            //printing the fetched string from database\n            String string = resultSet.getString(2);\n            printStringAndAscii(string);\n        }\n\n        resultSet.close();\n        statement.close();\n        connection.close();\n    }\n    catch (Throwable e)\n    {\n        e.printStackTrace();\n    }\n</code></pre>\n<p>Interestingly, I have found out that <strong>System.out.println()</strong> prints until it finds '\\0' (like c), however prepared statement inserts complete string with length.</p>\n"}],"owner":{"account_id":26007546,"reputation":3,"user_id":19717081,"display_name":"Pooja Shelar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":77,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73586161,"answer_count":1,"score":0,"last_activity_date":1662139805,"creation_date":1662096676,"question_id":73578146,"body_markdown":"Lets say I have one column with datatype of VARCHAR(500) in db2 zOS table and I wanted to insert data into that column using prepared statement. But that data/string has null character in between. e.g: &quot;hello\\0test\\0example!&quot;.\r\nMy question is does setString(index, str) will change those null characters with space or any other character ? or will get it inserted as it is ?\r\n\r\nI tried inserting data but not sure. I found change in hex values of original string and inserted string.","title":"Does setString() of SQL PreparedStatement will change null characters of string with space while inserting data to db2zos table?","body":"<p>Lets say I have one column with datatype of VARCHAR(500) in db2 zOS table and I wanted to insert data into that column using prepared statement. But that data/string has null character in between. e.g: &quot;hello\\0test\\0example!&quot;.\nMy question is does setString(index, str) will change those null characters with space or any other character ? or will get it inserted as it is ?</p>\n<p>I tried inserting data but not sure. I found change in hex values of original string and inserted string.</p>\n"},{"tags":["java","arrays","json"],"comments":[{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":0,"creation_date":1556706180,"post_id":55934043,"comment_id":98522148,"body_markdown":"You can try converting your original JSON object to a Map, iterate over the map and aggregate the file entities as you described in the OP, and then create a new JSON object based on your aggregated map. See the following for converting a JSON object to a Map: https://stackoverflow.com/questions/21720759/convert-a-json-string-to-a-hashmap","body":"You can try converting your original JSON object to a Map, iterate over the map and aggregate the file entities as you described in the OP, and then create a new JSON object based on your aggregated map. See the following for converting a JSON object to a Map: <a href=\"https://stackoverflow.com/questions/21720759/convert-a-json-string-to-a-hashmap\" title=\"convert a json string to a hashmap\">stackoverflow.com/questions/21720759/&hellip;</a>"},{"owner":{"account_id":13214818,"reputation":83,"user_id":9543731,"display_name":"Roth"},"score":0,"creation_date":1556715666,"post_id":55934043,"comment_id":98525967,"body_markdown":"I transformed it into a map and this the output is shown above. From there on do I reiterate the out map or do I create a new JSON in the process of reiterating the map?","body":"I transformed it into a map and this the output is shown above. From there on do I reiterate the out map or do I create a new JSON in the process of reiterating the map?"},{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":0,"creation_date":1556716333,"post_id":55934043,"comment_id":98526234,"body_markdown":"I think it would be simpler to create a new map and output this map as a JSON object.","body":"I think it would be simpler to create a new map and output this map as a JSON object."},{"owner":{"account_id":13214818,"reputation":83,"user_id":9543731,"display_name":"Roth"},"score":0,"creation_date":1556717040,"post_id":55934043,"comment_id":98526575,"body_markdown":"ok,but how do I reiterate when it comes to duplicates like the above scenario?","body":"ok,but how do I reiterate when it comes to duplicates like the above scenario?"},{"owner":{"account_id":6932217,"reputation":4050,"user_id":5321363,"accept_rate":80,"display_name":"Rann Lifshitz"},"score":0,"creation_date":1556739825,"post_id":55934043,"comment_id":98536806,"body_markdown":"Simple - your new Map should use the value of `requestNo` as the key and the `file` array as the mapped value.","body":"Simple - your new Map should use the value of <code>requestNo</code> as the key and the <code>file</code> array as the mapped value."}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662139279,"creation_date":1662139279,"answer_id":73586067,"question_id":55934043,"body_markdown":"https://github.com/octomix/josson  \r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;[{&quot; +\r\n        &quot;    \\&quot;file\\&quot;: [{&quot; +\r\n        &quot;            \\&quot;fileRefNo\\&quot;: \\&quot;AG/CSD/1\\&quot;,&quot; +\r\n        &quot;            \\&quot;status\\&quot;: \\&quot;Active\\&quot;&quot; +\r\n        &quot;        }],&quot; +\r\n        &quot;    \\&quot;requestNo\\&quot;: \\&quot;225V49\\&quot;&quot; +\r\n        &quot;}, {&quot; +\r\n        &quot;    \\&quot;file\\&quot;: [{&quot; +\r\n        &quot;            \\&quot;fileRefNo\\&quot;: \\&quot;AG/CSD/1\\&quot;,&quot; +\r\n        &quot;            \\&quot;status\\&quot;: \\&quot;Inactive\\&quot;&quot; +\r\n        &quot;        }],&quot; +\r\n        &quot;    \\&quot;requestNo\\&quot;: \\&quot;225SRV\\&quot;&quot; +\r\n        &quot;}, {&quot; +\r\n        &quot;    \\&quot;file\\&quot;: [{&quot; +\r\n        &quot;            \\&quot;fileRefNo\\&quot;: \\&quot;AG/CSD/2\\&quot;,&quot; +\r\n        &quot;            \\&quot;status\\&quot;: \\&quot;Active\\&quot;&quot; +\r\n        &quot;        }],&quot; +\r\n        &quot;    \\&quot;requestNo\\&quot;: \\&quot;225SRV\\&quot;&quot; +\r\n        &quot;}]&quot;);\r\n    JsonNode node = josson.getNode(&quot;group(requestNo, file).field(file.flatten(1))&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    [ {\r\n      &quot;requestNo&quot; : &quot;225V49&quot;,\r\n      &quot;file&quot; : [ {\r\n        &quot;fileRefNo&quot; : &quot;AG/CSD/1&quot;,\r\n        &quot;status&quot; : &quot;Active&quot;\r\n      } ]\r\n    }, {\r\n      &quot;requestNo&quot; : &quot;225SRV&quot;,\r\n      &quot;file&quot; : [ {\r\n        &quot;fileRefNo&quot; : &quot;AG/CSD/1&quot;,\r\n        &quot;status&quot; : &quot;Inactive&quot;\r\n      }, {\r\n        &quot;fileRefNo&quot; : &quot;AG/CSD/2&quot;,\r\n        &quot;status&quot; : &quot;Active&quot;\r\n      } ]\r\n    } ]","title":"How to rearrange json objects within json structure itself? Java","body":"<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;[{&quot; +\n    &quot;    \\&quot;file\\&quot;: [{&quot; +\n    &quot;            \\&quot;fileRefNo\\&quot;: \\&quot;AG/CSD/1\\&quot;,&quot; +\n    &quot;            \\&quot;status\\&quot;: \\&quot;Active\\&quot;&quot; +\n    &quot;        }],&quot; +\n    &quot;    \\&quot;requestNo\\&quot;: \\&quot;225V49\\&quot;&quot; +\n    &quot;}, {&quot; +\n    &quot;    \\&quot;file\\&quot;: [{&quot; +\n    &quot;            \\&quot;fileRefNo\\&quot;: \\&quot;AG/CSD/1\\&quot;,&quot; +\n    &quot;            \\&quot;status\\&quot;: \\&quot;Inactive\\&quot;&quot; +\n    &quot;        }],&quot; +\n    &quot;    \\&quot;requestNo\\&quot;: \\&quot;225SRV\\&quot;&quot; +\n    &quot;}, {&quot; +\n    &quot;    \\&quot;file\\&quot;: [{&quot; +\n    &quot;            \\&quot;fileRefNo\\&quot;: \\&quot;AG/CSD/2\\&quot;,&quot; +\n    &quot;            \\&quot;status\\&quot;: \\&quot;Active\\&quot;&quot; +\n    &quot;        }],&quot; +\n    &quot;    \\&quot;requestNo\\&quot;: \\&quot;225SRV\\&quot;&quot; +\n    &quot;}]&quot;);\nJsonNode node = josson.getNode(&quot;group(requestNo, file).field(file.flatten(1))&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>[ {\n  &quot;requestNo&quot; : &quot;225V49&quot;,\n  &quot;file&quot; : [ {\n    &quot;fileRefNo&quot; : &quot;AG/CSD/1&quot;,\n    &quot;status&quot; : &quot;Active&quot;\n  } ]\n}, {\n  &quot;requestNo&quot; : &quot;225SRV&quot;,\n  &quot;file&quot; : [ {\n    &quot;fileRefNo&quot; : &quot;AG/CSD/1&quot;,\n    &quot;status&quot; : &quot;Inactive&quot;\n  }, {\n    &quot;fileRefNo&quot; : &quot;AG/CSD/2&quot;,\n    &quot;status&quot; : &quot;Active&quot;\n  } ]\n} ]\n</code></pre>\n"}],"owner":{"account_id":13214818,"reputation":83,"user_id":9543731,"display_name":"Roth"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":305,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73586067,"answer_count":1,"score":1,"last_activity_date":1662139279,"creation_date":1556702278,"question_id":55934043,"body_markdown":"Im trying to restructure duplicate json values in my JSON Structure and rearrange them using the simplest possible method.\r\n\r\nI got to the point where I managed to get it stored in a map each time it loops over the JSONObject but from here how do I proceed to store the mapping to achieve my desired outcome? Thank you so much in advance.\r\n\r\n    public static void main(String[] args) throws JSONException  {\r\n\r\n        String jsonString = &quot;[{\\&quot;file\\&quot;:[{\\&quot;fileRefNo\\&quot;:\\&quot;AG/CSD/1\\&quot;,\\&quot;status\\&quot;:\\&quot;Active\\&quot;}],\\&quot;requestNo\\&quot;:\\&quot;225V49\\&quot;},{\\&quot;file\\&quot;:[{\\&quot;fileRefNo\\&quot;:\\&quot;AG/CSD/1\\&quot;,\\&quot;status\\&quot;:\\&quot;Inactive\\&quot;}],\\&quot;requestNo\\&quot;:\\&quot;225SRV\\&quot;},{\\&quot;file\\&quot;:[{\\&quot;fileRefNo\\&quot;:\\&quot;AG/CSD/2\\&quot;,\\&quot;status\\&quot;:\\&quot;Active\\&quot;}],\\&quot;requestNo\\&quot;:\\&quot;225SRV\\&quot;}]&quot; ;\r\n    \t\r\n    \t  JSONArray json = new JSONArray(jsonString);\r\n    \t\r\n    \t  Map&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\r\n    \r\n    \t  for (int i = 0; i &lt; json.length(); i++ ) {\r\n    \t    if(json != JSONObject.NULL) {\r\n    \t        retMap = toMap(json.getJSONObject(i));\r\n    \t    \tSystem.out.println(retMap + &quot;retMap&quot;);\r\n                //{file=[{fileRefNo=AG/CSD/1, status=Active}], requestNo=225V49}retMap\r\n                //{file=[{fileRefNo=AG/CSD/1, status=Inactive}], requestNo=225SRV}retMap\r\n                //{file=[{fileRefNo=AG/CSD/2, status=Active}], requestNo=225SRV}retMap\r\n    \t    }\r\n          }\r\n    }\r\n    public static Map&lt;String, Object&gt; toMap(JSONObject object) throws JSONException {\r\n        Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\r\n\r\n        Iterator&lt;String&gt; keysItr = object.keys();\r\n        while(keysItr.hasNext()) {\r\n            String key = keysItr.next();\r\n            Object value = object.get(key);\r\n\r\n            if(value instanceof JSONArray) {\r\n                value = toList((JSONArray) value);\r\n            }\r\n            else if(value instanceof JSONObject) {\r\n                value = toMap((JSONObject) value);\r\n            }\r\n            map.put(key, value);\r\n        }\r\n        return map;\r\n    }\r\n\r\n    public static List&lt;Object&gt; toList(JSONArray array) throws JSONException {\r\n        List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\r\n        for(int i = 0; i &lt; array.length(); i++) {\r\n            Object value = array.get(i);\r\n\r\n            if(value instanceof JSONArray) {\r\n                value = toList((JSONArray) value);\r\n            }\r\n            else if(value instanceof JSONObject) {\r\n                value = toMap((JSONObject) value);\r\n            }\r\n            list.add(value);\r\n        }\r\n        return list;\r\n    }\r\n\r\nHere is my initial JSONArray\r\n\r\n    [{\r\n    \t&quot;file&quot;: [{\r\n    \t\t\t&quot;fileRefNo&quot;: &quot;AG/CSD/1&quot;,\r\n    \t\t\t&quot;status&quot;: &quot;Active&quot;\r\n    \t\t}],\r\n    \t&quot;requestNo&quot;: &quot;225V49&quot;\r\n    }, {\r\n    \t&quot;file&quot;: [{\r\n    \t\t\t&quot;fileRefNo&quot;: &quot;AG/CSD/1&quot;,\r\n    \t\t\t&quot;status&quot;: &quot;Inactive&quot;\r\n    \t\t}],\r\n    \t&quot;requestNo&quot;: &quot;225SRV&quot;\r\n    }, {\r\n    \t&quot;file&quot;: [{\r\n    \t\t\t&quot;fileRefNo&quot;: &quot;AG/CSD/2&quot;,\r\n    \t\t\t&quot;status&quot;: &quot;Active&quot;\r\n    \t\t}],\r\n    \t&quot;requestNo&quot;: &quot;225SRV&quot;\r\n    }]\r\n\r\nHere is my desired outcome\r\n\r\n    [{\r\n    \t&quot;file&quot;: [{\r\n    \t\t\t&quot;fileRefNo&quot;: &quot;AG/CSD/1&quot;,\r\n    \t\t\t&quot;status&quot;: &quot;Active&quot;\r\n    \t\t}],\r\n    \t&quot;requestNo&quot;: &quot;225V49&quot;\r\n    }, {\r\n    \t&quot;file&quot;: [{\r\n    \t\t\t&quot;fileRefNo&quot;: &quot;AG/CSD/1&quot;,\r\n    \t\t\t&quot;status&quot;: &quot;Inactive&quot;\r\n    \t\t},{\r\n    \t\t\t&quot;fileRefNo&quot;: &quot;AG/CSD/2&quot;,\r\n    \t\t\t&quot;status&quot;: &quot;Active&quot;\r\n    \t\t}],\r\n    \t&quot;requestNo&quot;: &quot;225SRV&quot;\r\n    }]\r\n\r\n\r\n","title":"How to rearrange json objects within json structure itself? Java","body":"<p>Im trying to restructure duplicate json values in my JSON Structure and rearrange them using the simplest possible method.</p>\n\n<p>I got to the point where I managed to get it stored in a map each time it loops over the JSONObject but from here how do I proceed to store the mapping to achieve my desired outcome? Thank you so much in advance.</p>\n\n<pre><code>public static void main(String[] args) throws JSONException  {\n\n    String jsonString = \"[{\\\"file\\\":[{\\\"fileRefNo\\\":\\\"AG/CSD/1\\\",\\\"status\\\":\\\"Active\\\"}],\\\"requestNo\\\":\\\"225V49\\\"},{\\\"file\\\":[{\\\"fileRefNo\\\":\\\"AG/CSD/1\\\",\\\"status\\\":\\\"Inactive\\\"}],\\\"requestNo\\\":\\\"225SRV\\\"},{\\\"file\\\":[{\\\"fileRefNo\\\":\\\"AG/CSD/2\\\",\\\"status\\\":\\\"Active\\\"}],\\\"requestNo\\\":\\\"225SRV\\\"}]\" ;\n\n      JSONArray json = new JSONArray(jsonString);\n\n      Map&lt;String, Object&gt; retMap = new HashMap&lt;String, Object&gt;();\n\n      for (int i = 0; i &lt; json.length(); i++ ) {\n        if(json != JSONObject.NULL) {\n            retMap = toMap(json.getJSONObject(i));\n            System.out.println(retMap + \"retMap\");\n            //{file=[{fileRefNo=AG/CSD/1, status=Active}], requestNo=225V49}retMap\n            //{file=[{fileRefNo=AG/CSD/1, status=Inactive}], requestNo=225SRV}retMap\n            //{file=[{fileRefNo=AG/CSD/2, status=Active}], requestNo=225SRV}retMap\n        }\n      }\n}\npublic static Map&lt;String, Object&gt; toMap(JSONObject object) throws JSONException {\n    Map&lt;String, Object&gt; map = new HashMap&lt;String, Object&gt;();\n\n    Iterator&lt;String&gt; keysItr = object.keys();\n    while(keysItr.hasNext()) {\n        String key = keysItr.next();\n        Object value = object.get(key);\n\n        if(value instanceof JSONArray) {\n            value = toList((JSONArray) value);\n        }\n        else if(value instanceof JSONObject) {\n            value = toMap((JSONObject) value);\n        }\n        map.put(key, value);\n    }\n    return map;\n}\n\npublic static List&lt;Object&gt; toList(JSONArray array) throws JSONException {\n    List&lt;Object&gt; list = new ArrayList&lt;Object&gt;();\n    for(int i = 0; i &lt; array.length(); i++) {\n        Object value = array.get(i);\n\n        if(value instanceof JSONArray) {\n            value = toList((JSONArray) value);\n        }\n        else if(value instanceof JSONObject) {\n            value = toMap((JSONObject) value);\n        }\n        list.add(value);\n    }\n    return list;\n}\n</code></pre>\n\n<p>Here is my initial JSONArray</p>\n\n<pre><code>[{\n    \"file\": [{\n            \"fileRefNo\": \"AG/CSD/1\",\n            \"status\": \"Active\"\n        }],\n    \"requestNo\": \"225V49\"\n}, {\n    \"file\": [{\n            \"fileRefNo\": \"AG/CSD/1\",\n            \"status\": \"Inactive\"\n        }],\n    \"requestNo\": \"225SRV\"\n}, {\n    \"file\": [{\n            \"fileRefNo\": \"AG/CSD/2\",\n            \"status\": \"Active\"\n        }],\n    \"requestNo\": \"225SRV\"\n}]\n</code></pre>\n\n<p>Here is my desired outcome</p>\n\n<pre><code>[{\n    \"file\": [{\n            \"fileRefNo\": \"AG/CSD/1\",\n            \"status\": \"Active\"\n        }],\n    \"requestNo\": \"225V49\"\n}, {\n    \"file\": [{\n            \"fileRefNo\": \"AG/CSD/1\",\n            \"status\": \"Inactive\"\n        },{\n            \"fileRefNo\": \"AG/CSD/2\",\n            \"status\": \"Active\"\n        }],\n    \"requestNo\": \"225SRV\"\n}]\n</code></pre>\n"},{"tags":["java","web-applications","jboss","wildfly"],"comments":[{"owner":{"account_id":1993525,"reputation":5771,"user_id":1786985,"display_name":"Tomaz Cerar"},"score":0,"creation_date":1424733589,"post_id":28664233,"comment_id":45663614,"body_markdown":"Yes, but first upgrade to 8.2 as 8.1 had broken jsp reloading","body":"Yes, but first upgrade to 8.2 as 8.1 had broken jsp reloading"}],"answers":[{"tags":[],"owner":{"account_id":4408231,"reputation":1174,"user_id":3591946,"accept_rate":85,"display_name":"Kohei Nozaki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1424694020,"creation_date":1424694020,"answer_id":28673696,"question_id":28664233,"body_markdown":"Have you tried [JRebel][1]? following my blog entries would help also.\r\n\r\nhttp://www.nailedtothex.org/roller/kyle/entry/evaluating-jrebel-for-wildfly-and\r\nhttp://www.nailedtothex.org/roller/kyle/entry/exploded-deployment-for-wildfly-on\r\n\r\n\r\n  [1]: http://zeroturnaround.com/software/jrebel/","title":"Wildfly exploded war hot deployment","body":"<p>Have you tried <a href=\"http://zeroturnaround.com/software/jrebel/\" rel=\"nofollow\">JRebel</a>? following my blog entries would help also.</p>\n\n<p><a href=\"http://www.nailedtothex.org/roller/kyle/entry/evaluating-jrebel-for-wildfly-and\" rel=\"nofollow\">http://www.nailedtothex.org/roller/kyle/entry/evaluating-jrebel-for-wildfly-and</a>\n<a href=\"http://www.nailedtothex.org/roller/kyle/entry/exploded-deployment-for-wildfly-on\" rel=\"nofollow\">http://www.nailedtothex.org/roller/kyle/entry/exploded-deployment-for-wildfly-on</a></p>\n"},{"tags":[],"owner":{"account_id":372555,"reputation":4556,"user_id":721666,"accept_rate":48,"display_name":"Ralph"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662138434,"creation_date":1662138434,"answer_id":73585934,"question_id":28664233,"body_markdown":"[Manik Hot deploy][1] is an open source Maven Plugin that simplifies your web development. The plugin provides both deployment modes - the auto-deployment and also the hot-deployment. It can be easily configured in a maven project by adding the plugin to the pom.xml\r\n\r\n```xml\r\n  ....\r\n  &lt;build&gt;\r\n    &lt;plugins&gt;\r\n    .....\r\n      &lt;!-- Manik Hotdploy --&gt;\r\n      &lt;plugin&gt;\r\n        &lt;groupId&gt;org.imixs.maven&lt;/groupId&gt;\r\n        &lt;artifactId&gt;manik-hotdeploy-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;2.0.0&lt;/version&gt;\r\n        &lt;executions&gt;\r\n          &lt;execution&gt;\r\n            &lt;phase&gt;install&lt;/phase&gt;\r\n            &lt;goals&gt;\r\n              &lt;goal&gt;deploy&lt;/goal&gt;\r\n            &lt;/goals&gt;\r\n          &lt;/execution&gt;\r\n        &lt;/executions&gt;\r\n        &lt;configuration&gt;\r\n          &lt;!-- List Source and Target folders for Autodeploy and Hotdeploy --&gt;\r\n          &lt;autodeployments&gt;\r\n            &lt;deployment&gt;\r\n              &lt;!-- wildcard deployment --&gt;\r\n              &lt;source&gt;target/*.{war,ear,jar}&lt;/source&gt;\r\n              &lt;target&gt;/opt/wildfly/standalone/deployments/&lt;/target&gt;\r\n              &lt;unpack&gt;true&lt;/unpack&gt;\t\t\t\t\t\t\r\n            &lt;/deployment&gt;\r\n            &lt;/autodeployments&gt;\r\n            &lt;hotdeployments&gt;\r\n              &lt;deployment&gt;\r\n                &lt;source&gt;src/main/webapp&lt;/source&gt;\r\n                &lt;target&gt;/opt/wildfly/standalone//deployments/my-app.war&lt;/target&gt;\r\n              &lt;/deployment&gt;\t\t\t\t\t\t\r\n            &lt;/hotdeployments&gt;\r\n          &lt;/configuration&gt;\r\n        &lt;/plugin&gt;\r\n        .....\r\n      &lt;/plugins&gt;\r\n    &lt;/build&gt;\r\n    ....\t\r\n```\r\n\r\n  [1]: https://manik.imixs.org/","title":"Wildfly exploded war hot deployment","body":"<p><a href=\"https://manik.imixs.org/\" rel=\"nofollow noreferrer\">Manik Hot deploy</a> is an open source Maven Plugin that simplifies your web development. The plugin provides both deployment modes - the auto-deployment and also the hot-deployment. It can be easily configured in a maven project by adding the plugin to the pom.xml</p>\n<pre class=\"lang-xml prettyprint-override\"><code>  ....\n  &lt;build&gt;\n    &lt;plugins&gt;\n    .....\n      &lt;!-- Manik Hotdploy --&gt;\n      &lt;plugin&gt;\n        &lt;groupId&gt;org.imixs.maven&lt;/groupId&gt;\n        &lt;artifactId&gt;manik-hotdeploy-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;2.0.0&lt;/version&gt;\n        &lt;executions&gt;\n          &lt;execution&gt;\n            &lt;phase&gt;install&lt;/phase&gt;\n            &lt;goals&gt;\n              &lt;goal&gt;deploy&lt;/goal&gt;\n            &lt;/goals&gt;\n          &lt;/execution&gt;\n        &lt;/executions&gt;\n        &lt;configuration&gt;\n          &lt;!-- List Source and Target folders for Autodeploy and Hotdeploy --&gt;\n          &lt;autodeployments&gt;\n            &lt;deployment&gt;\n              &lt;!-- wildcard deployment --&gt;\n              &lt;source&gt;target/*.{war,ear,jar}&lt;/source&gt;\n              &lt;target&gt;/opt/wildfly/standalone/deployments/&lt;/target&gt;\n              &lt;unpack&gt;true&lt;/unpack&gt;                     \n            &lt;/deployment&gt;\n            &lt;/autodeployments&gt;\n            &lt;hotdeployments&gt;\n              &lt;deployment&gt;\n                &lt;source&gt;src/main/webapp&lt;/source&gt;\n                &lt;target&gt;/opt/wildfly/standalone//deployments/my-app.war&lt;/target&gt;\n              &lt;/deployment&gt;                     \n            &lt;/hotdeployments&gt;\n          &lt;/configuration&gt;\n        &lt;/plugin&gt;\n        .....\n      &lt;/plugins&gt;\n    &lt;/build&gt;\n    ....    \n</code></pre>\n"}],"owner":{"account_id":958566,"reputation":13283,"user_id":983386,"accept_rate":81,"display_name":"Juan Antonio Gomez Moriano"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4692,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1662138434,"creation_date":1424644989,"question_id":28664233,"body_markdown":"I have a web application deployed as exploded war using wildfly. What I want to get is\r\n\r\n 1. Changes in jsp files are automatically reflected, without redeploying the app\r\n 2. Changes in .class files enforce an app redeployment.\r\n\r\nAt the moment I am in a situation in which either I can get one option or the other, but not both at the same time (meaning that either every jsp change forces a new deployment or that .class files do not force a new deployment).\r\n\r\nCurrent configuration of wildfly (using version 8.1.0) is\r\n\r\n        &lt;deployment-scanner \r\n                path=&quot;deployments&quot; \r\n                relative-to=&quot;jboss.server.base.dir&quot; \r\n                scan-enabled=&quot;true&quot;\r\n                scan-interval=&quot;1000&quot; \r\n\r\n                auto-deploy-exploded=&quot;true&quot;\r\n                runtime-failure-causes-rollback=&quot;${jboss.deployment.scanner.rollback.on.failure:false}&quot; \r\n\r\n                /&gt;\r\n        \r\n        ...\r\n        \r\n        &lt;servlet-container name=&quot;default&quot;&gt;\r\n                &lt;jsp-config development=&quot;true&quot;/&gt; \r\n        &lt;/servlet-container&gt;       \r\n\r\nAlso, something I have found is that no matter what I set in the deployment-scanner config, once the server is up and running, if I go to the wildfly web console, the parameter auto-deploy-war is marked as true and auto-deploy-exploded is marked as false, even the scan-interval is always set to 5000 ms, which makes me think that the deployment scanner config is somehow being ignored.\r\n\r\nI am kind of lost here quite frankly, it has to be possible for wildfly to reload the app if the change is a .class file and not do it if it is a jsp.","title":"Wildfly exploded war hot deployment","body":"<p>I have a web application deployed as exploded war using wildfly. What I want to get is</p>\n\n<ol>\n<li>Changes in jsp files are automatically reflected, without redeploying the app</li>\n<li>Changes in .class files enforce an app redeployment.</li>\n</ol>\n\n<p>At the moment I am in a situation in which either I can get one option or the other, but not both at the same time (meaning that either every jsp change forces a new deployment or that .class files do not force a new deployment).</p>\n\n<p>Current configuration of wildfly (using version 8.1.0) is</p>\n\n<pre><code>    &lt;deployment-scanner \n            path=\"deployments\" \n            relative-to=\"jboss.server.base.dir\" \n            scan-enabled=\"true\"\n            scan-interval=\"1000\" \n\n            auto-deploy-exploded=\"true\"\n            runtime-failure-causes-rollback=\"${jboss.deployment.scanner.rollback.on.failure:false}\" \n\n            /&gt;\n\n    ...\n\n    &lt;servlet-container name=\"default\"&gt;\n            &lt;jsp-config development=\"true\"/&gt; \n    &lt;/servlet-container&gt;       \n</code></pre>\n\n<p>Also, something I have found is that no matter what I set in the deployment-scanner config, once the server is up and running, if I go to the wildfly web console, the parameter auto-deploy-war is marked as true and auto-deploy-exploded is marked as false, even the scan-interval is always set to 5000 ms, which makes me think that the deployment scanner config is somehow being ignored.</p>\n\n<p>I am kind of lost here quite frankly, it has to be possible for wildfly to reload the app if the change is a .class file and not do it if it is a jsp.</p>\n"},{"tags":["java","android","firebase-realtime-database","android-recyclerview"],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662138351,"creation_date":1662130277,"answer_id":73584409,"question_id":73584159,"body_markdown":"**Try this -** \r\n\r\n     @Override\r\n    public void onBindViewHolder(@NonNull WishlistViewholder holder, int position) {\r\n    \r\n        holder.name.setText(wishlist_models.get(position).getName());\r\n        holder.email.setText(wishlist_models.get(position).getEmail());\r\n    \r\n       if(wishlist_models.get(position).getImage()!=null &amp;&amp; wishlist_models.get(position).getImage().size()&gt;0) {\r\n        Glide.with(context)\r\n                .load(wishlist_models.get(position).getImage().get(0))\r\n                .fitCenter()\r\n                .into(holder.wishlist_image);\r\n        }\r\n    }","title":"how to get single image from list of images from firebase in android","body":"<p><strong>Try this -</strong></p>\n<pre><code> @Override\npublic void onBindViewHolder(@NonNull WishlistViewholder holder, int position) {\n\n    holder.name.setText(wishlist_models.get(position).getName());\n    holder.email.setText(wishlist_models.get(position).getEmail());\n\n   if(wishlist_models.get(position).getImage()!=null &amp;&amp; wishlist_models.get(position).getImage().size()&gt;0) {\n    Glide.with(context)\n            .load(wishlist_models.get(position).getImage().get(0))\n            .fitCenter()\n            .into(holder.wishlist_image);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":58,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":73584409,"answer_count":1,"score":0,"last_activity_date":1662138351,"creation_date":1662129165,"question_id":73584159,"body_markdown":"Hey i m working on an application where i have list of image saving in firebase firestore now in my recyclerview i want only single image out of multiple images now when i am trying to retrive data everything is showing except the images how can i get that??\r\n\r\n\r\nthis is how i am trying to set the single image in recyclerview\r\n\r\n      @Override\r\n    public void onBindViewHolder(@NonNull WishlistViewholder holder, int position) {\r\n\r\n        holder.name.setText(wishlist_models.get(position).getName());\r\n        holder.email.setText(wishlist_models.get(position).getEmail());\r\n\r\n        Glide.with(context)\r\n                .load(wishlist_models.get(position).getImage())\r\n                .fitCenter()\r\n                .into(holder.wishlist_image);\r\n\r\n    }\r\n\r\n**firebase database** \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/L0ZMl.png\r\n\r\n\r\nmodel class\r\n\r\n\r\npublic class Wishlist_Model {\r\n\r\n    String image;\r\n    String name;\r\n    String email;\r\n    String delete;\r\n    List&lt;String&gt; images;\r\n\r\n    public Wishlist_Model() {\r\n    }\r\n\r\n    public Wishlist_Model(String image, String name, String email, String delete, List&lt;String&gt; images) {\r\n        this.image = image;\r\n        this.name = name;\r\n        this.email = email;\r\n        this.delete = delete;\r\n        this.image = image;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public String getDelete() {\r\n        return delete;\r\n    }\r\n\r\n    public void setDelete(String delete) {\r\n        this.delete = delete;\r\n    }\r\n\r\n    public List&lt;String&gt; getImages() {\r\n        return images;\r\n    }\r\n\r\n    public void setImages(List&lt;String&gt; images) {\r\n        this.images = images;\r\n    }\r\n}\r\n","title":"how to get single image from list of images from firebase in android","body":"<p>Hey i m working on an application where i have list of image saving in firebase firestore now in my recyclerview i want only single image out of multiple images now when i am trying to retrive data everything is showing except the images how can i get that??</p>\n<p>this is how i am trying to set the single image in recyclerview</p>\n<pre><code>  @Override\npublic void onBindViewHolder(@NonNull WishlistViewholder holder, int position) {\n\n    holder.name.setText(wishlist_models.get(position).getName());\n    holder.email.setText(wishlist_models.get(position).getEmail());\n\n    Glide.with(context)\n            .load(wishlist_models.get(position).getImage())\n            .fitCenter()\n            .into(holder.wishlist_image);\n\n}\n</code></pre>\n<p><strong>firebase database</strong></p>\n<p><a href=\"https://i.stack.imgur.com/L0ZMl.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/L0ZMl.png\" alt=\"enter image description here\" /></a></p>\n<p>model class</p>\n<p>public class Wishlist_Model {</p>\n<pre><code>String image;\nString name;\nString email;\nString delete;\nList&lt;String&gt; images;\n\npublic Wishlist_Model() {\n}\n\npublic Wishlist_Model(String image, String name, String email, String delete, List&lt;String&gt; images) {\n    this.image = image;\n    this.name = name;\n    this.email = email;\n    this.delete = delete;\n    this.image = image;\n}\n\npublic String getName() {\n    return name;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic String getEmail() {\n    return email;\n}\n\npublic void setEmail(String email) {\n    this.email = email;\n}\n\npublic String getDelete() {\n    return delete;\n}\n\npublic void setDelete(String delete) {\n    this.delete = delete;\n}\n\npublic List&lt;String&gt; getImages() {\n    return images;\n}\n\npublic void setImages(List&lt;String&gt; images) {\n    this.images = images;\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","macos","gradle","gradlew","minecraft-fabric"],"comments":[{"owner":{"account_id":195854,"reputation":159194,"user_id":438992,"accept_rate":90,"display_name":"Dave Newton"},"score":1,"creation_date":1662137968,"post_id":73585708,"comment_id":129944651,"body_markdown":"`gradlew`, it can be beneficial to look at the directory after running `gradle wrapper`.","body":"<code>gradlew</code>, it can be beneficial to look at the directory after running <code>gradle wrapper</code>."}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662137874,"creation_date":1662137351,"answer_id":73585754,"question_id":73585708,"body_markdown":"You should have an executable `gradlew` shell script which you can run from the command line, analogous to `gradlew.bat` on Windows.","title":"what is a gradlew.bat alternative/solution on macOS?","body":"<p>You should have an executable <code>gradlew</code> shell script which you can run from the command line, analogous to <code>gradlew.bat</code> on Windows.</p>\n"}],"owner":{"account_id":19891580,"reputation":93,"user_id":14909563,"display_name":"ProfMonkey07"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":168,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":73585754,"answer_count":1,"score":1,"last_activity_date":1662137874,"creation_date":1662137094,"question_id":73585708,"body_markdown":"I&#39;m following a Minecraft modding tutorial and they are using a gradlew.bat file which, as I am on macOS, I cannot run it. is there a workaround or alternative other than just switching machines and doing it on Windows or a virtual machine?","title":"what is a gradlew.bat alternative/solution on macOS?","body":"<p>I'm following a Minecraft modding tutorial and they are using a gradlew.bat file which, as I am on macOS, I cannot run it. is there a workaround or alternative other than just switching machines and doing it on Windows or a virtual machine?</p>\n"},{"tags":["java","elasticsearch","querydsl"],"answers":[{"tags":[],"owner":{"account_id":4220590,"reputation":599,"user_id":3455472,"display_name":"Hans Ott"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662137432,"creation_date":1662135849,"answer_id":73585522,"question_id":73546230,"body_markdown":"I think you&#39;re looking for [inner hits][1]?\r\n\r\nIf you have a nested query, you can add `inner_hits` as option:\r\n\r\n    {\r\n      nested: {\r\n        path: &quot;products&quot;,\r\n        query: {\r\n          term: {\r\n            &quot;field&quot;: &quot;term&quot;\r\n          }\r\n        },\r\n        inner_hits: {\r\n          size: 10000,\r\n          sort: [\r\n            {\r\n              &quot;products.product&quot;: &quot;desc&quot;,\r\n            },\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nIf you never use a nested query to retrieve your documents, I think you can add the nested query anyway and use `match_all: {}` inside the nested query:\r\n\r\n    {\r\n      nested: {\r\n        path: &quot;products&quot;,\r\n        query: {\r\n          match_all: {}\r\n        },\r\n        inner_hits: {\r\n          size: 10000,\r\n          sort: [\r\n            {\r\n              &quot;products.product&quot;: &quot;desc&quot;,\r\n            },\r\n          ]\r\n        }\r\n      }\r\n    }\r\n\r\nYou can use `from` in `inner_hits` to page through the results.\r\n\r\nI hope this helps.\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/reference/current/inner-hits.html","title":"Search sort paginate the data inside _source of a single document in elastic search through it query","body":"<p>I think you're looking for <a href=\"https://www.elastic.co/guide/en/elasticsearch/reference/current/inner-hits.html\" rel=\"nofollow noreferrer\">inner hits</a>?</p>\n<p>If you have a nested query, you can add <code>inner_hits</code> as option:</p>\n<pre><code>{\n  nested: {\n    path: &quot;products&quot;,\n    query: {\n      term: {\n        &quot;field&quot;: &quot;term&quot;\n      }\n    },\n    inner_hits: {\n      size: 10000,\n      sort: [\n        {\n          &quot;products.product&quot;: &quot;desc&quot;,\n        },\n      ]\n    }\n  }\n}\n</code></pre>\n<p>If you never use a nested query to retrieve your documents, I think you can add the nested query anyway and use <code>match_all: {}</code> inside the nested query:</p>\n<pre><code>{\n  nested: {\n    path: &quot;products&quot;,\n    query: {\n      match_all: {}\n    },\n    inner_hits: {\n      size: 10000,\n      sort: [\n        {\n          &quot;products.product&quot;: &quot;desc&quot;,\n        },\n      ]\n    }\n  }\n}\n</code></pre>\n<p>You can use <code>from</code> in <code>inner_hits</code> to page through the results.</p>\n<p>I hope this helps.</p>\n"}],"owner":{"account_id":6125749,"reputation":1,"user_id":4777822,"display_name":"Himanshu Paliwal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662137432,"creation_date":1661879496,"question_id":73546230,"body_markdown":"In an Elastic Search index we have a multiple document but one document is different from others. It contains vendor product mapping which no other document has, so it is one of its kind in the index. Like this:\r\n```\r\n    {\r\n      &quot;_index&quot;: &quot;portal_support_20200911&quot;,\r\n      &quot;_type&quot;: &quot;_doc&quot;,\r\n      &quot;_id&quot;: &quot;techno_products&quot;,\r\n      &quot;_version&quot;: 20220829,\r\n      &quot;_seq_no&quot;: 39,\r\n      &quot;_primary_term&quot;: 1,\r\n      &quot;found&quot;: true,\r\n      &quot;_source&quot;: {\r\n        &quot;doc_name&quot;: &quot;techno_products&quot;,\r\n        &quot;updated_on&quot;: &quot;20220829&quot;,\r\n        &quot;products&quot;: [\r\n          {\r\n            &quot;vendor&quot;: &quot;Apple&quot;,\r\n            &quot;product&quot;: &quot;Iphone&quot;\r\n          },\r\n          {\r\n            &quot;vendor&quot;: &quot;Samsung&quot;,\r\n            &quot;product&quot;: &quot;Galaxy Z&quot;\r\n          },\r\n          {\r\n            &quot;vendor&quot;: &quot;Volkswagen&quot;,\r\n            &quot;product&quot;: &quot;Passat&quot;\r\n          },\r\n          {\r\n            &quot;vendor&quot;: &quot;Volkswagen&quot;,\r\n            &quot;product&quot;: &quot;Tiguan&quot;\r\n          }\r\n        ]\r\n      }\r\n    }\r\n```\r\n\r\nIt has thousands of vendor product mapping in &quot;products&quot; array.\r\nOur requirement is to write an Elastic Search query to get the data of this document but we also want to search, sort and paginate elements of this &quot;products&quot; array through ES query. Means we want to search, sort and paginate _source of this ES Document through ES query. \r\n\r\nFor example sort the &quot;products&quot; array by &quot;vendor&quot; or by &quot;product&quot; in desc order.\r\nSince this array has thousands of entries so we want to paginate and get 100 elements at a time then in next page next 100 and so on.\r\nWe also want to give search option like vendor=Volkswagen, so it gives only matching elements in output from Elastic Search query.\r\n\r\nI am new to ES but as per my knowledge we can search, sort and paginate documents in ES by their fields.\r\n\r\nBut can we also search, sort and paginate data inside _source of a document in Elastic Search? How can I achieve this using Elastic search query?\r\n\r\nPlease help me in this thanks.","title":"Search sort paginate the data inside _source of a single document in elastic search through it query","body":"<p>In an Elastic Search index we have a multiple document but one document is different from others. It contains vendor product mapping which no other document has, so it is one of its kind in the index. Like this:</p>\n<pre><code>    {\n      &quot;_index&quot;: &quot;portal_support_20200911&quot;,\n      &quot;_type&quot;: &quot;_doc&quot;,\n      &quot;_id&quot;: &quot;techno_products&quot;,\n      &quot;_version&quot;: 20220829,\n      &quot;_seq_no&quot;: 39,\n      &quot;_primary_term&quot;: 1,\n      &quot;found&quot;: true,\n      &quot;_source&quot;: {\n        &quot;doc_name&quot;: &quot;techno_products&quot;,\n        &quot;updated_on&quot;: &quot;20220829&quot;,\n        &quot;products&quot;: [\n          {\n            &quot;vendor&quot;: &quot;Apple&quot;,\n            &quot;product&quot;: &quot;Iphone&quot;\n          },\n          {\n            &quot;vendor&quot;: &quot;Samsung&quot;,\n            &quot;product&quot;: &quot;Galaxy Z&quot;\n          },\n          {\n            &quot;vendor&quot;: &quot;Volkswagen&quot;,\n            &quot;product&quot;: &quot;Passat&quot;\n          },\n          {\n            &quot;vendor&quot;: &quot;Volkswagen&quot;,\n            &quot;product&quot;: &quot;Tiguan&quot;\n          }\n        ]\n      }\n    }\n</code></pre>\n<p>It has thousands of vendor product mapping in &quot;products&quot; array.\nOur requirement is to write an Elastic Search query to get the data of this document but we also want to search, sort and paginate elements of this &quot;products&quot; array through ES query. Means we want to search, sort and paginate _source of this ES Document through ES query.</p>\n<p>For example sort the &quot;products&quot; array by &quot;vendor&quot; or by &quot;product&quot; in desc order.\nSince this array has thousands of entries so we want to paginate and get 100 elements at a time then in next page next 100 and so on.\nWe also want to give search option like vendor=Volkswagen, so it gives only matching elements in output from Elastic Search query.</p>\n<p>I am new to ES but as per my knowledge we can search, sort and paginate documents in ES by their fields.</p>\n<p>But can we also search, sort and paginate data inside _source of a document in Elastic Search? How can I achieve this using Elastic search query?</p>\n<p>Please help me in this thanks.</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":10434393,"reputation":2167,"user_id":7693190,"accept_rate":89,"display_name":"bcr666"},"score":0,"creation_date":1532846505,"post_id":51576987,"comment_id":90121157,"body_markdown":"It is a string, use .replace(&quot;\\s*[}{]\\s*&quot;,&quot;&quot;) to get rid of the curly braces, then you can split(&quot;\\&quot;\\s*,\\s*\\&quot;&quot;) to split on the commas. That will give you a list of key-value pair strings. Loop through those and split(&quot;\\&quot;\\s*:\\s*\\&quot;&quot;) which will split the key from the value. you can then grab the [0] part which is the key, and put it into an ArrayList if the ArrayList doesn&#39;t already have it.","body":"It is a string, use .replace(&quot;\\s*[}{]\\s*&quot;,&quot;&quot;) to get rid of the curly braces, then you can split(&quot;\\&quot;\\s*,\\s*\\&quot;&quot;) to split on the commas. That will give you a list of key-value pair strings. Loop through those and split(&quot;\\&quot;\\s*:\\s*\\&quot;&quot;) which will split the key from the value. you can then grab the [0] part which is the key, and put it into an ArrayList if the ArrayList doesn&#39;t already have it."},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1532849712,"post_id":51576987,"comment_id":90121800,"body_markdown":"Parse the array to a List&lt;Map&lt;String, String&gt;&gt; using your JSON mapper. Put all the entries of the second map into the first one. Serialize the first map to JSON. Shoouldn&#39;t be more then 5 lines of code.","body":"Parse the array to a List&lt;Map&lt;String, String&gt;&gt; using your JSON mapper. Put all the entries of the second map into the first one. Serialize the first map to JSON. Shoouldn&#39;t be more then 5 lines of code."},{"owner":{"account_id":11643899,"reputation":11,"user_id":8527447,"display_name":"k.parthi Ban"},"score":0,"creation_date":1532857851,"post_id":51576987,"comment_id":90123503,"body_markdown":"could you send the example code @JBNizet","body":"could you send the example code @JBNizet"},{"owner":{"account_id":11643899,"reputation":11,"user_id":8527447,"display_name":"k.parthi Ban"},"score":0,"creation_date":1532858153,"post_id":51576987,"comment_id":90123576,"body_markdown":"How to concat the json array?","body":"How to concat the json array?"},{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":0,"creation_date":1532858277,"post_id":51576987,"comment_id":90123602,"body_markdown":"@k.parthiBan could you at least try doing it by yourself, given that you have pretty clear indicatipns now?","body":"@k.parthiBan could you at least try doing it by yourself, given that you have pretty clear indicatipns now?"}],"answers":[{"tags":[],"owner":{"account_id":13009011,"reputation":1105,"user_id":9402689,"display_name":"Raymond Choi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662137365,"creation_date":1662137365,"answer_id":73585757,"question_id":51576987,"body_markdown":"https://github.com/octomix/josson  \r\n\r\n    Josson josson = Josson.fromJsonString(\r\n        &quot;{&quot; +\r\n        &quot;  \\&quot;values\\&quot;: [&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;locale\\&quot;: \\&quot;en_US\\&quot;,&quot; +\r\n        &quot;      \\&quot;source_key\\&quot;: \\&quot;book_format\\&quot;,&quot; +\r\n        &quot;      \\&quot;value\\&quot;: \\&quot;Hardback\\&quot;,&quot; +\r\n        &quot;      \\&quot;display_attr_name\\&quot;: \\&quot;Book Format\\&quot;,&quot; +\r\n        &quot;      \\&quot;source_value\\&quot;: \\&quot;Hardback\\&quot;,&quot; +\r\n        &quot;      \\&quot;isPrimary\\&quot;: \\&quot;true\\&quot;&quot; +\r\n        &quot;    },&quot; +\r\n        &quot;    {&quot; +\r\n        &quot;      \\&quot;isFacetValue\\&quot;: \\&quot;true\\&quot;,&quot; +\r\n        &quot;      \\&quot;facet_version\\&quot;: \\&quot;1.1\\&quot;,&quot; +\r\n        &quot;      \\&quot;locale\\&quot;: \\&quot;en_US\\&quot;,&quot; +\r\n        &quot;      \\&quot;value\\&quot;: \\&quot;Hardcover\\&quot;&quot; +\r\n        &quot;    }&quot; +\r\n        &quot;  ]&quot; +\r\n        &quot;}&quot;);\r\n    JsonNode node = josson.getNode(&quot;values.mergeObjects()&quot;);\r\n    System.out.println(node.toPrettyString());\r\n\r\nOutput\r\n\r\n    {\r\n      &quot;locale&quot; : &quot;en_US&quot;,\r\n      &quot;source_key&quot; : &quot;book_format&quot;,\r\n      &quot;value&quot; : &quot;Hardcover&quot;,\r\n      &quot;display_attr_name&quot; : &quot;Book Format&quot;,\r\n      &quot;source_value&quot; : &quot;Hardback&quot;,\r\n      &quot;isPrimary&quot; : &quot;true&quot;,\r\n      &quot;isFacetValue&quot; : &quot;true&quot;,\r\n      &quot;facet_version&quot; : &quot;1.1&quot;\r\n    }","title":"Json object, convert json array into a json object in java","body":"<p><a href=\"https://github.com/octomix/josson\" rel=\"nofollow noreferrer\">https://github.com/octomix/josson</a></p>\n<pre><code>Josson josson = Josson.fromJsonString(\n    &quot;{&quot; +\n    &quot;  \\&quot;values\\&quot;: [&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;locale\\&quot;: \\&quot;en_US\\&quot;,&quot; +\n    &quot;      \\&quot;source_key\\&quot;: \\&quot;book_format\\&quot;,&quot; +\n    &quot;      \\&quot;value\\&quot;: \\&quot;Hardback\\&quot;,&quot; +\n    &quot;      \\&quot;display_attr_name\\&quot;: \\&quot;Book Format\\&quot;,&quot; +\n    &quot;      \\&quot;source_value\\&quot;: \\&quot;Hardback\\&quot;,&quot; +\n    &quot;      \\&quot;isPrimary\\&quot;: \\&quot;true\\&quot;&quot; +\n    &quot;    },&quot; +\n    &quot;    {&quot; +\n    &quot;      \\&quot;isFacetValue\\&quot;: \\&quot;true\\&quot;,&quot; +\n    &quot;      \\&quot;facet_version\\&quot;: \\&quot;1.1\\&quot;,&quot; +\n    &quot;      \\&quot;locale\\&quot;: \\&quot;en_US\\&quot;,&quot; +\n    &quot;      \\&quot;value\\&quot;: \\&quot;Hardcover\\&quot;&quot; +\n    &quot;    }&quot; +\n    &quot;  ]&quot; +\n    &quot;}&quot;);\nJsonNode node = josson.getNode(&quot;values.mergeObjects()&quot;);\nSystem.out.println(node.toPrettyString());\n</code></pre>\n<p>Output</p>\n<pre><code>{\n  &quot;locale&quot; : &quot;en_US&quot;,\n  &quot;source_key&quot; : &quot;book_format&quot;,\n  &quot;value&quot; : &quot;Hardcover&quot;,\n  &quot;display_attr_name&quot; : &quot;Book Format&quot;,\n  &quot;source_value&quot; : &quot;Hardback&quot;,\n  &quot;isPrimary&quot; : &quot;true&quot;,\n  &quot;isFacetValue&quot; : &quot;true&quot;,\n  &quot;facet_version&quot; : &quot;1.1&quot;\n}\n</code></pre>\n"}],"owner":{"account_id":11643899,"reputation":11,"user_id":8527447,"display_name":"k.parthi Ban"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662137365,"creation_date":1532835400,"question_id":51576987,"body_markdown":" I have one json array like this   \r\n\r\n    &quot;values&quot;:[\r\n      {\r\n        &quot;locale&quot;:&quot;en_US&quot;,\r\n        &quot;source_key&quot;:&quot;book_format&quot;,\r\n        &quot;value&quot;:&quot;Hardback&quot;,\r\n        &quot;display_attr_name&quot;:&quot;Book Format&quot;,\r\n        &quot;source_value&quot;:&quot;Hardback&quot;,\r\n        &quot;isPrimary&quot;:&quot;true&quot;\r\n      },\r\n      {\r\n        &quot;isFacetValue&quot;:&quot;true&quot;,\r\n        &quot;facet_version&quot;:&quot;1.1&quot;,\r\n        &quot;locale&quot;:&quot;en_US&quot;,\r\n        &quot;value&quot;:&quot;Hardcover&quot;\r\n      }\r\n    ]\r\n\r\n \t\t  \r\nI need to get the only the distinct keys from above json array\r\n\r\n    {\r\n      &quot;locale&quot;:&quot;en_US&quot;,\r\n      &quot;source_key&quot;:&quot;book_format&quot;,\r\n      &quot;value&quot;:&quot;Hardback&quot;,\r\n      &quot;display_attr_name&quot;:&quot;Book Format&quot;, \r\n      &quot;source_value&quot;:&quot;Hardback&quot;,\r\n      &quot;isPrimary&quot;:&quot;true&quot;,\r\n      &quot;isFacetValue&quot;:&quot;true&quot;,\r\n      &quot;facet_version&quot;:&quot;1.1&quot;\r\n    }\r\n\r\nAnd the output will be in the form of jsonobject.\r\n","title":"Json object, convert json array into a json object in java","body":"<p>I have one json array like this   </p>\n\n<pre><code>\"values\":[\n  {\n    \"locale\":\"en_US\",\n    \"source_key\":\"book_format\",\n    \"value\":\"Hardback\",\n    \"display_attr_name\":\"Book Format\",\n    \"source_value\":\"Hardback\",\n    \"isPrimary\":\"true\"\n  },\n  {\n    \"isFacetValue\":\"true\",\n    \"facet_version\":\"1.1\",\n    \"locale\":\"en_US\",\n    \"value\":\"Hardcover\"\n  }\n]\n</code></pre>\n\n<p>I need to get the only the distinct keys from above json array</p>\n\n<pre><code>{\n  \"locale\":\"en_US\",\n  \"source_key\":\"book_format\",\n  \"value\":\"Hardback\",\n  \"display_attr_name\":\"Book Format\", \n  \"source_value\":\"Hardback\",\n  \"isPrimary\":\"true\",\n  \"isFacetValue\":\"true\",\n  \"facet_version\":\"1.1\"\n}\n</code></pre>\n\n<p>And the output will be in the form of jsonobject.</p>\n"},{"tags":["java","date","parsing","timezone"],"comments":[{"owner":{"account_id":11683,"reputation":1438179,"user_id":22656,"accept_rate":86,"display_name":"Jon Skeet"},"score":3,"creation_date":1662111331,"post_id":73580462,"comment_id":129935291,"body_markdown":"Are you able to use the more modern java.time package instead of `SimpleDateFormat`? That would be *much* better in general, and with `DateTimeFormatter` you can use the `V` symbol for time zone ID.","body":"Are you able to use the more modern java.time package instead of <code>SimpleDateFormat</code>? That would be <i>much</i> better in general, and with <code>DateTimeFormatter</code> you can use the <code>V</code> symbol for time zone ID."},{"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"score":0,"creation_date":1662141836,"post_id":73580462,"comment_id":129945788,"body_markdown":"I too strongly recommend you dont use `SimpleDateFormat` and `Date`. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use `ZonedDateTime` and `DateTimeFormatter` from [java.time, the modern Java date and time API,](https://docs.oracle.com/javase/tutorial/datetime/) as shown in the answer.","body":"I too strongly recommend you dont use <code>SimpleDateFormat</code> and <code>Date</code>. Those classes are poorly designed and long outdated, the former in particular notoriously troublesome. Instead use <code>ZonedDateTime</code> and <code>DateTimeFormatter</code> from <a href=\"https://docs.oracle.com/javase/tutorial/datetime/\" rel=\"nofollow noreferrer\">java.time, the modern Java date and time API,</a> as shown in the answer."}],"answers":[{"tags":[],"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"down_vote_count":0,"up_vote_count":5,"is_accepted":true,"score":5,"last_activity_date":1662111856,"creation_date":1662111490,"answer_id":73580602,"question_id":73580462,"body_markdown":"You can use the modern Time API with a [`DateTimeFormatter`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html) instead. The symbol for a (long) Zone-id is `VV`.\r\n\r\nFor example\r\n\r\n    System.out.println(ZonedDateTime.parse(\r\n                             &quot;2022-09-02 02:30:10 America/New_York&quot;, \r\n                             DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss VV&quot;)));\r\n\r\nOutputs\r\n\r\n    2022-09-02T02:30:10-04:00[America/New_York]\r\n","title":"Parse date with &quot;America/New_York&quot; like time zones","body":"<p>You can use the modern Time API with a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/time/format/DateTimeFormatter.html\" rel=\"noreferrer\"><code>DateTimeFormatter</code></a> instead. The symbol for a (long) Zone-id is <code>VV</code>.</p>\n<p>For example</p>\n<pre><code>System.out.println(ZonedDateTime.parse(\n                         &quot;2022-09-02 02:30:10 America/New_York&quot;, \n                         DateTimeFormatter.ofPattern(&quot;yyyy-MM-dd HH:mm:ss VV&quot;)));\n</code></pre>\n<p>Outputs</p>\n<pre><code>2022-09-02T02:30:10-04:00[America/New_York]\n</code></pre>\n"}],"owner":{"account_id":16401969,"reputation":129,"user_id":11847630,"display_name":"algonell"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":645,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":73580602,"answer_count":1,"score":3,"last_activity_date":1662136736,"creation_date":1662110848,"question_id":73580462,"body_markdown":"Trying to parse a date with a detailed time zone:\r\n```\r\nvar sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;);\r\nsdf.parse(&quot;2022-09-02 02:30:10 America/New_York&quot;);\r\n```\r\n\r\nGetting:\r\n```\r\njava.text.ParseException: Unparseable date: &quot;2022-09-02 02:30:10 America/New_York&quot;\r\n```\r\n\r\nTried: specifying &quot;z&quot;, &quot;zzz&quot;, &quot;X&quot; and &quot;XXX&quot; in the date formatter.","title":"Parse date with &quot;America/New_York&quot; like time zones","body":"<p>Trying to parse a date with a detailed time zone:</p>\n<pre><code>var sdf = new SimpleDateFormat(&quot;yyyy-MM-dd HH:mm:ss z&quot;);\nsdf.parse(&quot;2022-09-02 02:30:10 America/New_York&quot;);\n</code></pre>\n<p>Getting:</p>\n<pre><code>java.text.ParseException: Unparseable date: &quot;2022-09-02 02:30:10 America/New_York&quot;\n</code></pre>\n<p>Tried: specifying &quot;z&quot;, &quot;zzz&quot;, &quot;X&quot; and &quot;XXX&quot; in the date formatter.</p>\n"},{"tags":["java","spring","spring-boot","spring-security"],"comments":[{"owner":{"account_id":536581,"reputation":3624,"user_id":905494,"display_name":"tksilicon"},"score":0,"creation_date":1574840374,"post_id":59058596,"comment_id":104368941,"body_markdown":"You need to inject the same authentication manager using AuthenticationManagerBuilder. See https://stackoverflow.com/questions/40258583/using-multiple-websecurityconfigureradapter-with-different-authenticationprovide","body":"You need to inject the same authentication manager using AuthenticationManagerBuilder. See <a href=\"https://stackoverflow.com/questions/40258583/using-multiple-websecurityconfigureradapter-with-different-authenticationprovide\" title=\"using multiple websecurityconfigureradapter with different authenticationprovide\">stackoverflow.com/questions/40258583/&hellip;</a>"},{"owner":{"account_id":2761573,"reputation":195,"user_id":2378369,"display_name":"amisiuryk"},"score":0,"creation_date":1668013070,"post_id":59058596,"comment_id":131306355,"body_markdown":"Just a note: @Order(2) doesn&#39;t work with @Configuration","body":"Just a note: @Order(2) doesn&#39;t work with @Configuration"}],"answers":[{"tags":[],"owner":{"account_id":10074768,"reputation":3044,"user_id":7650222,"display_name":"Anar Sultanov"},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1574804253,"creation_date":1574801332,"answer_id":59059130,"question_id":59058596,"body_markdown":"To use multiple `WebsecurityConfigurerAdapter`, you need restrict them to specific URL patterns using [`RequestMatcher`][1].\r\n\r\nIn your case you can set a higher priority for `ActuatorSecurityConfig` and limit it only to actuator endpoints: \r\n\r\n\r\n    @Order(-1)\r\n    @Configuration\r\n    public class ActuatorSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http\r\n                    .requestMatchers().antMatchers(&quot;/actuator/**&quot;)\r\n                    .and()\r\n                    .authorizeRequests().anyRequest().hasRole(&quot;ADMIN&quot;)\r\n                    .and()\r\n                    .httpBasic();\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/util/matcher/RequestMatcher.html","title":"Multiple WebSecurityConfigurerAdapter in spring boot for multiple patterns","body":"<p>To use multiple <code>WebsecurityConfigurerAdapter</code>, you need restrict them to specific URL patterns using <a href=\"https://docs.spring.io/spring-security/site/docs/current/api/org/springframework/security/web/util/matcher/RequestMatcher.html\" rel=\"noreferrer\"><code>RequestMatcher</code></a>.</p>\n\n<p>In your case you can set a higher priority for <code>ActuatorSecurityConfig</code> and limit it only to actuator endpoints: </p>\n\n<pre><code>@Order(-1)\n@Configuration\npublic class ActuatorSecurityConfig extends WebSecurityConfigurerAdapter {\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http\n                .requestMatchers().antMatchers(\"/actuator/**\")\n                .and()\n                .authorizeRequests().anyRequest().hasRole(\"ADMIN\")\n                .and()\n                .httpBasic();\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":933072,"reputation":1263,"user_id":962536,"accept_rate":48,"display_name":"Tatha"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25833,"favorite_count":0,"down_vote_count":0,"up_vote_count":33,"accepted_answer_id":59059130,"answer_count":1,"score":33,"last_activity_date":1662136604,"creation_date":1574798640,"question_id":59058596,"body_markdown":"I am trying to set up multiple WebsecurityConfigurerAdapter for my project where the spring boot actuator APIs are secured using basic auth and all other endpoints are authenticated using JWtAuthentication. I am just not able to make it work together, only the config with the lower order works.  I am using Spring Boot 2.1.5.RELEASE\r\n\r\nSecurity Config One with JWT Authenticator\r\n\r\n    @Order(1)\r\n    @Configuration\r\n    public class SecurityConfig extends WebSecurityConfigurerAdapter {\r\n        private static final String[] AUTH_WHITELIST = {\r\n            &quot;/docs/**&quot;,\r\n            &quot;/csrf/**&quot;,\r\n            &quot;/webjars/**&quot;,\r\n            &quot;/**swagger**/**&quot;,\r\n            &quot;/swagger-resources&quot;,\r\n            &quot;/swagger-resources/**&quot;,\r\n            &quot;/v2/api-docs&quot;\r\n        };\r\n\r\n        @Override\r\n        protected void configure(HttpSecurity http) throws Exception {\r\n            http.authorizeRequests()\r\n                .antMatchers(AUTH_WHITELIST).permitAll()\r\n                .antMatchers(&quot;/abc/**&quot;, &quot;/abc/pdf/**&quot;).hasAuthority(&quot;ABC&quot;)\r\n                .antMatchers(&quot;/ddd/**&quot;).hasAuthority(&quot;DDD&quot;)\r\n                .and()\r\n                .csrf().disable()\r\n                .oauth2ResourceServer().jwt().jwtAuthenticationConverter(new GrantedAuthoritiesExtractor());\r\n       }\r\n    }\r\n\r\n\r\nThe basic Auth config with username/password\r\n\r\n    @Order(2)\r\n    @Configuration\r\n    public class ActuatorSecurityConfig extends WebSecurityConfigurerAdapter {\r\n\r\n    /*    @Bean\r\n    public UserDetailsService userDetailsService(final PasswordEncoder encoder) {\r\n        final InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\r\n        manager.createUser(\r\n                User\r\n                        .withUsername(&quot;user1&quot;)\r\n                        .password(encoder.encode(&quot;password&quot;))\r\n                        .roles(&quot;ADMIN&quot;)\r\n                        .build()\r\n        );\r\n        return manager;\r\n    }\r\n\r\n    @Bean PasswordEncoder encoder(){\r\n        return new BCryptPasswordEncoder();\r\n    }*/\r\n\r\n    @Override\r\n    protected void configure(HttpSecurity http) throws Exception {\r\n        http.authorizeRequests()\r\n                .antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ADMIN&quot;)\r\n                .and()\r\n                .httpBasic();\r\n    }\r\n\r\n    @Override\r\n    protected void configure(AuthenticationManagerBuilder auth) throws Exception {\r\n        auth.inMemoryAuthentication().withUser(&quot;user1&quot;).password(&quot;password&quot;).authorities(&quot;ADMIN&quot;);\r\n      }\r\n    }\r\n\r\nI have been trying to make it work for many days but cannot make both of them work together. If i swap the order, only basic auth works and not the JWT Auth Manager.\r\n\r\nI have gone through a lot of SOF Questions, like \r\n\r\n[https://stackoverflow.com/questions/40743780/spring-boot-security-multiple-websecurityconfigureradapter][1] \r\n\r\n[https://stackoverflow.com/questions/52606720/issue-with-having-multiple-websecurityconfigureradapter-in-spring-boot][1]\r\n\r\n\r\n[https://github.com/spring-projects/spring-security/issues/5593][1]\r\n\r\n[https://www.baeldung.com/spring-security-multiple-entry-points][1]\r\n\r\nNothing seems to be working, is this a known issue in Spring?\r\n\r\n","title":"Multiple WebSecurityConfigurerAdapter in spring boot for multiple patterns","body":"<p>I am trying to set up multiple WebsecurityConfigurerAdapter for my project where the spring boot actuator APIs are secured using basic auth and all other endpoints are authenticated using JWtAuthentication. I am just not able to make it work together, only the config with the lower order works.  I am using Spring Boot 2.1.5.RELEASE</p>\n<p>Security Config One with JWT Authenticator</p>\n<pre><code>@Order(1)\n@Configuration\npublic class SecurityConfig extends WebSecurityConfigurerAdapter {\n    private static final String[] AUTH_WHITELIST = {\n        &quot;/docs/**&quot;,\n        &quot;/csrf/**&quot;,\n        &quot;/webjars/**&quot;,\n        &quot;/**swagger**/**&quot;,\n        &quot;/swagger-resources&quot;,\n        &quot;/swagger-resources/**&quot;,\n        &quot;/v2/api-docs&quot;\n    };\n\n    @Override\n    protected void configure(HttpSecurity http) throws Exception {\n        http.authorizeRequests()\n            .antMatchers(AUTH_WHITELIST).permitAll()\n            .antMatchers(&quot;/abc/**&quot;, &quot;/abc/pdf/**&quot;).hasAuthority(&quot;ABC&quot;)\n            .antMatchers(&quot;/ddd/**&quot;).hasAuthority(&quot;DDD&quot;)\n            .and()\n            .csrf().disable()\n            .oauth2ResourceServer().jwt().jwtAuthenticationConverter(new GrantedAuthoritiesExtractor());\n   }\n}\n</code></pre>\n<p>The basic Auth config with username/password</p>\n<pre><code>@Order(2)\n@Configuration\npublic class ActuatorSecurityConfig extends WebSecurityConfigurerAdapter {\n\n/*    @Bean\npublic UserDetailsService userDetailsService(final PasswordEncoder encoder) {\n    final InMemoryUserDetailsManager manager = new InMemoryUserDetailsManager();\n    manager.createUser(\n            User\n                    .withUsername(&quot;user1&quot;)\n                    .password(encoder.encode(&quot;password&quot;))\n                    .roles(&quot;ADMIN&quot;)\n                    .build()\n    );\n    return manager;\n}\n\n@Bean PasswordEncoder encoder(){\n    return new BCryptPasswordEncoder();\n}*/\n\n@Override\nprotected void configure(HttpSecurity http) throws Exception {\n    http.authorizeRequests()\n            .antMatchers(&quot;/actuator/**&quot;).hasRole(&quot;ADMIN&quot;)\n            .and()\n            .httpBasic();\n}\n\n@Override\nprotected void configure(AuthenticationManagerBuilder auth) throws Exception {\n    auth.inMemoryAuthentication().withUser(&quot;user1&quot;).password(&quot;password&quot;).authorities(&quot;ADMIN&quot;);\n  }\n}\n</code></pre>\n<p>I have been trying to make it work for many days but cannot make both of them work together. If i swap the order, only basic auth works and not the JWT Auth Manager.</p>\n<p>I have gone through a lot of SOF Questions, like</p>\n<p>[https://stackoverflow.com/questions/40743780/spring-boot-security-multiple-websecurityconfigureradapter][1]</p>\n<p>[https://stackoverflow.com/questions/52606720/issue-with-having-multiple-websecurityconfigureradapter-in-spring-boot][1]</p>\n<p>[https://github.com/spring-projects/spring-security/issues/5593][1]</p>\n<p>[https://www.baeldung.com/spring-security-multiple-entry-points][1]</p>\n<p>Nothing seems to be working, is this a known issue in Spring?</p>\n"},{"tags":["java","scala"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1662136259,"post_id":73584547,"comment_id":129944145,"body_markdown":"When you say read from network, do you mean network mounted filesystem (Windows or Linux) or a network access with some other app like FTP?","body":"When you say read from network, do you mean network mounted filesystem (Windows or Linux) or a network access with some other app like FTP?"}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662136471,"creation_date":1662136471,"answer_id":73585609,"question_id":73584547,"body_markdown":"If you are scanning network mounted filesystem you can use `Files.find` to scan file with attributes and filter the stream with a suitable comparator on the last modified time:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        Path dir = Path.of(args[0]);\r\n\r\n        try(var files = find(dir, Integer.MAX_VALUE, (p,a) -&gt; a.isRegularFile())) {\r\n\r\n            var latest = files.max(Comparator.comparing(entry -&gt; entry.getValue().lastModifiedTime()));\r\n            if (latest.isPresent())\r\n                System.out.println(latest.get().getKey() +&quot; modified &quot;+latest.get().getValue().lastModifiedTime());\r\n        }\r\n    }\r\n\r\nTo make `find()` collect `Path` with `BasicFileAttributes` use this stream:\r\n\r\n    public static Stream&lt;Map.Entry&lt;Path, BasicFileAttributes&gt;&gt;\r\n    find(Path dir, int maxDepth, BiPredicate&lt;Path, BasicFileAttributes&gt; matcher, FileVisitOption... options) throws IOException {\r\n\r\n        // Using ConcurrentHashMap is safe to use with parallel()\r\n        ConcurrentHashMap&lt;Path,BasicFileAttributes&gt; attrs = new ConcurrentHashMap&lt;&gt;();\r\n\r\n        BiPredicate&lt;Path, BasicFileAttributes&gt; predicate = (p,a) -&gt; (matcher == null || matcher.test(p, a)) &amp;&amp; attrs.put(p, a) == null;\r\n        return Files.find(dir, maxDepth, predicate, options).map(p -&gt; Map.entry(p, attrs.remove(p)));\r\n    }\r\n","title":"Getting latest modified date for a list of files from network","body":"<p>If you are scanning network mounted filesystem you can use <code>Files.find</code> to scan file with attributes and filter the stream with a suitable comparator on the last modified time:</p>\n<pre><code>public static void main(String[] args) throws IOException {\n    Path dir = Path.of(args[0]);\n\n    try(var files = find(dir, Integer.MAX_VALUE, (p,a) -&gt; a.isRegularFile())) {\n\n        var latest = files.max(Comparator.comparing(entry -&gt; entry.getValue().lastModifiedTime()));\n        if (latest.isPresent())\n            System.out.println(latest.get().getKey() +&quot; modified &quot;+latest.get().getValue().lastModifiedTime());\n    }\n}\n</code></pre>\n<p>To make <code>find()</code> collect <code>Path</code> with <code>BasicFileAttributes</code> use this stream:</p>\n<pre><code>public static Stream&lt;Map.Entry&lt;Path, BasicFileAttributes&gt;&gt;\nfind(Path dir, int maxDepth, BiPredicate&lt;Path, BasicFileAttributes&gt; matcher, FileVisitOption... options) throws IOException {\n\n    // Using ConcurrentHashMap is safe to use with parallel()\n    ConcurrentHashMap&lt;Path,BasicFileAttributes&gt; attrs = new ConcurrentHashMap&lt;&gt;();\n\n    BiPredicate&lt;Path, BasicFileAttributes&gt; predicate = (p,a) -&gt; (matcher == null || matcher.test(p, a)) &amp;&amp; attrs.put(p, a) == null;\n    return Files.find(dir, maxDepth, predicate, options).map(p -&gt; Map.entry(p, attrs.remove(p)));\n}\n</code></pre>\n"}],"owner":{"account_id":2846397,"reputation":6438,"user_id":2444661,"accept_rate":55,"display_name":"Mandroid"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662136471,"creation_date":1662130765,"question_id":73584547,"body_markdown":"I have a service which fetches a list of files from network, with each file inside a custom object.\r\n\r\nWhat I want is find latest modified date among all of them, which I plan to do as:\r\n\r\n    val latestModifiedTime = fileService\r\n        .fetchFiles(...)\r\n        .map(_.file)\r\n        .map(file =&gt; Files.getLastModifiedTime(file.toPath).toMillis)\r\n        .sorted(Ordering.Long.reverse)\r\n        .head\r\n\r\nBut I am not sure of this approach, due to toPath usage. Would it work with file fetched from network?\r\n\r\nSecondly, if it works, then can it be mocked in unit test?","title":"Getting latest modified date for a list of files from network","body":"<p>I have a service which fetches a list of files from network, with each file inside a custom object.</p>\n<p>What I want is find latest modified date among all of them, which I plan to do as:</p>\n<pre><code>val latestModifiedTime = fileService\n    .fetchFiles(...)\n    .map(_.file)\n    .map(file =&gt; Files.getLastModifiedTime(file.toPath).toMillis)\n    .sorted(Ordering.Long.reverse)\n    .head\n</code></pre>\n<p>But I am not sure of this approach, due to toPath usage. Would it work with file fetched from network?</p>\n<p>Secondly, if it works, then can it be mocked in unit test?</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":4111085,"reputation":311,"user_id":3373857,"display_name":"firoj_mujawar"},"score":0,"creation_date":1662046257,"post_id":73571816,"comment_id":129920770,"body_markdown":"You might need to read this: https://stackoverflow.com/questions/52177887/multi-threading-spring-transaction\n\n`EntityMananger` by default handles multi-threading more explanation on above post","body":"You might need to read this: <a href=\"https://stackoverflow.com/questions/52177887/multi-threading-spring-transaction\" title=\"multi threading spring transaction\">stackoverflow.com/questions/52177887/&hellip;</a>  <code>EntityMananger</code> by default handles multi-threading more explanation on above post"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1662046851,"post_id":73571816,"comment_id":129921020,"body_markdown":"I would say you need extra entity somehow associated with `person` and activity `making appointments`, and every time before counting and inserting new row you will need to lock that entity.","body":"I would say you need extra entity somehow associated with <code>person</code> and activity <code>making appointments</code>, and every time before counting and inserting new row you will need to lock that entity."}],"answers":[{"tags":[],"owner":{"account_id":6034200,"reputation":158,"user_id":8285132,"display_name":"Vladimir Krylov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662050382,"creation_date":1662046065,"answer_id":73571947,"question_id":73571816,"body_markdown":"Let&#39;s assume you can change the table schema.\r\nIn that case, the appointment aggregate will consist of\r\n\r\n - id\r\n - personId\r\n - appointmentDates\r\n - version\r\n - createdDate\r\n\r\n\r\n\r\n\r\n\r\nYou can use *Optimistic Lock* by adding the @Version annotation in your entity and a column in your table.\r\n\r\n**Pseudo code**\r\n\r\n    @Entity\r\n    public class Appointment {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n\r\n        @OneToOne\r\n        private String personId;\r\n\r\n        @ElementCollection\r\n        private List&lt;Date&gt; appointmentDates = new ArrayList&lt;&gt;();\r\n    \r\n        @Version private Long version;\r\n\r\n        private Instant createdDate;\r\n\r\n\r\n        public static Appointment create(Appointment appointment) {\r\n            // code that creates a new appointment\r\n        }\r\n\r\n        public Appointment addAppointment() {\r\n            // code that updates your appointment\r\n        }\r\n\r\n    }\r\n\r\n\r\n[@Version annotation][1]\r\n\r\nand in your service class, you can create a new appointment\r\n**Pseudo code**\r\n\r\n    var appointment = Appointment.create(newAppointment);\r\n    repository.save(appointment);\r\n\r\nor update\r\n**Pseudo code**\r\n\r\n    var appointmentToUpdate = repository.findById(appointmentId);\r\n    // validation for appointment count and date\r\n    if (createdDate.isToday() &amp;&amp; appointmentToUpdate.getAppointmentDates().size() &gt;= 3)\r\n      // exception\r\n    var updatedAppointment = appointmentToUpdate.addAppointment();\r\n    repository.save(updatedAppointment);\r\n\r\nIt will throw the OptimisticLockException in case another thread has modified this entity.\r\n\r\n  [1]: https://stackoverflow.com/questions/2572566/java-jpa-version-annotation","title":"How to conditional database insert operation in Java Spring with Lock?","body":"<p>Let's assume you can change the table schema.\nIn that case, the appointment aggregate will consist of</p>\n<ul>\n<li>id</li>\n<li>personId</li>\n<li>appointmentDates</li>\n<li>version</li>\n<li>createdDate</li>\n</ul>\n<p>You can use <em>Optimistic Lock</em> by adding the @Version annotation in your entity and a column in your table.</p>\n<p><strong>Pseudo code</strong></p>\n<pre><code>@Entity\npublic class Appointment {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    @OneToOne\n    private String personId;\n\n    @ElementCollection\n    private List&lt;Date&gt; appointmentDates = new ArrayList&lt;&gt;();\n\n    @Version private Long version;\n\n    private Instant createdDate;\n\n\n    public static Appointment create(Appointment appointment) {\n        // code that creates a new appointment\n    }\n\n    public Appointment addAppointment() {\n        // code that updates your appointment\n    }\n\n}\n</code></pre>\n<p><a href=\"https://stackoverflow.com/questions/2572566/java-jpa-version-annotation\">@Version annotation</a></p>\n<p>and in your service class, you can create a new appointment\n<strong>Pseudo code</strong></p>\n<pre><code>var appointment = Appointment.create(newAppointment);\nrepository.save(appointment);\n</code></pre>\n<p>or update\n<strong>Pseudo code</strong></p>\n<pre><code>var appointmentToUpdate = repository.findById(appointmentId);\n// validation for appointment count and date\nif (createdDate.isToday() &amp;&amp; appointmentToUpdate.getAppointmentDates().size() &gt;= 3)\n  // exception\nvar updatedAppointment = appointmentToUpdate.addAppointment();\nrepository.save(updatedAppointment);\n</code></pre>\n<p>It will throw the OptimisticLockException in case another thread has modified this entity.</p>\n"},{"tags":[],"owner":{"account_id":5228097,"reputation":124,"user_id":4179474,"display_name":"Howard007"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662136026,"creation_date":1662054781,"answer_id":73573602,"question_id":73571816,"body_markdown":"***[UPDATE: &quot;As far as generating the appointment number...&quot; below]***\r\n\r\nDatabase application enforcing business rule: Limit 3 instances of entity having the same PERSON and APPOINTMENT_DATE values\r\n\r\nIf you don&#39;t mind your database being an intelligent collaborator instead of just a toxic waste dump, you might consider the following SQL-based solution (databases are good at data consistency):\r\n\r\n    CREATE TABLE APPOINTMENTS ( ID NUMBER NOT NULL PRIMARY KEY,\r\n                                PERSON VARCHAR(30) NOT NULL,\r\n                                APPOINTMENT_DATE DATE NOT NULL,\r\n                                APPOINTMENT_NUMBER NUMBER default 1 NOT NULL\r\n                              );\r\n    alter table appointment add constraint appointment_date_ck check (appointment_date = trunc(appointment_date)); -- only whole days, no hour/minute second components\r\n    alter table appointment add constraint appointment_number_ck check (appointment_number &gt;= 1 and appointment_number &lt;= 3); -- Limit 3\r\n    alter table appointment add constraint appointment_daily_limit_uk unique (upper(person), appointment_date, appointment_number); -- Enforcer\r\n\r\nIf an attempt is made to insert a row that would violate the business rule, the database will throw an exception.\r\n\r\n[UPDATE] As far as generating the appointment_number value, here is a suggestion to add to your Jpa/CrudRepository interface (drafted not tested; refinement required for handling/formatting date):\r\n\r\n      @Query( value=&quot;select COALESCE(max(APPOINTMENT_NUMBER) + 1, 1) &quot; +\r\n        &quot;      from APPOINTMENTS &quot; +\r\n        &quot;     where PERSON = :PERSON_PARAM and APPOINTMENT_DATE = :DATE_PARAM&quot;\r\n        , nativeQuery=true\r\n      )\r\n      Integer getNextAppointmentNumber(@Param(&quot;PERSON_PARAM&quot;) String person, @Param(&quot;DATE_PARAM&quot;) Date appointmentDate);\r\n    \r\n    \r\n      default Appointment saveAppointment(Appointment appointment){\r\n        boolean inserting = (appointment.getId()==null);\r\n        if (inserting) {\r\n          Appointment.setAppointmentNumber (getNextAppointmentNumber(appointment.getPerson(), appointment.getAppointmentDate())));\r\n          if (appointment.getAppointmentNumber() &gt; 3) {\r\n            throw new DailyAppointmentsExceededException(); // which define\r\n        }\r\n        return save(appointment);\r\n      }\r\n\r\nAnother alternative is to implement that same MAX+1 algorithm in an INSERT trigger on the database table.\r\nLet me know if this helps.\r\n\r\n\r\n\r\n**[UPDATE 2 IN RESPONSE TO COMMENT:]**\r\n\r\nHIGHLY unlikely that 2 users would attempt to schedule an appointment for the same person on the same day AT THE SAME INSTANT/MILLISECOND.  If they did, one would win and the other would get a unique/PK violation error. The database trigger solution would be more bullet-proof in this regard, but raises additional issues on the client/service side.  Let me know if you&#39;re interested.\r\nJust the same, to your point about refilling gaps left by deletions, try this on (final SQL syntax depending upon RDBMS):\r\n\r\n      @Query( value=&quot;select appointment_number from (&quot; +\r\n                           &quot; select 1 as appointment_number from appointments where PERSON = :PERSON_PARAM and APPOINTMENT_DATE = :DATE_PARAM and appointment_number != 1 &quot; + \r\n                           &quot; union select 2 as appointment_number from appointments where PERSON = :PERSON_PARAM and APPOINTMENT_DATE = :DATE_PARAM and appointment_number != 2 &quot; + \r\n                           &quot; union select 3 as appointment_number from appointments where PERSON = :PERSON_PARAM and APPOINTMENT_DATE = :DATE_PARAM and appointment_number != 3 &quot; +\r\n                    &quot;) LIMIT 1 order by appointment_number&quot;;\r\n        , nativeQuery=true\r\n      )\r\n      Integer getNextAppointmentNumber(@Param(&quot;PERSON_PARAM&quot;) String person, @Param(&quot;DATE_PARAM&quot;) Date appointmentDate);\r\n    \r\n      default Appointment saveAppointment(Appointment appointment){\r\n        boolean inserting = (appointment.getId()==null);\r\n        if (inserting) {\r\n          Appointment.setAppointmentNumber (getNextAppointmentNumber(appointment.getPerson(), appointment.getAppointmentDate())));\r\n          if (appointment.getAppointmentNumber() == null) {\r\n            throw new DailyAppointmentsExceededException(); // which define\r\n        }\r\n        return save(appointment);\r\n      }\r\n\r\n\r\n\r\n","title":"How to conditional database insert operation in Java Spring with Lock?","body":"<p><em><strong>[UPDATE: &quot;As far as generating the appointment number...&quot; below]</strong></em></p>\n<p>Database application enforcing business rule: Limit 3 instances of entity having the same PERSON and APPOINTMENT_DATE values</p>\n<p>If you don't mind your database being an intelligent collaborator instead of just a toxic waste dump, you might consider the following SQL-based solution (databases are good at data consistency):</p>\n<pre><code>CREATE TABLE APPOINTMENTS ( ID NUMBER NOT NULL PRIMARY KEY,\n                            PERSON VARCHAR(30) NOT NULL,\n                            APPOINTMENT_DATE DATE NOT NULL,\n                            APPOINTMENT_NUMBER NUMBER default 1 NOT NULL\n                          );\nalter table appointment add constraint appointment_date_ck check (appointment_date = trunc(appointment_date)); -- only whole days, no hour/minute second components\nalter table appointment add constraint appointment_number_ck check (appointment_number &gt;= 1 and appointment_number &lt;= 3); -- Limit 3\nalter table appointment add constraint appointment_daily_limit_uk unique (upper(person), appointment_date, appointment_number); -- Enforcer\n</code></pre>\n<p>If an attempt is made to insert a row that would violate the business rule, the database will throw an exception.</p>\n<p>[UPDATE] As far as generating the appointment_number value, here is a suggestion to add to your Jpa/CrudRepository interface (drafted not tested; refinement required for handling/formatting date):</p>\n<pre><code>  @Query( value=&quot;select COALESCE(max(APPOINTMENT_NUMBER) + 1, 1) &quot; +\n    &quot;      from APPOINTMENTS &quot; +\n    &quot;     where PERSON = :PERSON_PARAM and APPOINTMENT_DATE = :DATE_PARAM&quot;\n    , nativeQuery=true\n  )\n  Integer getNextAppointmentNumber(@Param(&quot;PERSON_PARAM&quot;) String person, @Param(&quot;DATE_PARAM&quot;) Date appointmentDate);\n\n\n  default Appointment saveAppointment(Appointment appointment){\n    boolean inserting = (appointment.getId()==null);\n    if (inserting) {\n      Appointment.setAppointmentNumber (getNextAppointmentNumber(appointment.getPerson(), appointment.getAppointmentDate())));\n      if (appointment.getAppointmentNumber() &gt; 3) {\n        throw new DailyAppointmentsExceededException(); // which define\n    }\n    return save(appointment);\n  }\n</code></pre>\n<p>Another alternative is to implement that same MAX+1 algorithm in an INSERT trigger on the database table.\nLet me know if this helps.</p>\n<p><strong>[UPDATE 2 IN RESPONSE TO COMMENT:]</strong></p>\n<p>HIGHLY unlikely that 2 users would attempt to schedule an appointment for the same person on the same day AT THE SAME INSTANT/MILLISECOND.  If they did, one would win and the other would get a unique/PK violation error. The database trigger solution would be more bullet-proof in this regard, but raises additional issues on the client/service side.  Let me know if you're interested.\nJust the same, to your point about refilling gaps left by deletions, try this on (final SQL syntax depending upon RDBMS):</p>\n<pre><code>  @Query( value=&quot;select appointment_number from (&quot; +\n                       &quot; select 1 as appointment_number from appointments where PERSON = :PERSON_PARAM and APPOINTMENT_DATE = :DATE_PARAM and appointment_number != 1 &quot; + \n                       &quot; union select 2 as appointment_number from appointments where PERSON = :PERSON_PARAM and APPOINTMENT_DATE = :DATE_PARAM and appointment_number != 2 &quot; + \n                       &quot; union select 3 as appointment_number from appointments where PERSON = :PERSON_PARAM and APPOINTMENT_DATE = :DATE_PARAM and appointment_number != 3 &quot; +\n                &quot;) LIMIT 1 order by appointment_number&quot;;\n    , nativeQuery=true\n  )\n  Integer getNextAppointmentNumber(@Param(&quot;PERSON_PARAM&quot;) String person, @Param(&quot;DATE_PARAM&quot;) Date appointmentDate);\n\n  default Appointment saveAppointment(Appointment appointment){\n    boolean inserting = (appointment.getId()==null);\n    if (inserting) {\n      Appointment.setAppointmentNumber (getNextAppointmentNumber(appointment.getPerson(), appointment.getAppointmentDate())));\n      if (appointment.getAppointmentNumber() == null) {\n        throw new DailyAppointmentsExceededException(); // which define\n    }\n    return save(appointment);\n  }\n</code></pre>\n"}],"owner":{"account_id":1810905,"reputation":462,"user_id":1646997,"display_name":"Ahmet Uur"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":696,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662136026,"creation_date":1662045482,"question_id":73571816,"body_markdown":"I am trying to conditional insert operation to database (assume SQLite). My goal is to ensure **data consistency**.\r\n\r\nSuppose we are making an **appointment planner**.\r\n\r\nSo we have an **appointments** table like this:\r\n\r\n - id\r\n   \r\n - personal\r\n   \r\n - appointment_date\r\n\r\nHowever, we have an important **rule**. A person **cannot make more than 3 appointments** in the **same day**.\r\n\r\nNormally we query from the database how many appointments this person has that day. Then we decide whether to insert or not. Right?\r\n\r\nBut let&#39;s say we have an API that gets a lot of traffic. Suppose two similar transactions started in the same millisecond and somehow the same person was given a 4th appointment. This is something we don&#39;t want.\r\n\r\nI learned that to prevent this situation, a lock operation should be applied in the database. But I couldn&#39;t understand which lock type to apply. We know that deadlock can occur in pessimistic lock. Of course, we do not want this situation.\r\n\r\nMy question is, what should I do in **Java Spring Boot** to prevent this situation?\r\n\r\nEntity:\r\n\r\n    @Entity\r\n    @AllArgsConstructor\r\n    @NoArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    public class Appointment {\r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.AUTO)\r\n        private Long id;\r\n    \r\n        private String person;\r\n    \r\n        private Date appointment_date;\r\n    \r\n    }\r\n\r\nService:\r\n\r\n    @Service\r\n    public class AppointmentService {\r\n        @Autowired\r\n        private AppointmentRepository appointmentRepository;\r\n    \r\n        public Appointment saveAppointment(Appointment appointment) {\r\n            return appointmentRepository.save(appointment);\r\n        }\r\n    }\r\n\r\nRepository:\r\n\r\n    @Repository\r\n    public interface AppointmentRepository extends JpaRepository&lt;Appointment, Long&gt; {\r\n    }\r\n\r\nController:\r\n\r\n    @RestController\r\n    public class AppointmentController {\r\n    \r\n        @Autowired\r\n        private AppointmentService appointmentService;\r\n    \r\n        @PostMapping(/store)\r\n        public Appointment store(@RequestBody Appointment appointment) {\r\n            return appointmentService.saveAppointment(appointment);\r\n        }\r\n    }\r\n\r\nThank you very much for your attention :)","title":"How to conditional database insert operation in Java Spring with Lock?","body":"<p>I am trying to conditional insert operation to database (assume SQLite). My goal is to ensure <strong>data consistency</strong>.</p>\n<p>Suppose we are making an <strong>appointment planner</strong>.</p>\n<p>So we have an <strong>appointments</strong> table like this:</p>\n<ul>\n<li><p>id</p>\n</li>\n<li><p>personal</p>\n</li>\n<li><p>appointment_date</p>\n</li>\n</ul>\n<p>However, we have an important <strong>rule</strong>. A person <strong>cannot make more than 3 appointments</strong> in the <strong>same day</strong>.</p>\n<p>Normally we query from the database how many appointments this person has that day. Then we decide whether to insert or not. Right?</p>\n<p>But let's say we have an API that gets a lot of traffic. Suppose two similar transactions started in the same millisecond and somehow the same person was given a 4th appointment. This is something we don't want.</p>\n<p>I learned that to prevent this situation, a lock operation should be applied in the database. But I couldn't understand which lock type to apply. We know that deadlock can occur in pessimistic lock. Of course, we do not want this situation.</p>\n<p>My question is, what should I do in <strong>Java Spring Boot</strong> to prevent this situation?</p>\n<p>Entity:</p>\n<pre><code>@Entity\n@AllArgsConstructor\n@NoArgsConstructor\n@Getter\n@Setter\npublic class Appointment {\n    @Id\n    @GeneratedValue(strategy = GenerationType.AUTO)\n    private Long id;\n\n    private String person;\n\n    private Date appointment_date;\n\n}\n</code></pre>\n<p>Service:</p>\n<pre><code>@Service\npublic class AppointmentService {\n    @Autowired\n    private AppointmentRepository appointmentRepository;\n\n    public Appointment saveAppointment(Appointment appointment) {\n        return appointmentRepository.save(appointment);\n    }\n}\n</code></pre>\n<p>Repository:</p>\n<pre><code>@Repository\npublic interface AppointmentRepository extends JpaRepository&lt;Appointment, Long&gt; {\n}\n</code></pre>\n<p>Controller:</p>\n<pre><code>@RestController\npublic class AppointmentController {\n\n    @Autowired\n    private AppointmentService appointmentService;\n\n    @PostMapping(/store)\n    public Appointment store(@RequestBody Appointment appointment) {\n        return appointmentService.saveAppointment(appointment);\n    }\n}\n</code></pre>\n<p>Thank you very much for your attention :)</p>\n"},{"tags":["java","cannot-find-symbol"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":2,"creation_date":1662135862,"post_id":73585504,"comment_id":129944015,"body_markdown":"Where is `size` declared?","body":"Where is <code>size</code> declared?"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1662135928,"post_id":73585504,"comment_id":129944035,"body_markdown":"Does this answer your question? [What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?](https://stackoverflow.com/questions/25706216/what-does-a-cannot-find-symbol-or-cannot-resolve-symbol-error-mean)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/25706216/what-does-a-cannot-find-symbol-or-cannot-resolve-symbol-error-mean\">What does a &quot;Cannot find symbol&quot; or &quot;Cannot resolve symbol&quot; error mean?</a>"},{"owner":{"account_id":24743156,"reputation":43,"user_id":18629654,"display_name":"CoderInNeed"},"score":0,"creation_date":1662135929,"post_id":73585504,"comment_id":129944036,"body_markdown":"Mmm I just realised, no where! Let me try fix this.","body":"Mmm I just realised, no where! Let me try fix this."},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1662136030,"post_id":73585504,"comment_id":129944069,"body_markdown":"As an aside, you&#39;re defining `PriorityQueue` as a generic class, but then you instantiate it like this: `PriorityQueue myQueue = new PriorityQueue();`. Please read [What is a raw type and why shouldn&#39;t we use it?](https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it)","body":"As an aside, you&#39;re defining <code>PriorityQueue</code> as a generic class, but then you instantiate it like this: <code>PriorityQueue myQueue = new PriorityQueue();</code>. Please read <a href=\"https://stackoverflow.com/questions/2770321/what-is-a-raw-type-and-why-shouldnt-we-use-it\">What is a raw type and why shouldn&#39;t we use it?</a>"},{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1662136163,"post_id":73585504,"comment_id":129944116,"body_markdown":"Also, before wondering why you&#39;ll get the output you&#39;ll get when printing, please read [How to use the toString method in Java?](https://stackoverflow.com/questions/3615721/how-to-use-the-tostring-method-in-java)","body":"Also, before wondering why you&#39;ll get the output you&#39;ll get when printing, please read <a href=\"https://stackoverflow.com/questions/3615721/how-to-use-the-tostring-method-in-java\">How to use the toString method in Java?</a>"},{"owner":{"account_id":654098,"reputation":644,"user_id":449392,"display_name":"gapsf"},"score":0,"creation_date":1662136167,"post_id":73585504,"comment_id":129944118,"body_markdown":"All of ensureCapacityInternal(size + 1);\n       elementData[size++] = e; not declared","body":"All of ensureCapacityInternal(size + 1);        elementData[size++] = e; not declared"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1662210941,"post_id":73585504,"comment_id":129956239,"body_markdown":"Have to say that it&#39;s a slightly odd thing to do to roll your own collection classes using those from ```java.util``` . You *do* know that ```java.util.PriorityQueue``` exists..?","body":"Have to say that it&#39;s a slightly odd thing to do to roll your own collection classes using those from <code>java.util</code> . You <i>do</i> know that <code>java.util.PriorityQueue</code> exists..?"}],"owner":{"account_id":24743156,"reputation":43,"user_id":18629654,"display_name":"CoderInNeed"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":58,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1662135933,"creation_date":1662135739,"question_id":73585504,"body_markdown":"I am trying to recreate the built in method Offer() myself to use to add items(Strings) to an existing Array List.\r\n\r\nHere is my code already:\r\n\r\n```\r\nimport java.util.ArrayList;\r\n\r\npublic class PriorityQueue&lt;item&gt; {\r\n\r\n    ArrayList&lt;String&gt; queue;\r\n\r\n    public PriorityQueue() {\r\n        this.queue = new ArrayList&lt;String&gt;();\r\n    }\r\n\r\n    public boolean offer(String item) {\r\n        //Add to queue\r\n       ensureCapacityInternal(size + 1);\r\n       elementData[size++] = e;\r\n       return true;\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        PriorityQueue myQueue = new PriorityQueue();\r\n\r\n        myQueue.offer(&quot;item1&quot;);\r\n\r\n        System.out.println(myQueue);\r\n    }\r\n}\r\n```\r\n\r\nThe issue is that when I run this I get multiple errors. The first one is:\r\n\r\n```\r\neclipse-workspace/PriorityQueue/src/PriorityQueue.java:13:32\r\njava: cannot find symbol\r\n  symbol:   variable size\r\n  location: class PriorityQueue&lt;item&gt;\r\n```\r\nThe second one is:\r\n```\r\neclipse-workspace/PriorityQueue/src/PriorityQueue.java:14:9\r\njava: cannot find symbol\r\n  symbol:   variable elementData\r\n  location: class PriorityQueue&lt;item&gt;\r\n```\r\n\r\nI keep getting these &quot;cannot find symbol&quot;. Why are they occuring and is there anything I can do to get this recreated offer/add method working?\r\n\r\nMany thanks,\r\nFrom a coding newbie.","title":"How do I recreate the Array List built in method Offer() to add a string to an existing Array List?","body":"<p>I am trying to recreate the built in method Offer() myself to use to add items(Strings) to an existing Array List.</p>\n<p>Here is my code already:</p>\n<pre><code>import java.util.ArrayList;\n\npublic class PriorityQueue&lt;item&gt; {\n\n    ArrayList&lt;String&gt; queue;\n\n    public PriorityQueue() {\n        this.queue = new ArrayList&lt;String&gt;();\n    }\n\n    public boolean offer(String item) {\n        //Add to queue\n       ensureCapacityInternal(size + 1);\n       elementData[size++] = e;\n       return true;\n    }\n\n    public static void main(String[] args) {\n        PriorityQueue myQueue = new PriorityQueue();\n\n        myQueue.offer(&quot;item1&quot;);\n\n        System.out.println(myQueue);\n    }\n}\n</code></pre>\n<p>The issue is that when I run this I get multiple errors. The first one is:</p>\n<pre><code>eclipse-workspace/PriorityQueue/src/PriorityQueue.java:13:32\njava: cannot find symbol\n  symbol:   variable size\n  location: class PriorityQueue&lt;item&gt;\n</code></pre>\n<p>The second one is:</p>\n<pre><code>eclipse-workspace/PriorityQueue/src/PriorityQueue.java:14:9\njava: cannot find symbol\n  symbol:   variable elementData\n  location: class PriorityQueue&lt;item&gt;\n</code></pre>\n<p>I keep getting these &quot;cannot find symbol&quot;. Why are they occuring and is there anything I can do to get this recreated offer/add method working?</p>\n<p>Many thanks,\nFrom a coding newbie.</p>\n"},{"tags":["java","spring","testing","mockito"],"comments":[{"owner":{"account_id":23286867,"reputation":1,"user_id":17369565,"display_name":"Stephan"},"score":0,"creation_date":1662133920,"post_id":73585117,"comment_id":129943418,"body_markdown":"I made a typo, Service should be UserService.","body":"I made a typo, Service should be UserService."}],"answers":[{"tags":[],"owner":{"account_id":4753102,"reputation":3151,"user_id":4886722,"display_name":"Dmitry Khamitov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662135916,"creation_date":1662135916,"answer_id":73585532,"question_id":73585117,"body_markdown":"I believe in your `Controller.findUserById` method you meant `ResponseEntity.of(...)` instead of `ResponseEntity.ok(...)` because `UserService.findUserById` returns `Optional&lt;User&gt;`. So assuming this is the case I can see at least two (potential) problems in your test:\r\n\r\n 1. You are asserting on two different types. The `expectedUser` is of type `User` whereas the actual user returned by `service.findUserById` is `Optional&lt;User&gt;`. They will never be equal even if the underlying value of `Optional&lt;User&gt;` is the same as `expectedUser`. I believe, the IDE should have highlighted it unless some inspections were disabled.\r\n2. Not sure if `User.equals` and `User.hashCode` are properly defined. At first glance, even when you fix the first point your `testUser` and `expectedUser` might not be equal unless those methods are based only on the `User.id` ignoring the rest of the fields such as `email`, `password`, `name`, etc.","title":"Unit Testing Spring Issues","body":"<p>I believe in your <code>Controller.findUserById</code> method you meant <code>ResponseEntity.of(...)</code> instead of <code>ResponseEntity.ok(...)</code> because <code>UserService.findUserById</code> returns <code>Optional&lt;User&gt;</code>. So assuming this is the case I can see at least two (potential) problems in your test:</p>\n<ol>\n<li>You are asserting on two different types. The <code>expectedUser</code> is of type <code>User</code> whereas the actual user returned by <code>service.findUserById</code> is <code>Optional&lt;User&gt;</code>. They will never be equal even if the underlying value of <code>Optional&lt;User&gt;</code> is the same as <code>expectedUser</code>. I believe, the IDE should have highlighted it unless some inspections were disabled.</li>\n<li>Not sure if <code>User.equals</code> and <code>User.hashCode</code> are properly defined. At first glance, even when you fix the first point your <code>testUser</code> and <code>expectedUser</code> might not be equal unless those methods are based only on the <code>User.id</code> ignoring the rest of the fields such as <code>email</code>, <code>password</code>, <code>name</code>, etc.</li>\n</ol>\n"}],"owner":{"account_id":23286867,"reputation":1,"user_id":17369565,"display_name":"Stephan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662135916,"creation_date":1662133685,"question_id":73585117,"body_markdown":"I&#39;m trying to learn how to do unit testing / mockito testing in spring with java 8 and running into some problems. I&#39;m trying to test my method findUserById but it keeps running false. Optional type issues were an issue but may have resolved those. However, it still runs false. My other tests work, so its just this one test that is being stubborn. I would appreciate your help.\r\n\r\n```\r\nUser Controller : \r\n\r\n @GetMapping(&quot;/{id}&quot;)\r\n    public ResponseEntity&lt;User&gt; findUserById(@PathVariable Integer id){\r\n        return ResponseEntity.ok(userServiceImp.findUserById(id));\r\n    }\r\n```\r\n\r\n```\r\n\r\nUserApplictionTester : \r\n\r\n\r\n  @Autowired\r\n    private Service service;\r\n\r\n   @MockBean\r\n    private Repository repo;\r\n\r\n@Test\r\n    public void exampleTest() {\r\n\r\n        User expectedUser = new User(3, &quot;example@gmail.com&quot;, &quot;password1&quot;, &quot;exampleName&quot;, &quot;USER&quot;);\r\n        User testUser = new User();\r\n        testUser.setId(3);\r\n        when(repo.findById(any())).thenReturn(Optional.of(testUser));\r\n        assertEquals(expectedUser, service.findUserById(testUser.getId()));\r\n    }\r\n\r\n```\r\n\r\n\r\n\r\n","title":"Unit Testing Spring Issues","body":"<p>I'm trying to learn how to do unit testing / mockito testing in spring with java 8 and running into some problems. I'm trying to test my method findUserById but it keeps running false. Optional type issues were an issue but may have resolved those. However, it still runs false. My other tests work, so its just this one test that is being stubborn. I would appreciate your help.</p>\n<pre><code>User Controller : \n\n @GetMapping(&quot;/{id}&quot;)\n    public ResponseEntity&lt;User&gt; findUserById(@PathVariable Integer id){\n        return ResponseEntity.ok(userServiceImp.findUserById(id));\n    }\n</code></pre>\n<pre><code>\nUserApplictionTester : \n\n\n  @Autowired\n    private Service service;\n\n   @MockBean\n    private Repository repo;\n\n@Test\n    public void exampleTest() {\n\n        User expectedUser = new User(3, &quot;example@gmail.com&quot;, &quot;password1&quot;, &quot;exampleName&quot;, &quot;USER&quot;);\n        User testUser = new User();\n        testUser.setId(3);\n        when(repo.findById(any())).thenReturn(Optional.of(testUser));\n        assertEquals(expectedUser, service.findUserById(testUser.getId()));\n    }\n\n</code></pre>\n"},{"tags":["java","algorithm","graph-theory"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1660233359,"post_id":73323578,"comment_id":129489830,"body_markdown":"Are you sure that you are providing proper method? Name of `findMaxSumPath` doesn&#39;t seem to be related to task you expect it to do.","body":"Are you sure that you are providing proper method? Name of <code>findMaxSumPath</code> doesn&#39;t seem to be related to task you expect it to do."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1660240351,"post_id":73323578,"comment_id":129492188,"body_markdown":"Isn&#39;t 1 (one) a prime number?","body":"Isn&#39;t 1 (one) a prime number?"},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1660243616,"post_id":73323578,"comment_id":129493081,"body_markdown":"@Fairytal7e You are asking two questions (1) &quot;What is wrong with my code?&quot; (2) &quot;How can I achieve this?&quot;. Note that someone may know how to create *other* solution to this problem, so answer question (2), but may not want to debut your code - so may not have answer to question (1). In such case such person may not want to post an answer because it is not complete. Consider asking [one question per post](https://meta.stackexchange.com/q/222735).","body":"@Fairytal7e You are asking two questions (1) &quot;What is wrong with my code?&quot; (2) &quot;How can I achieve this?&quot;. Note that someone may know how to create <i>other</i> solution to this problem, so answer question (2), but may not want to debut your code - so may not have answer to question (1). In such case such person may not want to post an answer because it is not complete. Consider asking <a href=\"https://meta.stackexchange.com/q/222735\">one question per post</a>."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1660243837,"post_id":73323578,"comment_id":129493154,"body_markdown":"@Abra No. We don&#39;t consider 1 as prime number. Purpose of prime numbers is to let us build single representation of any other number to form `num = a * b * c *..` where neither `a` `b` `c` can be split farther (their order doesn&#39;t matter). If 1 was considered prime then for example `12 = 2 * 2 * 3` could have other representations like `12 = 2 * 2 * 3 * 1` and `12 = 2 * 2 * 3 * 1 * 1` and so on... That is why we don&#39;t want 1 to be considered as prime number.","body":"@Abra No. We don&#39;t consider 1 as prime number. Purpose of prime numbers is to let us build single representation of any other number to form <code>num = a * b * c *..</code> where neither <code>a</code> <code>b</code> <code>c</code> can be split farther (their order doesn&#39;t matter). If 1 was considered prime then for example <code>12 = 2 * 2 * 3</code> could have other representations like <code>12 = 2 * 2 * 3 * 1</code> and <code>12 = 2 * 2 * 3 * 1 * 1</code> and so on... That is why we don&#39;t want 1 to be considered as prime number."},{"owner":{"account_id":2119809,"reputation":50937,"user_id":1883316,"display_name":"Tim Roberts"},"score":0,"creation_date":1660259919,"post_id":73323578,"comment_id":129497085,"body_markdown":"Your code is traversing the tree correctly, you&#39;re just not printing it properly.  You never print the &quot;current&quot; node, so you don&#39;t print the 1, but notice that &quot;8,6,9&quot; follows, followed by &quot;4&quot; and the two sub-paths of 4, &quot;6,9&quot; and &quot;9,9&quot;.  You just need to collect the elements along the path and only print when you get to a terminal.","body":"Your code is traversing the tree correctly, you&#39;re just not printing it properly.  You never print the &quot;current&quot; node, so you don&#39;t print the 1, but notice that &quot;8,6,9&quot; follows, followed by &quot;4&quot; and the two sub-paths of 4, &quot;6,9&quot; and &quot;9,9&quot;.  You just need to collect the elements along the path and only print when you get to a terminal."},{"owner":{"account_id":6887735,"reputation":21370,"user_id":5292302,"accept_rate":100,"display_name":"Petter Friberg"},"score":0,"creation_date":1662135760,"post_id":73323578,"comment_id":129943979,"body_markdown":"Please do not deface your post, people have taken time to answer it.","body":"Please do not deface your post, people have taken time to answer it."}],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1660287960,"creation_date":1660255888,"answer_id":73327374,"question_id":73323578,"body_markdown":"This problem can be solved by modeling the relationships between the numbers in the given array as a [*Graph*](https://en.wikipedia.org/wiki/Graph_(abstract_data_type)).\r\n\r\n***Note** that although the elements form a structure which resembles a *Binary Tree*. It&#39;s certainly **not** a tree because each node of the tree by definition [should have only one parent-node](https://en.wikipedia.org/wiki/Tree_(data_structure)#Examples_of_trees_and_non-trees), but here it&#39;s not the case (remainder: Tree - is a particularization of a Graph, which has no circles, intersections between brunches and disjointed components).*\r\n\r\n```\r\n      1 &lt;- root element\r\n     / \\   \r\n    8   4 &lt;- level\r\n   / \\ / \\\r\n  2   6   9\r\n / \\ / \\ / \\\r\n8   5   9   3\r\n```\r\n\r\nAlthough it&#39;s not a tree, for simplicity I would use terminology which is usually used to describe a tree, like **root** - which the *top vertex* (*node*) of this tree-like structure and **level** - which is a group of *vertices* (*nodes*) having the same *depth* (distance from the *root* to a *vertex*).\r\n\r\nAnd like in a *Binary Tree*, each element can be represented as a *vertex* having *left* and *right* children.\r\n\r\nTo find all *non-prime paths* in a *graph* starting from the *root*, we need to traverse over the *graph*. Each *path* would be represented as a separate `List`, i.e. every *non-prime* child of a *non-prime* vertex should spawn a *new path*. And every encountered *prime vertex* would cause the *path* that leads to it to be discarded.\r\n\r\nTo traverse the implement the *graph*, I&#39;ve implemented [*Depth first search*](https://en.wikipedia.org/wiki/Depth-first_search) algorithm using recursion (because it&#39;s relatively easier to digest).\r\n\r\nWe would have two **base cases** (conditions when recursion should terminate): \r\n* a *prime number* has been encountered, path gets invalidated;\r\n* we&#39;ve reached the last *level* and current vertex has a *non-prime* value, *current path* should be added to the *collection of paths*.\r\n\r\nAnd in case if *current vertex* has a *non-prime* value, and it doesn&#39;t belong to the last *level* (i.e. it has children), we need to fire the *depth first search* recursively for both `left` and `right` *child-vertices*. That would be the *recursive case* of the algorithm.\r\n\r\n***Note:** to avoid shifting the focus from the main goal of finding non-prime paths in the Graph to checking whether a particular value is a prime number, I&#39;ve used built-in method [`BigInteger.isProbablePrime()`](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html#isProbablePrime(int)) which expects an `int` argument ***certainty***, denoting the probability of getting correct result according to the formula &lt;b&gt;1-1/2&lt;sup&gt;certainty&lt;/sup&gt;&lt;/b&gt;. You&#39;re free to replace this check with any other logic.*\r\n\r\nImplementation might look like this:\r\n```\r\npublic class NonPrimeTriangle {\r\n    private final Vertex root;\r\n    \r\n    private NonPrimeTriangle(Vertex root) {\r\n        this.root = root;\r\n    }\r\n    \r\n    public List&lt;List&lt;Integer&gt;&gt; getNonPrimePaths() {\r\n        List&lt;List&lt;Integer&gt;&gt; paths = new ArrayList&lt;&gt;();\r\n        dfs(paths, new ArrayList&lt;&gt;(), root);\r\n        \r\n        return paths;\r\n    }\r\n    \r\n    private void dfs(List&lt;List&lt;Integer&gt;&gt; paths, List&lt;Integer&gt; path, Vertex root) {\r\n        if (BigInteger.valueOf(root.getValue()).isProbablePrime(100)) return; // base case - a prime number has been encountered, hence this path is invalidated\r\n        \r\n        path.add(root.getValue());  // vertex is proved to be non-prime and should be added to the path\r\n        \r\n        if (root.hasNoChildren()) { // base case - a non-prime path has been encountered found\r\n            paths.add(path);\r\n            return;\r\n        }\r\n        // recursive case\r\n        dfs(paths, new ArrayList&lt;&gt;(path), root.getLeft());\r\n        dfs(paths, new ArrayList&lt;&gt;(path), root.getRight());\r\n    }\r\n    \r\n    // Not a part of the Algorithm - convenience-method for parsing the given Array into a Graph\r\n    public static NonPrimeTriangle parse(int[][] arr) {\r\n        if (arr.length == 0 || arr[0].length == 0) throw new IllegalArgumentException();\r\n        \r\n        Vertex root = new Vertex(arr[0][0]);\r\n        NonPrimeTriangle triangle = new NonPrimeTriangle(root);\r\n        List&lt;Vertex&gt; prevLevel = List.of(root);\r\n        \r\n        for (int row = 1; row &lt; arr.length; row++) {\r\n            List&lt;Vertex&gt; nextLevel = new ArrayList&lt;&gt;(prevLevel.size() + 1); // next level of Vertices\r\n            for (int col = 0; col &lt; arr[row].length; col++) {\r\n                Vertex newVertex = new Vertex(arr[row][col]);\r\n                // every vertex has two parents, except for the leftmost and the rightmost which have only one and the root which has none\r\n                if (col != 0) prevLevel.get(col - 1).setRight(newVertex);\r\n                if (col != prevLevel.size()) prevLevel.get(col).setLeft(newVertex);\r\n                \r\n                nextLevel.add(newVertex); // updating the next level of Vertices\r\n            }\r\n            prevLevel = nextLevel;\r\n        }\r\n        return triangle;\r\n    }\r\n\r\n    public static class Vertex {\r\n        private final int value;\r\n        private Vertex left;\r\n        private Vertex right;\r\n    \r\n        public Vertex(int value) {\r\n            this.value = value;\r\n        }\r\n    \r\n        public boolean hasNoChildren() {\r\n            return left == null &amp;&amp; right == null;\r\n        }\r\n        \r\n        // getters &amp; setters\r\n    }\r\n}\r\n```\r\n\r\n`main()`\r\n\r\n    public static void main(String[] args) {\r\n        int[][] input = {{1}, {8, 4}, {2, 6, 9}, {8, 5, 9, 3}};\r\n        NonPrimeTriangle triangle = NonPrimeTriangle.parse(input);\r\n        \r\n        triangle.getNonPrimePaths().forEach(System.out::println);\r\n    }\r\n\r\n*Output:*\r\n\r\n```\r\n[1, 8, 6, 9]\r\n[1, 4, 6, 9]\r\n[1, 4, 9, 9]\r\n```\r\n\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/tPR)","title":"Find all Non-Prime Paths in a triangle","body":"<p>This problem can be solved by modeling the relationships between the numbers in the given array as a <a href=\"https://en.wikipedia.org/wiki/Graph_(abstract_data_type)\" rel=\"nofollow noreferrer\"><em>Graph</em></a>.</p>\n<p><em><strong>Note</strong> that although the elements form a structure which resembles a <em>Binary Tree</em>. It's certainly <strong>not</strong> a tree because each node of the tree by definition <a href=\"https://en.wikipedia.org/wiki/Tree_(data_structure)#Examples_of_trees_and_non-trees\" rel=\"nofollow noreferrer\">should have only one parent-node</a>, but here it's not the case (remainder: Tree - is a particularization of a Graph, which has no circles, intersections between brunches and disjointed components).</em></p>\n<pre><code>      1 &lt;- root element\n     / \\   \n    8   4 &lt;- level\n   / \\ / \\\n  2   6   9\n / \\ / \\ / \\\n8   5   9   3\n</code></pre>\n<p>Although it's not a tree, for simplicity I would use terminology which is usually used to describe a tree, like <strong>root</strong> - which the <em>top vertex</em> (<em>node</em>) of this tree-like structure and <strong>level</strong> - which is a group of <em>vertices</em> (<em>nodes</em>) having the same <em>depth</em> (distance from the <em>root</em> to a <em>vertex</em>).</p>\n<p>And like in a <em>Binary Tree</em>, each element can be represented as a <em>vertex</em> having <em>left</em> and <em>right</em> children.</p>\n<p>To find all <em>non-prime paths</em> in a <em>graph</em> starting from the <em>root</em>, we need to traverse over the <em>graph</em>. Each <em>path</em> would be represented as a separate <code>List</code>, i.e. every <em>non-prime</em> child of a <em>non-prime</em> vertex should spawn a <em>new path</em>. And every encountered <em>prime vertex</em> would cause the <em>path</em> that leads to it to be discarded.</p>\n<p>To traverse the implement the <em>graph</em>, I've implemented <a href=\"https://en.wikipedia.org/wiki/Depth-first_search\" rel=\"nofollow noreferrer\"><em>Depth first search</em></a> algorithm using recursion (because it's relatively easier to digest).</p>\n<p>We would have two <strong>base cases</strong> (conditions when recursion should terminate):</p>\n<ul>\n<li>a <em>prime number</em> has been encountered, path gets invalidated;</li>\n<li>we've reached the last <em>level</em> and current vertex has a <em>non-prime</em> value, <em>current path</em> should be added to the <em>collection of paths</em>.</li>\n</ul>\n<p>And in case if <em>current vertex</em> has a <em>non-prime</em> value, and it doesn't belong to the last <em>level</em> (i.e. it has children), we need to fire the <em>depth first search</em> recursively for both <code>left</code> and <code>right</code> <em>child-vertices</em>. That would be the <em>recursive case</em> of the algorithm.</p>\n<p><em><strong>Note:</strong> to avoid shifting the focus from the main goal of finding non-prime paths in the Graph to checking whether a particular value is a prime number, I've used built-in method <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/math/BigInteger.html#isProbablePrime(int)\" rel=\"nofollow noreferrer\"><code>BigInteger.isProbablePrime()</code></a> which expects an <code>int</code> argument <em><strong>certainty</strong></em>, denoting the probability of getting correct result according to the formula <b>1-1/2<sup>certainty</sup></b>. You're free to replace this check with any other logic.</em></p>\n<p>Implementation might look like this:</p>\n<pre><code>public class NonPrimeTriangle {\n    private final Vertex root;\n    \n    private NonPrimeTriangle(Vertex root) {\n        this.root = root;\n    }\n    \n    public List&lt;List&lt;Integer&gt;&gt; getNonPrimePaths() {\n        List&lt;List&lt;Integer&gt;&gt; paths = new ArrayList&lt;&gt;();\n        dfs(paths, new ArrayList&lt;&gt;(), root);\n        \n        return paths;\n    }\n    \n    private void dfs(List&lt;List&lt;Integer&gt;&gt; paths, List&lt;Integer&gt; path, Vertex root) {\n        if (BigInteger.valueOf(root.getValue()).isProbablePrime(100)) return; // base case - a prime number has been encountered, hence this path is invalidated\n        \n        path.add(root.getValue());  // vertex is proved to be non-prime and should be added to the path\n        \n        if (root.hasNoChildren()) { // base case - a non-prime path has been encountered found\n            paths.add(path);\n            return;\n        }\n        // recursive case\n        dfs(paths, new ArrayList&lt;&gt;(path), root.getLeft());\n        dfs(paths, new ArrayList&lt;&gt;(path), root.getRight());\n    }\n    \n    // Not a part of the Algorithm - convenience-method for parsing the given Array into a Graph\n    public static NonPrimeTriangle parse(int[][] arr) {\n        if (arr.length == 0 || arr[0].length == 0) throw new IllegalArgumentException();\n        \n        Vertex root = new Vertex(arr[0][0]);\n        NonPrimeTriangle triangle = new NonPrimeTriangle(root);\n        List&lt;Vertex&gt; prevLevel = List.of(root);\n        \n        for (int row = 1; row &lt; arr.length; row++) {\n            List&lt;Vertex&gt; nextLevel = new ArrayList&lt;&gt;(prevLevel.size() + 1); // next level of Vertices\n            for (int col = 0; col &lt; arr[row].length; col++) {\n                Vertex newVertex = new Vertex(arr[row][col]);\n                // every vertex has two parents, except for the leftmost and the rightmost which have only one and the root which has none\n                if (col != 0) prevLevel.get(col - 1).setRight(newVertex);\n                if (col != prevLevel.size()) prevLevel.get(col).setLeft(newVertex);\n                \n                nextLevel.add(newVertex); // updating the next level of Vertices\n            }\n            prevLevel = nextLevel;\n        }\n        return triangle;\n    }\n\n    public static class Vertex {\n        private final int value;\n        private Vertex left;\n        private Vertex right;\n    \n        public Vertex(int value) {\n            this.value = value;\n        }\n    \n        public boolean hasNoChildren() {\n            return left == null &amp;&amp; right == null;\n        }\n        \n        // getters &amp; setters\n    }\n}\n</code></pre>\n<p><code>main()</code></p>\n<pre><code>public static void main(String[] args) {\n    int[][] input = {{1}, {8, 4}, {2, 6, 9}, {8, 5, 9, 3}};\n    NonPrimeTriangle triangle = NonPrimeTriangle.parse(input);\n    \n    triangle.getNonPrimePaths().forEach(System.out::println);\n}\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>[1, 8, 6, 9]\n[1, 4, 6, 9]\n[1, 4, 9, 9]\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/tPR\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"},{"tags":[],"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1660305093,"creation_date":1660304632,"answer_id":73333628,"question_id":73323578,"body_markdown":"Alternative approach (don&#39;t miss comments in code):\r\n\r\n    private static void traverseNonPrimalAndPrintPaths(int row, int col, int[][] arr, String curPath){\r\n        int curNum = arr[row][col];\r\n        if (!isPrime(curNum)) {//we only want to handle non-prime values\r\n\r\n            //lets add value we are in to current path\r\n            if (row == 0){//first value shouldn&#39;t have &quot;-&quot; before it\r\n                curPath = String.valueOf(curNum);\r\n            } else {//later values need to also add &quot;-&quot; before them in path\r\n                curPath = curPath + &quot;-&quot; + curNum;\r\n            }\r\n\r\n            //If there are rows below check left and right &quot;node&quot; below current node\r\n            if (row &lt; arr.length-1){//we are NOT in last row\r\n                traverseNonPrimalAndPrintPaths(row+1, col, arr, curPath);//check left node\r\n                traverseNonPrimalAndPrintPaths(row+1, col+1, arr, curPath);//check right node\r\n            } else {//here we know there are no more rows.\r\n                //So we all we need to do is print path we took to get here.\r\n                System.out.println(curPath);\r\n            }\r\n        }\r\n    }\r\n\r\n   \r\nDemo:\r\n\r\n    int[][] input1 = {{1}, {8, 4}, {2, 6, 9}, {8, 5, 9, 3}};\r\n    traverseNonPrimalAndPrintPaths(0, 0, input1,&quot;&quot;);\r\n\r\nOutput:\r\n\r\n    1-8-6-9\r\n    1-4-6-9\r\n    1-4-9-9\r\n\r\n","title":"Find all Non-Prime Paths in a triangle","body":"<p>Alternative approach (don't miss comments in code):</p>\n<pre><code>private static void traverseNonPrimalAndPrintPaths(int row, int col, int[][] arr, String curPath){\n    int curNum = arr[row][col];\n    if (!isPrime(curNum)) {//we only want to handle non-prime values\n\n        //lets add value we are in to current path\n        if (row == 0){//first value shouldn't have &quot;-&quot; before it\n            curPath = String.valueOf(curNum);\n        } else {//later values need to also add &quot;-&quot; before them in path\n            curPath = curPath + &quot;-&quot; + curNum;\n        }\n\n        //If there are rows below check left and right &quot;node&quot; below current node\n        if (row &lt; arr.length-1){//we are NOT in last row\n            traverseNonPrimalAndPrintPaths(row+1, col, arr, curPath);//check left node\n            traverseNonPrimalAndPrintPaths(row+1, col+1, arr, curPath);//check right node\n        } else {//here we know there are no more rows.\n            //So we all we need to do is print path we took to get here.\n            System.out.println(curPath);\n        }\n    }\n}\n</code></pre>\n<p>Demo:</p>\n<pre><code>int[][] input1 = {{1}, {8, 4}, {2, 6, 9}, {8, 5, 9, 3}};\ntraverseNonPrimalAndPrintPaths(0, 0, input1,&quot;&quot;);\n</code></pre>\n<p>Output:</p>\n<pre><code>1-8-6-9\n1-4-6-9\n1-4-9-9\n</code></pre>\n"}],"owner":{"account_id":14106147,"reputation":11,"user_id":17704218,"display_name":"Fairytal7e"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662135731,"creation_date":1660232972,"question_id":73323578,"body_markdown":"I&#39;m trying to find routes that do not contain prime numbers in a triangle of integers leading from top to bottom.\r\n\r\nWhat is wrong with my code?\r\n\r\n\r\nFor example (`int[][] input = {{1}, {8, 4}, {2, 6, 9}, {8, 5, 9, 3}}`),\r\n\r\n```\r\n   1    \r\n  8 4\r\n 2 6 9\r\n8 5 9 3\r\n```\r\n\r\nThis triangle has three paths that meet these criteria:\r\n```\r\n1 - 8 - 6 - 9  \r\n1 - 4 - 6 - 9  \r\n1 - 4 - 9 - 9\r\n```\r\nHow can I achieve this?\r\n\r\n*My code:*\r\n\r\n    private static void findPaths(int x, int y, int input[][])\r\n    {\r\n       if(x &lt; input.length - 1)\r\n       {\r\n\t     if(!isPrime(input[x + 1][y]) &amp; !isPrime(input[x + 1][y + 1]))\r\n\t     {\r\n\t         System.out.println(input[x + 1][y]);\r\n\t\t     findPaths(x + 1, y, input);\r\n\t\t    \t\r\n\t\t     System.out.println(input[x + 1][y + 1]);\r\n\t\t     findPaths(x + 1, y + 1, input);\r\n\t     }\r\n\t     else if(!isPrime(input[x + 1][y]))\r\n\t     {\r\n\t\t     System.out.println(input[x + 1][y]);\r\n\t\t     findPaths(x + 1, y, input);\r\n\t     }\r\n\t     else if(!isPrime(input[x + 1][y + 1]))\r\n\t     {\r\n\t    \t System.out.println(input[x + 1][y + 1]);\r\n\t    \t findPaths(x + 1, y + 1, input);\r\n\t     }\r\n       }\r\n    }\r\n\r\n    public static boolean isPrime(int num)\r\n    {\r\n\t  if (num &lt;= 1) {return false;}\r\n\r\n\t  for (int i = 2; i * i &lt;= num; i++)\r\n\t  {\r\n\t\t if ((num % i) == 0) {return false;}\r\n\t  }\r\n\t  return true;\r\n    }\r\n\r\nResults for `findPaths(0, 0, input)` (array `input` initialized as shown above):\r\n\r\n```\r\n8\r\n6\r\n9\r\n4\r\n6\r\n9\r\n9\r\n9\r\n```\r\n","title":"Find all Non-Prime Paths in a triangle","body":"<p>I'm trying to find routes that do not contain prime numbers in a triangle of integers leading from top to bottom.</p>\n<p>What is wrong with my code?</p>\n<p>For example (<code>int[][] input = {{1}, {8, 4}, {2, 6, 9}, {8, 5, 9, 3}}</code>),</p>\n<pre><code>   1    \n  8 4\n 2 6 9\n8 5 9 3\n</code></pre>\n<p>This triangle has three paths that meet these criteria:</p>\n<pre><code>1 - 8 - 6 - 9  \n1 - 4 - 6 - 9  \n1 - 4 - 9 - 9\n</code></pre>\n<p>How can I achieve this?</p>\n<p><em>My code:</em></p>\n<pre><code>private static void findPaths(int x, int y, int input[][])\n{\n   if(x &lt; input.length - 1)\n   {\n     if(!isPrime(input[x + 1][y]) &amp; !isPrime(input[x + 1][y + 1]))\n     {\n         System.out.println(input[x + 1][y]);\n         findPaths(x + 1, y, input);\n            \n         System.out.println(input[x + 1][y + 1]);\n         findPaths(x + 1, y + 1, input);\n     }\n     else if(!isPrime(input[x + 1][y]))\n     {\n         System.out.println(input[x + 1][y]);\n         findPaths(x + 1, y, input);\n     }\n     else if(!isPrime(input[x + 1][y + 1]))\n     {\n         System.out.println(input[x + 1][y + 1]);\n         findPaths(x + 1, y + 1, input);\n     }\n   }\n}\n\npublic static boolean isPrime(int num)\n{\n  if (num &lt;= 1) {return false;}\n\n  for (int i = 2; i * i &lt;= num; i++)\n  {\n     if ((num % i) == 0) {return false;}\n  }\n  return true;\n}\n</code></pre>\n<p>Results for <code>findPaths(0, 0, input)</code> (array <code>input</code> initialized as shown above):</p>\n<pre><code>8\n6\n9\n4\n6\n9\n9\n9\n</code></pre>\n"},{"tags":["java","node.js","maven","npm","jhipster"],"comments":[{"owner":{"account_id":26203346,"reputation":1,"user_id":19883328,"display_name":"Ramesh Pandey"},"score":0,"creation_date":1661908867,"post_id":73549948,"comment_id":129882012,"body_markdown":"I have some more details from the CLI Screen","body":"I have some more details from the CLI Screen"},{"owner":{"account_id":26203346,"reputation":1,"user_id":19883328,"display_name":"Ramesh Pandey"},"score":0,"creation_date":1661909023,"post_id":73549948,"comment_id":129882041,"body_markdown":"ERROR! Command failed with exit code 4294963238: npm run clean-www\nError: Command failed with exit code 4294963238: npm run clean-www","body":"ERROR! Command failed with exit code 4294963238: npm run clean-www Error: Command failed with exit code 4294963238: npm run clean-www"}],"answers":[{"tags":[],"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661927435,"creation_date":1661927435,"answer_id":73551706,"question_id":73549948,"body_markdown":"This is a known issue, try removing `.nmprc` file. \r\n\r\nSee https://github.com/jhipster/generator-jhipster/issues/19294  \r\n\r\nThe objective of the local Node installation by [frontend-maven-plugin][1] is to isolate your build environment from your PC installation, it provides you with build consistency and lets you easily isolate different projects that may require different versions of Node. It makes it easier to build a continuous integration environment that does not require pre-installation of Node.\r\n\r\n\r\n  [1]: https://github.com/eirslett/frontend-maven-plugin","title":"Jhipster - Installation issues with latest version","body":"<p>This is a known issue, try removing <code>.nmprc</code> file.</p>\n<p>See <a href=\"https://github.com/jhipster/generator-jhipster/issues/19294\" rel=\"nofollow noreferrer\">https://github.com/jhipster/generator-jhipster/issues/19294</a></p>\n<p>The objective of the local Node installation by <a href=\"https://github.com/eirslett/frontend-maven-plugin\" rel=\"nofollow noreferrer\">frontend-maven-plugin</a> is to isolate your build environment from your PC installation, it provides you with build consistency and lets you easily isolate different projects that may require different versions of Node. It makes it easier to build a continuous integration environment that does not require pre-installation of Node.</p>\n"},{"tags":[],"owner":{"account_id":26203346,"reputation":1,"user_id":19883328,"display_name":"Ramesh Pandey"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662135657,"creation_date":1662135657,"answer_id":73585494,"question_id":73549948,"body_markdown":"A few things helped\r\n\r\n1) I found I had two jHipster version installed so I removed any local copies of it\r\n\r\n2) I removed global hipster and installed the latest version\r\n\r\nBoth of these steps (or may be the step 2) helped me get rid of  npm run clean-www Error","title":"Jhipster - Installation issues with latest version","body":"<p>A few things helped</p>\n<ol>\n<li><p>I found I had two jHipster version installed so I removed any local copies of it</p>\n</li>\n<li><p>I removed global hipster and installed the latest version</p>\n</li>\n</ol>\n<p>Both of these steps (or may be the step 2) helped me get rid of  npm run clean-www Error</p>\n"}],"owner":{"account_id":26203346,"reputation":1,"user_id":19883328,"display_name":"Ramesh Pandey"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":496,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73585494,"answer_count":2,"score":0,"last_activity_date":1662135657,"creation_date":1661908710,"question_id":73549948,"body_markdown":"I have a problem working with jhipster\r\nMy installation of java, and node worked fine.\r\nAlso installed the hipster fine. Now when I work on a project. I see a npm error\r\nI have attached the log file\r\n\r\n&lt;pre&gt;\r\n0 verbose cli C:\\Program Files\\nodejs\\node.exe C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\r\n1 info using npm@8.15.0\r\n2 info using node@v16.17.0\r\n3 timing npm:load:whichnode Completed in 0ms\r\n4 timing config:load:defaults Completed in 2ms\r\n5 timing config:load:file:C:\\Program Files\\nodejs\\node_modules\\npm\\npmrc Completed in 2ms\r\n6 timing config:load:builtin Completed in 3ms\r\n7 timing config:load:cli Completed in 2ms\r\n8 timing config:load:env Completed in 1ms\r\n9 timing config:load:file:C:\\Projects\\jhip1\\cplan\\.npmrc Completed in 1ms\r\n10 timing config:load:project Completed in 3ms\r\n11 timing config:load:file:C:\\Users\\MyPC\\.npmrc Completed in 0ms\r\n12 timing config:load:user Completed in 1ms\r\n13 timing config:load:file:C:\\Users\\MyPC\\AppData\\Roaming\\npm\\etc\\npmrc Completed in 0ms\r\n14 timing config:load:global Completed in 0ms\r\n15 timing config:load:validate Completed in 1ms\r\n16 timing config:load:credentials Completed in 1ms\r\n17 timing config:load:setEnvs Completed in 1ms\r\n18 timing config:load Completed in 15ms\r\n19 timing npm:load:configload Completed in 15ms\r\n20 timing npm:load:mkdirpcache Completed in 1ms\r\n21 timing npm:load:mkdirplogs Completed in 0ms\r\n22 verbose title npm run clean-www\r\n23 verbose argv &quot;run&quot; &quot;clean-www&quot;\r\n24 timing npm:load:setTitle Completed in 2ms\r\n25 timing config:load:flatten Completed in 3ms\r\n26 timing npm:load:display Completed in 5ms\r\n27 verbose logfile logs-max:10 dir:C:\\Users\\MyPC\\AppData\\Local\\npm-cache\\_logs\r\n28 verbose logfile C:\\Users\\MyPC\\AppData\\Local\\npm-cache\\_logs\\2022-08-31T00_33_10_177Z-debug-0.log\r\n29 timing npm:load:logFile Completed in 8ms\r\n30 timing npm:load:timers Completed in 1ms\r\n31 timing npm:load:configScope Completed in 0ms\r\n32 timing npm:load Completed in 33ms\r\n33 silly logfile start cleaning logs, removing 2 files\r\n34 timing command:run Completed in 20ms\r\n35 verbose stack Error: spawn bash ENOENT\r\n35 verbose stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:283:19)\r\n35 verbose stack     at onErrorNT (node:internal/child_process:478:16)\r\n35 verbose stack     at processTicksAndRejections (node:internal/process/task_queues:83:21)\r\n36 verbose pkgid cplan@0.0.1-SNAPSHOT\r\n37 verbose cwd C:\\Projects\\jhip1\\cplan\r\n38 verbose Windows_NT 10.0.19043\r\n39 verbose node v16.17.0\r\n40 verbose npm  v8.15.0\r\n41 error code ENOENT\r\n42 error syscall spawn bash\r\n43 error path C:\\Projects\\jhip1\\cplan\r\n44 error errno -4058\r\n45 error enoent spawn bash ENOENT\r\n46 error enoent This is related to npm not being able to find a file.\r\n46 error enoent\r\n47 verbose exit -4058\r\n48 timing npm Completed in 78ms\r\n49 verbose code -4058\r\n50 error A complete log of this run can be found in:\r\n50 error     C:\\Users\\MyPC\\AppData\\Local\\npm-cache\\_logs\\2022-08-31T00_33_10_177Z-debug-0.log\r\n\r\n&lt;/pre&gt;\r\n\r\nThese are my env setting, which I see mismatched when I look at the log and what I don&#39;t understand is why node is installed again, when I already have it in my machine\r\n\r\n&lt;pre&gt;\r\nC:\\Projects\\jhip1\\cplan&gt;where mvn\r\nINFO: Could not find files for the given pattern(s).\r\n\r\nC:\\Projects\\jhip1\\cplan&gt;where npm\r\nC:\\Program Files\\nodejs\\npm\r\nC:\\Program Files\\nodejs\\npm.cmd\r\n\r\nC:\\Projects\\jhip1\\cplan&gt;where node\r\nC:\\Program Files\\nodejs\\node.exe\r\n\r\nC:\\Projects\\jhip1\\cplan&gt;where java\r\nC:\\Program Files\\Eclipse Adoptium\\jdk-11.0.16.101-hotspot\\bin\\java.exe\r\n\r\nC:\\Projects\\jhip1\\cplan&gt;echo %JAVA_HOME%\r\nC:\\Program Files\\Eclipse Adoptium\\jdk-11.0.16.101-hotspot\r\n\r\nC:\\Projects\\jhip1\\cplan&gt;\r\nC:\\Projects\\jhip1\\cplan&gt;node -v\r\nv16.17.0\r\n\r\nC:\\Projects\\jhip1\\cplan&gt;java -version\r\nopenjdk version &quot;11.0.16.1&quot; 2022-08-12\r\nOpenJDK Runtime Environment Temurin-11.0.16.1+1 (build 11.0.16.1+1)\r\nOpenJDK 64-Bit Server VM Temurin-11.0.16.1+1 (build 11.0.16.1+1, mixed mode)\r\n\r\nC:\\Projects\\jhip1\\cplan&gt;npm --v\r\n8.15.0\r\n\r\nC:\\Projects\\jhip1\\cplan&gt;jhipster --version\r\nINFO! Using bundled JHipster\r\n7.9.2\r\n\r\n&lt;/pre&gt;\r\n\r\nI have had this problem fthe or last 8 hours , so I had cleaned the npm cache and manually deleted the directory as well using npm cache clean and manually deleted \r\n    C:\\Users\\MyPC\\AppData\\Local\\npm-cache\r\n\r\nI also deleted the following directory to clean it all from \r\n    Users/MyPC/.m2/repository\r\n\r\n\r\n","title":"Jhipster - Installation issues with latest version","body":"<p>I have a problem working with jhipster\nMy installation of java, and node worked fine.\nAlso installed the hipster fine. Now when I work on a project. I see a npm error\nI have attached the log file</p>\n<pre>\n0 verbose cli C:\\Program Files\\nodejs\\node.exe C:\\Program Files\\nodejs\\node_modules\\npm\\bin\\npm-cli.js\n1 info using npm@8.15.0\n2 info using node@v16.17.0\n3 timing npm:load:whichnode Completed in 0ms\n4 timing config:load:defaults Completed in 2ms\n5 timing config:load:file:C:\\Program Files\\nodejs\\node_modules\\npm\\npmrc Completed in 2ms\n6 timing config:load:builtin Completed in 3ms\n7 timing config:load:cli Completed in 2ms\n8 timing config:load:env Completed in 1ms\n9 timing config:load:file:C:\\Projects\\jhip1\\cplan\\.npmrc Completed in 1ms\n10 timing config:load:project Completed in 3ms\n11 timing config:load:file:C:\\Users\\MyPC\\.npmrc Completed in 0ms\n12 timing config:load:user Completed in 1ms\n13 timing config:load:file:C:\\Users\\MyPC\\AppData\\Roaming\\npm\\etc\\npmrc Completed in 0ms\n14 timing config:load:global Completed in 0ms\n15 timing config:load:validate Completed in 1ms\n16 timing config:load:credentials Completed in 1ms\n17 timing config:load:setEnvs Completed in 1ms\n18 timing config:load Completed in 15ms\n19 timing npm:load:configload Completed in 15ms\n20 timing npm:load:mkdirpcache Completed in 1ms\n21 timing npm:load:mkdirplogs Completed in 0ms\n22 verbose title npm run clean-www\n23 verbose argv \"run\" \"clean-www\"\n24 timing npm:load:setTitle Completed in 2ms\n25 timing config:load:flatten Completed in 3ms\n26 timing npm:load:display Completed in 5ms\n27 verbose logfile logs-max:10 dir:C:\\Users\\MyPC\\AppData\\Local\\npm-cache\\_logs\n28 verbose logfile C:\\Users\\MyPC\\AppData\\Local\\npm-cache\\_logs\\2022-08-31T00_33_10_177Z-debug-0.log\n29 timing npm:load:logFile Completed in 8ms\n30 timing npm:load:timers Completed in 1ms\n31 timing npm:load:configScope Completed in 0ms\n32 timing npm:load Completed in 33ms\n33 silly logfile start cleaning logs, removing 2 files\n34 timing command:run Completed in 20ms\n35 verbose stack Error: spawn bash ENOENT\n35 verbose stack     at Process.ChildProcess._handle.onexit (node:internal/child_process:283:19)\n35 verbose stack     at onErrorNT (node:internal/child_process:478:16)\n35 verbose stack     at processTicksAndRejections (node:internal/process/task_queues:83:21)\n36 verbose pkgid cplan@0.0.1-SNAPSHOT\n37 verbose cwd C:\\Projects\\jhip1\\cplan\n38 verbose Windows_NT 10.0.19043\n39 verbose node v16.17.0\n40 verbose npm  v8.15.0\n41 error code ENOENT\n42 error syscall spawn bash\n43 error path C:\\Projects\\jhip1\\cplan\n44 error errno -4058\n45 error enoent spawn bash ENOENT\n46 error enoent This is related to npm not being able to find a file.\n46 error enoent\n47 verbose exit -4058\n48 timing npm Completed in 78ms\n49 verbose code -4058\n50 error A complete log of this run can be found in:\n50 error     C:\\Users\\MyPC\\AppData\\Local\\npm-cache\\_logs\\2022-08-31T00_33_10_177Z-debug-0.log\n\n</pre>\n<p>These are my env setting, which I see mismatched when I look at the log and what I don't understand is why node is installed again, when I already have it in my machine</p>\n<pre>\nC:\\Projects\\jhip1\\cplan>where mvn\nINFO: Could not find files for the given pattern(s).\n\nC:\\Projects\\jhip1\\cplan>where npm\nC:\\Program Files\\nodejs\\npm\nC:\\Program Files\\nodejs\\npm.cmd\n\nC:\\Projects\\jhip1\\cplan>where node\nC:\\Program Files\\nodejs\\node.exe\n\nC:\\Projects\\jhip1\\cplan>where java\nC:\\Program Files\\Eclipse Adoptium\\jdk-11.0.16.101-hotspot\\bin\\java.exe\n\nC:\\Projects\\jhip1\\cplan>echo %JAVA_HOME%\nC:\\Program Files\\Eclipse Adoptium\\jdk-11.0.16.101-hotspot\n\nC:\\Projects\\jhip1\\cplan>\nC:\\Projects\\jhip1\\cplan>node -v\nv16.17.0\n\nC:\\Projects\\jhip1\\cplan>java -version\nopenjdk version \"11.0.16.1\" 2022-08-12\nOpenJDK Runtime Environment Temurin-11.0.16.1+1 (build 11.0.16.1+1)\nOpenJDK 64-Bit Server VM Temurin-11.0.16.1+1 (build 11.0.16.1+1, mixed mode)\n\nC:\\Projects\\jhip1\\cplan>npm --v\n8.15.0\n\nC:\\Projects\\jhip1\\cplan>jhipster --version\nINFO! Using bundled JHipster\n7.9.2\n\n</pre>\n<p>I have had this problem fthe or last 8 hours , so I had cleaned the npm cache and manually deleted the directory as well using npm cache clean and manually deleted\nC:\\Users\\MyPC\\AppData\\Local\\npm-cache</p>\n<p>I also deleted the following directory to clean it all from\nUsers/MyPC/.m2/repository</p>\n"},{"tags":["java","interface"],"comments":[{"owner":{"account_id":2734060,"reputation":263882,"user_id":2357112,"accept_rate":26,"display_name":"user2357112"},"score":3,"creation_date":1662135424,"post_id":73585404,"comment_id":129943868,"body_markdown":"You don&#39;t have to *be* a phone to *have* a phone.","body":"You don&#39;t have to <i>be</i> a phone to <i>have</i> a phone."},{"owner":{"account_id":1352170,"reputation":34246,"user_id":1291492,"accept_rate":100,"display_name":"ControlAltDel"},"score":0,"creation_date":1662135847,"post_id":73585404,"comment_id":129944005,"body_markdown":"You are confused because this example is confusing! If your `LightningToMicroUsbAdapter` was just a `Person` class (without an interface) It would be easier to understand how Person could call the methods of ILightningPhone on the ILightingPhone","body":"You are confused because this example is confusing! If your <code>LightningToMicroUsbAdapter</code> was just a <code>Person</code> class (without an interface) It would be easier to understand how Person could call the methods of ILightningPhone on the ILightingPhone"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1662135856,"post_id":73585404,"comment_id":129944010,"body_markdown":"You may want to revisit the basics of Java. I&#39;m not sure what thinking process can even lead to a theory that a type that doesn&#39;t implement X cannot have fields of type X or call methods on that field. Composition is one of the fundamentals of object oriented programming.","body":"You may want to revisit the basics of Java. I&#39;m not sure what thinking process can even lead to a theory that a type that doesn&#39;t implement X cannot have fields of type X or call methods on that field. Composition is one of the fundamentals of object oriented programming."},{"owner":{"account_id":1937019,"reputation":4428,"user_id":1744230,"accept_rate":100,"display_name":"QBrute"},"score":0,"creation_date":1662136881,"post_id":73585404,"comment_id":129944319,"body_markdown":"Think about if you swapped `private final ILightningPhone lightningPhone;` with `private final String s;`. You can still call `s.length()` even though `LightningToMicroUsbAdapter ` doesn&#39;t implement `CharSequence`","body":"Think about if you swapped <code>private final ILightningPhone lightningPhone;</code> with <code>private final String s;</code>. You can still call <code>s.length()</code> even though <code>LightningToMicroUsbAdapter </code> doesn&#39;t implement <code>CharSequence</code>"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299858,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662135433,"creation_date":1662135433,"answer_id":73585451,"question_id":73585404,"body_markdown":"The `LightningToMicroUsbAdapter` class (or any class for that matter) can have any type of member - be it a `String`, a `List`, or even a `ILightningPhone`. Having a members is a &quot;hasA&quot; relationship, not an &quot;isA&quot; relationship. \r\n\r\nSince the `lightningPhone` **is** an instance of `ILightningPhone`, it can call the `useLightning` method defined by that interface.","title":"Can interface type variable call methods from that interface in a class that doesnt implement it?","body":"<p>The <code>LightningToMicroUsbAdapter</code> class (or any class for that matter) can have any type of member - be it a <code>String</code>, a <code>List</code>, or even a <code>ILightningPhone</code>. Having a members is a &quot;hasA&quot; relationship, not an &quot;isA&quot; relationship.</p>\n<p>Since the <code>lightningPhone</code> <strong>is</strong> an instance of <code>ILightningPhone</code>, it can call the <code>useLightning</code> method defined by that interface.</p>\n"}],"owner":{"account_id":26229137,"reputation":13,"user_id":19905415,"display_name":"js468718"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":35,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662135598,"creation_date":1662135239,"question_id":73585404,"body_markdown":"I&#39;m trying to understand this just for my own knowledge. Here is a broken down version of my code: \r\n\r\n```java\r\ninterface ILightningPhone {\r\n    void recharge();\r\n    void useLightning();\r\n}\r\n\r\ninterface IMicroUsbPhone {\r\n    void recharge();\r\n    void useMicroUsb();\r\n}\r\n\r\nclass LightningToMicroUsbAdapter implements IMicroUsbPhone {\r\n    private final ILightningPhone lightningPhone;\r\n\r\n    public LightningToMicroUsbAdapter(ILightningPhone lightningPhone) {\r\n        this.lightningPhone = lightningPhone;\r\n    }\r\n\r\n    @Override\r\n    public void useMicroUsb() {\r\n        System.out.println(&quot;MicroUsb connected&quot;);\r\n        lightningPhone.useLightning();\r\n    }\r\n\r\n    @Override\r\n    public void recharge() {\r\n        lightningPhone.recharge();\r\n    }\r\n}\r\n```\r\n\r\nI&#39;m trying to understand interfaces and I just need an explanation on the following:\r\n1. I notice that a variable ```private final ILightningPhone lightningPhone;``` is declared within a class of type ```ILightningPhone``` interface. but this class doesn&#39;t implement that interface. How is it able to do this? \r\n2. Next I notice that in the following method:\r\n\r\n    ```\r\n    public void useMicroUsb() {\r\n        System.out.println(&quot;MicroUsb connected&quot;);\r\n        lightningPhone.useLightning(); \r\n    ``` \r\n \r\n    the variable `lightningPhone` is able to call the ```useLightning()``` method from the ```ILightningPhone``` interface. Even though the ```ILightningPhone``` interface is not implemented in the class ```LightningToMicroUsbAdapter```. Why is it able to do this? \r\n\r\nOverall, I&#39;m just trying to understand why we are able to create a variable of a interface type in a class that doesn&#39;t implement that interface? And why when declaring that variable of that interface type are we able to use the methods from that interface in a class that doesn&#39;t implement that interface? \r\n\r\nHere is the full code if needed: https://en.wikipedia.org/wiki/Adapter_pattern","title":"Can interface type variable call methods from that interface in a class that doesnt implement it?","body":"<p>I'm trying to understand this just for my own knowledge. Here is a broken down version of my code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface ILightningPhone {\n    void recharge();\n    void useLightning();\n}\n\ninterface IMicroUsbPhone {\n    void recharge();\n    void useMicroUsb();\n}\n\nclass LightningToMicroUsbAdapter implements IMicroUsbPhone {\n    private final ILightningPhone lightningPhone;\n\n    public LightningToMicroUsbAdapter(ILightningPhone lightningPhone) {\n        this.lightningPhone = lightningPhone;\n    }\n\n    @Override\n    public void useMicroUsb() {\n        System.out.println(&quot;MicroUsb connected&quot;);\n        lightningPhone.useLightning();\n    }\n\n    @Override\n    public void recharge() {\n        lightningPhone.recharge();\n    }\n}\n</code></pre>\n<p>I'm trying to understand interfaces and I just need an explanation on the following:</p>\n<ol>\n<li><p>I notice that a variable <code>private final ILightningPhone lightningPhone;</code> is declared within a class of type <code>ILightningPhone</code> interface. but this class doesn't implement that interface. How is it able to do this?</p>\n</li>\n<li><p>Next I notice that in the following method:</p>\n<pre><code>public void useMicroUsb() {\n    System.out.println(&quot;MicroUsb connected&quot;);\n    lightningPhone.useLightning(); \n</code></pre>\n<p>the variable <code>lightningPhone</code> is able to call the <code>useLightning()</code> method from the <code>ILightningPhone</code> interface. Even though the <code>ILightningPhone</code> interface is not implemented in the class <code>LightningToMicroUsbAdapter</code>. Why is it able to do this?</p>\n</li>\n</ol>\n<p>Overall, I'm just trying to understand why we are able to create a variable of a interface type in a class that doesn't implement that interface? And why when declaring that variable of that interface type are we able to use the methods from that interface in a class that doesn't implement that interface?</p>\n<p>Here is the full code if needed: <a href=\"https://en.wikipedia.org/wiki/Adapter_pattern\" rel=\"nofollow noreferrer\">https://en.wikipedia.org/wiki/Adapter_pattern</a></p>\n"},{"tags":["java","android","android-studio",".so","libs"],"comments":[{"owner":{"account_id":21626683,"reputation":1061,"user_id":15950932,"display_name":"Ankit Kumar Maurya"},"score":0,"creation_date":1662186695,"post_id":73580901,"comment_id":129952221,"body_markdown":"you can specify the rule to keep the files from being shrinked because you have enabled the proguard shrinking","body":"you can specify the rule to keep the files from being shrinked because you have enabled the proguard shrinking"}],"answers":[{"tags":[],"owner":{"account_id":24185627,"reputation":157,"user_id":18145581,"display_name":"Anubis94"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662135470,"creation_date":1662135470,"answer_id":73585459,"question_id":73580901,"body_markdown":"You just not linked the lib folder to your app **App (build.gradle)**. And also you have to add this line ```android:extractNativeLibs=&quot;true&quot;``` to your **AndroidManifest.xml**\r\n\r\nYou can do it following like this.\r\n\r\n 1. First add this to your **AndroidManifest.xml**\r\n\r\n```\r\nandroid:extractNativeLibs=&quot;true&quot;\r\n```\r\n\r\n 2. Link the lib folder to your **App (build.gradle)**\r\n\r\n```\r\nandroid {\r\n    sourceSets {\r\n        all {\r\n            jniLibs.srcDirs = [&quot;lib&quot;]\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n 3. **Sync it**\r\n\r\n","title":"How to prevent .so files in jniLibs folders from being shrink","body":"<p>You just not linked the lib folder to your app <strong>App (build.gradle)</strong>. And also you have to add this line <code>android:extractNativeLibs=&quot;true&quot;</code> to your <strong>AndroidManifest.xml</strong></p>\n<p>You can do it following like this.</p>\n<ol>\n<li>First add this to your <strong>AndroidManifest.xml</strong></li>\n</ol>\n<pre><code>android:extractNativeLibs=&quot;true&quot;\n</code></pre>\n<ol start=\"2\">\n<li>Link the lib folder to your <strong>App (build.gradle)</strong></li>\n</ol>\n<pre><code>android {\n    sourceSets {\n        all {\n            jniLibs.srcDirs = [&quot;lib&quot;]\n        }\n    }\n}\n</code></pre>\n<ol start=\"3\">\n<li><strong>Sync it</strong></li>\n</ol>\n"}],"owner":{"account_id":22776810,"reputation":1,"user_id":16933337,"display_name":"Rightplay"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":290,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1662135470,"creation_date":1662113023,"question_id":73580901,"body_markdown":"I created an app which uses native codes, when I compile it Android Studio in debug type app works perfectly but when I generate a signed aab file, the jniLibs files get compressed and it breaks functionality in the app. I would like to know  if I can exclude the lib files from being compressed.\r\n\r\nThis is my project build.gradle\r\n \r\n\r\n   \r\n\r\n     buildscript {\r\n        repositories {\r\n            jcenter()\r\n            maven {\r\n                url &#39;https://maven.google.com/&#39;\r\n                name &#39;Google&#39;\r\n            }\r\n            google()\r\n        }\r\n        dependencies {\r\n            classpath &#39;com.android.tools.build:gradle:4.0.1&#39;\r\n            classpath &#39;com.google.gms:google-services:4.3.3&#39;\r\n    \r\n            // NOTE: Do not place your application dependencies here; they belong\r\n            // in the individual module build.gradle files\r\n         \r\n        }\r\n    }\r\n    \r\n    allprojects {\r\n        repositories {\r\n    \t\tjcenter()\r\n    \t\tmavenCentral()\r\n    \t\tmaven { url &quot;https://jitpack.io&quot; }\r\n    \t\tmaven { url &quot;https://dl.bintray.com/yahoo/maven/&quot; }\r\n    \t\t//maven { url &quot;https://repo1.maven.org/maven2/&quot; }\r\n    \t\tmaven { url &quot;https://repo.spring.io/plugins-release/&quot; }\r\n            maven {\r\n                url &#39;https://maven.google.com/&#39;\r\n                name &#39;Google&#39;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\nThis is my app build.gradle\r\n\r\n        apply plugin: &#39;com.android.application&#39;\r\n    apply plugin: &#39;com.google.gms.google-services&#39;\r\n    \r\n    \r\n    android {\r\n    \r\n    \r\n        compileSdkVersion 32\r\n        buildToolsVersion &quot;30.0.2&quot;\r\n    \r\n        defaultConfig {\r\n    \r\n            applicationId &quot;com.xxxxx.xxxxxxx&quot;\r\n    \t\tminSdkVersion 21\r\n            targetSdkVersion 32\r\n            versionCode 1\r\n            versionName &quot;1.0&quot;\r\n    \r\n        }\r\n        buildTypes {\r\n            release {\r\n               \r\n                minifyEnabled true\r\n                proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n            }\r\n        }\r\n        compileOptions {\r\n            sourceCompatibility JavaVersion.VERSION_1_8\r\n            targetCompatibility JavaVersion.VERSION_1_8\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n    \timplementation files(&#39;libs/achartengine-1.2.0.jar&#39;)\r\n    \tapi &#39;com.android.support:cardview-v7:25.+&#39;\r\n        api &#39;com.android.support:appcompat-v7:25.+&#39;\r\n    \tapi &#39;com.android.support:preference-v7:25.+&#39;\r\n    \tapi &#39;com.android.support:design:25.+&#39;\r\n\r\n\r\nThese are the lib files when the app is compiled in debug type:\r\n\r\n[Original lib files][1]\r\n\r\n\r\nLib files when I generate signed aab in android studio:\r\n\r\n[aab lib files][2]\r\n\r\nIn debug build the app works perfectly.\r\n\r\nIn signed generated aab, the libs are compressed, as seen in the second screenshot, this breaks the libpdnsd.so and libtun2socks.so.\r\n[This is the result][3]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/DqJsB.png\r\n  [2]: https://i.stack.imgur.com/uD6jR.png\r\n  [3]: https://i.stack.imgur.com/2pMMy.png\r\n\r\nIf there is a way to maintain the original libs when generating aab please let me know.\r\nAny solution is welcomed.","title":"How to prevent .so files in jniLibs folders from being shrink","body":"<p>I created an app which uses native codes, when I compile it Android Studio in debug type app works perfectly but when I generate a signed aab file, the jniLibs files get compressed and it breaks functionality in the app. I would like to know  if I can exclude the lib files from being compressed.</p>\n<p>This is my project build.gradle</p>\n<pre><code> buildscript {\n    repositories {\n        jcenter()\n        maven {\n            url 'https://maven.google.com/'\n            name 'Google'\n        }\n        google()\n    }\n    dependencies {\n        classpath 'com.android.tools.build:gradle:4.0.1'\n        classpath 'com.google.gms:google-services:4.3.3'\n\n        // NOTE: Do not place your application dependencies here; they belong\n        // in the individual module build.gradle files\n     \n    }\n}\n\nallprojects {\n    repositories {\n        jcenter()\n        mavenCentral()\n        maven { url &quot;https://jitpack.io&quot; }\n        maven { url &quot;https://dl.bintray.com/yahoo/maven/&quot; }\n        //maven { url &quot;https://repo1.maven.org/maven2/&quot; }\n        maven { url &quot;https://repo.spring.io/plugins-release/&quot; }\n        maven {\n            url 'https://maven.google.com/'\n            name 'Google'\n        }\n    }\n}\n</code></pre>\n<p>This is my app build.gradle</p>\n<pre><code>    apply plugin: 'com.android.application'\napply plugin: 'com.google.gms.google-services'\n\n\nandroid {\n\n\n    compileSdkVersion 32\n    buildToolsVersion &quot;30.0.2&quot;\n\n    defaultConfig {\n\n        applicationId &quot;com.xxxxx.xxxxxxx&quot;\n        minSdkVersion 21\n        targetSdkVersion 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n    }\n    buildTypes {\n        release {\n           \n            minifyEnabled true\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n    implementation files('libs/achartengine-1.2.0.jar')\n    api 'com.android.support:cardview-v7:25.+'\n    api 'com.android.support:appcompat-v7:25.+'\n    api 'com.android.support:preference-v7:25.+'\n    api 'com.android.support:design:25.+'\n</code></pre>\n<p>These are the lib files when the app is compiled in debug type:</p>\n<p><a href=\"https://i.stack.imgur.com/DqJsB.png\" rel=\"nofollow noreferrer\">Original lib files</a></p>\n<p>Lib files when I generate signed aab in android studio:</p>\n<p><a href=\"https://i.stack.imgur.com/uD6jR.png\" rel=\"nofollow noreferrer\">aab lib files</a></p>\n<p>In debug build the app works perfectly.</p>\n<p>In signed generated aab, the libs are compressed, as seen in the second screenshot, this breaks the libpdnsd.so and libtun2socks.so.\n<a href=\"https://i.stack.imgur.com/2pMMy.png\" rel=\"nofollow noreferrer\">This is the result</a></p>\n<p>If there is a way to maintain the original libs when generating aab please let me know.\nAny solution is welcomed.</p>\n"},{"tags":["java","spring-boot","authentication","ssl","netflix-eureka"],"answers":[{"tags":[],"owner":{"account_id":19360818,"reputation":1,"user_id":14156095,"display_name":"Angelo G"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662134892,"creation_date":1662134892,"answer_id":73585360,"question_id":73574561,"body_markdown":"I found the root cause of my problem. I had this property as true\r\n\r\n    prefer-ip-address: true\r\n\r\nbut it should be false since my certificates have hostnames register, not IPs. So when it try to validate the certs it was comparing hostnames vs ip which are different and it was throwing bad_certificate exception.","title":"Eureka - Unable to register eureka server in itself by using Two Way SSL","body":"<p>I found the root cause of my problem. I had this property as true</p>\n<pre><code>prefer-ip-address: true\n</code></pre>\n<p>but it should be false since my certificates have hostnames register, not IPs. So when it try to validate the certs it was comparing hostnames vs ip which are different and it was throwing bad_certificate exception.</p>\n"}],"owner":{"account_id":19360818,"reputation":1,"user_id":14156095,"display_name":"Angelo G"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":614,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73585360,"answer_count":1,"score":0,"last_activity_date":1662134892,"creation_date":1662060539,"question_id":73574561,"body_markdown":"I&#39;ve been trying to make two ssl to secure the communication between microservices. It is actually working when service A want to register into EurekaServer. But when I try to register eureka into the same eureka server or other instance of eureka I always got a bad certificate exception.\r\n\r\nThis is my application.yml from eureka server\r\n\r\n\r\n    server:\r\n      port: ${SERVER_SSL_PORT:${PORT:10100}}\r\n      ssl:\r\n        enabled: true\r\n        client-auth: need\r\n        key-alias: ${JKS_ALIAS}\r\n        key-password: ${JKS_KEY_PASSWORD}\r\n        key-store-type: ${JKS_TYPE}\r\n        key-store-provider: ${JKS_PROVIDER:SUN}\r\n        key-store: ${JKS_PATH}\r\n        key-store-password: ${JKS_KEY_PASSWORD}\r\n        trust-store: ${JKS_PATH}\r\n        trust-store-password: ${JKS_KEY_PASSWORD}\r\n        trust-store-provider: ${JKS_PROVIDER:SUN}\r\n        trust-store-type: ${JKS_TYPE}\r\n    \r\n    ## EUREKA CONFIGURATION\r\n    eureka:\r\n      client:\r\n        enabled: true\r\n        register-with-eureka: true\r\n        fetch-registry: false\r\n        service-url:\r\n          defaultZone: ${SVC_REGISTRY:https://localhost:14102/eureka}\r\n        prefer-same-zone-eureka: true\r\n        healthcheck:\r\n          enabled: true\r\n        tls:\r\n          enabled: true\r\n          key-store: ${JKS_PATH}\r\n          key-password: ${JKS_KEY_PASSWORD}\r\n          key-store-type: ${JKS_TYPE}\r\n          key-store-password: ${JKS_KEYSTORE_PASSWORD}\r\n          trust-store: ${JKS_PATH}\r\n          trust-store-password: ${JKS_KEY_PASSWORD}\r\n          trust-store-type: ${JKS_TYPE}\r\n      instance:\r\n        instance-id: ${SERVER_NAME:${spring.application.name}:${server.port}}@${eureka.instance.hostname}\r\n        hostname: ${SERVER_HOST:localhost}\r\n        home-page-url: https://${eureka.instance.hostname}:${server.port}${server.contextPath:}\r\n        status-page-url: https://${eureka.instance.hostname}:${server.port}${server.contextPath:}${management.endpoints.web.base-path:}/info\r\n        health-check-url: https://${eureka.instance.hostname}:${server.port}${server.contextPath:}${management.endpoints.web.base-path:}/health\r\n        secure-health-check-url: https://${eureka.instance.hostname}:${server.port}${server.contextPath:}${management.endpoints.web.base-path:}/health\r\n        lease-renewal-interval-in-seconds: 10\r\n        prefer-ip-address: true\r\n        metadata-map:\r\n          instanceId: ${eureka.instance.instance-id}\r\n          zone: ${SERVER_ZONE:local}\r\n        non-secure-port-enabled: false\r\n        secure-port-enabled: true\r\n        secure-port: ${server.port}\r\n\r\nI also try to add this configuration to modify the JerseyClient\r\n\r\n \r\n\r\n        @Bean\r\n        @SneakyThrows\r\n        public DiscoveryClient.DiscoveryClientOptionalArgs discoveryClientOptionalArgs2() {\r\n            \r\n    \r\n            DiscoveryClient.DiscoveryClientOptionalArgs args = new DiscoveryClient.DiscoveryClientOptionalArgs();\r\n    \r\n            EurekaJerseyClientImpl.EurekaJerseyClientBuilder clientBuilder = new EurekaJerseyClientImpl.EurekaJerseyClientBuilder()\r\n                    .withClientName(&quot;DiscoveryClient-HTTPClient-Custom&quot;)\r\n                    .withUserAgent(&quot;Java-EurekaClient&quot;)\r\n                    .withConnectionTimeout(config.getEurekaServerConnectTimeoutSeconds() * 1000)\r\n                    .withReadTimeout(config.getEurekaServerReadTimeoutSeconds() * 1000)\r\n                    .withMaxConnectionsPerHost(config.getEurekaServerTotalConnectionsPerHost())\r\n                    .withMaxTotalConnections(config.getEurekaServerTotalConnections())\r\n                    .withConnectionIdleTimeout(config.getEurekaConnectionIdleTimeoutSeconds() * 1000)\r\n                    .withEncoderWrapper(CodecWrappers.getEncoder(config.getEncoderName()))\r\n                    .withDecoderWrapper(CodecWrappers.resolveDecoder(config.getDecoderName(), config.getClientDataAccept()))\r\n                    .withCustomSSL(sslContext());\r\n                   \r\n            EurekaJerseyClient jerseyClient = clientBuilder.build();\r\n            args.setEurekaJerseyClient(jerseyClient);//Provide custom EurekaJerseyClient to override default one\r\n            return args;\r\n        }\r\n    \r\n        @Bean\r\n        public SSLContext sslContext() throws Exception {\r\n            log.info(&quot;initialize ssl context bean with keystore {} &quot;, env.getProperty(&quot;JKS_PATH&quot;));\r\n            char[] password = env.getProperty(&quot;JKS_KEY_PASSWORD&quot;).toCharArray();\r\n            return new SSLContextBuilder()\r\n                    .loadTrustMaterial(ResourceUtils.getFile(env.getProperty(&quot;JKS_PATH&quot;)), password).build();\r\n        }\r\n\r\nBut I keep getting this error\r\n\r\n&gt; 2022-09-01 18:44:01.522  INFO 26829 --- [tbeatExecutor-0]\r\n&gt; c.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error.\r\n&gt; endpoint=DefaultEndpoint{\r\n&gt; serviceUrl=&#39;https://XXXXXXXXXXXXXXXXXXXX:DDDD/eureka/},\r\n&gt; exception=javax.net.ssl.SSLHandshakeException: Received fatal alert:\r\n&gt; bad_certificate\r\n&gt; stacktrace=com.sun.jersey.api.client.ClientHandlerException:\r\n&gt; javax.net.ssl.SSLHandshakeException: Received fatal alert:\r\n&gt; bad_certificate\r\n&gt;         at com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:187)\r\n&gt;         at com.sun.jersey.api.client.Client.handle(Client.java:652)\r\n&gt;         at com.sun.jersey.api.client.WebResource.handle(WebResource.java:682)\r\n&gt;         at com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)\r\n&gt;         at com.sun.jersey.api.client.WebResource$Builder.put(WebResource.java:529)\r\n&gt;         at \r\n\r\nCertificate should be fine since it is the same cert I used to make 2way SSL between service A and registry. I am also testing this on a real server with valid certificate.\r\n\r\nAny clue on this?\r\n\r\nThanks in advance! Appreciate it","title":"Eureka - Unable to register eureka server in itself by using Two Way SSL","body":"<p>I've been trying to make two ssl to secure the communication between microservices. It is actually working when service A want to register into EurekaServer. But when I try to register eureka into the same eureka server or other instance of eureka I always got a bad certificate exception.</p>\n<p>This is my application.yml from eureka server</p>\n<pre><code>server:\n  port: ${SERVER_SSL_PORT:${PORT:10100}}\n  ssl:\n    enabled: true\n    client-auth: need\n    key-alias: ${JKS_ALIAS}\n    key-password: ${JKS_KEY_PASSWORD}\n    key-store-type: ${JKS_TYPE}\n    key-store-provider: ${JKS_PROVIDER:SUN}\n    key-store: ${JKS_PATH}\n    key-store-password: ${JKS_KEY_PASSWORD}\n    trust-store: ${JKS_PATH}\n    trust-store-password: ${JKS_KEY_PASSWORD}\n    trust-store-provider: ${JKS_PROVIDER:SUN}\n    trust-store-type: ${JKS_TYPE}\n\n## EUREKA CONFIGURATION\neureka:\n  client:\n    enabled: true\n    register-with-eureka: true\n    fetch-registry: false\n    service-url:\n      defaultZone: ${SVC_REGISTRY:https://localhost:14102/eureka}\n    prefer-same-zone-eureka: true\n    healthcheck:\n      enabled: true\n    tls:\n      enabled: true\n      key-store: ${JKS_PATH}\n      key-password: ${JKS_KEY_PASSWORD}\n      key-store-type: ${JKS_TYPE}\n      key-store-password: ${JKS_KEYSTORE_PASSWORD}\n      trust-store: ${JKS_PATH}\n      trust-store-password: ${JKS_KEY_PASSWORD}\n      trust-store-type: ${JKS_TYPE}\n  instance:\n    instance-id: ${SERVER_NAME:${spring.application.name}:${server.port}}@${eureka.instance.hostname}\n    hostname: ${SERVER_HOST:localhost}\n    home-page-url: https://${eureka.instance.hostname}:${server.port}${server.contextPath:}\n    status-page-url: https://${eureka.instance.hostname}:${server.port}${server.contextPath:}${management.endpoints.web.base-path:}/info\n    health-check-url: https://${eureka.instance.hostname}:${server.port}${server.contextPath:}${management.endpoints.web.base-path:}/health\n    secure-health-check-url: https://${eureka.instance.hostname}:${server.port}${server.contextPath:}${management.endpoints.web.base-path:}/health\n    lease-renewal-interval-in-seconds: 10\n    prefer-ip-address: true\n    metadata-map:\n      instanceId: ${eureka.instance.instance-id}\n      zone: ${SERVER_ZONE:local}\n    non-secure-port-enabled: false\n    secure-port-enabled: true\n    secure-port: ${server.port}\n</code></pre>\n<p>I also try to add this configuration to modify the JerseyClient</p>\n<pre><code>    @Bean\n    @SneakyThrows\n    public DiscoveryClient.DiscoveryClientOptionalArgs discoveryClientOptionalArgs2() {\n        \n\n        DiscoveryClient.DiscoveryClientOptionalArgs args = new DiscoveryClient.DiscoveryClientOptionalArgs();\n\n        EurekaJerseyClientImpl.EurekaJerseyClientBuilder clientBuilder = new EurekaJerseyClientImpl.EurekaJerseyClientBuilder()\n                .withClientName(&quot;DiscoveryClient-HTTPClient-Custom&quot;)\n                .withUserAgent(&quot;Java-EurekaClient&quot;)\n                .withConnectionTimeout(config.getEurekaServerConnectTimeoutSeconds() * 1000)\n                .withReadTimeout(config.getEurekaServerReadTimeoutSeconds() * 1000)\n                .withMaxConnectionsPerHost(config.getEurekaServerTotalConnectionsPerHost())\n                .withMaxTotalConnections(config.getEurekaServerTotalConnections())\n                .withConnectionIdleTimeout(config.getEurekaConnectionIdleTimeoutSeconds() * 1000)\n                .withEncoderWrapper(CodecWrappers.getEncoder(config.getEncoderName()))\n                .withDecoderWrapper(CodecWrappers.resolveDecoder(config.getDecoderName(), config.getClientDataAccept()))\n                .withCustomSSL(sslContext());\n               \n        EurekaJerseyClient jerseyClient = clientBuilder.build();\n        args.setEurekaJerseyClient(jerseyClient);//Provide custom EurekaJerseyClient to override default one\n        return args;\n    }\n\n    @Bean\n    public SSLContext sslContext() throws Exception {\n        log.info(&quot;initialize ssl context bean with keystore {} &quot;, env.getProperty(&quot;JKS_PATH&quot;));\n        char[] password = env.getProperty(&quot;JKS_KEY_PASSWORD&quot;).toCharArray();\n        return new SSLContextBuilder()\n                .loadTrustMaterial(ResourceUtils.getFile(env.getProperty(&quot;JKS_PATH&quot;)), password).build();\n    }\n</code></pre>\n<p>But I keep getting this error</p>\n<blockquote>\n<p>2022-09-01 18:44:01.522  INFO 26829 --- [tbeatExecutor-0]\nc.n.d.s.t.d.RedirectingEurekaHttpClient  : Request execution error.\nendpoint=DefaultEndpoint{\nserviceUrl='https://XXXXXXXXXXXXXXXXXXXX:DDDD/eureka/},\nexception=javax.net.ssl.SSLHandshakeException: Received fatal alert:\nbad_certificate\nstacktrace=com.sun.jersey.api.client.ClientHandlerException:\njavax.net.ssl.SSLHandshakeException: Received fatal alert:\nbad_certificate\nat com.sun.jersey.client.apache4.ApacheHttpClient4Handler.handle(ApacheHttpClient4Handler.java:187)\nat com.sun.jersey.api.client.Client.handle(Client.java:652)\nat com.sun.jersey.api.client.WebResource.handle(WebResource.java:682)\nat com.sun.jersey.api.client.WebResource.access$200(WebResource.java:74)\nat com.sun.jersey.api.client.WebResource$Builder.put(WebResource.java:529)\nat</p>\n</blockquote>\n<p>Certificate should be fine since it is the same cert I used to make 2way SSL between service A and registry. I am also testing this on a real server with valid certificate.</p>\n<p>Any clue on this?</p>\n<p>Thanks in advance! Appreciate it</p>\n"},{"tags":["java","google-cloud-platform","junit","integration-testing","google-secret-manager"],"comments":[{"owner":{"account_id":15760814,"reputation":68963,"user_id":11372593,"display_name":"guillaume blaquiere"},"score":2,"creation_date":1644519929,"post_id":71068322,"comment_id":125635280,"body_markdown":"There isn&#39;t any secret manager emulator.","body":"There isn&#39;t any secret manager emulator."}],"answers":[{"tags":[],"owner":{"account_id":22763635,"reputation":1044,"user_id":16922044,"display_name":"Nestor Daniel Ortega Perez"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1644878481,"creation_date":1644877830,"answer_id":71119041,"question_id":71068322,"body_markdown":"&quot;GCP doesn&#39;t have any Emulator for Secret Manager&quot; - @Guillaume Blaquiere.","title":"Using GCP Secret Manager in integration tests in Java","body":"<p>&quot;GCP doesn't have any Emulator for Secret Manager&quot; - @Guillaume Blaquiere.</p>\n"},{"tags":[],"owner":{"account_id":1765433,"reputation":81,"user_id":1611409,"display_name":"valeri"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662134699,"creation_date":1662134699,"answer_id":73585322,"question_id":71068322,"body_markdown":"In case you are using Spring Boot you may mock `SecretManagerOperations` interface using `@TestConfiguration` as follows:\r\n```\r\nimport static org.mockito.Mockito.mock;\r\nimport static org.mockito.Mockito.when;\r\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\r\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\r\n\r\nimport org.junit.jupiter.api.Test;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.boot.test.context.TestConfiguration;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Primary;\r\nimport org.springframework.test.web.servlet.MockMvc;\r\n\r\nimport com.google.cloud.spring.secretmanager.SecretManagerOperations;\r\n\r\n@AutoConfigureMockMvc\r\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\r\npublic class MySecretIntegrationTest {\r\n\r\n\t@Autowired\r\n\tprivate MockMvc mockMvc;\r\n\r\n\t@Test\r\n\tpublic void testGettingSecretResource() throws Exception {\r\n\t\tmockMvc.perform(get(&quot;/api/resource&quot;)).andExpect(status().isOk());\r\n\t}\r\n\r\n\t@TestConfiguration\r\n\tpublic static class SecretManagerConfiguration {\r\n\r\n\t\t@Bean\r\n\t\t@Primary\r\n\t\tpublic SecretManagerOperations secretManagerProducer() throws Exception{\r\n\r\n\t\t\tSecretManagerOperations secretManager = mock(SecretManagerOperations.class);\r\n\t\t\twhen(secretManager.getSecretString(&quot;secret_id&quot;)).thenReturn(&quot;top secret&quot;);\r\n\r\n\t\t\treturn secretManager;\r\n\t\t}\r\n\t}\r\n\r\n}\r\n```\r\n\r\nAnnotate the producer method with `@Primary` so that the mocked bean gets autowired during the test instead of the default implementation `SecretManagerTemplate`.","title":"Using GCP Secret Manager in integration tests in Java","body":"<p>In case you are using Spring Boot you may mock <code>SecretManagerOperations</code> interface using <code>@TestConfiguration</code> as follows:</p>\n<pre><code>import static org.mockito.Mockito.mock;\nimport static org.mockito.Mockito.when;\nimport static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;\nimport static org.springframework.test.web.servlet.result.MockMvcResultMatchers.status;\n\nimport org.junit.jupiter.api.Test;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.boot.test.autoconfigure.web.servlet.AutoConfigureMockMvc;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.boot.test.context.TestConfiguration;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Primary;\nimport org.springframework.test.web.servlet.MockMvc;\n\nimport com.google.cloud.spring.secretmanager.SecretManagerOperations;\n\n@AutoConfigureMockMvc\n@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)\npublic class MySecretIntegrationTest {\n\n    @Autowired\n    private MockMvc mockMvc;\n\n    @Test\n    public void testGettingSecretResource() throws Exception {\n        mockMvc.perform(get(&quot;/api/resource&quot;)).andExpect(status().isOk());\n    }\n\n    @TestConfiguration\n    public static class SecretManagerConfiguration {\n\n        @Bean\n        @Primary\n        public SecretManagerOperations secretManagerProducer() throws Exception{\n\n            SecretManagerOperations secretManager = mock(SecretManagerOperations.class);\n            when(secretManager.getSecretString(&quot;secret_id&quot;)).thenReturn(&quot;top secret&quot;);\n\n            return secretManager;\n        }\n    }\n\n}\n</code></pre>\n<p>Annotate the producer method with <code>@Primary</code> so that the mocked bean gets autowired during the test instead of the default implementation <code>SecretManagerTemplate</code>.</p>\n"}],"owner":{"account_id":13485479,"reputation":945,"user_id":9729413,"display_name":"t3ng1l"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1357,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":71119041,"answer_count":2,"score":1,"last_activity_date":1662134699,"creation_date":1644508901,"question_id":71068322,"body_markdown":"I have a pretty big code base written in Java. I have a lot of integration tests with both Kafka and Bigtable using JUnits ExternalResource. I have introduced fetching of secrets from GCP Secret Manager in my code. I now want to write integration tests for that as well. \r\n\r\nSo my scenario is that I want to create a mock username/password, create a secret of that username/password in my mock GCP Secret Manager, access the secrets and then use it to connect to my mock-service that requires that username/password. So, in reality, I&#39;m connecting to a Kafka broker in my test with SSL and I want to simulate the entire flow with fetching of secrets. \r\n\r\nThe problem is, I can&#39;t find any documentation on how to do it. Google has great other documentation on how to emulate Bigtable, but I can&#39;t find any documentation on how to emulate/mock a Secret Manager. Has anyone ran into something similar? ","title":"Using GCP Secret Manager in integration tests in Java","body":"<p>I have a pretty big code base written in Java. I have a lot of integration tests with both Kafka and Bigtable using JUnits ExternalResource. I have introduced fetching of secrets from GCP Secret Manager in my code. I now want to write integration tests for that as well.</p>\n<p>So my scenario is that I want to create a mock username/password, create a secret of that username/password in my mock GCP Secret Manager, access the secrets and then use it to connect to my mock-service that requires that username/password. So, in reality, I'm connecting to a Kafka broker in my test with SSL and I want to simulate the entire flow with fetching of secrets.</p>\n<p>The problem is, I can't find any documentation on how to do it. Google has great other documentation on how to emulate Bigtable, but I can't find any documentation on how to emulate/mock a Secret Manager. Has anyone ran into something similar?</p>\n"},{"tags":["java","amazon-dynamodb","dynamodb-mapper"],"answers":[{"tags":[],"owner":{"account_id":10749774,"reputation":14475,"user_id":7909676,"display_name":"Leeroy Hannigan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662056674,"creation_date":1662056674,"answer_id":73573937,"question_id":73572957,"body_markdown":"My understanding is that you want to read and delete an item in an atomic manner, however, we are aware that is not possible with DynamoDB. \r\n\r\nHowever, what is possible is deleting the item and being returned the value, which is more likened to a delete then read. As you correctly pointed out, the Mapper client does not support `ReturnValues` however the low level clients do.\r\n\r\n    Key keyToDelete = new Key().withHashKeyElement(new AttributeValue(&quot;214141&quot;));\r\n    DeleteItemRequest dir = new DeleteItemRequest()\r\n        .withTableName(&quot;ABC&quot;)\r\n        .withKey(keyToDelete)\r\n        .withReturnValues(&quot;ALL_OLD&quot;);\r\n\r\nMore info here [DeleteItemRequest](https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/model/DeleteItemRequest.html#withReturnValues-com.amazonaws.services.dynamodbv2.model.ReturnValue-)","title":"Polling items from DynamoDB","body":"<p>My understanding is that you want to read and delete an item in an atomic manner, however, we are aware that is not possible with DynamoDB.</p>\n<p>However, what is possible is deleting the item and being returned the value, which is more likened to a delete then read. As you correctly pointed out, the Mapper client does not support <code>ReturnValues</code> however the low level clients do.</p>\n<pre><code>Key keyToDelete = new Key().withHashKeyElement(new AttributeValue(&quot;214141&quot;));\nDeleteItemRequest dir = new DeleteItemRequest()\n    .withTableName(&quot;ABC&quot;)\n    .withKey(keyToDelete)\n    .withReturnValues(&quot;ALL_OLD&quot;);\n</code></pre>\n<p>More info here <a href=\"https://docs.aws.amazon.com/AWSJavaSDK/latest/javadoc/com/amazonaws/services/dynamodbv2/model/DeleteItemRequest.html#withReturnValues-com.amazonaws.services.dynamodbv2.model.ReturnValue-\" rel=\"nofollow noreferrer\">DeleteItemRequest</a></p>\n"},{"tags":[],"owner":{"account_id":5884082,"reputation":6273,"user_id":4632627,"accept_rate":71,"display_name":"Richard Dunn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662134498,"creation_date":1662134031,"answer_id":73585201,"question_id":73572957,"body_markdown":"Consistency is a weak spot of DDB, but that&#39;s the price to pay for its scalability.\r\n\r\nYou said it yourself, you&#39;re looking for a queue, so why not use one?\r\n\r\nI suggest:\r\n\r\n 1. Create a lambda that:\r\n    - Reads the items\r\n    - Publishes them to an SQS FIFO queue with message deduplication\r\n    - Deletes the items from the DB\r\n 2. Create an EventBridge schedule to run the Lambda every _n_ minutes\r\n 2. Have your nodes poll that queue instead of DDB\r\n\r\nFor this to work you have to consider a few things regarding timings:\r\n\r\n 1. DDB will typically be consistent in under a second, but this isn&#39;t guaranteed.\r\n 2. SQS deduplication only works for 5 minutes.\r\n 3. EventBridge only supports minute level granularity, not seconds.\r\n\r\nSo you can run your Lambda as frequently as once a minute, but you can run your nodes as frequently (or infrequently) as you like.\r\n\r\nIf you run your Lambda less frequently than every 5 minutes then there is technically a chance of processing an item twice, but this is very unlikely to ever happen (technically this could still happen anyway if DDB took &gt;10 minutes to be consistent, but again, extremely unlikely to ever happen).","title":"Polling items from DynamoDB","body":"<p>Consistency is a weak spot of DDB, but that's the price to pay for its scalability.</p>\n<p>You said it yourself, you're looking for a queue, so why not use one?</p>\n<p>I suggest:</p>\n<ol>\n<li>Create a lambda that:\n<ul>\n<li>Reads the items</li>\n<li>Publishes them to an SQS FIFO queue with message deduplication</li>\n<li>Deletes the items from the DB</li>\n</ul>\n</li>\n<li>Create an EventBridge schedule to run the Lambda every <em>n</em> minutes</li>\n<li>Have your nodes poll that queue instead of DDB</li>\n</ol>\n<p>For this to work you have to consider a few things regarding timings:</p>\n<ol>\n<li>DDB will typically be consistent in under a second, but this isn't guaranteed.</li>\n<li>SQS deduplication only works for 5 minutes.</li>\n<li>EventBridge only supports minute level granularity, not seconds.</li>\n</ol>\n<p>So you can run your Lambda as frequently as once a minute, but you can run your nodes as frequently (or infrequently) as you like.</p>\n<p>If you run your Lambda less frequently than every 5 minutes then there is technically a chance of processing an item twice, but this is very unlikely to ever happen (technically this could still happen anyway if DDB took &gt;10 minutes to be consistent, but again, extremely unlikely to ever happen).</p>\n"}],"owner":{"account_id":11998755,"reputation":66,"user_id":8779386,"display_name":"Kamil Kozlowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":197,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662134498,"creation_date":1662051036,"question_id":73572957,"body_markdown":"AWS newbie here.\r\n\r\nI have a DynamoDB table and 2+ nodes of Java apps reading/writing from/to it. My use case is as follow: the app should fetch N numbers of items every X seconds based on a timestamp, process them, then remove them from the DB. Because the app may scale, other nodes might be reading from the DB in the same time and I want to avoid processing the same items multiple times.\r\n\r\nThe questions is: is there any way to implement something like a poll() method that fetches the item and immediately removes it (atomic operation) as if the table was a queue. As far as I checked, delete item methods that DynamoDBMapper offers do not return removed items data. ","title":"Polling items from DynamoDB","body":"<p>AWS newbie here.</p>\n<p>I have a DynamoDB table and 2+ nodes of Java apps reading/writing from/to it. My use case is as follow: the app should fetch N numbers of items every X seconds based on a timestamp, process them, then remove them from the DB. Because the app may scale, other nodes might be reading from the DB in the same time and I want to avoid processing the same items multiple times.</p>\n<p>The questions is: is there any way to implement something like a poll() method that fetches the item and immediately removes it (atomic operation) as if the table was a queue. As far as I checked, delete item methods that DynamoDBMapper offers do not return removed items data.</p>\n"},{"tags":["java","android","database","android-room"],"comments":[{"owner":{"account_id":1342401,"reputation":23303,"user_id":1283845,"accept_rate":65,"display_name":"BlackHatSamurai"},"score":0,"creation_date":1661542810,"post_id":73505767,"comment_id":129805595,"body_markdown":"It appears you are trying to add `person2` before the object is even created.","body":"It appears you are trying to add <code>person2</code> before the object is even created."},{"owner":{"account_id":16537587,"reputation":486,"user_id":11949116,"display_name":"Abdo21"},"score":0,"creation_date":1661545283,"post_id":73505767,"comment_id":129806230,"body_markdown":"As @BlackHatSamu points out, you create person1 but insert perser2. same thing in the next two lines.","body":"As @BlackHatSamu points out, you create person1 but insert perser2. same thing in the next two lines."}],"answers":[{"tags":[],"owner":{"account_id":21690995,"reputation":5,"user_id":16005599,"display_name":"mehmet ali duran"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662132876,"creation_date":1662132739,"answer_id":73584938,"question_id":73505767,"body_markdown":"Guys I finally figured out what is the problem:\r\nWhen I am trying to insert a person object I only wrote name and lastname but the think that I forgot is id.So object is couldnt created and inserted to the our database.\r\nSolution is I annoted id field @Primary(aoutoGenerate=true) so it will autogenerate the id even I didnt insert the id.\r\n\r\nBut the think that I didnt understand is even though I didnt insert the id at the beginning (before the I coded aoutoGenerate=true) it took just one person to the table anybody can explain?\r\n ","title":"Room Database cannot add more than 1 item to the data bas","body":"<p>Guys I finally figured out what is the problem:\nWhen I am trying to insert a person object I only wrote name and lastname but the think that I forgot is id.So object is couldnt created and inserted to the our database.\nSolution is I annoted id field @Primary(aoutoGenerate=true) so it will autogenerate the id even I didnt insert the id.</p>\n<p>But the think that I didnt understand is even though I didnt insert the id at the beginning (before the I coded aoutoGenerate=true) it took just one person to the table anybody can explain?</p>\n"},{"tags":[],"owner":{"account_id":25783044,"reputation":111,"user_id":19528381,"display_name":"tenuki"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662133953,"creation_date":1662133953,"answer_id":73585178,"question_id":73505767,"body_markdown":"As you discovered, adding `@PrimaryKey(autoGenerate = true)` to the `id` field allows you to insert properly without specifying the `id` manually. \r\n\r\nThe reason only one person was added to the table before (despite calling `insert` more than once)  is that when you use the `public Person(String name, String lastName)` constructor, Java automatically initializes `id` to the default `int` value of 0. Thus, all of the `Person` objects you created had a primary key of 0. The first time you inserted one of these instances, there was no row in the database with primary key 0 and the insert succeeded. On subsequent calls, a `Person` with primary key 0 already existed, so the new `Person` was not inserted. This is the default behavior for Room insert methods, but you can change it. For example, if you wanted the new entry to replace the old one, you could add the annotation `@Insert(onConflict = OnConflictStrategy.REPLACE)` to the insert method. See [here][1] for a list of possible behaviors.\r\n\r\n\r\n  [1]: https://developer.android.com/reference/android/arch/persistence/room/OnConflictStrategy","title":"Room Database cannot add more than 1 item to the data bas","body":"<p>As you discovered, adding <code>@PrimaryKey(autoGenerate = true)</code> to the <code>id</code> field allows you to insert properly without specifying the <code>id</code> manually.</p>\n<p>The reason only one person was added to the table before (despite calling <code>insert</code> more than once)  is that when you use the <code>public Person(String name, String lastName)</code> constructor, Java automatically initializes <code>id</code> to the default <code>int</code> value of 0. Thus, all of the <code>Person</code> objects you created had a primary key of 0. The first time you inserted one of these instances, there was no row in the database with primary key 0 and the insert succeeded. On subsequent calls, a <code>Person</code> with primary key 0 already existed, so the new <code>Person</code> was not inserted. This is the default behavior for Room insert methods, but you can change it. For example, if you wanted the new entry to replace the old one, you could add the annotation <code>@Insert(onConflict = OnConflictStrategy.REPLACE)</code> to the insert method. See <a href=\"https://developer.android.com/reference/android/arch/persistence/room/OnConflictStrategy\" rel=\"nofollow noreferrer\">here</a> for a list of possible behaviors.</p>\n"}],"owner":{"account_id":21690995,"reputation":5,"user_id":16005599,"display_name":"mehmet ali duran"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":566,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73585178,"answer_count":2,"score":0,"last_activity_date":1662133953,"creation_date":1661542496,"question_id":73505767,"body_markdown":"In this Android Studio Example I completed Room Database Architecture and try to insert some persons to my database and I added person1 and person2 in my PersonRoomDatabase class but when I start my project I saw only person1 in the Database Inspector Screen. I tried to add the person3 in my Main Activity that is not worked too. Even though I change person1&#39;s name it is still remains &quot;saul&quot;. Shortly I can not add or insert any Person object to my Database ecxept person1. If you can help me I would be grateful &lt;3\r\n\r\n1.)RoomDatabase class:\r\n\r\n\r\n\r\n        @Database(entities = {Person.class},version = 1,exportSchema = false)\r\n        public abstract class PersonRoomDatabase extends RoomDatabase {\r\n        \r\n           public abstract PersonDAO personRoomDAO();\r\n    \r\n        private static volatile PersonRoomDatabase INSTANCE;\r\n        public static final int NUMBER_OF_THREADS=4;\r\n        static final ExecutorService databaseWriteExecutor=enter code here\r\n                Executors.newFixedThreadPool(NUMBER_OF_THREADS);\r\n    \r\n        //We defined singleton for PersonRoomDatabase so there will be just one Database\r\n        static final PersonRoomDatabase getDatabase(final Context context){\r\n            if (INSTANCE==null){\r\n                synchronized (PersonRoomDatabase.class){\r\n                    if (INSTANCE==null){\r\n                        INSTANCE= Room.databaseBuilder(context.getApplicationContext(),\r\n                                        PersonRoomDatabase.class,&quot;person_database&quot;)\r\n                                .addCallback(sRoomDatabaseCallback)\r\n                                .build();\r\n                    }\r\n                }\r\n            }\r\n            return INSTANCE;\r\n        }\r\n    \r\n        private static RoomDatabase.Callback sRoomDatabaseCallback = new RoomDatabase.Callback() {\r\n            @Override\r\n            public void onCreate(@NonNull SupportSQLiteDatabase db) {\r\n                super.onCreate(db);\r\n    \r\n                databaseWriteExecutor.execute(() -&gt; {\r\n                  \r\n                    PersonDAO dao = INSTANCE.personRoomDAO();\r\n                    dao.deleteAll();\r\n    \r\n                    Person person1=new Person(&quot;saul&quot;,&quot;goodman&quot;);\r\n                    dao.insert(person1);\r\n    \r\n                    Person person2=new Person(&quot;walter&quot;,&quot;white&quot;);\r\n                    dao.insert(person2);\r\n    \r\n    \r\n                });\r\n            }\r\n        };\r\n    }\r\n\r\n\r\n\r\n\r\n2.)DAO Class:\r\n\r\n    @Dao\r\n\r\n    public interface PersonDAO {\r\n\r\n    @Insert(onConflict = OnConflictStrategy.IGNORE)\r\n\r\n    void insert(Person person);\r\n\r\n    @Query(&quot;DELETE FROM person_table&quot;)\r\n\r\n    void deleteAll();\r\n\r\n    @Query(&quot;SELECT * FROM person_table ORDER BY name ASC&quot;)\r\n\r\n    LiveData&lt;List&lt;Person&gt;&gt; selectAllPerson();\r\n\r\n    }\r\n\r\n3.)View Model Class:\r\n\r\n    public class PersonViewModel extends AndroidViewModel {\r\n\r\n    private PersonRepository personViewModelRepository;\r\n\r\n    private final LiveData&lt;List&lt;Person&gt;&gt; allPersonViewModel;\r\n\r\n    public PersonViewModel(@NonNull Application application) {\r\n        super(application);\r\n        personViewModelRepository=new PersonRepository(application);\r\n        allPersonViewModel=personViewModelRepository.getAllPersonsRepository();\r\n    }\r\n\r\n    public LiveData&lt;List&lt;Person&gt;&gt; getAllPersonViewModel(){return allPersonViewModel;}\r\n\r\n    public void insert(Person person){ personViewModelRepository.insert(person);}\r\n\r\n    public void deleteAll(){personViewModelRepository.deleteAll();}\r\n    }\r\n\r\n4.)Repository Class:\r\n\r\n    public class PersonRepository {\r\n    private PersonDAO personRepositoryDAO;\r\n    private LiveData&lt;List&lt;Person&gt;&gt; allPersons;\r\n\r\n\r\n\r\n    PersonRepository (Application application){\r\n        PersonRoomDatabase db=PersonRoomDatabase.getDatabase(application);\r\n\r\n        personRepositoryDAO=db.personRoomDAO();\r\n\r\n        allPersons=personRepositoryDAO.selectAllPerson();\r\n    }\r\n\r\n   \r\n    LiveData&lt;List&lt;Person&gt;&gt; getAllPersonsRepository() {\r\n        return allPersons;\r\n    }\r\n\r\n    exception. Room ensures\r\n   \r\n    void insert(Person person){\r\n        PersonRoomDatabase.databaseWriteExecutor.execute(() -&gt;\r\n                personRepositoryDAO.insert(person));\r\n    }\r\n    void deleteAll(){\r\n        PersonRoomDatabase.databaseWriteExecutor.execute(() -&gt;\r\n                personRepositoryDAO.deleteAll());\r\n    }\r\n\r\n    }\r\n\r\n5.)My Person Entity:\r\n\r\n    @Entity(tableName = &quot;person_table&quot;)\r\n    public class Person {\r\n\r\n    @PrimaryKey\r\n    @ColumnInfo(name = &quot;id&quot;)\r\n    private int id;\r\n\r\n    @ColumnInfo(name = &quot;name&quot;)\r\n    private String name;\r\n\r\n    @ColumnInfo(name = &quot;lastName&quot;)\r\n    private String lastName;\r\n\r\n    public Person(){\r\n\r\n    }\r\n\r\n    public void setLastName(String lastName) {\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public Person(String name, String lastName) {\r\n        this.name = name;\r\n        this.lastName = lastName;\r\n    }\r\n\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getId() {\r\n        return id;\r\n    }\r\n\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n\r\n    public String getLastName() {\r\n        return lastName;\r\n    }\r\n\r\n    }\r\n\r\n6.)Main Activity:\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    public Person person;\r\n    private PersonViewModel personViewModel;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n        personViewModel= new ViewModelProvider.AndroidViewModelFactory(MainActivity.this\r\n                .getApplication())\r\n                .create(PersonViewModel.class);\r\n\r\n\r\n        \r\n        Person person3=new Person(&quot;jesse&quot;,&quot;pinkman&quot;);\r\n        personViewModel.insert(person3);\r\n\r\n\r\n        personViewModel.getAllPersonViewModel().observe(this,person -&gt;\r\n                Log.d(&quot;Observe&quot;, &quot;onCreate: &quot;+person.get(0).getName())\r\n\r\n\r\n        );\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n\r\n    }\r\n\r\n \r\n\r\n","title":"Room Database cannot add more than 1 item to the data bas","body":"<p>In this Android Studio Example I completed Room Database Architecture and try to insert some persons to my database and I added person1 and person2 in my PersonRoomDatabase class but when I start my project I saw only person1 in the Database Inspector Screen. I tried to add the person3 in my Main Activity that is not worked too. Even though I change person1's name it is still remains &quot;saul&quot;. Shortly I can not add or insert any Person object to my Database ecxept person1. If you can help me I would be grateful &lt;3</p>\n<p>1.)RoomDatabase class:</p>\n<pre><code>    @Database(entities = {Person.class},version = 1,exportSchema = false)\n    public abstract class PersonRoomDatabase extends RoomDatabase {\n    \n       public abstract PersonDAO personRoomDAO();\n\n    private static volatile PersonRoomDatabase INSTANCE;\n    public static final int NUMBER_OF_THREADS=4;\n    static final ExecutorService databaseWriteExecutor=enter code here\n            Executors.newFixedThreadPool(NUMBER_OF_THREADS);\n\n    //We defined singleton for PersonRoomDatabase so there will be just one Database\n    static final PersonRoomDatabase getDatabase(final Context context){\n        if (INSTANCE==null){\n            synchronized (PersonRoomDatabase.class){\n                if (INSTANCE==null){\n                    INSTANCE= Room.databaseBuilder(context.getApplicationContext(),\n                                    PersonRoomDatabase.class,&quot;person_database&quot;)\n                            .addCallback(sRoomDatabaseCallback)\n                            .build();\n                }\n            }\n        }\n        return INSTANCE;\n    }\n\n    private static RoomDatabase.Callback sRoomDatabaseCallback = new RoomDatabase.Callback() {\n        @Override\n        public void onCreate(@NonNull SupportSQLiteDatabase db) {\n            super.onCreate(db);\n\n            databaseWriteExecutor.execute(() -&gt; {\n              \n                PersonDAO dao = INSTANCE.personRoomDAO();\n                dao.deleteAll();\n\n                Person person1=new Person(&quot;saul&quot;,&quot;goodman&quot;);\n                dao.insert(person1);\n\n                Person person2=new Person(&quot;walter&quot;,&quot;white&quot;);\n                dao.insert(person2);\n\n\n            });\n        }\n    };\n}\n</code></pre>\n<p>2.)DAO Class:</p>\n<pre><code>@Dao\n\npublic interface PersonDAO {\n\n@Insert(onConflict = OnConflictStrategy.IGNORE)\n\nvoid insert(Person person);\n\n@Query(&quot;DELETE FROM person_table&quot;)\n\nvoid deleteAll();\n\n@Query(&quot;SELECT * FROM person_table ORDER BY name ASC&quot;)\n\nLiveData&lt;List&lt;Person&gt;&gt; selectAllPerson();\n\n}\n</code></pre>\n<p>3.)View Model Class:</p>\n<pre><code>public class PersonViewModel extends AndroidViewModel {\n\nprivate PersonRepository personViewModelRepository;\n\nprivate final LiveData&lt;List&lt;Person&gt;&gt; allPersonViewModel;\n\npublic PersonViewModel(@NonNull Application application) {\n    super(application);\n    personViewModelRepository=new PersonRepository(application);\n    allPersonViewModel=personViewModelRepository.getAllPersonsRepository();\n}\n\npublic LiveData&lt;List&lt;Person&gt;&gt; getAllPersonViewModel(){return allPersonViewModel;}\n\npublic void insert(Person person){ personViewModelRepository.insert(person);}\n\npublic void deleteAll(){personViewModelRepository.deleteAll();}\n}\n</code></pre>\n<p>4.)Repository Class:</p>\n<pre><code>public class PersonRepository {\nprivate PersonDAO personRepositoryDAO;\nprivate LiveData&lt;List&lt;Person&gt;&gt; allPersons;\n\n\n\nPersonRepository (Application application){\n    PersonRoomDatabase db=PersonRoomDatabase.getDatabase(application);\n\n    personRepositoryDAO=db.personRoomDAO();\n\n    allPersons=personRepositoryDAO.selectAllPerson();\n}\n\n\nLiveData&lt;List&lt;Person&gt;&gt; getAllPersonsRepository() {\n    return allPersons;\n}\n\nexception. Room ensures\n\nvoid insert(Person person){\n    PersonRoomDatabase.databaseWriteExecutor.execute(() -&gt;\n            personRepositoryDAO.insert(person));\n}\nvoid deleteAll(){\n    PersonRoomDatabase.databaseWriteExecutor.execute(() -&gt;\n            personRepositoryDAO.deleteAll());\n}\n\n}\n</code></pre>\n<p>5.)My Person Entity:</p>\n<pre><code>@Entity(tableName = &quot;person_table&quot;)\npublic class Person {\n\n@PrimaryKey\n@ColumnInfo(name = &quot;id&quot;)\nprivate int id;\n\n@ColumnInfo(name = &quot;name&quot;)\nprivate String name;\n\n@ColumnInfo(name = &quot;lastName&quot;)\nprivate String lastName;\n\npublic Person(){\n\n}\n\npublic void setLastName(String lastName) {\n    this.lastName = lastName;\n}\n\npublic void setName(String name) {\n    this.name = name;\n}\n\npublic Person(String name, String lastName) {\n    this.name = name;\n    this.lastName = lastName;\n}\n\npublic void setId(int id) {\n    this.id = id;\n}\n\npublic int getId() {\n    return id;\n}\n\n\npublic String getName() {\n    return name;\n}\n\n\npublic String getLastName() {\n    return lastName;\n}\n\n}\n</code></pre>\n<p>6.)Main Activity:</p>\n<pre><code>public class MainActivity extends AppCompatActivity {\npublic Person person;\nprivate PersonViewModel personViewModel;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n    personViewModel= new ViewModelProvider.AndroidViewModelFactory(MainActivity.this\n            .getApplication())\n            .create(PersonViewModel.class);\n\n\n    \n    Person person3=new Person(&quot;jesse&quot;,&quot;pinkman&quot;);\n    personViewModel.insert(person3);\n\n\n    personViewModel.getAllPersonViewModel().observe(this,person -&gt;\n            Log.d(&quot;Observe&quot;, &quot;onCreate: &quot;+person.get(0).getName())\n\n\n    );\n\n\n\n\n\n}\n\n}\n</code></pre>\n"},{"tags":["java","ssl","openssl","tls1.2","rhel"],"answers":[{"tags":[],"owner":{"account_id":5034466,"reputation":1699,"user_id":4043723,"display_name":"Buffoonism"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1662131505,"creation_date":1662131505,"answer_id":73584702,"question_id":73584541,"body_markdown":"I think you&#39;re just mixing up a few things.\r\n\r\nssl.conf is Apache specific, and your tests number 3 and 4 verify the Apache config just fine. All good!\r\n\r\nTests 1 and 2 are for the openssl command line tool: it&#39;s quite separate to Apache, so nothing to worry about.\r\n\r\nAs an aside, the [qualys ssl tool][1] is useful for verifying a whole raft of TLS settings (not just the protocol) and the [Mozilla SSL site][2] is useful for giving you secure configs to start from.\r\n\r\n\r\n  [1]: https://www.ssllabs.com/ssltest/\r\n  [2]: https://ssl-config.mozilla.org/","title":"Why does the result of OpenSSL differ for TLS versions?","body":"<p>I think you're just mixing up a few things.</p>\n<p>ssl.conf is Apache specific, and your tests number 3 and 4 verify the Apache config just fine. All good!</p>\n<p>Tests 1 and 2 are for the openssl command line tool: it's quite separate to Apache, so nothing to worry about.</p>\n<p>As an aside, the <a href=\"https://www.ssllabs.com/ssltest/\" rel=\"nofollow noreferrer\">qualys ssl tool</a> is useful for verifying a whole raft of TLS settings (not just the protocol) and the <a href=\"https://ssl-config.mozilla.org/\" rel=\"nofollow noreferrer\">Mozilla SSL site</a> is useful for giving you secure configs to start from.</p>\n"}],"owner":{"account_id":19469961,"reputation":91,"user_id":14242535,"display_name":"Learner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":429,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662133916,"creation_date":1662130743,"question_id":73584541,"body_markdown":"Our Java application is running on the RHEL 8.5 OS platform. The application makes use of Apache HTTPd and the Amazon Corretto JDK 1.8.0_322 release. And we have added the below code in the **ssl.conf** file to enhance the security level.\r\n\r\n    SSLProtocol -ALL +TLSv1.2\r\n    SSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:AES256-CCM:DHE-RSA-AES256-CCM\r\n\r\nIn the above part, we have enabled Only TLSv1.2.\r\n\r\nThe below OpenSSL commands are displaying different results.\r\n\r\n**Scenario 1:**\r\n```\r\n[root@test ~]# openssl ciphers -v | awk &#39;{print $2}&#39; | sort | uniq \r\nSSLv3\r\nTLSv1\r\nTLSv1.2\r\nTLSv1.3\r\n\r\n```\r\n**Scenario 2:**\r\n```\r\n[root@test ~]# /usr/bin/openssl ciphers -v\r\nTLS_AES_256_GCM_SHA384  TLSv1.3 Kx=any      Au=any  Enc=AESGCM(256) Mac=AEAD\r\nTLS_CHACHA20_POLY1305_SHA256 TLSv1.3 Kx=any      Au=any  Enc=CHACHA20/POLY1305(256) Mac=AEAD\r\nTLS_AES_128_GCM_SHA256  TLSv1.3 Kx=any      Au=any  Enc=AESGCM(128) Mac=AEAD\r\nTLS_AES_128_CCM_SHA256  TLSv1.3 Kx=any      Au=any  Enc=AESCCM(128) Mac=AEAD\r\nECDHE-ECDSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(256) Mac=AEAD\r\nECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\nECDHE-ECDSA-CHACHA20-POLY1305 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=CHACHA20/POLY1305(256) Mac=AEAD\r\nECDHE-RSA-CHACHA20-POLY1305 TLSv1.2 Kx=ECDH     Au=RSA  Enc=CHACHA20/POLY1305(256) Mac=AEAD\r\nECDHE-ECDSA-AES256-CCM  TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESCCM(256) Mac=AEAD\r\nECDHE-ECDSA-AES128-GCM-SHA256 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(128) Mac=AEAD\r\nECDHE-RSA-AES128-GCM-SHA256 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(128) Mac=AEAD\r\nECDHE-ECDSA-AES128-CCM  TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESCCM(128) Mac=AEAD\r\nECDHE-ECDSA-AES128-SHA256 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AES(128)  Mac=SHA256\r\nECDHE-RSA-AES128-SHA256 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AES(128)  Mac=SHA256\r\nECDHE-ECDSA-AES256-SHA  TLSv1 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA1\r\nECDHE-RSA-AES256-SHA    TLSv1 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA1\r\nECDHE-ECDSA-AES128-SHA  TLSv1 Kx=ECDH     Au=ECDSA Enc=AES(128)  Mac=SHA1\r\nECDHE-RSA-AES128-SHA    TLSv1 Kx=ECDH     Au=RSA  Enc=AES(128)  Mac=SHA1\r\nAES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\nAES256-CCM              TLSv1.2 Kx=RSA      Au=RSA  Enc=AESCCM(256) Mac=AEAD\r\nAES128-GCM-SHA256       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(128) Mac=AEAD\r\nAES128-CCM              TLSv1.2 Kx=RSA      Au=RSA  Enc=AESCCM(128) Mac=AEAD\r\nAES256-SHA256           TLSv1.2 Kx=RSA      Au=RSA  Enc=AES(256)  Mac=SHA256\r\nAES128-SHA256           TLSv1.2 Kx=RSA      Au=RSA  Enc=AES(128)  Mac=SHA256\r\nAES256-SHA              SSLv3 Kx=RSA      Au=RSA  Enc=AES(256)  Mac=SHA1\r\nAES128-SHA              SSLv3 Kx=RSA      Au=RSA  Enc=AES(128)  Mac=SHA1\r\nDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=DH       Au=RSA  Enc=AESGCM(256) Mac=AEAD\r\nDHE-RSA-CHACHA20-POLY1305 TLSv1.2 Kx=DH       Au=RSA  Enc=CHACHA20/POLY1305(256) Mac=AEAD\r\nDHE-RSA-AES256-CCM      TLSv1.2 Kx=DH       Au=RSA  Enc=AESCCM(256) Mac=AEAD\r\nDHE-RSA-AES128-GCM-SHA256 TLSv1.2 Kx=DH       Au=RSA  Enc=AESGCM(128) Mac=AEAD\r\nDHE-RSA-AES128-CCM      TLSv1.2 Kx=DH       Au=RSA  Enc=AESCCM(128) Mac=AEAD\r\nDHE-RSA-AES256-SHA256   TLSv1.2 Kx=DH       Au=RSA  Enc=AES(256)  Mac=SHA256\r\nDHE-RSA-AES128-SHA256   TLSv1.2 Kx=DH       Au=RSA  Enc=AES(128)  Mac=SHA256\r\nDHE-RSA-AES256-SHA      SSLv3 Kx=DH       Au=RSA  Enc=AES(256)  Mac=SHA1\r\nDHE-RSA-AES128-SHA      SSLv3 Kx=DH       Au=RSA  Enc=AES(128)  Mac=SHA1\r\nPSK-AES256-GCM-SHA384   TLSv1.2 Kx=PSK      Au=PSK  Enc=AESGCM(256) Mac=AEAD\r\nPSK-CHACHA20-POLY1305   TLSv1.2 Kx=PSK      Au=PSK  Enc=CHACHA20/POLY1305(256) Mac=AEAD\r\nPSK-AES256-CCM          TLSv1.2 Kx=PSK      Au=PSK  Enc=AESCCM(256) Mac=AEAD\r\nPSK-AES128-GCM-SHA256   TLSv1.2 Kx=PSK      Au=PSK  Enc=AESGCM(128) Mac=AEAD\r\nPSK-AES128-CCM          TLSv1.2 Kx=PSK      Au=PSK  Enc=AESCCM(128) Mac=AEAD\r\nPSK-AES256-CBC-SHA      SSLv3 Kx=PSK      Au=PSK  Enc=AES(256)  Mac=SHA1\r\nPSK-AES128-CBC-SHA256   TLSv1 Kx=PSK      Au=PSK  Enc=AES(128)  Mac=SHA256\r\nPSK-AES128-CBC-SHA      SSLv3 Kx=PSK      Au=PSK  Enc=AES(128)  Mac=SHA1\r\nDHE-PSK-AES256-GCM-SHA384 TLSv1.2 Kx=DHEPSK   Au=PSK  Enc=AESGCM(256) Mac=AEAD\r\nDHE-PSK-CHACHA20-POLY1305 TLSv1.2 Kx=DHEPSK   Au=PSK  Enc=CHACHA20/POLY1305(256) Mac=AEAD\r\nDHE-PSK-AES256-CCM      TLSv1.2 Kx=DHEPSK   Au=PSK  Enc=AESCCM(256) Mac=AEAD\r\nDHE-PSK-AES128-GCM-SHA256 TLSv1.2 Kx=DHEPSK   Au=PSK  Enc=AESGCM(128) Mac=AEAD\r\nDHE-PSK-AES128-CCM      TLSv1.2 Kx=DHEPSK   Au=PSK  Enc=AESCCM(128) Mac=AEAD\r\nDHE-PSK-AES256-CBC-SHA  SSLv3 Kx=DHEPSK   Au=PSK  Enc=AES(256)  Mac=SHA1\r\nDHE-PSK-AES128-CBC-SHA256 TLSv1 Kx=DHEPSK   Au=PSK  Enc=AES(128)  Mac=SHA256\r\nDHE-PSK-AES128-CBC-SHA  SSLv3 Kx=DHEPSK   Au=PSK  Enc=AES(128)  Mac=SHA1\r\nECDHE-PSK-CHACHA20-POLY1305 TLSv1.2 Kx=ECDHEPSK Au=PSK  Enc=CHACHA20/POLY1305(256) Mac=AEAD\r\nECDHE-PSK-AES256-CBC-SHA TLSv1 Kx=ECDHEPSK Au=PSK  Enc=AES(256)  Mac=SHA1\r\nECDHE-PSK-AES128-CBC-SHA256 TLSv1 Kx=ECDHEPSK Au=PSK  Enc=AES(128)  Mac=SHA256\r\nECDHE-PSK-AES128-CBC-SHA TLSv1 Kx=ECDHEPSK Au=PSK  Enc=AES(128)  Mac=SHA1\r\n[root@test ~]#\r\n\r\n```\r\n**Scenario 3:**\r\n```\r\n[root@test ~]# openssl s_client -connect &lt;IP_ADDRESS&gt;:8443 -tls1\r\nCONNECTED(00000003)\r\n139679030896448:error:1409442E:SSL routines:ssl3_read_bytes:tlsv1 alert protocol version:ssl/record/rec_layer_s3.c:1544:SSL alert number 70\r\n---\r\nno peer certificate available\r\n---\r\nNo client certificate CA names sent\r\n---\r\nSSL handshake has read 7 bytes and written 104 bytes\r\nVerification: OK\r\n---\r\nNew, (NONE), Cipher is (NONE)\r\nSecure Renegotiation IS NOT supported\r\nCompression: NONE\r\nExpansion: NONE\r\nNo ALPN negotiated\r\nSSL-Session:\r\n    Protocol  : TLSv1\r\n    Cipher    : 0000\r\n    Session-ID:\r\n    Session-ID-ctx:\r\n    Master-Key:\r\n    PSK identity: None\r\n    PSK identity hint: None\r\n    SRP username: None\r\n    Start Time: 1662128840\r\n    Timeout   : 7200 (sec)\r\n    Verify return code: 0 (ok)\r\n    Extended master secret: no\r\n---\r\n```\r\n**Scenario 4:**\r\n```\r\n[root@test ~]# nmap -sV --script ssl-enum-ciphers -p 8443 &lt;IP_ADDRESS&gt;\r\nStarting Nmap 7.70 ( https://nmap.org ) at 2022-09-02 20:02 IST\r\nmass_dns: warning: Unable to open /etc/resolv.conf. Try using --system-dns or specify valid servers with --dns-servers\r\nmass_dns: warning: Unable to determine any DNS servers. Reverse DNS is disabled. Try using --system-dns or specify valid servers with --dns-servers\r\nNmap scan report for XXXXX (IP_ADDRESS)\r\nHost is up (0.00067s latency).\r\n\r\nPORT     STATE SERVICE  VERSION\r\n8443/tcp open  ssl/http Apache httpd\r\n|_http-server-header: Apache\r\n| ssl-enum-ciphers:\r\n|   TLSv1.2:\r\n|     ciphers:\r\n|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A\r\n|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A\r\n|     compressors:\r\n|       NULL\r\n|     cipher preference: client\r\n|_  least strength: A\r\nMAC Address: 00:50:56:A7:92:7B (VMware)\r\n\r\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\r\nNmap done: 1 IP address (1 host up) scanned in 12.90 seconds\r\n```\r\n\r\nIn the above results, scenario 1 and scenario 2 is showing that TLSv1 is also enabled. But scenario 3 and scenario 4 is showing that only TLSv1.2 is enabled.\r\n\r\n\r\nWe are confused with the above results because of whether TLSv1 is enabled or not.\r\n\r\nPlease help us with the answers to the below queries.&#160;\r\n1) Why is the OpenSSL command displaying different results(Scenario 2 &amp; 4)?&#160;\r\n2) How do I disable TLSv1 if it is enabled?&#160;\r\n2) How to confirm that TLSv1 is disabled on our server for Linux?\r\n\r\n\r\n \r\n","title":"Why does the result of OpenSSL differ for TLS versions?","body":"<p>Our Java application is running on the RHEL 8.5 OS platform. The application makes use of Apache HTTPd and the Amazon Corretto JDK 1.8.0_322 release. And we have added the below code in the <strong>ssl.conf</strong> file to enhance the security level.</p>\n<pre><code>SSLProtocol -ALL +TLSv1.2\nSSLCipherSuite ECDHE-ECDSA-AES256-GCM-SHA384:ECDHE-RSA-AES256-GCM-SHA384:ECDHE-RSA-CHACHA20-POLY1305:ECDHE-ECDSA-CHACHA20-POLY1305:ECDHE-ECDSA-AES128-GCM-SHA256:ECDHE-RSA-AES128-GCM-SHA256:ECDHE-ECDSA-AES256-SHA384:ECDHE-RSA-AES256-SHA384:ECDHE-ECDSA-AES128-SHA256:AES256-CCM:DHE-RSA-AES256-CCM\n</code></pre>\n<p>In the above part, we have enabled Only TLSv1.2.</p>\n<p>The below OpenSSL commands are displaying different results.</p>\n<p><strong>Scenario 1:</strong></p>\n<pre><code>[root@test ~]# openssl ciphers -v | awk '{print $2}' | sort | uniq \nSSLv3\nTLSv1\nTLSv1.2\nTLSv1.3\n\n</code></pre>\n<p><strong>Scenario 2:</strong></p>\n<pre><code>[root@test ~]# /usr/bin/openssl ciphers -v\nTLS_AES_256_GCM_SHA384  TLSv1.3 Kx=any      Au=any  Enc=AESGCM(256) Mac=AEAD\nTLS_CHACHA20_POLY1305_SHA256 TLSv1.3 Kx=any      Au=any  Enc=CHACHA20/POLY1305(256) Mac=AEAD\nTLS_AES_128_GCM_SHA256  TLSv1.3 Kx=any      Au=any  Enc=AESGCM(128) Mac=AEAD\nTLS_AES_128_CCM_SHA256  TLSv1.3 Kx=any      Au=any  Enc=AESCCM(128) Mac=AEAD\nECDHE-ECDSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(256) Mac=AEAD\nECDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(256) Mac=AEAD\nECDHE-ECDSA-CHACHA20-POLY1305 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=CHACHA20/POLY1305(256) Mac=AEAD\nECDHE-RSA-CHACHA20-POLY1305 TLSv1.2 Kx=ECDH     Au=RSA  Enc=CHACHA20/POLY1305(256) Mac=AEAD\nECDHE-ECDSA-AES256-CCM  TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESCCM(256) Mac=AEAD\nECDHE-ECDSA-AES128-GCM-SHA256 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESGCM(128) Mac=AEAD\nECDHE-RSA-AES128-GCM-SHA256 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AESGCM(128) Mac=AEAD\nECDHE-ECDSA-AES128-CCM  TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AESCCM(128) Mac=AEAD\nECDHE-ECDSA-AES128-SHA256 TLSv1.2 Kx=ECDH     Au=ECDSA Enc=AES(128)  Mac=SHA256\nECDHE-RSA-AES128-SHA256 TLSv1.2 Kx=ECDH     Au=RSA  Enc=AES(128)  Mac=SHA256\nECDHE-ECDSA-AES256-SHA  TLSv1 Kx=ECDH     Au=ECDSA Enc=AES(256)  Mac=SHA1\nECDHE-RSA-AES256-SHA    TLSv1 Kx=ECDH     Au=RSA  Enc=AES(256)  Mac=SHA1\nECDHE-ECDSA-AES128-SHA  TLSv1 Kx=ECDH     Au=ECDSA Enc=AES(128)  Mac=SHA1\nECDHE-RSA-AES128-SHA    TLSv1 Kx=ECDH     Au=RSA  Enc=AES(128)  Mac=SHA1\nAES256-GCM-SHA384       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(256) Mac=AEAD\nAES256-CCM              TLSv1.2 Kx=RSA      Au=RSA  Enc=AESCCM(256) Mac=AEAD\nAES128-GCM-SHA256       TLSv1.2 Kx=RSA      Au=RSA  Enc=AESGCM(128) Mac=AEAD\nAES128-CCM              TLSv1.2 Kx=RSA      Au=RSA  Enc=AESCCM(128) Mac=AEAD\nAES256-SHA256           TLSv1.2 Kx=RSA      Au=RSA  Enc=AES(256)  Mac=SHA256\nAES128-SHA256           TLSv1.2 Kx=RSA      Au=RSA  Enc=AES(128)  Mac=SHA256\nAES256-SHA              SSLv3 Kx=RSA      Au=RSA  Enc=AES(256)  Mac=SHA1\nAES128-SHA              SSLv3 Kx=RSA      Au=RSA  Enc=AES(128)  Mac=SHA1\nDHE-RSA-AES256-GCM-SHA384 TLSv1.2 Kx=DH       Au=RSA  Enc=AESGCM(256) Mac=AEAD\nDHE-RSA-CHACHA20-POLY1305 TLSv1.2 Kx=DH       Au=RSA  Enc=CHACHA20/POLY1305(256) Mac=AEAD\nDHE-RSA-AES256-CCM      TLSv1.2 Kx=DH       Au=RSA  Enc=AESCCM(256) Mac=AEAD\nDHE-RSA-AES128-GCM-SHA256 TLSv1.2 Kx=DH       Au=RSA  Enc=AESGCM(128) Mac=AEAD\nDHE-RSA-AES128-CCM      TLSv1.2 Kx=DH       Au=RSA  Enc=AESCCM(128) Mac=AEAD\nDHE-RSA-AES256-SHA256   TLSv1.2 Kx=DH       Au=RSA  Enc=AES(256)  Mac=SHA256\nDHE-RSA-AES128-SHA256   TLSv1.2 Kx=DH       Au=RSA  Enc=AES(128)  Mac=SHA256\nDHE-RSA-AES256-SHA      SSLv3 Kx=DH       Au=RSA  Enc=AES(256)  Mac=SHA1\nDHE-RSA-AES128-SHA      SSLv3 Kx=DH       Au=RSA  Enc=AES(128)  Mac=SHA1\nPSK-AES256-GCM-SHA384   TLSv1.2 Kx=PSK      Au=PSK  Enc=AESGCM(256) Mac=AEAD\nPSK-CHACHA20-POLY1305   TLSv1.2 Kx=PSK      Au=PSK  Enc=CHACHA20/POLY1305(256) Mac=AEAD\nPSK-AES256-CCM          TLSv1.2 Kx=PSK      Au=PSK  Enc=AESCCM(256) Mac=AEAD\nPSK-AES128-GCM-SHA256   TLSv1.2 Kx=PSK      Au=PSK  Enc=AESGCM(128) Mac=AEAD\nPSK-AES128-CCM          TLSv1.2 Kx=PSK      Au=PSK  Enc=AESCCM(128) Mac=AEAD\nPSK-AES256-CBC-SHA      SSLv3 Kx=PSK      Au=PSK  Enc=AES(256)  Mac=SHA1\nPSK-AES128-CBC-SHA256   TLSv1 Kx=PSK      Au=PSK  Enc=AES(128)  Mac=SHA256\nPSK-AES128-CBC-SHA      SSLv3 Kx=PSK      Au=PSK  Enc=AES(128)  Mac=SHA1\nDHE-PSK-AES256-GCM-SHA384 TLSv1.2 Kx=DHEPSK   Au=PSK  Enc=AESGCM(256) Mac=AEAD\nDHE-PSK-CHACHA20-POLY1305 TLSv1.2 Kx=DHEPSK   Au=PSK  Enc=CHACHA20/POLY1305(256) Mac=AEAD\nDHE-PSK-AES256-CCM      TLSv1.2 Kx=DHEPSK   Au=PSK  Enc=AESCCM(256) Mac=AEAD\nDHE-PSK-AES128-GCM-SHA256 TLSv1.2 Kx=DHEPSK   Au=PSK  Enc=AESGCM(128) Mac=AEAD\nDHE-PSK-AES128-CCM      TLSv1.2 Kx=DHEPSK   Au=PSK  Enc=AESCCM(128) Mac=AEAD\nDHE-PSK-AES256-CBC-SHA  SSLv3 Kx=DHEPSK   Au=PSK  Enc=AES(256)  Mac=SHA1\nDHE-PSK-AES128-CBC-SHA256 TLSv1 Kx=DHEPSK   Au=PSK  Enc=AES(128)  Mac=SHA256\nDHE-PSK-AES128-CBC-SHA  SSLv3 Kx=DHEPSK   Au=PSK  Enc=AES(128)  Mac=SHA1\nECDHE-PSK-CHACHA20-POLY1305 TLSv1.2 Kx=ECDHEPSK Au=PSK  Enc=CHACHA20/POLY1305(256) Mac=AEAD\nECDHE-PSK-AES256-CBC-SHA TLSv1 Kx=ECDHEPSK Au=PSK  Enc=AES(256)  Mac=SHA1\nECDHE-PSK-AES128-CBC-SHA256 TLSv1 Kx=ECDHEPSK Au=PSK  Enc=AES(128)  Mac=SHA256\nECDHE-PSK-AES128-CBC-SHA TLSv1 Kx=ECDHEPSK Au=PSK  Enc=AES(128)  Mac=SHA1\n[root@test ~]#\n\n</code></pre>\n<p><strong>Scenario 3:</strong></p>\n<pre><code>[root@test ~]# openssl s_client -connect &lt;IP_ADDRESS&gt;:8443 -tls1\nCONNECTED(00000003)\n139679030896448:error:1409442E:SSL routines:ssl3_read_bytes:tlsv1 alert protocol version:ssl/record/rec_layer_s3.c:1544:SSL alert number 70\n---\nno peer certificate available\n---\nNo client certificate CA names sent\n---\nSSL handshake has read 7 bytes and written 104 bytes\nVerification: OK\n---\nNew, (NONE), Cipher is (NONE)\nSecure Renegotiation IS NOT supported\nCompression: NONE\nExpansion: NONE\nNo ALPN negotiated\nSSL-Session:\n    Protocol  : TLSv1\n    Cipher    : 0000\n    Session-ID:\n    Session-ID-ctx:\n    Master-Key:\n    PSK identity: None\n    PSK identity hint: None\n    SRP username: None\n    Start Time: 1662128840\n    Timeout   : 7200 (sec)\n    Verify return code: 0 (ok)\n    Extended master secret: no\n---\n</code></pre>\n<p><strong>Scenario 4:</strong></p>\n<pre><code>[root@test ~]# nmap -sV --script ssl-enum-ciphers -p 8443 &lt;IP_ADDRESS&gt;\nStarting Nmap 7.70 ( https://nmap.org ) at 2022-09-02 20:02 IST\nmass_dns: warning: Unable to open /etc/resolv.conf. Try using --system-dns or specify valid servers with --dns-servers\nmass_dns: warning: Unable to determine any DNS servers. Reverse DNS is disabled. Try using --system-dns or specify valid servers with --dns-servers\nNmap scan report for XXXXX (IP_ADDRESS)\nHost is up (0.00067s latency).\n\nPORT     STATE SERVICE  VERSION\n8443/tcp open  ssl/http Apache httpd\n|_http-server-header: Apache\n| ssl-enum-ciphers:\n|   TLSv1.2:\n|     ciphers:\n|       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384 (secp256r1) - A\n|       TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384 (secp256r1) - A\n|     compressors:\n|       NULL\n|     cipher preference: client\n|_  least strength: A\nMAC Address: 00:50:56:A7:92:7B (VMware)\n\nService detection performed. Please report any incorrect results at https://nmap.org/submit/ .\nNmap done: 1 IP address (1 host up) scanned in 12.90 seconds\n</code></pre>\n<p>In the above results, scenario 1 and scenario 2 is showing that TLSv1 is also enabled. But scenario 3 and scenario 4 is showing that only TLSv1.2 is enabled.</p>\n<p>We are confused with the above results because of whether TLSv1 is enabled or not.</p>\n<p>Please help us with the answers to the below queries.</p>\n<ol>\n<li>Why is the OpenSSL command displaying different results(Scenario 2 &amp; 4)?</li>\n<li>How do I disable TLSv1 if it is enabled?</li>\n<li>How to confirm that TLSv1 is disabled on our server for Linux?</li>\n</ol>\n"},{"tags":["java","mysql","sql","hibernate"],"comments":[{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1471286679,"post_id":38960921,"comment_id":65276606,"body_markdown":"Don&#39;t use `session.close()` if you&#39;ve obtained session via `getCurrentSession()`. That&#39;s probably exhausting your connection pool.","body":"Don&#39;t use <code>session.close()</code> if you&#39;ve obtained session via <code>getCurrentSession()</code>. That&#39;s probably exhausting your connection pool."},{"owner":{"account_id":7745838,"reputation":451,"user_id":5863657,"accept_rate":75,"display_name":"Alessandro"},"score":0,"creation_date":1471286827,"post_id":38960921,"comment_id":65276676,"body_markdown":"Thanks for the answer, but it didn&#39;t work. Still getting the same exception.","body":"Thanks for the answer, but it didn&#39;t work. Still getting the same exception."},{"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"score":0,"creation_date":1471287013,"post_id":38960921,"comment_id":65276775,"body_markdown":"That means your connection pool has really exhausted all the connections, are there too many long running database calls ?","body":"That means your connection pool has really exhausted all the connections, are there too many long running database calls ?"},{"owner":{"account_id":7745838,"reputation":451,"user_id":5863657,"accept_rate":75,"display_name":"Alessandro"},"score":0,"creation_date":1471287689,"post_id":38960921,"comment_id":65277147,"body_markdown":"This is the first and only (at least for now) database call that I&#39;m making.","body":"This is the first and only (at least for now) database call that I&#39;m making."}],"answers":[{"tags":[],"owner":{"account_id":1592127,"reputation":18171,"user_id":1475228,"accept_rate":84,"display_name":"Pritam Banerjee"},"down_vote_count":0,"up_vote_count":10,"is_accepted":true,"score":10,"last_activity_date":1471287482,"creation_date":1471287055,"answer_id":38961129,"question_id":38960921,"body_markdown":"Try this :\r\n\r\n**HibernateUtil:**\r\n\r\n    public static Session getHibernateSession() {\r\n    \r\n    \tfinal SessionFactory sf = new Configuration()\r\n    \t\t.configure(&quot;yourConfig.cfg.xml&quot;).buildSessionFactory();\r\n    \r\n    \t// factory = new Configuration().configure().buildSessionFactory();\r\n    \tfinal Session session = sf.openSession();\r\n    \treturn session;\r\n        }\r\n\r\nAnd instead of using SessionFactory use Session:\r\n\r\n    final Session session = HibernateUtil.getHibernateSession();\r\n\r\nAnd then use:\r\n\r\n     Transaction tx = session.beginTransaction();\r\n     // all your methods\r\n     tx.commit();\r\n     session.close();\r\n\r\nHope this helps.\r\n\r\nAnd you can actually not have that connection pool property in your hbm if you don&#39;t need it.\r\n","title":"Java/Hibernate - Exception: The internal connection pool has reached its maximum size and no connection is currently available","body":"<p>Try this :</p>\n\n<p><strong>HibernateUtil:</strong></p>\n\n<pre><code>public static Session getHibernateSession() {\n\n    final SessionFactory sf = new Configuration()\n        .configure(\"yourConfig.cfg.xml\").buildSessionFactory();\n\n    // factory = new Configuration().configure().buildSessionFactory();\n    final Session session = sf.openSession();\n    return session;\n    }\n</code></pre>\n\n<p>And instead of using SessionFactory use Session:</p>\n\n<pre><code>final Session session = HibernateUtil.getHibernateSession();\n</code></pre>\n\n<p>And then use:</p>\n\n<pre><code> Transaction tx = session.beginTransaction();\n // all your methods\n tx.commit();\n session.close();\n</code></pre>\n\n<p>Hope this helps.</p>\n\n<p>And you can actually not have that connection pool property in your hbm if you don't need it.</p>\n"},{"tags":[],"owner":{"account_id":6964901,"reputation":10403,"user_id":5343269,"accept_rate":45,"display_name":"11thdimension"},"down_vote_count":2,"up_vote_count":25,"is_accepted":false,"score":23,"last_activity_date":1471287097,"creation_date":1471287097,"answer_id":38961145,"question_id":38960921,"body_markdown":"Your connection pool has exhausted the connections because you&#39;re using single connection in the pool.\r\n\r\n    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\nChange this property to something that you&#39;ll be comfortable with, like `100`","title":"Java/Hibernate - Exception: The internal connection pool has reached its maximum size and no connection is currently available","body":"<p>Your connection pool has exhausted the connections because you're using single connection in the pool.</p>\n\n<pre><code>&lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n</code></pre>\n\n<p>Change this property to something that you'll be comfortable with, like <code>100</code></p>\n"},{"tags":[],"owner":{"account_id":7318713,"reputation":57,"user_id":5575385,"display_name":"user5575385"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1482455689,"creation_date":1482455071,"answer_id":41293863,"question_id":38960921,"body_markdown":"    &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n\r\nTry to change the connection pool size to a bigger size, like 100 or so.\r\n\r\n    &lt;property name=&quot;connection.pool_size&quot;&gt;100&lt;/property&gt;","title":"Java/Hibernate - Exception: The internal connection pool has reached its maximum size and no connection is currently available","body":"<pre><code>&lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n</code></pre>\n\n<p>Try to change the connection pool size to a bigger size, like 100 or so.</p>\n\n<pre><code>&lt;property name=\"connection.pool_size\"&gt;100&lt;/property&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18684513,"reputation":21,"user_id":13620344,"display_name":"Paolo Guagliumi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662133776,"creation_date":1662133776,"answer_id":73585135,"question_id":38960921,"body_markdown":"I also happily solved this problem by increasing the value of the **connection.pool_size** property to 100\r\n\r\n    &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n    &lt;property name=&quot;connection.pool_size&quot;&gt;100&lt;/property&gt;","title":"Java/Hibernate - Exception: The internal connection pool has reached its maximum size and no connection is currently available","body":"<p>I also happily solved this problem by increasing the value of the <strong>connection.pool_size</strong> property to 100</p>\n<pre><code>&lt;!-- JDBC connection pool (use the built-in) --&gt;\n&lt;property name=&quot;connection.pool_size&quot;&gt;100&lt;/property&gt;\n</code></pre>\n"}],"owner":{"account_id":7745838,"reputation":451,"user_id":5863657,"accept_rate":75,"display_name":"Alessandro"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29135,"favorite_count":0,"down_vote_count":0,"up_vote_count":14,"accepted_answer_id":38961129,"answer_count":4,"score":14,"last_activity_date":1662133776,"creation_date":1471286213,"question_id":38960921,"body_markdown":"I&#39;m using Hibernate for the first time for a University project and I&#39;m a bit of a newbie. I think I followed all the instructions given by my professor and by some tutorials I read, but I keep getting the Exception that is in the title:\r\n\r\n    Exception in thread &quot;main&quot; org.hibernate.HibernateException: The internal connection pool has reached its maximum size and no connection is currently available!\r\n\r\nWhat I&#39;m trying to do is simply storing an object (&lt;b&gt;AbitazioneDB&lt;/b&gt;) into a MySql Database that I have already created. This is my configuration file:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;!DOCTYPE hibernate-configuration PUBLIC\r\n        &quot;-//Hibernate/Hibernate Configuration DTD 3.0//EN&quot;\r\n        &quot;http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd&quot;&gt;\r\n\t\t\r\n    &lt;hibernate-configuration&gt;\r\n        &lt;session-factory&gt;\r\n            &lt;!-- Connection to the database --&gt;\r\n            &lt;property name=&quot;connection.driver_class&quot;&gt;com.mysql.jdbc.Driver&lt;/property&gt;\r\n            &lt;property name=&quot;connection.url&quot;&gt;jdbc:mysql://localhost:3306/AllarmiDomesticiDB&lt;/property&gt;\r\n        \r\n            &lt;!-- Credentials --&gt;\r\n            &lt;property name=&quot;hibernate.connection.username&quot;&gt;root&lt;/property&gt;\r\n            &lt;property name=&quot;connection.password&quot;&gt;password&lt;/property&gt;\r\n        \r\n            &lt;!-- JDBC connection pool (use the built-in) --&gt;\r\n            &lt;property name=&quot;connection.pool_size&quot;&gt;1&lt;/property&gt;\r\n        \r\n            &lt;!-- SQL dialect --&gt;\r\n            &lt;property name=&quot;dialect&quot;&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\r\n\r\n            &lt;!-- Enable Hibernate&#39;s automatic session context management --&gt;\r\n            &lt;property name=&quot;current_session_context_class&quot;&gt;thread&lt;/property&gt;\r\n\r\n            &lt;!-- Disable the second-level cache  --&gt;\r\n            &lt;property name=&quot;cache.provider_class&quot;&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\r\n        \r\n            &lt;property name=&quot;show_sql&quot;&gt;true&lt;/property&gt;\r\n\r\n            &lt;!-- Entity --&gt;\r\n        \r\n            &lt;mapping class=&quot;it.allarmiDomestici.centraleOperativaRemota.dbWrapper.AbitazioneDB&quot; /&gt;\r\n        \r\n        &lt;/session-factory&gt;\r\n    &lt;/hibernate-configuration&gt;\r\n\r\nThis is my &lt;b&gt;AbitazioneDB&lt;/b&gt; class (I will omitt getters and setters):\r\n\r\n    @Entity\r\n    @Table(name=&quot;abitazioni&quot;)\r\n    public class AbitazioneDB {\r\n\t\r\n\t    @Id\r\n\t    @GeneratedValue\r\n\t    @Column(name=&quot;id&quot;)\r\n\t    private Integer id;\r\n\t\r\n\t    @Column(name=&quot;indirizzo&quot;)\r\n\t    private String indirizzo;\r\n\t\r\n\t    @Column(name=&quot;nome_proprietario&quot;)\r\n\t    private String nomeProprietario;\r\n\t\r\n\t    @Column(name=&quot;tel_proprietario&quot;)\r\n\t    private String telProprietario;\r\n\t\r\n\t    public AbitazioneDB(){\r\n\t\t    super();\r\n        }\r\n\r\n        public AbitazioneDB save(){\r\n\r\n\t\t    SessionFactory sf = HibernateUtil.getSessionFactory();\r\n\t\t    Session session = sf.getCurrentSession();\r\n\t\t    session.beginTransaction();\r\n\r\n\t\t    Integer id = (Integer) session.save(this);\r\n\t\t    this.setId(id);\r\n\t\t\r\n\t\t    session.getTransaction().commit();\t\t\r\n\t\t    session.close();\r\n\t\t\r\n\t\t    return this;\r\n\t    }\r\n\t}\r\n\r\nThis is my &lt;b&gt;HibernateUtil&lt;/b&gt; class:\r\n\r\n    public class HibernateUtil {\r\n\r\n\t    private static SessionFactory sessionFactory;\r\n\r\n\t    private static SessionFactory createSessionFactory() {\r\n\t        sessionFactory = new Configuration().configure().buildSessionFactory();\r\n\t        return sessionFactory;\r\n\t    }\r\n\r\n\t    public static SessionFactory getSessionFactory() {\r\n\t\t    if (sessionFactory == null)\r\n\t\t\t    sessionFactory = createSessionFactory();\r\n\t\t\r\n\t\t    return sessionFactory;\r\n\t    }\r\n    }\r\n\r\nAnd this is my &lt;b&gt;TestHibernate&lt;/b&gt; class, with the `main` method:\r\n\r\n    public class TestHibernate {\r\n\r\n\t    public static void main(String[] args) {\r\n\t\t    AbitazioneDB ab = new AbitazioneDB();\r\n\t\t\r\n\t\t    ab.setIndirizzo(&quot;Via Napoli, 29&quot;);\r\n\t\t    ab.setNomeProprietario(&quot;Mario Rossi&quot;);\r\n\t\t    ab.setTelProprietario(&quot;3333333333&quot;);\r\n\t\t\r\n\t\t    ab.save();\r\n\t\t\r\n\t\t    System.out.println(&quot;Ok!&quot;);\r\n\t\t\r\n\t    }\r\n    }\r\n\r\nWhen I run &lt;b&gt;TestHibernate&lt;/b&gt; I always get that exception and I have no idea why. Maybe I should change the `connection.pool_size` property, but if I do so it seems that I only get more errors. Can someone help me?","title":"Java/Hibernate - Exception: The internal connection pool has reached its maximum size and no connection is currently available","body":"<p>I'm using Hibernate for the first time for a University project and I'm a bit of a newbie. I think I followed all the instructions given by my professor and by some tutorials I read, but I keep getting the Exception that is in the title:</p>\n\n<pre><code>Exception in thread \"main\" org.hibernate.HibernateException: The internal connection pool has reached its maximum size and no connection is currently available!\n</code></pre>\n\n<p>What I'm trying to do is simply storing an object (<b>AbitazioneDB</b>) into a MySql Database that I have already created. This is my configuration file:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;!DOCTYPE hibernate-configuration PUBLIC\n    \"-//Hibernate/Hibernate Configuration DTD 3.0//EN\"\n    \"http://www.hibernate.org/dtd/hibernate-configuration-3.0.dtd\"&gt;\n\n&lt;hibernate-configuration&gt;\n    &lt;session-factory&gt;\n        &lt;!-- Connection to the database --&gt;\n        &lt;property name=\"connection.driver_class\"&gt;com.mysql.jdbc.Driver&lt;/property&gt;\n        &lt;property name=\"connection.url\"&gt;jdbc:mysql://localhost:3306/AllarmiDomesticiDB&lt;/property&gt;\n\n        &lt;!-- Credentials --&gt;\n        &lt;property name=\"hibernate.connection.username\"&gt;root&lt;/property&gt;\n        &lt;property name=\"connection.password\"&gt;password&lt;/property&gt;\n\n        &lt;!-- JDBC connection pool (use the built-in) --&gt;\n        &lt;property name=\"connection.pool_size\"&gt;1&lt;/property&gt;\n\n        &lt;!-- SQL dialect --&gt;\n        &lt;property name=\"dialect\"&gt;org.hibernate.dialect.MySQLDialect&lt;/property&gt;\n\n        &lt;!-- Enable Hibernate's automatic session context management --&gt;\n        &lt;property name=\"current_session_context_class\"&gt;thread&lt;/property&gt;\n\n        &lt;!-- Disable the second-level cache  --&gt;\n        &lt;property name=\"cache.provider_class\"&gt;org.hibernate.cache.NoCacheProvider&lt;/property&gt;\n\n        &lt;property name=\"show_sql\"&gt;true&lt;/property&gt;\n\n        &lt;!-- Entity --&gt;\n\n        &lt;mapping class=\"it.allarmiDomestici.centraleOperativaRemota.dbWrapper.AbitazioneDB\" /&gt;\n\n    &lt;/session-factory&gt;\n&lt;/hibernate-configuration&gt;\n</code></pre>\n\n<p>This is my <b>AbitazioneDB</b> class (I will omitt getters and setters):</p>\n\n<pre><code>@Entity\n@Table(name=\"abitazioni\")\npublic class AbitazioneDB {\n\n    @Id\n    @GeneratedValue\n    @Column(name=\"id\")\n    private Integer id;\n\n    @Column(name=\"indirizzo\")\n    private String indirizzo;\n\n    @Column(name=\"nome_proprietario\")\n    private String nomeProprietario;\n\n    @Column(name=\"tel_proprietario\")\n    private String telProprietario;\n\n    public AbitazioneDB(){\n        super();\n    }\n\n    public AbitazioneDB save(){\n\n        SessionFactory sf = HibernateUtil.getSessionFactory();\n        Session session = sf.getCurrentSession();\n        session.beginTransaction();\n\n        Integer id = (Integer) session.save(this);\n        this.setId(id);\n\n        session.getTransaction().commit();      \n        session.close();\n\n        return this;\n    }\n}\n</code></pre>\n\n<p>This is my <b>HibernateUtil</b> class:</p>\n\n<pre><code>public class HibernateUtil {\n\n    private static SessionFactory sessionFactory;\n\n    private static SessionFactory createSessionFactory() {\n        sessionFactory = new Configuration().configure().buildSessionFactory();\n        return sessionFactory;\n    }\n\n    public static SessionFactory getSessionFactory() {\n        if (sessionFactory == null)\n            sessionFactory = createSessionFactory();\n\n        return sessionFactory;\n    }\n}\n</code></pre>\n\n<p>And this is my <b>TestHibernate</b> class, with the <code>main</code> method:</p>\n\n<pre><code>public class TestHibernate {\n\n    public static void main(String[] args) {\n        AbitazioneDB ab = new AbitazioneDB();\n\n        ab.setIndirizzo(\"Via Napoli, 29\");\n        ab.setNomeProprietario(\"Mario Rossi\");\n        ab.setTelProprietario(\"3333333333\");\n\n        ab.save();\n\n        System.out.println(\"Ok!\");\n\n    }\n}\n</code></pre>\n\n<p>When I run <b>TestHibernate</b> I always get that exception and I have no idea why. Maybe I should change the <code>connection.pool_size</code> property, but if I do so it seems that I only get more errors. Can someone help me?</p>\n"},{"tags":["java","spring","spring-boot","spring-async"],"comments":[{"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"score":2,"creation_date":1628583459,"post_id":68722635,"comment_id":121452964,"body_markdown":"I already know that it is not probably the solution, but a good approach is to defining  two methods, the one with the business logic, and the async wrapper method, and test the one with the business logic","body":"I already know that it is not probably the solution, but a good approach is to defining  two methods, the one with the business logic, and the async wrapper method, and test the one with the business logic"}],"answers":[{"tags":[],"owner":{"account_id":1374146,"reputation":485,"user_id":1308489,"display_name":"embuc"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1629114783,"creation_date":1629114783,"answer_id":68802355,"question_id":68722635,"body_markdown":"If it is possible for your case, separate testing of asynchronicity and the actual unit of work. E.g. write test that will execute (no &#39;Async&#39; functionality) Service.run() and assert that no/any/some exceptions are thrown. \r\nIn second test (utilizing @Async execution) you could test for the actual unit of work i.e. use your Spring provided bean and test for e.g.:\r\n\r\n    Awaitility.await().atMost(1000, TimeUnit.MILLISECONDS).untilAsserted(() -&gt; runAnyCodeThatChecksTheResultOfYourServiceRunMethod());\r\n\r\n---\r\nAnother method might be to replace the return type of the Service.run() method to java.util.concurrent.Future, Spring will then re-throw the exception. From AsyncExecutionAspectSupport.handleError javadoc:\r\n\r\n&quot;If the return type of the method is a {@link Future} object (again, if applicable), the original exception can be propagated by just throwing it at the higher level. However, for all other cases, the exception will not be transmitted back to the client.&quot;\r\n","title":"How to test for Exception in @Async method?","body":"<p>If it is possible for your case, separate testing of asynchronicity and the actual unit of work. E.g. write test that will execute (no 'Async' functionality) Service.run() and assert that no/any/some exceptions are thrown.\nIn second test (utilizing @Async execution) you could test for the actual unit of work i.e. use your Spring provided bean and test for e.g.:</p>\n<pre><code>Awaitility.await().atMost(1000, TimeUnit.MILLISECONDS).untilAsserted(() -&gt; runAnyCodeThatChecksTheResultOfYourServiceRunMethod());\n</code></pre>\n<hr />\n<p>Another method might be to replace the return type of the Service.run() method to java.util.concurrent.Future, Spring will then re-throw the exception. From AsyncExecutionAspectSupport.handleError javadoc:</p>\n<p>&quot;If the return type of the method is a {@link Future} object (again, if applicable), the original exception can be propagated by just throwing it at the higher level. However, for all other cases, the exception will not be transmitted back to the client.&quot;</p>\n"},{"tags":[],"owner":{"account_id":10432483,"reputation":2673,"user_id":7691891,"display_name":"Smaillns"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1662133690,"creation_date":1661506549,"answer_id":73498968,"question_id":68722635,"body_markdown":"```java\r\nimport static org.awaitility.Awaitility.await;\r\n\r\nAwaitility.await().atMost(5, TimeUnit.SECONDS)\r\n  .untilAsserted(() -&gt; assertThrows(RuntimeException.class, () -&gt;  service.run()));\r\n```","title":"How to test for Exception in @Async method?","body":"<pre class=\"lang-java prettyprint-override\"><code>import static org.awaitility.Awaitility.await;\n\nAwaitility.await().atMost(5, TimeUnit.SECONDS)\n  .untilAsserted(() -&gt; assertThrows(RuntimeException.class, () -&gt;  service.run()));\n</code></pre>\n"}],"owner":{"account_id":1229539,"reputation":82701,"user_id":1194415,"accept_rate":76,"display_name":"membersound"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":899,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1662133690,"creation_date":1628580538,"question_id":68722635,"body_markdown":"How can I assert that a certain exception is thrown inside an `@Async` method?\r\nBecause the following exception is caught by Springs `SimpleAsyncUncaughtExceptionHandler`.\r\n\r\n    @Service\r\n    public class Service {\r\n          @Async\r\n          public void run() {\r\n               throw new RuntimeException();\r\n          }\r\n    }\r\n    \r\n    public class Test {\r\n       @Test\r\n       public void test() {\r\n            assertDoesNotThrow(() -&gt; service.run()); //this always passes\r\n       }\r\n    }\r\n\r\n","title":"How to test for Exception in @Async method?","body":"<p>How can I assert that a certain exception is thrown inside an <code>@Async</code> method?\nBecause the following exception is caught by Springs <code>SimpleAsyncUncaughtExceptionHandler</code>.</p>\n<pre><code>@Service\npublic class Service {\n      @Async\n      public void run() {\n           throw new RuntimeException();\n      }\n}\n\npublic class Test {\n   @Test\n   public void test() {\n        assertDoesNotThrow(() -&gt; service.run()); //this always passes\n   }\n}\n</code></pre>\n"},{"tags":["java","reactjs","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":7236580,"reputation":16350,"user_id":5521607,"accept_rate":25,"display_name":"Olivier Boiss&#233;"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662133670,"creation_date":1662133670,"answer_id":73585114,"question_id":73585033,"body_markdown":"I think the headers need to be passed in the third argument of the `put` method. The second argurment is for the data to be sent in the body.\r\n\r\n```\r\nawait axios.put(&quot;/member/pwd&quot;, null, {\r\n  headers: { Authorization: hash }\r\n})\r\n```","title":"Unable to read header value sent by React from Spring-Boot","body":"<p>I think the headers need to be passed in the third argument of the <code>put</code> method. The second argurment is for the data to be sent in the body.</p>\n<pre><code>await axios.put(&quot;/member/pwd&quot;, null, {\n  headers: { Authorization: hash }\n})\n</code></pre>\n"}],"owner":{"account_id":21310254,"reputation":109,"user_id":15684755,"display_name":"codingRookie"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":357,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73585114,"answer_count":1,"score":0,"last_activity_date":1662133670,"creation_date":1662133270,"question_id":73585033,"body_markdown":"I would like to send the value to the spring boot through the header using the http put method in React.\r\n\r\nSo I made an api call code by using axios.\r\n```\r\nimport axios from &#39;axios&#39;;\r\nimport {hashPwd} from &#39;../../login/presentation/Encryptpwd&#39;\r\n\r\nexport async function  ChangeNewPwd(newPwd) {\r\n    alert(newPwd);\r\n    const hash = hashPwd(sessionStorage.getItem(&quot;memberHash&quot;)+newPwd);\r\n    alert(hash);\r\n    let result;\r\n    return await axios.put(&quot;/member/pwd&quot;,{\r\n        headers: {\r\n            Authorization:hash\r\n        }\r\n    })\r\n    .then(function(res){\r\n        result = res.data;\r\n        return result;        \r\n    })\r\n    .catch(function(error){\r\n        console.log(error);\r\n        result = 500;\r\n        return result;\r\n    })\r\n}\r\n```\r\nBut spring boot cannote read header value and sending this error\r\n```\r\nw.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingRequestHeaderException: Required request header &#39;Authorization&#39; for method parameter type String is not present]\r\n```\r\n\r\nI have no idea why I&#39;m getting this error.\r\nHow can I solve this problem?\r\n\r\nI&#39;ll show my spring boot code below.\r\n```\r\n    @PutMapping(&quot;/pwd&quot;)\r\n    public int updatePwd(@RequestHeader(&quot;Authorization&quot;) String autho){\r\n        logger.info(&quot;Changing pwd!!!&quot;);\r\n        logger.info(autho);\r\n        return 500;\r\n    }\r\n```","title":"Unable to read header value sent by React from Spring-Boot","body":"<p>I would like to send the value to the spring boot through the header using the http put method in React.</p>\n<p>So I made an api call code by using axios.</p>\n<pre><code>import axios from 'axios';\nimport {hashPwd} from '../../login/presentation/Encryptpwd'\n\nexport async function  ChangeNewPwd(newPwd) {\n    alert(newPwd);\n    const hash = hashPwd(sessionStorage.getItem(&quot;memberHash&quot;)+newPwd);\n    alert(hash);\n    let result;\n    return await axios.put(&quot;/member/pwd&quot;,{\n        headers: {\n            Authorization:hash\n        }\n    })\n    .then(function(res){\n        result = res.data;\n        return result;        \n    })\n    .catch(function(error){\n        console.log(error);\n        result = 500;\n        return result;\n    })\n}\n</code></pre>\n<p>But spring boot cannote read header value and sending this error</p>\n<pre><code>w.s.m.s.DefaultHandlerExceptionResolver : Resolved [org.springframework.web.bind.MissingRequestHeaderException: Required request header 'Authorization' for method parameter type String is not present]\n</code></pre>\n<p>I have no idea why I'm getting this error.\nHow can I solve this problem?</p>\n<p>I'll show my spring boot code below.</p>\n<pre><code>    @PutMapping(&quot;/pwd&quot;)\n    public int updatePwd(@RequestHeader(&quot;Authorization&quot;) String autho){\n        logger.info(&quot;Changing pwd!!!&quot;);\n        logger.info(autho);\n        return 500;\n    }\n</code></pre>\n"},{"tags":["java","spring"],"comments":[{"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"score":0,"creation_date":1661947192,"post_id":73555197,"comment_id":129891848,"body_markdown":"please show request data and controller impl","body":"please show request data and controller impl"},{"owner":{"account_id":16809576,"reputation":31,"user_id":12152892,"display_name":"Sergio"},"score":0,"creation_date":1661947672,"post_id":73555197,"comment_id":129892007,"body_markdown":"I added them, does the problem exist in the controllers? I need a separate mapping for the foreign key?","body":"I added them, does the problem exist in the controllers? I need a separate mapping for the foreign key?"}],"answers":[{"tags":[],"owner":{"account_id":5613556,"reputation":2315,"user_id":4445625,"accept_rate":50,"display_name":"Marc Stroebel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1661948405,"creation_date":1661948405,"answer_id":73555818,"question_id":73555197,"body_markdown":"you&#39;ll have to link the entities...\r\n\r\n    @PostMapping(&quot;/admins&quot;)\r\n    @Transactional\r\n    Admin createAdmin(@RequestBody Admin newAdmin) {\r\n      //find palestra by id\r\n      Palestra p = palestraRepo.findById(newAdmin.id_palestra);\r\n      Admin storedAdmin = adminRepository.save(newAdmin);\r\n      //link with admin\r\n      p.setAdmin(storedAdmin);\r\n      palestraRepo.save(p)\r\n      return storedAdmin;\r\n    }","title":"How to implement @ForeignKey correctly using Spring Boot","body":"<p>you'll have to link the entities...</p>\n<pre><code>@PostMapping(&quot;/admins&quot;)\n@Transactional\nAdmin createAdmin(@RequestBody Admin newAdmin) {\n  //find palestra by id\n  Palestra p = palestraRepo.findById(newAdmin.id_palestra);\n  Admin storedAdmin = adminRepository.save(newAdmin);\n  //link with admin\n  p.setAdmin(storedAdmin);\n  palestraRepo.save(p)\n  return storedAdmin;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16809576,"reputation":31,"user_id":12152892,"display_name":"Sergio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1662133656,"creation_date":1662133656,"answer_id":73585112,"question_id":73555197,"body_markdown":"I answer my own question because I found the problem. In the way I created models, controllers and repositories the entities were already linked by the relationship (@ManyToOne and @OneToMany). The real &quot;problem&quot; was how the request was submitted through Postman.\r\nI had to insert in my request the admin_id value manually like this:\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/FOwQr.png","title":"How to implement @ForeignKey correctly using Spring Boot","body":"<p>I answer my own question because I found the problem. In the way I created models, controllers and repositories the entities were already linked by the relationship (@ManyToOne and @OneToMany). The real &quot;problem&quot; was how the request was submitted through Postman.\nI had to insert in my request the admin_id value manually like this:\n<a href=\"https://i.stack.imgur.com/FOwQr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/FOwQr.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":16809576,"reputation":31,"user_id":12152892,"display_name":"Sergio"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73585112,"answer_count":2,"score":0,"last_activity_date":1662133656,"creation_date":1661945203,"question_id":73555197,"body_markdown":"I am developing my first application using Spring Boot to build my web service. The application is supposed to be a simple gym management system. Actually I managed to create model, controller and repository for Admin (gym owner entity) and Palestra (gym entity).\r\n\r\n**Admin.java**\r\n\r\n    @Entity(name=&quot;admin&quot;)\r\n    public class Admin {\r\n        private @Id @GeneratedValue Long id_admin;\r\n    \tprivate String nome;\r\n    \tprivate String cognome;\r\n    \tprivate String email;\r\n    \tprivate String password;\r\n    \t\r\n    \t// Retionships\r\n    \t@OneToMany(mappedBy=&quot;admin&quot;, fetch = FetchType.LAZY)\r\n    \tprivate List &lt;Palestra&gt; palestre;\r\n    \t\r\n    \tAdmin() {} // Empty constructor\r\n    \r\n    \tpublic Admin(Long id_admin, String nome, String cognome, String email, String password) {\r\n    \t\tsuper();\r\n    \t\tthis.nome = nome;\r\n    \t\tthis.cognome = cognome;\r\n    \t\tthis.email = email;\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic Long getId_admin() {\r\n    \t\treturn id_admin;\r\n    \t}\r\n    \r\n    \tpublic String getNome() {\r\n    \t\treturn nome;\r\n    \t}\r\n    \r\n    \tpublic void setNome(String nome) {\r\n    \t\tthis.nome = nome;\r\n    \t}\r\n    \r\n    \tpublic String getCognome() {\r\n    \t\treturn cognome;\r\n    \t}\r\n    \r\n    \tpublic void setCognome(String cognome) {\r\n    \t\tthis.cognome = cognome;\r\n    \t}\r\n    \r\n    \tpublic String getEmail() {\r\n    \t\treturn email;\r\n    \t}\r\n    \r\n    \tpublic void setEmail(String email) {\r\n    \t\tthis.email = email;\r\n    \t}\r\n    \r\n    \tpublic String getPassword() {\r\n    \t\treturn password;\r\n    \t}\r\n    \r\n    \tpublic void setPassword(String password) {\r\n    \t\tthis.password = password;\r\n    \t}\r\n    \r\n    \tpublic List&lt;Palestra&gt; getPalestre() {\r\n    \t\treturn palestre;\r\n    \t}\r\n    \r\n    \tpublic void setPalestre(List&lt;Palestra&gt; palestre) {\r\n    \t\tthis.palestre = palestre;\r\n    \t}\r\n    \t\r\n    }\r\n**AdminController.java**\r\n\r\n    @RestController\r\n    public class AdminController {\r\n    \tprivate final AdminRepository adminRepository;\r\n    \t\r\n    \tpublic AdminController(AdminRepository repository) {\r\n    \t\tadminRepository = repository;\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;/admins&quot;)\r\n    \tIterable&lt;Admin&gt; getAdmins() {\r\n    \t\treturn adminRepository.findAll();\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/admins&quot;)\r\n    \tAdmin createAdmin(@RequestBody Admin newAdmin) {\r\n    \t\treturn adminRepository.save(newAdmin);\r\n    \t}\r\n    }\r\n\r\n**Palestra.java**\r\n\r\n    @Entity(name=&quot;palestra&quot;)\r\n    public class Palestra {\r\n    \tprivate @Id @GeneratedValue Long id_palestra;\r\n    \tprivate String nome;\r\n    \tprivate String via;\r\n    \tprivate int civico;\r\n    \tprivate String citta;\r\n    \t\r\n    \t// Relationships\r\n    \t@OneToMany(mappedBy=&quot;palestra&quot;)\r\n    \tprivate List&lt;Trainer&gt; trainers;\r\n    \t\r\n    \t@ManyToOne(fetch = FetchType.LAZY)\r\n    \t@JoinColumn(name=&quot;id_admin&quot;)\r\n    \tprivate Admin admin;\r\n    \t\r\n    \tpublic Palestra() {} // Empty constructor\r\n    \r\n    \tpublic Palestra(Long id_palestra, String nome, String via, int civico, String citta) {\r\n    \t\tsuper();\r\n    \t\tthis.id_palestra = id_palestra;\r\n    \t\tthis.nome = nome;\r\n    \t\tthis.via = via;\r\n    \t\tthis.civico = civico;\r\n    \t\tthis.citta = citta;\r\n    \t}\r\n    \r\n    \tpublic Long getId_palestra() {\r\n    \t\treturn id_palestra;\r\n    \t}\r\n    \r\n    \tpublic void setId_palestra(Long id_palestra) {\r\n    \t\tthis.id_palestra = id_palestra;\r\n    \t}\r\n    \r\n    \tpublic String getNome() {\r\n    \t\treturn nome;\r\n    \t}\r\n    \r\n    \tpublic void setNome(String nome) {\r\n    \t\tthis.nome = nome;\r\n    \t}\r\n    \r\n    \tpublic String getVia() {\r\n    \t\treturn via;\r\n    \t}\r\n    \r\n    \tpublic void setVia(String via) {\r\n    \t\tthis.via = via;\r\n    \t}\r\n    \r\n    \tpublic int getCivico() {\r\n    \t\treturn civico;\r\n    \t}\r\n    \r\n    \tpublic void setCivico(int civico) {\r\n    \t\tthis.civico = civico;\r\n    \t}\r\n    \r\n    \tpublic String getCitta() {\r\n    \t\treturn citta;\r\n    \t}\r\n    \r\n    \tpublic void setCitta(String citta) {\r\n    \t\tthis.citta = citta;\r\n    \t}\r\n    \r\n    \tpublic Admin getAdmin() {\r\n    \t\treturn admin;\r\n    \t}\r\n    \r\n    \tpublic void setAdmin(Admin admin) {\r\n    \t\tthis.admin = admin;\r\n    \t}\r\n\r\n    }\r\n**PalestraController.java**\r\n\r\n    @RestController\r\n    public class PalestraController {\r\n    \tprivate final PalestraRepository palestraRepository;\r\n    \t\r\n    \tpublic PalestraController(PalestraRepository repository) {\r\n    \t\tpalestraRepository = repository;\r\n    \t}\r\n    \t\r\n    \t@GetMapping(&quot;/palestre&quot;)\r\n    \tIterable&lt;Palestra&gt; getPalestre() {\r\n    \t\treturn palestraRepository.findAll();\r\n    \t}\r\n    \t\r\n    \t@PostMapping(&quot;/palestre&quot;)\r\n    \tPalestra createPalestra(@RequestBody Palestra newPalestra) {\r\n    \t\treturn palestraRepository.save(newPalestra);\r\n    \t}\r\n    }\r\n\r\nI used Postman to send and test requests:\r\n[![enter image description here][1]][1][![enter image description here][2]][2]\r\nand this is the result stored in the database:\r\n[![enter image description here][3]][3]\r\n\r\nAs you can see *id_admin* is supposed to be foreign key but has a NULL value. How I can solve this problem?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/TMZWb.png\r\n  [2]: https://i.stack.imgur.com/R8YBt.png\r\n  [3]: https://i.stack.imgur.com/wQ4rr.png","title":"How to implement @ForeignKey correctly using Spring Boot","body":"<p>I am developing my first application using Spring Boot to build my web service. The application is supposed to be a simple gym management system. Actually I managed to create model, controller and repository for Admin (gym owner entity) and Palestra (gym entity).</p>\n<p><strong>Admin.java</strong></p>\n<pre><code>@Entity(name=&quot;admin&quot;)\npublic class Admin {\n    private @Id @GeneratedValue Long id_admin;\n    private String nome;\n    private String cognome;\n    private String email;\n    private String password;\n    \n    // Retionships\n    @OneToMany(mappedBy=&quot;admin&quot;, fetch = FetchType.LAZY)\n    private List &lt;Palestra&gt; palestre;\n    \n    Admin() {} // Empty constructor\n\n    public Admin(Long id_admin, String nome, String cognome, String email, String password) {\n        super();\n        this.nome = nome;\n        this.cognome = cognome;\n        this.email = email;\n        this.password = password;\n    }\n\n    public Long getId_admin() {\n        return id_admin;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getCognome() {\n        return cognome;\n    }\n\n    public void setCognome(String cognome) {\n        this.cognome = cognome;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    public List&lt;Palestra&gt; getPalestre() {\n        return palestre;\n    }\n\n    public void setPalestre(List&lt;Palestra&gt; palestre) {\n        this.palestre = palestre;\n    }\n    \n}\n</code></pre>\n<p><strong>AdminController.java</strong></p>\n<pre><code>@RestController\npublic class AdminController {\n    private final AdminRepository adminRepository;\n    \n    public AdminController(AdminRepository repository) {\n        adminRepository = repository;\n    }\n    \n    @GetMapping(&quot;/admins&quot;)\n    Iterable&lt;Admin&gt; getAdmins() {\n        return adminRepository.findAll();\n    }\n    \n    @PostMapping(&quot;/admins&quot;)\n    Admin createAdmin(@RequestBody Admin newAdmin) {\n        return adminRepository.save(newAdmin);\n    }\n}\n</code></pre>\n<p><strong>Palestra.java</strong></p>\n<pre><code>@Entity(name=&quot;palestra&quot;)\npublic class Palestra {\n    private @Id @GeneratedValue Long id_palestra;\n    private String nome;\n    private String via;\n    private int civico;\n    private String citta;\n    \n    // Relationships\n    @OneToMany(mappedBy=&quot;palestra&quot;)\n    private List&lt;Trainer&gt; trainers;\n    \n    @ManyToOne(fetch = FetchType.LAZY)\n    @JoinColumn(name=&quot;id_admin&quot;)\n    private Admin admin;\n    \n    public Palestra() {} // Empty constructor\n\n    public Palestra(Long id_palestra, String nome, String via, int civico, String citta) {\n        super();\n        this.id_palestra = id_palestra;\n        this.nome = nome;\n        this.via = via;\n        this.civico = civico;\n        this.citta = citta;\n    }\n\n    public Long getId_palestra() {\n        return id_palestra;\n    }\n\n    public void setId_palestra(Long id_palestra) {\n        this.id_palestra = id_palestra;\n    }\n\n    public String getNome() {\n        return nome;\n    }\n\n    public void setNome(String nome) {\n        this.nome = nome;\n    }\n\n    public String getVia() {\n        return via;\n    }\n\n    public void setVia(String via) {\n        this.via = via;\n    }\n\n    public int getCivico() {\n        return civico;\n    }\n\n    public void setCivico(int civico) {\n        this.civico = civico;\n    }\n\n    public String getCitta() {\n        return citta;\n    }\n\n    public void setCitta(String citta) {\n        this.citta = citta;\n    }\n\n    public Admin getAdmin() {\n        return admin;\n    }\n\n    public void setAdmin(Admin admin) {\n        this.admin = admin;\n    }\n\n}\n</code></pre>\n<p><strong>PalestraController.java</strong></p>\n<pre><code>@RestController\npublic class PalestraController {\n    private final PalestraRepository palestraRepository;\n    \n    public PalestraController(PalestraRepository repository) {\n        palestraRepository = repository;\n    }\n    \n    @GetMapping(&quot;/palestre&quot;)\n    Iterable&lt;Palestra&gt; getPalestre() {\n        return palestraRepository.findAll();\n    }\n    \n    @PostMapping(&quot;/palestre&quot;)\n    Palestra createPalestra(@RequestBody Palestra newPalestra) {\n        return palestraRepository.save(newPalestra);\n    }\n}\n</code></pre>\n<p>I used Postman to send and test requests:\n<a href=\"https://i.stack.imgur.com/TMZWb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/TMZWb.png\" alt=\"enter image description here\" /></a><a href=\"https://i.stack.imgur.com/R8YBt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/R8YBt.png\" alt=\"enter image description here\" /></a>\nand this is the result stored in the database:\n<a href=\"https://i.stack.imgur.com/wQ4rr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/wQ4rr.png\" alt=\"enter image description here\" /></a></p>\n<p>As you can see <em>id_admin</em> is supposed to be foreign key but has a NULL value. How I can solve this problem?</p>\n"},{"tags":["java","spring","aop","aspectj"],"answers":[{"tags":[],"owner":{"account_id":1449510,"reputation":48172,"user_id":1366871,"accept_rate":100,"display_name":"dreamcrash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1614063632,"creation_date":1614028555,"answer_id":66323559,"question_id":66323483,"body_markdown":"You can try to add a String with the content that you want into the annotation:\r\n\r\n    @Target(ElementType.METHOD)\r\n    @Retention(RetentionPolicy.RUNTIME)\r\n    public @interface TrackExecutionTime {\r\n        String getContent() default &quot;&quot;;\r\n    }\r\n\r\nUsing it on the method:\r\n\r\n    @TrackExecutionTime(getContent = &quot;something&quot;)\r\n    private static void someMethod(...)\r\n\r\nand then on the advice parse that content:\r\n\r\n    @Around(&quot;@annotation(myAnnotation)&quot;) \r\n    public Object executionTime(ProceedingJoinPoint point, TrackExecutionTime myAnnotation)throws Throwable {\r\n        ...\r\n        String content = myAnnotation.getContent();\r\n    }","title":"Spring AOP/AspectJ logging the execution time of a method but how to pass arguments to it? (Spring boot API)","body":"<p>You can try to add a String with the content that you want into the annotation:</p>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface TrackExecutionTime {\n    String getContent() default &quot;&quot;;\n}\n</code></pre>\n<p>Using it on the method:</p>\n<pre><code>@TrackExecutionTime(getContent = &quot;something&quot;)\nprivate static void someMethod(...)\n</code></pre>\n<p>and then on the advice parse that content:</p>\n<pre><code>@Around(&quot;@annotation(myAnnotation)&quot;) \npublic Object executionTime(ProceedingJoinPoint point, TrackExecutionTime myAnnotation)throws Throwable {\n    ...\n    String content = myAnnotation.getContent();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1614089905,"creation_date":1614089905,"answer_id":66334916,"question_id":66323483,"body_markdown":"This is very easy to do; I was a dum-dum when I originally posted this, but here&#39;s the answer for anyone looking to do the same:\r\n\r\nWhen you create your interface that defines you annotation using Spring AOP/AspectJ, in your concrete class like I listed above, it has access to all the arguments passed to your method from the **ProceedingJoinPoint** object. So you can call `getArgs()` on this object to get all the arguments passed to the method in-question when its runs. It will return an Object[] so you will just need to have some conditional checks to cast it down to the type of your choice and make sure its not empty, so you don&#39;t get any exceptions at runtime. This is helpful if clients are POSTing to your API and you want to track the execution time of methods, but maybe you have hundreds/thousands of requests and need to specifically trace down ***exactly*** which calls follow which paths and what may be slowing your API down... so posting additional data from the requestBody maybe helpful in your logs...\r\n\r\n\r\ne.g. I&#39;ll pretend I am tracking some method, that takes in a &quot;Student&quot; data type, which holds a bunch of data on a student (name, dob, gpa, etc...). This way, if I have different methods that query the Database with different SQL queries based on the requestBody the client POST to the API with, I can log this, to track down exactly which requests are slowing my API down and their flow within my codebase and which SQL queries they are calling. i.e.\r\n\r\n```\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@ConditionalOnExpression(&quot;${aspect.enabled:true}&quot;)\r\npublic class ExecutionTimeAdvice {\r\n\r\n    @Around(&quot;@annotation(com.mailshine.springboot.aop.aspectj.advise.TrackExecutionTime)&quot;)\r\n    public Object executionTime(ProceedingJoinPoint point) throws Throwable {\r\n        MyCustomStudentType student; // Class to hold Student data\r\n        String studentName = &quot;&quot;;\r\n        Object[] argsArray = point.getArgs();\r\n        \r\n        if (argsArray.length &gt; 0 &amp;&amp; argsArray[0] instanceof MyCustomStudentType) {\r\n             student = (MyCustomStudentType) argsArray[0];\r\n             studentName = student.getName();\r\n        }\r\n\r\n        long startTime = System.currentTimeMillis();\r\n        Object object = point.proceed();\r\n        long endtime = System.currentTimeMillis();\r\n\r\n        // add the student name to your logs or any info you want to add with your\r\n        // execution time of your method, to make tracking your logs easier\r\n        log.info(&quot;Class Name: &quot;+ point.getSignature().getDeclaringTypeName() +&quot;. Method Name: &quot;+ point.getSignature().getName() + &quot;. Time taken for Execution is : &quot; + (endtime-startTime) +&quot;ms&quot; + &quot;, for student name: &quot; + studentName);\r\n\r\n        return object;\r\n    }\r\n}\r\n```\r\n","title":"Spring AOP/AspectJ logging the execution time of a method but how to pass arguments to it? (Spring boot API)","body":"<p>This is very easy to do; I was a dum-dum when I originally posted this, but here's the answer for anyone looking to do the same:</p>\n<p>When you create your interface that defines you annotation using Spring AOP/AspectJ, in your concrete class like I listed above, it has access to all the arguments passed to your method from the <strong>ProceedingJoinPoint</strong> object. So you can call <code>getArgs()</code> on this object to get all the arguments passed to the method in-question when its runs. It will return an Object[] so you will just need to have some conditional checks to cast it down to the type of your choice and make sure its not empty, so you don't get any exceptions at runtime. This is helpful if clients are POSTing to your API and you want to track the execution time of methods, but maybe you have hundreds/thousands of requests and need to specifically trace down <em><strong>exactly</strong></em> which calls follow which paths and what may be slowing your API down... so posting additional data from the requestBody maybe helpful in your logs...</p>\n<p>e.g. I'll pretend I am tracking some method, that takes in a &quot;Student&quot; data type, which holds a bunch of data on a student (name, dob, gpa, etc...). This way, if I have different methods that query the Database with different SQL queries based on the requestBody the client POST to the API with, I can log this, to track down exactly which requests are slowing my API down and their flow within my codebase and which SQL queries they are calling. i.e.</p>\n<pre><code>@Aspect\n@Component\n@Slf4j\n@ConditionalOnExpression(&quot;${aspect.enabled:true}&quot;)\npublic class ExecutionTimeAdvice {\n\n    @Around(&quot;@annotation(com.mailshine.springboot.aop.aspectj.advise.TrackExecutionTime)&quot;)\n    public Object executionTime(ProceedingJoinPoint point) throws Throwable {\n        MyCustomStudentType student; // Class to hold Student data\n        String studentName = &quot;&quot;;\n        Object[] argsArray = point.getArgs();\n        \n        if (argsArray.length &gt; 0 &amp;&amp; argsArray[0] instanceof MyCustomStudentType) {\n             student = (MyCustomStudentType) argsArray[0];\n             studentName = student.getName();\n        }\n\n        long startTime = System.currentTimeMillis();\n        Object object = point.proceed();\n        long endtime = System.currentTimeMillis();\n\n        // add the student name to your logs or any info you want to add with your\n        // execution time of your method, to make tracking your logs easier\n        log.info(&quot;Class Name: &quot;+ point.getSignature().getDeclaringTypeName() +&quot;. Method Name: &quot;+ point.getSignature().getName() + &quot;. Time taken for Execution is : &quot; + (endtime-startTime) +&quot;ms&quot; + &quot;, for student name: &quot; + studentName);\n\n        return object;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2701846,"reputation":619,"user_id":2332409,"display_name":"sudipn"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662133373,"creation_date":1662133373,"answer_id":73585057,"question_id":66323483,"body_markdown":"for a method:\r\n```java\r\npublic void someMethod(String input)  \r\n```\r\nyou can write a pointcut expression like this:\r\n```java\r\n@Around(&quot;@annotation(com.mailshine.springboot.aop.aspectj.advise.TrackExecutionTime) &amp;&amp; args(input)&quot;)\r\n    public Object executionTime(ProceedingJoinPoint point, String input) throws Throwable {}\r\n```\r\nthe `input` argument is now readily available to the `executionTime` method.","title":"Spring AOP/AspectJ logging the execution time of a method but how to pass arguments to it? (Spring boot API)","body":"<p>for a method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public void someMethod(String input)  \n</code></pre>\n<p>you can write a pointcut expression like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Around(&quot;@annotation(com.mailshine.springboot.aop.aspectj.advise.TrackExecutionTime) &amp;&amp; args(input)&quot;)\n    public Object executionTime(ProceedingJoinPoint point, String input) throws Throwable {}\n</code></pre>\n<p>the <code>input</code> argument is now readily available to the <code>executionTime</code> method.</p>\n"}],"owner":{"account_id":13580905,"reputation":1768,"user_id":9796935,"display_name":"ennth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6765,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":66334916,"answer_count":3,"score":4,"last_activity_date":1662133373,"creation_date":1614028116,"question_id":66323483,"body_markdown":"I am using Spring AOP/AspectJ in my Spring Boot API to make an annotation in Java like `@TrackExecutionTime`, that I can slap on any method and it logs the total time it took the method to run. This is working currently in my Spring boot up. My issue is, my API is getting hit thousands of times a day, and I want log some other unique info with this execution time, so I can track/trace each request through my logs. Some of the data that I can use is sent with the POST request body from the JSON, but I can&#39;t see how to pass these arguments into the definition of this annotation - can anyone help?\r\n\r\nI want to pass some arguments (customer firstname, lastname, etc..) from this **Customer** object that is the requestBody the client will POST as JSON to my API to my annotation logger:\r\n```\r\n@RestController\r\npublic class CustomersController implements CustomersApi {\r\n\r\n    @Autowired\r\n    private CustomerService customerService;\r\n\r\n      return ResponseEntity.ok(offersService.fetchCustomer(Customer, clientId));\r\n    }\r\n```\r\n\r\n\r\nI defined the concrete class and the interface for annotation like this. This is where I want to pass the Customer object so I can log the firstname or lastname:\r\n```\r\n\r\n@Aspect\r\n@Component\r\n@Slf4j\r\n@ConditionalOnExpression(&quot;${aspect.enabled:true}&quot;)\r\npublic class ExecutionTimeAdvice {\r\n\r\n    @Around(&quot;@annotation(com.mailshine.springboot.aop.aspectj.advise.TrackExecutionTime)&quot;)\r\n    public Object executionTime(ProceedingJoinPoint point) throws Throwable {\r\n        long startTime = System.currentTimeMillis();\r\n        Object object = point.proceed();\r\n        long endtime = System.currentTimeMillis();\r\n\r\n        log.info(&quot;Class Name: &quot;+ point.getSignature().getDeclaringTypeName() +&quot;. Method Name: &quot;+ point.getSignature().getName() + &quot;. Time taken for Execution is : &quot; + (endtime-startTime) +&quot;ms&quot;);\r\n        return object;\r\n    }\r\n}\r\n```\r\n\r\n\r\n\r\n```\r\n@Target(ElementType.METHOD)\r\n@Retention(RetentionPolicy.RUNTIME)\r\npublic @interface TrackExecutionTime {\r\n}\r\n```\r\n","title":"Spring AOP/AspectJ logging the execution time of a method but how to pass arguments to it? (Spring boot API)","body":"<p>I am using Spring AOP/AspectJ in my Spring Boot API to make an annotation in Java like <code>@TrackExecutionTime</code>, that I can slap on any method and it logs the total time it took the method to run. This is working currently in my Spring boot up. My issue is, my API is getting hit thousands of times a day, and I want log some other unique info with this execution time, so I can track/trace each request through my logs. Some of the data that I can use is sent with the POST request body from the JSON, but I can't see how to pass these arguments into the definition of this annotation - can anyone help?</p>\n<p>I want to pass some arguments (customer firstname, lastname, etc..) from this <strong>Customer</strong> object that is the requestBody the client will POST as JSON to my API to my annotation logger:</p>\n<pre><code>@RestController\npublic class CustomersController implements CustomersApi {\n\n    @Autowired\n    private CustomerService customerService;\n\n      return ResponseEntity.ok(offersService.fetchCustomer(Customer, clientId));\n    }\n</code></pre>\n<p>I defined the concrete class and the interface for annotation like this. This is where I want to pass the Customer object so I can log the firstname or lastname:</p>\n<pre><code>\n@Aspect\n@Component\n@Slf4j\n@ConditionalOnExpression(&quot;${aspect.enabled:true}&quot;)\npublic class ExecutionTimeAdvice {\n\n    @Around(&quot;@annotation(com.mailshine.springboot.aop.aspectj.advise.TrackExecutionTime)&quot;)\n    public Object executionTime(ProceedingJoinPoint point) throws Throwable {\n        long startTime = System.currentTimeMillis();\n        Object object = point.proceed();\n        long endtime = System.currentTimeMillis();\n\n        log.info(&quot;Class Name: &quot;+ point.getSignature().getDeclaringTypeName() +&quot;. Method Name: &quot;+ point.getSignature().getName() + &quot;. Time taken for Execution is : &quot; + (endtime-startTime) +&quot;ms&quot;);\n        return object;\n    }\n}\n</code></pre>\n<pre><code>@Target(ElementType.METHOD)\n@Retention(RetentionPolicy.RUNTIME)\npublic @interface TrackExecutionTime {\n}\n</code></pre>\n"},{"tags":["java","operating-system","boot"],"comments":[{"owner":{"account_id":79065,"reputation":9725,"user_id":224508,"display_name":"vanza"},"score":0,"creation_date":1344105854,"post_id":11810884,"comment_id":15697270,"body_markdown":"Closest thing I know is BEA&#39;s (err, Oracle&#39;s) LiquidVM, but don&#39;t know if that&#39;s still around.","body":"Closest thing I know is BEA&#39;s (err, Oracle&#39;s) LiquidVM, but don&#39;t know if that&#39;s still around."},{"owner":{"account_id":1694715,"reputation":923,"user_id":1556343,"accept_rate":100,"display_name":"Kevin Johnson"},"score":0,"creation_date":1344107014,"post_id":11810884,"comment_id":15697482,"body_markdown":"Yeah, It looks like that is designed specifically for server software, It seems to me that @Peter&#39;s solution is the best I&#39;m going to get... Thanks though.","body":"Yeah, It looks like that is designed specifically for server software, It seems to me that @Peter&#39;s solution is the best I&#39;m going to get... Thanks though."}],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1344103893,"creation_date":1344103893,"answer_id":11810928,"question_id":11810884,"body_markdown":"You can take linux and remove all the things you don&#39;t want.\r\n\r\nHowever OSes are pretty good at minimizing the impact of programs which don&#39;t do much.","title":"JavaOS / Run java bytecode faster","body":"<p>You can take linux and remove all the things you don't want.</p>\n\n<p>However OSes are pretty good at minimizing the impact of programs which don't do much.</p>\n"},{"tags":[],"owner":{"account_id":26226860,"reputation":1,"user_id":19903426,"display_name":"Dng Phm V"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662133122,"creation_date":1662116528,"answer_id":73581574,"question_id":11810884,"body_markdown":"Android is made with Java, Android Runtime is used to interpret Java bytecode and most of Android apps are written in Java","title":"JavaOS / Run java bytecode faster","body":"<p>Android is made with Java, Android Runtime is used to interpret Java bytecode and most of Android apps are written in Java</p>\n"}],"owner":{"account_id":1694715,"reputation":923,"user_id":1556343,"accept_rate":100,"display_name":"Kevin Johnson"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":198,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"accepted_answer_id":11810928,"answer_count":2,"score":2,"last_activity_date":1662133122,"creation_date":1344103629,"question_id":11810884,"body_markdown":"I&#39;m wondering if there is an OS that can run java bytecode without a Java installation, like a JavaOS (I know there is something called JavaOS, but I dont think I want that). All I want to do is run one java program on my laptop, and it seems wasteful to run all the processes that are started with linux along with it. I&#39;m thinking that the laptop would boot into it, and immediately start the java code.\r\n\r\nDoes anything like this exist?\r\n\r\nEdit:\r\n\r\nI&#39;m looking for performance boosts.","title":"JavaOS / Run java bytecode faster","body":"<p>I'm wondering if there is an OS that can run java bytecode without a Java installation, like a JavaOS (I know there is something called JavaOS, but I dont think I want that). All I want to do is run one java program on my laptop, and it seems wasteful to run all the processes that are started with linux along with it. I'm thinking that the laptop would boot into it, and immediately start the java code.</p>\n\n<p>Does anything like this exist?</p>\n\n<p>Edit:</p>\n\n<p>I'm looking for performance boosts.</p>\n"},{"tags":["java","quarkus"],"answers":[{"tags":[],"owner":{"account_id":2110356,"reputation":19,"user_id":1875763,"display_name":"sep"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662132599,"creation_date":1662132599,"answer_id":73584912,"question_id":73202472,"body_markdown":"I configured quarkus to begin a new file on reboot.\r\n\r\nAs documented [here][1] you need to either set a max-file-size or configure a file-suffix for it to work. \r\n\r\nThis is my working configuration:\r\n\r\n    quarkus.log.file.enable= true\r\n    quarkus.log.file.path= /log/backend.log\r\n    quarkus.log.file.level= DEBUG\r\n    quarkus.log.file.format= %d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n\r\n    quarkus.log.file.rotation.file-suffix= .yyyy-MM-dd\r\n    quarkus.log.file.rotation.rotate-on-boot= true\r\n    quarkus.log.file.rotation.max-backup-index= 31\r\n\r\nwith this configuration it produces a daily log and begin a new file on reboot up to maximum 31 files.\r\n\r\n\r\n  [1]: https://quarkus.io/guides/all-config#quarkus-core_quarkus.log.file.rotation.rotate-on-boot:~:text=quarkus.log.file.rotation.rotate,suffix%20for%20it%20to%20work.","title":"Quarkus - Is there a way to empty the log file at every initiation instead of appending to it?","body":"<p>I configured quarkus to begin a new file on reboot.</p>\n<p>As documented <a href=\"https://quarkus.io/guides/all-config#quarkus-core_quarkus.log.file.rotation.rotate-on-boot:%7E:text=quarkus.log.file.rotation.rotate,suffix%20for%20it%20to%20work.\" rel=\"nofollow noreferrer\">here</a> you need to either set a max-file-size or configure a file-suffix for it to work.</p>\n<p>This is my working configuration:</p>\n<pre><code>quarkus.log.file.enable= true\nquarkus.log.file.path= /log/backend.log\nquarkus.log.file.level= DEBUG\nquarkus.log.file.format= %d{HH:mm:ss} %-5p [%c{2.}] (%t) %s%e%n\nquarkus.log.file.rotation.file-suffix= .yyyy-MM-dd\nquarkus.log.file.rotation.rotate-on-boot= true\nquarkus.log.file.rotation.max-backup-index= 31\n</code></pre>\n<p>with this configuration it produces a daily log and begin a new file on reboot up to maximum 31 files.</p>\n"}],"owner":{"account_id":22016938,"reputation":87,"user_id":16286279,"display_name":"Neha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":399,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662132599,"creation_date":1659419003,"question_id":73202472,"body_markdown":"I want the log file to be empty every time I start the application. But I cannot find a way to do so. There is nothing stated as such in the Quarkus documentation (https://quarkus.io/guides/logging#quarkus-log-logging-log-config_quarkus.log.file-file-logging).\r\n\r\nI would really appreciate if someone can tell me how to do it or suggest a workaround in case it is not possible.\r\n\r\n*This is the logging configurations in the application properties file*\r\n\r\n```\r\n# Log\r\nquarkus.log.category.&quot;com.helesto&quot;.level=DEBUG\r\nquarkus.log.level=INFO\r\n\r\n# Log File\r\nquarkus.log.file.enable = true\r\nquarkus.log.file.format = %d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n\r\nquarkus.log.file.path = logs/test.log\r\n```\r\n","title":"Quarkus - Is there a way to empty the log file at every initiation instead of appending to it?","body":"<p>I want the log file to be empty every time I start the application. But I cannot find a way to do so. There is nothing stated as such in the Quarkus documentation (<a href=\"https://quarkus.io/guides/logging#quarkus-log-logging-log-config_quarkus.log.file-file-logging\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/logging#quarkus-log-logging-log-config_quarkus.log.file-file-logging</a>).</p>\n<p>I would really appreciate if someone can tell me how to do it or suggest a workaround in case it is not possible.</p>\n<p><em>This is the logging configurations in the application properties file</em></p>\n<pre><code># Log\nquarkus.log.category.&quot;com.helesto&quot;.level=DEBUG\nquarkus.log.level=INFO\n\n# Log File\nquarkus.log.file.enable = true\nquarkus.log.file.format = %d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n\nquarkus.log.file.path = logs/test.log\n</code></pre>\n"},{"tags":["java","payment","javacard","emv","globalplatform"],"answers":[{"tags":[],"owner":{"account_id":2143322,"reputation":5430,"user_id":3351474,"display_name":"k_o_"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1662132359,"creation_date":1662132359,"answer_id":73584864,"question_id":73582139,"body_markdown":"For EMV you are right, what it defines is the interface and some operational things. Globalplatform defines a large set of specifications. The one you are referring to is the card specification, basically defining how to install and manage applications, e.g. the EMV one on a smart card. I have written an article which should be useful [Global Platform][1].\r\n\r\n\r\n  [1]: https://kaoh.github.io/globalplatform/globalPlatformSpecification.html","title":"Difference between GlobalPlatform and EMV","body":"<p>For EMV you are right, what it defines is the interface and some operational things. Globalplatform defines a large set of specifications. The one you are referring to is the card specification, basically defining how to install and manage applications, e.g. the EMV one on a smart card. I have written an article which should be useful <a href=\"https://kaoh.github.io/globalplatform/globalPlatformSpecification.html\" rel=\"nofollow noreferrer\">Global Platform</a>.</p>\n"}],"owner":{"account_id":14797232,"reputation":105,"user_id":10686571,"display_name":"Kropius Dop"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":160,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73584864,"answer_count":1,"score":1,"last_activity_date":1662132359,"creation_date":1662119479,"question_id":73582139,"body_markdown":"I am trying to understand the difference between EMV and GlobalPlatform. However, this 2 terms seems to be very abstract and I find it hard to differentiate between or at least understand what is the purpose of them.\r\n\r\nTo my understanding, EMV represents a set of specifications made by different entities(live Visa, Mastercard etc.) so that the CAD/POSes can communicate with cards. This means, that whoever is implementing a certain applet that will be deployed on a card needs to respect the above specification, so every CAD can understand what the card is returning, and also the card will understand what the CAD is asking for.\r\n\r\nOn the other hand, GP represents a set of specifications/rules that needs to be enforced on a card level so that the card is safe and compliant. Meaning that the entity that is issuing the card should implement this new functionalities, or at least have them available. For example, NXP is developing PN81T that runs JCOP 4, JCOP4 or the chip itself need to implement the rules enforced by GP, so everything is safe when using the card.\r\n\r\nI am probably wrong, so that is why I ask these questions here, I just want to truly understand these terms.\r\n\r\nThank you in advance.","title":"Difference between GlobalPlatform and EMV","body":"<p>I am trying to understand the difference between EMV and GlobalPlatform. However, this 2 terms seems to be very abstract and I find it hard to differentiate between or at least understand what is the purpose of them.</p>\n<p>To my understanding, EMV represents a set of specifications made by different entities(live Visa, Mastercard etc.) so that the CAD/POSes can communicate with cards. This means, that whoever is implementing a certain applet that will be deployed on a card needs to respect the above specification, so every CAD can understand what the card is returning, and also the card will understand what the CAD is asking for.</p>\n<p>On the other hand, GP represents a set of specifications/rules that needs to be enforced on a card level so that the card is safe and compliant. Meaning that the entity that is issuing the card should implement this new functionalities, or at least have them available. For example, NXP is developing PN81T that runs JCOP 4, JCOP4 or the chip itself need to implement the rules enforced by GP, so everything is safe when using the card.</p>\n<p>I am probably wrong, so that is why I ask these questions here, I just want to truly understand these terms.</p>\n<p>Thank you in advance.</p>\n"},{"tags":["java","bamboo","bamboo-specs"],"answers":[{"tags":[],"owner":{"account_id":4820715,"reputation":2650,"user_id":3898725,"accept_rate":44,"display_name":"Michael"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662132269,"creation_date":1662132269,"answer_id":73584839,"question_id":73571304,"body_markdown":"Looks like there is no better way than doing it in two steps.\r\n\r\n1. Publishing the plans without the child plan dependencies\r\n2. Publish the plans again including the child plan dependencies.\r\n\r\nThis worked for me.","title":"Publish two plans related to each other","body":"<p>Looks like there is no better way than doing it in two steps.</p>\n<ol>\n<li>Publishing the plans without the child plan dependencies</li>\n<li>Publish the plans again including the child plan dependencies.</li>\n</ol>\n<p>This worked for me.</p>\n"}],"owner":{"account_id":4820715,"reputation":2650,"user_id":3898725,"accept_rate":44,"display_name":"Michael"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1662132269,"creation_date":1662043492,"question_id":73571304,"body_markdown":"I want to publish two plans that are related to each other. But this doesn&#39;t work as Bamboo throws an error because the related plan doesn&#39; exist yet.\r\n\r\n- PlanParent has a child dependency to PlanChild.\r\n- PlanChild has an Artifact download task of artifacts from PlanParent.\r\n\r\n```java\r\n\r\nbambooServer.publish(planParent); // fails because planChild doesn&#39;t exist\r\nbambooServer.publish(planChild);\r\n\r\n// ---\r\n\r\nbambooServer.publish(planChild); // fails because planParent doesn&#39;t exist\r\nbambooServer.publish(planParent);\r\n```\r\n\r\nHow to publish those two plans?","title":"Publish two plans related to each other","body":"<p>I want to publish two plans that are related to each other. But this doesn't work as Bamboo throws an error because the related plan doesn' exist yet.</p>\n<ul>\n<li>PlanParent has a child dependency to PlanChild.</li>\n<li>PlanChild has an Artifact download task of artifacts from PlanParent.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>\nbambooServer.publish(planParent); // fails because planChild doesn't exist\nbambooServer.publish(planChild);\n\n// ---\n\nbambooServer.publish(planChild); // fails because planParent doesn't exist\nbambooServer.publish(planParent);\n</code></pre>\n<p>How to publish those two plans?</p>\n"},{"tags":["java","spring-batch"],"answers":[{"tags":[],"owner":{"account_id":6482932,"reputation":29552,"user_id":5019386,"display_name":"Mahmoud Ben Hassine"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1551457581,"creation_date":1551457581,"answer_id":54948633,"question_id":54940946,"body_markdown":"Your `outerFlow` should be defined as follows:\r\n\r\n    final Flow outerFlow = outerFlowBuilder\r\n            .start(dummyStep(&quot;always execute me&quot;))\r\n            .on(&quot;*&quot;).to(decide())\r\n            .from(decide()).on(&quot;CONTINUE&quot;).to(innerFlow)\r\n            .from(decide()).on(&quot;COMPLETED&quot;).end(&quot;COMPLETED&quot;)\r\n            .build();\r\n\r\nI tested this with your example (Thank you for the MVE!) and the job does not fail when the decider returns `COMPLETED`.\r\n\r\nThe reason is that without routing all outcomes of the `dummyStep(&quot;always execute me&quot;)` step to the decider with `.on(&quot;*&quot;).to(decide())`, the flow definition is not correct.\r\n\r\nHope this helps.","title":"Spring Batch conditional flow causing job exit status failed","body":"<p>Your <code>outerFlow</code> should be defined as follows:</p>\n\n<pre><code>final Flow outerFlow = outerFlowBuilder\n        .start(dummyStep(\"always execute me\"))\n        .on(\"*\").to(decide())\n        .from(decide()).on(\"CONTINUE\").to(innerFlow)\n        .from(decide()).on(\"COMPLETED\").end(\"COMPLETED\")\n        .build();\n</code></pre>\n\n<p>I tested this with your example (Thank you for the MVE!) and the job does not fail when the decider returns <code>COMPLETED</code>.</p>\n\n<p>The reason is that without routing all outcomes of the <code>dummyStep(\"always execute me\")</code> step to the decider with <code>.on(\"*\").to(decide())</code>, the flow definition is not correct.</p>\n\n<p>Hope this helps.</p>\n"},{"tags":[],"owner":{"account_id":19677426,"reputation":1,"user_id":14405221,"display_name":"Klaus"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1662131519,"creation_date":1662131299,"answer_id":73584664,"question_id":54940946,"body_markdown":"You should try to use the same Instance of decider in your flow. I had similar issues and solved them this way.\r\nInstead of calling decide() several times, create just one Decider-Object and re-use it in the outerFlowBuilder:\r\n\r\n```\r\nJobExecutionDecider decider = decide();\r\n...\r\n.from(decider).on(&quot;CONTINUE&quot;).to(innerFlow)\r\n.from(decider).on(&quot;COMPLETED&quot;).end(&quot;COMPLETED&quot;)\r\n...\r\n```","title":"Spring Batch conditional flow causing job exit status failed","body":"<p>You should try to use the same Instance of decider in your flow. I had similar issues and solved them this way.\nInstead of calling decide() several times, create just one Decider-Object and re-use it in the outerFlowBuilder:</p>\n<pre><code>JobExecutionDecider decider = decide();\n...\n.from(decider).on(&quot;CONTINUE&quot;).to(innerFlow)\n.from(decider).on(&quot;COMPLETED&quot;).end(&quot;COMPLETED&quot;)\n...\n</code></pre>\n"}],"owner":{"account_id":7938637,"reputation":1109,"user_id":5993601,"accept_rate":85,"display_name":"Sander_M"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4631,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1662131519,"creation_date":1551430127,"question_id":54940946,"body_markdown":"I am having problems with a spring batch flow that does the following (simplified)\r\n\r\n1. execute a step (always)\r\n2. at runtime decide on what to do next (jobexecutiondecider)\r\n3. if the decider determines to &quot;continue&quot;-&gt; execute a more complex innerflow \r\n4. if the decider determines to &quot;completed&quot; -&gt; do not execute the innerflow but simply complete the job\r\n\r\nGiven the following MVE:\r\n\r\n    @Configuration\r\n    @EnableBatchProcessing\r\n    public class BatchExample {\r\n    \r\n        @Autowired\r\n        private JobBuilderFactory jobBuilderFactory;\r\n        @Autowired\r\n        private StepBuilderFactory stepBuilderFactory;\r\n    \r\n        @Bean\r\n        public Job exampleJob() {\r\n            final FlowBuilder&lt;Flow&gt; innerFlowBuilder = new FlowBuilder&lt;&gt;(&quot;innerFlow&quot;);\r\n            final Flow innerFlow = innerFlowBuilder\r\n                .start(dummyStep(&quot;first innerflow step&quot;))\r\n                .next(dummyStep(&quot;second innerflow step&quot;))\r\n                .next(dummyStep(&quot;last innerflow step&quot;))\r\n                .build();\r\n    \r\n            final FlowBuilder&lt;Flow&gt; outerFlowBuilder = new FlowBuilder&lt;&gt;(&quot;outerFlow&quot;);\r\n            final Flow outerFlow = outerFlowBuilder\r\n                .start(dummyStep(&quot;always execute me&quot;))\r\n                .next(decide()).on(&quot;CONTINUE&quot;).to(innerFlow)\r\n                .from(decide()).on(&quot;COMPLETED&quot;).end(&quot;COMPLETED&quot;)\r\n                .build();\r\n    \r\n            return jobBuilderFactory.get(&quot;exampleJob&quot;)\r\n                .start(outerFlow)\r\n                .end()\r\n                .build();\r\n        }\r\n    \r\n        private Step dummyStep(String arg) {\r\n            return stepBuilderFactory.get(&quot;step_&quot; + arg)\r\n                .tasklet(dummyTasklet(arg))\r\n                .build();\r\n        }\r\n    \r\n        private Tasklet dummyTasklet(String arg) {\r\n            return new DummyTasklet(arg);\r\n        }\r\n    \r\n        private DummyDecider decide() {\r\n            return new DummyDecider();\r\n        }\r\n    \r\n        class DummyTasklet implements Tasklet {\r\n    \r\n            private final String arg;\r\n    \r\n            DummyTasklet(String arg) {\r\n                this.arg = arg;\r\n            }\r\n    \r\n            @Override\r\n            public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\r\n                System.out.println(&quot;hello from dummy tasklet: &quot; + arg);\r\n                return RepeatStatus.FINISHED;\r\n            }\r\n        }\r\n    \r\n        class DummyDecider implements JobExecutionDecider {\r\n    \r\n            @Override\r\n            public FlowExecutionStatus decide(JobExecution jobExecution, StepExecution stepExecution) {\r\n                final Random random = new Random();\r\n                final int i = random.nextInt();\r\n    \r\n                if (i % 2 == 0) {\r\n                    return new FlowExecutionStatus(&quot;CONTINUE&quot;);\r\n                } else {\r\n                    return FlowExecutionStatus.COMPLETED;\r\n                }\r\n            }\r\n        }    \r\n    }\r\n\r\nWhen executing the code, the &quot;continue&quot; flow goes well, but the &quot;completed&quot; flow always exit with a failed job status.\r\n\r\n     Job: [FlowJob: [name=exampleJob]] completed with the following\r\n     parameters: [{}] and the following status: [FAILED]\r\n\r\nHow do I make the job finish with status COMPLETED? In other words, what have I done wrong with the coding of flow?\r\n\r\nThe code can be run with a spring boot application\r\n\r\n    @SpringBootApplication\r\n    public class FlowApplication implements ApplicationRunner {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(FlowApplication.class, args);\r\n        }\r\n    \r\n        @Autowired\r\n        private Job exampleJob;\r\n        @Autowired\r\n        private JobLauncher jobLauncher;\r\n    \r\n    \r\n        @Override\r\n        public void run(ApplicationArguments args) throws Exception {\r\n            jobLauncher.run(exampleJob, new JobParameters());\r\n        }\r\n    }\r\n\r\n**Edit**\r\n\r\nWhen implementing the suggested answer:\r\n\r\n    final Flow outerFlow = outerFlowBuilder\r\n                .start(dummyStep(&quot;always execute me&quot;))\r\n                .on(&quot;*&quot;).to(decide())\r\n                .from(decide()).on(&quot;CONTINUE&quot;).to(innerFlow)\r\n                .from(decide()).on(&quot;COMPLETED&quot;).end(&quot;COMPLETED&quot;)\r\n                .build();\r\n\r\nAnd forcing the decider to &quot;CONTINUE&quot;:\r\n\r\n    class DummyDecider implements JobExecutionDecider {\r\n            @Override\r\n            public FlowExecutionStatus decide(JobExecution jobExecution, StepExecution stepExecution) {\r\n                return new FlowExecutionStatus(&quot;CONTINUE&quot;);\r\n            }\r\n        }\r\n\r\n\r\nthe innerflow is not being started anymore:\r\n\r\n    Executing step: [step_always execute me]\r\n    hello from dummy tasklet: always execute me\r\n    Job: [FlowJob: [name=exampleJob]] completed with the following parameters: [{}] and the following status: [FAILED]\r\n    Job: [FlowJob: [name=exampleJob]] launched with the following parameters: [{}]\r\n    Step already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=step_always execute me, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=\r\n    Job: [FlowJob: [name=exampleJob]] completed with the following parameters: [{}] and the following status: [FAILED]","title":"Spring Batch conditional flow causing job exit status failed","body":"<p>I am having problems with a spring batch flow that does the following (simplified)</p>\n\n<ol>\n<li>execute a step (always)</li>\n<li>at runtime decide on what to do next (jobexecutiondecider)</li>\n<li>if the decider determines to \"continue\"-> execute a more complex innerflow </li>\n<li>if the decider determines to \"completed\" -> do not execute the innerflow but simply complete the job</li>\n</ol>\n\n<p>Given the following MVE:</p>\n\n<pre><code>@Configuration\n@EnableBatchProcessing\npublic class BatchExample {\n\n    @Autowired\n    private JobBuilderFactory jobBuilderFactory;\n    @Autowired\n    private StepBuilderFactory stepBuilderFactory;\n\n    @Bean\n    public Job exampleJob() {\n        final FlowBuilder&lt;Flow&gt; innerFlowBuilder = new FlowBuilder&lt;&gt;(\"innerFlow\");\n        final Flow innerFlow = innerFlowBuilder\n            .start(dummyStep(\"first innerflow step\"))\n            .next(dummyStep(\"second innerflow step\"))\n            .next(dummyStep(\"last innerflow step\"))\n            .build();\n\n        final FlowBuilder&lt;Flow&gt; outerFlowBuilder = new FlowBuilder&lt;&gt;(\"outerFlow\");\n        final Flow outerFlow = outerFlowBuilder\n            .start(dummyStep(\"always execute me\"))\n            .next(decide()).on(\"CONTINUE\").to(innerFlow)\n            .from(decide()).on(\"COMPLETED\").end(\"COMPLETED\")\n            .build();\n\n        return jobBuilderFactory.get(\"exampleJob\")\n            .start(outerFlow)\n            .end()\n            .build();\n    }\n\n    private Step dummyStep(String arg) {\n        return stepBuilderFactory.get(\"step_\" + arg)\n            .tasklet(dummyTasklet(arg))\n            .build();\n    }\n\n    private Tasklet dummyTasklet(String arg) {\n        return new DummyTasklet(arg);\n    }\n\n    private DummyDecider decide() {\n        return new DummyDecider();\n    }\n\n    class DummyTasklet implements Tasklet {\n\n        private final String arg;\n\n        DummyTasklet(String arg) {\n            this.arg = arg;\n        }\n\n        @Override\n        public RepeatStatus execute(StepContribution stepContribution, ChunkContext chunkContext) throws Exception {\n            System.out.println(\"hello from dummy tasklet: \" + arg);\n            return RepeatStatus.FINISHED;\n        }\n    }\n\n    class DummyDecider implements JobExecutionDecider {\n\n        @Override\n        public FlowExecutionStatus decide(JobExecution jobExecution, StepExecution stepExecution) {\n            final Random random = new Random();\n            final int i = random.nextInt();\n\n            if (i % 2 == 0) {\n                return new FlowExecutionStatus(\"CONTINUE\");\n            } else {\n                return FlowExecutionStatus.COMPLETED;\n            }\n        }\n    }    \n}\n</code></pre>\n\n<p>When executing the code, the \"continue\" flow goes well, but the \"completed\" flow always exit with a failed job status.</p>\n\n<pre><code> Job: [FlowJob: [name=exampleJob]] completed with the following\n parameters: [{}] and the following status: [FAILED]\n</code></pre>\n\n<p>How do I make the job finish with status COMPLETED? In other words, what have I done wrong with the coding of flow?</p>\n\n<p>The code can be run with a spring boot application</p>\n\n<pre><code>@SpringBootApplication\npublic class FlowApplication implements ApplicationRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(FlowApplication.class, args);\n    }\n\n    @Autowired\n    private Job exampleJob;\n    @Autowired\n    private JobLauncher jobLauncher;\n\n\n    @Override\n    public void run(ApplicationArguments args) throws Exception {\n        jobLauncher.run(exampleJob, new JobParameters());\n    }\n}\n</code></pre>\n\n<p><strong>Edit</strong></p>\n\n<p>When implementing the suggested answer:</p>\n\n<pre><code>final Flow outerFlow = outerFlowBuilder\n            .start(dummyStep(\"always execute me\"))\n            .on(\"*\").to(decide())\n            .from(decide()).on(\"CONTINUE\").to(innerFlow)\n            .from(decide()).on(\"COMPLETED\").end(\"COMPLETED\")\n            .build();\n</code></pre>\n\n<p>And forcing the decider to \"CONTINUE\":</p>\n\n<pre><code>class DummyDecider implements JobExecutionDecider {\n        @Override\n        public FlowExecutionStatus decide(JobExecution jobExecution, StepExecution stepExecution) {\n            return new FlowExecutionStatus(\"CONTINUE\");\n        }\n    }\n</code></pre>\n\n<p>the innerflow is not being started anymore:</p>\n\n<pre><code>Executing step: [step_always execute me]\nhello from dummy tasklet: always execute me\nJob: [FlowJob: [name=exampleJob]] completed with the following parameters: [{}] and the following status: [FAILED]\nJob: [FlowJob: [name=exampleJob]] launched with the following parameters: [{}]\nStep already complete or not restartable, so no action to execute: StepExecution: id=0, version=3, name=step_always execute me, status=COMPLETED, exitStatus=COMPLETED, readCount=0, filterCount=0, writeCount=0 readSkipCount=0, writeSkipCount=0, processSkipCount=0, commitCount=1, rollbackCount=0, exitDescription=\nJob: [FlowJob: [name=exampleJob]] completed with the following parameters: [{}] and the following status: [FAILED]\n</code></pre>\n"},{"tags":["java","android","google-cloud-firestore","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1661175631,"post_id":73445302,"comment_id":129702637,"body_markdown":"What does `datalist.get(position).getImage()` return?","body":"What does <code>datalist.get(position).getImage()</code> return?"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1661232179,"post_id":73445302,"comment_id":129715788,"body_markdown":"sir datalist is array in which the data is returning from firebase and getimage is method of model class","body":"sir datalist is array in which the data is returning from firebase and getimage is method of model class"}],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662130959,"creation_date":1662130959,"answer_id":73584593,"question_id":73445302,"body_markdown":"In the comment session you mentioned, **getImage()** is an array then, How it will load the image you need to pass a particular image in the array?\r\n\r\nLet&#39;s suppose, If you want to load the first image in an array use the below code -\r\n\r\n    if(!wishlist_models.get(position).getImage().isEmpty()) {\r\n        Glide.with(context)\r\n                .load(wishlist_models.get(position).getImage()get(0))\r\n                .into(holder.wishlist_image);\r\n        }\r\n\r\n","title":"Why my images is not showing from firebase firestore?","body":"<p>In the comment session you mentioned, <strong>getImage()</strong> is an array then, How it will load the image you need to pass a particular image in the array?</p>\n<p>Let's suppose, If you want to load the first image in an array use the below code -</p>\n<pre><code>if(!wishlist_models.get(position).getImage().isEmpty()) {\n    Glide.with(context)\n            .load(wishlist_models.get(position).getImage()get(0))\n            .into(holder.wishlist_image);\n    }\n</code></pre>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":113,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73584593,"answer_count":1,"score":0,"last_activity_date":1662130959,"creation_date":1661172046,"question_id":73445302,"body_markdown":"I am working on an application where i am uploading multiple images with 4 edittexts to the firebase then I am trying to retrieve the data to the recyclerview now my editext&#39;s data is retrieving but the data of images is not showing in reyclerview. \r\n\r\n**my adapter code**\r\n\r\n    \r\n    @Override\r\n    public void onBindViewHolder(@NonNull Viewholder holder, int position)\r\n    {\r\n\r\n\r\n        holder.name.setText(datalist.get(position).getName());\r\n        holder.email.setText(datalist.get(position).getEmail());\r\n        holder.desc.setText(datalist.get(position).getDesc());\r\n        holder.book.setText(datalist.get(position).getBook());\r\n\r\n        Glide.with(context).load(datalist.get(position).getImage())\r\n                .into(holder.imageView);\r\n\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return datalist.size();\r\n    }\r\n\r\n    public class Viewholder extends RecyclerView.ViewHolder{\r\n\r\n\r\n        TextView name, email, desc, book;\r\n        ImageView imageView;\r\n        public Viewholder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            name = itemView.findViewById(R.id.text_name);\r\n            email = itemView.findViewById(R.id.text_email);\r\n            desc = itemView.findViewById(R.id.text_desc);\r\n            book = itemView.findViewById(R.id.text_book);\r\n            imageView = itemView.findViewById(R.id.imageView3);\r\n        }\r\n    }\r\n\r\n","title":"Why my images is not showing from firebase firestore?","body":"<p>I am working on an application where i am uploading multiple images with 4 edittexts to the firebase then I am trying to retrieve the data to the recyclerview now my editext's data is retrieving but the data of images is not showing in reyclerview.</p>\n<p><strong>my adapter code</strong></p>\n<pre><code>@Override\npublic void onBindViewHolder(@NonNull Viewholder holder, int position)\n{\n\n\n    holder.name.setText(datalist.get(position).getName());\n    holder.email.setText(datalist.get(position).getEmail());\n    holder.desc.setText(datalist.get(position).getDesc());\n    holder.book.setText(datalist.get(position).getBook());\n\n    Glide.with(context).load(datalist.get(position).getImage())\n            .into(holder.imageView);\n\n\n}\n\n\n\n@Override\npublic int getItemCount() {\n    return datalist.size();\n}\n\npublic class Viewholder extends RecyclerView.ViewHolder{\n\n\n    TextView name, email, desc, book;\n    ImageView imageView;\n    public Viewholder(@NonNull View itemView) {\n        super(itemView);\n\n        name = itemView.findViewById(R.id.text_name);\n        email = itemView.findViewById(R.id.text_email);\n        desc = itemView.findViewById(R.id.text_desc);\n        book = itemView.findViewById(R.id.text_book);\n        imageView = itemView.findViewById(R.id.imageView3);\n    }\n}\n</code></pre>\n"},{"tags":["java","spring","hibernate","spring-boot","jpa"],"comments":[{"owner":{"account_id":11266715,"reputation":2288,"user_id":8263299,"accept_rate":50,"display_name":"benjamin c"},"score":0,"creation_date":1536760381,"post_id":52296215,"comment_id":91541540,"body_markdown":"can you add application.properties file ?","body":"can you add application.properties file ?"},{"owner":{"account_id":232018,"reputation":187,"user_id":2743959,"display_name":"Andrew Saushkin"},"score":0,"creation_date":1536760694,"post_id":52296215,"comment_id":91541751,"body_markdown":"[application.properties for Derby](https://gist.github.com/asaushkin/95d12982791b4124ea48ebe742264a9a)","body":"<a href=\"https://gist.github.com/asaushkin/95d12982791b4124ea48ebe742264a9a\" rel=\"nofollow noreferrer\">application.properties for Derby</a>"},{"owner":{"account_id":232018,"reputation":187,"user_id":2743959,"display_name":"Andrew Saushkin"},"score":0,"creation_date":1536760727,"post_id":52296215,"comment_id":91541766,"body_markdown":"[application.properies for PostgreSQL](https://gist.github.com/asaushkin/fb1f9070a37f35b164c0b12e26cf551f)","body":"<a href=\"https://gist.github.com/asaushkin/fb1f9070a37f35b164c0b12e26cf551f\" rel=\"nofollow noreferrer\">application.properies for PostgreSQL</a>"},{"owner":{"account_id":11266715,"reputation":2288,"user_id":8263299,"accept_rate":50,"display_name":"benjamin c"},"score":1,"creation_date":1536761775,"post_id":52296215,"comment_id":91542439,"body_markdown":"try `spring.jpa.generate-ddl=true`","body":"try <code>spring.jpa.generate-ddl=true</code>"},{"owner":{"account_id":232018,"reputation":187,"user_id":2743959,"display_name":"Andrew Saushkin"},"score":0,"creation_date":1536762205,"post_id":52296215,"comment_id":91542791,"body_markdown":"`spring.jpa.generate-ddl=true` has no effect...","body":"<code>spring.jpa.generate-ddl=true</code> has no effect..."},{"owner":{"display_name":"user3973283"},"score":0,"creation_date":1536820181,"post_id":52296215,"comment_id":91562770,"body_markdown":"&quot;Spring Boot&quot; doesn&#39;t do anything at all with your schema. Your JPA provider does. But then it isn&#39;t down to the JPA provider to create schemas actually, just the tables. There is a JPA property `javax.persistence.schema-generation.create-database-schemas` that you may want to look at","body":"&quot;Spring Boot&quot; doesn&#39;t do anything at all with your schema. Your JPA provider does. But then it isn&#39;t down to the JPA provider to create schemas actually, just the tables. There is a JPA property <code>javax.persistence.schema-generation.create-database-schemas</code> that you may want to look at"},{"owner":{"account_id":232018,"reputation":187,"user_id":2743959,"display_name":"Andrew Saushkin"},"score":0,"creation_date":1536825806,"post_id":52296215,"comment_id":91565394,"body_markdown":"You are surely right when say about JPA provider. But neither `spring.jpa.javax.persistence.schema-generation.create-database-schemas=true` (or `javax.persistence.schema-generation.create-database-schemas=true`) nor `spring.jpa.hibernate.hbm2dll.create_namespaces=true` (or `hibernate.hbm2dll.create_namespaces=true`) which I&#39;ve setted up in my application.properties has no effect at all.","body":"You are surely right when say about JPA provider. But neither <code>spring.jpa.javax.persistence.schema-generation.create-databa&zwnj;&#8203;se-schemas=true</code> (or <code>javax.persistence.schema-generation.create-database-schemas=&zwnj;&#8203;true</code>) nor <code>spring.jpa.hibernate.hbm2dll.create_namespaces=true</code> (or <code>hibernate.hbm2dll.create_namespaces=true</code>) which I&#39;ve setted up in my application.properties has no effect at all."},{"owner":{"account_id":232018,"reputation":187,"user_id":2743959,"display_name":"Andrew Saushkin"},"score":0,"creation_date":1536826590,"post_id":52296215,"comment_id":91565892,"body_markdown":"I&#39;ve little changed properties as described [here](https://docs.spring.io/spring-boot/docs/current/reference/html/howto-data-access.html#howto-configure-jpa-properties) but neither `spring.jpa.properties.javax.persistence.schema-generation.create-database-schemas=true` nor `spring.jpa.properties.hibernate.hbm2dll.create_namespaces=true` has no effect too.","body":"I&#39;ve little changed properties as described <a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-data-access.html#howto-configure-jpa-properties\" rel=\"nofollow noreferrer\">here</a> but neither <code>spring.jpa.properties.javax.persistence.schema-generation.cr&zwnj;&#8203;eate-database-schema&zwnj;&#8203;s=true</code> nor <code>spring.jpa.properties.hibernate.hbm2dll.create_namespaces=tr&zwnj;&#8203;ue</code> has no effect too."}],"answers":[{"tags":[],"owner":{"account_id":14065723,"reputation":1,"user_id":10160646,"display_name":"Wahaj Khan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1536759481,"creation_date":1536759481,"answer_id":52296568,"question_id":52296215,"body_markdown":"Check that are you specifying the database dialect in the application.properties file or not for more check this thread.\r\n\r\n[https://stackoverflow.com/questions/26881739/unable-to-get-spring-boot-to-automatically-create-database-schema][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/26881739/unable-to-get-spring-boot-to-automatically-create-database-schema","title":"Spring Boot application doesn&#39;t create schemas for JPA @Table annotation","body":"<p>Check that are you specifying the database dialect in the application.properties file or not for more check this thread.</p>\n\n<p><a href=\"https://stackoverflow.com/questions/26881739/unable-to-get-spring-boot-to-automatically-create-database-schema\">Unable to get spring boot to automatically create database schema</a> </p>\n"},{"tags":[],"owner":{"account_id":14002223,"reputation":1,"user_id":11134211,"display_name":"Takao Kimura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1552000285,"creation_date":1551997668,"answer_id":55053818,"question_id":52296215,"body_markdown":"I had the same problem with PostgreSQL and JPA (ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: relation &quot;schema.table&quot; does not exist) and I figured out this solution. \r\n\r\nIn your entities classes, add escape characters \\&quot;, between database element&#180;s name. For instance:\r\n\r\nUse this form:\r\n\r\n    @Table(name = &quot;\\&quot;USUARIO\\&quot;&quot;, schema=&quot;\\&quot;INVENTARIODB\\&quot;&quot;)\r\n\r\nRather than a typical way\r\n\r\n    @Table(name = &quot;USUARIO&quot;, schema=&quot;INVENTARIODB&quot;)\r\n\r\nThe same applies for columns names\r\n\r\n    @Column(name = &quot;\\&quot;ID\\&quot;&quot;, nullable = false, updatable = false)    \r\n    private Long id;\r\n\r\nRather than\r\n\r\n    @Column(name = &quot;ID&quot;, nullable = false, updatable = false)    \r\n    private Long id;\r\n\r\n\r\n**UPDATE:**\r\n\r\nI discovered the reason that was causing the problem. I used Valentina Studio to create my DB, if I use capital letters (MYTABLE), instead lower-case letters (mytable) to create my tables, I had to use double quotes inside SQL statements. This is because PostgreSQL is case sensitive. If you can&#180;t change your database then use my last solution. Also is a good idea to enable spring.jpa.show-sql=true property, so you can see hibernate&#180;s queries and know what&#180;s going on. ","title":"Spring Boot application doesn&#39;t create schemas for JPA @Table annotation","body":"<p>I had the same problem with PostgreSQL and JPA (ERROR o.h.e.jdbc.spi.SqlExceptionHelper - ERROR: relation \"schema.table\" does not exist) and I figured out this solution. </p>\n\n<p>In your entities classes, add escape characters \\\", between database elements name. For instance:</p>\n\n<p>Use this form:</p>\n\n<pre><code>@Table(name = \"\\\"USUARIO\\\"\", schema=\"\\\"INVENTARIODB\\\"\")\n</code></pre>\n\n<p>Rather than a typical way</p>\n\n<pre><code>@Table(name = \"USUARIO\", schema=\"INVENTARIODB\")\n</code></pre>\n\n<p>The same applies for columns names</p>\n\n<pre><code>@Column(name = \"\\\"ID\\\"\", nullable = false, updatable = false)    \nprivate Long id;\n</code></pre>\n\n<p>Rather than</p>\n\n<pre><code>@Column(name = \"ID\", nullable = false, updatable = false)    \nprivate Long id;\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<p>I discovered the reason that was causing the problem. I used Valentina Studio to create my DB, if I use capital letters (MYTABLE), instead lower-case letters (mytable) to create my tables, I had to use double quotes inside SQL statements. This is because PostgreSQL is case sensitive. If you cant change your database then use my last solution. Also is a good idea to enable spring.jpa.show-sql=true property, so you can see hibernates queries and know whats going on. </p>\n"},{"tags":[],"owner":{"account_id":23416733,"reputation":31,"user_id":17477580,"display_name":"EverGrowing"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1662130828,"creation_date":1662130828,"answer_id":73584559,"question_id":52296215,"body_markdown":"\r\nRename `spring.jpa.properties.javax.persistence.schema-generation.create-database-schemas` to `spring.jpa.properties.javax.persistence.create-database-schemas`. In other words, remove &#39;.schema-generation&#39;.\r\n\r\nI just had the same problem not with PostgreSQL but H2 - schemas weren&#39;t being created. But, as I&#39;ve discovered, the problem is not with H2 (or, likely, PostgreSQL) but, rather, Hibernate (it deviates from the standard, regarding that nomenclature). That likely means that this solution will work for you too.","title":"Spring Boot application doesn&#39;t create schemas for JPA @Table annotation","body":"<p>Rename <code>spring.jpa.properties.javax.persistence.schema-generation.create-database-schemas</code> to <code>spring.jpa.properties.javax.persistence.create-database-schemas</code>. In other words, remove '.schema-generation'.</p>\n<p>I just had the same problem not with PostgreSQL but H2 - schemas weren't being created. But, as I've discovered, the problem is not with H2 (or, likely, PostgreSQL) but, rather, Hibernate (it deviates from the standard, regarding that nomenclature). That likely means that this solution will work for you too.</p>\n"}],"owner":{"account_id":232018,"reputation":187,"user_id":2743959,"display_name":"Andrew Saushkin"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7455,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":3,"score":6,"last_activity_date":1662130828,"creation_date":1536758359,"question_id":52296215,"body_markdown":"I want to have tables located in different database schemas. But unfortunately, I can&#39;t achieve this with Spring Boot. Here steps to reproduce it.\r\n\r\n1. Create a new Spring Boot project on http://start.spring.io version 2.0.5 (with derby and PostgreSQL dependencies)\r\n\r\n2. Create simple entity\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;)\r\n    public class MyTable {\r\n        @Id Integer id;\r\n    }\r\n\r\n\r\n3. Add only next property to the application.properties with value &#39;update&#39; or &#39;create&#39; (if you try &#39;create-drop&#39; then you get another error described here: https://github.com/spring-projects/spring-boot/issues/7706#issuecomment-268798059). Now Derby datasource will be used by default.\r\n\r\n`spring.jpa.hibernate.ddl-auto=create`\r\n\r\n4. Run a generated test or main class. Be sure all works fine. \r\n\r\n5. Modify the entity, add attribute `schema` to the `@Table` annotation. Now the entity looks like:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    @Entity\r\n    @Table(name = &quot;my_table&quot;, schema = &quot;my_schema&quot;)\r\n    public class MyTable {\r\n        @Id Integer id;\r\n    }\r\n\r\n6. Run a test (or main class). This time I get an error while Spring Boot initialization process &quot;`java.sql.SQLSyntaxErrorException: Schema &#39;MY_SCHEMA&#39; does not exist`&quot;:\r\n\r\nFull log listing is available here: https://gist.github.com/asaushkin/8d767c92b2e7025dd359f7be43eefdd6\r\n\r\n\r\n7. Check on PostgreSQL. This error reproduces on a PostgreSQL instance too. Without the &#39;schema&#39; attribute Spring Boot app runs perfect, but as soon as this attribute appears on the @Table annotation the exceptions are thrown.\r\n\r\nFull log is here: https://gist.github.com/asaushkin/dd0d677964556bf943c4f013d4785372\r\n\r\nMy question is: **why are schemas not created by Spring Boot?**\r\n\r\nThese options can&#39;t resolve this issue too:\r\n\r\n    spring.jpa.properties.javax.persistence.schema-generation.create-database-schemas=true\r\n    spring.jpa.properties.hibernate.hbm2dll.create_namespaces=true\r\n\r\nLinks\r\n  \r\n 1. https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl\r\n 2. https://docs.spring.io/spring-boot/docs/current/reference/html/howto-data-access.html#howto-configure-jpa-properties\r\n\r\nUpdate (11 March 2019):\r\n\r\nI&#39;ve just check the current behavior of the issue. I wonder, but currently with Derby driver all works fine and the table is created with the specified schema. But in PostgreSQL an error continues exists.\r\n\r\nGenerated SQL (for PostgreSQL) is:\r\n\r\n&lt;!-- language: sql --&gt;\r\n\r\n    create table my_schema.my_table (id int4 not null, primary key (id))\r\n","title":"Spring Boot application doesn&#39;t create schemas for JPA @Table annotation","body":"<p>I want to have tables located in different database schemas. But unfortunately, I can't achieve this with Spring Boot. Here steps to reproduce it.</p>\n\n<ol>\n<li><p>Create a new Spring Boot project on <a href=\"http://start.spring.io\" rel=\"nofollow noreferrer\">http://start.spring.io</a> version 2.0.5 (with derby and PostgreSQL dependencies)</p></li>\n<li><p>Create simple entity</p></li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"my_table\")\npublic class MyTable {\n    @Id Integer id;\n}\n</code></pre>\n\n<ol start=\"3\">\n<li>Add only next property to the application.properties with value 'update' or 'create' (if you try 'create-drop' then you get another error described here: <a href=\"https://github.com/spring-projects/spring-boot/issues/7706#issuecomment-268798059\" rel=\"nofollow noreferrer\">https://github.com/spring-projects/spring-boot/issues/7706#issuecomment-268798059</a>). Now Derby datasource will be used by default.</li>\n</ol>\n\n<p><code>spring.jpa.hibernate.ddl-auto=create</code></p>\n\n<ol start=\"4\">\n<li><p>Run a generated test or main class. Be sure all works fine. </p></li>\n<li><p>Modify the entity, add attribute <code>schema</code> to the <code>@Table</code> annotation. Now the entity looks like:</p></li>\n</ol>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\n@Table(name = \"my_table\", schema = \"my_schema\")\npublic class MyTable {\n    @Id Integer id;\n}\n</code></pre>\n\n<ol start=\"6\">\n<li>Run a test (or main class). This time I get an error while Spring Boot initialization process \"<code>java.sql.SQLSyntaxErrorException: Schema 'MY_SCHEMA' does not exist</code>\":</li>\n</ol>\n\n<p>Full log listing is available here: <a href=\"https://gist.github.com/asaushkin/8d767c92b2e7025dd359f7be43eefdd6\" rel=\"nofollow noreferrer\">https://gist.github.com/asaushkin/8d767c92b2e7025dd359f7be43eefdd6</a></p>\n\n<ol start=\"7\">\n<li>Check on PostgreSQL. This error reproduces on a PostgreSQL instance too. Without the 'schema' attribute Spring Boot app runs perfect, but as soon as this attribute appears on the @Table annotation the exceptions are thrown.</li>\n</ol>\n\n<p>Full log is here: <a href=\"https://gist.github.com/asaushkin/dd0d677964556bf943c4f013d4785372\" rel=\"nofollow noreferrer\">https://gist.github.com/asaushkin/dd0d677964556bf943c4f013d4785372</a></p>\n\n<p>My question is: <strong>why are schemas not created by Spring Boot?</strong></p>\n\n<p>These options can't resolve this issue too:</p>\n\n<pre><code>spring.jpa.properties.javax.persistence.schema-generation.create-database-schemas=true\nspring.jpa.properties.hibernate.hbm2dll.create_namespaces=true\n</code></pre>\n\n<p>Links</p>\n\n<ol>\n<li><a href=\"https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/5.2/userguide/html_single/Hibernate_User_Guide.html#configurations-hbmddl</a></li>\n<li><a href=\"https://docs.spring.io/spring-boot/docs/current/reference/html/howto-data-access.html#howto-configure-jpa-properties\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-boot/docs/current/reference/html/howto-data-access.html#howto-configure-jpa-properties</a></li>\n</ol>\n\n<p>Update (11 March 2019):</p>\n\n<p>I've just check the current behavior of the issue. I wonder, but currently with Derby driver all works fine and the table is created with the specified schema. But in PostgreSQL an error continues exists.</p>\n\n<p>Generated SQL (for PostgreSQL) is:</p>\n\n<pre class=\"lang-sql prettyprint-override\"><code>create table my_schema.my_table (id int4 not null, primary key (id))\n</code></pre>\n"},{"tags":["java","android","firebase","android-recyclerview"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662034031,"post_id":73569063,"comment_id":129915674,"body_markdown":"Have you tried something so far?","body":"Have you tried something so far?"},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1662035738,"post_id":73569063,"comment_id":129916270,"body_markdown":"yes sir i have added the checkbutton on the recycler view each item and then set on click listener on that but from now on I have no idea how can I achieve that","body":"yes sir i have added the checkbutton on the recycler view each item and then set on click listener on that but from now on I have no idea how can I achieve that"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1662037054,"post_id":73569063,"comment_id":129916785,"body_markdown":"Show us the code that doesn&#39;t work the way you expect.","body":"Show us the code that doesn&#39;t work the way you expect."},{"owner":{"account_id":16033906,"reputation":561,"user_id":11578082,"display_name":"Robert S"},"score":0,"creation_date":1662037520,"post_id":73569063,"comment_id":129916972,"body_markdown":"Check if the check button is working. Check if the data is getting added in firestore DB. If it is added, then check the method you have used to fetch the data and then show it as a wishlist. Show here what you have tried so far.","body":"Check if the check button is working. Check if the data is getting added in firestore DB. If it is added, then check the method you have used to fetch the data and then show it as a wishlist. Show here what you have tried so far."},{"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"score":0,"creation_date":1662037724,"post_id":73569063,"comment_id":129917050,"body_markdown":"@RobertS hello sir actually i have not tried anything till now can you please tell me steps to achieve this I am new and confused.","body":"@RobertS hello sir actually i have not tried anything till now can you please tell me steps to achieve this I am new and confused."},{"owner":{"account_id":16033906,"reputation":561,"user_id":11578082,"display_name":"Robert S"},"score":0,"creation_date":1662038246,"post_id":73569063,"comment_id":129917225,"body_markdown":"@VivekMFauzdar you can refer this example - https://github.com/alexmamo/Firestore-ShoppingListApp","body":"@VivekMFauzdar you can refer this example - <a href=\"https://github.com/alexmamo/Firestore-ShoppingListApp\" rel=\"nofollow noreferrer\">github.com/alexmamo/Firestore-ShoppingListApp</a>"}],"answers":[{"tags":[],"owner":{"account_id":17661410,"reputation":943,"user_id":12819796,"display_name":"Aditya Nandardhane"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1662130719,"creation_date":1662130719,"answer_id":73584531,"question_id":73569063,"body_markdown":"Do the following thing - \r\n\r\n1. Create one collection name with **Wishlist**\r\n2. When the user clicks on a particular Item heart and adds respective data with the Item Id and userId in **Wishlist** collection, It will create one document.\r\n3. Fetch data from Wishlist collection to show user wishlist using a query like get data from Wishlist collection by userId using where clause.\r\n\r\n","title":"why my items are not showing in wishlist in android studio","body":"<p>Do the following thing -</p>\n<ol>\n<li>Create one collection name with <strong>Wishlist</strong></li>\n<li>When the user clicks on a particular Item heart and adds respective data with the Item Id and userId in <strong>Wishlist</strong> collection, It will create one document.</li>\n<li>Fetch data from Wishlist collection to show user wishlist using a query like get data from Wishlist collection by userId using where clause.</li>\n</ol>\n"}],"owner":{"account_id":16492194,"reputation":125,"user_id":11915666,"display_name":"Vivek M Fauzdar"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":146,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73584531,"answer_count":1,"score":1,"last_activity_date":1662130719,"creation_date":1662033844,"question_id":73569063,"body_markdown":"I am working on an application where I want to add items in the wishlist section. I have some data which I am fetching from the firestore in recyclerview on each item I have a heart icon when someone clicks on that icon that particular item should be added to the wishlist section. I am new to android please guide me on how can I achieve this or refer to any document thank you ","title":"why my items are not showing in wishlist in android studio","body":"<p>I am working on an application where I want to add items in the wishlist section. I have some data which I am fetching from the firestore in recyclerview on each item I have a heart icon when someone clicks on that icon that particular item should be added to the wishlist section. I am new to android please guide me on how can I achieve this or refer to any document thank you</p>\n"},{"tags":["java","scala","session","conditional-statements","gatling"],"answers":[{"tags":[],"owner":{"account_id":6852429,"reputation":6319,"user_id":5269205,"display_name":"St&#233;phane LANDELLE"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1662130689,"creation_date":1662126118,"answer_id":73583497,"question_id":73582913,"body_markdown":"```java\r\n.doIfOrElse(session -&gt; \r\n  !session.contains(&quot;studentPersonalRefId&quot;) || \r\n  !session.contains(&quot;teacherAssignmentRefId&quot;)\r\n).then(\r\n```","title":"How to write a doIf block in Gatling with 2 conditions","body":"<pre class=\"lang-java prettyprint-override\"><code>.doIfOrElse(session -&gt; \n  !session.contains(&quot;studentPersonalRefId&quot;) || \n  !session.contains(&quot;teacherAssignmentRefId&quot;)\n).then(\n</code></pre>\n"}],"owner":{"account_id":21237877,"reputation":79,"user_id":15621824,"display_name":"Alexb1999"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73583497,"answer_count":1,"score":1,"last_activity_date":1662130689,"creation_date":1662123348,"question_id":73582913,"body_markdown":"I want to write a doIf block which checks if either &quot;studentPersonalRefId&quot; OR &quot;teacherAssignmentRefId&quot; are null. If so, output a message that something is null. Otherwise, continue with the &quot;getCanvasAssignments&quot; requests:\r\n\r\n\r\n```\r\n.doIfEqualsOrElse((session -&gt; String.valueOf(session.getString(&quot;studentPersonalRefId&quot;)),&quot;null&quot;) || ( session -&gt; String.valueOf(session.getString(&quot;teacherAssignmentRefId&quot;)),&quot;null&quot;).then(\r\n    exec(session -&gt; {\r\n        log.info(&quot;studentPersonalRefId or teacherAssingnmentRefId is null&quot;);\r\n        log.info(&quot;studentPersonalRefId = &quot; + session.getString(&quot;studentPersonalRefId&quot;) + &quot; teacherAssignmentRefId = &quot; + session.getString(&quot;teacherAssignmentRefId&quot;));\r\n        return session;\r\n    })\r\n}).orElse(\r\n    //Fetch the assignment which takes refId as a param, if the refId exists\r\n            exec(getCanvasAssignments);\r\n\r\n)\r\n```\r\n\r\nIs something similar to this possible?\r\n\r\n","title":"How to write a doIf block in Gatling with 2 conditions","body":"<p>I want to write a doIf block which checks if either &quot;studentPersonalRefId&quot; OR &quot;teacherAssignmentRefId&quot; are null. If so, output a message that something is null. Otherwise, continue with the &quot;getCanvasAssignments&quot; requests:</p>\n<pre><code>.doIfEqualsOrElse((session -&gt; String.valueOf(session.getString(&quot;studentPersonalRefId&quot;)),&quot;null&quot;) || ( session -&gt; String.valueOf(session.getString(&quot;teacherAssignmentRefId&quot;)),&quot;null&quot;).then(\n    exec(session -&gt; {\n        log.info(&quot;studentPersonalRefId or teacherAssingnmentRefId is null&quot;);\n        log.info(&quot;studentPersonalRefId = &quot; + session.getString(&quot;studentPersonalRefId&quot;) + &quot; teacherAssignmentRefId = &quot; + session.getString(&quot;teacherAssignmentRefId&quot;));\n        return session;\n    })\n}).orElse(\n    //Fetch the assignment which takes refId as a param, if the refId exists\n            exec(getCanvasAssignments);\n\n)\n</code></pre>\n<p>Is something similar to this possible?</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8929,"page":1063,"page_size":100}
