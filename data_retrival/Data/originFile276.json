{"items":[{"tags":["java","soap","wsdl","jax-ws","apache-axis"],"comments":[{"owner":{"account_id":3509196,"reputation":16483,"user_id":2933977,"display_name":"stdunbar"},"score":0,"creation_date":1690815535,"post_id":76804778,"comment_id":135401955,"body_markdown":"We need to see at least a little code to assist.","body":"We need to see at least a little code to assist."},{"owner":{"account_id":24538913,"reputation":31,"user_id":18449553,"display_name":"xmm_581"},"score":0,"creation_date":1690817891,"post_id":76804778,"comment_id":135402496,"body_markdown":"added code to question","body":"added code to question"}],"owner":{"account_id":24538913,"reputation":31,"user_id":18449553,"display_name":"xmm_581"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690817882,"creation_date":1690815021,"question_id":76804778,"body_markdown":"I have a Web service which was generated by Apache Axis2 from WSDL using eclipse-mars, running on tomcat 8.0:\r\nSkeleton of methods, generated classes of types and message reciever in out which is auto-generated implementation of AbstractInOutMessageReciever.\r\n\r\nAny request returns http status 200. If I send XML without required fields, it gives 500 internal server error and xml with faultstring (adbexception).\r\n\r\nService implementation contains in skeleton.\r\nI need to add status code 400 when some conditions met, but I don&#39;t find where to put headers in HTTP response. I have a generated response object, but it contains nothing except fields and setters for them.\r\n\r\nGenerated MessageReciever contains invokeBusinessLogic method, which sends a SOAPEnvelope object in response. Is there any way to add some http headers to this envelope?\r\n\r\nupd: added code example\r\n\r\ni have a skeleton method:\r\n```\r\npublic class GenServiceSkeleton {\t\r\n\tpublic TaskResponse taskResponse(TaskRequest request) {\r\n\t\t// some business logic\r\n\t\t// for ex\r\n\t\tTaskResponse resp = new TaskResponse();\r\n\t\tresp.setTask(&quot;1&quot;);\r\n\t\treturn resp;\r\n\t}\r\n}\r\n```\r\nwhere TaskResponse is a bean implemenation of ADBBean and reciever is subclass of AbstractInOutMessageReceiver\r\n```\r\npublic class GenServiceRecieverInOut extends org.apache.axis2.receivers.AbstractInOutMessageReceiever {\r\n\tpublic void invokeBusinessLogic(org.apache.axis2.context.MessageContext msgContect, org.apache.axis2.context.MessageContext newMsgContext) {\r\n\ttry {\r\n\t\t// get the implementation class for the Web Service\r\n\t\tObject obj = getTheImplementationObject(msgContext)\r\n\t\tGenServiceSkeleton skel = (GenServiceSkeleton)skel;\r\n\t\t//Out Envelop\r\n\t\torg.apache.axiom.soap.SOAPEnvelope envelope = null;\r\n        // ....\r\n\t\t// below some code\r\n        // ....\r\n        // ....\r\n            if(&quot;getTask&quot;.equals(methodName)){\r\n                TaskResponse taskResponse11 = null;\r\n\t\tTaskRequest wrappedParam = (TaskRequest)fromOM(msgContext.getEnvelope().getBody().getFirstElement(),TaskRequest.class);  \r\n                taskResponse11 =skel.taskResponse(wrappedParam);\r\n\t\tenvelope = toEnvelope(getSOAPFactory(msgContext), taskResponse11, false,new javax.xml.namespace.QName(&quot;http://example.com&quot;, &quot;TaskResponse&quot;));\t\r\n}\r\n```","title":"Is there any way to add header to SOAP HTTP response in Axis2 generated web service?","body":"<p>I have a Web service which was generated by Apache Axis2 from WSDL using eclipse-mars, running on tomcat 8.0:\nSkeleton of methods, generated classes of types and message reciever in out which is auto-generated implementation of AbstractInOutMessageReciever.</p>\n<p>Any request returns http status 200. If I send XML without required fields, it gives 500 internal server error and xml with faultstring (adbexception).</p>\n<p>Service implementation contains in skeleton.\nI need to add status code 400 when some conditions met, but I don't find where to put headers in HTTP response. I have a generated response object, but it contains nothing except fields and setters for them.</p>\n<p>Generated MessageReciever contains invokeBusinessLogic method, which sends a SOAPEnvelope object in response. Is there any way to add some http headers to this envelope?</p>\n<p>upd: added code example</p>\n<p>i have a skeleton method:</p>\n<pre><code>public class GenServiceSkeleton {   \n    public TaskResponse taskResponse(TaskRequest request) {\n        // some business logic\n        // for ex\n        TaskResponse resp = new TaskResponse();\n        resp.setTask(&quot;1&quot;);\n        return resp;\n    }\n}\n</code></pre>\n<p>where TaskResponse is a bean implemenation of ADBBean and reciever is subclass of AbstractInOutMessageReceiver</p>\n<pre><code>public class GenServiceRecieverInOut extends org.apache.axis2.receivers.AbstractInOutMessageReceiever {\n    public void invokeBusinessLogic(org.apache.axis2.context.MessageContext msgContect, org.apache.axis2.context.MessageContext newMsgContext) {\n    try {\n        // get the implementation class for the Web Service\n        Object obj = getTheImplementationObject(msgContext)\n        GenServiceSkeleton skel = (GenServiceSkeleton)skel;\n        //Out Envelop\n        org.apache.axiom.soap.SOAPEnvelope envelope = null;\n        // ....\n        // below some code\n        // ....\n        // ....\n            if(&quot;getTask&quot;.equals(methodName)){\n                TaskResponse taskResponse11 = null;\n        TaskRequest wrappedParam = (TaskRequest)fromOM(msgContext.getEnvelope().getBody().getFirstElement(),TaskRequest.class);  \n                taskResponse11 =skel.taskResponse(wrappedParam);\n        envelope = toEnvelope(getSOAPFactory(msgContext), taskResponse11, false,new javax.xml.namespace.QName(&quot;http://example.com&quot;, &quot;TaskResponse&quot;));   \n}\n</code></pre>\n"},{"tags":["java","spring-boot","hibernate","entity-framework","jpa"],"comments":[{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1690817924,"post_id":76805124,"comment_id":135402502,"body_markdown":"If the NPE occurs in the line `productRepository.save(product);` then the only possibility is that `productRepository` is `null`. So it looks like your autowiring doesn&#39;t correctly initialize the repository. - (If the NPE would occur inside the save method your stacktrace would point you to the line in that method.)","body":"If the NPE occurs in the line <code>productRepository.save(product);</code> then the only possibility is that <code>productRepository</code> is <code>null</code>. So it looks like your autowiring doesn&#39;t correctly initialize the repository. - (If the NPE would occur inside the save method your stacktrace would point you to the line in that method.)"},{"owner":{"account_id":8598286,"reputation":11087,"user_id":6440704,"display_name":"Anton Balaniuc"},"score":0,"creation_date":1690818682,"post_id":76805124,"comment_id":135402659,"body_markdown":"Can you please attach stack trace?","body":"Can you please attach stack trace?"}],"owner":{"account_id":5382965,"reputation":6108,"user_id":4287733,"display_name":"Nermin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690826978,"answer_count":0,"score":0,"last_activity_date":1690817665,"creation_date":1690817665,"question_id":76805124,"body_markdown":"I&#39;m working on a Spring Boot application where I&#39;m using Hibernate for database persistence. However, I&#39;m encountering a persistent NullPointerException that occurs when attempting to save an entity to the database using the save() method from my repository.\r\n\r\nHere&#39;s the relevant code snippet:\r\n\r\n```java\r\n@Entity\r\npublic class Product {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private Long id;\r\n\r\n    private String name;\r\n    private double price;\r\n\r\n    // Getters, setters, and other properties...\r\n}\r\n\r\n@Repository\r\npublic interface ProductRepository extends JpaRepository&lt;Product, Long&gt; {\r\n}\r\n\r\n@Service\r\npublic class ProductService {\r\n    @Autowired\r\n    private ProductRepository productRepository;\r\n\r\n    public void saveProduct(Product product) {\r\n        productRepository.save(product); // NullPointerException occurs here\r\n    }\r\n}\r\n```\r\n\r\nI&#39;ve ensured that the Product object being passed to the saveProduct() method is not null, and all the necessary annotations are in place for Hibernate entity mapping. However, I&#39;m still facing this issue consistently.\r\n\r\nWhat could be causing this NullPointerException during the save() operation? Are there any common pitfalls or misconfigurations related to Hibernate entity persistence that I might be overlooking? How can I further investigate and troubleshoot this problem effectively?\r\n\r\nI&#39;ve read through several Hibernate and Spring Boot documentation pages and tried searching for similar issues on Stack Overflow, but I haven&#39;t found a solution that works for my case. Any insights or suggestions to point me in the right direction would be highly appreciated.","title":"Troubleshooting &#39;NullPointerException&#39; in Spring Boot Application during Hibernate Entity Persistence","body":"<p>I'm working on a Spring Boot application where I'm using Hibernate for database persistence. However, I'm encountering a persistent NullPointerException that occurs when attempting to save an entity to the database using the save() method from my repository.</p>\n<p>Here's the relevant code snippet:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Entity\npublic class Product {\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id;\n\n    private String name;\n    private double price;\n\n    // Getters, setters, and other properties...\n}\n\n@Repository\npublic interface ProductRepository extends JpaRepository&lt;Product, Long&gt; {\n}\n\n@Service\npublic class ProductService {\n    @Autowired\n    private ProductRepository productRepository;\n\n    public void saveProduct(Product product) {\n        productRepository.save(product); // NullPointerException occurs here\n    }\n}\n</code></pre>\n<p>I've ensured that the Product object being passed to the saveProduct() method is not null, and all the necessary annotations are in place for Hibernate entity mapping. However, I'm still facing this issue consistently.</p>\n<p>What could be causing this NullPointerException during the save() operation? Are there any common pitfalls or misconfigurations related to Hibernate entity persistence that I might be overlooking? How can I further investigate and troubleshoot this problem effectively?</p>\n<p>I've read through several Hibernate and Spring Boot documentation pages and tried searching for similar issues on Stack Overflow, but I haven't found a solution that works for my case. Any insights or suggestions to point me in the right direction would be highly appreciated.</p>\n"},{"tags":["java","swing","methods","jframe","jpanel"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690817575,"creation_date":1690817575,"answer_id":76805107,"question_id":76804963,"body_markdown":"&gt; Cant change content on a JPanel\r\n\r\nIt can.\r\n\r\nBut generally speaking, one would not achieve that in the way you are trying to do.  Instead of ripping out all of the components and replacing them with new, one would ordinarily update the models of the existing components so that when they are repainted, the view will be as you want.  For example, use `JLabel.setText()` instead of creating a whole new `JLabel`.  Of course, this does require you to keep references to the components you will want to update in a way that enables you to perform such modifications cleanly.  Under some circumstances, it might make sense to create custom components to help you with that.\r\n\r\nAlso, however, it is unclear from what context you are calling `renderPlayerPanel()`, but inasmuch as it modifies GUI components, it needs to run on the event dispatch thread.  If it&#39;s not running there already, then you can fix that by having the invoker(s) go through [`SwingUtilities.invokeAndWait()`][1] or [`SwingUtilities.invokeLater()`][2] to run it.\r\n\r\n&gt; I tried adding renderPanel.repaint() but this does not seem to change anything.\r\n\r\nNot surprising.  You&#39;re already repainting that panel&#39;s container; it has no additional effect to also repaint the panel directly.\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingUtilities.html#invokeAndWait-java.lang.Runnable-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingUtilities.html#invokeLater-java.lang.Runnable-","title":"Cant change content on a JPanel","body":"<blockquote>\n<p>Cant change content on a JPanel</p>\n</blockquote>\n<p>It can.</p>\n<p>But generally speaking, one would not achieve that in the way you are trying to do.  Instead of ripping out all of the components and replacing them with new, one would ordinarily update the models of the existing components so that when they are repainted, the view will be as you want.  For example, use <code>JLabel.setText()</code> instead of creating a whole new <code>JLabel</code>.  Of course, this does require you to keep references to the components you will want to update in a way that enables you to perform such modifications cleanly.  Under some circumstances, it might make sense to create custom components to help you with that.</p>\n<p>Also, however, it is unclear from what context you are calling <code>renderPlayerPanel()</code>, but inasmuch as it modifies GUI components, it needs to run on the event dispatch thread.  If it's not running there already, then you can fix that by having the invoker(s) go through <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingUtilities.html#invokeAndWait-java.lang.Runnable-\" rel=\"nofollow noreferrer\"><code>SwingUtilities.invokeAndWait()</code></a> or <a href=\"https://docs.oracle.com/javase/8/docs/api/javax/swing/SwingUtilities.html#invokeLater-java.lang.Runnable-\" rel=\"nofollow noreferrer\"><code>SwingUtilities.invokeLater()</code></a> to run it.</p>\n<blockquote>\n<p>I tried adding renderPanel.repaint() but this does not seem to change anything.</p>\n</blockquote>\n<p>Not surprising.  You're already repainting that panel's container; it has no additional effect to also repaint the panel directly.</p>\n"}],"owner":{"account_id":18203798,"reputation":25,"user_id":13247493,"display_name":"Atomic Peanut"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690817575,"creation_date":1690816413,"question_id":76804963,"body_markdown":"I have a JFrame, which has a JPanel called `gamePanel` added to it. The game calls the method `renderPlayerInfo` multiple times after the main frame is set to visible. However, the panel does not change after the first time I call the method.\r\n\r\n_renderPlayerInfo_\r\n```\r\nvoid renderPlayerInfo(JPanel gamePanel) {\r\n        Font renderFontBold = new Font(&quot;Arial&quot;, Font.BOLD, 16);\r\n        Font renderFont = new Font(&quot;Arial&quot;, Font.PLAIN, 16);\r\n\r\n        renderPanel.removeAll();\r\n        System.out.println(&quot;e&quot;);\r\n\r\n        int yRender = 0;\r\n        for (int i = 0; i &lt; players.size(); i++) {\r\n            JPanel playerPanel = new JPanel(null);\r\n            playerPanel.setBounds(0, yRender, 300, 110);\r\n            playerPanel.setBackground(new Color(204, 227, 199));\r\n\r\n            JLabel playerLabel = new JLabel(&quot;Player &quot; + String.valueOf(i + 1));\r\n            playerLabel.setFont(renderFontBold);\r\n            playerLabel.setBounds(10, 10, 300, 18);\r\n\r\n            JLabel playerToken = players.get(i).getPlayerToken(244, 0);\r\n            playerPanel.add(playerToken);\r\n\r\n            JLabel moneyIcon = new JLabel(new ImageIcon(&quot;./res/money.jpg&quot;));\r\n            moneyIcon.setBounds(30, 40, 64, 32);\r\n            playerPanel.add(moneyIcon);\r\n            JLabel moneyAmount = new JLabel(&quot;&#163;&quot; + moneyFormatter.format(players.get(i).playerMoney));\r\n            moneyAmount.setFont(renderFont);\r\n            moneyAmount.setBounds(100, 48, 200, 18);\r\n            playerPanel.add(moneyAmount);\r\n\r\n            JPanel separatorPanel = new JPanel();\r\n            separatorPanel.setBounds(0, 108, 300, 2);\r\n            separatorPanel.setBackground(new Color(146, 159, 149));\r\n            playerPanel.add(separatorPanel);\r\n\r\n            playerPanel.add(playerLabel);\r\n            renderPanel.add(playerPanel);\r\n\r\n            if (i + 1 == playerTurn) {\r\n                JLabel turnPointer = new JLabel(new ImageIcon(&quot;./res/turnPointer.png&quot;));\r\n                turnPointer.setBounds(70, -12, 64, 64);\r\n                playerPanel.add(turnPointer);\r\n            }\r\n\r\n            yRender += 110;\r\n        }\r\n        renderPanel.repaint();\r\n\r\n        gamePanel.add(renderPanel);\r\n        gamePanel.repaint();\r\n    }\r\n```\r\n\r\nI tried adding `renderPanel.repaint()` but this does not seem to change anything.","title":"Cant change content on a JPanel","body":"<p>I have a JFrame, which has a JPanel called <code>gamePanel</code> added to it. The game calls the method <code>renderPlayerInfo</code> multiple times after the main frame is set to visible. However, the panel does not change after the first time I call the method.</p>\n<p><em>renderPlayerInfo</em></p>\n<pre><code>void renderPlayerInfo(JPanel gamePanel) {\n        Font renderFontBold = new Font(&quot;Arial&quot;, Font.BOLD, 16);\n        Font renderFont = new Font(&quot;Arial&quot;, Font.PLAIN, 16);\n\n        renderPanel.removeAll();\n        System.out.println(&quot;e&quot;);\n\n        int yRender = 0;\n        for (int i = 0; i &lt; players.size(); i++) {\n            JPanel playerPanel = new JPanel(null);\n            playerPanel.setBounds(0, yRender, 300, 110);\n            playerPanel.setBackground(new Color(204, 227, 199));\n\n            JLabel playerLabel = new JLabel(&quot;Player &quot; + String.valueOf(i + 1));\n            playerLabel.setFont(renderFontBold);\n            playerLabel.setBounds(10, 10, 300, 18);\n\n            JLabel playerToken = players.get(i).getPlayerToken(244, 0);\n            playerPanel.add(playerToken);\n\n            JLabel moneyIcon = new JLabel(new ImageIcon(&quot;./res/money.jpg&quot;));\n            moneyIcon.setBounds(30, 40, 64, 32);\n            playerPanel.add(moneyIcon);\n            JLabel moneyAmount = new JLabel(&quot;£&quot; + moneyFormatter.format(players.get(i).playerMoney));\n            moneyAmount.setFont(renderFont);\n            moneyAmount.setBounds(100, 48, 200, 18);\n            playerPanel.add(moneyAmount);\n\n            JPanel separatorPanel = new JPanel();\n            separatorPanel.setBounds(0, 108, 300, 2);\n            separatorPanel.setBackground(new Color(146, 159, 149));\n            playerPanel.add(separatorPanel);\n\n            playerPanel.add(playerLabel);\n            renderPanel.add(playerPanel);\n\n            if (i + 1 == playerTurn) {\n                JLabel turnPointer = new JLabel(new ImageIcon(&quot;./res/turnPointer.png&quot;));\n                turnPointer.setBounds(70, -12, 64, 64);\n                playerPanel.add(turnPointer);\n            }\n\n            yRender += 110;\n        }\n        renderPanel.repaint();\n\n        gamePanel.add(renderPanel);\n        gamePanel.repaint();\n    }\n</code></pre>\n<p>I tried adding <code>renderPanel.repaint()</code> but this does not seem to change anything.</p>\n"},{"tags":["java","memory","allocation"],"comments":[{"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"score":3,"creation_date":1690817409,"post_id":76805065,"comment_id":135402393,"body_markdown":"No, that is not how it works. `b` is a reference variable, all it will contain is either `null` or a _pointer_ (a.k.a. reference) to an object of type `Base`, so all it needs is 4 bytes for the reference; it does not allocate memory for an object of type `Base`, because a reference is not the object itself.","body":"No, that is not how it works. <code>b</code> is a reference variable, all it will contain is either <code>null</code> or a <i>pointer</i> (a.k.a. reference) to an object of type <code>Base</code>, so all it needs is 4 bytes for the reference; it does not allocate memory for an object of type <code>Base</code>, because a reference is not the object itself."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1690821751,"post_id":76805065,"comment_id":135403244,"body_markdown":"I&#39;ll add some provisos on that: the size of references in Java have been measured empirically at around 8 bytes.  Each reference isn&#39;t just a pointer, it has some overhead associated with it.  Also all classes (even Object) require some overhead as well, also around 8 bytes.  So `new Base()` might allocate 8 + 8 + 4 + 4 = 24 bytes on the heap, give or take a particular JVM&#39;s implementation.","body":"I&#39;ll add some provisos on that: the size of references in Java have been measured empirically at around 8 bytes.  Each reference isn&#39;t just a pointer, it has some overhead associated with it.  Also all classes (even Object) require some overhead as well, also around 8 bytes.  So <code>new Base()</code> might allocate 8 + 8 + 4 + 4 = 24 bytes on the heap, give or take a particular JVM&#39;s implementation."}],"owner":{"account_id":23094045,"reputation":35,"user_id":17204451,"display_name":"Gokul Gadkar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":26,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690817362,"creation_date":1690817279,"question_id":76805065,"body_markdown":"How is memory allocated when object of Base is created?\r\n\r\n```java\r\nclass Base {\r\n\r\n    Base b;\r\n    int a;\r\n    int c;\r\n\r\n}\r\n```\r\n\r\nWhenever I try to think about memory allocation it&#39;s normally something like sum of size of all attributes.\r\n\r\nSomething like\r\n```\r\nBase = a + c;\r\n```\r\n\r\nWith this logic \r\n```\r\nBase = Base + a + c;\r\n```","title":"How is memory allocated to a &quot;class Base&quot; if there is a attribute &quot;Base b;&quot; inside definition of the class?","body":"<p>How is memory allocated when object of Base is created?</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Base {\n\n    Base b;\n    int a;\n    int c;\n\n}\n</code></pre>\n<p>Whenever I try to think about memory allocation it's normally something like sum of size of all attributes.</p>\n<p>Something like</p>\n<pre><code>Base = a + c;\n</code></pre>\n<p>With this logic</p>\n<pre><code>Base = Base + a + c;\n</code></pre>\n"},{"tags":["java","https","proxy","jsch"],"owner":{"account_id":29130040,"reputation":1,"user_id":22315547,"display_name":"mrboogie22"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690817148,"creation_date":1690817148,"question_id":76805044,"body_markdown":"I would like to connect to an SFTP server by tunneling over an HTTPS proxy. I see that [Java Proxies](https://docs.oracle.com/javase/8/docs/api/java/net/Proxy.Type.html#HTTP), support three different types: Direct, HTTP, and Socks, but not HTTPS. Is there any way I can achieve this, or any third party libraries that might support this? Thanks!\r\n\r\nI tried connecting via HTTP, but this did not work since the proxy I am connecting to only supports HTTPS connections","title":"Can I connect to an SFTP server via HTTPS Proxy in Java?","body":"<p>I would like to connect to an SFTP server by tunneling over an HTTPS proxy. I see that <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/Proxy.Type.html#HTTP\" rel=\"nofollow noreferrer\">Java Proxies</a>, support three different types: Direct, HTTP, and Socks, but not HTTPS. Is there any way I can achieve this, or any third party libraries that might support this? Thanks!</p>\n<p>I tried connecting via HTTP, but this did not work since the proxy I am connecting to only supports HTTPS connections</p>\n"},{"tags":["java","quarkus","open-telemetry","jaeger","opentracing"],"answers":[{"tags":[],"owner":{"account_id":5621681,"reputation":229,"user_id":6935180,"display_name":"Bruno Baptista"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690392631,"creation_date":1690366703,"answer_id":76770235,"question_id":76767269,"body_markdown":"Yes, in Quarkus the Baggage is automatically propagated using the OpenTelemetry default, W3C. Assuming you are using HTTP communication...\r\n\r\nThere are multiple ways to enrich the baggage. This is one example using Quarkus 3.x:\r\n\r\n    @Inject\r\n    Baggage baggage;\r\n\r\n    // ...\r\n\r\n    try (final Scope scope = baggage.toBuilder()\r\n            .put(&quot;legumeId&quot;, legumeItem.getId()) // some data you need to send\r\n            .build()\r\n            .makeCurrent()) {\r\n\r\n        // ... send things to other service\r\n    }\r\n\r\n On the other side, to retrieve the baggage attributes you can:\r\n\r\n    @Inject\r\n    Baggage baggage;\r\n    \r\n    // ...\r\n\r\n    log.info(&quot;legumeId: {}&quot;, baggage.getEntryValue(&quot;legumeId&quot;));\r\n    // or, to see all the map entries:\r\n    baggage.asMap().forEach((k, v) -&gt; log.info(&quot;baggage: {}={}&quot;, k, v.getValue()));\r\n\r\nPlease mind OpenTelemetry is a different API from tracing. It&#39;s supposed to be used to transport application [context data][1]. I&#39;m not sure Jaeger can somehow display it. Most likely it will never arrive there because it&#39;s suppose to travel in the headers of the calls between services, not to the collector side.\r\n\r\n\r\n  [1]: https://opentelemetry.io/docs/concepts/signals/baggage/","title":"Quarkus Opentelemetry Baggage","body":"<p>Yes, in Quarkus the Baggage is automatically propagated using the OpenTelemetry default, W3C. Assuming you are using HTTP communication...</p>\n<p>There are multiple ways to enrich the baggage. This is one example using Quarkus 3.x:</p>\n<pre><code>@Inject\nBaggage baggage;\n\n// ...\n\ntry (final Scope scope = baggage.toBuilder()\n        .put(&quot;legumeId&quot;, legumeItem.getId()) // some data you need to send\n        .build()\n        .makeCurrent()) {\n\n    // ... send things to other service\n}\n</code></pre>\n<p>On the other side, to retrieve the baggage attributes you can:</p>\n<pre><code>@Inject\nBaggage baggage;\n\n// ...\n\nlog.info(&quot;legumeId: {}&quot;, baggage.getEntryValue(&quot;legumeId&quot;));\n// or, to see all the map entries:\nbaggage.asMap().forEach((k, v) -&gt; log.info(&quot;baggage: {}={}&quot;, k, v.getValue()));\n</code></pre>\n<p>Please mind OpenTelemetry is a different API from tracing. It's supposed to be used to transport application <a href=\"https://opentelemetry.io/docs/concepts/signals/baggage/\" rel=\"nofollow noreferrer\">context data</a>. I'm not sure Jaeger can somehow display it. Most likely it will never arrive there because it's suppose to travel in the headers of the calls between services, not to the collector side.</p>\n"},{"tags":[],"owner":{"account_id":3162612,"reputation":618,"user_id":2673284,"accept_rate":78,"display_name":"Yuri Shkuro"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690817054,"creation_date":1690817054,"answer_id":76805034,"question_id":76767269,"body_markdown":"Baggage is a runtime concept, it&#39;s purpose is to make certain information accessible to the application at different hops of the distributed request. With OpenTelemetry, baggage can work without any tracing being present. If you want baggage to be captured in the traces, you need to do it explicitly via `span.setAttribute`.","title":"Quarkus Opentelemetry Baggage","body":"<p>Baggage is a runtime concept, it's purpose is to make certain information accessible to the application at different hops of the distributed request. With OpenTelemetry, baggage can work without any tracing being present. If you want baggage to be captured in the traces, you need to do it explicitly via <code>span.setAttribute</code>.</p>\n"}],"owner":{"account_id":18044566,"reputation":101,"user_id":13115896,"display_name":"sg2000"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690817054,"creation_date":1690331107,"question_id":76767269,"body_markdown":"I am trying to add some custom information to the opentelemetry baggage but not finding it in the Jaeger UI as part of the information shown. Is there anyway i can configure Quarkus opentelemetry to send custom data from the baggage? Or is there anyway this can be included by default?\r\n\r\nI have this setting (which is supposed to be the default) in my application.properties. Basically, i am looking to see how i can add a custom id (correlation id or messageId) to the tracing info.\r\n\r\nAny idea? Thank you in advance!","title":"Quarkus Opentelemetry Baggage","body":"<p>I am trying to add some custom information to the opentelemetry baggage but not finding it in the Jaeger UI as part of the information shown. Is there anyway i can configure Quarkus opentelemetry to send custom data from the baggage? Or is there anyway this can be included by default?</p>\n<p>I have this setting (which is supposed to be the default) in my application.properties. Basically, i am looking to see how i can add a custom id (correlation id or messageId) to the tracing info.</p>\n<p>Any idea? Thank you in advance!</p>\n"},{"tags":["java","android","authentication","redirect","android-download-manager"],"comments":[{"owner":{"account_id":-1,"reputation":1,"user_id":-1,"display_name":"Community"},"score":0,"creation_date":1690910056,"post_id":76805012,"comment_id":135417705,"body_markdown":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking.","body":"Please clarify your specific problem or provide additional details to highlight exactly what you need. As it&#39;s currently written, it&#39;s hard to tell exactly what you&#39;re asking."}],"owner":{"account_id":27818310,"reputation":1,"user_id":21239263,"display_name":"hubert kwiecień"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":36,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690816850,"creation_date":1690816850,"question_id":76805012,"body_markdown":"For easy explain let&#39;s just skip a few concepts. Let&#39;s say that I have skript which somehow gives file bytes. But to run that script it is necesary to be logged. So I have second script to login automaticly doesn&#39;t matter how. This second script after login redirect to first script which should download file. And in web browser it does. But when I am using android studio DownloadManager in mobile app the downloaded file is login page. It seems like redirecting in DownloadManager doesn&#39;t keep information. I would be greatful for any given concepts.\r\n\r\nLogin is for sure good. I tried print data with acces only for logged user, so when i commented redirect command from my script i saw that data. So somehow redirecting loses info about login in DownloadManager","title":"Android Studio Download Manager Redirection","body":"<p>For easy explain let's just skip a few concepts. Let's say that I have skript which somehow gives file bytes. But to run that script it is necesary to be logged. So I have second script to login automaticly doesn't matter how. This second script after login redirect to first script which should download file. And in web browser it does. But when I am using android studio DownloadManager in mobile app the downloaded file is login page. It seems like redirecting in DownloadManager doesn't keep information. I would be greatful for any given concepts.</p>\n<p>Login is for sure good. I tried print data with acces only for logged user, so when i commented redirect command from my script i saw that data. So somehow redirecting loses info about login in DownloadManager</p>\n"},{"tags":["javascript","java","http","exception"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690807147,"post_id":76803712,"comment_id":135399972,"body_markdown":"The error message doesn&#39;t match your code. It&#39;s saying you are using GET, while the code shows POST. Use your browser console to find out what is actually happening.","body":"The error message doesn&#39;t match your code. It&#39;s saying you are using GET, while the code shows POST. Use your browser console to find out what is actually happening."},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690807243,"post_id":76803712,"comment_id":135399988,"body_markdown":"No I m not using any get. I try to use POST. I just try to get username and password from the client and add into the database but Error meassage is about GET but I didnt use any GET","body":"No I m not using any get. I try to use POST. I just try to get username and password from the client and add into the database but Error meassage is about GET but I didnt use any GET"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690807279,"post_id":76803712,"comment_id":135399997,"body_markdown":"You wouldn&#39;t get that error unless *some* GET request is being done somewhere. Again, use your browser console to find out.","body":"You wouldn&#39;t get that error unless <i>some</i> GET request is being done somewhere. Again, use your browser console to find out."},{"owner":{"account_id":3771295,"reputation":7247,"user_id":3133418,"accept_rate":100,"display_name":"nick zoum"},"score":0,"creation_date":1690807291,"post_id":76803712,"comment_id":135399999,"body_markdown":"Have you checked the network tab of the browser to see if the actual request being sent is GET or POST? The code shown here should send a POST request which doesn&#39;t explain the error message.","body":"Have you checked the network tab of the browser to see if the actual request being sent is GET or POST? The code shown here should send a POST request which doesn&#39;t explain the error message."},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690807340,"post_id":76803712,"comment_id":135400013,"body_markdown":"Console has just that error Failed to load resource: the server responded with a status of 405 (Method Not Allowed)","body":"Console has just that error Failed to load resource: the server responded with a status of 405 (Method Not Allowed)"},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690807507,"post_id":76803712,"comment_id":135400045,"body_markdown":"In ınternate says when you add or change something you need to use POST and  I need to these username and password to insert user  into database","body":"In ınternate says when you add or change something you need to use POST and  I need to these username and password to insert user  into database"},{"owner":{"account_id":7991,"reputation":205509,"user_id":14104,"display_name":"epascarello"},"score":0,"creation_date":1690807770,"post_id":76803712,"comment_id":135400102,"body_markdown":"WHY are you sending up the username and password in a querystring.... that is not secure, it should be in the body of the message...","body":"WHY are you sending up the username and password in a querystring.... that is not secure, it should be in the body of the message..."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690807968,"post_id":76803712,"comment_id":135400151,"body_markdown":"&quot;Console has just that error&quot; OK, so you found the browser console. Now open the Network tab and do what @nickzoum said.","body":"&quot;Console has just that error&quot; OK, so you found the browser console. Now open the Network tab and do what @nickzoum said."},{"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"score":0,"creation_date":1690808000,"post_id":76803712,"comment_id":135400161,"body_markdown":"It s a just little project to understand and learn how the works going. Can you tell me how Can i send the body message and how to make it please?","body":"It s a just little project to understand and learn how the works going. Can you tell me how Can i send the body message and how to make it please?"}],"answers":[{"tags":[],"owner":{"account_id":14003036,"reputation":29,"user_id":10114021,"display_name":"Parth KaPatel"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1690808022,"creation_date":1690808022,"answer_id":76803839,"question_id":76803712,"body_markdown":"Here is solution from the [REQBIN][1]\r\n\r\nPlease refer the link and execute the code and apply in your project\r\n \r\n\r\n    let xhr = new XMLHttpRequest();\r\n    \r\n    xhr.open(&quot;POST&quot;, &quot;https://reqbin.com/echo/post/json&quot;);\r\n    \r\n    let data = {\r\n      &quot;Id&quot;: 78912,\r\n      &quot;Customer&quot;: &quot;Jason Sweet&quot;,\r\n    };\r\n    \r\n    xhr.onload = () =&gt; console.log(xhr.status);\r\n    \r\n    xhr.send(data);\r\n\r\n\r\n  [1]: https://reqbin.com/code/javascript","title":"Method &#39;GET&#39; is not supported","body":"<p>Here is solution from the <a href=\"https://reqbin.com/code/javascript\" rel=\"nofollow noreferrer\">REQBIN</a></p>\n<p>Please refer the link and execute the code and apply in your project</p>\n<pre><code>let xhr = new XMLHttpRequest();\n\nxhr.open(&quot;POST&quot;, &quot;https://reqbin.com/echo/post/json&quot;);\n\nlet data = {\n  &quot;Id&quot;: 78912,\n  &quot;Customer&quot;: &quot;Jason Sweet&quot;,\n};\n\nxhr.onload = () =&gt; console.log(xhr.status);\n\nxhr.send(data);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"down_vote_count":1,"up_vote_count":2,"is_accepted":false,"score":1,"last_activity_date":1690808085,"creation_date":1690808085,"answer_id":76803848,"question_id":76803712,"body_markdown":"The problem is when i send to request. This is a GET request not POST . I changed the PostMapping To GetMapping problem is solved. I think there is missunderstanding about POST and GET mapping","title":"Method &#39;GET&#39; is not supported","body":"<p>The problem is when i send to request. This is a GET request not POST . I changed the PostMapping To GetMapping problem is solved. I think there is missunderstanding about POST and GET mapping</p>\n"},{"tags":[],"owner":{"account_id":5501002,"reputation":3,"user_id":4370335,"display_name":"aliboura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690809776,"creation_date":1690809776,"answer_id":76804068,"question_id":76803712,"body_markdown":"there is nothing wrong with your code  , it should work unless you do have restriction in your app security config  like (allowedMethods )","title":"Method &#39;GET&#39; is not supported","body":"<p>there is nothing wrong with your code  , it should work unless you do have restriction in your app security config  like (allowedMethods )</p>\n"}],"owner":{"account_id":27990171,"reputation":67,"user_id":21376203,"display_name":"MatildaEliz"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"answer_count":3,"score":-2,"last_activity_date":1690816656,"creation_date":1690807082,"question_id":76803712,"body_markdown":"When I make `HTTP POST` request, I got this message on my screen. How can I solve this problem?  I don&#39;t use any `GET` annotation or request.\r\n\r\nHTPP REQUEST : http://localhost:9000/user/register?username=a&amp;password=1\r\n\r\nConsole Error\r\n\r\n&gt; Failed to load resource: the server responded with a status of 405 (Method Not Allowed)\r\n\r\nJavaScript\r\n```\r\n&lt;script&gt;\r\ndocument.getElementById(&quot;signupbtn&quot;).addEventListener(&quot;click&quot;,function(){\r\n    const username = document.getElementById(&quot;username&quot;).value;\r\n    const password = document.getElementById(&quot;password&quot;).value;\r\n    const xhr = new XMLHttpRequest(); \r\n    xhr.open(&quot;POST&quot;,&quot;http://localhost:9000/user/register?username=&quot;+username+&quot;&amp;password=&quot;+password);\r\n    xhr.send();\r\n  })\r\n\r\n&lt;/script&gt;\r\n```\r\n\r\nController\r\n```\r\n@PostMapping(&quot;/register&quot;)\r\nResponseEntity&lt;String&gt; addUser(@RequestParam(&quot;username&quot;) String username,@RequestParam(&quot;password&quot;) String password) {\r\n    userService.addUser(username, password);\r\n    return ResponseEntity.ok(&quot;User added succesfully&quot;);\r\n}\r\n```\r\n\r\nService\r\n```\r\npublic void addUser(String username,String password){\r\n    userRepository.save(new User(username,password));\r\n       \r\n}\r\n```\r\n","title":"Method &#39;GET&#39; is not supported","body":"<p>When I make <code>HTTP POST</code> request, I got this message on my screen. How can I solve this problem?  I don't use any <code>GET</code> annotation or request.</p>\n<p>HTPP REQUEST : http://localhost:9000/user/register?username=a&amp;password=1</p>\n<p>Console Error</p>\n<blockquote>\n<p>Failed to load resource: the server responded with a status of 405 (Method Not Allowed)</p>\n</blockquote>\n<p>JavaScript</p>\n<pre><code>&lt;script&gt;\ndocument.getElementById(&quot;signupbtn&quot;).addEventListener(&quot;click&quot;,function(){\n    const username = document.getElementById(&quot;username&quot;).value;\n    const password = document.getElementById(&quot;password&quot;).value;\n    const xhr = new XMLHttpRequest(); \n    xhr.open(&quot;POST&quot;,&quot;http://localhost:9000/user/register?username=&quot;+username+&quot;&amp;password=&quot;+password);\n    xhr.send();\n  })\n\n&lt;/script&gt;\n</code></pre>\n<p>Controller</p>\n<pre><code>@PostMapping(&quot;/register&quot;)\nResponseEntity&lt;String&gt; addUser(@RequestParam(&quot;username&quot;) String username,@RequestParam(&quot;password&quot;) String password) {\n    userService.addUser(username, password);\n    return ResponseEntity.ok(&quot;User added succesfully&quot;);\n}\n</code></pre>\n<p>Service</p>\n<pre><code>public void addUser(String username,String password){\n    userRepository.save(new User(username,password));\n       \n}\n</code></pre>\n"},{"tags":["java","spring-data-jpa","postgresql-9.3","java-time"],"comments":[{"owner":{"account_id":3542644,"reputation":3919,"user_id":2959331,"display_name":"Sanj"},"score":0,"creation_date":1459832611,"post_id":36417317,"comment_id":60449967,"body_markdown":"Your app needs timezone information?","body":"Your app needs timezone information?"},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":1,"creation_date":1488413725,"post_id":36417317,"comment_id":72224864,"body_markdown":"Regarding your &quot;Edit&quot; section, know that politicians *love* to redefine time zones, offsets, Daylight Saving Time (DST), etc. So never go *too* far into the future with UTC values. If you mean dental hygiene appointments made far in advance, ex. “3 PM on December 5th, 2017 later this year”, then you may indeed want to use a `LocalDateTime` to store that fact. The intent there is 3 PM however politicians may have redefined that moment by then. For a schedule you might temporarily apply time zone to to the potential `LocalDateTime` to generate an actual moment as a `ZonedDateTime`/`Instant`.","body":"Regarding your &quot;Edit&quot; section, know that politicians <i>love</i> to redefine time zones, offsets, Daylight Saving Time (DST), etc. So never go <i>too</i> far into the future with UTC values. If you mean dental hygiene appointments made far in advance, ex. “3 PM on December 5th, 2017 later this year”, then you may indeed want to use a <code>LocalDateTime</code> to store that fact. The intent there is 3 PM however politicians may have redefined that moment by then. For a schedule you might temporarily apply time zone to to the potential <code>LocalDateTime</code> to generate an actual moment as a <code>ZonedDateTime</code>/<code>Instant</code>."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":1,"up_vote_count":131,"is_accepted":true,"score":130,"last_activity_date":1637429750,"creation_date":1459834867,"answer_id":36417996,"question_id":36417317,"body_markdown":"Postgres has no such data type as `TIMESTAMP`. Postgres has [two types][1] for date plus time-of-day: `TIMESTAMP WITH TIME ZONE` and `TIMESTAMP WITHOUT TIME ZONE`. These types have very different behavior with regard to time zone information. \r\n\r\n - The **`WITH` type** uses any offset or time zone information to adjust the date-time to [UTC][2], then disposes of that offset or time zone; Postgres never saves the offset/zone info. \r\n   - This type represents a moment, a specific point on the timeline.\r\n - The **`WITHOUT` type** ignores any offset or zone info that may be present.\r\n   - This type does *not* represent a moment. It represents a vague idea of *potential* moments along a range of about 26-27 hours (the range of time zones around the globe).\r\n\r\nYou virtually always want the `WITH` type, as [explained here][3] by expert David E. Wheeler. The `WITHOUT` only makes sense when you have the vague idea of a date-time rather than a fixed point on the timeline. For example, &quot;Christmas this year starts at 2016-12-25T00:00:00&quot; would be stored in the `WITHOUT` as it applies to *any* time zone, not yet having been applied to any one single time zone to get an actual moment on the timeline. If Santa’s elves were tracking the start time for Eugene Oregon US, then they would use the `WITH` type and an input that included an offset or time zone such as `2016-12-25T00:00:00-08:00` which gets saved into Postgres as `2016-12-25T08:00.00Z` (where the `Z` means Zulu or UTC).\r\n\r\nThe equivalent of Postgres’ `TIMESTAMP WITHOUT TIME ZONE` in java.time is `java.time.LocalDateTime`. As your intention was to work in UTC (a good thing), you should *not* be using `LocalDateTime` (a bad thing). That may be the main point of confusion and trouble for you. You keep thinking about using `LocalDateTime` or `ZonedDateTime` but you should be using neither; instead you should be using `Instant` (discussed below).\r\n\r\n&gt;I also wonder if because I am going from LocalDateTime to ZonedDateTime and vice versa, I might be losing any timezone info.\r\n\r\nIndeed you are. **The entire point to `LocalDateTime` is to *lose* time zone info.** So we rarely use this class in most apps. Again, the Christmas example. Or another example, &quot;Company policy: All our factories around the world take lunch at 12:30 PM&quot;. That would be `LocalTime`, and for a particular date, `LocalDateTime`. But that has no real meaning, not an actual point on the timeline, until you apply a time zone to get a [`ZonedDateTime`][4]. That lunch break will be at different points on the timeline in the Delhi factory than the D&#252;sseldorf factory and different again at the Detroit factory.\r\n\r\nThe word &quot;Local&quot; in `LocalDateTime` may be counter-intuitive as it means *no particular* locality. When you read “Local” in a class name, think “Not a moment… not on the timeline… just a fuzzy idea about a kinda-sorta date-time”.\r\n\r\nYour servers should almost always be set to UTC in their operating system time zone. But your programming should never depend on this externality as it is all too easy for a sysadmin to change it or for any other Java app to change the current default time zone within the JVM. So always specify your desired/expected time zone. (Same goes for `Locale`, by the way.)\r\n\r\nUpshot: \r\n\r\n - You are working way too hard. \r\n - Programmers/sysadmins must learn to &quot;Think global, Present local&quot;. \r\n\r\nDuring the work day while wearing your geek hard-hat, think in UTC. Only at the end of the day when switching to your layperson’s had should you go back to thinking of the local time of your town.\r\n\r\nYour business logic should focus on UTC. Your database storage, business logic, data exchange, serialization, logging, and your own thinking should all be done in UTC time zone (and 24-hour clock, by the way). When presenting data to users, only then apply a particular time zone. Think of zoned date-times as an external thing, not a working part of your app’ internals.\r\n\r\nOn the Java side, use [`java.time.Instant`][5] (a moment on the timeline in UTC) in much of your business logic.\r\n\r\n    Instant now = Instant.now();\r\n\r\nHopefully [JDBC][6] drivers will eventually be updated to deal with java.time types like `Instant` directly. Until then we must use java.sql types. The old java.sql class have new methods for conversion to/from java.time.\r\n\r\n    java.sql.TimeStamp ts = java.sql.TimeStamp.valueOf( instant );\r\n\r\nNow pass that [`java.sql.TimeStamp`][7] object via `setTimestamp` on a [`PreparedStatement`][8] to be saved to a column defined as `TIMESTAMP WITH TIME ZONE` in Postgres.\r\n\r\nTo go the other direction:\r\n\r\n    Instant instant = ts.toInstant();\r\n\r\nSo that is easy, going from `Instant` to `java.sql.Timestamp` to `TIMESTAMP WITH TIME ZONE`, all in UTC. **No time zones involved.** The current default time zone of your server OS, your JVM, and your clients, is all irrelevant. \r\n\r\nTo present to user, apply a time zone. Use [proper time zone names][9], never the 3-4 letter codes such as `EST` or `IST`. \r\n\r\n    ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\r\n    ZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\r\n\r\nYou can adjust into a different zone as needed.\r\n\r\n    ZonedDateTime zdtKolkata = zdt.withZoneSameInstant( ZoneId.of( &quot;Asia/Kolkata&quot; ) );\r\n\r\nTo get back to an `Instant`, a moment on the timeline in UTC, you can extract from the `ZonedDateTime`.\r\n\r\n    Instant instant = zdt.toInstant();\r\n\r\nNo where in there did we use [`LocalDateTime`][10]. \r\n\r\nIf you do get a piece of data without any offset-from-UTC or time zone, such as `2016-04-04T08:00`, that data is entirely useless to you (assuming we are not talking about the Christmas or Company Lunch type scenarios discussed above). A date-time without offset/zone info is like a monetary amount without indicating currency: `142.70` or even `$142.70` -- useless. But `USD 142.70`, or `CAD 142.70`, or `MXN 142.70`… those are useful.\r\n\r\nIf you do get that `2016-04-04T08:00` value, and you are *absolutely certain* of the intended offset/zone context, then:\r\n\r\n 1. Parse that string as a `LocalDateTime`.\r\n 2. Apply an offset-from-UTC to get a `OffsetDateTime`, or (better) apply a time zone to get a `ZonedDateTime`.\r\n\r\nLike this code.\r\n\r\n    LocalDateTime ldt = LocalDateTime.parse( &quot;2016-04-04T08:00&quot; );\r\n    ZoneId zoneId = ZoneId.of( &quot;Asia/Kolkata&quot; ); // Or &quot;America/Montreal&quot; etc.\r\n    ZonedDateTime zdt = ldt.atZone( zoneId ); // Or atOffset( myZoneOffset ) if only an offset is known rather than a full time zone.\r\n\r\nYour Question really is a duplicate of many others. These issues have been discussed many times in other Questions and Answers. I urge you to search and study Stack Overflow to learn more on this topic.\r\n\r\n# JDBC 4.2\r\n\r\nAs of JDBC 4.2 we can directly exchange *java.time* objects with the database. No need to ever use `java.sql.Timestamp` again, nor its related classes. \r\n\r\nStoring, using [`OffsetDateTime`][11] as defined in the JDBC spec.\r\n\r\n    myPreparedStatement.setObject( … , instant.atOffset( ZoneOffset.UTC ) ) ;  // The JDBC spec requires support for `OffsetDateTime`. \r\n\r\n…or possibly use `Instant` directly, if supported by your JDBC driver.\r\n\r\n    myPreparedStatement.setObject( … , instant ) ;  // Your JDBC driver may or may not support `Instant` directly, as it is not required by the JDBC spec. \r\n\r\nRetrieving. \r\n\r\n    OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\r\n\r\n\r\n----------\r\n\r\n\r\n[![Table of date-time types in Java (both legacy and modern) and in standard SQL][12]][12]\r\n\r\n\r\n\r\n\r\n\r\n----------\r\n\r\n# About *java.time*\r\n\r\nThe [*java.time*](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) framework is built into Java 8 and later. These classes supplant the troublesome old [legacy](https://en.wikipedia.org/wiki/Legacy_system) date-time classes such as [`java.util.Date`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html), [`Calendar`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html), &amp; [`SimpleDateFormat`](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html).\r\n\r\nTo learn more, see the [*Oracle Tutorial*](http://docs.oracle.com/javase/tutorial/datetime/TOC.html). And search Stack Overflow for many examples and explanations. Specification is [JSR 310](https://jcp.org/en/jsr/detail?id=310).\r\n\r\nThe [*Joda-Time*](http://www.joda.org/joda-time/) project, now in [maintenance mode](https://en.wikipedia.org/wiki/Maintenance_mode), advises migration to the [java.time](https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html) classes.\r\n\r\nYou may exchange *java.time* objects directly with your database. Use a [JDBC driver](https://en.wikipedia.org/wiki/JDBC_driver) compliant with [JDBC 4.2](http://openjdk.java.net/jeps/170) or later. No need for strings, no need for `java.sql.*` classes. Hibernate 5 &amp; JPA 2.2 support *java.time*. \r\n\r\nWhere to obtain the java.time classes? \r\n\r\n - [**Java SE 8**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8), [**Java SE 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9), [**Java SE 10**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10), [**Java SE 11**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11), and later  - Part of the standard Java API with a bundled implementation.\r\n   - [**Java 9**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9) brought some minor features and fixes.\r\n - [**Java SE 6**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6) and [**Java SE 7**](https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7)\r\n   - Most of the *java.time* functionality is back-ported to Java 6 &amp; 7 in [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/).\r\n - [**Android**](https://en.wikipedia.org/wiki/Android_(operating_system))\r\n   - Later versions of Android (26+) bundle implementations of the *java.time* classes.\r\n   - For earlier Android (&lt;26), a process known as [*API desugaring*](https://developer.android.com/studio/write/java8-support#library-desugaring) brings a [subset of the *java.time*](https://developer.android.com/studio/write/java8-support-table) functionality not originally built into Android.\r\n     - If the desugaring does not offer what you need, the [***ThreeTenABP***](https://github.com/JakeWharton/ThreeTenABP) project adapts [***ThreeTen-Backport***](http://www.threeten.org/threetenbp/) (mentioned above) to Android. See [*How to use ThreeTenABP…*](http://stackoverflow.com/q/38922754/642706).\r\n\r\n\r\n\r\n[![Table of which java.time library to use with which version of Java or Android][13]][13]\r\n\r\n\r\n\r\n  [1]: http://www.postgresql.org/docs/current/static/datatype-datetime.html\r\n  [2]: https://en.wikipedia.org/wiki/Coordinated_Universal_Time\r\n  [3]: http://justatheory.com/computers/databases/postgresql/use-timestamptz.html\r\n  [4]: https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#ofLocal-java.time.LocalDateTime-java.time.ZoneId-java.time.ZoneOffset-\r\n  [5]: https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\r\n  [6]: https://en.wikipedia.org/wiki/Java_Database_Connectivity\r\n  [7]: http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\r\n  [8]: http://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html\r\n  [9]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\r\n  [10]: https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\r\n  [11]: https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\r\n  [12]: https://i.stack.imgur.com/G32JN.png\r\n  [13]: https://i.stack.imgur.com/Sksw9.png","title":"LocalDateTime to ZonedDateTime","body":"<p>Postgres has no such data type as <code>TIMESTAMP</code>. Postgres has <a href=\"http://www.postgresql.org/docs/current/static/datatype-datetime.html\" rel=\"noreferrer\">two types</a> for date plus time-of-day: <code>TIMESTAMP WITH TIME ZONE</code> and <code>TIMESTAMP WITHOUT TIME ZONE</code>. These types have very different behavior with regard to time zone information.</p>\n<ul>\n<li>The <strong><code>WITH</code> type</strong> uses any offset or time zone information to adjust the date-time to <a href=\"https://en.wikipedia.org/wiki/Coordinated_Universal_Time\" rel=\"noreferrer\">UTC</a>, then disposes of that offset or time zone; Postgres never saves the offset/zone info.\n<ul>\n<li>This type represents a moment, a specific point on the timeline.</li>\n</ul>\n</li>\n<li>The <strong><code>WITHOUT</code> type</strong> ignores any offset or zone info that may be present.\n<ul>\n<li>This type does <em>not</em> represent a moment. It represents a vague idea of <em>potential</em> moments along a range of about 26-27 hours (the range of time zones around the globe).</li>\n</ul>\n</li>\n</ul>\n<p>You virtually always want the <code>WITH</code> type, as <a href=\"http://justatheory.com/computers/databases/postgresql/use-timestamptz.html\" rel=\"noreferrer\">explained here</a> by expert David E. Wheeler. The <code>WITHOUT</code> only makes sense when you have the vague idea of a date-time rather than a fixed point on the timeline. For example, &quot;Christmas this year starts at 2016-12-25T00:00:00&quot; would be stored in the <code>WITHOUT</code> as it applies to <em>any</em> time zone, not yet having been applied to any one single time zone to get an actual moment on the timeline. If Santa’s elves were tracking the start time for Eugene Oregon US, then they would use the <code>WITH</code> type and an input that included an offset or time zone such as <code>2016-12-25T00:00:00-08:00</code> which gets saved into Postgres as <code>2016-12-25T08:00.00Z</code> (where the <code>Z</code> means Zulu or UTC).</p>\n<p>The equivalent of Postgres’ <code>TIMESTAMP WITHOUT TIME ZONE</code> in java.time is <code>java.time.LocalDateTime</code>. As your intention was to work in UTC (a good thing), you should <em>not</em> be using <code>LocalDateTime</code> (a bad thing). That may be the main point of confusion and trouble for you. You keep thinking about using <code>LocalDateTime</code> or <code>ZonedDateTime</code> but you should be using neither; instead you should be using <code>Instant</code> (discussed below).</p>\n<blockquote>\n<p>I also wonder if because I am going from LocalDateTime to ZonedDateTime and vice versa, I might be losing any timezone info.</p>\n</blockquote>\n<p>Indeed you are. <strong>The entire point to <code>LocalDateTime</code> is to <em>lose</em> time zone info.</strong> So we rarely use this class in most apps. Again, the Christmas example. Or another example, &quot;Company policy: All our factories around the world take lunch at 12:30 PM&quot;. That would be <code>LocalTime</code>, and for a particular date, <code>LocalDateTime</code>. But that has no real meaning, not an actual point on the timeline, until you apply a time zone to get a <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/ZonedDateTime.html#ofLocal-java.time.LocalDateTime-java.time.ZoneId-java.time.ZoneOffset-\" rel=\"noreferrer\"><code>ZonedDateTime</code></a>. That lunch break will be at different points on the timeline in the Delhi factory than the Düsseldorf factory and different again at the Detroit factory.</p>\n<p>The word &quot;Local&quot; in <code>LocalDateTime</code> may be counter-intuitive as it means <em>no particular</em> locality. When you read “Local” in a class name, think “Not a moment… not on the timeline… just a fuzzy idea about a kinda-sorta date-time”.</p>\n<p>Your servers should almost always be set to UTC in their operating system time zone. But your programming should never depend on this externality as it is all too easy for a sysadmin to change it or for any other Java app to change the current default time zone within the JVM. So always specify your desired/expected time zone. (Same goes for <code>Locale</code>, by the way.)</p>\n<p>Upshot:</p>\n<ul>\n<li>You are working way too hard.</li>\n<li>Programmers/sysadmins must learn to &quot;Think global, Present local&quot;.</li>\n</ul>\n<p>During the work day while wearing your geek hard-hat, think in UTC. Only at the end of the day when switching to your layperson’s had should you go back to thinking of the local time of your town.</p>\n<p>Your business logic should focus on UTC. Your database storage, business logic, data exchange, serialization, logging, and your own thinking should all be done in UTC time zone (and 24-hour clock, by the way). When presenting data to users, only then apply a particular time zone. Think of zoned date-times as an external thing, not a working part of your app’ internals.</p>\n<p>On the Java side, use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/Instant.html\" rel=\"noreferrer\"><code>java.time.Instant</code></a> (a moment on the timeline in UTC) in much of your business logic.</p>\n<pre><code>Instant now = Instant.now();\n</code></pre>\n<p>Hopefully <a href=\"https://en.wikipedia.org/wiki/Java_Database_Connectivity\" rel=\"noreferrer\">JDBC</a> drivers will eventually be updated to deal with java.time types like <code>Instant</code> directly. Until then we must use java.sql types. The old java.sql class have new methods for conversion to/from java.time.</p>\n<pre><code>java.sql.TimeStamp ts = java.sql.TimeStamp.valueOf( instant );\n</code></pre>\n<p>Now pass that <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/Timestamp.html\" rel=\"noreferrer\"><code>java.sql.TimeStamp</code></a> object via <code>setTimestamp</code> on a <a href=\"http://docs.oracle.com/javase/8/docs/api/java/sql/PreparedStatement.html\" rel=\"noreferrer\"><code>PreparedStatement</code></a> to be saved to a column defined as <code>TIMESTAMP WITH TIME ZONE</code> in Postgres.</p>\n<p>To go the other direction:</p>\n<pre><code>Instant instant = ts.toInstant();\n</code></pre>\n<p>So that is easy, going from <code>Instant</code> to <code>java.sql.Timestamp</code> to <code>TIMESTAMP WITH TIME ZONE</code>, all in UTC. <strong>No time zones involved.</strong> The current default time zone of your server OS, your JVM, and your clients, is all irrelevant.</p>\n<p>To present to user, apply a time zone. Use <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"noreferrer\">proper time zone names</a>, never the 3-4 letter codes such as <code>EST</code> or <code>IST</code>.</p>\n<pre><code>ZoneId zoneId = ZoneId.of( &quot;America/Montreal&quot; );\nZonedDateTime zdt = ZonedDateTime.ofInstant( instant , zoneId );\n</code></pre>\n<p>You can adjust into a different zone as needed.</p>\n<pre><code>ZonedDateTime zdtKolkata = zdt.withZoneSameInstant( ZoneId.of( &quot;Asia/Kolkata&quot; ) );\n</code></pre>\n<p>To get back to an <code>Instant</code>, a moment on the timeline in UTC, you can extract from the <code>ZonedDateTime</code>.</p>\n<pre><code>Instant instant = zdt.toInstant();\n</code></pre>\n<p>No where in there did we use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/LocalDateTime.html\" rel=\"noreferrer\"><code>LocalDateTime</code></a>.</p>\n<p>If you do get a piece of data without any offset-from-UTC or time zone, such as <code>2016-04-04T08:00</code>, that data is entirely useless to you (assuming we are not talking about the Christmas or Company Lunch type scenarios discussed above). A date-time without offset/zone info is like a monetary amount without indicating currency: <code>142.70</code> or even <code>$142.70</code> -- useless. But <code>USD 142.70</code>, or <code>CAD 142.70</code>, or <code>MXN 142.70</code>… those are useful.</p>\n<p>If you do get that <code>2016-04-04T08:00</code> value, and you are <em>absolutely certain</em> of the intended offset/zone context, then:</p>\n<ol>\n<li>Parse that string as a <code>LocalDateTime</code>.</li>\n<li>Apply an offset-from-UTC to get a <code>OffsetDateTime</code>, or (better) apply a time zone to get a <code>ZonedDateTime</code>.</li>\n</ol>\n<p>Like this code.</p>\n<pre><code>LocalDateTime ldt = LocalDateTime.parse( &quot;2016-04-04T08:00&quot; );\nZoneId zoneId = ZoneId.of( &quot;Asia/Kolkata&quot; ); // Or &quot;America/Montreal&quot; etc.\nZonedDateTime zdt = ldt.atZone( zoneId ); // Or atOffset( myZoneOffset ) if only an offset is known rather than a full time zone.\n</code></pre>\n<p>Your Question really is a duplicate of many others. These issues have been discussed many times in other Questions and Answers. I urge you to search and study Stack Overflow to learn more on this topic.</p>\n<h1>JDBC 4.2</h1>\n<p>As of JDBC 4.2 we can directly exchange <em>java.time</em> objects with the database. No need to ever use <code>java.sql.Timestamp</code> again, nor its related classes.</p>\n<p>Storing, using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/time/OffsetDateTime.html\" rel=\"noreferrer\"><code>OffsetDateTime</code></a> as defined in the JDBC spec.</p>\n<pre><code>myPreparedStatement.setObject( … , instant.atOffset( ZoneOffset.UTC ) ) ;  // The JDBC spec requires support for `OffsetDateTime`. \n</code></pre>\n<p>…or possibly use <code>Instant</code> directly, if supported by your JDBC driver.</p>\n<pre><code>myPreparedStatement.setObject( … , instant ) ;  // Your JDBC driver may or may not support `Instant` directly, as it is not required by the JDBC spec. \n</code></pre>\n<p>Retrieving.</p>\n<pre><code>OffsetDateTime odt = myResultSet.getObject( … , OffsetDateTime.class ) ;\n</code></pre>\n<hr />\n<p><a href=\"https://i.stack.imgur.com/G32JN.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/G32JN.png\" alt=\"Table of date-time types in Java (both legacy and modern) and in standard SQL\" /></a></p>\n<hr />\n<h1>About <em>java.time</em></h1>\n<p>The <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\"><em>java.time</em></a> framework is built into Java 8 and later. These classes supplant the troublesome old <a href=\"https://en.wikipedia.org/wiki/Legacy_system\" rel=\"noreferrer\">legacy</a> date-time classes such as <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Date.html\" rel=\"noreferrer\"><code>java.util.Date</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/util/Calendar.html\" rel=\"noreferrer\"><code>Calendar</code></a>, &amp; <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/text/SimpleDateFormat.html\" rel=\"noreferrer\"><code>SimpleDateFormat</code></a>.</p>\n<p>To learn more, see the <a href=\"http://docs.oracle.com/javase/tutorial/datetime/TOC.html\" rel=\"noreferrer\"><em>Oracle Tutorial</em></a>. And search Stack Overflow for many examples and explanations. Specification is <a href=\"https://jcp.org/en/jsr/detail?id=310\" rel=\"noreferrer\">JSR 310</a>.</p>\n<p>The <a href=\"http://www.joda.org/joda-time/\" rel=\"noreferrer\"><em>Joda-Time</em></a> project, now in <a href=\"https://en.wikipedia.org/wiki/Maintenance_mode\" rel=\"noreferrer\">maintenance mode</a>, advises migration to the <a href=\"https://docs.oracle.com/en/java/javase/11/docs/api/java.base/java/time/package-summary.html\" rel=\"noreferrer\">java.time</a> classes.</p>\n<p>You may exchange <em>java.time</em> objects directly with your database. Use a <a href=\"https://en.wikipedia.org/wiki/JDBC_driver\" rel=\"noreferrer\">JDBC driver</a> compliant with <a href=\"http://openjdk.java.net/jeps/170\" rel=\"noreferrer\">JDBC 4.2</a> or later. No need for strings, no need for <code>java.sql.*</code> classes. Hibernate 5 &amp; JPA 2.2 support <em>java.time</em>.</p>\n<p>Where to obtain the java.time classes?</p>\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_8\" rel=\"noreferrer\"><strong>Java SE 8</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java SE 9</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_10\" rel=\"noreferrer\"><strong>Java SE 10</strong></a>, <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_11\" rel=\"noreferrer\"><strong>Java SE 11</strong></a>, and later  - Part of the standard Java API with a bundled implementation.\n<ul>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_9\" rel=\"noreferrer\"><strong>Java 9</strong></a> brought some minor features and fixes.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_6\" rel=\"noreferrer\"><strong>Java SE 6</strong></a> and <a href=\"https://en.wikipedia.org/wiki/Java_version_history#Java_SE_7\" rel=\"noreferrer\"><strong>Java SE 7</strong></a>\n<ul>\n<li>Most of the <em>java.time</em> functionality is back-ported to Java 6 &amp; 7 in <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a>.</li>\n</ul>\n</li>\n<li><a href=\"https://en.wikipedia.org/wiki/Android_(operating_system)\" rel=\"noreferrer\"><strong>Android</strong></a>\n<ul>\n<li>Later versions of Android (26+) bundle implementations of the <em>java.time</em> classes.</li>\n<li>For earlier Android (&lt;26), a process known as <a href=\"https://developer.android.com/studio/write/java8-support#library-desugaring\" rel=\"noreferrer\"><em>API desugaring</em></a> brings a <a href=\"https://developer.android.com/studio/write/java8-support-table\" rel=\"noreferrer\">subset of the <em>java.time</em></a> functionality not originally built into Android.\n<ul>\n<li>If the desugaring does not offer what you need, the <a href=\"https://github.com/JakeWharton/ThreeTenABP\" rel=\"noreferrer\"><em><strong>ThreeTenABP</strong></em></a> project adapts <a href=\"http://www.threeten.org/threetenbp/\" rel=\"noreferrer\"><em><strong>ThreeTen-Backport</strong></em></a> (mentioned above) to Android. See <a href=\"http://stackoverflow.com/q/38922754/642706\"><em>How to use ThreeTenABP…</em></a>.</li>\n</ul>\n</li>\n</ul>\n</li>\n</ul>\n<p><a href=\"https://i.stack.imgur.com/Sksw9.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/Sksw9.png\" alt=\"Table of which java.time library to use with which version of Java or Android\" /></a></p>\n"},{"tags":[],"owner":{"account_id":333664,"reputation":3932,"user_id":659634,"accept_rate":91,"display_name":"Whitecat"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1599851725,"creation_date":1599851725,"answer_id":63853058,"question_id":36417317,"body_markdown":"TLDR: \r\n\r\nTo convert from LocalDateTime to ZonedDateTime the following code. You can use `.atZone( zoneId )`, a comprehensive list of zoneIDs are found in the column `TZ database name` [on Wikipedia.][1]\r\n\r\n\r\n\r\n\r\n    LocalDateTime localDateTime = LocalDateTime.parse( &quot;2016-04-04T08:00&quot; );\r\n    ZoneId zoneId = ZoneId.of( &quot;UTC&quot; ); // Or &quot;Asia/Kolkata&quot; etc.\r\n    ZonedDateTime zdt = localDateTime.atZone( zoneId );\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/List_of_tz_database_time_zones","title":"LocalDateTime to ZonedDateTime","body":"<p>TLDR:</p>\n<p>To convert from LocalDateTime to ZonedDateTime the following code. You can use <code>.atZone( zoneId )</code>, a comprehensive list of zoneIDs are found in the column <code>TZ database name</code> <a href=\"https://en.wikipedia.org/wiki/List_of_tz_database_time_zones\" rel=\"noreferrer\">on Wikipedia.</a></p>\n<pre><code>LocalDateTime localDateTime = LocalDateTime.parse( &quot;2016-04-04T08:00&quot; );\nZoneId zoneId = ZoneId.of( &quot;UTC&quot; ); // Or &quot;Asia/Kolkata&quot; etc.\nZonedDateTime zdt = localDateTime.atZone( zoneId );\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5004128,"reputation":1233,"user_id":4022255,"display_name":"Shafeeq Mohammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1686905137,"creation_date":1684399725,"answer_id":76279158,"question_id":36417317,"body_markdown":"    public ZonedDateTime transformToZonedDateTime(String date, String timeZone) {\r\n        DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\r\n        LocalDate localDate = LocalDate.parse(Date, formatter);\r\n        LocalDateTime localDateTime = localDate.atTime(LocalTime.now());\r\n        ZonedDateTime zonedDateTime = localDateTime.atZone(ZoneOffset.UTC);\r\n        ZoneId zoneId = ZoneId.of(timeZone);\r\n        return zonedDateTime.withZoneSameInstant(zoneId);\r\n    }\r\n\r\nINPUT:    **date = &quot;18-05-2023&quot; and timeZone = &quot;Asia/Hong_Kong&quot;** \r\n\r\nRETURNS: **&quot;2023-05-19T20:43Z&quot;**\r\n","title":"LocalDateTime to ZonedDateTime","body":"<pre><code>public ZonedDateTime transformToZonedDateTime(String date, String timeZone) {\n    DateTimeFormatter formatter = DateTimeFormatter.ofPattern(&quot;dd-MM-yyyy&quot;);\n    LocalDate localDate = LocalDate.parse(Date, formatter);\n    LocalDateTime localDateTime = localDate.atTime(LocalTime.now());\n    ZonedDateTime zonedDateTime = localDateTime.atZone(ZoneOffset.UTC);\n    ZoneId zoneId = ZoneId.of(timeZone);\n    return zonedDateTime.withZoneSameInstant(zoneId);\n}\n</code></pre>\n<p>INPUT:    <strong>date = &quot;18-05-2023&quot; and timeZone = &quot;Asia/Hong_Kong&quot;</strong></p>\n<p>RETURNS: <strong>&quot;2023-05-19T20:43Z&quot;</strong></p>\n"}],"owner":{"account_id":1647390,"reputation":5075,"user_id":1518668,"accept_rate":45,"display_name":"sonoerin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":66819,"favorite_count":0,"down_vote_count":0,"up_vote_count":60,"accepted_answer_id":36417996,"answer_count":3,"score":60,"last_activity_date":1690816632,"creation_date":1459831618,"question_id":36417317,"body_markdown":"I have Java 8 Spring web app that will support multiple regions. I need to make calendar events for a customer location.  So let&#39;s say my web and Postgres server is hosted in MST timezone (but I guess it could be anywhere if we go cloud).  But the customer is in EST.  So, following some best practices I read, I thought I would store all date times in UTC format.  All date-time fields in the database are declared as TIMESTAMP.\r\n\r\nSo here is how I take a LocalDateTime and convert it to UTC:\r\n\r\n    ZonedDateTime startZonedDT = ZonedDateTime.ofLocal(dto.getStartDateTime(), ZoneOffset.UTC, null);\r\n    //appointment startDateTime is a LocalDateTime\r\n    appointment.setStartDateTime( startZonedDT.toLocalDateTime() );\r\n\r\nNow, for example, when a search for a date comes in, I have to convert from the requested date time to UTC, get the results, and convert to the user timezone (stored in the DB):\r\n\r\n    ZoneId  userTimeZone = ZoneId.of(timeZone.getID());\r\n    ZonedDateTime startZonedDT = ZonedDateTime.ofLocal(appointment.getStartDateTime(), userTimeZone, null);\r\n    dto.setStartDateTime( startZonedDT.toLocalDateTime() );\r\n\r\nNow, I am not sure this is the correct approach.  I also wonder if because I am going from `LocalDateTime` to `ZonedDateTime` and vice versa, I might be losing any timezone info.\r\n\r\nHere is what I am seeing and it doesn&#39;t seem correct to me. When I receive the `LocalDateTime` from the UI, I get this:\r\n\r\n    2016-04-04T08:00\r\n\r\nThe ZonedDateTime =\r\n\r\n    dateTime=2016-04-04T08:00\r\n    offset=&quot;Z&quot;\r\n    zone=&quot;Z&quot;\r\n\r\nAnd then when I assign that converted value to my appointment `LocalDateTime` I store:\r\n\r\n    2016-04-04T08:00\r\n\r\nI feel like because I am storing in `LocalDateTime` I am losing the timezone that I converted into `ZonedDateTime`.\r\n\r\nShould I make my entity (appointment) use `ZonedDateTime` instead of `LocalDateTime` so that Postgres doesn&#39;t lose that information?\r\n\r\n---------------- **EDIT** ---------------- \r\n\r\nAfter Basil&#39;s excellent answer, I realized that I have the luxury of not caring about the user&#39;s timezone - all appointments are against a specific location so I can store all date times as UTC and then convert them to the location timezone when retrieved.  I made the following follow-up [question][1]\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/36563191/postgres-utc-to-java-zoneddatetime","title":"LocalDateTime to ZonedDateTime","body":"<p>I have Java 8 Spring web app that will support multiple regions. I need to make calendar events for a customer location.  So let's say my web and Postgres server is hosted in MST timezone (but I guess it could be anywhere if we go cloud).  But the customer is in EST.  So, following some best practices I read, I thought I would store all date times in UTC format.  All date-time fields in the database are declared as TIMESTAMP.</p>\n<p>So here is how I take a LocalDateTime and convert it to UTC:</p>\n<pre><code>ZonedDateTime startZonedDT = ZonedDateTime.ofLocal(dto.getStartDateTime(), ZoneOffset.UTC, null);\n//appointment startDateTime is a LocalDateTime\nappointment.setStartDateTime( startZonedDT.toLocalDateTime() );\n</code></pre>\n<p>Now, for example, when a search for a date comes in, I have to convert from the requested date time to UTC, get the results, and convert to the user timezone (stored in the DB):</p>\n<pre><code>ZoneId  userTimeZone = ZoneId.of(timeZone.getID());\nZonedDateTime startZonedDT = ZonedDateTime.ofLocal(appointment.getStartDateTime(), userTimeZone, null);\ndto.setStartDateTime( startZonedDT.toLocalDateTime() );\n</code></pre>\n<p>Now, I am not sure this is the correct approach.  I also wonder if because I am going from <code>LocalDateTime</code> to <code>ZonedDateTime</code> and vice versa, I might be losing any timezone info.</p>\n<p>Here is what I am seeing and it doesn't seem correct to me. When I receive the <code>LocalDateTime</code> from the UI, I get this:</p>\n<pre><code>2016-04-04T08:00\n</code></pre>\n<p>The ZonedDateTime =</p>\n<pre><code>dateTime=2016-04-04T08:00\noffset=&quot;Z&quot;\nzone=&quot;Z&quot;\n</code></pre>\n<p>And then when I assign that converted value to my appointment <code>LocalDateTime</code> I store:</p>\n<pre><code>2016-04-04T08:00\n</code></pre>\n<p>I feel like because I am storing in <code>LocalDateTime</code> I am losing the timezone that I converted into <code>ZonedDateTime</code>.</p>\n<p>Should I make my entity (appointment) use <code>ZonedDateTime</code> instead of <code>LocalDateTime</code> so that Postgres doesn't lose that information?</p>\n<p>---------------- <strong>EDIT</strong> ----------------</p>\n<p>After Basil's excellent answer, I realized that I have the luxury of not caring about the user's timezone - all appointments are against a specific location so I can store all date times as UTC and then convert them to the location timezone when retrieved.  I made the following follow-up <a href=\"https://stackoverflow.com/questions/36563191/postgres-utc-to-java-zoneddatetime\">question</a></p>\n"},{"tags":["java","regex","utf-8"],"comments":[{"owner":{"account_id":1456830,"reputation":5625,"user_id":1372207,"accept_rate":50,"display_name":"Rajesh J Advani"},"score":0,"creation_date":1345238905,"post_id":12013341,"comment_id":16027712,"body_markdown":"When you say it doesn&#39;t work, exactly what behavior do you see? Instead of using the range [\\\\u1f300-\\\\u1f64f], did you try using a single character and see if that works? I suspect that the regex range syntax would have problems with unicode characters.","body":"When you say it doesn&#39;t work, exactly what behavior do you see? Instead of using the range [\\\\u1f300-\\\\u1f64f], did you try using a single character and see if that works? I suspect that the regex range syntax would have problems with unicode characters."},{"owner":{"account_id":955055,"reputation":3960,"user_id":980521,"display_name":"ecle"},"score":1,"creation_date":1345239579,"post_id":12013341,"comment_id":16027919,"body_markdown":"If you see ? instead of a Unicode character when displaying a Unicode-encoded string in a GUI component or in IDE console output; don&#39; worry it is not due to Unicode encoding, it is due to the wrong choice of display font that doesn&#39;t support Unicode code points like Latin-1 fonts (255 code points only). Try to use any Unicode-supported fonts like Arial Unicode MS","body":"If you see ? instead of a Unicode character when displaying a Unicode-encoded string in a GUI component or in IDE console output; don&#39; worry it is not due to Unicode encoding, it is due to the wrong choice of display font that doesn&#39;t support Unicode code points like Latin-1 fonts (255 code points only). Try to use any Unicode-supported fonts like Arial Unicode MS"},{"owner":{"account_id":199803,"reputation":257,"user_id":445320,"accept_rate":43,"display_name":"Saiato"},"score":0,"creation_date":1345240429,"post_id":12013341,"comment_id":16028138,"body_markdown":"Sorry for not being specific! By &quot;not work&quot; I meant the character was not found by the matcher, or at least the replaceAll function wasn&#39;t applied to it. Thanks, eee! That is a good point. However, I am noticing unicodes in my output (i.e. &quot;u20A2&quot;) while the characters in question remain as ??","body":"Sorry for not being specific! By &quot;not work&quot; I meant the character was not found by the matcher, or at least the replaceAll function wasn&#39;t applied to it. Thanks, eee! That is a good point. However, I am noticing unicodes in my output (i.e. &quot;u20A2&quot;) while the characters in question remain as ??"}],"answers":[{"tags":[],"owner":{"account_id":245719,"reputation":9861,"user_id":519383,"display_name":"juan.facorro"},"down_vote_count":0,"up_vote_count":36,"is_accepted":true,"score":36,"last_activity_date":1345248292,"creation_date":1345239191,"answer_id":12013465,"question_id":12013341,"body_markdown":"In the regex pattern add the negation operator `^`. For filtering printable characters you could use the following expression `[^\\\\x00-\\\\x7F]` and you should get the desired result.\r\n\r\n    import java.io.UnsupportedEncodingException;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    \r\n    public class UTF8 {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tString utf8tweet = &quot;&quot;;\r\n    \t\ttry {\r\n    \t\t\tbyte[] utf8Bytes = &quot;#Hello twitter  How are you?&quot;.getBytes(&quot;UTF-8&quot;);\r\n    \r\n    \t\t\tutf8tweet = new String(utf8Bytes, &quot;UTF-8&quot;);\r\n    \r\n    \t\t} catch (UnsupportedEncodingException e) {\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t\tPattern unicodeOutliers = Pattern.compile(&quot;[^\\\\x00-\\\\x7F]&quot;,\r\n    \t\t\t\tPattern.UNICODE_CASE | Pattern.CANON_EQ\r\n    \t\t\t\t\t\t| Pattern.CASE_INSENSITIVE);\r\n    \t\tMatcher unicodeOutlierMatcher = unicodeOutliers.matcher(utf8tweet);\r\n\r\n    \t\tSystem.out.println(&quot;Before: &quot; + utf8tweet);\r\n    \t\tutf8tweet = unicodeOutlierMatcher.replaceAll(&quot; &quot;);\r\n    \t\tSystem.out.println(&quot;After: &quot; + utf8tweet);\r\n    \t}\r\n    }\r\n\r\nResults in the following output:\r\n\r\n    Before: #Hello twitter  How are you?\r\n    After: #Hello twitter   How are you?\r\n\r\n\r\n----------\r\n\r\n**EDIT**\r\n\r\nTo explain further, you could also keep expressing the range with the `\\u` form in the following way `[^\\\\u0000-\\\\u007F]`, which will match all the characters which are not the first 128 UNICODE characters (the same as before). If you want to extend the range to support extra characters, you can do so using the UNICODE character list [here][1].\r\n\r\nFor example if you want to include vowels with accent (used in Spanish) you should extend the range to `\\u00FF`, so you have `[^\\\\u0000-\\\\u00FF]` or `[^\\\\x00-\\\\xFF]`:\r\n\r\n    Before: #Hello twitter  How are you? &#225; &#233; &#237; &#243; &#250;\r\n    After: #Hello twitter   How are you? &#225; &#233; &#237; &#243; &#250;\r\n\r\n  [1]: http://en.wikipedia.org/wiki/List_of_Unicode_characters","title":"removing characters of a specific unicode range from a string","body":"<p>In the regex pattern add the negation operator <code>^</code>. For filtering printable characters you could use the following expression <code>[^\\\\x00-\\\\x7F]</code> and you should get the desired result.</p>\n\n<pre><code>import java.io.UnsupportedEncodingException;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\n\npublic class UTF8 {\n    public static void main(String[] args) {\n        String utf8tweet = \"\";\n        try {\n            byte[] utf8Bytes = \"#Hello twitter  How are you?\".getBytes(\"UTF-8\");\n\n            utf8tweet = new String(utf8Bytes, \"UTF-8\");\n\n        } catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\n        Pattern unicodeOutliers = Pattern.compile(\"[^\\\\x00-\\\\x7F]\",\n                Pattern.UNICODE_CASE | Pattern.CANON_EQ\n                        | Pattern.CASE_INSENSITIVE);\n        Matcher unicodeOutlierMatcher = unicodeOutliers.matcher(utf8tweet);\n\n        System.out.println(\"Before: \" + utf8tweet);\n        utf8tweet = unicodeOutlierMatcher.replaceAll(\" \");\n        System.out.println(\"After: \" + utf8tweet);\n    }\n}\n</code></pre>\n\n<p>Results in the following output:</p>\n\n<pre><code>Before: #Hello twitter  How are you?\nAfter: #Hello twitter   How are you?\n</code></pre>\n\n<hr>\n\n<p><strong>EDIT</strong></p>\n\n<p>To explain further, you could also keep expressing the range with the <code>\\u</code> form in the following way <code>[^\\\\u0000-\\\\u007F]</code>, which will match all the characters which are not the first 128 UNICODE characters (the same as before). If you want to extend the range to support extra characters, you can do so using the UNICODE character list <a href=\"http://en.wikipedia.org/wiki/List_of_Unicode_characters\">here</a>.</p>\n\n<p>For example if you want to include vowels with accent (used in Spanish) you should extend the range to <code>\\u00FF</code>, so you have <code>[^\\\\u0000-\\\\u00FF]</code> or <code>[^\\\\x00-\\\\xFF]</code>:</p>\n\n<pre><code>Before: #Hello twitter  How are you? á é í ó ú\nAfter: #Hello twitter   How are you? á é í ó ú\n</code></pre>\n"},{"tags":[],"owner":{"account_id":246,"reputation":107903,"user_id":304,"accept_rate":40,"display_name":"McDowell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1345240556,"creation_date":1345240556,"answer_id":12013694,"question_id":12013341,"body_markdown":"Assuming `status.getText()` returns a `java.lang.String`...\r\n\r\n    byte[] utf8Bytes = status.getText().getBytes(&quot;UTF-8&quot;);\r\n    utf8tweet = new String(utf8Bytes, &quot;UTF-8&quot;);\r\n\r\nThe above transcoding operation produces the same results as:\r\n\r\n    utf8tweet = status.getText();\r\n\r\nJava strings are implicitly UTF-16. UTF-16 and UTF-8 share the same character set (Unicode) so transforming from one to the other and back results in the original data.\r\n\r\nJava regular expressions support the supplementary range using [surrogate pairs][1]. You can match them as described in the answers to [this question][2].\r\n\r\nAs [eee][3] notes in his comment, you most likely have a font issue. Whether a grapheme can be displayed usually depends on the fonts available on the user&#39;s system, the chosen font and what form of font substitution the rendering technology supports.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#toChars%28int%29\r\n  [2]: https://stackoverflow.com/questions/4237625\r\n  [3]: https://stackoverflow.com/users/980521/eee","title":"removing characters of a specific unicode range from a string","body":"<p>Assuming <code>status.getText()</code> returns a <code>java.lang.String</code>...</p>\n\n<pre><code>byte[] utf8Bytes = status.getText().getBytes(\"UTF-8\");\nutf8tweet = new String(utf8Bytes, \"UTF-8\");\n</code></pre>\n\n<p>The above transcoding operation produces the same results as:</p>\n\n<pre><code>utf8tweet = status.getText();\n</code></pre>\n\n<p>Java strings are implicitly UTF-16. UTF-16 and UTF-8 share the same character set (Unicode) so transforming from one to the other and back results in the original data.</p>\n\n<p>Java regular expressions support the supplementary range using <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Character.html#toChars%28int%29\" rel=\"nofollow noreferrer\">surrogate pairs</a>. You can match them as described in the answers to <a href=\"https://stackoverflow.com/questions/4237625\">this question</a>.</p>\n\n<p>As <a href=\"https://stackoverflow.com/users/980521/eee\">eee</a> notes in his comment, you most likely have a font issue. Whether a grapheme can be displayed usually depends on the fonts available on the user's system, the chosen font and what form of font substitution the rendering technology supports.</p>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":24,"is_accepted":false,"score":24,"last_activity_date":1412760108,"creation_date":1345248450,"answer_id":12014635,"question_id":12013341,"body_markdown":"First of all, the unicode block concerned is specified in java (strictly following the standard) as [Character.UnicodeBlock MISCELLANEOUS_SYMBOLS_AND_PICTOGRAPHS][1]. In a regex:\r\n\r\n    s = s.replaceAll(&quot;\\\\p{So}+&quot;, &quot;&quot;);\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/Character.UnicodeBlock.html#MISCELLANEOUS_SYMBOLS_AND_PICTOGRAPHS","title":"removing characters of a specific unicode range from a string","body":"<p>First of all, the unicode block concerned is specified in java (strictly following the standard) as <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/Character.UnicodeBlock.html#MISCELLANEOUS_SYMBOLS_AND_PICTOGRAPHS\" rel=\"noreferrer\">Character.UnicodeBlock MISCELLANEOUS_SYMBOLS_AND_PICTOGRAPHS</a>. In a regex:</p>\n\n<pre><code>s = s.replaceAll(\"\\\\p{So}+\", \"\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2979067,"reputation":429,"user_id":2529478,"display_name":"tick_tack_techie"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1441515186,"creation_date":1441515186,"answer_id":32420166,"question_id":12013341,"body_markdown":"I tried this. The unicode ranges are from [emoji ranges][1]\r\n\r\n        class EmojiEraser{\r\n        \r\n        private static final String EMOJI_RANGE_REGEX =\r\n                    &quot;[\\uD83C\\uDF00-\\uD83D\\uDDFF]|[\\uD83D\\uDE00-\\uD83D\\uDE4F]|[\\uD83D\\uDE80-\\uD83D\\uDEFF]|[\\u2600-\\u26FF]|[\\u2700-\\u27BF]&quot;;\r\n            private static final Pattern PATTERN = Pattern.compile(EMOJI_RANGE_REGEX);\r\n        \r\n            /**\r\n             * Finds and removes emojies from @param input\r\n             * \r\n             * @param input the input string potentially containing emojis (comes as unicode stringfied)\r\n             * @return input string with emojis replaced\r\n             */\r\n            public String eraseEmojis(String input) {\r\n                if (Strings.isNullOrEmpty(input)) {\r\n                    return input;\r\n                }\r\n                Matcher matcher = PATTERN.matcher(input);\r\n                StringBuffer sb = new StringBuffer();\r\n                while (matcher.find()) {\r\n                    matcher.appendReplacement(sb, &quot;&quot;);\r\n                }\r\n                matcher.appendTail(sb);\r\n                return sb.toString();\r\n            }\r\n    }\r\n\r\n\r\n  [1]: http://apps.timwhitlock.info/emoji/tables/unicode","title":"removing characters of a specific unicode range from a string","body":"<p>I tried this. The unicode ranges are from <a href=\"http://apps.timwhitlock.info/emoji/tables/unicode\" rel=\"noreferrer\">emoji ranges</a></p>\n\n<pre><code>    class EmojiEraser{\n\n    private static final String EMOJI_RANGE_REGEX =\n                \"[\\uD83C\\uDF00-\\uD83D\\uDDFF]|[\\uD83D\\uDE00-\\uD83D\\uDE4F]|[\\uD83D\\uDE80-\\uD83D\\uDEFF]|[\\u2600-\\u26FF]|[\\u2700-\\u27BF]\";\n        private static final Pattern PATTERN = Pattern.compile(EMOJI_RANGE_REGEX);\n\n        /**\n         * Finds and removes emojies from @param input\n         * \n         * @param input the input string potentially containing emojis (comes as unicode stringfied)\n         * @return input string with emojis replaced\n         */\n        public String eraseEmojis(String input) {\n            if (Strings.isNullOrEmpty(input)) {\n                return input;\n            }\n            Matcher matcher = PATTERN.matcher(input);\n            StringBuffer sb = new StringBuffer();\n            while (matcher.find()) {\n                matcher.appendReplacement(sb, \"\");\n            }\n            matcher.appendTail(sb);\n            return sb.toString();\n        }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":169763,"reputation":7117,"user_id":2103602,"accept_rate":59,"display_name":"sigpwned"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690815542,"creation_date":1690815542,"answer_id":76804858,"question_id":12013341,"body_markdown":"If you don&#39;t want to mess with regular expressions, then you can just test the [unicode blocks](https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.UnicodeBlock.html) instead:\r\n\r\n    private static final Set&lt;Character.UnicodeBlock&gt; BLACKLIST=Set.of(\r\n        Character.UnicodeBlock.MISCELLANEOUS_SYMBOLS_AND_PICTOGRAPHS,\r\n        Character.UnicodeBlock.EMOTICONS);\r\n\r\n    public String sanitize(String verbatim) {\r\n        int cps=verbatim.codePoints()\r\n            .filter(cp -&gt; !BLACKLIST.contains(Character.UnicodeBlock.of(cp)))\r\n            .toArray();\r\n        return new String(cps, 0, cps.length);\r\n    }\r\n\r\nAlso, emoji processing libraries in Java are pretty good these days, and some handle pictographs too, like [sigpwned/emoji4j](https://github.com/sigpwned/emoji4j). With that library, you could write the following code:\r\n\r\n    public String sanitize(String verbatim) {\r\n        return new GraphemeMatcher(verbatim).replaceAll(mr -&gt; &quot;&quot;);\r\n    }\r\n\r\nDisclaimer: I wrote that library, so I may be biased about its utility and simplicity. :)","title":"removing characters of a specific unicode range from a string","body":"<p>If you don't want to mess with regular expressions, then you can just test the <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Character.UnicodeBlock.html\" rel=\"nofollow noreferrer\">unicode blocks</a> instead:</p>\n<pre><code>private static final Set&lt;Character.UnicodeBlock&gt; BLACKLIST=Set.of(\n    Character.UnicodeBlock.MISCELLANEOUS_SYMBOLS_AND_PICTOGRAPHS,\n    Character.UnicodeBlock.EMOTICONS);\n\npublic String sanitize(String verbatim) {\n    int cps=verbatim.codePoints()\n        .filter(cp -&gt; !BLACKLIST.contains(Character.UnicodeBlock.of(cp)))\n        .toArray();\n    return new String(cps, 0, cps.length);\n}\n</code></pre>\n<p>Also, emoji processing libraries in Java are pretty good these days, and some handle pictographs too, like <a href=\"https://github.com/sigpwned/emoji4j\" rel=\"nofollow noreferrer\">sigpwned/emoji4j</a>. With that library, you could write the following code:</p>\n<pre><code>public String sanitize(String verbatim) {\n    return new GraphemeMatcher(verbatim).replaceAll(mr -&gt; &quot;&quot;);\n}\n</code></pre>\n<p>Disclaimer: I wrote that library, so I may be biased about its utility and simplicity. :)</p>\n"}],"owner":{"account_id":199803,"reputation":257,"user_id":445320,"accept_rate":43,"display_name":"Saiato"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32664,"favorite_count":0,"down_vote_count":0,"up_vote_count":17,"accepted_answer_id":12013465,"answer_count":5,"score":17,"last_activity_date":1690815542,"creation_date":1345238482,"question_id":12013341,"body_markdown":"I have a program that is parsting tweets in real time from the twitter stream api. Before storing them, I am encoding them as utf8. Certain characters end up appearing in the string as ?, ??, or ??? instead of their respective unicode codes and cause problems. Upon further investigation, I found that the problematic characters are from the [&quot;emoticon&quot; block](http://www.fileformat.info/info/unicode/block/emoticons/index.htm), U+1F600 - U+1F64F, and the &quot;Miscellaneous [Symbols And Pictographs&quot; block](http://www.fileformat.info/info/unicode/block/miscellaneous_symbols_and_pictographs/index.htm), U+1F300 - U+1F5FF. I tried removing, but was unsuccessful as the matcher ended up replacing almost every character in the string, not just my desired unicode range.\r\n\r\n    String utf8tweet = &quot;&quot;;\r\n            try {\r\n                byte[] utf8Bytes = status.getText().getBytes(&quot;UTF-8&quot;);\r\n            \r\n                utf8tweet = new String(utf8Bytes, &quot;UTF-8&quot;);\r\n    \r\n            } \r\n            catch (UnsupportedEncodingException e) {\r\n                e.printStackTrace();\r\n            }\r\n    Pattern unicodeOutliers = Pattern.compile(&quot;[\\\\u1f300-\\\\u1f64f]&quot;, Pattern.UNICODE_CASE | Pattern.CANON_EQ | Pattern.CASE_INSENSITIVE);\r\n    Matcher unicodeOutlierMatcher = unicodeOutliers.matcher(utf8tweet);\r\n    utf8tweet = unicodeOutlierMatcher.replaceAll(&quot; &quot;);\r\n\r\nWhat can I do to remove these characters?","title":"removing characters of a specific unicode range from a string","body":"<p>I have a program that is parsting tweets in real time from the twitter stream api. Before storing them, I am encoding them as utf8. Certain characters end up appearing in the string as ?, ??, or ??? instead of their respective unicode codes and cause problems. Upon further investigation, I found that the problematic characters are from the <a href=\"http://www.fileformat.info/info/unicode/block/emoticons/index.htm\" rel=\"noreferrer\">\"emoticon\" block</a>, U+1F600 - U+1F64F, and the \"Miscellaneous <a href=\"http://www.fileformat.info/info/unicode/block/miscellaneous_symbols_and_pictographs/index.htm\" rel=\"noreferrer\">Symbols And Pictographs\" block</a>, U+1F300 - U+1F5FF. I tried removing, but was unsuccessful as the matcher ended up replacing almost every character in the string, not just my desired unicode range.</p>\n\n<pre><code>String utf8tweet = \"\";\n        try {\n            byte[] utf8Bytes = status.getText().getBytes(\"UTF-8\");\n\n            utf8tweet = new String(utf8Bytes, \"UTF-8\");\n\n        } \n        catch (UnsupportedEncodingException e) {\n            e.printStackTrace();\n        }\nPattern unicodeOutliers = Pattern.compile(\"[\\\\u1f300-\\\\u1f64f]\", Pattern.UNICODE_CASE | Pattern.CANON_EQ | Pattern.CASE_INSENSITIVE);\nMatcher unicodeOutlierMatcher = unicodeOutliers.matcher(utf8tweet);\nutf8tweet = unicodeOutlierMatcher.replaceAll(\" \");\n</code></pre>\n\n<p>What can I do to remove these characters?</p>\n"},{"tags":["java","kotlin","exception","gradle"],"comments":[{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1495789158,"post_id":44197521,"comment_id":75408039,"body_markdown":"Please provide a complete [mcve], for example with that kotlin source code.","body":"Please provide a complete <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>, for example with that kotlin source code."},{"owner":{"account_id":4809763,"reputation":2962,"user_id":3883569,"display_name":"FreshD"},"score":0,"creation_date":1495790002,"post_id":44197521,"comment_id":75408592,"body_markdown":"@GhostCat is this enough for you?","body":"@GhostCat is this enough for you?"},{"owner":{"account_id":1663234,"reputation":138406,"user_id":1531124,"accept_rate":96,"display_name":"GhostCat"},"score":0,"creation_date":1495790055,"post_id":44197521,"comment_id":75408625,"body_markdown":"It needs to be enough so that people can repro the issue. Looks like now.","body":"It needs to be enough so that people can repro the issue. Looks like now."},{"owner":{"account_id":1627023,"reputation":2171,"user_id":1502352,"display_name":"Christian Br&#252;ggemann"},"score":0,"creation_date":1495799424,"post_id":44197521,"comment_id":75414245,"body_markdown":"@FreshD I can&#39;t reproduce the issue with the code you provided.","body":"@FreshD I can&#39;t reproduce the issue with the code you provided."},{"owner":{"account_id":4809763,"reputation":2962,"user_id":3883569,"display_name":"FreshD"},"score":0,"creation_date":1495800061,"post_id":44197521,"comment_id":75414631,"body_markdown":"@Christian Yeah you are right. I just tried with this example and it works. But the exception class looks same, but with a different name and also the instance creation in the try catch is same, so no idea why it works just for the example.","body":"@Christian Yeah you are right. I just tried with this example and it works. But the exception class looks same, but with a different name and also the instance creation in the try catch is same, so no idea why it works just for the example."},{"owner":{"account_id":4809763,"reputation":2962,"user_id":3883569,"display_name":"FreshD"},"score":0,"creation_date":1495800492,"post_id":44197521,"comment_id":75414917,"body_markdown":"And also instance creation of another custom Kotlin class works fine, so it seems to be a problem with the exception class.","body":"And also instance creation of another custom Kotlin class works fine, so it seems to be a problem with the exception class."},{"owner":{"account_id":193707,"reputation":34681,"user_id":435605,"accept_rate":45,"display_name":"AlikElzin-kilaka"},"score":0,"creation_date":1540742855,"post_id":44197521,"comment_id":92967080,"body_markdown":"Related: https://stackoverflow.com/questions/4871656/using-gradle-to-build-a-jar-with-dependencies","body":"Related: <a href=\"https://stackoverflow.com/questions/4871656/using-gradle-to-build-a-jar-with-dependencies\" title=\"using gradle to build a jar with dependencies\">stackoverflow.com/questions/4871656/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":6650480,"reputation":7479,"user_id":5132804,"accept_rate":73,"display_name":"Alberto S."},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1495802974,"creation_date":1495802974,"answer_id":44202085,"question_id":44197521,"body_markdown":"I&#39;m going to say that you&#39;re trying to run Kotlin code without the `kotlin-runtime` library\r\n\r\nCheck which system you&#39;re using and add the neccesary jar file. You can verify that this is your issue by packaging your project into a `.jar` file and running it with the [runtime library](https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-runtime)","title":"Gradle Project: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics","body":"<p>I'm going to say that you're trying to run Kotlin code without the <code>kotlin-runtime</code> library</p>\n\n<p>Check which system you're using and add the neccesary jar file. You can verify that this is your issue by packaging your project into a <code>.jar</code> file and running it with the <a href=\"https://mvnrepository.com/artifact/org.jetbrains.kotlin/kotlin-runtime\" rel=\"noreferrer\">runtime library</a></p>\n"},{"tags":[],"owner":{"account_id":4809763,"reputation":2962,"user_id":3883569,"display_name":"FreshD"},"down_vote_count":1,"up_vote_count":53,"is_accepted":true,"score":52,"last_activity_date":1581940019,"creation_date":1495804115,"answer_id":44202463,"question_id":44197521,"body_markdown":"Adding all project files to the jar fixed the problem for me. I added the following line to my `build.gradle`\r\n\r\n    jar {\r\n        manifest {\r\n            attributes ...\r\n        }\r\n        // This line of code recursively collects and copies all of a project&#39;s files\r\n        // and adds them to the JAR itself. One can extend this task, to skip certain\r\n        // files or particular types at will\r\n        from { configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\r\n    }\r\n\r\n**Update**: Changed `configurations.compile.collect` to `configurations.compileClasspath.collect` according to [this](https://stackoverflow.com/a/58624653/3883569) answer below.","title":"Gradle Project: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics","body":"<p>Adding all project files to the jar fixed the problem for me. I added the following line to my <code>build.gradle</code></p>\n\n<pre><code>jar {\n    manifest {\n        attributes ...\n    }\n    // This line of code recursively collects and copies all of a project's files\n    // and adds them to the JAR itself. One can extend this task, to skip certain\n    // files or particular types at will\n    from { configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p><strong>Update</strong>: Changed <code>configurations.compile.collect</code> to <code>configurations.compileClasspath.collect</code> according to <a href=\"https://stackoverflow.com/a/58624653/3883569\">this</a> answer below.</p>\n"},{"tags":[],"owner":{"account_id":7459166,"reputation":8015,"user_id":7682257,"display_name":"Suraj Vaishnav"},"down_vote_count":4,"up_vote_count":29,"is_accepted":false,"score":25,"last_activity_date":1513872540,"creation_date":1497598639,"answer_id":44583514,"question_id":44197521,"body_markdown":"You need to configure your project with kotlin.\r\nSo in Android Studio:\r\n\r\n1. click on Tools =&gt; kotlin =&gt; Configure kotlin in project\r\n\r\n2. Then in dialog check : All module containing kotlin files\r\n\r\n3. and select version \r\n\r\n4. press ok\r\n\r\nDone.","title":"Gradle Project: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics","body":"<p>You need to configure your project with kotlin.\nSo in Android Studio:</p>\n\n<ol>\n<li><p>click on Tools => kotlin => Configure kotlin in project</p></li>\n<li><p>Then in dialog check : All module containing kotlin files</p></li>\n<li><p>and select version </p></li>\n<li><p>press ok</p></li>\n</ol>\n\n<p>Done.</p>\n"},{"tags":[],"owner":{"account_id":2370649,"reputation":2236,"user_id":2075349,"display_name":"DmitryKanunnikoff"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1509558117,"creation_date":1509558117,"answer_id":47060716,"question_id":44197521,"body_markdown":"Had the same problem, compiling my project with Ant in console. I&#39;ve edded kotlin-stdlib.jar into classpath and problem has gone.","title":"Gradle Project: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics","body":"<p>Had the same problem, compiling my project with Ant in console. I've edded kotlin-stdlib.jar into classpath and problem has gone.</p>\n"},{"tags":[],"owner":{"account_id":2386596,"reputation":644,"user_id":3767398,"display_name":"matfax"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1538924576,"creation_date":1538924576,"answer_id":52689783,"question_id":44197521,"body_markdown":"In my case, a `enableFeaturePreview` in the settings.gradle caused this issue when migrating to Kotlin 1.3.","title":"Gradle Project: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics","body":"<p>In my case, a <code>enableFeaturePreview</code> in the settings.gradle caused this issue when migrating to Kotlin 1.3.</p>\n"},{"tags":[],"owner":{"account_id":294022,"reputation":115930,"user_id":597657,"accept_rate":99,"display_name":"Eng.Fouad"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1561956083,"creation_date":1561956083,"answer_id":56830064,"question_id":44197521,"body_markdown":"Adding the following solved the issue for me:\r\n\r\n    dependencies {\r\n        &quot;kotlinCompilerClasspath&quot;(fileTree(&quot;libs/gradle-plugins/kotlin&quot;))\r\n    }\r\n\r\nHere is the content of `libs/gradle-plugins/kotlin`:\r\n\r\n    annotations-13.0.jar\r\n    commons-codec-1.9.jar\r\n    commons-logging-1.2.jar\r\n    gradle-download-task-3.4.3.jar\r\n    gson-2.8.5.jar\r\n    httpclient-4.5.3.jar\r\n    httpcore-4.4.6.jar\r\n    kotlin-android-extensions-1.3.40.jar\r\n    kotlin-annotation-processing-gradle-1.3.40.jar\r\n    kotlin-build-common-1.3.40.jar\r\n    kotlin-compiler-1.3.40.jar\r\n    kotlin-compiler-embeddable-1.3.40.jar\r\n    kotlin-compiler-runner-1.3.40.jar\r\n    kotlin-daemon-client-1.3.40.jar\r\n    kotlin-gradle-plugin-1.3.40.jar\r\n    kotlin-gradle-plugin-api-1.3.40.jar\r\n    kotlin-gradle-plugin-model-1.3.40.jar\r\n    kotlin-reflect-1.3.40.jar\r\n    kotlin-runtime-1.2.71.jar\r\n    kotlin-script-runtime-1.3.40.jar\r\n    kotlin-scripting-common-1.3.40.jar\r\n    kotlin-scripting-compiler-embeddable-1.3.40.jar\r\n    kotlin-scripting-compiler-impl-embeddable-1.3.40.ja\r\n    kotlin-scripting-jvm-1.3.40.jar\r\n    kotlin-stdlib-1.3.40.jar\r\n    kotlin-stdlib-common-1.3.40.jar\r\n    kotlin-stdlib-jdk7-1.3.40.jar\r\n    kotlin-stdlib-jdk8-1.3.40.jar\r\n    kotlinx-coroutines-core-1.1.1.jar\r\n    org.jetbrains.kotlin.jvm.gradle.plugin-1.3.40.jar\r\n    trove4j-1.0.20181211.jar\r\n\r\n---\r\n\r\nThe complete `gradle.build.kts` (offline setup):\r\n\r\n    buildscript {\r\n        dependencies {\r\n            classpath(fileTree(&quot;libs/gradle-plugins/kotlin&quot;))\r\n        }\r\n    }\r\n    \r\n    plugins {\r\n        java\r\n        `java-library`\r\n    }\r\n    \r\n    apply(plugin = &quot;kotlin&quot;)\r\n    \r\n    version = &quot;2019.06.1&quot;\r\n    \r\n    tasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt; {\r\n        kotlinOptions.jvmTarget = &quot;12&quot;\r\n    }\r\n    \r\n    repositories {\r\n        flatDir {\r\n            dirs(&quot;libs/compile&quot;)\r\n            dirs(&quot;libs/provided&quot;)\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        &quot;kotlinCompilerClasspath&quot;(fileTree(&quot;libs/gradle-plugins/kotlin&quot;))\r\n        compileOnly(&quot;:javaee-api-8.0&quot;)\r\n        api(&quot;:kotlin-stdlib-common-1.3.40&quot;)\r\n        api(&quot;:kotlin-stdlib-1.3.40&quot;)\r\n        api(&quot;:kotlin-stdlib-jdk7-1.3.40&quot;)\r\n        api(&quot;:kotlin-stdlib-jdk8-1.3.40&quot;)\r\n        api(&quot;:gson-2.8.5&quot;)\r\n    }","title":"Gradle Project: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics","body":"<p>Adding the following solved the issue for me:</p>\n\n<pre><code>dependencies {\n    \"kotlinCompilerClasspath\"(fileTree(\"libs/gradle-plugins/kotlin\"))\n}\n</code></pre>\n\n<p>Here is the content of <code>libs/gradle-plugins/kotlin</code>:</p>\n\n<pre><code>annotations-13.0.jar\ncommons-codec-1.9.jar\ncommons-logging-1.2.jar\ngradle-download-task-3.4.3.jar\ngson-2.8.5.jar\nhttpclient-4.5.3.jar\nhttpcore-4.4.6.jar\nkotlin-android-extensions-1.3.40.jar\nkotlin-annotation-processing-gradle-1.3.40.jar\nkotlin-build-common-1.3.40.jar\nkotlin-compiler-1.3.40.jar\nkotlin-compiler-embeddable-1.3.40.jar\nkotlin-compiler-runner-1.3.40.jar\nkotlin-daemon-client-1.3.40.jar\nkotlin-gradle-plugin-1.3.40.jar\nkotlin-gradle-plugin-api-1.3.40.jar\nkotlin-gradle-plugin-model-1.3.40.jar\nkotlin-reflect-1.3.40.jar\nkotlin-runtime-1.2.71.jar\nkotlin-script-runtime-1.3.40.jar\nkotlin-scripting-common-1.3.40.jar\nkotlin-scripting-compiler-embeddable-1.3.40.jar\nkotlin-scripting-compiler-impl-embeddable-1.3.40.ja\nkotlin-scripting-jvm-1.3.40.jar\nkotlin-stdlib-1.3.40.jar\nkotlin-stdlib-common-1.3.40.jar\nkotlin-stdlib-jdk7-1.3.40.jar\nkotlin-stdlib-jdk8-1.3.40.jar\nkotlinx-coroutines-core-1.1.1.jar\norg.jetbrains.kotlin.jvm.gradle.plugin-1.3.40.jar\ntrove4j-1.0.20181211.jar\n</code></pre>\n\n<hr>\n\n<p>The complete <code>gradle.build.kts</code> (offline setup):</p>\n\n<pre><code>buildscript {\n    dependencies {\n        classpath(fileTree(\"libs/gradle-plugins/kotlin\"))\n    }\n}\n\nplugins {\n    java\n    `java-library`\n}\n\napply(plugin = \"kotlin\")\n\nversion = \"2019.06.1\"\n\ntasks.withType&lt;org.jetbrains.kotlin.gradle.tasks.KotlinCompile&gt; {\n    kotlinOptions.jvmTarget = \"12\"\n}\n\nrepositories {\n    flatDir {\n        dirs(\"libs/compile\")\n        dirs(\"libs/provided\")\n    }\n}\n\ndependencies {\n    \"kotlinCompilerClasspath\"(fileTree(\"libs/gradle-plugins/kotlin\"))\n    compileOnly(\":javaee-api-8.0\")\n    api(\":kotlin-stdlib-common-1.3.40\")\n    api(\":kotlin-stdlib-1.3.40\")\n    api(\":kotlin-stdlib-jdk7-1.3.40\")\n    api(\":kotlin-stdlib-jdk8-1.3.40\")\n    api(\":gson-2.8.5\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16999282,"reputation":71,"user_id":12297050,"display_name":"Simon O"},"down_vote_count":1,"up_vote_count":7,"is_accepted":false,"score":6,"last_activity_date":1572535981,"creation_date":1572435913,"answer_id":58624653,"question_id":44197521,"body_markdown":"Thanks for the comment. Indeed `compile` is deprecated. However the accepted answer does not work with `implementation`. So I looked up the [java library plugin configuration][1] and `implementation` depends on compileClasspath.\r\n\r\nSo my solution for now is to add\r\n\r\n```\r\njar {\r\n    manifest {\r\n        attributes ...\r\n    }\r\n    // This line of code recursively collects and copies all of a project&#39;s files\r\n    // and adds them to the JAR itself. One can extend this task, to skip certain\r\n    // files or particular types at will\r\n    from { configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\r\n}\r\n```\r\n\r\nwith \r\n\r\n```\r\ndependencies {\r\n    implementation &quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.50&quot;\r\n    //...\r\n}\r\n```\r\n\r\nI feel like this should be done by the org.jetbrains.kotlin.jvm plugin.\r\n\r\n&lt;s&gt;Using `compile` instead of `implementation` in the dependencies of the build.gradle file solved it for me.&lt;/s&gt;\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph","title":"Gradle Project: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics","body":"<p>Thanks for the comment. Indeed <code>compile</code> is deprecated. However the accepted answer does not work with <code>implementation</code>. So I looked up the <a href=\"https://docs.gradle.org/current/userguide/java_library_plugin.html#sec:java_library_configurations_graph\" rel=\"noreferrer\">java library plugin configuration</a> and <code>implementation</code> depends on compileClasspath.</p>\n\n<p>So my solution for now is to add</p>\n\n<pre><code>jar {\n    manifest {\n        attributes ...\n    }\n    // This line of code recursively collects and copies all of a project's files\n    // and adds them to the JAR itself. One can extend this task, to skip certain\n    // files or particular types at will\n    from { configurations.compileClasspath.collect { it.isDirectory() ? it : zipTree(it) } }\n}\n</code></pre>\n\n<p>with </p>\n\n<pre><code>dependencies {\n    implementation \"org.jetbrains.kotlin:kotlin-stdlib-jdk8:1.3.50\"\n    //...\n}\n</code></pre>\n\n<p>I feel like this should be done by the org.jetbrains.kotlin.jvm plugin.</p>\n\n<p><s>Using <code>compile</code> instead of <code>implementation</code> in the dependencies of the build.gradle file solved it for me.</s></p>\n"},{"tags":[],"owner":{"account_id":10512827,"reputation":6163,"user_id":7747942,"display_name":"Sylhare"},"down_vote_count":1,"up_vote_count":35,"is_accepted":false,"score":34,"last_activity_date":1667418100,"creation_date":1587581068,"answer_id":61372736,"question_id":44197521,"body_markdown":"This error is likely due to the fact that the simple jar task doesn’t take all its runtime dependencies.\r\n\r\nFrom [gradle documentation][1], In your `build.gradle.kts` you can either create a &quot;fatJar&quot; task or add that to your jar task:\r\n\r\n```\r\ntasks.withType&lt;Jar&gt; {\r\n    // Otherwise you&#39;ll get a &quot;No main manifest attribute&quot; error\r\n    manifest {\r\n        attributes[&quot;Main-Class&quot;] = &quot;com.example.MainKt&quot;\r\n    }\r\n\r\n    // To avoid the duplicate handling strategy error\r\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\r\n\r\n    // To add all of the dependencies\r\n    from(sourceSets.main.get().output)\r\n\r\n    dependsOn(configurations.runtimeClasspath)\r\n    from({\r\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\r\n    })\r\n}\r\n```\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/userguide/working_with_files.html#sec:creating_uber_jar_example","title":"Gradle Project: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics","body":"<p>This error is likely due to the fact that the simple jar task doesn’t take all its runtime dependencies.</p>\n<p>From <a href=\"https://docs.gradle.org/current/userguide/working_with_files.html#sec:creating_uber_jar_example\" rel=\"noreferrer\">gradle documentation</a>, In your <code>build.gradle.kts</code> you can either create a &quot;fatJar&quot; task or add that to your jar task:</p>\n<pre><code>tasks.withType&lt;Jar&gt; {\n    // Otherwise you'll get a &quot;No main manifest attribute&quot; error\n    manifest {\n        attributes[&quot;Main-Class&quot;] = &quot;com.example.MainKt&quot;\n    }\n\n    // To avoid the duplicate handling strategy error\n    duplicatesStrategy = DuplicatesStrategy.EXCLUDE\n\n    // To add all of the dependencies\n    from(sourceSets.main.get().output)\n\n    dependsOn(configurations.runtimeClasspath)\n    from({\n        configurations.runtimeClasspath.get().filter { it.name.endsWith(&quot;jar&quot;) }.map { zipTree(it) }\n    })\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5540783,"reputation":150,"user_id":8264748,"display_name":"zero"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1673871527,"creation_date":1673871527,"answer_id":75134120,"question_id":44197521,"body_markdown":"In my case adding maven Bom file worked. It does job of downloading and keeping all the kotlin dependencies in sync.\r\n\r\n    imports {\r\n            mavenBom &#39;org.jetbrains.kotlin:kotlin-bom:&lt;&lt;KOTLIN_VERSION&gt;&gt;&#39;\r\n        }\r\n\r\nRefer the official documentation here : \r\nhttps://kotlinlang.org/docs/gradle-configure-project.html#other-ways-to-align-versions","title":"Gradle Project: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics","body":"<p>In my case adding maven Bom file worked. It does job of downloading and keeping all the kotlin dependencies in sync.</p>\n<pre><code>imports {\n        mavenBom 'org.jetbrains.kotlin:kotlin-bom:&lt;&lt;KOTLIN_VERSION&gt;&gt;'\n    }\n</code></pre>\n<p>Refer the official documentation here :\n<a href=\"https://kotlinlang.org/docs/gradle-configure-project.html#other-ways-to-align-versions\" rel=\"nofollow noreferrer\">https://kotlinlang.org/docs/gradle-configure-project.html#other-ways-to-align-versions</a></p>\n"}],"owner":{"account_id":4809763,"reputation":2962,"user_id":3883569,"display_name":"FreshD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":96406,"favorite_count":0,"down_vote_count":2,"up_vote_count":80,"accepted_answer_id":44202463,"answer_count":9,"score":78,"last_activity_date":1690815095,"creation_date":1495789014,"question_id":44197521,"body_markdown":"I&#39;m working on a Java project and within this project I did my first try with Kotlin. I started converting some classes to Kotlin with the JavaToKoltin converter provided in the Intellij Idea. Among others my custom exceptions are now converted to Kotlin. But with this the exception handling does not work correct anymore.  \r\nIf I throw one of my custom exceptions (e.g. `MyCustomKotlinException.kt`) within the java code, the exception is not catched (see code below).\r\n\r\n    // Example.java\r\n    package foo    \r\n\r\n    import java.util.*;\r\n    import java.lang.*;\r\n    import java.io.*;\r\n    import foo.MyCustomKotlinException;\r\n\r\n    class Example\r\n    {\r\n        public static void main (String[] args)\r\n\t    {\r\n            try {\r\n                // Do some stuff\r\n                // if Error\r\n                MyCustomKotlinException e = new MyCustomKotlinException(&quot;Error Message&quot;);\r\n                throw e;\r\n            } catch (MyCustomKotlinException e) {  // &lt;-- THIS PART IS NEVER REACHED\r\n                // Handle Exception\r\n            } catch (Throwable e) {\r\n                e.printStackTrace(); &lt;-- This is catched\r\n            } finally {\r\n                // Finally ...\r\n            }\r\n        }\r\n    }\r\nSo can anyone explain to me why the exception is not catch. `MyCustomKotlinException` is inheriting from Kotlins `RuntimeException`, which is just an alias to `java.lang.RuntimeException`.\r\n\r\n    // MyCustomKotlinException.kt\r\n    package foo\r\n\r\n    class MyCustomKotlinException(err: String) : RuntimeException(err)\r\n\r\n**Update:**  \r\nI split the throw part into 2 lines (instance creation and throwing) and found that the problem is not the throwing. The try block is left after the instance creation. Is anything wrong with my instance creation of this Kotlin class?\r\n\r\n**Update2:**  \r\nI added a second catch block with `Throwable` and the following Throwable is caught.\r\n\r\n    java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\r\n    ...\r\n    Caused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\r\n\r\n**Update3:**  \r\nChanged the title to correct error and fixed problem with adding all project files to jar (see answer below).\r\nAdding the Kotlin runtime lib to gradle does not work for me.","title":"Gradle Project: java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics","body":"<p>I'm working on a Java project and within this project I did my first try with Kotlin. I started converting some classes to Kotlin with the JavaToKoltin converter provided in the Intellij Idea. Among others my custom exceptions are now converted to Kotlin. But with this the exception handling does not work correct anymore.<br>\nIf I throw one of my custom exceptions (e.g. <code>MyCustomKotlinException.kt</code>) within the java code, the exception is not catched (see code below).</p>\n\n<pre><code>// Example.java\npackage foo    \n\nimport java.util.*;\nimport java.lang.*;\nimport java.io.*;\nimport foo.MyCustomKotlinException;\n\nclass Example\n{\n    public static void main (String[] args)\n    {\n        try {\n            // Do some stuff\n            // if Error\n            MyCustomKotlinException e = new MyCustomKotlinException(\"Error Message\");\n            throw e;\n        } catch (MyCustomKotlinException e) {  // &lt;-- THIS PART IS NEVER REACHED\n            // Handle Exception\n        } catch (Throwable e) {\n            e.printStackTrace(); &lt;-- This is catched\n        } finally {\n            // Finally ...\n        }\n    }\n}\n</code></pre>\n\n<p>So can anyone explain to me why the exception is not catch. <code>MyCustomKotlinException</code> is inheriting from Kotlins <code>RuntimeException</code>, which is just an alias to <code>java.lang.RuntimeException</code>.</p>\n\n<pre><code>// MyCustomKotlinException.kt\npackage foo\n\nclass MyCustomKotlinException(err: String) : RuntimeException(err)\n</code></pre>\n\n<p><strong>Update:</strong><br>\nI split the throw part into 2 lines (instance creation and throwing) and found that the problem is not the throwing. The try block is left after the instance creation. Is anything wrong with my instance creation of this Kotlin class?</p>\n\n<p><strong>Update2:</strong><br>\nI added a second catch block with <code>Throwable</code> and the following Throwable is caught.</p>\n\n<pre><code>java.lang.NoClassDefFoundError: kotlin/jvm/internal/Intrinsics\n...\nCaused by: java.lang.ClassNotFoundException: kotlin.jvm.internal.Intrinsics\n</code></pre>\n\n<p><strong>Update3:</strong><br>\nChanged the title to correct error and fixed problem with adding all project files to jar (see answer below).\nAdding the Kotlin runtime lib to gradle does not work for me.</p>\n"},{"tags":["java","switch-statement"],"comments":[{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":1,"creation_date":1690814603,"post_id":76804692,"comment_id":135401721,"body_markdown":"&quot;*... I dont see the declaration of the variable.&quot; - Which variable?","body":"&quot;*... I dont see the declaration of the variable.&quot; - Which variable?"},{"owner":{"display_name":"user6073886"},"score":1,"creation_date":1690814675,"post_id":76804692,"comment_id":135401733,"body_markdown":"Please be more precise. What exactly do you mean with &quot;I dont see the declaration of the variable&quot;? Are you refering to `int block2`? That is clearly declared in case 0, and since java cases fall through and don&#39;t have their own scope it is therefor also available in other cases.","body":"Please be more precise. What exactly do you mean with &quot;I dont see the declaration of the variable&quot;? Are you refering to <code>int block2</code>? That is clearly declared in case 0, and since java cases fall through and don&#39;t have their own scope it is therefor also available in other cases."},{"owner":{"account_id":17813347,"reputation":1635,"user_id":12937443,"display_name":"DEV"},"score":0,"creation_date":1690814761,"post_id":76804692,"comment_id":135401761,"body_markdown":"does this answer your question htps://stackoverflow.com/questions/47543667/jpql-query-hibernate-with-clause-not-allowed-on-fetched-associations","body":"does this answer your question htps://stackoverflow.com/questions/47543667/jpql-query-hiber&zwnj;&#8203;nate-with-clause-not&zwnj;&#8203;-allowed-on-fetched-&zwnj;&#8203;associations"},{"owner":{"account_id":22910708,"reputation":58,"user_id":17048019,"display_name":"Alan Barrientos"},"score":0,"creation_date":1690814988,"post_id":76804692,"comment_id":135401821,"body_markdown":"@OHGODSPIDERS I dint know that, thanks","body":"@OHGODSPIDERS I dint know that, thanks"}],"answers":[{"tags":[],"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690815049,"creation_date":1690815049,"answer_id":76804782,"question_id":76804692,"body_markdown":"It&#39;s a quirk of `switch` expressions. The Java compiler allows you to declare the variable, and to reference it *if* it has been initialized. That&#39;s why you need to assign it, so why your case `2` gives a compilation error: It sees the declaration from case `0`, but there&#39;s no initialization, so you can&#39;t reference it.\r\n\r\nHowever, this code is confusing, and you shouldn&#39;t write it like this. Use a different variable for each `case`. An IDE like IntelliJ will generate a warning if you do it this way:\r\n\r\n&gt; Local variable &#39;block2&#39; declared in one &#39;switch&#39; branch and used in another ","title":"I dont understand why this code with switch statement dont gives a compilation error or throw an runtime exception","body":"<p>It's a quirk of <code>switch</code> expressions. The Java compiler allows you to declare the variable, and to reference it <em>if</em> it has been initialized. That's why you need to assign it, so why your case <code>2</code> gives a compilation error: It sees the declaration from case <code>0</code>, but there's no initialization, so you can't reference it.</p>\n<p>However, this code is confusing, and you shouldn't write it like this. Use a different variable for each <code>case</code>. An IDE like IntelliJ will generate a warning if you do it this way:</p>\n<blockquote>\n<p>Local variable 'block2' declared in one 'switch' branch and used in another</p>\n</blockquote>\n"}],"owner":{"account_id":22910708,"reputation":58,"user_id":17048019,"display_name":"Alan Barrientos"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690815074,"accepted_answer_id":76804782,"answer_count":1,"score":0,"last_activity_date":1690815049,"creation_date":1690814470,"question_id":76804692,"body_markdown":"```java\r\nint param1 = 1;\r\n        switch (param1){\r\n            case 0:\r\n                int block2 = 10; // if this line is commented gives a compilation error\r\n                System.out.println(block2);\r\n                break;\r\n            case 1:\r\n                block2 = 5; // if this line is commented below line gives a compilation error\r\n                System.out.println(block2);\r\n                break;\r\n            default:\r\n//                System.out.println(block2); // comilation error\r\n        }\r\n```\r\n\r\nI try debug and dont makes sence because I dont see the declaration of the variable. this code run in a main","title":"I dont understand why this code with switch statement dont gives a compilation error or throw an runtime exception","body":"<pre class=\"lang-java prettyprint-override\"><code>int param1 = 1;\n        switch (param1){\n            case 0:\n                int block2 = 10; // if this line is commented gives a compilation error\n                System.out.println(block2);\n                break;\n            case 1:\n                block2 = 5; // if this line is commented below line gives a compilation error\n                System.out.println(block2);\n                break;\n            default:\n//                System.out.println(block2); // comilation error\n        }\n</code></pre>\n<p>I try debug and dont makes sence because I dont see the declaration of the variable. this code run in a main</p>\n"},{"tags":["java","redis","google-cloud-dataflow","apache-beam","google-cloud-memorystore"],"owner":{"account_id":29129108,"reputation":1,"user_id":22314824,"display_name":"Yamini P"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690814798,"creation_date":1690813956,"question_id":76804620,"body_markdown":"I&#39;m trying to read from pubsub and writing it into memorystore redis instance. I&#39;m using jedispool as the process is multithreaded. I&#39;m able to write the data coming from pubsub into the instance only if the messages are coming at 1/sec rate. But if I&#39;m increasing the incoming messages rate to 100/s, I&#39;m getting EOFExceptions.\r\nAs said before the TLS is enabled for the instance and therefore had to provide the certificate while connecting.\r\nFor which I wrote following piece of code:\r\n\r\n```\r\nBlob blob=storage.get(&quot;gcs-location&quot;,&quot;server-ca.jks);\r\nReadChannel readchannel =blob.reader();\r\nFileOutputStream fileoutputStream;\r\nfileOutputStream= new FileOutputStream(&quot;/tmp/server-ca.jks&quot;);\r\nfileOutputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\r\nfileOutputStream.close();\r\nreadChannel.close();\r\n\r\nString tlsFilePath=&quot;/tmp/server-ca.jks&quot;; \r\nSystem.setProperty(&quot;javax.net.ssl.truststore&quot;, tlsFilePath);\r\nystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;P@ss&quot;); \r\nString keyStorePassword = &quot;P@ss&quot;; \r\n\r\nInputStream keyStoreInputStream = new FileInputStream(tlsFilePath);\r\nKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\r\nkeyStore.load(keyStoreInputStream, keyStorePassword. toCharArray());\r\nKeyManagerFactory keyManagerFactory KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm()); keyManagerFactory.init(keyStore, keyStorePassword. toCharArray());\r\nkeyStoreInputStream.close();\r\nTrustManagerFactory trustManagerFactory TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\ntrustManagerFactory.init(keyStore);\r\n\r\nSSLContext sslContext SSLContext.getInstance(&quot;TLS&quot;);\r\nsslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\r\nSSLSocketFactory ss1SocketFactory = sslContext.getSocketFactory(); \r\n\r\n```\r\n\r\nI&#39;m getting error at this line: \r\nkeyStore.load(keyStoreInputStream, keyStorePassword. toCharArray());\r\n\r\nThe error I&#39;m getting is as following:\r\n\r\n```\r\njava.io.EOFException\r\njava.base/java.io.DataInputStream.readint(DataInputStream.java:397)\r\njava.base/sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:662) \r\njava.base/sun.security.util.KeyStore Delegator.engineLoad(KeyStore Delegator.java:222)\r\njava.base/java.security.KeyStore.load(KeyStore.java:1479) \r\n```\r\n\r\nI want to know why I&#39;m not getting errors at 1 message/sec rate but getting if reading data at 100 messages/sec rate. Let me know if I&#39;m going wrong anywhere.","title":"getting EOFExceptions in streaming pipeline to insert data into memoystore redis instance with TLS enabled using dataflow pipeline","body":"<p>I'm trying to read from pubsub and writing it into memorystore redis instance. I'm using jedispool as the process is multithreaded. I'm able to write the data coming from pubsub into the instance only if the messages are coming at 1/sec rate. But if I'm increasing the incoming messages rate to 100/s, I'm getting EOFExceptions.\nAs said before the TLS is enabled for the instance and therefore had to provide the certificate while connecting.\nFor which I wrote following piece of code:</p>\n<pre><code>Blob blob=storage.get(&quot;gcs-location&quot;,&quot;server-ca.jks);\nReadChannel readchannel =blob.reader();\nFileOutputStream fileoutputStream;\nfileOutputStream= new FileOutputStream(&quot;/tmp/server-ca.jks&quot;);\nfileOutputStream.getChannel().transferFrom(readChannel, 0, Long.MAX_VALUE);\nfileOutputStream.close();\nreadChannel.close();\n\nString tlsFilePath=&quot;/tmp/server-ca.jks&quot;; \nSystem.setProperty(&quot;javax.net.ssl.truststore&quot;, tlsFilePath);\nystem.setProperty(&quot;javax.net.ssl.trustStorePassword&quot;, &quot;P@ss&quot;); \nString keyStorePassword = &quot;P@ss&quot;; \n\nInputStream keyStoreInputStream = new FileInputStream(tlsFilePath);\nKeyStore keyStore = KeyStore.getInstance(&quot;JKS&quot;);\nkeyStore.load(keyStoreInputStream, keyStorePassword. toCharArray());\nKeyManagerFactory keyManagerFactory KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm()); keyManagerFactory.init(keyStore, keyStorePassword. toCharArray());\nkeyStoreInputStream.close();\nTrustManagerFactory trustManagerFactory TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntrustManagerFactory.init(keyStore);\n\nSSLContext sslContext SSLContext.getInstance(&quot;TLS&quot;);\nsslContext.init(keyManagerFactory.getKeyManagers(), trustManagerFactory.getTrustManagers(), null);\nSSLSocketFactory ss1SocketFactory = sslContext.getSocketFactory(); \n\n</code></pre>\n<p>I'm getting error at this line:\nkeyStore.load(keyStoreInputStream, keyStorePassword. toCharArray());</p>\n<p>The error I'm getting is as following:</p>\n<pre><code>java.io.EOFException\njava.base/java.io.DataInputStream.readint(DataInputStream.java:397)\njava.base/sun.security.provider.JavaKeyStore.engineLoad(JavaKeyStore.java:662) \njava.base/sun.security.util.KeyStore Delegator.engineLoad(KeyStore Delegator.java:222)\njava.base/java.security.KeyStore.load(KeyStore.java:1479) \n</code></pre>\n<p>I want to know why I'm not getting errors at 1 message/sec rate but getting if reading data at 100 messages/sec rate. Let me know if I'm going wrong anywhere.</p>\n"},{"tags":["java","android","thread-safety"],"owner":{"account_id":8511121,"reputation":98,"user_id":6381125,"display_name":"VJe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":20,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690814073,"creation_date":1690802925,"question_id":76803192,"body_markdown":"I&#39;m trying to draw different objects on the canvas in my CustomView. The list of objects to draw is created dynamically outside the view and is passed as a parameter to the list of objects to draw.\r\n\r\nI have a customCustom view class that looks something like this:\r\n\r\n\r\n    public class CustomView extends View {\r\n    \r\n        // ...\r\n        \r\n        private final List&lt;Shape&gt; shapeToDrawList = new ArrayList();\r\n        \r\n        // ...\r\n        \r\n        public void setShapeToDrawList(@NonNull List&lt;Shape&gt; list) {\r\n                shapeToDrawList.clear();\r\n                shapeToDrawList.addAll(list);\r\n                invalidate();\r\n        }\r\n    \r\n        public void onDraw(@NonNull Canvas canvas) {\r\n            shapeToDrawList.forEach(shape -&gt; {\r\n              shape.draw(canvas);\r\n            });\r\n        }\r\n    }\r\n\r\n    \r\n* method *setShapeToDrawList* does not run in the main thread\r\n* *Shape* - is an object that ensures rendering of the object on the canvas\r\n\r\nIssue\r\n=====\r\n\r\n* In the *setShapeToDrawList* method I ***set the list of objects*** and perform *invalidate()*.\r\n* In the *onDraw* method, ***the list is empty***. What am I doing wrong?\r\n\r\nI&#39;ve tried\r\n* lock\r\n* CopyOnWriteArrayList\r\n\r\nbut so far all my efforts are in vain. Please help me.\r\n\r\n\r\nNote:\r\n=====\r\nWhen I modified the array definition to\r\n\r\n    private final List&lt;Shape&gt; shapeToDrawList = new ArrayList();\r\n\r\nit is working properly. Can someone please explain to me why?\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","title":"Android graphics - how to synchronize the list of drawn objects for the onDraw() method","body":"<p>I'm trying to draw different objects on the canvas in my CustomView. The list of objects to draw is created dynamically outside the view and is passed as a parameter to the list of objects to draw.</p>\n<p>I have a customCustom view class that looks something like this:</p>\n<pre><code>public class CustomView extends View {\n\n    // ...\n    \n    private final List&lt;Shape&gt; shapeToDrawList = new ArrayList();\n    \n    // ...\n    \n    public void setShapeToDrawList(@NonNull List&lt;Shape&gt; list) {\n            shapeToDrawList.clear();\n            shapeToDrawList.addAll(list);\n            invalidate();\n    }\n\n    public void onDraw(@NonNull Canvas canvas) {\n        shapeToDrawList.forEach(shape -&gt; {\n          shape.draw(canvas);\n        });\n    }\n}\n</code></pre>\n<ul>\n<li>method <em>setShapeToDrawList</em> does not run in the main thread</li>\n<li><em>Shape</em> - is an object that ensures rendering of the object on the canvas</li>\n</ul>\n<h1>Issue</h1>\n<ul>\n<li>In the <em>setShapeToDrawList</em> method I <em><strong>set the list of objects</strong></em> and perform <em>invalidate()</em>.</li>\n<li>In the <em>onDraw</em> method, <em><strong>the list is empty</strong></em>. What am I doing wrong?</li>\n</ul>\n<p>I've tried</p>\n<ul>\n<li>lock</li>\n<li>CopyOnWriteArrayList</li>\n</ul>\n<p>but so far all my efforts are in vain. Please help me.</p>\n<h1>Note:</h1>\n<p>When I modified the array definition to</p>\n<pre><code>private final List&lt;Shape&gt; shapeToDrawList = new ArrayList();\n</code></pre>\n<p>it is working properly. Can someone please explain to me why?</p>\n"},{"tags":["java","spring","swagger","springfox"],"answers":[{"tags":[],"owner":{"account_id":16562022,"reputation":101,"user_id":11967711,"display_name":"SarangRN"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690813573,"creation_date":1690813573,"answer_id":76804577,"question_id":75156723,"body_markdown":"Old swagger ( &lt;= 2.9.2  or  v1/docs, v2/docs ) is not working with Java 17 or higher version hence I upgraded the Swagger to use open API. \r\nAdded below maven dependency in application pom.xml\r\n\r\n```\r\n  &lt;dependency&gt;\r\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;1.6.15&lt;/version&gt;\r\n  &lt;/dependency&gt;\r\n```\r\nRemoved all swagger related dependency related to version 2.9.2 and also no need to explicitly define SwaggerConfig.java Removed this class. \r\n\r\nJust permitALL paths &quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot; in spring security configuration as below and swagger UI is able to open without prompting any authentication.\r\n\r\n```\r\npublic static final String[] excludedURLs = {&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;};\r\n\r\n@Bean\r\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authenticationProvider(xxxAPIAuthenticationProvider)\r\n                .httpBasic()\r\n                .and()\r\n                .authorizeRequests()\r\n                .antMatchers(excludedURLs).permitAll()\r\n                .anyRequest().authenticated();\r\n\r\n   return http.build();\r\n\r\n}\r\n```\r\n\r\n","title":"Swagger UI is prompting for login even after ignoring in configuration after migrating to Java 17","body":"<p>Old swagger ( &lt;= 2.9.2  or  v1/docs, v2/docs ) is not working with Java 17 or higher version hence I upgraded the Swagger to use open API.\nAdded below maven dependency in application pom.xml</p>\n<pre><code>  &lt;dependency&gt;\n      &lt;groupId&gt;org.springdoc&lt;/groupId&gt;\n      &lt;artifactId&gt;springdoc-openapi-ui&lt;/artifactId&gt;\n      &lt;version&gt;1.6.15&lt;/version&gt;\n  &lt;/dependency&gt;\n</code></pre>\n<p>Removed all swagger related dependency related to version 2.9.2 and also no need to explicitly define SwaggerConfig.java Removed this class.</p>\n<p>Just permitALL paths &quot;/v3/api-docs/<strong>&quot;, &quot;/swagger-ui/</strong>&quot; in spring security configuration as below and swagger UI is able to open without prompting any authentication.</p>\n<pre><code>public static final String[] excludedURLs = {&quot;/v3/api-docs/**&quot;, &quot;/swagger-ui/**&quot;};\n\n@Bean\npublic SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authenticationProvider(xxxAPIAuthenticationProvider)\n                .httpBasic()\n                .and()\n                .authorizeRequests()\n                .antMatchers(excludedURLs).permitAll()\n                .anyRequest().authenticated();\n\n   return http.build();\n\n}\n</code></pre>\n"}],"owner":{"account_id":16562022,"reputation":101,"user_id":11967711,"display_name":"SarangRN"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":252,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76804577,"answer_count":1,"score":0,"last_activity_date":1690813573,"creation_date":1674032202,"question_id":75156723,"body_markdown":"```\r\n &lt;dependency&gt;\r\n     &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n     &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\r\n     &lt;version&gt;2.9.2&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\r\n      &lt;version&gt;2.9.2&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n\r\n &lt;dependency&gt;\r\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n      &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n      &lt;version&gt;2.9.2&lt;/version&gt;\r\n &lt;/dependency&gt;\r\n\r\n// Web Security Config \r\n\r\npublic static final String[] excludedURLs = {\r\n            &quot;/swagger-ui.html&quot;, &quot;/webjars/**&quot;, &quot;/swagger-resources/**&quot;, &quot;/v2/**&quot;};\r\n@Bean\r\n    public WebSecurityCustomizer webSecurityCustomizer() {\r\n        return (web) -&gt; web.ignoring().antMatchers(excludedURLs);\r\n    }\r\n\r\n@Bean\r\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\r\n        http.authenticationProvider(XXXXAPIAuthenticationProvider)\r\n                     .httpBasic()\r\n                     .and()\r\n                     .authorizeRequests()\r\n                     .antMatchers(excludedURLs).permitAll()\r\n                    .anyRequest().authenticated()\r\n                    .and()\r\n                    .addFilter(getXXXXXBasicAuthenticationFilter())\r\n                    .addFilterBefore(getOktaAuthFilter(), XXXXXXBasicAuthenticationFilter.class)\r\n                    .csrf().disable();\r\n\r\n        return http.build();\r\n    }\r\n\r\n// Swagger Config\r\n\r\n@Profile({&quot;Test&quot;,&quot;STAGE&quot;})\r\n@Configuration\r\n@EnableSwagger2\r\npublic class SwaggerConfig {\r\n\r\n\r\n    private static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\r\n    public static final String DEFAULT_INCLUDE_PATTERN = &quot;/.*&quot;;\r\n\r\n    @Bean\r\n    public Docket api() {\r\n        Docket docket=new Docket(DocumentationType.SWAGGER_2)\r\n                .securityContexts(Lists.newArrayList(securityContext()))\r\n                .securitySchemes(Lists.newArrayList(apiKey()))\r\n                .useDefaultResponseMessages(false)\r\n                .select()\r\n                .apis(RequestHandlerSelectors\r\n                        .basePackage(&quot;com.XXXX.XXXX.controllers&quot;))\r\n                .paths(regex(&quot;/.*&quot;))\r\n                .build()\r\n                .apiInfo(apiEndPointsInfo());\r\n        docket = docket.select()\r\n                .paths(regex(DEFAULT_INCLUDE_PATTERN))\r\n                .build();\r\n\r\n        return docket;\r\n    }\r\n```\r\n\r\nI have gone through below posts\r\n\r\nWhy does springfox-swagger2 UI tell me &quot;Unable to infer base url.&quot;\r\n\r\nhttps://github.com/springfox/springfox/issues/2191\r\n\r\nhttps://github.com/springfox/springfox/issues/2907\r\n\r\nhttps://stackoverflow.com/questions/56280202/unable-to-infer-base-url-springfox-swagger2-version-2-9-2\r\n\r\nPlease let me know what am I missing","title":"Swagger UI is prompting for login even after ignoring in configuration after migrating to Java 17","body":"<pre><code> &lt;dependency&gt;\n     &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n     &lt;artifactId&gt;springfox-swagger2&lt;/artifactId&gt;\n     &lt;version&gt;2.9.2&lt;/version&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n      &lt;artifactId&gt;springfox-bean-validators&lt;/artifactId&gt;\n      &lt;version&gt;2.9.2&lt;/version&gt;\n &lt;/dependency&gt;\n\n &lt;dependency&gt;\n      &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n      &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n      &lt;version&gt;2.9.2&lt;/version&gt;\n &lt;/dependency&gt;\n\n// Web Security Config \n\npublic static final String[] excludedURLs = {\n            &quot;/swagger-ui.html&quot;, &quot;/webjars/**&quot;, &quot;/swagger-resources/**&quot;, &quot;/v2/**&quot;};\n@Bean\n    public WebSecurityCustomizer webSecurityCustomizer() {\n        return (web) -&gt; web.ignoring().antMatchers(excludedURLs);\n    }\n\n@Bean\n    public SecurityFilterChain filterChain(HttpSecurity http) throws Exception {\n        http.authenticationProvider(XXXXAPIAuthenticationProvider)\n                     .httpBasic()\n                     .and()\n                     .authorizeRequests()\n                     .antMatchers(excludedURLs).permitAll()\n                    .anyRequest().authenticated()\n                    .and()\n                    .addFilter(getXXXXXBasicAuthenticationFilter())\n                    .addFilterBefore(getOktaAuthFilter(), XXXXXXBasicAuthenticationFilter.class)\n                    .csrf().disable();\n\n        return http.build();\n    }\n\n// Swagger Config\n\n@Profile({&quot;Test&quot;,&quot;STAGE&quot;})\n@Configuration\n@EnableSwagger2\npublic class SwaggerConfig {\n\n\n    private static final String AUTHORIZATION_HEADER = &quot;Authorization&quot;;\n    public static final String DEFAULT_INCLUDE_PATTERN = &quot;/.*&quot;;\n\n    @Bean\n    public Docket api() {\n        Docket docket=new Docket(DocumentationType.SWAGGER_2)\n                .securityContexts(Lists.newArrayList(securityContext()))\n                .securitySchemes(Lists.newArrayList(apiKey()))\n                .useDefaultResponseMessages(false)\n                .select()\n                .apis(RequestHandlerSelectors\n                        .basePackage(&quot;com.XXXX.XXXX.controllers&quot;))\n                .paths(regex(&quot;/.*&quot;))\n                .build()\n                .apiInfo(apiEndPointsInfo());\n        docket = docket.select()\n                .paths(regex(DEFAULT_INCLUDE_PATTERN))\n                .build();\n\n        return docket;\n    }\n</code></pre>\n<p>I have gone through below posts</p>\n<p>Why does springfox-swagger2 UI tell me &quot;Unable to infer base url.&quot;</p>\n<p><a href=\"https://github.com/springfox/springfox/issues/2191\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/2191</a></p>\n<p><a href=\"https://github.com/springfox/springfox/issues/2907\" rel=\"nofollow noreferrer\">https://github.com/springfox/springfox/issues/2907</a></p>\n<p><a href=\"https://stackoverflow.com/questions/56280202/unable-to-infer-base-url-springfox-swagger2-version-2-9-2\">Unable to infer base url... springfox-swagger2 version 2.9.2</a></p>\n<p>Please let me know what am I missing</p>\n"},{"tags":["java","ssh","apache-sshd","known-hosts"],"owner":{"account_id":16748212,"reputation":15,"user_id":12105896,"display_name":"Sumeet Ambastha"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":103,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690813516,"creation_date":1690812981,"question_id":76804487,"body_markdown":"I am trying to connect to a remote server using the SshClient of java library `Apache MINA SSHD`.\r\n\r\nI want to pass my `known_hosts` file also to the `SshClient` so that the hosts are also verified before connecting to the server.\r\nI need to use the class `KnownHostsServerKeyVerifier` to pass the known hosts the the client like below\r\n\r\n    ServerKeyVerifier hostsServerKeyVerifier = new KnownHostsServerKeyVerifier(null, Paths.get(&quot;&lt;path_to_known_hosts&gt;/known_hosts&quot;));\r\n\tclient.setServerKeyVerifier(hostsServerKeyVerifier);\r\n\r\nThe contructor of `KnownHostsServerKeyVerifier` need below arguments\r\n\r\n    public KnownHostsServerKeyVerifier(ServerKeyVerifier delegate, Path file)\r\n\r\nBut I don&#39;t understand what and how to pass for the argument **ServerKeyVerifier**\r\n\r\nCan someone explain me how to make this work or is there some other approach to pass the `known_hosts` file to the `SshClient` ?","title":"How to create an instance of KnownHostsServerKeyVerifier for host key verification in the SSHClient of Apache Mina SSHD java library","body":"<p>I am trying to connect to a remote server using the SshClient of java library <code>Apache MINA SSHD</code>.</p>\n<p>I want to pass my <code>known_hosts</code> file also to the <code>SshClient</code> so that the hosts are also verified before connecting to the server.\nI need to use the class <code>KnownHostsServerKeyVerifier</code> to pass the known hosts the the client like below</p>\n<pre><code>ServerKeyVerifier hostsServerKeyVerifier = new KnownHostsServerKeyVerifier(null, Paths.get(&quot;&lt;path_to_known_hosts&gt;/known_hosts&quot;));\nclient.setServerKeyVerifier(hostsServerKeyVerifier);\n</code></pre>\n<p>The contructor of <code>KnownHostsServerKeyVerifier</code> need below arguments</p>\n<pre><code>public KnownHostsServerKeyVerifier(ServerKeyVerifier delegate, Path file)\n</code></pre>\n<p>But I don't understand what and how to pass for the argument <strong>ServerKeyVerifier</strong></p>\n<p>Can someone explain me how to make this work or is there some other approach to pass the <code>known_hosts</code> file to the <code>SshClient</code> ?</p>\n"},{"tags":["java","hibernate","amazon-rds","c3p0"],"answers":[{"tags":[],"owner":{"account_id":59188,"reputation":5386,"user_id":177154,"accept_rate":100,"display_name":"draganstankovic"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690813431,"creation_date":1690769812,"answer_id":76800332,"question_id":76756747,"body_markdown":"If you look at the [source code][1] from where error is coming from:\r\n\r\n```\r\n...\r\n// line 28 is the one below:\r\nHSMessageLogger.SPATIAL_MSG_LOGGER.typeContributions( this.getClass().getCanonicalName() );\r\n...\r\n```\r\n\r\nThe error says: `java.lang.NoSuchFieldError: SPATIAL_MSG_LOGGER` which means that the `HSMessageLogger` does not have the expected field `SPATIAL_MSG_LOGGER`. But, looking at the source here: https://github.com/hibernate/hibernate-orm/blob/main/hibernate-spatial/src/main/java/org/hibernate/spatial/HSMessageLogger.java you can see that the field is initialized which means it is supposed to have value.\r\n\r\nAdditionally, it seems like sometime in Mar 2022 (see: https://github.com/hibernate/hibernate-orm/commit/741b6b71f1552aa224fb61d38b85b32e0b8a19b4#diff-ff75339310aacf045c3aabe5190c15a4d338939a167cf7f39f096dcc7328b1c3) the original `Logger` field name was replaced with the `SPATIAL_MSG_LOGGER` which is failing for you.\r\n\r\nTo summarize the above in how they might be causing the issue you&#39;re seeing, there seems to be:\r\n1) either a mismatch of hibernate/spring/spatial versions in your deploy environment, or\r\n2) your configuration somehow needs to be ordered so spatial logger gets initialized before the code that fails (where stacktrace you shared is coming from) is executed.\r\n\r\nWhat you can try to do is to disable spatial integration and see if this changes anything. The config setting is I believe: `hibernate.integration.spatial.enabled` (by default it is true and you can try to set it to false).\r\n\r\nThe other thing is to try to see if your configuration has some weird versions combo and try to fix that (update everything, explicitly set specific versions where possible so deploy environment can read them properly).\r\n\r\n**EDIT**: (third option) you can also reach out to AWS support and ask them about the error and specifically about how they resolve hibernate dependencies\r\n\r\nI hope this helps or at least give you some ideas where to look at.\r\nGood luck!\r\n\r\n\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/ed88d050f87c0872b1829e6e1a0750ae18478c17/hibernate-spatial/src/main/java/org/hibernate/spatial/dialect/mysql/MySQLDialectContributor.java#L28","title":"java.lang.NoSuchFieldError: SPATIAL_MSG_LOGGER using Hibernate and HibernateC3P0","body":"<p>If you look at the <a href=\"https://github.com/hibernate/hibernate-orm/blob/ed88d050f87c0872b1829e6e1a0750ae18478c17/hibernate-spatial/src/main/java/org/hibernate/spatial/dialect/mysql/MySQLDialectContributor.java#L28\" rel=\"nofollow noreferrer\">source code</a> from where error is coming from:</p>\n<pre><code>...\n// line 28 is the one below:\nHSMessageLogger.SPATIAL_MSG_LOGGER.typeContributions( this.getClass().getCanonicalName() );\n...\n</code></pre>\n<p>The error says: <code>java.lang.NoSuchFieldError: SPATIAL_MSG_LOGGER</code> which means that the <code>HSMessageLogger</code> does not have the expected field <code>SPATIAL_MSG_LOGGER</code>. But, looking at the source here: <a href=\"https://github.com/hibernate/hibernate-orm/blob/main/hibernate-spatial/src/main/java/org/hibernate/spatial/HSMessageLogger.java\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/blob/main/hibernate-spatial/src/main/java/org/hibernate/spatial/HSMessageLogger.java</a> you can see that the field is initialized which means it is supposed to have value.</p>\n<p>Additionally, it seems like sometime in Mar 2022 (see: <a href=\"https://github.com/hibernate/hibernate-orm/commit/741b6b71f1552aa224fb61d38b85b32e0b8a19b4#diff-ff75339310aacf045c3aabe5190c15a4d338939a167cf7f39f096dcc7328b1c3\" rel=\"nofollow noreferrer\">https://github.com/hibernate/hibernate-orm/commit/741b6b71f1552aa224fb61d38b85b32e0b8a19b4#diff-ff75339310aacf045c3aabe5190c15a4d338939a167cf7f39f096dcc7328b1c3</a>) the original <code>Logger</code> field name was replaced with the <code>SPATIAL_MSG_LOGGER</code> which is failing for you.</p>\n<p>To summarize the above in how they might be causing the issue you're seeing, there seems to be:</p>\n<ol>\n<li>either a mismatch of hibernate/spring/spatial versions in your deploy environment, or</li>\n<li>your configuration somehow needs to be ordered so spatial logger gets initialized before the code that fails (where stacktrace you shared is coming from) is executed.</li>\n</ol>\n<p>What you can try to do is to disable spatial integration and see if this changes anything. The config setting is I believe: <code>hibernate.integration.spatial.enabled</code> (by default it is true and you can try to set it to false).</p>\n<p>The other thing is to try to see if your configuration has some weird versions combo and try to fix that (update everything, explicitly set specific versions where possible so deploy environment can read them properly).</p>\n<p><strong>EDIT</strong>: (third option) you can also reach out to AWS support and ask them about the error and specifically about how they resolve hibernate dependencies</p>\n<p>I hope this helps or at least give you some ideas where to look at.\nGood luck!</p>\n"}],"owner":{"account_id":20872516,"reputation":87,"user_id":15332116,"display_name":"Tabiat1739"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690813431,"creation_date":1690219212,"question_id":76756747,"body_markdown":"Trying to query a database using Hibernate and Hibernate C3P0. It works on my local desktop but when I deploy the code, it stops with this error stack:\r\n\r\n```\r\njava.lang.NoSuchFieldError: SPATIAL_MSG_LOGGER\r\n\t2023-07-24T10:14:59.232-07:00\tat org.hibernate.spatial.dialect.mysql.MySQLDialectContributor.contributeJdbcTypes(MySQLDialectContributor.java:28)\r\n\t2023-07-24T10:14:59.232-07:00\tat org.hibernate.spatial.contributor.SpatialTypeContributor.contribute(SpatialTypeContributor.java:22)\r\n\t2023-07-24T10:14:59.232-07:00\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:390)\r\n\t2023-07-24T10:14:59.232-07:00\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143)\r\n\t2023-07-24T10:14:59.232-07:00\tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:97)\r\n\t2023-07-24T10:14:59.232-07:00\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:402)\r\n\t2023-07-24T10:14:59.232-07:00\tat org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:90)\r\n\t2023-07-24T10:14:59.232-07:00\tat org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:735)\r\n```\r\n\r\nNot sure where SPATIAL_MSG_LOGGER is coming from since it isnt a problem on my local desktop and its never called in my code. Also not using anything spatial related in hibernate so Im not sure why it would be trying to call that. \r\n\r\nThere is nothing that comes up for SPATIAL_MSG_LOGGER in any search engine so I dont even know where to begin to look. ","title":"java.lang.NoSuchFieldError: SPATIAL_MSG_LOGGER using Hibernate and HibernateC3P0","body":"<p>Trying to query a database using Hibernate and Hibernate C3P0. It works on my local desktop but when I deploy the code, it stops with this error stack:</p>\n<pre><code>java.lang.NoSuchFieldError: SPATIAL_MSG_LOGGER\n    2023-07-24T10:14:59.232-07:00   at org.hibernate.spatial.dialect.mysql.MySQLDialectContributor.contributeJdbcTypes(MySQLDialectContributor.java:28)\n    2023-07-24T10:14:59.232-07:00   at org.hibernate.spatial.contributor.SpatialTypeContributor.contribute(SpatialTypeContributor.java:22)\n    2023-07-24T10:14:59.232-07:00   at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.handleTypes(MetadataBuildingProcess.java:390)\n    2023-07-24T10:14:59.232-07:00   at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:143)\n    2023-07-24T10:14:59.232-07:00   at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.build(MetadataBuildingProcess.java:97)\n    2023-07-24T10:14:59.232-07:00   at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:402)\n    2023-07-24T10:14:59.232-07:00   at org.hibernate.boot.internal.MetadataBuilderImpl.build(MetadataBuilderImpl.java:90)\n    2023-07-24T10:14:59.232-07:00   at org.hibernate.cfg.Configuration.buildSessionFactory(Configuration.java:735)\n</code></pre>\n<p>Not sure where SPATIAL_MSG_LOGGER is coming from since it isnt a problem on my local desktop and its never called in my code. Also not using anything spatial related in hibernate so Im not sure why it would be trying to call that.</p>\n<p>There is nothing that comes up for SPATIAL_MSG_LOGGER in any search engine so I dont even know where to begin to look.</p>\n"},{"tags":["java","spring","spring-boot","spring-mvc","spring-data-jpa"],"comments":[{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":4,"creation_date":1690813853,"post_id":76804517,"comment_id":135401541,"body_markdown":"The `save` method acts as a &quot;save or update&quot;.  Not sure of what you want to do in this case, but this question is close to yours at least : https://stackoverflow.com/questions/35817584/spring-jpa-repository-prevent-update-on-save","body":"The <code>save</code> method acts as a &quot;save or update&quot;.  Not sure of what you want to do in this case, but this question is close to yours at least : <a href=\"https://stackoverflow.com/questions/35817584/spring-jpa-repository-prevent-update-on-save\" title=\"spring jpa repository prevent update on save\">stackoverflow.com/questions/35817584/&hellip;</a>"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1690814779,"post_id":76804517,"comment_id":135401766,"body_markdown":"I simply wan to prevent adding same record into the database by using @Id annotation since it will make it primary key in database ,so adding the same record again should throw error","body":"I simply wan to prevent adding same record into the database by using @Id annotation since it will make it primary key in database ,so adding the same record again should throw error"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1690815400,"post_id":76804517,"comment_id":135401923,"body_markdown":"@Arnaud adding same id record should  throw error like\n ERROR 1062 (23000): Duplicate entry &#39;1&#39; for key &#39;account.PRIMARY&#39;","body":"@Arnaud adding same id record should  throw error like  ERROR 1062 (23000): Duplicate entry &#39;1&#39; for key &#39;account.PRIMARY&#39;"},{"owner":{"account_id":477214,"reputation":5260,"user_id":888580,"display_name":"lane.maxwell"},"score":1,"creation_date":1690815560,"post_id":76804517,"comment_id":135401958,"body_markdown":"It&#39;s doing exactly what you&#39;re asking it to.  As the first comment states, save does a save or update, so in your case, when you ask it to save the record with ID of 1, it&#39;s simply updating the existing record, which is what it&#39;s supposed to do.","body":"It&#39;s doing exactly what you&#39;re asking it to.  As the first comment states, save does a save or update, so in your case, when you ask it to save the record with ID of 1, it&#39;s simply updating the existing record, which is what it&#39;s supposed to do."},{"owner":{"account_id":317471,"reputation":157,"user_id":2892102,"display_name":"binboavetonik"},"score":1,"creation_date":1690819453,"post_id":76804517,"comment_id":135402808,"body_markdown":"Are you sure you want to get the ID value from the outside when creating the object anyway. Instead you should get it from a sequence of the db ?","body":"Are you sure you want to get the ID value from the outside when creating the object anyway. Instead you should get it from a sequence of the db ?"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":1,"creation_date":1690826115,"post_id":76804517,"comment_id":135404005,"body_markdown":"@binboavetonik i am expecting it to throw error when inserting the same record again in database with save method","body":"@binboavetonik i am expecting it to throw error when inserting the same record again in database with save method"},{"owner":{"account_id":7373320,"reputation":17364,"user_id":5612858,"display_name":"Arnaud"},"score":0,"creation_date":1690868446,"post_id":76804517,"comment_id":135409116,"body_markdown":"See this answer from the linked question, it is easy to implement : https://stackoverflow.com/a/54114617/5612858","body":"See this answer from the linked question, it is easy to implement : <a href=\"https://stackoverflow.com/a/54114617/5612858\">stackoverflow.com/a/54114617/5612858</a>"},{"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"score":0,"creation_date":1690868672,"post_id":76804517,"comment_id":135409140,"body_markdown":"@Arnaud what is concept of Id annotation  which is used to indicate primary key in database , if we have to check programmatically if record need to be checked by userRepository.existsById(username)","body":"@Arnaud what is concept of Id annotation  which is used to indicate primary key in database , if we have to check programmatically if record need to be checked by userRepository.existsById(username)"},{"owner":{"account_id":22585429,"reputation":286,"user_id":16769477,"display_name":"Jay Yadav"},"score":0,"creation_date":1690951822,"post_id":76804517,"comment_id":135422695,"body_markdown":"Entity class is just a replica of your Table structure, like every good table have a primary key so is the Entity have `@Id`, this Id is used with JPA repository this is how the Spring JPA have been designed. You have to check if the record exists or else its bound to be overwritten, you can also use native query if you want though.","body":"Entity class is just a replica of your Table structure, like every good table have a primary key so is the Entity have <code>@Id</code>, this Id is used with JPA repository this is how the Spring JPA have been designed. You have to check if the record exists or else its bound to be overwritten, you can also use native query if you want though."},{"owner":{"account_id":317471,"reputation":157,"user_id":2892102,"display_name":"binboavetonik"},"score":0,"creation_date":1690971148,"post_id":76804517,"comment_id":135426195,"body_markdown":"@AmitBhatiwal you can never be sure programatically without a global lock even if you check with existsById. After you read and make sure of no record, before you insert someone else can insert. So if you want an exception with save you have to implement it with a INSERT statement yourself","body":"@AmitBhatiwal you can never be sure programatically without a global lock even if you check with existsById. After you read and make sure of no record, before you insert someone else can insert. So if you want an exception with save you have to implement it with a INSERT statement yourself"}],"owner":{"account_id":26043625,"reputation":61,"user_id":19747944,"display_name":"Amit Bhatiwal"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":82,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690813225,"creation_date":1690813225,"question_id":76804517,"body_markdown":"i am new to Spring data jpa and learning how to save data in database . I have this entity \r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Getter\r\n    @Setter\r\n    @Builder\r\n    @Entity\r\n    @Table(name = &quot;account&quot;)\r\n    public class Account {\r\n    \r\n        @Id\r\n        private int id;\r\n    \r\n        private String password;\r\n    \r\n    }\r\n\r\nService layer \r\n\r\n    @Service\r\n    public class AccountsService {\r\n    \r\n        @Autowired\r\n        private AccountDAO accountDAO;\r\n    \r\n        public ResponseEntity&lt;?&gt; addAccount( Account account) {\r\n            try {\r\n                Account response = accountDAO.save(account);\r\n       \r\n                if (response != null) {\r\n                    return ResponseEntity.status(HttpStatus.CREATED).body(response);\r\n                } else {\r\n                    return ResponseEntity.status(HttpStatus.UNPROCESSABLE_ENTITY).build();\r\n                }\r\n            } catch (Exception e) {\r\n                return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        public ResponseEntity&lt;?&gt; getAllAccounts() {\r\n            List&lt;Account&gt; accounts = accountDAO.findAll();\r\n            if(accounts!=null &amp;&amp; accounts.size()&gt;0) {\r\n                return ResponseEntity.status(HttpStatus.OK).body(accounts);\r\n            } else {\r\n                return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;No Accounts exists&quot;);\r\n            }\r\n        }\r\n    }\r\n\r\n    @RestController\r\n    public class AccountController {\r\n    \r\n    \r\n        @Autowired\r\n        private AccountsService accountsService;\r\n    \r\n        @PostMapping(&quot;api/v1/addAccount&quot;)\r\n        private ResponseEntity&lt;?&gt; addAccount(@RequestBody Account account) {\r\n           return accountsService.addAccount(account);\r\n        }\r\n    \r\n    \r\n        @GetMapping(&quot;/api/v1/getAccounts&quot;)\r\n        private ResponseEntity&lt;?&gt; getAccounts() {\r\n            return  accountsService.getAllAccounts();\r\n        }\r\n    \r\n    }\r\n\r\nDao \r\n\r\n    import com.example.examDummy.models.Account;\r\n    import org.springframework.data.jpa.repository.JpaRepository;\r\n    \r\n    public interface AccountDAO extends JpaRepository&lt;Account,Integer&gt; {\r\n    }\r\n\r\n\r\nnow when i try to add Account with following json \r\n\r\n    {\r\n        &quot;id&quot;:1,\r\n        &quot;password&quot;:&quot;fddfdfd@X123&quot;\r\n        \r\n    }\r\n\r\ni am getting response \r\n\r\n    {\r\n    &quot;id&quot;: 1,\r\n    &quot;password&quot;: &quot;fddfdfd@X123&quot;\r\n    }\r\n\r\nwhich is expected only but when i try to add one more account with same id and its json is like this  \r\n\r\n    {\r\n    &quot;id&quot;: 1,\r\n    &quot;password&quot;: &quot;Amit@123&quot;\r\n    }\r\ni am getting this response \r\n\r\n    {\r\n    &quot;id&quot;: 1,\r\n    &quot;password&quot;: &quot;Amit@123&quot;\r\n    }\r\n\r\nwhich is not expected since it should be primary constraint violation.Can anyone please help me resolve this issue \r\n\r\nthis is schema of account table \r\n\r\n    mysql&gt; describe account ;\r\n    +----------+--------------+------+-----+---------+-------+\r\n    | Field    | Type         | Null | Key | Default | Extra |\r\n    +----------+--------------+------+-----+---------+-------+\r\n    | id       | int          | NO   | PRI | NULL    |       |\r\n    | password | varchar(255) | YES  |     | NULL    |       |\r\n    +----------+--------------+------+-----+---------+-------+\r\n    2 rows in set (0.00 sec)\r\n    \r\n    mysql&gt;\r\n\r\n\r\n\r\n\r\n\r\n","title":"Saving with duplicate Primary key in spring is replacing its previous record value","body":"<p>i am new to Spring data jpa and learning how to save data in database . I have this entity</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Getter\n@Setter\n@Builder\n@Entity\n@Table(name = &quot;account&quot;)\npublic class Account {\n\n    @Id\n    private int id;\n\n    private String password;\n\n}\n</code></pre>\n<p>Service layer</p>\n<pre><code>@Service\npublic class AccountsService {\n\n    @Autowired\n    private AccountDAO accountDAO;\n\n    public ResponseEntity&lt;?&gt; addAccount( Account account) {\n        try {\n            Account response = accountDAO.save(account);\n   \n            if (response != null) {\n                return ResponseEntity.status(HttpStatus.CREATED).body(response);\n            } else {\n                return ResponseEntity.status(HttpStatus.UNPROCESSABLE_ENTITY).build();\n            }\n        } catch (Exception e) {\n            return ResponseEntity.status(HttpStatus.INTERNAL_SERVER_ERROR).body(e.getMessage());\n        }\n\n    }\n\n\n    public ResponseEntity&lt;?&gt; getAllAccounts() {\n        List&lt;Account&gt; accounts = accountDAO.findAll();\n        if(accounts!=null &amp;&amp; accounts.size()&gt;0) {\n            return ResponseEntity.status(HttpStatus.OK).body(accounts);\n        } else {\n            return ResponseEntity.status(HttpStatus.NOT_FOUND).body(&quot;No Accounts exists&quot;);\n        }\n    }\n}\n\n@RestController\npublic class AccountController {\n\n\n    @Autowired\n    private AccountsService accountsService;\n\n    @PostMapping(&quot;api/v1/addAccount&quot;)\n    private ResponseEntity&lt;?&gt; addAccount(@RequestBody Account account) {\n       return accountsService.addAccount(account);\n    }\n\n\n    @GetMapping(&quot;/api/v1/getAccounts&quot;)\n    private ResponseEntity&lt;?&gt; getAccounts() {\n        return  accountsService.getAllAccounts();\n    }\n\n}\n</code></pre>\n<p>Dao</p>\n<pre><code>import com.example.examDummy.models.Account;\nimport org.springframework.data.jpa.repository.JpaRepository;\n\npublic interface AccountDAO extends JpaRepository&lt;Account,Integer&gt; {\n}\n</code></pre>\n<p>now when i try to add Account with following json</p>\n<pre><code>{\n    &quot;id&quot;:1,\n    &quot;password&quot;:&quot;fddfdfd@X123&quot;\n    \n}\n</code></pre>\n<p>i am getting response</p>\n<pre><code>{\n&quot;id&quot;: 1,\n&quot;password&quot;: &quot;fddfdfd@X123&quot;\n}\n</code></pre>\n<p>which is expected only but when i try to add one more account with same id and its json is like this</p>\n<pre><code>{\n&quot;id&quot;: 1,\n&quot;password&quot;: &quot;Amit@123&quot;\n}\n</code></pre>\n<p>i am getting this response</p>\n<pre><code>{\n&quot;id&quot;: 1,\n&quot;password&quot;: &quot;Amit@123&quot;\n}\n</code></pre>\n<p>which is not expected since it should be primary constraint violation.Can anyone please help me resolve this issue</p>\n<p>this is schema of account table</p>\n<pre><code>mysql&gt; describe account ;\n+----------+--------------+------+-----+---------+-------+\n| Field    | Type         | Null | Key | Default | Extra |\n+----------+--------------+------+-----+---------+-------+\n| id       | int          | NO   | PRI | NULL    |       |\n| password | varchar(255) | YES  |     | NULL    |       |\n+----------+--------------+------+-----+---------+-------+\n2 rows in set (0.00 sec)\n\nmysql&gt;\n</code></pre>\n"},{"tags":["java","swagger-ui"],"comments":[{"owner":{"account_id":5973459,"reputation":774,"user_id":4695118,"accept_rate":0,"display_name":"Andrew Sneck"},"score":0,"creation_date":1590157618,"post_id":50229661,"comment_id":109582332,"body_markdown":"This sould be good feature request on springfox team","body":"This sould be good feature request on springfox team"},{"owner":{"account_id":6422313,"reputation":921,"user_id":4978689,"accept_rate":71,"display_name":"mindOf_L"},"score":0,"creation_date":1607212240,"post_id":50229661,"comment_id":115202430,"body_markdown":"See this [answer](https://stackoverflow.com/a/55031852/4978689), I tried and it works.","body":"See this <a href=\"https://stackoverflow.com/a/55031852/4978689\">answer</a>, I tried and it works."}],"answers":[{"tags":[],"owner":{"account_id":13730778,"reputation":146,"user_id":9908353,"display_name":"Navin"},"down_vote_count":0,"up_vote_count":13,"is_accepted":true,"score":13,"last_activity_date":1528368910,"creation_date":1528368410,"answer_id":50739276,"question_id":50229661,"body_markdown":"Add the attribute description to `@Api`:\r\n\r\nFor example:\r\n\r\n    @Api(value = &quot;Test API Controller&quot;, produces = MediaType.APPLICATION_JSON_VALUE, tags = {&quot;test-api-controller&quot;}, description = &quot;Testing API&quot;) ","title":"How to remove controller list from Swagger UI","body":"<p>Add the attribute description to <code>@Api</code>:</p>\n\n<p>For example:</p>\n\n<pre><code>@Api(value = \"Test API Controller\", produces = MediaType.APPLICATION_JSON_VALUE, tags = {\"test-api-controller\"}, description = \"Testing API\") \n</code></pre>\n"},{"tags":[],"owner":{"account_id":13150100,"reputation":441,"user_id":9498993,"display_name":"Victor Oniagba"},"down_vote_count":0,"up_vote_count":32,"is_accepted":false,"score":32,"last_activity_date":1550268801,"creation_date":1550268801,"answer_id":54717754,"question_id":50229661,"body_markdown":"Try this attribute on the controller\r\n\r\n`[ApiExplorerSettings(IgnoreApi = true)]`","title":"How to remove controller list from Swagger UI","body":"<p>Try this attribute on the controller</p>\n\n<p><code>[ApiExplorerSettings(IgnoreApi = true)]</code></p>\n"},{"tags":[],"owner":{"account_id":17969238,"reputation":1,"user_id":13058427,"display_name":"user13058427"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1584121413,"creation_date":1584120911,"answer_id":60674960,"question_id":50229661,"body_markdown":"springfox api version 2.9.2 \r\n\r\nworks with the below example by adding on a controller class\r\n\r\n@Api(value = &quot;Test API Controller&quot;, tags = {&quot;test-api-controller&quot;}, description = &quot;Testing API&quot;)","title":"How to remove controller list from Swagger UI","body":"<p>springfox api version 2.9.2 </p>\n\n<p>works with the below example by adding on a controller class</p>\n\n<p>@Api(value = \"Test API Controller\", tags = {\"test-api-controller\"}, description = \"Testing API\")</p>\n"},{"tags":[],"owner":{"account_id":3139777,"reputation":1462,"user_id":2887300,"display_name":"Tran Ho"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1596699231,"creation_date":1596699231,"answer_id":63278853,"question_id":50229661,"body_markdown":"I expected the `hidden` attribute will work but it doesn&#39;t. I also tried to set `description` and also doesn&#39;t work. \r\n\r\nAnother solution is to use the `tag` in the @Api can help you temporarily hide this rest-controllers list and categorize your APIs in different tags. ","title":"How to remove controller list from Swagger UI","body":"<p>I expected the <code>hidden</code> attribute will work but it doesn't. I also tried to set <code>description</code> and also doesn't work.</p>\n<p>Another solution is to use the <code>tag</code> in the @Api can help you temporarily hide this rest-controllers list and categorize your APIs in different tags.</p>\n"},{"tags":[],"owner":{"account_id":20024941,"reputation":111,"user_id":14678978,"display_name":"Shane Park"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1651153242,"creation_date":1647407715,"answer_id":71492082,"question_id":50229661,"body_markdown":"on springfox v3.0 tried almost every annotations and finally  \r\n@ApiIgnore annotation works.  \r\nDon&#39;t know why @Api(hidden=true) doesn&#39;t work.\r\n\r\n```\r\nimport springfox.documentation.annotations.ApiIgnore;\r\n@ApiIgnore\r\n@Responsebody\r\npublic Object ...{}\r\n```","title":"How to remove controller list from Swagger UI","body":"<p>on springfox v3.0 tried almost every annotations and finally<br />\n@ApiIgnore annotation works.<br />\nDon't know why @Api(hidden=true) doesn't work.</p>\n<pre><code>import springfox.documentation.annotations.ApiIgnore;\n@ApiIgnore\n@Responsebody\npublic Object ...{}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16348496,"reputation":179,"user_id":11807648,"display_name":"Maulik Boghara"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1676958324,"creation_date":1676958324,"answer_id":75516697,"question_id":50229661,"body_markdown":"\r\nSet the attribute at controller level\r\n[ApiExplorerSettings(IgnoreApi = true)]\r\n\r\nTo hide the property just use \r\n[JsonIgnore]\r\ni.e., namespace system.text.json.serialization\r\n","title":"How to remove controller list from Swagger UI","body":"<p>Set the attribute at controller level\n[ApiExplorerSettings(IgnoreApi = true)]</p>\n<p>To hide the property just use\n[JsonIgnore]\ni.e., namespace system.text.json.serialization</p>\n"},{"tags":[],"owner":{"account_id":4681256,"reputation":112,"user_id":3789907,"display_name":"Christian Oliver"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690813005,"creation_date":1690813005,"answer_id":76804491,"question_id":50229661,"body_markdown":"If you are using the OpenAPI `@ApiIgnore` and `@Api` annotations may not work.\r\n\r\nUse `@Hidden` annotation on the controller you want swagger-ui to ignore/exclude and thank me later.\r\n\r\nHappy coding :)","title":"How to remove controller list from Swagger UI","body":"<p>If you are using the OpenAPI <code>@ApiIgnore</code> and <code>@Api</code> annotations may not work.</p>\n<p>Use <code>@Hidden</code> annotation on the controller you want swagger-ui to ignore/exclude and thank me later.</p>\n<p>Happy coding :)</p>\n"}],"owner":{"account_id":400621,"reputation":681,"user_id":766695,"accept_rate":100,"display_name":"think01"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29562,"favorite_count":0,"down_vote_count":0,"up_vote_count":28,"accepted_answer_id":50739276,"answer_count":7,"score":28,"last_activity_date":1690813005,"creation_date":1525769571,"question_id":50229661,"body_markdown":"I&#39;m using springfox-swagger-ui 2.8.0 which ships with Swagger UI 3.7.0.\r\n\r\nI want to get rid of the controller list in front of the api documentation page, pretty useless for me (every tab is empty).\r\n\r\nI&#39;ve already tried to annotate the controller class with @ApiIgnore, but of course this removes the rest api documentation as well, which I need.\r\n\r\nBasically, I want to remove this:\r\n\r\n[![Controller list to remove/hide][1]][1]\r\n\r\nwhile keeping this:\r\n\r\n[![REST api docs to keep][2]][2]\r\n\r\nI digged through online docs, GitHub issues, StackOverflow questions, Google... nothing. Am I the only with this request?\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/is3XQ.png\r\n  [2]: https://i.stack.imgur.com/msQf3.png","title":"How to remove controller list from Swagger UI","body":"<p>I'm using springfox-swagger-ui 2.8.0 which ships with Swagger UI 3.7.0.</p>\n\n<p>I want to get rid of the controller list in front of the api documentation page, pretty useless for me (every tab is empty).</p>\n\n<p>I've already tried to annotate the controller class with @ApiIgnore, but of course this removes the rest api documentation as well, which I need.</p>\n\n<p>Basically, I want to remove this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/is3XQ.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/is3XQ.png\" alt=\"Controller list to remove/hide\"></a></p>\n\n<p>while keeping this:</p>\n\n<p><a href=\"https://i.stack.imgur.com/msQf3.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/msQf3.png\" alt=\"REST api docs to keep\"></a></p>\n\n<p>I digged through online docs, GitHub issues, StackOverflow questions, Google... nothing. Am I the only with this request?</p>\n"},{"tags":["java","multithreading","spring-mvc","spring-boot"],"comments":[{"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"score":8,"creation_date":1431410391,"post_id":30171027,"comment_id":48471391,"body_markdown":"There would be a threading issue if the controller had a state. But it doesn&#39;t have any. All you&#39;re manipulating here are local variables, and each thread has its own, unshared, local variables. There&#39;s no way one thread sees local variables of another thread.","body":"There would be a threading issue if the controller had a state. But it doesn&#39;t have any. All you&#39;re manipulating here are local variables, and each thread has its own, unshared, local variables. There&#39;s no way one thread sees local variables of another thread."}],"answers":[{"tags":[],"owner":{"account_id":111563,"reputation":13269,"user_id":294657,"accept_rate":85,"display_name":"kaqqao"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1690812599,"creation_date":1431357914,"answer_id":30171660,"question_id":30171027,"body_markdown":"With all frameworks of that type, it is safe to assume that the **controller methods will be processed simultaneously** (i.e. in multiple concurrent threads). Furthermore, it is a serious performance hit to do it in any other way (yes, there are frameworks designed very differently from the ground-up, but we&#39;re not talking about those now). \r\n\r\nSpring itself has no way of knowing that the account id part of the URL is somehow special to synchronize on it. If it would synchronize on URL level, it would bring the performance down to a crawl. You could always implement this logic yourself by, for example, synchronizing on a session-scoped object that this controller method operates on (or make the entire controller session-scoped as [Leo&#39;s answer](https://stackoverflow.com/a/35579336/294657) suggests). This would then serialize the calls for that user only (that HTTP session). You could have a globally shared lock if you&#39;d want to synchronize between all users, but that&#39;s a really bad idea for reasons mentioned above. \r\n\r\nInstead, design your application in a way that all controllers are completely stateless and make methods either idempotent if possible or have a correct precondition checking logic. If the method is writing to a DB, you could implement an optimistic-locking strategy. Hibernate already has that feature and some DBs/drivers have it as well, so look into what&#39;s applicable to your case.\r\n\r\n**UPDATE**\r\n\r\nIn the provided example, both threads are saving an instance (I&#39;m assuming save means insert/update as needed) and the returned object is the result of the current save operation, thus no strange inter-thread behavior. This is  assuming the save is transactional with a reasonable transaction isolation level (every other assumption would be highly unusual). As it is, the second thread would simply overwrite the values written by the first, but that is probably what you&#39;d expect. That said, you&#39;re only reading the id in the following line, and that presumably never changes, so the URL building seems unaffected by concurrency anyway.","title":"Is Spring Boot MVC controller multithreaded?","body":"<p>With all frameworks of that type, it is safe to assume that the <strong>controller methods will be processed simultaneously</strong> (i.e. in multiple concurrent threads). Furthermore, it is a serious performance hit to do it in any other way (yes, there are frameworks designed very differently from the ground-up, but we're not talking about those now).</p>\n<p>Spring itself has no way of knowing that the account id part of the URL is somehow special to synchronize on it. If it would synchronize on URL level, it would bring the performance down to a crawl. You could always implement this logic yourself by, for example, synchronizing on a session-scoped object that this controller method operates on (or make the entire controller session-scoped as <a href=\"https://stackoverflow.com/a/35579336/294657\">Leo's answer</a> suggests). This would then serialize the calls for that user only (that HTTP session). You could have a globally shared lock if you'd want to synchronize between all users, but that's a really bad idea for reasons mentioned above.</p>\n<p>Instead, design your application in a way that all controllers are completely stateless and make methods either idempotent if possible or have a correct precondition checking logic. If the method is writing to a DB, you could implement an optimistic-locking strategy. Hibernate already has that feature and some DBs/drivers have it as well, so look into what's applicable to your case.</p>\n<p><strong>UPDATE</strong></p>\n<p>In the provided example, both threads are saving an instance (I'm assuming save means insert/update as needed) and the returned object is the result of the current save operation, thus no strange inter-thread behavior. This is  assuming the save is transactional with a reasonable transaction isolation level (every other assumption would be highly unusual). As it is, the second thread would simply overwrite the values written by the first, but that is probably what you'd expect. That said, you're only reading the id in the following line, and that presumably never changes, so the URL building seems unaffected by concurrency anyway.</p>\n"},{"tags":[],"owner":{"account_id":3210091,"reputation":5835,"user_id":2710256,"accept_rate":46,"display_name":"breakline"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1431358117,"creation_date":1431358117,"answer_id":30171744,"question_id":30171027,"body_markdown":"Most servlets start a separate thread for each incoming request and Spring isnt an exception to that. You need to make sure that the shared beans are thread safe. Otherwise Spring takes care of the rest. ","title":"Is Spring Boot MVC controller multithreaded?","body":"<p>Most servlets start a separate thread for each incoming request and Spring isnt an exception to that. You need to make sure that the shared beans are thread safe. Otherwise Spring takes care of the rest. </p>\n"},{"tags":[],"owner":{"account_id":6550845,"reputation":1029,"user_id":5065316,"accept_rate":43,"display_name":"Leo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1456235375,"creation_date":1456235375,"answer_id":35579336,"question_id":30171027,"body_markdown":"The solution to the problem may be the following:\r\n\r\n1. Annotate Controller with @Scope(“request”) or @Scope(“session”)\r\n2. Move private variable into one of the methods or save it in session or model\r\n\r\nI got it from [there][1]\r\n\r\n\r\n  [1]: https://studiofreya.com/2012/02/06/spring-mvc-how-to-build-a-thread-safe-controller/","title":"Is Spring Boot MVC controller multithreaded?","body":"<p>The solution to the problem may be the following:</p>\n\n<ol>\n<li>Annotate Controller with @Scope(“request”) or @Scope(“session”)</li>\n<li>Move private variable into one of the methods or save it in session or model</li>\n</ol>\n\n<p>I got it from <a href=\"https://studiofreya.com/2012/02/06/spring-mvc-how-to-build-a-thread-safe-controller/\" rel=\"nofollow\">there</a></p>\n"}],"owner":{"account_id":3627999,"reputation":1418,"user_id":3025055,"accept_rate":48,"display_name":"PaintedRed"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":33274,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":3,"score":13,"last_activity_date":1690812599,"creation_date":1431356178,"question_id":30171027,"body_markdown":"I&#39;m new to Spring MVC and I didn&#39;t find anything about this in doc.\r\nLet&#39;s say I have a controller /accounts which accepts POST requests to create an account.\r\nTwo requests comes (almost) in the same time with the same account id.\r\nASFAIK `dispatcherServlet` manages the requests.\r\n\r\nIs the 2nd request put in queue until the first one has been completed?\r\nOr there would be two threads working with two requests simultaneously? \r\n\r\n**UPDATE:**\r\nCheck the official Spring tutorial: [Building a REST service][1].\r\nThere is controller with method `add`:\r\n\r\n    @RequestMapping(method = RequestMethod.POST)\r\n\tResponseEntity&lt;?&gt; add(@PathVariable String userId, @RequestBody Bookmark input) {\r\n\t\tthis.validateUser(userId);\r\n\t\treturn this.accountRepository\r\n\t\t\t\t.findByUsername(userId)\r\n\t\t\t\t.map(account -&gt; {\r\n\t\t\t\t\tBookmark result = bookmarkRepository.save(new Bookmark(account,\r\n\t\t\t\t\t\t\tinput.uri, input.description));\r\n\r\n\t\t\t\t\tHttpHeaders httpHeaders = new HttpHeaders();\r\n\t\t\t\t\thttpHeaders.setLocation(ServletUriComponentsBuilder\r\n\t\t\t\t\t\t\t.fromCurrentRequest().path(&quot;/{id}&quot;)\r\n\t\t\t\t\t\t\t.buildAndExpand(result.getId()).toUri());\r\n\t\t\t\t\treturn new ResponseEntity&lt;&gt;(null, httpHeaders, HttpStatus.CREATED);\r\n\t\t\t\t}).get();\r\n\r\n\t}\r\n\r\nControllers are just beans, by default they are singleton. \r\nWhen two simultaneous requests are received the same instance of the controller is used by two threads. Let&#39;s imagine the 1st thread already saved new bookmark and executing \r\n\r\n    httpHeaders.setLocation(ServletUriComponentsBuilder\r\n                        .fromCurrentRequest().path(&quot;/{id}&quot;)\r\n                        .buildAndExpand(result.getId()).toUri());\r\nMeanwhile the 2nd thread just executed \r\n\r\n    Bookmark result = bookmarkRepository.save(new Bookmark(account,\r\n                        input.uri, input.description));\r\nIn this case the first thread will return `result.getId()).toUri()` which is created by the 2nd thread. \r\n\r\nIs it correct workflow and is this controller thread-safe?\r\n\r\n  [1]: http://spring.io/guides/tutorials/bookmarks/#_building_a_rest_service","title":"Is Spring Boot MVC controller multithreaded?","body":"<p>I'm new to Spring MVC and I didn't find anything about this in doc.\nLet's say I have a controller /accounts which accepts POST requests to create an account.\nTwo requests comes (almost) in the same time with the same account id.\nASFAIK <code>dispatcherServlet</code> manages the requests.</p>\n\n<p>Is the 2nd request put in queue until the first one has been completed?\nOr there would be two threads working with two requests simultaneously? </p>\n\n<p><strong>UPDATE:</strong>\nCheck the official Spring tutorial: <a href=\"http://spring.io/guides/tutorials/bookmarks/#_building_a_rest_service\" rel=\"noreferrer\">Building a REST service</a>.\nThere is controller with method <code>add</code>:</p>\n\n<pre><code>@RequestMapping(method = RequestMethod.POST)\nResponseEntity&lt;?&gt; add(@PathVariable String userId, @RequestBody Bookmark input) {\n    this.validateUser(userId);\n    return this.accountRepository\n            .findByUsername(userId)\n            .map(account -&gt; {\n                Bookmark result = bookmarkRepository.save(new Bookmark(account,\n                        input.uri, input.description));\n\n                HttpHeaders httpHeaders = new HttpHeaders();\n                httpHeaders.setLocation(ServletUriComponentsBuilder\n                        .fromCurrentRequest().path(\"/{id}\")\n                        .buildAndExpand(result.getId()).toUri());\n                return new ResponseEntity&lt;&gt;(null, httpHeaders, HttpStatus.CREATED);\n            }).get();\n\n}\n</code></pre>\n\n<p>Controllers are just beans, by default they are singleton. \nWhen two simultaneous requests are received the same instance of the controller is used by two threads. Let's imagine the 1st thread already saved new bookmark and executing </p>\n\n<pre><code>httpHeaders.setLocation(ServletUriComponentsBuilder\n                    .fromCurrentRequest().path(\"/{id}\")\n                    .buildAndExpand(result.getId()).toUri());\n</code></pre>\n\n<p>Meanwhile the 2nd thread just executed </p>\n\n<pre><code>Bookmark result = bookmarkRepository.save(new Bookmark(account,\n                    input.uri, input.description));\n</code></pre>\n\n<p>In this case the first thread will return <code>result.getId()).toUri()</code> which is created by the 2nd thread. </p>\n\n<p>Is it correct workflow and is this controller thread-safe?</p>\n"},{"tags":["java","apache-kafka","apache-kafka-streams"],"comments":[{"owner":{"account_id":6384814,"reputation":60263,"user_id":4953079,"display_name":"Matthias J. Sax"},"score":0,"creation_date":1691193298,"post_id":76801628,"comment_id":135463806,"body_markdown":"It&#39;s currently not possible to disable this changelog. The `Materialize` config you pass in, is for the join result table only. Can you file a ticket for it: https://issues.apache.org/jira/issues/","body":"It&#39;s currently not possible to disable this changelog. The <code>Materialize</code> config you pass in, is for the join result table only. Can you file a ticket for it: <a href=\"https://issues.apache.org/jira/issues/\" rel=\"nofollow noreferrer\">issues.apache.org/jira/issues</a>"},{"owner":{"account_id":27075919,"reputation":1,"user_id":20625866,"display_name":"R K 0"},"score":1,"creation_date":1691851661,"post_id":76801628,"comment_id":135548914,"body_markdown":"Raised a ticket for this - [KAFKA-15337](https://issues.apache.org/jira/browse/KAFKA-15337).","body":"Raised a ticket for this - <a href=\"https://issues.apache.org/jira/browse/KAFKA-15337\" rel=\"nofollow noreferrer\">KAFKA-15337</a>."}],"owner":{"account_id":27075919,"reputation":1,"user_id":20625866,"display_name":"R K 0"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690812436,"creation_date":1690789765,"question_id":76801628,"body_markdown":"When we do foreign key join in kafka streams, it creates 3 state stores (as given on [confluent page](https://www.confluent.io/blog/data-enrichment-with-kafka-streams-foreign-key-joins/)) :\r\n\r\n&gt; The three state stores involved are:\r\n&gt;\r\n&gt; 1. left-STATE-STORE-0000000000: The left-hand-side KTable store.\r\n&gt; 2. right-STATE-STORE-0000000003: The left-hand-side KTable store.\r\n&gt; 3. myjoin-subscription-store: The subscription store for the join. This is the new data structure discussed above. Regardless of the operation name, this store is always suffixed -subscription-store. *Note for your capacity planning that this store will also have a corresponding changelog, called **myjoin-subscription-store-changelog***.\r\n\r\nCan we disable this **myjoin-subscription-store-changelog** topic creation? \r\n\r\nI know for source topics KTable materialization, we can disable this by adding Materialized.withLggingDisabled(). \r\n\r\nBut, Materialized.withLggingDisabled() does not seem to work while doing join. I tried passing this argument while doing join as below, but it did not work:\r\n\r\n    KTable&lt;K, V&gt; ktable = leftKTable.join(rightKTable, \r\n        foreignKeyExtractor, \r\n        joiner, \r\n        Named.as(&quot;dummy-topic&quot;), \r\n        Materialized.&lt;K, V, KeyValueStore&lt;Bytes, byte[]&gt;&gt;\r\n            with(KeySerde, ValueSerde)\r\n            .withLoggingDisabled());\r\n\r\nI was still getting the error:\r\n\r\n    org.apache.kafka.streams.errors.StreamsException: Could not create topic [application.id]-dummy-topic-subscription-store-changelog.\r\n        at org.apache.kafka.streams.processor.internals.InternalTopicManager.makeReady(InternalTopicManager.java:150)\r\n        ....","title":"Disable *-subscription-store-changelog topic creation for foreign key join in Kafka Streams","body":"<p>When we do foreign key join in kafka streams, it creates 3 state stores (as given on <a href=\"https://www.confluent.io/blog/data-enrichment-with-kafka-streams-foreign-key-joins/\" rel=\"nofollow noreferrer\">confluent page</a>) :</p>\n<blockquote>\n<p>The three state stores involved are:</p>\n<ol>\n<li>left-STATE-STORE-0000000000: The left-hand-side KTable store.</li>\n<li>right-STATE-STORE-0000000003: The left-hand-side KTable store.</li>\n<li>myjoin-subscription-store: The subscription store for the join. This is the new data structure discussed above. Regardless of the operation name, this store is always suffixed -subscription-store. <em>Note for your capacity planning that this store will also have a corresponding changelog, called <strong>myjoin-subscription-store-changelog</strong></em>.</li>\n</ol>\n</blockquote>\n<p>Can we disable this <strong>myjoin-subscription-store-changelog</strong> topic creation?</p>\n<p>I know for source topics KTable materialization, we can disable this by adding Materialized.withLggingDisabled().</p>\n<p>But, Materialized.withLggingDisabled() does not seem to work while doing join. I tried passing this argument while doing join as below, but it did not work:</p>\n<pre><code>KTable&lt;K, V&gt; ktable = leftKTable.join(rightKTable, \n    foreignKeyExtractor, \n    joiner, \n    Named.as(&quot;dummy-topic&quot;), \n    Materialized.&lt;K, V, KeyValueStore&lt;Bytes, byte[]&gt;&gt;\n        with(KeySerde, ValueSerde)\n        .withLoggingDisabled());\n</code></pre>\n<p>I was still getting the error:</p>\n<pre><code>org.apache.kafka.streams.errors.StreamsException: Could not create topic [application.id]-dummy-topic-subscription-store-changelog.\n    at org.apache.kafka.streams.processor.internals.InternalTopicManager.makeReady(InternalTopicManager.java:150)\n    ....\n</code></pre>\n"},{"tags":["java","android","json","retrofit"],"comments":[{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690433471,"post_id":76776489,"comment_id":135353773,"body_markdown":"According to the image of your error, you are getting `ClassCastException`. Do you know what that is? Are you doing an explicit cast in your code? I did not see any explicit cast in the code in your question. By the way, it is recommended **not** to post [images](https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors) of your error.","body":"According to the image of your error, you are getting <code>ClassCastException</code>. Do you know what that is? Are you doing an explicit cast in your code? I did not see any explicit cast in the code in your question. By the way, it is recommended <b>not</b> to post <a href=\"https://meta.stackoverflow.com/questions/285551/why-should-i-not-upload-images-of-code-data-errors\">images</a> of your error."},{"owner":{"account_id":27495660,"reputation":19,"user_id":20980207,"display_name":"Naresh Pradhan"},"score":0,"creation_date":1690434515,"post_id":76776489,"comment_id":135353888,"body_markdown":"I really fail to understand from where this ClassCastException is happening. If I remove this function fetchingOrderStatusData() or even if I remove that inside FOR loop from my MainActivity, then app is running perfectly fine with no crashes. That means some issues with the code: arrOrderStatus.get(i).getOrderid(). Why it&#39;s not able to extract correct info whereas we can get desired values through arrOrderStatus.toString().","body":"I really fail to understand from where this ClassCastException is happening. If I remove this function fetchingOrderStatusData() or even if I remove that inside FOR loop from my MainActivity, then app is running perfectly fine with no crashes. That means some issues with the code: arrOrderStatus.get(i).getOrderid(). Why it&#39;s not able to extract correct info whereas we can get desired values through arrOrderStatus.toString()."},{"owner":{"account_id":2485939,"reputation":19426,"user_id":2164365,"accept_rate":40,"display_name":"Abra"},"score":0,"creation_date":1690434881,"post_id":76776489,"comment_id":135353931,"body_markdown":"`com.project.localshop` - is that your package? If it is then according to the stack trace, you should look at line 235 in file `SourceFile`.","body":"<code>com.project.localshop</code> - is that your package? If it is then according to the stack trace, you should look at line 235 in file <code>SourceFile</code>."},{"owner":{"account_id":27495660,"reputation":19,"user_id":20980207,"display_name":"Naresh Pradhan"},"score":0,"creation_date":1690435351,"post_id":76776489,"comment_id":135354000,"body_markdown":"At line 235, nothing is there, just a comment. As I told before, If I remove this function fetchingOrderStatusData() or even if I remove that inside FOR loop from my MainActivity, then app is running perfectly fine with no crashes. That means some issues with the code: arrOrderStatus.get(i).getOrderid() which is triggering this ClassCastException error.","body":"At line 235, nothing is there, just a comment. As I told before, If I remove this function fetchingOrderStatusData() or even if I remove that inside FOR loop from my MainActivity, then app is running perfectly fine with no crashes. That means some issues with the code: arrOrderStatus.get(i).getOrderid() which is triggering this ClassCastException error."}],"answers":[{"tags":[],"owner":{"account_id":27495660,"reputation":19,"user_id":20980207,"display_name":"Naresh Pradhan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690811643,"creation_date":1690449835,"answer_id":76778303,"question_id":76776489,"body_markdown":"I&#39;ve used R8 for obfuscation, and missed to mention `@Keep` in Response Model because of which the functions like `getOrderid()` too got obfuscated. After I added `@Keep` at the beginning of Response Model, then the code worked fine.\r\n\r\n```\r\n@Keep\r\npublic class response_model_order_status {\r\n    String orderid;\r\n\r\n    public response_model_order_status() {\r\n    }\r\n\r\n    public response_model_order_status(String orderid) {\r\n        this.orderid = orderid;\r\n    }\r\n\r\n    public String getOrderid() {\r\n        return orderid;\r\n    }\r\n\r\n    public void setOrderid(String orderid) {\r\n        this.orderid = orderid;\r\n    }\r\n}\r\n```","title":"Not able to parse correct value from retrofit JSON response in Android studio","body":"<p>I've used R8 for obfuscation, and missed to mention <code>@Keep</code> in Response Model because of which the functions like <code>getOrderid()</code> too got obfuscated. After I added <code>@Keep</code> at the beginning of Response Model, then the code worked fine.</p>\n<pre><code>@Keep\npublic class response_model_order_status {\n    String orderid;\n\n    public response_model_order_status() {\n    }\n\n    public response_model_order_status(String orderid) {\n        this.orderid = orderid;\n    }\n\n    public String getOrderid() {\n        return orderid;\n    }\n\n    public void setOrderid(String orderid) {\n        this.orderid = orderid;\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":27495660,"reputation":19,"user_id":20980207,"display_name":"Naresh Pradhan"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":34,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690811643,"creation_date":1690431852,"question_id":76776489,"body_markdown":"I&#39;m trying to fetch the `orderid` from my MySQL database through retrofit API post call. The actual data is coming in JSON format through `arrOrderStatus.toString()`, but I&#39;m unable to extract exact value using `arrOrderStatus.get(i).getOrderid()`. The app is crashing after printing step 3 (as shown in pic below), and before printing step 4. \r\n\r\nWhere am I doing the silly mistake?\r\n\r\nFunction in main activity to call retofit API:\r\n\r\n```\r\nprivate void fetchingOrderStatusData(String mobilenumber) {\r\n       Call&lt;List&lt;response_model_order_status&gt;&gt; call = apicontroller\r\n               .getInstance()\r\n               .getApi()\r\n               .getOrderStatus(mobilenumber);\r\n\r\n       call.enqueue(new Callback&lt;List&lt;response_model_order_status&gt;&gt;() {\r\n           @Override\r\n           public void onResponse(Call&lt;List&lt;response_model_order_status&gt;&gt; call, Response&lt;List&lt;response_model_order_status&gt;&gt; response) {\r\n               Log.d(&quot;AAAAAAAA&quot;, &quot;Service is running...&quot; + mobilenumber + &quot;--1--&quot;);\r\n               List&lt;response_model_order_status&gt; arrOrderStatus = response.body();\r\n               Log.d(&quot;AAAAAAAA&quot;, &quot;Service is running...&quot; + mobilenumber + arrOrderStatus.toString() + &quot;--2--&quot;);\r\n               for (int i = 0; i &lt; arrOrderStatus.size(); i++) {\r\n                   Log.d(&quot;AAAAAAAA&quot;, &quot;Service is running...&quot; + mobilenumber + &quot;--3--&quot;);\r\n                   Log.d(&quot;AAAAAAAA&quot;, &quot;Service is running...&quot; + arrOrderStatus.get(i).getOrderid() + &quot;--4--&quot;);\r\n               }\r\n           }\r\n\r\n           @Override\r\n           public void onFailure(Call&lt;List&lt;response_model_order_status&gt;&gt; call, Throwable t) {\r\n               Log.d(&quot;AAAAAAAA&quot;, &quot;Service is running...&quot; + mobilenumber + &quot;--5--&quot;);\r\n           }\r\n       });\r\n    }\r\n\r\n```\r\n\r\napiset.java:\r\n\r\n```\r\n    @FormUrlEncoded\r\n    @POST(&quot;get_order_status.php&quot;)\r\n    Call&lt;List&lt;response_model_order_status&gt;&gt; getOrderStatus(\r\n            @Field(&quot;mobilenumber&quot;) String mobilenumber\r\n    );\r\n```\r\n\r\nget_order_status.php code:\r\n\r\n\r\n```php\r\n&lt;?php\r\n\r\nrequire &#39;connection.php&#39;;\r\n\r\n$mobilenumber=trim($_POST[&#39;mobilenumber&#39;]);\r\n\t\t\r\n$qry=&quot;select X.orderid from orderlist X where X.mobilenumber=&#39;$mobilenumber&#39; and X.ordertime &gt;= CURDATE() order by X.ordertime DESC&quot;;\r\n\r\n$raw=mysqli_query($con,$qry);\r\n \r\nwhile ($res=mysqli_fetch_array($raw))\r\n{\r\n\t$data[]=$res;\r\n}\r\n\r\nprint json_encode($data);\r\n\r\nmysqli_commit($con);\r\nmysqli_close($con);\r\n\r\n?&gt;\r\n```\r\n\r\nIn MySQL database, both `mobilenumber` and `orderid` columns are `varchar(20)` in table `orderlist`.\r\n\r\nResponse model:\r\n\r\n```\r\npublic class response_model_order_status {\r\n    String orderid;\r\n\r\n    public response_model_order_status() {\r\n    }\r\n\r\n    public response_model_order_status(String orderid) {\r\n        this.orderid = orderid;\r\n    }\r\n\r\n    public String getOrderid() {\r\n        return orderid;\r\n    }\r\n\r\n    public void setOrderid(String orderid) {\r\n        this.orderid = orderid;\r\n    }\r\n}\r\n```\r\n\r\nLog.d output and error message:\r\n\r\n[![enter image description here](https://i.stack.imgur.com/2S631.jpg)](https://i.stack.imgur.com/2S631.jpg)\r\n\r\n\r\nI tried putting different syntax codes to parse `arrOrderStatus.get(i).getOrderid()`, but unable to do so.","title":"Not able to parse correct value from retrofit JSON response in Android studio","body":"<p>I'm trying to fetch the <code>orderid</code> from my MySQL database through retrofit API post call. The actual data is coming in JSON format through <code>arrOrderStatus.toString()</code>, but I'm unable to extract exact value using <code>arrOrderStatus.get(i).getOrderid()</code>. The app is crashing after printing step 3 (as shown in pic below), and before printing step 4.</p>\n<p>Where am I doing the silly mistake?</p>\n<p>Function in main activity to call retofit API:</p>\n<pre><code>private void fetchingOrderStatusData(String mobilenumber) {\n       Call&lt;List&lt;response_model_order_status&gt;&gt; call = apicontroller\n               .getInstance()\n               .getApi()\n               .getOrderStatus(mobilenumber);\n\n       call.enqueue(new Callback&lt;List&lt;response_model_order_status&gt;&gt;() {\n           @Override\n           public void onResponse(Call&lt;List&lt;response_model_order_status&gt;&gt; call, Response&lt;List&lt;response_model_order_status&gt;&gt; response) {\n               Log.d(&quot;AAAAAAAA&quot;, &quot;Service is running...&quot; + mobilenumber + &quot;--1--&quot;);\n               List&lt;response_model_order_status&gt; arrOrderStatus = response.body();\n               Log.d(&quot;AAAAAAAA&quot;, &quot;Service is running...&quot; + mobilenumber + arrOrderStatus.toString() + &quot;--2--&quot;);\n               for (int i = 0; i &lt; arrOrderStatus.size(); i++) {\n                   Log.d(&quot;AAAAAAAA&quot;, &quot;Service is running...&quot; + mobilenumber + &quot;--3--&quot;);\n                   Log.d(&quot;AAAAAAAA&quot;, &quot;Service is running...&quot; + arrOrderStatus.get(i).getOrderid() + &quot;--4--&quot;);\n               }\n           }\n\n           @Override\n           public void onFailure(Call&lt;List&lt;response_model_order_status&gt;&gt; call, Throwable t) {\n               Log.d(&quot;AAAAAAAA&quot;, &quot;Service is running...&quot; + mobilenumber + &quot;--5--&quot;);\n           }\n       });\n    }\n\n</code></pre>\n<p>apiset.java:</p>\n<pre><code>    @FormUrlEncoded\n    @POST(&quot;get_order_status.php&quot;)\n    Call&lt;List&lt;response_model_order_status&gt;&gt; getOrderStatus(\n            @Field(&quot;mobilenumber&quot;) String mobilenumber\n    );\n</code></pre>\n<p>get_order_status.php code:</p>\n<pre class=\"lang-php prettyprint-override\"><code>&lt;?php\n\nrequire 'connection.php';\n\n$mobilenumber=trim($_POST['mobilenumber']);\n        \n$qry=&quot;select X.orderid from orderlist X where X.mobilenumber='$mobilenumber' and X.ordertime &gt;= CURDATE() order by X.ordertime DESC&quot;;\n\n$raw=mysqli_query($con,$qry);\n \nwhile ($res=mysqli_fetch_array($raw))\n{\n    $data[]=$res;\n}\n\nprint json_encode($data);\n\nmysqli_commit($con);\nmysqli_close($con);\n\n?&gt;\n</code></pre>\n<p>In MySQL database, both <code>mobilenumber</code> and <code>orderid</code> columns are <code>varchar(20)</code> in table <code>orderlist</code>.</p>\n<p>Response model:</p>\n<pre><code>public class response_model_order_status {\n    String orderid;\n\n    public response_model_order_status() {\n    }\n\n    public response_model_order_status(String orderid) {\n        this.orderid = orderid;\n    }\n\n    public String getOrderid() {\n        return orderid;\n    }\n\n    public void setOrderid(String orderid) {\n        this.orderid = orderid;\n    }\n}\n</code></pre>\n<p>Log.d output and error message:</p>\n<p><a href=\"https://i.stack.imgur.com/2S631.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/2S631.jpg\" alt=\"enter image description here\" /></a></p>\n<p>I tried putting different syntax codes to parse <code>arrOrderStatus.get(i).getOrderid()</code>, but unable to do so.</p>\n"},{"tags":["java","gradle","lombok"],"comments":[{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1584904902,"post_id":60798253,"comment_id":107577712,"body_markdown":"I doubt that it&#39;s a gradle issue. Are you statically importing a Lombok-generated method? That won&#39;t work in many cases. Try a static * import instead.","body":"I doubt that it&#39;s a gradle issue. Are you statically importing a Lombok-generated method? That won&#39;t work in many cases. Try a static * import instead."},{"owner":{"account_id":3888433,"reputation":637,"user_id":3219252,"accept_rate":100,"display_name":"n00bst3r"},"score":0,"creation_date":1584905395,"post_id":60798253,"comment_id":107577869,"body_markdown":"Hmmm...But it worked the whole time. And now it doesn&#39;t work without changing anything on these classes. And the sense of a UtilityClass is to use it static or am I wrong? I just added the classes to the question. But I think actually the classes are okay.","body":"Hmmm...But it worked the whole time. And now it doesn&#39;t work without changing anything on these classes. And the sense of a UtilityClass is to use it static or am I wrong? I just added the classes to the question. But I think actually the classes are okay."},{"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"score":0,"creation_date":1584905432,"post_id":60798253,"comment_id":107577879,"body_markdown":"have you upgraded gradle now ?","body":"have you upgraded gradle now ?"},{"owner":{"account_id":3888433,"reputation":637,"user_id":3219252,"accept_rate":100,"display_name":"n00bst3r"},"score":0,"creation_date":1584905487,"post_id":60798253,"comment_id":107577893,"body_markdown":"I tried several versions &#39;til 6.2.2. All failed.","body":"I tried several versions &#39;til 6.2.2. All failed."},{"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"score":0,"creation_date":1584913425,"post_id":60798253,"comment_id":107580149,"body_markdown":"You can statically import a `@UtilityClass`, but you must use the star form: `import static com.xxx.homepage.bootstrap.DataSetupUtil.*;`","body":"You can statically import a <code>@UtilityClass</code>, but you must use the star form: <code>import static com.xxx.homepage.bootstrap.DataSetupUtil.*;</code>"},{"owner":{"account_id":3888433,"reputation":637,"user_id":3219252,"accept_rate":100,"display_name":"n00bst3r"},"score":0,"creation_date":1584913839,"post_id":60798253,"comment_id":107580254,"body_markdown":"omg. you&#39;re right! I thought it is a gradle issues cause all lombok methods had errors. But with this fix the build is successful. It seems like the merge changed the import from star to the method directly. You&#39;re are my hero. @Jahn Rieke  If you post you&#39;re comment as an answer I mark it as solution.","body":"omg. you&#39;re right! I thought it is a gradle issues cause all lombok methods had errors. But with this fix the build is successful. It seems like the merge changed the import from star to the method directly. You&#39;re are my hero. @Jahn Rieke  If you post you&#39;re comment as an answer I mark it as solution."}],"answers":[{"tags":[],"owner":{"account_id":13887193,"reputation":7307,"user_id":10026074,"display_name":"Jan Rieke"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1584914187,"creation_date":1584914187,"answer_id":60805420,"question_id":60798253,"body_markdown":"Static imports of single members (&quot;non-star form&quot;) often cause problems when importing lombok-processed classes.\r\n\r\nThe workaround is to use the star (\\*) form of the static import:\r\n\r\n    import static com.xxx.homepage.bootstrap.DataSetupUtil.*;\r\n\r\n\r\nThe [lombok documentation for `@UtilityClass`][1] also mentions this in the small print:\r\n\r\n&gt; Due to a peculiar way javac processes static imports, trying to do a non-star static import of any of the members of a `@UtilityClass` won&#39;t work. Either use a star static import: `import static TypeMarkedWithUtilityClass.*;` or don&#39;t statically import any of the members. \r\n\r\n  [1]: https://projectlombok.org/features/experimental/UtilityClass#small-print","title":"Gradle compilation error with lombok after merge","body":"<p>Static imports of single members (\"non-star form\") often cause problems when importing lombok-processed classes.</p>\n\n<p>The workaround is to use the star (*) form of the static import:</p>\n\n<pre><code>import static com.xxx.homepage.bootstrap.DataSetupUtil.*;\n</code></pre>\n\n<p>The <a href=\"https://projectlombok.org/features/experimental/UtilityClass#small-print\" rel=\"nofollow noreferrer\">lombok documentation for <code>@UtilityClass</code></a> also mentions this in the small print:</p>\n\n<blockquote>\n  <p>Due to a peculiar way javac processes static imports, trying to do a non-star static import of any of the members of a <code>@UtilityClass</code> won't work. Either use a star static import: <code>import static TypeMarkedWithUtilityClass.*;</code> or don't statically import any of the members. </p>\n</blockquote>\n"}],"owner":{"account_id":3888433,"reputation":637,"user_id":3219252,"accept_rate":100,"display_name":"n00bst3r"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":911,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":60805420,"answer_count":1,"score":1,"last_activity_date":1690811413,"creation_date":1584873184,"question_id":60798253,"body_markdown":"After switching branch the compilation failed during my build. Here a snippet: \r\n\r\n        $ ./gradlew clean build\r\n    Starting a Gradle Daemon, 1 stopped Daemon could not be reused, use --status for details\r\n    \r\n        &gt; Task :compileJava\r\n        C:\\Users\\xxx\\Documents\\Repositories\\Homepage\\Home\\src\\main\\java\\com\\xxx\\project\\bootstrap\\DatabaseLoader.java:19: error: cannot find symbol\r\n        import static com.xxx.homepage.bootstrap.DataSetupUtil.getUserObject;\r\n        ^\r\n          symbol:   static getUserObject\r\n          location: class DataSetupUtil\r\n        C:\\Users\\xxx\\Documents\\Repositories\\Homepage\\Home\\src\\main\\java\\com\\xxx\\project\\bootstrap\\DataSetupUtil.java:17: error: cannot find symbol\r\n                user.setEmail(email);\r\n                    ^\r\n          symbol:   method setEmail(@lombok.NonNull String)\r\n          location: variable user of type User\r\n        C:\\Users\\xxx\\Documents\\Repositories\\Homepage\\Home\\src\\main\\java\\com\\xxx\\project\\bootstrap\\DataSetupUtil.java:18: error: cannot find symbol\r\n                user.setUsername(username);\r\n                    ^\r\n          symbol:   method setUsername(@lombok.NonNull String)\r\n          location: variable user of type User\r\n        C:\\Users\\xxx\\Documents\\Repositories\\Homepage\\Home\\src\\main\\java\\com\\xxx\\project\\bootstrap\\DataSetupUtil.java:19: error: cannot find symbol\r\n                user.setName(name);\r\n                    ^\r\n          symbol:   method setName(@lombok.NonNull String)\r\n          location: variable user of type User\r\n        C:\\Users\\xxx\\Documents\\Repositories\\Homepage\\Home\\src\\main\\java\\com\\xxx\\project\\bootstrap\\DataSetupUtil.java:20: error: cannot find symbol\r\n                user.setFirstname(firstname);\r\n\r\n\r\nThis is the how my build.gradle looks like: \r\n\r\n\r\n    plugins {\r\n        id &#39;org.springframework.boot&#39; version &#39;2.2.5.RELEASE&#39;\r\n        id &#39;java&#39;\r\n    }\r\n    \r\n    apply plugin: &#39;io.spring.dependency-management&#39;\r\n    \r\n    group = &#39;com.xxx&#39;\r\n    version = &#39;0.0.1-SNAPSHOT&#39;\r\n    sourceCompatibility = &#39;11&#39;\r\n    \r\n    configurations {\r\n        compileOnly {\r\n            extendsFrom annotationProcessor\r\n        }\r\n    }\r\n    \r\n    repositories {\r\n        repositories {\r\n            maven {\r\n                url &quot;${nexusUrl}/content/groups/public/&quot;\r\n                credentials {\r\n                    username &quot;$nexusUsername&quot;\r\n                    password &quot;$nexusPassword&quot;\r\n                }\r\n            }\r\n        }\r\n    }\r\n    \r\n    dependencies {\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-actuator&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-data-jpa&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-mail&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-security&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-thymeleaf&#39;\r\n        implementation &#39;org.springframework.boot:spring-boot-starter-web&#39;\r\n        compileOnly &#39;org.projectlombok:lombok&#39;\r\n    \r\n        compile group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.9&#39;\r\n        compile group: &#39;com.google.guava&#39;, name: &#39;guava&#39;, version: &#39;28.2-jre&#39;\r\n    \r\n        compile group: &#39;org.thymeleaf.extras&#39;, name: &#39;thymeleaf-extras-springsecurity5&#39;, version: &#39;3.0.4.RELEASE&#39;\r\n        runtimeOnly &#39;com.h2database:h2&#39;\r\n        annotationProcessor &#39;org.springframework.boot:spring-boot-configuration-processor&#39;\r\n        annotationProcessor &#39;org.projectlombok:lombok&#39;\r\n        testImplementation &#39;org.springframework.boot:spring-boot-starter-test&#39;\r\n        testImplementation &#39;org.springframework.security:spring-security-test&#39;\r\n    }\r\n\r\n It&#39;s weird, because before switching the branch and before merging everthing worked fine. Has anyone an idea what the reason could be for this compilation problem? Gradle version is 6.2.2`. I also tried to delete the cache under C:\\Users\\user\\.gradle\\caches\\6.2.2  \r\nBut also this didn&#39;t help.\r\n\r\nHere the classes that aren&#39;t recognized: \r\n\r\n\r\n    import lombok.*;\r\n    import org.springframework.security.core.GrantedAuthority;\r\n    import org.springframework.security.core.authority.SimpleGrantedAuthority;\r\n    import org.springframework.security.core.userdetails.UserDetails;\r\n    \r\n    import javax.persistence.*;\r\n    import javax.validation.constraints.Size;\r\n    import java.util.Collection;\r\n    import java.util.Date;\r\n    import java.util.HashSet;\r\n    import java.util.Set;\r\n    import java.util.stream.Collectors;\r\n    \r\n    @Entity\r\n    @Data\r\n    @NoArgsConstructor\r\n    @RequiredArgsConstructor\r\n    public class User implements UserDetails {\r\n    \r\n        @Id\r\n        @GeneratedValue\r\n        private Long id;\r\n    \r\n        @Version\r\n        private Integer version;\r\n    \r\n        @NonNull\r\n        @Size(min = 8, max = 20)\r\n        @Column(nullable = false, unique = true, name=&quot;USERNAME&quot;)\r\n        private String username;\r\n    \r\n        @NonNull\r\n        @Size(min = 8, max = 30)\r\n        @Column(nullable = false, unique = true, name=&quot;EMAIL&quot;)\r\n        private String email;\r\n    \r\n        @NonNull\r\n        @Column(length = 100, name = &quot;PASSWORD&quot;)\r\n        private String password;\r\n    \r\n        @NonNull\r\n        @Column(nullable = false, name=&quot;ENABLED&quot;)\r\n        private boolean enabled;\r\n    \r\n        @Size(min = 3, max = 20)\r\n        @Column(name=&quot;NAME&quot;)\r\n        private String name;\r\n    \r\n        @Size(min = 3, max = 20)\r\n        @Column(name=&quot;FIRST_NAME&quot;)\r\n        private String firstname;\r\n    \r\n        @Column(name=&quot;DATE_OF_BIRTH&quot;)\r\n        private Date dateOfBirth;\r\n    \r\n        @Size(min = 3, max = 20)\r\n        @Column(name=&quot;CITY&quot;)\r\n        private String city;\r\n    \r\n        @Size(min = 3, max = 30)\r\n        @Column(name = &quot;COUNTRY&quot;)\r\n        private String country;\r\n    \r\n        @ManyToMany(fetch = FetchType.EAGER)\r\n        @JoinTable(\r\n                name = &quot;users_roles&quot;,\r\n                joinColumns = @JoinColumn(name = &quot;user_id&quot;,referencedColumnName = &quot;id&quot;),\r\n                inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;,referencedColumnName = &quot;id&quot;)\r\n        )\r\n        private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\r\n    \r\n        public void addRole(Role role) {\r\n            roles.add(role);\r\n        }\r\n    \r\n        public void addRoles(Set&lt;Role&gt; roles) {\r\n            roles.forEach(this::addRole);\r\n        }\r\n    \r\n        @Override\r\n        public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\r\n            //map roles to GrantedAuthorities:\r\n            return roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonExpired() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isAccountNonLocked() {\r\n            return true;\r\n        }\r\n    \r\n        @Override\r\n        public boolean isCredentialsNonExpired() {\r\n            return true;\r\n        }\r\n    }\r\n\r\n\r\nAnd the Util Class:\r\n\r\n\r\n\r\n    import com.rajic.homepage.domain.Role;\r\n    import com.rajic.homepage.domain.User;\r\n    import lombok.NonNull;\r\n    import lombok.experimental.UtilityClass;\r\n    \r\n    import java.util.Date;\r\n    \r\n    @UtilityClass\r\n    public class DataSetupUtil {\r\n    \r\n        public User getUserObject(@NonNull String email, @NonNull String username,\r\n                                  @NonNull String password, @NonNull String name, @NonNull String firstname,\r\n                                  @NonNull String city, @NonNull String country, @NonNull Date dateOfBirth, Role...roles) {\r\n            User user = new User();\r\n            user.setEmail(email);\r\n            user.setUsername(username);\r\n            user.setName(name);\r\n            user.setFirstname(firstname);\r\n            user.setPassword(password);\r\n            user.setCity(city);\r\n            user.setCountry(country);\r\n            user.setDateOfBirth(dateOfBirth);\r\n            user.setEnabled(true);\r\n            for (int i = 0; i &lt; roles.length; i++) {\r\n                user.addRole(roles[i]);\r\n            }\r\n            return user;\r\n        }\r\n    }\r\n\r\n\r\n","title":"Gradle compilation error with lombok after merge","body":"<p>After switching branch the compilation failed during my build. Here a snippet:</p>\n<pre><code>    $ ./gradlew clean build\nStarting a Gradle Daemon, 1 stopped Daemon could not be reused, use --status for details\n\n    &gt; Task :compileJava\n    C:\\Users\\xxx\\Documents\\Repositories\\Homepage\\Home\\src\\main\\java\\com\\xxx\\project\\bootstrap\\DatabaseLoader.java:19: error: cannot find symbol\n    import static com.xxx.homepage.bootstrap.DataSetupUtil.getUserObject;\n    ^\n      symbol:   static getUserObject\n      location: class DataSetupUtil\n    C:\\Users\\xxx\\Documents\\Repositories\\Homepage\\Home\\src\\main\\java\\com\\xxx\\project\\bootstrap\\DataSetupUtil.java:17: error: cannot find symbol\n            user.setEmail(email);\n                ^\n      symbol:   method setEmail(@lombok.NonNull String)\n      location: variable user of type User\n    C:\\Users\\xxx\\Documents\\Repositories\\Homepage\\Home\\src\\main\\java\\com\\xxx\\project\\bootstrap\\DataSetupUtil.java:18: error: cannot find symbol\n            user.setUsername(username);\n                ^\n      symbol:   method setUsername(@lombok.NonNull String)\n      location: variable user of type User\n    C:\\Users\\xxx\\Documents\\Repositories\\Homepage\\Home\\src\\main\\java\\com\\xxx\\project\\bootstrap\\DataSetupUtil.java:19: error: cannot find symbol\n            user.setName(name);\n                ^\n      symbol:   method setName(@lombok.NonNull String)\n      location: variable user of type User\n    C:\\Users\\xxx\\Documents\\Repositories\\Homepage\\Home\\src\\main\\java\\com\\xxx\\project\\bootstrap\\DataSetupUtil.java:20: error: cannot find symbol\n            user.setFirstname(firstname);\n</code></pre>\n<p>This is the how my build.gradle looks like:</p>\n<pre><code>plugins {\n    id 'org.springframework.boot' version '2.2.5.RELEASE'\n    id 'java'\n}\n\napply plugin: 'io.spring.dependency-management'\n\ngroup = 'com.xxx'\nversion = '0.0.1-SNAPSHOT'\nsourceCompatibility = '11'\n\nconfigurations {\n    compileOnly {\n        extendsFrom annotationProcessor\n    }\n}\n\nrepositories {\n    repositories {\n        maven {\n            url &quot;${nexusUrl}/content/groups/public/&quot;\n            credentials {\n                username &quot;$nexusUsername&quot;\n                password &quot;$nexusPassword&quot;\n            }\n        }\n    }\n}\n\ndependencies {\n    implementation 'org.springframework.boot:spring-boot-starter-actuator'\n    implementation 'org.springframework.boot:spring-boot-starter-data-jpa'\n    implementation 'org.springframework.boot:spring-boot-starter-mail'\n    implementation 'org.springframework.boot:spring-boot-starter-security'\n    implementation 'org.springframework.boot:spring-boot-starter-thymeleaf'\n    implementation 'org.springframework.boot:spring-boot-starter-web'\n    compileOnly 'org.projectlombok:lombok'\n\n    compile group: 'org.apache.commons', name: 'commons-lang3', version: '3.9'\n    compile group: 'com.google.guava', name: 'guava', version: '28.2-jre'\n\n    compile group: 'org.thymeleaf.extras', name: 'thymeleaf-extras-springsecurity5', version: '3.0.4.RELEASE'\n    runtimeOnly 'com.h2database:h2'\n    annotationProcessor 'org.springframework.boot:spring-boot-configuration-processor'\n    annotationProcessor 'org.projectlombok:lombok'\n    testImplementation 'org.springframework.boot:spring-boot-starter-test'\n    testImplementation 'org.springframework.security:spring-security-test'\n}\n</code></pre>\n<p>It's weird, because before switching the branch and before merging everthing worked fine. Has anyone an idea what the reason could be for this compilation problem? Gradle version is 6.2.2`. I also tried to delete the cache under C:\\Users\\user.gradle\\caches\\6.2.2<br />\nBut also this didn't help.</p>\n<p>Here the classes that aren't recognized:</p>\n<pre><code>import lombok.*;\nimport org.springframework.security.core.GrantedAuthority;\nimport org.springframework.security.core.authority.SimpleGrantedAuthority;\nimport org.springframework.security.core.userdetails.UserDetails;\n\nimport javax.persistence.*;\nimport javax.validation.constraints.Size;\nimport java.util.Collection;\nimport java.util.Date;\nimport java.util.HashSet;\nimport java.util.Set;\nimport java.util.stream.Collectors;\n\n@Entity\n@Data\n@NoArgsConstructor\n@RequiredArgsConstructor\npublic class User implements UserDetails {\n\n    @Id\n    @GeneratedValue\n    private Long id;\n\n    @Version\n    private Integer version;\n\n    @NonNull\n    @Size(min = 8, max = 20)\n    @Column(nullable = false, unique = true, name=&quot;USERNAME&quot;)\n    private String username;\n\n    @NonNull\n    @Size(min = 8, max = 30)\n    @Column(nullable = false, unique = true, name=&quot;EMAIL&quot;)\n    private String email;\n\n    @NonNull\n    @Column(length = 100, name = &quot;PASSWORD&quot;)\n    private String password;\n\n    @NonNull\n    @Column(nullable = false, name=&quot;ENABLED&quot;)\n    private boolean enabled;\n\n    @Size(min = 3, max = 20)\n    @Column(name=&quot;NAME&quot;)\n    private String name;\n\n    @Size(min = 3, max = 20)\n    @Column(name=&quot;FIRST_NAME&quot;)\n    private String firstname;\n\n    @Column(name=&quot;DATE_OF_BIRTH&quot;)\n    private Date dateOfBirth;\n\n    @Size(min = 3, max = 20)\n    @Column(name=&quot;CITY&quot;)\n    private String city;\n\n    @Size(min = 3, max = 30)\n    @Column(name = &quot;COUNTRY&quot;)\n    private String country;\n\n    @ManyToMany(fetch = FetchType.EAGER)\n    @JoinTable(\n            name = &quot;users_roles&quot;,\n            joinColumns = @JoinColumn(name = &quot;user_id&quot;,referencedColumnName = &quot;id&quot;),\n            inverseJoinColumns = @JoinColumn(name = &quot;role_id&quot;,referencedColumnName = &quot;id&quot;)\n    )\n    private Set&lt;Role&gt; roles = new HashSet&lt;&gt;();\n\n    public void addRole(Role role) {\n        roles.add(role);\n    }\n\n    public void addRoles(Set&lt;Role&gt; roles) {\n        roles.forEach(this::addRole);\n    }\n\n    @Override\n    public Collection&lt;? extends GrantedAuthority&gt; getAuthorities() {\n        //map roles to GrantedAuthorities:\n        return roles.stream().map(role -&gt; new SimpleGrantedAuthority(role.getName())).collect(Collectors.toList());\n    }\n\n    @Override\n    public boolean isAccountNonExpired() {\n        return true;\n    }\n\n    @Override\n    public boolean isAccountNonLocked() {\n        return true;\n    }\n\n    @Override\n    public boolean isCredentialsNonExpired() {\n        return true;\n    }\n}\n</code></pre>\n<p>And the Util Class:</p>\n<pre><code>import com.rajic.homepage.domain.Role;\nimport com.rajic.homepage.domain.User;\nimport lombok.NonNull;\nimport lombok.experimental.UtilityClass;\n\nimport java.util.Date;\n\n@UtilityClass\npublic class DataSetupUtil {\n\n    public User getUserObject(@NonNull String email, @NonNull String username,\n                              @NonNull String password, @NonNull String name, @NonNull String firstname,\n                              @NonNull String city, @NonNull String country, @NonNull Date dateOfBirth, Role...roles) {\n        User user = new User();\n        user.setEmail(email);\n        user.setUsername(username);\n        user.setName(name);\n        user.setFirstname(firstname);\n        user.setPassword(password);\n        user.setCity(city);\n        user.setCountry(country);\n        user.setDateOfBirth(dateOfBirth);\n        user.setEnabled(true);\n        for (int i = 0; i &lt; roles.length; i++) {\n            user.addRole(roles[i]);\n        }\n        return user;\n    }\n}\n</code></pre>\n"},{"tags":["java","merge","hashmap"],"comments":[{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1585064298,"post_id":60834219,"comment_id":107631592,"body_markdown":"Using merge() won&#39;t be more efficient.","body":"Using merge() won&#39;t be more efficient."},{"owner":{"account_id":17592368,"reputation":13891,"user_id":12763954,"display_name":"Olivier"},"score":0,"creation_date":1585064440,"post_id":60834219,"comment_id":107631659,"body_markdown":"If you really want to optimize: don&#39;t use toCharArray() because it clones the array. Use charAt() instead.","body":"If you really want to optimize: don&#39;t use toCharArray() because it clones the array. Use charAt() instead."}],"answers":[{"tags":[],"owner":{"account_id":13798611,"reputation":37875,"user_id":9959152,"display_name":"Ryuzaki L"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1585075210,"creation_date":1585064599,"answer_id":60834415,"question_id":60834219,"body_markdown":"You can use [compute][1]\r\n\r\n    characterToCountUsage.compute(symbol, (k,v)-&gt; v==null ? 1 : v+1);\r\n\r\nAlso with [merge][2]\r\n\r\n    characterToCountUsage.merge(symbol,1, (k,v)-&gt; v+1);\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#compute-K-java.util.function.BiFunction-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#merge-K-V-java.util.function.BiFunction-","title":"How to use Map.merge for incrementing the counter as value?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#compute-K-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">compute</a></p>\n\n<pre><code>characterToCountUsage.compute(symbol, (k,v)-&gt; v==null ? 1 : v+1);\n</code></pre>\n\n<p>Also with <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/HashMap.html#merge-K-V-java.util.function.BiFunction-\" rel=\"nofollow noreferrer\">merge</a></p>\n\n<pre><code>characterToCountUsage.merge(symbol,1, (k,v)-&gt; v+1);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5332585,"reputation":836,"user_id":4252764,"accept_rate":50,"display_name":"Vuk Djapic"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690811209,"creation_date":1690811209,"answer_id":76804260,"question_id":60834219,"body_markdown":"As per `merge()` behavior:\r\n\r\n     V oldValue = map.get(key);\r\n     V newValue = (oldValue == null) ? value :\r\n              remappingFunction.apply(oldValue, value);\r\n     if (newValue == null)\r\n       map.remove(key);\r\n     else\r\n       map.put(key, newValue);\r\n\r\nproper way to do it is\r\n\r\n    characterToCountUsage.merge(symbol, 1, (oldValue, value) -&gt; oldValue + 1);\r\n\r\nBut if you want to compress it even more, here is a one liner:\r\n\r\n    Map&lt;Character, Integer&gt; characterToCountUsage = input.chars().mapToObj(c -&gt; (char) c).collect(Collectors.toMap(Function.identity(), newKey -&gt; 1, (value1, value2) -&gt; value1 + value2));\r\n\r\n ","title":"How to use Map.merge for incrementing the counter as value?","body":"<p>As per <code>merge()</code> behavior:</p>\n<pre><code> V oldValue = map.get(key);\n V newValue = (oldValue == null) ? value :\n          remappingFunction.apply(oldValue, value);\n if (newValue == null)\n   map.remove(key);\n else\n   map.put(key, newValue);\n</code></pre>\n<p>proper way to do it is</p>\n<pre><code>characterToCountUsage.merge(symbol, 1, (oldValue, value) -&gt; oldValue + 1);\n</code></pre>\n<p>But if you want to compress it even more, here is a one liner:</p>\n<pre><code>Map&lt;Character, Integer&gt; characterToCountUsage = input.chars().mapToObj(c -&gt; (char) c).collect(Collectors.toMap(Function.identity(), newKey -&gt; 1, (value1, value2) -&gt; value1 + value2));\n</code></pre>\n"}],"owner":{"account_id":17119290,"reputation":81,"user_id":12387953,"display_name":"Alex"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":449,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60834415,"answer_count":2,"score":0,"last_activity_date":1690811209,"creation_date":1585063939,"question_id":60834219,"body_markdown":"I am trying to refactor a method that counts keys in HashMap in a more efficient way by implementing Map.merge(). How can I achieve it on the following code:  \r\n\r\n     public Map&lt;Character, Integer&gt; countCharacterUsage(String input) {\r\n        Map&lt;Character, Integer&gt; characterToCountUsage = new WeakHashMap&lt;&gt;();\r\n        for (char symbol : input.toCharArray()) {\r\n            if (characterToCountUsage.containsKey(symbol)) {\r\n                int symbolsCount = characterToCountUsage.get(symbol);\r\n                characterToCountUsage.put(symbol, ++symbolsCount);\r\n            } else {\r\n                characterToCountUsage.put(symbol, 1);\r\n            }\r\n        }\r\n\r\n        return characterToCountUsage;\r\n    }","title":"How to use Map.merge for incrementing the counter as value?","body":"<p>I am trying to refactor a method that counts keys in HashMap in a more efficient way by implementing Map.merge(). How can I achieve it on the following code:  </p>\n\n<pre><code> public Map&lt;Character, Integer&gt; countCharacterUsage(String input) {\n    Map&lt;Character, Integer&gt; characterToCountUsage = new WeakHashMap&lt;&gt;();\n    for (char symbol : input.toCharArray()) {\n        if (characterToCountUsage.containsKey(symbol)) {\n            int symbolsCount = characterToCountUsage.get(symbol);\n            characterToCountUsage.put(symbol, ++symbolsCount);\n        } else {\n            characterToCountUsage.put(symbol, 1);\n        }\n    }\n\n    return characterToCountUsage;\n}\n</code></pre>\n"},{"tags":["java","spring-boot","docker","docker-compose","ibm-mq"],"answers":[{"tags":[],"owner":{"account_id":320241,"reputation":2134,"user_id":638413,"accept_rate":100,"display_name":"Daniel Steinmann"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1635318354,"creation_date":1635318354,"answer_id":69734185,"question_id":69733819,"body_markdown":"Chapter [Customizing the queue manager configuration][1] describes the options:\r\n&gt; You can customize the configuration in several ways:\r\n&gt; 1. For getting started, you can use the default developer configuration, which is available out-of-the-box for the MQ Advanced for Developers image\r\n&gt; 2. By creating your own image and adding your own MQSC file into the /etc/mqm directory on the image. This file will be run when your queue manager is created.\r\n&gt; 3. By using remote MQ administration, via an MQ command server, the MQ HTTP APIs, or using a tool such as the MQ web console or MQ Explorer.\r\n\r\n\r\n  [1]: https://github.com/ibm-messaging/mq-container/blob/9.2.3/docs/usage.md#customizing-the-queue-manager-configuration","title":"Create queues in IBM MQ (docker compose )","body":"<p>Chapter <a href=\"https://github.com/ibm-messaging/mq-container/blob/9.2.3/docs/usage.md#customizing-the-queue-manager-configuration\" rel=\"nofollow noreferrer\">Customizing the queue manager configuration</a> describes the options:</p>\n<blockquote>\n<p>You can customize the configuration in several ways:</p>\n<ol>\n<li>For getting started, you can use the default developer configuration, which is available out-of-the-box for the MQ Advanced for Developers image</li>\n<li>By creating your own image and adding your own MQSC file into the /etc/mqm directory on the image. This file will be run when your queue manager is created.</li>\n<li>By using remote MQ administration, via an MQ command server, the MQ HTTP APIs, or using a tool such as the MQ web console or MQ Explorer.</li>\n</ol>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15939065,"reputation":66,"user_id":11501375,"display_name":"Allan Nobre"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1657255272,"creation_date":1657255272,"answer_id":72906718,"question_id":69733819,"body_markdown":"Based on this information: [Customizing the queue manager configuration][1], you can create a MQSC file named `20-config.mqsc` with some config options that will be run when your queue manager is created. Just put it into the /etc/mqm directory on the image.\r\n\r\nSo, create your `20-config.mqsc` file like this:\r\n\r\n    DEFINE QLOCAL(QUEUE1) REPLACE\r\n    DEFINE QLOCAL(QUEUE2) REPLACE\r\n\r\nAnd map it to your docker-compose.yml as a volume like this:\r\n\r\n      ibmmq:\r\n        image: ibmcom/mq\r\n        ports:\r\n          - &quot;1414:1414&quot;\r\n          - &quot;9443:9443&quot;\r\n        environment:\r\n          - LICENSE=accept\r\n          - MQ_QMGR_NAME=QM1\r\n        volumes:\r\n          - &lt;your 20-config.mqsc file path&gt;:/etc/mqm/20-config.mqsc\r\n\r\nIt works for me\r\n\r\n\r\n[1]: https://github.com/ibm-messaging/mq-container/blob/9.2.3/docs/usage.md#customizing-the-queue-manager-configuration","title":"Create queues in IBM MQ (docker compose )","body":"<p>Based on this information: <a href=\"https://github.com/ibm-messaging/mq-container/blob/9.2.3/docs/usage.md#customizing-the-queue-manager-configuration\" rel=\"nofollow noreferrer\">Customizing the queue manager configuration</a>, you can create a MQSC file named <code>20-config.mqsc</code> with some config options that will be run when your queue manager is created. Just put it into the /etc/mqm directory on the image.</p>\n<p>So, create your <code>20-config.mqsc</code> file like this:</p>\n<pre><code>DEFINE QLOCAL(QUEUE1) REPLACE\nDEFINE QLOCAL(QUEUE2) REPLACE\n</code></pre>\n<p>And map it to your docker-compose.yml as a volume like this:</p>\n<pre><code>  ibmmq:\n    image: ibmcom/mq\n    ports:\n      - &quot;1414:1414&quot;\n      - &quot;9443:9443&quot;\n    environment:\n      - LICENSE=accept\n      - MQ_QMGR_NAME=QM1\n    volumes:\n      - &lt;your 20-config.mqsc file path&gt;:/etc/mqm/20-config.mqsc\n</code></pre>\n<p>It works for me</p>\n"},{"tags":[],"owner":{"account_id":13146416,"reputation":37,"user_id":9496311,"display_name":"chinyavadav"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690811158,"creation_date":1690811158,"answer_id":76804251,"question_id":69733819,"body_markdown":"    version: &#39;3&#39;\r\n    \r\n    services:\r\n      mq:\r\n        image: icr.io/ibm-messaging/mq:latest\r\n        ports:\r\n          - &quot;1414:1414&quot;\r\n          - &quot;9443:9443&quot;\r\n        environment:\r\n          - LICENSE=accept\r\n          - MQ_QMGR_NAME=QM1\r\n          - MQ_APP_PASSWORD=passw0rd\r\n          - MQ_ADMIN_PASSWORD=passw0rd\r\n        volumes:\r\n          - ./mqdata:/mnt/mqm\r\n\r\n","title":"Create queues in IBM MQ (docker compose )","body":"<pre><code>version: '3'\n\nservices:\n  mq:\n    image: icr.io/ibm-messaging/mq:latest\n    ports:\n      - &quot;1414:1414&quot;\n      - &quot;9443:9443&quot;\n    environment:\n      - LICENSE=accept\n      - MQ_QMGR_NAME=QM1\n      - MQ_APP_PASSWORD=passw0rd\n      - MQ_ADMIN_PASSWORD=passw0rd\n    volumes:\n      - ./mqdata:/mnt/mqm\n</code></pre>\n"}],"owner":{"account_id":12973262,"reputation":610,"user_id":9560002,"display_name":"Arzybek"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2423,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":72906718,"answer_count":3,"score":1,"last_activity_date":1690811158,"creation_date":1635316304,"question_id":69733819,"body_markdown":"I&#39;m developing a Spring Boot app which is using IBM MQ. I want all of that to be configured in the docker compose. But the problem is that in the app there are used custom queues that were created from the UI in the browser, example of ```application.yml``` file: \r\n```\r\n...\r\nibm:\r\n  mq:\r\n    queues:\r\n      first: QUEUE1\r\n      second: QUEUE2\r\n```\r\nHow do I create these queues on the startup now when I&#39;m I want to run it from the docker compose file? When I was running ibm mq manually I was using command like this: \r\n```\r\ndocker run --env LICENSE=accept --env MQ_QMGR_NAME=QM1 --publish 1414:1414 --publish 9443:9443 --detach ibmcom/mq:latest\r\n```\r\nAnd now I&#39;m almost doing the same but in the ```docker-compose.yml``` file:\r\n```\r\n...\r\n ibm-mq:\r\n    image: &#39;ibmcom/mq:latest&#39;\r\n    container_name: ibm-mq\r\n    ports:\r\n      - &quot;1414:1414&quot;\r\n      - &quot;9443:9443&quot;\r\n    environment:\r\n      - LICENSE = accept\r\n      - MQ_QMGR_NAME = QM1\r\n```\r\nIs there any environment variables to create custom queues or how do I do that? I didn&#39;t find any solution to this.","title":"Create queues in IBM MQ (docker compose )","body":"<p>I'm developing a Spring Boot app which is using IBM MQ. I want all of that to be configured in the docker compose. But the problem is that in the app there are used custom queues that were created from the UI in the browser, example of <code>application.yml</code> file:</p>\n<pre><code>...\nibm:\n  mq:\n    queues:\n      first: QUEUE1\n      second: QUEUE2\n</code></pre>\n<p>How do I create these queues on the startup now when I'm I want to run it from the docker compose file? When I was running ibm mq manually I was using command like this:</p>\n<pre><code>docker run --env LICENSE=accept --env MQ_QMGR_NAME=QM1 --publish 1414:1414 --publish 9443:9443 --detach ibmcom/mq:latest\n</code></pre>\n<p>And now I'm almost doing the same but in the <code>docker-compose.yml</code> file:</p>\n<pre><code>...\n ibm-mq:\n    image: 'ibmcom/mq:latest'\n    container_name: ibm-mq\n    ports:\n      - &quot;1414:1414&quot;\n      - &quot;9443:9443&quot;\n    environment:\n      - LICENSE = accept\n      - MQ_QMGR_NAME = QM1\n</code></pre>\n<p>Is there any environment variables to create custom queues or how do I do that? I didn't find any solution to this.</p>\n"},{"tags":["java","spring","spring-boot","enums","spring-properties"],"comments":[{"owner":{"account_id":1223835,"reputation":75848,"user_id":1189885,"accept_rate":43,"display_name":"chrylis -cautiouslyoptimistic-"},"score":0,"creation_date":1456182735,"post_id":35565758,"comment_id":58819886,"body_markdown":"Looks like a potential bug with relaxed binding.","body":"Looks like a potential bug with relaxed binding."},{"owner":{"account_id":4312932,"reputation":23962,"user_id":3523579,"accept_rate":90,"display_name":"Mikhail Kholodkov"},"score":0,"creation_date":1456183006,"post_id":35565758,"comment_id":58819982,"body_markdown":"Sorry, edited description. Value&#39;s case switched.","body":"Sorry, edited description. Value&#39;s case switched."}],"answers":[{"tags":[],"owner":{"account_id":304234,"reputation":32207,"user_id":613628,"accept_rate":100,"display_name":"Stephane Nicoll"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1456303221,"creation_date":1456214567,"answer_id":35571932,"question_id":35565758,"body_markdown":"`@Value` and `@ConfigurationProperties` features do not match. I couldn&#39;t stress enough how `@ConfigurationProperties` is superior. \r\n\r\nFirst, you get to design your configuration in a simple POJO that you can inject wherever you want (rather than having expressions in annotation that you can easily break with a typo). Second, the meta-data support means that you can _very easily_ [get auto-completion in your IDE for your own keys](http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#configuration-metadata-annotation-processor).\r\n\r\nAnd finally, the relaxed binding described in the doc only applies to `@ConfigurationProperties`. `@Value` is a Spring Framework feature and is unaware of relaxed binding. We [intend to make that more clear in the doc](https://github.com/spring-projects/spring-boot/issues/4892).\r\n\r\nTL;DR `abc` works with `@ConfigurationProperties` but won&#39;t with `@Value`.\r\n","title":"Spring Boot bind @Value to Enum case insensitive","body":"<p><code>@Value</code> and <code>@ConfigurationProperties</code> features do not match. I couldn't stress enough how <code>@ConfigurationProperties</code> is superior. </p>\n\n<p>First, you get to design your configuration in a simple POJO that you can inject wherever you want (rather than having expressions in annotation that you can easily break with a typo). Second, the meta-data support means that you can <em>very easily</em> <a href=\"http://docs.spring.io/spring-boot/docs/current/reference/htmlsingle/#configuration-metadata-annotation-processor\" rel=\"noreferrer\">get auto-completion in your IDE for your own keys</a>.</p>\n\n<p>And finally, the relaxed binding described in the doc only applies to <code>@ConfigurationProperties</code>. <code>@Value</code> is a Spring Framework feature and is unaware of relaxed binding. We <a href=\"https://github.com/spring-projects/spring-boot/issues/4892\" rel=\"noreferrer\">intend to make that more clear in the doc</a>.</p>\n\n<p>TL;DR <code>abc</code> works with <code>@ConfigurationProperties</code> but won't with <code>@Value</code>.</p>\n"},{"tags":[],"owner":{"account_id":8207283,"reputation":133,"user_id":6176616,"display_name":"jonny.l"},"down_vote_count":14,"up_vote_count":1,"is_accepted":false,"score":-13,"last_activity_date":1504088695,"creation_date":1504081202,"answer_id":45955382,"question_id":35565758,"body_markdown":"In a practical world, this works....\r\n\r\n    public enum Property {\r\n        A, a\r\n        AB, ab,\r\n        ABC, abc,\r\n        ABCD, abcd,\r\n        ABCDE, abcde; \r\n\r\n        public boolean isA() {\r\n            return this.equals(A) || this.equals(a);\r\n        }\r\n\r\n        public boolean isAB() {\r\n            return this.equals(AB) || this.equals(ab);\r\n        }\r\n\r\n        ...etc...\r\n\r\n    }\r\n\r\n..although this does break the principle of the enum!\r\n","title":"Spring Boot bind @Value to Enum case insensitive","body":"<p>In a practical world, this works....</p>\n\n<pre><code>public enum Property {\n    A, a\n    AB, ab,\n    ABC, abc,\n    ABCD, abcd,\n    ABCDE, abcde; \n\n    public boolean isA() {\n        return this.equals(A) || this.equals(a);\n    }\n\n    public boolean isAB() {\n        return this.equals(AB) || this.equals(ab);\n    }\n\n    ...etc...\n\n}\n</code></pre>\n\n<p>..although this does break the principle of the enum!</p>\n"},{"tags":[],"owner":{"account_id":16532,"reputation":1775,"user_id":36120,"display_name":"Morten Berg"},"down_vote_count":0,"up_vote_count":8,"is_accepted":false,"score":8,"last_activity_date":1545032947,"creation_date":1545032947,"answer_id":53810871,"question_id":35565758,"body_markdown":"A problem with ConfigurationPropertis (afaik) is that you cannot use constructor injection, and your class has to be mutable.\r\n\r\nA workaround (or hack if you like) would be to use SpEL to uppercase the property before looking it up, like this:\r\n\r\n`@Value(&quot;#{&#39;${custom.property}&#39;.toUpperCase()}&quot;) Property property`\r\n\r\nThis should work since enums instances are constants, and should always be defined in uppercase: https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html","title":"Spring Boot bind @Value to Enum case insensitive","body":"<p>A problem with ConfigurationPropertis (afaik) is that you cannot use constructor injection, and your class has to be mutable.</p>\n\n<p>A workaround (or hack if you like) would be to use SpEL to uppercase the property before looking it up, like this:</p>\n\n<p><code>@Value(\"#{'${custom.property}'.toUpperCase()}\") Property property</code></p>\n\n<p>This should work since enums instances are constants, and should always be defined in uppercase: <a href=\"https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html\" rel=\"noreferrer\">https://docs.oracle.com/javase/tutorial/java/javaOO/enum.html</a></p>\n"},{"tags":[],"owner":{"account_id":7436226,"reputation":47,"user_id":5655567,"display_name":"DMurphy"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690811052,"creation_date":1690811052,"answer_id":76804240,"question_id":35565758,"body_markdown":"Another option is setter injection:\r\n\r\n```\r\nprotected Property property;\r\n\r\n@Autowired\r\npublic void setProperty(@Value(&quot;${custom.property}&quot;) String propertyString) {\r\n  this.property = Property.valueOf(propertyString.toUpperCase())\r\n}\r\n```\r\n\r\nIt is more verbose than SpEL but it allows you to do more complicated processing\r\n\r\n\r\n----------\r\n\r\nYou could also combine SpEL with a custom parsing function:\r\n\r\n```\r\npackage com.example.enums\r\n\r\npublic enum Property {\r\n  A,\r\n  AB,\r\n  ABC;\r\n\r\n  public static Property parse(String name) {\r\n    // you can do more complicated processing here\r\n    return valueOf(name.toUpperCase());\r\n  }\r\n\r\n}\r\n```\r\n\r\n```\r\n@Value(&quot;#( T(com.example.enums.Property).parse(&#39;${custom.property}&#39;) )&quot;)\r\nprotected Property property;\r\n```","title":"Spring Boot bind @Value to Enum case insensitive","body":"<p>Another option is setter injection:</p>\n<pre><code>protected Property property;\n\n@Autowired\npublic void setProperty(@Value(&quot;${custom.property}&quot;) String propertyString) {\n  this.property = Property.valueOf(propertyString.toUpperCase())\n}\n</code></pre>\n<p>It is more verbose than SpEL but it allows you to do more complicated processing</p>\n<hr />\n<p>You could also combine SpEL with a custom parsing function:</p>\n<pre><code>package com.example.enums\n\npublic enum Property {\n  A,\n  AB,\n  ABC;\n\n  public static Property parse(String name) {\n    // you can do more complicated processing here\n    return valueOf(name.toUpperCase());\n  }\n\n}\n</code></pre>\n<pre><code>@Value(&quot;#( T(com.example.enums.Property).parse('${custom.property}') )&quot;)\nprotected Property property;\n</code></pre>\n"}],"owner":{"account_id":4312932,"reputation":23962,"user_id":3523579,"accept_rate":90,"display_name":"Mikhail Kholodkov"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49669,"favorite_count":0,"down_vote_count":0,"up_vote_count":26,"accepted_answer_id":35571932,"answer_count":4,"score":26,"last_activity_date":1690811052,"creation_date":1456182608,"question_id":35565758,"body_markdown":"**Enum**\r\n\r\n    public enum Property {\r\n        A,\r\n        AB,\r\n        ABC;\r\n    }\r\n\r\n**Field**\r\n\r\n    @Value(&quot;${custom.property}&quot;)\r\n    protected Property property;\r\n\r\n**application.properties** (lower case)\r\n    \r\n    custom.property=abc\r\n\r\nWhen I&#39;m running application I have an error:\r\n\r\n\r\n&gt; Cannot convert value of type [java.lang.String] to required type\r\n&gt; [com.xxx.Property]: no matching editors or conversion\r\n&gt; strategy found.\r\n\r\nWhereas (upper case):\r\n\r\n    custom.property=ABC\r\n\r\nWorks fine. \r\n\r\nIs there a way to bind the value case insensitive? Like *ABC*, *Abc*, *AbC*, *abc* any pattern should work.\r\n\r\nNOTE: I saw this question - https://stackoverflow.com/questions/4617099/spring-3-0-mvc-binding-enums-case-sensitive but in my case I have over 10 enums/values (and expect to have more) classes and to implement 10 different custom property binders would be painful, I need some generic solution.","title":"Spring Boot bind @Value to Enum case insensitive","body":"<p><strong>Enum</strong></p>\n\n<pre><code>public enum Property {\n    A,\n    AB,\n    ABC;\n}\n</code></pre>\n\n<p><strong>Field</strong></p>\n\n<pre><code>@Value(\"${custom.property}\")\nprotected Property property;\n</code></pre>\n\n<p><strong>application.properties</strong> (lower case)</p>\n\n<pre><code>custom.property=abc\n</code></pre>\n\n<p>When I'm running application I have an error:</p>\n\n<blockquote>\n  <p>Cannot convert value of type [java.lang.String] to required type\n  [com.xxx.Property]: no matching editors or conversion\n  strategy found.</p>\n</blockquote>\n\n<p>Whereas (upper case):</p>\n\n<pre><code>custom.property=ABC\n</code></pre>\n\n<p>Works fine. </p>\n\n<p>Is there a way to bind the value case insensitive? Like <em>ABC</em>, <em>Abc</em>, <em>AbC</em>, <em>abc</em> any pattern should work.</p>\n\n<p>NOTE: I saw this question - <a href=\"https://stackoverflow.com/questions/4617099/spring-3-0-mvc-binding-enums-case-sensitive\">Spring 3.0 MVC binding Enums Case Sensitive</a> but in my case I have over 10 enums/values (and expect to have more) classes and to implement 10 different custom property binders would be painful, I need some generic solution.</p>\n"},{"tags":["java","playframework","runtime.exec","processbuilder"],"answers":[{"tags":[],"owner":{"account_id":1345324,"reputation":3987,"user_id":1286210,"display_name":"Neet"},"down_vote_count":0,"up_vote_count":88,"is_accepted":true,"score":88,"last_activity_date":1487785663,"creation_date":1337854686,"answer_id":10735509,"question_id":10735415,"body_markdown":"You need to specify the arguments as separate `Strings`:\r\n\r\n    new ProcessBuilder(&quot;cmd&quot;, &quot;arg1&quot;, &quot;arg2&quot;, ...);\r\n\r\nThe constructor accepts `String`, `varargs`, and `List&lt;String&gt;`. \r\n\r\nSee [ProcessBuilder documentation][1].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html","title":"ProcessBuilder gives a &quot;No such file or directory&quot; while Runtime().exec() works fine","body":"<p>You need to specify the arguments as separate <code>Strings</code>:</p>\n\n<pre><code>new ProcessBuilder(\"cmd\", \"arg1\", \"arg2\", ...);\n</code></pre>\n\n<p>The constructor accepts <code>String</code>, <code>varargs</code>, and <code>List&lt;String&gt;</code>. </p>\n\n<p>See <a href=\"http://docs.oracle.com/javase/7/docs/api/java/lang/ProcessBuilder.html\" rel=\"noreferrer\">ProcessBuilder documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":15688447,"reputation":3751,"user_id":11320345,"display_name":"lordvidex"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1645951223,"creation_date":1645951223,"answer_id":71283320,"question_id":10735415,"body_markdown":"If you don&#39;t want to break your commands into tokens everytime, you could try\r\n```java\r\nnew ProcessBuilder(&quot;sh&quot;, &quot;-c&quot;, execCode); // Linux / Unix terminal\r\n```\r\nOR\r\n```java\r\nnew ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, execCode); // Windows command line\r\n```","title":"ProcessBuilder gives a &quot;No such file or directory&quot; while Runtime().exec() works fine","body":"<p>If you don't want to break your commands into tokens everytime, you could try</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ProcessBuilder(&quot;sh&quot;, &quot;-c&quot;, execCode); // Linux / Unix terminal\n</code></pre>\n<p>OR</p>\n<pre class=\"lang-java prettyprint-override\"><code>new ProcessBuilder(&quot;cmd&quot;, &quot;/c&quot;, execCode); // Windows command line\n</code></pre>\n"}],"owner":{"account_id":259638,"reputation":4452,"user_id":542664,"accept_rate":84,"display_name":"Luuk D. Jansen"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":39421,"favorite_count":0,"down_vote_count":0,"up_vote_count":44,"accepted_answer_id":10735509,"answer_count":2,"score":44,"last_activity_date":1690811022,"creation_date":1337854342,"question_id":10735415,"body_markdown":"I have an application, running on the Playframework, which needs to encode some video files. I used \r\n\r\n    Process pr = Runtime.getRuntime().exec(execCode)\r\n\r\nfor this (and it works perfectly), but as I need both, the output stream and the error stream, I am trying to use ProcessBuilder (as is also recommended).\r\n\r\nBut I cannot get it to work (testing on a MacBook). Is there a fundamental difference between the Runtime method and the ProcessBuilder?\r\n\r\nThis is my code for ProcessBuilder (exactly the same code works when replaced by `Runtime.getRuntime().exec()`)\r\n\r\n        String execCode = &quot;/opt/local/bin/ffmpeg -i file [...]&quot;; \r\n        ProcessBuilder pb = new ProcessBuilder(execCode);\r\n        pb.redirectErrorStream(true);\r\n        pb.directory(new File(&quot;/Users/[...]/data/&quot;));\r\n        Process pr = pb.start();\r\n\r\nThis is the console output:\r\n\r\n    11:00:18,277 ERROR ~ There was a problem with with processing MediaFile[13] with error Error during coding process: Cannot run program &quot;/opt/local/bin/ffmpeg -i /Users/[...]/data/media/1/1/test.mov [...] /Users/[...]/data/media/1/13/encoded.mp3&quot; (in directory &quot;/Users/[...]/data&quot;): error=2, No such file or directory\r\n    java.lang.Exception: Error during coding process: Cannot run program &quot;/opt/local/bin/ffmpeg -i /Users/Luuk/Documents/Java/idoms-server/data/media/1/1/test.mov -y -f mpegts -acodec libmp3lame -ar 48000 -b:a 64000 -vn -flags +loop -cmp +chroma -partitions +parti4x4+partp8x8+partb8x8 -subq 5 -trellis 1 -refs 1 -coder 0 -me_range 16 -keyint_min 25 -sc_threshold 40 -i_qfactor 0.71 -bt 200k -maxrate -1 -bufsize -1 -rc_eq &#39;blurCplx^(1-qComp)&#39; -qcomp 0.6 -qmin 10 -qmax 51 -qdiff 4 -level 30  -g 30 -async 2 /Users/Luuk/Documents/Java/idoms-server/data/media/1/13/encoded.mp3&quot; (in directory &quot;/Users/Luuk/Documents/Java/idoms-server/data&quot;): error=2, No such file or directory\r\n    \tat logic.server.MediaCoder.encodeMediaFile(MediaCoder.java:313)\r\n    \tat logic.server.MediaCoder.doJob(MediaCoder.java:54)\r\n    \tat play.jobs.Job.doJobWithResult(Job.java:50)\r\n    \tat play.jobs.Job.call(Job.java:146)\r\n    \tat play.jobs.Job$1.call(Job.java:66)\r\n    \tat java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\r\n    \tat java.util.concurrent.FutureTask.run(FutureTask.java:138)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)\r\n    \tat java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\r\n    \tat java.lang.Thread.run(Thread.java:680)\r\n    Caused by: java.io.IOException: Cannot run program &quot;/opt/local/bin/ffmpeg -i /Users/Luuk/Documents/Java/idoms-server/data/media/1/1/test.mov -y -f mpegts -acodec libmp3lame -ar 48000 -b:a 64000 -vn -flags +loop -cmp +chroma -partitions +parti4x4+partp8x8+partb8x8 -subq 5 -trellis 1 -refs 1 -coder 0 -me_range 16 -keyint_min 25 -sc_threshold 40 -i_qfactor 0.71 -bt 200k -maxrate -1 -bufsize -1 -rc_eq &#39;blurCplx^(1-qComp)&#39; -qcomp 0.6 -qmin 10 -qmax 51 -qdiff 4 -level 30  -g 30 -async 2 /Users/Luuk/Documents/Java/idoms-server/data/media/1/13/encoded.mp3&quot; (in directory &quot;/Users/Luuk/Documents/Java/idoms-server/data&quot;): error=2, No such file or directory\r\n    \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:460)\r\n    \tat logic.server.MediaCoder.encodeMediaFile(MediaCoder.java:189)\r\n    \t... 11 more\r\n    Caused by: java.io.IOException: error=2, No such file or directory\r\n    \tat java.lang.UNIXProcess.forkAndExec(Native Method)\r\n    \tat java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:53)\r\n    \tat java.lang.ProcessImpl.start(ProcessImpl.java:91)\r\n    \tat java.lang.ProcessBuilder.start(ProcessBuilder.java:453)\r\n    \t... 12 more","title":"ProcessBuilder gives a &quot;No such file or directory&quot; while Runtime().exec() works fine","body":"<p>I have an application, running on the Playframework, which needs to encode some video files. I used </p>\n\n<pre><code>Process pr = Runtime.getRuntime().exec(execCode)\n</code></pre>\n\n<p>for this (and it works perfectly), but as I need both, the output stream and the error stream, I am trying to use ProcessBuilder (as is also recommended).</p>\n\n<p>But I cannot get it to work (testing on a MacBook). Is there a fundamental difference between the Runtime method and the ProcessBuilder?</p>\n\n<p>This is my code for ProcessBuilder (exactly the same code works when replaced by <code>Runtime.getRuntime().exec()</code>)</p>\n\n<pre><code>    String execCode = \"/opt/local/bin/ffmpeg -i file [...]\"; \n    ProcessBuilder pb = new ProcessBuilder(execCode);\n    pb.redirectErrorStream(true);\n    pb.directory(new File(\"/Users/[...]/data/\"));\n    Process pr = pb.start();\n</code></pre>\n\n<p>This is the console output:</p>\n\n<pre><code>11:00:18,277 ERROR ~ There was a problem with with processing MediaFile[13] with error Error during coding process: Cannot run program \"/opt/local/bin/ffmpeg -i /Users/[...]/data/media/1/1/test.mov [...] /Users/[...]/data/media/1/13/encoded.mp3\" (in directory \"/Users/[...]/data\"): error=2, No such file or directory\njava.lang.Exception: Error during coding process: Cannot run program \"/opt/local/bin/ffmpeg -i /Users/Luuk/Documents/Java/idoms-server/data/media/1/1/test.mov -y -f mpegts -acodec libmp3lame -ar 48000 -b:a 64000 -vn -flags +loop -cmp +chroma -partitions +parti4x4+partp8x8+partb8x8 -subq 5 -trellis 1 -refs 1 -coder 0 -me_range 16 -keyint_min 25 -sc_threshold 40 -i_qfactor 0.71 -bt 200k -maxrate -1 -bufsize -1 -rc_eq 'blurCplx^(1-qComp)' -qcomp 0.6 -qmin 10 -qmax 51 -qdiff 4 -level 30  -g 30 -async 2 /Users/Luuk/Documents/Java/idoms-server/data/media/1/13/encoded.mp3\" (in directory \"/Users/Luuk/Documents/Java/idoms-server/data\"): error=2, No such file or directory\n    at logic.server.MediaCoder.encodeMediaFile(MediaCoder.java:313)\n    at logic.server.MediaCoder.doJob(MediaCoder.java:54)\n    at play.jobs.Job.doJobWithResult(Job.java:50)\n    at play.jobs.Job.call(Job.java:146)\n    at play.jobs.Job$1.call(Job.java:66)\n    at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:303)\n    at java.util.concurrent.FutureTask.run(FutureTask.java:138)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$301(ScheduledThreadPoolExecutor.java:98)\n    at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:206)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.runTask(ThreadPoolExecutor.java:886)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:908)\n    at java.lang.Thread.run(Thread.java:680)\nCaused by: java.io.IOException: Cannot run program \"/opt/local/bin/ffmpeg -i /Users/Luuk/Documents/Java/idoms-server/data/media/1/1/test.mov -y -f mpegts -acodec libmp3lame -ar 48000 -b:a 64000 -vn -flags +loop -cmp +chroma -partitions +parti4x4+partp8x8+partb8x8 -subq 5 -trellis 1 -refs 1 -coder 0 -me_range 16 -keyint_min 25 -sc_threshold 40 -i_qfactor 0.71 -bt 200k -maxrate -1 -bufsize -1 -rc_eq 'blurCplx^(1-qComp)' -qcomp 0.6 -qmin 10 -qmax 51 -qdiff 4 -level 30  -g 30 -async 2 /Users/Luuk/Documents/Java/idoms-server/data/media/1/13/encoded.mp3\" (in directory \"/Users/Luuk/Documents/Java/idoms-server/data\"): error=2, No such file or directory\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:460)\n    at logic.server.MediaCoder.encodeMediaFile(MediaCoder.java:189)\n    ... 11 more\nCaused by: java.io.IOException: error=2, No such file or directory\n    at java.lang.UNIXProcess.forkAndExec(Native Method)\n    at java.lang.UNIXProcess.&lt;init&gt;(UNIXProcess.java:53)\n    at java.lang.ProcessImpl.start(ProcessImpl.java:91)\n    at java.lang.ProcessBuilder.start(ProcessBuilder.java:453)\n    ... 12 more\n</code></pre>\n"},{"tags":["java","spring-boot"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690801643,"post_id":76802964,"comment_id":135398835,"body_markdown":"Since you tagged `spring-boot`: Just inject the value as a `@PathParam`","body":"Since you tagged <code>spring-boot</code>: Just inject the value as a <code>@PathParam</code>"},{"owner":{"account_id":2023007,"reputation":2962,"user_id":1808743,"accept_rate":88,"display_name":"Joshua"},"score":0,"creation_date":1690801731,"post_id":76802964,"comment_id":135398852,"body_markdown":"@Jorn this should be an answer, maybe you can give a short code snippet as an example","body":"@Jorn this should be an answer, maybe you can give a short code snippet as an example"},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690802601,"post_id":76802964,"comment_id":135399014,"body_markdown":"@Joshua It&#39;s more of a hint to go in that direction, than a full answer. If someone wants to make it *into* a full answer, they are welcome to.","body":"@Joshua It&#39;s more of a hint to go in that direction, than a full answer. If someone wants to make it <i>into</i> a full answer, they are welcome to."}],"answers":[{"tags":[],"owner":{"account_id":2503633,"reputation":53,"user_id":2178038,"display_name":"Guillaume"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690801607,"creation_date":1690801607,"answer_id":76802996,"question_id":76802964,"body_markdown":"I think with this method you can retrieve what you want :\r\n\r\nhttps://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponents.html#getPathSegments()","title":"How to get the value from the URL","body":"<p>I think with this method you can retrieve what you want :</p>\n<p><a href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponents.html#getPathSegments()\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/util/UriComponents.html#getPathSegments()</a></p>\n"},{"tags":[],"owner":{"account_id":24440940,"reputation":3122,"user_id":18364656,"display_name":"Andrei Lisa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690810850,"creation_date":1690810410,"answer_id":76804160,"question_id":76802964,"body_markdown":"I will complete @Guillaume response, he suggest to use a spring util class but in java we have [Class URL][1] with such a great methods, just have a look at get methods.\r\n\r\nOr how @Jorn suggest use `@PathVariable`\r\n\r\n    @GetMapping(path = &quot;/requestForm/intakeReqDetails/{messageId}/request&quot;)\r\n    public String getInfo(@PathVariable Integer messageId) {\r\n     return &quot;message id: &quot; + messageId;\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/URL.html","title":"How to get the value from the URL","body":"<p>I will complete @Guillaume response, he suggest to use a spring util class but in java we have <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/URL.html\" rel=\"nofollow noreferrer\">Class URL</a> with such a great methods, just have a look at get methods.</p>\n<p>Or how @Jorn suggest use <code>@PathVariable</code></p>\n<pre><code>@GetMapping(path = &quot;/requestForm/intakeReqDetails/{messageId}/request&quot;)\npublic String getInfo(@PathVariable Integer messageId) {\n return &quot;message id: &quot; + messageId;\n}\n</code></pre>\n"}],"owner":{"account_id":29104131,"reputation":25,"user_id":22295330,"display_name":"Iswarya Elango"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":53,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1690810850,"creation_date":1690801188,"question_id":76802964,"body_markdown":"I want to get the value from the URL dynamically. Could you please help achieve this?\r\n\r\nRequest URL:\r\n\r\n`requestForm/intakeReqDetails/3210/request`\r\n\r\nExpected Reponse:\r\n\r\n`3210`\r\n\r\nI can achieve this using the substring method, but the index number should be hardcoded. Can you please get a better solution?","title":"How to get the value from the URL","body":"<p>I want to get the value from the URL dynamically. Could you please help achieve this?</p>\n<p>Request URL:</p>\n<p><code>requestForm/intakeReqDetails/3210/request</code></p>\n<p>Expected Reponse:</p>\n<p><code>3210</code></p>\n<p>I can achieve this using the substring method, but the index number should be hardcoded. Can you please get a better solution?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":1894950,"reputation":18007,"user_id":1712135,"display_name":"deHaar"},"score":1,"creation_date":1690810154,"post_id":76804073,"comment_id":135400667,"body_markdown":"The error message refers to Main.java line 11, where an attempt is made to parse an integer from an input. It even states `For input String &quot;-Xlint&quot;`, which is unlikely to be successfully parsed to an integer at all.","body":"The error message refers to Main.java line 11, where an attempt is made to parse an integer from an input. It even states <code>For input String &quot;-Xlint&quot;</code>, which is unlikely to be successfully parsed to an integer at all."},{"owner":{"account_id":29103423,"reputation":13,"user_id":22294770,"display_name":"math_sp"},"score":0,"creation_date":1690899022,"post_id":76804073,"comment_id":135415431,"body_markdown":"Ok I fixed the runtime error, thanks for all your help! Could someone help me figure out the second issue I have outlined?","body":"Ok I fixed the runtime error, thanks for all your help! Could someone help me figure out the second issue I have outlined?"}],"answers":[{"tags":[],"owner":{"account_id":401843,"reputation":89768,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690810519,"creation_date":1690810519,"answer_id":76804182,"question_id":76804073,"body_markdown":"Your `javac` call runs the compiler. The compiler found a _likely_ bug in your code, but, your code is _technically_ compilable. Just, weird. Hence, it tells you: Okay, I did compile your code, but, you should probably have a closer look at this thing because I really really doubt you meant what you wrote. That&#39;s what:\r\n\r\n&gt; Note: recompile with -Xlint for details\r\n\r\nis about.\r\n\r\nYou are supposed to invoke `javac` a second time and add `-Xlint` (or just always add `-Xlint`) to tell the compiler to tell you far more about what it found.\r\n\r\nInstead, you ran _your application_ and passed `-Xlint` to _your application_. Your app parses all arguments as numbers, `-Xlint` obviously isn&#39;t a number, and therefore your app exits early because the exception caused by trying to parse `-Xlint` as number bubbled to the top.\r\n\r\nI doubt replit is doing that. If so, you mail the replit staff and tell them they have a bug in their code runner system. There&#39;s nothing stack overflow, or you, can do about it - possibly you can work around it by ensuring that warning no longer happens.\r\n\r\nHowever, it sounds vastly more likely that _you_ are running the stuff in your screenshot image. In which case, don&#39;t pass `-Xlint` to `java` - you pass that to `javac`.","title":"Amount of Arrays created depends on input; How to debug?","body":"<p>Your <code>javac</code> call runs the compiler. The compiler found a <em>likely</em> bug in your code, but, your code is <em>technically</em> compilable. Just, weird. Hence, it tells you: Okay, I did compile your code, but, you should probably have a closer look at this thing because I really really doubt you meant what you wrote. That's what:</p>\n<blockquote>\n<p>Note: recompile with -Xlint for details</p>\n</blockquote>\n<p>is about.</p>\n<p>You are supposed to invoke <code>javac</code> a second time and add <code>-Xlint</code> (or just always add <code>-Xlint</code>) to tell the compiler to tell you far more about what it found.</p>\n<p>Instead, you ran <em>your application</em> and passed <code>-Xlint</code> to <em>your application</em>. Your app parses all arguments as numbers, <code>-Xlint</code> obviously isn't a number, and therefore your app exits early because the exception caused by trying to parse <code>-Xlint</code> as number bubbled to the top.</p>\n<p>I doubt replit is doing that. If so, you mail the replit staff and tell them they have a bug in their code runner system. There's nothing stack overflow, or you, can do about it - possibly you can work around it by ensuring that warning no longer happens.</p>\n<p>However, it sounds vastly more likely that <em>you</em> are running the stuff in your screenshot image. In which case, don't pass <code>-Xlint</code> to <code>java</code> - you pass that to <code>javac</code>.</p>\n"}],"owner":{"account_id":29103423,"reputation":13,"user_id":22294770,"display_name":"math_sp"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":45,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":76804182,"answer_count":1,"score":-1,"last_activity_date":1690810519,"creation_date":1690809818,"question_id":76804073,"body_markdown":"I&#39;ve been working on some USACO guide Bronze problems when I ran into two errors in one of my codes; a runtime error and a logic error.\r\n\r\nThe task, [Speeding Ticket](http://www.usaco.org/index.php?page=viewproblem2&amp;cpid=568), inputs the miles traveled/speed limit and then the miles traveled/speed actually went and asks me to find the greatest number of mph that the speed limit was exceeded by.\r\n\r\nThe runtime error seemed to occur somewhere while asking for user input, but I&#39;ve used the same method before and nothing happened then so I don&#39;t know where I&#39;m going wrong.\r\n\r\nAs for the second one, thought it hasn&#39;t explicitly been said, I know this is an error in my code. The problem is, I actually don&#39;t know how to implement it. I know what I&#39;d do if the number of pairs I needed to create was a fixed value, but here it depends on user input. So I&#39;m stuck in that regard as well.\r\n[Link to my code on replit\r\n](https://replit.com/@mathshanayapal/RemorsefulWorseBots#Main.java)\r\nWhat I expected: 5\r\nWhat I got:[error][1]\r\n\r\nAny help would be great!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/LVgXv.png","title":"Amount of Arrays created depends on input; How to debug?","body":"<p>I've been working on some USACO guide Bronze problems when I ran into two errors in one of my codes; a runtime error and a logic error.</p>\n<p>The task, <a href=\"http://www.usaco.org/index.php?page=viewproblem2&amp;cpid=568\" rel=\"nofollow noreferrer\">Speeding Ticket</a>, inputs the miles traveled/speed limit and then the miles traveled/speed actually went and asks me to find the greatest number of mph that the speed limit was exceeded by.</p>\n<p>The runtime error seemed to occur somewhere while asking for user input, but I've used the same method before and nothing happened then so I don't know where I'm going wrong.</p>\n<p>As for the second one, thought it hasn't explicitly been said, I know this is an error in my code. The problem is, I actually don't know how to implement it. I know what I'd do if the number of pairs I needed to create was a fixed value, but here it depends on user input. So I'm stuck in that regard as well.\n<a href=\"https://replit.com/@mathshanayapal/RemorsefulWorseBots#Main.java\" rel=\"nofollow noreferrer\">Link to my code on replit\n</a>\nWhat I expected: 5\nWhat I got:<a href=\"https://i.stack.imgur.com/LVgXv.png\" rel=\"nofollow noreferrer\">error</a></p>\n<p>Any help would be great!</p>\n"},{"tags":["java","kotlin","file","locking","nio"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":1,"creation_date":1690542423,"post_id":76787178,"comment_id":135371913,"body_markdown":"Why do you think `RandomAccessFile` maps the file into memory? And why do you want to avoid that?","body":"Why do you think <code>RandomAccessFile</code> maps the file into memory? And why do you want to avoid that?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1690712412,"post_id":76787178,"comment_id":135389088,"body_markdown":"`RandomAccessFile` does *not* `mmap()` the entire file, and you have no reason to believe otherwise. If the file is closed it is because you or something that you called closed it. You should use the `FileChannel` that you already have, rather than creating input and output streams from it.","body":"<code>RandomAccessFile</code> does <i>not</i> <code>mmap()</code> the entire file, and you have no reason to believe otherwise. If the file is closed it is because you or something that you called closed it. You should use the <code>FileChannel</code> that you already have, rather than creating input and output streams from it."}],"answers":[{"tags":[],"owner":{"account_id":85850,"reputation":8741,"user_id":239101,"accept_rate":57,"display_name":"David Soroko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690810183,"creation_date":1690709127,"answer_id":76797129,"question_id":76787178,"body_markdown":"For locking, should you not use `FileChannel.lock`? Something like\r\n\r\n```kotlin\r\n\r\nfun openLocked(target: Path): FileChannel =\r\n    FileChannel.open(\r\n        target,\r\n        StandardOpenOption.READ,\r\n        StandardOpenOption.WRITE,\r\n        StandardOpenOption.CREATE\r\n    ).also { it.lock() }\r\n\r\n```\r\n\r\nSee if this toy example works for you (I believe that the `use` on the derived streams in your code, close the channel)\r\n\r\n```kotlin\r\n\r\n    val fc =  openLocked( somePath )\r\n\r\n    fc.use { \r\n        val ins = Channels.newInputStream(it)\r\n        val store = String(ins.readBytes())\r\n\r\n        val os = Channels.newOutputStream(it)\r\n        os.write(&quot; + $store&quot;.toByteArray())\r\n    }\r\n```","title":"Read from File, then write to File under same FileLock?","body":"<p>For locking, should you not use <code>FileChannel.lock</code>? Something like</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\nfun openLocked(target: Path): FileChannel =\n    FileChannel.open(\n        target,\n        StandardOpenOption.READ,\n        StandardOpenOption.WRITE,\n        StandardOpenOption.CREATE\n    ).also { it.lock() }\n\n</code></pre>\n<p>See if this toy example works for you (I believe that the <code>use</code> on the derived streams in your code, close the channel)</p>\n<pre class=\"lang-kotlin prettyprint-override\"><code>\n    val fc =  openLocked( somePath )\n\n    fc.use { \n        val ins = Channels.newInputStream(it)\n        val store = String(ins.readBytes())\n\n        val os = Channels.newOutputStream(it)\n        os.write(&quot; + $store&quot;.toByteArray())\n    }\n</code></pre>\n"}],"owner":{"account_id":4972685,"reputation":2505,"user_id":8098236,"accept_rate":100,"display_name":"Ian Rehwinkel"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690810183,"creation_date":1690541988,"question_id":76787178,"body_markdown":"I want to perform a read and a write under the same lock. Once the lock is acquired, I want to read the file, do some data manipulation, then write that data to the same file.\r\n\r\nI have tried the following:\r\n```kt\r\nval storeChannel =\r\n    FileChannel.open(\r\n        target,\r\n        StandardOpenOption.READ,\r\n        StandardOpenOption.WRITE,\r\n        StandardOpenOption.CREATE\r\n    )\r\nreturn runLocking(storeChannel) { channel -&gt;\r\n    val inStream = Channels.newInputStream(channel)\r\n    val store = inStream.use { serializer.read(it) }\r\n    val result = operation(store)\r\n    val outStream = Channels.newOutputStream(channel)\r\n    outStream.use { serializer.write(it, store) }\r\n    result\r\n}\r\n```\r\n(The `runLocking` function simply acquires the lock for the given channel, runs the code in curly braces, then unlocks)\r\n\r\nHowever, the channel is closed after reading from it, making it impossible to write to it. I have read online that one can use `RandomAccessFile` to achieve this, but I don&#39;t want to `mmap` the whole file (which is what I assume `RandomAccessFile` does), since my writes are always sequential.\r\n\r\nIs there a way to acquire a single Lock to do both reading and writing under? Or is `RandomAccessFile` my only option?","title":"Read from File, then write to File under same FileLock?","body":"<p>I want to perform a read and a write under the same lock. Once the lock is acquired, I want to read the file, do some data manipulation, then write that data to the same file.</p>\n<p>I have tried the following:</p>\n<pre><code>val storeChannel =\n    FileChannel.open(\n        target,\n        StandardOpenOption.READ,\n        StandardOpenOption.WRITE,\n        StandardOpenOption.CREATE\n    )\nreturn runLocking(storeChannel) { channel -&gt;\n    val inStream = Channels.newInputStream(channel)\n    val store = inStream.use { serializer.read(it) }\n    val result = operation(store)\n    val outStream = Channels.newOutputStream(channel)\n    outStream.use { serializer.write(it, store) }\n    result\n}\n</code></pre>\n<p>(The <code>runLocking</code> function simply acquires the lock for the given channel, runs the code in curly braces, then unlocks)</p>\n<p>However, the channel is closed after reading from it, making it impossible to write to it. I have read online that one can use <code>RandomAccessFile</code> to achieve this, but I don't want to <code>mmap</code> the whole file (which is what I assume <code>RandomAccessFile</code> does), since my writes are always sequential.</p>\n<p>Is there a way to acquire a single Lock to do both reading and writing under? Or is <code>RandomAccessFile</code> my only option?</p>\n"},{"tags":["java","swing","user-interface","graphics","jframe"],"comments":[{"owner":{"account_id":2101096,"reputation":6836,"user_id":2180290,"accept_rate":75,"display_name":"0x6C38"},"score":6,"creation_date":1370902275,"post_id":17033629,"comment_id":24622228,"body_markdown":"just... don&#39;t even try","body":"just... don&#39;t even try"},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":4,"creation_date":1370902307,"post_id":17033629,"comment_id":24622238,"body_markdown":"It sounds like you want to create a JInternalFrame inside of a JDesktopPane. If that&#39;s not what you want to do, then I agree with @MrD.","body":"It sounds like you want to create a JInternalFrame inside of a JDesktopPane. If that&#39;s not what you want to do, then I agree with @MrD."},{"owner":{"account_id":183279,"reputation":168313,"user_id":418556,"accept_rate":98,"display_name":"Andrew Thompson"},"score":1,"creation_date":1370908229,"post_id":17033629,"comment_id":24623775,"body_markdown":"See also [Working with 2 or more frames](http://stackoverflow.com/q/7889922/418556).","body":"See also <a href=\"http://stackoverflow.com/q/7889922/418556\">Working with 2 or more frames</a>."},{"owner":{"account_id":1547313,"reputation":82154,"user_id":1440565,"accept_rate":59,"display_name":"Code-Apprentice"},"score":1,"creation_date":1370911838,"post_id":17033629,"comment_id":24624462,"body_markdown":"Do you have access to the code for all the JFrames?","body":"Do you have access to the code for all the JFrames?"},{"owner":{"account_id":2881734,"reputation":25,"user_id":2472468,"accept_rate":75,"display_name":"Terra"},"score":0,"creation_date":1370980261,"post_id":17033629,"comment_id":24655549,"body_markdown":"First off thank you for responding, but i guess i did word my question a little off. I want to basically listen in on x11 and see when a program is launched.  When a program is launched, instead of its own window, i would like to launch it into a seperate, existing window aka, my program.","body":"First off thank you for responding, but i guess i did word my question a little off. I want to basically listen in on x11 and see when a program is launched.  When a program is launched, instead of its own window, i would like to launch it into a seperate, existing window aka, my program."},{"owner":{"account_id":247613,"reputation":284089,"user_id":522444,"accept_rate":100,"display_name":"Hovercraft Full Of Eels"},"score":0,"creation_date":1371002882,"post_id":17033629,"comment_id":24663024,"body_markdown":"@Terra: that is a very bad idea and one that Swing and Java are almost uniquely ill-suited for. I suggest you consider not doing this, or if it is necessary, do it with a language that gets closer to the OS and to the metal such as C++.","body":"@Terra: that is a very bad idea and one that Swing and Java are almost uniquely ill-suited for. I suggest you consider not doing this, or if it is necessary, do it with a language that gets closer to the OS and to the metal such as C++."},{"owner":{"account_id":2881734,"reputation":25,"user_id":2472468,"accept_rate":75,"display_name":"Terra"},"score":0,"creation_date":1371387075,"post_id":17033629,"comment_id":24794896,"body_markdown":"@HovercraftFullOfEels, would it then be possible for me to use JNI with a C++ program, just because i don&#39;t feel like recoding my entire program in a language i know little about.","body":"@HovercraftFullOfEels, would it then be possible for me to use JNI with a C++ program, just because i don&#39;t feel like recoding my entire program in a language i know little about."}],"answers":[{"tags":[],"owner":{"account_id":5439705,"reputation":1442,"user_id":4328100,"accept_rate":67,"display_name":"Mohammadreza Khatami"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1419501373,"creation_date":1419501373,"answer_id":27646140,"question_id":17033629,"body_markdown":"yes it&#39;s possible but\r\nsee this:\r\n\r\n     JFrame frame1 = new JFrame(&quot;First Window&quot;);\r\n     JPanel panel = new JPanel(&quot;Second Window&quot;);\r\n     frame1.add(panel,BordeLayout.CENTER);\r\n     frame1.setSize(300,300);\r\n     frame1.setVisible(true);\r\n\r\nJPanel is a component that&#39;s be contained in a JFrame\r\n,it&#39;s not illegal to have a main Window into another main Window!","title":"Launching a JFrame into another JFrame","body":"<p>yes it's possible but\nsee this:</p>\n\n<pre><code> JFrame frame1 = new JFrame(\"First Window\");\n JPanel panel = new JPanel(\"Second Window\");\n frame1.add(panel,BordeLayout.CENTER);\n frame1.setSize(300,300);\n frame1.setVisible(true);\n</code></pre>\n\n<p>JPanel is a component that's be contained in a JFrame\n,it's not illegal to have a main Window into another main Window!</p>\n"},{"tags":[],"owner":{"account_id":29095412,"reputation":11,"user_id":22288391,"display_name":"Iamnotarobot"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690809918,"creation_date":1690809918,"answer_id":76804089,"question_id":17033629,"body_markdown":"It is possible to launch a JFrame inside a JFrame but I would consider it a very bad practice. Look at this for example:\r\n\r\n    JFrame frame1 = new JFrame();\r\n    JFrame frame2 = new JFrame();\r\n    frame1.add(frame2);\r\n    frame1.setVisible(true);\r\n\r\nThis code would still run but it is better to put a JPanel inside a JFrame instead.\r\n","title":"Launching a JFrame into another JFrame","body":"<p>It is possible to launch a JFrame inside a JFrame but I would consider it a very bad practice. Look at this for example:</p>\n<pre><code>JFrame frame1 = new JFrame();\nJFrame frame2 = new JFrame();\nframe1.add(frame2);\nframe1.setVisible(true);\n</code></pre>\n<p>This code would still run but it is better to put a JPanel inside a JFrame instead.</p>\n"}],"owner":{"account_id":2881734,"reputation":25,"user_id":2472468,"accept_rate":75,"display_name":"Terra"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":256,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690809918,"creation_date":1370902066,"question_id":17033629,"body_markdown":"Is it possible for someone to launch a JFrame from a java program, but instead of the JFrame creating its own window, the java program launches it into an existing window?  I thought of trying a classloader, something like this:\r\n\r\n        Class framed = WhateverClassThisIs.class.getClassLoader().loadClass(&quot;foo.class&quot;);\r\n        JFrame launch = (JFrame) framed.newInstance();\r\n        WhatEverJFrameBeingUsed.add(launch);\r\n\r\nand then just simply add it to the container i&#39;m using currently.  But what if the class references another JFrame, like a main class, how do i get that JFrame and contain it in the same existing JFrame? Is it possible to get a Graphics object from a PID, or some other reference to the program?  \r\n\r\nEDIT: I&#39;m doing this in Linux, on XOrg, preferably on Debian Squeeze","title":"Launching a JFrame into another JFrame","body":"<p>Is it possible for someone to launch a JFrame from a java program, but instead of the JFrame creating its own window, the java program launches it into an existing window?  I thought of trying a classloader, something like this:</p>\n\n<pre><code>    Class framed = WhateverClassThisIs.class.getClassLoader().loadClass(\"foo.class\");\n    JFrame launch = (JFrame) framed.newInstance();\n    WhatEverJFrameBeingUsed.add(launch);\n</code></pre>\n\n<p>and then just simply add it to the container i'm using currently.  But what if the class references another JFrame, like a main class, how do i get that JFrame and contain it in the same existing JFrame? Is it possible to get a Graphics object from a PID, or some other reference to the program?  </p>\n\n<p>EDIT: I'm doing this in Linux, on XOrg, preferably on Debian Squeeze</p>\n"},{"tags":["java","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4433743,"reputation":2585,"user_id":3610183,"accept_rate":87,"display_name":"rainman"},"score":0,"creation_date":1690810132,"post_id":76804066,"comment_id":135400661,"body_markdown":"can you share your code please ?","body":"can you share your code please ?"}],"owner":{"account_id":25504758,"reputation":9,"user_id":19297408,"display_name":"Adejumo "},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":104,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690809750,"creation_date":1690809750,"question_id":76804066,"body_markdown":"when I send user log in endpoint from postman I was given this Pre-authenticated entry point called. Rejecting access response from my intelij IDE what is the causes and how can I resolve it\r\n\r\nI try to hit logging endpoint from postman","title":"Pre-authenticated entry point called. Rejecting access","body":"<p>when I send user log in endpoint from postman I was given this Pre-authenticated entry point called. Rejecting access response from my intelij IDE what is the causes and how can I resolve it</p>\n<p>I try to hit logging endpoint from postman</p>\n"},{"tags":["java","interface",".class-file"],"answers":[{"tags":[],"owner":{"account_id":1517245,"reputation":4684,"user_id":1417974,"accept_rate":86,"display_name":"Hans Z"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1339681293,"creation_date":1339680304,"answer_id":11034061,"question_id":11034035,"body_markdown":"For all practical purposes, there is no limit on the number of interfaces a class can implement, but java does not let you inherit from multiple superclasses.\r\n\r\nHowever, if you really want to nitpick, you can say that the number of interfaces a class can implement is bound by the maximum value the interface id can be in java bytecode, or the amount of code memory you have to implement these interfaces, or the amount of hard drive space to store your bytecode. These are silly arguments. Obviously, because your computer doesn&#39;t have infinite memory, infinite throughput, and infinite code space, we know that there are theoretical maximums on everything, just like how there&#39;s a theoretical maximum number of lines of code you can have in a single jar.\r\n\r\nBut if you really really want to know the theoretical maximum number of interfaces a class can implement, it&#39;s 65535.","title":"How many interfaces can a class file implement?","body":"<p>For all practical purposes, there is no limit on the number of interfaces a class can implement, but java does not let you inherit from multiple superclasses.</p>\n\n<p>However, if you really want to nitpick, you can say that the number of interfaces a class can implement is bound by the maximum value the interface id can be in java bytecode, or the amount of code memory you have to implement these interfaces, or the amount of hard drive space to store your bytecode. These are silly arguments. Obviously, because your computer doesn't have infinite memory, infinite throughput, and infinite code space, we know that there are theoretical maximums on everything, just like how there's a theoretical maximum number of lines of code you can have in a single jar.</p>\n\n<p>But if you really really want to know the theoretical maximum number of interfaces a class can implement, it's 65535.</p>\n"},{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1469897841,"creation_date":1339680418,"answer_id":11034098,"question_id":11034035,"body_markdown":"The limit is more practical than technical.\r\n\r\nA realistic limit is in the dozens for hand written code. For generated code you can have much more, but I suspect you have something wrong with your design if you have that many.\r\n\r\n[The limit in the file format is 65535.](https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.11)\r\n\r\nGiven most large projects have less than 10K classes, so it is hard to imagine why you would want to implement that many interfaces in one class.","title":"How many interfaces can a class file implement?","body":"<p>The limit is more practical than technical.</p>\n\n<p>A realistic limit is in the dozens for hand written code. For generated code you can have much more, but I suspect you have something wrong with your design if you have that many.</p>\n\n<p><a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.11\" rel=\"nofollow\">The limit in the file format is 65535.</a></p>\n\n<p>Given most large projects have less than 10K classes, so it is hard to imagine why you would want to implement that many interfaces in one class.</p>\n"},{"tags":[],"owner":{"account_id":133139,"reputation":22924,"user_id":334274,"accept_rate":100,"display_name":"Jivings"},"down_vote_count":0,"up_vote_count":23,"is_accepted":false,"score":23,"last_activity_date":1469897744,"creation_date":1339680532,"answer_id":11034141,"question_id":11034035,"body_markdown":"From the Java VM Specification on [Limitations of the JVM][1]:\r\n\r\n&gt; The number of direct superinterfaces of a class or interface is limited to 65535 by the size of the interfaces_count item of the ClassFile structure.\r\n\r\nThat is the only limitation. And it is due to the structure of the compiled Java bytecode.\r\n \r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.11","title":"How many interfaces can a class file implement?","body":"<p>From the Java VM Specification on <a href=\"https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.11\" rel=\"noreferrer\">Limitations of the JVM</a>:</p>\n\n<blockquote>\n  <p>The number of direct superinterfaces of a class or interface is limited to 65535 by the size of the interfaces_count item of the ClassFile structure.</p>\n</blockquote>\n\n<p>That is the only limitation. And it is due to the structure of the compiled Java bytecode.</p>\n"},{"tags":[],"owner":{"account_id":459860,"reputation":7861,"user_id":2587430,"accept_rate":76,"display_name":"amicngh"},"down_vote_count":2,"up_vote_count":4,"is_accepted":false,"score":2,"last_activity_date":1339680736,"creation_date":1339680736,"answer_id":11034209,"question_id":11034035,"body_markdown":"your class can implement unlimited no of `Interfaces` and one `Interface` can extend unlimited no of `Interfaces` but best practice is to don&#39;t implement so many interfaces . ","title":"How many interfaces can a class file implement?","body":"<p>your class can implement unlimited no of <code>Interfaces</code> and one <code>Interface</code> can extend unlimited no of <code>Interfaces</code> but best practice is to don't implement so many interfaces . </p>\n"}],"owner":{"account_id":1429943,"reputation":1027,"user_id":1352571,"accept_rate":76,"display_name":"sudeep cv"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":32894,"favorite_count":0,"down_vote_count":3,"up_vote_count":28,"accepted_answer_id":11034061,"answer_count":4,"score":25,"last_activity_date":1690809715,"creation_date":1339680226,"question_id":11034035,"body_markdown":"How many interfaces can a class file implement? Is there a limit on the number of interfaces used by a class file?","title":"How many interfaces can a class file implement?","body":"<p>How many interfaces can a class file implement? Is there a limit on the number of interfaces used by a class file?</p>\n"},{"tags":["java","httpclient"],"answers":[{"tags":[],"owner":{"account_id":1456294,"reputation":4735,"user_id":1371792,"accept_rate":71,"display_name":"GreenROBO"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1604924203,"creation_date":1604924203,"answer_id":64751498,"question_id":64751383,"body_markdown":"Is it possible for you to use &lt;br&gt;\r\n\r\n&gt; &lt;dependency&gt; \t&lt;groupId&gt;org.apache.httpcomponents&lt;/groupId&gt;\r\n&gt; \t&lt;artifactId&gt;httpclient&lt;/artifactId&gt; \t&lt;version&gt;4.5.2&lt;/version&gt;\r\n&gt; &lt;/dependency&gt;\r\n\r\nand then `import org.apache.http.conn.ssl.SSLContexts`","title":"Java org.apache.http.ssl.SSLContext not found","body":"<p>Is it possible for you to use <br></p>\n<blockquote>\n<p>  org.apache.httpcomponents\nhttpclient     4.5.2\n</p>\n</blockquote>\n<p>and then <code>import org.apache.http.conn.ssl.SSLContexts</code></p>\n"},{"tags":[],"owner":{"account_id":20897936,"reputation":857,"user_id":15351664,"display_name":"Rakhi Agrawal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1626698865,"creation_date":1626698865,"answer_id":68440765,"question_id":64751383,"body_markdown":"Try using &quot;httpcore - 4.1.3&quot; (of the same version as of your `httpclient` jar)  jar file. You would be able to import `org.apache.http.ssl.SSLContexts` successfully.","title":"Java org.apache.http.ssl.SSLContext not found","body":"<p>Try using &quot;httpcore - 4.1.3&quot; (of the same version as of your <code>httpclient</code> jar)  jar file. You would be able to import <code>org.apache.http.ssl.SSLContexts</code> successfully.</p>\n"},{"tags":[],"owner":{"account_id":26629717,"reputation":1,"user_id":20247090,"display_name":"mandal"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690809663,"creation_date":1690809485,"answer_id":76804037,"question_id":64751383,"body_markdown":"This error may come even if you are not importing `org.apache.http.ssl.SSLContexts` \r\n\r\nTry importing `httpcore` package from maven repository in pom.xml file.\r\n\r\nAlso check you have `httpclient` package.\r\n\r\n*It&#39;s **not** required to have the same version for httpcore and httpclient*","title":"Java org.apache.http.ssl.SSLContext not found","body":"<p>This error may come even if you are not importing <code>org.apache.http.ssl.SSLContexts</code></p>\n<p>Try importing <code>httpcore</code> package from maven repository in pom.xml file.</p>\n<p>Also check you have <code>httpclient</code> package.</p>\n<p><em>It's <strong>not</strong> required to have the same version for httpcore and httpclient</em></p>\n"}],"owner":{"account_id":12636028,"reputation":181,"user_id":10211997,"display_name":"Cano707"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":6170,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1690809663,"creation_date":1604923848,"question_id":64751383,"body_markdown":"I am trying to build a HttpClient but can&#39;t just figure out how to resolve this ClassNotFound-Error. I installed &quot;org.apache.httpcomponents:httpclient:4.1.3&quot; with maven and several other libraries but yet i won&#39;t work. \r\n\r\nCode:\r\n```\r\nimport org.apache.http.HttpEntity;\r\nimport org.apache.http.HttpResponse;\r\nimport org.apache.http.client.HttpClient;\r\nimport org.apache.http.client.config.CookieSpecs;\r\nimport org.apache.http.client.config.RequestConfig;\r\nimport org.apache.http.client.methods.HttpGet;\r\nimport org.apache.http.client.methods.HttpPost;\r\nimport org.apache.http.client.utils.URIBuilder;\r\nimport org.apache.http.entity.StringEntity;\r\nimport org.apache.http.impl.client.HttpClients;\r\nimport org.apache.http.util.EntityUtils;\r\nimport org.json.JSONArray;\r\nimport org.json.JSONObject;\r\n\r\nimport java.io.*;\r\nimport java.net.URISyntaxException;\r\nimport java.util.*;\r\n\r\npublic class Test {\r\n    public static void main(String[] args) {\r\n        String bearerToken = &quot;BLABLA&quot;;\r\n        HttpClient httpClient = HttpClients.custom().setDefaultRequestConfig(RequestConfig.custom().setCookieSpec(CookieSpecs.STANDARD).build()).build();\r\n    }\r\n}\r\n```\r\n\r\nThe corresponding error message:\r\n```\r\nPicked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\r\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/ssl/SSLContexts\r\n\tat org.apache.http.impl.client.HttpClientBuilder.build(HttpClientBuilder.java:977)\r\n\tat Twitter.main(Twitter.java:23)\r\nCaused by: java.lang.ClassNotFoundException: org.apache.http.ssl.SSLContexts\r\n\tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\r\n\tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\r\n\tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\r\n```\r\n\r\nThe maven repos i have installed currently:\r\n```\r\noauth.signpost:signpost-commonshttp4:2.0.0\r\norg.json:json:20200518\r\norg.apache.httpcomponents:httpclient:4.1.3\r\n\r\n```\r\n\r\nPlease note, that i am new to Java and Intellij-IDE.\r\n\r\nI appreciate your help.","title":"Java org.apache.http.ssl.SSLContext not found","body":"<p>I am trying to build a HttpClient but can't just figure out how to resolve this ClassNotFound-Error. I installed &quot;org.apache.httpcomponents:httpclient:4.1.3&quot; with maven and several other libraries but yet i won't work.</p>\n<p>Code:</p>\n<pre><code>import org.apache.http.HttpEntity;\nimport org.apache.http.HttpResponse;\nimport org.apache.http.client.HttpClient;\nimport org.apache.http.client.config.CookieSpecs;\nimport org.apache.http.client.config.RequestConfig;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.client.methods.HttpPost;\nimport org.apache.http.client.utils.URIBuilder;\nimport org.apache.http.entity.StringEntity;\nimport org.apache.http.impl.client.HttpClients;\nimport org.apache.http.util.EntityUtils;\nimport org.json.JSONArray;\nimport org.json.JSONObject;\n\nimport java.io.*;\nimport java.net.URISyntaxException;\nimport java.util.*;\n\npublic class Test {\n    public static void main(String[] args) {\n        String bearerToken = &quot;BLABLA&quot;;\n        HttpClient httpClient = HttpClients.custom().setDefaultRequestConfig(RequestConfig.custom().setCookieSpec(CookieSpecs.STANDARD).build()).build();\n    }\n}\n</code></pre>\n<p>The corresponding error message:</p>\n<pre><code>Picked up _JAVA_OPTIONS: -Dawt.useSystemAAFontSettings=on -Dswing.aatext=true\nException in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/http/ssl/SSLContexts\n    at org.apache.http.impl.client.HttpClientBuilder.build(HttpClientBuilder.java:977)\n    at Twitter.main(Twitter.java:23)\nCaused by: java.lang.ClassNotFoundException: org.apache.http.ssl.SSLContexts\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:522)\n</code></pre>\n<p>The maven repos i have installed currently:</p>\n<pre><code>oauth.signpost:signpost-commonshttp4:2.0.0\norg.json:json:20200518\norg.apache.httpcomponents:httpclient:4.1.3\n\n</code></pre>\n<p>Please note, that i am new to Java and Intellij-IDE.</p>\n<p>I appreciate your help.</p>\n"},{"tags":["java","annotations"],"comments":[{"owner":{"account_id":2652312,"reputation":2970,"user_id":2293666,"accept_rate":0,"display_name":"osexp2000"},"score":0,"creation_date":1688989681,"post_id":76650763,"comment_id":135144775,"body_markdown":"Seems no way to fix it, if no any answer, I am going to close this question.","body":"Seems no way to fix it, if no any answer, I am going to close this question."}],"answers":[{"tags":[],"owner":{"account_id":11370348,"reputation":908,"user_id":8336060,"display_name":"Ogod"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690809337,"creation_date":1690809337,"answer_id":76804016,"question_id":76650763,"body_markdown":"Two ideas came to my mind.\r\n\r\n**Idea 1:**\r\n\r\nCreate a meta annotation for `@Operation` with a different name and use this instead in your code base. This works only of the framework supports meta annotations / composed annotations. A quick test in my own Spring Swagger application looked promising.\r\n\r\ne.g.:\r\n```java\r\nimport io.swagger.v3.oas.annotations.Operation;\r\nimport java.lang.annotation.ElementType;\r\nimport java.lang.annotation.Inherited;\r\nimport java.lang.annotation.Retention;\r\nimport java.lang.annotation.RetentionPolicy;\r\nimport java.lang.annotation.Target;\r\n\r\n@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\r\n@Retention(RetentionPolicy.RUNTIME)\r\n@Inherited\r\n@Operation\r\npublic @interface OpenApiOperation {\r\n  String summary() default &quot;&quot;;\r\n  String description() default &quot;&quot;;\r\n  // copy needed signatures of original @Operation here\r\n}\r\n```\r\n\r\nThen use `@OpenApiOperation` instead of `@Operation` in your code base.\r\n\r\n**Idea 2:**\r\n\r\nMake your own `Operation` class an inner class and import it via the outer class name.\r\n\r\ne.g.:\r\n\r\n```java\r\npublic class MyApp {\r\n  public static class Operation {\r\n    // methods\r\n  }\r\n}\r\n\r\n```\r\n\r\nThen use it like this:\r\n\r\n```\r\nimport MyApp\r\n\r\n...\r\n@Operation(...)\r\n... {\r\n    MyApp.Operation myAppOperation = ...\r\n}\r\n\r\n```","title":"Annoying annotation io.swagger.v3.oas.annotations.Operation which is too popular and duplicate with application side class name","body":"<p>Two ideas came to my mind.</p>\n<p><strong>Idea 1:</strong></p>\n<p>Create a meta annotation for <code>@Operation</code> with a different name and use this instead in your code base. This works only of the framework supports meta annotations / composed annotations. A quick test in my own Spring Swagger application looked promising.</p>\n<p>e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import io.swagger.v3.oas.annotations.Operation;\nimport java.lang.annotation.ElementType;\nimport java.lang.annotation.Inherited;\nimport java.lang.annotation.Retention;\nimport java.lang.annotation.RetentionPolicy;\nimport java.lang.annotation.Target;\n\n@Target({ElementType.METHOD, ElementType.ANNOTATION_TYPE})\n@Retention(RetentionPolicy.RUNTIME)\n@Inherited\n@Operation\npublic @interface OpenApiOperation {\n  String summary() default &quot;&quot;;\n  String description() default &quot;&quot;;\n  // copy needed signatures of original @Operation here\n}\n</code></pre>\n<p>Then use <code>@OpenApiOperation</code> instead of <code>@Operation</code> in your code base.</p>\n<p><strong>Idea 2:</strong></p>\n<p>Make your own <code>Operation</code> class an inner class and import it via the outer class name.</p>\n<p>e.g.:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MyApp {\n  public static class Operation {\n    // methods\n  }\n}\n\n</code></pre>\n<p>Then use it like this:</p>\n<pre><code>import MyApp\n\n...\n@Operation(...)\n... {\n    MyApp.Operation myAppOperation = ...\n}\n\n</code></pre>\n"}],"owner":{"account_id":2652312,"reputation":2970,"user_id":2293666,"accept_rate":0,"display_name":"osexp2000"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":343,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690809337,"creation_date":1688965173,"question_id":76650763,"body_markdown":"Springboot uses some annotations for REST api, such as\r\n```\r\n  @PostMapping\r\n  @Operation(summary = &quot;an example api&quot;)\r\n  public void forceDone(@RequestBody @Valid final Example example) {\r\n...\r\n```\r\n\r\nThe @Operation is io.swagger.v3.oas.annotations.Operation.\r\n\r\nBut this name is too popular, the application side also have a class (not @interface) named Operation, such as\r\n```\r\nclass MyApp.Operation {\r\n...\r\n```\r\n\r\nSure I can replace one side of them with full class name, \r\n\r\nbut I wonder \r\n- ## is there anyway to tell Java to differentiate the @interface and class name? such as (pseudo code)\r\n```\r\nimport io.swagger.v3.oas.annotations.@Operation\r\nimport MyApp.Operation\r\n\r\n\r\n...\r\n@Operation(...)\r\n... {\r\n    Operation myAppOperation = ...  // not related to the @Operation.\r\n}\r\n```\r\n\r\n(I understand that annotation can not be inherited, but still hoping a better solution).\r\n\r\n\r\nEDIT: I have seen springboot internal source code searching for io.swagger.v3.oas.annotations.Operation, such as in `org.springdoc.api.AbstractOpenApiResource#calculatePath(..)`\r\n\r\n```\r\n\t\t\tif (apiOperation == null || StringUtils.isBlank(apiOperation.operationId()))\r\n\t\t\t\tapiOperation = AnnotatedElementUtils.findMergedAnnotation(method,\r\n\t\t\t\t\t\tio.swagger.v3.oas.annotations.Operation.class);\r\n```\r\n\r\nso obviously there seems no way to use an alternative annotation, I did not expect that.\r\n\r\n\r\nBut I come up with another thought:\r\n- ## is there any way to reference annotation name by short name? such as\r\n```\r\nannotations.Operation\r\n```\r\ninstead of\r\n```\r\nio.swagger.v3.oas.annotations.Operation\r\n```\r\n?\r\n","title":"Annoying annotation io.swagger.v3.oas.annotations.Operation which is too popular and duplicate with application side class name","body":"<p>Springboot uses some annotations for REST api, such as</p>\n<pre><code>  @PostMapping\n  @Operation(summary = &quot;an example api&quot;)\n  public void forceDone(@RequestBody @Valid final Example example) {\n...\n</code></pre>\n<p>The @Operation is io.swagger.v3.oas.annotations.Operation.</p>\n<p>But this name is too popular, the application side also have a class (not @interface) named Operation, such as</p>\n<pre><code>class MyApp.Operation {\n...\n</code></pre>\n<p>Sure I can replace one side of them with full class name,</p>\n<p>but I wonder</p>\n<ul>\n<li><h2>is there anyway to tell Java to differentiate the @interface and class name? such as (pseudo code)</h2>\n</li>\n</ul>\n<pre><code>import io.swagger.v3.oas.annotations.@Operation\nimport MyApp.Operation\n\n\n...\n@Operation(...)\n... {\n    Operation myAppOperation = ...  // not related to the @Operation.\n}\n</code></pre>\n<p>(I understand that annotation can not be inherited, but still hoping a better solution).</p>\n<p>EDIT: I have seen springboot internal source code searching for io.swagger.v3.oas.annotations.Operation, such as in <code>org.springdoc.api.AbstractOpenApiResource#calculatePath(..)</code></p>\n<pre><code>            if (apiOperation == null || StringUtils.isBlank(apiOperation.operationId()))\n                apiOperation = AnnotatedElementUtils.findMergedAnnotation(method,\n                        io.swagger.v3.oas.annotations.Operation.class);\n</code></pre>\n<p>so obviously there seems no way to use an alternative annotation, I did not expect that.</p>\n<p>But I come up with another thought:</p>\n<ul>\n<li><h2>is there any way to reference annotation name by short name? such as</h2>\n</li>\n</ul>\n<pre><code>annotations.Operation\n</code></pre>\n<p>instead of</p>\n<pre><code>io.swagger.v3.oas.annotations.Operation\n</code></pre>\n<p>?</p>\n"},{"tags":["java","mapping","mapstruct"],"owner":{"account_id":14671913,"reputation":63,"user_id":10612897,"display_name":"Artyom Danilin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":52,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690808711,"creation_date":1690808711,"question_id":76803930,"body_markdown":"I have a request, that contains two different arrays\r\n```json\r\n{\r\n   &quot;my_object&quot;: {\r\n      &quot;foo&quot; : [\r\n         ...\r\n      ],\r\n      &quot;bar&quot; : [\r\n         ...\r\n      ],\r\n      // other fields\r\n   }\r\n}\r\n```\r\nI want map `foo` and `bar` to List of `baz` object, so I wrote something like:\r\n```java\r\n// MyObjectMapper.java\r\n\r\n    @Named(&quot;fromMyObject&quot;)\r\n    default List&lt;Baz&gt; fromMyObject(MyObject myObject) {\r\n        List&lt;Baz&gt; result = new ArrayList&lt;&gt;();\r\n\r\n        for (Foo foo: myObject.getFoo()) {\r\n            result.add(map(foo));\r\n        }\r\n\r\n        for (Bar bar: myObject.getBar()) {\r\n            result.add(map(bar));             \r\n        }\r\n\r\n        return result;\r\n    }\r\n```\r\nAnd use it as: `@Mapping(target = &quot;fooAndBar&quot;, source =&quot;.&quot;, qualifiedByName = &quot;fromMyObject&quot;)`\r\n\r\nBut I get the following error: \r\n\r\n&gt; Qualifier error. No method found annotated with @Named#value: [\r\n&gt; fromMyObject]. See https://mapstruct.org/faq/#qualifier for more info.\r\n\r\nWhat is wrong?","title":"MapStruct: map one object to List of another one","body":"<p>I have a request, that contains two different arrays</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n   &quot;my_object&quot;: {\n      &quot;foo&quot; : [\n         ...\n      ],\n      &quot;bar&quot; : [\n         ...\n      ],\n      // other fields\n   }\n}\n</code></pre>\n<p>I want map <code>foo</code> and <code>bar</code> to List of <code>baz</code> object, so I wrote something like:</p>\n<pre class=\"lang-java prettyprint-override\"><code>// MyObjectMapper.java\n\n    @Named(&quot;fromMyObject&quot;)\n    default List&lt;Baz&gt; fromMyObject(MyObject myObject) {\n        List&lt;Baz&gt; result = new ArrayList&lt;&gt;();\n\n        for (Foo foo: myObject.getFoo()) {\n            result.add(map(foo));\n        }\n\n        for (Bar bar: myObject.getBar()) {\n            result.add(map(bar));             \n        }\n\n        return result;\n    }\n</code></pre>\n<p>And use it as: <code>@Mapping(target = &quot;fooAndBar&quot;, source =&quot;.&quot;, qualifiedByName = &quot;fromMyObject&quot;)</code></p>\n<p>But I get the following error:</p>\n<blockquote>\n<p>Qualifier error. No method found annotated with @Named#value: [\nfromMyObject]. See <a href=\"https://mapstruct.org/faq/#qualifier\" rel=\"nofollow noreferrer\">https://mapstruct.org/faq/#qualifier</a> for more info.</p>\n</blockquote>\n<p>What is wrong?</p>\n"},{"tags":["java","pdfbox"],"comments":[{"owner":{"account_id":255529,"reputation":17950,"user_id":535646,"accept_rate":40,"display_name":"Tilman Hausherr"},"score":1,"creation_date":1690803021,"post_id":76802350,"comment_id":135399098,"body_markdown":"&quot;Error: Header doesn&#39;t contain versioninfo&quot; usually means your file is empty or isn&#39;t a PDF. Check with NOTEPAD++ whether your file starts with &quot;%PDF-&quot;.","body":"&quot;Error: Header doesn&#39;t contain versioninfo&quot; usually means your file is empty or isn&#39;t a PDF. Check with NOTEPAD++ whether your file starts with &quot;%PDF-&quot;."},{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1690812173,"post_id":76802350,"comment_id":135401157,"body_markdown":"tankyou yes this documment after saveincrimental  dont contain the %PDF-\nbut the original fil contai %PDF-","body":"tankyou yes this documment after saveincrimental  dont contain the %PDF- but the original fil contai %PDF-"},{"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"score":0,"creation_date":1690812219,"post_id":76802350,"comment_id":135401170,"body_markdown":"this is the firs characters of the original document whe i open it in notpad++\n%PDF-1.4\n%&#226;&#227;&#207;&#211;\n6 0 obj &lt;&lt;/Length 57088&gt;&gt;stream\nO","body":"this is the firs characters of the original document whe i open it in notpad++ %PDF-1.4 %&#226;&#227;&#207;&#211; 6 0 obj &lt;&lt;/Length 57088&gt;&gt;stream O"}],"answers":[{"tags":[],"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690807770,"creation_date":1690807770,"answer_id":76803798,"question_id":76802350,"body_markdown":"You use the same file for reading and writing: \r\n```\r\n  // Populate the fields and save the incremental file to the hard disk\r\n  _pdfManipulator.populateFieldsInDocument(baseNameFiles + FilesManipilator.ORIGINAL_PDF,\r\n    baseNameFiles + FilesManipilator.ORIGINAL_PDF,\r\n    event.CurrentMemberInfo.Configs);\r\n```\r\n\r\nWhile this works fine for regular saves, incremental saves need the original file to copy from. \r\n\r\nThus, use different source and destination files, at least for incremental saves. ","title":"Issue with PDFBox 2.0.28 when using CreateVisibleSignature to add visible signature after using document.saveIncremental","body":"<p>You use the same file for reading and writing:</p>\n<pre><code>  // Populate the fields and save the incremental file to the hard disk\n  _pdfManipulator.populateFieldsInDocument(baseNameFiles + FilesManipilator.ORIGINAL_PDF,\n    baseNameFiles + FilesManipilator.ORIGINAL_PDF,\n    event.CurrentMemberInfo.Configs);\n</code></pre>\n<p>While this works fine for regular saves, incremental saves need the original file to copy from.</p>\n<p>Thus, use different source and destination files, at least for incremental saves.</p>\n"}],"owner":{"account_id":19400955,"reputation":17,"user_id":14187526,"display_name":"rahim soufiane"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":85,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76803798,"answer_count":1,"score":0,"last_activity_date":1690807770,"creation_date":1690796363,"question_id":76802350,"body_markdown":"I have a Java application using PDFBox 2.0.28, and I&#39;m facing a problem when trying to add a signature to a PDF document. The process involves preparing empty fields in the document, populating these fields, and finally adding a signature using the CreateVisibleSignature code example.\r\n\r\nHere&#39;s a simplified overview of the relevant code:\r\n\r\n\r\n```\r\n  // Write the content byte[] to the hard disk\r\n  _filesManipulator.writeFil(\r\n    documentToSigne.Content,\r\n    baseNameFiles + FilesManipilator.ORIGINAL_PDF);\r\n\r\n  // Test if the file contains a signature\r\n  boolean isConatinSignature = _pdfManipulator.isDocumentContainsSignature(content);\r\n  if (!isConatinSignature) {\r\n    // Add empty fields to the PDF document and save it to the hard disk\r\n    _pdfManipulator.PrepaireEmptyFieldsToDocument(baseNameFiles + FilesManipilator.ORIGINAL_PDF,\r\n        baseNameFiles + FilesManipilator.ORIGINAL_PDF, documentToSigne, event.CurrentMemberInfo);\r\n }\r\n\r\n  // Populate the fields and save the incremental file to the hard disk\r\n  _pdfManipulator.populateFieldsInDocument(baseNameFiles + FilesManipilator.ORIGINAL_PDF,\r\n    baseNameFiles + FilesManipilator.ORIGINAL_PDF,\r\n    event.CurrentMemberInfo.Configs);\r\n\r\n  // Add a signature using the `CreateVisibleSignature` example\r\n  _pdfManipulator.addSignatureFormConfigs(baseNameFiles, event, event.CurrentMemberInfo,    documentToSigne);\r\n  \r\n // ------------------------------------------------------------------\r\n\r\n\r\n //and this is the code of PrepaireEmptyFieldsToDocument\r\n  public void PrepaireEmptyFieldsToDocument(String pathSource, String \r\n pathdestination,\r\n                                              DocumentToSignDto \r\n documentToSigne, MemberSignerConfigsDto CurrentMemberInfo) throws \r\n IOException {\r\n        PDDocument document = PDDocument.load(new File(pathSource));\r\n\r\n        PDAcroForm acroForm = \r\n document.getDocumentCatalog().getAcroForm();\r\n        if (acroForm == null) {\r\n            acroForm = new PDAcroForm(document);\r\n            document.getDocumentCatalog().setAcroForm(acroForm);\r\n        }\r\n        // get liste of configFilds to prepar the list of filds to add \r\n in a document\r\n        List&lt;DocumentMemberConfigDto&gt; LastConfigList = documentToSigne.MemberSignerConfigs.stream()\r\n                .flatMap(doc -&gt; doc.Configs.stream())\r\n                .collect(Collectors.toList());\r\n\r\n        creatFilds(document, acroForm, LastConfigList);\r\n\r\n        List&lt;DocumentMemberConfigDto&gt; CurrentConfigList = CurrentMemberInfo.Configs.stream()\r\n                .filter(p -&gt; p.docOrder == documentToSigne.Order)\r\n                .collect(Collectors.toList());\r\n\r\n        creatFilds(document, acroForm, CurrentConfigList);\r\n\r\n        document.save(pathdestination);\r\n        document.close();\r\n    }\r\n  // ------------------------------------------------------------------\r\n\r\n\r\n  //and this is the code of populateFieldsInDocument\r\n\r\n  public void populateFieldsInDocument(String pathSource, String \r\n pathdestination,\r\n                                         \r\n  java.util.List&lt;DocumentMemberConfigDto&gt; configList)\r\n            throws IOException {\r\n\r\n        PDDocument document = PDDocument.load(new File(pathSource));\r\n        // Get the AcroForm from the document\r\n        PDAcroForm acroForm = \r\n document.getDocumentCatalog().getAcroForm();\r\n\r\n        // Loop through the configList and populate fields\r\n        for (DocumentMemberConfigDto config : configList) {\r\n\r\n            PDField field = acroForm.getField(config.id);\r\n            if (field != null &amp;&amp; \r\n !config.fieldLibelle.equals(&quot;Signature&quot;)) {\r\n\r\n                   // set the value of fild\r\n                }\r\n            }\r\n        }\r\n        \r\n document.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\r\n document.getDocumentCatalog().getAcroForm().getCOSObject().setNeedToBeUpdated(true);\r\n        FileOutputStream fileOutputStream = new FileOutputStream(new \r\n  File(pathdestination));\r\n        document.saveIncremental(fileOutputStream);\r\n        document.close();\r\n    }\r\n```\r\n \r\n\r\n\r\n\r\nThe issue arises when calling document.saveIncremental(fileOutputStream); in the populateFieldsInDocument method. This causes the second step to add a signature to fail, with the error message: &quot;Error: Header doesn&#39;t contain versioninfo.&quot;\r\n\r\nI suspect that the problem might be related to the use of document.saveIncremental, but I&#39;m not entirely sure how to resolve it. Any insights or suggestions on how to fix this issue would be greatly appreciated.\r\n\r\nThank you in advance!\r\n\r\n: message : [B@4d8a41c1Error while processing the message: Error: Header doesn&#39;t contain versioninfo\r\njava.io.IOException: Error: Header doesn&#39;t contain versioninfo\r\nat org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:221) ~[pdfbox-2.0.28.jar!/:2.0.28]\r\nat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1110) ~[pdfbox-2.0.28.jar!/:2.0.28]\r\nat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1093) ~[pdfbox-2.0.28.jar!/:2.0.28]\r\nat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1052) ~[pdfbox-2.0.28.jar!/:2.0.28]\r\nat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1000) ~[pdfbox-2.0.28.jar!/:2.0.28]\r\nat org.apache.pdfbox.pdmodel.interactive.digitalsignature.visible.PDVisibleSignDesigner.calculatePageSizeFromFile(PDVisibleSignDesigner.java:171) ~[pdfbox-2.0.28.jar!/:2.0.28]\r\nat org.apache.pdfbox.pdmodel.interactive.digitalsignature.visible.PDVisibleSignDesigner.&lt;init&gt;(PDVisibleSignDesigner.java:72) ~[pdfbox-2.0.28.jar!/:2.0.28]\r\nat co.netcom.signature.CreateVisibleSignature.setVisibleSignDesigner(CreateVisibleSignature.java:73) ~[classes!/:0.0.1-SNAPSHOT]\r\n","title":"Issue with PDFBox 2.0.28 when using CreateVisibleSignature to add visible signature after using document.saveIncremental","body":"<p>I have a Java application using PDFBox 2.0.28, and I'm facing a problem when trying to add a signature to a PDF document. The process involves preparing empty fields in the document, populating these fields, and finally adding a signature using the CreateVisibleSignature code example.</p>\n<p>Here's a simplified overview of the relevant code:</p>\n<pre><code>  // Write the content byte[] to the hard disk\n  _filesManipulator.writeFil(\n    documentToSigne.Content,\n    baseNameFiles + FilesManipilator.ORIGINAL_PDF);\n\n  // Test if the file contains a signature\n  boolean isConatinSignature = _pdfManipulator.isDocumentContainsSignature(content);\n  if (!isConatinSignature) {\n    // Add empty fields to the PDF document and save it to the hard disk\n    _pdfManipulator.PrepaireEmptyFieldsToDocument(baseNameFiles + FilesManipilator.ORIGINAL_PDF,\n        baseNameFiles + FilesManipilator.ORIGINAL_PDF, documentToSigne, event.CurrentMemberInfo);\n }\n\n  // Populate the fields and save the incremental file to the hard disk\n  _pdfManipulator.populateFieldsInDocument(baseNameFiles + FilesManipilator.ORIGINAL_PDF,\n    baseNameFiles + FilesManipilator.ORIGINAL_PDF,\n    event.CurrentMemberInfo.Configs);\n\n  // Add a signature using the `CreateVisibleSignature` example\n  _pdfManipulator.addSignatureFormConfigs(baseNameFiles, event, event.CurrentMemberInfo,    documentToSigne);\n  \n // ------------------------------------------------------------------\n\n\n //and this is the code of PrepaireEmptyFieldsToDocument\n  public void PrepaireEmptyFieldsToDocument(String pathSource, String \n pathdestination,\n                                              DocumentToSignDto \n documentToSigne, MemberSignerConfigsDto CurrentMemberInfo) throws \n IOException {\n        PDDocument document = PDDocument.load(new File(pathSource));\n\n        PDAcroForm acroForm = \n document.getDocumentCatalog().getAcroForm();\n        if (acroForm == null) {\n            acroForm = new PDAcroForm(document);\n            document.getDocumentCatalog().setAcroForm(acroForm);\n        }\n        // get liste of configFilds to prepar the list of filds to add \n in a document\n        List&lt;DocumentMemberConfigDto&gt; LastConfigList = documentToSigne.MemberSignerConfigs.stream()\n                .flatMap(doc -&gt; doc.Configs.stream())\n                .collect(Collectors.toList());\n\n        creatFilds(document, acroForm, LastConfigList);\n\n        List&lt;DocumentMemberConfigDto&gt; CurrentConfigList = CurrentMemberInfo.Configs.stream()\n                .filter(p -&gt; p.docOrder == documentToSigne.Order)\n                .collect(Collectors.toList());\n\n        creatFilds(document, acroForm, CurrentConfigList);\n\n        document.save(pathdestination);\n        document.close();\n    }\n  // ------------------------------------------------------------------\n\n\n  //and this is the code of populateFieldsInDocument\n\n  public void populateFieldsInDocument(String pathSource, String \n pathdestination,\n                                         \n  java.util.List&lt;DocumentMemberConfigDto&gt; configList)\n            throws IOException {\n\n        PDDocument document = PDDocument.load(new File(pathSource));\n        // Get the AcroForm from the document\n        PDAcroForm acroForm = \n document.getDocumentCatalog().getAcroForm();\n\n        // Loop through the configList and populate fields\n        for (DocumentMemberConfigDto config : configList) {\n\n            PDField field = acroForm.getField(config.id);\n            if (field != null &amp;&amp; \n !config.fieldLibelle.equals(&quot;Signature&quot;)) {\n\n                   // set the value of fild\n                }\n            }\n        }\n        \n document.getDocumentCatalog().getCOSObject().setNeedToBeUpdated(true);\n document.getDocumentCatalog().getAcroForm().getCOSObject().setNeedToBeUpdated(true);\n        FileOutputStream fileOutputStream = new FileOutputStream(new \n  File(pathdestination));\n        document.saveIncremental(fileOutputStream);\n        document.close();\n    }\n</code></pre>\n<p>The issue arises when calling document.saveIncremental(fileOutputStream); in the populateFieldsInDocument method. This causes the second step to add a signature to fail, with the error message: &quot;Error: Header doesn't contain versioninfo.&quot;</p>\n<p>I suspect that the problem might be related to the use of document.saveIncremental, but I'm not entirely sure how to resolve it. Any insights or suggestions on how to fix this issue would be greatly appreciated.</p>\n<p>Thank you in advance!</p>\n<p>: message : [B@4d8a41c1Error while processing the message: Error: Header doesn't contain versioninfo\njava.io.IOException: Error: Header doesn't contain versioninfo\nat org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:221) ~[pdfbox-2.0.28.jar!/:2.0.28]\nat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1110) ~[pdfbox-2.0.28.jar!/:2.0.28]\nat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1093) ~[pdfbox-2.0.28.jar!/:2.0.28]\nat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1052) ~[pdfbox-2.0.28.jar!/:2.0.28]\nat org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1000) ~[pdfbox-2.0.28.jar!/:2.0.28]\nat org.apache.pdfbox.pdmodel.interactive.digitalsignature.visible.PDVisibleSignDesigner.calculatePageSizeFromFile(PDVisibleSignDesigner.java:171) ~[pdfbox-2.0.28.jar!/:2.0.28]\nat org.apache.pdfbox.pdmodel.interactive.digitalsignature.visible.PDVisibleSignDesigner.(PDVisibleSignDesigner.java:72) ~[pdfbox-2.0.28.jar!/:2.0.28]\nat co.netcom.signature.CreateVisibleSignature.setVisibleSignDesigner(CreateVisibleSignature.java:73) ~[classes!/:0.0.1-SNAPSHOT]</p>\n"},{"tags":["java","spring","spring-boot","spring-webflux"],"comments":[{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":0,"creation_date":1679593867,"post_id":75825235,"comment_id":133753641,"body_markdown":"I am getting a 415 on spring-boot 2.7.5. The problem is resolved if I take out the Mono&lt;&gt; from (@RequestBody Mono&lt;RequestModel&gt;.I would like to try to simulate. Could you possibly include the complete pom and any other specifics to help be get this running?","body":"I am getting a 415 on spring-boot 2.7.5. The problem is resolved if I take out the Mono&lt;&gt; from (@RequestBody Mono&lt;RequestModel&gt;.I would like to try to simulate. Could you possibly include the complete pom and any other specifics to help be get this running?"},{"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"score":0,"creation_date":1679594244,"post_id":75825235,"comment_id":133753725,"body_markdown":"@John Williams not working even after removing mono. It&#39;s part of big project. So, could you please try in any project generated from https://start.spring.io/  with the above mentioned jaxb dependecy and webflux and spring boot 3.0.5","body":"@John Williams not working even after removing mono. It&#39;s part of big project. So, could you please try in any project generated from <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">start.spring.io</a>  with the above mentioned jaxb dependecy and webflux and spring boot 3.0.5"},{"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"score":1,"creation_date":1679599116,"post_id":75825235,"comment_id":133754849,"body_markdown":"Just did same and am also getting the 415 error. I am 90% sure its connected to the move of javax.xml.bind to jakarta.xml.bind from Java 11 -&gt; Java 17. I will take a look at the fix.","body":"Just did same and am also getting the 415 error. I am 90% sure its connected to the move of javax.xml.bind to jakarta.xml.bind from Java 11 -&gt; Java 17. I will take a look at the fix."}],"answers":[{"tags":[],"owner":{"account_id":10941198,"reputation":4394,"user_id":8041003,"display_name":"John Williams"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1679729759,"creation_date":1679601832,"answer_id":75827535,"question_id":75825235,"body_markdown":"The issue is that **javax.xml.bind** in Java 11 has been replaced with **jakarta.xml.bind** in Java 17.\r\n\r\nFix this by updating the dependencies by removing `javax.xml.bind:jaxb-api:2.3.1` and replacing with `jakarta.xml.bind:jakarta.xml.bind-api` (version managed from spring-boot-starter-parent).\r\n\r\nAll the `import javax.xml.bind` must be changed to `import jakarta.xml.bind` in your POJOs if they are handcoded.\r\n\r\nAlternatively, if the XML backing classes are generated the jaxb refs in the XSDSchema must changed as follows:\r\n\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\r\n        jxb:version=&quot;1.0&quot;\r\n\r\nmust be changed to\r\n\r\n    &lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\r\n        xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\r\n        jxb:version=&quot;3.0&quot;\r\n\r\nHere is source from a small project that works correctly:\r\n\r\npom\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;3.0.5&lt;/version&gt; &lt;!--or 2.7.10 --&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;monostuff&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;monostuff&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;17&lt;/java.version&gt;&lt;!--or 11 --&gt;\r\n\t&lt;/properties&gt;\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n\t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n    &lt;!-- Java 11 &lt;dependency&gt; --&gt;\r\n    &lt;!-- \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt; --&gt;\r\n    &lt;!-- \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt; --&gt;\r\n    &lt;!-- \t\t\t&lt;version&gt;2.3.0&lt;/version&gt; --&gt;\r\n    &lt;!-- \t\t&lt;/dependency&gt; --&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n\t\t\t&lt;!-- or Java 11 &lt;version&gt;2.3.0&lt;/version&gt; --&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n\t\t\t&lt;!-- or Java 11 &lt;version&gt;2.3.0&lt;/version&gt; --&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n\r\nController\r\n\r\n    package com.example.demo;\r\n    \r\n    import org.springframework.http.MediaType;\r\n    import org.springframework.web.bind.annotation.PostMapping;\r\n    import org.springframework.web.bind.annotation.RequestBody;\r\n    import org.springframework.web.bind.annotation.RestController;\r\n    \r\n    import reactor.core.publisher.Mono;\r\n    \r\n    @RestController\r\n    public class MyController {\r\n\t   @PostMapping(\r\n\t\t\t      value = &quot;/sides/Request&quot;,\r\n\t\t\t      consumes = MediaType.APPLICATION_XML_VALUE,\r\n\t\t\t      produces = MediaType.APPLICATION_XML_VALUE)\r\n\t\t\t  public Mono&lt;ResponseModel&gt; getSsi(@RequestBody Mono&lt;RequestModel&gt; requestModelMono) {\t\r\n\t   \r\n\t\t   \r\n\t\t     ResponseModel responseModel = new ResponseModel();\r\n\t\t\treturn Mono.just(responseModel);\r\n\t\t\t}\r\n    }\r\n\r\nRequestModel\r\n\r\n    package com.example.demo;\r\n    \r\n    import java.util.Date;\r\n    \r\n    // were javax.xml.bind in java 11 / string boot 2\r\n    import jakarta.xml.bind.annotation.XmlAttribute;\r\n    import jakarta.xml.bind.annotation.XmlElement;\r\n    import jakarta.xml.bind.annotation.XmlRootElement;\r\n    import jakarta.xml.bind.annotation.XmlTransient;\r\n    import jakarta.xml.bind.annotation.XmlType;\r\n    \r\n    import lombok.Data;\r\n    import lombok.NoArgsConstructor;\r\n    \r\n    @XmlRootElement(name = &quot;book&quot;)\r\n    @XmlType()\r\n    @NoArgsConstructor\r\n    @Data\r\n    public class RequestModel {\r\n\r\n    private Long id;\r\n    private String name;\r\n    private String author;\r\n    private Date date;\r\n\r\n    @XmlAttribute\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @XmlElement(name = &quot;title&quot;)\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @XmlTransient\r\n    public void setAuthor(String author) {\r\n        this.author = author;\r\n    }\r\n    \r\n    }\r\n\r\nResponseModel\r\n\r\n    package com.example.demo;\r\n    \r\n    import java.util.Date;\r\n    \r\n    // were javax.xml.bind in java 11 / string boot 2 \r\n    import jakarta.xml.bind.annotation.XmlAttribute;\r\n    import jakarta.xml.bind.annotation.XmlElement;\r\n    import jakarta.xml.bind.annotation.XmlRootElement;\r\n    import jakarta.xml.bind.annotation.XmlTransient;\r\n    import jakarta.xml.bind.annotation.XmlType;\r\n    \r\n    import lombok.Data;\r\n    \r\n    @XmlRootElement(name = &quot;book&quot;)\r\n    @XmlType()\r\n    @Data\r\n    public class ResponseModel {\r\n\r\n    private Long id;\r\n    private String name;\r\n    private String author;\r\n    private Date date;\r\n\r\n    @XmlAttribute\r\n    public void setId(Long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    @XmlElement(name = &quot;title&quot;)\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    @XmlTransient\r\n    public void setAuthor(String author) {\r\n        this.author = author;\r\n    }\r\n    \r\n    }\r\n\r\nSample CURL:\r\n\r\n    curl http://localhost:8080/sides/Request --header &quot;Content-Type: application/xml&quot; --data &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;&lt;book id=\\&quot;1\\&quot;&gt;&lt;title&gt;Book1&lt;/title&gt;&lt;date&gt;2016-11-12T11:25:12.227+07:00&lt;/date&gt;&lt;/book&gt;&quot;\r\n\r\n","title":"Spring Boot 3.0.4 webflux having 415 UNSUPPORTED_MEDIA_TYPE","body":"<p>The issue is that <strong>javax.xml.bind</strong> in Java 11 has been replaced with <strong>jakarta.xml.bind</strong> in Java 17.</p>\n<p>Fix this by updating the dependencies by removing <code>javax.xml.bind:jaxb-api:2.3.1</code> and replacing with <code>jakarta.xml.bind:jakarta.xml.bind-api</code> (version managed from spring-boot-starter-parent).</p>\n<p>All the <code>import javax.xml.bind</code> must be changed to <code>import jakarta.xml.bind</code> in your POJOs if they are handcoded.</p>\n<p>Alternatively, if the XML backing classes are generated the jaxb refs in the XSDSchema must changed as follows:</p>\n<pre><code>&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:jxb=&quot;http://java.sun.com/xml/ns/jaxb&quot;\n    jxb:version=&quot;1.0&quot;\n</code></pre>\n<p>must be changed to</p>\n<pre><code>&lt;xsd:schema xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;\n    xmlns:jxb=&quot;https://jakarta.ee/xml/ns/jaxb&quot;\n    jxb:version=&quot;3.0&quot;\n</code></pre>\n<p>Here is source from a small project that works correctly:</p>\n<p>pom</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n&lt;parent&gt;\n    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n    &lt;version&gt;3.0.5&lt;/version&gt; &lt;!--or 2.7.10 --&gt;\n    &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n&lt;/parent&gt;\n&lt;groupId&gt;com.example&lt;/groupId&gt;\n&lt;artifactId&gt;monostuff&lt;/artifactId&gt;\n&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n&lt;name&gt;monostuff&lt;/name&gt;\n&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n&lt;properties&gt;\n    &lt;java.version&gt;17&lt;/java.version&gt;&lt;!--or 11 --&gt;\n&lt;/properties&gt;\n&lt;dependencies&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n        &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n        &lt;optional&gt;true&lt;/optional&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;jakarta.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jakarta.xml.bind-api&lt;/artifactId&gt;\n    &lt;/dependency&gt;\n&lt;!-- Java 11 &lt;dependency&gt; --&gt;\n&lt;!--            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt; --&gt;\n&lt;!--            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt; --&gt;\n&lt;!--            &lt;version&gt;2.3.0&lt;/version&gt; --&gt;\n&lt;!--        &lt;/dependency&gt; --&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n        &lt;!-- or Java 11 &lt;version&gt;2.3.0&lt;/version&gt; --&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n        &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n        &lt;!-- or Java 11 &lt;version&gt;2.3.0&lt;/version&gt; --&gt;\n        &lt;scope&gt;runtime&lt;/scope&gt;\n    &lt;/dependency&gt;\n\n    &lt;dependency&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n    &lt;dependency&gt;\n        &lt;groupId&gt;io.projectreactor&lt;/groupId&gt;\n        &lt;artifactId&gt;reactor-test&lt;/artifactId&gt;\n        &lt;scope&gt;test&lt;/scope&gt;\n    &lt;/dependency&gt;\n&lt;/dependencies&gt;\n\n&lt;build&gt;\n    &lt;plugins&gt;\n        &lt;plugin&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n        &lt;/plugin&gt;\n    &lt;/plugins&gt;\n&lt;/build&gt;\n</code></pre>\n\n<p>Controller</p>\n<pre><code>package com.example.demo;\n\nimport org.springframework.http.MediaType;\nimport org.springframework.web.bind.annotation.PostMapping;\nimport org.springframework.web.bind.annotation.RequestBody;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport reactor.core.publisher.Mono;\n\n@RestController\npublic class MyController {\n   @PostMapping(\n              value = &quot;/sides/Request&quot;,\n              consumes = MediaType.APPLICATION_XML_VALUE,\n              produces = MediaType.APPLICATION_XML_VALUE)\n          public Mono&lt;ResponseModel&gt; getSsi(@RequestBody Mono&lt;RequestModel&gt; requestModelMono) { \n   \n       \n         ResponseModel responseModel = new ResponseModel();\n        return Mono.just(responseModel);\n        }\n}\n</code></pre>\n<p>RequestModel</p>\n<pre><code>package com.example.demo;\n\nimport java.util.Date;\n\n// were javax.xml.bind in java 11 / string boot 2\nimport jakarta.xml.bind.annotation.XmlAttribute;\nimport jakarta.xml.bind.annotation.XmlElement;\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport jakarta.xml.bind.annotation.XmlTransient;\nimport jakarta.xml.bind.annotation.XmlType;\n\nimport lombok.Data;\nimport lombok.NoArgsConstructor;\n\n@XmlRootElement(name = &quot;book&quot;)\n@XmlType()\n@NoArgsConstructor\n@Data\npublic class RequestModel {\n\nprivate Long id;\nprivate String name;\nprivate String author;\nprivate Date date;\n\n@XmlAttribute\npublic void setId(Long id) {\n    this.id = id;\n}\n\n@XmlElement(name = &quot;title&quot;)\npublic void setName(String name) {\n    this.name = name;\n}\n\n@XmlTransient\npublic void setAuthor(String author) {\n    this.author = author;\n}\n\n}\n</code></pre>\n<p>ResponseModel</p>\n<pre><code>package com.example.demo;\n\nimport java.util.Date;\n\n// were javax.xml.bind in java 11 / string boot 2 \nimport jakarta.xml.bind.annotation.XmlAttribute;\nimport jakarta.xml.bind.annotation.XmlElement;\nimport jakarta.xml.bind.annotation.XmlRootElement;\nimport jakarta.xml.bind.annotation.XmlTransient;\nimport jakarta.xml.bind.annotation.XmlType;\n\nimport lombok.Data;\n\n@XmlRootElement(name = &quot;book&quot;)\n@XmlType()\n@Data\npublic class ResponseModel {\n\nprivate Long id;\nprivate String name;\nprivate String author;\nprivate Date date;\n\n@XmlAttribute\npublic void setId(Long id) {\n    this.id = id;\n}\n\n@XmlElement(name = &quot;title&quot;)\npublic void setName(String name) {\n    this.name = name;\n}\n\n@XmlTransient\npublic void setAuthor(String author) {\n    this.author = author;\n}\n\n}\n</code></pre>\n<p>Sample CURL:</p>\n<pre><code>curl http://localhost:8080/sides/Request --header &quot;Content-Type: application/xml&quot; --data &quot;&lt;?xml version=\\&quot;1.0\\&quot; encoding=\\&quot;UTF-8\\&quot; standalone=\\&quot;yes\\&quot;?&gt;&lt;book id=\\&quot;1\\&quot;&gt;&lt;title&gt;Book1&lt;/title&gt;&lt;date&gt;2016-11-12T11:25:12.227+07:00&lt;/date&gt;&lt;/book&gt;&quot;\n</code></pre>\n"}],"owner":{"account_id":6426369,"reputation":1111,"user_id":7758110,"accept_rate":56,"display_name":"Chandresh Mishra"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3917,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":75827535,"answer_count":1,"score":1,"last_activity_date":1690807486,"creation_date":1679586789,"question_id":75825235,"body_markdown":"After upgrading to Spring Boot 3.0.4 webflux from 2.7.5, I am getting &quot;415 UNSUPPORTED_MEDIA_TYPE&quot;. Service was accepting and returning the xml content. It was working fine before.\r\n\r\n        @PostMapping(\r\n          value = &quot;/sides/Request&quot;,\r\n          consumes = MediaType.APPLICATION_XML_VALUE,\r\n          produces = MediaType.APPLICATION_XML_VALUE)\r\n      public Mono&lt;ResponseModel&gt; getSsi(@RequestBody Mono&lt;RequestModel&gt; requestModelMono) {...\r\n    }\r\n\r\nPOM:\r\n\r\n \r\n\r\n     &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n     \r\n            &lt;/dependency&gt;\r\n    \r\n        \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\r\n              \r\n                &lt;scope&gt;runtime&lt;/scope&gt;\r\n            &lt;/dependency&gt;","title":"Spring Boot 3.0.4 webflux having 415 UNSUPPORTED_MEDIA_TYPE","body":"<p>After upgrading to Spring Boot 3.0.4 webflux from 2.7.5, I am getting &quot;415 UNSUPPORTED_MEDIA_TYPE&quot;. Service was accepting and returning the xml content. It was working fine before.</p>\n<pre><code>    @PostMapping(\n      value = &quot;/sides/Request&quot;,\n      consumes = MediaType.APPLICATION_XML_VALUE,\n      produces = MediaType.APPLICATION_XML_VALUE)\n  public Mono&lt;ResponseModel&gt; getSsi(@RequestBody Mono&lt;RequestModel&gt; requestModelMono) {...\n}\n</code></pre>\n<p>POM:</p>\n<pre><code> &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n \n        &lt;/dependency&gt;\n\n    \n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.sun.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-impl&lt;/artifactId&gt;\n          \n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"},{"tags":["java","json","jackson","json-deserialization","jackson-databind"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690802088,"post_id":76802946,"comment_id":135398907,"body_markdown":"Any reason you&#39;re not parsing directly to your DTO structure? `mapper.readValue` is what you want","body":"Any reason you&#39;re not parsing directly to your DTO structure? <code>mapper.readValue</code> is what you want"}],"answers":[{"tags":[],"owner":{"account_id":3092822,"reputation":3094,"user_id":2618609,"accept_rate":100,"display_name":"Evil Toad"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690807432,"creation_date":1690807432,"answer_id":76803759,"question_id":76802946,"body_markdown":"First define one or more classes with the same structure as the json data you want to read (with getters and setters):\r\n\r\n    public class Session {\r\n        private String field1;\r\n        private String field2;\r\n        // TODO: also define getters and setters\r\n    }\r\n    \r\n    public class UserData{\r\n        \r\n        private String username;\r\n        \r\n        public String getUsername(){\r\n            return username;\r\n        }\r\n    \r\n        public void setUsername(String username){\r\n            this.username = username;\r\n        }\r\n    \r\n        private Session[] session;\r\n\r\n        // etc...\r\n    }\r\n\r\nSecond, use ObjectMapper to deserialize:\r\n\r\n    ObjectMapper mapper = new ObjectMapper();\r\n    UserData[] data = mapper.readValue(jsonString, UserData[].class);","title":"How can i deserialize JSON object using jackson libraries in JAVA?","body":"<p>First define one or more classes with the same structure as the json data you want to read (with getters and setters):</p>\n<pre><code>public class Session {\n    private String field1;\n    private String field2;\n    // TODO: also define getters and setters\n}\n\npublic class UserData{\n    \n    private String username;\n    \n    public String getUsername(){\n        return username;\n    }\n\n    public void setUsername(String username){\n        this.username = username;\n    }\n\n    private Session[] session;\n\n    // etc...\n}\n</code></pre>\n<p>Second, use ObjectMapper to deserialize:</p>\n<pre><code>ObjectMapper mapper = new ObjectMapper();\nUserData[] data = mapper.readValue(jsonString, UserData[].class);\n</code></pre>\n"}],"owner":{"account_id":28022775,"reputation":1,"user_id":21403296,"display_name":"Davide"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690807432,"creation_date":1690801030,"question_id":76802946,"body_markdown":"I tried to read and convert objects from a JSON file to java objects using the jackson libraries. I tried both with the tree-model, and with JsonParser using JsonTokens, the problem is that the file contains an *ArrayList&lt;User&gt;* and User has a parameter (&quot;session&quot;) of type *GameSession*. My problem is that both methods fail to correctly recognize the start and end of *User* objects.\r\n\r\n\r\nThis is an example of the JSON file start, the session field can also be &quot;null&quot; :\r\n\r\n```\r\n[ {\r\n  &quot;username&quot; : &quot;Username0&quot;,\r\n  &quot;password&quot; : &quot;password&quot;,\r\n  &quot;session&quot; : {\r\n    &quot;field1&quot; : &quot;secret&quot;,\r\n    &quot;field2&quot; : null\r\n  }\r\n}, {\r\n  &quot;username&quot; : &quot;Username3&quot;,\r\n  &quot;password&quot; : &quot;password&quot;,\r\n  &quot;session&quot; : null\r\n}, {\r\n...\r\n},\r\n...\r\n]\r\n```\r\n\r\n\r\nThis is my last attempt:\r\n\r\n```\r\nJsonFactory factory = new JsonFactory();\r\n\r\nFile file = new File(USER_PATH);\r\n\r\nif (!file.exists()) return;\r\n\r\ntry {\r\n    JsonParser parser = factory.createParser(file);\r\n    parser.setCodec(new ObjectMapper());\r\n\r\n    if (parser.nextToken() != JsonToken.START_ARRAY) {\r\n        return;\r\n    }\r\n\r\n           \r\n\r\n    synchronized (userDB) {\r\n        while (parser.nextToken() == JsonToken.START_OBJECT) {\r\n            User tmp = parser.readValueAs(User.class);\r\n            userDB.add(tmp);\r\n        }\r\n    }\r\n...\r\n```\r\n\r\ninstead the with the tree-model I have problems already in this phase:\r\n\r\n`JsonNode arrNode = objectMapper.readTree(file);`\r\n\r\n\r\n\r\n\r\nI&#39;d like to be able to understand how to handle the problem with both methods, so thanks in advance to anyone who will try to give me some clarification","title":"How can i deserialize JSON object using jackson libraries in JAVA?","body":"<p>I tried to read and convert objects from a JSON file to java objects using the jackson libraries. I tried both with the tree-model, and with JsonParser using JsonTokens, the problem is that the file contains an <em>ArrayList</em> and User has a parameter (&quot;session&quot;) of type <em>GameSession</em>. My problem is that both methods fail to correctly recognize the start and end of <em>User</em> objects.</p>\n<p>This is an example of the JSON file start, the session field can also be &quot;null&quot; :</p>\n<pre><code>[ {\n  &quot;username&quot; : &quot;Username0&quot;,\n  &quot;password&quot; : &quot;password&quot;,\n  &quot;session&quot; : {\n    &quot;field1&quot; : &quot;secret&quot;,\n    &quot;field2&quot; : null\n  }\n}, {\n  &quot;username&quot; : &quot;Username3&quot;,\n  &quot;password&quot; : &quot;password&quot;,\n  &quot;session&quot; : null\n}, {\n...\n},\n...\n]\n</code></pre>\n<p>This is my last attempt:</p>\n<pre><code>JsonFactory factory = new JsonFactory();\n\nFile file = new File(USER_PATH);\n\nif (!file.exists()) return;\n\ntry {\n    JsonParser parser = factory.createParser(file);\n    parser.setCodec(new ObjectMapper());\n\n    if (parser.nextToken() != JsonToken.START_ARRAY) {\n        return;\n    }\n\n           \n\n    synchronized (userDB) {\n        while (parser.nextToken() == JsonToken.START_OBJECT) {\n            User tmp = parser.readValueAs(User.class);\n            userDB.add(tmp);\n        }\n    }\n...\n</code></pre>\n<p>instead the with the tree-model I have problems already in this phase:</p>\n<p><code>JsonNode arrNode = objectMapper.readTree(file);</code></p>\n<p>I'd like to be able to understand how to handle the problem with both methods, so thanks in advance to anyone who will try to give me some clarification</p>\n"},{"tags":["java","selenium-webdriver","junit","automated-tests"],"comments":[{"owner":{"account_id":887930,"reputation":23705,"user_id":926907,"accept_rate":87,"display_name":"Dmitry Zaytsev"},"score":3,"creation_date":1458233104,"post_id":36066767,"comment_id":59779820,"body_markdown":"If I understood your scenario correctly, that is a bad approach to testing - your tests should be independent from each other.","body":"If I understood your scenario correctly, that is a bad approach to testing - your tests should be independent from each other."},{"owner":{"account_id":1039365,"reputation":1745,"user_id":1045780,"accept_rate":79,"display_name":"Ragnarsson"},"score":0,"creation_date":1458233243,"post_id":36066767,"comment_id":59779903,"body_markdown":"@DmitryZaitsev: yeah, I know. Because I write acceptance test, and it is really big, I just try to break it down into small test methods. Try to see if Junit could run them in order","body":"@DmitryZaitsev: yeah, I know. Because I write acceptance test, and it is really big, I just try to break it down into small test methods. Try to see if Junit could run them in order"},{"owner":{"account_id":4794620,"reputation":881,"user_id":3872894,"accept_rate":100,"display_name":"Jared Hooper"},"score":1,"creation_date":1458233801,"post_id":36066767,"comment_id":59780318,"body_markdown":"Possible duplicate of [How to run test methods in specific order in JUnit4?](http://stackoverflow.com/questions/3693626/how-to-run-test-methods-in-specific-order-in-junit4)","body":"Possible duplicate of <a href=\"http://stackoverflow.com/questions/3693626/how-to-run-test-methods-in-specific-order-in-junit4\">How to run test methods in specific order in JUnit4?</a>"}],"answers":[{"tags":[],"owner":{"account_id":4794620,"reputation":881,"user_id":3872894,"accept_rate":100,"display_name":"Jared Hooper"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1458477440,"creation_date":1458233350,"answer_id":36066868,"question_id":36066767,"body_markdown":"So for tests like these - where the steps are dependent on each other - you should really execute them as one unit. You should really be doing something like:\r\n\r\n    @Test\r\n    public void registerWelcomeAndQuestionnaireUserTest(){\r\n        // code\r\n        // Register\r\n        // Welcome\r\n        // Questionnaire\r\n    }\r\n\r\nAs @Jeremiah mentions below, there are a handful of unique ways that separate tests can execute unpredictably. \r\n\r\nNow that I&#39;ve said that, here&#39;s your solution.\r\n\r\nIf you want separate tests, you can use [@FixMethodOrder][1] and then do it by `NAME_ASCENDING`. This is the only way I know.\r\n\r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    public class TestMethodOrder {\r\n    \r\n        @Test\r\n        public void testA() {\r\n            System.out.println(&quot;first&quot;);\r\n        }\r\n        @Test\r\n        public void testC() {\r\n            System.out.println(&quot;third&quot;);\r\n        }\r\n        @Test\r\n        public void testB() {\r\n            System.out.println(&quot;second&quot;);\r\n        }\r\n    }\r\n\r\nwill execute:\r\n\r\n`testA(), testB(), testC()`\r\n\r\nIn your case:\r\n\r\n    @FixMethodOrder(MethodSorters.NAME_ASCENDING)\r\n    public class ThisTestsEverything{\r\n    \r\n        @Test\r\n        public void T1_registerUser(){\r\n            // code\r\n        }\r\n        \r\n        @Test\r\n        public void T2_welcomeNewUser(){\r\n            // code\r\n        }\r\n        \r\n        @Test\r\n        public void T3_questionaireNewUser(){\r\n            // code\r\n        }\r\n    \r\n    }\r\n\r\n\r\n  [1]: https://github.com/junit-team/junit/wiki/Test-execution-order","title":"How to run test methods in order with Junit","body":"<p>So for tests like these - where the steps are dependent on each other - you should really execute them as one unit. You should really be doing something like:</p>\n\n<pre><code>@Test\npublic void registerWelcomeAndQuestionnaireUserTest(){\n    // code\n    // Register\n    // Welcome\n    // Questionnaire\n}\n</code></pre>\n\n<p>As @Jeremiah mentions below, there are a handful of unique ways that separate tests can execute unpredictably. </p>\n\n<p>Now that I've said that, here's your solution.</p>\n\n<p>If you want separate tests, you can use <a href=\"https://github.com/junit-team/junit/wiki/Test-execution-order\" rel=\"nofollow\">@FixMethodOrder</a> and then do it by <code>NAME_ASCENDING</code>. This is the only way I know.</p>\n\n<pre><code>@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class TestMethodOrder {\n\n    @Test\n    public void testA() {\n        System.out.println(\"first\");\n    }\n    @Test\n    public void testC() {\n        System.out.println(\"third\");\n    }\n    @Test\n    public void testB() {\n        System.out.println(\"second\");\n    }\n}\n</code></pre>\n\n<p>will execute:</p>\n\n<p><code>testA(), testB(), testC()</code></p>\n\n<p>In your case:</p>\n\n<pre><code>@FixMethodOrder(MethodSorters.NAME_ASCENDING)\npublic class ThisTestsEverything{\n\n    @Test\n    public void T1_registerUser(){\n        // code\n    }\n\n    @Test\n    public void T2_welcomeNewUser(){\n        // code\n    }\n\n    @Test\n    public void T3_questionaireNewUser(){\n        // code\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8061929,"reputation":1198,"user_id":6077215,"accept_rate":64,"display_name":"Alexey"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1458233863,"creation_date":1458233863,"answer_id":36067042,"question_id":36066767,"body_markdown":"You can not run your test methods in order as how they are written.\r\nThe point is test must be independent each other. JUnit doesn&#39;t encourage dependent tests.\r\n\r\nBut if you are very want...\r\n\r\nThere is the @FixMethodOrder annotation. Please, read the following [Annotation Type FixMethodOrder][1]\r\n\r\n\r\n  [1]: http://junit.org/javadoc/latest/index.html?org/junit/FixMethodOrder.html","title":"How to run test methods in order with Junit","body":"<p>You can not run your test methods in order as how they are written.\nThe point is test must be independent each other. JUnit doesn't encourage dependent tests.</p>\n\n<p>But if you are very want...</p>\n\n<p>There is the @FixMethodOrder annotation. Please, read the following <a href=\"http://junit.org/javadoc/latest/index.html?org/junit/FixMethodOrder.html\" rel=\"nofollow\">Annotation Type FixMethodOrder</a></p>\n"},{"tags":[],"owner":{"account_id":12350952,"reputation":1,"user_id":9009548,"display_name":"Arif Zaman"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1541326473,"creation_date":1541326473,"answer_id":53139702,"question_id":36066767,"body_markdown":"Use the following command above the class from which you will execute your tests\r\n\r\n    @FixMethodOrder(MethodSorters.JVM)\r\n    public class TestMethodOrder {\r\n\r\n        @Test\r\n        public void signup() {\r\n            System.out.println(&quot;Signup&quot;);\r\n        }\r\n\r\n        @Test\r\n        public void login() {\r\n            System.out.println(&quot;Login&quot;);\r\n        }\r\n\r\n        @Test\r\n        public void navigate() {\r\n            System.out.println(&quot;Navigate&quot;);\r\n        }\r\n    }\r\n\r\nThe *MethodSorters.JVM* annotation will execute your tests in the way that you have actually written in your file. (Just as the same way that Java code executes, line by line)","title":"How to run test methods in order with Junit","body":"<p>Use the following command above the class from which you will execute your tests</p>\n\n<pre><code>@FixMethodOrder(MethodSorters.JVM)\npublic class TestMethodOrder {\n\n    @Test\n    public void signup() {\n        System.out.println(\"Signup\");\n    }\n\n    @Test\n    public void login() {\n        System.out.println(\"Login\");\n    }\n\n    @Test\n    public void navigate() {\n        System.out.println(\"Navigate\");\n    }\n}\n</code></pre>\n\n<p>The <em>MethodSorters.JVM</em> annotation will execute your tests in the way that you have actually written in your file. (Just as the same way that Java code executes, line by line)</p>\n"},{"tags":[],"owner":{"account_id":8732602,"reputation":1804,"user_id":6532155,"display_name":"Kavita Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690807427,"creation_date":1545212845,"answer_id":53848489,"question_id":36066767,"body_markdown":"You can sort methods with `@FixMethodOrder(MethodSorters.NAME_ASCENDING)` annotation. Like,\r\n\r\n\r\n    @FixMethodOrder(MethodSorters.DEFAULT)\r\n    public class DefaultOrderOfExecutionTest {\r\n\r\n    private static StringBuilder output = new StringBuilder(&quot;&quot;);\r\n \r\n    @Test\r\n    public void secondTest() {\r\n        output.append(&quot;b&quot;);\r\n    }\r\n \r\n    @Test\r\n    public void thirdTest() {\r\n        output.append(&quot;c&quot;);\r\n    }\r\n \r\n    @Test\r\n    public void firstTest() {\r\n        output.append(&quot;a&quot;);\r\n    }\r\n \r\n    @AfterClass\r\n    public static void assertOutput() {\r\n        assertEquals(output.toString(), &quot;cab&quot;);\r\n    }\r\n    }\r\n\r\n    \r\n\r\n\r\nYou can perform sorting in 3 ways:\r\n\r\n 1. **MethodSorters.DEFAULT**- This default strategy compares test methods using their hashcodes. In case of a hash collision, the lexicographical order is used.\r\n 2. **MethodSorters.JVM**- This strategy utilizes the natural JVM ordering – which can be different for each run.\r\n 3. **MethodSorters.NAME_ASCENDING**- This strategy can be used for running test in their lexicographic order.\r\n \r\nFor more details please refer:[The Order of Tests in JUnit][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/junit-5-test-order","title":"How to run test methods in order with Junit","body":"<p>You can sort methods with <code>@FixMethodOrder(MethodSorters.NAME_ASCENDING)</code> annotation. Like,</p>\n<pre><code>@FixMethodOrder(MethodSorters.DEFAULT)\npublic class DefaultOrderOfExecutionTest {\n\nprivate static StringBuilder output = new StringBuilder(&quot;&quot;);\n\n@Test\npublic void secondTest() {\n    output.append(&quot;b&quot;);\n}\n\n@Test\npublic void thirdTest() {\n    output.append(&quot;c&quot;);\n}\n\n@Test\npublic void firstTest() {\n    output.append(&quot;a&quot;);\n}\n\n@AfterClass\npublic static void assertOutput() {\n    assertEquals(output.toString(), &quot;cab&quot;);\n}\n}\n</code></pre>\n<p>You can perform sorting in 3 ways:</p>\n<ol>\n<li><strong>MethodSorters.DEFAULT</strong>- This default strategy compares test methods using their hashcodes. In case of a hash collision, the lexicographical order is used.</li>\n<li><strong>MethodSorters.JVM</strong>- This strategy utilizes the natural JVM ordering – which can be different for each run.</li>\n<li><strong>MethodSorters.NAME_ASCENDING</strong>- This strategy can be used for running test in their lexicographic order.</li>\n</ol>\n<p>For more details please refer:<a href=\"https://www.baeldung.com/junit-5-test-order\" rel=\"nofollow noreferrer\">The Order of Tests in JUnit</a></p>\n"}],"owner":{"account_id":1039365,"reputation":1745,"user_id":1045780,"accept_rate":79,"display_name":"Ragnarsson"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5192,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":36066868,"answer_count":4,"score":9,"last_activity_date":1690807427,"creation_date":1458233027,"question_id":36066767,"body_markdown":"I am using JUnit and Selenium Webdriver. I want to run my test methods in order as how I write them in my code, as below:\r\n\r\n    @Test\r\n    public void registerUserTest(){\r\n        // code\r\n    }\r\n\r\n    @Test\r\n    public void welcomeNewUserTest(){\r\n        // code\r\n    }\r\n\r\n    @Test\r\n    public void questionaireNewUserTest(){\r\n        // code\r\n    }\r\n\r\nBut it doesn&#39;t work, it always executes my test methods in this order:\r\n\r\n    welcomeNewUserTest()\r\n    registerUserTest()\r\n    questionaireNewUserTest()\r\n\r\nI read an answer somewhere if I name my method with suffix Test, then JUnit would execute them in order as how I order them in code. Apparently, this doesn&#39;t work. \r\n\r\nAny help? Thanks","title":"How to run test methods in order with Junit","body":"<p>I am using JUnit and Selenium Webdriver. I want to run my test methods in order as how I write them in my code, as below:</p>\n\n<pre><code>@Test\npublic void registerUserTest(){\n    // code\n}\n\n@Test\npublic void welcomeNewUserTest(){\n    // code\n}\n\n@Test\npublic void questionaireNewUserTest(){\n    // code\n}\n</code></pre>\n\n<p>But it doesn't work, it always executes my test methods in this order:</p>\n\n<pre><code>welcomeNewUserTest()\nregisterUserTest()\nquestionaireNewUserTest()\n</code></pre>\n\n<p>I read an answer somewhere if I name my method with suffix Test, then JUnit would execute them in order as how I order them in code. Apparently, this doesn't work. </p>\n\n<p>Any help? Thanks</p>\n"},{"tags":["java","spring-boot","apache-kafka","kafka-consumer-api","spring-kafka"],"answers":[{"tags":[],"owner":{"account_id":1288095,"reputation":169316,"user_id":1240763,"display_name":"Gary Russell"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1634130987,"creation_date":1634130987,"answer_id":69556278,"question_id":69549809,"body_markdown":"Right; the only guarantee is at least once delivery; there is no way to know if a message has been redelivered (after a restart - we can tell if it&#39;s a redelivery in the same application instance - see https://docs.spring.io/spring-kafka/docs/current/reference/html/#delivery-header).\r\n\r\nSince you can&#39;t tell in all cases, you have to make your listener idempotent - e.g. by storing the topic/partition/offset along with the data, so you can check if it has already been processed.","title":"how to find out if it is a retry message in spring kafka Listener","body":"<p>Right; the only guarantee is at least once delivery; there is no way to know if a message has been redelivered (after a restart - we can tell if it's a redelivery in the same application instance - see <a href=\"https://docs.spring.io/spring-kafka/docs/current/reference/html/#delivery-header\" rel=\"nofollow noreferrer\">https://docs.spring.io/spring-kafka/docs/current/reference/html/#delivery-header</a>).</p>\n<p>Since you can't tell in all cases, you have to make your listener idempotent - e.g. by storing the topic/partition/offset along with the data, so you can check if it has already been processed.</p>\n"},{"tags":[],"owner":{"account_id":17719623,"reputation":11,"user_id":12865012,"display_name":"Aiq Abushov"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690807417,"creation_date":1690807417,"answer_id":76803758,"question_id":69549809,"body_markdown":"Thread.currentThread().getName() if Kafka retries name will contain &quot;retry&quot; for example:\r\n org.springframework.kafka.KafkaListenerEndpointContainer#0-retry-2-0-C-1\r\nYou can check if this String contains retry keyword then it is retry message.\r\nAnd this is normal thread id name: \r\norg.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1","title":"how to find out if it is a retry message in spring kafka Listener","body":"<p>Thread.currentThread().getName() if Kafka retries name will contain &quot;retry&quot; for example:\norg.springframework.kafka.KafkaListenerEndpointContainer#0-retry-2-0-C-1\nYou can check if this String contains retry keyword then it is retry message.\nAnd this is normal thread id name:\norg.springframework.kafka.KafkaListenerEndpointContainer#0-0-C-1</p>\n"}],"owner":{"account_id":20812072,"reputation":51,"user_id":15285766,"display_name":"sushant shekhar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1188,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1690807417,"creation_date":1634099723,"question_id":69549809,"body_markdown":"We are trying to solve an edge case scenario, in spring boot kafka listener:\r\n```\r\n@KafkaListener(topics=&quot;topicName&quot;, groupId=&quot;consumerGoupId&quot;)\r\npublic void consumeNotification(@Payload Datarequest request,\r\n                          @Header(KafkaHeaders.OFFSET) Long offset,\r\n                          @Header(KafkaHeaders.RECEIVED_PARTITION_ID)Integer partitionId) \r\n{\r\n    processRequest(request);\r\n}\r\n```\r\n\r\n\r\nNow for some reason when processRequest is going on, my spring boot app gets Shutdown,the offset doesn&#39;t get committed and when it is up,the listener picks up the same message for processing again.\r\n\r\nMy use case is : **Is there any way to know Listener has got this message as part of Retry?**\r\n\r\n Because since process request was stopped in  between due to app Crash, if the same message has picked up by listener again, I have to write some logic in `processRequest` to start processing from where it stopped.\r\n\r\n","title":"how to find out if it is a retry message in spring kafka Listener","body":"<p>We are trying to solve an edge case scenario, in spring boot kafka listener:</p>\n<pre><code>@KafkaListener(topics=&quot;topicName&quot;, groupId=&quot;consumerGoupId&quot;)\npublic void consumeNotification(@Payload Datarequest request,\n                          @Header(KafkaHeaders.OFFSET) Long offset,\n                          @Header(KafkaHeaders.RECEIVED_PARTITION_ID)Integer partitionId) \n{\n    processRequest(request);\n}\n</code></pre>\n<p>Now for some reason when processRequest is going on, my spring boot app gets Shutdown,the offset doesn't get committed and when it is up,the listener picks up the same message for processing again.</p>\n<p>My use case is : <strong>Is there any way to know Listener has got this message as part of Retry?</strong></p>\n<p>Because since process request was stopped in  between due to app Crash, if the same message has picked up by listener again, I have to write some logic in <code>processRequest</code> to start processing from where it stopped.</p>\n"},{"tags":["java","hibernate","spring-data-jpa","hibernate-envers"],"answers":[{"tags":[],"owner":{"account_id":1714975,"reputation":20238,"user_id":1572269,"accept_rate":43,"display_name":"Naros"},"down_vote_count":0,"up_vote_count":7,"is_accepted":true,"score":7,"last_activity_date":1568732423,"creation_date":1568305180,"answer_id":57910884,"question_id":57902388,"body_markdown":"There really is not much involved in setting up bean injection with Spring Framework 5.1 and Envers.  The listener implementation does not require being annotated by `@Service` nor `@Component` because these classes are actually constructed by Hibernate and then the `ManagedBeanRegistry` is responsible for coordinating with whatever DI framework is being used to inject/wire dependencies.\r\n\r\nIf your `MyService` is not being injected into the revision listener then there are few things to check:\r\n\r\n1. Verify that you&#39;re using _Spring Framework 5.1_ or later.&lt;br/&gt;While other spring components may use differing version schemes, its important to make sure that the underlying Spring Framework version is indeed 5.1+.\r\n2. Is the `RevisionListener` configured correctly?&lt;br/&gt;I typically configure this by adding a `@RevisionEntity` annotated class with the `@Entity` annotation and then specify the listener in the `@RevisionEntity` annotation&#39;s value attribute.  If you&#39;d rather, you should be able to use `org.hibernate.envers.revision_listener` to specifying the fully qualified class name of the listener class otherwise.\r\n3. Is your `MyService` injectable in any other spring bean?&lt;br/&gt;Perhaps the issue here is that Spring simply isn&#39;t constructing your `MyService` bean in the first place, which would lead to the dependency injection not supplying an implementation during bean injection of the revision listener.\r\n\r\nI have created a small demo [here][1] that you can reference.  I will look into publishing a blog post about this on the Hibernate blog later in the month.\r\n\r\n---\r\n\r\n**UPDATE**\r\n\r\nJust looking at the Spring Framework source briefly, I believe the issue is that you&#39;re manually creating a `LocalContainerEntityManagerFactoryBean`, which when the bean factory gets injected, does not actually create the necessary Hibernate configuration for dependency injection to happen.\r\n\r\nWhat I think you may need to do is manually set this yourself:\r\n\r\n    @Bean\r\n    @DependsOn({&quot;dataSource&quot;})\r\n    public LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean(ConfigurableListableBeanFactory beanFactory) {\r\n       // Create the LocalContainerEntityManagerBean like you were\r\n\r\n       // Pass beanFactory here so right configuration gets applied\r\n       em.setJpaProperties(additionalProperties(beanFactory));\r\n       return em;\r\n    }\r\n\r\n    private Properties additionalProperties(ConfigurableListableBeanFactory beanFactory) {\r\n      // add your properties here like you were before\r\n      Properties properties = new Properties();\r\n\r\n      // THIS HERE IS THE CRITICAL SETTING\r\n      properties.put(\r\n        &quot;hibernate.resource.beans.container&quot;, \r\n         new SpringBeanContainer(beanFactory));\r\n\r\n      return properties\r\n    }\r\n\r\nWhile the `LocalContainerEntityManagerFactoryBean` is `BeanFactoryAware`, it simply sets an internal property and that&#39;s it.  That property does not actually get set as the necessary configuration property for Hibernate to detect it, therefore Hibernate ends up defaulting to CDI injection since you&#39;re in a CDI environment.\r\n\r\nIn the above, as the EntityManagerFactory bean is being constructed, we have the configuration pass in the _BeanFactory_ instance.  We pass that factory down into `additionalProperties` where we manually apply it to the right Hibernate configuration and that gets passed to the Hibernate bootstrap.  \r\n\r\n[1]: https://github.com/Naros/hibernate-envers-spring\r\n\r\n\r\n\r\n","title":"How to inject spring beans into the hibernate envers RevisionListener","body":"<p>There really is not much involved in setting up bean injection with Spring Framework 5.1 and Envers.  The listener implementation does not require being annotated by <code>@Service</code> nor <code>@Component</code> because these classes are actually constructed by Hibernate and then the <code>ManagedBeanRegistry</code> is responsible for coordinating with whatever DI framework is being used to inject/wire dependencies.</p>\n\n<p>If your <code>MyService</code> is not being injected into the revision listener then there are few things to check:</p>\n\n<ol>\n<li>Verify that you're using <em>Spring Framework 5.1</em> or later.<br/>While other spring components may use differing version schemes, its important to make sure that the underlying Spring Framework version is indeed 5.1+.</li>\n<li>Is the <code>RevisionListener</code> configured correctly?<br/>I typically configure this by adding a <code>@RevisionEntity</code> annotated class with the <code>@Entity</code> annotation and then specify the listener in the <code>@RevisionEntity</code> annotation's value attribute.  If you'd rather, you should be able to use <code>org.hibernate.envers.revision_listener</code> to specifying the fully qualified class name of the listener class otherwise.</li>\n<li>Is your <code>MyService</code> injectable in any other spring bean?<br/>Perhaps the issue here is that Spring simply isn't constructing your <code>MyService</code> bean in the first place, which would lead to the dependency injection not supplying an implementation during bean injection of the revision listener.</li>\n</ol>\n\n<p>I have created a small demo <a href=\"https://github.com/Naros/hibernate-envers-spring\" rel=\"noreferrer\">here</a> that you can reference.  I will look into publishing a blog post about this on the Hibernate blog later in the month.</p>\n\n<hr>\n\n<p><strong>UPDATE</strong></p>\n\n<p>Just looking at the Spring Framework source briefly, I believe the issue is that you're manually creating a <code>LocalContainerEntityManagerFactoryBean</code>, which when the bean factory gets injected, does not actually create the necessary Hibernate configuration for dependency injection to happen.</p>\n\n<p>What I think you may need to do is manually set this yourself:</p>\n\n<pre><code>@Bean\n@DependsOn({\"dataSource\"})\npublic LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean(ConfigurableListableBeanFactory beanFactory) {\n   // Create the LocalContainerEntityManagerBean like you were\n\n   // Pass beanFactory here so right configuration gets applied\n   em.setJpaProperties(additionalProperties(beanFactory));\n   return em;\n}\n\nprivate Properties additionalProperties(ConfigurableListableBeanFactory beanFactory) {\n  // add your properties here like you were before\n  Properties properties = new Properties();\n\n  // THIS HERE IS THE CRITICAL SETTING\n  properties.put(\n    \"hibernate.resource.beans.container\", \n     new SpringBeanContainer(beanFactory));\n\n  return properties\n}\n</code></pre>\n\n<p>While the <code>LocalContainerEntityManagerFactoryBean</code> is <code>BeanFactoryAware</code>, it simply sets an internal property and that's it.  That property does not actually get set as the necessary configuration property for Hibernate to detect it, therefore Hibernate ends up defaulting to CDI injection since you're in a CDI environment.</p>\n\n<p>In the above, as the EntityManagerFactory bean is being constructed, we have the configuration pass in the <em>BeanFactory</em> instance.  We pass that factory down into <code>additionalProperties</code> where we manually apply it to the right Hibernate configuration and that gets passed to the Hibernate bootstrap.  </p>\n"},{"tags":[],"owner":{"account_id":17750,"reputation":25470,"user_id":40064,"accept_rate":69,"display_name":"Wim Deblauwe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1617789328,"creation_date":1617789328,"answer_id":66983683,"question_id":57902388,"body_markdown":"If you are using Spring Boot, it is best to use ApplicationContextAware:\r\n\r\n```\r\npublic class MyRevisionListener implements RevisionListener, ApplicationContextAware {\r\n\r\n    private MyService myService;\r\n\r\n    @Override\r\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\r\n        this.myService = applicationContext.getBean(MyService.class);\r\n    }\r\n\r\n    @Override\r\n    public void newRevision(Object revisionEntity) {\r\n        MyRevisionEntity revinfo = (MyRevisionEntity) revisionEntity;\r\n\r\n        // Use myService here to set something on MyRevisionEntity\r\n    }\r\n\r\n}\r\n```\r\n\r\nThis was tested using Spring Boot 2.3.9.","title":"How to inject spring beans into the hibernate envers RevisionListener","body":"<p>If you are using Spring Boot, it is best to use ApplicationContextAware:</p>\n<pre><code>public class MyRevisionListener implements RevisionListener, ApplicationContextAware {\n\n    private MyService myService;\n\n    @Override\n    public void setApplicationContext(ApplicationContext applicationContext) throws BeansException {\n        this.myService = applicationContext.getBean(MyService.class);\n    }\n\n    @Override\n    public void newRevision(Object revisionEntity) {\n        MyRevisionEntity revinfo = (MyRevisionEntity) revisionEntity;\n\n        // Use myService here to set something on MyRevisionEntity\n    }\n\n}\n</code></pre>\n<p>This was tested using Spring Boot 2.3.9.</p>\n"},{"tags":[],"owner":{"account_id":20984212,"reputation":31,"user_id":15418397,"display_name":"Fernando Schotten"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1634296132,"creation_date":1634296132,"answer_id":69583817,"question_id":57902388,"body_markdown":"Have other way... you can use the static class from spring....\r\n\r\nCheck....\r\n\r\n    import org.hibernate.envers.RevisionListener;\r\n    import org.springframework.security.core.Authentication;\r\n    import org.springframework.security.core.context.SecurityContext;\r\n    import org.springframework.security.core.context.SecurityContextHolder;\r\n    \r\n    \r\n    public class EnverRevisionListener implements RevisionListener{\r\n    \r\n        @Override\r\n        public void newRevision(Object revisionEntity) {\r\n            EnverRevisionEntity revEntity = (EnverRevisionEntity) revisionEntity;\r\n            SecurityContext context = SecurityContextHolder.getContext();\r\n            Authentication auth = context.getAuthentication();\r\n            revEntity.setUserName(auth.getName());\r\n        }\r\n    \r\n    }","title":"How to inject spring beans into the hibernate envers RevisionListener","body":"<p>Have other way... you can use the static class from spring....</p>\n<p>Check....</p>\n<pre><code>import org.hibernate.envers.RevisionListener;\nimport org.springframework.security.core.Authentication;\nimport org.springframework.security.core.context.SecurityContext;\nimport org.springframework.security.core.context.SecurityContextHolder;\n\n\npublic class EnverRevisionListener implements RevisionListener{\n\n    @Override\n    public void newRevision(Object revisionEntity) {\n        EnverRevisionEntity revEntity = (EnverRevisionEntity) revisionEntity;\n        SecurityContext context = SecurityContextHolder.getContext();\n        Authentication auth = context.getAuthentication();\n        revEntity.setUserName(auth.getName());\n    }\n\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23824799,"reputation":49,"user_id":17832003,"display_name":"Tavark"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1690807191,"creation_date":1690807191,"answer_id":76803729,"question_id":57902388,"body_markdown":"I am using Spring Boot 3.1.1 with Hibernate 6.2 and neither of the answers did work for me. Instead, I could solve it the following way:\r\n\r\n**application.yml**\r\n\r\n    spring.jpa.properties:\r\n      hibernate:\r\n        # see https://github.com/hibernate/hibernate-orm/blob/6.2/migration-guide.adoc#cdi\r\n        cdi.extensions: false\r\n\r\n\r\n**RevisionListener**\r\n\r\n    public class MyRevisionListener implements RevisionListenere {\r\n\r\n        private final MyService myService;\r\n\r\n        public MyRevisionListener (@org.springframework.context.annotation.Lazy MyService myService) {\r\n            this.myService = myService;\r\n        }\r\n\r\n        @Override\r\n        public void newRevision(Object revisionEntity) {\r\n            MyRevisionEntity revinfo = (MyRevisionEntity) revisionEntity;\r\n\r\n            // Use myService here to set something on MyRevisionEntity\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/hibernate/hibernate-orm/blob/6.2/migration-guide.adoc#cdi","title":"How to inject spring beans into the hibernate envers RevisionListener","body":"<p>I am using Spring Boot 3.1.1 with Hibernate 6.2 and neither of the answers did work for me. Instead, I could solve it the following way:</p>\n<p><strong>application.yml</strong></p>\n<pre><code>spring.jpa.properties:\n  hibernate:\n    # see https://github.com/hibernate/hibernate-orm/blob/6.2/migration-guide.adoc#cdi\n    cdi.extensions: false\n</code></pre>\n<p><strong>RevisionListener</strong></p>\n<pre><code>public class MyRevisionListener implements RevisionListenere {\n\n    private final MyService myService;\n\n    public MyRevisionListener (@org.springframework.context.annotation.Lazy MyService myService) {\n        this.myService = myService;\n    }\n\n    @Override\n    public void newRevision(Object revisionEntity) {\n        MyRevisionEntity revinfo = (MyRevisionEntity) revisionEntity;\n\n        // Use myService here to set something on MyRevisionEntity\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":15880352,"reputation":300,"user_id":11458276,"display_name":"PrzemyslawP"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5161,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":57910884,"answer_count":4,"score":3,"last_activity_date":1690807191,"creation_date":1568275774,"question_id":57902388,"body_markdown":"I am using Spring 5.1 and Hibernate 5.3.9 including hibernate-envers.\r\nI don&#39;t know how to inject spring beans into the hibernate envers custom RevisionListener.\r\n\r\nI have tried \r\n      \r\n      (@Service or @Component)\r\n      public class ExtendedRevisionListener implements RevisionListener {\r\n    \r\n      @Autowired\r\n      private MyService myService;\r\n    \r\n      void newRevision(Object revisionEntity){\r\n        myService.doSomething(...)\r\n      }\r\n    }\r\n\r\nOf course the class is included in the @ComponentScan packages resolution.\r\nA problem is that  myService is not injected into the listener.\r\n\r\nIn the hibernate-envers documentation:\r\n\r\nhttps://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#envers-basics\r\n\r\n*As of Hibernate Envers 5.3, dependency injection is now supported for a RevisionListener.\r\nThis feature is up to the various dependency frameworks, such as CDI and Spring, to supply the necessary implementation during Hibernate ORM bootstrap to support injection. If no qualifying implementation is supplied, the RevisionListener will be constructed without injection.*\r\n\r\nUnfortunatelly i haven&#39;t found any  working example. \r\n\r\n@Naros\r\nI do a setup of the EntityMaganerFactoryBean in my spring persistence JPA \r\nconfiguration -&gt;  entityManager = \r\nnew org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean()\r\n\r\n    10:49| DEBUG | SessionFactoryImpl.java 252 | Session factory constructed with filter configurations : {}\r\n    10:49| DEBUG | SessionFactoryImpl.java 253 | Instantiating session factory with properties: {hibernate.format_sql=true, awt.toolkit=sun.awt.windows.WToolkit, hibernate.id.new_generator_mappings=false, java.specification.version=1.8, logging.configuration=file:C:\\wildfly16\\standalone\\configuration\\logging.properties, sun.cpu.isalist=amd64, sun.jnu.encoding=Cp1250, sun.arch.data.model=64, org.jboss.resolver.warning=true, java.vendor.url=http://java.oracle.com/, javax.persistence.validation.mode=AUTO, sun.boot.library.path=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\bin, org.jboss.logmanager.nocolor=true, sun.java.command=org.jboss.modules.Main -mp C:\\wildfly16\\modules org.jboss.as.standalone -b localhost --server-config=standalone.xml -Djboss.server.base.dir=C:\\wildfly16\\standalone, java.specification.vendor=Oracle Corporation, java.naming.factory.url.pkgs=org.jboss.as.naming.interfaces, java.home=C:\\Program Files\\Java\\jdk1.8.0_201\\jre, jboss.server.persist.config=true, file.separator=\\, jboss.server.data.dir=C:\\wildfly16\\standalone\\data, line.separator=\r\n    , java.vm.specification.vendor=Oracle Corporation, java.specification.name=Java Platform API Specification, jboss.server.base.dir=C:\\wildfly16\\standalone, hibernate.transaction.coordinator_class=class org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorBuilderImpl, wicket.configuration=development, jboss.bind.address.management=localhost, sun.boot.class.path=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\rt.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\sunrsasign.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\classes, hibernate.hbm2ddl.auto=update, user.script=, java.protocol.handler.pkgs=org.jboss.net.protocol|org.jboss.vfs.protocol, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, java.runtime.version=1.8.0_201-b09, user.name=ptaszek, hibernate.enable_lazy_load_no_trans=true, file.encoding=Cp1250, sun.rmi.dgc.client.gcInterval=3600000, java.io.tmpdir=C:\\Users\\ptaszek\\AppData\\Local\\Temp\\, org.jboss.boot.log.file=C:\\wildfly16\\standalone\\log\\boot.log, jboss.modules.system.pkgs=org.jboss.byteman, java.version=1.8.0_201, java.vm.specification.name=Java Virtual Machine Specification, jboss.bind.address=localhost, java.awt.printerjob=sun.awt.windows.WPrinterJob, jboss.host.name=1501-10, org.jboss.security.context.ThreadLocal=true, sun.os.patch.level=, module.path=C:\\wildfly16\\modules, java.library.path=C:\\Program Files\\Java\\jdk1.8.0_201\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;native;C:/Program Files/Java/jre1.8.0_211/bin/server;C:/Program Files/Java/jre1.8.0_211/bin;C:/Program Files/Java/jre1.8.0_211/lib/amd64;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files\\Microsoft MPI\\Bin\\;C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\AOMEI Backupper;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\140\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\DTS\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\140\\DTS\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin\\;C:\\eclipse;;., jboss.server.name=1501-10, java.vendor=Oracle Corporation, jboss.modules.dir=C:\\wildfly16\\modules, sun.io.unicode.encoding=UnicodeLittle, jboss.server.temp.dir=C:\\wildfly16\\standalone\\tmp, sun.desktop=windows, file.encoding.pkg=sun.io, hibernate.connection.handling_mode=DELAYED_ACQUISITION_AND_HOLD, hibernate.dialect=org.hibernate.dialect.MySQL8Dialect, java.class.path=C:\\wildfly16\\jboss-modules.jar, jboss.server.deploy.dir=C:\\wildfly16\\standalone\\data\\content, java.vm.vendor=Oracle Corporation, user.variant=, user.timezone=Europe/Belgrade, os.name=Windows 10, java.vm.specification.version=1.8, program.name=JBossTools: WildFly 16 at localhost, hibernate.generate_statistics=false, sun.java.launcher=SUN_STANDARD, user.country=PL, hibernate.use_sql_comments=false, javax.persistence.sharedCache.mode=UNSPECIFIED, jboss.server.config.dir=C:\\wildfly16\\standalone\\configuration, sun.cpu.endian=little, user.home=C:\\Users\\ptaszek, user.language=pl, jboss.qualified.host.name=1501-10, java.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment, java.awt.headless=true, org.apache.xml.security.ignoreLineBreaks=true, sun.rmi.dgc.server.gcInterval=3600000, java.net.preferIPv4Stack=true, jboss.home.dir=C:\\wildfly16, path.separator=;, os.version=10.0, java.endorsed.dirs=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\endorsed, java.runtime.name=Java(TM) SE Runtime Environment, hibernate.ejb.persistenceUnitName=default, sun.nio.ch.bugLevel=, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, hibernate.show_sql=false, java.security.auth.login.config=jar:file:/C:/wildfly16/modules/system/layers/base/org/picketbox/main/picketbox-5.0.3.Final.jar!/auth.conf, jboss.server.log.dir=C:\\wildfly16\\standalone\\log, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, user.dir=C:\\wildfly16\\bin, os.arch=amd64, org.hibernate.envers.audit_strategy=org.hibernate.envers.strategy.ValidityAuditStrategy, javax.management.builder.initial=org.jboss.as.jmx.PluggableMBeanServerBuilder, hibernate.boot.CfgXmlAccessService.key=org.hibernate.boot.cfgxml.spi.LoadedConfig@35a3f1ae, java.util.logging.manager=org.jboss.logmanager.LogManager, java.vm.info=mixed mode, java.vm.version=25.201-b09, hibernate.bytecode.use_reflection_optimizer=false, hibernate.connection.datasource=HikariDataSource (HikariCpConnectionPool), java.ext.dirs=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\ext;C:\\WINDOWS\\Sun\\Java\\lib\\ext, jboss.node.name=1501-10, java.class.version=52.0}\r\n\r\n\r\nIn my PersistenceJPAConfig:\r\n\r\n    @EnableJpaRepositories(basePackages = &quot;pl.atmoterm&quot;, entityManagerFactoryRef = &quot;localContainerEntityManagerFactoryBean&quot;)\r\n\r\n      @Bean\r\n      @DependsOn({&quot;dataSource&quot;})\r\n      public LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean() {\r\n         LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\r\n         em.setDataSource(dataSource());\r\n         em.setPackagesToScan(new String[]{\r\n            &quot;pl.atmoterm.**.*&quot;\r\n         });\r\n\r\n         em.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\r\n         em.setJpaProperties(additionalProperties());\r\n         return em;\r\n      }\r\n\r\n","title":"How to inject spring beans into the hibernate envers RevisionListener","body":"<p>I am using Spring 5.1 and Hibernate 5.3.9 including hibernate-envers.\nI don't know how to inject spring beans into the hibernate envers custom RevisionListener.</p>\n\n<p>I have tried </p>\n\n<pre><code>  (@Service or @Component)\n  public class ExtendedRevisionListener implements RevisionListener {\n\n  @Autowired\n  private MyService myService;\n\n  void newRevision(Object revisionEntity){\n    myService.doSomething(...)\n  }\n}\n</code></pre>\n\n<p>Of course the class is included in the @ComponentScan packages resolution.\nA problem is that  myService is not injected into the listener.</p>\n\n<p>In the hibernate-envers documentation:</p>\n\n<p><a href=\"https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#envers-basics\" rel=\"nofollow noreferrer\">https://docs.jboss.org/hibernate/orm/current/userguide/html_single/Hibernate_User_Guide.html#envers-basics</a></p>\n\n<p><em>As of Hibernate Envers 5.3, dependency injection is now supported for a RevisionListener.\nThis feature is up to the various dependency frameworks, such as CDI and Spring, to supply the necessary implementation during Hibernate ORM bootstrap to support injection. If no qualifying implementation is supplied, the RevisionListener will be constructed without injection.</em></p>\n\n<p>Unfortunatelly i haven't found any  working example. </p>\n\n<p>@Naros\nI do a setup of the EntityMaganerFactoryBean in my spring persistence JPA \nconfiguration ->  entityManager = \nnew org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean()</p>\n\n<pre><code>10:49| DEBUG | SessionFactoryImpl.java 252 | Session factory constructed with filter configurations : {}\n10:49| DEBUG | SessionFactoryImpl.java 253 | Instantiating session factory with properties: {hibernate.format_sql=true, awt.toolkit=sun.awt.windows.WToolkit, hibernate.id.new_generator_mappings=false, java.specification.version=1.8, logging.configuration=file:C:\\wildfly16\\standalone\\configuration\\logging.properties, sun.cpu.isalist=amd64, sun.jnu.encoding=Cp1250, sun.arch.data.model=64, org.jboss.resolver.warning=true, java.vendor.url=http://java.oracle.com/, javax.persistence.validation.mode=AUTO, sun.boot.library.path=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\bin, org.jboss.logmanager.nocolor=true, sun.java.command=org.jboss.modules.Main -mp C:\\wildfly16\\modules org.jboss.as.standalone -b localhost --server-config=standalone.xml -Djboss.server.base.dir=C:\\wildfly16\\standalone, java.specification.vendor=Oracle Corporation, java.naming.factory.url.pkgs=org.jboss.as.naming.interfaces, java.home=C:\\Program Files\\Java\\jdk1.8.0_201\\jre, jboss.server.persist.config=true, file.separator=\\, jboss.server.data.dir=C:\\wildfly16\\standalone\\data, line.separator=\n, java.vm.specification.vendor=Oracle Corporation, java.specification.name=Java Platform API Specification, jboss.server.base.dir=C:\\wildfly16\\standalone, hibernate.transaction.coordinator_class=class org.hibernate.resource.transaction.backend.jdbc.internal.JdbcResourceLocalTransactionCoordinatorBuilderImpl, wicket.configuration=development, jboss.bind.address.management=localhost, sun.boot.class.path=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\resources.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\rt.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\sunrsasign.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\jsse.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\jce.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\charsets.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\jfr.jar;C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\classes, hibernate.hbm2ddl.auto=update, user.script=, java.protocol.handler.pkgs=org.jboss.net.protocol|org.jboss.vfs.protocol, sun.management.compiler=HotSpot 64-Bit Tiered Compilers, java.runtime.version=1.8.0_201-b09, user.name=ptaszek, hibernate.enable_lazy_load_no_trans=true, file.encoding=Cp1250, sun.rmi.dgc.client.gcInterval=3600000, java.io.tmpdir=C:\\Users\\ptaszek\\AppData\\Local\\Temp\\, org.jboss.boot.log.file=C:\\wildfly16\\standalone\\log\\boot.log, jboss.modules.system.pkgs=org.jboss.byteman, java.version=1.8.0_201, java.vm.specification.name=Java Virtual Machine Specification, jboss.bind.address=localhost, java.awt.printerjob=sun.awt.windows.WPrinterJob, jboss.host.name=1501-10, org.jboss.security.context.ThreadLocal=true, sun.os.patch.level=, module.path=C:\\wildfly16\\modules, java.library.path=C:\\Program Files\\Java\\jdk1.8.0_201\\bin;C:\\WINDOWS\\Sun\\Java\\bin;C:\\WINDOWS\\system32;C:\\WINDOWS;native;C:/Program Files/Java/jre1.8.0_211/bin/server;C:/Program Files/Java/jre1.8.0_211/bin;C:/Program Files/Java/jre1.8.0_211/lib/amd64;C:\\Program Files (x86)\\Common Files\\Oracle\\Java\\javapath;C:\\Program Files\\Microsoft MPI\\Bin\\;C:\\Program Files (x86)\\Intel\\iCLS Client\\;C:\\Program Files\\Intel\\iCLS Client\\;C:\\WINDOWS\\system32;C:\\WINDOWS;C:\\WINDOWS\\System32\\Wbem;C:\\WINDOWS\\System32\\WindowsPowerShell\\v1.0\\;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\DAL;C:\\Program Files (x86)\\Intel\\Intel(R) Management Engine Components\\IPT;C:\\WINDOWS\\System32\\OpenSSH\\;C:\\Program Files (x86)\\AOMEI Backupper;C:\\Program Files\\TortoiseSVN\\bin;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\140\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\DTS\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\140\\DTS\\Binn\\;C:\\Program Files\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\Client SDK\\ODBC\\130\\Tools\\Binn\\;C:\\Program Files (x86)\\Microsoft SQL Server\\140\\Tools\\Binn\\ManagementStudio\\;C:\\Program Files\\MySQL\\MySQL Shell 8.0\\bin\\;C:\\eclipse;;., jboss.server.name=1501-10, java.vendor=Oracle Corporation, jboss.modules.dir=C:\\wildfly16\\modules, sun.io.unicode.encoding=UnicodeLittle, jboss.server.temp.dir=C:\\wildfly16\\standalone\\tmp, sun.desktop=windows, file.encoding.pkg=sun.io, hibernate.connection.handling_mode=DELAYED_ACQUISITION_AND_HOLD, hibernate.dialect=org.hibernate.dialect.MySQL8Dialect, java.class.path=C:\\wildfly16\\jboss-modules.jar, jboss.server.deploy.dir=C:\\wildfly16\\standalone\\data\\content, java.vm.vendor=Oracle Corporation, user.variant=, user.timezone=Europe/Belgrade, os.name=Windows 10, java.vm.specification.version=1.8, program.name=JBossTools: WildFly 16 at localhost, hibernate.generate_statistics=false, sun.java.launcher=SUN_STANDARD, user.country=PL, hibernate.use_sql_comments=false, javax.persistence.sharedCache.mode=UNSPECIFIED, jboss.server.config.dir=C:\\wildfly16\\standalone\\configuration, sun.cpu.endian=little, user.home=C:\\Users\\ptaszek, user.language=pl, jboss.qualified.host.name=1501-10, java.awt.graphicsenv=sun.awt.Win32GraphicsEnvironment, java.awt.headless=true, org.apache.xml.security.ignoreLineBreaks=true, sun.rmi.dgc.server.gcInterval=3600000, java.net.preferIPv4Stack=true, jboss.home.dir=C:\\wildfly16, path.separator=;, os.version=10.0, java.endorsed.dirs=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\endorsed, java.runtime.name=Java(TM) SE Runtime Environment, hibernate.ejb.persistenceUnitName=default, sun.nio.ch.bugLevel=, java.vm.name=Java HotSpot(TM) 64-Bit Server VM, hibernate.show_sql=false, java.security.auth.login.config=jar:file:/C:/wildfly16/modules/system/layers/base/org/picketbox/main/picketbox-5.0.3.Final.jar!/auth.conf, jboss.server.log.dir=C:\\wildfly16\\standalone\\log, java.vendor.url.bug=http://bugreport.sun.com/bugreport/, user.dir=C:\\wildfly16\\bin, os.arch=amd64, org.hibernate.envers.audit_strategy=org.hibernate.envers.strategy.ValidityAuditStrategy, javax.management.builder.initial=org.jboss.as.jmx.PluggableMBeanServerBuilder, hibernate.boot.CfgXmlAccessService.key=org.hibernate.boot.cfgxml.spi.LoadedConfig@35a3f1ae, java.util.logging.manager=org.jboss.logmanager.LogManager, java.vm.info=mixed mode, java.vm.version=25.201-b09, hibernate.bytecode.use_reflection_optimizer=false, hibernate.connection.datasource=HikariDataSource (HikariCpConnectionPool), java.ext.dirs=C:\\Program Files\\Java\\jdk1.8.0_201\\jre\\lib\\ext;C:\\WINDOWS\\Sun\\Java\\lib\\ext, jboss.node.name=1501-10, java.class.version=52.0}\n</code></pre>\n\n<p>In my PersistenceJPAConfig:</p>\n\n<pre><code>@EnableJpaRepositories(basePackages = \"pl.atmoterm\", entityManagerFactoryRef = \"localContainerEntityManagerFactoryBean\")\n\n  @Bean\n  @DependsOn({\"dataSource\"})\n  public LocalContainerEntityManagerFactoryBean localContainerEntityManagerFactoryBean() {\n     LocalContainerEntityManagerFactoryBean em = new LocalContainerEntityManagerFactoryBean();\n     em.setDataSource(dataSource());\n     em.setPackagesToScan(new String[]{\n        \"pl.atmoterm.**.*\"\n     });\n\n     em.setJpaVendorAdapter(new HibernateJpaVendorAdapter());\n     em.setJpaProperties(additionalProperties());\n     return em;\n  }\n</code></pre>\n"},{"tags":["java","apache-spark","tomcat"],"owner":{"account_id":6467437,"reputation":75,"user_id":6686667,"display_name":"fayssal el ansari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":28,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690807174,"creation_date":1690807174,"question_id":76803723,"body_markdown":"I do not have spark installed I&#39;m using a `maven` dependency, this is my `pom.xml` content:\r\n```xml\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;5.2.2&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;3.4.1&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.20.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\r\n\t\t\t&lt;version&gt;2.20.0&lt;/version&gt;\r\n\t\t&lt;/dependency&gt;\r\n```\r\n\r\nI only added the `log4j` dependencies because i was getting another error.\r\n\r\nI&#39;m trying to make the simplest usage of sparkSession just to create a dataFrame for now.\r\n\r\nthis is the code that is producing the internal error:\r\n``` \r\n\t\tSparkSession sparkSession = SparkSession.builder().appName(&quot;example&quot;).master(&quot;local[*]&quot;).getOrCreate();\r\n```\r\n\r\nAt first run i get this error:\r\n```\r\n&quot;Handler dispatch failed; nested exception is java.lang.NoSuchFieldError: JAVA_9&quot; \r\n```\r\n\r\nbut after i try re-running the request i keep getting this one error:\r\n```json\r\n{&quot;code&quot;:&quot;INTERNAL_ERROR&quot;,&quot;message&quot;:&quot;Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.spark.storage.StorageUtils$&quot;}\r\n```\r\n\r\nI&#39;m running this java version:\r\n```\r\njava version &quot;9.0.4&quot;\r\nJava(TM) SE Runtime Environment (build 9.0.4+11)\r\nJava HotSpot(TM) 64-Bit Server VM (build 9.0.4+11, mixed mode)\r\n```\r\nbut on eclipse&#39;s tomcat server i have `tomcat v8.5 JDK 11`\r\n\r\nI&#39;m just trying to put a list of a POJO into a dataframe to later do some aggregations and group by on it. And then make an excel file. I&#39;m not sure if using Spark is the best option. \r\n\r\nIf I keep running the request I just see this on the log:\r\n```\r\n2023-07-31 14:33:16,841 [http-nio-8080-exec-2] [INFO ] org.apache.spark.util.Utils - Successfully started service &#39;sparkDriver&#39; on port 49350.\r\n```\r\nand each time it&#39;s a different port number.","title":"Trying to add spark and use sparkSession on spring application produces internal error","body":"<p>I do not have spark installed I'm using a <code>maven</code> dependency, this is my <code>pom.xml</code> content:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.poi&lt;/groupId&gt;\n            &lt;artifactId&gt;poi-ooxml&lt;/artifactId&gt;\n            &lt;version&gt;5.2.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-core_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.spark&lt;/groupId&gt;\n            &lt;artifactId&gt;spark-sql_2.13&lt;/artifactId&gt;\n            &lt;version&gt;3.4.1&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-api&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.apache.logging.log4j&lt;/groupId&gt;\n            &lt;artifactId&gt;log4j-core&lt;/artifactId&gt;\n            &lt;version&gt;2.20.0&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n<p>I only added the <code>log4j</code> dependencies because i was getting another error.</p>\n<p>I'm trying to make the simplest usage of sparkSession just to create a dataFrame for now.</p>\n<p>this is the code that is producing the internal error:</p>\n<pre><code>        SparkSession sparkSession = SparkSession.builder().appName(&quot;example&quot;).master(&quot;local[*]&quot;).getOrCreate();\n</code></pre>\n<p>At first run i get this error:</p>\n<pre><code>&quot;Handler dispatch failed; nested exception is java.lang.NoSuchFieldError: JAVA_9&quot; \n</code></pre>\n<p>but after i try re-running the request i keep getting this one error:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{&quot;code&quot;:&quot;INTERNAL_ERROR&quot;,&quot;message&quot;:&quot;Handler dispatch failed; nested exception is java.lang.NoClassDefFoundError: Could not initialize class org.apache.spark.storage.StorageUtils$&quot;}\n</code></pre>\n<p>I'm running this java version:</p>\n<pre><code>java version &quot;9.0.4&quot;\nJava(TM) SE Runtime Environment (build 9.0.4+11)\nJava HotSpot(TM) 64-Bit Server VM (build 9.0.4+11, mixed mode)\n</code></pre>\n<p>but on eclipse's tomcat server i have <code>tomcat v8.5 JDK 11</code></p>\n<p>I'm just trying to put a list of a POJO into a dataframe to later do some aggregations and group by on it. And then make an excel file. I'm not sure if using Spark is the best option.</p>\n<p>If I keep running the request I just see this on the log:</p>\n<pre><code>2023-07-31 14:33:16,841 [http-nio-8080-exec-2] [INFO ] org.apache.spark.util.Utils - Successfully started service 'sparkDriver' on port 49350.\n</code></pre>\n<p>and each time it's a different port number.</p>\n"},{"tags":["java","android","encode"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1690803401,"post_id":76803209,"comment_id":135399173,"body_markdown":"Yep. You want [ProGuard](https://google.com?q=proguard%20obfuscation)","body":"Yep. You want <a href=\"https://google.com?q=proguard%20obfuscation\" rel=\"nofollow noreferrer\">ProGuard</a>"}],"answers":[{"tags":[],"owner":{"account_id":24303543,"reputation":876,"user_id":21163959,"display_name":"ObscureCookie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690807073,"creation_date":1690807073,"answer_id":76803709,"question_id":76803209,"body_markdown":"In `build.gradle` of app module, enable minify to shorten and obfuscate your codes.\r\n\r\n```groovy\r\nbuildTypes {\r\n    release {\r\n        // your code will be shortened and obfuscated by R8 compiler\r\n        // in the release build of your app.\r\n        minifyEnabled true\r\n        proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n    }\r\n}\r\n```\r\n\r\nSee also : https://developer.android.com/build/shrink-code","title":"How to encode package and function names in Android?","body":"<p>In <code>build.gradle</code> of app module, enable minify to shorten and obfuscate your codes.</p>\n<pre><code>buildTypes {\n    release {\n        // your code will be shortened and obfuscated by R8 compiler\n        // in the release build of your app.\n        minifyEnabled true\n        proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n    }\n}\n</code></pre>\n<p>See also : <a href=\"https://developer.android.com/build/shrink-code\" rel=\"nofollow noreferrer\">https://developer.android.com/build/shrink-code</a></p>\n"}],"owner":{"account_id":14984158,"reputation":61,"user_id":10817277,"display_name":"Dream811"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":36,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1691097143,"accepted_answer_id":76803709,"answer_count":1,"score":-1,"last_activity_date":1690807073,"creation_date":1690803094,"question_id":76803209,"body_markdown":"I want to change all package and function names to make my app harder to analyze.\r\nI reversed other apk and found what I want.\r\nBut I don&#39;t know how to do like this.\r\nPlease check attached image.[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Okjpu.png\r\n\r\nDo I have to use any other tool or change this manually?\r\nPlease give me a hint.\r\nThanks!","title":"How to encode package and function names in Android?","body":"<p>I want to change all package and function names to make my app harder to analyze.\nI reversed other apk and found what I want.\nBut I don't know how to do like this.\nPlease check attached image.<a href=\"https://i.stack.imgur.com/Okjpu.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Okjpu.png\" alt=\"enter image description here\" /></a></p>\n<p>Do I have to use any other tool or change this manually?\nPlease give me a hint.\nThanks!</p>\n"},{"tags":["java","multithreading","threadpoolexecutor"],"answers":[{"tags":[],"owner":{"account_id":2792262,"reputation":163847,"user_id":2402272,"accept_rate":85,"display_name":"John Bollinger"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690807043,"creation_date":1690772462,"answer_id":76800435,"question_id":76800362,"body_markdown":"&gt; But I don&#39;t think a FixedThreadPool is unbalanced. Every thread polling one task from a blocking queue when it is stale looks balanced to me.\r\n\r\nThat is fairly well balanced on average when the number of tasks is much larger than the number of threads.  It is also well balanced when the number of threads divides the number of tasks and every task takes about the same amount of time.\r\n\r\nUnder other circumstances, the work of a `FixedThreadPool` may not be very well balanced.  The extreme would be when the pool has multiple threads but only one task -- then one thread does all the work while all the others stand idle.\r\n\r\n&gt; Any advantage of WorkStealingPool over FixedThreadPool,\r\n\r\nYes.  For tasks that can be structured suitably, the work-stealing pool can, on average, distribute the overall work more evenly across the multiple threads of your pool.\r\n\r\n&gt; and could I say that I should never think about work stealing, if the tasks are not recursive?\r\n\r\nYou could say anything, but that doesn&#39;t make it so.  Structuring your tasks to support work stealing is pretty easy for those implementing divide-and-conquer approaches, which are typically recursive, but it does not in any way rely on your tasks to be recursive.\r\n\r\nIt would be more accurate to say that you should never consider work stealing except when any part of the work of your tasks can divided among multiple concurrently-running subtasks.","title":"WorkStealingPool vs. FixedThreadPool in a NON fork join scenario","body":"<blockquote>\n<p>But I don't think a FixedThreadPool is unbalanced. Every thread polling one task from a blocking queue when it is stale looks balanced to me.</p>\n</blockquote>\n<p>That is fairly well balanced on average when the number of tasks is much larger than the number of threads.  It is also well balanced when the number of threads divides the number of tasks and every task takes about the same amount of time.</p>\n<p>Under other circumstances, the work of a <code>FixedThreadPool</code> may not be very well balanced.  The extreme would be when the pool has multiple threads but only one task -- then one thread does all the work while all the others stand idle.</p>\n<blockquote>\n<p>Any advantage of WorkStealingPool over FixedThreadPool,</p>\n</blockquote>\n<p>Yes.  For tasks that can be structured suitably, the work-stealing pool can, on average, distribute the overall work more evenly across the multiple threads of your pool.</p>\n<blockquote>\n<p>and could I say that I should never think about work stealing, if the tasks are not recursive?</p>\n</blockquote>\n<p>You could say anything, but that doesn't make it so.  Structuring your tasks to support work stealing is pretty easy for those implementing divide-and-conquer approaches, which are typically recursive, but it does not in any way rely on your tasks to be recursive.</p>\n<p>It would be more accurate to say that you should never consider work stealing except when any part of the work of your tasks can divided among multiple concurrently-running subtasks.</p>\n"}],"owner":{"account_id":4845282,"reputation":475,"user_id":3909064,"accept_rate":87,"display_name":"templefox"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":49,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76800435,"answer_count":1,"score":0,"last_activity_date":1690807043,"creation_date":1690770604,"question_id":76800362,"body_markdown":"Usually I was told that the WorkStealingPool implements the work-stealing algorithm, that helps to balancing the thread’s workload.\r\n\r\nBut I don&#39;t think a FixedThreadPool is unbalanced. Every thread polling one task from a blocking queue when it is stale looks balanced to me.\r\n\r\nAny advantage of WorkStealingPool over FixedThreadPool, and could I say that I should never think about work stealing, if the tasks are not recursive?","title":"WorkStealingPool vs. FixedThreadPool in a NON fork join scenario","body":"<p>Usually I was told that the WorkStealingPool implements the work-stealing algorithm, that helps to balancing the thread’s workload.</p>\n<p>But I don't think a FixedThreadPool is unbalanced. Every thread polling one task from a blocking queue when it is stale looks balanced to me.</p>\n<p>Any advantage of WorkStealingPool over FixedThreadPool, and could I say that I should never think about work stealing, if the tasks are not recursive?</p>\n"},{"tags":["java","android","gradientdrawable","android-gradient-drawable"],"owner":{"account_id":29128659,"reputation":1,"user_id":22314455,"display_name":"Eonux"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690806506,"creation_date":1690806506,"question_id":76803635,"body_markdown":"What to do if child layouts extend beyond `root` boundaries?\r\n\r\nMy code:\r\n\r\n```\r\n\r\nLinearLayour root = new LinearLayout(context);\r\n\r\nLinearLayour head = new LinearLayout(context);\r\n\r\nGradientDrawable gd = new GradientDrawable();\r\n\r\ngd.setShape(GradientDrawable.RECTANGLE);\r\n\r\ngd.setCornerRadius(14);\r\n\r\ngd.setColor(Color.parseColor(&quot;#232425&quot;));\r\n\r\nroot.setOrientation(LinearLayout.VERTICAL);\r\n\r\nroot.setBackground(gd);\r\n\r\nhead.setLayoutParams(new ViewGroup.LayoutParams(\r\n\r\n\tViewGroup.LayoutParams.MATCH_PARENT,\r\n\r\n\tdpi(80)));\r\n\r\nhead.setBackgroundColor(Color.parseColor(&quot;#6C5EE5&quot;));\r\n\r\nroot.addView(head);\r\n\r\n```\r\n\r\nWhy it looks like that?:\r\n\r\nhttps://i.imgur.com/dkI9LJx.png\r\n\r\nI want it to be rounded everywhere.","title":"GradientDrawable extend beyond boundaries","body":"<p>What to do if child layouts extend beyond <code>root</code> boundaries?</p>\n<p>My code:</p>\n<pre><code>\nLinearLayour root = new LinearLayout(context);\n\nLinearLayour head = new LinearLayout(context);\n\nGradientDrawable gd = new GradientDrawable();\n\ngd.setShape(GradientDrawable.RECTANGLE);\n\ngd.setCornerRadius(14);\n\ngd.setColor(Color.parseColor(&quot;#232425&quot;));\n\nroot.setOrientation(LinearLayout.VERTICAL);\n\nroot.setBackground(gd);\n\nhead.setLayoutParams(new ViewGroup.LayoutParams(\n\n    ViewGroup.LayoutParams.MATCH_PARENT,\n\n    dpi(80)));\n\nhead.setBackgroundColor(Color.parseColor(&quot;#6C5EE5&quot;));\n\nroot.addView(head);\n\n</code></pre>\n<p>Why it looks like that?:</p>\n<p><a href=\"https://i.imgur.com/dkI9LJx.png\" rel=\"nofollow noreferrer\">https://i.imgur.com/dkI9LJx.png</a></p>\n<p>I want it to be rounded everywhere.</p>\n"},{"tags":["java","json","spring","github","command-line-interface"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":0,"creation_date":1690806950,"post_id":76803631,"comment_id":135399939,"body_markdown":"You need to read the error stream of `process` and see what&#39;s wrong.","body":"You need to read the error stream of <code>process</code> and see what&#39;s wrong."},{"owner":{"account_id":29128453,"reputation":1,"user_id":22314294,"display_name":"Sławomir Lida"},"score":0,"creation_date":1690808113,"post_id":76803631,"comment_id":135400183,"body_markdown":"@tgdavies \n`InputStream error = process.getErrorStream();`\n`for (int i = 0; i &lt; error.available(); i++) System.out.println(error.read());`\nThere is nothing in Inteliij console.","body":"@tgdavies  <code>InputStream error = process.getErrorStream();</code> <code>for (int i = 0; i &lt; error.available(); i++) System.out.println(error.read());</code> There is nothing in Inteliij console."},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":1,"creation_date":1690812423,"post_id":76803631,"comment_id":135401226,"body_markdown":"Do yourself a big favour and use `ProcessBuilder` with `inheritIO` (that method at least to begin with) - it will make things a lot easier for you","body":"Do yourself a big favour and use <code>ProcessBuilder</code> with <code>inheritIO</code> (that method at least to begin with) - it will make things a lot easier for you"}],"owner":{"account_id":29128453,"reputation":1,"user_id":22314294,"display_name":"Sławomir Lida"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690806470,"creation_date":1690806470,"question_id":76803631,"body_markdown":"I want to execute a GitHub CLI command using the Process class in Java:\r\n\r\n`gh api /users/abcslawek/repos --jq &#39;map(select(.fork == false))|.[]|{Repository_name: .name, Owner_login: .owner.login}&#39;`\r\n\r\nThis command in PowerShell returns JSON:\r\n[enter image description here](https://i.stack.imgur.com/DidaF.png)\r\nbut after entering `http://localhost:8080/repo` in browser my Intellij console shows `ERROR - exitValue() = 1` and there is empty JSON in my browser.\r\nHere is my whole code:\r\n[enter image description here](https://i.stack.imgur.com/YrRbH.png)\r\n\r\nI would like to see the same JSON in browser as in PowerShell.\r\n\r\n**Application.java:**\r\n```\r\npackage com.slaweklida.githubDataScrapper;\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class Application {\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(Application.class, args);\r\n    }\r\n\r\n}\r\n```\r\n**Controller.java:**\r\n```\r\npackage com.slaweklida.githubDataScrapper;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n@RestController\r\npublic class Controller {\r\n\r\n    @Autowired\r\n    private ProfileService profileService;\r\n\r\n    @GetMapping(&quot;/repo&quot;)\r\n    public List&lt;ProfileRepository&gt; getProfileRepositories() {\r\n        try {\r\n            return profileService.executeConsoleCommand(&quot;gh api /users/abcslawek/repos --jq &#39;map(select(.fork == false))|.[]|{Repository_name: .name, Owner_login: .owner.login}&#39;&quot;);\r\n        } catch (IOException | InterruptedException e) {\r\n            e.printStackTrace();\r\n            return List.of();\r\n        }\r\n    }\r\n}\r\n```\r\n**ProfileService.java:**\r\n```\r\npackage com.slaweklida.githubDataScrapper;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport java.io.IOException;\r\nimport java.util.List;\r\n@Service\r\npublic class ProfileService {\r\n\r\n    private final ObjectMapper objectMapper;\r\n\r\n    @Autowired\r\n    public ProfileService() {\r\n        this.objectMapper = new ObjectMapper();\r\n    }\r\n\r\n    public List&lt;ProfileRepository&gt; executeConsoleCommand(String command) throws IOException, InterruptedException {\r\n        Process process = Runtime.getRuntime().exec(command);\r\n        process.waitFor();\r\n\r\n        if(process.exitValue() != 0) {\r\n            System.out.println(&quot;ERROR - exitValue() = &quot; + process.exitValue());\r\n            return List.of();\r\n        }\r\n\r\n        return objectMapper.readValue(process.getInputStream(), new TypeReference&lt;List&lt;ProfileRepository&gt;&gt;(){});\r\n    }\r\n}\r\n```\r\n**ProfileRepository.java:**\r\n```\r\npackage com.slaweklida.githubDataScrapper;\r\n\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic class ProfileRepository {\r\n    private String repositoryName;\r\n    private String ownerLogin;\r\n}\r\n```\r\n\r\n\r\n\r\n\r\n\r\nI would like to see the same JSON in browser as in PowerShell.","title":"Executing GitHub CLI command in Process class returns exitValue = 1 instead of JSON [Java SpringBoot]","body":"<p>I want to execute a GitHub CLI command using the Process class in Java:</p>\n<p><code>gh api /users/abcslawek/repos --jq 'map(select(.fork == false))|.[]|{Repository_name: .name, Owner_login: .owner.login}'</code></p>\n<p>This command in PowerShell returns JSON:\n<a href=\"https://i.stack.imgur.com/DidaF.png\" rel=\"nofollow noreferrer\">enter image description here</a>\nbut after entering <code>http://localhost:8080/repo</code> in browser my Intellij console shows <code>ERROR - exitValue() = 1</code> and there is empty JSON in my browser.\nHere is my whole code:\n<a href=\"https://i.stack.imgur.com/YrRbH.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n<p>I would like to see the same JSON in browser as in PowerShell.</p>\n<p><strong>Application.java:</strong></p>\n<pre><code>package com.slaweklida.githubDataScrapper;\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class Application {\n    public static void main(String[] args) {\n        SpringApplication.run(Application.class, args);\n    }\n\n}\n</code></pre>\n<p><strong>Controller.java:</strong></p>\n<pre><code>package com.slaweklida.githubDataScrapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RestController;\nimport java.io.IOException;\nimport java.util.List;\n@RestController\npublic class Controller {\n\n    @Autowired\n    private ProfileService profileService;\n\n    @GetMapping(&quot;/repo&quot;)\n    public List&lt;ProfileRepository&gt; getProfileRepositories() {\n        try {\n            return profileService.executeConsoleCommand(&quot;gh api /users/abcslawek/repos --jq 'map(select(.fork == false))|.[]|{Repository_name: .name, Owner_login: .owner.login}'&quot;);\n        } catch (IOException | InterruptedException e) {\n            e.printStackTrace();\n            return List.of();\n        }\n    }\n}\n</code></pre>\n<p><strong>ProfileService.java:</strong></p>\n<pre><code>package com.slaweklida.githubDataScrapper;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport java.io.IOException;\nimport java.util.List;\n@Service\npublic class ProfileService {\n\n    private final ObjectMapper objectMapper;\n\n    @Autowired\n    public ProfileService() {\n        this.objectMapper = new ObjectMapper();\n    }\n\n    public List&lt;ProfileRepository&gt; executeConsoleCommand(String command) throws IOException, InterruptedException {\n        Process process = Runtime.getRuntime().exec(command);\n        process.waitFor();\n\n        if(process.exitValue() != 0) {\n            System.out.println(&quot;ERROR - exitValue() = &quot; + process.exitValue());\n            return List.of();\n        }\n\n        return objectMapper.readValue(process.getInputStream(), new TypeReference&lt;List&lt;ProfileRepository&gt;&gt;(){});\n    }\n}\n</code></pre>\n<p><strong>ProfileRepository.java:</strong></p>\n<pre><code>package com.slaweklida.githubDataScrapper;\n\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic class ProfileRepository {\n    private String repositoryName;\n    private String ownerLogin;\n}\n</code></pre>\n<p>I would like to see the same JSON in browser as in PowerShell.</p>\n"},{"tags":["java","char"],"comments":[{"owner":{"account_id":17208480,"reputation":329,"user_id":12458473,"display_name":"Abdullah Khaled"},"score":0,"creation_date":1640653796,"post_id":70501637,"comment_id":124626072,"body_markdown":"Do you want to create custom control characters? or do you just want to replace existing ones? you question is not clear.","body":"Do you want to create custom control characters? or do you just want to replace existing ones? you question is not clear."},{"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"score":0,"creation_date":1640654731,"post_id":70501637,"comment_id":124626209,"body_markdown":"Did you mean `\\0`?","body":"Did you mean <code>\\0</code>?"},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1640660927,"post_id":70501637,"comment_id":124627102,"body_markdown":"&quot;a character, with the exception of a control character, cannot contain more than one character&quot; -- this is meaningless.  A character does not &#39;contain&#39; characters, it **is** a character. One character. Regardless of whether it&#39;s a control character.","body":"&quot;a character, with the exception of a control character, cannot contain more than one character&quot; -- this is meaningless.  A character does not &#39;contain&#39; characters, it <b>is</b> a character. One character. Regardless of whether it&#39;s a control character."},{"owner":{"account_id":23685228,"reputation":1103,"user_id":17710270,"display_name":"passer-by"},"score":0,"creation_date":1640661091,"post_id":70501637,"comment_id":124627135,"body_markdown":"Oh, maybe I get it.  You&#39;re confused because a single character (like &#39;newline&#39;) is representable **in Java source code** by the sequence backslash, letter-n.  It&#39;s still one 16-bit char in the string.  This is just a notational convenience for non-printing characters.","body":"Oh, maybe I get it.  You&#39;re confused because a single character (like &#39;newline&#39;) is representable <b>in Java source code</b> by the sequence backslash, letter-n.  It&#39;s still one 16-bit char in the string.  This is just a notational convenience for non-printing characters."}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1640656502,"creation_date":1640655177,"answer_id":70501969,"question_id":70501637,"body_markdown":"# Escapes processed by compiler\r\n\r\nThe escapes embedded in a string literal are processed by the compiler, and transformed as the intended character. So at runtime, the string object contains a null, and does *not* contain a backslash and zero seen in your literal `&quot;an\\0Example&quot;`.\r\n\r\nYou can see this in the following code. \r\n\r\n\t\tString input = &quot;an\\0Example&quot; ;\r\n        System.out.println(\r\n            Arrays.toString(\r\n                input.codePoints().toArray()\r\n            )\r\n        );\r\n\r\nSee this [code run live at IdeOne.com][1]. Notice the zero in third position, a null character, followed by the seven characters of the word “Example”. \r\n\r\n&gt; [97, 110, 0, 69, 120, 97, 109, 112, 108, 101]\r\n\r\n# Avoid `char`\r\n\r\nNever use `char` type. That type has been legacy as of Java 2, essentially broken. As a 16-bit value, `char` is physically incapable of representing most characters. \r\n\r\n# Code points\r\n\r\nUse [code point][2] integer numbers instead.\r\n\r\n    StringBuilder sb = new StringBuilder() ;\r\n    for( int codePoint : input.codePoints().toArray() ){\r\n        if( ! Character.isISOControl( codePoint ) ) {\r\n            sb.appendCodePoint( codePoint ) ;\r\n        }\r\n     }\r\n    String output = sb.toString() ;\r\n\r\nDump to console.\r\n\r\n    System.out.println( output ) ;\r\n    System.out.println( Arrays.toString( output.codePoints().toArray() ) ) ;\r\n\t}\r\n    System.out.println( output.codePoints().mapToObj( Character :: toString ).toList() ) ;\r\n   \r\n\r\nSee this [code run live at IdeOne.com][1].\r\n\r\n&gt;anExample\r\n&gt;\r\n&gt; [97, 110, 69, 120, 97, 109, 112, 108, 101]\r\n&gt;\r\n&gt; [a, n, E, x, a, m, p, l, e]\r\n\r\n\r\n\r\n     \r\n\r\n\r\n  [1]: https://ideone.com/m1DrN2\r\n  [2]: https://en.wikipedia.org/wiki/Code_point","title":"In java, is there a way to convert a control character to a set of characters in a string?","body":"<h1>Escapes processed by compiler</h1>\n<p>The escapes embedded in a string literal are processed by the compiler, and transformed as the intended character. So at runtime, the string object contains a null, and does <em>not</em> contain a backslash and zero seen in your literal <code>&quot;an\\0Example&quot;</code>.</p>\n<p>You can see this in the following code.</p>\n<pre><code>    String input = &quot;an\\0Example&quot; ;\n    System.out.println(\n        Arrays.toString(\n            input.codePoints().toArray()\n        )\n    );\n</code></pre>\n<p>See this <a href=\"https://ideone.com/m1DrN2\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>. Notice the zero in third position, a null character, followed by the seven characters of the word “Example”.</p>\n<blockquote>\n<p>[97, 110, 0, 69, 120, 97, 109, 112, 108, 101]</p>\n</blockquote>\n<h1>Avoid <code>char</code></h1>\n<p>Never use <code>char</code> type. That type has been legacy as of Java 2, essentially broken. As a 16-bit value, <code>char</code> is physically incapable of representing most characters.</p>\n<h1>Code points</h1>\n<p>Use <a href=\"https://en.wikipedia.org/wiki/Code_point\" rel=\"nofollow noreferrer\">code point</a> integer numbers instead.</p>\n<pre><code>StringBuilder sb = new StringBuilder() ;\nfor( int codePoint : input.codePoints().toArray() ){\n    if( ! Character.isISOControl( codePoint ) ) {\n        sb.appendCodePoint( codePoint ) ;\n    }\n }\nString output = sb.toString() ;\n</code></pre>\n<p>Dump to console.</p>\n<pre><code>System.out.println( output ) ;\nSystem.out.println( Arrays.toString( output.codePoints().toArray() ) ) ;\n}\nSystem.out.println( output.codePoints().mapToObj( Character :: toString ).toList() ) ;\n</code></pre>\n<p>See this <a href=\"https://ideone.com/m1DrN2\" rel=\"nofollow noreferrer\">code run live at IdeOne.com</a>.</p>\n<blockquote>\n<p>anExample</p>\n<p>[97, 110, 69, 120, 97, 109, 112, 108, 101]</p>\n<p>[a, n, E, x, a, m, p, l, e]</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":10389194,"reputation":14819,"user_id":7661119,"display_name":"Ervin Szilagyi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1640655189,"creation_date":1640655189,"answer_id":70501971,"question_id":70501637,"body_markdown":"Assuming we have to following input string:\r\n\r\n```\r\nString str = &quot;an\\0Example&quot;;\r\n```\r\n\r\nWe can replace the control character using conventional loop and a string builder:\r\n\r\n```\r\nString replacement = &quot;another&quot;;\r\nStringBuilder stringBuilder = new StringBuilder();\r\nfor (char c : str.toCharArray()) {\r\n    stringBuilder.append(Character.isISOControl(c) ? replacement : c);\r\n}\r\nString result = stringBuilder.toString();\r\n```\r\n\r\nOr we can use streams:\r\n\r\n```\r\nString result = str.chars()\r\n        .mapToObj(c -&gt; Character.isISOControl(c) ? replacement : String.valueOf((char)c))\r\n        .collect(Collectors.joining());\r\n```\r\n\r\nPlease note, according to [`isISOControl`](https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isISOControl-char-) method, this `an/0Example` does not contain any kind of control character. Instead of `/0`, I believe you would wanted to have this `\\0`.","title":"In java, is there a way to convert a control character to a set of characters in a string?","body":"<p>Assuming we have to following input string:</p>\n<pre><code>String str = &quot;an\\0Example&quot;;\n</code></pre>\n<p>We can replace the control character using conventional loop and a string builder:</p>\n<pre><code>String replacement = &quot;another&quot;;\nStringBuilder stringBuilder = new StringBuilder();\nfor (char c : str.toCharArray()) {\n    stringBuilder.append(Character.isISOControl(c) ? replacement : c);\n}\nString result = stringBuilder.toString();\n</code></pre>\n<p>Or we can use streams:</p>\n<pre><code>String result = str.chars()\n        .mapToObj(c -&gt; Character.isISOControl(c) ? replacement : String.valueOf((char)c))\n        .collect(Collectors.joining());\n</code></pre>\n<p>Please note, according to <a href=\"https://docs.oracle.com/javase/8/docs/api/java/lang/Character.html#isISOControl-char-\" rel=\"nofollow noreferrer\"><code>isISOControl</code></a> method, this <code>an/0Example</code> does not contain any kind of control character. Instead of <code>/0</code>, I believe you would wanted to have this <code>\\0</code>.</p>\n"},{"tags":[],"owner":{"account_id":27958408,"reputation":1,"user_id":21350775,"display_name":"Kevin Lano"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690806406,"creation_date":1690806406,"answer_id":76803620,"question_id":70501637,"body_markdown":"To do this you can test the relevant control characters. For example, to make the control characters visible: \r\n\r\n    public static String rawString(String s)\r\n    { String res = &quot;&quot;; \r\n      if (s == null) \r\n      { return res; } \r\n\r\n      for (int i = 0; i &lt; s.length(); i++) \r\n      { char c = s.charAt(i); \r\n        if (c == &#39;\\b&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;b&#39;; } \r\n        else if (c == &#39;\\n&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;n&#39;; } \r\n        else if (c == &#39;\\t&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;t&#39;; }\r\n        else if (c == &#39;\\r&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;r&#39;; } \r\n        else if (c == &#39;\\f&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;n&#39;; }\r\n        else if (c == &#39;\\\\&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;\\\\&#39;; }\r\n        else if (c == &#39;\\&#39;&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;\\&#39;&#39;; } \r\n        else if (c == &#39;\\&quot;&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;\\&quot;&#39;; } \r\n        else if (c == &#39;\\0&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;0&#39;; } \r\n        else if (c == &#39;\\1&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;1&#39;; } \r\n        else if (c == &#39;\\2&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;2&#39;; } \r\n        else if (c == &#39;\\3&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;3&#39;; } \r\n        else if (c == &#39;\\4&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;4&#39;; } \r\n        else if (c == &#39;\\5&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;5&#39;; } \r\n        else if (c == &#39;\\6&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;6&#39;; } \r\n        else if (c == &#39;\\7&#39;)\r\n        { res = res + &#39;\\\\&#39; + &#39;7&#39;; } \r\n        else \r\n        { res = res + c; } \r\n      } \r\n      return res; \r\n    } \r\n\r\n","title":"In java, is there a way to convert a control character to a set of characters in a string?","body":"<p>To do this you can test the relevant control characters. For example, to make the control characters visible:</p>\n<pre><code>public static String rawString(String s)\n{ String res = &quot;&quot;; \n  if (s == null) \n  { return res; } \n\n  for (int i = 0; i &lt; s.length(); i++) \n  { char c = s.charAt(i); \n    if (c == '\\b')\n    { res = res + '\\\\' + 'b'; } \n    else if (c == '\\n')\n    { res = res + '\\\\' + 'n'; } \n    else if (c == '\\t')\n    { res = res + '\\\\' + 't'; }\n    else if (c == '\\r')\n    { res = res + '\\\\' + 'r'; } \n    else if (c == '\\f')\n    { res = res + '\\\\' + 'n'; }\n    else if (c == '\\\\')\n    { res = res + '\\\\' + '\\\\'; }\n    else if (c == '\\'')\n    { res = res + '\\\\' + '\\''; } \n    else if (c == '\\&quot;')\n    { res = res + '\\\\' + '\\&quot;'; } \n    else if (c == '\\0')\n    { res = res + '\\\\' + '0'; } \n    else if (c == '\\1')\n    { res = res + '\\\\' + '1'; } \n    else if (c == '\\2')\n    { res = res + '\\\\' + '2'; } \n    else if (c == '\\3')\n    { res = res + '\\\\' + '3'; } \n    else if (c == '\\4')\n    { res = res + '\\\\' + '4'; } \n    else if (c == '\\5')\n    { res = res + '\\\\' + '5'; } \n    else if (c == '\\6')\n    { res = res + '\\\\' + '6'; } \n    else if (c == '\\7')\n    { res = res + '\\\\' + '7'; } \n    else \n    { res = res + c; } \n  } \n  return res; \n} \n</code></pre>\n"}],"owner":{"account_id":23761639,"reputation":13,"user_id":17776947,"display_name":"marsh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":70501971,"answer_count":3,"score":1,"last_activity_date":1690806406,"creation_date":1640650747,"question_id":70501637,"body_markdown":"Sorry if the title was poorly phrased, but I am trying to make a program that can find a way of detecting whether each individual character in a string is a control character or not. If there is a control character, it should replace that control character with a set of characters. For example, the String &quot;an/0Example&quot; should become &quot;anotherExample&quot;, assuming that &quot;other&quot; is what I want to replace with the control character. The code I have so far is below, but my understanding is that a character, with the exception of a control character, cannot contain more than one character.\r\n\r\n        int i = 0;\r\n        char exampleCh = identifier.charAt(i);\r\n        \r\n        for(i = 0; i &lt; identifier.length(); i++){\r\n            if(Character.isISOControl(example)){\r\n                identifier = identifier.replace(exampleCh, &#39;exampleReplacement&#39;);\r\n            }\r\n         }","title":"In java, is there a way to convert a control character to a set of characters in a string?","body":"<p>Sorry if the title was poorly phrased, but I am trying to make a program that can find a way of detecting whether each individual character in a string is a control character or not. If there is a control character, it should replace that control character with a set of characters. For example, the String &quot;an/0Example&quot; should become &quot;anotherExample&quot;, assuming that &quot;other&quot; is what I want to replace with the control character. The code I have so far is below, but my understanding is that a character, with the exception of a control character, cannot contain more than one character.</p>\n<pre><code>    int i = 0;\n    char exampleCh = identifier.charAt(i);\n    \n    for(i = 0; i &lt; identifier.length(); i++){\n        if(Character.isISOControl(example)){\n            identifier = identifier.replace(exampleCh, 'exampleReplacement');\n        }\n     }\n</code></pre>\n"},{"tags":["java","spring","spring-mvc","http-request-parameters"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":2,"creation_date":1690805841,"post_id":76803466,"comment_id":135399662,"body_markdown":"Why don&#39;t you try it out yourself?","body":"Why don&#39;t you try it out yourself?"},{"owner":{"account_id":8909811,"reputation":2612,"user_id":6650475,"display_name":"Andrew S"},"score":0,"creation_date":1690805900,"post_id":76803466,"comment_id":135399678,"body_markdown":"Try it and see!  (Let us know the result.)  With changing the param to plural, does the route name still make sense?","body":"Try it and see!  (Let us know the result.)  With changing the param to plural, does the route name still make sense?"},{"owner":{"account_id":7291967,"reputation":57515,"user_id":5558072,"accept_rate":100,"display_name":"Youcef LAIDANI"},"score":0,"creation_date":1690805932,"post_id":76803466,"comment_id":135399686,"body_markdown":"Changing the type of a `@RequestParam` from `String` to `List&lt;String&gt;` may not be considered backward compatible. Existing clients who use this endpoint and request parameter may encounter issues when sending requests to the updated API. One way to maintain backward compatibility is to create a new version of the API that accepts the new `List&lt;String&gt;` type while keeping the old version of the API that accepts the one `String`.","body":"Changing the type of a <code>@RequestParam</code> from <code>String</code> to <code>List&lt;String&gt;</code> may not be considered backward compatible. Existing clients who use this endpoint and request parameter may encounter issues when sending requests to the updated API. One way to maintain backward compatibility is to create a new version of the API that accepts the new <code>List&lt;String&gt;</code> type while keeping the old version of the API that accepts the one <code>String</code>."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690806866,"post_id":76803466,"comment_id":135399917,"body_markdown":"Write a test and you will know. Write it for the current API, change API test should still be green, if not it is not compatible.","body":"Write a test and you will know. Write it for the current API, change API test should still be green, if not it is not compatible."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1690807913,"post_id":76803466,"comment_id":135400136,"body_markdown":"From a REST perspective I would consider this backward compatible. When it comes to generated code based on the API, that&#39;s a different story. Parameter types of generated methods change from `String` to `List&lt;String&gt;` as well. However, if you add query parameters you would get the same issue.","body":"From a REST perspective I would consider this backward compatible. When it comes to generated code based on the API, that&#39;s a different story. Parameter types of generated methods change from <code>String</code> to <code>List&lt;String&gt;</code> as well. However, if you add query parameters you would get the same issue."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1690819128,"post_id":76803466,"comment_id":135402743,"body_markdown":"@RobSpoor `From a REST perspective ... When it comes to generated code based on the API` then you don&#39;t do REST but just some RPC variation that you term &quot;REST API&quot;. REST focuses on media types as contract between clients and servers in order to exchange a resource&#39;s state in a meaningful way that both can understand. A media type therefore is nothing more as a human readable description of the elements that may appear in such an exchanged payload, the context elements may appear in as well as the semantic definition of these elements.","body":"@RobSpoor <code>From a REST perspective ... When it comes to generated code based on the API</code> then you don&#39;t do REST but just some RPC variation that you term &quot;REST API&quot;. REST focuses on media types as contract between clients and servers in order to exchange a resource&#39;s state in a meaningful way that both can understand. A media type therefore is nothing more as a human readable description of the elements that may appear in such an exchanged payload, the context elements may appear in as well as the semantic definition of these elements."},{"owner":{"account_id":1211967,"reputation":7024,"user_id":1180351,"display_name":"Rob Spoor"},"score":0,"creation_date":1690889816,"post_id":76803466,"comment_id":135413276,"body_markdown":"@RomanVottner you apparently haven&#39;t worked with https://openapi-generator.tech/ yet. It generates code based on an OpenAPI spec. At least in Java, each query parameter by default becomes a method parameter. If a query parameter becomes repeatable, the type changes from the singular element type (e.g. `String`) to a list of that type (e.g. `List&lt;String&gt;`).","body":"@RomanVottner you apparently haven&#39;t worked with <a href=\"https://openapi-generator.tech/\" rel=\"nofollow noreferrer\">openapi-generator.tech</a> yet. It generates code based on an OpenAPI spec. At least in Java, each query parameter by default becomes a method parameter. If a query parameter becomes repeatable, the type changes from the singular element type (e.g. <code>String</code>) to a list of that type (e.g. <code>List&lt;String&gt;</code>)."},{"owner":{"account_id":6542968,"reputation":11,"user_id":5059787,"display_name":"swr"},"score":0,"creation_date":1690890285,"post_id":76803466,"comment_id":135413383,"body_markdown":"It works fine with one of the existing client and in curl. Request will be something like &lt;url&gt;?test=abc for existing client and &lt;url&gt;?test=abc,xyz or &lt;url&gt;?test=abc&amp;test=xyz for new client. Both works fine with List&lt;String&gt; type. However, we have already published OpenAPI definition, so wanted to understand if it is the right way to change query param type from String to List&lt;String&gt; there as well.","body":"It works fine with one of the existing client and in curl. Request will be something like &lt;url&gt;?test=abc for existing client and &lt;url&gt;?test=abc,xyz or &lt;url&gt;?test=abc&amp;test=xyz for new client. Both works fine with List&lt;String&gt; type. However, we have already published OpenAPI definition, so wanted to understand if it is the right way to change query param type from String to List&lt;String&gt; there as well."},{"owner":{"account_id":1464652,"reputation":12323,"user_id":1377895,"accept_rate":100,"display_name":"Roman Vottner"},"score":0,"creation_date":1690890423,"post_id":76803466,"comment_id":135413419,"body_markdown":"@RobSpoor I have, but it has nothing to do with REST, unfortunately. It is RPC under the hood, exactly the opposite of what REST tries to achieve. The main problem is, that every guide and plenty of books just repeat what someone years ago thought is REST but isn&#39;t and therefore we have this mess of different understandings of what REST is. A whole explanation of what REST is would probably exceed the limits of an answer (!) here as well","body":"@RobSpoor I have, but it has nothing to do with REST, unfortunately. It is RPC under the hood, exactly the opposite of what REST tries to achieve. The main problem is, that every guide and plenty of books just repeat what someone years ago thought is REST but isn&#39;t and therefore we have this mess of different understandings of what REST is. A whole explanation of what REST is would probably exceed the limits of an answer (!) here as well"}],"owner":{"account_id":6542968,"reputation":11,"user_id":5059787,"display_name":"swr"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":64,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":0,"score":0,"last_activity_date":1690806374,"creation_date":1690805305,"question_id":76803466,"body_markdown":"I have an API which take a @RequestParam of type String. Now I want to change the type to List&lt;String&gt;. There are some existing clients who use this endpoint and request param. Will the change be considered backward compatible?\r\n\r\nExisting : `@RequestParam(&quot;test&quot;) test: String`\r\n\r\nNew : `@RequestParam(&quot;test&quot;) test: List&lt;String&gt;`\r\n\r\n","title":"RestAPI : Is changing @RequestParam type from String to List&lt;String&gt; a backward compatible change?","body":"<p>I have an API which take a @RequestParam of type String. Now I want to change the type to List. There are some existing clients who use this endpoint and request param. Will the change be considered backward compatible?</p>\n<p>Existing : <code>@RequestParam(&quot;test&quot;) test: String</code></p>\n<p>New : <code>@RequestParam(&quot;test&quot;) test: List&lt;String&gt;</code></p>\n"},{"tags":["java","spring","spring-boot","dependency-injection","components"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":0,"creation_date":1690806426,"post_id":76803606,"comment_id":135399813,"body_markdown":"If you need two instances, it&#39;s by definition not a singleton. So don&#39;t use that scope, and instead use a scope like `@Named`.","body":"If you need two instances, it&#39;s by definition not a singleton. So don&#39;t use that scope, and instead use a scope like <code>@Named</code>."},{"owner":{"account_id":5281408,"reputation":18797,"user_id":4216641,"display_name":"Turing85"},"score":0,"creation_date":1690806567,"post_id":76803606,"comment_id":135399851,"body_markdown":"This isn&#39;t a singleton anymore, but a multiton. There is the notion of [`@Qualifier` in spring(`baeldung.com`)](https://www.baeldung.com/spring-qualifier-annotation) that allows to instantiate multiple beans of same types. The whole thing, however, smells like an [XY problem (`meta.stackexchange.com`)](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem). Why do you need that second context, and is there a way to achieve this in another way?","body":"This isn&#39;t a singleton anymore, but a multiton. There is the notion of <a href=\"https://www.baeldung.com/spring-qualifier-annotation\" rel=\"nofollow noreferrer\"><code>@Qualifier</code> in spring(<code>baeldung.com</code>)</a> that allows to instantiate multiple beans of same types. The whole thing, however, smells like an <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem\">XY problem (<code>meta.stackexchange.com</code>)</a>. Why do you need that second context, and is there a way to achieve this in another way?"},{"owner":{"account_id":7985439,"reputation":747,"user_id":6025132,"accept_rate":7,"display_name":"Philippe MESMEUR"},"score":0,"creation_date":1690808077,"post_id":76803606,"comment_id":135400176,"body_markdown":"Before posting this question, I already considered the `@Qualifier` possibility (as far as I understand it is the same as `@Named`)\n\nHowever, I did not find a nice way to do it (maybe I missed something...). According to my modest knowledge of `@Qualifier`, I would need - for each class of `my.module` - to remove `@Component` and to create two inheriting classes, having `@Component` and `@Qualifier(&quot;the.qualifier.name&quot;)`","body":"Before posting this question, I already considered the <code>@Qualifier</code> possibility (as far as I understand it is the same as <code>@Named</code>)  However, I did not find a nice way to do it (maybe I missed something...). According to my modest knowledge of <code>@Qualifier</code>, I would need - for each class of <code>my.module</code> - to remove <code>@Component</code> and to create two inheriting classes, having <code>@Component</code> and <code>@Qualifier(&quot;the.qualifier.name&quot;)</code>"},{"owner":{"account_id":1908539,"reputation":1102,"user_id":1722923,"accept_rate":43,"display_name":"Raju Rudru"},"score":0,"creation_date":1690811603,"post_id":76803606,"comment_id":135401021,"body_markdown":"You might probably want to create multiple application context configurations. https://www.baeldung.com/spring-boot-context-hierarchy I have not tried this myself, but worth a try","body":"You might probably want to create multiple application context configurations. <a href=\"https://www.baeldung.com/spring-boot-context-hierarchy\" rel=\"nofollow noreferrer\">baeldung.com/spring-boot-context-hierarchy</a> I have not tried this myself, but worth a try"}],"owner":{"account_id":7985439,"reputation":747,"user_id":6025132,"accept_rate":7,"display_name":"Philippe MESMEUR"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1690806312,"creation_date":1690806312,"question_id":76803606,"body_markdown":"My Springboot application has a module providing a technical feature\r\n\r\nInside this module (let&#39;s call it MyModule), all `@Component` classes are singleton: they need to be instantiated only once\r\n\r\n```java\r\npackage my.module;\r\n\r\ninterface IMyFeature {\r\n}\r\n\r\n\r\n@Component\r\nclass MyFeature implement IMyFeature {  // is a singleton\r\n\r\n    private final MyOtherClass1 myOtherClass1;\r\n    private final MyOtherClass2 myOtherClass2;\r\n\r\n    @Autowired\r\n    public MyFeature(MyOtherClass1 myOtherClass1,    // a singleton is injected\r\n                     MyOtherClass2 myOtherClass2) {  // a singleton is injected\r\n        this.myOtherClass1 = myOtherClass1;\r\n        this.myOtherClass2 = myOtherClass2;\r\n    }\r\n\r\n}\r\n\r\n\r\n@Component\r\nclass MyOtherClass1 {  // is a singleton\r\n\r\n    private final MyOtherClass2 myOtherClass2;\r\n\r\n    @Autowired\r\n    public MyOtherClass1(MyOtherClass2 myOtherClass2) { // a singleton is injected (same instance as the one injected to MyFeature)\r\n        this.myOtherClass2 = myOtherClass2;\r\n    }\r\n\r\n}\r\n\r\n\r\n@Component\r\nclass MyOtherClass2 {  // is a singleton\r\n\r\n    @Autowired\r\n    public MyOtherClass2() {\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nOutside this module (i.e. other modules of my application), it is possible to inject classes from the module MyModule when this service is needed\r\n\r\n```java\r\npackage other.module1;\r\n\r\nclass FooBar {\r\n\r\n   private final IMyFeature myFeature;     \r\n\r\n   @Autowired\r\n   public FooBar(IMyFeature myFeature) {\r\n       this.myFeature = myFeature;\r\n   }\r\n\r\n}\r\n\r\n\r\npackage other.module2;\r\n\r\nclass HelloWorld {\r\n     \r\n   private final IMyFeature myFeature;     \r\n\r\n\r\n   @Autowired\r\n   public FooBar(IMyFeature myFeature) { // here I want myFeature to be the same instance than the one obtained by constructor of other.module1.FooBar\r\n       this.myFeature = myFeature;\r\n   }\r\n\r\n}\r\n\r\n```\r\n\r\nThis is working nice.\r\n\r\nNow, I would need a new module (let&#39;s call it StrangeModule) that needs to run the feature of MyModule **in a different configuration context**. To do so, it needs to get its own instance of all singleton `@Component` defined in MyModule\r\n\r\n```java\r\npackage strange.module;\r\n\r\nclass StangeClass {\r\n\r\n   private final IMyFeature myFeature;     \r\n\r\n   @Autowired\r\n   public FooBar(my.module.IMyFeature myFeature) {\r\n    // !!! here I DO NOT WANT myFeature to be the same instance than the one obtained by other.module1.FooBar and other.module2.HelloWorld\r\n    // !!! I also DO NOT WANT that MyOtherClass1 and MyOtherClass2 instances to be the same as the ones obtained for other.module1.FooBar and other.module2.HelloWorld\r\n       this.myFeature = myFeature;\r\n   }\r\n\r\n}\r\n```\r\n\r\nAny idea about what should I do to reach what I want to do?","title":"Spring: need to instanciate singletion twice, in different context","body":"<p>My Springboot application has a module providing a technical feature</p>\n<p>Inside this module (let's call it MyModule), all <code>@Component</code> classes are singleton: they need to be instantiated only once</p>\n<pre class=\"lang-java prettyprint-override\"><code>package my.module;\n\ninterface IMyFeature {\n}\n\n\n@Component\nclass MyFeature implement IMyFeature {  // is a singleton\n\n    private final MyOtherClass1 myOtherClass1;\n    private final MyOtherClass2 myOtherClass2;\n\n    @Autowired\n    public MyFeature(MyOtherClass1 myOtherClass1,    // a singleton is injected\n                     MyOtherClass2 myOtherClass2) {  // a singleton is injected\n        this.myOtherClass1 = myOtherClass1;\n        this.myOtherClass2 = myOtherClass2;\n    }\n\n}\n\n\n@Component\nclass MyOtherClass1 {  // is a singleton\n\n    private final MyOtherClass2 myOtherClass2;\n\n    @Autowired\n    public MyOtherClass1(MyOtherClass2 myOtherClass2) { // a singleton is injected (same instance as the one injected to MyFeature)\n        this.myOtherClass2 = myOtherClass2;\n    }\n\n}\n\n\n@Component\nclass MyOtherClass2 {  // is a singleton\n\n    @Autowired\n    public MyOtherClass2() {\n    }\n\n}\n\n</code></pre>\n<p>Outside this module (i.e. other modules of my application), it is possible to inject classes from the module MyModule when this service is needed</p>\n<pre class=\"lang-java prettyprint-override\"><code>package other.module1;\n\nclass FooBar {\n\n   private final IMyFeature myFeature;     \n\n   @Autowired\n   public FooBar(IMyFeature myFeature) {\n       this.myFeature = myFeature;\n   }\n\n}\n\n\npackage other.module2;\n\nclass HelloWorld {\n     \n   private final IMyFeature myFeature;     \n\n\n   @Autowired\n   public FooBar(IMyFeature myFeature) { // here I want myFeature to be the same instance than the one obtained by constructor of other.module1.FooBar\n       this.myFeature = myFeature;\n   }\n\n}\n\n</code></pre>\n<p>This is working nice.</p>\n<p>Now, I would need a new module (let's call it StrangeModule) that needs to run the feature of MyModule <strong>in a different configuration context</strong>. To do so, it needs to get its own instance of all singleton <code>@Component</code> defined in MyModule</p>\n<pre class=\"lang-java prettyprint-override\"><code>package strange.module;\n\nclass StangeClass {\n\n   private final IMyFeature myFeature;     \n\n   @Autowired\n   public FooBar(my.module.IMyFeature myFeature) {\n    // !!! here I DO NOT WANT myFeature to be the same instance than the one obtained by other.module1.FooBar and other.module2.HelloWorld\n    // !!! I also DO NOT WANT that MyOtherClass1 and MyOtherClass2 instances to be the same as the ones obtained for other.module1.FooBar and other.module2.HelloWorld\n       this.myFeature = myFeature;\n   }\n\n}\n</code></pre>\n<p>Any idea about what should I do to reach what I want to do?</p>\n"},{"tags":["java","json","jackson","deserialization","immutables-library"],"answers":[{"tags":[],"owner":{"account_id":7937595,"reputation":1918,"user_id":5992948,"accept_rate":47,"display_name":"y07k2"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690802366,"creation_date":1690802366,"answer_id":76803113,"question_id":75566330,"body_markdown":"Maybe try something like this (to use `@Value.Immutable` over interface)\r\n```\r\n@JsonProperty(&quot;links&quot;)\r\nMap&lt;String, Optional&lt;String&gt;&gt; getLinks();\r\n\r\n@Value.Lazy\r\nMap&lt;String, String&gt; getLinksValues() {\r\n    return getLinks().entrySet().collect(Map.Entry::getKey, e -&gt; e.getValue().orElse(null)));\r\n}\r\n```\r\nor (without `@Value.Immutable`)\r\n```\r\nprivate final Map&lt;String, String&gt; links;\r\n\r\nsetLinks(Map&lt;String, String&gt; links) {\r\n    this.links = links;\r\n}\r\n\r\nMap&lt;String, String&gt; getLinks() {\r\n    return links;\r\n}\r\n```","title":"Deserialize Json Object containing map with null values to Immutable with Jackson","body":"<p>Maybe try something like this (to use <code>@Value.Immutable</code> over interface)</p>\n<pre><code>@JsonProperty(&quot;links&quot;)\nMap&lt;String, Optional&lt;String&gt;&gt; getLinks();\n\n@Value.Lazy\nMap&lt;String, String&gt; getLinksValues() {\n    return getLinks().entrySet().collect(Map.Entry::getKey, e -&gt; e.getValue().orElse(null)));\n}\n</code></pre>\n<p>or (without <code>@Value.Immutable</code>)</p>\n<pre><code>private final Map&lt;String, String&gt; links;\n\nsetLinks(Map&lt;String, String&gt; links) {\n    this.links = links;\n}\n\nMap&lt;String, String&gt; getLinks() {\n    return links;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7655262,"reputation":7506,"user_id":5802417,"display_name":"Michael Gantman"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690805803,"creation_date":1690805803,"answer_id":76803533,"question_id":75566330,"body_markdown":"I just tried your testcase with Jackson version 2.15.2 and it worked just fine. I didn&#39;t use `Immutable` annotation and also didn&#39;t use `@JsonSerialize` and `@JsonDeserialize` annotations. Here is my code and output I got:\r\n&lt;br&gt;&lt;br&gt;class **MapHolder**:\r\n\r\n    package com.mgnt.stam;\r\n    \r\n    import java.util.Map;\r\n    \r\n    public class MapHolder {\r\n        private Integer id;\r\n        private Map&lt;String, Object&gt; address;\r\n    \r\n        public Integer getId() {\r\n            return id;\r\n        }\r\n    \r\n        public void setId(Integer id) {\r\n            this.id = id;\r\n        }\r\n    \r\n        public Map&lt;String, Object&gt; getAddress() {\r\n            return address;\r\n        }\r\n    \r\n        public void setAddress(Map&lt;String, Object&gt; address) {\r\n            this.address = address;\r\n        }\r\n    \r\n        @Override\r\n        public String toString() {\r\n            return &quot;MapHolder{&quot; +\r\n                    &quot;id=&quot; + id +\r\n                    &quot;, address=&quot; + address +\r\n                    &#39;}&#39;;\r\n        }\r\n}\r\n\r\n\r\nMy code:\r\n\r\n    try{        \r\n            MapHolder mapHolder = JsonUtils.readObjectFromJsonString(&quot;{\\&quot;id\\&quot;: 1,\\&quot;address\\&quot;: {\\&quot;city\\&quot;: \\&quot;Mountain View\\&quot;,\\&quot;state\\&quot;: \\&quot;CA\\&quot;,\\&quot;zipcode\\&quot;: 94041, \\&quot;appt\\&quot;: null}}&quot;, MapHolder.class);\r\n            System.out.println(mapHolder);\r\n        } catch (IOException e) {\r\n            ...;\r\n        }\r\n\r\nThe output:\r\n\r\n    MapHolder{id=1, address={city=Mountain View, state=CA, zipcode=94041, appt=null}}\r\n\r\nClarification: class `JsonUtils` comes from MgntUtils Open Source library written and maintained by me. This class is a thin wrapper over `ObjectMapper` class from Jackson v 2.15.2. Here is a [Javadoc for JsonUtils][1]. The library could be obtained as a [Maven artifact from Maven Central][2] or from [GitHub][3] (including source code and Javadoc)\r\n\r\n\r\n  [1]: http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\r\n  [2]: https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\r\n  [3]: https://github.com/michaelgantman/Mgnt/releases","title":"Deserialize Json Object containing map with null values to Immutable with Jackson","body":"<p>I just tried your testcase with Jackson version 2.15.2 and it worked just fine. I didn't use <code>Immutable</code> annotation and also didn't use <code>@JsonSerialize</code> and <code>@JsonDeserialize</code> annotations. Here is my code and output I got:\n<br><br>class <strong>MapHolder</strong>:</p>\n<pre><code>package com.mgnt.stam;\n\nimport java.util.Map;\n\npublic class MapHolder {\n    private Integer id;\n    private Map&lt;String, Object&gt; address;\n\n    public Integer getId() {\n        return id;\n    }\n\n    public void setId(Integer id) {\n        this.id = id;\n    }\n\n    public Map&lt;String, Object&gt; getAddress() {\n        return address;\n    }\n\n    public void setAddress(Map&lt;String, Object&gt; address) {\n        this.address = address;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;MapHolder{&quot; +\n                &quot;id=&quot; + id +\n                &quot;, address=&quot; + address +\n                '}';\n    }\n</code></pre>\n<p>}</p>\n<p>My code:</p>\n<pre><code>try{        \n        MapHolder mapHolder = JsonUtils.readObjectFromJsonString(&quot;{\\&quot;id\\&quot;: 1,\\&quot;address\\&quot;: {\\&quot;city\\&quot;: \\&quot;Mountain View\\&quot;,\\&quot;state\\&quot;: \\&quot;CA\\&quot;,\\&quot;zipcode\\&quot;: 94041, \\&quot;appt\\&quot;: null}}&quot;, MapHolder.class);\n        System.out.println(mapHolder);\n    } catch (IOException e) {\n        ...;\n    }\n</code></pre>\n<p>The output:</p>\n<pre><code>MapHolder{id=1, address={city=Mountain View, state=CA, zipcode=94041, appt=null}}\n</code></pre>\n<p>Clarification: class <code>JsonUtils</code> comes from MgntUtils Open Source library written and maintained by me. This class is a thin wrapper over <code>ObjectMapper</code> class from Jackson v 2.15.2. Here is a <a href=\"http://michaelgantman.github.io/Mgnt/docs/com/mgnt/utils/JsonUtils.html\" rel=\"nofollow noreferrer\">Javadoc for JsonUtils</a>. The library could be obtained as a <a href=\"https://search.maven.org/artifact/com.github.michaelgantman/MgntUtils\" rel=\"nofollow noreferrer\">Maven artifact from Maven Central</a> or from <a href=\"https://github.com/michaelgantman/Mgnt/releases\" rel=\"nofollow noreferrer\">GitHub</a> (including source code and Javadoc)</p>\n"}],"owner":{"account_id":9475711,"reputation":47,"user_id":7045130,"display_name":"prestigem"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":165,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690805803,"creation_date":1677337739,"question_id":75566330,"body_markdown":"I&#39;m trying to deserialize a Json object that contains the following structure but am getting an error from Jackson during deserialization due to null values appearing in the the map containing the Json object. Is there a way to deserialize these values and put them in the map as either null or an empty string? \r\n\r\n```\r\n{\r\n    &quot;id&quot;: &quot;1&quot;\r\n    &quot;links: {\r\n          &quot;a&quot;: &quot;someLink&quot;\r\n          &quot;b&quot;: null\r\n          ....\r\n     }\r\n}\r\n```\r\n\r\nI have created an immutable in the following way:\r\n\r\n```\r\n@Value.Immutable\r\n@JsonSerialize(as = ImmutableMyClass.class)\r\n@JsonDeserialize(as = ImmutableMyClass.class)\r\npublic interface MyClass {\r\n\r\n\t@JsonProperty(&quot;id&quot;)\r\n\tString getId();\r\n\r\n\t@JsonProperty(&quot;links&quot;)\r\n\tMap&lt;String, String&gt; getLinks();\r\n}\r\n\r\n```\r\n\r\nI&#39;m reading the object into the Java POJO like this: \r\n\r\n```\r\nList&lt;MyClass&gt; myClassList = objectMapper.readValue(jsonString, objectMapper.getTypeFactory.constructCollectionType(List.class, ImmutableMyClass.class))\r\n\r\n```\r\n\r\nError: \r\n```\r\ncom.fasterxml.jackson.databind.exc.ValueInstantiationException problem: null value in entry: b=null\r\n```\r\n","title":"Deserialize Json Object containing map with null values to Immutable with Jackson","body":"<p>I'm trying to deserialize a Json object that contains the following structure but am getting an error from Jackson during deserialization due to null values appearing in the the map containing the Json object. Is there a way to deserialize these values and put them in the map as either null or an empty string?</p>\n<pre><code>{\n    &quot;id&quot;: &quot;1&quot;\n    &quot;links: {\n          &quot;a&quot;: &quot;someLink&quot;\n          &quot;b&quot;: null\n          ....\n     }\n}\n</code></pre>\n<p>I have created an immutable in the following way:</p>\n<pre><code>@Value.Immutable\n@JsonSerialize(as = ImmutableMyClass.class)\n@JsonDeserialize(as = ImmutableMyClass.class)\npublic interface MyClass {\n\n    @JsonProperty(&quot;id&quot;)\n    String getId();\n\n    @JsonProperty(&quot;links&quot;)\n    Map&lt;String, String&gt; getLinks();\n}\n\n</code></pre>\n<p>I'm reading the object into the Java POJO like this:</p>\n<pre><code>List&lt;MyClass&gt; myClassList = objectMapper.readValue(jsonString, objectMapper.getTypeFactory.constructCollectionType(List.class, ImmutableMyClass.class))\n\n</code></pre>\n<p>Error:</p>\n<pre><code>com.fasterxml.jackson.databind.exc.ValueInstantiationException problem: null value in entry: b=null\n</code></pre>\n"},{"tags":["java","jsonata"],"answers":[{"tags":[],"owner":{"account_id":434434,"reputation":880,"user_id":820406,"display_name":"mralex"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1679406018,"creation_date":1679406018,"answer_id":75801983,"question_id":75801700,"body_markdown":"I&#39;m not sure how feature-complete `Jsonata4Java` is, but using vanilla JSONata you can apply the [transform operator][1]:\r\n```\r\n$$ ~&gt; |Account|{ &quot;OrderID&quot;: &quot;1234&quot; }|\r\n```\r\n\r\nPlayground link: https://stedi.link/FtvEc96\r\n\r\n\r\n  [1]: https://docs.jsonata.org/other-operators#-------transform","title":"How can I write/replace a value pointed by JSONATA expression?","body":"<p>I'm not sure how feature-complete <code>Jsonata4Java</code> is, but using vanilla JSONata you can apply the <a href=\"https://docs.jsonata.org/other-operators#-------transform\" rel=\"nofollow noreferrer\">transform operator</a>:</p>\n<pre><code>$$ ~&gt; |Account|{ &quot;OrderID&quot;: &quot;1234&quot; }|\n</code></pre>\n<p>Playground link: <a href=\"https://stedi.link/FtvEc96\" rel=\"nofollow noreferrer\">https://stedi.link/FtvEc96</a></p>\n"},{"tags":[],"owner":{"account_id":18903505,"reputation":754,"user_id":13791091,"display_name":"aeberhart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690805757,"creation_date":1690805757,"answer_id":76803529,"question_id":75801700,"body_markdown":"You can use this JSONata Java lib: https://github.com/dashjoin/jsonata-java\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;com.dashjoin&lt;/groupId&gt;\r\n    &lt;artifactId&gt;jsonata&lt;/artifactId&gt;\r\n    &lt;version&gt;0.9.1&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n```\r\nimport java.util.Map;\r\nimport com.dashjoin.jsonata.Jsonata;\r\n\r\npublic class Test {\r\n  public static void main(String[] args) throws Exception {\r\n    Map data = Map.of(&quot;Account&quot;, Map.of(&quot;OrderID&quot;, &quot;order104&quot;));\r\n    Jsonata ex = Jsonata.jsonata(&quot;$ ~&gt; | Account | {\\&quot;OrderID\\&quot;:1234} | &quot;);\r\n    System.out.println(ex.evaluate(data));\r\n  }\r\n}\r\n```","title":"How can I write/replace a value pointed by JSONATA expression?","body":"<p>You can use this JSONata Java lib: <a href=\"https://github.com/dashjoin/jsonata-java\" rel=\"nofollow noreferrer\">https://github.com/dashjoin/jsonata-java</a></p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;com.dashjoin&lt;/groupId&gt;\n    &lt;artifactId&gt;jsonata&lt;/artifactId&gt;\n    &lt;version&gt;0.9.1&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<pre><code>import java.util.Map;\nimport com.dashjoin.jsonata.Jsonata;\n\npublic class Test {\n  public static void main(String[] args) throws Exception {\n    Map data = Map.of(&quot;Account&quot;, Map.of(&quot;OrderID&quot;, &quot;order104&quot;));\n    Jsonata ex = Jsonata.jsonata(&quot;$ ~&gt; | Account | {\\&quot;OrderID\\&quot;:1234} | &quot;);\n    System.out.println(ex.evaluate(data));\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":6446678,"reputation":75,"user_id":4994983,"display_name":"mdanish98"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":119,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690805757,"creation_date":1679404436,"question_id":75801700,"body_markdown":"I am using Jsonata4Java from IBM. I have to write a value to the path defined by the jsonata expression.\r\nHow can I do this?\r\n\r\nI have a JSON like:\r\n\r\n    {\r\n      &quot;Account&quot;: {\r\n        &quot;Account Name&quot;: &quot;Firefly&quot;,\r\n        &quot;OrderID&quot;: &quot;order104&quot;,\r\n        &quot;Product&quot;: [\r\n          {\r\n            &quot;Product Name&quot;: &quot;Bowler Hat&quot;,\r\n            &quot;ProductID&quot;: 858383,\r\n            &quot;SKU&quot;: &quot;040657863&quot;,\r\n            &quot;Description&quot;: {\r\n              &quot;Colour&quot;: &quot;Purple&quot;,\r\n              &quot;Width&quot;: 300,\r\n              &quot;Height&quot;: 200,\r\n              &quot;Depth&quot;: 210,\r\n              &quot;Weight&quot;: 0.75\r\n            },\r\n            &quot;Price&quot;: 34.45,\r\n            &quot;Quantity&quot;: 4\r\n          }\r\n        ]\r\n      }\r\n    }\r\n\r\nI want to replace the value at expression **Account.OrderID** with 1234.\r\n\r\nI am using Jsonata4Java from IBM, could someone please explain how can I do this?","title":"How can I write/replace a value pointed by JSONATA expression?","body":"<p>I am using Jsonata4Java from IBM. I have to write a value to the path defined by the jsonata expression.\nHow can I do this?</p>\n<p>I have a JSON like:</p>\n<pre><code>{\n  &quot;Account&quot;: {\n    &quot;Account Name&quot;: &quot;Firefly&quot;,\n    &quot;OrderID&quot;: &quot;order104&quot;,\n    &quot;Product&quot;: [\n      {\n        &quot;Product Name&quot;: &quot;Bowler Hat&quot;,\n        &quot;ProductID&quot;: 858383,\n        &quot;SKU&quot;: &quot;040657863&quot;,\n        &quot;Description&quot;: {\n          &quot;Colour&quot;: &quot;Purple&quot;,\n          &quot;Width&quot;: 300,\n          &quot;Height&quot;: 200,\n          &quot;Depth&quot;: 210,\n          &quot;Weight&quot;: 0.75\n        },\n        &quot;Price&quot;: 34.45,\n        &quot;Quantity&quot;: 4\n      }\n    ]\n  }\n}\n</code></pre>\n<p>I want to replace the value at expression <strong>Account.OrderID</strong> with 1234.</p>\n<p>I am using Jsonata4Java from IBM, could someone please explain how can I do this?</p>\n"},{"tags":["java","methods","boolean","return","ternary"],"comments":[{"owner":{"account_id":124949,"reputation":2835,"user_id":320399,"accept_rate":90,"display_name":"blong"},"score":1,"creation_date":1346333265,"post_id":9450864,"comment_id":16335143,"body_markdown":"It&#39;s possible in JavaScript, for example here: http://stackoverflow.com/a/6260001/320399","body":"It&#39;s possible in JavaScript, for example here: <a href=\"http://stackoverflow.com/a/6260001/320399\">stackoverflow.com/a/6260001/320399</a>"}],"answers":[{"tags":[],"owner":{"account_id":80775,"reputation":80356,"user_id":228171,"accept_rate":78,"display_name":"Mark Peters"},"down_vote_count":3,"up_vote_count":68,"is_accepted":true,"score":65,"last_activity_date":1330235618,"creation_date":1330234931,"answer_id":9450876,"question_id":9450864,"body_markdown":"No, you can&#39;t.  But what&#39;s the point of this over an `if-else` statement?  Are you really trying to save 7 characters?\r\n\r\n    if (name.isChecked()) {\r\n        name.setChecked(true);\r\n    } else {\r\n        name.setChecked(false);\r\n    }\r\n\r\nor if you prefer bad style:\r\n\r\n    if (name.isChecked()) name.setChecked(true); else name.setChecked(false);\r\n\r\nNever mind the fact that you can just do (in this case):\r\n\r\n    name.setChecked(name.isChecked());\r\n\r\nThe point of the ternary or &quot;conditional&quot; operator is to introduce conditionals into an *expression*.  In other words, this:\r\n\r\n    int max = a &gt; b ? a : b;\r\n\r\nis meant to be shorthand for this:\r\n\r\n    int max;\r\n    if ( a &gt; b ) {\r\n        max = a;\r\n    } else {\r\n        max = b;\r\n    }\r\n\r\nIf there is no value being produced, the conditional operator is not a shortcut.","title":"Java: Ternary with no return. (For method calling)","body":"<p>No, you can't.  But what's the point of this over an <code>if-else</code> statement?  Are you really trying to save 7 characters?</p>\n\n<pre><code>if (name.isChecked()) {\n    name.setChecked(true);\n} else {\n    name.setChecked(false);\n}\n</code></pre>\n\n<p>or if you prefer bad style:</p>\n\n<pre><code>if (name.isChecked()) name.setChecked(true); else name.setChecked(false);\n</code></pre>\n\n<p>Never mind the fact that you can just do (in this case):</p>\n\n<pre><code>name.setChecked(name.isChecked());\n</code></pre>\n\n<p>The point of the ternary or \"conditional\" operator is to introduce conditionals into an <em>expression</em>.  In other words, this:</p>\n\n<pre><code>int max = a &gt; b ? a : b;\n</code></pre>\n\n<p>is meant to be shorthand for this:</p>\n\n<pre><code>int max;\nif ( a &gt; b ) {\n    max = a;\n} else {\n    max = b;\n}\n</code></pre>\n\n<p>If there is no value being produced, the conditional operator is not a shortcut.</p>\n"},{"tags":[],"owner":{"account_id":417757,"reputation":6800,"user_id":793934,"accept_rate":63,"display_name":"Sam"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1531473150,"creation_date":1330235326,"answer_id":9450903,"question_id":9450864,"body_markdown":"In java following code isn&#39;t possible:\r\n\r\n    (your-condition) ? (true-statements) : (false-statements)\r\n\r\nfor sample you can&#39;t compile following snipet code :\r\n\r\n    (1==1) ? System.out.println(&quot;&quot;) : System.out.println(&quot;&quot;);\r\n\r\nyou achieve following compilation error:\r\n\r\n    The left-hand side of an assignment must be a variable","title":"Java: Ternary with no return. (For method calling)","body":"<p>In java following code isn't possible:</p>\n\n<pre><code>(your-condition) ? (true-statements) : (false-statements)\n</code></pre>\n\n<p>for sample you can't compile following snipet code :</p>\n\n<pre><code>(1==1) ? System.out.println(\"\") : System.out.println(\"\");\n</code></pre>\n\n<p>you achieve following compilation error:</p>\n\n<pre><code>The left-hand side of an assignment must be a variable\n</code></pre>\n"},{"tags":[],"owner":{"account_id":353069,"reputation":7200,"user_id":690553,"accept_rate":76,"display_name":"Amir Pashazadeh"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1624982688,"creation_date":1330236113,"answer_id":9450974,"question_id":9450864,"body_markdown":"Sometimes, you can use ternary operation on method arguments to solve your request.\r\n\r\n    name.setChecked(name.isChecked() ? true : false);\r\n\r\nBy the way, the best solution for your problem is\r\n\r\n    name.setChecked(name.isChecked());\r\n","title":"Java: Ternary with no return. (For method calling)","body":"<p>Sometimes, you can use ternary operation on method arguments to solve your request.</p>\n<pre><code>name.setChecked(name.isChecked() ? true : false);\n</code></pre>\n<p>By the way, the best solution for your problem is</p>\n<pre><code>name.setChecked(name.isChecked());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":17,"is_accepted":false,"score":17,"last_activity_date":1330237149,"creation_date":1330236727,"answer_id":9451021,"question_id":9450864,"body_markdown":"&gt; I was wondering if it was possible to do a ternary operation but without returning anything.\r\n\r\nNo it is not possible:\r\n\r\n  1.  The 2nd and 3rd operands are required to be non-void expressions; i.e. they must produce some actual value.\r\n\r\n      &gt; *&quot;It is a compile-time error for either the second or the third operand expression to be an invocation of a void method.&quot;* - [JLS 15.25][1].\r\n\r\n  1.  A ternary expression is an expression, and cannot be used as a statement.\r\n\r\n      &gt; *&quot;Certain kinds of expressions may be used as statements by following them with semicolons.&quot;* ... and the ternary expression is not one of those kinds - [JLS 14.8][2].\r\n\r\nIf you really, really want to use a ternary expression but not use the value of the expression, then the simplest thing is to assign the value to a dummy variable, and add an annotation to suppress the warning about the variable not being used.\r\n\r\nBut a better idea is to use a plain `if` statement.\r\n\r\n&gt; If it&#39;s not possible in Java is it possible in other languages, if so which ones apply?\r\n\r\nI&#39;m a bit rusty, but I believe that C, C++ and Perl all allow arbitrary expressions to be used in places where their values are not used.\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25\r\n  [2]: http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.8","title":"Java: Ternary with no return. (For method calling)","body":"<blockquote>\n  <p>I was wondering if it was possible to do a ternary operation but without returning anything.</p>\n</blockquote>\n\n<p>No it is not possible:</p>\n\n<ol>\n<li><p>The 2nd and 3rd operands are required to be non-void expressions; i.e. they must produce some actual value.</p>\n\n<blockquote>\n  <p><em>\"It is a compile-time error for either the second or the third operand expression to be an invocation of a void method.\"</em> - <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-15.html#jls-15.25\" rel=\"noreferrer\">JLS 15.25</a>.</p>\n</blockquote></li>\n<li><p>A ternary expression is an expression, and cannot be used as a statement.</p>\n\n<blockquote>\n  <p><em>\"Certain kinds of expressions may be used as statements by following them with semicolons.\"</em> ... and the ternary expression is not one of those kinds - <a href=\"http://docs.oracle.com/javase/specs/jls/se7/html/jls-14.html#jls-14.8\" rel=\"noreferrer\">JLS 14.8</a>.</p>\n</blockquote></li>\n</ol>\n\n<p>If you really, really want to use a ternary expression but not use the value of the expression, then the simplest thing is to assign the value to a dummy variable, and add an annotation to suppress the warning about the variable not being used.</p>\n\n<p>But a better idea is to use a plain <code>if</code> statement.</p>\n\n<blockquote>\n  <p>If it's not possible in Java is it possible in other languages, if so which ones apply?</p>\n</blockquote>\n\n<p>I'm a bit rusty, but I believe that C, C++ and Perl all allow arbitrary expressions to be used in places where their values are not used.</p>\n"},{"tags":[],"owner":{"account_id":3269458,"reputation":54,"user_id":2753137,"display_name":"Android"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1482211309,"creation_date":1482211309,"answer_id":41235397,"question_id":9450864,"body_markdown":"You have to return some value and it will not work if you want it to act like a void method which performs some action without a returning a value.\r\n\r\nHope this helps...","title":"Java: Ternary with no return. (For method calling)","body":"<p>You have to return some value and it will not work if you want it to act like a void method which performs some action without a returning a value.</p>\n\n<p>Hope this helps...</p>\n"},{"tags":[],"owner":{"account_id":36794,"reputation":13620,"user_id":105037,"accept_rate":89,"display_name":"Serg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1595970219,"creation_date":1595968950,"answer_id":63142454,"question_id":9450864,"body_markdown":"I assume the use case in the question is just a poor example because it&#39;s equivalent to the following statement:\r\n\r\n    name.setChecked(name.isChecked());\r\n\r\n... which doesn&#39;t make sense either. But the intent is clear and there are indeed many relevant use cases.\r\n\r\nThe only viable and general solution is adding a helper method like this:\r\n\r\n    static void ternaryVoid(boolean condition, Runnable ifTrue, Runnable ifFalse) {\r\n        (condition ? ifTrue : ifFalse).run();\r\n    }\r\n\r\nand using it like this:\r\n\r\n    ternaryVoid(name.isChecked(), () -&gt; name.setChecked(true), () -&gt; name.setChecked(false));\r\n\r\nBut it loses the elegance of ternary operator and worth the &#39;effort&#39; only if used by multiple parts of the code and only if nanoseconds don&#39;t matter.\r\n\r\n\r\n&gt; *But what&#39;s the point of this over an if-else statement? Are you really trying to save 7 characters?*\r\n\r\nI&#39;m surprised that such statements appear in a form of rhetorical questions. Yes, saving 4 lines and making the code more elegant is important, especially in the context of functional programming.\r\n\r\nMoreover, it&#39;s at least arguable whether `void` methods return a complete `Void`. Essentially, they return a notification of a completed task. This is why logically, ternary expression makes sense equally regardless of whether it returns something or nothing:\r\n\r\n    condition ? doThis() : doThat();\r\n\r\nHere is a real world example of a class which may process millions of incremental updates per second:\r\n\r\n    public class DataHandler {\r\n    \r\n        private final TreeMap&lt;Integer, Long&gt; tree = new TreeMap&lt;&gt;();\r\n    \r\n        public void onUpdate(int price, long amount) {\r\n            if (amount == 0) {\r\n                tree.remove(price);\r\n            } else {\r\n                tree.put(price, amount);\r\n            }\r\n        }\r\n    }\r\n\r\nIf allowed, the `onUpdate()` method would be a nice ternary expression like this:\r\n\r\n    public void onUpdate(int price, long amount) {\r\n        (amount == 0) ? tree.remove(price) : tree.put(price, amount); // compilation error\r\n    }\r\n\r\nFortunately, in some cases like this, **both target methods return values, and these values are of the same type**, which is `Long` in this case. This allows either to make the `onUpdate` method to return the previous `amount` at `price` (which is even useful)\r\n\r\n    public Long onUpdate(int price, long amount) {\r\n        return (amount == 0) ? tree.remove(price) : tree.put(price, amount);\r\n    }\r\n\r\n... or alternatively (e.g. in case the method is determined by an interface), to use a dummy variable and suppress its uselessness warning:\r\n\r\n    public void onUpdate(int price, long amount) {\r\n        @SuppressWarnings(&quot;unused&quot;)\r\n        Long dummy = (amount == 0) ? tree.remove(price) : tree.put(price, amount);\r\n    }\r\n\r\nOtherwise, these solutions are not applicable, and as answered by others, doesn&#39;t exist. For instance, one may try the following:\r\n\r\n    Consumer&lt;Void&gt; dummy = (x) -&gt; {};\r\n    dummy.accept(/*...*/);\r\n\r\nbut interestingly, the second line compiles with neither anything nor nothing as an argument.\r\n\r\nIt seems the best general solution is the above helper method `ternaryVoid()`.\r\n","title":"Java: Ternary with no return. (For method calling)","body":"<p>I assume the use case in the question is just a poor example because it's equivalent to the following statement:</p>\n<pre><code>name.setChecked(name.isChecked());\n</code></pre>\n<p>... which doesn't make sense either. But the intent is clear and there are indeed many relevant use cases.</p>\n<p>The only viable and general solution is adding a helper method like this:</p>\n<pre><code>static void ternaryVoid(boolean condition, Runnable ifTrue, Runnable ifFalse) {\n    (condition ? ifTrue : ifFalse).run();\n}\n</code></pre>\n<p>and using it like this:</p>\n<pre><code>ternaryVoid(name.isChecked(), () -&gt; name.setChecked(true), () -&gt; name.setChecked(false));\n</code></pre>\n<p>But it loses the elegance of ternary operator and worth the 'effort' only if used by multiple parts of the code and only if nanoseconds don't matter.</p>\n<blockquote>\n<p><em>But what's the point of this over an if-else statement? Are you really trying to save 7 characters?</em></p>\n</blockquote>\n<p>I'm surprised that such statements appear in a form of rhetorical questions. Yes, saving 4 lines and making the code more elegant is important, especially in the context of functional programming.</p>\n<p>Moreover, it's at least arguable whether <code>void</code> methods return a complete <code>Void</code>. Essentially, they return a notification of a completed task. This is why logically, ternary expression makes sense equally regardless of whether it returns something or nothing:</p>\n<pre><code>condition ? doThis() : doThat();\n</code></pre>\n<p>Here is a real world example of a class which may process millions of incremental updates per second:</p>\n<pre><code>public class DataHandler {\n\n    private final TreeMap&lt;Integer, Long&gt; tree = new TreeMap&lt;&gt;();\n\n    public void onUpdate(int price, long amount) {\n        if (amount == 0) {\n            tree.remove(price);\n        } else {\n            tree.put(price, amount);\n        }\n    }\n}\n</code></pre>\n<p>If allowed, the <code>onUpdate()</code> method would be a nice ternary expression like this:</p>\n<pre><code>public void onUpdate(int price, long amount) {\n    (amount == 0) ? tree.remove(price) : tree.put(price, amount); // compilation error\n}\n</code></pre>\n<p>Fortunately, in some cases like this, <strong>both target methods return values, and these values are of the same type</strong>, which is <code>Long</code> in this case. This allows either to make the <code>onUpdate</code> method to return the previous <code>amount</code> at <code>price</code> (which is even useful)</p>\n<pre><code>public Long onUpdate(int price, long amount) {\n    return (amount == 0) ? tree.remove(price) : tree.put(price, amount);\n}\n</code></pre>\n<p>... or alternatively (e.g. in case the method is determined by an interface), to use a dummy variable and suppress its uselessness warning:</p>\n<pre><code>public void onUpdate(int price, long amount) {\n    @SuppressWarnings(&quot;unused&quot;)\n    Long dummy = (amount == 0) ? tree.remove(price) : tree.put(price, amount);\n}\n</code></pre>\n<p>Otherwise, these solutions are not applicable, and as answered by others, doesn't exist. For instance, one may try the following:</p>\n<pre><code>Consumer&lt;Void&gt; dummy = (x) -&gt; {};\ndummy.accept(/*...*/);\n</code></pre>\n<p>but interestingly, the second line compiles with neither anything nor nothing as an argument.</p>\n<p>It seems the best general solution is the above helper method <code>ternaryVoid()</code>.</p>\n"},{"tags":[],"owner":{"account_id":10553513,"reputation":143,"user_id":7775470,"display_name":"Ciel Ruby"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690805303,"creation_date":1690803864,"answer_id":76803284,"question_id":9450864,"body_markdown":"No, but in C++ you can write a ternary that can return void(), more useful in the empty if than the else, when turning the condition inside out for an single-line if makes it too long (and in expressions, instead of lambda).\r\n\r\nHowever they have limitations and I don&#39;t recommend nesting in either single line statement (especially with bodies in non-ternary)) unless it&#39;s a clean looking hack like else if.\r\n\r\nRegarding your sample, ternary operators aren&#39;t useful when returning the condition directly, even if it&#39;s the opposite, you can put an ! before the condition without ternary.","title":"Java: Ternary with no return. (For method calling)","body":"<p>No, but in C++ you can write a ternary that can return void(), more useful in the empty if than the else, when turning the condition inside out for an single-line if makes it too long (and in expressions, instead of lambda).</p>\n<p>However they have limitations and I don't recommend nesting in either single line statement (especially with bodies in non-ternary)) unless it's a clean looking hack like else if.</p>\n<p>Regarding your sample, ternary operators aren't useful when returning the condition directly, even if it's the opposite, you can put an ! before the condition without ternary.</p>\n"}],"owner":{"account_id":1185318,"reputation":868,"user_id":1159418,"accept_rate":100,"display_name":"TylerKinkade"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":38031,"favorite_count":0,"down_vote_count":0,"up_vote_count":58,"accepted_answer_id":9450876,"answer_count":7,"score":58,"last_activity_date":1690805303,"creation_date":1330234777,"question_id":9450864,"body_markdown":"I was wondering if it was possible to do a ternary operation but without returning anything.\r\n\r\nIf it&#39;s not possible in Java is it possible in other languages, if so which ones apply?\r\n\r\n\r\n\r\n    \r\n    name.isChecked() ? name.setChecked(true):name.setChecked(false);","title":"Java: Ternary with no return. (For method calling)","body":"<p>I was wondering if it was possible to do a ternary operation but without returning anything.</p>\n\n<p>If it's not possible in Java is it possible in other languages, if so which ones apply?</p>\n\n<pre><code>name.isChecked() ? name.setChecked(true):name.setChecked(false);\n</code></pre>\n"},{"tags":["java","web-services","rest","jax-rs","restful-authentication"],"comments":[{"owner":{"account_id":63368,"reputation":443997,"user_id":187606,"accept_rate":90,"display_name":"Pekka"},"score":0,"creation_date":1285788419,"post_id":3825084,"comment_id":4059958,"body_markdown":"Welcome to SO. I think you need to add Java tags to gain an audience - this is not really REST related","body":"Welcome to SO. I think you need to add Java tags to gain an audience - this is not really REST related"},{"owner":{"account_id":210516,"reputation":1603,"user_id":462169,"accept_rate":95,"display_name":"Wanderer"},"score":0,"creation_date":1285788669,"post_id":3825084,"comment_id":4059988,"body_markdown":"Maybe not directly Rest related, but certainly web services related (which I don&#39;t know much about either), isn&#39;t it?  Wouldn&#39;t it be a rest/web service concern to know the IP address of the web client that envoke your service?","body":"Maybe not directly Rest related, but certainly web services related (which I don&#39;t know much about either), isn&#39;t it?  Wouldn&#39;t it be a rest/web service concern to know the IP address of the web client that envoke your service?"},{"owner":{"account_id":91502,"reputation":88301,"user_id":251173,"accept_rate":86,"display_name":"Buhake Sindi"},"score":0,"creation_date":1285789165,"post_id":3825084,"comment_id":4060060,"body_markdown":"First question, how are you creating your RESTful application? With Servlets, Some library, etc?","body":"First question, how are you creating your RESTful application? With Servlets, Some library, etc?"},{"owner":{"account_id":143563,"reputation":26774,"user_id":351984,"accept_rate":86,"display_name":"Paul Rubel"},"score":2,"creation_date":1285790547,"post_id":3825084,"comment_id":4060350,"body_markdown":"If you&#39;re trying to use the IP as a unique identifier you&#39;re in for a world of hurt if some of your users come from behind a NAT router.","body":"If you&#39;re trying to use the IP as a unique identifier you&#39;re in for a world of hurt if some of your users come from behind a NAT router."}],"answers":[{"tags":[],"owner":{"account_id":205743,"reputation":4909,"user_id":454646,"display_name":"Michael Banzon"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1285789003,"creation_date":1285789003,"answer_id":3825185,"question_id":3825084,"body_markdown":"Assuming you are making your &quot;web service&quot; with servlets, the rather simple method call &lt;code&gt;.getRemoteAddr()&lt;/code&gt; on the request object will give you the callers IP address.\r\n","title":"Rest - how get IP address of caller","body":"<p>Assuming you are making your \"web service\" with servlets, the rather simple method call <code>.getRemoteAddr()</code> on the request object will give you the callers IP address.</p>\n"},{"tags":[],"owner":{"account_id":20305,"reputation":4874,"user_id":48402,"accept_rate":70,"display_name":"kukudas"},"down_vote_count":0,"up_vote_count":18,"is_accepted":true,"score":18,"last_activity_date":1456827759,"creation_date":1285789063,"answer_id":3825196,"question_id":3825084,"body_markdown":"I think you can get the IP through the request object.  \r\n\r\nIf I&#39;m not mistaken, `request.getRemoteAddr()` or so.","title":"Rest - how get IP address of caller","body":"<p>I think you can get the IP through the request object.  </p>\n\n<p>If I'm not mistaken, <code>request.getRemoteAddr()</code> or so.</p>\n"},{"tags":[],"owner":{"account_id":135407,"reputation":10653,"user_id":338249,"accept_rate":100,"display_name":"rjdkolb"},"down_vote_count":1,"up_vote_count":44,"is_accepted":false,"score":43,"last_activity_date":1648199515,"creation_date":1309158577,"answer_id":6489655,"question_id":3825084,"body_markdown":"Inject a [HttpServletRequest][1] into your Rest Service as such:\r\n\r\n\r\n    import javax.servlet.http.HttpServletRequest;\r\n\r\n    @GET\r\n    @Path(&quot;/yourservice&quot;)\r\n    @Produces(&quot;text/xml&quot;)\r\n    public String activate(@Context HttpServletRequest req,@Context SecurityContext context){\r\n\r\n       String ipAddressRequestCameFrom = requestContext.getRemoteAddr();\r\n       // header name is case insensitive\r\n       String xForwardedForIP = req.getHeader(&quot;X-Forwarded-For&quot;);\r\n\r\n       // if xForwardedForIP is populated use it, else return ipAddressRequestCameFrom \r\n       String ip = xForwardedForIP != null ? xForwardedForIP : ipAddressRequestCameFrom;\r\n       System.out.println(&quot;IP is &quot;+ip);\r\n\r\n\r\n       // get the host name the client contacted. If the header `Host` is populated the `Host` header is automatically returned.\r\n       // An AWS ALB populated the Host header for you.\r\n       String hostNameRequestCameFrom = req.getServerName();\r\n       System.out.println(&quot;Host is &quot;+hostNameRequestCameFrom);\r\n\r\n       \r\n       //Also if security is enabled\r\n       Principal principal = context.getUserPrincipal();\r\n       String userName = principal.getName();\r\n\r\n    }\r\n\r\nAs [@Hemant Nagpal][2] mentions, you can also check the [X-Forwarded-For][3] header to determine the real source if a load balancer inserts this into the request.\r\nAccording to this [answer][4], the [getHeader()][5] call is case insensitive.\r\n\r\nYou can also get the servername that the client contacted. This is either the DNS name or the value set in the [Host][6] header with an OSI layer 7 load balancer can populate. \r\n\r\n **1. Example: no headers are populated**\r\n\r\n    curl &quot;http://127.0.0.1:8080/&quot;\r\n\r\nreturns\r\n\r\n    IP is 127.0.0.1\r\n    Host is 127.0.0.1\r\n\r\n **2. Example: X-Forwarded-For and Host headers are populated**\r\n\r\n    curl --header &quot;X-Forwarded-For: 1.2.3.4&quot; --header &quot;Host: bla.bla.com:8443&quot; &quot;http://127.0.0.1:8080/&quot;\r\n\r\nreturns\r\n\r\n    IP is 1.2.3.4\r\n    Host is bla.bla.com\r\n\r\n\r\n  [1]: https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html\r\n  [2]: https://stackoverflow.com/users/557143/hemant-nagpal\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\r\n  [4]: https://stackoverflow.com/a/1379691/338249\r\n  [5]: https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html#getHeader-java.lang.String-\r\n  [6]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Host","title":"Rest - how get IP address of caller","body":"<p>Inject a <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html\" rel=\"nofollow noreferrer\">HttpServletRequest</a> into your Rest Service as such:</p>\n<pre><code>import javax.servlet.http.HttpServletRequest;\n\n@GET\n@Path(&quot;/yourservice&quot;)\n@Produces(&quot;text/xml&quot;)\npublic String activate(@Context HttpServletRequest req,@Context SecurityContext context){\n\n   String ipAddressRequestCameFrom = requestContext.getRemoteAddr();\n   // header name is case insensitive\n   String xForwardedForIP = req.getHeader(&quot;X-Forwarded-For&quot;);\n\n   // if xForwardedForIP is populated use it, else return ipAddressRequestCameFrom \n   String ip = xForwardedForIP != null ? xForwardedForIP : ipAddressRequestCameFrom;\n   System.out.println(&quot;IP is &quot;+ip);\n\n\n   // get the host name the client contacted. If the header `Host` is populated the `Host` header is automatically returned.\n   // An AWS ALB populated the Host header for you.\n   String hostNameRequestCameFrom = req.getServerName();\n   System.out.println(&quot;Host is &quot;+hostNameRequestCameFrom);\n\n   \n   //Also if security is enabled\n   Principal principal = context.getUserPrincipal();\n   String userName = principal.getName();\n\n}\n</code></pre>\n<p>As <a href=\"https://stackoverflow.com/users/557143/hemant-nagpal\">@Hemant Nagpal</a> mentions, you can also check the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Forwarded-For\" rel=\"nofollow noreferrer\">X-Forwarded-For</a> header to determine the real source if a load balancer inserts this into the request.\nAccording to this <a href=\"https://stackoverflow.com/a/1379691/338249\">answer</a>, the <a href=\"https://javaee.github.io/javaee-spec/javadocs/javax/servlet/http/HttpServletRequest.html#getHeader-java.lang.String-\" rel=\"nofollow noreferrer\">getHeader()</a> call is case insensitive.</p>\n<p>You can also get the servername that the client contacted. This is either the DNS name or the value set in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Host\" rel=\"nofollow noreferrer\">Host</a> header with an OSI layer 7 load balancer can populate.</p>\n<p><strong>1. Example: no headers are populated</strong></p>\n<pre><code>curl &quot;http://127.0.0.1:8080/&quot;\n</code></pre>\n<p>returns</p>\n<pre><code>IP is 127.0.0.1\nHost is 127.0.0.1\n</code></pre>\n<p><strong>2. Example: X-Forwarded-For and Host headers are populated</strong></p>\n<pre><code>curl --header &quot;X-Forwarded-For: 1.2.3.4&quot; --header &quot;Host: bla.bla.com:8443&quot; &quot;http://127.0.0.1:8080/&quot;\n</code></pre>\n<p>returns</p>\n<pre><code>IP is 1.2.3.4\nHost is bla.bla.com\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5686806,"reputation":51,"user_id":4496090,"display_name":"Diogo Valim"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1426188739,"creation_date":1426188739,"answer_id":29018706,"question_id":3825084,"body_markdown":"You could do something like this:\r\n\r\n    @WebService\r\n    public class YourService {\r\n\r\n       @Resource\r\n       WebServiceContext webServiceContext; \r\n\r\n       @WebMethod \r\n       public String myMethod() { \r\n\r\n          MessageContext messageContext = webServiceContext.getMessageContext();\r\n          HttpServletRequest request = (HttpServletRequest) messageContext.get(MessageContext.SERVLET_REQUEST); \r\n          String callerIpAddress = request.getRemoteAddr();\r\n\r\n          System.out.println(&quot;Caller IP = &quot; + callerIpAddress); \r\n\r\n       }\r\n    }","title":"Rest - how get IP address of caller","body":"<p>You could do something like this:</p>\n\n<pre><code>@WebService\npublic class YourService {\n\n   @Resource\n   WebServiceContext webServiceContext; \n\n   @WebMethod \n   public String myMethod() { \n\n      MessageContext messageContext = webServiceContext.getMessageContext();\n      HttpServletRequest request = (HttpServletRequest) messageContext.get(MessageContext.SERVLET_REQUEST); \n      String callerIpAddress = request.getRemoteAddr();\n\n      System.out.println(\"Caller IP = \" + callerIpAddress); \n\n   }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10771493,"reputation":1873,"user_id":7924858,"display_name":"abhinavsinghvirsen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1592324351,"creation_date":1592324351,"answer_id":62413082,"question_id":3825084,"body_markdown":"   *If your application is running on a webserver that is located behind a reverse proxy or load balancer, then that proxy can be configured to inject the requested IP address in a request header. Different reverse proxies can inject different headers. Consult the documentation for your proxy server. We listed a couple of the most used in our example below but this is by no means a complete list.\r\nWhen your client uses a (forward) proxy, then it might insert headers to say what the client IP addres is. Or it might not. And the IP address inserded here might be incorrect.\r\nThis means that the value you get by calling request.getRemoteAddr() is the IP address of the immediate upstream source of the request.\r\nAs we said, there are many headers for different proxies in use, but x-forwareded-for is most likely to be inserted by a proxy.\r\nAs a last note, even if you get an IP address either from the header or from request.getRemoteAddr() it is not guarenteed to be the client IP address. e.g.: if your proxy does not include the IP address of the client then you’ll get the IP address of the proxy or load balancer. If your client works on a private network and connect to the internet via a NAT gateway, then the IP address in the HTTP request will be an address of the NAT server. Or even for a hacker it is quite easy to inject a header with a different IP address. So this means that you cannot reliably find out the IP address of the system that the request originated from.*\r\n\r\n     private static final String[] IP_HEADER_CANDIDATES = { \r\n            &quot;X-Forwarded-For&quot;,\r\n            &quot;Proxy-Client-IP&quot;,\r\n            &quot;WL-Proxy-Client-IP&quot;,\r\n            &quot;HTTP_X_FORWARDED_FOR&quot;,\r\n            &quot;HTTP_X_FORWARDED&quot;,\r\n            &quot;HTTP_X_CLUSTER_CLIENT_IP&quot;,\r\n            &quot;HTTP_CLIENT_IP&quot;,\r\n            &quot;HTTP_FORWARDED_FOR&quot;,\r\n            &quot;HTTP_FORWARDED&quot;,\r\n            &quot;HTTP_VIA&quot;,\r\n            &quot;REMOTE_ADDR&quot; };\r\n        \r\n        public static String getClientIpAddress(HttpServletRequest request) {\r\n            for (String header : IP_HEADER_CANDIDATES) {\r\n                String ip = request.getHeader(header);\r\n                if (ip != null &amp;&amp; ip.length() != 0 &amp;&amp; !&quot;unknown&quot;.equalsIgnoreCase(ip)) {\r\n                    return ip;\r\n                }\r\n            }\r\n            return request.getRemoteAddr();\r\n        }","title":"Rest - how get IP address of caller","body":"<p><em>If your application is running on a webserver that is located behind a reverse proxy or load balancer, then that proxy can be configured to inject the requested IP address in a request header. Different reverse proxies can inject different headers. Consult the documentation for your proxy server. We listed a couple of the most used in our example below but this is by no means a complete list.\nWhen your client uses a (forward) proxy, then it might insert headers to say what the client IP addres is. Or it might not. And the IP address inserded here might be incorrect.\nThis means that the value you get by calling request.getRemoteAddr() is the IP address of the immediate upstream source of the request.\nAs we said, there are many headers for different proxies in use, but x-forwareded-for is most likely to be inserted by a proxy.\nAs a last note, even if you get an IP address either from the header or from request.getRemoteAddr() it is not guarenteed to be the client IP address. e.g.: if your proxy does not include the IP address of the client then you’ll get the IP address of the proxy or load balancer. If your client works on a private network and connect to the internet via a NAT gateway, then the IP address in the HTTP request will be an address of the NAT server. Or even for a hacker it is quite easy to inject a header with a different IP address. So this means that you cannot reliably find out the IP address of the system that the request originated from.</em></p>\n\n<pre><code> private static final String[] IP_HEADER_CANDIDATES = { \n        \"X-Forwarded-For\",\n        \"Proxy-Client-IP\",\n        \"WL-Proxy-Client-IP\",\n        \"HTTP_X_FORWARDED_FOR\",\n        \"HTTP_X_FORWARDED\",\n        \"HTTP_X_CLUSTER_CLIENT_IP\",\n        \"HTTP_CLIENT_IP\",\n        \"HTTP_FORWARDED_FOR\",\n        \"HTTP_FORWARDED\",\n        \"HTTP_VIA\",\n        \"REMOTE_ADDR\" };\n\n    public static String getClientIpAddress(HttpServletRequest request) {\n        for (String header : IP_HEADER_CANDIDATES) {\n            String ip = request.getHeader(header);\n            if (ip != null &amp;&amp; ip.length() != 0 &amp;&amp; !\"unknown\".equalsIgnoreCase(ip)) {\n                return ip;\n            }\n        }\n        return request.getRemoteAddr();\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16297729,"reputation":257,"user_id":11769574,"display_name":"amboji alur"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690804996,"creation_date":1690804996,"answer_id":76803430,"question_id":3825084,"body_markdown":"**To get the IP address of an API, you can follow these steps:**\r\n\r\n1. Determine the API endpoint: First, you need to know the domain or URL of the API you want to access. For example, if the API is located at `https://abc.example.com`, this is the endpoint you&#39;ll be working with.\r\n\r\n2. Use Command Prompt/Terminal (Windows/Linux/macOS): Open a command prompt or terminal on your computer.\r\n\r\n3. Ping the API endpoint: To get the IP address of the API, you can use the `ping` command followed by the API domain. This will send a small packet to the server and display the IP address it resolves to.\r\n\r\n   For example, in Windows/Linux/macOS:\r\n   ```\r\n   ping abc.example.com\r\n   ```\r\n\r\n4. Use NSLOOKUP (Windows) or DIG (Linux/macOS) command (optional): If you need more detailed information or if the API domain has multiple IP addresses (for load balancing or redundancy purposes), you can use `nslookup` (Windows) or `dig` (Linux/macOS) command.\r\n\r\n   For example, in Windows:\r\n   ```\r\n   nslookup abc.example.com\r\n   ```\r\n\r\n   In Linux/macOS:\r\n   ```\r\n   dig abc.example.com\r\n   ```\r\n\r\n5. Resolve DNS records (optional): If the API endpoint is behind a domain name, the IP address may change over time due to DNS (Domain Name System) configurations. In this case, you can use online tools or command-line utilities like `nslookup` (Windows) or `dig` (Linux/macOS) with specific options to query the DNS records.\r\n\r\nPlease note that the IP address you obtain using these methods might change over time due to DNS configurations or load balancing mechanisms used by the API provider. If you need a more reliable way to access the API, it&#39;s better to use the domain name directly rather than hardcoding the IP address.","title":"Rest - how get IP address of caller","body":"<p><strong>To get the IP address of an API, you can follow these steps:</strong></p>\n<ol>\n<li><p>Determine the API endpoint: First, you need to know the domain or URL of the API you want to access. For example, if the API is located at <code>https://abc.example.com</code>, this is the endpoint you'll be working with.</p>\n</li>\n<li><p>Use Command Prompt/Terminal (Windows/Linux/macOS): Open a command prompt or terminal on your computer.</p>\n</li>\n<li><p>Ping the API endpoint: To get the IP address of the API, you can use the <code>ping</code> command followed by the API domain. This will send a small packet to the server and display the IP address it resolves to.</p>\n<p>For example, in Windows/Linux/macOS:</p>\n<pre><code>ping abc.example.com\n</code></pre>\n</li>\n<li><p>Use NSLOOKUP (Windows) or DIG (Linux/macOS) command (optional): If you need more detailed information or if the API domain has multiple IP addresses (for load balancing or redundancy purposes), you can use <code>nslookup</code> (Windows) or <code>dig</code> (Linux/macOS) command.</p>\n<p>For example, in Windows:</p>\n<pre><code>nslookup abc.example.com\n</code></pre>\n<p>In Linux/macOS:</p>\n<pre><code>dig abc.example.com\n</code></pre>\n</li>\n<li><p>Resolve DNS records (optional): If the API endpoint is behind a domain name, the IP address may change over time due to DNS (Domain Name System) configurations. In this case, you can use online tools or command-line utilities like <code>nslookup</code> (Windows) or <code>dig</code> (Linux/macOS) with specific options to query the DNS records.</p>\n</li>\n</ol>\n<p>Please note that the IP address you obtain using these methods might change over time due to DNS configurations or load balancing mechanisms used by the API provider. If you need a more reliable way to access the API, it's better to use the domain name directly rather than hardcoding the IP address.</p>\n"}],"owner":{"account_id":210516,"reputation":1603,"user_id":462169,"accept_rate":95,"display_name":"Wanderer"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67936,"favorite_count":0,"down_vote_count":0,"up_vote_count":31,"accepted_answer_id":3825196,"answer_count":6,"score":31,"last_activity_date":1690804996,"creation_date":1285788228,"question_id":3825084,"body_markdown":"I am writing a Java Rest Web Service and need the caller&#39;s IP Address. I thought I saw this in the cookie once but now I don&#39;t see it. Is there a consistent place to get this information?\r\n\r\nI saw one example of using an &quot;OperationalContext&quot; to get it but that was not in java.\r\n\r\n","title":"Rest - how get IP address of caller","body":"<p>I am writing a Java Rest Web Service and need the caller's IP Address. I thought I saw this in the cookie once but now I don't see it. Is there a consistent place to get this information?</p>\n\n<p>I saw one example of using an \"OperationalContext\" to get it but that was not in java.</p>\n"},{"tags":["java","junit4","camunda"],"owner":{"account_id":27752245,"reputation":21,"user_id":21186462,"display_name":"scorpion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":70,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690804971,"creation_date":1690804971,"question_id":76803426,"body_markdown":"Hi I am trying to do simple unit test (junit 4) to test process workflow without spring boot beans. Just plain JUnit test with ProcessEngineRule.\r\n\r\nMocking java delegates worked with autoMock() from CamundaMockito, but I have problem with mocking services which are used directly in Expressions in model.\r\n\r\nThis is example:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/X2cqy.png\r\n\r\nI am getting error  `org.camunda.bpm.engine.context ENGINE-16004 Exception while closing command context: Unknown property used in expression: ${myService.setPath(x)}. Cause: Cannot resolve identifier &#39;myService&#39;`\r\n\r\nHere is how my test look like:\r\n```\r\n@Deployment(resources = { &quot;test.bpmn&quot; })\r\npublic class SimpleTest {\r\n    @ClassRule\r\n    @Rule\r\n    public static ProcessEngineRule rule = TestCoverageProcessEngineRuleBuilder.create().build();\r\n\r\n    @Mock\r\n    MyService myService;\r\n    @Before\r\n    public void setup() {\r\n        init(rule.getProcessEngine());\r\n        Mocks.register(&quot;myService&quot;, myService);\r\n    }\r\n\r\n    @Test\r\n\r\n    public void testHappyPath() {\r\n        autoMock(&quot;test.bpmn&quot;);\r\n\r\n        final ProcessInstance processInstance = runtimeService()\r\n            .startProcessInstanceByKey(&quot;test&quot;);\r\n      ...\r\n    }\r\n```\r\n\r\nI am not sure what I am doing wrong here. I would appreciate some help or directions.","title":"Camunda 7 JUnit Test Mocking Service in Expression on Listenr","body":"<p>Hi I am trying to do simple unit test (junit 4) to test process workflow without spring boot beans. Just plain JUnit test with ProcessEngineRule.</p>\n<p>Mocking java delegates worked with autoMock() from CamundaMockito, but I have problem with mocking services which are used directly in Expressions in model.</p>\n<p>This is example:</p>\n<p><a href=\"https://i.stack.imgur.com/X2cqy.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/X2cqy.png\" alt=\"enter image description here\" /></a></p>\n<p>I am getting error  <code>org.camunda.bpm.engine.context ENGINE-16004 Exception while closing command context: Unknown property used in expression: ${myService.setPath(x)}. Cause: Cannot resolve identifier 'myService'</code></p>\n<p>Here is how my test look like:</p>\n<pre><code>@Deployment(resources = { &quot;test.bpmn&quot; })\npublic class SimpleTest {\n    @ClassRule\n    @Rule\n    public static ProcessEngineRule rule = TestCoverageProcessEngineRuleBuilder.create().build();\n\n    @Mock\n    MyService myService;\n    @Before\n    public void setup() {\n        init(rule.getProcessEngine());\n        Mocks.register(&quot;myService&quot;, myService);\n    }\n\n    @Test\n\n    public void testHappyPath() {\n        autoMock(&quot;test.bpmn&quot;);\n\n        final ProcessInstance processInstance = runtimeService()\n            .startProcessInstanceByKey(&quot;test&quot;);\n      ...\n    }\n</code></pre>\n<p>I am not sure what I am doing wrong here. I would appreciate some help or directions.</p>\n"},{"tags":["java","spring","spring-boot","hibernate","spring-mvc"],"comments":[{"owner":{"account_id":9760,"reputation":85859,"user_id":18157,"accept_rate":100,"display_name":"Jim Garrison"},"score":0,"creation_date":1690755917,"post_id":76799781,"comment_id":135393679,"body_markdown":"Sounds like a library version mismatch between your build and deployment environments.  Make sure your build environment matches exactly the deployment environment.","body":"Sounds like a library version mismatch between your build and deployment environments.  Make sure your build environment matches exactly the deployment environment."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690783656,"post_id":76799781,"comment_id":135395658,"body_markdown":"Remove the `org.hibernate` dependencies they aren&#39;t compatible. Fix the `javax.persistence` imports to `jakarta.persistence` and restart the application.","body":"Remove the <code>org.hibernate</code> dependencies they aren&#39;t compatible. Fix the <code>javax.persistence</code> imports to <code>jakarta.persistence</code> and restart the application."},{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":0,"creation_date":1690788221,"post_id":76799781,"comment_id":135396321,"body_markdown":"In addition, depending on which database you use `user` is a reserved keyword which can lead to issues as well.","body":"In addition, depending on which database you use <code>user</code> is a reserved keyword which can lead to issues as well."},{"owner":{"account_id":23411594,"reputation":1,"user_id":17473182,"display_name":"marcom966"},"score":0,"creation_date":1692547235,"post_id":76799781,"comment_id":135635339,"body_markdown":"How can i check the version mismatch","body":"How can i check the version mismatch"}],"answers":[{"tags":[],"owner":{"account_id":16341513,"reputation":209,"user_id":11802330,"display_name":"Eric"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690804568,"creation_date":1690804568,"answer_id":76803366,"question_id":76799781,"body_markdown":"Your user entity is missing `this` keyword when setting value of nickname, try these\r\n\r\nChange\r\n\r\n    private String Nickname;\r\n\r\nTo\r\n\r\n    private String nickname;\r\n\r\nChange \r\n\r\n    public user(String name, String birthday, String email, String nickname, String password) {\r\n        this.name = name;\r\n        this.birthday = birthday;\r\n        this.email = email;\r\n        Nickname = nickname;\r\n        this.password = password;\r\n    }\r\n To \r\n\r\n    public user(String name, String birthday, String email, String nickname, String password) {\r\n        this.name = name;\r\n        this.birthday = birthday;\r\n        this.email = email;\r\n        this.nickname = nickname;\r\n        this.password = password;\r\n    }\r\n\r\nChange\r\n\r\n\r\n    public String getNickname() {\r\n        return Nickname;\r\n    }\r\nTo\r\n\r\n    public String getNickname() {\r\n        return nickname;\r\n    }\r\n\r\nChange \r\n\r\n    public void setNickname(String nickname) {\r\n        Nickname = nickname;\r\n    }\r\n\r\nTo\r\n\r\n    public void setNickname(String nickname) {\r\n        this.nickname = nickname;\r\n    }\r\n\r\n\r\n","title":"Java BeanCreationException Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource : Unknown access type record","body":"<p>Your user entity is missing <code>this</code> keyword when setting value of nickname, try these</p>\n<p>Change</p>\n<pre><code>private String Nickname;\n</code></pre>\n<p>To</p>\n<pre><code>private String nickname;\n</code></pre>\n<p>Change</p>\n<pre><code>public user(String name, String birthday, String email, String nickname, String password) {\n    this.name = name;\n    this.birthday = birthday;\n    this.email = email;\n    Nickname = nickname;\n    this.password = password;\n}\n</code></pre>\n<p>To</p>\n<pre><code>public user(String name, String birthday, String email, String nickname, String password) {\n    this.name = name;\n    this.birthday = birthday;\n    this.email = email;\n    this.nickname = nickname;\n    this.password = password;\n}\n</code></pre>\n<p>Change</p>\n<pre><code>public String getNickname() {\n    return Nickname;\n}\n</code></pre>\n<p>To</p>\n<pre><code>public String getNickname() {\n    return nickname;\n}\n</code></pre>\n<p>Change</p>\n<pre><code>public void setNickname(String nickname) {\n    Nickname = nickname;\n}\n</code></pre>\n<p>To</p>\n<pre><code>public void setNickname(String nickname) {\n    this.nickname = nickname;\n}\n</code></pre>\n"}],"owner":{"account_id":23411594,"reputation":1,"user_id":17473182,"display_name":"marcom966"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1205,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690804568,"creation_date":1690754848,"question_id":76799781,"body_markdown":"i&#39;m following a tutorial online on spring boot but i&#39;m running into this error and i don&#39;t know what to do to solve it.\r\nMy pom.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;3.1.1&lt;/version&gt;\r\n    \t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;Popster_Backend&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.h2database&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;h2&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;5.0.7.Final&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.3.0&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;com.mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;configuration&gt;\r\n    \t\t\t\t\t&lt;excludes&gt;\r\n    \t\t\t\t\t\t&lt;exclude&gt;\r\n    \t\t\t\t\t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t\t\t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t\t\t\t&lt;/exclude&gt;\r\n    \t\t\t\t\t&lt;/excludes&gt;\r\n    \t\t\t\t&lt;/configuration&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n\r\nmy Entity class: \r\n```java\r\npackage com.example.demo.user;\r\n\r\nimport jakarta.persistence.*;\r\n\r\n@Entity\r\n@Table\r\n@Access(AccessType.FIELD)\r\npublic class user {\r\n\r\n        @Access(AccessType.PROPERTY)\r\n        @Id\r\n        @SequenceGenerator(name = &quot;user_sequence&quot;, sequenceName = &quot;user_sequence&quot;, allocationSize = 1)\r\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_sequence&quot;)\r\n        private String name;\r\n        private String birthday;\r\n        private String email;\r\n        private String Nickname;\r\n        private String password;\r\n\r\n    public user() {\r\n    }\r\n\r\n    public user(String name, String birthday, String email, String nickname, String password) {\r\n        this.name = name;\r\n        this.birthday = birthday;\r\n        this.email = email;\r\n        Nickname = nickname;\r\n        this.password = password;\r\n    }\r\n\r\n    public user(String birthday, String email, String nickname, String password) {\r\n        this.birthday = birthday;\r\n        this.email = email;\r\n        Nickname = nickname;\r\n        this.password = password;\r\n    }\r\n\r\n    public String getName() {\r\n        return name;\r\n    }\r\n\r\n    public String getBirthday() {\r\n        return birthday;\r\n    }\r\n\r\n    public String getEmail() {\r\n        return email;\r\n    }\r\n\r\n    public String getNickname() {\r\n        return Nickname;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n\r\n    public void setBirthday(String birthday) {\r\n        this.birthday = birthday;\r\n    }\r\n\r\n    public void setEmail(String email) {\r\n        this.email = email;\r\n    }\r\n\r\n    public void setNickname(String nickname) {\r\n        Nickname = nickname;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;user{&quot; +\r\n                &quot;name=&#39;&quot; + name + &#39;\\&#39;&#39; +\r\n                &quot;, birthday=&#39;&quot; + birthday + &#39;\\&#39;&#39; +\r\n                &quot;, email=&#39;&quot; + email + &#39;\\&#39;&#39; +\r\n                &quot;, Nickname=&#39;&quot; + Nickname + &#39;\\&#39;&#39; +\r\n                &quot;, password=&#39;&quot; + password + &#39;\\&#39;&#39; +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n``` \r\nuserConfig \r\n```java\r\npackage com.example.demo.user;\r\n\r\nimport org.springframework.boot.CommandLineRunner;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.context.annotation.Configuration;\r\n\r\nimport java.util.List;\r\n\r\n@Configuration\r\npublic class userConfig {\r\n\r\n    @Bean\r\n    CommandLineRunner commandLineRunner(userRepository userRepo){\r\n        return args -&gt; {\r\n            user NameUser = new user(&quot;Name&quot;, &quot;date&quot;, &quot;email&quot;, &quot;nick&quot;, &quot;password&quot;);\r\n            user NameUserTwo = new user(&quot;Name&quot;, &quot;date&quot;, &quot;email&quot;,&quot;Nick&quot;,&quot;password&quot;);\r\n            userRepo.saveAll(List.of(NameUser, NameUserTwo));\r\n        };\r\n\r\n    }\r\n}\r\n\r\n``` \r\nuserRepository\r\n\r\n```\r\npackage com.example.demo.user;\r\n\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface userRepository extends JpaRepository&lt;user, String&gt; {\r\n\r\n}\r\n``` \r\n\r\nuserService\r\n```\r\npackage com.example.demo.user;\r\n\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Service;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\nimport java.util.List;\r\n\r\n@Service\r\npublic class userService {\r\n\r\n    private final userRepository repo;\r\n\r\n    @Autowired\r\n    public userService(userRepository repo) {\r\n        this.repo = repo;\r\n    }\r\n\r\n\r\n    public List&lt;user&gt; getUser(){\r\n        return repo.findAll();\r\n    }\r\n}\r\n\r\n``` \r\nuserController\r\n```\r\npackage com.example.demo.user;\r\n\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestMapping;\r\nimport org.springframework.web.bind.annotation.RestController;\r\n\r\nimport java.util.List;\r\n\r\n@RestController\r\n@RequestMapping(path= &quot;api/v1/user&quot;)\r\npublic class userController {\r\n\r\n    private final userService serv;\r\n\r\n    @Autowired\r\n    public userController(userService service){\r\n        this.serv = service;\r\n    }\r\n    @GetMapping\r\n    public List&lt;user&gt; getUser(){\r\n        return serv.getUser();\r\n    }\r\n}\r\n```\r\n \r\n\r\nThe error i get: \r\n\r\n\r\n\r\n    *org.springframework.beans.factory.BeanCreationException: Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unknown access type record\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) ~[spring-context-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\r\n    \tat com.example.demo.PopsterBackendApplication.main(PopsterBackendApplication.java:13) ~[classes/:na]\r\n    Caused by: java.lang.IllegalArgumentException: Unknown access type record\r\n    \tat org.hibernate.annotations.common.reflection.java.JavaXClass.getDeclaredProperties(JavaXClass.java:131) ~[hibernate-commons-annotations-5.0.1.Final.jar:5.0.1.Final]\r\n    \tat org.hibernate.annotations.common.reflection.java.JavaXClass.getDeclaredProperties(JavaXClass.java:121) ~[hibernate-commons-annotations-5.0.1.Final.jar:5.0.1.Final]\r\n    \tat org.hibernate.boot.model.internal.PropertyContainer.&lt;init&gt;(PropertyContainer.java:90) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.internal.InheritanceState.getElementsToProcess(InheritanceState.java:221) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.internal.InheritanceState.postProcess(InheritanceState.java:160) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:293) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:228) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:417) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:255) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:275) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:318) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\r\n    \tat org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.10.jar:6.0.10]\r\n    \t... 16 common frames omitted*\r\n\r\nCan anybody help me? I&#39;m not new to Spring but i have to re-learn it from zero due to a huge memory loss after i got run over by a car and that&#39;s what i&#39;m doing. \r\nThanks in advance. If you need further details just ask.","title":"Java BeanCreationException Error creating bean with name &#39;entityManagerFactory&#39; defined in class path resource : Unknown access type record","body":"<p>i'm following a tutorial online on spring boot but i'm running into this error and i don't know what to do to solve it.\nMy pom.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;3.1.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;Popster_Backend&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jdbc&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.h2database&lt;/groupId&gt;\n            &lt;artifactId&gt;h2&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-core&lt;/artifactId&gt;\n            &lt;version&gt;5.0.7.Final&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-entitymanager&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-j&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;configuration&gt;\n                    &lt;excludes&gt;\n                        &lt;exclude&gt;\n                            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n                            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n                        &lt;/exclude&gt;\n                    &lt;/excludes&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>my Entity class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.user;\n\nimport jakarta.persistence.*;\n\n@Entity\n@Table\n@Access(AccessType.FIELD)\npublic class user {\n\n        @Access(AccessType.PROPERTY)\n        @Id\n        @SequenceGenerator(name = &quot;user_sequence&quot;, sequenceName = &quot;user_sequence&quot;, allocationSize = 1)\n        @GeneratedValue(strategy = GenerationType.SEQUENCE, generator = &quot;user_sequence&quot;)\n        private String name;\n        private String birthday;\n        private String email;\n        private String Nickname;\n        private String password;\n\n    public user() {\n    }\n\n    public user(String name, String birthday, String email, String nickname, String password) {\n        this.name = name;\n        this.birthday = birthday;\n        this.email = email;\n        Nickname = nickname;\n        this.password = password;\n    }\n\n    public user(String birthday, String email, String nickname, String password) {\n        this.birthday = birthday;\n        this.email = email;\n        Nickname = nickname;\n        this.password = password;\n    }\n\n    public String getName() {\n        return name;\n    }\n\n    public String getBirthday() {\n        return birthday;\n    }\n\n    public String getEmail() {\n        return email;\n    }\n\n    public String getNickname() {\n        return Nickname;\n    }\n\n    public String getPassword() {\n        return password;\n    }\n\n    public void setName(String name) {\n        this.name = name;\n    }\n\n    public void setBirthday(String birthday) {\n        this.birthday = birthday;\n    }\n\n    public void setEmail(String email) {\n        this.email = email;\n    }\n\n    public void setNickname(String nickname) {\n        Nickname = nickname;\n    }\n\n    public void setPassword(String password) {\n        this.password = password;\n    }\n\n    @Override\n    public String toString() {\n        return &quot;user{&quot; +\n                &quot;name='&quot; + name + '\\'' +\n                &quot;, birthday='&quot; + birthday + '\\'' +\n                &quot;, email='&quot; + email + '\\'' +\n                &quot;, Nickname='&quot; + Nickname + '\\'' +\n                &quot;, password='&quot; + password + '\\'' +\n                '}';\n    }\n}\n</code></pre>\n<p>userConfig</p>\n<pre class=\"lang-java prettyprint-override\"><code>package com.example.demo.user;\n\nimport org.springframework.boot.CommandLineRunner;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.context.annotation.Configuration;\n\nimport java.util.List;\n\n@Configuration\npublic class userConfig {\n\n    @Bean\n    CommandLineRunner commandLineRunner(userRepository userRepo){\n        return args -&gt; {\n            user NameUser = new user(&quot;Name&quot;, &quot;date&quot;, &quot;email&quot;, &quot;nick&quot;, &quot;password&quot;);\n            user NameUserTwo = new user(&quot;Name&quot;, &quot;date&quot;, &quot;email&quot;,&quot;Nick&quot;,&quot;password&quot;);\n            userRepo.saveAll(List.of(NameUser, NameUserTwo));\n        };\n\n    }\n}\n\n</code></pre>\n<p>userRepository</p>\n<pre><code>package com.example.demo.user;\n\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\n@Repository\npublic interface userRepository extends JpaRepository&lt;user, String&gt; {\n\n}\n</code></pre>\n<p>userService</p>\n<pre><code>package com.example.demo.user;\n\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.stereotype.Service;\nimport org.springframework.web.bind.annotation.GetMapping;\n\nimport java.util.List;\n\n@Service\npublic class userService {\n\n    private final userRepository repo;\n\n    @Autowired\n    public userService(userRepository repo) {\n        this.repo = repo;\n    }\n\n\n    public List&lt;user&gt; getUser(){\n        return repo.findAll();\n    }\n}\n\n</code></pre>\n<p>userController</p>\n<pre><code>package com.example.demo.user;\n\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.web.bind.annotation.GetMapping;\nimport org.springframework.web.bind.annotation.RequestMapping;\nimport org.springframework.web.bind.annotation.RestController;\n\nimport java.util.List;\n\n@RestController\n@RequestMapping(path= &quot;api/v1/user&quot;)\npublic class userController {\n\n    private final userService serv;\n\n    @Autowired\n    public userController(userService service){\n        this.serv = service;\n    }\n    @GetMapping\n    public List&lt;user&gt; getUser(){\n        return serv.getUser();\n    }\n}\n</code></pre>\n<p>The error i get:</p>\n<pre><code>*org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'entityManagerFactory' defined in class path resource [org/springframework/boot/autoconfigure/orm/jpa/HibernateJpaConfiguration.class]: Unknown access type record\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1770) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:598) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:326) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:324) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:200) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.getBean(AbstractApplicationContext.java:1154) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:931) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.10.jar:6.0.10]\n    at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:734) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:436) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:312) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1306) ~[spring-boot-3.1.1.jar:3.1.1]\n    at org.springframework.boot.SpringApplication.run(SpringApplication.java:1295) ~[spring-boot-3.1.1.jar:3.1.1]\n    at com.example.demo.PopsterBackendApplication.main(PopsterBackendApplication.java:13) ~[classes/:na]\nCaused by: java.lang.IllegalArgumentException: Unknown access type record\n    at org.hibernate.annotations.common.reflection.java.JavaXClass.getDeclaredProperties(JavaXClass.java:131) ~[hibernate-commons-annotations-5.0.1.Final.jar:5.0.1.Final]\n    at org.hibernate.annotations.common.reflection.java.JavaXClass.getDeclaredProperties(JavaXClass.java:121) ~[hibernate-commons-annotations-5.0.1.Final.jar:5.0.1.Final]\n    at org.hibernate.boot.model.internal.PropertyContainer.&lt;init&gt;(PropertyContainer.java:90) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.internal.InheritanceState.getElementsToProcess(InheritanceState.java:221) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.internal.InheritanceState.postProcess(InheritanceState.java:160) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.internal.EntityBinder.handleIdentifier(EntityBinder.java:293) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.internal.EntityBinder.bindEntityClass(EntityBinder.java:228) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.internal.AnnotationBinder.bindClass(AnnotationBinder.java:417) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.source.internal.annotations.AnnotationMetadataSourceProcessorImpl.processEntityHierarchies(AnnotationMetadataSourceProcessorImpl.java:255) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess$1.processEntityHierarchies(MetadataBuildingProcess.java:275) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.boot.model.process.spi.MetadataBuildingProcess.complete(MetadataBuildingProcess.java:318) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.metadata(EntityManagerFactoryBuilderImpl.java:1380) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.hibernate.jpa.boot.internal.EntityManagerFactoryBuilderImpl.build(EntityManagerFactoryBuilderImpl.java:1451) ~[hibernate-core-6.2.5.Final.jar:6.2.5.Final]\n    at org.springframework.orm.jpa.vendor.SpringHibernateJpaPersistenceProvider.createContainerEntityManagerFactory(SpringHibernateJpaPersistenceProvider.java:75) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.createNativeEntityManagerFactory(LocalContainerEntityManagerFactoryBean.java:376) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.buildNativeEntityManagerFactory(AbstractEntityManagerFactoryBean.java:409) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.afterPropertiesSet(AbstractEntityManagerFactoryBean.java:396) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.orm.jpa.LocalContainerEntityManagerFactoryBean.afterPropertiesSet(LocalContainerEntityManagerFactoryBean.java:352) ~[spring-orm-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.invokeInitMethods(AbstractAutowireCapableBeanFactory.java:1816) ~[spring-beans-6.0.10.jar:6.0.10]\n    at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1766) ~[spring-beans-6.0.10.jar:6.0.10]\n    ... 16 common frames omitted*\n</code></pre>\n<p>Can anybody help me? I'm not new to Spring but i have to re-learn it from zero due to a huge memory loss after i got run over by a car and that's what i'm doing.\nThanks in advance. If you need further details just ask.</p>\n"},{"tags":["java","inheritance","reflection","final"],"comments":[{"owner":{"account_id":137890,"reputation":8718,"user_id":995052,"accept_rate":56,"display_name":"Kris"},"score":0,"creation_date":1657622402,"post_id":72950897,"comment_id":128849280,"body_markdown":"&quot; final toString() method&quot; ? And still you plan to override ?","body":"&quot; final toString() method&quot; ? And still you plan to override ?"},{"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"score":0,"creation_date":1657622868,"post_id":72950897,"comment_id":128849405,"body_markdown":"Technically you can&#39;t. You should ask yourself why exactly is the `Base.toString()` method declared `final`. If there is a good reason for that, then you shouldn&#39;t try to override it. Perhaps could you provide a sample of code so we can understand better what is at stake here ?","body":"Technically you can&#39;t. You should ask yourself why exactly is the <code>Base.toString()</code> method declared <code>final</code>. If there is a good reason for that, then you shouldn&#39;t try to override it. Perhaps could you provide a sample of code so we can understand better what is at stake here ?"},{"owner":{"account_id":2008812,"reputation":609,"user_id":2464312,"accept_rate":67,"display_name":"TeabagD"},"score":0,"creation_date":1657622885,"post_id":72950897,"comment_id":128849409,"body_markdown":"Yes, if it was possible to do on a single instance. Yes there might be a good reason why it&#39;s final. It&#39;s a very generic class, used in many places. I just need this one single instance in one place to return something else for toString()","body":"Yes, if it was possible to do on a single instance. Yes there might be a good reason why it&#39;s final. It&#39;s a very generic class, used in many places. I just need this one single instance in one place to return something else for toString()"},{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":3,"creation_date":1657623438,"post_id":72950897,"comment_id":128849583,"body_markdown":"@TeabagD without some serious tampering of the code, it&#39;s not possible. Even with tampering, it&#39;s not necessarily possible.","body":"@TeabagD without some serious tampering of the code, it&#39;s not possible. Even with tampering, it&#39;s not necessarily possible."},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1657626519,"post_id":72950897,"comment_id":128850630,"body_markdown":"a  `final toString` override looks as fishy as _easiest way to achieve the change would be to override the toString method_ - it&#39;s supposed to be merely informational, unrelated to any (application) functionality. So both finalizing it in super and trying to solve a task in subs are wrong, IMO","body":"a  <code>final toString</code> override looks as fishy as <i>easiest way to achieve the change would be to override the toString method</i> - it&#39;s supposed to be merely informational, unrelated to any (application) functionality. So both finalizing it in super and trying to solve a task in subs are wrong, IMO"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":2,"creation_date":1657724145,"post_id":72950897,"comment_id":128879424,"body_markdown":"The important question is, *what do you want to achieve with the overridden `toString()` method?* Also worth reading: [What is the XY problem?](https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378)","body":"The important question is, <i>what do you want to achieve with the overridden <code>toString()</code> method?</i> Also worth reading: <a href=\"https://meta.stackexchange.com/questions/66377/what-is-the-xy-problem/66378#66378\">What is the XY problem?</a>"},{"owner":{"account_id":785560,"reputation":14879,"user_id":845414,"display_name":"Johannes Kuhn"},"score":0,"creation_date":1690857152,"post_id":72950897,"comment_id":135408032,"body_markdown":"I&#39;d add a `String toStringImpl()` with default visibility to `Base`. Add the current implementation of `toString` to it, then delegate from `toString` to `toStringImpl`. A subclass in the same package can override `toStringImpl`, other subclasses in other packages can not.","body":"I&#39;d add a <code>String toStringImpl()</code> with default visibility to <code>Base</code>. Add the current implementation of <code>toString</code> to it, then delegate from <code>toString</code> to <code>toStringImpl</code>. A subclass in the same package can override <code>toStringImpl</code>, other subclasses in other packages can not."}],"answers":[{"tags":[],"owner":{"account_id":25778890,"reputation":44,"user_id":19524775,"display_name":"Lakshman Kumar"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1657622904,"creation_date":1657622904,"answer_id":72951063,"question_id":72950897,"body_markdown":"If any method in java is final, the child classes cannot override the final method. \r\nThere is only one way if you insist on using toString() in your Sub. Make the toString() of Base class not final. \r\n\r\nor\r\n\r\nTake a non static final global variable in your Sub class and initialize it using constructor with the required fields to be printed whenever an instance of Sub class need to be printed.","title":"Overriding a final method on a final class on an object instance in Java","body":"<p>If any method in java is final, the child classes cannot override the final method.\nThere is only one way if you insist on using toString() in your Sub. Make the toString() of Base class not final.</p>\n<p>or</p>\n<p>Take a non static final global variable in your Sub class and initialize it using constructor with the required fields to be printed whenever an instance of Sub class need to be printed.</p>\n"},{"tags":[],"owner":{"account_id":1010971,"reputation":11524,"user_id":1023553,"accept_rate":59,"display_name":"NoDataFound"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1657623423,"creation_date":1657623423,"answer_id":72951177,"question_id":72950897,"body_markdown":"If you can&#39;t change `Base` class, to remove the `final` modifier or change the `toString` implementation to delegate to child class, your best bet would be to add and use interface: have `Base` and `Sub` implements the same interface, use the interface everywhere, then do what you need to do using composition:\r\n\r\n    class Delegate implements CommonInterface {\r\n      private Base delegate;\r\n      // ++ ctor\r\n    \r\n      public String toString() {\r\n        return delegate.toString(); // here you are free to change the toString.\r\n      }\r\n    }\r\n\r\n","title":"Overriding a final method on a final class on an object instance in Java","body":"<p>If you can't change <code>Base</code> class, to remove the <code>final</code> modifier or change the <code>toString</code> implementation to delegate to child class, your best bet would be to add and use interface: have <code>Base</code> and <code>Sub</code> implements the same interface, use the interface everywhere, then do what you need to do using composition:</p>\n<pre><code>class Delegate implements CommonInterface {\n  private Base delegate;\n  // ++ ctor\n\n  public String toString() {\n    return delegate.toString(); // here you are free to change the toString.\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":2008812,"reputation":609,"user_id":2464312,"accept_rate":67,"display_name":"TeabagD"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":322,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690804431,"creation_date":1657621993,"question_id":72950897,"body_markdown":"We&#39;re in a situation where we have a class &quot;Base&quot;, which has a final toString() method.\r\n\r\nWe also have a final class &quot;Sub&quot; which extends &quot;Base&quot;. \r\n\r\nThere&#39;s a requirement to do a change that&#39;s very specific and only applies to a miniscule subset of functionality, but can get pretty intrusive if done &quot;properly&quot;.\r\n\r\nThe easiest way to achieve the change would be to override the toString method on a single instance of the &quot;Sub&quot; class. Creating a new single instance of Sub with the overriden toString() is also an option.\r\n\r\nIs this possible to do? Any advice on how to do this?","title":"Overriding a final method on a final class on an object instance in Java","body":"<p>We're in a situation where we have a class &quot;Base&quot;, which has a final toString() method.</p>\n<p>We also have a final class &quot;Sub&quot; which extends &quot;Base&quot;.</p>\n<p>There's a requirement to do a change that's very specific and only applies to a miniscule subset of functionality, but can get pretty intrusive if done &quot;properly&quot;.</p>\n<p>The easiest way to achieve the change would be to override the toString method on a single instance of the &quot;Sub&quot; class. Creating a new single instance of Sub with the overriden toString() is also an option.</p>\n<p>Is this possible to do? Any advice on how to do this?</p>\n"},{"tags":["java","json"],"comments":[{"owner":{"account_id":2671330,"reputation":183376,"user_id":2308683,"accept_rate":90,"display_name":"OneCricketeer"},"score":0,"creation_date":1478239200,"post_id":40416032,"comment_id":68081750,"body_markdown":"https://github.com/jayway/JsonPath Maybe?","body":"<a href=\"https://github.com/jayway/JsonPath\" rel=\"nofollow noreferrer\">github.com/jayway/JsonPath</a> Maybe?"},{"owner":{"account_id":4463325,"reputation":722,"user_id":4657587,"display_name":"Patr"},"score":1,"creation_date":1480055856,"post_id":40416032,"comment_id":68819661,"body_markdown":"JsonPath looks good, though at this time, I needed Jsonata. Appreciate the info.","body":"JsonPath looks good, though at this time, I needed Jsonata. Appreciate the info."}],"answers":[{"tags":[],"owner":{"account_id":9525930,"reputation":1341,"user_id":7079134,"display_name":"Andrew Coleman"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1478536041,"creation_date":1478536041,"answer_id":40469906,"question_id":40416032,"body_markdown":"The following snippet shows how you could invoke the JSONata processor from Java using the embedded JavaScript engine...\r\n\r\n    ScriptEngineManager factory = new ScriptEngineManager();\r\n\tScriptEngine engine = factory.getEngineByName(&quot;JavaScript&quot;);\r\n    Invocable inv = (Invocable) engine;\r\n\tFileReader jsonata = new FileReader(&quot;jsonata.js&quot;);\r\n\r\n    // load the JSONata processor\r\n\tengine.eval(jsonata);\r\n\r\n    // read and JSON.parse the input data\r\n\tbyte[] sample = Files.readAllBytes(Paths.get(&quot;sample.json&quot;));\r\n    engine.put(&quot;input&quot;, new String(sample));\r\n    Object inputjson = engine.eval(&quot;JSON.parse(input);&quot;);\r\n\r\n    // query the data\r\n    String expression = &quot;$sum(Account.Order.Product.(Price * Quantity))&quot;;  // JSONata expression\r\n    Object expr = inv.invokeFunction(&quot;jsonata&quot;, expression);\r\n    Object resultjson = inv.invokeMethod(expr, &quot;evaluate&quot;, inputjson);\r\n\r\n    // JSON.stringify the result\r\n    engine.put(&quot;resultjson&quot;, resultjson);\r\n    Object result = engine.eval(&quot;JSON.stringify(resultjson);&quot;);\r\n    System.out.println(result);\r\n\r\nIn this example, the jsonata.js file has been pulled down from the JSONata GitHub repo as well as the &#39;Invoice&#39; sample code from [try.jsonata.org][1].  \r\n\r\nExtra code would be needed to handle errors, but this gives the general idea.\r\n\r\n\r\n  [1]: http://try.jsonata.org/","title":"How can I use JSONata in Java?","body":"<p>The following snippet shows how you could invoke the JSONata processor from Java using the embedded JavaScript engine...</p>\n\n<pre><code>ScriptEngineManager factory = new ScriptEngineManager();\nScriptEngine engine = factory.getEngineByName(\"JavaScript\");\nInvocable inv = (Invocable) engine;\nFileReader jsonata = new FileReader(\"jsonata.js\");\n\n// load the JSONata processor\nengine.eval(jsonata);\n\n// read and JSON.parse the input data\nbyte[] sample = Files.readAllBytes(Paths.get(\"sample.json\"));\nengine.put(\"input\", new String(sample));\nObject inputjson = engine.eval(\"JSON.parse(input);\");\n\n// query the data\nString expression = \"$sum(Account.Order.Product.(Price * Quantity))\";  // JSONata expression\nObject expr = inv.invokeFunction(\"jsonata\", expression);\nObject resultjson = inv.invokeMethod(expr, \"evaluate\", inputjson);\n\n// JSON.stringify the result\nengine.put(\"resultjson\", resultjson);\nObject result = engine.eval(\"JSON.stringify(resultjson);\");\nSystem.out.println(result);\n</code></pre>\n\n<p>In this example, the jsonata.js file has been pulled down from the JSONata GitHub repo as well as the 'Invoice' sample code from <a href=\"http://try.jsonata.org/\" rel=\"noreferrer\">try.jsonata.org</a>.  </p>\n\n<p>Extra code would be needed to handle errors, but this gives the general idea.</p>\n"},{"tags":[],"owner":{"account_id":250544,"reputation":7921,"user_id":527333,"accept_rate":60,"display_name":"btiernay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533839312,"creation_date":1533839312,"answer_id":51773661,"question_id":40416032,"body_markdown":"You can use the JSONata-Java project:\r\n\r\nhttps://github.com/cow-co/jsonata-java\r\n\r\n&gt; A Java port of the original (JavaScript) interpreter for the JSONata\r\n&gt; JSON query and transformation language.\r\n\r\n","title":"How can I use JSONata in Java?","body":"<p>You can use the JSONata-Java project:</p>\n\n<p><a href=\"https://github.com/cow-co/jsonata-java\" rel=\"nofollow noreferrer\">https://github.com/cow-co/jsonata-java</a></p>\n\n<blockquote>\n  <p>A Java port of the original (JavaScript) interpreter for the JSONata\n  JSON query and transformation language.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":2180804,"reputation":381,"user_id":2188316,"accept_rate":86,"display_name":"wnm3"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1551916878,"creation_date":1551916878,"answer_id":55034068,"question_id":40416032,"body_markdown":"I have just posted a **Java implementation of JSONata** called JSONata4Java.\r\n\r\nmaven central:\r\n--------------\r\nJSONata4Java jar files are located here in Maven Central: https://search.maven.org/search?q=g:com.ibm.jsonata4java\r\npom.xml dependency\r\n \r\n    &lt;dependency&gt;\r\n     &lt;groupId&gt;com.ibm.jsonata4java&lt;/groupId&gt;\r\n     &lt;artifactId&gt;JSONata4Java&lt;/artifactId&gt;\r\n     &lt;version&gt;1.0.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\ngithub:\r\n-------\r\n\r\nThe Java port of jsonata project named JSONata4Java has been posted here: https://github.com/IBM/JSONata4Java\r\n\r\nIf you would like to contribute, please print and sign the appropriate JSONata4Java cla document and mail it to me:\r\n\r\n    IBM Corporation\r\n    c/o Nathaniel Mills\r\n    16 Deer Hill Ln.\r\n    Coventry, CT, 06238, US\r\n    Attn: OSS CLA Processing\r\n\r\nThanks in advance.","title":"How can I use JSONata in Java?","body":"<p>I have just posted a <strong>Java implementation of JSONata</strong> called JSONata4Java.</p>\n\n<h2>maven central:</h2>\n\n<p>JSONata4Java jar files are located here in Maven Central: <a href=\"https://search.maven.org/search?q=g:com.ibm.jsonata4java\" rel=\"noreferrer\">https://search.maven.org/search?q=g:com.ibm.jsonata4java</a>\npom.xml dependency</p>\n\n<pre><code>&lt;dependency&gt;\n &lt;groupId&gt;com.ibm.jsonata4java&lt;/groupId&gt;\n &lt;artifactId&gt;JSONata4Java&lt;/artifactId&gt;\n &lt;version&gt;1.0.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<h2>github:</h2>\n\n<p>The Java port of jsonata project named JSONata4Java has been posted here: <a href=\"https://github.com/IBM/JSONata4Java\" rel=\"noreferrer\">https://github.com/IBM/JSONata4Java</a></p>\n\n<p>If you would like to contribute, please print and sign the appropriate JSONata4Java cla document and mail it to me:</p>\n\n<pre><code>IBM Corporation\nc/o Nathaniel Mills\n16 Deer Hill Ln.\nCoventry, CT, 06238, US\nAttn: OSS CLA Processing\n</code></pre>\n\n<p>Thanks in advance.</p>\n"},{"tags":[],"owner":{"account_id":18903505,"reputation":754,"user_id":13791091,"display_name":"aeberhart"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690803405,"creation_date":1690803405,"answer_id":76803234,"question_id":40416032,"body_markdown":"We just published jsonata-java (https://github.com/dashjoin/jsonata-java) a 1:1 Java port of the jsonata-js reference that stays as close to the original source structure as possible: \r\n\r\n* Apache-2 licensed \r\n* Close to 100% test coverage (exceptions and explanations are documented in test/test-overrides.json)\r\n* Faster than jsonata-js on node \r\n* No 3rd party libs requires \r\n* Available on maven: https://mvnrepository.com/artifact/com.dashjoin/jsonata\r\n* jq-like native cli coming soon \r\n\r\nThis [section](https://github.com/dashjoin/jsonata-java/blob/main/README.md#design) in the README explains the design decisions that allowed porting the original JavaScript to Java 1:1. \r\n","title":"How can I use JSONata in Java?","body":"<p>We just published jsonata-java (<a href=\"https://github.com/dashjoin/jsonata-java\" rel=\"nofollow noreferrer\">https://github.com/dashjoin/jsonata-java</a>) a 1:1 Java port of the jsonata-js reference that stays as close to the original source structure as possible:</p>\n<ul>\n<li>Apache-2 licensed</li>\n<li>Close to 100% test coverage (exceptions and explanations are documented in test/test-overrides.json)</li>\n<li>Faster than jsonata-js on node</li>\n<li>No 3rd party libs requires</li>\n<li>Available on maven: <a href=\"https://mvnrepository.com/artifact/com.dashjoin/jsonata\" rel=\"nofollow noreferrer\">https://mvnrepository.com/artifact/com.dashjoin/jsonata</a></li>\n<li>jq-like native cli coming soon</li>\n</ul>\n<p>This <a href=\"https://github.com/dashjoin/jsonata-java/blob/main/README.md#design\" rel=\"nofollow noreferrer\">section</a> in the README explains the design decisions that allowed porting the original JavaScript to Java 1:1.</p>\n"}],"owner":{"account_id":4463325,"reputation":722,"user_id":4657587,"display_name":"Patr"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4671,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":40469906,"answer_count":4,"score":4,"last_activity_date":1690803405,"creation_date":1478238266,"question_id":40416032,"body_markdown":"\r\n\r\nJSONata is an expression language designed to query and transform JSON data structures.\r\n\r\nI find that current implementations of JSONata are in Javascript only. (https://github.com/jsonata-js/jsonata)\r\n\r\nI want to use JSONata in my Java code. It&#39;ll make life much easier to manipulate JSON documents in Java.\r\n\r\nA possible way could be to use the standard Java classes under javax.script package to interact with the Javascript-based JSONata implementation.\r\n\r\nHas anyone already done this? Is there any sample code to demonstrate how this can be achieved?\r\n\r\nHas anyone implemented other mechanisms of using JSONata in Java?\r\n","title":"How can I use JSONata in Java?","body":"<p>JSONata is an expression language designed to query and transform JSON data structures.</p>\n\n<p>I find that current implementations of JSONata are in Javascript only. (<a href=\"https://github.com/jsonata-js/jsonata\" rel=\"nofollow noreferrer\">https://github.com/jsonata-js/jsonata</a>)</p>\n\n<p>I want to use JSONata in my Java code. It'll make life much easier to manipulate JSON documents in Java.</p>\n\n<p>A possible way could be to use the standard Java classes under javax.script package to interact with the Javascript-based JSONata implementation.</p>\n\n<p>Has anyone already done this? Is there any sample code to demonstrate how this can be achieved?</p>\n\n<p>Has anyone implemented other mechanisms of using JSONata in Java?</p>\n"},{"tags":["java","spring-boot","elasticsearch","spring-data"],"answers":[{"tags":[],"owner":{"account_id":14795454,"reputation":1996,"user_id":10685211,"display_name":"Musab Dogan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690803269,"creation_date":1690803269,"answer_id":76803222,"question_id":76803116,"body_markdown":"You can use bool query. Also you can check this [thread][1].\r\n\r\n    SearchRequest request = new SearchRequest(&quot;your_index&quot;);\r\n    \r\n    BoolQuery boolQuery = new BoolQuery();\r\n    \r\n    boolQuery.should(MatchQuery.of(m -&gt; m.field(&quot;fileType&quot;).query(&quot;EXP&quot;)));\r\n    boolQuery.should(MatchQuery.of(m -&gt; m.field(&quot;fileType&quot;).query(&quot;WAIT_EXP&quot;)));\r\n    \r\n    request.query(boolQuery);\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/55852787/how-to-do-bool-queries-in-elasticsearch-with-java-api","title":"Elasticsearch multiple query values","body":"<p>You can use bool query. Also you can check this <a href=\"https://stackoverflow.com/questions/55852787/how-to-do-bool-queries-in-elasticsearch-with-java-api\">thread</a>.</p>\n<pre><code>SearchRequest request = new SearchRequest(&quot;your_index&quot;);\n\nBoolQuery boolQuery = new BoolQuery();\n\nboolQuery.should(MatchQuery.of(m -&gt; m.field(&quot;fileType&quot;).query(&quot;EXP&quot;)));\nboolQuery.should(MatchQuery.of(m -&gt; m.field(&quot;fileType&quot;).query(&quot;WAIT_EXP&quot;)));\n\nrequest.query(boolQuery);\n</code></pre>\n"}],"owner":{"account_id":29074702,"reputation":1,"user_id":22272176,"display_name":"Levent"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690803269,"creation_date":1690802372,"question_id":76803116,"body_markdown":"Hi I am trying to create a query with elastic search : \r\n\r\n```\r\n&lt;dependency&gt;\r\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\r\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\r\n            &lt;version&gt;8.5.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\n\r\n\r\nI need the query to select multiple files based on values:\r\n\r\n```\r\nquery = MatchQuery.of(m -&gt; m\r\n                        .field(&quot;fileType&quot;)\r\n                        .query(&quot;EXP&quot;, &quot;WAIT_EXP&quot;)\r\n                    )._toQuery();\r\n```\r\nBut this is giving me an syntax error. The query only gets 1 value. I need the get files with fileType both exp or wait_exp.\r\n\r\nI read the documentation at here [https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html](Documentatoin) but cant find anything helpfull.","title":"Elasticsearch multiple query values","body":"<p>Hi I am trying to create a query with elastic search :</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;co.elastic.clients&lt;/groupId&gt;\n            &lt;artifactId&gt;elasticsearch-java&lt;/artifactId&gt;\n            &lt;version&gt;8.5.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I need the query to select multiple files based on values:</p>\n<pre><code>query = MatchQuery.of(m -&gt; m\n                        .field(&quot;fileType&quot;)\n                        .query(&quot;EXP&quot;, &quot;WAIT_EXP&quot;)\n                    )._toQuery();\n</code></pre>\n<p>But this is giving me an syntax error. The query only gets 1 value. I need the get files with fileType both exp or wait_exp.</p>\n<p>I read the documentation at here https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/current/index.html but cant find anything helpfull.</p>\n"},{"tags":["java","java-8","java-stream"],"comments":[{"owner":{"account_id":4905966,"reputation":1880,"user_id":3952702,"accept_rate":71,"display_name":"SME_Dev"},"score":3,"creation_date":1538280723,"post_id":52574492,"comment_id":92085013,"body_markdown":"Instead of `Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});` you can write directly `IntStream.of(13, 1, etc)`.","body":"Instead of <code>Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});</code> you can write directly <code>IntStream.of(13, 1, etc)</code>."}],"answers":[{"tags":[],"owner":{"account_id":95910,"reputation":238649,"user_id":260990,"accept_rate":81,"display_name":"jmj"},"down_vote_count":0,"up_vote_count":16,"is_accepted":false,"score":16,"last_activity_date":1538280467,"creation_date":1538280176,"answer_id":52574504,"question_id":52574492,"body_markdown":"You can use [`concat()`][1] \r\n\r\n    IntStream.concat(stream1, stream2)\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#concat-java.util.stream.IntStream-java.util.stream.IntStream-","title":"How to merge two streams in Java?","body":"<p>You can use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/stream/IntStream.html#concat-java.util.stream.IntStream-java.util.stream.IntStream-\" rel=\"noreferrer\"><code>concat()</code></a> </p>\n\n<pre><code>IntStream.concat(stream1, stream2)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7743155,"reputation":55371,"user_id":5862071,"accept_rate":86,"display_name":"Ousmane D."},"down_vote_count":0,"up_vote_count":27,"is_accepted":true,"score":27,"last_activity_date":1690803070,"creation_date":1538302975,"answer_id":52576996,"question_id":52574492,"body_markdown":"@Jigar Joshi has answered the first part of your question which is *&quot;how to merge two IntStream&#39;s into one&quot;*.\r\n\r\nYour other question of &quot;how to merge two `Stream&lt;T&gt;` without overwriting the `equals()` and `hashCode()` method?&quot; can be done using the `toMap` collector, i.e.\r\nassuming you don&#39;t want the result as a `Stream&lt;T&gt;`.\r\nExample:\r\n\r\n    Stream.concat(stream1, stream2)\r\n          .collect(Collectors.toMap(Student::getNo, \r\n                   Function.identity(), \r\n                   (l, r) -&gt; l, \r\n                   LinkedHashMap::new)\r\n          ).values();\r\n\r\nif you want the result as a `Stream&lt;T&gt;` then one could do:\r\n\r\n     Stream.concat(stream1, stream2)\r\n           .collect(Collectors.collectingAndThen(\r\n                   Collectors.toMap(Student::getNo,\r\n                        Function.identity(),\r\n                        (l, r) -&gt; l,\r\n                        LinkedHashMap::new), \r\n                        f -&gt; f.values().stream()));\r\n\r\nThis is possibly not as efficient as it can be but it&#39;s another way to return a `Stream&lt;T&gt;` where the `T` items are all distinct but without using overriding `equals` and `hashcode` as you&#39;ve mentioned.","title":"How to merge two streams in Java?","body":"<p>@Jigar Joshi has answered the first part of your question which is <em>&quot;how to merge two IntStream's into one&quot;</em>.</p>\n<p>Your other question of &quot;how to merge two <code>Stream&lt;T&gt;</code> without overwriting the <code>equals()</code> and <code>hashCode()</code> method?&quot; can be done using the <code>toMap</code> collector, i.e.\nassuming you don't want the result as a <code>Stream&lt;T&gt;</code>.\nExample:</p>\n<pre><code>Stream.concat(stream1, stream2)\n      .collect(Collectors.toMap(Student::getNo, \n               Function.identity(), \n               (l, r) -&gt; l, \n               LinkedHashMap::new)\n      ).values();\n</code></pre>\n<p>if you want the result as a <code>Stream&lt;T&gt;</code> then one could do:</p>\n<pre><code> Stream.concat(stream1, stream2)\n       .collect(Collectors.collectingAndThen(\n               Collectors.toMap(Student::getNo,\n                    Function.identity(),\n                    (l, r) -&gt; l,\n                    LinkedHashMap::new), \n                    f -&gt; f.values().stream()));\n</code></pre>\n<p>This is possibly not as efficient as it can be but it's another way to return a <code>Stream&lt;T&gt;</code> where the <code>T</code> items are all distinct but without using overriding <code>equals</code> and <code>hashcode</code> as you've mentioned.</p>\n"},{"tags":[],"owner":{"account_id":8954365,"reputation":332,"user_id":6679305,"display_name":"Mohammed Nosirat"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1639059230,"creation_date":1632743591,"answer_id":69346119,"question_id":52574492,"body_markdown":"for first question \r\nyou can use &quot;flatMap&quot;\r\n\r\n        IntStream stream1 = Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});\r\n        IntStream stream2 = Arrays.stream(new int[] {1, 2, 6, 14, 8, 10, 12});\r\n\r\n        List&lt;Integer&gt; result = Stream.of(stream1, stream2).flatMap(IntStream::boxed)\r\n                .collect(Collectors.toList());\r\n        //result={13, 1, 3, 5, 7, 9, 1, 2, 6, 14, 8, 10, 12}\r\n\r\n**EDIT**\r\n\r\nthanks to @Vinicius for advising, \r\nwe can use \r\n\r\n    Stream&lt;Integer&gt; result = Stream.of(stream1, stream2).flatMap(IntStream::boxed).distinct();\r\n\r\nhere we will get a stream of all elements distinct based on the `equals` method.\r\n\r\n","title":"How to merge two streams in Java?","body":"<p>for first question\nyou can use &quot;flatMap&quot;</p>\n<pre><code>    IntStream stream1 = Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});\n    IntStream stream2 = Arrays.stream(new int[] {1, 2, 6, 14, 8, 10, 12});\n\n    List&lt;Integer&gt; result = Stream.of(stream1, stream2).flatMap(IntStream::boxed)\n            .collect(Collectors.toList());\n    //result={13, 1, 3, 5, 7, 9, 1, 2, 6, 14, 8, 10, 12}\n</code></pre>\n<p><strong>EDIT</strong></p>\n<p>thanks to @Vinicius for advising,\nwe can use</p>\n<pre><code>Stream&lt;Integer&gt; result = Stream.of(stream1, stream2).flatMap(IntStream::boxed).distinct();\n</code></pre>\n<p>here we will get a stream of all elements distinct based on the <code>equals</code> method.</p>\n"}],"owner":{"account_id":6300117,"reputation":1389,"user_id":4895033,"accept_rate":50,"display_name":"chaos"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24175,"favorite_count":0,"down_vote_count":1,"up_vote_count":25,"accepted_answer_id":52576996,"answer_count":3,"score":24,"last_activity_date":1690803070,"creation_date":1538280059,"question_id":52574492,"body_markdown":"Suppose we have two streams as follows:\r\n\r\n    IntStream stream1 = Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});\r\n    IntStream stream2 = Arrays.stream(new int[] {1, 2, 6, 14, 8, 10, 12});\r\n    stream1.merge(stream2); // some method which is used to merge two streams.\r\n\r\nIs there any convenient way to merge these two streams to [13, 1, 2, 3, 5, 6, 7, 8, 9, 10, 12, 14] by using the Java 8 stream API (the order doesn&#39;t matter). Or can we only handle one stream at the same time?\r\n\r\nFurthermore, if the two streams are object streams, how to keep only distinct objects without overriding the `equals()` and `hashCode()` methods? For example:\r\n\r\n    public class Student {\r\n    \r\n        private String no;\r\n    \r\n        private String name;\r\n    }\r\n\r\n    Student s1 = new Student(&quot;1&quot;, &quot;May&quot;);\r\n    Student s2 = new Student(&quot;2&quot;, &quot;Bob&quot;);\r\n    Student s3 = new Student(&quot;1&quot;, &quot;Marry&quot;);\r\n    \r\n    Stream&lt;Student&gt; stream1 = Stream.of(s1, s2);\r\n    Stream&lt;Student&gt; stream2 = Stream.of(s2, s3);\r\n    stream1.merge(stream2);  // should return Student{no=&#39;1&#39;, name=&#39;May&#39;} Student{no=&#39;2&#39;, name=&#39;Bob&#39;}\r\n\r\n\r\nAs long as their `no` is the same we consider them to be the same student. (so May and Marry are the same person because their numbers are both &quot;1&quot;).\r\n\r\nI&#39;ve found the `distinct()` method, but this method is based on `Object#equals()`. If we are not allowed to overwrite the `equals()` method, how can we merge `stream1` and `stream2` to one stream which has no duplicate items?","title":"How to merge two streams in Java?","body":"<p>Suppose we have two streams as follows:</p>\n<pre><code>IntStream stream1 = Arrays.stream(new int[] {13, 1, 3, 5, 7, 9});\nIntStream stream2 = Arrays.stream(new int[] {1, 2, 6, 14, 8, 10, 12});\nstream1.merge(stream2); // some method which is used to merge two streams.\n</code></pre>\n<p>Is there any convenient way to merge these two streams to [13, 1, 2, 3, 5, 6, 7, 8, 9, 10, 12, 14] by using the Java 8 stream API (the order doesn't matter). Or can we only handle one stream at the same time?</p>\n<p>Furthermore, if the two streams are object streams, how to keep only distinct objects without overriding the <code>equals()</code> and <code>hashCode()</code> methods? For example:</p>\n<pre><code>public class Student {\n\n    private String no;\n\n    private String name;\n}\n\nStudent s1 = new Student(&quot;1&quot;, &quot;May&quot;);\nStudent s2 = new Student(&quot;2&quot;, &quot;Bob&quot;);\nStudent s3 = new Student(&quot;1&quot;, &quot;Marry&quot;);\n\nStream&lt;Student&gt; stream1 = Stream.of(s1, s2);\nStream&lt;Student&gt; stream2 = Stream.of(s2, s3);\nstream1.merge(stream2);  // should return Student{no='1', name='May'} Student{no='2', name='Bob'}\n</code></pre>\n<p>As long as their <code>no</code> is the same we consider them to be the same student. (so May and Marry are the same person because their numbers are both &quot;1&quot;).</p>\n<p>I've found the <code>distinct()</code> method, but this method is based on <code>Object#equals()</code>. If we are not allowed to overwrite the <code>equals()</code> method, how can we merge <code>stream1</code> and <code>stream2</code> to one stream which has no duplicate items?</p>\n"},{"tags":["java","spring","spring-boot","saga","axon-framework"],"owner":{"account_id":15062605,"reputation":967,"user_id":10870817,"display_name":"SoT"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":30,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690803056,"creation_date":1690701380,"question_id":76796717,"body_markdown":"I&#39;m trying to wrap my head around the Saga pattern of Axon framework.\r\n\r\nGiven this block of code:\r\n\r\n    public class OrderManagementSaga {\r\n    \r\n        private boolean paid = false;\r\n        private boolean delivered = false;\r\n        @Inject\r\n        private transient CommandGateway commandGateway;\r\n    \r\n        @StartSaga\r\n        @SagaEventHandler(associationProperty = &quot;orderId&quot;)\r\n        public void handle(OrderCreatedEvent event) {\r\n            // client generated identifiers\r\n            ShippingId shipmentId = createShipmentId();\r\n            InvoiceId invoiceId = createInvoiceId();\r\n            // associate the Saga with these values, before sending the commands\r\n            associateWith(&quot;shipmentId&quot;, shipmentId);\r\n            associateWith(&quot;invoiceId&quot;, invoiceId);\r\n            // send the commands\r\n            commandGateway.send(new PrepareShippingCommand(...));\r\n            commandGateway.send(new CreateInvoiceCommand(...));\r\n        }\r\n    \r\n        @SagaEventHandler(associationProperty = &quot;shipmentId&quot;)\r\n        public void handle(ShippingArrivedEvent event) {\r\n            delivered = true;\r\n            if (paid) { end(); }\r\n        }\r\n    \r\n        @SagaEventHandler(associationProperty = &quot;invoiceId&quot;)\r\n        public void handle(InvoicePaidEvent event) {\r\n            paid = true;\r\n            if (delivered) { end(); }\r\n        }\r\n    \r\n        // ...\r\n    }\r\n\r\nThe document say about `@SagaEventHandler(associationProperty = &quot;orderId&quot;)`:\r\n\r\n&gt; For example, consider an incoming Event with a method &quot;String\r\n&gt; getOrderId()&quot;, which returns &quot;123&quot;. If a method accepting this Event\r\n&gt; is annotated with @SagaEventHandler(associationProperty=&quot;orderId&quot;),\r\n&gt; this Event is routed to all Sagas that have been associated with an\r\n&gt; AssociationValue with key &quot;orderId&quot; and value &quot;123&quot;.\r\n\r\nSo there will be a lot of Saga instances, and `associationProperty=&quot;orderId&quot;` will be used to match an Event to a Saga. So far so good.\r\n\r\nBut what is the purpose of `SagaLifecycle.associateWith(&quot;paymentId&quot;, paymentId);`? The document does not give an example like the case `@SagaEventHandler(associationProperty = &quot;orderId&quot;)`. I still not understand it, please help","title":"Axon Saga what is the purpose of SagaLifecycle.associateWith","body":"<p>I'm trying to wrap my head around the Saga pattern of Axon framework.</p>\n<p>Given this block of code:</p>\n<pre><code>public class OrderManagementSaga {\n\n    private boolean paid = false;\n    private boolean delivered = false;\n    @Inject\n    private transient CommandGateway commandGateway;\n\n    @StartSaga\n    @SagaEventHandler(associationProperty = &quot;orderId&quot;)\n    public void handle(OrderCreatedEvent event) {\n        // client generated identifiers\n        ShippingId shipmentId = createShipmentId();\n        InvoiceId invoiceId = createInvoiceId();\n        // associate the Saga with these values, before sending the commands\n        associateWith(&quot;shipmentId&quot;, shipmentId);\n        associateWith(&quot;invoiceId&quot;, invoiceId);\n        // send the commands\n        commandGateway.send(new PrepareShippingCommand(...));\n        commandGateway.send(new CreateInvoiceCommand(...));\n    }\n\n    @SagaEventHandler(associationProperty = &quot;shipmentId&quot;)\n    public void handle(ShippingArrivedEvent event) {\n        delivered = true;\n        if (paid) { end(); }\n    }\n\n    @SagaEventHandler(associationProperty = &quot;invoiceId&quot;)\n    public void handle(InvoicePaidEvent event) {\n        paid = true;\n        if (delivered) { end(); }\n    }\n\n    // ...\n}\n</code></pre>\n<p>The document say about <code>@SagaEventHandler(associationProperty = &quot;orderId&quot;)</code>:</p>\n<blockquote>\n<p>For example, consider an incoming Event with a method &quot;String\ngetOrderId()&quot;, which returns &quot;123&quot;. If a method accepting this Event\nis annotated with @SagaEventHandler(associationProperty=&quot;orderId&quot;),\nthis Event is routed to all Sagas that have been associated with an\nAssociationValue with key &quot;orderId&quot; and value &quot;123&quot;.</p>\n</blockquote>\n<p>So there will be a lot of Saga instances, and <code>associationProperty=&quot;orderId&quot;</code> will be used to match an Event to a Saga. So far so good.</p>\n<p>But what is the purpose of <code>SagaLifecycle.associateWith(&quot;paymentId&quot;, paymentId);</code>? The document does not give an example like the case <code>@SagaEventHandler(associationProperty = &quot;orderId&quot;)</code>. I still not understand it, please help</p>\n"},{"tags":["java","android","pdf","bitmap","android-viewpager"],"answers":[{"tags":[],"owner":{"account_id":2755641,"reputation":8688,"user_id":2373819,"display_name":"Andrew"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690649381,"creation_date":1690649381,"answer_id":76794578,"question_id":76794078,"body_markdown":"This really depends on how you generate your layout (which you don&#39;t show in your question) and what your layout shows and how nicely you want the split across multiple pages to be.\r\n\r\nThe are 2 main strategies:-\r\n\r\n1. Just split the bitmap in multiple bitmaps and put each new bitmap on a new pages. This does not produce very good results because it is hard to split the bitmap in a logical location (i.e not half way in a line of text)\r\n\r\n2. Draw the view direct to the PDF canvas using a view **Just**  for the PDF, one that is never displayed on screen (the reason why this view is never displayed on screen because an A4 page is 595 pixels wide and 842 pixels high and won&#39;t match the size of the devices display screen). This has the advantage that the PDF is editable, as text is text not a picture of text, which the PDF scales better on screen and is smaller in size). It also allows you to reformat each page.\r\n\r\nMy App actually uses a hybrid of both strategies because it also wants to produce png&#39;s for facebook for each PDF page, but the main strategy is 2. &quot;draw direct&quot;\r\n\r\nSo a summary of the &quot;draw direct&quot; method.\r\n\r\n 1. You generate your layout as multiple views in a LinearLayout (makes it easier for splitting)\r\n\r\n 2. Create an `ArrayList` of View&#39;s you want to add as rows in your LinearLayout and programmatically create each view and add them to the ArrayList\r\n\r\n 3. Add all views to your LinearLayout and then measure and layout the LinearLayout \r\n\r\n```\r\nfor ( int c = 0; c &lt; viewArrayList.size(); c++){\r\n   linearLayout.addView(classTables.get(c));\r\n}\r\n\r\nlinearLayout.measure(\r\n        // Measure to A4 width\r\n        View.MeasureSpec.makeMeasureSpec(595, View.MeasureSpec.EXACTLY\r\n        ),\r\n        // Measure to as high as the view needs\r\n        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\r\n        )\r\n    )\r\n// Layout the view out to the measure dimensions\r\nlinearLayout.layout(0, 0, view.getMeasuredWidth(), view.getMeasuredHeight())\r\n```\r\nThis will size all the views\r\n\r\n 4. Remove all the views from the linearLayout\r\n\r\n```\r\nlinearLayout.removeAllViews();\r\n``` \r\n 5. Iterate over the arraylist again adding the views back to the linearLayout until the cumulative height is row short of exceeding the max height of an A4 page (842 pixels).\r\n\r\nThen remeasure and layout to position everything again to get everything on screen.\r\n\r\nDraw this layout to the canvas of PDF page (or bitmap)\r\n\r\n 6. Repeat Steps 4 and 5 for each PDF page (removing all view and then adding the next page set of row to the LinearLayout. Then measure/layout this page and draw to canvas.\r\n\r\nDo this until all rows are drawn to multiple PDF pages.\r\n\r\n----------\r\n\r\nThe key is measure all view elements on get their height, so you can plan how many you can add to a Layout to fit on a PDF page.\r\n\r\n\r\nThis is sort of how I display a view on to multiple pages of a PDF (I actually size the view for the width to be Wrap Content and work out a scale to size it to A4 width and calculate what height at that scale makes a single page and add enough elements to fill that, then create a bitmap of this page and add the bitmap to the pdf Page&#39;s canvas by setting the scale on the pdf&#39;s canvas. The reason I do this hybrid approach is that as well as a paginated pdf of the view I also want Png&#39;s of each page to put on Facebook)\r\n\r\nThe key is actually to split your view generation in to multiple views\r\n\r\n ","title":"Print pdf in multiple pages if one page not enough","body":"<p>This really depends on how you generate your layout (which you don't show in your question) and what your layout shows and how nicely you want the split across multiple pages to be.</p>\n<p>The are 2 main strategies:-</p>\n<ol>\n<li><p>Just split the bitmap in multiple bitmaps and put each new bitmap on a new pages. This does not produce very good results because it is hard to split the bitmap in a logical location (i.e not half way in a line of text)</p>\n</li>\n<li><p>Draw the view direct to the PDF canvas using a view <strong>Just</strong>  for the PDF, one that is never displayed on screen (the reason why this view is never displayed on screen because an A4 page is 595 pixels wide and 842 pixels high and won't match the size of the devices display screen). This has the advantage that the PDF is editable, as text is text not a picture of text, which the PDF scales better on screen and is smaller in size). It also allows you to reformat each page.</p>\n</li>\n</ol>\n<p>My App actually uses a hybrid of both strategies because it also wants to produce png's for facebook for each PDF page, but the main strategy is 2. &quot;draw direct&quot;</p>\n<p>So a summary of the &quot;draw direct&quot; method.</p>\n<ol>\n<li><p>You generate your layout as multiple views in a LinearLayout (makes it easier for splitting)</p>\n</li>\n<li><p>Create an <code>ArrayList</code> of View's you want to add as rows in your LinearLayout and programmatically create each view and add them to the ArrayList</p>\n</li>\n<li><p>Add all views to your LinearLayout and then measure and layout the LinearLayout</p>\n</li>\n</ol>\n<pre><code>for ( int c = 0; c &lt; viewArrayList.size(); c++){\n   linearLayout.addView(classTables.get(c));\n}\n\nlinearLayout.measure(\n        // Measure to A4 width\n        View.MeasureSpec.makeMeasureSpec(595, View.MeasureSpec.EXACTLY\n        ),\n        // Measure to as high as the view needs\n        View.MeasureSpec.makeMeasureSpec(0, View.MeasureSpec.UNSPECIFIED));\n        )\n    )\n// Layout the view out to the measure dimensions\nlinearLayout.layout(0, 0, view.getMeasuredWidth(), view.getMeasuredHeight())\n</code></pre>\n<p>This will size all the views</p>\n<ol start=\"4\">\n<li>Remove all the views from the linearLayout</li>\n</ol>\n<pre><code>linearLayout.removeAllViews();\n</code></pre>\n<ol start=\"5\">\n<li>Iterate over the arraylist again adding the views back to the linearLayout until the cumulative height is row short of exceeding the max height of an A4 page (842 pixels).</li>\n</ol>\n<p>Then remeasure and layout to position everything again to get everything on screen.</p>\n<p>Draw this layout to the canvas of PDF page (or bitmap)</p>\n<ol start=\"6\">\n<li>Repeat Steps 4 and 5 for each PDF page (removing all view and then adding the next page set of row to the LinearLayout. Then measure/layout this page and draw to canvas.</li>\n</ol>\n<p>Do this until all rows are drawn to multiple PDF pages.</p>\n<hr />\n<p>The key is measure all view elements on get their height, so you can plan how many you can add to a Layout to fit on a PDF page.</p>\n<p>This is sort of how I display a view on to multiple pages of a PDF (I actually size the view for the width to be Wrap Content and work out a scale to size it to A4 width and calculate what height at that scale makes a single page and add enough elements to fill that, then create a bitmap of this page and add the bitmap to the pdf Page's canvas by setting the scale on the pdf's canvas. The reason I do this hybrid approach is that as well as a paginated pdf of the view I also want Png's of each page to put on Facebook)</p>\n<p>The key is actually to split your view generation in to multiple views</p>\n"}],"owner":{"account_id":28779976,"reputation":25,"user_id":22041790,"display_name":"HGSu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":75,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76794578,"answer_count":1,"score":0,"last_activity_date":1690802930,"creation_date":1690641756,"question_id":76794078,"body_markdown":"I&#39;m trying to create a PDF from layout;\r\nI converted the layout to bitmap and then printed into the pdf page.\r\nThe application converts the output into a long PDF page, but I want to divide the bitmap into several parts then print in multiple PDF pages each one A4 size,\r\nif the first page is not enough, create a second page and print the remaining part on it ..\r\n\r\nHow I can do it?\r\n\r\n    private void generatePdfFromView(View view) {\r\n    \r\n    \tBitmap bitmap = getBitmapFromView(view);\r\n    \tdocument = new PdfDocument();\r\n    \r\n    \tPdfDocument.PageInfo myPageInfo = new PdfDocument.PageInfo.Builder(view.getWidth(),view.getHeight(),1).create();\r\n    \tPdfDocument.Page myPage = document.startPage(myPageInfo);\r\n    \tCanvas canvas = myPage.getCanvas();\r\n    \tcanvas.drawBitmap(bitmap,0,0,null);\r\n    \r\n    \tdocument.finishPage(myPage);\r\n    \r\n    \tPdfDocument.PageInfo myPageInfo1 = new PdfDocument.PageInfo.Builder(view.getWidth(),view.getHeight(),2).create();\r\n    \tPdfDocument.Page myPage1 = document.startPage(myPageInfo1);\r\n    \tCanvas canvas1 = myPage1.getCanvas();\r\n    \tcanvas1.drawBitmap(bitmap,0,0,null);\r\n    \tdocument.finishPage(myPage1);\r\n    \tcreateFile();\r\n    }\r\n        \r\n        \r\n    private Bitmap getBitmapFromView(View view) {\r\n    \r\n    \tBitmap returnedBitmap = Bitmap.createBitmap(view.getWidth(),view.getHeight(),Bitmap.Config.ARGB_8888);\r\n    \tCanvas canvas = new Canvas(returnedBitmap);\r\n    \r\n    \tDrawable bgDrawable = view.getBackground();\r\n    \tif (bgDrawable != null){\r\n    \t\tbgDrawable.draw(canvas);\r\n    \t} else {\r\n    \t\tcanvas.drawColor(Color.WHITE);\r\n    \t}\r\n    \tview.draw(canvas);\r\n    \r\n    \treturn returnedBitmap;\r\n    }","title":"Print pdf in multiple pages if one page not enough","body":"<p>I'm trying to create a PDF from layout;\nI converted the layout to bitmap and then printed into the pdf page.\nThe application converts the output into a long PDF page, but I want to divide the bitmap into several parts then print in multiple PDF pages each one A4 size,\nif the first page is not enough, create a second page and print the remaining part on it ..</p>\n<p>How I can do it?</p>\n<pre><code>private void generatePdfFromView(View view) {\n\n    Bitmap bitmap = getBitmapFromView(view);\n    document = new PdfDocument();\n\n    PdfDocument.PageInfo myPageInfo = new PdfDocument.PageInfo.Builder(view.getWidth(),view.getHeight(),1).create();\n    PdfDocument.Page myPage = document.startPage(myPageInfo);\n    Canvas canvas = myPage.getCanvas();\n    canvas.drawBitmap(bitmap,0,0,null);\n\n    document.finishPage(myPage);\n\n    PdfDocument.PageInfo myPageInfo1 = new PdfDocument.PageInfo.Builder(view.getWidth(),view.getHeight(),2).create();\n    PdfDocument.Page myPage1 = document.startPage(myPageInfo1);\n    Canvas canvas1 = myPage1.getCanvas();\n    canvas1.drawBitmap(bitmap,0,0,null);\n    document.finishPage(myPage1);\n    createFile();\n}\n    \n    \nprivate Bitmap getBitmapFromView(View view) {\n\n    Bitmap returnedBitmap = Bitmap.createBitmap(view.getWidth(),view.getHeight(),Bitmap.Config.ARGB_8888);\n    Canvas canvas = new Canvas(returnedBitmap);\n\n    Drawable bgDrawable = view.getBackground();\n    if (bgDrawable != null){\n        bgDrawable.draw(canvas);\n    } else {\n        canvas.drawColor(Color.WHITE);\n    }\n    view.draw(canvas);\n\n    return returnedBitmap;\n}\n</code></pre>\n"},{"tags":["java","generics"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1690799419,"post_id":76802610,"comment_id":135398397,"body_markdown":"You need to use the second form if you are trying to put something back into the `list` - in the first form, even if it is something you took out of the list (e.g. `list.add(list.get(0));`), the compiler doesn&#39;t recognize it as being of the correct type. The second form allows the compiler to know that the thing is of type `T`; because you can add a `T` to a `List&lt;T&gt;`, the compiler allows this.","body":"You need to use the second form if you are trying to put something back into the <code>list</code> - in the first form, even if it is something you took out of the list (e.g. <code>list.add(list.get(0));</code>), the compiler doesn&#39;t recognize it as being of the correct type. The second form allows the compiler to know that the thing is of type <code>T</code>; because you can add a <code>T</code> to a <code>List&lt;T&gt;</code>, the compiler allows this."},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":0,"creation_date":1690799578,"post_id":76802610,"comment_id":135398424,"body_markdown":"If you don&#39;t need to add anything to `list` (more generally, invoke a method which accepts a `T` or a type referencing `T` as a parameter), it&#39;s just unnecessary to have it there.","body":"If you don&#39;t need to add anything to <code>list</code> (more generally, invoke a method which accepts a <code>T</code> or a type referencing <code>T</code> as a parameter), it&#39;s just unnecessary to have it there."}],"answers":[{"tags":[],"owner":{"account_id":28702196,"reputation":22,"user_id":21979163,"display_name":"Gajera Jaykumar"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690802840,"creation_date":1690798656,"answer_id":76802644,"question_id":76802610,"body_markdown":"In generic code, the question mark (?), called the wildcard, represents an unknown type. The wildcard can be used in a variety of situations: as the type of a parameter, field, or local variable; sometimes as a return type (though it is better programming practice to be more specific). \r\n\r\nThe wildcard is never used as a type argument for a generic method invocation, a generic class instance creation, or a super type.","title":"Why use wildcards in Java generics and not generic methods?","body":"<p>In generic code, the question mark (?), called the wildcard, represents an unknown type. The wildcard can be used in a variety of situations: as the type of a parameter, field, or local variable; sometimes as a return type (though it is better programming practice to be more specific).</p>\n<p>The wildcard is never used as a type argument for a generic method invocation, a generic class instance creation, or a super type.</p>\n"}],"owner":{"account_id":16841069,"reputation":2151,"user_id":12176460,"display_name":"YoavKlein"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"closed_date":1690798842,"answer_count":1,"score":0,"last_activity_date":1690802840,"creation_date":1690798391,"question_id":76802610,"body_markdown":"I&#39;m currently learning Java generics, and while going through the Oracle&#39;s tutorial in [Wildcard capture and helper methods](https://docs.oracle.com/javase/tutorial/java/generics/capture.html) it suddenly hit me: what is the benefit of:\r\n```\r\nvoid someMethod(List&lt;?&gt; list) { // .. }\r\n```\r\n\r\nover:\r\n```\r\n&lt;T&gt; void someMethod(List&lt;T&gt; list) { // .. }\r\n```\r\n\r\n?\r\n\r\nThe reason I ask is that the link provided above presents a certain compilation error that occurs while using the first form (using wildcards), which is solved by using a helper method of the second form. So the question arises - why use the first form in the first place?","title":"Why use wildcards in Java generics and not generic methods?","body":"<p>I'm currently learning Java generics, and while going through the Oracle's tutorial in <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/capture.html\" rel=\"nofollow noreferrer\">Wildcard capture and helper methods</a> it suddenly hit me: what is the benefit of:</p>\n<pre><code>void someMethod(List&lt;?&gt; list) { // .. }\n</code></pre>\n<p>over:</p>\n<pre><code>&lt;T&gt; void someMethod(List&lt;T&gt; list) { // .. }\n</code></pre>\n<p>?</p>\n<p>The reason I ask is that the link provided above presents a certain compilation error that occurs while using the first form (using wildcards), which is solved by using a helper method of the second form. So the question arises - why use the first form in the first place?</p>\n"},{"tags":["java","random","apache-commons"],"answers":[{"tags":[],"owner":{"account_id":352680,"reputation":3179,"user_id":689893,"accept_rate":88,"display_name":"Joost"},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1690802783,"creation_date":1340809294,"answer_id":11229232,"question_id":11228951,"body_markdown":"There is no seed provided in the implementation [I found][1], there is just a `new Random()`. But there is a [method][2] where you can supply your own source of randomness\r\n\r\n    random(int count, int start, int end, \r\n            boolean letters, boolean numbers, \r\n            char[] chars, java.util.Random random)\r\n\r\n\r\n  [1]: https://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/RandomStringUtils.html#line.282\r\n  [2]: https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html#random-int-int-int-boolean-boolean-char:A-java.util.Random-","title":"Java: RandomStringUtils Random seed","body":"<p>There is no seed provided in the implementation <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/src-html/org/apache/commons/lang3/RandomStringUtils.html#line.282\" rel=\"nofollow noreferrer\">I found</a>, there is just a <code>new Random()</code>. But there is a <a href=\"https://commons.apache.org/proper/commons-lang/apidocs/org/apache/commons/lang3/RandomStringUtils.html#random-int-int-int-boolean-boolean-char:A-java.util.Random-\" rel=\"nofollow noreferrer\">method</a> where you can supply your own source of randomness</p>\n<pre><code>random(int count, int start, int end, \n        boolean letters, boolean numbers, \n        char[] chars, java.util.Random random)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":277416,"reputation":681848,"user_id":571407,"accept_rate":100,"display_name":"JB Nizet"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1340809382,"creation_date":1340809382,"answer_id":11229264,"question_id":11228951,"body_markdown":"You shouldn&#39;t use a random generator to generate unique keys. Nothing guarantees uniqueness. Why don&#39;t you use a UUID generator instead, or a database sequence? \r\n\r\nAnd why do you want your keys to be properly distributed? The only important thing for a primary key is its uniqueness. And the seed doesn&#39;t have any impact on the distribution, AFAIK.","title":"Java: RandomStringUtils Random seed","body":"<p>You shouldn't use a random generator to generate unique keys. Nothing guarantees uniqueness. Why don't you use a UUID generator instead, or a database sequence? </p>\n\n<p>And why do you want your keys to be properly distributed? The only important thing for a primary key is its uniqueness. And the seed doesn't have any impact on the distribution, AFAIK.</p>\n"}],"owner":{"account_id":21147,"reputation":130351,"user_id":51197,"accept_rate":80,"display_name":"Adam Matan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":9796,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":11229232,"answer_count":2,"score":3,"last_activity_date":1690802783,"creation_date":1340808533,"question_id":11228951,"body_markdown":"I&#39;ve been using `RandomStringUtils` to generate random IDs to be used as database keys:\r\n\r\n&lt;!-- language: lang-java --&gt;\r\n\r\n    import org.apache.commons.lang.RandomStringUtils;\r\n    public class RandomStringTest {\r\n    \tpublic static void main(final String[] args) {\r\n    \t\tfor (int i = 0; i &lt;= 10; i++) {\r\n    \t\t\tfinal String id = RandomStringUtils.random(8,\r\n    \t\t\t\t\t&quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;);\r\n    \t\t\tSystem.out.println(id);\r\n    \t\t}\r\n    \t}\r\n    }\r\n\r\nThe key space is large enough,\r\n\r\n    len(&quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;)^8 = 2821109907456 ≃ 10^12\r\n\r\n**Is the random mechanism properly seeded?** I need to know that the keys are properly distributed before applying this to production.\r\n\r\nBy the way, the test code showed no repetitions when executed a few times, but that&#39;s far from solid proof.","title":"Java: RandomStringUtils Random seed","body":"<p>I've been using <code>RandomStringUtils</code> to generate random IDs to be used as database keys:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>import org.apache.commons.lang.RandomStringUtils;\npublic class RandomStringTest {\n    public static void main(final String[] args) {\n        for (int i = 0; i &lt;= 10; i++) {\n            final String id = RandomStringUtils.random(8,\n                    \"0123456789abcdefghijklmnopqrstuvwxyz\");\n            System.out.println(id);\n        }\n    }\n}\n</code></pre>\n\n<p>The key space is large enough,</p>\n\n<pre><code>len(\"0123456789abcdefghijklmnopqrstuvwxyz\")^8 = 2821109907456 ≃ 10^12\n</code></pre>\n\n<p><strong>Is the random mechanism properly seeded?</strong> I need to know that the keys are properly distributed before applying this to production.</p>\n\n<p>By the way, the test code showed no repetitions when executed a few times, but that's far from solid proof.</p>\n"},{"tags":["java","jhipster","modernizer-maven-plugin"],"comments":[{"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"score":0,"creation_date":1689780570,"post_id":76722792,"comment_id":135262790,"body_markdown":"Could you try upgrading your Modernizer plugin to 2.6.0.  They removed the usage of Plexus StringUtils to be compatible with newer versions of Maven.  this may be the cause of your problem.","body":"Could you try upgrading your Modernizer plugin to 2.6.0.  They removed the usage of Plexus StringUtils to be compatible with newer versions of Maven.  this may be the cause of your problem."},{"owner":{"account_id":20017325,"reputation":319,"user_id":14673018,"display_name":"Sanal M"},"score":0,"creation_date":1690699801,"post_id":76722792,"comment_id":135388042,"body_markdown":"It worked. Thanks. If you can post this comment as an answer we can mark it.","body":"It worked. Thanks. If you can post this comment as an answer we can mark it."},{"owner":{"account_id":33534,"reputation":16098,"user_id":93960,"display_name":"Ga&#235;l Marziou"},"score":0,"creation_date":1690842423,"post_id":76722792,"comment_id":135406671,"body_markdown":"It&#39;s safer to use the maven wrapper (`mvnw`) configured by JHipster rather than your globally installed maven (`mvn`). This way you ensure that you are using a compatible version that has passed JHipster team CI tests.","body":"It&#39;s safer to use the maven wrapper (<code>mvnw</code>) configured by JHipster rather than your globally installed maven (<code>mvn</code>). This way you ensure that you are using a compatible version that has passed JHipster team CI tests."}],"answers":[{"tags":[],"owner":{"account_id":8148968,"reputation":1793,"user_id":6136697,"display_name":"M. Rizzo"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1690802600,"creation_date":1690802600,"answer_id":76803145,"question_id":76722792,"body_markdown":"I believe if upgrade your Modernizer plugin to 2.6.0, it should address your issue.  They removed the usage of Plexus StringUtils to be compatible with newer versions of Maven. this may be the cause of your problem.","title":"Maven build failed because of modernizer plugin","body":"<p>I believe if upgrade your Modernizer plugin to 2.6.0, it should address your issue.  They removed the usage of Plexus StringUtils to be compatible with newer versions of Maven. this may be the cause of your problem.</p>\n"}],"owner":{"account_id":20017325,"reputation":319,"user_id":14673018,"display_name":"Sanal M"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":582,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76803145,"answer_count":1,"score":1,"last_activity_date":1690802600,"creation_date":1689779654,"question_id":76722792,"body_markdown":"I have created a jhipster project. after making some changes in the java code i am not able to run &quot;mvn clean install&quot; command. I had created a Mapstruct mapper class for an API. That is the only change i have done. the log is given below.\r\n\r\n```\r\n[[1;34mINFO[m] [1;31mBUILD FAILURE[m\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;34mINFO[m] Total time:  02:20 min\r\n[[1;34mINFO[m] Finished at: 2023-07-19T20:28:55+05:30\r\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\r\n[[1;31mERROR[m] Failed to execute goal [32morg.gaul:modernizer-maven-plugin:2.4.0:modernizer[m [1m(modernizer)[m on project [36mbuyyinn[m: [1;31mExecution modernizer of goal org.gaul:modernizer-maven-plugin:2.4.0:modernizer failed: A required class was missing while executing org.gaul:modernizer-maven-plugin:2.4.0:modernizer: org/codehaus/plexus/util/StringUtils[m\r\n[[1;31mERROR[m] [1;31m-----------------------------------------------------[m\r\n[[1;31mERROR[m] [1;31mrealm =    plugin&gt;org.gaul:modernizer-maven-plugin:2.4.0[m\r\n[[1;31mERROR[m] [1;31mstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy[m\r\n[[1;31mERROR[m] [1;31murls[0] = file:/C:/Users/sanal/.m2/repository/org/gaul/modernizer-maven-plugin/2.4.0/modernizer-maven-plugin-2.4.0.jar[m\r\n[[1;31mERROR[m] [1;31murls[1] = file:/C:/Users/sanal/.m2/repository/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.jar[m\r\n[[1;31mERROR[m] [1;31murls[2] = file:/C:/Users/sanal/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.11/plexus-interpolation-1.11.jar[m\r\n[[1;31mERROR[m] [1;31murls[3] = file:/C:/Users/sanal/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar[m\r\n[[1;31mERROR[m] [1;31murls[4] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar[m\r\n[[1;31mERROR[m] [1;31murls[5] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-commons/9.2/asm-commons-9.2.jar[m\r\n[[1;31mERROR[m] [1;31murls[6] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-tree/9.2/asm-tree-9.2.jar[m\r\n[[1;31mERROR[m] [1;31murls[7] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-analysis/9.2/asm-analysis-9.2.jar[m\r\n[[1;31mERROR[m] [1;31murls[8] = file:/C:/Users/sanal/.m2/repository/org/gaul/modernizer-maven-annotations/2.4.0/modernizer-maven-annotations-2.4.0.jar[m\r\n[[1;31mERROR[m] [1;31mNumber of foreign imports: 1[m\r\n[[1;31mERROR[m] [1;31mimport: Entry[import  from realm ClassRealm[maven.api, parent: null]][m\r\n[[1;31mERROR[m] [1;31m[m\r\n[[1;31mERROR[m] [1;31m-----------------------------------------------------[m\r\n[[1;31mERROR[m] [1;31m[m: org.codehaus.plexus.util.StringUtils\r\n[[1;31mERROR[m] -&gt; [1m[Help 1]\r\n```\r\n\r\nThe Jhipster version i am using is 7.9.3\r\n\r\nI am not abell to understand this issue. Can anyone help?","title":"Maven build failed because of modernizer plugin","body":"<p>I have created a jhipster project. after making some changes in the java code i am not able to run &quot;mvn clean install&quot; command. I had created a Mapstruct mapper class for an API. That is the only change i have done. the log is given below.</p>\n<pre><code>[[1;34mINFO[m] [1;31mBUILD FAILURE[m\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;34mINFO[m] Total time:  02:20 min\n[[1;34mINFO[m] Finished at: 2023-07-19T20:28:55+05:30\n[[1;34mINFO[m] [1m------------------------------------------------------------------------[m\n[[1;31mERROR[m] Failed to execute goal [32morg.gaul:modernizer-maven-plugin:2.4.0:modernizer[m [1m(modernizer)[m on project [36mbuyyinn[m: [1;31mExecution modernizer of goal org.gaul:modernizer-maven-plugin:2.4.0:modernizer failed: A required class was missing while executing org.gaul:modernizer-maven-plugin:2.4.0:modernizer: org/codehaus/plexus/util/StringUtils[m\n[[1;31mERROR[m] [1;31m-----------------------------------------------------[m\n[[1;31mERROR[m] [1;31mrealm =    plugin&gt;org.gaul:modernizer-maven-plugin:2.4.0[m\n[[1;31mERROR[m] [1;31mstrategy = org.codehaus.plexus.classworlds.strategy.SelfFirstStrategy[m\n[[1;31mERROR[m] [1;31murls[0] = file:/C:/Users/sanal/.m2/repository/org/gaul/modernizer-maven-plugin/2.4.0/modernizer-maven-plugin-2.4.0.jar[m\n[[1;31mERROR[m] [1;31murls[1] = file:/C:/Users/sanal/.m2/repository/backport-util-concurrent/backport-util-concurrent/3.1/backport-util-concurrent-3.1.jar[m\n[[1;31mERROR[m] [1;31murls[2] = file:/C:/Users/sanal/.m2/repository/org/codehaus/plexus/plexus-interpolation/1.11/plexus-interpolation-1.11.jar[m\n[[1;31mERROR[m] [1;31murls[3] = file:/C:/Users/sanal/.m2/repository/junit/junit/3.8.1/junit-3.8.1.jar[m\n[[1;31mERROR[m] [1;31murls[4] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm/9.2/asm-9.2.jar[m\n[[1;31mERROR[m] [1;31murls[5] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-commons/9.2/asm-commons-9.2.jar[m\n[[1;31mERROR[m] [1;31murls[6] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-tree/9.2/asm-tree-9.2.jar[m\n[[1;31mERROR[m] [1;31murls[7] = file:/C:/Users/sanal/.m2/repository/org/ow2/asm/asm-analysis/9.2/asm-analysis-9.2.jar[m\n[[1;31mERROR[m] [1;31murls[8] = file:/C:/Users/sanal/.m2/repository/org/gaul/modernizer-maven-annotations/2.4.0/modernizer-maven-annotations-2.4.0.jar[m\n[[1;31mERROR[m] [1;31mNumber of foreign imports: 1[m\n[[1;31mERROR[m] [1;31mimport: Entry[import  from realm ClassRealm[maven.api, parent: null]][m\n[[1;31mERROR[m] [1;31m[m\n[[1;31mERROR[m] [1;31m-----------------------------------------------------[m\n[[1;31mERROR[m] [1;31m[m: org.codehaus.plexus.util.StringUtils\n[[1;31mERROR[m] -&gt; [1m[Help 1]\n</code></pre>\n<p>The Jhipster version i am using is 7.9.3</p>\n<p>I am not abell to understand this issue. Can anyone help?</p>\n"},{"tags":["java","netbeans","javadoc"],"answers":[{"tags":[],"owner":{"account_id":3576533,"reputation":16716,"user_id":2985643,"accept_rate":40,"display_name":"skomisa"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1526930748,"creation_date":1526930748,"answer_id":50455427,"question_id":50436273,"body_markdown":"- Select your project in the **Projects** tab, right click and select **Properties** from the menu.\r\n- Select **Build &gt; Documenting** from the list of **Categories**.\r\n- Enter the title in the **Browser Window Title** field and click **OK**. (Note that you can further customize the Javadoc output in the **Additional Javadoc Options** field.)\r\n\r\n[![windowTitle1][1]][1]\r\n\r\n- Select your project in the **Projects** tab, right click and select **Generate Javadoc** from the menu.\r\n- The title you provided will appear on the browser tab. It will be prefixed by the name of the project but I don&#39;t know how to prevent that.\r\n \r\n[![windowTitle2][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/vkREe.png\r\n  [2]: https://i.stack.imgur.com/QMDue.png","title":"How do I set the -windowtitle parameter when generating javadoc in NetBeans?","body":"<ul>\n<li>Select your project in the <strong>Projects</strong> tab, right click and select <strong>Properties</strong> from the menu.</li>\n<li>Select <strong>Build > Documenting</strong> from the list of <strong>Categories</strong>.</li>\n<li>Enter the title in the <strong>Browser Window Title</strong> field and click <strong>OK</strong>. (Note that you can further customize the Javadoc output in the <strong>Additional Javadoc Options</strong> field.)</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/vkREe.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vkREe.png\" alt=\"windowTitle1\"></a></p>\n\n<ul>\n<li>Select your project in the <strong>Projects</strong> tab, right click and select <strong>Generate Javadoc</strong> from the menu.</li>\n<li>The title you provided will appear on the browser tab. It will be prefixed by the name of the project but I don't know how to prevent that.</li>\n</ul>\n\n<p><a href=\"https://i.stack.imgur.com/QMDue.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/QMDue.png\" alt=\"windowTitle2\"></a></p>\n"},{"tags":[],"owner":{"account_id":2989348,"reputation":85,"user_id":12927325,"display_name":"3rdRockSoftware"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690802540,"creation_date":1690802540,"answer_id":76803136,"question_id":50436273,"body_markdown":"This worked perfectly for me although, just to note, I didn&#39;t get the prefix, just the name that I typed in the Browser Window Title box. I&#39;m using NB 8.2 in windows 10 and Chrome browser.\r\n\r\nThese are the settings:\r\n\r\n[![netbeans browser window title settings][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/G6OvC.png","title":"How do I set the -windowtitle parameter when generating javadoc in NetBeans?","body":"<p>This worked perfectly for me although, just to note, I didn't get the prefix, just the name that I typed in the Browser Window Title box. I'm using NB 8.2 in windows 10 and Chrome browser.</p>\n<p>These are the settings:</p>\n<p><a href=\"https://i.stack.imgur.com/G6OvC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/G6OvC.png\" alt=\"netbeans browser window title settings\" /></a></p>\n"}],"owner":{"account_id":11797572,"reputation":19,"user_id":8631986,"display_name":"BBloggsbott"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1951,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690802540,"creation_date":1526829248,"question_id":50436273,"body_markdown":"I want to add the -windowtitle parameter when generating the javadoc.","title":"How do I set the -windowtitle parameter when generating javadoc in NetBeans?","body":"<p>I want to add the -windowtitle parameter when generating the javadoc.</p>\n"},{"tags":["java","json","serialization","fasterxml"],"comments":[{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690802529,"post_id":76803111,"comment_id":135398996,"body_markdown":"So it looks like your `answers` field doesn&#39;t contain &quot;mutliple values&quot;, it contains an actual JSON string. Jackson is already handling it correctly: JSON strings should be escaped. Now, if you want to include your &quot;answers&quot; in the JSON object instead of as a JSON-string inside another JSON object, you should change your `Survey` class to contain `Answer` objects, instead of a String.","body":"So it looks like your <code>answers</code> field doesn&#39;t contain &quot;mutliple values&quot;, it contains an actual JSON string. Jackson is already handling it correctly: JSON strings should be escaped. Now, if you want to include your &quot;answers&quot; in the JSON object instead of as a JSON-string inside another JSON object, you should change your <code>Survey</code> class to contain <code>Answer</code> objects, instead of a String."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690803119,"post_id":76803111,"comment_id":135399114,"body_markdown":"Or, if you insist on using `JsonRawValue`, just make sure that you subsitute &quot;{}&quot; for the empty string. But then you&#39;re just working around Jackson, which is probably not what you want.","body":"Or, if you insist on using <code>JsonRawValue</code>, just make sure that you subsitute &quot;{}&quot; for the empty string. But then you&#39;re just working around Jackson, which is probably not what you want."},{"owner":{"account_id":1314155,"reputation":545,"user_id":1261464,"accept_rate":67,"display_name":"rekotc"},"score":0,"creation_date":1690805909,"post_id":76803111,"comment_id":135399680,"body_markdown":"you are right, I should create an Answer object. But the problem is that the content of &quot;answers&quot; can change, I cannot define its fields in advance.","body":"you are right, I should create an Answer object. But the problem is that the content of &quot;answers&quot; can change, I cannot define its fields in advance."},{"owner":{"account_id":5404,"reputation":22089,"user_id":8681,"accept_rate":67,"display_name":"Jorn"},"score":1,"creation_date":1690805973,"post_id":76803111,"comment_id":135399700,"body_markdown":"Assuming there are a finite number of possible answer types, Jackson has ways to handle that. You should look into `@JsonTypeInfo` and `@JsonSubTypes`.","body":"Assuming there are a finite number of possible answer types, Jackson has ways to handle that. You should look into <code>@JsonTypeInfo</code> and <code>@JsonSubTypes</code>."},{"owner":{"account_id":1314155,"reputation":545,"user_id":1261464,"accept_rate":67,"display_name":"rekotc"},"score":0,"creation_date":1690805998,"post_id":76803111,"comment_id":135399705,"body_markdown":"Thanks, I&#39;ll look into it and hopefully post my solution.","body":"Thanks, I&#39;ll look into it and hopefully post my solution."}],"owner":{"account_id":1314155,"reputation":545,"user_id":1261464,"accept_rate":67,"display_name":"rekotc"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":15,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690802342,"creation_date":1690802342,"question_id":76803111,"body_markdown":"I&#39;m using fasterxml&#39;s ObjectMapper to serialize a java object and I&#39;m having a problem with one of the fields.\r\n\r\nSurvey.java\r\n\r\n    public class Survey {\r\n\r\n      private String id;\r\n      private String answers;\r\n\r\n      //getter and setter\r\n    }\r\n\r\nThis is the serialization code:\r\n\r\n\tObjectMapper om = new ObjectMapper();\t\t\t\t\t\r\n\tObjectWriter ow = om.writer().withDefaultPrettyPrinter();\t\t\t\r\n\tString json = ow.writeValueAsString(taskScheme.getSurvey());\r\n\r\nthe problem is that &quot;answers&quot; contains multiple values, and the serialization process escapes all the double quotes, like so:\r\n\r\n    &quot;answers&quot; : {&quot;question3&quot;:[&quot;Item4&quot;]} -&gt; &quot;answers&quot; : &quot;{\\&quot;question3\\&quot;:[\\&quot;Item4\\&quot;]}&quot;\r\n\r\nIn order to avoid this situation, I added the annotation @JsonRawValue to the &quot;answers&quot; field. It solved my problem but created a new one, because now whenever &quot;answers&quot; contains an empty string, the resulting serialization becomes:\r\n\r\n    &quot;answers&quot; : &quot;&quot; -&gt; &quot;answers&quot; :\r\n\r\nwhich is not even a valid JSON output...\r\n\r\nHow do I fix this problem?\r\n\r\nThanks in advance. \r\n\r\n","title":"How to configure fasterxml&#39;s objectMapper to handle empty string &quot;&quot; correctly","body":"<p>I'm using fasterxml's ObjectMapper to serialize a java object and I'm having a problem with one of the fields.</p>\n<p>Survey.java</p>\n<pre><code>public class Survey {\n\n  private String id;\n  private String answers;\n\n  //getter and setter\n}\n</code></pre>\n<p>This is the serialization code:</p>\n<pre><code>ObjectMapper om = new ObjectMapper();                   \nObjectWriter ow = om.writer().withDefaultPrettyPrinter();           \nString json = ow.writeValueAsString(taskScheme.getSurvey());\n</code></pre>\n<p>the problem is that &quot;answers&quot; contains multiple values, and the serialization process escapes all the double quotes, like so:</p>\n<pre><code>&quot;answers&quot; : {&quot;question3&quot;:[&quot;Item4&quot;]} -&gt; &quot;answers&quot; : &quot;{\\&quot;question3\\&quot;:[\\&quot;Item4\\&quot;]}&quot;\n</code></pre>\n<p>In order to avoid this situation, I added the annotation @JsonRawValue to the &quot;answers&quot; field. It solved my problem but created a new one, because now whenever &quot;answers&quot; contains an empty string, the resulting serialization becomes:</p>\n<pre><code>&quot;answers&quot; : &quot;&quot; -&gt; &quot;answers&quot; :\n</code></pre>\n<p>which is not even a valid JSON output...</p>\n<p>How do I fix this problem?</p>\n<p>Thanks in advance.</p>\n"},{"tags":["java","servlets","cookies"],"answers":[{"tags":[],"owner":{"account_id":52822,"reputation":1088970,"user_id":157882,"accept_rate":93,"display_name":"BalusC"},"down_vote_count":0,"up_vote_count":22,"is_accepted":true,"score":22,"last_activity_date":1690802285,"creation_date":1351093204,"answer_id":13052640,"question_id":13052565,"body_markdown":"You need [`addHeader()`][1] instead of [`setHeader()`][2]. The former *adds* a header while the latter *sets* (and thus overrides any old one) a header.\r\n```java\r\nresponse.addHeader(&quot;Set-Cookie&quot;, cookieString1);\r\nresponse.addHeader(&quot;Set-Cookie&quot;, cookieString2);\r\n```\r\n\r\nThe proper way, however, is to use [`setMaxAge()`][3] method of the `Cookie` class (which takes the expire time in seconds) and use [`addCookie()`][4] the usual way.\r\n```java\r\npublic static final int TWO_WEEKS_IN_SECONDS = (int) TimeUnit.DAYS.toSeconds(14);\r\n\r\n// ...\r\n\r\nCookie cookie1 = new Cookie(&quot;1&quot;,&quot;1&quot;);\r\ncookie1.setMaxAge(TWO_WEEKS_IN_SECONDS);\r\nresponse.addCookie(cookie1);\r\n\r\nCookie cookie2 = new Cookie(&quot;2&quot;,&quot;2&quot;);\r\ncookie2.setMaxAge(TWO_WEEKS_IN_SECONDS);\r\nresponse.addCookie(cookie2);\r\n```\r\n\r\n  [1]: https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#addHeader(java.lang.String,java.lang.String)\r\n  [2]: https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#setHeader(java.lang.String,java.lang.String)\r\n  [3]: https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/cookie#setMaxAge(int)\r\n  [4]: https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#addCookie(jakarta.servlet.http.Cookie)\r\n","title":"Setting several cookies in same response","body":"<p>You need <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#addHeader(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>addHeader()</code></a> instead of <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#setHeader(java.lang.String,java.lang.String)\" rel=\"nofollow noreferrer\"><code>setHeader()</code></a>. The former <em>adds</em> a header while the latter <em>sets</em> (and thus overrides any old one) a header.</p>\n<pre class=\"lang-java prettyprint-override\"><code>response.addHeader(&quot;Set-Cookie&quot;, cookieString1);\nresponse.addHeader(&quot;Set-Cookie&quot;, cookieString2);\n</code></pre>\n<p>The proper way, however, is to use <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/cookie#setMaxAge(int)\" rel=\"nofollow noreferrer\"><code>setMaxAge()</code></a> method of the <code>Cookie</code> class (which takes the expire time in seconds) and use <a href=\"https://jakarta.ee/specifications/servlet/6.0/apidocs/jakarta.servlet/jakarta/servlet/http/httpservletresponse#addCookie(jakarta.servlet.http.Cookie)\" rel=\"nofollow noreferrer\"><code>addCookie()</code></a> the usual way.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public static final int TWO_WEEKS_IN_SECONDS = (int) TimeUnit.DAYS.toSeconds(14);\n\n// ...\n\nCookie cookie1 = new Cookie(&quot;1&quot;,&quot;1&quot;);\ncookie1.setMaxAge(TWO_WEEKS_IN_SECONDS);\nresponse.addCookie(cookie1);\n\nCookie cookie2 = new Cookie(&quot;2&quot;,&quot;2&quot;);\ncookie2.setMaxAge(TWO_WEEKS_IN_SECONDS);\nresponse.addCookie(cookie2);\n</code></pre>\n"}],"owner":{"account_id":28095,"reputation":169,"user_id":74682,"accept_rate":100,"display_name":"Duveit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":24070,"favorite_count":0,"down_vote_count":0,"up_vote_count":9,"accepted_answer_id":13052640,"answer_count":1,"score":9,"last_activity_date":1690802285,"creation_date":1351092932,"question_id":13052565,"body_markdown":"I need to create several **persistent** cookies in one response.\r\n\r\nDoing it like \r\n\r\n    response.addCookie(new Cookie(&quot;1&quot;,&quot;1&quot;));\r\n    response.addCookie(new Cookie(&quot;2&quot;,&quot;2&quot;));\r\n\r\nwould create a response with 2 &quot;Set-Cookie&quot; headers. But they wouldn&#39;t be persistent. \r\nI need &quot;expires&quot; date for that. \r\n\r\n    expires=Wed, 07-Nov-2012 14:52:08 GMT\r\n\r\nSeeing how javax.servlet.http.Cookie doesn&#39;t support &quot;expires&quot;, I&#39;ve previously used\r\n\r\n    String cookieString=&quot;cookieName=content;Path=/;expires=Wed, 07-Nov-2012 14:52:08 GMT;&quot;\r\n    response.setHeader(&quot;Set-Cookie&quot;, cookieString);\r\n\r\nWhich works like a charm, but using response.setHeader(&quot;Set-Cookie&quot;,newCookie) a second time, would overwrite the first one.\r\n\r\nSo, the question is if there any way to add several identical named headers to the response? \r\nOr if there is any other correct way of doing this? \r\n\r\nI&#39;ve seen suggestions using comma separated cookies, but my experience is that only the first cookie gets read by the browser.","title":"Setting several cookies in same response","body":"<p>I need to create several <strong>persistent</strong> cookies in one response.</p>\n\n<p>Doing it like </p>\n\n<pre><code>response.addCookie(new Cookie(\"1\",\"1\"));\nresponse.addCookie(new Cookie(\"2\",\"2\"));\n</code></pre>\n\n<p>would create a response with 2 \"Set-Cookie\" headers. But they wouldn't be persistent. \nI need \"expires\" date for that. </p>\n\n<pre><code>expires=Wed, 07-Nov-2012 14:52:08 GMT\n</code></pre>\n\n<p>Seeing how javax.servlet.http.Cookie doesn't support \"expires\", I've previously used</p>\n\n<pre><code>String cookieString=\"cookieName=content;Path=/;expires=Wed, 07-Nov-2012 14:52:08 GMT;\"\nresponse.setHeader(\"Set-Cookie\", cookieString);\n</code></pre>\n\n<p>Which works like a charm, but using response.setHeader(\"Set-Cookie\",newCookie) a second time, would overwrite the first one.</p>\n\n<p>So, the question is if there any way to add several identical named headers to the response? \nOr if there is any other correct way of doing this? </p>\n\n<p>I've seen suggestions using comma separated cookies, but my experience is that only the first cookie gets read by the browser.</p>\n"},{"tags":["java","testng","spring-boot-test","cucumber-java","spring-framework-beans"],"comments":[{"owner":{"account_id":4895787,"reputation":10833,"user_id":3945473,"display_name":"M.P. Korstanje"},"score":0,"creation_date":1690844411,"post_id":76803054,"comment_id":135406852,"body_markdown":"It&#39;s not a Cucumber problem. If you create a JUnit test with the same context configuration as your current `SpringIntegrationAPITest` it won&#39;t work either. So you have a problem somewhere else. But impossible to say where. Do follow and pay attention to the minimal in https://stackoverflow.com/help/minimal-reproducible-example","body":"It&#39;s not a Cucumber problem. If you create a JUnit test with the same context configuration as your current <code>SpringIntegrationAPITest</code> it won&#39;t work either. So you have a problem somewhere else. But impossible to say where. Do follow and pay attention to the minimal in <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">stackoverflow.com/help/minimal-reproducible-example</a>"}],"owner":{"account_id":26815196,"reputation":1,"user_id":20405240,"display_name":"Sandile Mnqayi Nih"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":224,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690802007,"creation_date":1690802007,"question_id":76803054,"body_markdown":"I am setting up integration tests using Cucumber and Spring, the tests are failing to run because of the unsatisfied dependency expressed through the field &#39;policiesRepository&#39;. I have added the PoliciesRepository.class in my @SpringBootTest annotation in the &quot;SpringIntegrationTest.class&quot; config class.\r\n\r\n\r\n**My SpringIntegrationTest.class:**\r\n\r\n```\r\npackage net.foursure.platform.api.sil.steps;\r\n\r\nimport io.cucumber.spring.CucumberContextConfiguration;\r\nimport org.junit.Before;\r\nimport org.springframework.boot.test.context.SpringBootTest;\r\nimport org.springframework.context.annotation.ComponentScan;\r\n\r\n@CucumberContextConfiguration\r\n@SpringBootTest(classes = {com.maven.sim.repository.PoliciesRepository.class})\r\n@ComponentScan(basePackages = {&quot;com.maven.sim&quot;, &quot;net.foursure.platform&quot;})\r\npublic class SpringIntegrationAPITest {\r\n\r\n    @Before\r\n    public void setUp() {\r\n        System.out.printf(&quot;-------------- Spring Context Initialized For Executing Cucumber Tests --------------&quot;);\r\n    }\r\n}\r\n```\r\n\r\n**My cucumber test nunner:**\r\n\r\n```\r\npackage net.foursure.platform.ui.sil.runner;\r\n\r\nimport io.cucumber.java.After;\r\nimport io.cucumber.java.Before;\r\nimport io.cucumber.java.Scenario;\r\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\r\nimport io.cucumber.testng.CucumberOptions;\r\nimport net.foursure.platform.ui.sil.utils.Utils;\r\nimport org.openqa.selenium.TakesScreenshot;\r\nimport org.springframework.test.context.ContextConfiguration;\r\nimport org.testng.annotations.DataProvider;\r\n\r\n@CucumberOptions(\r\n        features = &quot;src/test/java/resources/features/ui/SIL&quot;,\r\n        snippets= CucumberOptions.SnippetType.CAMELCASE,\r\n        glue={&quot;net.foursure.platform.ui.sil.steps&quot;, &quot;net.foursure.platform.ui.sil.hooks&quot;, &quot;net.foursure.platform.api.sil.steps&quot;,&quot;com.maven.sim.repository&quot;},\r\n        publish = false,\r\n        plugin = { &quot;pretty&quot;,&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot; }\r\n)\r\npublic class TestRunner extends AbstractTestNGCucumberTests {\r\n\r\n    @Override\r\n    @DataProvider\r\n    public Object[][] scenarios() {\r\n        return super.scenarios();\r\n    }\r\n\r\n}\r\n```\r\n\r\n**My repository Interface:**\r\n\r\n\r\n```\r\npackage com.maven.sim.repository;\r\n\r\nimport com.maven.sim.entities.claims.Policies;\r\nimport org.springframework.context.annotation.Bean;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\nimport java.util.Optional;\r\n\r\n@Repository\r\npublic interface PoliciesRepository extends JpaRepository&lt;Policies, Integer&gt; {\r\n  \r\n  Optional&lt;Policies&gt; findById(Integer id);\r\n\r\n}\r\n```\r\n\r\nMy understanding is that this is all the necessary configuration for Cucumber and Spring integration, however when I run the runner I get the exception that policiesRepository is an unsatisfied dependency. Kindly assist.\r\n\r\n\r\nThe Exception:\r\n\r\n```\r\nScenario: Get the list of policy numbers                    # src/test/java/resources/features/ui/SIL/CreateSilClaim_UI.feature:3\r\n  * Get policies for partner &quot;SIL_DEV&quot; using &quot;get_policies&quot; # net.foursure.platform.api.sil.steps.MyStepdefs.getPoliciesForPartnerUsing(java.lang.String,java.lang.String)\r\n      io.cucumber.core.exception.CucumberException: Could not invoke step [Get policies for partner {string} using {string}] defined at &#39;net.foursure.platform.api.sil.steps.MyStepdefs.getPoliciesForPartnerUsing(java.lang.String,java.lang.String)&#39;.\r\nIt appears there was a problem with the step definition.\r\nThe converted arguments types were (java.lang.String, java.lang.String)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.couldNotInvokeStep(PickleStepDefinitionMatch.java:130)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:65)\r\n\tat io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\r\n\tat io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\r\n\tat io.cucumber.core.runner.TestStep.run(TestStep.java:56)\r\n...\r\n\r\n```\r\n\r\n```\r\nCaused by: io.cucumber.core.backend.CucumberBackendException: Error creating bean with name &#39;net.foursure.platform.api.sil.steps.MyStepdefs&#39;: Unsatisfied dependency expressed through field &#39;policiesRepository&#39;: No qualifying bean of type &#39;com.maven.sim.repository.PoliciesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat io.cucumber.spring.SpringFactory.getInstance(SpringFactory.java:137)\r\n\tat io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\r\n\tat io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\r\n\tat io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\r\n\tat io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\r\n\t... 37 more\r\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;net.foursure.platform.api.sil.steps.MyStepdefs&#39;: Unsatisfied dependency expressed through field &#39;policiesRepository&#39;: No qualifying bean of type &#39;com.maven.sim.repository.PoliciesRepository&#39; available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:714)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:694)\r\n\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)\r\n\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483)\r\n\r\n```\r\n\r\n\r\nYour help is most welcome and much appreciated.\r\n\r\n\r\nThanks in advance,\r\nSandile\r\n","title":"Spring bean is not visible to cucumber spring test context","body":"<p>I am setting up integration tests using Cucumber and Spring, the tests are failing to run because of the unsatisfied dependency expressed through the field 'policiesRepository'. I have added the PoliciesRepository.class in my @SpringBootTest annotation in the &quot;SpringIntegrationTest.class&quot; config class.</p>\n<p><strong>My SpringIntegrationTest.class:</strong></p>\n<pre><code>package net.foursure.platform.api.sil.steps;\n\nimport io.cucumber.spring.CucumberContextConfiguration;\nimport org.junit.Before;\nimport org.springframework.boot.test.context.SpringBootTest;\nimport org.springframework.context.annotation.ComponentScan;\n\n@CucumberContextConfiguration\n@SpringBootTest(classes = {com.maven.sim.repository.PoliciesRepository.class})\n@ComponentScan(basePackages = {&quot;com.maven.sim&quot;, &quot;net.foursure.platform&quot;})\npublic class SpringIntegrationAPITest {\n\n    @Before\n    public void setUp() {\n        System.out.printf(&quot;-------------- Spring Context Initialized For Executing Cucumber Tests --------------&quot;);\n    }\n}\n</code></pre>\n<p><strong>My cucumber test nunner:</strong></p>\n<pre><code>package net.foursure.platform.ui.sil.runner;\n\nimport io.cucumber.java.After;\nimport io.cucumber.java.Before;\nimport io.cucumber.java.Scenario;\nimport io.cucumber.testng.AbstractTestNGCucumberTests;\nimport io.cucumber.testng.CucumberOptions;\nimport net.foursure.platform.ui.sil.utils.Utils;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.springframework.test.context.ContextConfiguration;\nimport org.testng.annotations.DataProvider;\n\n@CucumberOptions(\n        features = &quot;src/test/java/resources/features/ui/SIL&quot;,\n        snippets= CucumberOptions.SnippetType.CAMELCASE,\n        glue={&quot;net.foursure.platform.ui.sil.steps&quot;, &quot;net.foursure.platform.ui.sil.hooks&quot;, &quot;net.foursure.platform.api.sil.steps&quot;,&quot;com.maven.sim.repository&quot;},\n        publish = false,\n        plugin = { &quot;pretty&quot;,&quot;com.aventstack.extentreports.cucumber.adapter.ExtentCucumberAdapter:&quot; }\n)\npublic class TestRunner extends AbstractTestNGCucumberTests {\n\n    @Override\n    @DataProvider\n    public Object[][] scenarios() {\n        return super.scenarios();\n    }\n\n}\n</code></pre>\n<p><strong>My repository Interface:</strong></p>\n<pre><code>package com.maven.sim.repository;\n\nimport com.maven.sim.entities.claims.Policies;\nimport org.springframework.context.annotation.Bean;\nimport org.springframework.data.jpa.repository.JpaRepository;\nimport org.springframework.stereotype.Repository;\n\nimport java.util.Optional;\n\n@Repository\npublic interface PoliciesRepository extends JpaRepository&lt;Policies, Integer&gt; {\n  \n  Optional&lt;Policies&gt; findById(Integer id);\n\n}\n</code></pre>\n<p>My understanding is that this is all the necessary configuration for Cucumber and Spring integration, however when I run the runner I get the exception that policiesRepository is an unsatisfied dependency. Kindly assist.</p>\n<p>The Exception:</p>\n<pre><code>Scenario: Get the list of policy numbers                    # src/test/java/resources/features/ui/SIL/CreateSilClaim_UI.feature:3\n  * Get policies for partner &quot;SIL_DEV&quot; using &quot;get_policies&quot; # net.foursure.platform.api.sil.steps.MyStepdefs.getPoliciesForPartnerUsing(java.lang.String,java.lang.String)\n      io.cucumber.core.exception.CucumberException: Could not invoke step [Get policies for partner {string} using {string}] defined at 'net.foursure.platform.api.sil.steps.MyStepdefs.getPoliciesForPartnerUsing(java.lang.String,java.lang.String)'.\nIt appears there was a problem with the step definition.\nThe converted arguments types were (java.lang.String, java.lang.String)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.couldNotInvokeStep(PickleStepDefinitionMatch.java:130)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:65)\n    at io.cucumber.core.runner.ExecutionMode$1.execute(ExecutionMode.java:10)\n    at io.cucumber.core.runner.TestStep.executeStep(TestStep.java:84)\n    at io.cucumber.core.runner.TestStep.run(TestStep.java:56)\n...\n\n</code></pre>\n<pre><code>Caused by: io.cucumber.core.backend.CucumberBackendException: Error creating bean with name 'net.foursure.platform.api.sil.steps.MyStepdefs': Unsatisfied dependency expressed through field 'policiesRepository': No qualifying bean of type 'com.maven.sim.repository.PoliciesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at io.cucumber.spring.SpringFactory.getInstance(SpringFactory.java:137)\n    at io.cucumber.java.AbstractGlueDefinition.invokeMethod(AbstractGlueDefinition.java:47)\n    at io.cucumber.java.JavaStepDefinition.execute(JavaStepDefinition.java:29)\n    at io.cucumber.core.runner.CoreStepDefinition.execute(CoreStepDefinition.java:66)\n    at io.cucumber.core.runner.PickleStepDefinitionMatch.runStep(PickleStepDefinitionMatch.java:63)\n    ... 37 more\nCaused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'net.foursure.platform.api.sil.steps.MyStepdefs': Unsatisfied dependency expressed through field 'policiesRepository': No qualifying bean of type 'com.maven.sim.repository.PoliciesRepository' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {@org.springframework.beans.factory.annotation.Autowired(required=true)}\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:714)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:694)\n    at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:145)\n    at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:483)\n\n</code></pre>\n<p>Your help is most welcome and much appreciated.</p>\n<p>Thanks in advance,\nSandile</p>\n"},{"tags":["java","spring","vue.js","tomcat","configuration"],"answers":[{"tags":[],"owner":{"account_id":19903507,"reputation":37,"user_id":14583044,"display_name":"Alpug Parker"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1645119009,"creation_date":1645024186,"answer_id":71144359,"question_id":71144281,"body_markdown":"I have found a solution and am posting here in case anyone else has the same issue.\r\n\r\nMy key names within the property object (in my ```myapp.properties``` file) seem to be causing an issue when parsing occurs.\r\nI have found this is down to the hyphens (-) used in the key names.\r\n\r\nTo fix this simply change similar values from this -\r\n\r\n```myProp={a-special-key:&#39;true&#39;}```\r\n\r\nto this -\r\n\r\n```myProp={aSpecialKey:&#39;true&#39;}```\r\n\r\nThis fixed the issue after a &#39;Clean and Build&#39; and &#39;Run&#39; as the new value was then picked up from the file.","title":"Property or field cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39;","body":"<p>I have found a solution and am posting here in case anyone else has the same issue.</p>\n<p>My key names within the property object (in my <code>myapp.properties</code> file) seem to be causing an issue when parsing occurs.\nI have found this is down to the hyphens (-) used in the key names.</p>\n<p>To fix this simply change similar values from this -</p>\n<p><code>myProp={a-special-key:'true'}</code></p>\n<p>to this -</p>\n<p><code>myProp={aSpecialKey:'true'}</code></p>\n<p>This fixed the issue after a 'Clean and Build' and 'Run' as the new value was then picked up from the file.</p>\n"},{"tags":[],"owner":{"account_id":4538257,"reputation":31,"user_id":3686851,"display_name":"Mr. Jones"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690801961,"creation_date":1690801961,"answer_id":76803044,"question_id":71144281,"body_markdown":"I&#39;ve found another solution which still allows having dash and other characters as part of the map keys, by setting the application properties as following:\r\n\r\n    myProp={&#39;a-special-key&#39;:&#39;value&#39;}","title":"Property or field cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39;","body":"<p>I've found another solution which still allows having dash and other characters as part of the map keys, by setting the application properties as following:</p>\n<pre><code>myProp={'a-special-key':'value'}\n</code></pre>\n"}],"owner":{"account_id":19903507,"reputation":37,"user_id":14583044,"display_name":"Alpug Parker"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5762,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":71144359,"answer_count":2,"score":0,"last_activity_date":1690801961,"creation_date":1645023889,"question_id":71144281,"body_markdown":"This error has started appearing when I use the ```@Value``` annotation on my ```private Map&lt;String, String&gt; properties```.\r\nIn the **myapp.properties** file I have a few values set that I want to be able to access via my java API so that the frontend (Vue.js 2) can be responsive to the server it is being hosted from.\r\nMy issue began when I started trying to set one property to an object of key:value pairs. This is what my property looked like in the myapp.properties file.\r\n\r\n``` myProp={a-special-key:&#39;true&#39;} ```\r\n\r\nThis resulted in my controller class (which has all business logic self-contained) to fail on init while trying to obtain values due to the ```@Value(&quot;#{${myProp}}&quot;)```.\r\nAny idea why this error is being thrown? Error below -\r\n\r\n```\r\norg.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name &#39;myappController&#39;: Unsatisfied dependency expressed through field &#39;properties&#39;; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;a&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\r\n\t\tat org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)\r\n\t\tat org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\r\n\t\tat org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\r\n\t\tat org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\r\n\t\tat org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\r\n\t\tat org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\r\n\t\tat org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\r\n\t\tat org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766)\r\n\t\tat org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\r\n\t\tat org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:728)\r\n\t\tat org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:700)\r\n\t\tat org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\r\n\t\tat org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\r\n\t\tat org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n\t\tat java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\r\n\t\tat java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n\t\tat java.base/java.lang.reflect.Method.invoke(Method.java:567)\r\n\t\tat org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\r\n\t\tat java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\r\n\t\tat java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\r\n\t\tat org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\r\n\t\tat javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\t\tat org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\t\tat org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\r\n\t\tat org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\r\n\t\tat org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\r\n\t\tat org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\r\n\t\tat org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:667)\r\n\t\tat org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\r\n\t\tat org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\r\n\t\tat org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\r\n\t\tat org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\r\n\t\tat org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\r\n\t\tat org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\r\n\t\tat org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\r\n\t\tat org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\r\n\t\tat org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\r\n\t\tat org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\r\n\t\tat java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\r\n\t\tat org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\r\n\t\tat java.base/java.lang.Thread.run(Thread.java:831)\r\n\tCaused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;a&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\t\tat org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:169)\r\n\t\tat org.springframework.beans.factory.support.AbstractBeanFactory.evaluateBeanDefinitionString(AbstractBeanFactory.java:1631)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1324)\r\n\t\tat org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\r\n\t\tat org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\r\n\t\t... 62 more\r\n\tCaused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field &#39;a&#39; cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39; - maybe not public or not valid?\r\n\t\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)\r\n\t\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\r\n\t\tat org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:91)\r\n\t\tat org.springframework.expression.spel.ast.OpMinus.getValueInternal(OpMinus.java:98)\r\n\t\tat org.springframework.expression.spel.ast.OpMinus.getValueInternal(OpMinus.java:98)\r\n\t\tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\r\n\t\tat org.springframework.expression.spel.ast.InlineMap.getValueInternal(InlineMap.java:128)\r\n\t\tat org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\r\n\t\tat org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:272)\r\n\t\tat org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:166)\r\n\t\t... 66 more\r\n```\r\n\r\nI received this warning about 10 times in a row at any given time.\r\nIt always happened for both doing a &#39;Clean and Build&#39; of the project, and on deploying via &#39;Run&#39;.\r\n\r\nAny ideas as to why this may be happening?\r\n\r\nThis is all in NetBeans 12.4 IDE.","title":"Property or field cannot be found on object of type &#39;org.springframework.beans.factory.config.BeanExpressionContext&#39;","body":"<p>This error has started appearing when I use the <code>@Value</code> annotation on my <code>private Map&lt;String, String&gt; properties</code>.\nIn the <strong>myapp.properties</strong> file I have a few values set that I want to be able to access via my java API so that the frontend (Vue.js 2) can be responsive to the server it is being hosted from.\nMy issue began when I started trying to set one property to an object of key:value pairs. This is what my property looked like in the myapp.properties file.</p>\n<p><code>myProp={a-special-key:'true'}</code></p>\n<p>This resulted in my controller class (which has all business logic self-contained) to fail on init while trying to obtain values due to the <code>@Value(&quot;#{${myProp}}&quot;)</code>.\nAny idea why this error is being thrown? Error below -</p>\n<pre><code>org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'myappController': Unsatisfied dependency expressed through field 'properties'; nested exception is org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'a' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:660)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:640)\n        at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:119)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessProperties(AutowiredAnnotationBeanPostProcessor.java:399)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1413)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:601)\n        at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:524)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)\n        at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:944)\n        at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:918)\n        at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:583)\n        at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:401)\n        at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:292)\n        at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:103)\n        at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4766)\n        at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5230)\n        at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:183)\n        at org.apache.catalina.core.ContainerBase.addChildInternal(ContainerBase.java:728)\n        at org.apache.catalina.core.ContainerBase.addChild(ContainerBase.java:700)\n        at org.apache.catalina.core.StandardHost.addChild(StandardHost.java:696)\n        at org.apache.catalina.startup.HostConfig.deployDescriptor(HostConfig.java:690)\n        at org.apache.catalina.startup.HostConfig.deployApps(HostConfig.java:538)\n        at org.apache.catalina.startup.HostConfig.check(HostConfig.java:1690)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:78)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:567)\n        at org.apache.tomcat.util.modeler.BaseModelMBean.invoke(BaseModelMBean.java:293)\n        at java.management/com.sun.jmx.interceptor.DefaultMBeanServerInterceptor.invoke(DefaultMBeanServerInterceptor.java:809)\n        at java.management/com.sun.jmx.mbeanserver.JmxMBeanServer.invoke(JmxMBeanServer.java:801)\n        at org.apache.catalina.manager.ManagerServlet.check(ManagerServlet.java:1614)\n        at org.apache.catalina.manager.ManagerServlet.deploy(ManagerServlet.java:1026)\n        at org.apache.catalina.manager.ManagerServlet.doGet(ManagerServlet.java:357)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:655)\n        at javax.servlet.http.HttpServlet.service(HttpServlet.java:764)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:228)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.apache.catalina.filters.HttpHeaderSecurityFilter.doFilter(HttpHeaderSecurityFilter.java:126)\n        at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:190)\n        at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:163)\n        at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)\n        at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)\n        at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:667)\n        at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)\n        at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)\n        at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:687)\n        at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)\n        at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:357)\n        at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:382)\n        at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)\n        at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:893)\n        at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1723)\n        at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)\n        at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)\n        at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:630)\n        at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)\n        at java.base/java.lang.Thread.run(Thread.java:831)\n    Caused by: org.springframework.beans.factory.BeanExpressionException: Expression parsing failed; nested exception is org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'a' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n        at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:169)\n        at org.springframework.beans.factory.support.AbstractBeanFactory.evaluateBeanDefinitionString(AbstractBeanFactory.java:1631)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1324)\n        at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1300)\n        at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.resolveFieldValue(AutowiredAnnotationBeanPostProcessor.java:657)\n        ... 62 more\n    Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1008E: Property or field 'a' cannot be found on object of type 'org.springframework.beans.factory.config.BeanExpressionContext' - maybe not public or not valid?\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:217)\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:104)\n        at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:91)\n        at org.springframework.expression.spel.ast.OpMinus.getValueInternal(OpMinus.java:98)\n        at org.springframework.expression.spel.ast.OpMinus.getValueInternal(OpMinus.java:98)\n        at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\n        at org.springframework.expression.spel.ast.InlineMap.getValueInternal(InlineMap.java:128)\n        at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:112)\n        at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:272)\n        at org.springframework.context.expression.StandardBeanExpressionResolver.evaluate(StandardBeanExpressionResolver.java:166)\n        ... 66 more\n</code></pre>\n<p>I received this warning about 10 times in a row at any given time.\nIt always happened for both doing a 'Clean and Build' of the project, and on deploying via 'Run'.</p>\n<p>Any ideas as to why this may be happening?</p>\n<p>This is all in NetBeans 12.4 IDE.</p>\n"},{"tags":["java","jenkins","kubernetes","load-balancing","nginx-ingress"],"comments":[{"owner":{"account_id":6127918,"reputation":717,"user_id":4779179,"accept_rate":57,"display_name":"digidhamu"},"score":0,"creation_date":1586795909,"post_id":60455410,"comment_id":108253103,"body_markdown":"Same error `port:50000 is not reachable`","body":"Same error <code>port:50000 is not reachable</code>"},{"owner":{"account_id":6990915,"reputation":1070,"user_id":5360233,"display_name":"np2807"},"score":1,"creation_date":1613655873,"post_id":60455410,"comment_id":117146273,"body_markdown":"Please see my answer with step by step instruction, I got the same problem, now agent is working for me.","body":"Please see my answer with step by step instruction, I got the same problem, now agent is working for me."}],"answers":[{"tags":[],"owner":{"account_id":13819684,"reputation":504,"user_id":9975453,"display_name":"10raw"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1588254823,"creation_date":1588254823,"answer_id":61525020,"question_id":60455410,"body_markdown":"looks like port 50000 is not open in the jenkins master. Try to open the port and restart the machine and instance ( i.e jenkins via url ) and see if it helps. ","title":"Jenkins kubernetes plugin: provided port:50000 is not reachable","body":"<p>looks like port 50000 is not open in the jenkins master. Try to open the port and restart the machine and instance ( i.e jenkins via url ) and see if it helps. </p>\n"},{"tags":[],"owner":{"account_id":6990915,"reputation":1070,"user_id":5360233,"display_name":"np2807"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1613646245,"creation_date":1613646245,"answer_id":66258672,"question_id":60455410,"body_markdown":"Might be because port 50000 is not open in the Jenkins master.\r\n\r\nYou can try to open the port by Creating Inbound rule in Jenkins Master&#39;s firewall which allows Port 50000 (coming from other machine in  this case Agent, hence Inbound rule).\r\nTry following steps:\r\n \r\n1. Go to Master Jenkins. \r\n2. Open Wiindows Defender Firewall--&gt; Advance setting --&gt; create Inbound Rule allow port 50000\r\n\r\n[![enter image description here][1]][1]\r\n\r\nNote: In 1 inbound rule you can allow more than one port as shown in below.\r\n\r\n3. Restart master Jenkins service. \r\n\r\n4. Check if (step is valid only if you have created windows service on agent) agent service is running continuously.\r\n\r\nCheck Agent status in Jenkins ! \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/gOddr.png","title":"Jenkins kubernetes plugin: provided port:50000 is not reachable","body":"<p>Might be because port 50000 is not open in the Jenkins master.</p>\n<p>You can try to open the port by Creating Inbound rule in Jenkins Master's firewall which allows Port 50000 (coming from other machine in  this case Agent, hence Inbound rule).\nTry following steps:</p>\n<ol>\n<li>Go to Master Jenkins.</li>\n<li>Open Wiindows Defender Firewall--&gt; Advance setting --&gt; create Inbound Rule allow port 50000</li>\n</ol>\n<p><a href=\"https://i.stack.imgur.com/gOddr.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/gOddr.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: In 1 inbound rule you can allow more than one port as shown in below.</p>\n<ol start=\"3\">\n<li><p>Restart master Jenkins service.</p>\n</li>\n<li><p>Check if (step is valid only if you have created windows service on agent) agent service is running continuously.</p>\n</li>\n</ol>\n<p>Check Agent status in Jenkins !</p>\n"},{"tags":[],"owner":{"account_id":20993515,"reputation":341,"user_id":15425910,"display_name":"AbhiOps"},"down_vote_count":0,"up_vote_count":20,"is_accepted":false,"score":20,"last_activity_date":1618006973,"creation_date":1618006973,"answer_id":67028965,"question_id":60455410,"body_markdown":"I had similar issue. I have solved it enabling the &quot;Use WebSocket&quot;.  Jenkins Salve/Agent &gt; Configure &gt; Launch Method &gt; Use WebSocket (enable) &gt; Save. ","title":"Jenkins kubernetes plugin: provided port:50000 is not reachable","body":"<p>I had similar issue. I have solved it enabling the &quot;Use WebSocket&quot;.  Jenkins Salve/Agent &gt; Configure &gt; Launch Method &gt; Use WebSocket (enable) &gt; Save.</p>\n"},{"tags":[],"owner":{"account_id":12914209,"reputation":742,"user_id":9339019,"display_name":"Gursewak Singh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1680716967,"creation_date":1680716590,"answer_id":75942542,"question_id":60455410,"body_markdown":"I faced the same error, after doing lots of research later I found that problem was in service.yaml that was used to expose the jenkins server. So I changed this \r\n\r\n    ports:\r\n        - name: httpport\r\n          port: 8080\r\n          targetPort: 8080\r\n          nodePort: 32000\r\n to this \r\n\r\n    - name: httpport\r\n      port: 8080\r\n      targetPort: 8080\r\n      nodePort: 32000\r\n    - name: jnlpport\r\n      port: 50000\r\n      targetPort: 50000\r\n\r\n And it solved my problem.\r\n\r\nIf interested, here I explained how I deployed my jenkins server on kubernetes\r\n&#128073; [How to Deploy Jenkin on Kubernetes][1] \r\n\r\n   \r\n\r\n\r\n  [1]: https://gursewaksingh-51905.medium.com/%EF%B8%8Fdevops-how-to-deploy-jenkin-on-kubernetes-with-nfs-server-and-blue-ocean-f69f9d6dbc79","title":"Jenkins kubernetes plugin: provided port:50000 is not reachable","body":"<p>I faced the same error, after doing lots of research later I found that problem was in service.yaml that was used to expose the jenkins server. So I changed this</p>\n<pre><code>ports:\n    - name: httpport\n      port: 8080\n      targetPort: 8080\n      nodePort: 32000\n</code></pre>\n<p>to this</p>\n<pre><code>- name: httpport\n  port: 8080\n  targetPort: 8080\n  nodePort: 32000\n- name: jnlpport\n  port: 50000\n  targetPort: 50000\n</code></pre>\n<p>And it solved my problem.</p>\n<p>If interested, here I explained how I deployed my jenkins server on kubernetes\n👉 <a href=\"https://gursewaksingh-51905.medium.com/%EF%B8%8Fdevops-how-to-deploy-jenkin-on-kubernetes-with-nfs-server-and-blue-ocean-f69f9d6dbc79\" rel=\"nofollow noreferrer\">How to Deploy Jenkin on Kubernetes</a></p>\n"}],"owner":{"account_id":2801644,"reputation":17019,"user_id":2409793,"accept_rate":49,"display_name":"pkaramol"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":16959,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"answer_count":4,"score":6,"last_activity_date":1690801735,"creation_date":1582906069,"question_id":60455410,"body_markdown":"I have set up `jenkins` on GKE using the official helm [chart][1].\r\n\r\n\r\nI have also created an `nginx-ingress` controller installation using helm and I am able to access jenkins via `https://112.222.111.22/jenkins` where `112.222.111.22` is the static IP I am passing to the load balancer.\r\n\r\nI am also able to create jobs.\r\n\r\nHowever, when I try to spin up inbound remote agent:\r\n\r\n```\r\n▶ java -jar agent.jar -noCertificateCheck -jnlpUrl https://112.222.111.22/jenkins/computer/My%20Builder%203/slave-agent.jnlp -secret &lt;some_secret&gt;\r\n\r\n\r\n...\r\nWARNING: Connect timed out\r\nFeb 28, 2020 5:57:18 PM hudson.remoting.jnlp.Main$CuiListener error\r\nSEVERE: https://112.222.111.22/jenkins/ provided port:50000 is not reachable\r\njava.io.IOException: https://112.222.111.22/jenkins/ provided port:50000 is not reachable\r\n\tat org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver.resolve(JnlpAgentEndpointResolver.java:303)\r\n\tat hudson.remoting.Engine.innerRun(Engine.java:527)\r\n\tat hudson.remoting.Engine.run(Engine.java:488)\r\n\r\n```\r\nWhy is that?\r\n\r\n\r\n  [1]: https://github.com/helm/charts/tree/master/stable/jenkins","title":"Jenkins kubernetes plugin: provided port:50000 is not reachable","body":"<p>I have set up <code>jenkins</code> on GKE using the official helm <a href=\"https://github.com/helm/charts/tree/master/stable/jenkins\" rel=\"nofollow noreferrer\">chart</a>.</p>\n\n<p>I have also created an <code>nginx-ingress</code> controller installation using helm and I am able to access jenkins via <code>https://112.222.111.22/jenkins</code> where <code>112.222.111.22</code> is the static IP I am passing to the load balancer.</p>\n\n<p>I am also able to create jobs.</p>\n\n<p>However, when I try to spin up inbound remote agent:</p>\n\n<pre><code>▶ java -jar agent.jar -noCertificateCheck -jnlpUrl https://112.222.111.22/jenkins/computer/My%20Builder%203/slave-agent.jnlp -secret &lt;some_secret&gt;\n\n\n...\nWARNING: Connect timed out\nFeb 28, 2020 5:57:18 PM hudson.remoting.jnlp.Main$CuiListener error\nSEVERE: https://112.222.111.22/jenkins/ provided port:50000 is not reachable\njava.io.IOException: https://112.222.111.22/jenkins/ provided port:50000 is not reachable\n    at org.jenkinsci.remoting.engine.JnlpAgentEndpointResolver.resolve(JnlpAgentEndpointResolver.java:303)\n    at hudson.remoting.Engine.innerRun(Engine.java:527)\n    at hudson.remoting.Engine.run(Engine.java:488)\n\n</code></pre>\n\n<p>Why is that?</p>\n"},{"tags":["java","xml","xml-serialization","cdata"],"comments":[{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690448518,"post_id":76777208,"comment_id":135356265,"body_markdown":"What about `java.beans.XMLEncoder`?","body":"What about <code>java.beans.XMLEncoder</code>?"},{"owner":{"account_id":22124137,"reputation":3297,"user_id":16376827,"display_name":"g00se"},"score":0,"creation_date":1690452557,"post_id":76777208,"comment_id":135357134,"body_markdown":"fwiw, I just round-tripped the entire html source code of this page as a bean attribute without any problem. A few lines of code, no 3rd party libraries - just JRE","body":"fwiw, I just round-tripped the entire html source code of this page as a bean attribute without any problem. A few lines of code, no 3rd party libraries - just JRE"}],"answers":[{"tags":[],"owner":{"account_id":529122,"reputation":158120,"user_id":415448,"accept_rate":33,"display_name":"Michael Kay"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690456150,"creation_date":1690456150,"answer_id":76779146,"question_id":76777208,"body_markdown":"If you decide to go for the JAXP serializer, you can declare elements whose content is to be serialized as CDATA using the serialization property `CDATA_SECTION_ELEMENTS`, but you can&#39;t control it at the level of individual element instances.","title":"How to generate with java a xml with CDATA on a specific field","body":"<p>If you decide to go for the JAXP serializer, you can declare elements whose content is to be serialized as CDATA using the serialization property <code>CDATA_SECTION_ELEMENTS</code>, but you can't control it at the level of individual element instances.</p>\n"},{"tags":[],"owner":{"account_id":5739700,"reputation":418,"user_id":4532773,"accept_rate":69,"display_name":"4535992"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690801730,"creation_date":1690801730,"answer_id":76803014,"question_id":76777208,"body_markdown":"Ty to Michael Kay suggestion, i find  asolution XD\r\n\r\n    \tprivate static File generateXmlWithCDATAV2(MyObjectJava myObjectJava, File fileXmlOutput) throws Exception {\r\n\t\tJAXBContext requestJaxbContext = JAXBContext.newInstance(MyObjectJava.class);\r\n\t\t\r\n\t\tMarshaller marshaller = requestJaxbContext.createMarshaller();\r\n\t\tmarshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\r\n\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\t\tfinal DOMResult domResult = new DOMResult();\r\n\t\tmarshaller.marshal(myObjectJava, domResult);\r\n\t\t\r\n\t\tTransformer transformer1 = TransformerFactory.newInstance().newTransformer();\r\n\t\ttransformer1.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\r\n\t\ttransformer1.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\r\n\t\ttransformer1.setOutputProperty(OutputKeys.CDATA_SECTION_ELEMENTS, &quot;outerHtml&quot;);\r\n\t\ttransformer1.transform(\r\n\t\t\t\tnew DOMSource(domResult.getNode()), \r\n\t\t\t\tnew StreamResult(fileXmlOutput));\r\n\t\treturn fileXmlOutput;\r\n\t}","title":"How to generate with java a xml with CDATA on a specific field","body":"<p>Ty to Michael Kay suggestion, i find  asolution XD</p>\n<pre><code>    private static File generateXmlWithCDATAV2(MyObjectJava myObjectJava, File fileXmlOutput) throws Exception {\n    JAXBContext requestJaxbContext = JAXBContext.newInstance(MyObjectJava.class);\n    \n    Marshaller marshaller = requestJaxbContext.createMarshaller();\n    marshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\n    marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n    final DOMResult domResult = new DOMResult();\n    marshaller.marshal(myObjectJava, domResult);\n    \n    Transformer transformer1 = TransformerFactory.newInstance().newTransformer();\n    transformer1.setOutputProperty(OutputKeys.INDENT, &quot;yes&quot;);\n    transformer1.setOutputProperty(&quot;{http://xml.apache.org/xslt}indent-amount&quot;, &quot;2&quot;);\n    transformer1.setOutputProperty(OutputKeys.CDATA_SECTION_ELEMENTS, &quot;outerHtml&quot;);\n    transformer1.transform(\n            new DOMSource(domResult.getNode()), \n            new StreamResult(fileXmlOutput));\n    return fileXmlOutput;\n}\n</code></pre>\n"}],"owner":{"account_id":5739700,"reputation":418,"user_id":4532773,"accept_rate":69,"display_name":"4535992"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":50,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":76803014,"answer_count":2,"score":0,"last_activity_date":1690801730,"creation_date":1690441196,"question_id":76777208,"body_markdown":"I would like to update an old piece of code, but I can&#39;t find the correct way to do it with the new system suggested from the deprecated class XmlSerializer, it was deprecated in Xerces 2.9.0. and it is recommended  that new applications use the DOM Level 3 LSSerializer or JAXP&#39;s Transformation API for XML (TrAX) for serializing XML.\r\n\r\nI need to generate an xml from a java class (no problem in that), but adding the prefix characters `&lt;![CDATA[` and suffix characters `]]&gt;` on the specific field `outerHtml` of the xml.\r\n\r\nHere the old code with the method &quot;generateXmlWithCDATA&quot; i want to update:\r\n```java\r\n\r\n        import java.io.File;\r\n        import java.io.FileOutputStream;\r\n        import java.io.IOException;\r\n        import java.io.OutputStream;\r\n        import java.io.Serializable;\r\n        import java.io.StringWriter;\r\n        import java.io.Writer;\r\n        import java.nio.charset.StandardCharsets;\r\n        import java.util.Date;\r\n        import java.util.HashMap;\r\n        import java.util.List;\r\n        import java.util.Map;\r\n        \r\n        import javax.xml.bind.JAXBContext;\r\n        import javax.xml.bind.JAXBException;\r\n        import javax.xml.bind.Marshaller;\r\n        \r\n        import org.apache.commons.codec.binary.Base64;\r\n        import org.apache.commons.io.FileUtils;\r\n        import org.apache.commons.io.IOUtils;\r\n        import org.apache.xml.serialize.OutputFormat;\r\n        import org.apache.xml.serialize.XMLSerializer;\r\n\r\n\tprivate static File generateXmlWithCDATA(MyObjectJava myObjectJava, File fileXmlOutput) throws JAXBException, IOException {\r\n\t\tJAXBContext requestJaxbContext = JAXBContext.newInstance(MyObjectJava.class);\r\n\t\r\n\t\tMarshaller marshaller = requestJaxbContext.createMarshaller();\r\n\t\tmarshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\r\n\t\tmarshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\r\n\t\t // get an Apache XMLSerializer configured to generate CDATA\r\n\t\ttry(OutputStream out = new FileOutputStream(fileXmlOutput)) {\t\t\r\n\t\t    XMLSerializer serializer = getXMLSerializer(out);\t\t\r\n\t\t    marshaller.marshal(myObjectJava, serializer.asContentHandler());   \r\n\t\t}\r\n\t\treturn fileXmlOutput;\r\n\t}\r\n\r\n\r\n\tprivate static XMLSerializer getXMLSerializer(OutputStream os) {\r\n\t    // configure an OutputFormat to handle CDATA\r\n\t    OutputFormat of = new OutputFormat();\r\n\t\r\n\t    // specify which of your elements you want to be handled as CDATA.\r\n\t    // The use of the &#39;^&#39; between the namespaceURI and the localname\r\n\t    // seems to be an implementation detail of the xerces code.\r\n\t    // When processing xml that doesn&#39;t use namespaces, simply omit the\r\n\t    // namespace prefix as shown in the third CDataElement below.\r\n\t    of.setCDataElements(\r\n\t\t\t    new String[] { \r\n\t\t\t    \t&quot;^outerHtml&quot;   // &lt;outerHtml&gt;\r\n\t\t\t});   \r\n\t\r\n\t    // set any other options you&#39;d like\r\n\t    of.setPreserveSpace(true);\r\n\t    of.setIndenting(true);\r\n\t\r\n\t    // create the serializer\r\n\t    final XMLSerializer serializer = new XMLSerializer(of);\r\n\t    serializer.setOutputByteStream(os);\r\n\t\r\n\t    return serializer;\r\n\t}\r\n```\r\n\r\nthe xml output is something like this\r\n\r\n```xml\r\n\r\n        &lt;MyObjectJava&gt;\r\n          &lt;name&gt;Leo&lt;/name&gt;\r\n          &lt;surname&gt;DaVinci&lt;/surname&gt;\r\n          &lt;outerHtml&gt;&lt;![CDATA[&lt;a href=&quot;https://www.isasite.com&quot;&gt;Is a site&lt;/a&gt;]]&gt;&lt;/outerHtml&gt;\r\n        &lt;/MyObjectJava&gt;\r\n\r\n```\r\n\r\nAnyone can give a example with the new system ?\r\n\r\nTy in advance.","title":"How to generate with java a xml with CDATA on a specific field","body":"<p>I would like to update an old piece of code, but I can't find the correct way to do it with the new system suggested from the deprecated class XmlSerializer, it was deprecated in Xerces 2.9.0. and it is recommended  that new applications use the DOM Level 3 LSSerializer or JAXP's Transformation API for XML (TrAX) for serializing XML.</p>\n<p>I need to generate an xml from a java class (no problem in that), but adding the prefix characters <code>&lt;![CDATA[</code> and suffix characters <code>]]&gt;</code> on the specific field <code>outerHtml</code> of the xml.</p>\n<p>Here the old code with the method &quot;generateXmlWithCDATA&quot; i want to update:</p>\n<pre class=\"lang-java prettyprint-override\"><code>\n        import java.io.File;\n        import java.io.FileOutputStream;\n        import java.io.IOException;\n        import java.io.OutputStream;\n        import java.io.Serializable;\n        import java.io.StringWriter;\n        import java.io.Writer;\n        import java.nio.charset.StandardCharsets;\n        import java.util.Date;\n        import java.util.HashMap;\n        import java.util.List;\n        import java.util.Map;\n        \n        import javax.xml.bind.JAXBContext;\n        import javax.xml.bind.JAXBException;\n        import javax.xml.bind.Marshaller;\n        \n        import org.apache.commons.codec.binary.Base64;\n        import org.apache.commons.io.FileUtils;\n        import org.apache.commons.io.IOUtils;\n        import org.apache.xml.serialize.OutputFormat;\n        import org.apache.xml.serialize.XMLSerializer;\n\n    private static File generateXmlWithCDATA(MyObjectJava myObjectJava, File fileXmlOutput) throws JAXBException, IOException {\n        JAXBContext requestJaxbContext = JAXBContext.newInstance(MyObjectJava.class);\n    \n        Marshaller marshaller = requestJaxbContext.createMarshaller();\n        marshaller.setProperty(Marshaller.JAXB_ENCODING, &quot;UTF-8&quot;);\n        marshaller.setProperty(Marshaller.JAXB_FORMATTED_OUTPUT, true);\n         // get an Apache XMLSerializer configured to generate CDATA\n        try(OutputStream out = new FileOutputStream(fileXmlOutput)) {       \n            XMLSerializer serializer = getXMLSerializer(out);       \n            marshaller.marshal(myObjectJava, serializer.asContentHandler());   \n        }\n        return fileXmlOutput;\n    }\n\n\n    private static XMLSerializer getXMLSerializer(OutputStream os) {\n        // configure an OutputFormat to handle CDATA\n        OutputFormat of = new OutputFormat();\n    \n        // specify which of your elements you want to be handled as CDATA.\n        // The use of the '^' between the namespaceURI and the localname\n        // seems to be an implementation detail of the xerces code.\n        // When processing xml that doesn't use namespaces, simply omit the\n        // namespace prefix as shown in the third CDataElement below.\n        of.setCDataElements(\n                new String[] { \n                    &quot;^outerHtml&quot;   // &lt;outerHtml&gt;\n            });   \n    \n        // set any other options you'd like\n        of.setPreserveSpace(true);\n        of.setIndenting(true);\n    \n        // create the serializer\n        final XMLSerializer serializer = new XMLSerializer(of);\n        serializer.setOutputByteStream(os);\n    \n        return serializer;\n    }\n</code></pre>\n<p>the xml output is something like this</p>\n<pre class=\"lang-xml prettyprint-override\"><code>\n        &lt;MyObjectJava&gt;\n          &lt;name&gt;Leo&lt;/name&gt;\n          &lt;surname&gt;DaVinci&lt;/surname&gt;\n          &lt;outerHtml&gt;&lt;![CDATA[&lt;a href=&quot;https://www.isasite.com&quot;&gt;Is a site&lt;/a&gt;]]&gt;&lt;/outerHtml&gt;\n        &lt;/MyObjectJava&gt;\n\n</code></pre>\n<p>Anyone can give a example with the new system ?</p>\n<p>Ty in advance.</p>\n"},{"tags":["java","spring","sap-commerce-cloud"],"comments":[{"owner":{"account_id":3392662,"reputation":5537,"user_id":2847159,"display_name":"mkysoft"},"score":0,"creation_date":1690823484,"post_id":76802252,"comment_id":135403572,"body_markdown":"Did you get any ehcache exception?","body":"Did you get any ehcache exception?"},{"owner":{"account_id":5180595,"reputation":4373,"user_id":4365626,"accept_rate":75,"display_name":"Vibhor Dube"},"score":0,"creation_date":1691130065,"post_id":76802252,"comment_id":135452675,"body_markdown":"The error log is too small to make a conclusion.","body":"The error log is too small to make a conclusion."},{"owner":{"account_id":1491796,"reputation":71,"user_id":1398724,"display_name":"Adam Badura"},"score":0,"creation_date":1691491255,"post_id":76802252,"comment_id":135495783,"body_markdown":"The error in question is identical to this one: https://stackoverflow.com/questions/26924403/regioncacheadapter-unable-to-clear-cache-failed-on-region-null-last-key-null - you should probably follow the advice given there and check the logs for exceptions that may have happened earlier on","body":"The error in question is identical to this one: <a href=\"https://stackoverflow.com/questions/26924403/regioncacheadapter-unable-to-clear-cache-failed-on-region-null-last-key-null\" title=\"regioncacheadapter unable to clear cache failed on region null last key null\">stackoverflow.com/questions/26924403/&hellip;</a> - you should probably follow the advice given there and check the logs for exceptions that may have happened earlier on"}],"owner":{"account_id":28657781,"reputation":1,"user_id":21943359,"display_name":"Lina "},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":40,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690800503,"creation_date":1690795622,"question_id":76802252,"body_markdown":"I&#39;m working on a project with SAP COMMERCE on Hybris and the server failed to open due to this error\r\n\r\n&gt; ERROR \\[ShutdownHookThread\\] \\[RegionCacheAdapter\\] Unable to clear cache. Failed on region entityCacheRegion. Last key null null\r\n&gt;\r\n&gt; java.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)\r\n\r\nI tried reinstalling a new license and it didn&#39;t work.\r\n","title":"I wanted to start my server as usual by running ./hybrisserver.show and an error is generated","body":"<p>I'm working on a project with SAP COMMERCE on Hybris and the server failed to open due to this error</p>\n<blockquote>\n<p>ERROR [ShutdownHookThread] [RegionCacheAdapter] Unable to clear cache. Failed on region entityCacheRegion. Last key null null</p>\n<p>java.lang.IllegalStateException: The entityCacheRegion Cache is not alive (STATUS_SHUTDOWN)</p>\n</blockquote>\n<p>I tried reinstalling a new license and it didn't work.</p>\n"},{"tags":["java","generics","lambda","jackson"],"comments":[{"owner":{"account_id":5776494,"reputation":122,"user_id":4558427,"accept_rate":40,"display_name":"Raphallal"},"score":1,"creation_date":1679476556,"post_id":75809944,"comment_id":133727319,"body_markdown":"Wich version of jackson are you using ? I&#39;ve tried both codes, and they both run properly with jackson 2.13.1.","body":"Wich version of jackson are you using ? I&#39;ve tried both codes, and they both run properly with jackson 2.13.1."},{"owner":{"account_id":4807285,"reputation":328,"user_id":3881894,"display_name":"callofdutyops"},"score":0,"creation_date":1679479585,"post_id":75809944,"comment_id":133728060,"body_markdown":"@Raphallal 2.12.5. Sorry for missing this important infomation, I&#39;ve also added this into the question description.","body":"@Raphallal 2.12.5. Sorry for missing this important infomation, I&#39;ve also added this into the question description."},{"owner":{"account_id":39208,"reputation":251240,"user_id":112968,"accept_rate":68,"display_name":"knittl"},"score":0,"creation_date":1679649809,"post_id":75809944,"comment_id":133762534,"body_markdown":"Have you tried `return this.&lt;T&gt;getCommon(...)`?","body":"Have you tried <code>return this.&lt;T&gt;getCommon(...)</code>?"}],"answers":[{"tags":[],"owner":{"account_id":5776494,"reputation":122,"user_id":4558427,"accept_rate":40,"display_name":"Raphallal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679481665,"creation_date":1679481665,"answer_id":75811192,"question_id":75809944,"body_markdown":"After several tests, I was able to reproduce your bug with Java 11. Please note that everything was working fine with Java 17.\r\n\r\nFirst of all, I found [this post][1] that is about a similar problem.\r\n\r\nThen, to solve the problem I specifically passed the class I follow:\r\n\r\n    public static void main(String[] args) {\r\n        String test = &quot;[\\&quot;test\\&quot;]&quot;;\r\n\r\n        List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;String&gt;(), ArrayList.class);\r\n        System.out.println(strings);\r\n    }\r\n\r\n    public static &lt;T&gt; T getObjectConfig(String key, T defaultValue, Class&lt;T&gt; clazz) {\r\n        return getCommon(\r\n                key,\r\n                v -&gt; {\r\n                    if (Objects.isNull(v)) {\r\n                        return defaultValue;\r\n                    } else {\r\n                        try {\r\n                            return new ObjectMapper().readValue(v, clazz);\r\n                        } catch (JsonProcessingException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    private static &lt;T&gt; T getCommon(String key, Function&lt;String, T&gt; transFunc) {\r\n        try {\r\n            String value = key;\r\n            return transFunc.apply(value);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n\r\nInstead of using a `TypeReference`, I used a `Class`.\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/6852184/4558427","title":"Java lambda using TypeReference generic type from outer function paramter throws null exception","body":"<p>After several tests, I was able to reproduce your bug with Java 11. Please note that everything was working fine with Java 17.</p>\n<p>First of all, I found <a href=\"https://stackoverflow.com/a/6852184/4558427\">this post</a> that is about a similar problem.</p>\n<p>Then, to solve the problem I specifically passed the class I follow:</p>\n<pre><code>public static void main(String[] args) {\n    String test = &quot;[\\&quot;test\\&quot;]&quot;;\n\n    List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;String&gt;(), ArrayList.class);\n    System.out.println(strings);\n}\n\npublic static &lt;T&gt; T getObjectConfig(String key, T defaultValue, Class&lt;T&gt; clazz) {\n    return getCommon(\n            key,\n            v -&gt; {\n                if (Objects.isNull(v)) {\n                    return defaultValue;\n                } else {\n                    try {\n                        return new ObjectMapper().readValue(v, clazz);\n                    } catch (JsonProcessingException e) {\n                        throw new RuntimeException(e);\n                    }\n                }\n            }\n    );\n}\n\nprivate static &lt;T&gt; T getCommon(String key, Function&lt;String, T&gt; transFunc) {\n    try {\n        String value = key;\n        return transFunc.apply(value);\n    } catch (Exception e) {\n        throw new RuntimeException(e);\n    }\n}\n</code></pre>\n<p>Instead of using a <code>TypeReference</code>, I used a <code>Class</code>.</p>\n"},{"tags":[],"owner":{"account_id":27024975,"reputation":1,"user_id":20582392,"display_name":"yichen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690799273,"creation_date":1690799273,"answer_id":76802722,"question_id":75809944,"body_markdown":"You can fix it by changing it to:\r\n```\r\nreturn new ObjectMapper().readerFor(defaultValue.getClass()).readValue(v);\r\n```\r\n\r\nnote: if you try some objects that can&#39;t be strongly converted by LinkedHashMap, Then you can see that your second use case will also report an error. And this is caused by java type erasure.","title":"Java lambda using TypeReference generic type from outer function paramter throws null exception","body":"<p>You can fix it by changing it to:</p>\n<pre><code>return new ObjectMapper().readerFor(defaultValue.getClass()).readValue(v);\n</code></pre>\n<p>note: if you try some objects that can't be strongly converted by LinkedHashMap, Then you can see that your second use case will also report an error. And this is caused by java type erasure.</p>\n"}],"owner":{"account_id":4807285,"reputation":328,"user_id":3881894,"display_name":"callofdutyops"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":198,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1690799273,"creation_date":1679474079,"question_id":75809944,"body_markdown":"It&#39;ll throw null exception when I use `new TypeReference&lt;T&gt;() {}` in the lambda function and the `T` is from outer functin generic paramter. But it&#39;s OK when this statement is directly write in function. \r\n\r\n- Java version: 8\r\n- Jackson version: 2.12.5\r\n\r\nThere&#39;re minimum runnable code examples blow.\r\n\r\nThis will get `java.lang.IllegalArgumentException: Unrecognized Type: [null]`\r\n\r\n```Java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.function.Function;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) {\r\n        String test = &quot;[\\&quot;test\\&quot;]&quot;;\r\n\r\n        List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;&gt;());\r\n        System.out.println(strings);\r\n    }\r\n\r\n    public static &lt;T&gt; T getObjectConfig(String key, T defaultValue) {\r\n        return getCommon(\r\n                key,\r\n                v -&gt; {\r\n                    if (Objects.isNull(v)) {\r\n                        return defaultValue;\r\n                    } else {\r\n                        try {\r\n                            return new ObjectMapper().readValue(v, new TypeReference&lt;T&gt;() {});\r\n                        } catch (JsonProcessingException e) {\r\n                            throw new RuntimeException(e);\r\n                        }\r\n                    }\r\n                }\r\n        );\r\n    }\r\n\r\n    private static &lt;T&gt; T getCommon(String key, Function&lt;String, T&gt; transFunc) {\r\n        try {\r\n            String value = key;\r\n            return transFunc.apply(value);\r\n        } catch (Exception e) {\r\n            throw new RuntimeException(e);\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut this is OK.\r\n```Java\r\nimport com.fasterxml.jackson.core.JsonProcessingException;\r\nimport com.fasterxml.jackson.core.type.TypeReference;\r\nimport com.fasterxml.jackson.databind.DeserializationFeature;\r\nimport com.fasterxml.jackson.databind.ObjectMapper;\r\nimport com.fasterxml.jackson.databind.SerializationFeature;\r\n\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\n\r\npublic class Main {\r\n\r\n    public static void main(String[] args) throws Exception {\r\n        String test = &quot;[\\&quot;test\\&quot;]&quot;;\r\n\r\n        List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;&gt;());\r\n        System.out.println(strings);\r\n    }\r\n\r\n    private static &lt;T&gt; T getObjectConfig(String key, T defaultValue) throws JsonProcessingException {\r\n        return new ObjectMapper().readValue(key, new TypeReference&lt;T&gt;() {});\r\n    }\r\n\r\n}\r\n```","title":"Java lambda using TypeReference generic type from outer function paramter throws null exception","body":"<p>It'll throw null exception when I use <code>new TypeReference&lt;T&gt;() {}</code> in the lambda function and the <code>T</code> is from outer functin generic paramter. But it's OK when this statement is directly write in function.</p>\n<ul>\n<li>Java version: 8</li>\n<li>Jackson version: 2.12.5</li>\n</ul>\n<p>There're minimum runnable code examples blow.</p>\n<p>This will get <code>java.lang.IllegalArgumentException: Unrecognized Type: [null]</code></p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.ObjectMapper;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.function.Function;\n\npublic class Main {\n\n    public static void main(String[] args) {\n        String test = &quot;[\\&quot;test\\&quot;]&quot;;\n\n        List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;&gt;());\n        System.out.println(strings);\n    }\n\n    public static &lt;T&gt; T getObjectConfig(String key, T defaultValue) {\n        return getCommon(\n                key,\n                v -&gt; {\n                    if (Objects.isNull(v)) {\n                        return defaultValue;\n                    } else {\n                        try {\n                            return new ObjectMapper().readValue(v, new TypeReference&lt;T&gt;() {});\n                        } catch (JsonProcessingException e) {\n                            throw new RuntimeException(e);\n                        }\n                    }\n                }\n        );\n    }\n\n    private static &lt;T&gt; T getCommon(String key, Function&lt;String, T&gt; transFunc) {\n        try {\n            String value = key;\n            return transFunc.apply(value);\n        } catch (Exception e) {\n            throw new RuntimeException(e);\n        }\n    }\n}\n</code></pre>\n<p>But this is OK.</p>\n<pre><code>import com.fasterxml.jackson.core.JsonProcessingException;\nimport com.fasterxml.jackson.core.type.TypeReference;\nimport com.fasterxml.jackson.databind.DeserializationFeature;\nimport com.fasterxml.jackson.databind.ObjectMapper;\nimport com.fasterxml.jackson.databind.SerializationFeature;\n\nimport java.util.ArrayList;\nimport java.util.List;\n\npublic class Main {\n\n    public static void main(String[] args) throws Exception {\n        String test = &quot;[\\&quot;test\\&quot;]&quot;;\n\n        List&lt;String&gt; strings = getObjectConfig(test, new ArrayList&lt;&gt;());\n        System.out.println(strings);\n    }\n\n    private static &lt;T&gt; T getObjectConfig(String key, T defaultValue) throws JsonProcessingException {\n        return new ObjectMapper().readValue(key, new TypeReference&lt;T&gt;() {});\n    }\n\n}\n</code></pre>\n"},{"tags":["java","spring-boot","configurationproperties"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1690789427,"post_id":76801554,"comment_id":135396562,"body_markdown":"Yes, it should work. Do you have explicit libraries for yaml parsing?","body":"Yes, it should work. Do you have explicit libraries for yaml parsing?"},{"owner":{"account_id":2486870,"reputation":685,"user_id":2165146,"display_name":"muhammed ozbilici"},"score":0,"creation_date":1690789462,"post_id":76801554,"comment_id":135396568,"body_markdown":"first of all, why do you need structure like this ?","body":"first of all, why do you need structure like this ?"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1690791605,"post_id":76801554,"comment_id":135396934,"body_markdown":"Thanks for your reply!\n@dcolazin I use only plain spring boot","body":"Thanks for your reply! @dcolazin I use only plain spring boot"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1690791612,"post_id":76801554,"comment_id":135396935,"body_markdown":"Thanks for your reply!\n@muhammedozbilici which structures do you mean, binding a map with configuration properties is state of the art spring boot","body":"Thanks for your reply! @muhammedozbilici which structures do you mean, binding a map with configuration properties is state of the art spring boot"},{"owner":{"account_id":1658807,"reputation":31819,"user_id":1527544,"accept_rate":54,"display_name":"Antoniossss"},"score":0,"creation_date":1690794503,"post_id":76801554,"comment_id":135397499,"body_markdown":"*somecloud.someprefix.propertymap* will NOT return everytything underneeth it  as you would expect (rather empty value). You can test this checking what will be bound t o `@Value(${somecloud.someprefix.propertymap})`","body":"<i>somecloud.someprefix.propertymap</i> will NOT return everytything underneeth it  as you would expect (rather empty value). You can test this checking what will be bound t o <code>@Value(${somecloud.someprefix.propertymap})</code>"},{"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"score":0,"creation_date":1690794923,"post_id":76801554,"comment_id":135397581,"body_markdown":"Thank you, yes, I know that and you exactly understood the problem. But do you also have any solutions how one could resolve a map and not only the empty string?","body":"Thank you, yes, I know that and you exactly understood the problem. But do you also have any solutions how one could resolve a map and not only the empty string?"}],"owner":{"account_id":5623697,"reputation":480,"user_id":4452737,"display_name":"markus_"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":78,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1690797779,"creation_date":1690788949,"question_id":76801554,"body_markdown":"given the following sample class\r\n```\r\n@ConfigurationProperties(&quot;myapp&quot;)\r\npublic class MyProps {\r\n\r\n\tMyProps(Map&lt;String, String&gt; propertymap) {\r\n\t\tSystem.out.println(&quot;propertymap = &quot; + propertymap);\r\n\t}\r\n}\r\n```\r\n\r\nand following application.yml\r\n```\r\nmyapp:\r\n  propertymap:\r\n    a: b\r\n    c: d\r\n```\r\n\r\nEverything works fine.  \r\n\r\nNow I try to do property resolving with the `propertymap` in my yaml and I wonder whether spring boot supports that? I change the yaml file to the following:\r\n\r\n```\r\nsomecloud:\r\n  someprefix:\r\n    propertymap:\r\n      a: b\r\n      b: c\r\n\r\nmyapp:\r\n  propertymap:\r\n    ${somecloud.someprefix.propertymap}\r\n```\r\n\r\nThe application start fails with:\r\n```\r\nFailed to bind properties under &#39;myapp.propertymap&#39; to java.util.Map&lt;java.lang.String, java.lang.String&gt;:\r\n\r\n    Property: myapp.propertymap\r\n    Value: &quot;${somecloud.someprefix.propertymap}&quot;\r\n    Origin: class path resource [application.yml] - 9:5\r\n    Reason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [java.util.Map&lt;java.lang.String, java.lang.String&gt;]\r\n```\r\n\r\nBasically, I try to resolve the property which normale works like a gem, but in this case the property itself is a map. Does spring boot support &quot;map property resolving&quot; in any way and am I doing it wrong? Or is it simply not supported?\r\n\r\nBackground: I am working in a cloud environment (Cloud Foundy) and the properties are given from the outside. The properties will be prefixed with some cloud stuff (vcap.services) which I want to &quot;rewrite&quot; in my application. Yes, I could use the cloud prefix (&quot;vcap.services....&quot;) directly in my application code, but that would make my application less portable which I want to prevent.\r\n\r\nAny ideas?","title":"Spring Boot configuration properties: Resolve properties that are a map","body":"<p>given the following sample class</p>\n<pre><code>@ConfigurationProperties(&quot;myapp&quot;)\npublic class MyProps {\n\n    MyProps(Map&lt;String, String&gt; propertymap) {\n        System.out.println(&quot;propertymap = &quot; + propertymap);\n    }\n}\n</code></pre>\n<p>and following application.yml</p>\n<pre><code>myapp:\n  propertymap:\n    a: b\n    c: d\n</code></pre>\n<p>Everything works fine.</p>\n<p>Now I try to do property resolving with the <code>propertymap</code> in my yaml and I wonder whether spring boot supports that? I change the yaml file to the following:</p>\n<pre><code>somecloud:\n  someprefix:\n    propertymap:\n      a: b\n      b: c\n\nmyapp:\n  propertymap:\n    ${somecloud.someprefix.propertymap}\n</code></pre>\n<p>The application start fails with:</p>\n<pre><code>Failed to bind properties under 'myapp.propertymap' to java.util.Map&lt;java.lang.String, java.lang.String&gt;:\n\n    Property: myapp.propertymap\n    Value: &quot;${somecloud.someprefix.propertymap}&quot;\n    Origin: class path resource [application.yml] - 9:5\n    Reason: org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type [java.lang.String] to type [java.util.Map&lt;java.lang.String, java.lang.String&gt;]\n</code></pre>\n<p>Basically, I try to resolve the property which normale works like a gem, but in this case the property itself is a map. Does spring boot support &quot;map property resolving&quot; in any way and am I doing it wrong? Or is it simply not supported?</p>\n<p>Background: I am working in a cloud environment (Cloud Foundy) and the properties are given from the outside. The properties will be prefixed with some cloud stuff (vcap.services) which I want to &quot;rewrite&quot; in my application. Yes, I could use the cloud prefix (&quot;vcap.services....&quot;) directly in my application code, but that would make my application less portable which I want to prevent.</p>\n<p>Any ideas?</p>\n"},{"tags":["java","remote-access","httpinvoker","remote-client"],"owner":{"account_id":9856270,"reputation":15,"user_id":7300656,"display_name":"stupiddunkey"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690797671,"creation_date":1690797671,"question_id":76802530,"body_markdown":"An error occurs while developing a client-side remote service. and i&#39;ve found A package/class POJO name that does not exist in the new project (but still exists in the old project/server) from error Message . Is this cause a package name difference? If so, how can I remoteize this service?\r\n\r\n\r\n**error message**\r\n```\r\norg.springframework.remoting.RemoteAccessException: Could not deserialize result from HTTP invoker remote service [http://---------/SERVICENAME.http]; nested exception is java.lang.ClassNotFoundException: COM.OLD.CLASS.POJO\r\n\tat org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.convertHttpInvokerAccessException(HttpInvokerClientInterceptor.java:226)\r\n\tat org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.invoke(HttpInvokerClientInterceptor.java:157)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\r\n\tat org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\r\n\tat com.sun.proxy.$Proxy2298.eaiConn(Unknown Source)\r\n\t....\r\n\tat com.mois.app.idm.am.client.ApigSvcClient$$FastClassBySpringCGLIB$$2b64bddf.invoke(&lt;generated&gt;)\r\n\tat org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\r\n\tat org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\r\n\tat org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\r\n\tat org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\r\n\tat org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:276)\r\n\tat java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)\r\n\tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n\tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n\tat java.lang.Thread.run(Thread.java:748)\r\nCaused by: java.lang.ClassNotFoundException: COM.OLD.CLASS.POJO\r\n\tat java.net.URLClassLoader.findClass(URLClassLoader.java:382)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:419)\r\n\tat sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n\tat org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:144)\r\n\tat java.lang.ClassLoader.loadClass(ClassLoader.java:352)\r\n\tat java.lang.Class.forName0(Native Method)\r\n\tat java.lang.Class.forName(Class.java:348)\r\n\tat org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\r\n\tat org.springframework.core.ConfigurableObjectInputStream.resolveClass(ConfigurableObjectInputStream.java:76)\r\n\tat java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1986)\r\n\tat java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1850)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2160)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\r\n\tat java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2405)\r\n\tat java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\r\n\tat java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\r\n\tat java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\r\n\tat java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\r\n\tat org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.doReadRemoteInvocationResult(AbstractHttpInvokerRequestExecutor.java:290)\r\n\tat org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.readRemoteInvocationResult(AbstractHttpInvokerRequestExecutor.java:244)\r\n\tat org.springframework.remoting.httpinvoker.SimpleHttpInvokerRequestExecutor.doExecuteRequest(SimpleHttpInvokerRequestExecutor.java:94)\r\n\tat org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.executeRequest(AbstractHttpInvokerRequestExecutor.java:140)\r\n\tat org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.executeRequest(HttpInvokerClientInterceptor.java:206)\r\n\tat org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.executeRequest(HttpInvokerClientInterceptor.java:188)\r\n\tat org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.invoke(HttpInvokerClientInterceptor.java:154)\r\n\t... 16 more\r\n```\r\n\r\n**Remote Service**\r\n```\r\n@Configuration\r\npublic class service{\r\n    \r\n    @Bean\r\n    public HttpInvokerProxyFactoryBean CService() {\r\n        HttpInvokerProxyFactoryBean httpInvoker = new HttpInvokerProxyFactoryBean();\r\n        httpInvoker.setServiceInterface(AInterface.class);\r\n        httpInvoker.setServiceUrl(&quot;http://-----------/SERVICENAME.http&quot;); \r\n        httpInvoker.afterPropertiesSet(); \r\n                \r\n        return httpInvoker;\r\n    }\r\n    \r\n}\r\n```\r\n\r\n**Interface and POJOS**\r\n```\r\n@Service\r\n\r\npublic Interface AInterface {\r\n\r\n\tpublic POJO method(...)\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\npublic class POJO implements Serializable {\r\n\r\n\t...\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nyour help would be much appreciated, thank you.\r\n","title":"HTTP invoker remote won&#39;t work if client/Server has different package name?","body":"<p>An error occurs while developing a client-side remote service. and i've found A package/class POJO name that does not exist in the new project (but still exists in the old project/server) from error Message . Is this cause a package name difference? If so, how can I remoteize this service?</p>\n<p><strong>error message</strong></p>\n<pre><code>org.springframework.remoting.RemoteAccessException: Could not deserialize result from HTTP invoker remote service [http://---------/SERVICENAME.http]; nested exception is java.lang.ClassNotFoundException: COM.OLD.CLASS.POJO\n    at org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.convertHttpInvokerAccessException(HttpInvokerClientInterceptor.java:226)\n    at org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.invoke(HttpInvokerClientInterceptor.java:157)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)\n    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:212)\n    at com.sun.proxy.$Proxy2298.eaiConn(Unknown Source)\n    ....\n    at com.mois.app.idm.am.client.ApigSvcClient$$FastClassBySpringCGLIB$$2b64bddf.invoke(&lt;generated&gt;)\n    at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:771)\n    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)\n    at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:749)\n    at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)\n    at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:276)\n    at java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1604)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: java.lang.ClassNotFoundException: COM.OLD.CLASS.POJO\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:382)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:419)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:352)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n    at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:144)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:352)\n    at java.lang.Class.forName0(Native Method)\n    at java.lang.Class.forName(Class.java:348)\n    at org.springframework.util.ClassUtils.forName(ClassUtils.java:284)\n    at org.springframework.core.ConfigurableObjectInputStream.resolveClass(ConfigurableObjectInputStream.java:76)\n    at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1986)\n    at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1850)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2160)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\n    at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2405)\n    at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2329)\n    at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2187)\n    at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1667)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:503)\n    at java.io.ObjectInputStream.readObject(ObjectInputStream.java:461)\n    at org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.doReadRemoteInvocationResult(AbstractHttpInvokerRequestExecutor.java:290)\n    at org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.readRemoteInvocationResult(AbstractHttpInvokerRequestExecutor.java:244)\n    at org.springframework.remoting.httpinvoker.SimpleHttpInvokerRequestExecutor.doExecuteRequest(SimpleHttpInvokerRequestExecutor.java:94)\n    at org.springframework.remoting.httpinvoker.AbstractHttpInvokerRequestExecutor.executeRequest(AbstractHttpInvokerRequestExecutor.java:140)\n    at org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.executeRequest(HttpInvokerClientInterceptor.java:206)\n    at org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.executeRequest(HttpInvokerClientInterceptor.java:188)\n    at org.springframework.remoting.httpinvoker.HttpInvokerClientInterceptor.invoke(HttpInvokerClientInterceptor.java:154)\n    ... 16 more\n</code></pre>\n<p><strong>Remote Service</strong></p>\n<pre><code>@Configuration\npublic class service{\n    \n    @Bean\n    public HttpInvokerProxyFactoryBean CService() {\n        HttpInvokerProxyFactoryBean httpInvoker = new HttpInvokerProxyFactoryBean();\n        httpInvoker.setServiceInterface(AInterface.class);\n        httpInvoker.setServiceUrl(&quot;http://-----------/SERVICENAME.http&quot;); \n        httpInvoker.afterPropertiesSet(); \n                \n        return httpInvoker;\n    }\n    \n}\n</code></pre>\n<p><strong>Interface and POJOS</strong></p>\n<pre><code>@Service\n\npublic Interface AInterface {\n\n    public POJO method(...)\n\n\n}\n\n\n\n\npublic class POJO implements Serializable {\n\n    ...\n\n}\n\n</code></pre>\n<p>your help would be much appreciated, thank you.</p>\n"},{"tags":["java","spring-boot","junit","mockito","completable-future"],"answers":[{"tags":[],"owner":{"account_id":4012793,"reputation":1627,"user_id":3305737,"display_name":"Jonasz"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1660298957,"creation_date":1660298957,"answer_id":73332488,"question_id":73332148,"body_markdown":"In your test method you&#39;re creating `CompletableFuture` instances using `new`. [JavaDoc states][1]:\r\n\r\n&gt; public CompletableFuture()\r\n&gt;\r\n&gt; Creates a new incomplete CompletableFuture.\r\n\r\nSo the objects you&#39;re creating are never completing, that&#39;s why the test is running infinitely. It&#39;s not actually a loop, but waiting on a blocking operation to be finished, which never happens.\r\n\r\nWhat you need to do is define a `CompletableFuture` that completes - immediately or after some time. The simplest way of doing that is by using [the static completedFuture() method][2]:\r\n```java\r\nCompletableFuture&lt;User&gt; userFuture =\r\n        CompletableFuture.completedFuture(new User());\r\nCompletableFuture&lt;List&lt;UserEntity&gt;&gt; userEntityFuture =\r\n        CompletableFuture.completedFuture(List.of(new UserEntity()));\r\n```  \r\nThanks to that given objects are returned and the code can be executed fully. You can test errors in a similar way by using [the failedFuture() method][3].\r\n\r\n---\r\n\r\nI&#39;ve created [a GitHub repo with a minimal reproducible example][4] - the test presented there passes.\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#completedFuture(U)\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#failedFuture(java.lang.Throwable)\r\n  [4]: https://github.com/Jonarzz/stack-overflow/blob/73332148/src/test/java/io/github/jonarzz/UserValidationServiceTest.java#L31","title":"Testing CompletableFuture.supplyAsync with Mockito","body":"<p>In your test method you're creating <code>CompletableFuture</code> instances using <code>new</code>. <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html\" rel=\"nofollow noreferrer\">JavaDoc states</a>:</p>\n<blockquote>\n<p>public CompletableFuture()</p>\n<p>Creates a new incomplete CompletableFuture.</p>\n</blockquote>\n<p>So the objects you're creating are never completing, that's why the test is running infinitely. It's not actually a loop, but waiting on a blocking operation to be finished, which never happens.</p>\n<p>What you need to do is define a <code>CompletableFuture</code> that completes - immediately or after some time. The simplest way of doing that is by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#completedFuture(U)\" rel=\"nofollow noreferrer\">the static completedFuture() method</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>CompletableFuture&lt;User&gt; userFuture =\n        CompletableFuture.completedFuture(new User());\nCompletableFuture&lt;List&lt;UserEntity&gt;&gt; userEntityFuture =\n        CompletableFuture.completedFuture(List.of(new UserEntity()));\n</code></pre>\n<p>Thanks to that given objects are returned and the code can be executed fully. You can test errors in a similar way by using <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CompletableFuture.html#failedFuture(java.lang.Throwable)\" rel=\"nofollow noreferrer\">the failedFuture() method</a>.</p>\n<hr />\n<p>I've created <a href=\"https://github.com/Jonarzz/stack-overflow/blob/73332148/src/test/java/io/github/jonarzz/UserValidationServiceTest.java#L31\" rel=\"nofollow noreferrer\">a GitHub repo with a minimal reproducible example</a> - the test presented there passes.</p>\n"},{"tags":[],"owner":{"account_id":6478770,"reputation":1592,"user_id":5016540,"accept_rate":67,"display_name":"thangdc94"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690797574,"creation_date":1690797199,"answer_id":76802466,"question_id":73332148,"body_markdown":"I faced the same issue today.\r\n@Jonasz&#39;s answer only works if you can mock the method in `getUserEntities()` and `getUser()`. But what if we have logics inside these methods and we still want unittest run through these methods.\r\n\r\nMy solution is to change behavior for `CompletableFuture.supplyAsync()` from async to sync by using static mock\r\n\r\n```\r\nmockStatic(CompletableFuture.class, invoca -&gt; {\r\n    if (invoca.getMethod().getName().equals(&quot;supplyAsync&quot;)) {\r\n        Supplier&lt;?&gt; supplier = invoca.getArgument(0);\r\n        return CompletableFuture.completedFuture(supplier.get());\r\n    }\r\n    return invoca.callRealMethod();\r\n});\r\n```\r\n\r\nWith this solution, I can run code inside async block and generic it for all `CompletableFuture` types\r\n\r\nTo use Static mock, you need to enable mock-inline. https://davidvlijmincx.com/posts/mockito_mock_static_method/","title":"Testing CompletableFuture.supplyAsync with Mockito","body":"<p>I faced the same issue today.\n@Jonasz's answer only works if you can mock the method in <code>getUserEntities()</code> and <code>getUser()</code>. But what if we have logics inside these methods and we still want unittest run through these methods.</p>\n<p>My solution is to change behavior for <code>CompletableFuture.supplyAsync()</code> from async to sync by using static mock</p>\n<pre><code>mockStatic(CompletableFuture.class, invoca -&gt; {\n    if (invoca.getMethod().getName().equals(&quot;supplyAsync&quot;)) {\n        Supplier&lt;?&gt; supplier = invoca.getArgument(0);\n        return CompletableFuture.completedFuture(supplier.get());\n    }\n    return invoca.callRealMethod();\n});\n</code></pre>\n<p>With this solution, I can run code inside async block and generic it for all <code>CompletableFuture</code> types</p>\n<p>To use Static mock, you need to enable mock-inline. <a href=\"https://davidvlijmincx.com/posts/mockito_mock_static_method/\" rel=\"nofollow noreferrer\">https://davidvlijmincx.com/posts/mockito_mock_static_method/</a></p>\n"}],"owner":{"account_id":1090772,"reputation":175,"user_id":1085459,"accept_rate":60,"display_name":"rakesh"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7417,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73332488,"answer_count":2,"score":2,"last_activity_date":1690797574,"creation_date":1660297153,"question_id":73332148,"body_markdown":"I am trying to test CompletableFuture.supplyAsync function with mockito but the test is not completing probably because the completable future is not returning. I am not sure what I am missing in the code. Can anyone please help.\r\n\r\nI have written the code as follows.\r\nSo there are UserService class which returns User, UserEntityService class which returns users entities and a validation class to check if the entities belongs to the user or not.\r\n\r\nI want to test if the passed entities belongs to user or not.\r\n\r\n```\r\nclass UserService {\r\n\r\n    CompletableFuture&lt;User&gt; getUser(String userName) {\r\n        log.info(&quot;Fetching User with username {}&quot;, userName);\r\n        return CompletableFuture.supplyAsync(\r\n                () -&gt; getUserByPortalUserName(userName));\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nclass UserEntityService {\r\n\r\n    CompletableFuture&lt;List&lt;UserEntity&gt;&gt; getUserEntities(Long userId) {\r\n        log.info(&quot;Retrieving all entities for user id {}&quot;, userId);\r\n        return CompletableFuture.supplyAsync(\r\n                () -&gt; getAllByUserId(userId));\r\n    }\r\n}\r\n```\r\n\r\n\r\n```\r\nclass UserValidationService {\r\n\r\n    public boolean validateUserCounterparty(UserRequest request) \r\n                   throws ExecutionException, InterruptedException {\r\n        CompletableFuture&lt;Boolean&gt; result = userService.getUser(request.getUserName())\r\n                .thenCompose(user -&gt; userEntityService.getUserEntities(user.getUserId()))\r\n                .thenCompose(userEntities -&gt; validate(userEntities, request.getUserEntities()));\r\n\r\n        Boolean validationStatus = result.get();\r\n        if (!validationStatus) {\r\n            log.error(&quot;Validation failed for user name {}&quot;, request.getUserName());\r\n        }\r\n        return validationStatus;\r\n    }\r\n}\r\n```\r\n\r\nAnd the test case is written as\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass UserValidationServiceTest {\r\n\r\n    @Mock\r\n    UserService userService;\r\n\r\n    @Mock\r\n    UserEntityService userEntityService;\r\n\r\n    @InjectMocks\r\n    UserValidationService userValidationService;\r\n\r\n    @Before\r\n    public void init() {\r\n        MockitoAnnotations.openMocks(this);\r\n    }\r\n\r\n    @Test\r\n    public void validateUser() throws ExecutionException, InterruptedException {\r\n        CompletableFuture&lt;User&gt; userFuture = new CompletableFuture&lt;&gt;();\r\n        CompletableFuture&lt;List&lt;UserEntity&gt;&gt; userEntityFuture = new CompletableFuture&lt;&gt;();\r\n\r\n        Mockito.doReturn(userFuture).when(userService).getUser(anyString());\r\n        Mockito.doReturn(userEntityFuture).when(userEntityService).getUserEntities(anyLong());\r\n\r\n        UserRequest request = UserRequest.builder()\r\n                .userName(&quot;admin&quot;)\r\n                .userEntities(List.of(&quot;US&quot;, &quot;ASIA&quot;, &quot;EUROPE&quot;)).build();\r\n\r\n\r\n        boolean result = validationService.validateUserCounterparty(request);\r\n        assertTrue(result);\r\n\r\n    }\r\n}\r\n```\r\n\r\nOn executing this test, it goes into infinite loop and never stops. I guess its because the completable future is not returning but I dont have enough knowledge on how to prevent it.\r\n\r\nWhat modification should I do to prevent it?","title":"Testing CompletableFuture.supplyAsync with Mockito","body":"<p>I am trying to test CompletableFuture.supplyAsync function with mockito but the test is not completing probably because the completable future is not returning. I am not sure what I am missing in the code. Can anyone please help.</p>\n<p>I have written the code as follows.\nSo there are UserService class which returns User, UserEntityService class which returns users entities and a validation class to check if the entities belongs to the user or not.</p>\n<p>I want to test if the passed entities belongs to user or not.</p>\n<pre><code>class UserService {\n\n    CompletableFuture&lt;User&gt; getUser(String userName) {\n        log.info(&quot;Fetching User with username {}&quot;, userName);\n        return CompletableFuture.supplyAsync(\n                () -&gt; getUserByPortalUserName(userName));\n    }\n}\n</code></pre>\n<pre><code>class UserEntityService {\n\n    CompletableFuture&lt;List&lt;UserEntity&gt;&gt; getUserEntities(Long userId) {\n        log.info(&quot;Retrieving all entities for user id {}&quot;, userId);\n        return CompletableFuture.supplyAsync(\n                () -&gt; getAllByUserId(userId));\n    }\n}\n</code></pre>\n<pre><code>class UserValidationService {\n\n    public boolean validateUserCounterparty(UserRequest request) \n                   throws ExecutionException, InterruptedException {\n        CompletableFuture&lt;Boolean&gt; result = userService.getUser(request.getUserName())\n                .thenCompose(user -&gt; userEntityService.getUserEntities(user.getUserId()))\n                .thenCompose(userEntities -&gt; validate(userEntities, request.getUserEntities()));\n\n        Boolean validationStatus = result.get();\n        if (!validationStatus) {\n            log.error(&quot;Validation failed for user name {}&quot;, request.getUserName());\n        }\n        return validationStatus;\n    }\n}\n</code></pre>\n<p>And the test case is written as</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass UserValidationServiceTest {\n\n    @Mock\n    UserService userService;\n\n    @Mock\n    UserEntityService userEntityService;\n\n    @InjectMocks\n    UserValidationService userValidationService;\n\n    @Before\n    public void init() {\n        MockitoAnnotations.openMocks(this);\n    }\n\n    @Test\n    public void validateUser() throws ExecutionException, InterruptedException {\n        CompletableFuture&lt;User&gt; userFuture = new CompletableFuture&lt;&gt;();\n        CompletableFuture&lt;List&lt;UserEntity&gt;&gt; userEntityFuture = new CompletableFuture&lt;&gt;();\n\n        Mockito.doReturn(userFuture).when(userService).getUser(anyString());\n        Mockito.doReturn(userEntityFuture).when(userEntityService).getUserEntities(anyLong());\n\n        UserRequest request = UserRequest.builder()\n                .userName(&quot;admin&quot;)\n                .userEntities(List.of(&quot;US&quot;, &quot;ASIA&quot;, &quot;EUROPE&quot;)).build();\n\n\n        boolean result = validationService.validateUserCounterparty(request);\n        assertTrue(result);\n\n    }\n}\n</code></pre>\n<p>On executing this test, it goes into infinite loop and never stops. I guess its because the completable future is not returning but I dont have enough knowledge on how to prevent it.</p>\n<p>What modification should I do to prevent it?</p>\n"},{"tags":["java","spring","gradle","intellij-idea","module"],"comments":[{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1593592100,"post_id":62672357,"comment_id":110831792,"body_markdown":"try renaming directory and and add same name in setting.gradle and finally try reimporting project","body":"try renaming directory and and add same name in setting.gradle and finally try reimporting project"}],"answers":[{"tags":[],"owner":{"account_id":18675034,"reputation":107,"user_id":13612900,"display_name":"Sheena"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1593592162,"creation_date":1593592162,"answer_id":62672739,"question_id":62672357,"body_markdown":"I&#39;m not familiar with grandle.  \r\nBut there ist a way that worked for me in IntelliJ:   \r\n  \r\nFile &gt; Project Structure &gt; Project &gt; Project Name  \r\n(Alternative Strg-Shift-Alt-S) &gt; Project &gt; Project Name\r\n\r\nMaybe this can help you","title":"Rename the root module of my project in Intellij","body":"<p>I'm not familiar with grandle.<br />\nBut there ist a way that worked for me in IntelliJ:</p>\n<p>File &gt; Project Structure &gt; Project &gt; Project Name<br />\n(Alternative Strg-Shift-Alt-S) &gt; Project &gt; Project Name</p>\n<p>Maybe this can help you</p>\n"},{"tags":[],"owner":{"account_id":19602556,"reputation":461,"user_id":14347023,"display_name":"iamgrodrigues"},"down_vote_count":0,"up_vote_count":36,"is_accepted":false,"score":36,"last_activity_date":1665458793,"creation_date":1608990784,"answer_id":65457072,"question_id":62672357,"body_markdown":"You can rename the root module of your java project, following these steps:\r\n\r\nGo to Project Structure (`Ctrl`+`Alt`+`Shift`+`S`) → `Project Settings / Project → Project name:`\r\n![Project name:][1]\r\n\r\nOpen the settings.gradle file and rename the rootProject.name\r\n![rootProject.name][2]\r\n\r\nOnce done, delete the .idea folder from your root project folder, rename your project folder on your system and then restart IntelliJ. \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/AtlaV.png\r\n  [2]: https://i.stack.imgur.com/kqzcd.png","title":"Rename the root module of my project in Intellij","body":"<p>You can rename the root module of your java project, following these steps:</p>\n<p>Go to Project Structure (<code>Ctrl</code>+<code>Alt</code>+<code>Shift</code>+<code>S</code>) → <code>Project Settings / Project → Project name:</code>\n<img src=\"https://i.stack.imgur.com/AtlaV.png\" alt=\"Project name:\" /></p>\n<p>Open the settings.gradle file and rename the rootProject.name\n<img src=\"https://i.stack.imgur.com/kqzcd.png\" alt=\"rootProject.name\" /></p>\n<p>Once done, delete the .idea folder from your root project folder, rename your project folder on your system and then restart IntelliJ.</p>\n"},{"tags":[],"owner":{"account_id":20658918,"reputation":1,"user_id":15167305,"display_name":"wangdao"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612770647,"creation_date":1612770647,"answer_id":66097667,"question_id":62672357,"body_markdown":"You can rename the directory&#39;s name and restart idea.","title":"Rename the root module of my project in Intellij","body":"<p>You can rename the directory's name and restart idea.</p>\n"},{"tags":[],"owner":{"account_id":18114104,"reputation":1,"user_id":13170944,"display_name":"URTOJU"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1624777414,"creation_date":1624777414,"answer_id":68148782,"question_id":62672357,"body_markdown":"Close the project and rename files in .idea/modules, than you can also rename the root folder and just open it again.","title":"Rename the root module of my project in Intellij","body":"<p>Close the project and rename files in .idea/modules, than you can also rename the root folder and just open it again.</p>\n"},{"tags":[],"owner":{"account_id":29127598,"reputation":1,"user_id":22313590,"display_name":"Kjell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690797056,"creation_date":1690797056,"answer_id":76802446,"question_id":62672357,"body_markdown":"You need to update rootProject.name in the file settings.gradle.kts if it&#39;s a kotlin gradle project. Otherwise the corresponding files in maven projects.","title":"Rename the root module of my project in Intellij","body":"<p>You need to update rootProject.name in the file settings.gradle.kts if it's a kotlin gradle project. Otherwise the corresponding files in maven projects.</p>\n"}],"owner":{"account_id":17574559,"reputation":151,"user_id":12749614,"display_name":"java_0100"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17267,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"answer_count":5,"score":13,"last_activity_date":1690797056,"creation_date":1593590803,"question_id":62672357,"body_markdown":"I want to rename the root module of my java project, however I&#39;m getting an error &quot;Can&#39;t rename root module&quot;. I&#39;m using Intellij Idea 2019.3.2.\r\nI&#39;m also using gradle as the build tool. ","title":"Rename the root module of my project in Intellij","body":"<p>I want to rename the root module of my java project, however I'm getting an error &quot;Can't rename root module&quot;. I'm using Intellij Idea 2019.3.2.\nI'm also using gradle as the build tool.</p>\n"},{"tags":["java","jira","jira-rest-api","cucumber-java","jira-xray"],"comments":[{"owner":{"account_id":21004052,"reputation":381,"user_id":15434268,"display_name":"Cristiano Cunha"},"score":0,"creation_date":1690194950,"post_id":76747833,"comment_id":135314617,"body_markdown":"I have some questions in order to be able to help: 1- Are you using Cloud or Server version of Jira? 2- What framework/tool you are using to execute the tests and generate the results file? 3- Can you share the results file (after cleaning it of any sensible information)?","body":"I have some questions in order to be able to help: 1- Are you using Cloud or Server version of Jira? 2- What framework/tool you are using to execute the tests and generate the results file? 3- Can you share the results file (after cleaning it of any sensible information)?"},{"owner":{"account_id":27380609,"reputation":1,"user_id":20885271,"display_name":"shi"},"score":0,"creation_date":1690711826,"post_id":76747833,"comment_id":135389038,"body_markdown":"1.2. I am using the cucumber framework to generate the result test in json formatt        \n3..","body":"1.2. I am using the cucumber framework to generate the result test in json formatt         3.."}],"answers":[{"tags":[],"owner":{"account_id":3396772,"reputation":1874,"user_id":2850180,"display_name":"S&#233;rgio"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690796977,"creation_date":1690796977,"answer_id":76802432,"question_id":76747833,"body_markdown":"It seems a Jira configuration issue related to the screen configuration associated with Test Execution issues.\r\nPlease check with your Jira administrator that you can manually create Test Execution issues (you can try to create one by yourself) and that you see the &quot;Assignee&quot; field on the dialog.\r\n\r\n[![Test Execution issue creation dialog][1]][1] \r\n\r\nIf you don&#39;t see it, then use the options on the creation dialog to see if you can add it.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\nIf not, the project administrator can go to the project settings =&gt; Issues =&gt; Screens and then edit the corresponding Create and Edit issue screen that are associated to the Test Execution issue type.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nNote: the &quot;Assignee&quot; should also appear on the view screen of Test Execution issues.\r\n\r\n[![Test Execution issue view screen][4]][4]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/HuOY6.png\r\n  [2]: https://i.stack.imgur.com/HOa4y.png\r\n  [3]: https://i.stack.imgur.com/oSDR4.png\r\n  [4]: https://i.stack.imgur.com/HTfYW.png","title":"Error in Xray Rest API Request to execution cucumber Json result test in Jira","body":"<p>It seems a Jira configuration issue related to the screen configuration associated with Test Execution issues.\nPlease check with your Jira administrator that you can manually create Test Execution issues (you can try to create one by yourself) and that you see the &quot;Assignee&quot; field on the dialog.</p>\n<p><a href=\"https://i.stack.imgur.com/HuOY6.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HuOY6.png\" alt=\"Test Execution issue creation dialog\" /></a></p>\n<p>If you don't see it, then use the options on the creation dialog to see if you can add it.</p>\n<p><a href=\"https://i.stack.imgur.com/HOa4y.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HOa4y.png\" alt=\"enter image description here\" /></a></p>\n<p>If not, the project administrator can go to the project settings =&gt; Issues =&gt; Screens and then edit the corresponding Create and Edit issue screen that are associated to the Test Execution issue type.</p>\n<p><a href=\"https://i.stack.imgur.com/oSDR4.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/oSDR4.png\" alt=\"enter image description here\" /></a></p>\n<p>Note: the &quot;Assignee&quot; should also appear on the view screen of Test Execution issues.</p>\n<p><a href=\"https://i.stack.imgur.com/HTfYW.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/HTfYW.png\" alt=\"Test Execution issue view screen\" /></a></p>\n"}],"owner":{"account_id":27380609,"reputation":1,"user_id":20885271,"display_name":"shi"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":276,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1690796977,"creation_date":1690109432,"question_id":76747833,"body_markdown":"I am trying to send api request using:\r\n\r\n```\r\n`curl --location &#39;https://xray.cloud.getxray.app/api/v1/import/execution/cucumber&#39; \\\r\n--header &#39;Authorization: Bearer $token&#39; \\\r\n--header &#39;Content-Type: application/json&#39; \\\r\n--data &#39;**jsonresulttest**&#39;`\r\n```\r\n\r\nI am sending with the correct token \r\nand adding the json result test for the body api request \r\n\r\nI generated the json result test in TestRunner class: \r\n```\r\n@Service\r\n@RunWith(Cucumber.class)\r\n@CucumberOptions(features = &quot;src/test/java/resources&quot;,\r\n        glue = &quot;classpath:com.gth.automation&quot;,\r\n        tags = &quot;@GTH-25068&quot;,\r\n        plugin = {&quot;json:target/cucumber-report.json&quot;, &quot;pretty&quot;,&quot;html:target/cucumber-reports&quot;},\r\n        monochrome = true,\r\n        publish = false)\r\npublic class TestRunner {\r\n}\r\n```\r\n\r\nAdding the result test json from the file target/cucumber-report.json.\r\nbut I am getting an error from Postman:\r\n```\r\n\r\n{\r\n    &quot;error&quot;: &quot;Error creating Test Execution - Issue create failed! - assignee: Field &#39;assignee&#39; cannot be set. It is not on the appropriate screen, or unknown.&quot;\r\n}\r\n```\r\n\r\nI think the structure that is generated in target/cucumber-report.json has a different structure than the Xray API call that is accepted to get.\r\nI need help in figuring out how can I produce the correct json structure for the API request  \r\n```\r\n**POST /rest/raven/1.0/import/execution/cucumber**\r\n```\r\nthanks.\r\n\r\n\r\nI trying to send Correct API request to \r\n```\r\nPOST /rest/raven/1.0/import/execution/cucumber/multipart\r\n```","title":"Error in Xray Rest API Request to execution cucumber Json result test in Jira","body":"<p>I am trying to send api request using:</p>\n<pre><code>`curl --location 'https://xray.cloud.getxray.app/api/v1/import/execution/cucumber' \\\n--header 'Authorization: Bearer $token' \\\n--header 'Content-Type: application/json' \\\n--data '**jsonresulttest**'`\n</code></pre>\n<p>I am sending with the correct token\nand adding the json result test for the body api request</p>\n<p>I generated the json result test in TestRunner class:</p>\n<pre><code>@Service\n@RunWith(Cucumber.class)\n@CucumberOptions(features = &quot;src/test/java/resources&quot;,\n        glue = &quot;classpath:com.gth.automation&quot;,\n        tags = &quot;@GTH-25068&quot;,\n        plugin = {&quot;json:target/cucumber-report.json&quot;, &quot;pretty&quot;,&quot;html:target/cucumber-reports&quot;},\n        monochrome = true,\n        publish = false)\npublic class TestRunner {\n}\n</code></pre>\n<p>Adding the result test json from the file target/cucumber-report.json.\nbut I am getting an error from Postman:</p>\n<pre><code>\n{\n    &quot;error&quot;: &quot;Error creating Test Execution - Issue create failed! - assignee: Field 'assignee' cannot be set. It is not on the appropriate screen, or unknown.&quot;\n}\n</code></pre>\n<p>I think the structure that is generated in target/cucumber-report.json has a different structure than the Xray API call that is accepted to get.\nI need help in figuring out how can I produce the correct json structure for the API request</p>\n<pre><code>**POST /rest/raven/1.0/import/execution/cucumber**\n</code></pre>\n<p>thanks.</p>\n<p>I trying to send Correct API request to</p>\n<pre><code>POST /rest/raven/1.0/import/execution/cucumber/multipart\n</code></pre>\n"},{"tags":["java","persistence","dao","entitymanager","entitymanagerfactory"],"answers":[{"tags":[],"owner":{"account_id":19092422,"reputation":51311,"user_id":13942448,"display_name":"jccampanero"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1690796861,"creation_date":1690755297,"answer_id":76799802,"question_id":76750370,"body_markdown":"The error you are facing:\r\n\r\n```\r\njavax.persistence.PersistenceException: No Persistence provider for EntityManager named default\r\n```\r\n\r\nis raised when you are trying creating the `EntityManagerFactory` in this line of code:\r\n\r\n```java\r\nEntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;, properties);\r\n```\r\n\r\nUnder the hood, this method will invoke the configured [`PersistenceProvider`](https://docs.oracle.com/javaee/7/api/javax/persistence/spi/PersistenceProvider.html) but according to the error either no one is configured or there is some type of misconfiguration.\r\n\r\nA `PersistenceProvider` is configured when defining your application JPA persistence unit. For this purpose you need to define an appropriate `persistence.xml` file (please, consider read for example [this related article of Vlad Mihalcea](https://vladmihalcea.com/jpa-persistence-xml/)).\r\n\r\nThe content of this file will depend on the actual JPA implementation library that you are using, although it will be the same in a great extend.\r\n\r\nFor example, consider review the configuration provided for Hibernate in [this gist](https://gist.github.com/etissieres/5796622):\r\n\r\n```xml\r\n&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n             version=&quot;2.0&quot;&gt;\r\n\r\n    &lt;persistence-unit name=&quot;sample&quot;&gt;\r\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\r\n        &lt;class&gt;org.sample.entities.Entity&lt;/class&gt;\r\n\r\n        &lt;properties&gt;\r\n            &lt;property name=&quot;dialect&quot; value=&quot;org.hibernate.dialect.SQLiteDialect&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.sqlite.JDBC&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:sqlite::memory:&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot; /&gt;\r\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;format_sql&quot; value=&quot;true&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.connection.charSet&quot; value=&quot;UTF-8&quot; /&gt;\r\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n```\r\n\r\nFor EclipseLink, as in your example, I came across [this excellent example](https://github.com/rgarciacarmona/JPA-Demo/blob/master/src/META-INF/persistence.xml):\r\n\r\n\r\n```xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\r\n&lt;persistence xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\r\n\tversion=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;&gt;\r\n \r\n\t&lt;!-- Persistence Provider --&gt;\r\n\t&lt;!-- RESOURCE-LOCAL: Application-managed transactions --&gt;\r\n\t&lt;!-- JTA: Container-managed transactions --&gt;\r\n\t&lt;persistence-unit name=&quot;company-provider&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\r\n\t\t&lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\r\n \r\n\t\t&lt;!-- Entity Class --&gt;\r\n\t\t&lt;class&gt;sample.db.pojos.Employee&lt;/class&gt;\r\n\t\t&lt;class&gt;sample.db.pojos.Department&lt;/class&gt;\r\n\t\t&lt;class&gt;sample.db.pojos.Report&lt;/class&gt;\r\n \r\n\t\t&lt;properties&gt;\t\r\n\t\t\t&lt;!-- Connection properties --&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.sqlite.JDBC&quot; /&gt;\r\n\t\t    &lt;property name=&quot;javax.persistence.jdbc.url&quot;\tvalue=&quot;jdbc:sqlite:./db/company.db&quot; /&gt;\r\n\t\t\t&lt;!-- Fill if we need user and password --&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot; /&gt;\r\n\t\t\t&lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot; /&gt;\r\n\t\t    \r\n\t\t    &lt;!-- Controls logging level --&gt;\r\n\t\t    &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;INFO&quot; /&gt;\r\n\t\t    &lt;!-- &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;ALL&quot; /&gt; --&gt;\r\n\r\n\t\t\t&lt;!-- JPA doesn&#39;t create the schema --&gt;\r\n\t\t\t&lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-tables&quot; /&gt;\r\n\t\t\t&lt;!-- JPA destroys and recreates the schema --&gt;\r\n\t\t\t&lt;!-- &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;drop-and-create-tables&quot; /&gt; --&gt;\r\n\t\t&lt;/properties&gt;\r\n \r\n\t&lt;/persistence-unit&gt;\r\n&lt;/persistence&gt;\r\n``` \r\n\r\nPlease, note that in any case the persistence unit name should be the one you configured, `default`:\r\n\r\n```\r\npersistence-unit name=&quot;default&quot;\r\n```\r\n\r\nThe `persistence.xml` usually must be defined in the `META-INF` directory, i.e., if you are using Maven standard layout, in `src/main/resources/META-INF/persistence.xml`.\r\n\r\nWith this configuration in place, you can create the `EntityManagerFactory` manually with the following code:\r\n\r\n```java\r\nEntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;default&quot;);\r\nEntityManager em = factory.createEntityManager();\r\n``` \r\n\r\nRegarding your comments, please, note that unless you are using some type of dependency injection mechanism - Spring, CDI - you will not be able to use the `@PersistenceUnit` annotation (please, see [this](https://stackoverflow.com/questions/4381724/persistenceunit-annotation-wont-create-an-entitymanagefactory-emf-null) related SO question): as stated, you need to create the `EntityManagerFactory` manually as described above.\r\n\r\nOne of the above mentioned repositories provides a more [complete example](\r\nhttps://github.com/rgarciacarmona/JPA-Demo/blob/master/src/sample/db/jpa/FullJPAExample.java).\r\n\r\nYou need to include the required dependencies, Hibernate or EcliseLink, in your project; I am aware that you mentioned if anybody knows how to do that without those libraries but, and I hope to be wrong, I think that the task of implementing a custom `PersistenceProvider` could be cornerstone. Please, take into account that you will need to implement, among other things, the `EntityManager` itself, model all the transitions between the different persistent states of the entity, etc. Please, prefer instead a battle tested solution based on any of the two libraries mentioned.\r\n","title":"How to define a persistenceprovider for a getEntityManager method?","body":"<p>The error you are facing:</p>\n<pre><code>javax.persistence.PersistenceException: No Persistence provider for EntityManager named default\n</code></pre>\n<p>is raised when you are trying creating the <code>EntityManagerFactory</code> in this line of code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;, properties);\n</code></pre>\n<p>Under the hood, this method will invoke the configured <a href=\"https://docs.oracle.com/javaee/7/api/javax/persistence/spi/PersistenceProvider.html\" rel=\"nofollow noreferrer\"><code>PersistenceProvider</code></a> but according to the error either no one is configured or there is some type of misconfiguration.</p>\n<p>A <code>PersistenceProvider</code> is configured when defining your application JPA persistence unit. For this purpose you need to define an appropriate <code>persistence.xml</code> file (please, consider read for example <a href=\"https://vladmihalcea.com/jpa-persistence-xml/\" rel=\"nofollow noreferrer\">this related article of Vlad Mihalcea</a>).</p>\n<p>The content of this file will depend on the actual JPA implementation library that you are using, although it will be the same in a great extend.</p>\n<p>For example, consider review the configuration provided for Hibernate in <a href=\"https://gist.github.com/etissieres/5796622\" rel=\"nofollow noreferrer\">this gist</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;persistence xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n             xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\n             version=&quot;2.0&quot;&gt;\n\n    &lt;persistence-unit name=&quot;sample&quot;&gt;\n        &lt;provider&gt;org.hibernate.ejb.HibernatePersistence&lt;/provider&gt;\n        &lt;class&gt;org.sample.entities.Entity&lt;/class&gt;\n\n        &lt;properties&gt;\n            &lt;property name=&quot;dialect&quot; value=&quot;org.hibernate.dialect.SQLiteDialect&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.sqlite.JDBC&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:sqlite::memory:&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot; /&gt;\n            &lt;property name=&quot;hibernate.show_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;format_sql&quot; value=&quot;true&quot; /&gt;\n            &lt;property name=&quot;hibernate.connection.charSet&quot; value=&quot;UTF-8&quot; /&gt;\n            &lt;property name=&quot;hibernate.hbm2ddl.auto&quot; value=&quot;create&quot; /&gt;\n        &lt;/properties&gt;\n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>For EclipseLink, as in your example, I came across <a href=\"https://github.com/rgarciacarmona/JPA-Demo/blob/master/src/META-INF/persistence.xml\" rel=\"nofollow noreferrer\">this excellent example</a>:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;\n&lt;persistence xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://java.sun.com/xml/ns/persistence http://java.sun.com/xml/ns/persistence/persistence_2_0.xsd&quot;\n    version=&quot;2.0&quot; xmlns=&quot;http://java.sun.com/xml/ns/persistence&quot;&gt;\n \n    &lt;!-- Persistence Provider --&gt;\n    &lt;!-- RESOURCE-LOCAL: Application-managed transactions --&gt;\n    &lt;!-- JTA: Container-managed transactions --&gt;\n    &lt;persistence-unit name=&quot;company-provider&quot; transaction-type=&quot;RESOURCE_LOCAL&quot;&gt;\n        &lt;provider&gt;org.eclipse.persistence.jpa.PersistenceProvider&lt;/provider&gt;\n \n        &lt;!-- Entity Class --&gt;\n        &lt;class&gt;sample.db.pojos.Employee&lt;/class&gt;\n        &lt;class&gt;sample.db.pojos.Department&lt;/class&gt;\n        &lt;class&gt;sample.db.pojos.Report&lt;/class&gt;\n \n        &lt;properties&gt;    \n            &lt;!-- Connection properties --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.driver&quot; value=&quot;org.sqlite.JDBC&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.url&quot; value=&quot;jdbc:sqlite:./db/company.db&quot; /&gt;\n            &lt;!-- Fill if we need user and password --&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.user&quot; value=&quot;&quot; /&gt;\n            &lt;property name=&quot;javax.persistence.jdbc.password&quot; value=&quot;&quot; /&gt;\n            \n            &lt;!-- Controls logging level --&gt;\n            &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;INFO&quot; /&gt;\n            &lt;!-- &lt;property name=&quot;eclipselink.logging.level&quot; value=&quot;ALL&quot; /&gt; --&gt;\n\n            &lt;!-- JPA doesn't create the schema --&gt;\n            &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;create-tables&quot; /&gt;\n            &lt;!-- JPA destroys and recreates the schema --&gt;\n            &lt;!-- &lt;property name=&quot;eclipselink.ddl-generation&quot; value=&quot;drop-and-create-tables&quot; /&gt; --&gt;\n        &lt;/properties&gt;\n \n    &lt;/persistence-unit&gt;\n&lt;/persistence&gt;\n</code></pre>\n<p>Please, note that in any case the persistence unit name should be the one you configured, <code>default</code>:</p>\n<pre><code>persistence-unit name=&quot;default&quot;\n</code></pre>\n<p>The <code>persistence.xml</code> usually must be defined in the <code>META-INF</code> directory, i.e., if you are using Maven standard layout, in <code>src/main/resources/META-INF/persistence.xml</code>.</p>\n<p>With this configuration in place, you can create the <code>EntityManagerFactory</code> manually with the following code:</p>\n<pre class=\"lang-java prettyprint-override\"><code>EntityManagerFactory factory = Persistence.createEntityManagerFactory(&quot;default&quot;);\nEntityManager em = factory.createEntityManager();\n</code></pre>\n<p>Regarding your comments, please, note that unless you are using some type of dependency injection mechanism - Spring, CDI - you will not be able to use the <code>@PersistenceUnit</code> annotation (please, see <a href=\"https://stackoverflow.com/questions/4381724/persistenceunit-annotation-wont-create-an-entitymanagefactory-emf-null\">this</a> related SO question): as stated, you need to create the <code>EntityManagerFactory</code> manually as described above.</p>\n<p>One of the above mentioned repositories provides a more <a href=\"https://github.com/rgarciacarmona/JPA-Demo/blob/master/src/sample/db/jpa/FullJPAExample.java\" rel=\"nofollow noreferrer\">complete example</a>.</p>\n<p>You need to include the required dependencies, Hibernate or EcliseLink, in your project; I am aware that you mentioned if anybody knows how to do that without those libraries but, and I hope to be wrong, I think that the task of implementing a custom <code>PersistenceProvider</code> could be cornerstone. Please, take into account that you will need to implement, among other things, the <code>EntityManager</code> itself, model all the transitions between the different persistent states of the entity, etc. Please, prefer instead a battle tested solution based on any of the two libraries mentioned.</p>\n"}],"owner":{"account_id":3187825,"reputation":8415,"user_id":2692962,"accept_rate":82,"display_name":"Kleber Mota"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":76799802,"answer_count":1,"score":1,"last_activity_date":1690796861,"creation_date":1690147271,"question_id":76750370,"body_markdown":"I am trying implement a template for my Model classes in my java/servlet project, with methods for create tables, insert, update, delete and select data. the start point for all this methods is this method `protected EntityManager getEntityManager()` where I define where the sqlite database is located and other preferences.\r\n\r\nBut when this method is executed, the error `javax.persistence.PersistenceException: No Persistence provider for EntityManager named default` happens. My current implementation for this method is:\r\n\r\n    public abstract class Dao&lt;E extends Model&gt; {\r\n        private Class&lt;E&gt; classe;\r\n    \r\n        public Dao(Class&lt;E&gt; classe) {\r\n            this.classe = classe;\r\n            if(!exists()) create();\r\n        }\r\n    \r\n    protected EntityManager getEntityManager() {\r\n        String url = getClass().getResource(&quot;/data.db&quot;).toString();\r\n        Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\r\n        properties.put(&quot;javax.persistence.jdbc.provider&quot;, &quot;org.eclipse.persistence.jpa.PersistenceProvider&quot;);\r\n        properties.put(&quot;javax.persistence.jdbc.driver&quot;, &quot;org.sqlite.JDBC&quot;);\r\n        properties.put(&quot;javax.persistence.jdbc.url&quot;, &quot;jdbc:sqlite:&quot;+url);\r\n        EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;, properties);\r\n        return entityManagerFactory.createEntityManager();\r\n    }\r\n\r\n        ...\r\n    }\r\n\r\nanyone knows how to solve this, without have to include an external library like hibernate or similar?\r\n\r\n\r\n","title":"How to define a persistenceprovider for a getEntityManager method?","body":"<p>I am trying implement a template for my Model classes in my java/servlet project, with methods for create tables, insert, update, delete and select data. the start point for all this methods is this method <code>protected EntityManager getEntityManager()</code> where I define where the sqlite database is located and other preferences.</p>\n<p>But when this method is executed, the error <code>javax.persistence.PersistenceException: No Persistence provider for EntityManager named default</code> happens. My current implementation for this method is:</p>\n<pre><code>public abstract class Dao&lt;E extends Model&gt; {\n    private Class&lt;E&gt; classe;\n\n    public Dao(Class&lt;E&gt; classe) {\n        this.classe = classe;\n        if(!exists()) create();\n    }\n\nprotected EntityManager getEntityManager() {\n    String url = getClass().getResource(&quot;/data.db&quot;).toString();\n    Map&lt;String, String&gt; properties = new HashMap&lt;&gt;();\n    properties.put(&quot;javax.persistence.jdbc.provider&quot;, &quot;org.eclipse.persistence.jpa.PersistenceProvider&quot;);\n    properties.put(&quot;javax.persistence.jdbc.driver&quot;, &quot;org.sqlite.JDBC&quot;);\n    properties.put(&quot;javax.persistence.jdbc.url&quot;, &quot;jdbc:sqlite:&quot;+url);\n    EntityManagerFactory entityManagerFactory = Persistence.createEntityManagerFactory(&quot;default&quot;, properties);\n    return entityManagerFactory.createEntityManager();\n}\n\n    ...\n}\n</code></pre>\n<p>anyone knows how to solve this, without have to include an external library like hibernate or similar?</p>\n"},{"tags":["java","spring-boot","spring-webflux","webclient"],"owner":{"account_id":14751968,"reputation":1,"user_id":14426642,"display_name":"Morante"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":280,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690796747,"creation_date":1690796747,"question_id":76802404,"body_markdown":"I am trying to figure out how to perform the test webclient metodo post with mockito.\r\nI can&#39;t find a solution to have a minimum acceptable test to pass.\r\n\r\nHere is my code:\r\n\r\nCallApiRest:\r\n\r\n```\r\nCallApiRest\r\n@Autowired\r\n    private CallApiConfig apiConfig;\r\n\r\n\r\n    /**\r\n     * Search for patient existence in Faro\r\n     * @param dataPatient request data patient\r\n     * @return String\r\n     */\r\n    @Override\r\n    public Map&lt;String, Object&gt; findPatient(Map&lt;String, String&gt; dataPatient) {\r\n        log.info(&quot;Entrando en el apiRest haciendo la llamada a faro&quot;);\r\n\r\n        return  apiConfig.webClient().post()\r\n                            .uri(&quot;/login&quot;)\r\n                            .accept(MediaType.APPLICATION_JSON)\r\n                            .contentType(MediaType.APPLICATION_JSON)\r\n                            .body(BodyInserters.fromValue(dataPatient))\r\n                            .retrieve()\r\n                            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {})\r\n                            .onErrorResume(WebClientResponseException.class, CallApiRest::statusCode)\r\n                            .block();\r\n    }\r\n\r\n    /**\r\n     * We control the error codes to pass it later to Frontend.\r\n     * @param e exception parameter\r\n     * @return the error or return the value of body\r\n     */\r\n    public static Mono&lt;? extends Map&lt;String, Object&gt;&gt; statusCode(WebClientResponseException e) {\r\n        try {\r\n            log.info(&quot;Comprobamos el resultado de la consulta si hay errores, ya sea por cuerpo vacio o datos del paciente erroneos.&quot;);\r\n            ObjectMapper objectMapper = new ObjectMapper();\r\n            if (e.getRawStatusCode() == 403) {\r\n                return Mono.just(objectMapper.readValue(e.getResponseBodyAsString(), new TypeReference&lt;&gt;() {\r\n                        }));\r\n            } else {\r\n                return Mono.error(e);\r\n            }\r\n        } catch (JsonProcessingException jsonEx) {\r\n            log.error(&quot;Error en el servicio apiRest Json: CallApiRest&quot;);\r\n            return Mono.error(jsonEx);\r\n        }\r\n    }\r\n```\r\n\r\nCallApiConfig\r\n```\r\n@Configuration\r\npublic class CallApiConfig {\r\n\r\n    @Bean\r\n    public WebClient webClient(){\r\n        return WebClient.builder()\r\n                .baseUrl(&quot;http://urlok&quot;)\r\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\r\n                .build();\r\n    }\r\n}\r\n```\r\n\r\nTEST:\r\n\r\n\r\n```\r\n@ExtendWith(MockitoExtension.class)\r\nclass CallApiRestTest {\r\n\r\n    @Mock\r\n    private WebClient webClient;\r\n    @Mock\r\n    private WebClient.RequestBodyUriSpec requestBodyUriSpec ;\r\n    @Mock\r\n    private WebClient.RequestBodySpec requestBodySpec ;\r\n    @Mock\r\n    private WebClient.RequestHeadersSpec requestHeadersSpec ;\r\n    @Mock\r\n    private WebClient.ResponseSpec responseSpec ;\r\n    @Mock\r\n    private CallApiConfig apiConfig;\r\n    @InjectMocks\r\n    private CallApiRest callApiRest;\r\n\r\n    //Initial variables\r\n    private Map&lt;String, String&gt; dataPatient;\r\n\r\n    private Map&lt;String, Object&gt; dataResponse;\r\n    private Map&lt;String, Object&gt; dataResponseError;\r\n\r\n    private ObjectMapper objectMapper;\r\n    private String statusOnError;\r\n\r\n    @BeforeEach\r\n    void setUp() {\r\n        dataPatient = new HashMap&lt;&gt;();\r\n        dataResponse = new HashMap&lt;&gt;();\r\n        dataResponseError = new HashMap&lt;&gt;();\r\n        objectMapper = new ObjectMapper();\r\n\r\n        //initialize dataPatient\r\n        dataPatient.put(&quot;identificationNumber&quot;, &quot;XXXX&quot;);\r\n        dataPatient.put(&quot;birthdate&quot;,&quot;XXXX&quot;);\r\n        dataPatient.put(&quot;allowPatientData&quot;, &quot;true&quot;);\r\n        dataPatient.put(&quot;appointmentId&quot;,&quot;XXX&quot;);\r\n\r\n        //Initialize dataResponse status-&gt;200 ok\r\n        dataResponse.put(&quot;personalData&quot;, &quot;XXX&quot;);\r\n        dataResponse.put(&quot;am&quot;, &quot;XXX&quot;);\r\n        dataResponse.put(&quot;gdpr&quot;, &quot;XXX&quot;);\r\n\r\n        //Initialize dataResponse status-&gt;403 Bad_request (Forbidden)\r\n        dataResponseError.put(&quot;error&quot;, &quot;Error 8.&quot;);\r\n\r\n        //Initialize data statusOnError JsonParse\r\n        statusOnError= &quot;&quot;&quot;\r\n                {\\r\r\n                 &quot;status&quot;: 200,\\r\r\n                 &quot;message&quot;: &quot;ok&quot;\\r\r\n                 }&quot;&quot;&quot;;\r\n\r\n    }\r\n\r\n    @Test\r\n    void findPatientOk() throws IOException {\r\n\r\n        //when\r\n        when(apiConfig.webClient()).thenReturn(webClient);\r\n        when(requestBodyUriSpec.uri(anyString())).thenReturn(requestBodySpec);\r\n        when(requestBodySpec.header(any(),any())).thenReturn(requestBodySpec);\r\n        when(webClient.post()).thenReturn(requestBodyUriSpec);\r\n        when(requestBodySpec.contentType(MediaType.APPLICATION_JSON)).thenReturn(requestBodySpec);\r\n        when(requestBodySpec.accept(MediaType.APPLICATION_JSON)).thenReturn(requestBodySpec);\r\n        when(requestBodySpec.body(BodyInserters.fromValue(dataPatient))).thenReturn(requestHeadersSpec);\r\n        when(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\r\n        when(responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {})).thenReturn(Mono.just(dataResponse));\r\n        when(responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {}).onErrorResume(WebClientResponseException.class, CallApiRest::statusCode))\r\n                .thenReturn(Mono.just(objectMapper.readValue(statusOnError, new TypeReference&lt;&gt;() {\r\n                })));\r\n\r\n        //given\r\n        Map&lt;String, Object&gt; response = callApiRest.findPatient(dataPatient);\r\n\r\n\r\n        //then\r\n        assertTrue(response.containsKey(&quot;personalData&quot;));\r\n        assertNotNull(response);\r\n    }\r\n```\r\n\r\nERROR:\r\n\r\n\r\n```\r\norg.mockito.exceptions.misusing.PotentialStubbingProblem: \r\nStrict stubbing argument mismatch. Please check:\r\n - this invocation of &#39;body&#39; method:\r\n    requestBodySpec.body(\r\n    org.springframework.web.reactive.function.BodyInserters$$Lambda$458/0x0000000800ef7ab8@a92be4f\r\n);\r\n\r\n - has following stubbing(s) with different arguments:\r\n    1. requestBodySpec.body(\r\n    org.springframework.web.reactive.function.BodyInserters$$Lambda$458/0x0000000800ef7ab8@6edcad64\r\n);\r\n\r\nTypically, stubbing argument mismatch indicates user mistake when writing tests.\r\nMockito fails early so that you can debug potential problem easily.\r\nHowever, there are legit scenarios when this exception generates false negative signal:\r\n  - stubbing the same method multiple times using &#39;given().will()&#39; or &#39;when().then()&#39; API\r\n    Please use &#39;will().given()&#39; or &#39;doReturn().when()&#39; API for stubbing.\r\n  - stubbed method is intentionally invoked with different arguments by code under test\r\n    Please use default or &#39;silent&#39; JUnit Rule (equivalent of Strictness.LENIENT).\r\nFor more information see javadoc for PotentialStubbingProblem class.\r\n```\r\n\r\n\r\nI don&#39;t understand it well, and the little documentation that exists does not include methods with BodyInserters and onErrorResume.\r\n\r\nI would appreciate some help, thanks.\r\n\r\n\r\n\r\n\r\nI need it to pass the test without errors, it is only a simulated request, in which the data I receive is 200 ok.","title":"Mockito BodyInserters.fromValue with webClient method post","body":"<p>I am trying to figure out how to perform the test webclient metodo post with mockito.\nI can't find a solution to have a minimum acceptable test to pass.</p>\n<p>Here is my code:</p>\n<p>CallApiRest:</p>\n<pre><code>CallApiRest\n@Autowired\n    private CallApiConfig apiConfig;\n\n\n    /**\n     * Search for patient existence in Faro\n     * @param dataPatient request data patient\n     * @return String\n     */\n    @Override\n    public Map&lt;String, Object&gt; findPatient(Map&lt;String, String&gt; dataPatient) {\n        log.info(&quot;Entrando en el apiRest haciendo la llamada a faro&quot;);\n\n        return  apiConfig.webClient().post()\n                            .uri(&quot;/login&quot;)\n                            .accept(MediaType.APPLICATION_JSON)\n                            .contentType(MediaType.APPLICATION_JSON)\n                            .body(BodyInserters.fromValue(dataPatient))\n                            .retrieve()\n                            .bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {})\n                            .onErrorResume(WebClientResponseException.class, CallApiRest::statusCode)\n                            .block();\n    }\n\n    /**\n     * We control the error codes to pass it later to Frontend.\n     * @param e exception parameter\n     * @return the error or return the value of body\n     */\n    public static Mono&lt;? extends Map&lt;String, Object&gt;&gt; statusCode(WebClientResponseException e) {\n        try {\n            log.info(&quot;Comprobamos el resultado de la consulta si hay errores, ya sea por cuerpo vacio o datos del paciente erroneos.&quot;);\n            ObjectMapper objectMapper = new ObjectMapper();\n            if (e.getRawStatusCode() == 403) {\n                return Mono.just(objectMapper.readValue(e.getResponseBodyAsString(), new TypeReference&lt;&gt;() {\n                        }));\n            } else {\n                return Mono.error(e);\n            }\n        } catch (JsonProcessingException jsonEx) {\n            log.error(&quot;Error en el servicio apiRest Json: CallApiRest&quot;);\n            return Mono.error(jsonEx);\n        }\n    }\n</code></pre>\n<p>CallApiConfig</p>\n<pre><code>@Configuration\npublic class CallApiConfig {\n\n    @Bean\n    public WebClient webClient(){\n        return WebClient.builder()\n                .baseUrl(&quot;http://urlok&quot;)\n                .defaultHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_VALUE)\n                .build();\n    }\n}\n</code></pre>\n<p>TEST:</p>\n<pre><code>@ExtendWith(MockitoExtension.class)\nclass CallApiRestTest {\n\n    @Mock\n    private WebClient webClient;\n    @Mock\n    private WebClient.RequestBodyUriSpec requestBodyUriSpec ;\n    @Mock\n    private WebClient.RequestBodySpec requestBodySpec ;\n    @Mock\n    private WebClient.RequestHeadersSpec requestHeadersSpec ;\n    @Mock\n    private WebClient.ResponseSpec responseSpec ;\n    @Mock\n    private CallApiConfig apiConfig;\n    @InjectMocks\n    private CallApiRest callApiRest;\n\n    //Initial variables\n    private Map&lt;String, String&gt; dataPatient;\n\n    private Map&lt;String, Object&gt; dataResponse;\n    private Map&lt;String, Object&gt; dataResponseError;\n\n    private ObjectMapper objectMapper;\n    private String statusOnError;\n\n    @BeforeEach\n    void setUp() {\n        dataPatient = new HashMap&lt;&gt;();\n        dataResponse = new HashMap&lt;&gt;();\n        dataResponseError = new HashMap&lt;&gt;();\n        objectMapper = new ObjectMapper();\n\n        //initialize dataPatient\n        dataPatient.put(&quot;identificationNumber&quot;, &quot;XXXX&quot;);\n        dataPatient.put(&quot;birthdate&quot;,&quot;XXXX&quot;);\n        dataPatient.put(&quot;allowPatientData&quot;, &quot;true&quot;);\n        dataPatient.put(&quot;appointmentId&quot;,&quot;XXX&quot;);\n\n        //Initialize dataResponse status-&gt;200 ok\n        dataResponse.put(&quot;personalData&quot;, &quot;XXX&quot;);\n        dataResponse.put(&quot;am&quot;, &quot;XXX&quot;);\n        dataResponse.put(&quot;gdpr&quot;, &quot;XXX&quot;);\n\n        //Initialize dataResponse status-&gt;403 Bad_request (Forbidden)\n        dataResponseError.put(&quot;error&quot;, &quot;Error 8.&quot;);\n\n        //Initialize data statusOnError JsonParse\n        statusOnError= &quot;&quot;&quot;\n                {\\r\n                 &quot;status&quot;: 200,\\r\n                 &quot;message&quot;: &quot;ok&quot;\\r\n                 }&quot;&quot;&quot;;\n\n    }\n\n    @Test\n    void findPatientOk() throws IOException {\n\n        //when\n        when(apiConfig.webClient()).thenReturn(webClient);\n        when(requestBodyUriSpec.uri(anyString())).thenReturn(requestBodySpec);\n        when(requestBodySpec.header(any(),any())).thenReturn(requestBodySpec);\n        when(webClient.post()).thenReturn(requestBodyUriSpec);\n        when(requestBodySpec.contentType(MediaType.APPLICATION_JSON)).thenReturn(requestBodySpec);\n        when(requestBodySpec.accept(MediaType.APPLICATION_JSON)).thenReturn(requestBodySpec);\n        when(requestBodySpec.body(BodyInserters.fromValue(dataPatient))).thenReturn(requestHeadersSpec);\n        when(requestHeadersSpec.retrieve()).thenReturn(responseSpec);\n        when(responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {})).thenReturn(Mono.just(dataResponse));\n        when(responseSpec.bodyToMono(new ParameterizedTypeReference&lt;Map&lt;String, Object&gt;&gt;() {}).onErrorResume(WebClientResponseException.class, CallApiRest::statusCode))\n                .thenReturn(Mono.just(objectMapper.readValue(statusOnError, new TypeReference&lt;&gt;() {\n                })));\n\n        //given\n        Map&lt;String, Object&gt; response = callApiRest.findPatient(dataPatient);\n\n\n        //then\n        assertTrue(response.containsKey(&quot;personalData&quot;));\n        assertNotNull(response);\n    }\n</code></pre>\n<p>ERROR:</p>\n<pre><code>org.mockito.exceptions.misusing.PotentialStubbingProblem: \nStrict stubbing argument mismatch. Please check:\n - this invocation of 'body' method:\n    requestBodySpec.body(\n    org.springframework.web.reactive.function.BodyInserters$$Lambda$458/0x0000000800ef7ab8@a92be4f\n);\n\n - has following stubbing(s) with different arguments:\n    1. requestBodySpec.body(\n    org.springframework.web.reactive.function.BodyInserters$$Lambda$458/0x0000000800ef7ab8@6edcad64\n);\n\nTypically, stubbing argument mismatch indicates user mistake when writing tests.\nMockito fails early so that you can debug potential problem easily.\nHowever, there are legit scenarios when this exception generates false negative signal:\n  - stubbing the same method multiple times using 'given().will()' or 'when().then()' API\n    Please use 'will().given()' or 'doReturn().when()' API for stubbing.\n  - stubbed method is intentionally invoked with different arguments by code under test\n    Please use default or 'silent' JUnit Rule (equivalent of Strictness.LENIENT).\nFor more information see javadoc for PotentialStubbingProblem class.\n</code></pre>\n<p>I don't understand it well, and the little documentation that exists does not include methods with BodyInserters and onErrorResume.</p>\n<p>I would appreciate some help, thanks.</p>\n<p>I need it to pass the test without errors, it is only a simulated request, in which the data I receive is 200 ok.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":551394,"reputation":8315,"user_id":916225,"accept_rate":69,"display_name":"seenukarthi"},"score":0,"creation_date":1690796534,"post_id":76802317,"comment_id":135397887,"body_markdown":"In the title, the URL is `session-logout` in your rest API its `/logoff-user` which one you are using. Check your security configuration that is it configured properly.","body":"In the title, the URL is <code>session-logout</code> in your rest API its <code>&#47;logoff-user</code> which one you are using. Check your security configuration that is it configured properly."}],"owner":{"account_id":29127384,"reputation":1,"user_id":22313410,"display_name":"Divi Poornachandra Rao"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":23,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690796330,"creation_date":1690796128,"question_id":76802317,"body_markdown":"I am getting the above exception while trying to implement user logout service in Spring boot application.\r\n\r\n**ValidateUserServiceImple.Java**\r\n```\r\n@PostMapping(value = &quot;/logoff-user&quot;)\r\npublic String userSignOut(@Validated @RequestBody UserSignOutRequest userSignOutJsonRequest)\r\nthrows EnrollmentServiceException {\r\n   return validateUserBusinessServiceImpl.userSignOut(userSignOutJsonRequest);\r\n}\r\n```\r\n**UserOperationServiceHandler.java**\r\n\r\n```\r\n@Autowired\r\nRestTemplate restTemplate;\r\n@Value(&quot;${oauth.session.logout.url}&quot;)\r\nprivate String logoutUrl;\r\npublic String userSignOut(UserSignOutRequest userSignOutJsonRequest) {\r\n    return QuoteServiceUtil.logOffSession(restTemplate, userSignOutJsonRequest, logoutUrl);\r\n}\r\n\r\n```\r\n**LogoutServiceUtil.java**\r\n```\r\npublic static String logOffSession(RestTemplate restTemplate, UserSignOutRequest userRequest, String sessionUrl){\r\n    try {\r\n\t  HttpHeaders headers = new HttpHeaders();\r\n\t  headers.set(EnrollmentConstants.CONTENT_TYPE, EnrollmentConstants.WWW_URL_ENCODED);\r\n\t  MultiValueMap&lt;String, String&gt; request = new LinkedMultiValueMap&lt;&gt;();\r\n\t  request.add(&quot;accesstoken&quot;, userRequest.getAccessToken());\r\n\t  return doPostCall(restTemplate, sessionUrl, headers, request);\r\n    } catch (UnsupportedOperationException e) {\r\n\t  LOGGER.error(EnrollmentConstants.EXCEPTION_OCCURRED, e.getMessage());\r\n\t  return null;\r\n    }\r\n}\r\n```","title":"HttpClientErrorException$Forbidden: 403:&quot;{&quot;timestamp&quot;:&quot;2023-07-31T09:20:40.414+00:00&quot;,&quot;status&quot;:403,&quot;error&quot;:&quot;Forbidden&quot;,&quot;path&quot;:&quot;/users/session-logout&quot;}","body":"<p>I am getting the above exception while trying to implement user logout service in Spring boot application.</p>\n<p><strong>ValidateUserServiceImple.Java</strong></p>\n<pre><code>@PostMapping(value = &quot;/logoff-user&quot;)\npublic String userSignOut(@Validated @RequestBody UserSignOutRequest userSignOutJsonRequest)\nthrows EnrollmentServiceException {\n   return validateUserBusinessServiceImpl.userSignOut(userSignOutJsonRequest);\n}\n</code></pre>\n<p><strong>UserOperationServiceHandler.java</strong></p>\n<pre><code>@Autowired\nRestTemplate restTemplate;\n@Value(&quot;${oauth.session.logout.url}&quot;)\nprivate String logoutUrl;\npublic String userSignOut(UserSignOutRequest userSignOutJsonRequest) {\n    return QuoteServiceUtil.logOffSession(restTemplate, userSignOutJsonRequest, logoutUrl);\n}\n\n</code></pre>\n<p><strong>LogoutServiceUtil.java</strong></p>\n<pre><code>public static String logOffSession(RestTemplate restTemplate, UserSignOutRequest userRequest, String sessionUrl){\n    try {\n      HttpHeaders headers = new HttpHeaders();\n      headers.set(EnrollmentConstants.CONTENT_TYPE, EnrollmentConstants.WWW_URL_ENCODED);\n      MultiValueMap&lt;String, String&gt; request = new LinkedMultiValueMap&lt;&gt;();\n      request.add(&quot;accesstoken&quot;, userRequest.getAccessToken());\n      return doPostCall(restTemplate, sessionUrl, headers, request);\n    } catch (UnsupportedOperationException e) {\n      LOGGER.error(EnrollmentConstants.EXCEPTION_OCCURRED, e.getMessage());\n      return null;\n    }\n}\n</code></pre>\n"},{"tags":["java","httpclient","connection-pooling","apache-httpclient-4.x"],"owner":{"account_id":3761893,"reputation":193,"user_id":3126580,"display_name":"hehe"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":17,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1690796168,"answer_count":0,"score":0,"last_activity_date":1690796127,"creation_date":1690795622,"question_id":76802253,"body_markdown":"I use PoolingHttpClientConnectionManager create httpClient, when I close http client, it will shutdown PoolingHttpClientConnectionManager. \r\n\r\n\r\nWhy is it designed like this?\r\n\r\nIs the CloseableHttpClient need close?\r\n\r\n```java\r\npackage org.example.zk;\r\n\r\nimport org.apache.http.client.methods.CloseableHttpResponse;\r\nimport org.apache.http.client.methods.HttpGet;\r\nimport org.apache.http.impl.client.CloseableHttpClient;\r\nimport org.apache.http.impl.client.HttpClientBuilder;\r\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\r\n\r\nimport java.io.IOException;\r\n\r\npublic class HTTPTest {\r\n\r\n    private static PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\r\n\r\n    public static void req() throws IOException {\r\n        CloseableHttpClient httpClient = HttpClientBuilder.create().setConnectionManager(connectionManager).build();\r\n        try {\r\n            HttpGet httpGet = new HttpGet(&quot;https://www.google.com&quot;);\r\n            try (CloseableHttpResponse httpResponse = httpClient.execute(httpGet)) {\r\n                System.out.println(httpResponse.getStatusLine());\r\n            }\r\n        } finally {\r\n            httpClient.close();\r\n        }\r\n    }\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        connectionManager = new PoolingHttpClientConnectionManager();\r\n        connectionManager.setMaxTotal(100);\r\n        connectionManager.setDefaultMaxPerRoute(10);\r\n        req();\r\n        System.out.println(&quot;end&quot;);\r\n    }\r\n}\r\n\r\n```\r\n\r\ntrace the thread stack:\r\n\r\n\r\n```\r\nshutdown:410, PoolingHttpClientConnectionManager (org.apache.http.impl.conn)\r\nclose:1248, HttpClientBuilder$2 (org.apache.http.impl.client)\r\nclose:201, InternalHttpClient (org.apache.http.impl.client)\r\nreq:27, HTTPTest (org.example.zk)\r\nmain:37, HTTPTest (org.example.zk)\r\n```","title":"Apache HttpClient created by PoolingHttpClientConnectionManager can not close","body":"<p>I use PoolingHttpClientConnectionManager create httpClient, when I close http client, it will shutdown PoolingHttpClientConnectionManager.</p>\n<p>Why is it designed like this?</p>\n<p>Is the CloseableHttpClient need close?</p>\n<pre class=\"lang-java prettyprint-override\"><code>package org.example.zk;\n\nimport org.apache.http.client.methods.CloseableHttpResponse;\nimport org.apache.http.client.methods.HttpGet;\nimport org.apache.http.impl.client.CloseableHttpClient;\nimport org.apache.http.impl.client.HttpClientBuilder;\nimport org.apache.http.impl.conn.PoolingHttpClientConnectionManager;\n\nimport java.io.IOException;\n\npublic class HTTPTest {\n\n    private static PoolingHttpClientConnectionManager connectionManager = new PoolingHttpClientConnectionManager();\n\n    public static void req() throws IOException {\n        CloseableHttpClient httpClient = HttpClientBuilder.create().setConnectionManager(connectionManager).build();\n        try {\n            HttpGet httpGet = new HttpGet(&quot;https://www.google.com&quot;);\n            try (CloseableHttpResponse httpResponse = httpClient.execute(httpGet)) {\n                System.out.println(httpResponse.getStatusLine());\n            }\n        } finally {\n            httpClient.close();\n        }\n    }\n\n    public static void main(String[] args) throws IOException {\n        connectionManager = new PoolingHttpClientConnectionManager();\n        connectionManager.setMaxTotal(100);\n        connectionManager.setDefaultMaxPerRoute(10);\n        req();\n        System.out.println(&quot;end&quot;);\n    }\n}\n\n</code></pre>\n<p>trace the thread stack:</p>\n<pre><code>shutdown:410, PoolingHttpClientConnectionManager (org.apache.http.impl.conn)\nclose:1248, HttpClientBuilder$2 (org.apache.http.impl.client)\nclose:201, InternalHttpClient (org.apache.http.impl.client)\nreq:27, HTTPTest (org.example.zk)\nmain:37, HTTPTest (org.example.zk)\n</code></pre>\n"},{"tags":["java","version","legacy"],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103489,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690795992,"creation_date":1690793576,"answer_id":76802038,"question_id":76801813,"body_markdown":"There is no relation at all.\r\n\r\nOne (`Created-By` in the manifest) is the Java version which was used to compile the classes, or it could be a complete fabrication, as it is not actually set by Java itself, but set by whatever build tool or manual process that created the JAR.\r\n\r\nThe other is the Java class version, meaning the target Java version which was used when compiling the classes, i.e. `-target 1.2`, or in modern versions of Java `-release nn` with `nn` the desired Java version for the classes.\r\n\r\nThat said, I don&#39;t see what this would have to do with _&quot;determin[ing] the right library&quot;_. Also, trying to decompile code to make changes is fraught with problems, and something which you should really avoid if possible (e.g. by using the actual source code, if available).","title":"What is the difference between the version in the manifest of a jar and using javap","body":"<p>There is no relation at all.</p>\n<p>One (<code>Created-By</code> in the manifest) is the Java version which was used to compile the classes, or it could be a complete fabrication, as it is not actually set by Java itself, but set by whatever build tool or manual process that created the JAR.</p>\n<p>The other is the Java class version, meaning the target Java version which was used when compiling the classes, i.e. <code>-target 1.2</code>, or in modern versions of Java <code>-release nn</code> with <code>nn</code> the desired Java version for the classes.</p>\n<p>That said, I don't see what this would have to do with <em>&quot;determin[ing] the right library&quot;</em>. Also, trying to decompile code to make changes is fraught with problems, and something which you should really avoid if possible (e.g. by using the actual source code, if available).</p>\n"}],"owner":{"account_id":29126936,"reputation":1,"user_id":22313051,"display_name":"Zalthoria"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1690795992,"creation_date":1690791536,"question_id":76801813,"body_markdown":"I am taking over a very old project with no documentation and I am trying to determine the right library to try and decompile and eventually recompile code with.\r\n\r\nLooking around the internet I have seen two methods:\r\nChecking the manifest file and doing javap -v sample.class\r\n\r\nWhen looking at the manifest inside the jar file I am seeing the following:\r\n```none\r\nManifest-Version: 1.0\r\nCreated-By: 1.4.2_09 (Sun Microsystems Inc.)\r\n```\r\n\r\nBut when I do javap -v on the classes inside the jar file, it is showing major version 46 (java version 1.2)\r\n\r\nAs this is a old project with no documentation and no handover, any code changes done would have to be decompiled from the original jar and after modification recompiled using the same libraries and then updated into the jar. Therefore the right library is extremely important.\r\n\r\nSo the question is which version should I be looking at or is there a better way to achieve what I need?","title":"What is the difference between the version in the manifest of a jar and using javap","body":"<p>I am taking over a very old project with no documentation and I am trying to determine the right library to try and decompile and eventually recompile code with.</p>\n<p>Looking around the internet I have seen two methods:\nChecking the manifest file and doing javap -v sample.class</p>\n<p>When looking at the manifest inside the jar file I am seeing the following:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Manifest-Version: 1.0\nCreated-By: 1.4.2_09 (Sun Microsystems Inc.)\n</code></pre>\n<p>But when I do javap -v on the classes inside the jar file, it is showing major version 46 (java version 1.2)</p>\n<p>As this is a old project with no documentation and no handover, any code changes done would have to be decompiled from the original jar and after modification recompiled using the same libraries and then updated into the jar. Therefore the right library is extremely important.</p>\n<p>So the question is which version should I be looking at or is there a better way to achieve what I need?</p>\n"},{"tags":["java","pdf","aspose.pdf"],"comments":[{"owner":{"account_id":5167138,"reputation":361,"user_id":4136788,"display_name":"Asad Ali"},"score":0,"creation_date":1690839134,"post_id":76802278,"comment_id":135406283,"body_markdown":"We request you please create a topic in Aspose.PDF official support forum along with you sample file. Please note that our support forum is the right and the recommended place to post such issues. This way we will be able to carry out proper investigation with provided files and you will also be able to track the progress appropriately. Please create a topic in the Aspose support forum (https://forum.aspose.com/c/pdf) and we will further proceed to assist you accordingly. This is Asad and I am Developer Evangelist at Aspose.","body":"We request you please create a topic in Aspose.PDF official support forum along with you sample file. Please note that our support forum is the right and the recommended place to post such issues. This way we will be able to carry out proper investigation with provided files and you will also be able to track the progress appropriately. Please create a topic in the Aspose support forum (<a href=\"https://forum.aspose.com/c/pdf\" rel=\"nofollow noreferrer\">forum.aspose.com/c/pdf</a>) and we will further proceed to assist you accordingly. This is Asad and I am Developer Evangelist at Aspose."},{"owner":{"account_id":2093031,"reputation":221,"user_id":1862396,"accept_rate":17,"display_name":"Manchanda. P"},"score":0,"creation_date":1690873037,"post_id":76802278,"comment_id":135409881,"body_markdown":"Thanks @Asad Ali for quick reply. The question has been posted to Aspose Support Forum: https://forum.aspose.com/t/aspose-pdf-java-getting-com-aspose-pdf-internal-ms-system-l7k-collection-is-of-a-fixed-size-exception-while-replacing-text-in-a-pdf-document/269177","body":"Thanks @Asad Ali for quick reply. The question has been posted to Aspose Support Forum: <a href=\"https://forum.aspose.com/t/aspose-pdf-java-getting-com-aspose-pdf-internal-ms-system-l7k-collection-is-of-a-fixed-size-exception-while-replacing-text-in-a-pdf-document/269177\" rel=\"nofollow noreferrer\">forum.aspose.com/t/&hellip;</a>"},{"owner":{"account_id":5167138,"reputation":361,"user_id":4136788,"display_name":"Asad Ali"},"score":0,"creation_date":1691010305,"post_id":76802278,"comment_id":135434556,"body_markdown":"Yes, we have noticed it and have shared our feedback there as well.","body":"Yes, we have noticed it and have shared our feedback there as well."}],"owner":{"account_id":2093031,"reputation":221,"user_id":1862396,"accept_rate":17,"display_name":"Manchanda. P"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":180,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690795839,"creation_date":1690795839,"question_id":76802278,"body_markdown":"I am evaluating Aspose.PDF&#39;s Java API to redact PII data in my PDF files and replace them with obfuscated text. My PDF contains some data as follows:\r\n\r\n - B, KATILDE\r\n - A, RICHARD\r\n - S, NARTURO\r\n\r\nThe order of appearance of these text values is same as in the PDF.\r\n\r\nHere&#39;s my sample code:\r\n\r\n \r\n\r\n    private void replaceTextInDocument(String sourceDoc, String destDoc, String textToReplace, String replacementText) {\r\n     Document pdfDocument = new Document(sourceDoc);\r\n        System.out.println(&quot;replaceTextInDocument processing: &quot; + textToReplace);\r\n    \r\n        // Create TextAbsorber object to find all instances of the input search phrase\r\n        TextFragmentAbsorber textFragmentAbsorber = new TextFragmentAbsorber(textToReplace);\r\n    \r\n        pdfDocument.getPages().accept(textFragmentAbsorber);\r\n    \r\n        // Get the extracted text fragments into collection\r\n        TextFragmentCollection textFragmentCollection = textFragmentAbsorber.getTextFragments();\r\n    \r\n        // Loop through the fragments\r\n        for (TextFragment textFragment : (Iterable&lt;TextFragment&gt;) textFragmentCollection) {\r\n          // Update text and other properties\r\n          textFragment.setText(replacementText);\r\n          textFragment.getTextState().setFont(FontRepository.findFont(&quot;Verdana&quot;));\r\n          textFragment.getTextState().setFontSize(8);\r\n          textFragment.getTextState().setForegroundColor(Color.getBlack());\r\n          textFragment.getTextState().setBackgroundColor(Color.getWhite());\r\n          }\r\n        // Save the updated PDF file\r\n        pdfDocument.save(destDoc);\r\n        pdfDocument.close();\r\n      }\r\n\r\nNow interestingly, this code is able to replace to &#39;*B, KATILDE*&#39; with *replacementText*. However, when I try to replace other two values (A, RICHARD or S, NARTURO), I get the following exception:\r\n\r\n    Exception in thread &quot;main&quot; com.aspose.pdf.internal.ms.System.l7k: **Collection is of a fixed size**\r\n    \tat com.aspose.pdf.internal.ms.System.ly$lb.removeAt(Unknown Source)\r\n    \tat com.aspose.pdf.ADocument.lI(Unknown Source)\r\n    \tat com.aspose.pdf.CharInfoCollection.copyTo(Unknown Source)\r\n    \tat com.aspose.pdf.l19y.lI(Unknown Source)\r\n    \tat com.aspose.pdf.l19y.lf(Unknown Source)\r\n    \tat com.aspose.pdf.TextFragment.lf(Unknown Source)\r\n    \tat com.aspose.pdf.TextFragment.setText(Unknown Source)\r\n\r\nI am able to replace *RICHARD* or *NARTURO* successfully.\r\n\r\nI am using v23.7 of the Aspose Library. Snippet from build.gradle:\r\n\r\n     implementation group: &#39;com.aspose&#39;,  name: &#39;aspose-pdf&#39;, version: &#39;23.7&#39;\r\n\r\nIt&#39;s very difficult to debug the Aspose code using IDE. So, I am unable to get more information about this issue.\r\n\r\nAny help or pointers to resolve this issue would be helpful.\r\n\r\nThanks","title":"Aspose.PDF Java Getting com.aspose.pdf.internal.ms.System.l7k: Collection is of a fixed size Exception while replacing text in a PDF Document","body":"<p>I am evaluating Aspose.PDF's Java API to redact PII data in my PDF files and replace them with obfuscated text. My PDF contains some data as follows:</p>\n<ul>\n<li>B, KATILDE</li>\n<li>A, RICHARD</li>\n<li>S, NARTURO</li>\n</ul>\n<p>The order of appearance of these text values is same as in the PDF.</p>\n<p>Here's my sample code:</p>\n<pre><code>private void replaceTextInDocument(String sourceDoc, String destDoc, String textToReplace, String replacementText) {\n Document pdfDocument = new Document(sourceDoc);\n    System.out.println(&quot;replaceTextInDocument processing: &quot; + textToReplace);\n\n    // Create TextAbsorber object to find all instances of the input search phrase\n    TextFragmentAbsorber textFragmentAbsorber = new TextFragmentAbsorber(textToReplace);\n\n    pdfDocument.getPages().accept(textFragmentAbsorber);\n\n    // Get the extracted text fragments into collection\n    TextFragmentCollection textFragmentCollection = textFragmentAbsorber.getTextFragments();\n\n    // Loop through the fragments\n    for (TextFragment textFragment : (Iterable&lt;TextFragment&gt;) textFragmentCollection) {\n      // Update text and other properties\n      textFragment.setText(replacementText);\n      textFragment.getTextState().setFont(FontRepository.findFont(&quot;Verdana&quot;));\n      textFragment.getTextState().setFontSize(8);\n      textFragment.getTextState().setForegroundColor(Color.getBlack());\n      textFragment.getTextState().setBackgroundColor(Color.getWhite());\n      }\n    // Save the updated PDF file\n    pdfDocument.save(destDoc);\n    pdfDocument.close();\n  }\n</code></pre>\n<p>Now interestingly, this code is able to replace to '<em>B, KATILDE</em>' with <em>replacementText</em>. However, when I try to replace other two values (A, RICHARD or S, NARTURO), I get the following exception:</p>\n<pre><code>Exception in thread &quot;main&quot; com.aspose.pdf.internal.ms.System.l7k: **Collection is of a fixed size**\n    at com.aspose.pdf.internal.ms.System.ly$lb.removeAt(Unknown Source)\n    at com.aspose.pdf.ADocument.lI(Unknown Source)\n    at com.aspose.pdf.CharInfoCollection.copyTo(Unknown Source)\n    at com.aspose.pdf.l19y.lI(Unknown Source)\n    at com.aspose.pdf.l19y.lf(Unknown Source)\n    at com.aspose.pdf.TextFragment.lf(Unknown Source)\n    at com.aspose.pdf.TextFragment.setText(Unknown Source)\n</code></pre>\n<p>I am able to replace <em>RICHARD</em> or <em>NARTURO</em> successfully.</p>\n<p>I am using v23.7 of the Aspose Library. Snippet from build.gradle:</p>\n<pre><code> implementation group: 'com.aspose',  name: 'aspose-pdf', version: '23.7'\n</code></pre>\n<p>It's very difficult to debug the Aspose code using IDE. So, I am unable to get more information about this issue.</p>\n<p>Any help or pointers to resolve this issue would be helpful.</p>\n<p>Thanks</p>\n"},{"tags":["java","dependency-injection","frameworks","inversion-of-control"],"answers":[{"tags":[],"owner":{"account_id":564479,"reputation":91,"user_id":185818,"display_name":"Mani"},"down_vote_count":0,"up_vote_count":9,"is_accepted":false,"score":9,"last_activity_date":1254938122,"creation_date":1254938122,"answer_id":1533210,"question_id":1533169,"body_markdown":"Maybe you should have a look at Google Guice: [http://code.google.com/p/google-guice/][1]\r\n\r\n\r\n  [1]: http://code.google.com/p/google-guice/","title":"small footprint dependency injection java","body":"<p>Maybe you should have a look at Google Guice: <a href=\"http://code.google.com/p/google-guice/\" rel=\"noreferrer\">http://code.google.com/p/google-guice/</a></p>\n"},{"tags":[],"owner":{"account_id":2379,"reputation":49899,"user_id":3295,"accept_rate":62,"display_name":"toolkit"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1254938518,"creation_date":1254938202,"answer_id":1533218,"question_id":1533169,"body_markdown":"I would recommend [Spring][1], since this can provide a small footprint when using only the core packages.\r\n\r\nIf you think Spring is overkill, then perhaps [PicoContainer][2], or [guice][3]?\r\n\r\n\r\n  [1]: http://www.springsource.com/products/enterprise\r\n  [2]: http://www.picocontainer.org/\r\n  [3]: http://code.google.com/p/google-guice/","title":"small footprint dependency injection java","body":"<p>I would recommend <a href=\"http://www.springsource.com/products/enterprise\" rel=\"noreferrer\">Spring</a>, since this can provide a small footprint when using only the core packages.</p>\n\n<p>If you think Spring is overkill, then perhaps <a href=\"http://www.picocontainer.org/\" rel=\"noreferrer\">PicoContainer</a>, or <a href=\"http://code.google.com/p/google-guice/\" rel=\"noreferrer\">guice</a>?</p>\n"},{"tags":[],"owner":{"display_name":"user185947"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1254948443,"creation_date":1254948443,"answer_id":1534102,"question_id":1533169,"body_markdown":"Definitely look into Guice.  Been using it for a year, and absolutely love it.","title":"small footprint dependency injection java","body":"<p>Definitely look into Guice.  Been using it for a year, and absolutely love it.</p>\n"},{"tags":[],"owner":{"account_id":933477,"reputation":6047,"user_id":962872,"accept_rate":76,"display_name":"chrisapotek"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1353381998,"creation_date":1353381998,"answer_id":13466147,"question_id":1533169,"body_markdown":"I have been trying [MentaContainer][1] for less than a week now and I am satisfied by its clean and straightforward API. Instead of using XML or Annotations for the setup it uses a fluent API almost like a DSL which for me felt like like heaven because I am using it to build a small web container with IoC support. It provides a THREAD scope for the components which fits perfectly for the REQUEST scope of the web container. It is very lightweight so it may be what you need.\r\n\r\n\r\n  [1]: http://mentacontainer.soliveirajr.com","title":"small footprint dependency injection java","body":"<p>I have been trying <a href=\"http://mentacontainer.soliveirajr.com\" rel=\"nofollow\">MentaContainer</a> for less than a week now and I am satisfied by its clean and straightforward API. Instead of using XML or Annotations for the setup it uses a fluent API almost like a DSL which for me felt like like heaven because I am using it to build a small web container with IoC support. It provides a THREAD scope for the components which fits perfectly for the REQUEST scope of the web container. It is very lightweight so it may be what you need.</p>\n"},{"tags":[],"owner":{"account_id":2127935,"reputation":111,"user_id":1889543,"display_name":"user1889543"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1355063269,"creation_date":1355063269,"answer_id":13788299,"question_id":1533169,"body_markdown":"[Silk DI](http://www.silkdi.com/) is about `120K` single jar file with no further runtime dependencies. It has a fluent binder interface like guice but is more flexible and allows to remove features you don&#39;t like. E.g. `Collection` or `List` injection can be added in a *one liner*.","title":"small footprint dependency injection java","body":"<p><a href=\"http://www.silkdi.com/\" rel=\"nofollow\">Silk DI</a> is about <code>120K</code> single jar file with no further runtime dependencies. It has a fluent binder interface like guice but is more flexible and allows to remove features you don't like. E.g. <code>Collection</code> or <code>List</code> injection can be added in a <em>one liner</em>.</p>\n"},{"tags":[],"owner":{"account_id":4406705,"reputation":2296,"user_id":3590895,"accept_rate":29,"display_name":"jeorfevre"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1448154299,"creation_date":1448154299,"answer_id":33850497,"question_id":1533169,"body_markdown":"Take a look at dagger2, developped at google (forked of square&#39;s dagger1), for only 17kb jar. \r\n\r\n+ Much less boilerplate than guice\r\n+ compile time verification of injection (with explicit  error message. That&#39;s  something spring, guice does  definitly not)\r\n+ generate Facotries,  codes upon compile. **Very powerfull**\r\n\r\n\r\n[dagger2 documentation][1]\r\n[dagger2 github][2]\r\n[dagger2 examples][3]\r\n\r\n\r\n  [1]: http://google.github.io/dagger/\r\n  [2]: https://github.com/google/dagger\r\n  [3]: https://github.com/google/dagger/tree/master/examples","title":"small footprint dependency injection java","body":"<p>Take a look at dagger2, developped at google (forked of square's dagger1), for only 17kb jar. </p>\n\n<ul>\n<li>Much less boilerplate than guice</li>\n<li>compile time verification of injection (with explicit  error message. That's  something spring, guice does  definitly not)</li>\n<li>generate Facotries,  codes upon compile. <strong>Very powerfull</strong></li>\n</ul>\n\n<p><a href=\"http://google.github.io/dagger/\" rel=\"nofollow\">dagger2 documentation</a>\n<a href=\"https://github.com/google/dagger\" rel=\"nofollow\">dagger2 github</a>\n<a href=\"https://github.com/google/dagger/tree/master/examples\" rel=\"nofollow\">dagger2 examples</a></p>\n"},{"tags":[],"owner":{"account_id":17381100,"reputation":323,"user_id":12593296,"display_name":"Ermolai"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690795269,"creation_date":1690795269,"answer_id":76802207,"question_id":1533169,"body_markdown":"Take a look at [ActiveJ Inject](https://activej.io/inject).\r\n\r\nIt is a lightweight dependency injection library. It is optimized for performance and has no third-party dependencies.\r\n\r\nIt is much faster than Spring DI or Guice and it is much lighter. Check the benchmarks [here](https://activej.io/inject/benchmarks)","title":"small footprint dependency injection java","body":"<p>Take a look at <a href=\"https://activej.io/inject\" rel=\"nofollow noreferrer\">ActiveJ Inject</a>.</p>\n<p>It is a lightweight dependency injection library. It is optimized for performance and has no third-party dependencies.</p>\n<p>It is much faster than Spring DI or Guice and it is much lighter. Check the benchmarks <a href=\"https://activej.io/inject/benchmarks\" rel=\"nofollow noreferrer\">here</a></p>\n"}],"owner":{"account_id":24717,"reputation":264442,"user_id":63051,"accept_rate":95,"display_name":"flybywire"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2634,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":1533218,"answer_count":7,"score":2,"last_activity_date":1690795269,"creation_date":1254937812,"question_id":1533169,"body_markdown":"I am looking for a very lightweight dependency injection framework for java.\r\nWith minimum possible dependencies and minimum features.\r\n\r\nJust something along the following lines: receive a `java.util.List` of `Class`es, instantiate them and just auto-wire all the objects one into the other.\r\n\r\n","title":"small footprint dependency injection java","body":"<p>I am looking for a very lightweight dependency injection framework for java.\nWith minimum possible dependencies and minimum features.</p>\n\n<p>Just something along the following lines: receive a <code>java.util.List</code> of <code>Class</code>es, instantiate them and just auto-wire all the objects one into the other.</p>\n"},{"tags":["java","spring","spring-boot","jpa","spring-data-jpa"],"comments":[{"owner":{"account_id":3192259,"reputation":117599,"user_id":2696260,"display_name":"M. Deinum"},"score":3,"creation_date":1690189985,"post_id":76739450,"comment_id":135313550,"body_markdown":"You also need to tell the `@EnableJpaRepositories` which transaction manager to use. Also make sure that both transaction managers aren&#39;t named the same (preferably you rename the method as well). If that doesn&#39;t resolve the case how are you using the repositories please show the actual usage and please provide both configuration classes.","body":"You also need to tell the <code>@EnableJpaRepositories</code> which transaction manager to use. Also make sure that both transaction managers aren&#39;t named the same (preferably you rename the method as well). If that doesn&#39;t resolve the case how are you using the repositories please show the actual usage and please provide both configuration classes."},{"owner":{"account_id":6727,"reputation":26865,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"score":2,"creation_date":1690208206,"post_id":76739450,"comment_id":135317529,"body_markdown":"@M.Deinum you were first and your answer helped me solve the specific issue I had. If you make your comment an answer I&#39;ll accept it","body":"@M.Deinum you were first and your answer helped me solve the specific issue I had. If you make your comment an answer I&#39;ll accept it"}],"answers":[{"tags":[],"owner":{"account_id":23402497,"reputation":7,"user_id":17465454,"display_name":"Md. Muntasir Enam"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690208527,"creation_date":1690206028,"answer_id":76755093,"question_id":76739450,"body_markdown":"By default, spring data JPA expects one datasource. If you configure two datasources, you&#39;ll get runtime error. You must annotate one of them as `@Primary` (you&#39;ve already done that).\r\n\r\nNow all repositories will use primary datasource unless you tell them otherwise. Annotate your service with this: `@Transactional(readOnly = true, transactionManager = &quot;secondaryTransactionManager&quot;)` and then you&#39;ll be able to access your secondary datasource.\r\n\r\nPrimary datasource service example:\r\n\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Transactional(readOnly = true)\r\n    public class PrimaryDatasourceService {\r\n    \r\n        @Nonnull private final MyPrimaryDataSourceModelRepository myPrimaryDataSourceModelRepository;\r\n    \r\n        @Nonnull\r\n        @Override\r\n        public List&lt;MyPrimaryDataSourceModel&gt; readData() {\r\n            return myPrimaryDataSourceModelRepository.findAll();\r\n        }\r\n    \r\n        @Override\r\n        @Transactional\r\n        public void writeData(@Nonnull final MyPrimaryDataSourceModel data) {\r\n            myPrimaryDataSourceModelRepository.save(data);\r\n        }\r\n    }\r\n\r\nSecondary datasource service example:\r\n\r\n    import org.springframework.transaction.annotation.Transactional;\r\n\r\n    @Service\r\n    @RequiredArgsConstructor\r\n    @Transactional(readOnly = true, transactionManager = &quot;secondaryTransactionManager&quot;)\r\n    public class SecondaryDatasourceService {\r\n\r\n        @Nonnull private final MySecondaryDataSourceModelRepository mySecondaryDataSourceModelRepository;\r\n\r\n        @Nonnull\r\n        @Override\r\n        public List&lt;MySecondaryDataSourceModel&gt; readData() {\r\n            return mySecondaryDataSourceModelRepository.findAll();\r\n        }\r\n\r\n        @Override\r\n        @Transactional(transactionManager = &quot;secondaryTransactionManager&quot;)\r\n        public void writeData(@Nonnull final MySecondaryDataSourceModel data) {\r\n            mySecondaryDataSourceModelRepository.save(data);\r\n        }\r\n    }\r\n\r\n**BTW, your primary and secondary models and repositories need to be separate and your datasource configurations must use appropriate packages in annotations** like this:\r\n\r\nPrimary datasource configuration:\r\n\r\n    @Configuration\r\n    @EntityScan(basePackages = &quot;com.example.model.primary&quot;)\r\n    @EnableJpaRepositories(\r\n            basePackages = &quot;com.example.repository.primary&quot;,\r\n            entityManagerFactoryRef = &quot;primaryEntityManager&quot;,\r\n            transactionManagerRef = &quot;primaryTransactionManager&quot;\r\n    )\r\n    public class PrimaryDataSourceConfiguration {\r\n        // your @Primary annotated datasource, entityManager and transactionManager beans\r\n    }\r\n\r\nSecondary datasource configuration:\r\n\r\n    @Configuration\r\n    @EntityScan(basePackages = &quot;com.example.model.secondary&quot;)\r\n    @EnableJpaRepositories(\r\n            basePackages = &quot;com.example.repository.secondary&quot;,\r\n            entityManagerFactoryRef = &quot;secondaryEntityManager&quot;,\r\n            transactionManagerRef = &quot;secondaryTransactionManager&quot;\r\n    )\r\n    public class SecondaryDataSourceConfiguration {\r\n        // your datasource, entityManager and transactionManager beans\r\n    }\r\n\r\nAny JPA settings like `ddl-auto: update` or `show-sql: false` in your application.properties or application.yaml file, are common for both datasources. `ddl-auto: update` will make sure your DB reflects your models. So, if you do not separate your models and repositories, your datasource configurations will get messed up and your DB as well.","title":"Spring Data - JpaRepository using non-Primary EntityManager","body":"<p>By default, spring data JPA expects one datasource. If you configure two datasources, you'll get runtime error. You must annotate one of them as <code>@Primary</code> (you've already done that).</p>\n<p>Now all repositories will use primary datasource unless you tell them otherwise. Annotate your service with this: <code>@Transactional(readOnly = true, transactionManager = &quot;secondaryTransactionManager&quot;)</code> and then you'll be able to access your secondary datasource.</p>\n<p>Primary datasource service example:</p>\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n\n@Service\n@RequiredArgsConstructor\n@Transactional(readOnly = true)\npublic class PrimaryDatasourceService {\n\n    @Nonnull private final MyPrimaryDataSourceModelRepository myPrimaryDataSourceModelRepository;\n\n    @Nonnull\n    @Override\n    public List&lt;MyPrimaryDataSourceModel&gt; readData() {\n        return myPrimaryDataSourceModelRepository.findAll();\n    }\n\n    @Override\n    @Transactional\n    public void writeData(@Nonnull final MyPrimaryDataSourceModel data) {\n        myPrimaryDataSourceModelRepository.save(data);\n    }\n}\n</code></pre>\n<p>Secondary datasource service example:</p>\n<pre><code>import org.springframework.transaction.annotation.Transactional;\n\n@Service\n@RequiredArgsConstructor\n@Transactional(readOnly = true, transactionManager = &quot;secondaryTransactionManager&quot;)\npublic class SecondaryDatasourceService {\n\n    @Nonnull private final MySecondaryDataSourceModelRepository mySecondaryDataSourceModelRepository;\n\n    @Nonnull\n    @Override\n    public List&lt;MySecondaryDataSourceModel&gt; readData() {\n        return mySecondaryDataSourceModelRepository.findAll();\n    }\n\n    @Override\n    @Transactional(transactionManager = &quot;secondaryTransactionManager&quot;)\n    public void writeData(@Nonnull final MySecondaryDataSourceModel data) {\n        mySecondaryDataSourceModelRepository.save(data);\n    }\n}\n</code></pre>\n<p><strong>BTW, your primary and secondary models and repositories need to be separate and your datasource configurations must use appropriate packages in annotations</strong> like this:</p>\n<p>Primary datasource configuration:</p>\n<pre><code>@Configuration\n@EntityScan(basePackages = &quot;com.example.model.primary&quot;)\n@EnableJpaRepositories(\n        basePackages = &quot;com.example.repository.primary&quot;,\n        entityManagerFactoryRef = &quot;primaryEntityManager&quot;,\n        transactionManagerRef = &quot;primaryTransactionManager&quot;\n)\npublic class PrimaryDataSourceConfiguration {\n    // your @Primary annotated datasource, entityManager and transactionManager beans\n}\n</code></pre>\n<p>Secondary datasource configuration:</p>\n<pre><code>@Configuration\n@EntityScan(basePackages = &quot;com.example.model.secondary&quot;)\n@EnableJpaRepositories(\n        basePackages = &quot;com.example.repository.secondary&quot;,\n        entityManagerFactoryRef = &quot;secondaryEntityManager&quot;,\n        transactionManagerRef = &quot;secondaryTransactionManager&quot;\n)\npublic class SecondaryDataSourceConfiguration {\n    // your datasource, entityManager and transactionManager beans\n}\n</code></pre>\n<p>Any JPA settings like <code>ddl-auto: update</code> or <code>show-sql: false</code> in your application.properties or application.yaml file, are common for both datasources. <code>ddl-auto: update</code> will make sure your DB reflects your models. So, if you do not separate your models and repositories, your datasource configurations will get messed up and your DB as well.</p>\n"},{"tags":[],"owner":{"account_id":92073,"reputation":1,"user_id":252518,"accept_rate":71,"display_name":"Freeman"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690787319,"creation_date":1690787319,"answer_id":76801363,"question_id":76739450,"body_markdown":"I think you need to specify the transaction manager to be used by each `@EnableJpaRepositories` annotation. Additionally, ensure that the transaction managers have distinct names!\r\n\r\nSo first of all, update your `PostgresDataSourceConfigurations` class\r\n\r\n    @EnableJpaRepositories(\r\n        basePackages = &quot;dao.postgres&quot;,\r\n        entityManagerFactoryRef = &quot;postgresEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;postgresTransactionManager&quot; //specify transaction manager\r\n    )\r\n    public class PostgresDataSourceConfigurations {\r\n        //your codes in here\r\n        \r\n        @Bean(name = &quot;postgresTransactionManager&quot;) //rename method to have a distinct name\r\n        @Primary\r\n        public PlatformTransactionManager postgresTransactionManager(\r\n            @Qualifier(&quot;postgresEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n            return new JpaTransactionManager(entityManagerFactory);\r\n        }\r\n        \r\n        //your codes in here\r\n    }\r\n\r\nthen create a separate configuration class for the SQL Server:\r\n\r\n    @EnableJpaRepositories(\r\n        basePackages = &quot;dao.sqlserver&quot;,\r\n        entityManagerFactoryRef = &quot;sqlServerEntityManagerFactory&quot;,\r\n        transactionManagerRef = &quot;sqlServerTransactionManager&quot; //specify transaction manager\r\n    )\r\n    public class SqlServerDataSourceConfigurations {\r\n        //similar to PostgresDataSourceConfigurations\r\n        \r\n        @Bean(name = &quot;sqlServerTransactionManager&quot;) //rename the method to have a distinct name\r\n        public PlatformTransactionManager sqlServerTransactionManager(\r\n            @Qualifier(&quot;sqlServerEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n            return new JpaTransactionManager(entityManagerFactory);\r\n        }\r\n        \r\n        //similar to PostgresDataSourceConfigurations\r\n    }\r\n\r\nas you see,each repository package will use the appropriate transaction manager, ensuring that the correct database connection is used!\r\n","title":"Spring Data - JpaRepository using non-Primary EntityManager","body":"<p>I think you need to specify the transaction manager to be used by each <code>@EnableJpaRepositories</code> annotation. Additionally, ensure that the transaction managers have distinct names!</p>\n<p>So first of all, update your <code>PostgresDataSourceConfigurations</code> class</p>\n<pre><code>@EnableJpaRepositories(\n    basePackages = &quot;dao.postgres&quot;,\n    entityManagerFactoryRef = &quot;postgresEntityManagerFactory&quot;,\n    transactionManagerRef = &quot;postgresTransactionManager&quot; //specify transaction manager\n)\npublic class PostgresDataSourceConfigurations {\n    //your codes in here\n    \n    @Bean(name = &quot;postgresTransactionManager&quot;) //rename method to have a distinct name\n    @Primary\n    public PlatformTransactionManager postgresTransactionManager(\n        @Qualifier(&quot;postgresEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n    \n    //your codes in here\n}\n</code></pre>\n<p>then create a separate configuration class for the SQL Server:</p>\n<pre><code>@EnableJpaRepositories(\n    basePackages = &quot;dao.sqlserver&quot;,\n    entityManagerFactoryRef = &quot;sqlServerEntityManagerFactory&quot;,\n    transactionManagerRef = &quot;sqlServerTransactionManager&quot; //specify transaction manager\n)\npublic class SqlServerDataSourceConfigurations {\n    //similar to PostgresDataSourceConfigurations\n    \n    @Bean(name = &quot;sqlServerTransactionManager&quot;) //rename the method to have a distinct name\n    public PlatformTransactionManager sqlServerTransactionManager(\n        @Qualifier(&quot;sqlServerEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\n        return new JpaTransactionManager(entityManagerFactory);\n    }\n    \n    //similar to PostgresDataSourceConfigurations\n}\n</code></pre>\n<p>as you see,each repository package will use the appropriate transaction manager, ensuring that the correct database connection is used!</p>\n"}],"owner":{"account_id":6727,"reputation":26865,"user_id":11439,"accept_rate":70,"display_name":"sumek"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1690794442,"creation_date":1689954539,"question_id":76739450,"body_markdown":"I&#39;ve got two connections to the database in my application, one for Postgres, one for SQL Server. They use the same entity model and I want to use them to store same data in both databases.\r\n\r\nI specify as beans appropriate `LocalContainerEntityManagerFactoryBean` s, `PlatformTransactionManager` s, and `DataSource`s. I&#39;ve got two set of repositories and I&#39;d like one of them to use one database, and the other repository to use the second database. Yet both of my repositories are always use the `@Primary` set of the beans\r\n\r\nI specify the package that contains either first or the second repository in the `@EnableJpaRepositories` annotation of the `@Configuration` class containing the beans like below. I was hoping this will make sure that the wiring will happen correctly. What am I doing incorrectly?\r\n\r\n```\r\n@EnableJpaRepositories(basePackages=&quot;dao.postgres&quot;,\r\n    entityManagerFactoryRef = &quot;postgresEntityManagerFactory&quot;\r\n)\r\npublic class PostgresDataSourceConfigurations {\r\n\r\n\r\n  @Bean\r\n  @ConfigurationProperties(&quot;spring.datasource.postgresql&quot;)\r\n  public DataSourceProperties postgresqlDataSourceProperties() {\r\n    return new DataSourceProperties();\r\n  }\r\n\r\n\r\n  @Qualifier(&quot;postgresDataSource&quot;)\r\n  @Bean\r\n  @Primary\r\n  public DataSource postgresqlDataSource() {\r\n    return postgresqlDataSourceProperties().initializeDataSourceBuilder().build();\r\n  }\r\n\r\n  @Bean(name = &quot;postgresEntityManagerFactory&quot;)\r\n  @Primary\r\n  public LocalContainerEntityManagerFactoryBean entityManagerFactory(\r\n      EntityManagerFactoryBuilder builder, @Qualifier(&quot;postgresDataSource&quot;) DataSource dataSource) {\r\n    return builder\r\n        .dataSource(dataSource)\r\n        .packages(&quot;profiles&quot;, &quot;outbox&quot;)\r\n        .persistenceUnit(&quot;postgresPersistenceUnit&quot;)\r\n        .build();\r\n  }\r\n  @Bean(name = &quot;postgresTransactionManager&quot;)\r\n  @Primary\r\n  public PlatformTransactionManager transactionManager(\r\n      @Qualifier(&quot;postgresEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\r\n    return new JpaTransactionManager(entityManagerFactory);\r\n  }\r\n\r\n``` \r\n\r\n```\r\npackage dao.postgres;\r\n\r\nimport domain.Address;\r\nimport org.springframework.data.repository.CrudRepository;\r\n\r\nimport java.util.UUID;\r\n\r\npublic interface PostgresAddressDao extends CrudRepository&lt;Address, UUID&gt; {\r\n\r\n}\r\n```","title":"Spring Data - JpaRepository using non-Primary EntityManager","body":"<p>I've got two connections to the database in my application, one for Postgres, one for SQL Server. They use the same entity model and I want to use them to store same data in both databases.</p>\n<p>I specify as beans appropriate <code>LocalContainerEntityManagerFactoryBean</code> s, <code>PlatformTransactionManager</code> s, and <code>DataSource</code>s. I've got two set of repositories and I'd like one of them to use one database, and the other repository to use the second database. Yet both of my repositories are always use the <code>@Primary</code> set of the beans</p>\n<p>I specify the package that contains either first or the second repository in the <code>@EnableJpaRepositories</code> annotation of the <code>@Configuration</code> class containing the beans like below. I was hoping this will make sure that the wiring will happen correctly. What am I doing incorrectly?</p>\n<pre><code>@EnableJpaRepositories(basePackages=&quot;dao.postgres&quot;,\n    entityManagerFactoryRef = &quot;postgresEntityManagerFactory&quot;\n)\npublic class PostgresDataSourceConfigurations {\n\n\n  @Bean\n  @ConfigurationProperties(&quot;spring.datasource.postgresql&quot;)\n  public DataSourceProperties postgresqlDataSourceProperties() {\n    return new DataSourceProperties();\n  }\n\n\n  @Qualifier(&quot;postgresDataSource&quot;)\n  @Bean\n  @Primary\n  public DataSource postgresqlDataSource() {\n    return postgresqlDataSourceProperties().initializeDataSourceBuilder().build();\n  }\n\n  @Bean(name = &quot;postgresEntityManagerFactory&quot;)\n  @Primary\n  public LocalContainerEntityManagerFactoryBean entityManagerFactory(\n      EntityManagerFactoryBuilder builder, @Qualifier(&quot;postgresDataSource&quot;) DataSource dataSource) {\n    return builder\n        .dataSource(dataSource)\n        .packages(&quot;profiles&quot;, &quot;outbox&quot;)\n        .persistenceUnit(&quot;postgresPersistenceUnit&quot;)\n        .build();\n  }\n  @Bean(name = &quot;postgresTransactionManager&quot;)\n  @Primary\n  public PlatformTransactionManager transactionManager(\n      @Qualifier(&quot;postgresEntityManagerFactory&quot;) EntityManagerFactory entityManagerFactory) {\n    return new JpaTransactionManager(entityManagerFactory);\n  }\n\n</code></pre>\n<pre><code>package dao.postgres;\n\nimport domain.Address;\nimport org.springframework.data.repository.CrudRepository;\n\nimport java.util.UUID;\n\npublic interface PostgresAddressDao extends CrudRepository&lt;Address, UUID&gt; {\n\n}\n</code></pre>\n"},{"tags":["java","email"],"answers":[{"tags":[],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1690794055,"creation_date":1690794055,"answer_id":76802090,"question_id":76802075,"body_markdown":"Ah, me stupid. I had to remove this line:\r\n\r\n    prop.put(&quot;mail.smtp.auth&quot;, true);\r\n","title":"Postfix and javax.mail - failed to connect","body":"<p>Ah, me stupid. I had to remove this line:</p>\n<pre><code>prop.put(&quot;mail.smtp.auth&quot;, true);\n</code></pre>\n"}],"owner":{"account_id":449256,"reputation":2122,"user_id":843943,"accept_rate":75,"display_name":"Grim"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":76802090,"answer_count":1,"score":0,"last_activity_date":1690794055,"creation_date":1690793972,"question_id":76802075,"body_markdown":"In order to send double-opt-in-mails I need to send eMails to registrees.\r\n\r\nSo I install Postfix, uncomment the line (`master.cf`):\r\n\r\n    127.0.0.1:submission inet n -   y       -       -       smtpd\r\n\r\nThen I reload the service using \r\n\r\n    postfix reload\r\n\r\nAnd tail-f the `/var/log/mail.log`\r\n\r\n    tail -f /var/log/mail.log\r\n\r\nSo far, the output is: `Jul 31 08:50:43 xxx postfix/master[3019]: reload -- version 3.6.4, configuration /etc/postfix`\r\n\r\nOk. Then I compile and execute this java code:\r\n\r\n\r\n        public static void main(String[] args) throws MessagingException {\r\n                Properties prop = new Properties();\r\n                prop.put(&quot;mail.smtp.auth&quot;, true);\r\n                prop.put(&quot;mail.smtp.host&quot;, &quot;localhost&quot;);\r\n                prop.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\r\n                Session session = Session.getInstance(prop);\r\n                MimeMessage registerMail = new MimeMessage(session);\r\n                try {\r\n                        registerMail.setSender(new InternetAddress(&quot;xxx@xxx&quot;));\r\n                } catch (MessagingException e) {\r\n                        e.printStackTrace();\r\n                }\r\n                registerMail.setRecipients(RecipientType.TO, &quot;xxx@xxx&quot;);\r\n                registerMail.setSubject(&quot;HI&quot;);\r\n                registerMail.setContent(&quot;adsf&quot;, &quot;plain/text&quot;);\r\n                Transport.send(registerMail);\r\n        }\r\n\r\nBut I get a exception:\r\n\r\n    Exception in thread &quot;main&quot; javax.mail.AuthenticationFailedException: failed to connect, no password specified?\r\n    \tat javax.mail.Service.connect(Service.java:376)\r\n    \tat javax.mail.Service.connect(Service.java:222)\r\n    \tat javax.mail.Service.connect(Service.java:171)\r\n    \tat javax.mail.Transport.send0(Transport.java:230)\r\n    \tat javax.mail.Transport.send(Transport.java:100)\r\n    \tat Snippet.main(Snippet.java:29)\r\n\r\nThe postfix logging does not say a word. So I check the netstat using `netstat -lnp` and this is the output:\r\n\r\n    Active Internet connections (only servers)\r\n    Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    \r\n    tcp        0      0 0.0.0.0:25              0.0.0.0:*               LISTEN      3019/master         \r\n\r\nFrom what I can tell: the port is available but java is not able to connect. Why is that? If I need to supply a password, where is the password located?","title":"Postfix and javax.mail - failed to connect","body":"<p>In order to send double-opt-in-mails I need to send eMails to registrees.</p>\n<p>So I install Postfix, uncomment the line (<code>master.cf</code>):</p>\n<pre><code>127.0.0.1:submission inet n -   y       -       -       smtpd\n</code></pre>\n<p>Then I reload the service using</p>\n<pre><code>postfix reload\n</code></pre>\n<p>And tail-f the <code>/var/log/mail.log</code></p>\n<pre><code>tail -f /var/log/mail.log\n</code></pre>\n<p>So far, the output is: <code>Jul 31 08:50:43 xxx postfix/master[3019]: reload -- version 3.6.4, configuration /etc/postfix</code></p>\n<p>Ok. Then I compile and execute this java code:</p>\n<pre><code>    public static void main(String[] args) throws MessagingException {\n            Properties prop = new Properties();\n            prop.put(&quot;mail.smtp.auth&quot;, true);\n            prop.put(&quot;mail.smtp.host&quot;, &quot;localhost&quot;);\n            prop.put(&quot;mail.smtp.port&quot;, &quot;25&quot;);\n            Session session = Session.getInstance(prop);\n            MimeMessage registerMail = new MimeMessage(session);\n            try {\n                    registerMail.setSender(new InternetAddress(&quot;xxx@xxx&quot;));\n            } catch (MessagingException e) {\n                    e.printStackTrace();\n            }\n            registerMail.setRecipients(RecipientType.TO, &quot;xxx@xxx&quot;);\n            registerMail.setSubject(&quot;HI&quot;);\n            registerMail.setContent(&quot;adsf&quot;, &quot;plain/text&quot;);\n            Transport.send(registerMail);\n    }\n</code></pre>\n<p>But I get a exception:</p>\n<pre><code>Exception in thread &quot;main&quot; javax.mail.AuthenticationFailedException: failed to connect, no password specified?\n    at javax.mail.Service.connect(Service.java:376)\n    at javax.mail.Service.connect(Service.java:222)\n    at javax.mail.Service.connect(Service.java:171)\n    at javax.mail.Transport.send0(Transport.java:230)\n    at javax.mail.Transport.send(Transport.java:100)\n    at Snippet.main(Snippet.java:29)\n</code></pre>\n<p>The postfix logging does not say a word. So I check the netstat using <code>netstat -lnp</code> and this is the output:</p>\n<pre><code>Active Internet connections (only servers)\nProto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    \ntcp        0      0 0.0.0.0:25              0.0.0.0:*               LISTEN      3019/master         \n</code></pre>\n<p>From what I can tell: the port is available but java is not able to connect. Why is that? If I need to supply a password, where is the password located?</p>\n"},{"tags":["java","spring","spring-boot","tomcat","file-upload"],"comments":[{"owner":{"account_id":3442780,"reputation":4961,"user_id":2884309,"accept_rate":73,"display_name":"Ivan Aracki"},"score":0,"creation_date":1449666176,"post_id":34177873,"comment_id":56105185,"body_markdown":"as far as I know, it&#39;s better to set maxFileSize and maxRequestSize... good question anyway!","body":"as far as I know, it&#39;s better to set maxFileSize and maxRequestSize... good question anyway!"},{"owner":{"account_id":552980,"reputation":2408,"user_id":918277,"accept_rate":80,"display_name":"Ravindu"},"score":0,"creation_date":1449716512,"post_id":34177873,"comment_id":56132160,"body_markdown":"i want to what is the maxfile size it can handle.","body":"i want to what is the maxfile size it can handle."},{"owner":{"account_id":1613152,"reputation":570,"user_id":1491566,"display_name":"Tony the Tech"},"score":2,"creation_date":1553805785,"post_id":34177873,"comment_id":97533636,"body_markdown":"Unlimited is never a good thing for stuff like this. Better to set it to a large number - bigger than you would ever expect. Someone uploads a file larger than that, and it may very well be an attack, and you&#39;ll be grateful for that `IllegalStateException` that saved your site.","body":"Unlimited is never a good thing for stuff like this. Better to set it to a large number - bigger than you would ever expect. Someone uploads a file larger than that, and it may very well be an attack, and you&#39;ll be grateful for that <code>IllegalStateException</code> that saved your site."}],"answers":[{"tags":[],"owner":{"account_id":2027481,"reputation":445,"user_id":1812095,"display_name":"mbaranauskas"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1552593063,"creation_date":1452107321,"answer_id":34640826,"question_id":34177873,"body_markdown":"Setting `multipart.max-file-size=128MB` and `multipart.max-request-size=128MB` works for me without additional configuration.","title":"Max limit of MultipartFile in Spring Boot","body":"<p>Setting <code>multipart.max-file-size=128MB</code> and <code>multipart.max-request-size=128MB</code> works for me without additional configuration.</p>\n"},{"tags":[],"owner":{"account_id":343040,"reputation":860,"user_id":674513,"display_name":"Amol"},"down_vote_count":0,"up_vote_count":79,"is_accepted":true,"score":79,"last_activity_date":1552593163,"creation_date":1463813852,"answer_id":37359890,"question_id":34177873,"body_markdown":"***For unlimited upload file size*** \r\n\r\nIt seems setting `-1` will make it for infinite file size.\r\n\r\n**Before Spring Boot 2.0:**\r\n\r\n    spring.http.multipart.max-file-size=-1\r\n    spring.http.multipart.max-request-size=-1\r\n\r\n**After Spring Boot 2.0:**\r\n\r\n    spring.servlet.multipart.max-file-size=-1\r\n    spring.servlet.multipart.max-request-size=-1","title":"Max limit of MultipartFile in Spring Boot","body":"<p><strong><em>For unlimited upload file size</em></strong> </p>\n\n<p>It seems setting <code>-1</code> will make it for infinite file size.</p>\n\n<p><strong>Before Spring Boot 2.0:</strong></p>\n\n<pre><code>spring.http.multipart.max-file-size=-1\nspring.http.multipart.max-request-size=-1\n</code></pre>\n\n<p><strong>After Spring Boot 2.0:</strong></p>\n\n<pre><code>spring.servlet.multipart.max-file-size=-1\nspring.servlet.multipart.max-request-size=-1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7605508,"reputation":1588,"user_id":5768435,"display_name":"A. Thom"},"down_vote_count":0,"up_vote_count":136,"is_accepted":false,"score":136,"last_activity_date":1552590581,"creation_date":1496417681,"answer_id":44332602,"question_id":34177873,"body_markdown":"For those using Spring Boot 2.0 (as of M1 release), the property names have changed to:\r\n\r\n    spring.servlet.multipart.max-file-size=10MB\r\n    spring.servlet.multipart.max-request-size=10MB\r\n\r\nNote the prefix is `spring.servlet` instead of `spring.http`.","title":"Max limit of MultipartFile in Spring Boot","body":"<p>For those using Spring Boot 2.0 (as of M1 release), the property names have changed to:</p>\n\n<pre><code>spring.servlet.multipart.max-file-size=10MB\nspring.servlet.multipart.max-request-size=10MB\n</code></pre>\n\n<p>Note the prefix is <code>spring.servlet</code> instead of <code>spring.http</code>.</p>\n"},{"tags":[],"owner":{"account_id":7113112,"reputation":1881,"user_id":5440323,"display_name":"Deva"},"down_vote_count":0,"up_vote_count":31,"is_accepted":false,"score":31,"last_activity_date":1556349005,"creation_date":1548140398,"answer_id":54302823,"question_id":34177873,"body_markdown":"In my `application.yml` file\r\n\r\n    spring:\r\n     servlet:\r\n        multipart:\r\n          max-file-size: 15MB\r\n          max-request-size: 15MB\r\n\r\nAnd If you have `application.properties` file \r\n\r\n    spring.servlet.multipart.max-file-size = 15MB\r\n    spring.servlet.multipart.max-request-size = 15MB\r\n\r\nEven You can set file size to infinite\r\n\r\n    spring.servlet.multipart.max-file-size =-1\r\n    spring.servlet.multipart.max-request-size =-1","title":"Max limit of MultipartFile in Spring Boot","body":"<p>In my <code>application.yml</code> file</p>\n\n<pre><code>spring:\n servlet:\n    multipart:\n      max-file-size: 15MB\n      max-request-size: 15MB\n</code></pre>\n\n<p>And If you have <code>application.properties</code> file </p>\n\n<pre><code>spring.servlet.multipart.max-file-size = 15MB\nspring.servlet.multipart.max-request-size = 15MB\n</code></pre>\n\n<p>Even You can set file size to infinite</p>\n\n<pre><code>spring.servlet.multipart.max-file-size =-1\nspring.servlet.multipart.max-request-size =-1\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15190407,"reputation":13077,"user_id":10961238,"display_name":"Romil Patel"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1567703448,"creation_date":1567703448,"answer_id":57810158,"question_id":34177873,"body_markdown":"Spring Boot have embbeed Tomcat with it so we don&#39;t need to configure it. MULTIPART properties in application-properties will take care of it.\r\n\r\nFor an external server, the default limit is `50MB`. We can see it by opening `webapps/manager/WEB-INF/web.xml`\r\n\r\n    &lt;multipart-config&gt;\r\n       &lt;max-file-size&gt;52428800&lt;/max-file-size&gt;\r\n       &lt;max-request-size&gt;52428800&lt;/max-request-size&gt;\r\n       &lt;file-size-threshold&gt;0&lt;/file-size-threshold&gt;\r\n    &lt;/multipart-config&gt;\r\n\r\n**MULTIPART properties have been changed according to versions.**\r\n\r\n*Spring Boot 1.3.x and earlier*\r\n\r\n    multipart.max-file-size\r\n    multipart.max-request-size\r\n\r\n*After Spring Boot 1.3.x:*\r\n\r\n    spring.http.multipart.max-file-size=-1\r\n    spring.http.multipart.max-request-size=-1\r\n\r\n*After Spring Boot 2.0:*\r\n\r\n    spring.servlet.multipart.max-file-size=-1\r\n    spring.servlet.multipart.max-request-size=-1 ","title":"Max limit of MultipartFile in Spring Boot","body":"<p>Spring Boot have embbeed Tomcat with it so we don't need to configure it. MULTIPART properties in application-properties will take care of it.</p>\n\n<p>For an external server, the default limit is <code>50MB</code>. We can see it by opening <code>webapps/manager/WEB-INF/web.xml</code></p>\n\n<pre><code>&lt;multipart-config&gt;\n   &lt;max-file-size&gt;52428800&lt;/max-file-size&gt;\n   &lt;max-request-size&gt;52428800&lt;/max-request-size&gt;\n   &lt;file-size-threshold&gt;0&lt;/file-size-threshold&gt;\n&lt;/multipart-config&gt;\n</code></pre>\n\n<p><strong>MULTIPART properties have been changed according to versions.</strong></p>\n\n<p><em>Spring Boot 1.3.x and earlier</em></p>\n\n<pre><code>multipart.max-file-size\nmultipart.max-request-size\n</code></pre>\n\n<p><em>After Spring Boot 1.3.x:</em></p>\n\n<pre><code>spring.http.multipart.max-file-size=-1\nspring.http.multipart.max-request-size=-1\n</code></pre>\n\n<p><em>After Spring Boot 2.0:</em></p>\n\n<pre><code>spring.servlet.multipart.max-file-size=-1\nspring.servlet.multipart.max-request-size=-1 \n</code></pre>\n"},{"tags":[],"owner":{"account_id":3411672,"reputation":95,"user_id":7301777,"display_name":"Mohammad Wasim Khan"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1607919147,"creation_date":1607919147,"answer_id":65283494,"question_id":34177873,"body_markdown":"I am still looking for the answer, What is maximum size we can upload with multiPartFile in springboot application but i have used 450mb successfully and it took approx 10min to do that. Below is the only configuration i did in application.properties file to make it work : \r\n\r\n    spring.servlet.multipart.max-file-size=500MB\r\n    spring.servlet.multipart.max-request-size=500MB","title":"Max limit of MultipartFile in Spring Boot","body":"<p>I am still looking for the answer, What is maximum size we can upload with multiPartFile in springboot application but i have used 450mb successfully and it took approx 10min to do that. Below is the only configuration i did in application.properties file to make it work :</p>\n<pre><code>spring.servlet.multipart.max-file-size=500MB\nspring.servlet.multipart.max-request-size=500MB\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16700807,"reputation":21,"user_id":12070631,"display_name":"Vishal Agrawal"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1653285788,"creation_date":1653284638,"answer_id":72343711,"question_id":34177873,"body_markdown":"\r\n\r\n\r\nThis gonna work\r\n&lt;!-- begin snippet: js hide: false console: true babel: false --&gt;\r\n\r\n&lt;!-- language: lang-html --&gt;\r\n\r\n    spring:\r\n      servlet:\r\n        multipart:\r\n          enabled: true\r\n          max-file-size: 4GB\r\n          max-request-size: 4GB\r\n\r\n&lt;!-- end snippet --&gt;\r\n\r\n[![][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Mjwak.png","title":"Max limit of MultipartFile in Spring Boot","body":"<p>This gonna work\n<div class=\"snippet\" data-lang=\"js\" data-hide=\"false\" data-console=\"true\" data-babel=\"false\">\r\n<div class=\"snippet-code\">\r\n<pre class=\"snippet-code-html lang-html prettyprint-override\"><code>spring:\n  servlet:\n    multipart:\n      enabled: true\n      max-file-size: 4GB\n      max-request-size: 4GB</code></pre>\r\n</div>\r\n</div>\r\n</p>\n<p><a href=\"https://i.stack.imgur.com/Mjwak.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Mjwak.png\" alt=\"\" /></a></p>\n"},{"tags":[],"owner":{"account_id":10885121,"reputation":61,"user_id":8002885,"display_name":"nandha"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690794014,"creation_date":1690794014,"answer_id":76802081,"question_id":34177873,"body_markdown":"If you are using Spring 3+ and tomcat 10+ `server.tomcat.max-http-form-post-size=4000MB` is the properties you are looking for. All the others are not working for setting the max file size","title":"Max limit of MultipartFile in Spring Boot","body":"<p>If you are using Spring 3+ and tomcat 10+ <code>server.tomcat.max-http-form-post-size=4000MB</code> is the properties you are looking for. All the others are not working for setting the max file size</p>\n"}],"owner":{"account_id":552980,"reputation":2408,"user_id":918277,"accept_rate":80,"display_name":"Ravindu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":150815,"favorite_count":0,"down_vote_count":0,"up_vote_count":99,"accepted_answer_id":37359890,"answer_count":8,"score":99,"last_activity_date":1690794014,"creation_date":1449661028,"question_id":34177873,"body_markdown":"Is there a maximum file size that spring boot can handle in a `MultipartFile` upload process. I know that I can set the `maxFileSize` in the property like `multipart.maxFileSize=1Mb`. \r\n\r\nSo, like that can I allow a huge file to upload, like 50MB. The application runs on the Tomcat server integrated with Spring Boot. Do I need to configure the tomcat server also? Or is the file size *unlimited*?","title":"Max limit of MultipartFile in Spring Boot","body":"<p>Is there a maximum file size that spring boot can handle in a <code>MultipartFile</code> upload process. I know that I can set the <code>maxFileSize</code> in the property like <code>multipart.maxFileSize=1Mb</code>. </p>\n\n<p>So, like that can I allow a huge file to upload, like 50MB. The application runs on the Tomcat server integrated with Spring Boot. Do I need to configure the tomcat server also? Or is the file size <em>unlimited</em>?</p>\n"},{"tags":["java","spring-boot","logging","spring-webflux","reactive"],"comments":[{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":1,"creation_date":1690794591,"post_id":76802071,"comment_id":135397513,"body_markdown":"Depending on what your use case is, you could either add the step `.doOnError(e -&gt; logExecutionTime(className, methodName, stopWatch))` or replace the `.flatmap(...)` with `.doFinally(...)`. Additional note: You seem to return the same element as the input in the flatmap in both the Mono and Flux case, so maybe `.doOnNext(...)` is more correct for the cases?","body":"Depending on what your use case is, you could either add the step <code>.doOnError(e -&gt; logExecutionTime(className, methodName, stopWatch))</code> or replace the <code>.flatmap(...)</code> with <code>.doFinally(...)</code>. Additional note: You seem to return the same element as the input in the flatmap in both the Mono and Flux case, so maybe <code>.doOnNext(...)</code> is more correct for the cases?"},{"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"score":0,"creation_date":1690797966,"post_id":76802071,"comment_id":135398147,"body_markdown":"Thank you. I&#39;m writing this at a central place - an advice. doFinally, doOnNext are not working at central place. If I add the code exactly where the Flux is generated (a controller method), then it works. Any idea to make it work in advice?","body":"Thank you. I&#39;m writing this at a central place - an advice. doFinally, doOnNext are not working at central place. If I add the code exactly where the Flux is generated (a controller method), then it works. Any idea to make it work in advice?"},{"owner":{"account_id":19934545,"reputation":554,"user_id":14607529,"display_name":"ODDminus1"},"score":0,"creation_date":1690800055,"post_id":76802071,"comment_id":135398508,"body_markdown":"I&#39;m not sure I follow. If you replace `flatMap(...)` with `doOnNext(v -&gt; logExecutionTime(className, methodName, stopWatch))`, I don&#39;t see a reason why it wouldn&#39;t be called when `proceedingJoinPoint.proceed()` doesn&#39;t send an error signal. So the combination of `doOnNext(...)` and `doOnError(...)` should assure that `logExecutionTime(...)` is called. The option, `doFinally(...)` is called upon termination of the publisher, so I&#39;d assume it wouldn&#39;t fit the use case for your stopwatch.","body":"I&#39;m not sure I follow. If you replace <code>flatMap(...)</code> with <code>doOnNext(v -&gt; logExecutionTime(className, methodName, stopWatch))</code>, I don&#39;t see a reason why it wouldn&#39;t be called when <code>proceedingJoinPoint.proceed()</code> doesn&#39;t send an error signal. So the combination of <code>doOnNext(...)</code> and <code>doOnError(...)</code> should assure that <code>logExecutionTime(...)</code> is called. The option, <code>doFinally(...)</code> is called upon termination of the publisher, so I&#39;d assume it wouldn&#39;t fit the use case for your stopwatch."},{"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"score":0,"creation_date":1690826133,"post_id":76802071,"comment_id":135404009,"body_markdown":"It works. I was not subscribing to it after doing doOnNext or doOnError. Thank you for you help.","body":"It works. I was not subscribing to it after doing doOnNext or doOnError. Thank you for you help."}],"owner":{"account_id":1598790,"reputation":199,"user_id":1480299,"display_name":"AD90"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690793868,"creation_date":1690793868,"question_id":76802071,"body_markdown":"I&#39;m working on logging the START, END and time taken by methods which generate Flux or Mono. I have used implementation as below.\r\n\r\nThis code works fine, but is a problems - \r\n\r\nWhen there is an exception - the Exit and time never gets logged. When debugged, the flow never goes into flatMap() or collectList(). Could you please check and advice if any issues?\r\n\r\n```\r\n@Aspect\r\n@Component\r\n@Slf4j\r\npublic class LoggingAspect\r\n{\r\n\r\n    //AOP expression for which methods shall be intercepted\r\n    @Around(&quot;execution(* com.company.service..*(..)))&quot;)\r\n    public Object logEndpointPerformance(ProceedingJoinPoint proceedingJoinPoint) throws Throwable\r\n    {\r\n        MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\r\n\r\n        //Get intercepted method details\r\n        String className = methodSignature.getDeclaringType().getSimpleName();\r\n        String methodName = methodSignature.getName();\r\n\r\n        final StopWatch stopWatch = new StopWatch();\r\n        log.debug(&quot;Start: &quot; + className +&quot;.&quot;+methodName);\r\n        //Measure method execution time\r\n        stopWatch.start();\r\n        Object result = proceedingJoinPoint.proceed();\r\n\r\n        if(result instanceof Mono){\r\n            return ((Mono)result).flatMap(r -&gt; {\r\n                logExecutionTime(className, methodName, stopWatch);\r\n                return Mono.just(r);\r\n            });\r\n        }\r\n        else if(result instanceof Flux){\r\n            return ((Flux&lt;Object&gt;)result).collectList().flatMapMany(r -&gt; {\r\n                logExecutionTime(className, methodName, stopWatch);\r\n                return Flux.fromIterable(r);\r\n            });\r\n        }\r\n        else{\r\n            logExecutionTime(className, methodName, stopWatch);\r\n            return result;\r\n        }\r\n    }\r\n\r\n    private void logExecutionTime(final String className, final String methodName, final StopWatch stopWatch){\r\n        stopWatch.stop();\r\n        //Log method execution time\r\n        log.debug(&quot;Exit: &quot; + className +&quot;.&quot;+methodName);\r\n        log.debug(&quot;[ &quot; + stopWatch.getTotalTimeMillis() + &quot; mls ] lasted execution of&quot; + className + &quot;.&quot; + methodName );\r\n    }\r\n}\r\n```","title":"Spring WebFlux | Performance Logger In case of Exception","body":"<p>I'm working on logging the START, END and time taken by methods which generate Flux or Mono. I have used implementation as below.</p>\n<p>This code works fine, but is a problems -</p>\n<p>When there is an exception - the Exit and time never gets logged. When debugged, the flow never goes into flatMap() or collectList(). Could you please check and advice if any issues?</p>\n<pre><code>@Aspect\n@Component\n@Slf4j\npublic class LoggingAspect\n{\n\n    //AOP expression for which methods shall be intercepted\n    @Around(&quot;execution(* com.company.service..*(..)))&quot;)\n    public Object logEndpointPerformance(ProceedingJoinPoint proceedingJoinPoint) throws Throwable\n    {\n        MethodSignature methodSignature = (MethodSignature) proceedingJoinPoint.getSignature();\n\n        //Get intercepted method details\n        String className = methodSignature.getDeclaringType().getSimpleName();\n        String methodName = methodSignature.getName();\n\n        final StopWatch stopWatch = new StopWatch();\n        log.debug(&quot;Start: &quot; + className +&quot;.&quot;+methodName);\n        //Measure method execution time\n        stopWatch.start();\n        Object result = proceedingJoinPoint.proceed();\n\n        if(result instanceof Mono){\n            return ((Mono)result).flatMap(r -&gt; {\n                logExecutionTime(className, methodName, stopWatch);\n                return Mono.just(r);\n            });\n        }\n        else if(result instanceof Flux){\n            return ((Flux&lt;Object&gt;)result).collectList().flatMapMany(r -&gt; {\n                logExecutionTime(className, methodName, stopWatch);\n                return Flux.fromIterable(r);\n            });\n        }\n        else{\n            logExecutionTime(className, methodName, stopWatch);\n            return result;\n        }\n    }\n\n    private void logExecutionTime(final String className, final String methodName, final StopWatch stopWatch){\n        stopWatch.stop();\n        //Log method execution time\n        log.debug(&quot;Exit: &quot; + className +&quot;.&quot;+methodName);\n        log.debug(&quot;[ &quot; + stopWatch.getTotalTimeMillis() + &quot; mls ] lasted execution of&quot; + className + &quot;.&quot; + methodName );\n    }\n}\n</code></pre>\n"},{"tags":["java","json","jackson","jackson2"],"comments":[{"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"score":0,"creation_date":1470077866,"post_id":38705890,"comment_id":64789914,"body_markdown":"JsonNode is a base class that ObjectNode and ArrayNode extend. E.g. you cannot get an item at a specific index in a JsonNode or ObjectNode but you can in an ArrayNode.","body":"JsonNode is a base class that ObjectNode and ArrayNode extend. E.g. you cannot get an item at a specific index in a JsonNode or ObjectNode but you can in an ArrayNode."}],"answers":[{"tags":[],"owner":{"account_id":3013735,"reputation":13241,"user_id":2556520,"display_name":"bhspencer"},"down_vote_count":0,"up_vote_count":106,"is_accepted":true,"score":106,"last_activity_date":1602781198,"creation_date":1470078027,"answer_id":38706226,"question_id":38705890,"body_markdown":"`JsonNode` is a base class that `ObjectNode` and `ArrayNode` extend. `JsonNode` represents any valid Json structure whereas `ObjectNode` and `ArrayNode` are particular implementations for objects (aka maps) and arrays, respectively. \r\n\r\n`ArrayNode` has specific methods for dealing with arrays such as `get(index i)` E.g. you cannot get an item at a specific index in a `JsonNode` or `ObjectNode` but you can in an `ArrayNode`.","title":"What is the difference between ObjectNode and JsonNode in Jackson?","body":"<p><code>JsonNode</code> is a base class that <code>ObjectNode</code> and <code>ArrayNode</code> extend. <code>JsonNode</code> represents any valid Json structure whereas <code>ObjectNode</code> and <code>ArrayNode</code> are particular implementations for objects (aka maps) and arrays, respectively.</p>\n<p><code>ArrayNode</code> has specific methods for dealing with arrays such as <code>get(index i)</code> E.g. you cannot get an item at a specific index in a <code>JsonNode</code> or <code>ObjectNode</code> but you can in an <code>ArrayNode</code>.</p>\n"},{"tags":[],"owner":{"account_id":10675972,"reputation":5000,"user_id":7859515,"accept_rate":100,"display_name":"MyStackRunnethOver"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1602781267,"creation_date":1602781267,"answer_id":64376451,"question_id":38705890,"body_markdown":"To address OP&#39;s point about Stack Overflow answers using `ObjectNode` and `JsonNode` interchangeably: a possible source of the confusion you see is that `JsonNode` [implements most of the functionality of both `ObjectNode` and `ArrayNode`](https://github.com/codehaus/jackson/blob/master/src/java/org/codehaus/jackson/JsonNode.java), returning mostly `false` or `null` by default. The sub-types then override their respective methods to work correctly (e.g. indexing for `ArrayNode`, named access for `ObjectNode`). The Javadoc says:\r\n\r\n&gt; As a general design rule, most accessors (&quot;getters&quot;) are included in this [JsonNode] base class, to allow for traversing structure without type casts. Most mutators, however, need to be accessed through specific sub-classes (such as [ObjectNode] and [ArrayNode]). This seems sensible because proper type information is generally available when building or modifying trees, but less often when reading a tree (newly built from parsed JSON content)\r\n\r\n*&quot;[T]o allow for traversing structure without type casts&quot;* is key, and is the reason that you can often get away with using `JsonNode` all the time, because as long as the methods you&#39;re calling match the sub-type of the object data actually got parsed into, they work as expected.","title":"What is the difference between ObjectNode and JsonNode in Jackson?","body":"<p>To address OP's point about Stack Overflow answers using <code>ObjectNode</code> and <code>JsonNode</code> interchangeably: a possible source of the confusion you see is that <code>JsonNode</code> <a href=\"https://github.com/codehaus/jackson/blob/master/src/java/org/codehaus/jackson/JsonNode.java\" rel=\"nofollow noreferrer\">implements most of the functionality of both <code>ObjectNode</code> and <code>ArrayNode</code></a>, returning mostly <code>false</code> or <code>null</code> by default. The sub-types then override their respective methods to work correctly (e.g. indexing for <code>ArrayNode</code>, named access for <code>ObjectNode</code>). The Javadoc says:</p>\n<blockquote>\n<p>As a general design rule, most accessors (&quot;getters&quot;) are included in this [JsonNode] base class, to allow for traversing structure without type casts. Most mutators, however, need to be accessed through specific sub-classes (such as [ObjectNode] and [ArrayNode]). This seems sensible because proper type information is generally available when building or modifying trees, but less often when reading a tree (newly built from parsed JSON content)</p>\n</blockquote>\n<p><em>&quot;[T]o allow for traversing structure without type casts&quot;</em> is key, and is the reason that you can often get away with using <code>JsonNode</code> all the time, because as long as the methods you're calling match the sub-type of the object data actually got parsed into, they work as expected.</p>\n"},{"tags":[],"owner":{"account_id":3075356,"reputation":3015,"user_id":2604873,"display_name":"Aman Jain"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690793645,"creation_date":1690793645,"answer_id":76802046,"question_id":38705890,"body_markdown":"`JsonNode` and `ObjectNode` are both classes in the Jackson library used for working with JSON data in Java. \r\n\r\n`JsonNode` is an abstract class that represents a node in a JSON tree. It can be used to read and navigate through JSON data, but it doesn&#39;t allow modifications to the underlying data. Because it&#39;s abstract, you can&#39;t create a `JsonNode` object directly. Instead, you can use one of its concrete subclasses, such as `ObjectNode`, `ArrayNode`, or `ValueNode`.\r\n\r\n`ObjectNode` is a subclass of `JsonNode` that specifically represents a JSON object. It allows you to modify the underlying JSON data by adding, removing, or changing properties. An `ObjectNode` is created with the `JsonNodeFactory` class, which provides methods for creating different types of `JsonNode` objects.\r\n\r\nIn general, you should use `JsonNode` when you only need to read JSON data, and don&#39;t need to modify it. You might use `ObjectNode` when you need to modify the data, such as when you&#39;re building up a JSON object programmatically.","title":"What is the difference between ObjectNode and JsonNode in Jackson?","body":"<p><code>JsonNode</code> and <code>ObjectNode</code> are both classes in the Jackson library used for working with JSON data in Java.</p>\n<p><code>JsonNode</code> is an abstract class that represents a node in a JSON tree. It can be used to read and navigate through JSON data, but it doesn't allow modifications to the underlying data. Because it's abstract, you can't create a <code>JsonNode</code> object directly. Instead, you can use one of its concrete subclasses, such as <code>ObjectNode</code>, <code>ArrayNode</code>, or <code>ValueNode</code>.</p>\n<p><code>ObjectNode</code> is a subclass of <code>JsonNode</code> that specifically represents a JSON object. It allows you to modify the underlying JSON data by adding, removing, or changing properties. An <code>ObjectNode</code> is created with the <code>JsonNodeFactory</code> class, which provides methods for creating different types of <code>JsonNode</code> objects.</p>\n<p>In general, you should use <code>JsonNode</code> when you only need to read JSON data, and don't need to modify it. You might use <code>ObjectNode</code> when you need to modify the data, such as when you're building up a JSON object programmatically.</p>\n"}],"owner":{"account_id":4737034,"reputation":3166,"user_id":3831137,"accept_rate":90,"display_name":"THIS USER NEEDS HELP"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":51100,"favorite_count":0,"down_vote_count":0,"up_vote_count":79,"accepted_answer_id":38706226,"answer_count":3,"score":79,"last_activity_date":1690793645,"creation_date":1470076838,"question_id":38705890,"body_markdown":"According to the documetation of [`JsonNode`](https://fasterxml.github.io/jackson-databind/javadoc/2.2.0/com/fasterxml/jackson/databind/JsonNode.html):\r\n\r\n&gt; Most mutators, however, need to be accessed through specific sub-classes (such as [`ObjectNode`](https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/node/ObjectNode.html)  and ArrayNode).\r\n\r\n\r\nHowever I am still confused since some stackoverflow answers seem to use them quite interchangeably. What different purpose do they serve?\r\n","title":"What is the difference between ObjectNode and JsonNode in Jackson?","body":"<p>According to the documetation of <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.2.0/com/fasterxml/jackson/databind/JsonNode.html\" rel=\"noreferrer\"><code>JsonNode</code></a>:</p>\n\n<blockquote>\n  <p>Most mutators, however, need to be accessed through specific sub-classes (such as <a href=\"https://fasterxml.github.io/jackson-databind/javadoc/2.5/com/fasterxml/jackson/databind/node/ObjectNode.html\" rel=\"noreferrer\"><code>ObjectNode</code></a>  and ArrayNode).</p>\n</blockquote>\n\n<p>However I am still confused since some stackoverflow answers seem to use them quite interchangeably. What different purpose do they serve?</p>\n"},{"tags":["java","pom.xml","apache-tika"],"answers":[{"tags":[],"owner":{"account_id":12027197,"reputation":177,"user_id":8850201,"display_name":"Florian"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1638214436,"creation_date":1638214436,"answer_id":70160357,"question_id":70158982,"body_markdown":"Update your tika modules. The version of `tika-core` and it&#39;s modules should always be the same.\r\n\r\n```xml\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n    &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\r\n    &lt;version&gt;2.1.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\n\r\nThe new microsoft document formats (`docx`, `xlsx`, ...) are just `zip` archives from the outside. Older tika versions will not look into them by default, which is why, depending on the version, they will detect them as either `application/zip` or `application/x-tika-ooxml`. You can read more about this [here][1].\r\n\r\nAnalyzing the archives however *can* result in a decrease in performance. To prevent this you could, depending on your use case, determine the mime type by name (see below) or use existing mime types like the [Content-Type header][2].\r\n\r\n```java\r\nfinal Metadata metadata = new Metadata();\r\nmetadata.add(TikaCoreProperties.RESOURCE_NAME_KEY, fileName);\r\ndetector.detect(stream, metadata);\r\n```\r\n\r\nIn a HTTP request the file name might also be in the [Content-Disposition header][3].\r\n\r\n\r\n  [1]: https://stackoverflow.com/a/11283050/8850201\r\n  [2]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\r\n  [3]: https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition","title":"Retrive bad mimetype with tika (application/x-tika-ooxml)","body":"<p>Update your tika modules. The version of <code>tika-core</code> and it's modules should always be the same.</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers-standard-package&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>The new microsoft document formats (<code>docx</code>, <code>xlsx</code>, ...) are just <code>zip</code> archives from the outside. Older tika versions will not look into them by default, which is why, depending on the version, they will detect them as either <code>application/zip</code> or <code>application/x-tika-ooxml</code>. You can read more about this <a href=\"https://stackoverflow.com/a/11283050/8850201\">here</a>.</p>\n<p>Analyzing the archives however <em>can</em> result in a decrease in performance. To prevent this you could, depending on your use case, determine the mime type by name (see below) or use existing mime types like the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Type\" rel=\"noreferrer\">Content-Type header</a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final Metadata metadata = new Metadata();\nmetadata.add(TikaCoreProperties.RESOURCE_NAME_KEY, fileName);\ndetector.detect(stream, metadata);\n</code></pre>\n<p>In a HTTP request the file name might also be in the <a href=\"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Disposition\" rel=\"noreferrer\">Content-Disposition header</a>.</p>\n"},{"tags":[],"owner":{"account_id":27011284,"reputation":1,"user_id":20570897,"display_name":"Wui Keat Cheah"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1690793537,"creation_date":1690793537,"answer_id":76802033,"question_id":70158982,"body_markdown":"for me, I would use these old tika version, not sure why but this able to get the result we wanted.\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n        &lt;version&gt;1.23&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n        &lt;version&gt;1.23&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Retrive bad mimetype with tika (application/x-tika-ooxml)","body":"<p>for me, I would use these old tika version, not sure why but this able to get the result we wanted.</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n    &lt;version&gt;1.23&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n    &lt;version&gt;1.23&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":14324949,"reputation":570,"user_id":10347292,"display_name":"zahrows"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5122,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1690793537,"creation_date":1638207648,"question_id":70158982,"body_markdown":"With docx files, i retrieve `application/x-tika-ooxml`, but i should retrieve `application/vnd.openxmlformats-officedocument.wordprocessingml.document` instead\r\n\r\nHere is my method :\r\n\r\n    public String retrieveMimeType(InputStream stream) throws IOException, TikaException {\r\n        \tTikaInputStream tikaStream = null;\r\n        \tTikaConfig tikaConfig = new TikaConfig();\r\n        \tMediaType mediaType = null;\r\n    \r\n        \ttry {\r\n        \t\tmediaType = tikaConfig.getDetector().detect(TikaInputStream.get(stream), new Metadata());\r\n        \t} catch (Throwable t) {\r\n        \t\tthrow t;\r\n        \t} finally {\r\n        \t\tif (tikaStream != null) {\r\n        \t\t\ttry {\r\n        \t\t\t\ttikaStream.close(); \r\n                    } catch (IOException e) {\r\n        \t\t\t}\r\n        \t\t}\r\n        \t}\r\n        \treturn mediaType.toString();\r\n        }\r\n\r\nAnd my dependecies : \r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.1.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\r\n        &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\r\n        &lt;version&gt;1.27&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nI use tika-core, and tika-parsers for retrieve the right mimetype, but it still give me the bad mimetype...","title":"Retrive bad mimetype with tika (application/x-tika-ooxml)","body":"<p>With docx files, i retrieve <code>application/x-tika-ooxml</code>, but i should retrieve <code>application/vnd.openxmlformats-officedocument.wordprocessingml.document</code> instead</p>\n<p>Here is my method :</p>\n<pre><code>public String retrieveMimeType(InputStream stream) throws IOException, TikaException {\n        TikaInputStream tikaStream = null;\n        TikaConfig tikaConfig = new TikaConfig();\n        MediaType mediaType = null;\n\n        try {\n            mediaType = tikaConfig.getDetector().detect(TikaInputStream.get(stream), new Metadata());\n        } catch (Throwable t) {\n            throw t;\n        } finally {\n            if (tikaStream != null) {\n                try {\n                    tikaStream.close(); \n                } catch (IOException e) {\n                }\n            }\n        }\n        return mediaType.toString();\n    }\n</code></pre>\n<p>And my dependecies :</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-core&lt;/artifactId&gt;\n    &lt;version&gt;2.1.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.tika&lt;/groupId&gt;\n    &lt;artifactId&gt;tika-parsers&lt;/artifactId&gt;\n    &lt;version&gt;1.27&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>I use tika-core, and tika-parsers for retrieve the right mimetype, but it still give me the bad mimetype...</p>\n"},{"tags":["java","raspberry-pi","sdkman"],"comments":[{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679039285,"post_id":75764728,"comment_id":133652638,"body_markdown":"run command `sdk default java`","body":"run command <code>sdk default java</code>"},{"owner":{"account_id":23926891,"reputation":3,"user_id":17921903,"display_name":"AlwaysBeginner"},"score":0,"creation_date":1679041614,"post_id":75764728,"comment_id":133653159,"body_markdown":"@life888888 Then comes the message &quot;java 17.0.6-tem isnot available&quot;","body":"@life888888 Then comes the message &quot;java 17.0.6-tem isnot available&quot;"},{"owner":{"account_id":26698569,"reputation":875,"user_id":20306007,"display_name":"life888888"},"score":0,"creation_date":1679042552,"post_id":75764728,"comment_id":133653371,"body_markdown":"`java 17.0.6-tem` is `Temurin`, not `17.0.6.-zulu` , try to run command again `sdk install java 17.0.6.-zulu` , and run `sdk default java 17.0.6.-zulu`","body":"<code>java 17.0.6-tem</code> is <code>Temurin</code>, not <code>17.0.6.-zulu</code> , try to run command again <code>sdk install java 17.0.6.-zulu</code> , and run <code>sdk default java 17.0.6.-zulu</code>"}],"answers":[{"tags":[],"owner":{"account_id":23926891,"reputation":3,"user_id":17921903,"display_name":"AlwaysBeginner"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679042332,"creation_date":1679042332,"answer_id":75765358,"question_id":75764728,"body_markdown":"Ok, i found a simpler aproach than useing sdkman. Simply use:\r\n\r\n    sudo apt install openjdk-17-jdk\r\n\r\nStill wondering about the use of sdkman...","title":"Installed java disappears after reboot on raspian","body":"<p>Ok, i found a simpler aproach than useing sdkman. Simply use:</p>\n<pre><code>sudo apt install openjdk-17-jdk\n</code></pre>\n<p>Still wondering about the use of sdkman...</p>\n"},{"tags":[],"owner":{"account_id":41689,"reputation":25007,"user_id":121260,"accept_rate":75,"display_name":"Eric Darchis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1679043997,"creation_date":1679043997,"answer_id":75765629,"question_id":75764728,"body_markdown":"This is because by default, sdkman adds itself to `~/.bashrc` which is not executed when you ssh to your machine.\r\n\r\nHere is a discussion about it:\r\nhttps://stackoverflow.com/questions/820517/bashrc-at-ssh-login\r\n\r\nYou can add to your ~/.bash_profile:\r\n```\r\nif [ -f ~/.bashrc ]; then\r\n  . ~/.bashrc\r\nfi\r\n```\r\n","title":"Installed java disappears after reboot on raspian","body":"<p>This is because by default, sdkman adds itself to <code>~/.bashrc</code> which is not executed when you ssh to your machine.</p>\n<p>Here is a discussion about it:\n<a href=\"https://stackoverflow.com/questions/820517/bashrc-at-ssh-login\">.bashrc at ssh login</a></p>\n<p>You can add to your ~/.bash_profile:</p>\n<pre><code>if [ -f ~/.bashrc ]; then\n  . ~/.bashrc\nfi\n</code></pre>\n"}],"owner":{"account_id":23926891,"reputation":3,"user_id":17921903,"display_name":"AlwaysBeginner"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":105,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1690793464,"creation_date":1679037593,"question_id":75764728,"body_markdown":"I have a problem with the installation of java (jdk17) on raspian (Raspian 11 (bullseye). I need jdk17 but raspian packagemanager only want to install jdk11 so i decided to use sdkman. Using the tutorial here:https://foojay.io/today/installing-java-with-sdkman-on-raspberry-pi/\r\nI installed sdkman and then java (17.0.6.-zulu), but when I restart the pi java is gone, even java -version does not work.\r\n\r\nI look if my sd card is readonly, but it isn&#39;t the typed and used commands also remain in the bash history and sdkman files are also at their location after reboot.\r\n\r\nHow can I install java on my pi?","title":"Installed java disappears after reboot on raspian","body":"<p>I have a problem with the installation of java (jdk17) on raspian (Raspian 11 (bullseye). I need jdk17 but raspian packagemanager only want to install jdk11 so i decided to use sdkman. Using the tutorial here:<a href=\"https://foojay.io/today/installing-java-with-sdkman-on-raspberry-pi/\" rel=\"nofollow noreferrer\">https://foojay.io/today/installing-java-with-sdkman-on-raspberry-pi/</a>\nI installed sdkman and then java (17.0.6.-zulu), but when I restart the pi java is gone, even java -version does not work.</p>\n<p>I look if my sd card is readonly, but it isn't the typed and used commands also remain in the bash history and sdkman files are also at their location after reboot.</p>\n<p>How can I install java on my pi?</p>\n"},{"tags":["java","unit-testing","maven","dependencies","gradle"],"comments":[{"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"score":2,"creation_date":1385488427,"post_id":20224260,"comment_id":30159538,"body_markdown":"`classifier: &#39;tests&#39;` might work (instead of `type: ...`).","body":"<code>classifier: &#39;tests&#39;</code> might work (instead of <code>type: ...</code>)."},{"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"score":1,"creation_date":1385489136,"post_id":20224260,"comment_id":30159959,"body_markdown":"@PeterNiederwieser That does finally get me the jar I was looking for. I believe I had tried `classifier: &#39;test&#39;` and `classifier: &#39;test-jar&#39;` which did not work.","body":"@PeterNiederwieser That does finally get me the jar I was looking for. I believe I had tried <code>classifier: &#39;test&#39;</code> and <code>classifier: &#39;test-jar&#39;</code> which did not work."}],"answers":[{"tags":[],"owner":{"account_id":31011,"reputation":122006,"user_id":84889,"display_name":"Peter Niederwieser"},"down_vote_count":0,"up_vote_count":32,"is_accepted":true,"score":32,"last_activity_date":1385491525,"creation_date":1385491525,"answer_id":20225377,"question_id":20224260,"body_markdown":"Gradle doesn&#39;t have a direct equivalent of Maven&#39;s `&lt;type&gt;`, but `classifier: &#39;tests&#39;` should work here (instead of `type: ... `).","title":"How Do I Pull Maven Test Jars Using Gradle?","body":"<p>Gradle doesn't have a direct equivalent of Maven's <code>&lt;type&gt;</code>, but <code>classifier: 'tests'</code> should work here (instead of <code>type: ...</code>).</p>\n"},{"tags":[],"owner":{"account_id":24295149,"reputation":21,"user_id":18239475,"display_name":"W.Stone"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1677293192,"creation_date":1677293192,"answer_id":75562997,"question_id":20224260,"body_markdown":"use `classifier`, example:\r\n\r\n```\r\n    testImplementation(&quot;io.vertx:vertx-core&quot;) {\r\n      artifact {\r\n        classifier = &#39;tests&#39;\r\n      }\r\n    }\r\n    testImplementation(&quot;io.vertx:vertx-web&quot;) {\r\n      artifact {\r\n        classifier = &#39;tests&#39;\r\n      }\r\n    }\r\n\r\n```","title":"How Do I Pull Maven Test Jars Using Gradle?","body":"<p>use <code>classifier</code>, example:</p>\n<pre><code>    testImplementation(&quot;io.vertx:vertx-core&quot;) {\n      artifact {\n        classifier = 'tests'\n      }\n    }\n    testImplementation(&quot;io.vertx:vertx-web&quot;) {\n      artifact {\n        classifier = 'tests'\n      }\n    }\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12246944,"reputation":95,"user_id":8938365,"display_name":"lemonzone2010"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1690793225,"creation_date":1690793225,"answer_id":76801992,"question_id":20224260,"body_markdown":"Two modules in one Root project **demo-parent**\r\n\r\n```\r\ndemo-parent\r\n  |---demo-core\r\n  |---demo-task\r\n```\r\n\r\nif you want to use some testCase common tools from **demo-core** in **demo-task**:\r\n\r\n\r\n    project(&quot;:demo-task&quot;) {\r\n      dependencies {\r\n        implementation(project(&quot;:demo-core&quot;))\r\n        \r\n        testImplementation project(&#39;:demo-core&#39;).sourceSets.test.output\r\n      }\r\n    }\r\n\r\n\r\n","title":"How Do I Pull Maven Test Jars Using Gradle?","body":"<p>Two modules in one Root project <strong>demo-parent</strong></p>\n<pre><code>demo-parent\n  |---demo-core\n  |---demo-task\n</code></pre>\n<p>if you want to use some testCase common tools from <strong>demo-core</strong> in <strong>demo-task</strong>:</p>\n<pre><code>project(&quot;:demo-task&quot;) {\n  dependencies {\n    implementation(project(&quot;:demo-core&quot;))\n    \n    testImplementation project(':demo-core').sourceSets.test.output\n  }\n}\n</code></pre>\n"}],"owner":{"account_id":199370,"reputation":19629,"user_id":444639,"accept_rate":84,"display_name":"Rylander"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6160,"favorite_count":0,"down_vote_count":0,"up_vote_count":23,"accepted_answer_id":20225377,"answer_count":3,"score":23,"last_activity_date":1690793225,"creation_date":1385487816,"question_id":20224260,"body_markdown":"In maven I can specify a &quot;type&quot;  for dependency resolution. I am trying to pull down a `tests.jar`. How can I do this using Gradle?\r\n\r\nI have tried using the Gradle Dependency below, but this does not pull down `test.jar`. \r\n\r\n    testCompile(group: &#39;org.apache.hbase&#39;, name: &#39;hbase&#39;, version: &#39;0.94.2&#39;, type: &#39;test-jar&#39;)\r\n    \r\n**Maven Dependency:**\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\r\n        &lt;artifactId&gt;hbase&lt;/artifactId&gt;\r\n        &lt;version&gt;0.94.2&lt;/version&gt;\r\n        &lt;type&gt;test-jar&lt;/type&gt;\r\n        &lt;scope&gt;test&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n\r\n\r\n***details:** Gradle 1.7*\r\n\r\n*I am trying to pull down &quot;hbase-0.94.2-tests.jar&quot; from [Maven Central](http://search.maven.org/#artifactdetails|org.apache.hbase|hbase|0.94.2|jar)*","title":"How Do I Pull Maven Test Jars Using Gradle?","body":"<p>In maven I can specify a \"type\"  for dependency resolution. I am trying to pull down a <code>tests.jar</code>. How can I do this using Gradle?</p>\n\n<p>I have tried using the Gradle Dependency below, but this does not pull down <code>test.jar</code>. </p>\n\n<pre><code>testCompile(group: 'org.apache.hbase', name: 'hbase', version: '0.94.2', type: 'test-jar')\n</code></pre>\n\n<p><strong>Maven Dependency:</strong></p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.hbase&lt;/groupId&gt;\n    &lt;artifactId&gt;hbase&lt;/artifactId&gt;\n    &lt;version&gt;0.94.2&lt;/version&gt;\n    &lt;type&gt;test-jar&lt;/type&gt;\n    &lt;scope&gt;test&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><em><strong>details:</strong> Gradle 1.7</em></p>\n\n<p><em>I am trying to pull down \"hbase-0.94.2-tests.jar\" from <a href=\"http://search.maven.org/#artifactdetails|org.apache.hbase|hbase|0.94.2|jar\">Maven Central</a></em></p>\n"},{"tags":["java","spring-boot","spring-cloud-gateway","jaeger"],"answers":[{"tags":[],"owner":{"account_id":16643925,"reputation":133,"user_id":12028677,"display_name":"Kampaii"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690792967,"creation_date":1690792967,"answer_id":76801962,"question_id":57694618,"body_markdown":"our solution:\r\n\r\nUpstream filter implements org.springframework.cloud.gateway.filter.headers.HttpHeadersFilter\r\n \r\n\r\n    exchange.getAttributes().put(&#39;your_key_here&#39;, value);\r\n\r\nDownstream filter implements org.springframework.cloud.gateway.filter.headers.HttpHeadersFilter\r\n\r\n    Object storedValue = exchange.getAttribute(&#39;your_key_here&#39;); // NOTE can be null\r\n\r\nand register them via Spring Java configuration(@Bean)\r\n             \r\n\r\n","title":"Does someone implement Jaeger with Spring Cloud Gateway?","body":"<p>our solution:</p>\n<p>Upstream filter implements org.springframework.cloud.gateway.filter.headers.HttpHeadersFilter</p>\n<pre><code>exchange.getAttributes().put('your_key_here', value);\n</code></pre>\n<p>Downstream filter implements org.springframework.cloud.gateway.filter.headers.HttpHeadersFilter</p>\n<pre><code>Object storedValue = exchange.getAttribute('your_key_here'); // NOTE can be null\n</code></pre>\n<p>and register them via Spring Java configuration(@Bean)</p>\n"}],"owner":{"account_id":11420839,"reputation":81,"user_id":8372389,"display_name":"NOrbes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":630,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"answer_count":1,"score":7,"last_activity_date":1690792967,"creation_date":1567002158,"question_id":57694618,"body_markdown":"We are re-building our software platform using a microservice architecture approach.\r\n\r\nMost of it using **`Spring Boot`** libraries, and for our entry points we are using *Spring Cloud Gateway* which can be easily integrated with **`Jaeger`** to have tracing in the platform.\r\n\r\nWe do that using the following Maven dependency:\r\n\r\n```XML\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\r\n    &lt;artifactId&gt;opentracing-spring-jaeger-cloud-starter&lt;/artifactId&gt;\r\n    &lt;version&gt;2.0.3&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n```\r\nAnd it is working pretty well, we can see the trace on the **`Jaeger UI`** web console.\r\n\r\nThe problem now is how to send the tracking information to the next inner service in the platform to have every service correlated.\r\n\r\nAny ideas?\r\n\r\n**We have tried** to inject the tracking information as HTML Headers using a **`GlobalFilter`** but it is using the incoming request and we need to put them on the downstream request... any clue on how to override **`HTTPClient`** used underneath. \r\n\r\n```java\r\n@Bean\r\n@Order(-1)\r\npublic GlobalFilter tracingFilter() {\r\n    return (exchange, chain) -&gt; {\r\n        ServerHttpRequest request = exchange.getRequest();\r\n\r\n        Tracer tracer = TracerResolver.resolveTracer();\r\n        Span span = tracer.buildSpan(request.getMethod().toString())\r\n                .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\r\n                .start();\r\n\r\n        Tags.HTTP_URL.set(span, request.getURI().toString());\r\n        Tags.HTTP_METHOD.set(span, request.getMethod().toString());\r\n        if (request.getURI().getPort() != -1) {\r\n            Tags.PEER_PORT.set(span, request.getURI().getPort());\r\n        }\r\n\r\n        ServerHttpRequest.Builder requestBuilder = request.mutate();\r\n\r\n        tracer.inject(span.context(), Format.Builtin.HTTP_HEADERS, new RequestBuilderCarrier(requestBuilder));\r\n\r\n        ...\r\n\r\n        }));\r\n    };\r\n}\r\n```","title":"Does someone implement Jaeger with Spring Cloud Gateway?","body":"<p>We are re-building our software platform using a microservice architecture approach.</p>\n\n<p>Most of it using <strong><code>Spring Boot</code></strong> libraries, and for our entry points we are using <em>Spring Cloud Gateway</em> which can be easily integrated with <strong><code>Jaeger</code></strong> to have tracing in the platform.</p>\n\n<p>We do that using the following Maven dependency:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;io.opentracing.contrib&lt;/groupId&gt;\n    &lt;artifactId&gt;opentracing-spring-jaeger-cloud-starter&lt;/artifactId&gt;\n    &lt;version&gt;2.0.3&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>And it is working pretty well, we can see the trace on the <strong><code>Jaeger UI</code></strong> web console.</p>\n\n<p>The problem now is how to send the tracking information to the next inner service in the platform to have every service correlated.</p>\n\n<p>Any ideas?</p>\n\n<p><strong>We have tried</strong> to inject the tracking information as HTML Headers using a <strong><code>GlobalFilter</code></strong> but it is using the incoming request and we need to put them on the downstream request... any clue on how to override <strong><code>HTTPClient</code></strong> used underneath. </p>\n\n<pre class=\"lang-java prettyprint-override\"><code>@Bean\n@Order(-1)\npublic GlobalFilter tracingFilter() {\n    return (exchange, chain) -&gt; {\n        ServerHttpRequest request = exchange.getRequest();\n\n        Tracer tracer = TracerResolver.resolveTracer();\n        Span span = tracer.buildSpan(request.getMethod().toString())\n                .withTag(Tags.SPAN_KIND.getKey(), Tags.SPAN_KIND_CLIENT)\n                .start();\n\n        Tags.HTTP_URL.set(span, request.getURI().toString());\n        Tags.HTTP_METHOD.set(span, request.getMethod().toString());\n        if (request.getURI().getPort() != -1) {\n            Tags.PEER_PORT.set(span, request.getURI().getPort());\n        }\n\n        ServerHttpRequest.Builder requestBuilder = request.mutate();\n\n        tracer.inject(span.context(), Format.Builtin.HTTP_HEADERS, new RequestBuilderCarrier(requestBuilder));\n\n        ...\n\n        }));\n    };\n}\n</code></pre>\n"},{"tags":["java","intellij-idea","import","ide"],"answers":[{"tags":[],"owner":{"account_id":493855,"reputation":1328,"user_id":2223021,"display_name":"Tracy Snell"},"down_vote_count":2,"up_vote_count":67,"is_accepted":true,"score":65,"last_activity_date":1525885921,"creation_date":1412636648,"answer_id":26226193,"question_id":26225989,"body_markdown":"Open up preferences and search for &quot;import&quot;. This will narrow down the list you need to look through. The screen shot shows the options for when to use single imports vs * (you can see I don&#39;t like star imports).\r\n\r\n![enter image description here][1]\r\n\r\n  [1]: http://i.stack.imgur.com/6wFaM.png","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>Open up preferences and search for \"import\". This will narrow down the list you need to look through. The screen shot shows the options for when to use single imports vs * (you can see I don't like star imports).</p>\n\n<p><img src=\"https://i.stack.imgur.com/6wFaM.png\" alt=\"enter image description here\"></p>\n"},{"tags":[],"owner":{"account_id":2048438,"reputation":8159,"user_id":1827992,"accept_rate":88,"display_name":"BevynQ"},"down_vote_count":0,"up_vote_count":27,"is_accepted":false,"score":27,"last_activity_date":1412641214,"creation_date":1412641214,"answer_id":26226769,"question_id":26225989,"body_markdown":"under `File` menu \r\n\r\nselect `Settings` (ctrl+alt+s)\r\n\r\nselect `Code Style`\r\n\r\nselect `Java`\r\n\r\nselect `Imports` tab\r\n\r\nunder `General` the check box `Use single class import` will determine whether packages or classes will be imported.\r\n\r\nthe `Use fully qualified class names` check box  will not use imports rather it will insert full class names directly into the code.","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>under <code>File</code> menu </p>\n\n<p>select <code>Settings</code> (ctrl+alt+s)</p>\n\n<p>select <code>Code Style</code></p>\n\n<p>select <code>Java</code></p>\n\n<p>select <code>Imports</code> tab</p>\n\n<p>under <code>General</code> the check box <code>Use single class import</code> will determine whether packages or classes will be imported.</p>\n\n<p>the <code>Use fully qualified class names</code> check box  will not use imports rather it will insert full class names directly into the code.</p>\n"},{"tags":[],"owner":{"account_id":7956857,"reputation":1,"user_id":6005831,"display_name":"Dinusha"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1456899732,"creation_date":1456893918,"answer_id":35738705,"question_id":26225989,"body_markdown":"I had the same issue. But the following process fixed my problem.\r\n\r\nPress key combination `ctrl+alt+O`, then only the needed packages will be added.","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>I had the same issue. But the following process fixed my problem.</p>\n\n<p>Press key combination <code>ctrl+alt+O</code>, then only the needed packages will be added.</p>\n"},{"tags":[],"owner":{"account_id":2582365,"reputation":2719,"user_id":2238745,"display_name":"Jin Thakur"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1471261608,"creation_date":1471261608,"answer_id":38954474,"question_id":26225989,"body_markdown":"Please check if you have autoimport\r\ncancel autoimport\r\nauto-import settings under &quot;Settings → Editor → Auto Import","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>Please check if you have autoimport\ncancel autoimport\nauto-import settings under \"Settings → Editor → Auto Import</p>\n"},{"tags":[],"owner":{"account_id":4389010,"reputation":131,"user_id":3578106,"display_name":"basee"},"down_vote_count":0,"up_vote_count":13,"is_accepted":false,"score":13,"last_activity_date":1611899692,"creation_date":1611898249,"answer_id":65949278,"question_id":26225989,"body_markdown":"IntelliJ version 2020.2.3 (October built)\r\n\r\nPreferences &gt; Editor &gt; CodeStyle &gt; Java \r\nin the &quot;General&quot; tab\r\ncheck &quot;Use Single Class import&quot;\r\ncheck &quot;Use fully qualified class names&quot;\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/xJFMx.png","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>IntelliJ version 2020.2.3 (October built)</p>\n<p>Preferences &gt; Editor &gt; CodeStyle &gt; Java\nin the &quot;General&quot; tab\ncheck &quot;Use Single Class import&quot;\ncheck &quot;Use fully qualified class names&quot;</p>\n<p><a href=\"https://i.stack.imgur.com/xJFMx.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/xJFMx.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":[],"owner":{"account_id":27837255,"reputation":33,"user_id":21254433,"display_name":"motodev"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1690792916,"creation_date":1690792850,"answer_id":76801941,"question_id":26225989,"body_markdown":"If you want to see all the specific imports without using fully qualified class names, you can do this:\r\n\r\ngo to Settings -&gt; Code Style -&gt; Java -&gt; Set &quot;class count to use import with &#39;*&#39;: &quot; to 100 (or any big number)","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>If you want to see all the specific imports without using fully qualified class names, you can do this:</p>\n<p>go to Settings -&gt; Code Style -&gt; Java -&gt; Set &quot;class count to use import with '*': &quot; to 100 (or any big number)</p>\n"}],"owner":{"account_id":1309364,"reputation":871,"user_id":1257691,"accept_rate":50,"display_name":"Vijay Kumar"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":54216,"favorite_count":0,"down_vote_count":0,"up_vote_count":62,"accepted_answer_id":26226193,"answer_count":6,"score":62,"last_activity_date":1690792916,"creation_date":1412635338,"question_id":26225989,"body_markdown":"On IntelliJ Java IDE when I import a class using the keyboard shortcut or take the suggested import, IntelliJ imports the whole package, e.g.\r\n\r\n    public static void main(String[] args) {\r\n\r\n      List list = new LinkedList();\r\n\r\n    } \r\n\r\nwould result in this import line\r\n \r\n    java.util.*;\r\n\r\nI prefer the IDE to not do a package level import and import explicit classes. \r\nI want to set this at the global level, so I don&#39;t have to deal with this at each project. \r\nIs there any way to do this? \r\n\r\nI am on IntelliJ 13.0.2 on Mac OS X 10.8.5\r\n\r\nThanks\r\n\r\n\r\n","title":"How do I stop wildcard Java package imports in IntelliJ","body":"<p>On IntelliJ Java IDE when I import a class using the keyboard shortcut or take the suggested import, IntelliJ imports the whole package, e.g.</p>\n\n<pre><code>public static void main(String[] args) {\n\n  List list = new LinkedList();\n\n} \n</code></pre>\n\n<p>would result in this import line</p>\n\n<pre><code>java.util.*;\n</code></pre>\n\n<p>I prefer the IDE to not do a package level import and import explicit classes. \nI want to set this at the global level, so I don't have to deal with this at each project. \nIs there any way to do this? </p>\n\n<p>I am on IntelliJ 13.0.2 on Mac OS X 10.8.5</p>\n\n<p>Thanks</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1557463540,"post_id":56070802,"comment_id":98780649,"body_markdown":"`StdIn` and `StdOut` are not standard class names.  You&#39;ll need to show us the code.  Where do they come from?","body":"<code>StdIn</code> and <code>StdOut</code> are not standard class names.  You&#39;ll need to show us the code.  Where do they come from?"},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557463747,"post_id":56070802,"comment_id":98780702,"body_markdown":"Added code -- I don&#39;t know why the code should matter. My point is that StdOut and StdIn are in my provided stdlib.jar that I added to the classpath ... yet I&#39;m still getting errors!","body":"Added code -- I don&#39;t know why the code should matter. My point is that StdOut and StdIn are in my provided stdlib.jar that I added to the classpath ... yet I&#39;m still getting errors!"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1557463775,"post_id":56070802,"comment_id":98780707,"body_markdown":"Well, I don&#39;t see an `import` for `StdIn`.","body":"Well, I don&#39;t see an <code>import</code> for <code>StdIn</code>."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557463811,"post_id":56070802,"comment_id":98780717,"body_markdown":"Do I need to when it&#39;s in the classpath already?","body":"Do I need to when it&#39;s in the classpath already?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1557463828,"post_id":56070802,"comment_id":98780725,"body_markdown":"Yup.  ..........","body":"Yup.  .........."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557463901,"post_id":56070802,"comment_id":98780737,"body_markdown":"That&#39;s weird -- I just copied the code from here\n\nhttps://introcs.cs.princeton.edu/java/16pagerank/Markov.java.html\n\nIs there a mistake they made then?","body":"That&#39;s weird -- I just copied the code from here  <a href=\"https://introcs.cs.princeton.edu/java/16pagerank/Markov.java.html\" rel=\"nofollow noreferrer\">introcs.cs.princeton.edu/java/16pagerank/Markov.java.html</a>  Is there a mistake they made then?"},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":2,"creation_date":1557464091,"post_id":56070802,"comment_id":98780768,"body_markdown":"Yes, only classes from `java.lang` are imported automatically.  All others must have an explicit import.  (Actually that&#39;s not quite true, if the class *source files* are in the same package and in the same compilation path, you don&#39;t need it.  But you have Jar files, not source files.  Sounds like you&#39;re the victim of somebody&#39;s personal project that they just all compiled into one program.)","body":"Yes, only classes from <code>java.lang</code> are imported automatically.  All others must have an explicit import.  (Actually that&#39;s not quite true, if the class <i>source files</i> are in the same package and in the same compilation path, you don&#39;t need it.  But you have Jar files, not source files.  Sounds like you&#39;re the victim of somebody&#39;s personal project that they just all compiled into one program.)"},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557464146,"post_id":56070802,"comment_id":98780782,"body_markdown":"It&#39;s just particularly egregious that this is a course website and they have simple errors like this.","body":"It&#39;s just particularly egregious that this is a course website and they have simple errors like this."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1557464303,"post_id":56070802,"comment_id":98780827,"body_markdown":"Yes it is.  Also I don&#39;t like these special `StdIn` and other classes they made.  You&#39;d do better to just learn the standard API.","body":"Yes it is.  Also I don&#39;t like these special <code>StdIn</code> and other classes they made.  You&#39;d do better to just learn the standard API."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557464618,"post_id":56070802,"comment_id":98780898,"body_markdown":"So that didn&#39;t help -- I STILL get the same issue after adding the import lines.","body":"So that didn&#39;t help -- I STILL get the same issue after adding the import lines."},{"owner":{"account_id":2709823,"reputation":10716,"user_id":2338547,"display_name":"markspace"},"score":0,"creation_date":1557465152,"post_id":56070802,"comment_id":98781034,"body_markdown":"The class you linked to had no package.  Are you sure the package you used there is correct?","body":"The class you linked to had no package.  Are you sure the package you used there is correct?"},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557465342,"post_id":56070802,"comment_id":98781081,"body_markdown":"yes I am. They said to just add algs4.jar, stdlib.jar, and introcs.jar to my classpath.","body":"yes I am. They said to just add algs4.jar, stdlib.jar, and introcs.jar to my classpath."},{"owner":{"account_id":4113392,"reputation":5800,"user_id":3375670,"accept_rate":88,"display_name":"Robert Kock"},"score":0,"creation_date":1557469918,"post_id":56070802,"comment_id":98782650,"body_markdown":"Try adding these jars explicitely to your classpath when compiling. Thus, `javac -cp /usr/local/lift/lib/* coursera/java-stuff/markov/Markov.java` and see what happens.","body":"Try adding these jars explicitely to your classpath when compiling. Thus, <code>javac -cp &#47;usr&#47;local&#47;lift&#47;lib&#47;* coursera&#47;java-stuff&#47;markov&#47;Markov.java</code> and see what happens."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557470118,"post_id":56070802,"comment_id":98782732,"body_markdown":"I tried that before and that works. Why is adding them to the classpath NOT working is my question.","body":"I tried that before and that works. Why is adding them to the classpath NOT working is my question."},{"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"score":0,"creation_date":1557481004,"post_id":56070802,"comment_id":98788020,"body_markdown":"Oh jesus...it&#39;s because I set my CLASSPATH in .bashrc with `CLASSPATH=&quot;${CLASSPATH}:${LIFT_LIB}/stdlib.jar:${LIFT_LIB}/introcs.jar:${LIFT_LIB}/algs4.jar&quot;` instead of\n`export CLASSPATH=&quot;${CLASSPATH}:${LIFT_LIB}/stdlib.jar:${LIFT_LIB}/introcs.jar:${LIFT_LIB}/algs4.jar&quot;`...","body":"Oh jesus...it&#39;s because I set my CLASSPATH in .bashrc with <code>CLASSPATH=&quot;${CLASSPATH}:${LIFT_LIB}&#47;stdlib.jar:${LIFT_LIB}&#47;i&zwnj;&#8203;ntrocs.jar:${LIFT_LI&zwnj;&#8203;B}&#47;algs4.jar&quot;</code> instead of <code>export CLASSPATH=&quot;${CLASSPATH}:${LIFT_LIB}&#47;stdlib.jar:${LIFT_LIB}&#47;i&zwnj;&#8203;ntrocs.jar:${LIFT_LI&zwnj;&#8203;B}&#47;algs4.jar&quot;</code>..."}],"answers":[{"tags":[],"owner":{"account_id":15910201,"reputation":11,"user_id":11480352,"display_name":"classpath"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1557480585,"creation_date":1557480585,"answer_id":56074669,"question_id":56070802,"body_markdown":"The command javac-introcs is for use with the book *Introduction to Computer Science: An Interdisciplinary Approach*. The command javac-algs4 is for use with the book *Algorithms, 4e*. The former uses the default package, so no import statement are required; the latter used a named package and import statements are required. So, in your case, use javac-introcs and everything should work.\r\n\r\nThere is no need to set the CLASSPATH environment variable when using either command.","title":"Java does not find symbols StdIn and StdOut","body":"<p>The command javac-introcs is for use with the book <em>Introduction to Computer Science: An Interdisciplinary Approach</em>. The command javac-algs4 is for use with the book <em>Algorithms, 4e</em>. The former uses the default package, so no import statement are required; the latter used a named package and import statements are required. So, in your case, use javac-introcs and everything should work.</p>\n\n<p>There is no need to set the CLASSPATH environment variable when using either command.</p>\n"},{"tags":[],"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557481165,"creation_date":1557481165,"answer_id":56074834,"question_id":56070802,"body_markdown":"This is fixed by putting \r\n\r\n`# this must match the install directory \r\nLIFT_LIB=&quot;/usr/local/lift/lib&quot;`\r\n\r\n`export CLASSPATH=&quot;${CLASSPATH}:${LIFT_LIB}/stdlib.jar:${LIFT_LIB}/introcs.jar:${LIFT_LIB}/algs4.jar&quot;`\r\nin my `.bashrc` file. The reason it didn&#39;t work because was because I didn&#39;t use `export` command in my `.bashrc`.","title":"Java does not find symbols StdIn and StdOut","body":"<p>This is fixed by putting </p>\n\n<p><code># this must match the install directory \nLIFT_LIB=\"/usr/local/lift/lib\"</code></p>\n\n<p><code>export CLASSPATH=\"${CLASSPATH}:${LIFT_LIB}/stdlib.jar:${LIFT_LIB}/introcs.jar:${LIFT_LIB}/algs4.jar\"</code>\nin my <code>.bashrc</code> file. The reason it didn't work because was because I didn't use <code>export</code> command in my <code>.bashrc</code>.</p>\n"},{"tags":[],"owner":{"account_id":8766099,"reputation":36,"user_id":6554399,"display_name":"Clyde R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557597646,"creation_date":1557597646,"answer_id":56092973,"question_id":56070802,"body_markdown":"IMHO, this is an unfair criticism of the course.  The instructions for installing the simplified programming environment (https://introcs.cs.princeton.edu/java/home/) walk you through the steps, and work correctly, at least in the Linux section.\r\n\r\nIt appears that @Glassjawed failed to use the javac-introcs &amp; java-introcs commands which are enabled when lift is installed.","title":"Java does not find symbols StdIn and StdOut","body":"<p>IMHO, this is an unfair criticism of the course.  The instructions for installing the simplified programming environment (<a href=\"https://introcs.cs.princeton.edu/java/home/\" rel=\"nofollow noreferrer\">https://introcs.cs.princeton.edu/java/home/</a>) walk you through the steps, and work correctly, at least in the Linux section.</p>\n\n<p>It appears that @Glassjawed failed to use the javac-introcs &amp; java-introcs commands which are enabled when lift is installed.</p>\n"},{"tags":[],"owner":{"account_id":446597,"reputation":22464,"user_id":839733,"accept_rate":69,"display_name":"Abhijit Sarkar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1557599557,"creation_date":1557599557,"answer_id":56093200,"question_id":56070802,"body_markdown":"You can either work like it’s 1999 and manually add JAR files to classpath, or you can recognize it’s 2019, and use a build tool like Maven or Gradle to do that for you. The `algs4` JAR is available on BinTray. https://github.com/kevin-wayne/algs4/blob/master/README.md.\n\nI’ve taken this course and used Gradle to build the code. Once you set up the project, you can focus on solving the real problems, and not manipulating classpath. I also started an initiative to better organize the source code for `algs4` (currently one flat structure due to historical reasons) but didn’t get time to finish it.","title":"Java does not find symbols StdIn and StdOut","body":"<p>You can either work like it’s 1999 and manually add JAR files to classpath, or you can recognize it’s 2019, and use a build tool like Maven or Gradle to do that for you. The <code>algs4</code> JAR is available on BinTray. <a href=\"https://github.com/kevin-wayne/algs4/blob/master/README.md\" rel=\"nofollow noreferrer\">https://github.com/kevin-wayne/algs4/blob/master/README.md</a>.</p>\n\n<p>I’ve taken this course and used Gradle to build the code. Once you set up the project, you can focus on solving the real problems, and not manipulating classpath. I also started an initiative to better organize the source code for <code>algs4</code> (currently one flat structure due to historical reasons) but didn’t get time to finish it.</p>\n"},{"tags":[],"owner":{"account_id":8117213,"reputation":692,"user_id":6115334,"display_name":"Miguel Salas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690792812,"creation_date":1690538975,"answer_id":76786833,"question_id":56070802,"body_markdown":"For anyone following the course  &quot;Computer science an Interdiciplinary approach&quot; having this issue:  \r\n\r\n- in the book site: https://introcs.cs.princeton.edu/java/stdlib/ they provide a .jar file, that you can add as a dependency of you project  (in intelliJ Idea, you click right on your top project folder  select &quot;Open module settings&quot;, then  &quot;Modules&quot; there  you add a dependency. witt the plus sign and you select the .jar file they provide. \r\n\r\nThat should help the IDE to find the class when you use it in your code without any import statement.\r\n\r\nIf you need to run something on the terminal and the program makes reference one of the classes they provide, you need to add the option `-classpath`. including the .jar file, for example, say you want to run  `RandomSeq`  from the examples in the book:\r\n\r\n`java -classpath yourPathToTheCompiledJavaCompiledFiles:yourPathToTheJarFile/stdlib.jar RandomSeq 10` \r\n\r\nNote that the `:` on this is a separator, in mac is like this, in other operating systems may be a differen character, and the `stdlib.jar` is the name of the .jar file","title":"Java does not find symbols StdIn and StdOut","body":"<p>For anyone following the course  &quot;Computer science an Interdiciplinary approach&quot; having this issue:</p>\n<ul>\n<li>in the book site: <a href=\"https://introcs.cs.princeton.edu/java/stdlib/\" rel=\"nofollow noreferrer\">https://introcs.cs.princeton.edu/java/stdlib/</a> they provide a .jar file, that you can add as a dependency of you project  (in intelliJ Idea, you click right on your top project folder  select &quot;Open module settings&quot;, then  &quot;Modules&quot; there  you add a dependency. witt the plus sign and you select the .jar file they provide.</li>\n</ul>\n<p>That should help the IDE to find the class when you use it in your code without any import statement.</p>\n<p>If you need to run something on the terminal and the program makes reference one of the classes they provide, you need to add the option <code>-classpath</code>. including the .jar file, for example, say you want to run  <code>RandomSeq</code>  from the examples in the book:</p>\n<p><code>java -classpath yourPathToTheCompiledJavaCompiledFiles:yourPathToTheJarFile/stdlib.jar RandomSeq 10</code></p>\n<p>Note that the <code>:</code> on this is a separator, in mac is like this, in other operating systems may be a differen character, and the <code>stdlib.jar</code> is the name of the .jar file</p>\n"}],"owner":{"account_id":326993,"reputation":3105,"user_id":649090,"accept_rate":27,"display_name":"Kashif"},"comment_count":15,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1776,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":56093200,"answer_count":5,"score":-1,"last_activity_date":1690792812,"creation_date":1557463412,"question_id":56070802,"body_markdown":"I am having Java compilation issues. Although I have configured my classpath properly as seen here...\r\n\r\n    yan@Y9Acer:~$ echo $CLASSPATH\r\n    .:/usr/local/lift/lib/stdlib.jar:/usr/local/lift/lib/introcs.jar:/usr/local/lift/lib/algs4.jar\r\n\r\nI still get the following StdIn and StdOut errors when building indicating that the symbols weren&#39;t found. But these would be found in the stdlib.jar file listed above, so I don&#39;t know why this is happening. Does anyone know why this is? I&#39;ve looked for hours and gotten nowhere.\r\n\r\n    yan@Y9Acer:~$ javac-algs4 coursera/java-stuff/markov/Markov.java\r\n    coursera/java-stuff/markov/Markov.java:17: error: cannot find symbol\r\n            int n = StdIn.readInt();                 // number of pages\r\n                    ^\r\n      symbol:   variable StdIn\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:18: error: cannot find symbol\r\n            StdIn.readInt();                         // ignore integer required by input format\r\n            ^\r\n      symbol:   variable StdIn\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:26: error: cannot find symbol\r\n                    p[i][j] = StdIn.readDouble();\r\n                              ^\r\n      symbol:   variable StdIn\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:47: error: cannot find symbol\r\n                StdOut.printf(&quot;%8.5f&quot;, rank[i]);\r\n                ^\r\n      symbol:   variable StdOut\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:49: error: cannot find symbol\r\n            StdOut.println();\r\n            ^\r\n      symbol:   variable StdOut\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:51: error: cannot find symbol\r\n            StdOut.println();\r\n            ^\r\n      symbol:   variable StdOut\r\n      location: class Markov\r\n    coursera/java-stuff/markov/Markov.java:54: error: cannot find symbol\r\n                StdOut.printf(&quot;%2d  %5.3f\\n&quot;, i, rank[i]);\r\n                ^\r\n      symbol:   variable StdOut\r\n      location: class Markov\r\n    7 errors\r\n\r\n\r\nAnd here is my code, so you can see\r\n\r\n    import edu.princeton.cs.algs4.StdIn;\r\n    import edu.princeton.cs.algs4.StdOut;\r\n        \r\n    public class Markov {\r\n        \r\n            public static void main(String[] args) {\r\n                int trials = Integer.parseInt(args[0]);  // number of iterations\r\n                int n = StdIn.readInt();                 // number of pages\r\n                StdIn.readInt();                         // ignore integer required by input format\r\n        \r\n        \r\n                // Read p[][] from StdIn.\r\n                double[][] p\r\n                        = new double[n][n];         // p[i][j] = prob. surfer moves from page i to page j\r\n                for (int i = 0; i &lt; n; i++)\r\n                    for (int j = 0; j &lt; n; j++)\r\n                        p[i][j] = StdIn.readDouble();\r\n        \r\n                // Use the power method to compute page ranks.\r\n                double[] rank = new double[n];\r\n                rank[0] = 1.0;\r\n                for (int t = 0; t &lt; trials; t++) {\r\n        \r\n                    // Compute effect of next move on page ranks.\r\n                    double[] newRank = new double[n];\r\n                    for (int j = 0; j &lt; n; j++) {\r\n                        //  New rank of page j is dot product of old ranks and column j of p[][].\r\n                        for (int k = 0; k &lt; n; k++)\r\n                            newRank[j] += rank[k] * p[k][j];\r\n                    }\r\n        \r\n                    // Update page ranks.\r\n                    rank = newRank;\r\n                }\r\n        \r\n                // print page ranks\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    StdOut.printf(&quot;%8.5f&quot;, rank[i]);\r\n                }\r\n                StdOut.println();\r\n        \r\n                StdOut.println();\r\n                // print page ranks\r\n                for (int i = 0; i &lt; n; i++) {\r\n                    StdOut.printf(&quot;%2d  %5.3f\\n&quot;, i, rank[i]);\r\n                }\r\n            }\r\n        }\r\n\r\nAnyone? I don&#39;t think this is a difficult question for an experienced Java guy.","title":"Java does not find symbols StdIn and StdOut","body":"<p>I am having Java compilation issues. Although I have configured my classpath properly as seen here...</p>\n\n<pre><code>yan@Y9Acer:~$ echo $CLASSPATH\n.:/usr/local/lift/lib/stdlib.jar:/usr/local/lift/lib/introcs.jar:/usr/local/lift/lib/algs4.jar\n</code></pre>\n\n<p>I still get the following StdIn and StdOut errors when building indicating that the symbols weren't found. But these would be found in the stdlib.jar file listed above, so I don't know why this is happening. Does anyone know why this is? I've looked for hours and gotten nowhere.</p>\n\n<pre><code>yan@Y9Acer:~$ javac-algs4 coursera/java-stuff/markov/Markov.java\ncoursera/java-stuff/markov/Markov.java:17: error: cannot find symbol\n        int n = StdIn.readInt();                 // number of pages\n                ^\n  symbol:   variable StdIn\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:18: error: cannot find symbol\n        StdIn.readInt();                         // ignore integer required by input format\n        ^\n  symbol:   variable StdIn\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:26: error: cannot find symbol\n                p[i][j] = StdIn.readDouble();\n                          ^\n  symbol:   variable StdIn\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:47: error: cannot find symbol\n            StdOut.printf(\"%8.5f\", rank[i]);\n            ^\n  symbol:   variable StdOut\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:49: error: cannot find symbol\n        StdOut.println();\n        ^\n  symbol:   variable StdOut\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:51: error: cannot find symbol\n        StdOut.println();\n        ^\n  symbol:   variable StdOut\n  location: class Markov\ncoursera/java-stuff/markov/Markov.java:54: error: cannot find symbol\n            StdOut.printf(\"%2d  %5.3f\\n\", i, rank[i]);\n            ^\n  symbol:   variable StdOut\n  location: class Markov\n7 errors\n</code></pre>\n\n<p>And here is my code, so you can see</p>\n\n<pre><code>import edu.princeton.cs.algs4.StdIn;\nimport edu.princeton.cs.algs4.StdOut;\n\npublic class Markov {\n\n        public static void main(String[] args) {\n            int trials = Integer.parseInt(args[0]);  // number of iterations\n            int n = StdIn.readInt();                 // number of pages\n            StdIn.readInt();                         // ignore integer required by input format\n\n\n            // Read p[][] from StdIn.\n            double[][] p\n                    = new double[n][n];         // p[i][j] = prob. surfer moves from page i to page j\n            for (int i = 0; i &lt; n; i++)\n                for (int j = 0; j &lt; n; j++)\n                    p[i][j] = StdIn.readDouble();\n\n            // Use the power method to compute page ranks.\n            double[] rank = new double[n];\n            rank[0] = 1.0;\n            for (int t = 0; t &lt; trials; t++) {\n\n                // Compute effect of next move on page ranks.\n                double[] newRank = new double[n];\n                for (int j = 0; j &lt; n; j++) {\n                    //  New rank of page j is dot product of old ranks and column j of p[][].\n                    for (int k = 0; k &lt; n; k++)\n                        newRank[j] += rank[k] * p[k][j];\n                }\n\n                // Update page ranks.\n                rank = newRank;\n            }\n\n            // print page ranks\n            for (int i = 0; i &lt; n; i++) {\n                StdOut.printf(\"%8.5f\", rank[i]);\n            }\n            StdOut.println();\n\n            StdOut.println();\n            // print page ranks\n            for (int i = 0; i &lt; n; i++) {\n                StdOut.printf(\"%2d  %5.3f\\n\", i, rank[i]);\n            }\n        }\n    }\n</code></pre>\n\n<p>Anyone? I don't think this is a difficult question for an experienced Java guy.</p>\n"},{"tags":["java","android","crash","crashlytics","android-anr-dialog"],"comments":[{"owner":{"account_id":3482475,"reputation":27230,"user_id":2914140,"accept_rate":69,"display_name":"CoolMind"},"score":0,"creation_date":1690795131,"post_id":73021483,"comment_id":135397628,"body_markdown":"Also it may occur when debug. Just stop at breakpoint and wait for 5 seconds.","body":"Also it may occur when debug. Just stop at breakpoint and wait for 5 seconds."}],"answers":[{"tags":[],"owner":{"account_id":1090531,"reputation":5002,"user_id":1085264,"accept_rate":50,"display_name":"straya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658144935,"creation_date":1658144935,"answer_id":73021859,"question_id":73021483,"body_markdown":"You are blocking the main thread. Make sure that IO operations such as db access is done in a thread other than the main thread. On top of that you may need to implement some basic Activity setup to allow the app to respond to inputs (hard to say with so little information provided).","title":"Input dispatching timed out (ANR)(Waited 5000ms for MotionEvent)","body":"<p>You are blocking the main thread. Make sure that IO operations such as db access is done in a thread other than the main thread. On top of that you may need to implement some basic Activity setup to allow the app to respond to inputs (hard to say with so little information provided).</p>\n"}],"owner":{"account_id":25262974,"reputation":23,"user_id":19093611,"display_name":"Hiral Bhojani"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3636,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":73021859,"answer_count":1,"score":2,"last_activity_date":1690792486,"creation_date":1658143057,"question_id":73021483,"body_markdown":"I have published my app few days ago and in that so many ANR is generating. \r\n\r\nInput dispatching timed out (cabef3d main.MainNavigationActivity (server) is not responding. Waited 5000ms for MotionEvent)\r\n\r\nAbove is the ANR gnerating most of time\r\n\r\n\r\nBelow here I&#39;m giving screenshot of both log of playstore and my code  \r\n\r\n[![playstore log image][1]][1]\r\n\r\n\r\n[![code image][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/VrjfB.png\r\n  [2]: https://i.stack.imgur.com/tr7AP.png","title":"Input dispatching timed out (ANR)(Waited 5000ms for MotionEvent)","body":"<p>I have published my app few days ago and in that so many ANR is generating.</p>\n<p>Input dispatching timed out (cabef3d main.MainNavigationActivity (server) is not responding. Waited 5000ms for MotionEvent)</p>\n<p>Above is the ANR gnerating most of time</p>\n<p>Below here I'm giving screenshot of both log of playstore and my code</p>\n<p><a href=\"https://i.stack.imgur.com/VrjfB.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/VrjfB.png\" alt=\"playstore log image\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/tr7AP.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/tr7AP.png\" alt=\"code image\" /></a></p>\n"},{"tags":["java","android","android-studio","kotlin","gradle"],"comments":[{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667820088,"post_id":74345674,"comment_id":131250843,"body_markdown":"Are the Gradle code blocks you added are correct? I mean exactly how it appeared on your Android Studio? Since I saw this line `options common to all sub-projects/modules.` and it is not commented out.","body":"Are the Gradle code blocks you added are correct? I mean exactly how it appeared on your Android Studio? Since I saw this line <code>options common to all sub-projects&#47;modules.</code> and it is not commented out."},{"owner":{"account_id":18081494,"reputation":117,"user_id":13143525,"display_name":"Mobinkh"},"score":0,"creation_date":1667848167,"post_id":74345674,"comment_id":131261180,"body_markdown":"@LawrenceGimenez\nYe it was mistake i just edited that its already commented","body":"@LawrenceGimenez Ye it was mistake i just edited that its already commented"},{"owner":{"account_id":1077685,"reputation":2777,"user_id":1075466,"accept_rate":58,"display_name":"Lawrence Gimenez"},"score":0,"creation_date":1667871021,"post_id":74345674,"comment_id":131266275,"body_markdown":"Thanks, it is confusing with all these samples. Are the samples yours?","body":"Thanks, it is confusing with all these samples. Are the samples yours?"},{"owner":{"account_id":18081494,"reputation":117,"user_id":13143525,"display_name":"Mobinkh"},"score":0,"creation_date":1667882304,"post_id":74345674,"comment_id":131267732,"body_markdown":"@LawrenceGimenez Yes.","body":"@LawrenceGimenez Yes."}],"answers":[{"tags":[],"owner":{"account_id":18081494,"reputation":117,"user_id":13143525,"display_name":"Mobinkh"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1690791715,"creation_date":1690791715,"answer_id":76801836,"question_id":74345674,"body_markdown":"Sadly all of the problems was related to country network restrictions you can fix that by adding other repositories to gradle \r\n\r\npersonally changing repos to a clone repo named aliyun was solution \r\n\r\nfor example adding this to your build.gradle \r\n```\r\nrepositories {\r\n    maven { url &#39;https://maven.aliyun.com/repository/public&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/central&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/google&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/gradle-plugin&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/apache-snapshots&#39; }\r\n}\r\n\r\nallprojects {\r\nrepositories {\r\n    maven { url &#39;https://maven.aliyun.com/repository/public&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/central&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/google&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/gradle-plugin&#39; }\r\n    maven { url &#39;https://maven.aliyun.com/repository/apache-snapshots&#39; }\r\n}\r\n}\r\n```","title":"Android Studio 2022 Gradle Problems","body":"<p>Sadly all of the problems was related to country network restrictions you can fix that by adding other repositories to gradle</p>\n<p>personally changing repos to a clone repo named aliyun was solution</p>\n<p>for example adding this to your build.gradle</p>\n<pre><code>repositories {\n    maven { url 'https://maven.aliyun.com/repository/public' }\n    maven { url 'https://maven.aliyun.com/repository/central' }\n    maven { url 'https://maven.aliyun.com/repository/google' }\n    maven { url 'https://maven.aliyun.com/repository/gradle-plugin' }\n    maven { url 'https://maven.aliyun.com/repository/apache-snapshots' }\n}\n\nallprojects {\nrepositories {\n    maven { url 'https://maven.aliyun.com/repository/public' }\n    maven { url 'https://maven.aliyun.com/repository/central' }\n    maven { url 'https://maven.aliyun.com/repository/google' }\n    maven { url 'https://maven.aliyun.com/repository/gradle-plugin' }\n    maven { url 'https://maven.aliyun.com/repository/apache-snapshots' }\n}\n}\n</code></pre>\n"}],"owner":{"account_id":18081494,"reputation":117,"user_id":13143525,"display_name":"Mobinkh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":238,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1690791715,"creation_date":1667819566,"question_id":74345674,"body_markdown":"it&#39;s been 3 days I&#39;m struggling with this problem and didn&#39;t find a single solution to this.\r\n\r\nEverything was good I had many projects in android studio 2022 working well but suddenly it seems all of my Gradle files are changed ?! or they are just I don&#39;t know what happened to them they are broken! every single project I open even the new project gives me an error in every single dependency or plugin ill share the information about it below here:\r\n\r\nEvery single Build.Gradle (Project) File : \r\n\r\n    // Top-level build file where you can add configuration options common to all sub-projects/modules.\r\n    plugins {\r\n    id &#39;com.android.application&#39; version &#39;7.2.1&#39; apply false\r\n    id &#39;com.android.library&#39; version &#39;7.2.1&#39; apply false\r\n    id &#39;org.jetbrains.kotlin.android&#39; version &#39;1.7.10&#39; apply false\r\n    }\r\n\r\n    task clean(type: Delete) {\r\n        delete rootProject.buildDir\r\n    }\r\n\r\n**Sample build.Gradle (App)**\r\n```\r\nplugins {\r\n    id &#39;com.android.application&#39;\r\n}\r\n\r\nandroid {\r\n    compileSdk 32\r\n\r\n    defaultConfig {\r\n        applicationId &quot;com.teach.mytest&quot;\r\n        minSdk 28\r\n        targetSdk 32\r\n        versionCode 1\r\n        versionName &quot;1.0&quot;\r\n\r\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\r\n    }\r\n\r\n    buildTypes {\r\n        release {\r\n            minifyEnabled false\r\n            proguardFiles getDefaultProguardFile(&#39;proguard-android-optimize.txt&#39;), &#39;proguard-rules.pro&#39;\r\n        }\r\n    }\r\n    compileOptions {\r\n        sourceCompatibility JavaVersion.VERSION_1_8\r\n        targetCompatibility JavaVersion.VERSION_1_8\r\n    }\r\n}\r\n\r\ndependencies {\r\n\r\n    implementation &#39;androidx.appcompat:appcompat:1.5.1&#39;\r\n    implementation &#39;com.google.android.material:material:1.6.1&#39;\r\n    testImplementation &#39;junit:junit:4.13.2&#39;\r\n    androidTestImplementation &#39;androidx.test.ext:junit:1.1.3&#39;\r\n    androidTestImplementation &#39;androidx.test.espresso:espresso-core:3.4.0&#39;\r\n}\r\n```\r\n** Sample gradle-wrapper.properties:**\r\n```\r\ndistributionBase=GRADLE_USER_HOME\r\ndistributionUrl=https://services.gradle.org/distributions/gradle-7.6-rc-1-bin.zip\r\ndistributionPath=wrapper/dists\r\nzipStorePath=wrapper/dists\r\nzipStoreBase=GRADLE_USER_HOME\r\n```\r\n\r\n** Sample settings.gradle: **\r\n\r\n```pluginManagement {\r\n    repositories {\r\n        gradlePluginPortal()\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\ndependencyResolutionManagement {\r\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\r\n    repositories {\r\n        google()\r\n        mavenCentral()\r\n    }\r\n}\r\nrootProject.name = &quot;MyTest&quot;\r\ninclude &#39;:app&#39;\r\n```\r\n**Errors:**\r\nsimple explaining about errors The errors are simply coming for all the projects are the same but when one project has extra dependency it gets errors like the below too for that dependency \r\nalso when I change the Gradle version from properties it&#39;s downloading the new Gradle working well but in the build phase it gives the same errors\r\n\r\n```\r\nPlugin [id: &#39;com.android.application&#39;, version: &#39;7.2.2&#39;, apply: false] was not found in any of the following sources:\r\n```\r\n\r\n```\r\nGradle Core Plugins (plugin is not in &#39;org.gradle&#39; namespace)\r\n```\r\n```\r\n- Plugin Repositories (could not resolve plugin artifact &#39;com.android.application:com.android.application.gradle.plugin:7.2.2&#39;)\r\nSearched in the following repositories:\r\n    Gradle Central Plugin Repository\r\n    Google\r\n    MavenRepo\r\n```\r\n\r\n\r\n** Whatever i did ?**\r\n\r\n- I tried to create a new project\r\n- I tried to change the java version\r\n- I tried to change the Gradle version and the application version\r\n- I tried to invalidate caches and restart\r\n\r\n** Notes ** \r\nI&#39;m using Java 15 mainly in my projects default android studio java version is 11 \r\nI change it via setting &gt; build tool\r\nBut the problem is same also same in kotlin projects\r\n\r\n\r\n**Edit:**\r\nI changed the android.application version to 7.0.0\r\neverything downloaded started from scratch at the final part its giving only error for gradle version 7.0.0","title":"Android Studio 2022 Gradle Problems","body":"<p>it's been 3 days I'm struggling with this problem and didn't find a single solution to this.</p>\n<p>Everything was good I had many projects in android studio 2022 working well but suddenly it seems all of my Gradle files are changed ?! or they are just I don't know what happened to them they are broken! every single project I open even the new project gives me an error in every single dependency or plugin ill share the information about it below here:</p>\n<p>Every single Build.Gradle (Project) File :</p>\n<pre><code>// Top-level build file where you can add configuration options common to all sub-projects/modules.\nplugins {\nid 'com.android.application' version '7.2.1' apply false\nid 'com.android.library' version '7.2.1' apply false\nid 'org.jetbrains.kotlin.android' version '1.7.10' apply false\n}\n\ntask clean(type: Delete) {\n    delete rootProject.buildDir\n}\n</code></pre>\n<p><strong>Sample build.Gradle (App)</strong></p>\n<pre><code>plugins {\n    id 'com.android.application'\n}\n\nandroid {\n    compileSdk 32\n\n    defaultConfig {\n        applicationId &quot;com.teach.mytest&quot;\n        minSdk 28\n        targetSdk 32\n        versionCode 1\n        versionName &quot;1.0&quot;\n\n        testInstrumentationRunner &quot;androidx.test.runner.AndroidJUnitRunner&quot;\n    }\n\n    buildTypes {\n        release {\n            minifyEnabled false\n            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'\n        }\n    }\n    compileOptions {\n        sourceCompatibility JavaVersion.VERSION_1_8\n        targetCompatibility JavaVersion.VERSION_1_8\n    }\n}\n\ndependencies {\n\n    implementation 'androidx.appcompat:appcompat:1.5.1'\n    implementation 'com.google.android.material:material:1.6.1'\n    testImplementation 'junit:junit:4.13.2'\n    androidTestImplementation 'androidx.test.ext:junit:1.1.3'\n    androidTestImplementation 'androidx.test.espresso:espresso-core:3.4.0'\n}\n</code></pre>\n<p>** Sample gradle-wrapper.properties:**</p>\n<pre><code>distributionBase=GRADLE_USER_HOME\ndistributionUrl=https://services.gradle.org/distributions/gradle-7.6-rc-1-bin.zip\ndistributionPath=wrapper/dists\nzipStorePath=wrapper/dists\nzipStoreBase=GRADLE_USER_HOME\n</code></pre>\n<p>** Sample settings.gradle: **</p>\n<pre><code>    repositories {\n        gradlePluginPortal()\n        google()\n        mavenCentral()\n    }\n}\ndependencyResolutionManagement {\n    repositoriesMode.set(RepositoriesMode.FAIL_ON_PROJECT_REPOS)\n    repositories {\n        google()\n        mavenCentral()\n    }\n}\nrootProject.name = &quot;MyTest&quot;\ninclude ':app'\n</code></pre>\n<p><strong>Errors:</strong>\nsimple explaining about errors The errors are simply coming for all the projects are the same but when one project has extra dependency it gets errors like the below too for that dependency\nalso when I change the Gradle version from properties it's downloading the new Gradle working well but in the build phase it gives the same errors</p>\n<pre><code>Plugin [id: 'com.android.application', version: '7.2.2', apply: false] was not found in any of the following sources:\n</code></pre>\n<pre><code>Gradle Core Plugins (plugin is not in 'org.gradle' namespace)\n</code></pre>\n<pre><code>- Plugin Repositories (could not resolve plugin artifact 'com.android.application:com.android.application.gradle.plugin:7.2.2')\nSearched in the following repositories:\n    Gradle Central Plugin Repository\n    Google\n    MavenRepo\n</code></pre>\n<p>** Whatever i did ?**</p>\n<ul>\n<li>I tried to create a new project</li>\n<li>I tried to change the java version</li>\n<li>I tried to change the Gradle version and the application version</li>\n<li>I tried to invalidate caches and restart</li>\n</ul>\n<p>** Notes **\nI'm using Java 15 mainly in my projects default android studio java version is 11\nI change it via setting &gt; build tool\nBut the problem is same also same in kotlin projects</p>\n<p><strong>Edit:</strong>\nI changed the android.application version to 7.0.0\neverything downloaded started from scratch at the final part its giving only error for gradle version 7.0.0</p>\n"},{"tags":["java","gradle","java-8","blockchain","corda"],"owner":{"account_id":1679343,"reputation":3,"user_id":1544020,"display_name":"Raj Gohel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1690791470,"creation_date":1690786387,"question_id":76801277,"body_markdown":"I cloned cordapp-template-java using the below link.\r\nhttps://github.com/corda/cordapp-template-java.git\r\nBranch - release-V4\r\n\r\n**1) I executed gradle build/clean from IntelliJ gradle sidebar. It&#39;s failing with below error stack.**\r\n\r\nBuild file &#39;D:\\blockchain\\build.gradle&#39; line: 60\r\n\r\nFailed to apply plugin &#39;net.corda.plugins.cordapp&#39;.\r\nCollection contains no element matching the predicate.\r\n\r\nTry:\r\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.\r\n\r\n**2) Executed gradle command with --stacktrace.**\r\n\r\nCaused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin &#39;net.corda.plugins.cordapp&#39;\r\n\r\nCaused by: java.util.NoSuchElementException: Collection contains no element matching the predicate.","title":"Failed to apply plugin &#39;net.corda.plugins.cordapp&#39;","body":"<p>I cloned cordapp-template-java using the below link.\n<a href=\"https://github.com/corda/cordapp-template-java.git\" rel=\"nofollow noreferrer\">https://github.com/corda/cordapp-template-java.git</a>\nBranch - release-V4</p>\n<p><strong>1) I executed gradle build/clean from IntelliJ gradle sidebar. It's failing with below error stack.</strong></p>\n<p>Build file 'D:\\blockchain\\build.gradle' line: 60</p>\n<p>Failed to apply plugin 'net.corda.plugins.cordapp'.\nCollection contains no element matching the predicate.</p>\n<p>Try:\nRun with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.</p>\n<p><strong>2) Executed gradle command with --stacktrace.</strong></p>\n<p>Caused by: org.gradle.api.internal.plugins.PluginApplicationException: Failed to apply plugin 'net.corda.plugins.cordapp'</p>\n<p>Caused by: java.util.NoSuchElementException: Collection contains no element matching the predicate.</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":9716,"page":276,"page_size":100}
