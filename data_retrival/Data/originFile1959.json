{"items":[{"tags":["java","jasper-reports"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":0,"creation_date":1416525309,"post_id":27050515,"comment_id":42620044,"body_markdown":"You have access to the source code, we took it apart and rebuilt as a custom viewer for our needs (better thread management for starters)","body":"You have access to the source code, we took it apart and rebuilt as a custom viewer for our needs (better thread management for starters)"}],"answers":[{"tags":[],"owner":{"account_id":2176142,"reputation":99,"user_id":1926793,"accept_rate":71,"display_name":"borj"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1467260364,"creation_date":1467260364,"answer_id":38113925,"question_id":27050515,"body_markdown":"I know this is old but I have stumbled here before I got it to work, so for the sake of future researchers I will show here what worked for me.\r\n\r\n    import javax.swing.JPanel;\r\n    import net.sf.jasperreports.engine.JasperPrint;\r\n    import net.sf.jasperreports.view.JasperViewer;\r\n    \r\n    public class MyJasperViewer extends JasperViewer {\r\n    \r\n        public MyJasperViewer(JasperPrint jasperPrint, boolean isExitOnClose) {\r\n            super(jasperPrint, isExitOnClose);\r\n    \r\n            try {\r\n                ((JPanel) this.viewer.getComponent(0)).remove(0);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\nnow use it like this\r\n\r\n    JasperPrint jp = JasperFillManager.fillReport(url.openStream(), map, conn);\r\n    \r\n    MyJasperViewer jv = new MyJasperViewer(jp, false);\r\n    jv.setVisible(true);\r\n","title":"Remove or disable save button from JasperViewer","body":"<p>I know this is old but I have stumbled here before I got it to work, so for the sake of future researchers I will show here what worked for me.</p>\n\n<pre><code>import javax.swing.JPanel;\nimport net.sf.jasperreports.engine.JasperPrint;\nimport net.sf.jasperreports.view.JasperViewer;\n\npublic class MyJasperViewer extends JasperViewer {\n\n    public MyJasperViewer(JasperPrint jasperPrint, boolean isExitOnClose) {\n        super(jasperPrint, isExitOnClose);\n\n        try {\n            ((JPanel) this.viewer.getComponent(0)).remove(0);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n\n<p>now use it like this</p>\n\n<pre><code>JasperPrint jp = JasperFillManager.fillReport(url.openStream(), map, conn);\n\nMyJasperViewer jv = new MyJasperViewer(jp, false);\njv.setVisible(true);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1099760,"reputation":7046,"user_id":1092450,"accept_rate":74,"display_name":"itro"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1587120192,"creation_date":1517827873,"answer_id":48620898,"question_id":27050515,"body_markdown":"    private void adjustViewerLayoutAndLookAndShow(JasperViewer viewer) {\r\n        Container contentPane = viewer.getContentPane();\r\n        JRViewerToolbar toolbar = (JRViewerToolbar) ((JRViewer)((JPanel)contentPane.getComponents()[0]).getComponent(0)).getComponent(0);\r\n\r\n        JButton btnSave = (JButton) toolbar.getComponent(0);\r\n        btnSave.setEnabled(false);\r\n\r\n        JButton btnPrint = (JButton) toolbar.getComponent(1);\r\n        btnPrint.setEnabled(false);\r\n\r\n\r\n        viewer.setTitle(extraInfo);\r\n        viewer.setVisible(true);\r\n    }","title":"Remove or disable save button from JasperViewer","body":"<pre><code>private void adjustViewerLayoutAndLookAndShow(JasperViewer viewer) {\n    Container contentPane = viewer.getContentPane();\n    JRViewerToolbar toolbar = (JRViewerToolbar) ((JRViewer)((JPanel)contentPane.getComponents()[0]).getComponent(0)).getComponent(0);\n\n    JButton btnSave = (JButton) toolbar.getComponent(0);\n    btnSave.setEnabled(false);\n\n    JButton btnPrint = (JButton) toolbar.getComponent(1);\n    btnPrint.setEnabled(false);\n\n\n    viewer.setTitle(extraInfo);\n    viewer.setVisible(true);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4607370,"reputation":36,"user_id":7384215,"display_name":"piyum madusanka"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633789761,"creation_date":1633789761,"answer_id":69507638,"question_id":27050515,"body_markdown":"Special thank for borj. and updated Codes of removing both save and print buttons.  \r\n\r\n \r\n    public class CustomeJasperViewer extends JasperViewer {\r\n\r\n        public CustomeJasperViewer(JasperPrint jasperPrint, boolean isExitOnClose) {\r\n            super(jasperPrint, isExitOnClose);\r\n\r\n            try {\r\n\r\n                JPanel jPanel = ((JPanel) this.viewer.getComponent(0));\r\n\r\n                Component btnSave = jPanel.getComponent(0);\r\n                Component btnPrint = jPanel.getComponent(1);\r\n\r\n                jPanel.remove(btnSave);\r\n                jPanel.remove(btnSave);\r\n\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n    public void viewReport (){\r\n\r\n        try {\r\n\r\n            JasperReport jasperReport = JasperCompileManager.compileReport(rep_path);\r\n            JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, rep_map, Connection);\r\n            CustomeJasperViewer jv = new CustomeJasperViewer(jasperPrint, false);\r\n            jv.setVisible(true);\r\n\r\n        } catch (JRException ex) {\r\n            JOptionPane.showMessageDialog(null, ex.getMessage());\r\n        }\r\n    }\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/YJGJL.png","title":"Remove or disable save button from JasperViewer","body":"<p>Special thank for borj. and updated Codes of removing both save and print buttons.</p>\n<pre><code>public class CustomeJasperViewer extends JasperViewer {\n\n    public CustomeJasperViewer(JasperPrint jasperPrint, boolean isExitOnClose) {\n        super(jasperPrint, isExitOnClose);\n\n        try {\n\n            JPanel jPanel = ((JPanel) this.viewer.getComponent(0));\n\n            Component btnSave = jPanel.getComponent(0);\n            Component btnPrint = jPanel.getComponent(1);\n\n            jPanel.remove(btnSave);\n            jPanel.remove(btnSave);\n\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n\npublic void viewReport (){\n\n    try {\n\n        JasperReport jasperReport = JasperCompileManager.compileReport(rep_path);\n        JasperPrint jasperPrint = JasperFillManager.fillReport(jasperReport, rep_map, Connection);\n        CustomeJasperViewer jv = new CustomeJasperViewer(jasperPrint, false);\n        jv.setVisible(true);\n\n    } catch (JRException ex) {\n        JOptionPane.showMessageDialog(null, ex.getMessage());\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/YJGJL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/YJGJL.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":3453573,"reputation":11,"user_id":2892602,"display_name":"user2892602"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2116,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1633789761,"creation_date":1416521299,"question_id":27050515,"body_markdown":"How can I remove the save button from JasperViewer? I found one way but it&#39;s from its JRViewer component, and I&#39;m not convinced at all.","title":"Remove or disable save button from JasperViewer","body":"<p>How can I remove the save button from JasperViewer? I found one way but it's from its JRViewer component, and I'm not convinced at all.</p>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":21225494,"reputation":38,"user_id":15611261,"display_name":"Bandi-Revanth"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1633772407,"creation_date":1633772407,"answer_id":69505515,"question_id":69505482,"body_markdown":"You never have to guess how to use a library - that&#39;s what documentation is for. Any library worth its salt has documentation listing every single class, method, and the property you need to worry about.\r\n\r\nA quick google search for &quot;discord-jda docs&quot; takes us to the JavaDoc: https://ci.dv8tion.net/job/JDA/javadoc/index.html\r\n\r\nYou want to send a message to a user, right? So let&#39;s use the search bar and find User. First result under Types is `net.dv8tion.jda.API.entities.User`. We&#39;re now at https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/User.html\r\n\r\nIf you want to know how to do something with a user, we look at the Methods every User has. Two catch my eye right away: `User.hasPrivateChannel()` and `User.openPrivateChannel()`. We&#39;ll click the second one since it looks relevant.\r\n\r\nLo and behold, the docs have example usage! I&#39;ll quote it below:\r\n\r\n    // Send message without response handling\r\n    public void sendMessage(User user, String content) {\r\n        user.openPrivateChannel()\r\n            .flatMap(channel -&gt; channel.sendMessage(content))\r\n            .queue();\r\n\r\n}\r\nThis seems pretty straightforward. So the basic usage you&#39;re looking for (assuming `event` is a `MessageReceivedEvent`) is this:\r\n\r\n    event.getAuthor().openPrivateChannel().flatMap(channel -&gt; channel.sendMessage(&quot;hello&quot;)).queue();","title":"How to send a DM to someone WITH response in JDA","body":"<p>You never have to guess how to use a library - that's what documentation is for. Any library worth its salt has documentation listing every single class, method, and the property you need to worry about.</p>\n<p>A quick google search for &quot;discord-jda docs&quot; takes us to the JavaDoc: <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/index.html\" rel=\"nofollow noreferrer\">https://ci.dv8tion.net/job/JDA/javadoc/index.html</a></p>\n<p>You want to send a message to a user, right? So let's use the search bar and find User. First result under Types is <code>net.dv8tion.jda.API.entities.User</code>. We're now at <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/User.html\" rel=\"nofollow noreferrer\">https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/User.html</a></p>\n<p>If you want to know how to do something with a user, we look at the Methods every User has. Two catch my eye right away: <code>User.hasPrivateChannel()</code> and <code>User.openPrivateChannel()</code>. We'll click the second one since it looks relevant.</p>\n<p>Lo and behold, the docs have example usage! I'll quote it below:</p>\n<pre><code>// Send message without response handling\npublic void sendMessage(User user, String content) {\n    user.openPrivateChannel()\n        .flatMap(channel -&gt; channel.sendMessage(content))\n        .queue();\n</code></pre>\n<p>}\nThis seems pretty straightforward. So the basic usage you're looking for (assuming <code>event</code> is a <code>MessageReceivedEvent</code>) is this:</p>\n<pre><code>event.getAuthor().openPrivateChannel().flatMap(channel -&gt; channel.sendMessage(&quot;hello&quot;)).queue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14719989,"reputation":5877,"user_id":10630900,"display_name":"Minn"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633788953,"creation_date":1633788953,"answer_id":69507523,"question_id":69505482,"body_markdown":"You can add the state machine event listener with [JDA#addEventListener](https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/JDA.html#addEventListener(java.lang.Object...)):\r\n\r\n```java\r\nevent.getUser().openPrivateChannel().flatMap(channel -&gt; {\r\n  event.getJDA().addEventListener(new Feedback(channel, event.getUser()));\r\n  return channel.sendMessage(&quot;hello&quot;);\r\n}).queue();\r\n```\r\n\r\nI would recommend to remove your event listener after you received that response with `event.getJDA().removeEventListener(this);`","title":"How to send a DM to someone WITH response in JDA","body":"<p>You can add the state machine event listener with <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/JDA.html#addEventListener(java.lang.Object...)\" rel=\"nofollow noreferrer\">JDA#addEventListener</a>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>event.getUser().openPrivateChannel().flatMap(channel -&gt; {\n  event.getJDA().addEventListener(new Feedback(channel, event.getUser()));\n  return channel.sendMessage(&quot;hello&quot;);\n}).queue();\n</code></pre>\n<p>I would recommend to remove your event listener after you received that response with <code>event.getJDA().removeEventListener(this);</code></p>\n"}],"owner":{"account_id":17019844,"reputation":292,"user_id":15143429,"display_name":"Abdullah Ahmed"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1030,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69507523,"answer_count":2,"score":1,"last_activity_date":1633788953,"creation_date":1633772121,"question_id":69505482,"body_markdown":"I am coding a feedback feature in my Discord Bot, when someone leaves, they should be DMed a message asking why they left.\r\n```java\r\nevent.getUser().openPrivateChannel()\r\n                .flatMap(channel -&gt; channel.sendMessage(&quot;Hello, we are sorry you&#39;re leaving &quot;+event.getGuild().getName()+&quot;, if you don&#39;t mind, please tell us why you left or leave any other feedback here, it&#39;ll help us improve the server and improve experience for you if you re-join again in the future.\\n\\nThank you ❤.&quot;))\r\n                .queue();\r\n```\r\nThe code above is responsible for sending it, I tried to create a state machine in a private channel but it didn&#39;t work:\r\n```javapackage aso.feedback;\r\n\r\nimport bot.Main;\r\nimport net.dv8tion.jda.api.EmbedBuilder;\r\nimport net.dv8tion.jda.api.entities.MessageChannel;\r\nimport net.dv8tion.jda.api.entities.User;\r\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\r\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\r\n\r\npublic class Feedback extends ListenerAdapter {\r\n    private final long channelId, authorId;\r\n\r\n    public Feedback(MessageChannel channel, User author) {\r\n        this.channelId = channel.getIdLong();\r\n        this.authorId = author.getIdLong();\r\n    }\r\n\r\n    @Override\r\n    public void onMessageReceived(MessageReceivedEvent event) {\r\n        if (event.getAuthor().isBot()) return;\r\n        if (event.getAuthor().getIdLong() != authorId) return;\r\n        if (event.getChannel().getIdLong() != channelId) return;\r\n        MessageChannel channel = event.getChannel();\r\n        String content = event.getMessage().getContentRaw();\r\n        event.getChannel().sendMessage(&quot;Thanks for your feedback!&quot;).queue();\r\n        EmbedBuilder feedback = new EmbedBuilder();\r\n        feedback.setTitle(&quot;Automated System Operations - Leaving Feedback&quot;);\r\n        feedback.addField(&quot;Feedback&quot;, content, false);\r\n        feedback.setColor(0xC90004);\r\n        feedback.setAuthor(event.getAuthor().getAsTag()+&quot; - &quot;+event.getAuthor().getId(), &quot;https://support.discord.com/hc/en-us/articles/209572128-How-do-I-log-out-&quot;, event.getAuthor().getAvatarUrl());\r\n        feedback.setImage(&quot;https://media.discordapp.net/attachments/894913784823566428/896323821336948736/unknown.png?width=384&amp;height=192&quot;);\r\n        Main.jda.getGuildById(&quot;894913620868202506&quot;).getTextChannelById(&quot;896322509874540545&quot;).sendMessage(feedback.build()).queue();\r\n    }\r\n}\r\n```\r\nI got this event state-machine channel but I don&#39;t know how to `addListener` to it in DMs.\r\n\r\nAny help is accepted &lt;3","title":"How to send a DM to someone WITH response in JDA","body":"<p>I am coding a feedback feature in my Discord Bot, when someone leaves, they should be DMed a message asking why they left.</p>\n<pre class=\"lang-java prettyprint-override\"><code>event.getUser().openPrivateChannel()\n                .flatMap(channel -&gt; channel.sendMessage(&quot;Hello, we are sorry you're leaving &quot;+event.getGuild().getName()+&quot;, if you don't mind, please tell us why you left or leave any other feedback here, it'll help us improve the server and improve experience for you if you re-join again in the future.\\n\\nThank you ❤.&quot;))\n                .queue();\n</code></pre>\n<p>The code above is responsible for sending it, I tried to create a state machine in a private channel but it didn't work:</p>\n<pre><code>\nimport bot.Main;\nimport net.dv8tion.jda.api.EmbedBuilder;\nimport net.dv8tion.jda.api.entities.MessageChannel;\nimport net.dv8tion.jda.api.entities.User;\nimport net.dv8tion.jda.api.events.message.MessageReceivedEvent;\nimport net.dv8tion.jda.api.hooks.ListenerAdapter;\n\npublic class Feedback extends ListenerAdapter {\n    private final long channelId, authorId;\n\n    public Feedback(MessageChannel channel, User author) {\n        this.channelId = channel.getIdLong();\n        this.authorId = author.getIdLong();\n    }\n\n    @Override\n    public void onMessageReceived(MessageReceivedEvent event) {\n        if (event.getAuthor().isBot()) return;\n        if (event.getAuthor().getIdLong() != authorId) return;\n        if (event.getChannel().getIdLong() != channelId) return;\n        MessageChannel channel = event.getChannel();\n        String content = event.getMessage().getContentRaw();\n        event.getChannel().sendMessage(&quot;Thanks for your feedback!&quot;).queue();\n        EmbedBuilder feedback = new EmbedBuilder();\n        feedback.setTitle(&quot;Automated System Operations - Leaving Feedback&quot;);\n        feedback.addField(&quot;Feedback&quot;, content, false);\n        feedback.setColor(0xC90004);\n        feedback.setAuthor(event.getAuthor().getAsTag()+&quot; - &quot;+event.getAuthor().getId(), &quot;https://support.discord.com/hc/en-us/articles/209572128-How-do-I-log-out-&quot;, event.getAuthor().getAvatarUrl());\n        feedback.setImage(&quot;https://media.discordapp.net/attachments/894913784823566428/896323821336948736/unknown.png?width=384&amp;height=192&quot;);\n        Main.jda.getGuildById(&quot;894913620868202506&quot;).getTextChannelById(&quot;896322509874540545&quot;).sendMessage(feedback.build()).queue();\n    }\n}\n</code></pre>\n<p>I got this event state-machine channel but I don't know how to <code>addListener</code> to it in DMs.</p>\n<p>Any help is accepted &lt;3</p>\n"},{"tags":["java","spring","spring-mvc","axios"],"answers":[{"tags":[],"owner":{"account_id":21169347,"reputation":171,"user_id":15566000,"display_name":"changuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633788294,"creation_date":1633788294,"answer_id":69507447,"question_id":69505605,"body_markdown":"HttpMethod Post is a method of writing and transmitting data in the request body.\r\n\r\nIn your case, you put data through `params`. If you execute code as you write, data will be sent such as `/user/info?_csrf=value&amp;name=job&amp;age=25` and there will be no data in the request body.\r\n\r\nTo get the response you want, you can modify it as below.\r\n\r\n```\r\naxios({\r\n        method: &#39;post&#39;,\r\n        url: &#39;/user/info&#39;,\r\n        data: &#39;_csrf=csrf&amp;name=job&amp;age=25&#39;,\r\n        headers: {&#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;, &#39;Accept&#39;: &#39;application/json&#39;}\r\n     });\r\n```\r\n\r\nchange `params` keyword to `data` and write data like querystring. ","title":"Axios. Spring MVC returns a 415 response","body":"<p>HttpMethod Post is a method of writing and transmitting data in the request body.</p>\n<p>In your case, you put data through <code>params</code>. If you execute code as you write, data will be sent such as <code>/user/info?_csrf=value&amp;name=job&amp;age=25</code> and there will be no data in the request body.</p>\n<p>To get the response you want, you can modify it as below.</p>\n<pre><code>axios({\n        method: 'post',\n        url: '/user/info',\n        data: '_csrf=csrf&amp;name=job&amp;age=25',\n        headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Accept': 'application/json'}\n     });\n</code></pre>\n<p>change <code>params</code> keyword to <code>data</code> and write data like querystring.</p>\n"}],"owner":{"account_id":22865613,"reputation":57,"user_id":17009091,"display_name":"Steve Jobs"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":437,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69507447,"answer_count":1,"score":1,"last_activity_date":1633788294,"creation_date":1633773208,"question_id":69505605,"body_markdown":"I am using Vue.js, axios and Spring.\r\n\r\nOn the page I have the following axios code\r\n\r\n\r\n        axios({\r\n            method: &#39;post&#39;,\r\n            url: &#39;/user/info&#39;,\r\n            params: {\r\n                &#39;_csrf&#39; : document.getElementById(&#39;csrf_id&#39;).value,\r\n                &#39;name&#39; : &#39;job&#39;,\r\n                &#39;age&#39; : &#39;25&#39;,\r\n            },\r\n            headers: {&#39;Content-Type&#39;: &#39;application/x-www-form-urlencoded&#39;, &#39;Accept&#39;: &#39;application/json&#39;}\r\n        });\r\n\r\n\r\nAnd on the server I have a receiving method like this\r\n\r\n\r\n        @Controller\r\n        @RequestMapping(&quot;/user&quot;)\r\n        public class UserInfo {\r\n\r\n            @ResponseBody\r\n            @PostMapping(value = &quot;/info&quot;, consumes = &quot;application/x-www-form-urlencoded&quot;, produces = &quot;application/json&quot; + &quot;;charset=utf8&quot;)\r\n            public String info(@RequestParam(value = &quot;name&quot;) String name, @RequestParam(value = &quot;age&quot;) String age) {\r\n\r\n                System.out.println(name);\r\n                System.out.println(age);\r\n\r\n                return &quot;ok&quot;;\r\n            }\r\n        }\r\n\r\n\r\n\r\nAxios makes a request to the server, but the **server returns a 415 response**.\r\nThe request headers are missing the **application/x-www-form-urlencoded** content type. I suspect the problem lies precisely in this.\r\n\r\nTell me, what am I doing wrong?","title":"Axios. Spring MVC returns a 415 response","body":"<p>I am using Vue.js, axios and Spring.</p>\n<p>On the page I have the following axios code</p>\n<pre><code>    axios({\n        method: 'post',\n        url: '/user/info',\n        params: {\n            '_csrf' : document.getElementById('csrf_id').value,\n            'name' : 'job',\n            'age' : '25',\n        },\n        headers: {'Content-Type': 'application/x-www-form-urlencoded', 'Accept': 'application/json'}\n    });\n</code></pre>\n<p>And on the server I have a receiving method like this</p>\n<pre><code>    @Controller\n    @RequestMapping(&quot;/user&quot;)\n    public class UserInfo {\n\n        @ResponseBody\n        @PostMapping(value = &quot;/info&quot;, consumes = &quot;application/x-www-form-urlencoded&quot;, produces = &quot;application/json&quot; + &quot;;charset=utf8&quot;)\n        public String info(@RequestParam(value = &quot;name&quot;) String name, @RequestParam(value = &quot;age&quot;) String age) {\n\n            System.out.println(name);\n            System.out.println(age);\n\n            return &quot;ok&quot;;\n        }\n    }\n</code></pre>\n<p>Axios makes a request to the server, but the <strong>server returns a 415 response</strong>.\nThe request headers are missing the <strong>application/x-www-form-urlencoded</strong> content type. I suspect the problem lies precisely in this.</p>\n<p>Tell me, what am I doing wrong?</p>\n"},{"tags":["java","android","android-studio","android-mediaplayer","delete-file"],"comments":[{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1633503825,"post_id":69461165,"comment_id":122773551,"body_markdown":"How are you getting the path? And can you put the route of the file you want to remove please?","body":"How are you getting the path? And can you put the route of the file you want to remove please?"},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633503930,"post_id":69461165,"comment_id":122773578,"body_markdown":"I am getting the path using the File.getPath()","body":"I am getting the path using the File.getPath()"},{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1633503976,"post_id":69461165,"comment_id":122773595,"body_markdown":"Is this file a directory? Could you edit your question and paste what you getting with File.getPath()?","body":"Is this file a directory? Could you edit your question and paste what you getting with File.getPath()?"},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633504136,"post_id":69461165,"comment_id":122773636,"body_markdown":"I edited please check","body":"I edited please check"},{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1633504874,"post_id":69461165,"comment_id":122773908,"body_markdown":"Have you checked if the file exists before deleting?","body":"Have you checked if the file exists before deleting?"},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633504921,"post_id":69461165,"comment_id":122773925,"body_markdown":"Yes it exists. I have checked.","body":"Yes it exists. I have checked."},{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1633505130,"post_id":69461165,"comment_id":122774009,"body_markdown":"Edit again the question please, with your Manifest and your piece of code of deleting the file .","body":"Edit again the question please, with your Manifest and your piece of code of deleting the file ."},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633505550,"post_id":69461165,"comment_id":122774161,"body_markdown":"Done it. You can check","body":"Done it. You can check"},{"owner":{"account_id":15439934,"reputation":403,"user_id":11138845,"display_name":"S_i_l_e_n_t  C_o_d_e_r"},"score":0,"creation_date":1633505663,"post_id":69461165,"comment_id":122774202,"body_markdown":"have you check file path exist or not..? if (file.exists()) {\n            result = file.delete();\n        }","body":"have you check file path exist or not..? if (file.exists()) {             result = file.delete();         }"},{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1633505719,"post_id":69461165,"comment_id":122774222,"body_markdown":"There&#39;s no if condition checking if this file exist @namanop, have you debugged it to know it?","body":"There&#39;s no if condition checking if this file exist @namanop, have you debugged it to know it?"},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633505743,"post_id":69461165,"comment_id":122774224,"body_markdown":"file.exists() returns true but file.delete() returns false","body":"file.exists() returns true but file.delete() returns false"},{"owner":{"account_id":5523754,"reputation":19812,"user_id":4385913,"accept_rate":93,"display_name":"Skizo-ozᴉʞS ツ"},"score":0,"creation_date":1633505807,"post_id":69461165,"comment_id":122774253,"body_markdown":"Did it appear a pop up to accept the write access to storage permission? have you accepted it?","body":"Did it appear a pop up to accept the write access to storage permission? have you accepted it?"},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633505871,"post_id":69461165,"comment_id":122774281,"body_markdown":"It asked permission when I opened the app for the first time. I accepted it.","body":"It asked permission when I opened the app for the first time. I accepted it."},{"owner":{"account_id":15439934,"reputation":403,"user_id":11138845,"display_name":"S_i_l_e_n_t  C_o_d_e_r"},"score":0,"creation_date":1633505873,"post_id":69461165,"comment_id":122774284,"body_markdown":"follow this Link : https://stackoverflow.com/a/24659789/11138845","body":"follow this Link : <a href=\"https://stackoverflow.com/a/24659789/11138845\">stackoverflow.com/a/24659789/11138845</a>"},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633506087,"post_id":69461165,"comment_id":122774358,"body_markdown":"Not working. @Badshah","body":"Not working. @Badshah"},{"owner":{"account_id":15439934,"reputation":403,"user_id":11138845,"display_name":"S_i_l_e_n_t  C_o_d_e_r"},"score":0,"creation_date":1633506361,"post_id":69461165,"comment_id":122774463,"body_markdown":"https://stackoverflow.com/a/34919240/11138845","body":"<a href=\"https://stackoverflow.com/a/34919240/11138845\">stackoverflow.com/a/34919240/11138845</a>"},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633506613,"post_id":69461165,"comment_id":122774545,"body_markdown":"That also does not work @Badshah","body":"That also does not work @Badshah"},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633506841,"post_id":69461165,"comment_id":122774643,"body_markdown":"In logcat error it says Delete failed;","body":"In logcat error it says Delete failed;"},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633507757,"post_id":69461165,"comment_id":122775010,"body_markdown":"Can someone please help me","body":"Can someone please help me"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1633508073,"post_id":69461165,"comment_id":122775121,"body_markdown":"Android version of used device? Can you create a file there? You are not usinf file.exists() and file.canWrite in your code.","body":"Android version of used device? Can you create a file there? You are not usinf file.exists() and file.canWrite in your code."},{"owner":{"account_id":15439934,"reputation":403,"user_id":11138845,"display_name":"S_i_l_e_n_t  C_o_d_e_r"},"score":0,"creation_date":1633509363,"post_id":69461165,"comment_id":122775576,"body_markdown":"which OS have you deleted Music path..?","body":"which OS have you deleted Music path..?"},{"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"score":0,"creation_date":1633514689,"post_id":69461165,"comment_id":122777841,"body_markdown":"I am using Android 11 device. Samsung Phone","body":"I am using Android 11 device. Samsung Phone"},{"owner":{"account_id":15439934,"reputation":403,"user_id":11138845,"display_name":"S_i_l_e_n_t  C_o_d_e_r"},"score":0,"creation_date":1633515705,"post_id":69461165,"comment_id":122778248,"body_markdown":"try this  File dir = getFilesDir(); File file = new File(dir, &quot;my_filename&quot;); boolean deleted = file.delete(); i have guild for this link : https://stackoverflow.com/a/68080701/11138845","body":"try this  File dir = getFilesDir(); File file = new File(dir, &quot;my_filename&quot;); boolean deleted = file.delete(); i have guild for this link : <a href=\"https://stackoverflow.com/a/68080701/11138845\">stackoverflow.com/a/68080701/11138845</a>"}],"answers":[{"tags":[],"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633517621,"creation_date":1633517246,"answer_id":69464304,"question_id":69461165,"body_markdown":"&gt;&gt;/storage/emulated/0/Samsung/Music/Over_the_horizon.mp3\r\n\r\nThat is a file not created by your app.\r\n\r\nOn an Android 11 device you cannot read/write/delete such a file with classic file system tools as your app is not the owner.\r\n\r\nFile.canRead() and File.canWrite() would tell you that.\r\n\r\nTo delete the file use `ACTION_OPEN_DOCUMENT` to let the user pick the file first.\r\n\r\nAnother possibility is to get the mediastore uri for that file and then use `MediaStore.createDeleteRequest()` for the delete.","title":"How to delete music files with their path android 11 - java","body":"<blockquote>\n<blockquote>\n<p>/storage/emulated/0/Samsung/Music/Over_the_horizon.mp3</p>\n</blockquote>\n</blockquote>\n<p>That is a file not created by your app.</p>\n<p>On an Android 11 device you cannot read/write/delete such a file with classic file system tools as your app is not the owner.</p>\n<p>File.canRead() and File.canWrite() would tell you that.</p>\n<p>To delete the file use <code>ACTION_OPEN_DOCUMENT</code> to let the user pick the file first.</p>\n<p>Another possibility is to get the mediastore uri for that file and then use <code>MediaStore.createDeleteRequest()</code> for the delete.</p>\n"},{"tags":[],"owner":{"account_id":19627125,"reputation":186,"user_id":14366207,"display_name":"Omar Hemaia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633788259,"creation_date":1633788259,"answer_id":69507441,"question_id":69461165,"body_markdown":"try this :\r\n\r\n    File file = new File(path);\r\n    \r\n    if (!file.exists()) return;\r\n    \r\n    if (file.isFile()) {\r\n    file.delete();\r\n    return;\r\n    }\r\n\r\n    File[] fileArr = file.listFiles();\r\n\r\n    if (fileArr != null) {\r\n    for (File subFile : fileArr) {\r\n    if (subFile.isDirectory()) {\r\n    deleteFile(subFile.getAbsolutePath());\r\n    }\r\n\r\n    if (subFile.isFile()) {\r\n    subFile.delete();\r\n    }\r\n    }\r\n    }\r\n    \r\n    file.delete();\r\n\r\n```path``` is a ```String```","title":"How to delete music files with their path android 11 - java","body":"<p>try this :</p>\n<pre><code>File file = new File(path);\n\nif (!file.exists()) return;\n\nif (file.isFile()) {\nfile.delete();\nreturn;\n}\n\nFile[] fileArr = file.listFiles();\n\nif (fileArr != null) {\nfor (File subFile : fileArr) {\nif (subFile.isDirectory()) {\ndeleteFile(subFile.getAbsolutePath());\n}\n\nif (subFile.isFile()) {\nsubFile.delete();\n}\n}\n}\n\nfile.delete();\n</code></pre>\n<p><code>path</code> is a <code>String</code></p>\n"}],"owner":{"account_id":20725642,"reputation":33,"user_id":15218963,"display_name":"namanop"},"comment_count":23,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1317,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69507441,"answer_count":2,"score":0,"last_activity_date":1633788259,"creation_date":1633503536,"question_id":69461165,"body_markdown":"So I have a music player app. In which I want the user should be able to delete the music files which are not created by my app. I have the file path and I tried Using File.delete() but it always returns false. How can I delete the music files using their path. Please can someone help.\r\nPath I am getting using File.getPath - **/storage/emulated/0/Samsung/Music/Over_the_horizon.mp3**\r\n\r\n**My AndroidManifest.xml**\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    package=&quot;com.naman.musicplayer&quot;&gt;\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/Theme.MusicPlayer&quot;&gt;\r\n        &lt;activity\r\n            android:name=&quot;.PlaySong&quot;\r\n            android:exported=&quot;true&quot; /&gt;\r\n        &lt;activity\r\n            android:name=&quot;.MainActivity&quot;\r\n            android:exported=&quot;true&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\n&lt;/manifest&gt;\r\n\r\n**Code I am using to delete the music**\r\n\r\n     ``` @Override\r\n    public boolean onItemLongClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\r\n              File file = files.get(i);\r\n    //files = new ArrayList&lt;File&gt;();\r\n               boolean deleted = file.delete();\r\n               return deleted;\r\n                        }```","title":"How to delete music files with their path android 11 - java","body":"<p>So I have a music player app. In which I want the user should be able to delete the music files which are not created by my app. I have the file path and I tried Using File.delete() but it always returns false. How can I delete the music files using their path. Please can someone help.\nPath I am getting using File.getPath - <strong>/storage/emulated/0/Samsung/Music/Over_the_horizon.mp3</strong></p>\n<p><strong>My AndroidManifest.xml</strong></p>\n<pre><code>&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    package=&quot;com.naman.musicplayer&quot;&gt;\n\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.RECORD_AUDIO&quot; /&gt;\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n    &lt;uses-permission android:name=&quot;android.permission.MANAGE_EXTERNAL_STORAGE&quot;/&gt;\n\n    &lt;application\n        android:allowBackup=&quot;true&quot;\n        android:icon=&quot;@mipmap/ic_launcher&quot;\n        android:label=&quot;@string/app_name&quot;\n        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;\n        android:supportsRtl=&quot;true&quot;\n        android:theme=&quot;@style/Theme.MusicPlayer&quot;&gt;\n        &lt;activity\n            android:name=&quot;.PlaySong&quot;\n            android:exported=&quot;true&quot; /&gt;\n        &lt;activity\n            android:name=&quot;.MainActivity&quot;\n            android:exported=&quot;true&quot;&gt;\n            &lt;intent-filter&gt;\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\n\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\n            &lt;/intent-filter&gt;\n        &lt;/activity&gt;\n    &lt;/application&gt;\n\n&lt;/manifest&gt;\n\n**Code I am using to delete the music**\n\n     ``` @Override\n    public boolean onItemLongClick(AdapterView&lt;?&gt; adapterView, View view, int i, long l) {\n              File file = files.get(i);\n    //files = new ArrayList&lt;File&gt;();\n               boolean deleted = file.delete();\n               return deleted;\n                        }```\n</code></pre>\n"},{"tags":["java","intellij-idea","sdk"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1629439110,"post_id":68857543,"comment_id":121691729,"body_markdown":"https://www.jetbrains.com/help/idea/sdk.html","body":"<a href=\"https://www.jetbrains.com/help/idea/sdk.html\" rel=\"nofollow noreferrer\">jetbrains.com/help/idea/sdk.html</a>"},{"owner":{"display_name":"user16669986"},"score":0,"creation_date":1629443012,"post_id":68857543,"comment_id":121692785,"body_markdown":"from your screen shot it&#39;s on your 6th sub folder of the usr directory and from your terminal screen shoot it has read permission for other users which will make the ide able to read it \n\nso not sure what is the issue \n\ndid you get certain error when you do so \n\nalso try this in terminal java --version what is the output?","body":"from your screen shot it&#39;s on your 6th sub folder of the usr directory and from your terminal screen shoot it has read permission for other users which will make the ide able to read it   so not sure what is the issue   did you get certain error when you do so   also try this in terminal java --version what is the output?"},{"owner":{"account_id":262077,"reputation":397,"user_id":546698,"accept_rate":83,"display_name":"Hugh Powell"},"score":0,"creation_date":1629503784,"post_id":68857543,"comment_id":121712046,"body_markdown":"Sorry, I mixed up the /usr/ and /usr/lib directories. I&#39;ve clarified in the question, although the issue is happening to both directories.","body":"Sorry, I mixed up the /usr/ and /usr/lib directories. I&#39;ve clarified in the question, although the issue is happening to both directories."},{"owner":{"account_id":3538058,"reputation":5428,"user_id":2960034,"display_name":"y.bedrov"},"score":0,"creation_date":1629890996,"post_id":68857543,"comment_id":121805546,"body_markdown":"Have you tried to download JDK achieve, expand and select it as SDK?","body":"Have you tried to download JDK achieve, expand and select it as SDK?"}],"answers":[{"tags":[],"owner":{"account_id":300629,"reputation":485,"user_id":607870,"display_name":"drakyoko"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633787997,"creation_date":1633787997,"answer_id":69507411,"question_id":68857543,"body_markdown":"You most likely installed IntelliJ as a flatpack. Since the application is in a sandbox some directories are not accessible or overridden (see [official docs][1])\r\n\r\n\r\n  [1]: https://docs.flatpak.org/en/latest/sandbox-permissions.html","title":"How do I set up a system SDK in Intellij Idea?","body":"<p>You most likely installed IntelliJ as a flatpack. Since the application is in a sandbox some directories are not accessible or overridden (see <a href=\"https://docs.flatpak.org/en/latest/sandbox-permissions.html\" rel=\"nofollow noreferrer\">official docs</a>)</p>\n"}],"owner":{"account_id":262077,"reputation":397,"user_id":546698,"accept_rate":83,"display_name":"Hugh Powell"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":428,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69507411,"answer_count":1,"score":0,"last_activity_date":1633787997,"creation_date":1629438863,"question_id":68857543,"body_markdown":"I&#39;m trying to add a Java SDK installed on my system to a project in Intellij Idea Community 2021.2 on Pop_OS! linux. The SDK is located at `/usr/lib/jvm/`. When opening the dialogue to select an SDK the dialogue the `/usr/lib/` directory does not match that on my system and does not include the `jvm` directory.\r\nI&#39;ve opened the dialogue as follows `File -&gt; Project Structure -&gt; Platform Settings / SDKs -&gt; + -&gt; Add JDK...`\r\n\r\nThe dialogue\r\n\r\n[![/usr/lib in select Java SDK directory dialogue][1]][1]\r\n\r\nThe `/usr/lib/` directory when listed in the terminal\r\n\r\n[![Contents of /usr/lib/ directory from terminal][2]][2]\r\n\r\n[![Details of /usr/lib/jvm directory from terminal][3]][3]\r\n\r\nThis feels like a weird permissions issue, but I&#39;m at a loss. I know there are other ways to add an SDK, but this happens for all dialogues where I need to select something from the file system so I&#39;d like to get a fix for this.\r\n\r\n**Update:** I originally posted shots for the `/usr/` directory rather than `/usr/lib/`, although both are showing similar issues. Original screen shots are below\r\n\r\nThe dialogue\r\n\r\n[![Select Java SDK directory dialogue][4]][4]\r\n\r\n\r\nThe `usr` directory when listed in the terminal\r\n\r\n[![Contents of /usr/ directory from terminal][5]][5]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/cFUIH.png\r\n  [2]: https://i.stack.imgur.com/Fjthi.png\r\n  [3]: https://i.stack.imgur.com/JXycd.png\r\n  [4]: https://i.stack.imgur.com/XMT6U.png\r\n  [5]: https://i.stack.imgur.com/vxtaf.png","title":"How do I set up a system SDK in Intellij Idea?","body":"<p>I'm trying to add a Java SDK installed on my system to a project in Intellij Idea Community 2021.2 on Pop_OS! linux. The SDK is located at <code>/usr/lib/jvm/</code>. When opening the dialogue to select an SDK the dialogue the <code>/usr/lib/</code> directory does not match that on my system and does not include the <code>jvm</code> directory.\nI've opened the dialogue as follows <code>File -&gt; Project Structure -&gt; Platform Settings / SDKs -&gt; + -&gt; Add JDK...</code></p>\n<p>The dialogue</p>\n<p><a href=\"https://i.stack.imgur.com/cFUIH.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/cFUIH.png\" alt=\"/usr/lib in select Java SDK directory dialogue\" /></a></p>\n<p>The <code>/usr/lib/</code> directory when listed in the terminal</p>\n<p><a href=\"https://i.stack.imgur.com/Fjthi.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Fjthi.png\" alt=\"Contents of /usr/lib/ directory from terminal\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/JXycd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/JXycd.png\" alt=\"Details of /usr/lib/jvm directory from terminal\" /></a></p>\n<p>This feels like a weird permissions issue, but I'm at a loss. I know there are other ways to add an SDK, but this happens for all dialogues where I need to select something from the file system so I'd like to get a fix for this.</p>\n<p><strong>Update:</strong> I originally posted shots for the <code>/usr/</code> directory rather than <code>/usr/lib/</code>, although both are showing similar issues. Original screen shots are below</p>\n<p>The dialogue</p>\n<p><a href=\"https://i.stack.imgur.com/XMT6U.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/XMT6U.png\" alt=\"Select Java SDK directory dialogue\" /></a></p>\n<p>The <code>usr</code> directory when listed in the terminal</p>\n<p><a href=\"https://i.stack.imgur.com/vxtaf.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/vxtaf.png\" alt=\"Contents of /usr/ directory from terminal\" /></a></p>\n"},{"tags":["java","android","kotlin","payumoney"],"answers":[{"tags":[],"owner":{"account_id":17052055,"reputation":44,"user_id":14413859,"display_name":"Ezhilan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633787855,"creation_date":1633699331,"answer_id":69496557,"question_id":69491298,"body_markdown":"you have set `setIsDebug()` true; for some resaons PayU have only provided test cards for testing purposes.\r\nSo, the release build will have all the options.\r\nin simple words set `setIsDebug(false)` and you will get all the options.","title":"How to set Multiple Option of Payment In PayUMoney Payment Gateway in Android","body":"<p>you have set <code>setIsDebug()</code> true; for some resaons PayU have only provided test cards for testing purposes.\nSo, the release build will have all the options.\nin simple words set <code>setIsDebug(false)</code> and you will get all the options.</p>\n"}],"owner":{"account_id":21017758,"reputation":125,"user_id":15444835,"display_name":"hardik koladiya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":401,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633787855,"creation_date":1633673733,"question_id":69491298,"body_markdown":"[![Image of Output ][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/4Ohjb.png\r\n\r\n\r\nmy dependency file here\r\n\r\n    implementation &#39;com.payumoney.sdkui:plug-n-play:1.6.1&#39;\r\n\r\n\r\npayUmoney code\r\n\r\n     private fun startPay() {\r\n        builder.setAmount(amount)                          // Payment amount\r\n                .setTxnId(txnid)                     // Transaction ID\r\n                .setPhone(phone)                   // User Phone number\r\n                .setProductName(prodname)                   // Product Name or description\r\n                .setFirstName(firstname)                              // User First name\r\n                .setEmail(email)              // User Email ID\r\n                .setsUrl(&quot;https://www.payumoney.com/mobileapp/payumoney/success.php&quot;)     // Success URL (surl)\r\n                .setfUrl(&quot;https://www.payumoney.com/mobileapp/payumoney/failure.php&quot;)     //Failure URL (furl)\r\n                .setUdf1(&quot;&quot;)\r\n                .setUdf2(&quot;&quot;)\r\n                .setUdf3(&quot;&quot;)\r\n                .setUdf4(&quot;&quot;)\r\n                .setUdf5(&quot;&quot;)\r\n                .setUdf6(&quot;&quot;)\r\n                .setUdf7(&quot;&quot;)\r\n                .setUdf8(&quot;&quot;)\r\n                .setUdf9(&quot;&quot;)\r\n                .setUdf10(&quot;&quot;)\r\n                .setIsDebug(true)                              // Integration environment - true (Debug)/ false(Production)\r\n                .setKey(pro_merchantkey)                        // Merchant key\r\n                .setMerchantId(pro_merchantId);\r\n        try {\r\n            paymentParam = builder.build()\r\n            getHashkey()\r\n        } catch (e: Exception) {\r\n            Log.d(&quot;afkafbakabkab&quot;, &quot; errors $e&quot;)\r\n        }\r\n\r\n    }\r\n\r\npayment flow stating from here\r\n\r\n     private fun getHashkey() {\r\n        paymentParam!!.setMerchantHash(CreateHash())\r\n        PayUmoneyFlowManager.startPayUMoneyFlow(paymentParam, this as PaymentGateways, R.style.AppTheme_default, true);\r\n\r\n    }\r\n\r\n\r\ngenerating hash key from this code\r\n\r\n     private fun CreateHash(): String {\r\n\r\n        var hashSequence: String = pro_merchantkey + &quot;|&quot; + txnid + &quot;|&quot; + amount + &quot;|&quot; + prodname + &quot;|&quot; + firstname + &quot;|&quot; + email + &quot;|&quot; +\r\n                udf1 + &quot;|&quot; + udf2 + &quot;|&quot; + udf3 + &quot;|&quot; + udf4 + &quot;|&quot; + udf5 +&quot;||||||&quot;+ pro_salt;\r\n\r\n        val hash = hashcal(&quot;SHA-512&quot;, hashSequence)\r\n\r\n        return hash\r\n\r\n    }\r\n\r\nnote :- i am getting only one payment option i want to get multiple payment options like netbanking ,Upi","title":"How to set Multiple Option of Payment In PayUMoney Payment Gateway in Android","body":"<p><a href=\"https://i.stack.imgur.com/4Ohjb.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Ohjb.png\" alt=\"Image of Output \" /></a></p>\n<p>my dependency file here</p>\n<pre><code>implementation 'com.payumoney.sdkui:plug-n-play:1.6.1'\n</code></pre>\n<p>payUmoney code</p>\n<pre><code> private fun startPay() {\n    builder.setAmount(amount)                          // Payment amount\n            .setTxnId(txnid)                     // Transaction ID\n            .setPhone(phone)                   // User Phone number\n            .setProductName(prodname)                   // Product Name or description\n            .setFirstName(firstname)                              // User First name\n            .setEmail(email)              // User Email ID\n            .setsUrl(&quot;https://www.payumoney.com/mobileapp/payumoney/success.php&quot;)     // Success URL (surl)\n            .setfUrl(&quot;https://www.payumoney.com/mobileapp/payumoney/failure.php&quot;)     //Failure URL (furl)\n            .setUdf1(&quot;&quot;)\n            .setUdf2(&quot;&quot;)\n            .setUdf3(&quot;&quot;)\n            .setUdf4(&quot;&quot;)\n            .setUdf5(&quot;&quot;)\n            .setUdf6(&quot;&quot;)\n            .setUdf7(&quot;&quot;)\n            .setUdf8(&quot;&quot;)\n            .setUdf9(&quot;&quot;)\n            .setUdf10(&quot;&quot;)\n            .setIsDebug(true)                              // Integration environment - true (Debug)/ false(Production)\n            .setKey(pro_merchantkey)                        // Merchant key\n            .setMerchantId(pro_merchantId);\n    try {\n        paymentParam = builder.build()\n        getHashkey()\n    } catch (e: Exception) {\n        Log.d(&quot;afkafbakabkab&quot;, &quot; errors $e&quot;)\n    }\n\n}\n</code></pre>\n<p>payment flow stating from here</p>\n<pre><code> private fun getHashkey() {\n    paymentParam!!.setMerchantHash(CreateHash())\n    PayUmoneyFlowManager.startPayUMoneyFlow(paymentParam, this as PaymentGateways, R.style.AppTheme_default, true);\n\n}\n</code></pre>\n<p>generating hash key from this code</p>\n<pre><code> private fun CreateHash(): String {\n\n    var hashSequence: String = pro_merchantkey + &quot;|&quot; + txnid + &quot;|&quot; + amount + &quot;|&quot; + prodname + &quot;|&quot; + firstname + &quot;|&quot; + email + &quot;|&quot; +\n            udf1 + &quot;|&quot; + udf2 + &quot;|&quot; + udf3 + &quot;|&quot; + udf4 + &quot;|&quot; + udf5 +&quot;||||||&quot;+ pro_salt;\n\n    val hash = hashcal(&quot;SHA-512&quot;, hashSequence)\n\n    return hash\n\n}\n</code></pre>\n<p>note :- i am getting only one payment option i want to get multiple payment options like netbanking ,Upi</p>\n"},{"tags":["python","java","bash","path"],"comments":[{"owner":{"account_id":22630771,"reputation":1022,"user_id":16808166,"display_name":"Andrew-Harelson"},"score":0,"creation_date":1633744194,"post_id":69503139,"comment_id":122849059,"body_markdown":"Your javac is working fine, you just didn&#39;t specify the path to `Student.java` correctly.  Try running `source ~/.bash_profile` to reset your path configuration.","body":"Your javac is working fine, you just didn&#39;t specify the path to <code>Student.java</code> correctly.  Try running <code>source ~&#47;.bash_profile</code> to reset your path configuration."},{"owner":{"account_id":22984246,"reputation":1,"user_id":17110677,"display_name":"Khalid Hamid"},"score":0,"creation_date":1633744351,"post_id":69503139,"comment_id":122849080,"body_markdown":"@Andrew-Harelson Thank you for answering, I&#39;ve tried that and I still get the same output when I run javac","body":"@Andrew-Harelson Thank you for answering, I&#39;ve tried that and I still get the same output when I run javac"},{"owner":{"account_id":22630771,"reputation":1022,"user_id":16808166,"display_name":"Andrew-Harelson"},"score":0,"creation_date":1633744896,"post_id":69503139,"comment_id":122849149,"body_markdown":"Like I said, your javac is working fine, you just didn&#39;t specify the path to Student.java correctly. Read the error message, `javac: file not found: Student.java`. I can&#39;t tell you what to put exactly because I don&#39;t know where `Student.java` is located on your machine. You need to specify the precise location with a path. javac will not just search your entire machine for a file named `Student.java` https://docs.oracle.com/javase/tutorial/essential/io/path.html","body":"Like I said, your javac is working fine, you just didn&#39;t specify the path to Student.java correctly. Read the error message, <code>javac: file not found: Student.java</code>. I can&#39;t tell you what to put exactly because I don&#39;t know where <code>Student.java</code> is located on your machine. You need to specify the precise location with a path. javac will not just search your entire machine for a file named <code>Student.java</code> <a href=\"https://docs.oracle.com/javase/tutorial/essential/io/path.html\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/tutorial/essential/io/path.html</a>"},{"owner":{"account_id":22984246,"reputation":1,"user_id":17110677,"display_name":"Khalid Hamid"},"score":0,"creation_date":1633745835,"post_id":69503139,"comment_id":122849249,"body_markdown":"@Andrew-Harelson its located in documents/java, how do I specify that location with a path? Thank you","body":"@Andrew-Harelson its located in documents/java, how do I specify that location with a path? Thank you"}],"answers":[{"tags":[],"owner":{"account_id":22630771,"reputation":1022,"user_id":16808166,"display_name":"Andrew-Harelson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633746109,"creation_date":1633746109,"answer_id":69503262,"question_id":69503139,"body_markdown":"There is nothing wrong with your javac, you just didn&#39;t specify the path to `Student.java` correctly. Based on what you&#39;ve told me, `javac documents/java/Student.java` should work. ","title":"How do I reset and fix my path so that java and python can work again?","body":"<p>There is nothing wrong with your javac, you just didn't specify the path to <code>Student.java</code> correctly. Based on what you've told me, <code>javac documents/java/Student.java</code> should work.</p>\n"},{"tags":[],"owner":{"account_id":401843,"reputation":89788,"user_id":768644,"display_name":"rzwitserloot"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633747031,"creation_date":1633747031,"answer_id":69503323,"question_id":69503139,"body_markdown":"&gt;Khalids-MacBook-Air:~ khalidhamid$ ~/.bash_profile\r\n-bash: /Users/khalidhamid/.bash_profile: Permission denied\r\n\r\nThat&#39;s normal. `.bash_profile` is a script, yes, but it doesn&#39;t have the execute bit set. That&#39;s good. It shouldn&#39;t. If for some reason you want to execute it:\r\n\r\n```\r\n. ~/.bash_profile\r\n```\r\n\r\nThough, I have no idea why in the blazes you&#39;d want to do that. It&#39;s already taken care of when you open a new terminal window (or a new tab in iTerm2.app or Terminal.app.\r\n\r\n&gt; echo $PATH gives this:\r\n\r\nWell, java and python are both in `/usr/bin`, so you&#39;re fine. There&#39;s nothing wrong with your path. Macs ship with `/usr/bin/python` and `/usr/bin/java`, though they do not automatically lead to actual implementations: Those are wrapper executables that locate where you installed these things and then runs those. __There is nothing wrong with your path__.\r\n\r\n&gt; `javac: file not found: Student.java`\r\n\r\nThis is saying that `javac` was found and runs fine. `javac` then complains that `Student.java` doesn&#39;t exist.\r\n\r\nYou&#39;re simply in the wrong directory. Type `ls`, which shows the contents. You&#39;ll find no `Student.java` here. Go to the right directory first, or move `Student.java` to the right directory if you&#39;re already there, or create it if it does not exist.\r\n\r\n&gt; I would throw in random stuff from the internet into my terminal whenever my code wouldn&#39;t work\r\n\r\nYeah, don&#39;t do that.\r\n","title":"How do I reset and fix my path so that java and python can work again?","body":"<blockquote>\n<p>Khalids-MacBook-Air:~ khalidhamid$ ~/.bash_profile\n-bash: /Users/khalidhamid/.bash_profile: Permission denied</p>\n</blockquote>\n<p>That's normal. <code>.bash_profile</code> is a script, yes, but it doesn't have the execute bit set. That's good. It shouldn't. If for some reason you want to execute it:</p>\n<pre><code>. ~/.bash_profile\n</code></pre>\n<p>Though, I have no idea why in the blazes you'd want to do that. It's already taken care of when you open a new terminal window (or a new tab in iTerm2.app or Terminal.app.</p>\n<blockquote>\n<p>echo $PATH gives this:</p>\n</blockquote>\n<p>Well, java and python are both in <code>/usr/bin</code>, so you're fine. There's nothing wrong with your path. Macs ship with <code>/usr/bin/python</code> and <code>/usr/bin/java</code>, though they do not automatically lead to actual implementations: Those are wrapper executables that locate where you installed these things and then runs those. <strong>There is nothing wrong with your path</strong>.</p>\n<blockquote>\n<p><code>javac: file not found: Student.java</code></p>\n</blockquote>\n<p>This is saying that <code>javac</code> was found and runs fine. <code>javac</code> then complains that <code>Student.java</code> doesn't exist.</p>\n<p>You're simply in the wrong directory. Type <code>ls</code>, which shows the contents. You'll find no <code>Student.java</code> here. Go to the right directory first, or move <code>Student.java</code> to the right directory if you're already there, or create it if it does not exist.</p>\n<blockquote>\n<p>I would throw in random stuff from the internet into my terminal whenever my code wouldn't work</p>\n</blockquote>\n<p>Yeah, don't do that.</p>\n"}],"owner":{"account_id":22984246,"reputation":1,"user_id":17110677,"display_name":"Khalid Hamid"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":57,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633787280,"creation_date":1633744010,"question_id":69503139,"body_markdown":"My path is all messed up, javac and python commands not found, I even uninstalled and reinstalled java. I would throw in random stuff from the internet into my terminal whenever my code wouldn&#39;t work and have subsequently ruined my path, I&#39;ve even added stuff to my bash_profile and I don&#39;t know how to reset it or fix it. very frustrated. sorry I&#39;m a noob\r\n\r\necho $PATH gives this:\r\n\r\n    Khalids-MacBook-Air:~ khalidhamid$ echo $PATH\r\n    /usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\r\n\r\n~/.bash_profile gives this:\r\n\r\n    Khalids-MacBook-Air:~ khalidhamid$ ~/.bash_profile\r\n    -bash: /Users/khalidhamid/.bash_profile: Permission denied\r\n\r\njavac Student.java gives this:\r\n\r\n    Khalids-MacBook-Air:java khalidhamid$ javac Student.java\r\n    javac: file not found: Student.java\r\n    Usage: javac &lt;options&gt; &lt;source files&gt;\r\n    use -help for a list of possible options","title":"How do I reset and fix my path so that java and python can work again?","body":"<p>My path is all messed up, javac and python commands not found, I even uninstalled and reinstalled java. I would throw in random stuff from the internet into my terminal whenever my code wouldn't work and have subsequently ruined my path, I've even added stuff to my bash_profile and I don't know how to reset it or fix it. very frustrated. sorry I'm a noob</p>\n<p>echo $PATH gives this:</p>\n<pre><code>Khalids-MacBook-Air:~ khalidhamid$ echo $PATH\n/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\n</code></pre>\n<p>~/.bash_profile gives this:</p>\n<pre><code>Khalids-MacBook-Air:~ khalidhamid$ ~/.bash_profile\n-bash: /Users/khalidhamid/.bash_profile: Permission denied\n</code></pre>\n<p>javac Student.java gives this:</p>\n<pre><code>Khalids-MacBook-Air:java khalidhamid$ javac Student.java\njavac: file not found: Student.java\nUsage: javac &lt;options&gt; &lt;source files&gt;\nuse -help for a list of possible options\n</code></pre>\n"},{"tags":["java","arrays","arraylist","multiplication"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":0,"creation_date":1633610909,"post_id":69481434,"comment_id":122809446,"body_markdown":"I&#39;m not sure I understand the logic. Is `outList[n]` the multiplication of all `inList`s except `inList[n]`?","body":"I&#39;m not sure I understand the logic. Is <code>outList[n]</code> the multiplication of all <code>inList</code>s except <code>inList[n]</code>?"},{"owner":{"account_id":13693932,"reputation":21,"user_id":9881092,"display_name":"rexD"},"score":0,"creation_date":1633611010,"post_id":69481434,"comment_id":122809494,"body_markdown":"Not sum but, it&#39;s multiplication of inList elements.","body":"Not sum but, it&#39;s multiplication of inList elements."},{"owner":{"display_name":"user6073886"},"score":4,"creation_date":1633611030,"post_id":69481434,"comment_id":122809507,"body_markdown":"Hint/Solution: Just calculate the product of all your array elements once and save that number as `totalProduct`.  The value for `outList[x]`  can then be calculated by a simple `outlist[x] = totalProduct / inList[x]`","body":"Hint/Solution: Just calculate the product of all your array elements once and save that number as <code>totalProduct</code>.  The value for <code>outList[x]</code>  can then be calculated by a simple <code>outlist[x] = totalProduct &#47; inList[x]</code>"},{"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"score":1,"creation_date":1633616081,"post_id":69481434,"comment_id":122811891,"body_markdown":"@rexD, is input array good enough not to contain 0&#39;s or too many/too big numbers to cause integer overflow?","body":"@rexD, is input array good enough not to contain 0&#39;s or too many/too big numbers to cause integer overflow?"},{"owner":{"account_id":13693932,"reputation":21,"user_id":9881092,"display_name":"rexD"},"score":0,"creation_date":1633617443,"post_id":69481434,"comment_id":122812540,"body_markdown":"Input array may or may not contain 0&#39;s but, integer overflow is a valid concern. For the time being if we ignore overflow concern, then solution provided by @OHGODSPIDERS looks good. Divide by 0 can be handled.","body":"Input array may or may not contain 0&#39;s but, integer overflow is a valid concern. For the time being if we ignore overflow concern, then solution provided by @OHGODSPIDERS looks good. Divide by 0 can be handled."}],"answers":[{"tags":[],"owner":{"display_name":"user16123931"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633787211,"creation_date":1633787211,"answer_id":69507290,"question_id":69481434,"body_markdown":"This method creates a new `outputArray` of length to the input array and two integer `pos` and `product`.\\\r\nIn the first for loop the total product of the array is found then in the next loop the variable `pos` is increased by 1, just to get the index number of the outputArray. Then using the variable pos the outputArray gets filled by dividing the total product of the array with each element of the inputArray which results in what you&#39;re looking for.\\\r\nThis might throw an Exception when the product is more than the maximum value that any Integer can hold.\r\n\r\n     public static int[] calculateProduct(int[] array)\r\n     {\r\n         int[] outputArray = new int[array.length];\r\n         int pos = -1;\r\n         int product = 1;\r\n        \r\n         for(int a : array)\r\n         {\r\n             product *= a;\r\n         }\r\n        \r\n         for(int x : array)\r\n         {\r\n             pos++;\r\n             outputArray[pos] = product / x;\r\n         }\r\n        \r\n         return outputArray;\r\n     }","title":"Java List elements multiplication without using nested loop","body":"<p>This method creates a new <code>outputArray</code> of length to the input array and two integer <code>pos</code> and <code>product</code>.<br />\nIn the first for loop the total product of the array is found then in the next loop the variable <code>pos</code> is increased by 1, just to get the index number of the outputArray. Then using the variable pos the outputArray gets filled by dividing the total product of the array with each element of the inputArray which results in what you're looking for.<br />\nThis might throw an Exception when the product is more than the maximum value that any Integer can hold.</p>\n<pre><code> public static int[] calculateProduct(int[] array)\n {\n     int[] outputArray = new int[array.length];\n     int pos = -1;\n     int product = 1;\n    \n     for(int a : array)\n     {\n         product *= a;\n     }\n    \n     for(int x : array)\n     {\n         pos++;\n         outputArray[pos] = product / x;\n     }\n    \n     return outputArray;\n }\n</code></pre>\n"}],"owner":{"account_id":13693932,"reputation":21,"user_id":9881092,"display_name":"rexD"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":286,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633787211,"creation_date":1633610727,"question_id":69481434,"body_markdown":"I have input Integer inputList as [1, 2, 3, 4] and want the outputList as [24, 12, 8, 6]. Logic is as follows:\r\n\r\n    outList[0] = inList[1]*inList[2]*inList[3]\r\n    outList[1] = inList[0]*inList[2]*inList[3]\r\n    outList[2] = inList[0]*inList[1]*inList[3]\r\n    .\r\n    .\r\n    outList[n] = inList[0]*inList[1]*...*inList[n-1]\r\n\r\nCatch here is to implement this without using nested loop. I know how to do it with nested loop.\r\nPlease suggest a way to do this. ","title":"Java List elements multiplication without using nested loop","body":"<p>I have input Integer inputList as [1, 2, 3, 4] and want the outputList as [24, 12, 8, 6]. Logic is as follows:</p>\n<pre><code>outList[0] = inList[1]*inList[2]*inList[3]\noutList[1] = inList[0]*inList[2]*inList[3]\noutList[2] = inList[0]*inList[1]*inList[3]\n.\n.\noutList[n] = inList[0]*inList[1]*...*inList[n-1]\n</code></pre>\n<p>Catch here is to implement this without using nested loop. I know how to do it with nested loop.\nPlease suggest a way to do this.</p>\n"},{"tags":["java","sql-server","azure","jdbc","azure-sql-database"],"answers":[{"tags":[],"owner":{"account_id":11150831,"reputation":14446,"user_id":8184139,"display_name":"Alberto Morillo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1632182610,"creation_date":1501777061,"answer_id":45489647,"question_id":45482717,"body_markdown":"You may need to install Homebrew and Maven to make it work. Please follow instructions provided [here][1].\r\n\r\n\r\n  [1]: https://learn.microsoft.com/en-us/azure/sql-database/sql-database-connect-query-java","title":"JDBC Broken Pipe Mac","body":"<p>You may need to install Homebrew and Maven to make it work. Please follow instructions provided <a href=\"https://learn.microsoft.com/en-us/azure/sql-database/sql-database-connect-query-java\" rel=\"nofollow noreferrer\">here</a>.</p>\n"},{"tags":[],"owner":{"account_id":6439164,"reputation":23644,"user_id":4989676,"display_name":"Peter Pan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633787170,"creation_date":1502960972,"answer_id":45730951,"question_id":45482717,"body_markdown":"Your issue was very similar with the other SO thread https://stackoverflow.com/questions/37743819/how-to-connect-to-azure-sql-with-jdbc. Please try its solution which comes from the same issue post at [here][1].\r\n\r\n\r\n\r\n  [1]: https://youtrack.jetbrains.com/issue/JRE-221#comment=27-1826316","title":"JDBC Broken Pipe Mac","body":"<p>Your issue was very similar with the other SO thread <a href=\"https://stackoverflow.com/questions/37743819/how-to-connect-to-azure-sql-with-jdbc\">How to connect to Azure SQL with JDBC</a>. Please try its solution which comes from the same issue post at <a href=\"https://youtrack.jetbrains.com/issue/JRE-221#comment=27-1826316\" rel=\"nofollow noreferrer\">here</a>.</p>\n"}],"owner":{"account_id":8271934,"reputation":285,"user_id":6219373,"accept_rate":35,"display_name":"fobius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":660,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1633787170,"creation_date":1501759235,"question_id":45482717,"body_markdown":"It&#39;s very strange but I am repeatedly getting this issue everytime I attempt to connect to SQL Azure via JDBC. \r\n\r\nEnvironment: Eclipse Oxygen, Mac Sierra 10.12.6, JDK 1.8.0_141\r\n\r\nI see the following error:\r\n\r\n    Cannot create PoolableConnectionFactory (Broken pipe (Write failed) ClientConnectionId:ac4ed2ba-4563-4f3b-9bcc-441bff9e45e1)\r\n\r\nI am trying to create the connection in the most basic of ways, via context.xml as such:\r\n\r\n     &lt;Resource name=&quot;jdbc/sqlazure&quot;\r\n    auth=&quot;Container&quot;\r\n    driverClassName=&quot;com.microsoft.sqlserver.jdbc.SQLServerDriver&quot;\r\n    type=&quot;javax.sql.DataSource&quot;\r\n    maxIdle=&quot;30&quot;\r\n    username=&quot;&lt;user&gt;\r\n    password=&quot;&lt;password&gt;\r\n    url=&quot;jdbc:sqlserver://&lt;dbname&gt;.database.windows.net:1433;database=&lt;db&gt;;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;&quot;\r\n    removeAbandonedTimeout=&quot;30&quot;\r\n    logAbandoned=&quot;true&quot; /&gt; \r\n\r\nIn my servlet init() I am getting the datasource as such:\r\n\r\n     ds = (DataSource) new InitialContext().lookup(&quot;java:comp/env/jdbc/sqlazure&quot;);\r\n\r\nAnd it is returning non-null.  However when I try to get a connection:\r\n\r\n    Connection con = ds.getConnection()\r\n\r\nIt hangs here and then times out with the broken pipe error.  I have also whitelisted the appropriate IP addresses in the Azure portal.\r\n\r\nMy SQLPro client is able to connect to the database and view its contents so shouldn&#39;t be any issue with username/password and connection string.\r\n\r\nI have confirmed my hostname is set correctly. using:\r\n\r\n    scutil --get HostName\r\n\r\nI&#39;ve tried everything I can think of but still no luck.  I am starting to think that there is some issue with the Java runtime on OSX.  Anyone have any ideas ?\r\n\r\nEDIT: I used the same exact files on Windows environment and JDK and did not see this issue.  So I am to believe this is Mac specific...","title":"JDBC Broken Pipe Mac","body":"<p>It's very strange but I am repeatedly getting this issue everytime I attempt to connect to SQL Azure via JDBC. </p>\n\n<p>Environment: Eclipse Oxygen, Mac Sierra 10.12.6, JDK 1.8.0_141</p>\n\n<p>I see the following error:</p>\n\n<pre><code>Cannot create PoolableConnectionFactory (Broken pipe (Write failed) ClientConnectionId:ac4ed2ba-4563-4f3b-9bcc-441bff9e45e1)\n</code></pre>\n\n<p>I am trying to create the connection in the most basic of ways, via context.xml as such:</p>\n\n<pre><code> &lt;Resource name=\"jdbc/sqlazure\"\nauth=\"Container\"\ndriverClassName=\"com.microsoft.sqlserver.jdbc.SQLServerDriver\"\ntype=\"javax.sql.DataSource\"\nmaxIdle=\"30\"\nusername=\"&lt;user&gt;\npassword=\"&lt;password&gt;\nurl=\"jdbc:sqlserver://&lt;dbname&gt;.database.windows.net:1433;database=&lt;db&gt;;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;\"\nremoveAbandonedTimeout=\"30\"\nlogAbandoned=\"true\" /&gt; \n</code></pre>\n\n<p>In my servlet init() I am getting the datasource as such:</p>\n\n<pre><code> ds = (DataSource) new InitialContext().lookup(\"java:comp/env/jdbc/sqlazure\");\n</code></pre>\n\n<p>And it is returning non-null.  However when I try to get a connection:</p>\n\n<pre><code>Connection con = ds.getConnection()\n</code></pre>\n\n<p>It hangs here and then times out with the broken pipe error.  I have also whitelisted the appropriate IP addresses in the Azure portal.</p>\n\n<p>My SQLPro client is able to connect to the database and view its contents so shouldn't be any issue with username/password and connection string.</p>\n\n<p>I have confirmed my hostname is set correctly. using:</p>\n\n<pre><code>scutil --get HostName\n</code></pre>\n\n<p>I've tried everything I can think of but still no luck.  I am starting to think that there is some issue with the Java runtime on OSX.  Anyone have any ideas ?</p>\n\n<p>EDIT: I used the same exact files on Windows environment and JDK and did not see this issue.  So I am to believe this is Mac specific...</p>\n"},{"tags":["java","android","android-intent","android-activity"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":8,"creation_date":1475881388,"post_id":39926823,"comment_id":67137285,"body_markdown":"`MainActivity extends IntroActivity` - There&#39;s your problem. When you call `super.onCreate()` in `MainActivity`, it&#39;s running `IntroActivity`&#39;s `onCreate()` again. You sure you want `MainActivity` to be a subclass of `IntroActivity`? Maybe just `extends Activity`?","body":"<code>MainActivity extends IntroActivity</code> - There&#39;s your problem. When you call <code>super.onCreate()</code> in <code>MainActivity</code>, it&#39;s running <code>IntroActivity</code>&#39;s <code>onCreate()</code> again. You sure you want <code>MainActivity</code> to be a subclass of <code>IntroActivity</code>? Maybe just <code>extends Activity</code>?"},{"owner":{"account_id":308815,"reputation":3962,"user_id":620908,"display_name":"Adrian Colomitchi"},"score":0,"creation_date":1475881632,"post_id":39926823,"comment_id":67137336,"body_markdown":"&quot; for a game *we* play with my girlfriend &quot; - we? Besides, do we really need to know?","body":"&quot; for a game <i>we</i> play with my girlfriend &quot; - we? Besides, do we really need to know?"},{"owner":{"account_id":5800904,"reputation":466,"user_id":4575110,"accept_rate":100,"display_name":"c00ki3s"},"score":1,"creation_date":1475882747,"post_id":39926823,"comment_id":67137619,"body_markdown":"@Mike M. that&#39;s it! You&#39;ve got some hawk eyes my friend. Saved me some time so I can work on my calculations now. Great answer, post it please so I can give it a thumbs up and accept. :)","body":"@Mike M. that&#39;s it! You&#39;ve got some hawk eyes my friend. Saved me some time so I can work on my calculations now. Great answer, post it please so I can give it a thumbs up and accept. :)"}],"answers":[{"tags":[],"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1475883217,"creation_date":1475883217,"answer_id":39927122,"question_id":39926823,"body_markdown":"The problem is that `MainActivity` is a subclass of `IntroActivity`. When `MainActivity` executes, its `onCreate()` method is calling `super.onCreate()`, which is `IntroActivity`&#39;s `onCreate()`, where you&#39;re starting `MainActivity` again, calling `super.onCreate()`, etc., _ad infinitum_.\r\n\r\nIt doesn&#39;t seem that `MainActivity` really needs to extend `IntroActivity`, so just make it a regular `Activity` subclass.\r\n\r\n\tpublic class MainActivity extends Activity {\r\n\t\t...","title":"Android - Activity restarts in an endless loop","body":"<p>The problem is that <code>MainActivity</code> is a subclass of <code>IntroActivity</code>. When <code>MainActivity</code> executes, its <code>onCreate()</code> method is calling <code>super.onCreate()</code>, which is <code>IntroActivity</code>'s <code>onCreate()</code>, where you're starting <code>MainActivity</code> again, calling <code>super.onCreate()</code>, etc., <em>ad infinitum</em>.</p>\n\n<p>It doesn't seem that <code>MainActivity</code> really needs to extend <code>IntroActivity</code>, so just make it a regular <code>Activity</code> subclass.</p>\n\n<pre><code>public class MainActivity extends Activity {\n    ...\n</code></pre>\n"}],"owner":{"account_id":5800904,"reputation":466,"user_id":4575110,"accept_rate":100,"display_name":"c00ki3s"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1932,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":39927122,"answer_count":1,"score":1,"last_activity_date":1633786786,"creation_date":1475880925,"question_id":39926823,"body_markdown":"I&#39;m creating a very simple app to do some calculations for a game and I&#39;ve stumbled upon an **endless activity reload loop**. I have no idea what is causing this loop because there really isn&#39;t any data suggesting what to check (nothing red in my logcat).\r\n\r\nMy guess is that my IntroActivity is causing this chaos because the endless loop has a 3 second delay. I checked the SO and found multiple code samples to create this delay and nothing fixes this issue. It&#39;s really starting to annoy me. MainActivity class loads fine and layout looks ok but it reloads every 3 seconds.\r\n\r\nI make a clean build every time I change something in my code just to make sure nothing &quot;old&quot; gets loaded in my build and it doesn&#39;t help. I also tried to completely isolate the MainActivity call in onCreate method inside IntroActivity class and surprisingly the screen goes blank (device goes in a loop - no errors).\r\n\r\nThis is my simple IntroActivity class with a 3 second delay to start my MainActivity where I want to create all the buttons, textfileds, etc.\r\n\r\n    import android.app.Activity;\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.os.Handler;\r\n    \r\n    public class IntroActivity extends Activity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_intro);\r\n            new Handler().postDelayed(new Runnable() {\r\n                @Override\r\n                public void run() {\r\n                    Intent i = new Intent(IntroActivity.this, MainActivity.class);\r\n                    i.setFlags(i.FLAG_ACTIVITY_CLEAR_TOP);\r\n                    startActivity(i);\r\n                    finish();\r\n                }\r\n            }, 3000);\r\n        }\r\n    }\r\n\r\n... and this is my MainActivity class:\r\n\r\n    import android.content.Intent;\r\n    import android.os.Bundle;\r\n    import android.view.View;\r\n    \r\n    public class MainActivity extends IntroActivity {\r\n        @Override\r\n        protected void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.activity_main);\r\n        }\r\n    }\r\n\r\nThis is my manifest if it helps in any way.\r\n\r\n    &lt;application\r\n        android:allowBackup=&quot;true&quot;\r\n        android:icon=&quot;@mipmap/ic_launcher&quot;\r\n        android:label=&quot;@string/app_name&quot;\r\n        android:supportsRtl=&quot;true&quot;\r\n        android:theme=&quot;@style/AppTheme&quot;&gt;\r\n        &lt;activity android:name=&quot;.IntroActivity&quot;\r\n            android:theme=&quot;@android:style/Theme.Black.NoTitleBar.Fullscreen&quot;&gt;\r\n            &lt;intent-filter&gt;\r\n                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;\r\n                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;\r\n            &lt;/intent-filter&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.MainActivity&quot;\r\n            android:label=&quot;@string/title_activity_main&quot;\r\n            android:theme=&quot;@android:style/Theme.Black.NoTitleBar&quot;&gt;\r\n        &lt;/activity&gt;\r\n        &lt;activity android:name=&quot;.GameActivity&quot;\r\n            android:theme=&quot;@android:style/Theme.Black.NoTitleBar&quot;&gt;\r\n        &lt;/activity&gt;\r\n    &lt;/application&gt;\r\n\r\nI&#39;m building this app in Android Studio 2.2.0. My device is a Samsung Galaxy Tab S 8.4.\r\n","title":"Android - Activity restarts in an endless loop","body":"<p>I'm creating a very simple app to do some calculations for a game and I've stumbled upon an <strong>endless activity reload loop</strong>. I have no idea what is causing this loop because there really isn't any data suggesting what to check (nothing red in my logcat).</p>\n\n<p>My guess is that my IntroActivity is causing this chaos because the endless loop has a 3 second delay. I checked the SO and found multiple code samples to create this delay and nothing fixes this issue. It's really starting to annoy me. MainActivity class loads fine and layout looks ok but it reloads every 3 seconds.</p>\n\n<p>I make a clean build every time I change something in my code just to make sure nothing \"old\" gets loaded in my build and it doesn't help. I also tried to completely isolate the MainActivity call in onCreate method inside IntroActivity class and surprisingly the screen goes blank (device goes in a loop - no errors).</p>\n\n<p>This is my simple IntroActivity class with a 3 second delay to start my MainActivity where I want to create all the buttons, textfileds, etc.</p>\n\n<pre><code>import android.app.Activity;\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.os.Handler;\n\npublic class IntroActivity extends Activity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_intro);\n        new Handler().postDelayed(new Runnable() {\n            @Override\n            public void run() {\n                Intent i = new Intent(IntroActivity.this, MainActivity.class);\n                i.setFlags(i.FLAG_ACTIVITY_CLEAR_TOP);\n                startActivity(i);\n                finish();\n            }\n        }, 3000);\n    }\n}\n</code></pre>\n\n<p>... and this is my MainActivity class:</p>\n\n<pre><code>import android.content.Intent;\nimport android.os.Bundle;\nimport android.view.View;\n\npublic class MainActivity extends IntroActivity {\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_main);\n    }\n}\n</code></pre>\n\n<p>This is my manifest if it helps in any way.</p>\n\n<pre><code>&lt;application\n    android:allowBackup=\"true\"\n    android:icon=\"@mipmap/ic_launcher\"\n    android:label=\"@string/app_name\"\n    android:supportsRtl=\"true\"\n    android:theme=\"@style/AppTheme\"&gt;\n    &lt;activity android:name=\".IntroActivity\"\n        android:theme=\"@android:style/Theme.Black.NoTitleBar.Fullscreen\"&gt;\n        &lt;intent-filter&gt;\n            &lt;action android:name=\"android.intent.action.MAIN\" /&gt;\n            &lt;category android:name=\"android.intent.category.LAUNCHER\" /&gt;\n        &lt;/intent-filter&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\".MainActivity\"\n        android:label=\"@string/title_activity_main\"\n        android:theme=\"@android:style/Theme.Black.NoTitleBar\"&gt;\n    &lt;/activity&gt;\n    &lt;activity android:name=\".GameActivity\"\n        android:theme=\"@android:style/Theme.Black.NoTitleBar\"&gt;\n    &lt;/activity&gt;\n&lt;/application&gt;\n</code></pre>\n\n<p>I'm building this app in Android Studio 2.2.0. My device is a Samsung Galaxy Tab S 8.4.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":291508,"reputation":37619,"user_id":593709,"accept_rate":80,"display_name":"Adil Soomro"},"score":4,"creation_date":1327562225,"post_id":9014834,"comment_id":11302474,"body_markdown":"[Have a look here](http://stackoverflow.com/a/930073/593709)","body":"<a href=\"http://stackoverflow.com/a/930073/593709\">Have a look here</a>"},{"owner":{"account_id":77857,"reputation":12130,"user_id":221951,"accept_rate":47,"display_name":"Piotr Gwiazda"},"score":1,"creation_date":1327568942,"post_id":9014834,"comment_id":11303674,"body_markdown":"Take a look at [JLine](http://sourceforge.net/projects/jline/). It&#39;s a command shell-like interface with command history, TAB completion etc.","body":"Take a look at <a href=\"http://sourceforge.net/projects/jline/\" rel=\"nofollow noreferrer\">JLine</a>. It&#39;s a command shell-like interface with command history, TAB completion etc."}],"answers":[{"tags":[],"owner":{"account_id":244375,"reputation":4195,"user_id":517134,"accept_rate":100,"display_name":"Yusuf K."},"down_vote_count":1,"up_vote_count":6,"is_accepted":true,"score":5,"last_activity_date":1327561881,"creation_date":1327561881,"answer_id":9014912,"question_id":9014834,"body_markdown":"I think, The scanner class is quite helpful. \r\nFor example with BufferedReader, you have to read a line at a time and parse it for the values.\r\nBut in the scanner you get integers with nextInt() method etc.\r\n\r\n\r\n\r\n\r\n","title":"What&#39;s the best way to get console-input in Java?","body":"<p>I think, The scanner class is quite helpful. \nFor example with BufferedReader, you have to read a line at a time and parse it for the values.\nBut in the scanner you get integers with nextInt() method etc.</p>\n"},{"tags":[],"owner":{"account_id":1102504,"reputation":66096,"user_id":1094597,"accept_rate":94,"display_name":"kosa"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1327562052,"creation_date":1327562052,"answer_id":9014936,"question_id":9014834,"body_markdown":"I feel Scanner is helpful in two aspects, \r\n\r\n    1) you can get input from command prompt and infuture if you want to change to file system, it will be quick\r\n    \r\n    2) While reading integer inputs you don&#39;t need to parse\r\n\r\n. I prefer Scanner.","title":"What&#39;s the best way to get console-input in Java?","body":"<p>I feel Scanner is helpful in two aspects, </p>\n\n<pre><code>1) you can get input from command prompt and infuture if you want to change to file system, it will be quick\n\n2) While reading integer inputs you don't need to parse\n</code></pre>\n\n<p>. I prefer Scanner.</p>\n"},{"tags":[],"owner":{"account_id":447162,"reputation":321,"user_id":840629,"accept_rate":14,"display_name":"Arshed"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1436456776,"creation_date":1436456776,"answer_id":31322350,"question_id":9014834,"body_markdown":"Scanner is handy, but it is  slower than BufferedReader. ","title":"What&#39;s the best way to get console-input in Java?","body":"<p>Scanner is handy, but it is  slower than BufferedReader. </p>\n"},{"tags":[],"owner":{"account_id":6260035,"reputation":71,"user_id":8395809,"display_name":"HARSH MODI"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1567287435,"creation_date":1502823214,"answer_id":45699606,"question_id":9014834,"body_markdown":"1. For console input you can use `System.console()`, which is available in/after JAVA 1.6\n\n    it has options for `readPassword()` (will not show entered character on console as well do not cache it) and `readLine()`.\n    ```\n    String name = System.console().readLine(); //using java.io.*\n    ```\n\n1. Scanner is easiest and good option for less inputs but it&#39;s a bit slower than other options like `console()` and `bufferedReader()` when you have so many inputs to handle.\n    ```\n    Scanner in = new Scanner(System.in); // using java.util.Scanner;\n    String s = in.nextLine();            // for reading string\n    int a = in.nextInt();                // for reading int\n    float b = in.nextFloat();            // for reading float\n    ```\n\n1. I personally like `bufferedReader()` as it will work with earlier versions and non-interactive environments as well plus is faster.\n\n    ```\n    BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));       // using java.io.*\n    String name = reader.readLine(); // it reads everything into string\n    ```\n\n***p.s:** The `System.console()` method does not work in non-interactive environments (i.e. an IDE).*","title":"What&#39;s the best way to get console-input in Java?","body":"<ol>\n<li><p>For console input you can use <code>System.console()</code>, which is available in/after JAVA 1.6</p>\n<p>it has options for <code>readPassword()</code> (will not show entered character on console as well do not cache it) and <code>readLine()</code>.</p>\n<pre><code>String name = System.console().readLine(); //using java.io.*\n</code></pre>\n</li>\n<li><p>Scanner is easiest and good option for less inputs but it's a bit slower than other options like <code>console()</code> and <code>bufferedReader()</code> when you have so many inputs to handle.</p>\n<pre><code>Scanner in = new Scanner(System.in); // using java.util.Scanner;\nString s = in.nextLine();            // for reading string\nint a = in.nextInt();                // for reading int\nfloat b = in.nextFloat();            // for reading float\n</code></pre>\n</li>\n<li><p>I personally like <code>bufferedReader()</code> as it will work with earlier versions and non-interactive environments as well plus is faster.</p>\n<pre><code>BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));       // using java.io.*\nString name = reader.readLine(); // it reads everything into string\n</code></pre>\n</li>\n</ol>\n<p><em><strong>p.s:</strong> The <code>System.console()</code> method does not work in non-interactive environments (i.e. an IDE).</em></p>\n"},{"tags":[],"owner":{"account_id":10063010,"reputation":5822,"user_id":7438973,"accept_rate":44,"display_name":"nagendra547"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1502824716,"creation_date":1502824716,"answer_id":45699983,"question_id":9014834,"body_markdown":"I prefer using console if you are using Java 1.6 or latest.\r\n\r\nIt&#39;s simple one liner.\r\n\r\n    String str = System.console().readLine();","title":"What&#39;s the best way to get console-input in Java?","body":"<p>I prefer using console if you are using Java 1.6 or latest.</p>\n\n<p>It's simple one liner.</p>\n\n<pre><code>String str = System.console().readLine();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14943522,"reputation":11,"user_id":10789445,"display_name":"Animesh Kotka"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1544770142,"creation_date":1544770142,"answer_id":53774732,"question_id":9014834,"body_markdown":"BufferedReader is quite complex and a bit lengthy to use but it must faster than scanner, \r\nif you want to take input for competitive coding purpose ,must use BufferedReader. Also there are many way you can check here.https://www.geeksforgeeks.org/fast-io-in-java-in-competitive-programming/","title":"What&#39;s the best way to get console-input in Java?","body":"<p>BufferedReader is quite complex and a bit lengthy to use but it must faster than scanner, \nif you want to take input for competitive coding purpose ,must use BufferedReader. Also there are many way you can check here.<a href=\"https://www.geeksforgeeks.org/fast-io-in-java-in-competitive-programming/\" rel=\"nofollow noreferrer\">https://www.geeksforgeeks.org/fast-io-in-java-in-competitive-programming/</a></p>\n"},{"tags":[],"owner":{"account_id":22867341,"reputation":35,"user_id":17010945,"display_name":"Sahil Goyal"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633786327,"creation_date":1633786327,"answer_id":69507172,"question_id":9014834,"body_markdown":"i think scanner is a bit slow, but scanner is better\r\nthe problem in scanner is that its difficult to take string input after int input because the nextint doesnt read newline or something\r\nbut you can parse it to int or long after taking input as string in nextline()\r\nthat way you dont have to worry about the cursor\r\nint a=Integer.parseInt(s.nextLine());\r\n","title":"What&#39;s the best way to get console-input in Java?","body":"<p>i think scanner is a bit slow, but scanner is better\nthe problem in scanner is that its difficult to take string input after int input because the nextint doesnt read newline or something\nbut you can parse it to int or long after taking input as string in nextline()\nthat way you dont have to worry about the cursor\nint a=Integer.parseInt(s.nextLine());</p>\n"}],"owner":{"account_id":996097,"reputation":5404,"user_id":1011990,"accept_rate":94,"display_name":"Bhaxy"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8375,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"accepted_answer_id":9014912,"answer_count":7,"score":11,"last_activity_date":1633786327,"creation_date":1327561089,"question_id":9014834,"body_markdown":"Getting output with Java is pretty easy as you can make use of `System.out.print` and the like.\r\n\r\nInput, on the other hand, seems a little different. Some people recommend [java.util.Scanner][1] while others recommend [java.io.BufferedReader][2], and I&#39;m sure there&#39;s plenty of other recommendations. The two methods above are most regularly-used.\r\n\r\nNeither seem to present very nice options (in my opinion). So, is there any better way to get input from a console window in Java? And if there isn&#39;t, which should I choose?\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html\r\n  [2]: http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html","title":"What&#39;s the best way to get console-input in Java?","body":"<p>Getting output with Java is pretty easy as you can make use of <code>System.out.print</code> and the like.</p>\n\n<p>Input, on the other hand, seems a little different. Some people recommend <a href=\"http://docs.oracle.com/javase/1.5.0/docs/api/java/util/Scanner.html\" rel=\"noreferrer\">java.util.Scanner</a> while others recommend <a href=\"http://docs.oracle.com/javase/6/docs/api/java/io/BufferedReader.html\" rel=\"noreferrer\">java.io.BufferedReader</a>, and I'm sure there's plenty of other recommendations. The two methods above are most regularly-used.</p>\n\n<p>Neither seem to present very nice options (in my opinion). So, is there any better way to get input from a console window in Java? And if there isn't, which should I choose?</p>\n"},{"tags":["java","zipkin","brave"],"answers":[{"tags":[],"owner":{"account_id":9726758,"reputation":357,"user_id":7213421,"display_name":"ByteBat"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633786312,"creation_date":1633786312,"answer_id":69507168,"question_id":69430794,"body_markdown":"I don&#39;t know what your NPE generates (technically), but the SpanHandler injection and the Brave wrapper are weird, considering the Tracing is from Brave. Then the most likely thing is that in those two lines you are not injecting the necessary dependencies for the creation of Spans well.\r\n\r\n    Tracing.newBuilder().localServiceName(&quot;thisIsTheClientApplicationWhoIsGeneratingTheFirstTraceId&quot;).addSpanHandler(ZipkinSpanHandler.create(spanReporter)).build();\r\n    BraveTracer.create(tracing).unwrap().tracer();\r\n\r\nHere I made an example without those lines and it works as you expected. With the parent-child flow structure, you can replicate and distribute it in its components by injecting and extracting the trace of the headers: X-B3-TraceId, X-B3-ParentSpanId, X-B3-SpanId, X-B3-Sampled.\r\n\r\n**main code**\r\n\r\n    package com.stackoverflow.q69430794;\r\n    \r\n    import brave.Span;\r\n    import brave.Tracing;\r\n    import zipkin2.reporter.AsyncReporter;\r\n    import zipkin2.reporter.okhttp3.OkHttpSender;\r\n    \r\n    public class QuestionApplication {\r\n    \r\n    \tpublic static void main(String[] args) {\r\n    \t\t\r\n    \t\tvar sender = OkHttpSender.newBuilder().endpoint(&quot;http://localhost:9411/api/v2/spans&quot;).build();\r\n    \t\tvar reporter = AsyncReporter.builder(sender).build();\r\n    \t\t\r\n    \t\tvar tracing = Tracing.newBuilder().localServiceName(&quot;component-test&quot;).spanReporter(reporter).build();\r\n    \t\t\r\n    \t\t// Create parent span and his child --------------------\r\n    \t\t\r\n    \t\t// Parent\r\n    \t\ttracing.tracer().startScopedSpan(&quot;parentSpan&quot;);\r\n            Span span =  tracing.tracer().currentSpan();\r\n            span.tag(&quot;key&quot;, &quot;firstBiz&quot;);\r\n            \r\n            // Child\r\n            tracing.tracer().startScopedSpanWithParent(&quot;childSpan&quot;, tracing.tracer().currentSpan().context());\r\n            Span childSpan =  tracing.tracer().currentSpan();\r\n            childSpan.tag(&quot;key&quot;, &quot;secondBiz&quot;);\r\n            childSpan.finish();\r\n            System.out.println(&quot;id:&quot; + childSpan.context().traceIdString());\r\n            \r\n            // Finish span\r\n            span.finish();\r\n            \r\n    \t\ttry {\r\n    \t\t\tThread.sleep(5000);\r\n    \t\t} catch (InterruptedException e) {\r\n    \t\t\t// TODO Auto-generated catch block\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n            // -----------------------------------------------------\r\n    \t}\r\n    \r\n    }\r\n\r\n**pom.xml**\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n    \t&lt;groupId&gt;com.stackoverflow.q69430794&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;69430794&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;69430794&lt;/name&gt;\r\n    \t&lt;description&gt;Question # 69430794&lt;/description&gt;\r\n    \r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n    \t\t&lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n    \t\t&lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    \t&lt;/properties&gt;\r\n    \r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n    \t\t\t&lt;version&gt;2.5.4&lt;/version&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n                &lt;groupId&gt;io.zipkin.brave&lt;/groupId&gt;\r\n                &lt;artifactId&gt;brave&lt;/artifactId&gt;\r\n                &lt;version&gt;5.4.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.zipkin.reporter2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;zipkin-sender-okhttp3&lt;/artifactId&gt;\r\n                &lt;version&gt;2.7.9&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\nI used docker image:\r\n\r\n    docker pull openzipkin/zipkin\r\n\r\nThe trace in Zipkin\r\n[![enter image description here][1]][1]\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/lzZUk.png\r\n  [2]: https://i.stack.imgur.com/1e6Fd.png","title":"Java - Brave / Zipkin: Current Span Null","body":"<p>I don't know what your NPE generates (technically), but the SpanHandler injection and the Brave wrapper are weird, considering the Tracing is from Brave. Then the most likely thing is that in those two lines you are not injecting the necessary dependencies for the creation of Spans well.</p>\n<pre><code>Tracing.newBuilder().localServiceName(&quot;thisIsTheClientApplicationWhoIsGeneratingTheFirstTraceId&quot;).addSpanHandler(ZipkinSpanHandler.create(spanReporter)).build();\nBraveTracer.create(tracing).unwrap().tracer();\n</code></pre>\n<p>Here I made an example without those lines and it works as you expected. With the parent-child flow structure, you can replicate and distribute it in its components by injecting and extracting the trace of the headers: X-B3-TraceId, X-B3-ParentSpanId, X-B3-SpanId, X-B3-Sampled.</p>\n<p><strong>main code</strong></p>\n<pre><code>package com.stackoverflow.q69430794;\n\nimport brave.Span;\nimport brave.Tracing;\nimport zipkin2.reporter.AsyncReporter;\nimport zipkin2.reporter.okhttp3.OkHttpSender;\n\npublic class QuestionApplication {\n\n    public static void main(String[] args) {\n        \n        var sender = OkHttpSender.newBuilder().endpoint(&quot;http://localhost:9411/api/v2/spans&quot;).build();\n        var reporter = AsyncReporter.builder(sender).build();\n        \n        var tracing = Tracing.newBuilder().localServiceName(&quot;component-test&quot;).spanReporter(reporter).build();\n        \n        // Create parent span and his child --------------------\n        \n        // Parent\n        tracing.tracer().startScopedSpan(&quot;parentSpan&quot;);\n        Span span =  tracing.tracer().currentSpan();\n        span.tag(&quot;key&quot;, &quot;firstBiz&quot;);\n        \n        // Child\n        tracing.tracer().startScopedSpanWithParent(&quot;childSpan&quot;, tracing.tracer().currentSpan().context());\n        Span childSpan =  tracing.tracer().currentSpan();\n        childSpan.tag(&quot;key&quot;, &quot;secondBiz&quot;);\n        childSpan.finish();\n        System.out.println(&quot;id:&quot; + childSpan.context().traceIdString());\n        \n        // Finish span\n        span.finish();\n        \n        try {\n            Thread.sleep(5000);\n        } catch (InterruptedException e) {\n            // TODO Auto-generated catch block\n            e.printStackTrace();\n        }\n        // -----------------------------------------------------\n    }\n\n}\n</code></pre>\n<p><strong>pom.xml</strong></p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.stackoverflow.q69430794&lt;/groupId&gt;\n    &lt;artifactId&gt;69430794&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;69430794&lt;/name&gt;\n    &lt;description&gt;Question # 69430794&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.zipkin.brave&lt;/groupId&gt;\n            &lt;artifactId&gt;brave&lt;/artifactId&gt;\n            &lt;version&gt;5.4.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.zipkin.reporter2&lt;/groupId&gt;\n            &lt;artifactId&gt;zipkin-sender-okhttp3&lt;/artifactId&gt;\n            &lt;version&gt;2.7.9&lt;/version&gt;\n        &lt;/dependency&gt;\n        \n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>I used docker image:</p>\n<pre><code>docker pull openzipkin/zipkin\n</code></pre>\n<p>The trace in Zipkin\n<a href=\"https://i.stack.imgur.com/lzZUk.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/lzZUk.png\" alt=\"enter image description here\" /></a>\n<a href=\"https://i.stack.imgur.com/1e6Fd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/1e6Fd.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":14482834,"reputation":3894,"user_id":10461625,"display_name":"PatPanda"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2327,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69507168,"answer_count":1,"score":0,"last_activity_date":1633786312,"creation_date":1633320400,"question_id":69430794,"body_markdown":"Small question regarding a Java application, with Brave / Zipkin for traces please.\r\n\r\nI have a very simple piece of code (code + maven pom attached, ready to run and reproduce the issue)\r\n\r\n```\r\nimport io.netty.handler.logging.LogLevel;\r\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\r\nimport org.springframework.web.reactive.function.BodyInserters;\r\nimport org.springframework.web.reactive.function.client.WebClient;\r\nimport reactor.netty.http.client.HttpClient;\r\nimport reactor.netty.transport.logging.AdvancedByteBufFormat;\r\nimport zipkin2.reporter.AsyncReporter;\r\nimport zipkin2.reporter.brave.ZipkinSpanHandler;\r\nimport zipkin2.reporter.urlconnection.URLConnectionSender;\r\nimport brave.Tracing;\r\nimport brave.opentracing.BraveTracer;\r\nimport java.util.Map;\r\n\r\npublic class QuestionApplication {\r\n\r\n    public static void main(String[] args) {\r\n        final var sender        = URLConnectionSender.create(&quot;http://the-zipkin-instance.com:9411/api/v2/spans&quot;);\r\n        final var spanReporter  = AsyncReporter.create(sender);\r\n        final var tracing       = Tracing.newBuilder().localServiceName(&quot;thisIsTheClientApplicationWhoIsGeneratingTheFirstTraceId&quot;).addSpanHandler(ZipkinSpanHandler.create(spanReporter)).build();\r\n        final var tracer        = BraveTracer.create(tracing).unwrap().tracer();\r\n        final var webClient     = WebClient.create().mutate().clientConnector(new ReactorClientHttpConnector(HttpClient.create().wiretap(&quot;reactor.netty.http.client.HttpClient&quot;, LogLevel.INFO, AdvancedByteBufFormat.HEX_DUMP))).build();\r\n        final var jsonPayload   = Map.of(&quot;key&quot;, &quot;someKey&quot;, &quot;value&quot;, &quot;someValue&quot;);\r\n        final var span = tracer.currentSpan();\r\n        final var context = span.context();\r\n        final var traceIdString = context.traceIdString();\r\n        final var response      = webClient.post().uri(&quot;http://the-server.com/api/route&quot;).header(&quot;X-B3-TraceId&quot;, traceIdString).body(BodyInserters.fromValue(jsonPayload)).retrieve().bodyToMono(String.class).block();\r\n        System.out.println(response);\r\n    }\r\n\r\n}\r\n```\r\n\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\r\n    &lt;groupId&gt;com.github&lt;/groupId&gt;\r\n    &lt;artifactId&gt;question&lt;/artifactId&gt;\r\n    &lt;version&gt;1.1&lt;/version&gt;\r\n\r\n    &lt;properties&gt;\r\n        &lt;java.version&gt;11&lt;/java.version&gt;\r\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\r\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\r\n    &lt;/properties&gt;\r\n\r\n    &lt;dependencies&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.4&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.zipkin.reporter2&lt;/groupId&gt;\r\n            &lt;artifactId&gt;zipkin-sender-urlconnection&lt;/artifactId&gt;\r\n            &lt;version&gt;2.16.3&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;io.opentracing.brave&lt;/groupId&gt;\r\n            &lt;artifactId&gt;brave-opentracing&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;/dependency&gt;\r\n    &lt;/dependencies&gt;\r\n\r\n&lt;/project&gt;\r\n\r\n```\r\n\r\nHere, with above code, I am getting a ```java.lang.NullPointerException``` on line ```final var context = span.context();``` because the span is null ```final var span = tracer.currentSpan();```\r\n\r\nThis application is the &quot;client&quot; application, meaning the first to initiate the http call, hence, I would like this small piece of main code to be the first to generate the trace ID, which will travel within a dozen of other sub systems.\r\n\r\nMay I ask what is the issue, what is the root cause of this NPE, or should I say, what is the correct way to create this trace ID to be passed around as I am the first of the chain please?\r\n\r\nThank you \r\n\r\n","title":"Java - Brave / Zipkin: Current Span Null","body":"<p>Small question regarding a Java application, with Brave / Zipkin for traces please.</p>\n<p>I have a very simple piece of code (code + maven pom attached, ready to run and reproduce the issue)</p>\n<pre><code>import io.netty.handler.logging.LogLevel;\nimport org.springframework.http.client.reactive.ReactorClientHttpConnector;\nimport org.springframework.web.reactive.function.BodyInserters;\nimport org.springframework.web.reactive.function.client.WebClient;\nimport reactor.netty.http.client.HttpClient;\nimport reactor.netty.transport.logging.AdvancedByteBufFormat;\nimport zipkin2.reporter.AsyncReporter;\nimport zipkin2.reporter.brave.ZipkinSpanHandler;\nimport zipkin2.reporter.urlconnection.URLConnectionSender;\nimport brave.Tracing;\nimport brave.opentracing.BraveTracer;\nimport java.util.Map;\n\npublic class QuestionApplication {\n\n    public static void main(String[] args) {\n        final var sender        = URLConnectionSender.create(&quot;http://the-zipkin-instance.com:9411/api/v2/spans&quot;);\n        final var spanReporter  = AsyncReporter.create(sender);\n        final var tracing       = Tracing.newBuilder().localServiceName(&quot;thisIsTheClientApplicationWhoIsGeneratingTheFirstTraceId&quot;).addSpanHandler(ZipkinSpanHandler.create(spanReporter)).build();\n        final var tracer        = BraveTracer.create(tracing).unwrap().tracer();\n        final var webClient     = WebClient.create().mutate().clientConnector(new ReactorClientHttpConnector(HttpClient.create().wiretap(&quot;reactor.netty.http.client.HttpClient&quot;, LogLevel.INFO, AdvancedByteBufFormat.HEX_DUMP))).build();\n        final var jsonPayload   = Map.of(&quot;key&quot;, &quot;someKey&quot;, &quot;value&quot;, &quot;someValue&quot;);\n        final var span = tracer.currentSpan();\n        final var context = span.context();\n        final var traceIdString = context.traceIdString();\n        final var response      = webClient.post().uri(&quot;http://the-server.com/api/route&quot;).header(&quot;X-B3-TraceId&quot;, traceIdString).body(BodyInserters.fromValue(jsonPayload)).retrieve().bodyToMono(String.class).block();\n        System.out.println(response);\n    }\n\n}\n</code></pre>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n         xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n         xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;com.github&lt;/groupId&gt;\n    &lt;artifactId&gt;question&lt;/artifactId&gt;\n    &lt;version&gt;1.1&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;11&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;11&lt;/maven.compiler.target&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-webflux&lt;/artifactId&gt;\n            &lt;version&gt;2.5.4&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.zipkin.reporter2&lt;/groupId&gt;\n            &lt;artifactId&gt;zipkin-sender-urlconnection&lt;/artifactId&gt;\n            &lt;version&gt;2.16.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.opentracing.brave&lt;/groupId&gt;\n            &lt;artifactId&gt;brave-opentracing&lt;/artifactId&gt;\n            &lt;version&gt;1.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n&lt;/project&gt;\n\n</code></pre>\n<p>Here, with above code, I am getting a <code>java.lang.NullPointerException</code> on line <code>final var context = span.context();</code> because the span is null <code>final var span = tracer.currentSpan();</code></p>\n<p>This application is the &quot;client&quot; application, meaning the first to initiate the http call, hence, I would like this small piece of main code to be the first to generate the trace ID, which will travel within a dozen of other sub systems.</p>\n<p>May I ask what is the issue, what is the root cause of this NPE, or should I say, what is the correct way to create this trace ID to be passed around as I am the first of the chain please?</p>\n<p>Thank you</p>\n"},{"tags":["java","android","broadcastreceiver","alarmmanager"],"answers":[{"tags":[],"owner":{"account_id":12627725,"reputation":1,"user_id":9180537,"display_name":"Daniel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633253808,"creation_date":1633253808,"answer_id":69423623,"question_id":69422865,"body_markdown":"You could put the alarm manager in the service. The foreground service is used to keep our application alive even though the main application has been quit by the user. And then the alarm manager could trigger the code in the broadcast receiver class","title":"Problems with android alarm manager, when the app is closed","body":"<p>You could put the alarm manager in the service. The foreground service is used to keep our application alive even though the main application has been quit by the user. And then the alarm manager could trigger the code in the broadcast receiver class</p>\n"}],"owner":{"account_id":22927519,"reputation":1,"user_id":17062362,"display_name":"Sv198x"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633786304,"creation_date":1633245854,"question_id":69422865,"body_markdown":"During development of a small android app, I am having problem in running an alarm manager, after the app is terminated by the user. While the app is running in the foreground or background, everything works fine.\r\n\r\nI did the following steps:\r\n\r\n**AndroidManifest.xml**\r\n\r\n   ```\r\n&lt;receiver android:name=&quot;MyBroadcastReceiver&quot; &gt;&lt;/receiver&gt;\r\n```\r\n\r\n**MainActivity.java**\r\n\r\nWithin the OnClick method of a button, I call\r\n\r\n    startAlert( x*60*1000);\r\n\r\nx is a class-wide visible variable \r\n\r\n    public void startAlert(long timeInMillis){ \r\n        Intent intent = new Intent(this, MyBroadcastReceiver.class);\r\n\r\n        PendingIntent pendingIntent = PendingIntent.getBroadcast(this.getApplicationContext(), 234324243, intent, PendingIntent.FLAG_UPDATE_CURRENT);\r\n\r\n        AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\r\n\r\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\r\n            alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP,System.currentTimeMillis()+(timeInMillis),pendingIntent);\r\n        }\r\n        Toast.makeText(this, &quot;Alarm in &quot; + x + &quot; Minuten&quot;,Toast.LENGTH_LONG).show();\r\n    }\r\n\r\n**MyBroacastReciever.java**\r\n\r\n    public void onReceive(Context context, Intent intent) {\r\n         MediaPlayer player = MediaPlayer.create(context,MainActivity.link); \r\n                                             player.start();\r\n         Toast.makeText(context, &quot;Alarm....&quot;, Toast.LENGTH_LONG).show();}\r\n    \r\n\r\nWhat should I do to get the `alarmManager` successfully running, after the app is closed?","title":"Problems with android alarm manager, when the app is closed","body":"<p>During development of a small android app, I am having problem in running an alarm manager, after the app is terminated by the user. While the app is running in the foreground or background, everything works fine.</p>\n<p>I did the following steps:</p>\n<p><strong>AndroidManifest.xml</strong></p>\n<pre><code>&lt;receiver android:name=&quot;MyBroadcastReceiver&quot; &gt;&lt;/receiver&gt;\n</code></pre>\n<p><strong>MainActivity.java</strong></p>\n<p>Within the OnClick method of a button, I call</p>\n<pre><code>startAlert( x*60*1000);\n</code></pre>\n<p>x is a class-wide visible variable</p>\n<pre><code>public void startAlert(long timeInMillis){ \n    Intent intent = new Intent(this, MyBroadcastReceiver.class);\n\n    PendingIntent pendingIntent = PendingIntent.getBroadcast(this.getApplicationContext(), 234324243, intent, PendingIntent.FLAG_UPDATE_CURRENT);\n\n    AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);\n\n    if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.M) {\n        alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP,System.currentTimeMillis()+(timeInMillis),pendingIntent);\n    }\n    Toast.makeText(this, &quot;Alarm in &quot; + x + &quot; Minuten&quot;,Toast.LENGTH_LONG).show();\n}\n</code></pre>\n<p><strong>MyBroacastReciever.java</strong></p>\n<pre><code>public void onReceive(Context context, Intent intent) {\n     MediaPlayer player = MediaPlayer.create(context,MainActivity.link); \n                                         player.start();\n     Toast.makeText(context, &quot;Alarm....&quot;, Toast.LENGTH_LONG).show();}\n</code></pre>\n<p>What should I do to get the <code>alarmManager</code> successfully running, after the app is closed?</p>\n"},{"tags":["java","network-programming"],"comments":[{"owner":{"account_id":104523,"reputation":2274,"user_id":279400,"display_name":"RedPandaCurios"},"score":1,"creation_date":1275820048,"post_id":2983835,"comment_id":15468044,"body_markdown":"See http://stackoverflow.com/questions/2804797/java-stop-server-thread","body":"See <a href=\"http://stackoverflow.com/questions/2804797/java-stop-server-thread\" title=\"java stop server thread\">stackoverflow.com/questions/2804797/java-stop-server-thread</a>"},{"owner":{"account_id":17591114,"reputation":1,"user_id":12762960,"display_name":"Abdullah Orabi"},"score":0,"creation_date":1579717410,"post_id":2983835,"comment_id":105871862,"body_markdown":"For the pepole who wants to wait x time and then react use setSoTimeout().","body":"For the pepole who wants to wait x time and then react use setSoTimeout()."}],"answers":[{"tags":[],"owner":{"account_id":23706,"reputation":10697,"user_id":59604,"display_name":"Lauri Lehtinen"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1521423329,"creation_date":1275819906,"answer_id":2983849,"question_id":2983835,"body_markdown":"Is calling `close()` on the `ServerSocket` an option?\r\n\r\nhttp://java.sun.com/j2se/6/docs/api/java/net/ServerSocket.html#close%28%29\r\n\r\n&gt; Closes this socket. Any thread currently blocked in accept()  will throw a SocketException. \r\n","title":"How can I interrupt a ServerSocket accept() method?","body":"<p>Is calling <code>close()</code> on the <code>ServerSocket</code> an option?</p>\n\n<p><a href=\"http://java.sun.com/j2se/6/docs/api/java/net/ServerSocket.html#close%28%29\" rel=\"nofollow noreferrer\">http://java.sun.com/j2se/6/docs/api/java/net/ServerSocket.html#close%28%29</a></p>\n\n<blockquote>\n  <p>Closes this socket. Any thread currently blocked in accept()  will throw a SocketException. </p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":15201,"reputation":10627,"user_id":31884,"accept_rate":89,"display_name":"Simon Groenewolt"},"down_vote_count":0,"up_vote_count":177,"is_accepted":true,"score":177,"last_activity_date":1521423396,"creation_date":1275820051,"answer_id":2983860,"question_id":2983835,"body_markdown":"You can call [`close()`][1] from another thread, and the [`accept()`](https://docs.oracle.com/javase/7/docs/api/java/net/ServerSocket.html#accept()) call will throw a [`SocketException`][2].\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/7/docs/api/java/net/ServerSocket.html#close()\r\n  [2]: http://docs.oracle.com/javase/7/docs/api/java/net/SocketException.html","title":"How can I interrupt a ServerSocket accept() method?","body":"<p>You can call <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/ServerSocket.html#close()\" rel=\"noreferrer\"><code>close()</code></a> from another thread, and the <a href=\"https://docs.oracle.com/javase/7/docs/api/java/net/ServerSocket.html#accept()\" rel=\"noreferrer\"><code>accept()</code></a> call will throw a <a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/SocketException.html\" rel=\"noreferrer\"><code>SocketException</code></a>.</p>\n"},{"tags":[],"owner":{"account_id":1078,"reputation":33615,"user_id":1431,"accept_rate":71,"display_name":"Juha Syrj&#228;l&#228;"},"down_vote_count":1,"up_vote_count":34,"is_accepted":false,"score":33,"last_activity_date":1521423341,"creation_date":1275820092,"answer_id":2983861,"question_id":2983835,"body_markdown":"Set timeout on `accept()`, then the call will timeout the blocking after specified time:\r\n\r\nhttp://docs.oracle.com/javase/7/docs/api/java/net/SocketOptions.html#SO_TIMEOUT\r\n\r\n&gt;Set a timeout on blocking `Socket` operations:\r\n\r\n&gt;     ServerSocket.accept();\r\n&gt;     SocketInputStream.read();\r\n&gt;     DatagramSocket.receive();\r\n \r\n&gt;The option must be set prior to entering a blocking operation to take effect. If the timeout expires and the operation would continue to block, `java.io.InterruptedIOException` is raised. The `Socket` is not closed in this case.\r\n\r\n","title":"How can I interrupt a ServerSocket accept() method?","body":"<p>Set timeout on <code>accept()</code>, then the call will timeout the blocking after specified time:</p>\n\n<p><a href=\"http://docs.oracle.com/javase/7/docs/api/java/net/SocketOptions.html#SO_TIMEOUT\" rel=\"noreferrer\">http://docs.oracle.com/javase/7/docs/api/java/net/SocketOptions.html#SO_TIMEOUT</a></p>\n\n<blockquote>\n  <p>Set a timeout on blocking <code>Socket</code> operations:</p>\n\n<pre><code>ServerSocket.accept();\nSocketInputStream.read();\nDatagramSocket.receive();\n</code></pre>\n  \n  <p>The option must be set prior to entering a blocking operation to take effect. If the timeout expires and the operation would continue to block, <code>java.io.InterruptedIOException</code> is raised. The <code>Socket</code> is not closed in this case.</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":7197,"reputation":8531,"user_id":12386,"accept_rate":73,"display_name":"stu"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1385939179,"creation_date":1385939179,"answer_id":20318399,"question_id":2983835,"body_markdown":"Another thing you can try which is cleaner, is to check a flag in the accept loop, and then when your admin thread wants to kill the thread blocking on the accept, set the flag (make it thread safe) and then make a client socket connection to the listening socket.\r\nThe accept will stop blocking and return the new socket.\r\nYou can work out some simple protocol thing telling the listening thread to exit the thread cleanly.\r\nAnd then close the socket on the client side.\r\nNo exceptions, much cleaner.\r\n","title":"How can I interrupt a ServerSocket accept() method?","body":"<p>Another thing you can try which is cleaner, is to check a flag in the accept loop, and then when your admin thread wants to kill the thread blocking on the accept, set the flag (make it thread safe) and then make a client socket connection to the listening socket.\nThe accept will stop blocking and return the new socket.\nYou can work out some simple protocol thing telling the listening thread to exit the thread cleanly.\nAnd then close the socket on the client side.\nNo exceptions, much cleaner.</p>\n"},{"tags":[],"owner":{"account_id":1963710,"reputation":102,"user_id":1764484,"display_name":"Soham Malakar"},"down_vote_count":2,"up_vote_count":5,"is_accepted":false,"score":3,"last_activity_date":1524831212,"creation_date":1391540809,"answer_id":21561190,"question_id":2983835,"body_markdown":"The reason `ServerSocket.close()` throws an **exception**\r\nis because you have an `outputstream` or an `inputstream`\r\nattached to that socket.\r\nYou can avoid this exception safely by first closing the input and output streams.\r\nThen try closing the `ServerSocket`.\r\nHere is an example:\r\n\r\n    void closeServer() throws IOException {\r\n      try {\r\n        if (outputstream != null)\r\n          outputstream.close();\r\n        if (inputstream != null)\r\n          inputstream.close();\r\n      } catch (IOException e1) {\r\n        e1.printStackTrace();\r\n      }\r\n      if (!serversock.isClosed())\r\n        serversock.close();\r\n      }\r\n    }\r\n\r\nYou can call this method to close any socket from anywhere without getting an exception.","title":"How can I interrupt a ServerSocket accept() method?","body":"<p>The reason <code>ServerSocket.close()</code> throws an <strong>exception</strong>\nis because you have an <code>outputstream</code> or an <code>inputstream</code>\nattached to that socket.\nYou can avoid this exception safely by first closing the input and output streams.\nThen try closing the <code>ServerSocket</code>.\nHere is an example:</p>\n\n<pre><code>void closeServer() throws IOException {\n  try {\n    if (outputstream != null)\n      outputstream.close();\n    if (inputstream != null)\n      inputstream.close();\n  } catch (IOException e1) {\n    e1.printStackTrace();\n  }\n  if (!serversock.isClosed())\n    serversock.close();\n  }\n}\n</code></pre>\n\n<p>You can call this method to close any socket from anywhere without getting an exception.</p>\n"},{"tags":[],"owner":{"account_id":3302975,"reputation":1484,"user_id":2778639,"accept_rate":83,"display_name":"Nickolay Savchenko"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1436181932,"creation_date":1436181597,"answer_id":31244515,"question_id":2983835,"body_markdown":"You can just create &quot;void&quot; socket for break serversocket.accept()\r\n\r\n**Server side**\r\n    \r\n    private static final byte END_WAITING = 66;\r\n    private static final byte CONNECT_REQUEST = 1;\r\n\r\n    while (true) {\r\n          Socket clientSock = serverSocket.accept();\r\n          int code = clientSock.getInputStream().read();\r\n          if (code == END_WAITING\r\n               /*&amp;&amp; clientSock.getInetAddress().getHostAddress().equals(myIp)*/) {\r\n                 // End waiting clients code detected\r\n                 break;\r\n           } else if (code == CONNECT_REQUEST) { // other action\r\n               // ...\r\n           }\r\n      }\r\n\r\n**Method for break server cycle**\r\n\r\n    void acceptClients() {\r\n         try {\r\n              Socket s = new Socket(myIp, PORT);\r\n              s.getOutputStream().write(END_WAITING);\r\n              s.getOutputStream().flush();\r\n              s.close();\r\n         } catch (IOException e) {\r\n         }\r\n    }","title":"How can I interrupt a ServerSocket accept() method?","body":"<p>You can just create \"void\" socket for break serversocket.accept()</p>\n\n<p><strong>Server side</strong></p>\n\n<pre><code>private static final byte END_WAITING = 66;\nprivate static final byte CONNECT_REQUEST = 1;\n\nwhile (true) {\n      Socket clientSock = serverSocket.accept();\n      int code = clientSock.getInputStream().read();\n      if (code == END_WAITING\n           /*&amp;&amp; clientSock.getInetAddress().getHostAddress().equals(myIp)*/) {\n             // End waiting clients code detected\n             break;\n       } else if (code == CONNECT_REQUEST) { // other action\n           // ...\n       }\n  }\n</code></pre>\n\n<p><strong>Method for break server cycle</strong></p>\n\n<pre><code>void acceptClients() {\n     try {\n          Socket s = new Socket(myIp, PORT);\n          s.getOutputStream().write(END_WAITING);\n          s.getOutputStream().flush();\n          s.close();\n     } catch (IOException e) {\n     }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1519143095,"creation_date":1519143095,"answer_id":48889536,"question_id":2983835,"body_markdown":"Use [serverSocket.setSoTimeout(timeoutInMillis)][1].\r\n\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html#setSoTimeout-int-","title":"How can I interrupt a ServerSocket accept() method?","body":"<p>Use <a href=\"https://docs.oracle.com/javase/8/docs/api/java/net/ServerSocket.html#setSoTimeout-int-\" rel=\"nofollow noreferrer\">serverSocket.setSoTimeout(timeoutInMillis)</a>.</p>\n"},{"tags":[],"owner":{"account_id":5068712,"reputation":2406,"user_id":4068123,"display_name":"Michael Sims"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521423041,"creation_date":1521418138,"answer_id":49354123,"question_id":2983835,"body_markdown":"OK, I got this working in a way that addresses the OP&#39;s question more directly.\r\n\r\n**Keep reading past the short answer for a Thread example of how I use this.**\r\n\r\nShort answer:\r\n\r\n    ServerSocket myServer;\r\n    Socket clientSocket;\r\n\r\n      try {    \r\n          myServer = new ServerSocket(port)\r\n          myServer.setSoTimeout(2000); \r\n          //YOU MUST DO THIS ANYTIME TO ASSIGN new ServerSocket() to myServer‼!\r\n          clientSocket = myServer.accept();\r\n          //In this case, after 2 seconds the below interruption will be thrown\r\n      }\r\n\r\n      catch (java.io.InterruptedIOException e) {\r\n          /*  This is where you handle the timeout. THIS WILL NOT stop\r\n          the running of your code unless you issue a break; so you\r\n          can do whatever you need to do here to handle whatever you\r\n          want to happen when the timeout occurs.\r\n          */\r\n    }\r\n\r\nReal world example:\r\n\r\nIn this example, I have a ServerSocket waiting for a connection inside a Thread. When I close the app, I want to shut down the thread (more specifically, the socket) in a clean manner before I let the app close, so I use the .setSoTimeout() on the ServerSocket then I use the interrupt that is thrown after the timeout to check and see if the parent is trying to shut down the thread.  If so, then I set close the socket, then set a flag indicating that the thread is done, then I break out of the Threads loop which returns a null.\r\n\r\n    package MyServer;\r\n    \r\n    import javafx.concurrent.Task;\r\n    \r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.net.SocketException;\r\n    \r\n    import javafx.concurrent.Task;\r\n    import java.io.IOException;\r\n    import java.net.ServerSocket;\r\n    import java.net.Socket;\r\n    import java.net.SocketException;\r\n    \r\n    public class Server {\r\n    \r\n    public Server (int port) {this.port = port;}\r\n    \r\n    private boolean      threadDone        = false;\r\n    private boolean      threadInterrupted = false;\r\n    private boolean      threadRunning     = false;\r\n    private ServerSocket myServer          = null;\r\n    private Socket       clientSocket      = null;\r\n    private Thread       serverThread      = null;;\r\n    private int          port;\r\n    private static final int SO_TIMEOUT    = 5000; //5 seconds\r\n    \r\n    public void startServer() {\r\n        if (!threadRunning) {\r\n            serverThread = new Thread(thisServerTask);\r\n            serverThread.setDaemon(true);\r\n            serverThread.start();\r\n        }\r\n    }\r\n    \r\n    public void stopServer() {\r\n        if (threadRunning) {\r\n            threadInterrupted = true;\r\n            while (!threadDone) {\r\n                //We are just waiting for the timeout to exception happen\r\n            }\r\n            if (threadDone) {threadRunning = false;}\r\n        }\r\n    }\r\n    \r\n    public boolean isRunning() {return threadRunning;}\r\n    \r\n    \r\n    private Task&lt;Void&gt; thisServerTask = new Task &lt;Void&gt;() {\r\n        @Override public Void call() throws InterruptedException {\r\n            \r\n            threadRunning = true;\r\n            try {\r\n                myServer = new ServerSocket(port);\r\n                myServer.setSoTimeout(SO_TIMEOUT);\r\n                clientSocket = new Socket();\r\n            } catch (IOException e) {\r\n                e.printStackTrace();\r\n            }\r\n            while(true) {\r\n                try {\r\n                    clientSocket = myServer.accept();\r\n                }\r\n                catch (java.io.InterruptedIOException e) {\r\n                    if (threadInterrupted) {\r\n                        try { clientSocket.close(); } //This is the clean exit I&#39;m after.\r\n                        catch (IOException e1) { e1.printStackTrace(); }\r\n                        threadDone = true;\r\n                        break;\r\n                    }\r\n                } catch (SocketException e) {\r\n                    e.printStackTrace();\r\n                } catch (IOException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n            return null;\r\n        }\r\n    };\r\n    \r\n    }\r\n\r\n\r\nThen, in my Controller class ... (I will only show relevant code, massage it into your own code as needed)\r\n\r\n    public class Controller {\r\n    \r\n        Server server = null;\r\n        private static final int port = 10000;\r\n    \r\n        private void stopTheServer() {\r\n            server.stopServer();\r\n            while (server.isRunning() {\r\n            //We just wait for the server service to stop.\r\n            }\r\n        }\r\n    \r\n        @FXML private void initialize() {\r\n            Platform.runLater(()-&gt; {\r\n                server = new Server(port);\r\n                server.startServer();\r\n                Stage stage = (Stage) serverStatusLabel.getScene().getWindow();\r\n                stage.setOnCloseRequest(event-&gt;stopTheServer());\r\n            });\r\n        }\r\n\r\n    }\r\n\r\nI hope this helps someone down the road.","title":"How can I interrupt a ServerSocket accept() method?","body":"<p>OK, I got this working in a way that addresses the OP's question more directly.</p>\n\n<p><strong>Keep reading past the short answer for a Thread example of how I use this.</strong></p>\n\n<p>Short answer:</p>\n\n<pre><code>ServerSocket myServer;\nSocket clientSocket;\n\n  try {    \n      myServer = new ServerSocket(port)\n      myServer.setSoTimeout(2000); \n      //YOU MUST DO THIS ANYTIME TO ASSIGN new ServerSocket() to myServer‼!\n      clientSocket = myServer.accept();\n      //In this case, after 2 seconds the below interruption will be thrown\n  }\n\n  catch (java.io.InterruptedIOException e) {\n      /*  This is where you handle the timeout. THIS WILL NOT stop\n      the running of your code unless you issue a break; so you\n      can do whatever you need to do here to handle whatever you\n      want to happen when the timeout occurs.\n      */\n}\n</code></pre>\n\n<p>Real world example:</p>\n\n<p>In this example, I have a ServerSocket waiting for a connection inside a Thread. When I close the app, I want to shut down the thread (more specifically, the socket) in a clean manner before I let the app close, so I use the .setSoTimeout() on the ServerSocket then I use the interrupt that is thrown after the timeout to check and see if the parent is trying to shut down the thread.  If so, then I set close the socket, then set a flag indicating that the thread is done, then I break out of the Threads loop which returns a null.</p>\n\n<pre><code>package MyServer;\n\nimport javafx.concurrent.Task;\n\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\n\nimport javafx.concurrent.Task;\nimport java.io.IOException;\nimport java.net.ServerSocket;\nimport java.net.Socket;\nimport java.net.SocketException;\n\npublic class Server {\n\npublic Server (int port) {this.port = port;}\n\nprivate boolean      threadDone        = false;\nprivate boolean      threadInterrupted = false;\nprivate boolean      threadRunning     = false;\nprivate ServerSocket myServer          = null;\nprivate Socket       clientSocket      = null;\nprivate Thread       serverThread      = null;;\nprivate int          port;\nprivate static final int SO_TIMEOUT    = 5000; //5 seconds\n\npublic void startServer() {\n    if (!threadRunning) {\n        serverThread = new Thread(thisServerTask);\n        serverThread.setDaemon(true);\n        serverThread.start();\n    }\n}\n\npublic void stopServer() {\n    if (threadRunning) {\n        threadInterrupted = true;\n        while (!threadDone) {\n            //We are just waiting for the timeout to exception happen\n        }\n        if (threadDone) {threadRunning = false;}\n    }\n}\n\npublic boolean isRunning() {return threadRunning;}\n\n\nprivate Task&lt;Void&gt; thisServerTask = new Task &lt;Void&gt;() {\n    @Override public Void call() throws InterruptedException {\n\n        threadRunning = true;\n        try {\n            myServer = new ServerSocket(port);\n            myServer.setSoTimeout(SO_TIMEOUT);\n            clientSocket = new Socket();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n        while(true) {\n            try {\n                clientSocket = myServer.accept();\n            }\n            catch (java.io.InterruptedIOException e) {\n                if (threadInterrupted) {\n                    try { clientSocket.close(); } //This is the clean exit I'm after.\n                    catch (IOException e1) { e1.printStackTrace(); }\n                    threadDone = true;\n                    break;\n                }\n            } catch (SocketException e) {\n                e.printStackTrace();\n            } catch (IOException e) {\n                e.printStackTrace();\n            }\n        }\n        return null;\n    }\n};\n\n}\n</code></pre>\n\n<p>Then, in my Controller class ... (I will only show relevant code, massage it into your own code as needed)</p>\n\n<pre><code>public class Controller {\n\n    Server server = null;\n    private static final int port = 10000;\n\n    private void stopTheServer() {\n        server.stopServer();\n        while (server.isRunning() {\n        //We just wait for the server service to stop.\n        }\n    }\n\n    @FXML private void initialize() {\n        Platform.runLater(()-&gt; {\n            server = new Server(port);\n            server.startServer();\n            Stage stage = (Stage) serverStatusLabel.getScene().getWindow();\n            stage.setOnCloseRequest(event-&gt;stopTheServer());\n        });\n    }\n\n}\n</code></pre>\n\n<p>I hope this helps someone down the road.</p>\n"},{"tags":[],"owner":{"account_id":19199144,"reputation":9,"user_id":14027411,"display_name":"Dhruv Goyal"},"down_vote_count":2,"up_vote_count":1,"is_accepted":false,"score":-1,"last_activity_date":1596184010,"creation_date":1596184010,"answer_id":63188329,"question_id":2983835,"body_markdown":"You can simply pass the timeout limit (milli seconds) as a parameter while calling accept function.\r\n\r\neg serverSocket.accept(1000);\r\nautomatically close the request after 1 sec ","title":"How can I interrupt a ServerSocket accept() method?","body":"<p>You can simply pass the timeout limit (milli seconds) as a parameter while calling accept function.</p>\n<p>eg serverSocket.accept(1000);\nautomatically close the request after 1 sec</p>\n"}],"owner":{"account_id":78045,"reputation":1833,"user_id":222383,"accept_rate":100,"display_name":"lukeo05"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115722,"favorite_count":0,"down_vote_count":0,"up_vote_count":163,"accepted_answer_id":2983860,"answer_count":9,"score":163,"last_activity_date":1633785966,"creation_date":1275819694,"question_id":2983835,"body_markdown":"In my main thread I have a `while(listening)` loop which calls `accept()` on my `ServerSocket` object, then starts a new client thread and adds it to a Collection when a new client is accepted.\r\n\r\nI also have an Admin thread which I want to use to issue commands, like `&#39;exit&#39;`, which will cause all the client threads to be shut down, shut itself down, and shut down the main thread, by turning listening to false.\r\n\r\nHowever, the `accept()` call in the `while(listening)` loop blocks, and there doesn&#39;t seem to be any way to interrupt it, so the while condition cannot be checked again and the program cannot exit!\r\n\r\nIs there a better way to do this? Or some way to interrupt the blocking method?","title":"How can I interrupt a ServerSocket accept() method?","body":"<p>In my main thread I have a <code>while(listening)</code> loop which calls <code>accept()</code> on my <code>ServerSocket</code> object, then starts a new client thread and adds it to a Collection when a new client is accepted.</p>\n<p>I also have an Admin thread which I want to use to issue commands, like <code>'exit'</code>, which will cause all the client threads to be shut down, shut itself down, and shut down the main thread, by turning listening to false.</p>\n<p>However, the <code>accept()</code> call in the <code>while(listening)</code> loop blocks, and there doesn't seem to be any way to interrupt it, so the while condition cannot be checked again and the program cannot exit!</p>\n<p>Is there a better way to do this? Or some way to interrupt the blocking method?</p>\n"},{"tags":["java","spring-boot","spring-cloud","csrf","gateway"],"owner":{"account_id":8321252,"reputation":190,"user_id":6446765,"display_name":"Razor"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":69,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633785786,"creation_date":1633785786,"question_id":69507096,"body_markdown":"I&#39;m using spring cloud gateway to interact with microservices. It runs on port 8000:\r\n\r\n```\r\npackage com.smdev.gatewayservice;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\nimport org.springframework.cloud.gateway.route.RouteLocator;\r\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\r\nimport org.springframework.context.annotation.Bean;\r\n\r\n@SpringBootApplication\r\npublic class GatewayServiceApplication {\r\n\r\n    public static void main(String[] args) {\r\n        SpringApplication.run(GatewayServiceApplication.class, args);\r\n    }\r\n\r\n    @Bean\r\n    public RouteLocator getRouteLocator(RouteLocatorBuilder routeLocatorBuilder){\r\n        return routeLocatorBuilder.routes()\r\n                .route(p -&gt; p\r\n                        .path(&quot;/api/mail/**&quot;)\r\n                        .filters(f -&gt; f.dedupeResponseHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;RETAIN_UNIQUE&quot;))\r\n                        .uri(&quot;http://localhost:8001&quot;))\r\n                .build();\r\n    }\r\n\r\n}\r\n\r\n``` \r\n\r\nMailService controller (running on port 8001):\r\n\r\n```\r\npackage com.smdev.mailservice.controller;\r\n\r\nimport com.smdev.mailservice.model.dto.EmailAddress;\r\nimport com.smdev.mailservice.model.dto.SendMailDTO;\r\nimport com.smdev.mailservice.service.MailService;\r\nimport io.swagger.annotations.Api;\r\nimport io.swagger.annotations.ApiOperation;\r\nimport io.swagger.annotations.ApiResponse;\r\nimport io.swagger.annotations.ApiResponses;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.http.HttpStatus;\r\nimport org.springframework.http.MediaType;\r\nimport org.springframework.http.ResponseEntity;\r\nimport org.springframework.web.bind.annotation.*;\r\n\r\nimport javax.validation.Valid;\r\nimport java.time.LocalDateTime;\r\n\r\n@Api\r\n@RestController\r\n@RequestMapping(&quot;/api/mail&quot;)\r\n@CrossOrigin(origins = &quot;*&quot;, methods = {RequestMethod.POST, RequestMethod.OPTIONS})\r\npublic class MailSendController {\r\n\r\n    private final MailService mailService;\r\n\r\n    @Autowired\r\n    public MailSendController(MailService mailService) {\r\n        this.mailService = mailService;\r\n    }\r\n\r\n    @ApiOperation(value = &quot;Send message from &#39;Contact Us&#39; form&quot;)\r\n    @ApiResponses({\r\n            @ApiResponse(code = 200, message = &quot;E-Mail send successfully&quot;),\r\n            @ApiResponse(code = 400, message = &quot;Invalid data sent&quot;, response = ResponseEntity.class)\r\n    })\r\n    @PostMapping(value = &quot;/feedback&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\r\n    public void feedback(@Valid @RequestBody SendMailDTO sendMailDTO){\r\n        mailService.sendMessage(sendMailDTO, EmailAddress.FEEDBACK);\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nI&#39;m not using any SpringSecurity features beside CORS. When im calling `localhost:8001/api/mail/feedback` manually everything works. But when doing post request to `localhost:8000/api/mail/feedback` from angular FE i&#39;m getting `403 Forbbiden` and also this response: `An expected CSRF token cannot be found`","title":"Forbbiden on microservice mapping call using gateway","body":"<p>I'm using spring cloud gateway to interact with microservices. It runs on port 8000:</p>\n<pre><code>package com.smdev.gatewayservice;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\nimport org.springframework.cloud.gateway.route.RouteLocator;\nimport org.springframework.cloud.gateway.route.builder.RouteLocatorBuilder;\nimport org.springframework.context.annotation.Bean;\n\n@SpringBootApplication\npublic class GatewayServiceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(GatewayServiceApplication.class, args);\n    }\n\n    @Bean\n    public RouteLocator getRouteLocator(RouteLocatorBuilder routeLocatorBuilder){\n        return routeLocatorBuilder.routes()\n                .route(p -&gt; p\n                        .path(&quot;/api/mail/**&quot;)\n                        .filters(f -&gt; f.dedupeResponseHeader(&quot;Access-Control-Allow-Origin&quot;, &quot;RETAIN_UNIQUE&quot;))\n                        .uri(&quot;http://localhost:8001&quot;))\n                .build();\n    }\n\n}\n\n</code></pre>\n<p>MailService controller (running on port 8001):</p>\n<pre><code>package com.smdev.mailservice.controller;\n\nimport com.smdev.mailservice.model.dto.EmailAddress;\nimport com.smdev.mailservice.model.dto.SendMailDTO;\nimport com.smdev.mailservice.service.MailService;\nimport io.swagger.annotations.Api;\nimport io.swagger.annotations.ApiOperation;\nimport io.swagger.annotations.ApiResponse;\nimport io.swagger.annotations.ApiResponses;\nimport org.springframework.beans.factory.annotation.Autowired;\nimport org.springframework.http.HttpStatus;\nimport org.springframework.http.MediaType;\nimport org.springframework.http.ResponseEntity;\nimport org.springframework.web.bind.annotation.*;\n\nimport javax.validation.Valid;\nimport java.time.LocalDateTime;\n\n@Api\n@RestController\n@RequestMapping(&quot;/api/mail&quot;)\n@CrossOrigin(origins = &quot;*&quot;, methods = {RequestMethod.POST, RequestMethod.OPTIONS})\npublic class MailSendController {\n\n    private final MailService mailService;\n\n    @Autowired\n    public MailSendController(MailService mailService) {\n        this.mailService = mailService;\n    }\n\n    @ApiOperation(value = &quot;Send message from 'Contact Us' form&quot;)\n    @ApiResponses({\n            @ApiResponse(code = 200, message = &quot;E-Mail send successfully&quot;),\n            @ApiResponse(code = 400, message = &quot;Invalid data sent&quot;, response = ResponseEntity.class)\n    })\n    @PostMapping(value = &quot;/feedback&quot;, consumes = {MediaType.APPLICATION_JSON_VALUE})\n    public void feedback(@Valid @RequestBody SendMailDTO sendMailDTO){\n        mailService.sendMessage(sendMailDTO, EmailAddress.FEEDBACK);\n    }\n\n}\n\n</code></pre>\n<p>I'm not using any SpringSecurity features beside CORS. When im calling <code>localhost:8001/api/mail/feedback</code> manually everything works. But when doing post request to <code>localhost:8000/api/mail/feedback</code> from angular FE i'm getting <code>403 Forbbiden</code> and also this response: <code>An expected CSRF token cannot be found</code></p>\n"},{"tags":["java","object"],"answers":[{"tags":[],"owner":{"account_id":1251593,"reputation":10353,"user_id":1211906,"display_name":"Marc Baumbach"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633491179,"creation_date":1633491179,"answer_id":69459518,"question_id":69459505,"body_markdown":"You will need an instance of `A` and `B` to pass into the constructor of `C`. Something like this, assuming `A` and `B` have empty constructors:\r\n\r\n```java\r\nA aObj = new A();\r\nB bObj = new B();\r\nC cObj = new C(aObj, bObj);\r\n```\r\n\r\nThe `cObj` object&#39;s `a` and `b` fields will be references to the `aObj` and `bObj` instances that are constructed and passed in.","title":"How to create an object of a class where the constructor takes arguments as objects of other classes","body":"<p>You will need an instance of <code>A</code> and <code>B</code> to pass into the constructor of <code>C</code>. Something like this, assuming <code>A</code> and <code>B</code> have empty constructors:</p>\n<pre class=\"lang-java prettyprint-override\"><code>A aObj = new A();\nB bObj = new B();\nC cObj = new C(aObj, bObj);\n</code></pre>\n<p>The <code>cObj</code> object's <code>a</code> and <code>b</code> fields will be references to the <code>aObj</code> and <code>bObj</code> instances that are constructed and passed in.</p>\n"}],"owner":{"account_id":20532478,"reputation":67,"user_id":15069364,"display_name":"Bean"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":111,"favorite_count":0,"down_vote_count":3,"up_vote_count":1,"closed_date":1633723308,"accepted_answer_id":69459518,"answer_count":1,"score":-2,"last_activity_date":1633785756,"creation_date":1633491073,"question_id":69459505,"body_markdown":"I am a beginner in java. I recently came across this situation.\r\n\r\nSuppose we have a class `C`.\r\n\r\n```java\r\npublic class C {\r\n    C(A a, B b) {\r\n    this.a = a;\r\n    this.b = b;\r\n    }\r\n  A a;\r\n  B b;\r\n\r\n ....\r\n\r\n  }\r\n```\r\n\r\nWhere a, b are objects of classes `A` and `B` respectively.\r\n\r\n```java\r\npublic class A {\r\n ....\r\n  }\r\n```\r\n\r\n```java\r\npublic class B {\r\n ....\r\n  }\r\n```\r\n\r\nSo how do I create an object of type `C` ?","title":"How to create an object of a class where the constructor takes arguments as objects of other classes","body":"<p>I am a beginner in java. I recently came across this situation.</p>\n<p>Suppose we have a class <code>C</code>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class C {\n    C(A a, B b) {\n    this.a = a;\n    this.b = b;\n    }\n  A a;\n  B b;\n\n ....\n\n  }\n</code></pre>\n<p>Where a, b are objects of classes <code>A</code> and <code>B</code> respectively.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class A {\n ....\n  }\n</code></pre>\n<pre class=\"lang-java prettyprint-override\"><code>public class B {\n ....\n  }\n</code></pre>\n<p>So how do I create an object of type <code>C</code> ?</p>\n"},{"tags":["java","pythagorean"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":4,"creation_date":1633783039,"post_id":69506743,"comment_id":122855238,"body_markdown":"Have you considered there could be more than one Pythagorean triple which sums to 408?","body":"Have you considered there could be more than one Pythagorean triple which sums to 408?"}],"answers":[{"tags":[],"owner":{"account_id":22987204,"reputation":16,"user_id":17113237,"display_name":"Amartya Dudhe 50"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633784763,"creation_date":1633784279,"answer_id":69506937,"question_id":69506743,"body_markdown":"There could be more than one solution for this pythagorean triplet,condition,\r\nthe &quot;break&quot; in your second &quot;if&quot; terminates after it reaches lower number i.e 102, it never makes it to 119,\r\n","title":"Find pythagorean triple of a number","body":"<p>There could be more than one solution for this pythagorean triplet,condition,\nthe &quot;break&quot; in your second &quot;if&quot; terminates after it reaches lower number i.e 102, it never makes it to 119,</p>\n"}],"owner":{"account_id":8925232,"reputation":3,"user_id":6660053,"display_name":"parsa.ni"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":106,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69506937,"answer_count":1,"score":0,"last_activity_date":1633784763,"creation_date":1633782606,"question_id":69506743,"body_markdown":"I write a program that find Pythagorean triple of a number. the code is below.\r\n```\r\npublic static void pythagoreanTriplet(int n) {\r\n        int i, j, k, count = 0;\r\n        for (i = 1; i &lt;= n; i++) {\r\n            if (n == i)\r\n                break;\r\n            j = (n * n - 2 * n * i) / (2 * n - 2 * i);\r\n            k = n - i - j;\r\n            if ((i * i + j * j == k * k) &amp;&amp; j &gt; 0 &amp;&amp; k &gt; 0) {\r\n                System.out.println(i + &quot; &quot; + j + &quot; &quot; + k);\r\n                count++;\r\n                break;\r\n            }\r\n        }\r\n        if (count != 1) {\r\n            System.out.println(&quot;Impossible&quot;);\r\n        }\r\n    }\r\n```\r\nThis code works correctly for all numbers except one. if input n = 408, the output should be 119 120 169, but my code output is 102 136 170.","title":"Find pythagorean triple of a number","body":"<p>I write a program that find Pythagorean triple of a number. the code is below.</p>\n<pre><code>public static void pythagoreanTriplet(int n) {\n        int i, j, k, count = 0;\n        for (i = 1; i &lt;= n; i++) {\n            if (n == i)\n                break;\n            j = (n * n - 2 * n * i) / (2 * n - 2 * i);\n            k = n - i - j;\n            if ((i * i + j * j == k * k) &amp;&amp; j &gt; 0 &amp;&amp; k &gt; 0) {\n                System.out.println(i + &quot; &quot; + j + &quot; &quot; + k);\n                count++;\n                break;\n            }\n        }\n        if (count != 1) {\n            System.out.println(&quot;Impossible&quot;);\n        }\n    }\n</code></pre>\n<p>This code works correctly for all numbers except one. if input n = 408, the output should be 119 120 169, but my code output is 102 136 170.</p>\n"},{"tags":["java","spring","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":22987056,"reputation":1,"user_id":17113111,"display_name":"Tds"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633774108,"creation_date":1633774108,"answer_id":69505730,"question_id":69505312,"body_markdown":"I think you should try this:\r\n\r\n          if (field.contains(&quot;cars.&quot;)) {\r\n              ...\r\n          } else {\r\n              filters.get(field).forEach(value -&gt; boolQueryBuilder.should(QueryBuilders.matchPhraseQuery(field, value)).minimumShouldMatch(1));\r\n              queryBuilder.must().add(boolQueryBuilder);\r\n          }","title":"How to programmatically create a filter query in Elasticsearch with filtring in a nested object","body":"<p>I think you should try this:</p>\n<pre><code>      if (field.contains(&quot;cars.&quot;)) {\n          ...\n      } else {\n          filters.get(field).forEach(value -&gt; boolQueryBuilder.should(QueryBuilders.matchPhraseQuery(field, value)).minimumShouldMatch(1));\n          queryBuilder.must().add(boolQueryBuilder);\n      }\n</code></pre>\n"}],"owner":{"account_id":14572046,"reputation":65,"user_id":10525087,"display_name":"A.Cabb"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":384,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633783899,"creation_date":1633770720,"question_id":69505312,"body_markdown":"I am struggling creating a filter query for Elastisearch in Java Spring. I have this Elasticsearch mapping:\r\n\r\n    &quot;mappings&quot;: {\r\n      &quot;properties&quot;: {\r\n        &quot;id&quot;: {&quot;type&quot;: &quot;keyword&quot;},\r\n        &quot;name&quot;: {&quot;type&quot;: &quot;text&quot;},\r\n        &quot;city&quot;: {&quot;type&quot;: &quot;keyword&quot;},\r\n        &quot;cars&quot;: {\r\n          &quot;type&quot;: &quot;nested&quot;,\r\n          &quot;properties&quot;: {\r\n            &quot;id&quot;: {&quot;type&quot;: &quot;long&quot;},\r\n            &quot;brand&quot;: {&quot;type&quot;: &quot;text&quot;},\r\n            &quot;category&quot;: {&quot;type&quot;: &quot;text&quot;}\r\n          }\r\n       }\r\n    }\r\n\r\nData in Elasticsearch looks like this:\r\n\r\n    [\r\n       {\r\n          &quot;id&quot;: 1,\r\n          &quot;name&quot;: &quot;Car seller 1&quot;,\r\n          &quot;city&quot;: &quot;Detroit&quot;,\r\n          &quot;cars&quot;: [\r\n             {&quot;id&quot;: 1, &quot;brand&quot;: &quot;bmw&quot;, &quot;category&quot;: &quot;suv&quot;},\r\n             {&quot;id&quot;: 2, &quot;brand&quot;: &quot;bmw&quot;, &quot;category&quot;: &quot;sedan&quot;},\r\n             {&quot;id&quot;: 3, &quot;brand&quot;: &quot;bmw&quot;, &quot;category&quot;: &quot;hatchback&quot;}\r\n          ]\r\n       },\r\n       {\r\n          &quot;id&quot;: 2,\r\n          &quot;name&quot;: &quot;Car seller 2&quot;,\r\n          &quot;city&quot;: &quot;Detroit&quot;,\r\n          &quot;cars&quot;: [\r\n             {&quot;id&quot;: 1, &quot;brand&quot;: &quot;vw&quot;, &quot;category&quot;: &quot;suv&quot;},\r\n             {&quot;id&quot;: 2, &quot;brand&quot;: &quot;vw&quot;, &quot;category&quot;: &quot;sedan&quot;},\r\n             {&quot;id&quot;: 3, &quot;brand&quot;: &quot;vw&quot;, &quot;category&quot;: &quot;suv&quot;}\r\n          ]\r\n       },\r\n       {\r\n          &quot;id&quot;: 3,\r\n          &quot;name&quot;: &quot;Car seller 3&quot;,\r\n          &quot;city&quot;: &quot;Las Vegas&quot;,\r\n          &quot;cars&quot;: [\r\n             {&quot;id&quot;: 1, &quot;brand&quot;: &quot;ford&quot;, &quot;category&quot;: &quot;suv&quot;},\r\n             {&quot;id&quot;: 2, &quot;brand&quot;: &quot;ford&quot;, &quot;category&quot;: &quot;sedan&quot;},\r\n             {&quot;id&quot;: 3, &quot;brand&quot;: &quot;ford&quot;, &quot;category&quot;: &quot;hatchback&quot;}\r\n          ]\r\n       }\r\n    ]\r\n\r\nNow, let&#39;s say that from my FE will came an request to search documents by some filters:\r\n\r\n     1. city: [&quot;Detroit&quot;]\r\n     2. cars.category: [&quot;suv&quot;]\r\n\r\nWhat I want to achieve is a filter query that will return documents of sellers, but only with cars that match the filter (if there is such a filter).\r\n\r\nFor example, for mentioned filters query should return this:\r\n\r\n    [\r\n       {\r\n          &quot;id&quot;: 1,\r\n          &quot;name&quot;: &quot;Car seller 1&quot;,\r\n          &quot;city&quot;: &quot;Detroit&quot;,\r\n          &quot;cars&quot;: [\r\n             {&quot;id&quot;: 1, &quot;brand&quot;: &quot;bmw&quot;, &quot;category&quot;: &quot;suv&quot;}\r\n          ]\r\n       },\r\n       {\r\n          &quot;id&quot;: 2,\r\n          &quot;name&quot;: &quot;Car seller 2&quot;,\r\n          &quot;city&quot;: &quot;Detroit&quot;,\r\n          &quot;cars&quot;: [\r\n             {&quot;id&quot;: 1, &quot;brand&quot;: &quot;vw&quot;, &quot;category&quot;: &quot;suv&quot;},\r\n             {&quot;id&quot;: 3, &quot;brand&quot;: &quot;vw&quot;, &quot;category&quot;: &quot;suv&quot;}\r\n          ]\r\n       }\r\n    ]\r\n\r\nSo far, I was able to create query with java builders provided by Elastic, which can filter documents properly, but it returning all seller&#180;s cars.\r\n\r\n        public Flux&lt;Seller&gt; filterSearch(Map&lt;String, List&lt;String&gt;&gt; filters) {\r\n\r\n          List&lt;String&gt; listOfFields = new ArrayList&lt;&gt;(filters.keySet());\r\n          BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery();\r\n\r\n          listOfFields.forEach(field -&gt; {\r\n              BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\r\n\r\n              if (field.contains(&quot;cars.&quot;)) {\r\n                  filters.get(field).forEach(value -&gt; boolQueryBuilder.should(QueryBuilders.termQuery(field, value)));\r\n                  boolQueryBuilder.minimumShouldMatch(1);\r\n                  NestedQueryBuilder nestedQueryBuilder = new NestedQueryBuilder(&quot;cars&quot;, boolQueryBuilder, NestedQueryBuilder.parseScoreMode(&quot;none&quot;));\r\n                  nestedQueryBuilder.innerHit(new InnerHitBuilder());\r\n                  queryBuilder.must().add(nestedQueryBuilder);\r\n              } else {\r\n                  filters.get(field).forEach(value -&gt; boolQueryBuilder.should(QueryBuilders.matchPhraseQuery(field, value)));\r\n                  queryBuilder.must().add(boolQueryBuilder);\r\n              }\r\n          });\r\n\r\n          return executeSearchQuery(queryBuilder);\r\n       }\r\n\r\nThanks for your help.","title":"How to programmatically create a filter query in Elasticsearch with filtring in a nested object","body":"<p>I am struggling creating a filter query for Elastisearch in Java Spring. I have this Elasticsearch mapping:</p>\n<pre><code>&quot;mappings&quot;: {\n  &quot;properties&quot;: {\n    &quot;id&quot;: {&quot;type&quot;: &quot;keyword&quot;},\n    &quot;name&quot;: {&quot;type&quot;: &quot;text&quot;},\n    &quot;city&quot;: {&quot;type&quot;: &quot;keyword&quot;},\n    &quot;cars&quot;: {\n      &quot;type&quot;: &quot;nested&quot;,\n      &quot;properties&quot;: {\n        &quot;id&quot;: {&quot;type&quot;: &quot;long&quot;},\n        &quot;brand&quot;: {&quot;type&quot;: &quot;text&quot;},\n        &quot;category&quot;: {&quot;type&quot;: &quot;text&quot;}\n      }\n   }\n}\n</code></pre>\n<p>Data in Elasticsearch looks like this:</p>\n<pre><code>[\n   {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;Car seller 1&quot;,\n      &quot;city&quot;: &quot;Detroit&quot;,\n      &quot;cars&quot;: [\n         {&quot;id&quot;: 1, &quot;brand&quot;: &quot;bmw&quot;, &quot;category&quot;: &quot;suv&quot;},\n         {&quot;id&quot;: 2, &quot;brand&quot;: &quot;bmw&quot;, &quot;category&quot;: &quot;sedan&quot;},\n         {&quot;id&quot;: 3, &quot;brand&quot;: &quot;bmw&quot;, &quot;category&quot;: &quot;hatchback&quot;}\n      ]\n   },\n   {\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;Car seller 2&quot;,\n      &quot;city&quot;: &quot;Detroit&quot;,\n      &quot;cars&quot;: [\n         {&quot;id&quot;: 1, &quot;brand&quot;: &quot;vw&quot;, &quot;category&quot;: &quot;suv&quot;},\n         {&quot;id&quot;: 2, &quot;brand&quot;: &quot;vw&quot;, &quot;category&quot;: &quot;sedan&quot;},\n         {&quot;id&quot;: 3, &quot;brand&quot;: &quot;vw&quot;, &quot;category&quot;: &quot;suv&quot;}\n      ]\n   },\n   {\n      &quot;id&quot;: 3,\n      &quot;name&quot;: &quot;Car seller 3&quot;,\n      &quot;city&quot;: &quot;Las Vegas&quot;,\n      &quot;cars&quot;: [\n         {&quot;id&quot;: 1, &quot;brand&quot;: &quot;ford&quot;, &quot;category&quot;: &quot;suv&quot;},\n         {&quot;id&quot;: 2, &quot;brand&quot;: &quot;ford&quot;, &quot;category&quot;: &quot;sedan&quot;},\n         {&quot;id&quot;: 3, &quot;brand&quot;: &quot;ford&quot;, &quot;category&quot;: &quot;hatchback&quot;}\n      ]\n   }\n]\n</code></pre>\n<p>Now, let's say that from my FE will came an request to search documents by some filters:</p>\n<pre><code> 1. city: [&quot;Detroit&quot;]\n 2. cars.category: [&quot;suv&quot;]\n</code></pre>\n<p>What I want to achieve is a filter query that will return documents of sellers, but only with cars that match the filter (if there is such a filter).</p>\n<p>For example, for mentioned filters query should return this:</p>\n<pre><code>[\n   {\n      &quot;id&quot;: 1,\n      &quot;name&quot;: &quot;Car seller 1&quot;,\n      &quot;city&quot;: &quot;Detroit&quot;,\n      &quot;cars&quot;: [\n         {&quot;id&quot;: 1, &quot;brand&quot;: &quot;bmw&quot;, &quot;category&quot;: &quot;suv&quot;}\n      ]\n   },\n   {\n      &quot;id&quot;: 2,\n      &quot;name&quot;: &quot;Car seller 2&quot;,\n      &quot;city&quot;: &quot;Detroit&quot;,\n      &quot;cars&quot;: [\n         {&quot;id&quot;: 1, &quot;brand&quot;: &quot;vw&quot;, &quot;category&quot;: &quot;suv&quot;},\n         {&quot;id&quot;: 3, &quot;brand&quot;: &quot;vw&quot;, &quot;category&quot;: &quot;suv&quot;}\n      ]\n   }\n]\n</code></pre>\n<p>So far, I was able to create query with java builders provided by Elastic, which can filter documents properly, but it returning all seller´s cars.</p>\n<pre><code>    public Flux&lt;Seller&gt; filterSearch(Map&lt;String, List&lt;String&gt;&gt; filters) {\n\n      List&lt;String&gt; listOfFields = new ArrayList&lt;&gt;(filters.keySet());\n      BoolQueryBuilder queryBuilder = QueryBuilders.boolQuery();\n\n      listOfFields.forEach(field -&gt; {\n          BoolQueryBuilder boolQueryBuilder = QueryBuilders.boolQuery();\n\n          if (field.contains(&quot;cars.&quot;)) {\n              filters.get(field).forEach(value -&gt; boolQueryBuilder.should(QueryBuilders.termQuery(field, value)));\n              boolQueryBuilder.minimumShouldMatch(1);\n              NestedQueryBuilder nestedQueryBuilder = new NestedQueryBuilder(&quot;cars&quot;, boolQueryBuilder, NestedQueryBuilder.parseScoreMode(&quot;none&quot;));\n              nestedQueryBuilder.innerHit(new InnerHitBuilder());\n              queryBuilder.must().add(nestedQueryBuilder);\n          } else {\n              filters.get(field).forEach(value -&gt; boolQueryBuilder.should(QueryBuilders.matchPhraseQuery(field, value)));\n              queryBuilder.must().add(boolQueryBuilder);\n          }\n      });\n\n      return executeSearchQuery(queryBuilder);\n   }\n</code></pre>\n<p>Thanks for your help.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1633506610,"post_id":69456488,"comment_id":122774544,"body_markdown":"I’m voting to close this question because its very similar to the OP previous question https://stackoverflow.com/questions/69420504/is-there-a-faster-way-to-split-results-into-multiple-files","body":"I’m voting to close this question because its very similar to the OP previous question <a href=\"https://stackoverflow.com/questions/69420504/is-there-a-faster-way-to-split-results-into-multiple-files\" title=\"is there a faster way to split results into multiple files\">stackoverflow.com/questions/69420504/&hellip;</a>"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1633506779,"post_id":69456488,"comment_id":122774611,"body_markdown":"There is no need to redirect System.out with `setOut`. Use `bw` directly to the FileOutputStream and call `bw.close()` not flush - this should ensure last file you opened was completed before opening the next one.","body":"There is no need to redirect System.out with <code>setOut</code>. Use <code>bw</code> directly to the FileOutputStream and call <code>bw.close()</code> not flush - this should ensure last file you opened was completed before opening the next one."},{"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"score":0,"creation_date":1633534342,"post_id":69456488,"comment_id":122786578,"body_markdown":"Are these the changes to be done?        `if (count[0] % 1048575 == 0)\n                        {\n                                bw.close();\n                                g[0]++;\n                                bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(new File(&quot;Combinations - &quot; + g[0] + &quot;.txt&quot;))));\n                        }`.        Unfortunately, there is an error message regarding `bw`: &quot;assigned value is never used&quot;. How could this problem be solved?","body":"Are these the changes to be done?        <code>if (count[0] % 1048575 == 0)                         {                                 bw.close();                                 g[0]++;                                 bw = new BufferedWriter(new OutputStreamWriter(new FileOutputStream(new File(&quot;Combinations - &quot; + g[0] + &quot;.txt&quot;))));                         }</code>.        Unfortunately, there is an error message regarding <code>bw</code>: &quot;assigned value is never used&quot;. How could this problem be solved?"},{"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"score":0,"creation_date":1633537434,"post_id":69456488,"comment_id":122787886,"body_markdown":"Edit your question with proper formatted code, I will post answer to help you on the right track.","body":"Edit your question with proper formatted code, I will post answer to help you on the right track."}],"answers":[{"tags":[],"owner":{"account_id":5998820,"reputation":12666,"user_id":4712734,"display_name":"DuncG"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633537816,"creation_date":1633537816,"answer_id":69469407,"question_id":69456488,"body_markdown":"Your issue is related to fact that `bw` changes inside the recursive calls to `combinationUtil`, but the caller does not see the new `bw` - so once out of one invocation, the caller has reference to the old `bw` file and this is probably why everything ended up in the first file you opened.\r\n\r\nOne way to fix would be to return `bw` from `combinationUtil()` so the latest value of the buffered writer is always used at every level, and every call must re-assign back to the methods local variable:\r\n\r\n    bw = combinationUtil( ... , bw, ...) \r\n\r\nHowever your code is a over complex: several of the parameters for combinationUtil are just global variables. I suggest you refactor so that you kick off the run with:\r\n\r\n     NumberCombination2 combos = new NumberCombination2();\r\n     combos.printCombination(arr, n, r);\r\n\r\n... and add bw / g/ count as `NumberCombination2` instance variables, reduce arguments to methods `combinationUtil` / `printCombination` and make them non-static:\r\n\r\n    BufferedWriter bw;\r\n    long g;\r\n    int count;\r\n\r\nFinally, always set up well defined file handling in one place (not in main and combinationUtil). Say add newFile / close which you call in one place BEFORE the first line bw.write:\r\n\r\n    combinationUtil( ... ) {\r\n        if ((++count % 1048575 == 0) || bw == null)\r\n            newFile();\r\n        for (int j = 0; j &lt; r; j++)\r\n            bw.write(data[j] + &quot;;&quot;);\r\n        ...\r\n    }\r\n\r\n    void close() throws IOException {\r\n        if (bw != null)\r\n            bw.close();\r\n    }\r\n    void newFile() throws IOException {\r\n        close();\r\n        Path file = Path.of(&quot;Combinations - &quot; + (++g) + &quot;.txt&quot;);\r\n        System.out.println(&quot;Writing to: &quot;+file);\r\n        bw = Files.newBufferedWriter(file);\r\n    }\r\n\r\nRemember to add `close();` to printCombination so that all file handling is complete.","title":"How to create a new file everytime the output buffer is flushed?","body":"<p>Your issue is related to fact that <code>bw</code> changes inside the recursive calls to <code>combinationUtil</code>, but the caller does not see the new <code>bw</code> - so once out of one invocation, the caller has reference to the old <code>bw</code> file and this is probably why everything ended up in the first file you opened.</p>\n<p>One way to fix would be to return <code>bw</code> from <code>combinationUtil()</code> so the latest value of the buffered writer is always used at every level, and every call must re-assign back to the methods local variable:</p>\n<pre><code>bw = combinationUtil( ... , bw, ...) \n</code></pre>\n<p>However your code is a over complex: several of the parameters for combinationUtil are just global variables. I suggest you refactor so that you kick off the run with:</p>\n<pre><code> NumberCombination2 combos = new NumberCombination2();\n combos.printCombination(arr, n, r);\n</code></pre>\n<p>... and add bw / g/ count as <code>NumberCombination2</code> instance variables, reduce arguments to methods <code>combinationUtil</code> / <code>printCombination</code> and make them non-static:</p>\n<pre><code>BufferedWriter bw;\nlong g;\nint count;\n</code></pre>\n<p>Finally, always set up well defined file handling in one place (not in main and combinationUtil). Say add newFile / close which you call in one place BEFORE the first line bw.write:</p>\n<pre><code>combinationUtil( ... ) {\n    if ((++count % 1048575 == 0) || bw == null)\n        newFile();\n    for (int j = 0; j &lt; r; j++)\n        bw.write(data[j] + &quot;;&quot;);\n    ...\n}\n\nvoid close() throws IOException {\n    if (bw != null)\n        bw.close();\n}\nvoid newFile() throws IOException {\n    close();\n    Path file = Path.of(&quot;Combinations - &quot; + (++g) + &quot;.txt&quot;);\n    System.out.println(&quot;Writing to: &quot;+file);\n    bw = Files.newBufferedWriter(file);\n}\n</code></pre>\n<p>Remember to add <code>close();</code> to printCombination so that all file handling is complete.</p>\n"}],"owner":{"account_id":14133183,"reputation":45,"user_id":10210571,"display_name":"JOAO12"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":130,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"accepted_answer_id":69469407,"answer_count":1,"score":-1,"last_activity_date":1633783001,"creation_date":1633463524,"question_id":69456488,"body_markdown":"The below code generates all possible combinations of 14 elements in a given array with 26 elements (total of 9,657,700 combinations).\r\n\r\nI need to flush the buffer everytime it reaches 1,048,575 lines, creating a new file.\r\n\r\nAlthough it creates a few files, only the first one is filled with the combinations generated (all 9,657,700 combinations).\r\n\r\nWhat should be done so that all files are filled with 1,048,575 combinations each?\r\n\r\nThanks.\r\n\r\n    package numbercombination2;\r\n    import java.io.*;\r\n\r\n    class NumberCombination2 {\r\n\r\n        static void combinationUtil(int arr[], int data[], int start,\r\n                            int end, int index, int r, long[] g, BufferedWriter bw, int[] count) throws FileNotFoundException, IOException {\r\n            if (index == r) {\r\n                \r\n                for (int j=0; j&lt;r; j++)\r\n                    bw.write(data[j]+&quot;;&quot;);\r\n                    bw.newLine();\r\n                    count[0]++;\r\n\r\n                //*=====&gt; Is it possible to create a new file everytime the output buffer is flushed?\r\n                if (count[0] % 1048575 == 0) {\r\n                    bw.flush();\r\n                    g[0]++;\r\n                    System.setOut(new PrintStream(new FileOutputStream(&quot;Combinations - &quot; + g[0] + &quot;.txt&quot;)));\r\n                    bw = new BufferedWriter(new OutputStreamWriter(System.out));\r\n                }\r\n\r\n                return;\r\n            }\r\n\r\n            for (int i=start; i&lt;=end &amp;&amp; end-i+1 &gt;= r-index; i++) {\r\n                data[index] = arr[i];\r\n                combinationUtil(arr, data, i+1, end, index+1, r, g, bw, count);\r\n            }\r\n        }\r\n\r\n        static void printCombination(int arr[], int n, int r, long[] g, BufferedWriter bw, int[] count) throws FileNotFoundException, IOException {\r\n        \r\n            int data[]=new int[r];\r\n            combinationUtil(arr, data, 0, n-1, 0, r, g, bw, count);\r\n        }\r\n\r\n        public static void main (String[] args)  throws FileNotFoundException, IOException {\r\n            int arr[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26};\r\n            int r = 14;\r\n            int n = arr.length;\r\n\r\n            long[] g = new long[1];\r\n            g[0]++;\r\n            System.setOut(new PrintStream(new FileOutputStream(&quot;Combinations - &quot; + g[0] + &quot;.txt&quot;)));\r\n            BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));\r\n            int[] count = new int[]{0}; //for counting total amount of all combination numbers\r\n\r\n            printCombination(arr, n, r, g, bw, count);\r\n        }\r\n    }","title":"How to create a new file everytime the output buffer is flushed?","body":"<p>The below code generates all possible combinations of 14 elements in a given array with 26 elements (total of 9,657,700 combinations).</p>\n<p>I need to flush the buffer everytime it reaches 1,048,575 lines, creating a new file.</p>\n<p>Although it creates a few files, only the first one is filled with the combinations generated (all 9,657,700 combinations).</p>\n<p>What should be done so that all files are filled with 1,048,575 combinations each?</p>\n<p>Thanks.</p>\n<pre><code>package numbercombination2;\nimport java.io.*;\n\nclass NumberCombination2 {\n\n    static void combinationUtil(int arr[], int data[], int start,\n                        int end, int index, int r, long[] g, BufferedWriter bw, int[] count) throws FileNotFoundException, IOException {\n        if (index == r) {\n            \n            for (int j=0; j&lt;r; j++)\n                bw.write(data[j]+&quot;;&quot;);\n                bw.newLine();\n                count[0]++;\n\n            //*=====&gt; Is it possible to create a new file everytime the output buffer is flushed?\n            if (count[0] % 1048575 == 0) {\n                bw.flush();\n                g[0]++;\n                System.setOut(new PrintStream(new FileOutputStream(&quot;Combinations - &quot; + g[0] + &quot;.txt&quot;)));\n                bw = new BufferedWriter(new OutputStreamWriter(System.out));\n            }\n\n            return;\n        }\n\n        for (int i=start; i&lt;=end &amp;&amp; end-i+1 &gt;= r-index; i++) {\n            data[index] = arr[i];\n            combinationUtil(arr, data, i+1, end, index+1, r, g, bw, count);\n        }\n    }\n\n    static void printCombination(int arr[], int n, int r, long[] g, BufferedWriter bw, int[] count) throws FileNotFoundException, IOException {\n    \n        int data[]=new int[r];\n        combinationUtil(arr, data, 0, n-1, 0, r, g, bw, count);\n    }\n\n    public static void main (String[] args)  throws FileNotFoundException, IOException {\n        int arr[] = {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26};\n        int r = 14;\n        int n = arr.length;\n\n        long[] g = new long[1];\n        g[0]++;\n        System.setOut(new PrintStream(new FileOutputStream(&quot;Combinations - &quot; + g[0] + &quot;.txt&quot;)));\n        BufferedWriter bw = new BufferedWriter(new OutputStreamWriter(System.out));\n        int[] count = new int[]{0}; //for counting total amount of all combination numbers\n\n        printCombination(arr, n, r, g, bw, count);\n    }\n}\n</code></pre>\n"},{"tags":["java","trie"],"comments":[{"owner":{"account_id":353880,"reputation":10782,"user_id":691859,"accept_rate":95,"display_name":"2rs2ts"},"score":0,"creation_date":1396292424,"post_id":22769832,"comment_id":34713506,"body_markdown":"Are you trying to measure [the size of your data structure in memory](http://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object)?","body":"Are you trying to measure <a href=\"http://stackoverflow.com/questions/52353/in-java-what-is-the-best-way-to-determine-the-size-of-an-object\">the size of your data structure in memory</a>?"},{"owner":{"account_id":18399,"reputation":38994,"user_id":42126,"accept_rate":100,"display_name":"kdgregory"},"score":1,"creation_date":1396304259,"post_id":22769832,"comment_id":34719853,"body_markdown":"Depending on your trie implementation, it&#39;s possible that it would take 1G for a million entries. But since you don&#39;t show any code, it would be impossible for anyone to give you an an analysis. Alternatively, you could take a heap dump and add together the pieces that belong to your trie. Instructions for getting a heap dump are [here](http://www.kdgregory.com/index.php?page=java.outOfMemory#heapDumps).","body":"Depending on your trie implementation, it&#39;s possible that it would take 1G for a million entries. But since you don&#39;t show any code, it would be impossible for anyone to give you an an analysis. Alternatively, you could take a heap dump and add together the pieces that belong to your trie. Instructions for getting a heap dump are <a href=\"http://www.kdgregory.com/index.php?page=java.outOfMemory#heapDumps\" rel=\"nofollow noreferrer\">here</a>."}],"answers":[{"tags":[],"owner":{"account_id":3579869,"reputation":530,"user_id":2988333,"display_name":"Sri777"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1396293052,"creation_date":1396293052,"answer_id":22770129,"question_id":22769832,"body_markdown":"Did you try the &quot;jps&quot; tool which is provided by Oracle in Java SDK? You can find this in JavaSDK/bin folder. Its a great tool for performance checking and even memory usage. ","title":"How to measure memory usage of a data structure?","body":"<p>Did you try the \"jps\" tool which is provided by Oracle in Java SDK? You can find this in JavaSDK/bin folder. Its a great tool for performance checking and even memory usage. </p>\n"},{"tags":[],"owner":{"account_id":1652887,"reputation":2038,"user_id":1523115,"display_name":"Hannes"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1396293632,"creation_date":1396293632,"answer_id":22770300,"question_id":22769832,"body_markdown":"The short answer is: you can&#39;t. \r\nThe long answer is: you can calculate the size of objects in memory by repeating the differential memory analysis calling GC multiple times before and after the tests. But even then only a very large numbers or round can approximate the real size. You need a warmup phase first and even if it all seams to work just smoothly, you can get stuck with jit and other optimizations, you were not aware of.\r\n\r\nIn general it&#39;s a good rule of thumb to count the amount of objects you use.\r\n\r\nIf your tree implementation uses objects as structure representing the data, it is quite possible that your memory consumption is high, compared to a map.\r\n\r\nIf you have wast amount of data a map might become slow because of collisions.\r\n\r\nA common approach is to optimize later in case optimization is needed.","title":"How to measure memory usage of a data structure?","body":"<p>The short answer is: you can't. \nThe long answer is: you can calculate the size of objects in memory by repeating the differential memory analysis calling GC multiple times before and after the tests. But even then only a very large numbers or round can approximate the real size. You need a warmup phase first and even if it all seams to work just smoothly, you can get stuck with jit and other optimizations, you were not aware of.</p>\n\n<p>In general it's a good rule of thumb to count the amount of objects you use.</p>\n\n<p>If your tree implementation uses objects as structure representing the data, it is quite possible that your memory consumption is high, compared to a map.</p>\n\n<p>If you have wast amount of data a map might become slow because of collisions.</p>\n\n<p>A common approach is to optimize later in case optimization is needed.</p>\n"}],"owner":{"account_id":357630,"reputation":10123,"user_id":697911,"accept_rate":53,"display_name":"user697911"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1650,"favorite_count":0,"down_vote_count":2,"up_vote_count":2,"closed_date":1634052076,"answer_count":2,"score":0,"last_activity_date":1633782984,"creation_date":1396291997,"question_id":22769832,"body_markdown":"I am comparing a Trie with a HashMap storing English words, over 1 million. After the data is loaded, only lookup is performed. I am writing code to test both speed and memory. The speed seems easy to measure, simply recording the system time before and after the testing code.\r\n\r\nWhat&#39;s the way to measure the memory usage of an object? In this case, it&#39;s either a Trie and HashMap. I watched the system performance monitor and tested in Eclipse. The OS performance monitor shows over 1G memory is used after my testing program is launched. I doubt the fact that storing the data needs so much memory. \r\n\r\nAlso, on my Windows machine, it shows that memory usage keeps rising throughout the testing time. This shouldn&#39;t happen, since the initial loading time of the data is short. And after that, during the lookup phrase, there shouldn&#39;t be any more additional memory consumption, since no new objects are created.  On linux, the memory usage seems more stable, though it also increased some.\r\n\r\nWould you please share some thoughts on this? Thanks a lot. ","title":"How to measure memory usage of a data structure?","body":"<p>I am comparing a Trie with a HashMap storing English words, over 1 million. After the data is loaded, only lookup is performed. I am writing code to test both speed and memory. The speed seems easy to measure, simply recording the system time before and after the testing code.</p>\n\n<p>What's the way to measure the memory usage of an object? In this case, it's either a Trie and HashMap. I watched the system performance monitor and tested in Eclipse. The OS performance monitor shows over 1G memory is used after my testing program is launched. I doubt the fact that storing the data needs so much memory. </p>\n\n<p>Also, on my Windows machine, it shows that memory usage keeps rising throughout the testing time. This shouldn't happen, since the initial loading time of the data is short. And after that, during the lookup phrase, there shouldn't be any more additional memory consumption, since no new objects are created.  On linux, the memory usage seems more stable, though it also increased some.</p>\n\n<p>Would you please share some thoughts on this? Thanks a lot. </p>\n"},{"tags":["java","android","stripe-payments"],"comments":[{"owner":{"display_name":"user2711811"},"score":0,"creation_date":1633782563,"post_id":69506724,"comment_id":122855147,"body_markdown":"In `new PaymentSheet.CustomerConfiguration()` - one of the two parameters you provided is null and cannot be.  (Likely the `customerId` parameter).  It is not set until the json returns (which is asynchronous) so you&#39;ll need to ensure it is set before calling `presentPaymentSheet`&#39;.","body":"In <code>new PaymentSheet.CustomerConfiguration()</code> - one of the two parameters you provided is null and cannot be.  (Likely the <code>customerId</code> parameter).  It is not set until the json returns (which is asynchronous) so you&#39;ll need to ensure it is set before calling <code>presentPaymentSheet</code>&#39;."},{"owner":{"account_id":4663157,"reputation":15204,"user_id":3776927,"display_name":"derpirscher"},"score":0,"creation_date":1633782723,"post_id":69506724,"comment_id":122855181,"body_markdown":"Where do you define and initialize the `customerId`? Seems it&#39;s `null` when you create a `new PaymentSheet.CustomerConfiguration()`","body":"Where do you define and initialize the <code>customerId</code>? Seems it&#39;s <code>null</code> when you create a <code>new PaymentSheet.CustomerConfiguration()</code>"},{"owner":{"account_id":180055,"reputation":75792,"user_id":413127,"accept_rate":96,"display_name":"Blundell"},"score":0,"creation_date":1633786229,"post_id":69506724,"comment_id":122855863,"body_markdown":"`Log` out your JSON to see what values you have before passing them on","body":"<code>Log</code> out your JSON to see what values you have before passing them on"},{"owner":{"account_id":8003851,"reputation":1,"user_id":6037717,"display_name":"Kevin Ngoh"},"score":0,"creation_date":1636778858,"post_id":69506724,"comment_id":123653777,"body_markdown":"I assumed that a customer id is created each when the user uses the app for the first time and if it&#39;s an existing user, the app is able to pull that value","body":"I assumed that a customer id is created each when the user uses the app for the first time and if it&#39;s an existing user, the app is able to pull that value"}],"owner":{"account_id":8003851,"reputation":1,"user_id":6037717,"display_name":"Kevin Ngoh"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1740,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633782475,"creation_date":1633782390,"question_id":69506724,"body_markdown":"I&#39;m trying to integrate Stripe with my Android app (Java). When I try to run the payment sheet, each time the same error repeats and it gives me non-null null error. A week before, it was working completely fine and it occasionally decides to throw me this error. My the code below is pretty much identical to what is provided on the stripe documentation and yet it still produces the error below.\r\n\r\n    @Override\r\n    protected void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_stripe);\r\n\r\n        PaymentConfiguration.init(\r\n                getApplicationContext(),\r\n                STRIPE_PUBLISHABLE_KEY\r\n        );\r\n\r\n        dollarAmount = findViewById(R.id.dollarAmount);\r\n        buyButton = findViewById(R.id.payButton);\r\n\r\n        buyButton.setEnabled(true);\r\n\r\n        PaymentConfiguration.init(this, STRIPE_PUBLISHABLE_KEY);\r\n\r\n        paymentSheet = new PaymentSheet(this, result -&gt; {\r\n            onPaymentSheetResult(result);\r\n        });\r\n\r\n        buyButton.setOnClickListener(v -&gt; presentPaymentSheet());\r\n\r\n        fetchInitData();\r\n\r\n    }\r\n\r\n    private void fetchInitData() {\r\n        // Pass in the value here to send to server to charge the right amount\r\n        final String requestJson = &quot;{}&quot;;\r\n        Double price = Double.valueOf(getIntent().getStringExtra(&quot;amount&quot;));\r\n        double amount = price;\r\n        Map&lt;String, Object&gt; payMap = new HashMap&lt;&gt;();\r\n        Map&lt;String, Object&gt; itemMap = new HashMap&lt;&gt;();\r\n        List&lt;Map&lt;String, Object&gt;&gt; itemList = new ArrayList&lt;&gt;();\r\n        payMap.put(&quot;currency&quot;, &quot;aud&quot;);\r\n        itemMap.put(&quot;id&quot;, &quot;photo_subscription&quot;);\r\n        itemMap.put(&quot;amount&quot;, amount);\r\n        itemList.add(itemMap);\r\n        payMap.put(&quot;items&quot;, itemList);\r\n        String json = new Gson().toJson(payMap);\r\n        final RequestBody requestBody = RequestBody.create(\r\n                json,\r\n                MediaType.get(&quot;application/json; charset=utf-8&quot;)\r\n        );\r\n\r\n        final Request request = new Request.Builder()\r\n                .url(BACKEND_URL + &quot;payment-sheet&quot;)\r\n                .post(requestBody)\r\n                .build();\r\n\r\n        new OkHttpClient()\r\n                .newCall(request)\r\n                .enqueue(new Callback() {\r\n                    @Override\r\n                    public void onFailure(@NotNull Call call, @NotNull IOException e) {\r\n                        // Handle failure\r\n                    }\r\n\r\n                    @Override\r\n                    public void onResponse(\r\n                            @NotNull Call call,\r\n                            @NotNull Response response\r\n                    ) throws IOException {\r\n                        if (!response.isSuccessful()) {\r\n                            // Handle failure\r\n                        } else {\r\n                            final JSONObject responseJson = parseResponse(response.body());\r\n\r\n                            paymentIntentClientSecret = responseJson.optString(&quot;paymentIntent&quot;);\r\n                            customerId = responseJson.optString(&quot;customer&quot;);\r\n                            ephemeralKeySecret = responseJson.optString(&quot;ephemeralKey&quot;);\r\n\r\n                            runOnUiThread(() -&gt; buyButton.setEnabled(true));\r\n                        }\r\n                    }\r\n                });\r\n    }\r\n\r\n    private JSONObject parseResponse(ResponseBody responseBody) {\r\n        if (responseBody != null) {\r\n            try {\r\n                return new JSONObject(responseBody.string());\r\n            } catch (IOException | JSONException e) {\r\n                Log.e(&quot;App&quot;, &quot;Error parsing response&quot;, e);\r\n            }\r\n        }\r\n        return new JSONObject();\r\n    }\r\n\r\n    private void presentPaymentSheet() {\r\n        paymentSheet.presentWithPaymentIntent(\r\n                paymentIntentClientSecret,\r\n                new PaymentSheet.Configuration(\r\n                        &quot;Scarlett Saturdays&quot;,\r\n                        new PaymentSheet.CustomerConfiguration(\r\n                                customerId,\r\n                                ephemeralKeySecret\r\n                        )\r\n                )\r\n        );\r\n    }\r\n\r\nThis is the error I get: \r\n\r\n    E/AndroidRuntime: FATAL EXCEPTION: main\r\n    Process: com.example.gwagon, PID: 6495\r\n    java.lang.NullPointerException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkNotNullParameter, parameter id\r\n        at com.stripe.android.paymentsheet.PaymentSheet$CustomerConfiguration.&lt;init&gt;(Unknown Source:2)\r\n        at com.example.gwagon.StripePayment.presentPaymentSheet(StripePayment.java:166)\r\n        at com.example.gwagon.StripePayment.lambda$onCreate$1$StripePayment(StripePayment.java:96)\r\n        at com.example.gwagon.-$$Lambda$StripePayment$xmpk3Z54kFvY_T74VYWd7R8Sd2s.onClick(Unknown Source:2)\r\n        at android.view.View.performClick(View.java:7448)\r\n        at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\r\n        at android.view.View.performClickInternal(View.java:7425)\r\n        at android.view.View.access$3600(View.java:810)\r\n        at android.view.View$PerformClick.run(View.java:28305)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loop(Looper.java:223)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7656)\r\n        at java.lang.reflect.Method.invoke(Native Method)\r\n        at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\r\n\r\nIt was working completely fine one day and all of a sudden it stopped working. ","title":"java.lang.NullPointerException: Parameter specified as non-null is null","body":"<p>I'm trying to integrate Stripe with my Android app (Java). When I try to run the payment sheet, each time the same error repeats and it gives me non-null null error. A week before, it was working completely fine and it occasionally decides to throw me this error. My the code below is pretty much identical to what is provided on the stripe documentation and yet it still produces the error below.</p>\n<pre><code>@Override\nprotected void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_stripe);\n\n    PaymentConfiguration.init(\n            getApplicationContext(),\n            STRIPE_PUBLISHABLE_KEY\n    );\n\n    dollarAmount = findViewById(R.id.dollarAmount);\n    buyButton = findViewById(R.id.payButton);\n\n    buyButton.setEnabled(true);\n\n    PaymentConfiguration.init(this, STRIPE_PUBLISHABLE_KEY);\n\n    paymentSheet = new PaymentSheet(this, result -&gt; {\n        onPaymentSheetResult(result);\n    });\n\n    buyButton.setOnClickListener(v -&gt; presentPaymentSheet());\n\n    fetchInitData();\n\n}\n\nprivate void fetchInitData() {\n    // Pass in the value here to send to server to charge the right amount\n    final String requestJson = &quot;{}&quot;;\n    Double price = Double.valueOf(getIntent().getStringExtra(&quot;amount&quot;));\n    double amount = price;\n    Map&lt;String, Object&gt; payMap = new HashMap&lt;&gt;();\n    Map&lt;String, Object&gt; itemMap = new HashMap&lt;&gt;();\n    List&lt;Map&lt;String, Object&gt;&gt; itemList = new ArrayList&lt;&gt;();\n    payMap.put(&quot;currency&quot;, &quot;aud&quot;);\n    itemMap.put(&quot;id&quot;, &quot;photo_subscription&quot;);\n    itemMap.put(&quot;amount&quot;, amount);\n    itemList.add(itemMap);\n    payMap.put(&quot;items&quot;, itemList);\n    String json = new Gson().toJson(payMap);\n    final RequestBody requestBody = RequestBody.create(\n            json,\n            MediaType.get(&quot;application/json; charset=utf-8&quot;)\n    );\n\n    final Request request = new Request.Builder()\n            .url(BACKEND_URL + &quot;payment-sheet&quot;)\n            .post(requestBody)\n            .build();\n\n    new OkHttpClient()\n            .newCall(request)\n            .enqueue(new Callback() {\n                @Override\n                public void onFailure(@NotNull Call call, @NotNull IOException e) {\n                    // Handle failure\n                }\n\n                @Override\n                public void onResponse(\n                        @NotNull Call call,\n                        @NotNull Response response\n                ) throws IOException {\n                    if (!response.isSuccessful()) {\n                        // Handle failure\n                    } else {\n                        final JSONObject responseJson = parseResponse(response.body());\n\n                        paymentIntentClientSecret = responseJson.optString(&quot;paymentIntent&quot;);\n                        customerId = responseJson.optString(&quot;customer&quot;);\n                        ephemeralKeySecret = responseJson.optString(&quot;ephemeralKey&quot;);\n\n                        runOnUiThread(() -&gt; buyButton.setEnabled(true));\n                    }\n                }\n            });\n}\n\nprivate JSONObject parseResponse(ResponseBody responseBody) {\n    if (responseBody != null) {\n        try {\n            return new JSONObject(responseBody.string());\n        } catch (IOException | JSONException e) {\n            Log.e(&quot;App&quot;, &quot;Error parsing response&quot;, e);\n        }\n    }\n    return new JSONObject();\n}\n\nprivate void presentPaymentSheet() {\n    paymentSheet.presentWithPaymentIntent(\n            paymentIntentClientSecret,\n            new PaymentSheet.Configuration(\n                    &quot;Scarlett Saturdays&quot;,\n                    new PaymentSheet.CustomerConfiguration(\n                            customerId,\n                            ephemeralKeySecret\n                    )\n            )\n    );\n}\n</code></pre>\n<p>This is the error I get:</p>\n<pre><code>E/AndroidRuntime: FATAL EXCEPTION: main\nProcess: com.example.gwagon, PID: 6495\njava.lang.NullPointerException: Parameter specified as non-null is null: method kotlin.jvm.internal.Intrinsics.checkNotNullParameter, parameter id\n    at com.stripe.android.paymentsheet.PaymentSheet$CustomerConfiguration.&lt;init&gt;(Unknown Source:2)\n    at com.example.gwagon.StripePayment.presentPaymentSheet(StripePayment.java:166)\n    at com.example.gwagon.StripePayment.lambda$onCreate$1$StripePayment(StripePayment.java:96)\n    at com.example.gwagon.-$$Lambda$StripePayment$xmpk3Z54kFvY_T74VYWd7R8Sd2s.onClick(Unknown Source:2)\n    at android.view.View.performClick(View.java:7448)\n    at com.google.android.material.button.MaterialButton.performClick(MaterialButton.java:1119)\n    at android.view.View.performClickInternal(View.java:7425)\n    at android.view.View.access$3600(View.java:810)\n    at android.view.View$PerformClick.run(View.java:28305)\n    at android.os.Handler.handleCallback(Handler.java:938)\n    at android.os.Handler.dispatchMessage(Handler.java:99)\n    at android.os.Looper.loop(Looper.java:223)\n    at android.app.ActivityThread.main(ActivityThread.java:7656)\n    at java.lang.reflect.Method.invoke(Native Method)\n    at com.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:592)\n    at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:947)\n</code></pre>\n<p>It was working completely fine one day and all of a sudden it stopped working.</p>\n"},{"tags":["java","php","openssl","aes-gcm"],"comments":[{"owner":{"account_id":91055,"reputation":218184,"user_id":250259,"accept_rate":93,"display_name":"John Conde"},"score":0,"creation_date":1591011102,"post_id":62129604,"comment_id":109885862,"body_markdown":"You need to post the encrypted text, IV, and tag generated by your Java code","body":"You need to post the encrypted text, IV, and tag generated by your Java code"},{"owner":{"account_id":2632320,"reputation":168,"user_id":2277957,"display_name":"TytooF"},"score":0,"creation_date":1591090483,"post_id":62129604,"comment_id":109916873,"body_markdown":"@JohnConde, I can post the encrypted text the provider send me for test, with the key he is currently using. But for the IV and TAG, I have no clue, as I tell before the Java code is automatically generated by the Talend solution component, and the provider is not a developer.\nI just ask him to send me the full Java Class generated, to be able to understand better what is happening. I&#39;ll see with him if I can share the key.","body":"@JohnConde, I can post the encrypted text the provider send me for test, with the key he is currently using. But for the IV and TAG, I have no clue, as I tell before the Java code is automatically generated by the Talend solution component, and the provider is not a developer. I just ask him to send me the full Java Class generated, to be able to understand better what is happening. I&#39;ll see with him if I can share the key."}],"answers":[{"tags":[],"owner":{"account_id":11125108,"reputation":5965,"user_id":8166854,"display_name":"Michael Fehr"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633781212,"creation_date":1591049949,"answer_id":62141866,"question_id":62129604,"body_markdown":"I setup your code in Java and made an encryption with a (fixed) key and an random initialization vector:\r\n\r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.spec.GCMParameterSpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    import java.security.SecureRandom;\r\n    import java.util.Base64;\r\n    import java.util.Random;\r\n    \r\n    public class SO_Main_Final {\r\n    \r\n        static final String ALGO = &quot;AES&quot;; //$NON-NLS-1$\r\n        static final String GCMALGO = &quot;AES/GCM/NoPadding&quot;; //$NON-NLS-1$\r\n        static final String UNICODE_FORMAT = &quot;UTF8&quot;; //$NON-NLS-1$\r\n        static final Random random = new SecureRandom();\r\n    \r\n        public static void main(String[] args) throws Exception {\r\n            System.out.println(&quot;https://stackoverflow.com/questions/62129604/decrypt-aes-128-gcm-encoded-content-with-java-cipher-using-php-openssl&quot;);\r\n            String myData = &quot;Secret data for TytooF&quot;;\r\n            String myKey = &quot;1234567890123456&quot;;\r\n            String encryptString = encrypt(myData, myKey, 16);\r\n            String decryptString = decrypt(encryptString, myKey, 16);\r\n            System.out.println(&quot;encryptString:         &quot; + encryptString);\r\n            System.out.println(&quot;decryptString:         &quot; + decryptString);\r\n    \r\n        }\r\n    \r\n        private static String encrypt(String data, String mainKey, int ivLength) throws Exception {\r\n            final byte[] dataBytes = data.getBytes(UNICODE_FORMAT);\r\n            // byte[] initializationVector = generateInitializationVector(ivLength);\r\n            byte[] initializationVector = new byte[ivLength];\r\n            random.nextBytes(initializationVector);\r\n            SecretKeySpec secretKeySpec = new SecretKeySpec(mainKey.getBytes(UNICODE_FORMAT), ALGO);\r\n            GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, initializationVector);\r\n            Cipher cipher = Cipher.getInstance(GCMALGO);\r\n            cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, gcmParameterSpec);\r\n            final byte[] encryptedData = cipher.doFinal(dataBytes);\r\n            final byte[] encryptedBytes = new byte[encryptedData.length + ivLength];\r\n            System.arraycopy(initializationVector, 0, encryptedBytes, 0, ivLength);\r\n            System.arraycopy(encryptedData, 0, encryptedBytes, ivLength, encryptedData.length);\r\n            System.out.println(&quot;data [String]        : &quot; + data);\r\n            System.out.println(&quot;data           length: &quot; + dataBytes.length\r\n                    + &quot; data: &quot; + bytesToHex(dataBytes));\r\n            System.out.println(&quot;mainKey        length: &quot; + mainKey.getBytes(UNICODE_FORMAT).length\r\n                    + &quot; data: &quot; + bytesToHex(mainKey.getBytes(UNICODE_FORMAT)));\r\n            System.out.println(&quot;initvector     length: &quot; + initializationVector.length\r\n                    + &quot; data: &quot; + bytesToHex(initializationVector));\r\n            System.out.println(&quot;encryptedBytes length: &quot; + encryptedBytes.length\r\n                    + &quot; data: &quot; + bytesToHex(encryptedBytes));\r\n            return Base64.getEncoder().encodeToString(encryptedBytes);\r\n        }\r\n    \r\n        private static String decrypt(String data, String mainKey, int ivLength) throws Exception {\r\n            final byte[] encryptedBytes = Base64.getDecoder().decode(data.getBytes(UNICODE_FORMAT));\r\n            final byte[] initializationVector = new byte[ivLength];\r\n            System.arraycopy(encryptedBytes, 0, initializationVector, 0, ivLength);\r\n            SecretKeySpec secretKeySpec = new SecretKeySpec(mainKey.getBytes(UNICODE_FORMAT), ALGO);\r\n            GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, initializationVector);\r\n            Cipher cipher = Cipher.getInstance(GCMALGO);\r\n            cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, gcmParameterSpec);\r\n            return new String(cipher.doFinal(encryptedBytes, ivLength, encryptedBytes.length - ivLength),\r\n                    UNICODE_FORMAT);\r\n        }\r\n    \r\n        private static String bytesToHex(byte[] bytes) {\r\n            StringBuffer result = new StringBuffer();\r\n            for (byte b : bytes) result.append(Integer.toString((b &amp; 0xff) + 0x100, 16).substring(1));\r\n            return result.toString();\r\n        }\r\n    }\r\n\r\n\r\nIn the end I got this result - the &quot;encryptString&quot; needs to get transfered to your website:\r\n\r\n    https://stackoverflow.com/questions/62129604/decrypt-aes-128-gcm-encoded-content-with-java-cipher-using-php-openssl\r\n    data [String]        : Secret data for TytooF\r\n    data           length: 22 data: 536563726574206461746120666f72205479746f6f46\r\n    mainKey        length: 16 data: 31323334353637383930313233343536\r\n    initvector     length: 16 data: 3fc914fc67f6ecb53daa098ba40f20a5\r\n    encryptedBytes length: 54 data: 3fc914fc67f6ecb53daa098ba40f20a5f1e6755b96e5c0bb5de29522099bdeb806cf28c6d181d7e4ffdc15f451a19a54c714c42b38fc\r\n    encryptString:         P8kU/Gf27LU9qgmLpA8gpfHmdVuW5cC7XeKVIgmb3rgGzyjG0YHX5P/cFfRRoZpUxxTEKzj8\r\n    decryptString:         Secret data for TytooF\r\n\r\nOn webserver/PHP-side I slightly modified your code (the &quot;main change&quot; was the change on the line openssl_decrypt($ciphertext, $cipher, $key, **true**, $iv, $tag) because we do not present Base64-encoded data to the decrypt\r\nmethod as this is done some codelines before ($encrypt = base64_decode($str).\r\n\r\nHere is the PHP-code:\r\n\r\n    &lt;?php\r\n    \r\n    /**\r\n     * @param string $str\r\n     *   The URL parameter string\r\n     */\r\n    function test_decrypt($str)\r\n    {\r\n        $key = &#39;1234567890123456&#39;;\r\n        $cipher = &#39;aes-128-gcm&#39;;\r\n        $iv_len = 16;\r\n        $tag_length = 16;\r\n        echo $str . &#39;&lt;br&gt;&#39;;\r\n        /**\r\n         * Decryption part\r\n         */\r\n        $encrypt = base64_decode($str);\r\n        $iv = substr($encrypt, 0, $iv_len);\r\n        $tag = substr($encrypt, -$tag_length);\r\n        $ciphertext = substr($encrypt, $iv_len, -$tag_length);\r\n        echo &quot;&quot; . &quot;\\n&quot;;\r\n        $value = unpack(&#39;H*&#39;, $iv);\r\n        echo &#39;&lt;br&gt;iv:&#39; . $value[1];\r\n        echo &quot;&quot; . &quot;\\n&quot;;\r\n        $value = unpack(&#39;H*&#39;, $ciphertext);\r\n        echo &#39;&lt;br&gt;ciphertext:&#39; . $value[1];\r\n        echo &quot;&quot; . &quot;\\n&quot;;\r\n        $value = unpack(&#39;H*&#39;, $tag);\r\n        echo &#39;&lt;br&gt;tag:&#39; . $value[1];\r\n        echo &quot;&lt;br&gt;&quot; . &quot;\\n&quot;;\r\n        $uncrypt = openssl_decrypt($ciphertext, $cipher, $key, true, $iv, $tag);//OPENSSL_RAW_DATA + OPENSSL_NO_PADDING\r\n        echo &#39;&lt;br&gt;DecryptedString: &#39; . $uncrypt . &quot;\\n&quot;;\r\n        $value = unpack(&#39;H*&#39;, $uncrypt);\r\n        echo &#39;&lt;br&gt;DecryptedString [byte[]]:&#39; . $value[1];\r\n        exit;\r\n    }\r\n    \r\n    echo &#39;&lt;b&gt;Output for https://stackoverflow.com/questions/62129604/decrypt-aes-128-gcm-encoded-content-with-java-cipher-using-php-openssl&lt;/b&gt;&lt;br&gt;&#39; . &quot;\\n&quot;;\r\n    echo &#39;&#39; . &quot;\\n&quot;;\r\n    echo &#39;Start decryption&#39; . &quot;\\n&quot;;\r\n    $receivedData = &quot;P8kU/Gf27LU9qgmLpA8gpfHmdVuW5cC7XeKVIgmb3rgGzyjG0YHX5P/cFfRRoZpUxxTEKzj8&quot;;\r\n    test_decrypt($receivedData);\r\n    ?&gt;\r\n\r\nThis is the decryption output on the webserver:\r\n\r\n    Output for https://stackoverflow.com/questions/62129604/decrypt-aes-128-gcm-encoded-content-with-java-cipher-using-php-openssl\r\n    Start decryption P8kU/Gf27LU9qgmLpA8gpfHmdVuW5cC7XeKVIgmb3rgGzyjG0YHX5P/cFfRRoZpUxxTEKzj8\r\n    \r\n    iv:3fc914fc67f6ecb53daa098ba40f20a5\r\n    ciphertext:f1e6755b96e5c0bb5de29522099bdeb806cf28c6d181\r\n    tag:d7e4ffdc15f451a19a54c714c42b38fc\r\n    \r\n    DecryptedString: Secret data for TytooF\r\n    DecryptedString [byte[]]:536563726574206461746120666f72205479746f6f46\r\n\r\n\r\n**Edit Oct. 10th 2021:** The code above is using an IV/nonce with a length of 16 bytes but the **recommended IV/nonce length is 12**.","title":"Decrypt aes-128-gcm encoded content with JAVA Cipher using PHP OpenSSL","body":"<p>I setup your code in Java and made an encryption with a (fixed) key and an random initialization vector:</p>\n<pre><code>import javax.crypto.Cipher;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.SecretKeySpec;\nimport java.security.SecureRandom;\nimport java.util.Base64;\nimport java.util.Random;\n\npublic class SO_Main_Final {\n\n    static final String ALGO = &quot;AES&quot;; //$NON-NLS-1$\n    static final String GCMALGO = &quot;AES/GCM/NoPadding&quot;; //$NON-NLS-1$\n    static final String UNICODE_FORMAT = &quot;UTF8&quot;; //$NON-NLS-1$\n    static final Random random = new SecureRandom();\n\n    public static void main(String[] args) throws Exception {\n        System.out.println(&quot;https://stackoverflow.com/questions/62129604/decrypt-aes-128-gcm-encoded-content-with-java-cipher-using-php-openssl&quot;);\n        String myData = &quot;Secret data for TytooF&quot;;\n        String myKey = &quot;1234567890123456&quot;;\n        String encryptString = encrypt(myData, myKey, 16);\n        String decryptString = decrypt(encryptString, myKey, 16);\n        System.out.println(&quot;encryptString:         &quot; + encryptString);\n        System.out.println(&quot;decryptString:         &quot; + decryptString);\n\n    }\n\n    private static String encrypt(String data, String mainKey, int ivLength) throws Exception {\n        final byte[] dataBytes = data.getBytes(UNICODE_FORMAT);\n        // byte[] initializationVector = generateInitializationVector(ivLength);\n        byte[] initializationVector = new byte[ivLength];\n        random.nextBytes(initializationVector);\n        SecretKeySpec secretKeySpec = new SecretKeySpec(mainKey.getBytes(UNICODE_FORMAT), ALGO);\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, initializationVector);\n        Cipher cipher = Cipher.getInstance(GCMALGO);\n        cipher.init(Cipher.ENCRYPT_MODE, secretKeySpec, gcmParameterSpec);\n        final byte[] encryptedData = cipher.doFinal(dataBytes);\n        final byte[] encryptedBytes = new byte[encryptedData.length + ivLength];\n        System.arraycopy(initializationVector, 0, encryptedBytes, 0, ivLength);\n        System.arraycopy(encryptedData, 0, encryptedBytes, ivLength, encryptedData.length);\n        System.out.println(&quot;data [String]        : &quot; + data);\n        System.out.println(&quot;data           length: &quot; + dataBytes.length\n                + &quot; data: &quot; + bytesToHex(dataBytes));\n        System.out.println(&quot;mainKey        length: &quot; + mainKey.getBytes(UNICODE_FORMAT).length\n                + &quot; data: &quot; + bytesToHex(mainKey.getBytes(UNICODE_FORMAT)));\n        System.out.println(&quot;initvector     length: &quot; + initializationVector.length\n                + &quot; data: &quot; + bytesToHex(initializationVector));\n        System.out.println(&quot;encryptedBytes length: &quot; + encryptedBytes.length\n                + &quot; data: &quot; + bytesToHex(encryptedBytes));\n        return Base64.getEncoder().encodeToString(encryptedBytes);\n    }\n\n    private static String decrypt(String data, String mainKey, int ivLength) throws Exception {\n        final byte[] encryptedBytes = Base64.getDecoder().decode(data.getBytes(UNICODE_FORMAT));\n        final byte[] initializationVector = new byte[ivLength];\n        System.arraycopy(encryptedBytes, 0, initializationVector, 0, ivLength);\n        SecretKeySpec secretKeySpec = new SecretKeySpec(mainKey.getBytes(UNICODE_FORMAT), ALGO);\n        GCMParameterSpec gcmParameterSpec = new GCMParameterSpec(128, initializationVector);\n        Cipher cipher = Cipher.getInstance(GCMALGO);\n        cipher.init(Cipher.DECRYPT_MODE, secretKeySpec, gcmParameterSpec);\n        return new String(cipher.doFinal(encryptedBytes, ivLength, encryptedBytes.length - ivLength),\n                UNICODE_FORMAT);\n    }\n\n    private static String bytesToHex(byte[] bytes) {\n        StringBuffer result = new StringBuffer();\n        for (byte b : bytes) result.append(Integer.toString((b &amp; 0xff) + 0x100, 16).substring(1));\n        return result.toString();\n    }\n}\n</code></pre>\n<p>In the end I got this result - the &quot;encryptString&quot; needs to get transfered to your website:</p>\n<pre><code>https://stackoverflow.com/questions/62129604/decrypt-aes-128-gcm-encoded-content-with-java-cipher-using-php-openssl\ndata [String]        : Secret data for TytooF\ndata           length: 22 data: 536563726574206461746120666f72205479746f6f46\nmainKey        length: 16 data: 31323334353637383930313233343536\ninitvector     length: 16 data: 3fc914fc67f6ecb53daa098ba40f20a5\nencryptedBytes length: 54 data: 3fc914fc67f6ecb53daa098ba40f20a5f1e6755b96e5c0bb5de29522099bdeb806cf28c6d181d7e4ffdc15f451a19a54c714c42b38fc\nencryptString:         P8kU/Gf27LU9qgmLpA8gpfHmdVuW5cC7XeKVIgmb3rgGzyjG0YHX5P/cFfRRoZpUxxTEKzj8\ndecryptString:         Secret data for TytooF\n</code></pre>\n<p>On webserver/PHP-side I slightly modified your code (the &quot;main change&quot; was the change on the line openssl_decrypt($ciphertext, $cipher, $key, <strong>true</strong>, $iv, $tag) because we do not present Base64-encoded data to the decrypt\nmethod as this is done some codelines before ($encrypt = base64_decode($str).</p>\n<p>Here is the PHP-code:</p>\n<pre><code>&lt;?php\n\n/**\n * @param string $str\n *   The URL parameter string\n */\nfunction test_decrypt($str)\n{\n    $key = '1234567890123456';\n    $cipher = 'aes-128-gcm';\n    $iv_len = 16;\n    $tag_length = 16;\n    echo $str . '&lt;br&gt;';\n    /**\n     * Decryption part\n     */\n    $encrypt = base64_decode($str);\n    $iv = substr($encrypt, 0, $iv_len);\n    $tag = substr($encrypt, -$tag_length);\n    $ciphertext = substr($encrypt, $iv_len, -$tag_length);\n    echo &quot;&quot; . &quot;\\n&quot;;\n    $value = unpack('H*', $iv);\n    echo '&lt;br&gt;iv:' . $value[1];\n    echo &quot;&quot; . &quot;\\n&quot;;\n    $value = unpack('H*', $ciphertext);\n    echo '&lt;br&gt;ciphertext:' . $value[1];\n    echo &quot;&quot; . &quot;\\n&quot;;\n    $value = unpack('H*', $tag);\n    echo '&lt;br&gt;tag:' . $value[1];\n    echo &quot;&lt;br&gt;&quot; . &quot;\\n&quot;;\n    $uncrypt = openssl_decrypt($ciphertext, $cipher, $key, true, $iv, $tag);//OPENSSL_RAW_DATA + OPENSSL_NO_PADDING\n    echo '&lt;br&gt;DecryptedString: ' . $uncrypt . &quot;\\n&quot;;\n    $value = unpack('H*', $uncrypt);\n    echo '&lt;br&gt;DecryptedString [byte[]]:' . $value[1];\n    exit;\n}\n\necho '&lt;b&gt;Output for https://stackoverflow.com/questions/62129604/decrypt-aes-128-gcm-encoded-content-with-java-cipher-using-php-openssl&lt;/b&gt;&lt;br&gt;' . &quot;\\n&quot;;\necho '' . &quot;\\n&quot;;\necho 'Start decryption' . &quot;\\n&quot;;\n$receivedData = &quot;P8kU/Gf27LU9qgmLpA8gpfHmdVuW5cC7XeKVIgmb3rgGzyjG0YHX5P/cFfRRoZpUxxTEKzj8&quot;;\ntest_decrypt($receivedData);\n?&gt;\n</code></pre>\n<p>This is the decryption output on the webserver:</p>\n<pre><code>Output for https://stackoverflow.com/questions/62129604/decrypt-aes-128-gcm-encoded-content-with-java-cipher-using-php-openssl\nStart decryption P8kU/Gf27LU9qgmLpA8gpfHmdVuW5cC7XeKVIgmb3rgGzyjG0YHX5P/cFfRRoZpUxxTEKzj8\n\niv:3fc914fc67f6ecb53daa098ba40f20a5\nciphertext:f1e6755b96e5c0bb5de29522099bdeb806cf28c6d181\ntag:d7e4ffdc15f451a19a54c714c42b38fc\n\nDecryptedString: Secret data for TytooF\nDecryptedString [byte[]]:536563726574206461746120666f72205479746f6f46\n</code></pre>\n<p><strong>Edit Oct. 10th 2021:</strong> The code above is using an IV/nonce with a length of 16 bytes but the <strong>recommended IV/nonce length is 12</strong>.</p>\n"}],"owner":{"account_id":2632320,"reputation":168,"user_id":2277957,"display_name":"TytooF"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1874,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":62141866,"answer_count":1,"score":1,"last_activity_date":1633781212,"creation_date":1591005084,"question_id":62129604,"body_markdown":"I must decrypt some data send to my website, using aes-128-gcm encrypted with JAVA Cipher.\r\n\r\nThe customer has a provider working with Talend who must send me some information via URL parameter, and I&#39;m stuck trying to decrypt the Data using PHP Openssl. The provider is not really able to tell me how is it working on his side, and is not too sure about the variables used on the generated code (like IV Length for instance). \r\n\r\nThe encryption method is done on JAVA using a Talend component. The provider send me the Talend generated code as an example.\r\n\r\n    private static String encrypt(String data, String mainKey, int ivLength) throws Exception {\r\n      final byte[] dataBytes = data.getBytes(UNICODE_FORMAT);\r\n      byte[] initializationVector = generateInitializationVector(ivLength);\r\n      final Cipher cipher = getAesGcmCipher(Cipher.ENCRYPT_MODE, mainKey, initializationVector);\r\n    \r\n      final byte[] encryptedData = cipher.doFinal(dataBytes);\r\n      final byte[] encryptedBytes = new byte[encryptedData.length + ivLength];\r\n      System.arraycopy(initializationVector, 0, encryptedBytes, 0, ivLength);\r\n      System.arraycopy(encryptedData, 0, encryptedBytes, ivLength, encryptedData.length);\r\n    \r\n      return BASE64_ENCODER.apply(encryptedBytes);\r\n    }\r\n    \r\n    private static String decrypt(String data, String mainKey, int ivLength) throws Exception {\r\n      final byte[] encryptedBytes = BASE64_DECODER.apply(data.getBytes(UNICODE_FORMAT));\r\n    \r\n      final byte[] initializationVector = new byte[ivLength];\r\n      System.arraycopy(encryptedBytes, 0, initializationVector, 0, ivLength);\r\n    \r\n      final Cipher cipher = getAesGcmCipher(Cipher.DECRYPT_MODE, mainKey, initializationVector);\r\n      return new String(cipher.doFinal(encryptedBytes, ivLength, encryptedBytes.length - ivLength),\r\n          UNICODE_FORMAT);\r\n    }\r\n\r\nHe also send me some constants initialised with the class he is using:\r\n\r\n    static final String ALGO = &quot;AES&quot;; //$NON-NLS-1$\r\n    static final String GCMALGO = &quot;AES/GCM/NoPadding&quot;; //$NON-NLS-1$\r\n    static final String UNICODE_FORMAT = &quot;UTF8&quot;; //$NON-NLS-1$\r\n    static final String DES_ENCRYPTION_SCHEME = &quot;DES&quot;; //$NON-NLS-1$\r\n    private static final int DEFAULT_IV_LENGTH = 16;\r\n    public static final String NULL_PARAMETER_MESSAGE = &quot;The parameter should not be null&quot;; //$NON-NLS-1$\r\n    public static final String EMPTY_PARAMETER_MESSAGE = &quot;String is empty&quot;; //$NON-NLS-1$\r\n    private static final String KEY_GEN_ALGO = &quot;PBKDF2WithHmacSHA256&quot;; //$NON-NLS-1$\r\n    static final Random random = new SecureRandom();\r\n    static final BASE64Encoder b64Encoder = new DataMasking().new BASE64Encoder();\r\n    static final BASE64Decoder b64Dencoder = new DataMasking().new BASE64Decoder();\r\n    public static final Function&lt;byte[], String&gt; BASE64_ENCODER = bytes -&gt; Base64.getEncoder().encodeToString(bytes);\r\n    public static final Function&lt;byte[], byte[]&gt; BASE64_DECODER = bytes -&gt; Base64.getDecoder().decode(bytes);\r\n\r\nAs I understand the Initialisation Vector is placed at the beginning of the string, and I learn that the Tag is automatically placed at the end by the Java Cipher object.\r\n\r\nI tried to encrypt and decrypt some content by my own on my PHP side, using [openssl_encrypt()][1]\r\n and [openssl_decrypt()][2], and it is working fine, but I cannot manage to decrypt the data the JAVA application is sending me.\r\n\r\nI wonder if it has anything to do with the manipulation of string I have to do on binary data, or if the provider didn&#39;t give me all the necessary information I needed.\r\n\r\nI also don&#39;t know what would be the Tag_length I have to use to decrypt the data.\r\nThe provider also tells me the IV_Length is 16 characters long, but when I use openssl_cipher_iv_length(&#39;aes-128-gcm&#39;), it propose 12.\r\n\r\nHere is the code I&#39;m having for now on my PHP side:\r\n\r\n    /**\r\n     * @param string $str\r\n     *   The URL parameter string\r\n     */\r\n    function test_decrypt($str) {\r\n      $key = &#39;MySuperPassword7&#39;;\r\n      $cipher = &#39;aes-128-gcm&#39;;\r\n    \r\n      $iv_len = 16;\r\n      $tag_length = 16;\r\n      \r\n      echo $str . &#39;&lt;br&gt;&#39;;\r\n      /**\r\n       * Encryption test\r\n       */\r\n    //  $tag = &quot;&quot;; \r\n    //  $iv = openssl_random_pseudo_bytes($iv_len);\r\n    //  $enc_str = openssl_encrypt(&#39;Test of data to send&#39;, $cipher, $key, OPENSSL_RAW_DATA, $iv, $tag, &quot;&quot;, $tag_length);\r\n    //  $encrypt = base64_encode($iv.$enc_str.$tag);\r\n      \r\n    //  echo $key . &#39;::&#39; . $iv . &#39;::&#39; . $tag . &#39;&lt;br&gt;&#39;;\r\n    //  echo &#39;$enc_str&lt;pre&gt;&#39;;\r\n    //  var_dump($enc_str);\r\n    //  echo &#39;&lt;/pre&gt;&#39;;\r\n    //  echo &#39;$encrypt&lt;pre&gt;&#39;;\r\n    //  var_dump($encrypt);\r\n    //  echo &#39;&lt;/pre&gt;&#39;;\r\n      \r\n      /**\r\n       * Decryption part\r\n       */\r\n      $encrypt = base64_decode($str);\r\n      $iv = substr($encrypt, 0, $iv_len);\r\n      $tag = substr($encrypt, - $tag_length);\r\n      $ciphertext = substr($encrypt, $iv_len, -$tag_length);\r\n    \r\n      $uncrypt = openssl_decrypt($ciphertext, $cipher, $key, 0, $iv, $tag);//OPENSSL_RAW_DATA + OPENSSL_NO_PADDING\r\n      echo $iv_len . &#39;::&#39; . $tag_length . &#39;&lt;br&gt;&#39;;\r\n      echo $key . &#39;::&#39; . $iv . &#39;::&#39; . $tag . &#39;&lt;br&gt;&#39;;\r\n      echo &#39;$encrypt&lt;pre&gt;&#39;;\r\n      var_dump($encrypt);\r\n      echo &#39;&lt;/pre&gt;&#39;;\r\n      echo &#39;$ciphertext&lt;pre&gt;&#39;;\r\n      var_dump($ciphertext);\r\n      echo &#39;&lt;/pre&gt;&#39;;\r\n      echo &#39;$uncrypt&lt;pre&gt;&#39;;\r\n      var_dump($uncrypt);\r\n      echo &#39;&lt;/pre&gt;&#39;;\r\n      exit;\r\n    }\r\n\r\nI also tried to use online tools to decrypt the data the Java app is sending me, but I couldn&#39;t find anything working for so far.\r\n\r\n**Edit**\r\n\r\nAs asked by @JohnConde in the comment, I can share the encrypted string and key I&#39;m currently trying to decrypt.\r\nWe decided to test with the same data as the answer of Michael Fehr :\r\n\r\n - Key : &#39;1234567890123456&#39;\r\n - Plain text : &quot;Secret data for TytooF&quot;\r\n - Encrypted text : VODKjhFETSxMcaa7x/LIOYCfmqD1iWSCuxX80reQ1KoFhmU8/A5AlH0Pg/ZoK1eNSdhBpUed\r\n\r\nThe length is the same as the encrypted one of the answer (P8kU/Gf27LU9qgmLpA8gpfHmdVuW5cC7XeKVIgmb3rgGzyjG0YHX5P/cFfRRoZpUxxTEKzj8).\r\n\r\nAs before, I&#39;m not able to decrypt the data...\r\n\r\nHere is the full code of the Talend component: \r\n\r\n    // ============================================================================\r\n    //\r\n    // Copyright (C) 2006-2019 Talend Inc. - www.talend.com\r\n    //\r\n    // This source code is available under agreement available at\r\n    // %InstallDIR%\\features\\org.talend.rcp.branding.%PRODUCTNAME%\\%PRODUCTNAME%license.txt\r\n    //\r\n    // You should have received a copy of the agreement\r\n    // along with this program; if not, write to Talend SA\r\n    // 9 rue Pages 92150 Suresnes, France\r\n    //\r\n    // ============================================================================\r\n    \r\n    package routines;\r\n    \r\n    import java.io.ByteArrayInputStream;\r\n    import java.io.ByteArrayOutputStream;\r\n    import java.io.IOException;\r\n    import java.io.InputStream;\r\n    import java.io.OutputStream;\r\n    import java.io.PrintStream;\r\n    import java.io.PushbackInputStream;\r\n    import java.security.Key;\r\n    import java.security.MessageDigest;\r\n    import java.security.NoSuchAlgorithmException;\r\n    import java.security.SecureRandom;\r\n    import java.security.spec.InvalidKeySpecException;\r\n    import java.security.spec.KeySpec;\r\n    import java.util.Base64;\r\n    import java.util.Calendar;\r\n    import java.util.Date;\r\n    import java.util.Random;\r\n    import java.util.function.Function;\r\n    import java.util.stream.Stream;\r\n    \r\n    import javax.crypto.Cipher;\r\n    import javax.crypto.SecretKey;\r\n    import javax.crypto.SecretKeyFactory;\r\n    import javax.crypto.spec.DESKeySpec;\r\n    import javax.crypto.spec.GCMParameterSpec;\r\n    import javax.crypto.spec.PBEKeySpec;\r\n    import javax.crypto.spec.SecretKeySpec;\r\n    \r\n    \r\n    /**\r\n     * created by talend on 2016-04-08 Detailled comment.\r\n     *\r\n     */\r\n    public class DataMasking {\r\n    \r\n        static final String ALGO = &quot;AES&quot;; //$NON-NLS-1$\r\n    \r\n        static final String GCMALGO = &quot;AES/GCM/NoPadding&quot;; //$NON-NLS-1$\r\n    \r\n        static final String UNICODE_FORMAT = &quot;UTF8&quot;; //$NON-NLS-1$\r\n    \r\n        static final String DES_ENCRYPTION_SCHEME = &quot;DES&quot;; //$NON-NLS-1$\r\n    \r\n        private static final int DEFAULT_IV_LENGTH = 16;\r\n    \r\n        public static final String NULL_PARAMETER_MESSAGE = &quot;The parameter should not be null&quot;; //$NON-NLS-1$\r\n    \r\n        public static final String EMPTY_PARAMETER_MESSAGE = &quot;String is empty&quot;; //$NON-NLS-1$\r\n    \r\n        private static final String KEY_GEN_ALGO = &quot;PBKDF2WithHmacSHA256&quot;; //$NON-NLS-1$\r\n    \r\n        static final Random random = new SecureRandom();\r\n    \r\n        static final BASE64Encoder b64Encoder = new DataMasking().new BASE64Encoder();\r\n    \r\n        static final BASE64Decoder b64Dencoder = new DataMasking().new BASE64Decoder();\r\n    \r\n        public static final Function&lt;byte[], String&gt; BASE64_ENCODER = bytes -&gt; Base64.getEncoder().encodeToString(bytes);\r\n    \r\n        public static final Function&lt;byte[], byte[]&gt; BASE64_DECODER = bytes -&gt; Base64.getDecoder().decode(bytes);\r\n    \r\n        public static class DataMaskingRoutineException extends RuntimeException {\r\n    \r\n            private static final long serialVersionUID = -8622896150657449668L;\r\n    \r\n            public DataMaskingRoutineException() {\r\n                super();\r\n            }\r\n    \r\n            public DataMaskingRoutineException(String s) {\r\n                super(s);\r\n            }\r\n    \r\n            public DataMaskingRoutineException(String s, Object o) {\r\n                super(s);\r\n                System.out.println(o);\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        /**\r\n         * Encrypt String: Encrypts a string using AES 128 .\r\n         * warning: this is not considered a secure function.\r\n         *\r\n         *\r\n         * {talendTypes} String\r\n         *\r\n         * {Category} Data Masking\r\n         *\r\n         * {param} String(&quot;foo&quot;) encryptString: The string to be encrypted.\r\n         * \r\n         * {param} byte[](new byte[] { &#39;T&#39;, &#39;a&#39;, &#39;l&#39;, &#39;e&#39;, &#39;n&#39;, &#39;d&#39;, &#39;s&#39;, &#39;S&#39;, &#39;e&#39;, &#39;c&#39;, &#39;r&#39;, &#39;e&#39;, &#39;t&#39;, &#39;K&#39;, &#39;e&#39;, &#39;y&#39; })\r\n         * keyValue: the\r\n         * key material of the secret key. The contents of the array are copied to protect against subsequent modification.\r\n         * \r\n         * {example} encryptAES(&quot;foo&quot;, new byte[] { &#39;T&#39;, &#39;a&#39;, &#39;l&#39;, &#39;e&#39;, &#39;n&#39;, &#39;d&#39;, &#39;s&#39;, &#39;S&#39;, &#39;e&#39;, &#39;c&#39;, &#39;r&#39;, &#39;e&#39;, &#39;t&#39;, &#39;K&#39;, &#39;e&#39;, &#39;y&#39; })\r\n         * result is UQ0VJZq5ymFkMYQeDrPi0A==\r\n         *\r\n         * @deprecated use {@link #encryptAESGCM(String, String, int)} instead of it\r\n         * \r\n         */\r\n    \r\n        @Deprecated\r\n        public static String encryptAES(String encryptString, byte[] keyValue) {\r\n    \r\n            if (encryptString == null || keyValue == null) {\r\n                return NULL_PARAMETER_MESSAGE;\r\n            }\r\n            if (encryptString.length() == 0) {\r\n                return EMPTY_PARAMETER_MESSAGE;\r\n            }\r\n            try {\r\n                Key key = new SecretKeySpec(keyValue, ALGO);\r\n                Cipher cipher = Cipher.getInstance(ALGO);\r\n                cipher.init(Cipher.ENCRYPT_MODE, key);\r\n                byte[] encVal = cipher.doFinal(encryptString.getBytes());\r\n                String encryptedValue = b64Encoder.encode(encVal);\r\n                return encryptedValue;\r\n    \r\n            } catch (Exception e) {\r\n                throw new DataMaskingRoutineException(e.getMessage(), e);\r\n            }\r\n        }\r\n    \r\n    \r\n        /**\r\n         * Encrypt String: Encrypts a string using AES GCM 128 .\r\n         * \r\n         * {talendTypes} String\r\n         * \r\n         * {Category} Data Masking\r\n         * \r\n         * {param} String(&quot;foo&quot;) encryptString: The string to be encrypted.\r\n         * \r\n         * {param} String(&quot;TalendMainKey123&quot;) the main key used to encrypt the data.\r\n         * \r\n         * {example} encryptAESGCM(&quot;foo&quot;,&quot;TalendMainKey123&quot;) result could be\r\n         * +ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4= (but it should change from an execution to another).\r\n         * \r\n         */\r\n    \r\n        public static String encryptAESGCM(String encryptString, String mainKey) {\r\n    \r\n            return encryptAESGCM(encryptString, mainKey, DEFAULT_IV_LENGTH);\r\n        }\r\n    \r\n        /**\r\n         * Encrypt String: Encrypts a string using AES GCM 128 .\r\n         * \r\n         * {talendTypes} String\r\n         * \r\n         * {Category} Data Masking\r\n         * \r\n         * {param} String(&quot;foo&quot;) encryptString: The string to be encrypted.\r\n         * \r\n         * {param} String(&quot;TalendMainKey123&quot;) the main key used to encrypt the data.\r\n         * \r\n         * {param} int the length of initializationVector. must be one of 12/13/14/15/16.\r\n         * \r\n         * {example} encryptAESGCM(&quot;foo&quot;,&quot;TalendMainKey123&quot;,16) result could be\r\n         * +ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4= (but it should change from an execution to another).\r\n         * \r\n         */\r\n    \r\n        public static String encryptAESGCM(String encryptString, String mainKey, int ivLength) {\r\n    \r\n            if (encryptString == null || mainKey == null) {\r\n                return NULL_PARAMETER_MESSAGE;\r\n            }\r\n    \r\n            if (encryptString.length() == 0) {\r\n                return EMPTY_PARAMETER_MESSAGE;\r\n            }\r\n    \r\n            try {\r\n                return encrypt(encryptString, mainKey, ivLength);\r\n            } catch (Exception e) {\r\n                throw new DataMaskingRoutineException(e.getMessage(), e);\r\n            }\r\n        }\r\n    \r\n    \r\n    \r\n        /**\r\n         * decrypt String: Decrypts a string using AES 128.\r\n         * warning: this is not considered a secure function.\r\n         *\r\n         *\r\n         * {talendTypes} String\r\n         *\r\n         * {Category} Data Masking\r\n         *\r\n         * {param} String(&quot;UQ0VJZq5ymFkMYQeDrPi0A==&quot;) encryptedString: The string to be decrypted.\r\n         *\r\n         * {param} byte[](new byte[] { &#39;T&#39;, &#39;a&#39;, &#39;l&#39;, &#39;e&#39;, &#39;n&#39;, &#39;d&#39;, &#39;s&#39;, &#39;S&#39;, &#39;e&#39;, &#39;c&#39;, &#39;r&#39;, &#39;e&#39;, &#39;t&#39;, &#39;K&#39;, &#39;e&#39;, &#39;y&#39; })\r\n         * keyValue: the key material of the secret key. The contents of the array are copied to protect against subsequent\r\n         * modification.\r\n         * \r\n         * {example} decryptAES(&quot;UQ0VJZq5ymFkMYQeDrPi0A==&quot;,new byte[] { &#39;T&#39;, &#39;a&#39;, &#39;l&#39;, &#39;e&#39;, &#39;n&#39;, &#39;d&#39;, &#39;s&#39;, &#39;S&#39;, &#39;e&#39;, &#39;c&#39;, &#39;r&#39;, &#39;e&#39;, &#39;t&#39;, &#39;K&#39;, &#39;e&#39;, &#39;y&#39; })\r\n         * result is &quot;foo&quot;\r\n         * \r\n         * @deprecated use {@link #decryptAESGCM(String, String, int)} instead of it\r\n         * \r\n         */\r\n    \r\n        @Deprecated\r\n        public static String decryptAES(String encryptedString, byte[] keyValue) {\r\n    \r\n            if (encryptedString == null || keyValue == null) {\r\n                return NULL_PARAMETER_MESSAGE;\r\n            }\r\n    \r\n            if (encryptedString.length() == 0) {\r\n                return EMPTY_PARAMETER_MESSAGE;\r\n            }\r\n            try {\r\n                Key key = new SecretKeySpec(keyValue, ALGO);\r\n                Cipher cipher = Cipher.getInstance(ALGO);\r\n                cipher.init(Cipher.DECRYPT_MODE, key);\r\n                byte[] decordedValue = b64Dencoder.decodeBuffer(encryptedString);\r\n                byte[] decValue = cipher.doFinal(decordedValue);\r\n                String decryptedValue = new String(decValue);\r\n                return decryptedValue;\r\n    \r\n            } catch (Exception e) {\r\n                throw new DataMaskingRoutineException(e.getMessage(), e);\r\n            }\r\n        }\r\n    \r\n        /**\r\n         * decrypt String: Decrypts a string using AES GCM 128.\r\n         * \r\n         * {talendTypes} String\r\n         * \r\n         * {Category} Data Masking\r\n         * \r\n         * {param} String(&quot;+ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4=&quot;) encryptedString: The string to be decrypted.\r\n         * \r\n         * {param} String(&quot;TalendMainKey123&quot;) the main key used to decrypt the data.\r\n         * \r\n         * {param} int the length of initializationVector. must be one of 12/13/14/15/16.\r\n         * \r\n         * {example} decryptAESGCM(&quot;+ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4=&quot;,&quot;TalendMainKey123&quot;,16) result\r\n         * is &quot;foo&quot;\r\n         * \r\n         */\r\n    \r\n        public static String decryptAESGCM(String encryptedString, String mainKey, int ivLength) {\r\n    \r\n            if (encryptedString == null || mainKey == null) {\r\n                return NULL_PARAMETER_MESSAGE;\r\n            }\r\n    \r\n            if (encryptedString.length() == 0) {\r\n                return EMPTY_PARAMETER_MESSAGE;\r\n            }\r\n    \r\n            try {\r\n                return decrypt(encryptedString, mainKey, ivLength);\r\n    \r\n            } catch (Exception e) {\r\n                throw new DataMaskingRoutineException(e.getMessage(), e);\r\n            }\r\n    \r\n        }\r\n    \r\n        /**\r\n         * decrypt String: Decrypts a string using AES GCM 128.\r\n         * \r\n         * {talendTypes} String\r\n         * \r\n         * {Category} Data Masking\r\n         * \r\n         * {param} String(&quot;+ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4=&quot;) encryptedString: The string to be decrypted.\r\n         * \r\n         * {param} String(&quot;TalendMainKey123&quot;) the main key used to decrypt the data.\r\n         * \r\n         * {example} decryptAESGCM(&quot;+ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4=&quot;,&quot;TalendMainKey123&quot;) result\r\n         * is &quot;foo&quot;\r\n         * \r\n         */\r\n    \r\n        public static String decryptAESGCM(String encryptedString, String mainKey) {\r\n    \r\n            return decryptAESGCM(encryptedString, mainKey, DEFAULT_IV_LENGTH);\r\n        }\r\n    \r\n        /**\r\n         * Encrypt String: Encrypts a string using DES .\r\n         * warning: this is not considered a secure function.\r\n         *\r\n         *\r\n         * {talendTypes} String\r\n         *\r\n         * {Category} Data Masking\r\n         *\r\n         * {param} String(&quot;foo&quot;) unencryptedString: The string to be encrypted.\r\n         *\r\n         * {param} String(&quot;ThisIsSecretEncryptionKey&quot;) myEncryptionKey: the string with the DES key material.\r\n         *\r\n         * {example} encryptDES(&quot;foo&quot;) result is DmNj+x2LUXA=\r\n         *\r\n         * @throws Exception\r\n         */\r\n    \r\n        public static String encryptDES(String unencryptedString, String myEncryptionKey) {\r\n    \r\n            if (unencryptedString == null || myEncryptionKey == null) {\r\n                return NULL_PARAMETER_MESSAGE;\r\n            }\r\n            if (unencryptedString.length() == 0) {\r\n                return EMPTY_PARAMETER_MESSAGE;\r\n            }\r\n            try {\r\n                String encryptedString = null;\r\n    \r\n                String myEncryptionScheme = DES_ENCRYPTION_SCHEME;\r\n                byte[] keyAsBytes = myEncryptionKey.getBytes(UNICODE_FORMAT);\r\n                KeySpec myKeySpec = new DESKeySpec(keyAsBytes);\r\n                SecretKeyFactory mySecretKeyFactory = SecretKeyFactory.getInstance(myEncryptionScheme);\r\n                Cipher encipher = Cipher.getInstance(myEncryptionScheme);\r\n                SecretKey key = mySecretKeyFactory.generateSecret(myKeySpec);\r\n    \r\n                encipher.init(Cipher.ENCRYPT_MODE, key);\r\n                byte[] plainText = unencryptedString.getBytes(UNICODE_FORMAT);\r\n                byte[] encryptedText = encipher.doFinal(plainText);\r\n                encryptedString = b64Encoder.encode(encryptedText);\r\n    \r\n                return encryptedString;\r\n    \r\n            } catch (Exception e) {\r\n                throw new DataMaskingRoutineException(e.getMessage());\r\n            }\r\n    \r\n        }\r\n    \r\n        /**\r\n         * Decrypt String: Decrypts a string using DES .\r\n         * warning: this is not considered a secure function.\r\n         *\r\n         *\r\n         * {talendTypes} String\r\n         *\r\n         * {Category} Data Masking\r\n         *\r\n         * {param} String(&quot;DmNj+x2LUXA=&quot;) encryptedString: the string with the DES key material.\r\n         *\r\n         * {param} String(&quot;ThisIsSecretEncryptionKey&quot;) myDecryptionKey: The string to be encrypted.\r\n         *\r\n         * {example} decryptDES(&quot;DmNj+x2LUXA=&quot;) result is &quot;foo&quot;\r\n         *\r\n         */\r\n    \r\n        public static String decryptDES(String encryptedString, String myDecryptionKey) {\r\n    \r\n            if (encryptedString == null || myDecryptionKey == null) {\r\n                return NULL_PARAMETER_MESSAGE;\r\n            }\r\n    \r\n            if (encryptedString.length() == 0) {\r\n                return EMPTY_PARAMETER_MESSAGE;\r\n            }\r\n            try {\r\n                String decryptedText = null;\r\n    \r\n                String myDecryptionScheme = DES_ENCRYPTION_SCHEME;\r\n    \r\n                byte[] keyAsBytes = myDecryptionKey.getBytes(UNICODE_FORMAT);\r\n    \r\n                KeySpec myKeySpec = new DESKeySpec(keyAsBytes);\r\n                Cipher decipher = Cipher.getInstance(myDecryptionScheme);\r\n                SecretKeyFactory mySecretKeyFactory = SecretKeyFactory.getInstance(myDecryptionScheme);\r\n                SecretKey key = mySecretKeyFactory.generateSecret(myKeySpec);\r\n    \r\n                decipher.init(Cipher.DECRYPT_MODE, key);\r\n                byte[] encryptedText = b64Dencoder.decodeBuffer(encryptedString);\r\n                byte[] plainText = decipher.doFinal(encryptedText);\r\n    \r\n                StringBuilder stringBuilder = new StringBuilder();\r\n                for (byte element : plainText) {\r\n                    stringBuilder.append((char) element);\r\n                }\r\n                decryptedText = stringBuilder.toString();\r\n                return decryptedText;\r\n    \r\n            } catch (Exception e) {\r\n                throw new DataMaskingRoutineException(e.getMessage(), e);\r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        /**\r\n         * This method generates a secret Key using the key-stretching algorithm PBKDF2 of\r\n         * &lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/javax/crypto/package-summary.html&quot;&gt;javax.crypto&lt;/a&gt;.\r\n         * It is basically a hashing algorithm slow by design, in order to increase the time\r\n         * required for an attacker to try a lot of passwords in a bruteforce attack.\r\n         * &lt;br&gt;\r\n         * About the salt :\r\n         * &lt;ul&gt;\r\n         * &lt;li&gt;The salt is not secret, the use of Random is not critical and ensure determinism.&lt;/li&gt;\r\n         * &lt;li&gt;The salt is important to avoid rainbow table attacks.&lt;/li&gt;\r\n         * &lt;li&gt;The salt should be generated with SecureRandom() in case the passwords are stored.&lt;/li&gt;\r\n         * &lt;li&gt;In that case the salt should be stored in plaintext next to the password and a unique user identifier.&lt;/li&gt;\r\n         * &lt;/ul&gt;\r\n         *\r\n         * @param password a password given as a {@code String}.\r\n         * @param keyLength key length to generate\r\n         * @return a {@code SecretKey} securely generated.\r\n         * @throws NoSuchAlgorithmException\r\n         * @throws InvalidKeySpecException\r\n         */\r\n        private static byte[] generateSecretKeyFromPassword(String password, int keyLength)\r\n                throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n            byte[] salt = new byte[keyLength];\r\n            new Random(password.hashCode()).nextBytes(salt);\r\n            SecretKeyFactory factory = SecretKeyFactory.getInstance(KEY_GEN_ALGO);\r\n            KeySpec spec = new PBEKeySpec(password.toCharArray(), salt, 65536, keyLength &lt;&lt; 3);\r\n            return factory.generateSecret(spec).getEncoded();\r\n        }\r\n    \r\n        private static String encrypt(String data, String mainKey, int ivLength) throws Exception {\r\n            final byte[] dataBytes = data.getBytes(UNICODE_FORMAT);\r\n            byte[] initializationVector = generateInitializationVector(ivLength);\r\n            final Cipher cipher = getAesGcmCipher(Cipher.ENCRYPT_MODE, mainKey, initializationVector);\r\n    \r\n            final byte[] encryptedData = cipher.doFinal(dataBytes);\r\n            final byte[] encryptedBytes = new byte[encryptedData.length + ivLength];\r\n            System.arraycopy(initializationVector, 0, encryptedBytes, 0, ivLength);\r\n            System.arraycopy(encryptedData, 0, encryptedBytes, ivLength, encryptedData.length);\r\n    \r\n            return BASE64_ENCODER.apply(encryptedBytes);\r\n        }\r\n    \r\n    \r\n        private static String decrypt(String data, String mainKey, int ivLength) throws Exception {\r\n            final byte[] encryptedBytes = BASE64_DECODER.apply(data.getBytes(UNICODE_FORMAT));\r\n    \r\n            final byte[] initializationVector = new byte[ivLength];\r\n            System.arraycopy(encryptedBytes, 0, initializationVector, 0, ivLength);\r\n    \r\n            final Cipher cipher = getAesGcmCipher(Cipher.DECRYPT_MODE, mainKey, initializationVector);\r\n            return new String(cipher.doFinal(encryptedBytes, ivLength, encryptedBytes.length - ivLength),\r\n                    UNICODE_FORMAT);\r\n        }\r\n    \r\n    }\r\n\r\n** EDIT 2 **\r\n\r\nAfter debugging for some times with the provider, we finally decided to use the code provided by Michael Fehr.\r\n\r\nWhat I understood from the code of the component, is that the difference is in the way the main key is used. But I&#39;m not a Java developer, and maybe I misunderstood something.\r\n\r\nJust in case it can help someone, here is the additional Java code missing for the IV generation, and the Secret key generation.\r\n\r\n```java\r\nprivate static Cipher getAesGcmCipher(int encryptMode, String mainKey, byte[] initializationVector)\r\n  \t\t\tthrows Exception {\r\n    int ivLength = initializationVector.length;\r\n    if (Stream.of(12, 13, 14, 15, 16).noneMatch(i -&gt; i == ivLength)) {\r\n        throw new IllegalArgumentException(&quot;Invalid IV length&quot;); //$NON-NLS-1$\r\n    }\r\n    final Cipher cipher = Cipher.getInstance(GCMALGO);\r\n    SecretKey key = new SecretKeySpec(generateSecretKeyFromPassword(mainKey, mainKey.length()), ALGO);\r\n    final GCMParameterSpec spec = new GCMParameterSpec(ivLength * 8, initializationVector);\r\n    cipher.init(encryptMode, key, spec);\r\n    return cipher;\r\n}\r\n\r\n\r\n\r\nprivate static byte[] generateSecretKeyFromPassword(String password, int keyLength)\r\n\t      throws NoSuchAlgorithmException, InvalidKeySpecException {\r\n\t  byte[] salt = new byte[keyLength];\r\n\t  new Random(password.hashCode()).nextBytes(salt);\r\n\t  SecretKeyFactory factory = SecretKeyFactory.getInstance(KEY_GEN_ALGO);\r\n\t  KeySpec spec = new PBEKeySpec(password.toCharArray(), salt, 65536, keyLength &lt;&lt; 3);\r\n\t  return factory.generateSecret(spec).getEncoded();\r\n}\r\n```\r\n\r\n  [1]: https://www.php.net/manual/fr/function.openssl-encrypt.php\r\n  [2]: https://www.php.net/manual/fr/function.openssl-decrypt.php","title":"Decrypt aes-128-gcm encoded content with JAVA Cipher using PHP OpenSSL","body":"<p>I must decrypt some data send to my website, using aes-128-gcm encrypted with JAVA Cipher.</p>\n\n<p>The customer has a provider working with Talend who must send me some information via URL parameter, and I'm stuck trying to decrypt the Data using PHP Openssl. The provider is not really able to tell me how is it working on his side, and is not too sure about the variables used on the generated code (like IV Length for instance). </p>\n\n<p>The encryption method is done on JAVA using a Talend component. The provider send me the Talend generated code as an example.</p>\n\n<pre><code>private static String encrypt(String data, String mainKey, int ivLength) throws Exception {\n  final byte[] dataBytes = data.getBytes(UNICODE_FORMAT);\n  byte[] initializationVector = generateInitializationVector(ivLength);\n  final Cipher cipher = getAesGcmCipher(Cipher.ENCRYPT_MODE, mainKey, initializationVector);\n\n  final byte[] encryptedData = cipher.doFinal(dataBytes);\n  final byte[] encryptedBytes = new byte[encryptedData.length + ivLength];\n  System.arraycopy(initializationVector, 0, encryptedBytes, 0, ivLength);\n  System.arraycopy(encryptedData, 0, encryptedBytes, ivLength, encryptedData.length);\n\n  return BASE64_ENCODER.apply(encryptedBytes);\n}\n\nprivate static String decrypt(String data, String mainKey, int ivLength) throws Exception {\n  final byte[] encryptedBytes = BASE64_DECODER.apply(data.getBytes(UNICODE_FORMAT));\n\n  final byte[] initializationVector = new byte[ivLength];\n  System.arraycopy(encryptedBytes, 0, initializationVector, 0, ivLength);\n\n  final Cipher cipher = getAesGcmCipher(Cipher.DECRYPT_MODE, mainKey, initializationVector);\n  return new String(cipher.doFinal(encryptedBytes, ivLength, encryptedBytes.length - ivLength),\n      UNICODE_FORMAT);\n}\n</code></pre>\n\n<p>He also send me some constants initialised with the class he is using:</p>\n\n<pre><code>static final String ALGO = \"AES\"; //$NON-NLS-1$\nstatic final String GCMALGO = \"AES/GCM/NoPadding\"; //$NON-NLS-1$\nstatic final String UNICODE_FORMAT = \"UTF8\"; //$NON-NLS-1$\nstatic final String DES_ENCRYPTION_SCHEME = \"DES\"; //$NON-NLS-1$\nprivate static final int DEFAULT_IV_LENGTH = 16;\npublic static final String NULL_PARAMETER_MESSAGE = \"The parameter should not be null\"; //$NON-NLS-1$\npublic static final String EMPTY_PARAMETER_MESSAGE = \"String is empty\"; //$NON-NLS-1$\nprivate static final String KEY_GEN_ALGO = \"PBKDF2WithHmacSHA256\"; //$NON-NLS-1$\nstatic final Random random = new SecureRandom();\nstatic final BASE64Encoder b64Encoder = new DataMasking().new BASE64Encoder();\nstatic final BASE64Decoder b64Dencoder = new DataMasking().new BASE64Decoder();\npublic static final Function&lt;byte[], String&gt; BASE64_ENCODER = bytes -&gt; Base64.getEncoder().encodeToString(bytes);\npublic static final Function&lt;byte[], byte[]&gt; BASE64_DECODER = bytes -&gt; Base64.getDecoder().decode(bytes);\n</code></pre>\n\n<p>As I understand the Initialisation Vector is placed at the beginning of the string, and I learn that the Tag is automatically placed at the end by the Java Cipher object.</p>\n\n<p>I tried to encrypt and decrypt some content by my own on my PHP side, using <a href=\"https://www.php.net/manual/fr/function.openssl-encrypt.php\" rel=\"nofollow noreferrer\">openssl_encrypt()</a>\n and <a href=\"https://www.php.net/manual/fr/function.openssl-decrypt.php\" rel=\"nofollow noreferrer\">openssl_decrypt()</a>, and it is working fine, but I cannot manage to decrypt the data the JAVA application is sending me.</p>\n\n<p>I wonder if it has anything to do with the manipulation of string I have to do on binary data, or if the provider didn't give me all the necessary information I needed.</p>\n\n<p>I also don't know what would be the Tag_length I have to use to decrypt the data.\nThe provider also tells me the IV_Length is 16 characters long, but when I use openssl_cipher_iv_length('aes-128-gcm'), it propose 12.</p>\n\n<p>Here is the code I'm having for now on my PHP side:</p>\n\n<pre><code>/**\n * @param string $str\n *   The URL parameter string\n */\nfunction test_decrypt($str) {\n  $key = 'MySuperPassword7';\n  $cipher = 'aes-128-gcm';\n\n  $iv_len = 16;\n  $tag_length = 16;\n\n  echo $str . '&lt;br&gt;';\n  /**\n   * Encryption test\n   */\n//  $tag = \"\"; \n//  $iv = openssl_random_pseudo_bytes($iv_len);\n//  $enc_str = openssl_encrypt('Test of data to send', $cipher, $key, OPENSSL_RAW_DATA, $iv, $tag, \"\", $tag_length);\n//  $encrypt = base64_encode($iv.$enc_str.$tag);\n\n//  echo $key . '::' . $iv . '::' . $tag . '&lt;br&gt;';\n//  echo '$enc_str&lt;pre&gt;';\n//  var_dump($enc_str);\n//  echo '&lt;/pre&gt;';\n//  echo '$encrypt&lt;pre&gt;';\n//  var_dump($encrypt);\n//  echo '&lt;/pre&gt;';\n\n  /**\n   * Decryption part\n   */\n  $encrypt = base64_decode($str);\n  $iv = substr($encrypt, 0, $iv_len);\n  $tag = substr($encrypt, - $tag_length);\n  $ciphertext = substr($encrypt, $iv_len, -$tag_length);\n\n  $uncrypt = openssl_decrypt($ciphertext, $cipher, $key, 0, $iv, $tag);//OPENSSL_RAW_DATA + OPENSSL_NO_PADDING\n  echo $iv_len . '::' . $tag_length . '&lt;br&gt;';\n  echo $key . '::' . $iv . '::' . $tag . '&lt;br&gt;';\n  echo '$encrypt&lt;pre&gt;';\n  var_dump($encrypt);\n  echo '&lt;/pre&gt;';\n  echo '$ciphertext&lt;pre&gt;';\n  var_dump($ciphertext);\n  echo '&lt;/pre&gt;';\n  echo '$uncrypt&lt;pre&gt;';\n  var_dump($uncrypt);\n  echo '&lt;/pre&gt;';\n  exit;\n}\n</code></pre>\n\n<p>I also tried to use online tools to decrypt the data the Java app is sending me, but I couldn't find anything working for so far.</p>\n\n<p><strong>Edit</strong></p>\n\n<p>As asked by @JohnConde in the comment, I can share the encrypted string and key I'm currently trying to decrypt.\nWe decided to test with the same data as the answer of Michael Fehr :</p>\n\n<ul>\n<li>Key : '1234567890123456'</li>\n<li>Plain text : \"Secret data for TytooF\"</li>\n<li>Encrypted text : VODKjhFETSxMcaa7x/LIOYCfmqD1iWSCuxX80reQ1KoFhmU8/A5AlH0Pg/ZoK1eNSdhBpUed</li>\n</ul>\n\n<p>The length is the same as the encrypted one of the answer (P8kU/Gf27LU9qgmLpA8gpfHmdVuW5cC7XeKVIgmb3rgGzyjG0YHX5P/cFfRRoZpUxxTEKzj8).</p>\n\n<p>As before, I'm not able to decrypt the data...</p>\n\n<p>Here is the full code of the Talend component: </p>\n\n<pre><code>// ============================================================================\n//\n// Copyright (C) 2006-2019 Talend Inc. - www.talend.com\n//\n// This source code is available under agreement available at\n// %InstallDIR%\\features\\org.talend.rcp.branding.%PRODUCTNAME%\\%PRODUCTNAME%license.txt\n//\n// You should have received a copy of the agreement\n// along with this program; if not, write to Talend SA\n// 9 rue Pages 92150 Suresnes, France\n//\n// ============================================================================\n\npackage routines;\n\nimport java.io.ByteArrayInputStream;\nimport java.io.ByteArrayOutputStream;\nimport java.io.IOException;\nimport java.io.InputStream;\nimport java.io.OutputStream;\nimport java.io.PrintStream;\nimport java.io.PushbackInputStream;\nimport java.security.Key;\nimport java.security.MessageDigest;\nimport java.security.NoSuchAlgorithmException;\nimport java.security.SecureRandom;\nimport java.security.spec.InvalidKeySpecException;\nimport java.security.spec.KeySpec;\nimport java.util.Base64;\nimport java.util.Calendar;\nimport java.util.Date;\nimport java.util.Random;\nimport java.util.function.Function;\nimport java.util.stream.Stream;\n\nimport javax.crypto.Cipher;\nimport javax.crypto.SecretKey;\nimport javax.crypto.SecretKeyFactory;\nimport javax.crypto.spec.DESKeySpec;\nimport javax.crypto.spec.GCMParameterSpec;\nimport javax.crypto.spec.PBEKeySpec;\nimport javax.crypto.spec.SecretKeySpec;\n\n\n/**\n * created by talend on 2016-04-08 Detailled comment.\n *\n */\npublic class DataMasking {\n\n    static final String ALGO = \"AES\"; //$NON-NLS-1$\n\n    static final String GCMALGO = \"AES/GCM/NoPadding\"; //$NON-NLS-1$\n\n    static final String UNICODE_FORMAT = \"UTF8\"; //$NON-NLS-1$\n\n    static final String DES_ENCRYPTION_SCHEME = \"DES\"; //$NON-NLS-1$\n\n    private static final int DEFAULT_IV_LENGTH = 16;\n\n    public static final String NULL_PARAMETER_MESSAGE = \"The parameter should not be null\"; //$NON-NLS-1$\n\n    public static final String EMPTY_PARAMETER_MESSAGE = \"String is empty\"; //$NON-NLS-1$\n\n    private static final String KEY_GEN_ALGO = \"PBKDF2WithHmacSHA256\"; //$NON-NLS-1$\n\n    static final Random random = new SecureRandom();\n\n    static final BASE64Encoder b64Encoder = new DataMasking().new BASE64Encoder();\n\n    static final BASE64Decoder b64Dencoder = new DataMasking().new BASE64Decoder();\n\n    public static final Function&lt;byte[], String&gt; BASE64_ENCODER = bytes -&gt; Base64.getEncoder().encodeToString(bytes);\n\n    public static final Function&lt;byte[], byte[]&gt; BASE64_DECODER = bytes -&gt; Base64.getDecoder().decode(bytes);\n\n    public static class DataMaskingRoutineException extends RuntimeException {\n\n        private static final long serialVersionUID = -8622896150657449668L;\n\n        public DataMaskingRoutineException() {\n            super();\n        }\n\n        public DataMaskingRoutineException(String s) {\n            super(s);\n        }\n\n        public DataMaskingRoutineException(String s, Object o) {\n            super(s);\n            System.out.println(o);\n        }\n\n    }\n\n\n    /**\n     * Encrypt String: Encrypts a string using AES 128 .\n     * warning: this is not considered a secure function.\n     *\n     *\n     * {talendTypes} String\n     *\n     * {Category} Data Masking\n     *\n     * {param} String(\"foo\") encryptString: The string to be encrypted.\n     * \n     * {param} byte[](new byte[] { 'T', 'a', 'l', 'e', 'n', 'd', 's', 'S', 'e', 'c', 'r', 'e', 't', 'K', 'e', 'y' })\n     * keyValue: the\n     * key material of the secret key. The contents of the array are copied to protect against subsequent modification.\n     * \n     * {example} encryptAES(\"foo\", new byte[] { 'T', 'a', 'l', 'e', 'n', 'd', 's', 'S', 'e', 'c', 'r', 'e', 't', 'K', 'e', 'y' })\n     * result is UQ0VJZq5ymFkMYQeDrPi0A==\n     *\n     * @deprecated use {@link #encryptAESGCM(String, String, int)} instead of it\n     * \n     */\n\n    @Deprecated\n    public static String encryptAES(String encryptString, byte[] keyValue) {\n\n        if (encryptString == null || keyValue == null) {\n            return NULL_PARAMETER_MESSAGE;\n        }\n        if (encryptString.length() == 0) {\n            return EMPTY_PARAMETER_MESSAGE;\n        }\n        try {\n            Key key = new SecretKeySpec(keyValue, ALGO);\n            Cipher cipher = Cipher.getInstance(ALGO);\n            cipher.init(Cipher.ENCRYPT_MODE, key);\n            byte[] encVal = cipher.doFinal(encryptString.getBytes());\n            String encryptedValue = b64Encoder.encode(encVal);\n            return encryptedValue;\n\n        } catch (Exception e) {\n            throw new DataMaskingRoutineException(e.getMessage(), e);\n        }\n    }\n\n\n    /**\n     * Encrypt String: Encrypts a string using AES GCM 128 .\n     * \n     * {talendTypes} String\n     * \n     * {Category} Data Masking\n     * \n     * {param} String(\"foo\") encryptString: The string to be encrypted.\n     * \n     * {param} String(\"TalendMainKey123\") the main key used to encrypt the data.\n     * \n     * {example} encryptAESGCM(\"foo\",\"TalendMainKey123\") result could be\n     * +ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4= (but it should change from an execution to another).\n     * \n     */\n\n    public static String encryptAESGCM(String encryptString, String mainKey) {\n\n        return encryptAESGCM(encryptString, mainKey, DEFAULT_IV_LENGTH);\n    }\n\n    /**\n     * Encrypt String: Encrypts a string using AES GCM 128 .\n     * \n     * {talendTypes} String\n     * \n     * {Category} Data Masking\n     * \n     * {param} String(\"foo\") encryptString: The string to be encrypted.\n     * \n     * {param} String(\"TalendMainKey123\") the main key used to encrypt the data.\n     * \n     * {param} int the length of initializationVector. must be one of 12/13/14/15/16.\n     * \n     * {example} encryptAESGCM(\"foo\",\"TalendMainKey123\",16) result could be\n     * +ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4= (but it should change from an execution to another).\n     * \n     */\n\n    public static String encryptAESGCM(String encryptString, String mainKey, int ivLength) {\n\n        if (encryptString == null || mainKey == null) {\n            return NULL_PARAMETER_MESSAGE;\n        }\n\n        if (encryptString.length() == 0) {\n            return EMPTY_PARAMETER_MESSAGE;\n        }\n\n        try {\n            return encrypt(encryptString, mainKey, ivLength);\n        } catch (Exception e) {\n            throw new DataMaskingRoutineException(e.getMessage(), e);\n        }\n    }\n\n\n\n    /**\n     * decrypt String: Decrypts a string using AES 128.\n     * warning: this is not considered a secure function.\n     *\n     *\n     * {talendTypes} String\n     *\n     * {Category} Data Masking\n     *\n     * {param} String(\"UQ0VJZq5ymFkMYQeDrPi0A==\") encryptedString: The string to be decrypted.\n     *\n     * {param} byte[](new byte[] { 'T', 'a', 'l', 'e', 'n', 'd', 's', 'S', 'e', 'c', 'r', 'e', 't', 'K', 'e', 'y' })\n     * keyValue: the key material of the secret key. The contents of the array are copied to protect against subsequent\n     * modification.\n     * \n     * {example} decryptAES(\"UQ0VJZq5ymFkMYQeDrPi0A==\",new byte[] { 'T', 'a', 'l', 'e', 'n', 'd', 's', 'S', 'e', 'c', 'r', 'e', 't', 'K', 'e', 'y' })\n     * result is \"foo\"\n     * \n     * @deprecated use {@link #decryptAESGCM(String, String, int)} instead of it\n     * \n     */\n\n    @Deprecated\n    public static String decryptAES(String encryptedString, byte[] keyValue) {\n\n        if (encryptedString == null || keyValue == null) {\n            return NULL_PARAMETER_MESSAGE;\n        }\n\n        if (encryptedString.length() == 0) {\n            return EMPTY_PARAMETER_MESSAGE;\n        }\n        try {\n            Key key = new SecretKeySpec(keyValue, ALGO);\n            Cipher cipher = Cipher.getInstance(ALGO);\n            cipher.init(Cipher.DECRYPT_MODE, key);\n            byte[] decordedValue = b64Dencoder.decodeBuffer(encryptedString);\n            byte[] decValue = cipher.doFinal(decordedValue);\n            String decryptedValue = new String(decValue);\n            return decryptedValue;\n\n        } catch (Exception e) {\n            throw new DataMaskingRoutineException(e.getMessage(), e);\n        }\n    }\n\n    /**\n     * decrypt String: Decrypts a string using AES GCM 128.\n     * \n     * {talendTypes} String\n     * \n     * {Category} Data Masking\n     * \n     * {param} String(\"+ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4=\") encryptedString: The string to be decrypted.\n     * \n     * {param} String(\"TalendMainKey123\") the main key used to decrypt the data.\n     * \n     * {param} int the length of initializationVector. must be one of 12/13/14/15/16.\n     * \n     * {example} decryptAESGCM(\"+ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4=\",\"TalendMainKey123\",16) result\n     * is \"foo\"\n     * \n     */\n\n    public static String decryptAESGCM(String encryptedString, String mainKey, int ivLength) {\n\n        if (encryptedString == null || mainKey == null) {\n            return NULL_PARAMETER_MESSAGE;\n        }\n\n        if (encryptedString.length() == 0) {\n            return EMPTY_PARAMETER_MESSAGE;\n        }\n\n        try {\n            return decrypt(encryptedString, mainKey, ivLength);\n\n        } catch (Exception e) {\n            throw new DataMaskingRoutineException(e.getMessage(), e);\n        }\n\n    }\n\n    /**\n     * decrypt String: Decrypts a string using AES GCM 128.\n     * \n     * {talendTypes} String\n     * \n     * {Category} Data Masking\n     * \n     * {param} String(\"+ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4=\") encryptedString: The string to be decrypted.\n     * \n     * {param} String(\"TalendMainKey123\") the main key used to decrypt the data.\n     * \n     * {example} decryptAESGCM(\"+ngs4RohAx8OvInmioRwRYS0pymcNkQJCKqsdUPZqUZppN4=\",\"TalendMainKey123\") result\n     * is \"foo\"\n     * \n     */\n\n    public static String decryptAESGCM(String encryptedString, String mainKey) {\n\n        return decryptAESGCM(encryptedString, mainKey, DEFAULT_IV_LENGTH);\n    }\n\n    /**\n     * Encrypt String: Encrypts a string using DES .\n     * warning: this is not considered a secure function.\n     *\n     *\n     * {talendTypes} String\n     *\n     * {Category} Data Masking\n     *\n     * {param} String(\"foo\") unencryptedString: The string to be encrypted.\n     *\n     * {param} String(\"ThisIsSecretEncryptionKey\") myEncryptionKey: the string with the DES key material.\n     *\n     * {example} encryptDES(\"foo\") result is DmNj+x2LUXA=\n     *\n     * @throws Exception\n     */\n\n    public static String encryptDES(String unencryptedString, String myEncryptionKey) {\n\n        if (unencryptedString == null || myEncryptionKey == null) {\n            return NULL_PARAMETER_MESSAGE;\n        }\n        if (unencryptedString.length() == 0) {\n            return EMPTY_PARAMETER_MESSAGE;\n        }\n        try {\n            String encryptedString = null;\n\n            String myEncryptionScheme = DES_ENCRYPTION_SCHEME;\n            byte[] keyAsBytes = myEncryptionKey.getBytes(UNICODE_FORMAT);\n            KeySpec myKeySpec = new DESKeySpec(keyAsBytes);\n            SecretKeyFactory mySecretKeyFactory = SecretKeyFactory.getInstance(myEncryptionScheme);\n            Cipher encipher = Cipher.getInstance(myEncryptionScheme);\n            SecretKey key = mySecretKeyFactory.generateSecret(myKeySpec);\n\n            encipher.init(Cipher.ENCRYPT_MODE, key);\n            byte[] plainText = unencryptedString.getBytes(UNICODE_FORMAT);\n            byte[] encryptedText = encipher.doFinal(plainText);\n            encryptedString = b64Encoder.encode(encryptedText);\n\n            return encryptedString;\n\n        } catch (Exception e) {\n            throw new DataMaskingRoutineException(e.getMessage());\n        }\n\n    }\n\n    /**\n     * Decrypt String: Decrypts a string using DES .\n     * warning: this is not considered a secure function.\n     *\n     *\n     * {talendTypes} String\n     *\n     * {Category} Data Masking\n     *\n     * {param} String(\"DmNj+x2LUXA=\") encryptedString: the string with the DES key material.\n     *\n     * {param} String(\"ThisIsSecretEncryptionKey\") myDecryptionKey: The string to be encrypted.\n     *\n     * {example} decryptDES(\"DmNj+x2LUXA=\") result is \"foo\"\n     *\n     */\n\n    public static String decryptDES(String encryptedString, String myDecryptionKey) {\n\n        if (encryptedString == null || myDecryptionKey == null) {\n            return NULL_PARAMETER_MESSAGE;\n        }\n\n        if (encryptedString.length() == 0) {\n            return EMPTY_PARAMETER_MESSAGE;\n        }\n        try {\n            String decryptedText = null;\n\n            String myDecryptionScheme = DES_ENCRYPTION_SCHEME;\n\n            byte[] keyAsBytes = myDecryptionKey.getBytes(UNICODE_FORMAT);\n\n            KeySpec myKeySpec = new DESKeySpec(keyAsBytes);\n            Cipher decipher = Cipher.getInstance(myDecryptionScheme);\n            SecretKeyFactory mySecretKeyFactory = SecretKeyFactory.getInstance(myDecryptionScheme);\n            SecretKey key = mySecretKeyFactory.generateSecret(myKeySpec);\n\n            decipher.init(Cipher.DECRYPT_MODE, key);\n            byte[] encryptedText = b64Dencoder.decodeBuffer(encryptedString);\n            byte[] plainText = decipher.doFinal(encryptedText);\n\n            StringBuilder stringBuilder = new StringBuilder();\n            for (byte element : plainText) {\n                stringBuilder.append((char) element);\n            }\n            decryptedText = stringBuilder.toString();\n            return decryptedText;\n\n        } catch (Exception e) {\n            throw new DataMaskingRoutineException(e.getMessage(), e);\n        }\n\n    }\n\n\n    /**\n     * This method generates a secret Key using the key-stretching algorithm PBKDF2 of\n     * &lt;a href=\"https://docs.oracle.com/javase/7/docs/api/javax/crypto/package-summary.html\"&gt;javax.crypto&lt;/a&gt;.\n     * It is basically a hashing algorithm slow by design, in order to increase the time\n     * required for an attacker to try a lot of passwords in a bruteforce attack.\n     * &lt;br&gt;\n     * About the salt :\n     * &lt;ul&gt;\n     * &lt;li&gt;The salt is not secret, the use of Random is not critical and ensure determinism.&lt;/li&gt;\n     * &lt;li&gt;The salt is important to avoid rainbow table attacks.&lt;/li&gt;\n     * &lt;li&gt;The salt should be generated with SecureRandom() in case the passwords are stored.&lt;/li&gt;\n     * &lt;li&gt;In that case the salt should be stored in plaintext next to the password and a unique user identifier.&lt;/li&gt;\n     * &lt;/ul&gt;\n     *\n     * @param password a password given as a {@code String}.\n     * @param keyLength key length to generate\n     * @return a {@code SecretKey} securely generated.\n     * @throws NoSuchAlgorithmException\n     * @throws InvalidKeySpecException\n     */\n    private static byte[] generateSecretKeyFromPassword(String password, int keyLength)\n            throws NoSuchAlgorithmException, InvalidKeySpecException {\n        byte[] salt = new byte[keyLength];\n        new Random(password.hashCode()).nextBytes(salt);\n        SecretKeyFactory factory = SecretKeyFactory.getInstance(KEY_GEN_ALGO);\n        KeySpec spec = new PBEKeySpec(password.toCharArray(), salt, 65536, keyLength &lt;&lt; 3);\n        return factory.generateSecret(spec).getEncoded();\n    }\n\n    private static String encrypt(String data, String mainKey, int ivLength) throws Exception {\n        final byte[] dataBytes = data.getBytes(UNICODE_FORMAT);\n        byte[] initializationVector = generateInitializationVector(ivLength);\n        final Cipher cipher = getAesGcmCipher(Cipher.ENCRYPT_MODE, mainKey, initializationVector);\n\n        final byte[] encryptedData = cipher.doFinal(dataBytes);\n        final byte[] encryptedBytes = new byte[encryptedData.length + ivLength];\n        System.arraycopy(initializationVector, 0, encryptedBytes, 0, ivLength);\n        System.arraycopy(encryptedData, 0, encryptedBytes, ivLength, encryptedData.length);\n\n        return BASE64_ENCODER.apply(encryptedBytes);\n    }\n\n\n    private static String decrypt(String data, String mainKey, int ivLength) throws Exception {\n        final byte[] encryptedBytes = BASE64_DECODER.apply(data.getBytes(UNICODE_FORMAT));\n\n        final byte[] initializationVector = new byte[ivLength];\n        System.arraycopy(encryptedBytes, 0, initializationVector, 0, ivLength);\n\n        final Cipher cipher = getAesGcmCipher(Cipher.DECRYPT_MODE, mainKey, initializationVector);\n        return new String(cipher.doFinal(encryptedBytes, ivLength, encryptedBytes.length - ivLength),\n                UNICODE_FORMAT);\n    }\n\n}\n</code></pre>\n\n<p>** EDIT 2 **</p>\n\n<p>After debugging for some times with the provider, we finally decided to use the code provided by Michael Fehr.</p>\n\n<p>What I understood from the code of the component, is that the difference is in the way the main key is used. But I'm not a Java developer, and maybe I misunderstood something.</p>\n\n<p>Just in case it can help someone, here is the additional Java code missing for the IV generation, and the Secret key generation.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>private static Cipher getAesGcmCipher(int encryptMode, String mainKey, byte[] initializationVector)\n            throws Exception {\n    int ivLength = initializationVector.length;\n    if (Stream.of(12, 13, 14, 15, 16).noneMatch(i -&gt; i == ivLength)) {\n        throw new IllegalArgumentException(\"Invalid IV length\"); //$NON-NLS-1$\n    }\n    final Cipher cipher = Cipher.getInstance(GCMALGO);\n    SecretKey key = new SecretKeySpec(generateSecretKeyFromPassword(mainKey, mainKey.length()), ALGO);\n    final GCMParameterSpec spec = new GCMParameterSpec(ivLength * 8, initializationVector);\n    cipher.init(encryptMode, key, spec);\n    return cipher;\n}\n\n\n\nprivate static byte[] generateSecretKeyFromPassword(String password, int keyLength)\n          throws NoSuchAlgorithmException, InvalidKeySpecException {\n      byte[] salt = new byte[keyLength];\n      new Random(password.hashCode()).nextBytes(salt);\n      SecretKeyFactory factory = SecretKeyFactory.getInstance(KEY_GEN_ALGO);\n      KeySpec spec = new PBEKeySpec(password.toCharArray(), salt, 65536, keyLength &lt;&lt; 3);\n      return factory.generateSecret(spec).getEncoded();\n}\n</code></pre>\n"},{"tags":["java","package","libraries"],"comments":[{"owner":{"account_id":15017879,"reputation":460,"user_id":10840312,"display_name":"Emerson Micu"},"score":0,"creation_date":1633776686,"post_id":69506000,"comment_id":122853910,"body_markdown":"how do you import libs? do you use maven/gradle?","body":"how do you import libs? do you use maven/gradle?"},{"owner":{"account_id":11801306,"reputation":310,"user_id":8634949,"display_name":"Nogard"},"score":0,"creation_date":1633781993,"post_id":69506000,"comment_id":122855010,"body_markdown":"Yeah, I also think that the issue is that he did not add dependencies to the Gradle (or Maven).","body":"Yeah, I also think that the issue is that he did not add dependencies to the Gradle (or Maven)."}],"answers":[{"tags":[],"owner":{"account_id":22828538,"reputation":19,"user_id":16977428,"display_name":"Vignesh Venkatesan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633779027,"creation_date":1633779027,"answer_id":69506314,"question_id":69506000,"body_markdown":"Check if the library available for your current java version","title":"Java library cant resolve package","body":"<p>Check if the library available for your current java version</p>\n"}],"owner":{"account_id":21363760,"reputation":47,"user_id":15732086,"display_name":"Matt"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633779027,"creation_date":1633776264,"question_id":69506000,"body_markdown":"I added a library with several packages one of which is &quot;no.stelar7.api.r4j.impl.lor&quot;. When I go to import this package to use it in my code I am given an error saying it can&#39;t be resolved, I have tried deleting the library and re-importing it with no luck and need any help. There is another package in the library called &quot;no.stelar7.api.r4j.impl&quot;, is it possible this is causing me errors?","title":"Java library cant resolve package","body":"<p>I added a library with several packages one of which is &quot;no.stelar7.api.r4j.impl.lor&quot;. When I go to import this package to use it in my code I am given an error saying it can't be resolved, I have tried deleting the library and re-importing it with no luck and need any help. There is another package in the library called &quot;no.stelar7.api.r4j.impl&quot;, is it possible this is causing me errors?</p>\n"},{"tags":["java","spring","spring-boot","jpa","patch"],"answers":[{"tags":[],"owner":{"account_id":7951011,"reputation":311,"user_id":6001853,"display_name":"Oktay Alizada"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633718584,"creation_date":1595204351,"answer_id":62987048,"question_id":62986824,"body_markdown":"The best solution for the future is to add a DTO layer to your application and use it to map to your object. See example below.\r\n\r\n    public class StudentDto {\r\n        private String name;\r\n    \r\n        public void setName(String name) {\r\n            this.name = name;\r\n        }\r\n        public String getName() {\r\n            return name;\r\n        }\r\n    }\r\n\r\nThen you can map this to your model  by [Mapstruct][1]:\r\n\r\n    @Mapper\r\n    public abstract class StudentMapper {\r\n        public static final StudentMapper INSTANCE = \r\n        Mappers.getMapper(StudentMapper.class);\r\n          \r\n        @Mapping\r\n        Student studentDtoToStudent(StudentDto studentDto); \r\n    }\r\n\r\nMapstruct dependencies:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\r\n        &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\r\n        &lt;version&gt;1.3.0.Final&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\nYou will be able to hide your internal structure from outside world.   \r\nIn your conroller:\r\n```\r\npublic ResponseEntity partialUpdateName(\r\n    @RequestBody StudentDto partialUpdate, \r\n    @PathVariable(&quot;id&quot;) String id)\r\n{\r\n    Student student = \r\n    StudentMapper.INSTANCE.studentDtoToStudent(partialUpdate);\r\n}\r\n```\r\n\r\nThe last line will give you a safe student model which you can then save\r\n\r\n2. Quick solution \r\nIn your controller:\r\n\r\n\r\n\r\n```\r\npublic ResponseEntity partialUpdateName(\r\n    @RequestBody Student partialUpdate, \r\n    @PathVariable(&quot;id&quot;) String id) \r\n{\r\n    Optional&lt;Student&gt; optionalStudent = repository.findById(id);\r\n\r\n    if(optionalStudent.isPresent() &amp;&amp; partialUpdate!=null) {\r\n        Student current=optional.get();\r\n        current.setName(partialUpdate.getName());\r\n        return ResponseEntity.ok(repository.save(current));     \r\n     }  \r\n              \r\n     /* return an error */\r\n}\r\n```\r\n\r\n  [1]: https://mapstruct.org","title":"How to update a single field using jpa repository using @patch","body":"<p>The best solution for the future is to add a DTO layer to your application and use it to map to your object. See example below.</p>\n<pre><code>public class StudentDto {\n    private String name;\n\n    public void setName(String name) {\n        this.name = name;\n    }\n    public String getName() {\n        return name;\n    }\n}\n</code></pre>\n<p>Then you can map this to your model  by <a href=\"https://mapstruct.org\" rel=\"nofollow noreferrer\">Mapstruct</a>:</p>\n<pre><code>@Mapper\npublic abstract class StudentMapper {\n    public static final StudentMapper INSTANCE = \n    Mappers.getMapper(StudentMapper.class);\n      \n    @Mapping\n    Student studentDtoToStudent(StudentDto studentDto); \n}\n</code></pre>\n<p>Mapstruct dependencies:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct-jdk8&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;org.mapstruct&lt;/groupId&gt;\n    &lt;artifactId&gt;mapstruct-processor&lt;/artifactId&gt;\n    &lt;version&gt;1.3.0.Final&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n<p>You will be able to hide your internal structure from outside world.<br />\nIn your conroller:</p>\n<pre><code>public ResponseEntity partialUpdateName(\n    @RequestBody StudentDto partialUpdate, \n    @PathVariable(&quot;id&quot;) String id)\n{\n    Student student = \n    StudentMapper.INSTANCE.studentDtoToStudent(partialUpdate);\n}\n</code></pre>\n<p>The last line will give you a safe student model which you can then save</p>\n<ol start=\"2\">\n<li>Quick solution\nIn your controller:</li>\n</ol>\n<pre><code>public ResponseEntity partialUpdateName(\n    @RequestBody Student partialUpdate, \n    @PathVariable(&quot;id&quot;) String id) \n{\n    Optional&lt;Student&gt; optionalStudent = repository.findById(id);\n\n    if(optionalStudent.isPresent() &amp;&amp; partialUpdate!=null) {\n        Student current=optional.get();\n        current.setName(partialUpdate.getName());\n        return ResponseEntity.ok(repository.save(current));     \n     }  \n              \n     /* return an error */\n}\n</code></pre>\n"}],"owner":{"account_id":17194492,"reputation":115,"user_id":12447592,"display_name":"pooya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3726,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62987048,"answer_count":1,"score":3,"last_activity_date":1633778775,"creation_date":1595202014,"question_id":62986824,"body_markdown":"I am developing a simple application by spring boot. I need to restrict the user to be able to only update the name, not all the filed that related to user data but unfortunately, my code has a problem that if someone sends a data in Json format and changes the age or any other field it will be updated but as I told I need the user to be able to change the only name not any other field. I have to mention I am using JPA repository and spring data\r\n\r\n**my controller**\r\n```\r\n@RestController\r\n@RequestMapping(&quot;/student&quot;)\r\npublic class StudentController {\r\n    @Autowired\r\n    StudentRepository repository;\r\n    // method i user to only update the name field\r\n    @PatchMapping(&quot;/pattt/{id}&quot;)\r\n\r\n    public ResponseEntity partialUpdateName(\r\n        @RequestBody Student partialUpdate, \r\n        @PathVariable(&quot;id&quot;) String id \r\n    ){\r\n        Student.save(partialUpdate, id);\r\n        return ResponseEntity.ok(repository.save(partialUpdate));\r\n    };\r\n}\r\n```\r\n***JPA repository***\r\n```\r\n@Repository\r\npublic interface StudentRepository extends JpaRepository&lt;Student, Integer&gt; {}\r\n```\r\n***Student class***\r\n```\r\n@Entity\r\n@Table(name = &quot;student&quot;)\r\npublic class Student {\r\n\r\n    @Id\r\n    @GeneratedValue\r\n    private int id;\r\n    private String name;\r\n    private int age;\r\n    private String emailAddress;\r\n\r\n    public Student() {\t}\r\n    public Student(int id, String name) {\r\n        this.id = id;\r\n        this.name = name;\r\n    }\r\n    public Student(int id, String name, int age, String emailAddress) {\r\n        this.id = id;\r\n        this.name = name;\r\n        this.age = age;\r\n        this.emailAddress = emailAddress;\r\n    }\r\n    public static void save(Student partialUpdate, String id) {\r\n        partialUpdate.setName(id);\r\n    }\r\n    public void setId(int id) {\r\n        this.id = id;\r\n    }\r\n    public void setName(String name) {\r\n        this.name = name;\r\n    }\r\n    public void setAge(int age) {\r\n        this.age = age;\r\n    }\r\n    public void setEmailAddress(String emailAddress) {\r\n        this.emailAddress = emailAddress;\r\n    }\r\n    public int getId() {\r\n        return id;\r\n    }\r\n    public String getName() {\r\n        return name;\r\n    }\r\n    public int getAge() {\r\n        return age;\r\n    }\r\n    public String getEmailAddress() {\r\n        return emailAddress;\r\n    }\r\n}\r\n```\r\n","title":"How to update a single field using jpa repository using @patch","body":"<p>I am developing a simple application by spring boot. I need to restrict the user to be able to only update the name, not all the filed that related to user data but unfortunately, my code has a problem that if someone sends a data in Json format and changes the age or any other field it will be updated but as I told I need the user to be able to change the only name not any other field. I have to mention I am using JPA repository and spring data</p>\n<p><strong>my controller</strong></p>\n<pre><code>@RestController\n@RequestMapping(&quot;/student&quot;)\npublic class StudentController {\n    @Autowired\n    StudentRepository repository;\n    // method i user to only update the name field\n    @PatchMapping(&quot;/pattt/{id}&quot;)\n\n    public ResponseEntity partialUpdateName(\n        @RequestBody Student partialUpdate, \n        @PathVariable(&quot;id&quot;) String id \n    ){\n        Student.save(partialUpdate, id);\n        return ResponseEntity.ok(repository.save(partialUpdate));\n    };\n}\n</code></pre>\n<p><em><strong>JPA repository</strong></em></p>\n<pre><code>@Repository\npublic interface StudentRepository extends JpaRepository&lt;Student, Integer&gt; {}\n</code></pre>\n<p><em><strong>Student class</strong></em></p>\n<pre><code>@Entity\n@Table(name = &quot;student&quot;)\npublic class Student {\n\n    @Id\n    @GeneratedValue\n    private int id;\n    private String name;\n    private int age;\n    private String emailAddress;\n\n    public Student() {  }\n    public Student(int id, String name) {\n        this.id = id;\n        this.name = name;\n    }\n    public Student(int id, String name, int age, String emailAddress) {\n        this.id = id;\n        this.name = name;\n        this.age = age;\n        this.emailAddress = emailAddress;\n    }\n    public static void save(Student partialUpdate, String id) {\n        partialUpdate.setName(id);\n    }\n    public void setId(int id) {\n        this.id = id;\n    }\n    public void setName(String name) {\n        this.name = name;\n    }\n    public void setAge(int age) {\n        this.age = age;\n    }\n    public void setEmailAddress(String emailAddress) {\n        this.emailAddress = emailAddress;\n    }\n    public int getId() {\n        return id;\n    }\n    public String getName() {\n        return name;\n    }\n    public int getAge() {\n        return age;\n    }\n    public String getEmailAddress() {\n        return emailAddress;\n    }\n}\n</code></pre>\n"},{"tags":["java","linux","classpath"],"answers":[{"tags":[],"owner":{"account_id":1853886,"reputation":210597,"user_id":1679863,"accept_rate":77,"display_name":"Rohit Jain"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1389553198,"creation_date":1389552891,"answer_id":21078868,"question_id":21078845,"body_markdown":"The variable you set in a terminal, is valid only for that terminal. What you should do is, export the variable in your `~/.bashrc` file, which is loaded for each terminal. So, add that statement in the `.bashrc` file, and you&#39;ll be fine.\r\n\r\nYou can also export the variable from `~/.bash_profile` file, which will be loaded for login shells.\r\n\r\n","title":"Setting CLASSPATH permanently","body":"<p>The variable you set in a terminal, is valid only for that terminal. What you should do is, export the variable in your <code>~/.bashrc</code> file, which is loaded for each terminal. So, add that statement in the <code>.bashrc</code> file, and you'll be fine.</p>\n\n<p>You can also export the variable from <code>~/.bash_profile</code> file, which will be loaded for login shells.</p>\n"},{"tags":[],"owner":{"account_id":1793071,"reputation":277,"user_id":1633066,"display_name":"Ammar Mohammed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1421669417,"creation_date":1421669417,"answer_id":28024367,"question_id":21078845,"body_markdown":"for bash, add the following lines to this file (~/.bashrc):\r\n\r\nPATH=[your path]:$PATH\r\nexport PATH\r\n\r\nfor more details check\r\n[PATH and CLASSPATH][1]\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/tutorial/essential/environment/paths.html","title":"Setting CLASSPATH permanently","body":"<p>for bash, add the following lines to this file (~/.bashrc):</p>\n\n<p>PATH=[your path]:$PATH\nexport PATH</p>\n\n<p>for more details check\n<a href=\"http://docs.oracle.com/javase/tutorial/essential/environment/paths.html\" rel=\"nofollow\">PATH and CLASSPATH</a></p>\n"},{"tags":[],"owner":{"account_id":11298369,"reputation":1,"user_id":8285178,"display_name":"Prashant Sinha"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1499707018,"creation_date":1499707018,"answer_id":45018070,"question_id":21078845,"body_markdown":"1. Type nano .bashrc\r\n2.Go to the end of line and type -&gt;export CLASSPATH=$CLASSPATH:/usr/share/java/mysql-connector-java.jar(It is the location where you have stored .jar file that you have downloaded).\r\n3.It becomes permanent now\r\n","title":"Setting CLASSPATH permanently","body":"<ol>\n<li>Type nano .bashrc\n2.Go to the end of line and type ->export CLASSPATH=$CLASSPATH:/usr/share/java/mysql-connector-java.jar(It is the location where you have stored .jar file that you have downloaded).\n3.It becomes permanent now</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":7534934,"reputation":19,"user_id":5721600,"display_name":"Giacomo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633778266,"creation_date":1633778266,"answer_id":69506232,"question_id":21078845,"body_markdown":"After you set the CLASSPATH variable in you `~/.bashrc` file remember to enter `source ~/.bashrc` in the terminal.","title":"Setting CLASSPATH permanently","body":"<p>After you set the CLASSPATH variable in you <code>~/.bashrc</code> file remember to enter <code>source ~/.bashrc</code> in the terminal.</p>\n"}],"owner":{"account_id":2996456,"reputation":3694,"user_id":2542922,"accept_rate":73,"display_name":"cscan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6221,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":21078868,"answer_count":4,"score":1,"last_activity_date":1633778266,"creation_date":1389552729,"question_id":21078845,"body_markdown":"In order to set my classpath environment variable, I&#39;m running the following command:\r\n\r\n    export CLASSPATH=/path/to/appropriate/dir\r\n\r\nIn order to check that this was correctly set, I&#39;ll type \r\n\r\n    echo $CLASSPATH\r\n\r\nand am returned /path/to/appropriate/dir. \r\n\r\nHowever, when I open up a new tab or window in the terminal\r\n\r\n    echo $CLASSPATH\r\n\r\nreturns nothing. What&#39;s going on here?","title":"Setting CLASSPATH permanently","body":"<p>In order to set my classpath environment variable, I'm running the following command:</p>\n\n<pre><code>export CLASSPATH=/path/to/appropriate/dir\n</code></pre>\n\n<p>In order to check that this was correctly set, I'll type </p>\n\n<pre><code>echo $CLASSPATH\n</code></pre>\n\n<p>and am returned /path/to/appropriate/dir. </p>\n\n<p>However, when I open up a new tab or window in the terminal</p>\n\n<pre><code>echo $CLASSPATH\n</code></pre>\n\n<p>returns nothing. What's going on here?</p>\n"},{"tags":["java","prolog","swi-prolog","dylib","jpl"],"answers":[{"tags":[],"owner":{"account_id":317768,"reputation":18443,"user_id":634629,"accept_rate":40,"display_name":"Paulo Moura"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1537725457,"creation_date":1537725457,"answer_id":52468819,"question_id":52464619,"body_markdown":"On macOS 10.13.6 (High Sierra), I regularly compile the SWI-Prolog 7.x sources using:\r\n\r\n    $ make distclean &amp;&amp; ./build &amp;&amp; swipl -g &quot;jpl_config_dylib&quot; -t halt\r\n\r\nThe `jpl_config_dylib/0` finds and fixes the Java paths. You should also be able to call it from the top-level after you start the `SWI-Prolog.app` application.","title":"Using JPL with SWI-Prolog on macOS","body":"<p>On macOS 10.13.6 (High Sierra), I regularly compile the SWI-Prolog 7.x sources using:</p>\n\n<pre><code>$ make distclean &amp;&amp; ./build &amp;&amp; swipl -g \"jpl_config_dylib\" -t halt\n</code></pre>\n\n<p>The <code>jpl_config_dylib/0</code> finds and fixes the Java paths. You should also be able to call it from the top-level after you start the <code>SWI-Prolog.app</code> application.</p>\n"},{"tags":[],"owner":{"account_id":89838,"reputation":37282,"user_id":247623,"accept_rate":72,"display_name":"Erik Kaplun"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633778236,"creation_date":1633361661,"answer_id":69438677,"question_id":52464619,"body_markdown":"To whomever this might be useful, as it is not a 100% match to the content of the question asked, but is a 100% match to the title of the question asked.\r\n\r\nWhen installing  (at least a recent version of) SWI-Prolog using Homebrew, attempting to `use_module(library(jpl))` will result in an error:\r\n\r\n    ERROR: /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/library/jpl.pl:5428: Initialization goal raised exception:\r\n    ERROR: source_sink `jar(&#39;jpl.jar&#39;)&#39; does not exist\r\n    ERROR: In:\r\n    ERROR:   [48] throw(error(existence_error(source_sink,...),_109418))\r\n    ERROR:   [44] jpl:add_jpl_to_classpath at /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/library/jpl.pl:3979\r\n    ERROR:   [43] jpl:setup_jvm at /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/library/jpl.pl:4168\r\n    ERROR:   [42] &#39;$run_init_goal&#39;(jpl:setup_jvm) at /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/boot/init.pl:796\r\n    ERROR:   [41] catch(system:&#39;$run_init_goal&#39;(...),error(existence_error(source_sink,...),context(_109584,_109586)),system:&#39;$initialization_error&#39;(...,...,...)) at /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/boot/init.pl:546\r\n    ERROR:   [40] catch_with_backtrace(system:&#39;$run_init_goal&#39;(...),error(existence_error(source_sink,...),context(_109660,_109662)),system:&#39;$initialization_error&#39;(...,...,...)) at /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/boot/init.pl:614\r\n    ERROR: \r\n    ERROR: Note: some frames are missing due to last-call optimization.\r\n    ERROR: Re-run your program in debug mode (:- debug.) to get more detail.\r\n    ERROR: Exported procedure jpl:jpl_c_lib_version/1 is not defined\r\n    true.\r\n\r\nAlso, executing the goal `jpl_config_dylib` results in an error:\r\n\r\n    ?- jpl_config_dylib.\r\n    ERROR: Unknown procedure: jpl_config_dylib/0 (DWIM could not correct goal)\r\n\r\nThe MacPorts version of SWI-Prolog does not have this problem. The solution is to copy the relevant files from under the MacPorts version to under the Homebrew version of SWI Prolog:\r\n\r\n    $ cp /Applications/SWI-Prolog.app/Contents/swipl/lib/jpl.jar /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/lib/\r\n    $ cp /Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin/libjpl.dylib /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/lib/x86_64-darwin/\r\n    $ cp /Applications/SWI-Prolog.app/Contents/swipl/library/jpl.pl /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/library/\r\n    $ cp /Applications/SWI-Prolog.app/Contents/swipl/library/jpl_config.pl /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/library/\r\n\r\nAfter which loading `library(jpl)` will work fine:\r\n\r\n    ?- use_module(library(jpl)).\r\n    true.\r\n    \r\n    ?- jpl_new(&#39;java.lang.Object&#39;, [], JRef).\r\n    JRef = &lt;jref&gt;(0x7fbefb086318).","title":"Using JPL with SWI-Prolog on macOS","body":"<p>To whomever this might be useful, as it is not a 100% match to the content of the question asked, but is a 100% match to the title of the question asked.</p>\n<p>When installing  (at least a recent version of) SWI-Prolog using Homebrew, attempting to <code>use_module(library(jpl))</code> will result in an error:</p>\n<pre><code>ERROR: /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/library/jpl.pl:5428: Initialization goal raised exception:\nERROR: source_sink `jar('jpl.jar')' does not exist\nERROR: In:\nERROR:   [48] throw(error(existence_error(source_sink,...),_109418))\nERROR:   [44] jpl:add_jpl_to_classpath at /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/library/jpl.pl:3979\nERROR:   [43] jpl:setup_jvm at /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/library/jpl.pl:4168\nERROR:   [42] '$run_init_goal'(jpl:setup_jvm) at /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/boot/init.pl:796\nERROR:   [41] catch(system:'$run_init_goal'(...),error(existence_error(source_sink,...),context(_109584,_109586)),system:'$initialization_error'(...,...,...)) at /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/boot/init.pl:546\nERROR:   [40] catch_with_backtrace(system:'$run_init_goal'(...),error(existence_error(source_sink,...),context(_109660,_109662)),system:'$initialization_error'(...,...,...)) at /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/boot/init.pl:614\nERROR: \nERROR: Note: some frames are missing due to last-call optimization.\nERROR: Re-run your program in debug mode (:- debug.) to get more detail.\nERROR: Exported procedure jpl:jpl_c_lib_version/1 is not defined\ntrue.\n</code></pre>\n<p>Also, executing the goal <code>jpl_config_dylib</code> results in an error:</p>\n<pre><code>?- jpl_config_dylib.\nERROR: Unknown procedure: jpl_config_dylib/0 (DWIM could not correct goal)\n</code></pre>\n<p>The MacPorts version of SWI-Prolog does not have this problem. The solution is to copy the relevant files from under the MacPorts version to under the Homebrew version of SWI Prolog:</p>\n<pre><code>$ cp /Applications/SWI-Prolog.app/Contents/swipl/lib/jpl.jar /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/lib/\n$ cp /Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin/libjpl.dylib /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/lib/x86_64-darwin/\n$ cp /Applications/SWI-Prolog.app/Contents/swipl/library/jpl.pl /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/library/\n$ cp /Applications/SWI-Prolog.app/Contents/swipl/library/jpl_config.pl /usr/local/Cellar/swi-prolog/8.4.0/libexec/lib/swipl/library/\n</code></pre>\n<p>After which loading <code>library(jpl)</code> will work fine:</p>\n<pre><code>?- use_module(library(jpl)).\ntrue.\n\n?- jpl_new('java.lang.Object', [], JRef).\nJRef = &lt;jref&gt;(0x7fbefb086318).\n</code></pre>\n"}],"owner":{"account_id":9785806,"reputation":1781,"user_id":7252179,"accept_rate":61,"display_name":"Th&#233;o Champion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":498,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":2,"score":3,"last_activity_date":1633778236,"creation_date":1537693450,"question_id":52464619,"body_markdown":"I&#39;m trying to use JPL with SWI-Prolog on macOS High Sierra and I&#39;m having troubles. In fact, at first the `libjpl.dylib` was not found so I added the path to it to `java.library.path` via\r\n\r\n\r\n    java -Djava.library.path=/Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin15.6.0/\r\n\r\n\r\nNow the library is found but I get another error:\r\n\r\n    java.lang.UnsatisfiedLinkError: /Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin15.6.0/libjpl.dylib: dlopen(/Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin15.6.0/libjpl.dylib, 1): Library not loaded: @executable_path/../swipl/lib/x86_64-darwin15.6.0/libswipl.dylib\r\n      Referenced from: /Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin15.6.0/libjpl.dylib\r\n      Reason: image not found\r\n    \tat java.lang.ClassLoader$NativeLibrary.load(Native Method)\r\n    \tat java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\r\n    \tat java.lang.ClassLoader.loadLibrary(ClassLoader.java:1857)\r\n    \tat java.lang.Runtime.loadLibrary0(Runtime.java:870)\r\n    \tat java.lang.System.loadLibrary(System.java:1122)\r\n        ...\r\n\r\nFrom what I understand, this is caused by this version of SWI-Prolog being relocatable (and thus having path relative to the executable).\r\n\r\nThe output of `otool -L` of the `libjpl.dylib` give me this output:\r\n\r\n    /Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin15.6.0/libjpl.dylib:\r\n        @rpath/libjsig.dylib (compatibility version 1.0.0, current version 1.0.0)\r\n        @rpath/libjvm.dylib (compatibility version 1.0.0, current version 1.0.0)\r\n        @executable_path/../swipl/lib/x86_64-darwin15.6.0/libswipl.dylib (compatibility version 0.0.0, current version 7.6.4)\r\n        /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)\r\n\r\nSo one way of fixing it would be to install a not relocatable version via macport or homebrew.\r\n\r\nThe thing is, neither the MacPorts nor the Homebrew version of SWI-Prolog contains the `libjpl.dylib` library :/\r\n\r\nAm I missing something here? What can I do to make this work?","title":"Using JPL with SWI-Prolog on macOS","body":"<p>I'm trying to use JPL with SWI-Prolog on macOS High Sierra and I'm having troubles. In fact, at first the <code>libjpl.dylib</code> was not found so I added the path to it to <code>java.library.path</code> via</p>\n<pre><code>java -Djava.library.path=/Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin15.6.0/\n</code></pre>\n<p>Now the library is found but I get another error:</p>\n<pre><code>java.lang.UnsatisfiedLinkError: /Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin15.6.0/libjpl.dylib: dlopen(/Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin15.6.0/libjpl.dylib, 1): Library not loaded: @executable_path/../swipl/lib/x86_64-darwin15.6.0/libswipl.dylib\n  Referenced from: /Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin15.6.0/libjpl.dylib\n  Reason: image not found\n    at java.lang.ClassLoader$NativeLibrary.load(Native Method)\n    at java.lang.ClassLoader.loadLibrary0(ClassLoader.java:1941)\n    at java.lang.ClassLoader.loadLibrary(ClassLoader.java:1857)\n    at java.lang.Runtime.loadLibrary0(Runtime.java:870)\n    at java.lang.System.loadLibrary(System.java:1122)\n    ...\n</code></pre>\n<p>From what I understand, this is caused by this version of SWI-Prolog being relocatable (and thus having path relative to the executable).</p>\n<p>The output of <code>otool -L</code> of the <code>libjpl.dylib</code> give me this output:</p>\n<pre><code>/Applications/SWI-Prolog.app/Contents/swipl/lib/x86_64-darwin15.6.0/libjpl.dylib:\n    @rpath/libjsig.dylib (compatibility version 1.0.0, current version 1.0.0)\n    @rpath/libjvm.dylib (compatibility version 1.0.0, current version 1.0.0)\n    @executable_path/../swipl/lib/x86_64-darwin15.6.0/libswipl.dylib (compatibility version 0.0.0, current version 7.6.4)\n    /usr/lib/libSystem.B.dylib (compatibility version 1.0.0, current version 1226.10.1)\n</code></pre>\n<p>So one way of fixing it would be to install a not relocatable version via macport or homebrew.</p>\n<p>The thing is, neither the MacPorts nor the Homebrew version of SWI-Prolog contains the <code>libjpl.dylib</code> library :/</p>\n<p>Am I missing something here? What can I do to make this work?</p>\n"},{"tags":["java","list","arraylist"],"answers":[{"tags":[],"owner":{"account_id":22266993,"reputation":897,"user_id":16497617,"display_name":"Maneesha Indrachapa"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633777625,"creation_date":1633777625,"answer_id":69506145,"question_id":69506068,"body_markdown":"You can try out something like this,\r\n```\r\npublic List&lt;String&gt; build(String Uri, String Id) {\r\n    List&lt;String&gt; values = new ArrayList&lt;&gt;();\r\n    if (Uri.contains(&quot;newString&quot;)) {\r\n        for (int i = 1; i &lt;= 3; i++) {\r\n            values.add(String.format(&quot;user-profile%s/users/%s/user.xml&quot;,i,Id));\r\n        }\r\n     }\r\n    return values;\r\n}\r\n```\r\nIf you want to append more `user-profile` you can increase the value in `for-loop`","title":"Convert String returning method to List&lt;String&gt; returning method in Java","body":"<p>You can try out something like this,</p>\n<pre><code>public List&lt;String&gt; build(String Uri, String Id) {\n    List&lt;String&gt; values = new ArrayList&lt;&gt;();\n    if (Uri.contains(&quot;newString&quot;)) {\n        for (int i = 1; i &lt;= 3; i++) {\n            values.add(String.format(&quot;user-profile%s/users/%s/user.xml&quot;,i,Id));\n        }\n     }\n    return values;\n}\n</code></pre>\n<p>If you want to append more <code>user-profile</code> you can increase the value in <code>for-loop</code></p>\n"}],"owner":{"display_name":"user17113294"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":52,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1633777625,"creation_date":1633776890,"question_id":69506068,"body_markdown":"I want the following method to return List of type String instead of String return type, The other method from which following &quot;build&quot; being called will receive List of type String (not StringBuilder)\r\n\r\n```\r\npublic String build(String Uri, String Id) {\r\n\r\n        StringBuilder DocUri = new StringBuilder();\r\n        if (Uri.contains(&quot;newString&quot;)) {\r\n            DocUri.append(&quot;user-profile1/users/&quot;).append(Id).append(&quot;/user.xml&quot;);\r\n\t\t\tDocUri.append(&quot;user-profile2/users/&quot;).append(Id).append(&quot;/user.xml&quot;);\r\n\t\t\tDocUri.append(&quot;user-profile3/users/&quot;).append(Id).append(&quot;/user.xml&quot;);\r\n        }\r\n \r\n        return DocUri.toString();\r\n    }\r\n```\r\nOutput Should Be : \r\nwhere &#39;1&#39; is the Id passed to the above method\r\n```\r\n[user-profile1/users/1/user.xml, user-profile2/users/1/user.xml, user-profile3/users/1/user-profile.xml]\r\n```","title":"Convert String returning method to List&lt;String&gt; returning method in Java","body":"<p>I want the following method to return List of type String instead of String return type, The other method from which following &quot;build&quot; being called will receive List of type String (not StringBuilder)</p>\n<pre><code>public String build(String Uri, String Id) {\n\n        StringBuilder DocUri = new StringBuilder();\n        if (Uri.contains(&quot;newString&quot;)) {\n            DocUri.append(&quot;user-profile1/users/&quot;).append(Id).append(&quot;/user.xml&quot;);\n            DocUri.append(&quot;user-profile2/users/&quot;).append(Id).append(&quot;/user.xml&quot;);\n            DocUri.append(&quot;user-profile3/users/&quot;).append(Id).append(&quot;/user.xml&quot;);\n        }\n \n        return DocUri.toString();\n    }\n</code></pre>\n<p>Output Should Be :\nwhere '1' is the Id passed to the above method</p>\n<pre><code>[user-profile1/users/1/user.xml, user-profile2/users/1/user.xml, user-profile3/users/1/user-profile.xml]\n</code></pre>\n"},{"tags":["java","web","jar","exe"],"answers":[{"tags":[],"owner":{"account_id":7029306,"reputation":1258,"user_id":5385625,"accept_rate":75,"display_name":"Sam Orozco"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1521758791,"creation_date":1521758791,"answer_id":49439648,"question_id":49439583,"body_markdown":"Your jar does not have a MANIFEST.MF file that indicates which Class is the Main class or entry to your application. \r\n\r\n    Project dir:\r\n    - root\r\n    -- source root\r\n    --- META-INF\r\n    ---- MANIFEST.MF\r\n\r\n\r\nThen inside your MANIFEST.MF file you will want the fully qualified package name of your main Class.  e.g.\r\n\r\n    Manifest-Version: 1.0\r\n    Main-Class: org.name.Main\r\n\r\n","title":"Making a Java file executable? &quot;Could not find main class&quot;?","body":"<p>Your jar does not have a MANIFEST.MF file that indicates which Class is the Main class or entry to your application. </p>\n\n<pre><code>Project dir:\n- root\n-- source root\n--- META-INF\n---- MANIFEST.MF\n</code></pre>\n\n<p>Then inside your MANIFEST.MF file you will want the fully qualified package name of your main Class.  e.g.</p>\n\n<pre><code>Manifest-Version: 1.0\nMain-Class: org.name.Main\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1521762116,"creation_date":1521760046,"answer_id":49439857,"question_id":49439583,"body_markdown":"In the launch configuration you didn&#39;t specify the class that has a `main()` method. It would probably be your `display` class.\r\n\r\nSince your compiled classes targeted to JDK 1.8 you can&#39;t use runtime version lower than compiled one. Hence you got error about unsupported major minor version.\r\n\r\nJar is an utility to make Java archives and make them executable if you use command line options.\r\n\r\nAnother approach is to use third party utility such as [one-jar ](http://one-jar.sourceforge.net).","title":"Making a Java file executable? &quot;Could not find main class&quot;?","body":"<p>In the launch configuration you didn't specify the class that has a <code>main()</code> method. It would probably be your <code>display</code> class.</p>\n\n<p>Since your compiled classes targeted to JDK 1.8 you can't use runtime version lower than compiled one. Hence you got error about unsupported major minor version.</p>\n\n<p>Jar is an utility to make Java archives and make them executable if you use command line options.</p>\n\n<p>Another approach is to use third party utility such as <a href=\"http://one-jar.sourceforge.net\" rel=\"nofollow noreferrer\">one-jar </a>.</p>\n"}],"owner":{"account_id":4525084,"reputation":103,"user_id":3677168,"accept_rate":73,"display_name":"ricknaght"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":2,"score":0,"last_activity_date":1633777248,"creation_date":1521758411,"question_id":49439583,"body_markdown":"I developed a program on Eclipse (October 2017). It&#39;s a GUI, but doesn&#39;t use the APPLET extension. I&#39;ve been trying to figure out how to make it a simple executable so it doesn&#39;t require a compiler to run. Upon trying export it as a JAR Runnable, I get the following error:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nI also tried a command line jar program, however I believe the versions aren&#39;t compatible as I get a bunch of errors in code that I don&#39;t get in Eclipse.\r\n\r\n    Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: bin/display : Unsupported major.minor version 53.0\r\n        at java.lang.ClassLoader.defineClass1(Native Method)\r\n        at java.lang.ClassLoader.defineClass(ClassLoader.java:803)\r\n        at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\r\n        at java.net.URLClassLoader.defineClass(URLClassLoader.java:442)\r\n        at java.net.URLClassLoader.access$100(URLClassLoader.java:64)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:354)\r\n        at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\r\n        at java.security.AccessController.doPrivileged(Native Method)\r\n        at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\r\n        at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:312)\r\n        at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\r\n        at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\r\n\r\nAt the bottom of my display class, I do have my main method\r\n\r\n        public static void main(String[] args) {\r\n        display show = new display();\r\n    }\r\n\r\nI can&#39;t create a Web App out of it either, since it isn&#39;t an APPLET.\r\n\r\nI&#39;ve tried stuff, but I&#39;m a little lost now.\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/EsD4N.png","title":"Making a Java file executable? &quot;Could not find main class&quot;?","body":"<p>I developed a program on Eclipse (October 2017). It's a GUI, but doesn't use the APPLET extension. I've been trying to figure out how to make it a simple executable so it doesn't require a compiler to run. Upon trying export it as a JAR Runnable, I get the following error:</p>\n<p><a href=\"https://i.stack.imgur.com/EsD4N.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/EsD4N.png\" alt=\"enter image description here\" /></a></p>\n<p>I also tried a command line jar program, however I believe the versions aren't compatible as I get a bunch of errors in code that I don't get in Eclipse.</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.UnsupportedClassVersionError: bin/display : Unsupported major.minor version 53.0\n    at java.lang.ClassLoader.defineClass1(Native Method)\n    at java.lang.ClassLoader.defineClass(ClassLoader.java:803)\n    at java.security.SecureClassLoader.defineClass(SecureClassLoader.java:142)\n    at java.net.URLClassLoader.defineClass(URLClassLoader.java:442)\n    at java.net.URLClassLoader.access$100(URLClassLoader.java:64)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:354)\n    at java.net.URLClassLoader$1.run(URLClassLoader.java:348)\n    at java.security.AccessController.doPrivileged(Native Method)\n    at java.net.URLClassLoader.findClass(URLClassLoader.java:347)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:425)\n    at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:312)\n    at java.lang.ClassLoader.loadClass(ClassLoader.java:358)\n    at sun.launcher.LauncherHelper.checkAndLoadMain(LauncherHelper.java:482)\n</code></pre>\n<p>At the bottom of my display class, I do have my main method</p>\n<pre><code>    public static void main(String[] args) {\n    display show = new display();\n}\n</code></pre>\n<p>I can't create a Web App out of it either, since it isn't an APPLET.</p>\n<p>I've tried stuff, but I'm a little lost now.</p>\n"},{"tags":["java","eclipse","oop"],"comments":[{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1557060334,"post_id":55991888,"comment_id":98631933,"body_markdown":"If this code works, [codereview.se] may be a better place to ask.","body":"If this code works, <a href=\"https://codereview.stackexchange.com\">Code Review</a> may be a better place to ask."},{"owner":{"account_id":3418957,"reputation":1176,"user_id":4029174,"accept_rate":100,"display_name":"bananas"},"score":0,"creation_date":1557062381,"post_id":55991888,"comment_id":98632470,"body_markdown":"All of your helper methods can be in other class with static call as a library like look at #Connect4.printBoard()#, will give you lots of hint and yes please follow code review &#128512;","body":"All of your helper methods can be in other class with static call as a library like look at #Connect4.printBoard()#, will give you lots of hint and yes please follow code review 😀"}],"answers":[{"tags":[],"owner":{"account_id":1316033,"reputation":7855,"user_id":1262865,"accept_rate":50,"display_name":"john16384"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557060268,"creation_date":1557060268,"answer_id":55992067,"question_id":55991888,"body_markdown":"A `Board` class would be a pretty good start.  It could have methods for placing a disc into a column with a certain color.\r\n\r\nA `Player` class could keep track of the player name and color.\r\n\r\nA `Color` enum for the two colors.\r\n\r\nA `Game` class could keep track of which `Player`s and who&#39;s turn it is, and can examine the board whether there is a win or draw.\r\n\r\n## Game ##\r\n\r\n    private Board board;\r\n    private Player[] players;\r\n    private Player currentPlayer;\r\n\r\n    void reset();  // Resets game\r\n    Player getCurrentPlayer();\r\n    Player isGameWon();  // Returns player that won, or null if nobody won\r\n    boolean isGameOver();  // Returns true if no more moves can be made\r\n    \r\n    // Places a disc, throws exception if it is not players turn.\r\n    // This delegates to the Board class, and advances the turn.\r\n    void placeDisc(Player player, int column);        \r\n\r\n## Board ##\r\n  \r\n    private Color[][] squares;\r\n\r\n    void clear();\r\n    void placeDisc(Color color, int column);  // Place a disc, throws exception if column full\r\n    boolean isColumnFull(int column);  // Could come in handy...\r\n    Color getDiscAt(int x, int y);  // Returns coloe of disc at location, or null if none\r\n    \r\n## Color ##\r\n\r\n    An enum (RED, YELLOW) ?\r\n\r\n    public enum Color {RED, YELLOW}\r\n\r\n## Player ##\r\n\r\n    private String name;\r\n    private Color color;\r\n\r\n    String getName();\r\n    Color getColor();\r\n\r\n","title":"Tips on transforming my procedural code into object oriented","body":"<p>A <code>Board</code> class would be a pretty good start.  It could have methods for placing a disc into a column with a certain color.</p>\n\n<p>A <code>Player</code> class could keep track of the player name and color.</p>\n\n<p>A <code>Color</code> enum for the two colors.</p>\n\n<p>A <code>Game</code> class could keep track of which <code>Player</code>s and who's turn it is, and can examine the board whether there is a win or draw.</p>\n\n<h2>Game</h2>\n\n<pre><code>private Board board;\nprivate Player[] players;\nprivate Player currentPlayer;\n\nvoid reset();  // Resets game\nPlayer getCurrentPlayer();\nPlayer isGameWon();  // Returns player that won, or null if nobody won\nboolean isGameOver();  // Returns true if no more moves can be made\n\n// Places a disc, throws exception if it is not players turn.\n// This delegates to the Board class, and advances the turn.\nvoid placeDisc(Player player, int column);        \n</code></pre>\n\n<h2>Board</h2>\n\n<pre><code>private Color[][] squares;\n\nvoid clear();\nvoid placeDisc(Color color, int column);  // Place a disc, throws exception if column full\nboolean isColumnFull(int column);  // Could come in handy...\nColor getDiscAt(int x, int y);  // Returns coloe of disc at location, or null if none\n</code></pre>\n\n<h2>Color</h2>\n\n<pre><code>An enum (RED, YELLOW) ?\n\npublic enum Color {RED, YELLOW}\n</code></pre>\n\n<h2>Player</h2>\n\n<pre><code>private String name;\nprivate Color color;\n\nString getName();\nColor getColor();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1557060898,"creation_date":1557060444,"answer_id":55992100,"question_id":55991888,"body_markdown":"You should be thinking about [OOD](https://en.m.wikipedia.org/wiki/Object-oriented_design) in the initial phase of the process. After the code is written the remaining process is [refactoring](https://en.m.wikipedia.org/wiki/Code_refactoring). I didn&#39;t see the code is written OO since you tried to remove `static` modifier from the methods. If you don&#39;t create additional methods then consider to aggregate common properties to the class from the methods that will belong too. First you create objects, then call methods. ","title":"Tips on transforming my procedural code into object oriented","body":"<p>You should be thinking about <a href=\"https://en.m.wikipedia.org/wiki/Object-oriented_design\" rel=\"nofollow noreferrer\">OOD</a> in the initial phase of the process. After the code is written the remaining process is <a href=\"https://en.m.wikipedia.org/wiki/Code_refactoring\" rel=\"nofollow noreferrer\">refactoring</a>. I didn't see the code is written OO since you tried to remove <code>static</code> modifier from the methods. If you don't create additional methods then consider to aggregate common properties to the class from the methods that will belong too. First you create objects, then call methods. </p>\n"}],"owner":{"account_id":15785938,"reputation":65,"user_id":11390718,"display_name":"Poppo123"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":118,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1633777147,"creation_date":1557059023,"question_id":55991888,"body_markdown":"I have been building a Connect Four game in a procedural way. Could somebody make some recommendations on how I could transform this code into an object oriented state? This will be the first time I have attempted object oriented, so would appreciate any advice/tips.\r\n\r\nI know that i need to split the code into different classes to make it OO, so I was thinking of creating a Board and Main class. Would this be sufficient or are there more classes that I should be thinking about?\r\n\r\nI have been reading about interfaces and was also thinking of using one for the players of the game (Human player and Computer player), but I am unsure the best way to do this.\r\n\r\n**`ConnectFourGame.java`:**\r\n\r\n    import java.io.BufferedReader;\r\n    import java.io.IOException;\r\n    import java.io.InputStreamReader;\r\n    import java.util.Random;\r\n\r\n    public class ConnectFourGame {\r\n    \r\n\tint totalPlayed;\r\n    int[][] gameBoard;\r\n    final int widthOfBoard=7;\r\n    final int heightOfBoard=7;\r\n    \r\n    public ConnectFourGame(){\r\n    \tgameBoard = new int[widthOfBoard][widthOfBoard];\r\n    \ttotalPlayed=0;\r\n    }\r\n    \r\n    public static void main(String args[])throws IOException{\r\n        \r\n        ConnectFourGame Connect4 = new ConnectFourGame();\r\n        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\r\n        \r\n        System.out.println(&quot;Welcome to Connect 4&quot;);\r\n\t\tSystem.out.println(&quot;There are 2 players red and yellow&quot;);\r\n\t\tSystem.out.println(&quot;Player 1 is Red, Player 2 is Yellow&quot;);\r\n\t\tSystem.out.println(&quot;To play the game type in the number of the boardColumn you want to drop you counter in&quot;);\r\n\t\tSystem.out.println(&quot;A player wins by connecting 4 counters in a row - vertically, horizontally or diagonally&quot;);\r\n\t\tSystem.out.println(&quot;&quot;);\r\n\t\tConnect4.printBoard();\r\n        outer:\r\n        \t\r\n        while(true){\r\n        \t\r\n            int boardColumn = 0;\r\n            \r\n            //Player One Logic\r\n            while(true){\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;Player 1, please select your column:&quot;);\r\n            boardColumn = Integer.parseInt(br.readLine());\r\n                if(Connect4.canMakeMove(boardColumn)){\r\n                    if(Connect4.placeCounter(boardColumn, 1)){\r\n                    \tConnect4.printBoard();\r\n                        System.out.println(&quot;\\n\\nPlayer 1 wins!!!&quot;);\r\n                        break outer;\r\n                    }\r\n                    break;\r\n                }\r\n                else\r\n                    System.out.println(&quot;Column &quot;+boardColumn+&quot; is already full!!&quot;);\r\n            }\r\n            Connect4.printBoard();\r\n            \r\n            //PLAYER 2.    \r\n            while(true){\r\n            System.out.println(&quot;&quot;);\r\n            System.out.println(&quot;Player 2, please select your column&quot;);\r\n            \r\n            Random r = new Random();\r\n\t\t\tint num = r.nextInt(7);\r\n\t\t\t\r\n            boardColumn=num;\r\n            \r\n            \r\n                if(Connect4.canMakeMove(boardColumn)){\r\n                    if(Connect4.placeCounter(boardColumn, 2)){\r\n                    \tConnect4.printBoard();\r\n                        System.out.println(&quot;\\n\\nPlayer 2 wins!!!&quot;);\r\n                        break outer;\r\n                    }\r\n                    break;\r\n                }\r\n                else\r\n                    System.out.println(&quot;Column &quot;+boardColumn+&quot; is already full!!&quot;);\r\n            }\r\n            Connect4.printBoard();\r\n            \r\n            if(Connect4.gameTied()){\r\n                System.out.print(&quot;The game has ended in a draw. Please start the game again.&quot;);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n                \r\n    public void printBoard(){\r\n        for(int i=0;i&lt;gameBoard.length;i++){\r\n            for(int j=0;j&lt;gameBoard[0].length;j++){\r\n                if(gameBoard[i][j] == 0)\r\n                    System.out.print(&quot;.  &quot;);\r\n                else\r\n                    System.out.print(gameBoard[i][j]+&quot;  &quot;);\r\n            }\r\n            System.out.println(&quot;&quot;);\r\n        }\r\n        System.out.println(&quot;*  *  *  *  *  *  *&quot;);\r\n\t\tSystem.out.println(&quot;0  1  2  3  4  5  6&quot;);\r\n    }\r\n    \r\n    public boolean placeCounter(int boardColumn, int playerNum){\r\n        int i=0;\r\n        for(i=0;i&lt;widthOfBoard;i++){\r\n            if(gameBoard[i][boardColumn] == 1 || gameBoard[i][boardColumn] == 2){\r\n            \tgameBoard[i-1][boardColumn]=playerNum;\r\n                break;\r\n            }\r\n        }\r\n        if(i == widthOfBoard)\r\n        \tgameBoard[i-1][boardColumn]=playerNum;\r\n        \r\n        totalPlayed++;\r\n        return isConnected(i-1,boardColumn);\r\n    }\r\n    \r\n    public boolean canMakeMove(int boardColumn){\r\n        return gameBoard[0][boardColumn] == 0; \r\n    }\r\n    \r\n    public boolean gameTied(){\r\n        return totalPlayed == widthOfBoard*widthOfBoard;\r\n    }\r\n    \r\n    public void isHorizontal() {\r\n    \t\r\n    }\r\n    \r\n    public boolean isConnected(int x, int y){\r\n        int num=gameBoard[x][y];\r\n        int count=0;\r\n        int i=y;\r\n        \r\n        //HORIZONTAL.\r\n        while(i&lt;widthOfBoard &amp;&amp; gameBoard[x][i] == num){\r\n            count++;\r\n            i++;\r\n        }\r\n        i=y-1;\r\n        while(i&gt;=0 &amp;&amp; gameBoard[x][i] == num){\r\n            count++;\r\n            i--;\r\n        }\r\n        if(count == 4)\r\n            return true;\r\n        \r\n        //VERTICAL.\r\n        count=0;\r\n        int j=x;\r\n        while(j&lt;widthOfBoard &amp;&amp; gameBoard[j][y] == num){\r\n            count++;\r\n            j++;\r\n        }\r\n        if(count == 4)\r\n            return true;\r\n        \r\n        //SECONDARY DIAGONAL.\r\n        count=0;\r\n        i=x;\r\n        j=y;\r\n        while(i&lt;widthOfBoard &amp;&amp; j&lt;widthOfBoard &amp;&amp; gameBoard[i][j] == num){\r\n            count++;\r\n            i++;\r\n            j++;\r\n        }\r\n       \r\n        if(count == 4)\r\n            return true;\r\n        \r\n        //LEADING DIAGONAL.\r\n        count=0;\r\n        i=x;\r\n        j=y;\r\n        while(i&lt;widthOfBoard &amp;&amp; j&gt;=0 &amp;&amp; gameBoard[i][j] == num){\r\n            count++;\r\n            i++;\r\n            j--;\r\n        }\r\n       \r\n        if(count == 4)\r\n            return true;\r\n        \r\n        return false;\r\n    }\r\n    }","title":"Tips on transforming my procedural code into object oriented","body":"<p>I have been building a Connect Four game in a procedural way. Could somebody make some recommendations on how I could transform this code into an object oriented state? This will be the first time I have attempted object oriented, so would appreciate any advice/tips.</p>\n<p>I know that i need to split the code into different classes to make it OO, so I was thinking of creating a Board and Main class. Would this be sufficient or are there more classes that I should be thinking about?</p>\n<p>I have been reading about interfaces and was also thinking of using one for the players of the game (Human player and Computer player), but I am unsure the best way to do this.</p>\n<p><strong><code>ConnectFourGame.java</code>:</strong></p>\n<pre><code>import java.io.BufferedReader;\nimport java.io.IOException;\nimport java.io.InputStreamReader;\nimport java.util.Random;\n\npublic class ConnectFourGame {\n\nint totalPlayed;\nint[][] gameBoard;\nfinal int widthOfBoard=7;\nfinal int heightOfBoard=7;\n\npublic ConnectFourGame(){\n    gameBoard = new int[widthOfBoard][widthOfBoard];\n    totalPlayed=0;\n}\n\npublic static void main(String args[])throws IOException{\n    \n    ConnectFourGame Connect4 = new ConnectFourGame();\n    BufferedReader br = new BufferedReader(new InputStreamReader(System.in));\n    \n    System.out.println(&quot;Welcome to Connect 4&quot;);\n    System.out.println(&quot;There are 2 players red and yellow&quot;);\n    System.out.println(&quot;Player 1 is Red, Player 2 is Yellow&quot;);\n    System.out.println(&quot;To play the game type in the number of the boardColumn you want to drop you counter in&quot;);\n    System.out.println(&quot;A player wins by connecting 4 counters in a row - vertically, horizontally or diagonally&quot;);\n    System.out.println(&quot;&quot;);\n    Connect4.printBoard();\n    outer:\n        \n    while(true){\n        \n        int boardColumn = 0;\n        \n        //Player One Logic\n        while(true){\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Player 1, please select your column:&quot;);\n        boardColumn = Integer.parseInt(br.readLine());\n            if(Connect4.canMakeMove(boardColumn)){\n                if(Connect4.placeCounter(boardColumn, 1)){\n                    Connect4.printBoard();\n                    System.out.println(&quot;\\n\\nPlayer 1 wins!!!&quot;);\n                    break outer;\n                }\n                break;\n            }\n            else\n                System.out.println(&quot;Column &quot;+boardColumn+&quot; is already full!!&quot;);\n        }\n        Connect4.printBoard();\n        \n        //PLAYER 2.    \n        while(true){\n        System.out.println(&quot;&quot;);\n        System.out.println(&quot;Player 2, please select your column&quot;);\n        \n        Random r = new Random();\n        int num = r.nextInt(7);\n        \n        boardColumn=num;\n        \n        \n            if(Connect4.canMakeMove(boardColumn)){\n                if(Connect4.placeCounter(boardColumn, 2)){\n                    Connect4.printBoard();\n                    System.out.println(&quot;\\n\\nPlayer 2 wins!!!&quot;);\n                    break outer;\n                }\n                break;\n            }\n            else\n                System.out.println(&quot;Column &quot;+boardColumn+&quot; is already full!!&quot;);\n        }\n        Connect4.printBoard();\n        \n        if(Connect4.gameTied()){\n            System.out.print(&quot;The game has ended in a draw. Please start the game again.&quot;);\n            break;\n        }\n    }\n}\n            \npublic void printBoard(){\n    for(int i=0;i&lt;gameBoard.length;i++){\n        for(int j=0;j&lt;gameBoard[0].length;j++){\n            if(gameBoard[i][j] == 0)\n                System.out.print(&quot;.  &quot;);\n            else\n                System.out.print(gameBoard[i][j]+&quot;  &quot;);\n        }\n        System.out.println(&quot;&quot;);\n    }\n    System.out.println(&quot;*  *  *  *  *  *  *&quot;);\n    System.out.println(&quot;0  1  2  3  4  5  6&quot;);\n}\n\npublic boolean placeCounter(int boardColumn, int playerNum){\n    int i=0;\n    for(i=0;i&lt;widthOfBoard;i++){\n        if(gameBoard[i][boardColumn] == 1 || gameBoard[i][boardColumn] == 2){\n            gameBoard[i-1][boardColumn]=playerNum;\n            break;\n        }\n    }\n    if(i == widthOfBoard)\n        gameBoard[i-1][boardColumn]=playerNum;\n    \n    totalPlayed++;\n    return isConnected(i-1,boardColumn);\n}\n\npublic boolean canMakeMove(int boardColumn){\n    return gameBoard[0][boardColumn] == 0; \n}\n\npublic boolean gameTied(){\n    return totalPlayed == widthOfBoard*widthOfBoard;\n}\n\npublic void isHorizontal() {\n    \n}\n\npublic boolean isConnected(int x, int y){\n    int num=gameBoard[x][y];\n    int count=0;\n    int i=y;\n    \n    //HORIZONTAL.\n    while(i&lt;widthOfBoard &amp;&amp; gameBoard[x][i] == num){\n        count++;\n        i++;\n    }\n    i=y-1;\n    while(i&gt;=0 &amp;&amp; gameBoard[x][i] == num){\n        count++;\n        i--;\n    }\n    if(count == 4)\n        return true;\n    \n    //VERTICAL.\n    count=0;\n    int j=x;\n    while(j&lt;widthOfBoard &amp;&amp; gameBoard[j][y] == num){\n        count++;\n        j++;\n    }\n    if(count == 4)\n        return true;\n    \n    //SECONDARY DIAGONAL.\n    count=0;\n    i=x;\n    j=y;\n    while(i&lt;widthOfBoard &amp;&amp; j&lt;widthOfBoard &amp;&amp; gameBoard[i][j] == num){\n        count++;\n        i++;\n        j++;\n    }\n   \n    if(count == 4)\n        return true;\n    \n    //LEADING DIAGONAL.\n    count=0;\n    i=x;\n    j=y;\n    while(i&lt;widthOfBoard &amp;&amp; j&gt;=0 &amp;&amp; gameBoard[i][j] == num){\n        count++;\n        i++;\n        j--;\n    }\n   \n    if(count == 4)\n        return true;\n    \n    return false;\n}\n}\n</code></pre>\n"},{"tags":["java","jsp","jdbc"],"comments":[{"owner":{"account_id":14686604,"reputation":28244,"user_id":10606400,"display_name":"Swati"},"score":0,"creation_date":1580557932,"post_id":60015998,"comment_id":106141836,"body_markdown":"Add `try-catch` around your code and print `stacktrace` to get more information about error .","body":"Add <code>try-catch</code> around your code and print <code>stacktrace</code> to get more information about error ."},{"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"score":0,"creation_date":1580658770,"post_id":60015998,"comment_id":106161312,"body_markdown":"@swati it&#39;s useless if the error is handled by the server.","body":"@swati it&#39;s useless if the error is handled by the server."}],"answers":[{"tags":[],"owner":{"account_id":698222,"reputation":50202,"user_id":573032,"accept_rate":77,"display_name":"Roman C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1580658898,"creation_date":1580658513,"answer_id":60027801,"question_id":60015998,"body_markdown":"The error message says that you have an exception in the line\r\n\r\n    Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/dbname&quot;,&quot;root&quot;,&quot;&quot;);\r\n\r\nThe problem is that an exception is thrown when executing this line.\r\n\r\nYou should check the server logs the cause of exception. \r\n\r\nYou can get details about error if you configure the error page like in [this][1] answer.\r\n\r\nIt&#39;s impossible to give you a solution using given information  but it can be a wrong connection URL which is missing the actual name of the database.\r\n\r\n[1]: https://stackoverflow.com/a/26802105/573032\r\n","title":"org.apache.jasper.JasperException: An exception occurred processing","body":"<p>The error message says that you have an exception in the line</p>\n\n<pre><code>Connection con = DriverManager.getConnection(\"jdbc:mysql://localhost:3306/dbname\",\"root\",\"\");\n</code></pre>\n\n<p>The problem is that an exception is thrown when executing this line.</p>\n\n<p>You should check the server logs the cause of exception. </p>\n\n<p>You can get details about error if you configure the error page like in <a href=\"https://stackoverflow.com/a/26802105/573032\">this</a> answer.</p>\n\n<p>It's impossible to give you a solution using given information  but it can be a wrong connection URL which is missing the actual name of the database.</p>\n"}],"owner":{"account_id":17624279,"reputation":21,"user_id":12789584,"display_name":"Arshlaan Noor"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":638,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":1,"score":2,"last_activity_date":1633776989,"creation_date":1580552690,"question_id":60015998,"body_markdown":"org.apache.jasper.JasperException: An exception occurred processing [/login1.jsp] at line [6]\r\n\r\n    3:     String email = request.getParameter(&quot;email&quot;);    \r\n    4:     String pwd = request.getParameter(&quot;password&quot;);\r\n    5:     Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\r\n    6:     Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/dbname&quot;,&quot;root&quot;,&quot;&quot;);\r\n    7:     Statement st = con.createStatement();\r\n    8:     ResultSet rs;\r\n    9:     rs = st.executeQuery(&quot;select * from admin where email=&#39;&quot; + email + &quot;&#39; and pass=&#39;&quot; + pwd + &quot;&#39;&quot;);\r\n\r\n","title":"org.apache.jasper.JasperException: An exception occurred processing","body":"<p>org.apache.jasper.JasperException: An exception occurred processing [/login1.jsp] at line [6]</p>\n<pre><code>3:     String email = request.getParameter(&quot;email&quot;);    \n4:     String pwd = request.getParameter(&quot;password&quot;);\n5:     Class.forName(&quot;com.mysql.jdbc.Driver&quot;);\n6:     Connection con = DriverManager.getConnection(&quot;jdbc:mysql://localhost:3306/dbname&quot;,&quot;root&quot;,&quot;&quot;);\n7:     Statement st = con.createStatement();\n8:     ResultSet rs;\n9:     rs = st.executeQuery(&quot;select * from admin where email='&quot; + email + &quot;' and pass='&quot; + pwd + &quot;'&quot;);\n</code></pre>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633775208,"creation_date":1633774332,"answer_id":69505750,"question_id":69505689,"body_markdown":"I would simply use `substring` and `lastIndexOf` in a while loop to get the string with complete words that is shorter than the limit.\r\n\r\n    while (input.length() &gt; k) {\r\n        input = input.substring(0, input.lastIndexOf(&#39; &#39;, k));\r\n    }\r\n\r\nOr as a function\r\n\r\n    static String trimWords(String sentence, int length) {\r\n        String result = sentence;\r\n        while (result.length() &gt; length) {\r\n            result = result.substring(0, result.lastIndexOf(&#39; &#39;, length));\r\n        }\r\n        return result;\r\n    }","title":"Not trimming the un finished word from a string in java","body":"<p>I would simply use <code>substring</code> and <code>lastIndexOf</code> in a while loop to get the string with complete words that is shorter than the limit.</p>\n<pre><code>while (input.length() &gt; k) {\n    input = input.substring(0, input.lastIndexOf(' ', k));\n}\n</code></pre>\n<p>Or as a function</p>\n<pre><code>static String trimWords(String sentence, int length) {\n    String result = sentence;\n    while (result.length() &gt; length) {\n        result = result.substring(0, result.lastIndexOf(' ', length));\n    }\n    return result;\n}\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user4910279"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633776656,"creation_date":1633775286,"answer_id":69505885,"question_id":69505689,"body_markdown":"Try this.\r\n\r\n    static String trim(String message, int k) {\r\n        return message.replaceFirst(&quot;^(.{0,&quot; + k + &quot;})\\\\b.*&quot;,  &quot;$1&quot;);\r\n    }\r\n\r\n    public static void main(String[] args) {\r\n        String s = &quot;The code is not trimming entire character&quot;;\r\n        for (int k = 12; k &lt;= 25; ++k)\r\n            System.out.println(&quot;k=&quot; + k + &quot; : &quot; + trim(s, k));\r\n    }\r\n\r\noutput:\r\n\r\n    k=12 : The code is \r\n    k=13 : The code is \r\n    k=14 : The code is \r\n    k=15 : The code is not\r\n    k=16 : The code is not \r\n    k=17 : The code is not \r\n    k=18 : The code is not \r\n    k=19 : The code is not \r\n    k=20 : The code is not \r\n    k=21 : The code is not \r\n    k=22 : The code is not \r\n    k=23 : The code is not \r\n    k=24 : The code is not trimming\r\n    k=25 : The code is not trimming \r\n\r\n","title":"Not trimming the un finished word from a string in java","body":"<p>Try this.</p>\n<pre><code>static String trim(String message, int k) {\n    return message.replaceFirst(&quot;^(.{0,&quot; + k + &quot;})\\\\b.*&quot;,  &quot;$1&quot;);\n}\n\npublic static void main(String[] args) {\n    String s = &quot;The code is not trimming entire character&quot;;\n    for (int k = 12; k &lt;= 25; ++k)\n        System.out.println(&quot;k=&quot; + k + &quot; : &quot; + trim(s, k));\n}\n</code></pre>\n<p>output:</p>\n<pre><code>k=12 : The code is \nk=13 : The code is \nk=14 : The code is \nk=15 : The code is not\nk=16 : The code is not \nk=17 : The code is not \nk=18 : The code is not \nk=19 : The code is not \nk=20 : The code is not \nk=21 : The code is not \nk=22 : The code is not \nk=23 : The code is not \nk=24 : The code is not trimming\nk=25 : The code is not trimming \n</code></pre>\n"}],"owner":{"account_id":15575115,"reputation":445,"user_id":11236416,"display_name":"maximus383"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1128,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69505750,"answer_count":2,"score":0,"last_activity_date":1633776656,"creation_date":1633773763,"question_id":69505689,"body_markdown":"In my program I have to trim the phrase in a limit of characters. The code works fine until the phrase is longer then the limit of characters because is not triming the unfinished word.\r\n\r\nExample: &quot;The code is not trimming entire character&quot; k=18.\r\n\r\nI will return &quot;The code is not tr&quot;.\r\n\r\nBut I need to trim of the last word entirely, to be like &quot;The code is not&quot;.\r\n\r\nHere is my code:\r\n\r\n    import java.lang.*;\r\n    class Trim{\r\n       public String trim(String message, int K)\r\n       {\r\n           //Checking message non-empty condition, K value and\r\n           //message length\r\n           if(message==&quot;&quot;|| message.length()&gt;500 || K&gt;500|| message.substring(0)==&quot; &quot; || message.charAt(message.length()-1) == &#39; &#39;)\r\n           {\r\n               System.out.println(&quot;Message is non-empty and K should have value between 1-500&quot;);\r\n               System.exit(0);\r\n           }\r\n           String crop;\r\n     \r\n           //Length of message\r\n           int len=message.length();\r\n     \r\n           //if K value greater than length return message\r\n           if(K&gt;=len)\r\n               return message;\r\n     \r\n           //Crop message until given value\r\n               crop=message.substring(0,K);\r\n     \r\n           //Checking middle value or not\r\n           if((message.substring(K+1)==&quot; &quot;)&amp;&amp;(message.substring(K-1)!=&quot; &quot;))\r\n               return crop;\r\n     \r\n           //Checking crop message with actual length\r\n           if(crop.length()==K)\r\n               return crop;\r\n     \r\n           //Remove last character\r\n           while(crop.length() &gt;0 &amp;&amp; crop.charAt(crop.length()-1) != &#39; &#39;){\r\n               crop=crop.substring(0,crop.length()- 1);\r\n           }\r\n     \r\n           //Remove space\r\n           while(crop.length() &gt;0 &amp;&amp; crop.charAt(crop.length()-1) == &#39; &#39;){\r\n               crop=crop.substring(0, crop.length() - 1);\r\n           }\r\n           return crop;\r\n       }\r\n    }\r\n   \r\n    class Main{\r\n     \r\n       public static void main(String[] args) {\r\n     \r\n           Solution s=new Solution();\r\n     \r\n           String message=&quot;The code is not trimming entire character&quot;;\r\n           System.out.println(s.solution(message,18));\r\n           String message1=&quot;no problem&quot;;\r\n           System.out.println(s.solution(message1,100));\r\n           String message2=&quot;The quick brown fox jumps over the lazy dog&quot;;\r\n           System.out.println(s.solution(message2,39));\r\n       }\r\n    }","title":"Not trimming the un finished word from a string in java","body":"<p>In my program I have to trim the phrase in a limit of characters. The code works fine until the phrase is longer then the limit of characters because is not triming the unfinished word.</p>\n<p>Example: &quot;The code is not trimming entire character&quot; k=18.</p>\n<p>I will return &quot;The code is not tr&quot;.</p>\n<p>But I need to trim of the last word entirely, to be like &quot;The code is not&quot;.</p>\n<p>Here is my code:</p>\n<pre><code>import java.lang.*;\nclass Trim{\n   public String trim(String message, int K)\n   {\n       //Checking message non-empty condition, K value and\n       //message length\n       if(message==&quot;&quot;|| message.length()&gt;500 || K&gt;500|| message.substring(0)==&quot; &quot; || message.charAt(message.length()-1) == ' ')\n       {\n           System.out.println(&quot;Message is non-empty and K should have value between 1-500&quot;);\n           System.exit(0);\n       }\n       String crop;\n \n       //Length of message\n       int len=message.length();\n \n       //if K value greater than length return message\n       if(K&gt;=len)\n           return message;\n \n       //Crop message until given value\n           crop=message.substring(0,K);\n \n       //Checking middle value or not\n       if((message.substring(K+1)==&quot; &quot;)&amp;&amp;(message.substring(K-1)!=&quot; &quot;))\n           return crop;\n \n       //Checking crop message with actual length\n       if(crop.length()==K)\n           return crop;\n \n       //Remove last character\n       while(crop.length() &gt;0 &amp;&amp; crop.charAt(crop.length()-1) != ' '){\n           crop=crop.substring(0,crop.length()- 1);\n       }\n \n       //Remove space\n       while(crop.length() &gt;0 &amp;&amp; crop.charAt(crop.length()-1) == ' '){\n           crop=crop.substring(0, crop.length() - 1);\n       }\n       return crop;\n   }\n}\n\nclass Main{\n \n   public static void main(String[] args) {\n \n       Solution s=new Solution();\n \n       String message=&quot;The code is not trimming entire character&quot;;\n       System.out.println(s.solution(message,18));\n       String message1=&quot;no problem&quot;;\n       System.out.println(s.solution(message1,100));\n       String message2=&quot;The quick brown fox jumps over the lazy dog&quot;;\n       System.out.println(s.solution(message2,39));\n   }\n}\n</code></pre>\n"},{"tags":["java","android","android-asynctask","android-studio","androidhttpclient"],"comments":[{"owner":{"account_id":3701688,"reputation":3357,"user_id":3081206,"display_name":"takendarkk"},"score":11,"creation_date":1404773013,"post_id":24620953,"comment_id":38155723,"body_markdown":"Debugging code that is invisible is hard.","body":"Debugging code that is invisible is hard."},{"owner":{"account_id":75423,"reputation":4782,"user_id":216363,"accept_rate":62,"display_name":"D-Nice"},"score":0,"creation_date":1404773307,"post_id":24620953,"comment_id":38155820,"body_markdown":"Sorry, added some code to look at.","body":"Sorry, added some code to look at."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1404780554,"post_id":24620953,"comment_id":38157735,"body_markdown":"Another thread is closing the socket while this one is blocked in the read(). Are you reusing the HTTPClient by any chance?","body":"Another thread is closing the socket while this one is blocked in the read(). Are you reusing the HTTPClient by any chance?"},{"owner":{"account_id":75423,"reputation":4782,"user_id":216363,"accept_rate":62,"display_name":"D-Nice"},"score":0,"creation_date":1404798103,"post_id":24620953,"comment_id":38162105,"body_markdown":"No, there is no other thread that closes the socket.  We use the `postData` function every time we want to make a request in the app.","body":"No, there is no other thread that closes the socket.  We use the <code>postData</code> function every time we want to make a request in the app."},{"owner":{"account_id":1173388,"reputation":495,"user_id":1150004,"accept_rate":40,"display_name":"blh83"},"score":2,"creation_date":1405032148,"post_id":24620953,"comment_id":38279865,"body_markdown":"I assume your description means that users of your app are seeing this crash and you can&#39;t reproduce it.  If that is the case, maybe they just have bad internet connectivity and you need to handle these errors more gracefully.  When testing your application, try cutting the internet connection while your app is running and see if it reproduces something similar. If it&#39;s a timing problem, put a sleep before the failing line so you can be sure to cut data connection before moving on.","body":"I assume your description means that users of your app are seeing this crash and you can&#39;t reproduce it.  If that is the case, maybe they just have bad internet connectivity and you need to handle these errors more gracefully.  When testing your application, try cutting the internet connection while your app is running and see if it reproduces something similar. If it&#39;s a timing problem, put a sleep before the failing line so you can be sure to cut data connection before moving on."}],"answers":[{"tags":[],"owner":{"account_id":3597156,"reputation":13701,"user_id":3001496,"accept_rate":86,"display_name":"nKn"},"down_vote_count":1,"up_vote_count":18,"is_accepted":false,"score":17,"last_activity_date":1405032751,"creation_date":1405032751,"answer_id":24687598,"question_id":24620953,"body_markdown":"In my opinion, the culprit of this problem is not your app, but the remote side (i.e., the HTTP server). The most probable thing is that the HTTP server is suddenly resetting the connection and this causes a `SocketException` in your app. In production environments, these things happen quite often. It might be caused by an overload of the HTTP server, some exceptional circumstance that might make the server close (HTTP request flood, or even an incremented number of requests when the remote server has run out of resources; the server could also run out of its local socket pool... reasons might be dozens).\r\n\r\nIf the proportion of these errors is low in comparison with the successful HTTP requests, I wouldn&#39;t worry much, I&#39;d just wrap that piece of code into a `try { ... } catch (SocketException e) { ... }` statement and show to the user a dialog telling them that the request has failed and they should retry.\r\n\r\nWhat I would certainly do is try to determine the reason of this behavior: I&#39;d try to match the time of one of these exceptions and try to dig into the HTTP server logs nearly to that time to try to determine the cause of this sudden disconnection (assuming you have access to that logs and other diagnostic tools). As I said before, it might be a silly thing or a bit more complex to debug, but I&#39;d bet this is the problem.","title":"Android Error: java.net.SocketException: Socket closed","body":"<p>In my opinion, the culprit of this problem is not your app, but the remote side (i.e., the HTTP server). The most probable thing is that the HTTP server is suddenly resetting the connection and this causes a <code>SocketException</code> in your app. In production environments, these things happen quite often. It might be caused by an overload of the HTTP server, some exceptional circumstance that might make the server close (HTTP request flood, or even an incremented number of requests when the remote server has run out of resources; the server could also run out of its local socket pool... reasons might be dozens).</p>\n\n<p>If the proportion of these errors is low in comparison with the successful HTTP requests, I wouldn't worry much, I'd just wrap that piece of code into a <code>try { ... } catch (SocketException e) { ... }</code> statement and show to the user a dialog telling them that the request has failed and they should retry.</p>\n\n<p>What I would certainly do is try to determine the reason of this behavior: I'd try to match the time of one of these exceptions and try to dig into the HTTP server logs nearly to that time to try to determine the cause of this sudden disconnection (assuming you have access to that logs and other diagnostic tools). As I said before, it might be a silly thing or a bit more complex to debug, but I'd bet this is the problem.</p>\n"},{"tags":[],"owner":{"account_id":270469,"reputation":6260,"user_id":560435,"accept_rate":48,"display_name":"Robert Rowntree"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405038477,"creation_date":1405036392,"answer_id":24688104,"question_id":24620953,"body_markdown":"You are currently accepting whatever defaults the client lib is config&#39;d with. Maybe you want to take more control of your Httpclient lib particularly regarding the socket TIMEOUT setting. Dont wait for the server to do something unexpected. Set a shorter timeout than the default and control the errors in a way that will make some sense to your users &quot;Try later msg&quot;....\r\n\r\nIf u are using default android httpclient you may want to look at alternatives that keep up with the newer Apache client releases...\r\n\r\nhttps://hc.apache.org/httpcomponents-client-4.3.x/android-port.html\r\n\r\nhttps://code.google.com/p/httpclientandroidlib/\r\n\r\n[general background async client][1]\r\n\r\nand note that with either of these you can take into account ( on Wifi ) OR ( on 4G ) that you can dial in [detailed timeout profiles][2] where you control the timeouts with code like below:\r\n\r\n    public void create(int method, final String url, final String data) {\r\n        this.method = method;\r\n        this.url = url;     \r\n        this.data = data;\r\n        if(method == GET){\r\n            this.config = RequestConfig.custom()\r\n                .setConnectTimeout(6 * 1000)\r\n                .setConnectionRequestTimeout(30 * 1000)\r\n                .setSocketTimeout(30 * 1000)                \r\n                .build();\r\n        } else{\r\n            this.config = RequestConfig.custom()\r\n                    .setConnectTimeout(6 * 1000)\r\n                    .setConnectionRequestTimeout(30 * 1000)\r\n                    .setSocketTimeout(60 * 1000)                \r\n                    .build();           \r\n        }\r\n        this.context = HttpClientContext.create(); \r\n\r\n using handlers and callbacks to the UI so you can show any alert dialog you want\r\n\r\nin runnable where you have the &#39;..client.exec(request$Type)&#39;\r\n\r\n\t\t\tif(httprc &lt; HttpStatus.SC_METHOD_NOT_ALLOWED){\r\n\t\t\t\t\r\n\t\t\t\tLog.d(TAG, &quot;entityTYP &quot; +response.getEntity().getClass().getName());\r\n\t\t\t\tprocessEntity(response.getEntity());\r\n\t\t\t\tresponse.close();\r\n\t\t\t}else{\r\n\t\t\t\tLog.d(TAG, &quot;ERR httprc &quot; +httprc);\r\n\t\t\t\tthrow new IOException(&quot;httprc &quot; +httprc +&quot; on &quot; +method);\r\n\t\t\t\t}\t\t\t\t\t\t\t\t\r\n\t\t\tthis.context.getConnection().close();\r\n\t} catch (Exception e) {  // this will catch your &#39;socketException&#39;\r\n       // catch and use the looper to direct to the desired UI thread handle\r\n\t\thandler0.sendMessage(Message.obtain(handler,\r\n\t\t\t\tHttpConnection.DID_ERROR, e.getMessage()));\r\n\t}\r\n\r\nback on the UI thread you control the alert for as many diff handlers as u need....\r\n\r\n\t\t\t   handler0 = new Handler() {\r\n\t\t\t       public void handleMessage(Message message) {\r\n\t\t\t         switch (message.what) {\r\n\t\t\t         case HttpConnection.DID_START: {\r\n\t\t\t           break;\r\n\t\t\t         }\r\n\t\t\t         case HttpConnection.DID_SUCCEED: {\t\t\t\t\t   \t\t\t        \t \r\n\t\t\t           break;\r\n\t\t\t         }\r\n\t\t\t         case HttpConnection.DID_ERROR: {\r\n\t\t\t\t           toggleSpin(false);\r\n\t\t\t\t           cleanup();\r\n                        //have access to orig message.obj here as well\r\n\t\t\t \t\t\t   Toast.makeText(Speech_API_Activity.this, getResources().getString(R.string.heroku_msg_mux),\r\n\t\t\t\t\t\t\t\tToast.LENGTH_SHORT).show();\r\n\t\t\t\t           break;\r\n\t\t\t\t         }\r\n\r\nIf necessary, you may establish diff timeout profiles by domain. It takes time to learn all the builder stuff and config stuff with these other 2 httpclient packages but , it may be worth the time because you can set it up to do anything you want and you have total control of exceptions and of what you want to route back to the UI. \r\n\r\n\r\n  [1]: http://masl.cis.gvsu.edu/2010/04/05/android-code-sample-asynchronous-http-connections/\r\n  [2]: http://www.baeldung.com/httpclient-timeout","title":"Android Error: java.net.SocketException: Socket closed","body":"<p>You are currently accepting whatever defaults the client lib is config'd with. Maybe you want to take more control of your Httpclient lib particularly regarding the socket TIMEOUT setting. Dont wait for the server to do something unexpected. Set a shorter timeout than the default and control the errors in a way that will make some sense to your users \"Try later msg\"....</p>\n\n<p>If u are using default android httpclient you may want to look at alternatives that keep up with the newer Apache client releases...</p>\n\n<p><a href=\"https://hc.apache.org/httpcomponents-client-4.3.x/android-port.html\" rel=\"nofollow\">https://hc.apache.org/httpcomponents-client-4.3.x/android-port.html</a></p>\n\n<p><a href=\"https://code.google.com/p/httpclientandroidlib/\" rel=\"nofollow\">https://code.google.com/p/httpclientandroidlib/</a></p>\n\n<p><a href=\"http://masl.cis.gvsu.edu/2010/04/05/android-code-sample-asynchronous-http-connections/\" rel=\"nofollow\">general background async client</a></p>\n\n<p>and note that with either of these you can take into account ( on Wifi ) OR ( on 4G ) that you can dial in <a href=\"http://www.baeldung.com/httpclient-timeout\" rel=\"nofollow\">detailed timeout profiles</a> where you control the timeouts with code like below:</p>\n\n<pre><code>public void create(int method, final String url, final String data) {\n    this.method = method;\n    this.url = url;     \n    this.data = data;\n    if(method == GET){\n        this.config = RequestConfig.custom()\n            .setConnectTimeout(6 * 1000)\n            .setConnectionRequestTimeout(30 * 1000)\n            .setSocketTimeout(30 * 1000)                \n            .build();\n    } else{\n        this.config = RequestConfig.custom()\n                .setConnectTimeout(6 * 1000)\n                .setConnectionRequestTimeout(30 * 1000)\n                .setSocketTimeout(60 * 1000)                \n                .build();           \n    }\n    this.context = HttpClientContext.create(); \n</code></pre>\n\n<p>using handlers and callbacks to the UI so you can show any alert dialog you want</p>\n\n<p>in runnable where you have the '..client.exec(request$Type)'</p>\n\n<pre><code>        if(httprc &lt; HttpStatus.SC_METHOD_NOT_ALLOWED){\n\n            Log.d(TAG, \"entityTYP \" +response.getEntity().getClass().getName());\n            processEntity(response.getEntity());\n            response.close();\n        }else{\n            Log.d(TAG, \"ERR httprc \" +httprc);\n            throw new IOException(\"httprc \" +httprc +\" on \" +method);\n            }                               \n        this.context.getConnection().close();\n} catch (Exception e) {  // this will catch your 'socketException'\n   // catch and use the looper to direct to the desired UI thread handle\n    handler0.sendMessage(Message.obtain(handler,\n            HttpConnection.DID_ERROR, e.getMessage()));\n}\n</code></pre>\n\n<p>back on the UI thread you control the alert for as many diff handlers as u need....</p>\n\n<pre><code>           handler0 = new Handler() {\n               public void handleMessage(Message message) {\n                 switch (message.what) {\n                 case HttpConnection.DID_START: {\n                   break;\n                 }\n                 case HttpConnection.DID_SUCCEED: {                                          \n                   break;\n                 }\n                 case HttpConnection.DID_ERROR: {\n                       toggleSpin(false);\n                       cleanup();\n                    //have access to orig message.obj here as well\n                       Toast.makeText(Speech_API_Activity.this, getResources().getString(R.string.heroku_msg_mux),\n                            Toast.LENGTH_SHORT).show();\n                       break;\n                     }\n</code></pre>\n\n<p>If necessary, you may establish diff timeout profiles by domain. It takes time to learn all the builder stuff and config stuff with these other 2 httpclient packages but , it may be worth the time because you can set it up to do anything you want and you have total control of exceptions and of what you want to route back to the UI. </p>\n"},{"tags":[],"owner":{"account_id":91722,"reputation":3529,"user_id":251708,"display_name":"Gladwin Burboz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1405373253,"creation_date":1405373253,"answer_id":24746269,"question_id":24620953,"body_markdown":" - What are you doing with HttpPost object returned from method\r\n   postData(...) ? That may be one of the cause to consider. Note there\r\n   are two threads, one main thread and another one that you spawn\r\n   above.\r\n   \r\n - In finally block you need to close resources like httpClient and   \r\n   response as well as completely empty out response inputstream. See examples for reference. \r\n\r\n   \r\n\r\n - Explicitly set charset on UrlEncodedFormEntity, may be to UTF-8\r\n","title":"Android Error: java.net.SocketException: Socket closed","body":"<ul>\n<li><p>What are you doing with HttpPost object returned from method\npostData(...) ? That may be one of the cause to consider. Note there\nare two threads, one main thread and another one that you spawn\nabove.</p></li>\n<li><p>In finally block you need to close resources like httpClient and<br>\nresponse as well as completely empty out response inputstream. See examples for reference. </p></li>\n<li><p>Explicitly set charset on UrlEncodedFormEntity, may be to UTF-8</p></li>\n</ul>\n"},{"tags":[],"owner":{"account_id":1338667,"reputation":472,"user_id":1280825,"display_name":"Christian Esken"},"down_vote_count":0,"up_vote_count":6,"is_accepted":false,"score":6,"last_activity_date":1405377877,"creation_date":1405377877,"answer_id":24747253,"question_id":24620953,"body_markdown":"A &quot;java.net.SocketException: Socket closed&quot; exception can happen in various situations. Either the server side closed the connection like nKn suggested, or the client side (your app) closed the connection. Even if you are not aware of doing it, there may be some less obvious code that may lead to closing the socket, like Thread.interrupt() or ExecutorService.shutdownNow().\r\n\r\nIf on the other hand it actually happens on the server side, I would advise that you implement retries - 3 tries are common practice and usually sufficient.","title":"Android Error: java.net.SocketException: Socket closed","body":"<p>A \"java.net.SocketException: Socket closed\" exception can happen in various situations. Either the server side closed the connection like nKn suggested, or the client side (your app) closed the connection. Even if you are not aware of doing it, there may be some less obvious code that may lead to closing the socket, like Thread.interrupt() or ExecutorService.shutdownNow().</p>\n\n<p>If on the other hand it actually happens on the server side, I would advise that you implement retries - 3 tries are common practice and usually sufficient.</p>\n"},{"tags":[],"owner":{"account_id":3766062,"reputation":5113,"user_id":3129572,"display_name":"Vaishali Sutariya"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1405593385,"creation_date":1405593385,"answer_id":24801258,"question_id":24620953,"body_markdown":" try to use this \r\n\r\n\tpublic static String WebserviceResponseHandle(String url,\r\n\t\t\tList&lt;NameValuePair&gt; namvaluePair) {\r\n\t\tString result = null;\r\n\t\ttry {\r\n\t\t\tHttpParams httpParams = new BasicHttpParams();\r\n\t\t\tHttpConnectionParams.setConnectionTimeout(httpParams, 10000);\r\n\t\t\tHttpConnectionParams.setSoTimeout(httpParams, 10000);\r\n\t\t\tHttpClient client = new DefaultHttpClient(httpParams);\r\n\t\t\tHttpPost httppost = new HttpPost(url);\r\n\t\t\thttppost.setEntity(new UrlEncodedFormEntity(namvaluePair));\r\n\t\t\tHttpResponse response = client.execute(httppost);\r\n\t\t\tHttpEntity entity = response.getEntity();\r\n\r\n\t\t\t// If the response does not enclose an entity, there is no need\r\n\t\t\tif (entity != null) {\r\n\t\t\t\tInputStream instream = entity.getContent();\r\n\t\t\t\tresult = convertStreamToString(instream);\r\n\r\n\t\t\t}\r\n\t\t} catch (Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t\treturn result;\r\n\t}\r\n\r\n\r\n        private static String convertStreamToString(InputStream is) {\r\n\t\t/*\r\n\t\t * To convert the InputStream to String we use the\r\n\t\t * BufferedReader.readLine() method. We iterate until the BufferedReader\r\n\t\t * return null which means there&#39;s no more data to read. Each line will\r\n\t\t * appended to a StringBuilder and returned as String.\r\n\t\t */\r\n\t\tBufferedReader reader = new BufferedReader(new InputStreamReader(is));\r\n\t\tStringBuilder sb = new StringBuilder();\r\n\r\n\t\tString line = null;\r\n\t\ttry {\r\n\t\t\twhile ((line = reader.readLine()) != null) {\r\n\t\t\t\tsb.append(line + &quot;\\n&quot;);\r\n\t\t\t}\r\n\t\t} catch (IOException e) {\r\n\t\t\te.printStackTrace();\r\n\t\t} finally {\r\n\t\t\ttry {\r\n\t\t\t\tis.close();\r\n\t\t\t} catch (IOException e) {\r\n\t\t\t\te.printStackTrace();\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn sb.toString();\r\n\t}","title":"Android Error: java.net.SocketException: Socket closed","body":"<p>try to use this </p>\n\n<pre><code>public static String WebserviceResponseHandle(String url,\n        List&lt;NameValuePair&gt; namvaluePair) {\n    String result = null;\n    try {\n        HttpParams httpParams = new BasicHttpParams();\n        HttpConnectionParams.setConnectionTimeout(httpParams, 10000);\n        HttpConnectionParams.setSoTimeout(httpParams, 10000);\n        HttpClient client = new DefaultHttpClient(httpParams);\n        HttpPost httppost = new HttpPost(url);\n        httppost.setEntity(new UrlEncodedFormEntity(namvaluePair));\n        HttpResponse response = client.execute(httppost);\n        HttpEntity entity = response.getEntity();\n\n        // If the response does not enclose an entity, there is no need\n        if (entity != null) {\n            InputStream instream = entity.getContent();\n            result = convertStreamToString(instream);\n\n        }\n    } catch (Exception e) {\n        e.printStackTrace();\n    }\n    return result;\n}\n\n\n    private static String convertStreamToString(InputStream is) {\n    /*\n     * To convert the InputStream to String we use the\n     * BufferedReader.readLine() method. We iterate until the BufferedReader\n     * return null which means there's no more data to read. Each line will\n     * appended to a StringBuilder and returned as String.\n     */\n    BufferedReader reader = new BufferedReader(new InputStreamReader(is));\n    StringBuilder sb = new StringBuilder();\n\n    String line = null;\n    try {\n        while ((line = reader.readLine()) != null) {\n            sb.append(line + \"\\n\");\n        }\n    } catch (IOException e) {\n        e.printStackTrace();\n    } finally {\n        try {\n            is.close();\n        } catch (IOException e) {\n            e.printStackTrace();\n        }\n    }\n    return sb.toString();\n}\n</code></pre>\n"}],"owner":{"account_id":75423,"reputation":4782,"user_id":216363,"accept_rate":62,"display_name":"D-Nice"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":34133,"favorite_count":0,"down_vote_count":0,"up_vote_count":20,"answer_count":5,"score":20,"last_activity_date":1633776565,"creation_date":1404772198,"question_id":24620953,"body_markdown":"I&#39;m seeing this error come up in my crash logs hundreds of times a week but I have spent at this point several weeks trying to chase down the error without any success.  I have been unable to reproduce it on any of my devices.  Here&#39;s the stack trace:\r\n\r\n    Posix.java:-2 in &quot;libcore.io.Posix.recvfromBytes&quot;\r\n    Posix.java:131 in &quot;libcore.io.Posix.recvfrom&quot;\r\n    BlockGuardOs.java:164 in &quot;libcore.io.BlockGuardOs.recvfrom&quot;\r\n    IoBridge.java:513 in &quot;libcore.io.IoBridge.recvfrom&quot;\r\n    PlainSocketImpl.java:489 in &quot;java.net.PlainSocketImpl.read&quot;\r\n    PlainSocketImpl.java:46 in &quot;java.net.PlainSocketImpl.access$000&quot;\r\n    PlainSocketImpl.java:241 in &quot;java.net.PlainSocketImpl$PlainSocketInputStream.read&quot;\r\n    AbstractSessionInputBuffer.java:103 in &quot;org.apache.http.impl.io.AbstractSessionInputBuffer.fillBuffer&quot;\r\n    AbstractSessionInputBuffer.java:191 in &quot;org.apache.http.impl.io.AbstractSessionInputBuffer.readLine&quot;\r\n    DefaultResponseParser.java:82 in &quot;org.apache.http.impl.conn.DefaultResponseParser.parseHead&quot;\r\n    AbstractMessageParser.java:174 in &quot;org.apache.http.impl.io.AbstractMessageParser.parse&quot;\r\n    AbstractHttpClientConnection.java:180 in &quot;org.apache.http.impl.AbstractHttpClientConnection.receiveResponseHeader&quot;\r\n    DefaultClientConnection.java:235 in &quot;org.apache.http.impl.conn.DefaultClientConnection.receiveResponseHeader&quot;\r\n    AbstractClientConnAdapter.java:259 in &quot;org.apache.http.impl.conn.AbstractClientConnAdapter.receiveResponseHeader&quot;\r\n    HttpRequestExecutor.java:279 in &quot;org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse&quot;\r\n    HttpRequestExecutor.java:121 in &quot;org.apache.http.protocol.HttpRequestExecutor.execute&quot;\r\n    DefaultRequestDirector.java:428 in &quot;org.apache.http.impl.client.DefaultRequestDirector.execute&quot;\r\n    AbstractHttpClient.java:555 in &quot;org.apache.http.impl.client.AbstractHttpClient.execute&quot;\r\n    AbstractHttpClient.java:487 in &quot;org.apache.http.impl.client.AbstractHttpClient.execute&quot;\r\n    AbstractHttpClient.java:465 in &quot;org.apache.http.impl.client.AbstractHttpClient.execute&quot;\r\n    Utilities.java:484 in &quot;com.myapp.android.Utilities$8.run&quot;\r\n\r\n\r\n\r\n\r\n\r\nHere&#39;s the block of code where the error is coming from... the exact where the crash occurs is `HttpResponse response = httpclient.execute(httppost);`:\r\n\r\n\r\n\r\n     public static HttpPost postData(String URL, final List&lt;NameValuePair&gt; params, final Handler handler) {\r\n            // Create a new HttpClient and Post Header\r\n            //android.util.Log.d(&quot;Utilities&quot;, &quot;Called postData&quot;);\r\n            final HttpClient httpclient = new DefaultHttpClient();\r\n            //httpclient.\r\n            final HttpPost httppost = new HttpPost(URL);\r\n            final Message msg = new Message();\r\n            final Bundle dataBundle = new Bundle();\r\n            final ByteArrayOutputStream out = new ByteArrayOutputStream();\r\n    \r\n            new Thread(){\r\n                @Override\r\n                public void run(){\r\n                    String error = &quot;&quot;;\r\n                    String data = &quot;&quot;;\r\n                    try {\r\n                        httppost.setEntity(new UrlEncodedFormEntity(params));\r\n                        HttpResponse response = httpclient.execute(httppost);\r\n                        StatusLine statusLine = response.getStatusLine();\r\n                        if(statusLine.getStatusCode() == HttpStatus.SC_OK){\r\n                            response.getEntity().writeTo(out);\r\n                            out.close();\r\n                            data = out.toString();\r\n                        } else{\r\n                            error = EntityUtils.toString(response.getEntity());\r\n                        }\r\n                    } catch (ClientProtocolException e) {\r\n                        AirbrakeNotifier.notify(e);\r\n                        error = e.toString();\r\n                    } catch (IOException e) {\r\n                        AirbrakeNotifier.notify(e);\r\n                        error = e.toString();\r\n                    } catch (Exception ex) {\r\n                        AirbrakeNotifier.notify(ex);\r\n                        error = ex.toString();\r\n                    }\r\n                    dataBundle.putString(&quot;error&quot;, error);\r\n                    dataBundle.putString(&quot;data&quot;, data);\r\n                    msg.setData(dataBundle);\r\n                    handler.dispatchMessage(msg);\r\n                }\r\n            }.start();\r\n            return httppost;\r\n        }\r\n\r\nAny help on finally figuring this one out is greatly appreciated!","title":"Android Error: java.net.SocketException: Socket closed","body":"<p>I'm seeing this error come up in my crash logs hundreds of times a week but I have spent at this point several weeks trying to chase down the error without any success.  I have been unable to reproduce it on any of my devices.  Here's the stack trace:</p>\n\n<pre><code>Posix.java:-2 in \"libcore.io.Posix.recvfromBytes\"\nPosix.java:131 in \"libcore.io.Posix.recvfrom\"\nBlockGuardOs.java:164 in \"libcore.io.BlockGuardOs.recvfrom\"\nIoBridge.java:513 in \"libcore.io.IoBridge.recvfrom\"\nPlainSocketImpl.java:489 in \"java.net.PlainSocketImpl.read\"\nPlainSocketImpl.java:46 in \"java.net.PlainSocketImpl.access$000\"\nPlainSocketImpl.java:241 in \"java.net.PlainSocketImpl$PlainSocketInputStream.read\"\nAbstractSessionInputBuffer.java:103 in \"org.apache.http.impl.io.AbstractSessionInputBuffer.fillBuffer\"\nAbstractSessionInputBuffer.java:191 in \"org.apache.http.impl.io.AbstractSessionInputBuffer.readLine\"\nDefaultResponseParser.java:82 in \"org.apache.http.impl.conn.DefaultResponseParser.parseHead\"\nAbstractMessageParser.java:174 in \"org.apache.http.impl.io.AbstractMessageParser.parse\"\nAbstractHttpClientConnection.java:180 in \"org.apache.http.impl.AbstractHttpClientConnection.receiveResponseHeader\"\nDefaultClientConnection.java:235 in \"org.apache.http.impl.conn.DefaultClientConnection.receiveResponseHeader\"\nAbstractClientConnAdapter.java:259 in \"org.apache.http.impl.conn.AbstractClientConnAdapter.receiveResponseHeader\"\nHttpRequestExecutor.java:279 in \"org.apache.http.protocol.HttpRequestExecutor.doReceiveResponse\"\nHttpRequestExecutor.java:121 in \"org.apache.http.protocol.HttpRequestExecutor.execute\"\nDefaultRequestDirector.java:428 in \"org.apache.http.impl.client.DefaultRequestDirector.execute\"\nAbstractHttpClient.java:555 in \"org.apache.http.impl.client.AbstractHttpClient.execute\"\nAbstractHttpClient.java:487 in \"org.apache.http.impl.client.AbstractHttpClient.execute\"\nAbstractHttpClient.java:465 in \"org.apache.http.impl.client.AbstractHttpClient.execute\"\nUtilities.java:484 in \"com.myapp.android.Utilities$8.run\"\n</code></pre>\n\n<p>Here's the block of code where the error is coming from... the exact where the crash occurs is <code>HttpResponse response = httpclient.execute(httppost);</code>:</p>\n\n<pre><code> public static HttpPost postData(String URL, final List&lt;NameValuePair&gt; params, final Handler handler) {\n        // Create a new HttpClient and Post Header\n        //android.util.Log.d(\"Utilities\", \"Called postData\");\n        final HttpClient httpclient = new DefaultHttpClient();\n        //httpclient.\n        final HttpPost httppost = new HttpPost(URL);\n        final Message msg = new Message();\n        final Bundle dataBundle = new Bundle();\n        final ByteArrayOutputStream out = new ByteArrayOutputStream();\n\n        new Thread(){\n            @Override\n            public void run(){\n                String error = \"\";\n                String data = \"\";\n                try {\n                    httppost.setEntity(new UrlEncodedFormEntity(params));\n                    HttpResponse response = httpclient.execute(httppost);\n                    StatusLine statusLine = response.getStatusLine();\n                    if(statusLine.getStatusCode() == HttpStatus.SC_OK){\n                        response.getEntity().writeTo(out);\n                        out.close();\n                        data = out.toString();\n                    } else{\n                        error = EntityUtils.toString(response.getEntity());\n                    }\n                } catch (ClientProtocolException e) {\n                    AirbrakeNotifier.notify(e);\n                    error = e.toString();\n                } catch (IOException e) {\n                    AirbrakeNotifier.notify(e);\n                    error = e.toString();\n                } catch (Exception ex) {\n                    AirbrakeNotifier.notify(ex);\n                    error = ex.toString();\n                }\n                dataBundle.putString(\"error\", error);\n                dataBundle.putString(\"data\", data);\n                msg.setData(dataBundle);\n                handler.dispatchMessage(msg);\n            }\n        }.start();\n        return httppost;\n    }\n</code></pre>\n\n<p>Any help on finally figuring this one out is greatly appreciated!</p>\n"},{"tags":["java","json","jackson"],"answers":[{"tags":[],"owner":{"account_id":10363173,"reputation":303,"user_id":8694640,"display_name":"dope"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633671997,"creation_date":1633671997,"answer_id":69491036,"question_id":69490052,"body_markdown":"Setters are not generated when you use Lomboks [@Value][1] annotation that&#39;s why you&#39;re getting the exception in your code. Instead you should use [@Data][2] annotation.\r\n\r\n\r\n  [1]: https://projectlombok.org/features/Value\r\n  [2]: https://projectlombok.org/features/Data","title":"Jackson failing to deserialize simple JSON","body":"<p>Setters are not generated when you use Lomboks <a href=\"https://projectlombok.org/features/Value\" rel=\"nofollow noreferrer\">@Value</a> annotation that's why you're getting the exception in your code. Instead you should use <a href=\"https://projectlombok.org/features/Data\" rel=\"nofollow noreferrer\">@Data</a> annotation.</p>\n"},{"tags":[],"owner":{"account_id":146274,"reputation":3851,"user_id":356629,"accept_rate":100,"display_name":"kenny_k"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633678381,"creation_date":1633677891,"answer_id":69492048,"question_id":69490052,"body_markdown":"The reason this doesn&#39;t work is that when you use [`@Value`][1] in conjunction with [`@Builder`][2], no `public` constructor is generated:\r\n\r\n&gt; Also, any explicit constructor, no matter the arguments list, implies lombok will not generate a constructor. If you do want lombok to generate the all-args constructor, add @AllArgsConstructor to the class.\r\n\r\nand\r\n\r\n&gt; applying @Builder to a class is as if you added @AllArgsConstructor(access = AccessLevel.PACKAGE) to the class\r\n\r\nSo, in summary, if you wish to maintain the immutability provided by `@Value`, in this case you also need to add `@AllArgsConstructor`. \r\n\r\n\r\n  [1]: https://projectlombok.org/features/Value\r\n  [2]: https://projectlombok.org/features/Builder","title":"Jackson failing to deserialize simple JSON","body":"<p>The reason this doesn't work is that when you use <a href=\"https://projectlombok.org/features/Value\" rel=\"nofollow noreferrer\"><code>@Value</code></a> in conjunction with <a href=\"https://projectlombok.org/features/Builder\" rel=\"nofollow noreferrer\"><code>@Builder</code></a>, no <code>public</code> constructor is generated:</p>\n<blockquote>\n<p>Also, any explicit constructor, no matter the arguments list, implies lombok will not generate a constructor. If you do want lombok to generate the all-args constructor, add @AllArgsConstructor to the class.</p>\n</blockquote>\n<p>and</p>\n<blockquote>\n<p>applying @Builder to a class is as if you added @AllArgsConstructor(access = AccessLevel.PACKAGE) to the class</p>\n</blockquote>\n<p>So, in summary, if you wish to maintain the immutability provided by <code>@Value</code>, in this case you also need to add <code>@AllArgsConstructor</code>.</p>\n"},{"tags":[],"owner":{"account_id":4228398,"reputation":17727,"user_id":3461397,"display_name":"Oleg Cherednik"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1633678648,"creation_date":1633678648,"answer_id":69492196,"question_id":69490052,"body_markdown":"```java\r\n@Value\r\n@Builder\r\n@JsonDeserializer(builder = RecipeListRemoveDTO.RecipeListRemoveDTOBuilder.class)\r\npublic final class RecipeListRemoveDTO {\r\n    int recipeListId;\r\n    \r\n    @JsonPOJOBuilder(withPrefix = &quot;&quot;)\r\n    public static final class RecipeListRemoveDTOBuilder {}\r\n}\r\n```","title":"Jackson failing to deserialize simple JSON","body":"<pre class=\"lang-java prettyprint-override\"><code>@Value\n@Builder\n@JsonDeserializer(builder = RecipeListRemoveDTO.RecipeListRemoveDTOBuilder.class)\npublic final class RecipeListRemoveDTO {\n    int recipeListId;\n    \n    @JsonPOJOBuilder(withPrefix = &quot;&quot;)\n    public static final class RecipeListRemoveDTOBuilder {}\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9779820,"reputation":9709,"user_id":7248342,"display_name":"Thomas Fritsch"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633776449,"creation_date":1633723300,"answer_id":69501162,"question_id":69490052,"body_markdown":"Jackson didn&#39;t know that it should use the Lombok-generated builder.\r\nProbably the easiest solution is to annotate your class also with [Lombok&#39;s `@Jacksonized` annotation][1] (available since Lombok\r\n1.18.14).\r\n\r\n    @Value\r\n    @Builder\r\n    @Jacksonized\r\n    public class RecipeListRemoveDTO {\r\n        int recipeListId;\r\n    }\r\n\r\nUnder the hood the `@Jacksonized` annotation causes Lombok\r\nto do the following things (so that you don&#39;t need to do these\r\nmanually):\r\n* It adds `@JsonDeserialize(builder=RecipeListRemoveDTO.RecipeListRemoveDTOBuilder.class)`\r\n  to your class, so that Jackson knows it should use\r\n  the builder for deserialization.\r\n* It adds `@JsonPOJOBuilder(withPrefix=&quot;&quot;)`to the builder class,\r\n  so that Jackson knows the buillder methods have a name\r\n  not beginning by `with`.\r\n\r\n [1]: https://projectlombok.org/features/experimental/Jacksonized","title":"Jackson failing to deserialize simple JSON","body":"<p>Jackson didn't know that it should use the Lombok-generated builder.\nProbably the easiest solution is to annotate your class also with <a href=\"https://projectlombok.org/features/experimental/Jacksonized\" rel=\"nofollow noreferrer\">Lombok's <code>@Jacksonized</code> annotation</a> (available since Lombok\n1.18.14).</p>\n<pre><code>@Value\n@Builder\n@Jacksonized\npublic class RecipeListRemoveDTO {\n    int recipeListId;\n}\n</code></pre>\n<p>Under the hood the <code>@Jacksonized</code> annotation causes Lombok\nto do the following things (so that you don't need to do these\nmanually):</p>\n<ul>\n<li>It adds <code>@JsonDeserialize(builder=RecipeListRemoveDTO.RecipeListRemoveDTOBuilder.class)</code>\nto your class, so that Jackson knows it should use\nthe builder for deserialization.</li>\n<li>It adds <code>@JsonPOJOBuilder(withPrefix=&quot;&quot;)</code>to the builder class,\nso that Jackson knows the buillder methods have a name\nnot beginning by <code>with</code>.</li>\n</ul>\n"}],"owner":{"account_id":22890099,"reputation":73,"user_id":17030357,"display_name":"uniqueuser-programmer"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":635,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":69501162,"answer_count":4,"score":3,"last_activity_date":1633776449,"creation_date":1633662778,"question_id":69490052,"body_markdown":"I&#39;m using Lombok, and the @Annotations create getters, setters, and constructors for me. I have many other classes which Jackson deserializes easily. Here is the object I&#39;m trying to deserialize to:\r\n\r\n```java\r\n@Value\r\n@Builder\r\npublic class RecipeListRemoveDTO {\r\n    int recipeListId;\r\n}\r\n```\r\nUsed within the following Controller method:\r\n```java\r\n@DeleteMapping(path=&quot;/deleteRecipeListFromUser&quot;)\r\npublic @ResponseBody String deleteRecipeListFromUser(@RequestBody RecipeListRemoveDTO recipeListRemoveDTO) {\r\n    return recipeListService.removeRecipeListFromUser(recipeListRemoveDTO);\r\n}\r\n```\r\nAnd the JSON I am sending:\r\n```json\r\n{\r\n    &quot;recipeListId&quot;: 2\r\n}\r\n```\r\nBut I&#39;m receiving the error:\r\n\r\n`&quot;message&quot;: &quot;JSON parse error: Cannot construct instance of com.prepchef.backend.models.dto.RecipeListRemoveDTO (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of com.prepchef.backend.models.dto.RecipeListRemoveDTO (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator) at [Source: (PushbackInputStream); line: 2, column: 5]&quot;`  \r\n\r\nDoes anyone know why this may be the case?","title":"Jackson failing to deserialize simple JSON","body":"<p>I'm using Lombok, and the @Annotations create getters, setters, and constructors for me. I have many other classes which Jackson deserializes easily. Here is the object I'm trying to deserialize to:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Value\n@Builder\npublic class RecipeListRemoveDTO {\n    int recipeListId;\n}\n</code></pre>\n<p>Used within the following Controller method:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@DeleteMapping(path=&quot;/deleteRecipeListFromUser&quot;)\npublic @ResponseBody String deleteRecipeListFromUser(@RequestBody RecipeListRemoveDTO recipeListRemoveDTO) {\n    return recipeListService.removeRecipeListFromUser(recipeListRemoveDTO);\n}\n</code></pre>\n<p>And the JSON I am sending:</p>\n<pre class=\"lang-json prettyprint-override\"><code>{\n    &quot;recipeListId&quot;: 2\n}\n</code></pre>\n<p>But I'm receiving the error:</p>\n<p><code>&quot;message&quot;: &quot;JSON parse error: Cannot construct instance of com.prepchef.backend.models.dto.RecipeListRemoveDTO (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator); nested exception is com.fasterxml.jackson.databind.exc.MismatchedInputException: Cannot construct instance of com.prepchef.backend.models.dto.RecipeListRemoveDTO (although at least one Creator exists): cannot deserialize from Object value (no delegate- or property-based Creator) at [Source: (PushbackInputStream); line: 2, column: 5]&quot;</code></p>\n<p>Does anyone know why this may be the case?</p>\n"},{"tags":["java","intellij-idea","import","thrift"],"comments":[{"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"score":0,"creation_date":1633761385,"post_id":69504219,"comment_id":122851013,"body_markdown":"Do you use any dependency management tool?  (Maven or Gradle?)","body":"Do you use any dependency management tool?  (Maven or Gradle?)"}],"answers":[{"tags":[],"owner":{"account_id":10433138,"reputation":984,"user_id":7692352,"display_name":"Aris"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633764180,"creation_date":1633763844,"answer_id":69504562,"question_id":69504219,"body_markdown":"I would recommend you to use a dependency management tool like\r\n[`Maven`](https://maven.apache.org/) or [`Gradle`](https://gradle.org/).\r\n\r\nThose tools will help you with your dependencies and not only (Builds, lifecycles, etc).\r\n\r\nSo what you will have to do is the following:\r\n\r\nFor `Maven` at your `pom` file, get the dependency from the [Maven Repo](https://mvnrepository.com/artifact/org.apache.thrift/libthrift/0.15.0):\r\n\r\n```\r\n&lt;dependency&gt;\r\n    &lt;groupId&gt;org.apache.thrift&lt;/groupId&gt;\r\n    &lt;artifactId&gt;libthrift&lt;/artifactId&gt;\r\n    &lt;version&gt;0.15.0&lt;/version&gt;\r\n&lt;/dependency&gt;\r\n\r\n```\r\n\r\nFor `Gradle` at your `.gradle` file, again from [Maven Repo](https://mvnrepository.com/artifact/org.apache.thrift/libthrift/0.15.0):\r\n```\r\nimplementation group: &#39;org.apache.thrift&#39;, name: &#39;libthrift&#39;, version: &#39;0.15.0&#39;\r\n```\r\n\r\nIf you won&#39;t use the above tools, then you must find and download the .jar file\r\nof the library, you want to use and add it to your project&#39;s classpath.\r\n\r\nGo to the `Apache Thrift` [website](https://thrift.apache.org/download) and there you can get the latest release.\r\n\r\nBut, to answer your question, *YES* they should also download the libraries you used unless you pack them all together (as `Maven` does it for you). \r\n\r\nBut the issue is if the other users download a different version than the one you used. Then maybe your app won&#39;t run as expected or even throw exceptions.\r\n\r\n","title":"Why can&#39;t I import apache.thrift to an IntelliJ project?","body":"<p>I would recommend you to use a dependency management tool like\n<a href=\"https://maven.apache.org/\" rel=\"nofollow noreferrer\"><code>Maven</code></a> or <a href=\"https://gradle.org/\" rel=\"nofollow noreferrer\"><code>Gradle</code></a>.</p>\n<p>Those tools will help you with your dependencies and not only (Builds, lifecycles, etc).</p>\n<p>So what you will have to do is the following:</p>\n<p>For <code>Maven</code> at your <code>pom</code> file, get the dependency from the <a href=\"https://mvnrepository.com/artifact/org.apache.thrift/libthrift/0.15.0\" rel=\"nofollow noreferrer\">Maven Repo</a>:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.apache.thrift&lt;/groupId&gt;\n    &lt;artifactId&gt;libthrift&lt;/artifactId&gt;\n    &lt;version&gt;0.15.0&lt;/version&gt;\n&lt;/dependency&gt;\n\n</code></pre>\n<p>For <code>Gradle</code> at your <code>.gradle</code> file, again from <a href=\"https://mvnrepository.com/artifact/org.apache.thrift/libthrift/0.15.0\" rel=\"nofollow noreferrer\">Maven Repo</a>:</p>\n<pre><code>implementation group: 'org.apache.thrift', name: 'libthrift', version: '0.15.0'\n</code></pre>\n<p>If you won't use the above tools, then you must find and download the .jar file\nof the library, you want to use and add it to your project's classpath.</p>\n<p>Go to the <code>Apache Thrift</code> <a href=\"https://thrift.apache.org/download\" rel=\"nofollow noreferrer\">website</a> and there you can get the latest release.</p>\n<p>But, to answer your question, <em>YES</em> they should also download the libraries you used unless you pack them all together (as <code>Maven</code> does it for you).</p>\n<p>But the issue is if the other users download a different version than the one you used. Then maybe your app won't run as expected or even throw exceptions.</p>\n"}],"owner":{"account_id":18619531,"reputation":11,"user_id":13570086,"display_name":"Telvin"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":353,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633776395,"creation_date":1633760154,"question_id":69504219,"body_markdown":"New to big Java projects so I&#39;m not too sure how dependencies work in code. If I wanted to use apache thrift, why can I not just put \r\n```\r\nimport org.apache.thrift.server.TServer;\r\n\r\nimport org.apache.thrift.server.TThreadPoolServer;\r\n\r\nimport org.apache.thrift.transport.TServerSocket;\r\n\r\nimport org.apache.thrift.transport.TServerTransport;\r\n```\r\nat the top of my files? Does this require me to download something and add it to my classpath? Wouldn&#39;t that imply that anyone else trying to run my code would also need to install it locally? I&#39;m hoping to have standalone Java files without using something like Maven or npm. Thanks in advance. ","title":"Why can&#39;t I import apache.thrift to an IntelliJ project?","body":"<p>New to big Java projects so I'm not too sure how dependencies work in code. If I wanted to use apache thrift, why can I not just put</p>\n<pre><code>import org.apache.thrift.server.TServer;\n\nimport org.apache.thrift.server.TThreadPoolServer;\n\nimport org.apache.thrift.transport.TServerSocket;\n\nimport org.apache.thrift.transport.TServerTransport;\n</code></pre>\n<p>at the top of my files? Does this require me to download something and add it to my classpath? Wouldn't that imply that anyone else trying to run my code would also need to install it locally? I'm hoping to have standalone Java files without using something like Maven or npm. Thanks in advance.</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":6104455,"reputation":4456,"user_id":4762502,"accept_rate":73,"display_name":"Gaurav Jeswani"},"score":0,"creation_date":1633325077,"post_id":69431219,"comment_id":122719652,"body_markdown":"Would you please share the code, what you have done so far?","body":"Would you please share the code, what you have done so far?"},{"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"score":0,"creation_date":1633325423,"post_id":69431219,"comment_id":122719708,"body_markdown":"Yes sure, I will add it to my question","body":"Yes sure, I will add it to my question"},{"owner":{"account_id":3273887,"reputation":1250,"user_id":2756517,"display_name":"Yaman Jain"},"score":1,"creation_date":1633325554,"post_id":69431219,"comment_id":122719740,"body_markdown":"You should use single loop to iterate over both the lists and compare items at the same index","body":"You should use single loop to iterate over both the lists and compare items at the same index"},{"owner":{"account_id":7595189,"reputation":44576,"user_id":5761558,"display_name":"ernest_k"},"score":1,"creation_date":1633325583,"post_id":69431219,"comment_id":122719747,"body_markdown":"Use just a normal for loop `for(int i = 0; i &lt; answerList.size(); i++)` then compare by reading with index `if(answerList.get(i).equals(userAnswerList.get(i)) score++;`. A nested loop doesn&#39;t make sense in this case.","body":"Use just a normal for loop <code>for(int i = 0; i &lt; answerList.size(); i++)</code> then compare by reading with index <code>if(answerList.get(i).equals(userAnswerList.get(i)) score++;</code>. A nested loop doesn&#39;t make sense in this case."},{"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"score":0,"creation_date":1633325614,"post_id":69431219,"comment_id":122719752,"body_markdown":"I am not able to implement that. I tried but I am got stuck because I couldn&#39;t figure out how to use 2 indices with one loop","body":"I am not able to implement that. I tried but I am got stuck because I couldn&#39;t figure out how to use 2 indices with one loop"},{"owner":{"account_id":3273887,"reputation":1250,"user_id":2756517,"display_name":"Yaman Jain"},"score":0,"creation_date":1633325716,"post_id":69431219,"comment_id":122719770,"body_markdown":"when you use nested loop you are basically comparing every item from one list to another which is wrong as per problem description, the idea is compare item at the same index","body":"when you use nested loop you are basically comparing every item from one list to another which is wrong as per problem description, the idea is compare item at the same index"},{"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"score":0,"creation_date":1633325784,"post_id":69431219,"comment_id":122719787,"body_markdown":"@ernest_k That seems to be working, thanks a lot!","body":"@ernest_k That seems to be working, thanks a lot!"},{"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"score":0,"creation_date":1633325860,"post_id":69431219,"comment_id":122719807,"body_markdown":"@YamanJain I realized my mistake, I was complicating it unnecessarily. Thanks for your help!","body":"@YamanJain I realized my mistake, I was complicating it unnecessarily. Thanks for your help!"}],"answers":[{"tags":[],"owner":{"account_id":22826593,"reputation":39,"user_id":16975766,"display_name":"Zsolt Toth"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633326929,"creation_date":1633326929,"answer_id":69431452,"question_id":69431219,"body_markdown":"You should use a single loop. There is no need for nested loops. \r\n\r\n```java\r\nfor(int i = 0; i &lt; correctAnswers.length(); i++){\r\n  if(correntAnswers.get(i).equals(userAnswers.get(i)){\r\n     score++;\r\n  }\r\n}\r\n```\r\n\r\nIn addition, I would extract the if condition into a private method to incrase the readability.\r\n\r\n```java\r\nfor(int i = 0; i &lt; correctAnswers.length(); i++){\r\n  if(isSame(correctAnsers.get(i), userAnswers.get(i)){\r\n     score++;\r\n  }\r\n}\r\n\r\n\r\n----\r\nprivate boolean isSame(String correctAnswer, String userAnswer){\r\n return correntAnswer.equals(userAnswer);\r\n// You could use toUpperCase for better matching\r\n// In this solution &quot;Apple&quot; is not equal to &quot;apple&quot;.\r\n}\r\n```","title":"Comparing if 2 arraylists contain the same characters indexwise","body":"<p>You should use a single loop. There is no need for nested loops.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; correctAnswers.length(); i++){\n  if(correntAnswers.get(i).equals(userAnswers.get(i)){\n     score++;\n  }\n}\n</code></pre>\n<p>In addition, I would extract the if condition into a private method to incrase the readability.</p>\n<pre class=\"lang-java prettyprint-override\"><code>for(int i = 0; i &lt; correctAnswers.length(); i++){\n  if(isSame(correctAnsers.get(i), userAnswers.get(i)){\n     score++;\n  }\n}\n\n\n----\nprivate boolean isSame(String correctAnswer, String userAnswer){\n return correntAnswer.equals(userAnswer);\n// You could use toUpperCase for better matching\n// In this solution &quot;Apple&quot; is not equal to &quot;apple&quot;.\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14260298,"reputation":784,"user_id":10301322,"display_name":"CcmU"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633773263,"creation_date":1633772940,"answer_id":69505571,"question_id":69431219,"body_markdown":"Normally, if you had to compare each entire string in `userAnswers` with the one at the corresponding index in `correctAnswers`, you could have used a single `for` loop with a simple check like `userAnswers.get(i).equals(correctAnswers.get(i))`, but since you have to do another thing, as you said\r\n\r\n&gt;I have to compare the individual characters in both the lists, and every time I see a common character at the same index, I increase the user&#39;s score by 1.\r\n\r\nyou should do something different. You can use a nested `for` loop to cycle, in the first loop, through the entire answers and, in the second one, through the single characters. So, you could use something like this:\r\n\r\n```lang-java\r\nArrayList&lt;String&gt; userAnswers = storeCorrectAnswers();\r\nArrayList&lt;String&gt; correctAnswers = askQuestionsOneByOne();\r\n\r\npublic int getTotalScore()  {\r\n    int score = 0;\r\n    for (int i = 0; i &lt; userAnswers.size(); i++) {\r\n        for (int j = 0; j &lt; userAnswers.get(i).length(); j++) {\r\n            if (userAnswers.get(i).charAt(j) == correctAnswers.get(i).charAt(j)) {\r\n                score++;\r\n            }\r\n        }\r\n    }\r\n    return score;\r\n}\r\n```\r\nN.B. I assume that `userAnswers` has the exact same size of `correctAnswers`","title":"Comparing if 2 arraylists contain the same characters indexwise","body":"<p>Normally, if you had to compare each entire string in <code>userAnswers</code> with the one at the corresponding index in <code>correctAnswers</code>, you could have used a single <code>for</code> loop with a simple check like <code>userAnswers.get(i).equals(correctAnswers.get(i))</code>, but since you have to do another thing, as you said</p>\n<blockquote>\n<p>I have to compare the individual characters in both the lists, and every time I see a common character at the same index, I increase the user's score by 1.</p>\n</blockquote>\n<p>you should do something different. You can use a nested <code>for</code> loop to cycle, in the first loop, through the entire answers and, in the second one, through the single characters. So, you could use something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>ArrayList&lt;String&gt; userAnswers = storeCorrectAnswers();\nArrayList&lt;String&gt; correctAnswers = askQuestionsOneByOne();\n\npublic int getTotalScore()  {\n    int score = 0;\n    for (int i = 0; i &lt; userAnswers.size(); i++) {\n        for (int j = 0; j &lt; userAnswers.get(i).length(); j++) {\n            if (userAnswers.get(i).charAt(j) == correctAnswers.get(i).charAt(j)) {\n                score++;\n            }\n        }\n    }\n    return score;\n}\n</code></pre>\n<p>N.B. I assume that <code>userAnswers</code> has the exact same size of <code>correctAnswers</code></p>\n"},{"tags":[],"owner":{"account_id":16429226,"reputation":1519,"user_id":11868502,"display_name":"Saurabh Dhage"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633775825,"creation_date":1633775825,"answer_id":69505940,"question_id":69431219,"body_markdown":"    for (int i=0;i&lt;correctAnswers.size();i++)\r\n    {\r\n     if(userAnswers[i]==correctAnswers[i])\r\n          score++;\r\n    }\r\n\r\nSingle for loop is sufficient in this case. whenever correctAnswers character exhausts then it will come out of loop.`time complexity` would be `O(n)`","title":"Comparing if 2 arraylists contain the same characters indexwise","body":"<pre><code>for (int i=0;i&lt;correctAnswers.size();i++)\n{\n if(userAnswers[i]==correctAnswers[i])\n      score++;\n}\n</code></pre>\n<p>Single for loop is sufficient in this case. whenever correctAnswers character exhausts then it will come out of loop.<code>time complexity</code> would be <code>O(n)</code></p>\n"}],"owner":{"account_id":18929908,"reputation":63,"user_id":13812217,"display_name":"Adwait Kulkarni"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":74,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69505571,"answer_count":3,"score":1,"last_activity_date":1633775825,"creation_date":1633325017,"question_id":69431219,"body_markdown":"I am trying to develop a quiz application in Java where the user enters the answer to a multiple-choice question. Right now, I have 2 array lists, one storing the correct answers to all the questions and the other storing the user&#39;s answers. In order to get the user&#39;s score for the quiz, I have to compare the individual characters in both the lists, and every time I see a common character at the same index, I increase the user&#39;s score by 1.\r\n\r\nHere is the code:\r\n\r\n    ArrayList&lt;String&gt; userAnswers = storeCorrectAnswers();\r\n    ArrayList&lt;String&gt; correctAnswers = askQuestionsOneByOne();\r\n\r\n    int score = 0;\r\n    for (int i = 0; i &lt; userAnswers.size(); i++) {\r\n        for (int j = 0; j &lt; correctAnswers.size(); j++) {\r\n            if (userAnswers.get(i) == correctAnswers.get(j)) {\r\n                score++;\r\n            }\r\n        }\r\n    }\r\n    return score;\r\n\r\nstoreCorrectAnswers() and askQuestionsOnyByOne return arraylists.\r\n \r\nRight now, I am trying to use a nested for loop but it is not working. \r\n\r\nCan anyone suggest to me how to go about this?","title":"Comparing if 2 arraylists contain the same characters indexwise","body":"<p>I am trying to develop a quiz application in Java where the user enters the answer to a multiple-choice question. Right now, I have 2 array lists, one storing the correct answers to all the questions and the other storing the user's answers. In order to get the user's score for the quiz, I have to compare the individual characters in both the lists, and every time I see a common character at the same index, I increase the user's score by 1.</p>\n<p>Here is the code:</p>\n<pre><code>ArrayList&lt;String&gt; userAnswers = storeCorrectAnswers();\nArrayList&lt;String&gt; correctAnswers = askQuestionsOneByOne();\n\nint score = 0;\nfor (int i = 0; i &lt; userAnswers.size(); i++) {\n    for (int j = 0; j &lt; correctAnswers.size(); j++) {\n        if (userAnswers.get(i) == correctAnswers.get(j)) {\n            score++;\n        }\n    }\n}\nreturn score;\n</code></pre>\n<p>storeCorrectAnswers() and askQuestionsOnyByOne return arraylists.</p>\n<p>Right now, I am trying to use a nested for loop but it is not working.</p>\n<p>Can anyone suggest to me how to go about this?</p>\n"},{"tags":["java","android","memory","exoplayer","television"],"answers":[{"tags":[],"owner":{"account_id":4221425,"reputation":336,"user_id":3456124,"display_name":"kirkadev"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633775469,"creation_date":1633775469,"answer_id":69505909,"question_id":69505393,"body_markdown":"When working with the player, you need to carefully monitor the life cycle.\r\n\r\n\r\n    simpleExoPlayer.release();\r\n    simpleExoPlayer = null;\r\n\r\n\r\nTry to use this not only in onPause(), try it also in onDestroy and onDestroyView.  \r\nIf the problem goes away, then go through which life cycle methods are called and leave the release call in the right places\r\n\r\nYou have an issue not with memory, most likely you have an issue related to the codec.\r\n\r\nEach device has its own limited number of codecs. \r\nSome devices have more, some have less.\r\n\r\nTherefore, on some devices, you can run the video more times, especially on emulators.","title":"Android tv app keep Crashing with memory exception error","body":"<p>When working with the player, you need to carefully monitor the life cycle.</p>\n<pre><code>simpleExoPlayer.release();\nsimpleExoPlayer = null;\n</code></pre>\n<p>Try to use this not only in onPause(), try it also in onDestroy and onDestroyView.<br />\nIf the problem goes away, then go through which life cycle methods are called and leave the release call in the right places</p>\n<p>You have an issue not with memory, most likely you have an issue related to the codec.</p>\n<p>Each device has its own limited number of codecs.\nSome devices have more, some have less.</p>\n<p>Therefore, on some devices, you can run the video more times, especially on emulators.</p>\n"}],"owner":{"account_id":22986723,"reputation":11,"user_id":17112826,"display_name":"sushil chhetri"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":200,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633775469,"creation_date":1633771361,"question_id":69505393,"body_markdown":"I am creating an android tv app in the app I am sliding infinity loop fragments (Image and Video URLs ). I use glide for image loading and exoplayer2 for video loading it&#39;s working perfectly in my emulator and other 2-3 devices but when I run it in my actual android tv it keeps crashing after some time with an error memory exception. I tested it In emulator using profiler how much memory it using but it is only using min 100 Mb not bigger than that I even check for a leak using leak cannery no leak was found I can&#39;t find any solution can someone please help me \r\n\r\nFragment:\r\n\r\n\r\n`public class BannerFragment extends Fragment {\r\n\r\n    /*TODO TAGs*/\r\n    private String TAG = BannerFragment.class.getSimpleName();\r\n\r\n    /*TODO View Binding*/\r\n    private BannerFragmentBinding vb;\r\n\r\n    private PromotionalBanner promotionalBanner;\r\n    private int position;\r\n    private ArrayList&lt;PromotionalBanner&gt; promotionalBannerArrayList;\r\n    private CountDownTimer timer;\r\n\r\n\r\n    SimpleExoPlayer simpleExoPlayer;\r\n\r\n    private final String VIDEO_BUFFER_TIMER = &quot;10000&quot;;\r\n\r\n\r\n    /*TODO Glide Listener*/\r\n    private RequestListener requestListener = new RequestListener&lt;Drawable&gt;() {\r\n        @Override\r\n        public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\r\n            if (vb != null) {\r\n                ShowToast(&quot; Can&#39;t load image &quot;);\r\n                vb.avi.setVisibility(View.GONE);\r\n                slideNextItem();\r\n\r\n            }\r\n            return false;\r\n        }\r\n\r\n        @Override\r\n        public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\r\n            if (vb != null) {\r\n\r\n                vb.avi.setVisibility(View.GONE);\r\n            }\r\n            return false;\r\n        }\r\n\r\n    };\r\n\r\n\r\n    /*TODO PlayerListener*/\r\n    private Player.Listener playerListener = new Player.Listener() {\r\n        @Override\r\n        public void onIsPlayingChanged(boolean isPlaying) {\r\n            Log.e(TAG, &quot;onIsPlayingChanged: &quot; + isPlaying);\r\n        }\r\n\r\n        @Override\r\n        public void onPlaybackStateChanged(int playbackState) {\r\n\r\n            if (playbackState == Player.STATE_ENDED) {\r\n                slideNextItem();\r\n\r\n            } else if (playbackState == Player.STATE_READY) {\r\n\r\n                vb.avi.setVisibility(View.GONE);\r\n                if (timer != null) {\r\n                    timer.cancel();\r\n                    timer = null;\r\n                }\r\n                Log.e(&quot;TimerCheck&quot;, &quot;onPlaybackStateChanged: endTimer  &quot;+timer );\r\n\r\n            } else if (playbackState == Player.STATE_BUFFERING) {\r\n\r\n                vb.avi.setVisibility(View.VISIBLE);\r\n\r\n                setSlideTimer(VIDEO_BUFFER_TIMER);\r\n                Log.e(&quot;TimerCheck&quot;, &quot;onPlaybackStateChanged: startTimer    &quot;+timer );\r\n\r\n            } else if (playbackState == Player.STATE_IDLE) {\r\n\r\n                slideNextItem();\r\n\r\n\r\n            }\r\n        }\r\n\r\n        @Override\r\n        public void onPlayWhenReadyChanged(boolean playWhenReady, int reason) {\r\n\r\n        }\r\n    };\r\n\r\n\r\n    /*TODO get Fragment Instant*/\r\n    public static Fragment getInstantFragment(PromotionalBanner promotionalBanner,\r\n                                              int index,\r\n                                              ArrayList&lt;PromotionalBanner&gt; promotionalBannerArrayList) {\r\n\r\n\r\n        BannerFragment fragment = new BannerFragment();\r\n        Bundle bundle = new Bundle();\r\n        bundle.putParcelable(&quot;promotionalBanner&quot;, promotionalBanner);\r\n        bundle.putInt(&quot;position&quot;, index);\r\n        bundle.putParcelableArrayList(&quot;list&quot;, promotionalBannerArrayList);\r\n        fragment.setArguments(bundle);\r\n\r\n\r\n        return fragment;\r\n    }\r\n\r\n    @Override\r\n    public void onCreate(@Nullable Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n\r\n        this.promotionalBanner = getArguments().getParcelable(&quot;promotionalBanner&quot;);\r\n        this.position = getArguments().getInt(&quot;position&quot;);\r\n        this.promotionalBannerArrayList = getArguments().getParcelableArrayList(&quot;list&quot;);\r\n\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        vb = BannerFragmentBinding.inflate(getLayoutInflater());\r\n        return vb.getRoot();\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    @Override\r\n    public void onResume() {\r\n        super.onResume();\r\n\r\n\r\n        if (!isImageFile(promotionalBanner.getMedia())) {\r\n            showVideoViewContainer();\r\n\r\n            setVideo(promotionalBanner);\r\n        } else {\r\n\r\n            hideVideoViewContainer();\r\n\r\n            loadImage(promotionalBanner.getMedia(), promotionalBanner.getDuration());\r\n            /*TODo set image Timer*/\r\n            setSlideTimer(promotionalBanner.getDuration());\r\n\r\n        }\r\n\r\n    }\r\n\r\n\r\n    /*TODO setVideo*/\r\n    private void setVideo(PromotionalBanner promotionalBanner) {\r\n\r\n        Uri uri = Uri.parse(promotionalBanner.getMedia());\r\n        Log.e(&quot;dataUriTest&quot;, &quot;setVideo: &quot; + uri);\r\n        simplePlayer(uri);\r\n\r\n\r\n    }\r\n\r\n\r\n    /*TODO Simple Player*/\r\n    private void simplePlayer(Uri uri) {\r\n\r\n        simpleExoPlayer = new SimpleExoPlayer.Builder(getContext()).build();\r\n        simpleExoPlayer.addMediaItem(MediaItem.fromUri(uri));\r\n\r\n        setSlideTimer(VIDEO_BUFFER_TIMER);\r\n        Log.e(&quot;TimerCheck&quot;, &quot;onPlaybackStateChanged:insideSimplePlayer startTimer    &quot;+timer );\r\n\r\n        vb.avi.setVisibility(View.VISIBLE);\r\n        vb.videoView.hideController();\r\n        vb.videoView.setPlayer(simpleExoPlayer);\r\n        simpleExoPlayer.prepare();\r\n        simpleExoPlayer.setPlayWhenReady(true);\r\n        simpleExoPlayer.addListener(playerListener);\r\n\r\n\r\n    }\r\n\r\n    /*TODO Go To next From vide Slide*/\r\n    private void slideNextItem() {\r\n\r\n        if(simpleExoPlayer != null){\r\n            simpleExoPlayer.release();\r\n            simpleExoPlayer = null;\r\n        }\r\n        int nextposition = position + 1;\r\n        goToNextItem(nextposition);\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onPause() {\r\n        super.onPause();\r\n        Log.e(&quot;LogBannerFragment&quot;, &quot;onPause: &quot;);\r\n\r\n        if (timer != null) {\r\n\r\n            timer.cancel();\r\n        }\r\n\r\n\r\n\r\n        if (simpleExoPlayer != null) {\r\n\r\n\r\n            simpleExoPlayer.release();\r\n            simpleExoPlayer = null;\r\n\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onDestroy() {\r\n        super.onDestroy();\r\n        Log.e(&quot;Destory&quot;, &quot;onDestroy: &quot; );\r\n        if (playerListener != null) {\r\n            playerListener = null;\r\n        }\r\n\r\n        if (requestListener != null) {\r\n            requestListener = null;\r\n\r\n        }\r\n\r\n\r\n        if (vb != null) {\r\n            vb = null;\r\n        }\r\n\r\n\r\n\r\n    }\r\n\r\n\r\n    @Override\r\n    public void onDestroyView() {\r\n        super.onDestroyView();\r\n\r\n\r\n    }\r\n\r\n\r\n    /*TODO load Image*/\r\n    @RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\r\n    private void loadImage(String media, String duration) {\r\n\r\n        vb.avi.setVisibility(View.VISIBLE);\r\n\r\n        Glide.with(getContext()).load(convert_http_https(media))\r\n                .diskCacheStrategy(DiskCacheStrategy.RESOURCE)\r\n                .error(getContext().getDrawable(R.drawable.banner))\r\n                .addListener(requestListener)\r\n\r\n                .into(vb.imageView);\r\n\r\n\r\n    }\r\n\r\n\r\n    /*TODO convert url http to https in android studio*/\r\n    private String convert_http_https(String url) {\r\n\r\n        String original;\r\n\r\n        if (url.contains(&quot;https&quot;)) {\r\n            original = url;\r\n        } else {\r\n            original = url.replace(&quot;http&quot;, &quot;https&quot;);\r\n        }\r\n\r\n        return original;\r\n    }\r\n\r\n\r\n    /*TODO set Image timer*/\r\n    private void setSlideTimer(String duration) {\r\n\r\n\r\n        timer = new CountDownTimer(Integer.parseInt(duration), 1000) {\r\n            @Override\r\n            public void onTick(long millisUntilFinished) {\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFinish() {\r\n                int nextPosition = position + 1;\r\n//                int nextPosition =  DispolyActivity.vb.viewPager.getCurrentItem()+1;\r\n\r\n                goToNextItem(nextPosition);\r\n\r\n\r\n            }\r\n        };\r\n        timer.start();\r\n    }\r\n\r\n\r\n    /*TODO Next Position in arrayList*/\r\n    private void goToNextItem(int nextPosition) {\r\n\r\n        HandlerCompat.createAsync(Looper.getMainLooper())\r\n                .post(() -&gt;\r\n\r\n                        DispolyActivity.vb.viewPager.setCurrentItem(nextPosition)\r\n                );\r\n    }\r\n\r\n    /*TODO is image file*/\r\n    public static boolean isImageFile(String path) {\r\n        String mimeType = URLConnection.guessContentTypeFromName(path);\r\n        return mimeType != null &amp;&amp; mimeType.startsWith(&quot;image&quot;);\r\n    }\r\n\r\n\r\n    /*TODO Video view Container*/\r\n    private void showVideoViewContainer() {\r\n        Log.e(&quot;datashow&quot;, &quot;showVideoViewContainer: &quot;+vb);\r\n        vb.videoContainer.setVisibility(View.VISIBLE);\r\n        vb.imageView.setVisibility(View.GONE);\r\n\r\n    }\r\n\r\n    /*TODO hide video view Container*/\r\n    private void hideVideoViewContainer() {\r\n\r\n\r\n        vb.videoContainer.setVisibility(View.GONE);\r\n        vb.imageView.setVisibility(View.VISIBLE);\r\n\r\n\r\n    }\r\n\r\n    /*TODO show Toast*/\r\n    private void ShowToast(String msg) {\r\n\r\n\r\n        Toast.makeText(getContext(), msg, Toast.LENGTH_LONG).show();\r\n\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n\r\n`\r\n\r\nMy Adapter for slide fragment :\r\n\r\n    public class SliderAdapter extends FragmentStatePagerAdapter {\r\n\r\n    private String TAG = SliderAdapter.class.getSimpleName();\r\n    private ArrayList&lt;PromotionalBanner&gt; promotionalBannerArrayList;\r\n\r\n\r\n    public SliderAdapter(@NonNull FragmentManager fm,ArrayList&lt;PromotionalBanner&gt; promotionalBannerArrayList) {\r\n        super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\r\n        this.promotionalBannerArrayList = promotionalBannerArrayList;\r\n    }\r\n\r\n\r\n\r\n    @NonNull\r\n    @Override\r\n    public Fragment getItem(int position) {\r\n        PromotionalBanner promotionalBanner = DispolyActivity.promotionalBannerArrayList.get(position);\r\n        Log.e(&quot;positiondata&quot;, &quot;dataPost: &quot;+position );\r\n        return BannerFragment.getInstantFragment(promotionalBanner,\r\n                position,DispolyActivity.promotionalBannerArrayList);\r\n    }\r\n\r\n    @Override\r\n    public int getCount() {\r\n\r\n        return DispolyActivity.promotionalBannerArrayList.size();\r\n    }\r\n\r\n    @Override\r\n    public int getItemPosition(@NonNull Object object) {\r\n        return POSITION_UNCHANGED;\r\n    }\r\n\r\n    @Override\r\n    public void destroyItem(@NonNull ViewGroup container,\r\n                            int position, @NonNull Object object) {\r\n        super.destroyItem(container, position, object);\r\n        Log.e(&quot;itemDestroy&quot;, &quot;destroyItem: &quot;+object );\r\n    }\r\n\r\n    /*TODO update Adapter Data*/\r\n    public void updateAdapter_Data(ArrayList&lt;PromotionalBanner&gt; promotionalBannersList){\r\n        this.promotionalBannerArrayList  = promotionalBannersList;\r\n//        notifyDataSetChanged();\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n\r\n","title":"Android tv app keep Crashing with memory exception error","body":"<p>I am creating an android tv app in the app I am sliding infinity loop fragments (Image and Video URLs ). I use glide for image loading and exoplayer2 for video loading it's working perfectly in my emulator and other 2-3 devices but when I run it in my actual android tv it keeps crashing after some time with an error memory exception. I tested it In emulator using profiler how much memory it using but it is only using min 100 Mb not bigger than that I even check for a leak using leak cannery no leak was found I can't find any solution can someone please help me</p>\n<p>Fragment:</p>\n<p>`public class BannerFragment extends Fragment {</p>\n<pre><code>/*TODO TAGs*/\nprivate String TAG = BannerFragment.class.getSimpleName();\n\n/*TODO View Binding*/\nprivate BannerFragmentBinding vb;\n\nprivate PromotionalBanner promotionalBanner;\nprivate int position;\nprivate ArrayList&lt;PromotionalBanner&gt; promotionalBannerArrayList;\nprivate CountDownTimer timer;\n\n\nSimpleExoPlayer simpleExoPlayer;\n\nprivate final String VIDEO_BUFFER_TIMER = &quot;10000&quot;;\n\n\n/*TODO Glide Listener*/\nprivate RequestListener requestListener = new RequestListener&lt;Drawable&gt;() {\n    @Override\n    public boolean onLoadFailed(@Nullable GlideException e, Object model, Target&lt;Drawable&gt; target, boolean isFirstResource) {\n        if (vb != null) {\n            ShowToast(&quot; Can't load image &quot;);\n            vb.avi.setVisibility(View.GONE);\n            slideNextItem();\n\n        }\n        return false;\n    }\n\n    @Override\n    public boolean onResourceReady(Drawable resource, Object model, Target&lt;Drawable&gt; target, DataSource dataSource, boolean isFirstResource) {\n        if (vb != null) {\n\n            vb.avi.setVisibility(View.GONE);\n        }\n        return false;\n    }\n\n};\n\n\n/*TODO PlayerListener*/\nprivate Player.Listener playerListener = new Player.Listener() {\n    @Override\n    public void onIsPlayingChanged(boolean isPlaying) {\n        Log.e(TAG, &quot;onIsPlayingChanged: &quot; + isPlaying);\n    }\n\n    @Override\n    public void onPlaybackStateChanged(int playbackState) {\n\n        if (playbackState == Player.STATE_ENDED) {\n            slideNextItem();\n\n        } else if (playbackState == Player.STATE_READY) {\n\n            vb.avi.setVisibility(View.GONE);\n            if (timer != null) {\n                timer.cancel();\n                timer = null;\n            }\n            Log.e(&quot;TimerCheck&quot;, &quot;onPlaybackStateChanged: endTimer  &quot;+timer );\n\n        } else if (playbackState == Player.STATE_BUFFERING) {\n\n            vb.avi.setVisibility(View.VISIBLE);\n\n            setSlideTimer(VIDEO_BUFFER_TIMER);\n            Log.e(&quot;TimerCheck&quot;, &quot;onPlaybackStateChanged: startTimer    &quot;+timer );\n\n        } else if (playbackState == Player.STATE_IDLE) {\n\n            slideNextItem();\n\n\n        }\n    }\n\n    @Override\n    public void onPlayWhenReadyChanged(boolean playWhenReady, int reason) {\n\n    }\n};\n\n\n/*TODO get Fragment Instant*/\npublic static Fragment getInstantFragment(PromotionalBanner promotionalBanner,\n                                          int index,\n                                          ArrayList&lt;PromotionalBanner&gt; promotionalBannerArrayList) {\n\n\n    BannerFragment fragment = new BannerFragment();\n    Bundle bundle = new Bundle();\n    bundle.putParcelable(&quot;promotionalBanner&quot;, promotionalBanner);\n    bundle.putInt(&quot;position&quot;, index);\n    bundle.putParcelableArrayList(&quot;list&quot;, promotionalBannerArrayList);\n    fragment.setArguments(bundle);\n\n\n    return fragment;\n}\n\n@Override\npublic void onCreate(@Nullable Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n\n    this.promotionalBanner = getArguments().getParcelable(&quot;promotionalBanner&quot;);\n    this.position = getArguments().getInt(&quot;position&quot;);\n    this.promotionalBannerArrayList = getArguments().getParcelableArrayList(&quot;list&quot;);\n\n}\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n@Nullable\n@Override\npublic View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\n    vb = BannerFragmentBinding.inflate(getLayoutInflater());\n    return vb.getRoot();\n}\n\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\n@Override\npublic void onResume() {\n    super.onResume();\n\n\n    if (!isImageFile(promotionalBanner.getMedia())) {\n        showVideoViewContainer();\n\n        setVideo(promotionalBanner);\n    } else {\n\n        hideVideoViewContainer();\n\n        loadImage(promotionalBanner.getMedia(), promotionalBanner.getDuration());\n        /*TODo set image Timer*/\n        setSlideTimer(promotionalBanner.getDuration());\n\n    }\n\n}\n\n\n/*TODO setVideo*/\nprivate void setVideo(PromotionalBanner promotionalBanner) {\n\n    Uri uri = Uri.parse(promotionalBanner.getMedia());\n    Log.e(&quot;dataUriTest&quot;, &quot;setVideo: &quot; + uri);\n    simplePlayer(uri);\n\n\n}\n\n\n/*TODO Simple Player*/\nprivate void simplePlayer(Uri uri) {\n\n    simpleExoPlayer = new SimpleExoPlayer.Builder(getContext()).build();\n    simpleExoPlayer.addMediaItem(MediaItem.fromUri(uri));\n\n    setSlideTimer(VIDEO_BUFFER_TIMER);\n    Log.e(&quot;TimerCheck&quot;, &quot;onPlaybackStateChanged:insideSimplePlayer startTimer    &quot;+timer );\n\n    vb.avi.setVisibility(View.VISIBLE);\n    vb.videoView.hideController();\n    vb.videoView.setPlayer(simpleExoPlayer);\n    simpleExoPlayer.prepare();\n    simpleExoPlayer.setPlayWhenReady(true);\n    simpleExoPlayer.addListener(playerListener);\n\n\n}\n\n/*TODO Go To next From vide Slide*/\nprivate void slideNextItem() {\n\n    if(simpleExoPlayer != null){\n        simpleExoPlayer.release();\n        simpleExoPlayer = null;\n    }\n    int nextposition = position + 1;\n    goToNextItem(nextposition);\n\n\n}\n\n\n@Override\npublic void onPause() {\n    super.onPause();\n    Log.e(&quot;LogBannerFragment&quot;, &quot;onPause: &quot;);\n\n    if (timer != null) {\n\n        timer.cancel();\n    }\n\n\n\n    if (simpleExoPlayer != null) {\n\n\n        simpleExoPlayer.release();\n        simpleExoPlayer = null;\n\n    }\n\n\n\n}\n\n@Override\npublic void onDestroy() {\n    super.onDestroy();\n    Log.e(&quot;Destory&quot;, &quot;onDestroy: &quot; );\n    if (playerListener != null) {\n        playerListener = null;\n    }\n\n    if (requestListener != null) {\n        requestListener = null;\n\n    }\n\n\n    if (vb != null) {\n        vb = null;\n    }\n\n\n\n}\n\n\n@Override\npublic void onDestroyView() {\n    super.onDestroyView();\n\n\n}\n\n\n/*TODO load Image*/\n@RequiresApi(api = Build.VERSION_CODES.LOLLIPOP)\nprivate void loadImage(String media, String duration) {\n\n    vb.avi.setVisibility(View.VISIBLE);\n\n    Glide.with(getContext()).load(convert_http_https(media))\n            .diskCacheStrategy(DiskCacheStrategy.RESOURCE)\n            .error(getContext().getDrawable(R.drawable.banner))\n            .addListener(requestListener)\n\n            .into(vb.imageView);\n\n\n}\n\n\n/*TODO convert url http to https in android studio*/\nprivate String convert_http_https(String url) {\n\n    String original;\n\n    if (url.contains(&quot;https&quot;)) {\n        original = url;\n    } else {\n        original = url.replace(&quot;http&quot;, &quot;https&quot;);\n    }\n\n    return original;\n}\n\n\n/*TODO set Image timer*/\nprivate void setSlideTimer(String duration) {\n\n\n    timer = new CountDownTimer(Integer.parseInt(duration), 1000) {\n        @Override\n        public void onTick(long millisUntilFinished) {\n\n        }\n\n        @Override\n        public void onFinish() {\n            int nextPosition = position + 1;\n</code></pre>\n<p>//                int nextPosition =  DispolyActivity.vb.viewPager.getCurrentItem()+1;</p>\n<pre><code>            goToNextItem(nextPosition);\n\n\n        }\n    };\n    timer.start();\n}\n\n\n/*TODO Next Position in arrayList*/\nprivate void goToNextItem(int nextPosition) {\n\n    HandlerCompat.createAsync(Looper.getMainLooper())\n            .post(() -&gt;\n\n                    DispolyActivity.vb.viewPager.setCurrentItem(nextPosition)\n            );\n}\n\n/*TODO is image file*/\npublic static boolean isImageFile(String path) {\n    String mimeType = URLConnection.guessContentTypeFromName(path);\n    return mimeType != null &amp;&amp; mimeType.startsWith(&quot;image&quot;);\n}\n\n\n/*TODO Video view Container*/\nprivate void showVideoViewContainer() {\n    Log.e(&quot;datashow&quot;, &quot;showVideoViewContainer: &quot;+vb);\n    vb.videoContainer.setVisibility(View.VISIBLE);\n    vb.imageView.setVisibility(View.GONE);\n\n}\n\n/*TODO hide video view Container*/\nprivate void hideVideoViewContainer() {\n\n\n    vb.videoContainer.setVisibility(View.GONE);\n    vb.imageView.setVisibility(View.VISIBLE);\n\n\n}\n\n/*TODO show Toast*/\nprivate void ShowToast(String msg) {\n\n\n    Toast.makeText(getContext(), msg, Toast.LENGTH_LONG).show();\n\n}\n</code></pre>\n<p>}</p>\n<p>`</p>\n<p>My Adapter for slide fragment :</p>\n<pre><code>public class SliderAdapter extends FragmentStatePagerAdapter {\n\nprivate String TAG = SliderAdapter.class.getSimpleName();\nprivate ArrayList&lt;PromotionalBanner&gt; promotionalBannerArrayList;\n\n\npublic SliderAdapter(@NonNull FragmentManager fm,ArrayList&lt;PromotionalBanner&gt; promotionalBannerArrayList) {\n    super(fm, BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT);\n    this.promotionalBannerArrayList = promotionalBannerArrayList;\n}\n\n\n\n@NonNull\n@Override\npublic Fragment getItem(int position) {\n    PromotionalBanner promotionalBanner = DispolyActivity.promotionalBannerArrayList.get(position);\n    Log.e(&quot;positiondata&quot;, &quot;dataPost: &quot;+position );\n    return BannerFragment.getInstantFragment(promotionalBanner,\n            position,DispolyActivity.promotionalBannerArrayList);\n}\n\n@Override\npublic int getCount() {\n\n    return DispolyActivity.promotionalBannerArrayList.size();\n}\n\n@Override\npublic int getItemPosition(@NonNull Object object) {\n    return POSITION_UNCHANGED;\n}\n\n@Override\npublic void destroyItem(@NonNull ViewGroup container,\n                        int position, @NonNull Object object) {\n    super.destroyItem(container, position, object);\n    Log.e(&quot;itemDestroy&quot;, &quot;destroyItem: &quot;+object );\n}\n\n/*TODO update Adapter Data*/\npublic void updateAdapter_Data(ArrayList&lt;PromotionalBanner&gt; promotionalBannersList){\n    this.promotionalBannerArrayList  = promotionalBannersList;\n</code></pre>\n<p>//        notifyDataSetChanged();\n}</p>\n<p>}</p>\n"},{"tags":["java","javafx","gluon","gluonfx"],"comments":[{"owner":{"account_id":4910667,"reputation":44671,"user_id":3956070,"display_name":"Jos&#233; Pereda"},"score":1,"creation_date":1630536489,"post_id":69021262,"comment_id":121985967,"body_markdown":"One more possibility: run `mvn gluonfx:runagent`, it will generate more reflection files for native-image (make sure you explore all scenes/views of your app). Then try it again with `mvn gluonfx:build gluonfx:nativerun`.","body":"One more possibility: run <code>mvn gluonfx:runagent</code>, it will generate more reflection files for native-image (make sure you explore all scenes/views of your app). Then try it again with <code>mvn gluonfx:build gluonfx:nativerun</code>."},{"owner":{"account_id":22631476,"reputation":1,"user_id":16808747,"display_name":"Bullobily"},"score":0,"creation_date":1630537480,"post_id":69021262,"comment_id":121986133,"body_markdown":"@Jos&#233;Pereda thank you!! It works like a charm now. I should have explored a bit more gluon plugin doc, ty for the tip!","body":"@Jos&#233;Pereda thank you!! It works like a charm now. I should have explored a bit more gluon plugin doc, ty for the tip!"}],"answers":[{"tags":[],"owner":{"account_id":22144692,"reputation":65,"user_id":16394182,"display_name":"Javateer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633037597,"creation_date":1633037597,"answer_id":69399047,"question_id":69021262,"body_markdown":"@Jos&#233;Pereda beat me to this but I&#39;ll still share an alternative solution that&#39;s been working for me.\r\n\r\nRather than stepping through your app&#39;s screens (and sub-screens) using gluonfx:runagent, you can just add the classes in question to your pom.xml.\r\n\r\nYour stacktrace complains about not knowing the property &quot;cacheShape&quot;. It&#39;s a field from type Region which many sub-classes inherit from. Your Chat.fxml line number referenced points to the VBox element. So, you add that java class to your pom as so:\r\n\r\n        &lt;plugin&gt;\r\n            &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\r\n            &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\r\n            &lt;version&gt;${gluonfx.plugin.version}&lt;/version&gt;\r\n            &lt;configuration&gt;\r\n                &lt;reflectionList&gt;\r\n                    &lt;list&gt;javafx.scene.layout.VBox&lt;/list&gt;\r\n\r\nNow, you won&#39;t get that runtime error again. If you make new UI Views that also use VBox, you still won&#39;t run into this error again, as long as the class is still listed in your pom file.\r\n\r\nYour Main.fxml also complained, pointing to AnchorPane element. If that also is still a runtime error, just update your list of classes in the pom again as so:\r\n\r\n    &lt;plugin&gt;\r\n        &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\r\n        &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\r\n        &lt;version&gt;${gluonfx.plugin.version}&lt;/version&gt;\r\n        &lt;configuration&gt;\r\n            &lt;reflectionList&gt;\r\n                &lt;list&gt;javafx.scene.layout.VBox&lt;/list&gt;\r\n                &lt;list&gt;javafx.scene.layout.AnchorPane&lt;/list&gt;\r\n\r\nMy list of classes in my project&#39;s pom is getting lengthy as I continue developing views and features, but I prefer addressing each such issue once in the pom than repeatedly running gluonfx:runagent and manually stepping through my app&#39;s UI.","title":"Gluon JavaFX maven nativerun rises errors when loading fxml files","body":"<p>@JoséPereda beat me to this but I'll still share an alternative solution that's been working for me.</p>\n<p>Rather than stepping through your app's screens (and sub-screens) using gluonfx:runagent, you can just add the classes in question to your pom.xml.</p>\n<p>Your stacktrace complains about not knowing the property &quot;cacheShape&quot;. It's a field from type Region which many sub-classes inherit from. Your Chat.fxml line number referenced points to the VBox element. So, you add that java class to your pom as so:</p>\n<pre><code>    &lt;plugin&gt;\n        &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\n        &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\n        &lt;version&gt;${gluonfx.plugin.version}&lt;/version&gt;\n        &lt;configuration&gt;\n            &lt;reflectionList&gt;\n                &lt;list&gt;javafx.scene.layout.VBox&lt;/list&gt;\n</code></pre>\n<p>Now, you won't get that runtime error again. If you make new UI Views that also use VBox, you still won't run into this error again, as long as the class is still listed in your pom file.</p>\n<p>Your Main.fxml also complained, pointing to AnchorPane element. If that also is still a runtime error, just update your list of classes in the pom again as so:</p>\n<pre><code>&lt;plugin&gt;\n    &lt;groupId&gt;com.gluonhq&lt;/groupId&gt;\n    &lt;artifactId&gt;gluonfx-maven-plugin&lt;/artifactId&gt;\n    &lt;version&gt;${gluonfx.plugin.version}&lt;/version&gt;\n    &lt;configuration&gt;\n        &lt;reflectionList&gt;\n            &lt;list&gt;javafx.scene.layout.VBox&lt;/list&gt;\n            &lt;list&gt;javafx.scene.layout.AnchorPane&lt;/list&gt;\n</code></pre>\n<p>My list of classes in my project's pom is getting lengthy as I continue developing views and features, but I prefer addressing each such issue once in the pom than repeatedly running gluonfx:runagent and manually stepping through my app's UI.</p>\n"}],"owner":{"account_id":22631476,"reputation":1,"user_id":16808747,"display_name":"Bullobily"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":444,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633775381,"creation_date":1630536008,"question_id":69021262,"body_markdown":"After hours of testing I still fail to run my JavaFX project as native app (.exe on Windows). I use JavaFX 11.0.2. I don&#39;t get any error when executing `mvn clean gluonfx:build`. The errors come with `mvn gluonfx:nativerun`:\r\n\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] Sep 02, 2021 12:13:03 AM com.sun.javafx.application.PlatformImpl startup\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] WARNING: Unsupported JavaFX configuration: classes were loaded from &#39;unnamed module @4a163575&#39;\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] javafx.fxml.LoadException:\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] fr/bullobily/fxml/Main.fxml:134\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.init(FxWindow.java:140)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.&lt;init&gt;(FxWindow.java:116)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.&lt;clinit&gt;(FxWindow.java:104)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.classinitialization.ClassInitializationInfo.invokeClassInitializer(ClassInitializationInfo.java:375)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.classinitialization.ClassInitializationInfo.initialize(ClassInitializationInfo.java:295)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.ChatApp.start(ChatApp.java:44)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at java.security.AccessController.doPrivileged(AccessController.java:105)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST:Ljava_lang_Runnable_2_0002erun_00028_00029V(JNIJavaCallWrappers.java\r\n    :0)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:179)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at java.lang.Thread.run(Thread.java:829)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:567)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.windows.WindowsJavaThreads.osThreadStartRoutine(WindowsJavaThreads.java:138)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] Caused by: java.lang.UnsupportedOperationException: Cannot determine type for property.\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.fxml.BeanAdapter.getSetterMethod(BeanAdapter.java:178)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.fxml.BeanAdapter.put(BeanAdapter.java:251)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.fxml.BeanAdapter.put(BeanAdapter.java:54)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$Element.set(FXMLLoader.java:193)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:801)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2924)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2639)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         ... 20 more\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] javafx.fxml.LoadException:\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] fr/bullobily/fxml/Chat.fxml:20\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.init(FxWindow.java:140)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.&lt;init&gt;(FxWindow.java:116)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.&lt;clinit&gt;(FxWindow.java:105)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.classinitialization.ClassInitializationInfo.invokeClassInitializer(ClassInitializationInfo.java:375)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.classinitialization.ClassInitializationInfo.initialize(ClassInitializationInfo.java:295)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.ChatApp.start(ChatApp.java:44)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at java.security.AccessController.doPrivileged(AccessController.java:105)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST:Ljava_lang_Runnable_2_0002erun_00028_00029V(JNIJavaCallWrappers.java\r\n    :0)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:179)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at java.lang.Thread.run(Thread.java:829)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:567)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.windows.WindowsJavaThreads.osThreadStartRoutine(WindowsJavaThreads.java:138)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] Caused by: com.sun.javafx.fxml.PropertyNotFoundException: Property &quot;cacheShape&quot; does not exist or is read-only.\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$Element.processValue(FXMLLoader.java:358)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$Element.processPropertyAttribute(FXMLLoader.java:335)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$Element.processInstancePropertyAttributes(FXMLLoader.java:245)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:778)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2924)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2639)\r\n    [jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         ... 20 more\r\n\r\nHere are my Main.fxml and Chat.fxml (created with Scene Builder):\r\n\r\nMain.fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.geometry.Rectangle2D?&gt;\r\n    &lt;?import javafx.scene.Scene?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.Label?&gt;\r\n    &lt;?import javafx.scene.image.Image?&gt;\r\n    &lt;?import javafx.scene.image.ImageView?&gt;\r\n    &lt;?import javafx.scene.layout.AnchorPane?&gt;\r\n    &lt;?import javafx.scene.layout.ColumnConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.GridPane?&gt;\r\n    &lt;?import javafx.scene.layout.HBox?&gt;\r\n    &lt;?import javafx.scene.layout.Pane?&gt;\r\n    &lt;?import javafx.scene.layout.RowConstraints?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    &lt;?import javafx.scene.paint.Color?&gt;\r\n    &lt;?import javafx.scene.paint.LinearGradient?&gt;\r\n    &lt;?import javafx.scene.paint.Stop?&gt;\r\n    &lt;?import javafx.scene.text.Font?&gt;\r\n    \r\n    &lt;Scene xmlns=&quot;%javafx.fx&quot; xmlns:fx=&quot;%javafx.fxml&quot; fx:controller=&quot;fr.bullobily.controller.MainController&quot;&gt;\r\n       &lt;AnchorPane prefHeight=&quot;387.0&quot; prefWidth=&quot;559.0&quot;&gt;\r\n       &lt;children&gt;\r\n          &lt;HBox layoutX=&quot;274.0&quot; layoutY=&quot;120.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\r\n             &lt;children&gt;\r\n                &lt;VBox minWidth=&quot;-Infinity&quot; prefHeight=&quot;387.0&quot; prefWidth=&quot;211.0&quot; style=&quot;-fx-background-color: #1DB6B1;&quot; stylesheets=&quot;@../css/Main.css&quot; HBox.hgrow=&quot;NEVER&quot;&gt;\r\n                   &lt;children&gt;\r\n                      &lt;Pane prefHeight=&quot;91.0&quot; prefWidth=&quot;170.0&quot;&gt;\r\n                         &lt;children&gt;\r\n                            &lt;ImageView fitHeight=&quot;50.0&quot; fitWidth=&quot;50.0&quot; layoutY=&quot;18.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                               &lt;image&gt;\r\n                                  &lt;Image url=&quot;@../pictures/app_icon.png&quot; /&gt;\r\n                               &lt;/image&gt;\r\n                            &lt;/ImageView&gt;\r\n                            &lt;Label layoutX=&quot;56.0&quot; prefHeight=&quot;86.0&quot; prefWidth=&quot;111.0&quot; text=&quot;Ma super appli de chat&quot; wrapText=&quot;true&quot;&gt;\r\n                               &lt;font&gt;\r\n                                  &lt;Font name=&quot;Candara Light&quot; size=&quot;19.0&quot; /&gt;\r\n                               &lt;/font&gt;\r\n                                  &lt;textFill&gt;\r\n                                     &lt;LinearGradient endX=&quot;1.0&quot; endY=&quot;1.0&quot;&gt;\r\n                                        &lt;stops&gt;\r\n                                           &lt;Stop&gt;\r\n                                              &lt;color&gt;\r\n                                                 &lt;Color red=&quot;0.8526315689086914&quot; green=&quot;0.028421051800251007&quot; blue=&quot;0.028421051800251007&quot; /&gt;\r\n                                              &lt;/color&gt;\r\n                                           &lt;/Stop&gt;\r\n                                           &lt;Stop offset=&quot;1.0&quot;&gt;\r\n                                              &lt;color&gt;\r\n                                                 &lt;Color green=&quot;0.03805406019091606&quot; blue=&quot;1.0&quot; /&gt;\r\n                                              &lt;/color&gt;\r\n                                           &lt;/Stop&gt;\r\n                                        &lt;/stops&gt;\r\n                                     &lt;/LinearGradient&gt;\r\n                                  &lt;/textFill&gt;\r\n                            &lt;/Label&gt;\r\n                         &lt;/children&gt;\r\n                      &lt;/Pane&gt;\r\n                      &lt;VBox prefHeight=&quot;149.0&quot; prefWidth=&quot;213.0&quot;&gt;\r\n                         &lt;children&gt;\r\n                            &lt;GridPane&gt;\r\n                              &lt;columnConstraints&gt;\r\n                                &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;132.79999542236328&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;119.40001220703125&quot; /&gt;\r\n                                &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;101.59999542236329&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;71.39998779296876&quot; /&gt;\r\n                              &lt;/columnConstraints&gt;\r\n                              &lt;rowConstraints&gt;\r\n                                &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                                &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\r\n                              &lt;/rowConstraints&gt;\r\n                               &lt;children&gt;\r\n                                  &lt;Label prefWidth=&quot;114.0&quot; text=&quot;Nom d&#39;utilisateur :&quot; /&gt;\r\n                                  &lt;Label text=&quot;Personnes en ligne :&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n                                  &lt;Label fx:id=&quot;usernameLab&quot; text=&quot;Label&quot; GridPane.columnIndex=&quot;1&quot; /&gt;\r\n                                  &lt;Label fx:id=&quot;onlineUsersCount&quot; prefWidth=&quot;28.0&quot; text=&quot;Label&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\r\n                               &lt;/children&gt;\r\n                            &lt;/GridPane&gt;\r\n                            &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onConnectButton&quot; prefWidth=&quot;1000.0&quot; text=&quot;Connexion&quot;&gt;\r\n                               &lt;graphic&gt;\r\n                                  &lt;ImageView fitHeight=&quot;20.0&quot; fitWidth=&quot;20.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                                     &lt;image&gt;\r\n                                        &lt;Image url=&quot;@../pictures/connection.png&quot; /&gt;\r\n                                     &lt;/image&gt;\r\n                                  &lt;/ImageView&gt;\r\n                               &lt;/graphic&gt;\r\n                            &lt;/Button&gt;\r\n                         &lt;/children&gt;\r\n                         &lt;padding&gt;\r\n                            &lt;Insets bottom=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n                         &lt;/padding&gt;\r\n                      &lt;/VBox&gt;\r\n                      &lt;VBox fx:id=&quot;buttonsVbox&quot; prefHeight=&quot;0.0&quot; prefWidth=&quot;170.0&quot; spacing=&quot;20.0&quot;&gt;\r\n                         &lt;children&gt;\r\n                            &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onButtonChat&quot; prefWidth=&quot;1000.0&quot; text=&quot;Chat&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\r\n                               &lt;VBox.margin&gt;\r\n                                  &lt;Insets /&gt;\r\n                               &lt;/VBox.margin&gt;\r\n                               &lt;graphic&gt;\r\n                                  &lt;ImageView fitHeight=&quot;20.0&quot; fitWidth=&quot;20.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                                     &lt;image&gt;\r\n                                        &lt;Image url=&quot;@../pictures/chat.png&quot; /&gt;\r\n                                     &lt;/image&gt;\r\n                                     &lt;viewport&gt;\r\n                                        &lt;Rectangle2D /&gt;\r\n                                     &lt;/viewport&gt;\r\n                                  &lt;/ImageView&gt;\r\n                               &lt;/graphic&gt;\r\n                            &lt;/Button&gt;\r\n                            &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onButtonParameters&quot; prefWidth=&quot;1000.0&quot; text=&quot;Param&#232;tres&quot;&gt;\r\n                               &lt;graphic&gt;\r\n                                  &lt;ImageView fitHeight=&quot;20.0&quot; fitWidth=&quot;20.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\r\n                                     &lt;image&gt;\r\n                                        &lt;Image url=&quot;@../pictures/picture.png&quot; /&gt;\r\n                                     &lt;/image&gt;\r\n                                  &lt;/ImageView&gt;\r\n                               &lt;/graphic&gt;\r\n                            &lt;/Button&gt;\r\n                         &lt;/children&gt;\r\n                         &lt;VBox.margin&gt;\r\n                            &lt;Insets bottom=&quot;20.0&quot; /&gt;\r\n                         &lt;/VBox.margin&gt;\r\n                         &lt;padding&gt;\r\n                            &lt;Insets bottom=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\r\n                         &lt;/padding&gt;\r\n                      &lt;/VBox&gt;\r\n                   &lt;/children&gt;\r\n                   &lt;padding&gt;\r\n                      &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\r\n                   &lt;/padding&gt;\r\n                &lt;/VBox&gt;\r\n                   &lt;AnchorPane fx:id=&quot;contentPane&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; HBox.hgrow=&quot;ALWAYS&quot; /&gt;\r\n             &lt;/children&gt;\r\n          &lt;/HBox&gt;\r\n       &lt;/children&gt;\r\n       &lt;/AnchorPane&gt;\r\n    &lt;/Scene&gt;\r\n\r\nChat.fxml:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    \r\n    &lt;?import javafx.geometry.Insets?&gt;\r\n    &lt;?import javafx.scene.control.Button?&gt;\r\n    &lt;?import javafx.scene.control.ListView?&gt;\r\n    &lt;?import javafx.scene.control.TextField?&gt;\r\n    &lt;?import javafx.scene.layout.VBox?&gt;\r\n    \r\n    &lt;VBox alignment=&quot;CENTER&quot; cacheShape=&quot;false&quot; centerShape=&quot;false&quot; nodeOrientation=&quot;RIGHT_TO_LEFT&quot; prefHeight=&quot;306.0&quot;\r\n          prefWidth=&quot;329.0&quot; scaleShape=&quot;false&quot; spacing=&quot;21.0&quot; xmlns=&quot;%javafx.fx&quot; xmlns:fx=&quot;%javafx.fxml&quot;\r\n          fx:controller=&quot;fr.bullobily.controller.ChatController&quot;&gt;\r\n       &lt;padding&gt;\r\n          &lt;Insets bottom=&quot;30.0&quot; left=&quot;30.0&quot; right=&quot;30.0&quot; top=&quot;30.0&quot;/&gt;\r\n       &lt;/padding&gt;\r\n       &lt;ListView fx:id=&quot;chatList&quot; prefHeight=&quot;530.0&quot; prefWidth=&quot;539.0&quot;/&gt;\r\n       &lt;VBox prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; spacing=&quot;8.0&quot;&gt;\r\n          &lt;TextField fx:id=&quot;textSelectionField&quot; prefWidth=&quot;539.0&quot;/&gt;\r\n          &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#sendToChat&quot; text=&quot;Envoyer&quot;/&gt;\r\n       &lt;/VBox&gt;\r\n    &lt;/VBox&gt;\r\n\r\nAnd finally my `src/main/resources/META-INF/substrate/config/reflectionconfig.json`, which (is supposed to) contain all classes and methods I use in my fxml files: https://pastebin.com/EqQpBiKH\r\n\r\nMy code works well when running in IntelliJ but not from native image. I exhausted all the possibilities of resolution that I had imagined...","title":"Gluon JavaFX maven nativerun rises errors when loading fxml files","body":"<p>After hours of testing I still fail to run my JavaFX project as native app (.exe on Windows). I use JavaFX 11.0.2. I don't get any error when executing <code>mvn clean gluonfx:build</code>. The errors come with <code>mvn gluonfx:nativerun</code>:</p>\n<pre><code>[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] Sep 02, 2021 12:13:03 AM com.sun.javafx.application.PlatformImpl startup\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] WARNING: Unsupported JavaFX configuration: classes were loaded from 'unnamed module @4a163575'\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] javafx.fxml.LoadException:\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] fr/bullobily/fxml/Main.fxml:134\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.init(FxWindow.java:140)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.&lt;init&gt;(FxWindow.java:116)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.&lt;clinit&gt;(FxWindow.java:104)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.classinitialization.ClassInitializationInfo.invokeClassInitializer(ClassInitializationInfo.java:375)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.classinitialization.ClassInitializationInfo.initialize(ClassInitializationInfo.java:295)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.ChatApp.start(ChatApp.java:44)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at java.security.AccessController.doPrivileged(AccessController.java:105)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST:Ljava_lang_Runnable_2_0002erun_00028_00029V(JNIJavaCallWrappers.java\n:0)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:179)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at java.lang.Thread.run(Thread.java:829)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:567)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.windows.WindowsJavaThreads.osThreadStartRoutine(WindowsJavaThreads.java:138)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] Caused by: java.lang.UnsupportedOperationException: Cannot determine type for property.\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.fxml.BeanAdapter.getSetterMethod(BeanAdapter.java:178)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.fxml.BeanAdapter.put(BeanAdapter.java:251)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.fxml.BeanAdapter.put(BeanAdapter.java:54)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$Element.set(FXMLLoader.java:193)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:801)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2924)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2639)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         ... 20 more\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] javafx.fxml.LoadException:\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] fr/bullobily/fxml/Chat.fxml:20\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.constructLoadException(FXMLLoader.java:2707)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2685)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2548)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.load(FXMLLoader.java:2516)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.init(FxWindow.java:140)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.&lt;init&gt;(FxWindow.java:116)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.model.FxWindow.&lt;clinit&gt;(FxWindow.java:105)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.classinitialization.ClassInitializationInfo.invokeClassInitializer(ClassInitializationInfo.java:375)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.classinitialization.ClassInitializationInfo.initialize(ClassInitializationInfo.java:295)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at fr.bullobily.ChatApp.start(ChatApp.java:44)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.LauncherImpl.lambda$launchApplication1$9(LauncherImpl.java:847)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runAndWait$12(PlatformImpl.java:483)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runLater$10(PlatformImpl.java:456)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at java.security.AccessController.doPrivileged(AccessController.java:105)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.javafx.application.PlatformImpl.lambda$runLater$11(PlatformImpl.java:455)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.InvokeLaterDispatcher$Future.run(InvokeLaterDispatcher.java:96)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.jni.JNIJavaCallWrappers.jniInvoke_VA_LIST:Ljava_lang_Runnable_2_0002erun_00028_00029V(JNIJavaCallWrappers.java\n:0)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.win.WinApplication._runLoop(WinApplication.java)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.sun.glass.ui.win.WinApplication.lambda$runLoop$3(WinApplication.java:179)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at java.lang.Thread.run(Thread.java:829)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.thread.JavaThreads.threadStartRoutine(JavaThreads.java:567)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at com.oracle.svm.core.windows.WindowsJavaThreads.osThreadStartRoutine(WindowsJavaThreads.java:138)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB] Caused by: com.sun.javafx.fxml.PropertyNotFoundException: Property &quot;cacheShape&quot; does not exist or is read-only.\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$Element.processValue(FXMLLoader.java:358)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$Element.processPropertyAttribute(FXMLLoader.java:335)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$Element.processInstancePropertyAttributes(FXMLLoader.java:245)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader$ValueElement.processEndElement(FXMLLoader.java:778)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.processEndElement(FXMLLoader.java:2924)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         at javafx.fxml.FXMLLoader.loadImpl(FXMLLoader.java:2639)\n[jeu. sept. 02 00:13:03 CEST 2021][INFOS] [SUB]         ... 20 more\n</code></pre>\n<p>Here are my Main.fxml and Chat.fxml (created with Scene Builder):</p>\n<p>Main.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.geometry.Rectangle2D?&gt;\n&lt;?import javafx.scene.Scene?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.Label?&gt;\n&lt;?import javafx.scene.image.Image?&gt;\n&lt;?import javafx.scene.image.ImageView?&gt;\n&lt;?import javafx.scene.layout.AnchorPane?&gt;\n&lt;?import javafx.scene.layout.ColumnConstraints?&gt;\n&lt;?import javafx.scene.layout.GridPane?&gt;\n&lt;?import javafx.scene.layout.HBox?&gt;\n&lt;?import javafx.scene.layout.Pane?&gt;\n&lt;?import javafx.scene.layout.RowConstraints?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n&lt;?import javafx.scene.paint.Color?&gt;\n&lt;?import javafx.scene.paint.LinearGradient?&gt;\n&lt;?import javafx.scene.paint.Stop?&gt;\n&lt;?import javafx.scene.text.Font?&gt;\n\n&lt;Scene xmlns=&quot;%javafx.fx&quot; xmlns:fx=&quot;%javafx.fxml&quot; fx:controller=&quot;fr.bullobily.controller.MainController&quot;&gt;\n   &lt;AnchorPane prefHeight=&quot;387.0&quot; prefWidth=&quot;559.0&quot;&gt;\n   &lt;children&gt;\n      &lt;HBox layoutX=&quot;274.0&quot; layoutY=&quot;120.0&quot; prefHeight=&quot;400.0&quot; prefWidth=&quot;600.0&quot; AnchorPane.bottomAnchor=&quot;0.0&quot; AnchorPane.leftAnchor=&quot;0.0&quot; AnchorPane.rightAnchor=&quot;0.0&quot; AnchorPane.topAnchor=&quot;0.0&quot;&gt;\n         &lt;children&gt;\n            &lt;VBox minWidth=&quot;-Infinity&quot; prefHeight=&quot;387.0&quot; prefWidth=&quot;211.0&quot; style=&quot;-fx-background-color: #1DB6B1;&quot; stylesheets=&quot;@../css/Main.css&quot; HBox.hgrow=&quot;NEVER&quot;&gt;\n               &lt;children&gt;\n                  &lt;Pane prefHeight=&quot;91.0&quot; prefWidth=&quot;170.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;ImageView fitHeight=&quot;50.0&quot; fitWidth=&quot;50.0&quot; layoutY=&quot;18.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n                           &lt;image&gt;\n                              &lt;Image url=&quot;@../pictures/app_icon.png&quot; /&gt;\n                           &lt;/image&gt;\n                        &lt;/ImageView&gt;\n                        &lt;Label layoutX=&quot;56.0&quot; prefHeight=&quot;86.0&quot; prefWidth=&quot;111.0&quot; text=&quot;Ma super appli de chat&quot; wrapText=&quot;true&quot;&gt;\n                           &lt;font&gt;\n                              &lt;Font name=&quot;Candara Light&quot; size=&quot;19.0&quot; /&gt;\n                           &lt;/font&gt;\n                              &lt;textFill&gt;\n                                 &lt;LinearGradient endX=&quot;1.0&quot; endY=&quot;1.0&quot;&gt;\n                                    &lt;stops&gt;\n                                       &lt;Stop&gt;\n                                          &lt;color&gt;\n                                             &lt;Color red=&quot;0.8526315689086914&quot; green=&quot;0.028421051800251007&quot; blue=&quot;0.028421051800251007&quot; /&gt;\n                                          &lt;/color&gt;\n                                       &lt;/Stop&gt;\n                                       &lt;Stop offset=&quot;1.0&quot;&gt;\n                                          &lt;color&gt;\n                                             &lt;Color green=&quot;0.03805406019091606&quot; blue=&quot;1.0&quot; /&gt;\n                                          &lt;/color&gt;\n                                       &lt;/Stop&gt;\n                                    &lt;/stops&gt;\n                                 &lt;/LinearGradient&gt;\n                              &lt;/textFill&gt;\n                        &lt;/Label&gt;\n                     &lt;/children&gt;\n                  &lt;/Pane&gt;\n                  &lt;VBox prefHeight=&quot;149.0&quot; prefWidth=&quot;213.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;GridPane&gt;\n                          &lt;columnConstraints&gt;\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;132.79999542236328&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;119.40001220703125&quot; /&gt;\n                            &lt;ColumnConstraints hgrow=&quot;SOMETIMES&quot; maxWidth=&quot;101.59999542236329&quot; minWidth=&quot;10.0&quot; prefWidth=&quot;71.39998779296876&quot; /&gt;\n                          &lt;/columnConstraints&gt;\n                          &lt;rowConstraints&gt;\n                            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                            &lt;RowConstraints minHeight=&quot;10.0&quot; prefHeight=&quot;30.0&quot; vgrow=&quot;SOMETIMES&quot; /&gt;\n                          &lt;/rowConstraints&gt;\n                           &lt;children&gt;\n                              &lt;Label prefWidth=&quot;114.0&quot; text=&quot;Nom d'utilisateur :&quot; /&gt;\n                              &lt;Label text=&quot;Personnes en ligne :&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n                              &lt;Label fx:id=&quot;usernameLab&quot; text=&quot;Label&quot; GridPane.columnIndex=&quot;1&quot; /&gt;\n                              &lt;Label fx:id=&quot;onlineUsersCount&quot; prefWidth=&quot;28.0&quot; text=&quot;Label&quot; GridPane.columnIndex=&quot;1&quot; GridPane.rowIndex=&quot;1&quot; /&gt;\n                           &lt;/children&gt;\n                        &lt;/GridPane&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onConnectButton&quot; prefWidth=&quot;1000.0&quot; text=&quot;Connexion&quot;&gt;\n                           &lt;graphic&gt;\n                              &lt;ImageView fitHeight=&quot;20.0&quot; fitWidth=&quot;20.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n                                 &lt;image&gt;\n                                    &lt;Image url=&quot;@../pictures/connection.png&quot; /&gt;\n                                 &lt;/image&gt;\n                              &lt;/ImageView&gt;\n                           &lt;/graphic&gt;\n                        &lt;/Button&gt;\n                     &lt;/children&gt;\n                     &lt;padding&gt;\n                        &lt;Insets bottom=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n                     &lt;/padding&gt;\n                  &lt;/VBox&gt;\n                  &lt;VBox fx:id=&quot;buttonsVbox&quot; prefHeight=&quot;0.0&quot; prefWidth=&quot;170.0&quot; spacing=&quot;20.0&quot;&gt;\n                     &lt;children&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onButtonChat&quot; prefWidth=&quot;1000.0&quot; text=&quot;Chat&quot; VBox.vgrow=&quot;ALWAYS&quot;&gt;\n                           &lt;VBox.margin&gt;\n                              &lt;Insets /&gt;\n                           &lt;/VBox.margin&gt;\n                           &lt;graphic&gt;\n                              &lt;ImageView fitHeight=&quot;20.0&quot; fitWidth=&quot;20.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n                                 &lt;image&gt;\n                                    &lt;Image url=&quot;@../pictures/chat.png&quot; /&gt;\n                                 &lt;/image&gt;\n                                 &lt;viewport&gt;\n                                    &lt;Rectangle2D /&gt;\n                                 &lt;/viewport&gt;\n                              &lt;/ImageView&gt;\n                           &lt;/graphic&gt;\n                        &lt;/Button&gt;\n                        &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#onButtonParameters&quot; prefWidth=&quot;1000.0&quot; text=&quot;Paramètres&quot;&gt;\n                           &lt;graphic&gt;\n                              &lt;ImageView fitHeight=&quot;20.0&quot; fitWidth=&quot;20.0&quot; pickOnBounds=&quot;true&quot; preserveRatio=&quot;true&quot;&gt;\n                                 &lt;image&gt;\n                                    &lt;Image url=&quot;@../pictures/picture.png&quot; /&gt;\n                                 &lt;/image&gt;\n                              &lt;/ImageView&gt;\n                           &lt;/graphic&gt;\n                        &lt;/Button&gt;\n                     &lt;/children&gt;\n                     &lt;VBox.margin&gt;\n                        &lt;Insets bottom=&quot;20.0&quot; /&gt;\n                     &lt;/VBox.margin&gt;\n                     &lt;padding&gt;\n                        &lt;Insets bottom=&quot;20.0&quot; top=&quot;20.0&quot; /&gt;\n                     &lt;/padding&gt;\n                  &lt;/VBox&gt;\n               &lt;/children&gt;\n               &lt;padding&gt;\n                  &lt;Insets left=&quot;10.0&quot; right=&quot;10.0&quot; /&gt;\n               &lt;/padding&gt;\n            &lt;/VBox&gt;\n               &lt;AnchorPane fx:id=&quot;contentPane&quot; prefHeight=&quot;200.0&quot; prefWidth=&quot;200.0&quot; HBox.hgrow=&quot;ALWAYS&quot; /&gt;\n         &lt;/children&gt;\n      &lt;/HBox&gt;\n   &lt;/children&gt;\n   &lt;/AnchorPane&gt;\n&lt;/Scene&gt;\n</code></pre>\n<p>Chat.fxml:</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n\n&lt;?import javafx.geometry.Insets?&gt;\n&lt;?import javafx.scene.control.Button?&gt;\n&lt;?import javafx.scene.control.ListView?&gt;\n&lt;?import javafx.scene.control.TextField?&gt;\n&lt;?import javafx.scene.layout.VBox?&gt;\n\n&lt;VBox alignment=&quot;CENTER&quot; cacheShape=&quot;false&quot; centerShape=&quot;false&quot; nodeOrientation=&quot;RIGHT_TO_LEFT&quot; prefHeight=&quot;306.0&quot;\n      prefWidth=&quot;329.0&quot; scaleShape=&quot;false&quot; spacing=&quot;21.0&quot; xmlns=&quot;%javafx.fx&quot; xmlns:fx=&quot;%javafx.fxml&quot;\n      fx:controller=&quot;fr.bullobily.controller.ChatController&quot;&gt;\n   &lt;padding&gt;\n      &lt;Insets bottom=&quot;30.0&quot; left=&quot;30.0&quot; right=&quot;30.0&quot; top=&quot;30.0&quot;/&gt;\n   &lt;/padding&gt;\n   &lt;ListView fx:id=&quot;chatList&quot; prefHeight=&quot;530.0&quot; prefWidth=&quot;539.0&quot;/&gt;\n   &lt;VBox prefHeight=&quot;200.0&quot; prefWidth=&quot;100.0&quot; spacing=&quot;8.0&quot;&gt;\n      &lt;TextField fx:id=&quot;textSelectionField&quot; prefWidth=&quot;539.0&quot;/&gt;\n      &lt;Button mnemonicParsing=&quot;false&quot; onAction=&quot;#sendToChat&quot; text=&quot;Envoyer&quot;/&gt;\n   &lt;/VBox&gt;\n&lt;/VBox&gt;\n</code></pre>\n<p>And finally my <code>src/main/resources/META-INF/substrate/config/reflectionconfig.json</code>, which (is supposed to) contain all classes and methods I use in my fxml files: <a href=\"https://pastebin.com/EqQpBiKH\" rel=\"nofollow noreferrer\">https://pastebin.com/EqQpBiKH</a></p>\n<p>My code works well when running in IntelliJ but not from native image. I exhausted all the possibilities of resolution that I had imagined...</p>\n"},{"tags":["java","algorithm","depth-first-search"],"answers":[{"tags":[],"owner":{"account_id":22986933,"reputation":23,"user_id":17113008,"display_name":"dean7"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633774016,"creation_date":1633774016,"answer_id":69505718,"question_id":69505612,"body_markdown":"mistyped i instead of j in findWord method.","title":"Word Search II java.lang.ArrayIndexOutOfBoundsException","body":"<p>mistyped i instead of j in findWord method.</p>\n"}],"owner":{"account_id":22986933,"reputation":23,"user_id":17113008,"display_name":"dean7"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633856920,"answer_count":1,"score":0,"last_activity_date":1633775345,"creation_date":1633773261,"question_id":69505612,"body_markdown":"I tried to implement the Trie and dfs with backtracking to solve the LeetCode problem Word Search II, but it keeps telling me my dfs method is out of bounds:\r\n\r\n```\r\nclass Solution {\r\n    class TrieNode{\r\n        TrieNode[] children = new TrieNode[26];\r\n        String word;\r\n    }\r\n    public TrieNode buildTrie(String[] words){\r\n        TrieNode root =new TrieNode();\r\n        for(String w:words){\r\n            TrieNode current=root;\r\n            for(char c: w.toCharArray()){\r\n                int i = c-&#39;a&#39;;\r\n                if(current.children[i]==null)\r\n                    current.children[i]=new TrieNode();\r\n                current=current.children[i];\r\n            }\r\n            current.word=w;\r\n        }\r\n        return root;\r\n    }\r\n    public List&lt;String&gt; findWords(char[][] board, String[] words) {\r\n        List&lt;String&gt; result = new ArrayList();\r\n        TrieNode root = buildTrie(words);\r\n        \r\n        for(int i=0; i&lt;board.length; i++){\r\n            for(int j=0; i&lt;board[0].length; j++){\r\n                dfs(board,i,j,root,result);\r\n            }\r\n        }\r\n        return result;\r\n    }\r\n    private void dfs(char[][] board, int i, int j, TrieNode root, List&lt;String&gt; result){\r\n        char c = board[i][j];\r\n        if(c == &#39;*&#39;|| root.children[c-&#39;a&#39;]==null)\r\n            return;\r\n        root= root.children[c-&#39;a&#39;];\r\n        if(root.word != null){\r\n            result.add(root.word);\r\n            root.word = null; //de-duplication\r\n        }\r\n        board[i][j] = &#39;*&#39;;\r\n        if(i&gt;0) dfs(board, i-1,j, root, result); //up\r\n        if(j&gt;0) dfs(board, i, j-1, root,result);//left\r\n        if(i&lt;board.length-1) dfs(board, i+1, j, root, result);//down\r\n        if(j&lt;board[0].length-1) dfs(board, i, j+1, root, result);//right\r\n        board[i][j]=c; //backtrack\r\n    }\r\n}\r\n```\r\n\r\nand here is the error I kept receiving:\r\n```\r\njava.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 4\r\n  at line 32, Solution.dfs\r\n  at line 26, Solution.findWords\r\n  at line 54, __DriverSolution__.__helper__\r\n  at line 87, __Driver__.main\r\n\r\n```\r\nThe error happens at line char c = board[i][j].\r\nI believe my double for loops are within the available range so it should be impossible that there is a OutOfBoundException happening at that specific line. \r\n","title":"Word Search II java.lang.ArrayIndexOutOfBoundsException","body":"<p>I tried to implement the Trie and dfs with backtracking to solve the LeetCode problem Word Search II, but it keeps telling me my dfs method is out of bounds:</p>\n<pre><code>class Solution {\n    class TrieNode{\n        TrieNode[] children = new TrieNode[26];\n        String word;\n    }\n    public TrieNode buildTrie(String[] words){\n        TrieNode root =new TrieNode();\n        for(String w:words){\n            TrieNode current=root;\n            for(char c: w.toCharArray()){\n                int i = c-'a';\n                if(current.children[i]==null)\n                    current.children[i]=new TrieNode();\n                current=current.children[i];\n            }\n            current.word=w;\n        }\n        return root;\n    }\n    public List&lt;String&gt; findWords(char[][] board, String[] words) {\n        List&lt;String&gt; result = new ArrayList();\n        TrieNode root = buildTrie(words);\n        \n        for(int i=0; i&lt;board.length; i++){\n            for(int j=0; i&lt;board[0].length; j++){\n                dfs(board,i,j,root,result);\n            }\n        }\n        return result;\n    }\n    private void dfs(char[][] board, int i, int j, TrieNode root, List&lt;String&gt; result){\n        char c = board[i][j];\n        if(c == '*'|| root.children[c-'a']==null)\n            return;\n        root= root.children[c-'a'];\n        if(root.word != null){\n            result.add(root.word);\n            root.word = null; //de-duplication\n        }\n        board[i][j] = '*';\n        if(i&gt;0) dfs(board, i-1,j, root, result); //up\n        if(j&gt;0) dfs(board, i, j-1, root,result);//left\n        if(i&lt;board.length-1) dfs(board, i+1, j, root, result);//down\n        if(j&lt;board[0].length-1) dfs(board, i, j+1, root, result);//right\n        board[i][j]=c; //backtrack\n    }\n}\n</code></pre>\n<p>and here is the error I kept receiving:</p>\n<pre><code>java.lang.ArrayIndexOutOfBoundsException: Index 4 out of bounds for length 4\n  at line 32, Solution.dfs\n  at line 26, Solution.findWords\n  at line 54, __DriverSolution__.__helper__\n  at line 87, __Driver__.main\n\n</code></pre>\n<p>The error happens at line char c = board[i][j].\nI believe my double for loops are within the available range so it should be impossible that there is a OutOfBoundException happening at that specific line.</p>\n"},{"tags":["java","spring","groovy","deserialization"],"comments":[{"owner":{"account_id":14506873,"reputation":3,"user_id":10478419,"display_name":"Adrian Perkovic"},"score":0,"creation_date":1633776807,"post_id":69505859,"comment_id":122853937,"body_markdown":"@ErmiyaEskandary I mean I could but wouldn&#39;t that just be a slightly different implementation of what I am doing now?\nExample, when I call a get request for a keystore on my client app in postman it returns a list of serialized certs like it should: https://pastebin.com/HjaLkNNL\nI only now need to deserialize it on my end right? (do note, thats what I think , I am a sys engineer, this is by far the most complex project I have ever done)","body":"@ErmiyaEskandary I mean I could but wouldn&#39;t that just be a slightly different implementation of what I am doing now? Example, when I call a get request for a keystore on my client app in postman it returns a list of serialized certs like it should: <a href=\"https://pastebin.com/HjaLkNNL\" rel=\"nofollow noreferrer\">pastebin.com/HjaLkNNL</a> I only now need to deserialize it on my end right? (do note, thats what I think , I am a sys engineer, this is by far the most complex project I have ever done)"},{"owner":{"account_id":6157899,"reputation":19801,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1633776916,"post_id":69505859,"comment_id":122853957,"body_markdown":"Not the Java man, just sharing my 2 pence before someone gives an answer - your pastebin link is broken BTW","body":"Not the Java man, just sharing my 2 pence before someone gives an answer - your pastebin link is broken BTW"},{"owner":{"account_id":14506873,"reputation":3,"user_id":10478419,"display_name":"Adrian Perkovic"},"score":0,"creation_date":1633777045,"post_id":69505859,"comment_id":122853985,"body_markdown":"@ErmiyaEskandary I know I know, still thanks.\nPardon for that, pastebin admins removed the paste instantly for some reason, imgur link: https://i.imgur.com/MN6oBNR.png","body":"@ErmiyaEskandary I know I know, still thanks. Pardon for that, pastebin admins removed the paste instantly for some reason, imgur link: <a href=\"https://i.imgur.com/MN6oBNR.png\" rel=\"nofollow noreferrer\">i.imgur.com/MN6oBNR.png</a>"},{"owner":{"account_id":6157899,"reputation":19801,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1633777553,"post_id":69505859,"comment_id":122854113,"body_markdown":"Deserialise the certificate into a string instead of using a Jackson config and then do all of the string to certificate logic - `... certificateFactory.generateCertificate(input); ...` - after the JSON has been deserialised - that should 99% work","body":"Deserialise the certificate into a string instead of using a Jackson config and then do all of the string to certificate logic - <code>... certificateFactory.generateCertificate(input); ...</code> - after the JSON has been deserialised - that should 99% work"},{"owner":{"account_id":6157899,"reputation":19801,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1633777684,"post_id":69505859,"comment_id":122854148,"body_markdown":"There&#39;s better ways definitely to do this in Java (which I&#39;m not aware of) but that should fix your error for the time being at the very least","body":"There&#39;s better ways definitely to do this in Java (which I&#39;m not aware of) but that should fix your error for the time being at the very least"},{"owner":{"account_id":14506873,"reputation":3,"user_id":10478419,"display_name":"Adrian Perkovic"},"score":0,"creation_date":1634167326,"post_id":69505859,"comment_id":122956115,"body_markdown":"@ErmiyaEskandary it has been a while, nobody has been able to solve this issue so I gave in and did as you suggested, took a bit but works now flawlessly.","body":"@ErmiyaEskandary it has been a while, nobody has been able to solve this issue so I gave in and did as you suggested, took a bit but works now flawlessly."},{"owner":{"account_id":6157899,"reputation":19801,"user_id":4800344,"display_name":"Ermiya Eskandary"},"score":0,"creation_date":1634168869,"post_id":69505859,"comment_id":122956372,"body_markdown":"Wahey! If you tagged me again I’d have got something up in Java but I’m sure you would’ve gotten it sorted :) Add your own answer! I’m super glad buddy","body":"Wahey! If you tagged me again I’d have got something up in Java but I’m sure you would’ve gotten it sorted :) Add your own answer! I’m super glad buddy"}],"owner":{"account_id":14506873,"reputation":3,"user_id":10478419,"display_name":"Adrian Perkovic"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":534,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633775132,"creation_date":1633775132,"question_id":69505859,"body_markdown":"I have a issue where spring boot doesn&#39;t use my custom deserializer and I have honestly no idea why, custom serialization works just fine.\r\n\r\nAbout the application(s): there are two sides, a server and a client side app, the client side reads the x509certificates serializes them just fine and sends them to the server app but the server app fails to deserialize it with the error:\r\n\r\n    Type definition error: [simple type, class java.security.cert.X509Certificate]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `java.security.cert.X509Certificate` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\r\n     at [Source: (PushbackInputStream); line: 1, column: 208] (through reference chain: eu.outerheaven.certmanager.controller.entity.Keystore[&quot;certificates&quot;]-&gt;java.util.ArrayList[0]-&gt;eu.outerheaven.certmanager.controller.entity.Certificate[&quot;x509Certificate&quot;])\r\n\r\nRelevant code is as follows:\r\nSerialization\r\n\r\n\r\n\r\n    Class X509CertificateSerializer extends JsonSerializer&lt;X509Certificate&gt; {\r\n    \r\n        @Override\r\n        void serialize(X509Certificate value,\r\n                       JsonGenerator generator,\r\n                       SerializerProvider provider)\r\n                throws IOException, JsonProcessingException {\r\n            try {\r\n                BytesSerializer.serializeBytes(value.getEncoded(), generator, MIME_NO_LINEFEEDS);\r\n            } catch (CertificateEncodingException exception) {\r\n                throw new JsonMappingException(&quot;Unable to serialize X509 certificate&quot;, exception);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        Class&lt;X509Certificate&gt; handledType() {\r\n            return X509Certificate.class;\r\n        }\r\n    \r\n    }\r\n\r\nDeserialization:\r\n\r\n    class X509CertificateDeserializer extends JsonDeserializer&lt;X509Certificate&gt; {\r\n    \r\n        private static final CertificateFactory certificateFactory;\r\n    \r\n        static {\r\n            try {\r\n                certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n            } catch (CertificateException exception) {\r\n                throw new IllegalStateException(&quot;Unable to access X.509 certificate factory&quot;);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        X509Certificate deserialize(JsonParser parser, DeserializationContext context)\r\n                throws IOException, JsonProcessingException {\r\n            final byte[] data = BytesDeserializer.deserializeBytes(parser, MIME_NO_LINEFEEDS);\r\n            final ByteArrayInputStream input = new ByteArrayInputStream(data);\r\n            try {\r\n                return (X509Certificate) certificateFactory.generateCertificate(input);\r\n            } catch (CertificateException exception) {\r\n                throw new JsonMappingException(&quot;Unable to parse X509 certificate&quot;, exception);\r\n            }\r\n        }\r\n    \r\n        @Override\r\n        Class&lt;X509Certificate&gt; handledType() {\r\n            return X509Certificate.class;\r\n        }\r\n    \r\n    }\r\n\r\nCustom jackson:\r\n\r\n    @Configuration\r\n    @AutoConfigureBefore(JacksonAutoConfiguration.class)\r\n    class CustomJacksonConfig {\r\n    \r\n        @Bean\r\n        Jackson2ObjectMapperBuilderCustomizer jacksonObjectMapperBuilderCustomizer() {\r\n            return (jacksonObjectMapperBuilder) -&gt; {\r\n                jacksonObjectMapperBuilder.serializerByType(X509Certificate.class, new X509CertificateSerializer())\r\n                jacksonObjectMapperBuilder.deserializerByType(X509Certificate.class, new X509CertificateDeserializer())\r\n            }\r\n        }\r\n    }\r\n\r\nCert class:\r\n\r\n    @Entity\r\n    class Certificate {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id\r\n    \r\n        private Long agent_id\r\n    \r\n        private String alias\r\n        \r\n        @Column(length = 4000)\r\n        private X509Certificate x509Certificate\r\n    \r\n        private Boolean managed\r\n    \r\n        private Long keystoreId\r\n        \r\n         ....getters and setters\r\n    \r\n    }\r\n\r\nKeystore class:\r\n\r\n    @Entity\r\n    class Keystore {\r\n    \r\n        @Id\r\n        @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n        private Long id\r\n    \r\n        //ID of keystore on the agent side\r\n        private Long agentId\r\n    \r\n        //ID of instance under which this keystore is\r\n        private Long instanceId\r\n    \r\n        private String location\r\n    \r\n        private String description\r\n    \r\n        private String password\r\n    \r\n        @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;keystoreId&quot;)\r\n        private List&lt;Certificate&gt; certificates\r\n    \r\n        ...getters and setters\r\n    }\r\n\r\nAnd the call itself:\r\n\r\n    private Keystore addToInstance(KeystoreForm keystoreForm){\r\n            Instance instance = instanceRepository.findById(keystoreForm.getInstanceId()).get()\r\n            PreparedRequest preparedRequest = new PreparedRequest()\r\n            RestTemplate restTemplate = new RestTemplate();\r\n            HttpEntity&lt;KeystoreForm&gt; request = new HttpEntity&lt;&gt;(keystoreForm, preparedRequest.getHeader(instance))\r\n            ResponseEntity&lt;Keystore&gt; response\r\n            try{\r\n                response = restTemplate.postForEntity(instance.getAccessUrl() + api_url + &quot;/add&quot;, request, Keystore.class)\r\n                Keystore updatedKeystore = new Keystore(\r\n                        agentId: response.getBody().id,\r\n                        instanceId: instance.id,\r\n                        location: response.getBody().location,\r\n                        description: response.getBody().description,\r\n                        password: response.getBody().password,\r\n                        certificates: response.getBody().certificates\r\n                )\r\n                LOG.info(&quot;Agent with ip {}, hostname {} and port {} has added a new keystore under the path {}!&quot;,instance.getIp(),instance.getHostname(),instance.getPort(), updatedKeystore.getLocation())\r\n                return updatedKeystore\r\n            } catch(Exception e){\r\n                LOG.error(&quot;Adding keystore to agent failed with error &quot; + e )\r\n            }\r\n    \r\n        }","title":"Spring boot not using custom deserialization on response","body":"<p>I have a issue where spring boot doesn't use my custom deserializer and I have honestly no idea why, custom serialization works just fine.</p>\n<p>About the application(s): there are two sides, a server and a client side app, the client side reads the x509certificates serializes them just fine and sends them to the server app but the server app fails to deserialize it with the error:</p>\n<pre><code>Type definition error: [simple type, class java.security.cert.X509Certificate]; nested exception is com.fasterxml.jackson.databind.exc.InvalidDefinitionException: Cannot construct instance of `java.security.cert.X509Certificate` (no Creators, like default constructor, exist): abstract types either need to be mapped to concrete types, have custom deserializer, or contain additional type information\n at [Source: (PushbackInputStream); line: 1, column: 208] (through reference chain: eu.outerheaven.certmanager.controller.entity.Keystore[&quot;certificates&quot;]-&gt;java.util.ArrayList[0]-&gt;eu.outerheaven.certmanager.controller.entity.Certificate[&quot;x509Certificate&quot;])\n</code></pre>\n<p>Relevant code is as follows:\nSerialization</p>\n<pre><code>Class X509CertificateSerializer extends JsonSerializer&lt;X509Certificate&gt; {\n\n    @Override\n    void serialize(X509Certificate value,\n                   JsonGenerator generator,\n                   SerializerProvider provider)\n            throws IOException, JsonProcessingException {\n        try {\n            BytesSerializer.serializeBytes(value.getEncoded(), generator, MIME_NO_LINEFEEDS);\n        } catch (CertificateEncodingException exception) {\n            throw new JsonMappingException(&quot;Unable to serialize X509 certificate&quot;, exception);\n        }\n    }\n\n    @Override\n    Class&lt;X509Certificate&gt; handledType() {\n        return X509Certificate.class;\n    }\n\n}\n</code></pre>\n<p>Deserialization:</p>\n<pre><code>class X509CertificateDeserializer extends JsonDeserializer&lt;X509Certificate&gt; {\n\n    private static final CertificateFactory certificateFactory;\n\n    static {\n        try {\n            certificateFactory = CertificateFactory.getInstance(&quot;X.509&quot;);\n        } catch (CertificateException exception) {\n            throw new IllegalStateException(&quot;Unable to access X.509 certificate factory&quot;);\n        }\n    }\n\n    @Override\n    X509Certificate deserialize(JsonParser parser, DeserializationContext context)\n            throws IOException, JsonProcessingException {\n        final byte[] data = BytesDeserializer.deserializeBytes(parser, MIME_NO_LINEFEEDS);\n        final ByteArrayInputStream input = new ByteArrayInputStream(data);\n        try {\n            return (X509Certificate) certificateFactory.generateCertificate(input);\n        } catch (CertificateException exception) {\n            throw new JsonMappingException(&quot;Unable to parse X509 certificate&quot;, exception);\n        }\n    }\n\n    @Override\n    Class&lt;X509Certificate&gt; handledType() {\n        return X509Certificate.class;\n    }\n\n}\n</code></pre>\n<p>Custom jackson:</p>\n<pre><code>@Configuration\n@AutoConfigureBefore(JacksonAutoConfiguration.class)\nclass CustomJacksonConfig {\n\n    @Bean\n    Jackson2ObjectMapperBuilderCustomizer jacksonObjectMapperBuilderCustomizer() {\n        return (jacksonObjectMapperBuilder) -&gt; {\n            jacksonObjectMapperBuilder.serializerByType(X509Certificate.class, new X509CertificateSerializer())\n            jacksonObjectMapperBuilder.deserializerByType(X509Certificate.class, new X509CertificateDeserializer())\n        }\n    }\n}\n</code></pre>\n<p>Cert class:</p>\n<pre><code>@Entity\nclass Certificate {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id\n\n    private Long agent_id\n\n    private String alias\n    \n    @Column(length = 4000)\n    private X509Certificate x509Certificate\n\n    private Boolean managed\n\n    private Long keystoreId\n    \n     ....getters and setters\n\n}\n</code></pre>\n<p>Keystore class:</p>\n<pre><code>@Entity\nclass Keystore {\n\n    @Id\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\n    private Long id\n\n    //ID of keystore on the agent side\n    private Long agentId\n\n    //ID of instance under which this keystore is\n    private Long instanceId\n\n    private String location\n\n    private String description\n\n    private String password\n\n    @OneToMany(cascade = CascadeType.ALL, mappedBy = &quot;keystoreId&quot;)\n    private List&lt;Certificate&gt; certificates\n\n    ...getters and setters\n}\n</code></pre>\n<p>And the call itself:</p>\n<pre><code>private Keystore addToInstance(KeystoreForm keystoreForm){\n        Instance instance = instanceRepository.findById(keystoreForm.getInstanceId()).get()\n        PreparedRequest preparedRequest = new PreparedRequest()\n        RestTemplate restTemplate = new RestTemplate();\n        HttpEntity&lt;KeystoreForm&gt; request = new HttpEntity&lt;&gt;(keystoreForm, preparedRequest.getHeader(instance))\n        ResponseEntity&lt;Keystore&gt; response\n        try{\n            response = restTemplate.postForEntity(instance.getAccessUrl() + api_url + &quot;/add&quot;, request, Keystore.class)\n            Keystore updatedKeystore = new Keystore(\n                    agentId: response.getBody().id,\n                    instanceId: instance.id,\n                    location: response.getBody().location,\n                    description: response.getBody().description,\n                    password: response.getBody().password,\n                    certificates: response.getBody().certificates\n            )\n            LOG.info(&quot;Agent with ip {}, hostname {} and port {} has added a new keystore under the path {}!&quot;,instance.getIp(),instance.getHostname(),instance.getPort(), updatedKeystore.getLocation())\n            return updatedKeystore\n        } catch(Exception e){\n            LOG.error(&quot;Adding keystore to agent failed with error &quot; + e )\n        }\n\n    }\n</code></pre>\n"},{"tags":["java","eclipse","program-entry-point"],"comments":[{"owner":{"account_id":301110,"reputation":98844,"user_id":608639,"accept_rate":64,"display_name":"jww"},"score":0,"creation_date":1412055990,"post_id":17267467,"comment_id":40925095,"body_markdown":"possible duplicate of [Error: Selection does not contain a main type](http://stackoverflow.com/questions/16225177/error-selection-does-not-contain-a-main-type)","body":"possible duplicate of <a href=\"http://stackoverflow.com/questions/16225177/error-selection-does-not-contain-a-main-type\">Error: Selection does not contain a main type</a>"}],"answers":[{"tags":[],"owner":{"account_id":794766,"reputation":158675,"user_id":871026,"accept_rate":76,"display_name":"Reimeus"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1372044965,"creation_date":1372043243,"answer_id":17267485,"question_id":17267467,"body_markdown":"The file is excluded from the run types in Eclipse as it exists outside a source folder. Create a new source folder `src/main/java` and move the file there.\r\n\r\nHere are the basic project source folders for Eclipse:\r\n\r\n- `src/main/java` - Java source files\r\n- `src/main/resources`  - Project resources, e.g. images, property files\r\n- `src/test/java`  - Unit test Java source files\r\n- `src/test/resources` - Test resource files\r\n\r\n","title":"Eclipse: &quot;selection does not contain a main type&quot; error when main function exists","body":"<p>The file is excluded from the run types in Eclipse as it exists outside a source folder. Create a new source folder <code>src/main/java</code> and move the file there.</p>\n\n<p>Here are the basic project source folders for Eclipse:</p>\n\n<ul>\n<li><code>src/main/java</code> - Java source files</li>\n<li><code>src/main/resources</code>  - Project resources, e.g. images, property files</li>\n<li><code>src/test/java</code>  - Unit test Java source files</li>\n<li><code>src/test/resources</code> - Test resource files</li>\n</ul>\n"}],"owner":{"account_id":1656678,"reputation":1542,"user_id":1526048,"accept_rate":65,"display_name":"Aido"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3095,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":17267485,"answer_count":1,"score":1,"last_activity_date":1633774963,"creation_date":1372043095,"question_id":17267467,"body_markdown":"Whenever I try to launch my code, Eclipse gives me the error &quot;selection does not contain a main type&quot;\r\nThis is my code:\r\n\r\n    public class main {\r\n    \r\n    \t/**\r\n    \t * @param args\r\n    \t */\r\n    \tpublic static void main(String[] args) {\r\n    \t\tSystem.out.println(&quot;Hello World!&quot;);\r\n    \r\n    \t}\r\n    \r\n    }\r\n\r\nHere is the project tree:\r\n![project tree][1]\r\n\r\nfor a comment: ![enter image description here][2]\r\n\r\n\r\n  [1]: http://i.stack.imgur.com/pznSG.png\r\n  [2]: http://i.stack.imgur.com/vIa8I.png","title":"Eclipse: &quot;selection does not contain a main type&quot; error when main function exists","body":"<p>Whenever I try to launch my code, Eclipse gives me the error \"selection does not contain a main type\"\nThis is my code:</p>\n\n<pre><code>public class main {\n\n    /**\n     * @param args\n     */\n    public static void main(String[] args) {\n        System.out.println(\"Hello World!\");\n\n    }\n\n}\n</code></pre>\n\n<p>Here is the project tree:\n<img src=\"https://i.stack.imgur.com/pznSG.png\" alt=\"project tree\"></p>\n\n<p>for a comment: <img src=\"https://i.stack.imgur.com/vIa8I.png\" alt=\"enter image description here\"></p>\n"},{"tags":["java","android","arcore","sceneform"],"answers":[{"tags":[],"owner":{"account_id":19092667,"reputation":1,"user_id":13942638,"display_name":"Stratos Fotakis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1597931300,"creation_date":1597931300,"answer_id":63506525,"question_id":63494992,"body_markdown":"The problem was caused by the `video_screen.sfb` file.\r\n\r\nIf anyone else is facing the same issue try using the following video_screen file:\r\n\r\nhttps://github.com/heyletscode/Play-Video-On-Augmented-Image/blob/master/Project/app/src/main/assets/video_screen.sfb","title":"Why Sceneform 1.17.1 displays only audio and not video corectly?","body":"<p>The problem was caused by the <code>video_screen.sfb</code> file.</p>\n<p>If anyone else is facing the same issue try using the following video_screen file:</p>\n<p><a href=\"https://github.com/heyletscode/Play-Video-On-Augmented-Image/blob/master/Project/app/src/main/assets/video_screen.sfb\" rel=\"nofollow noreferrer\">https://github.com/heyletscode/Play-Video-On-Augmented-Image/blob/master/Project/app/src/main/assets/video_screen.sfb</a></p>\n"}],"owner":{"account_id":19092667,"reputation":1,"user_id":13942638,"display_name":"Stratos Fotakis"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":63506525,"answer_count":1,"score":0,"last_activity_date":1633773572,"creation_date":1597871162,"question_id":63494992,"body_markdown":"I am creating an AR app using Sceneform, and no matter what I have tried this far Sceneform doesn&#39;t display a video correctly over an image. This is the result I get when the camera detects the image: \r\n[The Video Image that I get][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/qWLh3.png\r\n\r\nHere is the code I have on the corresponding class:\r\n   \r\n\r\n texture = new ExternalTexture();\r\n\r\n        mediaPlayer = MediaPlayer.create(this, R.raw.video);\r\n        mediaPlayer.setSurface(texture.getSurface());\r\n        mediaPlayer.setLooping(true);\r\n\r\n        ModelRenderable\r\n                .builder()\r\n                .setSource(this, Uri.parse(&quot;video_screen.sfb&quot;))\r\n                .build()\r\n                .thenAccept(modelRenderable -&gt; {\r\n                    renderable = modelRenderable;\r\n                    modelRenderable.getMaterial().setExternalTexture(&quot;videoTexture&quot;,\r\n                            texture);\r\n                    modelRenderable.getMaterial().setFloat4(&quot;keyColor&quot;,\r\n                            new Color(0.01843f, 1f, 0.098f));\r\n                })\r\n                .exceptionally(\r\n                        throwable -&gt; {\r\n                            Toast toast = Toast.makeText(this, &quot;Unable to load video renderable&quot;, Toast.LENGTH_LONG);\r\n                            toast.setGravity(Gravity.CENTER, 0, 0);\r\n                            toast.show();\r\n                            return null;\r\n                        });\r\n\r\n\r\n        arFragment = (com.stratos.syrostownhall.CustomArFragment)getSupportFragmentManager().findFragmentById(R.id.arFragment);\r\n\r\n        if (arFragment != null) {\r\n            scene = arFragment.getArSceneView().getScene();\r\n        }\r\n\r\n        scene.addOnUpdateListener(this::onUpdate);\r\n\r\n    }\r\n\r\n    private void onUpdate(FrameTime frameTime) {\r\n\r\n        if (isImageDetected)\r\n            return;\r\n\r\n        Frame frame = arFragment.getArSceneView().getArFrame();\r\n\r\n        Collection&lt;AugmentedImage&gt; augmentedImages =\r\n                frame != null ? frame.getUpdatedTrackables(AugmentedImage.class) : null;\r\n\r\n\r\n        for (AugmentedImage painting : Objects.requireNonNull(augmentedImages)) {\r\n            if (painting.getTrackingState() == TrackingState.TRACKING) {\r\n\r\n                if (painting.getName().equals(&quot;painting&quot;)) {\r\n\r\n                    isImageDetected = true;\r\n\r\n                    playVideo(painting.createAnchor(painting.getCenterPose()), painting.getExtentX(),\r\n                            painting.getExtentZ());\r\n\r\n                    break;\r\n                }\r\n\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n    private void playVideo(Anchor anchor, float extentX, float extentZ) {\r\n\r\n        mediaPlayer.start();\r\n\r\n        AnchorNode anchorNode = new AnchorNode(anchor);\r\n\r\n        texture.getSurfaceTexture().setOnFrameAvailableListener(surfaceTexture -&gt; {\r\n            anchorNode.setRenderable(renderable);\r\n            texture.getSurfaceTexture().setOnFrameAvailableListener(null);\r\n        });\r\n\r\n        anchorNode.setWorldScale(new Vector3(extentX, 1f, extentZ));\r\n\r\n        scene.addChild(anchorNode);\r\n\r\n    } \r\n\r\nAlso, I add the asset manually using the following syntax: \r\n\r\n    sceneform.asset (&#39;sampledata/video_screen.obj&#39;,\r\n            &#39;default&#39;,\r\n            &#39;sampledata/video_screen.sfa&#39;,\r\n            &#39;src/main/assets/video_screen&#39;)\r\n\r\n","title":"Why Sceneform 1.17.1 displays only audio and not video corectly?","body":"<p>I am creating an AR app using Sceneform, and no matter what I have tried this far Sceneform doesn't display a video correctly over an image. This is the result I get when the camera detects the image:\n<a href=\"https://i.stack.imgur.com/qWLh3.png\" rel=\"nofollow noreferrer\">The Video Image that I get</a></p>\n<p>Here is the code I have on the corresponding class:</p>\n<p>texture = new ExternalTexture();</p>\n<pre><code>    mediaPlayer = MediaPlayer.create(this, R.raw.video);\n    mediaPlayer.setSurface(texture.getSurface());\n    mediaPlayer.setLooping(true);\n\n    ModelRenderable\n            .builder()\n            .setSource(this, Uri.parse(&quot;video_screen.sfb&quot;))\n            .build()\n            .thenAccept(modelRenderable -&gt; {\n                renderable = modelRenderable;\n                modelRenderable.getMaterial().setExternalTexture(&quot;videoTexture&quot;,\n                        texture);\n                modelRenderable.getMaterial().setFloat4(&quot;keyColor&quot;,\n                        new Color(0.01843f, 1f, 0.098f));\n            })\n            .exceptionally(\n                    throwable -&gt; {\n                        Toast toast = Toast.makeText(this, &quot;Unable to load video renderable&quot;, Toast.LENGTH_LONG);\n                        toast.setGravity(Gravity.CENTER, 0, 0);\n                        toast.show();\n                        return null;\n                    });\n\n\n    arFragment = (com.stratos.syrostownhall.CustomArFragment)getSupportFragmentManager().findFragmentById(R.id.arFragment);\n\n    if (arFragment != null) {\n        scene = arFragment.getArSceneView().getScene();\n    }\n\n    scene.addOnUpdateListener(this::onUpdate);\n\n}\n\nprivate void onUpdate(FrameTime frameTime) {\n\n    if (isImageDetected)\n        return;\n\n    Frame frame = arFragment.getArSceneView().getArFrame();\n\n    Collection&lt;AugmentedImage&gt; augmentedImages =\n            frame != null ? frame.getUpdatedTrackables(AugmentedImage.class) : null;\n\n\n    for (AugmentedImage painting : Objects.requireNonNull(augmentedImages)) {\n        if (painting.getTrackingState() == TrackingState.TRACKING) {\n\n            if (painting.getName().equals(&quot;painting&quot;)) {\n\n                isImageDetected = true;\n\n                playVideo(painting.createAnchor(painting.getCenterPose()), painting.getExtentX(),\n                        painting.getExtentZ());\n\n                break;\n            }\n\n        }\n    }\n\n}\n\nprivate void playVideo(Anchor anchor, float extentX, float extentZ) {\n\n    mediaPlayer.start();\n\n    AnchorNode anchorNode = new AnchorNode(anchor);\n\n    texture.getSurfaceTexture().setOnFrameAvailableListener(surfaceTexture -&gt; {\n        anchorNode.setRenderable(renderable);\n        texture.getSurfaceTexture().setOnFrameAvailableListener(null);\n    });\n\n    anchorNode.setWorldScale(new Vector3(extentX, 1f, extentZ));\n\n    scene.addChild(anchorNode);\n\n} \n</code></pre>\n<p>Also, I add the asset manually using the following syntax:</p>\n<pre><code>sceneform.asset ('sampledata/video_screen.obj',\n        'default',\n        'sampledata/video_screen.sfa',\n        'src/main/assets/video_screen')\n</code></pre>\n"},{"tags":["java","gradle","github-actions","selenide"],"comments":[{"owner":{"account_id":17199269,"reputation":644,"user_id":12451359,"display_name":"Marijn Kneppers"},"score":0,"creation_date":1633771621,"post_id":69505276,"comment_id":122852808,"body_markdown":"Could you please provide us with the error message? Without it it’s hard to know what is going wrong.","body":"Could you please provide us with the error message? Without it it’s hard to know what is going wrong."},{"owner":{"account_id":21851778,"reputation":1,"user_id":16301473,"display_name":"Kseniia"},"score":0,"creation_date":1633772421,"post_id":69505276,"comment_id":122852979,"body_markdown":"@MarijnKneppers sure, sorry.","body":"@MarijnKneppers sure, sorry."}],"owner":{"account_id":21851778,"reputation":1,"user_id":16301473,"display_name":"Kseniia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":114,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633773477,"creation_date":1633770493,"question_id":69505276,"body_markdown":"I used gradle.yml before, around six month ago. But now in my new project it&#39;s not working (tests are failed).\r\nMaybe is it related to changes about authorization by token or access with Selenide? Locally tests are passed.\r\n\r\nMy gradle.yml\r\n```\r\n    name: Java CI with Gradle\r\n\r\non:\r\n  push:\r\n    branches: [ main ]\r\n  pull_request:\r\n    branches: [ main ]\r\n\r\njobs:\r\n  build:\r\n\r\n    runs-on: ubuntu-latest\r\n\r\n    steps:\r\n    - uses: actions/checkout@v2\r\n    - name: Set up JDK 15\r\n      uses: actions/setup-java@v2\r\n      with:\r\n        java-version: &#39;15&#39;\r\n        distribution: &#39;adopt&#39;\r\n\r\n    - name: Grant execute permission for gradlew\r\n      run: chmod +x gradlew\r\n    - name: Build with Gradle\r\n      run: ./gradlew build --info\r\n```\r\n\r\n*FAILURE: Build failed with an exception.*\r\n\r\n*Error: Process completed with exit code 1.*\r\n\r\n[some logs][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oeMEa.png","title":"Installation gradle in Github Actions","body":"<p>I used gradle.yml before, around six month ago. But now in my new project it's not working (tests are failed).\nMaybe is it related to changes about authorization by token or access with Selenide? Locally tests are passed.</p>\n<p>My gradle.yml</p>\n<pre><code>    name: Java CI with Gradle\n\non:\n  push:\n    branches: [ main ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  build:\n\n    runs-on: ubuntu-latest\n\n    steps:\n    - uses: actions/checkout@v2\n    - name: Set up JDK 15\n      uses: actions/setup-java@v2\n      with:\n        java-version: '15'\n        distribution: 'adopt'\n\n    - name: Grant execute permission for gradlew\n      run: chmod +x gradlew\n    - name: Build with Gradle\n      run: ./gradlew build --info\n</code></pre>\n<p><em>FAILURE: Build failed with an exception.</em></p>\n<p><em>Error: Process completed with exit code 1.</em></p>\n<p><a href=\"https://i.stack.imgur.com/oeMEa.png\" rel=\"nofollow noreferrer\">some logs</a></p>\n"},{"tags":["java","jenkins","gradle","jacoco"],"comments":[{"owner":{"account_id":88629,"reputation":9961,"user_id":244993,"display_name":"Godin"},"score":0,"creation_date":1481320626,"post_id":40989282,"comment_id":69346227,"body_markdown":"Since this seem to solely relate to Jenkins Plugin and not to JaCoCo library itself: have you tried to reach Jenkins Plugin developers via their mailing list https://groups.google.com/forum/#!forum/jenkins-jacoco-plugin-mailing-list ?","body":"Since this seem to solely relate to Jenkins Plugin and not to JaCoCo library itself: have you tried to reach Jenkins Plugin developers via their mailing list <a href=\"https://groups.google.com/forum/#!forum/jenkins-jacoco-plugin-mailing-list\" rel=\"nofollow noreferrer\">groups.google.com/forum/#!forum/&hellip;</a> ?"},{"owner":{"account_id":9743700,"reputation":1,"user_id":7224355,"display_name":"anchore"},"score":0,"creation_date":1481529876,"post_id":40989282,"comment_id":69397281,"body_markdown":"thanks, i agree with you and i will contact them. :)","body":"thanks, i agree with you and i will contact them. :)"}],"owner":{"account_id":9743700,"reputation":1,"user_id":7224355,"display_name":"anchore"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":263,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633773230,"creation_date":1481006371,"question_id":40989282,"body_markdown":"When I use `..` or `.` relative-like path to match folders(some class and source folders)\r\n\r\njacoco plugin says:\r\n\r\n&gt; Overall coverage: class: 0, method: 0, line: 0, branch: 0, instruction: 0\r\n\r\nbut when I copy the folder to my project and of course I use no `..` and `.`\r\n\r\nit can match the folder correctly what I need.\r\n\r\njacoco plugin says:\r\n\r\n&gt; Overall coverage: class: 100, method: 50, line: 38, branch: 33, instruction: 40\r\n\r\nanother experiment: I use absolute path(windows os) to match, and it doesn&#39;t work either.\r\n\r\nps: I have already generated the jacoco.exec file,all I need to do is tell jacoco plugin where the class and source files are.\r\n\r\nand these files are located in another project, so I have to use `..` to switch project","title":"jenkins jacoco plugin cannot use .. and . to match class folder","body":"<p>When I use <code>..</code> or <code>.</code> relative-like path to match folders(some class and source folders)</p>\n<p>jacoco plugin says:</p>\n<blockquote>\n<p>Overall coverage: class: 0, method: 0, line: 0, branch: 0, instruction: 0</p>\n</blockquote>\n<p>but when I copy the folder to my project and of course I use no <code>..</code> and <code>.</code></p>\n<p>it can match the folder correctly what I need.</p>\n<p>jacoco plugin says:</p>\n<blockquote>\n<p>Overall coverage: class: 100, method: 50, line: 38, branch: 33, instruction: 40</p>\n</blockquote>\n<p>another experiment: I use absolute path(windows os) to match, and it doesn't work either.</p>\n<p>ps: I have already generated the jacoco.exec file,all I need to do is tell jacoco plugin where the class and source files are.</p>\n<p>and these files are located in another project, so I have to use <code>..</code> to switch project</p>\n"},{"tags":["java","spring"],"owner":{"account_id":3106126,"reputation":31241,"user_id":2628868,"accept_rate":84,"display_name":"Dolphin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1974,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":0,"score":2,"last_activity_date":1633772414,"creation_date":1633618978,"question_id":69483448,"body_markdown":"I am using spring gateway to forward the api request, now I am facing a strange problem is that when I update the backend service, the api will resume for a very long time. But the back end service restart quickly, I am writen the backend service using rust, the restart will take less than 5 seconds, but the api resume will take more than 10 minites. I am confusing about this problem, my spring gateway forward config like this:\r\n\r\n\r\n    # dolphin music\r\n    spring.cloud.gateway.discovery.locator.enabled=true\r\n    spring.cloud.gateway.discovery.locator.lower-case-service-id=true\r\n    spring.cloud.gateway.routes[0].id=dolphin-music-service\r\n    # forward by ip:port way\r\n    spring.cloud.gateway.routes[0].uri=http://10.107.64.246:11014\r\n    # forward by service name way\r\n    # spring.cloud.gateway.routes[0].uri=lb://\r\n    spring.cloud.gateway.routes[0].predicates[0]=Path=/music/**\r\n    spring.cloud.gateway.routes[0].filters[0].name=LogFilter2\r\n\r\n\r\nbefore the api resume, when I invoke the api, the spring gateway will show error log like this:\r\n\r\n\r\n\r\n\r\n  \r\n\r\n      2021-10-09 17:29:19.077 WARN 1 --- [or-http-epoll-1] r.n.h.c.HttpClientConnect : [id: 0x3826e7e1, L:/10.97.196.228:39504 - R:10.107.64.246/10.107.64.246:11014] The connection observed an error\r\n    \r\n    io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer\r\n\r\n\r\nI am using curl command in the spring gateway pod to invoke the backend service like this:\r\n\r\n\r\n\r\n       # curl http://10.107.64.246:11014/music/playlist/v1/playlist -H &quot;accessToken:1&quot; -H &quot;appId:4&quot; -H &quot;userId:16&quot;|jq &quot;.&quot;\r\n      % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\r\n                                     Dload  Upload   Total   Spent    Left  Speed\r\n    100   899  100   899    0     0  30032      0 --:--:-- --:--:-- --:--:-- 31000\r\n    {\r\n      &quot;result&quot;: [\r\n        {\r\n          &quot;id&quot;: 2,\r\n          &quot;creator&quot;: {\r\n            &quot;id&quot;: 0,\r\n            &quot;name&quot;: &quot;test&quot;,\r\n            &quot;avatarUrl&quot;: &quot;https://p1.music.126.net/Ue_B2LOqrDupzKLRcxOlxQ==/109951165445776620.jpg&quot;,\r\n            &quot;nickname&quot;: &quot;Xiaoqiang Jiang&quot;\r\n          },\r\n          &quot;name&quot;: &quot;favirate&quot;,\r\n          &quot;coverUrl&quot;: &quot;https://p1.music.126.net/Ue_B2LOqrDupzKLRcxOlxQ==/109951165445776620.jpg&quot;,\r\n          &quot;description&quot;: null,\r\n          &quot;subscribed&quot;: true,\r\n          &quot;subscribedCount&quot;: 0,\r\n          &quot;commentCount&quot;: 0,\r\n          &quot;shareCount&quot;: 0,\r\n          &quot;playCount&quot;: 0,\r\n          &quot;source&quot;: 3,\r\n          &quot;trackUpdateTime&quot;: 1626501600000,\r\n          &quot;trackCount&quot;: 0\r\n        },\r\n        {\r\n          &quot;id&quot;: 1,\r\n          &quot;creator&quot;: {\r\n            &quot;id&quot;: 0,\r\n            &quot;name&quot;: &quot;test&quot;,\r\n            &quot;avatarUrl&quot;: &quot;https://p1.music.126.net/Ue_B2LOqrDupzKLRcxOlxQ==/109951165445776620.jpg&quot;,\r\n            &quot;nickname&quot;: &quot;Xiaoqiang Jiang&quot;\r\n          },\r\n          &quot;name&quot;: &quot;discovery&quot;,\r\n          &quot;coverUrl&quot;: &quot;https://p1.music.126.net/Ue_B2LOqrDupzKLRcxOlxQ==/109951165445776620.jpg&quot;,\r\n          &quot;description&quot;: null,\r\n          &quot;subscribed&quot;: true,\r\n          &quot;subscribedCount&quot;: 0,\r\n          &quot;commentCount&quot;: 0,\r\n          &quot;shareCount&quot;: 0,\r\n          &quot;playCount&quot;: 0,\r\n          &quot;source&quot;: 3,\r\n          &quot;trackUpdateTime&quot;: 1626501600000,\r\n          &quot;trackCount&quot;: 143\r\n        }\r\n      ],\r\n      &quot;statusCode&quot;: &quot;200&quot;,\r\n      &quot;resultCode&quot;: &quot;200&quot;\r\n    }\r\n\r\n\r\nshows that the backend service was UP right now, why the spring gateway tell that connection reset error althrough the backend service was UP? waht should I do to fix this problem?\r\n\r\n\r\n\r\n\r\n\r\n","title":"io.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer","body":"<p>I am using spring gateway to forward the api request, now I am facing a strange problem is that when I update the backend service, the api will resume for a very long time. But the back end service restart quickly, I am writen the backend service using rust, the restart will take less than 5 seconds, but the api resume will take more than 10 minites. I am confusing about this problem, my spring gateway forward config like this:</p>\n<pre><code># dolphin music\nspring.cloud.gateway.discovery.locator.enabled=true\nspring.cloud.gateway.discovery.locator.lower-case-service-id=true\nspring.cloud.gateway.routes[0].id=dolphin-music-service\n# forward by ip:port way\nspring.cloud.gateway.routes[0].uri=http://10.107.64.246:11014\n# forward by service name way\n# spring.cloud.gateway.routes[0].uri=lb://\nspring.cloud.gateway.routes[0].predicates[0]=Path=/music/**\nspring.cloud.gateway.routes[0].filters[0].name=LogFilter2\n</code></pre>\n<p>before the api resume, when I invoke the api, the spring gateway will show error log like this:</p>\n<pre><code>  2021-10-09 17:29:19.077 WARN 1 --- [or-http-epoll-1] r.n.h.c.HttpClientConnect : [id: 0x3826e7e1, L:/10.97.196.228:39504 - R:10.107.64.246/10.107.64.246:11014] The connection observed an error\n\nio.netty.channel.unix.Errors$NativeIoException: readAddress(..) failed: Connection reset by peer\n</code></pre>\n<p>I am using curl command in the spring gateway pod to invoke the backend service like this:</p>\n<pre><code>   # curl http://10.107.64.246:11014/music/playlist/v1/playlist -H &quot;accessToken:1&quot; -H &quot;appId:4&quot; -H &quot;userId:16&quot;|jq &quot;.&quot;\n  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current\n                                 Dload  Upload   Total   Spent    Left  Speed\n100   899  100   899    0     0  30032      0 --:--:-- --:--:-- --:--:-- 31000\n{\n  &quot;result&quot;: [\n    {\n      &quot;id&quot;: 2,\n      &quot;creator&quot;: {\n        &quot;id&quot;: 0,\n        &quot;name&quot;: &quot;test&quot;,\n        &quot;avatarUrl&quot;: &quot;https://p1.music.126.net/Ue_B2LOqrDupzKLRcxOlxQ==/109951165445776620.jpg&quot;,\n        &quot;nickname&quot;: &quot;Xiaoqiang Jiang&quot;\n      },\n      &quot;name&quot;: &quot;favirate&quot;,\n      &quot;coverUrl&quot;: &quot;https://p1.music.126.net/Ue_B2LOqrDupzKLRcxOlxQ==/109951165445776620.jpg&quot;,\n      &quot;description&quot;: null,\n      &quot;subscribed&quot;: true,\n      &quot;subscribedCount&quot;: 0,\n      &quot;commentCount&quot;: 0,\n      &quot;shareCount&quot;: 0,\n      &quot;playCount&quot;: 0,\n      &quot;source&quot;: 3,\n      &quot;trackUpdateTime&quot;: 1626501600000,\n      &quot;trackCount&quot;: 0\n    },\n    {\n      &quot;id&quot;: 1,\n      &quot;creator&quot;: {\n        &quot;id&quot;: 0,\n        &quot;name&quot;: &quot;test&quot;,\n        &quot;avatarUrl&quot;: &quot;https://p1.music.126.net/Ue_B2LOqrDupzKLRcxOlxQ==/109951165445776620.jpg&quot;,\n        &quot;nickname&quot;: &quot;Xiaoqiang Jiang&quot;\n      },\n      &quot;name&quot;: &quot;discovery&quot;,\n      &quot;coverUrl&quot;: &quot;https://p1.music.126.net/Ue_B2LOqrDupzKLRcxOlxQ==/109951165445776620.jpg&quot;,\n      &quot;description&quot;: null,\n      &quot;subscribed&quot;: true,\n      &quot;subscribedCount&quot;: 0,\n      &quot;commentCount&quot;: 0,\n      &quot;shareCount&quot;: 0,\n      &quot;playCount&quot;: 0,\n      &quot;source&quot;: 3,\n      &quot;trackUpdateTime&quot;: 1626501600000,\n      &quot;trackCount&quot;: 143\n    }\n  ],\n  &quot;statusCode&quot;: &quot;200&quot;,\n  &quot;resultCode&quot;: &quot;200&quot;\n}\n</code></pre>\n<p>shows that the backend service was UP right now, why the spring gateway tell that connection reset error althrough the backend service was UP? waht should I do to fix this problem?</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1597126589,"post_id":63348213,"comment_id":112024135,"body_markdown":".DATA column cannot be used under Android Q.","body":".DATA column cannot be used under Android Q."},{"owner":{"account_id":15235496,"reputation":99,"user_id":10993293,"display_name":"Giuan Adauto"},"score":0,"creation_date":1597152326,"post_id":63348213,"comment_id":112035985,"body_markdown":"I have a deprecation warning on this, but that&#39;s not really the problem","body":"I have a deprecation warning on this, but that&#39;s not really the problem"},{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":0,"creation_date":1597155524,"post_id":63348213,"comment_id":112037796,"body_markdown":"If you use Chrome you should inform there why they dont fill it in. I think because a browser has no idea about that date.","body":"If you use Chrome you should inform there why they dont fill it in. I think because a browser has no idea about that date."}],"answers":[{"tags":[],"owner":{"account_id":14927480,"reputation":1,"user_id":10777876,"display_name":"Seigo Ohzono"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633772069,"creation_date":1633734862,"answer_id":69502539,"question_id":63348213,"body_markdown":"&quot;[Media Store insert DATE_TAKEN is always null][1]&quot;\r\n\r\n&gt;DATE_TAKEN is documented to be &quot;The time the media item was taken.&quot; and to deliver on that API description, we populate it based on the &quot;DateTimeOriginal&quot; Exif metadata field, or the .  If the file being scanned doesn&#39;t have this metadata, we can&#39;t accurately determine when the file was captured, so DATE_TAKEN is set to NULL to avoid misleading data.\r\n\r\n\r\nSo, some devices don&#39;t have `DATE_TAKEN` field.If you use `DATE_TAKEN`, you will check value is **null or not**. And when not, you should fall back to use `DATE_ADDED` or `DATE_MODIFIED`, etc.\r\n\r\nI referred to this Japanese article: https://zenn.dev/tsutou/articles/59fbb5e71b2988\r\n\r\n\r\n  [1]: https://issuetracker.google.com/issues/140250785","title":"Android 10+ not retrieving DATE_TAKEN information from MediaStore","body":"<p>&quot;<a href=\"https://issuetracker.google.com/issues/140250785\" rel=\"nofollow noreferrer\">Media Store insert DATE_TAKEN is always null</a>&quot;</p>\n<blockquote>\n<p>DATE_TAKEN is documented to be &quot;The time the media item was taken.&quot; and to deliver on that API description, we populate it based on the &quot;DateTimeOriginal&quot; Exif metadata field, or the .  If the file being scanned doesn't have this metadata, we can't accurately determine when the file was captured, so DATE_TAKEN is set to NULL to avoid misleading data.</p>\n</blockquote>\n<p>So, some devices don't have <code>DATE_TAKEN</code> field.If you use <code>DATE_TAKEN</code>, you will check value is <strong>null or not</strong>. And when not, you should fall back to use <code>DATE_ADDED</code> or <code>DATE_MODIFIED</code>, etc.</p>\n<p>I referred to this Japanese article: <a href=\"https://zenn.dev/tsutou/articles/59fbb5e71b2988\" rel=\"nofollow noreferrer\">https://zenn.dev/tsutou/articles/59fbb5e71b2988</a></p>\n"}],"owner":{"account_id":15235496,"reputation":99,"user_id":10993293,"display_name":"Giuan Adauto"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":616,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633772069,"creation_date":1597094541,"question_id":63348213,"body_markdown":"When downloading images from browser and listing them into the app, date taken column is always null only on android 10+\r\n\r\n```\r\nArrayList&lt;String&gt; localImages = new ArrayList&lt;&gt;();\r\n\r\nUri uri = android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI.buildUpon().build();\r\n\r\nfinal String[] projection = {\r\n        MediaStore.MediaColumns.DATA,\r\n        MediaStore.Images.Media.BUCKET_DISPLAY_NAME,\r\n        MediaStore.Images.Media.DATE_TAKEN,\r\n        MediaStore.MediaColumns.DATE_ADDED\r\n};\r\nfinal String orderBy = MediaStore.Images.Media.DATE_TAKEN;\r\n\r\nString searchQuery = null;//dateQuery == null ? null : MediaStore.Images.Media.DATE_TAKEN + &quot;&gt;&quot; + (dateQuery.getTime());\r\nCursor cursor = this.getContentResolver().query(uri, projection, searchQuery, null, orderBy + &quot; DESC&quot;);\r\n\r\nint columnIndexData = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA);\r\nint columnDateTaken = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATE_TAKEN);\r\n\r\nwhile (cursor.moveToNext()) {\r\n    String imagePath = cursor.getString(columnIndexData);\r\n    String dateTaken = cursor.getString(columnDateTaken); // THIS IS ALWAYS NULL\r\n    localImages.add(imagePath);\r\n}\r\n```","title":"Android 10+ not retrieving DATE_TAKEN information from MediaStore","body":"<p>When downloading images from browser and listing them into the app, date taken column is always null only on android 10+</p>\n<pre><code>ArrayList&lt;String&gt; localImages = new ArrayList&lt;&gt;();\n\nUri uri = android.provider.MediaStore.Images.Media.EXTERNAL_CONTENT_URI.buildUpon().build();\n\nfinal String[] projection = {\n        MediaStore.MediaColumns.DATA,\n        MediaStore.Images.Media.BUCKET_DISPLAY_NAME,\n        MediaStore.Images.Media.DATE_TAKEN,\n        MediaStore.MediaColumns.DATE_ADDED\n};\nfinal String orderBy = MediaStore.Images.Media.DATE_TAKEN;\n\nString searchQuery = null;//dateQuery == null ? null : MediaStore.Images.Media.DATE_TAKEN + &quot;&gt;&quot; + (dateQuery.getTime());\nCursor cursor = this.getContentResolver().query(uri, projection, searchQuery, null, orderBy + &quot; DESC&quot;);\n\nint columnIndexData = cursor.getColumnIndexOrThrow(MediaStore.MediaColumns.DATA);\nint columnDateTaken = cursor.getColumnIndexOrThrow(MediaStore.Images.Media.DATE_TAKEN);\n\nwhile (cursor.moveToNext()) {\n    String imagePath = cursor.getString(columnIndexData);\n    String dateTaken = cursor.getString(columnDateTaken); // THIS IS ALWAYS NULL\n    localImages.add(imagePath);\n}\n</code></pre>\n"},{"tags":["java","firebase","android-studio","kotlin"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633072124,"post_id":69397513,"comment_id":122667312,"body_markdown":"How are `checkbox` and `checkbox1` defined?","body":"How are <code>checkbox</code> and <code>checkbox1</code> defined?"},{"owner":{"account_id":22908327,"reputation":1,"user_id":17046025,"display_name":"리척수"},"score":0,"creation_date":1633401748,"post_id":69397513,"comment_id":122743723,"body_markdown":"Sorry for the late reply because I was sick. \nEdited the text. I just need to be able to use findViewByID(int). I&#39;ve seen several examples. But I couldn&#39;t understand it because it was a little different from me.","body":"Sorry for the late reply because I was sick.  Edited the text. I just need to be able to use findViewByID(int). I&#39;ve seen several examples. But I couldn&#39;t understand it because it was a little different from me."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633411853,"post_id":69397513,"comment_id":122745432,"body_markdown":"The question remains, how are checkbox and checkbox1 defined?","body":"The question remains, how are checkbox and checkbox1 defined?"},{"owner":{"account_id":22908327,"reputation":1,"user_id":17046025,"display_name":"리척수"},"score":0,"creation_date":1633414803,"post_id":69397513,"comment_id":122746102,"body_markdown":"They are defined as checkBox and checkBox1 respectively... \nI did not change the id separately.","body":"They are defined as checkBox and checkBox1 respectively...  I did not change the id separately."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633414840,"post_id":69397513,"comment_id":122746114,"body_markdown":"Add those declarations to your question.","body":"Add those declarations to your question."},{"owner":{"account_id":22908327,"reputation":1,"user_id":17046025,"display_name":"리척수"},"score":0,"creation_date":1633415825,"post_id":69397513,"comment_id":122746406,"body_markdown":"i added my code","body":"i added my code"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633415889,"post_id":69397513,"comment_id":122746432,"body_markdown":"Not in the layout file, but in your activity code.","body":"Not in the layout file, but in your activity code."},{"owner":{"account_id":22908327,"reputation":1,"user_id":17046025,"display_name":"리척수"},"score":0,"creation_date":1633416152,"post_id":69397513,"comment_id":122746514,"body_markdown":"Did I make a mistake somewhere?","body":"Did I make a mistake somewhere?"},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633416227,"post_id":69397513,"comment_id":122746547,"body_markdown":"Show us how you have defined those views in your activity code.","body":"Show us how you have defined those views in your activity code."}],"owner":{"account_id":22908327,"reputation":1,"user_id":17046025,"display_name":"리척수"},"comment_count":9,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633771956,"creation_date":1633028051,"question_id":69397513,"body_markdown":"\r\nThe functions I want to implement are:\r\nIf the checkbox is on when the alarm goes off, hand over the value to the firebase.\r\n\r\nnotifyNotification confirmed that there is no problem.\r\n\r\nI can&#39;t use findViewById inside notifyNotification so I leave a question.\r\nHow can I use findViewById?\r\n\r\n\r\n[This is the result I tried to solve without using findViewBy.][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/f5CMj.jpg\r\n\r\nI couldn&#39;t find the name of the checkbox here. Below is the notifyNotification code. How can I implement the function?\r\n\r\n\r\n    \r\n\r\n    class AlarmReceiver: BroadcastReceiver() {\r\n    \r\n    \r\n        companion object {\r\n            const val NOTIFICATION_ID = 100\r\n            const val NOTIFICATION_CHANNEL_ID = &quot;1000&quot;\r\n    \r\n        }\r\n    \r\n        override fun onReceive(context: Context, intent: Intent) {\r\n            createNotificationChannel(context)\r\n            notifyNotification(context)\r\n    \r\n        }\r\n    \r\n        private fun createNotificationChannel(context: Context) {\r\n    \r\n            if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\r\n                val notificationChannel = NotificationChannel(\r\n                    NOTIFICATION_CHANNEL_ID,\r\n                    &quot;기상 알람&quot;,\r\n                    NotificationManager.IMPORTANCE_HIGH\r\n                )\r\n    \r\n                NotificationManagerCompat.from(context).createNotificationChannel(notificationChannel)\r\n    \r\n    \r\n            }\r\n        }\r\n    \r\n        private fun notifyNotification(context: Context) {\r\n    \r\n            with(NotificationManagerCompat.from(context)) {\r\n    \r\n                val build = NotificationCompat.Builder(context, NOTIFICATION_CHANNEL_ID)\r\n                    .setContentTitle(&quot;알람&quot;)\r\n                    .setContentText(&quot;일어날 시간입니다.&quot;)\r\n                    .setSmallIcon(R.drawable.ic_launcher_foreground)\r\n                    .setPriority(NotificationCompat.PRIORITY_HIGH)\r\n    \r\n    \r\n                notify(NOTIFICATION_ID, build.build())\r\n    \r\n                val firebaseDatabase = FirebaseDatabase.getInstance()\r\n                val databaseReference = firebaseDatabase.reference\r\n    \r\n                if (checkBox.isChecked == true) {\r\n                    databaseReference.child(&quot;c&quot;).setValue(&quot;C&quot;)\r\n    \r\n                }\r\n            }\r\n        }\r\n    \r\n    }\r\n\r\nACTIVITY_MAIN\r\n\r\n  \r\n\r\n    &lt;View\r\n        android:id=&quot;@+id/view&quot;\r\n        android:layout_width=&quot;180dp&quot;\r\n        android:layout_height=&quot;180dp&quot;\r\n        android:layout_marginStart=&quot;50dp&quot;\r\n        android:layout_marginEnd=&quot;50dp&quot;\r\n        android:background=&quot;@drawable/background_white_ring&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/onOffButton&quot;\r\n        app:layout_constraintDimensionRatio=&quot;H,1:1&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.496&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.12&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/timeTextView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;09:30&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;50sp&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/ampmTextView&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toTopOf=&quot;parent&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.20999998&quot;\r\n        app:layout_constraintVertical_chainStyle=&quot;packed&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/ampmTextView&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;AM&quot;\r\n        android:textColor=&quot;@color/white&quot;\r\n        android:textSize=&quot;25sp&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@id/timeTextView&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/onOffButton&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/onOffButton&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:text=&quot;@string/on_alarm&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@id/changeAlarmTimeButton&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/changeAlarmTimeButton&quot;\r\n        android:layout_width=&quot;0dp&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;52dp&quot;\r\n        android:text=&quot;@string/change_time&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;30dp&quot;\r\n        android:layout_marginEnd=&quot;8dp&quot;\r\n        android:layout_marginBottom=&quot;88dp&quot;\r\n        android:text=&quot;SCAN&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/onOffButton&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/button3&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;1.0&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button3&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;20dp&quot;\r\n        android:layout_marginEnd=&quot;30dp&quot;\r\n        android:layout_marginBottom=&quot;88dp&quot;\r\n        android:text=&quot;SCAN&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/onOffButton&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/button2&quot; /&gt;\r\n\r\n    &lt;CheckBox\r\n        android:id=&quot;@+id/checkbox&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;48dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:buttonTint=&quot;#FFFFFF&quot;\r\n        android:text=&quot;A :&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/onOffButton&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;CheckBox\r\n        android:id=&quot;@+id/checkbox1&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:buttonTint=&quot;#FFFFFF&quot;\r\n        android:text=&quot;B :&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textColorHint=&quot;#FFFFFF&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/onOffButton&quot;\r\n        app:layout_constraintEnd_toStartOf=&quot;@+id/checkbox2&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.504&quot;\r\n        app:layout_constraintStart_toEndOf=&quot;@+id/checkbox&quot; /&gt;\r\n\r\n    &lt;CheckBox\r\n        android:id=&quot;@+id/checkbox2&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginEnd=&quot;92dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:buttonTint=&quot;#FFFFFF&quot;\r\n        android:checked=&quot;false&quot;\r\n        android:focusable=&quot;auto&quot;\r\n        android:text=&quot;C :&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        app:layout_constraintBottom_toTopOf=&quot;@+id/onOffButton&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView4&quot;\r\n        android:layout_width=&quot;117dp&quot;\r\n        android:layout_height=&quot;29dp&quot;\r\n        android:layout_marginTop=&quot;24dp&quot;\r\n        android:text=&quot;오늘의 날씨&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;24sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.486&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/view&quot; /&gt;\r\n\r\n    &lt;TextView\r\n        android:id=&quot;@+id/textView5&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_marginStart=&quot;193dp&quot;\r\n        android:layout_marginTop=&quot;12dp&quot;\r\n        android:layout_marginEnd=&quot;192dp&quot;\r\n        android:text=&quot;맑음&quot;\r\n        android:textColor=&quot;#FFFFFF&quot;\r\n        android:textSize=&quot;20sp&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintHorizontal_bias=&quot;0.454&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/button4&quot;\r\n        android:layout_width=&quot;421dp&quot;\r\n        android:layout_height=&quot;48dp&quot;\r\n        android:layout_marginBottom=&quot;16dp&quot;\r\n        android:text=&quot;소독하기&quot;\r\n        app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\r\n        app:layout_constraintEnd_toEndOf=&quot;parent&quot;\r\n        app:layout_constraintStart_toStartOf=&quot;parent&quot;\r\n        app:layout_constraintTop_toBottomOf=&quot;@+id/changeAlarmTimeButton&quot;\r\n        app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\r\n\r\nMAIN ACTIVITY\r\n\r\n    \r\n\r\n    class MainActivity : AppCompatActivity() {\r\n    \r\n    \r\n        override fun onCreate(savedInstanceState: Bundle?) {\r\n            super.onCreate(savedInstanceState)\r\n            setContentView(R.layout.activity_main)\r\n    \r\n            initOnOffButton()\r\n            initChangeAlarmTimeButton()\r\n    \r\n            val model = fetchDataFromSharedPreferences()\r\n            renderView(model)\r\n    \r\n            val firebaseDatabase = FirebaseDatabase.getInstance()\r\n            val databaseReference = firebaseDatabase.reference\r\n    \r\n            val sendbt = findViewById&lt;Button&gt;(R.id.button2)\r\n            sendbt.setOnClickListener{\r\n                databaseReference.child(&quot;scan&quot;).setValue(&quot;a&quot;)\r\n            }\r\n    \r\n            val sendbt2 = findViewById&lt;Button&gt;(R.id.button3)\r\n            sendbt2.setOnClickListener{\r\n                databaseReference.child(&quot;scan&quot;).setValue(&quot;b&quot;)\r\n            }\r\n    \r\n            val sendbt3 = findViewById&lt;Button&gt;(R.id.button4)\r\n            sendbt3.setOnClickListener{\r\n                databaseReference.child(&quot;sodok&quot;).setValue(&quot;s&quot;)\r\n    \r\n                Handler().postDelayed({\r\n                    databaseReference.child(&quot;sodok&quot;).setValue(&quot;S&quot;)\r\n                }, 5000)\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n    \r\n        private fun initOnOffButton() {\r\n            val onOffButton = findViewById&lt;Button&gt;(R.id.onOffButton)\r\n            onOffButton.setOnClickListener {\r\n    \r\n                val model = it.tag as? AlarmDisplayModel ?: return@setOnClickListener\r\n                val newModel = saveAlarmModel(model.hour, model.minute, model.onOff.not())\r\n                renderView(newModel)\r\n    \r\n                if (newModel.onOff) {\r\n                    // 켜진 경우 -&gt; 알람을 등록\r\n                    val calendar = Calendar.getInstance().apply {\r\n                        set(Calendar.HOUR_OF_DAY, newModel.hour)\r\n                        set(Calendar.MINUTE, newModel.minute)\r\n    \r\n                        if (before(Calendar.getInstance())) {\r\n                            add(Calendar.DATE, 1)\r\n                        }\r\n                    }\r\n    \r\n                    val alarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\r\n                    val intent = Intent(this, AlarmReceiver::class.java)\r\n                    val pendingIntent = PendingIntent.getBroadcast(this, ALARM_REQUEST_CODE,\r\n                            intent, PendingIntent.FLAG_UPDATE_CURRENT)\r\n                    \r\n                    alarmManager.setInexactRepeating(\r\n                        AlarmManager.RTC_WAKEUP,\r\n                        calendar.timeInMillis,\r\n                        AlarmManager.INTERVAL_DAY,\r\n                        pendingIntent\r\n                    )\r\n    \r\n                }\r\n    \r\n                else {\r\n                    cancelAlarm()\r\n                }\r\n    \r\n            }\r\n        }\r\n    \r\n        private fun initChangeAlarmTimeButton() {\r\n            val changeAlarmButton = findViewById&lt;Button&gt;(R.id.changeAlarmTimeButton)\r\n            changeAlarmButton.setOnClickListener {\r\n    \r\n                //현재 시간을 가져오기 위해 캘린터 인스턴스 사용\r\n                val calendar = Calendar.getInstance()\r\n                //타임다이얼로그 띄워줘서 시간을 설정, 그 시간을 가져옴\r\n                TimePickerDialog(this, { picker, hour, minute -&gt;\r\n    \r\n                    // 데이터 저장\r\n                    val model = saveAlarmModel(hour, minute, false)\r\n                    //뷰 업데이트\r\n                    renderView(model)\r\n    \r\n                    //기존 알람 삭제\r\n                    cancelAlarm()\r\n    \r\n                }, calendar.get(Calendar.HOUR_OF_DAY), calendar.get(Calendar.MINUTE), false).show()\r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        private fun saveAlarmModel(\r\n            hour: Int,\r\n            minute: Int,\r\n            onOff: Boolean\r\n        ): AlarmDisplayModel {\r\n            val model = AlarmDisplayModel(\r\n                hour = hour,\r\n                minute = minute,\r\n                onOff = onOff\r\n            )\r\n    \r\n            //시간에 대한 db파일 생성\r\n            val sharedPreferences = getSharedPreferences(SHARED_PREFERENCES_NAME, Context.MODE_PRIVATE)\r\n    \r\n            //edit 모드로 열어서 작업 (값 저장)\r\n            with(sharedPreferences.edit()) {\r\n                putString(ALARM_KEY, model.makeDataForDB())\r\n                putBoolean(ONOFF_KEY, model.onOff)\r\n                commit()\r\n            }\r\n    \r\n            return model\r\n        }\r\n    \r\n        private fun fetchDataFromSharedPreferences():AlarmDisplayModel {\r\n            val sharedPreferences = getSharedPreferences(SHARED_PREFERENCES_NAME, Context.MODE_PRIVATE)\r\n    \r\n            //DB에서 데이터 가져오기\r\n            val timeDBValue = sharedPreferences.getString(ALARM_KEY, &quot;9:30&quot;) ?: &quot;9:30&quot;\r\n            val onOffDBValue = sharedPreferences.getBoolean(ONOFF_KEY, false)\r\n    \r\n            //시 : 분 형식으로 가져온 데이터 스플릿\r\n            val alarmData = timeDBValue.split(&quot;:&quot;)\r\n    \r\n            val alarmModel = AlarmDisplayModel(\r\n                hour = alarmData[0].toInt(),\r\n                minute = alarmData[1].toInt(),\r\n                onOff = onOffDBValue\r\n            )\r\n    \r\n            // 보정 보정 예외처리\r\n    \r\n            val pendingIntent = PendingIntent.getBroadcast(this, ALARM_REQUEST_CODE, Intent(this, AlarmReceiver::class.java), PendingIntent.FLAG_NO_CREATE)\r\n    \r\n            if ((pendingIntent == null) and alarmModel.onOff) {\r\n                // 알람은 꺼져있는데, 데이터는 켜저있는 경우\r\n                alarmModel.onOff = false\r\n    \r\n    \r\n            } else if ((pendingIntent != null) and alarmModel.onOff.not()){\r\n                // 알람은 켜져있는데, 데이터는 꺼져있는 경우\r\n                // 알람을 취소함\r\n                pendingIntent.cancel()\r\n            }\r\n    \r\n            return alarmModel\r\n    \r\n        }\r\n    \r\n        private fun renderView(model: AlarmDisplayModel) {\r\n            //최초 실행 또는 시간 재설정 시 들어오게 되는 부분\r\n    \r\n            findViewById&lt;TextView&gt;(R.id.ampmTextView).apply {\r\n                text = model.ampmText\r\n            }\r\n    \r\n            findViewById&lt;TextView&gt;(R.id.timeTextView).apply {\r\n                text = model.timeText\r\n            }\r\n    \r\n            findViewById&lt;Button&gt;(R.id.onOffButton).apply {\r\n                text = model.onOffText\r\n                tag = model\r\n            }\r\n    \r\n        }\r\n    \r\n        private fun cancelAlarm() {\r\n            val pendingIntent = PendingIntent.getBroadcast(this, ALARM_REQUEST_CODE, Intent(this, AlarmReceiver::class.java), PendingIntent.FLAG_NO_CREATE)\r\n            pendingIntent?.cancel()\r\n        }\r\n    \r\n        companion object {\r\n            private const val SHARED_PREFERENCES_NAME = &quot;time&quot;\r\n            private const val ALARM_KEY = &quot;alarm&quot;\r\n            private const val ONOFF_KEY = &quot;onOff&quot;\r\n            private const val ALARM_REQUEST_CODE = 1000\r\n    \r\n        }\r\n\r\n\r\n\r\n\r\n","title":"How to use checkbox inside notifyNotification?","body":"<p>The functions I want to implement are:\nIf the checkbox is on when the alarm goes off, hand over the value to the firebase.</p>\n<p>notifyNotification confirmed that there is no problem.</p>\n<p>I can't use findViewById inside notifyNotification so I leave a question.\nHow can I use findViewById?</p>\n<p><a href=\"https://i.stack.imgur.com/f5CMj.jpg\" rel=\"nofollow noreferrer\">This is the result I tried to solve without using findViewBy.</a></p>\n<p>I couldn't find the name of the checkbox here. Below is the notifyNotification code. How can I implement the function?</p>\n<pre><code>class AlarmReceiver: BroadcastReceiver() {\n\n\n    companion object {\n        const val NOTIFICATION_ID = 100\n        const val NOTIFICATION_CHANNEL_ID = &quot;1000&quot;\n\n    }\n\n    override fun onReceive(context: Context, intent: Intent) {\n        createNotificationChannel(context)\n        notifyNotification(context)\n\n    }\n\n    private fun createNotificationChannel(context: Context) {\n\n        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {\n            val notificationChannel = NotificationChannel(\n                NOTIFICATION_CHANNEL_ID,\n                &quot;기상 알람&quot;,\n                NotificationManager.IMPORTANCE_HIGH\n            )\n\n            NotificationManagerCompat.from(context).createNotificationChannel(notificationChannel)\n\n\n        }\n    }\n\n    private fun notifyNotification(context: Context) {\n\n        with(NotificationManagerCompat.from(context)) {\n\n            val build = NotificationCompat.Builder(context, NOTIFICATION_CHANNEL_ID)\n                .setContentTitle(&quot;알람&quot;)\n                .setContentText(&quot;일어날 시간입니다.&quot;)\n                .setSmallIcon(R.drawable.ic_launcher_foreground)\n                .setPriority(NotificationCompat.PRIORITY_HIGH)\n\n\n            notify(NOTIFICATION_ID, build.build())\n\n            val firebaseDatabase = FirebaseDatabase.getInstance()\n            val databaseReference = firebaseDatabase.reference\n\n            if (checkBox.isChecked == true) {\n                databaseReference.child(&quot;c&quot;).setValue(&quot;C&quot;)\n\n            }\n        }\n    }\n\n}\n</code></pre>\n<p>ACTIVITY_MAIN</p>\n<pre><code>&lt;View\n    android:id=&quot;@+id/view&quot;\n    android:layout_width=&quot;180dp&quot;\n    android:layout_height=&quot;180dp&quot;\n    android:layout_marginStart=&quot;50dp&quot;\n    android:layout_marginEnd=&quot;50dp&quot;\n    android:background=&quot;@drawable/background_white_ring&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/onOffButton&quot;\n    app:layout_constraintDimensionRatio=&quot;H,1:1&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.496&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.12&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/timeTextView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;09:30&quot;\n    android:textColor=&quot;@color/white&quot;\n    android:textSize=&quot;50sp&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/ampmTextView&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toTopOf=&quot;parent&quot;\n    app:layout_constraintVertical_bias=&quot;0.20999998&quot;\n    app:layout_constraintVertical_chainStyle=&quot;packed&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/ampmTextView&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;AM&quot;\n    android:textColor=&quot;@color/white&quot;\n    android:textSize=&quot;25sp&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@id/timeTextView&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/onOffButton&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/onOffButton&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:text=&quot;@string/on_alarm&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@id/changeAlarmTimeButton&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/changeAlarmTimeButton&quot;\n    android:layout_width=&quot;0dp&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginBottom=&quot;52dp&quot;\n    android:text=&quot;@string/change_time&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.0&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/button2&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;30dp&quot;\n    android:layout_marginEnd=&quot;8dp&quot;\n    android:layout_marginBottom=&quot;88dp&quot;\n    android:text=&quot;SCAN&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/onOffButton&quot;\n    app:layout_constraintEnd_toStartOf=&quot;@+id/button3&quot;\n    app:layout_constraintHorizontal_bias=&quot;1.0&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/button3&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;20dp&quot;\n    android:layout_marginEnd=&quot;30dp&quot;\n    android:layout_marginBottom=&quot;88dp&quot;\n    android:text=&quot;SCAN&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/onOffButton&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toEndOf=&quot;@+id/button2&quot; /&gt;\n\n&lt;CheckBox\n    android:id=&quot;@+id/checkbox&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;48dp&quot;\n    android:layout_marginBottom=&quot;16dp&quot;\n    android:buttonTint=&quot;#FFFFFF&quot;\n    android:text=&quot;A :&quot;\n    android:textColor=&quot;#FFFFFF&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/onOffButton&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot; /&gt;\n\n&lt;CheckBox\n    android:id=&quot;@+id/checkbox1&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginBottom=&quot;16dp&quot;\n    android:buttonTint=&quot;#FFFFFF&quot;\n    android:text=&quot;B :&quot;\n    android:textColor=&quot;#FFFFFF&quot;\n    android:textColorHint=&quot;#FFFFFF&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/onOffButton&quot;\n    app:layout_constraintEnd_toStartOf=&quot;@+id/checkbox2&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.504&quot;\n    app:layout_constraintStart_toEndOf=&quot;@+id/checkbox&quot; /&gt;\n\n&lt;CheckBox\n    android:id=&quot;@+id/checkbox2&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginEnd=&quot;92dp&quot;\n    android:layout_marginBottom=&quot;16dp&quot;\n    android:buttonTint=&quot;#FFFFFF&quot;\n    android:checked=&quot;false&quot;\n    android:focusable=&quot;auto&quot;\n    android:text=&quot;C :&quot;\n    android:textColor=&quot;#FFFFFF&quot;\n    app:layout_constraintBottom_toTopOf=&quot;@+id/onOffButton&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView4&quot;\n    android:layout_width=&quot;117dp&quot;\n    android:layout_height=&quot;29dp&quot;\n    android:layout_marginTop=&quot;24dp&quot;\n    android:text=&quot;오늘의 날씨&quot;\n    android:textColor=&quot;#FFFFFF&quot;\n    android:textSize=&quot;24sp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.486&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/view&quot; /&gt;\n\n&lt;TextView\n    android:id=&quot;@+id/textView5&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_marginStart=&quot;193dp&quot;\n    android:layout_marginTop=&quot;12dp&quot;\n    android:layout_marginEnd=&quot;192dp&quot;\n    android:text=&quot;맑음&quot;\n    android:textColor=&quot;#FFFFFF&quot;\n    android:textSize=&quot;20sp&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintHorizontal_bias=&quot;0.454&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/textView4&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/button4&quot;\n    android:layout_width=&quot;421dp&quot;\n    android:layout_height=&quot;48dp&quot;\n    android:layout_marginBottom=&quot;16dp&quot;\n    android:text=&quot;소독하기&quot;\n    app:layout_constraintBottom_toBottomOf=&quot;parent&quot;\n    app:layout_constraintEnd_toEndOf=&quot;parent&quot;\n    app:layout_constraintStart_toStartOf=&quot;parent&quot;\n    app:layout_constraintTop_toBottomOf=&quot;@+id/changeAlarmTimeButton&quot;\n    app:layout_constraintVertical_bias=&quot;0.0&quot; /&gt;\n</code></pre>\n<p>MAIN ACTIVITY</p>\n<pre><code>class MainActivity : AppCompatActivity() {\n\n\n    override fun onCreate(savedInstanceState: Bundle?) {\n        super.onCreate(savedInstanceState)\n        setContentView(R.layout.activity_main)\n\n        initOnOffButton()\n        initChangeAlarmTimeButton()\n\n        val model = fetchDataFromSharedPreferences()\n        renderView(model)\n\n        val firebaseDatabase = FirebaseDatabase.getInstance()\n        val databaseReference = firebaseDatabase.reference\n\n        val sendbt = findViewById&lt;Button&gt;(R.id.button2)\n        sendbt.setOnClickListener{\n            databaseReference.child(&quot;scan&quot;).setValue(&quot;a&quot;)\n        }\n\n        val sendbt2 = findViewById&lt;Button&gt;(R.id.button3)\n        sendbt2.setOnClickListener{\n            databaseReference.child(&quot;scan&quot;).setValue(&quot;b&quot;)\n        }\n\n        val sendbt3 = findViewById&lt;Button&gt;(R.id.button4)\n        sendbt3.setOnClickListener{\n            databaseReference.child(&quot;sodok&quot;).setValue(&quot;s&quot;)\n\n            Handler().postDelayed({\n                databaseReference.child(&quot;sodok&quot;).setValue(&quot;S&quot;)\n            }, 5000)\n\n        }\n\n    }\n\n\n    private fun initOnOffButton() {\n        val onOffButton = findViewById&lt;Button&gt;(R.id.onOffButton)\n        onOffButton.setOnClickListener {\n\n            val model = it.tag as? AlarmDisplayModel ?: return@setOnClickListener\n            val newModel = saveAlarmModel(model.hour, model.minute, model.onOff.not())\n            renderView(newModel)\n\n            if (newModel.onOff) {\n                // 켜진 경우 -&gt; 알람을 등록\n                val calendar = Calendar.getInstance().apply {\n                    set(Calendar.HOUR_OF_DAY, newModel.hour)\n                    set(Calendar.MINUTE, newModel.minute)\n\n                    if (before(Calendar.getInstance())) {\n                        add(Calendar.DATE, 1)\n                    }\n                }\n\n                val alarmManager = getSystemService(Context.ALARM_SERVICE) as AlarmManager\n                val intent = Intent(this, AlarmReceiver::class.java)\n                val pendingIntent = PendingIntent.getBroadcast(this, ALARM_REQUEST_CODE,\n                        intent, PendingIntent.FLAG_UPDATE_CURRENT)\n                \n                alarmManager.setInexactRepeating(\n                    AlarmManager.RTC_WAKEUP,\n                    calendar.timeInMillis,\n                    AlarmManager.INTERVAL_DAY,\n                    pendingIntent\n                )\n\n            }\n\n            else {\n                cancelAlarm()\n            }\n\n        }\n    }\n\n    private fun initChangeAlarmTimeButton() {\n        val changeAlarmButton = findViewById&lt;Button&gt;(R.id.changeAlarmTimeButton)\n        changeAlarmButton.setOnClickListener {\n\n            //현재 시간을 가져오기 위해 캘린터 인스턴스 사용\n            val calendar = Calendar.getInstance()\n            //타임다이얼로그 띄워줘서 시간을 설정, 그 시간을 가져옴\n            TimePickerDialog(this, { picker, hour, minute -&gt;\n\n                // 데이터 저장\n                val model = saveAlarmModel(hour, minute, false)\n                //뷰 업데이트\n                renderView(model)\n\n                //기존 알람 삭제\n                cancelAlarm()\n\n            }, calendar.get(Calendar.HOUR_OF_DAY), calendar.get(Calendar.MINUTE), false).show()\n\n        }\n\n    }\n\n    private fun saveAlarmModel(\n        hour: Int,\n        minute: Int,\n        onOff: Boolean\n    ): AlarmDisplayModel {\n        val model = AlarmDisplayModel(\n            hour = hour,\n            minute = minute,\n            onOff = onOff\n        )\n\n        //시간에 대한 db파일 생성\n        val sharedPreferences = getSharedPreferences(SHARED_PREFERENCES_NAME, Context.MODE_PRIVATE)\n\n        //edit 모드로 열어서 작업 (값 저장)\n        with(sharedPreferences.edit()) {\n            putString(ALARM_KEY, model.makeDataForDB())\n            putBoolean(ONOFF_KEY, model.onOff)\n            commit()\n        }\n\n        return model\n    }\n\n    private fun fetchDataFromSharedPreferences():AlarmDisplayModel {\n        val sharedPreferences = getSharedPreferences(SHARED_PREFERENCES_NAME, Context.MODE_PRIVATE)\n\n        //DB에서 데이터 가져오기\n        val timeDBValue = sharedPreferences.getString(ALARM_KEY, &quot;9:30&quot;) ?: &quot;9:30&quot;\n        val onOffDBValue = sharedPreferences.getBoolean(ONOFF_KEY, false)\n\n        //시 : 분 형식으로 가져온 데이터 스플릿\n        val alarmData = timeDBValue.split(&quot;:&quot;)\n\n        val alarmModel = AlarmDisplayModel(\n            hour = alarmData[0].toInt(),\n            minute = alarmData[1].toInt(),\n            onOff = onOffDBValue\n        )\n\n        // 보정 보정 예외처리\n\n        val pendingIntent = PendingIntent.getBroadcast(this, ALARM_REQUEST_CODE, Intent(this, AlarmReceiver::class.java), PendingIntent.FLAG_NO_CREATE)\n\n        if ((pendingIntent == null) and alarmModel.onOff) {\n            // 알람은 꺼져있는데, 데이터는 켜저있는 경우\n            alarmModel.onOff = false\n\n\n        } else if ((pendingIntent != null) and alarmModel.onOff.not()){\n            // 알람은 켜져있는데, 데이터는 꺼져있는 경우\n            // 알람을 취소함\n            pendingIntent.cancel()\n        }\n\n        return alarmModel\n\n    }\n\n    private fun renderView(model: AlarmDisplayModel) {\n        //최초 실행 또는 시간 재설정 시 들어오게 되는 부분\n\n        findViewById&lt;TextView&gt;(R.id.ampmTextView).apply {\n            text = model.ampmText\n        }\n\n        findViewById&lt;TextView&gt;(R.id.timeTextView).apply {\n            text = model.timeText\n        }\n\n        findViewById&lt;Button&gt;(R.id.onOffButton).apply {\n            text = model.onOffText\n            tag = model\n        }\n\n    }\n\n    private fun cancelAlarm() {\n        val pendingIntent = PendingIntent.getBroadcast(this, ALARM_REQUEST_CODE, Intent(this, AlarmReceiver::class.java), PendingIntent.FLAG_NO_CREATE)\n        pendingIntent?.cancel()\n    }\n\n    companion object {\n        private const val SHARED_PREFERENCES_NAME = &quot;time&quot;\n        private const val ALARM_KEY = &quot;alarm&quot;\n        private const val ONOFF_KEY = &quot;onOff&quot;\n        private const val ALARM_REQUEST_CODE = 1000\n\n    }\n</code></pre>\n"},{"tags":["java","discord","discord-jda"],"answers":[{"tags":[],"owner":{"account_id":16963823,"reputation":10719,"user_id":12270289,"display_name":"Klaycon"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1582906383,"creation_date":1582906383,"answer_id":60455502,"question_id":60455254,"body_markdown":"You never have to guess at how to use a library - that&#39;s what documentation is for. Any library worth its salt has documentation listing every single class, method, and property you need to worry about.\r\n\r\nA quick google search for &quot;discord-jda docs&quot; takes us to the javadoc: https://ci.dv8tion.net/job/JDA/javadoc/index.html\r\n\r\nYou want to send a message to a user, right? So let&#39;s use the search bar and find `User`. First result under Types is `net.dv8tion.jda.api.entities.User`. We&#39;re now at https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/User.html\r\n\r\nIf you want to know how to *do something with a user*, we look at the Methods every User has. Two catch my eye right away: `User.hasPrivateChannel()` and `User.openPrivateChannel()`. We&#39;ll click the second one since it looks relevant.\r\n\r\nLo and behold, the docs have example usage! I&#39;ll quote it below:\r\n\r\n&gt;     // Send message without response handling\r\n&gt;     public void sendMessage(User user, String content) {\r\n&gt;         user.openPrivateChannel()\r\n&gt;             .flatMap(channel -&gt; channel.sendMessage(content))\r\n&gt;             .queue();\r\n&gt;     }\r\n\r\nThis seems pretty straightforward. So the basic usage you&#39;re looking for (assuming `event` is a `MessageReceivedEvent`) is this:\r\n\r\n    event.getAuthor().openPrivateChannel().flatMap(channel -&gt; channel.sendMessage(&quot;hello&quot;)).queue();","title":"How to send a DM (Direct Message) to someone on Discord via JDA","body":"<p>You never have to guess at how to use a library - that's what documentation is for. Any library worth its salt has documentation listing every single class, method, and property you need to worry about.</p>\n\n<p>A quick google search for \"discord-jda docs\" takes us to the javadoc: <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/index.html\" rel=\"noreferrer\">https://ci.dv8tion.net/job/JDA/javadoc/index.html</a></p>\n\n<p>You want to send a message to a user, right? So let's use the search bar and find <code>User</code>. First result under Types is <code>net.dv8tion.jda.api.entities.User</code>. We're now at <a href=\"https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/User.html\" rel=\"noreferrer\">https://ci.dv8tion.net/job/JDA/javadoc/net/dv8tion/jda/api/entities/User.html</a></p>\n\n<p>If you want to know how to <em>do something with a user</em>, we look at the Methods every User has. Two catch my eye right away: <code>User.hasPrivateChannel()</code> and <code>User.openPrivateChannel()</code>. We'll click the second one since it looks relevant.</p>\n\n<p>Lo and behold, the docs have example usage! I'll quote it below:</p>\n\n<blockquote>\n<pre><code>// Send message without response handling\npublic void sendMessage(User user, String content) {\n    user.openPrivateChannel()\n        .flatMap(channel -&gt; channel.sendMessage(content))\n        .queue();\n}\n</code></pre>\n</blockquote>\n\n<p>This seems pretty straightforward. So the basic usage you're looking for (assuming <code>event</code> is a <code>MessageReceivedEvent</code>) is this:</p>\n\n<pre><code>event.getAuthor().openPrivateChannel().flatMap(channel -&gt; channel.sendMessage(\"hello\")).queue();\n</code></pre>\n"}],"owner":{"account_id":17868403,"reputation":21,"user_id":12980280,"display_name":"PrajwalK"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8825,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":60455502,"answer_count":1,"score":2,"last_activity_date":1633771931,"creation_date":1582905479,"question_id":60455254,"body_markdown":"I want the bot to send a direct message to someone, but I don&#39;t know how to do so.\r\n\r\n```java\r\nevent.getChannel().sendMessage(&quot;Hello World&quot;).queue();\r\n```\r\n\r\nI wonder if I can change the channel to a DM or send a DM in any other way, I want it sent directly to the user or that only him can see it.","title":"How to send a DM (Direct Message) to someone on Discord via JDA","body":"<p>I want the bot to send a direct message to someone, but I don't know how to do so.</p>\n<pre class=\"lang-java prettyprint-override\"><code>event.getChannel().sendMessage(&quot;Hello World&quot;).queue();\n</code></pre>\n<p>I wonder if I can change the channel to a DM or send a DM in any other way, I want it sent directly to the user or that only him can see it.</p>\n"},{"tags":["java","remove-if"],"comments":[{"owner":{"account_id":362885,"reputation":37256,"user_id":706317,"accept_rate":70,"display_name":"ZhekaKozlov"},"score":0,"creation_date":1633755196,"post_id":69503849,"comment_id":122850248,"body_markdown":"It looks like you answered your own question. Your code should work.","body":"It looks like you answered your own question. Your code should work."},{"owner":{"account_id":12425782,"reputation":8911,"user_id":9050514,"display_name":"deadshot"},"score":0,"creation_date":1633755489,"post_id":69503849,"comment_id":122850286,"body_markdown":"if you want cleaner solution move the condition to method and use method reference in `removeIf`","body":"if you want cleaner solution move the condition to method and use method reference in <code>removeIf</code>"}],"answers":[{"tags":[],"owner":{"account_id":289313,"reputation":8948,"user_id":590221,"accept_rate":89,"display_name":"Raz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633755763,"creation_date":1633755763,"answer_id":69503898,"question_id":69503849,"body_markdown":"The issue is with this line:\r\n\r\n    Predicate&lt;Student&gt; condition = p-&gt;p.grade==&#39;C&#39;&amp;&amp; p.grade==&#39;B&#39;;\r\n\r\nYou&#39;r asking to remove a student that has grade &#39;C&#39; **AND** &#39;B&#39;. It should be &#39;C&#39; **OR** &#39;B&#39;.\r\n\r\nReplace with this:\r\n\r\n    Predicate&lt;Student&gt; condition = p-&gt;p.grade==&#39;C&#39; || p.grade==&#39;B&#39;;\r\n","title":"How to use removeIf() to remove 2 conditions?","body":"<p>The issue is with this line:</p>\n<pre><code>Predicate&lt;Student&gt; condition = p-&gt;p.grade=='C'&amp;&amp; p.grade=='B';\n</code></pre>\n<p>You'r asking to remove a student that has grade 'C' <strong>AND</strong> 'B'. It should be 'C' <strong>OR</strong> 'B'.</p>\n<p>Replace with this:</p>\n<pre><code>Predicate&lt;Student&gt; condition = p-&gt;p.grade=='C' || p.grade=='B';\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22630771,"reputation":1022,"user_id":16808166,"display_name":"Andrew-Harelson"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633755770,"creation_date":1633755770,"answer_id":69503899,"question_id":69503849,"body_markdown":"```java\r\nPredicate&lt;Student&gt; condition = p-&gt;p.grade==&#39;C&#39;&amp;&amp; p.grade==&#39;B&#39;;\r\nstudents.removeIf(condition);\r\n```\r\nShould be \r\n```java\r\nPredicate&lt;Student&gt; condition = p-&gt;p.grade==&#39;C&#39;|| p.grade==&#39;B&#39;;\r\nstudents.removeIf(condition);\r\n```\r\nIt&#39;s impossible for a student&#39;s grade to be both B and C, so the predicate you provided will never be true.\r\n\r\nAlso, it&#39;s possible to chain together two predicates with the `and()` and `or()` methods like so:\r\n```java \r\nPredicate&lt;Student&gt; condition = p-&gt;p.grade==&#39;C&#39;\r\nPredicate&lt;Student&gt; condition2 = p-&gt;p.grade==&#39;B&#39;;\r\nstudents.removeIf(condition.or(condition2);\r\n// students.removeIf(condition.and(condition2); works similarly but with logical and\r\n```\r\n\r\nhttps://howtodoinjava.com/java8/predicates-logical-operations/","title":"How to use removeIf() to remove 2 conditions?","body":"<pre class=\"lang-java prettyprint-override\"><code>Predicate&lt;Student&gt; condition = p-&gt;p.grade=='C'&amp;&amp; p.grade=='B';\nstudents.removeIf(condition);\n</code></pre>\n<p>Should be</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate&lt;Student&gt; condition = p-&gt;p.grade=='C'|| p.grade=='B';\nstudents.removeIf(condition);\n</code></pre>\n<p>It's impossible for a student's grade to be both B and C, so the predicate you provided will never be true.</p>\n<p>Also, it's possible to chain together two predicates with the <code>and()</code> and <code>or()</code> methods like so:</p>\n<pre class=\"lang-java prettyprint-override\"><code>Predicate&lt;Student&gt; condition = p-&gt;p.grade=='C'\nPredicate&lt;Student&gt; condition2 = p-&gt;p.grade=='B';\nstudents.removeIf(condition.or(condition2);\n// students.removeIf(condition.and(condition2); works similarly but with logical and\n</code></pre>\n<p><a href=\"https://howtodoinjava.com/java8/predicates-logical-operations/\" rel=\"nofollow noreferrer\">https://howtodoinjava.com/java8/predicates-logical-operations/</a></p>\n"},{"tags":[],"owner":{"account_id":7102942,"reputation":363,"user_id":5433713,"display_name":"Pavlo Stepura"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633755835,"creation_date":1633755835,"answer_id":69503907,"question_id":69503849,"body_markdown":"You also could try to do something like:\r\n\r\n    Predicate&lt;Student&gt; condition = p-&gt; ((int) p.grade) &gt; 65;\r\n\r\n&#39;A&#39; char in ASCII is 65, so any letter after A, like B - 66, C - 67, D - 68 are higher.\r\n\r\nHowever it is not particularly safe to do this. Because what if You pass a &#39;@&#39; as grade char..\r\n\r\nI would most probably introduce a Enum with grades.\r\nAnd in enum instroduce a method `isLessThenA()`\r\nIn method I would check if value is of ssome enum type and if not, would throw an Exception.","title":"How to use removeIf() to remove 2 conditions?","body":"<p>You also could try to do something like:</p>\n<pre><code>Predicate&lt;Student&gt; condition = p-&gt; ((int) p.grade) &gt; 65;\n</code></pre>\n<p>'A' char in ASCII is 65, so any letter after A, like B - 66, C - 67, D - 68 are higher.</p>\n<p>However it is not particularly safe to do this. Because what if You pass a '@' as grade char..</p>\n<p>I would most probably introduce a Enum with grades.\nAnd in enum instroduce a method <code>isLessThenA()</code>\nIn method I would check if value is of ssome enum type and if not, would throw an Exception.</p>\n"},{"tags":[],"owner":{"account_id":7612423,"reputation":82486,"user_id":5772882,"display_name":"Anonymous"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633762420,"creation_date":1633761285,"answer_id":69504309,"question_id":69503849,"body_markdown":"The other answers are correct. As an alternative, why not just two calls to `removeIf()`?\r\n\r\n    students.removeIf(p-&gt;p.grade==&#39;C&#39;);\r\n    students.removeIf(p-&gt;p.grade==&#39;B&#39;);\r\n\r\nI find it clear to read, and neither you nor your reader needs to consider whether it should have been `&amp;&amp;` or `||`.","title":"How to use removeIf() to remove 2 conditions?","body":"<p>The other answers are correct. As an alternative, why not just two calls to <code>removeIf()</code>?</p>\n<pre><code>students.removeIf(p-&gt;p.grade=='C');\nstudents.removeIf(p-&gt;p.grade=='B');\n</code></pre>\n<p>I find it clear to read, and neither you nor your reader needs to consider whether it should have been <code>&amp;&amp;</code> or <code>||</code>.</p>\n"}],"owner":{"account_id":21629358,"reputation":3,"user_id":15953186,"display_name":"YULIANG WANG"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4193,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69503898,"answer_count":4,"score":0,"last_activity_date":1633771389,"creation_date":1633755041,"question_id":69503849,"body_markdown":"I want to use `removeIf` to remove 2 conditions, but I did not find the proper way to do that.\r\n\r\nFor example, I want to remove students whose grade is below ‘B’\r\n\r\nCode as follows:\r\n\r\n    Student[] group1 = {new Student(), new Student(), new Student(), new Student()};\r\n\r\n    group1[0].setInfo(&quot;Davut&quot;, &#39;M&#39;, 123, &#39;A&#39;);\r\n    group1[1].setInfo(&quot;Ali&quot;, &#39;M&#39;, 43, &#39;B&#39;);\r\n    group1[2].setInfo(&quot;Ivan&quot;, &#39;M&#39;, 34, &#39;B&#39;);\r\n    group1[3].setInfo(&quot;Lily&quot;, &#39;F&#39;, 67, &#39;C&#39;);\r\n\r\n    System.out.println(Arrays.toString(group1));\r\n\r\n    ArrayList&lt;Student&gt; students = new ArrayList&lt;&gt;();\r\n    students.addAll(Arrays.asList(group1));\r\n    System.out.println(&quot;--------------&quot;);\r\n    Predicate&lt;Student&gt; condition = p-&gt;p.grade==&#39;C&#39;&amp;&amp; p.grade==&#39;B&#39;;\r\n    students.removeIf(condition);","title":"How to use removeIf() to remove 2 conditions?","body":"<p>I want to use <code>removeIf</code> to remove 2 conditions, but I did not find the proper way to do that.</p>\n<p>For example, I want to remove students whose grade is below ‘B’</p>\n<p>Code as follows:</p>\n<pre><code>Student[] group1 = {new Student(), new Student(), new Student(), new Student()};\n\ngroup1[0].setInfo(&quot;Davut&quot;, 'M', 123, 'A');\ngroup1[1].setInfo(&quot;Ali&quot;, 'M', 43, 'B');\ngroup1[2].setInfo(&quot;Ivan&quot;, 'M', 34, 'B');\ngroup1[3].setInfo(&quot;Lily&quot;, 'F', 67, 'C');\n\nSystem.out.println(Arrays.toString(group1));\n\nArrayList&lt;Student&gt; students = new ArrayList&lt;&gt;();\nstudents.addAll(Arrays.asList(group1));\nSystem.out.println(&quot;--------------&quot;);\nPredicate&lt;Student&gt; condition = p-&gt;p.grade=='C'&amp;&amp; p.grade=='B';\nstudents.removeIf(condition);\n</code></pre>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":9242372,"reputation":599,"user_id":6865330,"accept_rate":33,"display_name":"Alan"},"score":1,"creation_date":1533278909,"post_id":51666751,"comment_id":90296443,"body_markdown":"What do you mean with &quot;How should I incorporate the part of the empty array&quot;?","body":"What do you mean with &quot;How should I incorporate the part of the empty array&quot;?"},{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":1,"creation_date":1533278910,"post_id":51666751,"comment_id":90296445,"body_markdown":"What would be the reault of an empty array? How many elements can you sum up?","body":"What would be the reault of an empty array? How many elements can you sum up?"},{"owner":{"account_id":31180,"reputation":29173,"user_id":85421,"display_name":"user85421"},"score":0,"creation_date":1533279378,"post_id":51666751,"comment_id":90296647,"body_markdown":"simplest: `if (input == null) return new int[2];` some better, just do the `for` `if (input != null)`  (Note: why do you need `x`?)","body":"simplest: <code>if (input == null) return new int[2];</code> some better, just do the <code>for</code> <code>if (input != null)</code>  (Note: why do you need <code>x</code>?)"}],"answers":[{"tags":[],"owner":{"account_id":2006972,"reputation":43182,"user_id":1796579,"display_name":"Henry"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1533278961,"creation_date":1533278961,"answer_id":51666806,"question_id":51666751,"body_markdown":"Check if `input` is `null` first. If it is, work on an empty array instead:\r\n\r\n    int x[] = input == null ? new int[0] : input;","title":"Empty integer array in java","body":"<p>Check if <code>input</code> is <code>null</code> first. If it is, work on an empty array instead:</p>\n\n<pre><code>int x[] = input == null ? new int[0] : input;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10166585,"reputation":443,"user_id":7508309,"display_name":"Consti P"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1533279043,"creation_date":1533279043,"answer_id":51666824,"question_id":51666751,"body_markdown":"Your question is just about arrays being empty. A quick search got me this: https://stackoverflow.com/questions/2369967/how-can-i-check-whether-an-array-is-null-empty","title":"Empty integer array in java","body":"<p>Your question is just about arrays being empty. A quick search got me this: <a href=\"https://stackoverflow.com/questions/2369967/how-can-i-check-whether-an-array-is-null-empty\">How can I check whether an array is null / empty?</a></p>\n"},{"tags":[],"owner":{"account_id":10441126,"reputation":239,"user_id":7697736,"accept_rate":67,"display_name":"Gurankas"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533281161,"creation_date":1533279139,"answer_id":51666845,"question_id":51666751,"body_markdown":"    public int[] getSumOfEvensAndOdds(int[] input) {\r\n    \r\n            int x[] = input;\r\n            int even = 0, odd = 0;\r\n            for (int i = 0; i &lt; x.length; i++) {\r\n            if(x[i] != null)    //in case array contains elements which aren&#39;t null\r\n            {\r\n                if (x[i] % 2 == 0)\r\n                    even += x[i];\r\n                else\r\n                    odd += x[i];\r\n            }\r\n            else   //in case the array has null array elements\r\n            {\r\n               even = 0;\r\n               odd = 0;\r\n            }\r\n            int[] ans={even, odd};\r\n            return ans;\r\n        }","title":"Empty integer array in java","body":"<pre><code>public int[] getSumOfEvensAndOdds(int[] input) {\n\n        int x[] = input;\n        int even = 0, odd = 0;\n        for (int i = 0; i &lt; x.length; i++) {\n        if(x[i] != null)    //in case array contains elements which aren't null\n        {\n            if (x[i] % 2 == 0)\n                even += x[i];\n            else\n                odd += x[i];\n        }\n        else   //in case the array has null array elements\n        {\n           even = 0;\n           odd = 0;\n        }\n        int[] ans={even, odd};\n        return ans;\n    }\n</code></pre>\n"},{"tags":[],"owner":{"display_name":"user2575725"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1533279859,"creation_date":1533279147,"answer_id":51666848,"question_id":51666751,"body_markdown":"&gt; if any of the input is null it should be treated as an empty array\r\n\r\nWhy not just check for `null` value?\r\n\r\n    public int[] getSumOfEvensAndOdds(int[] input) {\r\n        int even = 0, odd = 0;\r\n        if(null != input){\r\n            for (int i: input) {\r\n                if (0 == i % 2){\r\n                    even += i;\r\n                } else{\r\n                    odd += i;\r\n                }\r\n            }\r\n        }\r\n        return new int[]{even, odd};\r\n    }","title":"Empty integer array in java","body":"<blockquote>\n  <p>if any of the input is null it should be treated as an empty array</p>\n</blockquote>\n\n<p>Why not just check for <code>null</code> value?</p>\n\n<pre><code>public int[] getSumOfEvensAndOdds(int[] input) {\n    int even = 0, odd = 0;\n    if(null != input){\n        for (int i: input) {\n            if (0 == i % 2){\n                even += i;\n            } else{\n                odd += i;\n            }\n        }\n    }\n    return new int[]{even, odd};\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14052657,"reputation":7,"user_id":10150940,"display_name":"Pantelis Bouboulis"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1533280026,"creation_date":1533280026,"answer_id":51667083,"question_id":51666751,"body_markdown":"You need something like this:\r\n\r\n    public class Test {\r\n\r\n    public static int[] getSumOfEvensAndOdds(int[] input) {\r\n        int[]   def = {0,0};\r\n\r\n        if (input != null &amp;&amp; input.length!=0) {\r\n            int x[] = input;\r\n            int even = 0, odd = 0;\r\n            for (int i = 0; i &lt; x.length; i++) {\r\n                if (x[i] % 2 == 0)\r\n                    even += x[i];\r\n                else\r\n                    odd += x[i];\r\n            }\r\n            int[] ans = {even, odd};\r\n            return ans;\r\n        }\r\n\r\n        return def;\r\n    }\r\n\r\n    public static void main(String [ ] args){\r\n        int[]   ar = {10,20,30,40,50,60,71,80,90,91};\r\n        int[]   res;\r\n\r\n        res = getSumOfEvensAndOdds(ar);\r\n        System.out.println(&quot;Result: &quot; + res[0] + &quot; &quot; + res[1]);\r\n\r\n        int[]   ar2 = {};\r\n        res = getSumOfEvensAndOdds(ar2);\r\n        System.out.println(&quot;Result: &quot; + res[0] + &quot; &quot; + res[1]);\r\n\r\n        int[]   ar3 = null;\r\n        res = getSumOfEvensAndOdds(ar3);\r\n        System.out.println(&quot;Result: &quot; + res[0] + &quot; &quot; + res[1]);\r\n    }\r\n}\r\n\r\n\r\nI use input!=null to check whether the array is null and input.length!=0 to check if its size is 0. Also, in the main method I give three examples.","title":"Empty integer array in java","body":"<p>You need something like this:</p>\n\n<pre><code>public class Test {\n\npublic static int[] getSumOfEvensAndOdds(int[] input) {\n    int[]   def = {0,0};\n\n    if (input != null &amp;&amp; input.length!=0) {\n        int x[] = input;\n        int even = 0, odd = 0;\n        for (int i = 0; i &lt; x.length; i++) {\n            if (x[i] % 2 == 0)\n                even += x[i];\n            else\n                odd += x[i];\n        }\n        int[] ans = {even, odd};\n        return ans;\n    }\n\n    return def;\n}\n\npublic static void main(String [ ] args){\n    int[]   ar = {10,20,30,40,50,60,71,80,90,91};\n    int[]   res;\n\n    res = getSumOfEvensAndOdds(ar);\n    System.out.println(\"Result: \" + res[0] + \" \" + res[1]);\n\n    int[]   ar2 = {};\n    res = getSumOfEvensAndOdds(ar2);\n    System.out.println(\"Result: \" + res[0] + \" \" + res[1]);\n\n    int[]   ar3 = null;\n    res = getSumOfEvensAndOdds(ar3);\n    System.out.println(\"Result: \" + res[0] + \" \" + res[1]);\n}\n</code></pre>\n\n<p>}</p>\n\n<p>I use input!=null to check whether the array is null and input.length!=0 to check if its size is 0. Also, in the main method I give three examples.</p>\n"},{"tags":[],"owner":{"account_id":3468562,"reputation":1766,"user_id":2903536,"accept_rate":60,"display_name":"user2903536"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572928507,"creation_date":1572928507,"answer_id":58704568,"question_id":51666751,"body_markdown":"Empty array may be return like this `return new int[]{}`","title":"Empty integer array in java","body":"<p>Empty array may be return like this <code>return new int[]{}</code></p>\n"}],"owner":{"account_id":11268146,"reputation":15,"user_id":8264373,"display_name":"Riddler"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":15177,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":51666848,"answer_count":6,"score":1,"last_activity_date":1633771281,"creation_date":1533278715,"question_id":51666751,"body_markdown":"&gt; Write a function that takes an array as input and returns an array of 2 numbers. The returned array contains the sum of even numbers and sum of odd numbers from the input.\r\n&gt;\r\n&gt; If any of the input is null it should be treated as an empty array\r\n&gt;\r\n&gt; Example:\r\n&gt; Input:  \r\n      [30, 18, 2, 83, 20, 71]  \r\n    Output:  \r\n      [70, 154]  \r\n&gt;\r\n&gt;   Input:  \r\n      [14, 11, 10, 67, 41]  \r\n   Output:  \r\n     [24, 119]  \r\n&gt;\r\n&gt;   Input:\r\n      [36, 24, -82, 29, 44, -3, -100, -5, 49]\r\n   Output:\r\n     [-78, 70]\r\n\r\nThe function that I have written is\r\n\r\n    public int[] getSumOfEvensAndOdds(int[] input) {\r\n            \r\n            int x[] = input;\r\n            int even = 0, odd = 0;\r\n            for (int i = 0; i &lt; x.length; i++) {\r\n                if (x[i] % 2 == 0)\r\n                    even += x[i];\r\n                else\r\n                    odd += x[i];\r\n            }\r\n            int[] ans={even, odd};\r\n            return ans;\r\n        }\r\n\r\nBut how should I incorporate the part of the empty array?","title":"Empty integer array in java","body":"<blockquote>\n<p>Write a function that takes an array as input and returns an array of 2 numbers. The returned array contains the sum of even numbers and sum of odd numbers from the input.</p>\n<p>If any of the input is null it should be treated as an empty array</p>\n<p>Example:\nInput:<br />\n[30, 18, 2, 83, 20, 71]<br />\nOutput:<br />\n[70, 154]</p>\n<p>Input:<br />\n[14, 11, 10, 67, 41]<br />\nOutput:<br />\n[24, 119]</p>\n<p>Input:\n[36, 24, -82, 29, 44, -3, -100, -5, 49]\nOutput:\n[-78, 70]</p>\n</blockquote>\n<p>The function that I have written is</p>\n<pre><code>public int[] getSumOfEvensAndOdds(int[] input) {\n        \n        int x[] = input;\n        int even = 0, odd = 0;\n        for (int i = 0; i &lt; x.length; i++) {\n            if (x[i] % 2 == 0)\n                even += x[i];\n            else\n                odd += x[i];\n        }\n        int[] ans={even, odd};\n        return ans;\n    }\n</code></pre>\n<p>But how should I incorporate the part of the empty array?</p>\n"},{"tags":["java","apache-poi","xls"],"answers":[{"tags":[],"owner":{"account_id":3214004,"reputation":1859,"user_id":4871676,"accept_rate":90,"display_name":"Plain_Dude_Sleeping_Alone"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633771046,"creation_date":1633771046,"answer_id":69505356,"question_id":69504333,"body_markdown":"After struggling for about a week. Modifying so many stuff and almost losing hope to finish this software on time. I just realized that this doc itself is the source of the problems. It was originally created by some ERP SAP softwares. During the creation of the doc I believe the SAP app generated the xmls with some codes that aren&#39;t really compatible with the POI. Or, they are compatible but causing POI takes a long time to adapt to some constraints. Hence, the slow generation. To tackle this, I get no choice but to copy the data to a new workbook to process any data on the workbook. But then I have to copy-paste all the data on 25 sheets of the workbook. But that&#39;s fine. Afterall, my workbook generation time tooks only 0.337 seconds (drops from 40 seconds) on the new workbook. ","title":"Why did writing simple .xlsx book very slow in my case?","body":"<p>After struggling for about a week. Modifying so many stuff and almost losing hope to finish this software on time. I just realized that this doc itself is the source of the problems. It was originally created by some ERP SAP softwares. During the creation of the doc I believe the SAP app generated the xmls with some codes that aren't really compatible with the POI. Or, they are compatible but causing POI takes a long time to adapt to some constraints. Hence, the slow generation. To tackle this, I get no choice but to copy the data to a new workbook to process any data on the workbook. But then I have to copy-paste all the data on 25 sheets of the workbook. But that's fine. Afterall, my workbook generation time tooks only 0.337 seconds (drops from 40 seconds) on the new workbook.</p>\n"}],"owner":{"account_id":3214004,"reputation":1859,"user_id":4871676,"accept_rate":90,"display_name":"Plain_Dude_Sleeping_Alone"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":307,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633771046,"creation_date":1633761562,"question_id":69504333,"body_markdown":"I really need a hand here. I have very, very odd code that even writing only 2 cells takes almost 35 seconds. (Twice time took on devices like smartphones).\r\n\r\n1. Notes :\r\n***There is Nothing wrong with these 2 methods during the computation. They&#39;re quite fast. No need to debug these***\r\n-\r\n\r\n // Require apache commong text 1.8 \r\n\r\n    static Double compareStrings(String stringA, String stringB) {===&gt;to compute distance\r\n\t\t\r\n-  `static int getStartingRowToWriteBacklog(String pathDoc, int sheet, String titleCategory) throws IOException {`   ====&gt; to compute at which row I start to write the cell\r\n\r\n2. .xls files:\r\nhttps://www.file.io/download/lx2Zq2N1lTDX\r\nor \r\nhere https://ufile.io/uzy4wvxz\r\n\r\n\r\nMy problem arises on this method/lines:\r\n\r\n    public static void writeAndCloseALLStream() throws IOException {\r\n    \t\t/*\r\n    \t\t * System.out.println (&quot;excelInputFile&quot;+excelInputFile);\r\n    \t\t * System.out.println (&quot;excelOutputFile&quot;+excelOuputFile);\r\n    \t\t */\r\n    \t\t\r\n    \t\t\r\n    \t\tfis.close();\r\n    \t\t//workbook.write(fos);\r\n    \r\n    \t\tSXSSFWorkbook book = new SXSSFWorkbook(workbook,100,true); \r\n    \t\t book.setCompressTempFiles(true);\r\n    \t\tSXSSFSheet sheetSXSS= book.getSheetAt(0);\r\n    \t\t book.write(fos);\r\n    \t\t workbook.close();\r\n    \t\t book.dispose();\r\n    \t\t book.close();\r\n    \t\tfos.close();\r\n    \t}\r\n\r\nthat took 35~51 seconds to finish . I am desperately need a solution for this. Being researced for almost 1 week ended up with no solution.\r\n\r\n\r\n\r\n\r\n\r\n\r\nfull codes:\r\n\r\n    import java.util.ArrayList;\r\n    import java.util.concurrent.TimeUnit;\r\n    import java.io.File;\r\n    import java.io.FileInputStream;\r\n    import java.io.FileNotFoundException;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    \r\n    import org.apache.commons.text.similarity.JaroWinklerDistance;\r\n    import org.apache.poi.openxml4j.exceptions.InvalidFormatException;\r\n    import org.apache.poi.openxml4j.util.ZipSecureFile;\r\n    import org.apache.poi.ss.usermodel.Row;\r\n    import org.apache.poi.xssf.streaming.SXSSFSheet;\r\n    import org.apache.poi.xssf.streaming.SXSSFWorkbook;\r\n    import org.apache.poi.xssf.usermodel.XSSFCell;\r\n    import org.apache.poi.xssf.usermodel.XSSFRow;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    public class WriteExcelUtility {\r\n    \tpublic static int globalSelectedIndex = 0;\r\n    \r\n    \tpublic static FileInputStream fis;\r\n    \tpublic static XSSFWorkbook workbook;\r\n    \tpublic static XSSFSheet sheet;\r\n    \tpublic static FileOutputStream fos;\r\n    \r\n    \tpublic static String excelInputFile;\r\n    \tpublic static String excelOuputFile;\r\n    \r\n    \tpublic static String excelInputFileForBacklog;\r\n    \tpublic static String excelOutputFileForBacklog;\r\n    \tpublic static XSSFSheet sheetBacklogForm;\r\n    \r\n    \tpublic static int banyakSheet;\r\n    \tpublic static ArrayList&lt;String&gt; daftarSheet;\r\n    \r\n    \t// Jangan lupa set variable &quot;excelOuputFile&quot; sebelum constructInputStream di\r\n    \t// invoke\r\n    \tpublic static void constructInputStream() throws IOException {\r\n    \t\t// ZipSecureFile.setMinInflateRatio(0.009);\r\n    \t\tdaftarSheet = new ArrayList&lt;&gt;();\r\n    \t\tfis = new FileInputStream(new File(excelInputFile));\r\n    \r\n    \t\tworkbook = new XSSFWorkbook(fis);\r\n    \t\tsheet = workbook.getSheetAt(globalSelectedIndex);\r\n    \t\t\r\n    \t\tSystem.out.println(&quot;excelInputFile = &quot; + excelInputFile);\r\n    \r\n    \t}\r\n    \r\n    \t// Jangan lupa set variable &quot;excelOuputFile&quot; sebelum constructInputStream di\r\n    \t// invoke\r\n    \tpublic static void constructInputStreamForBacklogForm(int sheetInd) throws IOException {\r\n    \t\tif (fis!=null) {\r\n    \t\t\tfis.close();\r\n    \t    }\r\n    \t\tfis = new FileInputStream(new File(excelInputFileForBacklog));\r\n    \t\tworkbook = new XSSFWorkbook(fis);\r\n    \t\tsheetBacklogForm = workbook.getSheetAt(sheetInd);\r\n    \r\n    \t\tSystem.out.println(&quot;excelInputFileForBacklog = &quot; + excelInputFileForBacklog);\r\n    \t\tSystem.out.println(&quot;sheetnya = &quot; + workbook.getSheetName(sheetInd));\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void constructOutputStream(String excelOuputFiles) throws FileNotFoundException {\r\n    \t\tWriteExcelUtility.excelOuputFile = excelOuputFiles;\r\n    \t\t// wajib nama lain\r\n    \t\tfos = new FileOutputStream(new File(excelOuputFile));\r\n    \t\tSystem.out.println(&quot;excelOutputFile&quot; + excelOuputFile);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void constructOutputStreamForBacklogForm(String excelOuputFilesForBaglog)\r\n    \t\t\tthrows FileNotFoundException {\r\n    \t\t// WriteExcelUtility.excelOuputFile = excelOuputFiles;\r\n    \t\t// wajib nama lain\r\n    \t\tfos = new FileOutputStream(new File(excelOuputFilesForBaglog));\r\n    \t\tSystem.out.println(&quot;excelOuputFilesForBaglog = &quot; + excelOuputFilesForBaglog);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void getNumberofsheetAndTheirName() throws IOException {\r\n    \t\t// Log.d (&quot;WriteExcelUtility.getNumberofsheetAndTheirName\r\n    \t\t// :&quot;,&quot;excelInputFile = &quot;+excelInputFile);\r\n    \t\t// System.out.println (&quot;excelOutputFile&quot;+excelOuputFile);\r\n    \r\n    \t\tbanyakSheet = workbook.getNumberOfSheets();\r\n    \t\tSystem.out.println(&quot;Jumlah sheet = &quot; + banyakSheet);\r\n    \t\tfor (int i = 0; i &lt; banyakSheet; i++) {\r\n    \t\t\t/* XSSFSheet sheetName = workbook.getSheetAt(i); */\r\n    \t\t\tString namaSheet = workbook.getSheetName(i).toString();\r\n    \t\t\tif (namaSheet.contains(&quot;Sheet&quot;)) {\r\n    \t\t\t\t// do nothing\r\n    \t\t\t} else {\r\n    \t\t\t\tSystem.out.println(namaSheet);\r\n    \t\t\t\tdaftarSheet.add(namaSheet);\r\n    \t\t\t}\r\n    \r\n    \t\t}\r\n    \t\tfis.close();\r\n    \r\n    \t}\r\n    \r\n    \t// Cuma untuk update dan set cell value. Penulisan final di method\r\n    \t// writeAndCloseALLStream()\r\n    \tpublic static void updateDataPM(int sheetN, int row, int sell, String value)\r\n    \t\t\tthrows IOException, InvalidFormatException {\r\n    \t\tSystem.out.println(&quot;excelInputFile&quot; + excelInputFile);\r\n    \t\tSystem.out.println(&quot;excelOutputFile&quot; + excelOuputFile);\r\n    \r\n    \t\tXSSFRow row1 = sheet.getRow(row);\r\n    \t\tif (row1 == null) {\r\n    \t\t\trow1 = sheet.createRow(row);\r\n    \t\t}\r\n    \t\tXSSFCell cell1 = row1.getCell(sell);\r\n    \t\tif (cell1 == null) {\r\n    \t\t\tcell1 = row1.createCell(sell);\r\n    \t\t}\r\n    \t\tcell1.setCellValue(value);\r\n    \r\n    \t}\r\n    \r\n    \t// Cuma untuk update dan set cell value. Penulisan final di method\r\n    \t// writeAndCloseALLStream()\r\n    \tpublic static void updateDataLogback(int sheetN, int row, int sell, String value)\r\n    \t\t\tthrows IOException, InvalidFormatException {\r\n    \t\tSystem.out.println(&quot;excelInputFileForBacklog =&quot; + excelInputFileForBacklog);\r\n    \t\tSystem.out.println(&quot;excelOutputFileForBacklog =&quot; + excelOutputFileForBacklog);\r\n    \r\n    \t\tXSSFRow row1 = sheetBacklogForm.getRow(row);\r\n    \t\tif (row1 == null) {\r\n    \t\t\trow1 = sheetBacklogForm.createRow(row);\r\n    \t\t}\r\n    \t\tXSSFCell cell1 = row1.getCell(sell);\r\n    \t\tif (cell1 == null) {\r\n    \t\t\tcell1 = row1.createCell(sell);\r\n    \t\t}\r\n    \t\tcell1.setCellValue(value);\r\n    \r\n    \t}\r\n    \r\n    \tpublic static void writeAndCloseALLStream() throws IOException {\r\n    \t\t/*\r\n    \t\t * System.out.println (&quot;excelInputFile&quot;+excelInputFile);\r\n    \t\t * System.out.println (&quot;excelOutputFile&quot;+excelOuputFile);\r\n    \t\t */\r\n    \t\t\r\n    \t\t\r\n    \t\tfis.close();\r\n    \t\t//workbook.write(fos);\r\n    \r\n    \t\tSXSSFWorkbook book = new SXSSFWorkbook(workbook,100,true); \r\n    \t\t book.setCompressTempFiles(true);\r\n    \t\tSXSSFSheet sheetSXSS= book.getSheetAt(0);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n     \r\n    \t\t book.write(fos);\r\n    \t\t workbook.close();\r\n    \t\t book.dispose();\r\n    \t\t book.close();\r\n    \t\tfos.close();\r\n    \t}\r\n    \r\n    \t// Require apache commong text 1.8\r\n    \tpublic static Double compareStrings(String stringA, String stringB) {\r\n    \t\treturn new JaroWinklerDistance().apply(stringA, stringB);\r\n    \t\t// return StringUtils.Jar(stringA, stringB);\r\n    \t}\r\n    \r\n    \t// for backlog doc\r\n    \t// Method ini mereturnkan starting row dimana kita akan tulisi\r\n    \t// titleCategory = misalkan ENGINE COMPARTMENT &amp; ACCESSORIES, DRIVE TRAIN,\r\n    \t// etc\r\n    \tpublic static int getStartingRowToWriteBacklog(String pathDoc, int sheet, String titleCategory) throws IOException {\r\n    \r\n    \t\tXSSFSheet mySheet = workbook.getSheetAt(sheet);\r\n    \t\tXSSFCell checked = null;\r\n    \t\tint startingRowInACategory = 0;\r\n    \r\n    \t\t/**\r\n    \t\t * =================================================================\r\n    \t\t * cari di (kategori mis. Engine compartment, drive train, etc) mana\r\n    \t\t * kita akan mulai loop (untuk start penulisan data ke row)\r\n    \t\t * ===================================================================\r\n    \t\t */\r\n    \t\tfor (int i = 0; i &lt; 100; i++) {\r\n    \t\t\ttry {\r\n    \t\t\t\t// 2 == column &quot;inspection backlog&quot; yg berisi misalkan ENGINE\r\n    \t\t\t\t// COMPARTMENT &amp; ACCESSORIES, DRIVE TRAIN, etc\r\n    \t\t\t\tchecked = mySheet.getRow(i).getCell(2, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\r\n    \t\t\t\t// kalau nilai cell &quot;founded&quot; tidak blank\r\n    \t\t\t\t// if percentage similarity is high, i.e, 1.00 == SIMILAR\r\n    \t\t\t\tif (WriteExcelUtility.compareStrings(titleCategory, checked.toString()) &gt; (double) 0.39) {\r\n    \t\t\t\t\tSystem.out.println(&quot; checked =&quot; + checked.toString().trim());\r\n    \t\t\t\t\tstartingRowInACategory = i;\r\n    \t\t\t\t\tSystem.out.println(&quot;Loop ended at baris =&quot; + i);\r\n    \t\t\t\t\tbreak; // break loop\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t\t// kalau nilai cell &quot;founded&quot; blank\r\n    \t\t\tcatch (NullPointerException npe) {\r\n    \t\t\t\t// kalau nilai cell &quot;founded&quot; blank\r\n    \t\t\t\tSystem.out.println(&quot; checked =&quot; + checked.toString().trim());\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t} // end loop\r\n    \r\n    \t\tint finalRowToWrite = 0;// ini nomor baris yang akan mulai ditulisi\r\n    \t\r\n    \t\tfor (int i = (startingRowInACategory + 1); i &lt; 100; i++) {\r\n    \r\n    \t\t\tif (mySheet.getRow(i).getCell(2, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK).toString()\r\n    \t\t\t\t\t.equalsIgnoreCase(&quot;&quot;)) {\r\n    \t\t\t\tfinalRowToWrite = i;\r\n    \t\t\t\t//System.out.println(&quot;finalRowToWrite = &quot; + finalRowToWrite);\r\n    \t\t\t\tbreak; // break loop\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tfis.close();\r\n    \r\n    \t\treturn finalRowToWrite; // end reading close input stream\r\n    \t}\r\n    \r\n    \tpublic static void main(String[] args) throws IOException, Exception {\r\n    \t\t String tempTask = &quot;nangla&quot;;\r\n    \t\t long start = System.nanoTime();\r\n    \r\n    \t\tZipSecureFile.setMinInflateRatio(0.0);\r\n    \t\tlong end = System.nanoTime();\r\n    \t\tlong duration = end - start;\r\n    \t\tduration = TimeUnit.SECONDS.convert(duration, TimeUnit.NANOSECONDS);\r\n    \t\tSystem.out.println(&quot;Durasinya Zipsecure = &quot;+duration+&quot; seconds&quot;);\r\n    \t\t\r\n    \t\tlong start2 = System.nanoTime();\r\n    \t\tWriteExcelUtility.excelInputFileForBacklog = &quot;D:\\\\DIR.xlsx&quot;;\r\n    \t\tWriteExcelUtility.constructInputStreamForBacklogForm(0);\r\n    \t\tlong end2 = System.nanoTime();\r\n    \t\tlong duration2 = end2 - start2;\r\n    \t\tduration = TimeUnit.SECONDS.convert(duration2, TimeUnit.NANOSECONDS);\r\n    \t\tSystem.out.println(&quot;Durasinya constructInputStreamForBacklogForm = &quot;+duration+&quot; seconds&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\tint rowtowrite = WriteExcelUtility.getStartingRowToWriteBacklog(WriteExcelUtility.excelInputFileForBacklog, 0,\r\n    \t\t\t\t&quot;Engine compartment&quot;);\r\n    \t\tSystem.out.println(&quot;Mulai penulisan pada row = &quot;+ rowtowrite);\r\n    \t\tWriteExcelUtility.updateDataLogback(3, rowtowrite, 2, tempTask); \r\n    \t\t String fileNameBacklogtosavetointernal = &quot;D:\\\\DIR1.xlsx&quot;;\r\n    \t\t WriteExcelUtility.constructOutputStream(fileNameBacklogtosavetointernal);\r\n    \t\t\r\n    \t\t long start3 = System.nanoTime();\r\n    \t\t WriteExcelUtility.writeAndCloseALLStream();\r\n    \t\t long end3 = System.nanoTime();\r\n    \t\t\tlong duration3 = end3 - start3;\r\n    \t\t\t//duration = TimeUnit.SECONDS.convert(duration3, TimeUnit.NANOSECONDS);\r\n    \t\t\tSystem.out.println(&quot;Duration writeAndCloseALLStream = &quot;+(Double.valueOf (duration3/ 1000000))/1000+&quot; s&quot;);\r\n    \t\t\r\n    \t}\r\n    \r\n    }\r\n\r\nThe ouput :\r\n\r\n    Durasinya Zipsecure = 0 seconds\r\n    excelInputFileForBacklog = D:\\DIR.xlsx\r\n    sheetnya = Backlog 14 0416\r\n    Durasinya constructInputStreamForBacklogForm = 2 seconds\r\n     checked =ENGINE COMPARTMENT &amp; ACCESSORIES\r\n    Loop ended at baris =14\r\n    Mulai penulisan pada row = 33\r\n    excelInputFileForBacklog =D:\\DIR.xlsx\r\n    excelOutputFileForBacklog =null\r\n    excelOutputFileD:\\DIR1.xlsx\r\n    Duration writeAndCloseALLStream = 40.024 s","title":"Why did writing simple .xlsx book very slow in my case?","body":"<p>I really need a hand here. I have very, very odd code that even writing only 2 cells takes almost 35 seconds. (Twice time took on devices like smartphones).</p>\n<ol>\n<li>Notes :\n<em><strong>There is Nothing wrong with these 2 methods during the computation. They're quite fast. No need to debug these</strong></em></li>\n</ol>\n<ul>\n<li></li>\n</ul>\n<p>// Require apache commong text 1.8</p>\n<pre><code>static Double compareStrings(String stringA, String stringB) {===&gt;to compute distance\n    \n</code></pre>\n<ul>\n<li><code>static int getStartingRowToWriteBacklog(String pathDoc, int sheet, String titleCategory) throws IOException {</code>   ====&gt; to compute at which row I start to write the cell</li>\n</ul>\n<ol start=\"2\">\n<li>.xls files:\n<a href=\"https://www.file.io/download/lx2Zq2N1lTDX\" rel=\"nofollow noreferrer\">https://www.file.io/download/lx2Zq2N1lTDX</a>\nor\nhere <a href=\"https://ufile.io/uzy4wvxz\" rel=\"nofollow noreferrer\">https://ufile.io/uzy4wvxz</a></li>\n</ol>\n<p>My problem arises on this method/lines:</p>\n<pre><code>public static void writeAndCloseALLStream() throws IOException {\n        /*\n         * System.out.println (&quot;excelInputFile&quot;+excelInputFile);\n         * System.out.println (&quot;excelOutputFile&quot;+excelOuputFile);\n         */\n        \n        \n        fis.close();\n        //workbook.write(fos);\n\n        SXSSFWorkbook book = new SXSSFWorkbook(workbook,100,true); \n         book.setCompressTempFiles(true);\n        SXSSFSheet sheetSXSS= book.getSheetAt(0);\n         book.write(fos);\n         workbook.close();\n         book.dispose();\n         book.close();\n        fos.close();\n    }\n</code></pre>\n<p>that took 35~51 seconds to finish . I am desperately need a solution for this. Being researced for almost 1 week ended up with no solution.</p>\n<p>full codes:</p>\n<pre><code>import java.util.ArrayList;\nimport java.util.concurrent.TimeUnit;\nimport java.io.File;\nimport java.io.FileInputStream;\nimport java.io.FileNotFoundException;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\n\nimport org.apache.commons.text.similarity.JaroWinklerDistance;\nimport org.apache.poi.openxml4j.exceptions.InvalidFormatException;\nimport org.apache.poi.openxml4j.util.ZipSecureFile;\nimport org.apache.poi.ss.usermodel.Row;\nimport org.apache.poi.xssf.streaming.SXSSFSheet;\nimport org.apache.poi.xssf.streaming.SXSSFWorkbook;\nimport org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\npublic class WriteExcelUtility {\n    public static int globalSelectedIndex = 0;\n\n    public static FileInputStream fis;\n    public static XSSFWorkbook workbook;\n    public static XSSFSheet sheet;\n    public static FileOutputStream fos;\n\n    public static String excelInputFile;\n    public static String excelOuputFile;\n\n    public static String excelInputFileForBacklog;\n    public static String excelOutputFileForBacklog;\n    public static XSSFSheet sheetBacklogForm;\n\n    public static int banyakSheet;\n    public static ArrayList&lt;String&gt; daftarSheet;\n\n    // Jangan lupa set variable &quot;excelOuputFile&quot; sebelum constructInputStream di\n    // invoke\n    public static void constructInputStream() throws IOException {\n        // ZipSecureFile.setMinInflateRatio(0.009);\n        daftarSheet = new ArrayList&lt;&gt;();\n        fis = new FileInputStream(new File(excelInputFile));\n\n        workbook = new XSSFWorkbook(fis);\n        sheet = workbook.getSheetAt(globalSelectedIndex);\n        \n        System.out.println(&quot;excelInputFile = &quot; + excelInputFile);\n\n    }\n\n    // Jangan lupa set variable &quot;excelOuputFile&quot; sebelum constructInputStream di\n    // invoke\n    public static void constructInputStreamForBacklogForm(int sheetInd) throws IOException {\n        if (fis!=null) {\n            fis.close();\n        }\n        fis = new FileInputStream(new File(excelInputFileForBacklog));\n        workbook = new XSSFWorkbook(fis);\n        sheetBacklogForm = workbook.getSheetAt(sheetInd);\n\n        System.out.println(&quot;excelInputFileForBacklog = &quot; + excelInputFileForBacklog);\n        System.out.println(&quot;sheetnya = &quot; + workbook.getSheetName(sheetInd));\n\n    }\n\n    public static void constructOutputStream(String excelOuputFiles) throws FileNotFoundException {\n        WriteExcelUtility.excelOuputFile = excelOuputFiles;\n        // wajib nama lain\n        fos = new FileOutputStream(new File(excelOuputFile));\n        System.out.println(&quot;excelOutputFile&quot; + excelOuputFile);\n\n    }\n\n    public static void constructOutputStreamForBacklogForm(String excelOuputFilesForBaglog)\n            throws FileNotFoundException {\n        // WriteExcelUtility.excelOuputFile = excelOuputFiles;\n        // wajib nama lain\n        fos = new FileOutputStream(new File(excelOuputFilesForBaglog));\n        System.out.println(&quot;excelOuputFilesForBaglog = &quot; + excelOuputFilesForBaglog);\n\n    }\n\n    public static void getNumberofsheetAndTheirName() throws IOException {\n        // Log.d (&quot;WriteExcelUtility.getNumberofsheetAndTheirName\n        // :&quot;,&quot;excelInputFile = &quot;+excelInputFile);\n        // System.out.println (&quot;excelOutputFile&quot;+excelOuputFile);\n\n        banyakSheet = workbook.getNumberOfSheets();\n        System.out.println(&quot;Jumlah sheet = &quot; + banyakSheet);\n        for (int i = 0; i &lt; banyakSheet; i++) {\n            /* XSSFSheet sheetName = workbook.getSheetAt(i); */\n            String namaSheet = workbook.getSheetName(i).toString();\n            if (namaSheet.contains(&quot;Sheet&quot;)) {\n                // do nothing\n            } else {\n                System.out.println(namaSheet);\n                daftarSheet.add(namaSheet);\n            }\n\n        }\n        fis.close();\n\n    }\n\n    // Cuma untuk update dan set cell value. Penulisan final di method\n    // writeAndCloseALLStream()\n    public static void updateDataPM(int sheetN, int row, int sell, String value)\n            throws IOException, InvalidFormatException {\n        System.out.println(&quot;excelInputFile&quot; + excelInputFile);\n        System.out.println(&quot;excelOutputFile&quot; + excelOuputFile);\n\n        XSSFRow row1 = sheet.getRow(row);\n        if (row1 == null) {\n            row1 = sheet.createRow(row);\n        }\n        XSSFCell cell1 = row1.getCell(sell);\n        if (cell1 == null) {\n            cell1 = row1.createCell(sell);\n        }\n        cell1.setCellValue(value);\n\n    }\n\n    // Cuma untuk update dan set cell value. Penulisan final di method\n    // writeAndCloseALLStream()\n    public static void updateDataLogback(int sheetN, int row, int sell, String value)\n            throws IOException, InvalidFormatException {\n        System.out.println(&quot;excelInputFileForBacklog =&quot; + excelInputFileForBacklog);\n        System.out.println(&quot;excelOutputFileForBacklog =&quot; + excelOutputFileForBacklog);\n\n        XSSFRow row1 = sheetBacklogForm.getRow(row);\n        if (row1 == null) {\n            row1 = sheetBacklogForm.createRow(row);\n        }\n        XSSFCell cell1 = row1.getCell(sell);\n        if (cell1 == null) {\n            cell1 = row1.createCell(sell);\n        }\n        cell1.setCellValue(value);\n\n    }\n\n    public static void writeAndCloseALLStream() throws IOException {\n        /*\n         * System.out.println (&quot;excelInputFile&quot;+excelInputFile);\n         * System.out.println (&quot;excelOutputFile&quot;+excelOuputFile);\n         */\n        \n        \n        fis.close();\n        //workbook.write(fos);\n\n        SXSSFWorkbook book = new SXSSFWorkbook(workbook,100,true); \n         book.setCompressTempFiles(true);\n        SXSSFSheet sheetSXSS= book.getSheetAt(0);\n        \n        \n        \n \n         book.write(fos);\n         workbook.close();\n         book.dispose();\n         book.close();\n        fos.close();\n    }\n\n    // Require apache commong text 1.8\n    public static Double compareStrings(String stringA, String stringB) {\n        return new JaroWinklerDistance().apply(stringA, stringB);\n        // return StringUtils.Jar(stringA, stringB);\n    }\n\n    // for backlog doc\n    // Method ini mereturnkan starting row dimana kita akan tulisi\n    // titleCategory = misalkan ENGINE COMPARTMENT &amp; ACCESSORIES, DRIVE TRAIN,\n    // etc\n    public static int getStartingRowToWriteBacklog(String pathDoc, int sheet, String titleCategory) throws IOException {\n\n        XSSFSheet mySheet = workbook.getSheetAt(sheet);\n        XSSFCell checked = null;\n        int startingRowInACategory = 0;\n\n        /**\n         * =================================================================\n         * cari di (kategori mis. Engine compartment, drive train, etc) mana\n         * kita akan mulai loop (untuk start penulisan data ke row)\n         * ===================================================================\n         */\n        for (int i = 0; i &lt; 100; i++) {\n            try {\n                // 2 == column &quot;inspection backlog&quot; yg berisi misalkan ENGINE\n                // COMPARTMENT &amp; ACCESSORIES, DRIVE TRAIN, etc\n                checked = mySheet.getRow(i).getCell(2, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK);\n                // kalau nilai cell &quot;founded&quot; tidak blank\n                // if percentage similarity is high, i.e, 1.00 == SIMILAR\n                if (WriteExcelUtility.compareStrings(titleCategory, checked.toString()) &gt; (double) 0.39) {\n                    System.out.println(&quot; checked =&quot; + checked.toString().trim());\n                    startingRowInACategory = i;\n                    System.out.println(&quot;Loop ended at baris =&quot; + i);\n                    break; // break loop\n                }\n            }\n            // kalau nilai cell &quot;founded&quot; blank\n            catch (NullPointerException npe) {\n                // kalau nilai cell &quot;founded&quot; blank\n                System.out.println(&quot; checked =&quot; + checked.toString().trim());\n                \n            }\n\n        } // end loop\n\n        int finalRowToWrite = 0;// ini nomor baris yang akan mulai ditulisi\n    \n        for (int i = (startingRowInACategory + 1); i &lt; 100; i++) {\n\n            if (mySheet.getRow(i).getCell(2, Row.MissingCellPolicy.CREATE_NULL_AS_BLANK).toString()\n                    .equalsIgnoreCase(&quot;&quot;)) {\n                finalRowToWrite = i;\n                //System.out.println(&quot;finalRowToWrite = &quot; + finalRowToWrite);\n                break; // break loop\n            }\n        }\n        \n        fis.close();\n\n        return finalRowToWrite; // end reading close input stream\n    }\n\n    public static void main(String[] args) throws IOException, Exception {\n         String tempTask = &quot;nangla&quot;;\n         long start = System.nanoTime();\n\n        ZipSecureFile.setMinInflateRatio(0.0);\n        long end = System.nanoTime();\n        long duration = end - start;\n        duration = TimeUnit.SECONDS.convert(duration, TimeUnit.NANOSECONDS);\n        System.out.println(&quot;Durasinya Zipsecure = &quot;+duration+&quot; seconds&quot;);\n        \n        long start2 = System.nanoTime();\n        WriteExcelUtility.excelInputFileForBacklog = &quot;D:\\\\DIR.xlsx&quot;;\n        WriteExcelUtility.constructInputStreamForBacklogForm(0);\n        long end2 = System.nanoTime();\n        long duration2 = end2 - start2;\n        duration = TimeUnit.SECONDS.convert(duration2, TimeUnit.NANOSECONDS);\n        System.out.println(&quot;Durasinya constructInputStreamForBacklogForm = &quot;+duration+&quot; seconds&quot;);\n        \n        \n        int rowtowrite = WriteExcelUtility.getStartingRowToWriteBacklog(WriteExcelUtility.excelInputFileForBacklog, 0,\n                &quot;Engine compartment&quot;);\n        System.out.println(&quot;Mulai penulisan pada row = &quot;+ rowtowrite);\n        WriteExcelUtility.updateDataLogback(3, rowtowrite, 2, tempTask); \n         String fileNameBacklogtosavetointernal = &quot;D:\\\\DIR1.xlsx&quot;;\n         WriteExcelUtility.constructOutputStream(fileNameBacklogtosavetointernal);\n        \n         long start3 = System.nanoTime();\n         WriteExcelUtility.writeAndCloseALLStream();\n         long end3 = System.nanoTime();\n            long duration3 = end3 - start3;\n            //duration = TimeUnit.SECONDS.convert(duration3, TimeUnit.NANOSECONDS);\n            System.out.println(&quot;Duration writeAndCloseALLStream = &quot;+(Double.valueOf (duration3/ 1000000))/1000+&quot; s&quot;);\n        \n    }\n\n}\n</code></pre>\n<p>The ouput :</p>\n<pre><code>Durasinya Zipsecure = 0 seconds\nexcelInputFileForBacklog = D:\\DIR.xlsx\nsheetnya = Backlog 14 0416\nDurasinya constructInputStreamForBacklogForm = 2 seconds\n checked =ENGINE COMPARTMENT &amp; ACCESSORIES\nLoop ended at baris =14\nMulai penulisan pada row = 33\nexcelInputFileForBacklog =D:\\DIR.xlsx\nexcelOutputFileForBacklog =null\nexcelOutputFileD:\\DIR1.xlsx\nDuration writeAndCloseALLStream = 40.024 s\n</code></pre>\n"},{"tags":["java","environment-variables","special-characters","getenv"],"comments":[{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":2,"creation_date":1633699705,"post_id":69496292,"comment_id":122836499,"body_markdown":"This is not java related but more a problem with windows batch files. See https://stackoverflow.com/questions/1907057/ignore-percent-sign-in-batch-file for a hint on how to solve.","body":"This is not java related but more a problem with windows batch files. See <a href=\"https://stackoverflow.com/questions/1907057/ignore-percent-sign-in-batch-file\" title=\"ignore percent sign in batch file\">stackoverflow.com/questions/1907057/&hellip;</a> for a hint on how to solve."},{"owner":{"display_name":"user4910279"},"score":1,"creation_date":1633700013,"post_id":69496292,"comment_id":122836631,"body_markdown":"Try `set MY_VAR=MY%%VALUE` in your batch file.","body":"Try <code>set MY_VAR=MY%%VALUE</code> in your batch file."},{"owner":{"account_id":22979559,"reputation":53,"user_id":17106708,"display_name":"Ann-Christin Lindras"},"score":0,"creation_date":1634046893,"post_id":69496292,"comment_id":122917566,"body_markdown":"@saka1029 Thank you. This was the solution.","body":"@saka1029 Thank you. This was the solution."}],"owner":{"account_id":22979559,"reputation":53,"user_id":17106708,"display_name":"Ann-Christin Lindras"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":44,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633771018,"answer_count":0,"score":1,"last_activity_date":1633770952,"creation_date":1633698209,"question_id":69496292,"body_markdown":"My JAR runs in a DOS shell like this\r\n```batch\r\nset MY_VAR=MY_VALUE\r\nmy_jar.jar MyClass\r\n```\r\nand in MyClass I code\r\n```java\r\nString myValue = System.getenv(&quot;MY_VAR&quot;);\r\nSystem.out.println(&quot;myValue = &quot; + myValue); \r\n```\r\n\r\nThis works fine.\r\n\r\nBut now I must change in my DOS shell the value of MY_VAR from MY_VALUE to MY%VALUE.\r\n```batch\r\nset MY_VAR=MY%VALUE\r\nmy_jar.jar MyClass\r\n```\r\nI can&#39;t use this value because the &#39;%&#39; character has disappeared.\r\nI dump also myValue in my code to stdout: \r\n```\r\nmyValue = MYVALUE\r\n```\r\n\r\nWhat is the cause for the disappearance of the &#39;%&#39; character and how can I set a value with &#39;%&#39; characters in the shell and use it in the Java code?\r\n","title":"System.getenv with special characters like &#39;%&#39; in Java","body":"<p>My JAR runs in a DOS shell like this</p>\n<pre><code>set MY_VAR=MY_VALUE\nmy_jar.jar MyClass\n</code></pre>\n<p>and in MyClass I code</p>\n<pre class=\"lang-java prettyprint-override\"><code>String myValue = System.getenv(&quot;MY_VAR&quot;);\nSystem.out.println(&quot;myValue = &quot; + myValue); \n</code></pre>\n<p>This works fine.</p>\n<p>But now I must change in my DOS shell the value of MY_VAR from MY_VALUE to MY%VALUE.</p>\n<pre><code>set MY_VAR=MY%VALUE\nmy_jar.jar MyClass\n</code></pre>\n<p>I can't use this value because the '%' character has disappeared.\nI dump also myValue in my code to stdout:</p>\n<pre><code>myValue = MYVALUE\n</code></pre>\n<p>What is the cause for the disappearance of the '%' character and how can I set a value with '%' characters in the shell and use it in the Java code?</p>\n"},{"tags":["java","floating-point","double"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":1,"creation_date":1633765488,"post_id":69504648,"comment_id":122851705,"body_markdown":"Not related to the problem, but generally, it would be better to use `double` instead of `Double`.","body":"Not related to the problem, but generally, it would be better to use <code>double</code> instead of <code>Double</code>."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633770730,"post_id":69504648,"comment_id":122852654,"body_markdown":"What is `sum()`? There&#39;s not enough information here to answer the question. And the redundant parentheses are, err, redundant.","body":"What is <code>sum()</code>? There&#39;s not enough information here to answer the question. And the redundant parentheses are, err, redundant."}],"answers":[{"tags":[],"owner":{"account_id":21806003,"reputation":96,"user_id":16104195,"display_name":"Billy"},"down_vote_count":1,"up_vote_count":0,"is_accepted":true,"score":-1,"last_activity_date":1633765097,"creation_date":1633765097,"answer_id":69504704,"question_id":69504648,"body_markdown":"In java, in order to make a division return a double value, you need that divisor or dividend is a double, so for your case this should work:\r\n\r\n    return (Double.valueOf(sum()) / sequence.length);","title":"Decimal places don&#39;t go past 1 when I want more and if statement is not correct","body":"<p>In java, in order to make a division return a double value, you need that divisor or dividend is a double, so for your case this should work:</p>\n<pre><code>return (Double.valueOf(sum()) / sequence.length);\n</code></pre>\n"}],"owner":{"account_id":22920042,"reputation":7,"user_id":17110348,"display_name":"user17110348"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":46,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"closed_date":1633765398,"accepted_answer_id":69504704,"answer_count":1,"score":-1,"last_activity_date":1633770617,"creation_date":1633764690,"question_id":69504648,"body_markdown":"The code is supposed to double the mean and provide a score, i.e. 4.2231 is mean, but this code prints 4.0.\r\n\r\n```java\r\npublic Double mean(){\r\n    return Double.valueOf((sum() / sequence.length));\r\n}\r\n```\r\n\r\nFor this line, for example, 1 is the sequence.length.\r\n\r\nIt should print out &quot;is wobbly&quot; when sequence.length is less then 1 or when the list of numbers have no particular order, but this code makes it print out increasing. How do I make it so when sequence.length = 1, print wobbly. Or how should I improve my decreasing code to avoid that breach in the future\r\n\r\n```java\r\npublic  boolean isIncreasing() {\r\n    int temp;\r\n    boolean flag = true;\r\n    for (int index = 0; index &lt; sequence.length - 1; index++) {\r\n        temp = sequence[index];\r\n        if (temp &gt; sequence[index + 1])\r\n        {\r\n            flag = false;\r\n            break;\r\n        }\r\n    }\r\n    return flag;\r\n}\r\n```","title":"Decimal places don&#39;t go past 1 when I want more and if statement is not correct","body":"<p>The code is supposed to double the mean and provide a score, i.e. 4.2231 is mean, but this code prints 4.0.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public Double mean(){\n    return Double.valueOf((sum() / sequence.length));\n}\n</code></pre>\n<p>For this line, for example, 1 is the sequence.length.</p>\n<p>It should print out &quot;is wobbly&quot; when sequence.length is less then 1 or when the list of numbers have no particular order, but this code makes it print out increasing. How do I make it so when sequence.length = 1, print wobbly. Or how should I improve my decreasing code to avoid that breach in the future</p>\n<pre class=\"lang-java prettyprint-override\"><code>public  boolean isIncreasing() {\n    int temp;\n    boolean flag = true;\n    for (int index = 0; index &lt; sequence.length - 1; index++) {\n        temp = sequence[index];\n        if (temp &gt; sequence[index + 1])\n        {\n            flag = false;\n            break;\n        }\n    }\n    return flag;\n}\n</code></pre>\n"},{"tags":["java","android","flutter","kotlin","autostart"],"comments":[{"owner":{"account_id":4064404,"reputation":244,"user_id":3339899,"display_name":"Nuwan Thisara"},"score":0,"creation_date":1633755816,"post_id":68802348,"comment_id":122850328,"body_markdown":"Does this answer your question? [Autostart on BOOT\\_COMPLETED for flutter application based on Android example not working](https://stackoverflow.com/questions/53715839/autostart-on-boot-completed-for-flutter-application-based-on-android-example-not)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/53715839/autostart-on-boot-completed-for-flutter-application-based-on-android-example-not\">Autostart on BOOT_COMPLETED for flutter application based on Android example not working</a>"}],"owner":{"account_id":19249288,"reputation":51,"user_id":14067686,"display_name":"Altereyo"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1648,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":0,"score":3,"last_activity_date":1633770507,"creation_date":1629114755,"question_id":68802348,"body_markdown":"I saw same questions like:\r\n[link1][1] [link2][2], but my Flutter version is newer than as in resolves or something else, so my Flutter bases on Kotlin, not Java, as I think. MainActivity exists only in kotlin directory, in Java there is only GeneratedPluginRegistrant.java\r\n\r\nMy directory to MainActivity bases in android/app/src/main/kotlin/com/name/app_name/MainActivity.kt\r\n\r\nI tried to add my StartCmPlayerServiceAtBootReceiver.kt in directory above as in solutions in links, and added code below to AndroidManifest, which is in android/app/src/main/\r\n\r\n    &lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\r\n    &lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\r\nand this before closing tag of &lt;applicaton&gt;\r\n\r\n    &lt;receiver\r\n        android:enabled=&quot;true&quot;\r\n        android:name=&quot;.StartCmPlayerServiceAtBootReceiver&quot;&gt;\r\n        &lt;intent-filter&gt;\r\n            &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\r\n        &lt;/intent-filter&gt;\r\n    &lt;/receiver&gt;\r\n\r\nSo, are there any other solutions?\r\nFlutter version 2.2.3\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/53715839/autostart-on-boot-completed-for-flutter-application-based-on-android-example-not\r\n  [2]: https://stackoverflow.com/questions/65275044/how-to-start-flutter-app-on-system-startup","title":"How can I make Flutter app start automatically on system startup?","body":"<p>I saw same questions like:\n<a href=\"https://stackoverflow.com/questions/53715839/autostart-on-boot-completed-for-flutter-application-based-on-android-example-not\">link1</a> <a href=\"https://stackoverflow.com/questions/65275044/how-to-start-flutter-app-on-system-startup\">link2</a>, but my Flutter version is newer than as in resolves or something else, so my Flutter bases on Kotlin, not Java, as I think. MainActivity exists only in kotlin directory, in Java there is only GeneratedPluginRegistrant.java</p>\n<p>My directory to MainActivity bases in android/app/src/main/kotlin/com/name/app_name/MainActivity.kt</p>\n<p>I tried to add my StartCmPlayerServiceAtBootReceiver.kt in directory above as in solutions in links, and added code below to AndroidManifest, which is in android/app/src/main/</p>\n<pre><code>&lt;uses-permission android:name=&quot;android.permission.INTERNET&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;\n&lt;uses-permission android:name=&quot;android.permission.RECEIVE_BOOT_COMPLETED&quot; /&gt;\n</code></pre>\n<p>and this before closing tag of </p>\n<pre><code>&lt;receiver\n    android:enabled=&quot;true&quot;\n    android:name=&quot;.StartCmPlayerServiceAtBootReceiver&quot;&gt;\n    &lt;intent-filter&gt;\n        &lt;action android:name=&quot;android.intent.action.BOOT_COMPLETED&quot; /&gt;\n    &lt;/intent-filter&gt;\n&lt;/receiver&gt;\n</code></pre>\n<p>So, are there any other solutions?\nFlutter version 2.2.3</p>\n"},{"tags":["java","string"],"answers":[{"tags":[],"owner":{"account_id":69161,"reputation":11035,"user_id":201393,"accept_rate":94,"display_name":"Srinivas Reddy Thatiparthy"},"down_vote_count":0,"up_vote_count":39,"is_accepted":false,"score":39,"last_activity_date":1300271628,"creation_date":1300271628,"answer_id":5324046,"question_id":5324007,"body_markdown":"    String s = String.format(&quot;something %s&quot;,&quot;name&quot;);","title":"Java equivalent of Python&#39;s format()","body":"<pre><code>String s = String.format(\"something %s\",\"name\");\n</code></pre>\n"},{"tags":[],"owner":{"account_id":295869,"reputation":73614,"user_id":600500,"accept_rate":54,"display_name":"Paŭlo Ebermann"},"down_vote_count":1,"up_vote_count":50,"is_accepted":true,"score":49,"last_activity_date":1300278656,"creation_date":1300274410,"answer_id":5324531,"question_id":5324007,"body_markdown":"    name = &quot;Paŭlo&quot;;\r\n    MessageFormat f = new MessageFormat(&quot;my name is {0}&quot;);\r\n    f.format(new Object[]{name});\r\n\r\nOr shorter:\r\n\r\n    MessageFormat.format(&quot;my name is {0}&quot;, name);\r\n","title":"Java equivalent of Python&#39;s format()","body":"<pre><code>name = \"Paŭlo\";\nMessageFormat f = new MessageFormat(\"my name is {0}\");\nf.format(new Object[]{name});\n</code></pre>\n\n<p>Or shorter:</p>\n\n<pre><code>MessageFormat.format(\"my name is {0}\", name);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2203785,"reputation":2039,"user_id":1947482,"display_name":"Valentyn Kolesnikov"},"down_vote_count":1,"up_vote_count":4,"is_accepted":false,"score":3,"last_activity_date":1630716979,"creation_date":1498915645,"answer_id":44861486,"question_id":5324007,"body_markdown":"[Underscore-java][1] has a `format()` static method. [Live example][2]\r\n\r\n    import com.github.underscore.Underscore;\r\n\r\n    public class Main {\r\n        public static void main(String[] args) {\r\n            String name = &quot;Tshepang&quot;;\r\n            String formatted = Underscore.format(&quot;my name is {}&quot;, name);\r\n            // my name is Tshepang\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://github.com/javadev/underscore-java\r\n  [2]: https://www.jdoodle.com/embed/v0/tIK","title":"Java equivalent of Python&#39;s format()","body":"<p><a href=\"https://github.com/javadev/underscore-java\" rel=\"nofollow noreferrer\">Underscore-java</a> has a <code>format()</code> static method. <a href=\"https://www.jdoodle.com/embed/v0/tIK\" rel=\"nofollow noreferrer\">Live example</a></p>\n<pre><code>import com.github.underscore.Underscore;\n\npublic class Main {\n    public static void main(String[] args) {\n        String name = &quot;Tshepang&quot;;\n        String formatted = Underscore.format(&quot;my name is {}&quot;, name);\n        // my name is Tshepang\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3354298,"reputation":161,"user_id":2817658,"display_name":"tinylambda"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633770498,"creation_date":1633770498,"answer_id":69505279,"question_id":5324007,"body_markdown":"You can try [this][1]\r\n\r\n    package template.fstyle;\r\n    \r\n    import static com.google.common.base.Preconditions.checkArgument;\r\n    import static com.google.common.collect.Lists.newArrayList;\r\n    import static com.google.common.collect.Maps.newHashMap;\r\n    import static java.util.Objects.nonNull;\r\n    \r\n    import java.lang.reflect.InvocationTargetException;\r\n    import java.util.List;\r\n    import java.util.Map;\r\n    import java.util.regex.Matcher;\r\n    import java.util.regex.Pattern;\r\n    import java.util.stream.Collectors;\r\n    \r\n    import org.apache.commons.beanutils.BeanUtils;\r\n    import org.apache.commons.collections4.CollectionUtils;\r\n    import org.apache.commons.lang3.StringUtils;\r\n    import org.apache.commons.lang3.tuple.Pair;\r\n    \r\n    import lombok.AccessLevel;\r\n    import lombok.NoArgsConstructor;\r\n    import lombok.extern.slf4j.Slf4j;\r\n    \r\n    \r\n    @Slf4j\r\n    @NoArgsConstructor(access = AccessLevel.PRIVATE)\r\n    public class FStyleFinal {\r\n        private static final String PLACEHOLDERS_KEY = &quot;placeholders&quot;;\r\n        private static final String VARIABLE_NAMES_KEY = &quot;variableNames&quot;;\r\n        private static final String PLACEHOLDER_PREFIX = &quot;{{&quot;;\r\n        private static final String PLACEHOLDER_SUFFIX = &quot;}}&quot;;\r\n        private static final Pattern PLACEHOLDER_PATTERN = Pattern.compile(&quot;\\\\{\\\\{\\\\s*([\\\\S]+)\\\\s*}}&quot;);\r\n    \r\n        private static Map&lt;String, List&lt;String&gt;&gt; toPlaceholdersAndVariableNames(String rawTemplate) {\r\n            List&lt;String&gt; placeholders = newArrayList();\r\n            List&lt;String&gt; variableNames = newArrayList();\r\n    \r\n            Matcher matcher = PLACEHOLDER_PATTERN.matcher(rawTemplate);\r\n            while (matcher.find()) {\r\n                for (int j = 0; j &lt;= matcher.groupCount(); j++) {\r\n                    String s = matcher.group(j);\r\n                    if (StringUtils.startsWith(s, PLACEHOLDER_PREFIX) &amp;&amp; StringUtils.endsWith(s, PLACEHOLDER_SUFFIX)) {\r\n                        placeholders.add(s);\r\n                    } else if (!StringUtils.startsWith(s, PLACEHOLDER_PREFIX) &amp;&amp; !StringUtils.endsWith(s, PLACEHOLDER_SUFFIX)) {\r\n                        variableNames.add(s);\r\n                    }\r\n                }\r\n            }\r\n            checkArgument(CollectionUtils.size(placeholders) == CollectionUtils.size(variableNames), &quot;template engine error&quot;);\r\n    \r\n            Map&lt;String, List&lt;String&gt;&gt; map = newHashMap();\r\n            map.put(PLACEHOLDERS_KEY, placeholders);\r\n            map.put(VARIABLE_NAMES_KEY, variableNames);\r\n            return map;\r\n        }\r\n    \r\n        private static String toJavaTemplate(String rawTemplate, List&lt;String&gt; placeholders) {\r\n            String javaTemplate = rawTemplate;\r\n            for (String placeholder : placeholders) {\r\n                javaTemplate = StringUtils.replaceOnce(javaTemplate, placeholder, &quot;%s&quot;);\r\n            }\r\n            return javaTemplate;\r\n        }\r\n    \r\n        private static Object[] toJavaTemplateRenderValues(Map&lt;String, String&gt; context, List&lt;String&gt; variableNames, boolean allowNull) {\r\n            return variableNames.stream().map(name -&gt; {\r\n                String value = context.get(name);\r\n                if (!allowNull) {\r\n                    checkArgument(nonNull(value), name + &quot; should not be null&quot;);\r\n                }\r\n                return value;\r\n            }).toArray();\r\n        }\r\n    \r\n        private static Map&lt;String, String&gt; fromBeanToMap(Object bean, List&lt;String&gt; variableNames) {\r\n            return variableNames.stream().distinct().map(name -&gt; {\r\n                String value = null;\r\n                try {\r\n                    value = BeanUtils.getProperty(bean, name);\r\n                } catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException e) {\r\n                    log.debug(&quot;fromBeanToMap error&quot;, e);\r\n                }\r\n                return Pair.of(name, value);\r\n            }).filter(p -&gt; nonNull(p.getRight())).collect(Collectors.toMap(Pair::getLeft, Pair::getRight));\r\n        }\r\n    \r\n        public static String render(String rawTemplate, Map&lt;String, String&gt; context, boolean allowNull) {\r\n            Map&lt;String, List&lt;String&gt;&gt; templateMeta = toPlaceholdersAndVariableNames(rawTemplate);\r\n            List&lt;String&gt; placeholders = templateMeta.get(PLACEHOLDERS_KEY);\r\n            List&lt;String&gt; variableNames = templateMeta.get(VARIABLE_NAMES_KEY);\r\n            // transform template to java style template\r\n            String javaTemplate = toJavaTemplate(rawTemplate, placeholders);\r\n            Object[] renderValues = toJavaTemplateRenderValues(context, variableNames, allowNull);\r\n            return String.format(javaTemplate, renderValues);\r\n        }\r\n    \r\n        public static String render(String rawTemplate, Object bean, boolean allowNull) {\r\n            Map&lt;String, List&lt;String&gt;&gt; templateMeta = toPlaceholdersAndVariableNames(rawTemplate);\r\n            List&lt;String&gt; variableNames = templateMeta.get(VARIABLE_NAMES_KEY);\r\n            Map&lt;String, String&gt; mapContext = fromBeanToMap(bean, variableNames);\r\n            return render(rawTemplate, mapContext, allowNull);\r\n        }\r\n    \r\n        public static void main(String[] args) {\r\n            String template = &quot;hello, my name is {{ name }}, and I am  {{age}} years old, a null value {{ not_exists }}&quot;;\r\n            Map&lt;String, String&gt; context = newHashMap();\r\n            context.put(&quot;name&quot;, &quot;felix&quot;);\r\n            context.put(&quot;age&quot;, &quot;18&quot;);\r\n            String s = render(template, context, true);\r\n            log.info(&quot;{}&quot;, s);\r\n    \r\n            try {\r\n                render(template, context, false);\r\n            } catch (IllegalArgumentException e) {\r\n                log.error(&quot;error&quot;, e);\r\n            }\r\n        }\r\n    }\r\n\r\nSample output:\r\n\r\n    [main] INFO template.fstyle.FStyleFinal - hello, my name is felix, and I am  18 years old, a null value null\r\n    [main] ERROR template.fstyle.FStyleFinal - error\r\n    java.lang.IllegalArgumentException: not_exists should not be null\r\n    \tat com.google.common.base.Preconditions.checkArgument(Preconditions.java:142)\r\n    \tat template.fstyle.FStyleFinal.lambda$toJavaTemplateRenderValues$0(FStyleFinal.java:69)\r\n    \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n    \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:545)\r\n    \tat java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)\r\n    \tat java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:438)\r\n    \tat java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:444)\r\n    \tat template.fstyle.FStyleFinal.toJavaTemplateRenderValues(FStyleFinal.java:72)\r\n    \tat template.fstyle.FStyleFinal.render(FStyleFinal.java:93)\r\n    \tat template.fstyle.FStyleFinal.main(FStyleFinal.java:113)\r\n\r\n\r\n  [1]: https://raw.githubusercontent.com/tinylambda/jkeep/master/src/main/java/template/fstyle/FStyleFinal.java","title":"Java equivalent of Python&#39;s format()","body":"<p>You can try <a href=\"https://raw.githubusercontent.com/tinylambda/jkeep/master/src/main/java/template/fstyle/FStyleFinal.java\" rel=\"nofollow noreferrer\">this</a></p>\n<pre><code>package template.fstyle;\n\nimport static com.google.common.base.Preconditions.checkArgument;\nimport static com.google.common.collect.Lists.newArrayList;\nimport static com.google.common.collect.Maps.newHashMap;\nimport static java.util.Objects.nonNull;\n\nimport java.lang.reflect.InvocationTargetException;\nimport java.util.List;\nimport java.util.Map;\nimport java.util.regex.Matcher;\nimport java.util.regex.Pattern;\nimport java.util.stream.Collectors;\n\nimport org.apache.commons.beanutils.BeanUtils;\nimport org.apache.commons.collections4.CollectionUtils;\nimport org.apache.commons.lang3.StringUtils;\nimport org.apache.commons.lang3.tuple.Pair;\n\nimport lombok.AccessLevel;\nimport lombok.NoArgsConstructor;\nimport lombok.extern.slf4j.Slf4j;\n\n\n@Slf4j\n@NoArgsConstructor(access = AccessLevel.PRIVATE)\npublic class FStyleFinal {\n    private static final String PLACEHOLDERS_KEY = &quot;placeholders&quot;;\n    private static final String VARIABLE_NAMES_KEY = &quot;variableNames&quot;;\n    private static final String PLACEHOLDER_PREFIX = &quot;{{&quot;;\n    private static final String PLACEHOLDER_SUFFIX = &quot;}}&quot;;\n    private static final Pattern PLACEHOLDER_PATTERN = Pattern.compile(&quot;\\\\{\\\\{\\\\s*([\\\\S]+)\\\\s*}}&quot;);\n\n    private static Map&lt;String, List&lt;String&gt;&gt; toPlaceholdersAndVariableNames(String rawTemplate) {\n        List&lt;String&gt; placeholders = newArrayList();\n        List&lt;String&gt; variableNames = newArrayList();\n\n        Matcher matcher = PLACEHOLDER_PATTERN.matcher(rawTemplate);\n        while (matcher.find()) {\n            for (int j = 0; j &lt;= matcher.groupCount(); j++) {\n                String s = matcher.group(j);\n                if (StringUtils.startsWith(s, PLACEHOLDER_PREFIX) &amp;&amp; StringUtils.endsWith(s, PLACEHOLDER_SUFFIX)) {\n                    placeholders.add(s);\n                } else if (!StringUtils.startsWith(s, PLACEHOLDER_PREFIX) &amp;&amp; !StringUtils.endsWith(s, PLACEHOLDER_SUFFIX)) {\n                    variableNames.add(s);\n                }\n            }\n        }\n        checkArgument(CollectionUtils.size(placeholders) == CollectionUtils.size(variableNames), &quot;template engine error&quot;);\n\n        Map&lt;String, List&lt;String&gt;&gt; map = newHashMap();\n        map.put(PLACEHOLDERS_KEY, placeholders);\n        map.put(VARIABLE_NAMES_KEY, variableNames);\n        return map;\n    }\n\n    private static String toJavaTemplate(String rawTemplate, List&lt;String&gt; placeholders) {\n        String javaTemplate = rawTemplate;\n        for (String placeholder : placeholders) {\n            javaTemplate = StringUtils.replaceOnce(javaTemplate, placeholder, &quot;%s&quot;);\n        }\n        return javaTemplate;\n    }\n\n    private static Object[] toJavaTemplateRenderValues(Map&lt;String, String&gt; context, List&lt;String&gt; variableNames, boolean allowNull) {\n        return variableNames.stream().map(name -&gt; {\n            String value = context.get(name);\n            if (!allowNull) {\n                checkArgument(nonNull(value), name + &quot; should not be null&quot;);\n            }\n            return value;\n        }).toArray();\n    }\n\n    private static Map&lt;String, String&gt; fromBeanToMap(Object bean, List&lt;String&gt; variableNames) {\n        return variableNames.stream().distinct().map(name -&gt; {\n            String value = null;\n            try {\n                value = BeanUtils.getProperty(bean, name);\n            } catch (IllegalAccessException | InvocationTargetException | NoSuchMethodException e) {\n                log.debug(&quot;fromBeanToMap error&quot;, e);\n            }\n            return Pair.of(name, value);\n        }).filter(p -&gt; nonNull(p.getRight())).collect(Collectors.toMap(Pair::getLeft, Pair::getRight));\n    }\n\n    public static String render(String rawTemplate, Map&lt;String, String&gt; context, boolean allowNull) {\n        Map&lt;String, List&lt;String&gt;&gt; templateMeta = toPlaceholdersAndVariableNames(rawTemplate);\n        List&lt;String&gt; placeholders = templateMeta.get(PLACEHOLDERS_KEY);\n        List&lt;String&gt; variableNames = templateMeta.get(VARIABLE_NAMES_KEY);\n        // transform template to java style template\n        String javaTemplate = toJavaTemplate(rawTemplate, placeholders);\n        Object[] renderValues = toJavaTemplateRenderValues(context, variableNames, allowNull);\n        return String.format(javaTemplate, renderValues);\n    }\n\n    public static String render(String rawTemplate, Object bean, boolean allowNull) {\n        Map&lt;String, List&lt;String&gt;&gt; templateMeta = toPlaceholdersAndVariableNames(rawTemplate);\n        List&lt;String&gt; variableNames = templateMeta.get(VARIABLE_NAMES_KEY);\n        Map&lt;String, String&gt; mapContext = fromBeanToMap(bean, variableNames);\n        return render(rawTemplate, mapContext, allowNull);\n    }\n\n    public static void main(String[] args) {\n        String template = &quot;hello, my name is {{ name }}, and I am  {{age}} years old, a null value {{ not_exists }}&quot;;\n        Map&lt;String, String&gt; context = newHashMap();\n        context.put(&quot;name&quot;, &quot;felix&quot;);\n        context.put(&quot;age&quot;, &quot;18&quot;);\n        String s = render(template, context, true);\n        log.info(&quot;{}&quot;, s);\n\n        try {\n            render(template, context, false);\n        } catch (IllegalArgumentException e) {\n            log.error(&quot;error&quot;, e);\n        }\n    }\n}\n</code></pre>\n<p>Sample output:</p>\n<pre><code>[main] INFO template.fstyle.FStyleFinal - hello, my name is felix, and I am  18 years old, a null value null\n[main] ERROR template.fstyle.FStyleFinal - error\njava.lang.IllegalArgumentException: not_exists should not be null\n    at com.google.common.base.Preconditions.checkArgument(Preconditions.java:142)\n    at template.fstyle.FStyleFinal.lambda$toJavaTemplateRenderValues$0(FStyleFinal.java:69)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:545)\n    at java.util.stream.AbstractPipeline.evaluateToArrayNode(AbstractPipeline.java:260)\n    at java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:438)\n    at java.util.stream.ReferencePipeline.toArray(ReferencePipeline.java:444)\n    at template.fstyle.FStyleFinal.toJavaTemplateRenderValues(FStyleFinal.java:72)\n    at template.fstyle.FStyleFinal.render(FStyleFinal.java:93)\n    at template.fstyle.FStyleFinal.main(FStyleFinal.java:113)\n</code></pre>\n"}],"owner":{"account_id":125744,"reputation":12169,"user_id":321731,"accept_rate":80,"display_name":"tshepang"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":29491,"favorite_count":0,"down_vote_count":1,"up_vote_count":46,"accepted_answer_id":5324531,"answer_count":4,"score":45,"last_activity_date":1633770498,"creation_date":1300271447,"question_id":5324007,"body_markdown":"Here&#39;s two ways of doing string substitution:\r\n\r\n    name = &quot;Tshepang&quot;\r\n    &quot;my name is {}&quot;.format(name)\r\n    &quot;my name is &quot; + name\r\n\r\nHow do I do something similar to the first method, using Java?\r\n    ","title":"Java equivalent of Python&#39;s format()","body":"<p>Here's two ways of doing string substitution:</p>\n\n<pre><code>name = \"Tshepang\"\n\"my name is {}\".format(name)\n\"my name is \" + name\n</code></pre>\n\n<p>How do I do something similar to the first method, using Java?</p>\n"},{"tags":["java","ssl","ibm-mq"],"comments":[{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1584025555,"post_id":60654644,"comment_id":107315209,"body_markdown":"Need more info.  What version of IBM MQ jar files are you using,  check the `MANIFEST.MF` in a `com.ibm.mq*.jar` file.   What specific java version are you using,  provide the output from `java - version`.  Please edit the question and add these details.","body":"Need more info.  What version of IBM MQ jar files are you using,  check the <code>MANIFEST.MF</code> in a <code>com.ibm.mq*.jar</code> file.   What specific java version are you using,  provide the output from <code>java - version</code>.  Please edit the question and add these details."},{"owner":{"account_id":4124812,"reputation":75,"user_id":3384244,"display_name":"Lucross"},"score":0,"creation_date":1584026941,"post_id":60654644,"comment_id":107316004,"body_markdown":"I have updated the question with the details asked for.","body":"I have updated the question with the details asked for."},{"owner":{"account_id":6095312,"reputation":33135,"user_id":4756299,"display_name":"Andrew Henle"},"score":1,"creation_date":1584027272,"post_id":60654644,"comment_id":107316196,"body_markdown":"This jumps out at me:  `Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLSv1`.  See https://stackoverflow.com/questions/33089150/enable-tlsv1-2-and-tls-rsa-with-aes-256-cbc-sha256-cipher-suite  What is the **server** you&#39;re connecting to running?","body":"This jumps out at me:  <code>Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLSv1</code>.  See <a href=\"https://stackoverflow.com/questions/33089150/enable-tlsv1-2-and-tls-rsa-with-aes-256-cbc-sha256-cipher-suite\" title=\"enable tlsv1 2 and tls rsa with aes 256 cbc sha256 cipher suite\">stackoverflow.com/questions/33089150/&hellip;</a>  What is the <b>server</b> you&#39;re connecting to running?"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1584027714,"post_id":60654644,"comment_id":107316475,"body_markdown":"V6 did not support tlsv1.2.  It has also been out of support since 2012. Move to 9.1, it is even on Maven.","body":"V6 did not support tlsv1.2.  It has also been out of support since 2012. Move to 9.1, it is even on Maven."},{"owner":{"account_id":4124812,"reputation":75,"user_id":3384244,"display_name":"Lucross"},"score":0,"creation_date":1584027764,"post_id":60654644,"comment_id":107316505,"body_markdown":"Server is using TLS_RSA_WITH_AES_256_CBC_SHA256 cipher.","body":"Server is using TLS_RSA_WITH_AES_256_CBC_SHA256 cipher."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1584032739,"post_id":60654644,"comment_id":107319077,"body_markdown":"The server would not be v6 then.","body":"The server would not be v6 then."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":1,"creation_date":1584032924,"post_id":60654644,"comment_id":107319154,"body_markdown":"If you want to use TLS1.2 ciphersuites you need to move to a version of jar files that supports it.","body":"If you want to use TLS1.2 ciphersuites you need to move to a version of jar files that supports it."},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1584112497,"post_id":60654644,"comment_id":107345225,"body_markdown":"Did my answer help you resolve your problem?","body":"Did my answer help you resolve your problem?"},{"owner":{"account_id":4124812,"reputation":75,"user_id":3384244,"display_name":"Lucross"},"score":0,"creation_date":1584118864,"post_id":60654644,"comment_id":107348148,"body_markdown":"Yes, I just got it all working now. I had some issue migrating to the newer version of the IBM MQ jar, but those are solved now &amp;the connection was established. Thank you very much for you help!","body":"Yes, I just got it all working now. I had some issue migrating to the newer version of the IBM MQ jar, but those are solved now &amp;the connection was established. Thank you very much for you help!"},{"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"score":0,"creation_date":1584121488,"post_id":60654644,"comment_id":107349254,"body_markdown":"What were the issues?  Was it related to that there is now just a single jar (`com.ibm.mq.allclient.jar`) and the Oracle `jms.jar` vs the older v6 having many different jar files?","body":"What were the issues?  Was it related to that there is now just a single jar (<code>com.ibm.mq.allclient.jar</code>) and the Oracle <code>jms.jar</code> vs the older v6 having many different jar files?"},{"owner":{"account_id":4124812,"reputation":75,"user_id":3384244,"display_name":"Lucross"},"score":0,"creation_date":1584213264,"post_id":60654644,"comment_id":107369859,"body_markdown":"Yeah, that was some of the problem. I needed `jms-api` jar. I also had to load in the mq jar separately on the classpath instead of including it as part of the application. Before that I was getting a `NullPointerException` while trying to create a `new MQQueueConnectionFactory() `.","body":"Yeah, that was some of the problem. I needed <code>jms-api</code> jar. I also had to load in the mq jar separately on the classpath instead of including it as part of the application. Before that I was getting a <code>NullPointerException</code> while trying to create a <code>new MQQueueConnectionFactory() </code>."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1585577430,"post_id":60654644,"comment_id":107801522,"body_markdown":"@TwishaKotecha Please don&#39;t add [unnecessary bold formatting](https://meta.stackoverflow.com/a/327175/6296561) to posts.","body":"@TwishaKotecha Please don&#39;t add <a href=\"https://meta.stackoverflow.com/a/327175/6296561\">unnecessary bold formatting</a> to posts."},{"owner":{"account_id":6473006,"reputation":27420,"user_id":6296561,"accept_rate":95,"display_name":"Zoe is on strike"},"score":0,"creation_date":1585577467,"post_id":60654644,"comment_id":107801546,"body_markdown":"Also, this question has been [indirectly referenced on meta](https://meta.stackoverflow.com/q/395928/6296561) and may experience the meta effect.","body":"Also, this question has been <a href=\"https://meta.stackoverflow.com/q/395928/6296561\">indirectly referenced on meta</a> and may experience the meta effect."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633773949,"post_id":60654644,"comment_id":122853313,"body_markdown":"It doesn&#39;t make any sense to use the same file as both keystore and truststore. They serve completely different purposes. Clearly you don&#39;t have a private key in your truststore: nor should you. You need a private key and its certificate in your *keystore.*","body":"It doesn&#39;t make any sense to use the same file as both keystore and truststore. They serve completely different purposes. Clearly you don&#39;t have a private key in your truststore: nor should you. You need a private key and its certificate in your <i>keystore.</i>"}],"answers":[{"tags":[],"owner":{"account_id":9804285,"reputation":10345,"user_id":7264620,"display_name":"JoshMc"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1584092987,"creation_date":1584037797,"answer_id":60659963,"question_id":60654644,"body_markdown":"You have stated you are using IBM MQ jar files from v6.0.2.5, this went out of support from IBM in September 30th 2012.  See end of this question for additional details on the only CipherSuites that were supported in that old version.\r\n\r\n---\r\n\r\nYou can use Maven to get the current IBM MQ v9.1.0.4 LTS support client at the following link:\r\n\r\n[MVN REPOSITORY &#187; com.ibm.mq  com.ibm.mq.allclient](https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient)\r\n\r\n---\r\n\r\nI checked old documentation saved as PDF and MQ v6 only supported SSL and TLS1.0 ciphers, the list is below:\r\n```\r\nSSL_RSA_WITH_NULL_MD5\r\nSSL_RSA_WITH_NULL_SHA\r\nSSL_RSA_EXPORT_WITH_RC4_40_MD5\r\nSSL_RSA_WITH_RC4_128_MD5\r\nSSL_RSA_WITH_RC4_128_SHA\r\nSSL_RSA_EXPORT_WITH_RC2_CBC_40_MD5\r\nSSL_RSA_WITH_DES_CBC_SHA\r\nSSL_RSA_EXPORT1024_WITH_RC4_56_SHA\r\nSSL_RSA_EXPORT1024_WITH_DES_CBC_SHA\r\nSSL_RSA_WITH_3DES_EDE_CBC_SHA\r\nSSL_RSA_WITH_AES_128_CBC_SHA\r\nSSL_RSA_WITH_AES_256_CBC_SHA\r\nSSL_RSA_WITH_DES_CBC_SHA\r\nSSL_RSA_WITH_3DES_EDE_CBC_SHA\r\nSSL_RSA_FIPS_WITH_DES_CBC_SHA\r\nSSL_RSA_FIPS_WITH_3DES_EDE_CBC_SHA\r\n```","title":"No appropriate protocol (protocol is disabled or cipher suites are inappropriate)","body":"<p>You have stated you are using IBM MQ jar files from v6.0.2.5, this went out of support from IBM in September 30th 2012.  See end of this question for additional details on the only CipherSuites that were supported in that old version.</p>\n\n<hr>\n\n<p>You can use Maven to get the current IBM MQ v9.1.0.4 LTS support client at the following link:</p>\n\n<p><a href=\"https://mvnrepository.com/artifact/com.ibm.mq/com.ibm.mq.allclient\" rel=\"nofollow noreferrer\">MVN REPOSITORY » com.ibm.mq  com.ibm.mq.allclient</a></p>\n\n<hr>\n\n<p>I checked old documentation saved as PDF and MQ v6 only supported SSL and TLS1.0 ciphers, the list is below:</p>\n\n<pre><code>SSL_RSA_WITH_NULL_MD5\nSSL_RSA_WITH_NULL_SHA\nSSL_RSA_EXPORT_WITH_RC4_40_MD5\nSSL_RSA_WITH_RC4_128_MD5\nSSL_RSA_WITH_RC4_128_SHA\nSSL_RSA_EXPORT_WITH_RC2_CBC_40_MD5\nSSL_RSA_WITH_DES_CBC_SHA\nSSL_RSA_EXPORT1024_WITH_RC4_56_SHA\nSSL_RSA_EXPORT1024_WITH_DES_CBC_SHA\nSSL_RSA_WITH_3DES_EDE_CBC_SHA\nSSL_RSA_WITH_AES_128_CBC_SHA\nSSL_RSA_WITH_AES_256_CBC_SHA\nSSL_RSA_WITH_DES_CBC_SHA\nSSL_RSA_WITH_3DES_EDE_CBC_SHA\nSSL_RSA_FIPS_WITH_DES_CBC_SHA\nSSL_RSA_FIPS_WITH_3DES_EDE_CBC_SHA\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16607594,"reputation":27,"user_id":12001568,"display_name":"Pravin Borde"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633769884,"creation_date":1633769231,"answer_id":69505141,"question_id":60654644,"body_markdown":"I was facing same issue in open jdk 1.8 after spending lot of time in searching solution i have resolved it by changing below property from `java.security` file.\r\n```\r\nsecurity.overridePropertiesFile=false\r\n```\r\nChange this property to `false` if it is `true` in your case.","title":"No appropriate protocol (protocol is disabled or cipher suites are inappropriate)","body":"<p>I was facing same issue in open jdk 1.8 after spending lot of time in searching solution i have resolved it by changing below property from <code>java.security</code> file.</p>\n<pre><code>security.overridePropertiesFile=false\n</code></pre>\n<p>Change this property to <code>false</code> if it is <code>true</code> in your case.</p>\n"}],"owner":{"account_id":4124812,"reputation":75,"user_id":3384244,"display_name":"Lucross"},"comment_count":14,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":25363,"favorite_count":0,"down_vote_count":0,"up_vote_count":6,"accepted_answer_id":60659963,"answer_count":2,"score":6,"last_activity_date":1633769884,"creation_date":1584017854,"question_id":60654644,"body_markdown":"I am trying to create a connection to an mq manager that has ssl auth enabled. I am using Java 1.8\r\n\r\nI have this **code**\r\n\r\n    TrustStrategy trustStrategy = new TrustSelfSignedStrategy();\r\n    KeyStore trustStore = KeyStore.getInstance(&quot;JKS&quot;);\r\n    try (FileInputStream fileInputStream = new FileInputStream(propertyReader.getProperty(QUEUE_KEYSTORE))) {\r\n    trustStore.load(fileInputStream, propertyReader.getProperty(QUEUE_KEYSTOREPASS).toCharArray());\r\n    }\r\n    KeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\r\n    kmf.init(trustStore, &quot;changeit&quot;.toCharArray());\r\n    final TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\r\n    tmf.init(trustStore);\r\n    \r\n    final SSLContext sslContext = SSLContext.getInstance(&quot;TLSv1.2&quot;);\r\n    sslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), new SecureRandom());\r\n    \r\n    connectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\r\n    connectionFactory.setHostName(propertyReader.getProperty(QUEUE_HOST));\r\n    connectionFactory.setQueueManager(propertyReader.getProperty(QUEUE_MANAGER));\r\n    connectionFactory.setChannel(propertyReader.getProperty(QUEUE_CHANNEL));\r\n    connectionFactory.setSSLCipherSuite(propertyReader.getProperty(QUEUE_CIPHERSUITE));\r\n    connectionFactory.setPort(Integer.parseInt(propertyReader.getProperty(QUEUE_PORT)));\r\n    connectionFactory.setSSLSocketFactory(sslContext.getSocketFactory());\r\n\r\nWhen I try to create the connection I get this **exception**:\r\n\r\n    com.ibm.mq.MQException: MQJE001: Completion Code 2, Reason 2397\r\n    javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n\r\n\r\n\r\nI can see the following in the **logs**:\r\n\r\n    Allow unsafe renegotiation: false\r\n    Allow legacy hello messages: true\r\n    Is initial handshake: true\r\n    Is secure renegotiation: false\r\n    Ignoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLSv1\r\n    No available cipher suite for TLSv1\r\n    handling exception: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\r\n    SEND TLSv1.2 ALERT:  fatal, description = handshake_failure\r\n    WRITE: TLSv1.2 Alert, length = 2\r\n    [Raw write]: length = 7\r\n    0000: 15 03 03 00 02 02 28                               ......(\r\n    called closeSocket()\r\n\r\nIs this saying that it is still trying to use TLSv1 instead of TLCv1.2?\r\nI have jce unlimited strength enabled in my security file.\r\n\r\nUpdate with details:\r\n\r\nIBM MQ Jar Version: 6.0.2.5\r\n\r\njava version &quot;1.8.0_201&quot;\r\n\r\nJava(TM) SE Runtime Environment (build 1.8.0_201-b26)\r\n","title":"No appropriate protocol (protocol is disabled or cipher suites are inappropriate)","body":"<p>I am trying to create a connection to an mq manager that has ssl auth enabled. I am using Java 1.8</p>\n\n<p>I have this <strong>code</strong></p>\n\n<pre><code>TrustStrategy trustStrategy = new TrustSelfSignedStrategy();\nKeyStore trustStore = KeyStore.getInstance(\"JKS\");\ntry (FileInputStream fileInputStream = new FileInputStream(propertyReader.getProperty(QUEUE_KEYSTORE))) {\ntrustStore.load(fileInputStream, propertyReader.getProperty(QUEUE_KEYSTOREPASS).toCharArray());\n}\nKeyManagerFactory kmf = KeyManagerFactory.getInstance(KeyManagerFactory.getDefaultAlgorithm());\nkmf.init(trustStore, \"changeit\".toCharArray());\nfinal TrustManagerFactory tmf = TrustManagerFactory.getInstance(TrustManagerFactory.getDefaultAlgorithm());\ntmf.init(trustStore);\n\nfinal SSLContext sslContext = SSLContext.getInstance(\"TLSv1.2\");\nsslContext.init(kmf.getKeyManagers(), tmf.getTrustManagers(), new SecureRandom());\n\nconnectionFactory.setTransportType(WMQConstants.WMQ_CM_CLIENT);\nconnectionFactory.setHostName(propertyReader.getProperty(QUEUE_HOST));\nconnectionFactory.setQueueManager(propertyReader.getProperty(QUEUE_MANAGER));\nconnectionFactory.setChannel(propertyReader.getProperty(QUEUE_CHANNEL));\nconnectionFactory.setSSLCipherSuite(propertyReader.getProperty(QUEUE_CIPHERSUITE));\nconnectionFactory.setPort(Integer.parseInt(propertyReader.getProperty(QUEUE_PORT)));\nconnectionFactory.setSSLSocketFactory(sslContext.getSocketFactory());\n</code></pre>\n\n<p>When I try to create the connection I get this <strong>exception</strong>:</p>\n\n<pre><code>com.ibm.mq.MQException: MQJE001: Completion Code 2, Reason 2397\njavax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\n</code></pre>\n\n<p>I can see the following in the <strong>logs</strong>:</p>\n\n<pre><code>Allow unsafe renegotiation: false\nAllow legacy hello messages: true\nIs initial handshake: true\nIs secure renegotiation: false\nIgnoring unsupported cipher suite: TLS_RSA_WITH_AES_256_CBC_SHA256 for TLSv1\nNo available cipher suite for TLSv1\nhandling exception: javax.net.ssl.SSLHandshakeException: No appropriate protocol (protocol is disabled or cipher suites are inappropriate)\nSEND TLSv1.2 ALERT:  fatal, description = handshake_failure\nWRITE: TLSv1.2 Alert, length = 2\n[Raw write]: length = 7\n0000: 15 03 03 00 02 02 28                               ......(\ncalled closeSocket()\n</code></pre>\n\n<p>Is this saying that it is still trying to use TLSv1 instead of TLCv1.2?\nI have jce unlimited strength enabled in my security file.</p>\n\n<p>Update with details:</p>\n\n<p>IBM MQ Jar Version: 6.0.2.5</p>\n\n<p>java version \"1.8.0_201\"</p>\n\n<p>Java(TM) SE Runtime Environment (build 1.8.0_201-b26)</p>\n"},{"tags":["java","maven-2","maven"],"answers":[{"tags":[],"owner":{"account_id":26957,"reputation":564361,"user_id":70604,"display_name":"Pascal Thivent"},"down_vote_count":1,"up_vote_count":19,"is_accepted":true,"score":18,"last_activity_date":1435346044,"creation_date":1285730375,"answer_id":3818499,"question_id":3818481,"body_markdown":"&gt; Is it possible to set MAVEN_OPTS in command line like mvn MAVEN_OPTS=...\r\n\r\nNo, MAVEN_OPTS is an environment variable, you can&#39;t set it on the command line. But you there is an alternative. Instead of `mvn`, you can simply run `mvnDebug` (a little variation of the former script that set debug options):\r\n\r\n&lt;pre&gt;\r\n$ mvnDebug jetty:run\r\nPreparing to Execute Maven in Debug Mode\r\nListening for transport dt_socket at address: 8000\r\n&lt;/pre&gt;\r\n\r\nI find this alternative pretty handy, and easier.","title":"Debugging maven without losing MAVEN_OPTS variable","body":"<blockquote>\n  <p>Is it possible to set MAVEN_OPTS in command line like mvn MAVEN_OPTS=...</p>\n</blockquote>\n\n<p>No, MAVEN_OPTS is an environment variable, you can't set it on the command line. But you there is an alternative. Instead of <code>mvn</code>, you can simply run <code>mvnDebug</code> (a little variation of the former script that set debug options):</p>\n\n<pre>\n$ mvnDebug jetty:run\nPreparing to Execute Maven in Debug Mode\nListening for transport dt_socket at address: 8000\n</pre>\n\n<p>I find this alternative pretty handy, and easier.</p>\n"},{"tags":[],"owner":{"account_id":105981,"reputation":8849,"user_id":282538,"accept_rate":94,"display_name":"Andy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1285733792,"creation_date":1285730842,"answer_id":3818519,"question_id":3818481,"body_markdown":"I encountered this problem, and my solution was to create a .bat file to set the maven opts, and then start jetty.\r\n\r\n    call set MAVEN_OPTS=-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,address=8484,server=y,suspend=n %MAVEN_OPTS%\r\n    call mvn jetty:run-war -DskipTests=true\r\n\r\n\r\nMy IDE of choice is Eclipse, so I use the run button with the tool box to call the .bat files.  Here is a [question on running a .bat file.][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/1090355/how-to-run-a-batch-script-bat-file-from-eclipse ","title":"Debugging maven without losing MAVEN_OPTS variable","body":"<p>I encountered this problem, and my solution was to create a .bat file to set the maven opts, and then start jetty.</p>\n\n<pre><code>call set MAVEN_OPTS=-Xdebug -Xnoagent -Xrunjdwp:transport=dt_socket,address=8484,server=y,suspend=n %MAVEN_OPTS%\ncall mvn jetty:run-war -DskipTests=true\n</code></pre>\n\n<p>My IDE of choice is Eclipse, so I use the run button with the tool box to call the .bat files.  Here is a <a href=\"https://stackoverflow.com/questions/1090355/how-to-run-a-batch-script-bat-file-from-eclipse\">question on running a .bat file.</a> </p>\n"},{"tags":[],"owner":{"account_id":29774,"reputation":9066,"user_id":80711,"accept_rate":75,"display_name":"Henryk Konsek"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1633769416,"creation_date":1285758541,"answer_id":3821020,"question_id":3818481,"body_markdown":"Under Windows - I don&#39;t know. Under Linux/Bash - yes you can:\r\n\r\n    export MAVEN_OPTS=&quot;-Xnoagent -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000&quot;\r\n    mvn jetty:run\r\n\r\n","title":"Debugging maven without losing MAVEN_OPTS variable","body":"<p>Under Windows - I don't know. Under Linux/Bash - yes you can:</p>\n<pre><code>export MAVEN_OPTS=&quot;-Xnoagent -Xrunjdwp:transport=dt_socket,server=y,suspend=y,address=8000&quot;\nmvn jetty:run\n</code></pre>\n"},{"tags":[],"owner":{"account_id":412840,"reputation":2495,"user_id":786136,"accept_rate":63,"display_name":"rharter"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1350075327,"creation_date":1311793554,"answer_id":6849809,"question_id":3818481,"body_markdown":"Under Windows you should be able to do the following from the command prompt:\r\n\r\n    set MAVEN_OPTS=&lt;options you want to add&gt; %MAVEN_OPTS%\r\n    mvn jetty:run\r\n\r\nUnder Mac/Linux/Unix you can use export from the Terminal:\r\n\r\n    export MAVEN_OPTS=&lt;options you want to add&gt; $MAVEN_OPTS\r\n    mvn jetty:run\r\n\r\nNot sure about how to do single use exports in Windows, but on Unix like operating systems you can just prepend the variable to your command (this works for any environment variable you want to add).\r\n \r\n    MAVEN_OPTS=&quot;option1 option2&quot; mvn jetty:run","title":"Debugging maven without losing MAVEN_OPTS variable","body":"<p>Under Windows you should be able to do the following from the command prompt:</p>\n\n<pre><code>set MAVEN_OPTS=&lt;options you want to add&gt; %MAVEN_OPTS%\nmvn jetty:run\n</code></pre>\n\n<p>Under Mac/Linux/Unix you can use export from the Terminal:</p>\n\n<pre><code>export MAVEN_OPTS=&lt;options you want to add&gt; $MAVEN_OPTS\nmvn jetty:run\n</code></pre>\n\n<p>Not sure about how to do single use exports in Windows, but on Unix like operating systems you can just prepend the variable to your command (this works for any environment variable you want to add).</p>\n\n<pre><code>MAVEN_OPTS=\"option1 option2\" mvn jetty:run\n</code></pre>\n"}],"owner":{"account_id":200226,"reputation":17730,"user_id":448452,"accept_rate":70,"display_name":"robinmag"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":26609,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":3818499,"answer_count":4,"score":7,"last_activity_date":1633769416,"creation_date":1285729851,"question_id":3818481,"body_markdown":"rI want to run jetty:run in debug mode with MAVEN_OPTS setted in environment variable. But it seams like hardcode MAVEN_OPTS. Is it possible to set MAVEN_OPTS in command line like `mvn MAVEN_OPTS=...`\r\n\r\n\r\nThank you.","title":"Debugging maven without losing MAVEN_OPTS variable","body":"<p>rI want to run jetty:run in debug mode with MAVEN_OPTS setted in environment variable. But it seams like hardcode MAVEN_OPTS. Is it possible to set MAVEN_OPTS in command line like <code>mvn MAVEN_OPTS=...</code></p>\n\n<p>Thank you.</p>\n"},{"tags":["java","selenium"],"comments":[{"owner":{"account_id":2772450,"reputation":22416,"user_id":2386774,"display_name":"JeffC"},"score":0,"creation_date":1490374734,"post_id":42994648,"comment_id":73099771,"body_markdown":"Can you give us a little info on why there are 50 different links? Are the links always on the page or are they dynamic?","body":"Can you give us a little info on why there are 50 different links? Are the links always on the page or are they dynamic?"}],"answers":[{"tags":[],"owner":{"account_id":10524187,"reputation":57,"user_id":7755691,"display_name":"FreakTester"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490344521,"creation_date":1490344521,"answer_id":42994780,"question_id":42994648,"body_markdown":"    public class Login_Page {\r\n\t\r\n\t\r\n\tprivate static WebElement element = null;\r\n\r\n\t\r\n\t//username\r\n\tpublic static WebElement Textbox_UserName (WebDriver driver)\r\n\t{\r\n\t\r\n\t\telement = driver.findElement(By.id(&quot;username&quot;));\r\n\t\r\n\t\treturn element;\r\n\t\t\r\n\t}\r\n\r\n\r\nNow on the Test Case method just call this: \r\n\r\n    @Test \r\n    public void Llogin()\r\n    {\r\n     //initiate webdriver \r\n     //driver.get(&quot;url&quot;)\r\n     Login_page.Textbox_UserName(driver).sendKeys(&quot;username&quot;)\r\n    }\r\n","title":"Writing generic methods for Selenium Page Object Model Framework","body":"<pre><code>public class Login_Page {\n\n\nprivate static WebElement element = null;\n\n\n//username\npublic static WebElement Textbox_UserName (WebDriver driver)\n{\n\n    element = driver.findElement(By.id(\"username\"));\n\n    return element;\n\n}\n</code></pre>\n\n<p>Now on the Test Case method just call this: </p>\n\n<pre><code>@Test \npublic void Llogin()\n{\n //initiate webdriver \n //driver.get(\"url\")\n Login_page.Textbox_UserName(driver).sendKeys(\"username\")\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2922851,"reputation":12071,"user_id":2504762,"accept_rate":38,"display_name":"Gaurang Shah"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1490347109,"creation_date":1490347109,"answer_id":42995555,"question_id":42994648,"body_markdown":"how about this, make your identifier static, and then call pass them from your test. Though I won&#39;t advice as then test can change the identifier and it would be hard to understand why test are failing. \r\n\r\n**Your Page Object Class**\r\n\r\n    public class GoogleSearch {\r\n        @FindBy(name=&quot;q&quot;)\r\n        static WebElement searchBox;\r\n        public GoogleSearch(WebDriver driver){\r\n            PageFactory.initElements(driver, this);\r\n            driver.get(&quot;https://www.google.com&quot;);\r\n        }\r\n        public void enterText(WebElement element, String text){\r\n            element.sendKeys(text);\r\n        }\r\n    }\r\n\r\nAnd this how your **test class** should look like \r\n\r\n    public class GoogleTest {\r\n    \r\n        WebDriver driver;\r\n        @BeforeMethod\r\n        public void setup(){\r\n            driver = new FirefoxDriver();\r\n        }\r\n    \r\n        @AfterMethod\r\n        public void tearDown(){\r\n            driver.quit();\r\n        }\r\n    \r\n        @Test\r\n        public void SearchOnGoogle(){\r\n    \r\n            GoogleSearch googleSearchPage = PageFactory.initElements(driver, GoogleSearch.class);\r\n            googleSearchPage.enterText(GoogleSearch.searchBox, &quot;selenium webdriver&quot;);\r\n    \r\n        }\r\n    }\r\n\r\nTo further refine you can have this **enterText** method in **BasePage** and each and every page object can Extend this **BasePage Class**","title":"Writing generic methods for Selenium Page Object Model Framework","body":"<p>how about this, make your identifier static, and then call pass them from your test. Though I won't advice as then test can change the identifier and it would be hard to understand why test are failing. </p>\n\n<p><strong>Your Page Object Class</strong></p>\n\n<pre><code>public class GoogleSearch {\n    @FindBy(name=\"q\")\n    static WebElement searchBox;\n    public GoogleSearch(WebDriver driver){\n        PageFactory.initElements(driver, this);\n        driver.get(\"https://www.google.com\");\n    }\n    public void enterText(WebElement element, String text){\n        element.sendKeys(text);\n    }\n}\n</code></pre>\n\n<p>And this how your <strong>test class</strong> should look like </p>\n\n<pre><code>public class GoogleTest {\n\n    WebDriver driver;\n    @BeforeMethod\n    public void setup(){\n        driver = new FirefoxDriver();\n    }\n\n    @AfterMethod\n    public void tearDown(){\n        driver.quit();\n    }\n\n    @Test\n    public void SearchOnGoogle(){\n\n        GoogleSearch googleSearchPage = PageFactory.initElements(driver, GoogleSearch.class);\n        googleSearchPage.enterText(GoogleSearch.searchBox, \"selenium webdriver\");\n\n    }\n}\n</code></pre>\n\n<p>To further refine you can have this <strong>enterText</strong> method in <strong>BasePage</strong> and each and every page object can Extend this <strong>BasePage Class</strong></p>\n"},{"tags":[],"owner":{"account_id":9296472,"reputation":3349,"user_id":6903223,"accept_rate":67,"display_name":"Kushal Bhalaik"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1490347149,"creation_date":1490347149,"answer_id":42995570,"question_id":42994648,"body_markdown":"You can use something like following:\r\n    \r\n    public class Login_Page {\r\n    \r\n    \r\n    @FindBy(id = &quot;someId1&quot;)\r\n    WebElement link1;\r\n    \r\n    @FindBy(id = &quot;someId2&quot;)\r\n    WebElement link2;\r\n    \r\n    //constructor\r\n    public Login_Page(driver) {\r\n        PageFactory.initElements(driver, this);\r\n    }\r\n\r\n    //Generic Click method\r\n    public boolean genericClick(WebDriver driver, WebElement elementToBeClicked)\r\n    {\r\n    \r\n        try{\r\n    \r\n         elementToBeClicked.click();\r\n\r\n         return true;\r\n    }\r\n    catch(Exception e){\r\n\r\n         return false;\r\n    }\r\n    \r\n    }\r\n\r\nNow in the Test method:\r\n    \r\n    @Test \r\n    public void LoginTest()\r\n    {\r\n     Webdriver driver = new FirefoxDriver();\r\n     driver.get(&quot;someurl&quot;)\r\n\r\n     Login_Page lp = new Login_Page(driver);\r\n     lp.genericClick(driver, lp.link1);\r\n    }","title":"Writing generic methods for Selenium Page Object Model Framework","body":"<p>You can use something like following:</p>\n\n<pre><code>public class Login_Page {\n\n\n@FindBy(id = \"someId1\")\nWebElement link1;\n\n@FindBy(id = \"someId2\")\nWebElement link2;\n\n//constructor\npublic Login_Page(driver) {\n    PageFactory.initElements(driver, this);\n}\n\n//Generic Click method\npublic boolean genericClick(WebDriver driver, WebElement elementToBeClicked)\n{\n\n    try{\n\n     elementToBeClicked.click();\n\n     return true;\n}\ncatch(Exception e){\n\n     return false;\n}\n\n}\n</code></pre>\n\n<p>Now in the Test method:</p>\n\n<pre><code>@Test \npublic void LoginTest()\n{\n Webdriver driver = new FirefoxDriver();\n driver.get(\"someurl\")\n\n Login_Page lp = new Login_Page(driver);\n lp.genericClick(driver, lp.link1);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5522371,"reputation":1,"user_id":4384928,"display_name":"mudaseer ahmed"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633769360,"creation_date":1633769360,"answer_id":69505154,"question_id":42994648,"body_markdown":"    `enter code here`    public class Rediffregistrationpage {\r\n    \t                  WebDriver driver;\r\n    \r\n    \t                     public Rediffregistrationpage(WebDriver driver) {\r\n     \t\t                 this.driver=driver;\r\n                              }\r\n    \t\r\n    \t                     //method to enter the text in the text box \r\n    \t               public void Entertext(String labelname,int n,String text) {\r\n                 try {\r\n             String  \r\n            texts=&quot;//td[contains(text(),&#39;&quot;+labelname+&quot;&#39;)]//following::input[&quot;+n+&quot;]&quot;;\r\n    \t\t//td[contains(text(),&#39;Enter the text&#39;)]//following::input[1]\r\n    \t\tBy tex=By.xpath(texts);\r\n    \t\tdriver.findElement(tex).sendKeys(text);\r\n    \t\t\r\n    \t}\r\n    \t\tcatch(NoSuchElementException e){\r\n    \t\t\t\r\n    \t\t\te.printStackTrace();\r\n    \t\t}\r\n    \t}\r\n    \t\t\r\n    \t\t//method to select element from dropdown\r\n    \t\t\r\n    \t\tpublic void selecttextfromdrop(String parameter,String value) {\r\n    \t\t\t\r\n    \t\t\ttry {\r\n    \t\t\tString par=&quot;//select[contains(@name,&#39;&quot;+parameter+&quot;&#39;)]&quot;;\r\n    \t\t\tWebElement para=driver.findElement(By.xpath(par));\r\n    \t\t\tSelect s=new Select(para);\r\n    \t\t\ts.selectByVisibleText(value);\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t\t\r\n    \t\t}\r\n    \t\t\tcatch(Exception e) {\r\n    \t\t\t\t\r\n    \t\t\t\te.printStackTrace();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\tpublic void clickonlink(String text) {\r\n    \t\t\t\t\r\n    \t\t\t\tdriver.findElement(By.linkText(text)).click();\r\n    \t\t\t\t\r\n    \t\t\t\r\n    \t\t\r\n    \t\t\r\n    }\r\n    \t\t\t\r\n    \t\t\tpublic void switchtotherwindow(int num) {\r\n    \t\t\t\tSet&lt;String&gt;it=driver.getWindowHandles();\r\n    \t\t\t\tIterator&lt;String&gt;id=it.iterator();\r\n    \t\t\t\tArrayList&lt;String&gt;a=new ArrayList&lt;String&gt;();\r\n    \t\t\t\twhile(id.hasNext()) {\r\n    \t\t\t\ta.add(id.next());\r\n    \t\t\t\t\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t\tdriver.switchTo().window(a.get(num));\r\n    \t\t\t\tSystem.out.println(a.get(num));\r\n    \t\t\t\t//driver.switchTo().window(a.get(Integer.parseInt(num)));\r\n    \t\t\t\tSystem.out.println(&quot;Switched to   &quot;+num+&quot; window&quot;);\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\tpublic void gettitleofpage() {\r\n    \t\t\t\tString title=driver.getTitle();\r\n    \t\t\t\tSystem.out.println(&quot;title is &quot;+title);\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\tpublic void clickonbutton(String clname) {\r\n    \t\t\t\tdriver.findElement(By.className(clname)).click();\r\n    \t\t\t}\r\n    \t\t\tpublic void validatetext(String textexpected,String tex) {\r\n    \t\t\t\t\r\n    \t\t\t\tString  textactual=driver.findElement(By.xpath(tex)).getText();\r\n    \t\t\t\tAssert.assertEquals(textactual,textexpected);\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n    }\r\n    \r\n    \r\n    \r\n    public class Testrediff {\r\n    \t@Test\r\n    \tpublic void registration() throws InterruptedException, AWTException {\r\n    \t\t\r\n    \r\n    \t\t \r\n     \r\n     \r\n     \r\n     \r\n     \r\n     \r\n     \r\n     System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\HP\\\\Downloads\\\\chromedriver \r\n     _win32 (4)\\\\chromedriver.exe&quot;);\r\n    \t\tWebDriver driver=new ChromeDriver();\r\n    \t\tdriver.manage().timeouts().implicitlyWait(15,TimeUnit.SECONDS);\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tdriver.get(&quot;https://register.rediff.com/register/register.php?F \r\n            ormName=user_details&quot;);\r\n    \t\tRediffregistrationpage red=new Rediffregistrationpage(driver);\r\n    \t\tred.Entertext(&quot;Full Name&quot;, 1,&quot;Mudaseer&quot;);\r\n    \t\tred.Entertext(&quot;Mobile No&quot;, 2,&quot;9845712345&quot;);\r\n    \t\tred.selecttextfromdrop(&quot;DOB_Day&quot;, &quot;05&quot;);\r\n    \t\tred.selecttextfromdrop(&quot;DOB_Month&quot;, &quot;MAY&quot;);\r\n    \t\tred.selecttextfromdrop(&quot;DOB_Year&quot;, &quot;2003&quot;);\r\n    \t\tred.selecttextfromdrop(&quot;country&quot;, &quot;India&quot;);\r\n    \t\tred.selecttextfromdrop(&quot;city&quot;, &quot;Bangalore&quot;);\r\n    \t\tred.clickonlink(&quot;terms and conditions&quot;);\r\n    \t\t\r\n    \t\tred.switchtotherwindow(1);\r\n    \t\tdriver.manage().window().maximize();\r\n    \t\tred.gettitleofpage();\r\n    \t\tred.switchtotherwindow(0);\r\n    \t\tred.gettitleofpage();\r\n    \t\tred.clickonbutton(&quot;btn_checkavail&quot;);\r\n    \t\tred.validatetext(&quot;The ID cannot be blank. Please choose your desired ID.&quot;,&quot;//b[contains(text(),&#39;The ID&#39;)]&quot;);\r\n    \t\tred.Entertext(&quot;Choose&quot;, 1,&quot;##&quot;);\r\n    \t\tred.clickonbutton(&quot;btn_checkavail&quot;);\r\n    \t    red.validatetext(&quot;The ID contains invalid character(s). Please choose \r\n               another ID.&quot;,&quot;//b[contains(text(),&#39;The ID&#39;)]&quot;);\r\n    \t\t\r\n    \t\t\r\n    \t\t\r\n    \r\n    \r\n    }\r\n    }","title":"Writing generic methods for Selenium Page Object Model Framework","body":"<pre><code>`enter code here`    public class Rediffregistrationpage {\n                      WebDriver driver;\n\n                         public Rediffregistrationpage(WebDriver driver) {\n                         this.driver=driver;\n                          }\n    \n                         //method to enter the text in the text box \n                   public void Entertext(String labelname,int n,String text) {\n             try {\n         String  \n        texts=&quot;//td[contains(text(),'&quot;+labelname+&quot;')]//following::input[&quot;+n+&quot;]&quot;;\n        //td[contains(text(),'Enter the text')]//following::input[1]\n        By tex=By.xpath(texts);\n        driver.findElement(tex).sendKeys(text);\n        \n    }\n        catch(NoSuchElementException e){\n            \n            e.printStackTrace();\n        }\n    }\n        \n        //method to select element from dropdown\n        \n        public void selecttextfromdrop(String parameter,String value) {\n            \n            try {\n            String par=&quot;//select[contains(@name,'&quot;+parameter+&quot;')]&quot;;\n            WebElement para=driver.findElement(By.xpath(par));\n            Select s=new Select(para);\n            s.selectByVisibleText(value);\n            \n            \n            \n        }\n            catch(Exception e) {\n                \n                e.printStackTrace();\n            }\n        }\n            public void clickonlink(String text) {\n                \n                driver.findElement(By.linkText(text)).click();\n                \n            \n        \n        \n}\n            \n            public void switchtotherwindow(int num) {\n                Set&lt;String&gt;it=driver.getWindowHandles();\n                Iterator&lt;String&gt;id=it.iterator();\n                ArrayList&lt;String&gt;a=new ArrayList&lt;String&gt;();\n                while(id.hasNext()) {\n                a.add(id.next());\n                \n                }\n                \n                driver.switchTo().window(a.get(num));\n                System.out.println(a.get(num));\n                //driver.switchTo().window(a.get(Integer.parseInt(num)));\n                System.out.println(&quot;Switched to   &quot;+num+&quot; window&quot;);\n            }\n            \n            public void gettitleofpage() {\n                String title=driver.getTitle();\n                System.out.println(&quot;title is &quot;+title);\n                \n            }\n            public void clickonbutton(String clname) {\n                driver.findElement(By.className(clname)).click();\n            }\n            public void validatetext(String textexpected,String tex) {\n                \n                String  textactual=driver.findElement(By.xpath(tex)).getText();\n                Assert.assertEquals(textactual,textexpected);\n                \n                \n                \n                \n                \n            }\n            \n            \n}\n\n\n\npublic class Testrediff {\n    @Test\n    public void registration() throws InterruptedException, AWTException {\n        \n\n         \n \n \n \n \n \n \n \n System.setProperty(&quot;webdriver.chrome.driver&quot;,&quot;C:\\\\Users\\\\HP\\\\Downloads\\\\chromedriver \n _win32 (4)\\\\chromedriver.exe&quot;);\n        WebDriver driver=new ChromeDriver();\n        driver.manage().timeouts().implicitlyWait(15,TimeUnit.SECONDS);\n        driver.manage().window().maximize();\n        driver.get(&quot;https://register.rediff.com/register/register.php?F \n        ormName=user_details&quot;);\n        Rediffregistrationpage red=new Rediffregistrationpage(driver);\n        red.Entertext(&quot;Full Name&quot;, 1,&quot;Mudaseer&quot;);\n        red.Entertext(&quot;Mobile No&quot;, 2,&quot;9845712345&quot;);\n        red.selecttextfromdrop(&quot;DOB_Day&quot;, &quot;05&quot;);\n        red.selecttextfromdrop(&quot;DOB_Month&quot;, &quot;MAY&quot;);\n        red.selecttextfromdrop(&quot;DOB_Year&quot;, &quot;2003&quot;);\n        red.selecttextfromdrop(&quot;country&quot;, &quot;India&quot;);\n        red.selecttextfromdrop(&quot;city&quot;, &quot;Bangalore&quot;);\n        red.clickonlink(&quot;terms and conditions&quot;);\n        \n        red.switchtotherwindow(1);\n        driver.manage().window().maximize();\n        red.gettitleofpage();\n        red.switchtotherwindow(0);\n        red.gettitleofpage();\n        red.clickonbutton(&quot;btn_checkavail&quot;);\n        red.validatetext(&quot;The ID cannot be blank. Please choose your desired ID.&quot;,&quot;//b[contains(text(),'The ID')]&quot;);\n        red.Entertext(&quot;Choose&quot;, 1,&quot;##&quot;);\n        red.clickonbutton(&quot;btn_checkavail&quot;);\n        red.validatetext(&quot;The ID contains invalid character(s). Please choose \n           another ID.&quot;,&quot;//b[contains(text(),'The ID')]&quot;);\n        \n        \n        \n\n\n}\n}\n</code></pre>\n"}],"owner":{"account_id":7239328,"reputation":59,"user_id":5523384,"accept_rate":57,"display_name":"Shrik97"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10551,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":42995570,"answer_count":4,"score":1,"last_activity_date":1633769360,"creation_date":1490343964,"question_id":42994648,"body_markdown":"I&#39;m following page object model where in I have placed all the WebElement addresses and methods  i.e id, xpath etc in the page.\r\nExample:  On a login page we have username field, password field and login button. So all these will be on the LoginPage.java. This page includes the methods that use the Webelements as well. So from the actual test case I&#39;m just calling methods that are defined on the page. Now here&#39;s my dilemma. I have several test steps that need me to click on an element. \r\nSo say i need to click on Link1, Link2 and Link3. Right now what I&#39;m doing is writing a separate method for each step and keeping them on the pagelike below:\r\n\r\n\t@FindBy(id = &quot;someId1&quot;)\r\n\tWebElement link1;\r\n\r\n    @FindBy(id = &quot;someId2&quot;)\r\n\tWebElement link2;\r\n\r\n\r\n    public void clickOnLink1(){\r\n        link1.click();\r\n    }\r\n\r\n    public void clickOnLink2(){\r\n        link2.click();\r\n    }\r\n\r\nTestcase:\r\n\r\n    clickOnLink1();\r\n\r\n    clickOnLink2();\r\n\r\nSo if i have 50 steps that need me to click on 50 different elements i would need 50 different methods and this is highly improper and inefficient. I could use a generic method like below:\r\n\r\n    public void clickOnElement(WebElement element) {\r\n        element.click();\r\n    }\r\n\r\nI can pass the element i want to be clicked to this method and it would do it for me. \r\n\r\nUnfortunately as i said before I&#39;m following page object model so all the WebElement addresses like id exist on the page and not on the test case hence i cannot use this method since i would need to pass the webelement from the test case.\r\n\r\nCould someone please help me with a different approach.\r\n\r\nThank you","title":"Writing generic methods for Selenium Page Object Model Framework","body":"<p>I'm following page object model where in I have placed all the WebElement addresses and methods  i.e id, xpath etc in the page.\nExample:  On a login page we have username field, password field and login button. So all these will be on the LoginPage.java. This page includes the methods that use the Webelements as well. So from the actual test case I'm just calling methods that are defined on the page. Now here's my dilemma. I have several test steps that need me to click on an element. \nSo say i need to click on Link1, Link2 and Link3. Right now what I'm doing is writing a separate method for each step and keeping them on the pagelike below:</p>\n\n<pre><code>@FindBy(id = \"someId1\")\nWebElement link1;\n\n@FindBy(id = \"someId2\")\nWebElement link2;\n\n\npublic void clickOnLink1(){\n    link1.click();\n}\n\npublic void clickOnLink2(){\n    link2.click();\n}\n</code></pre>\n\n<p>Testcase:</p>\n\n<pre><code>clickOnLink1();\n\nclickOnLink2();\n</code></pre>\n\n<p>So if i have 50 steps that need me to click on 50 different elements i would need 50 different methods and this is highly improper and inefficient. I could use a generic method like below:</p>\n\n<pre><code>public void clickOnElement(WebElement element) {\n    element.click();\n}\n</code></pre>\n\n<p>I can pass the element i want to be clicked to this method and it would do it for me. </p>\n\n<p>Unfortunately as i said before I'm following page object model so all the WebElement addresses like id exist on the page and not on the test case hence i cannot use this method since i would need to pass the webelement from the test case.</p>\n\n<p>Could someone please help me with a different approach.</p>\n\n<p>Thank you</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"score":0,"creation_date":1633765262,"post_id":69504657,"comment_id":122851672,"body_markdown":"Does this answer your question? [Empty integer array in java](https://stackoverflow.com/questions/51666751/empty-integer-array-in-java)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/51666751/empty-integer-array-in-java\">Empty integer array in java</a>"},{"owner":{"account_id":406060,"reputation":21895,"user_id":775345,"accept_rate":96,"display_name":"Robert Moskal"},"score":0,"creation_date":1633765386,"post_id":69504657,"comment_id":122851691,"body_markdown":"This tells you what you want to know. https://stackoverflow.com/questions/51666751/empty-integer-array-in-java. But if I passed an array into a function that returned an empty array on an error condition, is I be pissed!","body":"This tells you what you want to know. <a href=\"https://stackoverflow.com/questions/51666751/empty-integer-array-in-java\" title=\"empty integer array in java\">stackoverflow.com/questions/51666751/&hellip;</a>. But if I passed an array into a function that returned an empty array on an error condition, is I be pissed!"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1633771375,"post_id":69504657,"comment_id":122852765,"body_markdown":"It is happening because you aren&#39;t returning an `int` array from a method that is supposed to return one. Surely this is obvious?","body":"It is happening because you aren&#39;t returning an <code>int</code> array from a method that is supposed to return one. Surely this is obvious?"}],"answers":[{"tags":[],"owner":{"account_id":3617666,"reputation":308,"user_id":3017150,"display_name":"Mina Ramezani"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633766067,"creation_date":1633765360,"answer_id":69504728,"question_id":69504657,"body_markdown":"you can (return null) or (return new int[]{}), but the best way is to throw an exception:\r\n\r\n    public int[] solution(int[] A, int K) throws IllegalArgumentException{\r\n        if (K &lt; 0 || K &gt;= A.length) {\r\n            throw new IllegalArgumentException(&quot;K is invalid&quot;);\r\n        }\r\n\r\n        for (int i = 0; i &lt; K; i++) {\r\n            int last = A[A.length - 1];\r\n            System.arraycopy(A, 0, A, 1, A.length - 2 + 1);\r\n\r\n            A[0] = last;\r\n        }\r\n        return A;\r\n    }","title":"How to exit a function with return type int[]?","body":"<p>you can (return null) or (return new int[]{}), but the best way is to throw an exception:</p>\n<pre><code>public int[] solution(int[] A, int K) throws IllegalArgumentException{\n    if (K &lt; 0 || K &gt;= A.length) {\n        throw new IllegalArgumentException(&quot;K is invalid&quot;);\n    }\n\n    for (int i = 0; i &lt; K; i++) {\n        int last = A[A.length - 1];\n        System.arraycopy(A, 0, A, 1, A.length - 2 + 1);\n\n        A[0] = last;\n    }\n    return A;\n}\n</code></pre>\n"}],"owner":{"display_name":"user13121564"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":107,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1633769335,"creation_date":1633764736,"question_id":69504657,"body_markdown":"I was doing a basic program of right rotation of array and for base condition, I wanted to exit the function with `return`. However, it is giving an error that type is not valid.\r\n \r\nCan anyone explain why this is happening? \r\n\r\n    import java.util.*;\r\n    \r\n    public class RightRotationArray{\r\n     public int[] solution(int[] A, int K) {\r\n       if (K &lt; 0 || K &gt;= A.length) {\r\n             return; // error showing here.\r\n         }\r\n    \r\n         for (int i = 0; i &lt; K; i++) {\r\n             int last = A[A.length - 1];\r\n             for (int j = A.length - 2; j &gt;= 0; j--) {\r\n                 A[j + 1] = A[j];\r\n             }\r\n    \r\n         A[0] = last;\r\n             \r\n         }\r\n         return A;\r\n     }\r\n    }","title":"How to exit a function with return type int[]?","body":"<p>I was doing a basic program of right rotation of array and for base condition, I wanted to exit the function with <code>return</code>. However, it is giving an error that type is not valid.</p>\n<p>Can anyone explain why this is happening?</p>\n<pre><code>import java.util.*;\n\npublic class RightRotationArray{\n public int[] solution(int[] A, int K) {\n   if (K &lt; 0 || K &gt;= A.length) {\n         return; // error showing here.\n     }\n\n     for (int i = 0; i &lt; K; i++) {\n         int last = A[A.length - 1];\n         for (int j = A.length - 2; j &gt;= 0; j--) {\n             A[j + 1] = A[j];\n         }\n\n     A[0] = last;\n         \n     }\n     return A;\n }\n}\n</code></pre>\n"},{"tags":["java","android","android-activity","interface","android-fragmentactivity"],"comments":[{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1502732070,"post_id":45679740,"comment_id":78317556,"body_markdown":"MainActivity extends AppCompatActivity *implements SendData*...","body":"MainActivity extends AppCompatActivity <i>implements SendData</i>..."},{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1502732117,"post_id":45679740,"comment_id":78317581,"body_markdown":"Because it&#39;s the Activity you attempt to cast to SendData","body":"Because it&#39;s the Activity you attempt to cast to SendData"},{"owner":{"account_id":6203389,"reputation":129,"user_id":4832353,"accept_rate":17,"display_name":"Yavuz"},"score":0,"creation_date":1502732305,"post_id":45679740,"comment_id":78317675,"body_markdown":"Okay i did implement but what shall i write? clearly specify please","body":"Okay i did implement but what shall i write? clearly specify please"},{"owner":{"account_id":6476838,"reputation":12880,"user_id":5015207,"accept_rate":83,"display_name":"B&#246; macht Blau"},"score":0,"creation_date":1502732660,"post_id":45679740,"comment_id":78317843,"body_markdown":"Did you add the &quot;implements SendData&quot; part? And does it compile?","body":"Did you add the &quot;implements SendData&quot; part? And does it compile?"}],"answers":[{"tags":[],"owner":{"account_id":7292081,"reputation":13504,"user_id":5558150,"accept_rate":100,"display_name":"Bhuvanesh BS"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1502732634,"creation_date":1502732634,"answer_id":45680061,"question_id":45679740,"body_markdown":"You have to set your Interface by calling your activity.\r\n\r\nYour **MainActivity** should be like this.\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private String text ;\r\n    private TextView textView, textView2,textView3,textView4;\r\n    private SearchView searchView;\r\n    private ListView listView ;\r\n    private SendData sendData; // initialize it globally\r\n\r\n    private String[] il={&quot;Adana&quot;, &quot;Adıyaman&quot;, &quot;Afyon&quot;, &quot;Ağrı&quot;, &quot;Amasya&quot;, &quot;Ankara&quot;, &quot;Antalya&quot;, &quot;Artvin&quot;,\r\n            &quot;Aydın&quot;, &quot;Balıkesir&quot;, &quot;Bilecik&quot;, &quot;Bing&#246;l&quot;, &quot;Bitlis&quot;, &quot;Bolu&quot;, &quot;Burdur&quot;, &quot;Bursa&quot;, &quot;&#199;anakkale&quot;,\r\n            &quot;&#199;ankırı&quot;, &quot;&#199;orum&quot;, &quot;Denizli&quot;, &quot;Diyarbakır&quot;, &quot;Edirne&quot;, &quot;Elazığ&quot;, &quot;Erzincan&quot;, &quot;Erzurum&quot;, &quot;Eskişehir&quot;,\r\n            &quot;Gaziantep&quot;, &quot;Giresun&quot;, &quot;G&#252;m&#252;şhane&quot;, &quot;Hakkari&quot;, &quot;Hatay&quot;, &quot;Isparta&quot;, &quot;Mersin&quot;, &quot;İstanbul&quot;, &quot;İzmir&quot;,\r\n            &quot;Kars&quot;, &quot;Kastamonu&quot;, &quot;Kayseri&quot;, &quot;Kırklareli&quot;, &quot;Kırşehir&quot;, &quot;Kocaeli&quot;, &quot;Konya&quot;, &quot;K&#252;tahya&quot;, &quot;Malatya&quot;,\r\n            &quot;Manisa&quot;, &quot;Kahramanmaraş&quot;, &quot;Mardin&quot;, &quot;Muğla&quot;, &quot;Muş&quot;, &quot;Nevşehir&quot;, &quot;Niğde&quot;, &quot;Ordu&quot;, &quot;Rize&quot;, &quot;Sakarya&quot;,\r\n            &quot;Samsun&quot;, &quot;Siirt&quot;, &quot;Sinop&quot;, &quot;Sivas&quot;, &quot;Tekirdağ&quot;, &quot;Tokat&quot;, &quot;Trabzon&quot;, &quot;Tunceli&quot;, &quot;Şanlıurfa&quot;, &quot;Uşak&quot;,\r\n            &quot;Van&quot;, &quot;Yozgat&quot;, &quot;Zonguldak&quot;, &quot;Aksaray&quot;, &quot;Bayburt&quot;, &quot;Karaman&quot;, &quot;Kırıkkale&quot;, &quot;Batman&quot;, &quot;Şırnak&quot;,\r\n            &quot;Bartın&quot;, &quot;Ardahan&quot;, &quot;Iğdır&quot;, &quot;Yalova&quot;, &quot;Karab&#252;k&quot;, &quot;Kilis&quot;, &quot;Osmaniye&quot;, &quot;D&#252;zce&quot;};\r\n    private ArrayAdapter&lt;String&gt; arrayAdapter;\r\n\r\n    public void setSendData(SendData sendData){     //create setter for interface\r\n        this.sendData = sendData;\r\n    }\r\n    \r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n    \r\n    \r\n        searchView= (SearchView) findViewById(R.id.searchView);\r\n        listView= (ListView) findViewById(R.id.listView);\r\n        FragmentA fragmentA = new FragmentA() ;\r\n        FragmentManager fragmentManager = getFragmentManager();\r\n        FragmentTransaction transaction = fragmentManager.beginTransaction();\r\n        transaction.add(R.id.frameLayout,fragmentA,&quot;fragA&quot;);\r\n        transaction.commit();\r\n    \r\n        arrayAdapter=new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1,android.R.id.text1,il);\r\n        listView.setAdapter(arrayAdapter);\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n    \r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                arrayAdapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n        });\r\n    \r\n    \r\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, final int position, long id) {\r\n                text = (String) listView.getItemAtPosition(position);\r\n                sendData.gonder(text);\r\n    \r\n            }\r\n        });\r\n    }\r\n\r\nYour **Fragment** should be like this.\r\n\r\n    public class FragmentA extends Fragment implements SendData {\r\n    private TextView textView, textView2,textView3,textView4;\r\n    \r\n    View view ;\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\r\n        view = inflater.inflate(R.layout.fragment_a,container,false) ;\r\n    \r\n        textView4= (TextView) view. findViewById(R.id.textIsım);\r\n        textView3= (TextView) view.findViewById(R.id.textView3);\r\n        textView2= (TextView) view.findViewById(R.id.textView2);\r\n        textView= (TextView) view. findViewById(R.id.textView);\r\n        if(getActivity() instanceOf MainActivity)\r\n           (MainActivity)getActivity().setSendData(this);  //set your interface in MainActivity\r\n        return view;\r\n    }\r\n    \r\n    @Override\r\n    public void gonder(String isim) {\r\n        Factory.getInstance().havaModel(isim,APPID_KEY).enqueue(new Callback&lt;HavaModel&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;HavaModel&gt; call, Response&lt;HavaModel&gt; response) {\r\n                textView.setText(Float.toString((float) (response.body().main.temp-273.15)));\r\n                textView2.setText(Float.toString(response.body().coord.lon));\r\n                textView3.setText(Integer.toString(response.body().main.humidity)+&quot; %&quot;);\r\n                textView4.setText(response.body().name);\r\n    \r\n            }\r\n    \r\n            @Override\r\n            public void onFailure(Call&lt;HavaModel&gt; call, Throwable t) {\r\n    \r\n            }\r\n        });\r\n    }\r\n\r\nHope it helps:)","title":"Activity send data to Fragment with interface","body":"<p>You have to set your Interface by calling your activity.</p>\n\n<p>Your <strong>MainActivity</strong> should be like this.</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate String text ;\nprivate TextView textView, textView2,textView3,textView4;\nprivate SearchView searchView;\nprivate ListView listView ;\nprivate SendData sendData; // initialize it globally\n\nprivate String[] il={\"Adana\", \"Adıyaman\", \"Afyon\", \"Ağrı\", \"Amasya\", \"Ankara\", \"Antalya\", \"Artvin\",\n        \"Aydın\", \"Balıkesir\", \"Bilecik\", \"Bingöl\", \"Bitlis\", \"Bolu\", \"Burdur\", \"Bursa\", \"Çanakkale\",\n        \"Çankırı\", \"Çorum\", \"Denizli\", \"Diyarbakır\", \"Edirne\", \"Elazığ\", \"Erzincan\", \"Erzurum\", \"Eskişehir\",\n        \"Gaziantep\", \"Giresun\", \"Gümüşhane\", \"Hakkari\", \"Hatay\", \"Isparta\", \"Mersin\", \"İstanbul\", \"İzmir\",\n        \"Kars\", \"Kastamonu\", \"Kayseri\", \"Kırklareli\", \"Kırşehir\", \"Kocaeli\", \"Konya\", \"Kütahya\", \"Malatya\",\n        \"Manisa\", \"Kahramanmaraş\", \"Mardin\", \"Muğla\", \"Muş\", \"Nevşehir\", \"Niğde\", \"Ordu\", \"Rize\", \"Sakarya\",\n        \"Samsun\", \"Siirt\", \"Sinop\", \"Sivas\", \"Tekirdağ\", \"Tokat\", \"Trabzon\", \"Tunceli\", \"Şanlıurfa\", \"Uşak\",\n        \"Van\", \"Yozgat\", \"Zonguldak\", \"Aksaray\", \"Bayburt\", \"Karaman\", \"Kırıkkale\", \"Batman\", \"Şırnak\",\n        \"Bartın\", \"Ardahan\", \"Iğdır\", \"Yalova\", \"Karabük\", \"Kilis\", \"Osmaniye\", \"Düzce\"};\nprivate ArrayAdapter&lt;String&gt; arrayAdapter;\n\npublic void setSendData(SendData sendData){     //create setter for interface\n    this.sendData = sendData;\n}\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n    searchView= (SearchView) findViewById(R.id.searchView);\n    listView= (ListView) findViewById(R.id.listView);\n    FragmentA fragmentA = new FragmentA() ;\n    FragmentManager fragmentManager = getFragmentManager();\n    FragmentTransaction transaction = fragmentManager.beginTransaction();\n    transaction.add(R.id.frameLayout,fragmentA,\"fragA\");\n    transaction.commit();\n\n    arrayAdapter=new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1,android.R.id.text1,il);\n    listView.setAdapter(arrayAdapter);\n    searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n            arrayAdapter.getFilter().filter(newText);\n            return false;\n        }\n    });\n\n\n    listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, final int position, long id) {\n            text = (String) listView.getItemAtPosition(position);\n            sendData.gonder(text);\n\n        }\n    });\n}\n</code></pre>\n\n<p>Your <strong>Fragment</strong> should be like this.</p>\n\n<pre><code>public class FragmentA extends Fragment implements SendData {\nprivate TextView textView, textView2,textView3,textView4;\n\nView view ;\n@Nullable\n@Override\npublic View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\n    view = inflater.inflate(R.layout.fragment_a,container,false) ;\n\n    textView4= (TextView) view. findViewById(R.id.textIsım);\n    textView3= (TextView) view.findViewById(R.id.textView3);\n    textView2= (TextView) view.findViewById(R.id.textView2);\n    textView= (TextView) view. findViewById(R.id.textView);\n    if(getActivity() instanceOf MainActivity)\n       (MainActivity)getActivity().setSendData(this);  //set your interface in MainActivity\n    return view;\n}\n\n@Override\npublic void gonder(String isim) {\n    Factory.getInstance().havaModel(isim,APPID_KEY).enqueue(new Callback&lt;HavaModel&gt;() {\n        @Override\n        public void onResponse(Call&lt;HavaModel&gt; call, Response&lt;HavaModel&gt; response) {\n            textView.setText(Float.toString((float) (response.body().main.temp-273.15)));\n            textView2.setText(Float.toString(response.body().coord.lon));\n            textView3.setText(Integer.toString(response.body().main.humidity)+\" %\");\n            textView4.setText(response.body().name);\n\n        }\n\n        @Override\n        public void onFailure(Call&lt;HavaModel&gt; call, Throwable t) {\n\n        }\n    });\n}\n</code></pre>\n\n<p>Hope it helps:)</p>\n"}],"owner":{"account_id":6203389,"reputation":129,"user_id":4832353,"accept_rate":17,"display_name":"Yavuz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4359,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":45680061,"answer_count":1,"score":1,"last_activity_date":1633768927,"creation_date":1502731307,"question_id":45679740,"body_markdown":"I want to activity send fragment.[![enter image description here][1]][1] I have a error you see below photo. Activity to fragment data send. i want to do when listView onClick my fragment that il value temp data. Fragment want to see humidity value ,temp value when setOnItemClickListener \r\n\r\nMainActivity.java\r\n\r\n\r\n\r\n\r\n\r\n    public class MainActivity extends AppCompatActivity {\r\n    private String text ;\r\n    private TextView textView, textView2,textView3,textView4;\r\n    private SearchView searchView;\r\n    private ListView listView ;\r\n    private String[] il={&quot;Adana&quot;, &quot;Adıyaman&quot;, &quot;Afyon&quot;, &quot;Ağrı&quot;, &quot;Amasya&quot;, &quot;Ankara&quot;, &quot;Antalya&quot;, &quot;Artvin&quot;,\r\n            &quot;Aydın&quot;, &quot;Balıkesir&quot;, &quot;Bilecik&quot;, &quot;Bing&#246;l&quot;, &quot;Bitlis&quot;, &quot;Bolu&quot;, &quot;Burdur&quot;, &quot;Bursa&quot;, &quot;&#199;anakkale&quot;,\r\n            &quot;&#199;ankırı&quot;, &quot;&#199;orum&quot;, &quot;Denizli&quot;, &quot;Diyarbakır&quot;, &quot;Edirne&quot;, &quot;Elazığ&quot;, &quot;Erzincan&quot;, &quot;Erzurum&quot;, &quot;Eskişehir&quot;,\r\n            &quot;Gaziantep&quot;, &quot;Giresun&quot;, &quot;G&#252;m&#252;şhane&quot;, &quot;Hakkari&quot;, &quot;Hatay&quot;, &quot;Isparta&quot;, &quot;Mersin&quot;, &quot;İstanbul&quot;, &quot;İzmir&quot;,\r\n            &quot;Kars&quot;, &quot;Kastamonu&quot;, &quot;Kayseri&quot;, &quot;Kırklareli&quot;, &quot;Kırşehir&quot;, &quot;Kocaeli&quot;, &quot;Konya&quot;, &quot;K&#252;tahya&quot;, &quot;Malatya&quot;,\r\n            &quot;Manisa&quot;, &quot;Kahramanmaraş&quot;, &quot;Mardin&quot;, &quot;Muğla&quot;, &quot;Muş&quot;, &quot;Nevşehir&quot;, &quot;Niğde&quot;, &quot;Ordu&quot;, &quot;Rize&quot;, &quot;Sakarya&quot;,\r\n            &quot;Samsun&quot;, &quot;Siirt&quot;, &quot;Sinop&quot;, &quot;Sivas&quot;, &quot;Tekirdağ&quot;, &quot;Tokat&quot;, &quot;Trabzon&quot;, &quot;Tunceli&quot;, &quot;Şanlıurfa&quot;, &quot;Uşak&quot;,\r\n            &quot;Van&quot;, &quot;Yozgat&quot;, &quot;Zonguldak&quot;, &quot;Aksaray&quot;, &quot;Bayburt&quot;, &quot;Karaman&quot;, &quot;Kırıkkale&quot;, &quot;Batman&quot;, &quot;Şırnak&quot;,\r\n            &quot;Bartın&quot;, &quot;Ardahan&quot;, &quot;Iğdır&quot;, &quot;Yalova&quot;, &quot;Karab&#252;k&quot;, &quot;Kilis&quot;, &quot;Osmaniye&quot;, &quot;D&#252;zce&quot;};\r\n    private ArrayAdapter&lt;String&gt; arrayAdapter;\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_main);\r\n\r\n\r\n        searchView= (SearchView) findViewById(R.id.searchView);\r\n        listView= (ListView) findViewById(R.id.listView);\r\n\r\n        final SendData sendData = (SendData) this;\r\n        FragmentA fragmentA = new FragmentA() ;\r\n        FragmentManager fragmentManager = getFragmentManager();\r\n        FragmentTransaction transaction = fragmentManager.beginTransaction();\r\n        transaction.add(R.id.frameLayout,fragmentA,&quot;fragA&quot;);\r\n        transaction.commit();\r\n\r\n\r\n\r\n\r\n        arrayAdapter=new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1,android.R.id.text1,il);\r\n        listView.setAdapter(arrayAdapter);\r\n        searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\r\n            @Override\r\n            public boolean onQueryTextSubmit(String query) {\r\n                return false;\r\n            }\r\n\r\n            @Override\r\n            public boolean onQueryTextChange(String newText) {\r\n                arrayAdapter.getFilter().filter(newText);\r\n                return false;\r\n            }\r\n        });\r\n\r\n\r\n        listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\r\n            @Override\r\n            public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, final int position, long id) {\r\n                text = (String) listView.getItemAtPosition(position);\r\n                sendData.gonder(text);\r\n\r\n            }\r\n        });\r\n\r\n\r\n\r\n\r\n\r\n    }\r\n}\r\n\r\n\r\nFragmentA.java\r\n\r\n   \r\n\r\n\r\n    public class FragmentA extends Fragment implements SendData {\r\n    private TextView textView, textView2,textView3,textView4;\r\n\r\n    View view ;\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\r\n        view = inflater.inflate(R.layout.fragment_a,container,false) ;\r\n\r\n        textView4= (TextView) view. findViewById(R.id.textIsım);\r\n        textView3= (TextView) view.findViewById(R.id.textView3);\r\n        textView2= (TextView) view.findViewById(R.id.textView2);\r\n        textView= (TextView) view. findViewById(R.id.textView);\r\n        return view;\r\n    }\r\n\r\n    @Override\r\n    public void gonder(String isim) {\r\n        Factory.getInstance().havaModel(isim,APPID_KEY).enqueue(new Callback&lt;HavaModel&gt;() {\r\n            @Override\r\n            public void onResponse(Call&lt;HavaModel&gt; call, Response&lt;HavaModel&gt; response) {\r\n                textView.setText(Float.toString((float) (response.body().main.temp-273.15)));\r\n                textView2.setText(Float.toString(response.body().coord.lon));\r\n                textView3.setText(Integer.toString(response.body().main.humidity)+&quot; %&quot;);\r\n                textView4.setText(response.body().name);\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onFailure(Call&lt;HavaModel&gt; call, Throwable t) {\r\n\r\n            }\r\n        });\r\n    }\r\n\r\n\r\nSendData.java\r\n\r\n\r\n\r\n\r\n    public interface SendData {\r\n    public void gonder(String isim) ;\r\n     }\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/M7tkC.png\r\n\r\n\r\nThank you very much\r\nYour advice important for me \r\nI hope you will help me","title":"Activity send data to Fragment with interface","body":"<p>I want to activity send fragment.<a href=\"https://i.stack.imgur.com/M7tkC.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/M7tkC.png\" alt=\"enter image description here\"></a> I have a error you see below photo. Activity to fragment data send. i want to do when listView onClick my fragment that il value temp data. Fragment want to see humidity value ,temp value when setOnItemClickListener </p>\n\n<p>MainActivity.java</p>\n\n<pre><code>public class MainActivity extends AppCompatActivity {\nprivate String text ;\nprivate TextView textView, textView2,textView3,textView4;\nprivate SearchView searchView;\nprivate ListView listView ;\nprivate String[] il={\"Adana\", \"Adıyaman\", \"Afyon\", \"Ağrı\", \"Amasya\", \"Ankara\", \"Antalya\", \"Artvin\",\n        \"Aydın\", \"Balıkesir\", \"Bilecik\", \"Bingöl\", \"Bitlis\", \"Bolu\", \"Burdur\", \"Bursa\", \"Çanakkale\",\n        \"Çankırı\", \"Çorum\", \"Denizli\", \"Diyarbakır\", \"Edirne\", \"Elazığ\", \"Erzincan\", \"Erzurum\", \"Eskişehir\",\n        \"Gaziantep\", \"Giresun\", \"Gümüşhane\", \"Hakkari\", \"Hatay\", \"Isparta\", \"Mersin\", \"İstanbul\", \"İzmir\",\n        \"Kars\", \"Kastamonu\", \"Kayseri\", \"Kırklareli\", \"Kırşehir\", \"Kocaeli\", \"Konya\", \"Kütahya\", \"Malatya\",\n        \"Manisa\", \"Kahramanmaraş\", \"Mardin\", \"Muğla\", \"Muş\", \"Nevşehir\", \"Niğde\", \"Ordu\", \"Rize\", \"Sakarya\",\n        \"Samsun\", \"Siirt\", \"Sinop\", \"Sivas\", \"Tekirdağ\", \"Tokat\", \"Trabzon\", \"Tunceli\", \"Şanlıurfa\", \"Uşak\",\n        \"Van\", \"Yozgat\", \"Zonguldak\", \"Aksaray\", \"Bayburt\", \"Karaman\", \"Kırıkkale\", \"Batman\", \"Şırnak\",\n        \"Bartın\", \"Ardahan\", \"Iğdır\", \"Yalova\", \"Karabük\", \"Kilis\", \"Osmaniye\", \"Düzce\"};\nprivate ArrayAdapter&lt;String&gt; arrayAdapter;\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_main);\n\n\n    searchView= (SearchView) findViewById(R.id.searchView);\n    listView= (ListView) findViewById(R.id.listView);\n\n    final SendData sendData = (SendData) this;\n    FragmentA fragmentA = new FragmentA() ;\n    FragmentManager fragmentManager = getFragmentManager();\n    FragmentTransaction transaction = fragmentManager.beginTransaction();\n    transaction.add(R.id.frameLayout,fragmentA,\"fragA\");\n    transaction.commit();\n\n\n\n\n    arrayAdapter=new ArrayAdapter&lt;String&gt;(this,android.R.layout.simple_list_item_1,android.R.id.text1,il);\n    listView.setAdapter(arrayAdapter);\n    searchView.setOnQueryTextListener(new SearchView.OnQueryTextListener() {\n        @Override\n        public boolean onQueryTextSubmit(String query) {\n            return false;\n        }\n\n        @Override\n        public boolean onQueryTextChange(String newText) {\n            arrayAdapter.getFilter().filter(newText);\n            return false;\n        }\n    });\n\n\n    listView.setOnItemClickListener(new AdapterView.OnItemClickListener() {\n        @Override\n        public void onItemClick(AdapterView&lt;?&gt; adapterView, View view, final int position, long id) {\n            text = (String) listView.getItemAtPosition(position);\n            sendData.gonder(text);\n\n        }\n    });\n\n\n\n\n\n}\n</code></pre>\n\n<p>}</p>\n\n<p>FragmentA.java</p>\n\n<pre><code>public class FragmentA extends Fragment implements SendData {\nprivate TextView textView, textView2,textView3,textView4;\n\nView view ;\n@Nullable\n@Override\npublic View onCreateView(LayoutInflater inflater, @Nullable ViewGroup container, Bundle savedInstanceState) {\n    view = inflater.inflate(R.layout.fragment_a,container,false) ;\n\n    textView4= (TextView) view. findViewById(R.id.textIsım);\n    textView3= (TextView) view.findViewById(R.id.textView3);\n    textView2= (TextView) view.findViewById(R.id.textView2);\n    textView= (TextView) view. findViewById(R.id.textView);\n    return view;\n}\n\n@Override\npublic void gonder(String isim) {\n    Factory.getInstance().havaModel(isim,APPID_KEY).enqueue(new Callback&lt;HavaModel&gt;() {\n        @Override\n        public void onResponse(Call&lt;HavaModel&gt; call, Response&lt;HavaModel&gt; response) {\n            textView.setText(Float.toString((float) (response.body().main.temp-273.15)));\n            textView2.setText(Float.toString(response.body().coord.lon));\n            textView3.setText(Integer.toString(response.body().main.humidity)+\" %\");\n            textView4.setText(response.body().name);\n\n        }\n\n        @Override\n        public void onFailure(Call&lt;HavaModel&gt; call, Throwable t) {\n\n        }\n    });\n}\n</code></pre>\n\n<p>SendData.java</p>\n\n<pre><code>public interface SendData {\npublic void gonder(String isim) ;\n }\n</code></pre>\n\n<p>Thank you very much\nYour advice important for me \nI hope you will help me</p>\n"},{"tags":["java","flutter","http","post","httprequest"],"comments":[{"owner":{"account_id":215715,"reputation":3329,"user_id":470517,"accept_rate":86,"display_name":"Aydin K."},"score":0,"creation_date":1633715848,"post_id":69499938,"comment_id":122842817,"body_markdown":"Why do you need to calculate it manually? Usually this is being done by the underlying used http library.","body":"Why do you need to calculate it manually? Usually this is being done by the underlying used http library."},{"owner":{"account_id":215715,"reputation":3329,"user_id":470517,"accept_rate":86,"display_name":"Aydin K."},"score":1,"creation_date":1633716060,"post_id":69499938,"comment_id":122842886,"body_markdown":"You may try one of those solutions: https://stackoverflow.com/questions/50089550/flutter-httpclient-post-contentlength-exception","body":"You may try one of those solutions: <a href=\"https://stackoverflow.com/questions/50089550/flutter-httpclient-post-contentlength-exception\" title=\"flutter httpclient post contentlength exception\">stackoverflow.com/questions/50089550/&hellip;</a>"},{"owner":{"account_id":8485529,"reputation":103,"user_id":6363796,"accept_rate":25,"display_name":"Ali Yılmaz"},"score":0,"creation_date":1633716821,"post_id":69499938,"comment_id":122843144,"body_markdown":"Thanks, I will try","body":"Thanks, I will try"},{"owner":{"account_id":8485529,"reputation":103,"user_id":6363796,"accept_rate":25,"display_name":"Ali Yılmaz"},"score":0,"creation_date":1633716873,"post_id":69499938,"comment_id":122843167,"body_markdown":"Do you know any library that can calculate it ?  Thanks","body":"Do you know any library that can calculate it ?  Thanks"}],"answers":[{"tags":[],"owner":{"account_id":1474271,"reputation":1908,"user_id":1385083,"accept_rate":57,"display_name":"Jamie"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633746247,"creation_date":1633746247,"answer_id":69503272,"question_id":69499938,"body_markdown":"You don&#39;t need to make a list of integer...\r\n\r\n    String bodyStr = &quot;...&quot;;\r\n    byte[] bytes = bodyStr.getBytes(Charset.forName(&quot;UTF-8&quot;));\r\n    int len = bytes.length;\r\n    response.setContentLength(len);\r\n    response.getOutputStream().write(bytes);\r\n\r\nThis example is using the HttpServletResponse object from a HttpServlet.  Not sure if that&#39;s what you need.\r\n\r\nI have used this a fair amount, it works well.","title":"How to calculate Content-Length of a request body of a Http Post Request","body":"<p>You don't need to make a list of integer...</p>\n<pre><code>String bodyStr = &quot;...&quot;;\nbyte[] bytes = bodyStr.getBytes(Charset.forName(&quot;UTF-8&quot;));\nint len = bytes.length;\nresponse.setContentLength(len);\nresponse.getOutputStream().write(bytes);\n</code></pre>\n<p>This example is using the HttpServletResponse object from a HttpServlet.  Not sure if that's what you need.</p>\n<p>I have used this a fair amount, it works well.</p>\n"},{"tags":[],"owner":{"account_id":20696658,"reputation":36,"user_id":15196715,"display_name":"king1982"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633768382,"creation_date":1633768382,"answer_id":69505050,"question_id":69499938,"body_markdown":"I encapsulated it myself. Generally, I don&#39;t need to calculate it. Unless it&#39;s a special occasion.\r\nOkhttp3 is recommended","title":"How to calculate Content-Length of a request body of a Http Post Request","body":"<p>I encapsulated it myself. Generally, I don't need to calculate it. Unless it's a special occasion.\nOkhttp3 is recommended</p>\n"}],"owner":{"account_id":8485529,"reputation":103,"user_id":6363796,"accept_rate":25,"display_name":"Ali Yılmaz"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2678,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1633768382,"creation_date":1633715637,"question_id":69499938,"body_markdown":"I am trying to calculate the Content-Length of the request body of a http post request but I keep getting error that indicated wrong Content-Length. Request body looks like following: \r\n  \r\n\r\n    Map&lt;String, String&gt; body = {\r\n      &#39;grant_type&#39;: &#39;authorization_code&#39;,\r\n      &#39;client_id&#39;: &#39;clientid&#39;,\r\n      &#39;code&#39;: authCode,\r\n      &#39;redirect_uri&#39;: &#39;http://localhost:8080/login/callback&#39;,\r\n      &#39;code_verifier&#39;:\r\n          &#39;codeverifier&#39;,\r\n    };\r\n\r\nI tried couple solutions like concatenating content of the body into one string such as following and then convert it into byte array and send the length of it but it didn&#39;t work.\r\n\r\n    String bodyStr = &quot;grant_type:authorization_code&quot; +\r\n        &quot;client_id:clientid&quot; +\r\n        &quot;code:{$authCode}&quot; +\r\n        &quot;redirect_uri:http://localhost:8080/login/callback&quot; +\r\n        &quot;code_verifier:codeverifier&quot;;\r\n        List&lt;int&gt; bytes = utf8.encode(bodyStr);\r\n\r\nThe post request body is x-www-form-urlencoded format and content length has to be calculated correctly. Any help is appreciated, thanks.","title":"How to calculate Content-Length of a request body of a Http Post Request","body":"<p>I am trying to calculate the Content-Length of the request body of a http post request but I keep getting error that indicated wrong Content-Length. Request body looks like following:</p>\n<pre><code>Map&lt;String, String&gt; body = {\n  'grant_type': 'authorization_code',\n  'client_id': 'clientid',\n  'code': authCode,\n  'redirect_uri': 'http://localhost:8080/login/callback',\n  'code_verifier':\n      'codeverifier',\n};\n</code></pre>\n<p>I tried couple solutions like concatenating content of the body into one string such as following and then convert it into byte array and send the length of it but it didn't work.</p>\n<pre><code>String bodyStr = &quot;grant_type:authorization_code&quot; +\n    &quot;client_id:clientid&quot; +\n    &quot;code:{$authCode}&quot; +\n    &quot;redirect_uri:http://localhost:8080/login/callback&quot; +\n    &quot;code_verifier:codeverifier&quot;;\n    List&lt;int&gt; bytes = utf8.encode(bodyStr);\n</code></pre>\n<p>The post request body is x-www-form-urlencoded format and content length has to be calculated correctly. Any help is appreciated, thanks.</p>\n"},{"tags":["java","c#","quartz-scheduler","quartz.net"],"answers":[{"tags":[],"owner":{"account_id":5953740,"reputation":6324,"user_id":4681060,"accept_rate":75,"display_name":"Krzysztof Cichocki"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633768348,"creation_date":1565002692,"answer_id":57357205,"question_id":57357174,"body_markdown":"Yes, it automatically removes these triggers.\r\nI&#39;ve found some documentation for this topic: https://www.quartz-scheduler.org/api/2.1.7/org/quartz/SimpleTrigger.html\r\n\r\nthere is a line stating:\r\n\r\n&gt;   **int \tgetRepeatCount()**\r\n&gt;            Get the the number of times the SimpleTrigger should repeat, after which it will be automatically deleted.","title":"Does the quartz scheduler delete triggers?","body":"<p>Yes, it automatically removes these triggers.\nI've found some documentation for this topic: <a href=\"https://www.quartz-scheduler.org/api/2.1.7/org/quartz/SimpleTrigger.html\" rel=\"nofollow noreferrer\">https://www.quartz-scheduler.org/api/2.1.7/org/quartz/SimpleTrigger.html</a></p>\n<p>there is a line stating:</p>\n<blockquote>\n<p><strong>int   getRepeatCount()</strong>\nGet the the number of times the SimpleTrigger should repeat, after which it will be automatically deleted.</p>\n</blockquote>\n"}],"owner":{"account_id":16450496,"reputation":13,"user_id":11884038,"display_name":"ihaveaquestion"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":2201,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"accepted_answer_id":57357205,"answer_count":1,"score":0,"last_activity_date":1633768348,"creation_date":1565002595,"question_id":57357174,"body_markdown":"I basically want to know, if the scheduler itself deletes triggers after they have fired if there are not any other points in time where they would ever fire again?\r\nI need to know this so that I know how to tidy up after a job has been executed.\r\n\r\nI have already read through many posts about triggers and jobs. I have also read through all the official quartz lessons. Only thing I found out there was that jobs can be deleted if you set their property &quot;durable&quot; to false when there are no more triggers pointing to it.. That is also how my question came up on how or when the scheduler deletes its triggers","title":"Does the quartz scheduler delete triggers?","body":"<p>I basically want to know, if the scheduler itself deletes triggers after they have fired if there are not any other points in time where they would ever fire again?\nI need to know this so that I know how to tidy up after a job has been executed.</p>\n\n<p>I have already read through many posts about triggers and jobs. I have also read through all the official quartz lessons. Only thing I found out there was that jobs can be deleted if you set their property \"durable\" to false when there are no more triggers pointing to it.. That is also how my question came up on how or when the scheduler deletes its triggers</p>\n"},{"tags":["java","debugging","intellij-idea","jetbrains-ide"],"comments":[{"owner":{"account_id":11179248,"reputation":11900,"user_id":8203759,"display_name":"Konstantin Annikov"},"score":0,"creation_date":1633919423,"post_id":69503889,"comment_id":122879703,"body_markdown":"Can you close the popup with Esc, or click to the editor?","body":"Can you close the popup with Esc, or click to the editor?"},{"owner":{"account_id":5240687,"reputation":1727,"user_id":4187837,"accept_rate":86,"display_name":"Gavin"},"score":0,"creation_date":1634029337,"post_id":69503889,"comment_id":122910526,"body_markdown":"You could also try dragging to the tabs at the bottom of the IntelliJ window","body":"You could also try dragging to the tabs at the bottom of the IntelliJ window"}],"owner":{"account_id":19508027,"reputation":11,"user_id":14272569,"display_name":"Yashvardhan Tomar"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":62,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633768331,"creation_date":1633755684,"question_id":69503889,"body_markdown":"\r\n[![This is the Image][1]][1]\r\n\r\nWhenever I open my IntelliJ to write a code the debug tool window is open and I&#39;m unable to write any code the image link is referred to above. How can I close this window? \r\n\r\n\r\n  [1]: https://i.stack.imgur.com/teejE.png","title":"How to close Debug tool window in IntelliJ IDE","body":"<p><a href=\"https://i.stack.imgur.com/teejE.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/teejE.png\" alt=\"This is the Image\" /></a></p>\n<p>Whenever I open my IntelliJ to write a code the debug tool window is open and I'm unable to write any code the image link is referred to above. How can I close this window?</p>\n"},{"tags":["java","spring","hibernate","spring-data"],"comments":[{"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"score":0,"creation_date":1493626127,"post_id":43621984,"comment_id":74475663,"body_markdown":"don&#39;t forget to accept the answer that helped you...","body":"don&#39;t forget to accept the answer that helped you..."}],"answers":[{"tags":[],"owner":{"account_id":3232496,"reputation":5178,"user_id":2727401,"accept_rate":33,"display_name":"fujy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493160297,"creation_date":1493160297,"answer_id":43622185,"question_id":43621984,"body_markdown":"According to [`UpdateTimestamp`][1] documentation\r\n\r\n&gt; Marks a property as the update timestamp of the containing entity. The property value will be set to the current VM date whenever the owning entity is updated. \r\n\r\n\r\nI guess you will have to remove it and do it manually on the required occassions\r\n\r\n  [1]: https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/annotations/UpdateTimestamp.html","title":"Updating time when saving a field","body":"<p>According to <a href=\"https://docs.jboss.org/hibernate/orm/4.3/javadocs/org/hibernate/annotations/UpdateTimestamp.html\" rel=\"nofollow noreferrer\"><code>UpdateTimestamp</code></a> documentation</p>\n\n<blockquote>\n  <p>Marks a property as the update timestamp of the containing entity. The property value will be set to the current VM date whenever the owning entity is updated. </p>\n</blockquote>\n\n<p>I guess you will have to remove it and do it manually on the required occassions</p>\n"},{"tags":[],"owner":{"account_id":384402,"reputation":1902,"user_id":740888,"display_name":"httPants"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1493170166,"creation_date":1493170166,"answer_id":43623514,"question_id":43621984,"body_markdown":"You&#39;re using a bulk update statement, which means the User entity isn&#39;t managed by the entity manager while performing that update, and so the timestamp won&#39;t be automatically updated.\r\n\r\nThe following would cause the timestamp to be updated...\r\n\r\n    User user = userRepository.findOne(userId);\r\n    user.setEmail(email);\r\n    userRepository.save(user);","title":"Updating time when saving a field","body":"<p>You're using a bulk update statement, which means the User entity isn't managed by the entity manager while performing that update, and so the timestamp won't be automatically updated.</p>\n\n<p>The following would cause the timestamp to be updated...</p>\n\n<pre><code>User user = userRepository.findOne(userId);\nuser.setEmail(email);\nuserRepository.save(user);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7020942,"reputation":28614,"user_id":5380322,"accept_rate":62,"display_name":"Cepr0"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633767850,"creation_date":1493293417,"answer_id":43656794,"question_id":43621984,"body_markdown":"Try to use this (not tested):\r\n```\r\n@Transactional\r\n@Modifying\r\n@Query(&quot;\r\n    update User e \r\n    set e.email = :email, \r\n    e.updateDate = ?#{T(java.sql.Timestamp).valueOf(\r\n        T(java.time.LocalDateTime).now()\r\n    )}\r\n    where e.id = :id\r\n&quot;)\r\npublic void setEmail(@Param(&quot;id&quot;) Long id, @Param(&quot;email&quot;) String email);\r\n```\r\n[SpEL support in Spring Data JPA @Query definitions](https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions)\r\n\r\nOr even this variant:\r\n```\r\n@Transactional\r\n@Modifying\r\n@Query(&quot;\r\n    update User e set \r\n    e.email = :email, \r\n    e.updateDate = :curTime \r\n    where e.id = :id\r\n&quot;)\r\nvoid setEmail(\r\n    @Param(&quot;id&quot;) Long id, \r\n    @Param(&quot;email&quot;) String email, \r\n    @Param(&quot;curTime&quot;) Timestamp curTime)\r\n)\r\n\r\ndefault void setEmail(Long id, String email) {\r\n    setEmail(id, email, Timestamp.valueOf(LocalDateTime.now()));\r\n}\r\n```","title":"Updating time when saving a field","body":"<p>Try to use this (not tested):</p>\n<pre><code>@Transactional\n@Modifying\n@Query(&quot;\n    update User e \n    set e.email = :email, \n    e.updateDate = ?#{T(java.sql.Timestamp).valueOf(\n        T(java.time.LocalDateTime).now()\n    )}\n    where e.id = :id\n&quot;)\npublic void setEmail(@Param(&quot;id&quot;) Long id, @Param(&quot;email&quot;) String email);\n</code></pre>\n<p><a href=\"https://spring.io/blog/2014/07/15/spel-support-in-spring-data-jpa-query-definitions\" rel=\"nofollow noreferrer\">SpEL support in Spring Data JPA @Query definitions</a></p>\n<p>Or even this variant:</p>\n<pre><code>@Transactional\n@Modifying\n@Query(&quot;\n    update User e set \n    e.email = :email, \n    e.updateDate = :curTime \n    where e.id = :id\n&quot;)\nvoid setEmail(\n    @Param(&quot;id&quot;) Long id, \n    @Param(&quot;email&quot;) String email, \n    @Param(&quot;curTime&quot;) Timestamp curTime)\n)\n\ndefault void setEmail(Long id, String email) {\n    setEmail(id, email, Timestamp.valueOf(LocalDateTime.now()));\n}\n</code></pre>\n"}],"owner":{"account_id":10751852,"reputation":13,"user_id":7910967,"display_name":"QwertyZxcvbnAsdfg"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":3612,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1633767850,"creation_date":1493159073,"question_id":43621984,"body_markdown":"I have Enity with field\r\n\r\n    @UpdateTimestamp\r\n    @Temporal(TemporalType.TIMESTAMP)\r\n    @Column(name = &quot;updateDate&quot;)\r\n    private Date updateDate;\r\nWhile I&#39;m doing an update using Hibernate this field changes the date to the current one automatically\r\n\r\n    session.save(user); //IT&#39;S OK\r\nbat I want only set Email by Spring Data\r\n\r\n    @Transactional\r\n    @Modifying\r\n    @Query(&quot;update User e set e.email = :email where e.id = :id&quot;)\r\n    public void setEmail(@Param(&quot;id&quot;) Long id, @Param(&quot;email&quot;) String email);\r\nAnd while the email change doesn&#39;t the field for the current time. Why?","title":"Updating time when saving a field","body":"<p>I have Enity with field</p>\n\n<pre><code>@UpdateTimestamp\n@Temporal(TemporalType.TIMESTAMP)\n@Column(name = \"updateDate\")\nprivate Date updateDate;\n</code></pre>\n\n<p>While I'm doing an update using Hibernate this field changes the date to the current one automatically</p>\n\n<pre><code>session.save(user); //IT'S OK\n</code></pre>\n\n<p>bat I want only set Email by Spring Data</p>\n\n<pre><code>@Transactional\n@Modifying\n@Query(\"update User e set e.email = :email where e.id = :id\")\npublic void setEmail(@Param(\"id\") Long id, @Param(\"email\") String email);\n</code></pre>\n\n<p>And while the email change doesn't the field for the current time. Why?</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":85212,"reputation":11234,"user_id":237733,"accept_rate":94,"display_name":"Mark Pope"},"score":0,"creation_date":1267608192,"post_id":2369967,"comment_id":2345876,"body_markdown":"Could you post a bit more of the code please? The bit where the array is initialised would be useful to see.","body":"Could you post a bit more of the code please? The bit where the array is initialised would be useful to see."},{"owner":{"account_id":67794,"reputation":4822,"user_id":198165,"accept_rate":85,"display_name":"Paul"},"score":0,"creation_date":1267608888,"post_id":2369967,"comment_id":2345916,"body_markdown":"I am not sure what your asking. Surelly to check if an array is null one would say (array == null)","body":"I am not sure what your asking. Surelly to check if an array is null one would say (array == null)"},{"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"score":7,"creation_date":1267613469,"post_id":2369967,"comment_id":2346388,"body_markdown":"Do you not want if (k != null)","body":"Do you not want if (k != null)"}],"answers":[{"tags":[],"owner":{"account_id":9867,"reputation":618181,"user_id":18393,"accept_rate":82,"display_name":"cletus"},"down_vote_count":0,"up_vote_count":263,"is_accepted":true,"score":263,"last_activity_date":1267725629,"creation_date":1267608153,"answer_id":2369983,"question_id":2369967,"body_markdown":"There&#39;s a key difference between a `null` array and an empty array. This is a test for `null`.\r\n\r\n    int arr[] = null;\r\n    if (arr == null) {\r\n      System.out.println(&quot;array is null&quot;);\r\n    }\r\n\r\n&quot;Empty&quot; here has no official meaning. I&#39;m choosing to define empty as having 0 elements:\r\n\r\n    arr = new int[0];\r\n    if (arr.length == 0) {\r\n      System.out.println(&quot;array is empty&quot;);\r\n    }\r\n\r\nAn alternative definition of &quot;empty&quot; is if all the elements are `null`:\r\n\r\n    Object arr[] = new Object[10];\r\n    boolean empty = true;\r\n    for (int i=0; i&lt;arr.length; i++) {\r\n      if (arr[i] != null) {\r\n        empty = false;\r\n        break;\r\n      }\r\n    }\r\n\r\nor\r\n\r\n    Object arr[] = new Object[10];\r\n    boolean empty = true;\r\n    for (Object ob : arr) {\r\n      if (ob != null) {\r\n        empty = false;\r\n        break;\r\n      }\r\n    }\r\n","title":"How can I check whether an array is null / empty?","body":"<p>There's a key difference between a <code>null</code> array and an empty array. This is a test for <code>null</code>.</p>\n\n<pre><code>int arr[] = null;\nif (arr == null) {\n  System.out.println(\"array is null\");\n}\n</code></pre>\n\n<p>\"Empty\" here has no official meaning. I'm choosing to define empty as having 0 elements:</p>\n\n<pre><code>arr = new int[0];\nif (arr.length == 0) {\n  System.out.println(\"array is empty\");\n}\n</code></pre>\n\n<p>An alternative definition of \"empty\" is if all the elements are <code>null</code>:</p>\n\n<pre><code>Object arr[] = new Object[10];\nboolean empty = true;\nfor (int i=0; i&lt;arr.length; i++) {\n  if (arr[i] != null) {\n    empty = false;\n    break;\n  }\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>Object arr[] = new Object[10];\nboolean empty = true;\nfor (Object ob : arr) {\n  if (ob != null) {\n    empty = false;\n    break;\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13903,"reputation":393613,"user_id":28169,"accept_rate":88,"display_name":"unwind"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1267608162,"creation_date":1267608162,"answer_id":2369985,"question_id":2369967,"body_markdown":"An `int` array without elements is not necessarily `null`. It will only be &lt;code&gt;null&lt;/code&gt; if it hasn&#39;t been allocated yet. See [this tutorial][1] for more information about Java arrays.\r\n\r\nYou can test the array&#39;s length:\r\n\r\n    void foo(int[] data)\r\n    {\r\n      if(data.length == 0)\r\n        return;\r\n    }\r\n\r\n\r\n  [1]: http://www.tutorialhero.com/tutorial-76-java_arrays.php","title":"How can I check whether an array is null / empty?","body":"<p>An <code>int</code> array without elements is not necessarily <code>null</code>. It will only be <code>null</code> if it hasn't been allocated yet. See <a href=\"http://www.tutorialhero.com/tutorial-76-java_arrays.php\" rel=\"nofollow noreferrer\">this tutorial</a> for more information about Java arrays.</p>\n\n<p>You can test the array's length:</p>\n\n<pre><code>void foo(int[] data)\n{\n  if(data.length == 0)\n    return;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12060,"reputation":33202,"user_id":23574,"display_name":"shahkalpesh"},"down_vote_count":2,"up_vote_count":6,"is_accepted":false,"score":4,"last_activity_date":1267611490,"creation_date":1267608191,"answer_id":2369988,"question_id":2369967,"body_markdown":"I am from .net background. However, java/c# are more/less same.\r\n\r\nIf you instantiate a non-primitive type (array in your case), it won&#39;t be null.  \r\ne.g. `int[] numbers = new int[3];`  \r\nIn this case, the space is allocated &amp; each of the element has a default value of 0.\r\n\r\nIt will be `null`, when you don&#39;t `new` it up.  \r\ne.g. \r\n\r\n    int[] numbers = null; // changed as per @Joachim&#39;s suggestion.\r\n    if (numbers == null)\r\n    {\r\n       System.out.println(&quot;yes, it is null. Please new it up&quot;);\r\n    }","title":"How can I check whether an array is null / empty?","body":"<p>I am from .net background. However, java/c# are more/less same.</p>\n\n<p>If you instantiate a non-primitive type (array in your case), it won't be null.<br>\ne.g. <code>int[] numbers = new int[3];</code><br>\nIn this case, the space is allocated &amp; each of the element has a default value of 0.</p>\n\n<p>It will be <code>null</code>, when you don't <code>new</code> it up.<br>\ne.g. </p>\n\n<pre><code>int[] numbers = null; // changed as per @Joachim's suggestion.\nif (numbers == null)\n{\n   System.out.println(\"yes, it is null. Please new it up\");\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22149,"reputation":2417,"user_id":54376,"accept_rate":90,"display_name":"Mike"},"down_vote_count":1,"up_vote_count":25,"is_accepted":false,"score":24,"last_activity_date":1267608238,"creation_date":1267608238,"answer_id":2369989,"question_id":2369967,"body_markdown":"Look at its length:\r\n\r\n    int[] i = ...;\r\n    if (i.length == 0) { } // no elements in the array\r\n\r\nThough it&#39;s safer to check for null at the same time:\r\n\r\n    if (i == null || i.length == 0) { }","title":"How can I check whether an array is null / empty?","body":"<p>Look at its length:</p>\n\n<pre><code>int[] i = ...;\nif (i.length == 0) { } // no elements in the array\n</code></pre>\n\n<p>Though it's safer to check for null at the same time:</p>\n\n<pre><code>if (i == null || i.length == 0) { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":40182,"reputation":8647,"user_id":116339,"accept_rate":90,"display_name":"objects"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1267608370,"creation_date":1267608370,"answer_id":2369998,"question_id":2369967,"body_markdown":"An int array is initialised with zero so it won&#39;t actually ever contain nulls. Only arrays of Object&#39;s will contain null initially.","title":"How can I check whether an array is null / empty?","body":"<p>An int array is initialised with zero so it won't actually ever contain nulls. Only arrays of Object's will contain null initially.</p>\n"},{"tags":[],"owner":{"account_id":63531,"reputation":3979,"user_id":188014,"accept_rate":89,"display_name":"vickirk"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1267725338,"creation_date":1267725338,"answer_id":2381538,"question_id":2369967,"body_markdown":"I believe that what you want is\r\n\r\n    int[] k = new int[3];\r\n    \r\n    if (k != null) {  // Note, != and not == as above\r\n        System.out.println(k.length);\r\n    }\r\n\r\nYou newed it up so it was never going to be null.","title":"How can I check whether an array is null / empty?","body":"<p>I believe that what you want is</p>\n\n<pre><code>int[] k = new int[3];\n\nif (k != null) {  // Note, != and not == as above\n    System.out.println(k.length);\n}\n</code></pre>\n\n<p>You newed it up so it was never going to be null.</p>\n"},{"tags":[],"owner":{"account_id":5055569,"reputation":3946,"user_id":4058910,"accept_rate":23,"display_name":"Shravan Ramamurthy"},"down_vote_count":1,"up_vote_count":145,"is_accepted":false,"score":144,"last_activity_date":1452615651,"creation_date":1441307885,"answer_id":32383778,"question_id":2369967,"body_markdown":"`ArrayUtils.isNotEmpty(testArrayName)` from the package `org.apache.commons.lang3` ensures Array is not null or empty","title":"How can I check whether an array is null / empty?","body":"<p><code>ArrayUtils.isNotEmpty(testArrayName)</code> from the package <code>org.apache.commons.lang3</code> ensures Array is not null or empty</p>\n"},{"tags":[],"owner":{"account_id":5072090,"reputation":957,"user_id":4070597,"accept_rate":40,"display_name":"hubbabubba"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1452627372,"creation_date":1452617144,"answer_id":34749242,"question_id":2369967,"body_markdown":"The point here very simply is that the variable k isn&#39;t null because it points to the array. It doesn&#39;t matter that the array itself is empty. The null test in your post would only evaluate to true if the variable k didn&#39;t point to anything.","title":"How can I check whether an array is null / empty?","body":"<p>The point here very simply is that the variable k isn't null because it points to the array. It doesn't matter that the array itself is empty. The null test in your post would only evaluate to true if the variable k didn't point to anything.</p>\n"},{"tags":[],"owner":{"account_id":9755346,"reputation":7480,"user_id":7232295,"accept_rate":86,"display_name":"Uddhav P. Gautam"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1505791554,"creation_date":1505791554,"answer_id":46291284,"question_id":2369967,"body_markdown":"I tested as below. Hope it helps. \r\n\r\n    Integer[] integers1 = new Integer[10];\r\n            System.out.println(integers1.length); //it has length 10 but it is empty. It is not null array\r\n            for (Integer integer : integers1) {\r\n                System.out.println(integer); //prints all 0s\r\n            }\r\n    \r\n    //But if I manually add 0 to any index, now even though array has all 0s elements\r\n    //still it is not empty\r\n    //        integers1[2] = 0;\r\n            for (Integer integer : integers1) {\r\n                System.out.println(integer); //Still it prints all 0s but it is not empty\r\n                //but that manually added 0 is different\r\n            }\r\n    \r\n    //Even we manually add 0, still we need to treat it as null. This is semantic logic.\r\n    \r\n            Integer[] integers2 = new Integer[20];\r\n            integers2 = null; //array is nullified\r\n    //        integers2[3] = null; //If I had int[] -- because it is priitive -- then I can&#39;t write this line. \r\n            if (integers2 == null) {\r\n                System.out.println(&quot;null Array&quot;);\r\n            }   ","title":"How can I check whether an array is null / empty?","body":"<p>I tested as below. Hope it helps. </p>\n\n<pre><code>Integer[] integers1 = new Integer[10];\n        System.out.println(integers1.length); //it has length 10 but it is empty. It is not null array\n        for (Integer integer : integers1) {\n            System.out.println(integer); //prints all 0s\n        }\n\n//But if I manually add 0 to any index, now even though array has all 0s elements\n//still it is not empty\n//        integers1[2] = 0;\n        for (Integer integer : integers1) {\n            System.out.println(integer); //Still it prints all 0s but it is not empty\n            //but that manually added 0 is different\n        }\n\n//Even we manually add 0, still we need to treat it as null. This is semantic logic.\n\n        Integer[] integers2 = new Integer[20];\n        integers2 = null; //array is nullified\n//        integers2[3] = null; //If I had int[] -- because it is priitive -- then I can't write this line. \n        if (integers2 == null) {\n            System.out.println(\"null Array\");\n        }   \n</code></pre>\n"},{"tags":[],"owner":{"account_id":5865634,"reputation":47,"user_id":6637703,"accept_rate":0,"display_name":"J_fruitty"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1510635908,"creation_date":1510635908,"answer_id":47278032,"question_id":2369967,"body_markdown":"You can also check whether there is any elements in the array by finding out its length, then put it into if-else statement to check whether it is null. \r\n\r\n    int[] k = new int[3];\r\n    if(k.length == 0)\r\n    {\r\n    //do something\r\n    }\r\n","title":"How can I check whether an array is null / empty?","body":"<p>You can also check whether there is any elements in the array by finding out its length, then put it into if-else statement to check whether it is null. </p>\n\n<pre><code>int[] k = new int[3];\nif(k.length == 0)\n{\n//do something\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13454158,"reputation":1,"user_id":9708131,"display_name":"nanatash"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1524800118,"creation_date":1524800118,"answer_id":50054844,"question_id":2369967,"body_markdown":"        public boolean empty() {\r\n        boolean isEmpty = true;\r\n        int i = 0;\r\n        for (int j = 0; j &lt; array.length; j++) {\r\n            if (array[j] != 0) {\r\n                i++;\r\n            }\r\n        }\r\n        if (i != 0) {\r\n            isEmpty = false;\r\n        }\r\n        return isEmpty;\r\n    }\r\n\r\nThis is as close as I got to checking if an int array is empty.\r\nAlthough this will not work when the ints in the array are actually zero. It&#39;ll work for {1,2,3}, and it&#39;ll still return false if {2,0} but {0} will return true","title":"How can I check whether an array is null / empty?","body":"<pre><code>    public boolean empty() {\n    boolean isEmpty = true;\n    int i = 0;\n    for (int j = 0; j &lt; array.length; j++) {\n        if (array[j] != 0) {\n            i++;\n        }\n    }\n    if (i != 0) {\n        isEmpty = false;\n    }\n    return isEmpty;\n}\n</code></pre>\n\n<p>This is as close as I got to checking if an int array is empty.\nAlthough this will not work when the ints in the array are actually zero. It'll work for {1,2,3}, and it'll still return false if {2,0} but {0} will return true</p>\n"},{"tags":[],"owner":{"account_id":13118858,"reputation":6035,"user_id":9477038,"display_name":"Jackkobec"},"down_vote_count":0,"up_vote_count":30,"is_accepted":false,"score":30,"last_activity_date":1563285367,"creation_date":1563285367,"answer_id":57058973,"question_id":2369967,"body_markdown":"Method to check array for null or empty also is present on org.apache.commons.lang:\r\n\r\n    import org.apache.commons.lang.ArrayUtils;\r\n    \r\n    ArrayUtils.isEmpty(array);","title":"How can I check whether an array is null / empty?","body":"<p>Method to check array for null or empty also is present on org.apache.commons.lang:</p>\n\n<pre><code>import org.apache.commons.lang.ArrayUtils;\n\nArrayUtils.isEmpty(array);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4280750,"reputation":1855,"user_id":3500196,"display_name":"Shivang Agarwal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1587503890,"creation_date":1587503890,"answer_id":61353427,"question_id":2369967,"body_markdown":"In Java 8+ you achieve this with the help of streams allMatch method.\r\n\r\nFor primitive:\r\n\r\n    int[] k = new int[3];\r\n    Arrays.stream(k).allMatch(element -&gt; element != 0)\r\n\r\nFor Object:\r\n\r\n    Objects[] k = new Objects[3];\r\n    Arrays.stream(k).allMatch(Objects::nonNull)","title":"How can I check whether an array is null / empty?","body":"<p>In Java 8+ you achieve this with the help of streams allMatch method.</p>\n\n<p>For primitive:</p>\n\n<pre><code>int[] k = new int[3];\nArrays.stream(k).allMatch(element -&gt; element != 0)\n</code></pre>\n\n<p>For Object:</p>\n\n<pre><code>Objects[] k = new Objects[3];\nArrays.stream(k).allMatch(Objects::nonNull)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6171922,"reputation":111,"user_id":4809987,"display_name":"saravana kumar ramasamy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633766983,"creation_date":1606741871,"answer_id":65074249,"question_id":2369967,"body_markdown":"if you are trying to check that in spring framework then `isEmpty(Object[])` method in `ObjectUtils` class helps,\r\n\r\n```\r\npublic static boolean isEmpty(@Nullable Object[] array) {\r\n\t\treturn (array == null || array.length == 0);\r\n\t}\r\n```","title":"How can I check whether an array is null / empty?","body":"<p>if you are trying to check that in spring framework then <code>isEmpty(Object[])</code> method in <code>ObjectUtils</code> class helps,</p>\n<pre><code>public static boolean isEmpty(@Nullable Object[] array) {\n        return (array == null || array.length == 0);\n    }\n</code></pre>\n"}],"owner":{"account_id":66674,"reputation":7720,"user_id":195504,"accept_rate":83,"display_name":"Ankit Sachan"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":952071,"favorite_count":0,"down_vote_count":3,"up_vote_count":178,"accepted_answer_id":2369983,"answer_count":14,"score":175,"last_activity_date":1633766983,"creation_date":1267608051,"question_id":2369967,"body_markdown":"I have an `int` array which has no elements and I&#39;m trying to check whether it&#39;s empty.\r\n\r\nFor example, why is the condition of the if-statement in the code below never true?\r\n\r\n    int[] k = new int[3];\r\n \r\n    if (k == null) {\r\n        System.out.println(k.length);\r\n    }\r\n","title":"How can I check whether an array is null / empty?","body":"<p>I have an <code>int</code> array which has no elements and I'm trying to check whether it's empty.</p>\n\n<p>For example, why is the condition of the if-statement in the code below never true?</p>\n\n<pre><code>int[] k = new int[3];\n\nif (k == null) {\n    System.out.println(k.length);\n}\n</code></pre>\n"},{"tags":["java","linked-list","instance"],"answers":[{"tags":[],"owner":{"display_name":"user5914598"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1586881020,"creation_date":1586881020,"answer_id":61212385,"question_id":61195440,"body_markdown":"Rey, do not make it complex, this is just an example \r\n\r\nstart with a null node;\r\n\r\n    ListNode l3 = null;\r\n\r\ndefine a rem and the temp node;\r\n        \r\n    int rem = 0;\r\n    ListNode temp = l3;\r\n\r\niterate the both nodes;\r\n\r\n    while(l1 != null &amp;&amp; l2 != null)      \r\n\r\nsum the vals,\r\n\r\n    int sum = l1.val + l2.val;\r\n\r\nif temp is null, you are at the beginning;\r\n\r\n    l3 = temp = new ListNode(sum%10);\r\n    rem = sum / 10;\r\n\r\nif not, calculate next, carry if rem\r\n\r\n    sum += rem;\r\n    rem = sum / 10; \r\n    temp.next = new ListNode(sum%10);\r\n\r\nmove temp\r\n\r\n    temp = temp.next;\r\n\r\n\r\nalso move sources,\r\n \r\n\r\n    l1 = l1.next;\r\n    l2 = l2.next;\r\n\r\n    \r\nwhen you finished, carry if rem again,\r\n \r\n    if (rem &gt; 0) {\r\n        temp.next = new ListNode(rem);\r\n    }\r\n\r\nand return;\r\n\r\n    return l3;\r\n\r\n\r\n\r\n","title":"Creating a new instance of a ListNode","body":"<p>Rey, do not make it complex, this is just an example </p>\n\n<p>start with a null node;</p>\n\n<pre><code>ListNode l3 = null;\n</code></pre>\n\n<p>define a rem and the temp node;</p>\n\n<pre><code>int rem = 0;\nListNode temp = l3;\n</code></pre>\n\n<p>iterate the both nodes;</p>\n\n<pre><code>while(l1 != null &amp;&amp; l2 != null)      \n</code></pre>\n\n<p>sum the vals,</p>\n\n<pre><code>int sum = l1.val + l2.val;\n</code></pre>\n\n<p>if temp is null, you are at the beginning;</p>\n\n<pre><code>l3 = temp = new ListNode(sum%10);\nrem = sum / 10;\n</code></pre>\n\n<p>if not, calculate next, carry if rem</p>\n\n<pre><code>sum += rem;\nrem = sum / 10; \ntemp.next = new ListNode(sum%10);\n</code></pre>\n\n<p>move temp</p>\n\n<pre><code>temp = temp.next;\n</code></pre>\n\n<p>also move sources,</p>\n\n<pre><code>l1 = l1.next;\nl2 = l2.next;\n</code></pre>\n\n<p>when you finished, carry if rem again,</p>\n\n<pre><code>if (rem &gt; 0) {\n    temp.next = new ListNode(rem);\n}\n</code></pre>\n\n<p>and return;</p>\n\n<pre><code>return l3;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21211162,"reputation":1,"user_id":15599729,"display_name":"Avinash Patel"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633766521,"creation_date":1633764946,"answer_id":69504685,"question_id":61195440,"body_markdown":"**Solution with the help of recursion**\r\n\r\n    class solution{\r\n        int carry =0;\r\n\r\n        public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\r\n\r\n        // create a base case where recursion terminates\r\n\r\n        if (l1 == null &amp;&amp; l2 == null &amp;&amp; carry == 0) {\r\n            return null;\r\n        }\r\n\r\n        // calculate sum of current node and get carry variable updated\r\n\r\n        int val1 = l1 == null ? 0 : l1.val;\r\n        int val2 = l2 == null ? 0 : l2.val;\r\n\r\n        int sum = val1 + val2 + carry;\r\n        carry = sum/10;\r\n\r\n        // update l1,l2 with next node if occur \r\n\r\n        l1 = l1 == null ? null : l1.next;\r\n        l2 = l2 == null ? null : l2.next;\r\n\r\n        //perform recursion and store result in new Listnode and.\r\n        \r\n        ListNode ans = new ListNode(sum%10, addTwoNumbers(l1, l2));\r\n        \r\n        return ans;\r\n    }","title":"Creating a new instance of a ListNode","body":"<p><strong>Solution with the help of recursion</strong></p>\n<pre><code>class solution{\n    int carry =0;\n\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n\n    // create a base case where recursion terminates\n\n    if (l1 == null &amp;&amp; l2 == null &amp;&amp; carry == 0) {\n        return null;\n    }\n\n    // calculate sum of current node and get carry variable updated\n\n    int val1 = l1 == null ? 0 : l1.val;\n    int val2 = l2 == null ? 0 : l2.val;\n\n    int sum = val1 + val2 + carry;\n    carry = sum/10;\n\n    // update l1,l2 with next node if occur \n\n    l1 = l1 == null ? null : l1.next;\n    l2 = l2 == null ? null : l2.next;\n\n    //perform recursion and store result in new Listnode and.\n    \n    ListNode ans = new ListNode(sum%10, addTwoNumbers(l1, l2));\n    \n    return ans;\n}\n</code></pre>\n"}],"owner":{"account_id":9812313,"reputation":11,"user_id":7270032,"display_name":"Rey Sarmiento"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8870,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633766521,"creation_date":1586806719,"question_id":61195440,"body_markdown":"The problem I am trying to solve is a LeetCode problem, but I am stuck \r\nhttps://leetcode.com/problems/add-two-numbers/\r\n\r\nI have tried the following\r\n\r\n```\r\nimport java.util.*;\r\nclass Solution {\r\n    private ListNode l = new ListNode(0);\r\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\r\n        \r\n        int pow = 0;\r\n        int counter = 0;\r\n        int sum1 = 0;\r\n        int sum2 = 0;\r\n\r\n       \r\n        while(l1 != null &amp;&amp; l2 != null)\r\n        {\r\n            sum1 = sum1 + ((int) (l1.val * (Math.pow(10,pow))));\r\n            sum2 = sum2 + ((int) (l2.val * (Math.pow(10,pow))));\r\n            pow++;\r\n            l1 = l1.next;\r\n            l2 = l2.next;\r\n        }\r\n        \r\n        pow = pow - 1;\r\n        \r\n        int final_sum = sum1 + sum2;\r\n        String number = String.valueOf(final_sum);\r\n        char[] digits = number.toCharArray();\r\n\r\n\r\n        l = l.next;\r\n        ListNode x = new ListNode();\r\n        x.val = (digits[2] - &#39;0&#39;);\r\n        l= x;\r\n        addElement(digits[1] - &#39;0&#39;);\r\n        addElement(digits[0] - &#39;0&#39;);\r\n\r\n        return l;\r\n\r\n        \r\n    }\r\n    \r\n    public void addElement(int number)\r\n    {\r\n        ListNode x = new ListNode();\r\n        x.val = number;  \r\n        \r\n        l.next = x;\r\n    }\r\n}\r\n```\r\n\r\nHowever, I noticed that this just replaces the last given value of ListNode x and does not add on to ListNode l. I am first trying to make it work with one instance of a ListNode without creating multiple &quot;ListNode x = new ListNode()&quot; with different variable names. \r\n\r\nAt the moment it is just returning [7,8] when given [2,4,3] and [5,6,4] when it should be returning [7,0,8]. Any hints or advice would help.\r\n\r\n","title":"Creating a new instance of a ListNode","body":"<p>The problem I am trying to solve is a LeetCode problem, but I am stuck \n<a href=\"https://leetcode.com/problems/add-two-numbers/\" rel=\"nofollow noreferrer\">https://leetcode.com/problems/add-two-numbers/</a></p>\n\n<p>I have tried the following</p>\n\n<pre><code>import java.util.*;\nclass Solution {\n    private ListNode l = new ListNode(0);\n    public ListNode addTwoNumbers(ListNode l1, ListNode l2) {\n\n        int pow = 0;\n        int counter = 0;\n        int sum1 = 0;\n        int sum2 = 0;\n\n\n        while(l1 != null &amp;&amp; l2 != null)\n        {\n            sum1 = sum1 + ((int) (l1.val * (Math.pow(10,pow))));\n            sum2 = sum2 + ((int) (l2.val * (Math.pow(10,pow))));\n            pow++;\n            l1 = l1.next;\n            l2 = l2.next;\n        }\n\n        pow = pow - 1;\n\n        int final_sum = sum1 + sum2;\n        String number = String.valueOf(final_sum);\n        char[] digits = number.toCharArray();\n\n\n        l = l.next;\n        ListNode x = new ListNode();\n        x.val = (digits[2] - '0');\n        l= x;\n        addElement(digits[1] - '0');\n        addElement(digits[0] - '0');\n\n        return l;\n\n\n    }\n\n    public void addElement(int number)\n    {\n        ListNode x = new ListNode();\n        x.val = number;  \n\n        l.next = x;\n    }\n}\n</code></pre>\n\n<p>However, I noticed that this just replaces the last given value of ListNode x and does not add on to ListNode l. I am first trying to make it work with one instance of a ListNode without creating multiple \"ListNode x = new ListNode()\" with different variable names. </p>\n\n<p>At the moment it is just returning [7,8] when given [2,4,3] and [5,6,4] when it should be returning [7,0,8]. Any hints or advice would help.</p>\n"},{"tags":["java","spring","amazon-web-services","amazon-s3","configuration"],"owner":{"account_id":15483652,"reputation":103,"user_id":11170234,"display_name":"Brahim Djarallah"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2275,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":0,"score":5,"last_activity_date":1633766108,"creation_date":1596529001,"question_id":63242758,"body_markdown":"we have a web application use AWS (Amazone api), in the coreConfiguration class we create a awsApi bean with predestroy method, the code for coreConfiguration is:\r\n```\r\n@Bean(destroyMethod = &quot;destroy&quot;)\r\n\tpublic IGridStorageManager awsApi() {\r\n.....\r\n}\r\n```\r\nin awsApi class we have detroy methode, the code is:\r\n```\r\n@Override\r\n\t@PreDestroy\r\n\tpublic void destroy() {\r\n\t\tif (clientS3 != null) {\r\n\t\t\tclientS3.shutdown();\r\n\t\t}\r\n\t}\r\n```\r\n\r\nMy problem is sometime in PROD when i use the API i see thos logs:\r\n\r\n```\r\n2020-08-03 11:27:00.090 DEBUG 25172 --- [java-sdk-http-connection-reaper] com.amazonaws.http.IdleConnectionReaper : Reaper thread:\r\njava.lang.InterruptedException: sleep interrupted\r\n        at java.lang.Thread.sleep(Native Method)\r\n        at com.amazonaws.http.IdleConnectionReaper.run(IdleConnectionReaper.java:188)\r\n```\r\n\r\n\r\nI read that this exception can cause memory leak, i found that we need to use a shutdown() method, the problem is i aleardy use `@PreDestroy` method with shutdown method, why i have those exceptions ?\r\n\r\nCan you help me ?\r\n\r\nThanks\r\n ","title":"AWS InterruptedException: sleep interrupted com.amazonaws.http.IdleConnectionReaper","body":"<p>we have a web application use AWS (Amazone api), in the coreConfiguration class we create a awsApi bean with predestroy method, the code for coreConfiguration is:</p>\n<pre><code>@Bean(destroyMethod = &quot;destroy&quot;)\n    public IGridStorageManager awsApi() {\n.....\n}\n</code></pre>\n<p>in awsApi class we have detroy methode, the code is:</p>\n<pre><code>@Override\n    @PreDestroy\n    public void destroy() {\n        if (clientS3 != null) {\n            clientS3.shutdown();\n        }\n    }\n</code></pre>\n<p>My problem is sometime in PROD when i use the API i see thos logs:</p>\n<pre><code>2020-08-03 11:27:00.090 DEBUG 25172 --- [java-sdk-http-connection-reaper] com.amazonaws.http.IdleConnectionReaper : Reaper thread:\njava.lang.InterruptedException: sleep interrupted\n        at java.lang.Thread.sleep(Native Method)\n        at com.amazonaws.http.IdleConnectionReaper.run(IdleConnectionReaper.java:188)\n</code></pre>\n<p>I read that this exception can cause memory leak, i found that we need to use a shutdown() method, the problem is i aleardy use <code>@PreDestroy</code> method with shutdown method, why i have those exceptions ?</p>\n<p>Can you help me ?</p>\n<p>Thanks</p>\n"},{"tags":["java","eclipse","pdf","encryption"],"comments":[{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":1,"creation_date":1633766320,"post_id":69504806,"comment_id":122851848,"body_markdown":"Check which jre eclipse and the runnable jar are using.  I guess they are different versions.","body":"Check which jre eclipse and the runnable jar are using.  I guess they are different versions."},{"owner":{"account_id":1670640,"reputation":1,"user_id":1537156,"display_name":"user1537156"},"score":0,"creation_date":1633767338,"post_id":69504806,"comment_id":122852024,"body_markdown":"I verified. Both seems to be using same Java version","body":"I verified. Both seems to be using same Java version"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1633767420,"post_id":69504806,"comment_id":122852037,"body_markdown":"Which algo are you trying to use and which jre?","body":"Which algo are you trying to use and which jre?"},{"owner":{"account_id":1670640,"reputation":1,"user_id":1537156,"display_name":"user1537156"},"score":0,"creation_date":1633767987,"post_id":69504806,"comment_id":122852143,"body_markdown":"PdfStamper stp = PdfStamper.createSignature(reader, fout, tmpPdfVersion, null, isAppend);\nstp.setEncryption(certChain, new int[] { tmpRight }, PdfWriter.ENCRYPTION_AES_128);\n\nI am getting error in the above line which uses AES algorithm and I am using java version &quot;1.8.0_212&quot;","body":"PdfStamper stp = PdfStamper.createSignature(reader, fout, tmpPdfVersion, null, isAppend); stp.setEncryption(certChain, new int[] { tmpRight }, PdfWriter.ENCRYPTION_AES_128);  I am getting error in the above line which uses AES algorithm and I am using java version &quot;1.8.0_212&quot;"},{"owner":{"account_id":8362430,"reputation":856,"user_id":6280255,"display_name":"Just another Java programmer"},"score":0,"creation_date":1633768430,"post_id":69504806,"comment_id":122852223,"body_markdown":"And you are not missing any additional libraries in your runnable jar?","body":"And you are not missing any additional libraries in your runnable jar?"},{"owner":{"account_id":1916831,"reputation":91511,"user_id":1729265,"display_name":"mkl"},"score":0,"creation_date":1633770694,"post_id":69504806,"comment_id":122852647,"body_markdown":"Didn&#39;t you have to explicitly set the security policy in the old jres to allow for algorithms like aes?","body":"Didn&#39;t you have to explicitly set the security policy in the old jres to allow for algorithms like aes?"},{"owner":{"account_id":1670640,"reputation":1,"user_id":1537156,"display_name":"user1537156"},"score":0,"creation_date":1633771216,"post_id":69504806,"comment_id":122852739,"body_markdown":"It worked now as it is the problem of jar export. I choose &quot;Extract required libraries into generated jar&quot; option. Now I choose &quot;Package required libraries into generated jar&quot; option","body":"It worked now as it is the problem of jar export. I choose &quot;Extract required libraries into generated jar&quot; option. Now I choose &quot;Package required libraries into generated jar&quot; option"}],"owner":{"account_id":1670640,"reputation":1,"user_id":1537156,"display_name":"user1537156"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633766015,"creation_date":1633766015,"question_id":69504806,"body_markdown":"I am getting below error while trying to do digital sign with encryption for PDF file. It is working perfectly when starting from eclipse, but when I export it to a runnable jar file, it is throwing the below error. Any help would be appreciated\r\n\r\nExceptionConverter: java.security.NoSuchAlgorithmException: 1.2.840.113549.3.2 KeyGenerator not available\r\n        at javax.crypto.KeyGenerator.&lt;init&gt;(KeyGenerator.java:169)\r\n        at javax.crypto.KeyGenerator.getInstance(KeyGenerator.java:223)\r\n        at com.itextpdf.text.pdf.PdfPublicKeySecurityHandler.createDERForRecipient(PdfPublicKeySecurityHandler.java:237)\r\n        at com.itextpdf.text.pdf.PdfPublicKeySecurityHandler.getEncodedRecipient(PdfPublicKeySecurityHandler.java:193)\r\n        at com.itextpdf.text.pdf.PdfEncryption.getEncryptionDictionary(PdfEncryption.java:664)\r\n        at com.itextpdf.text.pdf.PdfWriter.setEncryption(PdfWriter.java:2159)\r\n        at com.itextpdf.text.pdf.PdfStamper.setEncryption(PdfStamper.java:368)\r\n        at com.djcorp.signpdf.SignerLogic.signpages(SignerLogic.java:373)","title":"Getting error during pdf encryption using java only through runnable jar, but working with eclipse","body":"<p>I am getting below error while trying to do digital sign with encryption for PDF file. It is working perfectly when starting from eclipse, but when I export it to a runnable jar file, it is throwing the below error. Any help would be appreciated</p>\n<p>ExceptionConverter: java.security.NoSuchAlgorithmException: 1.2.840.113549.3.2 KeyGenerator not available\nat javax.crypto.KeyGenerator.(KeyGenerator.java:169)\nat javax.crypto.KeyGenerator.getInstance(KeyGenerator.java:223)\nat com.itextpdf.text.pdf.PdfPublicKeySecurityHandler.createDERForRecipient(PdfPublicKeySecurityHandler.java:237)\nat com.itextpdf.text.pdf.PdfPublicKeySecurityHandler.getEncodedRecipient(PdfPublicKeySecurityHandler.java:193)\nat com.itextpdf.text.pdf.PdfEncryption.getEncryptionDictionary(PdfEncryption.java:664)\nat com.itextpdf.text.pdf.PdfWriter.setEncryption(PdfWriter.java:2159)\nat com.itextpdf.text.pdf.PdfStamper.setEncryption(PdfStamper.java:368)\nat com.djcorp.signpdf.SignerLogic.signpages(SignerLogic.java:373)</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":7160062,"reputation":4423,"user_id":5471104,"accept_rate":64,"display_name":"Mohammed Atif"},"score":0,"creation_date":1633699745,"post_id":69495617,"comment_id":122836517,"body_markdown":"As fas I know, mapstruct convert one class to other but not merge it. You can use constructor to create a union of two classses","body":"As fas I know, mapstruct convert one class to other but not merge it. You can use constructor to create a union of two classses"}],"answers":[{"tags":[],"owner":{"account_id":8561960,"reputation":121,"user_id":6415728,"display_name":"Marci"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633765890,"creation_date":1633712387,"answer_id":69499399,"question_id":69495617,"body_markdown":"You could do something like this in your mapper:\r\n```\r\n    DomainUser UserToDUser(User user, CountryDetails countryDetails);\r\n\r\n    default List&lt;DomainUser&gt; UsersToDomainUsers(List&lt;User&gt; users, CountryDetails countryDetails) {\r\n        return users.stream()\r\n                .map((user -&gt; UserToDUser(user, countryDetails)))\r\n                .collect(Collectors.toList());\r\n    }\r\n```\r\n\r\nThis would use the MapStruct generated mapper to merge every single `User` with the same `CountryDetails` to create a `DomainUser` and collect them all into a `List` using streams.","title":"How to map from Model entity with list of Objects and one more Object to single Domain entity with Mapstruct","body":"<p>You could do something like this in your mapper:</p>\n<pre><code>    DomainUser UserToDUser(User user, CountryDetails countryDetails);\n\n    default List&lt;DomainUser&gt; UsersToDomainUsers(List&lt;User&gt; users, CountryDetails countryDetails) {\n        return users.stream()\n                .map((user -&gt; UserToDUser(user, countryDetails)))\n                .collect(Collectors.toList());\n    }\n</code></pre>\n<p>This would use the MapStruct generated mapper to merge every single <code>User</code> with the same <code>CountryDetails</code> to create a <code>DomainUser</code> and collect them all into a <code>List</code> using streams.</p>\n"}],"owner":{"account_id":22549881,"reputation":103,"user_id":16739133,"display_name":"Prashanth Billa"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":797,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69499399,"answer_count":1,"score":2,"last_activity_date":1633765890,"creation_date":1633694936,"question_id":69495617,"body_markdown":"How can I use *[MapStruct][1]* to create a mapper that maps from Model entity that includes one list of objects and one another object to Domain entity, consists of only list of nested objects.\r\n\r\n\r\nMy Model entity list object    = SourceObject-A;\r\n\r\nMy Model entity second object  = SourceObject-B;\r\n\r\nMy Doamin entity list object   = TargetObject-AB;\r\n\r\n\r\n\r\n***My source classes looks like this:***\r\n\r\nSourceObject-A:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class User {\r\n    \r\n      private int id;\r\n      private String name;\r\n    \r\n      }\r\n\r\n\r\nSourceObject-B:\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class CountryDetails {\r\n\r\n        private String country;\r\n        private String countryCode;\r\n    \r\n    }\r\n\r\nSo I need to tranform it to this(TargetObject-AB):\r\n\r\n    @NoArgsConstructor\r\n    @AllArgsConstructor\r\n    @Data\r\n    public class DomainUser {\r\n        private int id;\r\n        private String name;\r\n        private String country;\r\n        private String countryCode;\r\n    }\r\n\r\n\r\n*UserController:*\r\n\r\n    GetMapping(&quot;/users&quot;)\r\n    public List&lt;DomainUser&gt; getDUsers(List&lt;User&gt; usersList, CountryDetails countryDetails){\r\n    \r\n         List&lt;DomainUser&gt; domainUsersList=ModelToDomainMapper.INSTANCE.UserToDUser(usersList, \r\n         countryDetails);\r\n    \r\n    \r\n      return domainUsersList;\r\n    \r\n    }\r\n\r\n\r\n\r\n*Mapper Interface:*\r\n\r\n\r\n    @Mapper\r\n    public interface ModelToDomainMapper {\r\n    \r\n        ModelToDomainMapper INSTANCE = Mappers.getMapper(ModelToDomainMapper.class)\r\n    \r\n    \r\n        List&lt;DomainUser&gt; UserToDUser(List&lt;User&gt; users, CountryDetails countryDetails);\r\n    \r\n    \r\n    }\r\n\r\n\r\n\r\nExpected sample json:\r\n\r\nSource(Input):\r\n  \r\n\r\n    [\r\n            \r\n      &quot;countryDetails&quot;:{\r\n            \r\n                     &quot;country&quot;     : &quot;India&quot;,\r\n                     &quot;countryCode&quot; : &quot;+91&quot;\r\n               \r\n                      },\r\n      &quot;userslist&quot; :[\r\n            \r\n                {\r\n            \r\n                    &quot;id&quot;   : 1,\r\n                    &quot;name&quot; : &quot;XXXXXXX&quot;\r\n               \r\n                  },\r\n                {\r\n            \r\n                   &quot;id&quot;   : 2,\r\n                   &quot;name&quot; : &quot;XXXXXXX&quot;\r\n               \r\n                 }\r\n            ]\r\n        ]\r\n\r\n\r\nTarget(Expected Output):\r\n\r\n\r\n    [\r\n      {\r\n        &quot;id&quot;: 1,\r\n        &quot;name&quot;: &quot;xxxxxx&quot;,\r\n        &quot;country&quot;: &quot;India&quot;,\r\n        &quot;countryCode&quot;: &quot;+91&quot;\r\n      },\r\n      {\r\n        &quot;id&quot;: 2,\r\n        &quot;name&quot;: &quot;xxxxxx&quot;,\r\n        &quot;country&quot;: &quot;India&quot;,\r\n        &quot;countryCode&quot;: &quot;+91&quot;\r\n      }\r\n    ]\r\n\r\nIs there any way to get this above output please help me.\r\n\r\n\r\n  [1]: https://mapstruct.org/","title":"How to map from Model entity with list of Objects and one more Object to single Domain entity with Mapstruct","body":"<p>How can I use <em><a href=\"https://mapstruct.org/\" rel=\"nofollow noreferrer\">MapStruct</a></em> to create a mapper that maps from Model entity that includes one list of objects and one another object to Domain entity, consists of only list of nested objects.</p>\n<p>My Model entity list object    = SourceObject-A;</p>\n<p>My Model entity second object  = SourceObject-B;</p>\n<p>My Doamin entity list object   = TargetObject-AB;</p>\n<p><em><strong>My source classes looks like this:</strong></em></p>\n<p>SourceObject-A:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class User {\n\n  private int id;\n  private String name;\n\n  }\n</code></pre>\n<p>SourceObject-B:</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class CountryDetails {\n\n    private String country;\n    private String countryCode;\n\n}\n</code></pre>\n<p>So I need to tranform it to this(TargetObject-AB):</p>\n<pre><code>@NoArgsConstructor\n@AllArgsConstructor\n@Data\npublic class DomainUser {\n    private int id;\n    private String name;\n    private String country;\n    private String countryCode;\n}\n</code></pre>\n<p><em>UserController:</em></p>\n<pre><code>GetMapping(&quot;/users&quot;)\npublic List&lt;DomainUser&gt; getDUsers(List&lt;User&gt; usersList, CountryDetails countryDetails){\n\n     List&lt;DomainUser&gt; domainUsersList=ModelToDomainMapper.INSTANCE.UserToDUser(usersList, \n     countryDetails);\n\n\n  return domainUsersList;\n\n}\n</code></pre>\n<p><em>Mapper Interface:</em></p>\n<pre><code>@Mapper\npublic interface ModelToDomainMapper {\n\n    ModelToDomainMapper INSTANCE = Mappers.getMapper(ModelToDomainMapper.class)\n\n\n    List&lt;DomainUser&gt; UserToDUser(List&lt;User&gt; users, CountryDetails countryDetails);\n\n\n}\n</code></pre>\n<p>Expected sample json:</p>\n<p>Source(Input):</p>\n<pre><code>[\n        \n  &quot;countryDetails&quot;:{\n        \n                 &quot;country&quot;     : &quot;India&quot;,\n                 &quot;countryCode&quot; : &quot;+91&quot;\n           \n                  },\n  &quot;userslist&quot; :[\n        \n            {\n        \n                &quot;id&quot;   : 1,\n                &quot;name&quot; : &quot;XXXXXXX&quot;\n           \n              },\n            {\n        \n               &quot;id&quot;   : 2,\n               &quot;name&quot; : &quot;XXXXXXX&quot;\n           \n             }\n        ]\n    ]\n</code></pre>\n<p>Target(Expected Output):</p>\n<pre><code>[\n  {\n    &quot;id&quot;: 1,\n    &quot;name&quot;: &quot;xxxxxx&quot;,\n    &quot;country&quot;: &quot;India&quot;,\n    &quot;countryCode&quot;: &quot;+91&quot;\n  },\n  {\n    &quot;id&quot;: 2,\n    &quot;name&quot;: &quot;xxxxxx&quot;,\n    &quot;country&quot;: &quot;India&quot;,\n    &quot;countryCode&quot;: &quot;+91&quot;\n  }\n]\n</code></pre>\n<p>Is there any way to get this above output please help me.</p>\n"},{"tags":["java","cdi","interceptor","quarkus"],"comments":[{"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"score":2,"creation_date":1633633374,"post_id":69486433,"comment_id":122818785,"body_markdown":"You need to add `@InterceptorBinding` to the `Logged` annotation.","body":"You need to add <code>@InterceptorBinding</code> to the <code>Logged</code> annotation."},{"owner":{"account_id":9236879,"reputation":3001,"user_id":6861219,"accept_rate":88,"display_name":"Ziqi Liu"},"score":0,"creation_date":1633635725,"post_id":69486433,"comment_id":122819603,"body_markdown":"@NikosParaskevopoulos thanks, that solved my problem!","body":"@NikosParaskevopoulos thanks, that solved my problem!"},{"owner":{"account_id":2922228,"reputation":61034,"user_id":2504224,"display_name":"geoand"},"score":0,"creation_date":1633672298,"post_id":69486433,"comment_id":122826669,"body_markdown":"@NikosParaskevopoulos how about adding that as answer for future readers of the issue?","body":"@NikosParaskevopoulos how about adding that as answer for future readers of the issue?"}],"answers":[{"tags":[],"owner":{"account_id":3284439,"reputation":39734,"user_id":2764255,"accept_rate":50,"display_name":"Nikos Paraskevopoulos"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633765747,"creation_date":1633765747,"answer_id":69504772,"question_id":69486433,"body_markdown":"The missing part was adding the `@InterceptorBinding` annotation to the `public @interface Logged` annotation.","title":"quarkus CDI: Interceptor has no bindings","body":"<p>The missing part was adding the <code>@InterceptorBinding</code> annotation to the <code>public @interface Logged</code> annotation.</p>\n"}],"owner":{"account_id":9236879,"reputation":3001,"user_id":6861219,"accept_rate":88,"display_name":"Ziqi Liu"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1355,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69504772,"answer_count":1,"score":2,"last_activity_date":1633765747,"creation_date":1633632876,"question_id":69486433,"body_markdown":"I strictly follow the tutorial here (https://quarkus.io/guides/cdi#interceptors), and write a simple interceptor based on this mini example (https://github.com/quarkusio/quarkus-quickstarts/tree/main/getting-started)\r\n\r\nmy interceptor:\r\n```\r\npackage org.acme.getting.started;\r\n\r\nimport javax.annotation.Priority;\r\nimport javax.interceptor.AroundInvoke;\r\nimport javax.interceptor.Interceptor;\r\nimport javax.interceptor.InvocationContext;\r\n\r\n@Logged\r\n@Priority(2020)\r\n@Interceptor\r\npublic class InvocationLogger {\r\n\r\n    @AroundInvoke\r\n    Object logInvocation(InvocationContext context) {\r\n        System.out.println(&quot;Entering method:&quot; + context.getMethod().getName());\r\n\r\n        try {\r\n            Object ret = context.proceed();\r\n            return ret;\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n            return null;\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nthe binding annotation:\r\n```\r\npackage org.acme.getting.started;\r\n\r\nimport java.lang.annotation.Target;\r\nimport java.lang.annotation.Retention;\r\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\r\nimport static java.lang.annotation.ElementType.METHOD;\r\nimport static java.lang.annotation.ElementType.TYPE;;\r\n\r\n@Retention(value = RUNTIME)\r\n@Target(value = { METHOD, TYPE })\r\npublic @interface Logged {\r\n\r\n}\r\n\r\n```\r\n\r\n\r\nthe service I tried to bind:\r\n\r\n```\r\npackage org.acme.getting.started;\r\n\r\nimport javax.enterprise.context.ApplicationScoped;\r\n\r\n@ApplicationScoped\r\npublic class GreetingService {\r\n\r\n    @Logged\r\n    public String greeting(String name) {\r\n        return &quot;hello &quot; + name;\r\n    }\r\n\r\n}\r\n\r\n```\r\n\r\nBut I got `Interceptor has no bindings` error:\r\n\r\n```\r\nCaused by: javax.enterprise.inject.spi.DefinitionException: Interceptor has no bindings: org.acme.getting.started.InvocationLogger\r\n        at io.quarkus.arc.processor.Interceptors.createInterceptor(Interceptors.java:44)\r\n        at io.quarkus.arc.processor.BeanDeployment.findInterceptors(BeanDeployment.java:1112)\r\n        at io.quarkus.arc.processor.BeanDeployment.registerBeans(BeanDeployment.java:233)\r\n        at io.quarkus.arc.processor.BeanProcessor.registerBeans(BeanProcessor.java:115)\r\n        at io.quarkus.arc.deployment.ArcProcessor.registerBeans(ArcProcessor.java:376)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\r\n        at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:920)\r\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\r\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2415)\r\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\r\n        at java.base/java.lang.Thread.run(Thread.java:829)\r\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\r\n```\r\n\r\n\r\nAm I doing anything wrong?","title":"quarkus CDI: Interceptor has no bindings","body":"<p>I strictly follow the tutorial here (<a href=\"https://quarkus.io/guides/cdi#interceptors\" rel=\"nofollow noreferrer\">https://quarkus.io/guides/cdi#interceptors</a>), and write a simple interceptor based on this mini example (<a href=\"https://github.com/quarkusio/quarkus-quickstarts/tree/main/getting-started\" rel=\"nofollow noreferrer\">https://github.com/quarkusio/quarkus-quickstarts/tree/main/getting-started</a>)</p>\n<p>my interceptor:</p>\n<pre><code>package org.acme.getting.started;\n\nimport javax.annotation.Priority;\nimport javax.interceptor.AroundInvoke;\nimport javax.interceptor.Interceptor;\nimport javax.interceptor.InvocationContext;\n\n@Logged\n@Priority(2020)\n@Interceptor\npublic class InvocationLogger {\n\n    @AroundInvoke\n    Object logInvocation(InvocationContext context) {\n        System.out.println(&quot;Entering method:&quot; + context.getMethod().getName());\n\n        try {\n            Object ret = context.proceed();\n            return ret;\n        } catch (Exception e) {\n            e.printStackTrace();\n            return null;\n        }\n\n    }\n\n}\n\n</code></pre>\n<p>the binding annotation:</p>\n<pre><code>package org.acme.getting.started;\n\nimport java.lang.annotation.Target;\nimport java.lang.annotation.Retention;\nimport static java.lang.annotation.RetentionPolicy.RUNTIME;\nimport static java.lang.annotation.ElementType.METHOD;\nimport static java.lang.annotation.ElementType.TYPE;;\n\n@Retention(value = RUNTIME)\n@Target(value = { METHOD, TYPE })\npublic @interface Logged {\n\n}\n\n</code></pre>\n<p>the service I tried to bind:</p>\n<pre><code>package org.acme.getting.started;\n\nimport javax.enterprise.context.ApplicationScoped;\n\n@ApplicationScoped\npublic class GreetingService {\n\n    @Logged\n    public String greeting(String name) {\n        return &quot;hello &quot; + name;\n    }\n\n}\n\n</code></pre>\n<p>But I got <code>Interceptor has no bindings</code> error:</p>\n<pre><code>Caused by: javax.enterprise.inject.spi.DefinitionException: Interceptor has no bindings: org.acme.getting.started.InvocationLogger\n        at io.quarkus.arc.processor.Interceptors.createInterceptor(Interceptors.java:44)\n        at io.quarkus.arc.processor.BeanDeployment.findInterceptors(BeanDeployment.java:1112)\n        at io.quarkus.arc.processor.BeanDeployment.registerBeans(BeanDeployment.java:233)\n        at io.quarkus.arc.processor.BeanProcessor.registerBeans(BeanProcessor.java:115)\n        at io.quarkus.arc.deployment.ArcProcessor.registerBeans(ArcProcessor.java:376)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n        at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n        at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n        at java.base/java.lang.reflect.Method.invoke(Method.java:566)\n        at io.quarkus.deployment.ExtensionLoader$2.execute(ExtensionLoader.java:920)\n        at io.quarkus.builder.BuildContext.run(BuildContext.java:277)\n        at org.jboss.threads.EnhancedQueueExecutor$Task.run(EnhancedQueueExecutor.java:2415)\n        at org.jboss.threads.EnhancedQueueExecutor$ThreadBody.run(EnhancedQueueExecutor.java:1452)\n        at java.base/java.lang.Thread.run(Thread.java:829)\n        at org.jboss.threads.JBossThread.run(JBossThread.java:501)\n</code></pre>\n<p>Am I doing anything wrong?</p>\n"},{"tags":["java","tomcat","javabeans","tomcat10","java-17"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633764912,"creation_date":1633725677,"answer_id":69501502,"question_id":69500821,"body_markdown":"The `Connector` MBean does not contain information on the TLS configuration. You need to call the method `findSslHostConfigs` on a bean of `type=ThreadPool`. `ThreadPool` is actually a misnomer, since this MBean is exported by each [`ProtocolHandler`](https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/coyote/ProtocolHandler.html).\r\n\r\n```lang-java\r\nfinal MBeanServer mbs = ManagementFactory.getPlatformMBeanServer();\r\nfinal QueryExp qe = Query.eq(Query.attr(&quot;port&quot;), Query.value(443));\r\nfinal ObjectName on = new ObjectName(&quot;*:type=ThreadPool,*&quot;);\r\nfinal Set&lt;ObjectName&gt; protocols = mbs.queryNames(on, qe);\r\nfor (final ObjectName protocol : protocols) {\r\n\tSSLHostConfig[] configs = (SSLHostConfig[]) mbs.invoke(protocol, &quot;findSslHostConfigs&quot;, null, null);\r\n\t// do something with the SSLHostConfig\r\n}\r\n```\r\n\r\nAlternatively the `SSLHostConfig`s are available as MBeans too: they have the property `type=SSLHostConfig`.","title":"How to get the SSLHostConfig?","body":"<p>The <code>Connector</code> MBean does not contain information on the TLS configuration. You need to call the method <code>findSslHostConfigs</code> on a bean of <code>type=ThreadPool</code>. <code>ThreadPool</code> is actually a misnomer, since this MBean is exported by each <a href=\"https://tomcat.apache.org/tomcat-9.0-doc/api/org/apache/coyote/ProtocolHandler.html\" rel=\"nofollow noreferrer\"><code>ProtocolHandler</code></a>.</p>\n<pre class=\"lang-java prettyprint-override\"><code>final MBeanServer mbs = ManagementFactory.getPlatformMBeanServer();\nfinal QueryExp qe = Query.eq(Query.attr(&quot;port&quot;), Query.value(443));\nfinal ObjectName on = new ObjectName(&quot;*:type=ThreadPool,*&quot;);\nfinal Set&lt;ObjectName&gt; protocols = mbs.queryNames(on, qe);\nfor (final ObjectName protocol : protocols) {\n    SSLHostConfig[] configs = (SSLHostConfig[]) mbs.invoke(protocol, &quot;findSslHostConfigs&quot;, null, null);\n    // do something with the SSLHostConfig\n}\n</code></pre>\n<p>Alternatively the <code>SSLHostConfig</code>s are available as MBeans too: they have the property <code>type=SSLHostConfig</code>.</p>\n"}],"owner":{"account_id":1151728,"reputation":2694,"user_id":1133275,"accept_rate":50,"display_name":"user1133275"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":132,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":69501502,"answer_count":1,"score":2,"last_activity_date":1633764912,"creation_date":1633720825,"question_id":69500821,"body_markdown":"I am able to get the parent Connector with\r\n\r\n\t\t\tMBeanServer mbs = ManagementFactory.getPlatformMBeanServer();\r\n\t\t\tQueryExp qe = Query.match(Query.attr(&quot;port&quot;), Query.value(&quot;443&quot;));\r\n\t\t\tObjectName on = new ObjectName(&quot;*:type=Connector,*&quot;);\r\n\t\t\tSet&lt;ObjectName&gt; objectNames = mbs.queryNames(on, qe);\r\n\r\nand I don&#39;t want to read server.xml in case it is out of sync.\r\nHow is one to get the SSLHostConfig ?","title":"How to get the SSLHostConfig?","body":"<p>I am able to get the parent Connector with</p>\n<pre><code>        MBeanServer mbs = ManagementFactory.getPlatformMBeanServer();\n        QueryExp qe = Query.match(Query.attr(&quot;port&quot;), Query.value(&quot;443&quot;));\n        ObjectName on = new ObjectName(&quot;*:type=Connector,*&quot;);\n        Set&lt;ObjectName&gt; objectNames = mbs.queryNames(on, qe);\n</code></pre>\n<p>and I don't want to read server.xml in case it is out of sync.\nHow is one to get the SSLHostConfig ?</p>\n"},{"tags":["java","selenium","selenium-webdriver","intellij-idea","testng"],"comments":[{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1633709405,"post_id":69498524,"comment_id":122840576,"body_markdown":"Have you debugged ? It seems driver is not initialized and you are passing null","body":"Have you debugged ? It seems driver is not initialized and you are passing null"},{"owner":{"account_id":22980492,"reputation":1,"user_id":17107499,"display_name":"Faruk"},"score":0,"creation_date":1633714636,"post_id":69498524,"comment_id":122842398,"body_markdown":"Thank you for your response. \nI have initialized the driver @BeforeSuite and it works fine on the first two test cases. I am wondering if I need to do anything before working on the current test case.","body":"Thank you for your response.  I have initialized the driver @BeforeSuite and it works fine on the first two test cases. I am wondering if I need to do anything before working on the current test case."},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1633717032,"post_id":69498524,"comment_id":122843220,"body_markdown":"Where you are launching the page? driver.get(url)?","body":"Where you are launching the page? driver.get(url)?"},{"owner":{"account_id":11380920,"reputation":8254,"user_id":8343843,"display_name":"Alexey R."},"score":0,"creation_date":1633717995,"post_id":69498524,"comment_id":122843528,"body_markdown":"Why are your page object fields static?","body":"Why are your page object fields static?"},{"owner":{"account_id":22980492,"reputation":1,"user_id":17107499,"display_name":"Faruk"},"score":0,"creation_date":1633719659,"post_id":69498524,"comment_id":122844100,"body_markdown":"@NandanA The launching page was done in the previous test case which works fine.\n\n@Test()\n\n    public void MYQC_Login_Button_Text() throws InterruptedException, IOException {\n\n        //creating an object of the CUST4_MYQC_Login_Selection_Page\n        CUST4_MYQC_Login_Selection_Page go_To_MYQC_Page = PageFactory.initElements(driver, CUST4_MYQC_Login_Selection_Page.class);\n\n        // going to the link\n        driver.get(&quot;https://mmhasan345.com&quot;);","body":"@NandanA The launching page was done in the previous test case which works fine.  @Test()      public void MYQC_Login_Button_Text() throws InterruptedException, IOException {          //creating an object of the CUST4_MYQC_Login_Selection_Page         CUST4_MYQC_Login_Selection_Page go_To_MYQC_Page = PageFactory.initElements(driver, CUST4_MYQC_Login_Selection_Page.class);          // going to the link         driver.get(&quot;<a href=\"https://mmhasan345.com&quot;\" rel=\"nofollow noreferrer\">mmhasan345.com&quot;</a>);"},{"owner":{"account_id":22980492,"reputation":1,"user_id":17107499,"display_name":"Faruk"},"score":0,"creation_date":1633720037,"post_id":69498524,"comment_id":122844214,"body_markdown":"@AlexeyR. I tried with non static objects and still got the same error.","body":"@AlexeyR. I tried with non static objects and still got the same error."},{"owner":{"account_id":10489136,"reputation":2762,"user_id":7731623,"display_name":"Nandan A"},"score":0,"creation_date":1633767187,"post_id":69498524,"comment_id":122851994,"body_markdown":"Call     `MYQC_Login_Page login_page = PageFactory.initElements(driver,MYQC_Login_Page.class);` inside `MYQC_Login()` and it should work. If it works please let me know I will post the reason","body":"Call     <code>MYQC_Login_Page login_page = PageFactory.initElements(driver,MYQC_Login_Page.class);</code> inside <code>MYQC_Login()</code> and it should work. If it works please let me know I will post the reason"},{"owner":{"account_id":22980492,"reputation":1,"user_id":17107499,"display_name":"Faruk"},"score":0,"creation_date":1634129822,"post_id":69498524,"comment_id":122942933,"body_markdown":"Still not working. getting the same error.","body":"Still not working. getting the same error."}],"answers":[{"tags":[],"owner":{"account_id":14199152,"reputation":796,"user_id":10257512,"display_name":"Jayanth Bala"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633764847,"creation_date":1633764847,"answer_id":69504669,"question_id":69498524,"body_markdown":"your username element is not found on your 3rd test, please do following actions\r\n\r\n**at MYQC_Browser_Pages.MYQC_Login_Page.clickUserName(MYQC_Login_Page.java:30)**\r\n\r\n 1. Please **add screenshot** just before entering username,\r\n 2. Add **wait time** to load website completely.\r\n\r\n\r\nstill not helpful, \r\nbetter you **should isolate** all your test methods.\r\n\r\n 1. no static properties\r\n 2. login and logout should be in before method and after method - test method should be independent\r\n 3. use common method for assertions so whenever get failed, automatically add screenshot\r\n","title":"TestNG Null Pointer Exception error when working on a page opened by a previous test case","body":"<p>your username element is not found on your 3rd test, please do following actions</p>\n<p><strong>at MYQC_Browser_Pages.MYQC_Login_Page.clickUserName(MYQC_Login_Page.java:30)</strong></p>\n<ol>\n<li>Please <strong>add screenshot</strong> just before entering username,</li>\n<li>Add <strong>wait time</strong> to load website completely.</li>\n</ol>\n<p>still not helpful,\nbetter you <strong>should isolate</strong> all your test methods.</p>\n<ol>\n<li>no static properties</li>\n<li>login and logout should be in before method and after method - test method should be independent</li>\n<li>use common method for assertions so whenever get failed, automatically add screenshot</li>\n</ol>\n"}],"owner":{"account_id":22980492,"reputation":1,"user_id":17107499,"display_name":"Faruk"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633764847,"creation_date":1633707942,"question_id":69498524,"body_markdown":"I am using TestNG and Page Object Model. \r\nI have created some test cases. I see that the first two test cases are working. But, the third test case starts on a new page which is opened by the second test case. I am unable to interact with the new page, and getting a Null Pointer Exception error. Not sure what went wrong. \r\n\r\nI have three Java classes Here. \r\n\r\nThis is my base class: \r\n\r\n    package MYQC_Reusable_Classes;\r\n    \r\n    import java.io.IOException;\r\n    import java.util.concurrent.TimeUnit;\r\n    \r\n    import com.relevantcodes.extentreports.ExtentReports;\r\n    import com.relevantcodes.extentreports.ExtentTest;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.chrome.ChromeOptions;\r\n    import org.testng.annotations.AfterSuite;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.BeforeSuite;\r\n    \r\n    public class MYQC_Base_Class {\r\n    \r\n        public static WebDriver driver = null;\r\n       // public static ExtentTest Logger = null;\r\n      //  public static ExtentReports report = null;\r\n    \r\n    \r\n        @BeforeSuite\r\n        public void initialize() throws IOException {\r\n         //   report = new ExtentReports(&quot;C:\\\\Users\\\\fhasan\\\\Desktop\\\\ExtentReport&quot;+&quot;.html&quot;);\r\n            System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\fhasan\\\\Desktop\\\\driver\\\\chromedriver.exe&quot;);\r\n            ChromeOptions options = new ChromeOptions();`enter code here`\r\n            // add the precondition arguments\r\n            options.addArguments(&quot;start-maximized&quot;, &quot;incognito&quot;);\r\n            driver = new ChromeDriver(options);\r\n            // To maximize browser\r\n            driver.manage().window().maximize();\r\n            // Implicit wait\r\n            driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n        }\r\n    \r\n        @BeforeMethod\r\n        public void timer(){\r\n            driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\r\n        }\r\n        @AfterSuite\r\n        // Test cleanup\r\n        public void TeardownTest() throws InterruptedException {\r\n            Thread.sleep(4000);\r\n            MYQC_Base_Class.driver.quit();\r\n        }\r\n    }\r\n\r\nThis is my page class: \r\n\r\n\r\n    package MYQC_Browser_Pages;\r\n    \r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.WebElement;\r\n    import org.openqa.selenium.support.FindBy;\r\n    import org.openqa.selenium.support.How;\r\n    \r\n    public class MYQC_Login_Page {\r\n    \r\n        WebDriver driver;\r\n    \r\n        // constructor that will be automatically called as soon as the object of the\r\n        // class is created\r\n        public MYQC_Login_Page(WebDriver driver) {\r\n            this.driver = driver;\r\n        }\r\n    \r\n        @FindBy(how = How.ID, using = &quot;loginName&quot;)\r\n        public static WebElement userNameField;\r\n    \r\n        @FindBy(how = How.ID, using = &quot;loginPassword&quot;)\r\n        public static WebElement passwordField;\r\n    \r\n        @FindBy(how = How.ID, using = &quot;loginButton&quot;)\r\n        public static WebElement clickLogin;\r\n    \r\n    \r\n        //Method to enter username\r\n        public void clickUserName() {\r\n            userNameField.click();\r\n    \r\n        }\r\n    \r\n        public void enterUserName(String user) {\r\n            userNameField.sendKeys(user);\r\n    \r\n        }\r\n    \r\n        public void clickPass() {\r\n            passwordField.click();\r\n    \r\n        }\r\n    \r\n        public void enterPassword(String pass) {\r\n            passwordField.sendKeys(pass);\r\n    \r\n        }\r\n    \r\n        //Method to click on Login button\r\n        public void clickLoginButton() {\r\n            clickLogin.click();\r\n        }\r\n    \r\n    }\r\nThis is my first test case which works fine: \r\n\r\n    package MYQC_TestCase_Classes;\r\n    \r\n    import MYQC_Browser_Pages.CUST4_MYQC_Login_Selection_Page;\r\n    import MYQC_Reusable_Classes.MYQC_Base_Class;\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    import org.testng.Assert;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    import java.util.PriorityQueue;\r\n    \r\n    public class TC001_MYQC_Login_Selection_Button_Text extends MYQC_Base_Class {\r\n    \r\n    \r\n        @Test()\r\n        public void MYQC_Login_Button_Text() throws InterruptedException, IOException {\r\n            //creating anb object of the CUST4_MYQC_Login_Selection_Page\r\n            CUST4_MYQC_Login_Selection_Page go_To_MYQC_Page = PageFactory.initElements(driver, CUST4_MYQC_Login_Selection_Page.class);\r\n    \r\n            // going to the cust4 myqc link\r\n            driver.get(&quot;https://mmhcustfour.com&quot;);\r\n            Thread.sleep(3000);\r\n            Assert.assertEquals(go_To_MYQC_Page.buttonText(), &quot;Login with Quickcharge Authentication&quot;);\r\n            //System.out.print( go_To_MYQC_Page.buttonText());\r\n    \r\n        }\r\n    \r\n        }\r\n\r\nThis is my second test case (on the same page) which also works fine: \r\n\r\n    package MYQC_TestCase_Classes;\r\n    \r\n    import MYQC_Browser_Pages.CUST4_MYQC_Login_Selection_Page;\r\n    import MYQC_Browser_Pages.MYQC_Login_Page;\r\n    import MYQC_Reusable_Classes.MYQC_Base_Class;\r\n    import org.apache.commons.io.FileUtils;\r\n    import org.openqa.selenium.OutputType;\r\n    import org.openqa.selenium.TakesScreenshot;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Test;\r\n    \r\n    import java.io.File;\r\n    import java.io.IOException;\r\n    \r\n    public class TC002_MYQC_Login_Selection_Test extends MYQC_Base_Class {\r\n    \r\n        @Test\r\n        public void Go_To_MYQC_Login_Page_Test() throws InterruptedException, IOException {\r\n            //creating anb object of the CUST4_MYQC_Login_Selection_Page\r\n            CUST4_MYQC_Login_Selection_Page go_To_MYQC_Page = PageFactory.initElements(driver, CUST4_MYQC_Login_Selection_Page.class);\r\n            //Clicking on the button to go to the MYQC login page\r\n            go_To_MYQC_Page.preClickLogin();\r\n            // waiting few seconds to get a screenshot of the page\r\n            Thread.sleep(2000);\r\n            File src = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\r\n            FileUtils.copyFile(src, new File(&quot;C:\\\\Users\\\\fhasan\\\\Desktop\\\\Selenium Screenshots\\\\MYQCLogin_Page.png&quot;));\r\n            Thread.sleep(2000);\r\n        }\r\n    \r\n    }\r\n\r\n\r\n\r\nThis is my third test case class: (which creates the error) \r\n\r\n\r\n    package MYQC_TestCase_Classes;\r\n    \r\n    import MYQC_Browser_Pages.MYQC_Login_Page;\r\n    import MYQC_Reusable_Classes.MYQC_Base_Class;\r\n    import org.openqa.selenium.WebDriver;\r\n    import org.openqa.selenium.chrome.ChromeDriver;\r\n    import org.openqa.selenium.support.PageFactory;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Test;\r\n    \r\n    public class TC003_MYQC_Prepaid_Login_Test extends MYQC_Base_Class {\r\n    \r\n        //creating an object of the page\r\n    \r\n        MYQC_Login_Page login_page = PageFactory.initElements(driver,MYQC_Login_Page.class);\r\n    \r\n    \r\n        @Test\r\n        public void MYQC_Login() throws InterruptedException {\r\n            Thread.sleep(2000);\r\n            login_page.clickUserName();\r\n            login_page.enterUserName(&quot;***&quot;);\r\n            Thread.sleep(2000);\r\n            login_page.clickPass();\r\n            login_page.enterPassword(&quot;***&quot;);\r\n            login_page.clickLoginButton();\r\n    \r\n    \r\n        }\r\n    }\r\n\r\nAfter running the code, I am getting the following error: \r\n\r\n    java.lang.NullPointerException\r\n    at org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:69)\r\n    at org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:38)\r\n    at com.sun.proxy.$Proxy9.click(Unknown Source)\r\n    at MYQC_Browser_Pages.MYQC_Login_Page.clickUserName(MYQC_Login_Page.java:30)\r\n    at MYQC_TestCase_Classes.TC003_MYQC_Prepaid_Login_Test.MYQC_Login(TC003_MYQC_Prepaid_Login_Test.java:20)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    at java.lang.reflect.Method.invoke(Method.java:498)\r\n    at org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\r\n    at org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\r\n    at org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\r\n    at org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\r\n    at org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\r\n    at org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\r\n    at org.testng.TestRunner.privateRun(TestRunner.java:767)\r\n    at org.testng.TestRunner.run(TestRunner.java:617)\r\n    at org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\r\n    at org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\r\n    at org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\r\n    at org.testng.SuiteRunner.run(SuiteRunner.java:240)\r\n    at org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\r\n    at org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\r\n    at org.testng.TestNG.runSuitesSequentially(TestNG.java:1198)\r\n    at org.testng.TestNG.runSuitesLocally(TestNG.java:1123)\r\n    at org.testng.TestNG.run(TestNG.java:1031)\r\n    at com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\r\n    at com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\r\n    \t\r\n\r\n\r\n\r\n","title":"TestNG Null Pointer Exception error when working on a page opened by a previous test case","body":"<p>I am using TestNG and Page Object Model.\nI have created some test cases. I see that the first two test cases are working. But, the third test case starts on a new page which is opened by the second test case. I am unable to interact with the new page, and getting a Null Pointer Exception error. Not sure what went wrong.</p>\n<p>I have three Java classes Here.</p>\n<p>This is my base class:</p>\n<pre><code>package MYQC_Reusable_Classes;\n\nimport java.io.IOException;\nimport java.util.concurrent.TimeUnit;\n\nimport com.relevantcodes.extentreports.ExtentReports;\nimport com.relevantcodes.extentreports.ExtentTest;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.chrome.ChromeOptions;\nimport org.testng.annotations.AfterSuite;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.BeforeSuite;\n\npublic class MYQC_Base_Class {\n\n    public static WebDriver driver = null;\n   // public static ExtentTest Logger = null;\n  //  public static ExtentReports report = null;\n\n\n    @BeforeSuite\n    public void initialize() throws IOException {\n     //   report = new ExtentReports(&quot;C:\\\\Users\\\\fhasan\\\\Desktop\\\\ExtentReport&quot;+&quot;.html&quot;);\n        System.setProperty(&quot;webdriver.chrome.driver&quot;, &quot;C:\\\\Users\\\\fhasan\\\\Desktop\\\\driver\\\\chromedriver.exe&quot;);\n        ChromeOptions options = new ChromeOptions();`enter code here`\n        // add the precondition arguments\n        options.addArguments(&quot;start-maximized&quot;, &quot;incognito&quot;);\n        driver = new ChromeDriver(options);\n        // To maximize browser\n        driver.manage().window().maximize();\n        // Implicit wait\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n    }\n\n    @BeforeMethod\n    public void timer(){\n        driver.manage().timeouts().implicitlyWait(10, TimeUnit.SECONDS);\n    }\n    @AfterSuite\n    // Test cleanup\n    public void TeardownTest() throws InterruptedException {\n        Thread.sleep(4000);\n        MYQC_Base_Class.driver.quit();\n    }\n}\n</code></pre>\n<p>This is my page class:</p>\n<pre><code>package MYQC_Browser_Pages;\n\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.WebElement;\nimport org.openqa.selenium.support.FindBy;\nimport org.openqa.selenium.support.How;\n\npublic class MYQC_Login_Page {\n\n    WebDriver driver;\n\n    // constructor that will be automatically called as soon as the object of the\n    // class is created\n    public MYQC_Login_Page(WebDriver driver) {\n        this.driver = driver;\n    }\n\n    @FindBy(how = How.ID, using = &quot;loginName&quot;)\n    public static WebElement userNameField;\n\n    @FindBy(how = How.ID, using = &quot;loginPassword&quot;)\n    public static WebElement passwordField;\n\n    @FindBy(how = How.ID, using = &quot;loginButton&quot;)\n    public static WebElement clickLogin;\n\n\n    //Method to enter username\n    public void clickUserName() {\n        userNameField.click();\n\n    }\n\n    public void enterUserName(String user) {\n        userNameField.sendKeys(user);\n\n    }\n\n    public void clickPass() {\n        passwordField.click();\n\n    }\n\n    public void enterPassword(String pass) {\n        passwordField.sendKeys(pass);\n\n    }\n\n    //Method to click on Login button\n    public void clickLoginButton() {\n        clickLogin.click();\n    }\n\n}\n</code></pre>\n<p>This is my first test case which works fine:</p>\n<pre><code>package MYQC_TestCase_Classes;\n\nimport MYQC_Browser_Pages.CUST4_MYQC_Login_Selection_Page;\nimport MYQC_Reusable_Classes.MYQC_Base_Class;\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.support.PageFactory;\nimport org.testng.Assert;\nimport org.testng.annotations.Test;\n\nimport java.io.File;\nimport java.io.IOException;\nimport java.util.PriorityQueue;\n\npublic class TC001_MYQC_Login_Selection_Button_Text extends MYQC_Base_Class {\n\n\n    @Test()\n    public void MYQC_Login_Button_Text() throws InterruptedException, IOException {\n        //creating anb object of the CUST4_MYQC_Login_Selection_Page\n        CUST4_MYQC_Login_Selection_Page go_To_MYQC_Page = PageFactory.initElements(driver, CUST4_MYQC_Login_Selection_Page.class);\n\n        // going to the cust4 myqc link\n        driver.get(&quot;https://mmhcustfour.com&quot;);\n        Thread.sleep(3000);\n        Assert.assertEquals(go_To_MYQC_Page.buttonText(), &quot;Login with Quickcharge Authentication&quot;);\n        //System.out.print( go_To_MYQC_Page.buttonText());\n\n    }\n\n    }\n</code></pre>\n<p>This is my second test case (on the same page) which also works fine:</p>\n<pre><code>package MYQC_TestCase_Classes;\n\nimport MYQC_Browser_Pages.CUST4_MYQC_Login_Selection_Page;\nimport MYQC_Browser_Pages.MYQC_Login_Page;\nimport MYQC_Reusable_Classes.MYQC_Base_Class;\nimport org.apache.commons.io.FileUtils;\nimport org.openqa.selenium.OutputType;\nimport org.openqa.selenium.TakesScreenshot;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.support.PageFactory;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\n\nimport java.io.File;\nimport java.io.IOException;\n\npublic class TC002_MYQC_Login_Selection_Test extends MYQC_Base_Class {\n\n    @Test\n    public void Go_To_MYQC_Login_Page_Test() throws InterruptedException, IOException {\n        //creating anb object of the CUST4_MYQC_Login_Selection_Page\n        CUST4_MYQC_Login_Selection_Page go_To_MYQC_Page = PageFactory.initElements(driver, CUST4_MYQC_Login_Selection_Page.class);\n        //Clicking on the button to go to the MYQC login page\n        go_To_MYQC_Page.preClickLogin();\n        // waiting few seconds to get a screenshot of the page\n        Thread.sleep(2000);\n        File src = ((TakesScreenshot) driver).getScreenshotAs(OutputType.FILE);\n        FileUtils.copyFile(src, new File(&quot;C:\\\\Users\\\\fhasan\\\\Desktop\\\\Selenium Screenshots\\\\MYQCLogin_Page.png&quot;));\n        Thread.sleep(2000);\n    }\n\n}\n</code></pre>\n<p>This is my third test case class: (which creates the error)</p>\n<pre><code>package MYQC_TestCase_Classes;\n\nimport MYQC_Browser_Pages.MYQC_Login_Page;\nimport MYQC_Reusable_Classes.MYQC_Base_Class;\nimport org.openqa.selenium.WebDriver;\nimport org.openqa.selenium.chrome.ChromeDriver;\nimport org.openqa.selenium.support.PageFactory;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\n\npublic class TC003_MYQC_Prepaid_Login_Test extends MYQC_Base_Class {\n\n    //creating an object of the page\n\n    MYQC_Login_Page login_page = PageFactory.initElements(driver,MYQC_Login_Page.class);\n\n\n    @Test\n    public void MYQC_Login() throws InterruptedException {\n        Thread.sleep(2000);\n        login_page.clickUserName();\n        login_page.enterUserName(&quot;***&quot;);\n        Thread.sleep(2000);\n        login_page.clickPass();\n        login_page.enterPassword(&quot;***&quot;);\n        login_page.clickLoginButton();\n\n\n    }\n}\n</code></pre>\n<p>After running the code, I am getting the following error:</p>\n<pre><code>java.lang.NullPointerException\nat org.openqa.selenium.support.pagefactory.DefaultElementLocator.findElement(DefaultElementLocator.java:69)\nat org.openqa.selenium.support.pagefactory.internal.LocatingElementHandler.invoke(LocatingElementHandler.java:38)\nat com.sun.proxy.$Proxy9.click(Unknown Source)\nat MYQC_Browser_Pages.MYQC_Login_Page.clickUserName(MYQC_Login_Page.java:30)\nat MYQC_TestCase_Classes.TC003_MYQC_Prepaid_Login_Test.MYQC_Login(TC003_MYQC_Prepaid_Login_Test.java:20)\nat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\nat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\nat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\nat java.lang.reflect.Method.invoke(Method.java:498)\nat org.testng.internal.MethodInvocationHelper.invokeMethod(MethodInvocationHelper.java:80)\nat org.testng.internal.Invoker.invokeMethod(Invoker.java:714)\nat org.testng.internal.Invoker.invokeTestMethod(Invoker.java:901)\nat org.testng.internal.Invoker.invokeTestMethods(Invoker.java:1231)\nat org.testng.internal.TestMethodWorker.invokeTestMethods(TestMethodWorker.java:127)\nat org.testng.internal.TestMethodWorker.run(TestMethodWorker.java:111)\nat org.testng.TestRunner.privateRun(TestRunner.java:767)\nat org.testng.TestRunner.run(TestRunner.java:617)\nat org.testng.SuiteRunner.runTest(SuiteRunner.java:334)\nat org.testng.SuiteRunner.runSequentially(SuiteRunner.java:329)\nat org.testng.SuiteRunner.privateRun(SuiteRunner.java:291)\nat org.testng.SuiteRunner.run(SuiteRunner.java:240)\nat org.testng.SuiteRunnerWorker.runSuite(SuiteRunnerWorker.java:52)\nat org.testng.SuiteRunnerWorker.run(SuiteRunnerWorker.java:86)\nat org.testng.TestNG.runSuitesSequentially(TestNG.java:1198)\nat org.testng.TestNG.runSuitesLocally(TestNG.java:1123)\nat org.testng.TestNG.run(TestNG.java:1031)\nat com.intellij.rt.testng.IDEARemoteTestNG.run(IDEARemoteTestNG.java:66)\nat com.intellij.rt.testng.RemoteTestNGStarter.main(RemoteTestNGStarter.java:109)\n    \n</code></pre>\n"},{"tags":["java","system.out"],"comments":[{"owner":{"account_id":213468,"reputation":103486,"user_id":466862,"display_name":"Mark Rotteveel"},"score":2,"creation_date":1633764310,"post_id":69504579,"comment_id":122851499,"body_markdown":"The `%` seems to be the prompt of your terminal/shell, and is not output of your program. Add a `System.out.println()` at the end of your main method so it ends up on a new line.","body":"The <code>%</code> seems to be the prompt of your terminal/shell, and is not output of your program. Add a <code>System.out.println()</code> at the end of your main method so it ends up on a new line."},{"owner":{"account_id":22985982,"reputation":1,"user_id":17112204,"display_name":"Cheng Young"},"score":0,"creation_date":1633828249,"post_id":69504579,"comment_id":122864046,"body_markdown":"Yeah, the % disappeared after adding a System.out.println(). Thanks a lot!","body":"Yeah, the % disappeared after adding a System.out.println(). Thanks a lot!"}],"owner":{"account_id":22985982,"reputation":1,"user_id":17112204,"display_name":"Cheng Young"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":25,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633764576,"answer_count":0,"score":0,"last_activity_date":1633764572,"creation_date":1633764022,"question_id":69504579,"body_markdown":"I&#39;m trying to practice some data structure using Java. And when I print out in terminal there is always a &quot;%&quot; behind my output. Does anyone know how to fix it?\r\nThis is the output of the terminal\r\n\r\n```none\r\n(base) ➜  desktop javac ReverseLinkedList1.java\r\n(base) ➜  desktop java ReverseLinkedList1      \r\n1-&gt;2-&gt;3-&gt;4-&gt;5\r\n5-&gt;4-&gt;3-&gt;2-&gt;1%       \r\n```\r\n\r\nI want to know why there is a &quot;%&quot;.\r\n\r\nThis is my code, it is about the reversing a linked list.\r\n```java\r\npublic class ReverseLinkedList1 {\r\n\tpublic static void main(String[] args){\r\n\t\tListNode head = new ListNode(1);\r\n\t\tListNode node1 = new ListNode(2);\r\n\t\tListNode node2 = new ListNode(3);\r\n\t\tListNode node3 = new ListNode(4);\r\n\t\tListNode tail = new ListNode(5);\r\n\t\thead.next = node1;\r\n\t\tnode1.next = node2;\r\n\t\tnode2.next = node3;\r\n\t\tnode3.next = tail;\r\n\t\tListNode head2 = head;\r\n\t\t//print out the initial list\r\n\t\twhile (head2 != null){\r\n\t\t\tSystem.out.print(head2.val);\r\n\t\t\thead2 = head2.next;\r\n\t\t\tif(head2 != null){\r\n\t\t\t\tSystem.out.print(&quot;-&gt;&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t\tSystem.out.println();\r\n\t\thead2 = reverseLinkedList(head);\r\n\t\t//peinr out the reversed list\r\n\t\twhile (head2 != null){\r\n\t\t\tSystem.out.print(head2.val);\r\n\t\t\t//System.out.print(&quot;^&quot;);\r\n\t\t\thead2 = head2.next;\r\n\t\t\tif(head2 != null){\r\n\t\t\t\tSystem.out.print(&quot;-&gt;&quot;);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tpublic static ListNode reverseLinkedList(ListNode head){\r\n\t\tif (head == null) {\r\n\t\t\treturn head;\r\n\t\t}\r\n\t\t//1   -&gt;    2   -&gt;   3\r\n\t\t//prev -&gt; current - &gt; next\r\n\r\n\t\tListNode prev = head;\r\n\t\tListNode current = head.next;\r\n\t\tprev.next = null;\r\n\t\twhile(current != null){\r\n\t\t\tListNode next = current.next;\r\n\t\t\t// current -&gt; prev\r\n\t\t\tcurrent.next = prev;\r\n\t\t\tprev = current;\r\n\t\t\tcurrent = next;\r\n\t\t}\r\n\t\t//prev is the head of the reversed linked list\r\n\t\treturn prev;\r\n\t}\r\n}\r\n```","title":"When I print out in terminal there is always a &quot;%&quot; behind my output. How to fix it?","body":"<p>I'm trying to practice some data structure using Java. And when I print out in terminal there is always a &quot;%&quot; behind my output. Does anyone know how to fix it?\nThis is the output of the terminal</p>\n<pre class=\"lang-none prettyprint-override\"><code>(base) ➜  desktop javac ReverseLinkedList1.java\n(base) ➜  desktop java ReverseLinkedList1      \n1-&gt;2-&gt;3-&gt;4-&gt;5\n5-&gt;4-&gt;3-&gt;2-&gt;1%       \n</code></pre>\n<p>I want to know why there is a &quot;%&quot;.</p>\n<p>This is my code, it is about the reversing a linked list.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class ReverseLinkedList1 {\n    public static void main(String[] args){\n        ListNode head = new ListNode(1);\n        ListNode node1 = new ListNode(2);\n        ListNode node2 = new ListNode(3);\n        ListNode node3 = new ListNode(4);\n        ListNode tail = new ListNode(5);\n        head.next = node1;\n        node1.next = node2;\n        node2.next = node3;\n        node3.next = tail;\n        ListNode head2 = head;\n        //print out the initial list\n        while (head2 != null){\n            System.out.print(head2.val);\n            head2 = head2.next;\n            if(head2 != null){\n                System.out.print(&quot;-&gt;&quot;);\n            }\n        }\n        System.out.println();\n        head2 = reverseLinkedList(head);\n        //peinr out the reversed list\n        while (head2 != null){\n            System.out.print(head2.val);\n            //System.out.print(&quot;^&quot;);\n            head2 = head2.next;\n            if(head2 != null){\n                System.out.print(&quot;-&gt;&quot;);\n            }\n        }\n    }\n\n    public static ListNode reverseLinkedList(ListNode head){\n        if (head == null) {\n            return head;\n        }\n        //1   -&gt;    2   -&gt;   3\n        //prev -&gt; current - &gt; next\n\n        ListNode prev = head;\n        ListNode current = head.next;\n        prev.next = null;\n        while(current != null){\n            ListNode next = current.next;\n            // current -&gt; prev\n            current.next = prev;\n            prev = current;\n            current = next;\n        }\n        //prev is the head of the reversed linked list\n        return prev;\n    }\n}\n</code></pre>\n"},{"tags":["java","arraylist","birthday-paradox"],"comments":[{"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"score":2,"creation_date":1633754238,"post_id":69503682,"comment_id":122850140,"body_markdown":"Please state what you think the birthday paradox is, and have a look at exactly what `matchBirthday` is doing.","body":"Please state what you think the birthday paradox is, and have a look at exactly what <code>matchBirthday</code> is doing."}],"owner":{"account_id":20604506,"reputation":11,"user_id":15125059,"display_name":"Jacob Parratto"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":38,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1633764513,"creation_date":1633752505,"question_id":69503682,"body_markdown":"The odds should be like 10% more to my understanding. However I can&#39;t ever get past 7 percent even when doing 7000 tests. I figure it must be the calculation for count of matches, but I cant figure out how it&#39;s wrong.\r\n```java \r\nimport java.util.ArrayList;\r\nimport java.util.Random;\r\n\r\npublic class PersonRoom {\r\n\t\r\n\tprivate int persons;\r\n\r\n\tprivate int loops;\r\n\t\r\n\tpublic int getPersons() {\r\n\t\treturn persons;\r\n\t}\r\n\r\n\tpublic int getLoops() {\r\n\t\treturn loops;\r\n\t}\r\n\t\r\n\tpublic PersonRoom(int persons, int loops) {\r\n\t\tthis.persons = persons;\r\n\t\tthis.loops = loops;\r\n\t}\r\n\r\n\tpublic void generatePersons(ArrayList&lt;Person&gt; students) {\r\n\t\t\r\n\t\tRandom rng = new Random();\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; persons; i++) {\r\n\t\t\tstudents.add(new Person(rng.nextInt(365) + 1));\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic boolean matchBirthday(ArrayList&lt;Person&gt; students) {\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; students.size() - 1; i++) {\r\n\t\t\t\tif(students.get(i).getBirthday() == students.get(i + 1).getBirthday()) {\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\treturn false;\r\n\t\t}\r\n\t\r\n\tpublic double probability() {\r\n\t\t\r\n\t\tdouble matchCount = 0;\r\n\t\t\r\n\t\tfor(int i = 0; i &lt; loops; i++) {\r\n\t\t\t\r\n\t\t\tArrayList&lt;Person&gt; students = new ArrayList&lt;&gt;();\r\n\t\t\t\r\n\t\t\tgeneratePersons(students);\r\n\t\t\t\r\n\t\t\tif(matchBirthday(students)) {\r\n\t\t\t\tmatchCount++;\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t\treturn (matchCount/loops) * 100;\r\n\t}\r\n\t\r\n}\r\n```\r\n  ","title":"What&#39;s wrong with this code that tries to calculate the birthday paradox with ArrayLists?","body":"<p>The odds should be like 10% more to my understanding. However I can't ever get past 7 percent even when doing 7000 tests. I figure it must be the calculation for count of matches, but I cant figure out how it's wrong.</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.util.ArrayList;\nimport java.util.Random;\n\npublic class PersonRoom {\n    \n    private int persons;\n\n    private int loops;\n    \n    public int getPersons() {\n        return persons;\n    }\n\n    public int getLoops() {\n        return loops;\n    }\n    \n    public PersonRoom(int persons, int loops) {\n        this.persons = persons;\n        this.loops = loops;\n    }\n\n    public void generatePersons(ArrayList&lt;Person&gt; students) {\n        \n        Random rng = new Random();\n        \n        for(int i = 0; i &lt; persons; i++) {\n            students.add(new Person(rng.nextInt(365) + 1));\n        }\n    }\n    \n    public boolean matchBirthday(ArrayList&lt;Person&gt; students) {\n        \n        for(int i = 0; i &lt; students.size() - 1; i++) {\n                if(students.get(i).getBirthday() == students.get(i + 1).getBirthday()) {\n                    return true;\n                }\n            }\n        return false;\n        }\n    \n    public double probability() {\n        \n        double matchCount = 0;\n        \n        for(int i = 0; i &lt; loops; i++) {\n            \n            ArrayList&lt;Person&gt; students = new ArrayList&lt;&gt;();\n            \n            generatePersons(students);\n            \n            if(matchBirthday(students)) {\n                matchCount++;\n            }\n            \n        }\n        return (matchCount/loops) * 100;\n    }\n    \n}\n</code></pre>\n"},{"tags":["java","android-studio","android-recyclerview","android-cardview"],"answers":[{"tags":[],"owner":{"account_id":14672981,"reputation":66,"user_id":10596965,"display_name":"Vitaliy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633764373,"creation_date":1633764373,"answer_id":69504615,"question_id":69504269,"body_markdown":"1. Create interface:\r\n\r\n        public interface MyOnClick {\r\n            void onClick(int imageId);\r\n        }\r\n\r\n2. Add a reference to MyOnClick to the constructor\r\n\r\n       public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {\r\n           ...\r\n           private final MyOnClick myOnClick;\r\n           \r\n           public RecyclerViewAdapter(Context context, int[] imagePathArrayList, MyOnClick myOnClick) {\r\n               this.context = context;\r\n               this.imagePathArrayList = imagePathArrayList;\r\n               this.myOnClick = myOnClick\r\n           }\r\n           ...\r\n           @Override\r\n           public void onBindViewHolder(@NonNull RecyclerViewHolder holder, int position) {\r\n               final int imageId = imagePathArrayList[position];\r\n               Picasso.get().load(imageId).placeholder(R.drawable.ic_launcher_background).into(holder.imageIV);\r\n\r\n               holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                   @Override\r\n                   public void onClick(View v) {\r\n                       myOnClick.onClick(imageId)\r\n                   }\r\n               });\r\n           }\r\n\r\n3. Pass MyOnClick to adapter\r\n\r\n        public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {\r\n            private RecyclerView imagesRV;\r\n            private int[] images = {R.drawable.image01, R.drawable.image02, R.drawable.image03, R.drawable.image04, R.drawable.image05, R.drawable.image06, R.drawable.image07, R.drawable.image08};\r\n            private RecyclerViewAdapter imageAdapter;\r\n            //private ArrayList&lt;String&gt; imagePaths;\r\n\r\n            @Override\r\n            protected void onCreate(Bundle savedInstanceState) {\r\n               super.onCreate(savedInstanceState);\r\n               setContentView(R.layout.activity_home_page);\r\n               imagesRV = (RecyclerView) findViewById(R.id.idRVImages);\r\n               prepareRecyclerView();\r\n            }\r\n\r\n            private void prepareRecyclerView() {\r\n                imageAdapter = new RecyclerViewAdapter(this, images, new MyOnClick() {\r\n                    @Override\r\n                    public void onClick(int imageId) {\r\n                        // Your action\r\n                    }\r\n                });\r\n\r\n                GridLayoutManager manager = new GridLayoutManager(MainActivity.this, 2);\r\n\r\n                imagesRV.setLayoutManager(manager);\r\n                imagesRV.setAdapter(imageAdapter);\r\n            }\r\n        }","title":"how to set onclicklistener with int array in recyclerview for cardview android","body":"<ol>\n<li><p>Create interface:</p>\n<pre><code> public interface MyOnClick {\n     void onClick(int imageId);\n }\n</code></pre>\n</li>\n<li><p>Add a reference to MyOnClick to the constructor</p>\n<pre><code>public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {\n    ...\n    private final MyOnClick myOnClick;\n\n    public RecyclerViewAdapter(Context context, int[] imagePathArrayList, MyOnClick myOnClick) {\n        this.context = context;\n        this.imagePathArrayList = imagePathArrayList;\n        this.myOnClick = myOnClick\n    }\n    ...\n    @Override\n    public void onBindViewHolder(@NonNull RecyclerViewHolder holder, int position) {\n        final int imageId = imagePathArrayList[position];\n        Picasso.get().load(imageId).placeholder(R.drawable.ic_launcher_background).into(holder.imageIV);\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                myOnClick.onClick(imageId)\n            }\n        });\n    }\n</code></pre>\n</li>\n<li><p>Pass MyOnClick to adapter</p>\n<pre><code> public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {\n     private RecyclerView imagesRV;\n     private int[] images = {R.drawable.image01, R.drawable.image02, R.drawable.image03, R.drawable.image04, R.drawable.image05, R.drawable.image06, R.drawable.image07, R.drawable.image08};\n     private RecyclerViewAdapter imageAdapter;\n     //private ArrayList&lt;String&gt; imagePaths;\n\n     @Override\n     protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.activity_home_page);\n        imagesRV = (RecyclerView) findViewById(R.id.idRVImages);\n        prepareRecyclerView();\n     }\n\n     private void prepareRecyclerView() {\n         imageAdapter = new RecyclerViewAdapter(this, images, new MyOnClick() {\n             @Override\n             public void onClick(int imageId) {\n                 // Your action\n             }\n         });\n\n         GridLayoutManager manager = new GridLayoutManager(MainActivity.this, 2);\n\n         imagesRV.setLayoutManager(manager);\n         imagesRV.setAdapter(imageAdapter);\n     }\n }\n</code></pre>\n</li>\n</ol>\n"}],"owner":{"account_id":21216671,"reputation":3,"user_id":15604164,"display_name":"Sanket Rola"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":60,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69504615,"answer_count":1,"score":0,"last_activity_date":1633764373,"creation_date":1633760830,"question_id":69504269,"body_markdown":"I want to click on Cardview items and intent to another activities using if else statements. Please help.\r\n\r\nMainActivity.java\r\n\r\npublic class MainActivity extends AppCompatActivity  {\r\n\r\n    private RecyclerView imagesRV;\r\n    private int[] images = {R.drawable.image01, R.drawable.image02, R.drawable.image03, R.drawable.image04, R.drawable.image05, R.drawable.image06, R.drawable.image07, R.drawable.image08};\r\n    private RecyclerViewAdapter imageAdapter;\r\n    //private ArrayList&lt;String&gt; imagePaths;\r\n\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_home_page);\r\n\r\n\r\n        imagesRV = (RecyclerView) findViewById(R.id.idRVImages);\r\n\r\n        prepareRecyclerView();\r\n    }\r\n\r\n    private void prepareRecyclerView() {\r\n        imageAdapter = new RecyclerViewAdapter(MainActivity.this, images);\r\n\r\n        GridLayoutManager manager = new GridLayoutManager(MainActivity.this, 2);\r\n\r\n        imagesRV.setLayoutManager(manager);\r\n        imagesRV.setAdapter(imageAdapter);\r\n    }\r\n}\r\n\r\n\r\nRecyclerViewAdapter.java\r\n\r\npublic class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {\r\n\r\n    private final Context context;\r\n    private final int[] imagePathArrayList;\r\n\r\n    public RecyclerViewAdapter(Context context, int[] imagePathArrayList) {\r\n        this.context = context;\r\n        this.imagePathArrayList = imagePathArrayList;\r\n    }\r\n\r\n    @NonNull\r\n    @Override\r\n    public RecyclerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\r\n        View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.cardview, parent, false);\r\n\r\n        return  new RecyclerViewHolder(view);\r\n    }\r\n\r\n    @Override\r\n    public void onBindViewHolder(@NonNull RecyclerViewHolder holder, int position) {\r\n        int imageId = imagePathArrayList[position];\r\n\r\n            Picasso.get().load(imageId).placeholder(R.drawable.ic_launcher_background).into(holder.imageIV);\r\n\r\n            holder.itemView.setOnClickListener(new View.OnClickListener() {\r\n                @Override\r\n                public void onClick(View v) {\r\n                        \r\n                }\r\n            });\r\n            \r\n    }\r\n\r\n    @Override\r\n    public int getItemCount() {\r\n        return imagePathArrayList.length;\r\n    }\r\n\r\n    public static class RecyclerViewHolder extends RecyclerView.ViewHolder {\r\n\r\n        private final ImageView imageIV;\r\n\r\n        public RecyclerViewHolder(@NonNull View itemView) {\r\n            super(itemView);\r\n\r\n            imageIV = itemView.findViewById(R.id.idIVImage);\r\n        }\r\n    }\r\n}\r\n","title":"how to set onclicklistener with int array in recyclerview for cardview android","body":"<p>I want to click on Cardview items and intent to another activities using if else statements. Please help.</p>\n<p>MainActivity.java</p>\n<p>public class MainActivity extends AppCompatActivity  {</p>\n<pre><code>private RecyclerView imagesRV;\nprivate int[] images = {R.drawable.image01, R.drawable.image02, R.drawable.image03, R.drawable.image04, R.drawable.image05, R.drawable.image06, R.drawable.image07, R.drawable.image08};\nprivate RecyclerViewAdapter imageAdapter;\n//private ArrayList&lt;String&gt; imagePaths;\n\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_home_page);\n\n\n    imagesRV = (RecyclerView) findViewById(R.id.idRVImages);\n\n    prepareRecyclerView();\n}\n\nprivate void prepareRecyclerView() {\n    imageAdapter = new RecyclerViewAdapter(MainActivity.this, images);\n\n    GridLayoutManager manager = new GridLayoutManager(MainActivity.this, 2);\n\n    imagesRV.setLayoutManager(manager);\n    imagesRV.setAdapter(imageAdapter);\n}\n</code></pre>\n<p>}</p>\n<p>RecyclerViewAdapter.java</p>\n<p>public class RecyclerViewAdapter extends RecyclerView.Adapter&lt;RecyclerViewAdapter.RecyclerViewHolder&gt; {</p>\n<pre><code>private final Context context;\nprivate final int[] imagePathArrayList;\n\npublic RecyclerViewAdapter(Context context, int[] imagePathArrayList) {\n    this.context = context;\n    this.imagePathArrayList = imagePathArrayList;\n}\n\n@NonNull\n@Override\npublic RecyclerViewHolder onCreateViewHolder(@NonNull ViewGroup parent, int viewType) {\n    View view = LayoutInflater.from(parent.getContext()).inflate(R.layout.cardview, parent, false);\n\n    return  new RecyclerViewHolder(view);\n}\n\n@Override\npublic void onBindViewHolder(@NonNull RecyclerViewHolder holder, int position) {\n    int imageId = imagePathArrayList[position];\n\n        Picasso.get().load(imageId).placeholder(R.drawable.ic_launcher_background).into(holder.imageIV);\n\n        holder.itemView.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                    \n            }\n        });\n        \n}\n\n@Override\npublic int getItemCount() {\n    return imagePathArrayList.length;\n}\n\npublic static class RecyclerViewHolder extends RecyclerView.ViewHolder {\n\n    private final ImageView imageIV;\n\n    public RecyclerViewHolder(@NonNull View itemView) {\n        super(itemView);\n\n        imageIV = itemView.findViewById(R.id.idIVImage);\n    }\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3381296,"reputation":5075,"user_id":2838289,"display_name":"LuCio"},"score":0,"creation_date":1633762679,"post_id":69504353,"comment_id":122851213,"body_markdown":"Additionally have a look at the tutorials at Oracle:  [Java Tutorial - Arrays](https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html)","body":"Additionally have a look at the tutorials at Oracle:  <a href=\"https://docs.oracle.com/javase/tutorial/java/nutsandbolts/arrays.html\" rel=\"nofollow noreferrer\">Java Tutorial - Arrays</a>"},{"owner":{"account_id":162699,"reputation":138060,"user_id":3788176,"accept_rate":54,"display_name":"Andy Turner"},"score":2,"creation_date":1633762717,"post_id":69504353,"comment_id":122851222,"body_markdown":"&quot;I tried this in java&quot; the only thing wrong here is `[10]`. The size comes from the number of elements you specify in the initializer, so use `[]` instead, if you&#39;re going to explicitly specify the type on the RHS.","body":"&quot;I tried this in java&quot; the only thing wrong here is <code>[10]</code>. The size comes from the number of elements you specify in the initializer, so use <code>[]</code> instead, if you&#39;re going to explicitly specify the type on the RHS."},{"owner":{"account_id":22985703,"reputation":13,"user_id":17111959,"display_name":"Amos"},"score":0,"creation_date":1634222658,"post_id":69504353,"comment_id":122972228,"body_markdown":"@AndyTurner Thank you","body":"@AndyTurner Thank you"}],"answers":[{"tags":[],"owner":{"account_id":22873466,"reputation":5410,"user_id":17016144,"display_name":"ProDec"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633761834,"creation_date":1633761834,"answer_id":69504367,"question_id":69504353,"body_markdown":"    int[] array = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };","title":"Is there a way to initialize an array in java by listing its components?","body":"<pre><code>int[] array = new int[] { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22945958,"reputation":1,"user_id":17077924,"display_name":"Shravan Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633761986,"creation_date":1633761958,"answer_id":69504380,"question_id":69504353,"body_markdown":"```java\r\nint[] arr = {1,2,3,4,5,6,7,8,9,10};\r\n```","title":"Is there a way to initialize an array in java by listing its components?","body":"<pre class=\"lang-java prettyprint-override\"><code>int[] arr = {1,2,3,4,5,6,7,8,9,10};\n</code></pre>\n"}],"owner":{"account_id":22985703,"reputation":13,"user_id":17111959,"display_name":"Amos"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":47,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633762619,"accepted_answer_id":69504367,"answer_count":2,"score":0,"last_activity_date":1633761986,"creation_date":1633761711,"question_id":69504353,"body_markdown":"I was wondering if there is a way in java to initialize an array by listing its components. I could do it in c# like this:\r\n\r\n    int[] array = new int[10]{ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\r\n\r\nI tried this in java but it doesn&#39;t work, is there a way to do something similar?","title":"Is there a way to initialize an array in java by listing its components?","body":"<p>I was wondering if there is a way in java to initialize an array by listing its components. I could do it in c# like this:</p>\n<pre><code>int[] array = new int[10]{ 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\n</code></pre>\n<p>I tried this in java but it doesn't work, is there a way to do something similar?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"score":0,"creation_date":1633676103,"post_id":69491221,"comment_id":122827711,"body_markdown":"I tried with your code and the resulting excel sheet is editable for me","body":"I tried with your code and the resulting excel sheet is editable for me"},{"owner":{"account_id":5704335,"reputation":257,"user_id":4508409,"accept_rate":65,"display_name":"Kavi Chinna"},"score":0,"creation_date":1633688209,"post_id":69491221,"comment_id":122832109,"body_markdown":"@VasanthSubramanian I tried this code in a Java Spring boot Micro service, If I stop the service I can able to edit that. I can&#39;t able to edit while the service is running.","body":"@VasanthSubramanian I tried this code in a Java Spring boot Micro service, If I stop the service I can able to edit that. I can&#39;t able to edit while the service is running."}],"answers":[{"tags":[],"owner":{"account_id":9197152,"reputation":1142,"user_id":6835509,"display_name":"Vasanth Subramanian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1633701372,"creation_date":1633701372,"answer_id":69497038,"question_id":69491221,"body_markdown":"Fix is to close the FileOutputStream object\r\n\r\n    fos.close();\r\n\r\n\r\n**Sample Code:**\r\n\r\n    import org.apache.poi.xssf.usermodel.XSSFCell;\r\n    import org.apache.poi.xssf.usermodel.XSSFRow;\r\n    import org.apache.poi.xssf.usermodel.XSSFSheet;\r\n    import org.apache.poi.xssf.usermodel.XSSFWorkbook;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.util.Arrays;\r\n    import java.util.List;\r\n    \r\n    public class Excel {\r\n        public static void main(String[] args) {\r\n            String validateFileUrl = &quot;so-excel.xlsx&quot;;\r\n            List&lt;String&gt; rowList = Arrays.asList(&quot;1&quot;, &quot;2&quot;);\r\n            try\r\n            {\r\n                File tempFile = new File(validateFileUrl);\r\n                XSSFWorkbook workbook = null;\r\n                XSSFSheet sheet = null;\r\n                if(!rowList.isEmpty()) // rowList contains comma(,) separated string values\r\n                {\r\n                    workbook = new XSSFWorkbook();\r\n                    sheet = workbook.createSheet();\r\n                    int rownum=0;\r\n                    for(String rowStr : rowList)\r\n                    {\r\n                        XSSFRow row = sheet.createRow(rownum++);\r\n                        String[] cellArr = rowStr.split(&quot;,&quot;);\r\n                        int cellCount=0;\r\n                        for(String cellStr : cellArr)\r\n                        {\r\n                            XSSFCell crrCell = row.createCell(cellCount++);\r\n                            crrCell.setCellValue(cellStr);\r\n                        }\r\n                    }\r\n    \r\n                    FileOutputStream fos = new FileOutputStream(tempFile);\r\n                    workbook.write(fos);\r\n                    System.out.println(&quot;Workbook created!!&quot;);\r\n                    workbook.close();\r\n                    fos.close(); //To close the FileOutputStream object\r\n                    System.out.println(&quot;File Output Stream closed!!&quot;);\r\n                }\r\n                Thread.currentThread().sleep(600000);\r\n            }\r\n            catch(Exception e)\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n\r\n","title":"File is showing Open Read-Only while opening the file","body":"<p>Fix is to close the FileOutputStream object</p>\n<pre><code>fos.close();\n</code></pre>\n<p><strong>Sample Code:</strong></p>\n<pre><code>import org.apache.poi.xssf.usermodel.XSSFCell;\nimport org.apache.poi.xssf.usermodel.XSSFRow;\nimport org.apache.poi.xssf.usermodel.XSSFSheet;\nimport org.apache.poi.xssf.usermodel.XSSFWorkbook;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.util.Arrays;\nimport java.util.List;\n\npublic class Excel {\n    public static void main(String[] args) {\n        String validateFileUrl = &quot;so-excel.xlsx&quot;;\n        List&lt;String&gt; rowList = Arrays.asList(&quot;1&quot;, &quot;2&quot;);\n        try\n        {\n            File tempFile = new File(validateFileUrl);\n            XSSFWorkbook workbook = null;\n            XSSFSheet sheet = null;\n            if(!rowList.isEmpty()) // rowList contains comma(,) separated string values\n            {\n                workbook = new XSSFWorkbook();\n                sheet = workbook.createSheet();\n                int rownum=0;\n                for(String rowStr : rowList)\n                {\n                    XSSFRow row = sheet.createRow(rownum++);\n                    String[] cellArr = rowStr.split(&quot;,&quot;);\n                    int cellCount=0;\n                    for(String cellStr : cellArr)\n                    {\n                        XSSFCell crrCell = row.createCell(cellCount++);\n                        crrCell.setCellValue(cellStr);\n                    }\n                }\n\n                FileOutputStream fos = new FileOutputStream(tempFile);\n                workbook.write(fos);\n                System.out.println(&quot;Workbook created!!&quot;);\n                workbook.close();\n                fos.close(); //To close the FileOutputStream object\n                System.out.println(&quot;File Output Stream closed!!&quot;);\n            }\n            Thread.currentThread().sleep(600000);\n        }\n        catch(Exception e)\n        {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5289146,"reputation":8128,"user_id":4222206,"display_name":"queeg"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633760625,"creation_date":1633729533,"answer_id":69502012,"question_id":69491221,"body_markdown":"Excel will not allow editing a file that some other application is still writing. Instead it is waiting for exclusive access.\r\n\r\nYou need to ensure in Java the file buffer gets closed when you are finished writing the file. This happens either when the JVM terminates or when your code explicitly closes the FileOutputStream. Note that explicitly calling close can be tricky in case exceptions get thrown. Here is a safe way that makes use of the AutoClose feature of FileOutputStream:\r\n\r\n    try {\r\n        File tempFile = new File(validateFileUrl);\r\n        XSSFWorkbook workbook = null;\r\n        XSSFSheet sheet = null;\r\n        if(!rowList.isEmpty()) { // rowList contains comma(,) separated string values \r\n            workbook = new XSSFWorkbook();\r\n            sheet = workbook.createSheet();\r\n            int rownum=0;\r\n            for(String rowStr : rowList) {\r\n                XSSFRow row = sheet.createRow(rownum++);\r\n                String[] cellArr = rowStr.split(&quot;,&quot;);\r\n                int cellCount=0;\r\n                for(String cellStr : cellArr) {\r\n                    XSSFCell crrCell = row.createCell(cellCount++);\r\n                    crrCell.setCellValue(cellStr);\r\n                }\r\n            }\r\n        \r\n            try (FileOutputStream fos = new FileOutputStream(tempFile)) {\r\n                workbook.write(fos);\r\n            }\r\n            workbook.close();\r\n        }\r\n    }\r\n    catch(Exception e) {\r\n        e.printStackTrace();\r\n    }\r\n\r\nNote that vice versa, Excel is exclusively holding access to the file. So if you want to write it again from your application, ensure Excel has closed the document.","title":"File is showing Open Read-Only while opening the file","body":"<p>Excel will not allow editing a file that some other application is still writing. Instead it is waiting for exclusive access.</p>\n<p>You need to ensure in Java the file buffer gets closed when you are finished writing the file. This happens either when the JVM terminates or when your code explicitly closes the FileOutputStream. Note that explicitly calling close can be tricky in case exceptions get thrown. Here is a safe way that makes use of the AutoClose feature of FileOutputStream:</p>\n<pre><code>try {\n    File tempFile = new File(validateFileUrl);\n    XSSFWorkbook workbook = null;\n    XSSFSheet sheet = null;\n    if(!rowList.isEmpty()) { // rowList contains comma(,) separated string values \n        workbook = new XSSFWorkbook();\n        sheet = workbook.createSheet();\n        int rownum=0;\n        for(String rowStr : rowList) {\n            XSSFRow row = sheet.createRow(rownum++);\n            String[] cellArr = rowStr.split(&quot;,&quot;);\n            int cellCount=0;\n            for(String cellStr : cellArr) {\n                XSSFCell crrCell = row.createCell(cellCount++);\n                crrCell.setCellValue(cellStr);\n            }\n        }\n    \n        try (FileOutputStream fos = new FileOutputStream(tempFile)) {\n            workbook.write(fos);\n        }\n        workbook.close();\n    }\n}\ncatch(Exception e) {\n    e.printStackTrace();\n}\n</code></pre>\n<p>Note that vice versa, Excel is exclusively holding access to the file. So if you want to write it again from your application, ensure Excel has closed the document.</p>\n"}],"owner":{"account_id":5704335,"reputation":257,"user_id":4508409,"accept_rate":65,"display_name":"Kavi Chinna"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":176,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":69497038,"answer_count":2,"score":0,"last_activity_date":1633760625,"creation_date":1633673322,"question_id":69491221,"body_markdown":"I&#39;m trying to create a .xlsx file using XSSFWorkBook in Java.\r\nUsing below code I&#39;m trying\r\n\r\n    try\r\n    {\r\n    \tFile tempFile = new File(validateFileUrl);\r\n    \tXSSFWorkbook workbook = null;\r\n    \tXSSFSheet sheet = null;\r\n    \tif(!rowList.isEmpty()) // rowList contains comma(,) separated string values\r\n    \t{\r\n    \t\tworkbook = new XSSFWorkbook();\r\n    \t\tsheet = workbook.createSheet();\r\n    \t\tint rownum=0;\r\n    \t\tfor(String rowStr : rowList)\r\n    \t\t{\r\n    \t\t\tXSSFRow row = sheet.createRow(rownum++);\r\n    \t\t\tString[] cellArr = rowStr.split(&quot;,&quot;);\r\n    \t\t\tint cellCount=0;\r\n    \t\t\tfor(String cellStr : cellArr)\r\n    \t\t\t{\r\n    \t\t\t\tXSSFCell crrCell = row.createCell(cellCount++);\r\n    \t\t\t\tcrrCell.setCellValue(cellStr);\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\t\r\n    \t\tFileOutputStream fos = new FileOutputStream(tempFile);\r\n    \t\tworkbook.write(fos);\r\n    \t\tworkbook.close();\r\n    \t}\r\n    }\r\n    catch(Exception e)\r\n    {\r\n    \te.printStackTrace();\r\n    }\r\n\r\nfile got created successfully, but the problem is that created file is opening in Read only mode, How can I create this in writeable mode? \r\n\r\nI have tried the below option also\r\n\r\n    tempFile.setWritable(true);\r\nbut its not working, please help on this. Thanks","title":"File is showing Open Read-Only while opening the file","body":"<p>I'm trying to create a .xlsx file using XSSFWorkBook in Java.\nUsing below code I'm trying</p>\n<pre><code>try\n{\n    File tempFile = new File(validateFileUrl);\n    XSSFWorkbook workbook = null;\n    XSSFSheet sheet = null;\n    if(!rowList.isEmpty()) // rowList contains comma(,) separated string values\n    {\n        workbook = new XSSFWorkbook();\n        sheet = workbook.createSheet();\n        int rownum=0;\n        for(String rowStr : rowList)\n        {\n            XSSFRow row = sheet.createRow(rownum++);\n            String[] cellArr = rowStr.split(&quot;,&quot;);\n            int cellCount=0;\n            for(String cellStr : cellArr)\n            {\n                XSSFCell crrCell = row.createCell(cellCount++);\n                crrCell.setCellValue(cellStr);\n            }\n        }\n        \n        FileOutputStream fos = new FileOutputStream(tempFile);\n        workbook.write(fos);\n        workbook.close();\n    }\n}\ncatch(Exception e)\n{\n    e.printStackTrace();\n}\n</code></pre>\n<p>file got created successfully, but the problem is that created file is opening in Read only mode, How can I create this in writeable mode?</p>\n<p>I have tried the below option also</p>\n<pre><code>tempFile.setWritable(true);\n</code></pre>\n<p>but its not working, please help on this. Thanks</p>\n"},{"tags":["java","apache-nifi"],"comments":[{"owner":{"account_id":1333316,"reputation":26958,"user_id":1276664,"accept_rate":17,"display_name":"daggett"},"score":0,"creation_date":1633781865,"post_id":69496300,"comment_id":122854982,"body_markdown":"I think it uses database `like` operation. Try to read the  manual for your database. For example mssql supports this: `%[_][13]`","body":"I think it uses database <code>like</code> operation. Try to read the  manual for your database. For example mssql supports this: <code>%[_][13]</code>"}],"answers":[{"tags":[],"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633760250,"creation_date":1633760250,"answer_id":69504225,"question_id":69496300,"body_markdown":"NiFi uses `java.sql.DatabaseMetaData` to access. The interface has a `getSearchStringEscape` to give the escape character. Unfortunately, that doesn&#39;t seem to available through the processor.\r\n\r\nThe usual escape is `\\` character. You can check whether that works for the particular database you are using.\r\n\r\nIn your case, that doesn&#39;t seem to be enough since you are checking for `_[0-9]` and you can provide only a single table name pattern. Better option may be to retrieve all tables and then filter out using `RouteOnAttribute`.\r\n\r\n","title":"How to provide &quot;_&quot; as a part of table name format in ListDataBaseTables (NiFi)","body":"<p>NiFi uses <code>java.sql.DatabaseMetaData</code> to access. The interface has a <code>getSearchStringEscape</code> to give the escape character. Unfortunately, that doesn't seem to available through the processor.</p>\n<p>The usual escape is <code>\\</code> character. You can check whether that works for the particular database you are using.</p>\n<p>In your case, that doesn't seem to be enough since you are checking for <code>_[0-9]</code> and you can provide only a single table name pattern. Better option may be to retrieve all tables and then filter out using <code>RouteOnAttribute</code>.</p>\n"}],"owner":{"account_id":22872822,"reputation":141,"user_id":17015600,"display_name":"vigneshwar"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":148,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633760250,"creation_date":1633698245,"question_id":69496300,"body_markdown":"I would like to extract the list of tables which are in certain format using ListDatabaseTable nifi processor:-\r\n\r\n**tables in db**\r\n\r\n    cus_1\r\n    emp_1\r\n    cus_2\r\n    emp_2\r\n    cus_3\r\n    emp_3\r\n\r\nFrom above list of tables I would like to extract those tables which are of &quot;_1&quot; and &quot;_3&quot;.\r\n\r\n\r\n\r\nAs per [documentation][1] &quot;_&quot; has predefined meaning. \r\n\r\nSo How can I include &quot;_&quot; as a part of table name format ?? And Can we provide multiple conditions / table name formats??\r\n\r\n\r\n  [1]: https://nifi.apache.org/docs/nifi-docs/components/org.apache.nifi/nifi-standard-nar/1.9.2/org.apache.nifi.processors.standard.ListDatabaseTables/index.html","title":"How to provide &quot;_&quot; as a part of table name format in ListDataBaseTables (NiFi)","body":"<p>I would like to extract the list of tables which are in certain format using ListDatabaseTable nifi processor:-</p>\n<p><strong>tables in db</strong></p>\n<pre><code>cus_1\nemp_1\ncus_2\nemp_2\ncus_3\nemp_3\n</code></pre>\n<p>From above list of tables I would like to extract those tables which are of &quot;_1&quot; and &quot;_3&quot;.</p>\n<p>As per <a href=\"https://nifi.apache.org/docs/nifi-docs/components/org.apache.nifi/nifi-standard-nar/1.9.2/org.apache.nifi.processors.standard.ListDatabaseTables/index.html\" rel=\"nofollow noreferrer\">documentation</a> &quot;_&quot; has predefined meaning.</p>\n<p>So How can I include &quot;_&quot; as a part of table name format ?? And Can we provide multiple conditions / table name formats??</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":2,"creation_date":1633759714,"post_id":69504114,"comment_id":122850784,"body_markdown":"Well, do you know what an assignment is? Do you know which side is the left side? Do you know what a variable is?  Why exactly do you find this statement confusing? If the question is actually &quot;why do I get this error when, as far as I can tell, the left-hand side of the assignment is in fact a variable?&quot; or &quot;why doesn&#39;t the compiler recognize WRKR as a variable name?&quot; then you should *ask that question instead*. Please read [ask] and https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question and https://xyproblem.info/ .","body":"Well, do you know what an assignment is? Do you know which side is the left side? Do you know what a variable is?  Why exactly do you find this statement confusing? If the question is actually &quot;why do I get this error when, as far as I can tell, the left-hand side of the assignment is in fact a variable?&quot; or &quot;why doesn&#39;t the compiler recognize WRKR as a variable name?&quot; then you should <i>ask that question instead</i>. Please read <a href=\"https://stackoverflow.com/questions/how-to-ask\">How to Ask</a> and <a href=\"https://meta.stackoverflow.com/questions/284236/why-is-can-someone-help-me-not-an-actual-question\" title=\"why is can someone help me not an actual question\">meta.stackoverflow.com/questions/284236/&hellip;</a> and <a href=\"https://xyproblem.info/\" rel=\"nofollow noreferrer\">xyproblem.info</a> ."},{"owner":{"account_id":248321,"reputation":62665,"user_id":523612,"accept_rate":100,"display_name":"Karl Knechtel"},"score":1,"creation_date":1633759754,"post_id":69504114,"comment_id":122850792,"body_markdown":"Separately: what source are you using to learn how to write Java code? What does it say about how to name your files? Also, please note that we *do not care* that you are new to Java (and you don&#39;t have to tell us; if you weren&#39;t, you wouldn&#39;t be asking this question). We care about *the question*, because this is *not a discussion forum* - but instead a place to collect questions and answers that can be searched later.","body":"Separately: what source are you using to learn how to write Java code? What does it say about how to name your files? Also, please note that we <i>do not care</i> that you are new to Java (and you don&#39;t have to tell us; if you weren&#39;t, you wouldn&#39;t be asking this question). We care about <i>the question</i>, because this is <i>not a discussion forum</i> - but instead a place to collect questions and answers that can be searched later."}],"answers":[{"tags":[],"owner":{"account_id":295795,"reputation":5373,"user_id":600379,"display_name":"Dakshinamurthy Karra"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1633759432,"creation_date":1633759432,"answer_id":69504164,"question_id":69504114,"body_markdown":"The code compiles properly. Your error message shows the file name as `apartment puzzle.java`. Every public java class needs to be in a file named after that class. Rename your file to `MyClass.java` and check it out.","title":"What does &quot;the left hand side of an assignment must be a variable&quot; mean in my errors?","body":"<p>The code compiles properly. Your error message shows the file name as <code>apartment puzzle.java</code>. Every public java class needs to be in a file named after that class. Rename your file to <code>MyClass.java</code> and check it out.</p>\n"}],"owner":{"account_id":18929603,"reputation":1,"user_id":13811970,"display_name":"harkboparai"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":97,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1633771172,"answer_count":1,"score":0,"last_activity_date":1633759793,"creation_date":1633758770,"question_id":69504114,"body_markdown":"This java program is supposed to solve a puzzle. I don&#39;t understand what is going wrong in my program to cause these errors. Can anyone help?\r\n\r\n```\r\nException in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \r\n        Syntax error, insert &quot;. class&quot; to complete Expression\r\n        The left-hand side of an assignment must be a variable\r\n        WRKR cannot be resolved to a variable\r\n        WRKR cannot be resolved to a variable\r\n        WRKR cannot be resolved to a variable\r\n        WRKR cannot be resolved to a variable\r\n        WRKR cannot be resolved to a variable\r\n        WRKR cannot be resolved to a variable\r\n\r\n        at MyClass.main(apartment puzzle.java:9)\r\n\r\n```\r\n\r\n```\r\n\r\npublic class MyClass {\r\n    \r\n     public static void main(String args[]) \r\n     {  \r\n        \r\n        boolean APART[] = new boolean [100];\r\n\r\n      \r\n      for (int WRKR = 1; WRKR &lt;= 100; WRKR++)\r\n      {\r\n          if (WRKR == 1)\r\n          {\r\n              for (int A = 0; A &lt;= 100; A++)\r\n              {\r\n                  APART[A] = true;\r\n              }\r\n              //System.out.println(Arrays.toString(APART));\r\n          }\r\n          \r\n          else if (WRKR == 2)\r\n          {\r\n              for (int A = 1; A &lt;= 100; A += 2)\r\n              {\r\n                  APART[A] = false;\r\n              }\r\n              //System.out.println(Arrays.toString(APART));\r\n          }\r\n          \r\n          else\r\n          {\r\n              int start = WRKR - 1;\r\n              for (int A = start; A &lt;= 100; A += WRKR)\r\n              {\r\n                  if (APART[A] == true)\r\n                  {\r\n                      APART[A] = false;\r\n                  }\r\n                  \r\n                  else \r\n                  {\r\n                      APART[A] = true;\r\n                  }\r\n              }\r\n              //System.out.println(Arrays.toString(APART));\r\n          }\r\n      }\r\n      \r\n      for (int i = 0; i &lt;= 100; i++)\r\n      {\r\n          int A = i + 1;\r\n          \r\n          if (APART[A] == true)\r\n          {\r\n              \r\n              System.out.println(&quot;Apartment  &quot;+ A +&quot;  is open&quot;);\r\n          }\r\n      }\r\n    }\r\n}\r\n```","title":"What does &quot;the left hand side of an assignment must be a variable&quot; mean in my errors?","body":"<p>This java program is supposed to solve a puzzle. I don't understand what is going wrong in my program to cause these errors. Can anyone help?</p>\n<pre><code>Exception in thread &quot;main&quot; java.lang.Error: Unresolved compilation problems: \n        Syntax error, insert &quot;. class&quot; to complete Expression\n        The left-hand side of an assignment must be a variable\n        WRKR cannot be resolved to a variable\n        WRKR cannot be resolved to a variable\n        WRKR cannot be resolved to a variable\n        WRKR cannot be resolved to a variable\n        WRKR cannot be resolved to a variable\n        WRKR cannot be resolved to a variable\n\n        at MyClass.main(apartment puzzle.java:9)\n\n</code></pre>\n<pre><code>\npublic class MyClass {\n    \n     public static void main(String args[]) \n     {  \n        \n        boolean APART[] = new boolean [100];\n\n      \n      for (int WRKR = 1; WRKR &lt;= 100; WRKR++)\n      {\n          if (WRKR == 1)\n          {\n              for (int A = 0; A &lt;= 100; A++)\n              {\n                  APART[A] = true;\n              }\n              //System.out.println(Arrays.toString(APART));\n          }\n          \n          else if (WRKR == 2)\n          {\n              for (int A = 1; A &lt;= 100; A += 2)\n              {\n                  APART[A] = false;\n              }\n              //System.out.println(Arrays.toString(APART));\n          }\n          \n          else\n          {\n              int start = WRKR - 1;\n              for (int A = start; A &lt;= 100; A += WRKR)\n              {\n                  if (APART[A] == true)\n                  {\n                      APART[A] = false;\n                  }\n                  \n                  else \n                  {\n                      APART[A] = true;\n                  }\n              }\n              //System.out.println(Arrays.toString(APART));\n          }\n      }\n      \n      for (int i = 0; i &lt;= 100; i++)\n      {\n          int A = i + 1;\n          \n          if (APART[A] == true)\n          {\n              \n              System.out.println(&quot;Apartment  &quot;+ A +&quot;  is open&quot;);\n          }\n      }\n    }\n}\n</code></pre>\n"},{"tags":["java","gradle","kotlin","junit5","gradle-kotlin-dsl"],"comments":[{"owner":{"account_id":3730804,"reputation":1169,"user_id":3103271,"accept_rate":75,"display_name":"Charlie"},"score":2,"creation_date":1568560031,"post_id":57945331,"comment_id":102304337,"body_markdown":"May you want to compare your project with the gradle example project:\nhttps://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples/userguide/organizingGradleProjects/separatedTestTypes/kotlin","body":"May you want to compare your project with the gradle example project: <a href=\"https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples/userguide/organizingGradleProjects/separatedTestTypes/kotlin\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/tree/master/subprojects/docs/src/&hellip;</a>"},{"owner":{"account_id":16700537,"reputation":51,"user_id":12070434,"display_name":"Konstantin"},"score":0,"creation_date":1568634581,"post_id":57945331,"comment_id":102324317,"body_markdown":"Thanks for the hint! However the project you mentioned uses Java instead of Kotlin as programming language and JUnit 4.x instead of 5.x so to me it does not look as if that helps me. The usual examples with this stack works for me as well.","body":"Thanks for the hint! However the project you mentioned uses Java instead of Kotlin as programming language and JUnit 4.x instead of 5.x so to me it does not look as if that helps me. The usual examples with this stack works for me as well."},{"owner":{"account_id":3730804,"reputation":1169,"user_id":3103271,"accept_rate":75,"display_name":"Charlie"},"score":0,"creation_date":1568701708,"post_id":57945331,"comment_id":102347264,"body_markdown":"There are a lot of different languages available. Here the top link: https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples/userguide","body":"There are a lot of different languages available. Here the top link: <a href=\"https://github.com/gradle/gradle/tree/master/subprojects/docs/src/samples/userguide\" rel=\"nofollow noreferrer\">github.com/gradle/gradle/tree/master/subprojects/docs/src/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":14724394,"reputation":163,"user_id":10633922,"display_name":"NIRAJ KUMAR"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633759521,"creation_date":1606921839,"answer_id":65110779,"question_id":57945331,"body_markdown":"    tasks.test { scanForTestClasses = true useJUnitPlatform { includeEngines(&quot;junit-jupiter&quot;) } } ","title":"Gradle does not execute any tests on commandline","body":"<pre><code>tasks.test { scanForTestClasses = true useJUnitPlatform { includeEngines(&quot;junit-jupiter&quot;) } } \n</code></pre>\n"}],"owner":{"account_id":16700537,"reputation":51,"user_id":12070434,"display_name":"Konstantin"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":792,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":1,"score":5,"last_activity_date":1633759653,"creation_date":1568559749,"question_id":57945331,"body_markdown":"My Gradle project is using KotlinDSL and JUnit5 / Jupiter (and Kotlin as a programming language), Gradle does not seem to pick up any of my tests properly. When I run Gradle test on the command line, it tells me \r\n\r\n    SUCCESS: Executed 0 tests in 1s\r\n\r\nno matter what I try. However, in my IDE, I can easily run every single test class in my project without any problems. \r\n\r\nMy buildfile build.gradle.kts looks like this:\r\n\r\n    import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\r\n\r\n    plugins {\r\n        id(&quot;org.springframework.boot&quot;) version &quot;2.1.8.RELEASE&quot;\r\n        id(&quot;io.spring.dependency-management&quot;) version &quot;1.0.8.RELEASE&quot;\r\n        id(&quot;com.adarshr.test-logger&quot;) version &quot;1.7.0&quot;\r\n        kotlin(&quot;jvm&quot;) version &quot;1.2.71&quot;\r\n        kotlin(&quot;plugin.spring&quot;) version &quot;1.2.71&quot;\r\n        kotlin(&quot;plugin.jpa&quot;) version &quot;1.2.71&quot;\r\n    }\r\n    \r\n    group = &quot;myprojectgroup&quot;\r\n    version = &quot;1.0-SNAPSHOT&quot;\r\n    java.sourceCompatibility = JavaVersion.VERSION_1_8\r\n    \r\n    \r\n    val junitVersion=&quot;5.5.2&quot;\r\n    val mockitoVersion=&quot;2.28.2&quot;\r\n    \r\n    repositories {\r\n        mavenCentral()\r\n    }\r\n    \r\n    dependencies {\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-data-jpa&quot;)\r\n        implementation(&quot;org.springframework.boot:spring-boot-starter-web&quot;)\r\n        implementation(&quot;com.fasterxml.jackson.module:jackson-module-kotlin&quot;)\r\n        implementation(&quot;org.flywaydb:flyway-core&quot;)\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-reflect&quot;)\r\n        implementation(&quot;org.jetbrains.kotlin:kotlin-stdlib-jdk8&quot;)\r\n        runtimeOnly(&quot;com.h2database:h2&quot;)\r\n        testImplementation(&quot;org.springframework.boot:spring-boot-starter-test&quot;)\r\n        testImplementation(&quot;org.junit.jupiter:junit-jupiter-api:$junitVersion&quot;)\r\n        testRuntimeOnly(&quot;org.junit.jupiter:junit-jupiter-engine:$junitVersion&quot;)\r\n        testCompile (&quot;org.mockito:mockito-core:$mockitoVersion&quot;)\r\n        testCompile(&quot;org.mockito:mockito-junit-jupiter:$mockitoVersion&quot;)\r\n    }\r\n    \r\n    tasks.withType&lt;KotlinCompile&gt; {\r\n        kotlinOptions {\r\n            freeCompilerArgs = listOf(&quot;-Xjsr305=strict&quot;)\r\n            jvmTarget = &quot;1.8&quot;\r\n        }\r\n    }\r\n    \r\n    tasks.test {\r\n        useJUnitPlatform {\r\n            includeEngines(&quot;junit-jupiter&quot;)\r\n        }\r\n    }\r\n\r\n\r\nThe test classes live under src/test/kotlin as expected, test methods are annotated with the correct org.junit.jupiter.api.Test annotation. Any ideas what I could try? It really starts driving me mad.\r\n\r\nThanks a lot, folks!\r\n\r\nKonstantin\r\n","title":"Gradle does not execute any tests on commandline","body":"<p>My Gradle project is using KotlinDSL and JUnit5 / Jupiter (and Kotlin as a programming language), Gradle does not seem to pick up any of my tests properly. When I run Gradle test on the command line, it tells me </p>\n\n<pre><code>SUCCESS: Executed 0 tests in 1s\n</code></pre>\n\n<p>no matter what I try. However, in my IDE, I can easily run every single test class in my project without any problems. </p>\n\n<p>My buildfile build.gradle.kts looks like this:</p>\n\n<pre><code>import org.jetbrains.kotlin.gradle.tasks.KotlinCompile\n\nplugins {\n    id(\"org.springframework.boot\") version \"2.1.8.RELEASE\"\n    id(\"io.spring.dependency-management\") version \"1.0.8.RELEASE\"\n    id(\"com.adarshr.test-logger\") version \"1.7.0\"\n    kotlin(\"jvm\") version \"1.2.71\"\n    kotlin(\"plugin.spring\") version \"1.2.71\"\n    kotlin(\"plugin.jpa\") version \"1.2.71\"\n}\n\ngroup = \"myprojectgroup\"\nversion = \"1.0-SNAPSHOT\"\njava.sourceCompatibility = JavaVersion.VERSION_1_8\n\n\nval junitVersion=\"5.5.2\"\nval mockitoVersion=\"2.28.2\"\n\nrepositories {\n    mavenCentral()\n}\n\ndependencies {\n    implementation(\"org.springframework.boot:spring-boot-starter-data-jpa\")\n    implementation(\"org.springframework.boot:spring-boot-starter-web\")\n    implementation(\"com.fasterxml.jackson.module:jackson-module-kotlin\")\n    implementation(\"org.flywaydb:flyway-core\")\n    implementation(\"org.jetbrains.kotlin:kotlin-reflect\")\n    implementation(\"org.jetbrains.kotlin:kotlin-stdlib-jdk8\")\n    runtimeOnly(\"com.h2database:h2\")\n    testImplementation(\"org.springframework.boot:spring-boot-starter-test\")\n    testImplementation(\"org.junit.jupiter:junit-jupiter-api:$junitVersion\")\n    testRuntimeOnly(\"org.junit.jupiter:junit-jupiter-engine:$junitVersion\")\n    testCompile (\"org.mockito:mockito-core:$mockitoVersion\")\n    testCompile(\"org.mockito:mockito-junit-jupiter:$mockitoVersion\")\n}\n\ntasks.withType&lt;KotlinCompile&gt; {\n    kotlinOptions {\n        freeCompilerArgs = listOf(\"-Xjsr305=strict\")\n        jvmTarget = \"1.8\"\n    }\n}\n\ntasks.test {\n    useJUnitPlatform {\n        includeEngines(\"junit-jupiter\")\n    }\n}\n</code></pre>\n\n<p>The test classes live under src/test/kotlin as expected, test methods are annotated with the correct org.junit.jupiter.api.Test annotation. Any ideas what I could try? It really starts driving me mad.</p>\n\n<p>Thanks a lot, folks!</p>\n\n<p>Konstantin</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9074424,"reputation":2576,"user_id":6756514,"display_name":"Divyesh Patel"},"score":0,"creation_date":1480510412,"post_id":40888853,"comment_id":68991380,"body_markdown":"you can get id of HOME1 button and in if condition check if that id, is pressed or not","body":"you can get id of HOME1 button and in if condition check if that id, is pressed or not"},{"owner":{"account_id":7112696,"reputation":2778,"user_id":5440026,"accept_rate":89,"display_name":"Rushi Ayyappa"},"score":0,"creation_date":1480510817,"post_id":40888853,"comment_id":68991644,"body_markdown":"take out the return.","body":"take out the return."},{"owner":{"account_id":9420681,"reputation":493,"user_id":7007177,"accept_rate":56,"display_name":"quant"},"score":0,"creation_date":1480511401,"post_id":40888853,"comment_id":68992026,"body_markdown":"if i take out return it does not work at all!","body":"if i take out return it does not work at all!"}],"answers":[{"tags":[],"owner":{"account_id":9611892,"reputation":89,"user_id":7135980,"accept_rate":40,"display_name":"mr jorden"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480511090,"creation_date":1480511090,"answer_id":40889147,"question_id":40888853,"body_markdown":"Don&#39;t really know much about app developing because I&#39;m a web developer, But what you can do is to create an statement like:\r\n\r\n    boolean home_pressed_or_not = false;\r\n\r\n    if(home_pressed_or_not.clicked) home_pressed_or_not = true;\r\n\r\nand when ever the button is pressed the `home_pressed_or_not` value turns to true; which can tell whether the button is pressed or not\r\n\r\nGood Luck!","title":"How to add &quot;if the button is pressed&quot; as a condition before the If statement","body":"<p>Don't really know much about app developing because I'm a web developer, But what you can do is to create an statement like:</p>\n\n<pre><code>boolean home_pressed_or_not = false;\n\nif(home_pressed_or_not.clicked) home_pressed_or_not = true;\n</code></pre>\n\n<p>and when ever the button is pressed the <code>home_pressed_or_not</code> value turns to true; which can tell whether the button is pressed or not</p>\n\n<p>Good Luck!</p>\n"},{"tags":[],"owner":{"account_id":5312334,"reputation":4678,"user_id":4238189,"accept_rate":80,"display_name":"Mable John"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1480511129,"creation_date":1480511129,"answer_id":40889158,"question_id":40888853,"body_markdown":"Are you expecting this way ...    \r\n\r\n    // class member\r\n    boolean isHomeButtonTriggered = false;\r\n    \r\n    \r\n    // retrive button widget\r\n    Button home = (Button) findViewById(R.id.id_home);\r\n    home.setOnClickListener(new View.OnClickListener() {\r\n        @Override\r\n        public void onClick(View view) { \r\n            // set flag as true if user press the button\r\n            isHomeButtonTriggered = true;\r\n        }\r\n    });\r\n    \r\n    \r\n    if(!isHomeButtonTriggered || TextUtils.isEmpty(num1)) {\r\n        insert1.setError(&quot;Plese insert digit&quot;);\r\n        // revert flag to old state\r\n        isHomeButtonTriggered = false;\r\n        return;\r\n    }","title":"How to add &quot;if the button is pressed&quot; as a condition before the If statement","body":"<p>Are you expecting this way ...    </p>\n\n<pre><code>// class member\nboolean isHomeButtonTriggered = false;\n\n\n// retrive button widget\nButton home = (Button) findViewById(R.id.id_home);\nhome.setOnClickListener(new View.OnClickListener() {\n    @Override\n    public void onClick(View view) { \n        // set flag as true if user press the button\n        isHomeButtonTriggered = true;\n    }\n});\n\n\nif(!isHomeButtonTriggered || TextUtils.isEmpty(num1)) {\n    insert1.setError(\"Plese insert digit\");\n    // revert flag to old state\n    isHomeButtonTriggered = false;\n    return;\n}\n</code></pre>\n"}],"owner":{"account_id":9420681,"reputation":493,"user_id":7007177,"accept_rate":56,"display_name":"quant"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1781,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1633759178,"creation_date":1480510285,"question_id":40888853,"body_markdown":"I am writing my first app, and inside the code i have an If statement with the condition that digit must be entered, but i want to proceed if the HOME1 button is pressed no matter if digit is entered. So should I add it in the condition, or write another IF statement? It is because even if there are no digits, user should be able to press home button.\r\n\r\n        String num1 = insert1.getText().toString();\r\n\r\n        if(TextUtils.isEmpty(num1)) {\r\n            insert1.setError(&quot;Plese insert digit&quot;);\r\n            return;\r\n        }\r\n","title":"How to add &quot;if the button is pressed&quot; as a condition before the If statement","body":"<p>I am writing my first app, and inside the code i have an If statement with the condition that digit must be entered, but i want to proceed if the HOME1 button is pressed no matter if digit is entered. So should I add it in the condition, or write another IF statement? It is because even if there are no digits, user should be able to press home button.</p>\n\n<pre><code>    String num1 = insert1.getText().toString();\n\n    if(TextUtils.isEmpty(num1)) {\n        insert1.setError(\"Plese insert digit\");\n        return;\n    }\n</code></pre>\n"},{"tags":["java","webassembly"],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633758577,"creation_date":1633705136,"answer_id":69497928,"question_id":69496953,"body_markdown":"&gt; Is there any easy workaround for this? \r\n\r\nI doubt it.  If you look at (for example) `jdk11u/make/autoconf/toolchain.m4` you will see the toolchains that are supported on various platforms.  Emscripten is not listed.\r\n\r\nI expect that `emconfigure` is trying to use the JDK&#39;s autoconf-based configuration framework.   And that framework is checking the compiler you are trying to use ... and saying Nope!\r\n\r\nYou may be able to modify the auto-conf macros to support the Emscripten tool chain.  But the next problem will be getting the code to actually compile.   And then to getting it to run. \r\n\r\n&gt; Should I even be trying to build OpenJDK this way?\r\n\r\nIt is not up to us to say what you *should* do.\r\n\r\nHowever, I would make some observations.\r\n\r\n1.  If you are expecting this to work without significant effort, you are sadly mistaken.\r\n\r\n    What you are doing is equivalent to trying to port Java to a new OP platform and hardware platform.  This is is a massive project.  In addition to just getting the JVM to compile, you also have the problem of getting the Hotspot JIT compiler to generate WebAssembly code.\r\n\r\n2.  This is probably a bad idea anyway.  Once upon a time, mainstream web browser vendors did support Java in the browser.  But there were so many &quot;security issues&quot; that (virtually) all vendors have dropped support.  Oracle saw the writing on the wall, and in Java 9 they started the process of removing support from the OpenJDK codebase.  Applet support and JNLP are gone, and they are planning to get rid of the `SecurityManager` framework.\r\n\r\n    What you would be doing is bring back Java support in the web browser ... with the security safeguards stripped out.\r\n\r\n    Basically, the Java SE platform is to rich to implement securely in a web browser.\r\n\r\n-------------------\r\n\r\nIf you are still keen on building a JVM using Emscripten, take a look at https://github.com/emscripten-core/emscripten/issues/3342.\r\n\r\nBut note that they are talking about building JamVM, which is Java 1.6, and hasn&#39;t been touched since 2014.\r\n","title":"How to build OpenJDK with Emscripten?","body":"<blockquote>\n<p>Is there any easy workaround for this?</p>\n</blockquote>\n<p>I doubt it.  If you look at (for example) <code>jdk11u/make/autoconf/toolchain.m4</code> you will see the toolchains that are supported on various platforms.  Emscripten is not listed.</p>\n<p>I expect that <code>emconfigure</code> is trying to use the JDK's autoconf-based configuration framework.   And that framework is checking the compiler you are trying to use ... and saying Nope!</p>\n<p>You may be able to modify the auto-conf macros to support the Emscripten tool chain.  But the next problem will be getting the code to actually compile.   And then to getting it to run.</p>\n<blockquote>\n<p>Should I even be trying to build OpenJDK this way?</p>\n</blockquote>\n<p>It is not up to us to say what you <em>should</em> do.</p>\n<p>However, I would make some observations.</p>\n<ol>\n<li><p>If you are expecting this to work without significant effort, you are sadly mistaken.</p>\n<p>What you are doing is equivalent to trying to port Java to a new OP platform and hardware platform.  This is is a massive project.  In addition to just getting the JVM to compile, you also have the problem of getting the Hotspot JIT compiler to generate WebAssembly code.</p>\n</li>\n<li><p>This is probably a bad idea anyway.  Once upon a time, mainstream web browser vendors did support Java in the browser.  But there were so many &quot;security issues&quot; that (virtually) all vendors have dropped support.  Oracle saw the writing on the wall, and in Java 9 they started the process of removing support from the OpenJDK codebase.  Applet support and JNLP are gone, and they are planning to get rid of the <code>SecurityManager</code> framework.</p>\n<p>What you would be doing is bring back Java support in the web browser ... with the security safeguards stripped out.</p>\n<p>Basically, the Java SE platform is to rich to implement securely in a web browser.</p>\n</li>\n</ol>\n<hr />\n<p>If you are still keen on building a JVM using Emscripten, take a look at <a href=\"https://github.com/emscripten-core/emscripten/issues/3342\" rel=\"nofollow noreferrer\">https://github.com/emscripten-core/emscripten/issues/3342</a>.</p>\n<p>But note that they are talking about building JamVM, which is Java 1.6, and hasn't been touched since 2014.</p>\n"}],"owner":{"account_id":20515617,"reputation":21,"user_id":15056358,"display_name":"Jack Berendt"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":376,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633758577,"creation_date":1633701021,"question_id":69496953,"body_markdown":"I am trying to use Emscripten&#39;s emconfigure and emmake to compile OpenJDK for the web. The end goal would be to be able to run uncompiled java code natively in the browser. However, running `emconfigure ./configure` throws the error \r\n\r\n    configure: The C compiler (located as /usr/lib/emscripten/emcc) does not seem to be the required gcc compiler.\r\n    configure: The result from running with --version was: &quot;&quot;\r\n    configure: error: A gcc compiler is required. Try setting --with-tools-dir.\r\n\r\nI have been searching all day and I haven&#39;t found anything along the lines of this error. Is there any easy workaround for this? Should I even be trying to build OpenJDK this way?","title":"How to build OpenJDK with Emscripten?","body":"<p>I am trying to use Emscripten's emconfigure and emmake to compile OpenJDK for the web. The end goal would be to be able to run uncompiled java code natively in the browser. However, running <code>emconfigure ./configure</code> throws the error</p>\n<pre><code>configure: The C compiler (located as /usr/lib/emscripten/emcc) does not seem to be the required gcc compiler.\nconfigure: The result from running with --version was: &quot;&quot;\nconfigure: error: A gcc compiler is required. Try setting --with-tools-dir.\n</code></pre>\n<p>I have been searching all day and I haven't found anything along the lines of this error. Is there any easy workaround for this? Should I even be trying to build OpenJDK this way?</p>\n"},{"tags":["java","retrofit2","okhttp"],"answers":[{"tags":[],"owner":{"account_id":20397424,"reputation":39,"user_id":14963902,"display_name":"OathKeeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633758393,"creation_date":1633758393,"answer_id":69504083,"question_id":69386558,"body_markdown":"I use multipart to upload image :\r\n\r\n    File image3 = new File(Environment.getExternalStorageDirectory()+&quot;YOUR_FILE_NAME&quot;.jpg&quot;);\r\n            String path3 = image3.getPath();\r\n            File file3 = new File(path3);\r\n            // Parsing any Media type file\r\n            RequestBody requestBody3 = RequestBody.create(MediaType.parse(&quot;*/*&quot;), file3);\r\n            MultipartBody.Part fileToUpload3 = MultipartBody.Part.createFormData(&quot;filename&quot;, file3.getName(), requestBody3);\r\n            RequestBody filename3 = RequestBody.create(MediaType.parse(&quot;text/plain&quot;), image3.getName());\r\n     \r\n      \r\nin Retrofit Call method :\r\n\r\n    UploadImage3(fileToUpload1,filename3);\r\n\r\n","title":"How can I edit the boundary in android multipart/form-data?","body":"<p>I use multipart to upload image :</p>\n<pre><code>File image3 = new File(Environment.getExternalStorageDirectory()+&quot;YOUR_FILE_NAME&quot;.jpg&quot;);\n        String path3 = image3.getPath();\n        File file3 = new File(path3);\n        // Parsing any Media type file\n        RequestBody requestBody3 = RequestBody.create(MediaType.parse(&quot;*/*&quot;), file3);\n        MultipartBody.Part fileToUpload3 = MultipartBody.Part.createFormData(&quot;filename&quot;, file3.getName(), requestBody3);\n        RequestBody filename3 = RequestBody.create(MediaType.parse(&quot;text/plain&quot;), image3.getName());\n \n  \n</code></pre>\n<p>in Retrofit Call method :</p>\n<pre><code>UploadImage3(fileToUpload1,filename3);\n</code></pre>\n"}],"owner":{"account_id":22901587,"reputation":11,"user_id":17040220,"display_name":"신동욱"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633758393,"creation_date":1632979281,"question_id":69386558,"body_markdown":"    private void jsonUpload(String json) {\r\n    \tjson=json.replace(&quot;\\\\&quot;,&quot;&quot;);\r\n    \tbyte[] file = new byte[0];\r\n    \ttry {\r\n    \t\tfile = json.getBytes(&quot;UTF_8&quot;);\r\n    \t} catch (UnsupportedEncodingException e) {\r\n    \t\te.printStackTrace();\r\n    \t}\r\n    \tRequestBody requestFile = RequestBody.create(file);\r\n    \tMultipartBody.Part uploadFile = Part.createFormData(&quot;resourceInfoList&quot;, &quot;blob&quot;, requestFile);\r\n    \tAifricaRetrofitTool.getAPIWithHeader().uploadJson(uploadFile)\r\n    \t\t\t.enqueue(RetrofitTool.getCallback(new UploadJsonRequestCallback()));\r\n    }\r\n\r\nI am trying to upload a file using the post method with android. However, an error occurs because a hyphen is not included in the boundary value after the Content-type, which is automatically added to the header. I want to add two hyphens to this header value.","title":"How can I edit the boundary in android multipart/form-data?","body":"<pre><code>private void jsonUpload(String json) {\n    json=json.replace(&quot;\\\\&quot;,&quot;&quot;);\n    byte[] file = new byte[0];\n    try {\n        file = json.getBytes(&quot;UTF_8&quot;);\n    } catch (UnsupportedEncodingException e) {\n        e.printStackTrace();\n    }\n    RequestBody requestFile = RequestBody.create(file);\n    MultipartBody.Part uploadFile = Part.createFormData(&quot;resourceInfoList&quot;, &quot;blob&quot;, requestFile);\n    AifricaRetrofitTool.getAPIWithHeader().uploadJson(uploadFile)\n            .enqueue(RetrofitTool.getCallback(new UploadJsonRequestCallback()));\n}\n</code></pre>\n<p>I am trying to upload a file using the post method with android. However, an error occurs because a hyphen is not included in the boundary value after the Content-type, which is automatically added to the header. I want to add two hyphens to this header value.</p>\n"},{"tags":["java","spring","spring-boot","nullpointerexception","log4j"],"answers":[{"tags":[],"owner":{"account_id":16269349,"reputation":13452,"user_id":11748454,"display_name":"Piotr P. Karwasz"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1633758345,"creation_date":1633758345,"answer_id":69504080,"question_id":69500259,"body_markdown":"Your problem is different from the [question you cite](https://stackoverflow.com/questions/53714010/log4j2-slf4j-and-java-11). Your classpath must contain the [`luaj-jse`](https://mvnrepository.com/artifact/org.luaj/luaj-jse/3.0.1) scripting engine, which has a bug:\r\n\r\n```lang-java\r\n    public Object getParameter(String key) {\r\n        return getScriptEngine().get(key).toString();\r\n    }\r\n```\r\n\r\nWhen `getParameter` is called with a missing key (like _&quot;THREADING&quot;_), this causes a `NullPointerException`.\r\n\r\nYou should [report this bug](https://github.com/luaj/luaj/issues) to LuaJ. In the meantime you can either ignore the error or remove `luaj-jse` from your dependencies.","title":"Running Log4j2 with Java 11 and Spring Boot causes NullPointerException","body":"<p>Your problem is different from the <a href=\"https://stackoverflow.com/questions/53714010/log4j2-slf4j-and-java-11\">question you cite</a>. Your classpath must contain the <a href=\"https://mvnrepository.com/artifact/org.luaj/luaj-jse/3.0.1\" rel=\"nofollow noreferrer\"><code>luaj-jse</code></a> scripting engine, which has a bug:</p>\n<pre class=\"lang-java prettyprint-override\"><code>    public Object getParameter(String key) {\n        return getScriptEngine().get(key).toString();\n    }\n</code></pre>\n<p>When <code>getParameter</code> is called with a missing key (like <em>&quot;THREADING&quot;</em>), this causes a <code>NullPointerException</code>.</p>\n<p>You should <a href=\"https://github.com/luaj/luaj/issues\" rel=\"nofollow noreferrer\">report this bug</a> to LuaJ. In the meantime you can either ignore the error or remove <code>luaj-jse</code> from your dependencies.</p>\n"}],"owner":{"account_id":3461609,"reputation":565,"user_id":2898535,"display_name":"McFlurriez"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":695,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69504080,"answer_count":1,"score":1,"last_activity_date":1633758345,"creation_date":1633717541,"question_id":69500259,"body_markdown":"When my Spring Boot application starts up and initializes my Log4j2 logger in Java 11, I get the following exception:\r\n\r\n    2021-10-08 11:20:29,949 main INFO Cannot initialize scripting support because this JRE does not support it. java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;javax.script.ScriptEngine.get(String)&quot; is null\r\n\tat org.luaj.vm2.script.LuaScriptEngineFactory.getParameter(Unknown Source)\r\n\tat org.apache.logging.log4j.core.script.ScriptManager.&lt;init&gt;(ScriptManager.java:84)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:219)\r\n\tat org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:287)\r\n\tat org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:627)\r\n\tat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:700)\r\n\tat org.apache.logging.log4j.core.LoggerContext.setConfigLocation(LoggerContext.java:685)\r\n\r\n\r\nThere was another answer for the same problem a few years ago here: https://stackoverflow.com/questions/53714010/log4j2-slf4j-and-java-11\r\n\r\nHowever this answer from a few years ago, did not give me the steps I needed to figure out how to remove this. There was a discussion that it was an OpenJDK issue, and that it should be fixed now, but I am still struggling with this.\r\n\r\nDoes anyone understand this issue a bit more, why it only happens with Spring Boot, and what I can do to get rid of it in a clean way?","title":"Running Log4j2 with Java 11 and Spring Boot causes NullPointerException","body":"<p>When my Spring Boot application starts up and initializes my Log4j2 logger in Java 11, I get the following exception:</p>\n<pre><code>2021-10-08 11:20:29,949 main INFO Cannot initialize scripting support because this JRE does not support it. java.lang.NullPointerException: Cannot invoke &quot;Object.toString()&quot; because the return value of &quot;javax.script.ScriptEngine.get(String)&quot; is null\nat org.luaj.vm2.script.LuaScriptEngineFactory.getParameter(Unknown Source)\nat org.apache.logging.log4j.core.script.ScriptManager.&lt;init&gt;(ScriptManager.java:84)\nat org.apache.logging.log4j.core.config.AbstractConfiguration.initialize(AbstractConfiguration.java:219)\nat org.apache.logging.log4j.core.config.AbstractConfiguration.start(AbstractConfiguration.java:287)\nat org.apache.logging.log4j.core.LoggerContext.setConfiguration(LoggerContext.java:627)\nat org.apache.logging.log4j.core.LoggerContext.reconfigure(LoggerContext.java:700)\nat org.apache.logging.log4j.core.LoggerContext.setConfigLocation(LoggerContext.java:685)\n</code></pre>\n<p>There was another answer for the same problem a few years ago here: <a href=\"https://stackoverflow.com/questions/53714010/log4j2-slf4j-and-java-11\">Log4j2/Slf4j and Java 11</a></p>\n<p>However this answer from a few years ago, did not give me the steps I needed to figure out how to remove this. There was a discussion that it was an OpenJDK issue, and that it should be fixed now, but I am still struggling with this.</p>\n<p>Does anyone understand this issue a bit more, why it only happens with Spring Boot, and what I can do to get rid of it in a clean way?</p>\n"},{"tags":["java","gradle","junit5","junit-jupiter"],"comments":[{"owner":{"account_id":1388798,"reputation":1539,"user_id":1320143,"accept_rate":100,"display_name":"oblio"},"score":0,"creation_date":1539953667,"post_id":52892595,"comment_id":92698112,"body_markdown":"Your stack trace says: Tag name [integration-test &amp; bla] must be syntactically valid. Are you sure that &quot;bla&quot; is what you want?","body":"Your stack trace says: Tag name [integration-test &amp; bla] must be syntactically valid. Are you sure that &quot;bla&quot; is what you want?"},{"owner":{"account_id":14577558,"reputation":31,"user_id":10529017,"display_name":"Vivien Miller"},"score":0,"creation_date":1539954980,"post_id":52892595,"comment_id":92698888,"body_markdown":"Sorry, it was an old stack trace. Fixed","body":"Sorry, it was an old stack trace. Fixed"},{"owner":{"account_id":8532578,"reputation":39898,"user_id":6395627,"display_name":"Slaw"},"score":0,"creation_date":1540845472,"post_id":52892595,"comment_id":93006437,"body_markdown":"Does [the answer](https://stackoverflow.com/a/53009174/6395627) by Sam Brannen solve your issue?","body":"Does <a href=\"https://stackoverflow.com/a/53009174/6395627\">the answer</a> by Sam Brannen solve your issue?"}],"answers":[{"tags":[],"owner":{"account_id":2818342,"reputation":299876,"user_id":2422776,"display_name":"Mureinik"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1539953535,"creation_date":1539953535,"answer_id":52892736,"question_id":52892595,"body_markdown":"You should pass them as separate, coma delimited strings:\r\n\r\n    options.includeTags &#39;integration-test&#39;, &#39;fast&#39;","title":"Gradle&amp;Junit5 Tag based Gradle task doesn&#39;t work when using &amp; expression","body":"<p>You should pass them as separate, coma delimited strings:</p>\n\n<pre><code>options.includeTags 'integration-test', 'fast'\n</code></pre>\n"},{"tags":[],"owner":{"account_id":165479,"reputation":30116,"user_id":388980,"display_name":"Sam Brannen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1540558289,"creation_date":1540558289,"answer_id":53009174,"question_id":52892595,"body_markdown":"The presence of the following in the stack trace tells me that you are using a version of JUnit 5 that did not support tag expressions (i.e., `x &amp; y`).\r\n\r\n    at org.junit.platform.launcher.TagFilter.toTestTags(TagFilter.java:125)\r\n\r\nThus, if you want to use _tag expressions_, you&#39;ll need to upgrade to JUnit 5.1 or higher.\r\n\r\n","title":"Gradle&amp;Junit5 Tag based Gradle task doesn&#39;t work when using &amp; expression","body":"<p>The presence of the following in the stack trace tells me that you are using a version of JUnit 5 that did not support tag expressions (i.e., <code>x &amp; y</code>).</p>\n\n<pre><code>at org.junit.platform.launcher.TagFilter.toTestTags(TagFilter.java:125)\n</code></pre>\n\n<p>Thus, if you want to use <em>tag expressions</em>, you'll need to upgrade to JUnit 5.1 or higher.</p>\n"},{"tags":[],"owner":{"display_name":"user17111560"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633758171,"creation_date":1633756818,"answer_id":69503968,"question_id":52892595,"body_markdown":"@Tags are a great way to specifically mark a test case. JUnit provides a better way to manage tags execution using `includeTags` and `excludeTags`\r\n\r\nmethod.\r\n\r\n    public int addApple(int apple1, int apple2) {\r\n    return apple1 + apple2;\r\n    }\r\n\r\n\r\ntest case\r\n\r\n    @Test\r\n    @Tag(&quot;add&quot;)\r\n    void addAppleTestCase1() {\r\n    AppleCalculator appleCalculator = new AppleCalculator();\r\n    assertEquals(2, appleCalculator.addApple(1, 1), &quot;1 apple + 1 apple is 2 apple&quot;);\r\n    }\r\n\r\n\r\n    @Test\r\n    @Tag(&quot;sub&quot;)\r\n    void subAppleTestCase1() {\r\n    AppleCalculator appleCalculator = new AppleCalculator();\r\n    assertEquals(1, appleCalculator.subApple(2, 1), &quot;2 apple - 1 apple is 1 apple&quot;);\r\n    }\r\n\r\n\r\nbuild.gradle\r\n\r\n    test {\r\n    testLogging {\r\n    events &quot;started&quot;, &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n    }\r\n    useJUnitPlatform {\r\n    includeTags &#39;add&#39;\r\n    excludeTags &#39;sub&#39;\r\n    }\r\n    }\r\n\r\n\r\n    tasks.register(&quot;addTests&quot;, Test) {\r\n    testLogging {\r\n    events &quot;started&quot;, &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n    }\r\n    useJUnitPlatform {\r\n    includeTags &#39;add&#39;\r\n    }\r\n    mustRunAfter check\r\n    }\r\n\r\n\r\n    tasks.register(&quot;subTests&quot;, Test) {\r\n    testLogging {\r\n    events &quot;started&quot;, &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\r\n    }\r\n    useJUnitPlatform {\r\n    includeTags &#39;sub&#39;\r\n    }\r\n    mustRunAfter check\r\n    }\r\n\r\n\r\nto run addTests gradle task\r\n\r\n\r\n\r\n    gradle clean addTests\r\n\r\nor\r\n\r\n    ./gradlew clean addTests\r\n\r\n\r\n\r\nto run subTests gradle task\r\n\r\n\r\n\r\n    gradle clean subTests\r\n\r\nor\r\n\r\n    ./gradlew clean subTests\r\n","title":"Gradle&amp;Junit5 Tag based Gradle task doesn&#39;t work when using &amp; expression","body":"<p>@Tags are a great way to specifically mark a test case. JUnit provides a better way to manage tags execution using <code>includeTags</code> and <code>excludeTags</code></p>\n<p>method.</p>\n<pre><code>public int addApple(int apple1, int apple2) {\nreturn apple1 + apple2;\n}\n</code></pre>\n<p>test case</p>\n<pre><code>@Test\n@Tag(&quot;add&quot;)\nvoid addAppleTestCase1() {\nAppleCalculator appleCalculator = new AppleCalculator();\nassertEquals(2, appleCalculator.addApple(1, 1), &quot;1 apple + 1 apple is 2 apple&quot;);\n}\n\n\n@Test\n@Tag(&quot;sub&quot;)\nvoid subAppleTestCase1() {\nAppleCalculator appleCalculator = new AppleCalculator();\nassertEquals(1, appleCalculator.subApple(2, 1), &quot;2 apple - 1 apple is 1 apple&quot;);\n}\n</code></pre>\n<p>build.gradle</p>\n<pre><code>test {\ntestLogging {\nevents &quot;started&quot;, &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n}\nuseJUnitPlatform {\nincludeTags 'add'\nexcludeTags 'sub'\n}\n}\n\n\ntasks.register(&quot;addTests&quot;, Test) {\ntestLogging {\nevents &quot;started&quot;, &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n}\nuseJUnitPlatform {\nincludeTags 'add'\n}\nmustRunAfter check\n}\n\n\ntasks.register(&quot;subTests&quot;, Test) {\ntestLogging {\nevents &quot;started&quot;, &quot;passed&quot;, &quot;skipped&quot;, &quot;failed&quot;\n}\nuseJUnitPlatform {\nincludeTags 'sub'\n}\nmustRunAfter check\n}\n</code></pre>\n<p>to run addTests gradle task</p>\n<pre><code>gradle clean addTests\n</code></pre>\n<p>or</p>\n<pre><code>./gradlew clean addTests\n</code></pre>\n<p>to run subTests gradle task</p>\n<pre><code>gradle clean subTests\n</code></pre>\n<p>or</p>\n<pre><code>./gradlew clean subTests\n</code></pre>\n"}],"owner":{"account_id":14577558,"reputation":31,"user_id":10529017,"display_name":"Vivien Miller"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2138,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"answer_count":3,"score":3,"last_activity_date":1633758171,"creation_date":1539953051,"question_id":52892595,"body_markdown":"I use next gradle task configuration\r\n\r\n    task pipelineTest(type: Test) { Test task -&gt;\r\n    task.useJUnitPlatform { org.gradle.api.tasks.testing.junitplatform.JUnitPlatformOptions options -&gt;\r\n        options.includeTags &#39;integration-test &amp; fast&#39;\r\n    }\r\n\r\nI expect that test that have both tags integration-test and fast will be executed.\r\n\r\nBut I&#39;ve got the build failed\r\nStack trace\r\n\r\n    org.gradle.api.internal.tasks.testing.TestSuiteExecutionException: Could not complete execution for Gradle Test Executor 6.\r\n        at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\r\n    \tat org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\r\n    \tat com.sun.proxy.$Proxy1.stop(Unknown Source)\r\n    \tat org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:123)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\r\n    \tat sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\r\n    \tat sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\r\n    \tat java.lang.reflect.Method.invoke(Method.java:498)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\r\n    \tat org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)\r\n    \tat org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)\r\n    \tat org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\r\n    \tat org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\r\n    \tat java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\r\n    \tat java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\r\n    \tat org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\r\n    \tat java.lang.Thread.run(Thread.java:748)\r\n    Caused by: org.junit.platform.commons.util.PreconditionViolationException: Tag name [integration-test &amp; fast] must be syntactically valid\r\n    \tat org.junit.platform.commons.util.Preconditions.condition(Preconditions.java:295)\r\n    \tat org.junit.platform.engine.TestTag.&lt;init&gt;(TestTag.java:120)\r\n    \tat org.junit.platform.engine.TestTag.create(TestTag.java:116)\r\n    \tat java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\r\n    \tat java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\r\n    \tat java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\r\n    \tat java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\r\n    \tat java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\r\n    \tat java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    \tat java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\r\n    \tat org.junit.platform.launcher.TagFilter.toTestTags(TagFilter.java:125)\r\n    \tat org.junit.platform.launcher.TagFilter.includeTags(TagFilter.java:79)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.addTagsFilter(JUnitPlatformTestClassProcessor.java:134)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.createLauncherDiscoveryRequest(JUnitPlatformTestClassProcessor.java:118)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.access$800(JUnitPlatformTestClassProcessor.java:54)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:92)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$100(JUnitPlatformTestClassProcessor.java:77)\r\n    \tat org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:73)\r\n    \tat org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\r\n\r\n\r\n","title":"Gradle&amp;Junit5 Tag based Gradle task doesn&#39;t work when using &amp; expression","body":"<p>I use next gradle task configuration</p>\n\n<pre><code>task pipelineTest(type: Test) { Test task -&gt;\ntask.useJUnitPlatform { org.gradle.api.tasks.testing.junitplatform.JUnitPlatformOptions options -&gt;\n    options.includeTags 'integration-test &amp; fast'\n}\n</code></pre>\n\n<p>I expect that test that have both tags integration-test and fast will be executed.</p>\n\n<p>But I've got the build failed\nStack trace</p>\n\n<pre><code>org.gradle.api.internal.tasks.testing.TestSuiteExecutionException: Could not complete execution for Gradle Test Executor 6.\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:63)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.dispatch.ContextClassLoaderDispatch.dispatch(ContextClassLoaderDispatch.java:32)\n    at org.gradle.internal.dispatch.ProxyDispatchAdapter$DispatchingInvocationHandler.invoke(ProxyDispatchAdapter.java:93)\n    at com.sun.proxy.$Proxy1.stop(Unknown Source)\n    at org.gradle.api.internal.tasks.testing.worker.TestWorker.stop(TestWorker.java:123)\n    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)\n    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)\n    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)\n    at java.lang.reflect.Method.invoke(Method.java:498)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:35)\n    at org.gradle.internal.dispatch.ReflectionDispatch.dispatch(ReflectionDispatch.java:24)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:155)\n    at org.gradle.internal.remote.internal.hub.MessageHubBackedObjectConnection$DispatchWrapper.dispatch(MessageHubBackedObjectConnection.java:137)\n    at org.gradle.internal.remote.internal.hub.MessageHub$Handler.run(MessageHub.java:404)\n    at org.gradle.internal.concurrent.ExecutorPolicy$CatchAndRecordFailures.onExecute(ExecutorPolicy.java:63)\n    at org.gradle.internal.concurrent.ManagedExecutorImpl$1.run(ManagedExecutorImpl.java:46)\n    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)\n    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)\n    at org.gradle.internal.concurrent.ThreadFactoryImpl$ManagedThreadRunnable.run(ThreadFactoryImpl.java:55)\n    at java.lang.Thread.run(Thread.java:748)\nCaused by: org.junit.platform.commons.util.PreconditionViolationException: Tag name [integration-test &amp; fast] must be syntactically valid\n    at org.junit.platform.commons.util.Preconditions.condition(Preconditions.java:295)\n    at org.junit.platform.engine.TestTag.&lt;init&gt;(TestTag.java:120)\n    at org.junit.platform.engine.TestTag.create(TestTag.java:116)\n    at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)\n    at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1382)\n    at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:481)\n    at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:471)\n    at java.util.stream.ReduceOps$ReduceOp.evaluateSequential(ReduceOps.java:708)\n    at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.util.stream.ReferencePipeline.collect(ReferencePipeline.java:499)\n    at org.junit.platform.launcher.TagFilter.toTestTags(TagFilter.java:125)\n    at org.junit.platform.launcher.TagFilter.includeTags(TagFilter.java:79)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.addTagsFilter(JUnitPlatformTestClassProcessor.java:134)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.createLauncherDiscoveryRequest(JUnitPlatformTestClassProcessor.java:118)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.access$800(JUnitPlatformTestClassProcessor.java:54)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.processAllTestClasses(JUnitPlatformTestClassProcessor.java:92)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor$CollectAllTestClassesExecutor.access$100(JUnitPlatformTestClassProcessor.java:77)\n    at org.gradle.api.internal.tasks.testing.junitplatform.JUnitPlatformTestClassProcessor.stop(JUnitPlatformTestClassProcessor.java:73)\n    at org.gradle.api.internal.tasks.testing.SuiteTestClassProcessor.stop(SuiteTestClassProcessor.java:61)\n</code></pre>\n"},{"tags":["java","generics"],"answers":[{"tags":[],"owner":{"account_id":12206189,"reputation":5872,"user_id":8909235,"display_name":"lkatiforis"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633757686,"creation_date":1633757341,"answer_id":69504009,"question_id":69503671,"body_markdown":"&gt; why &quot;naturalNumbers.add(naturalNumbers.get(0))&quot; is not working\r\n\r\nBecause you are trying to write into a list of **unknown** subtype of `NaturalNumber`. `List&lt;? extends NaturalNumber&gt;` represents a list of `NaturalNumber` or its sub-types such as `EvenNumber` and `OddNumber`. The compiler doesn&#39;t know the actual type.\r\n\r\n&gt; how can I implement the &quot;You can capture the wildcard and write\r\n&gt; elements that you&#39;ve read from the list&quot;\r\n\r\nYou can implement it like this:\r\n\r\n      private &lt;T&gt; void addNaturalNumber(List&lt;T&gt; naturalNumbers) {\r\n        naturalNumbers.add(naturalNumbers.get(0));\r\n      }\r\n\r\nHere we say that the type variable `T` has captured the wildcard. ","title":"how to capture the wildcard and write elements to the wildcard list","body":"<blockquote>\n<p>why &quot;naturalNumbers.add(naturalNumbers.get(0))&quot; is not working</p>\n</blockquote>\n<p>Because you are trying to write into a list of <strong>unknown</strong> subtype of <code>NaturalNumber</code>. <code>List&lt;? extends NaturalNumber&gt;</code> represents a list of <code>NaturalNumber</code> or its sub-types such as <code>EvenNumber</code> and <code>OddNumber</code>. The compiler doesn't know the actual type.</p>\n<blockquote>\n<p>how can I implement the &quot;You can capture the wildcard and write\nelements that you've read from the list&quot;</p>\n</blockquote>\n<p>You can implement it like this:</p>\n<pre><code>  private &lt;T&gt; void addNaturalNumber(List&lt;T&gt; naturalNumbers) {\n    naturalNumbers.add(naturalNumbers.get(0));\n  }\n</code></pre>\n<p>Here we say that the type variable <code>T</code> has captured the wildcard.</p>\n"}],"owner":{"account_id":21559786,"reputation":17,"user_id":15894488,"display_name":"hikari"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":95,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69504009,"answer_count":1,"score":1,"last_activity_date":1633757686,"creation_date":1633752394,"question_id":69503671,"body_markdown":"I&#39;ve read a few topics about generic, but in this article&#39;s last paragraph [Guidelines for Wildcard Use](https://docs.oracle.com/javase/tutorial/java/generics/wildcardGuidelines.html), this sentence &quot;You can capture the wildcard and write elements that you&#39;ve read from the list&quot; really confuse me.\r\n\r\nI have tested it in idea, here is the code:\r\n```\r\nclass NaturalNumber {\r\n\r\n    private int i;\r\n\r\n    public NaturalNumber(int i) { this.i = i; }\r\n    // ...\r\n}\r\n\r\nclass EvenNumber extends NaturalNumber {\r\n\r\n    public EvenNumber(int i) { super(i); }\r\n    // ...\r\n}\r\n\r\n// test method, ignore class\r\n    @Test\r\n    public void redisTest() {\r\n        List&lt;EvenNumber&gt; evenNumbers = new ArrayList&lt;&gt;();\r\n        evenNumbers.add(new EvenNumber(1));\r\n        List&lt;? extends NaturalNumber&gt; naturalNumbers = evenNumbers;\r\n\r\n        // idea compiler error, Required type:\r\n        //capture of ? extends NaturalNumber, Provided:\r\n        //capture of ? extends NaturalNumber\r\n        naturalNumbers.add(naturalNumbers.get(0)); \r\n    }\r\n```\r\n\r\nwhy &quot;naturalNumbers.add(naturalNumbers.get(0))&quot; is not working, and how can I implement the &quot;You can capture the wildcard and write elements that you&#39;ve read from the list&quot;","title":"how to capture the wildcard and write elements to the wildcard list","body":"<p>I've read a few topics about generic, but in this article's last paragraph <a href=\"https://docs.oracle.com/javase/tutorial/java/generics/wildcardGuidelines.html\" rel=\"nofollow noreferrer\">Guidelines for Wildcard Use</a>, this sentence &quot;You can capture the wildcard and write elements that you've read from the list&quot; really confuse me.</p>\n<p>I have tested it in idea, here is the code:</p>\n<pre><code>class NaturalNumber {\n\n    private int i;\n\n    public NaturalNumber(int i) { this.i = i; }\n    // ...\n}\n\nclass EvenNumber extends NaturalNumber {\n\n    public EvenNumber(int i) { super(i); }\n    // ...\n}\n\n// test method, ignore class\n    @Test\n    public void redisTest() {\n        List&lt;EvenNumber&gt; evenNumbers = new ArrayList&lt;&gt;();\n        evenNumbers.add(new EvenNumber(1));\n        List&lt;? extends NaturalNumber&gt; naturalNumbers = evenNumbers;\n\n        // idea compiler error, Required type:\n        //capture of ? extends NaturalNumber, Provided:\n        //capture of ? extends NaturalNumber\n        naturalNumbers.add(naturalNumbers.get(0)); \n    }\n</code></pre>\n<p>why &quot;naturalNumbers.add(naturalNumbers.get(0))&quot; is not working, and how can I implement the &quot;You can capture the wildcard and write elements that you've read from the list&quot;</p>\n"},{"tags":["java","spring-boot","mapstruct"],"comments":[{"owner":{"account_id":18059693,"reputation":593,"user_id":13127098,"display_name":"Nakul Goyal"},"score":0,"creation_date":1620363568,"post_id":67420250,"comment_id":119183942,"body_markdown":"The code that you like to be generated can throw NullPointerException(if entityDto is null).\nOther than that it just contains extra and non required lines of code, which will perform exactly the same functionality as compared to the auto generated code.","body":"The code that you like to be generated can throw NullPointerException(if entityDto is null). Other than that it just contains extra and non required lines of code, which will perform exactly the same functionality as compared to the auto generated code."}],"answers":[{"tags":[],"owner":{"account_id":1128956,"reputation":19765,"user_id":1115491,"display_name":"Filip"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1620368260,"creation_date":1620368260,"answer_id":67429871,"question_id":67420250,"body_markdown":"I think what you are looking for is the [Updating existing bean instances](https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances).\r\n\r\ne.q.\r\n\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface EntityMapper {\r\n\r\n    Entity updateEntity(@MappingTarget Entity entity, EntityDTO dto);\r\n}\r\n```\r\n\r\nWhich will generate something like:\r\n\r\n```\r\n@Component\r\npublic class EntityMapperImpl implements EntityMapper {\r\n\r\n    @Override\r\n    public Entity updateEntity(Entity entity, EntityDTO dto) {\r\n        if ( dto == null ) {\r\n            return null;\r\n        }\r\n\r\n        if ( dto.getName() != null ) {\r\n            entity.setName(dto.getName());\r\n        } else {\r\n            entity.setName( null );\r\n        }\r\n\r\n        if ( dto.getDescription() != null ) {\r\n            entity.setDescription(dto.getDescription());\r\n        } else {\r\n            entity.setDescription( null );\r\n        }\r\n\r\n        return entity;\r\n    }\r\n}\r\n```\r\n\r\nIn case you want to avoid the setting to null you can use `NullValuePropertyMappingStrategy#IGNORE`","title":"How can I use mapStruct for a PatchMapping?","body":"<p>I think what you are looking for is the <a href=\"https://mapstruct.org/documentation/stable/reference/html/#updating-bean-instances\" rel=\"nofollow noreferrer\">Updating existing bean instances</a>.</p>\n<p>e.q.</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface EntityMapper {\n\n    Entity updateEntity(@MappingTarget Entity entity, EntityDTO dto);\n}\n</code></pre>\n<p>Which will generate something like:</p>\n<pre><code>@Component\npublic class EntityMapperImpl implements EntityMapper {\n\n    @Override\n    public Entity updateEntity(Entity entity, EntityDTO dto) {\n        if ( dto == null ) {\n            return null;\n        }\n\n        if ( dto.getName() != null ) {\n            entity.setName(dto.getName());\n        } else {\n            entity.setName( null );\n        }\n\n        if ( dto.getDescription() != null ) {\n            entity.setDescription(dto.getDescription());\n        } else {\n            entity.setDescription( null );\n        }\n\n        return entity;\n    }\n}\n</code></pre>\n<p>In case you want to avoid the setting to null you can use <code>NullValuePropertyMappingStrategy#IGNORE</code></p>\n"}],"owner":{"account_id":13127433,"reputation":37,"user_id":9583274,"display_name":"Neil John"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1265,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":67429871,"answer_count":1,"score":1,"last_activity_date":1633757547,"creation_date":1620311524,"question_id":67420250,"body_markdown":"I would like to know can I ignore null fields and convert only the attributes that I put in request\r\n\r\nMy entity:\r\n```\r\npublic class Entity {\r\n    private Long id;\r\n    private String name;\r\n    private String description;\r\n}\r\n```\r\n\r\nMy DTO:\r\n```\r\npublic class EntityDTO {\r\n    private String name;\r\n    private String description;\r\n}\r\n```\r\n\r\nMy Mapper:\r\n```\r\n@Mapper(componentModel = &quot;spring&quot;)\r\npublic interface EntityMapper {\r\n\r\n    @BeanMapping(nullValueCheckStrategy = NullValueCheckStrategy.ON_IMPLICIT_CONVERSION)\r\n    Entity toEntity(EntityDTO entityDTO);\r\n}\r\n```\r\n\r\nMy Generated code: \r\n```\r\n@Component\r\npublic class EntityMapperImpl implements EntityMapper {\r\n\r\n    @Override\r\n    public Entity toEntity(EntityDTO entityDTO) {\r\n        if (entityDTO == null) {\r\n            return null;\r\n        }\r\n\r\n        EntityBuilder entity = Entity.builder();\r\n\r\n        entity.name(tipoOperacaoParcialUpdate.getName());\r\n        entity.description(tipoOperacaoParcialUpdate.getDescription());\r\n        \r\n        return entity.build();\r\n    }\r\n}\r\n```\r\n\r\nI would like a generated code like this:\r\n\r\n```\r\n@Component\r\npublic class EntityMapperImpl implements EntityMapper {\r\n\r\n    @Override\r\n    public Entity toEntity(EntityDTO entityDTO) {\r\n        if ( entityDTO.getName() != null ) {\r\n            entityDTO.setName(entityDTO.getName());\r\n        }\r\n        if ( entityDTO.getDescription() != null ) {\r\n            entityDTO.setDescription(entityDTO.getDescription());\r\n        }\r\n\r\n        EntityBuilder entity = Entity.builder();\r\n\r\n        entity.name( entityDTO.getName());\r\n        entity.description( entityDTO.getDescription());\r\n        return entity.build();\r\n    }\r\n}\r\n```\r\nI would like a thing like that, how can I do this using mapStruct?\r\n\r\nThank you!","title":"How can I use mapStruct for a PatchMapping?","body":"<p>I would like to know can I ignore null fields and convert only the attributes that I put in request</p>\n<p>My entity:</p>\n<pre><code>public class Entity {\n    private Long id;\n    private String name;\n    private String description;\n}\n</code></pre>\n<p>My DTO:</p>\n<pre><code>public class EntityDTO {\n    private String name;\n    private String description;\n}\n</code></pre>\n<p>My Mapper:</p>\n<pre><code>@Mapper(componentModel = &quot;spring&quot;)\npublic interface EntityMapper {\n\n    @BeanMapping(nullValueCheckStrategy = NullValueCheckStrategy.ON_IMPLICIT_CONVERSION)\n    Entity toEntity(EntityDTO entityDTO);\n}\n</code></pre>\n<p>My Generated code:</p>\n<pre><code>@Component\npublic class EntityMapperImpl implements EntityMapper {\n\n    @Override\n    public Entity toEntity(EntityDTO entityDTO) {\n        if (entityDTO == null) {\n            return null;\n        }\n\n        EntityBuilder entity = Entity.builder();\n\n        entity.name(tipoOperacaoParcialUpdate.getName());\n        entity.description(tipoOperacaoParcialUpdate.getDescription());\n        \n        return entity.build();\n    }\n}\n</code></pre>\n<p>I would like a generated code like this:</p>\n<pre><code>@Component\npublic class EntityMapperImpl implements EntityMapper {\n\n    @Override\n    public Entity toEntity(EntityDTO entityDTO) {\n        if ( entityDTO.getName() != null ) {\n            entityDTO.setName(entityDTO.getName());\n        }\n        if ( entityDTO.getDescription() != null ) {\n            entityDTO.setDescription(entityDTO.getDescription());\n        }\n\n        EntityBuilder entity = Entity.builder();\n\n        entity.name( entityDTO.getName());\n        entity.description( entityDTO.getDescription());\n        return entity.build();\n    }\n}\n</code></pre>\n<p>I would like a thing like that, how can I do this using mapStruct?</p>\n<p>Thank you!</p>\n"},{"tags":["java","junit"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":1,"creation_date":1633668259,"post_id":69490399,"comment_id":122825915,"body_markdown":"You can use a `mocking framework` like `Mockito`. In your case, you have to mock `RoadElementsChain`","body":"You can use a <code>mocking framework</code> like <code>Mockito</code>. In your case, you have to mock <code>RoadElementsChain</code>"},{"owner":{"account_id":16617176,"reputation":11,"user_id":12008463,"display_name":"deepankar gautam"},"score":0,"creation_date":1633671919,"post_id":69490399,"comment_id":122826599,"body_markdown":"thank for suggestion. Can you just write the test case structure for this","body":"thank for suggestion. Can you just write the test case structure for this"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633695695,"creation_date":1633695695,"answer_id":69495764,"question_id":69490399,"body_markdown":"You can use a `mocking framework` like `Mockito`. In your case, you have to mock `RoadElementsChain` class and test the call of your method `meetsPreconditions` as something like this : \r\n\r\n        @Mock\r\n        private RoadElementsChain roadElementsChain;\r\n    \r\n        @Test\r\n        public void testMeetsPreconditions() {\r\n            when(roadElementsChain.getLineFeatures().isEmpty()).thenReturn(Boolean.TRUE);\r\n            // Other whens statements\r\n    \r\n            assertThat(yourClass.meetsPreconditions(feature)).isTrue();\r\n        }\r\n\r\nAlso refactor your code to be more redeable.","title":"Please help me to write JUnit test case for this method","body":"<p>You can use a <code>mocking framework</code> like <code>Mockito</code>. In your case, you have to mock <code>RoadElementsChain</code> class and test the call of your method <code>meetsPreconditions</code> as something like this :</p>\n<pre><code>    @Mock\n    private RoadElementsChain roadElementsChain;\n\n    @Test\n    public void testMeetsPreconditions() {\n        when(roadElementsChain.getLineFeatures().isEmpty()).thenReturn(Boolean.TRUE);\n        // Other whens statements\n\n        assertThat(yourClass.meetsPreconditions(feature)).isTrue();\n    }\n</code></pre>\n<p>Also refactor your code to be more redeable.</p>\n"},{"tags":[],"owner":{"account_id":22826593,"reputation":39,"user_id":16975766,"display_name":"Zsolt Toth"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633756998,"creation_date":1633756998,"answer_id":69503986,"question_id":69490399,"body_markdown":"First you should refactor the code to simplify your if conditions. \r\n\r\n```java\r\nif (getModel().RANGES.FormOfWay.SmallSlipRoad.equals(getToolkit().getDictionaryTools()\r\n            .getAttributeFromFeature(feature, getModel().FEATURES.RoadElement.FormOfWay, DictionaryRangeItem.class)\r\n            .getValue())) { // true case\r\n```\r\nThis if condition is hard to read and understand. \r\n\r\n```java\r\n// It should be private\r\n// You want to test it so it is protected.\r\nprotected isSmallSlipRoad(final LineFeature feature){\r\n    return getModel().RANGES.FormOfWay.SmallSlipRoad.equals(getToolkit().getDictionaryTools()\r\n            .getAttributeFromFeature(feature, getModel().FEATURES.RoadElement.FormOfWay, DictionaryRangeItem.class)\r\n            .getValue())\r\n}\r\n\r\nif(isSmallSlipRoad(feature){// true case\r\n}\r\nreturn false;\r\n```\r\n\r\nThen I would negate the if condition to eliminate the else case (which return false). Note that, you should retrun false if the second if condition is not satisfied.\r\n\r\n```java\r\nif(!isSmallSlipRoad(feature)){\r\n return false;\r\n}\r\nfinal RoadElementsChain roadElementsChain = createRoadElementsChainBuilder();\r\nroadElementsChain.buildRoadElementsChain(feature);\r\nif (!roadElementsChain.getLineFeatures().isEmpty() &amp;&amp; \r\n     roadElementsChain.getOtherLineFeaturesAtStart().size() &gt; 1 &amp;&amp; \r\n     roadElementsChain.getOtherLineFeaturesAtEnd().size() &gt; 1) {\r\n         setChainOfRoads(roadElementsChain);\r\n         return true;\r\n}\r\nreturn false;\r\n```\r\n\r\nNow you can refactor the 2nd if condition wich is the conjuction (and) of three conditions. You can use the [De Morgan&#39;s laws](https://en.wikipedia.org/wiki/De_Morgan%27s_laws#:~:text=In%20propositional%20logic%20and%20Boolean,both%20valid%20rules%20of%20inference.&amp;text=The%20rules%20allow%20the%20expression,of%20each%20other%20via%20negation.) to rephrase the condition to three negated disjunction (or operation). \r\n\r\nIn other words, you retrun false if the getLineFeatures is empty OR the start is less or equal 1 OR the end is less or equal 1.\r\n\r\n```java\r\nif(!isSmallSlipRoad(feature)){\r\n return false;\r\n}\r\nfinal RoadElementsChain roadElementsChain = createRoadElementsChainBuilder();\r\nroadElementsChain.buildRoadElementsChain(feature);\r\nif (roadElementsChain.getLineFeatures().isEmpty()){ // remove negation !\r\n    return false;\r\n}\r\nif(roadElementsChain.getOtherLineFeaturesAtStart().size() &lt;= 1){ // !(x &gt; 1) == (x &lt;= 1)\r\n    return false;\r\n}\r\nif(roadElementsChain.getOtherLineFeaturesAtEnd().size() &lt;=  1) { // !(x &gt; 1) == (x &lt;= 1)\r\n    return false;\r\n}\r\nsetChainOfRoads(roadElementsChain);\r\nreturn true;\r\n} // end of method\r\n```\r\nNow you can merge these if condition with or operation but I would not do it. If you merge the conditions then it will be more difficult to understand it for other developers. Now the code says that if it is smallSlipRoad then false, or if the line features are empty then it is false, ... otherwise it is true. If you will merge the conditions then it would say if anyo of these conditions is satisfied then it is false otherwise its true. Reading the conditions would be difficult I think. \r\n\r\nYou can also wrap the conditions into private (or protected) methods to further incraese the readability and facilitate testing and negate the isSmallSlipRoad method so none of your conditions are negated in the if statement. (the ! operator can be missed, =&gt; small mistakes big troubles)\r\n\r\n```java\r\n\r\nprotected isNotSmallSlipRoad(final LineFeature feature){\r\n    return !getModel().RANGES.FormOfWay.SmallSlipRoad.equals(getToolkit().getDictionaryTools()\r\n            .getAttributeFromFeature(feature, getModel().FEATURES.RoadElement.FormOfWay, DictionaryRangeItem.class)\r\n            .getValue())\r\n}\r\n\r\nprotected boolean isLineFeaturesEmpty(RoadElementsChain roadElementsChain){\r\n    return roadElementsChain.getLineFeatures().isEmpty();\r\n}\r\n\r\nprotected boolean isOtherLineFeaturesStartTooShort(RoadElementsChain roadElementsChain){\r\n  return roadElementsChain.getOtherLineFeaturesAtStart().size() &lt;= 1;\r\n}\r\n\r\nprotected boolean isOtherLineFeaturesEndTooShort(RoadElementsChain roadElementsChain){\r\n  return roadElementsChain.getOtherLineFeaturesAtEnd().size() &lt;= 1;\r\n}\r\n\r\n\r\n// your method\r\npublic boolean meetsPreconditions(final LineFeature feature) {\r\nfinal RoadElementsChain roadElementsChain = createRoadElementsChainBuilder();\r\nroadElementsChain.buildRoadElementsChain(feature);\r\nif(isNotSmallSlipRoad(feature)){\r\n   return false;\r\n}\r\nif (isLineFeaturesEmpty(roadElementsChain)){\r\n    return false;\r\n}\r\nif(isOtherLineFeaturesStartTooShort(roadElementsChain)){\r\n    return false;\r\n}\r\nif(isOtherLineFeaturesEndTooShort(roadElementsChain)) {\r\n    return false;\r\n}\r\nsetChainOfRoads(roadElementsChain);\r\nreturn true;\r\n} // end of your method\r\n```\r\n\r\nFinally you can write tests for all of your methods (public and protected as well). \r\nYou should also check Mockito for [Mock](https://www.baeldung.com/mockito-annotations) and [Spy](https://www.baeldung.com/mockito-spy).","title":"Please help me to write JUnit test case for this method","body":"<p>First you should refactor the code to simplify your if conditions.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if (getModel().RANGES.FormOfWay.SmallSlipRoad.equals(getToolkit().getDictionaryTools()\n            .getAttributeFromFeature(feature, getModel().FEATURES.RoadElement.FormOfWay, DictionaryRangeItem.class)\n            .getValue())) { // true case\n</code></pre>\n<p>This if condition is hard to read and understand.</p>\n<pre class=\"lang-java prettyprint-override\"><code>// It should be private\n// You want to test it so it is protected.\nprotected isSmallSlipRoad(final LineFeature feature){\n    return getModel().RANGES.FormOfWay.SmallSlipRoad.equals(getToolkit().getDictionaryTools()\n            .getAttributeFromFeature(feature, getModel().FEATURES.RoadElement.FormOfWay, DictionaryRangeItem.class)\n            .getValue())\n}\n\nif(isSmallSlipRoad(feature){// true case\n}\nreturn false;\n</code></pre>\n<p>Then I would negate the if condition to eliminate the else case (which return false). Note that, you should retrun false if the second if condition is not satisfied.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(!isSmallSlipRoad(feature)){\n return false;\n}\nfinal RoadElementsChain roadElementsChain = createRoadElementsChainBuilder();\nroadElementsChain.buildRoadElementsChain(feature);\nif (!roadElementsChain.getLineFeatures().isEmpty() &amp;&amp; \n     roadElementsChain.getOtherLineFeaturesAtStart().size() &gt; 1 &amp;&amp; \n     roadElementsChain.getOtherLineFeaturesAtEnd().size() &gt; 1) {\n         setChainOfRoads(roadElementsChain);\n         return true;\n}\nreturn false;\n</code></pre>\n<p>Now you can refactor the 2nd if condition wich is the conjuction (and) of three conditions. You can use the <a href=\"https://en.wikipedia.org/wiki/De_Morgan%27s_laws#:%7E:text=In%20propositional%20logic%20and%20Boolean,both%20valid%20rules%20of%20inference.&amp;text=The%20rules%20allow%20the%20expression,of%20each%20other%20via%20negation.\" rel=\"nofollow noreferrer\">De Morgan's laws</a> to rephrase the condition to three negated disjunction (or operation).</p>\n<p>In other words, you retrun false if the getLineFeatures is empty OR the start is less or equal 1 OR the end is less or equal 1.</p>\n<pre class=\"lang-java prettyprint-override\"><code>if(!isSmallSlipRoad(feature)){\n return false;\n}\nfinal RoadElementsChain roadElementsChain = createRoadElementsChainBuilder();\nroadElementsChain.buildRoadElementsChain(feature);\nif (roadElementsChain.getLineFeatures().isEmpty()){ // remove negation !\n    return false;\n}\nif(roadElementsChain.getOtherLineFeaturesAtStart().size() &lt;= 1){ // !(x &gt; 1) == (x &lt;= 1)\n    return false;\n}\nif(roadElementsChain.getOtherLineFeaturesAtEnd().size() &lt;=  1) { // !(x &gt; 1) == (x &lt;= 1)\n    return false;\n}\nsetChainOfRoads(roadElementsChain);\nreturn true;\n} // end of method\n</code></pre>\n<p>Now you can merge these if condition with or operation but I would not do it. If you merge the conditions then it will be more difficult to understand it for other developers. Now the code says that if it is smallSlipRoad then false, or if the line features are empty then it is false, ... otherwise it is true. If you will merge the conditions then it would say if anyo of these conditions is satisfied then it is false otherwise its true. Reading the conditions would be difficult I think.</p>\n<p>You can also wrap the conditions into private (or protected) methods to further incraese the readability and facilitate testing and negate the isSmallSlipRoad method so none of your conditions are negated in the if statement. (the ! operator can be missed, =&gt; small mistakes big troubles)</p>\n<pre class=\"lang-java prettyprint-override\"><code>\nprotected isNotSmallSlipRoad(final LineFeature feature){\n    return !getModel().RANGES.FormOfWay.SmallSlipRoad.equals(getToolkit().getDictionaryTools()\n            .getAttributeFromFeature(feature, getModel().FEATURES.RoadElement.FormOfWay, DictionaryRangeItem.class)\n            .getValue())\n}\n\nprotected boolean isLineFeaturesEmpty(RoadElementsChain roadElementsChain){\n    return roadElementsChain.getLineFeatures().isEmpty();\n}\n\nprotected boolean isOtherLineFeaturesStartTooShort(RoadElementsChain roadElementsChain){\n  return roadElementsChain.getOtherLineFeaturesAtStart().size() &lt;= 1;\n}\n\nprotected boolean isOtherLineFeaturesEndTooShort(RoadElementsChain roadElementsChain){\n  return roadElementsChain.getOtherLineFeaturesAtEnd().size() &lt;= 1;\n}\n\n\n// your method\npublic boolean meetsPreconditions(final LineFeature feature) {\nfinal RoadElementsChain roadElementsChain = createRoadElementsChainBuilder();\nroadElementsChain.buildRoadElementsChain(feature);\nif(isNotSmallSlipRoad(feature)){\n   return false;\n}\nif (isLineFeaturesEmpty(roadElementsChain)){\n    return false;\n}\nif(isOtherLineFeaturesStartTooShort(roadElementsChain)){\n    return false;\n}\nif(isOtherLineFeaturesEndTooShort(roadElementsChain)) {\n    return false;\n}\nsetChainOfRoads(roadElementsChain);\nreturn true;\n} // end of your method\n</code></pre>\n<p>Finally you can write tests for all of your methods (public and protected as well).\nYou should also check Mockito for <a href=\"https://www.baeldung.com/mockito-annotations\" rel=\"nofollow noreferrer\">Mock</a> and <a href=\"https://www.baeldung.com/mockito-spy\" rel=\"nofollow noreferrer\">Spy</a>.</p>\n"}],"owner":{"account_id":16617176,"reputation":11,"user_id":12008463,"display_name":"deepankar gautam"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":68,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":2,"score":0,"last_activity_date":1633756998,"creation_date":1633666310,"question_id":69490399,"body_markdown":" \r\n\r\n    public boolean meetsPreconditions(final LineFeature feature) {\r\n            if (getModel().RANGES.FormOfWay.SmallSlipRoad.equals(getToolkit().getDictionaryTools()\r\n                .getAttributeFromFeature(feature, getModel().FEATURES.RoadElement.FormOfWay, DictionaryRangeItem.class)\r\n                .getValue())) {\r\n                final RoadElementsChain roadElementsChain = createRoadElementsChainBuilder();\r\n                roadElementsChain.buildRoadElementsChain(feature);\r\n                if (!roadElementsChain.getLineFeatures().isEmpty() &amp;&amp; roadElementsChain.getOtherLineFeaturesAtStart().size() &gt; 1\r\n                    &amp;&amp; roadElementsChain.getOtherLineFeaturesAtEnd().size() &gt; 1) {\r\n                    setChainOfRoads(roadElementsChain);\r\n                    return true;\r\n                }\r\n            }\r\n            return false;\r\n        }","title":"Please help me to write JUnit test case for this method","body":"<pre><code>public boolean meetsPreconditions(final LineFeature feature) {\n        if (getModel().RANGES.FormOfWay.SmallSlipRoad.equals(getToolkit().getDictionaryTools()\n            .getAttributeFromFeature(feature, getModel().FEATURES.RoadElement.FormOfWay, DictionaryRangeItem.class)\n            .getValue())) {\n            final RoadElementsChain roadElementsChain = createRoadElementsChainBuilder();\n            roadElementsChain.buildRoadElementsChain(feature);\n            if (!roadElementsChain.getLineFeatures().isEmpty() &amp;&amp; roadElementsChain.getOtherLineFeaturesAtStart().size() &gt; 1\n                &amp;&amp; roadElementsChain.getOtherLineFeaturesAtEnd().size() &gt; 1) {\n                setChainOfRoads(roadElementsChain);\n                return true;\n            }\n        }\n        return false;\n    }\n</code></pre>\n"},{"tags":["java","collections","java-stream"],"comments":[{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1633688281,"post_id":69492787,"comment_id":122832131,"body_markdown":"`List&lt;Long&gt; Ids=myObject.stream().flatMap(o -&gt; Stream.of(o.getJobId(), o.getTestId())) .collect(Collectors.toList());`","body":"<code>List&lt;Long&gt; Ids=myObject.stream().flatMap(o -&gt; Stream.of(o.getJobId(), o.getTestId())) .collect(Collectors.toList());</code>"}],"answers":[{"tags":[],"owner":{"account_id":7230356,"reputation":1512,"user_id":5517465,"accept_rate":100,"display_name":"Yassir Khaldi"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633682210,"creation_date":1633682210,"answer_id":69492903,"question_id":69492787,"body_markdown":"Create two lists using the streams then combine them in the end, map can only return one value either `getJobId` or `getTestId`, so you can&#39;t do it in the same iteration.\r\n\r\n```java\r\n    List&lt;Long&gt; JobIds = myObject.stream().map(myObj::getJobId).collect(Collectors.toList());\r\n    List&lt;Long&gt; TestIds = myObject.stream().map(myObj::getTestId).collect(Collectors.toList());\r\n    List&lt;Long&gt; Ids = Stream.concat(JobIds.stream(), TestIds.stream()).collect(Collectors.toList());\r\n\r\n```","title":"How to add values to list from Object using stream","body":"<p>Create two lists using the streams then combine them in the end, map can only return one value either <code>getJobId</code> or <code>getTestId</code>, so you can't do it in the same iteration.</p>\n<pre class=\"lang-java prettyprint-override\"><code>    List&lt;Long&gt; JobIds = myObject.stream().map(myObj::getJobId).collect(Collectors.toList());\n    List&lt;Long&gt; TestIds = myObject.stream().map(myObj::getTestId).collect(Collectors.toList());\n    List&lt;Long&gt; Ids = Stream.concat(JobIds.stream(), TestIds.stream()).collect(Collectors.toList());\n\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15237737,"reputation":484,"user_id":10994912,"display_name":"George R"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1633756713,"creation_date":1633682251,"answer_id":69492914,"question_id":69492787,"body_markdown":"If you want a list containing the jobIds and the testIds then you can use something like this: \r\n```java\r\nList&lt;Long&gt; ids = new ArrayList&lt;&gt;();\r\nmyObject.forEach(o -&gt; { \r\n    ids.add(o.getJobId());\r\n    ids.add(o.getTestId()); \r\n});\r\n```","title":"How to add values to list from Object using stream","body":"<p>If you want a list containing the jobIds and the testIds then you can use something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; ids = new ArrayList&lt;&gt;();\nmyObject.forEach(o -&gt; { \n    ids.add(o.getJobId());\n    ids.add(o.getTestId()); \n});\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18243171,"reputation":19300,"user_id":13279831,"display_name":"Nowhere Man"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1633690146,"creation_date":1633690146,"answer_id":69494658,"question_id":69492787,"body_markdown":"In `.map` operation the object should be mapped to a list/stream of required ids and then apply `flatMap`:\r\n```java\r\nList&lt;Long&gt; ids = myObject\r\n        .stream()\r\n        .map(mo -&gt; Arrays.asList(mo.getId(), mo.getTestId()))\r\n        .flatMap(List::stream)\r\n        .collect(Collectors.toList());\r\n```\r\nor (same as Holger&#39;s comment)\r\n```java\r\nList&lt;Long&gt; ids = myObject\r\n        .stream()\r\n        .flatMap(mo -&gt; Stream.of(mo.getId(), mo.getTestId()))\r\n        .collect(Collectors.toList());\r\n```\r\n\r\nIf the `id`s should be followed by `testId`s, the streams may be concatenated:\r\n```java\r\nList&lt;Long&gt; ids = Stream.concat(\r\n    myObject.stream().map(MyObject::getId),\r\n    myObject.stream().map(MyObject::getTestId)\r\n)\r\n.collect(Collectors.toList());\r\n```\r\nIf more than two properties should be listed one after another, `Stream.of` + `flatMap` should be used:\r\n```java\r\nList&lt;Long&gt; ids = Stream.of(\r\n    myObject.stream().map(MyObject::getId),\r\n    myObject.stream().map(MyObject::getTestId),\r\n    myObject.stream().map(MyObject::getAnotherId)\r\n)\r\n.flatMap(Function.identity())\r\n.collect(Collectors.toList());\r\n```","title":"How to add values to list from Object using stream","body":"<p>In <code>.map</code> operation the object should be mapped to a list/stream of required ids and then apply <code>flatMap</code>:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; ids = myObject\n        .stream()\n        .map(mo -&gt; Arrays.asList(mo.getId(), mo.getTestId()))\n        .flatMap(List::stream)\n        .collect(Collectors.toList());\n</code></pre>\n<p>or (same as Holger's comment)</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; ids = myObject\n        .stream()\n        .flatMap(mo -&gt; Stream.of(mo.getId(), mo.getTestId()))\n        .collect(Collectors.toList());\n</code></pre>\n<p>If the <code>id</code>s should be followed by <code>testId</code>s, the streams may be concatenated:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; ids = Stream.concat(\n    myObject.stream().map(MyObject::getId),\n    myObject.stream().map(MyObject::getTestId)\n)\n.collect(Collectors.toList());\n</code></pre>\n<p>If more than two properties should be listed one after another, <code>Stream.of</code> + <code>flatMap</code> should be used:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Long&gt; ids = Stream.of(\n    myObject.stream().map(MyObject::getId),\n    myObject.stream().map(MyObject::getTestId),\n    myObject.stream().map(MyObject::getAnotherId)\n)\n.flatMap(Function.identity())\n.collect(Collectors.toList());\n</code></pre>\n"}],"owner":{"account_id":2413879,"reputation":239,"user_id":2108383,"accept_rate":0,"display_name":"user2108383"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1675,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1633756713,"creation_date":1633681712,"question_id":69492787,"body_markdown":"I have a Object with multiple properties and I want to add multiple properties to same list\r\n\r\nI was able to add one property couldn&#39;t find a way to add other property.\r\n\r\nCan we do that if yes how ?\r\n\r\n    List&lt;MyObject&gt; myObject = new ArrayList&lt;&gt;();\r\n    \r\n    I have some values in the object  here \r\n    \r\n    List&lt;Long&gt; Ids  = myObject .stream().map(MyObject::getJobId).collect(Collectors.toList());\r\n\r\nhere I want to add one more property from same MyObject object getTestId to the list is there a way that I can add with in the same above statement ?\r\n\r\n","title":"How to add values to list from Object using stream","body":"<p>I have a Object with multiple properties and I want to add multiple properties to same list</p>\n<p>I was able to add one property couldn't find a way to add other property.</p>\n<p>Can we do that if yes how ?</p>\n<pre><code>List&lt;MyObject&gt; myObject = new ArrayList&lt;&gt;();\n\nI have some values in the object  here \n\nList&lt;Long&gt; Ids  = myObject .stream().map(MyObject::getJobId).collect(Collectors.toList());\n</code></pre>\n<p>here I want to add one more property from same MyObject object getTestId to the list is there a way that I can add with in the same above statement ?</p>\n"},{"tags":["java","android","firebase","firebase-realtime-database"],"comments":[{"owner":{"account_id":16768304,"reputation":8503,"user_id":12121419,"display_name":"blackapps"},"score":1,"creation_date":1633768867,"post_id":69503652,"comment_id":122852298,"body_markdown":"Which exception that you do not catch lets your app crash? Look in the logcat.","body":"Which exception that you do not catch lets your app crash? Look in the logcat."},{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":0,"creation_date":1633783135,"post_id":69503652,"comment_id":122855259,"body_markdown":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please respond with @AlexMamo","body":"If the app crashes, there is a stack trace. Please look that up on logcat, and add it to your question. Please respond with @AlexMamo"}],"owner":{"account_id":22984786,"reputation":1,"user_id":17111158,"display_name":"Harsh Sharma"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633755905,"creation_date":1633752110,"question_id":69503652,"body_markdown":"I am working on a project in which I have created a custom java class in which I have made a firebase database instance so, that when I need access to the database I could make a instance of my custom class and have access to the database and when I call the database through my custom java object in activity &quot;A&quot; it works properly but when I call the database in activity &quot;B&quot; then the activity &quot;B&quot; gets suddenly crashed. How can I resolve this issue?\r\n\r\n\r\nCustom java class code\r\n\r\n```\r\npublic class databaseApp  {\r\n        public databaseApp() {\r\n        }\r\n    \r\n        FirebaseDatabase database = FirebaseDatabase.getInstance();\r\n        DatabaseReference myRef =  database.getReference();\r\n        String id = FirebaseAuth.getInstance().getCurrentUser().getUid();\r\n        \r\n    \r\n        public void writeNewUser(String u, String e, String p, String tcn){\r\n    \r\n    \r\n            user user = new user();\r\n            user.setUserName(u);\r\n            user.setEmail(e);\r\n            user.setPhone(p);\r\n            user.setTcn(tcn);\r\n            myRef.child(&quot;User&quot;).child(getUniqueId()).child(&quot;User Data&quot;).setValue(user);\r\n           \r\n    \r\n        }\r\n        public void addBatchToDatabase(String batchName,String startDate,String endDate,String fees, String startTiming,String endTiming){\r\n            addBatchDatabase addbatchDetails = new addBatchDatabase();\r\n            addbatchDetails.setBatchName(batchName);\r\n            addbatchDetails.setStartDate(startDate);\r\n            addbatchDetails.setEndDate(endDate);\r\n            addbatchDetails.setFees(fees);\r\n            addbatchDetails.setStartTimimg(startTiming);\r\n            addbatchDetails.setEndTimimg(endTiming);\r\n                   DatabaseReference myref = database.getReference(id);\r\n            myref.push().child(&quot;Batch&quot;).setValue(addbatchDetails);\r\n        }\r\n    \r\n```\r\n\r\n Activity &quot;A&quot; code\r\n\r\n```\r\ndatabaseApp databaseApp = new databaseApp();\r\ndatabaseApp.writeNewUser(N.getText().toString(),E.getText().toString(),P.getText().toString(),tcn.getText().toString());\r\n```\r\n Activity &quot;B&quot; code\r\n \r\n\r\n    \r\n\r\n \r\n\r\n```\r\ndatabaseApp databaseApp = new databaseApp();\r\ndatabaseApp.addBatchToDatabase(batchName.getText().toString(),startDate.getText().toString(),endDate.getText().toString(),fees.getText().toString(),startTime.getText().toString(),endTime.getText().toString());\r\n    \r\n```\r\n\r\n\r\n\r\n","title":"How to get access to Firebase realtime database from two different activities?","body":"<p>I am working on a project in which I have created a custom java class in which I have made a firebase database instance so, that when I need access to the database I could make a instance of my custom class and have access to the database and when I call the database through my custom java object in activity &quot;A&quot; it works properly but when I call the database in activity &quot;B&quot; then the activity &quot;B&quot; gets suddenly crashed. How can I resolve this issue?</p>\n<p>Custom java class code</p>\n<pre><code>public class databaseApp  {\n        public databaseApp() {\n        }\n    \n        FirebaseDatabase database = FirebaseDatabase.getInstance();\n        DatabaseReference myRef =  database.getReference();\n        String id = FirebaseAuth.getInstance().getCurrentUser().getUid();\n        \n    \n        public void writeNewUser(String u, String e, String p, String tcn){\n    \n    \n            user user = new user();\n            user.setUserName(u);\n            user.setEmail(e);\n            user.setPhone(p);\n            user.setTcn(tcn);\n            myRef.child(&quot;User&quot;).child(getUniqueId()).child(&quot;User Data&quot;).setValue(user);\n           \n    \n        }\n        public void addBatchToDatabase(String batchName,String startDate,String endDate,String fees, String startTiming,String endTiming){\n            addBatchDatabase addbatchDetails = new addBatchDatabase();\n            addbatchDetails.setBatchName(batchName);\n            addbatchDetails.setStartDate(startDate);\n            addbatchDetails.setEndDate(endDate);\n            addbatchDetails.setFees(fees);\n            addbatchDetails.setStartTimimg(startTiming);\n            addbatchDetails.setEndTimimg(endTiming);\n                   DatabaseReference myref = database.getReference(id);\n            myref.push().child(&quot;Batch&quot;).setValue(addbatchDetails);\n        }\n    \n</code></pre>\n<p>Activity &quot;A&quot; code</p>\n<pre><code>databaseApp databaseApp = new databaseApp();\ndatabaseApp.writeNewUser(N.getText().toString(),E.getText().toString(),P.getText().toString(),tcn.getText().toString());\n</code></pre>\n<p>Activity &quot;B&quot; code</p>\n<pre><code>databaseApp databaseApp = new databaseApp();\ndatabaseApp.addBatchToDatabase(batchName.getText().toString(),startDate.getText().toString(),endDate.getText().toString(),fees.getText().toString(),startTime.getText().toString(),endTime.getText().toString());\n    \n</code></pre>\n"},{"tags":["java","regex","matching"],"answers":[{"tags":[],"owner":{"account_id":2094057,"reputation":506072,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633754092,"creation_date":1633754092,"answer_id":69503769,"question_id":69503751,"body_markdown":"I would suggest a regex pattern matching approach which puts the multi-word terms first in an alternation, followed by all other single word terms:\r\n\r\n&lt;!-- language: java --&gt;\r\n\r\n    String input = &quot;I at some red hot not mild food and drank an ice cold Coke&quot;;\r\n    Pattern r = Pattern.compile(&quot;(?i)\\\\b(?:Red hot|Ice cold|\\\\w+)\\\\b&quot;);\r\n    Matcher m = r.matcher(input);\r\n    List&lt;String&gt; matches = new ArrayList&lt;&gt;();\r\n    while (m.find()) {\r\n        matches.add(m.group());\r\n    }\r\n    System.out.println(matches);\r\n\r\nThis prints:\r\n\r\n    [I, at, some, red hot, not, mild, food, and, drank, an, ice cold, Coke]\r\n\r\nNote that because `Warm` and `Mild` are individual words, your default split on whitespace behavior should already be including them.","title":"How to split based on keywords in regex, then whitespace in Java?","body":"<p>I would suggest a regex pattern matching approach which puts the multi-word terms first in an alternation, followed by all other single word terms:</p>\n<pre class=\"lang-java prettyprint-override\"><code>String input = &quot;I at some red hot not mild food and drank an ice cold Coke&quot;;\nPattern r = Pattern.compile(&quot;(?i)\\\\b(?:Red hot|Ice cold|\\\\w+)\\\\b&quot;);\nMatcher m = r.matcher(input);\nList&lt;String&gt; matches = new ArrayList&lt;&gt;();\nwhile (m.find()) {\n    matches.add(m.group());\n}\nSystem.out.println(matches);\n</code></pre>\n<p>This prints:</p>\n<pre><code>[I, at, some, red hot, not, mild, food, and, drank, an, ice cold, Coke]\n</code></pre>\n<p>Note that because <code>Warm</code> and <code>Mild</code> are individual words, your default split on whitespace behavior should already be including them.</p>\n"}],"owner":{"account_id":22985018,"reputation":43,"user_id":17111358,"display_name":"wepowf"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":29,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633754092,"creation_date":1633753813,"question_id":69503751,"body_markdown":"I would like to split a string based on three factors.\r\n1. Regex is case insensitive\r\n2. If the string contains any of the terms &quot;Red hot&quot;, &quot;Ice cold&quot;, &quot;Warm&quot; or &quot;Mild&quot;\r\nSo for example if the string is &quot;Red hot Ice cold&quot;, when I run .split(regex) on the string, I should get an array with &quot;Red hot&quot; and &quot;Ice cold&quot; as two separate entries.\r\n\r\n3. If the string does not match any of the terms, it should then split based on whitespace. \r\nSo for example if the string is &quot;Red Ice&quot;, it should split into an array containing &quot;Red&quot; and &quot;Ice&quot;. It currently splits into &quot;Red Ice&quot; as one entry in the array. If the string is &quot;Red hot Ice cold red&quot;, it should split into an array containing &quot;Red hot&quot;, &quot;Ice cold&quot; and &quot;red&quot;. It currently splits into &quot;Red hot&quot; and &quot;Ice cold red&quot;.\r\n\r\nSo far the regex I have is ```&quot;(?i)\\s(?=(&quot;Red hot&quot;|&quot;Ice cold&quot;|&quot;Warm&quot;|&quot;Mild&quot;))&quot;```\r\n\r\nHow do I add the criteria that if none of the terms match, it should split on white space? I don&#39;t understand how to add priority to the regex. Thanks all!","title":"How to split based on keywords in regex, then whitespace in Java?","body":"<p>I would like to split a string based on three factors.</p>\n<ol>\n<li><p>Regex is case insensitive</p>\n</li>\n<li><p>If the string contains any of the terms &quot;Red hot&quot;, &quot;Ice cold&quot;, &quot;Warm&quot; or &quot;Mild&quot;\nSo for example if the string is &quot;Red hot Ice cold&quot;, when I run .split(regex) on the string, I should get an array with &quot;Red hot&quot; and &quot;Ice cold&quot; as two separate entries.</p>\n</li>\n<li><p>If the string does not match any of the terms, it should then split based on whitespace.\nSo for example if the string is &quot;Red Ice&quot;, it should split into an array containing &quot;Red&quot; and &quot;Ice&quot;. It currently splits into &quot;Red Ice&quot; as one entry in the array. If the string is &quot;Red hot Ice cold red&quot;, it should split into an array containing &quot;Red hot&quot;, &quot;Ice cold&quot; and &quot;red&quot;. It currently splits into &quot;Red hot&quot; and &quot;Ice cold red&quot;.</p>\n</li>\n</ol>\n<p>So far the regex I have is <code>&quot;(?i)\\s(?=(&quot;Red hot&quot;|&quot;Ice cold&quot;|&quot;Warm&quot;|&quot;Mild&quot;))&quot;</code></p>\n<p>How do I add the criteria that if none of the terms match, it should split on white space? I don't understand how to add priority to the regex. Thanks all!</p>\n"},{"tags":["java"],"answers":[{"tags":[],"owner":{"account_id":19968278,"reputation":196,"user_id":14634363,"display_name":"Kyle Millar"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633753664,"creation_date":1633753664,"answer_id":69503747,"question_id":69503384,"body_markdown":"In your code, the `add()` function is appending new scores to the end of the list. When the list’s size &gt; 10, it removes a node from the **end** of the list. Since you are adding the smaller scores first and the larger scores last, when you add the score 11, it is immediately removed because it is at the end of the list. That would explain why your output is numbers 1-10. \n\nInstead, you should remove from the front of the list. However, this is going to remove the **first element added** to the list, not necessarily the smallest score. If the scores are not added in increasing order, this code will not work. I would suggest looking into the PriorityQueue class if you need to handle adding scores out of order.\n\n","title":"Double linked list return top 10 scores in JAVA","body":"<p>In your code, the <code>add()</code> function is appending new scores to the end of the list. When the list’s size &gt; 10, it removes a node from the <strong>end</strong> of the list. Since you are adding the smaller scores first and the larger scores last, when you add the score 11, it is immediately removed because it is at the end of the list. That would explain why your output is numbers 1-10.</p>\n<p>Instead, you should remove from the front of the list. However, this is going to remove the <strong>first element added</strong> to the list, not necessarily the smallest score. If the scores are not added in increasing order, this code will not work. I would suggest looking into the PriorityQueue class if you need to handle adding scores out of order.</p>\n"}],"owner":{"account_id":15313793,"reputation":109,"user_id":11048279,"display_name":"Fatty Low"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":140,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":69503747,"answer_count":1,"score":1,"last_activity_date":1633753664,"creation_date":1633747862,"question_id":69503384,"body_markdown":"I am looking for some help. I have total 11 scores and I need to return the top 10 scores only.\r\nI&#39;m new to JAVA. If anyone can help point out my mistakes, thank you very much!\r\n\r\nBelow is the scores I want to add:\r\n\r\nlist.add(1);\r\n\r\nlist.add(2);\r\n\r\nlist.add(3);\r\n\r\nlist.add(4);\r\n\r\nlist.add(5);\r\n\r\nlist.add(6);\r\n\r\nlist.add(7);\r\n\r\nlist.add(8);\r\n\r\nlist.add(9);\r\n\r\nlist.add(10);\r\n\r\nlist.add(11);\r\n\r\nlist.show();\r\n\r\nBelow is my double linked list class:\r\n```\r\n\tclass DoubleLinkedList{   \r\n\t\t\r\n\t    public int size() {\r\n\r\n\t        int count = 0;\r\n\t        Node p = head;\r\n\r\n\t        while(p != null) {\r\n\r\n\t            count++;\r\n\t            p = p.next;\r\n\t        }\r\n\r\n\t        return count;\r\n\t    }\r\n\t\t\r\n\r\n\t    class Node{  \r\n\t        int data;  \r\n\t        Node previous;  \r\n\t        Node next;  \r\n\t   \r\n\t        public Node(int data) {  \r\n\t            this.data = data;  \r\n\t        }  \r\n\t    }  \r\n\r\n\t    Node head, tail = null;  \r\n\t   \r\n  \r\n\t    public void add(int data) {  \r\n\r\n\t        Node newNode = new Node(data);  \r\n\t   \r\n\r\n\t        if(head == null) {  \r\n\t            head = tail = newNode;  \r\n\t            //head&#39;s previous will be null  \r\n\t            head.previous = null;  \r\n\t            //tail&#39;s next will be null  \r\n\t            tail.next = null;  \r\n\t        }\r\n\t        else {  \r\n \r\n\t            tail.next = newNode;  \r\n\r\n\t            newNode.previous = tail;  \r\n \r\n\t            tail = newNode;  \r\n\r\n\t            tail.next = null;  \r\n\t        } \r\n\t        \r\n\t        if(size() &gt; 10) {\r\n\r\n\t            Node node1 = head;\r\n\r\n\t            for (int i = 0; i &lt; 9; i++) {\r\n\t                node1 = node1.next;\r\n\t            }\r\n\t            node1.next = null;\r\n\t        }\r\n\t        \r\n\t    }  \r\n\t   \r\n\t    public void show() {  \r\n\r\n\t        Node current = head;  \r\n\t        if(head == null) {  \r\n\t            System.out.println(&quot;Double linked list is empty&quot;);  \r\n\t            return;  \r\n\t        }  \r\n \r\n\t        while(current != null) {  \r\n\t \r\n\t            System.out.println(&quot;[score=&quot; + current.data+ &quot;]&quot;);\r\n\t            current = current.next;  \r\n\t        }  \r\n\t    }  \r\n\t}\r\n```\r\nMy current output is:\r\n\r\n [score=1]\r\n\r\n [score=2]\r\n\r\n [score=3]\r\n\r\n [score=4]\r\n\r\n [score=5]\r\n\r\n [score=6]\r\n\r\n [score=7]\r\n\r\n [score=8]\r\n\r\n [score=9]\r\n\r\n [score=10]\r\n\r\n\r\nBut, my expected output is:\r\n```\r\n [score=11]\r\n [score=10]\r\n [score=9]\r\n [score=8]\r\n [score=7]\r\n [score=6]\r\n [score=5]\r\n [score=4]\r\n [score=3]\r\n [score=2]\r\n```\r\n","title":"Double linked list return top 10 scores in JAVA","body":"<p>I am looking for some help. I have total 11 scores and I need to return the top 10 scores only.\nI'm new to JAVA. If anyone can help point out my mistakes, thank you very much!</p>\n<p>Below is the scores I want to add:</p>\n<p>list.add(1);</p>\n<p>list.add(2);</p>\n<p>list.add(3);</p>\n<p>list.add(4);</p>\n<p>list.add(5);</p>\n<p>list.add(6);</p>\n<p>list.add(7);</p>\n<p>list.add(8);</p>\n<p>list.add(9);</p>\n<p>list.add(10);</p>\n<p>list.add(11);</p>\n<p>list.show();</p>\n<p>Below is my double linked list class:</p>\n<pre><code>    class DoubleLinkedList{   \n        \n        public int size() {\n\n            int count = 0;\n            Node p = head;\n\n            while(p != null) {\n\n                count++;\n                p = p.next;\n            }\n\n            return count;\n        }\n        \n\n        class Node{  \n            int data;  \n            Node previous;  \n            Node next;  \n       \n            public Node(int data) {  \n                this.data = data;  \n            }  \n        }  \n\n        Node head, tail = null;  \n       \n  \n        public void add(int data) {  \n\n            Node newNode = new Node(data);  \n       \n\n            if(head == null) {  \n                head = tail = newNode;  \n                //head's previous will be null  \n                head.previous = null;  \n                //tail's next will be null  \n                tail.next = null;  \n            }\n            else {  \n \n                tail.next = newNode;  \n\n                newNode.previous = tail;  \n \n                tail = newNode;  \n\n                tail.next = null;  \n            } \n            \n            if(size() &gt; 10) {\n\n                Node node1 = head;\n\n                for (int i = 0; i &lt; 9; i++) {\n                    node1 = node1.next;\n                }\n                node1.next = null;\n            }\n            \n        }  \n       \n        public void show() {  \n\n            Node current = head;  \n            if(head == null) {  \n                System.out.println(&quot;Double linked list is empty&quot;);  \n                return;  \n            }  \n \n            while(current != null) {  \n     \n                System.out.println(&quot;[score=&quot; + current.data+ &quot;]&quot;);\n                current = current.next;  \n            }  \n        }  \n    }\n</code></pre>\n<p>My current output is:</p>\n<p>[score=1]</p>\n<p>[score=2]</p>\n<p>[score=3]</p>\n<p>[score=4]</p>\n<p>[score=5]</p>\n<p>[score=6]</p>\n<p>[score=7]</p>\n<p>[score=8]</p>\n<p>[score=9]</p>\n<p>[score=10]</p>\n<p>But, my expected output is:</p>\n<pre><code> [score=11]\n [score=10]\n [score=9]\n [score=8]\n [score=7]\n [score=6]\n [score=5]\n [score=4]\n [score=3]\n [score=2]\n</code></pre>\n"},{"tags":["java","multithreading","http","inner-classes","outer-classes"],"comments":[{"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"score":1,"creation_date":1633740960,"post_id":69502949,"comment_id":122848700,"body_markdown":"No difference between inner or normal classes here, make `handleInput` a `synchronized` method.","body":"No difference between inner or normal classes here, make <code>handleInput</code> a <code>synchronized</code> method."},{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1633741259,"post_id":69502949,"comment_id":122848737,"body_markdown":"Generally speaking, collection based classes are not thread safe.  You can use `Collections.syncronizedXxx` that will wrap an instance in a thread safe wrapper or makes use your own `synchronized` blocks or workflows","body":"Generally speaking, collection based classes are not thread safe.  You can use <code>Collections.syncronizedXxx</code> that will wrap an instance in a thread safe wrapper or makes use your own <code>synchronized</code> blocks or workflows"},{"owner":{"account_id":1078945,"reputation":7426,"user_id":1076480,"accept_rate":57,"display_name":"David Ehrmann"},"score":1,"creation_date":1633754943,"post_id":69502949,"comment_id":122850229,"body_markdown":"Ignoring thread safety, why would you use LinkedList?","body":"Ignoring thread safety, why would you use LinkedList?"}],"answers":[{"tags":[],"owner":{"account_id":322981,"reputation":310745,"user_id":642706,"accept_rate":58,"display_name":"Basil Bourque"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1633753104,"creation_date":1633742528,"answer_id":69503055,"question_id":69502949,"body_markdown":"# Not thread-safe\r\n\r\nNo, manipulating a non-thread-safe `List` from across threads is not [thread-safe][1].\r\n\r\n# `Synchronized`\r\n\r\nYou could make your `handleInput` method `synchronized` as [commented by Bodewes][2]. Of course, that method becomes a potential bottleneck, as only one thread at a time can be calling a synchronized method. Perhaps not an issue in your case, but be aware. \r\n\r\n# Thread-safe collection\r\n\r\nAnother option is to replace your `LinkedList` with a thread-safe collection. For example, [`CopyOnWriteArrayList`][3], [`CopyOnWriteArraySet`][4], or [`ConcurrentSkipListSet`][5].\r\n\r\n# `Callable` &amp; `Future`\r\n\r\nBut I suggest you not mingle your multi-threaded production of `Entity` objects with collecting and processing those objects. Each task assigned to a background thread should “mind its own business” as much as possible. Having the tasks share a list is entangling them across threads needlessly; that kind of entangling (shared resources) should be avoided wherever possible. \r\n\r\nChange your task from being a `Runnable` to be a [`Callable`][6] so as to return a value. That return value will be each `Entity` produced. \r\n\r\nAs you submit each `Callable` to the executor service, you get back a `Future` object. Collect those objects. Through each of those objects you can access the result of each task’s work. \r\n\r\nWait for the executor service to finish all submitted tasks. Then inspect the results of each `Future`. \r\n\r\nBy using `Future` objects to collect the results produced by the background threads, and only processing those results *after* they are all done, we have eliminated the need to make your `results` collection thread-safe. The original thread collects those results into a list, rather than each thread adding to the list.\r\n\r\nNotice how in this example code below we have no resources shared across the tasks running in background threads. Each task does its own thing, reporting its own result via its particular `Future` object. The tasks no longer access a shared `List`. \r\n\r\nBy the way, notice that this example code does not keep the executor service in a member field as does the code in the Question. In our situation here, an executor service should be (1) instantiated, (2) utilized, and (3) shut down all in one action. You *must* shut down your executor service when no longer needed (or when your app exits). Otherwise its backing thread pool may run indefinitely, like a zombie &#129503;‍♂️.\r\n\r\n## Example code\r\n\r\n```java\r\npackage work.basil.threading;\r\n\r\nimport java.net.URI;\r\nimport java.net.URISyntaxException;\r\nimport java.time.Duration;\r\nimport java.time.Instant;\r\nimport java.util.ArrayList;\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.UUID;\r\nimport java.util.concurrent.*;\r\n\r\npublic class Status\r\n{\r\n    record Entity( UUID uuid , Instant instant ) { }\r\n\r\n    public List &lt; String &gt; process ()\r\n    {\r\n        ExecutorService executorService = Executors.newFixedThreadPool( 5 );\r\n\r\n        List &lt; WebCallTask &gt; tasks = List.of();\r\n        try\r\n        {\r\n            tasks = List.of(\r\n                    new WebCallTask( new URI( &quot;http://www.Google.com/&quot; ) ) ,\r\n                    new WebCallTask( new URI( &quot;http://www.DuckDuckGo.com/&quot; ) ) ,\r\n                    new WebCallTask( new URI( &quot;http://www.Adoptium.net/&quot; ) )\r\n            );\r\n        } catch ( URISyntaxException e )\r\n        {\r\n            e.printStackTrace();\r\n        }\r\n\r\n        List &lt; Future &lt; Entity &gt; &gt; futures = List.of();\r\n        try { futures = executorService.invokeAll( tasks ); } catch ( InterruptedException e ) { e.printStackTrace(); }\r\n\r\n        executorService.shutdown();\r\n        try { executorService.awaitTermination( 2 , TimeUnit.MINUTES ); } catch ( InterruptedException e ) { e.printStackTrace(); }\r\n\r\n        List &lt; String &gt; results = new ArrayList &lt;&gt;( tasks.size() );\r\n        for ( Future &lt; Entity &gt; future : futures )\r\n        {\r\n            try\r\n            {\r\n                Entity entity = future.get();\r\n                String result = this.handleInput( entity );\r\n                results.add( result );\r\n            } catch ( InterruptedException e )\r\n            {\r\n                e.printStackTrace();\r\n            } catch ( ExecutionException e )\r\n            {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n        return results;\r\n    }\r\n\r\n    public String handleInput ( Entity entity )\r\n    {\r\n        if ( Objects.isNull( entity ) ) return &quot;Not Available.&quot;;\r\n        return entity.toString();\r\n    }\r\n\r\n    private class WebCallTask implements Callable &lt; Entity &gt;\r\n    {\r\n        private URI uri;\r\n\r\n        public WebCallTask ( URI uri )\r\n        {\r\n            this.uri = uri;\r\n        }\r\n\r\n        @Override\r\n        public Entity call ()\r\n        {\r\n            Entity entity = null;\r\n            try\r\n            {\r\n                // Perform some http calls.\r\n                // response = httpClient.execute(httpPost);\r\n                // Pretend to wait on network call by sleeping.\r\n                System.out.println( &quot;Thread: &quot; + Thread.currentThread().getId() + &quot; is sleeping, to pretend doing network call. &quot; + Instant.now() );\r\n                try { Thread.sleep( Duration.ofSeconds( ThreadLocalRandom.current().nextInt( 3 , 11 ) ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\r\n                entity = new Entity( UUID.randomUUID() , Instant.now() );\r\n                System.out.println( &quot;Thread: &quot; + Thread.currentThread().getId() + &quot; produced an `Entity` object. Task done. &quot; + Instant.now() );\r\n            } catch ( Exception e )  // In your real code, you would be catching networking errors related to your networkcall.\r\n            {\r\n                e.printStackTrace();\r\n            } finally\r\n            {\r\n                return entity;  // May return `null` as a legitimate value. In real work I would use `Optional&lt; Entity &gt;` here to signal that `null` is a possible and legitimate value. But let&#39;s not overcomplicate this example code.\r\n            }\r\n        }\r\n    }\r\n\r\n    public static void main ( String[] args )\r\n    {\r\n        System.out.println( &quot;Thread: &quot; + Thread.currentThread().getId() + &quot; is starting demo. &quot; + Instant.now() );\r\n\r\n        Status statusApp = new Status();\r\n        List &lt; String &gt; output = statusApp.process();\r\n        System.out.println( &quot;output = &quot; + output );\r\n\r\n        System.out.println( &quot;Thread: &quot; + Thread.currentThread().getId() + &quot; is ending demo. &quot; + Instant.now() );\r\n    }\r\n\r\n}\r\n```\r\n\r\nWhen run.\r\n\r\n```none\r\nThread: 1 is starting demo. 2021-10-09T03:58:41.269177Z\r\nThread: 15 is sleeping, to pretend doing network call. 2021-10-09T03:58:41.286424Z\r\nThread: 16 is sleeping, to pretend doing network call. 2021-10-09T03:58:41.286828Z\r\nThread: 17 is sleeping, to pretend doing network call. 2021-10-09T03:58:41.288108Z\r\nThread: 16 produced an `Entity` object. Task done. 2021-10-09T03:58:44.323703Z\r\nThread: 15 produced an `Entity` object. Task done. 2021-10-09T03:58:46.294364Z\r\nThread: 17 produced an `Entity` object. Task done. 2021-10-09T03:58:46.294269Z\r\noutput = [Entity[uuid=04d73a52-79ec-4a61-becb-ce056d3aa9fa, instant=2021-10-09T03:58:46.294359Z], Entity[uuid=cc5a7266-4101-41bb-b806-8b29b77a82d0, instant=2021-10-09T03:58:44.323688Z], Entity[uuid=3cc24ad9-3ea1-4a24-98d0-c3df4bf161b6, instant=2021-10-09T03:58:46.294254Z]]\r\nThread: 1 is ending demo. 2021-10-09T03:58:46.321313Z\r\n```\r\n\r\n\r\n\r\n\r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Thread_safety\r\n  [2]: https://stackoverflow.com/users/589259/maarten-bodewes\r\n  [3]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html\r\n  [4]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CopyOnWriteArraySet.html\r\n  [5]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentSkipListSet.html\r\n  [6]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html","title":"Java multithreading inner class calling outer class","body":"<h1>Not thread-safe</h1>\n<p>No, manipulating a non-thread-safe <code>List</code> from across threads is not <a href=\"https://en.wikipedia.org/wiki/Thread_safety\" rel=\"nofollow noreferrer\">thread-safe</a>.</p>\n<h1><code>Synchronized</code></h1>\n<p>You could make your <code>handleInput</code> method <code>synchronized</code> as <a href=\"https://stackoverflow.com/users/589259/maarten-bodewes\">commented by Bodewes</a>. Of course, that method becomes a potential bottleneck, as only one thread at a time can be calling a synchronized method. Perhaps not an issue in your case, but be aware.</p>\n<h1>Thread-safe collection</h1>\n<p>Another option is to replace your <code>LinkedList</code> with a thread-safe collection. For example, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CopyOnWriteArrayList.html\" rel=\"nofollow noreferrer\"><code>CopyOnWriteArrayList</code></a>, <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/CopyOnWriteArraySet.html\" rel=\"nofollow noreferrer\"><code>CopyOnWriteArraySet</code></a>, or <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/ConcurrentSkipListSet.html\" rel=\"nofollow noreferrer\"><code>ConcurrentSkipListSet</code></a>.</p>\n<h1><code>Callable</code> &amp; <code>Future</code></h1>\n<p>But I suggest you not mingle your multi-threaded production of <code>Entity</code> objects with collecting and processing those objects. Each task assigned to a background thread should “mind its own business” as much as possible. Having the tasks share a list is entangling them across threads needlessly; that kind of entangling (shared resources) should be avoided wherever possible.</p>\n<p>Change your task from being a <code>Runnable</code> to be a <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/concurrent/Callable.html\" rel=\"nofollow noreferrer\"><code>Callable</code></a> so as to return a value. That return value will be each <code>Entity</code> produced.</p>\n<p>As you submit each <code>Callable</code> to the executor service, you get back a <code>Future</code> object. Collect those objects. Through each of those objects you can access the result of each task’s work.</p>\n<p>Wait for the executor service to finish all submitted tasks. Then inspect the results of each <code>Future</code>.</p>\n<p>By using <code>Future</code> objects to collect the results produced by the background threads, and only processing those results <em>after</em> they are all done, we have eliminated the need to make your <code>results</code> collection thread-safe. The original thread collects those results into a list, rather than each thread adding to the list.</p>\n<p>Notice how in this example code below we have no resources shared across the tasks running in background threads. Each task does its own thing, reporting its own result via its particular <code>Future</code> object. The tasks no longer access a shared <code>List</code>.</p>\n<p>By the way, notice that this example code does not keep the executor service in a member field as does the code in the Question. In our situation here, an executor service should be (1) instantiated, (2) utilized, and (3) shut down all in one action. You <em>must</em> shut down your executor service when no longer needed (or when your app exits). Otherwise its backing thread pool may run indefinitely, like a zombie 🧟‍♂️.</p>\n<h2>Example code</h2>\n<pre class=\"lang-java prettyprint-override\"><code>package work.basil.threading;\n\nimport java.net.URI;\nimport java.net.URISyntaxException;\nimport java.time.Duration;\nimport java.time.Instant;\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.Objects;\nimport java.util.UUID;\nimport java.util.concurrent.*;\n\npublic class Status\n{\n    record Entity( UUID uuid , Instant instant ) { }\n\n    public List &lt; String &gt; process ()\n    {\n        ExecutorService executorService = Executors.newFixedThreadPool( 5 );\n\n        List &lt; WebCallTask &gt; tasks = List.of();\n        try\n        {\n            tasks = List.of(\n                    new WebCallTask( new URI( &quot;http://www.Google.com/&quot; ) ) ,\n                    new WebCallTask( new URI( &quot;http://www.DuckDuckGo.com/&quot; ) ) ,\n                    new WebCallTask( new URI( &quot;http://www.Adoptium.net/&quot; ) )\n            );\n        } catch ( URISyntaxException e )\n        {\n            e.printStackTrace();\n        }\n\n        List &lt; Future &lt; Entity &gt; &gt; futures = List.of();\n        try { futures = executorService.invokeAll( tasks ); } catch ( InterruptedException e ) { e.printStackTrace(); }\n\n        executorService.shutdown();\n        try { executorService.awaitTermination( 2 , TimeUnit.MINUTES ); } catch ( InterruptedException e ) { e.printStackTrace(); }\n\n        List &lt; String &gt; results = new ArrayList &lt;&gt;( tasks.size() );\n        for ( Future &lt; Entity &gt; future : futures )\n        {\n            try\n            {\n                Entity entity = future.get();\n                String result = this.handleInput( entity );\n                results.add( result );\n            } catch ( InterruptedException e )\n            {\n                e.printStackTrace();\n            } catch ( ExecutionException e )\n            {\n                e.printStackTrace();\n            }\n        }\n        return results;\n    }\n\n    public String handleInput ( Entity entity )\n    {\n        if ( Objects.isNull( entity ) ) return &quot;Not Available.&quot;;\n        return entity.toString();\n    }\n\n    private class WebCallTask implements Callable &lt; Entity &gt;\n    {\n        private URI uri;\n\n        public WebCallTask ( URI uri )\n        {\n            this.uri = uri;\n        }\n\n        @Override\n        public Entity call ()\n        {\n            Entity entity = null;\n            try\n            {\n                // Perform some http calls.\n                // response = httpClient.execute(httpPost);\n                // Pretend to wait on network call by sleeping.\n                System.out.println( &quot;Thread: &quot; + Thread.currentThread().getId() + &quot; is sleeping, to pretend doing network call. &quot; + Instant.now() );\n                try { Thread.sleep( Duration.ofSeconds( ThreadLocalRandom.current().nextInt( 3 , 11 ) ).toMillis() ); } catch ( InterruptedException e ) { e.printStackTrace(); }\n                entity = new Entity( UUID.randomUUID() , Instant.now() );\n                System.out.println( &quot;Thread: &quot; + Thread.currentThread().getId() + &quot; produced an `Entity` object. Task done. &quot; + Instant.now() );\n            } catch ( Exception e )  // In your real code, you would be catching networking errors related to your networkcall.\n            {\n                e.printStackTrace();\n            } finally\n            {\n                return entity;  // May return `null` as a legitimate value. In real work I would use `Optional&lt; Entity &gt;` here to signal that `null` is a possible and legitimate value. But let's not overcomplicate this example code.\n            }\n        }\n    }\n\n    public static void main ( String[] args )\n    {\n        System.out.println( &quot;Thread: &quot; + Thread.currentThread().getId() + &quot; is starting demo. &quot; + Instant.now() );\n\n        Status statusApp = new Status();\n        List &lt; String &gt; output = statusApp.process();\n        System.out.println( &quot;output = &quot; + output );\n\n        System.out.println( &quot;Thread: &quot; + Thread.currentThread().getId() + &quot; is ending demo. &quot; + Instant.now() );\n    }\n\n}\n</code></pre>\n<p>When run.</p>\n<pre class=\"lang-none prettyprint-override\"><code>Thread: 1 is starting demo. 2021-10-09T03:58:41.269177Z\nThread: 15 is sleeping, to pretend doing network call. 2021-10-09T03:58:41.286424Z\nThread: 16 is sleeping, to pretend doing network call. 2021-10-09T03:58:41.286828Z\nThread: 17 is sleeping, to pretend doing network call. 2021-10-09T03:58:41.288108Z\nThread: 16 produced an `Entity` object. Task done. 2021-10-09T03:58:44.323703Z\nThread: 15 produced an `Entity` object. Task done. 2021-10-09T03:58:46.294364Z\nThread: 17 produced an `Entity` object. Task done. 2021-10-09T03:58:46.294269Z\noutput = [Entity[uuid=04d73a52-79ec-4a61-becb-ce056d3aa9fa, instant=2021-10-09T03:58:46.294359Z], Entity[uuid=cc5a7266-4101-41bb-b806-8b29b77a82d0, instant=2021-10-09T03:58:44.323688Z], Entity[uuid=3cc24ad9-3ea1-4a24-98d0-c3df4bf161b6, instant=2021-10-09T03:58:46.294254Z]]\nThread: 1 is ending demo. 2021-10-09T03:58:46.321313Z\n</code></pre>\n"}],"owner":{"account_id":11430747,"reputation":676,"user_id":8379526,"display_name":"Chandrasekhar Raman"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":391,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633770552,"accepted_answer_id":69503055,"answer_count":1,"score":1,"last_activity_date":1633753104,"creation_date":1633740652,"question_id":69502949,"body_markdown":"I have an inner class that implement runnable and it makes HTTP requests and then calls the function of outer class to handle the response. The intended behavior is to append all the responses to a List of Objects.\r\n\r\nSample code: \r\n\r\n    public class Status {\r\n\r\n    private ExecutorService executor;\r\n    CloseableHttpClient httpClient;\r\n    List&lt;String&gt; results = new LinkedList&lt;&gt;();\r\n\r\n    public Status() {\r\n        executor = Executors.newFixedThreadPool(5);\r\n        httpClient = HttpClients.createDefault();\r\n    }\r\n\r\n\r\n    public handleInput(Entity entity) {\r\n       String result = EntityUtils.toString(httpEntity);\r\n       results.add(result); \r\n    }\r\n\r\n    private class Action implements Runnable {\r\n\r\n        @Override\r\n        public void run() {\r\n            try {\r\n                //do some http calls\r\n                // response = httpClient.execute(httpPost);\r\n                handleInput(response.getEntity())\r\n            } catch (SomeException e) {\r\n                lastResult = false;\r\n\r\n            }\r\n\r\n        }\r\n    }}\r\n\r\nDuring my testing, I didn&#39;t face any issue but I would like to know if it is a thread safe operation to add results from multiple threads to the same linkedlist and if not what is the best design for such scenarios.","title":"Java multithreading inner class calling outer class","body":"<p>I have an inner class that implement runnable and it makes HTTP requests and then calls the function of outer class to handle the response. The intended behavior is to append all the responses to a List of Objects.</p>\n<p>Sample code:</p>\n<pre><code>public class Status {\n\nprivate ExecutorService executor;\nCloseableHttpClient httpClient;\nList&lt;String&gt; results = new LinkedList&lt;&gt;();\n\npublic Status() {\n    executor = Executors.newFixedThreadPool(5);\n    httpClient = HttpClients.createDefault();\n}\n\n\npublic handleInput(Entity entity) {\n   String result = EntityUtils.toString(httpEntity);\n   results.add(result); \n}\n\nprivate class Action implements Runnable {\n\n    @Override\n    public void run() {\n        try {\n            //do some http calls\n            // response = httpClient.execute(httpPost);\n            handleInput(response.getEntity())\n        } catch (SomeException e) {\n            lastResult = false;\n\n        }\n\n    }\n}}\n</code></pre>\n<p>During my testing, I didn't face any issue but I would like to know if it is a thread safe operation to add results from multiple threads to the same linkedlist and if not what is the best design for such scenarios.</p>\n"},{"tags":["java","junit","mockito","code-coverage"],"comments":[{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1633751012,"post_id":69503558,"comment_id":122849751,"body_markdown":"Which lines in your code are not covered?","body":"Which lines in your code are not covered?"},{"owner":{"account_id":13682657,"reputation":7,"user_id":9872609,"display_name":"Abraham Macias"},"score":0,"creation_date":1633751776,"post_id":69503558,"comment_id":122849822,"body_markdown":"All the Override handleMessage method and I want to cover those lines","body":"All the Override handleMessage method and I want to cover those lines"},{"owner":{"account_id":14357,"reputation":9128,"user_id":29470,"display_name":"Tim Moore"},"score":0,"creation_date":1633752336,"post_id":69503558,"comment_id":122849896,"body_markdown":"You’ve stubbed the method to do nothing in your test, so the original code won’t be called.","body":"You’ve stubbed the method to do nothing in your test, so the original code won’t be called."},{"owner":{"account_id":7423601,"reputation":18712,"user_id":5646962,"display_name":"Thomas Kl&#228;ger"},"score":0,"creation_date":1633757659,"post_id":69503558,"comment_id":122850532,"body_markdown":"After `MessageHandler handler = processAchServiceImp.handler();` you have the `MessageHandler` instance that you probably want to test. Now you need to test it by calling `handler.handleMessage(...)` and verify the outcome.","body":"After <code>MessageHandler handler = processAchServiceImp.handler();</code> you have the <code>MessageHandler</code> instance that you probably want to test. Now you need to test it by calling <code>handler.handleMessage(...)</code> and verify the outcome."},{"owner":{"account_id":13682657,"reputation":7,"user_id":9872609,"display_name":"Abraham Macias"},"score":0,"creation_date":1633962538,"post_id":69503558,"comment_id":122892994,"body_markdown":"@ThomasKl&#228;ger thanks that was ecactly that I need, It works . And thanks to all of you","body":"@ThomasKl&#228;ger thanks that was ecactly that I need, It works . And thanks to all of you"}],"answers":[{"tags":[],"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633752595,"creation_date":1633752595,"answer_id":69503687,"question_id":69503558,"body_markdown":"Seems like you are mocking the class `undertest` : \r\n\r\n    MessageHandler hand = Mockito.spy(MessageHandler.class);\r\n    doNothing().when(hand).handleMessage(any(Message.class));\r\n\r\nYou should mock your dependcies instead. \r\nThis [link][1] should give more explaination about your issue.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/3690033/mockito-passes-but-code-coverage-still-low","title":"How can I write a Junit test for a Overide method","body":"<p>Seems like you are mocking the class <code>undertest</code> :</p>\n<pre><code>MessageHandler hand = Mockito.spy(MessageHandler.class);\ndoNothing().when(hand).handleMessage(any(Message.class));\n</code></pre>\n<p>You should mock your dependcies instead.\nThis <a href=\"https://stackoverflow.com/questions/3690033/mockito-passes-but-code-coverage-still-low\">link</a> should give more explaination about your issue.</p>\n"}],"owner":{"account_id":13682657,"reputation":7,"user_id":9872609,"display_name":"Abraham Macias"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":548,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633752595,"creation_date":1633750638,"question_id":69503558,"body_markdown":"How can I write a unit test for an override method? the code looks like this, but I can&#39;t get more code covergae for the override method.\r\n\r\n    public MessageHandler handler() {\r\n        return new MessageHandler() {\r\n            @SneakyThrows\r\n            @Override\r\n            public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\r\n                log.info(&quot;Fetching &quot; + message.getPayload());\r\n                var file = (File) message.getPayload();\r\n\r\n                var content = Files.readString(Path.of(file.getPath()));\r\n\r\n                List&lt;String&gt; fields = Arrays.stream(content.split(&quot;;&quot;))\r\n                        .map(String::trim)\r\n                        .collect(Collectors.toList());\r\n\r\n                if(((File) message.getPayload()).getName().startsWith(&quot;ACH&quot;)) {\r\n                    log.info(&quot;Backup: &quot;, file);\r\n                    sftpGetAway.sendToSftpUploaded(file);\r\n                }else {\r\n                    log.info(&quot;Backup: &quot;, file);\r\n                    sftpGetAway.sendToSftpNonUploaded(file);\r\n                }\r\n\r\n                processFile(((File) message.getPayload()).getName(), fields);\r\n            }\r\n        };\r\n    }\r\n\r\nThe unit test code is this.\r\n\r\n      @Test\r\n    public void handler() throws BadRequestException, IOException {\r\n        Message&lt;?&gt; message = MessageBuilder.withPayload(&quot;@inboundtest.start()&quot;)\r\n                .setHeader(&quot;SOME_HEADER_KEY&quot;, &quot;SOME_HEADER_VALUE&quot;)\r\n                .build();\r\n\r\n        MessageHandler hand = Mockito.spy(MessageHandler.class);\r\n\r\n        doNothing().when(hand).handleMessage(any(Message.class));\r\n        MessageHandler handler = processAchServiceImp.handler();\r\n        hand.handleMessage(message);\r\n        Assert.assertNotNull(handler);\r\n    }\r\n\r\nThe test runs good but the coverage can&#39;t increase.\r\n\r\n","title":"How can I write a Junit test for a Overide method","body":"<p>How can I write a unit test for an override method? the code looks like this, but I can't get more code covergae for the override method.</p>\n<pre><code>public MessageHandler handler() {\n    return new MessageHandler() {\n        @SneakyThrows\n        @Override\n        public void handleMessage(Message&lt;?&gt; message) throws MessagingException {\n            log.info(&quot;Fetching &quot; + message.getPayload());\n            var file = (File) message.getPayload();\n\n            var content = Files.readString(Path.of(file.getPath()));\n\n            List&lt;String&gt; fields = Arrays.stream(content.split(&quot;;&quot;))\n                    .map(String::trim)\n                    .collect(Collectors.toList());\n\n            if(((File) message.getPayload()).getName().startsWith(&quot;ACH&quot;)) {\n                log.info(&quot;Backup: &quot;, file);\n                sftpGetAway.sendToSftpUploaded(file);\n            }else {\n                log.info(&quot;Backup: &quot;, file);\n                sftpGetAway.sendToSftpNonUploaded(file);\n            }\n\n            processFile(((File) message.getPayload()).getName(), fields);\n        }\n    };\n}\n</code></pre>\n<p>The unit test code is this.</p>\n<pre><code>  @Test\npublic void handler() throws BadRequestException, IOException {\n    Message&lt;?&gt; message = MessageBuilder.withPayload(&quot;@inboundtest.start()&quot;)\n            .setHeader(&quot;SOME_HEADER_KEY&quot;, &quot;SOME_HEADER_VALUE&quot;)\n            .build();\n\n    MessageHandler hand = Mockito.spy(MessageHandler.class);\n\n    doNothing().when(hand).handleMessage(any(Message.class));\n    MessageHandler handler = processAchServiceImp.handler();\n    hand.handleMessage(message);\n    Assert.assertNotNull(handler);\n}\n</code></pre>\n<p>The test runs good but the coverage can't increase.</p>\n"},{"tags":["java","intellij-idea"],"comments":[{"owner":{"account_id":2667845,"reputation":10491,"user_id":2305826,"accept_rate":89,"display_name":"MarsAtomic"},"score":3,"creation_date":1575771185,"post_id":59231860,"comment_id":104676736,"body_markdown":"That&#39;s a deprecation warning, not an exception and will not keep your code from compiling or running. There&#39;s some other problem in your code that causes it to fail but since you didn&#39;t bother posting any code, there&#39;s no way to tell what&#39;s happening.","body":"That&#39;s a deprecation warning, not an exception and will not keep your code from compiling or running. There&#39;s some other problem in your code that causes it to fail but since you didn&#39;t bother posting any code, there&#39;s no way to tell what&#39;s happening."}],"answers":[{"tags":[],"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1633751275,"creation_date":1575776713,"answer_id":59232258,"question_id":59231860,"body_markdown":"In the short term, you don&#39;t need to do anything.  This is just a warning.  Your code will keep running until you upgrade to a Java release that removes the Nashorn Javascript interpreter.\r\n\r\nThe deprecation is in accordance with [JEP 335][1].  A Java release for Nashorn *removal* is not proposed in the JEP, and it hasn&#39;t been removed yet as of Java 13.  \r\n\r\n**UPDATE** - Nashorn was actually removed in Java 15+ (source [Wikipedia][2]). \r\n\r\nIn the long term, you will probably need to find a different Javascript interpreter for your application to use.  You could suppress the warnings for now (for example: https://stackoverflow.com/questions/7798908/disable-warning-in-intellij-for-one-line), but if you do that there is a risk that you will forget that you did it, and then get a nasty shock when you upgrade to the (future) release.\r\n\r\nIf Intellij itself is using `jjs`, then the Intellij developers will need to address this.\r\n\r\n  [1]: https://openjdk.java.net/jeps/335\r\n  [2]: https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)","title":"Intellij &quot;Warning: The jjs tool is planned to be removed from a future JDK release jjs&gt; what to do&quot;","body":"<p>In the short term, you don't need to do anything.  This is just a warning.  Your code will keep running until you upgrade to a Java release that removes the Nashorn Javascript interpreter.</p>\n<p>The deprecation is in accordance with <a href=\"https://openjdk.java.net/jeps/335\" rel=\"nofollow noreferrer\">JEP 335</a>.  A Java release for Nashorn <em>removal</em> is not proposed in the JEP, and it hasn't been removed yet as of Java 13.</p>\n<p><strong>UPDATE</strong> - Nashorn was actually removed in Java 15+ (source <a href=\"https://en.wikipedia.org/wiki/Nashorn_(JavaScript_engine)\" rel=\"nofollow noreferrer\">Wikipedia</a>).</p>\n<p>In the long term, you will probably need to find a different Javascript interpreter for your application to use.  You could suppress the warnings for now (for example: <a href=\"https://stackoverflow.com/questions/7798908/disable-warning-in-intellij-for-one-line\">Disable warning in IntelliJ for one line</a>), but if you do that there is a risk that you will forget that you did it, and then get a nasty shock when you upgrade to the (future) release.</p>\n<p>If Intellij itself is using <code>jjs</code>, then the Intellij developers will need to address this.</p>\n"}],"owner":{"account_id":17260425,"reputation":35,"user_id":12498452,"display_name":"chun yin kwan"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1284,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"closed_date":1575806170,"accepted_answer_id":59232258,"answer_count":1,"score":1,"last_activity_date":1633751275,"creation_date":1575770851,"question_id":59231860,"body_markdown":"I&#39;m using intellij for Java development, and when I run the application, it shows an error message saying &quot;Warning: The jjs tool is planned to be removed from a future JDK release jjs&gt;&quot;, then it gets stuck at the line and none of my System.out.println print anything at all. I&#39;m not sure what to do with it.","title":"Intellij &quot;Warning: The jjs tool is planned to be removed from a future JDK release jjs&gt; what to do&quot;","body":"<p>I'm using intellij for Java development, and when I run the application, it shows an error message saying \"Warning: The jjs tool is planned to be removed from a future JDK release jjs>\", then it gets stuck at the line and none of my System.out.println print anything at all. I'm not sure what to do with it.</p>\n"},{"tags":["java","android","android-activity","gallery"],"comments":[{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1633743475,"post_id":69503080,"comment_id":122848981,"body_markdown":"`GalleryActivity` is pointless, and can be removed. The `Intent` you create there should actually be what you use with `startActivityForResult()` in `ProfileActivity` instead.","body":"<code>GalleryActivity</code> is pointless, and can be removed. The <code>Intent</code> you create there should actually be what you use with <code>startActivityForResult()</code> in <code>ProfileActivity</code> instead."},{"owner":{"account_id":20957153,"reputation":197,"user_id":15605043,"display_name":"chen abien"},"score":0,"creation_date":1633743662,"post_id":69503080,"comment_id":122849007,"body_markdown":"I need to write it in separate activities tho, is there any way to achieve it?","body":"I need to write it in separate activities tho, is there any way to achieve it?"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1633743729,"post_id":69503080,"comment_id":122849015,"body_markdown":"You&#39;ll have to explain exactly what `GalleryActivity` is supposed to do, then, &#39;cause all it&#39;s doing now is interrupting the `startActivityForResult()` from `ProfileActivity`.","body":"You&#39;ll have to explain exactly what <code>GalleryActivity</code> is supposed to do, then, &#39;cause all it&#39;s doing now is interrupting the <code>startActivityForResult()</code> from <code>ProfileActivity</code>."},{"owner":{"account_id":20957153,"reputation":197,"user_id":15605043,"display_name":"chen abien"},"score":0,"creation_date":1633743831,"post_id":69503080,"comment_id":122849027,"body_markdown":"GalleryAactivity is an image gallery from which the user can select a new profile picture","body":"GalleryAactivity is an image gallery from which the user can select a new profile picture"},{"owner":{"account_id":3397419,"reputation":38710,"user_id":2850651,"display_name":"Mike M."},"score":0,"creation_date":1633744032,"post_id":69503080,"comment_id":122849043,"body_markdown":"Nah, it&#39;s just an empty `Activity` that starts the image selection `Intent`. It&#39;s not currently doing anything that can&#39;t be done in `ProfileActivity`.","body":"Nah, it&#39;s just an empty <code>Activity</code> that starts the image selection <code>Intent</code>. It&#39;s not currently doing anything that can&#39;t be done in <code>ProfileActivity</code>."}],"answers":[{"tags":[],"owner":{"account_id":16384867,"reputation":249,"user_id":11835023,"display_name":"shrimpcolo"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633750772,"creation_date":1633750772,"answer_id":69503564,"question_id":69503080,"body_markdown":"After I read and implemented the code in my Android Studio, I was also confused that why did you launch a new Activity (GalleryActivity) to start the image selection. The Intent `Intent.ACTION_PICK` will show a pick UI.\r\n\r\nObviously, using your code couldn&#39;t achieve your goal.\r\nIn my opinion, just launch the picking image UI from class `GalleryActivity` \r\nlike this:\r\n```\r\ngallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Log.d(&quot;TestShowGallery&quot;, &quot;TANCOLO===&gt; onClick() &quot;);\r\n//                Intent intent = new Intent(TestShowGallery.this,GalleryActivity.class);\r\n                Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\r\n                startActivityForResult(intent, 3);\r\n            }\r\n        });\r\n```\r\n\r\nI test my code, it works.\r\n\r\nIf you really really want to do what you want, there is an approach to achieve your goal, but I don’t recommend you to do that. In order to review how to transfer data between 2 Activities, I show you an example.\r\n\r\nYou just need to change the code in class `GalleryActivity`\r\n```\r\npublic class GalleryActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Log.d(&quot;GalleryActivity&quot;, &quot;TANCOLO===&gt; onCreate() &quot;);\r\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\r\n        startActivityForResult(intent, 400);\r\n    }\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        Log.d(&quot;GalleryActivity&quot;, &quot;TANCOLO===&gt; requestCode = &quot; + requestCode + &quot;,  resultCode = &quot; + resultCode);\r\n        Log.d(&quot;GalleryActivity&quot;, &quot;TANCOLO===&gt; data = &quot; + data );\r\n\r\n        if (requestCode == 400 &amp;&amp; resultCode == RESULT_OK) {\r\n            setResult(RESULT_OK, data);\r\n            finish();\r\n        }\r\n    }\r\n}\r\n```\r\n","title":"new images does not show up after clicking","body":"<p>After I read and implemented the code in my Android Studio, I was also confused that why did you launch a new Activity (GalleryActivity) to start the image selection. The Intent <code>Intent.ACTION_PICK</code> will show a pick UI.</p>\n<p>Obviously, using your code couldn't achieve your goal.\nIn my opinion, just launch the picking image UI from class <code>GalleryActivity</code>\nlike this:</p>\n<pre><code>gallery.setOnClickListener(new View.OnClickListener() {\n            @Override\n            public void onClick(View v) {\n                Log.d(&quot;TestShowGallery&quot;, &quot;TANCOLO===&gt; onClick() &quot;);\n//                Intent intent = new Intent(TestShowGallery.this,GalleryActivity.class);\n                Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\n                startActivityForResult(intent, 3);\n            }\n        });\n</code></pre>\n<p>I test my code, it works.</p>\n<p>If you really really want to do what you want, there is an approach to achieve your goal, but I don’t recommend you to do that. In order to review how to transfer data between 2 Activities, I show you an example.</p>\n<p>You just need to change the code in class <code>GalleryActivity</code></p>\n<pre><code>public class GalleryActivity extends AppCompatActivity {\n\n    @Override\n    protected void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        Log.d(&quot;GalleryActivity&quot;, &quot;TANCOLO===&gt; onCreate() &quot;);\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\n        startActivityForResult(intent, 400);\n    }\n\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\n        super.onActivityResult(requestCode, resultCode, data);\n        Log.d(&quot;GalleryActivity&quot;, &quot;TANCOLO===&gt; requestCode = &quot; + requestCode + &quot;,  resultCode = &quot; + resultCode);\n        Log.d(&quot;GalleryActivity&quot;, &quot;TANCOLO===&gt; data = &quot; + data );\n\n        if (requestCode == 400 &amp;&amp; resultCode == RESULT_OK) {\n            setResult(RESULT_OK, data);\n            finish();\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":20957153,"reputation":197,"user_id":15605043,"display_name":"chen abien"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":54,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1633750772,"creation_date":1633743012,"question_id":69503080,"body_markdown":"I have my ProfileActivity:\r\n\r\n    public class ProfileActivity extends AppCompatActivity {\r\n\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_profile);\r\n\r\n        Button gallery = findViewById(R.id.gallery);\r\n        gallery.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n                Intent intent = new Intent(ProfileActivity.this,GalleryActivity.class);\r\n                startActivityForResult(intent, 3);\r\n            }\r\n        });\r\n    }\r\n\r\n    protected void onActivityResult(int requestCode, int resultCode, Intent data) {\r\n        super.onActivityResult(requestCode, resultCode, data);\r\n        if (requestCode == 3 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\r\n            Uri selectedImage = data.getData();\r\n            ImageView imageView = findViewById(R.id.imageView);\r\n            imageView.setImageURI(selectedImage);\r\n        }\r\n    }\r\n\r\nMy GalleryActivity:\r\n\r\n    public class GalleryActivity extends AppCompatActivity {\r\n    @Override\r\n    protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\r\n        startActivity(intent);\r\n    }\r\n}\r\n\r\nmy xml file:\r\n\r\n    &lt;ImageView\r\n        android:id=&quot;@+id/imageView&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:layout_centerInParent=&quot;true&quot; /&gt;\r\n\r\n    &lt;Button\r\n        android:id=&quot;@+id/gallery&quot;\r\n        android:layout_width=&quot;wrap_content&quot;\r\n        android:layout_height=&quot;wrap_content&quot;\r\n        android:layout_alignParentBottom=&quot;true&quot;\r\n        android:layout_centerHorizontal=&quot;true&quot;\r\n        android:layout_marginBottom=&quot;10sp&quot;\r\n        android:text=&quot;Load image from Gallery&quot;\r\n        android:textAllCaps=&quot;false&quot;\r\n        android:textSize=&quot;21sp&quot; /&gt;\r\n\r\nI am facing issue that when user clicked on the new image, it does not show up at the OnActivityResult().\\\r\nwhat is the reason and how I can solve it?\r\n","title":"new images does not show up after clicking","body":"<p>I have my ProfileActivity:</p>\n<pre><code>public class ProfileActivity extends AppCompatActivity {\n\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_profile);\n\n    Button gallery = findViewById(R.id.gallery);\n    gallery.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n            Intent intent = new Intent(ProfileActivity.this,GalleryActivity.class);\n            startActivityForResult(intent, 3);\n        }\n    });\n}\n\nprotected void onActivityResult(int requestCode, int resultCode, Intent data) {\n    super.onActivityResult(requestCode, resultCode, data);\n    if (requestCode == 3 &amp;&amp; resultCode == RESULT_OK &amp;&amp; data != null) {\n        Uri selectedImage = data.getData();\n        ImageView imageView = findViewById(R.id.imageView);\n        imageView.setImageURI(selectedImage);\n    }\n}\n</code></pre>\n<p>My GalleryActivity:</p>\n<pre><code>public class GalleryActivity extends AppCompatActivity {\n@Override\nprotected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    Intent intent = new Intent(Intent.ACTION_PICK, MediaStore.Images.Media.INTERNAL_CONTENT_URI);\n    startActivity(intent);\n}\n</code></pre>\n<p>}</p>\n<p>my xml file:</p>\n<pre><code>&lt;ImageView\n    android:id=&quot;@+id/imageView&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:layout_centerInParent=&quot;true&quot; /&gt;\n\n&lt;Button\n    android:id=&quot;@+id/gallery&quot;\n    android:layout_width=&quot;wrap_content&quot;\n    android:layout_height=&quot;wrap_content&quot;\n    android:layout_alignParentBottom=&quot;true&quot;\n    android:layout_centerHorizontal=&quot;true&quot;\n    android:layout_marginBottom=&quot;10sp&quot;\n    android:text=&quot;Load image from Gallery&quot;\n    android:textAllCaps=&quot;false&quot;\n    android:textSize=&quot;21sp&quot; /&gt;\n</code></pre>\n<p>I am facing issue that when user clicked on the new image, it does not show up at the OnActivityResult().<br />\nwhat is the reason and how I can solve it?</p>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":2645973,"reputation":65777,"user_id":2288659,"accept_rate":90,"display_name":"Silvio Mayolo"},"score":0,"creation_date":1633750177,"post_id":69503514,"comment_id":122849659,"body_markdown":"When you run a script file from Windows Explorer, it provides a shell for the duration of the program. If you want it to last longer, run the `.bat` from the command line. There are kludges, such as throwing a `pause` command at the end of the `.bat`, but that&#39;s only going to frustrate folks who actually *do* use a command line.","body":"When you run a script file from Windows Explorer, it provides a shell for the duration of the program. If you want it to last longer, run the <code>.bat</code> from the command line. There are kludges, such as throwing a <code>pause</code> command at the end of the <code>.bat</code>, but that&#39;s only going to frustrate folks who actually <i>do</i> use a command line."},{"owner":{"account_id":480617,"reputation":2495,"user_id":893952,"accept_rate":57,"display_name":"Harry Coder"},"score":0,"creation_date":1633750469,"post_id":69503514,"comment_id":122849696,"body_markdown":"Have you tried to read how to set it up throught their web site?","body":"Have you tried to read how to set it up throught their web site?"},{"owner":{"account_id":22984734,"reputation":1,"user_id":17111112,"display_name":"starcasm"},"score":0,"creation_date":1633751175,"post_id":69503514,"comment_id":122849766,"body_markdown":"@SilvioMayolo i tried running it directly from the command prompt but it just says &quot;unable to access jarfile shimeji-ee.jar&quot;","body":"@SilvioMayolo i tried running it directly from the command prompt but it just says &quot;unable to access jarfile shimeji-ee.jar&quot;"}],"owner":{"account_id":22984734,"reputation":1,"user_id":17111112,"display_name":"starcasm"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":32,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633750674,"creation_date":1633750050,"question_id":69503514,"body_markdown":"I&#39;m trying to use a `.bat` file to run a `Shimeji`, but when I double-click the file it opens the command prompt for half a second then closes automatically. I&#39;ve been looking all over for a proper answer to this but can&#39;t find one I really understand. \r\nTry to give it to me in simple terms because I&#39;ve never done something like this before\r\n\r\ncontents: java -jar Shimeji-ee.jar","title":"run.bat will not properly open the command prompt","body":"<p>I'm trying to use a <code>.bat</code> file to run a <code>Shimeji</code>, but when I double-click the file it opens the command prompt for half a second then closes automatically. I've been looking all over for a proper answer to this but can't find one I really understand.\nTry to give it to me in simple terms because I've never done something like this before</p>\n<p>contents: java -jar Shimeji-ee.jar</p>\n"},{"tags":["java","arrays"],"comments":[{"owner":{"account_id":3116234,"reputation":9296,"user_id":2636929,"display_name":"Stultuske"},"score":0,"creation_date":1586865205,"post_id":61206959,"comment_id":108279329,"body_markdown":"try with small examples, re-read the logic, and debug your code. smaller arrays will make it easier to spot the difference","body":"try with small examples, re-read the logic, and debug your code. smaller arrays will make it easier to spot the difference"},{"owner":{"account_id":12695174,"reputation":45172,"user_id":9223839,"display_name":"Joakim Danielson"},"score":0,"creation_date":1586865339,"post_id":61206959,"comment_id":108279392,"body_markdown":"I assume you are not allowed to create a new array?","body":"I assume you are not allowed to create a new array?"},{"owner":{"account_id":16897832,"reputation":61,"user_id":12219974,"display_name":"Heet Mehta"},"score":0,"creation_date":1586865445,"post_id":61206959,"comment_id":108279446,"body_markdown":"It is working for small arrays. I tried for both even and odd number of tems. @Stultuske","body":"It is working for small arrays. I tried for both even and odd number of tems. @Stultuske"},{"owner":{"account_id":16897832,"reputation":61,"user_id":12219974,"display_name":"Heet Mehta"},"score":0,"creation_date":1586865515,"post_id":61206959,"comment_id":108279483,"body_markdown":"yes., you are right. And i&#39;m not creating any new array. @JoakimDanielson","body":"yes., you are right. And i&#39;m not creating any new array. @JoakimDanielson"}],"answers":[{"tags":[],"owner":{"account_id":2179728,"reputation":73047,"user_id":10819573,"display_name":"Arvind Kumar Avinash"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1588628906,"creation_date":1586866529,"answer_id":61207454,"question_id":61206959,"body_markdown":"Since your array is sorted, you can simply do it as follows:\r\n\r\n    import java.util.Arrays;\r\n    \r\n    public class Main {\r\n    \tpublic static void main(String[] args) {\r\n    \t\tint[] arr = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\r\n    \t\tint temp;\r\n    \t\tfor (int i = 0; i &lt; arr.length; i++) {\r\n    \t\t\tif (i % 2 == 0) {\r\n                    // Store the last element to &#39;temp&#39;\r\n    \t\t\t\ttemp = arr[arr.length - 1];\r\n    \t\t\t\t// Shift all elements, starting from index, &#39;i&#39;, to one place right\r\n    \t\t\t\tfor (int j = arr.length - 2; j &gt;= i; j--) {\r\n    \t\t\t\t\tarr[j + 1] = arr[j];\r\n    \t\t\t\t}\r\n                    // Put the value stored in &#39;temp&#39; to index, &#39;i&#39;\r\n    \t\t\t\tarr[i] = temp;\r\n    \t\t\t}\r\n    \t\t}\r\n    \t\tSystem.out.println(Arrays.toString(arr));\r\n    \t}\r\n    }\r\n**Output:**\r\n\r\n    [10, 1, 9, 2, 8, 3, 7, 4, 6, 5]\r\n","title":"Rearrange Array Alternately","body":"<p>Since your array is sorted, you can simply do it as follows:</p>\n\n<pre><code>import java.util.Arrays;\n\npublic class Main {\n    public static void main(String[] args) {\n        int[] arr = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 };\n        int temp;\n        for (int i = 0; i &lt; arr.length; i++) {\n            if (i % 2 == 0) {\n                // Store the last element to 'temp'\n                temp = arr[arr.length - 1];\n                // Shift all elements, starting from index, 'i', to one place right\n                for (int j = arr.length - 2; j &gt;= i; j--) {\n                    arr[j + 1] = arr[j];\n                }\n                // Put the value stored in 'temp' to index, 'i'\n                arr[i] = temp;\n            }\n        }\n        System.out.println(Arrays.toString(arr));\n    }\n}\n</code></pre>\n\n<p><strong>Output:</strong></p>\n\n<pre><code>[10, 1, 9, 2, 8, 3, 7, 4, 6, 5]\n</code></pre>\n"},{"tags":[],"owner":{"account_id":18269469,"reputation":31,"user_id":13300512,"display_name":"Achint"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1591797943,"creation_date":1591797943,"answer_id":62305581,"question_id":61206959,"body_markdown":"Since the array is sorted and we need to rearrange alternatively,we can use the technique to store two numbers at a single position in such a manner that we are also able to retrieve back the original element when required.\r\nLet&#39;s say we need to store n1 and n2 at same position then we can formulate it like :    \r\n======================    n1 = n1 + (n2%z)*z   ======================  \r\nTo extract n1 we can modulo n1 by z and to extract n2 we can divide n1 by z.\r\nFor more detailed explanation,you can refer this video : https://youtu.be/KOglcclYgXI \r\n\r\n","title":"Rearrange Array Alternately","body":"<p>Since the array is sorted and we need to rearrange alternatively,we can use the technique to store two numbers at a single position in such a manner that we are also able to retrieve back the original element when required.\nLet's say we need to store n1 and n2 at same position then we can formulate it like :<br>\n======================    n1 = n1 + (n2%z)*z   ======================<br>\nTo extract n1 we can modulo n1 by z and to extract n2 we can divide n1 by z.\nFor more detailed explanation,you can refer this video : <a href=\"https://youtu.be/KOglcclYgXI\" rel=\"nofollow noreferrer\">https://youtu.be/KOglcclYgXI</a> </p>\n"},{"tags":[],"owner":{"account_id":17366480,"reputation":412,"user_id":12581494,"display_name":"Aman Godara"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1630525755,"creation_date":1612604071,"answer_id":66075394,"question_id":61206959,"body_markdown":"The solution mentioned below solves the problem in **O(N) Time complexity** and **O(1) Space Complexity** **WITHOUT** using the *&quot;storing 2 values at one location concept&quot;*. Moreover this algorithm can also handle duplicate values &amp; float values given the input list is non-decreasingly sorted and consists of positive real numbers only.\r\n\r\nPS: If you wish you can modify my algorithm slightly to make it work for negative values as well.\r\n\r\n**Please don&#39;t get intimidated by looking at the code. Implementation is very simple. Algorithm might be a bit tricky to understand.**\r\n\r\n    \r\n```python\r\n    def reArrange(arr, print_arr_state=True):\r\n        # arr: non-decreasingly sorted list of positive floats/ints\r\n        length = len(arr)\r\n        for i in range(length):\r\n            if arr[i] &gt; 0:\r\n                cycler(arr, i, length, print_arr_state)\r\n            arr[i] = abs(arr[i]) # This is the tricky part\r\n            # printing the array after every iteration\r\n            if print_arr_state:\r\n                print(&#39;after&#39;, i, &#39;th iteration:&#39;, arr)\r\n\r\n\r\n    def cycler(arr, start_index, length, print_cycler_array=True):\r\n        if print_cycler_array:\r\n            print(&#39;cycler function:&#39;, arr, end=&#39; ---&gt; &#39;)\r\n\r\n        half_length_index = length // 2\r\n        swap_index = start_index\r\n        current_value = arr[start_index]\r\n        while True:\r\n            if swap_index &lt; half_length_index:\r\n                swap_index = 2 * swap_index + 1\r\n            else:\r\n                swap_index = 2 * (length - 1 - swap_index)\r\n\r\n            # Placing the current value at swap_index and making the making current_value variable refer to the value which was at swap_index\r\n            swap_value = arr[swap_index]\r\n            arr[swap_index] = -1 * current_value # -1 * ?? This is the tricky part of the algo\r\n            current_value = swap_value\r\n\r\n            # cycler function will not stop until the simple cycle is complete\r\n            # simple cycle is complete when swap_index == start_index\r\n            if swap_index == start_index:\r\n                if print_cycler_array:\r\n                    print(arr)\r\n                return\r\n```\r\n\r\n**Giving Input (input_array) and Calling reArrange function:**\r\n\r\n    input_array = [0.1, 2, 3.2, 3.3, 3.3, 4, 5.7, 5.7, 6.8, 7, 8, 9]\r\n    reArrange(input_array)\r\n\r\n**Output:**\r\n\r\n    answer_array = [9, 0.1, 8, 2, 7, 3.2, 6.8, 3.3, 5.7, 3.3, 5.7, 4]\r\n\r\n\r\n## Understanding the algorithm ##\r\n\r\n### Tricky part of the algorithm: ###\r\n\r\nEvery value belongs to exactly 1 cycle and this cycle is a simple cycle (simple cycle vs complex cycle in graphs). One execution of *cycler* function corresponds to one cycle which is also a simple cycle. \r\n \r\nWhenever I cover a value during a cycle, I multiply it with -1 (to indicate that it is covered) and store it in the input array itself. \r\nDuring the i-th iteration of the loop of *reArrange* function, if I find the i-th value to be negative I get an indication that this value is a part of a cycle executed for some j-th iteration (where j &lt; i), thus I don&#39;t call the *cycler* function on this value. But if this value is positive (indicating that none of cycles executed so far has covered this value), it implies that it is not covered yet and hence should be covered in the i-th iteration using the *cycler* function.  \r\n\r\nBut wait!, if I have multiplied all values with -1 my final answer will be **-1 * *correct_answer_array***. To solve this problem, one solution is to reiterate my *answer_array* (which was *input_array* initially and now has transformed to my *answer_array*) and take the absolute of each value **OR** I can do the same thing during my first and only iteration (of *reArrange* function&#39;s loop) by taking the absolute of the value before moving to the i+1-th iteration.\r\n\r\n## Some valid questions ##\r\nThere are few aspects of this algorithm that I haven&#39;t covered in this post. Let me leave you with some of these aspects in the form of questions:\r\n1. Is the while loop of *cycler* function guaranteed to terminate?\r\n2. Why should we not cover a value more than once?\r\n3. How can we handle the negative input values (if any)?\r\n4. Isn&#39;t a single cycle sufficient to cover all the values of the input_array. (Isn&#39;t a single call of the *cycler* function sufficient to cover all the values)?  \r\nHint: eg: 1 2 3 4 5 6 7, this example will lead to 3 cycles. (*cycler* function will be called thrice)\r\n5. What happens during a single call of cycler function?  \r\nHint: Every value which is the part of this cycle shifts to the place where it is supposed to be in the *correct_answer_array*. Once a value is at its correct place, it should not be disturbed again.\r\n\r\n\r\nPlease visit the comments section at the bottom of [this page (GeeksforGeeks)][1] to see the dry run of the algorithm. Please make sure you read all of the comments by me because I have created a bit of mess there.\r\n\r\n\r\n  [1]: https://www.geeksforgeeks.org/rearrange-array-maximum-minimum-form","title":"Rearrange Array Alternately","body":"<p>The solution mentioned below solves the problem in <strong>O(N) Time complexity</strong> and <strong>O(1) Space Complexity</strong> <strong>WITHOUT</strong> using the <em>&quot;storing 2 values at one location concept&quot;</em>. Moreover this algorithm can also handle duplicate values &amp; float values given the input list is non-decreasingly sorted and consists of positive real numbers only.</p>\n<p>PS: If you wish you can modify my algorithm slightly to make it work for negative values as well.</p>\n<p><strong>Please don't get intimidated by looking at the code. Implementation is very simple. Algorithm might be a bit tricky to understand.</strong></p>\n<pre class=\"lang-py prettyprint-override\"><code>    def reArrange(arr, print_arr_state=True):\n        # arr: non-decreasingly sorted list of positive floats/ints\n        length = len(arr)\n        for i in range(length):\n            if arr[i] &gt; 0:\n                cycler(arr, i, length, print_arr_state)\n            arr[i] = abs(arr[i]) # This is the tricky part\n            # printing the array after every iteration\n            if print_arr_state:\n                print('after', i, 'th iteration:', arr)\n\n\n    def cycler(arr, start_index, length, print_cycler_array=True):\n        if print_cycler_array:\n            print('cycler function:', arr, end=' ---&gt; ')\n\n        half_length_index = length // 2\n        swap_index = start_index\n        current_value = arr[start_index]\n        while True:\n            if swap_index &lt; half_length_index:\n                swap_index = 2 * swap_index + 1\n            else:\n                swap_index = 2 * (length - 1 - swap_index)\n\n            # Placing the current value at swap_index and making the making current_value variable refer to the value which was at swap_index\n            swap_value = arr[swap_index]\n            arr[swap_index] = -1 * current_value # -1 * ?? This is the tricky part of the algo\n            current_value = swap_value\n\n            # cycler function will not stop until the simple cycle is complete\n            # simple cycle is complete when swap_index == start_index\n            if swap_index == start_index:\n                if print_cycler_array:\n                    print(arr)\n                return\n</code></pre>\n<p><strong>Giving Input (input_array) and Calling reArrange function:</strong></p>\n<pre><code>input_array = [0.1, 2, 3.2, 3.3, 3.3, 4, 5.7, 5.7, 6.8, 7, 8, 9]\nreArrange(input_array)\n</code></pre>\n<p><strong>Output:</strong></p>\n<pre><code>answer_array = [9, 0.1, 8, 2, 7, 3.2, 6.8, 3.3, 5.7, 3.3, 5.7, 4]\n</code></pre>\n<h2>Understanding the algorithm</h2>\n<h3>Tricky part of the algorithm:</h3>\n<p>Every value belongs to exactly 1 cycle and this cycle is a simple cycle (simple cycle vs complex cycle in graphs). One execution of <em>cycler</em> function corresponds to one cycle which is also a simple cycle.</p>\n<p>Whenever I cover a value during a cycle, I multiply it with -1 (to indicate that it is covered) and store it in the input array itself.\nDuring the i-th iteration of the loop of <em>reArrange</em> function, if I find the i-th value to be negative I get an indication that this value is a part of a cycle executed for some j-th iteration (where j &lt; i), thus I don't call the <em>cycler</em> function on this value. But if this value is positive (indicating that none of cycles executed so far has covered this value), it implies that it is not covered yet and hence should be covered in the i-th iteration using the <em>cycler</em> function.</p>\n<p>But wait!, if I have multiplied all values with -1 my final answer will be <strong>-1 * <em>correct_answer_array</em></strong>. To solve this problem, one solution is to reiterate my <em>answer_array</em> (which was <em>input_array</em> initially and now has transformed to my <em>answer_array</em>) and take the absolute of each value <strong>OR</strong> I can do the same thing during my first and only iteration (of <em>reArrange</em> function's loop) by taking the absolute of the value before moving to the i+1-th iteration.</p>\n<h2>Some valid questions</h2>\n<p>There are few aspects of this algorithm that I haven't covered in this post. Let me leave you with some of these aspects in the form of questions:</p>\n<ol>\n<li>Is the while loop of <em>cycler</em> function guaranteed to terminate?</li>\n<li>Why should we not cover a value more than once?</li>\n<li>How can we handle the negative input values (if any)?</li>\n<li>Isn't a single cycle sufficient to cover all the values of the input_array. (Isn't a single call of the <em>cycler</em> function sufficient to cover all the values)?<br />\nHint: eg: 1 2 3 4 5 6 7, this example will lead to 3 cycles. (<em>cycler</em> function will be called thrice)</li>\n<li>What happens during a single call of cycler function?<br />\nHint: Every value which is the part of this cycle shifts to the place where it is supposed to be in the <em>correct_answer_array</em>. Once a value is at its correct place, it should not be disturbed again.</li>\n</ol>\n<p>Please visit the comments section at the bottom of <a href=\"https://www.geeksforgeeks.org/rearrange-array-maximum-minimum-form\" rel=\"nofollow noreferrer\">this page (GeeksforGeeks)</a> to see the dry run of the algorithm. Please make sure you read all of the comments by me because I have created a bit of mess there.</p>\n"},{"tags":[],"owner":{"account_id":15524669,"reputation":2739,"user_id":11199879,"display_name":"Kaplan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1612808375,"creation_date":1612628930,"answer_id":66079179,"question_id":61206959,"body_markdown":"*using lambda — doing the rearranging outside the original* `arr`&lt;br /&gt;\r\nO(n) time complexity\r\n\r\n    int[] arr = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };\r\n    int[] tmp = IntStream.range( 0, (arr.length + 1) / 2 )\r\n        .flatMap( n -&gt; IntStream.of( arr[arr.length - n - 1], arr[n] ) ).toArray();\r\n    System.arraycopy( tmp, 0, arr, 0, arr.length );\r\n\r\ngets for `arr`: `[11, 1, 10, 2, 9, 3, 8, 4, 7, 5, 6]`\r\n","title":"Rearrange Array Alternately","body":"<p><em>using lambda — doing the rearranging outside the original</em> <code>arr</code><br />\nO(n) time complexity</p>\n<pre><code>int[] arr = { 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11 };\nint[] tmp = IntStream.range( 0, (arr.length + 1) / 2 )\n    .flatMap( n -&gt; IntStream.of( arr[arr.length - n - 1], arr[n] ) ).toArray();\nSystem.arraycopy( tmp, 0, arr, 0, arr.length );\n</code></pre>\n<p>gets for <code>arr</code>: <code>[11, 1, 10, 2, 9, 3, 8, 4, 7, 5, 6]</code></p>\n"},{"tags":[],"owner":{"account_id":22110213,"reputation":21,"user_id":16365222,"display_name":"VIJAYA KUMAR"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1633750496,"creation_date":1633685400,"answer_id":69493615,"question_id":61206959,"body_markdown":"Given a sorted array of positive integers. Your task is to rearrange the array elements alternatively i.e first element should be max value, second should be min value, third should be second max, fourth should be second min and so on.\r\n\r\n\r\n```C#\r\n//c#\r\nusing System;\r\nusing System.Collections.Generic;\r\nusing System.Text;\r\n\r\nnamespace vijay\r\n{\r\n    class oddEven\r\n    {\r\n        public static void Main()\r\n        {\r\n            int n = Convert.ToInt32(Console.ReadLine());\r\n            int[] arr = new int[n];\r\n            for(int i=0;i&lt;n;i++)\r\n            arr[i]=Convert.ToInt32(Console.ReadLine());\r\n           // example input int[] arr = {8,7,6,5,4,3,2,1 };\r\n            Array.Sort(arr);           //sorting array\r\n            Array.Sort(arr);\r\n            int f = 1,f1=0;  \r\n            int[] dummy = new int[n];\r\n            int a = arr.Length / 2;\r\n            for(int i=0;i&lt;n;i++)\r\n            {\r\n               if(i&lt;a)                //first half add in even position \r\n                {\r\n                    dummy[f]=arr[i];\r\n                    f += 2;\r\n                }\r\n                else                 //second half add in odd positions\r\n                {\r\n                    dummy[f1] = arr[i];\r\n                    f1 += 2;\r\n                }\r\n            }\r\n            Console.WriteLine(&quot;\\n\\n\\n\\n&quot;);      //print the result\r\n            foreach(int q in dummy)\r\n            {\r\n                Console.WriteLine(q);\r\n\r\n            }\r\n\r\n        }\r\n    }\r\n}\r\n```\r\n\r\n```python\r\n//python\r\nlist=[2,5,8,9,4,6,7,1]\r\na=sorted(list)\r\nb=reversed(sorted(list))\r\nc=a[0:len(a)//2]\r\nd=a[len(a)//2:][::-1]\r\nfor i in range(len(c)):\r\n    print(d[i],end=&#39; &#39;)\r\n    print(c[i],end=&#39; &#39;)\r\n````\r\n\r\n\r\n   ","title":"Rearrange Array Alternately","body":"<p>Given a sorted array of positive integers. Your task is to rearrange the array elements alternatively i.e first element should be max value, second should be min value, third should be second max, fourth should be second min and so on.</p>\n<pre><code>//c#\nusing System;\nusing System.Collections.Generic;\nusing System.Text;\n\nnamespace vijay\n{\n    class oddEven\n    {\n        public static void Main()\n        {\n            int n = Convert.ToInt32(Console.ReadLine());\n            int[] arr = new int[n];\n            for(int i=0;i&lt;n;i++)\n            arr[i]=Convert.ToInt32(Console.ReadLine());\n           // example input int[] arr = {8,7,6,5,4,3,2,1 };\n            Array.Sort(arr);           //sorting array\n            Array.Sort(arr);\n            int f = 1,f1=0;  \n            int[] dummy = new int[n];\n            int a = arr.Length / 2;\n            for(int i=0;i&lt;n;i++)\n            {\n               if(i&lt;a)                //first half add in even position \n                {\n                    dummy[f]=arr[i];\n                    f += 2;\n                }\n                else                 //second half add in odd positions\n                {\n                    dummy[f1] = arr[i];\n                    f1 += 2;\n                }\n            }\n            Console.WriteLine(&quot;\\n\\n\\n\\n&quot;);      //print the result\n            foreach(int q in dummy)\n            {\n                Console.WriteLine(q);\n\n            }\n\n        }\n    }\n}\n</code></pre>\n<pre class=\"lang-py prettyprint-override\"><code>//python\nlist=[2,5,8,9,4,6,7,1]\na=sorted(list)\nb=reversed(sorted(list))\nc=a[0:len(a)//2]\nd=a[len(a)//2:][::-1]\nfor i in range(len(c)):\n    print(d[i],end=' ')\n    print(c[i],end=' ')\n</code></pre>\n"}],"owner":{"account_id":16897832,"reputation":61,"user_id":12219974,"display_name":"Heet Mehta"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6166,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"accepted_answer_id":61207454,"answer_count":5,"score":1,"last_activity_date":1633750496,"creation_date":1586864844,"question_id":61206959,"body_markdown":"Given a sorted array of positive integers. Your task is to rearrange  the array elements alternatively i.e first element should be max value, second should be min value, third should be second max, fourth should be second min and so on.\r\n\r\n    class RearrangeAlternate{\r\n    public void swapMax(int arr[], int i, int n){\r\n        int x = arr[i];\r\n        int j;\r\n        for(j = n-1; j&gt;i; j--){\r\n            if(arr[j] &gt; x){\r\n                break;\r\n            }\r\n        }\r\n        int temp = arr[i];\r\n        arr[i] = arr[j];\r\n        arr[j] = temp;\r\n    }\r\n    public void swapMin(int arr[], int i, int n){\r\n        int x = arr[i];\r\n        int j;\r\n        int res = n-1;\r\n        for(j = n-1; j&gt;i; j--){\r\n            if(arr[j] &lt; x){\r\n                if(arr[j] &lt; arr[res]){\r\n                    res = j;\r\n                }\r\n            }\r\n        }\r\n        int temp = arr[i];\r\n        arr[i] = arr[res];\r\n        arr[res] = temp;\r\n    }\r\n    public void rearrange(int arr[], int n){\r\n        for(int i = 0; i&lt;n; i++){\r\n            if(i%2 == 0){\r\n                swapMax(arr, i, n);\r\n            }\r\n            else swapMin(arr, i, n);\r\n        }\r\n    } \r\n    }\r\n## Please help me find the error ##\r\n&gt; It is showing wrong output for somecases.  \r\neg.   \r\n82  \r\n12 23 28 43 44 59 60 68 70 85 88 92 124 125 136 168 171 173 179 199 212 230 277 282 306 314 316 325 328 336 337 363 365 368 369 371 374 387 394 414 422 427 430 435 457 493 506 527 531 538 541 546 568 583 650 691 730 737 751 764 778 783 785 789 794 803 809 815 847 858 863 874 887 896 916 920 926 927 930 957 981 997  \r\n&lt;br/&gt;\r\nMy codes output: 997 12 981 23 957 28 930 43 927 44 926 59 920 60 916 68 896 70 887 85 874 88 863 92 858 124 847 125 815 136 809 168 803 171 794 173 789 179 785 199 783 212 778 230 764 277 751 282 737 306 730 314 691 316 650 325 568 328 527 336 506 337 430 363 374 369 541 365 583 368 531 371 493 387 538 394 457 414 435 422 546 427    \r\n&lt;br/&gt;\r\nAnswer: 997 12 981 23 957 28 930 43 927 44 926 59 920 60 916 68 896 70 887 85 874 88 863 92 858 124 847 125 815 136 809 168 803 171 794 173 789 179 785 199 783 212 778 230 764 277 751 282 737 306 730 314 691 316 650 325 583 328 568 336 546 337 541 363 538 365 531 368 527 369 506 371 493 374 457 387 435 394 430 414 427 422 \r\n","title":"Rearrange Array Alternately","body":"<p>Given a sorted array of positive integers. Your task is to rearrange  the array elements alternatively i.e first element should be max value, second should be min value, third should be second max, fourth should be second min and so on.</p>\n\n<pre><code>class RearrangeAlternate{\npublic void swapMax(int arr[], int i, int n){\n    int x = arr[i];\n    int j;\n    for(j = n-1; j&gt;i; j--){\n        if(arr[j] &gt; x){\n            break;\n        }\n    }\n    int temp = arr[i];\n    arr[i] = arr[j];\n    arr[j] = temp;\n}\npublic void swapMin(int arr[], int i, int n){\n    int x = arr[i];\n    int j;\n    int res = n-1;\n    for(j = n-1; j&gt;i; j--){\n        if(arr[j] &lt; x){\n            if(arr[j] &lt; arr[res]){\n                res = j;\n            }\n        }\n    }\n    int temp = arr[i];\n    arr[i] = arr[res];\n    arr[res] = temp;\n}\npublic void rearrange(int arr[], int n){\n    for(int i = 0; i&lt;n; i++){\n        if(i%2 == 0){\n            swapMax(arr, i, n);\n        }\n        else swapMin(arr, i, n);\n    }\n} \n}\n</code></pre>\n\n<h2>Please help me find the error</h2>\n\n<blockquote>\n  <p>It is showing wrong output for somecases.<br>\n  eg.<br>\n  82<br>\n  12 23 28 43 44 59 60 68 70 85 88 92 124 125 136 168 171 173 179 199 212 230 277 282 306 314 316 325 328 336 337 363 365 368 369 371 374 387 394 414 422 427 430 435 457 493 506 527 531 538 541 546 568 583 650 691 730 737 751 764 778 783 785 789 794 803 809 815 847 858 863 874 887 896 916 920 926 927 930 957 981 997<br>\n  <br/>\n  My codes output: 997 12 981 23 957 28 930 43 927 44 926 59 920 60 916 68 896 70 887 85 874 88 863 92 858 124 847 125 815 136 809 168 803 171 794 173 789 179 785 199 783 212 778 230 764 277 751 282 737 306 730 314 691 316 650 325 568 328 527 336 506 337 430 363 374 369 541 365 583 368 531 371 493 387 538 394 457 414 435 422 546 427<br>\n  <br/>\n  Answer: 997 12 981 23 957 28 930 43 927 44 926 59 920 60 916 68 896 70 887 85 874 88 863 92 858 124 847 125 815 136 809 168 803 171 794 173 789 179 785 199 783 212 778 230 764 277 751 282 737 306 730 314 691 316 650 325 583 328 568 336 546 337 541 363 538 365 531 368 527 369 506 371 493 374 457 387 435 394 430 414 427 422 </p>\n</blockquote>\n"},{"tags":["java","enums","extends"],"comments":[{"owner":{"account_id":19463513,"reputation":492,"user_id":14237276,"display_name":"Abel"},"score":0,"creation_date":1633746991,"post_id":69503314,"comment_id":122849357,"body_markdown":"code generator?","body":"code generator?"},{"owner":{"account_id":47283,"reputation":703817,"user_id":139985,"accept_rate":69,"display_name":"Stephen C"},"score":0,"creation_date":1633748589,"post_id":69503314,"comment_id":122849508,"body_markdown":"As you probably realized, and `enum` cannot `extend` anything, so the answer is that there is no way that is a good solution for *trivial* fields and methods like this.  The boilerplate overhead is too much.  But if the common functionality is significant there are ways; see the dup link.","body":"As you probably realized, and <code>enum</code> cannot <code>extend</code> anything, so the answer is that there is no way that is a good solution for <i>trivial</i> fields and methods like this.  The boilerplate overhead is too much.  But if the common functionality is significant there are ways; see the dup link."}],"owner":{"account_id":10237752,"reputation":1304,"user_id":7556091,"display_name":"progquester"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1633748351,"answer_count":0,"score":1,"last_activity_date":1633747505,"creation_date":1633746895,"question_id":69503314,"body_markdown":"Many types of enum used in my program. Most of them use special character or words beginning with numbers. So I have to add a string field and implment the constructor and toString fucntion for everyone.\r\n\r\n```java\r\npublic enum Money {\r\n   OneDollar(&quot;1$&quot;),\r\n   HundredDollars(&quot;100$&quot;);\r\n\r\n   private String value;\r\n   private Money(String value) {\r\n       this.value = value;\r\n   }\r\n   public String toString() {\r\n       return this.value;\r\n   }\r\n}\r\n```\r\n\r\nIs there a simple way to reuse the same field and functions?\r\n\r\n","title":"Is there a better way to extend Java Enum?","body":"<p>Many types of enum used in my program. Most of them use special character or words beginning with numbers. So I have to add a string field and implment the constructor and toString fucntion for everyone.</p>\n<pre class=\"lang-java prettyprint-override\"><code>public enum Money {\n   OneDollar(&quot;1$&quot;),\n   HundredDollars(&quot;100$&quot;);\n\n   private String value;\n   private Money(String value) {\n       this.value = value;\n   }\n   public String toString() {\n       return this.value;\n   }\n}\n</code></pre>\n<p>Is there a simple way to reuse the same field and functions?</p>\n"},{"tags":["java","android-studio","github","implementation"],"comments":[{"owner":{"account_id":20525751,"reputation":949,"user_id":15064224,"display_name":"Issa Khodadadi"},"score":0,"creation_date":1633244137,"post_id":69422694,"comment_id":122704273,"body_markdown":"did you add it to **app level** build.gradle?","body":"did you add it to <b>app level</b> build.gradle?"},{"owner":{"account_id":21764183,"reputation":1,"user_id":16068324,"display_name":"Денис Савченко"},"score":0,"creation_date":1633244475,"post_id":69422694,"comment_id":122704325,"body_markdown":"@mr1554 yes, I did","body":"@mr1554 yes, I did"}],"owner":{"account_id":21764183,"reputation":1,"user_id":16068324,"display_name":"Денис Савченко"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":272,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1633746278,"creation_date":1633243798,"question_id":69422694,"body_markdown":"I&#39;m working on a project and I have some problems with connecting [&quot;blurkit&quot;][1] library. I took implementation from GitHub and passed it to dependencies in `build.gradle`, but when I rebuild the project I have this message:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://github.com/CameraKit/blurkit-android\r\n  [2]: https://i.stack.imgur.com/4Mjhm.png","title":"I can&#39;t add &quot;blurkit&quot; library to my android studio project","body":"<p>I'm working on a project and I have some problems with connecting <a href=\"https://github.com/CameraKit/blurkit-android\" rel=\"nofollow noreferrer\">&quot;blurkit&quot;</a> library. I took implementation from GitHub and passed it to dependencies in <code>build.gradle</code>, but when I rebuild the project I have this message:</p>\n<p><a href=\"https://i.stack.imgur.com/4Mjhm.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/4Mjhm.png\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["python","java","tensorflow","keras","deeplearning4j"],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1633745440,"creation_date":1633745440,"answer_id":69503225,"question_id":69499861,"body_markdown":"This turned out to be an issue with cnn 1d import specifically. \r\n\r\nFor posterity, what was happening was the expected number of channels was actually twice the amount it was actually supposed to be. This was a bug and has been fixed.\r\n\r\nIt&#39;s been documented here:\r\nhttps://github.com/eclipse/deeplearning4j/issues/9476\r\n\r\nFix here: https://github.com/eclipse/deeplearning4j/pull/9477\r\n\r\nOnce this fix is merged, you may either use snapshots or as a workaround try our tensorflow import instead.","title":"DeepLearning4J: wrong shape of weights array","body":"<p>This turned out to be an issue with cnn 1d import specifically.</p>\n<p>For posterity, what was happening was the expected number of channels was actually twice the amount it was actually supposed to be. This was a bug and has been fixed.</p>\n<p>It's been documented here:\n<a href=\"https://github.com/eclipse/deeplearning4j/issues/9476\" rel=\"nofollow noreferrer\">https://github.com/eclipse/deeplearning4j/issues/9476</a></p>\n<p>Fix here: <a href=\"https://github.com/eclipse/deeplearning4j/pull/9477\" rel=\"nofollow noreferrer\">https://github.com/eclipse/deeplearning4j/pull/9477</a></p>\n<p>Once this fix is merged, you may either use snapshots or as a workaround try our tensorflow import instead.</p>\n"}],"owner":{"account_id":18702174,"reputation":1,"user_id":13634167,"display_name":"puchioholic"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":206,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1633745440,"creation_date":1633715188,"question_id":69499861,"body_markdown":"I have a model that was constructed and trained with Tensorflow in Python, and I need to use it in Java with Eclipse. Its configuration looks as follows:\r\n\r\n```\r\n### define model\r\nmodel = keras.Sequential()\r\n\r\n## leakage of the leaky relu\r\nLRU = 0.01\r\n\r\n### the first set of convolutional layers\r\nmodel.add(keras.layers.Conv1D(filters=6, kernel_size=2, strides=1, padding=&quot;same&quot;, input_shape=(6, 1)))\r\nmodel.add(keras.layers.LeakyReLU(LRU))\r\nmodel.add(keras.layers.MaxPooling1D(pool_size=2, strides=1))\r\nmodel.add(keras.layers.Conv1D(filters=12, kernel_size=2, strides=1, padding=&quot;same&quot;))\r\nmodel.add(keras.layers.LeakyReLU(LRU))\r\nmodel.add(keras.layers.MaxPooling1D(pool_size=2, strides=1))\r\nmodel.add(keras.layers.Conv1D(filters=24, kernel_size=2, strides=1, padding=&quot;same&quot;))\r\nmodel.add(keras.layers.LeakyReLU(LRU))\r\nmodel.add(keras.layers.MaxPooling1D(pool_size=2, strides=1))\r\nmodel.add(keras.layers.Conv1D(filters=48, kernel_size=2, strides=1, padding=&quot;same&quot;))\r\nmodel.add(keras.layers.LeakyReLU(LRU))\r\nmodel.add(keras.layers.MaxPooling1D(pool_size=2, strides=1))\r\n\r\n### the second set of convolutional layers\r\nmodel.add(keras.layers.Conv1D(filters=24, kernel_size=2, strides=1, padding=&quot;same&quot;))\r\nmodel.add(keras.layers.LeakyReLU(LRU))\r\nmodel.add(keras.layers.Dropout(0.02))\r\nmodel.add(keras.layers.Conv1D(filters=12, kernel_size=2, strides=1, padding=&quot;same&quot;))\r\nmodel.add(keras.layers.LeakyReLU(LRU))\r\nmodel.add(keras.layers.Dropout(0.01))\r\nmodel.add(keras.layers.Conv1D(filters=6, kernel_size=2, strides=1, padding=&quot;same&quot;))\r\nmodel.add(keras.layers.LeakyReLU(LRU))\r\n\r\nmodel.add(keras.layers.Flatten())\r\n```\r\nFor better readability, the output of `model.summary()` is:\r\n```\r\nModel: &quot;sequential&quot;\r\n_________________________________________________________________\r\nLayer (type)                 Output Shape              Param #   \r\n=================================================================\r\nconv1d (Conv1D)              (None, 6, 6)              18        \r\n_________________________________________________________________\r\nleaky_re_lu (LeakyReLU)      (None, 6, 6)              0         \r\n_________________________________________________________________\r\nmax_pooling1d (MaxPooling1D) (None, 5, 6)              0         \r\n_________________________________________________________________\r\nconv1d_1 (Conv1D)            (None, 5, 12)             156       \r\n_________________________________________________________________\r\nleaky_re_lu_1 (LeakyReLU)    (None, 5, 12)             0         \r\n_________________________________________________________________\r\nmax_pooling1d_1 (MaxPooling1 (None, 4, 12)             0         \r\n_________________________________________________________________\r\nconv1d_2 (Conv1D)            (None, 4, 24)             600       \r\n_________________________________________________________________\r\nleaky_re_lu_2 (LeakyReLU)    (None, 4, 24)             0         \r\n_________________________________________________________________\r\nmax_pooling1d_2 (MaxPooling1 (None, 3, 24)             0         \r\n_________________________________________________________________\r\nconv1d_3 (Conv1D)            (None, 3, 48)             2352      \r\n_________________________________________________________________\r\nleaky_re_lu_3 (LeakyReLU)    (None, 3, 48)             0         \r\n_________________________________________________________________\r\nmax_pooling1d_3 (MaxPooling1 (None, 2, 48)             0         \r\n_________________________________________________________________\r\nconv1d_4 (Conv1D)            (None, 2, 24)             2328      \r\n_________________________________________________________________\r\nleaky_re_lu_4 (LeakyReLU)    (None, 2, 24)             0         \r\n_________________________________________________________________\r\ndropout (Dropout)            (None, 2, 24)             0         \r\n_________________________________________________________________\r\nconv1d_5 (Conv1D)            (None, 2, 12)             588       \r\n_________________________________________________________________\r\nleaky_re_lu_5 (LeakyReLU)    (None, 2, 12)             0         \r\n_________________________________________________________________\r\ndropout_1 (Dropout)          (None, 2, 12)             0         \r\n_________________________________________________________________\r\nconv1d_6 (Conv1D)            (None, 2, 6)              150       \r\n_________________________________________________________________\r\nleaky_re_lu_6 (LeakyReLU)    (None, 2, 6)              0         \r\n_________________________________________________________________\r\nflatten (Flatten)            (None, 12)                0         \r\n=================================================================\r\nTotal params: 6,192\r\nTrainable params: 6,192\r\nNon-trainable params: 0\r\n```\r\n\r\nI saved the trained model with `model.save(&#39;my_model.h5&#39;)`. In Eclipse I am using *DeepLearning4J* as it provides keras features. I load the model with \r\n\r\n```\r\nMultiLayerNetwork model = KerasModelImport.importKerasSequentialModelAndWeights(&#39;my_model.h5&#39;);\r\n```\r\nThe output of `model.summary()` in Eclipse is:\r\n```\r\n=======================================================================================\r\nLayerName (LayerType)                  nIn,nOut   TotalParams   ParamsShape            \r\n=======================================================================================\r\nconv1d (Convolution1DLayer)            1,6        18            b:{1,6}, W:{6,1,2,1}   \r\nleaky_re_lu (ActivationLayer)          -,-        0             -                      \r\nmax_pooling1d (Subsampling1DLayer)     -,-        0             -                      \r\nconv1d_1 (Convolution1DLayer)          6,12       156           b:{1,12}, W:{12,6,2,1} \r\nleaky_re_lu_1 (ActivationLayer)        -,-        0             -                      \r\nmax_pooling1d_1 (Subsampling1DLayer)   -,-        0             -                      \r\nconv1d_2 (Convolution1DLayer)          12,24      600           b:{1,24}, W:{24,12,2,1}\r\nleaky_re_lu_2 (ActivationLayer)        -,-        0             -                      \r\nmax_pooling1d_2 (Subsampling1DLayer)   -,-        0             -                      \r\nconv1d_3 (Convolution1DLayer)          24,48      2,352         b:{1,48}, W:{48,24,2,1}\r\nleaky_re_lu_3 (ActivationLayer)        -,-        0             -                      \r\nmax_pooling1d_3 (Subsampling1DLayer)   -,-        0             -                      \r\nconv1d_4 (Convolution1DLayer)          48,24      2,328         b:{1,24}, W:{24,48,2,1}\r\nleaky_re_lu_4 (ActivationLayer)        -,-        0             -                      \r\ndropout (DropoutLayer)                 -,-        0             -                      \r\nconv1d_5 (Convolution1DLayer)          24,12      588           b:{1,12}, W:{12,24,2,1}\r\nleaky_re_lu_5 (ActivationLayer)        -,-        0             -                      \r\ndropout_1 (DropoutLayer)               -,-        0             -                      \r\nconv1d_6 (Convolution1DLayer)          12,6       150           b:{1,6}, W:{6,12,2,1}  \r\nleaky_re_lu_6 (ActivationLayer)        -,-        0             -                      \r\nflatten_loss (LossLayer)               -,-        0             -                      \r\n---------------------------------------------------------------------------------------\r\n            Total Parameters:  6,192\r\n        Trainable Parameters:  6,192\r\n           Frozen Parameters:  0\r\n=======================================================================================\r\n```\r\nNow I am trying to use the network for prediction at one specific input (the required  shape using 1 input is (1,6,1) by construction):\r\n```\r\nINDArray input = Nd4j.create(new double[][][] {{{0.0702},{0.1191},{0.1702},{0.1310},{0.2248},{0.3205}}});\r\n``` \r\nRunning the command\r\n```\r\nINDArray output = model.output(input,false);\r\n```\r\nnow causes the following error:\r\n```\r\nError at [/home/runner/work/deeplearning4j/deeplearning4j/libnd4j/include/ops/declarable/generic/nn/convo/conv1d.cpp:70:0]:\r\nCUSTOM CONV1D OP: wrong shape of weights array, expected is [2, 3, 12], but got [2, 6, 12] instead !\r\nException in thread &quot;main&quot; 14:04:45.925 [main] ERROR org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner - Failed to execute op conv1d. Attempted to execute with 3 inputs, 1 outputs, 0 targs,0 bargs and 6 iargs. Inputs: [(FLOAT,[1,3,5],c), (FLOAT,[2,6,12],c), (FLOAT,[12],c)]. Outputs: [(FLOAT,[1,12,5],c)]. tArgs: -. iArgs: [2, 1, 0, 1, 1, 0]. bArgs: -. Op own name: &quot;d3142824-92ad-41c4-99e0-1111f4f75a5f&quot; - Please see above message (printed out from c++) for a possible cause of error.\r\n```\r\nI really can&#39;t wrap my head around why it expects weights of shape is [2, 3, 12]? That appears nowhere in the `summary()` command...\r\n\r\nDoes anyone have an idea about what is going wrong here?\r\n\r\n\r\nEDIT: I tried to do the same in Python and everything seems to work:\r\n```\r\nimport tensorflow as tf\r\nimport pandas as pd\r\nimport numpy as np\r\n\r\ninput = np.array(0.0702,0.1191,0.1702,0.1310,0.2248,0.3205)\r\ninput = input.reshape((1,6,1))\r\n\r\nmodel = tf.keras.models.load_model(&#39;my_model.h5&#39;)\r\nmodel.predict(input)\r\n```\r\ngives the output\r\n```\r\narray([[0.01571162, 0.02778796, 0.07743346, 0.1355067 , 0.19171888,\r\n        0.25232363, 0.32630318, 0.3799559 , 0.42786202, 0.46094775,\r\n        0.50001675, 0.54188776]], dtype=float32)\r\n```","title":"DeepLearning4J: wrong shape of weights array","body":"<p>I have a model that was constructed and trained with Tensorflow in Python, and I need to use it in Java with Eclipse. Its configuration looks as follows:</p>\n<pre><code>### define model\nmodel = keras.Sequential()\n\n## leakage of the leaky relu\nLRU = 0.01\n\n### the first set of convolutional layers\nmodel.add(keras.layers.Conv1D(filters=6, kernel_size=2, strides=1, padding=&quot;same&quot;, input_shape=(6, 1)))\nmodel.add(keras.layers.LeakyReLU(LRU))\nmodel.add(keras.layers.MaxPooling1D(pool_size=2, strides=1))\nmodel.add(keras.layers.Conv1D(filters=12, kernel_size=2, strides=1, padding=&quot;same&quot;))\nmodel.add(keras.layers.LeakyReLU(LRU))\nmodel.add(keras.layers.MaxPooling1D(pool_size=2, strides=1))\nmodel.add(keras.layers.Conv1D(filters=24, kernel_size=2, strides=1, padding=&quot;same&quot;))\nmodel.add(keras.layers.LeakyReLU(LRU))\nmodel.add(keras.layers.MaxPooling1D(pool_size=2, strides=1))\nmodel.add(keras.layers.Conv1D(filters=48, kernel_size=2, strides=1, padding=&quot;same&quot;))\nmodel.add(keras.layers.LeakyReLU(LRU))\nmodel.add(keras.layers.MaxPooling1D(pool_size=2, strides=1))\n\n### the second set of convolutional layers\nmodel.add(keras.layers.Conv1D(filters=24, kernel_size=2, strides=1, padding=&quot;same&quot;))\nmodel.add(keras.layers.LeakyReLU(LRU))\nmodel.add(keras.layers.Dropout(0.02))\nmodel.add(keras.layers.Conv1D(filters=12, kernel_size=2, strides=1, padding=&quot;same&quot;))\nmodel.add(keras.layers.LeakyReLU(LRU))\nmodel.add(keras.layers.Dropout(0.01))\nmodel.add(keras.layers.Conv1D(filters=6, kernel_size=2, strides=1, padding=&quot;same&quot;))\nmodel.add(keras.layers.LeakyReLU(LRU))\n\nmodel.add(keras.layers.Flatten())\n</code></pre>\n<p>For better readability, the output of <code>model.summary()</code> is:</p>\n<pre><code>Model: &quot;sequential&quot;\n_________________________________________________________________\nLayer (type)                 Output Shape              Param #   \n=================================================================\nconv1d (Conv1D)              (None, 6, 6)              18        \n_________________________________________________________________\nleaky_re_lu (LeakyReLU)      (None, 6, 6)              0         \n_________________________________________________________________\nmax_pooling1d (MaxPooling1D) (None, 5, 6)              0         \n_________________________________________________________________\nconv1d_1 (Conv1D)            (None, 5, 12)             156       \n_________________________________________________________________\nleaky_re_lu_1 (LeakyReLU)    (None, 5, 12)             0         \n_________________________________________________________________\nmax_pooling1d_1 (MaxPooling1 (None, 4, 12)             0         \n_________________________________________________________________\nconv1d_2 (Conv1D)            (None, 4, 24)             600       \n_________________________________________________________________\nleaky_re_lu_2 (LeakyReLU)    (None, 4, 24)             0         \n_________________________________________________________________\nmax_pooling1d_2 (MaxPooling1 (None, 3, 24)             0         \n_________________________________________________________________\nconv1d_3 (Conv1D)            (None, 3, 48)             2352      \n_________________________________________________________________\nleaky_re_lu_3 (LeakyReLU)    (None, 3, 48)             0         \n_________________________________________________________________\nmax_pooling1d_3 (MaxPooling1 (None, 2, 48)             0         \n_________________________________________________________________\nconv1d_4 (Conv1D)            (None, 2, 24)             2328      \n_________________________________________________________________\nleaky_re_lu_4 (LeakyReLU)    (None, 2, 24)             0         \n_________________________________________________________________\ndropout (Dropout)            (None, 2, 24)             0         \n_________________________________________________________________\nconv1d_5 (Conv1D)            (None, 2, 12)             588       \n_________________________________________________________________\nleaky_re_lu_5 (LeakyReLU)    (None, 2, 12)             0         \n_________________________________________________________________\ndropout_1 (Dropout)          (None, 2, 12)             0         \n_________________________________________________________________\nconv1d_6 (Conv1D)            (None, 2, 6)              150       \n_________________________________________________________________\nleaky_re_lu_6 (LeakyReLU)    (None, 2, 6)              0         \n_________________________________________________________________\nflatten (Flatten)            (None, 12)                0         \n=================================================================\nTotal params: 6,192\nTrainable params: 6,192\nNon-trainable params: 0\n</code></pre>\n<p>I saved the trained model with <code>model.save('my_model.h5')</code>. In Eclipse I am using <em>DeepLearning4J</em> as it provides keras features. I load the model with</p>\n<pre><code>MultiLayerNetwork model = KerasModelImport.importKerasSequentialModelAndWeights('my_model.h5');\n</code></pre>\n<p>The output of <code>model.summary()</code> in Eclipse is:</p>\n<pre><code>=======================================================================================\nLayerName (LayerType)                  nIn,nOut   TotalParams   ParamsShape            \n=======================================================================================\nconv1d (Convolution1DLayer)            1,6        18            b:{1,6}, W:{6,1,2,1}   \nleaky_re_lu (ActivationLayer)          -,-        0             -                      \nmax_pooling1d (Subsampling1DLayer)     -,-        0             -                      \nconv1d_1 (Convolution1DLayer)          6,12       156           b:{1,12}, W:{12,6,2,1} \nleaky_re_lu_1 (ActivationLayer)        -,-        0             -                      \nmax_pooling1d_1 (Subsampling1DLayer)   -,-        0             -                      \nconv1d_2 (Convolution1DLayer)          12,24      600           b:{1,24}, W:{24,12,2,1}\nleaky_re_lu_2 (ActivationLayer)        -,-        0             -                      \nmax_pooling1d_2 (Subsampling1DLayer)   -,-        0             -                      \nconv1d_3 (Convolution1DLayer)          24,48      2,352         b:{1,48}, W:{48,24,2,1}\nleaky_re_lu_3 (ActivationLayer)        -,-        0             -                      \nmax_pooling1d_3 (Subsampling1DLayer)   -,-        0             -                      \nconv1d_4 (Convolution1DLayer)          48,24      2,328         b:{1,24}, W:{24,48,2,1}\nleaky_re_lu_4 (ActivationLayer)        -,-        0             -                      \ndropout (DropoutLayer)                 -,-        0             -                      \nconv1d_5 (Convolution1DLayer)          24,12      588           b:{1,12}, W:{12,24,2,1}\nleaky_re_lu_5 (ActivationLayer)        -,-        0             -                      \ndropout_1 (DropoutLayer)               -,-        0             -                      \nconv1d_6 (Convolution1DLayer)          12,6       150           b:{1,6}, W:{6,12,2,1}  \nleaky_re_lu_6 (ActivationLayer)        -,-        0             -                      \nflatten_loss (LossLayer)               -,-        0             -                      \n---------------------------------------------------------------------------------------\n            Total Parameters:  6,192\n        Trainable Parameters:  6,192\n           Frozen Parameters:  0\n=======================================================================================\n</code></pre>\n<p>Now I am trying to use the network for prediction at one specific input (the required  shape using 1 input is (1,6,1) by construction):</p>\n<pre><code>INDArray input = Nd4j.create(new double[][][] {{{0.0702},{0.1191},{0.1702},{0.1310},{0.2248},{0.3205}}});\n</code></pre>\n<p>Running the command</p>\n<pre><code>INDArray output = model.output(input,false);\n</code></pre>\n<p>now causes the following error:</p>\n<pre><code>Error at [/home/runner/work/deeplearning4j/deeplearning4j/libnd4j/include/ops/declarable/generic/nn/convo/conv1d.cpp:70:0]:\nCUSTOM CONV1D OP: wrong shape of weights array, expected is [2, 3, 12], but got [2, 6, 12] instead !\nException in thread &quot;main&quot; 14:04:45.925 [main] ERROR org.nd4j.linalg.cpu.nativecpu.ops.NativeOpExecutioner - Failed to execute op conv1d. Attempted to execute with 3 inputs, 1 outputs, 0 targs,0 bargs and 6 iargs. Inputs: [(FLOAT,[1,3,5],c), (FLOAT,[2,6,12],c), (FLOAT,[12],c)]. Outputs: [(FLOAT,[1,12,5],c)]. tArgs: -. iArgs: [2, 1, 0, 1, 1, 0]. bArgs: -. Op own name: &quot;d3142824-92ad-41c4-99e0-1111f4f75a5f&quot; - Please see above message (printed out from c++) for a possible cause of error.\n</code></pre>\n<p>I really can't wrap my head around why it expects weights of shape is [2, 3, 12]? That appears nowhere in the <code>summary()</code> command...</p>\n<p>Does anyone have an idea about what is going wrong here?</p>\n<p>EDIT: I tried to do the same in Python and everything seems to work:</p>\n<pre><code>import tensorflow as tf\nimport pandas as pd\nimport numpy as np\n\ninput = np.array(0.0702,0.1191,0.1702,0.1310,0.2248,0.3205)\ninput = input.reshape((1,6,1))\n\nmodel = tf.keras.models.load_model('my_model.h5')\nmodel.predict(input)\n</code></pre>\n<p>gives the output</p>\n<pre><code>array([[0.01571162, 0.02778796, 0.07743346, 0.1355067 , 0.19171888,\n        0.25232363, 0.32630318, 0.3799559 , 0.42786202, 0.46094775,\n        0.50001675, 0.54188776]], dtype=float32)\n</code></pre>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8033,"page":1959,"page_size":100}
