{"items":[{"tags":["java","multidimensional-array","neural-network","deep-learning","deeplearning4j"],"comments":[{"owner":{"account_id":3243989,"reputation":444,"user_id":2736155,"accept_rate":100,"display_name":"racknuf"},"score":0,"creation_date":1516923208,"post_id":48441911,"comment_id":83900232,"body_markdown":"Please ask your question on the DL4J support channel: gitter.im/deeplearning4j/deeplearning4j","body":"Please ask your question on the DL4J support channel: gitter.im/deeplearning4j/deeplearning4j"}],"answers":[{"tags":[],"owner":{"account_id":6647858,"reputation":3100,"user_id":5131255,"display_name":"Adam Gibson"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658506394,"creation_date":1516928122,"answer_id":48454321,"question_id":48441911,"body_markdown":"Edit:\r\nNote that this message is 4 years old and the repositories have all  moved to a mono repo here: https://github.com/eclipse/deeplearning4j\r\n\r\nFor the extracted features, Nd4j has a PCA you can use:\r\nhttps://github.com/eclipse/deeplearning4j/blob/master/nd4j/nd4j-backends/nd4j-api-parent/nd4j-api/src/main/java/org/nd4j/linalg/dimensionalityreduction/PCA.java\r\n\r\nThat&#39;s kind of redundant though. I would consider just directly using transfer learning instead. You don&#39;t have to do any of this manually. \r\nSee the docs here for more examples:\r\nhttps://github.com/eclipse/deeplearning4j-examples/blob/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/advanced/features/transferlearning/README.md\r\n\r\nThe transfer learning api will give you what you need for using pretrained models while modifying them only to use a different output layer. We even cover this with VGG16 right in the example above.","title":"Extracting features from deeplearning4j layer","body":"<p>Edit:\nNote that this message is 4 years old and the repositories have all  moved to a mono repo here: <a href=\"https://github.com/eclipse/deeplearning4j\" rel=\"nofollow noreferrer\">https://github.com/eclipse/deeplearning4j</a></p>\n<p>For the extracted features, Nd4j has a PCA you can use:\n<a href=\"https://github.com/eclipse/deeplearning4j/blob/master/nd4j/nd4j-backends/nd4j-api-parent/nd4j-api/src/main/java/org/nd4j/linalg/dimensionalityreduction/PCA.java\" rel=\"nofollow noreferrer\">https://github.com/eclipse/deeplearning4j/blob/master/nd4j/nd4j-backends/nd4j-api-parent/nd4j-api/src/main/java/org/nd4j/linalg/dimensionalityreduction/PCA.java</a></p>\n<p>That's kind of redundant though. I would consider just directly using transfer learning instead. You don't have to do any of this manually.\nSee the docs here for more examples:\n<a href=\"https://github.com/eclipse/deeplearning4j-examples/blob/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/advanced/features/transferlearning/README.md\" rel=\"nofollow noreferrer\">https://github.com/eclipse/deeplearning4j-examples/blob/master/dl4j-examples/src/main/java/org/deeplearning4j/examples/advanced/features/transferlearning/README.md</a></p>\n<p>The transfer learning api will give you what you need for using pretrained models while modifying them only to use a different output layer. We even cover this with VGG16 right in the example above.</p>\n"}],"owner":{"account_id":2307352,"reputation":1144,"user_id":2026366,"accept_rate":92,"display_name":"arocketman"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":808,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48454321,"answer_count":1,"score":2,"last_activity_date":1658506394,"creation_date":1516880119,"question_id":48441911,"body_markdown":"I am trying to extract the layer activations to save them locally as features. \r\nI&#39;m still new to CNNs so I&#39;d like to show what I did and I&#39;d like to know if what I&#39;m doing is correct:\r\n\r\n    public static void main(String[] args) throws IOException {\r\n        ComputationGraph vgg16transfer = getComputationGraph();\r\n\r\n        for (File file : new File(ImageClassifier.class.getClassLoader().getResource(&quot;mydirectory&quot;).getFile()).listFiles()) {\r\n            Map&lt;String, INDArray&gt; stringINDArrayMap = extractTwo(file, vgg16transfer);\r\n            //Extract the features from the last fully connected layers\r\n            saveCompressed(file,stringINDArrayMap.get(&quot;fc2&quot;));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Retrieves the VGG16 computation graph\r\n     * @return ComputationGraph from the pretrained VGG16\r\n     * @throws IOException\r\n     */\r\n    public static ComputationGraph getComputationGraph() throws IOException {\r\n        ZooModel zooModel = new VGG16();\r\n        return (ComputationGraph) zooModel.initPretrained(PretrainedType.IMAGENET);\r\n    }\r\n\r\n    /**\r\n     * Compresses the input INDArray and writes it to file\r\n     * @param imageFile the original image file\r\n     * @param array INDArray to be saved (features)\r\n     * @throws IOException\r\n     */\r\n    private static void saveCompressed(File imageFile, INDArray array) throws IOException {\r\n        INDArray compress = BasicNDArrayCompressor.getInstance().compress(array);\r\n        Nd4j.write(compress,new DataOutputStream(new FileOutputStream(new File(&quot;features/&quot; + imageFile.getName()+ &quot;feat&quot;))));\r\n    }\r\n\r\n    /**\r\n     * Given an input image and a ComputationGraph it calls the feedForward method after rescaling the image.\r\n     * @param imageFile the image whose features need to be extracted \r\n     * @param vgg16 the ComputationGraph to be used.\r\n     * @return a map of activations for each layer\r\n     * @throws IOException\r\n     */\r\n    public static Map&lt;String, INDArray&gt; extractTwo(File imageFile, ComputationGraph vgg16) throws IOException {\r\n        // Convert file to INDArray\r\n        NativeImageLoader loader = new NativeImageLoader(224, 224, 3);\r\n        INDArray image = loader.asMatrix(imageFile);\r\n\r\n        // Mean subtraction pre-processing step for VGG\r\n        DataNormalization scaler = new VGG16ImagePreProcessor();\r\n        scaler.transform(image);\r\n\r\n        //Call the feedForward method to get a map of activations for each layer\r\n        return vgg16.feedForward(image, false);\r\n    }\r\n\r\nSo basically I am calling the feedForward method and obtaining the activations from the fc2 layer.\r\n\r\nI have several questions about this: \r\n\r\n1) Is the code I wrote indeed extracting features that can be saved and stored for further usages?\r\n\r\n2) How would I go about doing PCA/Whitening on the extracted features?\r\n\r\n3) Is there any way I could encode this to VLAD as proposed but such paper: https://arxiv.org/pdf/1707.00058.pdf\r\n\r\n4) I then would like to compare the saved features, I did so using a simple Euclidean distance and it seems to be working although results are not the best. Is there some kind of pre-processing I should do or are the saved features directly comparable?\r\n\r\nThanks.","title":"Extracting features from deeplearning4j layer","body":"<p>I am trying to extract the layer activations to save them locally as features. \nI'm still new to CNNs so I'd like to show what I did and I'd like to know if what I'm doing is correct:</p>\n\n<pre><code>public static void main(String[] args) throws IOException {\n    ComputationGraph vgg16transfer = getComputationGraph();\n\n    for (File file : new File(ImageClassifier.class.getClassLoader().getResource(\"mydirectory\").getFile()).listFiles()) {\n        Map&lt;String, INDArray&gt; stringINDArrayMap = extractTwo(file, vgg16transfer);\n        //Extract the features from the last fully connected layers\n        saveCompressed(file,stringINDArrayMap.get(\"fc2\"));\n    }\n}\n\n/**\n * Retrieves the VGG16 computation graph\n * @return ComputationGraph from the pretrained VGG16\n * @throws IOException\n */\npublic static ComputationGraph getComputationGraph() throws IOException {\n    ZooModel zooModel = new VGG16();\n    return (ComputationGraph) zooModel.initPretrained(PretrainedType.IMAGENET);\n}\n\n/**\n * Compresses the input INDArray and writes it to file\n * @param imageFile the original image file\n * @param array INDArray to be saved (features)\n * @throws IOException\n */\nprivate static void saveCompressed(File imageFile, INDArray array) throws IOException {\n    INDArray compress = BasicNDArrayCompressor.getInstance().compress(array);\n    Nd4j.write(compress,new DataOutputStream(new FileOutputStream(new File(\"features/\" + imageFile.getName()+ \"feat\"))));\n}\n\n/**\n * Given an input image and a ComputationGraph it calls the feedForward method after rescaling the image.\n * @param imageFile the image whose features need to be extracted \n * @param vgg16 the ComputationGraph to be used.\n * @return a map of activations for each layer\n * @throws IOException\n */\npublic static Map&lt;String, INDArray&gt; extractTwo(File imageFile, ComputationGraph vgg16) throws IOException {\n    // Convert file to INDArray\n    NativeImageLoader loader = new NativeImageLoader(224, 224, 3);\n    INDArray image = loader.asMatrix(imageFile);\n\n    // Mean subtraction pre-processing step for VGG\n    DataNormalization scaler = new VGG16ImagePreProcessor();\n    scaler.transform(image);\n\n    //Call the feedForward method to get a map of activations for each layer\n    return vgg16.feedForward(image, false);\n}\n</code></pre>\n\n<p>So basically I am calling the feedForward method and obtaining the activations from the fc2 layer.</p>\n\n<p>I have several questions about this: </p>\n\n<p>1) Is the code I wrote indeed extracting features that can be saved and stored for further usages?</p>\n\n<p>2) How would I go about doing PCA/Whitening on the extracted features?</p>\n\n<p>3) Is there any way I could encode this to VLAD as proposed but such paper: <a href=\"https://arxiv.org/pdf/1707.00058.pdf\" rel=\"nofollow noreferrer\">https://arxiv.org/pdf/1707.00058.pdf</a></p>\n\n<p>4) I then would like to compare the saved features, I did so using a simple Euclidean distance and it seems to be working although results are not the best. Is there some kind of pre-processing I should do or are the saved features directly comparable?</p>\n\n<p>Thanks.</p>\n"},{"tags":["java","spring","spring-webflux","project-reactor"],"comments":[{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1658425478,"post_id":73070235,"comment_id":129054524,"body_markdown":"Does this answer your question? [Java + Reactor: Http call for each record](https://stackoverflow.com/questions/52122729/java-reactor-http-call-for-each-record)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/52122729/java-reactor-http-call-for-each-record\">Java + Reactor: Http call for each record</a>"},{"owner":{"account_id":5144870,"reputation":210,"user_id":4121141,"display_name":"kimi86"},"score":0,"creation_date":1658426322,"post_id":73070235,"comment_id":129054788,"body_markdown":"No. I can only get back all data at once. Fetch for each record from external service one by one will be a huge performance issue","body":"No. I can only get back all data at once. Fetch for each record from external service one by one will be a huge performance issue"},{"owner":{"account_id":2064278,"reputation":13129,"user_id":1840146,"accept_rate":86,"display_name":"Toerktumlare"},"score":0,"creation_date":1658428745,"post_id":73070235,"comment_id":129055573,"body_markdown":"read the solution, not the question, the answer is right there. the solution is literally in the FIRST SENTENCE of the answer.","body":"read the solution, not the question, the answer is right there. the solution is literally in the FIRST SENTENCE of the answer."},{"owner":{"account_id":5144870,"reputation":210,"user_id":4121141,"display_name":"kimi86"},"score":0,"creation_date":1658429536,"post_id":73070235,"comment_id":129055772,"body_markdown":"u mean using flatmap?  Can please explain how to use it in my scenario please?","body":"u mean using flatmap?  Can please explain how to use it in my scenario please?"},{"owner":{"account_id":5144870,"reputation":210,"user_id":4121141,"display_name":"kimi86"},"score":0,"creation_date":1658430374,"post_id":73070235,"comment_id":129056029,"body_markdown":"in the other post you pointed to me the answer uses 2 flux. In my case I have a flux and a list. Can tell me how flatmap can be used here then? And what is that sampleFlux?","body":"in the other post you pointed to me the answer uses 2 flux. In my case I have a flux and a list. Can tell me how flatmap can be used here then? And what is that sampleFlux?"}],"answers":[{"tags":[],"owner":{"account_id":5144870,"reputation":210,"user_id":4121141,"display_name":"kimi86"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658506229,"creation_date":1658506229,"answer_id":73083224,"question_id":73070235,"body_markdown":"This is what i learnt\r\n\r\n1. If you are trying to return List&lt;Students&gt; from the function that does this operation then this is a bad design as we should never try to combine reactive and non reactive code unless we are at the very end of our processing\r\n\r\n    \r\n   \r\n\r\n    //dont do this\r\n    Map&lt;Integer,Integer&gt; listStudents combineMarks(List&lt;Student&gt; listStudents)\r\n    {\r\n    }\r\n\r\nDo this instead\r\n\r\n    Mono&lt;Map&lt;Integer,Integer&gt;&gt; listStudents combineMarks(List&lt;Student&gt; listStudents)\r\n    {\r\n      Flux&lt;Marks&gt; fluxMarks = externalService.getAllMarks();\r\n         return fluxMarks.collectList()\r\n                   .zipWith(Mono.just(listStudents))\r\n                   .map(turple -&gt; {\r\n                          List&lt;Marks&gt; listMarks = turple.getT1();\r\n                          List&lt;Student&gt; listStudent = turple.getT2();\r\n                          Map&lt;Integer,Integer&gt; mapIdMarks = new HashMap&lt;&gt;();\r\n    \r\n                         //now you have all the infomation in listMarks and listStudent to create Map&lt;Integer,Integer&gt; mapIdMarks = new HashMap&lt;&gt; here\r\n    });\r\n    \r\n    }\r\n\r\n\r\n\r\n\r\n","title":"Collecting information from Flux","body":"<p>This is what i learnt</p>\n<ol>\n<li><p>If you are trying to return List from the function that does this operation then this is a bad design as we should never try to combine reactive and non reactive code unless we are at the very end of our processing</p>\n<p>//dont do this\nMap&lt;Integer,Integer&gt; listStudents combineMarks(List listStudents)\n{\n}</p>\n</li>\n</ol>\n<p>Do this instead</p>\n<pre><code>Mono&lt;Map&lt;Integer,Integer&gt;&gt; listStudents combineMarks(List&lt;Student&gt; listStudents)\n{\n  Flux&lt;Marks&gt; fluxMarks = externalService.getAllMarks();\n     return fluxMarks.collectList()\n               .zipWith(Mono.just(listStudents))\n               .map(turple -&gt; {\n                      List&lt;Marks&gt; listMarks = turple.getT1();\n                      List&lt;Student&gt; listStudent = turple.getT2();\n                      Map&lt;Integer,Integer&gt; mapIdMarks = new HashMap&lt;&gt;();\n\n                     //now you have all the infomation in listMarks and listStudent to create Map&lt;Integer,Integer&gt; mapIdMarks = new HashMap&lt;&gt; here\n});\n\n}\n</code></pre>\n"}],"owner":{"account_id":5144870,"reputation":210,"user_id":4121141,"display_name":"kimi86"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":113,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1658506229,"creation_date":1658423573,"question_id":73070235,"body_markdown":"I encounter this situation very often when working with reactive webflux. Basically I am trying to call a service that returns a flux. In this case `Flux&lt;Marks&gt;`\r\n\r\n    Class Marks{\r\n    int Sid;\r\n    int Mark;\r\n    }\r\n\r\nI have a `List&lt;Student&gt;` in which I need to update marks field using the response from above service\r\n\r\n    Class Student{\r\n    int Sid;\r\n    int Mark;\r\n    String School;\r\n    }\r\n\r\nhow to do this. \r\n\r\n    Map&lt;Integer,Integer&gt; mapIdMarks = new HashMap&lt;&gt;();\r\n    Flux&lt;Marks&gt; fluxMarks = externalService.getAllMarks();\r\n\r\n    // HOW TO DO BELOW OPERATION IN REACTIVE FLUX SINCE FOREACH IS NOT AVAILABE ON FLUX\r\n    fluxMarks.foreach(marks -&gt; mapIdMarks.put(marks.getSid().marks.getMark()));\r\n\r\n    // then from here on mapIdMarks can be used to fill up missing marks information in List&lt;Student&gt;\r\n\r\n\r\n\r\n\r\n\r\n","title":"Collecting information from Flux","body":"<p>I encounter this situation very often when working with reactive webflux. Basically I am trying to call a service that returns a flux. In this case <code>Flux&lt;Marks&gt;</code></p>\n<pre><code>Class Marks{\nint Sid;\nint Mark;\n}\n</code></pre>\n<p>I have a <code>List&lt;Student&gt;</code> in which I need to update marks field using the response from above service</p>\n<pre><code>Class Student{\nint Sid;\nint Mark;\nString School;\n}\n</code></pre>\n<p>how to do this.</p>\n<pre><code>Map&lt;Integer,Integer&gt; mapIdMarks = new HashMap&lt;&gt;();\nFlux&lt;Marks&gt; fluxMarks = externalService.getAllMarks();\n\n// HOW TO DO BELOW OPERATION IN REACTIVE FLUX SINCE FOREACH IS NOT AVAILABE ON FLUX\nfluxMarks.foreach(marks -&gt; mapIdMarks.put(marks.getSid().marks.getMark()));\n\n// then from here on mapIdMarks can be used to fill up missing marks information in List&lt;Student&gt;\n</code></pre>\n"},{"tags":["java","spring","spring-boot"],"comments":[{"owner":{"account_id":5319774,"reputation":343,"user_id":4243562,"display_name":"acearch"},"score":0,"creation_date":1658320704,"post_id":73050073,"comment_id":129021869,"body_markdown":"Please look at https://docs.spring.io/spring-batch/docs/4.2.x/api/org/springframework/batch/core/launch/JobOperator.html since it has a stop api for stopping running batch jobs.","body":"Please look at <a href=\"https://docs.spring.io/spring-batch/docs/4.2.x/api/org/springframework/batch/core/launch/JobOperator.html\" rel=\"nofollow noreferrer\">docs.spring.io/spring-batch/docs/4.2.x/api/org/springframewo&zwnj;&#8203;rk/&hellip;</a> since it has a stop api for stopping running batch jobs."},{"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"score":0,"creation_date":1658321793,"post_id":73050073,"comment_id":129022353,"body_markdown":"Yeah, I have seen this but it only &quot;Send a stop signal to the JobExecution with the supplied id. The signal is successfully sent if this method returns true, but that doesn&#39;t mean that the job has stopped. The only way to be sure of that is to poll the job execution status.&quot; This does not takes care of the incoming new request when this job is being stopped ?","body":"Yeah, I have seen this but it only &quot;Send a stop signal to the JobExecution with the supplied id. The signal is successfully sent if this method returns true, but that doesn&#39;t mean that the job has stopped. The only way to be sure of that is to poll the job execution status.&quot; This does not takes care of the incoming new request when this job is being stopped ?"}],"answers":[{"tags":[],"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658505812,"creation_date":1658505812,"answer_id":73083139,"question_id":73050073,"body_markdown":"After doing some research - I could not find any inbuilt annotation on this. We will have to manually queue all the incoming requests and persist the request at the database layer with all the needed parameters. When the API - &quot;/stopRunningJobs&quot; is completed, we can write a method or an API to fetch all the queued request from the database, iterate it along with the param and invoke the API asynchronously.\r\n\r\nThank you.","title":"Spring Boot - Stopping the Incoming request when Another API is in progress","body":"<p>After doing some research - I could not find any inbuilt annotation on this. We will have to manually queue all the incoming requests and persist the request at the database layer with all the needed parameters. When the API - &quot;/stopRunningJobs&quot; is completed, we can write a method or an API to fetch all the queued request from the database, iterate it along with the param and invoke the API asynchronously.</p>\n<p>Thank you.</p>\n"}],"owner":{"account_id":19372481,"reputation":106,"user_id":14165494,"display_name":"Harish Dalmia"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":552,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73083139,"answer_count":1,"score":1,"last_activity_date":1658505966,"creation_date":1658313230,"question_id":73050073,"body_markdown":"The application is using Spring boot 2.7.0. I have an API -  &quot;/stopRunningJobs&quot;  and when this is triggered all the running spring batch jobs/APIs are stopped. Now, while this API is stopping all the running jobs, there may be a possibility of another API being called, which may end up in the &quot;in-progress&quot; or &quot;completed&quot; state rather than the &quot;STOPPED&quot; state. So, two inputs are needed-\r\n1. Is there a way in a spring boot, we can stop all other incoming requests to this container or application when &quot;/stopRunningJobs&quot; API is running ?\r\n2. Or, can we queue up all the incoming requests until &quot;/stopRunningJobs&quot; API processing is over and it resumes post that.\r\n\r\nAny input is appreciated. Thank you","title":"Spring Boot - Stopping the Incoming request when Another API is in progress","body":"<p>The application is using Spring boot 2.7.0. I have an API -  &quot;/stopRunningJobs&quot;  and when this is triggered all the running spring batch jobs/APIs are stopped. Now, while this API is stopping all the running jobs, there may be a possibility of another API being called, which may end up in the &quot;in-progress&quot; or &quot;completed&quot; state rather than the &quot;STOPPED&quot; state. So, two inputs are needed-</p>\n<ol>\n<li>Is there a way in a spring boot, we can stop all other incoming requests to this container or application when &quot;/stopRunningJobs&quot; API is running ?</li>\n<li>Or, can we queue up all the incoming requests until &quot;/stopRunningJobs&quot; API processing is over and it resumes post that.</li>\n</ol>\n<p>Any input is appreciated. Thank you</p>\n"},{"tags":["java","hibernate"],"answers":[{"tags":[],"owner":{"account_id":4604899,"reputation":5097,"user_id":3734640,"accept_rate":83,"display_name":"Govinda Sakhare"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1658505669,"creation_date":1581074570,"answer_id":60112484,"question_id":60112439,"body_markdown":"The `session.evict()` or `entityManager.detach()` method can be used to remove the object from the `first-level` cache.\r\n\r\n**why evict entities from the cache?**\r\n\r\nWhen the `flush()` method is called, the state of the entity is saved in the database.You should evict entities if you are processing a huge number of objects and need to manage memory efficiently. \r\n\r\nEvicting an entity from the `Hibernate` Session:\r\n\r\n    for(Person person : (List&lt;Person&gt;) session.createQuery(&quot;select p from Person p&quot;)\r\n                         .list()) {\r\n    \tdtos.add(toDTO(person));\r\n    \tsession.evict( person );\r\n    }\r\n\r\n\r\nDetaching an entity from the `EntityManager`:\r\n\r\n    for(Person person : entityManager.createQuery(&quot;select p from Person p&quot;, Person.class)\r\n    \t\t.getResultList()) {\r\n    \tdtos.add(toDTO(person));\r\n    \tentityManager.detach( person );\r\n    }\r\n\r\nIf you want to evict the entry from the `second-level` cache, you can do it following way:\r\n\r\n    entityManagerFactory.getCache().evict(..);\r\n\r\nOR\r\n\r\n    sessionFactory.getCache().evict(..);\r\n\r\n","title":"What is the difference between evict and detach in hibernate?","body":"<p>The <code>session.evict()</code> or <code>entityManager.detach()</code> method can be used to remove the object from the <code>first-level</code> cache.</p>\n<p><strong>why evict entities from the cache?</strong></p>\n<p>When the <code>flush()</code> method is called, the state of the entity is saved in the database.You should evict entities if you are processing a huge number of objects and need to manage memory efficiently.</p>\n<p>Evicting an entity from the <code>Hibernate</code> Session:</p>\n<pre><code>for(Person person : (List&lt;Person&gt;) session.createQuery(&quot;select p from Person p&quot;)\n                     .list()) {\n    dtos.add(toDTO(person));\n    session.evict( person );\n}\n</code></pre>\n<p>Detaching an entity from the <code>EntityManager</code>:</p>\n<pre><code>for(Person person : entityManager.createQuery(&quot;select p from Person p&quot;, Person.class)\n        .getResultList()) {\n    dtos.add(toDTO(person));\n    entityManager.detach( person );\n}\n</code></pre>\n<p>If you want to evict the entry from the <code>second-level</code> cache, you can do it following way:</p>\n<pre><code>entityManagerFactory.getCache().evict(..);\n</code></pre>\n<p>OR</p>\n<pre><code>sessionFactory.getCache().evict(..);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8357383,"reputation":11939,"user_id":6277104,"display_name":"SternK"},"down_vote_count":1,"up_vote_count":12,"is_accepted":false,"score":11,"last_activity_date":1581077856,"creation_date":1581075690,"answer_id":60112785,"question_id":60112439,"body_markdown":"Actually, `EntityManager.detach` and hibernate `Session.evict` do the same [thing](https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#_evicting_entities):\r\n\r\n&gt; ... remove the object and its collections from the first-level cache\r\n\r\nFrom the hibernate implementation of `org.hibernate.Session` we can see that the `detach` method make an internal call of the `evict` method.\r\n\r\n``` java\r\npublic final class SessionImpl {\r\n    // ...\r\n\t@Override\r\n\tpublic void detach(Object entity) {\r\n\t\tcheckOpen();\r\n\t\ttry {\r\n\t\t\tevict( entity );\r\n\t\t}\r\n\t\tcatch (RuntimeException e) {\r\n\t\t\tthrow exceptionConverter.convert( e );\r\n\t\t}\r\n\t}\r\n}\r\n```","title":"What is the difference between evict and detach in hibernate?","body":"<p>Actually, <code>EntityManager.detach</code> and hibernate <code>Session.evict</code> do the same <a href=\"https://docs.jboss.org/hibernate/orm/5.4/userguide/html_single/Hibernate_User_Guide.html#_evicting_entities\" rel=\"noreferrer\">thing</a>:</p>\n\n<blockquote>\n  <p>... remove the object and its collections from the first-level cache</p>\n</blockquote>\n\n<p>From the hibernate implementation of <code>org.hibernate.Session</code> we can see that the <code>detach</code> method make an internal call of the <code>evict</code> method.</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>public final class SessionImpl {\n    // ...\n    @Override\n    public void detach(Object entity) {\n        checkOpen();\n        try {\n            evict( entity );\n        }\n        catch (RuntimeException e) {\n            throw exceptionConverter.convert( e );\n        }\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2986718,"reputation":443,"user_id":2535334,"display_name":"Zakaria Bouazza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6640,"favorite_count":0,"down_vote_count":0,"up_vote_count":11,"answer_count":2,"score":11,"last_activity_date":1658505669,"creation_date":1581074376,"question_id":60112439,"body_markdown":"I&#39;m having a bit of trouble understanding the difference between `evict` and `detach`, does `evict` detach the session anyway, if so what is the difference? I read it removes the object from the second level cache but didn&#39;t get it.\r\n","title":"What is the difference between evict and detach in hibernate?","body":"<p>I'm having a bit of trouble understanding the difference between <code>evict</code> and <code>detach</code>, does <code>evict</code> detach the session anyway, if so what is the difference? I read it removes the object from the second level cache but didn't get it.</p>\n"},{"tags":["java","debugging","junit"],"comments":[{"owner":{"account_id":2264130,"reputation":38897,"user_id":1993366,"accept_rate":86,"display_name":"vikingsteve"},"score":0,"creation_date":1411460826,"post_id":25990147,"comment_id":40700196,"body_markdown":"As a quick hack, you could always use &quot;evaluate&quot; to set some specific property when you first hit a breakpoint (and within 15 seconds)... but I&#39;m also interested to hear if there is a proper way to do this. Worst case, use command line args or system properties to disable the timeouts...","body":"As a quick hack, you could always use &quot;evaluate&quot; to set some specific property when you first hit a breakpoint (and within 15 seconds)... but I&#39;m also interested to hear if there is a proper way to do this. Worst case, use command line args or system properties to disable the timeouts..."}],"answers":[{"tags":[],"owner":{"account_id":1284143,"reputation":43090,"user_id":1237575,"accept_rate":96,"display_name":"Rafael Winterhalter"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1411462670,"creation_date":1411462353,"answer_id":25990809,"question_id":25990147,"body_markdown":"It is not a 100% fail-safe approach but you can check if the [Java Debug Wire Protocol][1] (JDWP) is active which is used by the debugger to connect to a JVM. This can be done by checking for input arguments to the JVM as for example in:\r\n\r\n    boolean isDebug() {\r\n      for(String arg : ManagementFactory.getRuntimeMXBean().getInputArguments()) {\r\n        if(arg.contains(&quot;jdwp=&quot;)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n    \r\nIt might however return a false positive if anybody else named something `jdwp` or if the protocol was used for something else. Also, the command might change in the future what makes this hardly fail-safe. This approach is of course not JUnit specific but as JUnit does not have any privileges within a JVM, this is only natural.\r\n\r\n  [1]: http://blog.ioactive.com/2014/04/hacking-java-debug-wire-protocol-or-how.html","title":"Check if a debugger is attached during the execution of a unit test","body":"<p>It is not a 100% fail-safe approach but you can check if the <a href=\"http://blog.ioactive.com/2014/04/hacking-java-debug-wire-protocol-or-how.html\" rel=\"noreferrer\">Java Debug Wire Protocol</a> (JDWP) is active which is used by the debugger to connect to a JVM. This can be done by checking for input arguments to the JVM as for example in:</p>\n\n<pre><code>boolean isDebug() {\n  for(String arg : ManagementFactory.getRuntimeMXBean().getInputArguments()) {\n    if(arg.contains(\"jdwp=\")) {\n      return true;\n    }\n  }\n  return false;\n}\n</code></pre>\n\n<p>It might however return a false positive if anybody else named something <code>jdwp</code> or if the protocol was used for something else. Also, the command might change in the future what makes this hardly fail-safe. This approach is of course not JUnit specific but as JUnit does not have any privileges within a JVM, this is only natural.</p>\n"},{"tags":[],"owner":{"account_id":1975336,"reputation":5011,"user_id":1773233,"accept_rate":58,"display_name":"surfealokesea"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658505534,"creation_date":1605703578,"answer_id":64893427,"question_id":25990147,"body_markdown":"Based on Rafael answer:\r\n\r\n```java\r\nprivate static boolean isDebug() {\r\n   return ManagementFactory.getRuntimeMXBean().getInputArguments().stream().anyMatch(arg-&gt;arg.contains(&quot;jdwp=&quot;) &amp;&amp; arg.contains(&quot;suspend=y&quot;));\r\n}\r\n```","title":"Check if a debugger is attached during the execution of a unit test","body":"<p>Based on Rafael answer:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static boolean isDebug() {\n   return ManagementFactory.getRuntimeMXBean().getInputArguments().stream().anyMatch(arg-&gt;arg.contains(&quot;jdwp=&quot;) &amp;&amp; arg.contains(&quot;suspend=y&quot;));\n}\n</code></pre>\n"}],"owner":{"account_id":346483,"reputation":1306,"user_id":680038,"accept_rate":62,"display_name":"leozilla"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1696,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"accepted_answer_id":25990809,"answer_count":2,"score":10,"last_activity_date":1658505534,"creation_date":1411459993,"question_id":25990147,"body_markdown":"Is there a way to check in JUnit code if the debugger is attached to the current test execution?  \r\nIn .NET/C# i know this is possible with `Debugger.IsAttached`.\r\n\r\nThe use case would be to change or completly disable test timeouts when the debugger is attached because this is pretty annoying if you only have about 15 seconds (the defined timeout) for debugging a test.","title":"Check if a debugger is attached during the execution of a unit test","body":"<p>Is there a way to check in JUnit code if the debugger is attached to the current test execution?<br>\nIn .NET/C# i know this is possible with <code>Debugger.IsAttached</code>.</p>\n\n<p>The use case would be to change or completly disable test timeouts when the debugger is attached because this is pretty annoying if you only have about 15 seconds (the defined timeout) for debugging a test.</p>\n"},{"tags":["java","spring","aws-sdk"],"comments":[{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658508660,"post_id":72987813,"comment_id":129077157,"body_markdown":"Hi @Peter Penzov, can you please let us know if you are using spring , spring boot.\nAlso, when you say you are getting error `awsS3Client.getAmazonS3() `, does that mean you have already created new `AmazonS3` instance here? if so, can you please let me know how you have created it? thanks","body":"Hi @Peter Penzov, can you please let us know if you are using spring , spring boot. Also, when you say you are getting error <code>awsS3Client.getAmazonS3() </code>, does that mean you have already created new <code>AmazonS3</code> instance here? if so, can you please let me know how you have created it? thanks"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1658515396,"post_id":72987813,"comment_id":129079267,"body_markdown":"I use Spring Boot. I have created new instance into separate jar file used as library.","body":"I use Spring Boot. I have created new instance into separate jar file used as library."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658519581,"post_id":72987813,"comment_id":129080398,"body_markdown":"thanks, is it not possible for you to use aws-sdk dependency as maven dependency if you use springboot?","body":"thanks, is it not possible for you to use aws-sdk dependency as maven dependency if you use springboot?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1658520999,"post_id":72987813,"comment_id":129080736,"body_markdown":"Actually I tried this: I use aws-sdk dependency in both parent and client jar packages - and the problem is gone. But now I have a duplicated dependency. Any idea for a solution?","body":"Actually I tried this: I use aws-sdk dependency in both parent and client jar packages - and the problem is gone. But now I have a duplicated dependency. Any idea for a solution?"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658521120,"post_id":72987813,"comment_id":129080762,"body_markdown":"when you say you have parent &amp; client jar package, does parent is also parent of client? or its separate repositories?","body":"when you say you have parent &amp; client jar package, does parent is also parent of client? or its separate repositories?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1658521250,"post_id":72987813,"comment_id":129080792,"body_markdown":"they are jar A and Jar B -&gt; jar A is imported into JarB and uses java classes.","body":"they are jar A and Jar B -&gt; jar A is imported into JarB and uses java classes."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658521356,"post_id":72987813,"comment_id":129080812,"body_markdown":"ok, can you please let me know if both jars really required aws-sdk dependency? can only one won&#39;t work for you? Sorry asking few question before posting my answer.","body":"ok, can you please let me know if both jars really required aws-sdk dependency? can only one won&#39;t work for you? Sorry asking few question before posting my answer."},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1658521771,"post_id":72987813,"comment_id":129080913,"body_markdown":"if I add  aws-sdk dependency as dependency into jar A and I try to import jar A into jar B and compile it I get the above error. If I add  aws-sdk dependency and jar A and import into jar B jar A and  aws-sdk dependency the error is solved. But I have duplicate import.","body":"if I add  aws-sdk dependency as dependency into jar A and I try to import jar A into jar B and compile it I get the above error. If I add  aws-sdk dependency and jar A and import into jar B jar A and  aws-sdk dependency the error is solved. But I have duplicate import."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658521844,"post_id":72987813,"comment_id":129080929,"body_markdown":"Does that mean, your jar B already has asw-sdk dependency ?","body":"Does that mean, your jar B already has asw-sdk dependency ?"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1658521944,"post_id":72987813,"comment_id":129080960,"body_markdown":"no, I imported it as a workaround to solve the problem from the issue above.","body":"no, I imported it as a workaround to solve the problem from the issue above."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658522140,"post_id":72987813,"comment_id":129081002,"body_markdown":"ok, if you remove aws-sdk dependency from jar B, are you getting same error? Because I think you should remove aws-sdk dependency from jar B &amp; only use it for jar A","body":"ok, if you remove aws-sdk dependency from jar B, are you getting same error? Because I think you should remove aws-sdk dependency from jar B &amp; only use it for jar A"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658522156,"post_id":72987813,"comment_id":129081008,"body_markdown":"please let me know if that is case , i will put some thoughts on that","body":"please let me know if that is case , i will put some thoughts on that"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1658522399,"post_id":72987813,"comment_id":129081063,"body_markdown":"yes I also think that jar A should have aws-sdk dependency. But I get the error.","body":"yes I also think that jar A should have aws-sdk dependency. But I get the error."},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658522471,"post_id":72987813,"comment_id":129081088,"body_markdown":"ok, you got error when you removed it from jar B? i.e. from a jar which imported another jar","body":"ok, you got error when you removed it from jar B? i.e. from a jar which imported another jar"},{"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"score":0,"creation_date":1658522886,"post_id":72987813,"comment_id":129081195,"body_markdown":"yes, correct. Any idea why?","body":"yes, correct. Any idea why?"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658523180,"post_id":72987813,"comment_id":129081282,"body_markdown":"Where is above mentioned code implemented? jar B (i.e. the one which imported jar A)?\nI am feeling you do have some dependencies of aws-sdk in jar A.    If you are using maven structure, do one thing, can you execute  `mvn dependency:tree -Dverbose`   on Jar A &amp; see if you find `aws-sdk` dependency?","body":"Where is above mentioned code implemented? jar B (i.e. the one which imported jar A)? I am feeling you do have some dependencies of aws-sdk in jar A.    If you are using maven structure, do one thing, can you execute  <code>mvn dependency:tree -Dverbose</code>   on Jar A &amp; see if you find <code>aws-sdk</code> dependency?"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658523241,"post_id":72987813,"comment_id":129081305,"body_markdown":"By executing `mvn dependency:tree -Dverbose` you can able to see what sort of dependencies you got into project","body":"By executing <code>mvn dependency:tree -Dverbose</code> you can able to see what sort of dependencies you got into project"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658523315,"post_id":72987813,"comment_id":129081324,"body_markdown":"There might be case that you might have transitive dependency of `aws-sdk`","body":"There might be case that you might have transitive dependency of <code>aws-sdk</code>"},{"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"score":0,"creation_date":1658524880,"post_id":72987813,"comment_id":129081725,"body_markdown":"I will try to answer tomorrow if possible, in meantime, you can share if there is any further observation you got about this","body":"I will try to answer tomorrow if possible, in meantime, you can share if there is any further observation you got about this"}],"answers":[{"tags":[],"owner":{"account_id":5107148,"reputation":106,"user_id":4094902,"display_name":"Nilay Shah"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658160078,"creation_date":1658160078,"answer_id":73025307,"question_id":72987813,"body_markdown":"Not sure what you are trying to do here.\r\nHere is a sample of how to create an [S3Client][1]\r\n\r\n\r\n  [1]: https://www.baeldung.com/aws-s3-java#creating-client-connection\r\n\r\n    AWSCredentials credentials = new BasicAWSCredentials(\r\n      &quot;&lt;AWS accesskey&gt;&quot;, \r\n      &quot;&lt;AWS secretkey&gt;&quot;\r\n    );\r\n    \r\n    \r\n    AmazonS3 s3client = AmazonS3ClientBuilder\r\n      .standard()\r\n      .withCredentials(new AWSStaticCredentialsProvider(credentials))\r\n      .withRegion(Regions.US_EAST_2)\r\n      .build();\r\n\r\n\r\nAssuming you need a createSessionWithAssumeRoleCredentials on *AwsS3Client*,\r\nWouldn&#39;t it make more sense to have an S3ClientFactory which has a static method *createSessionWithAssumeRoleCredentials* which creates an S3 client for the set of credential that you pass? Credentials are required to instantiate an S3 client, so have a createSessionWithAssumeRoleCredentials method on an S3Client instance makes little sense.\r\n\r\nIf you are sure that you just need to use the S3 client with just one set of credential, then shouldn&#39;t you do something like this?\r\n\r\n\r\n    @Component\r\n    public class AwsS3Client {\r\n        private S3Client amazonS3;\r\n\r\n        public AwsS3Client(CustomAWSParameters customAWSParameters){\r\n            return createAwsS3ClientWithCredentials(customAWSParameters.getAccessKey, customAWSParameters.getSecretKey, customAWSParameters.getAwsProperties)\r\n        }\r\n\r\n        private static AmazonS3 createAwsS3ClientWithCredentials(String accessKey, String secretKey, AwsProperties awsProperties){\r\n            AwsBasicCredentials awsBasicCredentials = AwsBasicCredentials.create(accessKey, secretKey);\r\n            awsCredentialsProvider = StaticCredentialsProvider.create(awsBasicCredentials);\r\n            amazonS3 = S3Client.builder()\r\n                    .region(Region.of(awsS3Properties.getRegion()))\r\n                    .credentialsProvider(awsCredentialsProvider)\r\n                    .build();\r\n        }\r\n    }\r\n\r\n\r\nYou can have type safety checks, and other exception handling after/during creating the S3Client instance.","title":"check AmazonS3 for empty object","body":"<p>Not sure what you are trying to do here.\nHere is a sample of how to create an <a href=\"https://www.baeldung.com/aws-s3-java#creating-client-connection\" rel=\"nofollow noreferrer\">S3Client</a></p>\n<pre><code>AWSCredentials credentials = new BasicAWSCredentials(\n  &quot;&lt;AWS accesskey&gt;&quot;, \n  &quot;&lt;AWS secretkey&gt;&quot;\n);\n\n\nAmazonS3 s3client = AmazonS3ClientBuilder\n  .standard()\n  .withCredentials(new AWSStaticCredentialsProvider(credentials))\n  .withRegion(Regions.US_EAST_2)\n  .build();\n</code></pre>\n<p>Assuming you need a createSessionWithAssumeRoleCredentials on <em>AwsS3Client</em>,\nWouldn't it make more sense to have an S3ClientFactory which has a static method <em>createSessionWithAssumeRoleCredentials</em> which creates an S3 client for the set of credential that you pass? Credentials are required to instantiate an S3 client, so have a createSessionWithAssumeRoleCredentials method on an S3Client instance makes little sense.</p>\n<p>If you are sure that you just need to use the S3 client with just one set of credential, then shouldn't you do something like this?</p>\n<pre><code>@Component\npublic class AwsS3Client {\n    private S3Client amazonS3;\n\n    public AwsS3Client(CustomAWSParameters customAWSParameters){\n        return createAwsS3ClientWithCredentials(customAWSParameters.getAccessKey, customAWSParameters.getSecretKey, customAWSParameters.getAwsProperties)\n    }\n\n    private static AmazonS3 createAwsS3ClientWithCredentials(String accessKey, String secretKey, AwsProperties awsProperties){\n        AwsBasicCredentials awsBasicCredentials = AwsBasicCredentials.create(accessKey, secretKey);\n        awsCredentialsProvider = StaticCredentialsProvider.create(awsBasicCredentials);\n        amazonS3 = S3Client.builder()\n                .region(Region.of(awsS3Properties.getRegion()))\n                .credentialsProvider(awsCredentialsProvider)\n                .build();\n    }\n}\n</code></pre>\n<p>You can have type safety checks, and other exception handling after/during creating the S3Client instance.</p>\n"}],"owner":{"account_id":965625,"reputation":1524,"user_id":1103606,"accept_rate":51,"display_name":"Peter Penzov"},"comment_count":19,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":196,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":73025307,"answer_count":1,"score":1,"last_activity_date":1658505366,"creation_date":1657843553,"question_id":72987813,"body_markdown":"\r\n\r\n    @Component\r\n    public class AwsS3Client {\r\n        private AmazonS3 amazonS3;\r\n    \r\n        public AmazonS3 getAmazonS3() {\r\n            return this.amazonS3;\r\n        }\r\n    }\r\n\r\n......\r\n\r\n\r\n      @Autowired\r\n      private AwsS3Client awsS3Client;\r\n    \r\n      if (Objects.isNull(awsS3Client.getAmazonS3())) {\r\n          awsS3Client.createSessionWithAssumeRoleCredentials();\r\n      }\r\n\r\nBut for this code `awsS3Client.getAmazonS3()` I get:\r\n\r\n    Required type: Object\r\n    Provided: AmazonS3\r\n\r\nAmazonS3 is located into another utility jar file.\r\nDo you know how I can fix this? I use aws sdk Version 1.11.971","title":"check AmazonS3 for empty object","body":"<pre><code>@Component\npublic class AwsS3Client {\n    private AmazonS3 amazonS3;\n\n    public AmazonS3 getAmazonS3() {\n        return this.amazonS3;\n    }\n}\n</code></pre>\n<p>......</p>\n<pre><code>  @Autowired\n  private AwsS3Client awsS3Client;\n\n  if (Objects.isNull(awsS3Client.getAmazonS3())) {\n      awsS3Client.createSessionWithAssumeRoleCredentials();\n  }\n</code></pre>\n<p>But for this code <code>awsS3Client.getAmazonS3()</code> I get:</p>\n<pre><code>Required type: Object\nProvided: AmazonS3\n</code></pre>\n<p>AmazonS3 is located into another utility jar file.\nDo you know how I can fix this? I use aws sdk Version 1.11.971</p>\n"},{"tags":["java","sqlite","jooq"],"answers":[{"tags":[],"owner":{"account_id":247217,"reputation":213455,"user_id":521799,"accept_rate":89,"display_name":"Lukas Eder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658318290,"creation_date":1658318290,"answer_id":73051264,"question_id":73049505,"body_markdown":"You&#39;ve specified:\r\n\r\n```java\r\nwithInputSchema(&quot;public&quot;)\r\n```\r\n\r\nBut SQLite doesn&#39;t support schemas. so it doesn&#39;t have a `public` schema (such as e.g. PostgreSQL). Just remove this and it should work.\r\n\r\nNote, there should have been an `INFO` message about this in your code generation output.","title":"jOOQ with SQLite datebase fails to generate Java code","body":"<p>You've specified:</p>\n<pre class=\"lang-java prettyprint-override\"><code>withInputSchema(&quot;public&quot;)\n</code></pre>\n<p>But SQLite doesn't support schemas. so it doesn't have a <code>public</code> schema (such as e.g. PostgreSQL). Just remove this and it should work.</p>\n<p>Note, there should have been an <code>INFO</code> message about this in your code generation output.</p>\n"}],"owner":{"account_id":25851660,"reputation":9,"user_id":19585558,"display_name":"ashes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":505,"favorite_count":0,"down_vote_count":1,"up_vote_count":1,"answer_count":1,"score":0,"last_activity_date":1658505051,"creation_date":1658310910,"question_id":73049505,"body_markdown":"I use jOOQ 3.16.5 to generate Java code, when I run the code, the terminal tells me to succeed, but the code is not generated, I don’t know why, so I copy the code to here and hope someone to help me\r\n\r\n\r\n1. This is `build.gradle`\r\n    ```\r\n    buildscript {\r\n        repositories {\r\n            mavenLocal()\r\n            mavenCentral()\r\n            gradlePluginPortal()\r\n            maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; \r\n        }\r\n        maven { url &#39;https://maven.aliyun.com/repository/public/&#39;}\r\n        google()\r\n    }\r\n    dependencies {\r\n        classpath &quot;org.jooq:jooq-codegen:3.16.5&quot;\r\n        classpath &#39;org.postgresql:postgresql:42.2.14&#39;\r\n        classpath &#39;org.xerial:sqlite-jdbc:3.30.1&#39;\r\n        classpath &#39;org.codehaus.groovy:groovy-all:3.0.11&#39;\r\n    }\r\n\r\n    plugins {\r\n        id &quot;org.flywaydb.flyway&quot; version &quot;8.5.13&quot;\r\n    }\r\n\r\n    dependencies {\r\n        implementation project(&quot;:core&quot;)\r\n        api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-desktop&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop&quot;\r\n        api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-desktop:$gdxControllersVersion&quot;\r\n        api &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop&quot;\r\n\r\n        //flyway\r\n        implementation group: &#39;org.flywaydb&#39;, name: &#39;flyway-core&#39;, version: &#39;8.5.13&#39;\r\n        //jooq\r\n        implementation group: &#39;org.jooq&#39;, name: &#39;jooq&#39;, version: &#39;3.16.5&#39;\r\n        implementation group: &#39;org.jooq&#39;, name: &#39;jooq-meta&#39;, version: &#39;3.16.5&#39;\r\n        implementation group: &#39;org.jooq&#39;, name: &#39;jooq-codegen&#39;, version: &#39;3.16.5&#39;\r\n        implementation group: &#39;org.jooq&#39;, name: &#39;jooq-meta-extensions&#39;, version: &#39;3.16.5&#39;\r\n        //groovy\r\n        implementation &#39;org.codehaus.groovy:groovy-all:3.0.11&#39;\r\n        //sqlitejdbc\r\n        implementation &#39;sqlitejdbc:sqlitejdbc:0.5.6&#39;\r\n        //postgresql\r\n        implementation &#39;org.postgresql:postgresql:42.2.14&#39;\r\n    }\r\n    ```\r\n\r\n2. This is Java code to generate POJO class and other files\r\n\r\n    ```java\r\n    import org.jooq.codegen.GenerationTool;\r\n    import org.jooq.meta.jaxb.Configuration;\r\n    import org.jooq.meta.jaxb.Database;\r\n    import org.jooq.meta.jaxb.Generate;\r\n    import org.jooq.meta.jaxb.Generator;\r\n    import org.jooq.meta.jaxb.Jdbc;\r\n    import org.jooq.meta.jaxb.Property;\r\n    import org.jooq.meta.jaxb.Target;\r\n    \r\n    public class JooqConfig {\r\n        public static void main(String[] args) {\r\n    \r\n            Configuration configuration = new Configuration()\r\n    \r\n                    // Configure the database connection here\r\n                    .withJdbc(new Jdbc()\r\n                            .withDriver(&quot;org.sqlite.JDBC&quot;)\r\n                            .withUrl(&quot;jdbc:sqlite:/home/myusername/sql/changdao.sqlite&quot;)\r\n                    )\r\n                    .withGenerator(new Generator()\r\n                            .withDatabase(new Database()\r\n                                    .withName(&quot;org.jooq.meta.sqlite.SQLiteDatabase&quot;)\r\n                                    .withIncludes(&quot;.*&quot;)\r\n                                    .withExcludes(&quot;&quot; +\r\n                                            &quot;UNUSED_TABLE                # This table (unqualified name) should not be generated&quot; +\r\n                                            &quot;| PREFIX_.*                   # Objects with a given prefix should not be generated&quot; +\r\n                                            &quot;| SECRET_SCHEMA\\\\.SECRET_TABLE # This table (qualified name) should not be generated&quot; +\r\n                                            &quot;| SECRET_ROUTINE              # This routine (unqualified name) ...&quot; +\r\n                                            &quot;&quot;)\r\n                                    .withInputSchema(&quot;public&quot;)\r\n                            )\r\n    \r\n                            // Generation flags: See advanced configuration properties\r\n                            .withGenerate(new Generate()\r\n                                    .withPojos(true)\r\n                                    .withComments(true)\r\n                                    .withCommentsOnCatalogs(true)\r\n                                    .withRelations(true)\r\n                                    .withImmutablePojos(false) // if true, cannot use &#39;into()&#39; method\r\n                                    .withInterfaces(true)\r\n                                    .withDaos(true))\r\n                            .withTarget(new Target()\r\n                                    .withPackageName(&quot;com.changdao.game.db&quot;)\r\n                                    .withDirectory(&quot;desktop/src&quot;)\r\n                            )\r\n                    );\r\n            try {\r\n                GenerationTool.generate(configuration);\r\n            } catch (Exception e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    ```\r\n\r\nThis is my database \r\n\r\n[![https://i.stack.imgur.com/SzyF7.png][1]][1]\r\n\r\nand SQL is here, by a way, I use flyway to create a table\r\n\r\n```sql\r\ncreate table product(\r\n     id INTEGER primary key,\r\n     create_time TEXT\r\n);\r\n```\r\n\r\nI use Java 11 and I don&#39;t know is it important\r\n\r\n**2022-07-21**\r\n\r\nAs Lukas Eder said，I changed the code like this\r\n```\r\n                    .withDatabase(new Database()\r\n                            .withName(&quot;org.jooq.meta.sqlite.SQLiteDatabase&quot;)\r\n                            .withIncludes(&quot;.*&quot;)\r\n                            .withExcludes(&quot;&quot; +\r\n                                    &quot;sqlite_master                # This table (unqualified name) should not be generated&quot; +\r\n                                    &quot;| PREFIX_.*                   # Objects with a given prefix should not be generated&quot; +\r\n                                    &quot;| SECRET_SCHEMA\\\\.SECRET_TABLE # This table (qualified name) should not be generated&quot; +\r\n                                    &quot;| SECRET_ROUTINE              # This routine (unqualified name) ...&quot; +\r\n                                    &quot;&quot;)\r\n                    )\r\n```\r\n\r\nand have some wrong \r\n\r\n```\r\n   SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\r\nSLF4J: Defaulting to no-operation (NOP) logger implementation\r\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\r\norg.jooq.codegen.GeneratorException: Error generating code for catalog \r\n    at org.jooq.codegen.JavaGenerator.generate0(JavaGenerator.java:488)\r\n    at org.jooq.codegen.AbstractGenerator.generate(AbstractGenerator.java:182)\r\n    at org.jooq.codegen.JavaGenerator.generate(JavaGenerator.java:202)\r\n    at org.jooq.codegen.GenerationTool.run0(GenerationTool.java:912)\r\n    at org.jooq.codegen.GenerationTool.run(GenerationTool.java:239)\r\n    at org.jooq.codegen.GenerationTool.generate(GenerationTool.java:234)\r\n    at com.changdao.game.publicclass.JooqConfig.main(JooqConfig.java:57)\r\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, &#39;&#39;) from sqlite_master where lower(sqlite_master.sql) like lower(&#39;%create virtual table%&#39;)) select sqlite_master.name, case when sqlite_master.type = &#39;view&#39; then &#39;VIEW&#39; else &#39;TABLE&#39; end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like &#39;%!_content&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segments&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segdir&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_docsize&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_stat&#39; escape &#39;!&#39;) or (sqlite_master.name like &#39;%!_content&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_content&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segments&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segments&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segdir&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segdir&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_docsize&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_docsize&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_stat&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_stat&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\r\n    at org.jooq.meta.AbstractDatabase.onError(AbstractDatabase.java:3369)\r\n    at org.jooq.meta.AbstractDatabase.getEmbeddables(AbstractDatabase.java:2045)\r\n    at org.jooq.meta.AbstractDatabase.getEmbeddables(AbstractDatabase.java:2065)\r\n    at org.jooq.codegen.JavaGenerator.generateSchemaIfEmpty(JavaGenerator.java:527)\r\n    at java.base/java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90)\r\n    at java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1632)\r\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\r\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\r\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\r\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\r\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230)\r\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196)\r\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\r\n    at java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:528)\r\n    at org.jooq.codegen.JavaGenerator.generateCatalogIfEmpty(JavaGenerator.java:520)\r\n    at org.jooq.codegen.JavaGenerator.generate0(JavaGenerator.java:482)\r\n    ... 6 more\r\nCaused by: java.lang.RuntimeException: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, &#39;&#39;) from sqlite_master where lower(sqlite_master.sql) like lower(&#39;%create virtual table%&#39;)) select sqlite_master.name, case when sqlite_master.type = &#39;view&#39; then &#39;VIEW&#39; else &#39;TABLE&#39; end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like &#39;%!_content&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segments&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segdir&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_docsize&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_stat&#39; escape &#39;!&#39;) or (sqlite_master.name like &#39;%!_content&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_content&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segments&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segments&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segdir&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segdir&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_docsize&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_docsize&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_stat&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_stat&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\r\n    at org.jooq.meta.AbstractDatabase.onError(AbstractDatabase.java:3369)\r\n    at org.jooq.meta.AbstractDatabase.getTables(AbstractDatabase.java:1783)\r\n    at org.jooq.meta.AbstractDatabase.getEmbeddables0(AbstractDatabase.java:2087)\r\n    at org.jooq.meta.AbstractDatabase.lambda$getEmbeddables$13(AbstractDatabase.java:2046)\r\n    at org.jooq.meta.AbstractDatabase.onError(AbstractDatabase.java:3359)\r\n    ... 21 more\r\nCaused by: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, &#39;&#39;) from sqlite_master where lower(sqlite_master.sql) like lower(&#39;%create virtual table%&#39;)) select sqlite_master.name, case when sqlite_master.type = &#39;view&#39; then &#39;VIEW&#39; else &#39;TABLE&#39; end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like &#39;%!_content&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segments&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segdir&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_docsize&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_stat&#39; escape &#39;!&#39;) or (sqlite_master.name like &#39;%!_content&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_content&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segments&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segments&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segdir&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segdir&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_docsize&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_docsize&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_stat&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_stat&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\r\n    at org.jooq_3.16.5.SQLITE.debug(Unknown Source)\r\n    at org.jooq.impl.Tools.translate(Tools.java:3102)\r\n    at org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:670)\r\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:354)\r\n    at org.jooq.impl.AbstractResultQuery.fetch(AbstractResultQuery.java:284)\r\n    at org.jooq.impl.SelectImpl.fetch(SelectImpl.java:2843)\r\n    at org.jooq.impl.ResultQueryTrait.iterator(ResultQueryTrait.java:300)\r\n    at org.jooq.meta.sqlite.SQLiteDatabase.getTables0(SQLiteDatabase.java:373)\r\n    at org.jooq.meta.AbstractDatabase.lambda$getTables$11(AbstractDatabase.java:1784)\r\n    at org.jooq.meta.AbstractDatabase.onError(AbstractDatabase.java:3359)\r\n    ... 25 more\r\nCaused by: java.sql.SQLException: near &quot;with&quot;: syntax error\r\n    at org.sqlite.DB.throwex(DB.java:288)\r\n    at org.sqlite.NativeDB.prepare(Native Method)\r\n    at org.sqlite.DB.prepare(DB.java:114)\r\n    at org.sqlite.PrepStmt.&lt;init&gt;(PrepStmt.java:37)\r\n    at org.sqlite.Conn.prepareStatement(Conn.java:231)\r\n    at org.sqlite.Conn.prepareStatement(Conn.java:224)\r\n    at org.sqlite.Conn.prepareStatement(Conn.java:213)\r\n    at org.jooq.impl.ProviderEnabledConnection.prepareStatement(ProviderEnabledConnection.java:109)\r\n    at org.jooq.impl.SettingsEnabledConnection.prepareStatement(SettingsEnabledConnection.java:82)\r\n    at org.jooq.impl.AbstractResultQuery.prepare(AbstractResultQuery.java:210)\r\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:307)\r\n    ... 31 more\r\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, &#39;&#39;) from sqlite_master where lower(sqlite_master.sql) like lower(&#39;%create virtual table%&#39;)) select sqlite_master.name, case when sqlite_master.type = &#39;view&#39; then &#39;VIEW&#39; else &#39;TABLE&#39; end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like &#39;%!_content&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segments&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segdir&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_docsize&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_stat&#39; escape &#39;!&#39;) or (sqlite_master.name like &#39;%!_content&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_content&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segments&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segments&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segdir&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segdir&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_docsize&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_docsize&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_stat&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_stat&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\r\n\r\nCaused by: java.lang.RuntimeException: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, &#39;&#39;) from sqlite_master where lower(sqlite_master.sql) like lower(&#39;%create virtual table%&#39;)) select sqlite_master.name, case when sqlite_master.type = &#39;view&#39; then &#39;VIEW&#39; else &#39;TABLE&#39; end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like &#39;%!_content&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segments&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segdir&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_docsize&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_stat&#39; escape &#39;!&#39;) or (sqlite_master.name like &#39;%!_content&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_content&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segments&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segments&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segdir&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segdir&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_docsize&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_docsize&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_stat&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_stat&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\r\n\r\nCaused by: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, &#39;&#39;) from sqlite_master where lower(sqlite_master.sql) like lower(&#39;%create virtual table%&#39;)) select sqlite_master.name, case when sqlite_master.type = &#39;view&#39; then &#39;VIEW&#39; else &#39;TABLE&#39; end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like &#39;%!_content&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segments&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_segdir&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_docsize&#39; escape &#39;!&#39; and sqlite_master.name not like &#39;%!_stat&#39; escape &#39;!&#39;) or (sqlite_master.name like &#39;%!_content&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_content&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segments&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segments&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_segdir&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_segdir&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_docsize&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_docsize&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like &#39;%!_stat&#39; escape &#39;!&#39; and &quot;replace&quot;(sqlite_master.name, &#39;_stat&#39;, &#39;&#39;) not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\r\n\r\nCaused by: java.sql.SQLException: near &quot;with&quot;: syntax error\r\n```\r\n\r\n[enter image description here][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SzyF7.png\r\n  [2]: https://i.stack.imgur.com/g8QCI.png","title":"jOOQ with SQLite datebase fails to generate Java code","body":"<p>I use jOOQ 3.16.5 to generate Java code, when I run the code, the terminal tells me to succeed, but the code is not generated, I don’t know why, so I copy the code to here and hope someone to help me</p>\n<ol>\n<li><p>This is <code>build.gradle</code></p>\n<pre><code>buildscript {\n    repositories {\n        mavenLocal()\n        mavenCentral()\n        gradlePluginPortal()\n        maven { url &quot;https://oss.sonatype.org/content/repositories/snapshots/&quot; \n    }\n    maven { url 'https://maven.aliyun.com/repository/public/'}\n    google()\n}\ndependencies {\n    classpath &quot;org.jooq:jooq-codegen:3.16.5&quot;\n    classpath 'org.postgresql:postgresql:42.2.14'\n    classpath 'org.xerial:sqlite-jdbc:3.30.1'\n    classpath 'org.codehaus.groovy:groovy-all:3.0.11'\n}\n\nplugins {\n    id &quot;org.flywaydb.flyway&quot; version &quot;8.5.13&quot;\n}\n\ndependencies {\n    implementation project(&quot;:core&quot;)\n    api &quot;com.badlogicgames.gdx:gdx-backend-lwjgl3:$gdxVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-platform:$gdxVersion:natives-desktop&quot;\n    api &quot;com.badlogicgames.gdx:gdx-bullet-platform:$gdxVersion:natives-desktop&quot;\n    api &quot;com.badlogicgames.gdx:gdx-freetype-platform:$gdxVersion:natives-desktop&quot;\n    api &quot;com.badlogicgames.gdx-controllers:gdx-controllers-desktop:$gdxControllersVersion&quot;\n    api &quot;com.badlogicgames.gdx:gdx-box2d-platform:$gdxVersion:natives-desktop&quot;\n\n    //flyway\n    implementation group: 'org.flywaydb', name: 'flyway-core', version: '8.5.13'\n    //jooq\n    implementation group: 'org.jooq', name: 'jooq', version: '3.16.5'\n    implementation group: 'org.jooq', name: 'jooq-meta', version: '3.16.5'\n    implementation group: 'org.jooq', name: 'jooq-codegen', version: '3.16.5'\n    implementation group: 'org.jooq', name: 'jooq-meta-extensions', version: '3.16.5'\n    //groovy\n    implementation 'org.codehaus.groovy:groovy-all:3.0.11'\n    //sqlitejdbc\n    implementation 'sqlitejdbc:sqlitejdbc:0.5.6'\n    //postgresql\n    implementation 'org.postgresql:postgresql:42.2.14'\n}\n</code></pre>\n</li>\n<li><p>This is Java code to generate POJO class and other files</p>\n<pre class=\"lang-java prettyprint-override\"><code>import org.jooq.codegen.GenerationTool;\nimport org.jooq.meta.jaxb.Configuration;\nimport org.jooq.meta.jaxb.Database;\nimport org.jooq.meta.jaxb.Generate;\nimport org.jooq.meta.jaxb.Generator;\nimport org.jooq.meta.jaxb.Jdbc;\nimport org.jooq.meta.jaxb.Property;\nimport org.jooq.meta.jaxb.Target;\n\npublic class JooqConfig {\n    public static void main(String[] args) {\n\n        Configuration configuration = new Configuration()\n\n                // Configure the database connection here\n                .withJdbc(new Jdbc()\n                        .withDriver(&quot;org.sqlite.JDBC&quot;)\n                        .withUrl(&quot;jdbc:sqlite:/home/myusername/sql/changdao.sqlite&quot;)\n                )\n                .withGenerator(new Generator()\n                        .withDatabase(new Database()\n                                .withName(&quot;org.jooq.meta.sqlite.SQLiteDatabase&quot;)\n                                .withIncludes(&quot;.*&quot;)\n                                .withExcludes(&quot;&quot; +\n                                        &quot;UNUSED_TABLE                # This table (unqualified name) should not be generated&quot; +\n                                        &quot;| PREFIX_.*                   # Objects with a given prefix should not be generated&quot; +\n                                        &quot;| SECRET_SCHEMA\\\\.SECRET_TABLE # This table (qualified name) should not be generated&quot; +\n                                        &quot;| SECRET_ROUTINE              # This routine (unqualified name) ...&quot; +\n                                        &quot;&quot;)\n                                .withInputSchema(&quot;public&quot;)\n                        )\n\n                        // Generation flags: See advanced configuration properties\n                        .withGenerate(new Generate()\n                                .withPojos(true)\n                                .withComments(true)\n                                .withCommentsOnCatalogs(true)\n                                .withRelations(true)\n                                .withImmutablePojos(false) // if true, cannot use 'into()' method\n                                .withInterfaces(true)\n                                .withDaos(true))\n                        .withTarget(new Target()\n                                .withPackageName(&quot;com.changdao.game.db&quot;)\n                                .withDirectory(&quot;desktop/src&quot;)\n                        )\n                );\n        try {\n            GenerationTool.generate(configuration);\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n}\n</code></pre>\n</li>\n</ol>\n<p>This is my database</p>\n<p><a href=\"https://i.stack.imgur.com/SzyF7.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/SzyF7.png\" alt=\"https://i.stack.imgur.com/SzyF7.png\" /></a></p>\n<p>and SQL is here, by a way, I use flyway to create a table</p>\n<pre class=\"lang-sql prettyprint-override\"><code>create table product(\n     id INTEGER primary key,\n     create_time TEXT\n);\n</code></pre>\n<p>I use Java 11 and I don't know is it important</p>\n<p><strong>2022-07-21</strong></p>\n<p>As Lukas Eder said，I changed the code like this</p>\n<pre><code>                    .withDatabase(new Database()\n                            .withName(&quot;org.jooq.meta.sqlite.SQLiteDatabase&quot;)\n                            .withIncludes(&quot;.*&quot;)\n                            .withExcludes(&quot;&quot; +\n                                    &quot;sqlite_master                # This table (unqualified name) should not be generated&quot; +\n                                    &quot;| PREFIX_.*                   # Objects with a given prefix should not be generated&quot; +\n                                    &quot;| SECRET_SCHEMA\\\\.SECRET_TABLE # This table (qualified name) should not be generated&quot; +\n                                    &quot;| SECRET_ROUTINE              # This routine (unqualified name) ...&quot; +\n                                    &quot;&quot;)\n                    )\n</code></pre>\n<p>and have some wrong</p>\n<pre><code>   SLF4J: Failed to load class &quot;org.slf4j.impl.StaticLoggerBinder&quot;.\nSLF4J: Defaulting to no-operation (NOP) logger implementation\nSLF4J: See http://www.slf4j.org/codes.html#StaticLoggerBinder for further details.\norg.jooq.codegen.GeneratorException: Error generating code for catalog \n    at org.jooq.codegen.JavaGenerator.generate0(JavaGenerator.java:488)\n    at org.jooq.codegen.AbstractGenerator.generate(AbstractGenerator.java:182)\n    at org.jooq.codegen.JavaGenerator.generate(JavaGenerator.java:202)\n    at org.jooq.codegen.GenerationTool.run0(GenerationTool.java:912)\n    at org.jooq.codegen.GenerationTool.run(GenerationTool.java:239)\n    at org.jooq.codegen.GenerationTool.generate(GenerationTool.java:234)\n    at com.changdao.game.publicclass.JooqConfig.main(JooqConfig.java:57)\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, '') from sqlite_master where lower(sqlite_master.sql) like lower('%create virtual table%')) select sqlite_master.name, case when sqlite_master.type = 'view' then 'VIEW' else 'TABLE' end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like '%!_content' escape '!' and sqlite_master.name not like '%!_segments' escape '!' and sqlite_master.name not like '%!_segdir' escape '!' and sqlite_master.name not like '%!_docsize' escape '!' and sqlite_master.name not like '%!_stat' escape '!') or (sqlite_master.name like '%!_content' escape '!' and &quot;replace&quot;(sqlite_master.name, '_content', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segments' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segments', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segdir' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segdir', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_docsize' escape '!' and &quot;replace&quot;(sqlite_master.name, '_docsize', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_stat' escape '!' and &quot;replace&quot;(sqlite_master.name, '_stat', '') not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\n    at org.jooq.meta.AbstractDatabase.onError(AbstractDatabase.java:3369)\n    at org.jooq.meta.AbstractDatabase.getEmbeddables(AbstractDatabase.java:2045)\n    at org.jooq.meta.AbstractDatabase.getEmbeddables(AbstractDatabase.java:2065)\n    at org.jooq.codegen.JavaGenerator.generateSchemaIfEmpty(JavaGenerator.java:527)\n    at java.base/java.util.stream.MatchOps$1MatchSink.accept(MatchOps.java:90)\n    at java.base/java.util.ArrayList$ArrayListSpliterator.tryAdvance(ArrayList.java:1632)\n    at java.base/java.util.stream.ReferencePipeline.forEachWithCancel(ReferencePipeline.java:127)\n    at java.base/java.util.stream.AbstractPipeline.copyIntoWithCancel(AbstractPipeline.java:502)\n    at java.base/java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:488)\n    at java.base/java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:474)\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:230)\n    at java.base/java.util.stream.MatchOps$MatchOp.evaluateSequential(MatchOps.java:196)\n    at java.base/java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)\n    at java.base/java.util.stream.ReferencePipeline.anyMatch(ReferencePipeline.java:528)\n    at org.jooq.codegen.JavaGenerator.generateCatalogIfEmpty(JavaGenerator.java:520)\n    at org.jooq.codegen.JavaGenerator.generate0(JavaGenerator.java:482)\n    ... 6 more\nCaused by: java.lang.RuntimeException: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, '') from sqlite_master where lower(sqlite_master.sql) like lower('%create virtual table%')) select sqlite_master.name, case when sqlite_master.type = 'view' then 'VIEW' else 'TABLE' end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like '%!_content' escape '!' and sqlite_master.name not like '%!_segments' escape '!' and sqlite_master.name not like '%!_segdir' escape '!' and sqlite_master.name not like '%!_docsize' escape '!' and sqlite_master.name not like '%!_stat' escape '!') or (sqlite_master.name like '%!_content' escape '!' and &quot;replace&quot;(sqlite_master.name, '_content', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segments' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segments', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segdir' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segdir', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_docsize' escape '!' and &quot;replace&quot;(sqlite_master.name, '_docsize', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_stat' escape '!' and &quot;replace&quot;(sqlite_master.name, '_stat', '') not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\n    at org.jooq.meta.AbstractDatabase.onError(AbstractDatabase.java:3369)\n    at org.jooq.meta.AbstractDatabase.getTables(AbstractDatabase.java:1783)\n    at org.jooq.meta.AbstractDatabase.getEmbeddables0(AbstractDatabase.java:2087)\n    at org.jooq.meta.AbstractDatabase.lambda$getEmbeddables$13(AbstractDatabase.java:2046)\n    at org.jooq.meta.AbstractDatabase.onError(AbstractDatabase.java:3359)\n    ... 21 more\nCaused by: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, '') from sqlite_master where lower(sqlite_master.sql) like lower('%create virtual table%')) select sqlite_master.name, case when sqlite_master.type = 'view' then 'VIEW' else 'TABLE' end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like '%!_content' escape '!' and sqlite_master.name not like '%!_segments' escape '!' and sqlite_master.name not like '%!_segdir' escape '!' and sqlite_master.name not like '%!_docsize' escape '!' and sqlite_master.name not like '%!_stat' escape '!') or (sqlite_master.name like '%!_content' escape '!' and &quot;replace&quot;(sqlite_master.name, '_content', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segments' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segments', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segdir' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segdir', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_docsize' escape '!' and &quot;replace&quot;(sqlite_master.name, '_docsize', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_stat' escape '!' and &quot;replace&quot;(sqlite_master.name, '_stat', '') not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\n    at org.jooq_3.16.5.SQLITE.debug(Unknown Source)\n    at org.jooq.impl.Tools.translate(Tools.java:3102)\n    at org.jooq.impl.DefaultExecuteContext.sqlException(DefaultExecuteContext.java:670)\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:354)\n    at org.jooq.impl.AbstractResultQuery.fetch(AbstractResultQuery.java:284)\n    at org.jooq.impl.SelectImpl.fetch(SelectImpl.java:2843)\n    at org.jooq.impl.ResultQueryTrait.iterator(ResultQueryTrait.java:300)\n    at org.jooq.meta.sqlite.SQLiteDatabase.getTables0(SQLiteDatabase.java:373)\n    at org.jooq.meta.AbstractDatabase.lambda$getTables$11(AbstractDatabase.java:1784)\n    at org.jooq.meta.AbstractDatabase.onError(AbstractDatabase.java:3359)\n    ... 25 more\nCaused by: java.sql.SQLException: near &quot;with&quot;: syntax error\n    at org.sqlite.DB.throwex(DB.java:288)\n    at org.sqlite.NativeDB.prepare(Native Method)\n    at org.sqlite.DB.prepare(DB.java:114)\n    at org.sqlite.PrepStmt.&lt;init&gt;(PrepStmt.java:37)\n    at org.sqlite.Conn.prepareStatement(Conn.java:231)\n    at org.sqlite.Conn.prepareStatement(Conn.java:224)\n    at org.sqlite.Conn.prepareStatement(Conn.java:213)\n    at org.jooq.impl.ProviderEnabledConnection.prepareStatement(ProviderEnabledConnection.java:109)\n    at org.jooq.impl.SettingsEnabledConnection.prepareStatement(SettingsEnabledConnection.java:82)\n    at org.jooq.impl.AbstractResultQuery.prepare(AbstractResultQuery.java:210)\n    at org.jooq.impl.AbstractQuery.execute(AbstractQuery.java:307)\n    ... 31 more\nCaused by: java.lang.RuntimeException: java.lang.RuntimeException: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, '') from sqlite_master where lower(sqlite_master.sql) like lower('%create virtual table%')) select sqlite_master.name, case when sqlite_master.type = 'view' then 'VIEW' else 'TABLE' end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like '%!_content' escape '!' and sqlite_master.name not like '%!_segments' escape '!' and sqlite_master.name not like '%!_segdir' escape '!' and sqlite_master.name not like '%!_docsize' escape '!' and sqlite_master.name not like '%!_stat' escape '!') or (sqlite_master.name like '%!_content' escape '!' and &quot;replace&quot;(sqlite_master.name, '_content', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segments' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segments', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segdir' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segdir', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_docsize' escape '!' and &quot;replace&quot;(sqlite_master.name, '_docsize', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_stat' escape '!' and &quot;replace&quot;(sqlite_master.name, '_stat', '') not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\n\nCaused by: java.lang.RuntimeException: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, '') from sqlite_master where lower(sqlite_master.sql) like lower('%create virtual table%')) select sqlite_master.name, case when sqlite_master.type = 'view' then 'VIEW' else 'TABLE' end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like '%!_content' escape '!' and sqlite_master.name not like '%!_segments' escape '!' and sqlite_master.name not like '%!_segdir' escape '!' and sqlite_master.name not like '%!_docsize' escape '!' and sqlite_master.name not like '%!_stat' escape '!') or (sqlite_master.name like '%!_content' escape '!' and &quot;replace&quot;(sqlite_master.name, '_content', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segments' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segments', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segdir' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segdir', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_docsize' escape '!' and &quot;replace&quot;(sqlite_master.name, '_docsize', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_stat' escape '!' and &quot;replace&quot;(sqlite_master.name, '_stat', '') not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\n\nCaused by: org.jooq.exception.DataAccessException: SQL [with virtual_tables(name) as (select coalesce(sqlite_master.name, '') from sqlite_master where lower(sqlite_master.sql) like lower('%create virtual table%')) select sqlite_master.name, case when sqlite_master.type = 'view' then 'VIEW' else 'TABLE' end as table_type, sqlite_master.sql from sqlite_master where (sqlite_master.type in (?, ?) and ((sqlite_master.name not like '%!_content' escape '!' and sqlite_master.name not like '%!_segments' escape '!' and sqlite_master.name not like '%!_segdir' escape '!' and sqlite_master.name not like '%!_docsize' escape '!' and sqlite_master.name not like '%!_stat' escape '!') or (sqlite_master.name like '%!_content' escape '!' and &quot;replace&quot;(sqlite_master.name, '_content', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segments' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segments', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_segdir' escape '!' and &quot;replace&quot;(sqlite_master.name, '_segdir', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_docsize' escape '!' and &quot;replace&quot;(sqlite_master.name, '_docsize', '') not in (select virtual_tables.name from virtual_tables)) or (sqlite_master.name like '%!_stat' escape '!' and &quot;replace&quot;(sqlite_master.name, '_stat', '') not in (select virtual_tables.name from virtual_tables)))) order by sqlite_master.name]; near &quot;with&quot;: syntax error\n\nCaused by: java.sql.SQLException: near &quot;with&quot;: syntax error\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/g8QCI.png\" rel=\"nofollow noreferrer\">enter image description here</a></p>\n"},{"tags":["java","android","android-studio","jar"],"answers":[{"tags":[],"owner":{"account_id":25871567,"reputation":26,"user_id":19602359,"display_name":"Bj&#246;rn Schramke"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658504881,"creation_date":1658504790,"answer_id":73082944,"question_id":73080710,"body_markdown":"If I understand it right, the problem here is that you are not build a library. \r\n\r\nA jar file is basically just a ZIP file with some meta data.\r\nSo if yo do a `jar cf filename.jar src/main/java/my/package`, what you get is basically a jar file containing your source code. But those jar file you cant directly use as dependency in your project (AFAIK).\r\n\r\nIf you want to share code with multiple projects, the easiest way would be to [setup an Gradle library project][1], move the code you want to share into it and then let gradle build your jars using `./gradlew jar`.\r\n\r\n\r\n  [1]: https://docs.gradle.org/current/samples/sample_building_java_libraries.html","title":"Problems with using a jar file as a library in android studio","body":"<p>If I understand it right, the problem here is that you are not build a library.</p>\n<p>A jar file is basically just a ZIP file with some meta data.\nSo if yo do a <code>jar cf filename.jar src/main/java/my/package</code>, what you get is basically a jar file containing your source code. But those jar file you cant directly use as dependency in your project (AFAIK).</p>\n<p>If you want to share code with multiple projects, the easiest way would be to <a href=\"https://docs.gradle.org/current/samples/sample_building_java_libraries.html\" rel=\"nofollow noreferrer\">setup an Gradle library project</a>, move the code you want to share into it and then let gradle build your jars using <code>./gradlew jar</code>.</p>\n"}],"owner":{"account_id":10863056,"reputation":139,"user_id":7987381,"accept_rate":64,"display_name":"Gullit"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":126,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73082944,"answer_count":1,"score":0,"last_activity_date":1658504881,"creation_date":1658494612,"question_id":73080710,"body_markdown":"I intend to extract some part of my project into a jar file in order to reuse it for another project. But before doing this, I have made a .jar file only of a package in my project. Right now i&#39;m struggling to reuse the jar file in my project.\r\n\r\nThe jar file is generated through cmd:\r\n\r\n``` jar cf filename.jar &lt;folder&gt; ```\r\n\r\nThe jar file is then added as a library into the folder libs.\r\n\r\nNow I want my current project to use the package inside the jar file in order to compile and not the package that already is in my project. But before even managing to do so, I encounter the following issue in every class inside the jar file: \r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/0ydlM.png\r\n  [2]: https://i.stack.imgur.com/RqpMA.png\r\njarred being the jar file containing the package.\r\n\r\nI&#39;ve been googling and trying to find whats causing this but there&#39;s nothing i&#39;ve found yet. I appreciate any help!","title":"Problems with using a jar file as a library in android studio","body":"<p>I intend to extract some part of my project into a jar file in order to reuse it for another project. But before doing this, I have made a .jar file only of a package in my project. Right now i'm struggling to reuse the jar file in my project.</p>\n<p>The jar file is generated through cmd:</p>\n<p><code>jar cf filename.jar &lt;folder&gt;</code></p>\n<p>The jar file is then added as a library into the folder libs.</p>\n<p>Now I want my current project to use the package inside the jar file in order to compile and not the package that already is in my project. But before even managing to do so, I encounter the following issue in every class inside the jar file:</p>\n<p><a href=\"https://i.stack.imgur.com/0ydlM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/0ydlM.png\" alt=\"enter image description here\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/RqpMA.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/RqpMA.png\" alt=\"enter image description here\" /></a></p>\n<p>jarred being the jar file containing the package.</p>\n<p>I've been googling and trying to find whats causing this but there's nothing i've found yet. I appreciate any help!</p>\n"},{"tags":["java","android","material-design","android-navigationview","material-components-android"],"answers":[{"tags":[],"owner":{"account_id":16661219,"reputation":618,"user_id":12041133,"display_name":"Emad Seliem"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1568405580,"creation_date":1568405580,"answer_id":57929837,"question_id":57929778,"body_markdown":"Add bottom left radious\r\n\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    android:shape=&quot;rectangle&quot;&gt;\r\n    \r\n    &lt;solid android:width=&quot;3dp&quot;\r\n        android:color=&quot;@color/colorPrimary&quot;\r\n        /&gt;\r\n    &lt;corners android:radius=&quot;1dp&quot;\r\n        android:bottomRightRadius=&quot;0dp&quot; android:bottomLeftRadius=&quot;30dp&quot;\r\n        android:topLeftRadius=&quot;30dp&quot; android:topRightRadius=&quot;0dp&quot;/&gt;\r\n    &lt;/shape&gt;","title":"Android NavigationView vith rounded corners","body":"<p>Add bottom left radious</p>\n\n<pre><code>&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\nandroid:shape=\"rectangle\"&gt;\n\n&lt;solid android:width=\"3dp\"\n    android:color=\"@color/colorPrimary\"\n    /&gt;\n&lt;corners android:radius=\"1dp\"\n    android:bottomRightRadius=\"0dp\" android:bottomLeftRadius=\"30dp\"\n    android:topLeftRadius=\"30dp\" android:topRightRadius=\"0dp\"/&gt;\n&lt;/shape&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2294849,"reputation":331976,"user_id":2016562,"accept_rate":92,"display_name":"Gabriele Mariotti"},"down_vote_count":0,"up_vote_count":12,"is_accepted":true,"score":12,"last_activity_date":1570351358,"creation_date":1568409502,"answer_id":57930457,"question_id":57929778,"body_markdown":"If you are using the [`NavigationView`][1] in the Material Components library, you can apply a custom [**`ShapeAppearanceModel`**][2] to the corner of the your `NavigationView`.\r\n\r\nSomething like:\r\n    \r\n    float radius = getResources().getDimension(R.dimen.roundcorner);\r\n    NavigationView navigationView = findViewById(R.id.nav_view);\r\n    MaterialShapeDrawable navViewBackground = (MaterialShapeDrawable) navigationView.getBackground();\r\n        navViewBackground.setShapeAppearanceModel(\r\n            navViewBackground.getShapeAppearanceModel()\r\n                .toBuilder()\r\n                .setTopRightCorner(CornerFamily.ROUNDED,radius)\r\n                .setBottomRightCorner(CornerFamily.ROUNDED,radius)\r\n                .build());\r\n\r\nIn this way the `NavigationView` has rounded corners.  \r\nNow you have to pay attention to the header layout to build a rounded corner on the top. You have to use as background for the header view, something like:\r\n\r\n    &lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:background=&quot;@drawable/side_nav_bar&quot; \r\n        ...&gt;\r\n\r\nwhere the side_nav_bar is\r\n\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:shape=&quot;rectangle&quot;&gt;\r\n         ....\r\n         &lt;corners android:topRightRadius=&quot;32dp&quot; /&gt;\r\n    &lt;/shape&gt;\r\n\r\nDon&#39;t use a rounded corner on the bottom, because it is only the view used on the header of the NavigationView.\r\n\r\n[![enter image description here][3]][3]\r\n\r\nThe `ShapeAppearanceModel` requires the version 1.1.0 of material components (currently `&#39;com.google.android.material:material:1.1.0-alpha10&#39;`)\r\n\r\n  [1]: https://github.com/material-components/material-components-android/blob/master/docs/components/NavigationView.md\r\n  [2]: https://developer.android.com/reference/com/google/android/material/shape/ShapeAppearanceModel\r\n  [3]: https://i.stack.imgur.com/d9bKU.png","title":"Android NavigationView vith rounded corners","body":"<p>If you are using the <a href=\"https://github.com/material-components/material-components-android/blob/master/docs/components/NavigationView.md\" rel=\"noreferrer\"><code>NavigationView</code></a> in the Material Components library, you can apply a custom <a href=\"https://developer.android.com/reference/com/google/android/material/shape/ShapeAppearanceModel\" rel=\"noreferrer\"><strong><code>ShapeAppearanceModel</code></strong></a> to the corner of the your <code>NavigationView</code>.</p>\n\n<p>Something like:</p>\n\n<pre><code>float radius = getResources().getDimension(R.dimen.roundcorner);\nNavigationView navigationView = findViewById(R.id.nav_view);\nMaterialShapeDrawable navViewBackground = (MaterialShapeDrawable) navigationView.getBackground();\n    navViewBackground.setShapeAppearanceModel(\n        navViewBackground.getShapeAppearanceModel()\n            .toBuilder()\n            .setTopRightCorner(CornerFamily.ROUNDED,radius)\n            .setBottomRightCorner(CornerFamily.ROUNDED,radius)\n            .build());\n</code></pre>\n\n<p>In this way the <code>NavigationView</code> has rounded corners.<br>\nNow you have to pay attention to the header layout to build a rounded corner on the top. You have to use as background for the header view, something like:</p>\n\n<pre><code>&lt;LinearLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:background=\"@drawable/side_nav_bar\" \n    ...&gt;\n</code></pre>\n\n<p>where the side_nav_bar is</p>\n\n<pre><code>&lt;shape xmlns:android=\"http://schemas.android.com/apk/res/android\"\n    android:shape=\"rectangle\"&gt;\n     ....\n     &lt;corners android:topRightRadius=\"32dp\" /&gt;\n&lt;/shape&gt;\n</code></pre>\n\n<p>Don't use a rounded corner on the bottom, because it is only the view used on the header of the NavigationView.</p>\n\n<p><a href=\"https://i.stack.imgur.com/d9bKU.png\" rel=\"noreferrer\"><img src=\"https://i.stack.imgur.com/d9bKU.png\" alt=\"enter image description here\"></a></p>\n\n<p>The <code>ShapeAppearanceModel</code> requires the version 1.1.0 of material components (currently <code>'com.google.android.material:material:1.1.0-alpha10'</code>)</p>\n"},{"tags":[],"owner":{"account_id":3460640,"reputation":3374,"user_id":2897869,"accept_rate":52,"display_name":"Hossein Kurd"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1599748201,"creation_date":1599748201,"answer_id":63831900,"question_id":57929778,"body_markdown":"In Kotlin Language create a class to make extensions:\r\n\r\n\r\n    fun MaterialNavigationView.changeCornerRadius() {\r\n        val navViewBackground : MaterialShapeDrawable = background as MaterialShapeDrawable\r\n        val radius = resources.getDimension(R.dimen.menu_radius)\r\n        navViewBackground.shapeAppearanceModel = navViewBackground.shapeAppearanceModel\r\n            .toBuilder()\r\n            .setTopLeftCorner(CornerFamily.ROUNDED, radius)\r\n            .setBottomLeftCorner(CornerFamily.ROUNDED, radius)\r\n            .build()\r\n    }\r\n\r\nUsage:\r\n\r\n    val materialNavigationView: MaterialNavigationView = findViewById(R.id.material_navigation_view)\r\n    materialNavigationView.changeCornerRadius()","title":"Android NavigationView vith rounded corners","body":"<p>In Kotlin Language create a class to make extensions:</p>\n<pre><code>fun MaterialNavigationView.changeCornerRadius() {\n    val navViewBackground : MaterialShapeDrawable = background as MaterialShapeDrawable\n    val radius = resources.getDimension(R.dimen.menu_radius)\n    navViewBackground.shapeAppearanceModel = navViewBackground.shapeAppearanceModel\n        .toBuilder()\n        .setTopLeftCorner(CornerFamily.ROUNDED, radius)\n        .setBottomLeftCorner(CornerFamily.ROUNDED, radius)\n        .build()\n}\n</code></pre>\n<p>Usage:</p>\n<pre><code>val materialNavigationView: MaterialNavigationView = findViewById(R.id.material_navigation_view)\nmaterialNavigationView.changeCornerRadius()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6801132,"reputation":3,"user_id":5234410,"display_name":"이재필"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613723000,"creation_date":1613723000,"answer_id":66274014,"question_id":57929778,"body_markdown":"If you don&#39;t want to use MaterialShapeDrawable, the following method.\r\nIt&#39;s also the best way I think. \r\n\r\nFirst, Adjust the Opacity of the background of the Navigation View. \r\nSecond, Round the layout inside the Navigation View.\r\n\r\n❖ However, be careful with the background of the top and bottom views. \r\n\r\n\r\nlayout_gnb.xml\r\n\r\n    &lt;com.google.android.material.navigation.NavigationView\r\n    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n        android:id=&quot;@+id/NAVIGATION_VIEW&quot;\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:background=&quot;#00000000&quot;&gt;\r\n    \r\n        &lt;LinearLayout\r\n            android:id=&quot;@+id/LINEAR_LAYOUT_03&quot;\r\n            android:layout_width=&quot;match_parent&quot;\r\n            android:layout_height=&quot;match_parent&quot;\r\n            android:orientation=&quot;vertical&quot;\r\n            android:background=&quot;@drawable/rounded_right_corner_light_white_rectangle&quot;&gt;\r\n        ...\r\n        &lt;/LinearLayout&gt;\r\n    \r\n    &lt;/com.google.android.material.navigation.NavigationView&gt;\r\n\r\nrounded_right_corner_light_white_rectangle.xml\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    &lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n        android:shape=&quot;rectangle&quot;&gt;\r\n        &lt;corners android:topRightRadius=&quot;30dp&quot; \r\n                 android:bottomRightRadius=&quot;30dp&quot; /&gt;\r\n        &lt;solid android:color=&quot;@color/colorLightWhite&quot; /&gt;\r\n    &lt;/shape&gt;","title":"Android NavigationView vith rounded corners","body":"<p>If you don't want to use MaterialShapeDrawable, the following method.\nIt's also the best way I think.</p>\n<p>First, Adjust the Opacity of the background of the Navigation View.\nSecond, Round the layout inside the Navigation View.</p>\n<p>❖ However, be careful with the background of the top and bottom views.</p>\n<p>layout_gnb.xml</p>\n<pre><code>&lt;com.google.android.material.navigation.NavigationView\nxmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:id=&quot;@+id/NAVIGATION_VIEW&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;match_parent&quot;\n    android:background=&quot;#00000000&quot;&gt;\n\n    &lt;LinearLayout\n        android:id=&quot;@+id/LINEAR_LAYOUT_03&quot;\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;vertical&quot;\n        android:background=&quot;@drawable/rounded_right_corner_light_white_rectangle&quot;&gt;\n    ...\n    &lt;/LinearLayout&gt;\n\n&lt;/com.google.android.material.navigation.NavigationView&gt;\n</code></pre>\n<p>rounded_right_corner_light_white_rectangle.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    android:shape=&quot;rectangle&quot;&gt;\n    &lt;corners android:topRightRadius=&quot;30dp&quot; \n             android:bottomRightRadius=&quot;30dp&quot; /&gt;\n    &lt;solid android:color=&quot;@color/colorLightWhite&quot; /&gt;\n&lt;/shape&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":23409152,"reputation":21,"user_id":17471116,"display_name":"Kiparisov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658504793,"creation_date":1658238977,"answer_id":73038300,"question_id":57929778,"body_markdown":"You can just add this line into `NavigationView`:\r\n\r\n    app:drawerLayoutCornerSize=&quot;xdp&quot;\r\n\r\n","title":"Android NavigationView vith rounded corners","body":"<p>You can just add this line into <code>NavigationView</code>:</p>\n<pre><code>app:drawerLayoutCornerSize=&quot;xdp&quot;\n</code></pre>\n"}],"owner":{"account_id":4737451,"reputation":161,"user_id":3831412,"display_name":"tesoner"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":6816,"favorite_count":0,"down_vote_count":0,"up_vote_count":8,"accepted_answer_id":57930457,"answer_count":5,"score":8,"last_activity_date":1658504793,"creation_date":1568405218,"question_id":57929778,"body_markdown":"I am designing a **custom Drawer** on **Android**, it must have rounded corners in top and bottom, I am first customizing top side and I find the problem that the **background of the shape is not transparent**.\r\n\r\nI have:  \r\n[![screenshot][1]][1]  \n&lt;sub&gt;(source: [toile-libre.org](https://pix.toile-libre.org/upload/original/1568406523.png))&lt;/sub&gt;  \n\r\n\r\n\r\nI need to build:  \r\n[![design][2]][2]  \n&lt;sub&gt;(source: [toile-libre.org](https://pix.toile-libre.org/upload/original/1568407937.png))&lt;/sub&gt;  \n\r\n\r\nI would also like some help on how to round it on the bottom\r\n\r\nnav_header_main.xml\r\n```\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\r\n    android:layout_width=&quot;match_parent&quot;\r\n    android:layout_height=&quot;@dimen/nav_header_height&quot;\r\n    android:background=&quot;@drawable/side_nav_bar&quot;\r\n    android:gravity=&quot;bottom&quot;\r\n    android:orientation=&quot;vertical&quot;\r\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\r\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\r\n    android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;&gt;\r\n    &lt;LinearLayout\r\n        android:layout_width=&quot;match_parent&quot;\r\n        android:layout_height=&quot;match_parent&quot;\r\n        android:orientation=&quot;horizontal&quot;&gt;\r\n        &lt;ImageView\r\n            android:id=&quot;@+id/imageView&quot;\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_weight=&quot;4&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:contentDescription=&quot;@string/nav_header_desc&quot;\r\n            android:paddingTop=&quot;@dimen/nav_header_vertical_spacing&quot;\r\n            app:srcCompat=&quot;@mipmap/ic_launcher_round&quot; /&gt;\r\n        &lt;LinearLayout\r\n            android:layout_width=&quot;0dp&quot;\r\n            android:layout_weight=&quot;5&quot;\r\n            android:layout_height=&quot;wrap_content&quot;\r\n            android:orientation=&quot;vertical&quot;&gt;\r\n            &lt;TextView\r\n                android:layout_width=&quot;match_parent&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:paddingTop=&quot;@dimen/nav_header_vertical_spacing&quot;\r\n                android:text=&quot;@string/nav_header_title&quot;\r\n                android:textColor=&quot;@color/colorWhite&quot;\r\nandroid:textAppearance=&quot;@style/TextAppearance.AppCompat.Headline&quot; /&gt;\r\n            &lt;TextView\r\n                android:id=&quot;@+id/textView&quot;\r\n                android:layout_width=&quot;wrap_content&quot;\r\n                android:layout_height=&quot;wrap_content&quot;\r\n                android:textColor=&quot;@color/colorWhite&quot;\r\n                android:text=&quot;@string/nav_header_subtitle&quot; /&gt;\r\n        &lt;/LinearLayout&gt;\r\n    &lt;/LinearLayout&gt;\r\n&lt;/LinearLayout&gt;\r\n```  \r\n\r\n\r\n\r\nside_nav_bar.xml  \r\n```\r\n&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\nandroid:shape=&quot;rectangle&quot;&gt;\r\n\r\n&lt;solid android:width=&quot;3dp&quot;\r\n    android:color=&quot;@color/colorPrimary&quot;\r\n    /&gt;\r\n&lt;corners android:radius=&quot;1dp&quot;\r\n    android:bottomRightRadius=&quot;0dp&quot; android:bottomLeftRadius=&quot;0dp&quot;\r\n    android:topLeftRadius=&quot;30dp&quot; android:topRightRadius=&quot;0dp&quot;/&gt;\r\n&lt;/shape&gt;\r\n```\n\n [1]: https://i.stack.imgur.com/jqCMR.png\n [2]: https://i.stack.imgur.com/scY8M.png","title":"Android NavigationView vith rounded corners","body":"<p>I am designing a <strong>custom Drawer</strong> on <strong>Android</strong>, it must have rounded corners in top and bottom, I am first customizing top side and I find the problem that the <strong>background of the shape is not transparent</strong>.</p>\n<p>I have:<br />\n<a href=\"https://i.stack.imgur.com/jqCMR.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jqCMR.png\" alt=\"screenshot\" /></a><br />\n<sub>(source: <a href=\"https://pix.toile-libre.org/upload/original/1568406523.png\" rel=\"nofollow noreferrer\">toile-libre.org</a>)</sub></p>\n<p>I need to build:<br />\n<a href=\"https://i.stack.imgur.com/scY8M.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/scY8M.png\" alt=\"design\" /></a><br />\n<sub>(source: <a href=\"https://pix.toile-libre.org/upload/original/1568407937.png\" rel=\"nofollow noreferrer\">toile-libre.org</a>)</sub></p>\n<p>I would also like some help on how to round it on the bottom</p>\n<p>nav_header_main.xml</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\n&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;\n    android:layout_width=&quot;match_parent&quot;\n    android:layout_height=&quot;@dimen/nav_header_height&quot;\n    android:background=&quot;@drawable/side_nav_bar&quot;\n    android:gravity=&quot;bottom&quot;\n    android:orientation=&quot;vertical&quot;\n    android:paddingLeft=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingTop=&quot;@dimen/activity_vertical_margin&quot;\n    android:paddingRight=&quot;@dimen/activity_horizontal_margin&quot;\n    android:paddingBottom=&quot;@dimen/activity_vertical_margin&quot;\n    android:theme=&quot;@style/ThemeOverlay.AppCompat.Dark&quot;&gt;\n    &lt;LinearLayout\n        android:layout_width=&quot;match_parent&quot;\n        android:layout_height=&quot;match_parent&quot;\n        android:orientation=&quot;horizontal&quot;&gt;\n        &lt;ImageView\n            android:id=&quot;@+id/imageView&quot;\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;4&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:contentDescription=&quot;@string/nav_header_desc&quot;\n            android:paddingTop=&quot;@dimen/nav_header_vertical_spacing&quot;\n            app:srcCompat=&quot;@mipmap/ic_launcher_round&quot; /&gt;\n        &lt;LinearLayout\n            android:layout_width=&quot;0dp&quot;\n            android:layout_weight=&quot;5&quot;\n            android:layout_height=&quot;wrap_content&quot;\n            android:orientation=&quot;vertical&quot;&gt;\n            &lt;TextView\n                android:layout_width=&quot;match_parent&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:paddingTop=&quot;@dimen/nav_header_vertical_spacing&quot;\n                android:text=&quot;@string/nav_header_title&quot;\n                android:textColor=&quot;@color/colorWhite&quot;\nandroid:textAppearance=&quot;@style/TextAppearance.AppCompat.Headline&quot; /&gt;\n            &lt;TextView\n                android:id=&quot;@+id/textView&quot;\n                android:layout_width=&quot;wrap_content&quot;\n                android:layout_height=&quot;wrap_content&quot;\n                android:textColor=&quot;@color/colorWhite&quot;\n                android:text=&quot;@string/nav_header_subtitle&quot; /&gt;\n        &lt;/LinearLayout&gt;\n    &lt;/LinearLayout&gt;\n&lt;/LinearLayout&gt;\n</code></pre>\n<p>side_nav_bar.xml</p>\n<pre><code>&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\nandroid:shape=&quot;rectangle&quot;&gt;\n\n&lt;solid android:width=&quot;3dp&quot;\n    android:color=&quot;@color/colorPrimary&quot;\n    /&gt;\n&lt;corners android:radius=&quot;1dp&quot;\n    android:bottomRightRadius=&quot;0dp&quot; android:bottomLeftRadius=&quot;0dp&quot;\n    android:topLeftRadius=&quot;30dp&quot; android:topRightRadius=&quot;0dp&quot;/&gt;\n&lt;/shape&gt;\n</code></pre>\n"},{"tags":["java","linux","ubuntu","javafx","permissions"],"answers":[{"tags":[],"owner":{"account_id":81822,"reputation":204250,"user_id":230513,"accept_rate":100,"display_name":"trashgod"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658504621,"creation_date":1658430211,"answer_id":73071456,"question_id":73070274,"body_markdown":"As shown [here][1], specify [`redirectErrorStream(true)`][2] to see more about the error. For example, on my platform,\r\n\r\n    Process p = new ProcessBuilder()\r\n        .command(&quot;/usr/bin/uptime&quot;, &quot;-p&quot;)\r\n        .redirectErrorStream(true)\r\n        .start();\r\n    InputStream in = p.getInputStream();\r\n    System.out.println(new String(in.readAllBytes()));\r\n\r\nTells me this:\r\n\r\n    uptime: illegal option -- p\r\n    usage: uptime\r\n\r\nRemoving the unsupported option, produces the expected output. As an aside the full path can be determined by running `which uptime`.\r\n\r\n  [1]: https://stackoverflow.com/a/1985463/230513\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html#redirectErrorStream(boolean)\r\n\r\n","title":"JavaFX java.io.IOException &quot;uptime&quot;: error=13, permission denied - Running program as regular user","body":"<p>As shown <a href=\"https://stackoverflow.com/a/1985463/230513\">here</a>, specify <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/ProcessBuilder.html#redirectErrorStream(boolean)\" rel=\"nofollow noreferrer\"><code>redirectErrorStream(true)</code></a> to see more about the error. For example, on my platform,</p>\n<pre><code>Process p = new ProcessBuilder()\n    .command(&quot;/usr/bin/uptime&quot;, &quot;-p&quot;)\n    .redirectErrorStream(true)\n    .start();\nInputStream in = p.getInputStream();\nSystem.out.println(new String(in.readAllBytes()));\n</code></pre>\n<p>Tells me this:</p>\n<pre><code>uptime: illegal option -- p\nusage: uptime\n</code></pre>\n<p>Removing the unsupported option, produces the expected output. As an aside the full path can be determined by running <code>which uptime</code>.</p>\n"}],"owner":{"account_id":2220452,"reputation":395,"user_id":1959933,"accept_rate":68,"display_name":"xR34P3Rx"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":493,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658504621,"creation_date":1658423782,"question_id":73070274,"body_markdown":"I&#39;m writing a program for work and a certain part of the code uses `Process` and `ProcessBuilder` to run some system commands.\r\n\r\nI&#39;m developing it in a Linux Mint machine but the program will run in Ubuntu 20.04 GNOME.\r\n\r\nWhen I build the maven project as javafx:jlink (because I&#39;m going to build it as a .deb package) and run the `bin/app` script that gets created. I get this error in the console.\r\n\r\n```\r\njava.io.IOException: Cannot run program &quot;uptime&quot;: error=13, Permission denied\r\n```\r\n\r\nI&#39;ve already searched other threads and they all say the same thing that I have to give the user running the program permissions to that executable with `chmod u+x /usr/bin/uptime`. It doesn&#39;t work.\r\n\r\nOriginally this part of the code was using `Process`, switched to `ProcessBuilder` and still didn&#39;t do anything. I even went as far as to make the user owner of `/usr/bin/uptime` and I still get that error.\r\n\r\nThis is what I&#39;m currently working with:\r\n\r\n    // Set Uptime\r\n    try{\r\n        Process p = new ProcessBuilder().command(&quot;uptime&quot;,&quot;-p&quot;).start();\r\n        InputStream in = p.getInputStream();\r\n        uptime = new String(in.readAllBytes());\r\n        p.destroy();\r\n    }catch (IOException err){\r\n        System.out.println(err.getMessage());\r\n        err.printStackTrace();\r\n    }\r\n\r\nThe only difference that I can think of is that in my Linux Mint machine, my user is Administrator where as the test machine, the user is a regular user.\r\n\r\nI disabled AppArmor thinking it was causing issues, checked `journalctl -xe` to see if anything odd came up and even checked `/var/log/syslog` but no errors either.\r\n\r\nIf I open a regular terminal as this user, I can run these commands perfectly fine. It&#39;s getting a bit hard to pinpoint where this is giving me trouble. Any thoughts?\r\n","title":"JavaFX java.io.IOException &quot;uptime&quot;: error=13, permission denied - Running program as regular user","body":"<p>I'm writing a program for work and a certain part of the code uses <code>Process</code> and <code>ProcessBuilder</code> to run some system commands.</p>\n<p>I'm developing it in a Linux Mint machine but the program will run in Ubuntu 20.04 GNOME.</p>\n<p>When I build the maven project as javafx:jlink (because I'm going to build it as a .deb package) and run the <code>bin/app</code> script that gets created. I get this error in the console.</p>\n<pre><code>java.io.IOException: Cannot run program &quot;uptime&quot;: error=13, Permission denied\n</code></pre>\n<p>I've already searched other threads and they all say the same thing that I have to give the user running the program permissions to that executable with <code>chmod u+x /usr/bin/uptime</code>. It doesn't work.</p>\n<p>Originally this part of the code was using <code>Process</code>, switched to <code>ProcessBuilder</code> and still didn't do anything. I even went as far as to make the user owner of <code>/usr/bin/uptime</code> and I still get that error.</p>\n<p>This is what I'm currently working with:</p>\n<pre><code>// Set Uptime\ntry{\n    Process p = new ProcessBuilder().command(&quot;uptime&quot;,&quot;-p&quot;).start();\n    InputStream in = p.getInputStream();\n    uptime = new String(in.readAllBytes());\n    p.destroy();\n}catch (IOException err){\n    System.out.println(err.getMessage());\n    err.printStackTrace();\n}\n</code></pre>\n<p>The only difference that I can think of is that in my Linux Mint machine, my user is Administrator where as the test machine, the user is a regular user.</p>\n<p>I disabled AppArmor thinking it was causing issues, checked <code>journalctl -xe</code> to see if anything odd came up and even checked <code>/var/log/syslog</code> but no errors either.</p>\n<p>If I open a regular terminal as this user, I can run these commands perfectly fine. It's getting a bit hard to pinpoint where this is giving me trouble. Any thoughts?</p>\n"},{"tags":["java","android","button","android-optionsmenu"],"answers":[{"tags":[],"owner":{"account_id":1219848,"reputation":10949,"user_id":1186689,"accept_rate":80,"display_name":"KDeogharkar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1360988274,"creation_date":1360988274,"answer_id":14906876,"question_id":14906463,"body_markdown":"This happen to me many times when I am developing android on eclipse, and clean and rebuilding a project fixes it as it will recreate android Resource file and correctly map to your UI id&#39;s.","title":"Options Menu not working","body":"<p>This happen to me many times when I am developing android on eclipse, and clean and rebuilding a project fixes it as it will recreate android Resource file and correctly map to your UI id's.</p>\n"}],"owner":{"account_id":2273977,"reputation":5,"user_id":2000734,"display_name":"user2000734"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":14906876,"answer_count":1,"score":0,"last_activity_date":1658504273,"creation_date":1360983565,"question_id":14906463,"body_markdown":"I am trying to inflate a simple options menu, there are no errors in my code but when i click on the menu button in my app nothing happens. Below is my code and the menu xml file. Thank you in advance.\r\n\r\n\r\nMainActivity.java: \r\n\r\n\r\n    package com.carouseldemo.main;\r\n    \r\n    import com.carouseldemo.controls.Carousel;\r\n    \r\n    import com.carouseldemo.controls.CarouselAdapter;\r\n    import com.carouseldemo.controls.CarouselAdapter.OnItemClickListener;\r\n    import com.carouseldemo.controls.CarouselAdapter.OnItemSelectedListener;\r\n    import com.carouseldemo.controls.CarouselItem;\r\n    \r\n    \r\n    import android.app.Activity;\r\n    import android.os.Bundle;\r\n    import android.view.Gravity;\r\n    import android.view.LayoutInflater;\r\n    import android.view.MenuInflater;\r\n    import android.view.Menu;\r\n    import android.view.View;\r\n    import android.widget.TextView;\r\n    import android.widget.Toast;\r\n    \r\n    \r\n    \r\n    \r\n    public class MainActivity extends Activity {\r\n        /** Called when the activity is first created. */\r\n        @Override\r\n        public boolean onCreateOptionsMenu(Menu menu){\r\n            MenuInflater inflater = getMenuInflater();\r\n            inflater.inflate(R.menu.testmenu, menu);\r\n            return true;\r\n            \r\n        }\r\n        @Override\r\n        public void onCreate(Bundle savedInstanceState) {\r\n            super.onCreate(savedInstanceState);\r\n            setContentView(R.layout.main);\r\n            Carousel carousel = (Carousel)findViewById(R.id.carousel);\r\n           \r\n               \r\n            carousel.setOnItemClickListener(new OnItemClickListener(){\r\n    \r\n    \t\t\tpublic void onItemClick(CarouselAdapter&lt;?&gt; parent, View view,\r\n    \t\t\t\t\tint position, long id) {\t\r\n    \t\t\t\t\r\n                                      Toast.makeText(MainActivity.this, \r\n    \t\t\t\t\t    String.format(&quot;%s has been clicked&quot;,    \r\n    \t\t\t\t\t    ((CarouselItem)view).getName()), \r\n    \t\t\t\t\t    Toast.LENGTH_SHORT).show();\r\n    \t\t\t\t\r\n    \t\t\t\t\t\t\t\r\n    \t\t\t}\r\n    \t\t\t\r\n    \t\t\t\r\n            \t\r\n            });\r\n            \r\n    \r\n                carousel.setOnItemSelectedListener(new OnItemSelectedListener(){\r\n    \r\n    \t\t\tpublic void onItemSelected(CarouselAdapter&lt;?&gt; parent, View view,\r\n    \t\t\t\t\tint position, long id) {\r\n    \t\t\t\t\r\n    \t\t        final TextView txt = (TextView)(findViewById(R.id.selected_item));\r\n    \t\t        \r\n    \t\t\t\tswitch(position){\r\n    \t\t\t\tcase 0:\r\n    \t\t\t\t\ttxt.setText(&quot;The cat (Felis catus), also known as the domestic cat or housecat to distinguish it from other felids and felines, is a small, usually furry, domesticated, carnivorous mammal that is valued by humans for its companionship and for its ability to hunt vermin and household pests. Cats have been associated with humans for at least 9,500 years, and are currently the most popular pet in the world. Owing to their close association with humans, cats are now found almost everywhere in the world.&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 1:\r\n    \t\t\t\t\ttxt.setText(&quot;The hippopotamus (Hippopotamus amphibius), or hippo, from the ancient Greek for \\&quot;river horse\\&quot; (&#225;&#188;&#177;&#207;€&#207;€&#206;&#191;&#207;€&#207;Œ&#207;„&#206;&#177;&#206;&#188;&#206;&#191;&#207;‚), is a large, mostly herbivorous mammal in sub-Saharan Africa, and one of only two extant species in the family Hippopotamidae (the other is the Pygmy Hippopotamus.) After the elephant, the hippopotamus is the third largest land mammal and the heaviest extant artiodactyl.&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 2:\r\n    \t\t\t\t\ttxt.setText(&quot;A monkey is a primate, either an Old World monkey or a New World monkey. There are about 260 known living species of monkey. Many are arboreal, although there are species that live primarily on the ground, such as baboons. Monkeys are generally considered to be intelligent. Unlike apes, monkeys usually have tails. Tailless monkeys may be called \\&quot;apes\\&quot;, incorrectly according to modern usage; thus the tailless Barbary macaque is called the \\&quot;Barbary ape\\&quot;.&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 3:\r\n    \t\t\t\t\ttxt.setText(&quot;A mouse (plural: mice) is a small mammal belonging to the order of rodents. The best known mouse species is the common house mouse (Mus musculus). It is also a popular pet. In some places, certain kinds of field mice are also common. This rodent is eaten by large birds such as hawks and eagles. They are known to invade homes for food and occasionally shelter.&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 4:\r\n    \t\t\t\t\ttxt.setText(&quot;The giant panda, or panda (Ailuropoda melanoleuca, literally meaning \\&quot;black and white cat-foot\\&quot;) is a bear native to central-western and south western China.[4] It is easily recognized by its large, distinctive black patches around the eyes, over the ears, and across its round body. Though it belongs to the order Carnivora, the panda&#39;s diet is 99% bamboo.&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\tcase 5:\r\n    \t\t\t\t\ttxt.setText(&quot;Rabbits (or, colloquially, bunnies) are small mammals in the family Leporidae of the order Lagomorpha, found in several parts of the world. There are eight different genera in the family classified as rabbits, including the European rabbit (Oryctolagus cuniculus), cottontail rabbits (genus Sylvilagus; 13 species), and the Amami rabbit (Pentalagus furnessi, an endangered species on Amami &#197;Œshima, Japan)&quot;);\r\n    \t\t\t\t\tbreak;\r\n    \t\t\t\t}\r\n    \t\t\t\t\r\n    \t\t\t}\r\n    \r\n    \t\t\tpublic void onNothingSelected(CarouselAdapter&lt;?&gt; parent) {\r\n    \t\t\t} \r\n        \r\n            \r\n            }\r\n            );\r\n            \r\n        }\r\n        \r\n    }\r\n\r\n\r\n\r\n\r\ntestmenu.xml file :\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;\r\n    \r\n    &lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;\r\n        &lt;item android:id=&quot;@+id/item1&quot; android:title=&quot;Option A&quot;&gt;&lt;/item&gt;\r\n        &lt;item android:id=&quot;@+id/item2&quot; android:title=&quot;Option B&quot;&gt;&lt;/item&gt;\r\n        &lt;item android:id=&quot;@+id/item3&quot; android:title=&quot;Option C&quot;&gt;&lt;/item&gt;\r\n        &lt;item android:id=&quot;@+id/item4&quot; android:title=&quot;Option D&quot;&gt;&lt;/item&gt;\r\n            \r\n       \r\n    &lt;/menu&gt;\r\n\r\n","title":"Options Menu not working","body":"<p>I am trying to inflate a simple options menu, there are no errors in my code but when i click on the menu button in my app nothing happens. Below is my code and the menu xml file. Thank you in advance.</p>\n\n<p>MainActivity.java: </p>\n\n<pre><code>package com.carouseldemo.main;\n\nimport com.carouseldemo.controls.Carousel;\n\nimport com.carouseldemo.controls.CarouselAdapter;\nimport com.carouseldemo.controls.CarouselAdapter.OnItemClickListener;\nimport com.carouseldemo.controls.CarouselAdapter.OnItemSelectedListener;\nimport com.carouseldemo.controls.CarouselItem;\n\n\nimport android.app.Activity;\nimport android.os.Bundle;\nimport android.view.Gravity;\nimport android.view.LayoutInflater;\nimport android.view.MenuInflater;\nimport android.view.Menu;\nimport android.view.View;\nimport android.widget.TextView;\nimport android.widget.Toast;\n\n\n\n\npublic class MainActivity extends Activity {\n    /** Called when the activity is first created. */\n    @Override\n    public boolean onCreateOptionsMenu(Menu menu){\n        MenuInflater inflater = getMenuInflater();\n        inflater.inflate(R.menu.testmenu, menu);\n        return true;\n\n    }\n    @Override\n    public void onCreate(Bundle savedInstanceState) {\n        super.onCreate(savedInstanceState);\n        setContentView(R.layout.main);\n        Carousel carousel = (Carousel)findViewById(R.id.carousel);\n\n\n        carousel.setOnItemClickListener(new OnItemClickListener(){\n\n            public void onItemClick(CarouselAdapter&lt;?&gt; parent, View view,\n                    int position, long id) {    \n\n                                  Toast.makeText(MainActivity.this, \n                        String.format(\"%s has been clicked\",    \n                        ((CarouselItem)view).getName()), \n                        Toast.LENGTH_SHORT).show();\n\n\n            }\n\n\n\n        });\n\n\n            carousel.setOnItemSelectedListener(new OnItemSelectedListener(){\n\n            public void onItemSelected(CarouselAdapter&lt;?&gt; parent, View view,\n                    int position, long id) {\n\n                final TextView txt = (TextView)(findViewById(R.id.selected_item));\n\n                switch(position){\n                case 0:\n                    txt.setText(\"The cat (Felis catus), also known as the domestic cat or housecat to distinguish it from other felids and felines, is a small, usually furry, domesticated, carnivorous mammal that is valued by humans for its companionship and for its ability to hunt vermin and household pests. Cats have been associated with humans for at least 9,500 years, and are currently the most popular pet in the world. Owing to their close association with humans, cats are now found almost everywhere in the world.\");\n                    break;\n                case 1:\n                    txt.setText(\"The hippopotamus (Hippopotamus amphibius), or hippo, from the ancient Greek for \\\"river horse\\\" (á¼±Ï€Ï€Î¿Ï€ÏŒÏ„Î±Î¼Î¿Ï‚), is a large, mostly herbivorous mammal in sub-Saharan Africa, and one of only two extant species in the family Hippopotamidae (the other is the Pygmy Hippopotamus.) After the elephant, the hippopotamus is the third largest land mammal and the heaviest extant artiodactyl.\");\n                    break;\n                case 2:\n                    txt.setText(\"A monkey is a primate, either an Old World monkey or a New World monkey. There are about 260 known living species of monkey. Many are arboreal, although there are species that live primarily on the ground, such as baboons. Monkeys are generally considered to be intelligent. Unlike apes, monkeys usually have tails. Tailless monkeys may be called \\\"apes\\\", incorrectly according to modern usage; thus the tailless Barbary macaque is called the \\\"Barbary ape\\\".\");\n                    break;\n                case 3:\n                    txt.setText(\"A mouse (plural: mice) is a small mammal belonging to the order of rodents. The best known mouse species is the common house mouse (Mus musculus). It is also a popular pet. In some places, certain kinds of field mice are also common. This rodent is eaten by large birds such as hawks and eagles. They are known to invade homes for food and occasionally shelter.\");\n                    break;\n                case 4:\n                    txt.setText(\"The giant panda, or panda (Ailuropoda melanoleuca, literally meaning \\\"black and white cat-foot\\\") is a bear native to central-western and south western China.[4] It is easily recognized by its large, distinctive black patches around the eyes, over the ears, and across its round body. Though it belongs to the order Carnivora, the panda's diet is 99% bamboo.\");\n                    break;\n                case 5:\n                    txt.setText(\"Rabbits (or, colloquially, bunnies) are small mammals in the family Leporidae of the order Lagomorpha, found in several parts of the world. There are eight different genera in the family classified as rabbits, including the European rabbit (Oryctolagus cuniculus), cottontail rabbits (genus Sylvilagus; 13 species), and the Amami rabbit (Pentalagus furnessi, an endangered species on Amami ÅŒshima, Japan)\");\n                    break;\n                }\n\n            }\n\n            public void onNothingSelected(CarouselAdapter&lt;?&gt; parent) {\n            } \n\n\n        }\n        );\n\n    }\n\n}\n</code></pre>\n\n<p>testmenu.xml file :</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"utf-8\"?&gt;\n\n&lt;menu xmlns:android=\"http://schemas.android.com/apk/res/android\"&gt;\n    &lt;item android:id=\"@+id/item1\" android:title=\"Option A\"&gt;&lt;/item&gt;\n    &lt;item android:id=\"@+id/item2\" android:title=\"Option B\"&gt;&lt;/item&gt;\n    &lt;item android:id=\"@+id/item3\" android:title=\"Option C\"&gt;&lt;/item&gt;\n    &lt;item android:id=\"@+id/item4\" android:title=\"Option D\"&gt;&lt;/item&gt;\n\n\n&lt;/menu&gt;\n</code></pre>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":9172301,"reputation":4168,"user_id":6819340,"accept_rate":39,"display_name":"darshan"},"score":0,"creation_date":1658501388,"post_id":73082163,"comment_id":129074577,"body_markdown":"Use `onPostExecute ` for processing the data &amp; performing UI based ops. Check example: https://www.tutorialspoint.com/android-asynctask-example-and-explanation","body":"Use <code>onPostExecute </code> for processing the data &amp; performing UI based ops. Check example: <a href=\"https://www.tutorialspoint.com/android-asynctask-example-and-explanation\" rel=\"nofollow noreferrer\">tutorialspoint.com/android-asynctask-example-and-explanation</a>"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658501393,"post_id":73082163,"comment_id":129074579,"body_markdown":"You are creating a Handler object in somewhere in the code that you haven&#39;t shared. Could you share the whole AsyncTask implementation?","body":"You are creating a Handler object in somewhere in the code that you haven&#39;t shared. Could you share the whole AsyncTask implementation?"},{"owner":{"account_id":3634682,"reputation":1369,"user_id":3030060,"accept_rate":70,"display_name":"Brittany"},"score":0,"creation_date":1658501600,"post_id":73082163,"comment_id":129074674,"body_markdown":"@Kozmotronik sorry about that - accidentally cropped out the other bits! See edit. AsyncTask is executed by a button (&quot;Login&quot;).","body":"@Kozmotronik sorry about that - accidentally cropped out the other bits! See edit. AsyncTask is executed by a button (&quot;Login&quot;)."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658502136,"post_id":73082163,"comment_id":129074870,"body_markdown":"So `MyNetwork` is an inner class? You are trying to show an alertdialog from within a background thread. This is not allowed, you must post UI related code to the main thread&#39;s queue. But I still don&#39;t see where you defined the handler object, do you define a handler? Because the error message you shared is related to it.","body":"So <code>MyNetwork</code> is an inner class? You are trying to show an alertdialog from within a background thread. This is not allowed, you must post UI related code to the main thread&#39;s queue. But I still don&#39;t see where you defined the handler object, do you define a handler? Because the error message you shared is related to it."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658503368,"post_id":73082163,"comment_id":129075296,"body_markdown":"Did you know that the AsyncTask was [deprecated](https://developer.android.com/reference/android/os/AsyncTask)? Do you insist in using it or you would look for other background processing alternatives?","body":"Did you know that the AsyncTask was <a href=\"https://developer.android.com/reference/android/os/AsyncTask\" rel=\"nofollow noreferrer\">deprecated</a>? Do you insist in using it or you would look for other background processing alternatives?"},{"owner":{"account_id":3634682,"reputation":1369,"user_id":3030060,"accept_rate":70,"display_name":"Brittany"},"score":0,"creation_date":1658504092,"post_id":73082163,"comment_id":129075566,"body_markdown":"I was able to fix my error @Kozmotronik -- but no, didn&#39;t no AsyncTask was deprecated! What&#39;s the newer course of action? :)","body":"I was able to fix my error @Kozmotronik -- but no, didn&#39;t no AsyncTask was deprecated! What&#39;s the newer course of action? :)"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658504651,"post_id":73082163,"comment_id":129075781,"body_markdown":"There are plenty of options for background processing: Plain threads, [Executors](https://developer.android.com/reference/java/util/concurrent/Executor), [Handler](https://developer.android.com/reference/android/os/Handler), [ThreadPoolExecutors](https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor) and so on. So you can pick one based on your need. Also I recommend you to have a look at the Google&#39;s [Processes and threads guide](https://developer.android.com/guide/components/processes-and-threads).","body":"There are plenty of options for background processing: Plain threads, <a href=\"https://developer.android.com/reference/java/util/concurrent/Executor\" rel=\"nofollow noreferrer\">Executors</a>, <a href=\"https://developer.android.com/reference/android/os/Handler\" rel=\"nofollow noreferrer\">Handler</a>, <a href=\"https://developer.android.com/reference/java/util/concurrent/ThreadPoolExecutor\" rel=\"nofollow noreferrer\">ThreadPoolExecutors</a> and so on. So you can pick one based on your need. Also I recommend you to have a look at the Google&#39;s <a href=\"https://developer.android.com/guide/components/processes-and-threads\" rel=\"nofollow noreferrer\">Processes and threads guide</a>."}],"answers":[{"tags":[],"owner":{"account_id":3634682,"reputation":1369,"user_id":3030060,"accept_rate":70,"display_name":"Brittany"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658504063,"creation_date":1658504063,"answer_id":73082803,"question_id":73082163,"body_markdown":"I was able to fix the above error by wrapping my AlertDialog in:\r\n\r\n     runOnUiThread(new Runnable() {\r\n                            public void run() {\r\n    \r\n    }\r\n\r\n","title":"Android/Java - Execute alert when AsyncTask finishes?","body":"<p>I was able to fix the above error by wrapping my AlertDialog in:</p>\n<pre><code> runOnUiThread(new Runnable() {\n                        public void run() {\n\n}\n</code></pre>\n"}],"owner":{"account_id":3634682,"reputation":1369,"user_id":3030060,"accept_rate":70,"display_name":"Brittany"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":31,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658504063,"creation_date":1658501104,"question_id":73082163,"body_markdown":"I&#39;m trying to execute an alert when a user is unable to login to their account. That said, when I try to accomplish this with the code below, I&#39;m thrown the following error:\r\n\r\n&gt; Caused by: java.lang.RuntimeException: Can&#39;t create handler inside\r\n&gt; thread Thread[AsyncTask #1,5,main] that has not called\r\n&gt; Looper.prepare()\r\n\r\nHow can I fix this? See my code below.\r\n\r\n**LoginActivity**\r\n\r\n     private class MyNetwork extends AsyncTask&lt;Void, Void, Void&gt; {\r\n           \r\n          @Override\r\n                protected Void doInBackground(Void... voids) {\r\n        \r\n                    JSONObject jsonObject = new JSONObject();\r\n                    try {\r\n                        jsonObject.put(&quot;username&quot;, &quot;admin&quot;);\r\n                        jsonObject.put(&quot;password&quot;, &quot;test#5Q&quot;);\r\n        \r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n        \r\n                    OkHttpClient client = new OkHttpClient();\r\n                    MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\r\n                    // put your json here\r\n                    RequestBody body = RequestBody.create(JSON, jsonObject.toString());\r\n                    Request request = new Request.Builder()\r\n                            .url(&quot;http://myurl.com/wp-json/wp/v2/custom-plugin/login&quot;)\r\n                            .post(body)\r\n                            .build();\r\n        \r\n                    Response response = null;\r\n                    try {\r\n                        response = client.newCall(request).execute();\r\n                        String resStr = response.body().string();\r\n                        Log.i(&quot;The response is&quot;, String.valueOf(response));\r\n                        int responseCode = response.code();\r\n                        Log.i(&quot;Check response code&quot;, String.valueOf(responseCode));\r\n        \r\n                        if (responseCode == 200) {\r\n        \r\n        \r\n                            Log.i(&quot;We&#39;re logged in!&quot;, String.valueOf(responseCode));\r\n        \r\n                            Intent i = new Intent(LoginActivity.this, DashboardActivity.class);\r\n                            startActivity(i);\r\n        \r\n        \r\n                    }\r\n        \r\n                        if (responseCode == 500) {\r\n        \r\n        \r\n                            Log.i(&quot;User or pass incorrect.&quot;, String.valueOf(responseCode));\r\n        \r\n        \r\n                            AlertDialog alertDialog = new AlertDialog.Builder(LoginActivity.this).create();\r\n                            alertDialog.setTitle(&quot;Oops!&quot;);\r\n                            alertDialog.setMessage(&quot;Your username or password is incorrect. Please check your credentials and try again.&quot;);\r\n                           \r\n                            alertDialog.setButton(AlertDialog.BUTTON_POSITIVE, &quot;Ok&quot;, new DialogInterface.OnClickListener() {\r\n                                public void onClick(DialogInterface dialog, int which) {\r\n                                    Toast.makeText(getApplicationContext(), &quot;You clicked on OK&quot;, Toast.LENGTH_SHORT).show();\r\n                                }\r\n                            });\r\n        \r\n        \r\n                        }\r\n        \r\n                    } catch (IOException e) {\r\n                        e.printStackTrace();\r\n        \r\n                    }\r\n        \r\n                    return null;\r\n                }\r\n    \r\n    }\r\n    \r\n        public void launchDashboard (View v) {\r\n    \r\n           new MyNetwork().execute();\r\n    \r\n        }","title":"Android/Java - Execute alert when AsyncTask finishes?","body":"<p>I'm trying to execute an alert when a user is unable to login to their account. That said, when I try to accomplish this with the code below, I'm thrown the following error:</p>\n<blockquote>\n<p>Caused by: java.lang.RuntimeException: Can't create handler inside\nthread Thread[AsyncTask #1,5,main] that has not called\nLooper.prepare()</p>\n</blockquote>\n<p>How can I fix this? See my code below.</p>\n<p><strong>LoginActivity</strong></p>\n<pre><code> private class MyNetwork extends AsyncTask&lt;Void, Void, Void&gt; {\n       \n      @Override\n            protected Void doInBackground(Void... voids) {\n    \n                JSONObject jsonObject = new JSONObject();\n                try {\n                    jsonObject.put(&quot;username&quot;, &quot;admin&quot;);\n                    jsonObject.put(&quot;password&quot;, &quot;test#5Q&quot;);\n    \n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n    \n                OkHttpClient client = new OkHttpClient();\n                MediaType JSON = MediaType.parse(&quot;application/json; charset=utf-8&quot;);\n                // put your json here\n                RequestBody body = RequestBody.create(JSON, jsonObject.toString());\n                Request request = new Request.Builder()\n                        .url(&quot;http://myurl.com/wp-json/wp/v2/custom-plugin/login&quot;)\n                        .post(body)\n                        .build();\n    \n                Response response = null;\n                try {\n                    response = client.newCall(request).execute();\n                    String resStr = response.body().string();\n                    Log.i(&quot;The response is&quot;, String.valueOf(response));\n                    int responseCode = response.code();\n                    Log.i(&quot;Check response code&quot;, String.valueOf(responseCode));\n    \n                    if (responseCode == 200) {\n    \n    \n                        Log.i(&quot;We're logged in!&quot;, String.valueOf(responseCode));\n    \n                        Intent i = new Intent(LoginActivity.this, DashboardActivity.class);\n                        startActivity(i);\n    \n    \n                }\n    \n                    if (responseCode == 500) {\n    \n    \n                        Log.i(&quot;User or pass incorrect.&quot;, String.valueOf(responseCode));\n    \n    \n                        AlertDialog alertDialog = new AlertDialog.Builder(LoginActivity.this).create();\n                        alertDialog.setTitle(&quot;Oops!&quot;);\n                        alertDialog.setMessage(&quot;Your username or password is incorrect. Please check your credentials and try again.&quot;);\n                       \n                        alertDialog.setButton(AlertDialog.BUTTON_POSITIVE, &quot;Ok&quot;, new DialogInterface.OnClickListener() {\n                            public void onClick(DialogInterface dialog, int which) {\n                                Toast.makeText(getApplicationContext(), &quot;You clicked on OK&quot;, Toast.LENGTH_SHORT).show();\n                            }\n                        });\n    \n    \n                    }\n    \n                } catch (IOException e) {\n                    e.printStackTrace();\n    \n                }\n    \n                return null;\n            }\n\n}\n\n    public void launchDashboard (View v) {\n\n       new MyNetwork().execute();\n\n    }\n</code></pre>\n"},{"tags":["java","office365","imap"],"comments":[{"owner":{"account_id":1550376,"reputation":10772,"user_id":1442918,"display_name":"Max"},"score":0,"creation_date":1658280641,"post_id":73043905,"comment_id":129010653,"body_markdown":"Yes,  Microsoft is disabling password based authentication, and it may have been disabled in the server you’re using. You just switch to OAUTH2 based authentication in the near future.","body":"Yes,  Microsoft is disabling password based authentication, and it may have been disabled in the server you’re using. You just switch to OAUTH2 based authentication in the near future."},{"owner":{"account_id":2777627,"reputation":775,"user_id":2390877,"accept_rate":60,"display_name":"Yves V."},"score":0,"creation_date":1658400533,"post_id":73043905,"comment_id":129044609,"body_markdown":"That would definitely be an explanation, thanks for pointing me in the right direction. I&#39;m trying to change the implementation to OAuth2 but have been unsuccesful so far to verify that this is indeed the cause (this is not my area of expertise). I have a follow-up on this issue here: https://stackoverflow.com/questions/73064792/javamail-with-oauth-and-office365","body":"That would definitely be an explanation, thanks for pointing me in the right direction. I&#39;m trying to change the implementation to OAuth2 but have been unsuccesful so far to verify that this is indeed the cause (this is not my area of expertise). I have a follow-up on this issue here: <a href=\"https://stackoverflow.com/questions/73064792/javamail-with-oauth-and-office365\" title=\"javamail with oauth and office365\">stackoverflow.com/questions/73064792/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25852616,"reputation":11,"user_id":19586385,"display_name":"DLR"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658503028,"creation_date":1658313503,"answer_id":73050147,"question_id":73043905,"body_markdown":"You must use OAuth2, legacy security may have been deprecated.\r\nWorks with Thunderbird for example.\r\nJust see how to reactivate legacy auth or use OAuth2 with your java client.\r\n\r\n@see https://learn.microsoft.com/fr-fr/exchange/troubleshoot/administration/cannot-connect-mailbox-pop-imap-outlook to reactivate legacy\r\n\r\nPS : To use shared mailbox, you must user mailbox name as user, and OAuth2 user + password and MFA if needed during Auth part, all that instead of old way (user@domain\\sharedmailbox + password)\r\n\r\n","title":"Office365 IMAP suddenly returns &quot;Authenticate Failed&quot;","body":"<p>You must use OAuth2, legacy security may have been deprecated.\nWorks with Thunderbird for example.\nJust see how to reactivate legacy auth or use OAuth2 with your java client.</p>\n<p>@see <a href=\"https://learn.microsoft.com/fr-fr/exchange/troubleshoot/administration/cannot-connect-mailbox-pop-imap-outlook\" rel=\"nofollow noreferrer\">https://learn.microsoft.com/fr-fr/exchange/troubleshoot/administration/cannot-connect-mailbox-pop-imap-outlook</a> to reactivate legacy</p>\n<p>PS : To use shared mailbox, you must user mailbox name as user, and OAuth2 user + password and MFA if needed during Auth part, all that instead of old way (user@domain\\sharedmailbox + password)</p>\n"}],"owner":{"account_id":2777627,"reputation":775,"user_id":2390877,"accept_rate":60,"display_name":"Yves V."},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":8108,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"answer_count":1,"score":4,"last_activity_date":1658503028,"creation_date":1658268167,"question_id":73043905,"body_markdown":"I have a piece of Java code (see below), which has not been changed in a while and worked two weeks ago. When I run it now, I suddenly get an &quot;AUTHENTICATE FAILED.&quot; I get the error on two different PCs, and I have validated that the credentials used still work when I log into may office365 mailbox using the browser. \r\n\r\nHas something changed on the office365 side I should know of?\r\n\r\nThe error I get is:\r\n\r\n```\r\njavax.mail.AuthenticationFailedException: AUTHENTICATE failed.\r\n\tat com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\r\n\tat javax.mail.Service.connect(Service.java:366)\r\n\tat javax.mail.Service.connect(Service.java:246)\r\n\tat my.application.input.imap.ImapMailBoxReader.processOnMessages(ImapMailBoxReader.java:69)\r\n```\r\nDigging deeper, the cause seems to be an *A3 NO AUTHENTICATE failed.* response (line 730 of javax.mail.IMAPStore).\r\n\r\nThe code I use is the following (using javax.mail version 1.6.2):\r\n\r\n```\r\npackage my.application.input.imap;\r\n\r\nimport my.application.dao.PhysicalTransactionDao;\r\nimport com.sun.mail.util.MailSSLSocketFactory;\r\n\r\nimport javax.mail.*;\r\nimport javax.mail.search.AndTerm;\r\nimport javax.mail.search.ComparisonTerm;\r\nimport javax.mail.search.ReceivedDateTerm;\r\nimport javax.mail.search.SearchTerm;\r\nimport java.time.LocalDate;\r\nimport java.time.ZoneId;\r\nimport java.util.*;\r\nimport java.io.*;\r\nimport java.util.function.Consumer;\r\n\r\npublic class ImapMailBoxReader {\r\n\r\n    private String host;\r\n    private String username;\r\n    private String password;\r\n\r\n    public static void main(String[] args) {\r\n        ImapMailBoxReader imapReader =  new ImapMailBoxReader(\r\n                &quot;outlook.office365.com&quot;,\r\n                &quot;myemail&quot;,\r\n                &quot;mypassword&quot;);\r\n        LocalDate startDate = LocalDate.of(2022,4,1);\r\n        LocalDate endDate = LocalDate.of(2022,7,1);\r\n        imapReader.processOnMessages(&quot;Inbox&quot;, startDate, endDate, SomeClass::processMessage);\r\n    }\r\n\r\n    public ImapMailBoxReader(String host, String username, String password) {\r\n        this.host = host;\r\n        this.username = username;\r\n        this.password = password;\r\n    }\r\n\r\n    /**\r\n     * Returns all messages on or after the given since date, until today. If the given since date is null, all messages\r\n     * are returned\r\n     * @param folder the folder to search through\r\n     * @param since the given since date\r\n     * @param mailConsumer the consumer that will process the messages retrieved\r\n     */\r\n    public void processOnMessages(String folder, LocalDate since, Consumer&lt;Message&gt; mailConsumer) {\r\n        processOnMessages(folder, since, null, mailConsumer);\r\n    }\r\n\r\n    /**\r\n     * Runs a given mailconsumer on all messages in the given imap folder that have been received on, or after, the given\r\n     * since date and before the given until date. If since is null, all messages are returned up to the until date.\r\n     * If until is null, all messages are returned from the since date until now. If both are null, all messages are\r\n     * returned.\r\n     * @param folder the folder to search through\r\n     * @param since if specified, only messages from this date on are returned\r\n     * @param mailconsumer the consumer that will be executed on the messages\r\n     */\r\n    public void processOnMessages(String folder, LocalDate since, LocalDate until, Consumer&lt;Message&gt; mailconsumer) {\r\n        try {\r\n            Properties prop = new Properties();\r\n            MailSSLSocketFactory sf = new MailSSLSocketFactory();\r\n            sf.setTrustAllHosts(true);\r\n            prop.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n            prop.put(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\r\n            prop.put(&quot;mail.imap.ssl.socketFactory&quot;, sf);\r\n\r\n            //Connect to the server\r\n            Session session = Session.getDefaultInstance(prop, null);\r\n            Store store = session.getStore(&quot;imap&quot;);\r\n            store.connect(host, username, password);\r\n\r\n            //open the inbox folder\r\n            Folder inbox = store.getFolder(folder);\r\n            inbox.open(Folder.READ_ONLY);\r\n\r\n            Message[] messages;\r\n            if (since != null) {\r\n                Date startDate = Date.from(since.atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n                SearchTerm newerThan = new ReceivedDateTerm(ComparisonTerm.GE, startDate);\r\n                if (until != null) {\r\n                    Date endDate = Date.from(until.plusDays(1).atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n                    SearchTerm olderThan = new ReceivedDateTerm(ComparisonTerm.LT, endDate);\r\n                    SearchTerm both = new AndTerm(olderThan, newerThan);\r\n                    messages = inbox.search(both);\r\n                } else {\r\n                    messages = inbox.search(newerThan);\r\n                }\r\n            } else if (until != null) {\r\n                Date endDate = Date.from(until.plusDays(1).atStartOfDay(ZoneId.systemDefault()).toInstant());\r\n                SearchTerm olderThan = new ReceivedDateTerm(ComparisonTerm.LT, endDate);\r\n                messages = inbox.search(olderThan);\r\n            } else {\r\n                messages = inbox.getMessages();\r\n            }\r\n            for (Message m: messages) {\r\n                mailconsumer.accept(m);\r\n            }\r\n            inbox.close(false);\r\n            store.close();\r\n        } catch (Exception e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Will search through all attachments of the message, and will pass those with the given extension (if provided)\r\n     * to the consumer. Note that the connection to the imap should be open for all this magic to work. this method\r\n     * is intended to be called from a messageconsumer during the processOnMessages method from this class.\r\n     * @param message the message for which the attachments are needed.\r\n     * @param extension if provided, only attachments with this extension will be provided\r\n     * @param attachmentConsumer the consumer that will process the attachments\r\n     * @throws IOException if for some reason the attachments can&#39;t be accessed\r\n     * @throws MessagingException for other messaging errors\r\n     */\r\n    public static void processOnAttachments(Message message, String extension, Consumer&lt;InputStream&gt; attachmentConsumer)\r\n            throws IOException, MessagingException {\r\n        Multipart multipart = (Multipart) message.getContent();\r\n        for (int i = 0; i &lt; multipart.getCount(); i++) {\r\n            BodyPart bodyPart = multipart.getBodyPart(i);\r\n            if (bodyPart.getFileName() != null &amp;&amp; bodyPart.getFileName().endsWith(extension)) {\r\n                attachmentConsumer.accept(bodyPart.getInputStream());\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n```\r\nAgain, this code worked perfectly two weeks ago, nothing was changed on my side and the credentials still work...\r\n\r\nAll suggestions are appreciated.\r\n\r\n\r\n","title":"Office365 IMAP suddenly returns &quot;Authenticate Failed&quot;","body":"<p>I have a piece of Java code (see below), which has not been changed in a while and worked two weeks ago. When I run it now, I suddenly get an &quot;AUTHENTICATE FAILED.&quot; I get the error on two different PCs, and I have validated that the credentials used still work when I log into may office365 mailbox using the browser.</p>\n<p>Has something changed on the office365 side I should know of?</p>\n<p>The error I get is:</p>\n<pre><code>javax.mail.AuthenticationFailedException: AUTHENTICATE failed.\n    at com.sun.mail.imap.IMAPStore.protocolConnect(IMAPStore.java:732)\n    at javax.mail.Service.connect(Service.java:366)\n    at javax.mail.Service.connect(Service.java:246)\n    at my.application.input.imap.ImapMailBoxReader.processOnMessages(ImapMailBoxReader.java:69)\n</code></pre>\n<p>Digging deeper, the cause seems to be an <em>A3 NO AUTHENTICATE failed.</em> response (line 730 of javax.mail.IMAPStore).</p>\n<p>The code I use is the following (using javax.mail version 1.6.2):</p>\n<pre><code>package my.application.input.imap;\n\nimport my.application.dao.PhysicalTransactionDao;\nimport com.sun.mail.util.MailSSLSocketFactory;\n\nimport javax.mail.*;\nimport javax.mail.search.AndTerm;\nimport javax.mail.search.ComparisonTerm;\nimport javax.mail.search.ReceivedDateTerm;\nimport javax.mail.search.SearchTerm;\nimport java.time.LocalDate;\nimport java.time.ZoneId;\nimport java.util.*;\nimport java.io.*;\nimport java.util.function.Consumer;\n\npublic class ImapMailBoxReader {\n\n    private String host;\n    private String username;\n    private String password;\n\n    public static void main(String[] args) {\n        ImapMailBoxReader imapReader =  new ImapMailBoxReader(\n                &quot;outlook.office365.com&quot;,\n                &quot;myemail&quot;,\n                &quot;mypassword&quot;);\n        LocalDate startDate = LocalDate.of(2022,4,1);\n        LocalDate endDate = LocalDate.of(2022,7,1);\n        imapReader.processOnMessages(&quot;Inbox&quot;, startDate, endDate, SomeClass::processMessage);\n    }\n\n    public ImapMailBoxReader(String host, String username, String password) {\n        this.host = host;\n        this.username = username;\n        this.password = password;\n    }\n\n    /**\n     * Returns all messages on or after the given since date, until today. If the given since date is null, all messages\n     * are returned\n     * @param folder the folder to search through\n     * @param since the given since date\n     * @param mailConsumer the consumer that will process the messages retrieved\n     */\n    public void processOnMessages(String folder, LocalDate since, Consumer&lt;Message&gt; mailConsumer) {\n        processOnMessages(folder, since, null, mailConsumer);\n    }\n\n    /**\n     * Runs a given mailconsumer on all messages in the given imap folder that have been received on, or after, the given\n     * since date and before the given until date. If since is null, all messages are returned up to the until date.\n     * If until is null, all messages are returned from the since date until now. If both are null, all messages are\n     * returned.\n     * @param folder the folder to search through\n     * @param since if specified, only messages from this date on are returned\n     * @param mailconsumer the consumer that will be executed on the messages\n     */\n    public void processOnMessages(String folder, LocalDate since, LocalDate until, Consumer&lt;Message&gt; mailconsumer) {\n        try {\n            Properties prop = new Properties();\n            MailSSLSocketFactory sf = new MailSSLSocketFactory();\n            sf.setTrustAllHosts(true);\n            prop.setProperty(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n            prop.put(&quot;mail.imap.starttls.enable&quot;, &quot;true&quot;);\n            prop.put(&quot;mail.imap.ssl.socketFactory&quot;, sf);\n\n            //Connect to the server\n            Session session = Session.getDefaultInstance(prop, null);\n            Store store = session.getStore(&quot;imap&quot;);\n            store.connect(host, username, password);\n\n            //open the inbox folder\n            Folder inbox = store.getFolder(folder);\n            inbox.open(Folder.READ_ONLY);\n\n            Message[] messages;\n            if (since != null) {\n                Date startDate = Date.from(since.atStartOfDay(ZoneId.systemDefault()).toInstant());\n                SearchTerm newerThan = new ReceivedDateTerm(ComparisonTerm.GE, startDate);\n                if (until != null) {\n                    Date endDate = Date.from(until.plusDays(1).atStartOfDay(ZoneId.systemDefault()).toInstant());\n                    SearchTerm olderThan = new ReceivedDateTerm(ComparisonTerm.LT, endDate);\n                    SearchTerm both = new AndTerm(olderThan, newerThan);\n                    messages = inbox.search(both);\n                } else {\n                    messages = inbox.search(newerThan);\n                }\n            } else if (until != null) {\n                Date endDate = Date.from(until.plusDays(1).atStartOfDay(ZoneId.systemDefault()).toInstant());\n                SearchTerm olderThan = new ReceivedDateTerm(ComparisonTerm.LT, endDate);\n                messages = inbox.search(olderThan);\n            } else {\n                messages = inbox.getMessages();\n            }\n            for (Message m: messages) {\n                mailconsumer.accept(m);\n            }\n            inbox.close(false);\n            store.close();\n        } catch (Exception e) {\n            e.printStackTrace();\n        }\n    }\n\n    /**\n     * Will search through all attachments of the message, and will pass those with the given extension (if provided)\n     * to the consumer. Note that the connection to the imap should be open for all this magic to work. this method\n     * is intended to be called from a messageconsumer during the processOnMessages method from this class.\n     * @param message the message for which the attachments are needed.\n     * @param extension if provided, only attachments with this extension will be provided\n     * @param attachmentConsumer the consumer that will process the attachments\n     * @throws IOException if for some reason the attachments can't be accessed\n     * @throws MessagingException for other messaging errors\n     */\n    public static void processOnAttachments(Message message, String extension, Consumer&lt;InputStream&gt; attachmentConsumer)\n            throws IOException, MessagingException {\n        Multipart multipart = (Multipart) message.getContent();\n        for (int i = 0; i &lt; multipart.getCount(); i++) {\n            BodyPart bodyPart = multipart.getBodyPart(i);\n            if (bodyPart.getFileName() != null &amp;&amp; bodyPart.getFileName().endsWith(extension)) {\n                attachmentConsumer.accept(bodyPart.getInputStream());\n            }\n        }\n    }\n}\n\n</code></pre>\n<p>Again, this code worked perfectly two weeks ago, nothing was changed on my side and the credentials still work...</p>\n<p>All suggestions are appreciated.</p>\n"},{"tags":["java","mapstruct"],"answers":[{"tags":[],"owner":{"account_id":23246470,"reputation":541,"user_id":17335001,"display_name":"nquincampoix"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658501993,"creation_date":1658501993,"answer_id":73082381,"question_id":72762669,"body_markdown":"Since MapStruct generates the implementation for you, I think you should not be concerned with the design of the generated code, but with that of your own code, where you are going to use these methods.\r\n\r\nIf both mappings are meant to be used in a single object, you should put them in the same mapper interface, so you will only have to inject one mapper.\r\n\r\nOn the contrary, if these methods are not related, and one should not be mislead, or tempted to use them in the wrong place, then you should separate them, to enforce their purpose.","title":"Classification criteria in MapStruct Mapper design?","body":"<p>Since MapStruct generates the implementation for you, I think you should not be concerned with the design of the generated code, but with that of your own code, where you are going to use these methods.</p>\n<p>If both mappings are meant to be used in a single object, you should put them in the same mapper interface, so you will only have to inject one mapper.</p>\n<p>On the contrary, if these methods are not related, and one should not be mislead, or tempted to use them in the wrong place, then you should separate them, to enforce their purpose.</p>\n"}],"owner":{"account_id":16126285,"reputation":159,"user_id":11640962,"display_name":"바보린"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":84,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73082381,"answer_count":1,"score":0,"last_activity_date":1658501993,"creation_date":1656255584,"question_id":72762669,"body_markdown":"I&#39;m looking for the right design pattern.\r\n\r\nWhen implementing Mapper using Mapstruct, is it correct to create a new Mapper for each DTO (or Entity)?\r\n\r\nSuppose I have a UserInfoDTO and I have a UesrCountDTO.\r\n\r\nThe business logic is completely different, but they all start with a UserEntity .\r\n\r\nIf so, isn&#39;t it wrong to implement two Entity To DTO functions after creating a UserMapper class for these two?\r\n\r\nor\r\n\r\nUserInfoMapper,\r\nIs it the right design to separate each with a UserCountMapper class?","title":"Classification criteria in MapStruct Mapper design?","body":"<p>I'm looking for the right design pattern.</p>\n<p>When implementing Mapper using Mapstruct, is it correct to create a new Mapper for each DTO (or Entity)?</p>\n<p>Suppose I have a UserInfoDTO and I have a UesrCountDTO.</p>\n<p>The business logic is completely different, but they all start with a UserEntity .</p>\n<p>If so, isn't it wrong to implement two Entity To DTO functions after creating a UserMapper class for these two?</p>\n<p>or</p>\n<p>UserInfoMapper,\nIs it the right design to separate each with a UserCountMapper class?</p>\n"},{"tags":["java","spring-boot","jaxb","java-module","spring-oxm"],"comments":[{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1525373239,"post_id":50139996,"comment_id":87341780,"body_markdown":"Taking a look intor `ContextFinder` I saw this line `Class spFactory = ServiceLoaderUtil.safeLoadClass(className, PLATFORM_DEFAULT_FACTORY_CLASS, classLoader);` which basically hard wires the factory to `com.sun.xml.internal.bind.v2.ContextFactory`. So this might actually be an issue with the JDK 9 itself.","body":"Taking a look intor <code>ContextFinder</code> I saw this line <code>Class spFactory = ServiceLoaderUtil.safeLoadClass(className, PLATFORM_DEFAULT_FACTORY_CLASS, classLoader);</code> which basically hard wires the factory to <code>com.sun.xml.internal.bind.v2.ContextFactory</code>. So this might actually be an issue with the JDK 9 itself."},{"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"score":0,"creation_date":1541610107,"post_id":50139996,"comment_id":93277279,"body_markdown":"Turns out that I only added the runtime dependency in the dependencyManagement section, but in the actual sub-modules `jaxb-runtime` was missing.","body":"Turns out that I only added the runtime dependency in the dependencyManagement section, but in the actual sub-modules <code>jaxb-runtime</code> was missing."}],"answers":[{"tags":[],"owner":{"account_id":9400890,"reputation":11535,"user_id":7637120,"accept_rate":83,"display_name":"Roman Puchkovskiy"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1525530110,"creation_date":1525529302,"answer_id":50190335,"question_id":50139996,"body_markdown":"Try adding the following:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\r\n        &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\n\r\n`jaxb-core` contains `com.sun.xml.bind.v2.model.annotation.AnnotationReader` (and seems to be a required dependency of `jaxb-runtime`, at least in your case), while `javax.activation` is needed by `jaxb-api` due to the usage of `DataHandler` by the latter.\r\n\r\nAlso, there is no a single bean class, so the marshaller will fail initialization. I&#39;ve added the following\r\n\r\n    @XmlRootElement\r\n    public class MyBean {\r\n    }\r\n\r\nand replaced\r\n\r\n    bean.setContextPath(&quot;ch.sahits.game.helloworld&quot;);\r\n\r\nwith\r\n\r\n    bean.setClassesToBeBound(MyBean.class);\r\n\r\nafter which the application has started.","title":"Proper way to use Spring JAXB Marshaller with Java 9 without defining additional modules","body":"<p>Try adding the following:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-core&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n&lt;dependency&gt;\n    &lt;groupId&gt;com.sun.activation&lt;/groupId&gt;\n    &lt;artifactId&gt;javax.activation&lt;/artifactId&gt;\n    &lt;version&gt;1.2.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p><code>jaxb-core</code> contains <code>com.sun.xml.bind.v2.model.annotation.AnnotationReader</code> (and seems to be a required dependency of <code>jaxb-runtime</code>, at least in your case), while <code>javax.activation</code> is needed by <code>jaxb-api</code> due to the usage of <code>DataHandler</code> by the latter.</p>\n\n<p>Also, there is no a single bean class, so the marshaller will fail initialization. I've added the following</p>\n\n<pre><code>@XmlRootElement\npublic class MyBean {\n}\n</code></pre>\n\n<p>and replaced</p>\n\n<pre><code>bean.setContextPath(\"ch.sahits.game.helloworld\");\n</code></pre>\n\n<p>with</p>\n\n<pre><code>bean.setClassesToBeBound(MyBean.class);\n</code></pre>\n\n<p>after which the application has started.</p>\n"},{"tags":[],"owner":{"account_id":1426258,"reputation":4514,"user_id":1349691,"accept_rate":72,"display_name":"Philippe Marschall"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1526027050,"creation_date":1526027050,"answer_id":50288102,"question_id":50139996,"body_markdown":"The following has worked for me\r\n\r\n    &lt;dependency&gt;\r\n      &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n      &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n      &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;","title":"Proper way to use Spring JAXB Marshaller with Java 9 without defining additional modules","body":"<p>The following has worked for me</p>\n\n<pre><code>&lt;dependency&gt;\n  &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n  &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n  &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":16863179,"reputation":1,"user_id":12193518,"display_name":"Vladimir Malzam"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658501724,"creation_date":1658501724,"answer_id":73082325,"question_id":50139996,"body_markdown":"Connecting &quot;Spring OXM&quot; helped me:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n        &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n    &lt;/dependency&gt;","title":"Proper way to use Spring JAXB Marshaller with Java 9 without defining additional modules","body":"<p>Connecting &quot;Spring OXM&quot; helped me:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":7018296,"reputation":7298,"user_id":5378766,"accept_rate":84,"display_name":"hotzst"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":12253,"favorite_count":0,"down_vote_count":1,"up_vote_count":5,"answer_count":3,"score":4,"last_activity_date":1658501724,"creation_date":1525280644,"question_id":50139996,"body_markdown":"To illustrate my issue, I created a small spring boot sample application. The purpose of the application is to create a `Jaxb2Marshaller` bean.\r\n\r\n    @SpringBootApplication\r\n    public class App implements CommandLineRunner {\r\n    \r\n        public static void main(String[] args) {\r\n            SpringApplication.run(App.class, args);\r\n        }\r\n    \r\n        @Bean\r\n        public Jaxb2Marshaller jaxb2Marshaller() {\r\n            Jaxb2Marshaller bean = new Jaxb2Marshaller();\r\n            bean.setContextPath(&quot;ch.sahits.game.helloworld&quot;);\r\n            return bean;\r\n        }\r\n    \r\n        @Override\r\n        public void run(String... args) throws Exception {\r\n            System.out.println(&quot;Started up&quot;);\r\n        }\r\n    }\r\nThis code fails to start up with the exception:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\r\n    \tat javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\r\n    \tat javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\r\n    \tat javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:174)\r\n    \t... 23 more\r\n\r\nWhat I do not understand about this exception is why the `com.sun.xml.internal.bind.v2.ContextFactory` is tried to instantiate? [It has been suggested][1], that I also need a dependency for a runtime, so I added:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n        &lt;version&gt;2.3.0&lt;/version&gt;\r\n    &lt;/dependency&gt;\r\nBut that only got me a different exception, trying to load a different class:\r\n\r\n    Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.model.annotation.AnnotationReader\r\n    \tat java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\r\n    \tat java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\r\n    \tat java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\r\n    \t... 39 more\r\n\r\nHere is the complete `pom.xml`:\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n             xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n             xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \r\n        &lt;groupId&gt;ch.sahits.game&lt;/groupId&gt;\r\n        &lt;artifactId&gt;AddModuleDependencies&lt;/artifactId&gt;\r\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n    \r\n        &lt;properties&gt;\r\n            &lt;cxf-xjc-plugin.version&gt;2.3.0&lt;/cxf-xjc-plugin.version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;dependencies&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\r\n                &lt;version&gt;5.0.4.RELEASE&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\r\n                &lt;version&gt;1.3.2&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\r\n                &lt;version&gt;2.3.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n        &lt;build&gt;\r\n            &lt;resources&gt;\r\n                &lt;resource&gt;\r\n                    &lt;directory&gt;src/main/resources&lt;/directory&gt;\r\n                &lt;/resource&gt;\r\n            &lt;/resources&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.7.0&lt;/version&gt;\r\n                    &lt;configuration&gt;\r\n                        &lt;source&gt;9&lt;/source&gt;\r\n                        &lt;target&gt;9&lt;/target&gt;\r\n                    &lt;/configuration&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;${cxf-xjc-plugin.version}&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;generate-sources&lt;/id&gt;\r\n                            &lt;phase&gt;generate-sources&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;xsdtojava&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                            &lt;configuration&gt;\r\n                                &lt;extensions&gt;\r\n                                    &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:${cxf-xjc-plugin.version}&lt;/extension&gt;\r\n                                &lt;/extensions&gt;\r\n                                &lt;xsdOptions&gt;\r\n                                    &lt;xsdOption&gt;\r\n                                        &lt;xsd&gt;src/main/resources/helloworld.xsd&lt;/xsd&gt;\r\n                                        &lt;bindingFile&gt;src/main/resources/jaxb-binding.xjb&lt;/bindingFile&gt;\r\n                                        &lt;packagename&gt;ch.sahits.game.helloworld&lt;/packagename&gt;\r\n                                    &lt;/xsdOption&gt;\r\n                                &lt;/xsdOptions&gt;\r\n                            &lt;/configuration&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n    &lt;/project&gt;\r\n\r\nThe simple solution of course is to add `--add-modules java.xml.ws` as a VM option, but that is exactly what I am trying to get rid off to make my application future proof.\r\nWhat dependency do I have to use to resolve this issue? Or do I have change the bean configuration, so that the proper classes are looked up (and not the ones from `com.sun.xml...` )?\r\n\r\nThe MCVE for [download][2] as zip archive.\r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/49480092/how-to-replace-add-modules-java-xml-ws\r\n  [2]: http://www.sahits.ch/download/AddModuleDependencies.zip","title":"Proper way to use Spring JAXB Marshaller with Java 9 without defining additional modules","body":"<p>To illustrate my issue, I created a small spring boot sample application. The purpose of the application is to create a <code>Jaxb2Marshaller</code> bean.</p>\n\n<pre><code>@SpringBootApplication\npublic class App implements CommandLineRunner {\n\n    public static void main(String[] args) {\n        SpringApplication.run(App.class, args);\n    }\n\n    @Bean\n    public Jaxb2Marshaller jaxb2Marshaller() {\n        Jaxb2Marshaller bean = new Jaxb2Marshaller();\n        bean.setContextPath(\"ch.sahits.game.helloworld\");\n        return bean;\n    }\n\n    @Override\n    public void run(String... args) throws Exception {\n        System.out.println(\"Started up\");\n    }\n}\n</code></pre>\n\n<p>This code fails to start up with the exception:</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.sun.xml.internal.bind.v2.ContextFactory\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\n    at javax.xml.bind.ServiceLoaderUtil.nullSafeLoadClass(ServiceLoaderUtil.java:122)\n    at javax.xml.bind.ServiceLoaderUtil.safeLoadClass(ServiceLoaderUtil.java:155)\n    at javax.xml.bind.ContextFinder.newInstance(ContextFinder.java:174)\n    ... 23 more\n</code></pre>\n\n<p>What I do not understand about this exception is why the <code>com.sun.xml.internal.bind.v2.ContextFactory</code> is tried to instantiate? <a href=\"https://stackoverflow.com/questions/49480092/how-to-replace-add-modules-java-xml-ws\">It has been suggested</a>, that I also need a dependency for a runtime, so I added:</p>\n\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n    &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n    &lt;version&gt;2.3.0&lt;/version&gt;\n&lt;/dependency&gt;\n</code></pre>\n\n<p>But that only got me a different exception, trying to load a different class:</p>\n\n<pre><code>Caused by: java.lang.ClassNotFoundException: com.sun.xml.bind.v2.model.annotation.AnnotationReader\n    at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:582)\n    at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:185)\n    at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:496)\n    ... 39 more\n</code></pre>\n\n<p>Here is the complete <code>pom.xml</code>:</p>\n\n<pre><code>&lt;?xml version=\"1.0\" encoding=\"UTF-8\"?&gt;\n&lt;project xmlns=\"http://maven.apache.org/POM/4.0.0\"\n         xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n         xsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd\"&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n\n    &lt;groupId&gt;ch.sahits.game&lt;/groupId&gt;\n    &lt;artifactId&gt;AddModuleDependencies&lt;/artifactId&gt;\n    &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n\n    &lt;properties&gt;\n        &lt;cxf-xjc-plugin.version&gt;2.3.0&lt;/cxf-xjc-plugin.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-oxm&lt;/artifactId&gt;\n            &lt;version&gt;5.0.4.RELEASE&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.xml.bind&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-api&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.annotation&lt;/groupId&gt;\n            &lt;artifactId&gt;javax.annotation-api&lt;/artifactId&gt;\n            &lt;version&gt;1.3.2&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.glassfish.jaxb&lt;/groupId&gt;\n            &lt;artifactId&gt;jaxb-runtime&lt;/artifactId&gt;\n            &lt;version&gt;2.3.0&lt;/version&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n    &lt;build&gt;\n        &lt;resources&gt;\n            &lt;resource&gt;\n                &lt;directory&gt;src/main/resources&lt;/directory&gt;\n            &lt;/resource&gt;\n        &lt;/resources&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.7.0&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;source&gt;9&lt;/source&gt;\n                    &lt;target&gt;9&lt;/target&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.cxf&lt;/groupId&gt;\n                &lt;artifactId&gt;cxf-xjc-plugin&lt;/artifactId&gt;\n                &lt;version&gt;${cxf-xjc-plugin.version}&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;generate-sources&lt;/id&gt;\n                        &lt;phase&gt;generate-sources&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;xsdtojava&lt;/goal&gt;\n                        &lt;/goals&gt;\n                        &lt;configuration&gt;\n                            &lt;extensions&gt;\n                                &lt;extension&gt;org.apache.cxf.xjcplugins:cxf-xjc-dv:${cxf-xjc-plugin.version}&lt;/extension&gt;\n                            &lt;/extensions&gt;\n                            &lt;xsdOptions&gt;\n                                &lt;xsdOption&gt;\n                                    &lt;xsd&gt;src/main/resources/helloworld.xsd&lt;/xsd&gt;\n                                    &lt;bindingFile&gt;src/main/resources/jaxb-binding.xjb&lt;/bindingFile&gt;\n                                    &lt;packagename&gt;ch.sahits.game.helloworld&lt;/packagename&gt;\n                                &lt;/xsdOption&gt;\n                            &lt;/xsdOptions&gt;\n                        &lt;/configuration&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n\n<p>The simple solution of course is to add <code>--add-modules java.xml.ws</code> as a VM option, but that is exactly what I am trying to get rid off to make my application future proof.\nWhat dependency do I have to use to resolve this issue? Or do I have change the bean configuration, so that the proper classes are looked up (and not the ones from <code>com.sun.xml...</code> )?</p>\n\n<p>The MCVE for <a href=\"http://www.sahits.ch/download/AddModuleDependencies.zip\" rel=\"nofollow noreferrer\">download</a> as zip archive.</p>\n"},{"tags":["java","scala","scalatest","easymock"],"comments":[{"owner":{"account_id":1369470,"reputation":25454,"user_id":1305121,"accept_rate":90,"display_name":"Mateusz Kubuszok"},"score":0,"creation_date":1658516749,"post_id":73082318,"comment_id":129079643,"body_markdown":"Scala&#39;s isn&#39;t friendly to Java approach to mocking (all methods non final, etc). There is Scala mock for this reason, but it is implemented using macros, so it has to be rewritten from scratch. Currently there is an issue for Scala 3 support on GH. For now you can create mocks manually.","body":"Scala&#39;s isn&#39;t friendly to Java approach to mocking (all methods non final, etc). There is Scala mock for this reason, but it is implemented using macros, so it has to be rewritten from scratch. Currently there is an issue for Scala 3 support on GH. For now you can create mocks manually."}],"owner":{"account_id":42916,"reputation":22347,"user_id":125212,"accept_rate":52,"display_name":"Jackie"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":420,"favorite_count":0,"down_vote_count":1,"up_vote_count":2,"answer_count":0,"score":1,"last_activity_date":1658501709,"creation_date":1658501709,"question_id":73082318,"body_markdown":"I have the following code...\r\n\r\n```scala\r\n@RunWith(classOf[JUnitRunner])\r\nclass IdentitySuite extends AnyFunSuite with Matchers {\r\n  test(&quot;No Records returned&quot;) {\r\n    assert(true)\r\n  }\r\n}\r\n```\r\n\r\nThis works fine now I would like to add a mocked Object so I add...\r\n\r\n```groovy\r\ntesting {\r\n    suites {\r\n        // Configure the built-in test suite\r\n        test {\r\n            // Use JUnit4 test framework\r\n            useJUnit(&#39;4.13.2&#39;)\r\n            dependencies {\r\n                // Use Scalatest for testing our library\r\n                implementation &#39;org.scalatest:scalatest_3:3.2.12&#39;\r\n                implementation &#39;org.scalatestplus:junit-4-13_3:3.2.12.0&#39;\r\n                implementation &#39;org.easymock:easymock:4.3&#39;\r\n                implementation &#39;org.scalatestplus:easymock-4-3_3:3.2.12.0&#39;\r\n                runtimeOnly &#39;org.scala-lang.modules:scala-xml_3:2.1.0&#39;\r\n            }\r\n        }\r\n    }\r\n}\r\n```\r\n\r\nBut when I try to add the mock\r\n\r\n```scala\r\n@RunWith(classOf[JUnitRunner])\r\nclass IdentitySuite extends AnyFunSuite with Matchers {\r\n  test(&quot;No Records returned&quot;) {\r\n    val cds = EasyMock.createMock(classOf[CoreDataSource])\r\n    assert(true)\r\n  }\r\n}\r\n```\r\n\r\nI get \r\n\r\n&gt; Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @40f9161a\r\n\r\nI see some old questions that point at downgrading to 15 but that isn&#39;t an option in my case.\r\n\r\nHow do I Mock a Scala class when using Java 18? ","title":"How do I mock Classes with Scala 3.2, Scalatest 3.2, and Java 18","body":"<p>I have the following code...</p>\n<pre class=\"lang-scala prettyprint-override\"><code>@RunWith(classOf[JUnitRunner])\nclass IdentitySuite extends AnyFunSuite with Matchers {\n  test(&quot;No Records returned&quot;) {\n    assert(true)\n  }\n}\n</code></pre>\n<p>This works fine now I would like to add a mocked Object so I add...</p>\n<pre><code>testing {\n    suites {\n        // Configure the built-in test suite\n        test {\n            // Use JUnit4 test framework\n            useJUnit('4.13.2')\n            dependencies {\n                // Use Scalatest for testing our library\n                implementation 'org.scalatest:scalatest_3:3.2.12'\n                implementation 'org.scalatestplus:junit-4-13_3:3.2.12.0'\n                implementation 'org.easymock:easymock:4.3'\n                implementation 'org.scalatestplus:easymock-4-3_3:3.2.12.0'\n                runtimeOnly 'org.scala-lang.modules:scala-xml_3:2.1.0'\n            }\n        }\n    }\n}\n</code></pre>\n<p>But when I try to add the mock</p>\n<pre class=\"lang-scala prettyprint-override\"><code>@RunWith(classOf[JUnitRunner])\nclass IdentitySuite extends AnyFunSuite with Matchers {\n  test(&quot;No Records returned&quot;) {\n    val cds = EasyMock.createMock(classOf[CoreDataSource])\n    assert(true)\n  }\n}\n</code></pre>\n<p>I get</p>\n<blockquote>\n<p>Caused by: java.lang.reflect.InaccessibleObjectException: Unable to make protected final java.lang.Class java.lang.ClassLoader.defineClass(java.lang.String,byte[],int,int,java.security.ProtectionDomain) throws java.lang.ClassFormatError accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @40f9161a</p>\n</blockquote>\n<p>I see some old questions that point at downgrading to 15 but that isn't an option in my case.</p>\n<p>How do I Mock a Scala class when using Java 18?</p>\n"},{"tags":["java","python","enums","class-constructors"],"answers":[{"tags":[],"owner":{"account_id":258701,"reputation":111265,"user_id":541038,"accept_rate":94,"display_name":"Joran Beasley"},"down_vote_count":0,"up_vote_count":8,"is_accepted":true,"score":8,"last_activity_date":1658501607,"creation_date":1584417824,"answer_id":60716102,"question_id":60716029,"body_markdown":"dont overthink it\r\n\r\n\r\n    class Color:\r\n         def __init__(self,r,g,b):\r\n            self.r = r\r\n            self.g = g\r\n            self.b = b\r\n    \r\n         def __str__(self):\r\n             # return the string repr\r\n             return f&quot;#{self.r:02X}{self.g:02X}{self.b:02X}&quot;\r\n\r\n         def __getitem__(self,item):\r\n             # allow `color[0],color[1],color[2]` access\r\n             return [self.r,self.g,self.b][item]\r\n\r\n         def __iter__(self):\r\n             # cast to list\r\n             return iter([self.r,self.g,self.b])\r\n         \r\n    class Colors:\r\n      RED = Color(255,0,0)\r\n      GREEN = Color(0,255,0)\r\n      BLUE = Color(0,0,255)\r\n      WHITE = Color(255,255,255)\r\n      BLACK = Color(0,0,0)\r\n      \r\n    print(list(Colors.RED))\r\n    print(Colors.GREEN[1])\r\n    print(&quot;%s&quot;%Colors.BLUE)\r\n\r\n\r\nIf you really want to use that enum class you can as follows\r\n\r\n\r\n    from enum import Enum\r\n\r\n    class Color:\r\n         def __init__(self,r,g,b):\r\n            self.r = r\r\n            self.g = g\r\n            self.b = b\r\n    \r\n         def toHex(self):\r\n             return f&quot;#{self.r:02X}{self.g:02X}{self.b:02X}&quot;\r\n         \r\n         def toRGB(self):\r\n             return (self.r,self.g,self.b)\r\n    \r\n    class Colors(Enum):\r\n      RED = Color(255,0,0)\r\n      GREEN = Color(0,255,0)\r\n      BLUE = Color(0,0,255)\r\n      WHITE = Color(255,255,255)\r\n      BLACK = Color(0,0,0)\r\n      \r\n    print(Colors.RED)\r\n    print(Colors.GREEN.value.toRGB())\r\n    print(&quot;%s&quot;%Colors.BLUE.value.toHex())","title":"Enumerations With Functions and Constructors in Python","body":"<p>dont overthink it</p>\n<pre><code>class Color:\n     def __init__(self,r,g,b):\n        self.r = r\n        self.g = g\n        self.b = b\n\n     def __str__(self):\n         # return the string repr\n         return f&quot;#{self.r:02X}{self.g:02X}{self.b:02X}&quot;\n\n     def __getitem__(self,item):\n         # allow `color[0],color[1],color[2]` access\n         return [self.r,self.g,self.b][item]\n\n     def __iter__(self):\n         # cast to list\n         return iter([self.r,self.g,self.b])\n     \nclass Colors:\n  RED = Color(255,0,0)\n  GREEN = Color(0,255,0)\n  BLUE = Color(0,0,255)\n  WHITE = Color(255,255,255)\n  BLACK = Color(0,0,0)\n  \nprint(list(Colors.RED))\nprint(Colors.GREEN[1])\nprint(&quot;%s&quot;%Colors.BLUE)\n</code></pre>\n<p>If you really want to use that enum class you can as follows</p>\n<pre><code>from enum import Enum\n\nclass Color:\n     def __init__(self,r,g,b):\n        self.r = r\n        self.g = g\n        self.b = b\n\n     def toHex(self):\n         return f&quot;#{self.r:02X}{self.g:02X}{self.b:02X}&quot;\n     \n     def toRGB(self):\n         return (self.r,self.g,self.b)\n\nclass Colors(Enum):\n  RED = Color(255,0,0)\n  GREEN = Color(0,255,0)\n  BLUE = Color(0,0,255)\n  WHITE = Color(255,255,255)\n  BLACK = Color(0,0,0)\n  \nprint(Colors.RED)\nprint(Colors.GREEN.value.toRGB())\nprint(&quot;%s&quot;%Colors.BLUE.value.toHex())\n</code></pre>\n"}],"owner":{"account_id":17416313,"reputation":333,"user_id":12622625,"display_name":"KNOB Personal"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5013,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":60716102,"answer_count":1,"score":1,"last_activity_date":1658501607,"creation_date":1584417108,"question_id":60716029,"body_markdown":"I am learning Python and am making a boundary for the PyGame library. There is nothing wrong with it, I just want to make methods and classes more suited to my specific project. In short,  I want to make a color enumeration, but each value in the enumeration has an RGB and Hex version. Since I&#39;ve done this in Java before, I&#39;ll show roughly what I mean in a Java enum.\r\n\r\n    public enum Color {\r\n    \r\n        RED(new double[]{255, 0, 0}, &quot;#ff0000&quot;),\r\n        CYAN(new double[]{0, 255, 255}, &quot;#00e1ff&quot;);\r\n        // Other colors...\r\n    \r\n        double[] rgb;\r\n        String hex;\r\n    \r\n        Color(double[] rgb, String hex) {\r\n            this.rgb = rgb;\r\n            this.hex = hex;\r\n        }\r\n        \r\n        public double[] getRGB() {\r\n            return rgb;\r\n        }\r\n        \r\n        public String getHex() {\r\n            return hex;\r\n        }\r\n    }\r\nAll I&#39;m doing here is making a constructor (private by default in Java) for the enumeration and making each item in the enumeration specify the parameters in that constructor. RED, for example, specifies that the rgb double array is equal to {255, 0, 0} through the constructor and the hex string is &quot;ff0000&quot;. With the methods at the bottom, you can retrieve these values anywhere in the code.\r\n\r\nIn the end, if I import the enumeration into a code, and then use the RED item, I can say RED.getRGB() and get a double array. I want to add a bunch of colors in this enumeration but I also want to know the syntax for this in general because it applies to other parts of my program.\r\n\r\nI want to do this in Python. I barely understand making regular enums in Python and don&#39;t understand the whole &quot;class Clazz(Enum):&quot; thing, but I certainly don&#39;t know how to do the code above in Python. I just don&#39;t know the syntax.","title":"Enumerations With Functions and Constructors in Python","body":"<p>I am learning Python and am making a boundary for the PyGame library. There is nothing wrong with it, I just want to make methods and classes more suited to my specific project. In short,  I want to make a color enumeration, but each value in the enumeration has an RGB and Hex version. Since I've done this in Java before, I'll show roughly what I mean in a Java enum.</p>\n\n<pre><code>public enum Color {\n\n    RED(new double[]{255, 0, 0}, \"#ff0000\"),\n    CYAN(new double[]{0, 255, 255}, \"#00e1ff\");\n    // Other colors...\n\n    double[] rgb;\n    String hex;\n\n    Color(double[] rgb, String hex) {\n        this.rgb = rgb;\n        this.hex = hex;\n    }\n\n    public double[] getRGB() {\n        return rgb;\n    }\n\n    public String getHex() {\n        return hex;\n    }\n}\n</code></pre>\n\n<p>All I'm doing here is making a constructor (private by default in Java) for the enumeration and making each item in the enumeration specify the parameters in that constructor. RED, for example, specifies that the rgb double array is equal to {255, 0, 0} through the constructor and the hex string is \"ff0000\". With the methods at the bottom, you can retrieve these values anywhere in the code.</p>\n\n<p>In the end, if I import the enumeration into a code, and then use the RED item, I can say RED.getRGB() and get a double array. I want to add a bunch of colors in this enumeration but I also want to know the syntax for this in general because it applies to other parts of my program.</p>\n\n<p>I want to do this in Python. I barely understand making regular enums in Python and don't understand the whole \"class Clazz(Enum):\" thing, but I certainly don't know how to do the code above in Python. I just don't know the syntax.</p>\n"},{"tags":["java","optaplanner"],"comments":[{"owner":{"account_id":216698,"reputation":26495,"user_id":472109,"accept_rate":85,"display_name":"Geoffrey De Smet"},"score":0,"creation_date":1658563394,"post_id":73082280,"comment_id":129086674,"body_markdown":"No API for that at the moment. Maybe an RFE we want to add? I guess you could translate the indictement list after you get it, but it would put the translating code far away from the constraint code...","body":"No API for that at the moment. Maybe an RFE we want to add? I guess you could translate the indictement list after you get it, but it would put the translating code far away from the constraint code..."},{"owner":{"account_id":1138836,"reputation":1013,"user_id":1123303,"accept_rate":30,"display_name":"Radical"},"score":0,"creation_date":1658602977,"post_id":73082280,"comment_id":129094354,"body_markdown":"@GeoffreyDeSmet yeah, that was my final option, looking at the indictment list after the fact. But indeed not what I&#39;d like to do due to the reason you mention. Just to be clear, is there also no way to reverse the relationship between planningentity and problem fact? So that you could forEach over a problemfact and get the related planningentities? Since that would also solve my problem in this case","body":"@GeoffreyDeSmet yeah, that was my final option, looking at the indictment list after the fact. But indeed not what I&#39;d like to do due to the reason you mention. Just to be clear, is there also no way to reverse the relationship between planningentity and problem fact? So that you could forEach over a problemfact and get the related planningentities? Since that would also solve my problem in this case"},{"owner":{"account_id":9133364,"reputation":4450,"user_id":6794063,"display_name":"Luk&#225;š Petrovick&#253;"},"score":0,"creation_date":1658683387,"post_id":73082280,"comment_id":129106516,"body_markdown":"Planning facts must not reference entities - entities change, facts do not. But nothing prevents you from referencing facts from entities, and doing `forEach(Fact.class).join(Entity.class, equal(Function.identity(), Entity::getFact))`.","body":"Planning facts must not reference entities - entities change, facts do not. But nothing prevents you from referencing facts from entities, and doing <code>forEach(Fact.class).join(Entity.class, equal(Function.identity(), Entity::getFact))</code>."},{"owner":{"account_id":1138836,"reputation":1013,"user_id":1123303,"accept_rate":30,"display_name":"Radical"},"score":0,"creation_date":1658737329,"post_id":73082280,"comment_id":129116138,"body_markdown":"@Luk&#225;šPetrovick&#253; Yeah, I should have been more clear in my last comment, I was trying to reverse the relationship without joining to the `Entity` from in my constraint, since I was trying to prevent the Entity (list) from ending up in my indictment list. But I think the answer is clear that that&#39;s (currently) not possible, so I&#39;ll have to make do for now.","body":"@Luk&#225;šPetrovick&#253; Yeah, I should have been more clear in my last comment, I was trying to reverse the relationship without joining to the <code>Entity</code> from in my constraint, since I was trying to prevent the Entity (list) from ending up in my indictment list. But I think the answer is clear that that&#39;s (currently) not possible, so I&#39;ll have to make do for now."}],"owner":{"account_id":1138836,"reputation":1013,"user_id":1123303,"accept_rate":30,"display_name":"Radical"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":90,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658501543,"creation_date":1658501543,"question_id":73082280,"body_markdown":"**tl;dr** In the indictment list, is there a way to include only (for example) object `A` from a `BiConstraintStream&lt;A, B&gt;`? And as an aside from that question, is it possible to set references to `PlanningEntity`s on a `ProblemFact` during the construction of a `PlanningSolution`, so we can quickly reference them later during constraint calculation?\r\n\r\n-------\r\n\r\nFull question:\r\n\r\nI currently have a constraint that looks roughly as follows:\r\n\r\n```\r\n        return constraintFactory\r\n                .forEach(Participation.class)\r\n                .groupBy(Participation::getStudent, toList())\r\n                .filter((student, participations) -&gt; student.getMinEnrollments() != null)\r\n                .penalize(&quot;Not enough hours enrolled&quot;,\r\n                        HardSoftScore.ONE_SOFT,\r\n                        (student, participationList) -&gt; student.getMinEnrollments() - participationList.stream().filter(Participation::getEnrolled).count();\r\n                );\r\n```\r\n\r\nThis gives me exactly the penalty I want, in my case a penalty for each student that does not have enough enrollments.\r\n\r\nWhen, after solving, I look at the indictment list, I see something like\r\n```\r\n        -12soft: justification (STUDENT_1) has 1 matches:\r\n            -12soft: constraint (Not enough hours enrolled)\r\n        -12soft: justification ([List, Of, Participation, Objects, ...]) has 1 matches:\r\n            -12soft: constraint (Not enough hours enrolled)\r\n        -8soft: justification (STUDENT_2) has 1 matches:\r\n            -8soft: constraint (Not enough hours enrolled)\r\n        ...\r\n```\r\n\r\nThis suggests to me (and some experimentation seems to confirm this) that every part of a (Uni, Bi, Tri, Quad)ConstraintStream ends up in the indictment list, which I guess makes sense in a way.\r\n\r\nIn my use case (and since I want to make use of the indictment list), for this constraint I would like only the student to show up in this list, and not the list of participations.\r\n\r\nOne thing I have tried is creating a BiConstraintStream&lt;Student, Integer&gt; where &quot;Integer&quot; is the penalty I want to set, and end with something like\r\n```\r\n.penalize(&quot;Not enough hours enrolled&quot;,\r\n                HardSoftScore.ONE_SOFT,\r\n                (student, penalty) -&gt; penalty\r\n        );\r\n```\r\n\r\nThis works in theory (with the correct result), but I still get the raw numbers as a part of my indictment list.\r\n\r\nA final thing I have tried is that during the construction of my PlanningSolution, I set a list of `Participation` objects (my `PlanningEntity`s) on my `Student` objects which are ProblemFacts.\r\nThis would then enable me to do as follows:\r\n```\r\n        return constraintFactory\r\n                .forEach(Student.class)\r\n                .filter(student -&gt; student.getMinEnrollments() != null)\r\n                .penalize(&quot;Not enough hours enrolledv2&quot;,\r\n                        HardSoftScore.ONE_SOFT,\r\n                        (student) -&gt; student.getMinEnrollments() - student.getParticipations().filter(Participation::getEnrolled).count();\r\n                );\r\n```\r\n\r\nI guess this would be more efficient anyway, since I am precomputing the relation between Participations and Students at initialization time instead of during every penalty calculation (and Students are not a PlanningVariable on Participations, so there is no problem there).\r\n\r\nHowever, this does then not work since at the point of constraint calculation the student.getParticipations() objects no longer correspond to the PlanningEntities I constructed originally (I guess Optaplanner makes some clone of these objects which means references cannot be used this way?)\r\n\r\nIs there a way to achieve what I want? Also see the tl;dr above.","title":"Optaplanner: customize inclusion on indictment list","body":"<p><strong>tl;dr</strong> In the indictment list, is there a way to include only (for example) object <code>A</code> from a <code>BiConstraintStream&lt;A, B&gt;</code>? And as an aside from that question, is it possible to set references to <code>PlanningEntity</code>s on a <code>ProblemFact</code> during the construction of a <code>PlanningSolution</code>, so we can quickly reference them later during constraint calculation?</p>\n<hr />\n<p>Full question:</p>\n<p>I currently have a constraint that looks roughly as follows:</p>\n<pre><code>        return constraintFactory\n                .forEach(Participation.class)\n                .groupBy(Participation::getStudent, toList())\n                .filter((student, participations) -&gt; student.getMinEnrollments() != null)\n                .penalize(&quot;Not enough hours enrolled&quot;,\n                        HardSoftScore.ONE_SOFT,\n                        (student, participationList) -&gt; student.getMinEnrollments() - participationList.stream().filter(Participation::getEnrolled).count();\n                );\n</code></pre>\n<p>This gives me exactly the penalty I want, in my case a penalty for each student that does not have enough enrollments.</p>\n<p>When, after solving, I look at the indictment list, I see something like</p>\n<pre><code>        -12soft: justification (STUDENT_1) has 1 matches:\n            -12soft: constraint (Not enough hours enrolled)\n        -12soft: justification ([List, Of, Participation, Objects, ...]) has 1 matches:\n            -12soft: constraint (Not enough hours enrolled)\n        -8soft: justification (STUDENT_2) has 1 matches:\n            -8soft: constraint (Not enough hours enrolled)\n        ...\n</code></pre>\n<p>This suggests to me (and some experimentation seems to confirm this) that every part of a (Uni, Bi, Tri, Quad)ConstraintStream ends up in the indictment list, which I guess makes sense in a way.</p>\n<p>In my use case (and since I want to make use of the indictment list), for this constraint I would like only the student to show up in this list, and not the list of participations.</p>\n<p>One thing I have tried is creating a BiConstraintStream&lt;Student, Integer&gt; where &quot;Integer&quot; is the penalty I want to set, and end with something like</p>\n<pre><code>.penalize(&quot;Not enough hours enrolled&quot;,\n                HardSoftScore.ONE_SOFT,\n                (student, penalty) -&gt; penalty\n        );\n</code></pre>\n<p>This works in theory (with the correct result), but I still get the raw numbers as a part of my indictment list.</p>\n<p>A final thing I have tried is that during the construction of my PlanningSolution, I set a list of <code>Participation</code> objects (my <code>PlanningEntity</code>s) on my <code>Student</code> objects which are ProblemFacts.\nThis would then enable me to do as follows:</p>\n<pre><code>        return constraintFactory\n                .forEach(Student.class)\n                .filter(student -&gt; student.getMinEnrollments() != null)\n                .penalize(&quot;Not enough hours enrolledv2&quot;,\n                        HardSoftScore.ONE_SOFT,\n                        (student) -&gt; student.getMinEnrollments() - student.getParticipations().filter(Participation::getEnrolled).count();\n                );\n</code></pre>\n<p>I guess this would be more efficient anyway, since I am precomputing the relation between Participations and Students at initialization time instead of during every penalty calculation (and Students are not a PlanningVariable on Participations, so there is no problem there).</p>\n<p>However, this does then not work since at the point of constraint calculation the student.getParticipations() objects no longer correspond to the PlanningEntities I constructed originally (I guess Optaplanner makes some clone of these objects which means references cannot be used this way?)</p>\n<p>Is there a way to achieve what I want? Also see the tl;dr above.</p>\n"},{"tags":["java","configuration","compiler-construction"],"answers":[{"tags":[],"owner":{"account_id":23121,"reputation":527346,"user_id":57695,"accept_rate":75,"display_name":"Peter Lawrey"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1348505906,"creation_date":1348503498,"answer_id":12568989,"question_id":12568931,"body_markdown":"You can use a runtime property. As Java is compiled dynamically it has much the same effect.\r\n\r\n     static final boolean PROFILE = Boolean.getBoolean(&quot;VictimZero.PROFILE&quot;);\r\n\r\n     long startTime;\r\n     if (PROFILE)\r\n        startTime = System.nanoTime();\r\n\r\n     ... run some code ...\r\n\r\n     if (PROFILE) {\r\n        long enTime = System.nanoTime();\r\n        System.out.printf(&quot;Code took %.3f seconds%n&quot;, (endTime - startTime)/1e9);\r\n     }\r\n\r\nYou can use the slightly hacky\r\n\r\n     static final boolean VICTIM_ZERO = \r\n                             System.getProperty(&quot;user.name&quot;).equals(&quot;VictimZero&quot;);","title":"Java environment-dependent compilation","body":"<p>You can use a runtime property. As Java is compiled dynamically it has much the same effect.</p>\n\n<pre><code> static final boolean PROFILE = Boolean.getBoolean(\"VictimZero.PROFILE\");\n\n long startTime;\n if (PROFILE)\n    startTime = System.nanoTime();\n\n ... run some code ...\n\n if (PROFILE) {\n    long enTime = System.nanoTime();\n    System.out.printf(\"Code took %.3f seconds%n\", (endTime - startTime)/1e9);\n }\n</code></pre>\n\n<p>You can use the slightly hacky</p>\n\n<pre><code> static final boolean VICTIM_ZERO = \n                         System.getProperty(\"user.name\").equals(\"VictimZero\");\n</code></pre>\n"}],"owner":{"account_id":141367,"reputation":13,"user_id":1694933,"display_name":"VictimZero"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":189,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":12568989,"answer_count":1,"score":1,"last_activity_date":1658501406,"creation_date":1348503305,"question_id":12568931,"body_markdown":"I&#39;ve seen answers on here that you can use final static const variables in Java to prevent sections of code from getting compiled.  My concern with that approach is that I&#39;m forgetful.  :-(  I&#39;m likely to forget to set the variable back to false before I check the code in, and which could negatively impact the project.\r\n\r\nIn C/C++, you can specify environment macros that can be used to control the compilation of code.  For example:\r\n\r\n    #if defined(_PROFILE)\r\n    Time startTime;\r\n    #endif\r\n\r\n    ... run some code ...\r\n\r\n    #if defined(_PROFILE)\r\n    Time endTime;\r\n    std::cout &lt;&lt; &quot;Code took &quot; &lt;&lt; endTime - startTime &lt;&lt; &quot; seconds\\n&quot;;\r\n    #endif\r\n\r\nSo the profiling test code would only get compiled if someone specifically defined the _PROFILE macro which could be passed as an option on the command line of the compiler and have no risk of getting checked in accidentally.  \r\n\r\nIs there any way to mimic this in Java?","title":"Java environment-dependent compilation","body":"<p>I've seen answers on here that you can use final static const variables in Java to prevent sections of code from getting compiled.  My concern with that approach is that I'm forgetful.  :-(  I'm likely to forget to set the variable back to false before I check the code in, and which could negatively impact the project.</p>\n\n<p>In C/C++, you can specify environment macros that can be used to control the compilation of code.  For example:</p>\n\n<pre><code>#if defined(_PROFILE)\nTime startTime;\n#endif\n\n... run some code ...\n\n#if defined(_PROFILE)\nTime endTime;\nstd::cout &lt;&lt; \"Code took \" &lt;&lt; endTime - startTime &lt;&lt; \" seconds\\n\";\n#endif\n</code></pre>\n\n<p>So the profiling test code would only get compiled if someone specifically defined the _PROFILE macro which could be passed as an option on the command line of the compiler and have no risk of getting checked in accidentally.  </p>\n\n<p>Is there any way to mimic this in Java?</p>\n"},{"tags":["java","android","android-edittext"],"comments":[{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1658511397,"post_id":73082239,"comment_id":129078018,"body_markdown":"Use `onKeyUp` and get the `keyCode`.","body":"Use <code>onKeyUp</code> and get the <code>keyCode</code>."},{"owner":{"account_id":25870378,"reputation":37,"user_id":19601380,"display_name":"Paranoia"},"score":0,"creation_date":1658512013,"post_id":73082239,"comment_id":129078203,"body_markdown":"So I need to used setOnKeyListener?","body":"So I need to used setOnKeyListener?"},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1658512393,"post_id":73082239,"comment_id":129078341,"body_markdown":"No, override the method with a extension of `EditText`.","body":"No, override the method with a extension of <code>EditText</code>."},{"owner":{"account_id":25870378,"reputation":37,"user_id":19601380,"display_name":"Paranoia"},"score":0,"creation_date":1658512616,"post_id":73082239,"comment_id":129078398,"body_markdown":"@AliasCartellano I try `KEYCODE_ENTER` its only work in hardware key strokes but not in my on screen keyboard.","body":"@AliasCartellano I try <code>KEYCODE_ENTER</code> its only work in hardware key strokes but not in my on screen keyboard."},{"owner":{"account_id":22450291,"reputation":364,"user_id":16653700,"display_name":"Alias Cartellano"},"score":0,"creation_date":1658519215,"post_id":73082239,"comment_id":129080316,"body_markdown":"You could run the program and get the `KeyCode` your on screen keyboard uses.","body":"You could run the program and get the <code>KeyCode</code> your on screen keyboard uses."},{"owner":{"account_id":25870378,"reputation":37,"user_id":19601380,"display_name":"Paranoia"},"score":0,"creation_date":1658553064,"post_id":73082239,"comment_id":129085199,"body_markdown":"@AliasCartellano It&#39;s not working doesn&#39;t fix the problem.","body":"@AliasCartellano It&#39;s not working doesn&#39;t fix the problem."}],"owner":{"account_id":25870378,"reputation":37,"user_id":19601380,"display_name":"Paranoia"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":61,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658501382,"creation_date":1658501382,"question_id":73082239,"body_markdown":"#### Im trying to create a EditText with a bunch of user input and add bullet per item. ####\r\n\r\n&gt; The expected output look like this \r\n\r\n• Item 1 Item 1\r\n\r\n Item 1 also\r\n\r\n• Item 2\r\n\r\n• Item 3\r\n\r\n&gt; So far I have this code below for creating a bullet when new line is occur\r\n\r\n***CustomEditText.java***\r\n\r\n```\r\n ...\r\n   myEditText.addTextChangedListener(new TextWatcher() {\r\n            @Override\r\n            public void onTextChanged(CharSequence text, int start, int lengthBefore, int lengthAfter) {\r\n                if (text.length() == 0) {\r\n                    isTyping = false;\r\n                    return;\r\n                }\r\n\r\n                String newText = text.toString().replace(&quot;\\n\\n&quot;,&quot;\\n&quot;);\r\n                if(newText.charAt(0) == &#39;\\n&#39;) {\r\n                    newText = newText.substring(1);\r\n                }\r\n                if(!text.toString().equals(newText)) {\r\n                    setText(newText);\r\n                    myEditText.setSelection(myEditText.getText().length());\r\n                }\r\n\r\n                isTyping = true;\r\n            }\r\n\r\n            @Override\r\n            public void beforeTextChanged(CharSequence text, int start, int lengthBefore, int lengthAfter) {\r\n            }\r\n\r\n            @Override\r\n            public void afterTextChanged(Editable editable) {\r\n\r\n            }\r\n        });\r\n ...\r\n @Override\r\n    protected void onDraw(Canvas canvas) {\r\n        if (isTyping) {\r\n            int baseline = getBaseline();\r\n            for (int i = 0; i &lt; getLineCount(); i++) {\r\n                canvas.drawText(&quot;  •&quot;, rect.left, baseline, paint);\r\n                baseline += getLineHeight();\r\n            }\r\n        }\r\n        super.onDraw(canvas);\r\n    }\r\n```\r\n**The problem is when user input a long text (in my case I ask user for a list of procedures) it generate a bullet per line because &quot;\\n&quot; is occured.**\r\n\r\n&gt; This is code give me output like this\r\n\r\n• Item 1 Item 1\r\n\r\n• Item 1 also\r\n\r\n• Item 2\r\n\r\n• Item 3\r\n\r\n**Is it possible in android when user pressed new line in keyboard? So I can use this to validate when user press new line or not.**\r\n\r\n","title":"How to add a bullet in EditText when user click new line in soft keyboard Android?","body":"<h4>Im trying to create a EditText with a bunch of user input and add bullet per item.</h4>\n<blockquote>\n<p>The expected output look like this</p>\n</blockquote>\n<p>• Item 1 Item 1</p>\n<p>Item 1 also</p>\n<p>• Item 2</p>\n<p>• Item 3</p>\n<blockquote>\n<p>So far I have this code below for creating a bullet when new line is occur</p>\n</blockquote>\n<p><em><strong>CustomEditText.java</strong></em></p>\n<pre><code> ...\n   myEditText.addTextChangedListener(new TextWatcher() {\n            @Override\n            public void onTextChanged(CharSequence text, int start, int lengthBefore, int lengthAfter) {\n                if (text.length() == 0) {\n                    isTyping = false;\n                    return;\n                }\n\n                String newText = text.toString().replace(&quot;\\n\\n&quot;,&quot;\\n&quot;);\n                if(newText.charAt(0) == '\\n') {\n                    newText = newText.substring(1);\n                }\n                if(!text.toString().equals(newText)) {\n                    setText(newText);\n                    myEditText.setSelection(myEditText.getText().length());\n                }\n\n                isTyping = true;\n            }\n\n            @Override\n            public void beforeTextChanged(CharSequence text, int start, int lengthBefore, int lengthAfter) {\n            }\n\n            @Override\n            public void afterTextChanged(Editable editable) {\n\n            }\n        });\n ...\n @Override\n    protected void onDraw(Canvas canvas) {\n        if (isTyping) {\n            int baseline = getBaseline();\n            for (int i = 0; i &lt; getLineCount(); i++) {\n                canvas.drawText(&quot;  •&quot;, rect.left, baseline, paint);\n                baseline += getLineHeight();\n            }\n        }\n        super.onDraw(canvas);\n    }\n</code></pre>\n<p><strong>The problem is when user input a long text (in my case I ask user for a list of procedures) it generate a bullet per line because &quot;\\n&quot; is occured.</strong></p>\n<blockquote>\n<p>This is code give me output like this</p>\n</blockquote>\n<p>• Item 1 Item 1</p>\n<p>• Item 1 also</p>\n<p>• Item 2</p>\n<p>• Item 3</p>\n<p><strong>Is it possible in android when user pressed new line in keyboard? So I can use this to validate when user press new line or not.</strong></p>\n"},{"tags":["java","gson","java-11"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":1,"creation_date":1658481862,"post_id":73078030,"comment_id":129067159,"body_markdown":"Can you share the class `ClassBaseModel`. Please Add a [mcve]","body":"Can you share the class <code>ClassBaseModel</code>. Please Add a <a href=\"https://stackoverflow.com/help/minimal-reproducible-example\">minimal reproducible example</a>"},{"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"score":0,"creation_date":1658481867,"post_id":73078030,"comment_id":129067162,"body_markdown":"How are you coming at the conclustion that it is remmoving time format? are you debugging to see `2021-12-01` or printing only date without time","body":"How are you coming at the conclustion that it is remmoving time format? are you debugging to see <code>2021-12-01</code> or printing only date without time"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":2,"creation_date":1658481966,"post_id":73078030,"comment_id":129067204,"body_markdown":"And also please do not use `java.util.Date` anymore. This class is outdated since many years Use the newer `java.time` API","body":"And also please do not use <code>java.util.Date</code> anymore. This class is outdated since many years Use the newer <code>java.time</code> API"}],"answers":[{"tags":[],"owner":{"account_id":1947573,"reputation":6810,"user_id":1752366,"accept_rate":54,"display_name":"silentsudo"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658501061,"creation_date":1658483950,"answer_id":73078475,"question_id":73078030,"body_markdown":"While Deserializing you have to register deserializer type in gson using `registerTypeAdapter`\r\n\r\nHere is how I have tried to do so, and also\r\n\r\nRequest class:\r\n```java\r\nclass OrderInfoRequest {\r\n    String orderDate;\r\n\r\n    public OrderInfoRequest(String orderDate) {\r\n        this.orderDate = orderDate;\r\n    }\r\n}\r\n```\r\n\r\nMain Mapper class\r\n```java\r\nclass OrderInfo {\r\n    OffsetDateTime orderDate;\r\n\r\n    public OffsetDateTime getOrderDate() {\r\n        return orderDate;\r\n    }\r\n\r\n    public void setOrderDate(OffsetDateTime orderDate) {\r\n        this.orderDate = orderDate;\r\n    }\r\n\r\n\r\n    @Override\r\n    public String toString() {\r\n        return &quot;OrderInfo{&quot; +\r\n                &quot;orderDate=&quot; + orderDate +\r\n                &#39;}&#39;;\r\n    }\r\n}\r\n```\r\n\r\nSample code\r\n```java8\r\npublic class DateMain {\r\n        public static void main(String[] args) {\r\n            OrderInfoRequest orderInfoRequest = new OrderInfoRequest(&quot;2021-12-01T07:16:31Z&quot;);\r\n            Gson gson = new GsonBuilder()\r\n                    .registerTypeAdapter(OffsetDateTime.class, (JsonDeserializer&lt;OffsetDateTime&gt;) (json, typeOfT, context) -&gt; OffsetDateTime.parse(json.getAsString(), DateTimeFormatter.ISO_OFFSET_DATE_TIME))\r\n                    .create();\r\n\r\n            String requestJson = gson.toJson(orderInfoRequest);\r\n            System.out.println(&quot;Request json&quot;);\r\n            System.out.println(requestJson);\r\n            OrderInfo orderInfo = gson.fromJson(requestJson, OrderInfo.class);\r\n            System.out.println(&quot;After parsing pojo&quot;);\r\n            System.out.println(orderInfo);\r\n\r\n            System.out.println(&quot;printing full date: &quot; + orderInfo.orderDate.format(DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd, hh:mm&quot;)));\r\n\r\n        }\r\n    }\r\n```\r\n\r\nAlso as told by @Jens avoid using java.util.Date class from today onwards if you haven&#39;t.","title":"Gson Removing Timestamp From Date while Conversion","body":"<p>While Deserializing you have to register deserializer type in gson using <code>registerTypeAdapter</code></p>\n<p>Here is how I have tried to do so, and also</p>\n<p>Request class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class OrderInfoRequest {\n    String orderDate;\n\n    public OrderInfoRequest(String orderDate) {\n        this.orderDate = orderDate;\n    }\n}\n</code></pre>\n<p>Main Mapper class</p>\n<pre class=\"lang-java prettyprint-override\"><code>class OrderInfo {\n    OffsetDateTime orderDate;\n\n    public OffsetDateTime getOrderDate() {\n        return orderDate;\n    }\n\n    public void setOrderDate(OffsetDateTime orderDate) {\n        this.orderDate = orderDate;\n    }\n\n\n    @Override\n    public String toString() {\n        return &quot;OrderInfo{&quot; +\n                &quot;orderDate=&quot; + orderDate +\n                '}';\n    }\n}\n</code></pre>\n<p>Sample code</p>\n<pre><code>public class DateMain {\n        public static void main(String[] args) {\n            OrderInfoRequest orderInfoRequest = new OrderInfoRequest(&quot;2021-12-01T07:16:31Z&quot;);\n            Gson gson = new GsonBuilder()\n                    .registerTypeAdapter(OffsetDateTime.class, (JsonDeserializer&lt;OffsetDateTime&gt;) (json, typeOfT, context) -&gt; OffsetDateTime.parse(json.getAsString(), DateTimeFormatter.ISO_OFFSET_DATE_TIME))\n                    .create();\n\n            String requestJson = gson.toJson(orderInfoRequest);\n            System.out.println(&quot;Request json&quot;);\n            System.out.println(requestJson);\n            OrderInfo orderInfo = gson.fromJson(requestJson, OrderInfo.class);\n            System.out.println(&quot;After parsing pojo&quot;);\n            System.out.println(orderInfo);\n\n            System.out.println(&quot;printing full date: &quot; + orderInfo.orderDate.format(DateTimeFormatter.ofPattern(&quot;yyyy/MM/dd, hh:mm&quot;)));\n\n        }\n    }\n</code></pre>\n<p>Also as told by @Jens avoid using java.util.Date class from today onwards if you haven't.</p>\n"}],"owner":{"account_id":5137581,"reputation":340,"user_id":4115835,"accept_rate":15,"display_name":"Loren"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":323,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658501061,"creation_date":1658481717,"question_id":73078030,"body_markdown":"I am using to convert JSON String to POJO Class using Gson. In Pojo the attribute are of java.util.Date type. While gson maps Json String to Pojo objects it is removing timestamp. \r\n\r\n    Gson gson = new GsonBuilder().setDateFormat(&quot;yyyy-MM-dd&#39;T&#39;HH:mm:ss.S&#39;Z&#39;&quot;).create();\r\n    ClassBaseModel baseModel = gson.fromJson(request, ClassBaseModel.class);\r\n\r\n    Attribute Original Value in String Json is - &quot;orderDate&quot;: &quot;2021-12-01T07:16:31Z&quot;\r\n    After It is converted into POJO - 2021-12-01\r\n    Expected is - 2021-12-01T07:16:31Z\r\n\r\nI am not sure what wrong I am doing. Can somebody please point out. \r\n\r\n","title":"Gson Removing Timestamp From Date while Conversion","body":"<p>I am using to convert JSON String to POJO Class using Gson. In Pojo the attribute are of java.util.Date type. While gson maps Json String to Pojo objects it is removing timestamp.</p>\n<pre><code>Gson gson = new GsonBuilder().setDateFormat(&quot;yyyy-MM-dd'T'HH:mm:ss.S'Z'&quot;).create();\nClassBaseModel baseModel = gson.fromJson(request, ClassBaseModel.class);\n\nAttribute Original Value in String Json is - &quot;orderDate&quot;: &quot;2021-12-01T07:16:31Z&quot;\nAfter It is converted into POJO - 2021-12-01\nExpected is - 2021-12-01T07:16:31Z\n</code></pre>\n<p>I am not sure what wrong I am doing. Can somebody please point out.</p>\n"},{"tags":["java","spring-boot","swagger","swagger-ui","openapi"],"answers":[{"tags":[],"owner":{"account_id":8252127,"reputation":61,"user_id":6206407,"display_name":"gat kipper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658500930,"creation_date":1658500930,"answer_id":73082131,"question_id":73081811,"body_markdown":"find it ! i have to check in the handlerMethod if the pageable class exists within the parameter types: \r\n\r\n```\r\n    public OperationCustomizer parameterCustomizer() {\r\n        return (Operation operation, HandlerMethod handlerMethod) -&gt; {\r\n            if (Arrays.asList(handlerMethod.getMethod().getParameterTypes()).contains(Pageable.class)) {\r\n                Parameter page = new Parameter()\r\n                        .in(ParameterIn.QUERY.toString())\r\n                        .schema(new IntegerSchema()._default(0))\r\n                        .name(&quot;page&quot;)\r\n                        .description(&quot;La page (0..N)&quot;)\r\n                        .required(true);\r\n                Parameter size = new Parameter()\r\n                        .in(ParameterIn.QUERY.toString())\r\n                        .schema(new IntegerSchema()._default(10))\r\n                        .name(&quot;pageSize&quot;)\r\n                        .description(&quot;Nombre de r&#233;sultats par page&quot;)\r\n                        .required(true);\r\n                Parameter sort = new Parameter()\r\n                        .in(ParameterIn.QUERY.toString())\r\n                        .schema(new ArraySchema())\r\n                        .name(&quot;sort&quot;)\r\n                        .description(&quot;Crit&#232;re de tri avec le format: property(,asc|desc). &quot;\r\n                                + &quot;Tri par d&#233;faut: ascendant. &quot;\r\n                                + &quot;Multiple crit&#232;res de tri sont support&#233;s.&quot;);\r\n                operation.addParametersItem(page);\r\n                operation.addParametersItem(size);\r\n                operation.addParametersItem(sort);\r\n            }\r\n            return operation;\r\n        };\r\n    }\r\n```","title":"Customize pageable display in openapi","body":"<p>find it ! i have to check in the handlerMethod if the pageable class exists within the parameter types:</p>\n<pre><code>    public OperationCustomizer parameterCustomizer() {\n        return (Operation operation, HandlerMethod handlerMethod) -&gt; {\n            if (Arrays.asList(handlerMethod.getMethod().getParameterTypes()).contains(Pageable.class)) {\n                Parameter page = new Parameter()\n                        .in(ParameterIn.QUERY.toString())\n                        .schema(new IntegerSchema()._default(0))\n                        .name(&quot;page&quot;)\n                        .description(&quot;La page (0..N)&quot;)\n                        .required(true);\n                Parameter size = new Parameter()\n                        .in(ParameterIn.QUERY.toString())\n                        .schema(new IntegerSchema()._default(10))\n                        .name(&quot;pageSize&quot;)\n                        .description(&quot;Nombre de résultats par page&quot;)\n                        .required(true);\n                Parameter sort = new Parameter()\n                        .in(ParameterIn.QUERY.toString())\n                        .schema(new ArraySchema())\n                        .name(&quot;sort&quot;)\n                        .description(&quot;Critère de tri avec le format: property(,asc|desc). &quot;\n                                + &quot;Tri par défaut: ascendant. &quot;\n                                + &quot;Multiple critères de tri sont supportés.&quot;);\n                operation.addParametersItem(page);\n                operation.addParametersItem(size);\n                operation.addParametersItem(sort);\n            }\n            return operation;\n        };\n    }\n</code></pre>\n"}],"owner":{"account_id":8252127,"reputation":61,"user_id":6206407,"display_name":"gat kipper"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":486,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658500930,"creation_date":1658499432,"question_id":73081811,"body_markdown":"I&#39;m working on a spring boot project with OPENAPI as a tool for api documentation.\r\n\r\nI have tried to override the display of the pageable json object in the UI with intuitive inputs (page - pageSize - sort)\r\n\r\n```\r\n   public OperationCustomizer parameterCustomizer() {\r\n        return (Operation operation, HandlerMethod handlerMethod) -&gt; {\r\n\r\n            Parameter page = new Parameter()\r\n                    .in(ParameterIn.QUERY.toString())\r\n                    .schema(new IntegerSchema()._default(0))\r\n                    .name(&quot;page&quot;)\r\n                    .description(&quot;La page (0..N)&quot;)\r\n                    .required(true);\r\n            Parameter size = new Parameter()\r\n                    .in(ParameterIn.QUERY.toString())\r\n                    .schema(new IntegerSchema()._default(10))\r\n                    .name(&quot;pageSize&quot;)\r\n                    .description(&quot;Nombre de r&#233;sultats par page&quot;)\r\n                    .required(true);\r\n            Parameter sort = new Parameter()\r\n                    .in(ParameterIn.QUERY.toString())\r\n                    .schema(new ArraySchema())\r\n                    .name(&quot;sort&quot;)\r\n                    .description(&quot;Crit&#232;re de tri avec le format: property(,asc|desc). &quot;\r\n                            + &quot;Tri par d&#233;faut: ascendant. &quot;\r\n                            + &quot;Multiple crit&#232;res de tri sont support&#233;s.&quot;);\r\n            if(operation.)\r\n            operation.addParametersItem(page);\r\n            operation.addParametersItem(size);\r\n            operation.addParametersItem(sort);\r\n            return operation;\r\n        };\r\n    }\r\n\r\n```\r\nThis is working but the parameters page , pageSize and sort are added to all methods\r\nhow can i make this works only for methods requiring pageable?\r\n\r\n","title":"Customize pageable display in openapi","body":"<p>I'm working on a spring boot project with OPENAPI as a tool for api documentation.</p>\n<p>I have tried to override the display of the pageable json object in the UI with intuitive inputs (page - pageSize - sort)</p>\n<pre><code>   public OperationCustomizer parameterCustomizer() {\n        return (Operation operation, HandlerMethod handlerMethod) -&gt; {\n\n            Parameter page = new Parameter()\n                    .in(ParameterIn.QUERY.toString())\n                    .schema(new IntegerSchema()._default(0))\n                    .name(&quot;page&quot;)\n                    .description(&quot;La page (0..N)&quot;)\n                    .required(true);\n            Parameter size = new Parameter()\n                    .in(ParameterIn.QUERY.toString())\n                    .schema(new IntegerSchema()._default(10))\n                    .name(&quot;pageSize&quot;)\n                    .description(&quot;Nombre de résultats par page&quot;)\n                    .required(true);\n            Parameter sort = new Parameter()\n                    .in(ParameterIn.QUERY.toString())\n                    .schema(new ArraySchema())\n                    .name(&quot;sort&quot;)\n                    .description(&quot;Critère de tri avec le format: property(,asc|desc). &quot;\n                            + &quot;Tri par défaut: ascendant. &quot;\n                            + &quot;Multiple critères de tri sont supportés.&quot;);\n            if(operation.)\n            operation.addParametersItem(page);\n            operation.addParametersItem(size);\n            operation.addParametersItem(sort);\n            return operation;\n        };\n    }\n\n</code></pre>\n<p>This is working but the parameters page , pageSize and sort are added to all methods\nhow can i make this works only for methods requiring pageable?</p>\n"},{"tags":["java","distributed"],"comments":[{"owner":{"account_id":1691630,"reputation":49583,"user_id":1553851,"accept_rate":73,"display_name":"shmosel"},"score":0,"creation_date":1549256200,"post_id":54510284,"comment_id":95823950,"body_markdown":"@Mukit09 That&#39;s not for a distributed environment.","body":"@Mukit09 That&#39;s not for a distributed environment."},{"owner":{"account_id":7025899,"reputation":2192,"user_id":5383281,"display_name":"Mebin Joe"},"score":0,"creation_date":1549257378,"post_id":54510284,"comment_id":95824190,"body_markdown":"Similar: https://stackoverflow.com/questions/28370747/how-to-create-a-64-bit-unique-integer-in-java","body":"Similar: <a href=\"https://stackoverflow.com/questions/28370747/how-to-create-a-64-bit-unique-integer-in-java\" title=\"how to create a 64 bit unique integer in java\">stackoverflow.com/questions/28370747/&hellip;</a>"},{"owner":{"account_id":11415719,"reputation":7030,"user_id":10584605,"display_name":"ETO"},"score":0,"creation_date":1549257537,"post_id":54510284,"comment_id":95824216,"body_markdown":"Possible duplicate of [How to create a 64 bit Unique Integer in Java?](https://stackoverflow.com/questions/28370747/how-to-create-a-64-bit-unique-integer-in-java)","body":"Possible duplicate of <a href=\"https://stackoverflow.com/questions/28370747/how-to-create-a-64-bit-unique-integer-in-java\">How to create a 64 bit Unique Integer in Java?</a>"},{"owner":{"account_id":1721068,"reputation":59,"user_id":1576906,"display_name":"lord sadeghi"},"score":0,"creation_date":1549257923,"post_id":54510284,"comment_id":95824302,"body_markdown":"Not similar . My requirement is unique in distributed system and  restart safe id","body":"Not similar . My requirement is unique in distributed system and  restart safe id"},{"owner":{"account_id":452419,"reputation":916,"user_id":848850,"accept_rate":20,"display_name":"nsandersen"},"score":0,"creation_date":1549268481,"post_id":54510284,"comment_id":95827737,"body_markdown":"How many of these do you need per second - can you use a time for part of the number (which should also help the second requirement regarding restarts)?","body":"How many of these do you need per second - can you use a time for part of the number (which should also help the second requirement regarding restarts)?"},{"owner":{"account_id":1721068,"reputation":59,"user_id":1576906,"display_name":"lord sadeghi"},"score":0,"creation_date":1549273111,"post_id":54510284,"comment_id":95829721,"body_markdown":"I need at least 1000000 id per second , even more.","body":"I need at least 1000000 id per second , even more."},{"owner":{"account_id":7178634,"reputation":55168,"user_id":5483526,"display_name":"Matt Timmermans"},"score":0,"creation_date":1549286343,"post_id":54510284,"comment_id":95836774,"body_markdown":"You will need some way to allocate separate spaces to machines -- assign each machine a small unique ID (&lt; 1000 or so), or provide a way for them to communicate so they can negotiate the allocation of blocks of IDs.","body":"You will need some way to allocate separate spaces to machines -- assign each machine a small unique ID (&lt; 1000 or so), or provide a way for them to communicate so they can negotiate the allocation of blocks of IDs."}],"answers":[{"tags":[],"owner":{"account_id":7235311,"reputation":922,"user_id":5520794,"display_name":"vavasthi"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549259901,"creation_date":1549259901,"answer_id":54510825,"question_id":54510284,"body_markdown":"If you really have a distributed system, i.e. multiple executable instances are creating IDs and the id needs to be unique across all of the instances, you probably need to use something like a redis. Redis supports an automatic increment operation that would help you with that.","title":"How to create 64 bit number ID in a distributed environment","body":"<p>If you really have a distributed system, i.e. multiple executable instances are creating IDs and the id needs to be unique across all of the instances, you probably need to use something like a redis. Redis supports an automatic increment operation that would help you with that.</p>\n"},{"tags":[],"owner":{"account_id":3737094,"reputation":544,"user_id":3107804,"accept_rate":62,"display_name":"Pratyush Pranjal"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1549286550,"creation_date":1549286550,"answer_id":54517069,"question_id":54510284,"body_markdown":"[Use AtomicLong and a Timer][1] \r\n\r\n\r\n  [1]: https://stackoverflow.com/questions/28370747/how-to-create-a-64-bit-unique-integer-in-java\r\n \r\nand than handle its value with Collections like Hashset for no collision.","title":"How to create 64 bit number ID in a distributed environment","body":"<p><a href=\"https://stackoverflow.com/questions/28370747/how-to-create-a-64-bit-unique-integer-in-java\">Use AtomicLong and a Timer</a> </p>\n\n<p>and than handle its value with Collections like Hashset for no collision.</p>\n"},{"tags":[],"owner":{"account_id":18044751,"reputation":71,"user_id":13116044,"display_name":"Pouya"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658500883,"creation_date":1658500883,"answer_id":73082121,"question_id":54510284,"body_markdown":"Create an atomic id-generator-service(server) that holds state internally (on-disk) for restart safe\r\n[something like this][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/oxGAU.png","title":"How to create 64 bit number ID in a distributed environment","body":"<p>Create an atomic id-generator-service(server) that holds state internally (on-disk) for restart safe\n<a href=\"https://i.stack.imgur.com/oxGAU.png\" rel=\"nofollow noreferrer\">something like this</a></p>\n"}],"owner":{"account_id":1721068,"reputation":59,"user_id":1576906,"display_name":"lord sadeghi"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":199,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":3,"score":0,"last_activity_date":1658500883,"creation_date":1549255798,"question_id":54510284,"body_markdown":"How to create a unique number of Java `long` type, in distributed environment ?\r\nMy requirement is :\r\n\r\n1- 64 bit number \r\n\r\n2- restart safe\r\n\r\n3- Distributed environment\r\n\r\n3- No collisions\r\n\r\nNote that having a distributed environment without collisions rules out [simple approaches](https://stackoverflow.com/questions/28370747/how-to-create-a-64-bit-unique-integer-in-java) using a counter or the current time.\r\n \r\n\r\n","title":"How to create 64 bit number ID in a distributed environment","body":"<p>How to create a unique number of Java <code>long</code> type, in distributed environment ?\nMy requirement is :</p>\n\n<p>1- 64 bit number </p>\n\n<p>2- restart safe</p>\n\n<p>3- Distributed environment</p>\n\n<p>3- No collisions</p>\n\n<p>Note that having a distributed environment without collisions rules out <a href=\"https://stackoverflow.com/questions/28370747/how-to-create-a-64-bit-unique-integer-in-java\">simple approaches</a> using a counter or the current time.</p>\n"},{"tags":["java","file","delete-file"],"comments":[{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":1,"creation_date":1658348790,"post_id":73057744,"comment_id":129032602,"body_markdown":"Seems to be a space before &quot;.dat&quot; in your comparison?","body":"Seems to be a space before &quot;.dat&quot; in your comparison?"},{"owner":{"account_id":16876231,"reputation":617,"user_id":12203568,"display_name":"SephB"},"score":0,"creation_date":1658348816,"post_id":73057744,"comment_id":129032613,"body_markdown":"Could also be from case sensitivity.","body":"Could also be from case sensitivity."},{"owner":{"account_id":4563475,"reputation":27298,"user_id":3705127,"accept_rate":52,"display_name":"sprinter"},"score":0,"creation_date":1658349100,"post_id":73057744,"comment_id":129032696,"body_markdown":"A better solution than just matching the name is to use a `PathMatcher`. Something like `getPathMatcher(&quot;glob:*.dat&quot;).matches(file.toPath())`","body":"A better solution than just matching the name is to use a <code>PathMatcher</code>. Something like <code>getPathMatcher(&quot;glob:*.dat&quot;).matches(file.toPath())</code>"},{"owner":{"account_id":25856749,"reputation":11,"user_id":19589871,"display_name":"Nilay Das"},"score":0,"creation_date":1658351734,"post_id":73057744,"comment_id":129033431,"body_markdown":"sprinter could you please elaborate on how I could use the PathMatcher? I don&#39;t clearly understand.","body":"sprinter could you please elaborate on how I could use the PathMatcher? I don&#39;t clearly understand."}],"answers":[{"tags":[],"owner":{"account_id":18803026,"reputation":63,"user_id":13712962,"display_name":"Esmatullah Hanif"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658432567,"creation_date":1658349098,"answer_id":73057817,"question_id":73057744,"body_markdown":"`File.delete()` will return true only if it deletes the file. Meaning it will return false if the file does not exist. Ensure `File.exists()` returns true prior to invoking `File.delete()`:\r\n```\r\nif (file.exists()) {\r\n    if (file.delete()) {\r\n    } else {\r\n    }\r\n} \r\n```\r\nAlso see `Files.deleteIfExists()` which may provide more information, via an IOException, in the event of a failed deletion attempt:\r\n```\r\nimport java.io.IOException;\r\nimport java.nio.file.Files;\r\nimport java.nio.file.Path;\r\nimport java.nio.file.Paths;\r\n\r\ntry {\r\n    final Path p = Paths.get(searchCust + &quot; booking.dat&quot;);\r\n    if (Files.deleteIfExists(p)) {\r\n        JOptionPane.showMessageDialog(null, &quot;Deleted &quot; + p);\r\n    } else {\r\n        JOptionPane.showMessageDialog(null, p + &quot; does not exist.&quot;);\r\n    }\r\n}\r\ncatch (final IOException e) {\r\n    JOptionPane.showMessageDialog(null, e.getMessage());\r\n}\r\n```","title":"I cannot delete a .dat file using file operations of Java","body":"<p><code>File.delete()</code> will return true only if it deletes the file. Meaning it will return false if the file does not exist. Ensure <code>File.exists()</code> returns true prior to invoking <code>File.delete()</code>:</p>\n<pre><code>if (file.exists()) {\n    if (file.delete()) {\n    } else {\n    }\n} \n</code></pre>\n<p>Also see <code>Files.deleteIfExists()</code> which may provide more information, via an IOException, in the event of a failed deletion attempt:</p>\n<pre><code>import java.io.IOException;\nimport java.nio.file.Files;\nimport java.nio.file.Path;\nimport java.nio.file.Paths;\n\ntry {\n    final Path p = Paths.get(searchCust + &quot; booking.dat&quot;);\n    if (Files.deleteIfExists(p)) {\n        JOptionPane.showMessageDialog(null, &quot;Deleted &quot; + p);\n    } else {\n        JOptionPane.showMessageDialog(null, p + &quot; does not exist.&quot;);\n    }\n}\ncatch (final IOException e) {\n    JOptionPane.showMessageDialog(null, e.getMessage());\n}\n</code></pre>\n"}],"owner":{"account_id":25856749,"reputation":11,"user_id":19589871,"display_name":"Nilay Das"},"comment_count":4,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":143,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"closed_date":1658700521,"answer_count":1,"score":1,"last_activity_date":1658500688,"creation_date":1658348654,"question_id":73057744,"body_markdown":"I have tried a number of methods for deleting a .dat file using the file operations of Java but none seem to work for me. The methods that I have tried are all searched from StackOverflow. Below is my code:\r\n\r\n```\r\npublic static void removeRecords(Scanner in, ArrayList&lt;BankAccount&gt; listOfAccounts) throws IOException {\r\n    System.out.println(&quot;Enter Administrator Password:&quot;);\r\n    String password = in.next();\r\n\r\n    if (password.equals(&quot;2022&quot;)) {\r\n//      The file pathname should be edited according to the directory where the program files are placed\r\n        File folder = new File(&quot;C:/Users/nilay/OneDrive/Desktop/Bank Account/&quot;);\r\n        File fList [] = folder.listFiles();\r\n//      Searching for accountList.dat and deleting the file\r\n        boolean success = false;\r\n\r\n        for (File file: fList) {\r\n            if (file.getName().endsWith(&quot; .dat&quot;)) {\r\n                success = file.delete();\r\n            }\r\n        }\r\n        if (success) {\r\n            System.out.println(&quot;All account records have been successfully removed. Returning back to Main Menu.&quot;);\r\n        } else if (!success) {\r\n            System.out.println(&quot;File not deleted.&quot;);\r\n        }\r\n    }\r\n```\r\nI always get &quot;File not deleted&quot; as the output. Please help me.","title":"I cannot delete a .dat file using file operations of Java","body":"<p>I have tried a number of methods for deleting a .dat file using the file operations of Java but none seem to work for me. The methods that I have tried are all searched from StackOverflow. Below is my code:</p>\n<pre><code>public static void removeRecords(Scanner in, ArrayList&lt;BankAccount&gt; listOfAccounts) throws IOException {\n    System.out.println(&quot;Enter Administrator Password:&quot;);\n    String password = in.next();\n\n    if (password.equals(&quot;2022&quot;)) {\n//      The file pathname should be edited according to the directory where the program files are placed\n        File folder = new File(&quot;C:/Users/nilay/OneDrive/Desktop/Bank Account/&quot;);\n        File fList [] = folder.listFiles();\n//      Searching for accountList.dat and deleting the file\n        boolean success = false;\n\n        for (File file: fList) {\n            if (file.getName().endsWith(&quot; .dat&quot;)) {\n                success = file.delete();\n            }\n        }\n        if (success) {\n            System.out.println(&quot;All account records have been successfully removed. Returning back to Main Menu.&quot;);\n        } else if (!success) {\n            System.out.println(&quot;File not deleted.&quot;);\n        }\n    }\n</code></pre>\n<p>I always get &quot;File not deleted&quot; as the output. Please help me.</p>\n"},{"tags":["java","ftp","ftps"],"answers":[{"tags":[],"owner":{"account_id":25867981,"reputation":36,"user_id":19599290,"display_name":"coki24"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658499871,"creation_date":1658499871,"answer_id":73081914,"question_id":73065400,"body_markdown":"I had a similar problem from python connecting to an FTPS server. The error was that the server required the data channel session to be the same as the control channel session(reuse the session). The solution was to override one of the methods to do that.\r\n\r\nYou can test extending FTPClient.java and overriding the next method:\r\n\r\n    @Override\r\n    protected void _prepareDataSocket_(final Socket socket) {\r\n         if(preferences.getBoolean(&quot;ftp.tls.session.requirereuse&quot;)) {\r\n             if(socket instanceof SSLSocket) {\r\n                 // Control socket is SSL\r\n                 final SSLSession session = ((SSLSocket) _socket_).getSession();\r\n                 if(session.isValid()) {\r\n                     final SSLSessionContext context = session.getSessionContext();\r\n                     context.setSessionCacheSize(preferences.getInteger(&quot;ftp.ssl.session.cache.size&quot;));\r\n                     try {\r\n                         final Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\r\n                         sessionHostPortCache.setAccessible(true);\r\n                         final Object cache = sessionHostPortCache.get(context);\r\n                         final Method putMethod = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\r\n                         putMethod.setAccessible(true);\r\n                         Method getHostMethod;\r\n                         try {\r\n                             getHostMethod = socket.getClass().getMethod(&quot;getPeerHost&quot;);\r\n                         }\r\n                         catch(NoSuchMethodException e) {\r\n                             // Running in IKVM\r\n                             getHostMethod = socket.getClass().getDeclaredMethod(&quot;getHost&quot;);\r\n                         }\r\n                         getHostMethod.setAccessible(true);\r\n                         Object peerHost = getHostMethod.invoke(socket);\r\n                         putMethod.invoke(cache, String.format(&quot;%s:%s&quot;, peerHost, socket.getPort()).toLowerCase(Locale.ROOT), session);\r\n                     }\r\n                     catch(NoSuchFieldException e) {\r\n                         // Not running in expected JRE\r\n                         log.warn(&quot;No field sessionHostPortCache in SSLSessionContext&quot;, e);\r\n                     }\r\n                     catch(Exception e) {\r\n                         // Not running in expected JRE\r\n                         log.warn(e.getMessage());\r\n                     }\r\n                 }\r\n                 else {\r\n                     log.warn(String.format(&quot;SSL session %s for socket %s is not rejoinable&quot;, session, socket));\r\n                 }\r\n             }\r\n         }\r\n     }\r\n\r\nI found this Java solution here: https://stackoverflow.com/a/32404418/19599290\r\n\r\n","title":"Java - CopyStreamException due to SSLProtocolException when storing file&#39;s contents in FTP server","body":"<p>I had a similar problem from python connecting to an FTPS server. The error was that the server required the data channel session to be the same as the control channel session(reuse the session). The solution was to override one of the methods to do that.</p>\n<p>You can test extending FTPClient.java and overriding the next method:</p>\n<pre><code>@Override\nprotected void _prepareDataSocket_(final Socket socket) {\n     if(preferences.getBoolean(&quot;ftp.tls.session.requirereuse&quot;)) {\n         if(socket instanceof SSLSocket) {\n             // Control socket is SSL\n             final SSLSession session = ((SSLSocket) _socket_).getSession();\n             if(session.isValid()) {\n                 final SSLSessionContext context = session.getSessionContext();\n                 context.setSessionCacheSize(preferences.getInteger(&quot;ftp.ssl.session.cache.size&quot;));\n                 try {\n                     final Field sessionHostPortCache = context.getClass().getDeclaredField(&quot;sessionHostPortCache&quot;);\n                     sessionHostPortCache.setAccessible(true);\n                     final Object cache = sessionHostPortCache.get(context);\n                     final Method putMethod = cache.getClass().getDeclaredMethod(&quot;put&quot;, Object.class, Object.class);\n                     putMethod.setAccessible(true);\n                     Method getHostMethod;\n                     try {\n                         getHostMethod = socket.getClass().getMethod(&quot;getPeerHost&quot;);\n                     }\n                     catch(NoSuchMethodException e) {\n                         // Running in IKVM\n                         getHostMethod = socket.getClass().getDeclaredMethod(&quot;getHost&quot;);\n                     }\n                     getHostMethod.setAccessible(true);\n                     Object peerHost = getHostMethod.invoke(socket);\n                     putMethod.invoke(cache, String.format(&quot;%s:%s&quot;, peerHost, socket.getPort()).toLowerCase(Locale.ROOT), session);\n                 }\n                 catch(NoSuchFieldException e) {\n                     // Not running in expected JRE\n                     log.warn(&quot;No field sessionHostPortCache in SSLSessionContext&quot;, e);\n                 }\n                 catch(Exception e) {\n                     // Not running in expected JRE\n                     log.warn(e.getMessage());\n                 }\n             }\n             else {\n                 log.warn(String.format(&quot;SSL session %s for socket %s is not rejoinable&quot;, session, socket));\n             }\n         }\n     }\n }\n</code></pre>\n<p>I found this Java solution here: <a href=\"https://stackoverflow.com/a/32404418/19599290\">https://stackoverflow.com/a/32404418/19599290</a></p>\n"}],"owner":{"account_id":16824449,"reputation":174,"user_id":12164076,"display_name":"mint"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":156,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73081914,"answer_count":1,"score":0,"last_activity_date":1658499871,"creation_date":1658403109,"question_id":73065400,"body_markdown":"I&#39;m facing an issue when trying to store a file in an FTP server. When trying to upload a file to the FTP server, the file is created but its contents are not copied.\r\n\r\n## Context\r\nWe use the following configuration to access the FTP server using **lftp**. I cannot change this configuration, and don&#39;t know why do we use FTPS with verify-certificates disabled.\r\n\r\n```code\r\n# FTPS_OPTIONS:\r\nset ssl:verify-certificate/testhostname no;\r\nset ftp:ssl-protect-data yes;\r\nset ftp:passive-mode on;\r\n```\r\n\r\nI need to store certain files from a Java application. I&#39;m using apache-commons library. The implemented code looks like this:\r\n\r\n```java\r\n@Autowired\r\npublic FtpService() {\r\n  ftpsClient = new FTPSClient();\r\n  ftpsClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true));\r\n}\r\n\r\npublic void uploadFile(String ftpHost, File tempFile, String destination, String filename)\r\nthrows UploadException {\r\n\r\n  ftpsClient.connect(ftpHost, 990);\r\n  ftpsClient.execPBSZ(0);\r\n  ftpsClient.execPROT(&quot;P&quot;);\r\n  ftpsClient.enterLocalPassiveMode();\r\n  ftpsClient.setKeepAlive(true);\r\n  ftpsClient.setControlKeepAliveTimeout(3000);\r\n\r\n  if(ftpsClient.login(&quot;user&quot;, &quot;password&quot;)) {\r\n    try (InputStream fileStream = new FileInputStream(tempFile)) {\r\n\r\n      if (!ftpsClient.changeWorkingDirectory(destination)) {\r\n        throwUploadException(&quot;Destination directory not available in FTP server&quot;);\r\n      }\r\n\r\n      boolean saved = ftpsClient.storeFile(filename, fileStream);\r\n      // Following code is not executed since the exception is thrown in the previous line\r\n      if (!saved) {\r\n        throwUploadException(&quot;Unable to save file in FTP server&quot;);\r\n      }\r\n      log.info(&quot;Saved FTP file: {}/{}&quot;, destination, filename);\r\n    }\r\n    catch (UploadException | IOException e)\r\n    {\r\n      throwUploadException(e.getMessage());\r\n    }\r\n    finally\r\n    {\r\n      ftpsClient.disconnect();\r\n      if (!tempFile.delete()) {\r\n        log.warn(&quot;Unable to delete &#39;{}&#39; file&quot;, tempFile.getAbsolutePath());\r\n      }\r\n    }\r\n  }\r\n}\r\n```\r\n\r\n## Problem\r\n\r\nI started with a `FTPClient` (non `FTPSClient`) but this way I wasn&#39;t able to login.\r\n\r\nCurrently (`FTPSClient`), **I can**:\r\n* change the working directory\r\n* create directories in the FTP server\r\n\r\n**I cannot**:\r\n* storeFile: this method throws the following exception, and creates the file in the FTP server, but this is empty\r\n\r\n    ```code\r\n    org.apache.commons.net.io.CopyStreamException: IOException caught while copying.\r\n    Cause: javax.net.ssl.SSLProtocolException: Software caused connection abort: socket write error\r\n    ```\r\n* `listFiles()`/`listDirectories()`: when executing this command, the obtained list is always empty. The logged user has all the required permissions in the whole FTP server\r\n\r\n\r\nFollowing is the FTP&#39;s log (note that I have translated the commands to English between parenthesis), corresponding to the code shown before, that raises the exception mentioned before:\r\n```\r\ner: testhostname:990\r\nUSER *******\r\n331 Usuario testuser OK. Clave requerida ( = User testuser OK. Password required)\r\nPASS *******\r\n230 OK. El directorio restringido actual es / ( = OK. The current restricted directory is /)\r\nCWD /test/upload\r\n250 OK. El directorio actual es /test/upload ( = Ok. The current directory is /test/upload)\r\nPASV\r\n227 Entering Passive Mode (&lt;numbers...&gt;)\r\n[Replacing PASV mode reply address &lt;ip_address&gt; with testhostname]\r\nSTOR dummyfile.txt\r\n150 Conexi├│n de datos aceptada ( = Data connection accepted)\r\n```\r\n\r\nIf there is anything else I can include to improve the description, please let me know. Thanks for your help!","title":"Java - CopyStreamException due to SSLProtocolException when storing file&#39;s contents in FTP server","body":"<p>I'm facing an issue when trying to store a file in an FTP server. When trying to upload a file to the FTP server, the file is created but its contents are not copied.</p>\n<h2>Context</h2>\n<p>We use the following configuration to access the FTP server using <strong>lftp</strong>. I cannot change this configuration, and don't know why do we use FTPS with verify-certificates disabled.</p>\n<pre><code># FTPS_OPTIONS:\nset ssl:verify-certificate/testhostname no;\nset ftp:ssl-protect-data yes;\nset ftp:passive-mode on;\n</code></pre>\n<p>I need to store certain files from a Java application. I'm using apache-commons library. The implemented code looks like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Autowired\npublic FtpService() {\n  ftpsClient = new FTPSClient();\n  ftpsClient.addProtocolCommandListener(new PrintCommandListener(new PrintWriter(System.out), true));\n}\n\npublic void uploadFile(String ftpHost, File tempFile, String destination, String filename)\nthrows UploadException {\n\n  ftpsClient.connect(ftpHost, 990);\n  ftpsClient.execPBSZ(0);\n  ftpsClient.execPROT(&quot;P&quot;);\n  ftpsClient.enterLocalPassiveMode();\n  ftpsClient.setKeepAlive(true);\n  ftpsClient.setControlKeepAliveTimeout(3000);\n\n  if(ftpsClient.login(&quot;user&quot;, &quot;password&quot;)) {\n    try (InputStream fileStream = new FileInputStream(tempFile)) {\n\n      if (!ftpsClient.changeWorkingDirectory(destination)) {\n        throwUploadException(&quot;Destination directory not available in FTP server&quot;);\n      }\n\n      boolean saved = ftpsClient.storeFile(filename, fileStream);\n      // Following code is not executed since the exception is thrown in the previous line\n      if (!saved) {\n        throwUploadException(&quot;Unable to save file in FTP server&quot;);\n      }\n      log.info(&quot;Saved FTP file: {}/{}&quot;, destination, filename);\n    }\n    catch (UploadException | IOException e)\n    {\n      throwUploadException(e.getMessage());\n    }\n    finally\n    {\n      ftpsClient.disconnect();\n      if (!tempFile.delete()) {\n        log.warn(&quot;Unable to delete '{}' file&quot;, tempFile.getAbsolutePath());\n      }\n    }\n  }\n}\n</code></pre>\n<h2>Problem</h2>\n<p>I started with a <code>FTPClient</code> (non <code>FTPSClient</code>) but this way I wasn't able to login.</p>\n<p>Currently (<code>FTPSClient</code>), <strong>I can</strong>:</p>\n<ul>\n<li>change the working directory</li>\n<li>create directories in the FTP server</li>\n</ul>\n<p><strong>I cannot</strong>:</p>\n<ul>\n<li><p>storeFile: this method throws the following exception, and creates the file in the FTP server, but this is empty</p>\n<pre><code>org.apache.commons.net.io.CopyStreamException: IOException caught while copying.\nCause: javax.net.ssl.SSLProtocolException: Software caused connection abort: socket write error\n</code></pre>\n</li>\n<li><p><code>listFiles()</code>/<code>listDirectories()</code>: when executing this command, the obtained list is always empty. The logged user has all the required permissions in the whole FTP server</p>\n</li>\n</ul>\n<p>Following is the FTP's log (note that I have translated the commands to English between parenthesis), corresponding to the code shown before, that raises the exception mentioned before:</p>\n<pre><code>er: testhostname:990\nUSER *******\n331 Usuario testuser OK. Clave requerida ( = User testuser OK. Password required)\nPASS *******\n230 OK. El directorio restringido actual es / ( = OK. The current restricted directory is /)\nCWD /test/upload\n250 OK. El directorio actual es /test/upload ( = Ok. The current directory is /test/upload)\nPASV\n227 Entering Passive Mode (&lt;numbers...&gt;)\n[Replacing PASV mode reply address &lt;ip_address&gt; with testhostname]\nSTOR dummyfile.txt\n150 Conexi├│n de datos aceptada ( = Data connection accepted)\n</code></pre>\n<p>If there is anything else I can include to improve the description, please let me know. Thanks for your help!</p>\n"},{"tags":["java","string"],"comments":[{"owner":{"display_name":"user6073886"},"score":7,"creation_date":1658497968,"post_id":73081443,"comment_id":129073181,"body_markdown":"You might want to tell us your desire output for those case. eG should `&quot;129&quot;` result in `&quot;230&quot;` or `&quot;240&quot;` or `&quot;2310&quot;` or something else?","body":"You might want to tell us your desire output for those case. eG should <code>&quot;129&quot;</code> result in <code>&quot;230&quot;</code> or <code>&quot;240&quot;</code> or <code>&quot;2310&quot;</code> or something else?"},{"owner":{"account_id":25818630,"reputation":31,"user_id":19558174,"display_name":"Koushik Andhavarapu"},"score":0,"creation_date":1658498260,"post_id":73081443,"comment_id":129073295,"body_markdown":"240 because for digit 9 you are adding 1 twice and 10034.","body":"240 because for digit 9 you are adding 1 twice and 10034."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1658498465,"post_id":73081443,"comment_id":129073397,"body_markdown":"Since `129` should become `240` because 9+1=10 which means `1` will need to be added *again* to `2`, then why `9923` should become `10034` instead of `11034`? Try to think what `99` should become. When we increase right `9` it becomes `10`, which according to your logic should cause *another* addition for left 9 making it `110`.","body":"Since <code>129</code> should become <code>240</code> because 9+1=10 which means <code>1</code> will need to be added <i>again</i> to <code>2</code>, then why <code>9923</code> should become <code>10034</code> instead of <code>11034</code>? Try to think what <code>99</code> should become. When we increase right <code>9</code> it becomes <code>10</code>, which according to your logic should cause <i>another</i> addition for left 9 making it <code>110</code>."},{"owner":{"account_id":25818630,"reputation":31,"user_id":19558174,"display_name":"Koushik Andhavarapu"},"score":0,"creation_date":1658504511,"post_id":73081443,"comment_id":129075726,"body_markdown":"@Pshemo I mean that for digit 9 it should be &quot;add one normally and the carry&quot;. finally it should rounded to single digit. so (9+1+1 = 11) and replace by 1 and carry also now becomes 1. Thanks for correcting.","body":"@Pshemo I mean that for digit 9 it should be &quot;add one normally and the carry&quot;. finally it should rounded to single digit. so (9+1+1 = 11) and replace by 1 and carry also now becomes 1. Thanks for correcting."},{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":2,"creation_date":1658505643,"post_id":73081443,"comment_id":129076110,"body_markdown":"Please consider using [edit] option to add all necessary information to the question itself, like expected result and logic behind it. Lets not force people who may be willing to help you to also search for all necessary information all over comment section.","body":"Please consider using <a href=\"https://stackoverflow.com/posts/73081443/edit\">edit</a> option to add all necessary information to the question itself, like expected result and logic behind it. Lets not force people who may be willing to help you to also search for all necessary information all over comment section."}],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658498402,"creation_date":1658498402,"answer_id":73081581,"question_id":73081443,"body_markdown":"You define a method for adding two strings and call that method\r\n\r\n\r\n```\r\npublic static String addStrings(String num1, String num2) {\r\n  StringBuilder sb = new StringBuilder();\r\n\r\n  int i = num1.length() - 1, j = num2.length() - 1;\r\n  int carry = 0, sum = 0;\r\n  while (i &gt;= 0 || j &gt;= 0) {\r\n    sum = carry;\r\n\r\n    if (i &gt;= 0) sum += num1.charAt(i) - &#39;0&#39;;\r\n    if (j &gt;= 0) sum += num2.charAt(j) - &#39;0&#39;;\r\n\r\n    sb.append(sum % 10);\r\n    carry = sum / 10;\r\n    i--;\r\n    j--;\r\n  }\r\n\r\n  if (carry != 0) sb.append(carry);\r\n\r\n  return sb.reverse().toString();\r\n}\r\n```\r\n\r\n, `\r\nmain`\r\n\r\n```\r\npublic static void main(String[] args) {\r\n  String num1 = &quot;129&quot;;\r\n  String num2 = &quot;9923&quot;;\r\n  String res1 = addStrings(num1, &quot;1&quot;.repeat(num1.length()));\r\n  String res2 = addStrings(num2, &quot;1&quot;.repeat(num2.length()));\r\n\r\n  System.out.println(res1);\r\n  System.out.println(res2);\r\n}\r\n```\r\n\r\n, **output**\r\n\r\n```\r\n240\r\n11034\r\n```","title":"add 1 to all digits in string","body":"<p>You define a method for adding two strings and call that method</p>\n<pre><code>public static String addStrings(String num1, String num2) {\n  StringBuilder sb = new StringBuilder();\n\n  int i = num1.length() - 1, j = num2.length() - 1;\n  int carry = 0, sum = 0;\n  while (i &gt;= 0 || j &gt;= 0) {\n    sum = carry;\n\n    if (i &gt;= 0) sum += num1.charAt(i) - '0';\n    if (j &gt;= 0) sum += num2.charAt(j) - '0';\n\n    sb.append(sum % 10);\n    carry = sum / 10;\n    i--;\n    j--;\n  }\n\n  if (carry != 0) sb.append(carry);\n\n  return sb.reverse().toString();\n}\n</code></pre>\n<p>, <code> main</code></p>\n<pre><code>public static void main(String[] args) {\n  String num1 = &quot;129&quot;;\n  String num2 = &quot;9923&quot;;\n  String res1 = addStrings(num1, &quot;1&quot;.repeat(num1.length()));\n  String res2 = addStrings(num2, &quot;1&quot;.repeat(num2.length()));\n\n  System.out.println(res1);\n  System.out.println(res2);\n}\n</code></pre>\n<p>, <strong>output</strong></p>\n<pre><code>240\n11034\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15777655,"reputation":1762,"user_id":11385052,"display_name":"Ryan"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658498471,"creation_date":1658498471,"answer_id":73081599,"question_id":73081443,"body_markdown":"I would use regex, it makes it a much simpler solution:\r\n\r\n    public static void main(String[] args) {\r\n        String text = &quot;text240 moretext 350 evenmore460text&quot;;\r\n        Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\r\n\r\n        Matcher matcher = pattern.matcher(text);\r\n        while (matcher.find()) {\r\n            String value = matcher.group();\r\n            int val = Integer.parseInt(value) + 1;\r\n            text = text.replace(value, Integer.toString(val));\r\n        }\r\n        System.out.println(text);\r\n    }","title":"add 1 to all digits in string","body":"<p>I would use regex, it makes it a much simpler solution:</p>\n<pre><code>public static void main(String[] args) {\n    String text = &quot;text240 moretext 350 evenmore460text&quot;;\n    Pattern pattern = Pattern.compile(&quot;\\\\d+&quot;);\n\n    Matcher matcher = pattern.matcher(text);\n    while (matcher.find()) {\n        String value = matcher.group();\n        int val = Integer.parseInt(value) + 1;\n        text = text.replace(value, Integer.toString(val));\n    }\n    System.out.println(text);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15910041,"reputation":592,"user_id":11480221,"display_name":"AddeusExMachina"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658499711,"creation_date":1658498665,"answer_id":73081632,"question_id":73081443,"body_markdown":"The problem is this line of code, check [here](https://stackoverflow.com/questions/17984975/convert-int-to-char-in-java) for more info\r\n```java\r\nresult = result.replace(number.charAt(i - 1), (char) (before + carry));\r\n```\r\nYou may change it like below, but that would replace all occurrences of first argument as @user16320675 points out\r\n```java\r\nresult = result.replace(number.charAt(i - 1), Character.forDigit(before + carry, 10));\r\n```\r\nSo, I would suggest to use StringBuilder instead of String in order to take advantage of the setCharAt(int idx, char c) method","title":"add 1 to all digits in string","body":"<p>The problem is this line of code, check <a href=\"https://stackoverflow.com/questions/17984975/convert-int-to-char-in-java\">here</a> for more info</p>\n<pre class=\"lang-java prettyprint-override\"><code>result = result.replace(number.charAt(i - 1), (char) (before + carry));\n</code></pre>\n<p>You may change it like below, but that would replace all occurrences of first argument as @user16320675 points out</p>\n<pre class=\"lang-java prettyprint-override\"><code>result = result.replace(number.charAt(i - 1), Character.forDigit(before + carry, 10));\n</code></pre>\n<p>So, I would suggest to use StringBuilder instead of String in order to take advantage of the setCharAt(int idx, char c) method</p>\n"}],"owner":{"account_id":25818630,"reputation":31,"user_id":19558174,"display_name":"Koushik Andhavarapu"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":270,"favorite_count":0,"down_vote_count":2,"up_vote_count":1,"answer_count":3,"score":-1,"last_activity_date":1658499711,"creation_date":1658497844,"question_id":73081443,"body_markdown":"I am working on strings and working on a problem. The problem statement is to &quot;add one to all digits inside string&quot;.I am not getting desired output for input numbers 129 and 9923.\r\ncan anyone please help!\r\n\r\n```\r\nimport java.util.*;\r\npublic class Increment {\r\n  public static void main(String[] args) {\r\n    String number = &quot;129&quot;;\r\n    int len = number.length();\r\n    int i = 0;\r\n    int temp = 0;\r\n    int before = 0;\r\n    int carry = 0;\r\n\r\n    String result = number;\r\n    for (i = len - 1; i &gt;= 0; i--) {\r\n      temp = Integer.parseInt(number.charAt(i) + &quot;&quot;);\r\n      if (temp &gt;= 0 &amp;&amp; temp &lt; 9) {\r\n        carry = 0;\r\n        temp = temp + 1;\r\n        result = result.replace(number.charAt(i), (char)(temp + &#39;0&#39;));\r\n      } else {\r\n        carry = 1;\r\n        if (i != 0) {\r\n          before = Integer.parseInt(number.charAt(i - 1) + &quot;&quot;);\r\n          before = before + 1;\r\n          result = result.replace(number.charAt(i), &#39;0&#39;);\r\n          result = result.replace(number.charAt(i - 1), (char)(before + carry));\r\n          i = i - 1;\r\n        } else {\r\n          result = result.replace(number.charAt(i), &#39;0&#39;);\r\n          result = &quot;1&quot; + result;\r\n        }\r\n      }\r\n    }\r\n    System.out.println(result);\r\n  }\r\n}\r\n```","title":"add 1 to all digits in string","body":"<p>I am working on strings and working on a problem. The problem statement is to &quot;add one to all digits inside string&quot;.I am not getting desired output for input numbers 129 and 9923.\ncan anyone please help!</p>\n<pre><code>import java.util.*;\npublic class Increment {\n  public static void main(String[] args) {\n    String number = &quot;129&quot;;\n    int len = number.length();\n    int i = 0;\n    int temp = 0;\n    int before = 0;\n    int carry = 0;\n\n    String result = number;\n    for (i = len - 1; i &gt;= 0; i--) {\n      temp = Integer.parseInt(number.charAt(i) + &quot;&quot;);\n      if (temp &gt;= 0 &amp;&amp; temp &lt; 9) {\n        carry = 0;\n        temp = temp + 1;\n        result = result.replace(number.charAt(i), (char)(temp + '0'));\n      } else {\n        carry = 1;\n        if (i != 0) {\n          before = Integer.parseInt(number.charAt(i - 1) + &quot;&quot;);\n          before = before + 1;\n          result = result.replace(number.charAt(i), '0');\n          result = result.replace(number.charAt(i - 1), (char)(before + carry));\n          i = i - 1;\n        } else {\n          result = result.replace(number.charAt(i), '0');\n          result = &quot;1&quot; + result;\n        }\n      }\n    }\n    System.out.println(result);\n  }\n}\n</code></pre>\n"},{"tags":["java","hibernate"],"comments":[{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":1,"creation_date":1658500147,"post_id":73081843,"comment_id":129074111,"body_markdown":"is there any reason why you have imported `javax.imageio.spi.ServiceRegistry` instead of `org.hibernate.service.ServiceRegistry` ?","body":"is there any reason why you have imported <code>javax.imageio.spi.ServiceRegistry</code> instead of <code>org.hibernate.service.ServiceRegistry</code> ?"},{"owner":{"account_id":8369136,"reputation":3472,"user_id":6284785,"accept_rate":50,"display_name":"Anatoly"},"score":0,"creation_date":1658506405,"post_id":73081843,"comment_id":129076386,"body_markdown":"No reason. Just confused ))","body":"No reason. Just confused ))"}],"owner":{"account_id":8369136,"reputation":3472,"user_id":6284785,"accept_rate":50,"display_name":"Anatoly"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658499546,"creation_date":1658499546,"question_id":73081843,"body_markdown":"I get exception on creating configuration:\r\njava.lang.ClassCastException: class org.hibernate.boot.registry.internal.StandardServiceRegistryImpl cannot be cast to class javax.imageio.spi.ServiceRegistry (org.hibernate.boot.registry.internal.StandardServiceRegistryImpl is in unnamed module of loader &#39;app&#39;; javax.imageio.spi.ServiceRegistry is in module java.desktop of loader &#39;bootstrap&#39;)\r\n\r\nThis is my code with the error:\r\n\r\n    ServiceRegistry serviceRegistry = (ServiceRegistry) new StandardServiceRegistryBuilder()\r\n                            .applySettings(configuration.getProperties()).build();\r\n\r\nThis is my https://github.com/anatoliy19/1.1.4.git","title":"How not to get ClassCastException using StandardServiceRegistryBuilder","body":"<p>I get exception on creating configuration:\njava.lang.ClassCastException: class org.hibernate.boot.registry.internal.StandardServiceRegistryImpl cannot be cast to class javax.imageio.spi.ServiceRegistry (org.hibernate.boot.registry.internal.StandardServiceRegistryImpl is in unnamed module of loader 'app'; javax.imageio.spi.ServiceRegistry is in module java.desktop of loader 'bootstrap')</p>\n<p>This is my code with the error:</p>\n<pre><code>ServiceRegistry serviceRegistry = (ServiceRegistry) new StandardServiceRegistryBuilder()\n                        .applySettings(configuration.getProperties()).build();\n</code></pre>\n<p>This is my <a href=\"https://github.com/anatoliy19/1.1.4.git\" rel=\"nofollow noreferrer\">https://github.com/anatoliy19/1.1.4.git</a></p>\n"},{"tags":["java","string","hex"],"answers":[{"tags":[],"owner":{"account_id":38991,"reputation":6087,"user_id":112308,"accept_rate":78,"display_name":"rodion"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1420041352,"creation_date":1243556939,"answer_id":923889,"question_id":923863,"body_markdown":"I would suggest something like this, where `str` is your input string:\r\n\r\n    StringBuffer hex = new StringBuffer();\r\n    char[] raw = tokens[0].toCharArray();\r\n    for (int i=0;i&lt;raw.length;i++) {\r\n        if     (raw[i]&lt;=0x000F) { hex.append(&quot;000&quot;); }\r\n        else if(raw[i]&lt;=0x00FF) { hex.append(&quot;00&quot; ); }\r\n        else if(raw[i]&lt;=0x0FFF) { hex.append(&quot;0&quot;  ); }\r\n        hex.append(Integer.toHexString(raw[i]).toUpperCase());\r\n    }\r\n","title":"Converting A String To Hexadecimal In Java","body":"<p>I would suggest something like this, where <code>str</code> is your input string:</p>\n\n<pre><code>StringBuffer hex = new StringBuffer();\nchar[] raw = tokens[0].toCharArray();\nfor (int i=0;i&lt;raw.length;i++) {\n    if     (raw[i]&lt;=0x000F) { hex.append(\"000\"); }\n    else if(raw[i]&lt;=0x00FF) { hex.append(\"00\" ); }\n    else if(raw[i]&lt;=0x0FFF) { hex.append(\"0\"  ); }\n    hex.append(Integer.toHexString(raw[i]).toUpperCase());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6887,"reputation":36377,"user_id":11721,"accept_rate":60,"display_name":"Stephen Denne"},"down_vote_count":0,"up_vote_count":21,"is_accepted":false,"score":21,"last_activity_date":1243557295,"creation_date":1243557295,"answer_id":923905,"question_id":923863,"body_markdown":"The numbers that you encode into hexadecimal must represent some encoding of the characters, such as UTF-8. So first convert the String to a byte[] representing the string in that encoding, then convert each byte to hexadecimal.\r\n\r\n    public static String hexadecimal(String input, String charsetName) throws UnsupportedEncodingException {\r\n        if (input == null) throw new NullPointerException();\r\n        return asHex(input.getBytes(charsetName));\r\n    }\r\n\r\n    private static final char[] HEX_CHARS = &quot;0123456789abcdef&quot;.toCharArray();\r\n\r\n    public static String asHex(byte[] buf)\r\n    {\r\n        char[] chars = new char[2 * buf.length];\r\n        for (int i = 0; i &lt; buf.length; ++i)\r\n        {\r\n            chars[2 * i] = HEX_CHARS[(buf[i] &amp; 0xF0) &gt;&gt;&gt; 4];\r\n            chars[2 * i + 1] = HEX_CHARS[buf[i] &amp; 0x0F];\r\n        }\r\n        return new String(chars);\r\n    }\r\n","title":"Converting A String To Hexadecimal In Java","body":"<p>The numbers that you encode into hexadecimal must represent some encoding of the characters, such as UTF-8. So first convert the String to a byte[] representing the string in that encoding, then convert each byte to hexadecimal.</p>\n\n<pre><code>public static String hexadecimal(String input, String charsetName) throws UnsupportedEncodingException {\n    if (input == null) throw new NullPointerException();\n    return asHex(input.getBytes(charsetName));\n}\n\nprivate static final char[] HEX_CHARS = \"0123456789abcdef\".toCharArray();\n\npublic static String asHex(byte[] buf)\n{\n    char[] chars = new char[2 * buf.length];\n    for (int i = 0; i &lt; buf.length; ++i)\n    {\n        chars[2 * i] = HEX_CHARS[(buf[i] &amp; 0xF0) &gt;&gt;&gt; 4];\n        chars[2 * i + 1] = HEX_CHARS[buf[i] &amp; 0x0F];\n    }\n    return new String(chars);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":32681,"reputation":138933,"user_id":90848,"accept_rate":90,"display_name":"Laurence Gonsalves"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1243558201,"creation_date":1243557575,"answer_id":923916,"question_id":923863,"body_markdown":"    byte[] bytes = string.getBytes(CHARSET); // you didn&#39;t say what charset you wanted\r\n    BigInteger bigInt = new BigInteger(bytes);\r\n    String hexString = bigInt.toString(16); // 16 is the radix\r\n\r\nYou could return `hexString` at this point, with the caveat that leading null-chars will be stripped, and the result will have an odd length if the first byte is less than 16. If you need to handle those cases, you can add some extra code to pad with 0s:\r\n\r\n    StringBuilder sb = new StringBuilder();\r\n    while ((sb.length() + hexString.length()) &lt; (2 * bytes.length)) {\r\n      sb.append(&quot;0&quot;);\r\n    }\r\n    sb.append(hexString);\r\n    return sb.toString();\r\n","title":"Converting A String To Hexadecimal In Java","body":"<pre><code>byte[] bytes = string.getBytes(CHARSET); // you didn't say what charset you wanted\nBigInteger bigInt = new BigInteger(bytes);\nString hexString = bigInt.toString(16); // 16 is the radix\n</code></pre>\n\n<p>You could return <code>hexString</code> at this point, with the caveat that leading null-chars will be stripped, and the result will have an odd length if the first byte is less than 16. If you need to handle those cases, you can add some extra code to pad with 0s:</p>\n\n<pre><code>StringBuilder sb = new StringBuilder();\nwhile ((sb.length() + hexString.length()) &lt; (2 * bytes.length)) {\n  sb.append(\"0\");\n}\nsb.append(hexString);\nreturn sb.toString();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":36408,"reputation":45923,"user_id":103842,"accept_rate":92,"display_name":"Kaleb Pederson"},"down_vote_count":3,"up_vote_count":229,"is_accepted":false,"score":226,"last_activity_date":1379856777,"creation_date":1264623161,"answer_id":2149927,"question_id":923863,"body_markdown":"Here&#39;s a short way to convert it to hex:\r\n\r\n    public String toHex(String arg) {\r\n        return String.format(&quot;%040x&quot;, new BigInteger(1, arg.getBytes(/*YOUR_CHARSET?*/)));\r\n    }","title":"Converting A String To Hexadecimal In Java","body":"<p>Here's a short way to convert it to hex:</p>\n\n<pre><code>public String toHex(String arg) {\n    return String.format(\"%040x\", new BigInteger(1, arg.getBytes(/*YOUR_CHARSET?*/)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":219676,"reputation":899,"user_id":476704,"display_name":"Jos Theeuwen"},"down_vote_count":2,"up_vote_count":70,"is_accepted":false,"score":68,"last_activity_date":1287133598,"creation_date":1287133598,"answer_id":3940857,"question_id":923863,"body_markdown":"To ensure that the hex is always 40 characters long, the BigInteger has to be positive:\r\n    \r\n    public String toHex(String arg) {\r\n      return String.format(&quot;%x&quot;, new BigInteger(1, arg.getBytes(/*YOUR_CHARSET?*/)));\r\n    }\r\n\r\n","title":"Converting A String To Hexadecimal In Java","body":"<p>To ensure that the hex is always 40 characters long, the BigInteger has to be positive:</p>\n\n<pre><code>public String toHex(String arg) {\n  return String.format(\"%x\", new BigInteger(1, arg.getBytes(/*YOUR_CHARSET?*/)));\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":8236,"reputation":3400,"user_id":14732,"accept_rate":42,"display_name":"Joshua Swink"},"down_vote_count":0,"up_vote_count":57,"is_accepted":false,"score":57,"last_activity_date":1327435028,"creation_date":1327435028,"answer_id":8993202,"question_id":923863,"body_markdown":"\r\n\r\n    import org.apache.commons.codec.binary.Hex;\r\n    ...\r\n    \r\n    String hexString = Hex.encodeHexString(myString.getBytes(/* charset */));\r\n\r\nhttp://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Hex.html","title":"Converting A String To Hexadecimal In Java","body":"<pre><code>import org.apache.commons.codec.binary.Hex;\n...\n\nString hexString = Hex.encodeHexString(myString.getBytes(/* charset */));\n</code></pre>\n\n<p><a href=\"http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Hex.html\">http://commons.apache.org/codec/apidocs/org/apache/commons/codec/binary/Hex.html</a></p>\n"},{"tags":[],"owner":{"account_id":1082218,"reputation":6741,"user_id":1078883,"display_name":"jordeu"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1334129842,"creation_date":1334129842,"answer_id":10101779,"question_id":923863,"body_markdown":"Here an other solution\r\n\r\n    public static String toHexString(byte[] ba) {\r\n        StringBuilder str = new StringBuilder();\r\n        for(int i = 0; i &lt; ba.length; i++)\r\n            str.append(String.format(&quot;%x&quot;, ba[i]));\r\n        return str.toString();\r\n    }\r\n\r\n    public static String fromHexString(String hex) {\r\n        StringBuilder str = new StringBuilder();\r\n        for (int i = 0; i &lt; hex.length(); i+=2) {\r\n            str.append((char) Integer.parseInt(hex.substring(i, i + 2), 16));\r\n        }\r\n        return str.toString();\r\n    }\r\n","title":"Converting A String To Hexadecimal In Java","body":"<p>Here an other solution</p>\n\n<pre><code>public static String toHexString(byte[] ba) {\n    StringBuilder str = new StringBuilder();\n    for(int i = 0; i &lt; ba.length; i++)\n        str.append(String.format(\"%x\", ba[i]));\n    return str.toString();\n}\n\npublic static String fromHexString(String hex) {\n    StringBuilder str = new StringBuilder();\n    for (int i = 0; i &lt; hex.length(); i+=2) {\n        str.append((char) Integer.parseInt(hex.substring(i, i + 2), 16));\n    }\n    return str.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1542907,"reputation":1,"user_id":1437114,"display_name":"Dmitriy Bocharov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1338900621,"creation_date":1338892423,"answer_id":10895716,"question_id":923863,"body_markdown":"Much better:\r\n\r\n    public static String fromHexString(String hex, String sourceEncoding ) throws  IOException{\r\n        ByteArrayOutputStream bout = new ByteArrayOutputStream();\r\n        byte[] buffer = new byte[512];\r\n        int _start=0;\r\n        for (int i = 0; i &lt; hex.length(); i+=2) {\r\n            buffer[_start++] = (byte)Integer.parseInt(hex.substring(i, i + 2), 16);\r\n            if (_start &gt;=buffer.length || i+2&gt;=hex.length()) {\r\n                bout.write(buffer);\r\n                Arrays.fill(buffer, 0, buffer.length, (byte)0);\r\n                _start  = 0;\r\n            }\r\n        }\r\n\r\n        return  new String(bout.toByteArray(), sourceEncoding);\r\n    }","title":"Converting A String To Hexadecimal In Java","body":"<p>Much better:</p>\n\n<pre><code>public static String fromHexString(String hex, String sourceEncoding ) throws  IOException{\n    ByteArrayOutputStream bout = new ByteArrayOutputStream();\n    byte[] buffer = new byte[512];\n    int _start=0;\n    for (int i = 0; i &lt; hex.length(); i+=2) {\n        buffer[_start++] = (byte)Integer.parseInt(hex.substring(i, i + 2), 16);\n        if (_start &gt;=buffer.length || i+2&gt;=hex.length()) {\n            bout.write(buffer);\n            Arrays.fill(buffer, 0, buffer.length, (byte)0);\n            _start  = 0;\n        }\n    }\n\n    return  new String(bout.toByteArray(), sourceEncoding);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":261696,"reputation":6432,"user_id":546054,"display_name":"TouchBoarder"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1339419403,"creation_date":1339419403,"answer_id":10980535,"question_id":923863,"body_markdown":"To get the Integer value of hex\r\n\r\n\t\t\t//hex like: 0xfff7931e to int\r\n\t\t\tint hexInt = Long.decode(hexString).intValue();","title":"Converting A String To Hexadecimal In Java","body":"<p>To get the Integer value of hex</p>\n\n<pre><code>        //hex like: 0xfff7931e to int\n        int hexInt = Long.decode(hexString).intValue();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1709222,"reputation":9,"user_id":1567599,"display_name":"Rowena Jimenez"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1343810032,"creation_date":1343797946,"answer_id":11752869,"question_id":923863,"body_markdown":"    import java.io.*;\r\n    import java.util.*;\r\n    \r\n    public class Exer5{\r\n    \r\n        public String ConvertToHexadecimal(int num){\r\n            int r;\r\n            String bin=&quot;\\0&quot;;\r\n    \r\n            do{\r\n                r=num%16;\r\n                num=num/16;\r\n    \r\n                if(r==10)\r\n                bin=&quot;A&quot;+bin;\r\n    \r\n                else if(r==11)\r\n                bin=&quot;B&quot;+bin;\r\n    \r\n                else if(r==12)\r\n                bin=&quot;C&quot;+bin;\r\n    \r\n                else if(r==13)\r\n                bin=&quot;D&quot;+bin;\r\n    \r\n                else if(r==14)\r\n                bin=&quot;E&quot;+bin;\r\n    \r\n                else if(r==15)\r\n                bin=&quot;F&quot;+bin;\r\n    \r\n                else\r\n                bin=r+bin;\r\n            }while(num!=0);\r\n    \r\n            return bin;\r\n        }\r\n    \r\n        public int ConvertFromHexadecimalToDecimal(String num){\r\n            int a;\r\n            int ctr=0;\r\n            double prod=0;\r\n    \r\n            for(int i=num.length(); i&gt;0; i--){\r\n    \r\n                if(num.charAt(i-1)==&#39;a&#39;||num.charAt(i-1)==&#39;A&#39;)\r\n                a=10;\r\n    \r\n                else if(num.charAt(i-1)==&#39;b&#39;||num.charAt(i-1)==&#39;B&#39;)\r\n                a=11;\r\n    \r\n                else if(num.charAt(i-1)==&#39;c&#39;||num.charAt(i-1)==&#39;C&#39;)\r\n                a=12;\r\n    \r\n                else if(num.charAt(i-1)==&#39;d&#39;||num.charAt(i-1)==&#39;D&#39;)\r\n                a=13;\r\n    \r\n                else if(num.charAt(i-1)==&#39;e&#39;||num.charAt(i-1)==&#39;E&#39;)\r\n                a=14;\r\n    \r\n                else if(num.charAt(i-1)==&#39;f&#39;||num.charAt(i-1)==&#39;F&#39;)\r\n                a=15;\r\n    \r\n                else\r\n                a=Character.getNumericValue(num.charAt(i-1));\r\n                prod=prod+(a*Math.pow(16, ctr));\r\n                ctr++;\r\n            }\r\n            return (int)prod;\r\n        }\r\n    \r\n        public static void main(String[] args){\r\n    \r\n            Exer5 dh=new Exer5();\r\n            Scanner s=new Scanner(System.in);\r\n    \r\n            int num;\r\n            String numS;\r\n            int choice;\r\n    \r\n            System.out.println(&quot;Enter your desired choice:&quot;);\r\n            System.out.println(&quot;1 - DECIMAL TO HEXADECIMAL             &quot;);\r\n            System.out.println(&quot;2 - HEXADECIMAL TO DECIMAL              &quot;);\r\n            System.out.println(&quot;0 - EXIT                          &quot;);\r\n    \r\n            do{\r\n                System.out.print(&quot;\\nEnter Choice: &quot;);\r\n                choice=s.nextInt();\r\n    \r\n                if(choice==1){\r\n                    System.out.println(&quot;Enter decimal number: &quot;);\r\n                    num=s.nextInt();\r\n                    System.out.println(dh.ConvertToHexadecimal(num));\r\n                }\r\n    \r\n                else if(choice==2){\r\n                    System.out.println(&quot;Enter hexadecimal number: &quot;);\r\n                    numS=s.next();\r\n                    System.out.println(dh.ConvertFromHexadecimalToDecimal(numS));\r\n                }\r\n            }while(choice!=0);\r\n        }\r\n    }\r\n\r\n","title":"Converting A String To Hexadecimal In Java","body":"<pre><code>import java.io.*;\nimport java.util.*;\n\npublic class Exer5{\n\n    public String ConvertToHexadecimal(int num){\n        int r;\n        String bin=\"\\0\";\n\n        do{\n            r=num%16;\n            num=num/16;\n\n            if(r==10)\n            bin=\"A\"+bin;\n\n            else if(r==11)\n            bin=\"B\"+bin;\n\n            else if(r==12)\n            bin=\"C\"+bin;\n\n            else if(r==13)\n            bin=\"D\"+bin;\n\n            else if(r==14)\n            bin=\"E\"+bin;\n\n            else if(r==15)\n            bin=\"F\"+bin;\n\n            else\n            bin=r+bin;\n        }while(num!=0);\n\n        return bin;\n    }\n\n    public int ConvertFromHexadecimalToDecimal(String num){\n        int a;\n        int ctr=0;\n        double prod=0;\n\n        for(int i=num.length(); i&gt;0; i--){\n\n            if(num.charAt(i-1)=='a'||num.charAt(i-1)=='A')\n            a=10;\n\n            else if(num.charAt(i-1)=='b'||num.charAt(i-1)=='B')\n            a=11;\n\n            else if(num.charAt(i-1)=='c'||num.charAt(i-1)=='C')\n            a=12;\n\n            else if(num.charAt(i-1)=='d'||num.charAt(i-1)=='D')\n            a=13;\n\n            else if(num.charAt(i-1)=='e'||num.charAt(i-1)=='E')\n            a=14;\n\n            else if(num.charAt(i-1)=='f'||num.charAt(i-1)=='F')\n            a=15;\n\n            else\n            a=Character.getNumericValue(num.charAt(i-1));\n            prod=prod+(a*Math.pow(16, ctr));\n            ctr++;\n        }\n        return (int)prod;\n    }\n\n    public static void main(String[] args){\n\n        Exer5 dh=new Exer5();\n        Scanner s=new Scanner(System.in);\n\n        int num;\n        String numS;\n        int choice;\n\n        System.out.println(\"Enter your desired choice:\");\n        System.out.println(\"1 - DECIMAL TO HEXADECIMAL             \");\n        System.out.println(\"2 - HEXADECIMAL TO DECIMAL              \");\n        System.out.println(\"0 - EXIT                          \");\n\n        do{\n            System.out.print(\"\\nEnter Choice: \");\n            choice=s.nextInt();\n\n            if(choice==1){\n                System.out.println(\"Enter decimal number: \");\n                num=s.nextInt();\n                System.out.println(dh.ConvertToHexadecimal(num));\n            }\n\n            else if(choice==2){\n                System.out.println(\"Enter hexadecimal number: \");\n                numS=s.next();\n                System.out.println(dh.ConvertFromHexadecimalToDecimal(numS));\n            }\n        }while(choice!=0);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":186752,"reputation":8053,"user_id":424353,"accept_rate":88,"display_name":"Bogdan Calmac"},"down_vote_count":2,"up_vote_count":10,"is_accepted":false,"score":8,"last_activity_date":1376598845,"creation_date":1376598845,"answer_id":18261315,"question_id":923863,"body_markdown":"All answers based on String.getBytes() involve **encoding** your string according to a Charset. You don&#39;t necessarily get the hex value of the 2-byte **characters** that make up your string. If what you actually want is the equivalent of a hex viewer, then you need to access the chars directly. Here&#39;s the function that I use in my code for debugging Unicode issues:\r\n\r\n    static String stringToHex(String string) {\r\n      StringBuilder buf = new StringBuilder(200);\r\n      for (char ch: string.toCharArray()) {\r\n        if (buf.length() &gt; 0)\r\n          buf.append(&#39; &#39;);\r\n        buf.append(String.format(&quot;%04x&quot;, (int) ch));\r\n      }\r\n      return buf.toString();\r\n    }\r\n\r\nThen, stringToHex(&quot;testing123&quot;) will give you:\r\n\r\n    0074 0065 0073 0074 0069 006e 0067 0031 0032 0033\r\n\r\n","title":"Converting A String To Hexadecimal In Java","body":"<p>All answers based on String.getBytes() involve <strong>encoding</strong> your string according to a Charset. You don't necessarily get the hex value of the 2-byte <strong>characters</strong> that make up your string. If what you actually want is the equivalent of a hex viewer, then you need to access the chars directly. Here's the function that I use in my code for debugging Unicode issues:</p>\n\n<pre><code>static String stringToHex(String string) {\n  StringBuilder buf = new StringBuilder(200);\n  for (char ch: string.toCharArray()) {\n    if (buf.length() &gt; 0)\n      buf.append(' ');\n    buf.append(String.format(\"%04x\", (int) ch));\n  }\n  return buf.toString();\n}\n</code></pre>\n\n<p>Then, stringToHex(\"testing123\") will give you:</p>\n\n<pre><code>0074 0065 0073 0074 0069 006e 0067 0031 0032 0033\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2052314,"reputation":352,"user_id":1831027,"accept_rate":83,"display_name":"Marcus Becker"},"down_vote_count":1,"up_vote_count":5,"is_accepted":false,"score":4,"last_activity_date":1384865540,"creation_date":1384865540,"answer_id":20072094,"question_id":923863,"body_markdown":"Convert a letter in hex code and hex code in letter.\r\n\r\n            String letter = &quot;a&quot;;\r\n        String code;\r\n        int decimal;\r\n\r\n        code = Integer.toHexString(letter.charAt(0));\r\n        decimal = Integer.parseInt(code, 16);\r\n\r\n        System.out.println(&quot;Hex code to &quot; + letter + &quot; = &quot; + code);\r\n        System.out.println(&quot;Char to &quot; + code + &quot; = &quot; + (char) decimal);","title":"Converting A String To Hexadecimal In Java","body":"<p>Convert a letter in hex code and hex code in letter.</p>\n\n<pre><code>        String letter = \"a\";\n    String code;\n    int decimal;\n\n    code = Integer.toHexString(letter.charAt(0));\n    decimal = Integer.parseInt(code, 16);\n\n    System.out.println(\"Hex code to \" + letter + \" = \" + code);\n    System.out.println(\"Char to \" + code + \" = \" + (char) decimal);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4950292,"reputation":880,"user_id":3984468,"accept_rate":91,"display_name":"Jibby"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1436140584,"creation_date":1413580399,"answer_id":26433526,"question_id":923863,"body_markdown":"To go the other way (hex to string), you can use\r\n\r\n    public String hexToString(String hex) {\r\n        return new String(new BigInteger(hex, 16).toByteArray());\r\n    }","title":"Converting A String To Hexadecimal In Java","body":"<p>To go the other way (hex to string), you can use</p>\n\n<pre><code>public String hexToString(String hex) {\n    return new String(new BigInteger(hex, 16).toByteArray());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2885481,"reputation":79,"user_id":2475511,"accept_rate":20,"display_name":"user2475511"},"down_vote_count":1,"up_vote_count":3,"is_accepted":false,"score":2,"last_activity_date":1427969159,"creation_date":1427969159,"answer_id":29410244,"question_id":923863,"body_markdown":"First convert it into bytes using getBytes() function and then convert it into hex usign this :\r\n\r\n    private static String hex(byte[] bytes) {\r\n        StringBuilder sb = new StringBuilder();\r\n        for (int i=0; i&lt;bytes.length; i++) {\r\n            sb.append(String.format(&quot;%02X &quot;,bytes[i]));\r\n        }\r\n        return sb.toString();\r\n    }","title":"Converting A String To Hexadecimal In Java","body":"<p>First convert it into bytes using getBytes() function and then convert it into hex usign this :</p>\n\n<pre><code>private static String hex(byte[] bytes) {\n    StringBuilder sb = new StringBuilder();\n    for (int i=0; i&lt;bytes.length; i++) {\n        sb.append(String.format(\"%02X \",bytes[i]));\n    }\n    return sb.toString();\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3486966,"reputation":2270,"user_id":2917630,"display_name":"ultraon"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1442395609,"creation_date":1442395609,"answer_id":32604629,"question_id":923863,"body_markdown":"    new BigInteger(1, myString.getBytes(/*YOUR_CHARSET?*/)).toString(16)","title":"Converting A String To Hexadecimal In Java","body":"<pre><code>new BigInteger(1, myString.getBytes(/*YOUR_CHARSET?*/)).toString(16)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124854,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"down_vote_count":6,"up_vote_count":6,"is_accepted":false,"score":0,"last_activity_date":1483544611,"creation_date":1450133927,"answer_id":34278165,"question_id":923863,"body_markdown":"[**Convert String to Hexadecimal**][1]:\r\n\r\n\tpublic String hexToString(String hex) {\r\n\t\treturn Integer.toHexString(Integer.parseInt(hex));\r\n\t}\r\n\r\ndefinitely this is the easy way.\r\n  [1]: http://","title":"Converting A String To Hexadecimal In Java","body":"<p><strong>Convert String to Hexadecimal</strong>:</p>\n\n<pre><code>public String hexToString(String hex) {\n    return Integer.toHexString(Integer.parseInt(hex));\n}\n</code></pre>\n\n<p>definitely this is the easy way.</p>\n"},{"tags":[],"owner":{"account_id":4646767,"reputation":17781,"user_id":3764804,"accept_rate":59,"display_name":"BullyWiiPlaza"},"down_vote_count":0,"up_vote_count":22,"is_accepted":false,"score":22,"last_activity_date":1557657198,"creation_date":1462137951,"answer_id":36972153,"question_id":923863,"body_markdown":"Use [`DatatypeConverter.printHexBinary()`][1]:\r\n\r\n    public static String toHexadecimal(String text) throws UnsupportedEncodingException\r\n\t{\r\n\t\tbyte[] myBytes = text.getBytes(&quot;UTF-8&quot;);\r\n\t\t\r\n\t\treturn DatatypeConverter.printHexBinary(myBytes);\r\n\t}\r\n\r\nExample usage:\r\n\r\n    System.out.println(toHexadecimal(&quot;Hello StackOverflow&quot;));\r\n\r\nPrints:\r\n\r\n    48656C6C6F20537461636B4F766572666C6F77\r\n\r\n**Note**: This causes a little extra trouble with `Java 9` and newer since the API is not included by default. For reference e.g. see [this][2] `GitHub` issue.\r\n\r\n  [1]: https://docs.oracle.com/javase/7/docs/api/javax/xml/bind/DatatypeConverter.html#printHexBinary(byte[])\r\n  [2]: https://github.com/http-kit/http-kit/issues/356","title":"Converting A String To Hexadecimal In Java","body":"<p>Use <a href=\"https://docs.oracle.com/javase/7/docs/api/javax/xml/bind/DatatypeConverter.html#printHexBinary(byte[])\" rel=\"noreferrer\"><code>DatatypeConverter.printHexBinary()</code></a>:</p>\n\n<pre><code>public static String toHexadecimal(String text) throws UnsupportedEncodingException\n{\n    byte[] myBytes = text.getBytes(\"UTF-8\");\n\n    return DatatypeConverter.printHexBinary(myBytes);\n}\n</code></pre>\n\n<p>Example usage:</p>\n\n<pre><code>System.out.println(toHexadecimal(\"Hello StackOverflow\"));\n</code></pre>\n\n<p>Prints:</p>\n\n<pre><code>48656C6C6F20537461636B4F766572666C6F77\n</code></pre>\n\n<p><strong>Note</strong>: This causes a little extra trouble with <code>Java 9</code> and newer since the API is not included by default. For reference e.g. see <a href=\"https://github.com/http-kit/http-kit/issues/356\" rel=\"noreferrer\">this</a> <code>GitHub</code> issue.</p>\n"},{"tags":[],"owner":{"account_id":4631843,"reputation":31,"user_id":3754157,"display_name":"jamespedwards42"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1476810164,"creation_date":1476810164,"answer_id":40114097,"question_id":923863,"body_markdown":"[Here are some benchmarks][1] comparing different approaches and libraries.  Guava beats Apache Commons Codec at decoding. Commons Codec beats Guava at encoding. And JHex beats them both for decoding and encoding.\n\n### JHex example\n\n    String hexString = &quot;596f752772652077656c636f6d652e&quot;;\n    byte[] decoded = JHex.decodeChecked(hexString);\n    System.out.println(new String(decoded));\n    String reEncoded = JHex.encode(decoded);\n\nEverything is in a [single class file for JHex][2].  Feel free to copy paste if you don&#39;t want yet another library in your dependency tree.  Also note, it is only available as Java 9 jar until I can figure out how to publish multiple release targets with Gradle and the Bintray plugin. \n\n[1]: https://github.com/jamespedwards42/jhex#benchmarks\n[2]: https://github.com/jamespedwards42/jhex/blob/master/src/main/java/com/fabahaba/encode/JHex.java#L7","title":"Converting A String To Hexadecimal In Java","body":"<p><a href=\"https://github.com/jamespedwards42/jhex#benchmarks\" rel=\"nofollow noreferrer\">Here are some benchmarks</a> comparing different approaches and libraries.  Guava beats Apache Commons Codec at decoding. Commons Codec beats Guava at encoding. And JHex beats them both for decoding and encoding.</p>\n<h3>JHex example</h3>\n<pre><code>String hexString = &quot;596f752772652077656c636f6d652e&quot;;\nbyte[] decoded = JHex.decodeChecked(hexString);\nSystem.out.println(new String(decoded));\nString reEncoded = JHex.encode(decoded);\n</code></pre>\n<p>Everything is in a <a href=\"https://github.com/jamespedwards42/jhex/blob/master/src/main/java/com/fabahaba/encode/JHex.java#L7\" rel=\"nofollow noreferrer\">single class file for JHex</a>.  Feel free to copy paste if you don't want yet another library in your dependency tree.  Also note, it is only available as Java 9 jar until I can figure out how to publish multiple release targets with Gradle and the Bintray plugin.</p>\n"},{"tags":[],"owner":{"account_id":11747477,"reputation":109,"user_id":8597810,"display_name":"Amit Samuel"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1533024178,"creation_date":1533024178,"answer_id":51608358,"question_id":923863,"body_markdown":"A short and convenient way to convert a String to its Hexadecimal notation is:\r\n\r\n    public static void main(String... args){\r\n\tString str = &quot;Hello! This is test string.&quot;;\r\n\tchar ch[] = str.toCharArray();\r\n\tStringBuilder sb = new StringBuilder();\r\n\t    for (int i = 0; i &lt; ch.length; i++) {\r\n\t        sb.append(Integer.toHexString((int) ch[i]));\r\n\t    }\r\n\t    System.out.println(sb.toString());\r\n    }","title":"Converting A String To Hexadecimal In Java","body":"<p>A short and convenient way to convert a String to its Hexadecimal notation is:</p>\n\n<pre><code>public static void main(String... args){\nString str = \"Hello! This is test string.\";\nchar ch[] = str.toCharArray();\nStringBuilder sb = new StringBuilder();\n    for (int i = 0; i &lt; ch.length; i++) {\n        sb.append(Integer.toHexString((int) ch[i]));\n    }\n    System.out.println(sb.toString());\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13772766,"reputation":113,"user_id":9939792,"display_name":"Nitin Upadhyay"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1553930628,"creation_date":1553930628,"answer_id":55429185,"question_id":923863,"body_markdown":"check this solution for String to hex and hex to String vise-versa \n\n    public class TestHexConversion {\n    public static void main(String[] args) {\n        try{\n            String clearText = &quot;testString For;0181;with.love&quot;;\n            System.out.println(&quot;Clear Text  = &quot; + clearText);\n            char[] chars = clearText.toCharArray();\n            StringBuffer hex = new StringBuffer();\n            for (int i = 0; i &lt; chars.length; i++) {\n                hex.append(Integer.toHexString((int) chars[i]));\n            }\n            String hexText = hex.toString();\n            System.out.println(&quot;Hex Text  = &quot; + hexText);\n            String decodedText = HexToString(hexText);\n            System.out.println(&quot;Decoded Text = &quot;+decodedText);\n        } catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n    \n    public static String HexToString(String hex){\n\n          StringBuilder finalString = new StringBuilder();\n          StringBuilder tempString = new StringBuilder();\n\n          for( int i=0; i&lt;hex.length()-1; i+=2 ){\n              String output = hex.substring(i, (i + 2));\n              int decimal = Integer.parseInt(output, 16);\n              finalString.append((char)decimal);\n              tempString.append(decimal);\n          }\n        return finalString.toString();\n    }\n\nOutput as follows : \n\n&gt;Clear Text  = testString For;0181;with.love\n&gt;\n&gt;Hex Text  = 74657374537472696e6720466f723b303138313b776974682e6c6f7665\n&gt;\n&gt;Decoded Text = testString For;0181;with.love","title":"Converting A String To Hexadecimal In Java","body":"<p>check this solution for String to hex and hex to String vise-versa</p>\n<pre><code>public class TestHexConversion {\npublic static void main(String[] args) {\n    try{\n        String clearText = &quot;testString For;0181;with.love&quot;;\n        System.out.println(&quot;Clear Text  = &quot; + clearText);\n        char[] chars = clearText.toCharArray();\n        StringBuffer hex = new StringBuffer();\n        for (int i = 0; i &lt; chars.length; i++) {\n            hex.append(Integer.toHexString((int) chars[i]));\n        }\n        String hexText = hex.toString();\n        System.out.println(&quot;Hex Text  = &quot; + hexText);\n        String decodedText = HexToString(hexText);\n        System.out.println(&quot;Decoded Text = &quot;+decodedText);\n    } catch (Exception e){\n        e.printStackTrace();\n    }\n}\n\npublic static String HexToString(String hex){\n\n      StringBuilder finalString = new StringBuilder();\n      StringBuilder tempString = new StringBuilder();\n\n      for( int i=0; i&lt;hex.length()-1; i+=2 ){\n          String output = hex.substring(i, (i + 2));\n          int decimal = Integer.parseInt(output, 16);\n          finalString.append((char)decimal);\n          tempString.append(decimal);\n      }\n    return finalString.toString();\n}\n</code></pre>\n<p>Output as follows :</p>\n<blockquote>\n<p>Clear Text  = testString For;0181;with.love</p>\n<p>Hex Text  = 74657374537472696e6720466f723b303138313b776974682e6c6f7665</p>\n<p>Decoded Text = testString For;0181;with.love</p>\n</blockquote>\n"},{"tags":[],"owner":{"account_id":8115232,"reputation":588,"user_id":6116090,"display_name":"Empire of E"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1568105588,"creation_date":1568105588,"answer_id":57867231,"question_id":923863,"body_markdown":"Using Multiple Peoples help from multiple Threads..\n\nI know this has been answered, but i would like to give a full encode &amp; decode method for any others in my same situation..\n\n\nHere&#39;s my Encoding &amp; Decoding methods..\n \n\n\n    // Global Charset Encoding\n    public static Charset encodingType = StandardCharsets.UTF_8;\n\t\n\t// Text To Hex\n\tpublic static String textToHex(String text)\n\t{\n\t\tbyte[] buf = null;\n\t\tbuf = text.getBytes(encodingType);\n\t\tchar[] HEX_CHARS = &quot;0123456789abcdef&quot;.toCharArray();\n\t\tchar[] chars = new char[2 * buf.length];\n\t\tfor (int i = 0; i &lt; buf.length; ++i)\n\t\t{\n\t\t\tchars[2 * i] = HEX_CHARS[(buf[i] &amp; 0xF0) &gt;&gt;&gt; 4];\n\t\t\tchars[2 * i + 1] = HEX_CHARS[buf[i] &amp; 0x0F];\n\t\t}\n\t\treturn new String(chars);\n\t}\n\t\n\t// Hex To Text\n\tpublic static String hexToText(String hex)\n\t{\n\t\tint l = hex.length();\n\t\tbyte[] data = new byte[l / 2];\n\t\tfor (int i = 0; i &lt; l; i += 2)\n\t\t{\n\t\t\tdata[i / 2] = (byte) ((Character.digit(hex.charAt(i), 16) &lt;&lt; 4)\n\t\t\t\t+ Character.digit(hex.charAt(i + 1), 16));\n\t\t}\n\t\tString st = new String(data, encodingType);\n\t\treturn st;\n\t}\n","title":"Converting A String To Hexadecimal In Java","body":"<p>Using Multiple Peoples help from multiple Threads..</p>\n\n<p>I know this has been answered, but i would like to give a full encode &amp; decode method for any others in my same situation..</p>\n\n<p>Here's my Encoding &amp; Decoding methods..</p>\n\n<pre><code>// Global Charset Encoding\npublic static Charset encodingType = StandardCharsets.UTF_8;\n\n// Text To Hex\npublic static String textToHex(String text)\n{\n    byte[] buf = null;\n    buf = text.getBytes(encodingType);\n    char[] HEX_CHARS = \"0123456789abcdef\".toCharArray();\n    char[] chars = new char[2 * buf.length];\n    for (int i = 0; i &lt; buf.length; ++i)\n    {\n        chars[2 * i] = HEX_CHARS[(buf[i] &amp; 0xF0) &gt;&gt;&gt; 4];\n        chars[2 * i + 1] = HEX_CHARS[buf[i] &amp; 0x0F];\n    }\n    return new String(chars);\n}\n\n// Hex To Text\npublic static String hexToText(String hex)\n{\n    int l = hex.length();\n    byte[] data = new byte[l / 2];\n    for (int i = 0; i &lt; l; i += 2)\n    {\n        data[i / 2] = (byte) ((Character.digit(hex.charAt(i), 16) &lt;&lt; 4)\n            + Character.digit(hex.charAt(i + 1), 16));\n    }\n    String st = new String(data, encodingType);\n    return st;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":22667945,"reputation":41,"user_id":16840026,"display_name":"Vishu Sermal"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1630921508,"creation_date":1630908933,"answer_id":69069862,"question_id":923863,"body_markdown":"One line HEX encoding/decoding without external libs (Java 8 and above): \r\n\r\nEncoding :\r\n\r\n    String hexString = inputString.chars().mapToObj(c -&gt; \r\n    Integer.toHexString(c)).collect(Collectors.joining());\r\n\r\nDecoding :\r\n\r\n    String decodedString = Stream.iterate(0, i -&gt; i+2)\r\n                    .limit(hexString.length()/2 + Math.min(hexString.length()%2,1))\r\n                    .map(i -&gt; &quot;&quot; + (char)Integer.parseInt(&quot;&quot; + hexString.charAt(i) + hexString.charAt(i+1),16))\r\n                    .collect(Collectors.joining());","title":"Converting A String To Hexadecimal In Java","body":"<p>One line HEX encoding/decoding without external libs (Java 8 and above):</p>\n<p>Encoding :</p>\n<pre><code>String hexString = inputString.chars().mapToObj(c -&gt; \nInteger.toHexString(c)).collect(Collectors.joining());\n</code></pre>\n<p>Decoding :</p>\n<pre><code>String decodedString = Stream.iterate(0, i -&gt; i+2)\n                .limit(hexString.length()/2 + Math.min(hexString.length()%2,1))\n                .map(i -&gt; &quot;&quot; + (char)Integer.parseInt(&quot;&quot; + hexString.charAt(i) + hexString.charAt(i+1),16))\n                .collect(Collectors.joining());\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14889041,"reputation":425,"user_id":10751343,"display_name":"S. Florin"},"down_vote_count":0,"up_vote_count":15,"is_accepted":false,"score":15,"last_activity_date":1658499412,"creation_date":1658499412,"answer_id":73081804,"question_id":923863,"body_markdown":"**Java 17** introduces a utility class for  hexadecimal formatting: **java.util.HexFormat**\r\n\r\nConvert to hex:\r\n\r\n    public String toHex(String value) {\r\n        return HexFormat.of().formatHex(value.getBytes());\r\n    }\r\n\r\nConvert from hex:\r\n\r\n    public String fromHex(String value) {\r\n        return new String(HexFormat.of().parseHex(value));\r\n    }\r\n\r\nMore about HexFormat [here][1]\r\n\r\nDocumentation: [here][2]\r\n\r\n\r\n  [1]: https://www.baeldung.com/java-hexformat\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html","title":"Converting A String To Hexadecimal In Java","body":"<p><strong>Java 17</strong> introduces a utility class for  hexadecimal formatting: <strong>java.util.HexFormat</strong></p>\n<p>Convert to hex:</p>\n<pre><code>public String toHex(String value) {\n    return HexFormat.of().formatHex(value.getBytes());\n}\n</code></pre>\n<p>Convert from hex:</p>\n<pre><code>public String fromHex(String value) {\n    return new String(HexFormat.of().parseHex(value));\n}\n</code></pre>\n<p>More about HexFormat <a href=\"https://www.baeldung.com/java-hexformat\" rel=\"noreferrer\">here</a></p>\n<p>Documentation: <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/HexFormat.html\" rel=\"noreferrer\">here</a></p>\n"}],"owner":{"display_name":"Keith"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":502836,"favorite_count":0,"down_vote_count":1,"up_vote_count":125,"answer_count":23,"score":124,"last_activity_date":1658499412,"creation_date":1243556317,"question_id":923863,"body_markdown":"I am trying to convert a string like &quot;testing123&quot; into hexadecimal form in java. I am currently using BlueJ. \r\n\r\nAnd to convert it back, is it the same thing except backward?\r\n","title":"Converting A String To Hexadecimal In Java","body":"<p>I am trying to convert a string like \"testing123\" into hexadecimal form in java. I am currently using BlueJ. </p>\n\n<p>And to convert it back, is it the same thing except backward?</p>\n"},{"tags":["java","methods","overloading"],"comments":[{"owner":{"account_id":4819600,"reputation":56500,"user_id":3890632,"display_name":"khelwood"},"score":0,"creation_date":1658487021,"post_id":73079086,"comment_id":129069091,"body_markdown":"`a` has compile-type `Animal`.","body":"<code>a</code> has compile-type <code>Animal</code>."}],"answers":[{"tags":[],"owner":{"account_id":3280644,"reputation":4811,"user_id":3582831,"display_name":"0xh3xa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658499123,"creation_date":1658488501,"answer_id":73079463,"question_id":73079086,"body_markdown":"This happens because you have two different methods with different reference types one `Animal` and another `Bull`. So when you can a method and pass the parameter type of `Animal`, this method has been called\r\n\r\n```\r\nvoid m1(Animal a) {\r\n   System.out.println(&quot;Calls Animal class&quot;);\r\n}\r\n```\r\n\r\nYour assumption is true about Java polymorphism when you have a reference of `Animal` points to object of `Bull` so whatever you use inside in the two objects will use the child in case of overload otherwise will use Parent if the child doesn&#39;t contain override methods. The opposite in C# language depends on the reference to execute not the object.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nBut in your case you have a different case, you have two different methods and different parameters, so the compiler finds the method that matches the parameter type and calls it.\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/jM3cG.png\r\n  [2]: https://i.stack.imgur.com/hNdE1.png","title":"Java overloading based on compiler resolution","body":"<p>This happens because you have two different methods with different reference types one <code>Animal</code> and another <code>Bull</code>. So when you can a method and pass the parameter type of <code>Animal</code>, this method has been called</p>\n<pre><code>void m1(Animal a) {\n   System.out.println(&quot;Calls Animal class&quot;);\n}\n</code></pre>\n<p>Your assumption is true about Java polymorphism when you have a reference of <code>Animal</code> points to object of <code>Bull</code> so whatever you use inside in the two objects will use the child in case of overload otherwise will use Parent if the child doesn't contain override methods. The opposite in C# language depends on the reference to execute not the object.</p>\n<p><a href=\"https://i.stack.imgur.com/jM3cG.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/jM3cG.png\" alt=\"enter image description here\" /></a></p>\n<p>But in your case you have a different case, you have two different methods and different parameters, so the compiler finds the method that matches the parameter type and calls it.</p>\n<p><a href=\"https://i.stack.imgur.com/hNdE1.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hNdE1.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":18085254,"reputation":43,"user_id":13146358,"display_name":"Karan Guleria"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":42,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658499123,"creation_date":1658486794,"question_id":73079086,"body_markdown":"``` \r\nclass Animal {}\r\n\r\nclass Bull extends Animal {}\r\n\r\nclass Test {\r\n\r\n  void m1(Animal a) {\r\n    System.out.println(&quot;Calls Animal class&quot;);\r\n  }\r\n\r\n  void m1(Bull b) {\r\n    System.out.println(&quot;Calls Bull class&quot;);\r\n  }\r\n\r\n  public static void main(String...args)\r\n\r\n  {\r\n\r\n    Test t = new Test();\r\n\r\n    Animal a = new Bull();\r\n\r\n    t.m1(a);\r\n  }\r\n}\r\n```\r\n\r\n\r\nRESULT: Calls Animal Class\r\n\r\nIn the above code, both methods having arguments types of parent and child reference can accept the argument of the Bull object. However, only the method containing the parent reference gets executed.\r\nWhy does this happen?","title":"Java overloading based on compiler resolution","body":"<pre><code>class Animal {}\n\nclass Bull extends Animal {}\n\nclass Test {\n\n  void m1(Animal a) {\n    System.out.println(&quot;Calls Animal class&quot;);\n  }\n\n  void m1(Bull b) {\n    System.out.println(&quot;Calls Bull class&quot;);\n  }\n\n  public static void main(String...args)\n\n  {\n\n    Test t = new Test();\n\n    Animal a = new Bull();\n\n    t.m1(a);\n  }\n}\n</code></pre>\n<p>RESULT: Calls Animal Class</p>\n<p>In the above code, both methods having arguments types of parent and child reference can accept the argument of the Bull object. However, only the method containing the parent reference gets executed.\nWhy does this happen?</p>\n"},{"tags":["java","android","kotlin","solid-principles"],"comments":[{"owner":{"account_id":19254723,"reputation":2061,"user_id":14071914,"display_name":"JustAnotherDeveloper"},"score":1,"creation_date":1658476496,"post_id":73076663,"comment_id":129065125,"body_markdown":"Related question, might offer some insight: https://stackoverflow.com/questions/1627024/are-there-any-static-analysis-tools-that-will-report-how-closely-the-solid-princ","body":"Related question, might offer some insight: <a href=\"https://stackoverflow.com/questions/1627024/are-there-any-static-analysis-tools-that-will-report-how-closely-the-solid-princ\" title=\"are there any static analysis tools that will report how closely the solid princ\">stackoverflow.com/questions/1627024/&hellip;</a>"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1658498383,"post_id":73076663,"comment_id":129073345,"body_markdown":"SOLID principles are not **rules**, they are principles to use to inform or improve your design.","body":"SOLID principles are not <b>rules</b>, they are principles to use to inform or improve your design."}],"answers":[{"tags":[],"owner":{"account_id":2016713,"reputation":26480,"user_id":1803853,"accept_rate":71,"display_name":"Davide Lorenzo MARINO"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658476751,"creation_date":1658476751,"answer_id":73076998,"question_id":73076663,"body_markdown":"It is not possible to check it with an automatic tool. The concepts of S.O.L.I.D. principles cannot be converted in formulas to be calculated automatically.\r\n\r\nJust to have an idea. The I means [Interface Segregation Principle][1]:\r\n\r\n&gt; ... **ISP splits interfaces that are very large into smaller and more specific ones** so that clients will only have to know about the methods that are of interest to them\r\n\r\nHow much an interface should be small? Who decides if two methods are related to the same concept so they can not be separated in different interfaces? There is no way to do that automatically\r\n\r\nLet&#39;s consider another principle. The [Dependency Inversion Principle][2]:\r\n\r\n&gt; ... the &quot;inversion&quot; concept does not mean that lower-level layers depend on higher-level layers directly. **Both layers should depend on abstractions (interfaces) that expose the behavior needed by higher-level layers**.\r\n\r\nBasically you should depends on interfaces instead of concrete classes. But what happens if you are using an external library that doesn&#39;t use interfaces? Your code is correct, but is not following the Dependency Inversion Principle so you will have a false negative in this case.\r\n\r\nSimilar considerations can be done also for other principles. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/Interface_segregation_principle\r\n  [2]: https://en.wikipedia.org/wiki/Dependency_inversion_principle","title":"How to check whether my app following S.O.L.I.D. Principle","body":"<p>It is not possible to check it with an automatic tool. The concepts of S.O.L.I.D. principles cannot be converted in formulas to be calculated automatically.</p>\n<p>Just to have an idea. The I means <a href=\"https://en.wikipedia.org/wiki/Interface_segregation_principle\" rel=\"nofollow noreferrer\">Interface Segregation Principle</a>:</p>\n<blockquote>\n<p>... <strong>ISP splits interfaces that are very large into smaller and more specific ones</strong> so that clients will only have to know about the methods that are of interest to them</p>\n</blockquote>\n<p>How much an interface should be small? Who decides if two methods are related to the same concept so they can not be separated in different interfaces? There is no way to do that automatically</p>\n<p>Let's consider another principle. The <a href=\"https://en.wikipedia.org/wiki/Dependency_inversion_principle\" rel=\"nofollow noreferrer\">Dependency Inversion Principle</a>:</p>\n<blockquote>\n<p>... the &quot;inversion&quot; concept does not mean that lower-level layers depend on higher-level layers directly. <strong>Both layers should depend on abstractions (interfaces) that expose the behavior needed by higher-level layers</strong>.</p>\n</blockquote>\n<p>Basically you should depends on interfaces instead of concrete classes. But what happens if you are using an external library that doesn't use interfaces? Your code is correct, but is not following the Dependency Inversion Principle so you will have a false negative in this case.</p>\n<p>Similar considerations can be done also for other principles.</p>\n"}],"owner":{"account_id":14624624,"reputation":347,"user_id":10562311,"display_name":"Dheeraj Singh Bhadoria"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":517,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"closed_date":1658498418,"answer_count":1,"score":0,"last_activity_date":1658498405,"creation_date":1658474973,"question_id":73076663,"body_markdown":"I have created one app in kotlin, I tried to follow all OOPS and [SOLID][1] principles in my app. But after development of whole app i want to check whether any class is missing or breaking rules of SOLID principle. \r\n\r\nTry 1 \r\n\r\nReview the whole code in each class whether they are following SOLID principles or not. But if i have large number of files then it will take more time. \r\n\r\nHow can we do it automatically to check whether my app is following SOLID principles. \r\n\r\n\r\n  [1]: https://en.wikipedia.org/wiki/SOLID","title":"How to check whether my app following S.O.L.I.D. Principle","body":"<p>I have created one app in kotlin, I tried to follow all OOPS and <a href=\"https://en.wikipedia.org/wiki/SOLID\" rel=\"nofollow noreferrer\">SOLID</a> principles in my app. But after development of whole app i want to check whether any class is missing or breaking rules of SOLID principle.</p>\n<p>Try 1</p>\n<p>Review the whole code in each class whether they are following SOLID principles or not. But if i have large number of files then it will take more time.</p>\n<p>How can we do it automatically to check whether my app is following SOLID principles.</p>\n"},{"tags":["java","multithreading"],"comments":[{"owner":{"account_id":1485367,"reputation":122993,"user_id":1393766,"display_name":"Pshemo"},"score":0,"creation_date":1658497051,"post_id":73080454,"comment_id":129072759,"body_markdown":"Is it required for Thread 1 to be *first* to print &quot;Ping&quot;, or can Thread 2 be first one to do so?","body":"Is it required for Thread 1 to be <i>first</i> to print &quot;Ping&quot;, or can Thread 2 be first one to do so?"},{"owner":{"account_id":3799294,"reputation":25,"user_id":3153356,"display_name":"user3153356"},"score":0,"creation_date":1658507287,"post_id":73080454,"comment_id":129076691,"body_markdown":"I expect the Thread 1 to be the first to print &quot;Ping&quot;","body":"I expect the Thread 1 to be the first to print &quot;Ping&quot;"}],"answers":[{"tags":[],"owner":{"account_id":9843309,"reputation":1992,"user_id":7291698,"display_name":"user7291698"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658498132,"creation_date":1658494939,"answer_id":73080805,"question_id":73080454,"body_markdown":"You have to make `lastExecutedThread` static, otherwise each `Thread` sees its own instance of it.\r\n\r\nNote that if inside the `print` method `lockObj.wait()` is called, the `wordToPrint` passed to this method is never printed. You can slightly adapt your code to avoid this: if your `print` method returns `true` if printing was successful, and `false` otherwise. Then inside your nested for-loop, put your call of `print` inside a while-loop: `while (!print(wordArr[j]));`","title":"Java Multithreading: Make threads execute alternatively","body":"<p>You have to make <code>lastExecutedThread</code> static, otherwise each <code>Thread</code> sees its own instance of it.</p>\n<p>Note that if inside the <code>print</code> method <code>lockObj.wait()</code> is called, the <code>wordToPrint</code> passed to this method is never printed. You can slightly adapt your code to avoid this: if your <code>print</code> method returns <code>true</code> if printing was successful, and <code>false</code> otherwise. Then inside your nested for-loop, put your call of <code>print</code> inside a while-loop: <code>while (!print(wordArr[j]));</code></p>\n"}],"owner":{"account_id":3799294,"reputation":25,"user_id":3153356,"display_name":"user3153356"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":123,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73080805,"answer_count":1,"score":1,"last_activity_date":1658498132,"creation_date":1658493303,"question_id":73080454,"body_markdown":"I am completely new to multi threading. Need assistance on the below scenario\r\n\r\nScenario:- I want two threads to execute, such that they have to print the word &quot;PingPong&quot; alternatively. This has to happen three 3 times for both threads.\r\n\r\nFor example:- \r\n1. Thread 1 has to print &quot;Ping&quot; and it has to go to wait stage.\r\n2. Thread 2 has to print &quot;Ping&quot; and it has to go to wait stage as well as notify the other thread.\r\n3. Thread 1 has to print &quot;Pong&quot; and it has to go to wait stage as well as notify the other thread.\r\n4. Thread 2 has to print &quot;Pong&quot; and it has to go to wait stage as well as notify the other thread.\r\n\r\nThe same way both the threads has to print the word 3 times in total.\r\n\r\nCoding below:-\r\n\r\n    package com.test.files;\r\n    \r\n    public class MultiThreadingTest2 implements Runnable {\r\n    \tString lastExecutedThread = &quot;&quot;;\r\n    \tObject lockObj = new Object();\r\n    \tprivate void print(String wordToPrint) throws InterruptedException {\r\n    \t\tsynchronized(lockObj) {\r\n    \t\t\tif(lastExecutedThread.equals(Thread.currentThread().getName())) {\r\n    \t\t\t\tSystem.out.println(Thread.currentThread().getName()+&quot; entered wait stage&quot;);\r\n    \t\t\t\tlockObj.wait();\r\n    \t\t\t} else {\r\n    \t\t\t\tlastExecutedThread = Thread.currentThread().getName();\r\n    \t\t\t\tSystem.out.println(Thread.currentThread().getName()+&quot; printed &quot;+wordToPrint);\r\n    \t\t\t\tlockObj.notifyAll();\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic MultiThreadingTest2(Object lock) {\r\n    \t\tthis.lockObj = lock;\r\n    \t}\r\n    \t\r\n    \t@Override\r\n    \tpublic void run() {\r\n    \t\tString[] wordArr = {&quot;Ping&quot;, &quot;Pong&quot;};\r\n    \t\t\r\n    \t\tfor(int i = 0; i &lt; 3; i++) {\r\n    \t\t\tfor(int j = 0; j &lt; wordArr.length; j++) {\r\n    \t\t\t\ttry {\r\n    \t\t\t\t\tprint(wordArr[j]);\r\n    \t\t\t\t} catch (InterruptedException e) {\r\n    \t\t\t\t\t// TODO Auto-generated catch block\r\n    \t\t\t\t\te.printStackTrace();\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n    \t\t}\r\n    \t}\r\n    \t\r\n    \tpublic static void main(String[] args) throws InterruptedException {\r\n    \t\tObject lock = new Object();\r\n    \t\t\r\n    \t\tThread t1 = new Thread(new MultiThreadingTest2(lock), &quot;Thread 1&quot;);\r\n    \t\tThread t2 = new Thread(new MultiThreadingTest2(lock), &quot;Thread 2&quot;);\r\n    \t\r\n    \t\tt1.start();\r\n    \t\tt2.start();\r\n    \t}\r\n    }\r\n\r\nBut I could see the above code has resulted in deadlock. Output as follow:-\r\n\r\n    Thread 1 printed Ping\r\n    Thread 1 entered wait stage\r\n    Thread 2 printed Ping\r\n    Thread 2 entered wait stage\r\n    Thread 1 entered wait stage\r\n\r\nI am not sure why this has resulted in deadlock. Reason because, the variable &quot;lastExecutedThread &quot; is created at class level. So it should be stored in heap. If its a local variable, then we can say that it could be in thread stack, so the other thread may not what value it possess and because of which the thread executing the **print** function will have the &quot;lastExecutedThread&quot; to its name and it will lead to deadlock.\r\n\r\nCould you please help on this.","title":"Java Multithreading: Make threads execute alternatively","body":"<p>I am completely new to multi threading. Need assistance on the below scenario</p>\n<p>Scenario:- I want two threads to execute, such that they have to print the word &quot;PingPong&quot; alternatively. This has to happen three 3 times for both threads.</p>\n<p>For example:-</p>\n<ol>\n<li>Thread 1 has to print &quot;Ping&quot; and it has to go to wait stage.</li>\n<li>Thread 2 has to print &quot;Ping&quot; and it has to go to wait stage as well as notify the other thread.</li>\n<li>Thread 1 has to print &quot;Pong&quot; and it has to go to wait stage as well as notify the other thread.</li>\n<li>Thread 2 has to print &quot;Pong&quot; and it has to go to wait stage as well as notify the other thread.</li>\n</ol>\n<p>The same way both the threads has to print the word 3 times in total.</p>\n<p>Coding below:-</p>\n<pre><code>package com.test.files;\n\npublic class MultiThreadingTest2 implements Runnable {\n    String lastExecutedThread = &quot;&quot;;\n    Object lockObj = new Object();\n    private void print(String wordToPrint) throws InterruptedException {\n        synchronized(lockObj) {\n            if(lastExecutedThread.equals(Thread.currentThread().getName())) {\n                System.out.println(Thread.currentThread().getName()+&quot; entered wait stage&quot;);\n                lockObj.wait();\n            } else {\n                lastExecutedThread = Thread.currentThread().getName();\n                System.out.println(Thread.currentThread().getName()+&quot; printed &quot;+wordToPrint);\n                lockObj.notifyAll();\n            }\n        }\n    }\n    \n    public MultiThreadingTest2(Object lock) {\n        this.lockObj = lock;\n    }\n    \n    @Override\n    public void run() {\n        String[] wordArr = {&quot;Ping&quot;, &quot;Pong&quot;};\n        \n        for(int i = 0; i &lt; 3; i++) {\n            for(int j = 0; j &lt; wordArr.length; j++) {\n                try {\n                    print(wordArr[j]);\n                } catch (InterruptedException e) {\n                    // TODO Auto-generated catch block\n                    e.printStackTrace();\n                }\n            }\n        }\n    }\n    \n    public static void main(String[] args) throws InterruptedException {\n        Object lock = new Object();\n        \n        Thread t1 = new Thread(new MultiThreadingTest2(lock), &quot;Thread 1&quot;);\n        Thread t2 = new Thread(new MultiThreadingTest2(lock), &quot;Thread 2&quot;);\n    \n        t1.start();\n        t2.start();\n    }\n}\n</code></pre>\n<p>But I could see the above code has resulted in deadlock. Output as follow:-</p>\n<pre><code>Thread 1 printed Ping\nThread 1 entered wait stage\nThread 2 printed Ping\nThread 2 entered wait stage\nThread 1 entered wait stage\n</code></pre>\n<p>I am not sure why this has resulted in deadlock. Reason because, the variable &quot;lastExecutedThread &quot; is created at class level. So it should be stored in heap. If its a local variable, then we can say that it could be in thread stack, so the other thread may not what value it possess and because of which the thread executing the <strong>print</strong> function will have the &quot;lastExecutedThread&quot; to its name and it will lead to deadlock.</p>\n<p>Could you please help on this.</p>\n"},{"tags":["java","ssl","ssl-certificate","keytool","winstone"],"answers":[{"tags":[],"owner":{"account_id":372585,"reputation":3012,"user_id":721713,"display_name":"Richard Brightwell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658498092,"creation_date":1450716521,"answer_id":34400589,"question_id":34397622,"body_markdown":"This isn&#39;t a keystore or certificate issue. This is telling you that your server is configured with weak cryptography for the Diffie-Hellman handshaking part of establishing an SSL/TLS connection.  Here is a sample from a server.xml file which does not use weak cryptography:\r\n\r\n    &lt;Connector port=&quot;443&quot; \r\n                  protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot;\r\n                  SSLEnabled=&quot;true&quot;\r\n                  maxThreads=&quot;150&quot;\r\n                  scheme=&quot;https&quot;\r\n                  secure=&quot;true&quot;\r\n                  keystoreFile=&quot;..\\ssl\\keystore&quot;\r\n                  keystorePass=&quot;yourpasswordgoeshere&quot;\r\n                  clientAuth=&quot;false&quot;\r\n                  sslProtocol=&quot;TLSv1.2&quot;\r\n                  sslEnabledProtocols=&quot;TLSv1.2,TLSv1.1,TLSv1&quot;\r\n                  ciphers=&quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,\r\n                           TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384,\r\n                           TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\r\n                           TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256,\r\n                           TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384,\r\n                           TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA,\r\n                           TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384,TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384,\r\n                           TLS_ECDH_RSA_WITH_AES_256_CBC_SHA,TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA,\r\n                           TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,\r\n                           TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\r\n                           TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256,\r\n                           TLS_ECDH_RSA_WITH_AES_128_CBC_SHA,TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA&quot;\r\n       /&gt;","title":"Winstone configure self signed keystore for SSL Authentication","body":"<p>This isn't a keystore or certificate issue. This is telling you that your server is configured with weak cryptography for the Diffie-Hellman handshaking part of establishing an SSL/TLS connection.  Here is a sample from a server.xml file which does not use weak cryptography:</p>\n<pre><code>&lt;Connector port=&quot;443&quot; \n              protocol=&quot;org.apache.coyote.http11.Http11Protocol&quot;\n              SSLEnabled=&quot;true&quot;\n              maxThreads=&quot;150&quot;\n              scheme=&quot;https&quot;\n              secure=&quot;true&quot;\n              keystoreFile=&quot;..\\ssl\\keystore&quot;\n              keystorePass=&quot;yourpasswordgoeshere&quot;\n              clientAuth=&quot;false&quot;\n              sslProtocol=&quot;TLSv1.2&quot;\n              sslEnabledProtocols=&quot;TLSv1.2,TLSv1.1,TLSv1&quot;\n              ciphers=&quot;TLS_ECDHE_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_GCM_SHA384,\n                       TLS_ECDH_RSA_WITH_AES_256_GCM_SHA384,TLS_ECDH_ECDSA_WITH_AES_256_GCM_SHA384,\n                       TLS_ECDHE_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256,\n                       TLS_ECDH_RSA_WITH_AES_128_GCM_SHA256,TLS_ECDH_ECDSA_WITH_AES_128_GCM_SHA256,\n                       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA384,TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA384,\n                       TLS_ECDHE_RSA_WITH_AES_256_CBC_SHA,TLS_ECDHE_ECDSA_WITH_AES_256_CBC_SHA,\n                       TLS_ECDH_RSA_WITH_AES_256_CBC_SHA384,TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA384,\n                       TLS_ECDH_RSA_WITH_AES_256_CBC_SHA,TLS_ECDH_ECDSA_WITH_AES_256_CBC_SHA,\n                       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA256,\n                       TLS_ECDHE_RSA_WITH_AES_128_CBC_SHA,TLS_ECDHE_ECDSA_WITH_AES_128_CBC_SHA,\n                       TLS_ECDH_RSA_WITH_AES_128_CBC_SHA256,TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA256,\n                       TLS_ECDH_RSA_WITH_AES_128_CBC_SHA,TLS_ECDH_ECDSA_WITH_AES_128_CBC_SHA&quot;\n   /&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3511104,"reputation":875,"user_id":2935393,"accept_rate":62,"display_name":"Sharavanakumaar Murugesan"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1450765730,"creation_date":1450765730,"answer_id":34409735,"question_id":34397622,"body_markdown":"Updated my server Java version to 1.7 (Previous was 1.6) and now I can add exception and proceed in chrome browser","title":"Winstone configure self signed keystore for SSL Authentication","body":"<p>Updated my server Java version to 1.7 (Previous was 1.6) and now I can add exception and proceed in chrome browser</p>\n"}],"owner":{"account_id":3511104,"reputation":875,"user_id":2935393,"accept_rate":62,"display_name":"Sharavanakumaar Murugesan"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":462,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":34409735,"answer_count":2,"score":4,"last_activity_date":1658498092,"creation_date":1450706924,"question_id":34397622,"body_markdown":"I am creating a self signed key using \n\n`keytool -genkey -keyalg RSA -alias selfsigned -keystore keystore.jks -storepass password -validity 1360 -keysize 2048` \n\nEmbedding the keystore with Winstone servlet container using `--httpsKeyStore=keystore.jks` option. When accessing from chrome I am getting the following error\n\n## Server has a weak, ephemeral Diffie-Hellman public key \nERR_SSL_WEAK_SERVER_EPHEMERAL_DH_KEY\n\n Is there any way to overcome this issue by creating keystore or configuring Winstone?\nI can access the site from firefox browser.\n\n\n\n\n","title":"Winstone configure self signed keystore for SSL Authentication","body":"<p>I am creating a self signed key using</p>\n<p><code>keytool -genkey -keyalg RSA -alias selfsigned -keystore keystore.jks -storepass password -validity 1360 -keysize 2048</code></p>\n<p>Embedding the keystore with Winstone servlet container using <code>--httpsKeyStore=keystore.jks</code> option. When accessing from chrome I am getting the following error</p>\n<h2>Server has a weak, ephemeral Diffie-Hellman public key</h2>\n<p>ERR_SSL_WEAK_SERVER_EPHEMERAL_DH_KEY</p>\n<p>Is there any way to overcome this issue by creating keystore or configuring Winstone?\nI can access the site from firefox browser.</p>\n"},{"tags":["java","rest","httpclient"],"comments":[{"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"score":0,"creation_date":1658422038,"post_id":73069823,"comment_id":129053305,"body_markdown":"Don&#39;t use multiple threads to see the difference. And only `get()` after sending all the async requests.","body":"Don&#39;t use multiple threads to see the difference. And only <code>get()</code> after sending all the async requests."}],"answers":[{"tags":[],"owner":{"account_id":1209109,"reputation":7934,"user_id":1178016,"accept_rate":73,"display_name":"xehpuk"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658498004,"creation_date":1658498004,"answer_id":73081479,"question_id":73069823,"body_markdown":"Here&#39;s a test of both methods:\r\n\r\n```lang-java\r\nimport java.net.URI;\r\nimport java.net.http.HttpClient;\r\nimport java.net.http.HttpRequest;\r\nimport java.net.http.HttpRequest.Builder;\r\nimport java.net.http.HttpResponse;\r\nimport java.net.http.HttpResponse.BodyHandlers;\r\nimport java.time.Duration;\r\nimport java.util.List;\r\nimport java.util.concurrent.CompletableFuture;\r\nimport java.util.concurrent.Executors;\r\nimport java.util.function.Function;\r\nimport java.util.function.Supplier;\r\nimport java.util.stream.Collectors;\r\nimport java.util.stream.IntStream;\r\n\r\npublic class HttpClientTest {\r\n    static final int REQUEST_COUNT = 100;\r\n    static final String URI_TEMPLATE = &quot;https://jsonplaceholder.typicode.com/posts/%d&quot;;\r\n\r\n    public static void main(final String[] args) throws Exception {\r\n        final List&lt;HttpRequest&gt; requests = IntStream.rangeClosed(1, REQUEST_COUNT)\r\n                .mapToObj(i -&gt; String.format(URI_TEMPLATE, i))\r\n                .map(URI::create)\r\n                .map(HttpRequest::newBuilder)\r\n                .map(Builder::build)\r\n                .collect(Collectors.toList());\r\n        final HttpClient client = HttpClient.newBuilder()\r\n                .executor(Executors.newFixedThreadPool(REQUEST_COUNT))\r\n                .build();\r\n        final ThrowingFunction&lt;HttpRequest, String&gt; sendSync =\r\n            request -&gt; client.send(request, BodyHandlers.ofString()).body();\r\n        final ThrowingFunction&lt;CompletableFuture&lt;HttpResponse&lt;String&gt;&gt;, String&gt; getSync =\r\n            future -&gt; future.get().body();\r\n        benchmark(&quot;sync&quot;, () -&gt; requests.stream()\r\n                .map(sendSync)\r\n                .collect(Collectors.toList()));\r\n        benchmark(&quot;async&quot;, () -&gt; requests.stream()\r\n                .map(request -&gt; client.sendAsync(request, BodyHandlers.ofString()))\r\n                .collect(Collectors.toList()) // materialize to send the requests\r\n                .stream()\r\n                .map(getSync)\r\n                .collect(Collectors.toList()));\r\n    }\r\n\r\n    static void benchmark(final String name, final Supplier&lt;List&lt;String&gt;&gt; supplier) {\r\n        new Thread(() -&gt; {\r\n            final long start = System.nanoTime();\r\n            System.out.printf(&quot;%s: start%n&quot;, name);\r\n            final List&lt;String&gt; result = supplier.get();\r\n            final Duration duration = Duration.ofNanos(System.nanoTime() - start);\r\n            final int size = result.stream()\r\n                    .mapToInt(String::length)\r\n                    .sum();\r\n            System.out.printf(&quot;%s: end, got %d chars, took %s%n&quot;, name, size, duration);\r\n        }, name).start();\r\n    }\r\n\r\n    @FunctionalInterface\r\n    static interface ThrowingFunction&lt;T, R&gt; extends Function&lt;T, R&gt; {\r\n        default R apply(final T t) {\r\n            try {\r\n                return applyThrowing(t);\r\n            } catch (final Exception e) {\r\n                throw new RuntimeException(e);\r\n            }\r\n        }\r\n\r\n        R applyThrowing(T t) throws Exception;\r\n    }\r\n}\r\n\r\n```\r\n\r\nExample output:\r\n\r\n```lang-none\r\nsync: start\r\nasync: start\r\nasync: end, got 26118 chars, took PT1.6102532S\r\nsync: end, got 26118 chars, took PT4.3368509S\r\n```\r\n\r\nThe higher the parallelism level of the API, the better the asynchronous method will perform.","title":"External service call with Java 11 HttpClient sync vs async","body":"<p>Here's a test of both methods:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.net.URI;\nimport java.net.http.HttpClient;\nimport java.net.http.HttpRequest;\nimport java.net.http.HttpRequest.Builder;\nimport java.net.http.HttpResponse;\nimport java.net.http.HttpResponse.BodyHandlers;\nimport java.time.Duration;\nimport java.util.List;\nimport java.util.concurrent.CompletableFuture;\nimport java.util.concurrent.Executors;\nimport java.util.function.Function;\nimport java.util.function.Supplier;\nimport java.util.stream.Collectors;\nimport java.util.stream.IntStream;\n\npublic class HttpClientTest {\n    static final int REQUEST_COUNT = 100;\n    static final String URI_TEMPLATE = &quot;https://jsonplaceholder.typicode.com/posts/%d&quot;;\n\n    public static void main(final String[] args) throws Exception {\n        final List&lt;HttpRequest&gt; requests = IntStream.rangeClosed(1, REQUEST_COUNT)\n                .mapToObj(i -&gt; String.format(URI_TEMPLATE, i))\n                .map(URI::create)\n                .map(HttpRequest::newBuilder)\n                .map(Builder::build)\n                .collect(Collectors.toList());\n        final HttpClient client = HttpClient.newBuilder()\n                .executor(Executors.newFixedThreadPool(REQUEST_COUNT))\n                .build();\n        final ThrowingFunction&lt;HttpRequest, String&gt; sendSync =\n            request -&gt; client.send(request, BodyHandlers.ofString()).body();\n        final ThrowingFunction&lt;CompletableFuture&lt;HttpResponse&lt;String&gt;&gt;, String&gt; getSync =\n            future -&gt; future.get().body();\n        benchmark(&quot;sync&quot;, () -&gt; requests.stream()\n                .map(sendSync)\n                .collect(Collectors.toList()));\n        benchmark(&quot;async&quot;, () -&gt; requests.stream()\n                .map(request -&gt; client.sendAsync(request, BodyHandlers.ofString()))\n                .collect(Collectors.toList()) // materialize to send the requests\n                .stream()\n                .map(getSync)\n                .collect(Collectors.toList()));\n    }\n\n    static void benchmark(final String name, final Supplier&lt;List&lt;String&gt;&gt; supplier) {\n        new Thread(() -&gt; {\n            final long start = System.nanoTime();\n            System.out.printf(&quot;%s: start%n&quot;, name);\n            final List&lt;String&gt; result = supplier.get();\n            final Duration duration = Duration.ofNanos(System.nanoTime() - start);\n            final int size = result.stream()\n                    .mapToInt(String::length)\n                    .sum();\n            System.out.printf(&quot;%s: end, got %d chars, took %s%n&quot;, name, size, duration);\n        }, name).start();\n    }\n\n    @FunctionalInterface\n    static interface ThrowingFunction&lt;T, R&gt; extends Function&lt;T, R&gt; {\n        default R apply(final T t) {\n            try {\n                return applyThrowing(t);\n            } catch (final Exception e) {\n                throw new RuntimeException(e);\n            }\n        }\n\n        R applyThrowing(T t) throws Exception;\n    }\n}\n\n</code></pre>\n<p>Example output:</p>\n<pre class=\"lang-none prettyprint-override\"><code>sync: start\nasync: start\nasync: end, got 26118 chars, took PT1.6102532S\nsync: end, got 26118 chars, took PT4.3368509S\n</code></pre>\n<p>The higher the parallelism level of the API, the better the asynchronous method will perform.</p>\n"}],"owner":{"account_id":25864003,"reputation":13,"user_id":19596006,"display_name":"Ramcon"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":796,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73081479,"answer_count":1,"score":1,"last_activity_date":1658498004,"creation_date":1658421553,"question_id":73069823,"body_markdown":"My microservice is calling an external service POST call and I want to use Java 11 Httpclient. Here how shall the send() and sendAsync() methods can make difference? I have tested with multiple amount of request, almost same latency. I tried executing 100 endpoint call for my service with 10 or 20 thread or more. The result for both methods are almost same. \r\n\r\nI use sendAsync() with thenApply().get in response receive. \r\nI would like to know what is preferred way and why? Is using async is also fast(which is not as per my current result)? \r\n\r\nThanks in advance for your answers!","title":"External service call with Java 11 HttpClient sync vs async","body":"<p>My microservice is calling an external service POST call and I want to use Java 11 Httpclient. Here how shall the send() and sendAsync() methods can make difference? I have tested with multiple amount of request, almost same latency. I tried executing 100 endpoint call for my service with 10 or 20 thread or more. The result for both methods are almost same.</p>\n<p>I use sendAsync() with thenApply().get in response receive.\nI would like to know what is preferred way and why? Is using async is also fast(which is not as per my current result)?</p>\n<p>Thanks in advance for your answers!</p>\n"},{"tags":["java","android","google-cloud-firestore","firebase-security"],"comments":[{"owner":{"account_id":6819231,"reputation":132841,"user_id":5246885,"accept_rate":78,"display_name":"Alex Mamo"},"score":1,"creation_date":1658490574,"post_id":73079137,"comment_id":129070404,"body_markdown":"What do you mean by &quot;prevent querying from a collection&quot;? Who should be allowed and who shouldn&#39;t be allowed? What would like to prevent from reading? A single document or all the documents in the collection?","body":"What do you mean by &quot;prevent querying from a collection&quot;? Who should be allowed and who shouldn&#39;t be allowed? What would like to prevent from reading? A single document or all the documents in the collection?"},{"owner":{"account_id":2042440,"reputation":698,"user_id":1823280,"accept_rate":75,"display_name":"nibbana"},"score":0,"creation_date":1658529820,"post_id":73079137,"comment_id":129082606,"body_markdown":"&quot;Prevent querying from a collection&quot; means forbidding retrieval of documents via a query from a given collection. The actual use case is that users who created a route can retrieve only the documents associated with the route they created (for ex. &#39;allow list: if request.query.limit &lt;= 50 &amp;&amp; request.auth.uid == resource.data.uid;&#39;). I have no issues regarding this use case. However, I was experimenting with the rules and I noticed the behaviour described in my question (pls see also my comment below).","body":"&quot;Prevent querying from a collection&quot; means forbidding retrieval of documents via a query from a given collection. The actual use case is that users who created a route can retrieve only the documents associated with the route they created (for ex. &#39;allow list: if request.query.limit &lt;= 50 &amp;&amp; request.auth.uid == resource.data.uid;&#39;). I have no issues regarding this use case. However, I was experimenting with the rules and I noticed the behaviour described in my question (pls see also my comment below)."}],"answers":[{"tags":[],"owner":{"account_id":72426,"reputation":573714,"user_id":209103,"accept_rate":73,"display_name":"Frank van Puffelen"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658497805,"creation_date":1658497805,"answer_id":73081436,"question_id":73079137,"body_markdown":"Did you run the same query (or otherwise read the route data) on this device before introducing the restriction on `list` and `get` in your security rule? If so, the data might be in the cache and the query might get it from there. If that is the case, delete and reinstall the app to get rid of the cached data (there is no other way to get a client to unsee data it has already seen).","title":"Firestore Security Rule for querying - Issue with rule list","body":"<p>Did you run the same query (or otherwise read the route data) on this device before introducing the restriction on <code>list</code> and <code>get</code> in your security rule? If so, the data might be in the cache and the query might get it from there. If that is the case, delete and reinstall the app to get rid of the cached data (there is no other way to get a client to unsee data it has already seen).</p>\n"}],"owner":{"account_id":2042440,"reputation":698,"user_id":1823280,"accept_rate":75,"display_name":"nibbana"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":67,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658497805,"creation_date":1658487026,"question_id":73079137,"body_markdown":"I want to prevent querying from a collection with the following security rule:\r\n\r\n    match /routes/{routeID} {\r\n       allow list, get: if false;\r\n       allow delete: if false; \r\n       allow update, create;\r\n    }\r\n\r\nAnd the following Java (Android) code:\r\n\r\n     Query query = mRoutesColRef\r\n        .limit(50)\r\n        .whereEqualTo(&quot;uid&quot;, mFirebaseUser.getUid())\r\n        .orderBy(&quot;route_end_timestamp&quot;, Query.Direction.DESCENDING);\r\n\r\n     FirestoreRecyclerOptions&lt;Route&gt; options = new FirestoreRecyclerOptions.Builder&lt;Route&gt;()\r\n        .setQuery(query, Route.class)\r\n        .build();\r\n\r\n     mAdapter = new RidesProfileAdapter(options);\r\n\r\n     mRecyclerView.setAdapter(mAdapter);\r\n     mAdapter.startListening();\r\n\r\n     query.addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\r\n         @Override\r\n         public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\r\n             if (value != null) {\r\n                 // do stuff\r\n             }\r\n             else {\r\n                 if (error != null)\r\n                     logEvent(mActivity, &quot;e&quot;, &quot;Error while addSnapshotListener in profile: &quot; + error.getMessage());\r\n             }\r\n         }\r\n     });\r\n\r\nIn the snapshotListener, I get, as expected, the following error:\r\n\r\n&gt; E/Debugging: Error while addSnapshotListener in profile: PERMISSION_DENIED: Missing or insufficient permissions.\r\n\r\nHowever, the FirestoreRecyclerAdapter and the FirestoreRecyclerOptions keep indeed fetching new documents in case the user adds any. What am I missing?\r\n\r\n","title":"Firestore Security Rule for querying - Issue with rule list","body":"<p>I want to prevent querying from a collection with the following security rule:</p>\n<pre><code>match /routes/{routeID} {\n   allow list, get: if false;\n   allow delete: if false; \n   allow update, create;\n}\n</code></pre>\n<p>And the following Java (Android) code:</p>\n<pre><code> Query query = mRoutesColRef\n    .limit(50)\n    .whereEqualTo(&quot;uid&quot;, mFirebaseUser.getUid())\n    .orderBy(&quot;route_end_timestamp&quot;, Query.Direction.DESCENDING);\n\n FirestoreRecyclerOptions&lt;Route&gt; options = new FirestoreRecyclerOptions.Builder&lt;Route&gt;()\n    .setQuery(query, Route.class)\n    .build();\n\n mAdapter = new RidesProfileAdapter(options);\n\n mRecyclerView.setAdapter(mAdapter);\n mAdapter.startListening();\n\n query.addSnapshotListener(new EventListener&lt;QuerySnapshot&gt;() {\n     @Override\n     public void onEvent(@Nullable QuerySnapshot value, @Nullable FirebaseFirestoreException error) {\n         if (value != null) {\n             // do stuff\n         }\n         else {\n             if (error != null)\n                 logEvent(mActivity, &quot;e&quot;, &quot;Error while addSnapshotListener in profile: &quot; + error.getMessage());\n         }\n     }\n });\n</code></pre>\n<p>In the snapshotListener, I get, as expected, the following error:</p>\n<blockquote>\n<p>E/Debugging: Error while addSnapshotListener in profile: PERMISSION_DENIED: Missing or insufficient permissions.</p>\n</blockquote>\n<p>However, the FirestoreRecyclerAdapter and the FirestoreRecyclerOptions keep indeed fetching new documents in case the user adds any. What am I missing?</p>\n"},{"tags":["java","hibernate","maven"],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658497571,"creation_date":1658494500,"answer_id":73080685,"question_id":73080653,"body_markdown":"You are trying to mix Java EE with Jakarta EE.\r\n\r\nWith the most recent version the namespaces have changed from javax to jakarta.\r\n\r\nMake sure that your dependencies are all up to date and use the same version.\r\n\r\n**Important notice**\r\n\r\nYou are using Spring Boot. And Spring Boot will be ready for Jakarta EE with version 3!\r\nSo you cannot use any dependency that is using something from the jakarta namespace.\r\n\r\nAdditionally with Spring Boot you shouldn&#39;t override the version that comes with it.","title":"Cannot resolve symbol &#39;jakarta&#39;","body":"<p>You are trying to mix Java EE with Jakarta EE.</p>\n<p>With the most recent version the namespaces have changed from javax to jakarta.</p>\n<p>Make sure that your dependencies are all up to date and use the same version.</p>\n<p><strong>Important notice</strong></p>\n<p>You are using Spring Boot. And Spring Boot will be ready for Jakarta EE with version 3!\nSo you cannot use any dependency that is using something from the jakarta namespace.</p>\n<p>Additionally with Spring Boot you shouldn't override the version that comes with it.</p>\n"},{"tags":[],"owner":{"account_id":7402185,"reputation":1651,"user_id":5632255,"accept_rate":88,"display_name":"Mehdi Rahimi"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658495348,"creation_date":1658495348,"answer_id":73080896,"question_id":73080653,"body_markdown":"It&#39;s because of namespace changing from `javax` to `jakarta` in newer versions of Jakarta EE specifications. You should use older version of hibernate-validator (as you said) or just update *Jakarta platform* dependency as for compatibility:\r\n\r\n    &lt;dependency&gt;\r\n        &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\r\n        &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\r\n        &lt;version&gt;8.0.0&lt;/version&gt;\r\n        &lt;scope&gt;provided&lt;/scope&gt;\r\n    &lt;/dependency&gt;\r\n\r\n","title":"Cannot resolve symbol &#39;jakarta&#39;","body":"<p>It's because of namespace changing from <code>javax</code> to <code>jakarta</code> in newer versions of Jakarta EE specifications. You should use older version of hibernate-validator (as you said) or just update <em>Jakarta platform</em> dependency as for compatibility:</p>\n<pre><code>&lt;dependency&gt;\n    &lt;groupId&gt;jakarta.platform&lt;/groupId&gt;\n    &lt;artifactId&gt;jakarta.jakartaee-api&lt;/artifactId&gt;\n    &lt;version&gt;8.0.0&lt;/version&gt;\n    &lt;scope&gt;provided&lt;/scope&gt;\n&lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":968842,"reputation":45616,"user_id":991788,"accept_rate":100,"display_name":"Sachin Kainth"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4151,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73080685,"answer_count":2,"score":4,"last_activity_date":1658497571,"creation_date":1658494345,"question_id":73080653,"body_markdown":"I am using the latest version of the hibernate validator package in my maven project.  My pom file contains this\r\n\r\n        &lt;dependency&gt;\r\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n            &lt;version&gt;7.0.4.Final&lt;/version&gt;\r\n            &lt;scope&gt;compile&lt;/scope&gt;\r\n        &lt;/dependency&gt;\r\n\r\nWhen I use version 6, everything works fine, but with version 7, the following method throws an error.\r\n\r\n    private void addValidationError(ConstraintViolation&lt;?&gt; cv) {\r\n        this.addValidationError(\r\n                cv.getRootBeanClass().getSimpleName(),\r\n                ((PathImpl) cv.getPropertyPath()).getLeafNode().asString(),\r\n                cv.getInvalidValue(),\r\n                cv.getMessage());\r\n    }\r\n\r\nThe error is with the cast to PathImpl.  Hovering over the error I get this message:\r\n\r\n    Inconvertible types; cannot cast &#39;javax.validation.Path&#39; to &#39;org.hibernate.validator.internal.engine.path.PathImpl&#39;\r\n\r\nWhen I navigate to the PathImpl class, I can see that the file (in the jar that has been automatically downloaded and is of course not controlled by me) does not compile because these two lines in it are erroring\r\n\r\n\r\n    import jakarta.validation.ElementKind;\r\n    import jakarta.validation.Path;\r\n\r\nThe error is \r\n\r\n    Cannot resolve symbol &#39;jakarta&#39;\r\n\r\nAm I doing something wrong?\r\n\r\n**EDIT**\r\n\r\nMy POM file is below\r\n\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;groupId&gt;com.x&lt;/groupId&gt;\r\n        &lt;artifactId&gt;my-api&lt;/artifactId&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;name&gt;my-api&lt;/name&gt;\r\n        &lt;version&gt;1.0.0&lt;/version&gt;\r\n        &lt;properties&gt;\r\n            &lt;java.version&gt;11&lt;/java.version&gt;\r\n            &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\r\n            &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\r\n            &lt;springfox-version&gt;3.0.0&lt;/springfox-version&gt;\r\n            &lt;serenity-version&gt;3.1.15&lt;/serenity-version&gt;\r\n        &lt;/properties&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n            &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n            &lt;version&gt;2.5.8&lt;/version&gt;\r\n        &lt;/parent&gt;\r\n        &lt;build&gt;\r\n            &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\r\n            &lt;plugins&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;repackage&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n                &lt;plugin&gt;\r\n                    &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\r\n                    &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\r\n                    &lt;version&gt;3.1.15&lt;/version&gt;\r\n                    &lt;executions&gt;\r\n                        &lt;execution&gt;\r\n                            &lt;id&gt;serenity-reports&lt;/id&gt;\r\n                            &lt;phase&gt;post-integration-test&lt;/phase&gt;\r\n                            &lt;goals&gt;\r\n                                &lt;goal&gt;aggregate&lt;/goal&gt;\r\n                            &lt;/goals&gt;\r\n                        &lt;/execution&gt;\r\n                    &lt;/executions&gt;\r\n                &lt;/plugin&gt;\r\n            &lt;/plugins&gt;\r\n        &lt;/build&gt;\r\n        &lt;dependencies&gt;\r\n        \t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n            &lt;!--SpringFox dependencies --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-oas&lt;/artifactId&gt;\r\n                &lt;version&gt;${springfox-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.springfox&lt;/groupId&gt;\r\n                &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\r\n                &lt;version&gt;${springfox-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\r\n                &lt;version&gt;2.12.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Dev --&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;lombok&lt;/artifactId&gt;\r\n    \t\t\t&lt;optional&gt;true&lt;/optional&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;!-- DB --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\r\n                &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.postgresql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\r\n                &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\r\n                &lt;version&gt;7.0.4.Final&lt;/version&gt;\r\n                &lt;scope&gt;compile&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- Security--&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\r\n                &lt;artifactId&gt;okta-spring-boot-starter&lt;/artifactId&gt;\r\n                &lt;version&gt;2.1.5&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;!-- Bean Validation API support --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;javax.validation&lt;/groupId&gt;\r\n                &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\r\n                &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!-- https://mvnrepository.com/artifact/org.kohsuke/github-api --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.slack.api&lt;/groupId&gt;\r\n                &lt;artifactId&gt;bolt-servlet&lt;/artifactId&gt;\r\n                &lt;version&gt;1.23.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.opsgenie.integration&lt;/groupId&gt;\r\n                &lt;artifactId&gt;sdk&lt;/artifactId&gt;\r\n                &lt;version&gt;[2.0.0,)&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.datadoghq&lt;/groupId&gt;\r\n                &lt;artifactId&gt;java-dogstatsd-client&lt;/artifactId&gt;\r\n                &lt;version&gt;4.0.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;retrofit&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\r\n                &lt;artifactId&gt;converter-gson&lt;/artifactId&gt;\r\n                &lt;version&gt;2.9.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;!--Testing --&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\r\n                &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n                &lt;version&gt;1.17.3&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.mockito&lt;/groupId&gt;\r\n                &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\r\n                &lt;artifactId&gt;json-path&lt;/artifactId&gt;\r\n                &lt;version&gt;2.6.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\r\n                &lt;artifactId&gt;org.eclipse.jgit.ssh.apache&lt;/artifactId&gt;\r\n                &lt;version&gt;6.1.0.202203080745-r&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n                &lt;artifactId&gt;serenity-spring&lt;/artifactId&gt;\r\n                &lt;version&gt;${serenity-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\r\n                &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\r\n                &lt;version&gt;${serenity-version}&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;io.github.fabianlinz&lt;/groupId&gt;\r\n                &lt;artifactId&gt;serenity-junit5&lt;/artifactId&gt;\r\n                &lt;version&gt;1.6.0&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n                &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\r\n                &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\r\n                &lt;version&gt;1.12.260&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n            &lt;dependency&gt;\r\n                &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\r\n                &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\r\n                &lt;version&gt;4.2.0&lt;/version&gt;\r\n                &lt;scope&gt;test&lt;/scope&gt;\r\n            &lt;/dependency&gt;\r\n        &lt;/dependencies&gt;\r\n    &lt;/project&gt;\r\n\r\n","title":"Cannot resolve symbol &#39;jakarta&#39;","body":"<p>I am using the latest version of the hibernate validator package in my maven project.  My pom file contains this</p>\n<pre><code>    &lt;dependency&gt;\n        &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n        &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n        &lt;version&gt;7.0.4.Final&lt;/version&gt;\n        &lt;scope&gt;compile&lt;/scope&gt;\n    &lt;/dependency&gt;\n</code></pre>\n<p>When I use version 6, everything works fine, but with version 7, the following method throws an error.</p>\n<pre><code>private void addValidationError(ConstraintViolation&lt;?&gt; cv) {\n    this.addValidationError(\n            cv.getRootBeanClass().getSimpleName(),\n            ((PathImpl) cv.getPropertyPath()).getLeafNode().asString(),\n            cv.getInvalidValue(),\n            cv.getMessage());\n}\n</code></pre>\n<p>The error is with the cast to PathImpl.  Hovering over the error I get this message:</p>\n<pre><code>Inconvertible types; cannot cast 'javax.validation.Path' to 'org.hibernate.validator.internal.engine.path.PathImpl'\n</code></pre>\n<p>When I navigate to the PathImpl class, I can see that the file (in the jar that has been automatically downloaded and is of course not controlled by me) does not compile because these two lines in it are erroring</p>\n<pre><code>import jakarta.validation.ElementKind;\nimport jakarta.validation.Path;\n</code></pre>\n<p>The error is</p>\n<pre><code>Cannot resolve symbol 'jakarta'\n</code></pre>\n<p>Am I doing something wrong?</p>\n<p><strong>EDIT</strong></p>\n<p>My POM file is below</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;groupId&gt;com.x&lt;/groupId&gt;\n    &lt;artifactId&gt;my-api&lt;/artifactId&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;name&gt;my-api&lt;/name&gt;\n    &lt;version&gt;1.0.0&lt;/version&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n        &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;\n        &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;\n        &lt;springfox-version&gt;3.0.0&lt;/springfox-version&gt;\n        &lt;serenity-version&gt;3.1.15&lt;/serenity-version&gt;\n    &lt;/properties&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.5.8&lt;/version&gt;\n    &lt;/parent&gt;\n    &lt;build&gt;\n        &lt;sourceDirectory&gt;src/main/java&lt;/sourceDirectory&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;repackage&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;net.serenity-bdd.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;serenity-maven-plugin&lt;/artifactId&gt;\n                &lt;version&gt;3.1.15&lt;/version&gt;\n                &lt;executions&gt;\n                    &lt;execution&gt;\n                        &lt;id&gt;serenity-reports&lt;/id&gt;\n                        &lt;phase&gt;post-integration-test&lt;/phase&gt;\n                        &lt;goals&gt;\n                            &lt;goal&gt;aggregate&lt;/goal&gt;\n                        &lt;/goals&gt;\n                    &lt;/execution&gt;\n                &lt;/executions&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-actuator&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;!--SpringFox dependencies --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-oas&lt;/artifactId&gt;\n            &lt;version&gt;${springfox-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.springfox&lt;/groupId&gt;\n            &lt;artifactId&gt;springfox-swagger-ui&lt;/artifactId&gt;\n            &lt;version&gt;${springfox-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.github.joschi.jackson&lt;/groupId&gt;\n            &lt;artifactId&gt;jackson-datatype-threetenbp&lt;/artifactId&gt;\n            &lt;version&gt;2.12.5&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Dev --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-devtools&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;\n            &lt;artifactId&gt;lombok&lt;/artifactId&gt;\n            &lt;optional&gt;true&lt;/optional&gt;\n        &lt;/dependency&gt;\n        &lt;!-- DB --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.flywaydb&lt;/groupId&gt;\n            &lt;artifactId&gt;flyway-core&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.postgresql&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.hibernate&lt;/groupId&gt;\n            &lt;artifactId&gt;hibernate-validator&lt;/artifactId&gt;\n            &lt;version&gt;7.0.4.Final&lt;/version&gt;\n            &lt;scope&gt;compile&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;!-- Security--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.okta.spring&lt;/groupId&gt;\n            &lt;artifactId&gt;okta-spring-boot-starter&lt;/artifactId&gt;\n            &lt;version&gt;2.1.5&lt;/version&gt;\n        &lt;/dependency&gt;\n\n        &lt;!-- Bean Validation API support --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;javax.validation&lt;/groupId&gt;\n            &lt;artifactId&gt;validation-api&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.plugin&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-plugin-core&lt;/artifactId&gt;\n            &lt;version&gt;2.0.0.RELEASE&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!-- https://mvnrepository.com/artifact/org.kohsuke/github-api --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.slack.api&lt;/groupId&gt;\n            &lt;artifactId&gt;bolt-servlet&lt;/artifactId&gt;\n            &lt;version&gt;1.23.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.opsgenie.integration&lt;/groupId&gt;\n            &lt;artifactId&gt;sdk&lt;/artifactId&gt;\n            &lt;version&gt;[2.0.0,)&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.datadoghq&lt;/groupId&gt;\n            &lt;artifactId&gt;java-dogstatsd-client&lt;/artifactId&gt;\n            &lt;version&gt;4.0.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\n            &lt;artifactId&gt;retrofit&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.squareup.retrofit2&lt;/groupId&gt;\n            &lt;artifactId&gt;converter-gson&lt;/artifactId&gt;\n            &lt;version&gt;2.9.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;!--Testing --&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.security&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-security-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.testcontainers&lt;/groupId&gt;\n            &lt;artifactId&gt;postgresql&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;version&gt;1.17.3&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.mockito&lt;/groupId&gt;\n            &lt;artifactId&gt;mockito-inline&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.jayway.jsonpath&lt;/groupId&gt;\n            &lt;artifactId&gt;json-path&lt;/artifactId&gt;\n            &lt;version&gt;2.6.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.eclipse.jgit&lt;/groupId&gt;\n            &lt;artifactId&gt;org.eclipse.jgit.ssh.apache&lt;/artifactId&gt;\n            &lt;version&gt;6.1.0.202203080745-r&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-spring&lt;/artifactId&gt;\n            &lt;version&gt;${serenity-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.serenity-bdd&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-rest-assured&lt;/artifactId&gt;\n            &lt;version&gt;${serenity-version}&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;io.github.fabianlinz&lt;/groupId&gt;\n            &lt;artifactId&gt;serenity-junit5&lt;/artifactId&gt;\n            &lt;version&gt;1.6.0&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-test&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;com.amazonaws&lt;/groupId&gt;\n            &lt;artifactId&gt;aws-java-sdk&lt;/artifactId&gt;\n            &lt;version&gt;1.12.260&lt;/version&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.awaitility&lt;/groupId&gt;\n            &lt;artifactId&gt;awaitility&lt;/artifactId&gt;\n            &lt;version&gt;4.2.0&lt;/version&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":["java","unit-testing","testng"],"answers":[{"tags":[],"owner":{"account_id":54296,"reputation":15518,"user_id":162410,"accept_rate":56,"display_name":"Cedric Beust"},"down_vote_count":0,"up_vote_count":51,"is_accepted":true,"score":51,"last_activity_date":1291101800,"creation_date":1291101800,"answer_id":4311422,"question_id":4310964,"body_markdown":"Use @BeforeMethod, not @BeforeTest.\r\n\r\nThe meaning of @BeforeTest is explained in [the documentation](http://testng.org/doc/documentation-main.html).\r\n","title":"TestNg&#39;s @BeforeTest on base class only happening once per fixture","body":"<p>Use @BeforeMethod, not @BeforeTest.</p>\n\n<p>The meaning of @BeforeTest is explained in <a href=\"http://testng.org/doc/documentation-main.html\" rel=\"noreferrer\">the documentation</a>.</p>\n"},{"tags":[],"owner":{"account_id":1179818,"reputation":31,"user_id":1154994,"display_name":"Raman"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1326841318,"creation_date":1326839330,"answer_id":8902617,"question_id":4310964,"body_markdown":"&gt; &quot;BeforeTest&quot; is only printed once, not twice. What am I doing wrong?\r\n\r\n***Sorry. I haven&#39;t noticed that you is written @BeforeTest , but in your example @BeforeTest almost equals @BeforeClass , and better to use @BeforeClass , when you haven&#39;t anymore test classes.\r\n\r\n\r\n@BeforeClass&quot; should be declared in same class that your tests methods, not differently!\r\n\r\n    //Example\r\n\r\n    package test;\r\n    import org.testng.annotations.BeforeClass;\r\n    import org.testng.annotations.BeforeMethod;\r\n    import org.testng.annotations.Test;\r\n\r\n    public class Tests {\r\n\tprivate String bClass;\r\n\tprivate String bMethod1;\r\n\tprivate String bMethod2;\r\n\r\n\t@BeforeClass\r\n\tpublic void beforeClass() {\r\n\t\tbClass = &quot;BeforeClass was executed once for this class&quot;;\r\n\t}\r\n\r\n\t@BeforeMethod\r\n\tpublic void beforeMetodTest1() {\r\n\t\tbMethod1 = &quot;It&#39;s before method for test1&quot;;\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test1() {\r\n\t\tSystem.out.println(bClass);\r\n\t\tSystem.out.println(bMethod1);\r\n\t}\r\n\r\n\t@BeforeMethod\r\n\tpublic void beforeMethodTest2() {\r\n\t\tbMethod2 = &quot;It&#39;s before method for test2&quot;;\r\n\t}\r\n\r\n\t@Test\r\n\tpublic void test2() {\r\n\t\tSystem.out.println(bClass);\r\n\t\tSystem.out.println(bMethod2);\r\n\t}\r\n    }\r\n\r\n@BeforeClass will executed once, before your all tests methods in this class. @BeforeMethod  will executed before test method, before which it is written.  \r\n\r\n@BeforeClass may be only one in test class, in difference @BeforeMethod!(If it is some @BeforeClass, they are carried out by turns, but it not a correct composition of the test)\r\n\r\n\r\nP.S. Sorry for my English :)\r\n","title":"TestNg&#39;s @BeforeTest on base class only happening once per fixture","body":"<blockquote>\n  <p>\"BeforeTest\" is only printed once, not twice. What am I doing wrong?</p>\n</blockquote>\n\n<p>***Sorry. I haven't noticed that you is written @BeforeTest , but in your example @BeforeTest almost equals @BeforeClass , and better to use @BeforeClass , when you haven't anymore test classes.</p>\n\n<p>@BeforeClass\" should be declared in same class that your tests methods, not differently!</p>\n\n<pre><code>//Example\n\npackage test;\nimport org.testng.annotations.BeforeClass;\nimport org.testng.annotations.BeforeMethod;\nimport org.testng.annotations.Test;\n\npublic class Tests {\nprivate String bClass;\nprivate String bMethod1;\nprivate String bMethod2;\n\n@BeforeClass\npublic void beforeClass() {\n    bClass = \"BeforeClass was executed once for this class\";\n}\n\n@BeforeMethod\npublic void beforeMetodTest1() {\n    bMethod1 = \"It's before method for test1\";\n}\n\n@Test\npublic void test1() {\n    System.out.println(bClass);\n    System.out.println(bMethod1);\n}\n\n@BeforeMethod\npublic void beforeMethodTest2() {\n    bMethod2 = \"It's before method for test2\";\n}\n\n@Test\npublic void test2() {\n    System.out.println(bClass);\n    System.out.println(bMethod2);\n}\n}\n</code></pre>\n\n<p>@BeforeClass will executed once, before your all tests methods in this class. @BeforeMethod  will executed before test method, before which it is written.  </p>\n\n<p>@BeforeClass may be only one in test class, in difference @BeforeMethod!(If it is some @BeforeClass, they are carried out by turns, but it not a correct composition of the test)</p>\n\n<p>P.S. Sorry for my English :)</p>\n"},{"tags":[],"owner":{"account_id":226633,"reputation":1333,"user_id":487785,"display_name":"CuongHuyTo"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1616222973,"creation_date":1422537215,"answer_id":28215660,"question_id":4310964,"body_markdown":"According to [documentation][1], a method annotated with @BeforeTest is run before any @Test method belonging to the classes inside the &lt;test&gt; tag is run.\r\n\r\nFrom my experience:\r\n\r\n - Each @BeforeTest method is run only once\r\n - If you have several @BeforeTest methods, the order of their execution depends on the order of the class containing those @BeforeTest method.\r\n\r\nYou could test this by setting up a simple example.\r\n\r\n  [1]: https://testng.org/doc/documentation-main.html","title":"TestNg&#39;s @BeforeTest on base class only happening once per fixture","body":"<p>According to <a href=\"https://testng.org/doc/documentation-main.html\" rel=\"nofollow noreferrer\">documentation</a>, a method annotated with @BeforeTest is run before any @Test method belonging to the classes inside the  tag is run.</p>\n<p>From my experience:</p>\n<ul>\n<li>Each @BeforeTest method is run only once</li>\n<li>If you have several @BeforeTest methods, the order of their execution depends on the order of the class containing those @BeforeTest method.</li>\n</ul>\n<p>You could test this by setting up a simple example.</p>\n"},{"tags":[],"owner":{"account_id":12838008,"reputation":708,"user_id":9286924,"display_name":"anandhu"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1576222123,"creation_date":1576221214,"answer_id":59317766,"question_id":4310964,"body_markdown":"If you use @beforeTest, that method will be run once in the beginning of every `&lt;test&gt;` (we specify in the test suit xml file) **if that test contains that class**\r\n\r\nAll the @befortests *within all the classes* within a `&lt;test&gt;` will be executed at the beggining of that test","title":"TestNg&#39;s @BeforeTest on base class only happening once per fixture","body":"<p>If you use @beforeTest, that method will be run once in the beginning of every <code>&lt;test&gt;</code> (we specify in the test suit xml file) <strong>if that test contains that class</strong></p>\n\n<p>All the @befortests <em>within all the classes</em> within a <code>&lt;test&gt;</code> will be executed at the beggining of that test</p>\n"},{"tags":[],"owner":{"account_id":14221774,"reputation":11,"user_id":10273828,"display_name":"SGS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658497541,"creation_date":1658497541,"answer_id":73081375,"question_id":4310964,"body_markdown":"Official Documentations are so unclear and mostly ambiguous. This is why many don&#39;t like to read it. Not to mention no real-life examples shown. \r\n\r\nIf you are trying to get code to run once before every test, then you are looking for @BeforeMethod, not @BeforeTest. Because each of your tests independently considered methods. \r\n\r\n@BeforeMethod runs before each method. I see you have two methods with the names test1() and test2(). Expect BeforeMethod to run before each of them.\r\n\r\n@BeforeTest runs only once before ALL of your tests (test-methods). In Selenium, WebDriver is called once, this is better practice for testing. \r\n@BeforeMethod will invoke WebDriver before each test, this is not good practice, especially when you have regression tests with hundreds of them to run. \r\n\r\nFor example, if you run this code (these are separate classes, not inner to each other, only showing for demonstration purposes here):\r\n\r\n    public class TestClass extends Base {\r\n    \r\n        @Test\r\n        public void test1() {\r\n            System.out.println(&quot;Running Test 1&quot;);\r\n        }\r\n    \r\n        @Test\r\n        public void test2() {\r\n            System.out.println(&quot;Running Test 2&quot;);\r\n        }\r\n    \r\n    }\r\n    \r\n    public class Base {\r\n    \r\n        @BeforeTest\r\n        public void beforeTest() {\r\n            System.out.println(&quot;Before Test&quot;);\r\n        }\r\n    \r\n        @AfterTest\r\n        public void afterTest() {\r\n            System.out.println(&quot;After Test&quot;);\r\n        }\r\n    \r\n        @BeforeMethod\r\n        public void beforeMethod() {\r\n            System.out.println(&quot;Before Method&quot;);\r\n        }\r\n    \r\n        @AfterMethod\r\n        public void afterMethod() {\r\n            System.out.println(&quot;After Method&quot;);\r\n        }\r\n    \r\n    }\r\n\r\nAnd you will get this as an output:\r\n\r\n    Before Test\r\n    Before Method\r\n    Running Test 1\r\n    After Method\r\n    Before Method\r\n    Running Test 2\r\n    After Method\r\n    After Test\r\n\r\nAs you can see BeforeMethods run before each test while BeforeTest and AfterTest run only once before and after completing ALL tests. \r\n\r\nHope this clarified the difference for you. ","title":"TestNg&#39;s @BeforeTest on base class only happening once per fixture","body":"<p>Official Documentations are so unclear and mostly ambiguous. This is why many don't like to read it. Not to mention no real-life examples shown.</p>\n<p>If you are trying to get code to run once before every test, then you are looking for @BeforeMethod, not @BeforeTest. Because each of your tests independently considered methods.</p>\n<p>@BeforeMethod runs before each method. I see you have two methods with the names test1() and test2(). Expect BeforeMethod to run before each of them.</p>\n<p>@BeforeTest runs only once before ALL of your tests (test-methods). In Selenium, WebDriver is called once, this is better practice for testing.\n@BeforeMethod will invoke WebDriver before each test, this is not good practice, especially when you have regression tests with hundreds of them to run.</p>\n<p>For example, if you run this code (these are separate classes, not inner to each other, only showing for demonstration purposes here):</p>\n<pre><code>public class TestClass extends Base {\n\n    @Test\n    public void test1() {\n        System.out.println(&quot;Running Test 1&quot;);\n    }\n\n    @Test\n    public void test2() {\n        System.out.println(&quot;Running Test 2&quot;);\n    }\n\n}\n\npublic class Base {\n\n    @BeforeTest\n    public void beforeTest() {\n        System.out.println(&quot;Before Test&quot;);\n    }\n\n    @AfterTest\n    public void afterTest() {\n        System.out.println(&quot;After Test&quot;);\n    }\n\n    @BeforeMethod\n    public void beforeMethod() {\n        System.out.println(&quot;Before Method&quot;);\n    }\n\n    @AfterMethod\n    public void afterMethod() {\n        System.out.println(&quot;After Method&quot;);\n    }\n\n}\n</code></pre>\n<p>And you will get this as an output:</p>\n<pre><code>Before Test\nBefore Method\nRunning Test 1\nAfter Method\nBefore Method\nRunning Test 2\nAfter Method\nAfter Test\n</code></pre>\n<p>As you can see BeforeMethods run before each test while BeforeTest and AfterTest run only once before and after completing ALL tests.</p>\n<p>Hope this clarified the difference for you.</p>\n"}],"owner":{"account_id":6636,"reputation":224522,"user_id":11236,"accept_rate":76,"display_name":"ripper234"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":43377,"favorite_count":0,"down_vote_count":0,"up_vote_count":34,"accepted_answer_id":4311422,"answer_count":5,"score":34,"last_activity_date":1658497541,"creation_date":1291096786,"question_id":4310964,"body_markdown":"I&#39;m trying to use @BeforeTest to get code to ... run once before every test.\r\n\r\nThis is my code:\r\n\r\n    public class TestBase {\r\n        @BeforeTest\r\n        public void before() {\r\n            System.out.println(&quot;BeforeTest&quot;);\r\n        }\r\n    }\r\n    \r\n    public class TestClass extends TestBase{\r\n        @Test\r\n        public void test1(){}\r\n        \r\n        @Test\r\n        public void test2(){}\r\n    }\r\n\r\n&quot;BeforeTest&quot; is only printed once, not twice. What am I doing wrong?","title":"TestNg&#39;s @BeforeTest on base class only happening once per fixture","body":"<p>I'm trying to use @BeforeTest to get code to ... run once before every test.</p>\n\n<p>This is my code:</p>\n\n<pre><code>public class TestBase {\n    @BeforeTest\n    public void before() {\n        System.out.println(\"BeforeTest\");\n    }\n}\n\npublic class TestClass extends TestBase{\n    @Test\n    public void test1(){}\n\n    @Test\n    public void test2(){}\n}\n</code></pre>\n\n<p>\"BeforeTest\" is only printed once, not twice. What am I doing wrong?</p>\n"},{"tags":["java","android-studio","https"],"comments":[{"owner":{"account_id":17523909,"reputation":407,"user_id":12709358,"display_name":"Elango"},"score":0,"creation_date":1658496236,"post_id":73080871,"comment_id":129072413,"body_markdown":"can you add logs?","body":"can you add logs?"},{"owner":{"account_id":17763883,"reputation":31,"user_id":12899275,"display_name":"Topstiks"},"score":0,"creation_date":1658497498,"post_id":73080871,"comment_id":129072977,"body_markdown":"I added some to my post","body":"I added some to my post"},{"owner":{"account_id":2111091,"reputation":1371,"user_id":1876359,"accept_rate":78,"display_name":"ocramot"},"score":0,"creation_date":1660144581,"post_id":73080871,"comment_id":129464725,"body_markdown":"Hello, I&#39;m getting the same error (in a different context). You said you &quot;searched this error and found a few solutions but none worked&quot;... what solutions did you try?","body":"Hello, I&#39;m getting the same error (in a different context). You said you &quot;searched this error and found a few solutions but none worked&quot;... what solutions did you try?"}],"owner":{"account_id":17763883,"reputation":31,"user_id":12899275,"display_name":"Topstiks"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":921,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658497474,"creation_date":1658495244,"question_id":73080871,"body_markdown":"I&#39;m trying to log in to my server from my app with self-signed certificate. When I try to log in I get this error: \r\n\r\n&quot;Thread[6,tid=17486,WaitingInMainSignalCatcherLoop,Thread*=0xb4000074d0ac6570,peer=0x147c0000,&quot;Signal Catcher&quot;]: reacting to signal 3 &quot;\r\n\r\n&quot;Wrote stack traces to tombstoned.&quot;\r\n\r\n What could be the cause of that? I searched this error and found a few solutions but none worked.\r\nHere is my code:\r\n\r\n\r\n    public class Connection extends AsyncTask{\r\n\r\n        @Override\r\n        protected Object doInBackground(Object[] objects) {\r\n            try {\r\n                Connect();\r\n            } catch (CertificateException | IOException | KeyStoreException | NoSuchAlgorithmException | KeyManagementException | NullPointerException e) {\r\n                e.printStackTrace();\r\n                ServerDirectActivity.response = true;\r\n                ServerDirectActivity.responseMsg = String.valueOf(e);\r\n            }\r\n            return null;\r\n        }\r\n    }\r\n\r\n    private void Connect() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException, KeyManagementException, NullPointerException {\r\n        CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\r\n\r\n        HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() { @Override public boolean verify(String hostname, SSLSession session) { return true; } });\r\n        InputStream caInput = ServerDirectActivity.getmInstanceActivity().getAssets().open(&quot;client.csr&quot;);\r\n        Certificate ca = null;\r\n        try{\r\n            ca = cf.generateCertificate(caInput);\r\n        }catch (CertificateException e){\r\n            e.printStackTrace();\r\n        }finally {\r\n            caInput.close();\r\n        }\r\n\r\n        String keyStoreType = KeyStore.getDefaultType();\r\n        KeyStore keyStore = KeyStore.getInstance(keyStoreType);\r\n        keyStore.load(null, null);\r\n        keyStore.setCertificateEntry(&quot;ca&quot;, ca);\r\n\r\n        String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\r\n        TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\r\n        tmf.init(keyStore);\r\n\r\n        context = SSLContext.getInstance(&quot;TLS&quot;);\r\n        context.init(null, tmf.getTrustManagers(), null);\r\n\r\n        URL url = new URL(serverIP);\r\n\r\n        HttpsURLConnection urlConnection = (HttpsURLConnection) url.openConnection();\r\n\r\n        final String basicAuth = &quot;Basic &quot; + Base64.getEncoder().encodeToString((username + &quot;:&quot; + password).getBytes());\r\n        urlConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\r\n        urlConnection.setSSLSocketFactory(context.getSocketFactory());\r\n        System.out.println(urlConnection.getResponseMessage());\r\n        System.out.println(urlConnection.getResponseCode());\r\n        if (urlConnection.getResponseCode() == 200){\r\n            InputStream in = urlConnection.getInputStream();\r\n            String line;\r\n            BufferedReader reader = new BufferedReader(new InputStreamReader(in));\r\n            StringBuilder out = new StringBuilder();\r\n            while ((line = reader.readLine()) != null){\r\n                out.append(line);\r\n            }\r\n            System.out.println(out);\r\n        }\r\n        ServerDirectActivity.response = true;\r\n        ServerDirectActivity.responseMsg = String.valueOf(urlConnection.getResponseCode());\r\n\r\n\r\n    }\r\n}","title":"Android studio &quot;Wrote stack traces to tombstoned&quot; when connecting to server","body":"<p>I'm trying to log in to my server from my app with self-signed certificate. When I try to log in I get this error:</p>\n<p>&quot;Thread[6,tid=17486,WaitingInMainSignalCatcherLoop,Thread*=0xb4000074d0ac6570,peer=0x147c0000,&quot;Signal Catcher&quot;]: reacting to signal 3 &quot;</p>\n<p>&quot;Wrote stack traces to tombstoned.&quot;</p>\n<p>What could be the cause of that? I searched this error and found a few solutions but none worked.\nHere is my code:</p>\n<pre><code>public class Connection extends AsyncTask{\n\n    @Override\n    protected Object doInBackground(Object[] objects) {\n        try {\n            Connect();\n        } catch (CertificateException | IOException | KeyStoreException | NoSuchAlgorithmException | KeyManagementException | NullPointerException e) {\n            e.printStackTrace();\n            ServerDirectActivity.response = true;\n            ServerDirectActivity.responseMsg = String.valueOf(e);\n        }\n        return null;\n    }\n}\n\nprivate void Connect() throws CertificateException, IOException, KeyStoreException, NoSuchAlgorithmException, KeyManagementException, NullPointerException {\n    CertificateFactory cf = CertificateFactory.getInstance(&quot;X.509&quot;);\n\n    HttpsURLConnection.setDefaultHostnameVerifier(new HostnameVerifier() { @Override public boolean verify(String hostname, SSLSession session) { return true; } });\n    InputStream caInput = ServerDirectActivity.getmInstanceActivity().getAssets().open(&quot;client.csr&quot;);\n    Certificate ca = null;\n    try{\n        ca = cf.generateCertificate(caInput);\n    }catch (CertificateException e){\n        e.printStackTrace();\n    }finally {\n        caInput.close();\n    }\n\n    String keyStoreType = KeyStore.getDefaultType();\n    KeyStore keyStore = KeyStore.getInstance(keyStoreType);\n    keyStore.load(null, null);\n    keyStore.setCertificateEntry(&quot;ca&quot;, ca);\n\n    String tmfAlgorithm = TrustManagerFactory.getDefaultAlgorithm();\n    TrustManagerFactory tmf = TrustManagerFactory.getInstance(tmfAlgorithm);\n    tmf.init(keyStore);\n\n    context = SSLContext.getInstance(&quot;TLS&quot;);\n    context.init(null, tmf.getTrustManagers(), null);\n\n    URL url = new URL(serverIP);\n\n    HttpsURLConnection urlConnection = (HttpsURLConnection) url.openConnection();\n\n    final String basicAuth = &quot;Basic &quot; + Base64.getEncoder().encodeToString((username + &quot;:&quot; + password).getBytes());\n    urlConnection.setRequestProperty(&quot;Authorization&quot;, basicAuth);\n    urlConnection.setSSLSocketFactory(context.getSocketFactory());\n    System.out.println(urlConnection.getResponseMessage());\n    System.out.println(urlConnection.getResponseCode());\n    if (urlConnection.getResponseCode() == 200){\n        InputStream in = urlConnection.getInputStream();\n        String line;\n        BufferedReader reader = new BufferedReader(new InputStreamReader(in));\n        StringBuilder out = new StringBuilder();\n        while ((line = reader.readLine()) != null){\n            out.append(line);\n        }\n        System.out.println(out);\n    }\n    ServerDirectActivity.response = true;\n    ServerDirectActivity.responseMsg = String.valueOf(urlConnection.getResponseCode());\n\n\n}\n</code></pre>\n<p>}</p>\n"},{"tags":["java","wso2","wso2-esb","wso2-enterprise-integrator"],"answers":[{"tags":[],"owner":{"account_id":3103561,"reputation":13341,"user_id":2627018,"accept_rate":81,"display_name":"ycr"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658497403,"creation_date":1658497043,"answer_id":73081280,"question_id":73076539,"body_markdown":"Your issue is, that the service you are trying to access doesn&#39;t have HTTP HEAD/GET method support. Hence if you do an HTTP GET or a HEAD it returns an HTTP 404.\r\n\r\n[![enter image description here][1]][1]\r\n\r\nWhen you click `Test` button for endpoint testing the server will typically send an HTTP HEAD request (This could be a GET, not 100% sure) to determine whether the service is available. So since both methods are not supported you are seeing the above error. You don&#39;t have to worry about this error as your service will work when you send a proper POST request.\r\n\r\n  [1]: https://i.stack.imgur.com/k7zgM.png","title":"WSO2 EI: Cannot establish connection to the endpoint","body":"<p>Your issue is, that the service you are trying to access doesn't have HTTP HEAD/GET method support. Hence if you do an HTTP GET or a HEAD it returns an HTTP 404.</p>\n<p><a href=\"https://i.stack.imgur.com/k7zgM.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/k7zgM.png\" alt=\"enter image description here\" /></a></p>\n<p>When you click <code>Test</code> button for endpoint testing the server will typically send an HTTP HEAD request (This could be a GET, not 100% sure) to determine whether the service is available. So since both methods are not supported you are seeing the above error. You don't have to worry about this error as your service will work when you send a proper POST request.</p>\n"}],"owner":{"account_id":23280730,"reputation":67,"user_id":17364216,"display_name":"Thamu"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":155,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658497403,"creation_date":1658474447,"question_id":73076539,"body_markdown":"I&#39;m using an HTTP Endpoint in WSO2 EI 6.6 to call a external API and when I test the endpoint in the management console I get the *Cannot establish connection to the endpoint* error please help me to sort this out.\r\n\r\n**Note:** This endpoint is working fine in other EI 6.6 server.\r\n\r\n[![Management Console][1]][1]\r\n[![Log Error][2]][2]\r\n\r\nThanks!\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/e4LGd.png\r\n  [2]: https://i.stack.imgur.com/zSFak.png","title":"WSO2 EI: Cannot establish connection to the endpoint","body":"<p>I'm using an HTTP Endpoint in WSO2 EI 6.6 to call a external API and when I test the endpoint in the management console I get the <em>Cannot establish connection to the endpoint</em> error please help me to sort this out.</p>\n<p><strong>Note:</strong> This endpoint is working fine in other EI 6.6 server.</p>\n<p><a href=\"https://i.stack.imgur.com/e4LGd.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/e4LGd.png\" alt=\"Management Console\" /></a>\n<a href=\"https://i.stack.imgur.com/zSFak.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/zSFak.png\" alt=\"Log Error\" /></a></p>\n<p>Thanks!</p>\n"},{"tags":["java","postgresql","spring-boot"],"comments":[{"owner":{"account_id":8284765,"reputation":158,"user_id":6228210,"display_name":"Richard"},"score":0,"creation_date":1658481311,"post_id":73077751,"comment_id":129066922,"body_markdown":"check if this answer works for you https://stackoverflow.com/a/54753891/6228210 or [using query annotation](https://stackoverflow.com/a/68030744/6228210)","body":"check if this answer works for you <a href=\"https://stackoverflow.com/a/54753891/6228210\">stackoverflow.com/a/54753891/6228210</a> or <a href=\"https://stackoverflow.com/a/68030744/6228210\">using query annotation</a>"},{"owner":{"account_id":25845060,"reputation":25,"user_id":19580039,"display_name":"sp k"},"score":0,"creation_date":1658482555,"post_id":73077751,"comment_id":129067491,"body_markdown":"its not working","body":"its not working"},{"owner":{"display_name":"user330315"},"score":0,"creation_date":1658483025,"post_id":73077751,"comment_id":129067683,"body_markdown":"https://stackoverflow.com/questions/54732196/cant-call-postgresqls-11-stored-procedure-with-hibernate","body":"<a href=\"https://stackoverflow.com/questions/54732196/cant-call-postgresqls-11-stored-procedure-with-hibernate\" title=\"cant call postgresqls 11 stored procedure with hibernate\">stackoverflow.com/questions/54732196/&hellip;</a>"},{"owner":{"account_id":25845060,"reputation":25,"user_id":19580039,"display_name":"sp k"},"score":0,"creation_date":1658483207,"post_id":73077751,"comment_id":129067779,"body_markdown":"i had tried this also still getting error","body":"i had tried this also still getting error"},{"owner":{"account_id":2450346,"reputation":5181,"user_id":2136795,"display_name":"Gyro Gearless"},"score":2,"creation_date":1658483655,"post_id":73077751,"comment_id":129067933,"body_markdown":"Nope, this is just a String assignment. And &quot;its not working&quot; is the worst possible description of an error. Please post your complete code and the precise error message.","body":"Nope, this is just a String assignment. And &quot;its not working&quot; is the worst possible description of an error. Please post your complete code and the precise error message."}],"owner":{"account_id":25845060,"reputation":25,"user_id":19580039,"display_name":"sp k"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":230,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658497392,"creation_date":1658480426,"question_id":73077751,"body_markdown":"In Spring Boot (language used is Java), I have written like this to call procedure from PostgreSQL.\r\n\r\n    String sqlQuery = &quot;{CALL SP_GENERATE_OTP(?,?,?,?,?)}&quot;;\r\n\r\nIs this correct way to call procedure? Please help me to solve this error.\r\n\r\n","title":"How to call procedure from PostgreSQL in Spring Boot","body":"<p>In Spring Boot (language used is Java), I have written like this to call procedure from PostgreSQL.</p>\n<pre><code>String sqlQuery = &quot;{CALL SP_GENERATE_OTP(?,?,?,?,?)}&quot;;\n</code></pre>\n<p>Is this correct way to call procedure? Please help me to solve this error.</p>\n"},{"tags":["java","macos","apple-m1"],"comments":[{"owner":{"account_id":11258752,"reputation":5611,"user_id":8258079,"display_name":"Richard Barber"},"score":1,"creation_date":1658715560,"post_id":73069578,"comment_id":129111927,"body_markdown":"you are missing libkognac arm64 code.   you need to recompile that lib for arm64 apparently.","body":"you are missing libkognac arm64 code.   you need to recompile that lib for arm64 apparently."},{"owner":{"account_id":25437832,"reputation":29,"user_id":19241292,"display_name":"نظام الارشاد الطلابي"},"score":0,"creation_date":1658758117,"post_id":73069578,"comment_id":129124399,"body_markdown":"How could I do that? the code is on GitHub. I download the code then compiled it on M1 Mac, but nothing changed.","body":"How could I do that? the code is on GitHub. I download the code then compiled it on M1 Mac, but nothing changed."},{"owner":{"account_id":11258752,"reputation":5611,"user_id":8258079,"display_name":"Richard Barber"},"score":0,"creation_date":1658847660,"post_id":73069578,"comment_id":129150937,"body_markdown":"Which code did you compile on M1... there is x86_64 stuff all over the place...","body":"Which code did you compile on M1... there is x86_64 stuff all over the place..."}],"owner":{"account_id":25437832,"reputation":29,"user_id":19241292,"display_name":"نظام الارشاد الطلابي"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1064,"favorite_count":0,"down_vote_count":1,"up_vote_count":3,"answer_count":0,"score":2,"last_activity_date":1658497323,"creation_date":1658420318,"question_id":73069578,"body_markdown":"I was running bash scripts that run different Java JAR files on old Mac that has x86 architecture on terminal. Now, I moved my project to new Mac that has M1 chip. All Java JAR files are running perfectly except one JAR file. It throws this error:\r\n\r\n \r\n\r\n&gt; Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError:  while\r\n&gt; loading kognac-core:\r\n&gt; /private/var/folders/nk/mg7msvvx4rg7d9bht0l7lnwr0000gp/T/VLog-tmp3418712731783893816/libkognac-core.dylib:\r\n&gt; dlopen(/private/var/folders/nk/mg7msvvx4rg7d9bht0l7lnwr0000gp/T/VLog-tmp3418712731783893816/libkognac-core.dylib,\r\n&gt; 0x0001): tried: \r\n&gt; &#39;/private/var/folders/nk/mg7msvvx4rg7d9bht0l7lnwr0000gp/T/VLog-tmp3418712731783893816/libkognac-core.dylib&#39;\r\n&gt; (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need\r\n&gt; &#39;arm64e&#39;)), &#39;/usr/lib/libkognac-core.dylib&#39; (no such file)\r\n\r\nI searched for solutions and I tried:\r\n\r\n1. Make sure that Java JDK is x86 not arm64 by running: `/usr/libexec/java_home -V` \r\noutput:\r\n\r\n    ```none\r\n    Matching Java Virtual Machines (3):\r\n        18.0.2 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 18.0.2&quot; /Library/Java/JavaVirtualMachines/jdk-18.0.2.jdk/Contents/Home\r\n        1.8.202.08 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\r\n        1.8.0_202 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\r\n    /Library/Java/JavaVirtualMachines/jdk-18.0.2.jdk/Contents/Home\r\n    ```\r\n\r\n2. I tried to run the terminal with x86_64 instead of arm64 architecture by this commands:\r\n    ```bash\r\n    env /usr/bin/arch -x86_64 /bin/zsh —-login\r\n    ```\r\n\r\nHowever, the error is still there. How can I fix it? What am I missing?","title":"M1 Mac: Java Jar file throws (mach-o file, but is an incompatible architecture (have &#39;x86_64&#39;, need &#39;arm64e&#39;)), how to fix it?","body":"<p>I was running bash scripts that run different Java JAR files on old Mac that has x86 architecture on terminal. Now, I moved my project to new Mac that has M1 chip. All Java JAR files are running perfectly except one JAR file. It throws this error:</p>\n<blockquote>\n<p>Exception in thread &quot;main&quot; java.lang.UnsatisfiedLinkError:  while\nloading kognac-core:\n/private/var/folders/nk/mg7msvvx4rg7d9bht0l7lnwr0000gp/T/VLog-tmp3418712731783893816/libkognac-core.dylib:\ndlopen(/private/var/folders/nk/mg7msvvx4rg7d9bht0l7lnwr0000gp/T/VLog-tmp3418712731783893816/libkognac-core.dylib,\n0x0001): tried:\n'/private/var/folders/nk/mg7msvvx4rg7d9bht0l7lnwr0000gp/T/VLog-tmp3418712731783893816/libkognac-core.dylib'\n(mach-o file, but is an incompatible architecture (have 'x86_64', need\n'arm64e')), '/usr/lib/libkognac-core.dylib' (no such file)</p>\n</blockquote>\n<p>I searched for solutions and I tried:</p>\n<ol>\n<li><p>Make sure that Java JDK is x86 not arm64 by running: <code>/usr/libexec/java_home -V</code>\noutput:</p>\n<pre class=\"lang-none prettyprint-override\"><code>Matching Java Virtual Machines (3):\n    18.0.2 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 18.0.2&quot; /Library/Java/JavaVirtualMachines/jdk-18.0.2.jdk/Contents/Home\n    1.8.202.08 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java&quot; /Library/Internet Plug-Ins/JavaAppletPlugin.plugin/Contents/Home\n    1.8.0_202 (x86_64) &quot;Oracle Corporation&quot; - &quot;Java SE 8&quot; /Library/Java/JavaVirtualMachines/jdk1.8.0_202.jdk/Contents/Home\n/Library/Java/JavaVirtualMachines/jdk-18.0.2.jdk/Contents/Home\n</code></pre>\n</li>\n<li><p>I tried to run the terminal with x86_64 instead of arm64 architecture by this commands:</p>\n<pre class=\"lang-bash prettyprint-override\"><code>env /usr/bin/arch -x86_64 /bin/zsh —-login\n</code></pre>\n</li>\n</ol>\n<p>However, the error is still there. How can I fix it? What am I missing?</p>\n"},{"tags":["java","selenium","automated-tests"],"comments":[{"owner":{"account_id":3301381,"reputation":567,"user_id":3036567,"display_name":"dosas"},"score":0,"creation_date":1658662529,"post_id":73081317,"comment_id":129102044,"body_markdown":"It is possible to just get the source code: `driver.getPageSource()`","body":"It is possible to just get the source code: <code>driver.getPageSource()</code>"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1658668211,"post_id":73081317,"comment_id":129103181,"body_markdown":"Why selenium? Why not Windows Application Driver?","body":"Why selenium? Why not Windows Application Driver?"},{"owner":{"account_id":11982404,"reputation":13,"user_id":8767926,"display_name":"Rollermix"},"score":0,"creation_date":1658739792,"post_id":73081317,"comment_id":129116973,"body_markdown":"@dosas getPageSource is only downloading clean html, without any colors, etc","body":"@dosas getPageSource is only downloading clean html, without any colors, etc"},{"owner":{"account_id":11982404,"reputation":13,"user_id":8767926,"display_name":"Rollermix"},"score":0,"creation_date":1658740128,"post_id":73081317,"comment_id":129117072,"body_markdown":"@pburgr becouse i want to save page after failed test and im using for it selenium and cucumber","body":"@pburgr becouse i want to save page after failed test and im using for it selenium and cucumber"},{"owner":{"account_id":12360572,"reputation":1730,"user_id":9014957,"accept_rate":17,"display_name":"pburgr"},"score":0,"creation_date":1658744167,"post_id":73081317,"comment_id":129118674,"body_markdown":"@Rollermix you can use WAD for saving the page only.","body":"@Rollermix you can use WAD for saving the page only."},{"owner":{"account_id":11982404,"reputation":13,"user_id":8767926,"display_name":"Rollermix"},"score":0,"creation_date":1658744346,"post_id":73081317,"comment_id":129118758,"body_markdown":"@pburgr i forgot, im testing app on Ubuntu :)","body":"@pburgr i forgot, im testing app on Ubuntu :)"}],"owner":{"account_id":11982404,"reputation":13,"user_id":8767926,"display_name":"Rollermix"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":71,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658497300,"creation_date":1658497253,"question_id":73081317,"body_markdown":"```\r\nActions action=  new Actions(getDriver());\r\n            action\r\n                    .keyDown(Keys.CONTROL)\r\n                    .sendKeys(&quot;s&quot;)\r\n                    .keyUp(Keys.CONTROL)\r\n                    .sendKeys(scenario.getName())\r\n                    .keyDown(Keys.ALT)\r\n                    .sendKeys(&quot;s&quot;)\r\n                    .keyUp(Keys.ALT);\r\n            action.build();\r\n            action.perform();\r\n```\r\nIt didnt open dialogue window for saving, so first step is not working.\r\nscenario.getName() is for setting title\r\nim trying to save page with selenium and it didnt work. \r\nI mean press &quot;Ctrl+S&quot; then pass the title, then save.","title":"How to save HTML page with selenium?","body":"<pre><code>Actions action=  new Actions(getDriver());\n            action\n                    .keyDown(Keys.CONTROL)\n                    .sendKeys(&quot;s&quot;)\n                    .keyUp(Keys.CONTROL)\n                    .sendKeys(scenario.getName())\n                    .keyDown(Keys.ALT)\n                    .sendKeys(&quot;s&quot;)\n                    .keyUp(Keys.ALT);\n            action.build();\n            action.perform();\n</code></pre>\n<p>It didnt open dialogue window for saving, so first step is not working.\nscenario.getName() is for setting title\nim trying to save page with selenium and it didnt work.\nI mean press &quot;Ctrl+S&quot; then pass the title, then save.</p>\n"},{"tags":["java","spring","azure","authentication","azure-active-directory"],"answers":[{"tags":[],"owner":{"account_id":21648146,"reputation":4432,"user_id":15969165,"display_name":"AjayKumarGhose"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658497165,"creation_date":1658496677,"answer_id":73081204,"question_id":73080654,"body_markdown":"&gt; i&#39;m trying to implement Authentication with Spring Security via Azure\r\n&gt; AD to my Spring Boot Application. The Azure AD Portal is not available\r\n&gt; to me and managed by others\r\n\r\n\r\n**AFAIK**, ***Without having Azure portal its not possible to use authentication with Azure AD for your application. It requires app registration details such as client id, Tenant Id, redirect uri etc.*** \r\n\r\n*We can not able to do such operation if are not having account on Azure . And Azure Active directory has a high level security so that you can not get to know whether this user is from Azure.*\r\n\r\n\r\n*For more information please refer the below links:-*\r\n\r\n- **Dev Azure Blog**|[***Using Spring Security with Azure Active Directory***][1]\r\n\r\n- **MICROSOFT DOCUMENT**| [***Secure a Java web app using the Spring Boot Starter for Azure Active Directory***][2]\r\n\r\n\r\n  [1]: https://dev.to/azure/using-spring-security-with-azure-active-directory-mga\r\n  [2]: https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory","title":"Spring Azure AD Authentication","body":"<blockquote>\n<p>i'm trying to implement Authentication with Spring Security via Azure\nAD to my Spring Boot Application. The Azure AD Portal is not available\nto me and managed by others</p>\n</blockquote>\n<p><strong>AFAIK</strong>, <em><strong>Without having Azure portal its not possible to use authentication with Azure AD for your application. It requires app registration details such as client id, Tenant Id, redirect uri etc.</strong></em></p>\n<p><em>We can not able to do such operation if are not having account on Azure . And Azure Active directory has a high level security so that you can not get to know whether this user is from Azure.</em></p>\n<p><em>For more information please refer the below links:-</em></p>\n<ul>\n<li><p><strong>Dev Azure Blog</strong>|<a href=\"https://dev.to/azure/using-spring-security-with-azure-active-directory-mga\" rel=\"nofollow noreferrer\"><em><strong>Using Spring Security with Azure Active Directory</strong></em></a></p>\n</li>\n<li><p><strong>MICROSOFT DOCUMENT</strong>| <a href=\"https://learn.microsoft.com/en-us/azure/developer/java/spring-framework/configure-spring-boot-starter-java-app-with-azure-active-directory\" rel=\"nofollow noreferrer\"><em><strong>Secure a Java web app using the Spring Boot Starter for Azure Active Directory</strong></em></a></p>\n</li>\n</ul>\n"}],"owner":{"account_id":16349522,"reputation":13,"user_id":11808440,"display_name":"Felix"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":1618,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658497165,"creation_date":1658494349,"question_id":73080654,"body_markdown":"I&#39;m trying to implement Authentication with Spring Security via Azure AD to my Spring Boot Application. The Azure AD Portal is not availible to me and managed by others. \r\n\r\nHow can I perform an easy Authentication using the Microsoft login of the company to verify that the user exists in the Azure? I just need to know in the application if the user was able to perform the login.\r\nThanks :)","title":"Spring Azure AD Authentication","body":"<p>I'm trying to implement Authentication with Spring Security via Azure AD to my Spring Boot Application. The Azure AD Portal is not availible to me and managed by others.</p>\n<p>How can I perform an easy Authentication using the Microsoft login of the company to verify that the user exists in the Azure? I just need to know in the application if the user was able to perform the login.\nThanks :)</p>\n"},{"tags":["java","arrays","byte"],"comments":[{"owner":{"account_id":1101161,"reputation":119804,"user_id":1093528,"accept_rate":65,"display_name":"fge"},"score":1,"creation_date":1394550044,"post_id":22329486,"comment_id":33934141,"body_markdown":"You don&#39;t initialize `keyValue` in your code.","body":"You don&#39;t initialize <code>keyValue</code> in your code."}],"answers":[{"tags":[],"owner":{"account_id":3093821,"reputation":53931,"user_id":3182664,"accept_rate":55,"display_name":"Marco13"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658497162,"creation_date":1394550283,"answer_id":22329618,"question_id":22329486,"body_markdown":"The `NullPointerException` is not caused by the potentially different lengths of the arrays, but by the fact that `keyValue` is `null`. You might add\r\n\r\n    public void createCommonKey(){\r\n        keyValue = new byte[b.length]; // &lt;-- This line\r\n        for(int i=0; i&lt;b.length; i++){\r\n        ...\r\n   \r\nto make this error disappear.\r\n\r\nBut still, the arrays have different lengths, which will cause an `ArrayIndexOutOfBoundsException` when `b.length` is greater than `c.length`. I don&#39;t know the details of Diffie-Hellman, but a simple approach *might* be to let the indices &quot;wrap&quot; when they become too large:\r\n\r\n    public void createCommonKey()\r\n    {\r\n        int max = Math.max(b.length, c.length);\r\n        keyValue = new byte[max];\r\n        for(int i=0; i&lt;max; i++)\r\n        {\r\n            int ib = i % b.length;\r\n            int ic = i % c.length;\r\n            keyValue[i]=(byte)(b[ib]+c[ic]);\r\n        }\r\n    }\r\n\r\n","title":"Add two encr/decr keys in a byte[] keyValue","body":"<p>The <code>NullPointerException</code> is not caused by the potentially different lengths of the arrays, but by the fact that <code>keyValue</code> is <code>null</code>. You might add</p>\n<pre><code>public void createCommonKey(){\n    keyValue = new byte[b.length]; // &lt;-- This line\n    for(int i=0; i&lt;b.length; i++){\n    ...\n</code></pre>\n<p>to make this error disappear.</p>\n<p>But still, the arrays have different lengths, which will cause an <code>ArrayIndexOutOfBoundsException</code> when <code>b.length</code> is greater than <code>c.length</code>. I don't know the details of Diffie-Hellman, but a simple approach <em>might</em> be to let the indices &quot;wrap&quot; when they become too large:</p>\n<pre><code>public void createCommonKey()\n{\n    int max = Math.max(b.length, c.length);\n    keyValue = new byte[max];\n    for(int i=0; i&lt;max; i++)\n    {\n        int ib = i % b.length;\n        int ic = i % c.length;\n        keyValue[i]=(byte)(b[ib]+c[ic]);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":2752035,"reputation":77,"user_id":2371200,"accept_rate":57,"display_name":"Παναγιώτης Νικολαρόπουλος"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":149,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658497162,"creation_date":1394549931,"question_id":22329486,"body_markdown":"I am trying to implement the Diffie Hellman algorithm to exchange keys for my crypto and i am having a problem with assigning the totals to my array. This is what i have tried:\r\n\r\n    private static final String privatekey = &quot;password&quot;;\r\n    private static final String publickey = &quot;aloha&quot;;\r\n    private static final byte[] b = privatekey.getBytes();\r\n    private static final byte[] c = publickey.getBytes();\r\n    private static byte[] keyValue;\r\n\r\n    public void createCommonKey(){\r\n        for(int i=0; i&lt;b.length; i++){\r\n            keyValue[i]=(byte)(b[i]+c[i]);\r\n        }\r\n        \r\n        System.out.println(keyValue);\r\n    }\r\n\r\nWhen i try to run in it gives me a nullPointerException. I understand why i get that since the two keys don&#39;t have the same length as arrays. And that&#39;s what i&#39;m asking, what do i need to correct to make this work. At first i tried adding each array individually and the take those two values and add them to the keyValue array but that didnt work since the values where, well, valus and not arrays. I thought about adding the arrays elements in the array[0] and the putting 0 from elements [1] to [length] but i am not sure that is correct and since i&#39;m dealing with bytes i don&#39;t know if 0 actually has a byte value. So i want to hear you ideas and i am asking for you help.","title":"Add two encr/decr keys in a byte[] keyValue","body":"<p>I am trying to implement the Diffie Hellman algorithm to exchange keys for my crypto and i am having a problem with assigning the totals to my array. This is what i have tried:</p>\n\n<pre><code>private static final String privatekey = \"password\";\nprivate static final String publickey = \"aloha\";\nprivate static final byte[] b = privatekey.getBytes();\nprivate static final byte[] c = publickey.getBytes();\nprivate static byte[] keyValue;\n\npublic void createCommonKey(){\n    for(int i=0; i&lt;b.length; i++){\n        keyValue[i]=(byte)(b[i]+c[i]);\n    }\n\n    System.out.println(keyValue);\n}\n</code></pre>\n\n<p>When i try to run in it gives me a nullPointerException. I understand why i get that since the two keys don't have the same length as arrays. And that's what i'm asking, what do i need to correct to make this work. At first i tried adding each array individually and the take those two values and add them to the keyValue array but that didnt work since the values where, well, valus and not arrays. I thought about adding the arrays elements in the array[0] and the putting 0 from elements [1] to [length] but i am not sure that is correct and since i'm dealing with bytes i don't know if 0 actually has a byte value. So i want to hear you ideas and i am asking for you help.</p>\n"},{"tags":["java","oop","design-patterns"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1658485914,"post_id":73078882,"comment_id":129068732,"body_markdown":"Question about reviewing code is better asked at [codereview.SE]","body":"Question about reviewing code is better asked at <a href=\"https://codereview.stackexchange.com\">Code Review</a>"},{"owner":{"account_id":1809965,"reputation":36736,"user_id":1646240,"accept_rate":91,"display_name":"StepUp"},"score":0,"creation_date":1658488147,"post_id":73078882,"comment_id":129069526,"body_markdown":"In my view, interviewer wanted to see implemented [Observer pattern](https://en.wikipedia.org/wiki/Observer_pattern#Java)","body":"In my view, interviewer wanted to see implemented <a href=\"https://en.wikipedia.org/wiki/Observer_pattern#Java\" rel=\"nofollow noreferrer\">Observer pattern</a>"},{"owner":{"account_id":15836007,"reputation":331,"user_id":11425838,"display_name":"Praveen Nvs"},"score":0,"creation_date":1658488716,"post_id":73078882,"comment_id":129069758,"body_markdown":"He asked this question.. Should Message be abstract ? I did not make it abstract.","body":"He asked this question.. Should Message be abstract ? I did not make it abstract."}],"answers":[{"tags":[],"owner":{"account_id":4167285,"reputation":2455,"user_id":3415993,"accept_rate":36,"display_name":"ddfra"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658497059,"creation_date":1658497059,"answer_id":73081285,"question_id":73078882,"body_markdown":"Of course I&#39;m not in the mind of your reviewer, but he could argue about you breaking the &quot;O&quot; of the &quot;SOLID&quot; principles, which is the Open-Closed principle and states that:\r\n&quot;software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification&quot;.\r\n\r\nThe problem with your solution is that if you need to support a new channel you need to add another instance to the NotificationType Enum. \r\n\r\nLet&#39;s start from the interfaces:\r\n\r\n    public interface Message {\r\n         //no need to define any methods here\r\n\r\n    }\r\n\r\n    public interface MessageHandler {\r\n         void handleMessage(Message message);\r\n         Class&lt;?&gt; getSupportedMessageType();\r\n    }\r\n\r\n    public interface MessageService {\r\n         void processMessage(Message message);\r\n    }\r\n\r\nIt is already possible to define a definitive version of the MessageServiceImpl class which will not need to change each time we need to support a new channel.\r\n\r\n    public class MessageServiceImpl implements MessageService\r\n    {\r\n\r\n        private final Map&lt;Class&lt;?&gt;, MessageHandler&gt; handlers = new HashMap&lt;&gt;();\r\n\r\n        public MessageServiceImpl(ICollection&lt;MessageHandler&gt; handlers) {\r\n           foreach(MessageHandler handler : handlers)  {\r\n               this.handlers.put(handler.getSupportedMessageType(), handler);\r\n           }\r\n        }\r\n\r\n        public void processMessage(Message message)  {\r\n            if (!this.handlers.containsKey(message.getType())) throw new InvalidArgumentException();\r\n\r\n            this.handlers.get(message.getType()).handleMessage(message);\r\n\r\n        }\r\n\r\nWith the help of a dependency injection framework it might be also possible to let DI handle new message handlers implementations.\r\n\r\nThen we can define an abstract class to abstract the message handler:\r\n\r\n    public abstract class AbsMessageHandler&lt;T implements Message&gt; implements MessageHandler {\r\n        private final Class&lt;T&gt; supportedMessageType;\r\n        protected AbsMessageHandler(Class&lt;T&gt; supportedMessageType) {\r\n            this.supportedMessageType = supportedMessageType;\r\n        }\r\n        protected abstract void handleMessageInternal(T message);\r\n        public Class&lt;?&gt; getSupportedMessageType() { return supportedMessageType; }\r\n\r\n        public void handleMessage(Message message)\r\n        {\r\n            if (message == null) throw new InvalidArgumentException();\r\n            if (message.getType() != getSupportedMessageType()) throw new InvalidArgumentException();\r\n            handleMessageInternal((T) message);\r\n        }\r\n    } \r\n\r\nThe only thing left to define are the messages and message handlers implementations:\r\n\r\n    public EmailMessage implements Message  {\r\n        private string from; \r\n        private string to;\r\n        private string cc;\r\n        private string subject;\r\n        private string messageBody;\r\n        //getters and setters\r\n    }\r\n\r\n    public EmailMessageHandler extends AbsMessageHandler&lt;EmailMessage&gt; {\r\n        public EmailMessage() {\r\n           super(EmailMessage.class);\r\n        }\r\n\r\n        protected void handleMessageInternal(EmailMessage message) {\r\n           // do what you like\r\n        }\r\n    }\r\n\r\nEach time you need to add support for a new channel you only need to add a new couple of classes, one to implement the Message interface and one to extend the AbsMessageHandler&lt;T&gt; abstract class.","title":"Multiple channel Notification system - LLD -","body":"<p>Of course I'm not in the mind of your reviewer, but he could argue about you breaking the &quot;O&quot; of the &quot;SOLID&quot; principles, which is the Open-Closed principle and states that:\n&quot;software entities (classes, modules, functions, etc.) should be open for extension, but closed for modification&quot;.</p>\n<p>The problem with your solution is that if you need to support a new channel you need to add another instance to the NotificationType Enum.</p>\n<p>Let's start from the interfaces:</p>\n<pre><code>public interface Message {\n     //no need to define any methods here\n\n}\n\npublic interface MessageHandler {\n     void handleMessage(Message message);\n     Class&lt;?&gt; getSupportedMessageType();\n}\n\npublic interface MessageService {\n     void processMessage(Message message);\n}\n</code></pre>\n<p>It is already possible to define a definitive version of the MessageServiceImpl class which will not need to change each time we need to support a new channel.</p>\n<pre><code>public class MessageServiceImpl implements MessageService\n{\n\n    private final Map&lt;Class&lt;?&gt;, MessageHandler&gt; handlers = new HashMap&lt;&gt;();\n\n    public MessageServiceImpl(ICollection&lt;MessageHandler&gt; handlers) {\n       foreach(MessageHandler handler : handlers)  {\n           this.handlers.put(handler.getSupportedMessageType(), handler);\n       }\n    }\n\n    public void processMessage(Message message)  {\n        if (!this.handlers.containsKey(message.getType())) throw new InvalidArgumentException();\n\n        this.handlers.get(message.getType()).handleMessage(message);\n\n    }\n</code></pre>\n<p>With the help of a dependency injection framework it might be also possible to let DI handle new message handlers implementations.</p>\n<p>Then we can define an abstract class to abstract the message handler:</p>\n<pre><code>public abstract class AbsMessageHandler&lt;T implements Message&gt; implements MessageHandler {\n    private final Class&lt;T&gt; supportedMessageType;\n    protected AbsMessageHandler(Class&lt;T&gt; supportedMessageType) {\n        this.supportedMessageType = supportedMessageType;\n    }\n    protected abstract void handleMessageInternal(T message);\n    public Class&lt;?&gt; getSupportedMessageType() { return supportedMessageType; }\n\n    public void handleMessage(Message message)\n    {\n        if (message == null) throw new InvalidArgumentException();\n        if (message.getType() != getSupportedMessageType()) throw new InvalidArgumentException();\n        handleMessageInternal((T) message);\n    }\n} \n</code></pre>\n<p>The only thing left to define are the messages and message handlers implementations:</p>\n<pre><code>public EmailMessage implements Message  {\n    private string from; \n    private string to;\n    private string cc;\n    private string subject;\n    private string messageBody;\n    //getters and setters\n}\n\npublic EmailMessageHandler extends AbsMessageHandler&lt;EmailMessage&gt; {\n    public EmailMessage() {\n       super(EmailMessage.class);\n    }\n\n    protected void handleMessageInternal(EmailMessage message) {\n       // do what you like\n    }\n}\n</code></pre>\n<p>Each time you need to add support for a new channel you only need to add a new couple of classes, one to implement the Message interface and one to extend the AbsMessageHandler abstract class.</p>\n"}],"owner":{"account_id":15836007,"reputation":331,"user_id":11425838,"display_name":"Praveen Nvs"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":231,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658497059,"creation_date":1658485818,"question_id":73078882,"body_markdown":"You have to design the classes for building a notification system that supports multiple channels such as email, SMS, Whatsapp. It should be easily extensible.\r\n\r\n**My design :**\r\n\r\n    class Message {\r\n    NotificationType type ; //email, sms\r\n    msgId;\r\n    String content ;\r\n    }\r\n    MessagingServiceImpl {\r\n    static {\r\n    //map from notification type to the respective handler\r\n    map.put(&quot;SMS&quot;,new SMSHandler());\r\n    map.put(&quot;Email&quot;,new EmailHandler();\r\n    }\r\n    void processMessage(Message message) {\r\n    Handler handler = map.get(message.getNotificationType();\r\n    handler.handleMessage();\r\n    }\r\n    }\r\n    public abstract class Handler {\r\n    public abstract void handle(Mesage message) ;\r\n    }\r\n    public EmailHandler extends Handler {\r\n    public void handle(Message message) {\r\n    System.out.println(&quot;Sending email&quot;): // similar class for phone.\r\n    }\r\n\r\n**Note:** This design was rejected in the interview.\r\nQuestions:\r\n 1. Should we make Message abstract - EmailMessage,SMSMessage etc ?\r\n 2. Note that the content of the message varies depending on the channel. For eg. In email,the content will be large. For SMS,it is much smaller. So,should Message be astract?\r\n 3. How can you support a new channel eg..telegram messages with minimal changes?\r\n","title":"Multiple channel Notification system - LLD -","body":"<p>You have to design the classes for building a notification system that supports multiple channels such as email, SMS, Whatsapp. It should be easily extensible.</p>\n<p><strong>My design :</strong></p>\n<pre><code>class Message {\nNotificationType type ; //email, sms\nmsgId;\nString content ;\n}\nMessagingServiceImpl {\nstatic {\n//map from notification type to the respective handler\nmap.put(&quot;SMS&quot;,new SMSHandler());\nmap.put(&quot;Email&quot;,new EmailHandler();\n}\nvoid processMessage(Message message) {\nHandler handler = map.get(message.getNotificationType();\nhandler.handleMessage();\n}\n}\npublic abstract class Handler {\npublic abstract void handle(Mesage message) ;\n}\npublic EmailHandler extends Handler {\npublic void handle(Message message) {\nSystem.out.println(&quot;Sending email&quot;): // similar class for phone.\n}\n</code></pre>\n<p><strong>Note:</strong> This design was rejected in the interview.\nQuestions:</p>\n<ol>\n<li>Should we make Message abstract - EmailMessage,SMSMessage etc ?</li>\n<li>Note that the content of the message varies depending on the channel. For eg. In email,the content will be large. For SMS,it is much smaller. So,should Message be astract?</li>\n<li>How can you support a new channel eg..telegram messages with minimal changes?</li>\n</ol>\n"},{"tags":["java","spring-data","spring-webflux","aerospike"],"answers":[{"tags":[],"owner":{"account_id":20706132,"reputation":795,"user_id":15203960,"display_name":"Roi Menashe"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658496960,"creation_date":1658496960,"answer_id":73081262,"question_id":73068564,"body_markdown":"Query by Map values is supported in `Spring Data Aerospike`.\r\n\r\nTry to explicitly state the query type in the method&#39;s name - for example:\r\n\r\n```java\r\nList&lt;Customer&gt; customerReactiveAerospikeRepository.findCustomerByExternalRefsValuesContaining(String value);\r\n```\r\n\r\nAn example of a repository that defines a Map key containing query (similar principles of Map value containing):\r\nhttps://github.com/aerospike-community/spring-data-aerospike/blob/3.4.1/src/test/java/org/springframework/data/aerospike/sample/PersonRepository.java#L120\r\n\r\nAnd a test (example) of Map value containing query using a reactive query engine under the hood:\r\nhttps://github.com/aerospike-community/spring-data-aerospike/blob/3.4.1/src/test/java/org/springframework/data/aerospike/query/reactive/ReactiveQualifierTests.java#L450","title":"Search on Map data type with Value index in spring-data-aerospike","body":"<p>Query by Map values is supported in <code>Spring Data Aerospike</code>.</p>\n<p>Try to explicitly state the query type in the method's name - for example:</p>\n<pre class=\"lang-java prettyprint-override\"><code>List&lt;Customer&gt; customerReactiveAerospikeRepository.findCustomerByExternalRefsValuesContaining(String value);\n</code></pre>\n<p>An example of a repository that defines a Map key containing query (similar principles of Map value containing):\n<a href=\"https://github.com/aerospike-community/spring-data-aerospike/blob/3.4.1/src/test/java/org/springframework/data/aerospike/sample/PersonRepository.java#L120\" rel=\"nofollow noreferrer\">https://github.com/aerospike-community/spring-data-aerospike/blob/3.4.1/src/test/java/org/springframework/data/aerospike/sample/PersonRepository.java#L120</a></p>\n<p>And a test (example) of Map value containing query using a reactive query engine under the hood:\n<a href=\"https://github.com/aerospike-community/spring-data-aerospike/blob/3.4.1/src/test/java/org/springframework/data/aerospike/query/reactive/ReactiveQualifierTests.java#L450\" rel=\"nofollow noreferrer\">https://github.com/aerospike-community/spring-data-aerospike/blob/3.4.1/src/test/java/org/springframework/data/aerospike/query/reactive/ReactiveQualifierTests.java#L450</a></p>\n"}],"owner":{"account_id":9070600,"reputation":360,"user_id":6753975,"display_name":"Swarvanu Sengupta"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":330,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658496960,"creation_date":1658415907,"question_id":73068564,"body_markdown":"It will be great to have some example for querying the MapValue index type in Spring using spring-data-aerospike with aerospike-reactor-client. \r\n\r\nI have a customer defined as \r\n```java\r\npublic class Customer {\r\n  @Id private int id;\r\n\r\n  @Indexed(\r\n      name = &quot;idxPartnerToken&quot;,\r\n      type = IndexType.STRING,\r\n      collectionType = IndexCollectionType.DEFAULT)\r\n  private String partnerToken;\r\n\r\n  @Field(&quot;externalRefs&quot;)\r\n  @Indexed(type = STRING, collectionType = IndexCollectionType.MAPVALUES)\r\n  Map&lt;ExternalReferenceType, String&gt; externalRefs;\r\n\r\n  List&lt;Segment&gt; segments;\r\n\r\n  private OffsetDateTime createdTime;\r\n  private String createdBy;\r\n\r\n  private OffsetDateTime updatedTime;\r\n  private String updatedBy;\r\n}\r\n```\r\n\r\nUsing AQL \r\n```sql\r\n SELECT * FROM test.customer IN MAPVALUES WHERE externalRefs = &quot;56789&quot;\r\n```\r\nData:\r\n```\r\n+-----------+-----------------------------------+-----------------------------------------------+-----------------------+\r\n| PK        | externalRefs                      | @_class                                       | partnerToken          |\r\n+-----------+-----------------------------------+-----------------------------------------------+-----------------------+\r\n| &quot;4049415&quot; | MAP(&#39;{&quot;LOCAL_CUSTOMER&quot;:&quot;56789&quot;}&#39;) | &quot;com.test.customerservice.document.Customer&quot; | &quot;P-6924584.212981942&quot; |\r\n+-----------+-----------------------------------+-----------------------------------------------+-----------------------+\r\n```\r\n\r\nI&#39;m trying to get the data using below in repository\r\n```java\r\nMono&lt;Customer&gt; findCustomerByExternalRefs(\r\n      String externalReferenceId, CriteriaDefinition.AerospikeMapCriteria criteria);\r\n```\r\n\r\nI&#39;m calling it \r\n```java\r\ncustomerReactiveAerospikeRepository.findCustomerByExternalRefs(\r\n           &quot;56789&quot;, CriteriaDefinition.AerospikeMapCriteria.VALUE);\r\n```\r\n\r\nBut this return empty.\r\n\r\n\r\nAlthough if I try to query with partnerToken it works \r\n```java\r\ncustomerReactiveAerospikeRepository.findCustomerByPartnerToken(&quot;P-6924584.212981942&quot;);\r\n```\r\n\r\nCan you suggest what I&#39;m doing wrong ","title":"Search on Map data type with Value index in spring-data-aerospike","body":"<p>It will be great to have some example for querying the MapValue index type in Spring using spring-data-aerospike with aerospike-reactor-client.</p>\n<p>I have a customer defined as</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class Customer {\n  @Id private int id;\n\n  @Indexed(\n      name = &quot;idxPartnerToken&quot;,\n      type = IndexType.STRING,\n      collectionType = IndexCollectionType.DEFAULT)\n  private String partnerToken;\n\n  @Field(&quot;externalRefs&quot;)\n  @Indexed(type = STRING, collectionType = IndexCollectionType.MAPVALUES)\n  Map&lt;ExternalReferenceType, String&gt; externalRefs;\n\n  List&lt;Segment&gt; segments;\n\n  private OffsetDateTime createdTime;\n  private String createdBy;\n\n  private OffsetDateTime updatedTime;\n  private String updatedBy;\n}\n</code></pre>\n<p>Using AQL</p>\n<pre class=\"lang-sql prettyprint-override\"><code> SELECT * FROM test.customer IN MAPVALUES WHERE externalRefs = &quot;56789&quot;\n</code></pre>\n<p>Data:</p>\n<pre><code>+-----------+-----------------------------------+-----------------------------------------------+-----------------------+\n| PK        | externalRefs                      | @_class                                       | partnerToken          |\n+-----------+-----------------------------------+-----------------------------------------------+-----------------------+\n| &quot;4049415&quot; | MAP('{&quot;LOCAL_CUSTOMER&quot;:&quot;56789&quot;}') | &quot;com.test.customerservice.document.Customer&quot; | &quot;P-6924584.212981942&quot; |\n+-----------+-----------------------------------+-----------------------------------------------+-----------------------+\n</code></pre>\n<p>I'm trying to get the data using below in repository</p>\n<pre class=\"lang-java prettyprint-override\"><code>Mono&lt;Customer&gt; findCustomerByExternalRefs(\n      String externalReferenceId, CriteriaDefinition.AerospikeMapCriteria criteria);\n</code></pre>\n<p>I'm calling it</p>\n<pre class=\"lang-java prettyprint-override\"><code>customerReactiveAerospikeRepository.findCustomerByExternalRefs(\n           &quot;56789&quot;, CriteriaDefinition.AerospikeMapCriteria.VALUE);\n</code></pre>\n<p>But this return empty.</p>\n<p>Although if I try to query with partnerToken it works</p>\n<pre class=\"lang-java prettyprint-override\"><code>customerReactiveAerospikeRepository.findCustomerByPartnerToken(&quot;P-6924584.212981942&quot;);\n</code></pre>\n<p>Can you suggest what I'm doing wrong</p>\n"},{"tags":["java","jersey"],"comments":[{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":1,"creation_date":1658466569,"post_id":73075345,"comment_id":129062659,"body_markdown":"urlencode the query string","body":"urlencode the query string"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1658496961,"post_id":73075345,"comment_id":129072726,"body_markdown":"Use `&quot;[..]?query=&quot; + URLEncoder.encode(query, StandardCharsets.UTF_8)`, or use a suitable URL builder that does the necessary encoding for you.","body":"Use <code>&quot;[..]?query=&quot; + URLEncoder.encode(query, StandardCharsets.UTF_8)</code>, or use a suitable URL builder that does the necessary encoding for you."}],"owner":{"account_id":25805738,"reputation":1,"user_id":19547292,"display_name":"Alex jeffrin"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":33,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658496812,"creation_date":1658466399,"question_id":73075345,"body_markdown":"I&#39;m new to Java. I&#39;m trying to understand Jersey API and to make my command line application to use Jersey in order to query some information. When I&#39;m passing a string as a query, it just throws an exception cause there is some white space in the query that I have passed. Could anyone help me with passing sentence as query and I also need to return the same query as my response text and explanation of how it can be done with multiple ways if there the efficient one, so that I could understand the code.\r\n\r\nHere is my main class that passes the query:\r\n\r\n\r\n```java\r\npublic class MainClass {\r\n    public static void main(String[] args) throws IOException {\r\n        System.out.println(&quot;enter : &quot;);\r\n        Scanner sc = new Scanner(System.in);\r\n        String query = sc.nextLine();\r\n        URL obj = new URL(&quot;http://localhost:8080/Sample/api/newstring/next?query=&quot;+query);\r\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\r\n        con.setRequestMethod(&quot;GET&quot;);\r\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;plain/text&quot;);\r\n        BufferedReader reader = new BufferedReader(new InputStreamReader(con.getInputStream()));\r\n        System.out.println(reader.readLine());\r\n    }\r\n}\r\n```\r\n\r\nHere is my API: \r\n\r\n```java\r\n@Path(&quot;newstring&quot;)\r\npublic class ApiCall{\r\n       @GET\r\n       @Path(&quot;next&quot;)\r\n       @Produces(MediaType.TEXT_PLAIN)\r\n       public String grtMethod(@QueryParam(&quot;query&quot;)String a){\r\n              return a;\r\n       }\r\n\r\n}\r\n```\r\n\r\n","title":"Having issue with Jersey query params","body":"<p>I'm new to Java. I'm trying to understand Jersey API and to make my command line application to use Jersey in order to query some information. When I'm passing a string as a query, it just throws an exception cause there is some white space in the query that I have passed. Could anyone help me with passing sentence as query and I also need to return the same query as my response text and explanation of how it can be done with multiple ways if there the efficient one, so that I could understand the code.</p>\n<p>Here is my main class that passes the query:</p>\n<pre class=\"lang-java prettyprint-override\"><code>public class MainClass {\n    public static void main(String[] args) throws IOException {\n        System.out.println(&quot;enter : &quot;);\n        Scanner sc = new Scanner(System.in);\n        String query = sc.nextLine();\n        URL obj = new URL(&quot;http://localhost:8080/Sample/api/newstring/next?query=&quot;+query);\n        HttpURLConnection con = (HttpURLConnection) obj.openConnection();\n        con.setRequestMethod(&quot;GET&quot;);\n        con.setRequestProperty(&quot;Content-Type&quot;, &quot;plain/text&quot;);\n        BufferedReader reader = new BufferedReader(new InputStreamReader(con.getInputStream()));\n        System.out.println(reader.readLine());\n    }\n}\n</code></pre>\n<p>Here is my API:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Path(&quot;newstring&quot;)\npublic class ApiCall{\n       @GET\n       @Path(&quot;next&quot;)\n       @Produces(MediaType.TEXT_PLAIN)\n       public String grtMethod(@QueryParam(&quot;query&quot;)String a){\n              return a;\n       }\n\n}\n</code></pre>\n"},{"tags":["java","netbeans","javafx"],"comments":[{"owner":{"account_id":969721,"reputation":344518,"user_id":992484,"accept_rate":60,"display_name":"MadProgrammer"},"score":1,"creation_date":1397201128,"post_id":23006063,"comment_id":35138928,"body_markdown":"1- Use `ProcessBuilder`, 2- Try `\\&quot;C:\\\\Programs Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe\\&quot;` instead - of and `cmd /c` my not like long path names...","body":"1- Use <code>ProcessBuilder</code>, 2- Try <code>\\&quot;C:\\\\Programs Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe\\&quot;</code> instead - of and <code>cmd &#47;c</code> my not like long path names..."},{"owner":{"account_id":2673407,"reputation":44640,"user_id":2310289,"display_name":"Scary Wombat"},"score":0,"creation_date":1397201247,"post_id":23006063,"comment_id":35139003,"body_markdown":"Yep, the file path with spaces in it will need wrapping with quotes.","body":"Yep, the file path with spaces in it will need wrapping with quotes."},{"owner":{"account_id":3673056,"reputation":97,"user_id":3059734,"accept_rate":88,"display_name":"Artest113"},"score":0,"creation_date":1397202158,"post_id":23006063,"comment_id":35139582,"body_markdown":"I did try putting only &quot;\\&quot;C:\\\\Programs Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe\\&quot;, but I got runtime error when I click on the textfield saying &quot;java.IOException: CreateProcess error=740. The request operation requires elevation&quot;","body":"I did try putting only &quot;\\&quot;C:\\\\Programs Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe\\&quot;, but I got runtime error when I click on the textfield saying &quot;java.IOException: CreateProcess error=740. The request operation requires elevation&quot;"}],"answers":[{"tags":[],"owner":{"account_id":2497663,"reputation":574,"user_id":2173681,"accept_rate":43,"display_name":"yogesh"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1397202880,"creation_date":1397202880,"answer_id":23006722,"question_id":23006063,"body_markdown":"Whenever you want to execute a command which contains spaces in command prompt, you have to wrap it in double quotes. \r\n\r\nLike this: \r\n        \r\n    String commandStr = &quot;cmd /c \\&quot;C:\\\\Program Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\mip.exe\\&quot;&quot;;\r\n    rt.exec( commandStr );\r\n\r\nAnd In addition to that, if you want to know your errors, you can get error stream from object of class Process which is returned by runtimeObject.exec().\r\n\r\n    String commandStr =  &quot;cmd /c C:\\\\Programs Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe&quot;;   // Like you did\r\n    \r\n    InputStream is = rt.exec( commandStr ).getErrorStream();\r\n    int b;\r\n    while((b=(is.read()))!=-1)\r\n      System.out.print((char)b);\r\n    }\r\n","title":"Runtime.getRuntime().exec could not execute/show Tabtip.exe","body":"<p>Whenever you want to execute a command which contains spaces in command prompt, you have to wrap it in double quotes. </p>\n\n<p>Like this: </p>\n\n<pre><code>String commandStr = \"cmd /c \\\"C:\\\\Program Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\mip.exe\\\"\";\nrt.exec( commandStr );\n</code></pre>\n\n<p>And In addition to that, if you want to know your errors, you can get error stream from object of class Process which is returned by runtimeObject.exec().</p>\n\n<pre><code>String commandStr =  \"cmd /c C:\\\\Programs Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe\";   // Like you did\n\nInputStream is = rt.exec( commandStr ).getErrorStream();\nint b;\nwhile((b=(is.read()))!=-1)\n  System.out.print((char)b);\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":9959796,"reputation":344,"user_id":7369487,"display_name":"P113305A009D8M"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1572585454,"creation_date":1572585454,"answer_id":58654422,"question_id":23006063,"body_markdown":"Please do like this. For me it is ok in window10 with javaFx application.\r\n\r\n    ProcessBuilder builder = new ProcessBuilder(&quot;cmd.exe&quot;, &quot;/c&quot;, &quot;\\&quot;C:\\\\Program Files\\\\Common Files\\\\microsoft shared\\\\ink\\\\TabTip.exe&quot;);\r\n    builder.redirectErrorStream(true);\r\n    Process p;\r\n    try\r\n    {\r\n        p = builder.start();\r\n        BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\r\n        String line;\r\n        while (true)\r\n        {\r\n            line = r.readLine();\r\n            if (line == null)\r\n            {\r\n                break;\r\n            }\r\n            System.out.println(line);\r\n        }\r\n    }\r\n    catch (IOException e)`enter code here`\r\n    {\r\n        // TODO Auto-generated catch block\r\n        e.printStackTrace();\r\n    }`enter code here`","title":"Runtime.getRuntime().exec could not execute/show Tabtip.exe","body":"<p>Please do like this. For me it is ok in window10 with javaFx application.</p>\n\n<pre><code>ProcessBuilder builder = new ProcessBuilder(\"cmd.exe\", \"/c\", \"\\\"C:\\\\Program Files\\\\Common Files\\\\microsoft shared\\\\ink\\\\TabTip.exe\");\nbuilder.redirectErrorStream(true);\nProcess p;\ntry\n{\n    p = builder.start();\n    BufferedReader r = new BufferedReader(new InputStreamReader(p.getInputStream()));\n    String line;\n    while (true)\n    {\n        line = r.readLine();\n        if (line == null)\n        {\n            break;\n        }\n        System.out.println(line);\n    }\n}\ncatch (IOException e)`enter code here`\n{\n    // TODO Auto-generated catch block\n    e.printStackTrace();\n}`enter code here`\n</code></pre>\n"},{"tags":[],"owner":{"account_id":12851852,"reputation":59,"user_id":9296473,"display_name":"Gon Juarez"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658496691,"creation_date":1658407810,"answer_id":73066548,"question_id":23006063,"body_markdown":"The only way to run the TabTip.exe is to run the software on Admin mode.\r\n\r\nI found the following batch code on the internet.\r\n\r\n[How to Use On-Screen and Touch Keyboard Instead of Spiral Keyboard][1]\r\n\r\n\r\n    tasklist | find /I &quot;TabTip.exe&quot; &gt;NUL &amp;&amp; (taskkill /IM &quot;TabTip.exe&quot; /T)\r\n    start &quot;&quot; &quot;TabTip.exe&quot;\r\nThat code kills the TabTip process and executes a new TabTip.\r\n\r\nIn my case, I created a file called keyboard.bat and added the previous example.\r\n\r\nIn java, I created a method in order to read this file in the same folder.\r\n\r\nThat is my code\r\n\r\n   \r\n\r\n    try{\r\n      File file = new File(&quot;keyboard.bat&quot;);\r\n      Runtime.getRuntime().exec(file.getAbsolutePath());\r\n    }catch(IOException ex){        \r\n      Logger.getLogger(RunGazePoint.class.getName()).log(Level.SEVERE, null, ex);\r\n    }\r\n\r\nafter that, I compile my app and wrap it in executable mode with launch4j software.\r\n\r\nAnother way Is to execute by command, If you are using a multithreaded the system can avoid the lecture of file and not execute the software.\r\n\r\ncreate two methods in order to kill and call the keyboard.\r\n\r\n        //hide the Keyboard\r\n                String[] array = new String[]{&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;taskkill /IM \\&quot;TabTip.exe\\&quot; /F\\n&quot; +\r\n    &quot;&quot;};\r\n                Runtime.getRuntime().exec(array);\r\n\r\n    //Show the keyboard\r\n                String[] array = new String[]{&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;start \\&quot;\\&quot; \\&quot;TabTip.exe\\&quot;&quot;};\r\n                Runtime.getRuntime().exec(array);\r\n\r\n  [1]: https://www.riotbits.com/controller-companion-how-to-use-on-screen-and-touch-keyboard-instead-of-spiral-keyboard-14263/","title":"Runtime.getRuntime().exec could not execute/show Tabtip.exe","body":"<p>The only way to run the TabTip.exe is to run the software on Admin mode.</p>\n<p>I found the following batch code on the internet.</p>\n<p><a href=\"https://www.riotbits.com/controller-companion-how-to-use-on-screen-and-touch-keyboard-instead-of-spiral-keyboard-14263/\" rel=\"nofollow noreferrer\">How to Use On-Screen and Touch Keyboard Instead of Spiral Keyboard</a></p>\n<pre><code>tasklist | find /I &quot;TabTip.exe&quot; &gt;NUL &amp;&amp; (taskkill /IM &quot;TabTip.exe&quot; /T)\nstart &quot;&quot; &quot;TabTip.exe&quot;\n</code></pre>\n<p>That code kills the TabTip process and executes a new TabTip.</p>\n<p>In my case, I created a file called keyboard.bat and added the previous example.</p>\n<p>In java, I created a method in order to read this file in the same folder.</p>\n<p>That is my code</p>\n<pre><code>try{\n  File file = new File(&quot;keyboard.bat&quot;);\n  Runtime.getRuntime().exec(file.getAbsolutePath());\n}catch(IOException ex){        \n  Logger.getLogger(RunGazePoint.class.getName()).log(Level.SEVERE, null, ex);\n}\n</code></pre>\n<p>after that, I compile my app and wrap it in executable mode with launch4j software.</p>\n<p>Another way Is to execute by command, If you are using a multithreaded the system can avoid the lecture of file and not execute the software.</p>\n<p>create two methods in order to kill and call the keyboard.</p>\n<pre><code>    //hide the Keyboard\n            String[] array = new String[]{&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;taskkill /IM \\&quot;TabTip.exe\\&quot; /F\\n&quot; +\n&quot;&quot;};\n            Runtime.getRuntime().exec(array);\n\n//Show the keyboard\n            String[] array = new String[]{&quot;cmd.exe&quot;,&quot;/c&quot;,&quot;start \\&quot;\\&quot; \\&quot;TabTip.exe\\&quot;&quot;};\n            Runtime.getRuntime().exec(array);\n</code></pre>\n"}],"owner":{"account_id":3673056,"reputation":97,"user_id":3059734,"accept_rate":88,"display_name":"Artest113"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1177,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":23006722,"answer_count":3,"score":2,"last_activity_date":1658496691,"creation_date":1397200969,"question_id":23006063,"body_markdown":"I&#39;ve set this OnClick method in JavaFX SceneBuilder on a text field that will pop up the Windows 8 touch keyboard if the user select the textfield. However it seems to be nothing happen when I click on the textfield but when I try to check Tabtip.exe in the task manager, it did shown up there. The codes are: \r\n\r\n    try\r\n \r\n    { \r\n     Runtime rt = Runtime.getRtuntime();\r\n     rt.exec( &quot;cmd /c C:\\\\Programs Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe&quot;);\r\n    }\r\n\r\n\r\n    catch \r\n    {\r\n      ex.printStackTrace();\r\n    }\r\n\r\nThere is not errors triggered or whatsoever, and TabTip.exe is running in task manager, but the pop up keyboard does not show up, anyone has any solution to this? Thanks! ","title":"Runtime.getRuntime().exec could not execute/show Tabtip.exe","body":"<p>I've set this OnClick method in JavaFX SceneBuilder on a text field that will pop up the Windows 8 touch keyboard if the user select the textfield. However it seems to be nothing happen when I click on the textfield but when I try to check Tabtip.exe in the task manager, it did shown up there. The codes are: </p>\n\n<pre><code>try\n\n{ \n Runtime rt = Runtime.getRtuntime();\n rt.exec( \"cmd /c C:\\\\Programs Files\\\\Common Files\\\\Microsoft Shared\\\\ink\\\\TabTip.exe\");\n}\n\n\ncatch \n{\n  ex.printStackTrace();\n}\n</code></pre>\n\n<p>There is not errors triggered or whatsoever, and TabTip.exe is running in task manager, but the pop up keyboard does not show up, anyone has any solution to this? Thanks! </p>\n"},{"tags":["java","vaadin","vaadin8"],"comments":[{"owner":{"account_id":8324875,"reputation":11755,"user_id":6413377,"accept_rate":25,"display_name":"pirho"},"score":0,"creation_date":1513960814,"post_id":47937546,"comment_id":82859052,"body_markdown":"Maybe, if you implement your UI with @Push you could make the UI invalidate its session by itself from server command? At the same time you could show error notification &quot;You&#39;re fired&quot;.","body":"Maybe, if you implement your UI with @Push you could make the UI invalidate its session by itself from server command? At the same time you could show error notification &quot;You&#39;re fired&quot;."},{"owner":{"account_id":2282469,"reputation":366,"user_id":2007248,"display_name":"Jukka Nikki"},"score":0,"creation_date":1514022925,"post_id":47937546,"comment_id":82872380,"body_markdown":"You can check access rights during every request and let filter to close session if needed.","body":"You can check access rights during every request and let filter to close session if needed."},{"owner":{"account_id":2282469,"reputation":366,"user_id":2007248,"display_name":"Jukka Nikki"},"score":0,"creation_date":1514023335,"post_id":47937546,"comment_id":82872453,"body_markdown":"Here&#39;s documentation for vaadin request handlers https://vaadin.com/docs/framework/advanced/advanced-requesthandler.html","body":"Here&#39;s documentation for vaadin request handlers <a href=\"https://vaadin.com/docs/framework/advanced/advanced-requesthandler.html\" rel=\"nofollow noreferrer\">vaadin.com/docs/framework/advanced/advanced-requesthandler.h&zwnj;&#8203;tml</a>"}],"owner":{"account_id":17546,"reputation":15607,"user_id":39371,"accept_rate":80,"display_name":"Stephane Grenier"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":375,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658496648,"creation_date":1513928128,"question_id":47937546,"body_markdown":"I understand that I can do:\r\n\r\n    getPage().setLocation(&quot;/myapp/logout.html&quot;);\r\n    VaadinSession.getCurrent().close();\r\n\r\non a logout button, etc. But if I&#39;m managing the users under my account and I terminate a user because they were fired how can I force their session(s) to be immediately terminated?","title":"How do you terminate another user&#39;s session in Vaadin such as when you fire someone?","body":"<p>I understand that I can do:</p>\n\n<pre><code>getPage().setLocation(\"/myapp/logout.html\");\nVaadinSession.getCurrent().close();\n</code></pre>\n\n<p>on a logout button, etc. But if I'm managing the users under my account and I terminate a user because they were fired how can I force their session(s) to be immediately terminated?</p>\n"},{"tags":["java","maven","jar","pom.xml"],"comments":[{"owner":{"account_id":21994,"reputation":73798,"user_id":53897,"accept_rate":56,"display_name":"Thorbj&#248;rn Ravn Andersen"},"score":2,"creation_date":1658496821,"post_id":73081177,"comment_id":129072663,"body_markdown":"Why did you configure maven-jar-plugin like that?","body":"Why did you configure maven-jar-plugin like that?"},{"owner":{"account_id":112317,"reputation":93939,"user_id":296328,"accept_rate":60,"display_name":"khmarbaise"},"score":3,"creation_date":1658498251,"post_id":73081177,"comment_id":129073293,"body_markdown":"Follow convention over configuration and the configuration of the maven-jar-plugin is simply wrong. The classes directory contains the compiled classes and the includes should include only areas where compiled classes are coming from which is simply wrong because in `src/` the source code is located apart from that your source code should be located in `src/main/java/&lt;packageName&gt;` nor is the configuration of the jar plugin needed...","body":"Follow convention over configuration and the configuration of the maven-jar-plugin is simply wrong. The classes directory contains the compiled classes and the includes should include only areas where compiled classes are coming from which is simply wrong because in <code>src&#47;</code> the source code is located apart from that your source code should be located in <code>src&#47;main&#47;java&#47;&lt;packageName&gt;</code> nor is the configuration of the jar plugin needed..."},{"owner":{"account_id":9094430,"reputation":495,"user_id":6768856,"display_name":"Kivi"},"score":0,"creation_date":1658744958,"post_id":73081177,"comment_id":129119017,"body_markdown":"Could you please provide some sample like how could we mention the same in pom file for getting the class files in jar ?","body":"Could you please provide some sample like how could we mention the same in pom file for getting the class files in jar ?"}],"owner":{"account_id":9094430,"reputation":495,"user_id":6768856,"display_name":"Kivi"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":575,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658496567,"creation_date":1658496567,"question_id":73081177,"body_markdown":"I have a Java project, and I need to compile that using Maven and place the jar file inside Nexus path. so I have used below pom in the project level\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project\r\n        xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\r\n        xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n        xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\r\n        &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n        &lt;parent&gt;\r\n            &lt;groupId&gt;MyParentGroupId&lt;/groupId&gt;\r\n            &lt;artifactId&gt;MyParentArtifactId&lt;/artifactId&gt;\r\n            &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\r\n            &lt;relativePath&gt;../MyRelativePath/&lt;/relativePath&gt;\r\n        &lt;/parent&gt;\r\n        &lt;groupId&gt;MyGroupId&lt;/groupId&gt;\r\n        &lt;artifactId&gt;MyArtifactId&lt;/artifactId&gt;\r\n        &lt;version&gt;1.2.3-SNAPSHOT&lt;/version&gt;\r\n        &lt;packaging&gt;jar&lt;/packaging&gt;\r\n        &lt;build&gt;\r\n            &lt;pluginManagement&gt;\r\n                &lt;plugins&gt;\r\n                    &lt;plugin&gt;\r\n                        &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\r\n                        &lt;configuration&gt;\r\n                            &lt;classesDirectory&gt;src&lt;/classesDirectory&gt;\r\n                            &lt;includes&gt;\r\n                                &lt;include&gt;src&lt;/include&gt;\r\n                                &#160;\r\n                            &lt;/includes&gt;\r\n                        &lt;/configuration&gt;\r\n                    &lt;/plugin&gt;\r\n                &lt;/plugins&gt;\r\n            &lt;/pluginManagement&gt;\r\n        &lt;/build&gt;\r\n        &lt;properties&gt;\r\n            &lt;maven.skip.deploy&gt;false&lt;/maven.skip.deploy&gt;\r\n        &lt;/properties&gt;\r\n    &lt;/project&gt;\r\n\r\nAfter executing this project in Jenkins it goes through successfully and the jar file is generated in Nexus as expected. But the problem here is it does not contains the class files of the project and shows only the things which is shown in below screenshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/Y3Q33.png\r\n\r\nI&#39;m not sure what exactly its missing here. Can someone provide your inputs if faced such issues ? Thank you !","title":"Maven build is not generating class files inside the jar file","body":"<p>I have a Java project, and I need to compile that using Maven and place the jar file inside Nexus path. so I have used below pom in the project level</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;\n    xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;MyParentGroupId&lt;/groupId&gt;\n        &lt;artifactId&gt;MyParentArtifactId&lt;/artifactId&gt;\n        &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;\n        &lt;relativePath&gt;../MyRelativePath/&lt;/relativePath&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;MyGroupId&lt;/groupId&gt;\n    &lt;artifactId&gt;MyArtifactId&lt;/artifactId&gt;\n    &lt;version&gt;1.2.3-SNAPSHOT&lt;/version&gt;\n    &lt;packaging&gt;jar&lt;/packaging&gt;\n    &lt;build&gt;\n        &lt;pluginManagement&gt;\n            &lt;plugins&gt;\n                &lt;plugin&gt;\n                    &lt;artifactId&gt;maven-jar-plugin&lt;/artifactId&gt;\n                    &lt;configuration&gt;\n                        &lt;classesDirectory&gt;src&lt;/classesDirectory&gt;\n                        &lt;includes&gt;\n                            &lt;include&gt;src&lt;/include&gt;\n                             \n                        &lt;/includes&gt;\n                    &lt;/configuration&gt;\n                &lt;/plugin&gt;\n            &lt;/plugins&gt;\n        &lt;/pluginManagement&gt;\n    &lt;/build&gt;\n    &lt;properties&gt;\n        &lt;maven.skip.deploy&gt;false&lt;/maven.skip.deploy&gt;\n    &lt;/properties&gt;\n&lt;/project&gt;\n</code></pre>\n<p>After executing this project in Jenkins it goes through successfully and the jar file is generated in Nexus as expected. But the problem here is it does not contains the class files of the project and shows only the things which is shown in below screenshot:</p>\n<p><a href=\"https://i.stack.imgur.com/Y3Q33.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/Y3Q33.png\" alt=\"enter image description here\" /></a></p>\n<p>I'm not sure what exactly its missing here. Can someone provide your inputs if faced such issues ? Thank you !</p>\n"},{"tags":["java","email","jakarta-mail","parseexception"],"answers":[{"tags":[],"owner":{"account_id":1032936,"reputation":29659,"user_id":1040885,"display_name":"Bill Shannon"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1480985661,"creation_date":1480985661,"answer_id":40986038,"question_id":40985782,"body_markdown":"Replace `message.setContent(content, &quot;html&quot;)` with [`message.setText(content, null, &quot;html&quot;)`][1].  Replace `message.setContent(content, &quot;text&quot;)` with `message.setText(content)`.\r\n\r\n\r\n  [1]: https://javamail.java.net/nonav/docs/api/javax/mail/internet/MimeMessage.html#setText-java.lang.String-java.lang.String-java.lang.String-","title":"javax.mail.internet.ParseException: In Content-Type string &lt;text&gt;, expected &#39;/&#39;, got null","body":"<p>Replace <code>message.setContent(content, \"html\")</code> with <a href=\"https://javamail.java.net/nonav/docs/api/javax/mail/internet/MimeMessage.html#setText-java.lang.String-java.lang.String-java.lang.String-\" rel=\"nofollow noreferrer\"><code>message.setText(content, null, \"html\")</code></a>.  Replace <code>message.setContent(content, \"text\")</code> with <code>message.setText(content)</code>.</p>\n"},{"tags":[],"owner":{"account_id":2826194,"reputation":10795,"user_id":2428802,"display_name":"jmehrens"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1611698466,"creation_date":1481212185,"answer_id":41043457,"question_id":40985782,"body_markdown":"Bill&#39;s answer seem to cover it however it appears you are still stuck.  One issue is that `message.setContent(content, &quot;text&quot;);` is going to set the content type to `text/text` when you want `text/plain`.  Here is an example:\r\n\r\n    public class GMTCZ {\r\n        public static void main(String[] args) throws Exception, Exception {\r\n            MimeMessage mime = new MimeMessage((Session) null);\r\n\r\n            mime.setText(&quot;That was 1 arg setText&quot;);\r\n            print(mime);\r\n\r\n            String charset = MimeUtility.mimeCharset(MimeUtility.getDefaultJavaCharset());\r\n            mime.setText(&quot;&lt;html&gt;&lt;title&gt;This is 3 arg setText&lt;/title&gt;&lt;/html&gt;&quot;, charset, &quot;html&quot;);\r\n            print(mime);\r\n\r\n            mime.setText(&quot;That was 3 arg setText.&quot;, charset, &quot;plain&quot;);\r\n            print(mime);\r\n\r\n            //OR\r\n\r\n            Message msg = new MimeMessage((Session) null);\r\n            msg.setContent(&quot;&lt;html&gt;&lt;title&gt;That was 2 arg setContent&lt;/title&gt;&lt;/html&gt;&quot;, &quot;text/html&quot;);\r\n            print(msg);\r\n\r\n            msg.setContent(&quot;That was 2 arg setContent.&quot;, &quot;text/plain&quot;);\r\n            print(msg);\r\n            \r\n            msg.setContent(&quot;&lt;html&gt;&lt;title&gt;That was 2 arg setContent.&lt;/title&gt;&lt;/html&gt;&quot;, &quot;text/html&quot;);\r\n            print(msg);\r\n        }\r\n\r\n        private static void print(Message msg) throws Exception {\r\n            msg.saveChanges();\r\n            msg.writeTo(System.out);\r\n            System.out.println();\r\n            System.out.println(&quot;====&quot;);\r\n        }\r\n    }\r\n\r\n","title":"javax.mail.internet.ParseException: In Content-Type string &lt;text&gt;, expected &#39;/&#39;, got null","body":"<p>Bill's answer seem to cover it however it appears you are still stuck.  One issue is that <code>message.setContent(content, &quot;text&quot;);</code> is going to set the content type to <code>text/text</code> when you want <code>text/plain</code>.  Here is an example:</p>\n<pre><code>public class GMTCZ {\n    public static void main(String[] args) throws Exception, Exception {\n        MimeMessage mime = new MimeMessage((Session) null);\n\n        mime.setText(&quot;That was 1 arg setText&quot;);\n        print(mime);\n\n        String charset = MimeUtility.mimeCharset(MimeUtility.getDefaultJavaCharset());\n        mime.setText(&quot;&lt;html&gt;&lt;title&gt;This is 3 arg setText&lt;/title&gt;&lt;/html&gt;&quot;, charset, &quot;html&quot;);\n        print(mime);\n\n        mime.setText(&quot;That was 3 arg setText.&quot;, charset, &quot;plain&quot;);\n        print(mime);\n\n        //OR\n\n        Message msg = new MimeMessage((Session) null);\n        msg.setContent(&quot;&lt;html&gt;&lt;title&gt;That was 2 arg setContent&lt;/title&gt;&lt;/html&gt;&quot;, &quot;text/html&quot;);\n        print(msg);\n\n        msg.setContent(&quot;That was 2 arg setContent.&quot;, &quot;text/plain&quot;);\n        print(msg);\n        \n        msg.setContent(&quot;&lt;html&gt;&lt;title&gt;That was 2 arg setContent.&lt;/title&gt;&lt;/html&gt;&quot;, &quot;text/html&quot;);\n        print(msg);\n    }\n\n    private static void print(Message msg) throws Exception {\n        msg.saveChanges();\n        msg.writeTo(System.out);\n        System.out.println();\n        System.out.println(&quot;====&quot;);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7452129,"reputation":45,"user_id":5666531,"display_name":"Fallspell"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1481326609,"creation_date":1481326609,"answer_id":41070499,"question_id":40985782,"body_markdown":"I figured it out, basically i changes the props.put values to this :\r\n\r\n    props.put(&quot;mail.smtp.starttls.enable&quot;, &quot;true&quot;);\r\n    props.put(&quot;mail.smtp.host&quot;, smtpHost);\r\n    props.put(&quot;mail.smtp.user&quot;, username);\r\n    props.put(&quot;mail.smtp.password&quot;, password);\r\n    props.put(&quot;mail.smtp.port&quot;, smtpPort);\r\n    props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n\r\nand it worked. all i did was add the port. and i also made my gmail accout access untrusted apps.","title":"javax.mail.internet.ParseException: In Content-Type string &lt;text&gt;, expected &#39;/&#39;, got null","body":"<p>I figured it out, basically i changes the props.put values to this :</p>\n\n<pre><code>props.put(\"mail.smtp.starttls.enable\", \"true\");\nprops.put(\"mail.smtp.host\", smtpHost);\nprops.put(\"mail.smtp.user\", username);\nprops.put(\"mail.smtp.password\", password);\nprops.put(\"mail.smtp.port\", smtpPort);\nprops.put(\"mail.smtp.auth\", \"true\");\n</code></pre>\n\n<p>and it worked. all i did was add the port. and i also made my gmail accout access untrusted apps.</p>\n"},{"tags":[],"owner":{"account_id":18117686,"reputation":198,"user_id":13174149,"display_name":"Charlo Poitras"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658496403,"creation_date":1658496403,"answer_id":73081144,"question_id":40985782,"body_markdown":"Change : `message.setContent(content, &quot;html&quot;)`\\\r\nTo : `message.setContent(content, &quot;text/html&quot;)`\r\n\r\nThe error message is looking for `&quot;/&quot;`, witch is the `/` in `text/html`","title":"javax.mail.internet.ParseException: In Content-Type string &lt;text&gt;, expected &#39;/&#39;, got null","body":"<p>Change : <code>message.setContent(content, &quot;html&quot;)</code><br />\nTo : <code>message.setContent(content, &quot;text/html&quot;)</code></p>\n<p>The error message is looking for <code>&quot;/&quot;</code>, witch is the <code>/</code> in <code>text/html</code></p>\n"}],"owner":{"account_id":7452129,"reputation":45,"user_id":5666531,"display_name":"Fallspell"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":17071,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":41070499,"answer_count":4,"score":1,"last_activity_date":1658496403,"creation_date":1480983870,"question_id":40985782,"body_markdown":"I know this question was answered somewhere else but that didn&#39;t work for me so here i am.\r\n\r\nBasically my code will login to your e-mail and send messages to multiple people.\r\n\r\nof course its not done, i know that, but it has enough code to work because i based it off one of my command line programs that does the same thing.\r\n\r\nanyways here is some code. \r\n\r\nsender class : \r\n\r\n\r\n    public class Sender {\r\n \r\n\tpublic static void send(JTextArea listRecepients, JTextField textSubject, JTextArea textBody, JTextField txtSMTP,\r\n\t\t\tJTextField txtEmail, JPasswordField txtPassword, JCheckBox boxHtml, JSpinner ammountSpin, JSpinner timeSpin, JProgressBar progressBar) {\r\n        \r\n        String subject = textSubject.getText();\r\n        \r\n        String message = textBody.getText();\r\n        \r\n        for (String line : listRecepients.getText().split(&quot;\\\\n&quot;)) setEmails(line, subject, message, txtSMTP, txtEmail, txtPassword, boxHtml, ammountSpin, timeSpin, progressBar);\r\n    }\r\n\r\n\tprivate static void setEmails(String line, String subject, String message, JTextField txtSMTP,\r\n\t\t\tJTextField txtEmail, JTextField txtPassword, JCheckBox boxHtml, JSpinner ammountSpin, JSpinner timeSpin, JProgressBar progressBar) {\r\n\t\t\r\n\t\tList&lt;String&gt; emails = new ArrayList&lt;String&gt;(Arrays.asList(line));\r\n\t\tsendEmail(subject, emails, message, txtSMTP, txtEmail, txtPassword, boxHtml, ammountSpin, timeSpin, progressBar);\r\n\t}\r\n\r\n\tpublic static void sendEmail(final String subject, final List&lt;String&gt; emailToAddresses,\r\n                final String emailBodyText, JTextField txtSMTP, JTextField txtEmail, JTextField txtPassword, JCheckBox boxHtml, JSpinner ammountSpin, JSpinner timeSpin, JProgressBar progressBar) {\r\n        \r\n        final String username = txtEmail.getText();\r\n\r\n        final String password = txtPassword.getText();\r\n\r\n        final String smtpHost = txtSMTP.getText();\r\n \r\n        Properties props = new Properties();\r\n \r\n        // do not change - start\r\n        props.put(&quot;mail.smtp.user&quot;, &quot;username&quot;);\r\n        props.put(&quot;mail.smtp.host&quot;, smtpHost);\r\n        // props.put(&quot;mail.debug&quot;, &quot;true&quot;);\r\n        props.put(&quot;mail.smtp.auth&quot;, &quot;true&quot;);\r\n        // do not change - end\r\n \r\n        Session session = Session.getInstance(props,\r\n                new javax.mail.Authenticator() {\r\n                    @Override\r\n                    protected PasswordAuthentication getPasswordAuthentication() {\r\n                        return new PasswordAuthentication(username, password);\r\n                    }\r\n                });\r\n        String emails = null;\r\n        int ammount, time;\r\n        \r\n        try {\r\n\t\t\tammountSpin.commitEdit();\r\n\t\t} catch (ParseException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n        ammount = (int) ammountSpin.getValue();\r\n        \r\n        try {\r\n\t\t\ttimeSpin.commitEdit();\r\n\t\t} catch (ParseException e1) {\r\n\t\t\t// TODO Auto-generated catch block\r\n\t\t\te1.printStackTrace();\r\n\t\t}\r\n        time = (int) timeSpin.getValue();\r\n        time = time*1000;\r\n        try {\r\n\r\n            Message message = new MimeMessage(session);\r\n\r\n            message.setFrom(new InternetAddress(username));\r\n\r\n            message.setSubject(subject);\r\n       \r\n            if (boxHtml.isSelected() == true){\r\n            \tString content = &quot;&lt;html&gt;\\n&lt;body&gt;\\n&quot;;\r\n            \tcontent += emailBodyText + &quot;\\n&quot;;\r\n            \tcontent += &quot;\\n&quot;;\r\n            \tcontent += &quot;&lt;/body&gt;\\n&lt;/html&gt;&quot;;\r\n            \tmessage.setContent(content, &quot;html&quot;);\r\n            }else{\r\n            \tString content = emailBodyText;\r\n            \tmessage.setContent(content, &quot;text&quot;);\r\n            }\r\n \r\n            StringBuilder sb = new StringBuilder();\r\n            int i = 0;\r\n            for (String email : emailToAddresses) {\r\n                sb.append(email);\r\n                i++;\r\n                if (emailToAddresses.size() &gt; i) {\r\n                    sb.append(&quot;, &quot;);\r\n                }\r\n            }\r\n \r\n            emails = sb.toString();\r\n \r\n            message.setRecipients(Message.RecipientType.BCC,\r\n                    InternetAddress.parse(sb.toString()));\r\n \r\n            System.out.println(&quot;Sending Email to &quot; + emails + &quot; from &quot;\r\n                    + username + &quot; with Subject - &quot; + subject);\r\n \r\n            for (int x = 0; x &lt; ammount; x++){\r\n            \tTransport.send(message);\r\n            \ttry {\r\n\t\t\t\t\tThread.sleep(time);\r\n\t\t\t\t} catch (InterruptedException e) {\r\n\t\t\t\t\te.printStackTrace();\r\n\t\t\t\t}\r\n            }\r\n            \r\n \r\n            System.out.println(&quot;Email successfully sent to &quot; + emails);\r\n \r\n        } catch (MessagingException e) {\r\n            System.out.println(&quot;Email sending failed to &quot; + emails);\r\n            failed(e);\r\n        }\r\n    }\r\n\tpublic static void failed (MessagingException e){\r\n\t\tJFrame frame = new JFrame(&quot;Failed to send&quot;);\r\n\t    JOptionPane.showMessageDialog(frame, &quot;The Process has failed with exception code : &quot;+ e, &quot;Warning&quot;, JOptionPane.WARNING_MESSAGE);\r\n\t}\t\r\n}\r\n\r\nand yes i know there are more efficient ways of doing this insted of sending the required fields through multiple methods but im lazy. thats why i came here :p\r\n\r\nthanks for your help and lmk if you want the other 3 classes. but the error should be in this one.\r\n\r\n","title":"javax.mail.internet.ParseException: In Content-Type string &lt;text&gt;, expected &#39;/&#39;, got null","body":"<p>I know this question was answered somewhere else but that didn't work for me so here i am.</p>\n\n<p>Basically my code will login to your e-mail and send messages to multiple people.</p>\n\n<p>of course its not done, i know that, but it has enough code to work because i based it off one of my command line programs that does the same thing.</p>\n\n<p>anyways here is some code. </p>\n\n<p>sender class : </p>\n\n<pre><code>public class Sender {\n\npublic static void send(JTextArea listRecepients, JTextField textSubject, JTextArea textBody, JTextField txtSMTP,\n        JTextField txtEmail, JPasswordField txtPassword, JCheckBox boxHtml, JSpinner ammountSpin, JSpinner timeSpin, JProgressBar progressBar) {\n\n    String subject = textSubject.getText();\n\n    String message = textBody.getText();\n\n    for (String line : listRecepients.getText().split(\"\\\\n\")) setEmails(line, subject, message, txtSMTP, txtEmail, txtPassword, boxHtml, ammountSpin, timeSpin, progressBar);\n}\n\nprivate static void setEmails(String line, String subject, String message, JTextField txtSMTP,\n        JTextField txtEmail, JTextField txtPassword, JCheckBox boxHtml, JSpinner ammountSpin, JSpinner timeSpin, JProgressBar progressBar) {\n\n    List&lt;String&gt; emails = new ArrayList&lt;String&gt;(Arrays.asList(line));\n    sendEmail(subject, emails, message, txtSMTP, txtEmail, txtPassword, boxHtml, ammountSpin, timeSpin, progressBar);\n}\n\npublic static void sendEmail(final String subject, final List&lt;String&gt; emailToAddresses,\n            final String emailBodyText, JTextField txtSMTP, JTextField txtEmail, JTextField txtPassword, JCheckBox boxHtml, JSpinner ammountSpin, JSpinner timeSpin, JProgressBar progressBar) {\n\n    final String username = txtEmail.getText();\n\n    final String password = txtPassword.getText();\n\n    final String smtpHost = txtSMTP.getText();\n\n    Properties props = new Properties();\n\n    // do not change - start\n    props.put(\"mail.smtp.user\", \"username\");\n    props.put(\"mail.smtp.host\", smtpHost);\n    // props.put(\"mail.debug\", \"true\");\n    props.put(\"mail.smtp.auth\", \"true\");\n    // do not change - end\n\n    Session session = Session.getInstance(props,\n            new javax.mail.Authenticator() {\n                @Override\n                protected PasswordAuthentication getPasswordAuthentication() {\n                    return new PasswordAuthentication(username, password);\n                }\n            });\n    String emails = null;\n    int ammount, time;\n\n    try {\n        ammountSpin.commitEdit();\n    } catch (ParseException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n    ammount = (int) ammountSpin.getValue();\n\n    try {\n        timeSpin.commitEdit();\n    } catch (ParseException e1) {\n        // TODO Auto-generated catch block\n        e1.printStackTrace();\n    }\n    time = (int) timeSpin.getValue();\n    time = time*1000;\n    try {\n\n        Message message = new MimeMessage(session);\n\n        message.setFrom(new InternetAddress(username));\n\n        message.setSubject(subject);\n\n        if (boxHtml.isSelected() == true){\n            String content = \"&lt;html&gt;\\n&lt;body&gt;\\n\";\n            content += emailBodyText + \"\\n\";\n            content += \"\\n\";\n            content += \"&lt;/body&gt;\\n&lt;/html&gt;\";\n            message.setContent(content, \"html\");\n        }else{\n            String content = emailBodyText;\n            message.setContent(content, \"text\");\n        }\n\n        StringBuilder sb = new StringBuilder();\n        int i = 0;\n        for (String email : emailToAddresses) {\n            sb.append(email);\n            i++;\n            if (emailToAddresses.size() &gt; i) {\n                sb.append(\", \");\n            }\n        }\n\n        emails = sb.toString();\n\n        message.setRecipients(Message.RecipientType.BCC,\n                InternetAddress.parse(sb.toString()));\n\n        System.out.println(\"Sending Email to \" + emails + \" from \"\n                + username + \" with Subject - \" + subject);\n\n        for (int x = 0; x &lt; ammount; x++){\n            Transport.send(message);\n            try {\n                Thread.sleep(time);\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n\n\n        System.out.println(\"Email successfully sent to \" + emails);\n\n    } catch (MessagingException e) {\n        System.out.println(\"Email sending failed to \" + emails);\n        failed(e);\n    }\n}\npublic static void failed (MessagingException e){\n    JFrame frame = new JFrame(\"Failed to send\");\n    JOptionPane.showMessageDialog(frame, \"The Process has failed with exception code : \"+ e, \"Warning\", JOptionPane.WARNING_MESSAGE);\n}   \n</code></pre>\n\n<p>}</p>\n\n<p>and yes i know there are more efficient ways of doing this insted of sending the required fields through multiple methods but im lazy. thats why i came here :p</p>\n\n<p>thanks for your help and lmk if you want the other 3 classes. but the error should be in this one.</p>\n"},{"tags":["java","spring","spring-boot","dependency-injection"],"comments":[{"owner":{"account_id":2843847,"reputation":55833,"user_id":2442804,"accept_rate":80,"display_name":"luk2302"},"score":0,"creation_date":1658495437,"post_id":73080897,"comment_id":129072085,"body_markdown":"Are they all registered as services / some beans?","body":"Are they all registered as services / some beans?"},{"owner":{"account_id":22031446,"reputation":1,"user_id":16298639,"display_name":"Noor Ahmad"},"score":0,"creation_date":1658496153,"post_id":73080897,"comment_id":129072385,"body_markdown":"sorry made a mistake in my question. i;ve reupdated it with different code","body":"sorry made a mistake in my question. i;ve reupdated it with different code"},{"owner":{"account_id":4181375,"reputation":5091,"user_id":3426309,"display_name":"Andrey B. Panfilov"},"score":0,"creation_date":1658501714,"post_id":73080897,"comment_id":129074708,"body_markdown":"In general your code should work, however I&#39;m not sure about two following points: 1. private constructor. 2. calling AffectedObjectService#func1 in constructor - that causes premature initialization of bean","body":"In general your code should work, however I&#39;m not sure about two following points: 1. private constructor. 2. calling AffectedObjectService#func1 in constructor - that causes premature initialization of bean"}],"owner":{"account_id":22031446,"reputation":1,"user_id":16298639,"display_name":"Noor Ahmad"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":167,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658496282,"creation_date":1658495348,"question_id":73080897,"body_markdown":"I have a Factory class:\r\n```\r\n@Service\r\nclass AffectedObjectServiceFactory {\r\n\r\n    private static final Map&lt;String, AffectedObjectService&gt; affectedObjectServiceMap = new HashMap&lt;&gt;();\r\n    @Autowired\r\n    private AffectedObjectServiceFactory(List&lt;AffectedObjectService&gt; services) {\r\n        for(AffectedObjectService service : services) {\r\n            String[] supportedSubTypes = service.func1();\r\n            for (String subType: supportedSubTypes) {\r\n                affectedObjectServiceMap.put(subType, service);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static AffectedObjectService getAffectedObject(String type) {\r\n        AffectedObjectService affectedObjectService = affectedObjectServiceMap.get(type);\r\n        if(affectedObjectService == null) throw new IllegalArgumentException(&quot;Unknown service type: &quot; + type);\r\n        return affectedObjectService;\r\n    }\r\n}\r\n\r\n```\r\nhere are the interfaces and its implementations\r\n```\r\ninterface AffectedObjectService {\r\n    String func1();\r\n}\r\n\r\n@Component\r\nclass AffectedObjectServiceImpl1 implements AffectedObjectService {\r\n    @Override\r\n    String func1() { //.... }\r\n}\r\n\r\n@Component\r\nclass AffectedObjectServiceImpl2 implements AffectedObjectService {\r\n    @Override\r\n    String func1() { //.... }\r\n}\r\n\r\n@Component\r\nclass AffectedObjectServiceImpl3 implements AffectedObjectService {\r\n\r\n    XYZInterface type;\r\n    @Autowired\r\n    AffectedObjectServiceImpl3(XYZInterface type) {\r\n        this.type = type;\r\n    }\r\n\r\n    @Override\r\n    String func1() { //.... }\r\n}\r\n\r\nInterface XYZInterface {\r\n     String func2();\r\n}\r\n\r\n@Component\r\nclass XYZInterfaceImpl1 extends XYZInterface {\r\n    @Override\r\n    String func2() { // .... }\r\n}\r\n\r\n@Component\r\nclass XYZInterfaceImpl2 extends XYZInterface {\r\n    @Override\r\n    String func2() { // .... }\r\n}\r\n\r\n\r\n```\r\nThe ```AffectedObjectService``` is an interface which is implemented by multiple classes. Some classes have further a constructor which takes another interface implementation as parameters. \r\nHow can I pass every possible ```AffectedObjectServiceImpl3``` (one with XYZInterfaceImpl1 as parameter, and one with XYZInterfaceImpl2 as parameter) as dependency to the constructor of the Factory class?","title":"How to inject every possible implementation of an interface as a dependency in the constructor in spring boot?","body":"<p>I have a Factory class:</p>\n<pre><code>@Service\nclass AffectedObjectServiceFactory {\n\n    private static final Map&lt;String, AffectedObjectService&gt; affectedObjectServiceMap = new HashMap&lt;&gt;();\n    @Autowired\n    private AffectedObjectServiceFactory(List&lt;AffectedObjectService&gt; services) {\n        for(AffectedObjectService service : services) {\n            String[] supportedSubTypes = service.func1();\n            for (String subType: supportedSubTypes) {\n                affectedObjectServiceMap.put(subType, service);\n            }\n        }\n    }\n\n    public static AffectedObjectService getAffectedObject(String type) {\n        AffectedObjectService affectedObjectService = affectedObjectServiceMap.get(type);\n        if(affectedObjectService == null) throw new IllegalArgumentException(&quot;Unknown service type: &quot; + type);\n        return affectedObjectService;\n    }\n}\n\n</code></pre>\n<p>here are the interfaces and its implementations</p>\n<pre><code>interface AffectedObjectService {\n    String func1();\n}\n\n@Component\nclass AffectedObjectServiceImpl1 implements AffectedObjectService {\n    @Override\n    String func1() { //.... }\n}\n\n@Component\nclass AffectedObjectServiceImpl2 implements AffectedObjectService {\n    @Override\n    String func1() { //.... }\n}\n\n@Component\nclass AffectedObjectServiceImpl3 implements AffectedObjectService {\n\n    XYZInterface type;\n    @Autowired\n    AffectedObjectServiceImpl3(XYZInterface type) {\n        this.type = type;\n    }\n\n    @Override\n    String func1() { //.... }\n}\n\nInterface XYZInterface {\n     String func2();\n}\n\n@Component\nclass XYZInterfaceImpl1 extends XYZInterface {\n    @Override\n    String func2() { // .... }\n}\n\n@Component\nclass XYZInterfaceImpl2 extends XYZInterface {\n    @Override\n    String func2() { // .... }\n}\n\n\n</code></pre>\n<p>The <code>AffectedObjectService</code> is an interface which is implemented by multiple classes. Some classes have further a constructor which takes another interface implementation as parameters.\nHow can I pass every possible <code>AffectedObjectServiceImpl3</code> (one with XYZInterfaceImpl1 as parameter, and one with XYZInterfaceImpl2 as parameter) as dependency to the constructor of the Factory class?</p>\n"},{"tags":["java","solr","lucene"],"answers":[{"tags":[],"owner":{"account_id":6946130,"reputation":708,"user_id":5330527,"accept_rate":100,"display_name":"HBMCS"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1609350820,"creation_date":1609350820,"answer_id":65511392,"question_id":65493523,"body_markdown":"I&#39;ve recreated the core and the index, as Solr doesn&#39;t seem to deal well with indexes created more than one major version in the past.","title":"Upgrading Solr index from 6 to 8","body":"<p>I've recreated the core and the index, as Solr doesn't seem to deal well with indexes created more than one major version in the past.</p>\n"},{"tags":[],"owner":{"account_id":22051901,"reputation":119,"user_id":16316067,"display_name":"user16316067"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658496220,"creation_date":1657208043,"answer_id":72900600,"question_id":65493523,"body_markdown":"I ran into this same problem, and found out that [this is by design](https://stackoverflow.com/a/58619742/16316067):\r\n\r\n&gt; When we used the IndexUpgrader from Lucene 6, the Lucene version was written into the index. The recorded version was preserved by the upgrader for version 7. When the index was subsequently read by version 8, it complained because the original index was not written by version 7 or later.\r\n\r\nAn alternative is [Lucene Upgrader](https://github.com/hakanai/luceneupgrader), but it&#39;s not very user-friendly to use.","title":"Upgrading Solr index from 6 to 8","body":"<p>I ran into this same problem, and found out that <a href=\"https://stackoverflow.com/a/58619742/16316067\">this is by design</a>:</p>\n<blockquote>\n<p>When we used the IndexUpgrader from Lucene 6, the Lucene version was written into the index. The recorded version was preserved by the upgrader for version 7. When the index was subsequently read by version 8, it complained because the original index was not written by version 7 or later.</p>\n</blockquote>\n<p>An alternative is <a href=\"https://github.com/hakanai/luceneupgrader\" rel=\"nofollow noreferrer\">Lucene Upgrader</a>, but it's not very user-friendly to use.</p>\n"}],"owner":{"account_id":6946130,"reputation":708,"user_id":5330527,"accept_rate":100,"display_name":"HBMCS"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1096,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":65511392,"answer_count":2,"score":0,"last_activity_date":1658496220,"creation_date":1609251188,"question_id":65493523,"body_markdown":"I have a core which was created years ago, running correctly from a Solr 6.x.\r\n\r\nI&#39;ve upgraded Solr to 7.7.3. I&#39;ve launched the IndexUpgrade script:\r\n\r\n```\r\n/opt/solr/server/solr-webapp/webapp/WEB-INF/lib$ sudo java -cp lucene-core-7.7.3.jar:lucene-backward-codecs-7.7.3.jar org.apache.lucene.index.IndexUpgrader /var/solr/data/hms/data/index/\r\n```\r\n\r\nIt silently run, so my assumption is that it did what it had to do correctly.\r\n\r\nThen I&#39;ve upgraded to Solr 8.7.0, and launched the script:\r\n\r\n```\r\n/opt/solr/server/solr-webapp/webapp/WEB-INF/lib$ sudo java -cp lucene-core-8.7.0.jar:lucene-backward-codecs-8.7.0.jar org.apache.lucene.index.IndexUpgrader /var/solr/data/hms/data/index/\r\n```\r\n\r\nThis last code exits with this error:\r\n\r\n```\r\nException in thread &quot;main&quot; org.apache.lucene.index.IndexFormatTooOldException: Format version is not supported (resource BufferedChecksumIndexInput(MMapIndexInput(path=&quot;/var/solr/data/hms/data/index/segments_asky&quot;))): This index was initially created with Lucene 6.x while the current version is 8.7.0 and Lucene only supports reading the current and previous major versions.. This version of Lucene only supports indexes created with release 7.0 and later.\r\n\tat org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:322)\r\n\tat org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:291)\r\n\tat org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:461)\r\n\tat org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:458)\r\n\tat org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:720)\r\n\tat org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:672)\r\n\tat org.apache.lucene.index.SegmentInfos.readLatestCommit(SegmentInfos.java:463)\r\n\tat org.apache.lucene.index.DirectoryReader.listCommits(DirectoryReader.java:260)\r\n\tat org.apache.lucene.index.IndexUpgrader.upgrade(IndexUpgrader.java:158)\r\n\tat org.apache.lucene.index.IndexUpgrader.main(IndexUpgrader.java:78)\r\n\tSuppressed: org.apache.lucene.index.CorruptIndexException: checksum passed (58082b0a). possibly transient resource issue, or a Lucene or JVM bug (resource=BufferedChecksumIndexInput(MMapIndexInput(path=&quot;/var/solr/data/hms/data/index/segments_asky&quot;)))\r\n\t\tat org.apache.lucene.codecs.CodecUtil.checkFooter(CodecUtil.java:466)\r\n\t\tat org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:434)\r\n\t\t... 9 more\r\n```\r\n\r\nWhy is that? Am I not doing things correctly, i.e. first upgrade the index from 6 to 7 and then from 7 to 8? How can I get my index working with Solr 8?","title":"Upgrading Solr index from 6 to 8","body":"<p>I have a core which was created years ago, running correctly from a Solr 6.x.</p>\n<p>I've upgraded Solr to 7.7.3. I've launched the IndexUpgrade script:</p>\n<pre><code>/opt/solr/server/solr-webapp/webapp/WEB-INF/lib$ sudo java -cp lucene-core-7.7.3.jar:lucene-backward-codecs-7.7.3.jar org.apache.lucene.index.IndexUpgrader /var/solr/data/hms/data/index/\n</code></pre>\n<p>It silently run, so my assumption is that it did what it had to do correctly.</p>\n<p>Then I've upgraded to Solr 8.7.0, and launched the script:</p>\n<pre><code>/opt/solr/server/solr-webapp/webapp/WEB-INF/lib$ sudo java -cp lucene-core-8.7.0.jar:lucene-backward-codecs-8.7.0.jar org.apache.lucene.index.IndexUpgrader /var/solr/data/hms/data/index/\n</code></pre>\n<p>This last code exits with this error:</p>\n<pre><code>Exception in thread &quot;main&quot; org.apache.lucene.index.IndexFormatTooOldException: Format version is not supported (resource BufferedChecksumIndexInput(MMapIndexInput(path=&quot;/var/solr/data/hms/data/index/segments_asky&quot;))): This index was initially created with Lucene 6.x while the current version is 8.7.0 and Lucene only supports reading the current and previous major versions.. This version of Lucene only supports indexes created with release 7.0 and later.\n    at org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:322)\n    at org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:291)\n    at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:461)\n    at org.apache.lucene.index.SegmentInfos$1.doBody(SegmentInfos.java:458)\n    at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:720)\n    at org.apache.lucene.index.SegmentInfos$FindSegmentsFile.run(SegmentInfos.java:672)\n    at org.apache.lucene.index.SegmentInfos.readLatestCommit(SegmentInfos.java:463)\n    at org.apache.lucene.index.DirectoryReader.listCommits(DirectoryReader.java:260)\n    at org.apache.lucene.index.IndexUpgrader.upgrade(IndexUpgrader.java:158)\n    at org.apache.lucene.index.IndexUpgrader.main(IndexUpgrader.java:78)\n    Suppressed: org.apache.lucene.index.CorruptIndexException: checksum passed (58082b0a). possibly transient resource issue, or a Lucene or JVM bug (resource=BufferedChecksumIndexInput(MMapIndexInput(path=&quot;/var/solr/data/hms/data/index/segments_asky&quot;)))\n        at org.apache.lucene.codecs.CodecUtil.checkFooter(CodecUtil.java:466)\n        at org.apache.lucene.index.SegmentInfos.readCommit(SegmentInfos.java:434)\n        ... 9 more\n</code></pre>\n<p>Why is that? Am I not doing things correctly, i.e. first upgrade the index from 6 to 7 and then from 7 to 8? How can I get my index working with Solr 8?</p>\n"},{"tags":["java","spring","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":14023792,"reputation":310,"user_id":10129383,"display_name":"Codesidian"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658496138,"creation_date":1658481765,"answer_id":73078044,"question_id":73077611,"body_markdown":"In our situation, this was being caused our i-series. If no data is present to return, the system still returns 10 chars from memory - being the last value it just returned. The solution is to always populate the return value to clear the memory. \r\n\r\nNot spring-boot after all! ","title":"Out params not clearing on stored procedure call","body":"<p>In our situation, this was being caused our i-series. If no data is present to return, the system still returns 10 chars from memory - being the last value it just returned. The solution is to always populate the return value to clear the memory.</p>\n<p>Not spring-boot after all!</p>\n"}],"owner":{"account_id":14023792,"reputation":310,"user_id":10129383,"display_name":"Codesidian"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":48,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73078044,"answer_count":1,"score":0,"last_activity_date":1658496138,"creation_date":1658479696,"question_id":73077611,"body_markdown":"My problem is as follows:\r\n\r\nMy service loops over items that are passed as args. For each item, i make two calls. My first price call gives me 9999 which means nothing was returned. That&#39;s fine - that&#39;s possible. My stock call works perfectly and i get the correct stock value returned. On the second iteration, my price call returns the same value as the previous stock call. \r\n\r\nSo, i get 9999 for price, then 150 for stock, then 150 for price. What&#39;s throwing me is that the price out parm is 6th, whereas the stock out parm is 8th. No idea how it would retain that value in a different position. \r\n\r\n\r\nIt seems that my jdbctemplate isn&#39;t being cleared or it&#39;s storing previous out params. Here&#39;s the code involved: \r\n\r\n\r\n**MyService.java**\r\n    \r\n    @Service\r\n    public class MyService extends BaseService implements MyInterface{\r\n        protected static final Logger logger = LoggerFactory.getLogger(MyService.class);\r\n    \r\n    \t@Autowired\r\n    \tprivate MyDAO myDAO;\r\n    \tpublic myResponse checkOrder(args...)  \r\n    \t{  \r\n    \t\tfor(something in args){\r\n    \t\t\t\t// PRICE\r\n    \t\t\t\t// Grab price data\r\n    \t\t\t\tLinkedHashMap&lt;String, Object&gt; priceCallInParams = new LinkedHashMap&lt;String, Object&gt;();\r\n    \t\t\t\tpriceCallInParams .put(&quot;param1&quot;, &quot;param1val&quot;);\r\n    \t\t\t\tpriceCallInParams .put(&quot;param2&quot;, &quot;param2val&quot;);\r\n    \t\t\t\tpriceCallInParams .put(&quot;param3&quot;, &quot;param3val&quot;);\r\n    \t\t\t\tpriceCallInParams .put(&quot;param4&quot;, &quot;param4val&quot;);\r\n    \t\t\t\tpriceCallInParams .put(&quot;param5&quot;, &quot;param5val&quot;);\r\n    \r\n    \t\t\t\tLinkedHashMap&lt;String, Object&gt; priceCallOutParams = new LinkedHashMap&lt;String, Object&gt;();\r\n    \t\t\t\tpriceCallOutParams .put(&quot;price&quot;, &quot;0&quot;);\r\n    \r\n    \t\t\t\t\r\n    \t\t\t\tlogger.debug(&quot;Getting data...&quot;);\r\n    \t\t\t\tMap&lt;String, Object&gt; priceData = new HashMap&lt;String, Object&gt;();\r\n    \r\n    \t\t\t\r\n    \t\t\t\tpriceData = myDAO.checkPrice(priceCallInParams , priceCallOutParams );\r\n    \t\t\t\t\r\n    \t\t\t\tBigDecimal unitPrice = new BigDecimal(9999);\r\n    \t\t\t\tif (!priceData .get(&quot;PRCE&quot;).toString().trim().equals(&quot;&quot;)){\r\n    \t\t\t\t\tunitPrice = new BigDecimal(priceData.get(&quot;PRCE&quot;).toString().trim());\r\n    \t\t\t\t}\r\n    \t\t\t\tSystem.out.println(&quot;PRC - &quot;+unitPrice);\r\n    \t\t\t\t\r\n    \t\t\t\t\r\n    \t\t\t\t// AVAILABLE STOCK\r\n    \t\t\t\t// Grab check stock data\r\n    \t\t\t\tLinkedHashMap&lt;String, Object&gt; checkStockInParms = new LinkedHashMap&lt;String, Object&gt;();\r\n    \t\t\t\tcheckStockInParms.put(&quot;param1&quot;, &quot;param1val&quot;);\r\n    \t\t\t\tcheckStockInParms.put(&quot;param2&quot;, &quot;param2val&quot;);\r\n    \t\t\t\tcheckStockInParms.put(&quot;param3&quot;, &quot;param3val&quot;);\r\n    \t\t\t\tcheckStockInParms.put(&quot;param4&quot;, &quot;param4val&quot;);\r\n    \t\t\t\tcheckStockInParms.put(&quot;param5&quot;, &quot;param5val&quot;);\r\n    \t\t\t\tcheckStockInParms.put(&quot;param6&quot;, &quot;param6val&quot;);\r\n    \t\t\t\tcheckStockInParms.put(&quot;REQQTY&quot;, &quot;123&quot;);\r\n    \r\n    \t\t\t\tLinkedHashMap&lt;String, Object&gt; checkStockOutParms = new LinkedHashMap&lt;String, Object&gt;();\r\n    \t\t\t\tcheckStockOutParms .put(&quot;AVAILQTY&quot;, &quot;0&quot;);\r\n    \t\t\t\tcheckStockOutParms .put(&quot;NEXTDUE&quot;,&quot; &quot;);\r\n    \t\t\t\tcheckStockOutParms .put(&quot;NEXTQTY&quot;,&quot;0&quot;);\r\n    \r\n    \t\t\t\t\r\n    \t\t\t\tlogger.debug(&quot;Getting data...&quot;);\r\n    \t\t\t\tMap&lt;String, Object&gt; checkStockDat = new HashMap&lt;String, Object&gt;();\r\n    \r\n    \t\t\t\tcheckStockDat = myDAO.checkStock(checkStockInParms , checkStockOutParms );\r\n    \r\n\r\n    \t\t\t\t\r\n    \t\t\t\t// Output quantity\r\n    \t\t\t\tint AvailQTY = Integer.valueOf(checkStockDat.get(&quot;AVAILQTY&quot;).toString().trim());\r\n    \t\t\t\tif (reqBIT.getRequestedQuantity()&gt;AvailQTY) {\r\n    \t\t\t\t\tresBIT.setConfirmedQuantity(AvailQTY);\r\n    \t\t\t\t}\r\n    \t\t\t\telse {\r\n    \t\t\t\t\tresBIT.setConfirmedQuantity(reqBIT.getRequestedQuantity());\r\n    \t\t\t\t}\r\n    \t\t\t}\r\n\r\n    \t}\r\n\r\n\r\n    }\r\n\r\n**MyDAO.java**\r\n\r\n    @Component\r\n    public class MyDAO extends BaseDAO{\r\n    \tprotected static final Logger logger = LoggerFactory.getLogger(OrderDAO.class);\r\n    \r\n    \t\r\n    \tpublic Map&lt;String, Object&gt; checkStock(LinkedHashMap&lt;String, Object&gt; inparms, LinkedHashMap&lt;String, Object&gt; outparms){\r\n    \t\tStringBuilder builtSQL = new StringBuilder();\r\n    \t\tbuiltSQL.append(&quot;CALL &quot;);\r\n    \t\tbuiltSQL.append(&quot;checkstock &quot;);\r\n    \t\t\r\n    // just generates our param string (?,?,?...) \r\n    builtSQL.append(DataUtilities.genParmPlaceholderStringFromTotal(inparms.size()+outparms.size()));\r\n    \t\t\r\n    \t\treturn executeStoredProcedure(builtSQL.toString(), inparms, outparms);\r\n    \t}\r\n    \t\r\n    \tpublic Map&lt;String, Object&gt; checkPrice(LinkedHashMap&lt;String, Object&gt; inparms, LinkedHashMap&lt;String, Object&gt; outparms){\r\n    \t\tlogger.debug(&quot;CheckPrcc Initiated&quot;);\r\n    \t\tStringBuilder builtSQL = new StringBuilder();\r\n    \t\tbuiltSQL.append(&quot;CALL &quot;);\r\n    \t\tbuiltSQL.append(&quot;checkprice &quot;);\r\n\r\n    // just generates our param string (?,?,?...) \r\n    builtSQL.append(DataUtilities.genParmPlaceholderStringFromTotal(inparms.size()+outparms.size()));\r\n    \r\n    \t\treturn executeStoredProcedure(builtSQL.toString(), inparms, outparms);\r\n    \t}\r\n    \r\n    }\r\n\r\n**BaseDAO.java**\r\n\r\n    public class BaseDAO{\r\n    \t@Autowired\r\n    \tprotected JdbcTemplate jdbcTemplate;\r\n        \t\r\n    \tprotected static final Logger logger = LoggerFactory.getLogger(BaseDAO.class);\r\n    \r\n    \tprotected Map&lt;String, Object&gt; executeStoredProcedure(String SQL, LinkedHashMap&lt;String, Object&gt; inParams, LinkedHashMap&lt;String, Object&gt; outParams){\r\n    \t\t\r\n    \t\tMap&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;();\r\n    \t\t\tList&lt;SqlParameter&gt; declaredParameters = new ArrayList&lt;SqlParameter&gt;();\r\n        \t\tfor (Map.Entry&lt;String, Object&gt; entry : inParams.entrySet()) {\r\n        \t\t\tdeclaredParameters.add(new SqlParameter(entry.getKey().toString(), Types.CHAR));\r\n        \t\t}\r\n        \t\tfor (Map.Entry&lt;String, Object&gt; entry : outParams.entrySet()) {\r\n        \t\t\tdeclaredParameters.add(new SqlOutParameter(entry.getKey().toString(), Types.CHAR));\r\n        \t\t}\r\n    \t        \r\n    \t       result = jdbcTemplate.call(new CallableStatementCreator() {\r\n    \t            public CallableStatement createCallableStatement(Connection connection)\r\n    \t            throws SQLException {\r\n    \t\t            CallableStatement callableStatement = connection.prepareCall(SQL);\r\n\r\n    \t\t    \t\tint index = 0;\r\n    \t\t    \t\tfor (Map.Entry&lt;String, Object&gt; entry : inParams.entrySet()) {\r\n    \t\t    \t\t\tindex++;\r\n    \t\t    \t\t\tcallableStatement.setString(index, entry.getValue().toString());\r\n    \t\t    \t\t}\r\n\r\n    \t\t    \t\tfor (Map.Entry&lt;String, Object&gt; entry : outParams.entrySet()) {\r\n    \t\t    \t\t\tindex++;\r\n    \t\t    \t\t\tcallableStatement.registerOutParameter(index, Types.CHAR);\t\r\n    \t\t    \t\t}\r\n    \t\t            return callableStatement;\r\n    \t\r\n    \t\t            }\r\n    \t            }, declaredParameters);\r\n\r\n    \t\treturn result;\r\n    \t}\r\n    \t\r\n    }\r\n\r\nMy service is invoked from my rest controller, which pass the args (if that matters). \r\n\r\nI&#39;ve been racking my brain and can&#39;t find any information regarding this issue. I&#39;m new to spring boot and Java. I don&#39;t believe i&#39;m doing something too egregious. ","title":"Out params not clearing on stored procedure call","body":"<p>My problem is as follows:</p>\n<p>My service loops over items that are passed as args. For each item, i make two calls. My first price call gives me 9999 which means nothing was returned. That's fine - that's possible. My stock call works perfectly and i get the correct stock value returned. On the second iteration, my price call returns the same value as the previous stock call.</p>\n<p>So, i get 9999 for price, then 150 for stock, then 150 for price. What's throwing me is that the price out parm is 6th, whereas the stock out parm is 8th. No idea how it would retain that value in a different position.</p>\n<p>It seems that my jdbctemplate isn't being cleared or it's storing previous out params. Here's the code involved:</p>\n<p><strong>MyService.java</strong></p>\n<pre><code>@Service\npublic class MyService extends BaseService implements MyInterface{\n    protected static final Logger logger = LoggerFactory.getLogger(MyService.class);\n\n    @Autowired\n    private MyDAO myDAO;\n    public myResponse checkOrder(args...)  \n    {  \n        for(something in args){\n                // PRICE\n                // Grab price data\n                LinkedHashMap&lt;String, Object&gt; priceCallInParams = new LinkedHashMap&lt;String, Object&gt;();\n                priceCallInParams .put(&quot;param1&quot;, &quot;param1val&quot;);\n                priceCallInParams .put(&quot;param2&quot;, &quot;param2val&quot;);\n                priceCallInParams .put(&quot;param3&quot;, &quot;param3val&quot;);\n                priceCallInParams .put(&quot;param4&quot;, &quot;param4val&quot;);\n                priceCallInParams .put(&quot;param5&quot;, &quot;param5val&quot;);\n\n                LinkedHashMap&lt;String, Object&gt; priceCallOutParams = new LinkedHashMap&lt;String, Object&gt;();\n                priceCallOutParams .put(&quot;price&quot;, &quot;0&quot;);\n\n                \n                logger.debug(&quot;Getting data...&quot;);\n                Map&lt;String, Object&gt; priceData = new HashMap&lt;String, Object&gt;();\n\n            \n                priceData = myDAO.checkPrice(priceCallInParams , priceCallOutParams );\n                \n                BigDecimal unitPrice = new BigDecimal(9999);\n                if (!priceData .get(&quot;PRCE&quot;).toString().trim().equals(&quot;&quot;)){\n                    unitPrice = new BigDecimal(priceData.get(&quot;PRCE&quot;).toString().trim());\n                }\n                System.out.println(&quot;PRC - &quot;+unitPrice);\n                \n                \n                // AVAILABLE STOCK\n                // Grab check stock data\n                LinkedHashMap&lt;String, Object&gt; checkStockInParms = new LinkedHashMap&lt;String, Object&gt;();\n                checkStockInParms.put(&quot;param1&quot;, &quot;param1val&quot;);\n                checkStockInParms.put(&quot;param2&quot;, &quot;param2val&quot;);\n                checkStockInParms.put(&quot;param3&quot;, &quot;param3val&quot;);\n                checkStockInParms.put(&quot;param4&quot;, &quot;param4val&quot;);\n                checkStockInParms.put(&quot;param5&quot;, &quot;param5val&quot;);\n                checkStockInParms.put(&quot;param6&quot;, &quot;param6val&quot;);\n                checkStockInParms.put(&quot;REQQTY&quot;, &quot;123&quot;);\n\n                LinkedHashMap&lt;String, Object&gt; checkStockOutParms = new LinkedHashMap&lt;String, Object&gt;();\n                checkStockOutParms .put(&quot;AVAILQTY&quot;, &quot;0&quot;);\n                checkStockOutParms .put(&quot;NEXTDUE&quot;,&quot; &quot;);\n                checkStockOutParms .put(&quot;NEXTQTY&quot;,&quot;0&quot;);\n\n                \n                logger.debug(&quot;Getting data...&quot;);\n                Map&lt;String, Object&gt; checkStockDat = new HashMap&lt;String, Object&gt;();\n\n                checkStockDat = myDAO.checkStock(checkStockInParms , checkStockOutParms );\n\n\n                \n                // Output quantity\n                int AvailQTY = Integer.valueOf(checkStockDat.get(&quot;AVAILQTY&quot;).toString().trim());\n                if (reqBIT.getRequestedQuantity()&gt;AvailQTY) {\n                    resBIT.setConfirmedQuantity(AvailQTY);\n                }\n                else {\n                    resBIT.setConfirmedQuantity(reqBIT.getRequestedQuantity());\n                }\n            }\n\n    }\n\n\n}\n</code></pre>\n<p><strong>MyDAO.java</strong></p>\n<pre><code>@Component\npublic class MyDAO extends BaseDAO{\n    protected static final Logger logger = LoggerFactory.getLogger(OrderDAO.class);\n\n    \n    public Map&lt;String, Object&gt; checkStock(LinkedHashMap&lt;String, Object&gt; inparms, LinkedHashMap&lt;String, Object&gt; outparms){\n        StringBuilder builtSQL = new StringBuilder();\n        builtSQL.append(&quot;CALL &quot;);\n        builtSQL.append(&quot;checkstock &quot;);\n        \n// just generates our param string (?,?,?...) \nbuiltSQL.append(DataUtilities.genParmPlaceholderStringFromTotal(inparms.size()+outparms.size()));\n        \n        return executeStoredProcedure(builtSQL.toString(), inparms, outparms);\n    }\n    \n    public Map&lt;String, Object&gt; checkPrice(LinkedHashMap&lt;String, Object&gt; inparms, LinkedHashMap&lt;String, Object&gt; outparms){\n        logger.debug(&quot;CheckPrcc Initiated&quot;);\n        StringBuilder builtSQL = new StringBuilder();\n        builtSQL.append(&quot;CALL &quot;);\n        builtSQL.append(&quot;checkprice &quot;);\n\n// just generates our param string (?,?,?...) \nbuiltSQL.append(DataUtilities.genParmPlaceholderStringFromTotal(inparms.size()+outparms.size()));\n\n        return executeStoredProcedure(builtSQL.toString(), inparms, outparms);\n    }\n\n}\n</code></pre>\n<p><strong>BaseDAO.java</strong></p>\n<pre><code>public class BaseDAO{\n    @Autowired\n    protected JdbcTemplate jdbcTemplate;\n        \n    protected static final Logger logger = LoggerFactory.getLogger(BaseDAO.class);\n\n    protected Map&lt;String, Object&gt; executeStoredProcedure(String SQL, LinkedHashMap&lt;String, Object&gt; inParams, LinkedHashMap&lt;String, Object&gt; outParams){\n        \n        Map&lt;String, Object&gt; result = new HashMap&lt;String, Object&gt;();\n            List&lt;SqlParameter&gt; declaredParameters = new ArrayList&lt;SqlParameter&gt;();\n            for (Map.Entry&lt;String, Object&gt; entry : inParams.entrySet()) {\n                declaredParameters.add(new SqlParameter(entry.getKey().toString(), Types.CHAR));\n            }\n            for (Map.Entry&lt;String, Object&gt; entry : outParams.entrySet()) {\n                declaredParameters.add(new SqlOutParameter(entry.getKey().toString(), Types.CHAR));\n            }\n            \n           result = jdbcTemplate.call(new CallableStatementCreator() {\n                public CallableStatement createCallableStatement(Connection connection)\n                throws SQLException {\n                    CallableStatement callableStatement = connection.prepareCall(SQL);\n\n                    int index = 0;\n                    for (Map.Entry&lt;String, Object&gt; entry : inParams.entrySet()) {\n                        index++;\n                        callableStatement.setString(index, entry.getValue().toString());\n                    }\n\n                    for (Map.Entry&lt;String, Object&gt; entry : outParams.entrySet()) {\n                        index++;\n                        callableStatement.registerOutParameter(index, Types.CHAR);  \n                    }\n                    return callableStatement;\n    \n                    }\n                }, declaredParameters);\n\n        return result;\n    }\n    \n}\n</code></pre>\n<p>My service is invoked from my rest controller, which pass the args (if that matters).</p>\n<p>I've been racking my brain and can't find any information regarding this issue. I'm new to spring boot and Java. I don't believe i'm doing something too egregious.</p>\n"},{"tags":["java","reflection","java-stream"],"answers":[{"tags":[],"owner":{"account_id":23959668,"reputation":26587,"user_id":17949945,"display_name":"Alexander Ivanchenko"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658495877,"creation_date":1658364282,"answer_id":73059513,"question_id":73059357,"body_markdown":"Well, if you really want you can access *no-args* constructor by invoking `getConstructor()` on the instance of `Class&lt;T&gt;` but it might throw `NoSuchMethodException` which is checked, and then invoke `newInstance()` which in turn throws a bunch of exceptions, dealing with them inside the lambda isn&#39;t a great idea, hence we need to extract this logic into a separate method.\r\n\r\nAnd that&#39;s how we can obtain instances of `Cat`, `Dog` and `Hamster` which are needed to create resulting `Participant` objects.\r\n\r\nThe method responsible for creating a new instance of `Animal` subtypes by the means of reflection might be written like this:\r\n\r\n    public static &lt;T extends Animal&gt; Animal createAnimal(Class&lt;T&gt; animalClass) {\r\n        try {\r\n            return animalClass.getConstructor().newInstance();\r\n        } catch (NoSuchMethodException e) {\r\n            e.printStackTrace();\r\n        } catch (InvocationTargetException e) {\r\n            e.printStackTrace();\r\n        } catch (InstantiationException e) {\r\n            e.printStackTrace();\r\n        } catch (IllegalAccessException e) {\r\n            e.printStackTrace();\r\n        }\r\n        throw new IllegalArgumentException(&quot;Unable create instance of &quot; + animalClass.getSimpleName());\r\n    }\r\n\r\nWhich looks scary, but in case if you want to see the full reflection-based solution [*it&#39;s here*](https://www.jdoodle.com/ia/tpx).\r\n\r\n&lt;h3&gt;Alternative Approach - defining an auxiliary Record&lt;/h3&gt;\r\n\r\nThere&#39;s a **better way**, than using reflection.\r\n\r\nAs *@Holger* has pointed out in the comments, we can define a [*record*](https://docs.oracle.com/en/java/javase/18/language/records.html) (or a class) which would wrap an instance of `Animal` and override `equals/hashCode` contract based on the class of animal.\r\n```\r\nrecord Key(Animal animal) {\r\n    @Override\r\n    public int hashCode() {\r\n        return animal.getClass().hashCode();\r\n    }\r\n    \r\n    @Override\r\n    public boolean equals(Object obj) {\r\n        return obj instanceof Key k &amp;&amp; k.animal.getClass() == animal.getClass();\r\n    }\r\n}\r\n```\r\n\r\nAnd then we can use this *record* to group *participants* by animal type inside the `groupingBy()`.\r\n\r\n```\r\nList&lt;Participant&gt; originalList = List.of(\r\n    new Participant(new Cat(), List.of(&quot;Leo&quot;)),\r\n    new Participant(new Cat(), List.of(&quot;Simba&quot;)),\r\n    new Participant(new Dog(), List.of(&quot;Charlie&quot;, &quot;Ralph&quot;)),\r\n    new Participant(new Dog(), List.of(&quot;Max&quot;)),\r\n    new Participant(new Hamster(), List.of(&quot;Snowy&quot;))\r\n);\r\n    \r\nList&lt;Participant&gt; resultList = originalList.stream()\r\n    .collect(Collectors.groupingBy(\r\n        participant -&gt; new Key(participant.getAnimal()),\r\n        Collectors.flatMapping(participant -&gt; participant.getNames().stream(),\r\n            Collectors.toList())\r\n        ))\r\n    .entrySet().stream()\r\n    .map(entry -&gt; new Participant(entry.getKey().animal(), entry.getValue()))\r\n    .collect(Collectors.toList());\r\n    \r\nresultList.forEach(System.out::println);\r\n```\r\n*Output:*\r\n```\r\nParticipant{animal=CAT, names=[Leo, Simba]}\r\nParticipant{animal=DOG, names=[Charlie, Ralph, Max]}\r\nParticipant{animal=HAMSTER, names=[Snowy]}\r\n```\r\n[*A link to Online Demo*](https://www.jdoodle.com/ia/ttb)\r\n\r\n&lt;h3&gt;Alternative Approach - changing the overall Class-Design&lt;/h3&gt;\r\n\r\nSince your classes `Cat`, `Dog` and `Hamster` completely luck attributes, you can substitute all as well as interface `Animal` with an **enum** (and even you&#39;ve provided a simplified code and these classes do have attributes, using dummy objects created via *no-args constructor* which are not really meant to represent particular instances of `Animal` doesn&#39;t look very clean, so you can have them both - your *classes* and the *enum*, and they will serve different purposes).\r\n\r\n```\r\nAnimal { CAT, DOG, HAMSTER }\r\n```\r\nAnd things would become more simpler:\r\n```\r\nList&lt;Participant&gt; originalList = List.of(\r\n    new Participant(Animal.CAT, List.of(&quot;Leo&quot;)),\r\n    new Participant(Animal.CAT, List.of(&quot;Simba&quot;)),\r\n    new Participant(Animal.DOG, List.of(&quot;Charlie&quot;, &quot;Ralph&quot;)),\r\n    new Participant(Animal.DOG, List.of(&quot;Max&quot;)),\r\n    new Participant(Animal.HAMSTER, List.of(&quot;Snowy&quot;))\r\n);\r\n    \r\nList&lt;Participant&gt; resultList = originalList.stream()\r\n    .collect(Collectors.groupingBy(Participant::getAnimal,\r\n        Collectors.flatMapping(participant -&gt; participant.getNames().stream(),\r\n            Collectors.toList())\r\n    ))\r\n    .entrySet().stream()\r\n    .map(entry -&gt; new Participant(entry.getKey(), entry.getValue()))\r\n    .collect(Collectors.toList());\r\n    \r\nresultList.forEach(System.out::println);\r\n```\r\n*Output:*\r\n```\r\nParticipant{animal=CAT, names=[Leo, Simba]}\r\nParticipant{animal=DOG, names=[Charlie, Ralph, Max]}\r\nParticipant{animal=HAMSTER, names=[Snowy]}\r\n```\r\n[*A link to Online Demo*](https://www.jdoodle.com/iembed/v0/tpw)","title":"Java-Stream - grouping by Class&lt;?&gt;","body":"<p>Well, if you really want you can access <em>no-args</em> constructor by invoking <code>getConstructor()</code> on the instance of <code>Class&lt;T&gt;</code> but it might throw <code>NoSuchMethodException</code> which is checked, and then invoke <code>newInstance()</code> which in turn throws a bunch of exceptions, dealing with them inside the lambda isn't a great idea, hence we need to extract this logic into a separate method.</p>\n<p>And that's how we can obtain instances of <code>Cat</code>, <code>Dog</code> and <code>Hamster</code> which are needed to create resulting <code>Participant</code> objects.</p>\n<p>The method responsible for creating a new instance of <code>Animal</code> subtypes by the means of reflection might be written like this:</p>\n<pre><code>public static &lt;T extends Animal&gt; Animal createAnimal(Class&lt;T&gt; animalClass) {\n    try {\n        return animalClass.getConstructor().newInstance();\n    } catch (NoSuchMethodException e) {\n        e.printStackTrace();\n    } catch (InvocationTargetException e) {\n        e.printStackTrace();\n    } catch (InstantiationException e) {\n        e.printStackTrace();\n    } catch (IllegalAccessException e) {\n        e.printStackTrace();\n    }\n    throw new IllegalArgumentException(&quot;Unable create instance of &quot; + animalClass.getSimpleName());\n}\n</code></pre>\n<p>Which looks scary, but in case if you want to see the full reflection-based solution <a href=\"https://www.jdoodle.com/ia/tpx\" rel=\"nofollow noreferrer\"><em>it's here</em></a>.</p>\n<h3>Alternative Approach - defining an auxiliary Record</h3>\n<p>There's a <strong>better way</strong>, than using reflection.</p>\n<p>As <em>@Holger</em> has pointed out in the comments, we can define a <a href=\"https://docs.oracle.com/en/java/javase/18/language/records.html\" rel=\"nofollow noreferrer\"><em>record</em></a> (or a class) which would wrap an instance of <code>Animal</code> and override <code>equals/hashCode</code> contract based on the class of animal.</p>\n<pre><code>record Key(Animal animal) {\n    @Override\n    public int hashCode() {\n        return animal.getClass().hashCode();\n    }\n    \n    @Override\n    public boolean equals(Object obj) {\n        return obj instanceof Key k &amp;&amp; k.animal.getClass() == animal.getClass();\n    }\n}\n</code></pre>\n<p>And then we can use this <em>record</em> to group <em>participants</em> by animal type inside the <code>groupingBy()</code>.</p>\n<pre><code>List&lt;Participant&gt; originalList = List.of(\n    new Participant(new Cat(), List.of(&quot;Leo&quot;)),\n    new Participant(new Cat(), List.of(&quot;Simba&quot;)),\n    new Participant(new Dog(), List.of(&quot;Charlie&quot;, &quot;Ralph&quot;)),\n    new Participant(new Dog(), List.of(&quot;Max&quot;)),\n    new Participant(new Hamster(), List.of(&quot;Snowy&quot;))\n);\n    \nList&lt;Participant&gt; resultList = originalList.stream()\n    .collect(Collectors.groupingBy(\n        participant -&gt; new Key(participant.getAnimal()),\n        Collectors.flatMapping(participant -&gt; participant.getNames().stream(),\n            Collectors.toList())\n        ))\n    .entrySet().stream()\n    .map(entry -&gt; new Participant(entry.getKey().animal(), entry.getValue()))\n    .collect(Collectors.toList());\n    \nresultList.forEach(System.out::println);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Participant{animal=CAT, names=[Leo, Simba]}\nParticipant{animal=DOG, names=[Charlie, Ralph, Max]}\nParticipant{animal=HAMSTER, names=[Snowy]}\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/ia/ttb\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n<h3>Alternative Approach - changing the overall Class-Design</h3>\n<p>Since your classes <code>Cat</code>, <code>Dog</code> and <code>Hamster</code> completely luck attributes, you can substitute all as well as interface <code>Animal</code> with an <strong>enum</strong> (and even you've provided a simplified code and these classes do have attributes, using dummy objects created via <em>no-args constructor</em> which are not really meant to represent particular instances of <code>Animal</code> doesn't look very clean, so you can have them both - your <em>classes</em> and the <em>enum</em>, and they will serve different purposes).</p>\n<pre><code>Animal { CAT, DOG, HAMSTER }\n</code></pre>\n<p>And things would become more simpler:</p>\n<pre><code>List&lt;Participant&gt; originalList = List.of(\n    new Participant(Animal.CAT, List.of(&quot;Leo&quot;)),\n    new Participant(Animal.CAT, List.of(&quot;Simba&quot;)),\n    new Participant(Animal.DOG, List.of(&quot;Charlie&quot;, &quot;Ralph&quot;)),\n    new Participant(Animal.DOG, List.of(&quot;Max&quot;)),\n    new Participant(Animal.HAMSTER, List.of(&quot;Snowy&quot;))\n);\n    \nList&lt;Participant&gt; resultList = originalList.stream()\n    .collect(Collectors.groupingBy(Participant::getAnimal,\n        Collectors.flatMapping(participant -&gt; participant.getNames().stream(),\n            Collectors.toList())\n    ))\n    .entrySet().stream()\n    .map(entry -&gt; new Participant(entry.getKey(), entry.getValue()))\n    .collect(Collectors.toList());\n    \nresultList.forEach(System.out::println);\n</code></pre>\n<p><em>Output:</em></p>\n<pre><code>Participant{animal=CAT, names=[Leo, Simba]}\nParticipant{animal=DOG, names=[Charlie, Ralph, Max]}\nParticipant{animal=HAMSTER, names=[Snowy]}\n</code></pre>\n<p><a href=\"https://www.jdoodle.com/iembed/v0/tpw\" rel=\"nofollow noreferrer\"><em>A link to Online Demo</em></a></p>\n"}],"owner":{"account_id":16773930,"reputation":1518,"user_id":12125755,"display_name":"NeverSleeps"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":354,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73059513,"answer_count":1,"score":0,"last_activity_date":1658495877,"creation_date":1658362068,"question_id":73059357,"body_markdown":"I have an interface `Animal` and several implementations of it:\r\n```java\r\ninterface Animal {}\r\n\r\nclass Cat implements Animal {}\r\n\r\nclass Dog implements Animal {}\r\n\r\nclass Hamster implements Animal {}\r\n\r\nclass Participant {\r\n  private Animal animal;\r\n  private List&lt;String&gt; names;\r\n}\r\n\r\n```\r\n\r\n\r\nI need to group `Animal` objects based on the class type (`Cat`/`Dog`/`Hamster`) and merge `names` lists using streams.\r\n\r\n*For example:*\r\n\r\nFrom `originalList` I need to get the `resultList`:\r\n```\r\n  List&lt;Participant&gt; originalList = List.of(\r\n      new Participant(new Cat(), List.of(&quot;Leo&quot;)),\r\n      new Participant(new Cat(), List.of(&quot;Simba&quot;)),\r\n      new Participant(new Dog(), List.of(&quot;Charlie&quot;, &quot;Ralph&quot;)),\r\n      new Participant(new Dog(), List.of(&quot;Max&quot;)),\r\n      new Participant(new Hamster(), List.of(&quot;Snowy&quot;))\r\n  );\r\n\r\n  List&lt;Participant&gt; resultList = List.of(\r\n      new Participant(new Cat(), List.of(&quot;Leo&quot;, &quot;Simba&quot;)),\r\n      new Participant(new Dog(), List.of(&quot;Charlie&quot;, &quot;Ralph&quot;, &quot;Max&quot;)),\r\n      new Participant(new Hamster(), List.of(&quot;Snowy&quot;))\r\n  );\r\n```\r\n\r\nI was only able to cast the list to a map, but I don&#39;t know how to further cast that to a list\r\n```java\r\nMap&lt;Class&lt;? extends Animal&gt;, List&lt;Participant&gt;&gt; result = list.stream()\r\n        .collect(Collectors.groupingBy(it -&gt; it.getAnimal().getClass()));\r\n```\r\n\r\n","title":"Java-Stream - grouping by Class&lt;?&gt;","body":"<p>I have an interface <code>Animal</code> and several implementations of it:</p>\n<pre class=\"lang-java prettyprint-override\"><code>interface Animal {}\n\nclass Cat implements Animal {}\n\nclass Dog implements Animal {}\n\nclass Hamster implements Animal {}\n\nclass Participant {\n  private Animal animal;\n  private List&lt;String&gt; names;\n}\n\n</code></pre>\n<p>I need to group <code>Animal</code> objects based on the class type (<code>Cat</code>/<code>Dog</code>/<code>Hamster</code>) and merge <code>names</code> lists using streams.</p>\n<p><em>For example:</em></p>\n<p>From <code>originalList</code> I need to get the <code>resultList</code>:</p>\n<pre><code>  List&lt;Participant&gt; originalList = List.of(\n      new Participant(new Cat(), List.of(&quot;Leo&quot;)),\n      new Participant(new Cat(), List.of(&quot;Simba&quot;)),\n      new Participant(new Dog(), List.of(&quot;Charlie&quot;, &quot;Ralph&quot;)),\n      new Participant(new Dog(), List.of(&quot;Max&quot;)),\n      new Participant(new Hamster(), List.of(&quot;Snowy&quot;))\n  );\n\n  List&lt;Participant&gt; resultList = List.of(\n      new Participant(new Cat(), List.of(&quot;Leo&quot;, &quot;Simba&quot;)),\n      new Participant(new Dog(), List.of(&quot;Charlie&quot;, &quot;Ralph&quot;, &quot;Max&quot;)),\n      new Participant(new Hamster(), List.of(&quot;Snowy&quot;))\n  );\n</code></pre>\n<p>I was only able to cast the list to a map, but I don't know how to further cast that to a list</p>\n<pre class=\"lang-java prettyprint-override\"><code>Map&lt;Class&lt;? extends Animal&gt;, List&lt;Participant&gt;&gt; result = list.stream()\n        .collect(Collectors.groupingBy(it -&gt; it.getAnimal().getClass()));\n</code></pre>\n"},{"tags":["java","libgdx","line","pixmap"],"comments":[{"owner":{"account_id":238127,"reputation":86162,"user_id":506796,"accept_rate":83,"display_name":"Tenfour04"},"score":1,"creation_date":1657912032,"post_id":72982543,"comment_id":128930920,"body_markdown":"If you want to mix ShapeRenderer into your scene drawn with SpriteBatch, you can call `end()` on the batch, do your ShapeRenderer drawing, then call `begin()` on the batch again. You don&#39;t need to worry about this breaking up your batching unless you&#39;re doing dozens of layers this way. Trying to do this with Pixmap would be the hard way, and also terrible for graphics performance because you would have to reload the texture every time you change the lines.","body":"If you want to mix ShapeRenderer into your scene drawn with SpriteBatch, you can call <code>end()</code> on the batch, do your ShapeRenderer drawing, then call <code>begin()</code> on the batch again. You don&#39;t need to worry about this breaking up your batching unless you&#39;re doing dozens of layers this way. Trying to do this with Pixmap would be the hard way, and also terrible for graphics performance because you would have to reload the texture every time you change the lines."},{"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"score":0,"creation_date":1657923658,"post_id":72982543,"comment_id":128933401,"body_markdown":"perfect it works yet the lines drawn seem to be moved away from the original path. Assuming i drew all the points with the batch, they matched the path i set for them but with the shaperenderer lines they have the same pattern but moved offset to the left. I am aware that wasnt well phrased so ill add an image to the question in an edit.","body":"perfect it works yet the lines drawn seem to be moved away from the original path. Assuming i drew all the points with the batch, they matched the path i set for them but with the shaperenderer lines they have the same pattern but moved offset to the left. I am aware that wasnt well phrased so ill add an image to the question in an edit."}],"answers":[{"tags":[],"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658495364,"creation_date":1658495364,"answer_id":73080901,"question_id":72982543,"body_markdown":"If anyone in the future may be interested, I found the solution and all I had to do was use `ShapeRender.setProjectionMatrix(cam.combined)` to sync it with the SpriteBatch.","title":"How to draw a line in LibGDX without ShapeRenderer","body":"<p>If anyone in the future may be interested, I found the solution and all I had to do was use <code>ShapeRender.setProjectionMatrix(cam.combined)</code> to sync it with the SpriteBatch.</p>\n"}],"owner":{"account_id":25800514,"reputation":78,"user_id":19543022,"display_name":"eisa.exe"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658495364,"creation_date":1657810357,"question_id":72982543,"body_markdown":"I am using LibGDX and have an ArrayList of multiple points which I want to connect. I am aware there are several methods with `ShapeRenderer` that work, however im running a SpriteBatch at the same time so what do I do now to draw a line with two Vectors. (If it exists, I&#39;d also like the function that draws multiple lines at once with an `&#192;rray` or `Vector2` as a parameter, though it isn&#39;t a problem as otherwise I&#39;d manage with a for-loop probably).\r\n\r\nI am also aware I can use Pixmaps but they don&#39;t seem to work correctly. Here is my attempt:\r\n```\r\n// point1 and point2 are of type Vector2\r\nPixmap pixmap = new Pixmap(point2.x - point1.x, 2, Pixmap.Format.RGBA8888);\r\npixmap.setColor(Color.WHITE);\r\npixmap.drawLine(point1.x, point1.y, point2.x, point2.y);\r\n```\r\n\r\nIn response to a possible solution that involves using `ShapeRenderer` at the same time, this problem arises (the second image uses the points with pixmaps, the first the ShapeRenderer with lines) \r\n[![With Shape Renderer:][1]][1]\r\n\r\n\r\n[![With SpriteBatch and Pixmap points][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/hkmEw.png\r\n  [2]: https://i.stack.imgur.com/9vMJt.png\r\n\r\nThe code used for the first image is the following:\r\n```\r\n\r\n        for(int i = 1; i &lt; dotPositions.size(); i++) {\r\n            sr.line(dotPositions.get(i-1), dotPositions.get(i));\r\n        }\r\n```\r\n\r\nThe code used for the second image is the following:\r\n```\r\n        Pixmap pixmap = new Pixmap(2, 2, Pixmap.Format.RGBA8888);\r\n        pixmap.setColor(Color.WHITE);\r\n        pixmap.fillCircle(2, 2, 2);\r\n        Texture texture = new Texture(pixmap);\r\n\r\n        for(int i = 1; i &lt; dotPositions.size(); i++) {\r\n            batch.draw(texture, dotPositions.get(i).x, dotPositions.get(i).y);\r\n        }\r\n```\r\nIn both cases `dotPositions` is an `ArrayList&lt;Vector2&gt;` with the same values.","title":"How to draw a line in LibGDX without ShapeRenderer","body":"<p>I am using LibGDX and have an ArrayList of multiple points which I want to connect. I am aware there are several methods with <code>ShapeRenderer</code> that work, however im running a SpriteBatch at the same time so what do I do now to draw a line with two Vectors. (If it exists, I'd also like the function that draws multiple lines at once with an <code>Àrray</code> or <code>Vector2</code> as a parameter, though it isn't a problem as otherwise I'd manage with a for-loop probably).</p>\n<p>I am also aware I can use Pixmaps but they don't seem to work correctly. Here is my attempt:</p>\n<pre><code>// point1 and point2 are of type Vector2\nPixmap pixmap = new Pixmap(point2.x - point1.x, 2, Pixmap.Format.RGBA8888);\npixmap.setColor(Color.WHITE);\npixmap.drawLine(point1.x, point1.y, point2.x, point2.y);\n</code></pre>\n<p>In response to a possible solution that involves using <code>ShapeRenderer</code> at the same time, this problem arises (the second image uses the points with pixmaps, the first the ShapeRenderer with lines)\n<a href=\"https://i.stack.imgur.com/hkmEw.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/hkmEw.png\" alt=\"With Shape Renderer:\" /></a></p>\n<p><a href=\"https://i.stack.imgur.com/9vMJt.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9vMJt.png\" alt=\"With SpriteBatch and Pixmap points\" /></a></p>\n<p>The code used for the first image is the following:</p>\n<pre><code>\n        for(int i = 1; i &lt; dotPositions.size(); i++) {\n            sr.line(dotPositions.get(i-1), dotPositions.get(i));\n        }\n</code></pre>\n<p>The code used for the second image is the following:</p>\n<pre><code>        Pixmap pixmap = new Pixmap(2, 2, Pixmap.Format.RGBA8888);\n        pixmap.setColor(Color.WHITE);\n        pixmap.fillCircle(2, 2, 2);\n        Texture texture = new Texture(pixmap);\n\n        for(int i = 1; i &lt; dotPositions.size(); i++) {\n            batch.draw(texture, dotPositions.get(i).x, dotPositions.get(i).y);\n        }\n</code></pre>\n<p>In both cases <code>dotPositions</code> is an <code>ArrayList&lt;Vector2&gt;</code> with the same values.</p>\n"},{"tags":["java","selenium","selenium-webdriver","xpath","webdriverwait"],"comments":[{"owner":{"account_id":11721760,"reputation":7343,"user_id":10216112,"display_name":"Himanshu Poddar"},"score":0,"creation_date":1658143430,"post_id":73021246,"comment_id":128969640,"body_markdown":"can you share the url of the page please @Sena","body":"can you share the url of the page please @Sena"},{"owner":{"account_id":732315,"reputation":4996,"user_id":681444,"display_name":"racraman"},"score":0,"creation_date":1658145209,"post_id":73021246,"comment_id":128970316,"body_markdown":"Here’s a few ideas : https://stackoverflow.com/questions/20903231/how-to-wait-until-an-element-is-present-in-selenium","body":"Here’s a few ideas : <a href=\"https://stackoverflow.com/questions/20903231/how-to-wait-until-an-element-is-present-in-selenium\" title=\"how to wait until an element is present in selenium\">stackoverflow.com/questions/20903231/&hellip;</a>"}],"answers":[{"tags":[],"owner":{"account_id":25834920,"reputation":1,"user_id":19571460,"display_name":"Pritesh Gethewale"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658142213,"creation_date":1658142196,"answer_id":73021307,"question_id":73021246,"body_markdown":"Try adding a wait of 2 ms between button and drop-down.","title":"How to click on the button with Java Selenium","body":"<p>Try adding a wait of 2 ms between button and drop-down.</p>\n"},{"tags":[],"owner":{"account_id":10049107,"reputation":186627,"user_id":7429447,"accept_rate":86,"display_name":"undetected Selenium"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658495064,"creation_date":1658495064,"answer_id":73080829,"question_id":73021246,"body_markdown":"Once you click and expand the [tag:dropdown] further to [_click()_](https://stackoverflow.com/a/70077251/7429447) on the desired `&lt;li&gt;` element with text as **T&#252;m Soru Tipleri** you need to induce [WebDriverWait](https://stackoverflow.com/a/48990165/7429447) for the [_elementToBeClickable()_](https://stackoverflow.com/a/63301869/7429447) and you can use the following [_locator strategy_](https://stackoverflow.com/a/48056120/7429447):\r\n\r\n- Using _xpath_ and `text()`:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[@class=&#39;select2-results&#39;]/ul[@id=&#39;select2-question_types-sq-results&#39;]//li[text()=&#39;T&#252;m Soru Tipleri&#39;]&quot;))).click();\r\n\t  \r\n- Using _xpath_ and `contains()`:\r\n\r\n\t  new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[@class=&#39;select2-results&#39;]/ul[@id=&#39;select2-question_types-sq-results&#39;]//li[contains(., &#39;T&#252;m Soru Tipleri&#39;)]&quot;))).click();","title":"How to click on the button with Java Selenium","body":"<p>Once you click and expand the <a href=\"/questions/tagged/dropdown\" class=\"post-tag\" title=\"show questions tagged &#39;dropdown&#39;\" rel=\"tag\">dropdown</a> further to <a href=\"https://stackoverflow.com/a/70077251/7429447\"><em>click()</em></a> on the desired <code>&lt;li&gt;</code> element with text as <strong>Tüm Soru Tipleri</strong> you need to induce <a href=\"https://stackoverflow.com/a/48990165/7429447\">WebDriverWait</a> for the <a href=\"https://stackoverflow.com/a/63301869/7429447\"><em>elementToBeClickable()</em></a> and you can use the following <a href=\"https://stackoverflow.com/a/48056120/7429447\"><em>locator strategy</em></a>:</p>\n<ul>\n<li><p>Using <em>xpath</em> and <code>text()</code>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[@class='select2-results']/ul[@id='select2-question_types-sq-results']//li[text()='Tüm Soru Tipleri']&quot;))).click();\n</code></pre>\n</li>\n<li><p>Using <em>xpath</em> and <code>contains()</code>:</p>\n<pre><code>new WebDriverWait(driver, Duration.ofSeconds(10)).until(ExpectedConditions.elementToBeClickable(By.xpath(&quot;//span[@class='select2-results']/ul[@id='select2-question_types-sq-results']//li[contains(., 'Tüm Soru Tipleri')]&quot;))).click();\n</code></pre>\n</li>\n</ul>\n"}],"owner":{"account_id":21745829,"reputation":41,"user_id":16052521,"display_name":"Sena"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":169,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":2,"score":-1,"last_activity_date":1658495064,"creation_date":1658141817,"question_id":73021246,"body_markdown":"I am trying to click the button first which I did and then the dropdown menu element which is **T&#252;m Soru Tipleri** automatically in Selenium Java.\r\n\r\nThis one is didn&#39;t work:\r\n\r\n    driver.findElement(By.id(&quot;select2-question_types-sq-result-xih0--1&quot;)).click();\r\n\r\nCould you help? \r\n\r\nHTML snapshot:\r\n\r\n[![enter image description here][1]][1]\r\n\r\nElement snapshot:\r\n\r\n[![enter image description here][2]][2]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/9kw5V.png\r\n  [2]: https://i.stack.imgur.com/GouXp.jpg","title":"How to click on the button with Java Selenium","body":"<p>I am trying to click the button first which I did and then the dropdown menu element which is <strong>Tüm Soru Tipleri</strong> automatically in Selenium Java.</p>\n<p>This one is didn't work:</p>\n<pre><code>driver.findElement(By.id(&quot;select2-question_types-sq-result-xih0--1&quot;)).click();\n</code></pre>\n<p>Could you help?</p>\n<p>HTML snapshot:</p>\n<p><a href=\"https://i.stack.imgur.com/9kw5V.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/9kw5V.png\" alt=\"enter image description here\" /></a></p>\n<p>Element snapshot:</p>\n<p><a href=\"https://i.stack.imgur.com/GouXp.jpg\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/GouXp.jpg\" alt=\"enter image description here\" /></a></p>\n"},{"tags":["java","spring","spring-boot","maven","spring-boot-maven-plugin"],"comments":[{"owner":{"account_id":1665858,"reputation":2523,"user_id":1533273,"accept_rate":83,"display_name":"clD"},"score":0,"creation_date":1608739445,"post_id":65427175,"comment_id":115672374,"body_markdown":"How are you running maven? It looks like that project has a maven wrapper i.e. `mvnw.cmd` in the zip are you running `./mvnw.cmd clean install` or unix `./mvnw clean install` from the root where it was extracted","body":"How are you running maven? It looks like that project has a maven wrapper i.e. <code>mvnw.cmd</code> in the zip are you running <code>.&#47;mvnw.cmd clean install</code> or unix <code>.&#47;mvnw clean install</code> from the root where it was extracted"},{"owner":{"account_id":14215995,"reputation":23,"user_id":12912345,"display_name":"Natan Martins Nouzanadam"},"score":0,"creation_date":1608930482,"post_id":65427175,"comment_id":115715583,"body_markdown":"yes maven! already ran the mvn command clean install qur also returns me an error","body":"yes maven! already ran the mvn command clean install qur also returns me an error"},{"owner":{"account_id":1665858,"reputation":2523,"user_id":1533273,"accept_rate":83,"display_name":"clD"},"score":0,"creation_date":1608934710,"post_id":65427175,"comment_id":115716399,"body_markdown":"Have you tried adding the   \n`&lt;pluginRepositories&gt;\n        &lt;pluginRepository&gt;\n            &lt;id&gt;repository.spring.release&lt;/id&gt;\n            &lt;name&gt;Spring GA Repository&lt;/name&gt;\n            &lt;url&gt;https://repo.spring.io/plugins-release/&lt;/url&gt;\n        &lt;/pluginRepository&gt;\n    &lt;/pluginRepositories&gt;` \nto the pom.xml. The lookup for `spring-boot-starter-parent` could be failing.","body":"Have you tried adding the    <code>&lt;pluginRepositories&gt;         &lt;pluginRepository&gt;             &lt;id&gt;repository.spring.release&lt;&#47;id&gt;             &lt;name&gt;Spring GA Repository&lt;&#47;name&gt;             &lt;url&gt;https:&#47;&#47;repo.spring.io&#47;plugins-release&#47;&lt;&#47;url&gt;         &lt;&#47;pluginRepository&gt;     &lt;&#47;pluginRepositories&gt;</code>  to the pom.xml. The lookup for <code>spring-boot-starter-parent</code> could be failing."}],"answers":[{"tags":[],"owner":{"account_id":8468080,"reputation":31,"user_id":6351673,"display_name":"Dorothy"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1609439961,"creation_date":1609336942,"answer_id":65508215,"question_id":65427175,"body_markdown":"I&#39;ve gotten your build to work, but I had to make some compromises.\r\n\r\nI looked at the Spring documentation for what you are trying:\r\n\r\nhttps://spring.io/guides/gs/rest-service/\r\n\r\nThen I looked at the pom.xml for the example:\r\n\r\nhttps://github.com/spring-guides/gs-rest-service/blob/master/complete/pom.xml\r\n\r\nDespite the fact that the documentation says you can use Java 1.8 or higher, you need to use 1.8. If you go higher, you have to specify the property encoding in the plugin, and you can&#39;t do that because you are using the Spring Boot plugin rather than a plugin you can configure in the pom.xml for your project.\r\n\r\nI also added a lower version of the maven-surefire-plugin than Spring Boot uses. With this version, you get the error `[ERROR] There are test failures`, but you are not running any tests. \r\n\r\nI commented out the MySql and JPA dependencies, which won&#39;t work unless you have database connection settings.\r\n\r\n```&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;net.javaguides&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-restful-webservice&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-boot-restful-webservice&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;1.8&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n &lt;!-- \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n --&gt;\t\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n  \r\n  &lt;!--  \r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n--&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t\t&lt;exclusions&gt;\r\n\t\t\t\t&lt;exclusion&gt;\r\n\t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n\t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n\t\t\t\t&lt;/exclusion&gt;\r\n\t\t\t&lt;/exclusions&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t\t&lt;plugin&gt;\r\n        \t\t&lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       \t\t \t&lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n        \t\t&lt;version&gt;2.5&lt;/version&gt;\r\n            \t&lt;configuration&gt;\r\n                \t&lt;skipTests&gt;false&lt;/skipTests&gt;\r\n                \t&lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\r\n                \t&lt;forkMode&gt;once&lt;/forkMode&gt;\r\n            \t&lt;/configuration&gt;\r\n\t\t\t&lt;/plugin&gt;\t\t\t\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n&lt;/project&gt;\r\n```\r\n","title":"Maven - Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.4.1:run","body":"<p>I've gotten your build to work, but I had to make some compromises.</p>\n<p>I looked at the Spring documentation for what you are trying:</p>\n<p><a href=\"https://spring.io/guides/gs/rest-service/\" rel=\"nofollow noreferrer\">https://spring.io/guides/gs/rest-service/</a></p>\n<p>Then I looked at the pom.xml for the example:</p>\n<p><a href=\"https://github.com/spring-guides/gs-rest-service/blob/master/complete/pom.xml\" rel=\"nofollow noreferrer\">https://github.com/spring-guides/gs-rest-service/blob/master/complete/pom.xml</a></p>\n<p>Despite the fact that the documentation says you can use Java 1.8 or higher, you need to use 1.8. If you go higher, you have to specify the property encoding in the plugin, and you can't do that because you are using the Spring Boot plugin rather than a plugin you can configure in the pom.xml for your project.</p>\n<p>I also added a lower version of the maven-surefire-plugin than Spring Boot uses. With this version, you get the error <code>[ERROR] There are test failures</code>, but you are not running any tests.</p>\n<p>I commented out the MySql and JPA dependencies, which won't work unless you have database connection settings.</p>\n<pre><code>&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;net.javaguides&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-restful-webservice&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-boot-restful-webservice&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;1.8&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n &lt;!-- \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n --&gt;    \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n  \n  &lt;!--  \n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n--&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n                &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n                &lt;version&gt;2.5&lt;/version&gt;\n                &lt;configuration&gt;\n                    &lt;skipTests&gt;false&lt;/skipTests&gt;\n                    &lt;testFailureIgnore&gt;true&lt;/testFailureIgnore&gt;\n                    &lt;forkMode&gt;once&lt;/forkMode&gt;\n                &lt;/configuration&gt;\n            &lt;/plugin&gt;           \n        &lt;/plugins&gt;\n    &lt;/build&gt;\n&lt;/project&gt;\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5281693,"reputation":702,"user_id":4216826,"display_name":"mumbasa"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1656525154,"creation_date":1656525154,"answer_id":72805869,"question_id":65427175,"body_markdown":"In my case i was running the jar file when i was activated maven install. The made it unable to delete and create a new jar as one was already running. After i quit running the jar file. I was able to build the project. sometimes reading error messages helps","title":"Maven - Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.4.1:run","body":"<p>In my case i was running the jar file when i was activated maven install. The made it unable to delete and create a new jar as one was already running. After i quit running the jar file. I was able to build the project. sometimes reading error messages helps</p>\n"},{"tags":[],"owner":{"account_id":242306,"reputation":2966,"user_id":513729,"display_name":"Youssef"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658494827,"creation_date":1658494827,"answer_id":73080771,"question_id":65427175,"body_markdown":"Try to read well the exception log in cli, after executing your &quot;mvn spring-boot:run&quot; command.\r\nIt can be a due to \r\n\r\n- a connection with your DB, for example mysql not started\r\n\r\n- Or started but the DB name is not correct in your application.properties file e.g. java.sql.SQLSyntaxErrorException: Unknown database\r\n\r\n- Or even the password used of the db user is not correct in the application.properties file: e.g Caused by: java.sql.SQLNonTransientConnectionException: Public Key Retrieval is not allowed\r\n\r\nso analyze first your logs before modifying java version, xml elements in the plugin ... \r\n\r\nNormally this follwing generic pom.xml is enough to have maven running successfully your tomcat server (embedded in spring boot):\r\n\r\n    &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n    &lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\r\n    \txmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n    \txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n    \t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n    \t&lt;parent&gt;\r\n    \t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n    \t\t&lt;version&gt;2.7.2&lt;/version&gt;\r\n    \t\t&lt;relativePath /&gt;\r\n    \t&lt;/parent&gt;\r\n    \t&lt;groupId&gt;com.example&lt;/groupId&gt;\r\n    \t&lt;artifactId&gt;demo&lt;/artifactId&gt;\r\n    \t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n    \t&lt;name&gt;demo&lt;/name&gt;\r\n    \t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n    \t&lt;properties&gt;\r\n    \t\t&lt;java.version&gt;17&lt;/java.version&gt;\r\n    \t&lt;/properties&gt;\r\n    \t&lt;dependencies&gt;\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t\t\r\n    \t\t&lt;dependency&gt;\r\n    \t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n    \t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n    \t\t\t&lt;exclusions&gt;\r\n    \t\t\t\t&lt;exclusion&gt;\r\n    \t\t\t\t\t&lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\r\n    \t\t\t\t\t&lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\r\n    \t\t\t\t&lt;/exclusion&gt;\r\n    \t\t\t&lt;/exclusions&gt;\r\n    \t\t&lt;/dependency&gt;\r\n    \t&lt;/dependencies&gt;\r\n    \r\n    \t&lt;build&gt;\r\n    \t\t&lt;plugins&gt;\r\n    \t\t\t&lt;plugin&gt;\r\n    \t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n    \t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n    \t\t\t&lt;/plugin&gt;\r\n    \t\t&lt;/plugins&gt;\r\n    \t&lt;/build&gt;\r\n    \r\n    &lt;/project&gt;\r\n\r\n","title":"Maven - Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.4.1:run","body":"<p>Try to read well the exception log in cli, after executing your &quot;mvn spring-boot:run&quot; command.\nIt can be a due to</p>\n<ul>\n<li><p>a connection with your DB, for example mysql not started</p>\n</li>\n<li><p>Or started but the DB name is not correct in your application.properties file e.g. java.sql.SQLSyntaxErrorException: Unknown database</p>\n</li>\n<li><p>Or even the password used of the db user is not correct in the application.properties file: e.g Caused by: java.sql.SQLNonTransientConnectionException: Public Key Retrieval is not allowed</p>\n</li>\n</ul>\n<p>so analyze first your logs before modifying java version, xml elements in the plugin ...</p>\n<p>Normally this follwing generic pom.xml is enough to have maven running successfully your tomcat server (embedded in spring boot):</p>\n<pre><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;\n    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.7.2&lt;/version&gt;\n        &lt;relativePath /&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;com.example&lt;/groupId&gt;\n    &lt;artifactId&gt;demo&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;demo&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n    &lt;properties&gt;\n        &lt;java.version&gt;17&lt;/java.version&gt;\n    &lt;/properties&gt;\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        \n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n            &lt;exclusions&gt;\n                &lt;exclusion&gt;\n                    &lt;groupId&gt;org.junit.vintage&lt;/groupId&gt;\n                    &lt;artifactId&gt;junit-vintage-engine&lt;/artifactId&gt;\n                &lt;/exclusion&gt;\n            &lt;/exclusions&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n"}],"owner":{"account_id":14215995,"reputation":23,"user_id":12912345,"display_name":"Natan Martins Nouzanadam"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10626,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":3,"score":2,"last_activity_date":1658494827,"creation_date":1608738967,"question_id":65427175,"body_markdown":"I created my project at https://start.spring.io/  \r\nSeveral errors on the internet are similar but did not solve my problem.\r\n\r\nwhen executing it I found an error return:  \r\n&gt; Failed to execute goal org.springframework.boot: spring-boot-maven-plugin: 2.4.1: run\r\n\r\n**Here are my POM and main file main**\r\n\r\nPOM:\r\n~~~xml\r\n&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\r\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\r\n\txsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\r\n\t&lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\r\n\t&lt;parent&gt;\r\n\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t&lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\r\n\t\t&lt;version&gt;2.4.1&lt;/version&gt;\r\n\t\t&lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\r\n\t&lt;/parent&gt;\r\n\t&lt;groupId&gt;net.javaguides&lt;/groupId&gt;\r\n\t&lt;artifactId&gt;spring-boot-restfull-webservice&lt;/artifactId&gt;\r\n\t&lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\r\n\t&lt;name&gt;spring-boot-restfull-webservice&lt;/name&gt;\r\n\t&lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\r\n\r\n\t&lt;properties&gt;\r\n\t\t&lt;java.version&gt;11&lt;/java.version&gt;\r\n\t&lt;/properties&gt;\r\n\r\n\t&lt;dependencies&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\r\n\t\t&lt;/dependency&gt;\r\n\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;mysql&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;runtime&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t\t&lt;dependency&gt;\r\n\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t&lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\r\n\t\t\t&lt;scope&gt;test&lt;/scope&gt;\r\n\t\t&lt;/dependency&gt;\r\n\t&lt;/dependencies&gt;\r\n\r\n\t&lt;build&gt;\r\n\t\t&lt;plugins&gt;\r\n\t\t\t&lt;plugin&gt;\r\n\t\t\t\t&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\r\n\t\t\t\t&lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\r\n\t\t\t&lt;/plugin&gt;\r\n\t\t&lt;/plugins&gt;\r\n\t&lt;/build&gt;\r\n\r\n&lt;/project&gt;\r\n~~~\r\nClass:\r\n~~~java\r\npackage net.javaguides.springboot;\r\n\r\nimport org.springframework.boot.SpringApplication;\r\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\r\n\r\n@SpringBootApplication\r\npublic class SpringBootRestfullWebserviceApplication {\r\n\r\n\tpublic static void main(String[] args) {\r\n\t\tSpringApplication.run(SpringBootRestfullWebserviceApplication.class, args);\r\n\t}\r\n}\r\n~~~\r\nI&#39;m new to Springboot, how do I fix it?","title":"Maven - Failed to execute goal org.springframework.boot:spring-boot-maven-plugin:2.4.1:run","body":"<p>I created my project at <a href=\"https://start.spring.io/\" rel=\"nofollow noreferrer\">https://start.spring.io/</a><br />\nSeveral errors on the internet are similar but did not solve my problem.</p>\n<p>when executing it I found an error return:</p>\n<blockquote>\n<p>Failed to execute goal org.springframework.boot: spring-boot-maven-plugin: 2.4.1: run</p>\n</blockquote>\n<p><strong>Here are my POM and main file main</strong></p>\n<p>POM:</p>\n<pre class=\"lang-xml prettyprint-override\"><code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;\n    xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&gt;\n    &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;\n    &lt;parent&gt;\n        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;\n        &lt;version&gt;2.4.1&lt;/version&gt;\n        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;\n    &lt;/parent&gt;\n    &lt;groupId&gt;net.javaguides&lt;/groupId&gt;\n    &lt;artifactId&gt;spring-boot-restfull-webservice&lt;/artifactId&gt;\n    &lt;version&gt;0.0.1-SNAPSHOT&lt;/version&gt;\n    &lt;name&gt;spring-boot-restfull-webservice&lt;/name&gt;\n    &lt;description&gt;Demo project for Spring Boot&lt;/description&gt;\n\n    &lt;properties&gt;\n        &lt;java.version&gt;11&lt;/java.version&gt;\n    &lt;/properties&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-data-jpa&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;\n        &lt;/dependency&gt;\n\n        &lt;dependency&gt;\n            &lt;groupId&gt;mysql&lt;/groupId&gt;\n            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;\n            &lt;scope&gt;runtime&lt;/scope&gt;\n        &lt;/dependency&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;\n            &lt;scope&gt;test&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n\n    &lt;build&gt;\n        &lt;plugins&gt;\n            &lt;plugin&gt;\n                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;\n                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;\n            &lt;/plugin&gt;\n        &lt;/plugins&gt;\n    &lt;/build&gt;\n\n&lt;/project&gt;\n</code></pre>\n<p>Class:</p>\n<pre class=\"lang-java prettyprint-override\"><code>package net.javaguides.springboot;\n\nimport org.springframework.boot.SpringApplication;\nimport org.springframework.boot.autoconfigure.SpringBootApplication;\n\n@SpringBootApplication\npublic class SpringBootRestfullWebserviceApplication {\n\n    public static void main(String[] args) {\n        SpringApplication.run(SpringBootRestfullWebserviceApplication.class, args);\n    }\n}\n</code></pre>\n<p>I'm new to Springboot, how do I fix it?</p>\n"},{"tags":["java","bitflags"],"comments":[{"owner":{"account_id":344788,"reputation":860,"user_id":677300,"display_name":"Broatian"},"score":0,"creation_date":1659125518,"post_id":32160379,"comment_id":129227287,"body_markdown":"Shouldn&#39;t that be `NO_FLAGS = 0`?","body":"Shouldn&#39;t that be <code>NO_FLAGS = 0</code>?"},{"owner":{"account_id":1804682,"reputation":32958,"user_id":1642079,"accept_rate":89,"display_name":"Chad Bingham"},"score":0,"creation_date":1659370273,"post_id":32160379,"comment_id":129273345,"body_markdown":"@Broatian No. Flags indicate bitwise operations. NO_FLAGS will clear all flags - hence `~`","body":"@Broatian No. Flags indicate bitwise operations. NO_FLAGS will clear all flags - hence <code>~</code>"}],"answers":[{"tags":[],"owner":{"account_id":6822526,"reputation":180,"user_id":5249225,"display_name":"Jason Bullers"},"down_vote_count":0,"up_vote_count":9,"is_accepted":true,"score":9,"last_activity_date":1440277010,"creation_date":1440277010,"answer_id":32160715,"question_id":32160379,"body_markdown":"I don&#39;t think you&#39;ll be able to query it like that at runtime. Your `@MysterFlags` annotation has a retention policy of `SOURCE`, which means it will be discarded by the compiler. Further, the `@IntDef` annotation has a retention policy of `CLASS`, which means it makes it through compile, but won&#39;t make it to runtime. That&#39;s why you are only seeing the `@Retention` annotation in your first loop (that annotation has a retention policy of `RUNTIME`).","title":"Iterate through values in @IntDef, @StringDef or any @Def class","body":"<p>I don't think you'll be able to query it like that at runtime. Your <code>@MysterFlags</code> annotation has a retention policy of <code>SOURCE</code>, which means it will be discarded by the compiler. Further, the <code>@IntDef</code> annotation has a retention policy of <code>CLASS</code>, which means it makes it through compile, but won't make it to runtime. That's why you are only seeing the <code>@Retention</code> annotation in your first loop (that annotation has a retention policy of <code>RUNTIME</code>).</p>\n"},{"tags":[],"owner":{"account_id":2329609,"reputation":904,"user_id":2043352,"display_name":"cmota"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1555339983,"creation_date":1555339983,"answer_id":55691855,"question_id":32160379,"body_markdown":"Well, this might be a bit old now - but I had a similar problem and the solution that I&#39;ve found was:\r\n\r\n    MysteryFlags.class.getDeclaredFields()\r\n\r\nIt will return all the definitions declared.","title":"Iterate through values in @IntDef, @StringDef or any @Def class","body":"<p>Well, this might be a bit old now - but I had a similar problem and the solution that I've found was:</p>\n\n<pre><code>MysteryFlags.class.getDeclaredFields()\n</code></pre>\n\n<p>It will return all the definitions declared.</p>\n"},{"tags":[],"owner":{"account_id":9325818,"reputation":1005,"user_id":6923171,"display_name":"Julius"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1575475953,"creation_date":1575475126,"answer_id":59180027,"question_id":32160379,"body_markdown":"A **compromise** can be made if we declare our fields within the `@interface` itself.\r\n\r\n    @Retention(RetentionPolicy.SOURCE)\r\n    @IntDef({MysteryFlags.NO_FLAGS, MysteryFlags.FIRST_FLAG, MysteryFlags.SECOND_FLAG, MysteryFlags.THIRD_FLAG, MysteryFlags.FOURTH_FLAG})\r\n    public @interface MysteryFlags {\r\n\r\n        // Note that all fields declared in an interface are implicitly public static final\r\n        int NO_FLAGS = ~0;\r\n        int FIRST_FLAG = 1;\r\n        int SECOND_FLAG = 1 &lt;&lt; 1;\r\n        int THIRD_FLAG = 1 &lt;&lt; 2;\r\n        int FOURTH_FLAG = 1 &lt;&lt; 3;\r\n    }\r\n\r\nWhen calling `getFields()` on `MisteryFlags.class`, all fields declared in the annotation are returned.\r\n\r\nHowever, this means that any fields in the `@interface` that are not defined within the `@IntDef` will also be returned. IMO, this can work great if implemented by following a strict protocol.","title":"Iterate through values in @IntDef, @StringDef or any @Def class","body":"<p>A <strong>compromise</strong> can be made if we declare our fields within the <code>@interface</code> itself.</p>\n\n<pre><code>@Retention(RetentionPolicy.SOURCE)\n@IntDef({MysteryFlags.NO_FLAGS, MysteryFlags.FIRST_FLAG, MysteryFlags.SECOND_FLAG, MysteryFlags.THIRD_FLAG, MysteryFlags.FOURTH_FLAG})\npublic @interface MysteryFlags {\n\n    // Note that all fields declared in an interface are implicitly public static final\n    int NO_FLAGS = ~0;\n    int FIRST_FLAG = 1;\n    int SECOND_FLAG = 1 &lt;&lt; 1;\n    int THIRD_FLAG = 1 &lt;&lt; 2;\n    int FOURTH_FLAG = 1 &lt;&lt; 3;\n}\n</code></pre>\n\n<p>When calling <code>getFields()</code> on <code>MisteryFlags.class</code>, all fields declared in the annotation are returned.</p>\n\n<p>However, this means that any fields in the <code>@interface</code> that are not defined within the <code>@IntDef</code> will also be returned. IMO, this can work great if implemented by following a strict protocol.</p>\n"},{"tags":[],"owner":{"account_id":4601602,"reputation":1989,"user_id":3732187,"display_name":"Vansuita Jr."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658494634,"creation_date":1658494634,"answer_id":73080718,"question_id":32160379,"body_markdown":"\r\nThis is how you can iterate over. Don&#39;t forget about Retention RUNTIME!\r\n\r\n\r\n    class MyClassOfMystery {\r\n    \r\n        init {\r\n            //How to iterate over Mysteries companion object\r\n            Mysteries::class.java.declaredFields.map { it[0] }.filterIsInstance&lt;String&gt;()\r\n        }\r\n    \r\n        @Retention(AnnotationRetention.RUNTIME)\r\n        @StringDef(KING_ARTHUR, BIMINI_ROAD, NAZCA_LINES, STONEHENGE)\r\n        annotation class Mysteries {\r\n            companion object {\r\n                const val KING_ARTHUR = &quot;king_arthur&quot;\r\n                const val BIMINI_ROAD = &quot;bimini_road&quot;\r\n                const val NAZCA_LINES = &quot;nazca_lines&quot;\r\n                const val STONEHENGE = &quot;stonehenge&quot;\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n[![enter image description here][1]][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/npnQL.png","title":"Iterate through values in @IntDef, @StringDef or any @Def class","body":"<p>This is how you can iterate over. Don't forget about Retention RUNTIME!</p>\n<pre><code>class MyClassOfMystery {\n\n    init {\n        //How to iterate over Mysteries companion object\n        Mysteries::class.java.declaredFields.map { it[0] }.filterIsInstance&lt;String&gt;()\n    }\n\n    @Retention(AnnotationRetention.RUNTIME)\n    @StringDef(KING_ARTHUR, BIMINI_ROAD, NAZCA_LINES, STONEHENGE)\n    annotation class Mysteries {\n        companion object {\n            const val KING_ARTHUR = &quot;king_arthur&quot;\n            const val BIMINI_ROAD = &quot;bimini_road&quot;\n            const val NAZCA_LINES = &quot;nazca_lines&quot;\n            const val STONEHENGE = &quot;stonehenge&quot;\n        }\n    }\n}\n</code></pre>\n<p><a href=\"https://i.stack.imgur.com/npnQL.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/npnQL.png\" alt=\"enter image description here\" /></a></p>\n"}],"owner":{"account_id":1804682,"reputation":32958,"user_id":1642079,"accept_rate":89,"display_name":"Chad Bingham"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":7964,"favorite_count":0,"down_vote_count":0,"up_vote_count":13,"accepted_answer_id":32160715,"answer_count":4,"score":13,"last_activity_date":1658494634,"creation_date":1440274720,"question_id":32160379,"body_markdown":"Consider this class:\r\n\r\n    public class MyClassOfMystery {\r\n    \r\n    \tpublic static final int NO_FLAGS = ~0;\r\n    \tpublic static final int FIRST_FLAG = 1;\r\n    \tpublic static final int SECOND_FLAG = 1 &lt;&lt; 1;\r\n    \tpublic static final int THIRD_FLAG = 1 &lt;&lt; 2;\r\n    \tpublic static final int FOURTH_FLAG = 1 &lt;&lt; 3;\r\n    \r\n    \t@Retention(RetentionPolicy.SOURCE)\r\n    \t@IntDef(flag = true, value = {NO_FLAGS, FIRST_FLAG, SECOND_FLAG, THIRD_FLAG, FOURTH_FLAG})\r\n    \tpublic @interface MysteryFlags { }\r\n    \r\n       ... set flags, get flags, and use flags stuff.\r\n    }\r\n\r\n\r\nI have often created something like this, and found that it would be useful to be able to iterate through all flags available in `MysteryFlags`.  \r\n\r\n**Can I iterate through my values set in `MysteryFlags`?** \r\n\r\nThis is what I have tried:\r\n\r\n\r\n------\r\n\r\nThis printed `ANNOTATION: @java.lang.annotation.Retention(value=SOURCE)`:\r\n\r\n    for (Annotation annotation : Flag.class.getAnnotations()) {\r\n       Log.d(TAG, String.format(&quot;ANNOTATION: %s&quot;, String.valueOf(annotation)));\r\n    }\r\n\r\n\r\n------\r\nThis threw NPE on a null Array access\r\n\r\n    for (ExtraAction enm : Flag.class.getEnumConstants()) {\r\n       Log.d(TAG, String.format(&quot;ENUM: %s&quot;, String.valueOf(enm)));\r\n    }\r\n\r\n------\r\n\r\nThese did not print anything out:\r\n\r\n    for (Field field : Flag.class.getFields()) {\r\n       Log.d(TAG, String.format(&quot;FIELD: %s&quot;, String.valueOf(field)));\r\n    }\r\nand\r\n\r\n\tfor (Class&lt;?&gt; aClass : ExtraAction.class.getClasses()) {\r\n\t\t\tLog.d(TAG, String.format(&quot;CLASS: %s&quot;, String.valueOf(aClass)));\r\n\t}\r\n\r\n------\r\n\r\nI know I can just add the values to an array and iterate through that, but that requires storing another array. It is what I have done, but still wonder if there is a better way.","title":"Iterate through values in @IntDef, @StringDef or any @Def class","body":"<p>Consider this class:</p>\n\n<pre><code>public class MyClassOfMystery {\n\n    public static final int NO_FLAGS = ~0;\n    public static final int FIRST_FLAG = 1;\n    public static final int SECOND_FLAG = 1 &lt;&lt; 1;\n    public static final int THIRD_FLAG = 1 &lt;&lt; 2;\n    public static final int FOURTH_FLAG = 1 &lt;&lt; 3;\n\n    @Retention(RetentionPolicy.SOURCE)\n    @IntDef(flag = true, value = {NO_FLAGS, FIRST_FLAG, SECOND_FLAG, THIRD_FLAG, FOURTH_FLAG})\n    public @interface MysteryFlags { }\n\n   ... set flags, get flags, and use flags stuff.\n}\n</code></pre>\n\n<p>I have often created something like this, and found that it would be useful to be able to iterate through all flags available in <code>MysteryFlags</code>.  </p>\n\n<p><strong>Can I iterate through my values set in <code>MysteryFlags</code>?</strong> </p>\n\n<p>This is what I have tried:</p>\n\n<hr>\n\n<p>This printed <code>ANNOTATION: @java.lang.annotation.Retention(value=SOURCE)</code>:</p>\n\n<pre><code>for (Annotation annotation : Flag.class.getAnnotations()) {\n   Log.d(TAG, String.format(\"ANNOTATION: %s\", String.valueOf(annotation)));\n}\n</code></pre>\n\n<hr>\n\n<p>This threw NPE on a null Array access</p>\n\n<pre><code>for (ExtraAction enm : Flag.class.getEnumConstants()) {\n   Log.d(TAG, String.format(\"ENUM: %s\", String.valueOf(enm)));\n}\n</code></pre>\n\n<hr>\n\n<p>These did not print anything out:</p>\n\n<pre><code>for (Field field : Flag.class.getFields()) {\n   Log.d(TAG, String.format(\"FIELD: %s\", String.valueOf(field)));\n}\n</code></pre>\n\n<p>and</p>\n\n<pre><code>for (Class&lt;?&gt; aClass : ExtraAction.class.getClasses()) {\n        Log.d(TAG, String.format(\"CLASS: %s\", String.valueOf(aClass)));\n}\n</code></pre>\n\n<hr>\n\n<p>I know I can just add the values to an array and iterate through that, but that requires storing another array. It is what I have done, but still wonder if there is a better way.</p>\n"},{"tags":["java","performance","jmeter","jmeter-plugins","jmeter-5.0"],"answers":[{"tags":[],"owner":{"account_id":3460456,"reputation":162728,"user_id":2897748,"display_name":"Dmitri T"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658494470,"creation_date":1658494470,"answer_id":73080682,"question_id":73080394,"body_markdown":"As per [documentation][1]:\r\n\r\n&gt;The dashboard generator is a modular extension of JMeter. Its default behavior is to read and process samples from **CSV files** to generate HTML files containing graph views\r\n\r\nWhich means that you won&#39;t be able to generate the dashboard from the [.jtl results file][2] in XML format. \r\n\r\n\r\nso you need to remove this bit:\r\n\r\n    -e -o/Users/lipsa_priyadarshini/Desktop/awsmigration/HTML/report1\r\n\r\nfrom your command line, in this case the `log.xml` will have the details you&#39;re looking for. \r\n\r\nIf you need both the ability to generate the HTML Reporting Dashboard and store headers and response data consider adding a listener, i.e. [Simple Data Writer][3] to your test plan and configure where and what to store:\r\n\r\n[![enter image description here][4]][4]\r\n\r\nMore information: [How to Save Response Data in JMeter][5]\r\n\r\n\r\n  [1]: https://jmeter.apache.org/usermanual/generating-dashboard.html\r\n  [2]: https://cwiki.apache.org/confluence/display/jmeter/JtlFiles\r\n  [3]: https://jmeter.apache.org/usermanual/component_reference.html#Simple_Data_Writer\r\n  [4]: https://i.stack.imgur.com/g0cet.png\r\n  [5]: https://www.blazemeter.com/blog/response-data-in-jmeter","title":"Unable to get report with Response Data_Response Header and Request header in xml format using Jmeter","body":"<p>As per <a href=\"https://jmeter.apache.org/usermanual/generating-dashboard.html\" rel=\"nofollow noreferrer\">documentation</a>:</p>\n<blockquote>\n<p>The dashboard generator is a modular extension of JMeter. Its default behavior is to read and process samples from <strong>CSV files</strong> to generate HTML files containing graph views</p>\n</blockquote>\n<p>Which means that you won't be able to generate the dashboard from the <a href=\"https://cwiki.apache.org/confluence/display/jmeter/JtlFiles\" rel=\"nofollow noreferrer\">.jtl results file</a> in XML format.</p>\n<p>so you need to remove this bit:</p>\n<pre><code>-e -o/Users/lipsa_priyadarshini/Desktop/awsmigration/HTML/report1\n</code></pre>\n<p>from your command line, in this case the <code>log.xml</code> will have the details you're looking for.</p>\n<p>If you need both the ability to generate the HTML Reporting Dashboard and store headers and response data consider adding a listener, i.e. <a href=\"https://jmeter.apache.org/usermanual/component_reference.html#Simple_Data_Writer\" rel=\"nofollow noreferrer\">Simple Data Writer</a> to your test plan and configure where and what to store:</p>\n<p><a href=\"https://i.stack.imgur.com/g0cet.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/g0cet.png\" alt=\"enter image description here\" /></a></p>\n<p>More information: <a href=\"https://www.blazemeter.com/blog/response-data-in-jmeter\" rel=\"nofollow noreferrer\">How to Save Response Data in JMeter</a></p>\n"}],"owner":{"account_id":21589072,"reputation":1,"user_id":15919013,"display_name":"Lipsa test"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":195,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658494470,"creation_date":1658493023,"question_id":73080394,"body_markdown":"i am running jmeter test through non-gui mode and i want to view response data, response header and request header in my Log File.\r\n\r\nTherefore i have change the below properties in jmeter.properties file \r\n\r\n```\r\njmeter.save.saveservice.responseHeader=true\r\njmeter.save.saveservice.requestHeader=true\r\njmeter.save.saveservice.output_format=xml\r\njmeter.save.saveservice.response_data=true\r\n```\r\nBut after running the Jmeter Test through command Line,it is not running and through the below error:\r\n\r\n&gt; Jmeter version: 5:4:3\r\n\r\n\r\n&gt; Java Version:1.8.0_292\r\n\r\n```\r\n ./jmeter  -Jgroup1.threads=1 -Jgroup1.rampup=1 -Jgroup1.loop=1 -n -t /Users/lipsa_priyadarshini/MDE_Engage-Engage_Performance_Test/Kerg-Postgresql-Performance-Test.jmx  -l /Users/lipsa_priyadarshini/Desktop/awsmigration/JmeterTestLogs/log.xml -e -o/Users/lipsa_priyadarshini/Desktop/awsmigration/HTML/report1\r\nCreating summariser &lt;summary&gt;Error in NonGUIDriver java.lang.IllegalArgumentException: Report generation requires csv output format, check &#39;jmeter.save.saveservice.output_format&#39; property\r\nAn error occurred: Error in NonGUIDriver Report generation requires csv output format, check &#39;jmeter.save.saveservice.output_format&#39; property\r\n```\r\n\r\nNote: When this output format property is commented out in properties file `#jmeter.save.saveservice.output_format=xml` and by passing path of log file with .xml extension , it creates xml file but does not include response data, response body, response header even if the property is true in the file. \r\nTherefore as per my observation we can see the data, body in log file when we will set output format file as true but its not alllowing here.\r\n\r\ncan anyone debug the issue and let me know the resolution.","title":"Unable to get report with Response Data_Response Header and Request header in xml format using Jmeter","body":"<p>i am running jmeter test through non-gui mode and i want to view response data, response header and request header in my Log File.</p>\n<p>Therefore i have change the below properties in jmeter.properties file</p>\n<pre><code>jmeter.save.saveservice.responseHeader=true\njmeter.save.saveservice.requestHeader=true\njmeter.save.saveservice.output_format=xml\njmeter.save.saveservice.response_data=true\n</code></pre>\n<p>But after running the Jmeter Test through command Line,it is not running and through the below error:</p>\n<blockquote>\n<p>Jmeter version: 5:4:3</p>\n</blockquote>\n<blockquote>\n<p>Java Version:1.8.0_292</p>\n</blockquote>\n<pre><code> ./jmeter  -Jgroup1.threads=1 -Jgroup1.rampup=1 -Jgroup1.loop=1 -n -t /Users/lipsa_priyadarshini/MDE_Engage-Engage_Performance_Test/Kerg-Postgresql-Performance-Test.jmx  -l /Users/lipsa_priyadarshini/Desktop/awsmigration/JmeterTestLogs/log.xml -e -o/Users/lipsa_priyadarshini/Desktop/awsmigration/HTML/report1\nCreating summariser &lt;summary&gt;Error in NonGUIDriver java.lang.IllegalArgumentException: Report generation requires csv output format, check 'jmeter.save.saveservice.output_format' property\nAn error occurred: Error in NonGUIDriver Report generation requires csv output format, check 'jmeter.save.saveservice.output_format' property\n</code></pre>\n<p>Note: When this output format property is commented out in properties file <code>#jmeter.save.saveservice.output_format=xml</code> and by passing path of log file with .xml extension , it creates xml file but does not include response data, response body, response header even if the property is true in the file.\nTherefore as per my observation we can see the data, body in log file when we will set output format file as true but its not alllowing here.</p>\n<p>can anyone debug the issue and let me know the resolution.</p>\n"},{"tags":["python","java","android","shared-libraries","disassembly"],"owner":{"account_id":25870395,"reputation":11,"user_id":19601394,"display_name":"henrydatei"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":175,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658494433,"creation_date":1658494433,"question_id":73080674,"body_markdown":"I have a shared library (libnative-lib.so) extracted from an [Android App][1] that provides a function `salt()`. The return of this function is a salt for a SHA256 hash used for an API and I want to build my own API wrapper. So the goal for me is to either extract the salt from the library (maybe not the best idea since my wrapper is breaking if they change the salt and I have to do the whole thing again) or to load this library into my API wrapper and calling the function directly from the library.\r\n\r\nI have already &quot;decompiled&quot; the App (unzip the .apk, &quot;converting&quot; the .dex files to .jar files and opening them with JD-GUI) and found the class where the library is loaded (the library also provides some other keys/salts/functions, I removed them for better readability):\r\n```java\r\npackage de.veedapp.veed.entities;\r\n\r\npublic final class Keys {\r\n  public static final Keys INSTANCE = new Keys();\r\n  \r\n  static {\r\n    System.loadLibrary(&quot;native-lib&quot;);\r\n  }\r\n  \r\n  public final String getKey() {\r\n    return apiKey();\r\n  }\r\n  \r\n  public final String getSalt() {\r\n    return salt();\r\n  }\r\n  \r\n  public final native String apiKey();\r\n  \r\n  public final native String apiKeyST();\r\n  \r\n  public final native String salt();\r\n  \r\n  public final native String saltST();\r\n}\r\n\r\n```\r\n\r\nSince I&#39;m writing my API wrapper in Python I want to load the libnative-lib.so in Python:\r\n```python\r\nfrom ctypes import cdll\r\n\r\nmylib = cdll.LoadLibrary(&#39;./libnative-lib.so&#39;)\r\n\r\nprint(mylib.Java_de_veedapp_veed_entities_Keys_salt())\r\n```\r\nI have also discovered that the library has some requirements, it searches for libm.so and other libraries, so I downloaded all these libs from [this repo][2]. Putting all the libraries into the same folder and placing the python script mentioned above inside this folder too, I got a segmentation fault (core dumped) error.\r\n\r\nIf it helps, I disassembled the library with [onlinedisassembler.com][3] (there I got the function name `Java_de_veedapp_veed_entities_Keys_salt()` from). A friend of mine also tried to load this library with C and got the same error (his [repo][4]).\r\n\r\nI would be really happy if someone could help me!\r\n\r\n\r\n  [1]: https://play.google.com/store/apps/details?id=de.veedapp.veed&amp;gl=US\r\n  [2]: https://github.com/EdgeApp/android-ndk-linux/tree/master/platforms/android-24/arch-x86_64/usr/lib64\r\n  [3]: https://onlinedisassembler.com/odaweb/WF2B9ZBs\r\n  [4]: https://github.com/cl0rm/SaltCaller","title":"Loading someone else&#39;s shared library gives a segmentation fault","body":"<p>I have a shared library (libnative-lib.so) extracted from an <a href=\"https://play.google.com/store/apps/details?id=de.veedapp.veed&amp;gl=US\" rel=\"nofollow noreferrer\">Android App</a> that provides a function <code>salt()</code>. The return of this function is a salt for a SHA256 hash used for an API and I want to build my own API wrapper. So the goal for me is to either extract the salt from the library (maybe not the best idea since my wrapper is breaking if they change the salt and I have to do the whole thing again) or to load this library into my API wrapper and calling the function directly from the library.</p>\n<p>I have already &quot;decompiled&quot; the App (unzip the .apk, &quot;converting&quot; the .dex files to .jar files and opening them with JD-GUI) and found the class where the library is loaded (the library also provides some other keys/salts/functions, I removed them for better readability):</p>\n<pre class=\"lang-java prettyprint-override\"><code>package de.veedapp.veed.entities;\n\npublic final class Keys {\n  public static final Keys INSTANCE = new Keys();\n  \n  static {\n    System.loadLibrary(&quot;native-lib&quot;);\n  }\n  \n  public final String getKey() {\n    return apiKey();\n  }\n  \n  public final String getSalt() {\n    return salt();\n  }\n  \n  public final native String apiKey();\n  \n  public final native String apiKeyST();\n  \n  public final native String salt();\n  \n  public final native String saltST();\n}\n\n</code></pre>\n<p>Since I'm writing my API wrapper in Python I want to load the libnative-lib.so in Python:</p>\n<pre class=\"lang-py prettyprint-override\"><code>from ctypes import cdll\n\nmylib = cdll.LoadLibrary('./libnative-lib.so')\n\nprint(mylib.Java_de_veedapp_veed_entities_Keys_salt())\n</code></pre>\n<p>I have also discovered that the library has some requirements, it searches for libm.so and other libraries, so I downloaded all these libs from <a href=\"https://github.com/EdgeApp/android-ndk-linux/tree/master/platforms/android-24/arch-x86_64/usr/lib64\" rel=\"nofollow noreferrer\">this repo</a>. Putting all the libraries into the same folder and placing the python script mentioned above inside this folder too, I got a segmentation fault (core dumped) error.</p>\n<p>If it helps, I disassembled the library with <a href=\"https://onlinedisassembler.com/odaweb/WF2B9ZBs\" rel=\"nofollow noreferrer\">onlinedisassembler.com</a> (there I got the function name <code>Java_de_veedapp_veed_entities_Keys_salt()</code> from). A friend of mine also tried to load this library with C and got the same error (his <a href=\"https://github.com/cl0rm/SaltCaller\" rel=\"nofollow noreferrer\">repo</a>).</p>\n<p>I would be really happy if someone could help me!</p>\n"},{"tags":["java","cryptography"],"answers":[{"tags":[],"owner":{"account_id":288696,"reputation":91230,"user_id":589259,"accept_rate":82,"display_name":"Maarten Bodewes"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1351630225,"creation_date":1351630225,"answer_id":13147385,"question_id":13144732,"body_markdown":"Just cast the key to a more specialized type...\r\n\r\n    DHPublicKey localKey = (DHPublicKey) keyPair1.getPublic();\r\n    BigInteger localY = localKey.getY();\r\n\r\nOf course, if you haven&#39;t agreed on pre-defined parameters you may want to retrieve the parameters from the `localKey` as well.","title":"How to get not encoded public value bytes from PublicKey","body":"<p>Just cast the key to a more specialized type...</p>\n\n<pre><code>DHPublicKey localKey = (DHPublicKey) keyPair1.getPublic();\nBigInteger localY = localKey.getY();\n</code></pre>\n\n<p>Of course, if you haven't agreed on pre-defined parameters you may want to retrieve the parameters from the <code>localKey</code> as well.</p>\n"}],"owner":{"account_id":71228,"reputation":1805,"user_id":205943,"accept_rate":65,"display_name":"Dainius"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":324,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":13147385,"answer_count":1,"score":0,"last_activity_date":1658494014,"creation_date":1351619029,"question_id":13144732,"body_markdown":"I have a small program that starts by exchanging session key for communication and for that it use Diffie-Hellman key agreement.\r\nIn Java first part is done like this:\r\n\r\n    KeyPairGenerator keyPairGenerator1 = KeyPairGenerator.getInstance(&quot;DH&quot;);\r\n    keyPairGenerator1.initialize(Skip.sDHParameterSpec);\r\n    KeyPair keyPair1 = keyPairGenerator1.generateKeyPair();\r\n    byte[] localKey1 = keyPair1.getPublic().getEncoded();\r\n    KeyAgreement keyAgreement1 = KeyAgreement.getInstance(&quot;DH&quot;);\r\n    keyAgreement1.init(keyPair1.getPrivate());\r\n    // getting remote key \r\n    keyAgreement1.doPhase(theirPublicKey2, true);\r\n    byte[] sharedKey1 = keyAgreement1.generateSecret();\r\n\r\nthen localKey is sent to the remote part, who sends back they part of data for calculation DH shared key.\r\nProblem, another program expects to get row data (big integer), and from java program I sent X509 encoded. \r\n\r\nSo how can I get that BigInteger (local Y value of DH protocol) from PublicKey? \r\nOr maybe there&#39;s another way to generate necessary DH parameters?","title":"How to get not encoded public value bytes from PublicKey","body":"<p>I have a small program that starts by exchanging session key for communication and for that it use Diffie-Hellman key agreement.\nIn Java first part is done like this:</p>\n<pre><code>KeyPairGenerator keyPairGenerator1 = KeyPairGenerator.getInstance(&quot;DH&quot;);\nkeyPairGenerator1.initialize(Skip.sDHParameterSpec);\nKeyPair keyPair1 = keyPairGenerator1.generateKeyPair();\nbyte[] localKey1 = keyPair1.getPublic().getEncoded();\nKeyAgreement keyAgreement1 = KeyAgreement.getInstance(&quot;DH&quot;);\nkeyAgreement1.init(keyPair1.getPrivate());\n// getting remote key \nkeyAgreement1.doPhase(theirPublicKey2, true);\nbyte[] sharedKey1 = keyAgreement1.generateSecret();\n</code></pre>\n<p>then localKey is sent to the remote part, who sends back they part of data for calculation DH shared key.\nProblem, another program expects to get row data (big integer), and from java program I sent X509 encoded.</p>\n<p>So how can I get that BigInteger (local Y value of DH protocol) from PublicKey?\nOr maybe there's another way to generate necessary DH parameters?</p>\n"},{"tags":["java","android","api","internals","sim-toolkit"],"owner":{"account_id":7474743,"reputation":11,"user_id":5681497,"display_name":"Totuyaki"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":223,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658493991,"creation_date":1450174319,"question_id":34286359,"body_markdown":"I am working on a project where the client wants to make automatic tests of UI components (e.g. using Appium or UI Automator), the project is based on the SIM Toolkit.\r\n\r\nThe aim is to test if GUI components are displayed (thanks to commands sent to a SIM applet). \r\n\r\nHowever, the system does not permit to check if objects from internal APIs are displayed (basically a SIM Menu).\r\n\r\nMy question is: how can I test these internal objects automaticaly? Is there a flag I can pull down to say to the system &quot;hey let me test this component you try to hide&quot; ? Basically I guess the system does not allow to handle these components for security reasons.\r\n\r\n","title":"Debug Android internal API about Sim Toolkit and UI","body":"<p>I am working on a project where the client wants to make automatic tests of UI components (e.g. using Appium or UI Automator), the project is based on the SIM Toolkit.</p>\n<p>The aim is to test if GUI components are displayed (thanks to commands sent to a SIM applet).</p>\n<p>However, the system does not permit to check if objects from internal APIs are displayed (basically a SIM Menu).</p>\n<p>My question is: how can I test these internal objects automaticaly? Is there a flag I can pull down to say to the system &quot;hey let me test this component you try to hide&quot; ? Basically I guess the system does not allow to handle these components for security reasons.</p>\n"},{"tags":["javascript","java","selenium","pageobjects"],"answers":[{"tags":[],"owner":{"account_id":3388857,"reputation":1889,"user_id":2844215,"display_name":"IMParasharG"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1547223134,"creation_date":1547223134,"answer_id":54150209,"question_id":54149786,"body_markdown":"Initialize the Javascript Executor  in the constructor\r\n\r\n        public class CustomerLogin{\r\n        \r\n        WebDriver driver;\r\n        JavascriptExecutor executor;\r\n        \r\n        \r\n        public CustomerLogin(WebDriver driver) {\r\n            this.driver = driver;\r\n            this.executor = (JavascriptExecutor) this.driver;\r\n            PageFactory.initElements(driver, this);\r\n            }\r\n        \t\r\n        @FindBy(xpath = &quot;//*@id=\\&quot;loginPage\\&quot;]/div[2]/div/div/div[1]/form/div[3]/div/input[1]&quot;)\r\n        private WebElement loginButton\r\n        \r\n        //method, for clicking loginButton  with JS Executor\r\n        public void clickLoginButton() {\r\n            executor.executeScript(&quot;arguments[0].click();&quot;, loginButton);\r\n        }\r\n    }\r\n\r\n","title":"How do you execute javascript element using PageObjects and @FindBy in java selenium","body":"<p>Initialize the Javascript Executor  in the constructor</p>\n\n<pre><code>    public class CustomerLogin{\n\n    WebDriver driver;\n    JavascriptExecutor executor;\n\n\n    public CustomerLogin(WebDriver driver) {\n        this.driver = driver;\n        this.executor = (JavascriptExecutor) this.driver;\n        PageFactory.initElements(driver, this);\n        }\n\n    @FindBy(xpath = \"//*@id=\\\"loginPage\\\"]/div[2]/div/div/div[1]/form/div[3]/div/input[1]\")\n    private WebElement loginButton\n\n    //method, for clicking loginButton  with JS Executor\n    public void clickLoginButton() {\n        executor.executeScript(\"arguments[0].click();\", loginButton);\n    }\n}\n</code></pre>\n"}],"owner":{"account_id":9214546,"reputation":33,"user_id":8753134,"display_name":"Ballard321"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":868,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":54150209,"answer_count":1,"score":2,"last_activity_date":1658493275,"creation_date":1547221648,"question_id":54149786,"body_markdown":"I am creating page objects for navigating through a site and refactoring hashed together Java project. I have a piece of code which invokes a JavaScript button. However, I can&#39;t work out how to set this up to be used in page object format with `@FindBy`\r\n\r\nCurrent page object is:\r\n\r\n \r\n\r\n    public CustomerLogin(WebDriver driver) {\r\n            PageFactory.initElements(driver, this);\r\n        }\r\n    \r\n    \r\n        @FindBy(how = How.ID, using = &quot;username&quot;)\r\n        private WebElement userName;\r\n    \r\n        @FindBy(how = How.ID, using = &quot;password&quot;)\r\n        private WebElement password;\r\n    \r\n        @FindBy(how = How.XPATH, using = &quot;//*[@id=\\\\\\&quot;loginPage\\\\\\&quot;]/div[2]/div/div/div[1]/form/div[3]/div/input[1]&quot;)\r\n        private WebElement login;\r\n    \r\n        public void logIn(String userName, String password) {\r\n            this.userName.sendKeys(userName);\r\n            this.password.sendKeys(password);\r\n    \r\n    }}\r\n\r\nThe part that I can&#39;t get in is:\r\n\r\n    WebElement element = webDriver.findElement(By.xpath(&quot;//*@id=\\&quot;loginPage\\&quot;]/div[2]/div/div/div[1]/form/div[3]/div/input[1]&quot;));\r\n\r\n    JavascriptExecutor executor = (JavascriptExecutor) webDriver;\r\n    executor.executeScript(&quot;arguments[0].click();&quot;, element);\r\n\r\nThis works if I put it in the test script but can&#39;t work out how to convert that into a page object version.\r\n\r\n\r\n\r\n\r\n","title":"How do you execute javascript element using PageObjects and @FindBy in java selenium","body":"<p>I am creating page objects for navigating through a site and refactoring hashed together Java project. I have a piece of code which invokes a JavaScript button. However, I can't work out how to set this up to be used in page object format with <code>@FindBy</code></p>\n\n<p>Current page object is:</p>\n\n<pre><code>public CustomerLogin(WebDriver driver) {\n        PageFactory.initElements(driver, this);\n    }\n\n\n    @FindBy(how = How.ID, using = \"username\")\n    private WebElement userName;\n\n    @FindBy(how = How.ID, using = \"password\")\n    private WebElement password;\n\n    @FindBy(how = How.XPATH, using = \"//*[@id=\\\\\\\"loginPage\\\\\\\"]/div[2]/div/div/div[1]/form/div[3]/div/input[1]\")\n    private WebElement login;\n\n    public void logIn(String userName, String password) {\n        this.userName.sendKeys(userName);\n        this.password.sendKeys(password);\n\n}}\n</code></pre>\n\n<p>The part that I can't get in is:</p>\n\n<pre><code>WebElement element = webDriver.findElement(By.xpath(\"//*@id=\\\"loginPage\\\"]/div[2]/div/div/div[1]/form/div[3]/div/input[1]\"));\n\nJavascriptExecutor executor = (JavascriptExecutor) webDriver;\nexecutor.executeScript(\"arguments[0].click();\", element);\n</code></pre>\n\n<p>This works if I put it in the test script but can't work out how to convert that into a page object version.</p>\n"},{"tags":["java","android"],"comments":[{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658493377,"post_id":73080012,"comment_id":129071338,"body_markdown":"[This](https://stackoverflow.com/questions/72362055/problem-in-positioning-two-row-layouts-one-below-each-other-with-multiview-recyc/72419542#72419542) answer might help you. Questions are different but the answer includes a possible answer for your problem too.","body":"<a href=\"https://stackoverflow.com/questions/72362055/problem-in-positioning-two-row-layouts-one-below-each-other-with-multiview-recyc/72419542#72419542\">This</a> answer might help you. Questions are different but the answer includes a possible answer for your problem too."},{"owner":{"account_id":25835130,"reputation":3,"user_id":19571652,"display_name":"java296642"},"score":0,"creation_date":1658494014,"post_id":73080012,"comment_id":129071556,"body_markdown":"@Kozmotronik I don&#39;t want to Override onResume() method and put update code inside onResume because every time onResume called the data gets updated. If The data is not changed, it is not necessary to update. Update must called whenever the data change happened. Let&#39;s say I press the home button and open the app again, here why RecyclerView gets updated when RecyclerView hasn&#39;t been changed?","body":"@Kozmotronik I don&#39;t want to Override onResume() method and put update code inside onResume because every time onResume called the data gets updated. If The data is not changed, it is not necessary to update. Update must called whenever the data change happened. Let&#39;s say I press the home button and open the app again, here why RecyclerView gets updated when RecyclerView hasn&#39;t been changed?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658494614,"post_id":73080012,"comment_id":129071746,"body_markdown":"Hmm I see, How do you manage your sqlite database operations? Do you use a database helper for example? Also give some details about your application structure ie. where do you list the data, where do you get the data from user etc.","body":"Hmm I see, How do you manage your sqlite database operations? Do you use a database helper for example? Also give some details about your application structure ie. where do you list the data, where do you get the data from user etc."},{"owner":{"account_id":25835130,"reputation":3,"user_id":19571652,"display_name":"java296642"},"score":0,"creation_date":1658495694,"post_id":73080012,"comment_id":129072182,"body_markdown":"@Kozmotronik this is my example https://stackoverflow.com/questions/72362055/problem-in-positioning-two-row-layouts-one-below-each-other-with-multiview-recyc#72419542","body":"@Kozmotronik this is my example <a href=\"https://stackoverflow.com/questions/72362055/problem-in-positioning-two-row-layouts-one-below-each-other-with-multiview-recyc#72419542\" title=\"problem in positioning two row layouts one below each other with multiview recyc%2372419542\">stackoverflow.com/questions/72362055/&hellip;</a>"},{"owner":{"account_id":25835130,"reputation":3,"user_id":19571652,"display_name":"java296642"},"score":0,"creation_date":1658496280,"post_id":73080012,"comment_id":129072435,"body_markdown":"@Kozmotronik  I want to improve app,  if the data hasn&#39;t changed I don&#39;t want to update RecyclerView even onResume(); get called. I want a listener to listen to the changes of sqlite data, if data hasn&#39;t change then don&#39;t call notifyDatasetChanged.","body":"@Kozmotronik  I want to improve app,  if the data hasn&#39;t changed I don&#39;t want to update RecyclerView even onResume(); get called. I want a listener to listen to the changes of sqlite data, if data hasn&#39;t change then don&#39;t call notifyDatasetChanged."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658496699,"post_id":73080012,"comment_id":129072614,"body_markdown":"If you really care about the performance you shouldn&#39;t use notifydatachanged at all. I woud suggest you to use [Room](https://developer.android.com/training/data-storage/room) along with [DiffUtil](https://developer.android.com/reference/androidx/recyclerview/widget/DiffUtil) to make changes in more granularity and thus improve the performance unless you use sqlite obligatory.","body":"If you really care about the performance you shouldn&#39;t use notifydatachanged at all. I woud suggest you to use <a href=\"https://developer.android.com/training/data-storage/room\" rel=\"nofollow noreferrer\">Room</a> along with <a href=\"https://developer.android.com/reference/androidx/recyclerview/widget/DiffUtil\" rel=\"nofollow noreferrer\">DiffUtil</a> to make changes in more granularity and thus improve the performance unless you use sqlite obligatory."},{"owner":{"account_id":25835130,"reputation":3,"user_id":19571652,"display_name":"java296642"},"score":0,"creation_date":1658497137,"post_id":73080012,"comment_id":129072794,"body_markdown":"@Kozmotronik So what you mean is, if I use SQLite there is no other otption either call onResume(); and updae data during onResume or restart the activity.","body":"@Kozmotronik So what you mean is, if I use SQLite there is no other otption either call onResume(); and updae data during onResume or restart the activity."},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658498399,"post_id":73080012,"comment_id":129073355,"body_markdown":"Not exactly. There are other options and other ways. For example it can be resolved using the livedata like here https://stackoverflow.com/questions/58290726/get-data-from-sqlite-database-as-livedata-android. But it all the same, livedata will notify you when a change occurs but livedata will not know what changed, it will present the whole list. Then you set the list of adapter and call notifydatachanged that will result in recreating or rebinding all visible items which is a poor performance relatively. But knowing wich data has changed and updating that particular data, not all, is better.","body":"Not exactly. There are other options and other ways. For example it can be resolved using the livedata like here <a href=\"https://stackoverflow.com/questions/58290726/get-data-from-sqlite-database-as-livedata-android\" title=\"get data from sqlite database as livedata android\">stackoverflow.com/questions/58290726/&hellip;</a>. But it all the same, livedata will notify you when a change occurs but livedata will not know what changed, it will present the whole list. Then you set the list of adapter and call notifydatachanged that will result in recreating or rebinding all visible items which is a poor performance relatively. But knowing wich data has changed and updating that particular data, not all, is better."},{"owner":{"account_id":25835130,"reputation":3,"user_id":19571652,"display_name":"java296642"},"score":0,"creation_date":1658499267,"post_id":73080012,"comment_id":129073735,"body_markdown":"@Kozmotronik last questions: 1- if I use Room with DiffUtill, is that solve recreating the activiy or avoid update Recyclerview inside onResum() for my case? 2- If I continue with SQLite there is no way to avoid recrating the activity or avoid updating RecyclerView inside onResume?","body":"@Kozmotronik last questions: 1- if I use Room with DiffUtill, is that solve recreating the activiy or avoid update Recyclerview inside onResum() for my case? 2- If I continue with SQLite there is no way to avoid recrating the activity or avoid updating RecyclerView inside onResume?"},{"owner":{"account_id":17575058,"reputation":2200,"user_id":12749998,"display_name":"Kozmotronik"},"score":0,"creation_date":1658499736,"post_id":73080012,"comment_id":129073964,"body_markdown":"Last answers :)) 1- Yes, by using room - livedata - diffutil you don&#39;t have to recreate the activity. Just a few one time initializations in `onCreate` and done. 2- Despite using sqlite you don&#39;t have to recreate the activity by calling the `startActivity` everytime an object has been added in the database. You can use livedata or even an interface between the activity and the database helper will do the job without recreating the activity.","body":"Last answers :)) 1- Yes, by using room - livedata - diffutil you don&#39;t have to recreate the activity. Just a few one time initializations in <code>onCreate</code> and done. 2- Despite using sqlite you don&#39;t have to recreate the activity by calling the <code>startActivity</code> everytime an object has been added in the database. You can use livedata or even an interface between the activity and the database helper will do the job without recreating the activity."}],"answers":[{"tags":[],"owner":{"account_id":25192167,"reputation":339,"user_id":19374335,"display_name":"Praveen Kumar"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658493225,"creation_date":1658493225,"answer_id":73080433,"question_id":73080012,"body_markdown":"**try this**\r\n\r\n&gt; Use Swipe to refresh layout\r\n\r\n**activity_main_xml**\r\n\r\n    &lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\r\n      xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\r\n      xmlns:tools=&quot;http://schemas.android.com/tools&quot;\r\n      android:id=&quot;@+id/swipeRefreshLayout&quot;\r\n      android:layout_width=&quot;match_parent&quot;\r\n      android:layout_height=&quot;match_parent&quot;\r\n      tools:context=&quot;.MainActivity&quot;&gt;\r\n \r\n       &lt;androidx.recyclerview.widget.RecyclerView\r\n          android:id=&quot;@+id/recyclerView&quot;\r\n          android:layout_width=&quot;match_parent&quot;\r\n         android:layout_height=&quot;match_parent&quot; /&gt;\r\n \r\n    &lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\r\n\r\n**MainActivity**\r\n\r\n    SwipeRefreshLayout swipeRefreshLayout;\r\n    swipeRefreshLayout = (SwipeRefreshLayout) findViewById(R.id.swipeRefreshLayout);\r\n\r\n    swipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\r\n            @Override\r\n            public void onRefresh() {\r\n               //TODO operation\r\n            }\r\n        });","title":"How to update RecyclerView without recreating (restarting) the activity. I use SQLite Database to store and retrieve data to the Recycler view","body":"<p><strong>try this</strong></p>\n<blockquote>\n<p>Use Swipe to refresh layout</p>\n</blockquote>\n<p><strong>activity_main_xml</strong></p>\n<pre><code>&lt;androidx.swiperefreshlayout.widget.SwipeRefreshLayout\n  xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;\n  xmlns:tools=&quot;http://schemas.android.com/tools&quot;\n  android:id=&quot;@+id/swipeRefreshLayout&quot;\n  android:layout_width=&quot;match_parent&quot;\n  android:layout_height=&quot;match_parent&quot;\n  tools:context=&quot;.MainActivity&quot;&gt;\n\n   &lt;androidx.recyclerview.widget.RecyclerView\n      android:id=&quot;@+id/recyclerView&quot;\n      android:layout_width=&quot;match_parent&quot;\n     android:layout_height=&quot;match_parent&quot; /&gt;\n\n&lt;/androidx.swiperefreshlayout.widget.SwipeRefreshLayout&gt;\n</code></pre>\n<p><strong>MainActivity</strong></p>\n<pre><code>SwipeRefreshLayout swipeRefreshLayout;\nswipeRefreshLayout = (SwipeRefreshLayout) findViewById(R.id.swipeRefreshLayout);\n\nswipeRefreshLayout.setOnRefreshListener(new SwipeRefreshLayout.OnRefreshListener() {\n        @Override\n        public void onRefresh() {\n           //TODO operation\n        }\n    });\n</code></pre>\n"}],"owner":{"account_id":25835130,"reputation":3,"user_id":19571652,"display_name":"java296642"},"comment_count":10,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":120,"favorite_count":0,"down_vote_count":1,"up_vote_count":0,"answer_count":1,"score":-1,"last_activity_date":1658493225,"creation_date":1658491171,"question_id":73080012,"body_markdown":"As far as I know there are two ways\r\n\r\n1- using `startActivity(new Intent(this, MainActivity.class);`\r\n\r\n2- Override `onResume();` method and put update method inside `onResume();`\r\n\r\n which neither of these two ways are efficient.\r\n\r\nThe first method recreates the activity every time I add a note to SQLite Database, the second method every time I press home button the RecyclerView gets updated though there is no need to update because the data hasn&#39;t changed in that situation.\r\n\r\nWhat is the third way to update the RecyclerView whenever SQLite data has changed?","title":"How to update RecyclerView without recreating (restarting) the activity. I use SQLite Database to store and retrieve data to the Recycler view","body":"<p>As far as I know there are two ways</p>\n<p>1- using <code>startActivity(new Intent(this, MainActivity.class);</code></p>\n<p>2- Override <code>onResume();</code> method and put update method inside <code>onResume();</code></p>\n<p>which neither of these two ways are efficient.</p>\n<p>The first method recreates the activity every time I add a note to SQLite Database, the second method every time I press home button the RecyclerView gets updated though there is no need to update because the data hasn't changed in that situation.</p>\n<p>What is the third way to update the RecyclerView whenever SQLite data has changed?</p>\n"},{"tags":["java","httpurlconnection"],"comments":[{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":0,"creation_date":1658493932,"post_id":73080431,"comment_id":129071532,"body_markdown":"Of course you could call `urlConnection.setDoInput(false);`. But just disconnecting the connection should suffice.","body":"Of course you could call <code>urlConnection.setDoInput(false);</code>. But just disconnecting the connection should suffice."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":2,"creation_date":1658494090,"post_id":73080431,"comment_id":129071587,"body_markdown":"You have implicitly called `connect()` by calling `getHeaderField()`, just as `getInputStream()`, does, so yes you need to close it. Otherwise you will leak the connection. Unless you call `disconnect()`, as you have, but that kills connection re-use.","body":"You have implicitly called <code>connect()</code> by calling <code>getHeaderField()</code>, just as <code>getInputStream()</code>, does, so yes you need to close it. Otherwise you will leak the connection. Unless you call <code>disconnect()</code>, as you have, but that kills connection re-use."}],"owner":{"account_id":5218040,"reputation":3409,"user_id":4172311,"display_name":"Loyea"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":55,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658493198,"creation_date":1658493198,"question_id":73080431,"body_markdown":"The scenario is I only need to read some values from the HTTP response header. So I never called the `httpUrlConnection.getInputStream()` or `httpUrlConnection.getContentLength()`.\r\n\r\nDo I need add `httpUrlConnection.getInputStream().close();` ?\r\n\r\n```\r\n    HttpURLConnection urlConnection = null;\r\n    try {\r\n        URL url = new URL(urlString);\r\n        urlConnection = (HttpURLConnection) url.openConnection();\r\n        String dateStr = urlConnection.getHeaderField(&quot;Date&quot;);\r\n        Date date =\r\n                new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, Locale.US).parse(dateStr);\r\n        long timeMillis = date.getTime();\r\n    } catch (Exception e) {\r\n        e.printStackTrace();\r\n    } finally {\r\n        if (urlConnection != null) {\r\n            urlConnection.disconnect();\r\n        }\r\n    }\r\n```","title":"Do I need close InputStream of HttpUrlConnection if I never call getInputStream?","body":"<p>The scenario is I only need to read some values from the HTTP response header. So I never called the <code>httpUrlConnection.getInputStream()</code> or <code>httpUrlConnection.getContentLength()</code>.</p>\n<p>Do I need add <code>httpUrlConnection.getInputStream().close();</code> ?</p>\n<pre><code>    HttpURLConnection urlConnection = null;\n    try {\n        URL url = new URL(urlString);\n        urlConnection = (HttpURLConnection) url.openConnection();\n        String dateStr = urlConnection.getHeaderField(&quot;Date&quot;);\n        Date date =\n                new SimpleDateFormat(&quot;EEE, dd MMM yyyy HH:mm:ss zzz&quot;, Locale.US).parse(dateStr);\n        long timeMillis = date.getTime();\n    } catch (Exception e) {\n        e.printStackTrace();\n    } finally {\n        if (urlConnection != null) {\n            urlConnection.disconnect();\n        }\n    }\n</code></pre>\n"},{"tags":["java"],"comments":[{"owner":{"account_id":21330249,"reputation":297,"user_id":15702124,"display_name":"LenglBoy"},"score":1,"creation_date":1658489835,"post_id":73079703,"comment_id":129070138,"body_markdown":"Almost all IDEs can download and use a JDK on the fly if there can&#39;t be a installed one found.\nSince Eclipse itself is written in Java it brings Java with it embedded. At least a JRE which can run simple Java SE things as well - but for complex applications you need a JDK","body":"Almost all IDEs can download and use a JDK on the fly if there can&#39;t be a installed one found. Since Eclipse itself is written in Java it brings Java with it embedded. At least a JRE which can run simple Java SE things as well - but for complex applications you need a JDK"}],"answers":[{"tags":[],"owner":{"account_id":1038596,"reputation":34548,"user_id":1045142,"accept_rate":67,"display_name":"Simon Martinelli"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658489826,"creation_date":1658489826,"answer_id":73079742,"question_id":73079703,"body_markdown":"Eclipse comes with a JRE packaged as plugin. Checkout the plugins folder.","title":"Is Eclipse IDE has in-built Internal JDK?","body":"<p>Eclipse comes with a JRE packaged as plugin. Checkout the plugins folder.</p>\n"},{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658492537,"creation_date":1658491746,"answer_id":73080127,"question_id":73079703,"body_markdown":"Eclipse comes with built in JRE &amp; it depends on which eclipse version you have downloaded.\r\n\r\nHow to confirm, go to eclipse &amp; :\r\n\r\n    Window -&gt; Preferences -&gt; Java -&gt;Compiler-&gt; Compiler Complience leve.\r\n\r\nHere, you can see different versions of java compiler. Select one version or by default, one of higher version is automatically selected for you.\r\n\r\nAfter that, \r\n\r\n    Window -&gt; Preferences -&gt; Java-&gt;Installed JRE&#39;s-&gt; here you will see path of JRE that shipped with eclipse\r\n\r\nAnd this is reason why your code in eclipse runs well as built in JRE is automatically used if no external jre is used.","title":"Is Eclipse IDE has in-built Internal JDK?","body":"<p>Eclipse comes with built in JRE &amp; it depends on which eclipse version you have downloaded.</p>\n<p>How to confirm, go to eclipse &amp; :</p>\n<pre><code>Window -&gt; Preferences -&gt; Java -&gt;Compiler-&gt; Compiler Complience leve.\n</code></pre>\n<p>Here, you can see different versions of java compiler. Select one version or by default, one of higher version is automatically selected for you.</p>\n<p>After that,</p>\n<pre><code>Window -&gt; Preferences -&gt; Java-&gt;Installed JRE's-&gt; here you will see path of JRE that shipped with eclipse\n</code></pre>\n<p>And this is reason why your code in eclipse runs well as built in JRE is automatically used if no external jre is used.</p>\n"}],"owner":{"account_id":23757081,"reputation":25,"user_id":17773076,"display_name":"Umesh Chandra"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":597,"favorite_count":0,"down_vote_count":4,"up_vote_count":3,"closed_date":1658497570,"answer_count":2,"score":-1,"last_activity_date":1658492864,"creation_date":1658489616,"question_id":73079703,"body_markdown":"My system doesn&#39;t have JDK installed, but I can see my Java programs are running in Eclipse and getting perfect output. How is it possible?\r\n","title":"Is Eclipse IDE has in-built Internal JDK?","body":"<p>My system doesn't have JDK installed, but I can see my Java programs are running in Eclipse and getting perfect output. How is it possible?</p>\n"},{"tags":["java","encryption","rsa","private-key"],"comments":[{"owner":{"account_id":21903623,"reputation":53,"user_id":16188997,"display_name":"Mariette SAUSON"},"score":0,"creation_date":1658479632,"post_id":73077307,"comment_id":129066282,"body_markdown":"I need your help so if you know someone, it&#39;ll be a great help.","body":"I need your help so if you know someone, it&#39;ll be a great help."},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1658486737,"post_id":73077307,"comment_id":129068987,"body_markdown":"You don&#39;t encrypt with a private key. You encrypt with the public key. You decrypt with the private key. Or, you sign with the private key, and verify with the public key. Please clarify.","body":"You don&#39;t encrypt with a private key. You encrypt with the public key. You decrypt with the private key. Or, you sign with the private key, and verify with the public key. Please clarify."},{"owner":{"account_id":21903623,"reputation":53,"user_id":16188997,"display_name":"Mariette SAUSON"},"score":0,"creation_date":1658489535,"post_id":73077307,"comment_id":129070025,"body_markdown":"It is  asymmetric encryption technique. So if i encrypt with public i&#39;ll decrypt with private and vice versa.","body":"It is  asymmetric encryption technique. So if i encrypt with public i&#39;ll decrypt with private and vice versa."}],"answers":[{"tags":[],"owner":{"account_id":12359353,"reputation":42427,"user_id":9014097,"display_name":"Topaco"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1658492722,"creation_date":1658485165,"answer_id":73078731,"question_id":73077307,"body_markdown":"This is an encrypted private RSA key in PKCS#1 format, PEM encoded, which is most convenient to import using BouncyCastle:\r\n\r\n``` java\r\nimport java.io.FileReader;\r\nimport java.security.PrivateKey;\r\nimport org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\r\nimport org.bouncycastle.openssl.PEMEncryptedKeyPair;\r\nimport org.bouncycastle.openssl.PEMKeyPair;\r\nimport org.bouncycastle.openssl.PEMParser;\r\nimport org.bouncycastle.openssl.bc.BcPEMDecryptorProvider;\r\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\r\n\r\n...\r\n\r\nString path = &quot;...&quot;;\r\nString password = &quot;...&quot;;\r\ntry (PEMParser pemParser = new PEMParser(new FileReader(path))){\r\n\r\n    PEMEncryptedKeyPair encKeyPair = (PEMEncryptedKeyPair)pemParser.readObject();\r\n    PEMKeyPair keyPair = encKeyPair.decryptKeyPair(new BcPEMDecryptorProvider(password.toCharArray()));\r\n\r\n    JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\r\n    PrivateKeyInfo privKeyInfo = keyPair.getPrivateKeyInfo();\r\n    PrivateKey privKey = converter.getPrivateKey(privKeyInfo);\r\n}\r\n```\r\n","title":"How to decrypt a password protected RSA key in java?","body":"<p>This is an encrypted private RSA key in PKCS#1 format, PEM encoded, which is most convenient to import using BouncyCastle:</p>\n<pre class=\"lang-java prettyprint-override\"><code>import java.io.FileReader;\nimport java.security.PrivateKey;\nimport org.bouncycastle.asn1.pkcs.PrivateKeyInfo;\nimport org.bouncycastle.openssl.PEMEncryptedKeyPair;\nimport org.bouncycastle.openssl.PEMKeyPair;\nimport org.bouncycastle.openssl.PEMParser;\nimport org.bouncycastle.openssl.bc.BcPEMDecryptorProvider;\nimport org.bouncycastle.openssl.jcajce.JcaPEMKeyConverter;\n\n...\n\nString path = &quot;...&quot;;\nString password = &quot;...&quot;;\ntry (PEMParser pemParser = new PEMParser(new FileReader(path))){\n\n    PEMEncryptedKeyPair encKeyPair = (PEMEncryptedKeyPair)pemParser.readObject();\n    PEMKeyPair keyPair = encKeyPair.decryptKeyPair(new BcPEMDecryptorProvider(password.toCharArray()));\n\n    JcaPEMKeyConverter converter = new JcaPEMKeyConverter();\n    PrivateKeyInfo privKeyInfo = keyPair.getPrivateKeyInfo();\n    PrivateKey privKey = converter.getPrivateKey(privKeyInfo);\n}\n</code></pre>\n"}],"owner":{"account_id":21903623,"reputation":53,"user_id":16188997,"display_name":"Mariette SAUSON"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":715,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"accepted_answer_id":73078731,"answer_count":1,"score":3,"last_activity_date":1658492722,"creation_date":1658478378,"question_id":73077307,"body_markdown":"I&#39;m writing a code to consume a private key to encrypt and decrypt a message.\r\nThe problem is that the key i use is protected by a passphrase. So i have to decrypt the key itself before use it to encrypt and decrypt.\r\nThis is the header of the key content:\r\n\r\n    -----BEGIN RSA PRIVATE KEY-----\r\n    Proc-Type: 4,ENCRYPTED\r\n    DEK-Info: DES-EDE3-CBC,E51B4CCF38530A32\r\n    \r\n    b9gvBvJNyUxA/2AH5mb+7dNcIns05EIXlbiM47xSUiQZgOdbP5ZHy5WL6S+uxU7s\r\n    .\r\n    .\r\n    .\r\n    -----END RSA PRIVATE KEY-----\r\n\r\n\r\nHow can I achieve that in Java?","title":"How to decrypt a password protected RSA key in java?","body":"<p>I'm writing a code to consume a private key to encrypt and decrypt a message.\nThe problem is that the key i use is protected by a passphrase. So i have to decrypt the key itself before use it to encrypt and decrypt.\nThis is the header of the key content:</p>\n<pre><code>-----BEGIN RSA PRIVATE KEY-----\nProc-Type: 4,ENCRYPTED\nDEK-Info: DES-EDE3-CBC,E51B4CCF38530A32\n\nb9gvBvJNyUxA/2AH5mb+7dNcIns05EIXlbiM47xSUiQZgOdbP5ZHy5WL6S+uxU7s\n.\n.\n.\n-----END RSA PRIVATE KEY-----\n</code></pre>\n<p>How can I achieve that in Java?</p>\n"},{"tags":["java","flutter","firebase","dart"],"answers":[{"tags":[],"owner":{"account_id":25870388,"reputation":176,"user_id":19601386,"display_name":"AndrewSheetMetal"},"down_vote_count":0,"up_vote_count":16,"is_accepted":true,"score":16,"last_activity_date":1658492528,"creation_date":1658492528,"answer_id":73080293,"question_id":73073196,"body_markdown":"I had the same issue and noticed, that my `firebase_core` dependency in pubspec.yaml was not updated.\r\n\r\nNow I use `firebase_core: ^1.20.0` and it works &#128077;\r\n\r\nDo not forget to run `flutter clean`.\r\n\r\nHope that helps :)","title":"how do I fix my flutter app not building with cloud firestore?","body":"<p>I had the same issue and noticed, that my <code>firebase_core</code> dependency in pubspec.yaml was not updated.</p>\n<p>Now I use <code>firebase_core: ^1.20.0</code> and it works 👍</p>\n<p>Do not forget to run <code>flutter clean</code>.</p>\n<p>Hope that helps :)</p>\n"}],"owner":{"account_id":20431222,"reputation":115,"user_id":14990064,"display_name":"Ja&#39;afar Zakariya"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1981,"favorite_count":0,"down_vote_count":0,"up_vote_count":4,"accepted_answer_id":73080293,"answer_count":1,"score":4,"last_activity_date":1658492528,"creation_date":1658441567,"question_id":73073196,"body_markdown":"So I am new to flutter and firebase and I wanted to add firestore capabilities to my app, but when I tried to use firestore I got an error \r\n\r\n&gt;  The plugin cloud_firestore requires a higher Android SDK version.                             │\r\n│ Fix this issue by adding the following to the file                                            │\r\n│ C:\\Users\\Jaff\\StudioProjects\\priv_chat\\android\\app\\build.gradle:\r\n\r\nAfter fixing the SDK version, then I got another error,\r\n\r\n&gt; C:\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\cloud_firestore-3.4.0\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\firestore\\streamhandler\\TransactionStreamHandler.java:13: error: cannot find symbol\r\nimport com.google.firebase.firestore.TransactionOptions;\r\n symbol:   class TransactionOptions\r\n  location: package com.google.firebase.firestore\r\nC:\\src\\flutter\\.pub-cache\\hosted\\pub.dartlang.org\\cloud_firestore-3.4.0\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\firestore\\streamhandler\\TransactionStreamHandler.java:66: error: package TransactionOptions does not exist\r\n            new TransactionOptions.Builder().setMaxAttempts(maxAttempts).build(),\r\n* What went wrong:\r\nExecution failed for task &#39;:cloud_firestore:compileDebugJavaWithJavac&#39;.\r\n&gt; Compilation failed; see the compiler error output for details.\r\n\r\nThis is where I got completely confused, I have no idea how to solve this, can somebody help me?","title":"how do I fix my flutter app not building with cloud firestore?","body":"<p>So I am new to flutter and firebase and I wanted to add firestore capabilities to my app, but when I tried to use firestore I got an error</p>\n<blockquote>\n<p>The plugin cloud_firestore requires a higher Android SDK version.                             │\n│ Fix this issue by adding the following to the file                                            │\n│ C:\\Users\\Jaff\\StudioProjects\\priv_chat\\android\\app\\build.gradle:</p>\n</blockquote>\n<p>After fixing the SDK version, then I got another error,</p>\n<blockquote>\n<p>C:\\src\\flutter.pub-cache\\hosted\\pub.dartlang.org\\cloud_firestore-3.4.0\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\firestore\\streamhandler\\TransactionStreamHandler.java:13: error: cannot find symbol\nimport com.google.firebase.firestore.TransactionOptions;\nsymbol:   class TransactionOptions\nlocation: package com.google.firebase.firestore\nC:\\src\\flutter.pub-cache\\hosted\\pub.dartlang.org\\cloud_firestore-3.4.0\\android\\src\\main\\java\\io\\flutter\\plugins\\firebase\\firestore\\streamhandler\\TransactionStreamHandler.java:66: error: package TransactionOptions does not exist\nnew TransactionOptions.Builder().setMaxAttempts(maxAttempts).build(),</p>\n</blockquote>\n<ul>\n<li>What went wrong:\nExecution failed for task ':cloud_firestore:compileDebugJavaWithJavac'.</li>\n</ul>\n<blockquote>\n<p>Compilation failed; see the compiler error output for details.</p>\n</blockquote>\n<p>This is where I got completely confused, I have no idea how to solve this, can somebody help me?</p>\n"},{"tags":["java","scala","playframework","circe"],"answers":[{"tags":[],"owner":{"account_id":81070,"reputation":7901,"user_id":228843,"accept_rate":68,"display_name":"Andriy Plokhotnyuk"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658491857,"creation_date":1658490909,"answer_id":73079958,"question_id":73078436,"body_markdown":"You can override `toString` implementation to see pain instead of engineering notation:\r\n\r\n```scala\r\ncase class Document(curr: String, value: Double) {\r\n  override def toString: String = \r\n    s&quot;Document($curr,${BigDecimal(value).underlying().toPlainString})&quot;\r\n}\r\n```\r\n\r\nIf you want JSON serialization in the plain notation then use the following encoder:\r\n\r\n```scala\r\n  implicit val doubleE5r: Encoder[Double] = new Encoder[Double] {\r\n    override def apply(a: Double): Json =\r\n      Json.fromJsonNumber(JsonNumber.fromDecimalStringUnsafe(BigDecimal(a).underlying().toPlainString))\r\n  }\r\n```","title":"Issue converting decimal (Double) value from JSON to case class","body":"<p>You can override <code>toString</code> implementation to see pain instead of engineering notation:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>case class Document(curr: String, value: Double) {\n  override def toString: String = \n    s&quot;Document($curr,${BigDecimal(value).underlying().toPlainString})&quot;\n}\n</code></pre>\n<p>If you want JSON serialization in the plain notation then use the following encoder:</p>\n<pre class=\"lang-scala prettyprint-override\"><code>  implicit val doubleE5r: Encoder[Double] = new Encoder[Double] {\n    override def apply(a: Double): Json =\n      Json.fromJsonNumber(JsonNumber.fromDecimalStringUnsafe(BigDecimal(a).underlying().toPlainString))\n  }\n</code></pre>\n"}],"owner":{"account_id":6288965,"reputation":622,"user_id":5844870,"accept_rate":0,"display_name":"NKM"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":115,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658491857,"creation_date":1658483716,"question_id":73078436,"body_markdown":"I am using Scala 2.12 with circe version 0.14.1. I am converting a JSON into corresponding case class as below:\r\n\r\n    case class Document(curr: String, value: Double)\r\n    val json = s&quot;&quot;&quot;{&quot;Document&quot;:{&quot;curr&quot;:&quot;USD&quot;,&quot;value&quot;:40000000.01}}&quot;&quot;&quot;\r\n    import io.circe.generic.auto._\r\n    io.circe.parser.decode[Document](json)\r\n\r\nThe converted case class is below:\r\n\r\n    Document(USD,4.000000001E7)\r\n\r\nI do not want the Double value to change into a Exponential representation. I need it to remain as Double unchanged as \r\n\r\n&gt; 40000000.01\r\n\r\n.\r\n","title":"Issue converting decimal (Double) value from JSON to case class","body":"<p>I am using Scala 2.12 with circe version 0.14.1. I am converting a JSON into corresponding case class as below:</p>\n<pre><code>case class Document(curr: String, value: Double)\nval json = s&quot;&quot;&quot;{&quot;Document&quot;:{&quot;curr&quot;:&quot;USD&quot;,&quot;value&quot;:40000000.01}}&quot;&quot;&quot;\nimport io.circe.generic.auto._\nio.circe.parser.decode[Document](json)\n</code></pre>\n<p>The converted case class is below:</p>\n<pre><code>Document(USD,4.000000001E7)\n</code></pre>\n<p>I do not want the Double value to change into a Exponential representation. I need it to remain as Double unchanged as</p>\n<blockquote>\n<p>40000000.01</p>\n</blockquote>\n<p>.</p>\n"},{"tags":["java","mysql","spring","spring-boot","spring-data-jpa"],"comments":[{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1658487721,"post_id":73079180,"comment_id":129069374,"body_markdown":"Do not longer use SimpleDateFormat and java.util.Date. This classes are outdated since many years. Use the new `java.time`API","body":"Do not longer use SimpleDateFormat and java.util.Date. This classes are outdated since many years. Use the new <code>java.time</code>API"},{"owner":{"account_id":3456130,"reputation":13,"user_id":2894605,"display_name":"Jawad"},"score":0,"creation_date":1658487803,"post_id":73079180,"comment_id":129069400,"body_markdown":"is this causing the problem?","body":"is this causing the problem?"},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1658487887,"post_id":73079180,"comment_id":129069424,"body_markdown":"*Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1* The error meassage says, that the statement does not update any row.","body":"<i>Batch update returned unexpected row count from update [0]; actual row count: 0; expected: 1</i> The error meassage says, that the statement does not update any row."},{"owner":{"account_id":3456130,"reputation":13,"user_id":2894605,"display_name":"Jawad"},"score":0,"creation_date":1658487923,"post_id":73079180,"comment_id":129069442,"body_markdown":"this actually means that there is nothing the update as its updating before getting it inserted.","body":"this actually means that there is nothing the update as its updating before getting it inserted."},{"owner":{"account_id":4470050,"reputation":68258,"user_id":3636601,"accept_rate":75,"display_name":"Jens"},"score":0,"creation_date":1658488155,"post_id":73079180,"comment_id":129069529,"body_markdown":"You should check it the values you set are the values you expect","body":"You should check it the values you set are the values you expect"},{"owner":{"account_id":3456130,"reputation":13,"user_id":2894605,"display_name":"Jawad"},"score":0,"creation_date":1658488465,"post_id":73079180,"comment_id":129069657,"body_markdown":"I think you haven&#39;t checked the question completely. I am doing some mistake while configuring composite key.","body":"I think you haven&#39;t checked the question completely. I am doing some mistake while configuring composite key."}],"answers":[{"tags":[],"owner":{"account_id":6475519,"reputation":4496,"user_id":5014221,"accept_rate":71,"display_name":"Ashish Patil"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658490768,"creation_date":1658490768,"answer_id":73079929,"question_id":73079180,"body_markdown":"If you see `saveAll()` source code, its internally calling `save()` which in turn first of all checking if ongoing entity is new by doing null check :\r\n\r\n    public &lt;S extends T&gt; S save(S entity) {\r\n    \r\n    \t\tAssert.notNull(entity, &quot;Entity must not be null.&quot;);\r\n    \r\n    \t\tif (entityInformation.isNew(entity)) { //here if you check `isNew` code, it checks for nullability of your `Id` attribute.\r\n    \t\t\tem.persist(entity);\r\n    \t\t\treturn entity;\r\n    \t\t} else {\r\n    \t\t\treturn em.merge(entity); //upsert \r\n    \t\t}\r\n    \t}\r\n\r\nNow, what I can see in your code, you mentioned your `Id` fields are non-nullable &amp; that is reason, `save` call is going for upsert (here `em.merge`) even if its first record. \r\n\r\nFor your case, try removing `nullable = false` from your `Id` fields &amp; see if that works as expected.\r\n","title":"Spring Boot - Batch Insert Forces Update Statement Execution","body":"<p>If you see <code>saveAll()</code> source code, its internally calling <code>save()</code> which in turn first of all checking if ongoing entity is new by doing null check :</p>\n<pre><code>public &lt;S extends T&gt; S save(S entity) {\n\n        Assert.notNull(entity, &quot;Entity must not be null.&quot;);\n\n        if (entityInformation.isNew(entity)) { //here if you check `isNew` code, it checks for nullability of your `Id` attribute.\n            em.persist(entity);\n            return entity;\n        } else {\n            return em.merge(entity); //upsert \n        }\n    }\n</code></pre>\n<p>Now, what I can see in your code, you mentioned your <code>Id</code> fields are non-nullable &amp; that is reason, <code>save</code> call is going for upsert (here <code>em.merge</code>) even if its first record.</p>\n<p>For your case, try removing <code>nullable = false</code> from your <code>Id</code> fields &amp; see if that works as expected.</p>\n"}],"owner":{"account_id":3456130,"reputation":13,"user_id":2894605,"display_name":"Jawad"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":370,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658491738,"creation_date":1658487251,"question_id":73079180,"body_markdown":"I am trying to insert the records in batch in my MySQL table.\r\n\r\nThe Batch insert works like a charm when I do it without the composite key.\r\n\r\nHowever, when I assign the composite key. \r\n\r\nIn my Table scheme: Id is the auto incremented primary key and ENODEB and HOUR_DATE_TIME are my normal columns that are not marked as composite key but I am making them composite in my Entity Class.\r\n\r\nWhen I do this.\r\n\r\nIt executes select statements then Insert statements and finally executes update statements.\r\n\r\nSince the records are not yet inserted in the database I get the error:\r\n\r\n&gt; Caused by: org.hibernate.StaleStateException: Batch update returned\r\n&gt; unexpected row count from update [0]; actual row count: 0; expected:\r\n&gt; 1; statement executed: update idas_kpis set DL_PKT_LOSS_RT=?,\r\n&gt; DL_PKT_LOSS_RT_DEN=?, DL_PKT_LOSS_RT_NUM=?,\r\n&gt; D_IRAFHO_SR_L_ER_ECEL_DEN=?, D_IRAFHO_SR_L_ER_ECEL_NUM=?,\r\n&gt; D_IRAFHO_SR_L_ER_ECEL_RATE=?, V_ERB1_RET=?, V_ERB1_RET_DEN=?,\r\n&gt; V_ERB1_RET_NUM=?, D_RACC_FR_L_ER_ECEL_DEN=?,\r\n&gt; D_RACC_FR_L_ER_ECEL_NUM=?, D_RACC_FR_L_ER_ECEL_RATE=?, V_RAN_ACC=?,\r\n&gt; V_RAN_ACC_DEN=?, V_RAN_ACC_NUM=?, Acc_S1_Succ_Rate=?,\r\n&gt; Acc_S1_Succ_Rate_DEN=?, Acc_S1_Succ_Rate_NUM=?, UL_PKT_LOSS_RT=?,\r\n&gt; UL_PKT_LOSS_RT_DEN=?, UL_PKT_LOSS_RT_NUM=?, cell_category=?,\r\n&gt; client_guid=?, HOUR_DATE=?, site_guid=?, venue_item_guid=? where\r\n&gt; ENODEB=? and HOUR_DATE_TIME=?\r\n\r\nAs I have checked on the internet, SaveAll method always checks for uniqueness based on the key defined in the entity class. Since its the first insert, the update should not be executed. Can someone help?\r\n\r\n**Entity Class**\r\n```\r\npackage com.vizalogix.insite.dx.entities.SVDXDB;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\nimport org.hibernate.annotations.GenericGenerator;\r\nimport org.hibernate.annotations.Proxy;\r\n\r\nimport javax.persistence.*;\r\nimport java.math.BigInteger;\r\nimport java.sql.Date;\r\nimport java.sql.Time;\r\nimport java.sql.Timestamp;\r\n\r\n@Getter\r\n@Setter\r\n@Entity\r\n@Table(name = &quot;idas_kpis&quot;)\r\n@JsonIgnoreProperties(ignoreUnknown = true, value={&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\r\n@IdClass(IdasKpisId.class)\r\n@Proxy(lazy = false)\r\npublic class IdasKpis {\r\n\r\n//    //@GeneratedValue(strategy = GenerationType.AUTO)\r\n//    @GeneratedValue(generator = &quot;idas&quot;)\r\n//    @GenericGenerator(name = &quot;idas&quot;, strategy = &quot;increment&quot;)\r\n//    @Column(name = &quot;ID&quot;)\r\n//    private Integer id;\r\n    @Id\r\n    @Column(name = &quot;ENODEB&quot;, updatable = false, nullable = false)\r\n    String cell;\r\n\r\n    @Id\r\n    @Column(name = &quot;HOUR_DATE_TIME&quot;, updatable = false, nullable = false)\r\n    java.util.Date datetime;\r\n\r\n   // private IdasKpisId kpisId;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;HOUR_DATE&quot;)\r\n    private Date date;\r\n\r\n    /*@Id\r\n    @JsonIgnore\r\n    @Column(name = &quot;HOUR_DATE_TIME&quot;)\r\n    private Date datetime;\r\n\r\n    @Id\r\n    @JsonIgnore\r\n    @Column(name = &quot;ENODEB&quot;)\r\n    private String cell;*/\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;Acc_S1_Succ_Rate&quot;)\r\n    private String D_S1_FR_L_ER_ECEL;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;Acc_S1_Succ_Rate_NUM&quot;)\r\n    private String D_S1_FR_L_ER_ECEL_NUM;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;Acc_S1_Succ_Rate_DEN&quot;)\r\n    private String D_S1_FR_L_ER_ECEL_DEN;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;UL_PKT_LOSS_RT&quot;)\r\n    private String D_UL_TP_L_ER_ECEL;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;UL_PKT_LOSS_RT_NUM&quot;)\r\n    private String D_UL_TP_L_ER_ECEL_NUM;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;UL_PKT_LOSS_RT_DEN&quot;)\r\n    private String D_UL_TP_L_ER_ECEL_DEN;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;DL_PKT_LOSS_RT&quot;)\r\n    private String D_DL_TP_L_ER_ECEL;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;DL_PKT_LOSS_RT_NUM&quot;)\r\n    private String D_DL_TP_L_ER_ECEL_NUM;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;DL_PKT_LOSS_RT_DEN&quot;)\r\n    private String D_DL_TP_L_ER_ECEL_DEN;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;V_RAN_ACC&quot;)\r\n    private String D_RAN_ACC_L_ER_ECEL;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;V_RAN_ACC_DEN&quot;)\r\n    private String D_RAN_ACC_L_ER_ECEL_DEN;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;V_RAN_ACC_NUM&quot;)\r\n    private String D_RAN_ACC_L_ER_ECEL_NUM;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;V_ERB1_RET&quot;)\r\n    private String D_OVR_RET_L_ER_ECEL;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;V_ERB1_RET_DEN&quot;)\r\n    private String D_OVR_RET_L_ER_ECEL_DEN;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;V_ERB1_RET_NUM&quot;)\r\n    private String D_OVR_RET_L_ER_ECEL_NUM;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;D_IRAFHO_SR_L_ER_ECEL_RATE&quot;)\r\n    private String D_IRAFHO_SR_L_ER_ECEL_RATE;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;D_IRAFHO_SR_L_ER_ECEL_DEN&quot;)\r\n    private String D_IRAFHO_SR_L_ER_ECEL_DEN;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;D_IRAFHO_SR_L_ER_ECEL_NUM&quot;)\r\n    private String D_IRAFHO_SR_L_ER_ECEL_NUM;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;D_RACC_FR_L_ER_ECEL_RATE&quot;)\r\n    private String D_RACC_FR_L_ER_ECEL_RATE;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;D_RACC_FR_L_ER_ECEL_DEN&quot;)\r\n    private String D_RACC_FR_L_ER_ECEL_DEN;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;D_RACC_FR_L_ER_ECEL_NUM&quot;)\r\n    private String D_RACC_FR_L_ER_ECEL_NUM;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;client_guid&quot;)\r\n    private String clientGuid;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;site_guid&quot;)\r\n    private String siteGuid;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;cell_category&quot;)\r\n    private String cellCategory;\r\n\r\n    @JsonIgnore\r\n    @Column(name = &quot;venue_item_guid&quot;)\r\n    private String venueItemGuid;\r\n}\r\n```\r\n\r\n**Insert Statement**\r\n```\r\nfor (int i=0; i&lt;csvArray.length(); i++) {\r\n                IdasKpis kpi = new IdasKpis();\r\n                IdasKpisId kpiId = new IdasKpisId();\r\n                SimpleDateFormat sdf_time = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\r\n                SimpleDateFormat sdf_hour = new SimpleDateFormat(&quot;HH&quot;);\r\n                java.util.Date hour = sdf_hour.parse(csvArray.getJSONObject(i).getString(&quot;HOUR&quot;).substring(10, 12));\r\n                java.util.Date hour_time = sdf_time.parse(csvArray.getJSONObject(i).getString(&quot;HOUR&quot;));\r\n                java.sql.Date date_time = new Date(hour_time.getTime());\r\n                java.sql.Date hours = new Date(hour.getTime());\r\n\r\n                kpi.setDatetime(date_time);\r\n                kpi.setCell(csvArray.getJSONObject(i).getString(&quot;CELL&quot;));\r\n\r\n                kpi.setDate(hours);\r\n                //kpi.setKpisId(kpiId);\r\n                kpi.setD_S1_FR_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL (%)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL (%)&quot;) : &quot;0&quot;);\r\n                kpi.setD_S1_FR_L_ER_ECEL_NUM(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_S1_FR_L_ER_ECEL_DEN(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_UL_TP_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_UL_TP_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_UL_TP_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_RAN_ACC_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL (%)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL (%)&quot;): &quot;0&quot;);\r\n                kpi.setD_RAN_ACC_L_ER_ECEL_DEN(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_RAN_ACC_L_ER_ECEL_NUM(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_OVR_RET_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL (%)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL (%)&quot;) : &quot;0&quot;);\r\n                kpi.setD_OVR_RET_L_ER_ECEL_DEN(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_OVR_RET_L_ER_ECEL_NUM(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_IRAFHO_SR_L_ER_ECEL_RATE(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL (%)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL (%)&quot;) : &quot;0&quot;);\r\n                kpi.setD_IRAFHO_SR_L_ER_ECEL_DEN(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_IRAFHO_SR_L_ER_ECEL_NUM(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_RACC_FR_L_ER_ECEL_RATE(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL (%)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL (%)&quot;) : &quot;0&quot;);\r\n                kpi.setD_RACC_FR_L_ER_ECEL_DEN(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\r\n                kpi.setD_RACC_FR_L_ER_ECEL_NUM(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\r\n                kpi.setClientGuid(clientGuid);\r\n                kpi.setCellCategory(&quot;1&quot;);\r\n                kpi.setSiteGuid(siteGuid);\r\n                kpi.setVenueItemGuid(venueItem);\r\n\r\n                kpiList.add(kpi);\r\n            }\r\n            kpiDao.saveAll(kpiList);\r\n```\r\n\r\n**Composite Key Class**\r\n```\r\npackage com.vizalogix.insite.dx.entities.SVDXDB;\r\n\r\nimport lombok.Getter;\r\nimport lombok.Setter;\r\n\r\nimport javax.persistence.Column;\r\nimport javax.persistence.Embeddable;\r\nimport java.io.Serializable;\r\nimport java.util.Date;\r\n\r\n@Getter\r\n@Setter\r\npublic class IdasKpisId implements Serializable {\r\n\r\n    @Column(name = &quot;ENODEB&quot;, updatable = false, nullable = false)\r\n    String cell;\r\n\r\n    @Column(name = &quot;HOUR_DATE_TIME&quot;, updatable = false, nullable = false)\r\n    Date datetime;\r\n}\r\n```","title":"Spring Boot - Batch Insert Forces Update Statement Execution","body":"<p>I am trying to insert the records in batch in my MySQL table.</p>\n<p>The Batch insert works like a charm when I do it without the composite key.</p>\n<p>However, when I assign the composite key.</p>\n<p>In my Table scheme: Id is the auto incremented primary key and ENODEB and HOUR_DATE_TIME are my normal columns that are not marked as composite key but I am making them composite in my Entity Class.</p>\n<p>When I do this.</p>\n<p>It executes select statements then Insert statements and finally executes update statements.</p>\n<p>Since the records are not yet inserted in the database I get the error:</p>\n<blockquote>\n<p>Caused by: org.hibernate.StaleStateException: Batch update returned\nunexpected row count from update [0]; actual row count: 0; expected:\n1; statement executed: update idas_kpis set DL_PKT_LOSS_RT=?,\nDL_PKT_LOSS_RT_DEN=?, DL_PKT_LOSS_RT_NUM=?,\nD_IRAFHO_SR_L_ER_ECEL_DEN=?, D_IRAFHO_SR_L_ER_ECEL_NUM=?,\nD_IRAFHO_SR_L_ER_ECEL_RATE=?, V_ERB1_RET=?, V_ERB1_RET_DEN=?,\nV_ERB1_RET_NUM=?, D_RACC_FR_L_ER_ECEL_DEN=?,\nD_RACC_FR_L_ER_ECEL_NUM=?, D_RACC_FR_L_ER_ECEL_RATE=?, V_RAN_ACC=?,\nV_RAN_ACC_DEN=?, V_RAN_ACC_NUM=?, Acc_S1_Succ_Rate=?,\nAcc_S1_Succ_Rate_DEN=?, Acc_S1_Succ_Rate_NUM=?, UL_PKT_LOSS_RT=?,\nUL_PKT_LOSS_RT_DEN=?, UL_PKT_LOSS_RT_NUM=?, cell_category=?,\nclient_guid=?, HOUR_DATE=?, site_guid=?, venue_item_guid=? where\nENODEB=? and HOUR_DATE_TIME=?</p>\n</blockquote>\n<p>As I have checked on the internet, SaveAll method always checks for uniqueness based on the key defined in the entity class. Since its the first insert, the update should not be executed. Can someone help?</p>\n<p><strong>Entity Class</strong></p>\n<pre><code>package com.vizalogix.insite.dx.entities.SVDXDB;\n\nimport com.fasterxml.jackson.annotation.JsonIgnore;\nimport com.fasterxml.jackson.annotation.JsonIgnoreProperties;\nimport lombok.Getter;\nimport lombok.Setter;\nimport org.hibernate.annotations.GenericGenerator;\nimport org.hibernate.annotations.Proxy;\n\nimport javax.persistence.*;\nimport java.math.BigInteger;\nimport java.sql.Date;\nimport java.sql.Time;\nimport java.sql.Timestamp;\n\n@Getter\n@Setter\n@Entity\n@Table(name = &quot;idas_kpis&quot;)\n@JsonIgnoreProperties(ignoreUnknown = true, value={&quot;hibernateLazyInitializer&quot;, &quot;handler&quot;})\n@IdClass(IdasKpisId.class)\n@Proxy(lazy = false)\npublic class IdasKpis {\n\n//    //@GeneratedValue(strategy = GenerationType.AUTO)\n//    @GeneratedValue(generator = &quot;idas&quot;)\n//    @GenericGenerator(name = &quot;idas&quot;, strategy = &quot;increment&quot;)\n//    @Column(name = &quot;ID&quot;)\n//    private Integer id;\n    @Id\n    @Column(name = &quot;ENODEB&quot;, updatable = false, nullable = false)\n    String cell;\n\n    @Id\n    @Column(name = &quot;HOUR_DATE_TIME&quot;, updatable = false, nullable = false)\n    java.util.Date datetime;\n\n   // private IdasKpisId kpisId;\n\n    @JsonIgnore\n    @Column(name = &quot;HOUR_DATE&quot;)\n    private Date date;\n\n    /*@Id\n    @JsonIgnore\n    @Column(name = &quot;HOUR_DATE_TIME&quot;)\n    private Date datetime;\n\n    @Id\n    @JsonIgnore\n    @Column(name = &quot;ENODEB&quot;)\n    private String cell;*/\n\n    @JsonIgnore\n    @Column(name = &quot;Acc_S1_Succ_Rate&quot;)\n    private String D_S1_FR_L_ER_ECEL;\n\n    @JsonIgnore\n    @Column(name = &quot;Acc_S1_Succ_Rate_NUM&quot;)\n    private String D_S1_FR_L_ER_ECEL_NUM;\n\n    @JsonIgnore\n    @Column(name = &quot;Acc_S1_Succ_Rate_DEN&quot;)\n    private String D_S1_FR_L_ER_ECEL_DEN;\n\n    @JsonIgnore\n    @Column(name = &quot;UL_PKT_LOSS_RT&quot;)\n    private String D_UL_TP_L_ER_ECEL;\n\n    @JsonIgnore\n    @Column(name = &quot;UL_PKT_LOSS_RT_NUM&quot;)\n    private String D_UL_TP_L_ER_ECEL_NUM;\n\n    @JsonIgnore\n    @Column(name = &quot;UL_PKT_LOSS_RT_DEN&quot;)\n    private String D_UL_TP_L_ER_ECEL_DEN;\n\n    @JsonIgnore\n    @Column(name = &quot;DL_PKT_LOSS_RT&quot;)\n    private String D_DL_TP_L_ER_ECEL;\n\n    @JsonIgnore\n    @Column(name = &quot;DL_PKT_LOSS_RT_NUM&quot;)\n    private String D_DL_TP_L_ER_ECEL_NUM;\n\n    @JsonIgnore\n    @Column(name = &quot;DL_PKT_LOSS_RT_DEN&quot;)\n    private String D_DL_TP_L_ER_ECEL_DEN;\n\n    @JsonIgnore\n    @Column(name = &quot;V_RAN_ACC&quot;)\n    private String D_RAN_ACC_L_ER_ECEL;\n\n    @JsonIgnore\n    @Column(name = &quot;V_RAN_ACC_DEN&quot;)\n    private String D_RAN_ACC_L_ER_ECEL_DEN;\n\n    @JsonIgnore\n    @Column(name = &quot;V_RAN_ACC_NUM&quot;)\n    private String D_RAN_ACC_L_ER_ECEL_NUM;\n\n    @JsonIgnore\n    @Column(name = &quot;V_ERB1_RET&quot;)\n    private String D_OVR_RET_L_ER_ECEL;\n\n    @JsonIgnore\n    @Column(name = &quot;V_ERB1_RET_DEN&quot;)\n    private String D_OVR_RET_L_ER_ECEL_DEN;\n\n    @JsonIgnore\n    @Column(name = &quot;V_ERB1_RET_NUM&quot;)\n    private String D_OVR_RET_L_ER_ECEL_NUM;\n\n    @JsonIgnore\n    @Column(name = &quot;D_IRAFHO_SR_L_ER_ECEL_RATE&quot;)\n    private String D_IRAFHO_SR_L_ER_ECEL_RATE;\n\n    @JsonIgnore\n    @Column(name = &quot;D_IRAFHO_SR_L_ER_ECEL_DEN&quot;)\n    private String D_IRAFHO_SR_L_ER_ECEL_DEN;\n\n    @JsonIgnore\n    @Column(name = &quot;D_IRAFHO_SR_L_ER_ECEL_NUM&quot;)\n    private String D_IRAFHO_SR_L_ER_ECEL_NUM;\n\n    @JsonIgnore\n    @Column(name = &quot;D_RACC_FR_L_ER_ECEL_RATE&quot;)\n    private String D_RACC_FR_L_ER_ECEL_RATE;\n\n    @JsonIgnore\n    @Column(name = &quot;D_RACC_FR_L_ER_ECEL_DEN&quot;)\n    private String D_RACC_FR_L_ER_ECEL_DEN;\n\n    @JsonIgnore\n    @Column(name = &quot;D_RACC_FR_L_ER_ECEL_NUM&quot;)\n    private String D_RACC_FR_L_ER_ECEL_NUM;\n\n    @JsonIgnore\n    @Column(name = &quot;client_guid&quot;)\n    private String clientGuid;\n\n    @JsonIgnore\n    @Column(name = &quot;site_guid&quot;)\n    private String siteGuid;\n\n    @JsonIgnore\n    @Column(name = &quot;cell_category&quot;)\n    private String cellCategory;\n\n    @JsonIgnore\n    @Column(name = &quot;venue_item_guid&quot;)\n    private String venueItemGuid;\n}\n</code></pre>\n<p><strong>Insert Statement</strong></p>\n<pre><code>for (int i=0; i&lt;csvArray.length(); i++) {\n                IdasKpis kpi = new IdasKpis();\n                IdasKpisId kpiId = new IdasKpisId();\n                SimpleDateFormat sdf_time = new SimpleDateFormat(&quot;MM/dd/yyyy&quot;);\n                SimpleDateFormat sdf_hour = new SimpleDateFormat(&quot;HH&quot;);\n                java.util.Date hour = sdf_hour.parse(csvArray.getJSONObject(i).getString(&quot;HOUR&quot;).substring(10, 12));\n                java.util.Date hour_time = sdf_time.parse(csvArray.getJSONObject(i).getString(&quot;HOUR&quot;));\n                java.sql.Date date_time = new Date(hour_time.getTime());\n                java.sql.Date hours = new Date(hour.getTime());\n\n                kpi.setDatetime(date_time);\n                kpi.setCell(csvArray.getJSONObject(i).getString(&quot;CELL&quot;));\n\n                kpi.setDate(hours);\n                //kpi.setKpisId(kpiId);\n                kpi.setD_S1_FR_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL (%)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL (%)&quot;) : &quot;0&quot;);\n                kpi.setD_S1_FR_L_ER_ECEL_NUM(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\n                kpi.setD_S1_FR_L_ER_ECEL_DEN(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_S1_FR_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\n                kpi.setD_UL_TP_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL (#)&quot;) : &quot;0&quot;);\n                kpi.setD_UL_TP_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\n                kpi.setD_UL_TP_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_UL_TP_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\n                kpi.setD_RAN_ACC_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL (%)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL (%)&quot;): &quot;0&quot;);\n                kpi.setD_RAN_ACC_L_ER_ECEL_DEN(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\n                kpi.setD_RAN_ACC_L_ER_ECEL_NUM(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RAN_ACC_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\n                kpi.setD_OVR_RET_L_ER_ECEL(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL (%)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL (%)&quot;) : &quot;0&quot;);\n                kpi.setD_OVR_RET_L_ER_ECEL_DEN(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\n                kpi.setD_OVR_RET_L_ER_ECEL_NUM(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_OVR_RET_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\n                kpi.setD_IRAFHO_SR_L_ER_ECEL_RATE(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL (%)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL (%)&quot;) : &quot;0&quot;);\n                kpi.setD_IRAFHO_SR_L_ER_ECEL_DEN(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\n                kpi.setD_IRAFHO_SR_L_ER_ECEL_NUM(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_IRAFHO_SR_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\n                kpi.setD_RACC_FR_L_ER_ECEL_RATE(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL (%)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL (%)&quot;) : &quot;0&quot;);\n                kpi.setD_RACC_FR_L_ER_ECEL_DEN(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL_DEN (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL_DEN (#)&quot;) : &quot;0&quot;);\n                kpi.setD_RACC_FR_L_ER_ECEL_NUM(isNotEmpty(csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL_NUM (#)&quot;)) ? csvArray.getJSONObject(i).getString(&quot;D_RACC_FR_L_ER_ECEL_NUM (#)&quot;) : &quot;0&quot;);\n                kpi.setClientGuid(clientGuid);\n                kpi.setCellCategory(&quot;1&quot;);\n                kpi.setSiteGuid(siteGuid);\n                kpi.setVenueItemGuid(venueItem);\n\n                kpiList.add(kpi);\n            }\n            kpiDao.saveAll(kpiList);\n</code></pre>\n<p><strong>Composite Key Class</strong></p>\n<pre><code>package com.vizalogix.insite.dx.entities.SVDXDB;\n\nimport lombok.Getter;\nimport lombok.Setter;\n\nimport javax.persistence.Column;\nimport javax.persistence.Embeddable;\nimport java.io.Serializable;\nimport java.util.Date;\n\n@Getter\n@Setter\npublic class IdasKpisId implements Serializable {\n\n    @Column(name = &quot;ENODEB&quot;, updatable = false, nullable = false)\n    String cell;\n\n    @Column(name = &quot;HOUR_DATE_TIME&quot;, updatable = false, nullable = false)\n    Date datetime;\n}\n</code></pre>\n"},{"tags":["java","collections","guava"],"comments":[{"owner":{"account_id":19052506,"reputation":1223,"user_id":13910368,"display_name":"M123"},"score":1,"creation_date":1658487394,"post_id":73079162,"comment_id":129069247,"body_markdown":"Does this answer your question? [Difference between map and ImmutableMap](https://stackoverflow.com/questions/42855386/difference-between-map-and-immutablemap)","body":"Does this answer your question? <a href=\"https://stackoverflow.com/questions/42855386/difference-between-map-and-immutablemap\">Difference between map and ImmutableMap</a>"},{"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"score":0,"creation_date":1658487714,"post_id":73079162,"comment_id":129069373,"body_markdown":"see also https://docs.oracle.com/javase/9/core/creating-immutable-lists-sets-and-maps.htm","body":"see also <a href=\"https://docs.oracle.com/javase/9/core/creating-immutable-lists-sets-and-maps.htm\" rel=\"nofollow noreferrer\">docs.oracle.com/javase/9/core/&hellip;</a>"},{"owner":{"account_id":17835,"reputation":303895,"user_id":40342,"accept_rate":62,"display_name":"Joachim Sauer"},"score":2,"creation_date":1658487996,"post_id":73079162,"comment_id":129069467,"body_markdown":"Only one of those encodes the distinction in the type system. You could accept (or return) an `ImmutableMap` to indicate that it must be an immutable map.","body":"Only one of those encodes the distinction in the type system. You could accept (or return) an <code>ImmutableMap</code> to indicate that it must be an immutable map."}],"answers":[{"tags":[],"owner":{"account_id":74704,"reputation":11534,"user_id":214525,"accept_rate":100,"display_name":"f1sh"},"down_vote_count":1,"up_vote_count":5,"is_accepted":true,"score":4,"last_activity_date":1658490698,"creation_date":1658488476,"answer_id":73079458,"question_id":73079162,"body_markdown":"I assume you are talking about `com.google.common.collect.ImmutableMap`? [According to the javadoc](https://guava.dev/releases/23.0/api/docs/com/google/common/collect/ImmutableMap.html), that has been in guava since 2.0, which is really old (I can only find the [year 2010 for version 3.0][1], so 2.0 is before that).\r\n\r\n`Map.of` was only introduced with java 9, which was [released in September 2017][2]. That means that only the first option was available before java 9, but you needed a library.\r\n\r\nSince this feature was finally integrated into java itself with java 9 and you don&#39;t need an external library anymore, I would argue `Map.of` is preferrable.\r\n\r\nHowever, in terms of readability, I have always hated that `Map.of` as well as `List.of` return immutable implementations, which is not what an inexperienced (=has not fallen into that trap yet) developer expects.\r\n\r\nIf you are using guava anyways, `ImmutableMap.of` is the more readable option, but that&#39;s up to you.\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/com.google.guava/guava\r\n  [2]: https://en.wikipedia.org/wiki/Java_version_history","title":"ImmutableMap.of vs Java Map.of","body":"<p>I assume you are talking about <code>com.google.common.collect.ImmutableMap</code>? <a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/ImmutableMap.html\" rel=\"nofollow noreferrer\">According to the javadoc</a>, that has been in guava since 2.0, which is really old (I can only find the <a href=\"https://mvnrepository.com/artifact/com.google.guava/guava\" rel=\"nofollow noreferrer\">year 2010 for version 3.0</a>, so 2.0 is before that).</p>\n<p><code>Map.of</code> was only introduced with java 9, which was <a href=\"https://en.wikipedia.org/wiki/Java_version_history\" rel=\"nofollow noreferrer\">released in September 2017</a>. That means that only the first option was available before java 9, but you needed a library.</p>\n<p>Since this feature was finally integrated into java itself with java 9 and you don't need an external library anymore, I would argue <code>Map.of</code> is preferrable.</p>\n<p>However, in terms of readability, I have always hated that <code>Map.of</code> as well as <code>List.of</code> return immutable implementations, which is not what an inexperienced (=has not fallen into that trap yet) developer expects.</p>\n<p>If you are using guava anyways, <code>ImmutableMap.of</code> is the more readable option, but that's up to you.</p>\n"},{"tags":[],"owner":{"account_id":2933712,"reputation":6419,"user_id":2513200,"accept_rate":83,"display_name":"Hulk"},"down_vote_count":0,"up_vote_count":10,"is_accepted":false,"score":10,"last_activity_date":1658490956,"creation_date":1658490598,"answer_id":73079902,"question_id":73079162,"body_markdown":"A possible downside of `Map.of` is that it returns `Map`, which provides a lot of methods that are documented to throw `UnsupportedOperationException` in case the map is immutable - that may be considered a disadvantage in API design. There is no reliable way for code consuming `Map`s to know whether any of these will work.\r\n\r\nThere were good reasons for this decision, such as being able to take advantage of the existing codebase without breaking backwards compatibility. But this comes at the cost that the type system can&#39;t help with communicating whether a given method can accept (or requires) an immutable or a mutable map. That is left to documentation.\r\n\r\n([guavas `ImmutableMap`][1] also implements `Map`, but at least the unsupported methods are marked as deprecated. Arguably still not ideal, but... tradeoffs)\r\n\r\n\r\n  [1]: https://guava.dev/releases/23.0/api/docs/com/google/common/collect/ImmutableMap.html","title":"ImmutableMap.of vs Java Map.of","body":"<p>A possible downside of <code>Map.of</code> is that it returns <code>Map</code>, which provides a lot of methods that are documented to throw <code>UnsupportedOperationException</code> in case the map is immutable - that may be considered a disadvantage in API design. There is no reliable way for code consuming <code>Map</code>s to know whether any of these will work.</p>\n<p>There were good reasons for this decision, such as being able to take advantage of the existing codebase without breaking backwards compatibility. But this comes at the cost that the type system can't help with communicating whether a given method can accept (or requires) an immutable or a mutable map. That is left to documentation.</p>\n<p>(<a href=\"https://guava.dev/releases/23.0/api/docs/com/google/common/collect/ImmutableMap.html\" rel=\"noreferrer\">guavas <code>ImmutableMap</code></a> also implements <code>Map</code>, but at least the unsupported methods are marked as deprecated. Arguably still not ideal, but... tradeoffs)</p>\n"}],"owner":{"account_id":1590745,"reputation":1436,"user_id":1474111,"accept_rate":27,"display_name":"user1474111"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1078,"favorite_count":0,"down_vote_count":2,"up_vote_count":3,"accepted_answer_id":73079458,"answer_count":2,"score":1,"last_activity_date":1658490956,"creation_date":1658487157,"question_id":73079162,"body_markdown":"I have seen that ImmutableMap.of is used to create immutable map object. At the same time Java offers Map.of which creates immutable map as well. Is there any advantage of using ImmutableMap.of instead of Map.of from Java ?\r\n\r\nEdit: I am not asking differences between map and immutable map. I am asking why some people prefer ImmutableMap.of instead of Map.of which also creates immutableMap.","title":"ImmutableMap.of vs Java Map.of","body":"<p>I have seen that ImmutableMap.of is used to create immutable map object. At the same time Java offers Map.of which creates immutable map as well. Is there any advantage of using ImmutableMap.of instead of Map.of from Java ?</p>\n<p>Edit: I am not asking differences between map and immutable map. I am asking why some people prefer ImmutableMap.of instead of Map.of which also creates immutableMap.</p>\n"},{"tags":["java","c++","g++","treeset"],"comments":[{"owner":{"account_id":12583055,"reputation":447,"user_id":9732672,"display_name":"NomadMaker"},"score":0,"creation_date":1593024280,"post_id":62534893,"comment_id":110638028,"body_markdown":"Please choose a language: Java and c++/g++ are very different languages.","body":"Please choose a language: Java and c++/g++ are very different languages."}],"answers":[{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":3,"is_accepted":true,"score":3,"last_activity_date":1593022356,"creation_date":1592953598,"answer_id":62545099,"question_id":62534893,"body_markdown":"The `order_of_key` function returns the number of elements less than the provided key. In your C++ code, you add the element to the set and then call `order_of_key` element plus one, in order to *include* the element you just added.\r\n\r\nPreserving this arrangement in the Java code, the way to implement something like `order_of_key` faithfully using a Java TreeSet is to call\r\n\r\n    return s.headSet(k, false).size();\r\n\r\nor simply\r\n\r\n    return s.headSet(k).size();\r\n\r\nbecause either of these returns the size of the head set containing elements strictly less than `k`. There&#39;s no need to do a contains-check first. When I run this using the input array from your C++ code, I get the same intermediate results and final result for the number of inversions: 6.\r\n\r\nNote that Java&#39;s TreeSet also includes the ability to create the tail-set, that is, the elements that are greater than the provided element. This turns out to be (in my opinion) a much simpler way to compute the number of inversions. Prior to adding an element, the size of the tail-set that is larger than the current element is the number of inversions relative to this element. Since we want the tail-set to be strictly larger than the current element, we use `tailSet(k, false)`. We can then do this for each element in the input list:\r\n\r\n    int inversions(List&lt;Integer&gt; a) {\r\n        var s = new TreeSet&lt;Integer&gt;();\r\n        int invcount = 0;\r\n        for (int k : a) {\r\n            invcount += s.tailSet(k, false).size();\r\n            s.add(k);\r\n        }\r\n        return invcount;\r\n    }\r\n\r\n    inversions(List.of(32, 35, 43, 1, 38, 39, 42)) // result is 6\r\n\r\n**UPDATE 2020-06-24**\r\n\r\nThe above code works only for input with unique values. If the input has duplicate values, it doesn&#39;t work. I note that in the C++ code, a tree that uses the `less_equal&lt;int&gt;` comparison function preserves duplicates, while using `less&lt;int&gt;` compresses out duplicates.\r\n\r\nThe reason that keeping duplicates is important is that each element -- even if it&#39;s a duplicate -- can count as an inversion. Thus, input of [2, 2, 1] is considered to have two inversions. A Java TreeSet compresses out duplicates, so we have to do some additional work to preserve them.\r\n\r\nOne way to allow &quot;duplicate&quot; int values is to make them unique somehow. This can be done by creating a new object to contain the int value paired with a counter that&#39;s always incremented. Duplicate values are made unique since they&#39;ll have different counter values. Here&#39;s a class that does that:\r\n\r\n    static class UniqInt implements Comparable&lt;UniqInt&gt; {\r\n        static int count = 0;\r\n        final int value;\r\n        final int uniq;\r\n        UniqInt(int value) { this.value = value; uniq = count++; }\r\n        public int compareTo(UniqInt other) {\r\n            int c = Integer.compare(this.value, other.value);\r\n            return c != 0 ? c : Integer.compare(this.uniq, other.uniq);\r\n        }\r\n    }\r\n\r\nNote that the `compareTo` method here compares both the value and the &quot;uniq&quot; counter value, so creating multiple UniqInt instances will differ from each other and will be totally ordered. Once we have this class, we essentially do the same thing, except that we keep track of UniqInt instead of Integer objects in the TreeSet.\r\n\r\n    int inversions1(List&lt;Integer&gt; a) {\r\n        var s = new TreeSet&lt;UniqInt&gt;();\r\n        int invcount = 0;\r\n        for (int k : a) {\r\n            var u = new UniqInt(k);\r\n            invcount += s.tailSet(u, false).size();\r\n            s.add(u);\r\n        }\r\n        return invcount;\r\n    }\r\n\r\nFor the input provided in the comment (which includes duplicate values),\r\n\r\n&gt; 84, 2, 37, 3, 67, 82, 19, 97, 91, 63, 27, 6, 13, 90, 63, 89, 100, 60, 47, 96, 54, 26, 64, 50, 71, 16, 6, 40, 84, 93, 67, 85, 16, 22, 60\r\n\r\nthis gives the expected result of 290.\r\n\r\nThis is a bit fragile, however. Note that creating a new UniqInt with the same value always creates an instance that is greater than any existing one because the counter is always incremented. (Until you&#39;ve created 2^31 of them.) When the new instance is created, its tail-set will never include any of the duplicate values already in the TreeSet. This is probably reasonable for this small example, but if this were part of a larger system, I&#39;d think more carefully about how to get the correct head-set or tail-set relative to some value, without having to rely on the most recently created UniqInt being greater than all previous ones.","title":"Counting Inversions using TreeSet Java","body":"<p>The <code>order_of_key</code> function returns the number of elements less than the provided key. In your C++ code, you add the element to the set and then call <code>order_of_key</code> element plus one, in order to <em>include</em> the element you just added.</p>\n<p>Preserving this arrangement in the Java code, the way to implement something like <code>order_of_key</code> faithfully using a Java TreeSet is to call</p>\n<pre><code>return s.headSet(k, false).size();\n</code></pre>\n<p>or simply</p>\n<pre><code>return s.headSet(k).size();\n</code></pre>\n<p>because either of these returns the size of the head set containing elements strictly less than <code>k</code>. There's no need to do a contains-check first. When I run this using the input array from your C++ code, I get the same intermediate results and final result for the number of inversions: 6.</p>\n<p>Note that Java's TreeSet also includes the ability to create the tail-set, that is, the elements that are greater than the provided element. This turns out to be (in my opinion) a much simpler way to compute the number of inversions. Prior to adding an element, the size of the tail-set that is larger than the current element is the number of inversions relative to this element. Since we want the tail-set to be strictly larger than the current element, we use <code>tailSet(k, false)</code>. We can then do this for each element in the input list:</p>\n<pre><code>int inversions(List&lt;Integer&gt; a) {\n    var s = new TreeSet&lt;Integer&gt;();\n    int invcount = 0;\n    for (int k : a) {\n        invcount += s.tailSet(k, false).size();\n        s.add(k);\n    }\n    return invcount;\n}\n\ninversions(List.of(32, 35, 43, 1, 38, 39, 42)) // result is 6\n</code></pre>\n<p><strong>UPDATE 2020-06-24</strong></p>\n<p>The above code works only for input with unique values. If the input has duplicate values, it doesn't work. I note that in the C++ code, a tree that uses the <code>less_equal&lt;int&gt;</code> comparison function preserves duplicates, while using <code>less&lt;int&gt;</code> compresses out duplicates.</p>\n<p>The reason that keeping duplicates is important is that each element -- even if it's a duplicate -- can count as an inversion. Thus, input of [2, 2, 1] is considered to have two inversions. A Java TreeSet compresses out duplicates, so we have to do some additional work to preserve them.</p>\n<p>One way to allow &quot;duplicate&quot; int values is to make them unique somehow. This can be done by creating a new object to contain the int value paired with a counter that's always incremented. Duplicate values are made unique since they'll have different counter values. Here's a class that does that:</p>\n<pre><code>static class UniqInt implements Comparable&lt;UniqInt&gt; {\n    static int count = 0;\n    final int value;\n    final int uniq;\n    UniqInt(int value) { this.value = value; uniq = count++; }\n    public int compareTo(UniqInt other) {\n        int c = Integer.compare(this.value, other.value);\n        return c != 0 ? c : Integer.compare(this.uniq, other.uniq);\n    }\n}\n</code></pre>\n<p>Note that the <code>compareTo</code> method here compares both the value and the &quot;uniq&quot; counter value, so creating multiple UniqInt instances will differ from each other and will be totally ordered. Once we have this class, we essentially do the same thing, except that we keep track of UniqInt instead of Integer objects in the TreeSet.</p>\n<pre><code>int inversions1(List&lt;Integer&gt; a) {\n    var s = new TreeSet&lt;UniqInt&gt;();\n    int invcount = 0;\n    for (int k : a) {\n        var u = new UniqInt(k);\n        invcount += s.tailSet(u, false).size();\n        s.add(u);\n    }\n    return invcount;\n}\n</code></pre>\n<p>For the input provided in the comment (which includes duplicate values),</p>\n<blockquote>\n<p>84, 2, 37, 3, 67, 82, 19, 97, 91, 63, 27, 6, 13, 90, 63, 89, 100, 60, 47, 96, 54, 26, 64, 50, 71, 16, 6, 40, 84, 93, 67, 85, 16, 22, 60</p>\n</blockquote>\n<p>this gives the expected result of 290.</p>\n<p>This is a bit fragile, however. Note that creating a new UniqInt with the same value always creates an instance that is greater than any existing one because the counter is always incremented. (Until you've created 2^31 of them.) When the new instance is created, its tail-set will never include any of the duplicate values already in the TreeSet. This is probably reasonable for this small example, but if this were part of a larger system, I'd think more carefully about how to get the correct head-set or tail-set relative to some value, without having to rely on the most recently created UniqInt being greater than all previous ones.</p>\n"}],"owner":{"display_name":"user8838577"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":329,"favorite_count":0,"down_vote_count":0,"up_vote_count":3,"accepted_answer_id":62545099,"answer_count":1,"score":3,"last_activity_date":1658490918,"creation_date":1592915812,"question_id":62534893,"body_markdown":"I&#39;m using `TreeSet` for solving counting inversions problem. I&#39;m using following approach which uses `gnu_pbds` which works in O(logn) time. \r\n\r\n## Algorithm\r\n\r\n 1. Insert the first element of the array in the `Ordered_Set`.\r\n 2. For all the remaining element in `arr[]` do the following:\r\n - Insert the current element in the `Ordered_Set`.\r\n - Find the number of element strictly less than current element + 1 in `Ordered_Set` using function `order_of_key`(arr[i]+1).\r\n - The difference between size of `Ordered_Set` and `order_of_key`(current_element + 1) will given the inversion count for the current element.\r\n\r\n[You can read more about this algorithm here.](https://www.geeksforgeeks.org/counting-inversions-using-ordered-set-and-gnu-c-pbds/#:~:text=Counting%20Inversions%20using%20Ordered%20Set%20and%20GNU%20C%2B%2B%20PBDS,j%5D%20and%20i%20%3C%20j.)\r\n\r\n\r\n\r\n&gt; For `order_of_key` method I&#39;m using `TreeSet`&#39;s headset(k) method for calculation.\r\n\r\n## My code\r\n\r\n\r\n```java\r\npublic class Solution {\r\n    \r\n    static int order_of_key(TreeSet&lt;Integer&gt; s, int k)\r\n    {\r\n                return s.headSet(k, true).size();\r\n    }\r\n\r\n    public int solve(ArrayList&lt;Integer&gt; a) {\r\n    \r\n        TreeSet&lt;Integer&gt; s = new TreeSet&lt;&gt;();\r\n        s.add(a.get(0));\r\n        int invcount = 0;\r\n        for(int i = 1; i &lt; a.size(); i++)\r\n        {\r\n            s.add(a.get(i));\r\n            int key = order_of_key(s, a.get(i) + 1);\r\n            // if (i + 1 == a.size()) key--;\r\n            invcount += s.size() - key;\r\n            \r\n           // System.out.println(s+&quot; &quot; + (a.get(i) + 1) + &quot; &quot; + key + &quot; &quot; + invcount);\r\n                  \r\n        }\r\n        return invcount;  \r\n    }\r\n}\r\n```\r\n\r\n\r\n## Respective C++ Code\r\n```cpp\r\n// Ordered set in GNU C++ based \r\n// approach for inversion count \r\n#include &lt;bits/stdc++.h&gt; \r\n#include &lt;ext/pb_ds/assoc_container.hpp&gt; \r\n#include &lt;ext/pb_ds/tree_policy.hpp&gt; \r\nusing namespace __gnu_pbds; \r\nusing namespace std; \r\n\r\n// Ordered Set Tree \r\ntypedef tree&lt;int, null_type, less_equal&lt;int&gt;, \r\n\t\t\trb_tree_tag, \r\n\t\t\ttree_order_statistics_node_update&gt; \r\n\tordered_set; \r\n\r\n// Returns inversion count in \r\n// arr[0..n-1] \r\n\r\n\r\nvoid print(ordered_set s, int n){\r\n  \r\n for(int i = 0; i &lt; n; i++)\r\n {\r\n  // printf(&quot;%d &quot;,s[i]); // &lt;&lt;endl; \r\n cout &lt;&lt; *(s.find_by_order(i))  \r\n         &lt;&lt; &quot; &quot;;\r\n }\r\n  // cout &lt;&lt; endl;\r\n}\r\n\r\nint getInvCount(int arr[], int n) \r\n{ \r\n\tint key; \r\n\t// Intialise the ordered_set \r\n\tordered_set set1; \r\n\r\n\t// Insert the first \r\n\t// element in set \r\n\tset1.insert(arr[0]); \r\n\r\n\t// Intialise inversion \r\n\t// count to zero \r\n\tint invcount = 0; \r\n\r\n\t// Finding the inversion \r\n\t// count for current element \r\n\tfor (int i = 1; i &lt; n; i++) { \r\n\t\tset1.insert(arr[i]); \r\n        // Number of elements strictly \r\n\t\t// less than arr[i]+1 \r\n\t\tkey = set1.order_of_key(arr[i] + 1); \r\n\r\n\t\t// Difference between set size \r\n\t\t// and key will give the \r\n\t\t// inversion count \r\n\t\tinvcount += set1.size() - key; \r\n\t\tprint(set1, n);\r\n      cout &lt;&lt; arr[i] + 1 &lt;&lt; &quot; &quot;;\r\n      cout &lt;&lt; key &lt;&lt; &quot; &quot;;\r\n      \r\n        cout &lt;&lt; &quot; &quot; &lt;&lt; invcount &lt;&lt; endl;\r\n\t\t\r\n    } \r\n\treturn invcount; \r\n} \r\n\r\n// Driver&#39;s Code \r\nint main() \r\n{ \r\n\tint arr[] = { 32, 35, 43, 1, 38, 39, 42 }; \r\n\tint n = sizeof(arr) / sizeof(int); \r\n    cout &lt;&lt; n &lt;&lt; endl;\r\n\t// Function call to count \r\n\t// inversion \r\n\tcout &lt;&lt; getInvCount(arr, n); \r\n\treturn 0; \r\n} \r\n```\r\n## Observations\r\n\r\n- my solution works for all test cases but for some trivial test cases it returns the `1- inversion count`. If I changed the working of `order_of_key` to the following it breaks some other test cases.\r\n```java\r\nint order_of_key(TreeSet&lt;Integer&gt; s, int k)\r\n    {\r\n            if(s.contains(k))\r\n                return s.headSet(k).size();\r\n            else\r\n                return s.headSet(k, true).size();\r\n    }\r\n```\r\n - but the `gnu_pbds` works for all the time. \r\n \r\n\r\nPlease help me fix this code using `TreeSet`. Also if I&#39;m missing the some another points respect to `pbds` order_of_key method then let me know.\r\n\r\n","title":"Counting Inversions using TreeSet Java","body":"<p>I'm using <code>TreeSet</code> for solving counting inversions problem. I'm using following approach which uses <code>gnu_pbds</code> which works in O(logn) time.</p>\n<h2>Algorithm</h2>\n<ol>\n<li>Insert the first element of the array in the <code>Ordered_Set</code>.</li>\n<li>For all the remaining element in <code>arr[]</code> do the following:</li>\n</ol>\n<ul>\n<li>Insert the current element in the <code>Ordered_Set</code>.</li>\n<li>Find the number of element strictly less than current element + 1 in <code>Ordered_Set</code> using function <code>order_of_key</code>(arr[i]+1).</li>\n<li>The difference between size of <code>Ordered_Set</code> and <code>order_of_key</code>(current_element + 1) will given the inversion count for the current element.</li>\n</ul>\n<p><a href=\"https://www.geeksforgeeks.org/counting-inversions-using-ordered-set-and-gnu-c-pbds/#:%7E:text=Counting%20Inversions%20using%20Ordered%20Set%20and%20GNU%20C%2B%2B%20PBDS,j%5D%20and%20i%20%3C%20j.\" rel=\"nofollow noreferrer\">You can read more about this algorithm here.</a></p>\n<blockquote>\n<p>For <code>order_of_key</code> method I'm using <code>TreeSet</code>'s headset(k) method for calculation.</p>\n</blockquote>\n<h2>My code</h2>\n<pre class=\"lang-java prettyprint-override\"><code>public class Solution {\n    \n    static int order_of_key(TreeSet&lt;Integer&gt; s, int k)\n    {\n                return s.headSet(k, true).size();\n    }\n\n    public int solve(ArrayList&lt;Integer&gt; a) {\n    \n        TreeSet&lt;Integer&gt; s = new TreeSet&lt;&gt;();\n        s.add(a.get(0));\n        int invcount = 0;\n        for(int i = 1; i &lt; a.size(); i++)\n        {\n            s.add(a.get(i));\n            int key = order_of_key(s, a.get(i) + 1);\n            // if (i + 1 == a.size()) key--;\n            invcount += s.size() - key;\n            \n           // System.out.println(s+&quot; &quot; + (a.get(i) + 1) + &quot; &quot; + key + &quot; &quot; + invcount);\n                  \n        }\n        return invcount;  \n    }\n}\n</code></pre>\n<h2>Respective C++ Code</h2>\n<pre class=\"lang-cpp prettyprint-override\"><code>// Ordered set in GNU C++ based \n// approach for inversion count \n#include &lt;bits/stdc++.h&gt; \n#include &lt;ext/pb_ds/assoc_container.hpp&gt; \n#include &lt;ext/pb_ds/tree_policy.hpp&gt; \nusing namespace __gnu_pbds; \nusing namespace std; \n\n// Ordered Set Tree \ntypedef tree&lt;int, null_type, less_equal&lt;int&gt;, \n            rb_tree_tag, \n            tree_order_statistics_node_update&gt; \n    ordered_set; \n\n// Returns inversion count in \n// arr[0..n-1] \n\n\nvoid print(ordered_set s, int n){\n  \n for(int i = 0; i &lt; n; i++)\n {\n  // printf(&quot;%d &quot;,s[i]); // &lt;&lt;endl; \n cout &lt;&lt; *(s.find_by_order(i))  \n         &lt;&lt; &quot; &quot;;\n }\n  // cout &lt;&lt; endl;\n}\n\nint getInvCount(int arr[], int n) \n{ \n    int key; \n    // Intialise the ordered_set \n    ordered_set set1; \n\n    // Insert the first \n    // element in set \n    set1.insert(arr[0]); \n\n    // Intialise inversion \n    // count to zero \n    int invcount = 0; \n\n    // Finding the inversion \n    // count for current element \n    for (int i = 1; i &lt; n; i++) { \n        set1.insert(arr[i]); \n        // Number of elements strictly \n        // less than arr[i]+1 \n        key = set1.order_of_key(arr[i] + 1); \n\n        // Difference between set size \n        // and key will give the \n        // inversion count \n        invcount += set1.size() - key; \n        print(set1, n);\n      cout &lt;&lt; arr[i] + 1 &lt;&lt; &quot; &quot;;\n      cout &lt;&lt; key &lt;&lt; &quot; &quot;;\n      \n        cout &lt;&lt; &quot; &quot; &lt;&lt; invcount &lt;&lt; endl;\n        \n    } \n    return invcount; \n} \n\n// Driver's Code \nint main() \n{ \n    int arr[] = { 32, 35, 43, 1, 38, 39, 42 }; \n    int n = sizeof(arr) / sizeof(int); \n    cout &lt;&lt; n &lt;&lt; endl;\n    // Function call to count \n    // inversion \n    cout &lt;&lt; getInvCount(arr, n); \n    return 0; \n} \n</code></pre>\n<h2>Observations</h2>\n<ul>\n<li>my solution works for all test cases but for some trivial test cases it returns the <code>1- inversion count</code>. If I changed the working of <code>order_of_key</code> to the following it breaks some other test cases.</li>\n</ul>\n<pre class=\"lang-java prettyprint-override\"><code>int order_of_key(TreeSet&lt;Integer&gt; s, int k)\n    {\n            if(s.contains(k))\n                return s.headSet(k).size();\n            else\n                return s.headSet(k, true).size();\n    }\n</code></pre>\n<ul>\n<li>but the <code>gnu_pbds</code> works for all the time.</li>\n</ul>\n<p>Please help me fix this code using <code>TreeSet</code>. Also if I'm missing the some another points respect to <code>pbds</code> order_of_key method then let me know.</p>\n"},{"tags":["java","android","json","kotlin"],"comments":[{"owner":{"account_id":45213,"reputation":26348,"user_id":133203,"accept_rate":97,"display_name":"Federico klez Culloca"},"score":1,"creation_date":1658492006,"post_id":73079879,"comment_id":129070902,"body_markdown":"That would defeat the purpose of that security measure, wouldn&#39;t it?","body":"That would defeat the purpose of that security measure, wouldn&#39;t it?"},{"owner":{"account_id":25870076,"reputation":1,"user_id":19601108,"display_name":"Leyon Hossain"},"score":0,"creation_date":1658584652,"post_id":73079879,"comment_id":129090359,"body_markdown":"Yes. But it was an educational app. and I paid them to subscribed one of their course but they don&#39;t allow me to download my lecture sheet. I think they kill my right.","body":"Yes. But it was an educational app. and I paid them to subscribed one of their course but they don&#39;t allow me to download my lecture sheet. I think they kill my right."}],"answers":[{"tags":[],"owner":{"account_id":12201287,"reputation":284,"user_id":8905493,"display_name":"dsalkamoses"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1658490808,"creation_date":1658490808,"answer_id":73079937,"question_id":73079879,"body_markdown":"may be accomplished by the following ways :\r\n- install a screen recorder and record video of the screen. you can then take screenshot of the video later.\r\n- install a connector/app to view your phone screen in your PC and then take the screenshot in the PC. \r\n\r\nhard way [can cause stability issues. not recommended]: reverse engineer the app and remove such restrictions. then do whatever you wish with the app ","title":"Is it possible to take a screenshot when it show &quot; Couldn&#39;t save screenshot&quot;?","body":"<p>may be accomplished by the following ways :</p>\n<ul>\n<li>install a screen recorder and record video of the screen. you can then take screenshot of the video later.</li>\n<li>install a connector/app to view your phone screen in your PC and then take the screenshot in the PC.</li>\n</ul>\n<p>hard way [can cause stability issues. not recommended]: reverse engineer the app and remove such restrictions. then do whatever you wish with the app</p>\n"}],"owner":{"account_id":25870076,"reputation":1,"user_id":19601108,"display_name":"Leyon Hossain"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":39,"favorite_count":0,"down_vote_count":2,"up_vote_count":0,"answer_count":1,"score":-2,"last_activity_date":1658490808,"creation_date":1658490528,"question_id":73079879,"body_markdown":"[**Couldn&#39;t save screenshot**][1]\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/ce9Bs.png\r\n\r\n\r\nI have searched for &quot; secure-flag &quot; text in that app by using APK Parser. But didn&#39;t find any.\r\n\r\nSo, is there any method to take screenshot on android app that doesn&#39;t allow to take screenshot??","title":"Is it possible to take a screenshot when it show &quot; Couldn&#39;t save screenshot&quot;?","body":"<p><a href=\"https://i.stack.imgur.com/ce9Bs.png\" rel=\"nofollow noreferrer\"><strong>Couldn't save screenshot</strong></a></p>\n<p>I have searched for &quot; secure-flag &quot; text in that app by using APK Parser. But didn't find any.</p>\n<p>So, is there any method to take screenshot on android app that doesn't allow to take screenshot??</p>\n"},{"tags":["java","uri"],"answers":[{"tags":[],"owner":{"account_id":12566179,"reputation":52,"user_id":12791811,"display_name":"Georglider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658490697,"creation_date":1658490697,"answer_id":73079918,"question_id":73078973,"body_markdown":"I think you&#39;re using the wrong class for this\r\nI tried doing it with URL class instead\r\n```\r\nString input = &quot;https://xyzz.com.in/collections/two-tone-wedding-rings?ugg_9ty554_tags=ROSE|WHITE&amp;ugg_yuiolz_price=%3A700%201000%20%7B0%7D%20-%20%7B1%7D\\n&quot;\r\nURL uri = new URL(input);\r\nSystem.out.println(uri.getQuery());\r\n```\r\nOutput:\r\n```\r\nugg_9ty554_tags=ROSE|WHITE&amp;ugg_yuiolz_price=%3A700%201000%20%7B0%7D%20-%20%7B1%7D\r\n```","title":"Get Query Details From A URL Without Parsing It In Java","body":"<p>I think you're using the wrong class for this\nI tried doing it with URL class instead</p>\n<pre><code>String input = &quot;https://xyzz.com.in/collections/two-tone-wedding-rings?ugg_9ty554_tags=ROSE|WHITE&amp;ugg_yuiolz_price=%3A700%201000%20%7B0%7D%20-%20%7B1%7D\\n&quot;\nURL uri = new URL(input);\nSystem.out.println(uri.getQuery());\n</code></pre>\n<p>Output:</p>\n<pre><code>ugg_9ty554_tags=ROSE|WHITE&amp;ugg_yuiolz_price=%3A700%201000%20%7B0%7D%20-%20%7B1%7D\n</code></pre>\n"}],"owner":{"account_id":25432850,"reputation":1,"user_id":19236972,"display_name":"MadagascarPenguin"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":43,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658490697,"creation_date":1658486284,"question_id":73078973,"body_markdown":"I am trying to receive name and value (query details) from a URL but I have a restriction that the URL shouldn&#39;t be parsed to find out query details from the URL. I tried to find the index of &#39;?&#39; and then add the substring on a list till index of &#39;=&#39;-1 from the query which I found using the statement:\r\n\r\n    String query = uri.getQuery() == null || uri.getQuery().trim().isEmpty() ? &quot;&quot; : uri.getQuery();\r\n\r\nThe issue that comes here is I am getting an error which states:\r\n\r\n&gt; java.net.URISyntaxException: Illegal character in query at index\r\n\r\nCan anyone point where am I going wrong ?\r\n\r\nThe URL which I am using is:\r\n\r\n    https://xyzz.com.in/collections/two-tone-wedding-rings?ugg_9ty554_tags=ROSE|WHITE&amp;ugg_yuiolz_price=%3A700%201000%20%7B0%7D%20-%20%7B1%7D\r\n\r\n(The | symbol is creating issues)","title":"Get Query Details From A URL Without Parsing It In Java","body":"<p>I am trying to receive name and value (query details) from a URL but I have a restriction that the URL shouldn't be parsed to find out query details from the URL. I tried to find the index of '?' and then add the substring on a list till index of '='-1 from the query which I found using the statement:</p>\n<pre><code>String query = uri.getQuery() == null || uri.getQuery().trim().isEmpty() ? &quot;&quot; : uri.getQuery();\n</code></pre>\n<p>The issue that comes here is I am getting an error which states:</p>\n<blockquote>\n<p>java.net.URISyntaxException: Illegal character in query at index</p>\n</blockquote>\n<p>Can anyone point where am I going wrong ?</p>\n<p>The URL which I am using is:</p>\n<pre><code>https://xyzz.com.in/collections/two-tone-wedding-rings?ugg_9ty554_tags=ROSE|WHITE&amp;ugg_yuiolz_price=%3A700%201000%20%7B0%7D%20-%20%7B1%7D\n</code></pre>\n<p>(The | symbol is creating issues)</p>\n"},{"tags":["java","amazon-web-services","akka","netty","amazon-sqs"],"comments":[{"owner":{"account_id":1381048,"reputation":3561,"user_id":1314028,"accept_rate":75,"display_name":"spinlok"},"score":0,"creation_date":1626313350,"post_id":68377235,"comment_id":120861664,"body_markdown":"How fast are you dequeuing from SQS? Can you include the code for that?","body":"How fast are you dequeuing from SQS? Can you include the code for that?"},{"owner":{"account_id":455892,"reputation":6866,"user_id":854342,"accept_rate":17,"display_name":"Curtis Yallop"},"score":2,"creation_date":1632211472,"post_id":68377235,"comment_id":122424790,"body_markdown":"I used your NettyNioAsyncHttpClient.builder not for sqs but for s3 (Thanks!). I was getting intermittent &quot;Acquire..&quot; errors until I tweaked it properly. I got 4000 cross-regional CopyObject&#39;s per second without errors (s3-to-s3 CopyObject, app run in cloud). I set maxConcurrency 500 (pool size) which makes it noticeably faster. Locally (on my home machine) I could only get 750/s (without errors). Even setting maxConcurrency 4000 (!) didn&#39;t allow me to go beyond that. I had to rate-limit my requests to avoid the error when running locally (if &gt;MAX_REQUESTS_PER_SECOND then I sleep for 1 second).","body":"I used your NettyNioAsyncHttpClient.builder not for sqs but for s3 (Thanks!). I was getting intermittent &quot;Acquire..&quot; errors until I tweaked it properly. I got 4000 cross-regional CopyObject&#39;s per second without errors (s3-to-s3 CopyObject, app run in cloud). I set maxConcurrency 500 (pool size) which makes it noticeably faster. Locally (on my home machine) I could only get 750/s (without errors). Even setting maxConcurrency 4000 (!) didn&#39;t allow me to go beyond that. I had to rate-limit my requests to avoid the error when running locally (if &gt;MAX_REQUESTS_PER_SECOND then I sleep for 1 second)."}],"answers":[{"tags":[],"owner":{"account_id":3042681,"reputation":81,"user_id":2579273,"display_name":"user2579273"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658179353,"creation_date":1658179353,"answer_id":73028786,"question_id":68377235,"body_markdown":"I encountered the same issue, and I ended up firing 100 async batch requests then wait for those 100 to get cleared before firing another 100 and so on.","title":"Unable to execute HTTP request: Acquire operation took longer than the configured maximum time","body":"<p>I encountered the same issue, and I ended up firing 100 async batch requests then wait for those 100 to get cleared before firing another 100 and so on.</p>\n"}],"owner":{"account_id":10079384,"reputation":2640,"user_id":7450286,"accept_rate":97,"display_name":"Freid001"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":7169,"favorite_count":0,"down_vote_count":0,"up_vote_count":10,"answer_count":1,"score":10,"last_activity_date":1658490683,"creation_date":1626262221,"question_id":68377235,"body_markdown":"I am running a batch job in AWS which consumes messages from a SQS queue and writes them to a Kafka topic using akka. I&#39;ve created a Sqs Async Client with the following parameters: \r\n\r\n\r\n```java\r\nprivate static SqsAsyncClient getSqsAsyncClient(final Config configuration, final String awsRegion) {\r\n    var asyncHttpClientBuilder = NettyNioAsyncHttpClient.builder()\r\n            .maxConcurrency(100)\r\n            .maxPendingConnectionAcquires(10_000)\r\n            .connectionMaxIdleTime(Duration.ofSeconds(60))\r\n            .connectionTimeout(Duration.ofSeconds(30))\r\n            .connectionAcquisitionTimeout(Duration.ofSeconds(30))\r\n            .readTimeout(Duration.ofSeconds(30));\r\n\r\n    return SqsAsyncClient.builder()\r\n            .region(Region.of(awsRegion))\r\n            .httpClientBuilder(asyncHttpClientBuilder)\r\n            .endpointOverride(URI.create(&quot;https://sqs.us-east-1.amazonaws.com/000000000000&quot;)).build();\r\n}\r\n\r\nprivate static SqsSourceSettings getSqsSourceSettings(final Config configuration) {\r\n        final SqsSourceSettings sqsSourceSettings = SqsSourceSettings.create().withCloseOnEmptyReceive(false);\r\n        if (configuration.hasPath(ConfigPaths.SqsSource.MAX_BATCH_SIZE)) {\r\n            sqsSourceSettings.withMaxBatchSize(10);\r\n        }\r\n        if (configuration.hasPath(ConfigPaths.SqsSource.MAX_BUFFER_SIZE)) {\r\n            sqsSourceSettings.withMaxBufferSize(1000);\r\n        }\r\n        if (configuration.hasPath(ConfigPaths.SqsSource.WAIT_TIME_SECS)) {\r\n            sqsSourceSettings.withWaitTime(Duration.of(20, SECONDS));\r\n        }\r\n\r\n\r\n        return sqsSourceSettings;\r\n    }\r\n```\r\n\r\nBut, whilst running my batch job I get the following AWS SDK exception: \r\n\r\n&gt; software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Acquire operation took longer than the configured maximum time. This indicates that a request cannot get a connection from the pool within the specified maximum time. This can be due to high request rate.\r\n\r\nThe exception still seems to occur even after I try tweaking the parameters mentioned here: \r\n\r\n&gt; Consider taking any of the following actions to mitigate the issue: increase max connections, increase acquire timeout, or slowing the request rate. Increasing the max connections can increase client throughput (unless the network interface is already fully utilized), but can eventually start to hit operation system limitations on the number of file descriptors used by the process. If you already are fully utilizing your network interface or cannot further increase your connection count, increasing the acquire timeout gives extra time for requests to acquire a connection before timing out. If the connections doesn&#39;t free up, the subsequent requests will still timeout. If the above mechanisms are not able to fix the issue, try smoothing out your requests so that large traffic bursts cannot overload the client, being more efficient with the number of times you need to call AWS, or by increasing the number of hosts sending requests\r\n\r\nHas anyone run into this issue before? ","title":"Unable to execute HTTP request: Acquire operation took longer than the configured maximum time","body":"<p>I am running a batch job in AWS which consumes messages from a SQS queue and writes them to a Kafka topic using akka. I've created a Sqs Async Client with the following parameters:</p>\n<pre class=\"lang-java prettyprint-override\"><code>private static SqsAsyncClient getSqsAsyncClient(final Config configuration, final String awsRegion) {\n    var asyncHttpClientBuilder = NettyNioAsyncHttpClient.builder()\n            .maxConcurrency(100)\n            .maxPendingConnectionAcquires(10_000)\n            .connectionMaxIdleTime(Duration.ofSeconds(60))\n            .connectionTimeout(Duration.ofSeconds(30))\n            .connectionAcquisitionTimeout(Duration.ofSeconds(30))\n            .readTimeout(Duration.ofSeconds(30));\n\n    return SqsAsyncClient.builder()\n            .region(Region.of(awsRegion))\n            .httpClientBuilder(asyncHttpClientBuilder)\n            .endpointOverride(URI.create(&quot;https://sqs.us-east-1.amazonaws.com/000000000000&quot;)).build();\n}\n\nprivate static SqsSourceSettings getSqsSourceSettings(final Config configuration) {\n        final SqsSourceSettings sqsSourceSettings = SqsSourceSettings.create().withCloseOnEmptyReceive(false);\n        if (configuration.hasPath(ConfigPaths.SqsSource.MAX_BATCH_SIZE)) {\n            sqsSourceSettings.withMaxBatchSize(10);\n        }\n        if (configuration.hasPath(ConfigPaths.SqsSource.MAX_BUFFER_SIZE)) {\n            sqsSourceSettings.withMaxBufferSize(1000);\n        }\n        if (configuration.hasPath(ConfigPaths.SqsSource.WAIT_TIME_SECS)) {\n            sqsSourceSettings.withWaitTime(Duration.of(20, SECONDS));\n        }\n\n\n        return sqsSourceSettings;\n    }\n</code></pre>\n<p>But, whilst running my batch job I get the following AWS SDK exception:</p>\n<blockquote>\n<p>software.amazon.awssdk.core.exception.SdkClientException: Unable to execute HTTP request: Acquire operation took longer than the configured maximum time. This indicates that a request cannot get a connection from the pool within the specified maximum time. This can be due to high request rate.</p>\n</blockquote>\n<p>The exception still seems to occur even after I try tweaking the parameters mentioned here:</p>\n<blockquote>\n<p>Consider taking any of the following actions to mitigate the issue: increase max connections, increase acquire timeout, or slowing the request rate. Increasing the max connections can increase client throughput (unless the network interface is already fully utilized), but can eventually start to hit operation system limitations on the number of file descriptors used by the process. If you already are fully utilizing your network interface or cannot further increase your connection count, increasing the acquire timeout gives extra time for requests to acquire a connection before timing out. If the connections doesn't free up, the subsequent requests will still timeout. If the above mechanisms are not able to fix the issue, try smoothing out your requests so that large traffic bursts cannot overload the client, being more efficient with the number of times you need to call AWS, or by increasing the number of hosts sending requests</p>\n</blockquote>\n<p>Has anyone run into this issue before?</p>\n"},{"tags":["java","arrays","sorting","generics","comparator"],"answers":[{"tags":[],"owner":{"account_id":6520,"reputation":10523,"user_id":11002,"accept_rate":75,"display_name":"tgdavies"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613347187,"creation_date":1613347187,"answer_id":66201333,"question_id":66200943,"body_markdown":"Just use a raw type. This compiles\r\n```\r\n    public void sortAsString(Comparator&lt;String&gt; comp) {\r\n        List&lt;Object&gt; list = null;\r\n        Comparator foo = comp;\r\n        Collections.sort(list, foo);\r\n    }\r\n```","title":"How to create a type specific Comparator for a flexible type array?","body":"<p>Just use a raw type. This compiles</p>\n<pre><code>    public void sortAsString(Comparator&lt;String&gt; comp) {\n        List&lt;Object&gt; list = null;\n        Comparator foo = comp;\n        Collections.sort(list, foo);\n    }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6651855,"reputation":224830,"user_id":5133585,"accept_rate":96,"display_name":"Sweeper"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1613352962,"creation_date":1613352962,"answer_id":66201786,"question_id":66200943,"body_markdown":"Assuming that you are _absolutely sure_ that the `ArrayList&lt;Object&gt;` contains only `String`s, and you are prepared for it to crash if that is not the case...\r\n\r\nYou can create a `Comparator&lt;Object&gt;` from the `Comparator&lt;String&gt;`, that will crash if a non-`String` gets passed to it:\r\n\r\n    Collections.sort(list, (x, y) -&gt; comp.compare((String)x, (String)y));\r\n\r\nI would suggest checking if all the objects are strings before that, and throw an exception with a meaningful message/do nothing if that is not the case.","title":"How to create a type specific Comparator for a flexible type array?","body":"<p>Assuming that you are <em>absolutely sure</em> that the <code>ArrayList&lt;Object&gt;</code> contains only <code>String</code>s, and you are prepared for it to crash if that is not the case...</p>\n<p>You can create a <code>Comparator&lt;Object&gt;</code> from the <code>Comparator&lt;String&gt;</code>, that will crash if a non-<code>String</code> gets passed to it:</p>\n<pre><code>Collections.sort(list, (x, y) -&gt; comp.compare((String)x, (String)y));\n</code></pre>\n<p>I would suggest checking if all the objects are strings before that, and throw an exception with a meaningful message/do nothing if that is not the case.</p>\n"},{"tags":[],"owner":{"account_id":1548079,"reputation":128727,"user_id":1441122,"display_name":"Stuart Marks"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1613538794,"creation_date":1613538794,"answer_id":66236089,"question_id":66200943,"body_markdown":"You&#39;re on the right track trying to cast the list to `ArrayList&lt;String&gt;` (or perhaps just `List&lt;String&gt;`). The compiler flags this as an error, though, because in general it&#39;s definitely unsafe.\r\n\r\nIf it&#39;s safe for the caller to make this call, you can use the &quot;cast through raw&quot; technique to avoid the compilation error. You&#39;ll still get an unchecked warning, which you can then suppress. Also, it&#39;s probably a good idea to check the contents of the list before making the unsafe cast. This allows you to verify that what you&#39;re doing is in fact safe, or if it isn&#39;t, you can communicate that to the caller in the appropriate way -- possibly by throwing an exception. For example,\r\n\r\n        public void sortAsString(Comparator&lt;String&gt; comp) {\r\n            if (! list.stream().allMatch(o -&gt; o instanceof String)) {\r\n                throw new IllegalStateException(&quot;MyArray contains non-strings&quot;);\r\n            }\r\n            @SuppressWarnings(&quot;unchecked&quot;)\r\n            ArrayList&lt;String&gt; temp = (ArrayList&lt;String&gt;)(ArrayList)list;\r\n            temp.sort(comp);\r\n        }\r\n","title":"How to create a type specific Comparator for a flexible type array?","body":"<p>You're on the right track trying to cast the list to <code>ArrayList&lt;String&gt;</code> (or perhaps just <code>List&lt;String&gt;</code>). The compiler flags this as an error, though, because in general it's definitely unsafe.</p>\n<p>If it's safe for the caller to make this call, you can use the &quot;cast through raw&quot; technique to avoid the compilation error. You'll still get an unchecked warning, which you can then suppress. Also, it's probably a good idea to check the contents of the list before making the unsafe cast. This allows you to verify that what you're doing is in fact safe, or if it isn't, you can communicate that to the caller in the appropriate way -- possibly by throwing an exception. For example,</p>\n<pre><code>    public void sortAsString(Comparator&lt;String&gt; comp) {\n        if (! list.stream().allMatch(o -&gt; o instanceof String)) {\n            throw new IllegalStateException(&quot;MyArray contains non-strings&quot;);\n        }\n        @SuppressWarnings(&quot;unchecked&quot;)\n        ArrayList&lt;String&gt; temp = (ArrayList&lt;String&gt;)(ArrayList)list;\n        temp.sort(comp);\n    }\n</code></pre>\n"}],"owner":{"account_id":1954792,"reputation":5618,"user_id":1758051,"accept_rate":52,"display_name":"AgilePro"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":112,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":66236089,"answer_count":3,"score":1,"last_activity_date":1658490528,"creation_date":1613343600,"question_id":66200943,"body_markdown":"I am stuck in the middle of &#39;generic-type-qualifier-land&#39; and can&#39;t find the right combination of type qualifiers.   I have a class that represents a flexible array that can have a number of different types in it.   The class holds an `ArrayList&lt;Object&gt;` as the container for the elements.\r\n\r\n    class MyArray {\r\n        ArrayList&lt;Object&gt;  list;\r\n\r\n        ...\r\n\r\n        public void sortAsString(Comparator&lt;String&gt; comp) {\r\n            Collections.sort(list, comp);\r\n        }\r\n    }\r\n\r\nThere are type specific accessors, like `getString(i)` and `getInt(i)` etc.\r\n\r\nI would like to be able to sort this array in different ways.  Sometimes the array is full of strings, and I would like people to be able to pass in a `Comparator&lt;String&gt;` object.   If I declare the class as above, the compiler rejects it because the list is a collection of `Object` while the Comparator is a `Comparator&lt;String&gt;`\r\n\r\nBut I can&#39;t type-cast either.  This does not work:\r\n\r\n        public void sortAsString(Comparator&lt;String&gt; comp) {\r\n            Coparator&lt;Object&gt; foo = (Comparator&lt;Object&gt;) comp;\r\n            Collections.sort(list, foo);\r\n        }\r\n\r\nThe Collections.sort function second parameter requires `Comparator&lt;? super Object&gt;`.   Is there any way to declare the method and/or to type cast such that someone can pass a `Comparator&lt;String&gt;` and have it work on this `ArrayList&lt;Object&gt;`?\r\n\r\nI also tried casting the list to `ArrayList&lt;String&gt;` but that is not allowed either.  In the cases where this is called, the user is going to be fairly sure that the array has only strings in it, but of course we don&#39;t know that at compile time.  I am trying to tell it that even though it is not declared as an array of string, go ahead and treat it like one for sorting.   I don&#39;t care if it blows up when the member object turns out to not be a string.  I just some syntactic sugar to tell the compiler to go ahead and let it call the sorting method.","title":"How to create a type specific Comparator for a flexible type array?","body":"<p>I am stuck in the middle of 'generic-type-qualifier-land' and can't find the right combination of type qualifiers.   I have a class that represents a flexible array that can have a number of different types in it.   The class holds an <code>ArrayList&lt;Object&gt;</code> as the container for the elements.</p>\n<pre><code>class MyArray {\n    ArrayList&lt;Object&gt;  list;\n\n    ...\n\n    public void sortAsString(Comparator&lt;String&gt; comp) {\n        Collections.sort(list, comp);\n    }\n}\n</code></pre>\n<p>There are type specific accessors, like <code>getString(i)</code> and <code>getInt(i)</code> etc.</p>\n<p>I would like to be able to sort this array in different ways.  Sometimes the array is full of strings, and I would like people to be able to pass in a <code>Comparator&lt;String&gt;</code> object.   If I declare the class as above, the compiler rejects it because the list is a collection of <code>Object</code> while the Comparator is a <code>Comparator&lt;String&gt;</code></p>\n<p>But I can't type-cast either.  This does not work:</p>\n<pre><code>    public void sortAsString(Comparator&lt;String&gt; comp) {\n        Coparator&lt;Object&gt; foo = (Comparator&lt;Object&gt;) comp;\n        Collections.sort(list, foo);\n    }\n</code></pre>\n<p>The Collections.sort function second parameter requires <code>Comparator&lt;? super Object&gt;</code>.   Is there any way to declare the method and/or to type cast such that someone can pass a <code>Comparator&lt;String&gt;</code> and have it work on this <code>ArrayList&lt;Object&gt;</code>?</p>\n<p>I also tried casting the list to <code>ArrayList&lt;String&gt;</code> but that is not allowed either.  In the cases where this is called, the user is going to be fairly sure that the array has only strings in it, but of course we don't know that at compile time.  I am trying to tell it that even though it is not declared as an array of string, go ahead and treat it like one for sorting.   I don't care if it blows up when the member object turns out to not be a string.  I just some syntactic sugar to tell the compiler to go ahead and let it call the sorting method.</p>\n"},{"tags":["java","javascript","html","mobile","notifications"],"comments":[{"owner":{"account_id":1587132,"reputation":6980,"user_id":1471203,"accept_rate":89,"display_name":"Rais Alam"},"score":0,"creation_date":1361856397,"post_id":15081531,"comment_id":21212311,"body_markdown":"@Moderator I did wrong flagging please ignore that.","body":"@Moderator I did wrong flagging please ignore that."},{"owner":{"account_id":188548,"reputation":55117,"user_id":427309,"accept_rate":95,"display_name":"Richard J. Ross III"},"score":0,"creation_date":1362158708,"post_id":15081531,"comment_id":21353586,"body_markdown":"@Real you are quite correct that was the wrong flag. I had to mark your flag as invalid, but I did vote to close (this is hardly a real question).","body":"@Real you are quite correct that was the wrong flag. I had to mark your flag as invalid, but I did vote to close (this is hardly a real question)."}],"answers":[{"tags":[],"owner":{"account_id":158606,"reputation":8281,"user_id":377369,"accept_rate":100,"display_name":"Fabio Poloni"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361854895,"creation_date":1361854895,"answer_id":15081699,"question_id":15081531,"body_markdown":"With &#39;pure&#39; browser app I understand a WebApp, which is not downloaded through the App Store. And in this case, it&#39;s not possible.\r\n\r\nYou&#39;d have to write a native app with a `UIWebView` to reach this with push notifications and local notifications.","title":"Mobile notifications through browser based app","body":"<p>With 'pure' browser app I understand a WebApp, which is not downloaded through the App Store. And in this case, it's not possible.</p>\n\n<p>You'd have to write a native app with a <code>UIWebView</code> to reach this with push notifications and local notifications.</p>\n"},{"tags":[],"owner":{"account_id":2036191,"reputation":4983,"user_id":1818488,"display_name":"QArea"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1361893691,"creation_date":1361893691,"answer_id":15093386,"question_id":15081531,"body_markdown":"For this purpose you can use Google Cloud Messaging service, which provides API both for server apps and client apps.&lt;p&gt;\r\nThere are sample apps of how you may implement your server application (based on Google App Engine or standalone - for generic application server) as well as mobile application.\r\n&lt;p&gt;\r\nThere is similar service from Apple as well:\r\nhttp://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html\r\n\r\n&lt;p&gt;Going this way you&#39;ll implement server application, which would be available from any browser (desktop, as well as mobile). So there may be a page for sending a message to a mobile client of your application.","title":"Mobile notifications through browser based app","body":"<p>For this purpose you can use Google Cloud Messaging service, which provides API both for server apps and client apps.<p>\nThere are sample apps of how you may implement your server application (based on Google App Engine or standalone - for generic application server) as well as mobile application.\n<p>\nThere is similar service from Apple as well:\n<a href=\"http://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html\" rel=\"nofollow\">http://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html</a></p>\n\n<p><p>Going this way you'll implement server application, which would be available from any browser (desktop, as well as mobile). So there may be a page for sending a message to a mobile client of your application.</p>\n"},{"tags":[],"owner":{"account_id":10397196,"reputation":1510,"user_id":7666635,"display_name":"Gunther Schadow"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658490299,"creation_date":1658490299,"answer_id":73079841,"question_id":15081531,"body_markdown":"This may be long outdated answers to a decade-old question. \r\n\r\nWith ServiceWorker you can issue notifications\r\n\r\n    let notificationId = 0;\r\n    \r\n    function showNotification() {\r\n        if(Notification.permission == &#39;granted&#39;) {\r\n            self.registration.showNotification(&quot;Notification Title&quot;, {\r\n    \t    title: &quot;Another Title?&quot;,\r\n    \t    action: &quot;Do as I say, not as I do.&quot;,\r\n    \t    body: &#39;Hear ye! Hear ye!&#39;,\r\n    \t    icon: &#39;thing-one-and-thing-two.png&#39;,\r\n    \t    vibrate: [200, 100, 200, 100, 200, 100, 200],\r\n    \t    tag: &#39;notification-&#39;+notificationId++,\r\n    \t    renotify: true,\r\n    \t    requireInteraction: false\r\n            });\r\n        }\r\n    }\r\n    \r\n    setTimeout(showNotification, 10000);\r\n\r\nAfter you have asked the user to enable notifications in:\r\n \r\n\r\n    &lt;a href=&quot;#&quot; onclick=&quot;Notification.requestPermission().then(r =&gt; alert(r))&quot;&gt;Allow Notifications!&lt;/a&gt;\r\n\r\nSo this works if you do it all correctly.\r\n * register the service worker\r\n * use only HTTPS\r\n * have the user enable the notifications.\r\n\r\nWhat is still unclear to me is why I can vibrate but I can&#39;t play a sound? Why the vibration doesn&#39;t even seem to work on on my android? Why WhatsApp can play a sound anyway (at least if the page web.whatsapp.com is actually open)? Why on my android the notifications do not ever show up in the foreground but only on my lock screen? \r\n\r\n","title":"Mobile notifications through browser based app","body":"<p>This may be long outdated answers to a decade-old question.</p>\n<p>With ServiceWorker you can issue notifications</p>\n<pre><code>let notificationId = 0;\n\nfunction showNotification() {\n    if(Notification.permission == 'granted') {\n        self.registration.showNotification(&quot;Notification Title&quot;, {\n        title: &quot;Another Title?&quot;,\n        action: &quot;Do as I say, not as I do.&quot;,\n        body: 'Hear ye! Hear ye!',\n        icon: 'thing-one-and-thing-two.png',\n        vibrate: [200, 100, 200, 100, 200, 100, 200],\n        tag: 'notification-'+notificationId++,\n        renotify: true,\n        requireInteraction: false\n        });\n    }\n}\n\nsetTimeout(showNotification, 10000);\n</code></pre>\n<p>After you have asked the user to enable notifications in:</p>\n<pre><code>&lt;a href=&quot;#&quot; onclick=&quot;Notification.requestPermission().then(r =&gt; alert(r))&quot;&gt;Allow Notifications!&lt;/a&gt;\n</code></pre>\n<p>So this works if you do it all correctly.</p>\n<ul>\n<li>register the service worker</li>\n<li>use only HTTPS</li>\n<li>have the user enable the notifications.</li>\n</ul>\n<p>What is still unclear to me is why I can vibrate but I can't play a sound? Why the vibration doesn't even seem to work on on my android? Why WhatsApp can play a sound anyway (at least if the page web.whatsapp.com is actually open)? Why on my android the notifications do not ever show up in the foreground but only on my lock screen?</p>\n"}],"owner":{"account_id":912890,"reputation":45749,"user_id":946312,"accept_rate":63,"display_name":"Saket"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":162,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":3,"score":1,"last_activity_date":1658490299,"creation_date":1361853969,"question_id":15081531,"body_markdown":"Is there any way that we can have a &#39;pure&#39; browser based app on mobile (iPhone &amp; Android) to throw notifications on the mobile device?\r\n\r\nIf not, could there be a workaround which will allow my app to somehow notify the user of an alert when my app (browser) is in the background?\r\n\r\nThanks for the help.","title":"Mobile notifications through browser based app","body":"<p>Is there any way that we can have a 'pure' browser based app on mobile (iPhone &amp; Android) to throw notifications on the mobile device?</p>\n\n<p>If not, could there be a workaround which will allow my app to somehow notify the user of an alert when my app (browser) is in the background?</p>\n\n<p>Thanks for the help.</p>\n"},{"tags":["java","android","android-studio","android-emulator","touch-event"],"comments":[{"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"score":0,"creation_date":1658490184,"post_id":73079288,"comment_id":129070270,"body_markdown":"Please format stack traces as code.","body":"Please format stack traces as code."}],"answers":[{"tags":[],"owner":{"account_id":25822,"reputation":78747,"user_id":66686,"accept_rate":87,"display_name":"Jens Schauder"},"down_vote_count":0,"up_vote_count":2,"is_accepted":true,"score":2,"last_activity_date":1658489975,"creation_date":1658489975,"answer_id":73079772,"question_id":73079288,"body_markdown":"The call stack \r\n\r\n```\r\nvirtual method &#39;boolean java.lang.Boolean.booleanValue()&#39; on a null object reference at com.example.combatcats.Joystick.getIsPressed(Joystick.java:86) at com.example.combatcats.GameView.onTouchEvent(GameView.java:187) at\r\n```\r\n\r\ntells you that in the method `Joystick.getIsPressed` you are trying to convert a `Boolean` object to a `boolean` by invoking `booleanValue()` on it, but that object is `null`.\r\n\r\nYou didn&#39;t show the code for `Joystick` but I suspect it looks something like this:\r\n\r\n```java\r\nclass Joystick {\r\n    Boolean pressed;\r\n\r\n    void setIsPressed(boolean pressed){\r\n       this.pressed = pressed;\r\n    }\r\n\r\n    boolean isPressed() {\r\n        return pressed.getBooleanValue();\r\n    }\r\n\r\n```\r\n\r\nThe important part is that `pressed` doesn&#39;t get initialised on construction.\r\n\r\nIf we inspect your `GameView.onTouchEvent` method you&#39;ll note that `setIsPressed` is invoked on `ACTION_DOWN` and `ACTION_UP`, while `isPressed` is invoked on `ACTION_MOVE`.\r\n\r\nWhen you wait a little until the UI is fully initialized `ACTION_MOVE` will probably always happen after `ACTION_DOWN` and therefore everything is fine.\r\nBut when spam clicking it might happen that the `ACTION_DOWN event doesn&#39;t get forwarded to your view, because it is not ready yet. \r\nBut `ACTION_MOVE` is. \r\nNow this is the first event you process, `pressed` is not yet initialized and you get the NPE you are seeing. \r\n\r\nThe solution is to either initialize `pressed` on construction of `Joystick` or even better: make it a primitive `boolean` in the first place.\r\n ","title":"Why does my Android studio App crash when I spam click at the beginning of an activity?","body":"<p>The call stack</p>\n<pre><code>virtual method 'boolean java.lang.Boolean.booleanValue()' on a null object reference at com.example.combatcats.Joystick.getIsPressed(Joystick.java:86) at com.example.combatcats.GameView.onTouchEvent(GameView.java:187) at\n</code></pre>\n<p>tells you that in the method <code>Joystick.getIsPressed</code> you are trying to convert a <code>Boolean</code> object to a <code>boolean</code> by invoking <code>booleanValue()</code> on it, but that object is <code>null</code>.</p>\n<p>You didn't show the code for <code>Joystick</code> but I suspect it looks something like this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>class Joystick {\n    Boolean pressed;\n\n    void setIsPressed(boolean pressed){\n       this.pressed = pressed;\n    }\n\n    boolean isPressed() {\n        return pressed.getBooleanValue();\n    }\n\n</code></pre>\n<p>The important part is that <code>pressed</code> doesn't get initialised on construction.</p>\n<p>If we inspect your <code>GameView.onTouchEvent</code> method you'll note that <code>setIsPressed</code> is invoked on <code>ACTION_DOWN</code> and <code>ACTION_UP</code>, while <code>isPressed</code> is invoked on <code>ACTION_MOVE</code>.</p>\n<p>When you wait a little until the UI is fully initialized <code>ACTION_MOVE</code> will probably always happen after <code>ACTION_DOWN</code> and therefore everything is fine.\nBut when spam clicking it might happen that the <code>ACTION_DOWN event doesn't get forwarded to your view, because it is not ready yet.  But </code>ACTION_MOVE<code>is.  Now this is the first event you process,</code>pressed` is not yet initialized and you get the NPE you are seeing.</p>\n<p>The solution is to either initialize <code>pressed</code> on construction of <code>Joystick</code> or even better: make it a primitive <code>boolean</code> in the first place.</p>\n"}],"owner":{"account_id":10430065,"reputation":13,"user_id":14751450,"display_name":"Haluna"},"comment_count":1,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":368,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73079772,"answer_count":1,"score":0,"last_activity_date":1658490139,"creation_date":1658487718,"question_id":73079288,"body_markdown":"The app works fine if I wait a bit after clicking play, but if I want click on anything clickable right away, the app crashes.\r\n\r\nHere is the error message: \r\n```\r\nE/InputEventReceiver: Exception dispatching input event.\r\nD/AndroidRuntime: Shutting down VM E/AndroidRuntime: FATAL EXCEPTION:\r\nmain\r\n    Process: com.example.combatcats, PID: 13769\r\n    java.lang.NullPointerException: Attempt to invoke virtual method &#39;boolean java.lang.Boolean.booleanValue()&#39; on a null object reference\r\n        at com.example.combatcats.Joystick.getIsPressed(Joystick.java:86)\r\n        at com.example.combatcats.GameView.onTouchEvent(GameView.java:187)\r\n        at android.view.View.dispatchTouchEvent(View.java:14540)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\r\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\r\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\r\n        at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:502)\r\n        at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1890)\r\n        at android.app.Activity.dispatchTouchEvent(Activity.java:4196)\r\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:69)\r\n        at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:460)\r\n        at android.view.View.dispatchPointerEvent(View.java:14799)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:6347)\r\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:6148)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5626)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5683)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5649)\r\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5814)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5657)\r\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5871)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5630)\r\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5683)\r\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5649)\r\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5657)\r\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5630)\r\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:8562)\r\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:8513)\r\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:8482)\r\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:8685)\r\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:259)\r\n        at android.view.InputEventReceiver.nativeConsumeBatchedInputEvents(Native\r\nMethod)\r\n        at android.view.InputEventReceiver.consumeBatchedInputEvents(InputEventReceiver.java:239)\r\n        at android.view.ViewRootImpl.doConsumeBatchedInput(ViewRootImpl.java:8642)\r\n        at android.view.ViewRootImpl$ConsumeBatchedInputRunnable.run(ViewRootImpl.java:8771)\r\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1037)\r\n        at android.view.Choreographer.doCallbacks(Choreographer.java:845)\r\n        at android.view.Choreographer.doFrame(Choreographer.java:772)\r\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1022)\r\n        at android.os.Handler.handleCallback(Handler.java:938)\r\n        at android.os.Handler.dispatchMessage(Handler.java:99)\r\n        at android.os.Looper.loopOnce(Looper.java:201)\r\n        at android.os.Looper.loop(Looper.java:288)\r\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\r\n        at java.lang.reflect.Method.invoke(Native Method) E/AndroidRuntime:     at\r\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\r\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\r\n```\r\n\r\nHere is my `GameView` class:\r\n\r\n    package com.example.combatcats;\r\n    \r\n    import android.content.Intent;\r\n    import android.graphics.Canvas;\r\n    import android.graphics.Paint;\r\n    import android.util.Log;\r\n    import android.view.MotionEvent;\r\n    import android.view.SurfaceView;\r\n    \r\n    \r\n    public class GameView extends SurfaceView implements Runnable {\r\n    \r\n        private final Joystick joystick;\r\n        private Thread thread;\r\n        private boolean isPlaying;\r\n        private int screenX, screenY;\r\n        public static float screenRatioX, screenRatioY;\r\n        private Paint paint;\r\n        private Cat cat;\r\n        private Background background1, background2;\r\n        private int InAirCounter;\r\n        private final MainMenuButton mainMenuButton;\r\n        private GameScreen activity;\r\n    \r\n        public GameView(GameScreen activity, int screenX, int screenY) {\r\n            super(activity);\r\n    \r\n            this.activity = activity;\r\n    \r\n            this.screenX = screenX;\r\n            this.screenY = screenY;\r\n            screenRatioX = 1920f / screenX;\r\n            screenRatioY = 1080f / screenY;\r\n    \r\n    \r\n            background1 = new Background(screenX, screenY, getResources());\r\n            background2 = new Background(screenX, screenY, getResources());\r\n    \r\n            cat = new Cat(screenY, getResources());\r\n    \r\n            background2.x = screenX;\r\n    \r\n            paint = new Paint();\r\n    \r\n            joystick = new Joystick(190,900,90,55);\r\n    \r\n            mainMenuButton = new MainMenuButton(60,60,250,158);\r\n        }\r\n    \r\n        @Override\r\n        public void run() {\r\n    \r\n            while (isPlaying) {\r\n    \r\n                update ();\r\n                draw ();\r\n                sleep ();\r\n            }\r\n        }\r\n    \r\n        private void update () {\r\n    \r\n            background1.x -= 10 * screenRatioX;\r\n            background2.x -= 10 * screenRatioX;\r\n    \r\n    \r\n    \r\n            InAirCounter -= 1;\r\n    \r\n            if (background1.x + background1.background.getWidth() &lt; 0) {\r\n                background1.x = screenX;\r\n            }\r\n            if (background2.x + background2.background.getWidth() &lt; 0) {\r\n                background2.x = screenX;\r\n            }\r\n    \r\n            if (cat.y == (screenY - cat.height) &amp;&amp; cat.isJumping) {\r\n                InAirCounter = 7;\r\n            }\r\n    \r\n            if (InAirCounter &gt; 0)\r\n                cat.y -= 30 * screenRatioY;\r\n            else\r\n                cat.y += 30 * screenRatioY;\r\n    \r\n            if (cat.y &lt; 0)\r\n                cat.y = 0;\r\n            if (cat.y &gt; screenY - cat.height)\r\n                cat.y = screenY - cat.height;\r\n            if (cat.x &lt; 0)\r\n                cat.x = 0;\r\n            if (cat.x &gt; screenX - cat.width)\r\n                cat.x = screenX - cat.width;\r\n    \r\n            //Log.d(&quot;&quot;,&quot;var_name = &quot;+var);\r\n    \r\n            cat.update(joystick);\r\n    \r\n            joystick.update();\r\n        }\r\n    \r\n        private void draw () {\r\n    \r\n            if (getHolder().getSurface().isValid()) {\r\n    \r\n                Canvas canvas = getHolder().lockCanvas();\r\n                canvas.drawBitmap(background1.background, background1.x, background1.y, paint);\r\n                canvas.drawBitmap(background2.background, background2.x, background2.y, paint);\r\n    \r\n    \r\n                canvas.drawBitmap(cat.getBlink(), cat.x, cat.y, paint);\r\n                joystick.draw(canvas);\r\n    \r\n    \r\n    \r\n    \r\n                mainMenuButton.draw(canvas);\r\n    \r\n    \r\n                getHolder().unlockCanvasAndPost(canvas);\r\n    \r\n    \r\n            }\r\n    \r\n        }\r\n    \r\n        private void sleep () {\r\n            try {\r\n                Thread.sleep(17);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    \r\n        public void resume () {\r\n    \r\n            isPlaying = true;\r\n            thread = new Thread(this);\r\n            thread.start();\r\n    \r\n        }\r\n    \r\n        public void pause () {\r\n    \r\n            try {\r\n                isPlaying = false;\r\n                thread.join();\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n    \r\n        }\r\n    \r\n        @Override\r\n        public boolean onTouchEvent(MotionEvent event) {\r\n    \r\n            switch (event.getAction()) {\r\n                case MotionEvent.ACTION_DOWN:\r\n                    if (event.getX() &gt; screenX / 2 &amp;&amp; event.getY() &gt; screenY / 2) {\r\n                        cat.isJumping = true;\r\n                    }\r\n                    if(joystick.isPressed((double) event.getX(), (double) event.getY())){\r\n                        joystick.setIsPressed(true);\r\n                    }\r\n    \r\n                    if(event.getX() &gt;= mainMenuButton.getValue(1) &amp;&amp;\r\n                            event.getX() &lt;= mainMenuButton.getValue(3) &amp;&amp;\r\n                                event.getY() &gt;= mainMenuButton.getValue(2) &amp;&amp;\r\n                                    event.getY() &lt;= mainMenuButton.getValue(4)) {\r\n                        isPlaying = false;\r\n                        activity.startActivity(new Intent(activity, MainActivity.class));\r\n                        activity.finish();\r\n    \r\n                    }\r\n                    break;\r\n    \r\n                case MotionEvent.ACTION_MOVE:\r\n                    if(joystick.getIsPressed()) {\r\n                        joystick.setActuator((double) event.getX(), (double) event.getY());\r\n                    }\r\n                    break;\r\n    \r\n                case MotionEvent.ACTION_UP:\r\n                    joystick.setIsPressed(false);\r\n                    joystick.resetActuator();\r\n                    cat.isJumping = false;\r\n                    break;\r\n            }\r\n            return true;\r\n        }\r\n    }\r\n\r\n","title":"Why does my Android studio App crash when I spam click at the beginning of an activity?","body":"<p>The app works fine if I wait a bit after clicking play, but if I want click on anything clickable right away, the app crashes.</p>\n<p>Here is the error message:</p>\n<pre><code>E/InputEventReceiver: Exception dispatching input event.\nD/AndroidRuntime: Shutting down VM E/AndroidRuntime: FATAL EXCEPTION:\nmain\n    Process: com.example.combatcats, PID: 13769\n    java.lang.NullPointerException: Attempt to invoke virtual method 'boolean java.lang.Boolean.booleanValue()' on a null object reference\n        at com.example.combatcats.Joystick.getIsPressed(Joystick.java:86)\n        at com.example.combatcats.GameView.onTouchEvent(GameView.java:187)\n        at android.view.View.dispatchTouchEvent(View.java:14540)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\n        at android.view.ViewGroup.dispatchTransformedTouchEvent(ViewGroup.java:3120)\n        at android.view.ViewGroup.dispatchTouchEvent(ViewGroup.java:2801)\n        at com.android.internal.policy.DecorView.superDispatchTouchEvent(DecorView.java:502)\n        at com.android.internal.policy.PhoneWindow.superDispatchTouchEvent(PhoneWindow.java:1890)\n        at android.app.Activity.dispatchTouchEvent(Activity.java:4196)\n        at androidx.appcompat.view.WindowCallbackWrapper.dispatchTouchEvent(WindowCallbackWrapper.java:69)\n        at com.android.internal.policy.DecorView.dispatchTouchEvent(DecorView.java:460)\n        at android.view.View.dispatchPointerEvent(View.java:14799)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.processPointerEvent(ViewRootImpl.java:6347)\n        at android.view.ViewRootImpl$ViewPostImeInputStage.onProcess(ViewRootImpl.java:6148)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5626)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5683)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5649)\n        at android.view.ViewRootImpl$AsyncInputStage.forward(ViewRootImpl.java:5814)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5657)\n        at android.view.ViewRootImpl$AsyncInputStage.apply(ViewRootImpl.java:5871)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5630)\n        at android.view.ViewRootImpl$InputStage.onDeliverToNext(ViewRootImpl.java:5683)\n        at android.view.ViewRootImpl$InputStage.forward(ViewRootImpl.java:5649)\n        at android.view.ViewRootImpl$InputStage.apply(ViewRootImpl.java:5657)\n        at android.view.ViewRootImpl$InputStage.deliver(ViewRootImpl.java:5630)\n        at android.view.ViewRootImpl.deliverInputEvent(ViewRootImpl.java:8562)\n        at android.view.ViewRootImpl.doProcessInputEvents(ViewRootImpl.java:8513)\n        at android.view.ViewRootImpl.enqueueInputEvent(ViewRootImpl.java:8482)\n        at android.view.ViewRootImpl$WindowInputEventReceiver.onInputEvent(ViewRootImpl.java:8685)\n        at android.view.InputEventReceiver.dispatchInputEvent(InputEventReceiver.java:259)\n        at android.view.InputEventReceiver.nativeConsumeBatchedInputEvents(Native\nMethod)\n        at android.view.InputEventReceiver.consumeBatchedInputEvents(InputEventReceiver.java:239)\n        at android.view.ViewRootImpl.doConsumeBatchedInput(ViewRootImpl.java:8642)\n        at android.view.ViewRootImpl$ConsumeBatchedInputRunnable.run(ViewRootImpl.java:8771)\n        at android.view.Choreographer$CallbackRecord.run(Choreographer.java:1037)\n        at android.view.Choreographer.doCallbacks(Choreographer.java:845)\n        at android.view.Choreographer.doFrame(Choreographer.java:772)\n        at android.view.Choreographer$FrameDisplayEventReceiver.run(Choreographer.java:1022)\n        at android.os.Handler.handleCallback(Handler.java:938)\n        at android.os.Handler.dispatchMessage(Handler.java:99)\n        at android.os.Looper.loopOnce(Looper.java:201)\n        at android.os.Looper.loop(Looper.java:288)\n        at android.app.ActivityThread.main(ActivityThread.java:7839)\n        at java.lang.reflect.Method.invoke(Native Method) E/AndroidRuntime:     at\ncom.android.internal.os.RuntimeInit$MethodAndArgsCaller.run(RuntimeInit.java:548)\n        at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:1003)\n</code></pre>\n<p>Here is my <code>GameView</code> class:</p>\n<pre><code>package com.example.combatcats;\n\nimport android.content.Intent;\nimport android.graphics.Canvas;\nimport android.graphics.Paint;\nimport android.util.Log;\nimport android.view.MotionEvent;\nimport android.view.SurfaceView;\n\n\npublic class GameView extends SurfaceView implements Runnable {\n\n    private final Joystick joystick;\n    private Thread thread;\n    private boolean isPlaying;\n    private int screenX, screenY;\n    public static float screenRatioX, screenRatioY;\n    private Paint paint;\n    private Cat cat;\n    private Background background1, background2;\n    private int InAirCounter;\n    private final MainMenuButton mainMenuButton;\n    private GameScreen activity;\n\n    public GameView(GameScreen activity, int screenX, int screenY) {\n        super(activity);\n\n        this.activity = activity;\n\n        this.screenX = screenX;\n        this.screenY = screenY;\n        screenRatioX = 1920f / screenX;\n        screenRatioY = 1080f / screenY;\n\n\n        background1 = new Background(screenX, screenY, getResources());\n        background2 = new Background(screenX, screenY, getResources());\n\n        cat = new Cat(screenY, getResources());\n\n        background2.x = screenX;\n\n        paint = new Paint();\n\n        joystick = new Joystick(190,900,90,55);\n\n        mainMenuButton = new MainMenuButton(60,60,250,158);\n    }\n\n    @Override\n    public void run() {\n\n        while (isPlaying) {\n\n            update ();\n            draw ();\n            sleep ();\n        }\n    }\n\n    private void update () {\n\n        background1.x -= 10 * screenRatioX;\n        background2.x -= 10 * screenRatioX;\n\n\n\n        InAirCounter -= 1;\n\n        if (background1.x + background1.background.getWidth() &lt; 0) {\n            background1.x = screenX;\n        }\n        if (background2.x + background2.background.getWidth() &lt; 0) {\n            background2.x = screenX;\n        }\n\n        if (cat.y == (screenY - cat.height) &amp;&amp; cat.isJumping) {\n            InAirCounter = 7;\n        }\n\n        if (InAirCounter &gt; 0)\n            cat.y -= 30 * screenRatioY;\n        else\n            cat.y += 30 * screenRatioY;\n\n        if (cat.y &lt; 0)\n            cat.y = 0;\n        if (cat.y &gt; screenY - cat.height)\n            cat.y = screenY - cat.height;\n        if (cat.x &lt; 0)\n            cat.x = 0;\n        if (cat.x &gt; screenX - cat.width)\n            cat.x = screenX - cat.width;\n\n        //Log.d(&quot;&quot;,&quot;var_name = &quot;+var);\n\n        cat.update(joystick);\n\n        joystick.update();\n    }\n\n    private void draw () {\n\n        if (getHolder().getSurface().isValid()) {\n\n            Canvas canvas = getHolder().lockCanvas();\n            canvas.drawBitmap(background1.background, background1.x, background1.y, paint);\n            canvas.drawBitmap(background2.background, background2.x, background2.y, paint);\n\n\n            canvas.drawBitmap(cat.getBlink(), cat.x, cat.y, paint);\n            joystick.draw(canvas);\n\n\n\n\n            mainMenuButton.draw(canvas);\n\n\n            getHolder().unlockCanvasAndPost(canvas);\n\n\n        }\n\n    }\n\n    private void sleep () {\n        try {\n            Thread.sleep(17);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\n\n    public void resume () {\n\n        isPlaying = true;\n        thread = new Thread(this);\n        thread.start();\n\n    }\n\n    public void pause () {\n\n        try {\n            isPlaying = false;\n            thread.join();\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n\n    }\n\n    @Override\n    public boolean onTouchEvent(MotionEvent event) {\n\n        switch (event.getAction()) {\n            case MotionEvent.ACTION_DOWN:\n                if (event.getX() &gt; screenX / 2 &amp;&amp; event.getY() &gt; screenY / 2) {\n                    cat.isJumping = true;\n                }\n                if(joystick.isPressed((double) event.getX(), (double) event.getY())){\n                    joystick.setIsPressed(true);\n                }\n\n                if(event.getX() &gt;= mainMenuButton.getValue(1) &amp;&amp;\n                        event.getX() &lt;= mainMenuButton.getValue(3) &amp;&amp;\n                            event.getY() &gt;= mainMenuButton.getValue(2) &amp;&amp;\n                                event.getY() &lt;= mainMenuButton.getValue(4)) {\n                    isPlaying = false;\n                    activity.startActivity(new Intent(activity, MainActivity.class));\n                    activity.finish();\n\n                }\n                break;\n\n            case MotionEvent.ACTION_MOVE:\n                if(joystick.getIsPressed()) {\n                    joystick.setActuator((double) event.getX(), (double) event.getY());\n                }\n                break;\n\n            case MotionEvent.ACTION_UP:\n                joystick.setIsPressed(false);\n                joystick.resetActuator();\n                cat.isJumping = false;\n                break;\n        }\n        return true;\n    }\n}\n</code></pre>\n"},{"tags":["java","android","screen"],"owner":{"account_id":22821029,"reputation":96,"user_id":16970888,"display_name":"Jamebes"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":63,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":0,"score":1,"last_activity_date":1658489748,"creation_date":1658196231,"question_id":73030349,"body_markdown":"My device target is only android 7.1. and my camera is webcam ( usb camera - uvc).My video saved in SDCard (micro SDCard A1 3 XC I V30 - meaning at least can recoding HD video). When i playback my video that is suttering as per second, lagging\r\nStep 1: I&#39;m using surfacetexture and show preview in screen\r\n\r\nStep 2: Display text like timestamp in screen ( cause i don&#39;t know how to textoverlay in myvideo and saved it with the text, i can not find anything to do that with uvc camera.) So my method is display text in screen and recording anything in screen\r\n\r\n    private void displayDateTime(){\r\n\r\n        Thread timeThread = new Thread(){\r\n            @Override\r\n            public void run() {\r\n                try{\r\n                    while (!isInterrupted()){\r\n                        Thread.sleep(1000);\r\n                        runOnUiThread(new Runnable() {\r\n                            @Override\r\n                            public void run() {\r\n                                long startTime = System.currentTimeMillis();\r\n                                Date date = new Date(startTime);\r\n                                SimpleDateFormat myFormat = new SimpleDateFormat(&quot;HH:mm:ss dd-MM-yyyy&quot;);\r\n                                tv_dateCam1.setText(myFormat.format(date));\r\n                                tv_dateCam2.setText(myFormat.format(date));\r\n                                //show gps\r\n\t\t\t\t\t\t\t\t....\r\n                              \r\n                            }\r\n                        });\r\n                    }\r\n                } catch (InterruptedException e) {\r\n                    e.printStackTrace();\r\n                }\r\n            }\r\n        };\r\n        timeThread.start();\r\n    }\r\n\r\nStep 3: Recoding screen using mediarecoder and virtual display\r\n\r\n     /* screen record */\r\n    public void initScreenRecord(){\r\n        //DisplayMetrics A structure describing general information about a display,\r\n        // such as its size, density, and font scaling\r\n        DisplayMetrics metrics = new DisplayMetrics();\r\n        getWindowManager().getDefaultDisplay().getRealMetrics(metrics);\r\n        //densityDpi : the screen density expressed as dots-per-inch\r\n        mScreenDensity = metrics.densityDpi;\r\n        //init instance media recorder\r\n        mMediaRecorder = new MediaRecorder();\r\n        //\r\n        mMediaProjectionManager =(MediaProjectionManager) getSystemService(MEDIA_PROJECTION_SERVICE);\r\n\r\n        screenStart();\r\n\r\n    }\r\n    //status change\r\n    private void screenStart(){\r\n        Log.d(TAG, &quot;screenStart&quot;);\r\n        if (isRecordScreen){\r\n            initMediaRecord();\r\n            recordScreen();\r\n        }else {\r\n            mMediaRecorder.stop();\r\n            mMediaRecorder.reset();\r\n            stopScreenShare();\r\n        }\r\n    }\r\n    //stat screen recording and create virtual display\r\n    private void recordScreen() {\r\n        Log.d(TAG, &quot;record screen&quot;);\r\n        if (mMediaProjection == null){\r\n            startActivityForResult(mMediaProjectionManager.createScreenCaptureIntent(), REQUEST_SCREEN_CODE);\r\n            return;\r\n        }\r\n        mVirtualDisplay = createVirtualDisplay();\r\n        mMediaRecorder.start();\r\n    }\r\n    //recording screen stop\r\n    private void screenStop(){\r\n        if (isRecordScreen){\r\n            try {\r\n                mMediaRecorder.stop();\r\n                mMediaRecorder.reset();\r\n                stopScreenShare();\r\n                isRecordScreen = false;\r\n                Log.d(TAG, &quot;stop screen stop&quot;);\r\n            }catch (Exception e){\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    }\r\n    private class MediaProjectionCallback extends MediaProjection.Callback{\r\n        @Override\r\n        public void onStop() {\r\n            if (isRecordScreen){\r\n                isRecordScreen = false;\r\n                mMediaRecorder.stop();\r\n                mMediaRecorder.reset();\r\n                Log.d(TAG, &quot;Callback recording stopped&quot;);\r\n            }\r\n            mMediaProjection = null;\r\n            stopScreenShare();\r\n        }\r\n    }\r\n    // create virtual display depending on device width / height\r\n    private VirtualDisplay createVirtualDisplay(){\r\n        Log.d(TAG, &quot;create Virtual Display&quot;);\r\n        return mMediaProjection.createVirtualDisplay(&quot;ScreenRecord&quot;,SCREEN_WIDTH, SCREEN_HEIGHT,\r\n                mScreenDensity,\r\n                DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\r\n                mMediaRecorder.getSurface(), null, null);\r\n    }\r\n\r\n    private void reScreenRecord(){\r\n        Log.d(TAG, &quot;reRecording&quot;);\r\n        mMediaRecorder.start();\r\n    }\r\n\r\n    private void initMediaRecord(){\r\n        Log.d(TAG, &quot;initMediaRecord&quot;);\r\n        try {\r\n            mMediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\r\n            mMediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\r\n            String videoName = SDCard.getInstance().createVideoFileName();\r\n            mMediaRecorder.setOutputFile(videoName);\r\n            mMediaRecorder.setMaxDuration(TIME_RECORD*60000);\r\n\r\n            mMediaRecorder.setVideoSize(SCREEN_WIDTH, SCREEN_HEIGHT);\r\n\r\n            mMediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264);\r\n\r\n            /*\r\n            // 1tr bitrate : 5&#39; = 36,7mb\r\n            3tr bitrate 5&#39; = 100mb\r\n            8tr bitrate\r\n             */\r\n            mMediaRecorder.setVideoEncodingBitRate(3000000);\r\n            mMediaRecorder.setVideoFrameRate(1);\r\n            /*\r\n            /: change 30 to 16 : still stuttering\r\n            6: look like 16\r\n            remove frame rate setting: still bad\r\n            1:\r\n             */\r\n\r\n            mMediaRecorder.setOnInfoListener(new MediaRecorder.OnInfoListener() {\r\n                @Override\r\n                public void onInfo(MediaRecorder mediaRecorder, int i, int i1) {\r\n\r\n                    if (i &gt;= MediaRecorder.MEDIA_RECORDER_INFO_MAX_DURATION_REACHED) {\r\n                        Log.d(TAG,&quot;max duration&quot;);\r\n\r\n                        //check and delete oldest file\r\n                        if (SDCard.getInstance().sdCardSpace() &lt;=50000000L ) {\r\n                            SDCard.getInstance().sortFile();\r\n                        }\r\n                        \r\n                        mediaRecorder.stop();\r\n                        mediaRecorder.reset();\r\n                        stopScreenShare();\r\n                        initMediaRecord();\r\n                        recordScreen();\r\n                    }\r\n                }\r\n            });\r\n\r\n            mMediaRecorder.prepare();\r\n\r\n        } catch (IOException e) {\r\n            e.printStackTrace();\r\n        }\r\n    }\r\n\r\n    private void stopScreenShare(){\r\n        Log.d(TAG, &quot;stop Screen Share&quot;);\r\n        if (mVirtualDisplay == null){\r\n            return;\r\n        }\r\n        mVirtualDisplay.release();\r\n        //if use mediarecorder.release then cannot reuse again\r\n        destroyMediaProjection();\r\n    }\r\n\r\n    private void destroyMediaProjection() {\r\n        if (mMediaProjection != null){\r\n            mMediaProjection.unregisterCallback(mMediaProjectionCallback);\r\n            mMediaProjection.stop();\r\n            mMediaProjection = null;\r\n            isRecordScreen = false;\r\n            Log.d(TAG, &quot;Media projection stopped&quot;);\r\n        }\r\n    }\r\n\r\n\r\nI&#39;m try remove display text, seem lagging little decrease but When i running by motorbike then video result still lagging.\r\nI dont know where is really bug: my code, my device, or my bad solution to insert to video. I&#39;m new coder with android java . Some one can give me some resolves","title":"Video stuttering when using screen recording in android 7","body":"<p>My device target is only android 7.1. and my camera is webcam ( usb camera - uvc).My video saved in SDCard (micro SDCard A1 3 XC I V30 - meaning at least can recoding HD video). When i playback my video that is suttering as per second, lagging\nStep 1: I'm using surfacetexture and show preview in screen</p>\n<p>Step 2: Display text like timestamp in screen ( cause i don't know how to textoverlay in myvideo and saved it with the text, i can not find anything to do that with uvc camera.) So my method is display text in screen and recording anything in screen</p>\n<pre><code>private void displayDateTime(){\n\n    Thread timeThread = new Thread(){\n        @Override\n        public void run() {\n            try{\n                while (!isInterrupted()){\n                    Thread.sleep(1000);\n                    runOnUiThread(new Runnable() {\n                        @Override\n                        public void run() {\n                            long startTime = System.currentTimeMillis();\n                            Date date = new Date(startTime);\n                            SimpleDateFormat myFormat = new SimpleDateFormat(&quot;HH:mm:ss dd-MM-yyyy&quot;);\n                            tv_dateCam1.setText(myFormat.format(date));\n                            tv_dateCam2.setText(myFormat.format(date));\n                            //show gps\n                            ....\n                          \n                        }\n                    });\n                }\n            } catch (InterruptedException e) {\n                e.printStackTrace();\n            }\n        }\n    };\n    timeThread.start();\n}\n</code></pre>\n<p>Step 3: Recoding screen using mediarecoder and virtual display</p>\n<pre><code> /* screen record */\npublic void initScreenRecord(){\n    //DisplayMetrics A structure describing general information about a display,\n    // such as its size, density, and font scaling\n    DisplayMetrics metrics = new DisplayMetrics();\n    getWindowManager().getDefaultDisplay().getRealMetrics(metrics);\n    //densityDpi : the screen density expressed as dots-per-inch\n    mScreenDensity = metrics.densityDpi;\n    //init instance media recorder\n    mMediaRecorder = new MediaRecorder();\n    //\n    mMediaProjectionManager =(MediaProjectionManager) getSystemService(MEDIA_PROJECTION_SERVICE);\n\n    screenStart();\n\n}\n//status change\nprivate void screenStart(){\n    Log.d(TAG, &quot;screenStart&quot;);\n    if (isRecordScreen){\n        initMediaRecord();\n        recordScreen();\n    }else {\n        mMediaRecorder.stop();\n        mMediaRecorder.reset();\n        stopScreenShare();\n    }\n}\n//stat screen recording and create virtual display\nprivate void recordScreen() {\n    Log.d(TAG, &quot;record screen&quot;);\n    if (mMediaProjection == null){\n        startActivityForResult(mMediaProjectionManager.createScreenCaptureIntent(), REQUEST_SCREEN_CODE);\n        return;\n    }\n    mVirtualDisplay = createVirtualDisplay();\n    mMediaRecorder.start();\n}\n//recording screen stop\nprivate void screenStop(){\n    if (isRecordScreen){\n        try {\n            mMediaRecorder.stop();\n            mMediaRecorder.reset();\n            stopScreenShare();\n            isRecordScreen = false;\n            Log.d(TAG, &quot;stop screen stop&quot;);\n        }catch (Exception e){\n            e.printStackTrace();\n        }\n    }\n}\nprivate class MediaProjectionCallback extends MediaProjection.Callback{\n    @Override\n    public void onStop() {\n        if (isRecordScreen){\n            isRecordScreen = false;\n            mMediaRecorder.stop();\n            mMediaRecorder.reset();\n            Log.d(TAG, &quot;Callback recording stopped&quot;);\n        }\n        mMediaProjection = null;\n        stopScreenShare();\n    }\n}\n// create virtual display depending on device width / height\nprivate VirtualDisplay createVirtualDisplay(){\n    Log.d(TAG, &quot;create Virtual Display&quot;);\n    return mMediaProjection.createVirtualDisplay(&quot;ScreenRecord&quot;,SCREEN_WIDTH, SCREEN_HEIGHT,\n            mScreenDensity,\n            DisplayManager.VIRTUAL_DISPLAY_FLAG_AUTO_MIRROR,\n            mMediaRecorder.getSurface(), null, null);\n}\n\nprivate void reScreenRecord(){\n    Log.d(TAG, &quot;reRecording&quot;);\n    mMediaRecorder.start();\n}\n\nprivate void initMediaRecord(){\n    Log.d(TAG, &quot;initMediaRecord&quot;);\n    try {\n        mMediaRecorder.setVideoSource(MediaRecorder.VideoSource.SURFACE);\n        mMediaRecorder.setOutputFormat(MediaRecorder.OutputFormat.THREE_GPP);\n        String videoName = SDCard.getInstance().createVideoFileName();\n        mMediaRecorder.setOutputFile(videoName);\n        mMediaRecorder.setMaxDuration(TIME_RECORD*60000);\n\n        mMediaRecorder.setVideoSize(SCREEN_WIDTH, SCREEN_HEIGHT);\n\n        mMediaRecorder.setVideoEncoder(MediaRecorder.VideoEncoder.H264);\n\n        /*\n        // 1tr bitrate : 5' = 36,7mb\n        3tr bitrate 5' = 100mb\n        8tr bitrate\n         */\n        mMediaRecorder.setVideoEncodingBitRate(3000000);\n        mMediaRecorder.setVideoFrameRate(1);\n        /*\n        /: change 30 to 16 : still stuttering\n        6: look like 16\n        remove frame rate setting: still bad\n        1:\n         */\n\n        mMediaRecorder.setOnInfoListener(new MediaRecorder.OnInfoListener() {\n            @Override\n            public void onInfo(MediaRecorder mediaRecorder, int i, int i1) {\n\n                if (i &gt;= MediaRecorder.MEDIA_RECORDER_INFO_MAX_DURATION_REACHED) {\n                    Log.d(TAG,&quot;max duration&quot;);\n\n                    //check and delete oldest file\n                    if (SDCard.getInstance().sdCardSpace() &lt;=50000000L ) {\n                        SDCard.getInstance().sortFile();\n                    }\n                    \n                    mediaRecorder.stop();\n                    mediaRecorder.reset();\n                    stopScreenShare();\n                    initMediaRecord();\n                    recordScreen();\n                }\n            }\n        });\n\n        mMediaRecorder.prepare();\n\n    } catch (IOException e) {\n        e.printStackTrace();\n    }\n}\n\nprivate void stopScreenShare(){\n    Log.d(TAG, &quot;stop Screen Share&quot;);\n    if (mVirtualDisplay == null){\n        return;\n    }\n    mVirtualDisplay.release();\n    //if use mediarecorder.release then cannot reuse again\n    destroyMediaProjection();\n}\n\nprivate void destroyMediaProjection() {\n    if (mMediaProjection != null){\n        mMediaProjection.unregisterCallback(mMediaProjectionCallback);\n        mMediaProjection.stop();\n        mMediaProjection = null;\n        isRecordScreen = false;\n        Log.d(TAG, &quot;Media projection stopped&quot;);\n    }\n}\n</code></pre>\n<p>I'm try remove display text, seem lagging little decrease but When i running by motorbike then video result still lagging.\nI dont know where is really bug: my code, my device, or my bad solution to insert to video. I'm new coder with android java . Some one can give me some resolves</p>\n"},{"tags":["java","elasticsearch","listener","logstash"],"comments":[{"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"score":0,"creation_date":1466685979,"post_id":37991876,"comment_id":63427698,"body_markdown":"One way to do it would be to instruct Logstash to call an HTTP webhook everytime it sends a new document to ES. Your listener could listen on that endpoint and be notified.","body":"One way to do it would be to instruct Logstash to call an HTTP webhook everytime it sends a new document to ES. Your listener could listen on that endpoint and be notified."},{"owner":{"account_id":900832,"reputation":1133,"user_id":937028,"accept_rate":79,"display_name":"iX&#244;"},"score":0,"creation_date":1466687952,"post_id":37991876,"comment_id":63429225,"body_markdown":"I prefer to not modify the logstash configuration, the tool may not be launched, and as I already have a client to ES, I would prefer to use pure ES api, if possible.","body":"I prefer to not modify the logstash configuration, the tool may not be launched, and as I already have a client to ES, I would prefer to use pure ES api, if possible."}],"answers":[{"tags":[],"owner":{"account_id":5843921,"reputation":210855,"user_id":4604579,"display_name":"Val"},"down_vote_count":0,"up_vote_count":6,"is_accepted":true,"score":6,"last_activity_date":1658489704,"creation_date":1535009955,"answer_id":51980618,"question_id":37991876,"body_markdown":"This is what you&#39;re looking for: https://github.com/ForgeRock/es-change-feed-plugin\r\n\r\nUsing this plugin, you can register to a websocket channel to receive indexation/deletion events as they happen. It has [some limitations](https://github.com/ForgeRock/es-change-feed-plugin/issues/17), though.\r\n\r\nBack in the days, it was possible to install river plugins to stream documents to ES. The river feature has been removed, but this plugin above is like a &quot;reverse river&quot;, where outside clients are notified by ES as documents get indexed. \r\n\r\nVery useful and seemingly up-to-date with ES 6.x\r\n\r\n**UPDATE (April 14th, 2019):**\r\n\r\nAccording to what was said at Elastic{ON} Zurich 2019, at some point in the 7.x series, there will be a [Changes API](https://github.com/elastic/elasticsearch/issues/1242) that will provide index changes notifications (document creation, update, deletion and more).\r\n\r\n**UPDATE (July 22nd, 2022):**\r\n\r\nES 8.x is out and the Changes API is still nowhere in sight &lt;sigh/&gt;... Good to know, though, that&#39;s it&#39;s still open at least.","title":"How can a Elasticsearch client be notified of a new indexed document?","body":"<p>This is what you're looking for: <a href=\"https://github.com/ForgeRock/es-change-feed-plugin\" rel=\"nofollow noreferrer\">https://github.com/ForgeRock/es-change-feed-plugin</a></p>\n<p>Using this plugin, you can register to a websocket channel to receive indexation/deletion events as they happen. It has <a href=\"https://github.com/ForgeRock/es-change-feed-plugin/issues/17\" rel=\"nofollow noreferrer\">some limitations</a>, though.</p>\n<p>Back in the days, it was possible to install river plugins to stream documents to ES. The river feature has been removed, but this plugin above is like a &quot;reverse river&quot;, where outside clients are notified by ES as documents get indexed.</p>\n<p>Very useful and seemingly up-to-date with ES 6.x</p>\n<p><strong>UPDATE (April 14th, 2019):</strong></p>\n<p>According to what was said at Elastic{ON} Zurich 2019, at some point in the 7.x series, there will be a <a href=\"https://github.com/elastic/elasticsearch/issues/1242\" rel=\"nofollow noreferrer\">Changes API</a> that will provide index changes notifications (document creation, update, deletion and more).</p>\n<p><strong>UPDATE (July 22nd, 2022):</strong></p>\n<p>ES 8.x is out and the Changes API is still nowhere in sight ... Good to know, though, that's it's still open at least.</p>\n"}],"owner":{"account_id":900832,"reputation":1133,"user_id":937028,"accept_rate":79,"display_name":"iX&#244;"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":4563,"favorite_count":0,"down_vote_count":0,"up_vote_count":7,"accepted_answer_id":51980618,"answer_count":1,"score":7,"last_activity_date":1658489704,"creation_date":1466685550,"question_id":37991876,"body_markdown":"I am using Elasticsearch, and I am building a client (using the Java Client API) to export logs indexed via Logstash.\r\n\r\nI would like to be able to be notified (by adding a listener somewhere) when a new document is index (= a new log line have been added) instead of querying the last X documents.\r\n\r\nIs it possible ?","title":"How can a Elasticsearch client be notified of a new indexed document?","body":"<p>I am using Elasticsearch, and I am building a client (using the Java Client API) to export logs indexed via Logstash.</p>\n\n<p>I would like to be able to be notified (by adding a listener somewhere) when a new document is index (= a new log line have been added) instead of querying the last X documents.</p>\n\n<p>Is it possible ?</p>\n"},{"tags":["java","jvm"],"comments":[{"owner":{"account_id":3939498,"reputation":995,"user_id":3254536,"accept_rate":89,"display_name":"Neijwiert"},"score":0,"creation_date":1456753819,"post_id":35701206,"comment_id":59078797,"body_markdown":"How can you run something without an OS?...","body":"How can you run something without an OS?..."},{"owner":{"account_id":113555,"reputation":1226,"user_id":299014,"accept_rate":82,"display_name":"JRSofty"},"score":0,"creation_date":1456754105,"post_id":35701206,"comment_id":59079006,"body_markdown":"There was some company that had a board with a chip that ran Java code. Not sure if they still exist, it seemed a bit odd.","body":"There was some company that had a board with a chip that ran Java code. Not sure if they still exist, it seemed a bit odd."},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1456757595,"post_id":35701206,"comment_id":59081462,"body_markdown":"@JRSofty Azul still exists, and they still produce processors that are optimized for Java, but I believe there focus is now more on optimized JVM implementations.","body":"@JRSofty Azul still exists, and they still produce processors that are optimized for Java, but I believe there focus is now more on optimized JVM implementations."}],"answers":[{"tags":[],"owner":{"account_id":3870565,"reputation":4075,"user_id":3205932,"accept_rate":38,"display_name":"FallAndLearn"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1456753956,"creation_date":1456753956,"answer_id":35701333,"question_id":35701206,"body_markdown":"Factually we can have jvm without OS. \r\nHeard about some work in going in that direction. \r\n\r\n&gt; Gained with Oracle&#39;s acquisition of BEA Systems ... Oracle has\r\n&gt; resuscitated avant-garde virtualization technology: a Java Virtual\r\n&gt; Machine that runs directly on the hypervisor, without an operating\r\n&gt; system.","title":"Can run java programs without an OS?","body":"<p>Factually we can have jvm without OS. \nHeard about some work in going in that direction. </p>\n\n<blockquote>\n  <p>Gained with Oracle's acquisition of BEA Systems ... Oracle has\n  resuscitated avant-garde virtualization technology: a Java Virtual\n  Machine that runs directly on the hypervisor, without an operating\n  system.</p>\n</blockquote>\n"}],"owner":{"account_id":7736805,"reputation":183,"user_id":5858139,"accept_rate":12,"display_name":"Udit Dey"},"comment_count":3,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":780,"favorite_count":0,"down_vote_count":1,"up_vote_count":4,"answer_count":1,"score":3,"last_activity_date":1658489565,"creation_date":1456753603,"question_id":35701206,"body_markdown":"I know that all java programs are executed by the JVM. This makes java compatible with all operating systems (Write once, run anywhere). But can I run a java program &lt;i&gt;without&lt;/i&gt; an OS? \r\nMaybe run just the JVM? And if it is possible, will the functionality be affected in any way?\r\n\r\nNote: My main question is, can java programs be directly run on hardware (via a JVM)? Are there any low level JVMs that I could &#39;boot up&#39; in my computer? ","title":"Can run java programs without an OS?","body":"<p>I know that all java programs are executed by the JVM. This makes java compatible with all operating systems (Write once, run anywhere). But can I run a java program <i>without</i> an OS? \nMaybe run just the JVM? And if it is possible, will the functionality be affected in any way?</p>\n\n<p>Note: My main question is, can java programs be directly run on hardware (via a JVM)? Are there any low level JVMs that I could 'boot up' in my computer? </p>\n"},{"tags":["java","date"],"comments":[{"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"score":3,"creation_date":1658486553,"post_id":73078972,"comment_id":129068923,"body_markdown":"&gt; &quot;there is an error in a few test cases&quot;\nPlease show us the smallest test case that fails and the error you&#39;re getting. The code you showed looks OK to me.","body":"&gt; &quot;there is an error in a few test cases&quot; Please show us the smallest test case that fails and the error you&#39;re getting. The code you showed looks OK to me."},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1658487069,"post_id":73078972,"comment_id":129069110,"body_markdown":"DST (daylight saving time) can play havoc with tests, in Europe between 02:00 and 03:00. For instance if you _parse_ `&quot;02:30&quot;`. With date times I have often found checking code to be wrong, on time unit boundaries, and more.","body":"DST (daylight saving time) can play havoc with tests, in Europe between 02:00 and 03:00. For instance if you <i>parse</i> <code>&quot;02:30&quot;</code>. With date times I have often found checking code to be wrong, on time unit boundaries, and more."},{"owner":{"account_id":25182214,"reputation":293,"user_id":19023597,"display_name":"MouseNag"},"score":0,"creation_date":1658906983,"post_id":73078972,"comment_id":129165311,"body_markdown":"@JoopEggen So how do I resolve it?","body":"@JoopEggen So how do I resolve it?"},{"owner":{"account_id":960307,"reputation":107861,"user_id":984823,"display_name":"Joop Eggen"},"score":1,"creation_date":1658909470,"post_id":73078972,"comment_id":129166151,"body_markdown":"Using Random makes tests a minefield. The failed tests should provide enough info to recreate them with fixed values, and then you might see the conceptual error and may repair your algorithm. Keep this case as separate unit test too. _For the rest I cannot help._","body":"Using Random makes tests a minefield. The failed tests should provide enough info to recreate them with fixed values, and then you might see the conceptual error and may repair your algorithm. Keep this case as separate unit test too. <i>For the rest I cannot help.</i>"},{"owner":{"account_id":25182214,"reputation":293,"user_id":19023597,"display_name":"MouseNag"},"score":0,"creation_date":1659405008,"post_id":73078972,"comment_id":129281519,"body_markdown":"Right, I&#39;ll look into all this and alter the code accordingly. I found this helpful.","body":"Right, I&#39;ll look into all this and alter the code accordingly. I found this helpful."}],"owner":{"account_id":25182214,"reputation":293,"user_id":19023597,"display_name":"MouseNag"},"comment_count":5,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":79,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"closed_date":1658526112,"answer_count":0,"score":2,"last_activity_date":1658488991,"creation_date":1658486283,"question_id":73078972,"body_markdown":"[![enter image description here][1]][1]\r\nI&#39;m working on a project which interacts with different components.\r\nMy doubt is with respect to two components: `OrderHandler` [Springboot] and `OrderHandler-projections` [Flink].\r\n\r\nI have a DTO customized for date, which is named `WorkingDateDTO` and is used across different components. \r\n`WorkingDateDTO` is a date DTO which has a `LocalDate` wrapped inside it \r\nas follows:\r\n\r\n    public class WorkingDateDTO {\r\n      private LocalDate date;\r\n    \r\n      public LocalDate getDate() {\r\n        return this.date;\r\n      }\r\n    \r\n      public void setDate(LocalDate date) {\r\n        this.date = date;\r\n      }\r\n\r\nAnd this is the event sent from `OrderHandler` component. \r\n`Order` component sends a `OrderEvent`. It has a `Order` date of type `WorkingDateDTO` (which is customized as per the working date of my\r\n\r\n    public class OrderEvent {\r\n      private String orderId;\r\n      private String orderType;\r\n      private String orderCode;\r\n      private WorkingDateDTO orderDate;\r\n    }\r\n\r\nNow this event is received by `OrderHandler-projections`. So when it&#39;s received in `OrderHandler-projections`, there is an error in a few test cases. \r\n\r\nThe test cases use generator class which generates different orders for testing the code and business logic. \t\r\n\r\n    WorkingDateDTO workingDateDTO = new WorkingDateDTO();\r\n    LocalDate date = dateGenerator.generate(random,status).toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\r\n    // This is converting date into local date as Java&#39;s default dateGenerator will give you a &quot;Date&quot;. \r\n    //But we need &quot;LocalDate&quot; which is wrapped inside &quot;WorkingDateDTO&quot;.\r\n    workingDateDTO.setDate(date); // Setting localDate in WorkingDateDTO\r\n    orderEvent.setOrderDate(workingDateDTO);\r\n    \r\nI can&#39;t understand what the problem is.\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/fXfv3.png\r\n\r\n    Error: java.lang.AssertionError: Unexpected error in property revertTheLastOrderDateIfAReversalOrderIsSent with args\r\n\r\n`revertTheLastOrderDateIfAReversalOrderIsSent` calls `prepareReversedOrder` method which throws an error when I run in debug mode.   \r\n\r\n    private OrderEvent prepareReversedOrder(OrderEvent orderEvent)\r\n          throws JsonProcessingException {\r\n        OrderEvent event =\r\n            mapper.readValue(mapper.writeValueAsString(orderEvent), OrderEvent.class);\r\n        event.setOrderType(&quot;_reversal_&quot;);\r\n        event.setOrderId(UUID.randomUUID().toString());\r\n        System.out.println(&quot;$$ prepareReversedOrder - Event  :  &quot; + event);\r\n        return event;\r\n    }\r\n","title":"How do I resolve error in date conversion in Java?","body":"<p><a href=\"https://i.stack.imgur.com/fXfv3.png\" rel=\"nofollow noreferrer\"><img src=\"https://i.stack.imgur.com/fXfv3.png\" alt=\"enter image description here\" /></a>\nI'm working on a project which interacts with different components.\nMy doubt is with respect to two components: <code>OrderHandler</code> [Springboot] and <code>OrderHandler-projections</code> [Flink].</p>\n<p>I have a DTO customized for date, which is named <code>WorkingDateDTO</code> and is used across different components.\n<code>WorkingDateDTO</code> is a date DTO which has a <code>LocalDate</code> wrapped inside it\nas follows:</p>\n<pre><code>public class WorkingDateDTO {\n  private LocalDate date;\n\n  public LocalDate getDate() {\n    return this.date;\n  }\n\n  public void setDate(LocalDate date) {\n    this.date = date;\n  }\n</code></pre>\n<p>And this is the event sent from <code>OrderHandler</code> component.\n<code>Order</code> component sends a <code>OrderEvent</code>. It has a <code>Order</code> date of type <code>WorkingDateDTO</code> (which is customized as per the working date of my</p>\n<pre><code>public class OrderEvent {\n  private String orderId;\n  private String orderType;\n  private String orderCode;\n  private WorkingDateDTO orderDate;\n}\n</code></pre>\n<p>Now this event is received by <code>OrderHandler-projections</code>. So when it's received in <code>OrderHandler-projections</code>, there is an error in a few test cases.</p>\n<p>The test cases use generator class which generates different orders for testing the code and business logic.</p>\n<pre><code>WorkingDateDTO workingDateDTO = new WorkingDateDTO();\nLocalDate date = dateGenerator.generate(random,status).toInstant().atZone(ZoneId.systemDefault()).toLocalDate();\n// This is converting date into local date as Java's default dateGenerator will give you a &quot;Date&quot;. \n//But we need &quot;LocalDate&quot; which is wrapped inside &quot;WorkingDateDTO&quot;.\nworkingDateDTO.setDate(date); // Setting localDate in WorkingDateDTO\norderEvent.setOrderDate(workingDateDTO);\n</code></pre>\n<p>I can't understand what the problem is.</p>\n<pre><code>Error: java.lang.AssertionError: Unexpected error in property revertTheLastOrderDateIfAReversalOrderIsSent with args\n</code></pre>\n<p><code>revertTheLastOrderDateIfAReversalOrderIsSent</code> calls <code>prepareReversedOrder</code> method which throws an error when I run in debug mode.</p>\n<pre><code>private OrderEvent prepareReversedOrder(OrderEvent orderEvent)\n      throws JsonProcessingException {\n    OrderEvent event =\n        mapper.readValue(mapper.writeValueAsString(orderEvent), OrderEvent.class);\n    event.setOrderType(&quot;_reversal_&quot;);\n    event.setOrderId(UUID.randomUUID().toString());\n    System.out.println(&quot;$$ prepareReversedOrder - Event  :  &quot; + event);\n    return event;\n}\n</code></pre>\n"},{"tags":["java","spring","spring-properties"],"comments":[{"owner":{"account_id":3163751,"reputation":229,"user_id":2674200,"display_name":"Nacharya"},"score":0,"creation_date":1658480866,"post_id":73077254,"comment_id":129066743,"body_markdown":"have you tried configuring the path in the properties file and using the config in the code that generates the zip file?","body":"have you tried configuring the path in the properties file and using the config in the code that generates the zip file?"},{"owner":{"account_id":24727043,"reputation":25,"user_id":18615406,"display_name":"gabrielsterz"},"score":0,"creation_date":1658484879,"post_id":73077254,"comment_id":129068361,"body_markdown":"thats the question. what variable should I use in the properties File? Or can I just declare a variable in the properties file and call it in my code?","body":"thats the question. what variable should I use in the properties File? Or can I just declare a variable in the properties file and call it in my code?"}],"answers":[{"tags":[],"owner":{"account_id":5062001,"reputation":488,"user_id":4063281,"display_name":"Stargazer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1658488902,"creation_date":1658488902,"answer_id":73079544,"question_id":73077254,"body_markdown":"In Spring Boot you can do it like this. \r\n\r\n&#39;application-it.yml&#39; content:\r\n\r\n    file.storage: &quot;/export&quot;\r\n\r\n&#39;application-production.yml&#39; content:\r\n\r\n    file.storage: &quot;/foo/bar&quot;\r\n\r\nI don&#39;t know your real implementation. But imagine that you use service to process the file. Then you can include @Value to your service to include specific variable.\r\nMy &#39;SimpleService.java&#39; content:\r\n\r\n    package test.service;\r\n\r\n    import org.slf4j.Logger;\r\n    import org.slf4j.LoggerFactory;\r\n    import org.springframework.beans.factory.annotation.Value;\r\n    import org.springframework.stereotype.Service;\r\n    \r\n    import java.io.File;\r\n    import java.io.FileOutputStream;\r\n    import java.io.IOException;\r\n    import java.util.zip.ZipEntry;\r\n    import java.util.zip.ZipOutputStream;\r\n    \r\n    @Service\r\n    public class SimpleService {\r\n    \r\n        private static final Logger LOG = LoggerFactory.getLogger(SimpleService.class);\r\n    \r\n        @Value(&quot;${file.storage}&quot;)\r\n        private String fileStorage;\r\n    \r\n        public void saveFile() throws IOException {\r\n            LOG.info(&quot;Folder to store files: {}&quot;, fileStorage);\r\n    \r\n            File file = new File(fileStorage + File.separatorChar + &quot;test.zip&quot;);\r\n            ZipOutputStream outputStream = new ZipOutputStream(new FileOutputStream(file));\r\n            ZipEntry entry = new ZipEntry(&quot;entry.txt&quot;);\r\n            outputStream.putNextEntry(entry);\r\n            outputStream.write(&quot;test&quot;.getBytes());\r\n            outputStream.closeEntry();\r\n            outputStream.close();\r\n        }\r\n    }\r\n\r\nAnd finally, when you start your app (in my case with Maven) specify active app profile:\r\n\r\n    -Dspring.profiles.active=it\r\n\r\nor\r\n\r\n    -Dspring.profiles.active=production","title":"How to write files in different directories based on different spring-profiles?","body":"<p>In Spring Boot you can do it like this.</p>\n<p>'application-it.yml' content:</p>\n<pre><code>file.storage: &quot;/export&quot;\n</code></pre>\n<p>'application-production.yml' content:</p>\n<pre><code>file.storage: &quot;/foo/bar&quot;\n</code></pre>\n<p>I don't know your real implementation. But imagine that you use service to process the file. Then you can include @Value to your service to include specific variable.\nMy 'SimpleService.java' content:</p>\n<pre><code>package test.service;\n\nimport org.slf4j.Logger;\nimport org.slf4j.LoggerFactory;\nimport org.springframework.beans.factory.annotation.Value;\nimport org.springframework.stereotype.Service;\n\nimport java.io.File;\nimport java.io.FileOutputStream;\nimport java.io.IOException;\nimport java.util.zip.ZipEntry;\nimport java.util.zip.ZipOutputStream;\n\n@Service\npublic class SimpleService {\n\n    private static final Logger LOG = LoggerFactory.getLogger(SimpleService.class);\n\n    @Value(&quot;${file.storage}&quot;)\n    private String fileStorage;\n\n    public void saveFile() throws IOException {\n        LOG.info(&quot;Folder to store files: {}&quot;, fileStorage);\n\n        File file = new File(fileStorage + File.separatorChar + &quot;test.zip&quot;);\n        ZipOutputStream outputStream = new ZipOutputStream(new FileOutputStream(file));\n        ZipEntry entry = new ZipEntry(&quot;entry.txt&quot;);\n        outputStream.putNextEntry(entry);\n        outputStream.write(&quot;test&quot;.getBytes());\n        outputStream.closeEntry();\n        outputStream.close();\n    }\n}\n</code></pre>\n<p>And finally, when you start your app (in my case with Maven) specify active app profile:</p>\n<pre><code>-Dspring.profiles.active=it\n</code></pre>\n<p>or</p>\n<pre><code>-Dspring.profiles.active=production\n</code></pre>\n"}],"owner":{"account_id":24727043,"reputation":25,"user_id":18615406,"display_name":"gabrielsterz"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":81,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73079544,"answer_count":1,"score":0,"last_activity_date":1658488902,"creation_date":1658478122,"question_id":73077254,"body_markdown":"I generate a Zip File in my code and now i want to weite it in a directory\r\n```\r\n/export\r\n```\r\nin Production then I want to write it in \r\n```\r\n/foo/bar\r\n```\r\nI already got 2 Profiles (it &amp; Production):\r\n```\r\napplication-it.yaml\r\napplication-production.yaml\r\n```\r\nBut how do I manage two save locations in my code now or what propertie should I use for that?","title":"How to write files in different directories based on different spring-profiles?","body":"<p>I generate a Zip File in my code and now i want to weite it in a directory</p>\n<pre><code>/export\n</code></pre>\n<p>in Production then I want to write it in</p>\n<pre><code>/foo/bar\n</code></pre>\n<p>I already got 2 Profiles (it &amp; Production):</p>\n<pre><code>application-it.yaml\napplication-production.yaml\n</code></pre>\n<p>But how do I manage two save locations in my code now or what propertie should I use for that?</p>\n"},{"tags":["java","multithreading","executorservice"],"answers":[{"tags":[],"owner":{"account_id":4714434,"reputation":41866,"user_id":3814029,"accept_rate":67,"display_name":"Andy Guibert"},"down_vote_count":0,"up_vote_count":82,"is_accepted":true,"score":82,"last_activity_date":1564173947,"creation_date":1448123033,"answer_id":33845730,"question_id":33845405,"body_markdown":"There isn&#39;t a clean way to check if all Runnables are done if you use `ExecutorService.execute(Runnable)`.  Unless you build a mechanism to do so in the Runnable itself (which is sloppy in my opinion).\r\n\r\n**Instead:**&lt;br&gt;\r\nUse `ExecutorService.submit(Runnable)`.  This method will return a `Future&lt;?&gt;` which is a handle to the result of a `Runnable`.  Using Futures provides a clean way to check results.\r\n\r\nAll you have to do is maintain a list of Futures that you submit, and then you can iterate over the whole list of Futures and either:&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;A) wait for all the futures to be done in a blocking way or&lt;br&gt;\r\n&amp;nbsp;&amp;nbsp;B) check if all the futures are done in a non-blocking way.\r\n\r\nHere is a code example:\r\n\r\n    List&lt;Future&lt;?&gt;&gt; futures = new ArrayList&lt;Future&lt;?&gt;&gt;();\r\n    ExecutorService exec = Executors.newFixedThreadPool(5);\r\n\r\n    // Instead of using exec.execute() use exec.submit()\r\n    // because it returns a monitorable future\r\n    while((item = stack.pollFirst()) != null){\r\n        Runnable worker = new Solider(this, item);\r\n        Future&lt;?&gt; f = exec.submit(worker);\r\n        futures.add(f);\r\n    }\r\n\r\n    // A) Await all runnables to be done (blocking)\r\n    for(Future&lt;?&gt; future : futures)\r\n        future.get(); // get will block until the future is done\r\n\r\n    // B) Check if all runnables are done (non-blocking)\r\n    boolean allDone = true;\r\n    for(Future&lt;?&gt; future : futures){\r\n        allDone &amp;= future.isDone(); // check if future is done\r\n    }","title":"How to check if all tasks running on ExecutorService are completed","body":"<p>There isn't a clean way to check if all Runnables are done if you use <code>ExecutorService.execute(Runnable)</code>.  Unless you build a mechanism to do so in the Runnable itself (which is sloppy in my opinion).</p>\n\n<p><strong>Instead:</strong><br>\nUse <code>ExecutorService.submit(Runnable)</code>.  This method will return a <code>Future&lt;?&gt;</code> which is a handle to the result of a <code>Runnable</code>.  Using Futures provides a clean way to check results.</p>\n\n<p>All you have to do is maintain a list of Futures that you submit, and then you can iterate over the whole list of Futures and either:<br>\n&nbsp;&nbsp;A) wait for all the futures to be done in a blocking way or<br>\n&nbsp;&nbsp;B) check if all the futures are done in a non-blocking way.</p>\n\n<p>Here is a code example:</p>\n\n<pre><code>List&lt;Future&lt;?&gt;&gt; futures = new ArrayList&lt;Future&lt;?&gt;&gt;();\nExecutorService exec = Executors.newFixedThreadPool(5);\n\n// Instead of using exec.execute() use exec.submit()\n// because it returns a monitorable future\nwhile((item = stack.pollFirst()) != null){\n    Runnable worker = new Solider(this, item);\n    Future&lt;?&gt; f = exec.submit(worker);\n    futures.add(f);\n}\n\n// A) Await all runnables to be done (blocking)\nfor(Future&lt;?&gt; future : futures)\n    future.get(); // get will block until the future is done\n\n// B) Check if all runnables are done (non-blocking)\nboolean allDone = true;\nfor(Future&lt;?&gt; future : futures){\n    allDone &amp;= future.isDone(); // check if future is done\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":122835,"reputation":925,"user_id":316897,"accept_rate":89,"display_name":"Char"},"down_vote_count":0,"up_vote_count":11,"is_accepted":false,"score":11,"last_activity_date":1573138181,"creation_date":1573138181,"answer_id":58751286,"question_id":33845405,"body_markdown":"Update: with Java 8+ CompletableFutures you can manage this with its new callback functions. First you will need to create all of the CompletableFutures you need which will also start running, eg:\r\n\r\nWe need to accumulate all the futures generated in an Array in order to pass them later to CompletableFuture.allOf(CompletableFutures...)\r\n\r\nSo let&#39;s say you have a list of people you want to calculate its days until birthday asynchronously:\r\n\r\nFirst we create all those needed futures and collect them together in an array:\r\n\r\n    CompletableFuture&lt;?&gt;[] completables = people.stream()\r\n        .map(p -&gt; createCompletableFuture(p))\r\n        .toArray(CompletableFuture&lt;?&gt;[]::new);\r\n\r\n    private CompletableFuture createCompletableFuture(Person p) {\r\n            return CompletableFuture.runAsync(daysUntillBirthday(p));\r\n        }\r\n\r\nThen you pass those completables to a new CompletableFuture:\r\n\r\n    CompletableFuture c = CompletableFuture.allOf(completables)\r\n\r\nAnd you can now check if there are still futures running with:\r\n\r\n    c.isDone()","title":"How to check if all tasks running on ExecutorService are completed","body":"<p>Update: with Java 8+ CompletableFutures you can manage this with its new callback functions. First you will need to create all of the CompletableFutures you need which will also start running, eg:</p>\n\n<p>We need to accumulate all the futures generated in an Array in order to pass them later to CompletableFuture.allOf(CompletableFutures...)</p>\n\n<p>So let's say you have a list of people you want to calculate its days until birthday asynchronously:</p>\n\n<p>First we create all those needed futures and collect them together in an array:</p>\n\n<pre><code>CompletableFuture&lt;?&gt;[] completables = people.stream()\n    .map(p -&gt; createCompletableFuture(p))\n    .toArray(CompletableFuture&lt;?&gt;[]::new);\n\nprivate CompletableFuture createCompletableFuture(Person p) {\n        return CompletableFuture.runAsync(daysUntillBirthday(p));\n    }\n</code></pre>\n\n<p>Then you pass those completables to a new CompletableFuture:</p>\n\n<pre><code>CompletableFuture c = CompletableFuture.allOf(completables)\n</code></pre>\n\n<p>And you can now check if there are still futures running with:</p>\n\n<pre><code>c.isDone()\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14541585,"reputation":26,"user_id":10503107,"display_name":"Marc Levin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658488626,"creation_date":1658488626,"answer_id":73079489,"question_id":33845405,"body_markdown":"This may not be the cleanest solution, but you can use `ThreadPoolExecutor.getActiveCount()` to check how many threads are actively executing tasks.\r\n\r\nImplementing this within a while loop with a simple condition to check if the active thread count is zero is a palatable solution.\r\n\r\nHere is a code example:\r\n\r\n    ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(5);\r\n        for (int x = 0; x &lt; 4; x++) {\r\n            Runnable worker = new Solider(this,item);\r\n            executor.execute(worker);\r\n        }\r\n        // Now check for active threads.\r\n\r\n        while(executor.getActiveCount()!=0)\r\n        {\r\n            try {\r\n                Thread.sleep(100);\r\n            } catch (InterruptedException e) {\r\n                e.printStackTrace();\r\n            }\r\n        }\r\n    executor.shutdown();\r\n\r\n\r\nThe while block directly answers your question.\r\nIE - If the while block is active, tasks are being executed.","title":"How to check if all tasks running on ExecutorService are completed","body":"<p>This may not be the cleanest solution, but you can use <code>ThreadPoolExecutor.getActiveCount()</code> to check how many threads are actively executing tasks.</p>\n<p>Implementing this within a while loop with a simple condition to check if the active thread count is zero is a palatable solution.</p>\n<p>Here is a code example:</p>\n<pre><code>ThreadPoolExecutor executor = (ThreadPoolExecutor) Executors.newFixedThreadPool(5);\n    for (int x = 0; x &lt; 4; x++) {\n        Runnable worker = new Solider(this,item);\n        executor.execute(worker);\n    }\n    // Now check for active threads.\n\n    while(executor.getActiveCount()!=0)\n    {\n        try {\n            Thread.sleep(100);\n        } catch (InterruptedException e) {\n            e.printStackTrace();\n        }\n    }\nexecutor.shutdown();\n</code></pre>\n<p>The while block directly answers your question.\nIE - If the while block is active, tasks are being executed.</p>\n"}],"owner":{"account_id":5156642,"reputation":431,"user_id":4129715,"display_name":"user4129715"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":68322,"favorite_count":0,"down_vote_count":1,"up_vote_count":43,"accepted_answer_id":33845730,"answer_count":3,"score":42,"last_activity_date":1658488626,"creation_date":1448121193,"question_id":33845405,"body_markdown":"I&#39;v got ConcurrentLinkedDeque which I&#39;m using for synchronic push/pop elements, \r\nand I&#39;v got some async tasks which are taking one element from stack and if this element has neighbors It&#39;s pushing it to stack.\r\n\r\nExample code:\r\n\r\n    private ConcurrentLinkedDeque&lt;Item&gt; stack = new ConcurrentLinkedDeque&lt;&gt;();\r\n    private ExecutorService exec = Executors.newFixedThreadPool(5);\r\n    \r\n        while ((item = stack.pollFirst()) != null) {\r\n                    if (item == null) {\r\n                    } else {\r\n                        Runnable worker = new Solider(this, item);\r\n                        exec.execute(worker);\r\n                    }\r\n                }\r\n\r\n       class Solider{\r\n             public void run(){\r\n                 if(item.hasNeighbors){\r\n                    for(Item item:item.neighbors){\r\n                        stack.push(item)\r\n                    }\r\n                 } \r\n             }\r\n        }\r\n\r\nI would like to have additional statement in while loop which answers the question - &quot;any task in Executor is working?&quot;","title":"How to check if all tasks running on ExecutorService are completed","body":"<p>I'v got ConcurrentLinkedDeque which I'm using for synchronic push/pop elements, \nand I'v got some async tasks which are taking one element from stack and if this element has neighbors It's pushing it to stack.</p>\n\n<p>Example code:</p>\n\n<pre><code>private ConcurrentLinkedDeque&lt;Item&gt; stack = new ConcurrentLinkedDeque&lt;&gt;();\nprivate ExecutorService exec = Executors.newFixedThreadPool(5);\n\n    while ((item = stack.pollFirst()) != null) {\n                if (item == null) {\n                } else {\n                    Runnable worker = new Solider(this, item);\n                    exec.execute(worker);\n                }\n            }\n\n   class Solider{\n         public void run(){\n             if(item.hasNeighbors){\n                for(Item item:item.neighbors){\n                    stack.push(item)\n                }\n             } \n         }\n    }\n</code></pre>\n\n<p>I would like to have additional statement in while loop which answers the question - \"any task in Executor is working?\"</p>\n"},{"tags":["java","jdbc","sybase"],"comments":[{"owner":{"account_id":7740333,"reputation":530,"user_id":5860344,"display_name":"Abhinav"},"score":0,"creation_date":1551547557,"post_id":54960627,"comment_id":96683334,"body_markdown":"Probably, you don&#39;t have the respective jar file in your classpath. Have you checked the same?","body":"Probably, you don&#39;t have the respective jar file in your classpath. Have you checked the same?"},{"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"score":0,"creation_date":1551548913,"post_id":54960627,"comment_id":96683699,"body_markdown":"Do you have a deeper stacktrace, maybe with an exception cause?","body":"Do you have a deeper stacktrace, maybe with an exception cause?"},{"owner":{"account_id":71739,"reputation":307142,"user_id":207421,"accept_rate":82,"display_name":"user207421"},"score":0,"creation_date":1551648199,"post_id":54960627,"comment_id":96706858,"body_markdown":"You don&#39;t need this code. It has been unnecessary since 2007. Just remove it.","body":"You don&#39;t need this code. It has been unnecessary since 2007. Just remove it."},{"owner":{"account_id":116098,"reputation":1940,"user_id":304582,"accept_rate":32,"display_name":"user304582"},"score":0,"creation_date":1551741877,"post_id":54960627,"comment_id":96743474,"body_markdown":"If I understand you correctly, I removed my use of Class.forName() and checked that all of the relevant JDBC library JAR files were Type 4 (ie contained the META-INF\\services\\java.sql.Driver file). However, I still see the same problem: Could not initialize class oracle.jdbc.OracleDriver when the application attempts to use the com.sybase.jdbc4.jdbc.SybDriver","body":"If I understand you correctly, I removed my use of Class.forName() and checked that all of the relevant JDBC library JAR files were Type 4 (ie contained the META-INF\\services\\java.sql.Driver file). However, I still see the same problem: Could not initialize class oracle.jdbc.OracleDriver when the application attempts to use the com.sybase.jdbc4.jdbc.SybDriver"},{"owner":{"account_id":116098,"reputation":1940,"user_id":304582,"accept_rate":32,"display_name":"user304582"},"score":1,"creation_date":1551742211,"post_id":54960627,"comment_id":96743554,"body_markdown":"I can avoid this error by removing the Oracle JDBC library JAR from the classpath, but this won&#39;t solve my problem in Production when the application needs to connect to both Oracle and Sybase databases.","body":"I can avoid this error by removing the Oracle JDBC library JAR from the classpath, but this won&#39;t solve my problem in Production when the application needs to connect to both Oracle and Sybase databases."},{"owner":{"account_id":27071838,"reputation":207,"user_id":20622382,"display_name":"Seriously"},"score":0,"creation_date":1694523277,"post_id":54960627,"comment_id":135899667,"body_markdown":"@user304582 did you got the solution, i&#39;m facing the same issue. when i run it in eclipse it is able to make connection but when i create war and run war in server then getting same error","body":"@user304582 did you got the solution, i&#39;m facing the same issue. when i run it in eclipse it is able to make connection but when i create war and run war in server then getting same error"},{"owner":{"account_id":116098,"reputation":1940,"user_id":304582,"accept_rate":32,"display_name":"user304582"},"score":0,"creation_date":1694793433,"post_id":54960627,"comment_id":135942464,"body_markdown":"I am afraid that I don&#39;t remember how I resolved this! You can see below that I investigated a couple of solutions, but then moved on to other things. Sorry not to be more helpful.","body":"I am afraid that I don&#39;t remember how I resolved this! You can see below that I investigated a couple of solutions, but then moved on to other things. Sorry not to be more helpful."}],"answers":[{"tags":[],"owner":{"account_id":213468,"reputation":103488,"user_id":466862,"display_name":"Mark Rotteveel"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1551550430,"creation_date":1551549259,"answer_id":54961363,"question_id":54960627,"body_markdown":"This is not a complete answer, but it seems to be a class loading problem in combination with automatic driver loading.\r\n\r\nWhen you explicitly use `Class.forName` to load a JDBC driver, the driver should register itself with `java.sql.DriverManager`. \r\n\r\nLooking at the stack trace, specifically:\r\n\r\n&gt;         at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:426)\r\n&gt;         at com.sybase.jdbc4.jdbc.SybDriver.registerWithDriverManager(Unknown Source)\r\n&gt;         at com.sybase.jdbc4.jdbc.SybDriver.&lt;init&gt;(Unknown Source)\r\n&gt;         at com.sybase.jdbc4.jdbc.SybDriver.&lt;clinit&gt;(Unknown Source)\r\n&gt;         at java.base/java.lang.Class.forName0(Native Method)\r\n\r\nThe Sybase driver incorrectly checks currently registered drivers (using `DriverManager.getDrivers`) before (?) registering itself. And even worse, it does this from the driver constructor instead of a static initializer, which could potentially lead to a driver loading deadlock. A proper behaving driver should call `DriverManager.registerDriver` from a static initializer as specified in JDBC 4.3 section 9.2:\r\n\r\n&gt; JDBC drivers must implement the `Driver` interface, and the\r\n&gt; implementation must contain a static initializer that will be called\r\n&gt; when the driver is loaded. This initializer registers a new instance\r\n&gt; of itself with the `DriverManager`, as shown in CODE EXAMPLE 9-1.\r\n&gt; \r\n&gt; ``` \r\n&gt; public class AcmeJdbcDriver implements java.sql.Driver {\r\n&gt;     static {\r\n&gt;         java.sql.DriverManager.registerDriver(new AcmeJdbcDriver());\r\n&gt;     }\r\n&gt;     ... \r\n&gt; } \r\n&gt; ``` \r\n&gt; CODE EXAMPLE 9-1 Example static initializer for a driver implementing `java.sql.Driver`\r\n&gt; \r\n&gt; When a `Driver` implementation is loaded, the static initializer will\r\n&gt; automatically register an instance of the driver.\r\n\r\nBecause `DriverManager.getDrivers` is called, it will automatically load drivers on the classpath in `META-INF/service/java.sql.Driver` files (and those in the system property `jdbc.drivers`). \r\n\r\nIt looks like the Oracle JDBC driver was discovered **and** loaded this way, but then a check if the driver is available in the current class loader in `isDriverAllowed` fails with a `NoClassDefFoundError` (the check catches exceptions, but not errors, and maybe it should).\r\n\r\nAs a workaround, you should either remove the Oracle JDBC driver from your class path, or find out why it is not available in the current class loader.\r\n\r\nAs further diagnosis, try to call `DriverManager.getDrivers()`, `Class.forName(&quot;oracle.jdbc.Driver`) or even `new oracle.jdbc.Driver()` in your code and see what happens.\r\n\r\nYou may also want to check the version of your Sybase driver, and if there is a newer version that doesn&#39;t do this check, although that may simply cause the error to occur elsewhere in your code.","title":"Getting java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver exception","body":"<p>This is not a complete answer, but it seems to be a class loading problem in combination with automatic driver loading.</p>\n\n<p>When you explicitly use <code>Class.forName</code> to load a JDBC driver, the driver should register itself with <code>java.sql.DriverManager</code>. </p>\n\n<p>Looking at the stack trace, specifically:</p>\n\n<blockquote>\n<pre><code>    at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:426)\n    at com.sybase.jdbc4.jdbc.SybDriver.registerWithDriverManager(Unknown Source)\n    at com.sybase.jdbc4.jdbc.SybDriver.&lt;init&gt;(Unknown Source)\n    at com.sybase.jdbc4.jdbc.SybDriver.&lt;clinit&gt;(Unknown Source)\n    at java.base/java.lang.Class.forName0(Native Method)\n</code></pre>\n</blockquote>\n\n<p>The Sybase driver incorrectly checks currently registered drivers (using <code>DriverManager.getDrivers</code>) before (?) registering itself. And even worse, it does this from the driver constructor instead of a static initializer, which could potentially lead to a driver loading deadlock. A proper behaving driver should call <code>DriverManager.registerDriver</code> from a static initializer as specified in JDBC 4.3 section 9.2:</p>\n\n<blockquote>\n  <p>JDBC drivers must implement the <code>Driver</code> interface, and the\n  implementation must contain a static initializer that will be called\n  when the driver is loaded. This initializer registers a new instance\n  of itself with the <code>DriverManager</code>, as shown in CODE EXAMPLE 9-1.</p>\n\n<pre><code>public class AcmeJdbcDriver implements java.sql.Driver {\n    static {\n        java.sql.DriverManager.registerDriver(new AcmeJdbcDriver());\n    }\n    ... \n} \n</code></pre>\n  \n  <p>CODE EXAMPLE 9-1 Example static initializer for a driver implementing <code>java.sql.Driver</code></p>\n  \n  <p>When a <code>Driver</code> implementation is loaded, the static initializer will\n  automatically register an instance of the driver.</p>\n</blockquote>\n\n<p>Because <code>DriverManager.getDrivers</code> is called, it will automatically load drivers on the classpath in <code>META-INF/service/java.sql.Driver</code> files (and those in the system property <code>jdbc.drivers</code>). </p>\n\n<p>It looks like the Oracle JDBC driver was discovered <strong>and</strong> loaded this way, but then a check if the driver is available in the current class loader in <code>isDriverAllowed</code> fails with a <code>NoClassDefFoundError</code> (the check catches exceptions, but not errors, and maybe it should).</p>\n\n<p>As a workaround, you should either remove the Oracle JDBC driver from your class path, or find out why it is not available in the current class loader.</p>\n\n<p>As further diagnosis, try to call <code>DriverManager.getDrivers()</code>, <code>Class.forName(\"oracle.jdbc.Driver</code>) or even <code>new oracle.jdbc.Driver()</code> in your code and see what happens.</p>\n\n<p>You may also want to check the version of your Sybase driver, and if there is a newer version that doesn't do this check, although that may simply cause the error to occur elsewhere in your code.</p>\n"},{"tags":[],"owner":{"account_id":116098,"reputation":1940,"user_id":304582,"accept_rate":32,"display_name":"user304582"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1551644473,"creation_date":1551644473,"answer_id":54973355,"question_id":54960627,"body_markdown":"So I did some further investigation as follows. I wrote a minimal complete example:\r\n\r\n    import java.sql.*;\r\n    import java.util.*;\r\n    \r\n    public class TestDrivers {\r\n    \r\n        public static void main(String[] args) {\r\n            try {\r\n                Enumeration&lt;Driver&gt; driverEnumeration = DriverManager.getDrivers();\r\n                while (driverEnumeration.hasMoreElements()) {\r\n                    Driver driver = driverEnumeration.nextElement();\r\n                    System.out.println(&quot;driver is &quot; + driver.getClass().getName());\r\n                }\r\n            } catch (Throwable t) {\r\n                System.out.println(&quot;throwable getting drivers&quot;);\r\n                t.printStackTrace(System.out);\r\n                throw t;\r\n            }\r\n        }\r\n    }\r\n\r\nI then ran this example with four different classpaths with the following results:\r\n\r\n 1. No driver JAR files: success, no drivers listed\r\n 2. Driver JAR files: jconn4.jar;jtds-1.3.1.jar;ojdbc6-11.1.0.6.0.jar: failure with java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver\r\n 3. Driver JAR files: jtds-1.3.1.jar;ojdbc6-11.1.0.6.0.jar: success with jTDS and Oracle drivers listed\r\n 4. Driver JAR files: jconn4.jar;jtds-1.3.1.jar: success with jTDS and Sybase drivers listed\r\n\r\nSo there is some weird interaction going on if both Oracle and Sybase JDBC drivers are present. I also tried the Oracle ojdbc7.jar and ojdbc8.jar files with essentially the same results. Here&#39;s the full stacktrace:\r\n\r\n    java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver\r\n            at java.base/java.lang.Class.forName0(Native Method)\r\n            at java.base/java.lang.Class.forName(Class.java:398)\r\n            at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:555)\r\n            at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:547)\r\n            at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:449)\r\n            at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:426)\r\n            at com.javamarket.drivers.TestDrivers.main(TestDrivers.java:10)\r\n    Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver\r\n            at java.base/java.lang.Class.forName0(Native Method)\r\n            at java.base/java.lang.Class.forName(Class.java:398)\r\n            at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:555)\r\n            at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:547)\r\n            at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:449)\r\n            at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:426)\r\n            at com.javamarket.drivers.TestDrivers.main(TestDrivers.java:10)\r\n\r\nFinally, I tried this on a different machine running JDK 8 and all four classpath variations run successfully.\r\n\r\n","title":"Getting java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver exception","body":"<p>So I did some further investigation as follows. I wrote a minimal complete example:</p>\n\n<pre><code>import java.sql.*;\nimport java.util.*;\n\npublic class TestDrivers {\n\n    public static void main(String[] args) {\n        try {\n            Enumeration&lt;Driver&gt; driverEnumeration = DriverManager.getDrivers();\n            while (driverEnumeration.hasMoreElements()) {\n                Driver driver = driverEnumeration.nextElement();\n                System.out.println(\"driver is \" + driver.getClass().getName());\n            }\n        } catch (Throwable t) {\n            System.out.println(\"throwable getting drivers\");\n            t.printStackTrace(System.out);\n            throw t;\n        }\n    }\n}\n</code></pre>\n\n<p>I then ran this example with four different classpaths with the following results:</p>\n\n<ol>\n<li>No driver JAR files: success, no drivers listed</li>\n<li>Driver JAR files: jconn4.jar;jtds-1.3.1.jar;ojdbc6-11.1.0.6.0.jar: failure with java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver</li>\n<li>Driver JAR files: jtds-1.3.1.jar;ojdbc6-11.1.0.6.0.jar: success with jTDS and Oracle drivers listed</li>\n<li>Driver JAR files: jconn4.jar;jtds-1.3.1.jar: success with jTDS and Sybase drivers listed</li>\n</ol>\n\n<p>So there is some weird interaction going on if both Oracle and Sybase JDBC drivers are present. I also tried the Oracle ojdbc7.jar and ojdbc8.jar files with essentially the same results. Here's the full stacktrace:</p>\n\n<pre><code>java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:398)\n        at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:555)\n        at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:547)\n        at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:449)\n        at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:426)\n        at com.javamarket.drivers.TestDrivers.main(TestDrivers.java:10)\nException in thread \"main\" java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:398)\n        at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:555)\n        at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:547)\n        at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:449)\n        at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:426)\n        at com.javamarket.drivers.TestDrivers.main(TestDrivers.java:10)\n</code></pre>\n\n<p>Finally, I tried this on a different machine running JDK 8 and all four classpath variations run successfully.</p>\n"},{"tags":[],"owner":{"account_id":5269530,"reputation":175,"user_id":4208277,"display_name":"Uday Singh"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658488356,"creation_date":1658488356,"answer_id":73079423,"question_id":54960627,"body_markdown":"this is syabse jdbc driver, which is causing issues. you can try to re-order(put oracle dependency prior/much prior to sybase) sybase and ojdbc8 jar dependency in pom.xml\r\n\r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.oracle&lt;/groupId&gt;\r\n                &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\r\n                &lt;version&gt;12.2.0.1&lt;/version&gt;\r\n            &lt;/dependency&gt;\r\n    \r\n    &lt;dependency&gt;\r\n                &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\r\n                &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\r\n                &lt;version&gt;7.07-27082&lt;/version&gt;\r\n            &lt;/dependency&gt;","title":"Getting java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver exception","body":"<p>this is syabse jdbc driver, which is causing issues. you can try to re-order(put oracle dependency prior/much prior to sybase) sybase and ojdbc8 jar dependency in pom.xml</p>\n<pre><code>&lt;dependency&gt;\n            &lt;groupId&gt;com.oracle&lt;/groupId&gt;\n            &lt;artifactId&gt;ojdbc8&lt;/artifactId&gt;\n            &lt;version&gt;12.2.0.1&lt;/version&gt;\n        &lt;/dependency&gt;\n\n&lt;dependency&gt;\n            &lt;groupId&gt;com.sybase.jconnect&lt;/groupId&gt;\n            &lt;artifactId&gt;jconn4&lt;/artifactId&gt;\n            &lt;version&gt;7.07-27082&lt;/version&gt;\n        &lt;/dependency&gt;\n</code></pre>\n"}],"owner":{"account_id":116098,"reputation":1940,"user_id":304582,"accept_rate":32,"display_name":"user304582"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":10385,"favorite_count":0,"down_vote_count":0,"up_vote_count":5,"answer_count":3,"score":5,"last_activity_date":1658488356,"creation_date":1551544493,"question_id":54960627,"body_markdown":"I am seeing some weird behavior when attempting to access a database using JDBC drivers. Here&#39;s the code fragment:\r\n\r\n    LOGGER.debug(&quot;driver is &quot; + driver);\r\n    try {\r\n        Class.forName(driver);\r\n        LOGGER.debug(&quot;got driver&quot;);\r\n    } catch (Throwable t) {\r\n        LOGGER.debug(&quot;throwable getting driver &quot; + driver);\r\n        t.printStackTrace(System.out);\r\n        throw t;\r\n    }\r\n\r\nWhen I run this, here&#39;s what I see in the stack trace.\r\n\r\n    08:20:00.417 [main] DEBUG - driver is com.sybase.jdbc4.jdbc.SybDriver\r\n    08:20:00.604 [main] DEBUG - throwable getting driver com.sybase.jdbc4.jdbc.SybDriver\r\n    java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver\r\n            at java.base/java.lang.Class.forName0(Native Method)\r\n            at java.base/java.lang.Class.forName(Class.java:398)\r\n            at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:555)\r\n            at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:547)\r\n            at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:449)\r\n            at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:426)\r\n            at com.sybase.jdbc4.jdbc.SybDriver.registerWithDriverManager(Unknown Source)\r\n            at com.sybase.jdbc4.jdbc.SybDriver.&lt;init&gt;(Unknown Source)\r\n            at com.sybase.jdbc4.jdbc.SybDriver.&lt;clinit&gt;(Unknown Source)\r\n            at java.base/java.lang.Class.forName0(Native Method)\r\n            at java.base/java.lang.Class.forName(Class.java:315)\r\n            ... my code\r\n        \r\nSo I can see that the driver name that I am trying to get is com.sybase.jdbc4.jdbc.SybDriver which is correct, but for some reason, the DriverManager is looking for oracle.jdbc.OracleDriver.\r\n\r\nWhat is going on? This code has been working well for years, and the only other relevant information I can think of is that I have recently upgraded the JDK on this machine to Open JDK 11.\r\n\r\n    &gt;java -version\r\n    openjdk version &quot;11.0.2&quot; 2019-01-15\r\n    OpenJDK Runtime Environment 18.9 (build 11.0.2+9)\r\n    OpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\r\n","title":"Getting java.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver exception","body":"<p>I am seeing some weird behavior when attempting to access a database using JDBC drivers. Here's the code fragment:</p>\n\n<pre><code>LOGGER.debug(\"driver is \" + driver);\ntry {\n    Class.forName(driver);\n    LOGGER.debug(\"got driver\");\n} catch (Throwable t) {\n    LOGGER.debug(\"throwable getting driver \" + driver);\n    t.printStackTrace(System.out);\n    throw t;\n}\n</code></pre>\n\n<p>When I run this, here's what I see in the stack trace.</p>\n\n<pre><code>08:20:00.417 [main] DEBUG - driver is com.sybase.jdbc4.jdbc.SybDriver\n08:20:00.604 [main] DEBUG - throwable getting driver com.sybase.jdbc4.jdbc.SybDriver\njava.lang.NoClassDefFoundError: Could not initialize class oracle.jdbc.OracleDriver\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:398)\n        at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:555)\n        at java.sql/java.sql.DriverManager.isDriverAllowed(DriverManager.java:547)\n        at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:449)\n        at java.sql/java.sql.DriverManager.getDrivers(DriverManager.java:426)\n        at com.sybase.jdbc4.jdbc.SybDriver.registerWithDriverManager(Unknown Source)\n        at com.sybase.jdbc4.jdbc.SybDriver.&lt;init&gt;(Unknown Source)\n        at com.sybase.jdbc4.jdbc.SybDriver.&lt;clinit&gt;(Unknown Source)\n        at java.base/java.lang.Class.forName0(Native Method)\n        at java.base/java.lang.Class.forName(Class.java:315)\n        ... my code\n</code></pre>\n\n<p>So I can see that the driver name that I am trying to get is com.sybase.jdbc4.jdbc.SybDriver which is correct, but for some reason, the DriverManager is looking for oracle.jdbc.OracleDriver.</p>\n\n<p>What is going on? This code has been working well for years, and the only other relevant information I can think of is that I have recently upgraded the JDK on this machine to Open JDK 11.</p>\n\n<pre><code>&gt;java -version\nopenjdk version \"11.0.2\" 2019-01-15\nOpenJDK Runtime Environment 18.9 (build 11.0.2+9)\nOpenJDK 64-Bit Server VM 18.9 (build 11.0.2+9, mixed mode)\n</code></pre>\n"},{"tags":["java","android","android-fragments","android-context"],"answers":[{"tags":[],"owner":{"display_name":"user658042"},"down_vote_count":8,"up_vote_count":1440,"is_accepted":true,"score":1432,"last_activity_date":1550560211,"creation_date":1321894352,"answer_id":8215398,"question_id":8215308,"body_markdown":"You can use [`getActivity()`][1], which returns the activity associated with a `fragment`.  \r\nThe activity is a `context` *(since `Activity` extends `Context`)*.\r\n\r\n\r\n  [1]: http://developer.android.com/reference/android/app/Fragment.html#getActivity%28%29","title":"Using context in a fragment","body":"<p>You can use <a href=\"http://developer.android.com/reference/android/app/Fragment.html#getActivity%28%29\" rel=\"noreferrer\"><code>getActivity()</code></a>, which returns the activity associated with a <code>fragment</code>.<br>\nThe activity is a <code>context</code> <em>(since <code>Activity</code> extends <code>Context</code>)</em>.</p>\n"},{"tags":[],"owner":{"account_id":1977351,"reputation":1381,"user_id":1774845,"display_name":"iambox"},"down_vote_count":0,"up_vote_count":138,"is_accepted":false,"score":138,"last_activity_date":1501300037,"creation_date":1351182253,"answer_id":13073017,"question_id":8215308,"body_markdown":"To do as the answer above, you can override the `onAttach` method of fragment:\r\n\r\n    public static class DummySectionFragment extends Fragment{\r\n    ...\r\n        @Override\r\n\t\tpublic void onAttach(Activity activity) {\r\n\t\t\tsuper.onAttach(activity);\r\n\t\t\tDBHelper = new DatabaseHelper(activity);\r\n\t\t}\r\n    }","title":"Using context in a fragment","body":"<p>To do as the answer above, you can override the <code>onAttach</code> method of fragment:</p>\n\n<pre><code>public static class DummySectionFragment extends Fragment{\n...\n    @Override\n    public void onAttach(Activity activity) {\n        super.onAttach(activity);\n        DBHelper = new DatabaseHelper(activity);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3971171,"reputation":500,"user_id":3275744,"display_name":"Amer Elhabbash"},"down_vote_count":3,"up_vote_count":32,"is_accepted":false,"score":29,"last_activity_date":1473450261,"creation_date":1391613330,"answer_id":21581059,"question_id":8215308,"body_markdown":"The easiest and most precise way to get the context of the fragment that I found is to get it directly from the `ViewGroup` when you call `onCreateView` method at least here you are sure not to get null for `getActivity()`:\r\n\r\n    public class Animal extends Fragment { \r\n      Context thiscontext;\r\n      @Override\r\n      public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\r\n      {\r\n        thiscontext = container.getContext();","title":"Using context in a fragment","body":"<p>The easiest and most precise way to get the context of the fragment that I found is to get it directly from the <code>ViewGroup</code> when you call <code>onCreateView</code> method at least here you are sure not to get null for <code>getActivity()</code>:</p>\n\n<pre><code>public class Animal extends Fragment { \n  Context thiscontext;\n  @Override\n  public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState)\n  {\n    thiscontext = container.getContext();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3444158,"reputation":2729,"user_id":2885340,"accept_rate":23,"display_name":"Ankur Chaudhary"},"down_vote_count":1,"up_vote_count":27,"is_accepted":false,"score":26,"last_activity_date":1454260551,"creation_date":1393943462,"answer_id":22174744,"question_id":8215308,"body_markdown":"Always use the [getActivity()][1] method to get the context of your attached activity, but always remember one thing: Fragments are slightly unstable and `getActivity` returns null some times, so for that, always check the [isAdded()][2] method of fragment before getting context by `getActivity()`.\r\n\r\n  [1]: http://developer.android.com/reference/android/app/Fragment.html#getActivity%28%29\r\n  [2]: http://developer.android.com/reference/android/app/Fragment.html#isAdded()\r\n","title":"Using context in a fragment","body":"<p>Always use the <a href=\"http://developer.android.com/reference/android/app/Fragment.html#getActivity%28%29\">getActivity()</a> method to get the context of your attached activity, but always remember one thing: Fragments are slightly unstable and <code>getActivity</code> returns null some times, so for that, always check the <a href=\"http://developer.android.com/reference/android/app/Fragment.html#isAdded()\">isAdded()</a> method of fragment before getting context by <code>getActivity()</code>.</p>\n"},{"tags":[],"owner":{"account_id":1815648,"reputation":23033,"user_id":1650785,"accept_rate":45,"display_name":"codercat"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1454260595,"creation_date":1395052436,"answer_id":22452030,"question_id":8215308,"body_markdown":"Another alternative approach is:\r\n\r\nYou can get the context using:\r\n \r\n    getActivity().getApplicationContext();\r\n","title":"Using context in a fragment","body":"<p>Another alternative approach is:</p>\n\n<p>You can get the context using:</p>\n\n<pre><code>getActivity().getApplicationContext();\n</code></pre>\n"},{"tags":[],"owner":{"account_id":2200136,"reputation":1068,"user_id":1944723,"display_name":"taran mahal"},"down_vote_count":0,"up_vote_count":12,"is_accepted":false,"score":12,"last_activity_date":1402984858,"creation_date":1402984858,"answer_id":24256683,"question_id":8215308,"body_markdown":"    @Override\r\n\tpublic void onAttach(Activity activity) {\r\n\t\t// TODO Auto-generated method stub\r\n\t\tsuper.onAttach(activity);\r\n\t\tcontext=activity;\r\n\t}\r\n","title":"Using context in a fragment","body":"<pre><code>@Override\npublic void onAttach(Activity activity) {\n    // TODO Auto-generated method stub\n    super.onAttach(activity);\n    context=activity;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":3392202,"reputation":1041,"user_id":2846806,"display_name":"qazimusab"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1415569052,"creation_date":1415569052,"answer_id":26833622,"question_id":8215308,"body_markdown":"`getActivity()` is a child of Context so that should work for you","title":"Using context in a fragment","body":"<p><code>getActivity()</code> is a child of Context so that should work for you</p>\n"},{"tags":[],"owner":{"account_id":91056,"reputation":124854,"user_id":250260,"accept_rate":80,"display_name":"Jorgesys"},"down_vote_count":1,"up_vote_count":6,"is_accepted":false,"score":5,"last_activity_date":1456934735,"creation_date":1417819761,"answer_id":27325933,"question_id":8215308,"body_markdown":"to get the context inside the Fragment will be possible using [**`getActivity()`**][1] :\r\n\r\n\r\n    public Database()\r\n    {\r\n        this.context = getActivity();\r\n        DBHelper = new DatabaseHelper(this.context);\r\n    }\r\n\r\n* Be careful, to get the `Activity` associated with the fragment using `getActivity()`, you can use it but is not recommended it will cause memory leaks.\r\n\r\nI think a better aproach must be getting the `Activity` from the `onAttach()` method:\r\n\r\n    @Override\r\n    public void onAttach(Activity activity) {\r\n        super.onAttach(activity);\r\n        context = activity;\r\n    }\r\n\r\n  [1]: http://developer.android.com/intl/es/reference/android/app/Fragment.html#getActivity()\r\n","title":"Using context in a fragment","body":"<p>to get the context inside the Fragment will be possible using <a href=\"http://developer.android.com/intl/es/reference/android/app/Fragment.html#getActivity()\" rel=\"nofollow\"><strong><code>getActivity()</code></strong></a> :</p>\n\n<pre><code>public Database()\n{\n    this.context = getActivity();\n    DBHelper = new DatabaseHelper(this.context);\n}\n</code></pre>\n\n<ul>\n<li>Be careful, to get the <code>Activity</code> associated with the fragment using <code>getActivity()</code>, you can use it but is not recommended it will cause memory leaks.</li>\n</ul>\n\n<p>I think a better aproach must be getting the <code>Activity</code> from the <code>onAttach()</code> method:</p>\n\n<pre><code>@Override\npublic void onAttach(Activity activity) {\n    super.onAttach(activity);\n    context = activity;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5925210,"reputation":287,"user_id":4661283,"display_name":"Saubhagya Ranjan Das"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1454261060,"creation_date":1445313451,"answer_id":33227724,"question_id":8215308,"body_markdown":"The simple way is to use `getActivity()`. But I think the major confusion of using the `getActivity()` method to get the context here is a null pointer exception. \r\n\r\nFor this, first check with the `isAdded()` method which will determine whether it&#39;s added or not, and then we can use the `getActivity()` to get the context of Activity.\r\n","title":"Using context in a fragment","body":"<p>The simple way is to use <code>getActivity()</code>. But I think the major confusion of using the <code>getActivity()</code> method to get the context here is a null pointer exception. </p>\n\n<p>For this, first check with the <code>isAdded()</code> method which will determine whether it's added or not, and then we can use the <code>getActivity()</code> to get the context of Activity.</p>\n"},{"tags":[],"owner":{"account_id":7178049,"reputation":41,"user_id":5483176,"display_name":"Naveen"},"down_vote_count":0,"up_vote_count":4,"is_accepted":false,"score":4,"last_activity_date":1454261200,"creation_date":1445854125,"answer_id":33343066,"question_id":8215308,"body_markdown":"`getContext()` came in API 23. Replace it with getActivity() everywhere in the code.\r\n\r\nSee if it fixes the error. Try to use methods which are in between the target and minimun API level, else this error will come in place.\r\n","title":"Using context in a fragment","body":"<p><code>getContext()</code> came in API 23. Replace it with getActivity() everywhere in the code.</p>\n\n<p>See if it fixes the error. Try to use methods which are in between the target and minimun API level, else this error will come in place.</p>\n"},{"tags":[],"owner":{"account_id":1102899,"reputation":562,"user_id":4942129,"display_name":"luizfls"},"down_vote_count":0,"up_vote_count":7,"is_accepted":false,"score":7,"last_activity_date":1447911580,"creation_date":1447911580,"answer_id":33796057,"question_id":8215308,"body_markdown":"You could also get the context from the `inflater` parameter, when overriding `onCreateView`.\r\n\r\n    public static class MyFragment extends Fragment {\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                     Bundle savedInstanceState) {\r\n            /* ... */\r\n            Context context = inflater.getContext();\r\n            /* ... */\r\n        }\r\n    }","title":"Using context in a fragment","body":"<p>You could also get the context from the <code>inflater</code> parameter, when overriding <code>onCreateView</code>.</p>\n\n<pre><code>public static class MyFragment extends Fragment {\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                                 Bundle savedInstanceState) {\n        /* ... */\n        Context context = inflater.getContext();\n        /* ... */\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7370507,"reputation":11,"user_id":5610809,"display_name":"user5610809"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1448602357,"creation_date":1448600989,"answer_id":33950623,"question_id":8215308,"body_markdown":"Ideally, you should not need to use globals. The fragment has different notifications, one of them being onActivityCreated. You can get the instance of the activity in this lifecycle event of the fragment.\r\n\r\nThen: you can dereference the fragment to get activity, context or applicationcontext as you desire:\r\n\r\n`this.getActivity()` will give you the handle to the activity\r\n`this.getContext()` will give you a handle to the context\r\n`this.getActivity().getApplicationContext()` will give you the handle to the application context. You should preferably use the application context when passing it on to the db.","title":"Using context in a fragment","body":"<p>Ideally, you should not need to use globals. The fragment has different notifications, one of them being onActivityCreated. You can get the instance of the activity in this lifecycle event of the fragment.</p>\n\n<p>Then: you can dereference the fragment to get activity, context or applicationcontext as you desire:</p>\n\n<p><code>this.getActivity()</code> will give you the handle to the activity\n<code>this.getContext()</code> will give you a handle to the context\n<code>this.getActivity().getApplicationContext()</code> will give you the handle to the application context. You should preferably use the application context when passing it on to the db.</p>\n"},{"tags":[],"owner":{"account_id":6670210,"reputation":11,"user_id":5146529,"display_name":"蔡健烽"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1491037674,"creation_date":1460360269,"answer_id":36542560,"question_id":8215308,"body_markdown":"You can call `getActivity()` or,\r\n \r\n    public void onAttach(Context context) {\r\n        super.onAttach(context);\r\n        this.activity = (CashActivity) context;\r\n        this.money = this.activity.money;\r\n    }","title":"Using context in a fragment","body":"<p>You can call <code>getActivity()</code> or,</p>\n\n<pre><code>public void onAttach(Context context) {\n    super.onAttach(context);\n    this.activity = (CashActivity) context;\n    this.money = this.activity.money;\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":6409063,"reputation":1006,"user_id":4969370,"accept_rate":83,"display_name":"Robin Richtsfeld"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1466330258,"creation_date":1466330258,"answer_id":37905979,"question_id":8215308,"body_markdown":"Since API level 23 there is `getContext()` but if you want to support older versions you can use `getActivity().getApplicationContext()` while I still recommend using the support version of `Fragment` which is `android.support.v4.app.Fragment`.","title":"Using context in a fragment","body":"<p>Since API level 23 there is <code>getContext()</code> but if you want to support older versions you can use <code>getActivity().getApplicationContext()</code> while I still recommend using the support version of <code>Fragment</code> which is <code>android.support.v4.app.Fragment</code>.</p>\n"},{"tags":[],"owner":{"account_id":1662371,"reputation":1352,"user_id":1530399,"accept_rate":20,"display_name":"Jorge"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1491054346,"creation_date":1467317033,"answer_id":38132293,"question_id":8215308,"body_markdown":"You have different options:\r\n\r\n - If your minSDK &lt;= 21, then you can use `getActivity()`, since this is a `Context`.\r\n - If your minSDK is &gt;=23, then you can use `getContext()`.\r\n\r\nIf you don&#39;t need to support old versions then go with `getContext()`.\r\n","title":"Using context in a fragment","body":"<p>You have different options:</p>\n\n<ul>\n<li>If your minSDK &lt;= 21, then you can use <code>getActivity()</code>, since this is a <code>Context</code>.</li>\n<li>If your minSDK is >=23, then you can use <code>getContext()</code>.</li>\n</ul>\n\n<p>If you don't need to support old versions then go with <code>getContext()</code>.</p>\n"},{"tags":[],"owner":{"account_id":330919,"reputation":9502,"user_id":655275,"accept_rate":78,"display_name":"lomza"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1487064755,"creation_date":1487064755,"answer_id":42222374,"question_id":8215308,"body_markdown":"Use fragments from **Support Library** - \t\r\n\r\n    android.support.v4.app.Fragment\r\n\r\nand then override\r\n\r\n    void onAttach (Context context) {\r\n      this.context = context;\r\n    }\r\n\r\nThis way you can be sure that context will always be a non-null value.","title":"Using context in a fragment","body":"<p>Use fragments from <strong>Support Library</strong> -    </p>\n\n<pre><code>android.support.v4.app.Fragment\n</code></pre>\n\n<p>and then override</p>\n\n<pre><code>void onAttach (Context context) {\n  this.context = context;\n}\n</code></pre>\n\n<p>This way you can be sure that context will always be a non-null value.</p>\n"},{"tags":[],"owner":{"account_id":12156027,"reputation":13933,"user_id":8874958,"display_name":"Kishan Solanki"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1518093706,"creation_date":1518093706,"answer_id":48685801,"question_id":8215308,"body_markdown":"For Kotlin you can use `context` directly in fragments. But in some cased you will find an error like\r\n\r\n&gt; Type mismatch: inferred type is Context? but Context was expected\r\n\r\nfor that you can do this\r\n\r\n    val ctx = context ?: return\r\n    textViewABC.setTextColor(ContextCompat.getColor(ctx, android.R.color.black))","title":"Using context in a fragment","body":"<p>For Kotlin you can use <code>context</code> directly in fragments. But in some cased you will find an error like</p>\n\n<blockquote>\n  <p>Type mismatch: inferred type is Context? but Context was expected</p>\n</blockquote>\n\n<p>for that you can do this</p>\n\n<pre><code>val ctx = context ?: return\ntextViewABC.setTextColor(ContextCompat.getColor(ctx, android.R.color.black))\n</code></pre>\n"},{"tags":[],"owner":{"account_id":7285679,"reputation":1,"user_id":5553819,"display_name":"aswinbhim nath"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1520501251,"creation_date":1520499251,"answer_id":49169034,"question_id":8215308,"body_markdown":"I think you can use\r\n\r\n    public static class MyFragment extends Fragment {\r\n      @Override\r\n      public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n      \r\n          Context context = getActivity.getContext();\r\n      \r\n      }\r\n    }","title":"Using context in a fragment","body":"<p>I think you can use</p>\n\n<pre><code>public static class MyFragment extends Fragment {\n  @Override\n  public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n\n      Context context = getActivity.getContext();\n\n  }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":11318673,"reputation":543,"user_id":8299619,"display_name":"Mohsinali"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1522757960,"creation_date":1522757960,"answer_id":49629945,"question_id":8215308,"body_markdown":"    public class MenuFragment extends Fragment implements View.OnClickListener {\r\n        private Context mContext;\r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\r\n            FragmentMenuBinding binding=FragmentMenuBinding.inflate(inflater,container,false);\r\n            View view=binding.getRoot();\r\n            mContext=view.getContext();\r\n            return view;\r\n        }\r\n    }\r\n\r\n","title":"Using context in a fragment","body":"<pre><code>public class MenuFragment extends Fragment implements View.OnClickListener {\n    private Context mContext;\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container, Bundle savedInstanceState) {\n        FragmentMenuBinding binding=FragmentMenuBinding.inflate(inflater,container,false);\n        View view=binding.getRoot();\n        mContext=view.getContext();\n        return view;\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":13559105,"reputation":1899,"user_id":9781506,"display_name":"Ghazaleh Javaheri"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1530273847,"creation_date":1530270767,"answer_id":51100454,"question_id":8215308,"body_markdown":"I need context for using  arrayAdapter IN fragment, when I was using **getActivity** error occurs but when i replace it with **getContext** it works for me\r\n\r\n    listView LV=getView().findViewById(R.id.listOFsensors);\r\n    LV.setAdapter(new ArrayAdapter&lt;String&gt;(getContext(),android.R.layout.simple_list_item_1 ,listSensorType));\r\n    ","title":"Using context in a fragment","body":"<p>I need context for using  arrayAdapter IN fragment, when I was using <strong>getActivity</strong> error occurs but when i replace it with <strong>getContext</strong> it works for me</p>\n\n<pre><code>listView LV=getView().findViewById(R.id.listOFsensors);\nLV.setAdapter(new ArrayAdapter&lt;String&gt;(getContext(),android.R.layout.simple_list_item_1 ,listSensorType));\n</code></pre>\n"},{"tags":[],"owner":{"account_id":10396927,"reputation":68267,"user_id":7666442,"display_name":"AskNilesh"},"down_vote_count":0,"up_vote_count":19,"is_accepted":false,"score":19,"last_activity_date":1539145968,"creation_date":1539145570,"answer_id":52732620,"question_id":8215308,"body_markdown":"Previously I&#39;m using `onAttach (Activity activity)` to get `context` in `Fragment`\r\n\r\n&gt;Problem \r\n\r\nThe [**`onAttach (Activity activity)`**][1] method was deprecated in API level 23.\r\n\r\n&gt;Solution \r\n\r\nNow to get context in  `Fragment` we can use [**`onAttach (Context context)`**][2]\r\n\r\n&gt;**`onAttach (Context context)`**\r\n\r\n - Called when a fragment is first attached to its `context`. `onCreate(Bundle)` will be called after this. \r\n\r\n\r\n&gt;Documentation \r\n\r\n    /**\r\n     * Called when a fragment is first attached to its context.\r\n     * {@link #onCreate(Bundle)} will be called after this.\r\n     */\r\n    @CallSuper\r\n    public void onAttach(Context context) {\r\n        mCalled = true;\r\n        final Activity hostActivity = mHost == null ? null : mHost.getActivity();\r\n        if (hostActivity != null) {\r\n            mCalled = false;\r\n            onAttach(hostActivity);\r\n        }\r\n    }\r\n\r\n\r\n**SAMPLE CODE**\r\n\r\n    public class FirstFragment extends Fragment {\r\n    \r\n    \r\n        private Context mContext;\r\n        public FirstFragment() {\r\n            // Required empty public constructor\r\n        }\r\n    \r\n        @Override\r\n        public void onAttach(Context context) {\r\n            super.onAttach(context);\r\n            mContext=context;\r\n        }\r\n    \r\n        @Override\r\n        public View onCreateView(LayoutInflater inflater, ViewGroup container,\r\n                                 Bundle savedInstanceState) {\r\n            View rooView=inflater.inflate(R.layout.fragment_first, container, false);\r\n    \r\n            Toast.makeText(mContext, &quot;THIS IS SAMPLE TOAST&quot;, Toast.LENGTH_SHORT).show();\r\n            // Inflate the layout for this fragment\r\n            return rooView;\r\n        }\r\n    \r\n    }\r\n\r\n\r\n##NOTE\r\n\r\nWe can also use **`getActivity()`** to get `context` in `Fragments`\r\nbut `getActivity()` can return `null` if the your  `fragment` is not currently attached to a parent `activity`,\r\n\r\n  [1]: https://developer.android.com/reference/android/app/Fragment.html#onAttach(android.app.Activity)\r\n  [2]: https://developer.android.com/reference/android/app/Fragment.html#onAttach(android.content.Context)","title":"Using context in a fragment","body":"<p>Previously I'm using <code>onAttach (Activity activity)</code> to get <code>context</code> in <code>Fragment</code></p>\n\n<blockquote>\n  <p>Problem </p>\n</blockquote>\n\n<p>The <a href=\"https://developer.android.com/reference/android/app/Fragment.html#onAttach(android.app.Activity)\" rel=\"noreferrer\"><strong><code>onAttach (Activity activity)</code></strong></a> method was deprecated in API level 23.</p>\n\n<blockquote>\n  <p>Solution </p>\n</blockquote>\n\n<p>Now to get context in  <code>Fragment</code> we can use <a href=\"https://developer.android.com/reference/android/app/Fragment.html#onAttach(android.content.Context)\" rel=\"noreferrer\"><strong><code>onAttach (Context context)</code></strong></a></p>\n\n<blockquote>\n  <p><strong><code>onAttach (Context context)</code></strong></p>\n</blockquote>\n\n<ul>\n<li>Called when a fragment is first attached to its <code>context</code>. <code>onCreate(Bundle)</code> will be called after this. </li>\n</ul>\n\n<blockquote>\n  <p>Documentation </p>\n</blockquote>\n\n<pre><code>/**\n * Called when a fragment is first attached to its context.\n * {@link #onCreate(Bundle)} will be called after this.\n */\n@CallSuper\npublic void onAttach(Context context) {\n    mCalled = true;\n    final Activity hostActivity = mHost == null ? null : mHost.getActivity();\n    if (hostActivity != null) {\n        mCalled = false;\n        onAttach(hostActivity);\n    }\n}\n</code></pre>\n\n<p><strong>SAMPLE CODE</strong></p>\n\n<pre><code>public class FirstFragment extends Fragment {\n\n\n    private Context mContext;\n    public FirstFragment() {\n        // Required empty public constructor\n    }\n\n    @Override\n    public void onAttach(Context context) {\n        super.onAttach(context);\n        mContext=context;\n    }\n\n    @Override\n    public View onCreateView(LayoutInflater inflater, ViewGroup container,\n                             Bundle savedInstanceState) {\n        View rooView=inflater.inflate(R.layout.fragment_first, container, false);\n\n        Toast.makeText(mContext, \"THIS IS SAMPLE TOAST\", Toast.LENGTH_SHORT).show();\n        // Inflate the layout for this fragment\n        return rooView;\n    }\n\n}\n</code></pre>\n\n<h2>NOTE</h2>\n\n<p>We can also use <strong><code>getActivity()</code></strong> to get <code>context</code> in <code>Fragments</code>\nbut <code>getActivity()</code> can return <code>null</code> if the your  <code>fragment</code> is not currently attached to a parent <code>activity</code>,</p>\n"},{"tags":[],"owner":{"account_id":8466046,"reputation":184,"user_id":6350186,"accept_rate":20,"display_name":"Kinggeov"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1542139791,"creation_date":1542139791,"answer_id":53288740,"question_id":8215308,"body_markdown":"On you fragment \r\n\r\n    ((Name_of_your_Activity) getActivity()).helper\r\nOn Activity\r\n\r\n    DbHelper helper = new DbHelper(this);","title":"Using context in a fragment","body":"<p>On you fragment </p>\n\n<pre><code>((Name_of_your_Activity) getActivity()).helper\n</code></pre>\n\n<p>On Activity</p>\n\n<pre><code>DbHelper helper = new DbHelper(this);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1402251,"reputation":3328,"user_id":1330787,"accept_rate":48,"display_name":"Abduhafiz"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1555648300,"creation_date":1555648300,"answer_id":55756649,"question_id":8215308,"body_markdown":"In **kotlin** just use `activity` instead of `getActivity()`","title":"Using context in a fragment","body":"<p>In <strong>kotlin</strong> just use <code>activity</code> instead of <code>getActivity()</code></p>\n"},{"tags":[],"owner":{"account_id":16956254,"reputation":169,"user_id":12264569,"display_name":"Rishabh Sharma"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1658488241,"creation_date":1571939984,"answer_id":58546855,"question_id":8215308,"body_markdown":"You can use the getActivity() method to get context or \r\nYou can use getContext() method .\r\n ```\r\nView root = inflater.inflate(R.layout.fragment_slideshow, container, false);\r\nContext c = root.getContext();\r\n```\r\nI hope it helps!","title":"Using context in a fragment","body":"<p>You can use the getActivity() method to get context or\nYou can use getContext() method .</p>\n<pre><code>View root = inflater.inflate(R.layout.fragment_slideshow, container, false);\nContext c = root.getContext();\n</code></pre>\n<p>I hope it helps!</p>\n"},{"tags":[],"owner":{"account_id":155220,"reputation":6787,"user_id":371720,"accept_rate":58,"display_name":"Shihab Uddin"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1581926891,"creation_date":1581926891,"answer_id":60258197,"question_id":8215308,"body_markdown":"Inside fragment for kotlin sample would help someone\r\n\r\n    textViewStatus.setTextColor(ContextCompat.getColor(context!!, R.color.red))\r\n\r\nif you use databinding;\r\n\r\n    bindingView.textViewStatus.setTextColor(ContextCompat.getColor(context!!, R.color.red))\r\n\r\nWhere bindingView is initialized in **onCreateView** like this\r\n\r\n    private lateinit var bindingView: FragmentBookingHistoryDetailBinding\r\n    \r\n    bindingView = DataBindingUtil.inflate(inflater, R.layout.your_layout_xml, container, false)","title":"Using context in a fragment","body":"<p>Inside fragment for kotlin sample would help someone</p>\n\n<pre><code>textViewStatus.setTextColor(ContextCompat.getColor(context!!, R.color.red))\n</code></pre>\n\n<p>if you use databinding;</p>\n\n<pre><code>bindingView.textViewStatus.setTextColor(ContextCompat.getColor(context!!, R.color.red))\n</code></pre>\n\n<p>Where bindingView is initialized in <strong>onCreateView</strong> like this</p>\n\n<pre><code>private lateinit var bindingView: FragmentBookingHistoryDetailBinding\n\nbindingView = DataBindingUtil.inflate(inflater, R.layout.your_layout_xml, container, false)\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5833776,"reputation":25219,"user_id":4597501,"accept_rate":56,"display_name":"All Іѕ Vаиітy"},"down_vote_count":0,"up_vote_count":25,"is_accepted":false,"score":25,"last_activity_date":1647506757,"creation_date":1583145093,"answer_id":60486970,"question_id":8215308,"body_markdown":"The correct way is to use \r\n\r\n    requireContext()\r\n\r\nand the example\r\n\r\n    ContextCompat.getColor(requireContext(), R.color.colorAccent),\r\n","title":"Using context in a fragment","body":"<p>The correct way is to use</p>\n<pre><code>requireContext()\n</code></pre>\n<p>and the example</p>\n<pre><code>ContextCompat.getColor(requireContext(), R.color.colorAccent),\n</code></pre>\n"},{"tags":[],"owner":{"account_id":14996812,"reputation":416,"user_id":10825903,"display_name":"Jos&#233;Antonio Campillo"},"down_vote_count":0,"up_vote_count":14,"is_accepted":false,"score":14,"last_activity_date":1587036612,"creation_date":1587036612,"answer_id":61249143,"question_id":8215308,"body_markdown":"requireContext()  method is the simplest option\r\n\r\n    requireContext()\r\n\r\nExample\r\n\r\n    MyDatabase(requireContext())","title":"Using context in a fragment","body":"<p>requireContext()  method is the simplest option</p>\n\n<pre><code>requireContext()\n</code></pre>\n\n<p>Example</p>\n\n<pre><code>MyDatabase(requireContext())\n</code></pre>\n"},{"tags":[],"owner":{"account_id":21502906,"reputation":963,"user_id":15856359,"display_name":"Mostafa Onaizan"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1621992594,"creation_date":1621992594,"answer_id":67697444,"question_id":8215308,"body_markdown":"safe way to get context in fragment\r\n\r\n    if(isAdded){\r\n    requireActivit();//this is your context\r\n    }","title":"Using context in a fragment","body":"<p>safe way to get context in fragment</p>\n<pre><code>if(isAdded){\nrequireActivit();//this is your context\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":24061501,"reputation":133,"user_id":18038680,"display_name":"N-RAYAN"},"down_vote_count":2,"up_vote_count":0,"is_accepted":false,"score":-2,"last_activity_date":1646909187,"creation_date":1646909187,"answer_id":71422839,"question_id":8215308,"body_markdown":"androidx.fragment.app.Fragment \r\n\r\n    @NonNull\r\n    public final android.content.Context requireContext()\r\n\r\nReturn the Context the fragment is currently associated with.\r\n\r\nSince: \r\ngetActivity and Context can be null, it is good practice to use requireContext() as it can&#39;t be null.","title":"Using context in a fragment","body":"<p>androidx.fragment.app.Fragment</p>\n<pre><code>@NonNull\npublic final android.content.Context requireContext()\n</code></pre>\n<p>Return the Context the fragment is currently associated with.</p>\n<p>Since:\ngetActivity and Context can be null, it is good practice to use requireContext() as it can't be null.</p>\n"},{"tags":[],"owner":{"account_id":15211035,"reputation":196,"user_id":10975845,"display_name":"S. B."},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1647499611,"creation_date":1647499611,"answer_id":71508062,"question_id":8215308,"body_markdown":"In Kotlin you can use this:\r\nrequireActivity().applicationContext","title":"Using context in a fragment","body":"<p>In Kotlin you can use this:\nrequireActivity().applicationContext</p>\n"}],"owner":{"account_id":295108,"reputation":72056,"user_id":599346,"accept_rate":85,"display_name":"tyczj"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":642416,"favorite_count":0,"down_vote_count":1,"up_vote_count":740,"accepted_answer_id":8215398,"answer_count":30,"score":739,"last_activity_date":1658488241,"creation_date":1321893989,"question_id":8215308,"body_markdown":"How can I get the context in a fragment?\r\n\r\nI need to use my database whose constructor takes in the context, but `getApplicationContext()` and `FragmentClass.this` don&#39;t work so what can I do?\r\n\r\nDatabase constructor\r\n```\r\npublic Database(Context ctx)\r\n{\r\n    this.context = ctx;\r\n    DBHelper = new DatabaseHelper(context);\r\n}\r\n```","title":"Using context in a fragment","body":"<p>How can I get the context in a fragment?</p>\n<p>I need to use my database whose constructor takes in the context, but <code>getApplicationContext()</code> and <code>FragmentClass.this</code> don't work so what can I do?</p>\n<p>Database constructor</p>\n<pre><code>public Database(Context ctx)\n{\n    this.context = ctx;\n    DBHelper = new DatabaseHelper(context);\n}\n</code></pre>\n"},{"tags":["java","android","paypal"],"answers":[{"tags":[],"owner":{"account_id":14976806,"reputation":21,"user_id":10812037,"display_name":"Darren"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1547410820,"creation_date":1547410820,"answer_id":54172855,"question_id":54137899,"body_markdown":"Authorization defaults to sandbox unless explicitly set to &quot;live&quot;. It needs to be set within the PayPalConfiguration which is used in creation of the oAuth token, and the creation of the APIContext which is used to call the PayPal service.\r\n\r\nI had been getting the same error within a live environment, despite it working in sandbox. It is therefore likely that you have missed something.","title":"Payment to this merchant is not allowed (invalid clientid)","body":"<p>Authorization defaults to sandbox unless explicitly set to \"live\". It needs to be set within the PayPalConfiguration which is used in creation of the oAuth token, and the creation of the APIContext which is used to call the PayPal service.</p>\n\n<p>I had been getting the same error within a live environment, despite it working in sandbox. It is therefore likely that you have missed something.</p>\n"},{"tags":[],"owner":{"account_id":25869822,"reputation":1,"user_id":19600886,"display_name":"Vincent"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658487780,"creation_date":1658487780,"answer_id":73079306,"question_id":54137899,"body_markdown":"Change `ENVIRONMENT_SANDBOX` to `ENVIRONMENT_PRODUCTION`","title":"Payment to this merchant is not allowed (invalid clientid)","body":"<p>Change <code>ENVIRONMENT_SANDBOX</code> to <code>ENVIRONMENT_PRODUCTION</code></p>\n"}],"owner":{"account_id":15045291,"reputation":61,"user_id":10858661,"display_name":"Janis Hoff&#228;ller"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":2112,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"answer_count":2,"score":2,"last_activity_date":1658487780,"creation_date":1547159783,"question_id":54137899,"body_markdown":"I integrated Paypal in my android app in sandbox mode and everything worked perfectly fine. Now I switched to live mode and changed the client ID in my app as well. \r\n\r\nNow this error is displayed when I tried to make a test purchase:\r\n\r\n&gt; &quot;Payment to this merchant is not allowed (invalid clientid)&quot;\r\n\r\nI don&#39;t know what to do. I changed the client id in every place from the sandbox id to the live id.\r\n\r\nMy class where Paypal is initialized when click on a button:\r\n    \r\n    public class EssenActivity extends AppCompatActivity {\r\n\r\n      private static final String TAG = &quot;Log Essen Activity&quot;;\r\n      private String kochuiD, preis, preis_ohne_euro, AnfragePortionenS, ungefahreAnkunftS, preisRe;\r\n      private EditText anzahlPortionen;\r\n      private TextView ungef&#228;hreAnkunft;\r\n      private Button essenBes&#228;tigenBtn;\r\n      private FirebaseFirestore firebaseFirestore;\r\n      private TextView preisRechner;\r\n      private FirebaseAuth mAuth;\r\n      public static final int PAYPAL_REQUEST_CODE = 7171;\r\n      private static PayPalConfiguration config = new PayPalConfiguration()\r\n            .environment(PayPalConfiguration.ENVIRONMENT_SANDBOX)\r\n            .clientId(Config.PAYPAL_CLIENT_ID);\r\n      private String amount, amountOhneEuro;\r\n\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_essen);\r\n\r\n\r\n        essenBes&#228;tigenBtn = findViewById(R.id.essenBest&#228;tigen);\r\n        essenBes&#228;tigenBtn.setOnClickListener(new View.OnClickListener() {\r\n            @Override\r\n            public void onClick(View v) {\r\n               processPayment();\r\n            }\r\n        }\r\n      }\r\n\r\n\r\n      private void processPayment() {\r\n        amount = preisRechner.getText().toString();\r\n        amountOhneEuro = amount.replace(&quot;€&quot;, &quot;&quot;);\r\n        PayPalPayment payPalPayment = new PayPalPayment(new BigDecimal(String.valueOf(amountOhneEuro)), &quot;EUR&quot;,\r\n                &quot;Bezahle das Essen&quot;, PayPalPayment.PAYMENT_INTENT_SALE);\r\n        Intent intent = new Intent(EssenActivity.this, PaymentActivity.class);\r\n        intent.putExtra(PayPalService.EXTRA_PAYPAL_CONFIGURATION, config);\r\n        intent.putExtra(PaymentActivity.EXTRA_PAYMENT, payPalPayment);\r\n        startActivityForResult(intent, PAYPAL_REQUEST_CODE);\r\n      }\r\n\r\n      @Override\r\n      //\r\n      public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\r\n        if (requestCode == PAYPAL_REQUEST_CODE) {\r\n            if (resultCode == RESULT_OK) {\r\n                PaymentConfirmation confirmation = data.getParcelableExtra(PaymentActivity.EXTRA_RESULT_CONFIRMATION);\r\n                if (confirmation != null) {\r\n                    try {\r\n                        String paymentDetails = confirmation.toJSONObject().toString(4);\r\n                        startActivity(new Intent(EssenActivity.this, PaymentDetails.class)\r\n                                .putExtra(&quot;PaymentDetails&quot;, paymentDetails)\r\n                                .putExtra(&quot;PaymentAmount&quot;, amountOhneEuro)\r\n                                .putExtra(&quot;Koch Uid&quot;, kochuiD)\r\n                        );\r\n                    } catch (JSONException e) {\r\n                        e.printStackTrace();\r\n                    }\r\n                }\r\n\r\n            } else if (resultCode == Activity.RESULT_CANCELED) {\r\n                Log.d(TAG, &quot;onActivityResult: wurde gecancelt&quot;);\r\n            }\r\n        } else if (resultCode == PaymentActivity.RESULT_EXTRAS_INVALID)\r\n            Toast.makeText(EssenActivity.this, &quot;Ung&#252;ltig&quot;, Toast.LENGTH_SHORT).show();\r\n\r\n      }\r\n\r\n      @Override\r\n      public void onDestroy() {\r\n        EssenActivity.this.stopService(new Intent(EssenActivity.this, PayPalService.class));\r\n        super.onDestroy();\r\n      }\r\n    }\r\n\r\nMy Config class:\r\n\r\n    public class Config {\r\n      public static final String PAYPAL_CLIENT_ID =&quot;MY CLIENT ID&quot;;\r\n    }\r\n\r\nMy Paymentdetails class:\r\n\r\n    public class PaymentDetails extends AppCompatActivity {\r\n\r\n      private static final String TAG = &quot;PAYMENT&quot;;\r\n      private TextView txtid, txtAmount, txtStatus;\r\n      private FirebaseFirestore firebaseFirestore;\r\n      private FirebaseAuth mAuth;\r\n      private DocumentReference docIdRef;\r\n      private String kochUid;\r\n\r\n      @Override\r\n      protected void onCreate(Bundle savedInstanceState) {\r\n        super.onCreate(savedInstanceState);\r\n        setContentView(R.layout.activity_payment_details);\r\n\r\n        txtid = findViewById(R.id.txtId);\r\n        txtAmount = findViewById(R.id.txtAmount);\r\n        txtStatus = findViewById(R.id.txtStatus);\r\n\r\n        Intent intent = getIntent();\r\n\r\n        try {\r\n            JSONObject jsonObject = new JSONObject(intent.getStringExtra(&quot;PaymentDetails&quot;));\r\n            showDetails(jsonObject.getJSONObject(&quot;response&quot;), intent.getStringExtra(&quot;PaymentAmount&quot;));\r\n            \r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n      }\r\n\r\n      private void showDetails(JSONObject response, String paymentAmount) {\r\n        try {\r\n\r\n            firebaseFirestore = FirebaseFirestore.getInstance();\r\n            mAuth = FirebaseAuth.getInstance();\r\n            String uid = mAuth.getCurrentUser().getUid();\r\n\r\n            if (response.getString(&quot;state&quot;).equals(&quot;approved&quot;)) {\r\n                DocumentReference documentReference = firebaseFirestore.collection(&quot;essen_aktiv_anfrage&quot;).document(uid);\r\n\r\n                Map&lt;String, String&gt; anfrageMap = new HashMap&lt;&gt;();\r\n                anfrageMap.put(&quot;Id&quot;, response.getString(&quot;id&quot;));\r\n                anfrageMap.put(&quot;Status&quot;, response.getString(&quot;state&quot;));\r\n                anfrageMap.put(&quot;Betrag&quot;, paymentAmount + &quot;€&quot;);\r\n                //NEU\r\n                anfrageMap.put(&quot;Anfrage User&quot;, uid);\r\n                anfrageMap.put(&quot;Koch Uid&quot;, kochUid);\r\n\r\n\r\n                documentReference.set(anfrageMap, SetOptions.merge())\r\n                        .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\r\n                            @Override\r\n                            public void onSuccess(Void aVoid) {\r\n                                Intent intent = new Intent(PaymentDetails.this, MainActivity.class);\r\n                                intent.putExtra(&quot;Bezahlung war erfolgreich&quot;, &quot;approved&quot;);\r\n                                Toast.makeText(PaymentDetails.this, &quot;Bezahlung war erfolgreich&quot;, Toast.LENGTH_SHORT).show();\r\n                                startActivity(intent);\r\n                            }\r\n                        });\r\n            } else{\r\n                Toast.makeText(PaymentDetails.this, &quot;Bezahlung war nicht erfolgreich&quot;, Toast.LENGTH_SHORT).show();\r\n            }\r\n\r\n        } catch (JSONException e) {\r\n            e.printStackTrace();\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n\r\nAny help is appreciated. Thank you very much.\r\n","title":"Payment to this merchant is not allowed (invalid clientid)","body":"<p>I integrated Paypal in my android app in sandbox mode and everything worked perfectly fine. Now I switched to live mode and changed the client ID in my app as well. </p>\n\n<p>Now this error is displayed when I tried to make a test purchase:</p>\n\n<blockquote>\n  <p>\"Payment to this merchant is not allowed (invalid clientid)\"</p>\n</blockquote>\n\n<p>I don't know what to do. I changed the client id in every place from the sandbox id to the live id.</p>\n\n<p>My class where Paypal is initialized when click on a button:</p>\n\n<pre><code>public class EssenActivity extends AppCompatActivity {\n\n  private static final String TAG = \"Log Essen Activity\";\n  private String kochuiD, preis, preis_ohne_euro, AnfragePortionenS, ungefahreAnkunftS, preisRe;\n  private EditText anzahlPortionen;\n  private TextView ungefähreAnkunft;\n  private Button essenBesätigenBtn;\n  private FirebaseFirestore firebaseFirestore;\n  private TextView preisRechner;\n  private FirebaseAuth mAuth;\n  public static final int PAYPAL_REQUEST_CODE = 7171;\n  private static PayPalConfiguration config = new PayPalConfiguration()\n        .environment(PayPalConfiguration.ENVIRONMENT_SANDBOX)\n        .clientId(Config.PAYPAL_CLIENT_ID);\n  private String amount, amountOhneEuro;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_essen);\n\n\n    essenBesätigenBtn = findViewById(R.id.essenBestätigen);\n    essenBesätigenBtn.setOnClickListener(new View.OnClickListener() {\n        @Override\n        public void onClick(View v) {\n           processPayment();\n        }\n    }\n  }\n\n\n  private void processPayment() {\n    amount = preisRechner.getText().toString();\n    amountOhneEuro = amount.replace(\"€\", \"\");\n    PayPalPayment payPalPayment = new PayPalPayment(new BigDecimal(String.valueOf(amountOhneEuro)), \"EUR\",\n            \"Bezahle das Essen\", PayPalPayment.PAYMENT_INTENT_SALE);\n    Intent intent = new Intent(EssenActivity.this, PaymentActivity.class);\n    intent.putExtra(PayPalService.EXTRA_PAYPAL_CONFIGURATION, config);\n    intent.putExtra(PaymentActivity.EXTRA_PAYMENT, payPalPayment);\n    startActivityForResult(intent, PAYPAL_REQUEST_CODE);\n  }\n\n  @Override\n  //\n  public void onActivityResult(int requestCode, int resultCode, @Nullable Intent data) {\n    if (requestCode == PAYPAL_REQUEST_CODE) {\n        if (resultCode == RESULT_OK) {\n            PaymentConfirmation confirmation = data.getParcelableExtra(PaymentActivity.EXTRA_RESULT_CONFIRMATION);\n            if (confirmation != null) {\n                try {\n                    String paymentDetails = confirmation.toJSONObject().toString(4);\n                    startActivity(new Intent(EssenActivity.this, PaymentDetails.class)\n                            .putExtra(\"PaymentDetails\", paymentDetails)\n                            .putExtra(\"PaymentAmount\", amountOhneEuro)\n                            .putExtra(\"Koch Uid\", kochuiD)\n                    );\n                } catch (JSONException e) {\n                    e.printStackTrace();\n                }\n            }\n\n        } else if (resultCode == Activity.RESULT_CANCELED) {\n            Log.d(TAG, \"onActivityResult: wurde gecancelt\");\n        }\n    } else if (resultCode == PaymentActivity.RESULT_EXTRAS_INVALID)\n        Toast.makeText(EssenActivity.this, \"Ungültig\", Toast.LENGTH_SHORT).show();\n\n  }\n\n  @Override\n  public void onDestroy() {\n    EssenActivity.this.stopService(new Intent(EssenActivity.this, PayPalService.class));\n    super.onDestroy();\n  }\n}\n</code></pre>\n\n<p>My Config class:</p>\n\n<pre><code>public class Config {\n  public static final String PAYPAL_CLIENT_ID =\"MY CLIENT ID\";\n}\n</code></pre>\n\n<p>My Paymentdetails class:</p>\n\n<pre><code>public class PaymentDetails extends AppCompatActivity {\n\n  private static final String TAG = \"PAYMENT\";\n  private TextView txtid, txtAmount, txtStatus;\n  private FirebaseFirestore firebaseFirestore;\n  private FirebaseAuth mAuth;\n  private DocumentReference docIdRef;\n  private String kochUid;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_payment_details);\n\n    txtid = findViewById(R.id.txtId);\n    txtAmount = findViewById(R.id.txtAmount);\n    txtStatus = findViewById(R.id.txtStatus);\n\n    Intent intent = getIntent();\n\n    try {\n        JSONObject jsonObject = new JSONObject(intent.getStringExtra(\"PaymentDetails\"));\n        showDetails(jsonObject.getJSONObject(\"response\"), intent.getStringExtra(\"PaymentAmount\"));\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n  }\n\n  private void showDetails(JSONObject response, String paymentAmount) {\n    try {\n\n        firebaseFirestore = FirebaseFirestore.getInstance();\n        mAuth = FirebaseAuth.getInstance();\n        String uid = mAuth.getCurrentUser().getUid();\n\n        if (response.getString(\"state\").equals(\"approved\")) {\n            DocumentReference documentReference = firebaseFirestore.collection(\"essen_aktiv_anfrage\").document(uid);\n\n            Map&lt;String, String&gt; anfrageMap = new HashMap&lt;&gt;();\n            anfrageMap.put(\"Id\", response.getString(\"id\"));\n            anfrageMap.put(\"Status\", response.getString(\"state\"));\n            anfrageMap.put(\"Betrag\", paymentAmount + \"€\");\n            //NEU\n            anfrageMap.put(\"Anfrage User\", uid);\n            anfrageMap.put(\"Koch Uid\", kochUid);\n\n\n            documentReference.set(anfrageMap, SetOptions.merge())\n                    .addOnSuccessListener(new OnSuccessListener&lt;Void&gt;() {\n                        @Override\n                        public void onSuccess(Void aVoid) {\n                            Intent intent = new Intent(PaymentDetails.this, MainActivity.class);\n                            intent.putExtra(\"Bezahlung war erfolgreich\", \"approved\");\n                            Toast.makeText(PaymentDetails.this, \"Bezahlung war erfolgreich\", Toast.LENGTH_SHORT).show();\n                            startActivity(intent);\n                        }\n                    });\n        } else{\n            Toast.makeText(PaymentDetails.this, \"Bezahlung war nicht erfolgreich\", Toast.LENGTH_SHORT).show();\n        }\n\n    } catch (JSONException e) {\n        e.printStackTrace();\n    }\n  }\n}\n</code></pre>\n\n<p>Any help is appreciated. Thank you very much.</p>\n"},{"tags":["java","android","kotlin","android-edittext","cursor"],"answers":[{"tags":[],"owner":{"account_id":17145535,"reputation":1,"user_id":12408578,"display_name":"E. P.B."},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658487609,"creation_date":1658487609,"answer_id":73079264,"question_id":73033373,"body_markdown":"I&#39;m assuming, that while you want to change the value in the `EditText` manually, your `SeekBar` also progresses and that will change the value of your `seekbarValue`. That could mess up the cursor&#39;s position. The solution for this could be to pause this listener while you are writing in the `EditText`, and then resuming after you are done.\r\n\r\nAnother thing: you can convert your `progress` value into a `Double` with `.toDouble()`. Or just write `(progress/100).toDouble()`.","title":"Cursor goes to start(left) of the EditText after a character is entered or deleted","body":"<p>I'm assuming, that while you want to change the value in the <code>EditText</code> manually, your <code>SeekBar</code> also progresses and that will change the value of your <code>seekbarValue</code>. That could mess up the cursor's position. The solution for this could be to pause this listener while you are writing in the <code>EditText</code>, and then resuming after you are done.</p>\n<p>Another thing: you can convert your <code>progress</code> value into a <code>Double</code> with <code>.toDouble()</code>. Or just write <code>(progress/100).toDouble()</code>.</p>\n"}],"owner":{"account_id":25434703,"reputation":11,"user_id":19238594,"display_name":"ivan14"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":53,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658487609,"creation_date":1658218353,"question_id":73033373,"body_markdown":"\r\n\r\n&gt; everything works as it should except the  problem is that the cursor\r\n&gt; just goes to the start after a character is deleted or inputted, i\r\n&gt; want to it to stay at the same position\r\n\r\nThis is the code:\r\n \r\n\r\n \r\n\r\n    binding.includeFirstSeekbar.seekBar.setOnSeekBarChangeListener(object : OnSeekBarChangeListener {\r\n                override fun onProgressChanged(seekBar: SeekBar, progress: Int, b: Boolean) {\r\n    \r\n                    val number = java.lang.Double.valueOf(progress.toString())/100\r\n                    val dec = DecimalFormat(&quot;#,##0.00&quot;)\r\n                    val credits = dec.format(number)\r\n                    binding.seekbarValue.setText(credits)\r\n    }","title":"Cursor goes to start(left) of the EditText after a character is entered or deleted","body":"<blockquote>\n<p>everything works as it should except the  problem is that the cursor\njust goes to the start after a character is deleted or inputted, i\nwant to it to stay at the same position</p>\n</blockquote>\n<p>This is the code:</p>\n<pre><code>binding.includeFirstSeekbar.seekBar.setOnSeekBarChangeListener(object : OnSeekBarChangeListener {\n            override fun onProgressChanged(seekBar: SeekBar, progress: Int, b: Boolean) {\n\n                val number = java.lang.Double.valueOf(progress.toString())/100\n                val dec = DecimalFormat(&quot;#,##0.00&quot;)\n                val credits = dec.format(number)\n                binding.seekbarValue.setText(credits)\n}\n</code></pre>\n"},{"tags":["java","spring-boot","spring-data-jpa","microservices"],"comments":[{"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"score":0,"creation_date":1658398047,"post_id":73064192,"comment_id":129043697,"body_markdown":"By multiple services you mean microservices?","body":"By multiple services you mean microservices?"},{"owner":{"account_id":25860710,"reputation":11,"user_id":19593252,"display_name":"Dark Surfer"},"score":0,"creation_date":1658398661,"post_id":73064192,"comment_id":129043956,"body_markdown":"Yes, they are microservices","body":"Yes, they are microservices"}],"answers":[{"tags":[],"owner":{"account_id":71985,"reputation":7903,"user_id":208013,"display_name":"Mirek Pluta"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658398123,"creation_date":1658398123,"answer_id":73064283,"question_id":73064192,"body_markdown":"You should not share `Book` class between different services. Each of those service has a different understanding of what a &quot;Book&quot; is, especially that you mentioned that they will have different set of extra properties.\r\n\r\nCreate separate domain classes in each service. Some of properties may repeat, that&#39;s fine. \r\n\r\nIdeally individual services should share as little as possible (of course a schema of some DTO objects used for inter-service communication may be exception).","title":"Java spring - sharing domain models across projects","body":"<p>You should not share <code>Book</code> class between different services. Each of those service has a different understanding of what a &quot;Book&quot; is, especially that you mentioned that they will have different set of extra properties.</p>\n<p>Create separate domain classes in each service. Some of properties may repeat, that's fine.</p>\n<p>Ideally individual services should share as little as possible (of course a schema of some DTO objects used for inter-service communication may be exception).</p>\n"},{"tags":[],"owner":{"account_id":9621752,"reputation":483,"user_id":7142748,"display_name":"jhueg"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658398289,"creation_date":1658398289,"answer_id":73064331,"question_id":73064192,"body_markdown":"It&#39;s bad practice to share a model with multiple microservices, because it adds a coupling between these microservices. One of the greatest advanteges of microservices is to develop them independently, wich you will lose with coupling.\r\n\r\nSee these questions and answers for more details about it:\r\n- https://stackoverflow.com/questions/67535775/should-i-share-models-across-multiple-microservices\r\n- https://softwareengineering.stackexchange.com/questions/290922/shared-domain-model-between-different-microservices","title":"Java spring - sharing domain models across projects","body":"<p>It's bad practice to share a model with multiple microservices, because it adds a coupling between these microservices. One of the greatest advanteges of microservices is to develop them independently, wich you will lose with coupling.</p>\n<p>See these questions and answers for more details about it:</p>\n<ul>\n<li><a href=\"https://stackoverflow.com/questions/67535775/should-i-share-models-across-multiple-microservices\">Should I share models across multiple microservices?</a></li>\n<li><a href=\"https://softwareengineering.stackexchange.com/questions/290922/shared-domain-model-between-different-microservices\">https://softwareengineering.stackexchange.com/questions/290922/shared-domain-model-between-different-microservices</a></li>\n</ul>\n"}],"owner":{"account_id":25860710,"reputation":11,"user_id":19593252,"display_name":"Dark Surfer"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":624,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":2,"score":1,"last_activity_date":1658487534,"creation_date":1658397693,"question_id":73064192,"body_markdown":"Let&#39;s say I have a Book class as below in a library (library does not include spring boot). This needs to be shared across multiple services each maintaining their own DB and could add additional fields to the POJO. One of the services uses spring boot. Can I somehow use the Book class in the library as a domain model and have a JpaRepository created with it?\r\n\r\n    @Data\r\n    public class Book {\r\n        private String title;\r\n        private String isbn;\r\n        private double price;\r\n    }\r\n\r\nOr is there any other suggestion to share the Book class across different services. I am trying to find a solution where I do not have to duplicate this class across all services.","title":"Java spring - sharing domain models across projects","body":"<p>Let's say I have a Book class as below in a library (library does not include spring boot). This needs to be shared across multiple services each maintaining their own DB and could add additional fields to the POJO. One of the services uses spring boot. Can I somehow use the Book class in the library as a domain model and have a JpaRepository created with it?</p>\n<pre><code>@Data\npublic class Book {\n    private String title;\n    private String isbn;\n    private double price;\n}\n</code></pre>\n<p>Or is there any other suggestion to share the Book class across different services. I am trying to find a solution where I do not have to duplicate this class across all services.</p>\n"},{"tags":["java","spring"],"answers":[{"tags":[],"owner":{"account_id":12566179,"reputation":52,"user_id":12791811,"display_name":"Georglider"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1658487265,"creation_date":1658487265,"answer_id":73079184,"question_id":73079069,"body_markdown":"First you need to [install][1] MongoDB Spring Boot dependency\r\n\r\nThen in your application.properties you need to put MongoDB URI like that: spring.data.mongodb.uri = [URI]\r\n\r\nOn your project structure i can see UserRepository, it should look similar to this:\r\n```java\r\n@Repository\r\npublic interface UserRepository extends MongoRepository&lt;UserEntity, String&gt; {\r\n\r\n}\r\n```\r\nAnd now you can use your UserRepository everywhere just by using\r\n```@Autowired UserRepository userRepository```\r\n\r\n\r\n  [1]: https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-mongodb/2.7.0","title":"Spring where I should connect to my MongoDB?","body":"<p>First you need to <a href=\"https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-data-mongodb/2.7.0\" rel=\"nofollow noreferrer\">install</a> MongoDB Spring Boot dependency</p>\n<p>Then in your application.properties you need to put MongoDB URI like that: spring.data.mongodb.uri = [URI]</p>\n<p>On your project structure i can see UserRepository, it should look similar to this:</p>\n<pre class=\"lang-java prettyprint-override\"><code>@Repository\npublic interface UserRepository extends MongoRepository&lt;UserEntity, String&gt; {\n\n}\n</code></pre>\n<p>And now you can use your UserRepository everywhere just by using\n<code>@Autowired UserRepository userRepository</code></p>\n"}],"owner":{"account_id":25782911,"reputation":3,"user_id":19528305,"display_name":"zhvk"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":72,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":73079184,"answer_count":1,"score":0,"last_activity_date":1658487265,"creation_date":1658486706,"question_id":73079069,"body_markdown":"I want to connect to my database (MongoDB) but I don&#39;t know what file is responsible for this.\r\n\r\nMy [project structure][1]\r\n\r\nIn which file can I stuff it?\r\n\r\n    ConnectionString connectionString = new ConnectionString(&quot;&lt;DATABASE URL&gt;&quot;);\r\n    MongoClientSettings settings = MongoClientSettings.builder()\r\n            .applyConnectionString(connectionString)\r\n            .serverApi(ServerApi.builder()\r\n                .version(ServerApiVersion.V1)\r\n                .build())\r\n            .build();\r\n    MongoClient mongoClient = MongoClients.create(settings);\r\n    MongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);\r\n\r\n\r\n  [1]: https://i.stack.imgur.com/SPARl.png","title":"Spring where I should connect to my MongoDB?","body":"<p>I want to connect to my database (MongoDB) but I don't know what file is responsible for this.</p>\n<p>My <a href=\"https://i.stack.imgur.com/SPARl.png\" rel=\"nofollow noreferrer\">project structure</a></p>\n<p>In which file can I stuff it?</p>\n<pre><code>ConnectionString connectionString = new ConnectionString(&quot;&lt;DATABASE URL&gt;&quot;);\nMongoClientSettings settings = MongoClientSettings.builder()\n        .applyConnectionString(connectionString)\n        .serverApi(ServerApi.builder()\n            .version(ServerApiVersion.V1)\n            .build())\n        .build();\nMongoClient mongoClient = MongoClients.create(settings);\nMongoDatabase database = mongoClient.getDatabase(&quot;test&quot;);\n</code></pre>\n"},{"tags":["java","java-8","completable-future"],"comments":[{"owner":{"account_id":15519832,"reputation":1026,"user_id":11478354,"display_name":"dcolazin"},"score":0,"creation_date":1658443010,"post_id":73072357,"comment_id":129059363,"body_markdown":"if you can compute the futures in parallel, you can use join and allOf... and sometimes a for loop is the best solution!","body":"if you can compute the futures in parallel, you can use join and allOf... and sometimes a for loop is the best solution!"},{"owner":{"account_id":3211603,"reputation":289297,"user_id":2711488,"display_name":"Holger"},"score":3,"creation_date":1658481548,"post_id":73072357,"comment_id":129067024,"body_markdown":"Your example code is not helpful to illustrate your issue. Basically, *every* example of `supplyAsync` boils down to passing a supplier that will “do async work”. You have not added anything *specific to your problem*.","body":"Your example code is not helpful to illustrate your issue. Basically, <i>every</i> example of <code>supplyAsync</code> boils down to passing a supplier that will “do async work”. You have not added anything <i>specific to your problem</i>."}],"answers":[{"tags":[],"owner":{"account_id":2795364,"reputation":7571,"user_id":2404683,"display_name":"Davide D&#39;Alto"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658486931,"creation_date":1658486931,"answer_id":73079118,"question_id":73072357,"body_markdown":"The completable future API only has a method to run the futures in parallel: `CompletableFuture.allOf(...)`.\r\n\r\nIf you need to run the futures in the order they appear in the list, then the only option I&#39;m aware of is a custom loop:\r\n\r\n```\r\nList&lt;Object&gt; objects = ...\r\nCompletableFuture loop = CompletableFuture.completedFuture(null);\r\nfor (Object object : objects) {\r\n   loop = loop.thenCompose( r -&gt; future(object));  \r\n}\r\n```\r\n\r\nThe main issue with this solution is that if you have **many** futures, it could cause a StackOverflow exception. You can prevent it using the [Trampoline pattern][1]. An implementation of this pattern is available via `com.ibm.sync:asyncutil`. [The project is on GitHub][2].\r\n\r\n\r\n  [1]: https://java-design-patterns.com/patterns/trampoline/\r\n  [2]: https://github.com/IBM/java-async-util","title":"Composing *many* completable futures","body":"<p>The completable future API only has a method to run the futures in parallel: <code>CompletableFuture.allOf(...)</code>.</p>\n<p>If you need to run the futures in the order they appear in the list, then the only option I'm aware of is a custom loop:</p>\n<pre><code>List&lt;Object&gt; objects = ...\nCompletableFuture loop = CompletableFuture.completedFuture(null);\nfor (Object object : objects) {\n   loop = loop.thenCompose( r -&gt; future(object));  \n}\n</code></pre>\n<p>The main issue with this solution is that if you have <strong>many</strong> futures, it could cause a StackOverflow exception. You can prevent it using the <a href=\"https://java-design-patterns.com/patterns/trampoline/\" rel=\"nofollow noreferrer\">Trampoline pattern</a>. An implementation of this pattern is available via <code>com.ibm.sync:asyncutil</code>. <a href=\"https://github.com/IBM/java-async-util\" rel=\"nofollow noreferrer\">The project is on GitHub</a>.</p>\n"}],"owner":{"account_id":18498,"reputation":2789,"user_id":42429,"accept_rate":67,"display_name":"Martin Cowie"},"comment_count":2,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":494,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":1,"score":0,"last_activity_date":1658486931,"creation_date":1658435771,"question_id":73072357,"body_markdown":"All the available literature shows `CompletableFuture` composition where a single future is composed with another using `thenCompose` to return a `CompletableFuture&lt;ResultType&gt;`.\r\n\r\nIn my circumstance I have a single initial `seedFuture` which yields *many* pieces of data instead of one, each of which requires further async work.\r\n\r\n```\r\n    final CompletableFuture&lt;List&lt;NeedsMoreAsyncWork&gt;&gt; seedFuture = supplyAsync(() -&gt; {\r\n        // do async work\r\n    }, someExecutor);\r\n```\r\n\r\nCan this be expressed using a fluent API, so the end result is a `List&lt;ComposableFuture&lt;ResultType&gt;&gt;`? Or must I revert to using a `for` loop?","title":"Composing *many* completable futures","body":"<p>All the available literature shows <code>CompletableFuture</code> composition where a single future is composed with another using <code>thenCompose</code> to return a <code>CompletableFuture&lt;ResultType&gt;</code>.</p>\n<p>In my circumstance I have a single initial <code>seedFuture</code> which yields <em>many</em> pieces of data instead of one, each of which requires further async work.</p>\n<pre><code>    final CompletableFuture&lt;List&lt;NeedsMoreAsyncWork&gt;&gt; seedFuture = supplyAsync(() -&gt; {\n        // do async work\n    }, someExecutor);\n</code></pre>\n<p>Can this be expressed using a fluent API, so the end result is a <code>List&lt;ComposableFuture&lt;ResultType&gt;&gt;</code>? Or must I revert to using a <code>for</code> loop?</p>\n"},{"tags":["java","mysql","hibernate","jpa","jpql"],"comments":[{"owner":{"account_id":2094057,"reputation":506074,"user_id":1863229,"accept_rate":58,"display_name":"Tim Biegeleisen"},"score":0,"creation_date":1658480391,"post_id":73077678,"comment_id":129066574,"body_markdown":"For `table1.ID = 1`, the record with minimum date in that group is inactive, not active.  Please explain your sample data.","body":"For <code>table1.ID = 1</code>, the record with minimum date in that group is inactive, not active.  Please explain your sample data."},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1658480474,"post_id":73077678,"comment_id":129066612,"body_markdown":"*and results should be ordered by min DATE from table2* Even when this minimal date have another status?","body":"<i>and results should be ordered by min DATE from table2</i> Even when this minimal date have another status?"},{"owner":{"account_id":3396391,"reputation":29,"user_id":5437680,"display_name":"user1609"},"score":0,"creation_date":1658480521,"post_id":73077678,"comment_id":129066631,"body_markdown":"@TimBiegeleisen Desired result data is from table1. There is ACTIVE record for table1.ID = 1 with date=22-JUL-2022 and ID=2.","body":"@TimBiegeleisen Desired result data is from table1. There is ACTIVE record for table1.ID = 1 with date=22-JUL-2022 and ID=2."},{"owner":{"account_id":3396391,"reputation":29,"user_id":5437680,"display_name":"user1609"},"score":0,"creation_date":1658480593,"post_id":73077678,"comment_id":129066656,"body_markdown":"@Akina No. Note that there is not result in desired result table with ID=3 since there is no ACTIVE record for table1.ID=3","body":"@Akina No. Note that there is not result in desired result table with ID=3 since there is no ACTIVE record for table1.ID=3"},{"owner":{"account_id":9744358,"reputation":39903,"user_id":10138734,"display_name":"Akina"},"score":0,"creation_date":1658482120,"post_id":73077678,"comment_id":129067297,"body_markdown":"You don&#39;t understand me. Imagine: ID=11, 10-JUL-2020 INACTIVE, 13-JUL-2020 ACTIVE; ID=22, 11-JUL-2020 INACTIVE, 12-JUL-2020 ACTIVE. Which must be first? What date must be used - the oldest at all or the oldest with ACTIVE status?","body":"You don&#39;t understand me. Imagine: ID=11, 10-JUL-2020 INACTIVE, 13-JUL-2020 ACTIVE; ID=22, 11-JUL-2020 INACTIVE, 12-JUL-2020 ACTIVE. Which must be first? What date must be used - the oldest at all or the oldest with ACTIVE status?"},{"owner":{"account_id":3396391,"reputation":29,"user_id":5437680,"display_name":"user1609"},"score":0,"creation_date":1658482394,"post_id":73077678,"comment_id":129067424,"body_markdown":"@Akina the oldest with ACTIVE status.","body":"@Akina the oldest with ACTIVE status."}],"answers":[{"tags":[],"owner":{"account_id":14535244,"reputation":161554,"user_id":10498828,"display_name":"forpas"},"down_vote_count":0,"up_vote_count":4,"is_accepted":true,"score":4,"last_activity_date":1658481504,"creation_date":1658481000,"answer_id":73077862,"question_id":73077678,"body_markdown":"Join `table1` to a query that aggregates in `table2` and returns all `table1_id`s with an `ACTIVE` row:\r\n\r\n    SELECT t1.*\r\n    FROM table1 t1\r\n    INNER JOIN (\r\n      SELECT table1_id, MIN(date) date\r\n      FROM table2\r\n      WHERE status = &#39;ACTIVE&#39;\r\n      GROUP BY table1_id\r\n    ) t2 ON t2.table1_id = t1.id\r\n    ORDER BY t2.date;\r\n\r\nSee the [demo][1].&lt;br/&gt;\r\n\r\n\r\n  [1]: https://dbfiddle.uk/?rdbms=mysql_8.0&amp;fiddle=3c817c9d239a5eb8b101ef77c7b92c91","title":"SELECT DISTINCT rows FROM one table HAVING MIN(value) FROM another table","body":"<p>Join <code>table1</code> to a query that aggregates in <code>table2</code> and returns all <code>table1_id</code>s with an <code>ACTIVE</code> row:</p>\n<pre><code>SELECT t1.*\nFROM table1 t1\nINNER JOIN (\n  SELECT table1_id, MIN(date) date\n  FROM table2\n  WHERE status = 'ACTIVE'\n  GROUP BY table1_id\n) t2 ON t2.table1_id = t1.id\nORDER BY t2.date;\n</code></pre>\n<p>See the <a href=\"https://dbfiddle.uk/?rdbms=mysql_8.0&amp;fiddle=3c817c9d239a5eb8b101ef77c7b92c91\" rel=\"nofollow noreferrer\">demo</a>.<br/></p>\n"},{"tags":[],"owner":{"account_id":19452483,"reputation":357,"user_id":14228537,"display_name":"Zach_Mose"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658482228,"creation_date":1658482228,"answer_id":73078142,"question_id":73077678,"body_markdown":"There are multiple ways of solving this problem, as @forpas has already answered\r\nusing a subquery in the JOIN clause.\r\n\r\nThe same results can be achieved using this query\r\n\r\n```\r\nSELECT table1.ID , table1.name\r\nFROM table1  \r\nINNER JOIN table2 ON table2.table1_ID = table1.ID\r\nWHERE status = &#39;ACTIVE&#39;\r\nGROUP BY table1.ID , table1.name\r\nORDER BY MIN(table2.statusDate)\r\n```","title":"SELECT DISTINCT rows FROM one table HAVING MIN(value) FROM another table","body":"<p>There are multiple ways of solving this problem, as @forpas has already answered\nusing a subquery in the JOIN clause.</p>\n<p>The same results can be achieved using this query</p>\n<pre><code>SELECT table1.ID , table1.name\nFROM table1  \nINNER JOIN table2 ON table2.table1_ID = table1.ID\nWHERE status = 'ACTIVE'\nGROUP BY table1.ID , table1.name\nORDER BY MIN(table2.statusDate)\n</code></pre>\n"}],"owner":{"account_id":3396391,"reputation":29,"user_id":5437680,"display_name":"user1609"},"comment_count":6,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":183,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":73077862,"answer_count":2,"score":1,"last_activity_date":1658486842,"creation_date":1658480083,"question_id":73077678,"body_markdown":"I have one table (**table1**) with columns:\r\n\r\n|  ID  | NAME |\r\n|------|------|\r\n|  1   |  A   |\r\n|  2   |  B   |\r\n|  3   |  C   |\r\n|  4   |  D   |\r\n\r\nand another table (**table2**) with columns:\r\n\r\n|  ID  | table1.ID |    DATE     |  STATUS |\r\n|------|-----------|-------------|---------|\r\n|  1   |   1       | 21-JUL-2020 |INACTIVE |\r\n|  2   |   1       | 22-JUL-2022 |ACTIVE   |\r\n|  3   |   1       | 23-JUL-2022 |ACTIVE   |\r\n|  4   |   2       | 21-JAN-2022 |ACTIVE   |\r\n|  5   |   2       | 22-JAN-2022 |INACTIVE |\r\n|  6   |   2       | 23-JAN-2022 |ACTIVE   |\r\n|  7   |   3       | 20-JAN-2022 |INACTIVE |\r\n|  8   |   3       | 20-JAN-2022 |INACTIVE |\r\n\r\n\r\nI am trying to write a query that will return distinct rows from **table1** where status from **table2** is `ACTIVE` and results should be ordered by min DATE from **table2**. \r\nDesired result:\r\n\r\n|  ID  | NAME |\r\n|------|------|\r\n|  2   |  B   |\r\n|  1   |  A   |\r\n\r\nI tried with the following:\r\n\r\n    select t1, min(t2.date) \r\n    from table1 t1 join t1.t2List t2  -- table1 Entity has OneToMany t2List defined\r\n    where t2.status = &#39;ACTIVE&#39;\r\n    group by t1.id\r\n    order by t2.date desc;\r\n\r\nProblem here is that I can&#39;t use my Entity class **table1** and I would like to avoid creating a new class that will hold this additional aggregated result (min date).\r\n\r\nAlso tried using HAVING clause but could not get it working.\r\n\r\n    select t1 from table1 t1\r\n    where t1.id in (\r\n    select table1.id from table2 t2 where t2.status = &#39;ACTIVE&#39;\r\n    group by t1.id, t2.date\r\n    having t2.date = min(t2.date));\r\n\r\n\r\nAppriciete any help here!","title":"SELECT DISTINCT rows FROM one table HAVING MIN(value) FROM another table","body":"<p>I have one table (<strong>table1</strong>) with columns:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>NAME</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>A</td>\n</tr>\n<tr>\n<td>2</td>\n<td>B</td>\n</tr>\n<tr>\n<td>3</td>\n<td>C</td>\n</tr>\n<tr>\n<td>4</td>\n<td>D</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>and another table (<strong>table2</strong>) with columns:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>table1.ID</th>\n<th>DATE</th>\n<th>STATUS</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>1</td>\n<td>1</td>\n<td>21-JUL-2020</td>\n<td>INACTIVE</td>\n</tr>\n<tr>\n<td>2</td>\n<td>1</td>\n<td>22-JUL-2022</td>\n<td>ACTIVE</td>\n</tr>\n<tr>\n<td>3</td>\n<td>1</td>\n<td>23-JUL-2022</td>\n<td>ACTIVE</td>\n</tr>\n<tr>\n<td>4</td>\n<td>2</td>\n<td>21-JAN-2022</td>\n<td>ACTIVE</td>\n</tr>\n<tr>\n<td>5</td>\n<td>2</td>\n<td>22-JAN-2022</td>\n<td>INACTIVE</td>\n</tr>\n<tr>\n<td>6</td>\n<td>2</td>\n<td>23-JAN-2022</td>\n<td>ACTIVE</td>\n</tr>\n<tr>\n<td>7</td>\n<td>3</td>\n<td>20-JAN-2022</td>\n<td>INACTIVE</td>\n</tr>\n<tr>\n<td>8</td>\n<td>3</td>\n<td>20-JAN-2022</td>\n<td>INACTIVE</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I am trying to write a query that will return distinct rows from <strong>table1</strong> where status from <strong>table2</strong> is <code>ACTIVE</code> and results should be ordered by min DATE from <strong>table2</strong>.\nDesired result:</p>\n<div class=\"s-table-container\">\n<table class=\"s-table\">\n<thead>\n<tr>\n<th>ID</th>\n<th>NAME</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>2</td>\n<td>B</td>\n</tr>\n<tr>\n<td>1</td>\n<td>A</td>\n</tr>\n</tbody>\n</table>\n</div>\n<p>I tried with the following:</p>\n<pre><code>select t1, min(t2.date) \nfrom table1 t1 join t1.t2List t2  -- table1 Entity has OneToMany t2List defined\nwhere t2.status = 'ACTIVE'\ngroup by t1.id\norder by t2.date desc;\n</code></pre>\n<p>Problem here is that I can't use my Entity class <strong>table1</strong> and I would like to avoid creating a new class that will hold this additional aggregated result (min date).</p>\n<p>Also tried using HAVING clause but could not get it working.</p>\n<pre><code>select t1 from table1 t1\nwhere t1.id in (\nselect table1.id from table2 t2 where t2.status = 'ACTIVE'\ngroup by t1.id, t2.date\nhaving t2.date = min(t2.date));\n</code></pre>\n<p>Appriciete any help here!</p>\n"},{"tags":["java","apache-kafka","kafka-consumer-api"],"answers":[{"tags":[],"owner":{"account_id":7854239,"reputation":4845,"user_id":5936696,"display_name":"avr"},"down_vote_count":0,"up_vote_count":37,"is_accepted":false,"score":37,"last_activity_date":1607544154,"creation_date":1463662672,"answer_id":37323913,"question_id":37320643,"body_markdown":"So you are trying to access offset(`29898318`) in topic(`test`) partition(`0`)  which is not available right now. \r\n\r\nThere could be two cases for this \r\n\r\n 1. Your topic partition `0` may not have those many messages \r\n 2. Your message at offset `29898318` might have already deleted by retention period\r\n\r\nTo avoid this you can do one of following:\r\n\r\n 1. Set `auto.offset.reset` config to either `earliest` or `latest` .\r\n    You can find more info regarding this [here][1]\r\n 2. You can get `smallest offset` available for a topic partition by\r\n    running following Kafka command line tool\r\n\r\n**command:**\r\n\r\n    bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list &lt;broker-ip:9092&gt; --topic &lt;topic-name&gt; --time -2\r\n\r\nHope this helps!\r\n\r\n\r\n  [1]: http://kafka.apache.org/documentation.html#consumerconfigs","title":"Kafka consumer offsets out of range with no configured reset policy for partitions","body":"<p>So you are trying to access offset(<code>29898318</code>) in topic(<code>test</code>) partition(<code>0</code>)  which is not available right now.</p>\n<p>There could be two cases for this</p>\n<ol>\n<li>Your topic partition <code>0</code> may not have those many messages</li>\n<li>Your message at offset <code>29898318</code> might have already deleted by retention period</li>\n</ol>\n<p>To avoid this you can do one of following:</p>\n<ol>\n<li>Set <code>auto.offset.reset</code> config to either <code>earliest</code> or <code>latest</code> .\nYou can find more info regarding this <a href=\"http://kafka.apache.org/documentation.html#consumerconfigs\" rel=\"noreferrer\">here</a></li>\n<li>You can get <code>smallest offset</code> available for a topic partition by\nrunning following Kafka command line tool</li>\n</ol>\n<p><strong>command:</strong></p>\n<pre><code>bin/kafka-run-class.sh kafka.tools.GetOffsetShell --broker-list &lt;broker-ip:9092&gt; --topic &lt;topic-name&gt; --time -2\n</code></pre>\n<p>Hope this helps!</p>\n"},{"tags":[],"owner":{"account_id":40318,"reputation":2454,"user_id":116850,"accept_rate":100,"display_name":"Tim Van Laer"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1596259610,"creation_date":1543412817,"answer_id":53520908,"question_id":37320643,"body_markdown":"I hit this SO question when running a Kafka Streams state store with a specific changelog topic config:\r\n\r\n* `cleanup.policy=compact,delete`\r\n* retention of 4 days\r\n\r\nIf Kafka Streams still has a snapshot file pointing to an offset that doesn&#39;t exist anymore, [the restore consumer is configured to fail][1]. It doesn&#39;t fall back to the earliest offset. This scenario can happen when very few data comes in or when the application is down. In both cases, when there&#39;s no commit within the changelog retention period, the snapshot file won&#39;t be updated. (This is on partition basis)\r\n\r\nEasiest way to resolve this issue is to stop your kafka streams application, remove its local state directory and restart your application.  \r\n\r\n\r\n  [1]: https://github.com/apache/kafka/blob/2.1/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1056\r\n  [2]: https://cwiki.apache.org/confluence/display/KAFKA/Kafka+Streams+Application+Reset+Tool","title":"Kafka consumer offsets out of range with no configured reset policy for partitions","body":"<p>I hit this SO question when running a Kafka Streams state store with a specific changelog topic config:</p>\n<ul>\n<li><code>cleanup.policy=compact,delete</code></li>\n<li>retention of 4 days</li>\n</ul>\n<p>If Kafka Streams still has a snapshot file pointing to an offset that doesn't exist anymore, <a href=\"https://github.com/apache/kafka/blob/2.1/streams/src/main/java/org/apache/kafka/streams/StreamsConfig.java#L1056\" rel=\"nofollow noreferrer\">the restore consumer is configured to fail</a>. It doesn't fall back to the earliest offset. This scenario can happen when very few data comes in or when the application is down. In both cases, when there's no commit within the changelog retention period, the snapshot file won't be updated. (This is on partition basis)</p>\n<p>Easiest way to resolve this issue is to stop your kafka streams application, remove its local state directory and restart your application.</p>\n"}],"owner":{"account_id":2227274,"reputation":671,"user_id":1965713,"accept_rate":20,"display_name":"basit raza"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":76255,"favorite_count":0,"down_vote_count":0,"up_vote_count":21,"answer_count":2,"score":21,"last_activity_date":1658486301,"creation_date":1463654022,"question_id":37320643,"body_markdown":"Getting below exception while starting Kafka consumer.\r\n\r\n&gt;org.apache.kafka.clients.consumer.OffsetOutOfRangeException: \r\nOffsets out of range with no configured reset policy for partitions{test-0=29898318}\r\n\r\nKafka version: 9.0.0\r\nJava 7","title":"Kafka consumer offsets out of range with no configured reset policy for partitions","body":"<p>Getting below exception while starting Kafka consumer.</p>\n<blockquote>\n<p>org.apache.kafka.clients.consumer.OffsetOutOfRangeException:\nOffsets out of range with no configured reset policy for partitions{test-0=29898318}</p>\n</blockquote>\n<p>Kafka version: 9.0.0\nJava 7</p>\n"},{"tags":["java","eclipse","events","javafx","autocomplete"],"comments":[{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1658481151,"post_id":73077121,"comment_id":129066867,"body_markdown":"Please show in which way you have included the `EventHandler` interface to the project&#39;s _Java Build Path_ so it can be resolved. Tell also which Java version do you use in your project and also add the content of the `module-info.java` file to your question, if it exists.","body":"Please show in which way you have included the <code>EventHandler</code> interface to the project&#39;s <i>Java Build Path</i> so it can be resolved. Tell also which Java version do you use in your project and also add the content of the <code>module-info.java</code> file to your question, if it exists."},{"owner":{"account_id":22520952,"reputation":5,"user_id":16714547,"display_name":"Pherox65"},"score":0,"creation_date":1658486310,"post_id":73077121,"comment_id":129068841,"body_markdown":"@howlger Thanks for your answer. Java Runtime 11 (jdk-11.0.11.9-hotspot) and JavaFX18.0.2 are added to buildpath. Both as &quot;Modulepath&quot;.","body":"@howlger Thanks for your answer. Java Runtime 11 (jdk-11.0.11.9-hotspot) and JavaFX18.0.2 are added to buildpath. Both as &quot;Modulepath&quot;."},{"owner":{"account_id":22520952,"reputation":5,"user_id":16714547,"display_name":"Pherox65"},"score":0,"creation_date":1658486848,"post_id":73077121,"comment_id":129069030,"body_markdown":"@howlger content of module-info added for you to question","body":"@howlger content of module-info added for you to question"},{"owner":{"account_id":70123,"reputation":51175,"user_id":203657,"accept_rate":53,"display_name":"kleopatra"},"score":0,"creation_date":1658495411,"post_id":73077121,"comment_id":129072078,"body_markdown":"hmm ... what I see: typing _button.setOn_ , then choose from auto complete popup _button.setOnAction(null)_, replace the null by typing _new EventHandler&lt;ActionEvent&gt;()_ - until here the error is _cannot instantiate_ - then type the curly bracket and press enter (alternatively type both curly brackets): the error changes to _must implement methods_ , then ctrl-1 offer to implement it for me. Is that what you are also seeing? It&#39;s what I would expect ..","body":"hmm ... what I see: typing <i>button.setOn</i> , then choose from auto complete popup <i>button.setOnAction(null)</i>, replace the null by typing <i>new EventHandler&lt;ActionEvent&gt;()</i> - until here the error is <i>cannot instantiate</i> - then type the curly bracket and press enter (alternatively type both curly brackets): the error changes to <i>must implement methods</i> , then ctrl-1 offer to implement it for me. Is that what you are also seeing? It&#39;s what I would expect .."},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1658508885,"post_id":73077121,"comment_id":129077236,"body_markdown":"Thanks for the information. This sounds like a bug of an older version of Eclipse. Are you sure your Eclipse is up to date? What shows _Help &gt; About Eclipse IDE_?","body":"Thanks for the information. This sounds like a bug of an older version of Eclipse. Are you sure your Eclipse is up to date? What shows <i>Help &gt; About Eclipse IDE</i>?"},{"owner":{"account_id":22520952,"reputation":5,"user_id":16714547,"display_name":"Pherox65"},"score":0,"creation_date":1658511080,"post_id":73077121,"comment_id":129077931,"body_markdown":"@howlger thanks for response. it shows the following: Version: 2022-06 (4.24.0)\nBuild id: 20220609-1112","body":"@howlger thanks for response. it shows the following: Version: 2022-06 (4.24.0) Build id: 20220609-1112"},{"owner":{"account_id":22520952,"reputation":5,"user_id":16714547,"display_name":"Pherox65"},"score":0,"creation_date":1658511672,"post_id":73077121,"comment_id":129078100,"body_markdown":"@kleopatra thanks for your help! yes you are right! thats the same like i see... i tried what you sayed step by step ... then the auto implementation works for me too ! i thought that eclipse will do autocomplete when typing &quot;new EventHandler&lt;ActionEvent&gt;()&quot; after pressing enter.  howlger said it sounds like a bug. kleopatra you showed a way. the question is, is it a bug or is it a feature :D?","body":"@kleopatra thanks for your help! yes you are right! thats the same like i see... i tried what you sayed step by step ... then the auto implementation works for me too ! i thought that eclipse will do autocomplete when typing &quot;new EventHandler&lt;ActionEvent&gt;()&quot; after pressing enter.  howlger said it sounds like a bug. kleopatra you showed a way. the question is, is it a bug or is it a feature :D?"},{"owner":{"account_id":8692823,"reputation":31810,"user_id":6505250,"display_name":"howlger"},"score":0,"creation_date":1658582289,"post_id":73077121,"comment_id":129089921,"body_markdown":"If there would no code completion proposals for `new EventH`, it would be a bug. In your case you should better use code completion already at `b1.setOnAction(` and choose the first proposal _(ActionEvent event) -&gt; : void - EventHandler_ to get a lambda expression for better readability: `b1.setOnAction​(event -&gt; b1.setText(&quot;Button clicked&quot;));`.","body":"If there would no code completion proposals for <code>new EventH</code>, it would be a bug. In your case you should better use code completion already at <code>b1.setOnAction(</code> and choose the first proposal <i>(ActionEvent event) -&gt; : void - EventHandler</i> to get a lambda expression for better readability: <code>b1.setOnAction​(event -&gt; b1.setText(&quot;Button clicked&quot;));</code>."}],"owner":{"account_id":22520952,"reputation":5,"user_id":16714547,"display_name":"Pherox65"},"comment_count":8,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":false,"view_count":83,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"answer_count":0,"score":0,"last_activity_date":1658486233,"creation_date":1658477412,"question_id":73077121,"body_markdown":"i am new to java and javafx. I have the following code and everything is working fine when i run the program. The code compiles successfully:\r\n\r\n```\r\n\r\npackage application;\r\n\r\nimport javafx.application.Application;\r\nimport javafx.stage.Stage;\r\nimport javafx.scene.Scene;\r\nimport javafx.scene.control.Button;\r\nimport javafx.scene.layout.HBox;\r\nimport javafx.event.ActionEvent;\r\nimport javafx.event.EventHandler;\r\n\r\n\r\npublic class Main extends Application {\r\n\t@Override\r\n\tpublic void start(Stage primaryStage) {\r\n\t\ttry {\r\n\t\t\tHBox root = new HBox();\r\n\t\t\tScene scene = new Scene(root,500,500);\r\n\t\t\tscene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\r\n\t\t\t\r\n\t\t\tButton b1 = new Button(&quot;Click me&quot;);\r\n\t\t\t\r\n\t\t\tb1.setText(&quot;Click this button&quot;);\r\n\t\t\t\r\n\t\t\tb1.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n\t\t\t    @Override public void handle(ActionEvent e) {\r\n\t\t\t        b1.setText(&quot;Button clicked&quot;);\r\n\t\t\t    }\r\n\t\t\t});\r\n\t\t\t\r\n\t\t\troot.getChildren().add(b1);\r\n\t\t\t\r\n\t\t\tprimaryStage.setScene(scene);\r\n\t\t\tprimaryStage.show();\r\n\t\t} catch(Exception e) {\r\n\t\t\te.printStackTrace();\r\n\t\t}\r\n\t}\r\n\t\r\n\tpublic static void main(String[] args) {\r\n\t\tlaunch(args);\r\n\t}\r\n}\r\n\r\n```\r\n\r\nThe problem is the following.\r\nWhen i am writing the part...\r\n\r\n```\r\nb1.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\r\n```\r\n\r\n... eclipse not autocompletes the rest, what it should do:\r\n\r\n```\r\n\r\n                @Override public void handle(ActionEvent e) {\r\n                    b1.setText(&quot;Button clicked&quot;);\r\n                }\r\n            });\r\n```\r\n\r\nAdditionally when i write &quot;new EventHandler&quot; eclipse shows the message &quot;The type eventhandler can not be instantiated&quot;.\r\n\r\nCan please anyone help me why this message comes up and what is to do that eclipse is autocompleting the EventHandler? Maybe the message prevents eclipse from autocompleting?\r\n\r\nI have searched for hours but i can not find the solution for my problem :(. Would be great if someone could help me!\r\n\r\nMany thanks for your help!\r\n\r\nContent of module-info.java:\r\n\r\n```\r\n\r\nmodule MyJavaFXApp {\r\n\r\nrequires java.desktop;\r\nrequires javafx.controls;\r\nrequires javafx.graphics;\r\nrequires javafx.base;\r\n\r\nopens application to javafx.controls, javafx.base, javafx.graphics;\r\n}\r\n\r\n```","title":"Eclipse is not resolving eventhandler with autocomplete","body":"<p>i am new to java and javafx. I have the following code and everything is working fine when i run the program. The code compiles successfully:</p>\n<pre><code>\npackage application;\n\nimport javafx.application.Application;\nimport javafx.stage.Stage;\nimport javafx.scene.Scene;\nimport javafx.scene.control.Button;\nimport javafx.scene.layout.HBox;\nimport javafx.event.ActionEvent;\nimport javafx.event.EventHandler;\n\n\npublic class Main extends Application {\n    @Override\n    public void start(Stage primaryStage) {\n        try {\n            HBox root = new HBox();\n            Scene scene = new Scene(root,500,500);\n            scene.getStylesheets().add(getClass().getResource(&quot;application.css&quot;).toExternalForm());\n            \n            Button b1 = new Button(&quot;Click me&quot;);\n            \n            b1.setText(&quot;Click this button&quot;);\n            \n            b1.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n                @Override public void handle(ActionEvent e) {\n                    b1.setText(&quot;Button clicked&quot;);\n                }\n            });\n            \n            root.getChildren().add(b1);\n            \n            primaryStage.setScene(scene);\n            primaryStage.show();\n        } catch(Exception e) {\n            e.printStackTrace();\n        }\n    }\n    \n    public static void main(String[] args) {\n        launch(args);\n    }\n}\n\n</code></pre>\n<p>The problem is the following.\nWhen i am writing the part...</p>\n<pre><code>b1.setOnAction(new EventHandler&lt;ActionEvent&gt;() {\n</code></pre>\n<p>... eclipse not autocompletes the rest, what it should do:</p>\n<pre><code>\n                @Override public void handle(ActionEvent e) {\n                    b1.setText(&quot;Button clicked&quot;);\n                }\n            });\n</code></pre>\n<p>Additionally when i write &quot;new EventHandler&quot; eclipse shows the message &quot;The type eventhandler can not be instantiated&quot;.</p>\n<p>Can please anyone help me why this message comes up and what is to do that eclipse is autocompleting the EventHandler? Maybe the message prevents eclipse from autocompleting?</p>\n<p>I have searched for hours but i can not find the solution for my problem :(. Would be great if someone could help me!</p>\n<p>Many thanks for your help!</p>\n<p>Content of module-info.java:</p>\n<pre><code>\nmodule MyJavaFXApp {\n\nrequires java.desktop;\nrequires javafx.controls;\nrequires javafx.graphics;\nrequires javafx.base;\n\nopens application to javafx.controls, javafx.base, javafx.graphics;\n}\n\n</code></pre>\n"},{"tags":["java","azure","signature"],"answers":[{"tags":[],"owner":{"account_id":3421244,"reputation":35863,"user_id":2868801,"display_name":"dave_thompson_085"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1589849745,"creation_date":1561927197,"answer_id":56827924,"question_id":56824921,"body_markdown":"Azure does JWS [which simply concatenates fixed-size I2OSP of r and s](https://www.rfc-editor.org/rfc/rfc7518#section-3.4) but Java JCE, like most but not all standards, uses ASN.1 DER encoding [e.g. rfc3279](https://www.rfc-editor.org/rfc/rfc3279#page-7) (caveat: there are now OIDs for ECDSA with other hashes).\r\n\r\nTo convert JWS/plain to DER, see my (cross) https://security.stackexchange.com/questions/174095/convert-ecdsa-signature-from-plain-to-der-format for a C approach, but Java makes it easier because `BigInteger` does half the work for you:\r\n```\r\n// byte[64] plain contains the JWS-style r,s (de-base64-ed if necessary)\r\nbyte[] r = new BigInteger(1,Arrays.copyOfRange(plain,0,32)).toByteArray();\r\nbyte[] s = new BigInteger(1,Arrays.copyOfRange(plain,32,64)).toByteArray();\r\nbyte[] der = new byte[6+r.length+s.length]; der[0] = 0x30; der[1] = der.length-2; int o = 2;\r\nder[o++] = 2; der[o++] = (byte)r.length; System.arraycopy (r,0, der,o, r.length); o+=r.length;\r\nder[o++] = 2; der[o++] = (byte)s.length; System.arraycopy (s,0, der,o, s.length); //o+=s.length;\r\n```\r\n\r\n**2020-05 corrected and added:** also Java 9 up handles this directly using algoirthm names like `SHA256withECDSAinP1363format`, and on all versions of Java if you add BouncyCastle it does so using names like `SHA256withPLAIN-ECDSA` or `SHA256withCVC-ECDSA`. See https://stackoverflow.com/questions/48177791/how-to-specify-signature-length-for-java-security-signature-sign-method and https://stackoverflow.com/questions/52122705/java-ecdsawithsha256-signature-with-inconsistent-length .","title":"java.security.SignatureException: Invalid encoding for signature. signature validated by Azure","body":"<p>Azure does JWS <a href=\"https://www.rfc-editor.org/rfc/rfc7518#section-3.4\" rel=\"nofollow noreferrer\">which simply concatenates fixed-size I2OSP of r and s</a> but Java JCE, like most but not all standards, uses ASN.1 DER encoding <a href=\"https://www.rfc-editor.org/rfc/rfc3279#page-7\" rel=\"nofollow noreferrer\">e.g. rfc3279</a> (caveat: there are now OIDs for ECDSA with other hashes).</p>\n<p>To convert JWS/plain to DER, see my (cross) <a href=\"https://security.stackexchange.com/questions/174095/convert-ecdsa-signature-from-plain-to-der-format\">https://security.stackexchange.com/questions/174095/convert-ecdsa-signature-from-plain-to-der-format</a> for a C approach, but Java makes it easier because <code>BigInteger</code> does half the work for you:</p>\n<pre><code>// byte[64] plain contains the JWS-style r,s (de-base64-ed if necessary)\nbyte[] r = new BigInteger(1,Arrays.copyOfRange(plain,0,32)).toByteArray();\nbyte[] s = new BigInteger(1,Arrays.copyOfRange(plain,32,64)).toByteArray();\nbyte[] der = new byte[6+r.length+s.length]; der[0] = 0x30; der[1] = der.length-2; int o = 2;\nder[o++] = 2; der[o++] = (byte)r.length; System.arraycopy (r,0, der,o, r.length); o+=r.length;\nder[o++] = 2; der[o++] = (byte)s.length; System.arraycopy (s,0, der,o, s.length); //o+=s.length;\n</code></pre>\n<p><strong>2020-05 corrected and added:</strong> also Java 9 up handles this directly using algoirthm names like <code>SHA256withECDSAinP1363format</code>, and on all versions of Java if you add BouncyCastle it does so using names like <code>SHA256withPLAIN-ECDSA</code> or <code>SHA256withCVC-ECDSA</code>. See <a href=\"https://stackoverflow.com/questions/48177791/how-to-specify-signature-length-for-java-security-signature-sign-method\">how to specify signature length for java.security.Signature sign method</a> and <a href=\"https://stackoverflow.com/questions/52122705/java-ecdsawithsha256-signature-with-inconsistent-length\">Java ECDSAwithSHA256 signature with inconsistent length</a> .</p>\n"},{"tags":[],"owner":{"account_id":16230600,"reputation":39,"user_id":11719493,"display_name":"Asaf Artsi"},"down_vote_count":1,"up_vote_count":2,"is_accepted":true,"score":1,"last_activity_date":1562000695,"creation_date":1562000695,"answer_id":56839652,"question_id":56824921,"body_markdown":"dave_thompson_085 - thanks!\r\nThere were a few mistakes in the code you attached, the tags of the signature parts should be 0x02, not 0x30, and you didn&#39;t increase o after copying the first part.\r\nThis is the code after the changes:\r\n```java\r\n    byte[] r = new BigInteger(1,Arrays.copyOfRange(signature,0,32)).toByteArray();\r\n    byte[] s = new BigInteger(1,Arrays.copyOfRange(signature,32,64)).toByteArray();\r\n    byte[] der = new byte[6+r.length+s.length];\r\n    der[0] = 0x30; // Tag of signature object\r\n    der[1] = (byte)(der.length-2); // Length of signature object\r\n    int o = 2;\r\n    der[o++] = 0x02; // Tag of ASN1 Integer\r\n    der[o++] = (byte)r.length; // Length of first signature part\r\n    System.arraycopy (r,0, der,o, r.length);\r\n    o += r.length;\r\n    der[o++] = 0x02; // Tag of ASN1 Integer\r\n    der[o++] = (byte)s.length; // Length of second signature part\r\n    System.arraycopy (s,0, der,o, s.length);\r\n```\r\n\r\nAfter the format change I didn&#39;t get the &quot;Sequence tag error&quot; exception. But the verification still failed.\r\n\r\nThanks!","title":"java.security.SignatureException: Invalid encoding for signature. signature validated by Azure","body":"<p>dave_thompson_085 - thanks!\nThere were a few mistakes in the code you attached, the tags of the signature parts should be 0x02, not 0x30, and you didn't increase o after copying the first part.\nThis is the code after the changes:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    byte[] r = new BigInteger(1,Arrays.copyOfRange(signature,0,32)).toByteArray();\n    byte[] s = new BigInteger(1,Arrays.copyOfRange(signature,32,64)).toByteArray();\n    byte[] der = new byte[6+r.length+s.length];\n    der[0] = 0x30; // Tag of signature object\n    der[1] = (byte)(der.length-2); // Length of signature object\n    int o = 2;\n    der[o++] = 0x02; // Tag of ASN1 Integer\n    der[o++] = (byte)r.length; // Length of first signature part\n    System.arraycopy (r,0, der,o, r.length);\n    o += r.length;\n    der[o++] = 0x02; // Tag of ASN1 Integer\n    der[o++] = (byte)s.length; // Length of second signature part\n    System.arraycopy (s,0, der,o, s.length);\n</code></pre>\n\n<p>After the format change I didn't get the \"Sequence tag error\" exception. But the verification still failed.</p>\n\n<p>Thanks!</p>\n"},{"tags":[],"owner":{"account_id":7731125,"reputation":1,"user_id":5854228,"display_name":"Rajesh.R"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658486118,"creation_date":1658237698,"answer_id":73037963,"question_id":56824921,"body_markdown":"I just had to first decode the signature&#39;s raw bytes to Base64 in my case.\r\n\r\n    byte[] signatureBytes = Base64.getDecoder().decode(signature.getBytes());    \r\n    byte[] r = new BigInteger(1,Arrays.copyOfRange(signatureBytes,0,32)).toByteArray();    \r\n    byte[] s = new BigInteger(1,Arrays.copyOfRange(signatureBytes,32,64)).toByteArray();","title":"java.security.SignatureException: Invalid encoding for signature. signature validated by Azure","body":"<p>I just had to first decode the signature's raw bytes to Base64 in my case.</p>\n<pre><code>byte[] signatureBytes = Base64.getDecoder().decode(signature.getBytes());    \nbyte[] r = new BigInteger(1,Arrays.copyOfRange(signatureBytes,0,32)).toByteArray();    \nbyte[] s = new BigInteger(1,Arrays.copyOfRange(signatureBytes,32,64)).toByteArray();\n</code></pre>\n"}],"owner":{"account_id":16230600,"reputation":39,"user_id":11719493,"display_name":"Asaf Artsi"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":5666,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":56839652,"answer_count":3,"score":2,"last_activity_date":1658486118,"creation_date":1561898446,"question_id":56824921,"body_markdown":"When verifying a signature using Signature.verify I receive an &quot;Invalid encoding for signature&quot; exception.\r\nWhen verifying same signature using Azure service, the signature is verified.\r\n\r\nI have a hash-data (SHA-256), a public key, and a signature that I&#39;m trying to verify.\r\nThe signature was received using com.microsoft.azure.keyvault.KeyVaultClient.sign method, with signing algorithm &quot;ES256&quot;.\r\n\r\nThis works (using ES256 algorithm) :\r\n```java\r\n    com.microsoft.azure.keyvault.KeyVaultClient keyVaultClient;\r\n    String keyPairIdentifier;\r\n\r\n    boolean verify(byte[] hashData, byte[] signature, JsonWebKeySignatureAlgorithm signingAlgorithm) {\r\n        com.microsoft.azure.keyvault.models.KeyVerifyResult result = keyVaultClient.verify(keyPairIdentifier, signingAlgorithm, hashData, signature);\r\n        return result.value().booleanValue();\r\n    }\r\n```\r\n\r\nThis fails (certificate holds same public key that is stored in Azure keyvault):\r\n```java\r\n    Signature ecdsaSign = Signature.getInstance(&quot;SHA256withECDSA&quot;);\r\n    ecdsaSign.initVerify(certificate.getPublicKey());\r\n    ecdsaSign.update(hashData);\r\n    ecdsaSign.verify(signature)\r\n```\r\n\r\nExpected result - true (signature is verified)\r\n\r\nActual result:\r\n\r\n```java\r\njava.security.SignatureException: Could not verify signature\r\n \tat sun.security.ec.ECDSASignature.engineVerify(ECDSASignature.java:325)\r\n \tat java.security.Signature$Delegate.engineVerify(Signature.java:1222)\r\n \tat java.security.Signature.verify(Signature.java:655)\r\n \tat TestKV.KeyVault.VerifyDPSignature.verifySignatureUsingCertificate(VerifyDPSignature.java:143)\r\n \tat TestKV.KeyVault.VerifyDPSignature.main(VerifyDPSignature.java:104)\r\nCaused by: java.security.SignatureException: Invalid encoding for signature\r\n \tat sun.security.ec.ECDSASignature.decodeSignature(ECDSASignature.java:400)\r\n \tat sun.security.ec.ECDSASignature.engineVerify(ECDSASignature.java:322)\r\n \t... 4 more \r\nCaused by: java.io.IOException: Sequence tag error\r\n \tat sun.security.util.DerInputStream.getSequence(DerInputStream.java:330)\r\n \tat sun.security.ec.ECDSASignature.decodeSignature (ECDSASignature.java:376)\r\n```","title":"java.security.SignatureException: Invalid encoding for signature. signature validated by Azure","body":"<p>When verifying a signature using Signature.verify I receive an \"Invalid encoding for signature\" exception.\nWhen verifying same signature using Azure service, the signature is verified.</p>\n\n<p>I have a hash-data (SHA-256), a public key, and a signature that I'm trying to verify.\nThe signature was received using com.microsoft.azure.keyvault.KeyVaultClient.sign method, with signing algorithm \"ES256\".</p>\n\n<p>This works (using ES256 algorithm) :</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    com.microsoft.azure.keyvault.KeyVaultClient keyVaultClient;\n    String keyPairIdentifier;\n\n    boolean verify(byte[] hashData, byte[] signature, JsonWebKeySignatureAlgorithm signingAlgorithm) {\n        com.microsoft.azure.keyvault.models.KeyVerifyResult result = keyVaultClient.verify(keyPairIdentifier, signingAlgorithm, hashData, signature);\n        return result.value().booleanValue();\n    }\n</code></pre>\n\n<p>This fails (certificate holds same public key that is stored in Azure keyvault):</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>    Signature ecdsaSign = Signature.getInstance(\"SHA256withECDSA\");\n    ecdsaSign.initVerify(certificate.getPublicKey());\n    ecdsaSign.update(hashData);\n    ecdsaSign.verify(signature)\n</code></pre>\n\n<p>Expected result - true (signature is verified)</p>\n\n<p>Actual result:</p>\n\n<pre class=\"lang-java prettyprint-override\"><code>java.security.SignatureException: Could not verify signature\n    at sun.security.ec.ECDSASignature.engineVerify(ECDSASignature.java:325)\n    at java.security.Signature$Delegate.engineVerify(Signature.java:1222)\n    at java.security.Signature.verify(Signature.java:655)\n    at TestKV.KeyVault.VerifyDPSignature.verifySignatureUsingCertificate(VerifyDPSignature.java:143)\n    at TestKV.KeyVault.VerifyDPSignature.main(VerifyDPSignature.java:104)\nCaused by: java.security.SignatureException: Invalid encoding for signature\n    at sun.security.ec.ECDSASignature.decodeSignature(ECDSASignature.java:400)\n    at sun.security.ec.ECDSASignature.engineVerify(ECDSASignature.java:322)\n    ... 4 more \nCaused by: java.io.IOException: Sequence tag error\n    at sun.security.util.DerInputStream.getSequence(DerInputStream.java:330)\n    at sun.security.ec.ECDSASignature.decodeSignature (ECDSASignature.java:376)\n</code></pre>\n"},{"tags":["java","kotlin","gradle","protocol-buffers","proto3"],"answers":[{"tags":[],"owner":{"account_id":25860193,"reputation":63,"user_id":19592786,"display_name":"Aleksandr T"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1658485987,"creation_date":1658485987,"answer_id":73078925,"question_id":73078772,"body_markdown":"The problem turned out to be a transitive dependency, the thing is that the required module was not exported as a JAR module in the module with tests, because there was no next dependency: `implementation(&quot;com.google.protobuf:protobuf-java:$protoBufCoreVersion&quot;)`","title":"compile error: Supertypes of the following classes cannot be resolved","body":"<p>The problem turned out to be a transitive dependency, the thing is that the required module was not exported as a JAR module in the module with tests, because there was no next dependency: <code>implementation(&quot;com.google.protobuf:protobuf-java:$protoBufCoreVersion&quot;)</code></p>\n"}],"owner":{"account_id":25860193,"reputation":63,"user_id":19592786,"display_name":"Aleksandr T"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1053,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"answer_count":1,"score":1,"last_activity_date":1658485987,"creation_date":1658485321,"question_id":73078772,"body_markdown":"I have a gradle project with proto3 generator:\r\n\r\n    buildscript {\r\n        repositories {\r\n            mavenCentral()\r\n        }\r\n        dependencies {\r\n            classpath(&quot;com.google.protobuf:protobuf-gradle-plugin:0.8.14&quot;)\r\n        }\r\n    }\r\n    ...\r\n    \r\n    dependencies {\r\n      ...\r\n      implementation(&quot;com.google.protobuf:protobuf-java:$protoBufCoreVersion&quot;)\r\n    }\r\n    \r\n    protobuf {\r\n        protoc {\r\n            artifact = &quot;com.google.protobuf:protoc:$protoBufCoreVersion&quot;\r\n        }\r\n    }\r\n\r\nAlso, I have config for adding generated source code to classpath:\r\n\r\n       tasks.register&lt;Jar&gt;(&quot;sourcesJar&quot;) {\r\n            from(sourceSets.main.get().allSource)\r\n            archiveClassifier.set(&quot;sources&quot;)\r\n        }\r\n    \r\n        publishing {\r\n            publications {\r\n                create&lt;MavenPublication&gt;(&quot;mavenJava&quot;) {\r\n                    from(components[&quot;java&quot;])\r\n                    artifact(tasks[&quot;sourcesJar&quot;])\r\n                }\r\n            }\r\n        }\r\n\r\nFinally, when all source code generated from protobuf models, I can see it in a classpath and import it in unit tests. But when I&#39;m trying to run build or manually run unit test, next error happened:\r\n\r\nTrying to invoke builder manually in unit tests:\r\n```\r\n@Test\r\nfun test() {\r\n   Device.newBuilder() // compile error     \r\n}\r\n```\r\n\r\n    Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\r\n        class my.project.model.request.Device, unresolved supertypes: com.google.protobuf.GeneratedMessageV3\r\n        class my.project.model.request.DeviceOrBuilder, unresolved supertypes: com.google.protobuf.MessageOrBuilder\r\n    Adding -Xextended-compiler-checks argument might provide additional information.\r\n\r\nWhere Device - just a simple model:\r\n```\r\nmessage Device {\r\n  string id = 1;\r\n  Type type = 2;\r\n  optional string manufacturer = 3;\r\n  optional string model = 4;\r\n  optional string software = 5;\r\n}\r\n```\r\n\r\nWhich generated into next java class:\r\n```\r\npublic final class Device extends\r\n    com.google.protobuf.GeneratedMessageV3 implements\r\n    // @@protoc_insertion_point(message_implements:source.request.Device)\r\n    DeviceOrBuilder {\r\nprivate static final long serialVersionUID = 0L;\r\n...\r\n @java.lang.Override\r\n  public Builder newBuilderForType() { return newBuilder(); }\r\n  public static Builder newBuilder() {\r\n    return DEFAULT_INSTANCE.toBuilder();\r\n  }\r\n```\r\nHow can I use generated models in a test?","title":"compile error: Supertypes of the following classes cannot be resolved","body":"<p>I have a gradle project with proto3 generator:</p>\n<pre><code>buildscript {\n    repositories {\n        mavenCentral()\n    }\n    dependencies {\n        classpath(&quot;com.google.protobuf:protobuf-gradle-plugin:0.8.14&quot;)\n    }\n}\n...\n\ndependencies {\n  ...\n  implementation(&quot;com.google.protobuf:protobuf-java:$protoBufCoreVersion&quot;)\n}\n\nprotobuf {\n    protoc {\n        artifact = &quot;com.google.protobuf:protoc:$protoBufCoreVersion&quot;\n    }\n}\n</code></pre>\n<p>Also, I have config for adding generated source code to classpath:</p>\n<pre><code>   tasks.register&lt;Jar&gt;(&quot;sourcesJar&quot;) {\n        from(sourceSets.main.get().allSource)\n        archiveClassifier.set(&quot;sources&quot;)\n    }\n\n    publishing {\n        publications {\n            create&lt;MavenPublication&gt;(&quot;mavenJava&quot;) {\n                from(components[&quot;java&quot;])\n                artifact(tasks[&quot;sourcesJar&quot;])\n            }\n        }\n    }\n</code></pre>\n<p>Finally, when all source code generated from protobuf models, I can see it in a classpath and import it in unit tests. But when I'm trying to run build or manually run unit test, next error happened:</p>\n<p>Trying to invoke builder manually in unit tests:</p>\n<pre><code>@Test\nfun test() {\n   Device.newBuilder() // compile error     \n}\n</code></pre>\n<pre><code>Supertypes of the following classes cannot be resolved. Please make sure you have the required dependencies in the classpath:\n    class my.project.model.request.Device, unresolved supertypes: com.google.protobuf.GeneratedMessageV3\n    class my.project.model.request.DeviceOrBuilder, unresolved supertypes: com.google.protobuf.MessageOrBuilder\nAdding -Xextended-compiler-checks argument might provide additional information.\n</code></pre>\n<p>Where Device - just a simple model:</p>\n<pre><code>message Device {\n  string id = 1;\n  Type type = 2;\n  optional string manufacturer = 3;\n  optional string model = 4;\n  optional string software = 5;\n}\n</code></pre>\n<p>Which generated into next java class:</p>\n<pre><code>public final class Device extends\n    com.google.protobuf.GeneratedMessageV3 implements\n    // @@protoc_insertion_point(message_implements:source.request.Device)\n    DeviceOrBuilder {\nprivate static final long serialVersionUID = 0L;\n...\n @java.lang.Override\n  public Builder newBuilderForType() { return newBuilder(); }\n  public static Builder newBuilder() {\n    return DEFAULT_INSTANCE.toBuilder();\n  }\n</code></pre>\n<p>How can I use generated models in a test?</p>\n"},{"tags":["java","spring-boot","elasticsearch"],"answers":[{"tags":[],"owner":{"account_id":9900639,"reputation":3505,"user_id":7330758,"display_name":"ibexit"},"down_vote_count":1,"up_vote_count":1,"is_accepted":false,"score":0,"last_activity_date":1658485262,"creation_date":1581588954,"answer_id":60205386,"question_id":60205123,"body_markdown":" 1. Create a rest client and consider using the [sniffer][1] in order to implement connection failover\r\n 2. Check if [cluster is ready][2] \r\n 3. Check if [index exists][3]\r\n 4. Init index if not (using the [index api][4]) \r\n\r\n\r\n  [1]: https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/sniffer.html\r\n  [2]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-cluster-health.html\r\n  [3]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-indices-exists.html\r\n  [4]: https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-create-index.html","title":"Check elastic search deployment is currently available or not using Java","body":"<ol>\n<li>Create a rest client and consider using the <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-api-client/7.17/sniffer.html\" rel=\"nofollow noreferrer\">sniffer</a> in order to implement connection failover</li>\n<li>Check if <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-cluster-health.html\" rel=\"nofollow noreferrer\">cluster is ready</a></li>\n<li>Check if <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-indices-exists.html\" rel=\"nofollow noreferrer\">index exists</a></li>\n<li>Init index if not (using the <a href=\"https://www.elastic.co/guide/en/elasticsearch/client/java-rest/current/java-rest-high-create-index.html\" rel=\"nofollow noreferrer\">index api</a>)</li>\n</ol>\n"},{"tags":[],"owner":{"account_id":12405531,"reputation":321,"user_id":9040672,"display_name":"Rayen Rejeb"},"down_vote_count":0,"up_vote_count":1,"is_accepted":true,"score":1,"last_activity_date":1581589014,"creation_date":1581589014,"answer_id":60205407,"question_id":60205123,"body_markdown":"Since you asked only about checking the status i willl suppose that you have access to the ```RestHighLevelClient``` instance\r\n\r\n```\r\nimport org.elasticsearch.client.RequestOptions;\r\n\r\n...\r\n\r\npublic boolean checkTempConnection(RestHighLevelClient client) {\r\n\ttry {\r\n\t\treturn client.ping(RequestOptions.DEFAULT);\r\n\t} catch (Exception e) {\r\n\t\tlog.warn(&quot;Can&#39;t get status : {}&quot;, e.getMessage());\r\n\t\treturn false; // Not available\r\n\t}\r\n}\r\n```\r\n\r\nGood Luck !","title":"Check elastic search deployment is currently available or not using Java","body":"<p>Since you asked only about checking the status i willl suppose that you have access to the <code>RestHighLevelClient</code> instance</p>\n\n<pre><code>import org.elasticsearch.client.RequestOptions;\n\n...\n\npublic boolean checkTempConnection(RestHighLevelClient client) {\n    try {\n        return client.ping(RequestOptions.DEFAULT);\n    } catch (Exception e) {\n        log.warn(\"Can't get status : {}\", e.getMessage());\n        return false; // Not available\n    }\n}\n</code></pre>\n\n<p>Good Luck !</p>\n"}],"owner":{"account_id":16329034,"reputation":525,"user_id":11792899,"display_name":"Mohan vel"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":282,"favorite_count":0,"down_vote_count":0,"up_vote_count":0,"accepted_answer_id":60205407,"answer_count":2,"score":0,"last_activity_date":1658485262,"creation_date":1581588118,"question_id":60205123,"body_markdown":"i have created a Java service for elastic search CRUD operation i have given my business logic below there i am doing all my server side validation in that i have to check the elastic search deployment is currently available or not using my RestHighLevelClient of elastic search before inserting data into my index. i have given my code below.\r\n\r\n    public String createProfileDocument(EmployeeInformation document, String IndexName) throws Exception {\r\n            String Id = document.getId();\r\n            if (Strings.isNullOrEmpty(Id)) {\r\n                return &quot;ID is null or empty&quot;;\r\n            }\r\n            else if(Strings.isNullOrEmpty(IndexName)) {\r\n                return &quot;Index name is null or empty&quot;;\r\n            }\r\n            else if(isTextContainUpperCase(IndexName)){\r\n                return &quot;Index name should be in lowercase&quot;;\r\n            }\r\n            else if(logic to check the deployment)\r\n            {\r\n                return &quot;Elasticsearch deployment is not reachable&quot;;\r\n            }\r\n         \r\n            IndexRequest indexRequest = new IndexRequest(IndexName);\r\n            indexRequest.id(document.getId());\r\n            indexRequest.source(convertProfileDocumentToMap(document), XContentType.JSON);\r\n    \r\n            IndexResponse indexResponse = client.index(indexRequest, RequestOptions.DEFAULT);\r\n            return indexResponse.getResult().name();\r\n            \r\n        }\r\n\r\nCould some one help me to achieve this in above code? Thanks in advance","title":"Check elastic search deployment is currently available or not using Java","body":"<p>i have created a Java service for elastic search CRUD operation i have given my business logic below there i am doing all my server side validation in that i have to check the elastic search deployment is currently available or not using my RestHighLevelClient of elastic search before inserting data into my index. i have given my code below.</p>\n\n<pre><code>public String createProfileDocument(EmployeeInformation document, String IndexName) throws Exception {\n        String Id = document.getId();\n        if (Strings.isNullOrEmpty(Id)) {\n            return \"ID is null or empty\";\n        }\n        else if(Strings.isNullOrEmpty(IndexName)) {\n            return \"Index name is null or empty\";\n        }\n        else if(isTextContainUpperCase(IndexName)){\n            return \"Index name should be in lowercase\";\n        }\n        else if(logic to check the deployment)\n        {\n            return \"Elasticsearch deployment is not reachable\";\n        }\n\n        IndexRequest indexRequest = new IndexRequest(IndexName);\n        indexRequest.id(document.getId());\n        indexRequest.source(convertProfileDocumentToMap(document), XContentType.JSON);\n\n        IndexResponse indexResponse = client.index(indexRequest, RequestOptions.DEFAULT);\n        return indexResponse.getResult().name();\n\n    }\n</code></pre>\n\n<p>Could some one help me to achieve this in above code? Thanks in advance</p>\n"},{"tags":["java","null","nullable"],"comments":[{"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":5,"creation_date":1437641628,"post_id":31582524,"comment_id":51117973,"body_markdown":"It&#39;s easy to write but I rarely encountered such a need. Did you consider the possibility that your data might be poorly structured ?","body":"It&#39;s easy to write but I rarely encountered such a need. Did you consider the possibility that your data might be poorly structured ?"},{"owner":{"account_id":4443039,"reputation":3322,"user_id":3617127,"accept_rate":100,"display_name":"Panther"},"score":1,"creation_date":1437641719,"post_id":31582524,"comment_id":51118022,"body_markdown":"if you want this kind of direct null check, you can simply create utility by passing it in list and iterate on it.","body":"if you want this kind of direct null check, you can simply create utility by passing it in list and iterate on it."},{"owner":{"account_id":97082,"reputation":375006,"user_id":263525,"accept_rate":85,"display_name":"Denys S&#233;guret"},"score":2,"creation_date":1437641748,"post_id":31582524,"comment_id":51118051,"body_markdown":"@Panther A list ? A variadic function seems more relevant here.","body":"@Panther A list ? A variadic function seems more relevant here."},{"owner":{"account_id":4443039,"reputation":3322,"user_id":3617127,"accept_rate":100,"display_name":"Panther"},"score":0,"creation_date":1437641908,"post_id":31582524,"comment_id":51118142,"body_markdown":"@DenysS&#233;guret yes that will be better","body":"@DenysS&#233;guret yes that will be better"},{"owner":{"account_id":48638,"reputation":5943,"user_id":144578,"accept_rate":79,"display_name":"Sebastiaan van den Broek"},"score":3,"creation_date":1437642025,"post_id":31582524,"comment_id":51118228,"body_markdown":"One problem I could see from this kind of code is that the exception you would be throwing could not actually tell you the name of the parameter that is null when it shouldn&#39;t be.","body":"One problem I could see from this kind of code is that the exception you would be throwing could not actually tell you the name of the parameter that is null when it shouldn&#39;t be."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1437726350,"post_id":31582524,"comment_id":51161650,"body_markdown":"About your &quot;more challenging example&quot; and steams: This won&#39;t work, either. You are right that the stream itself is evaluated lazily, but the elements you put _into_ the stream are evaluated immediately. See my updated answer.","body":"About your &quot;more challenging example&quot; and steams: This won&#39;t work, either. You are right that the stream itself is evaluated lazily, but the elements you put <i>into</i> the stream are evaluated immediately. See my updated answer."},{"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"score":0,"creation_date":1437726597,"post_id":31582524,"comment_id":51161775,"body_markdown":"There are also [some](http://stackoverflow.com/q/14442299/1639625) [similar](http://stackoverflow.com/q/9066765/1639625) [questions](http://stackoverflow.com/q/10391406/1639625) on the same problem.","body":"There are also <a href=\"http://stackoverflow.com/q/14442299/1639625\">some</a> <a href=\"http://stackoverflow.com/q/9066765/1639625\">similar</a> <a href=\"http://stackoverflow.com/q/10391406/1639625\">questions</a> on the same problem."}],"answers":[{"tags":[],"owner":{"account_id":1801353,"reputation":81710,"user_id":1639625,"display_name":"tobias_k"},"down_vote_count":1,"up_vote_count":66,"is_accepted":false,"score":65,"last_activity_date":1632478050,"creation_date":1437642094,"answer_id":31582740,"question_id":31582524,"body_markdown":"In Java 8, you could use [`Stream.allMatch`][1] to check whether all of the values match a certain condition, such as being `null`. Not much shorter, but maybe a bit easier to read.\r\n\r\n    if (Stream.of(a, b, c).allMatch(x -&gt; x == null)) {\r\n        ...\r\n    }\r\n\r\nAnd analogeously for `anyMatch` and `noneMatch`.\r\n\r\n---\r\n\r\nAbout your &quot;more challenging example&quot;: In this case, I think there is no way around writing a lazy-evaluated conjunction of null-checks, like the one you have:\r\n\r\n    if (a != null &amp;&amp; a.getFoo() != null &amp;&amp; a.getFoo().getBar() != null) {\r\n        ...\r\n    }\r\n\r\nAny of the other approaches, using streams, lists, or var-arg methods, would try to evaluate `a.getFoo()` before `a` has been tested not to be `null`. You could use `Optional` with `map` and method pointers, that will be lazily evaluated one after the other, but whether this makes it any more readable is debatable and may vary from case to case (particularly for longer class names):\r\n\r\n    if (Optional.ofNullable(a).map(A::getFoo).map(B::getBar).isPresent()) {\r\n        ...\r\n    }\r\n\r\n    Bar bar = Optional.ofNullable(a).map(A::getFoo).map(B::getBar).orElse(null);\r\n\r\n\r\nAnother alternative might be to `try` to access the innermost item, but I have a feeling that this is not considered good practice, either:\r\n\r\n    try {\r\n        Bar bar = a.getFoo().getBar();\r\n        ...\r\n    catch (NullPointerException e) {\r\n        ...\r\n    }\r\n\r\nParticularly, this will also catch any other NPEs _after_ accessing that element -- either that, or you have to put only the `Bar bar = ...` in the `try` and everything else in another `if` block after the `try`, nullifying any (questionable) gains in readability or brevity.\r\n\r\n---\r\n\r\nSome languages have a [Safe Navigation Operator][2], but it seems like Java is not one of them. This way, you could use a notation like `a?.getFoo()?.getBar() != null`, where `a?.getFoo()` will just evaluate to `null` if `a` is `null`. You could emulate behavior like this with a custom function and a `lambda`, though, returning an `Optional` or just a value or `null` if you prefer:\r\n\r\n    public static &lt;T&gt; Optional&lt;T&gt; tryGet(Supplier&lt;T&gt; f) {\r\n        try {\r\n            return Optional.of(f.get());\r\n        } catch (NullPointerException e) {\r\n            return Optional.empty();\r\n        }\r\n    }\r\n    \r\n    Optional&lt;Bar&gt; bar = tryGet(() -&gt; a.getFoo().getBar(););\r\n\r\n\r\n\r\n  [1]: http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\r\n  [2]: https://en.wikipedia.org/wiki/Safe_navigation_operator","title":"How to check multiple objects for nullity?","body":"<p>In Java 8, you could use <a href=\"http://docs.oracle.com/javase/8/docs/api/java/util/stream/Stream.html#allMatch-java.util.function.Predicate-\" rel=\"noreferrer\"><code>Stream.allMatch</code></a> to check whether all of the values match a certain condition, such as being <code>null</code>. Not much shorter, but maybe a bit easier to read.</p>\n<pre><code>if (Stream.of(a, b, c).allMatch(x -&gt; x == null)) {\n    ...\n}\n</code></pre>\n<p>And analogeously for <code>anyMatch</code> and <code>noneMatch</code>.</p>\n<hr />\n<p>About your &quot;more challenging example&quot;: In this case, I think there is no way around writing a lazy-evaluated conjunction of null-checks, like the one you have:</p>\n<pre><code>if (a != null &amp;&amp; a.getFoo() != null &amp;&amp; a.getFoo().getBar() != null) {\n    ...\n}\n</code></pre>\n<p>Any of the other approaches, using streams, lists, or var-arg methods, would try to evaluate <code>a.getFoo()</code> before <code>a</code> has been tested not to be <code>null</code>. You could use <code>Optional</code> with <code>map</code> and method pointers, that will be lazily evaluated one after the other, but whether this makes it any more readable is debatable and may vary from case to case (particularly for longer class names):</p>\n<pre><code>if (Optional.ofNullable(a).map(A::getFoo).map(B::getBar).isPresent()) {\n    ...\n}\n\nBar bar = Optional.ofNullable(a).map(A::getFoo).map(B::getBar).orElse(null);\n</code></pre>\n<p>Another alternative might be to <code>try</code> to access the innermost item, but I have a feeling that this is not considered good practice, either:</p>\n<pre><code>try {\n    Bar bar = a.getFoo().getBar();\n    ...\ncatch (NullPointerException e) {\n    ...\n}\n</code></pre>\n<p>Particularly, this will also catch any other NPEs <em>after</em> accessing that element -- either that, or you have to put only the <code>Bar bar = ...</code> in the <code>try</code> and everything else in another <code>if</code> block after the <code>try</code>, nullifying any (questionable) gains in readability or brevity.</p>\n<hr />\n<p>Some languages have a <a href=\"https://en.wikipedia.org/wiki/Safe_navigation_operator\" rel=\"noreferrer\">Safe Navigation Operator</a>, but it seems like Java is not one of them. This way, you could use a notation like <code>a?.getFoo()?.getBar() != null</code>, where <code>a?.getFoo()</code> will just evaluate to <code>null</code> if <code>a</code> is <code>null</code>. You could emulate behavior like this with a custom function and a <code>lambda</code>, though, returning an <code>Optional</code> or just a value or <code>null</code> if you prefer:</p>\n<pre><code>public static &lt;T&gt; Optional&lt;T&gt; tryGet(Supplier&lt;T&gt; f) {\n    try {\n        return Optional.of(f.get());\n    } catch (NullPointerException e) {\n        return Optional.empty();\n    }\n}\n\nOptional&lt;Bar&gt; bar = tryGet(() -&gt; a.getFoo().getBar(););\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1328773,"reputation":37883,"user_id":1273080,"accept_rate":100,"display_name":"Petr Janeček"},"down_vote_count":3,"up_vote_count":68,"is_accepted":true,"score":65,"last_activity_date":1521711837,"creation_date":1437642237,"answer_id":31582796,"question_id":31582524,"body_markdown":"__EDIT 2018:__ As of Apache Commons lang 3.5, there has been [`ObjectUtils.allNotNull()`](https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ObjectUtils.html#allNotNull-java.lang.Object...-) and [`ObjectUtils.anyNotNull()`](https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ObjectUtils.html#anyNotNull-java.lang.Object...-).\r\n\r\n---\r\n\r\nNo.\r\n\r\nNone of [Apache Commons Lang (3.4)](http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ObjectUtils.html), [Google Guava (18)](https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/base/MoreObjects.html) and [Spring (4.1.7)](http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ObjectUtils.html) provide such a utility method.\r\n\r\nYou&#39;ll need to write it on your own if you really, really need it. In modern Java code, I&#39;d probably consider need for such a construct a code smell, though.","title":"How to check multiple objects for nullity?","body":"<p><strong>EDIT 2018:</strong> As of Apache Commons lang 3.5, there has been <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ObjectUtils.html#allNotNull-java.lang.Object...-\" rel=\"noreferrer\"><code>ObjectUtils.allNotNull()</code></a> and <a href=\"https://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ObjectUtils.html#anyNotNull-java.lang.Object...-\" rel=\"noreferrer\"><code>ObjectUtils.anyNotNull()</code></a>.</p>\n\n<hr>\n\n<p>No.</p>\n\n<p>None of <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ObjectUtils.html\" rel=\"noreferrer\">Apache Commons Lang (3.4)</a>, <a href=\"https://google.github.io/guava/releases/snapshot-jre/api/docs/com/google/common/base/MoreObjects.html\" rel=\"noreferrer\">Google Guava (18)</a> and <a href=\"http://docs.spring.io/spring/docs/current/javadoc-api/org/springframework/util/ObjectUtils.html\" rel=\"noreferrer\">Spring (4.1.7)</a> provide such a utility method.</p>\n\n<p>You'll need to write it on your own if you really, really need it. In modern Java code, I'd probably consider need for such a construct a code smell, though.</p>\n"},{"tags":[],"owner":{"account_id":2198054,"reputation":1980,"user_id":1943228,"display_name":"kamwo"},"down_vote_count":2,"up_vote_count":15,"is_accepted":false,"score":13,"last_activity_date":1508320231,"creation_date":1437642342,"answer_id":31582838,"question_id":31582524,"body_markdown":"You could also use something like the following method. It allows you to pass as many parameters as you want:\r\n\r\n    public static boolean isAnyObjectNull(Object... objects) {\r\n        for (Object o: objects) {\r\n            if (o == null) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\nYou call it with as many parameters as you like:\r\n\r\n    isAnyObjectNull(a, b, c, d, e, f);\r\n\r\n----------\r\n\r\nYou could do something similar for `areAllNull`.\r\n\r\n    public static boolean areAllObjectsNull(Object... objects) {\r\n        for (Object o: objects) {\r\n            if (o != null) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n**Note**: you could also use the ternary operator instead of `if (o == null)`. The two methods shown here have no error handling. Adjust it to your needs.","title":"How to check multiple objects for nullity?","body":"<p>You could also use something like the following method. It allows you to pass as many parameters as you want:</p>\n\n<pre><code>public static boolean isAnyObjectNull(Object... objects) {\n    for (Object o: objects) {\n        if (o == null) {\n            return true;\n        }\n    }\n    return false;\n}\n</code></pre>\n\n<p>You call it with as many parameters as you like:</p>\n\n<pre><code>isAnyObjectNull(a, b, c, d, e, f);\n</code></pre>\n\n<hr>\n\n<p>You could do something similar for <code>areAllNull</code>.</p>\n\n<pre><code>public static boolean areAllObjectsNull(Object... objects) {\n    for (Object o: objects) {\n        if (o != null) {\n            return false;\n        }\n    }\n    return true;\n}\n</code></pre>\n\n<p><strong>Note</strong>: you could also use the ternary operator instead of <code>if (o == null)</code>. The two methods shown here have no error handling. Adjust it to your needs.</p>\n"},{"tags":[],"owner":{"account_id":4751994,"reputation":7921,"user_id":3841803,"accept_rate":69,"display_name":"singhakash"},"down_vote_count":3,"up_vote_count":1,"is_accepted":false,"score":-2,"last_activity_date":1437643253,"creation_date":1437642933,"answer_id":31583071,"question_id":31582524,"body_markdown":"You can create a list of you objects and use `yourList.contains(null)` in it.\r\n\r\n    List &lt; Object &gt; obList = new ArrayList &lt; Object &gt; ();\r\n    \r\n    String a = null;\r\n    Integer b = 2;\r\n    Character c = &#39;9&#39;;\r\n    \r\n    obList.add(a);\r\n    obList.add(b);\r\n    obList.add(c);\r\n    \r\n    System.out.println(&quot;List is &quot; + obList);\r\n    \r\n    if (obList.contains(null)) {\r\n    \tSystem.out.println(&quot;contains null&quot;);\r\n    } else {\r\n    \tSystem.out.println(&quot;does not contains null&quot;);\r\n    }\r\n\r\n[**DEMO**][1]\r\n\r\n\r\n  [1]: https://ideone.com/RcaWS1","title":"How to check multiple objects for nullity?","body":"<p>You can create a list of you objects and use <code>yourList.contains(null)</code> in it.</p>\n\n<pre><code>List &lt; Object &gt; obList = new ArrayList &lt; Object &gt; ();\n\nString a = null;\nInteger b = 2;\nCharacter c = '9';\n\nobList.add(a);\nobList.add(b);\nobList.add(c);\n\nSystem.out.println(\"List is \" + obList);\n\nif (obList.contains(null)) {\n    System.out.println(\"contains null\");\n} else {\n    System.out.println(\"does not contains null\");\n}\n</code></pre>\n\n<p><a href=\"https://ideone.com/RcaWS1\" rel=\"nofollow\"><strong>DEMO</strong></a></p>\n"},{"tags":[],"owner":{"account_id":5614120,"reputation":373,"user_id":4446057,"accept_rate":71,"display_name":"viavad"},"down_vote_count":0,"up_vote_count":5,"is_accepted":false,"score":5,"last_activity_date":1635973164,"creation_date":1467892684,"answer_id":38244890,"question_id":31582524,"body_markdown":"# `Objects.requireNonNull`\r\n\r\nIt is possible with help of [`Objects`][1] class and its [`requireNonNull`][2] method.\r\n\r\n    public static void requireNonNull(Object... objects) {\r\n        for (Object object : objects) {\r\n            Objects.requireNonNull(object);\r\n        }\r\n    }\r\n\r\n\r\n  [1]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html\r\n  [2]: https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)","title":"How to check multiple objects for nullity?","body":"<h1><code>Objects.requireNonNull</code></h1>\n<p>It is possible with help of <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html\" rel=\"nofollow noreferrer\"><code>Objects</code></a> class and its <a href=\"https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/util/Objects.html#requireNonNull(T)\" rel=\"nofollow noreferrer\"><code>requireNonNull</code></a> method.</p>\n<pre><code>public static void requireNonNull(Object... objects) {\n    for (Object object : objects) {\n        Objects.requireNonNull(object);\n    }\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1645305,"reputation":468,"user_id":1516951,"display_name":"Vadim Zverev"},"down_vote_count":0,"up_vote_count":3,"is_accepted":false,"score":3,"last_activity_date":1613129276,"creation_date":1613129276,"answer_id":66171051,"question_id":31582524,"body_markdown":"Apache commons-lang3 since version 3.11 has method [ObjectUtils.allNull(Object... values)][1]\r\n\r\n```java\r\nObjectUtils.allNull(obj1, obj2, obj3);\r\n```\r\n\r\n\r\n  [1]: http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ObjectUtils.html#allNull-java.lang.Object...-","title":"How to check multiple objects for nullity?","body":"<p>Apache commons-lang3 since version 3.11 has method <a href=\"http://commons.apache.org/proper/commons-lang/javadocs/api-release/org/apache/commons/lang3/ObjectUtils.html#allNull-java.lang.Object...-\" rel=\"nofollow noreferrer\">ObjectUtils.allNull(Object... values)</a></p>\n<pre class=\"lang-java prettyprint-override\"><code>ObjectUtils.allNull(obj1, obj2, obj3);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":1681986,"reputation":4236,"user_id":1546042,"display_name":"BitfulByte"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1618926502,"creation_date":1618925934,"answer_id":67180117,"question_id":31582524,"body_markdown":"I was looking for a solution, but I don&#39;t have apache as a dependency yet and it felt silly to me to add it just for the allNonNull method. Here is my plain vanilla java solution using [Predicate#and()][1] / [Predicate#or()][2] like this:\r\n\r\n    private static boolean allNonNull(A a) {\r\n        Predicate&lt;A&gt; isNotNull = Objects::nonNull; \r\n        Predicate&lt;A&gt; hasFoo = someA -&gt; someA.foo != null;\r\n        Predicate&lt;A&gt; hasBar = someA -&gt; someA.foo.bar != null;\r\n        return Optional.ofNullable(a)\r\n            .filter(isNotNull.and(hasFoo.and(hasBar)))\r\n            .isPresent();\r\n    }\r\n\r\nNote: for the anyNonNull, simply use the or() method instead of and().\r\n\r\n\r\nWhen invoked, would give the following output:\r\n\r\n        System.out.println(isValid(new A(new Foo(new Bar())))); // true\r\n        System.out.println(isValid(new A(new Foo(null)))); // false\r\n        System.out.println(isValid(new A(null))); // false\r\n        System.out.println(isValid(null)); // false\r\n\r\nClass definitions used:\r\n\r\n    public static class A {\r\n        public A(Foo foo) {\r\n            this.foo = foo;\r\n        }\r\n        Foo foo;\r\n    }\r\n\r\n    public static class Foo {\r\n        public Foo(Bar bar) {\r\n            this.bar = bar;\r\n        }\r\n        Bar bar;\r\n    }\r\n\r\n    public static class Bar { }\r\n\r\n  [1]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html#and-java.util.function.Predicate-\r\n  [2]: https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html#or-java.util.function.Predicate-","title":"How to check multiple objects for nullity?","body":"<p>I was looking for a solution, but I don't have apache as a dependency yet and it felt silly to me to add it just for the allNonNull method. Here is my plain vanilla java solution using <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html#and-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">Predicate#and()</a> / <a href=\"https://docs.oracle.com/javase/8/docs/api/java/util/function/Predicate.html#or-java.util.function.Predicate-\" rel=\"nofollow noreferrer\">Predicate#or()</a> like this:</p>\n<pre><code>private static boolean allNonNull(A a) {\n    Predicate&lt;A&gt; isNotNull = Objects::nonNull; \n    Predicate&lt;A&gt; hasFoo = someA -&gt; someA.foo != null;\n    Predicate&lt;A&gt; hasBar = someA -&gt; someA.foo.bar != null;\n    return Optional.ofNullable(a)\n        .filter(isNotNull.and(hasFoo.and(hasBar)))\n        .isPresent();\n}\n</code></pre>\n<p>Note: for the anyNonNull, simply use the or() method instead of and().</p>\n<p>When invoked, would give the following output:</p>\n<pre><code>    System.out.println(isValid(new A(new Foo(new Bar())))); // true\n    System.out.println(isValid(new A(new Foo(null)))); // false\n    System.out.println(isValid(new A(null))); // false\n    System.out.println(isValid(null)); // false\n</code></pre>\n<p>Class definitions used:</p>\n<pre><code>public static class A {\n    public A(Foo foo) {\n        this.foo = foo;\n    }\n    Foo foo;\n}\n\npublic static class Foo {\n    public Foo(Bar bar) {\n        this.bar = bar;\n    }\n    Bar bar;\n}\n\npublic static class Bar { }\n</code></pre>\n"},{"tags":[],"owner":{"account_id":5063081,"reputation":1381,"user_id":4064011,"display_name":"Domenico"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1658485221,"creation_date":1658485221,"answer_id":73078749,"question_id":31582524,"body_markdown":"Simply as that: \r\n\r\n    Stream.of(a,b,c).allMatch(Objects::nonNull)","title":"How to check multiple objects for nullity?","body":"<p>Simply as that:</p>\n<pre><code>Stream.of(a,b,c).allMatch(Objects::nonNull)\n</code></pre>\n"}],"owner":{"account_id":72569,"reputation":10656,"user_id":209502,"accept_rate":67,"display_name":"Krzysztof Wolny"},"comment_count":7,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":82564,"favorite_count":0,"down_vote_count":2,"up_vote_count":87,"accepted_answer_id":31582796,"answer_count":8,"score":85,"last_activity_date":1658485221,"creation_date":1437641561,"question_id":31582524,"body_markdown":"Often, I can see a code constructs like following:\r\n\r\n    if(a == null || b == null || c == null){\r\n        //...\r\n    }\r\n\r\n\r\nI wonder if there is any widely used library (Google, Apache, etc.) to check against nullity for multiple objects at once, e.g.:\r\n  \r\n\r\n    if(anyIsNull(a, b, c)){\r\n        //...\r\n    }\r\n\r\nor\r\n\r\n    if(allAreNulls(a, b, c)){\r\n        //...\r\n    }\r\n\r\n**UPDATE:**\r\n\r\n 1. I perfectly know how to write it by myself\r\n 2. I know it can be the result of the poor program structure but it&#39;s not a case here\r\n 3. Let&#39;s make it more challenging and replace original example with something like this:\r\n\r\n        if(a != null &amp;&amp; a.getFoo() != null &amp;&amp; a.getFoo().getBar() != null){\r\n            //...\r\n        }\r\n\r\n**UPDATE 2:**\r\n\r\nI&#39;ve created a pull request for Apache Commons Lang library to fix this gap:\r\n\r\n - Issue: https://issues.apache.org/jira/browse/LANG-781\r\n - PR: https://github.com/apache/commons-lang/pull/108\r\n\r\nThese will be incorporated in commons-lang, version 3.5:\r\n\r\n - `anyNotNull (Object... values)`\r\n - `allNotNull (Object... values)`\r\n","title":"How to check multiple objects for nullity?","body":"<p>Often, I can see a code constructs like following:</p>\n\n<pre><code>if(a == null || b == null || c == null){\n    //...\n}\n</code></pre>\n\n<p>I wonder if there is any widely used library (Google, Apache, etc.) to check against nullity for multiple objects at once, e.g.:</p>\n\n<pre><code>if(anyIsNull(a, b, c)){\n    //...\n}\n</code></pre>\n\n<p>or</p>\n\n<pre><code>if(allAreNulls(a, b, c)){\n    //...\n}\n</code></pre>\n\n<p><strong>UPDATE:</strong></p>\n\n<ol>\n<li>I perfectly know how to write it by myself</li>\n<li>I know it can be the result of the poor program structure but it's not a case here</li>\n<li><p>Let's make it more challenging and replace original example with something like this:</p>\n\n<pre><code>if(a != null &amp;&amp; a.getFoo() != null &amp;&amp; a.getFoo().getBar() != null){\n    //...\n}\n</code></pre></li>\n</ol>\n\n<p><strong>UPDATE 2:</strong></p>\n\n<p>I've created a pull request for Apache Commons Lang library to fix this gap:</p>\n\n<ul>\n<li>Issue: <a href=\"https://issues.apache.org/jira/browse/LANG-781\" rel=\"noreferrer\">https://issues.apache.org/jira/browse/LANG-781</a></li>\n<li>PR: <a href=\"https://github.com/apache/commons-lang/pull/108\" rel=\"noreferrer\">https://github.com/apache/commons-lang/pull/108</a></li>\n</ul>\n\n<p>These will be incorporated in commons-lang, version 3.5:</p>\n\n<ul>\n<li><code>anyNotNull (Object... values)</code></li>\n<li><code>allNotNull (Object... values)</code></li>\n</ul>\n"},{"tags":["java","spring","jpa","spring-boot"],"answers":[{"tags":[],"owner":{"account_id":4946278,"reputation":2015,"user_id":3981536,"display_name":"Jos"},"down_vote_count":1,"up_vote_count":0,"is_accepted":false,"score":-1,"last_activity_date":1519474227,"creation_date":1519473565,"answer_id":48962606,"question_id":48962551,"body_markdown":"Your repository interface method returns `A.class` type object, where as your query returns `String (id)`\r\n\r\nTry changing the query to \r\n`SELECT * FROM..`\r\n\r\nOr changing the method signature like\r\n`String getMerchantSaleTxn(...`\r\n\r\nEdit\r\n----\r\nFor storing data from one table other, you have to do something like below\r\n\r\n\r\n    B b = bRepository.findByMyId(myId);\r\n    A a = b.getA();  //some method that converts B to A\r\n    aRepository.save(a);\r\n\r\nbRepository method\r\n\r\n    @Query(&quot;select * from b where myId=:myId&quot;)\r\n    B findByMyId(myId);\r\n\r\n","title":"Failed to &gt; convert from type [java.lang.Object[]] to type &gt; [com.rh.app.batch.domain.A] java","body":"<p>Your repository interface method returns <code>A.class</code> type object, where as your query returns <code>String (id)</code></p>\n\n<p>Try changing the query to \n<code>SELECT * FROM..</code></p>\n\n<p>Or changing the method signature like\n<code>String getMerchantSaleTxn(...</code></p>\n\n<h2>Edit</h2>\n\n<p>For storing data from one table other, you have to do something like below</p>\n\n<pre><code>B b = bRepository.findByMyId(myId);\nA a = b.getA();  //some method that converts B to A\naRepository.save(a);\n</code></pre>\n\n<p>bRepository method</p>\n\n<pre><code>@Query(\"select * from b where myId=:myId\")\nB findByMyId(myId);\n</code></pre>\n"},{"tags":[],"owner":{"account_id":4378231,"reputation":1516,"user_id":3570659,"display_name":"Eirini Graonidou"},"down_vote_count":1,"up_vote_count":3,"is_accepted":true,"score":2,"last_activity_date":1519475874,"creation_date":1519475874,"answer_id":48962954,"question_id":48962551,"body_markdown":"I am not sure if that is what you are looking for but, when you want to map the results of a complex query into one object, you can use the [SqlResultSetMapping][1] annotation:\r\n\r\nAssuming you have a class like.\r\n\r\n    public class PersonDTO {\r\n    \r\n    private String name;\r\n    private Date birthDate;\r\n    //omit other attributes \r\n    \r\n    public Person(String name, Date birthDate) {\r\n      this.name = name;\r\n      this.birthDate = birthDate;\r\n       \r\n    }\r\n\r\nyou decorate it as follows.\r\n\r\n    @SqlResultSetMapping(name=&quot;PersonDTOMapping&quot;,\r\n                         classes=&quot;@ConstructorResult(\r\n                         targetClass= PersonDTO.class,\r\n                         columns = {@ColumnResult(name=&quot;name&quot;),\r\n                                    @ColumnResult(name=&quot;birhDate&quot;)}))\r\n\r\nand your query becomes:\r\n\r\n\r\n    PersonDTO person = (PersonDTO) em.createNativeQuery(&quot;select p.name, p.birthDate as date from person where p.id=1&quot;, &quot;PersonDTOMapping&quot;).getSingleResult();\r\n\r\n\r\nplease let me know, if this is what you re looking for.\r\n\r\n\r\n  [1]: https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/SqlResultSetMapping.html","title":"Failed to &gt; convert from type [java.lang.Object[]] to type &gt; [com.rh.app.batch.domain.A] java","body":"<p>I am not sure if that is what you are looking for but, when you want to map the results of a complex query into one object, you can use the <a href=\"https://docs.jboss.org/hibernate/jpa/2.1/api/javax/persistence/SqlResultSetMapping.html\" rel=\"nofollow noreferrer\">SqlResultSetMapping</a> annotation:</p>\n\n<p>Assuming you have a class like.</p>\n\n<pre><code>public class PersonDTO {\n\nprivate String name;\nprivate Date birthDate;\n//omit other attributes \n\npublic Person(String name, Date birthDate) {\n  this.name = name;\n  this.birthDate = birthDate;\n\n}\n</code></pre>\n\n<p>you decorate it as follows.</p>\n\n<pre><code>@SqlResultSetMapping(name=\"PersonDTOMapping\",\n                     classes=\"@ConstructorResult(\n                     targetClass= PersonDTO.class,\n                     columns = {@ColumnResult(name=\"name\"),\n                                @ColumnResult(name=\"birhDate\")}))\n</code></pre>\n\n<p>and your query becomes:</p>\n\n<pre><code>PersonDTO person = (PersonDTO) em.createNativeQuery(\"select p.name, p.birthDate as date from person where p.id=1\", \"PersonDTOMapping\").getSingleResult();\n</code></pre>\n\n<p>please let me know, if this is what you re looking for.</p>\n"},{"tags":[],"owner":{"account_id":16149493,"reputation":384,"user_id":11658289,"display_name":"Roman Motovilov"},"down_vote_count":0,"up_vote_count":2,"is_accepted":false,"score":2,"last_activity_date":1592315622,"creation_date":1592315622,"answer_id":62410183,"question_id":48962551,"body_markdown":"In my case, the problem was solved by adding the default constructor.\r\nFor example:\r\n\r\n    public Person() {\r\n    }","title":"Failed to &gt; convert from type [java.lang.Object[]] to type &gt; [com.rh.app.batch.domain.A] java","body":"<p>In my case, the problem was solved by adding the default constructor.\nFor example:</p>\n\n<pre><code>public Person() {\n}\n</code></pre>\n"},{"tags":[],"owner":{"account_id":15883816,"reputation":63,"user_id":11579483,"display_name":"Mike Packer"},"down_vote_count":0,"up_vote_count":1,"is_accepted":false,"score":1,"last_activity_date":1621374820,"creation_date":1621374820,"answer_id":67594389,"question_id":48962551,"body_markdown":"The repository will map Objects on the same repository only.  If the classes do not match you get that error.\r\n\r\nYou have **JpaRepository&lt;B, String&gt;**\r\n\r\nwhich is a repository for a Object type B\r\n\r\nBut you are converting to an Type **Object A**.  Do it in a Repository for A and it will work(assuming you have the right columns). ","title":"Failed to &gt; convert from type [java.lang.Object[]] to type &gt; [com.rh.app.batch.domain.A] java","body":"<p>The repository will map Objects on the same repository only.  If the classes do not match you get that error.</p>\n<p>You have <strong>JpaRepository&lt;B, String&gt;</strong></p>\n<p>which is a repository for a Object type B</p>\n<p>But you are converting to an Type <strong>Object A</strong>.  Do it in a Repository for A and it will work(assuming you have the right columns).</p>\n"},{"tags":[],"owner":{"account_id":22777516,"reputation":1,"user_id":16933932,"display_name":"Minoosh Reddy"},"down_vote_count":0,"up_vote_count":0,"is_accepted":false,"score":0,"last_activity_date":1658484580,"creation_date":1658484342,"answer_id":73078570,"question_id":48962551,"body_markdown":"**@NamedNativeQuery** along with **@SqlResultSetMapping** is the solution to this . This is useful if you want to do some manipulation on that before sending it to REST client . I personally just used Object in place of DTO class and worked for me . This is much simpler in coding terms but not sure in terms of security &amp; so . Make sure you are sending only required data using this . The below is the code in your case (Just replace A with Object).\r\n\r\n        public interface repository extends JpaRepository&lt;B, String&gt; {\r\n           @Query(value = &quot; SELECT ID AS id FROM B...LEFT JOIN C ... &quot;, nativeQuery = true)\r\n           Object getSale(@Param(&quot;m&quot;) String m, @Param(&quot;date&quot;) String stmtDate);\r\n    }","title":"Failed to &gt; convert from type [java.lang.Object[]] to type &gt; [com.rh.app.batch.domain.A] java","body":"<p><strong>@NamedNativeQuery</strong> along with <strong>@SqlResultSetMapping</strong> is the solution to this . This is useful if you want to do some manipulation on that before sending it to REST client . I personally just used Object in place of DTO class and worked for me . This is much simpler in coding terms but not sure in terms of security &amp; so . Make sure you are sending only required data using this . The below is the code in your case (Just replace A with Object).</p>\n<pre><code>    public interface repository extends JpaRepository&lt;B, String&gt; {\n       @Query(value = &quot; SELECT ID AS id FROM B...LEFT JOIN C ... &quot;, nativeQuery = true)\n       Object getSale(@Param(&quot;m&quot;) String m, @Param(&quot;date&quot;) String stmtDate);\n}\n</code></pre>\n"}],"owner":{"account_id":6835553,"reputation":2555,"user_id":5257704,"accept_rate":96,"display_name":"Tony"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":18593,"favorite_count":0,"down_vote_count":0,"up_vote_count":2,"accepted_answer_id":48962954,"answer_count":5,"score":2,"last_activity_date":1658484580,"creation_date":1519473267,"question_id":48962551,"body_markdown":" I tried to get data from table B and saved it into Class Object A \r\n\r\n     A sale = repository.getSale(m, stmtDate);\r\n\r\n**repository**\r\n\r\n    public interface repository extends JpaRepository&lt;B, String&gt; {\r\n    @Query(value = &quot; SELECT ID AS id FROM B...LEFT JOIN C ... &quot;, nativeQuery = true)\r\n        A getSale(@Param(&quot;m&quot;) String m, @Param(&quot;date&quot;) String stmtDate);\r\n    }\r\n\r\n\r\n**Class A**\r\n\r\n    @Entity\r\n    public class A implements Serializable {\r\n    \r\n     private String id; \r\n     public String getID() {\r\n            return id;\r\n        }\r\n    \r\n        public void setID(String id) {\r\n            this.id = id;\r\n        }\r\n      }\r\n        .....\r\n    \r\n\r\n\r\n**Error**\r\n\r\n&gt; org.springframework.core.convert.ConversionFailedException: Failed to\r\n&gt; convert from type [java.lang.Object[]] to type\r\n&gt; [com.rh.app.batch.domain.A] for value\r\n&gt; &#39;{0e89c64c-d840-45c5-9c6a-bda52fbaa7d1, 201802, 5.000, 1, 0, 0}&#39;;\r\n&gt; nested exception is\r\n&gt; org.springframework.core.convert.ConverterNotFoundException: No\r\n&gt; converter found capable of converting from type [java.lang.String] to\r\n&gt; type [com.rh.app.batch.domain.A]","title":"Failed to &gt; convert from type [java.lang.Object[]] to type &gt; [com.rh.app.batch.domain.A] java","body":"<p>I tried to get data from table B and saved it into Class Object A </p>\n\n<pre><code> A sale = repository.getSale(m, stmtDate);\n</code></pre>\n\n<p><strong>repository</strong></p>\n\n<pre><code>public interface repository extends JpaRepository&lt;B, String&gt; {\n@Query(value = \" SELECT ID AS id FROM B...LEFT JOIN C ... \", nativeQuery = true)\n    A getSale(@Param(\"m\") String m, @Param(\"date\") String stmtDate);\n}\n</code></pre>\n\n<p><strong>Class A</strong></p>\n\n<pre><code>@Entity\npublic class A implements Serializable {\n\n private String id; \n public String getID() {\n        return id;\n    }\n\n    public void setID(String id) {\n        this.id = id;\n    }\n  }\n    .....\n</code></pre>\n\n<p><strong>Error</strong></p>\n\n<blockquote>\n  <p>org.springframework.core.convert.ConversionFailedException: Failed to\n  convert from type [java.lang.Object[]] to type\n  [com.rh.app.batch.domain.A] for value\n  '{0e89c64c-d840-45c5-9c6a-bda52fbaa7d1, 201802, 5.000, 1, 0, 0}';\n  nested exception is\n  org.springframework.core.convert.ConverterNotFoundException: No\n  converter found capable of converting from type [java.lang.String] to\n  type [com.rh.app.batch.domain.A]</p>\n</blockquote>\n"},{"tags":["java","maven","testng","maven-surefire-plugin"],"answers":[{"tags":[],"owner":{"account_id":2269095,"reputation":1522,"user_id":1996991,"accept_rate":100,"display_name":"Paweł Kaczorowski"},"down_vote_count":0,"up_vote_count":0,"is_accepted":true,"score":0,"last_activity_date":1395829170,"creation_date":1395829170,"answer_id":22657869,"question_id":22225519,"body_markdown":"Dude, have you checked http://testng.org/doc/documentation-main.html#beanshell ?\r\n\r\nIn surefire plugin attach testng suit config:\r\n\r\n\t&lt;configuration&gt;\r\n\t\t&lt;suiteXmlFiles&gt;\r\n\t        &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\r\n\t    &lt;/suiteXmlFiles&gt;\r\n    ...\r\n\r\nin testng.xml\r\n\r\n    &lt;suite name=&quot;Emap test suite&quot;&gt;\r\n\t&lt;test name=&quot;Emap tests&quot;&gt;\r\n\t\t&lt;method-selectors&gt;\r\n\t\t\t&lt;method-selector&gt;\r\n\t\t\t\t&lt;script language=&quot;beanshell&quot;&gt;&lt;![CDATA[        \r\n\t\t\t\taddClassPath(&quot;target/test-classes&quot; );      \r\n                return com.yourpackage.shouldExecuteTest(groups, System.getProperty(&quot;groups&quot;)); \t\t\r\n       \t\t\t]]&gt;\r\n\r\nIn static Java method shouldExecuteTest you can implement any rule you want!\r\n\r\nAccoriding to doc, you can use those vars:\r\n\r\n    java.lang.reflect.Method method:  the current test method.\r\n    org.testng.ITestNGMethod testngMethod:  the description of the current test method\r\n    java.util.Map&lt;String, String&gt; groups:  a map of the groups the current test method belongs to.\r\n\r\nSystem.getProperty(&quot;groups&quot;) is just -Dgroups=xxx passed from mvn invocation.\r\n\r\nWorks like a charm!","title":"TestNG mvn run tests without group","body":"<p>Dude, have you checked <a href=\"http://testng.org/doc/documentation-main.html#beanshell\" rel=\"nofollow\">http://testng.org/doc/documentation-main.html#beanshell</a> ?</p>\n\n<p>In surefire plugin attach testng suit config:</p>\n\n<pre><code>&lt;configuration&gt;\n    &lt;suiteXmlFiles&gt;\n        &lt;suiteXmlFile&gt;testng.xml&lt;/suiteXmlFile&gt;\n    &lt;/suiteXmlFiles&gt;\n...\n</code></pre>\n\n<p>in testng.xml</p>\n\n<pre><code>&lt;suite name=\"Emap test suite\"&gt;\n&lt;test name=\"Emap tests\"&gt;\n    &lt;method-selectors&gt;\n        &lt;method-selector&gt;\n            &lt;script language=\"beanshell\"&gt;&lt;![CDATA[        \n            addClassPath(\"target/test-classes\" );      \n            return com.yourpackage.shouldExecuteTest(groups, System.getProperty(\"groups\"));         \n            ]]&gt;\n</code></pre>\n\n<p>In static Java method shouldExecuteTest you can implement any rule you want!</p>\n\n<p>Accoriding to doc, you can use those vars:</p>\n\n<pre><code>java.lang.reflect.Method method:  the current test method.\norg.testng.ITestNGMethod testngMethod:  the description of the current test method\njava.util.Map&lt;String, String&gt; groups:  a map of the groups the current test method belongs to.\n</code></pre>\n\n<p>System.getProperty(\"groups\") is just -Dgroups=xxx passed from mvn invocation.</p>\n\n<p>Works like a charm!</p>\n"}],"owner":{"account_id":2269095,"reputation":1522,"user_id":1996991,"accept_rate":100,"display_name":"Paweł Kaczorowski"},"comment_count":0,"delete_vote_count":0,"reopen_vote_count":0,"close_vote_count":0,"is_answered":true,"view_count":1505,"favorite_count":0,"down_vote_count":0,"up_vote_count":1,"accepted_answer_id":22657869,"answer_count":1,"score":1,"last_activity_date":1658484389,"creation_date":1394111286,"question_id":22225519,"body_markdown":"I am using TestNG and Maven with surefire plugin to run tests.\r\nI have:\r\n\r\n    @Test(groups={&quot;groupA&quot;})\r\n    TestA{}\r\n\r\n    @Test\r\n    TestB\r\n\r\nI would like to have possibility to run:\r\n\r\n    mvn test \r\n  should invoke all test without any group\r\n\r\n    mvn test -Dgroups=groupA\r\nshould invoke only groupA tests ( this works by default but just added here to have it working with previous option  )\r\n\r\nI tried to configure surefire like:\r\n\r\n    &lt;plugin&gt;\r\n\t &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t &lt;version&gt;2.16&lt;/version&gt;\r\n\t &lt;configuration&gt;\r\n\t   &lt;excludedGroups&gt;groupA&lt;/excludedGroups&gt;\r\n     &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n**mvn test** works as expected, but after  \r\n**mvn test -Dgroups=groupA**\r\nno tests are executed\r\n\r\n**Edit**\r\n\r\nI found solution here:\r\nhttps://labs.consol.de/blog/maven/citrus-and-testng-groups/\r\n\r\n    &lt;!-- TestNG groups --&gt;\r\n    &lt;testGroups&gt;&lt;/testGroups&gt;\r\n    &lt;testGroupsExcluded&gt;groupA&lt;/testGroupsExcluded&gt;\r\n    &lt;!-- /TestNG groups--&gt;\r\n    ...\r\n    &lt;plugin&gt;\r\n\t  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n\t  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n\t  &lt;version&gt;2.16&lt;/version&gt;\r\n\t  &lt;configuration&gt;\r\n        &lt;groups&gt;${testGroups}&lt;/groups&gt;\r\n\t    &lt;excludedGroups&gt;${testGroupsExcluded}&lt;/excludedGroups&gt;\r\n      &lt;/configuration&gt;\r\n    &lt;/plugin&gt;\r\n    ...\r\n\r\n    &lt;profiles&gt;\r\n      &lt;profile&gt;\r\n        &lt;id&gt;a-testes&lt;/id&gt;\r\n        &lt;properties&gt;\r\n          &lt;testGroups&gt;a&lt;/testGroups&gt;\r\n          &lt;testGroupsExcluded&gt;&lt;/testGroupsExcluded&gt;\r\n        &lt;/properties&gt;\r\n      &lt;/profile&gt;\r\n    &lt;/profiles&gt;\r\n\r\nBut there is one problem with this solution. It works fine when we want run just always one groups of tests, for example **mvn test -P a-tests**, but when we will add another group, let&#39;s say b-tests, then after **mvn test -P a-tests, b-tests** only one group will be executed because last defined profile will overide properties... Any ideas how to combine **testGroupsExcluded**, **testGroups** properties from multiple profiles?\r\n    &lt;/plugin&gt;\r\n\r\n**Edit 2**\r\n\r\nI just ended with solution\r\n\r\n     &lt;properties&gt;\r\n       &lt;testGroups&gt;unit&lt;/testGroups&gt;\r\n     &lt;/properties&gt;\r\n     ...\r\n     &lt;plugin&gt;\r\n       &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\r\n       &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\r\n       &lt;version&gt;2.16&lt;/version&gt;\r\n       &lt;configuration&gt;\r\n         &lt;groups&gt;${testGroups}&lt;/groups&gt;\r\n       &lt;/configuration&gt;\r\n     &lt;/plugin&gt;\r\n\r\nBut I had to assign all my tests explicitly to groups (all unassigned tests now are &#39;unit&#39;), but now I can call:\r\n\r\n**mvn test** To invoke all tests marked as unit\r\n\r\n**mvn test -DtestGroups=groupA, groupB**  To invoke any group tests...\r\n","title":"TestNG mvn run tests without group","body":"<p>I am using TestNG and Maven with surefire plugin to run tests.\nI have:</p>\n<pre><code>@Test(groups={&quot;groupA&quot;})\nTestA{}\n\n@Test\nTestB\n</code></pre>\n<p>I would like to have possibility to run:</p>\n<pre><code>mvn test \n</code></pre>\n<p>should invoke all test without any group</p>\n<pre><code>mvn test -Dgroups=groupA\n</code></pre>\n<p>should invoke only groupA tests ( this works by default but just added here to have it working with previous option  )</p>\n<p>I tried to configure surefire like:</p>\n<pre><code>&lt;plugin&gt;\n &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n &lt;version&gt;2.16&lt;/version&gt;\n &lt;configuration&gt;\n   &lt;excludedGroups&gt;groupA&lt;/excludedGroups&gt;\n &lt;/configuration&gt;\n&lt;/plugin&gt;\n</code></pre>\n<p><strong>mvn test</strong> works as expected, but after<br />\n<strong>mvn test -Dgroups=groupA</strong>\nno tests are executed</p>\n<p><strong>Edit</strong></p>\n<p>I found solution here:\n<a href=\"https://labs.consol.de/blog/maven/citrus-and-testng-groups/\" rel=\"nofollow noreferrer\">https://labs.consol.de/blog/maven/citrus-and-testng-groups/</a></p>\n<pre><code>&lt;!-- TestNG groups --&gt;\n&lt;testGroups&gt;&lt;/testGroups&gt;\n&lt;testGroupsExcluded&gt;groupA&lt;/testGroupsExcluded&gt;\n&lt;!-- /TestNG groups--&gt;\n...\n&lt;plugin&gt;\n  &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n  &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n  &lt;version&gt;2.16&lt;/version&gt;\n  &lt;configuration&gt;\n    &lt;groups&gt;${testGroups}&lt;/groups&gt;\n    &lt;excludedGroups&gt;${testGroupsExcluded}&lt;/excludedGroups&gt;\n  &lt;/configuration&gt;\n&lt;/plugin&gt;\n...\n\n&lt;profiles&gt;\n  &lt;profile&gt;\n    &lt;id&gt;a-testes&lt;/id&gt;\n    &lt;properties&gt;\n      &lt;testGroups&gt;a&lt;/testGroups&gt;\n      &lt;testGroupsExcluded&gt;&lt;/testGroupsExcluded&gt;\n    &lt;/properties&gt;\n  &lt;/profile&gt;\n&lt;/profiles&gt;\n</code></pre>\n<p>But there is one problem with this solution. It works fine when we want run just always one groups of tests, for example <strong>mvn test -P a-tests</strong>, but when we will add another group, let's say b-tests, then after <strong>mvn test -P a-tests, b-tests</strong> only one group will be executed because last defined profile will overide properties... Any ideas how to combine <strong>testGroupsExcluded</strong>, <strong>testGroups</strong> properties from multiple profiles?\n</p>\n<p><strong>Edit 2</strong></p>\n<p>I just ended with solution</p>\n<pre><code> &lt;properties&gt;\n   &lt;testGroups&gt;unit&lt;/testGroups&gt;\n &lt;/properties&gt;\n ...\n &lt;plugin&gt;\n   &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;\n   &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;\n   &lt;version&gt;2.16&lt;/version&gt;\n   &lt;configuration&gt;\n     &lt;groups&gt;${testGroups}&lt;/groups&gt;\n   &lt;/configuration&gt;\n &lt;/plugin&gt;\n</code></pre>\n<p>But I had to assign all my tests explicitly to groups (all unassigned tests now are 'unit'), but now I can call:</p>\n<p><strong>mvn test</strong> To invoke all tests marked as unit</p>\n<p><strong>mvn test -DtestGroups=groupA, groupB</strong>  To invoke any group tests...</p>\n"}],"has_more":true,"quota_max":10000,"quota_remaining":8826,"page":1166,"page_size":100}
